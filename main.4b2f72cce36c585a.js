(self.webpackChunkvisitor_kiosk=self.webpackChunkvisitor_kiosk||[]).push([[792],{8883:(At,ue,a)=>{"use strict";a.d(ue,{u:()=>W});var t=a(177),n=a(9417),f=a(2091),v=a(494),b=a(8834),C=a(5416),g=a(4006),S=a(3719),h=a(9631),y=a(9183),O=a(3953),m=a(6600);let L=(()=>{class ne{static#e=this.\u0275fac=function(Ae){return new(Ae||ne)};static#t=this.\u0275mod=O.$C({type:ne});static#n=this.\u0275inj=O.G2t({imports:[m.yE]})}return ne})();var l=a(850),$=a(2798),R=a(6471),F=a(9115),P=a(6665),k=a(2765),V=a(5951),K=a(8030);a(2333),a(2357);a(9536);const w=[b.Hl,C._T,g.hM,S.RG,h.fS,y.D6,L,l.jL,$.Ve,R.YN,m.pZ,F.Cn,P.vF,k.g7,V.Wk],j=[v.E9];let W=(()=>{class ne{static#e=this.\u0275fac=function(Ae){return new(Ae||ne)};static#t=this.\u0275mod=O.$C({type:ne});static#n=this.\u0275inj=O.G2t({imports:[t.MD,n.YN,n.X1,K.hI,f.iI,w,j,K.hI,b.Hl,C._T,g.hM,S.RG,h.fS,y.D6,L,l.jL,$.Ve,R.YN,m.pZ,F.Cn,P.vF,k.g7,V.Wk,v.E9]})}return ne})()},9536:(At,ue,a)=>{"use strict";a.d(ue,{J:()=>g});var t=a(3953),n=a(177),f=a(6600),v=a(9183);function b(S,h){if(1&S){const y=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(y);const m=t.XpG();return t.Njj(m.takePhoto())}),t.EFF(1," Take Photo "),t.k0s()}}function C(S,h){if(1&S){const y=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(y);const m=t.XpG();return t.Njj(m.cancelPhoto())}),t.EFF(1," Cancel "),t.k0s(),t.j41(2,"button",12),t.bIt("click",function(){t.eBV(y);const m=t.XpG();return t.Njj(m.acceptPhoto())}),t.EFF(3,"Accept"),t.k0s()}}let g=(()=>{class S{constructor(){this.photoAccepted=new t.bkB,this.hasPhoto=!1,this.canvasContext=null,this.constraints={audio:!1,video:{width:{min:360,max:360},height:{min:400,max:400}}},this.imgSrc=null}ngOnInit(){setTimeout(()=>this.getCanvasContext(),500)}ngOnDestroy(){this.stopCapture(),this.video=null,this.canvasContext=null,this.canvas=null,this.imgSrc=null}startCapture(){if(this.imgSrc=null,this.video=document.getElementById("video"),!this.video)return setTimeout(()=>this.startCapture(),200);navigator.mediaDevices.getUserMedia(this.constraints).then(y=>{this.video.srcObject=y})}stopCapture(){this.video?.srcObject&&this.video.srcObject.getVideoTracks().forEach(y=>y.stop())}getCanvasContext(){if(this.canvas=document.getElementById("canvas"),!this.canvas)return setTimeout(()=>this.getCanvasContext(),200);this.canvasContext=this.canvas.getContext("2d"),setTimeout(()=>this.startCapture(),200)}takePhoto(){this.canvasContext.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.hasPhoto=!0,this.stopCapture()}cancelPhoto(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.hasPhoto=!1,this.startCapture()}acceptPhoto(){try{this.imgSrc=this.canvas.toDataURL("image/jpeg",.75),this.photoAccepted.emit(this.imgSrc)}catch(y){console.error("TakePhotoComponent::acceptPhoto Error converting image",y),this.photoAccepted.emit(null),this.cancelPhoto()}}static#e=this.\u0275fac=function(O){return new(O||S)};static#t=this.\u0275cmp=t.VBU({type:S,selectors:[["a-take-photo"]],hostVars:2,hostBindings:function(O,m){2&O&&t.AVh("has-photo",m.hasPhoto)},outputs:{photoAccepted:"photoAccepted"},decls:12,vars:2,consts:[["video",""],["canvas",""],["accept_state",""],["name","camera",1,"flex","flex-col","items-center","justify-center","rounded","overflow-hidden","relative"],["diameter","32"],[1,"text"],["id","video","autoplay","","width","360","height","400",1,"absolute","inset-0"],["id","canvas","width","360","height","400",1,"absolute","inset-0"],[1,"flex","items-center","justify-center","mt-4","space-x-2"],["class","take-photo","btn","","matRipple","",3,"click",4,"ngIf","ngIfElse"],["btn","","matRipple","",1,"take-photo",3,"click"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click"]],template:function(O,m){if(1&O&&(t.j41(0,"div",3),t.nrm(1,"mat-spinner",4),t.j41(2,"div",5),t.EFF(3,"Please wait..."),t.k0s(),t.nrm(4,"video",6,0)(6,"canvas",7,1),t.k0s(),t.j41(8,"div",8),t.DNE(9,b,2,0,"button",9),t.k0s(),t.DNE(10,C,4,0,"ng-template",null,2,t.C5r)),2&O){const E=t.sdS(11);t.R7$(9),t.Y8G("ngIf",!m.hasPhoto)("ngIfElse",E)}},dependencies:[n.bT,f.r6,v.LG],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}[name=camera][_ngcontent-%COMP%]{width:22.5rem;height:25rem}button[_ngcontent-%COMP%]{width:8rem}"]})}return S})()},8933:(At,ue,a)=>{"use strict";var t=a(345),n=a(3953),f=a(9969);function b(r){return new n.wOt(3e3,!1)}function Ve(r){switch(r.length){case 0:return new f.sf;case 1:return r[0];default:return new f.ui(r)}}function We(r,s,c=new Map,p=new Map){const T=[],B=[];let Z=-1,pe=null;if(s.forEach(xe=>{const it=xe.get("offset"),St=it==Z,xt=St&&pe||new Map;xe.forEach((qt,ln)=>{let an=ln,yn=qt;if("offset"!==ln)switch(an=r.normalizePropertyName(an,T),yn){case f.FX:yn=c.get(ln);break;case f.kp:yn=p.get(ln);break;default:yn=r.normalizeStyleValue(ln,an,yn,T)}xt.set(an,yn)}),St||B.push(xt),pe=xt,Z=it}),T.length)throw function Q(r){return new n.wOt(3502,!1)}();return B}function lt(r,s,c,p){switch(s){case"start":r.onStart(()=>p(c&&nt(c,"start",r)));break;case"done":r.onDone(()=>p(c&&nt(c,"done",r)));break;case"destroy":r.onDestroy(()=>p(c&&nt(c,"destroy",r)))}}function nt(r,s,c){const B=$e(r.element,r.triggerName,r.fromState,r.toState,s||r.phaseName,c.totalTime??r.totalTime,!!c.disabled),Z=r._data;return null!=Z&&(B._data=Z),B}function $e(r,s,c,p,T="",B=0,Z){return{element:r,triggerName:s,fromState:c,toState:p,phaseName:T,totalTime:B,disabled:!!Z}}function Ie(r,s,c){let p=r.get(s);return p||r.set(s,p=c),p}function me(r){const s=r.indexOf(":");return[r.substring(1,s),r.slice(s+1)]}const De=typeof document>"u"?null:document.documentElement;function ke(r){const s=r.parentNode||r.host||null;return s===De?null:s}let Ne=null,at=!1;function Se(r,s){for(;s;){if(s===r)return!0;s=ke(s)}return!1}function ve(r,s,c){if(c)return Array.from(r.querySelectorAll(s));const p=r.querySelector(s);return p?[p]:[]}let ie=(()=>{class r{validateStyleProperty(c){return function Lt(r){Ne||(Ne=function Ot(){return typeof document<"u"?document.body:null}()||{},at=!!Ne.style&&"WebkitAppearance"in Ne.style);let s=!0;return Ne.style&&!function Qe(r){return"ebkit"==r.substring(1,6)}(r)&&(s=r in Ne.style,!s&&at&&(s="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ne.style)),s}(c)}containsElement(c,p){return Se(c,p)}getParentElement(c){return ke(c)}query(c,p,T){return ve(c,p,T)}computeStyle(c,p,T){return T||""}animate(c,p,T,B,Z,pe=[],xe){return new f.sf(T,B)}static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})();class Y{static#e=this.NOOP=new ie}class ye{}const Ft=1e3,Rt="ng-enter",en="ng-leave",ht="ng-trigger",pt=".ng-trigger",Ct="ng-animating",Mt=".ng-animating";function $t(r){if("number"==typeof r)return r;const s=r.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:nn(parseFloat(s[1]),s[2])}function nn(r,s){return"s"===s?r*Ft:r}function Sn(r,s,c){return r.hasOwnProperty("duration")?r:function In(r,s,c){let T,B=0,Z="";if("string"==typeof r){const pe=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return s.push(b()),{duration:0,delay:0,easing:""};T=nn(parseFloat(pe[1]),pe[2]);const xe=pe[3];null!=xe&&(B=nn(parseFloat(xe),pe[4]));const it=pe[5];it&&(Z=it)}else T=r;if(!c){let pe=!1,xe=s.length;T<0&&(s.push(function C(){return new n.wOt(3100,!1)}()),pe=!0),B<0&&(s.push(function g(){return new n.wOt(3101,!1)}()),pe=!0),pe&&s.splice(xe,0,b())}return{duration:T,delay:B,easing:Z}}(r,s,c)}function ut(r,s,c){s.forEach((p,T)=>{const B=Fe(T);c&&!c.has(T)&&c.set(T,r.style[B]),r.style[B]=p})}function Pe(r,s){s.forEach((c,p)=>{const T=Fe(p);r.style[T]=""})}function je(r){return Array.isArray(r)?1==r.length?r[0]:(0,f.K2)(r):r}const Ye=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tt(r){let s=[];if("string"==typeof r){let c;for(;c=Ye.exec(r);)s.push(c[1]);Ye.lastIndex=0}return s}function Ut(r,s,c){const p=`${r}`,T=p.replace(Ye,(B,Z)=>{let pe=s[Z];return null==pe&&(c.push(function h(r){return new n.wOt(3003,!1)}()),pe=""),pe.toString()});return T==p?r:T}const Ke=/-+([a-z0-9])/g;function Fe(r){return r.replace(Ke,(...s)=>s[1].toUpperCase())}function vt(r,s,c){switch(s.type){case f.If.Trigger:return r.visitTrigger(s,c);case f.If.State:return r.visitState(s,c);case f.If.Transition:return r.visitTransition(s,c);case f.If.Sequence:return r.visitSequence(s,c);case f.If.Group:return r.visitGroup(s,c);case f.If.Animate:return r.visitAnimate(s,c);case f.If.Keyframes:return r.visitKeyframes(s,c);case f.If.Style:return r.visitStyle(s,c);case f.If.Reference:return r.visitReference(s,c);case f.If.AnimateChild:return r.visitAnimateChild(s,c);case f.If.AnimateRef:return r.visitAnimateRef(s,c);case f.If.Query:return r.visitQuery(s,c);case f.If.Stagger:return r.visitStagger(s,c);default:throw function y(r){return new n.wOt(3004,!1)}()}}function on(r,s){return window.getComputedStyle(r)[s]}const rn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nt extends ye{normalizePropertyName(s,c){return Fe(s)}normalizeStyleValue(s,c,p,T){let B="";const Z=p.toString().trim();if(rn.has(c)&&0!==p&&"0"!==p)if("number"==typeof p)B="px";else{const pe=p.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&T.push(function O(r,s){return new n.wOt(3005,!1)}())}return Z+B}}const ii="*";const Ai=new Set(["true","1"]),Mi=new Set(["false","0"]);function ro(r,s){const c=Ai.has(r)||Mi.has(r),p=Ai.has(s)||Mi.has(s);return(T,B)=>{let Z=r==ii||r==T,pe=s==ii||s==B;return!Z&&c&&"boolean"==typeof T&&(Z=T?Ai.has(r):Mi.has(r)),!pe&&p&&"boolean"==typeof B&&(pe=B?Ai.has(s):Mi.has(s)),Z&&pe}}const ki=new RegExp("s*:selfs*,?","g");function Po(r,s,c,p){return new ni(r).build(s,c,p)}class ni{constructor(s){this._driver=s}build(s,c,p){const T=new Oe(c);return this._resetContextStyleTimingState(T),vt(this,je(s),T)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,c){let p=c.queryCount=0,T=c.depCount=0;const B=[],Z=[];return"@"==s.name.charAt(0)&&c.errors.push(function m(){return new n.wOt(3006,!1)}()),s.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(c),pe.type==f.If.State){const xe=pe,it=xe.name;it.toString().split(/\s*,\s*/).forEach(St=>{xe.name=St,B.push(this.visitState(xe,c))}),xe.name=it}else if(pe.type==f.If.Transition){const xe=this.visitTransition(pe,c);p+=xe.queryCount,T+=xe.depCount,Z.push(xe)}else c.errors.push(function E(){return new n.wOt(3007,!1)}())}),{type:f.If.Trigger,name:s.name,states:B,transitions:Z,queryCount:p,depCount:T,options:null}}visitState(s,c){const p=this.visitStyle(s.styles,c),T=s.options&&s.options.params||null;if(p.containsDynamicStyles){const B=new Set,Z=T||{};p.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(xe=>{Tt(xe).forEach(it=>{Z.hasOwnProperty(it)||B.add(it)})})}),B.size&&c.errors.push(function u(r,s){return new n.wOt(3008,!1)}(0,B.values()))}return{type:f.If.State,name:s.name,style:p,options:T?{params:T}:null}}visitTransition(s,c){c.queryCount=0,c.depCount=0;const p=vt(this,je(s.animation),c),T=function vi(r,s){const c=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(p=>function bi(r,s,c){if(":"==r[0]){const xe=function hi(r,s){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,p)=>parseFloat(p)>parseFloat(c);case":decrement":return(c,p)=>parseFloat(p)<parseFloat(c);default:return s.push(function k(r){return new n.wOt(3016,!1)}()),"* => *"}}(r,c);if("function"==typeof xe)return void s.push(xe);r=xe}const p=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return c.push(function P(r){return new n.wOt(3015,!1)}()),s;const T=p[1],B=p[2],Z=p[3];s.push(ro(T,Z)),"<"==B[0]&&(T!=ii||Z!=ii)&&s.push(ro(Z,T))}(p,c,s)):c.push(r),c}(s.expr,c.errors);return{type:f.If.Transition,matchers:T,animation:p,queryCount:c.queryCount,depCount:c.depCount,options:he(s.options)}}visitSequence(s,c){return{type:f.If.Sequence,steps:s.steps.map(p=>vt(this,p,c)),options:he(s.options)}}visitGroup(s,c){const p=c.currentTime;let T=0;const B=s.steps.map(Z=>{c.currentTime=p;const pe=vt(this,Z,c);return T=Math.max(T,c.currentTime),pe});return c.currentTime=T,{type:f.If.Group,steps:B,options:he(s.options)}}visitAnimate(s,c){const p=function J(r,s){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return ge(Sn(r,s).duration,0,"");const c=r;if(c.split(/\s+/).some(B=>"{"==B.charAt(0)&&"{"==B.charAt(1))){const B=ge(0,0,"");return B.dynamic=!0,B.strValue=c,B}const T=Sn(c,s);return ge(T.duration,T.delay,T.easing)}(s.timings,c.errors);c.currentAnimateTimings=p;let T,B=s.styles?s.styles:(0,f.iF)({});if(B.type==f.If.Keyframes)T=this.visitKeyframes(B,c);else{let Z=s.styles,pe=!1;if(!Z){pe=!0;const it={};p.easing&&(it.easing=p.easing),Z=(0,f.iF)(it)}c.currentTime+=p.duration+p.delay;const xe=this.visitStyle(Z,c);xe.isEmptyStep=pe,T=xe}return c.currentAnimateTimings=null,{type:f.If.Animate,timings:p,style:T,options:null}}visitStyle(s,c){const p=this._makeStyleAst(s,c);return this._validateStyleAst(p,c),p}_makeStyleAst(s,c){const p=[],T=Array.isArray(s.styles)?s.styles:[s.styles];for(let pe of T)"string"==typeof pe?pe===f.kp?p.push(pe):c.errors.push(new n.wOt(3002,!1)):p.push(new Map(Object.entries(pe)));let B=!1,Z=null;return p.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(Z=pe.get("easing"),pe.delete("easing")),!B))for(let xe of pe.values())if(xe.toString().indexOf("{{")>=0){B=!0;break}}),{type:f.If.Style,styles:p,easing:Z,offset:s.offset,containsDynamicStyles:B,options:null}}_validateStyleAst(s,c){const p=c.currentAnimateTimings;let T=c.currentTime,B=c.currentTime;p&&B>0&&(B-=p.duration+p.delay),s.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((pe,xe)=>{const it=c.collectedStyles.get(c.currentQuerySelector),St=it.get(xe);let xt=!0;St&&(B!=T&&B>=St.startTime&&T<=St.endTime&&(c.errors.push(function D(r,s,c,p,T){return new n.wOt(3010,!1)}()),xt=!1),B=St.startTime),xt&&it.set(xe,{startTime:B,endTime:T}),c.options&&function Te(r,s,c){const p=s.params||{},T=Tt(r);T.length&&T.forEach(B=>{p.hasOwnProperty(B)||c.push(function S(r){return new n.wOt(3001,!1)}())})}(pe,c.options,c.errors)})})}visitKeyframes(s,c){const p={type:f.If.Keyframes,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function A(){return new n.wOt(3011,!1)}()),p;let B=0;const Z=[];let pe=!1,xe=!1,it=0;const St=s.steps.map(qn=>{const ui=this._makeStyleAst(qn,c);let Ti=null!=ui.offset?ui.offset:function Je(r){if("string"==typeof r)return null;let s=null;if(Array.isArray(r))r.forEach(c=>{if(c instanceof Map&&c.has("offset")){const p=c;s=parseFloat(p.get("offset")),p.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const c=r;s=parseFloat(c.get("offset")),c.delete("offset")}return s}(ui.styles),di=0;return null!=Ti&&(B++,di=ui.offset=Ti),xe=xe||di<0||di>1,pe=pe||di<it,it=di,Z.push(di),ui});xe&&c.errors.push(function L(){return new n.wOt(3012,!1)}()),pe&&c.errors.push(function l(){return new n.wOt(3200,!1)}());const xt=s.steps.length;let qt=0;B>0&&B<xt?c.errors.push(function $(){return new n.wOt(3202,!1)}()):0==B&&(qt=1/(xt-1));const ln=xt-1,an=c.currentTime,yn=c.currentAnimateTimings,Xn=yn.duration;return St.forEach((qn,ui)=>{const Ti=qt>0?ui==ln?1:qt*ui:Z[ui],di=Ti*Xn;c.currentTime=an+yn.delay+di,yn.duration=di,this._validateStyleAst(qn,c),qn.offset=Ti,p.styles.push(qn)}),p}visitReference(s,c){return{type:f.If.Reference,animation:vt(this,je(s.animation),c),options:he(s.options)}}visitAnimateChild(s,c){return c.depCount++,{type:f.If.AnimateChild,options:he(s.options)}}visitAnimateRef(s,c){return{type:f.If.AnimateRef,animation:this.visitReference(s.animation,c),options:he(s.options)}}visitQuery(s,c){const p=c.currentQuerySelector,T=s.options||{};c.queryCount++,c.currentQuery=s;const[B,Z]=function fi(r){const s=!!r.split(/\s*,\s*/).find(c=>":self"==c);return s&&(r=r.replace(ki,"")),r=r.replace(/@\*/g,pt).replace(/@\w+/g,c=>pt+"-"+c.slice(1)).replace(/:animating/g,Mt),[r,s]}(s.selector);c.currentQuerySelector=p.length?p+" "+B:B,Ie(c.collectedStyles,c.currentQuerySelector,new Map);const pe=vt(this,je(s.animation),c);return c.currentQuery=null,c.currentQuerySelector=p,{type:f.If.Query,selector:B,limit:T.limit||0,optional:!!T.optional,includeSelf:Z,animation:pe,originalSelector:s.selector,options:he(s.options)}}visitStagger(s,c){c.currentQuery||c.errors.push(function R(){return new n.wOt(3013,!1)}());const p="full"===s.timings?{duration:0,delay:0,easing:"full"}:Sn(s.timings,c.errors,!0);return{type:f.If.Stagger,animation:vt(this,je(s.animation),c),timings:p,options:null}}}class Oe{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function he(r){return r?(r={...r}).params&&(r.params=function pi(r){return r?{...r}:null}(r.params)):r={},r}function ge(r,s,c){return{duration:r,delay:s,easing:c}}function ze(r,s,c,p,T,B,Z=null,pe=!1){return{type:1,element:r,keyframes:s,preStyleProps:c,postStyleProps:p,duration:T,delay:B,totalTime:T+B,easing:Z,subTimeline:pe}}class yt{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,c){let p=this._map.get(s);p||this._map.set(s,p=[]),p.push(...c)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const ri=new RegExp(":enter","g"),Oi=new RegExp(":leave","g");function Vi(r,s,c,p,T,B=new Map,Z=new Map,pe,xe,it=[]){return(new mo).buildKeyframes(r,s,c,p,T,B,Z,pe,xe,it)}class mo{buildKeyframes(s,c,p,T,B,Z,pe,xe,it,St=[]){it=it||new yt;const xt=new Li(s,c,it,T,B,St,[]);xt.options=xe;const qt=xe.delay?$t(xe.delay):0;xt.currentTimeline.delayNextStep(qt),xt.currentTimeline.setStyles([Z],null,xt.errors,xe),vt(this,p,xt);const ln=xt.timelines.filter(an=>an.containsAnimation());if(ln.length&&pe.size){let an;for(let yn=ln.length-1;yn>=0;yn--){const Xn=ln[yn];if(Xn.element===c){an=Xn;break}}an&&!an.allowOnlyTimelineStyles()&&an.setStyles([pe],null,xt.errors,xe)}return ln.length?ln.map(an=>an.buildKeyframes()):[ze(c,[],[],[],0,qt,"",!1)]}visitTrigger(s,c){}visitState(s,c){}visitTransition(s,c){}visitAnimateChild(s,c){const p=c.subInstructions.get(c.element);if(p){const T=c.createSubContext(s.options),B=c.currentTimeline.currentTime,Z=this._visitSubInstructions(p,T,T.options);B!=Z&&c.transformIntoNewTimeline(Z)}c.previousNode=s}visitAnimateRef(s,c){const p=c.createSubContext(s.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],c,p),this.visitReference(s.animation,p),c.transformIntoNewTimeline(p.currentTimeline.currentTime),c.previousNode=s}_applyAnimationRefDelays(s,c,p){for(const T of s){const B=T?.delay;if(B){const Z="number"==typeof B?B:$t(Ut(B,T?.params??{},c.errors));p.delayNextStep(Z)}}}_visitSubInstructions(s,c,p){let B=c.currentTimeline.currentTime;const Z=null!=p.duration?$t(p.duration):null,pe=null!=p.delay?$t(p.delay):null;return 0!==Z&&s.forEach(xe=>{const it=c.appendInstructionToTimeline(xe,Z,pe);B=Math.max(B,it.duration+it.delay)}),B}visitReference(s,c){c.updateOptions(s.options,!0),vt(this,s.animation,c),c.previousNode=s}visitSequence(s,c){const p=c.subContextCount;let T=c;const B=s.options;if(B&&(B.params||B.delay)&&(T=c.createSubContext(B),T.transformIntoNewTimeline(),null!=B.delay)){T.previousNode.type==f.If.Style&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=lo);const Z=$t(B.delay);T.delayNextStep(Z)}s.steps.length&&(s.steps.forEach(Z=>vt(this,Z,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),c.previousNode=s}visitGroup(s,c){const p=[];let T=c.currentTimeline.currentTime;const B=s.options&&s.options.delay?$t(s.options.delay):0;s.steps.forEach(Z=>{const pe=c.createSubContext(s.options);B&&pe.delayNextStep(B),vt(this,Z,pe),T=Math.max(T,pe.currentTimeline.currentTime),p.push(pe.currentTimeline)}),p.forEach(Z=>c.currentTimeline.mergeTimelineCollectedStyles(Z)),c.transformIntoNewTimeline(T),c.previousNode=s}_visitTiming(s,c){if(s.dynamic){const p=s.strValue;return Sn(c.params?Ut(p,c.params,c.errors):p,c.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,c){const p=c.currentAnimateTimings=this._visitTiming(s.timings,c),T=c.currentTimeline;p.delay&&(c.incrementTime(p.delay),T.snapshotCurrentStyles());const B=s.style;B.type==f.If.Keyframes?this.visitKeyframes(B,c):(c.incrementTime(p.duration),this.visitStyle(B,c),T.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=s}visitStyle(s,c){const p=c.currentTimeline,T=c.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const B=T&&T.easing||s.easing;s.isEmptyStep?p.applyEmptyStep(B):p.setStyles(s.styles,B,c.errors,c.options),c.previousNode=s}visitKeyframes(s,c){const p=c.currentAnimateTimings,T=c.currentTimeline.duration,B=p.duration,pe=c.createSubContext().currentTimeline;pe.easing=p.easing,s.styles.forEach(xe=>{pe.forwardTime((xe.offset||0)*B),pe.setStyles(xe.styles,xe.easing,c.errors,c.options),pe.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(pe),c.transformIntoNewTimeline(T+B),c.previousNode=s}visitQuery(s,c){const p=c.currentTimeline.currentTime,T=s.options||{},B=T.delay?$t(T.delay):0;B&&(c.previousNode.type===f.If.Style||0==p&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=lo);let Z=p;const pe=c.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!T.optional,c.errors);c.currentQueryTotal=pe.length;let xe=null;pe.forEach((it,St)=>{c.currentQueryIndex=St;const xt=c.createSubContext(s.options,it);B&&xt.delayNextStep(B),it===c.element&&(xe=xt.currentTimeline),vt(this,s.animation,xt),xt.currentTimeline.applyStylesToKeyframe(),Z=Math.max(Z,xt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(Z),xe&&(c.currentTimeline.mergeTimelineCollectedStyles(xe),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=s}visitStagger(s,c){const p=c.parentContext,T=c.currentTimeline,B=s.timings,Z=Math.abs(B.duration),pe=Z*(c.currentQueryTotal-1);let xe=Z*c.currentQueryIndex;switch(B.duration<0?"reverse":B.easing){case"reverse":xe=pe-xe;break;case"full":xe=p.currentStaggerTime}const St=c.currentTimeline;xe&&St.delayNextStep(xe);const xt=St.currentTime;vt(this,s.animation,c),c.previousNode=s,p.currentStaggerTime=T.currentTime-xt+(T.startTime-p.currentTimeline.startTime)}}const lo={};class Li{constructor(s,c,p,T,B,Z,pe,xe){this._driver=s,this.element=c,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=B,this.errors=Z,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new no(this._driver,c,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,c){if(!s)return;const p=s;let T=this.options;null!=p.duration&&(T.duration=$t(p.duration)),null!=p.delay&&(T.delay=$t(p.delay));const B=p.params;if(B){let Z=T.params;Z||(Z=this.options.params={}),Object.keys(B).forEach(pe=>{(!c||!Z.hasOwnProperty(pe))&&(Z[pe]=Ut(B[pe],Z,this.errors))})}}_copyOptions(){const s={};if(this.options){const c=this.options.params;if(c){const p=s.params={};Object.keys(c).forEach(T=>{p[T]=c[T]})}}return s}createSubContext(s=null,c,p){const T=c||this.element,B=new Li(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return B.previousNode=this.previousNode,B.currentAnimateTimings=this.currentAnimateTimings,B.options=this._copyOptions(),B.updateOptions(s),B.currentQueryIndex=this.currentQueryIndex,B.currentQueryTotal=this.currentQueryTotal,B.parentContext=this,this.subContextCount++,B}transformIntoNewTimeline(s){return this.previousNode=lo,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,c,p){const T={duration:c??s.duration,delay:this.currentTimeline.currentTime+(p??0)+s.delay,easing:""},B=new Hn(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,T,s.stretchStartingKeyframe);return this.timelines.push(B),T}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,c,p,T,B,Z){let pe=[];if(T&&pe.push(this.element),s.length>0){s=(s=s.replace(ri,"."+this._enterClassName)).replace(Oi,"."+this._leaveClassName);let it=this._driver.query(this.element,s,1!=p);0!==p&&(it=p<0?it.slice(it.length+p,it.length):it.slice(0,p)),pe.push(...it)}return!B&&0==pe.length&&Z.push(function F(r){return new n.wOt(3014,!1)}()),pe}}class no{constructor(s,c,p,T){this._driver=s,this.element=c,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+s),c&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,c){return this.applyStylesToKeyframe(),new no(this._driver,s,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,c){this._localTimelineStyles.set(s,c),this._globalTimelineStyles.set(s,c),this._styleSummary.set(s,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[c,p]of this._globalTimelineStyles)this._backFill.set(c,p||f.kp),this._currentKeyframe.set(c,f.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,c,p,T){c&&this._previousKeyframe.set("easing",c);const B=T&&T.params||{},Z=function Bi(r,s){const c=new Map;let p;return r.forEach(T=>{if("*"===T){p??=s.keys();for(let B of p)c.set(B,f.kp)}else for(let[B,Z]of T)c.set(B,Z)}),c}(s,this._globalTimelineStyles);for(let[pe,xe]of Z){const it=Ut(xe,B,p);this._pendingStyles.set(pe,it),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??f.kp),this._updateStyle(pe,it)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,c)=>{this._currentKeyframe.set(c,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,s)}))}snapshotCurrentStyles(){for(let[s,c]of this._localTimelineStyles)this._pendingStyles.set(s,c),this._updateStyle(s,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let c in this._currentKeyframe)s.push(c);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((c,p)=>{const T=this._styleSummary.get(p);(!T||c.time>T.time)&&this._updateStyle(p,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,c=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((pe,xe)=>{const it=new Map([...this._backFill,...pe]);it.forEach((St,xt)=>{St===f.FX?s.add(xt):St===f.kp&&c.add(xt)}),p||it.set("offset",xe/this.duration),T.push(it)});const B=[...s.values()],Z=[...c.values()];if(p){const pe=T[0],xe=new Map(pe);pe.set("offset",0),xe.set("offset",1),T=[pe,xe]}return ze(this.element,T,B,Z,this.duration,this.startTime,this.easing,!1)}}class Hn extends no{constructor(s,c,p,T,B,Z,pe=!1){super(s,c,Z.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=B,this._stretchStartingKeyframe=pe,this.timings={duration:Z.duration,delay:Z.delay,easing:Z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:c,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&c){const B=[],Z=p+c,pe=c/Z,xe=new Map(s[0]);xe.set("offset",0),B.push(xe);const it=new Map(s[0]);it.set("offset",Xo(pe)),B.push(it);const St=s.length-1;for(let xt=1;xt<=St;xt++){let qt=new Map(s[xt]);const ln=qt.get("offset");qt.set("offset",Xo((c+ln*p)/Z)),B.push(qt)}p=Z,c=0,T="",s=B}return ze(this.element,s,this.preStyleProps,this.postStyleProps,p,c,T,!0)}}function Xo(r,s=3){const c=Math.pow(10,s-1);return Math.round(r*c)/c}function Ho(r,s,c,p,T,B,Z,pe,xe,it,St,xt,qt){return{type:0,element:r,triggerName:s,isRemovalTransition:T,fromState:c,fromStyles:B,toState:p,toStyles:Z,timelines:pe,queriedElements:xe,preStyleProps:it,postStyleProps:St,totalTime:xt,errors:qt}}const Rs={};class No{constructor(s,c,p){this._triggerName=s,this.ast=c,this._stateStyles=p}match(s,c,p,T){return function ho(r,s,c,p,T){return r.some(B=>B(s,c,p,T))}(this.ast.matchers,s,c,p,T)}buildStyles(s,c,p){let T=this._stateStyles.get("*");return void 0!==s&&(T=this._stateStyles.get(s?.toString())||T),T?T.buildStyles(c,p):new Map}build(s,c,p,T,B,Z,pe,xe,it,St){const xt=[],qt=this.ast.options&&this.ast.options.params||Rs,an=this.buildStyles(p,pe&&pe.params||Rs,xt),yn=xe&&xe.params||Rs,Xn=this.buildStyles(T,yn,xt),qn=new Set,ui=new Map,Ti=new Map,di="void"===T,Ui={params:or(yn,qt),delay:this.ast.options?.delay},jn=St?[]:Vi(s,c,this.ast.animation,B,Z,an,Xn,Ui,it,xt);let Un=0;return jn.forEach(Si=>{Un=Math.max(Si.duration+Si.delay,Un)}),xt.length?Ho(c,this._triggerName,p,T,di,an,Xn,[],[],ui,Ti,Un,xt):(jn.forEach(Si=>{const qi=Si.element,ci=Ie(ui,qi,new Set);Si.preStyleProps.forEach(Ri=>ci.add(Ri));const xi=Ie(Ti,qi,new Set);Si.postStyleProps.forEach(Ri=>xi.add(Ri)),qi!==c&&qn.add(qi)}),Ho(c,this._triggerName,p,T,di,an,Xn,jn,[...qn.values()],ui,Ti,Un))}}function or(r,s){const c={...s};return Object.entries(r).forEach(([p,T])=>{null!=T&&(c[p]=T)}),c}class Ds{constructor(s,c,p){this.styles=s,this.defaultParams=c,this.normalizer=p}buildStyles(s,c){const p=new Map,T=or(s,this.defaultParams);return this.styles.styles.forEach(B=>{"string"!=typeof B&&B.forEach((Z,pe)=>{Z&&(Z=Ut(Z,T,c));const xe=this.normalizer.normalizePropertyName(pe,c);Z=this.normalizer.normalizeStyleValue(pe,xe,Z,c),p.set(pe,Z)})}),p}}class Ws{constructor(s,c,p){this.name=s,this.ast=c,this._normalizer=p,this.transitionFactories=[],this.states=new Map,c.states.forEach(T=>{this.states.set(T.name,new Ds(T.style,T.options&&T.options.params||{},p))}),Xs(this.states,"true","1"),Xs(this.states,"false","0"),c.transitions.forEach(T=>{this.transitionFactories.push(new No(s,T,this.states))}),this.fallbackTransition=function xr(r,s,c){return new No(r,{type:f.If.Transition,animation:{type:f.If.Sequence,steps:[],options:null},matchers:[(Z,pe)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,c,p,T){return this.transitionFactories.find(Z=>Z.match(s,c,p,T))||null}matchStyles(s,c,p){return this.fallbackTransition.buildStyles(s,c,p)}}function Xs(r,s,c){r.has(s)?r.has(c)||r.set(c,r.get(s)):r.has(c)&&r.set(s,r.get(c))}const ya=new yt;class Wr{constructor(s,c,p){this.bodyNode=s,this._driver=c,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,c){const p=[],B=Po(this._driver,c,p,[]);if(p.length)throw function de(r){return new n.wOt(3503,!1)}();this._animations.set(s,B)}_buildPlayer(s,c,p){const T=s.element,B=We(this._normalizer,s.keyframes,c,p);return this._driver.animate(T,B,s.duration,s.delay,s.easing,[],!0)}create(s,c,p={}){const T=[],B=this._animations.get(s);let Z;const pe=new Map;if(B?(Z=Vi(this._driver,c,B,Rt,en,new Map,new Map,p,ya,T),Z.forEach(St=>{const xt=Ie(pe,St.element,new Map);St.postStyleProps.forEach(qt=>xt.set(qt,null))})):(T.push(function se(){return new n.wOt(3300,!1)}()),Z=[]),T.length)throw function ce(r){return new n.wOt(3504,!1)}();pe.forEach((St,xt)=>{St.forEach((qt,ln)=>{St.set(ln,this._driver.computeStyle(xt,ln,f.kp))})});const it=Ve(Z.map(St=>{const xt=pe.get(St.element);return this._buildPlayer(St,new Map,xt)}));return this._playersById.set(s,it),it.onDestroy(()=>this.destroy(s)),this.players.push(it),it}destroy(s){const c=this._getPlayer(s);c.destroy(),this._playersById.delete(s);const p=this.players.indexOf(c);p>=0&&this.players.splice(p,1)}_getPlayer(s){const c=this._playersById.get(s);if(!c)throw function z(r){return new n.wOt(3301,!1)}();return c}listen(s,c,p,T){const B=$e(c,"","","");return lt(this._getPlayer(s),p,B,T),()=>{}}command(s,c,p,T){if("register"==p)return void this.register(s,T[0]);if("create"==p)return void this.create(s,c,T[0]||{});const B=this._getPlayer(s);switch(p){case"play":B.play();break;case"pause":B.pause();break;case"reset":B.reset();break;case"restart":B.restart();break;case"finish":B.finish();break;case"init":B.init();break;case"setPosition":B.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(s)}}}const Rr="ng-animate-queued",Ar="ng-animate-disabled",as=[],ur={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cn="__ng_removed";class ot{get params(){return this.options.params}constructor(s,c=""){this.namespaceId=c;const p=s&&s.hasOwnProperty("value");if(this.value=function ls(r){return r??null}(p?s.value:s),p){const{value:B,...Z}=s;this.options=Z}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const c=s.params;if(c){const p=this.options.params;Object.keys(c).forEach(T=>{null==p[T]&&(p[T]=c[T])})}}}const jt="void",Gt=new ot(jt);class Mn{constructor(s,c,p){this.id=s,this.hostElement=c,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Is(c,this._hostClassName)}listen(s,c,p,T){if(!this._triggers.has(c))throw function w(r,s){return new n.wOt(3302,!1)}();if(null==p||0==p.length)throw function j(r){return new n.wOt(3303,!1)}();if(!function go(r){return"start"==r||"done"==r}(p))throw function W(r,s){return new n.wOt(3400,!1)}();const B=Ie(this._elementListeners,s,[]),Z={name:c,phase:p,callback:T};B.push(Z);const pe=Ie(this._engine.statesByElement,s,new Map);return pe.has(c)||(Is(s,ht),Is(s,ht+"-"+c),pe.set(c,Gt)),()=>{this._engine.afterFlush(()=>{const xe=B.indexOf(Z);xe>=0&&B.splice(xe,1),this._triggers.has(c)||pe.delete(c)})}}register(s,c){return!this._triggers.has(s)&&(this._triggers.set(s,c),!0)}_getTrigger(s){const c=this._triggers.get(s);if(!c)throw function ne(r){return new n.wOt(3401,!1)}();return c}trigger(s,c,p,T=!0){const B=this._getTrigger(c),Z=new ji(this.id,c,s);let pe=this._engine.statesByElement.get(s);pe||(Is(s,ht),Is(s,ht+"-"+c),this._engine.statesByElement.set(s,pe=new Map));let xe=pe.get(c);const it=new ot(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&xe&&it.absorbOptions(xe.options),pe.set(c,it),xe||(xe=Gt),it.value!==jt&&xe.value===it.value){if(!function Os(r,s){const c=Object.keys(r),p=Object.keys(s);if(c.length!=p.length)return!1;for(let T=0;T<c.length;T++){const B=c[T];if(!s.hasOwnProperty(B)||r[B]!==s[B])return!1}return!0}(xe.params,it.params)){const yn=[],Xn=B.matchStyles(xe.value,xe.params,yn),qn=B.matchStyles(it.value,it.params,yn);yn.length?this._engine.reportError(yn):this._engine.afterFlush(()=>{Pe(s,Xn),ut(s,qn)})}return}const qt=Ie(this._engine.playersByElement,s,[]);qt.forEach(yn=>{yn.namespaceId==this.id&&yn.triggerName==c&&yn.queued&&yn.destroy()});let ln=B.matchTransition(xe.value,it.value,s,it.params),an=!1;if(!ln){if(!T)return;ln=B.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:c,transition:ln,fromState:xe,toState:it,player:Z,isFallbackTransition:an}),an||(Is(s,Rr),Z.onStart(()=>{kr(s,Rr)})),Z.onDone(()=>{let yn=this.players.indexOf(Z);yn>=0&&this.players.splice(yn,1);const Xn=this._engine.playersByElement.get(s);if(Xn){let qn=Xn.indexOf(Z);qn>=0&&Xn.splice(qn,1)}}),this.players.push(Z),qt.push(Z),Z}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(c=>c.delete(s)),this._elementListeners.forEach((c,p)=>{this._elementListeners.set(p,c.filter(T=>T.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const c=this._engine.playersByElement.get(s);c&&(c.forEach(p=>p.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,c){const p=this._engine.driver.query(s,pt,!0);p.forEach(T=>{if(T[Cn])return;const B=this._engine.fetchNamespacesByElement(T);B.size?B.forEach(Z=>Z.triggerLeaveAnimation(T,c,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(s,c,p,T){const B=this._engine.statesByElement.get(s),Z=new Map;if(B){const pe=[];if(B.forEach((xe,it)=>{if(Z.set(it,xe.value),this._triggers.has(it)){const St=this.trigger(s,it,jt,T);St&&pe.push(St)}}),pe.length)return this._engine.markElementAsRemoved(this.id,s,!0,c,Z),p&&Ve(pe).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const c=this._elementListeners.get(s),p=this._engine.statesByElement.get(s);if(c&&p){const T=new Set;c.forEach(B=>{const Z=B.name;if(T.has(Z))return;T.add(Z);const xe=this._triggers.get(Z).fallbackTransition,it=p.get(Z)||Gt,St=new ot(jt),xt=new ji(this.id,Z,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:Z,transition:xe,fromState:it,toState:St,player:xt,isFallbackTransition:!0})})}}removeNode(s,c){const p=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,c),this.triggerLeaveAnimation(s,c,!0))return;let T=!1;if(p.totalAnimations){const B=p.players.length?p.playersByQueriedElement.get(s):[];if(B&&B.length)T=!0;else{let Z=s;for(;Z=Z.parentNode;)if(p.statesByElement.get(Z)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(s),T)p.markElementAsRemoved(this.id,s,!1,c);else{const B=s[Cn];(!B||B===ur)&&(p.afterFlush(()=>this.clearElementCache(s)),p.destroyInnerAnimations(s),p._onRemovalComplete(s,c))}}insertNode(s,c){Is(s,this._hostClassName)}drainQueuedTransitions(s){const c=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const B=p.element,Z=this._elementListeners.get(B);Z&&Z.forEach(pe=>{if(pe.name==p.triggerName){const xe=$e(B,p.triggerName,p.fromState.value,p.toState.value);xe._data=s,lt(p.player,pe.phase,xe,pe.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):c.push(p)}),this._queue=[],c.sort((p,T)=>{const B=p.transition.ast.depCount,Z=T.transition.ast.depCount;return 0==B||0==Z?B-Z:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(s){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}}class Gn{_onRemovalComplete(s,c){this.onRemovalComplete(s,c)}constructor(s,c,p){this.bodyNode=s,this.driver=c,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,B)=>{}}get queuedPlayers(){const s=[];return this._namespaceList.forEach(c=>{c.players.forEach(p=>{p.queued&&s.push(p)})}),s}createNamespace(s,c){const p=new Mn(s,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(p,c):(this.newHostElements.set(c,p),this.collectEnterElement(c)),this._namespaceLookup[s]=p}_balanceNamespaceList(s,c){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let Z=!1,pe=this.driver.getParentElement(c);for(;pe;){const xe=T.get(pe);if(xe){const it=p.indexOf(xe);p.splice(it+1,0,s),Z=!0;break}pe=this.driver.getParentElement(pe)}Z||p.unshift(s)}else p.push(s);return T.set(c,s),s}register(s,c){let p=this._namespaceLookup[s];return p||(p=this.createNamespace(s,c)),p}registerTrigger(s,c,p){let T=this._namespaceLookup[s];T&&T.register(c,p)&&this.totalAnimations++}destroy(s,c){s&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(s);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(c),delete this._namespaceLookup[s]}))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const c=new Set,p=this.statesByElement.get(s);if(p)for(let T of p.values())if(T.namespaceId){const B=this._fetchNamespace(T.namespaceId);B&&c.add(B)}return c}trigger(s,c,p,T){if(Vo(c)){const B=this._fetchNamespace(s);if(B)return B.trigger(c,p,T),!0}return!1}insertNode(s,c,p,T){if(!Vo(c))return;const B=c[Cn];if(B&&B.setForRemoval){B.setForRemoval=!1,B.setForMove=!0;const Z=this.collectedLeaveElements.indexOf(c);Z>=0&&this.collectedLeaveElements.splice(Z,1)}if(s){const Z=this._fetchNamespace(s);Z&&Z.insertNode(c,p)}T&&this.collectEnterElement(c)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,c){c?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Is(s,Ar)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),kr(s,Ar))}removeNode(s,c,p){if(Vo(c)){const T=s?this._fetchNamespace(s):null;T?T.removeNode(c,p):this.markElementAsRemoved(s,c,!1,p);const B=this.namespacesByHostElement.get(c);B&&B.id!==s&&B.removeNode(c,p)}else this._onRemovalComplete(c,p)}markElementAsRemoved(s,c,p,T,B){this.collectedLeaveElements.push(c),c[Cn]={namespaceId:s,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:B}}listen(s,c,p,T,B){return Vo(c)?this._fetchNamespace(s).listen(c,p,T,B):()=>{}}_buildInstruction(s,c,p,T,B){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,p,T,s.fromState.options,s.toState.options,c,B)}destroyInnerAnimations(s){let c=this.driver.query(s,pt,!0);c.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(s,Mt,!0),c.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(s){const c=this.playersByElement.get(s);c&&c.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(s){const c=this.playersByQueriedElement.get(s);c&&c.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return Ve(this.players).onDone(()=>s());s()})}processLeaveNode(s){const c=s[Cn];if(c&&c.setForRemoval){if(s[Cn]=ur,c.namespaceId){this.destroyInnerAnimations(s);const p=this._fetchNamespace(c.namespaceId);p&&p.clearElementCache(s)}this._onRemovalComplete(s,c.setForRemoval)}s.classList?.contains(Ar)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(s=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Is(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{c=this._flushAnimations(p,s)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],c.length?Ve(c).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(s){throw function fe(r){return new n.wOt(3402,!1)}()}_flushAnimations(s,c){const p=new yt,T=[],B=new Map,Z=[],pe=new Map,xe=new Map,it=new Map,St=new Set;this.disabledNodes.forEach(Vn=>{St.add(Vn);const _i=this.driver.query(Vn,".ng-animate-queued",!0);for(let ai=0;ai<_i.length;ai++)St.add(_i[ai])});const xt=this.bodyNode,qt=Array.from(this.statesByElement.keys()),ln=fr(qt,this.collectedEnterElements),an=new Map;let yn=0;ln.forEach((Vn,_i)=>{const ai=Rt+yn++;an.set(_i,ai),Vn.forEach(zi=>Is(zi,ai))});const Xn=[],qn=new Set,ui=new Set;for(let Vn=0;Vn<this.collectedLeaveElements.length;Vn++){const _i=this.collectedLeaveElements[Vn],ai=_i[Cn];ai&&ai.setForRemoval&&(Xn.push(_i),qn.add(_i),ai.hasAnimation?this.driver.query(_i,".ng-star-inserted",!0).forEach(zi=>qn.add(zi)):ui.add(_i))}const Ti=new Map,di=fr(qt,Array.from(qn));di.forEach((Vn,_i)=>{const ai=en+yn++;Ti.set(_i,ai),Vn.forEach(zi=>Is(zi,ai))}),s.push(()=>{ln.forEach((Vn,_i)=>{const ai=an.get(_i);Vn.forEach(zi=>kr(zi,ai))}),di.forEach((Vn,_i)=>{const ai=Ti.get(_i);Vn.forEach(zi=>kr(zi,ai))}),Xn.forEach(Vn=>{this.processLeaveNode(Vn)})});const Ui=[],jn=[];for(let Vn=this._namespaceList.length-1;Vn>=0;Vn--)this._namespaceList[Vn].drainQueuedTransitions(c).forEach(ai=>{const zi=ai.player,rs=ai.element;if(Ui.push(zi),this.collectedEnterElements.length){const ys=rs[Cn];if(ys&&ys.setForMove){if(ys.previousTriggersValues&&ys.previousTriggersValues.has(ai.triggerName)){const Za=ys.previousTriggersValues.get(ai.triggerName),ba=this.statesByElement.get(ai.element);if(ba&&ba.has(ai.triggerName)){const kl=ba.get(ai.triggerName);kl.value=Za,ba.set(ai.triggerName,kl)}}return void zi.destroy()}}const Ba=!xt||!this.driver.containsElement(xt,rs),wr=Ti.get(rs),Cr=an.get(rs),hs=this._buildInstruction(ai,p,Cr,wr,Ba);if(hs.errors&&hs.errors.length)return void jn.push(hs);if(Ba)return zi.onStart(()=>Pe(rs,hs.fromStyles)),zi.onDestroy(()=>ut(rs,hs.toStyles)),void T.push(zi);if(ai.isFallbackTransition)return zi.onStart(()=>Pe(rs,hs.fromStyles)),zi.onDestroy(()=>ut(rs,hs.toStyles)),void T.push(zi);const Eh=[];hs.timelines.forEach(ys=>{ys.stretchStartingKeyframe=!0,this.disabledNodes.has(ys.element)||Eh.push(ys)}),hs.timelines=Eh,p.append(rs,hs.timelines),Z.push({instruction:hs,player:zi,element:rs}),hs.queriedElements.forEach(ys=>Ie(pe,ys,[]).push(zi)),hs.preStyleProps.forEach((ys,Za)=>{if(ys.size){let ba=xe.get(Za);ba||xe.set(Za,ba=new Set),ys.forEach((kl,Zf)=>ba.add(Zf))}}),hs.postStyleProps.forEach((ys,Za)=>{let ba=it.get(Za);ba||it.set(Za,ba=new Set),ys.forEach((kl,Zf)=>ba.add(Zf))})});if(jn.length){const Vn=[];jn.forEach(_i=>{Vn.push(function Ae(r,s){return new n.wOt(3505,!1)}())}),Ui.forEach(_i=>_i.destroy()),this.reportError(Vn)}const Un=new Map,Si=new Map;Z.forEach(Vn=>{const _i=Vn.element;p.has(_i)&&(Si.set(_i,_i),this._beforeAnimationBuild(Vn.player.namespaceId,Vn.instruction,Un))}),T.forEach(Vn=>{const _i=Vn.element;this._getPreviousPlayers(_i,!1,Vn.namespaceId,Vn.triggerName,null).forEach(zi=>{Ie(Un,_i,[]).push(zi),zi.destroy()})});const qi=Xn.filter(Vn=>ms(Vn,xe,it)),ci=new Map;hr(ci,this.driver,ui,it,f.kp).forEach(Vn=>{ms(Vn,xe,it)&&qi.push(Vn)});const Ri=new Map;ln.forEach((Vn,_i)=>{hr(Ri,this.driver,new Set(Vn),xe,f.FX)}),qi.forEach(Vn=>{const _i=ci.get(Vn),ai=Ri.get(Vn);ci.set(Vn,new Map([..._i?.entries()??[],...ai?.entries()??[]]))});const Zo=[],ss=[],Ks={};Z.forEach(Vn=>{const{element:_i,player:ai,instruction:zi}=Vn;if(p.has(_i)){if(St.has(_i))return ai.onDestroy(()=>ut(_i,zi.toStyles)),ai.disabled=!0,ai.overrideTotalTime(zi.totalTime),void T.push(ai);let rs=Ks;if(Si.size>1){let wr=_i;const Cr=[];for(;wr=wr.parentNode;){const hs=Si.get(wr);if(hs){rs=hs;break}Cr.push(wr)}Cr.forEach(hs=>Si.set(hs,rs))}const Ba=this._buildAnimation(ai.namespaceId,zi,Un,B,Ri,ci);if(ai.setRealPlayer(Ba),rs===Ks)Zo.push(ai);else{const wr=this.playersByElement.get(rs);wr&&wr.length&&(ai.parentPlayer=Ve(wr)),T.push(ai)}}else Pe(_i,zi.fromStyles),ai.onDestroy(()=>ut(_i,zi.toStyles)),ss.push(ai),St.has(_i)&&T.push(ai)}),ss.forEach(Vn=>{const _i=B.get(Vn.element);if(_i&&_i.length){const ai=Ve(_i);Vn.setRealPlayer(ai)}}),T.forEach(Vn=>{Vn.parentPlayer?Vn.syncPlayerEvents(Vn.parentPlayer):Vn.destroy()});for(let Vn=0;Vn<Xn.length;Vn++){const _i=Xn[Vn],ai=_i[Cn];if(kr(_i,en),ai&&ai.hasAnimation)continue;let zi=[];if(pe.size){let Ba=pe.get(_i);Ba&&Ba.length&&zi.push(...Ba);let wr=this.driver.query(_i,Mt,!0);for(let Cr=0;Cr<wr.length;Cr++){let hs=pe.get(wr[Cr]);hs&&hs.length&&zi.push(...hs)}}const rs=zi.filter(Ba=>!Ba.destroyed);rs.length?pr(this,_i,rs):this.processLeaveNode(_i)}return Xn.length=0,Zo.forEach(Vn=>{this.players.push(Vn),Vn.onDone(()=>{Vn.destroy();const _i=this.players.indexOf(Vn);this.players.splice(_i,1)}),Vn.play()}),Zo}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,c,p,T,B){let Z=[];if(c){const pe=this.playersByQueriedElement.get(s);pe&&(Z=pe)}else{const pe=this.playersByElement.get(s);if(pe){const xe=!B||B==jt;pe.forEach(it=>{it.queued||!xe&&it.triggerName!=T||Z.push(it)})}}return(p||T)&&(Z=Z.filter(pe=>!(p&&p!=pe.namespaceId||T&&T!=pe.triggerName))),Z}_beforeAnimationBuild(s,c,p){const B=c.element,Z=c.isRemovalTransition?void 0:s,pe=c.isRemovalTransition?void 0:c.triggerName;for(const xe of c.timelines){const it=xe.element,St=it!==B,xt=Ie(p,it,[]);this._getPreviousPlayers(it,St,Z,pe,c.toState).forEach(ln=>{const an=ln.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),ln.destroy(),xt.push(ln)})}Pe(B,c.fromStyles)}_buildAnimation(s,c,p,T,B,Z){const pe=c.triggerName,xe=c.element,it=[],St=new Set,xt=new Set,qt=c.timelines.map(an=>{const yn=an.element;St.add(yn);const Xn=yn[Cn];if(Xn&&Xn.removedBeforeQueried)return new f.sf(an.duration,an.delay);const qn=yn!==xe,ui=function Fr(r){const s=[];return ei(r,s),s}((p.get(yn)||as).map(Un=>Un.getRealPlayer())).filter(Un=>!!Un.element&&Un.element===yn),Ti=B.get(yn),di=Z.get(yn),Ui=We(this._normalizer,an.keyframes,Ti,di),jn=this._buildPlayer(an,Ui,ui);if(an.subTimeline&&T&&xt.add(yn),qn){const Un=new ji(s,pe,yn);Un.setRealPlayer(jn),it.push(Un)}return jn});it.forEach(an=>{Ie(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function qo(r,s,c){let p=r.get(s);if(p){if(p.length){const T=p.indexOf(c);p.splice(T,1)}0==p.length&&r.delete(s)}return p}(this.playersByQueriedElement,an.element,an))}),St.forEach(an=>Is(an,Ct));const ln=Ve(qt);return ln.onDestroy(()=>{St.forEach(an=>kr(an,Ct)),ut(xe,c.toStyles)}),xt.forEach(an=>{Ie(T,an,[]).push(ln)}),ln}_buildPlayer(s,c,p){return c.length>0?this.driver.animate(s.element,c,s.duration,s.delay,s.easing,p):new f.sf(s.duration,s.delay)}}class ji{constructor(s,c,p){this.namespaceId=s,this.triggerName=c,this.element=p,this._player=new f.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((c,p)=>{c.forEach(T=>lt(s,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const c=this._player;c.triggerCallback&&s.onStart(()=>c.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,c){Ie(this._queuedCallbacks,s,[]).push(c)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const c=this._player;c.triggerCallback&&c.triggerCallback(s)}}function Vo(r){return r&&1===r.nodeType}function Yr(r,s){const c=r.style.display;return r.style.display=s??"none",c}function hr(r,s,c,p,T){const B=[];c.forEach(xe=>B.push(Yr(xe)));const Z=[];p.forEach((xe,it)=>{const St=new Map;xe.forEach(xt=>{const qt=s.computeStyle(it,xt,T);St.set(xt,qt),(!qt||0==qt.length)&&(it[Cn]=Xt,Z.push(it))}),r.set(it,St)});let pe=0;return c.forEach(xe=>Yr(xe,B[pe++])),Z}function fr(r,s){const c=new Map;if(r.forEach(pe=>c.set(pe,[])),0==s.length)return c;const T=new Set(s),B=new Map;function Z(pe){if(!pe)return 1;let xe=B.get(pe);if(xe)return xe;const it=pe.parentNode;return xe=c.has(it)?it:T.has(it)?1:Z(it),B.set(pe,xe),xe}return s.forEach(pe=>{const xe=Z(pe);1!==xe&&c.get(xe).push(pe)}),c}function Is(r,s){r.classList?.add(s)}function kr(r,s){r.classList?.remove(s)}function pr(r,s,c){Ve(c).onDone(()=>r.processLeaveNode(s))}function ei(r,s){for(let c=0;c<r.length;c++){const p=r[c];p instanceof f.ui?ei(p.players,s):s.push(p)}}function ms(r,s,c){const p=c.get(r);if(!p)return!1;let T=s.get(r);return T?p.forEach(B=>T.add(B)):s.set(r,p),c.delete(r),!0}class sr{constructor(s,c,p){this._driver=c,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,B)=>{},this._transitionEngine=new Gn(s.body,c,p),this._timelineEngine=new Wr(s.body,c,p),this._transitionEngine.onRemovalComplete=(T,B)=>this.onRemovalComplete(T,B)}registerTrigger(s,c,p,T,B){const Z=s+"-"+T;let pe=this._triggerCache[Z];if(!pe){const xe=[],St=Po(this._driver,B,xe,[]);if(xe.length)throw function X(r,s){return new n.wOt(3404,!1)}();pe=function zs(r,s,c){return new Ws(r,s,c)}(T,St,this._normalizer),this._triggerCache[Z]=pe}this._transitionEngine.registerTrigger(c,T,pe)}register(s,c){this._transitionEngine.register(s,c)}destroy(s,c){this._transitionEngine.destroy(s,c)}onInsert(s,c,p,T){this._transitionEngine.insertNode(s,c,p,T)}onRemove(s,c,p){this._transitionEngine.removeNode(s,c,p)}disableAnimations(s,c){this._transitionEngine.markElementAsDisabled(s,c)}process(s,c,p,T){if("@"==p.charAt(0)){const[B,Z]=me(p);this._timelineEngine.command(B,c,Z,T)}else this._transitionEngine.trigger(s,c,p,T)}listen(s,c,p,T,B){if("@"==p.charAt(0)){const[Z,pe]=me(p);return this._timelineEngine.listen(Z,c,pe,B)}return this._transitionEngine.listen(s,c,p,T,B)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(s){this._transitionEngine.afterFlushAnimationsDone(s)}}class Cs{static#e=this.initialStylesByElement=new WeakMap;constructor(s,c,p){this._element=s,this._startStyles=c,this._endStyles=p,this._state=0;let T=Cs.initialStylesByElement.get(s);T||Cs.initialStylesByElement.set(s,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&ut(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ut(this._element,this._initialStyles),this._endStyles&&(ut(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Cs.initialStylesByElement.delete(this._element),this._startStyles&&(Pe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pe(this._element,this._endStyles),this._endStyles=null),ut(this._element,this._initialStyles),this._state=3)}}function fs(r){let s=null;return r.forEach((c,p)=>{(function Ls(r){return"display"===r||"position"===r})(p)&&(s=s||new Map,s.set(p,c))}),s}class Ys{constructor(s,c,p,T){this.element=s,this.keyframes=c,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const c=[];return s.forEach(p=>{c.push(Object.fromEntries(p))}),c}_triggerWebAnimation(s,c,p){return s.animate(this._convertKeyframesToObject(c),p)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&s.set(T,this._finished?p:on(this.element,T))}),this.currentSnapshot=s}triggerCallback(s){const c="start"===s?this._onStartFns:this._onDoneFns;c.forEach(p=>p()),c.length=0}}class gs{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}containsElement(s,c){return Se(s,c)}getParentElement(s){return ke(s)}query(s,c,p){return ve(s,c,p)}computeStyle(s,c,p){return on(s,c)}animate(s,c,p,T,B,Z=[]){const xe={duration:p,delay:T,fill:0==T?"both":"forwards"};B&&(xe.easing=B);const it=new Map,St=Z.filter(ln=>ln instanceof Ys);(function we(r,s){return 0===r||0===s})(p,T)&&St.forEach(ln=>{ln.currentSnapshot.forEach((an,yn)=>it.set(yn,an))});let xt=function Fn(r){return r.length?r[0]instanceof Map?r:r.map(s=>new Map(Object.entries(s))):[]}(c).map(ln=>new Map(ln));xt=function rt(r,s,c){if(c.size&&s.length){let p=s[0],T=[];if(c.forEach((B,Z)=>{p.has(Z)||T.push(Z),p.set(Z,B)}),T.length)for(let B=1;B<s.length;B++){let Z=s[B];T.forEach(pe=>Z.set(pe,on(r,pe)))}}return s}(s,xt,it);const qt=function ca(r,s){let c=null,p=null;return Array.isArray(s)&&s.length?(c=fs(s[0]),s.length>1&&(p=fs(s[s.length-1]))):s instanceof Map&&(c=fs(s)),c||p?new Cs(r,c,p):null}(s,xt);return new Ys(s,xt,xe,qt)}}const As="@.disabled";class Ea{constructor(s,c,p,T){this.namespaceId=s,this.delegate=c,this.engine=p,this._onDestroy=T,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(s){this.delegate.destroyNode?.(s)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(s,c){return this.delegate.createElement(s,c)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,c){this.delegate.appendChild(s,c),this.engine.onInsert(this.namespaceId,c,s,!1)}insertBefore(s,c,p,T=!0){this.delegate.insertBefore(s,c,p),this.engine.onInsert(this.namespaceId,c,s,T)}removeChild(s,c,p){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(s,c){return this.delegate.selectRootElement(s,c)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,c,p,T){this.delegate.setAttribute(s,c,p,T)}removeAttribute(s,c,p){this.delegate.removeAttribute(s,c,p)}addClass(s,c){this.delegate.addClass(s,c)}removeClass(s,c){this.delegate.removeClass(s,c)}setStyle(s,c,p,T){this.delegate.setStyle(s,c,p,T)}removeStyle(s,c,p){this.delegate.removeStyle(s,c,p)}setProperty(s,c,p){"@"==c.charAt(0)&&c==As?this.disableAnimations(s,!!p):this.delegate.setProperty(s,c,p)}setValue(s,c){this.delegate.setValue(s,c)}listen(s,c,p){return this.delegate.listen(s,c,p)}disableAnimations(s,c){this.engine.disableAnimations(s,c)}}class Yo extends Ea{constructor(s,c,p,T,B){super(c,p,T,B),this.factory=s,this.namespaceId=c}setProperty(s,c,p){"@"==c.charAt(0)?"."==c.charAt(1)&&c==As?this.disableAnimations(s,p=void 0===p||!!p):this.engine.process(this.namespaceId,s,c.slice(1),p):this.delegate.setProperty(s,c,p)}listen(s,c,p){if("@"==c.charAt(0)){const T=function el(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(s);let B=c.slice(1),Z="";return"@"!=B.charAt(0)&&([B,Z]=function Ca(r){const s=r.indexOf(".");return[r.substring(0,s),r.slice(s+1)]}(B)),this.engine.listen(this.namespaceId,T,B,Z,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,p,pe)})}return this.delegate.listen(s,c,p)}}class Xi{constructor(s,c,p){this.delegate=s,this.engine=c,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,c.onRemovalComplete=(T,B)=>{const Z=B?.parentNode(T);Z&&B.removeChild(Z,T)}}createRenderer(s,c){const T=this.delegate.createRenderer(s,c);if(!s||!c?.data?.animation){const it=this._rendererCache;let St=it.get(T);return St||(St=new Ea("",T,this.engine,()=>it.delete(T)),it.set(T,St)),St}const B=c.id,Z=c.id+"-"+this._currentId;this._currentId++,this.engine.register(Z,s);const pe=it=>{Array.isArray(it)?it.forEach(pe):this.engine.registerTrigger(B,Z,s,it.name,it)};return c.data.animation.forEach(pe),new Yo(this,Z,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(s,c,p){if(s>=0&&s<this._microtaskId)return void this._zone.run(()=>c(p));const T=this._animationCallbacksBuffer;0==T.length&&queueMicrotask(()=>{this._zone.run(()=>{T.forEach(B=>{const[Z,pe]=B;Z(pe)}),this._animationCallbacksBuffer=[]})}),T.push([c,p])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var eo=a(177);const Dt=[{provide:ye,useFactory:function On(){return new Nt}},{provide:sr,useClass:(()=>{class r extends sr{constructor(c,p,T){super(c,p,T)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||r)(n.KVO(eo.qQ),n.KVO(Y),n.KVO(ye))};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})()},{provide:n._9s,useFactory:function be(r,s,c){return new Xi(r,s,c)},deps:[t.B7,sr,n.SKi]}],Xe=[{provide:Y,useFactory:()=>new gs},{provide:n.bc$,useValue:"BrowserAnimations"},...Dt],kt=[{provide:Y,useClass:ie},{provide:n.bc$,useValue:"NoopAnimations"},...Dt];let gn=(()=>{class r{static withConfig(c){return{ngModule:r,providers:c.disableAnimations?kt:Xe}}static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({providers:Xe,imports:[t.Bb]})}return r})();var Lo=a(9418),Hi=a(4526),cs=a(3586),Ge=a(4421),He=a(1639),Ce=a(5286),bt=a(5817),Zt=a(8803);const mi=new bt.c(Zt.l);var Gi=a(4670),yi=a(5006),Ns=a(8728),ja=a(9090),ud=a(4725);function Zl(r,s){return function(p){let T;if(T="function"==typeof r?r:function(){return r},"function"==typeof s)return p.lift(new hd(T,s));const B=Object.create(p,ud.f);return B.source=p,B.subjectFactory=T,B}}class hd{constructor(s,c){this.subjectFactory=s,this.selector=c}call(s,c){const{selector:p}=this,T=this.subjectFactory(),B=p(T).subscribe(s);return B.add(c.subscribe(T)),B}}var Bs=a(9493),ks=a(8841),Jr=a(8002);const Zr="Service workers are disabled or not supported by this browser";class tl{constructor(s){if(this.serviceWorker=s,s){const p=(0,cs.R)(s,"controllerchange").pipe((0,yi.T)(()=>s.controller)),T=(0,Lo.v)(()=>(0,Ge.of)(s.controller)),B=(0,He.x)(T,p);this.worker=B.pipe((0,Ns.p)(St=>!!St)),this.registration=this.worker.pipe((0,ja.n)(()=>s.getRegistration()));const it=(0,cs.R)(s,"message").pipe((0,yi.T)(St=>St.data)).pipe((0,Ns.p)(St=>St&&St.type)).pipe(function Do(r){return r?Zl(()=>new Ce.B7,r):Zl(new Ce.B7)}());it.connect(),this.events=it}else this.worker=this.events=this.registration=function ql(r){return(0,Lo.v)(()=>(0,Hi.$)(new Error(r)))}(Zr)}postMessage(s,c){return this.worker.pipe((0,Bs.s)(1),(0,ks.M)(p=>{p.postMessage({action:s,...c})})).toPromise().then(()=>{})}postMessageWithOperation(s,c,p){const T=this.waitForOperationCompleted(p),B=this.postMessage(s,c);return Promise.all([B,T]).then(([,Z])=>Z)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(s){let c;return c="string"==typeof s?p=>p.type===s:p=>s.includes(p.type),this.events.pipe((0,Ns.p)(c))}nextEventOfType(s){return this.eventsOfType(s).pipe((0,Bs.s)(1))}waitForOperationCompleted(s){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ns.p)(c=>c.nonce===s),(0,Bs.s)(1),(0,yi.T)(c=>{if(void 0!==c.result)return c.result;throw new Error(c.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let $a=(()=>{class r{get isEnabled(){return this.sw.isEnabled}constructor(c){if(this.sw=c,this.pushManager=null,this.subscriptionChanges=new Ce.B7,!c.isEnabled)return this.messages=mi,this.notificationClicks=mi,void(this.subscription=mi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,yi.T)(T=>T.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,yi.T)(T=>T.data)),this.pushManager=this.sw.registration.pipe((0,yi.T)(T=>T.pushManager));const p=this.pushManager.pipe((0,ja.n)(T=>T.getSubscription()));this.subscription=(0,Gi.h)(p,this.subscriptionChanges)}requestSubscription(c){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Zr));const p={userVisibleOnly:!0};let T=this.decodeBase64(c.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),B=new Uint8Array(new ArrayBuffer(T.length));for(let Z=0;Z<T.length;Z++)B[Z]=T.charCodeAt(Z);return p.applicationServerKey=B,this.pushManager.pipe((0,ja.n)(Z=>Z.subscribe(p)),(0,Bs.s)(1)).toPromise().then(Z=>(this.subscriptionChanges.next(Z),Z))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Bs.s)(1),(0,ja.n)(p=>{if(null===p)throw new Error("Not subscribed to push notifications.");return p.unsubscribe().then(T=>{if(!T)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Zr))}decodeBase64(c){return atob(c)}static#e=this.\u0275fac=function(p){return new(p||r)(n.KVO(tl))};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})(),Pr=(()=>{class r{get isEnabled(){return this.sw.isEnabled}constructor(c){if(this.sw=c,!c.isEnabled)return this.versionUpdates=mi,void(this.unrecoverable=mi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zr));const c=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:c},c)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zr));const c=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:c},c)}static#e=this.\u0275fac=function(p){return new(p||r)(n.KVO(tl))};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})();const qr=new n.nKC("");function gl(r,s,c,p){return()=>{if(!(0,eo.UE)(p)||!("serviceWorker"in navigator)||!1===c.enabled)return;const T=r.get(n.SKi),B=r.get(n.o8S);let Z;if(T.runOutsideAngular(()=>{const pe=navigator.serviceWorker,xe=()=>pe.controller?.postMessage({action:"INITIALIZE"});pe.addEventListener("controllerchange",xe),B.onDestroy(()=>{pe.removeEventListener("controllerchange",xe)})}),"function"==typeof c.registrationStrategy)Z=c.registrationStrategy();else{const[pe,...xe]=(c.registrationStrategy||"registerWhenStable:30000").split(":");switch(pe){case"registerImmediately":Z=(0,Ge.of)(null);break;case"registerWithDelay":Z=nl(+xe[0]||0);break;case"registerWhenStable":Z=xe[0]?(0,Gi.h)(Pi(r),nl(+xe[0])):Pi(r);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${c.registrationStrategy}`)}}T.runOutsideAngular(()=>Z.pipe((0,Bs.s)(1)).subscribe(()=>navigator.serviceWorker.register(s,{scope:c.scope}).catch(pe=>console.error("Service worker registration failed with:",pe))))}}function nl(r){return(0,Ge.of)(null).pipe((0,Jr.c)(r))}function Pi(r){return r.get(n.o8S).isStable.pipe((0,Ns.p)(c=>c))}function vl(r,s){return new tl((0,eo.UE)(s)&&!1!==r.enabled?navigator.serviceWorker:void 0)}class Sa{}function Qs(r,s={}){return(0,n.EmA)([$a,Pr,{provide:qr,useValue:r},{provide:Sa,useValue:s},{provide:tl,useFactory:vl,deps:[Sa,n.Agw]},{provide:n.hnV,useFactory:gl,deps:[n.zZn,qr,Sa,n.Agw],multi:!0}])}let Ma=(()=>{class r{static register(c,p={}){return{ngModule:r,providers:[Qs(c,p)]}}static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({providers:[$a,Pr]})}return r})();var Ta=a(1626),co=a(9417),ds=a(2091);class Fl{constructor(s,c="/assets/i18n/",p=".json"){this.http=s,this.prefix=c,this.suffix=p}getTranslation(s){return this.http.get(`${this.prefix}${s}${this.suffix}`)}}var es=a(467),Rc=a(4046),Mr=a(5157),Da=a(3368),yo=a(2333),Pl=a(9420),G=a(8026),dt=a(4129);const et="8.20.0",_t=globalThis;function mt(r,s,c){const p=c||_t,T=p.__SENTRY__=p.__SENTRY__||{},B=T[et]=T[et]||{};return B[r]||(B[r]=s())}const Vt="production";function Qt(){return hn(_t),_t}function hn(r){const s=r.__SENTRY__=r.__SENTRY__||{};return s.version=s.version||et,s[et]=s[et]||{}}const En=Object.prototype.toString;function Qn(r){switch(En.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Re(r,Error)}}function gi(r,s){return En.call(r)===`[object ${s}]`}function ti(r){return gi(r,"ErrorEvent")}function Jn(r){return gi(r,"DOMError")}function Ni(r){return gi(r,"String")}function $i(r){return"object"==typeof r&&null!==r&&"__sentry_template_string__"in r&&"__sentry_template_values__"in r}function Co(r){return null===r||$i(r)||"object"!=typeof r&&"function"!=typeof r}function Fs(r){return gi(r,"Object")}function io(r){return typeof Event<"u"&&Re(r,Event)}function le(r){return!(!r||!r.then||"function"!=typeof r.then)}function Re(r,s){try{return r instanceof s}catch{return!1}}function st(r){return!("object"!=typeof r||null===r||!r.__isVue&&!r._isVue)}const zt=_t,bn=80;function wn(r,s={}){if(!r)return"<unknown>";try{let c=r;const p=5,T=[];let B=0,Z=0;const pe=" > ",xe=pe.length;let it;const St=Array.isArray(s)?s:s.keyAttrs,xt=!Array.isArray(s)&&s.maxStringLength||bn;for(;c&&B++<p&&(it=si(c,St),!("html"===it||B>1&&Z+T.length*xe+it.length>=xt));)T.push(it),Z+=it.length,c=c.parentNode;return T.reverse().join(pe)}catch{return"<unknown>"}}function si(r,s){const c=r,p=[];if(!c||!c.tagName)return"";if(zt.HTMLElement&&c instanceof HTMLElement&&c.dataset){if(c.dataset.sentryComponent)return c.dataset.sentryComponent;if(c.dataset.sentryElement)return c.dataset.sentryElement}p.push(c.tagName.toLowerCase());const T=s&&s.length?s.filter(Z=>c.getAttribute(Z)).map(Z=>[Z,c.getAttribute(Z)]):null;if(T&&T.length)T.forEach(Z=>{p.push(`[${Z[0]}="${Z[1]}"]`)});else{c.id&&p.push(`#${c.id}`);const Z=c.className;if(Z&&Ni(Z)){const pe=Z.split(/\s+/);for(const xe of pe)p.push(`.${xe}`)}}const B=["aria-label","type","name","title","alt"];for(const Z of B){const pe=c.getAttribute(Z);pe&&p.push(`[${Z}="${pe}"]`)}return p.join("")}function Go(){try{return zt.document.location.href}catch{return""}}function Io(r){if(!zt.HTMLElement)return null;let s=r;for(let p=0;p<5;p++){if(!s)return null;if(s instanceof HTMLElement){if(s.dataset.sentryComponent)return s.dataset.sentryComponent;if(s.dataset.sentryElement)return s.dataset.sentryElement}s=s.parentNode}return null}const Nn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_o=["debug","info","warn","error","log","assert","trace"],Ro={};function _r(r){if(!("console"in _t))return r();const s=_t.console,c={},p=Object.keys(Ro);p.forEach(T=>{const B=Ro[T];c[T]=s[T],s[T]=B});try{return r()}finally{p.forEach(T=>{s[T]=c[T]})}}const An=function da(){let r=!1;const s={enable:()=>{r=!0},disable:()=>{r=!1},isEnabled:()=>r};return _o.forEach(Nn?c=>{s[c]=(...p)=>{r&&_r(()=>{_t.console[c](`Sentry Logger [${c}]:`,...p)})}}:c=>{s[c]=()=>{}}),s}();function mr(r,s=0){return"string"!=typeof r||0===s||r.length<=s?r:`${r.slice(0,s)}...`}function Ia(r,s){if(!Array.isArray(r))return"";const c=[];for(let p=0;p<r.length;p++){const T=r[p];try{st(T)?c.push("[VueViewModel]"):c.push(String(T))}catch{c.push("[value cannot be serialized]")}}return c.join(s)}function Tr(r,s=[],c=!1){return s.some(p=>function Oa(r,s,c=!1){return!!Ni(r)&&(function bl(r){return gi(r,"RegExp")}(s)?s.test(r):!!Ni(s)&&(c?r===s:r.includes(s)))}(r,p,c))}function ps(r,s,c){if(!(s in r))return;const p=r[s],T=c(p);"function"==typeof T&&gr(T,p),r[s]=T}function ua(r,s,c){try{Object.defineProperty(r,s,{value:c,writable:!0,configurable:!0})}catch{Nn&&An.log(`Failed to add non-enumerable property "${s}" to object`,r)}}function gr(r,s){try{r.prototype=s.prototype=s.prototype||{},ua(r,"__sentry_original__",s)}catch{}}function Nl(r){return r.__sentry_original__}function Ua(r){if(Qn(r))return{message:r.message,name:r.name,stack:r.stack,...Ac(r)};if(io(r)){const s={type:r.type,target:wa(r.target),currentTarget:wa(r.currentTarget),...Ac(r)};return typeof CustomEvent<"u"&&Re(r,CustomEvent)&&(s.detail=r.detail),s}return r}function wa(r){try{return function Ll(r){return typeof Element<"u"&&Re(r,Element)}(r)?wn(r):Object.prototype.toString.call(r)}catch{return"<unknown>"}}function Ac(r){if("object"==typeof r&&null!==r){const s={};for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c]);return s}return{}}function Ps(r){return xa(r,new Map)}function xa(r,s){if(function ea(r){if(!Fs(r))return!1;try{const s=Object.getPrototypeOf(r).constructor.name;return!s||"Object"===s}catch{return!0}}(r)){const c=s.get(r);if(void 0!==c)return c;const p={};s.set(r,p);for(const T of Object.keys(r))typeof r[T]<"u"&&(p[T]=xa(r[T],s));return p}if(Array.isArray(r)){const c=s.get(r);if(void 0!==c)return c;const p=[];return s.set(r,p),r.forEach(T=>{p.push(xa(T,s))}),p}return r}function Ko(){const s=_t.crypto||_t.msCrypto;let c=()=>16*Math.random();try{if(s&&s.randomUUID)return s.randomUUID().replace(/-/g,"");s&&s.getRandomValues&&(c=()=>{const p=new Uint8Array(1);return s.getRandomValues(p),p[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,p=>(p^(15&c())>>p/4).toString(16))}function Js(r){return r.exception&&r.exception.values?r.exception.values[0]:void 0}function Lr(r){const{message:s,event_id:c}=r;if(s)return s;const p=Js(r);return p?p.type&&p.value?`${p.type}: ${p.value}`:p.type||p.value||c||"<unknown>":c||"<unknown>"}function ta(r,s,c){const p=r.exception=r.exception||{},T=p.values=p.values||[],B=T[0]=T[0]||{};B.value||(B.value=s||""),B.type||(B.type=c||"Error")}function fo(r,s){const c=Js(r);if(!c)return;const T=c.mechanism;if(c.mechanism={type:"generic",handled:!0,...T,...s},s&&"data"in s){const B={...T&&T.data,...s.data};c.mechanism.data=B}}function kc(r){if(r&&r.__sentry_captured__)return!0;try{ua(r,"__sentry_captured__",!0)}catch{}return!1}function yl(r){return Array.isArray(r)?r:[r]}function Va(){return{traceId:Ko(),spanId:Ko().substring(16)}}const op=1e3;function Bl(){return Date.now()/op}const Nr=function Sh(){const{performance:r}=_t;if(!r||!r.now)return Bl;const s=Date.now()-r.now(),c=null==r.timeOrigin?s:r.timeOrigin;return()=>(c+r.now())/op}();let il;const Dr=(()=>{const{performance:r}=_t;if(!r||!r.now)return void(il="none");const s=36e5,c=r.now(),p=Date.now(),T=r.timeOrigin?Math.abs(r.timeOrigin+c-p):s,B=T<s,Z=r.timing&&r.timing.navigationStart,xe="number"==typeof Z?Math.abs(Z+c-p):s;return B||xe<s?T<=xe?(il="timeOrigin",r.timeOrigin):(il="navigationStart",Z):(il="dateNow",p)})();function ec(r,s={}){if(s.user&&(!r.ipAddress&&s.user.ip_address&&(r.ipAddress=s.user.ip_address),!r.did&&!s.did&&(r.did=s.user.id||s.user.email||s.user.username)),r.timestamp=s.timestamp||Nr(),s.abnormal_mechanism&&(r.abnormal_mechanism=s.abnormal_mechanism),s.ignoreDuration&&(r.ignoreDuration=s.ignoreDuration),s.sid&&(r.sid=32===s.sid.length?s.sid:Ko()),void 0!==s.init&&(r.init=s.init),!r.did&&s.did&&(r.did=`${s.did}`),"number"==typeof s.started&&(r.started=s.started),r.ignoreDuration)r.duration=void 0;else if("number"==typeof s.duration)r.duration=s.duration;else{const c=r.timestamp-r.started;r.duration=c>=0?c:0}s.release&&(r.release=s.release),s.environment&&(r.environment=s.environment),!r.ipAddress&&s.ipAddress&&(r.ipAddress=s.ipAddress),!r.userAgent&&s.userAgent&&(r.userAgent=s.userAgent),"number"==typeof s.errors&&(r.errors=s.errors),s.status&&(r.status=s.status)}const El="_sentrySpan";function js(r,s){s?ua(r,El,s):delete r[El]}function Fc(r){return r[El]}class Dh{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Va()}clone(){const s=new Dh;return s._breadcrumbs=[...this._breadcrumbs],s._tags={...this._tags},s._extra={...this._extra},s._contexts={...this._contexts},s._user=this._user,s._level=this._level,s._session=this._session,s._transactionName=this._transactionName,s._fingerprint=this._fingerprint,s._eventProcessors=[...this._eventProcessors],s._requestSession=this._requestSession,s._attachments=[...this._attachments],s._sdkProcessingMetadata={...this._sdkProcessingMetadata},s._propagationContext={...this._propagationContext},s._client=this._client,s._lastEventId=this._lastEventId,js(s,Fc(this)),s}setClient(s){this._client=s}setLastEventId(s){this._lastEventId=s}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(s){this._scopeListeners.push(s)}addEventProcessor(s){return this._eventProcessors.push(s),this}setUser(s){return this._user=s||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ec(this._session,{user:s}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(s){return this._requestSession=s,this}setTags(s){return this._tags={...this._tags,...s},this._notifyScopeListeners(),this}setTag(s,c){return this._tags={...this._tags,[s]:c},this._notifyScopeListeners(),this}setExtras(s){return this._extra={...this._extra,...s},this._notifyScopeListeners(),this}setExtra(s,c){return this._extra={...this._extra,[s]:c},this._notifyScopeListeners(),this}setFingerprint(s){return this._fingerprint=s,this._notifyScopeListeners(),this}setLevel(s){return this._level=s,this._notifyScopeListeners(),this}setTransactionName(s){return this._transactionName=s,this._notifyScopeListeners(),this}setContext(s,c){return null===c?delete this._contexts[s]:this._contexts[s]=c,this._notifyScopeListeners(),this}setSession(s){return s?this._session=s:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(s){if(!s)return this;const c="function"==typeof s?s(this):s,[p,T]=c instanceof jl?[c.getScopeData(),c.getRequestSession()]:Fs(c)?[s,s.requestSession]:[],{tags:B,extra:Z,user:pe,contexts:xe,level:it,fingerprint:St=[],propagationContext:xt}=p||{};return this._tags={...this._tags,...B},this._extra={...this._extra,...Z},this._contexts={...this._contexts,...xe},pe&&Object.keys(pe).length&&(this._user=pe),it&&(this._level=it),St.length&&(this._fingerprint=St),xt&&(this._propagationContext=xt),T&&(this._requestSession=T),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,js(this,void 0),this._attachments=[],this._propagationContext=Va(),this._notifyScopeListeners(),this}addBreadcrumb(s,c){const p="number"==typeof c?c:100;if(p<=0)return this;const T={timestamp:Bl(),...s},B=this._breadcrumbs;return B.push(T),this._breadcrumbs=B.length>p?B.slice(-p):B,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(s){return this._attachments.push(s),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Fc(this)}}setSDKProcessingMetadata(s){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...s},this}setPropagationContext(s){return this._propagationContext=s,this}getPropagationContext(){return this._propagationContext}captureException(s,c){const p=c&&c.event_id?c.event_id:Ko();if(!this._client)return An.warn("No client configured on scope - will not capture exception!"),p;const T=new Error("Sentry syntheticException");return this._client.captureException(s,{originalException:s,syntheticException:T,...c,event_id:p},this),p}captureMessage(s,c,p){const T=p&&p.event_id?p.event_id:Ko();if(!this._client)return An.warn("No client configured on scope - will not capture message!"),T;const B=new Error(s);return this._client.captureMessage(s,c,{originalException:s,syntheticException:B,...p,event_id:T},this),T}captureEvent(s,c){const p=c&&c.event_id?c.event_id:Ko();return this._client?(this._client.captureEvent(s,{...c,event_id:p},this),p):(An.warn("No client configured on scope - will not capture event!"),p)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(s=>{s(this)}),this._notifyingListeners=!1)}}const jl=Dh;class nc{constructor(s,c){let p,T;p=s||new jl,T=c||new jl,this._stack=[{scope:p}],this._isolationScope=T}withScope(s){const c=this._pushScope();let p;try{p=s(c)}catch(T){throw this._popScope(),T}return le(p)?p.then(T=>(this._popScope(),T),T=>{throw this._popScope(),T}):(this._popScope(),p)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const s=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:s}),s}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function ic(){const s=hn(Qt());return s.stack=s.stack||new nc(function om(){return mt("defaultCurrentScope",()=>new jl)}(),function tc(){return mt("defaultIsolationScope",()=>new jl)}())}function te(r){return ic().withScope(r)}function _e(r,s){const c=ic();return c.withScope(()=>(c.getStackTop().scope=r,s(r)))}function oe(r){return ic().withScope(()=>r(ic().getIsolationScope()))}function gt(r){const s=hn(r);return s.acs?s.acs:function Ee(){return{withIsolationScope:oe,withScope:te,withSetScope:_e,withSetIsolationScope:(r,s)=>oe(s),getCurrentScope:()=>ic().getScope(),getIsolationScope:()=>ic().getIsolationScope()}}()}function Pt(){return gt(Qt()).getCurrentScope()}function pn(){return gt(Qt()).getIsolationScope()}function Rn(...r){const c=gt(Qt());if(2===r.length){const[p,T]=r;return p?c.withSetScope(p,T):c.withScope(T)}return c.withScope(r[0])}function Wn(){return Pt().getClient()}const ts=50,us="?",Ga=/\(error: (.*)\)/,Ir=/captureMessage|captureException/;function oc(...r){const s=r.sort((c,p)=>c[0]-p[0]).map(c=>c[1]);return(c,p=0,T=0)=>{const B=[],Z=c.split("\n");for(let pe=p;pe<Z.length;pe++){const xe=Z[pe];if(xe.length>1024)continue;const it=Ga.test(xe)?xe.replace(Ga,"$1"):xe;if(!it.match(/\S*Error: /)){for(const St of s){const xt=St(it);if(xt){B.push(xt);break}}if(B.length>=ts+T)break}}return function Cl(r){if(!r.length)return[];const s=Array.from(r);return/sentryWrapped/.test(Ih(s).function||"")&&s.pop(),s.reverse(),Ir.test(Ih(s).function||"")&&(s.pop(),Ir.test(Ih(s).function||"")&&s.pop()),s.slice(0,ts).map(c=>({...c,filename:c.filename||Ih(s).filename,function:c.function||us}))}(B.slice(T))}}function rp(r){return Array.isArray(r)?oc(...r):r}function Ih(r){return r[r.length-1]||{}}const du="<anonymous>";function Sl(r){try{return r&&"function"==typeof r&&r.name||du}catch{return du}}function uu(r){const s=r.exception;if(s){const c=[];try{return s.values.forEach(p=>{p.stacktrace.frames&&c.push(...p.stacktrace.frames)}),c}catch{return}}}function $l(r,s=100,c=1/0){try{return ap("",r,s,c)}catch(p){return{ERROR:`**non-serializable** (${p})`}}}function Oh(r,s=3,c=102400){const p=$l(r,s);return function Pc(r){return function _d(r){return~-encodeURI(r).split(/%..|./).length}(JSON.stringify(r))}(p)>c?Oh(r,s-1,c):p}function ap(r,s,c=1/0,p=1/0,T=function wo(){const r="function"==typeof WeakSet,s=r?new WeakSet:[];return[function c(T){if(r)return!!s.has(T)||(s.add(T),!1);for(let B=0;B<s.length;B++)if(s[B]===T)return!0;return s.push(T),!1},function p(T){if(r)s.delete(T);else for(let B=0;B<s.length;B++)if(s[B]===T){s.splice(B,1);break}}]}()){const[B,Z]=T;if(null==s||["number","boolean","string"].includes(typeof s)&&!Number.isNaN(s))return s;const pe=function lp(r,s){try{if("domain"===r&&s&&"object"==typeof s&&s._events)return"[Domain]";if("domainEmitter"===r)return"[DomainEmitter]";if(typeof global<"u"&&s===global)return"[Global]";if(typeof window<"u"&&s===window)return"[Window]";if(typeof document<"u"&&s===document)return"[Document]";if(st(s))return"[VueViewModel]";if(function ft(r){return Fs(r)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r}(s))return"[SyntheticEvent]";if("number"==typeof s&&s!=s)return"[NaN]";if("function"==typeof s)return`[Function: ${Sl(s)}]`;if("symbol"==typeof s)return`[${String(s)}]`;if("bigint"==typeof s)return`[BigInt: ${String(s)}]`;const c=function sc(r){const s=Object.getPrototypeOf(r);return s?s.constructor.name:"null prototype"}(s);return/^HTML(\w*)Element$/.test(c)?`[HTMLElement: ${c}]`:`[object ${c}]`}catch(c){return`**non-serializable** (${c})`}}(r,s);if(!pe.startsWith("[object "))return pe;if(s.__sentry_skip_normalization__)return s;const xe="number"==typeof s.__sentry_override_normalization_depth__?s.__sentry_override_normalization_depth__:c;if(0===xe)return pe.replace("object ","");if(B(s))return"[Circular ~]";const it=s;if(it&&"function"==typeof it.toJSON)try{return ap("",it.toJSON(),xe-1,p,T)}catch{}const St=Array.isArray(s)?[]:{};let xt=0;const qt=Ua(s);for(const ln in qt)if(Object.prototype.hasOwnProperty.call(qt,ln)){if(xt>=p){St[ln]="[MaxProperties ~]";break}St[ln]=ap(ln,qt[ln],xe-1,p,T),xt++}return Z(s),St}var ol,r;function Ka(r){return new ha(s=>{s(r)})}function wh(r){return new ha((s,c)=>{c(r)})}(r=ol||(ol={}))[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED";class ha{constructor(s){ha.prototype.__init.call(this),ha.prototype.__init2.call(this),ha.prototype.__init3.call(this),ha.prototype.__init4.call(this),this._state=ol.PENDING,this._handlers=[];try{s(this._resolve,this._reject)}catch(c){this._reject(c)}}then(s,c){return new ha((p,T)=>{this._handlers.push([!1,B=>{if(s)try{p(s(B))}catch(Z){T(Z)}else p(B)},B=>{if(c)try{p(c(B))}catch(Z){T(Z)}else T(B)}]),this._executeHandlers()})}catch(s){return this.then(c=>c,s)}finally(s){return new ha((c,p)=>{let T,B;return this.then(Z=>{B=!1,T=Z,s&&s()},Z=>{B=!0,T=Z,s&&s()}).then(()=>{B?p(T):c(T)})})}__init(){this._resolve=s=>{this._setResult(ol.RESOLVED,s)}}__init2(){this._reject=s=>{this._setResult(ol.REJECTED,s)}}__init3(){this._setResult=(s,c)=>{if(this._state===ol.PENDING){if(le(c))return void c.then(this._resolve,this._reject);this._state=s,this._value=c,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ol.PENDING)return;const s=this._handlers.slice();this._handlers=[],s.forEach(c=>{c[0]||(this._state===ol.RESOLVED&&c[1](this._value),this._state===ol.REJECTED&&c[2](this._value),c[0]=!0)})}}}const Zi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function na(r,s,c,p=0){return new ha((T,B)=>{const Z=r[p];if(null===s||"function"!=typeof Z)T(s);else{const pe=Z({...s},c);Zi&&Z.id&&null===pe&&An.log(`Event processor "${Z.id}" dropped event`),le(pe)?pe.then(xe=>na(r,xe,c,p+1).then(T)).then(null,B):na(r,pe,c,p+1).then(T).then(null,B)}})}const Ul="baggage",hu="sentry-",Lc=/^sentry-/,md=8192;function xh(r){const s=function qv(r){if(r&&(Ni(r)||Array.isArray(r)))return Array.isArray(r)?r.reduce((s,c)=>{const p=cp(c);return Object.entries(p).forEach(([T,B])=>{s[T]=B}),s},{}):cp(r)}(r);if(!s)return;const c=Object.entries(s).reduce((p,[T,B])=>(T.match(Lc)&&(p[T.slice(hu.length)]=B),p),{});return Object.keys(c).length>0?c:void 0}function rc(r){if(r)return function e0(r){if(0!==Object.keys(r).length)return Object.entries(r).reduce((s,[c,p],T)=>{const B=`${encodeURIComponent(c)}=${encodeURIComponent(p)}`,Z=0===T?B:`${s},${B}`;return Z.length>md?(Nn&&An.warn(`Not adding key: ${c} with val: ${p} to baggage header due to exceeding baggage size limits.`),s):Z},"")}(Object.entries(r).reduce((c,[p,T])=>(T&&(c[`${hu}${p}`]=T),c),{}))}function cp(r){return r.split(",").map(s=>s.split("=").map(c=>decodeURIComponent(c.trim()))).reduce((s,[c,p])=>(c&&p&&(s[c]=p),s),{})}const ia="sentry.source",Ml="sentry.sample_rate",Tl="sentry.op",Ss="sentry.origin",ac="sentry.idle_span_finish_reason",dp="sentry.measurement_unit",up="sentry.measurement_value",hp="sentry.exclusive_time",t0=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function fp(r=Ko(),s=Ko().substring(16),c){let p="";return void 0!==c&&(p=c?"-1":"-0"),`${r}-${s}${p}`}const pp="_sentryMetrics";function pu(r){const s=r[pp];if(!s)return;const c={};for(const[,[p,T]]of s)(c[p]||(c[p]=[])).push(Ps(T));return c}const Ms=0,zn=1,li=2;function za(r,s){r.setAttribute("http.response.status_code",s);const c=function Zs(r){if(r<400&&r>=100)return{code:zn};if(r>=400&&r<500)switch(r){case 401:return{code:li,message:"unauthenticated"};case 403:return{code:li,message:"permission_denied"};case 404:return{code:li,message:"not_found"};case 409:return{code:li,message:"already_exists"};case 413:return{code:li,message:"failed_precondition"};case 429:return{code:li,message:"resource_exhausted"};case 499:return{code:li,message:"cancelled"};default:return{code:li,message:"invalid_argument"}}if(r>=500&&r<600)switch(r){case 501:return{code:li,message:"unimplemented"};case 503:return{code:li,message:"unavailable"};case 504:return{code:li,message:"deadline_exceeded"};default:return{code:li,message:"internal_error"}}return{code:li,message:"unknown_error"}}(s);"unknown_error"!==c.message&&r.setStatus(c)}const Br=1;function bd(r){const{spanId:s,traceId:c}=r.spanContext(),{data:p,op:T,parent_span_id:B,status:Z,origin:pe}=bo(r);return Ps({parent_span_id:B,span_id:s,trace_id:c,data:p,op:T,status:Z,origin:pe})}function Bo(r){const{spanId:s,traceId:c}=r.spanContext(),{parent_span_id:p}=bo(r);return Ps({parent_span_id:p,span_id:s,trace_id:c})}function $s(r){const{traceId:s,spanId:c}=r.spanContext();return fp(s,c,zo(r))}function jr(r){return"number"==typeof r?Ki(r):Array.isArray(r)?r[0]+r[1]/1e9:r instanceof Date?Ki(r.getTime()):Nr()}function Ki(r){return r>9999999999?r/1e3:r}function bo(r){if(function sl(r){return"function"==typeof r.getSpanJSON}(r))return r.getSpanJSON();try{const{spanId:s,traceId:c}=r.spanContext();if(function sm(r){return!!(r.attributes&&r.startTime&&r.name&&r.endTime&&r.status)}(r)){const{attributes:p,startTime:T,name:B,endTime:Z,parentSpanId:pe,status:xe}=r;return Ps({span_id:s,trace_id:c,data:p,description:B,parent_span_id:pe,start_timestamp:jr(T),timestamp:jr(Z)||void 0,status:lc(xe),op:p[Tl],origin:p[Ss],_metrics_summary:pu(r)})}return{span_id:s,trace_id:c}}catch{return{}}}function zo(r){const{traceFlags:s}=r.spanContext();return s===Br}function lc(r){if(r&&r.code!==Ms)return r.code===zn?"ok":r.message||"unknown_error"}const Wa="_sentryChildSpans",rl="_sentryRootSpan";function Nc(r,s){ua(s,rl,r[rl]||r),r[Wa]?r[Wa].add(s):ua(r,Wa,new Set([s]))}function al(r){const s=new Set;return function c(p){if(!s.has(p)&&zo(p)){s.add(p);const T=p[Wa]?Array.from(p[Wa]):[];for(const B of T)c(B)}}(r),Array.from(s)}function Us(r){return r[rl]||r}function Qo(){const s=gt(Qt());return s.getActiveSpan?s.getActiveSpan():Fc(Pt())}const Rh="_frozenDsc";function cc(r,s){ua(r,Rh,s)}function Aa(r,s){const c=s.getOptions(),{publicKey:p}=s.getDsn()||{},T=Ps({environment:c.environment||Vt,release:c.release,public_key:p,trace_id:r});return s.emit("createDsc",T),T}function ll(r){const s=Wn();if(!s)return{};const c=Aa(bo(r).trace_id||"",s),p=Us(r),T=p[Rh];if(T)return T;const B=p.spanContext().traceState,Z=B&&B.get("sentry.dsc"),pe=Z&&xh(Z);if(pe)return pe;const xe=bo(p),it=xe.data||{},St=it[Ml];null!=St&&(c.sample_rate=`${St}`);const qt=xe.description;return"url"!==it[ia]&&qt&&(c.transaction=qt),c.sampled=String(zo(p)),s.emit("createDsc",c,p),c}function jc(r,s){const{extra:c,tags:p,user:T,contexts:B,level:Z,sdkProcessingMetadata:pe,breadcrumbs:xe,fingerprint:it,eventProcessors:St,attachments:xt,propagationContext:qt,transactionName:ln,span:an}=s;_s(r,"extra",c),_s(r,"tags",p),_s(r,"user",T),_s(r,"contexts",B),_s(r,"sdkProcessingMetadata",pe),Z&&(r.level=Z),ln&&(r.transactionName=ln),an&&(r.span=an),xe.length&&(r.breadcrumbs=[...r.breadcrumbs,...xe]),it.length&&(r.fingerprint=[...r.fingerprint,...it]),St.length&&(r.eventProcessors=[...r.eventProcessors,...St]),xt.length&&(r.attachments=[...r.attachments,...xt]),r.propagationContext={...r.propagationContext,...qt}}function _s(r,s,c){if(c&&Object.keys(c).length){r[s]={...r[s]};for(const p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[s][p]=c[p])}}function Ts(r,s,c,p,T,B){const{normalizeDepth:Z=3,normalizeMaxBreadth:pe=1e3}=r,xe={...s,event_id:s.event_id||c.event_id||Ko(),timestamp:s.timestamp||Bl()},it=c.integrations||r.integrations.map(Xn=>Xn.name);(function mp(r,s){const{environment:c,release:p,dist:T,maxValueLength:B=250}=s;"environment"in r||(r.environment="environment"in s?c:Vt),void 0===r.release&&void 0!==p&&(r.release=p),void 0===r.dist&&void 0!==T&&(r.dist=T),r.message&&(r.message=mr(r.message,B));const Z=r.exception&&r.exception.values&&r.exception.values[0];Z&&Z.value&&(Z.value=mr(Z.value,B));const pe=r.request;pe&&pe.url&&(pe.url=mr(pe.url,B))})(xe,r),function _u(r,s){s.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=[...r.sdk.integrations||[],...s])}(xe,it),T&&T.emit("applyFrameMetadata",s),void 0===s.type&&function Vl(r,s){const c=_t._sentryDebugIds;if(!c)return;let p;const T=Vs.get(s);T?p=T:(p=new Map,Vs.set(s,p));const B=Object.entries(c).reduce((Z,[pe,xe])=>{let it;const St=p.get(pe);St?it=St:(it=s(pe),p.set(pe,it));for(let xt=it.length-1;xt>=0;xt--){const qt=it[xt];if(qt.filename){Z[qt.filename]=xe;break}}return Z},{});try{r.exception.values.forEach(Z=>{Z.stacktrace.frames.forEach(pe=>{pe.filename&&(pe.debug_id=B[pe.filename])})})}catch{}}(xe,r.stackParser);const St=function rm(r,s){if(!s)return r;const c=r?r.clone():new jl;return c.update(s),c}(p,c.captureContext);c.mechanism&&fo(xe,c.mechanism);const xt=T?T.getEventProcessors():[],qt=function dn(){return mt("globalScope",()=>new jl)}().getScopeData();B&&jc(qt,B.getScopeData()),St&&jc(qt,St.getScopeData());const ln=[...c.attachments||[],...qt.attachments];return ln.length&&(c.attachments=ln),function jo(r,s){const{fingerprint:c,span:p,breadcrumbs:T,sdkProcessingMetadata:B}=s;(function $r(r,s){const{extra:c,tags:p,user:T,contexts:B,level:Z,transactionName:pe}=s,xe=Ps(c);xe&&Object.keys(xe).length&&(r.extra={...xe,...r.extra});const it=Ps(p);it&&Object.keys(it).length&&(r.tags={...it,...r.tags});const St=Ps(T);St&&Object.keys(St).length&&(r.user={...St,...r.user});const xt=Ps(B);xt&&Object.keys(xt).length&&(r.contexts={...xt,...r.contexts}),Z&&(r.level=Z),pe&&"transaction"!==r.type&&(r.transaction=pe)})(r,s),p&&function Ed(r,s){r.contexts={trace:Bo(s),...r.contexts},r.sdkProcessingMetadata={dynamicSamplingContext:ll(s),...r.sdkProcessingMetadata};const p=bo(Us(s)).description;p&&!r.transaction&&"transaction"===r.type&&(r.transaction=p)}(r,p),function Or(r,s){r.fingerprint=r.fingerprint?yl(r.fingerprint):[],s&&(r.fingerprint=r.fingerprint.concat(s)),r.fingerprint&&!r.fingerprint.length&&delete r.fingerprint}(r,c),function Ah(r,s){const c=[...r.breadcrumbs||[],...s];r.breadcrumbs=c.length?c:void 0}(r,T),function $c(r,s){r.sdkProcessingMetadata={...r.sdkProcessingMetadata,...s}}(r,B)}(xe,qt),na([...xt,...qt.eventProcessors],xe,c).then(Xn=>(Xn&&function ka(r){const s={};try{r.exception.values.forEach(p=>{p.stacktrace.frames.forEach(T=>{T.debug_id&&(T.abs_path?s[T.abs_path]=T.debug_id:T.filename&&(s[T.filename]=T.debug_id),delete T.debug_id)})})}catch{}if(0===Object.keys(s).length)return;r.debug_meta=r.debug_meta||{},r.debug_meta.images=r.debug_meta.images||[];const c=r.debug_meta.images;Object.entries(s).forEach(([p,T])=>{c.push({type:"sourcemap",code_file:p,debug_id:T})})}(Xn),"number"==typeof Z&&Z>0?function Xa(r,s,c){if(!r)return null;const p={...r,...r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(T=>({...T,...T.data&&{data:$l(T.data,s,c)}}))},...r.user&&{user:$l(r.user,s,c)},...r.contexts&&{contexts:$l(r.contexts,s,c)},...r.extra&&{extra:$l(r.extra,s,c)}};return r.contexts&&r.contexts.trace&&p.contexts&&(p.contexts.trace=r.contexts.trace,r.contexts.trace.data&&(p.contexts.trace.data=$l(r.contexts.trace.data,s,c))),r.spans&&(p.spans=r.spans.map(T=>({...T,...T.data&&{data:$l(T.data,s,c)}}))),p}(Xn,Z,pe):Xn))}const Vs=new WeakMap;const kh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function uc(r,s){return Pt().captureException(r,function am(r){if(r)return function Uc(r){return r instanceof jl||"function"==typeof r}(r)||function dc(r){return Object.keys(r).some(s=>kh.includes(s))}(r)?{captureContext:r}:r}(s))}function Cd(r,s){return Pt().captureEvent(r,s)}function gp(r,s){pn().setContext(r,s)}function Ph(r){const s=Wn(),c=pn(),p=Pt(),{release:T,environment:B=Vt}=s&&s.getOptions()||{},{userAgent:Z}=_t.navigator||{},pe=function Mh(r){const s=Nr(),c={sid:Ko(),init:!0,timestamp:s,started:s,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function sp(r){return Ps({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:"number"==typeof r.did||"string"==typeof r.did?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(c)};return r&&ec(c,r),c}({release:T,environment:B,user:p.getUser()||c.getUser(),...Z&&{userAgent:Z},...r}),xe=c.getSession();return xe&&"ok"===xe.status&&ec(xe,{status:"exited"}),Lh(),c.setSession(pe),p.setSession(pe),pe}function Lh(){const r=pn(),s=Pt(),c=s.getSession()||r.getSession();c&&function cu(r,s){let c={};s?c={status:s}:"ok"===r.status&&(c={status:"exited"}),ec(r,c)}(c),gu(),r.setSession(),s.setSession()}function gu(){const r=pn(),s=Pt(),c=Wn(),p=s.getSession()||r.getSession();p&&c&&c.captureSession(p)}function vu(r=!1){r?Lh():gu()}const Sd=[];function vp(r){const s=r.defaultIntegrations||[],c=r.integrations;let p;s.forEach(Z=>{Z.isDefaultInstance=!0}),p=Array.isArray(c)?[...s,...c]:"function"==typeof c?yl(c(s)):s;const T=function Ha(r){const s={};return r.forEach(c=>{const{name:p}=c,T=s[p];T&&!T.isDefaultInstance&&c.isDefaultInstance||(s[p]=c)}),Object.values(s)}(p),B=T.findIndex(Z=>"Debug"===Z.name);if(B>-1){const[Z]=T.splice(B,1);T.push(Z)}return T}function Oo(r,s){for(const c of s)c&&c.afterAllSetup&&c.afterAllSetup(r)}function yu(r,s,c){if(c[s.name])Zi&&An.log(`Integration skipped because it was already installed: ${s.name}`);else{if(c[s.name]=s,-1===Sd.indexOf(s.name)&&"function"==typeof s.setupOnce&&(s.setupOnce(),Sd.push(s.name)),s.setup&&"function"==typeof s.setup&&s.setup(r),"function"==typeof s.preprocessEvent){const p=s.preprocessEvent.bind(s);r.on("preprocessEvent",(T,B)=>p(T,B,r))}if("function"==typeof s.processEvent){const p=s.processEvent.bind(s),T=Object.assign((B,Z)=>p(B,Z,r),{id:s.name});r.addEventProcessor(T)}Zi&&An.log(`Integration installed: ${s.name}`)}}const Ya=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],sa=(r={})=>({name:"InboundFilters",processEvent(s,c,p){const T=p.getOptions(),B=function Nh(r={},s={}){return{allowUrls:[...r.allowUrls||[],...s.allowUrls||[]],denyUrls:[...r.denyUrls||[],...s.denyUrls||[]],ignoreErrors:[...r.ignoreErrors||[],...s.ignoreErrors||[],...r.disableErrorDefaults?[]:Ya],ignoreTransactions:[...r.ignoreTransactions||[],...s.ignoreTransactions||[]],ignoreInternal:void 0===r.ignoreInternal||r.ignoreInternal}}(r,T);return function Bh(r,s){return s.ignoreInternal&&function Bt(r){try{return"SentryError"===r.exception.values[0].type}catch{}return!1}(r)?(Zi&&An.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Lr(r)}`),!0):function pm(r,s){return!(r.type||!s||!s.length)&&function ct(r){const s=[];let c;r.message&&s.push(r.message);try{c=r.exception.values[r.exception.values.length-1]}catch{}return c&&c.value&&(s.push(c.value),c.type&&s.push(`${c.type}: ${c.value}`)),s}(r).some(c=>Tr(c,s))}(r,s.ignoreErrors)?(Zi&&An.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Lr(r)}`),!0):function Pn(r){return!(r.type||!r.exception||!r.exception.values||0===r.exception.values.length||r.message||r.exception.values.some(s=>s.stacktrace||s.type&&"Error"!==s.type||s.value))}(r)?(Zi&&An.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Lr(r)}`),!0):function H(r,s){if("transaction"!==r.type||!s||!s.length)return!1;const c=r.transaction;return!!c&&Tr(c,s)}(r,s.ignoreTransactions)?(Zi&&An.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Lr(r)}`),!0):function ee(r,s){if(!s||!s.length)return!1;const c=vn(r);return!!c&&Tr(c,s)}(r,s.denyUrls)?(Zi&&An.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Lr(r)}.\nUrl: ${vn(r)}`),!0):!function Le(r,s){if(!s||!s.length)return!0;const c=vn(r);return!c||Tr(c,s)}(r,s.allowUrls)&&(Zi&&An.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Lr(r)}.\nUrl: ${vn(r)}`),!0)}(s,B)?null:s}});function vn(r){try{let s;try{s=r.exception.values[0].stacktrace.frames}catch{}return s?function Wt(r=[]){for(let s=r.length-1;s>=0;s--){const c=r[s];if(c&&"<anonymous>"!==c.filename&&"[native code]"!==c.filename)return c.filename||null}return null}(s):null}catch{return Zi&&An.error(`Cannot extract url for event ${Lr(r)}`),null}}let Ei;const Yn=new WeakMap,Ao=()=>({name:"FunctionToString",setupOnce(){Ei=Function.prototype.toString;try{Function.prototype.toString=function(...r){const s=Nl(this),c=Yn.has(Wn())&&void 0!==s?s:this;return Ei.apply(c,r)}}catch{}},setup(r){Yn.set(r,!0)}}),ra=()=>{let r;return{name:"Dedupe",processEvent(s){if(s.type)return s;try{if(function Dl(r,s){return!(!s||!function hc(r,s){const c=r.message,p=s.message;return!(!c&&!p||c&&!p||!c&&p||c!==p||!c0(r,s)||!Kc(r,s))}(r,s)&&!function l0(r,s){const c=d0(s),p=d0(r);return!!(c&&p&&c.type===p.type&&c.value===p.value&&c0(r,s)&&Kc(r,s))}(r,s))}(s,r))return Zi&&An.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return r=s}}};function Kc(r,s){let c=uu(r),p=uu(s);if(!c&&!p)return!0;if(c&&!p||!c&&p||p.length!==c.length)return!1;for(let T=0;T<p.length;T++){const B=p[T],Z=c[T];if(B.filename!==Z.filename||B.lineno!==Z.lineno||B.colno!==Z.colno||B.function!==Z.function)return!1}return!0}function c0(r,s){let c=r.fingerprint,p=s.fingerprint;if(!c&&!p)return!0;if(c&&!p||!c&&p)return!1;try{return c.join("")===p.join("")}catch{return!1}}function d0(r){return r.exception&&r.exception.values&&r.exception.values[0]}const rE=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function oo(r,s=!1){const{host:c,path:p,pass:T,port:B,projectId:Z,protocol:pe,publicKey:xe}=r;return`${pe}://${xe}${s&&T?`:${T}`:""}@${c}${B?`:${B}`:""}/${p&&`${p}/`}${Z}`}function _m(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function mm(r){const s="string"==typeof r?function u0(r){const s=rE.exec(r);if(!s)return void _r(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[c,p,T="",B="",Z="",pe=""]=s.slice(1);let xe="",it=pe;const St=it.split("/");if(St.length>1&&(xe=St.slice(0,-1).join("/"),it=St.pop()),it){const xt=it.match(/^\d+/);xt&&(it=xt[0])}return _m({host:B,pass:T,path:xe,projectId:it,port:Z,protocol:c,publicKey:p})}(r):_m(r);if(s&&function ns(r){if(!Nn)return!0;const{port:s,projectId:c,protocol:p}=r;return!(["protocol","publicKey","host","projectId"].find(Z=>!r[Z]&&(An.error(`Invalid Sentry Dsn: ${Z} missing`),!0))||(c.match(/^\d+$/)?function Tn(r){return"http"===r||"https"===r}(p)?s&&isNaN(parseInt(s,10))&&(An.error(`Invalid Sentry Dsn: Invalid port ${s}`),1):(An.error(`Invalid Sentry Dsn: Invalid protocol ${p}`),1):(An.error(`Invalid Sentry Dsn: Invalid projectId ${c}`),1)))}(s))return s}const jh="7";function cl(r){return`${r.protocol?`${r.protocol}:`:""}//${r.host}${r.port?`:${r.port}`:""}${r.path?`/${r.path}`:""}/api/`}function h0(r,s,c){return s||`${function gm(r){return`${cl(r)}${r.projectId}/envelope/`}(r)}?${function vm(r,s){return function np(r){return Object.keys(r).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(r[s])}`).join("&")}({sentry_key:r.publicKey,sentry_version:jh,...s&&{sentry_client:`${s.name}/${s.version}`}})}(r,c)}`}const bm=_t;function Vr(){if(!("fetch"in bm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Il(r){return r&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}const Eu={},ym={};function Dd(r,s){Eu[r]=Eu[r]||[],Eu[r].push(s)}function fc(r,s){ym[r]||(s(),ym[r]=!0)}function Qa(r,s){const c=r&&Eu[r];if(c)for(const p of c)try{p(s)}catch(T){Nn&&An.error(`Error while triggering instrumentation handler.\nType: ${r}\nName: ${Sl(p)}\nError:`,T)}}const Cu=_t,to=_t;let $h;function Su(r){const s="history";Dd(s,r),fc(s,p0)}function p0(){if(!function bp(){const r=Cu.chrome;return!(r&&r.app&&r.app.runtime||!("history"in Cu)||!Cu.history.pushState||!Cu.history.replaceState)}())return;const r=to.onpopstate;function s(c){return function(...p){const T=p.length>2?p[2]:void 0;if(T){const B=$h,Z=String(T);$h=Z,Qa("history",{from:B,to:Z})}return c.apply(this,p)}}to.onpopstate=function(...c){const p=to.location.href,T=$h;if($h=p,Qa("history",{from:T,to:p}),r)try{return r.apply(this,c)}catch{}},ps(to.history,"pushState",s),ps(to.history,"replaceState",s)}function Wc(r,s=[]){return[r,s]}function _0(r,s){const[c,p]=r;return[c,[...p,s]]}function yp(r,s){const c=r[1];for(const p of c)if(s(p,p[0].type))return!0;return!1}function Ep(r){return _t.__SENTRY__&&_t.__SENTRY__.encodePolyfill?_t.__SENTRY__.encodePolyfill(r):(new TextEncoder).encode(r)}function Id(r){const[s,c]=r;let p=JSON.stringify(s);function T(B){"string"==typeof p?p="string"==typeof B?p+B:[Ep(p),B]:p.push("string"==typeof B?Ep(B):B)}for(const B of c){const[Z,pe]=B;if(T(`\n${JSON.stringify(Z)}\n`),"string"==typeof pe||pe instanceof Uint8Array)T(pe);else{let xe;try{xe=JSON.stringify(pe)}catch{xe=JSON.stringify($l(pe))}T(xe)}}return"string"==typeof p?p:function vs(r){const s=r.reduce((T,B)=>T+B.length,0),c=new Uint8Array(s);let p=0;for(const T of r)c.set(T,p),p+=T.length;return c}(p)}function uE(r){return[{type:"span"},r]}function g0(r){const s="string"==typeof r.data?Ep(r.data):r.data;return[Ps({type:"attachment",length:s.length,filename:r.filename,content_type:r.contentType,attachment_type:r.attachmentType}),s]}const hE={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Em(r){return hE[r]}function Cp(r){if(!r||!r.sdk)return;const{name:s,version:c}=r.sdk;return{name:s,version:c}}function Mu(r,s,c,p){const T=r.sdkProcessingMetadata&&r.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:r.event_id,sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!c&&p&&{dsn:oo(p)},...T&&{trace:Ps({...T})}}}class br extends Error{constructor(s,c="warn"){super(s),this.message=s,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=c}}function Uh(r){if("boolean"==typeof r)return Number(r);const s="string"==typeof r?parseFloat(r):r;if(!("number"!=typeof s||isNaN(s)||s<0||s>1))return s;Zi&&An.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`)}const Sm="Not capturing exception because it's already been captured.";class pE{constructor(s){if(this._options=s,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],s.dsn?this._dsn=mm(s.dsn):Zi&&An.warn("No DSN provided, client will not send events."),this._dsn){const c=h0(this._dsn,s.tunnel,s._metadata?s._metadata.sdk:void 0);this._transport=s.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...s.transportOptions,url:c})}}captureException(s,c,p){const T=Ko();if(kc(s))return Zi&&An.log(Sm),T;const B={event_id:T,...c};return this._process(this.eventFromException(s,B).then(Z=>this._captureEvent(Z,B,p))),B.event_id}captureMessage(s,c,p,T){const B={event_id:Ko(),...p},Z=$i(s)?s:String(s),pe=Co(s)?this.eventFromMessage(Z,c,B):this.eventFromException(s,B);return this._process(pe.then(xe=>this._captureEvent(xe,B,T))),B.event_id}captureEvent(s,c,p){const T=Ko();if(c&&c.originalException&&kc(c.originalException))return Zi&&An.log(Sm),T;const B={event_id:T,...c};return this._process(this._captureEvent(s,B,(s.sdkProcessingMetadata||{}).capturedSpanScope||p)),B.event_id}captureSession(s){"string"!=typeof s.release?Zi&&An.warn("Discarded session because of missing or non-string release"):(this.sendSession(s),ec(s,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(s){const c=this._transport;return c?(this.emit("flush"),this._isClientDoneProcessing(s).then(p=>c.flush(s).then(T=>p&&T))):Ka(!0)}close(s){return this.flush(s).then(c=>(this.getOptions().enabled=!1,this.emit("close"),c))}getEventProcessors(){return this._eventProcessors}addEventProcessor(s){this._eventProcessors.push(s)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(s){return this._integrations[s]}addIntegration(s){const c=this._integrations[s.name];yu(this,s,this._integrations),c||Oo(this,[s])}sendEvent(s,c={}){this.emit("beforeSendEvent",s,c);let p=function Tp(r,s,c,p){const T=Cp(c),B=r.type&&"replay_event"!==r.type?r.type:"event";!function Sp(r,s){s&&(r.sdk=r.sdk||{},r.sdk.name=r.sdk.name||s.name,r.sdk.version=r.sdk.version||s.version,r.sdk.integrations=[...r.sdk.integrations||[],...s.integrations||[]],r.sdk.packages=[...r.sdk.packages||[],...s.packages||[]])}(r,c&&c.sdk);const Z=Mu(r,T,p,s);return delete r.sdkProcessingMetadata,Wc(Z,[[{type:B},r]])}(s,this._dsn,this._options._metadata,this._options.tunnel);for(const B of c.attachments||[])p=_0(p,g0(B));const T=this.sendEnvelope(p);T&&T.then(B=>this.emit("afterSendEvent",s,B),null)}sendSession(s){const c=function Mp(r,s,c,p){const T=Cp(c);return Wc({sent_at:(new Date).toISOString(),...T&&{sdk:T},...!!p&&s&&{dsn:oo(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(s,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(c)}recordDroppedEvent(s,c,p){if(this._options.sendClientReports){const T=`${s}:${c}`;Zi&&An.log(`Adding outcome: "${T}"`),this._outcomes[T]=(this._outcomes[T]||0)+1}}on(s,c){const p=this._hooks[s]=this._hooks[s]||[];return p.push(c),()=>{const T=p.indexOf(c);T>-1&&p.splice(T,1)}}emit(s,...c){const p=this._hooks[s];p&&p.forEach(T=>T(...c))}sendEnvelope(s){return this.emit("beforeEnvelope",s),this._isEnabled()&&this._transport?this._transport.send(s).then(null,c=>(Zi&&An.error("Error while sending event:",c),c)):(Zi&&An.error("Transport disabled"),Ka({}))}_setupIntegrations(){const{integrations:s}=this._options;this._integrations=function bu(r,s){const c={};return s.forEach(p=>{p&&yu(r,p,c)}),c}(this,s),Oo(this,s)}_updateSessionFromEvent(s,c){let p=!1,T=!1;const B=c.exception&&c.exception.values;if(B){T=!0;for(const xe of B){const it=xe.mechanism;if(it&&!1===it.handled){p=!0;break}}}const Z="ok"===s.status;(Z&&0===s.errors||Z&&p)&&(ec(s,{...p&&{status:"crashed"},errors:s.errors||Number(T||p)}),this.captureSession(s))}_isClientDoneProcessing(s){return new ha(c=>{let p=0;const B=setInterval(()=>{0==this._numProcessing?(clearInterval(B),c(!0)):(p+=1,s&&p>=s&&(clearInterval(B),c(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(s,c,p,T=pn()){const B=this.getOptions(),Z=Object.keys(this._integrations);return!c.integrations&&Z.length>0&&(c.integrations=Z),this.emit("preprocessEvent",s,c),s.type||T.setLastEventId(s.event_id||c.event_id),Ts(B,s,c,p,this,T).then(pe=>{if(null===pe)return pe;const xe={...T.getPropagationContext(),...p?p.getPropagationContext():void 0};if((!pe.contexts||!pe.contexts.trace)&&xe){const{traceId:St,spanId:xt,parentSpanId:qt,dsc:ln}=xe;pe.contexts={trace:Ps({trace_id:St,span_id:xt,parent_span_id:qt}),...pe.contexts};const an=ln||Aa(St,this);pe.sdkProcessingMetadata={dynamicSamplingContext:an,...pe.sdkProcessingMetadata}}return pe})}_captureEvent(s,c={},p){return this._processEvent(s,c,p).then(T=>T.event_id,T=>{if(Zi){const B=T;"log"===B.logLevel?An.log(B.message):An.warn(B)}})}_processEvent(s,c,p){const T=this.getOptions(),{sampleRate:B}=T,Z=Gh(s),pe=v0(s),xe=s.type||"error",it=`before send for type \`${xe}\``,St=typeof B>"u"?void 0:Uh(B);if(pe&&"number"==typeof St&&Math.random()>St)return this.recordDroppedEvent("sample_rate","error",s),wh(new br(`Discarding event because it's not included in the random sample (sampling rate = ${B})`,"log"));const xt="replay_event"===xe?"replay":xe;return this._prepareEvent(s,c,p,(s.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(an=>{if(null===an)throw this.recordDroppedEvent("event_processor",xt,s),new br("An event processor returned `null`, will not send event.","log");if(c.data&&!0===c.data.__sentry__)return an;const Xn=function Vh(r,s,c,p){const{beforeSend:T,beforeSendTransaction:B,beforeSendSpan:Z}=s;if(v0(c)&&T)return T(c,p);if(Gh(c)){if(c.spans&&Z){const pe=[];for(const xe of c.spans){const it=Z(xe);it?pe.push(it):r.recordDroppedEvent("before_send","span")}c.spans=pe}if(B)return B(c,p)}return c}(this,T,an,c);return function Tu(r,s){const c=`${s} must return \`null\` or a valid event.`;if(le(r))return r.then(p=>{if(!Fs(p)&&null!==p)throw new br(c);return p},p=>{throw new br(`${s} rejected with ${p}`)});if(!Fs(r)&&null!==r)throw new br(c);return r}(Xn,it)}).then(an=>{if(null===an)throw this.recordDroppedEvent("before_send",xt,s),Gh(s)&&(this._outcomes.span=(this._outcomes.span||0)+(1+(s.spans||[]).length)),new br(`${it} returned \`null\`, will not send event.`,"log");const yn=p&&p.getSession();!Z&&yn&&this._updateSessionFromEvent(yn,an);const Xn=an.transaction_info;if(Z&&Xn&&an.transaction!==s.transaction){const qn="custom";an.transaction_info={...Xn,source:qn}}return this.sendEvent(an,c),an}).then(null,an=>{throw an instanceof br?an:(this.captureException(an,{data:{__sentry__:!0},originalException:an}),new br(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${an}`))})}_process(s){this._numProcessing++,s.then(c=>(this._numProcessing--,c),c=>(this._numProcessing--,c))}_clearOutcomes(){const s=this._outcomes;return this._outcomes={},Object.entries(s).map(([c,p])=>{const[T,B]=c.split(":");return{reason:T,category:B,quantity:p}})}_flushOutcomes(){Zi&&An.log("Flushing outcomes...");const s=this._clearOutcomes();if(0===s.length)return void(Zi&&An.log("No outcomes to send"));if(!this._dsn)return void(Zi&&An.log("No dsn provided, will not send outcomes"));Zi&&An.log("Sending outcomes:",s);const c=function fE(r,s,c){return Wc(s?{dsn:s}:{},[[{type:"client_report"},{timestamp:c||Bl(),discarded_events:r}]])}(s,this._options.tunnel&&oo(this._dsn));this.sendEnvelope(c)}}function v0(r){return void 0===r.type}function Gh(r){return"transaction"===r.type}function Mm(r,s,c=[s],p="npm"){const T=r._metadata||{};T.sdk||(T.sdk={name:`sentry.javascript.${s}`,packages:c.map(B=>({name:`${p}:@sentry/${B}`,version:et})),version:et}),r._metadata=T}const Ja=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function b0(r,s){const c=Kh(r,s),p={type:s&&s.name,value:vE(s)};return c.length&&(p.stacktrace={frames:c}),void 0===p.type&&""===p.value&&(p.value="Unrecoverable error caught"),p}function pc(r,s){return{exception:{values:[b0(r,s)]}}}function Kh(r,s){const c=s.stacktrace||s.stack||"",p=function gE(r){return r&&zh.test(r.message)?1:0}(s),T=function Wh(r){return"number"==typeof r.framesToPop?r.framesToPop:0}(s);try{return r(c,p,T)}catch{}return[]}const zh=/Minified React error #\d+;/i;function vE(r){const s=r&&r.message;return s?s.error&&"string"==typeof s.error.message?s.error.message:s:"No error message"}function y0(r,s,c,p,T){let B;if(ti(s)&&s.error)return pc(r,s.error);if(Jn(s)||function Di(r){return gi(r,"DOMException")}(s)){const Z=s;if("stack"in s)B=pc(r,s);else{const pe=Z.name||(Jn(Z)?"DOMError":"DOMException"),xe=Z.message?`${pe}: ${Z.message}`:pe;B=Ip(r,xe,c,p),ta(B,xe)}return"code"in Z&&(B.tags={...B.tags,"DOMException.code":`${Z.code}`}),B}return Qn(s)?pc(r,s):Fs(s)||io(s)?(B=function Tm(r,s,c,p){const T=Wn(),B=T&&T.getOptions().normalizeDepth,Z=function Kl(r){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)){const c=r[s];if(c instanceof Error)return c}}(s),pe={__serialized__:Oh(s,B)};if(Z)return{exception:{values:[b0(r,Z)]},extra:pe};const xe={exception:{values:[{type:io(s)?s.constructor.name:p?"UnhandledRejection":"Error",value:E0(s,{isUnhandledRejection:p})}]},extra:pe};if(c){const it=Kh(r,c);it.length&&(xe.exception.values[0].stacktrace={frames:it})}return xe}(r,s,c,T),fo(B,{synthetic:!0}),B):(B=Ip(r,s,c,p),ta(B,`${s}`,void 0),fo(B,{synthetic:!0}),B)}function Ip(r,s,c,p){const T={};if(p&&c){const B=Kh(r,c);B.length&&(T.exception={values:[{value:s,stacktrace:{frames:B}}]})}if($i(s)){const{__sentry_template_string__:B,__sentry_template_values__:Z}=s;return T.logentry={message:B,params:Z},T}return T.message=s,T}function E0(r,{isUnhandledRejection:s}){const c=function Zv(r,s=40){const c=Object.keys(Ua(r));c.sort();const p=c[0];if(!p)return"[object has no keys]";if(p.length>=s)return mr(p,s);for(let T=c.length;T>0;T--){const B=c.slice(0,T).join(", ");if(!(B.length>s))return T===c.length?B:mr(B,s)}return""}(r),p=s?"promise rejection":"exception";return ti(r)?`Event \`ErrorEvent\` captured as ${p} with message \`${r.message}\``:io(r)?`Event \`${function bE(r){try{const s=Object.getPrototypeOf(r);return s?s.constructor.name:void 0}catch{}}(r)}\` (type=${r.type}) captured as ${p}`:`Object captured as ${p} with keys: ${c}`}const Ji=_t;let Du=0;function Op(){return Du>0}function _c(r,s={},c){if("function"!=typeof r)return r;try{const T=r.__sentry_wrapped__;if(T)return T;if(Nl(r))return r}catch{return r}const p=function(){const T=Array.prototype.slice.call(arguments);try{c&&"function"==typeof c&&c.apply(this,arguments);const B=T.map(Z=>_c(Z,s));return r.apply(this,B)}catch(B){throw function C0(){Du++,setTimeout(()=>{Du--})}(),Rn(Z=>{Z.addEventProcessor(pe=>(s.mechanism&&(ta(pe,void 0,void 0),fo(pe,s.mechanism)),pe.extra={...pe.extra,arguments:T},pe)),uc(B)}),B}};try{for(const T in r)Object.prototype.hasOwnProperty.call(r,T)&&(p[T]=r[T])}catch{}gr(p,r),ua(r,"__sentry_wrapped__",p);try{Object.getOwnPropertyDescriptor(p,"name").configurable&&Object.defineProperty(p,"name",{get:()=>r.name})}catch{}return p}class S0 extends pE{constructor(s){const c={parentSpanIsAlwaysRootSpan:!0,...s};Mm(c,"browser",["browser"],Ji.SENTRY_SDK_SOURCE||"npm"),super(c),c.sendClientReports&&Ji.document&&Ji.document.addEventListener("visibilitychange",()=>{"hidden"===Ji.document.visibilityState&&this._flushOutcomes()})}eventFromException(s,c){return function Dm(r,s,c,p){const B=y0(r,s,c&&c.syntheticException||void 0,p);return fo(B),B.level="error",c&&c.event_id&&(B.event_id=c.event_id),Ka(B)}(this._options.stackParser,s,c,this._options.attachStacktrace)}eventFromMessage(s,c="info",p){return function Dp(r,s,c="info",p,T){const Z=Ip(r,s,p&&p.syntheticException||void 0,T);return Z.level=c,p&&p.event_id&&(Z.event_id=p.event_id),Ka(Z)}(this._options.stackParser,s,c,p,this._options.attachStacktrace)}captureUserFeedback(s){if(!this._isEnabled())return void(Ja&&An.warn("SDK not enabled, will not capture user feedback."));const c=function Im(r,{metadata:s,tunnel:c,dsn:p}){const T={event_id:r.event_id,sent_at:(new Date).toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!c&&!!p&&{dsn:oo(p)}},B=function yE(r){return[{type:"user_report"},r]}(r);return Wc(T,[B])}(s,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(c)}_prepareEvent(s,c,p){return s.platform=s.platform||"javascript",super._prepareEvent(s,c,p)}}const M0=1e3;let Om,wp,wm;function Xh(r){Dd("dom",r),fc("dom",Od)}function Od(){if(!to.document)return;const r=Qa.bind(null,"dom"),s=xm(r,!0);to.document.addEventListener("click",s,!1),to.document.addEventListener("keypress",s,!1),["EventTarget","Node"].forEach(c=>{const p=to[c]&&to[c].prototype;!p||!p.hasOwnProperty||!p.hasOwnProperty("addEventListener")||(ps(p,"addEventListener",function(T){return function(B,Z,pe){if("click"===B||"keypress"==B)try{const xe=this,it=xe.__sentry_instrumentation_handlers__=xe.__sentry_instrumentation_handlers__||{},St=it[B]=it[B]||{refCount:0};if(!St.handler){const xt=xm(r);St.handler=xt,T.call(this,B,xt,pe)}St.refCount++}catch{}return T.call(this,B,Z,pe)}}),ps(p,"removeEventListener",function(T){return function(B,Z,pe){if("click"===B||"keypress"==B)try{const xe=this,it=xe.__sentry_instrumentation_handlers__||{},St=it[B];St&&(St.refCount--,St.refCount<=0&&(T.call(this,B,St.handler,pe),St.handler=void 0,delete it[B]),0===Object.keys(it).length&&delete xe.__sentry_instrumentation_handlers__)}catch{}return T.call(this,B,Z,pe)}}))})}function xm(r,s=!1){return c=>{if(!c||c._sentryCaptured)return;const p=function Iu(r){try{return r.target}catch{return null}}(c);if(function T0(r,s){return!("keypress"!==r||s&&s.tagName&&("INPUT"===s.tagName||"TEXTAREA"===s.tagName||s.isContentEditable))}(c.type,p))return;ua(c,"_sentryCaptured",!0),p&&!p._sentryId&&ua(p,"_sentryId",Ko());const T="keypress"===c.type?"input":c.type;(function EE(r){if(r.type!==wp)return!1;try{if(!r.target||r.target._sentryId!==wm)return!1}catch{}return!0})(c)||(r({event:c,name:T,global:s}),wp=c.type,wm=p?p._sentryId:void 0),clearTimeout(Om),Om=to.setTimeout(()=>{wm=void 0,wp=void 0},M0)}}const dl="__sentry_xhr_v3__";function lr(r){Dd("xhr",r),fc("xhr",CE)}function CE(){if(!to.XMLHttpRequest)return;const r=XMLHttpRequest.prototype;ps(r,"open",function(s){return function(...c){const p=1e3*Nr(),T=Ni(c[0])?c[0].toUpperCase():void 0,B=function D0(r){if(Ni(r))return r;try{return r.toString()}catch{}}(c[1]);if(!T||!B)return s.apply(this,c);this[dl]={method:T,url:B,request_headers:{}},"POST"===T&&B.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const Z=()=>{const pe=this[dl];if(pe&&4===this.readyState){try{pe.status_code=this.status}catch{}Qa("xhr",{endTimestamp:1e3*Nr(),startTimestamp:p,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ps(this,"onreadystatechange",function(pe){return function(...xe){return Z(),pe.apply(this,xe)}}):this.addEventListener("readystatechange",Z),ps(this,"setRequestHeader",function(pe){return function(...xe){const[it,St]=xe,xt=this[dl];return xt&&Ni(it)&&Ni(St)&&(xt.request_headers[it.toLowerCase()]=St),pe.apply(this,xe)}}),s.apply(this,c)}}),ps(r,"send",function(s){return function(...c){const p=this[dl];return p?(void 0!==c[0]&&(p.body=c[0]),Qa("xhr",{startTimestamp:1e3*Nr(),xhr:this}),s.apply(this,c)):s.apply(this,c)}})}const Rm=100;function Xc(r,s){const c=Wn(),p=pn();if(!c)return;const{beforeBreadcrumb:T=null,maxBreadcrumbs:B=Rm}=c.getOptions();if(B<=0)return;const pe={timestamp:Bl(),...r},xe=T?_r(()=>T(pe,s)):pe;null!==xe&&(c.emit&&c.emit("beforeAddBreadcrumb",xe,s),p.addBreadcrumb(xe,B))}function xp(){"console"in _t&&_o.forEach(function(r){r in _t.console&&ps(_t.console,r,function(s){return Ro[r]=s,function(...c){Qa("console",{args:c,level:r});const T=Ro[r];T&&T.apply(_t.console,c)}})})}function O0(r){const s="fetch";Dd(s,r),fc(s,w0)}function w0(){(function f0(){if("string"==typeof EdgeRuntime)return!0;if(!Vr())return!1;if(Il(bm.fetch))return!0;let r=!1;const s=bm.document;if(s&&"function"==typeof s.createElement)try{const c=s.createElement("iframe");c.hidden=!0,s.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(r=Il(c.contentWindow.fetch)),s.head.removeChild(c)}catch(c){Nn&&An.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",c)}return r})()&&ps(_t,"fetch",function(r){return function(...s){const{method:c,url:p}=function x0(r){if(0===r.length)return{method:"GET",url:""};if(2===r.length){const[c,p]=r;return{url:Yh(c),method:Hh(p,"method")?String(p.method).toUpperCase():"GET"}}const s=r[0];return{url:Yh(s),method:Hh(s,"method")?String(s.method).toUpperCase():"GET"}}(s),T={args:s,fetchData:{method:c,url:p},startTimestamp:1e3*Nr()};Qa("fetch",{...T});const B=(new Error).stack;return r.apply(_t,s).then(Z=>(Qa("fetch",{...T,endTimestamp:1e3*Nr(),response:Z}),Z),Z=>{throw Qa("fetch",{...T,endTimestamp:1e3*Nr(),error:Z}),Qn(Z)&&void 0===Z.stack&&(Z.stack=B,ua(Z,"framesToPop",1)),Z})}})}function Hh(r,s){return!!r&&"object"==typeof r&&!!r[s]}function Yh(r){return"string"==typeof r?r:r?Hh(r,"url")?r.url:r.toString?r.toString():"":""}const SE=["fatal","error","warning","log","info","debug"];function ME(r){return"warn"===r?"warning":SE.includes(r)?r:"log"}function wd(r){if(!r)return{};const s=r.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!s)return{};const c=s[6]||"",p=s[8]||"";return{host:s[4],path:s[5],protocol:s[2],search:c,hash:p,relative:s[5]+c+p}}const Am=(r={})=>{const s={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...r};return{name:"Breadcrumbs",setup(c){s.console&&function I0(r){const s="console";Dd(s,r),fc(s,xp)}(function jT(r){return function(c){if(Wn()!==r)return;const p={category:"console",data:{arguments:c.args,logger:"console"},level:ME(c.level),message:Ia(c.args," ")};if("assert"===c.level){if(!1!==c.args[0])return;p.message=`Assertion failed: ${Ia(c.args.slice(1)," ")||"console.assert"}`,p.data.arguments=c.args.slice(1)}Xc(p,{input:c.args,level:c.level})}}(c)),s.dom&&Xh(function yr(r,s){return function(p){if(Wn()!==r)return;let T,B,Z="object"==typeof s?s.serializeAttribute:void 0,pe="object"==typeof s&&"number"==typeof s.maxStringLength?s.maxStringLength:void 0;pe&&pe>1024&&(Ja&&An.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${pe} was configured. Sentry will use 1024 instead.`),pe=1024),"string"==typeof Z&&(Z=[Z]);try{const it=p.event,St=function UT(r){return!!r&&!!r.target}(it)?it.target:it;T=wn(St,{keyAttrs:Z,maxStringLength:pe}),B=Io(St)}catch{T="<unknown>"}if(0===T.length)return;const xe={category:`ui.${p.name}`,message:T};B&&(xe.data={"ui.component_name":B}),Xc(xe,{event:p.event,name:p.name,global:p.global})}}(c,s.dom)),s.xhr&&lr(function IE(r){return function(c){if(Wn()!==r)return;const{startTimestamp:p,endTimestamp:T}=c,B=c.xhr[dl];if(!p||!T||!B)return;const{method:Z,url:pe,status_code:xe,body:it}=B;Xc({category:"xhr",data:{method:Z,url:pe,status_code:xe},type:"http"},{xhr:c.xhr,input:it,startTimestamp:p,endTimestamp:T})}}(c)),s.fetch&&O0(function $T(r){return function(c){if(Wn()!==r)return;const{startTimestamp:p,endTimestamp:T}=c;if(T&&(!c.fetchData.url.match(/sentry_key/)||"POST"!==c.fetchData.method))if(c.error)Xc({category:"fetch",data:c.fetchData,level:"error",type:"http"},{data:c.error,input:c.args,startTimestamp:p,endTimestamp:T});else{const B=c.response;Xc({category:"fetch",data:{...c.fetchData,status_code:B&&B.status},type:"http"},{input:c.args,response:B,startTimestamp:p,endTimestamp:T})}}}(c)),s.history&&Su(function k0(r){return function(c){if(Wn()!==r)return;let p=c.from,T=c.to;const B=wd(Ji.location.href);let Z=p?wd(p):void 0;const pe=wd(T);(!Z||!Z.path)&&(Z=B),B.protocol===pe.protocol&&B.host===pe.host&&(T=pe.relative),B.protocol===Z.protocol&&B.host===Z.host&&(p=Z.relative),Xc({category:"navigation",data:{from:p,to:T}})}}(c)),s.sentry&&c.on("beforeSendEvent",function A0(r){return function(c){Wn()===r&&Xc({category:"sentry."+("transaction"===c.type?"transaction":"event"),event_id:c.event_id,level:c.level,message:Lr(c)},{event:c})}}(c))}}},km=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Qh=(r={})=>{const s={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...r};return{name:"BrowserApiErrors",setupOnce(){s.setTimeout&&ps(Ji,"setTimeout",F0),s.setInterval&&ps(Ji,"setInterval",F0),s.requestAnimationFrame&&ps(Ji,"requestAnimationFrame",wE),s.XMLHttpRequest&&"XMLHttpRequest"in Ji&&ps(XMLHttpRequest.prototype,"send",P0);const c=s.eventTarget;c&&(Array.isArray(c)?c:km).forEach(VT)}}};function F0(r){return function(...s){return s[0]=_c(s[0],{mechanism:{data:{function:Sl(r)},handled:!1,type:"instrument"}}),r.apply(this,s)}}function wE(r){return function(s){return r.apply(this,[_c(s,{mechanism:{data:{function:"requestAnimationFrame",handler:Sl(r)},handled:!1,type:"instrument"}})])}}function P0(r){return function(...s){const c=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(T=>{T in c&&"function"==typeof c[T]&&ps(c,T,function(B){const Z={mechanism:{data:{function:T,handler:Sl(B)},handled:!1,type:"instrument"}},pe=Nl(B);return pe&&(Z.mechanism.data.handler=Sl(pe)),_c(B,Z)})}),r.apply(this,s)}}function VT(r){const c=Ji[r]&&Ji[r].prototype;!c||!c.hasOwnProperty||!c.hasOwnProperty("addEventListener")||(ps(c,"addEventListener",function(p){return function(T,B,Z){try{"function"==typeof B.handleEvent&&(B.handleEvent=_c(B.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Sl(B),target:r},handled:!1,type:"instrument"}}))}catch{}return p.apply(this,[T,_c(B,{mechanism:{data:{function:"addEventListener",handler:Sl(B),target:r},handled:!1,type:"instrument"}}),Z])}}),ps(c,"removeEventListener",function(p){return function(T,B,Z){const pe=B;try{const xe=pe&&pe.__sentry_wrapped__;xe&&p.call(this,T,xe,Z)}catch{}return p.call(this,T,pe,Z)}}))}let Fm=null;function xE(r){const s="error";Dd(s,r),fc(s,GT)}function GT(){Fm=_t.onerror,_t.onerror=function(r,s,c,p,T){return Qa("error",{column:p,error:T,line:c,msg:r,url:s}),!(!Fm||Fm.__SENTRY_LOADER__)&&Fm.apply(this,arguments)},_t.onerror.__SENTRY_INSTRUMENTED__=!0}let Pm=null;function L0(r){const s="unhandledrejection";Dd(s,r),fc(s,Ou)}function Ou(){Pm=_t.onunhandledrejection,_t.onunhandledrejection=function(r){return Qa("unhandledrejection",r),!(Pm&&!Pm.__SENTRY_LOADER__)||Pm.apply(this,arguments)},_t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Hc=(r={})=>{const s={onerror:!0,onunhandledrejection:!0,...r};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(c){s.onerror&&(function KT(r){xE(s=>{const{stackParser:c,attachStacktrace:p}=N0();if(Wn()!==r||Op())return;const{msg:T,url:B,line:Z,column:pe,error:xe}=s,it=function Ap(r,s,c,p){const T=r.exception=r.exception||{},B=T.values=T.values||[],Z=B[0]=B[0]||{},pe=Z.stacktrace=Z.stacktrace||{},xe=pe.frames=pe.frames||[],it=isNaN(parseInt(p,10))?void 0:p,St=isNaN(parseInt(c,10))?void 0:c,xt=Ni(s)&&s.length>0?s:Go();return 0===xe.length&&xe.push({colno:it,filename:xt,function:us,in_app:!0,lineno:St}),r}(y0(c,xe||T,void 0,p,!1),B,Z,pe);it.level="error",Cd(it,{originalException:xe,mechanism:{handled:!1,type:"onerror"}})})}(c),wu("onerror")),s.onunhandledrejection&&(function AE(r){L0(s=>{const{stackParser:c,attachStacktrace:p}=N0();if(Wn()!==r||Op())return;const T=function zl(r){if(Co(r))return r;try{if("reason"in r)return r.reason;if("detail"in r&&"reason"in r.detail)return r.detail.reason}catch{}return r}(s),B=Co(T)?function kE(r){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}}(T):y0(c,T,void 0,p,!0);B.level="error",Cd(B,{originalException:T,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(c),wu("onunhandledrejection"))}}};function wu(r){Ja&&An.log(`Global Handler attached: ${r}`)}function N0(){const r=Wn();return r&&r.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Lm=()=>({name:"HttpContext",preprocessEvent(r){if(!Ji.navigator&&!Ji.location&&!Ji.document)return;const s=r.request&&r.request.url||Ji.location&&Ji.location.href,{referrer:c}=Ji.document||{},{userAgent:p}=Ji.navigator||{},T={...r.request&&r.request.headers,...c&&{Referer:c},...p&&{"User-Agent":p}},B={...r.request,...s&&{url:s},headers:T};r.request=B}});function B0(r,s,c=250,p,T,B,Z){if(!(B.exception&&B.exception.values&&Z&&Re(Z.originalException,Error)))return;const pe=B.exception.values.length>0?B.exception.values[B.exception.values.length-1]:void 0;pe&&(B.exception.values=function FE(r,s){return r.map(c=>(c.value&&(c.value=mr(c.value,s)),c))}(xu(r,s,T,Z.originalException,p,B.exception.values,pe,0),c))}function xu(r,s,c,p,T,B,Z,pe){if(B.length>=c+1)return B;let xe=[...B];if(Re(p[T],Error)){Zh(Z,pe);const it=r(s,p[T]),St=xe.length;kp(it,T,St,pe),xe=xu(r,s,c,p[T],T,[it,...xe],it,St)}return Array.isArray(p.errors)&&p.errors.forEach((it,St)=>{if(Re(it,Error)){Zh(Z,pe);const xt=r(s,it),qt=xe.length;kp(xt,`errors[${St}]`,qt,pe),xe=xu(r,s,c,it,T,[xt,...xe],xt,qt)}}),xe}function Zh(r,s){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism={...r.mechanism,..."AggregateError"===r.type&&{is_exception_group:!0},exception_id:s}}function kp(r,s,c,p){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism={...r.mechanism,type:"chained",source:s,exception_id:c,parent_id:p}}const $0=(r={})=>{const s=r.limit||5,c=r.key||"cause";return{name:"LinkedErrors",preprocessEvent(p,T,B){const Z=B.getOptions();B0(b0,Z.stackParser,Z.maxValueLength,c,s,p,T)}}};function qh(r,s,c,p){const T={filename:r,function:"<anonymous>"===s?us:s,in_app:!0};return void 0!==c&&(T.lineno=c),void 0!==p&&(T.colno=p),T}const aa=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ru=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,V0=/\((\S*)(?::(\d+))(?::(\d+))\)/,G0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,jE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,W0=oc([30,r=>{const s=aa.exec(r);if(s){const[,p,T,B]=s;return qh(p,us,+T,+B)}const c=Ru.exec(r);if(c){if(c[2]&&0===c[2].indexOf("eval")){const Z=V0.exec(c[2]);Z&&(c[2]=Z[1],c[3]=Z[2],c[4]=Z[3])}const[T,B]=jm(c[1]||us,c[2]);return qh(B,T,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}}],[50,r=>{const s=G0.exec(r);if(s){if(s[3]&&s[3].indexOf(" > eval")>-1){const B=jE.exec(s[3]);B&&(s[1]=s[1]||"eval",s[3]=B[1],s[4]=B[2],s[5]="")}let p=s[3],T=s[1]||us;return[T,p]=jm(T,p),qh(p,T,s[4]?+s[4]:void 0,s[5]?+s[5]:void 0)}}]),jm=(r,s)=>{const c=-1!==r.indexOf("safari-extension"),p=-1!==r.indexOf("safari-web-extension");return c||p?[-1!==r.indexOf("@")?r.split("@")[0]:us,c?`safari-extension:${s}`:`safari-web-extension:${s}`]:[r,s]},Pa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pp={};function $m(r){const s=Pp[r];if(s)return s;let c=to[r];if(Il(c))return Pp[r]=c.bind(to);const p=to.document;if(p&&"function"==typeof p.createElement)try{const T=p.createElement("iframe");T.hidden=!0,p.head.appendChild(T);const B=T.contentWindow;B&&B[r]&&(c=B[r]),p.head.removeChild(T)}catch(T){Pa&&An.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,T)}return c&&(Pp[r]=c.bind(to))}function X0(r){Pp[r]=void 0}function Yc(...r){return $m("setTimeout")(...r)}const H0=6e4;function HE(r,s,c=Date.now()){return function XE(r,s){return r[s]||r.all||0}(r,s)>c}function Y0(r,{statusCode:s,headers:c},p=Date.now()){const T={...r},B=c&&c["x-sentry-rate-limits"],Z=c&&c["retry-after"];if(B)for(const pe of B.trim().split(",")){const[xe,it,,,St]=pe.split(":",5),xt=parseInt(xe,10),qt=1e3*(isNaN(xt)?60:xt);if(it)for(const ln of it.split(";"))"metric_bucket"===ln?(!St||St.split(";").includes("custom"))&&(T[ln]=p+qt):T[ln]=p+qt;else T.all=p+qt}else Z?T.all=p+function WE(r,s=Date.now()){const c=parseInt(`${r}`,10);if(!isNaN(c))return 1e3*c;const p=Date.parse(`${r}`);return isNaN(p)?H0:p-s}(Z,p):429===s&&(T.all=p+6e4);return T}const Q0=64;function J0(r,s){if("event"===s||"transaction"===s)return Array.isArray(r)?r[1]:void 0}function Qc(r,s=$m("fetch")){let c=0,p=0;return function Um(r,s,c=function JT(r){const s=[];function p(Z){return s.splice(s.indexOf(Z),1)[0]||Promise.resolve(void 0)}return{$:s,add:function T(Z){if(!function c(){return void 0===r||s.length<r}())return wh(new br("Not adding Promise because buffer limit was reached."));const pe=Z();return-1===s.indexOf(pe)&&s.push(pe),pe.then(()=>p(pe)).then(null,()=>p(pe).then(null,()=>{})),pe},drain:function B(Z){return new ha((pe,xe)=>{let it=s.length;if(!it)return pe(!0);const St=setTimeout(()=>{Z&&Z>0&&pe(!1)},Z);s.forEach(xt=>{Ka(xt).then(()=>{--it||(clearTimeout(St),pe(!0))},xe)})})}}}(r.bufferSize||Q0)){let p={};return{send:function B(Z){const pe=[];if(yp(Z,(xt,qt)=>{const ln=Em(qt);if(HE(p,ln)){const an=J0(xt,qt);r.recordDroppedEvent("ratelimit_backoff",ln,an)}else pe.push(xt)}),0===pe.length)return Ka({});const xe=Wc(Z[0],pe),it=xt=>{yp(xe,(qt,ln)=>{const an=J0(qt,ln);r.recordDroppedEvent(xt,Em(ln),an)})};return c.add(()=>s({body:Id(xe)}).then(xt=>(void 0!==xt.statusCode&&(xt.statusCode<200||xt.statusCode>=300)&&Zi&&An.warn(`Sentry responded with status code ${xt.statusCode} to sent event.`),p=Y0(p,xt),xt),xt=>{throw it("network_error"),xt})).then(xt=>xt,xt=>{if(xt instanceof br)return Zi&&An.error("Skipped sending event because buffer is full."),it("queue_overflow"),Ka({});throw xt})},flush:Z=>c.drain(Z)}}(r,function T(B){const Z=B.body.length;c+=Z,p++;const pe={body:B.body,method:"POST",referrerPolicy:"origin",headers:r.headers,keepalive:c<=6e4&&p<15,...r.fetchOptions};if(!s)return X0("fetch"),wh("No fetch implementation available");try{return s(r.url,pe).then(xe=>(c-=Z,p--,{statusCode:xe.status,headers:{"x-sentry-rate-limits":xe.headers.get("X-Sentry-Rate-Limits"),"retry-after":xe.headers.get("Retry-After")}}))}catch(xe){return X0("fetch"),c-=Z,p--,wh(xe)}})}function Vm(r={}){const s=function YE(r={}){return{defaultIntegrations:[sa(),Ao(),Qh(),Am(),Hc(),$0(),ra(),Lm()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Ji.SENTRY_RELEASE&&Ji.SENTRY_RELEASE.id?Ji.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0,...r}}(r);if(function Z0(){const r=Ji,c=r[r.chrome?"chrome":"browser"],p=c&&c.runtime&&c.runtime.id,T=Ji.location&&Ji.location.href||"",Z=!!p&&Ji===Ji.top&&["chrome-extension:","moz-extension:","ms-browser-extension:"].some(xe=>T.startsWith(`${xe}//`));return!(!p||Z||typeof r.nw<"u")}())return void _r(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});Ja&&(Vr()||An.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const c={...s,stackParser:rp(s.stackParser||W0),integrations:vp(s),transport:s.transport||Qc},p=function oE(r,s){!0===s.debug&&(Zi?An.enable():_r(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Pt().update(s.initialScope);const p=new r(s);return function sE(r){Pt().setClient(r)}(p),p.init(),p}(S0,c);return s.autoSessionTracking&&function JE(){typeof Ji.document>"u"?Ja&&An.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):(Ph({ignoreDuration:!0}),vu(),Su(({from:r,to:s})=>{void 0!==r&&r!==s&&(Ph({ignoreDuration:!0}),vu())}))}(),p}function QE(r={}){if(!Ji.document)return void(Ja&&An.error("Global document not defined in showReportDialog call"));const s=Pt(),c=s.getClient(),p=c&&c.getDsn();if(!p)return void(Ja&&An.error("DSN not configured for showReportDialog call"));if(s&&(r.user={...s.getUser(),...r.user}),!r.eventId){const pe=function s0(){return pn().lastEventId()}();pe&&(r.eventId=pe)}const T=Ji.document.createElement("script");T.async=!0,T.crossOrigin="anonymous",T.src=function LT(r,s){const c=mm(r);if(!c)return"";const p=`${cl(c)}embed/error-page/`;let T=`dsn=${oo(c)}`;for(const B in s)if("dsn"!==B&&"onClose"!==B)if("user"===B){const Z=s.user;if(!Z)continue;Z.name&&(T+=`&name=${encodeURIComponent(Z.name)}`),Z.email&&(T+=`&email=${encodeURIComponent(Z.email)}`)}else T+=`&${encodeURIComponent(B)}=${encodeURIComponent(s[B])}`;return`${p}?${T}`}(p,r),r.onLoad&&(T.onload=r.onLoad);const{onClose:B}=r;if(B){const pe=xe=>{if("__sentry_reportdialog_closed__"===xe.data)try{B()}finally{Ji.removeEventListener("message",pe)}};Ji.addEventListener("message",pe)}const Z=Ji.document.head||Ji.document.body;Z?Z.appendChild(T):Ja&&An.error("Not injecting report dialog. No injection point found in HTML")}function xd(r){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const s=r||function tD(){const r=Wn();return r&&r.getOptions()}();return!!s&&(s.enableTracing||"tracesSampleRate"in s||"tracesSampler"in s)}class Jc{constructor(s={}){this._traceId=s.traceId||Ko(),this._spanId=s.spanId||Ko().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(s){}setAttribute(s,c){return this}setAttributes(s){return this}setStatus(s){return this}updateName(s){return this}isRecording(){return!1}addEvent(s,c,p){return this}addLink(s){return this}addLinks(s){return this}recordException(s,c){}}function ef(r){if(!r||0===r.length)return;const s={};return r.forEach(c=>{const p=c.attributes||{},T=p[dp],B=p[up];"string"==typeof T&&"number"==typeof B&&(s[c.name]={value:B,unit:T})}),s}const Bp="_sentryScope",ku="_sentryIsolationScope";function Rd(r){return{scope:r[Bp],isolationScope:r[ku]}}class Fu{constructor(s={}){this._traceId=s.traceId||Ko(),this._spanId=s.spanId||Ko().substring(16),this._startTime=s.startTimestamp||Nr(),this._attributes={},this.setAttributes({[Ss]:"manual",[Tl]:s.op,...s.attributes}),this._name=s.name,s.parentSpanId&&(this._parentSpanId=s.parentSpanId),"sampled"in s&&(this._sampled=s.sampled),s.endTimestamp&&(this._endTime=s.endTimestamp),this._events=[],this._isStandaloneSpan=s.isStandalone,this._endTime&&this._onSpanEnded()}addLink(s){return this}addLinks(s){return this}recordException(s,c){}spanContext(){const{_spanId:s,_traceId:c,_sampled:p}=this;return{spanId:s,traceId:c,traceFlags:p?Br:0}}setAttribute(s,c){return void 0===c?delete this._attributes[s]:this._attributes[s]=c,this}setAttributes(s){return Object.keys(s).forEach(c=>this.setAttribute(c,s[c])),this}updateStartTime(s){this._startTime=jr(s)}setStatus(s){return this._status=s,this}updateName(s){return this._name=s,this}end(s){this._endTime||(this._endTime=jr(s),function ZE(r){if(!Zi)return;const{description:s="< unknown name >",op:c="< unknown op >"}=bo(r),{spanId:p}=r.spanContext(),B=Us(r)===r;An.log(`[Tracing] Finishing "${c}" ${B?"root ":""}span "${s}" with ID ${p}`)}(this),this._onSpanEnded())}getSpanJSON(){return Ps({data:this._attributes,description:this._name,op:this._attributes[Tl],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:lc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ss],_metrics_summary:pu(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[hp],measurements:ef(this._events),is_segment:this._isStandaloneSpan&&Us(this)===this||void 0,segment_id:this._isStandaloneSpan?Us(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(s,c,p){Zi&&An.log("[Tracing] Adding an event to span:",s);const T=Pu(c)?c:p||Nr(),B=Pu(c)?{}:c||{},Z={name:s,time:jr(T),attributes:B};return this._events.push(Z),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const s=Wn();if(s&&s.emit("spanEnd",this),!this._isStandaloneSpan&&this!==Us(this))return;if(this._isStandaloneSpan)return void(this._sampled?function Km(r){const s=Wn();if(!s)return;const c=r[1];if(!c||0===c.length)return void s.recordDroppedEvent("before_send","span");const p=s.getTransport();p&&p.send(r).then(null,T=>{Zi&&An.error("Error while sending span:",T)})}(function Cm(r,s){const p=ll(r[0]),T=s&&s.getDsn(),B=s&&s.getOptions().tunnel,Z={sent_at:(new Date).toISOString(),...function c(St){return!!St.trace_id&&!!St.public_key}(p)&&{trace:p},...!!B&&T&&{dsn:oo(T)}},pe=s&&s.getOptions().beforeSendSpan,xe=pe?St=>pe(bo(St)):St=>bo(St),it=[];for(const St of r){const xt=xe(St);xt&&it.push(uE(xt))}return Wc(Z,it)}([this],s)):(Zi&&An.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","span")));const p=this._convertSpanToTransaction();p&&(Rd(this).scope||Pt()).captureEvent(p)}_convertSpanToTransaction(){if(!Up(bo(this)))return;this._name||(Zi&&An.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:s,isolationScope:c}=Rd(this),T=(s||Pt()).getClient()||Wn();if(!0!==this._sampled)return Zi&&An.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(T&&T.recordDroppedEvent("sample_rate","transaction"));const Z=al(this).filter(xt=>xt!==this&&!function nD(r){return r instanceof Fu&&r.isStandaloneSpan()}(xt)).map(xt=>bo(xt)).filter(Up),pe=this._attributes[ia],xe={contexts:{trace:bd(this)},spans:Z.length>1e3?Z.sort((xt,qt)=>xt.start_timestamp-qt.start_timestamp).slice(0,1e3):Z,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:s,capturedSpanIsolationScope:c,...Ps({dynamicSamplingContext:ll(this)})},_metrics_summary:pu(this),...pe&&{transaction_info:{source:pe}}},it=ef(this._events);return it&&Object.keys(it).length&&(Zi&&An.log("[Measurements] Adding measurements to transaction event",JSON.stringify(it,void 0,2)),xe.measurements=it),xe}}function Pu(r){return r&&"number"==typeof r||r instanceof Date||Array.isArray(r)}function Up(r){return!!(r.start_timestamp&&r.timestamp&&r.span_id&&r.trace_id)}const Ad="__SENTRY_SUPPRESS_TRACING__";function mc(r){const s=Nu();if(s.startInactiveSpan)return s.startInactiveSpan(r);const c=function kd(r){const c={isStandalone:(r.experimental||{}).standalone,...r};if(r.startTime){const p={...c};return p.startTimestamp=jr(r.startTime),delete p.startTime,p}return c}(r),{forceTransaction:p,parentSpan:T}=r;return(r.scope?Z=>Rn(r.scope,Z):void 0!==T?Z=>Lu(T,Z):Z=>Z())(()=>{const Z=Pt(),pe=function q0(r){const s=Fc(r);if(!s)return;const c=Wn();return(c?c.getOptions():{}).parentSpanIsAlwaysRootSpan?Us(s):s}(Z);return r.onlyIfParent&&!pe?new Jc:function zm({parentSpan:r,spanArguments:s,forceTransaction:c,scope:p}){if(!xd())return new Jc;const T=pn();let B;if(r&&!c)B=function tC(r,s,c){const{spanId:p,traceId:T}=r.spanContext(),B=!s.getScopeData().sdkProcessingMetadata[Ad]&&zo(r),Z=B?new Fu({...c,parentSpanId:p,traceId:T,sampled:B}):new Jc({traceId:T});Nc(r,Z);const pe=Wn();return pe&&(pe.emit("spanStart",Z),c.endTimestamp&&pe.emit("spanEnd",Z)),Z}(r,p,s),Nc(r,B);else if(r){const Z=ll(r),{traceId:pe,spanId:xe}=r.spanContext(),it=zo(r);B=Vp({traceId:pe,parentSpanId:xe,...s},p,it),cc(B,Z)}else{const{traceId:Z,dsc:pe,parentSpanId:xe,sampled:it}={...T.getPropagationContext(),...p.getPropagationContext()};B=Vp({traceId:Z,parentSpanId:xe,...s},p,it),pe&&cc(B,pe)}return function Np(r){if(!Zi)return;const{description:s="< unknown name >",op:c="< unknown op >",parent_span_id:p}=bo(r),{spanId:T}=r.spanContext(),B=zo(r),Z=Us(r),pe=Z===r,xe=`[Tracing] Starting ${B?"sampled":"unsampled"} ${pe?"root ":""}span`,it=[`op: ${c}`,`name: ${s}`,`ID: ${T}`];if(p&&it.push(`parent ID: ${p}`),!pe){const{op:St,description:xt}=bo(Z);it.push(`root ID: ${Z.spanContext().spanId}`),St&&it.push(`root op: ${St}`),xt&&it.push(`root description: ${xt}`)}An.log(`${xe}\n  ${it.join("\n  ")}`)}(B),function jp(r,s,c){r&&(ua(r,ku,c),ua(r,Bp,s))}(B,p,T),B}({parentSpan:pe,spanArguments:c,forceTransaction:p,scope:Z})})}function Lu(r,s){const c=Nu();return c.withActiveSpan?c.withActiveSpan(r,s):Rn(p=>(js(p,r||void 0),s(p)))}function Nu(){return gt(Qt())}function Vp(r,s,c){const p=Wn(),T=p&&p.getOptions()||{},{name:B="",attributes:Z}=r,[pe,xe]=s.getScopeData().sdkProcessingMetadata[Ad]?[!1]:function Gm(r,s){if(!xd(r))return[!1];let c;c="function"==typeof r.tracesSampler?r.tracesSampler(s):void 0!==s.parentSampled?s.parentSampled:typeof r.tracesSampleRate<"u"?r.tracesSampleRate:1;const p=Uh(c);return void 0===p?(Zi&&An.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):p?Math.random()<p?[!0,p]:(Zi&&An.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(c)})`),[!1,p]):(Zi&&An.log("[Tracing] Discarding transaction because "+("function"==typeof r.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,p])}(T,{name:B,parentSampled:c,attributes:Z,transactionContext:{name:B,parentSampled:c}}),it=new Fu({...r,attributes:{[ia]:"custom",...r.attributes},sampled:pe});return void 0!==xe&&it.setAttribute(Ml,xe),p&&p.emit("spanStart",it),it}const Bu=(r,s,c,p)=>{let T,B;return Z=>{s.value>=0&&(Z||p)&&(B=s.value-(T||0),(B||void 0===T)&&(T=s.value,s.delta=B,s.rating=((r,s)=>r>s[1]?"poor":r>s[0]?"needs-improvement":"good")(s.value,c),r(s)))}},Fd=()=>to.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],nf=()=>{const r=Fd();return r&&r.activationStart||0},ju=(r,s)=>{const c=Fd();let p="navigate";return c&&(to.document&&to.document.prerendering||nf()>0?p="prerender":to.document&&to.document.wasDiscarded?p="restore":c.type&&(p=c.type.replace(/_/g,"-"))),{name:r,value:typeof s>"u"?-1:s,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:p}},Zc=(r,s,c)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(r)){const p=new PerformanceObserver(T=>{Promise.resolve().then(()=>{s(T.getEntries())})});return p.observe(Object.assign({type:r,buffered:!0},c||{})),p}}catch{}},$u=r=>{const s=c=>{("pagehide"===c.type||to.document&&"hidden"===to.document.visibilityState)&&r(c)};to.document&&(addEventListener("visibilitychange",s,!0),addEventListener("pagehide",s,!0))},Kp=r=>{let s=!1;return c=>{s||(r(c),s=!0)}};let gc=-1;const Pd=r=>{"hidden"===to.document.visibilityState&&gc>-1&&(gc="visibilitychange"===r.type?r.timeStamp:0,removeEventListener("visibilitychange",Pd,!0),removeEventListener("prerenderingchange",Pd,!0))},sf=()=>(to.document&&gc<0&&(gc="hidden"!==to.document.visibilityState||to.document.prerendering?1/0:0,addEventListener("visibilitychange",Pd,!0),addEventListener("prerenderingchange",Pd,!0)),{get firstHiddenTime(){return gc}}),Uu=r=>{to.document&&to.document.prerendering?addEventListener("prerenderingchange",()=>r(),!0):r()},zp=[1800,3e3],n1=[.1,.25],Wp=(r,s={})=>{((r,s={})=>{Uu(()=>{const c=sf(),p=ju("FCP");let T;const Z=Zc("paint",pe=>{pe.forEach(xe=>{"first-contentful-paint"===xe.name&&(Z.disconnect(),xe.startTime<c.firstHiddenTime&&(p.value=Math.max(xe.startTime-nf(),0),p.entries.push(xe),T(!0)))})});Z&&(T=Bu(r,p,zp,s.reportAllChanges))})})(Kp(()=>{const c=ju("CLS",0);let p,T=0,B=[];const Z=xe=>{xe.forEach(it=>{if(!it.hadRecentInput){const St=B[0],xt=B[B.length-1];T&&St&&xt&&it.startTime-xt.startTime<1e3&&it.startTime-St.startTime<5e3?(T+=it.value,B.push(it)):(T=it.value,B=[it])}}),T>c.value&&(c.value=T,c.entries=B,p())},pe=Zc("layout-shift",Z);pe&&(p=Bu(r,c,n1,s.reportAllChanges),$u(()=>{Z(pe.takeRecords()),p(!0)}),setTimeout(p,0))}))},Xm=[100,300],Vu=(r,s={})=>{Uu(()=>{const c=sf(),p=ju("FID");let T;const B=xe=>{xe.startTime<c.firstHiddenTime&&(p.value=xe.processingStart-xe.startTime,p.entries.push(xe),T(!0))},Z=xe=>{xe.forEach(B)},pe=Zc("first-input",Z);T=Bu(r,p,Xm,s.reportAllChanges),pe&&$u(Kp(()=>{Z(pe.takeRecords()),pe.disconnect()}))})};let o1=0,Hm=1/0,Ym=0;const Xp=r=>{r.forEach(s=>{s.interactionId&&(Hm=Math.min(Hm,s.interactionId),Ym=Math.max(Ym,s.interactionId),o1=Ym?(Ym-Hm)/7+1:0)})};let rf;const a1=[200,500],l1=()=>(rf?o1:performance.interactionCount||0)-0,vc=[],Qm={},d1=r=>{const s=vc[vc.length-1],c=Qm[r.interactionId];if(c||vc.length<10||s&&r.duration>s.latency){if(c)c.entries.push(r),c.latency=Math.max(c.latency,r.duration);else{const p={id:r.interactionId,latency:r.duration,entries:[r]};Qm[p.id]=p,vc.push(p)}vc.sort((p,T)=>T.latency-p.latency),vc.splice(10).forEach(p=>{delete Qm[p.id]})}},Gu=(r,s={})=>{Uu(()=>{"interactionCount"in performance||rf||(rf=Zc("event",Xp,{type:"event",buffered:!0,durationThreshold:0}));const c=ju("INP");let p;const T=Z=>{Z.forEach(xe=>{xe.interactionId&&d1(xe),"first-input"===xe.entryType&&!vc.some(St=>St.entries.some(xt=>xe.duration===xt.duration&&xe.startTime===xt.startTime))&&d1(xe)});const pe=(()=>{const r=Math.min(vc.length-1,Math.floor(l1()/50));return vc[r]})();pe&&pe.latency!==c.value&&(c.value=pe.latency,c.entries=pe.entries,p())},B=Zc("event",T,{durationThreshold:null!=s.durationThreshold?s.durationThreshold:40});p=Bu(r,c,a1,s.reportAllChanges),B&&("PerformanceEventTiming"in to&&"interactionId"in PerformanceEventTiming.prototype&&B.observe({type:"first-input",buffered:!0}),$u(()=>{T(B.takeRecords()),c.value<0&&l1()>0&&(c.value=0,c.entries=[]),p(!0)}))})},iC=[2500,4e3],u1={},oC=(r,s={})=>{Uu(()=>{const c=sf(),p=ju("LCP");let T;const B=pe=>{const xe=pe[pe.length-1];xe&&xe.startTime<c.firstHiddenTime&&(p.value=Math.max(xe.startTime-nf(),0),p.entries=[xe],T())},Z=Zc("largest-contentful-paint",B);if(Z){T=Bu(r,p,iC,s.reportAllChanges);const pe=Kp(()=>{u1[p.id]||(B(Z.takeRecords()),Z.disconnect(),u1[p.id]=!0,T(!0))});["keydown","click"].forEach(xe=>{to.document&&addEventListener(xe,()=>setTimeout(pe,0),!0)}),$u(pe)}})},sC=[800,1800],Jm=r=>{to.document&&to.document.prerendering?Uu(()=>Jm(r)):to.document&&"complete"!==to.document.readyState?addEventListener("load",()=>Jm(r),!0):setTimeout(r,0)},rC=(r,s={})=>{const c=ju("TTFB"),p=Bu(r,c,sC,s.reportAllChanges);Jm(()=>{const T=Fd();if(T){const B=T.responseStart;if(B<=0||B>performance.now())return;c.value=Math.max(B-nf(),0),c.entries=[T],p(!0)}})},Ku={},Hp={};let h1,f1,p1,af,Wl;function zu(r,s=!1){return df("cls",r,eg,h1,s)}function Zm(r,s=!1){return df("lcp",r,rD,p1,s)}function qm(r){return df("fid",r,tg,f1)}function aC(r){return df("inp",r,m1,Wl)}function lf(r,s){return g1(r,s),Hp[r]||(function lC(r){const s={};"event"===r&&(s.durationThreshold=0),Zc(r,c=>{cf(r,{entries:c})},s)}(r),Hp[r]=!0),v1(r,s)}function cf(r,s){const c=Ku[r];if(c&&c.length)for(const p of c)try{p(s)}catch(T){Pa&&An.error(`Error while triggering instrumentation handler.\nType: ${r}\nName: ${Sl(p)}\nError:`,T)}}function eg(){return Wp(r=>{cf("cls",{metric:r}),h1=r},{reportAllChanges:!0})}function tg(){return Vu(r=>{cf("fid",{metric:r}),f1=r})}function rD(){return oC(r=>{cf("lcp",{metric:r}),p1=r},{reportAllChanges:!0})}function aD(){return rC(r=>{cf("ttfb",{metric:r}),af=r})}function m1(){return Gu(r=>{cf("inp",{metric:r}),Wl=r})}function df(r,s,c,p,T=!1){let B;return g1(r,s),Hp[r]||(B=c(),Hp[r]=!0),p&&s({metric:p}),v1(r,s,T?B:void 0)}function g1(r,s){Ku[r]=Ku[r]||[],Ku[r].push(s)}function v1(r,s,c){return()=>{c&&c();const p=Ku[r];if(!p)return;const T=p.indexOf(s);-1!==T&&p.splice(T,1)}}function Yp(r){return"number"==typeof r&&isFinite(r)}function Nd(r,s,c,{...p}){const T=bo(r).start_timestamp;return T&&T>s&&"function"==typeof r.updateStartTime&&r.updateStartTime(s),Lu(r,()=>{const B=mc({startTime:s,...p});return B&&B.end(c),B})}function ng(){return to&&to.addEventListener&&to.performance}function qs(r){return r/1e3}const b1=2147483647;let ul,hf,uf=0,Er={};function og(r,s,c,p,T,B){const Z=B?s[B]:s[`${c}End`],pe=s[`${c}Start`];!pe||!Z||Nd(r,p+qs(pe),p+qs(Z),{op:"browser",name:T||c,attributes:{[Ss]:"auto.ui.browser.metrics"}})}function Qp(r,s,c,p){const T=s[c];null!=T&&T<b1&&(r[p]=T)}const sg=[],Jp=new Map;const S1={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},ag={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function EC(r,s={}){const c=new Map;let T,p=!1,B="externalFinish",Z=!s.disableAutoFinish;const pe=[],{idleTimeout:xe=ag.idleTimeout,finalTimeout:it=ag.finalTimeout,childSpanTimeout:St=ag.childSpanTimeout,beforeSpanEnd:xt}=s,qt=Wn();if(!qt||!xd())return new Jc;const ln=Pt(),an=Qo(),yn=function hD(r){const s=mc(r);return js(Pt(),s),Zi&&An.log("[Tracing] Started span is an idle span"),s}(r);function Xn(){T&&(clearTimeout(T),T=void 0)}function qn(jn){Xn(),T=setTimeout(()=>{!p&&0===c.size&&Z&&(B="idleTimeout",yn.end(jn))},xe)}function ui(jn){T=setTimeout(()=>{!p&&Z&&(B="heartbeatFailed",yn.end(jn))},St)}function Ui(jn){p=!0,c.clear(),pe.forEach(Ri=>Ri()),js(ln,an);const Un=bo(yn),{start_timestamp:Si}=Un;if(!Si)return;(Un.data||{})[ac]||yn.setAttribute(ac,B),An.log(`[Tracing] Idle span "${Un.op}" finished`);const ci=al(yn).filter(Ri=>Ri!==yn);let xi=0;ci.forEach(Ri=>{Ri.isRecording()&&(Ri.setStatus({code:li,message:"cancelled"}),Ri.end(jn),Zi&&An.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Ri,void 0,2)));const Zo=bo(Ri),{timestamp:ss=0,start_timestamp:Ks=0}=Zo,Vn=Ks<=jn,ai=ss-Ks<=(it+xe)/1e3;if(Zi){const zi=JSON.stringify(Ri,void 0,2);Vn?ai||An.log("[Tracing] Discarding span since it finished after idle span final timeout",zi):An.log("[Tracing] Discarding span since it happened after idle span was finished",zi)}(!ai||!Vn)&&(function Bc(r,s){r[Wa]&&r[Wa].delete(s)}(yn,Ri),xi++)}),xi>0&&yn.setAttribute("sentry.idle_span_discarded_spans",xi)}return yn.end=new Proxy(yn.end,{apply(jn,Un,Si){xt&&xt(yn);const[qi,...ci]=Si,Ri=jr(qi||Nr()),Zo=al(yn).filter(ai=>ai!==yn);if(!Zo.length)return Ui(Ri),Reflect.apply(jn,Un,[Ri,...ci]);const ss=Zo.map(ai=>bo(ai).timestamp).filter(ai=>!!ai),Ks=ss.length?Math.max(...ss):void 0,Vn=bo(yn).start_timestamp,_i=Math.min(Vn?Vn+it/1e3:1/0,Math.max(Vn||-1/0,Math.min(Ri,Ks||1/0)));return Ui(_i),Reflect.apply(jn,Un,[_i,...ci])}}),pe.push(qt.on("spanStart",jn=>{p||jn===yn||bo(jn).timestamp||al(yn).includes(jn)&&function Ti(jn){Xn(),c.set(jn,!0),ui(Nr()+St/1e3)}(jn.spanContext().spanId)})),pe.push(qt.on("spanEnd",jn=>{p||function di(jn){c.has(jn)&&c.delete(jn),0===c.size&&qn(Nr()+xe/1e3)}(jn.spanContext().spanId)})),pe.push(qt.on("idleSpanEnableAutoFinish",jn=>{jn===yn&&(Z=!0,qn(),c.size&&ui())})),s.disableAutoFinish||qn(),setTimeout(()=>{p||(yn.setStatus({code:li,message:"deadline_exceeded"}),B="finalTimeout",yn.end())},it),yn}let CC=!1;function Wu(){const r=Qo(),s=r&&Us(r);if(s){const c="internal_error";Zi&&An.log(`[Tracing] Root span: ${c} -> Global error occured`),s.setStatus({code:li,message:c})}}Wu.tag="sentry_tracingErrorCallback";const qp={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function O1(r){const{traceFetch:s,traceXHR:c,shouldCreateSpanForRequest:p,enableHTTPTimings:T,tracePropagationTargets:B}={traceFetch:qp.traceFetch,traceXHR:qp.traceXHR,...r},Z="function"==typeof p?p:it=>!0,pe=it=>function MC(r,s){const c=Ji.location&&Ji.location.href;if(c){let p,T;try{p=new URL(r,c),T=new URL(c).origin}catch{return!1}const B=p.origin===T;return s?Tr(p.toString(),s)||B&&Tr(p.pathname,s):B}{const p=!!r.match(/^\/(?!\/)/);return s?Tr(r,s):p}}(it,B),xe={};s&&O0(it=>{const St=function M1(r,s,c,p,T="auto.http.browser"){if(!r.fetchData)return;const B=xd()&&s(r.fetchData.url);if(r.endTimestamp&&B){const an=r.fetchData.__span;if(!an)return;const yn=p[an];return void(yn&&(function I1(r,s){if(s.response){za(r,s.response.status);const c=s.response&&s.response.headers&&s.response.headers.get("content-length");if(c){const p=parseInt(c);p>0&&r.setAttribute("http.response_content_length",p)}}else s.error&&r.setStatus({code:li,message:"internal_error"});r.end()}(yn,r),delete p[an]))}const Z=Pt(),pe=Wn(),{method:xe,url:it}=r.fetchData,St=function D1(r){try{return new URL(r).href}catch{return}}(it),xt=St?wd(St).host:void 0,qt=!!Qo(),ln=B&&qt?mc({name:`${xe} ${it}`,attributes:{url:it,type:"fetch","http.method":xe,"http.url":St,"server.address":xt,[Ss]:T,[Tl]:"http.client"}}):new Jc;if(r.fetchData.__span=ln.spanContext().spanId,p[ln.spanContext().spanId]=ln,c(r.fetchData.url)&&pe){const an=r.args[0];r.args[1]=r.args[1]||{};const yn=r.args[1];yn.headers=function T1(r,s,c,p,T){const B=pn(),{traceId:Z,spanId:pe,sampled:xe,dsc:it}={...B.getPropagationContext(),...c.getPropagationContext()},St=T?$s(T):fp(Z,pe,xe),xt=rc(it||(T?ll(T):Aa(Z,s))),qt=p.headers||(typeof Request<"u"&&Re(r,Request)?r.headers:void 0);if(qt){if(typeof Headers<"u"&&Re(qt,Headers)){const ln=new Headers(qt);return ln.append("sentry-trace",St),xt&&ln.append(Ul,xt),ln}if(Array.isArray(qt)){const ln=[...qt,["sentry-trace",St]];return xt&&ln.push([Ul,xt]),ln}{const ln="baggage"in qt?qt.baggage:void 0,an=[];return Array.isArray(ln)?an.push(...ln):ln&&an.push(ln),xt&&an.push(xt),{...qt,"sentry-trace":St,baggage:an.length>0?an.join(","):void 0}}}return{"sentry-trace":St,baggage:xt}}(an,pe,Z,yn,xd()&&qt?ln:void 0)}return ln}(it,Z,pe,xe);if(St){const xt=cg(it.fetchData.url),qt=xt?wd(xt).host:void 0;St.setAttributes({"http.url":xt,"server.address":qt})}T&&St&&La(St)}),c&&lr(it=>{const St=function pD(r,s,c,p){const T=r.xhr,B=T&&T[dl];if(!T||T.__sentry_own_request__||!B)return;const Z=xd()&&s(B.url);if(r.endTimestamp&&Z){const qt=T.__sentry_xhr_span_id__;if(!qt)return;const ln=p[qt];return void(ln&&void 0!==B.status_code&&(za(ln,B.status_code),ln.end(),delete p[qt]))}const pe=cg(B.url),xe=pe?wd(pe).host:void 0,it=!!Qo(),St=Z&&it?mc({name:`${B.method} ${B.url}`,attributes:{type:"xhr","http.method":B.method,"http.url":pe,url:B.url,"server.address":xe,[Ss]:"auto.http.browser",[Tl]:"http.client"}}):new Jc;T.__sentry_xhr_span_id__=St.spanContext().spanId,p[T.__sentry_xhr_span_id__]=St;const xt=Wn();return T.setRequestHeader&&c(B.url)&&xt&&function _D(r,s,c){const p=Pt(),T=pn(),{traceId:B,spanId:Z,sampled:pe,dsc:xe}={...T.getPropagationContext(),...p.getPropagationContext()};!function w1(r,s,c){try{r.setRequestHeader("sentry-trace",s),c&&r.setRequestHeader(Ul,c)}catch{}}(r,c&&xd()?$s(c):fp(B,Z,pe),rc(xe||(c?ll(c):Aa(B,s))))}(T,xt,xd()&&it?St:void 0),St}(it,Z,pe,xe);T&&St&&La(St)})}function La(r){const{url:s}=bo(r).data||{};if(!s||"string"!=typeof s)return;const c=lf("resource",({entries:p})=>{p.forEach(T=>{(function Xu(r){return"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)})(T)&&T.name.endsWith(s)&&(function fD(r){const{name:s,version:c}=function Na(r){let s="unknown",c="unknown",p="";for(const T of r){if("/"===T){[s,c]=r.split("/");break}if(!isNaN(Number(T))){s="h"===p?"http":p,c=r.split(p)[1];break}p+=T}return p===r&&(s=p),{name:s,version:c}}(r.nextHopProtocol),p=[];return p.push(["network.protocol.version",c],["network.protocol.name",s]),Dr?[...p,["http.request.redirect_start",wl(r.redirectStart)],["http.request.fetch_start",wl(r.fetchStart)],["http.request.domain_lookup_start",wl(r.domainLookupStart)],["http.request.domain_lookup_end",wl(r.domainLookupEnd)],["http.request.connect_start",wl(r.connectStart)],["http.request.secure_connection_start",wl(r.secureConnectionStart)],["http.request.connection_end",wl(r.connectEnd)],["http.request.request_start",wl(r.requestStart)],["http.request.response_start",wl(r.responseStart)],["http.request.response_end",wl(r.responseEnd)]]:p}(T).forEach(Z=>r.setAttribute(...Z)),setTimeout(c))})})}function wl(r=0){return((Dr||performance.timeOrigin)+r)/1e3}function cg(r){try{return new URL(r,Ji.location.origin).href}catch{return}}const e_={...ag,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...qp},dg=(r={})=>{!function SC(){CC||(CC=!0,xE(Wu),L0(Wu))}();const{enableInp:s,enableLongTask:c,enableLongAnimationFrame:p,_experiments:{enableInteractions:T},beforeStartSpan:B,idleTimeout:Z,finalTimeout:pe,childSpanTimeout:xe,markBackgroundSpan:it,traceFetch:St,traceXHR:xt,shouldCreateSpanForRequest:qt,enableHTTPTimings:ln,instrumentPageLoad:an,instrumentNavigation:yn}={...e_,...r},Xn=function Bd(){const r=ng();if(r&&Dr){r.mark&&to.performance.mark("sentry-tracing-init");const s=function hC(){return qm(({metric:r})=>{const s=r.entries[r.entries.length-1];if(!s)return;const c=qs(Dr),p=qs(s.startTime);Pa&&An.log("[Measurements] Adding FID"),Er.fid={value:r.value,unit:"millisecond"},Er["mark.fid"]={value:c+p,unit:"second"}})}(),c=function E1(){return zu(({metric:r})=>{const s=r.entries[r.entries.length-1];s&&(Pa&&An.log("[Measurements] Adding CLS"),Er.cls={value:r.value,unit:""},hf=s)},!0)}(),p=function uC(){return Zm(({metric:r})=>{const s=r.entries[r.entries.length-1];s&&(Pa&&An.log("[Measurements] Adding LCP"),Er.lcp={value:r.value,unit:"millisecond"},ul=s)},!0)}(),T=function fC(){return function _1(r){return df("ttfb",r,aD,af)}(({metric:r})=>{r.entries[r.entries.length-1]&&(Pa&&An.log("[Measurements] Adding TTFB"),Er.ttfb={value:r.value,unit:"millisecond"})})}();return()=>{s(),c(),p(),T()}}return()=>{}}();s&&function bC(){if(ng()&&Dr){const s=function yC(){return aC(({metric:r})=>{const s=Wn();if(!s||null==r.value)return;const c=r.entries.find(jn=>jn.duration===r.value&&S1[jn.name]);if(!c)return;const{interactionId:p}=c,T=S1[c.name],B=s.getOptions(),Z=qs(Dr+c.startTime),pe=qs(r.value),xe=Pt(),it=Qo(),St=it?Us(it):void 0,qt=(null!=p?Jp.get(p):void 0)||St,ln=qt?bo(qt).description:xe.getScopeData().transactionName,an=xe.getUser(),yn=s.getIntegrationByName("Replay"),Xn=yn&&yn.getReplayId(),qn=void 0!==an?an.email||an.id||an.ip_address:void 0;let ui;try{ui=xe.getScopeData().contexts.profile.profile_id}catch{}const Ui=mc({name:wn(c.target),op:`ui.interaction.${T}`,attributes:Ps({release:B.release,environment:B.environment,transaction:ln,[hp]:r.value,[Ss]:"auto.http.browser.inp",user:qn||void 0,profile_id:ui||void 0,replay_id:Xn||void 0,"user_agent.original":to.navigator&&to.navigator.userAgent}),startTime:Z,experimental:{standalone:!0}});Ui.addEvent("inp",{[dp]:"millisecond",[up]:r.value}),Ui.end(Z+pe)})}();return()=>{s()}}return()=>{}}(),p&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function dC(){new PerformanceObserver(s=>{for(const c of s.getEntries()){if(!Qo()||!c.scripts[0])return;const p=qs(Dr+c.startTime),T=qs(c.duration),B={[Ss]:"auto.ui.browser.metrics"},Z=c.scripts[0];if(Z){const{invoker:xe,invokerType:it,sourceURL:St,sourceFunctionName:xt,sourceCharPosition:qt}=Z;B["browser.script.invoker"]=xe,B["browser.script.invoker_type"]=it,St&&(B["code.filepath"]=St),xt&&(B["code.function"]=xt),-1!==qt&&(B["browser.script.source_char_position"]=qt)}const pe=mc({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:p,attributes:B});pe&&pe.end(p+T)}}).observe({type:"long-animation-frame",buffered:!0})}():c&&function y1(){lf("longtask",({entries:r})=>{for(const s of r){if(!Qo())return;const c=qs(Dr+s.startTime),p=qs(s.duration),T=mc({name:"Main UI thread blocked",op:"ui.long-task",startTime:c,attributes:{[Ss]:"auto.ui.browser.metrics"}});T&&T.end(c+p)}})}(),T&&function ig(){lf("event",({entries:r})=>{for(const s of r){if(!Qo())return;if("click"===s.name){const c=qs(Dr+s.startTime),p=qs(s.duration),T={name:wn(s.target),op:`ui.interaction.${s.name}`,startTime:c,attributes:{[Ss]:"auto.ui.browser.metrics"}},B=Io(s.target);B&&(T.attributes["ui.component_name"]=B);const Z=mc(T);Z&&Z.end(c+p)}}})}();const qn={name:void 0,source:void 0};function ui(Ti,di){const Ui="pageload"===di.op,jn=B?B(di):di,Un=jn.attributes||{};di.name!==jn.name&&(Un[ia]="custom",jn.attributes=Un),qn.name=jn.name,qn.source=Un[ia];const Si=EC(jn,{idleTimeout:Z,finalTimeout:pe,childSpanTimeout:xe,disableAutoFinish:Ui,beforeSpanEnd:ci=>{Xn(),function pC(r){const s=ng();if(!s||!to.performance.getEntries||!Dr)return;Pa&&An.log("[Tracing] Adding & adjusting spans using Performance API");const c=qs(Dr),p=s.getEntries(),{op:T,start_timestamp:B}=bo(r);if(p.slice(uf).forEach(Z=>{const pe=qs(Z.startTime),xe=qs(Math.max(0,Z.duration));if(!("navigation"===T&&B&&c+pe<B))switch(Z.entryType){case"navigation":!function lD(r,s,c){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(p=>{og(r,s,p,c)}),og(r,s,"secureConnection",c,"TLS/SSL","connectEnd"),og(r,s,"fetch",c,"cache","domainLookupStart"),og(r,s,"domainLookup",c,"DNS"),function ff(r,s,c){const p=c+qs(s.requestStart),T=c+qs(s.responseEnd),B=c+qs(s.responseStart);s.responseEnd&&(Nd(r,p,T,{op:"browser",name:"request",attributes:{[Ss]:"auto.ui.browser.metrics"}}),Nd(r,B,T,{op:"browser",name:"response",attributes:{[Ss]:"auto.ui.browser.metrics"}}))}(r,s,c)}(r,Z,c);break;case"mark":case"paint":case"measure":{!function C1(r,s,c,p,T){const B=Fd(),Z=qs(B?B.requestStart:0),pe=T+Math.max(c,Z),xe=T+c,it=xe+p,St={[Ss]:"auto.resource.browser.metrics"};pe!==xe&&(St["sentry.browser.measure_happened_before_request"]=!0,St["sentry.browser.measure_start_time"]=pe),Nd(r,pe,it,{name:s.name,op:s.entryType,attributes:St})}(r,Z,pe,xe,c);const it=sf(),St=Z.startTime<it.firstHiddenTime;"first-paint"===Z.name&&St&&(Pa&&An.log("[Measurements] Adding FP"),Er.fp={value:Z.startTime,unit:"millisecond"}),"first-contentful-paint"===Z.name&&St&&(Pa&&An.log("[Measurements] Adding FCP"),Er.fcp={value:Z.startTime,unit:"millisecond"});break}case"resource":!function _C(r,s,c,p,T,B){if("xmlhttprequest"===s.initiatorType||"fetch"===s.initiatorType)return;const Z=wd(c),pe={[Ss]:"auto.resource.browser.metrics"};Qp(pe,s,"transferSize","http.response_transfer_size"),Qp(pe,s,"encodedBodySize","http.response_content_length"),Qp(pe,s,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in s&&(pe["resource.render_blocking_status"]=s.renderBlockingStatus),Z.protocol&&(pe["url.scheme"]=Z.protocol.split(":").pop()),Z.host&&(pe["server.address"]=Z.host),pe["url.same_origin"]=c.includes(to.location.origin);const xe=B+p;Nd(r,xe,xe+T,{name:c.replace(to.location.origin,""),op:s.initiatorType?`resource.${s.initiatorType}`:"resource.other",attributes:pe})}(r,Z,Z.name,pe,xe,c)}}),uf=Math.max(p.length-1,0),function mC(r){const s=to.navigator;if(!s)return;const c=s.connection;c&&(c.effectiveType&&r.setAttribute("effectiveConnectionType",c.effectiveType),c.type&&r.setAttribute("connectionType",c.type),Yp(c.rtt)&&(Er["connection.rtt"]={value:c.rtt,unit:"millisecond"})),Yp(s.deviceMemory)&&r.setAttribute("deviceMemory",`${s.deviceMemory} GB`),Yp(s.hardwareConcurrency)&&r.setAttribute("hardwareConcurrency",String(s.hardwareConcurrency))}(r),"pageload"===T){(function vC(r){const s=Fd();if(!s)return;const{responseStart:c,requestStart:p}=s;p<=c&&(Pa&&An.log("[Measurements] Adding TTFB Request Time"),r["ttfb.requestTime"]={value:c-p,unit:"millisecond"})})(Er),["fcp","fp","lcp"].forEach(pe=>{const xe=Er[pe];if(!xe||!B||c>=B)return;const it=xe.value,St=c+qs(it),xt=Math.abs(1e3*(St-B));Pa&&An.log(`[Measurements] Normalized ${pe} from ${it} to ${xt} (${xt-it})`),xe.value=xt});const Z=Er["mark.fid"];Z&&Er.fid&&(Nd(r,Z.value,Z.value+qs(Er.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ss]:"auto.ui.browser.metrics"}}),delete Er["mark.fid"]),"fcp"in Er||delete Er.cls,Object.entries(Er).forEach(([pe,xe])=>{!function Au(r,s,c){const p=Qo(),T=p&&Us(p);T&&T.addEvent(r,{[up]:s,[dp]:c})}(pe,xe.value,xe.unit)}),function gC(r){ul&&(Pa&&An.log("[Measurements] Adding LCP Data"),ul.element&&r.setAttribute("lcp.element",wn(ul.element)),ul.id&&r.setAttribute("lcp.id",ul.id),ul.url&&r.setAttribute("lcp.url",ul.url.trim().slice(0,200)),r.setAttribute("lcp.size",ul.size)),hf&&hf.sources&&(Pa&&An.log("[Measurements] Adding CLS Data"),hf.sources.forEach((s,c)=>r.setAttribute(`cls.source.${c+1}`,wn(s.node))))}(r)}ul=void 0,hf=void 0,Er={}}(ci)}});function qi(){["interactive","complete"].includes(Ji.document.readyState)&&Ti.emit("idleSpanEnableAutoFinish",Si)}return Ui&&Ji.document&&(Ji.document.addEventListener("readystatechange",()=>{qi()}),qi()),Si}return{name:"BrowserTracing",afterAllSetup(Ti){let di,Ui=Ji.location&&Ji.location.href;Ti.on("startNavigationSpan",jn=>{Wn()===Ti&&(di&&!bo(di).timestamp&&(Ja&&An.log(`[Tracing] Finishing current root span with op: ${bo(di).op}`),di.end()),di=ui(Ti,{op:"navigation",...jn}))}),Ti.on("startPageLoadSpan",(jn,Un={})=>{if(Wn()!==Ti)return;di&&!bo(di).timestamp&&(Ja&&An.log(`[Tracing] Finishing current root span with op: ${bo(di).op}`),di.end());const ci=function fu(r,s){const c=function vd(r){if(!r)return;const s=r.match(t0);if(!s)return;let c;return"1"===s[3]?c=!0:"0"===s[3]&&(c=!1),{traceId:s[1],parentSampled:c,parentSpanId:s[2]}}(r),p=xh(s),{traceId:T,parentSpanId:B,parentSampled:Z}=c||{};return c?{traceId:T||Ko(),parentSpanId:B||Ko().substring(16),spanId:Ko().substring(16),sampled:Z,dsc:p||{}}:{traceId:T||Ko(),spanId:Ko().substring(16)}}(Un.sentryTrace||jd("sentry-trace"),Un.baggage||jd("baggage"));Pt().setPropagationContext(ci),di=ui(Ti,{op:"pageload",...jn})}),Ti.on("spanEnd",jn=>{const Un=bo(jn).op;if(jn!==Us(jn)||"navigation"!==Un&&"pageload"!==Un)return;const Si=Pt(),qi=Si.getPropagationContext();Si.setPropagationContext({...qi,sampled:void 0!==qi.sampled?qi.sampled:zo(jn),dsc:qi.dsc||ll(jn)})}),Ji.location&&(an&&function ug(r,s,c){r.emit("startPageLoadSpan",s,c),Pt().setTransactionName(s.name);const p=Qo();p&&bo(p)}(Ti,{name:Ji.location.pathname,startTime:Dr?Dr/1e3:void 0,attributes:{[ia]:"url",[Ss]:"auto.pageload.browser"}}),yn&&Su(({to:jn,from:Un})=>{void 0===Un&&Ui&&-1!==Ui.indexOf(jn)?Ui=void 0:Un!==jn&&(Ui=void 0,x1(Ti,{name:Ji.location.pathname,attributes:{[ia]:"url",[Ss]:"auto.navigation.browser"}}))})),it&&function Zp(){Ji&&Ji.document?Ji.document.addEventListener("visibilitychange",()=>{const r=Qo();if(!r)return;const s=Us(r);if(Ji.document.hidden&&s){const c="cancelled",{op:p,status:T}=bo(s);Ja&&An.log(`[Tracing] Transaction: ${c} -> since tab moved to the background, op: ${p}`),T||s.setStatus({code:li,message:c}),s.setAttribute("sentry.cancellation_reason","document.hidden"),s.end()}}):Ja&&An.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),T&&function hg(r,s,c,p){let T;Ji.document&&addEventListener("click",()=>{const Z="ui.action.click",pe=Qo(),xe=pe&&Us(pe);if(xe){const it=bo(xe).op;if(["navigation","pageload"].includes(it))return void(Ja&&An.warn(`[Tracing] Did not create ${Z} span because a pageload or navigation span is in progress.`))}T&&(T.setAttribute(ac,"interactionInterrupted"),T.end(),T=void 0),p.name?T=EC({name:p.name,op:Z,attributes:{[ia]:p.source||"url"}},{idleTimeout:r,finalTimeout:s,childSpanTimeout:c}):Ja&&An.warn(`[Tracing] Did not create ${Z} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(Z,pe,xe,qn),s&&function rg(r){const s=({entries:c})=>{const p=Qo(),T=p&&Us(p);c.forEach(B=>{if(!function cC(r){return"duration"in r}(B)||!T)return;const Z=B.interactionId;if(null!=Z&&!Jp.has(Z)){if(sg.length>10){const pe=sg.shift();Jp.delete(pe)}sg.push(Z),Jp.set(Z,T)}})};lf("event",s),lf("first-input",s)}(),O1({traceFetch:St,traceXHR:xt,tracePropagationTargets:Ti.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:qt,enableHTTPTimings:ln})}}};function x1(r,s){pn().setPropagationContext(Va()),Pt().setPropagationContext(Va()),r.emit("startNavigationSpan",s),Pt().setTransactionName(s.name);const c=Qo();return"navigation"===(c&&bo(c).op)?c:void 0}function jd(r){const s=function Qi(r){return zt.document&&zt.document.querySelector?zt.document.querySelector(r):null}(`meta[name=${r}]`);return s?s.getAttribute("content"):void 0}var R1=a(4337);const t_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;const A1=typeof Zone<"u"&&Zone.root&&Zone.root.run;function yc(r){return A1?Zone.root.run(r):r()}function i_(r){if(r instanceof Error)return!0;if(null===r||"object"!=typeof r)return!1;const s=r;return Ni(s.name)&&Ni(s.message)&&(void 0===s.stack||Ni(s.stack))}let s_,pf=(()=>{class r{constructor(c){this._options={logErrors:!0,...c}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(c){const p=this._extractError(c)||"Handled unknown error",T=yc(()=>uc(p,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(p),this._options.showDialog){const B=Wn();B&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=B.on("afterSendEvent",Z=>{!Z.type&&Z.event_id&&yc(()=>{QE({...this._options.dialogOptions,eventId:Z.event_id})})}):B||yc(()=>{QE({...this._options.dialogOptions,eventId:T})})}}_extractError(c){if(this._options.extractor){const p=this._defaultExtractor.bind(this);return this._options.extractor(c,p)}return this._defaultExtractor(c)}_defaultExtractor(c){const p=function IC(r){return r&&r.ngOriginalError?r.ngOriginalError:r}(c);return p instanceof Ta.yz?function k1(r){return i_(r.error)?r.error:typeof ErrorEvent<"u"&&r.error instanceof ErrorEvent&&r.error.message?r.error.message:"string"==typeof r.error?`Server returned code ${r.status} with body "${r.error}"`:r.message}(p):"string"==typeof p||i_(p)?p:null}}return r.\u0275fac=function(c){return new(c||r)(n.KVO("errorHandlerOptions"))},r.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function o_(r){return new pf(r)}function F1(r={}){return!1!==r.instrumentNavigation&&(s_=!0),dg({...r,instrumentNavigation:!1})}let pg=(()=>{class r{constructor(c){this._router=c,this.navStart$=this._router.events.pipe((0,Ns.p)(p=>p instanceof ds.Z),(0,ks.M)(p=>{if(!s_)return void(t_&&An.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const T=Wn(),B=function R0(r){return r.split(/[?#]/,1)[0]}(p.url);return T?(this._isPageloadOngoing()?this._pageloadOngoing=!1:yc(()=>{x1(T,{name:B,attributes:{[Ss]:"auto.navigation.angular",[ia]:"url"}})}),void(this._routingSpan=yc(()=>mc({name:`${p.url}`,op:"ui.angular.routing",attributes:{[Ss]:"auto.ui.angular",[ia]:"url",url:B,...p.navigationTrigger&&{navigationTrigger:p.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,Ns.p)(p=>p instanceof ds.gx),(0,ks.M)(p=>{const T=function P1(r){const s=[];let c=r&&r.firstChild;for(;c;){const T=c&&c.routeConfig&&c.routeConfig.path;if(null==T)break;s.push(T),c=c.firstChild}const p=s.filter(T=>T).join("/");return p?`/${p}/`:"/"}(p.state.root);T&&Pt().setTransactionName(T);const B=Qo();!function $d(r,s){const c=s&&bo(s).data||{};s&&"url"===c[ia]&&(s.updateName(r),s.setAttribute(ia,"route"),s.setAttribute(Ss,`auto.${bo(s).op}.angular`))}(T,B&&Us(B))})),this.navEnd$=this._router.events.pipe((0,Ns.p)(p=>p instanceof ds.wF||p instanceof ds.j5||p instanceof ds.L6),(0,ks.M)(()=>{this._routingSpan&&(yc(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new R1.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const c=Qo();if(!c)return this._pageloadOngoing=!1,!1;const p=Us(c);return this._pageloadOngoing="pageload"===bo(p).op,this._pageloadOngoing}}return r.\u0275fac=function(c){return new(c||r)(n.KVO(ds.Ix))},r.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function _f(r){let s,c=r[0],p=1;for(;p<r.length;){const T=r[p],B=r[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==c)return;"access"===T||"optionalAccess"===T?(s=c,c=B(c)):("call"===T||"optionalCall"===T)&&(c=B((...Z)=>c.call(s,...Z)),s=void 0)}return c}function Ud(r){return"/"===r[r.length-1]?r.slice(0,-1):r}function gg(){return typeof window<"u"&&(!function B1(){return!function _E(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function vg(){return void 0!==_t.process&&"renderer"===_t.process.type}())}const is=_t,bg="sentryReplaySession",j1="replay_event",yg="Unable to send Replay",V1=5e3,G1=3,Vd=15e4,gf=5e3,Hu=2e7;function l_(r,s){return r??s()}function Kd(r){let s,c=r[0],p=1;for(;p<r.length;){const T=r[p],B=r[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==c)return;"access"===T||"optionalAccess"===T?(s=c,c=B(c)):("call"===T||"optionalCall"===T)&&(c=B((...Z)=>c.call(s,...Z)),s=void 0)}return c}var cr=function(r){return r[r.Document=0]="Document",r[r.DocumentType=1]="DocumentType",r[r.Element=2]="Element",r[r.Text=3]="Text",r[r.CDATA=4]="CDATA",r[r.Comment=5]="Comment",r}(cr||{});function Qu(r){const s=Kd([r,"optionalAccess",c=>c.host]);return Kd([s,"optionalAccess",c=>c.shadowRoot])===r}function zd(r){return"[object ShadowRoot]"===Object.prototype.toString.call(r)}function c_(r){try{const s=r.rules||r.cssRules;return s?function FC(r){return r.includes(" background-clip: text;")&&!r.includes(" -webkit-background-clip: text;")&&(r=r.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),r}(Array.from(s,Sg).join("")):null}catch{return null}}function Sg(r){let s;if(function NC(r){return"styleSheet"in r}(r))try{s=c_(r.styleSheet)||function PC(r){const{cssText:s}=r;if(s.split('"').length<3)return s;const c=["@import",`url(${JSON.stringify(r.href)})`];return""===r.layerName?c.push("layer"):r.layerName&&c.push(`layer(${r.layerName})`),r.supportsText&&c.push(`supports(${r.supportsText})`),r.media.length&&c.push(r.media.mediaText),c.join(" ")+";"}(r)}catch{}else if(function BC(r){return"selectorText"in r}(r)&&r.selectorText.includes(":"))return function LC(r){return r.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(r.cssText);return s||r.cssText}class z1{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(s){return s?l_(Kd([this,"access",p=>p.getMeta,"call",p=>p(s),"optionalAccess",p=>p.id]),()=>-1):-1}getNode(s){return this.idNodeMap.get(s)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(s){return this.nodeMetaMap.get(s)||null}removeNodeFromMap(s){const c=this.getId(s);this.idNodeMap.delete(c),s.childNodes&&s.childNodes.forEach(p=>this.removeNodeFromMap(p))}has(s){return this.idNodeMap.has(s)}hasNode(s){return this.nodeMetaMap.has(s)}add(s,c){this.idNodeMap.set(c.id,s),this.nodeMetaMap.set(s,c)}replace(s,c){const p=this.getNode(s);if(p){const T=this.nodeMetaMap.get(p);T&&this.nodeMetaMap.set(c,T)}this.idNodeMap.set(s,c)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function vf({maskInputOptions:r,tagName:s,type:c}){return"OPTION"===s&&(s="SELECT"),!!(r[s.toLowerCase()]||c&&r[c]||"password"===c||"INPUT"===s&&!c&&r.text)}function bf({isMasked:r,element:s,value:c,maskInputFn:p}){let T=c||"";return r?(p&&(T=p(T,s)),"*".repeat(T.length)):T}function Ju(r){return r.toLowerCase()}function la(r){return r.toUpperCase()}const X1="__rrweb_original__";function H1(r){const s=r.type;return r.hasAttribute("data-rr-is-password")?"password":s?Ju(s):null}function Zu(r,s,c){return"INPUT"!==s||"radio"!==c&&"checkbox"!==c?r.value:r.getAttribute("value")||""}function Mg(r,s){let c;try{c=new URL(r,l_(s,()=>window.location.href))}catch{return null}return l_(Kd([c.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",B=>B[1]]),()=>null)}const Y1={};function Q1(r){const s=Y1[r];if(s)return s;const c=window.document;let p=window[r];if(c&&"function"==typeof c.createElement)try{const T=c.createElement("iframe");T.hidden=!0,c.head.appendChild(T);const B=T.contentWindow;B&&B[r]&&(p=B[r]),c.head.removeChild(T)}catch{}return Y1[r]=p.bind(window)}function Tg(...r){return Q1("setTimeout")(...r)}function Dg(...r){return Q1("clearTimeout")(...r)}let $C=1;const UC=new RegExp("[^a-z0-9-_:]"),Wd=-2;function Ig(){return $C++}let qu,J1;const Xl=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Og=/^(?:[a-z+]+:)?\/\//i,KC=/^www\..*/i,zC=/^(data:)([^,]*),(.*)/i;function yf(r,s){return(r||"").replace(Xl,(c,p,T,B,Z,pe)=>{const xe=T||Z||pe,it=p||B||"";if(!xe)return c;if(Og.test(xe)||KC.test(xe))return`url(${it}${xe}${it})`;if(zC.test(xe))return`url(${it}${xe}${it})`;if("/"===xe[0])return`url(${it}${function GC(r){let s="";return s=r.indexOf("//")>-1?r.split("/").slice(0,3).join("/"):r.split("/")[0],s=s.split("?")[0],s}(s)+xe}${it})`;const St=s.split("/"),xt=xe.split("/");St.pop();for(const qt of xt)"."!==qt&&(".."===qt?St.pop():St.push(qt));return`url(${it}${St.join("/")}${it})`})}const Z1=/^[^ \t\n\r\u000c]+/,d_=/^[, \t\n\r\u000c]+/;function Ef(r,s){if(!s||""===s.trim())return s;const c=r.createElement("a");return c.href=s,c.href}function q1(r){return!("svg"!==r.tagName&&!r.ownerSVGElement)}function u_(){const r=document.createElement("a");return r.href="",r.href}function xg(r,s,c,p,T,B){return p&&("src"===c||"href"===c&&("use"!==s||"#"!==p[0])||"xlink:href"===c&&"#"!==p[0]||"background"===c&&("table"===s||"td"===s||"th"===s)?Ef(r,p):"srcset"===c?function wg(r,s){if(""===s.trim())return s;let c=0;function p(B){let Z;const pe=B.exec(s.substring(c));return pe?(Z=pe[0],c+=Z.length,Z):""}const T=[];for(;p(d_),!(c>=s.length);){let B=p(Z1);if(","===B.slice(-1))B=Ef(r,B.substring(0,B.length-1)),T.push(B);else{let Z="";B=Ef(r,B);let pe=!1;for(;;){const xe=s.charAt(c);if(""===xe){T.push((B+Z).trim());break}if(pe)")"===xe&&(pe=!1);else{if(","===xe){c+=1,T.push((B+Z).trim());break}"("===xe&&(pe=!0)}Z+=xe,c+=1}}}return T.join(", ")}(r,p):"style"===c?yf(p,u_()):"object"===s&&"data"===c?Ef(r,p):"function"==typeof B?B(c,p,T):p)}function Cf(r,s,c){return("video"===r||"audio"===r)&&"autoplay"===s}function Xd(r,s,c=1/0,p=0){return!r||r.nodeType!==r.ELEMENT_NODE||p>c?-1:s(r)?p:Xd(r.parentNode,s,c,p+1)}function eh(r,s){return c=>{const p=c;if(null===p)return!1;try{if(r)if("string"==typeof r){if(p.matches(`.${r}`))return!0}else if(function Ec(r,s){for(let c=r.classList.length;c--;)if(s.test(r.classList[c]))return!0;return!1}(p,r))return!0;return!(!s||!p.matches(s))}catch{return!1}}}function qc(r,s,c,p,T,B){try{const Z=r.nodeType===r.ELEMENT_NODE?r:r.parentElement;if(null===Z)return!1;if("INPUT"===Z.tagName){const it=Z.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(it))return!0}let pe=-1,xe=-1;if(B){if(xe=Xd(Z,eh(p,T)),xe<0)return!0;pe=Xd(Z,eh(s,c),xe>=0?xe:1/0)}else{if(pe=Xd(Z,eh(s,c)),pe<0)return!1;xe=Xd(Z,eh(p,T),pe>=0?pe:1/0)}return pe>=0?!(xe>=0)||pe<=xe:!(xe>=0||!B)}catch{}return!!B}function Jo(r){return null==r?"":r.toLowerCase()}function Yd(r,s){const{doc:c,mirror:p,blockClass:T,blockSelector:B,unblockSelector:Z,maskAllText:pe,maskTextClass:xe,unmaskTextClass:it,maskTextSelector:St,unmaskTextSelector:xt,skipChild:qt=!1,inlineStylesheet:ln=!0,maskInputOptions:an={},maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,slimDOMOptions:ui,dataURLOptions:Ti={},inlineImages:di=!1,recordCanvas:Ui=!1,onSerialize:jn,onIframeLoad:Un,iframeLoadTimeout:Si=5e3,onStylesheetLoad:qi,stylesheetLoadTimeout:ci=5e3,keepIframeSrcFn:xi=(()=>!1),newlyAddedElement:Ri=!1}=s;let{preserveWhiteSpace:Zo=!0}=s;const ss=function eb(r,s){const{doc:c,mirror:p,blockClass:T,blockSelector:B,unblockSelector:Z,maskAllText:pe,maskAttributeFn:xe,maskTextClass:it,unmaskTextClass:St,maskTextSelector:xt,unmaskTextSelector:qt,inlineStylesheet:ln,maskInputOptions:an={},maskTextFn:yn,maskInputFn:Xn,dataURLOptions:qn={},inlineImages:ui,recordCanvas:Ti,keepIframeSrcFn:di,newlyAddedElement:Ui=!1}=s,jn=function Hd(r,s){if(!s.hasNode(r))return;const c=s.getId(r);return 1===c?void 0:c}(c,p);switch(r.nodeType){case r.DOCUMENT_NODE:return"CSS1Compat"!==r.compatMode?{type:cr.Document,childNodes:[],compatMode:r.compatMode}:{type:cr.Document,childNodes:[]};case r.DOCUMENT_TYPE_NODE:return{type:cr.DocumentType,name:r.name,publicId:r.publicId,systemId:r.systemId,rootId:jn};case r.ELEMENT_NODE:return function Ag(r,s){const{doc:c,blockClass:p,blockSelector:T,unblockSelector:B,inlineStylesheet:Z,maskInputOptions:pe={},maskAttributeFn:xe,maskInputFn:it,dataURLOptions:St={},inlineImages:xt,recordCanvas:qt,keepIframeSrcFn:ln,newlyAddedElement:an=!1,rootId:yn,maskTextClass:qn,unmaskTextClass:ui,maskTextSelector:Ti,unmaskTextSelector:di}=s,Ui=function Rg(r,s,c,p){try{if(p&&r.matches(p))return!1;if("string"==typeof s){if(r.classList.contains(s))return!0}else for(let T=r.classList.length;T--;)if(s.test(r.classList[T]))return!0;if(c)return r.matches(c)}catch{}return!1}(r,p,T,B),jn=function VC(r){if(r instanceof HTMLFormElement)return"form";const s=Ju(r.tagName);return UC.test(s)?"div":s}(r);let Un={};const Si=r.attributes.length;for(let ci=0;ci<Si;ci++){const xi=r.attributes[ci];xi.name&&!Cf(jn,xi.name)&&(Un[xi.name]=xg(c,jn,Ju(xi.name),xi.value,r,xe))}if("link"===jn&&Z){const ci=Array.from(c.styleSheets).find(Ri=>Ri.href===r.href);let xi=null;ci&&(xi=c_(ci)),xi&&(delete Un.rel,delete Un.href,Un._cssText=yf(xi,ci.href))}if("style"===jn&&r.sheet&&!(r.innerText||r.textContent||"").trim().length){const ci=c_(r.sheet);ci&&(Un._cssText=yf(ci,u_()))}if("input"===jn||"textarea"===jn||"select"===jn||"option"===jn){const ci=r,xi=H1(ci),Ri=Zu(ci,la(jn),xi),Zo=ci.checked;if("submit"!==xi&&"button"!==xi&&Ri){const ss=qc(ci,qn,Ti,ui,di,vf({type:xi,tagName:la(jn),maskInputOptions:pe}));Un.value=bf({isMasked:ss,element:ci,value:Ri,maskInputFn:it})}Zo&&(Un.checked=Zo)}if("option"===jn&&(r.selected&&!pe.select?Un.selected=!0:delete Un.selected),"canvas"===jn&&qt)if("2d"===r.__context)(function jC(r){const s=r.getContext("2d");if(!s)return!0;for(let p=0;p<r.width;p+=50)for(let T=0;T<r.height;T+=50){const B=s.getImageData;if(new Uint32Array((X1 in B?B[X1]:B).call(s,p,T,Math.min(50,r.width-p),Math.min(50,r.height-T)).data.buffer).some(xe=>0!==xe))return!1}return!0})(r)||(Un.rr_dataURL=r.toDataURL(St.type,St.quality));else if(!("__context"in r)){const ci=r.toDataURL(St.type,St.quality),xi=document.createElement("canvas");xi.width=r.width,xi.height=r.height,ci!==xi.toDataURL(St.type,St.quality)&&(Un.rr_dataURL=ci)}if("img"===jn&&xt){qu||(qu=c.createElement("canvas"),J1=qu.getContext("2d"));const ci=r,xi=ci.crossOrigin;ci.crossOrigin="anonymous";const Ri=()=>{ci.removeEventListener("load",Ri);try{qu.width=ci.naturalWidth,qu.height=ci.naturalHeight,J1.drawImage(ci,0,0),Un.rr_dataURL=qu.toDataURL(St.type,St.quality)}catch(Zo){console.warn(`Cannot inline img src=${ci.currentSrc}! Error: ${Zo}`)}xi?Un.crossOrigin=xi:ci.removeAttribute("crossorigin")};ci.complete&&0!==ci.naturalWidth?Ri():ci.addEventListener("load",Ri)}if(("audio"===jn||"video"===jn)&&(Un.rr_mediaState=r.paused?"paused":"played",Un.rr_mediaCurrentTime=r.currentTime),an||(r.scrollLeft&&(Un.rr_scrollLeft=r.scrollLeft),r.scrollTop&&(Un.rr_scrollTop=r.scrollTop)),Ui){const{width:ci,height:xi}=r.getBoundingClientRect();Un={class:Un.class,rr_width:`${ci}px`,rr_height:`${xi}px`}}let qi;"iframe"===jn&&!ln(Un.src)&&(!Ui&&!r.contentDocument&&(Un.rr_src=Un.src),delete Un.src);try{customElements.get(jn)&&(qi=!0)}catch{}return{type:cr.Element,tagName:jn,attributes:Un,childNodes:[],isSVG:q1(r)||void 0,needBlock:Ui,rootId:yn,isCustom:qi}}(r,{doc:c,blockClass:T,blockSelector:B,unblockSelector:Z,inlineStylesheet:ln,maskAttributeFn:xe,maskInputOptions:an,maskInputFn:Xn,dataURLOptions:qn,inlineImages:ui,recordCanvas:Ti,keepIframeSrcFn:di,newlyAddedElement:Ui,rootId:jn,maskAllText:pe,maskTextClass:it,unmaskTextClass:St,maskTextSelector:xt,unmaskTextSelector:qt});case r.TEXT_NODE:return function nh(r,s){const{maskAllText:c,maskTextClass:p,unmaskTextClass:T,maskTextSelector:B,unmaskTextSelector:Z,maskTextFn:pe,maskInputOptions:xe,maskInputFn:it,rootId:St}=s,xt=r.parentNode&&r.parentNode.tagName;let qt=r.textContent;const ln="STYLE"===xt||void 0,an="SCRIPT"===xt||void 0,yn="TEXTAREA"===xt||void 0;if(ln&&qt){try{r.nextSibling||r.previousSibling||Kd([r,"access",qn=>qn.parentNode,"access",qn=>qn.sheet,"optionalAccess",qn=>qn.cssRules])&&(qt=c_(r.parentNode.sheet))}catch(qn){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${qn}`,r)}qt=yf(qt,u_())}an&&(qt="SCRIPT_PLACEHOLDER");const Xn=qc(r,p,B,T,Z,c);return!ln&&!an&&!yn&&qt&&Xn&&(qt=pe?pe(qt,r.parentElement):qt.replace(/[\S]/g,"*")),yn&&qt&&(xe.textarea||Xn)&&(qt=it?it(qt,r.parentNode):qt.replace(/[\S]/g,"*")),"OPTION"===xt&&qt&&(qt=bf({isMasked:qc(r,p,B,T,Z,vf({type:null,tagName:xt,maskInputOptions:xe})),element:r,value:qt,maskInputFn:it})),{type:cr.Text,textContent:qt||"",isStyle:ln,rootId:St}}(r,{maskAllText:pe,maskTextClass:it,unmaskTextClass:St,maskTextSelector:xt,unmaskTextSelector:qt,maskTextFn:yn,maskInputOptions:an,maskInputFn:Xn,rootId:jn});case r.CDATA_SECTION_NODE:return{type:cr.CDATA,textContent:"",rootId:jn};case r.COMMENT_NODE:return{type:cr.Comment,textContent:r.textContent||"",rootId:jn};default:return!1}}(r,{doc:c,mirror:p,blockClass:T,blockSelector:B,maskAllText:pe,unblockSelector:Z,maskTextClass:xe,unmaskTextClass:it,maskTextSelector:St,unmaskTextSelector:xt,inlineStylesheet:ln,maskInputOptions:an,maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,dataURLOptions:Ti,inlineImages:di,recordCanvas:Ui,keepIframeSrcFn:xi,newlyAddedElement:Ri});if(!ss)return console.warn(r,"not serialized"),null;let Ks;Ks=p.hasNode(r)?p.getId(r):function tb(r,s){if(s.comment&&r.type===cr.Comment)return!0;if(r.type===cr.Element){if(s.script&&("script"===r.tagName||"link"===r.tagName&&("preload"===r.attributes.rel||"modulepreload"===r.attributes.rel)&&"script"===r.attributes.as||"link"===r.tagName&&"prefetch"===r.attributes.rel&&"string"==typeof r.attributes.href&&"js"===Mg(r.attributes.href)))return!0;if(s.headFavicon&&("link"===r.tagName&&"shortcut icon"===r.attributes.rel||"meta"===r.tagName&&(Jo(r.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Jo(r.attributes.name)||"icon"===Jo(r.attributes.rel)||"apple-touch-icon"===Jo(r.attributes.rel)||"shortcut icon"===Jo(r.attributes.rel))))return!0;if("meta"===r.tagName){if(s.headMetaDescKeywords&&Jo(r.attributes.name).match(/^description|keywords$/))return!0;if(s.headMetaSocial&&(Jo(r.attributes.property).match(/^(og|twitter|fb):/)||Jo(r.attributes.name).match(/^(og|twitter):/)||"pinterest"===Jo(r.attributes.name)))return!0;if(s.headMetaRobots&&("robots"===Jo(r.attributes.name)||"googlebot"===Jo(r.attributes.name)||"bingbot"===Jo(r.attributes.name)))return!0;if(s.headMetaHttpEquiv&&void 0!==r.attributes["http-equiv"])return!0;if(s.headMetaAuthorship&&("author"===Jo(r.attributes.name)||"generator"===Jo(r.attributes.name)||"framework"===Jo(r.attributes.name)||"publisher"===Jo(r.attributes.name)||"progid"===Jo(r.attributes.name)||Jo(r.attributes.property).match(/^article:/)||Jo(r.attributes.property).match(/^product:/)))return!0;if(s.headMetaVerification&&("google-site-verification"===Jo(r.attributes.name)||"yandex-verification"===Jo(r.attributes.name)||"csrf-token"===Jo(r.attributes.name)||"p:domain_verify"===Jo(r.attributes.name)||"verify-v1"===Jo(r.attributes.name)||"verification"===Jo(r.attributes.name)||"shopify-checkout-api-token"===Jo(r.attributes.name)))return!0}}return!1}(ss,ui)||!Zo&&ss.type===cr.Text&&!ss.isStyle&&!ss.textContent.replace(/^\s+|\s+$/gm,"").length?Wd:Ig();const Vn=Object.assign(ss,{id:Ks});if(p.add(r,Vn),Ks===Wd)return null;jn&&jn(r);let _i=!qt;if(Vn.type===cr.Element){_i=_i&&!Vn.needBlock,delete Vn.needBlock;const ai=r.shadowRoot;ai&&zd(ai)&&(Vn.isShadowHost=!0)}if((Vn.type===cr.Document||Vn.type===cr.Element)&&_i){ui.headWhitespace&&Vn.type===cr.Element&&"head"===Vn.tagName&&(Zo=!1);const ai={doc:c,mirror:p,blockClass:T,blockSelector:B,maskAllText:pe,unblockSelector:Z,maskTextClass:xe,unmaskTextClass:it,maskTextSelector:St,unmaskTextSelector:xt,skipChild:qt,inlineStylesheet:ln,maskInputOptions:an,maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,slimDOMOptions:ui,dataURLOptions:Ti,inlineImages:di,recordCanvas:Ui,preserveWhiteSpace:Zo,onSerialize:jn,onIframeLoad:Un,iframeLoadTimeout:Si,onStylesheetLoad:qi,stylesheetLoadTimeout:ci,keepIframeSrcFn:xi};for(const zi of Array.from(r.childNodes)){const rs=Yd(zi,ai);rs&&Vn.childNodes.push(rs)}if(function Cg(r){return r.nodeType===r.ELEMENT_NODE}(r)&&r.shadowRoot)for(const zi of Array.from(r.shadowRoot.childNodes)){const rs=Yd(zi,ai);rs&&(zd(r.shadowRoot)&&(rs.isShadow=!0),Vn.childNodes.push(rs))}}return r.parentNode&&Qu(r.parentNode)&&zd(r.parentNode)&&(Vn.isShadow=!0),Vn.type===cr.Element&&"iframe"===Vn.tagName&&function WC(r,s,c){const p=r.contentWindow;if(!p)return;let B,T=!1;try{B=p.document.readyState}catch{return}if("complete"!==B){const pe=Tg(()=>{T||(s(),T=!0)},c);return void r.addEventListener("load",()=>{Dg(pe),T=!0,s()})}const Z="about:blank";if(p.location.href!==Z||r.src===Z||""===r.src)return Tg(s,0),r.addEventListener("load",s);r.addEventListener("load",s)}(r,()=>{const ai=r.contentDocument;if(ai&&Un){const zi=Yd(ai,{doc:ai,mirror:p,blockClass:T,blockSelector:B,unblockSelector:Z,maskAllText:pe,maskTextClass:xe,unmaskTextClass:it,maskTextSelector:St,unmaskTextSelector:xt,skipChild:!1,inlineStylesheet:ln,maskInputOptions:an,maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,slimDOMOptions:ui,dataURLOptions:Ti,inlineImages:di,recordCanvas:Ui,preserveWhiteSpace:Zo,onSerialize:jn,onIframeLoad:Un,iframeLoadTimeout:Si,onStylesheetLoad:qi,stylesheetLoadTimeout:ci,keepIframeSrcFn:xi});zi&&Un(r,zi)}},Si),Vn.type===cr.Element&&"link"===Vn.tagName&&"string"==typeof Vn.attributes.rel&&("stylesheet"===Vn.attributes.rel||"preload"===Vn.attributes.rel&&"string"==typeof Vn.attributes.href&&"css"===Mg(Vn.attributes.href))&&function th(r,s,c){let T,p=!1;try{T=r.sheet}catch{return}if(T)return;const B=Tg(()=>{p||(s(),p=!0)},c);r.addEventListener("load",()=>{Dg(B),p=!0,s()})}(r,()=>{if(qi){const ai=Yd(r,{doc:c,mirror:p,blockClass:T,blockSelector:B,unblockSelector:Z,maskAllText:pe,maskTextClass:xe,unmaskTextClass:it,maskTextSelector:St,unmaskTextSelector:xt,skipChild:!1,inlineStylesheet:ln,maskInputOptions:an,maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,slimDOMOptions:ui,dataURLOptions:Ti,inlineImages:di,recordCanvas:Ui,preserveWhiteSpace:Zo,onSerialize:jn,onIframeLoad:Un,iframeLoadTimeout:Si,onStylesheetLoad:qi,stylesheetLoadTimeout:ci,keepIframeSrcFn:xi});ai&&qi(r,ai)}},ci),Vn}function ed(r){let s,c=r[0],p=1;for(;p<r.length;){const T=r[p],B=r[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==c)return;"access"===T||"optionalAccess"===T?(s=c,c=B(c)):("call"===T||"optionalCall"===T)&&(c=B((...Z)=>c.call(s,...Z)),s=void 0)}return c}function fa(r,s,c=document){const p={capture:!0,passive:!0};return c.addEventListener(r,s,p),()=>c.removeEventListener(r,s,p)}const ih="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let nb={map:{},getId:()=>(console.error(ih),-1),getNode:()=>(console.error(ih),null),removeNodeFromMap(){console.error(ih)},has:()=>(console.error(ih),!1),reset(){console.error(ih)}};function Sf(r,s,c={}){let p=null,T=0;return function(...B){const Z=Date.now();!T&&!1===c.leading&&(T=Z);const pe=s-(Z-T),xe=this;pe<=0||pe>s?(p&&(function bD(...r){ab("clearTimeout")(...r)}(p),p=null),T=Z,r.apply(xe,B)):!p&&!1!==c.trailing&&(p=m_(()=>{T=!1===c.leading?0:Date.now(),p=null,r.apply(xe,B)},pe))}}function kg(r,s,c,p,T=window){const B=T.Object.getOwnPropertyDescriptor(r,s);return T.Object.defineProperty(r,s,p?c:{set(Z){m_(()=>{c.set.call(this,Z)},0),B&&B.set&&B.set.call(this,Z)}}),()=>kg(r,s,B||{},!0)}function Fg(r,s,c){try{if(!(s in r))return()=>{};const p=r[s],T=c(p);return"function"==typeof T&&(T.prototype=T.prototype||{},Object.defineProperties(T,{__rrweb_original__:{enumerable:!1,value:p}})),r[s]=T,()=>{r[s]=p}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(nb=new Proxy(nb,{get:(r,s,c)=>("map"===s&&console.error(ih),Reflect.get(r,s,c))}));let Qd=Date.now;function ib(r){const s=r.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:void 0!==r.pageXOffset?r.pageXOffset:ed([s,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollLeft])||ed([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollLeft])||ed([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollLeft])||0,top:s.scrollingElement?s.scrollingElement.scrollTop:void 0!==r.pageYOffset?r.pageYOffset:ed([s,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollTop])||ed([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollTop])||ed([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollTop])||0}}function Pg(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ob(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Lg(r){return r?r.nodeType===r.ELEMENT_NODE?r:r.parentElement:null}function xl(r,s,c,p,T){if(!r)return!1;const B=Lg(r);if(!B)return!1;const Z=eh(s,c);if(!T){const it=p&&B.matches(p);return Z(B)&&!it}const pe=Xd(B,Z);let xe=-1;return!(pe<0)&&(p&&(xe=Xd(B,eh(null,p))),pe>-1&&xe<0||pe<xe)}function h_(r,s){return s.getId(r)===Wd}function f_(r,s){if(Qu(r))return!1;const c=s.getId(r);return!s.has(c)||(!r.parentNode||r.parentNode.nodeType!==r.DOCUMENT_NODE)&&(!r.parentNode||f_(r.parentNode,s))}function p_(r){return!!r.changedTouches}function oh(r,s){return!("IFRAME"!==r.nodeName||!s.getMeta(r))}function sh(r,s){return!("LINK"!==r.nodeName||r.nodeType!==r.ELEMENT_NODE||!r.getAttribute||"stylesheet"!==r.getAttribute("rel")||!s.getMeta(r))}function Ng(r){return!!ed([r,"optionalAccess",s=>s.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(Qd=()=>(new Date).getTime());class YC{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(s){return function L1(r,s){return r??s()}(this.styleIDMap.get(s),()=>-1)}has(s){return this.styleIDMap.has(s)}add(s,c){if(this.has(s))return this.getId(s);let p;return p=void 0===c?this.id++:c,this.styleIDMap.set(s,p),this.idStyleMap.set(p,s),p}getStyle(s){return this.idStyleMap.get(s)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function sb(r){let s=null;return ed([r,"access",c=>c.getRootNode,"optionalCall",c=>c(),"optionalAccess",c=>c.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&r.getRootNode().host&&(s=r.getRootNode().host),s}function rb(r){const s=r.ownerDocument;return!!s&&(s.contains(r)||function Bg(r){const s=r.ownerDocument;if(!s)return!1;const c=function __(r){let c,s=r;for(;c=sb(s);)s=c;return s}(r);return s.contains(c)}(r))}const QC={};function ab(r){const s=QC[r];if(s)return s;const c=window.document;let p=window[r];if(c&&"function"==typeof c.createElement)try{const T=c.createElement("iframe");T.hidden=!0,c.head.appendChild(T);const B=T.contentWindow;B&&B[r]&&(p=B[r]),c.head.removeChild(T)}catch{}return QC[r]=p.bind(window)}function m_(...r){return ab("setTimeout")(...r)}var Eo=(r=>(r[r.DomContentLoaded=0]="DomContentLoaded",r[r.Load=1]="Load",r[r.FullSnapshot=2]="FullSnapshot",r[r.IncrementalSnapshot=3]="IncrementalSnapshot",r[r.Meta=4]="Meta",r[r.Custom=5]="Custom",r[r.Plugin=6]="Plugin",r))(Eo||{}),So=(r=>(r[r.Mutation=0]="Mutation",r[r.MouseMove=1]="MouseMove",r[r.MouseInteraction=2]="MouseInteraction",r[r.Scroll=3]="Scroll",r[r.ViewportResize=4]="ViewportResize",r[r.Input=5]="Input",r[r.TouchMove=6]="TouchMove",r[r.MediaInteraction=7]="MediaInteraction",r[r.StyleSheetRule=8]="StyleSheetRule",r[r.CanvasMutation=9]="CanvasMutation",r[r.Font=10]="Font",r[r.Log=11]="Log",r[r.Drag=12]="Drag",r[r.StyleDeclaration=13]="StyleDeclaration",r[r.Selection=14]="Selection",r[r.AdoptedStyleSheet=15]="AdoptedStyleSheet",r[r.CustomElement=16]="CustomElement",r))(So||{}),pa=(r=>(r[r.MouseUp=0]="MouseUp",r[r.MouseDown=1]="MouseDown",r[r.Click=2]="Click",r[r.ContextMenu=3]="ContextMenu",r[r.DblClick=4]="DblClick",r[r.Focus=5]="Focus",r[r.Blur=6]="Blur",r[r.TouchStart=7]="TouchStart",r[r.TouchMove_Departed=8]="TouchMove_Departed",r[r.TouchEnd=9]="TouchEnd",r[r.TouchCancel=10]="TouchCancel",r))(pa||{}),Cc=(r=>(r[r.Mouse=0]="Mouse",r[r.Pen=1]="Pen",r[r.Touch=2]="Touch",r))(Cc||{});function ZC(r){let s,c=r[0],p=1;for(;p<r.length;){const T=r[p],B=r[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==c)return;"access"===T||"optionalAccess"===T?(s=c,c=B(c)):("call"===T||"optionalCall"===T)&&(c=B((...Z)=>c.call(s,...Z)),s=void 0)}return c}function g_(r){return"__ln"in r}class Tf{constructor(){this.length=0,this.head=null,this.tail=null}get(s){if(s>=this.length)throw new Error("Position outside of list range");let c=this.head;for(let p=0;p<s;p++)c=ZC([c,"optionalAccess",T=>T.next])||null;return c}addNode(s){const c={value:s,previous:null,next:null};if(s.__ln=c,s.previousSibling&&g_(s.previousSibling)){const p=s.previousSibling.__ln.next;c.next=p,c.previous=s.previousSibling.__ln,s.previousSibling.__ln.next=c,p&&(p.previous=c)}else if(s.nextSibling&&g_(s.nextSibling)&&s.nextSibling.__ln.previous){const p=s.nextSibling.__ln.previous;c.previous=p,c.next=s.nextSibling.__ln,s.nextSibling.__ln.previous=c,p&&(p.next=c)}else this.head&&(this.head.previous=c),c.next=this.head,this.head=c;null===c.next&&(this.tail=c),this.length++}removeNode(s){const c=s.__ln;this.head&&(c.previous?(c.previous.next=c.next,c.next?c.next.previous=c.previous:this.tail=c.previous):(this.head=c.next,this.head?this.head.previous=null:this.tail=null),s.__ln&&delete s.__ln,this.length--)}}const v_=(r,s)=>`${r}@${s}`;class b_{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=s=>{s.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const s=[],c=new Set,p=new Tf,T=xe=>{let it=xe,St=Wd;for(;St===Wd;)it=it&&it.nextSibling,St=it&&this.mirror.getId(it);return St},B=xe=>{if(!xe.parentNode||!rb(xe))return;const it=Qu(xe.parentNode)?this.mirror.getId(sb(xe)):this.mirror.getId(xe.parentNode),St=T(xe);if(-1===it||-1===St)return p.addNode(xe);const xt=Yd(xe,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:qt=>{oh(qt,this.mirror)&&this.iframeManager.addIframe(qt),sh(qt,this.mirror)&&this.stylesheetManager.trackLinkElement(qt),Ng(xe)&&this.shadowDomManager.addShadowRoot(xe.shadowRoot,this.doc)},onIframeLoad:(qt,ln)=>{this.iframeManager.attachIframe(qt,ln),qt.contentWindow&&this.canvasManager.addWindow(qt.contentWindow),this.shadowDomManager.observeAttachShadow(qt)},onStylesheetLoad:(qt,ln)=>{this.stylesheetManager.attachLinkElement(qt,ln)}});xt&&(s.push({parentId:it,nextId:St,node:xt}),c.add(xt.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const xe of this.movedSet)rh(this.removes,xe,this.mirror)&&!this.movedSet.has(xe.parentNode)||B(xe);for(const xe of this.addedSet)!lb(this.droppedSet,xe)&&!rh(this.removes,xe,this.mirror)||lb(this.movedSet,xe)?B(xe):this.droppedSet.add(xe);let Z=null;for(;p.length;){let xe=null;if(Z){const it=this.mirror.getId(Z.value.parentNode),St=T(Z.value);-1!==it&&-1!==St&&(xe=Z)}if(!xe){let it=p.tail;for(;it;){const St=it;if(it=it.previous,St){const xt=this.mirror.getId(St.value.parentNode);if(-1===T(St.value))continue;if(-1!==xt){xe=St;break}{const ln=St.value;if(ln.parentNode&&ln.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(ln.parentNode.host)){xe=St;break}}}}}if(!xe){for(;p.head;)p.removeNode(p.head.value);break}Z=xe.previous,p.removeNode(xe.value),B(xe.value)}const pe={texts:this.texts.map(xe=>({id:this.mirror.getId(xe.node),value:xe.value})).filter(xe=>!c.has(xe.id)).filter(xe=>this.mirror.has(xe.id)),attributes:this.attributes.map(xe=>{const{attributes:it}=xe;if("string"==typeof it.style){const St=JSON.stringify(xe.styleDiff),xt=JSON.stringify(xe._unchangedStyles);St.length<it.style.length&&(St+xt).split("var(").length===it.style.split("var(").length&&(it.style=xe.styleDiff)}return{id:this.mirror.getId(xe.node),attributes:it}}).filter(xe=>!c.has(xe.id)).filter(xe=>this.mirror.has(xe.id)),removes:this.removes,adds:s};!pe.texts.length&&!pe.attributes.length&&!pe.removes.length&&!pe.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(pe))},this.processMutation=s=>{if(!h_(s.target,this.mirror))switch(s.type){case"characterData":{const c=s.target.textContent;!xl(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&c!==s.oldValue&&this.texts.push({value:qc(s.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&c?this.maskTextFn?this.maskTextFn(c,Lg(s.target)):c.replace(/[\S]/g,"*"):c,node:s.target});break}case"attributes":{const c=s.target;let p=s.attributeName,T=s.target.getAttribute(p);if("value"===p){const Z=H1(c),pe=c.tagName;T=Zu(c,pe,Z);const xe=vf({maskInputOptions:this.maskInputOptions,tagName:pe,type:Z});T=bf({isMasked:qc(s.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,xe),element:c,value:T,maskInputFn:this.maskInputFn})}if(xl(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||T===s.oldValue)return;let B=this.attributeMap.get(s.target);if("IFRAME"===c.tagName&&"src"===p&&!this.keepIframeSrcFn(T)){if(c.contentDocument)return;p="rr_src"}if(B||(B={node:s.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(B),this.attributeMap.set(s.target,B)),"type"===p&&"INPUT"===c.tagName&&"password"===(s.oldValue||"").toLowerCase()&&c.setAttribute("data-rr-is-password","true"),!Cf(c.tagName,p)&&(B.attributes[p]=xg(this.doc,Ju(c.tagName),Ju(p),T,c,this.maskAttributeFn),"style"===p)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const Z=this.unattachedDoc.createElement("span");s.oldValue&&Z.setAttribute("style",s.oldValue);for(const pe of Array.from(c.style)){const xe=c.style.getPropertyValue(pe),it=c.style.getPropertyPriority(pe);xe!==Z.style.getPropertyValue(pe)||it!==Z.style.getPropertyPriority(pe)?B.styleDiff[pe]=""===it?xe:[xe,it]:B._unchangedStyles[pe]=[xe,it]}for(const pe of Array.from(Z.style))""===c.style.getPropertyValue(pe)&&(B.styleDiff[pe]=!1)}break}case"childList":if(xl(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;s.addedNodes.forEach(c=>this.genAdds(c,s.target)),s.removedNodes.forEach(c=>{const p=this.mirror.getId(c),T=Qu(s.target)?this.mirror.getId(s.target.host):this.mirror.getId(s.target);xl(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||h_(c,this.mirror)||!function HC(r,s){return-1!==s.getId(r)}(c,this.mirror)||(this.addedSet.has(c)?(y_(this.addedSet,c),this.droppedSet.add(c)):this.addedSet.has(s.target)&&-1===p||f_(s.target,this.mirror)||(this.movedSet.has(c)&&this.movedMap[v_(p,T)]?y_(this.movedSet,c):this.removes.push({parentId:T,id:p,isShadow:!(!Qu(s.target)||!zd(s.target))||void 0})),this.mapRemoves.push(c))})}},this.genAdds=(s,c)=>{if(!this.processedNodeManager.inOtherBuffer(s,this)&&!this.addedSet.has(s)&&!this.movedSet.has(s)){if(this.mirror.hasNode(s)){if(h_(s,this.mirror))return;this.movedSet.add(s);let p=null;c&&this.mirror.hasNode(c)&&(p=this.mirror.getId(c)),p&&-1!==p&&(this.movedMap[v_(this.mirror.getId(s),p)]=!0)}else this.addedSet.add(s),this.droppedSet.delete(s);xl(s,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(s.childNodes.forEach(p=>this.genAdds(p)),Ng(s)&&s.shadowRoot.childNodes.forEach(p=>{this.processedNodeManager.add(p,this),this.genAdds(p,s)}))}}}init(s){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(c=>{this[c]=s[c]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function y_(r,s){r.delete(s),s.childNodes.forEach(c=>y_(r,c))}function rh(r,s,c){return 0!==r.length&&jg(r,s,c)}function jg(r,s,c){const{parentNode:p}=s;if(!p)return!1;const T=c.getId(p);return!!r.some(B=>B.id===T)||jg(r,p,c)}function lb(r,s){return 0!==r.size&&ah(r,s)}function ah(r,s){const{parentNode:c}=s;return!!c&&(!!r.has(c)||ah(r,c))}let lh;const xo=r=>lh?(...c)=>{try{return r(...c)}catch(p){if(lh&&!0===lh(p))return()=>{};throw p}}:r;function Rl(r){let s,c=r[0],p=1;for(;p<r.length;){const T=r[p],B=r[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==c)return;"access"===T||"optionalAccess"===T?(s=c,c=B(c)):("call"===T||"optionalCall"===T)&&(c=B((...Z)=>c.call(s,...Z)),s=void 0)}return c}const ch=[];function Df(r){try{if("composedPath"in r){const s=r.composedPath();if(s.length)return s[0]}else if("path"in r&&r.path.length)return r.path[0]}catch{}return r&&r.target}function dh(r,s){const c=new b_;ch.push(c),c.init(r);let p=window.MutationObserver||window.__rrMutationObserver;const T=Rl([window,"optionalAccess",Z=>Z.Zone,"optionalAccess",Z=>Z.__symbol__,"optionalCall",Z=>Z("MutationObserver")]);T&&window[T]&&(p=window[T]);const B=new p(xo(Z=>{r.onMutation&&!1===r.onMutation(Z)||c.processMutations.bind(c)(Z)}));return B.observe(s,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),B}function ub({scrollCb:r,doc:s,mirror:c,blockClass:p,blockSelector:T,unblockSelector:B,sampling:Z}){return fa("scroll",xo(Sf(xo(xe=>{const it=Df(xe);if(!it||xl(it,p,T,B,!0))return;const St=c.getId(it);if(it===s&&s.defaultView){const xt=ib(s.defaultView);r({id:St,x:xt.left,y:xt.top})}else r({id:St,x:it.scrollLeft,y:it.scrollTop})}),Z.scroll||100)),s)}const hb=["INPUT","TEXTAREA","SELECT"],$g=new WeakMap;function fb({inputCb:r,doc:s,mirror:c,blockClass:p,blockSelector:T,unblockSelector:B,ignoreClass:Z,ignoreSelector:pe,maskInputOptions:xe,maskInputFn:it,sampling:St,userTriggeredOnInput:xt,maskTextClass:qt,unmaskTextClass:ln,maskTextSelector:an,unmaskTextSelector:yn}){function Xn(Un){let Si=Df(Un);const qi=Un.isTrusted,ci=Si&&la(Si.tagName);if("OPTION"===ci&&(Si=Si.parentElement),!Si||!ci||hb.indexOf(ci)<0||xl(Si,p,T,B,!0))return;const xi=Si;if(xi.classList.contains(Z)||pe&&xi.matches(pe))return;const Ri=H1(Si);let Zo=Zu(xi,ci,Ri),ss=!1;const Ks=vf({maskInputOptions:xe,tagName:ci,type:Ri}),Vn=qc(Si,qt,an,ln,yn,Ks);("radio"===Ri||"checkbox"===Ri)&&(ss=Si.checked),Zo=bf({isMasked:Vn,element:Si,value:Zo,maskInputFn:it}),qn(Si,xt?{text:Zo,isChecked:ss,userTriggered:qi}:{text:Zo,isChecked:ss});const _i=Si.name;"radio"===Ri&&_i&&ss&&s.querySelectorAll(`input[type="radio"][name="${_i}"]`).forEach(ai=>{if(ai!==Si){const zi=bf({isMasked:Vn,element:ai,value:Zu(ai,ci,Ri),maskInputFn:it});qn(ai,xt?{text:zi,isChecked:!ss,userTriggered:!1}:{text:zi,isChecked:!ss})}})}function qn(Un,Si){const qi=$g.get(Un);if(!qi||qi.text!==Si.text||qi.isChecked!==Si.isChecked){$g.set(Un,Si);const ci=c.getId(Un);xo(r)({...Si,id:ci})}}const Ti=("last"===St.input?["change"]:["input","change"]).map(Un=>fa(Un,xo(Xn),s)),di=s.defaultView;if(!di)return()=>{Ti.forEach(Un=>Un())};const Ui=di.Object.getOwnPropertyDescriptor(di.HTMLInputElement.prototype,"value");return Ui&&Ui.set&&Ti.push(...[[di.HTMLInputElement.prototype,"value"],[di.HTMLInputElement.prototype,"checked"],[di.HTMLSelectElement.prototype,"value"],[di.HTMLTextAreaElement.prototype,"value"],[di.HTMLSelectElement.prototype,"selectedIndex"],[di.HTMLOptionElement.prototype,"selected"]].map(Un=>kg(Un[0],Un[1],{set(){xo(Xn)({target:this,isTrusted:!1})}},!1,di))),xo(()=>{Ti.forEach(Un=>Un())})}function C_(r){return function c(p,T){if(uh("CSSGroupingRule")&&p.parentRule instanceof CSSGroupingRule||uh("CSSMediaRule")&&p.parentRule instanceof CSSMediaRule||uh("CSSSupportsRule")&&p.parentRule instanceof CSSSupportsRule||uh("CSSConditionRule")&&p.parentRule instanceof CSSConditionRule){const Z=Array.from(p.parentRule.cssRules).indexOf(p);T.unshift(Z)}else if(p.parentStyleSheet){const Z=Array.from(p.parentStyleSheet.cssRules).indexOf(p);T.unshift(Z)}return T}(r,[])}function Sc(r,s,c){let p,T;return r?(r.ownerNode?p=s.getId(r.ownerNode):T=c.getId(r),{styleId:T,id:p}):{}}function If({mirror:r,stylesheetManager:s},c){let p=null;p=r.getId("#document"===c.nodeName?c:c.host);const T=Rl("#document"===c.nodeName?[c,"access",Z=>Z.defaultView,"optionalAccess",Z=>Z.Document]:[c,"access",Z=>Z.ownerDocument,"optionalAccess",Z=>Z.defaultView,"optionalAccess",Z=>Z.ShadowRoot]),B=Rl([T,"optionalAccess",Z=>Z.prototype])?Object.getOwnPropertyDescriptor(Rl([T,"optionalAccess",Z=>Z.prototype]),"adoptedStyleSheets"):void 0;return null!==p&&-1!==p&&T&&B?(Object.defineProperty(c,"adoptedStyleSheets",{configurable:B.configurable,enumerable:B.enumerable,get(){return Rl([B,"access",Z=>Z.get,"optionalAccess",Z=>Z.call,"call",Z=>Z(this)])},set(Z){const pe=Rl([B,"access",xe=>xe.set,"optionalAccess",xe=>xe.call,"call",xe=>xe(this,Z)]);if(null!==p&&-1!==p)try{s.adoptStyleSheets(Z,p)}catch{}return pe}}),xo(()=>{Object.defineProperty(c,"adoptedStyleSheets",{configurable:B.configurable,enumerable:B.enumerable,get:B.get,set:B.set})})):()=>{}}function rS(r,s={}){const c=r.doc.defaultView;if(!c)return()=>{};let p;r.recordDOM&&(p=dh(r,r.doc));const T=function qC({mousemoveCb:r,sampling:s,doc:c,mirror:p}){if(!1===s.mousemove)return()=>{};const T="number"==typeof s.mousemove?s.mousemove:50,B="number"==typeof s.mousemoveCallback?s.mousemoveCallback:500;let pe,Z=[];const xe=Sf(xo(xt=>{const qt=Date.now()-pe;r(Z.map(ln=>(ln.timeOffset-=qt,ln)),xt),Z=[],pe=null}),B),it=xo(Sf(xo(xt=>{const qt=Df(xt),{clientX:ln,clientY:an}=p_(xt)?xt.changedTouches[0]:xt;pe||(pe=Qd()),Z.push({x:ln,y:an,id:p.getId(qt),timeOffset:Qd()-pe}),xe(typeof DragEvent<"u"&&xt instanceof DragEvent?So.Drag:xt instanceof MouseEvent?So.MouseMove:So.TouchMove)}),T,{trailing:!1})),St=[fa("mousemove",it,c),fa("touchmove",it,c),fa("drag",it,c)];return xo(()=>{St.forEach(xt=>xt())})}(r),B=function eS({mouseInteractionCb:r,doc:s,mirror:c,blockClass:p,blockSelector:T,unblockSelector:B,sampling:Z}){if(!1===Z.mouseInteraction)return()=>{};const pe=!0===Z.mouseInteraction||void 0===Z.mouseInteraction?{}:Z.mouseInteraction,xe=[];let it=null;return Object.keys(pa).filter(xt=>Number.isNaN(Number(xt))&&!xt.endsWith("_Departed")&&!1!==pe[xt]).forEach(xt=>{let qt=Ju(xt);const ln=(xt=>qt=>{const ln=Df(qt);if(xl(ln,p,T,B,!0))return;let an=null,yn=xt;if("pointerType"in qt){switch(qt.pointerType){case"mouse":an=Cc.Mouse;break;case"touch":an=Cc.Touch;break;case"pen":an=Cc.Pen}an===Cc.Touch&&(pa[xt]===pa.MouseDown?yn="TouchStart":pa[xt]===pa.MouseUp&&(yn="TouchEnd"))}else p_(qt)&&(an=Cc.Touch);null!==an?(it=an,(yn.startsWith("Touch")&&an===Cc.Touch||yn.startsWith("Mouse")&&an===Cc.Mouse)&&(an=null)):pa[xt]===pa.Click&&(an=it,it=null);const Xn=p_(qt)?qt.changedTouches[0]:qt;if(!Xn)return;const qn=c.getId(ln),{clientX:ui,clientY:Ti}=Xn;xo(r)({type:pa[yn],id:qn,x:ui,y:Ti,...null!==an&&{pointerType:an}})})(xt);if(window.PointerEvent)switch(pa[xt]){case pa.MouseDown:case pa.MouseUp:qt=qt.replace("mouse","pointer");break;case pa.TouchStart:case pa.TouchEnd:return}xe.push(fa(qt,ln,s))}),xo(()=>{xe.forEach(xt=>xt())})}(r),Z=ub(r),pe=function E_({viewportResizeCb:r},{win:s}){let c=-1,p=-1;return fa("resize",xo(Sf(xo(()=>{const B=Pg(),Z=ob();(c!==B||p!==Z)&&(r({width:Number(Z),height:Number(B)}),c=B,p=Z)}),200)),s)}(r,{win:c}),xe=fb(r),it=function nS({mediaInteractionCb:r,blockClass:s,blockSelector:c,unblockSelector:p,mirror:T,sampling:B,doc:Z}){const pe=xo(it=>Sf(xo(St=>{const xt=Df(St);if(!xt||xl(xt,s,c,p,!0))return;const{currentTime:qt,volume:ln,muted:an,playbackRate:yn}=xt;r({type:it,id:T.getId(xt),currentTime:qt,volume:ln,muted:an,playbackRate:yn})}),B.media||500)),xe=[fa("play",pe(0),Z),fa("pause",pe(1),Z),fa("seeked",pe(2),Z),fa("volumechange",pe(3),Z),fa("ratechange",pe(4),Z)];return xo(()=>{xe.forEach(it=>it())})}(r);let St=()=>{},xt=()=>{},qt=()=>{},ln=()=>{};r.recordDOM&&(St=function Ug({styleSheetRuleCb:r,mirror:s,stylesheetManager:c},{win:p}){if(!p.CSSStyleSheet||!p.CSSStyleSheet.prototype)return()=>{};const T=p.CSSStyleSheet.prototype.insertRule;p.CSSStyleSheet.prototype.insertRule=new Proxy(T,{apply:xo((St,xt,qt)=>{const[ln,an]=qt,{id:yn,styleId:Xn}=Sc(xt,s,c.styleMirror);return(yn&&-1!==yn||Xn&&-1!==Xn)&&r({id:yn,styleId:Xn,adds:[{rule:ln,index:an}]}),St.apply(xt,qt)})});const B=p.CSSStyleSheet.prototype.deleteRule;let Z,pe;p.CSSStyleSheet.prototype.deleteRule=new Proxy(B,{apply:xo((St,xt,qt)=>{const[ln]=qt,{id:an,styleId:yn}=Sc(xt,s,c.styleMirror);return(an&&-1!==an||yn&&-1!==yn)&&r({id:an,styleId:yn,removes:[{index:ln}]}),St.apply(xt,qt)})}),p.CSSStyleSheet.prototype.replace&&(Z=p.CSSStyleSheet.prototype.replace,p.CSSStyleSheet.prototype.replace=new Proxy(Z,{apply:xo((St,xt,qt)=>{const[ln]=qt,{id:an,styleId:yn}=Sc(xt,s,c.styleMirror);return(an&&-1!==an||yn&&-1!==yn)&&r({id:an,styleId:yn,replace:ln}),St.apply(xt,qt)})})),p.CSSStyleSheet.prototype.replaceSync&&(pe=p.CSSStyleSheet.prototype.replaceSync,p.CSSStyleSheet.prototype.replaceSync=new Proxy(pe,{apply:xo((St,xt,qt)=>{const[ln]=qt,{id:an,styleId:yn}=Sc(xt,s,c.styleMirror);return(an&&-1!==an||yn&&-1!==yn)&&r({id:an,styleId:yn,replaceSync:ln}),St.apply(xt,qt)})}));const xe={};td("CSSGroupingRule")?xe.CSSGroupingRule=p.CSSGroupingRule:(td("CSSMediaRule")&&(xe.CSSMediaRule=p.CSSMediaRule),td("CSSConditionRule")&&(xe.CSSConditionRule=p.CSSConditionRule),td("CSSSupportsRule")&&(xe.CSSSupportsRule=p.CSSSupportsRule));const it={};return Object.entries(xe).forEach(([St,xt])=>{it[St]={insertRule:xt.prototype.insertRule,deleteRule:xt.prototype.deleteRule},xt.prototype.insertRule=new Proxy(it[St].insertRule,{apply:xo((qt,ln,an)=>{const[yn,Xn]=an,{id:qn,styleId:ui}=Sc(ln.parentStyleSheet,s,c.styleMirror);return(qn&&-1!==qn||ui&&-1!==ui)&&r({id:qn,styleId:ui,adds:[{rule:yn,index:[...C_(ln),Xn||0]}]}),qt.apply(ln,an)})}),xt.prototype.deleteRule=new Proxy(it[St].deleteRule,{apply:xo((qt,ln,an)=>{const[yn]=an,{id:Xn,styleId:qn}=Sc(ln.parentStyleSheet,s,c.styleMirror);return(Xn&&-1!==Xn||qn&&-1!==qn)&&r({id:Xn,styleId:qn,removes:[{index:[...C_(ln),yn]}]}),qt.apply(ln,an)})})}),xo(()=>{p.CSSStyleSheet.prototype.insertRule=T,p.CSSStyleSheet.prototype.deleteRule=B,Z&&(p.CSSStyleSheet.prototype.replace=Z),pe&&(p.CSSStyleSheet.prototype.replaceSync=pe),Object.entries(xe).forEach(([St,xt])=>{xt.prototype.insertRule=it[St].insertRule,xt.prototype.deleteRule=it[St].deleteRule})})}(r,{win:c}),xt=If(r,r.doc),qt=function tS({styleDeclarationCb:r,mirror:s,ignoreCSSAttributes:c,stylesheetManager:p},{win:T}){const B=T.CSSStyleDeclaration.prototype.setProperty;T.CSSStyleDeclaration.prototype.setProperty=new Proxy(B,{apply:xo((pe,xe,it)=>{const[St,xt,qt]=it;if(c.has(St))return B.apply(xe,[St,xt,qt]);const{id:ln,styleId:an}=Sc(Rl([xe,"access",yn=>yn.parentRule,"optionalAccess",yn=>yn.parentStyleSheet]),s,p.styleMirror);return(ln&&-1!==ln||an&&-1!==an)&&r({id:ln,styleId:an,set:{property:St,value:xt,priority:qt},index:C_(xe.parentRule)}),pe.apply(xe,it)})});const Z=T.CSSStyleDeclaration.prototype.removeProperty;return T.CSSStyleDeclaration.prototype.removeProperty=new Proxy(Z,{apply:xo((pe,xe,it)=>{const[St]=it;if(c.has(St))return Z.apply(xe,[St]);const{id:xt,styleId:qt}=Sc(Rl([xe,"access",ln=>ln.parentRule,"optionalAccess",ln=>ln.parentStyleSheet]),s,p.styleMirror);return(xt&&-1!==xt||qt&&-1!==qt)&&r({id:xt,styleId:qt,remove:{property:St},index:C_(xe.parentRule)}),pe.apply(xe,it)})}),xo(()=>{T.CSSStyleDeclaration.prototype.setProperty=B,T.CSSStyleDeclaration.prototype.removeProperty=Z})}(r,{win:c}),r.collectFonts&&(ln=function iS({fontCb:r,doc:s}){const c=s.defaultView;if(!c)return()=>{};const p=[],T=new WeakMap,B=c.FontFace;c.FontFace=function(xe,it,St){const xt=new B(xe,it,St);return T.set(xt,{family:xe,buffer:"string"!=typeof it,descriptors:St,fontSource:"string"==typeof it?it:JSON.stringify(Array.from(new Uint8Array(it)))}),xt};const Z=Fg(s.fonts,"add",function(pe){return function(xe){return m_(xo(()=>{const it=T.get(xe);it&&(r(it),T.delete(xe))}),0),pe.apply(this,[xe])}});return p.push(()=>{c.FontFace=B}),p.push(Z),xo(()=>{p.forEach(pe=>pe())})}(r)));const an=function oS(r){const{doc:s,mirror:c,blockClass:p,blockSelector:T,unblockSelector:B,selectionCb:Z}=r;let pe=!0;const xe=xo(()=>{const it=s.getSelection();if(!it||pe&&Rl([it,"optionalAccess",qt=>qt.isCollapsed]))return;pe=it.isCollapsed||!1;const St=[],xt=it.rangeCount||0;for(let qt=0;qt<xt;qt++){const ln=it.getRangeAt(qt),{startContainer:an,startOffset:yn,endContainer:Xn,endOffset:qn}=ln;xl(an,p,T,B,!0)||xl(Xn,p,T,B,!0)||St.push({start:c.getId(an),startOffset:yn,end:c.getId(Xn),endOffset:qn})}Z({ranges:St})});return xe(),fa("selectionchange",xe)}(r),yn=function sS({doc:r,customElementCb:s}){const c=r.defaultView;return c&&c.customElements?Fg(c.customElements,"define",function(T){return function(B,Z,pe){try{s({define:{name:B}})}catch{}return T.apply(this,[B,Z,pe])}}):()=>{}}(r),Xn=[];for(const qn of r.plugins)Xn.push(qn.observer(qn.callback,c,qn.options));return xo(()=>{ch.forEach(qn=>qn.reset()),Rl([p,"optionalAccess",qn=>qn.disconnect,"call",qn=>qn()]),T(),B(),Z(),pe(),xe(),it(),St(),xt(),qt(),ln(),an(),yn(),Xn.forEach(qn=>qn())})}function uh(r){return typeof window[r]<"u"}function td(r){return!!(typeof window[r]<"u"&&window[r].prototype&&"insertRule"in window[r].prototype&&"deleteRule"in window[r].prototype)}class S_{constructor(s){this.generateIdFn=s,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(s,c,p,T){const B=p||this.getIdToRemoteIdMap(s),Z=T||this.getRemoteIdToIdMap(s);let pe=B.get(c);return pe||(pe=this.generateIdFn(),B.set(c,pe),Z.set(pe,c)),pe}getIds(s,c){const p=this.getIdToRemoteIdMap(s),T=this.getRemoteIdToIdMap(s);return c.map(B=>this.getId(s,B,p,T))}getRemoteId(s,c,p){const T=p||this.getRemoteIdToIdMap(s);return"number"!=typeof c?c:T.get(c)||-1}getRemoteIds(s,c){const p=this.getRemoteIdToIdMap(s);return c.map(T=>this.getRemoteId(s,T,p))}reset(s){if(!s)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(s),this.iframeRemoteIdToIdMap.delete(s)}getIdToRemoteIdMap(s){let c=this.iframeIdToRemoteIdMap.get(s);return c||(c=new Map,this.iframeIdToRemoteIdMap.set(s,c)),c}getRemoteIdToIdMap(s){let c=this.iframeRemoteIdToIdMap.get(s);return c||(c=new Map,this.iframeRemoteIdToIdMap.set(s,c)),c}}function Vg(r){let s,c=r[0],p=1;for(;p<r.length;){const T=r[p],B=r[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==c)return;"access"===T||"optionalAccess"===T?(s=c,c=B(c)):("call"===T||"optionalCall"===T)&&(c=B((...Z)=>c.call(s,...Z)),s=void 0)}return c}class aS{constructor(){this.crossOriginIframeMirror=new S_(Ig),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Of{constructor(s){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new S_(Ig),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=s.mutationCb,this.wrappedEmit=s.wrappedEmit,this.stylesheetManager=s.stylesheetManager,this.recordCrossOriginIframes=s.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new S_(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=s.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(s){this.iframes.set(s,!0),s.contentWindow&&this.crossOriginIframeMap.set(s.contentWindow,s)}addLoadListener(s){this.loadListener=s}attachIframe(s,c){this.mutationCb({adds:[{parentId:this.mirror.getId(s),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Vg([this,"access",p=>p.loadListener,"optionalCall",p=>p(s)]),s.contentDocument&&s.contentDocument.adoptedStyleSheets&&s.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(s.contentDocument.adoptedStyleSheets,this.mirror.getId(s.contentDocument))}handleMessage(s){const c=s;if("rrweb"!==c.data.type||c.origin!==c.data.origin||!s.source)return;const T=this.crossOriginIframeMap.get(s.source);if(!T)return;const B=this.transformCrossOriginEvent(T,c.data.event);B&&this.wrappedEmit(B,c.data.isCheckout)}transformCrossOriginEvent(s,c){switch(c.type){case Eo.FullSnapshot:{this.crossOriginIframeMirror.reset(s),this.crossOriginIframeStyleMirror.reset(s),this.replaceIdOnNode(c.data.node,s);const p=c.data.node.id;return this.crossOriginIframeRootIdMap.set(s,p),this.patchRootIdOnNode(c.data.node,p),{timestamp:c.timestamp,type:Eo.IncrementalSnapshot,data:{source:So.Mutation,adds:[{parentId:this.mirror.getId(s),nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Eo.Meta:case Eo.Load:case Eo.DomContentLoaded:return!1;case Eo.Plugin:return c;case Eo.Custom:return this.replaceIds(c.data.payload,s,["id","parentId","previousId","nextId"]),c;case Eo.IncrementalSnapshot:switch(c.data.source){case So.Mutation:return c.data.adds.forEach(p=>{this.replaceIds(p,s,["parentId","nextId","previousId"]),this.replaceIdOnNode(p.node,s);const T=this.crossOriginIframeRootIdMap.get(s);T&&this.patchRootIdOnNode(p.node,T)}),c.data.removes.forEach(p=>{this.replaceIds(p,s,["parentId","id"])}),c.data.attributes.forEach(p=>{this.replaceIds(p,s,["id"])}),c.data.texts.forEach(p=>{this.replaceIds(p,s,["id"])}),c;case So.Drag:case So.TouchMove:case So.MouseMove:return c.data.positions.forEach(p=>{this.replaceIds(p,s,["id"])}),c;case So.ViewportResize:return!1;case So.MediaInteraction:case So.MouseInteraction:case So.Scroll:case So.CanvasMutation:case So.Input:return this.replaceIds(c.data,s,["id"]),c;case So.StyleSheetRule:case So.StyleDeclaration:return this.replaceIds(c.data,s,["id"]),this.replaceStyleIds(c.data,s,["styleId"]),c;case So.Font:return c;case So.Selection:return c.data.ranges.forEach(p=>{this.replaceIds(p,s,["start","end"])}),c;case So.AdoptedStyleSheet:return this.replaceIds(c.data,s,["id"]),this.replaceStyleIds(c.data,s,["styleIds"]),Vg([c,"access",p=>p.data,"access",p=>p.styles,"optionalAccess",p=>p.forEach,"call",p=>p(T=>{this.replaceStyleIds(T,s,["styleId"])})]),c}}return!1}replace(s,c,p,T){for(const B of T)!Array.isArray(c[B])&&"number"!=typeof c[B]||(c[B]=Array.isArray(c[B])?s.getIds(p,c[B]):s.getId(p,c[B]));return c}replaceIds(s,c,p){return this.replace(this.crossOriginIframeMirror,s,c,p)}replaceStyleIds(s,c,p){return this.replace(this.crossOriginIframeStyleMirror,s,c,p)}replaceIdOnNode(s,c){this.replaceIds(s,c,["id","rootId"]),"childNodes"in s&&s.childNodes.forEach(p=>{this.replaceIdOnNode(p,c)})}patchRootIdOnNode(s,c){s.type!==cr.Document&&!s.rootId&&(s.rootId=c),"childNodes"in s&&s.childNodes.forEach(p=>{this.patchRootIdOnNode(p,c)})}}class M_{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class yD{constructor(s){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=s.mutationCb,this.scrollCb=s.scrollCb,this.bypassOptions=s.bypassOptions,this.mirror=s.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(s,c){if(!zd(s)||this.shadowDoms.has(s))return;this.shadowDoms.add(s),this.bypassOptions.canvasManager.addShadowRoot(s);const p=dh({...this.bypassOptions,doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},s);this.restoreHandlers.push(()=>p.disconnect()),this.restoreHandlers.push(ub({...this.bypassOptions,scrollCb:this.scrollCb,doc:s,mirror:this.mirror})),m_(()=>{s.adoptedStyleSheets&&s.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(s.adoptedStyleSheets,this.mirror.getId(s.host)),this.restoreHandlers.push(If({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},s))},0)}observeAttachShadow(s){!s.contentWindow||!s.contentDocument||this.patchAttachShadow(s.contentWindow.Element,s.contentDocument)}patchAttachShadow(s,c){const p=this;this.restoreHandlers.push(Fg(s.prototype,"attachShadow",function(T){return function(B){const Z=T.call(this,B);return this.shadowRoot&&rb(this)&&p.addShadowRoot(this.shadowRoot,c),Z}}))}reset(){this.restoreHandlers.forEach(s=>{try{s()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class pb{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class _b{constructor(s){this.trackedLinkElements=new WeakSet,this.styleMirror=new YC,this.mutationCb=s.mutationCb,this.adoptedStyleSheetCb=s.adoptedStyleSheetCb}attachLinkElement(s,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,attributes:c.attributes}]}),this.trackLinkElement(s)}trackLinkElement(s){this.trackedLinkElements.has(s)||(this.trackedLinkElements.add(s),this.trackStylesheetInLinkElement(s))}adoptStyleSheets(s,c){if(0===s.length)return;const p={id:c,styleIds:[]},T=[];for(const B of s){let Z;this.styleMirror.has(B)?Z=this.styleMirror.getId(B):(Z=this.styleMirror.add(B),T.push({styleId:Z,rules:Array.from(B.rules||CSSRule,(pe,xe)=>({rule:Sg(pe),index:xe}))})),p.styleIds.push(Z)}T.length>0&&(p.styles=T),this.adoptedStyleSheetCb(p)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(s){}}class Gg{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function JC(...r){ab("requestAnimationFrame")(...r)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(s,c){const p=this.nodeMap.get(s);return p&&Array.from(p).some(T=>T!==c)}add(s,c){this.nodeMap.set(s,(this.nodeMap.get(s)||new Set).add(c))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Gs,wf;try{if(2!==Array.from([1],r=>2*r)[0]){const r=document.createElement("iframe");document.body.appendChild(r),Array.from=_f([r,"access",s=>s.contentWindow,"optionalAccess",s=>s.Array,"access",s=>s.from])||Array.from,document.body.removeChild(r)}}catch(r){console.debug("Unable to override Array.from",r)}const Al=function W1(){return new z1}();function Mc(r={}){const{emit:s,checkoutEveryNms:c,checkoutEveryNth:p,blockClass:T="rr-block",blockSelector:B=null,unblockSelector:Z=null,ignoreClass:pe="rr-ignore",ignoreSelector:xe=null,maskAllText:it=!1,maskTextClass:St="rr-mask",unmaskTextClass:xt=null,maskTextSelector:qt=null,unmaskTextSelector:ln=null,inlineStylesheet:an=!0,maskAllInputs:yn,maskInputOptions:Xn,slimDOMOptions:qn,maskAttributeFn:ui,maskInputFn:Ti,maskTextFn:di,maxCanvasSize:Ui=null,packFn:jn,sampling:Un={},dataURLOptions:Si={},mousemoveWait:qi,recordDOM:ci=!0,recordCanvas:xi=!1,recordCrossOriginIframes:Ri=!1,recordAfter:Zo=("DOMContentLoaded"===r.recordAfter?r.recordAfter:"load"),userTriggeredOnInput:ss=!1,collectFonts:Ks=!1,inlineImages:Vn=!1,plugins:_i,keepIframeSrcFn:ai=(()=>!1),ignoreCSSAttributes:zi=new Set([]),errorHandler:rs,onMutation:Ba,getCanvasManager:wr}=r;!function cb(r){lh=r}(rs);const Cr=!Ri||window.parent===window;let hs=!1;if(!Cr)try{window.parent.document&&(hs=!1)}catch{hs=!0}if(Cr&&!s)throw new Error("emit function is required");void 0!==qi&&void 0===Un.mousemove&&(Un.mousemove=qi),Al.reset();const Eh=!0===yn?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==Xn?Xn:{},ru=!0===qn||"all"===qn?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===qn,headMetaDescKeywords:"all"===qn}:qn||{};!function Mf(r=window){"NodeList"in r&&!r.NodeList.prototype.forEach&&(r.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in r&&!r.DOMTokenList.prototype.forEach&&(r.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...s)=>{let c=s[0];if(!(0 in s))throw new TypeError("1 argument is required");do{if(this===c)return!0}while(c=c&&c.parentNode);return!1})}();let ys,Za=0;const ba=Wo=>{for(const fl of _i||[])fl.eventProcessor&&(Wo=fl.eventProcessor(Wo));return jn&&!hs&&(Wo=jn(Wo)),Wo};Gs=(Wo,fl)=>{const Fo=Wo;if(Fo.timestamp=Qd(),_f([ch,"access",xs=>xs[0],"optionalAccess",xs=>xs.isFrozen,"call",xs=>xs()])&&Fo.type!==Eo.FullSnapshot&&!(Fo.type===Eo.IncrementalSnapshot&&Fo.data.source===So.Mutation)&&ch.forEach(xs=>xs.unfreeze()),Cr)_f([s,"optionalCall",xs=>xs(ba(Fo),fl)]);else if(hs){const xs={type:"rrweb",event:ba(Fo),origin:window.location.origin,isCheckout:fl};window.parent.postMessage(xs,"*")}if(Fo.type===Eo.FullSnapshot)ys=Fo,Za=0;else if(Fo.type===Eo.IncrementalSnapshot){if(Fo.data.source===So.Mutation&&Fo.data.isAttachIframe)return;Za++,(p&&Za>=p||c&&ys&&Fo.timestamp-ys.timestamp>c)&&Nv(!0)}};const kl=Wo=>{Gs({type:Eo.IncrementalSnapshot,data:{source:So.Mutation,...Wo}})},Zf=Wo=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.Scroll,...Wo}}),GD=Wo=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.CanvasMutation,...Wo}}),au=new _b({mutationCb:kl,adoptedStyleSheetCb:Wo=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.AdoptedStyleSheet,...Wo}})}),cd="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new aS:new Of({mirror:Al,mutationCb:kl,stylesheetManager:au,recordCrossOriginIframes:Ri,wrappedEmit:Gs});for(const Wo of _i||[])Wo.getMirror&&Wo.getMirror({nodeMirror:Al,crossOriginIframeMirror:cd.crossOriginIframeMirror,crossOriginIframeStyleMirror:cd.crossOriginIframeStyleMirror});const Lv=new Gg,nr=function gb(r,s){try{return r?r(s):new pb}catch{return console.warn("Unable to initialize CanvasManager"),new pb}}(wr,{mirror:Al,win:window,mutationCb:Wo=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.CanvasMutation,...Wo}}),recordCanvas:xi,blockClass:T,blockSelector:B,unblockSelector:Z,maxCanvasSize:Ui,sampling:Un.canvas,dataURLOptions:Si,errorHandler:rs}),qf="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new M_:new yD({mutationCb:kl,scrollCb:Zf,bypassOptions:{onMutation:Ba,blockClass:T,blockSelector:B,unblockSelector:Z,maskAllText:it,maskTextClass:St,unmaskTextClass:xt,maskTextSelector:qt,unmaskTextSelector:ln,inlineStylesheet:an,maskInputOptions:Eh,dataURLOptions:Si,maskAttributeFn:ui,maskTextFn:di,maskInputFn:Ti,recordCanvas:xi,inlineImages:Vn,sampling:Un,slimDOMOptions:ru,iframeManager:cd,stylesheetManager:au,canvasManager:nr,keepIframeSrcFn:ai,processedNodeManager:Lv},mirror:Al}),Nv=(Wo=!1)=>{if(!ci)return;Gs({type:Eo.Meta,data:{href:window.location.href,width:ob(),height:Pg()}},Wo),au.reset(),qf.init(),ch.forEach(Fo=>Fo.lock());const fl=function XC(r,s){const{mirror:c=new z1,blockClass:p="rr-block",blockSelector:T=null,unblockSelector:B=null,maskAllText:Z=!1,maskTextClass:pe="rr-mask",unmaskTextClass:xe=null,maskTextSelector:it=null,unmaskTextSelector:St=null,inlineStylesheet:xt=!0,inlineImages:qt=!1,recordCanvas:ln=!1,maskAllInputs:an=!1,maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,slimDOM:ui=!1,dataURLOptions:Ti,preserveWhiteSpace:di,onSerialize:Ui,onIframeLoad:jn,iframeLoadTimeout:Un,onStylesheetLoad:Si,stylesheetLoadTimeout:qi,keepIframeSrcFn:ci=(()=>!1)}=s||{};return Yd(r,{doc:r,mirror:c,blockClass:p,blockSelector:T,unblockSelector:B,maskAllText:Z,maskTextClass:pe,unmaskTextClass:xe,maskTextSelector:it,unmaskTextSelector:St,skipChild:!1,inlineStylesheet:xt,maskInputOptions:!0===an?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===an?{}:an,maskAttributeFn:yn,maskTextFn:Xn,maskInputFn:qn,slimDOMOptions:!0===ui||"all"===ui?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===ui,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===ui?{}:ui,dataURLOptions:Ti,inlineImages:qt,recordCanvas:ln,preserveWhiteSpace:di,onSerialize:Ui,onIframeLoad:jn,iframeLoadTimeout:Un,onStylesheetLoad:Si,stylesheetLoadTimeout:qi,keepIframeSrcFn:ci,newlyAddedElement:!1})}(document,{mirror:Al,blockClass:T,blockSelector:B,unblockSelector:Z,maskAllText:it,maskTextClass:St,unmaskTextClass:xt,maskTextSelector:qt,unmaskTextSelector:ln,inlineStylesheet:an,maskAllInputs:Eh,maskAttributeFn:ui,maskInputFn:Ti,maskTextFn:di,slimDOM:ru,dataURLOptions:Si,recordCanvas:xi,inlineImages:Vn,onSerialize:Fo=>{oh(Fo,Al)&&cd.addIframe(Fo),sh(Fo,Al)&&au.trackLinkElement(Fo),Ng(Fo)&&qf.addShadowRoot(Fo.shadowRoot,document)},onIframeLoad:(Fo,xs)=>{cd.attachIframe(Fo,xs),Fo.contentWindow&&nr.addWindow(Fo.contentWindow),qf.observeAttachShadow(Fo)},onStylesheetLoad:(Fo,xs)=>{au.attachLinkElement(Fo,xs)},keepIframeSrcFn:ai});if(!fl)return console.warn("Failed to snapshot the document");Gs({type:Eo.FullSnapshot,data:{node:fl,initialOffset:ib(window)}}),ch.forEach(Fo=>Fo.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&au.adoptStyleSheets(document.adoptedStyleSheets,Al.getId(document))};wf=Nv;try{const Wo=[],fl=xs=>xo(rS)({onMutation:Ba,mutationCb:kl,mousemoveCb:($o,pl)=>Gs({type:Eo.IncrementalSnapshot,data:{source:pl,positions:$o}}),mouseInteractionCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.MouseInteraction,...$o}}),scrollCb:Zf,viewportResizeCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.ViewportResize,...$o}}),inputCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.Input,...$o}}),mediaInteractionCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.MediaInteraction,...$o}}),styleSheetRuleCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.StyleSheetRule,...$o}}),styleDeclarationCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.StyleDeclaration,...$o}}),canvasMutationCb:GD,fontCb:$o=>Gs({type:Eo.IncrementalSnapshot,data:{source:So.Font,...$o}}),selectionCb:$o=>{Gs({type:Eo.IncrementalSnapshot,data:{source:So.Selection,...$o}})},customElementCb:$o=>{Gs({type:Eo.IncrementalSnapshot,data:{source:So.CustomElement,...$o}})},blockClass:T,ignoreClass:pe,ignoreSelector:xe,maskAllText:it,maskTextClass:St,unmaskTextClass:xt,maskTextSelector:qt,unmaskTextSelector:ln,maskInputOptions:Eh,inlineStylesheet:an,sampling:Un,recordDOM:ci,recordCanvas:xi,inlineImages:Vn,userTriggeredOnInput:ss,collectFonts:Ks,doc:xs,maskAttributeFn:ui,maskInputFn:Ti,maskTextFn:di,keepIframeSrcFn:ai,blockSelector:B,unblockSelector:Z,slimDOMOptions:ru,dataURLOptions:Si,mirror:Al,iframeManager:cd,stylesheetManager:au,shadowDomManager:qf,processedNodeManager:Lv,canvasManager:nr,ignoreCSSAttributes:zi,plugins:_f([_i,"optionalAccess",$o=>$o.filter,"call",$o=>$o(pl=>pl.observer),"optionalAccess",$o=>$o.map,"call",$o=>$o(pl=>({observer:pl.observer,options:pl.options,callback:kM=>Gs({type:Eo.Plugin,data:{plugin:pl.name,payload:kM}})}))])||[]},{});cd.addLoadListener(xs=>{try{Wo.push(fl(xs.contentDocument))}catch($o){console.warn($o)}});const Fo=()=>{Nv(),Wo.push(fl(document))};return"interactive"===document.readyState||"complete"===document.readyState?Fo():(Wo.push(fa("DOMContentLoaded",()=>{Gs({type:Eo.DomContentLoaded,data:{}}),"DOMContentLoaded"===Zo&&Fo()})),Wo.push(fa("load",()=>{Gs({type:Eo.Load,data:{}}),"load"===Zo&&Fo()},window))),()=>{Wo.forEach(xs=>xs()),Lv.destroy(),wf=void 0,function db(){lh=void 0}()}}catch(Wo){console.warn(Wo)}}Mc.mirror=Al,Mc.takeFullSnapshot=function mb(r){if(!wf)throw new Error("please take full snapshot after start recording");wf(r)};const Kg=3;function zg(r){return r>9999999999?r:1e3*r}function Wg(r){return r>9999999999?r/1e3:r}function xf(r,s){"sentry.transaction"!==s.category&&(["ui.click","ui.input"].includes(s.category)?r.triggerUserActivity():r.checkAndHandleExpiredSession(),r.addUpdate(()=>(r.throttledAddEvent({type:Eo.Custom,timestamp:1e3*(s.timestamp||0),data:{tag:"breadcrumb",payload:$l(s,10,1e3)}}),"console"===s.category)))}const cS="button,a";function vb(r){return r.closest(cS)||r}function T_(r){const s=bb(r);return s&&s instanceof Element?vb(s):s}function bb(r){return function dS(r){return"object"==typeof r&&!!r&&"target"in r}(r)?r.target:r}let nd;class Hg{constructor(s,c,p=xf){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=c.timeout/1e3,this._threshold=c.threshold/1e3,this._scollTimeout=c.scrollTimeout/1e3,this._replay=s,this._ignoreSelector=c.ignoreSelector,this._addBreadcrumbEvent=p}addListeners(){const s=function Jd(r){return nd||(nd=[],function Rf(){ps(is,"open",function(r){return function(...s){if(nd)try{nd.forEach(c=>c())}catch{}return r.apply(is,s)}})}()),nd.push(r),()=>{const s=nd?nd.indexOf(r):-1;s>-1&&nd.splice(s,1)}}(()=>{this._lastMutation=Eb()});this._teardown=()=>{s(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(s,c){if(function hh(r,s){return!!(!uS.includes(r.tagName)||"INPUT"===r.tagName&&!["submit","button"].includes(r.getAttribute("type")||"")||"A"===r.tagName&&(r.hasAttribute("download")||r.hasAttribute("target")&&"_self"!==r.getAttribute("target"))||s&&r.matches(s))}(c,this._ignoreSelector)||!function yb(r){return!(!r.data||"number"!=typeof r.data.nodeId||!r.timestamp)}(s))return;const p={timestamp:Wg(s.timestamp),clickBreadcrumb:s,clickCount:0,node:c};this._clicks.some(T=>T.node===p.node&&Math.abs(T.timestamp-p.timestamp)<1)||(this._clicks.push(p),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(s=Date.now()){this._lastMutation=Wg(s)}registerScroll(s=Date.now()){this._lastScroll=Wg(s)}registerClick(s){const c=vb(s);this._handleMultiClick(c)}_handleMultiClick(s){this._getClicks(s).forEach(c=>{c.clickCount++})}_getClicks(s){return this._clicks.filter(c=>c.node===s)}_checkClicks(){const s=[],c=Eb();this._clicks.forEach(p=>{!p.mutationAfter&&this._lastMutation&&(p.mutationAfter=p.timestamp<=this._lastMutation?this._lastMutation-p.timestamp:void 0),!p.scrollAfter&&this._lastScroll&&(p.scrollAfter=p.timestamp<=this._lastScroll?this._lastScroll-p.timestamp:void 0),p.timestamp+this._timeout<=c&&s.push(p)});for(const p of s){const T=this._clicks.indexOf(p);T>-1&&(this._generateBreadcrumbs(p),this._clicks.splice(T,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(s){const c=this._replay,B=!(s.scrollAfter&&s.scrollAfter<=this._scollTimeout||s.mutationAfter&&s.mutationAfter<=this._threshold),{clickCount:Z,clickBreadcrumb:pe}=s;if(B){const xe=1e3*Math.min(s.mutationAfter||this._timeout,this._timeout),it=xe<1e3*this._timeout?"mutation":"timeout",St={type:"default",message:pe.message,timestamp:pe.timestamp,category:"ui.slowClickDetected",data:{...pe.data,url:is.location.href,route:c.getCurrentRoute(),timeAfterClickMs:xe,endReason:it,clickCount:Z||1}};this._addBreadcrumbEvent(c,St)}else if(Z>1){const xe={type:"default",message:pe.message,timestamp:pe.timestamp,category:"ui.multiClick",data:{...pe.data,url:is.location.href,route:c.getCurrentRoute(),clickCount:Z,metric:!0}};this._addBreadcrumbEvent(c,xe)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Yc(()=>this._checkClicks(),1e3)}}const uS=["A","BUTTON","INPUT"];function Eb(){return Date.now()/1e3}function Hl(r){return{timestamp:Date.now()/1e3,type:"default",...r}}var D_=function(r){return r[r.Document=0]="Document",r[r.DocumentType=1]="DocumentType",r[r.Element=2]="Element",r[r.Text=3]="Text",r[r.CDATA=4]="CDATA",r[r.Comment=5]="Comment",r}(D_||{});const _S=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Cb(r){const s={};!r["data-sentry-component"]&&r["data-sentry-element"]&&(r["data-sentry-component"]=r["data-sentry-element"]);for(const c in r)if(_S.has(c)){let p=c;("data-testid"===c||"data-test-id"===c)&&(p="testId"),s[p]=r[c]}return s}function Sb(r,s){const c=Mc.mirror.getId(r),p=c&&Mc.mirror.getNode(c),T=p&&Mc.mirror.getMeta(p),B=T&&function gS(r){return r.type===D_.Element}(T)?T:null;return{message:s,data:B?{nodeId:c,node:{id:c,tagName:B.tagName,textContent:Array.from(B.childNodes).map(Z=>Z.type===D_.Text&&Z.textContent).filter(Boolean).map(Z=>Z.trim()).join(""),attributes:Cb(B.attributes)}}:{}}}const Af={resource:function ED(r){const{entryType:s,initiatorType:c,name:p,responseEnd:T,startTime:B,decodedBodySize:Z,encodedBodySize:pe,responseStatus:xe,transferSize:it}=r;return["fetch","xmlhttprequest"].includes(c)?null:{type:`${s}.${c}`,start:qd(B),end:qd(T),name:p,data:{size:it,statusCode:xe,decodedBodySize:Z,encodedBodySize:pe}}},paint:function yS(r){const{duration:s,entryType:c,name:p,startTime:T}=r,B=qd(T);return{type:c,name:p,start:B,end:B+s,data:void 0}},navigation:function Db(r){const{entryType:s,name:c,decodedBodySize:p,duration:T,domComplete:B,encodedBodySize:Z,domContentLoadedEventStart:pe,domContentLoadedEventEnd:xe,domInteractive:it,loadEventStart:St,loadEventEnd:xt,redirectCount:qt,startTime:ln,transferSize:an,type:yn}=r;return 0===T?null:{type:`${s}.${yn}`,start:qd(ln),end:qd(B),name:c,data:{size:an,decodedBodySize:p,encodedBodySize:Z,duration:T,domInteractive:it,domContentLoadedEventStart:pe,domContentLoadedEventEnd:xe,loadEventStart:St,loadEventEnd:xt,domComplete:B,redirectCount:qt}}}};function Yg(r,s){return({metric:c})=>{s.replayPerformanceEntries.push(r(c))}}function bS(r){const s=Af[r.entryType];return s?s(r):null}function qd(r){return((Dr||is.performance.timeOrigin)+r)/1e3}function ES(r){const s=r.entries[r.entries.length-1];return O_(r,"largest-contentful-paint",s?s.element:void 0)}function kf(r){const s=r.entries[0];return O_(r,"cumulative-layout-shift",s&&s.sources&&s.sources[0]?s.sources[0].node:void 0)}function Qg(r){const s=r.entries[r.entries.length-1];return O_(r,"first-input-delay",s?s.target:void 0)}function CS(r){const s=r.entries[r.entries.length-1];return O_(r,"interaction-to-next-paint",s?s.target:void 0)}function O_(r,s,c){const p=r.value,T=r.rating,B=qd(p);return{type:"web-vital",name:s,start:B,end:B,data:{value:p,size:p,rating:T,nodeId:c?Mc.mirror.getId(c):void 0}}}const os=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ma(r,s){os&&(An.info(r),s&&Jg(r))}function id(r,s){os&&(An.info(r),s&&Yc(()=>{Jg(r)},0))}function Jg(r){Xc({category:"console",data:{logger:"replay"},level:"info",message:r},{level:"info"})}class Ob extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Hu}.`)}}class bs{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(s){var c=this;return(0,es.A)(function*(){const p=JSON.stringify(s).length;if(c._totalSize+=p,c._totalSize>Hu)throw new Ob;c.events.push(s)})()}finish(){return new Promise(s=>{const c=this.events;this.clear(),s(JSON.stringify(c))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const s=this.events.map(c=>c.timestamp).sort()[0];return s?zg(s):null}}class MS{constructor(s){this._worker=s,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((s,c)=>{this._worker.addEventListener("message",({data:p})=>{p.success?s():c()},{once:!0}),this._worker.addEventListener("error",p=>{c(p)},{once:!0})})),this._ensureReadyPromise}destroy(){ma("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(s,c){const p=this._getAndIncrementId();return new Promise((T,B)=>{const Z=({data:pe})=>{const xe=pe;if(xe.method===s&&xe.id===p){if(this._worker.removeEventListener("message",Z),!xe.success)return os&&An.error("[Replay]",xe.response),void B(new Error("Error in compression worker"));T(xe.response)}};this._worker.addEventListener("message",Z),this._worker.postMessage({id:p,method:s,arg:c})})}_getAndIncrementId(){return this._id++}}class Zg{constructor(s){this._worker=new MS(s),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(s){const c=zg(s.timestamp);(!this._earliestTimestamp||c<this._earliestTimestamp)&&(this._earliestTimestamp=c);const p=JSON.stringify(s);return this._totalSize+=p.length,this._totalSize>Hu?Promise.reject(new Ob):this._sendEventToWorker(p)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,s=>{os&&An.warn('[Replay] Sending "clear" message to worker failed',s)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(s){return this._worker.postMessage("addEvent",s)}_finishRequest(){var s=this;return(0,es.A)(function*(){const c=yield s._worker.postMessage("finish");return s._earliestTimestamp=null,s._totalSize=0,c})()}}class TS{constructor(s){this._fallback=new bs,this._compression=new Zg(s),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(s){this._used.hasCheckout=s}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(s){return this._used.addEvent(s)}finish(){var s=this;return(0,es.A)(function*(){return yield s.ensureWorkerIsLoaded(),s._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var s=this;return(0,es.A)(function*(){try{yield s._compression.ensureReady()}catch{return void ma("[Replay] Failed to load the compression worker, falling back to simple buffer")}yield s._switchToCompressionWorker()})()}_switchToCompressionWorker(){var s=this;return(0,es.A)(function*(){const{events:c,hasCheckout:p}=s._fallback,T=[];for(const B of c)T.push(s._compression.addEvent(B));s._compression.hasCheckout=p,s._used=s._compression;try{yield Promise.all(T)}catch(B){os&&An.warn("[Replay] Failed to add events when switching buffers.",B)}})()}}function w_(){try{return"sessionStorage"in is&&!!is.sessionStorage}catch{return!1}}function xb(r){return void 0!==r&&Math.random()<r}function tv(r){const s=Date.now();return{id:r.id||Ko(),started:r.started||s,lastActivity:r.lastActivity||s,segmentId:r.segmentId||0,sampled:r.sampled,previousSessionId:r.previousSessionId}}function nv(r){if(w_())try{is.sessionStorage.setItem(bg,JSON.stringify(r))}catch{}}function iv({sessionSampleRate:r,allowBuffering:s,stickySession:c=!1},{previousSessionId:p}={}){const T=function ga(r,s){return xb(r)?"session":!!s&&"buffer"}(r,s),B=tv({sampled:T,previousSessionId:p});return c&&nv(B),B}function x_(r,s,c=+new Date){return null===r||void 0===s||s<0||0!==s&&r+s<=c}function sv(r,{maxReplayDuration:s,sessionIdleExpire:c,targetTime:p=Date.now()}){return x_(r.started,s,p)||x_(r.lastActivity,c,p)}function Rb(r,{sessionIdleExpire:s,maxReplayDuration:c}){return!(!sv(r,{sessionIdleExpire:s,maxReplayDuration:c})||"buffer"===r.sampled&&0===r.segmentId)}function R_({traceInternals:r,sessionIdleExpire:s,maxReplayDuration:c,previousSessionId:p},T){const B=T.stickySession&&function ov(r){if(!w_())return null;try{const s=is.sessionStorage.getItem(bg);if(!s)return null;const c=JSON.parse(s);return id("[Replay] Loading existing session",r),tv(c)}catch{return null}}(r);return B?Rb(B,{sessionIdleExpire:s,maxReplayDuration:c})?(id("[Replay] Session in sessionStorage is expired, creating new one..."),iv(T,{previousSessionId:B.id})):B:(id("[Replay] Creating new session",r),iv(T,{previousSessionId:p}))}function rv(r,s,c){return!!Ff(r,s)&&(k_(r,s,c),!0)}function k_(r,s,c){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,es.A)(function*(r,s,c){if(!r.eventBuffer)return null;try{c&&"buffer"===r.recordingMode&&r.eventBuffer.clear(),c&&(r.eventBuffer.hasCheckout=!0);const T=function Ab(r,s){try{if("function"==typeof s&&function OS(r){return r.type===Eo.Custom}(r))return s(r)}catch(c){return os&&An.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",c),null}return r}(s,r.getOptions().beforeAddRecordingEvent);return T?yield r.eventBuffer.addEvent(T):void 0}catch(p){const T=p&&p instanceof Ob?"addEventSizeExceeded":"addEvent";os&&An.error(p),yield r.stop({reason:T});const B=Wn();B&&B.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function Ff(r,s){if(!r.eventBuffer||r.isPaused()||!r.isEnabled())return!1;const c=zg(s.timestamp);return!(c+r.timeouts.sessionIdlePause<Date.now()||c>r.getContext().initialTimestamp+r.getOptions().maxReplayDuration&&(id(`[Replay] Skipping event with timestamp ${c} because it is after maxReplayDuration`,r.getOptions()._experiments.traceInternals),1))}function eu(r){return!r.type}function av(r){return"transaction"===r.type}function F_(r){return"feedback"===r.type}function Lb(r){return!!r.category}function L_(r,s){return s.map(({type:c,start:p,end:T,name:B,data:Z})=>{const pe=r.throttledAddEvent({type:Eo.Custom,timestamp:p,data:{tag:"performanceSpan",payload:{op:c,description:B,startTimestamp:p,endTimestamp:T,data:Z}}});return"string"==typeof pe?Promise.resolve(null):pe})}function Nb(r,s){r.isEnabled()&&null!==s&&(function N_(r,s){return(!os||!r.getOptions()._experiments.traceInternals)&&function mg(r,s){const c=s&&s.getDsn(),p=s&&s.getOptions().tunnel;return function r_(r,s){return!!s&&r.includes(s.host)}(r,c)||function N1(r,s){return!!s&&Ud(r)===Ud(s)}(r,p)}(s,Wn())}(r,s.name)||r.addUpdate(()=>(L_(r,[s]),!0)))}function B_(r){if(!r)return;const s=new TextEncoder;try{if("string"==typeof r)return s.encode(r).length;if(r instanceof URLSearchParams)return s.encode(r.toString()).length;if(r instanceof FormData){const c=uv(r);return s.encode(c).length}if(r instanceof Blob)return r.size;if(r instanceof ArrayBuffer)return r.byteLength}catch{}}function lv(r){if(!r)return;const s=parseInt(r,10);return isNaN(s)?void 0:s}function cv(r){try{if("string"==typeof r)return[r];if(r instanceof URLSearchParams)return[r.toString()];if(r instanceof FormData)return[uv(r)];if(!r)return[void 0]}catch{return os&&An.warn("[Replay] Failed to serialize body",r),[void 0,"BODY_PARSE_ERROR"]}return os&&An.info("[Replay] Skipping network body because of body type",r),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ph(r,s){if(!r)return{headers:{},size:void 0,_meta:{warnings:[s]}};const c={...r._meta};return c.warnings=[...c.warnings||[],s],r._meta=c,r}function dv(r,s){if(!s)return null;const{startTimestamp:c,endTimestamp:p,url:T,method:B,statusCode:Z,request:pe,response:xe}=s;return{type:r,start:c/1e3,end:p/1e3,name:T,data:Ps({method:B,statusCode:Z,request:pe,response:xe})}}function Nf(r){return{headers:{},size:r,_meta:{warnings:["URL_SKIPPED"]}}}function Tc(r,s,c){if(!s&&0===Object.keys(r).length)return;if(!s)return{headers:r};if(!c)return{headers:r,size:s};const p={headers:r,size:s},{body:T,warnings:B}=function Bb(r){if(!r||"string"!=typeof r)return{body:r};const s=r.length>Vd,c=function NS(r){const s=r[0],c=r[r.length-1];return"["===s&&"]"===c||"{"===s&&"}"===c}(r);if(s){const p=r.slice(0,Vd);return c?{body:p,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${p}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(c)try{return{body:JSON.parse(r)}}catch{}return{body:r}}(c);return p.body=T,B&&B.length>0&&(p._meta={warnings:B}),p}function Bf(r,s){return Object.entries(r).reduce((c,[p,T])=>{const B=p.toLowerCase();return s.includes(B)&&r[p]&&(c[B]=T),c},{})}function uv(r){return new URLSearchParams(r).toString()}function j_(r,s){const c=function BS(r,s=is.document.baseURI){if(r.startsWith("http://")||r.startsWith("https://")||r.startsWith(is.location.origin))return r;const c=new URL(r,s);if(c.origin!==new URL(s).origin)return r;const p=c.href;return!r.endsWith("/")&&p.endsWith("/")?p.slice(0,-1):p}(r);return Tr(c,s)}function jf(){return jf=(0,es.A)(function*(r,s,c){try{const p=yield function fv(r,s,c){return $f.apply(this,arguments)}(r,s,c),T=dv("resource.fetch",p);Nb(c.replay,T)}catch(p){os&&An.error("[Replay] Failed to capture fetch breadcrumb",p)}}),jf.apply(this,arguments)}function $f(){return $f=(0,es.A)(function*(r,s,c){const p=Date.now(),{startTimestamp:T=p,endTimestamp:B=p}=s,{url:Z,method:pe,status_code:xe=0,request_body_size:it,response_body_size:St}=r.data,xt=j_(Z,c.networkDetailAllowUrls)&&!j_(Z,c.networkDetailDenyUrls),qt=xt?function jS({networkCaptureBodies:r,networkRequestHeaders:s},c,p){const T=c?function Ub(r,s){return 1===r.length&&"string"!=typeof r[0]?mv(r[0],s):2===r.length?mv(r[1],s):{}}(c,s):{};if(!r)return Tc(T,p,void 0);const B=$_(c),[Z,pe]=cv(B),xe=Tc(T,p,Z);return pe?ph(xe,pe):xe}(c,s.input,it):Nf(it),ln=yield function $S(r,s,c,p){return pv.apply(this,arguments)}(xt,c,s.response,St);return{startTimestamp:T,endTimestamp:B,url:Z,method:pe,statusCode:xe,request:qt,response:ln}}),$f.apply(this,arguments)}function pv(){return pv=(0,es.A)(function*(r,{networkCaptureBodies:s,networkResponseHeaders:c},p,T){if(!r&&void 0!==T)return Nf(T);const B=p?_v(p.headers,c):{};if(!p||!s&&void 0!==T)return Tc(B,T,void 0);const[Z,pe]=yield function $b(r){return Uf.apply(this,arguments)}(p),xe=function US(r,{networkCaptureBodies:s,responseBodySize:c,captureDetails:p,headers:T}){try{const B=r&&r.length&&void 0===c?B_(r):c;return p?Tc(T,B,s?r:void 0):Nf(B)}catch(B){return os&&An.warn("[Replay] Failed to serialize response body",B),Tc(T,c,void 0)}}(Z,{networkCaptureBodies:s,responseBodySize:T,captureDetails:r,headers:B});return pe?ph(xe,pe):xe}),pv.apply(this,arguments)}function Uf(){return(Uf=(0,es.A)(function*(r){const s=function VS(r){try{return r.clone()}catch(s){os&&An.warn("[Replay] Failed to clone response body",s)}}(r);if(!s)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Vb(s)]}catch(c){return os&&An.warn("[Replay] Failed to get text body from response",c),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function $_(r=[]){if(2===r.length&&"object"==typeof r[1])return r[1].body}function _v(r,s){const c={};return s.forEach(p=>{r.get(p)&&(c[p]=r.get(p))}),c}function mv(r,s){if(!r)return{};const c=r.headers;return c?c instanceof Headers?_v(c,s):Array.isArray(c)?{}:Bf(c,s):{}}function Vb(r){return new Promise((s,c)=>{const p=Yc(()=>c(new Error("Timeout while trying to read response body")),500);(function GS(r){return Vf.apply(this,arguments)})(r).then(T=>s(T),T=>c(T)).finally(()=>clearTimeout(p))})}function Vf(){return(Vf=(0,es.A)(function*(r){return yield r.text()})).apply(this,arguments)}function Gf(){return(Gf=(0,es.A)(function*(r,s,c){try{const p=function MD(r,s,c){const p=Date.now(),{startTimestamp:T=p,endTimestamp:B=p,input:Z,xhr:pe}=s,{url:xe,method:it,status_code:St=0,request_body_size:xt,response_body_size:qt}=r.data;if(!xe)return null;if(!pe||!j_(xe,c.networkDetailAllowUrls)||j_(xe,c.networkDetailDenyUrls))return{startTimestamp:T,endTimestamp:B,url:xe,method:it,statusCode:St,request:Nf(xt),response:Nf(qt)};const ln=pe[dl],an=ln?Bf(ln.request_headers,c.networkRequestHeaders):{},yn=Bf(function Kb(r){const s=r.getAllResponseHeaders();return s?s.split("\r\n").reduce((c,p)=>{const[T,B]=p.split(": ");return B&&(c[T.toLowerCase()]=B),c},{}):{}}(pe),c.networkResponseHeaders),[Xn,qn]=c.networkCaptureBodies?cv(Z):[void 0],[ui,Ti]=c.networkCaptureBodies?function zb(r){const s=[];try{return[r.responseText]}catch(c){s.push(c)}try{return function Wb(r,s){try{if("string"==typeof r)return[r];if(r instanceof Document)return[r.body.outerHTML];if("json"===s&&r&&"object"==typeof r)return[JSON.stringify(r)];if(!r)return[void 0]}catch{return os&&An.warn("[Replay] Failed to serialize body",r),[void 0,"BODY_PARSE_ERROR"]}return os&&An.info("[Replay] Skipping network body because of body type",r),[void 0,"UNPARSEABLE_BODY_TYPE"]}(r.response,r.responseType)}catch(c){s.push(c)}return os&&An.warn("[Replay] Failed to get xhr response body",...s),[void 0]}(pe):[void 0],di=Tc(an,xt,Xn),Ui=Tc(yn,qt,ui);return{startTimestamp:T,endTimestamp:B,url:xe,method:it,statusCode:St,request:qn?ph(di,qn):di,response:Ti?ph(Ui,Ti):Ui}}(r,s,c),T=dv("resource.xhr",p);Nb(c.replay,T)}catch(p){os&&An.error("[Replay] Failed to capture xhr breadcrumb",p)}})).apply(this,arguments)}function Xb(r){const s=Wn();try{const{networkDetailAllowUrls:c,networkDetailDenyUrls:p,networkCaptureBodies:T,networkRequestHeaders:B,networkResponseHeaders:Z}=r.getOptions(),pe={replay:r,networkDetailAllowUrls:c,networkDetailDenyUrls:p,networkCaptureBodies:T,networkRequestHeaders:B,networkResponseHeaders:Z};s&&s.on("beforeAddBreadcrumb",(xe,it)=>function Hb(r,s,c){if(s.data)try{(function Yb(r){return"xhr"===r.category})(s)&&function KS(r){return r&&r.xhr}(c)&&(function SD(r,s){const{xhr:c,input:p}=s;if(!c)return;const T=B_(p),B=c.getResponseHeader("content-length")?lv(c.getResponseHeader("content-length")):function gv(r,s){try{return B_("json"===s&&r&&"object"==typeof r?JSON.stringify(r):r)}catch{return}}(c.response,c.responseType);void 0!==T&&(r.data.request_body_size=T),void 0!==B&&(r.data.response_body_size=B)}(s,c),function Gb(r,s,c){Gf.apply(this,arguments)}(s,c,r)),function Qb(r){return"fetch"===r.category}(s)&&function TD(r){return r&&r.response}(c)&&(function jb(r,s){const{input:c,response:p}=s,B=B_(c?$_(c):void 0),Z=p?lv(p.headers.get("content-length")):void 0;void 0!==B&&(r.data.request_body_size=B),void 0!==Z&&(r.data.response_body_size=Z)}(s,c),function hv(r,s,c){jf.apply(this,arguments)}(s,c,r))}catch{os&&An.warn("Error when enriching network breadcrumb")}}(pe,xe,it))}catch{}}function DD(r){const s=Wn();Xh((r=>s=>{if(!r.isEnabled())return;const c=function mS(r){const{target:s,message:c}=function Mb(r){const s="click"===r.name;let c,p=null;try{p=s?T_(r.event):bb(r.event),c=wn(p,{maxStringLength:200})||"<unknown>"}catch{c="<unknown>"}return{target:p,message:c}}(r);return Hl({category:`ui.${r.name}`,...Sb(s,c)})}(s);if(!c)return;const p="click"===s.name,T=p?s.event:void 0;p&&r.clickDetector&&T&&T.target&&!T.altKey&&!T.metaKey&&!T.ctrlKey&&!T.shiftKey&&function Xg(r,s,c){r.handleClick(s,c)}(r.clickDetector,c,T_(s.event)),xf(r,c)})(r)),Su(function LS(r){return s=>{if(!r.isEnabled())return;const c=function PS(r){const{from:s,to:c}=r,p=Date.now()/1e3;return{type:"navigation.push",start:p,end:p,name:c,data:{previous:s}}}(s);null!==c&&(r.getContext().urls.push(c.name),r.triggerUserActivity(),r.addUpdate(()=>(L_(r,[c]),!1)))}}(r)),function Fb(r){const s=Wn();s&&s.on("beforeAddBreadcrumb",c=>function Pb(r,s){if(!r.isEnabled()||!Lb(s))return;const c=function xS(r){return!Lb(r)||["fetch","xhr","sentry.event","sentry.transaction"].includes(r.category)||r.category.startsWith("ui.")?null:"console"===r.category?function Lf(r){const s=r.data&&r.data.arguments;if(!Array.isArray(s)||0===s.length)return Hl(r);let c=!1;const p=s.map(T=>{if(!T)return T;if("string"==typeof T)return T.length>gf?(c=!0,`${T.slice(0,gf)}\u2026`):T;if("object"==typeof T)try{const B=$l(T,7);return JSON.stringify(B).length>gf?(c=!0,`${JSON.stringify(B,null,2).slice(0,gf)}\u2026`):B}catch{}return T});return Hl({...r,data:{...r.data,arguments:p,...c?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(r):Hl(r)}(s);c&&xf(r,c)}(r,c))}(r),Xb(r),function fm(r){pn().addEventProcessor(r)}(function FS(r){return Object.assign((s,c)=>r.isEnabled()?function wS(r){return"replay_event"===r.type}(s)?(delete s.breadcrumbs,s):(eu(s)||av(s)||F_(s))&&r.checkAndHandleExpiredSession()?F_(s)?(r.flush(),s.contexts.feedback.replay_id=r.getSessionId(),function AS(r,s){r.triggerUserActivity(),r.addUpdate(()=>!s.timestamp||(r.throttledAddEvent({type:Eo.Custom,timestamp:1e3*s.timestamp,data:{tag:"breadcrumb",payload:{timestamp:s.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:s.event_id}}}}),!1))}(r,s),s):function RS(r,s){return!(r.type||!r.exception||!r.exception.values||!r.exception.values.length||!s.originalException||!s.originalException.__rrweb__)}(s,c)&&!r.getOptions()._experiments.captureExceptions?(os&&An.log("[Replay] Ignoring error from rrweb internals",s),null):((function kS(r,s){return!("buffer"!==r.recordingMode||s.message===yg||!s.exception||s.type)&&xb(r.getOptions().errorSampleRate)}(r,s)||"session"===r.recordingMode)&&(s.tags={...s.tags,replayId:r.getSessionId()}),s):s:s,{id:"Replay"})}(r)),s&&(s.on("beforeSendEvent",function CD(r){return s=>{!r.isEnabled()||!eu(s)||function P_(r,s){const c=s.exception&&s.exception.values&&s.exception.values[0]&&s.exception.values[0].value;"string"==typeof c&&(c.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||c.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&xf(r,Hl({category:"replay.hydrate-error",data:{url:Go()}}))}(r,s)}}(r)),s.on("afterSendEvent",function kb(r){return(s,c)=>{if(!r.isEnabled()||!eu(s)&&!av(s))return;const p=c&&c.statusCode;if(!(!p||p<200||p>=300)){if(av(s))return void function od(r,s){const c=r.getContext();s.contexts&&s.contexts.trace&&s.contexts.trace.trace_id&&c.traceIds.size<100&&c.traceIds.add(s.contexts.trace.trace_id)}(r,s);!function Pf(r,s){const c=r.getContext();if(s.event_id&&c.errorIds.size<100&&c.errorIds.add(s.event_id),"buffer"!==r.recordingMode||!s.tags||!s.tags.replayId)return;const{beforeErrorSampling:p}=r.getOptions();"function"==typeof p&&!p(s)||Yc(()=>{r.sendBufferedReplayOrFlush()})}(r,s)}}}(r)),s.on("createDsc",p=>{const T=r.getSessionId();T&&r.isEnabled()&&"session"===r.recordingMode&&r.checkAndHandleExpiredSession()&&(p.replay_id=T)}),s.on("spanStart",p=>{r.lastActiveSpan=p}),s.on("spanEnd",p=>{r.lastActiveSpan=p}),s.on("beforeSendFeedback",(p,T)=>{const B=r.getSessionId();T&&T.includeReplay&&r.isEnabled()&&B&&p.contexts&&p.contexts.feedback&&(p.contexts.feedback.replay_id=B)}))}function Jb(){return(Jb=(0,es.A)(function*(r){try{return Promise.all(L_(r,[Zb(is.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function Zb(r){const{jsHeapSizeLimit:s,totalJSHeapSize:c,usedJSHeapSize:p}=r,T=Date.now()/1e3;return{type:"memory",name:"memory",start:T,end:T,data:{memory:{jsHeapSizeLimit:s,totalJSHeapSize:c,usedJSHeapSize:p}}}}function WS(r){let s=!1;return(c,p)=>{if(!r.checkAndHandleExpiredSession())return void(os&&An.warn("[Replay] Received replay event after session expired."));const T=p||!s;s=!0,r.clickDetector&&function hS(r,s){try{if(!function fS(r){return r.type===Kg}(s))return;const{source:c}=s.data;if(c===So.Mutation&&r.registerMutation(s.timestamp),c===So.Scroll&&r.registerScroll(s.timestamp),function pS(r){return r.data.source===So.MouseInteraction}(s)){const{type:p,id:T}=s.data,B=Mc.mirror.getNode(T);B instanceof HTMLElement&&p===pa.Click&&r.registerClick(B)}}catch{}}(r.clickDetector,c),r.addUpdate(()=>{if("buffer"===r.recordingMode&&T&&r.setInitialState(),!rv(r,c,T))return!0;if(!T)return!1;if(function qb(r,s){!s||!r.session||0!==r.session.segmentId||rv(r,function OD(r){const s=r.getOptions();return{type:Eo.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:r.isRecordingCanvas(),sessionSampleRate:s.sessionSampleRate,errorSampleRate:s.errorSampleRate,useCompressionOption:s.useCompression,blockAllMedia:s.blockAllMedia,maskAllText:s.maskAllText,maskAllInputs:s.maskAllInputs,useCompression:!!r.eventBuffer&&"worker"===r.eventBuffer.type,networkDetailHasUrls:s.networkDetailAllowUrls.length>0,networkCaptureBodies:s.networkCaptureBodies,networkRequestHasHeaders:s.networkRequestHeaders.length>0,networkResponseHasHeaders:s.networkResponseHeaders.length>0}}}}(r),!1)}(r,T),r.session&&r.session.previousSessionId)return!0;if("buffer"===r.recordingMode&&r.session&&r.eventBuffer){const B=r.eventBuffer.getEarliestTimestamp();B&&(ma(`[Replay] Updating session start time to earliest event in buffer to ${new Date(B)}`,r.getOptions()._experiments.traceInternals),r.session.started=B,r.getOptions().stickySession&&nv(r.session))}return"session"===r.recordingMode&&r.flush(),!0})}}function ty(){return(ty=(0,es.A)(function*({client:r,scope:s,replayId:c,event:p}){const B={event_id:c,integrations:"object"!=typeof r._integrations||null===r._integrations||Array.isArray(r._integrations)?void 0:Object.keys(r._integrations)};r.emit("preprocessEvent",p,B);const Z=yield Ts(r.getOptions(),p,B,s,r,pn());if(!Z)return null;Z.platform=Z.platform||"javascript";const pe=r.getSdkMetadata(),{name:xe,version:it}=pe&&pe.sdk||{};return Z.sdk={...Z.sdk,name:xe||"sentry.javascript.unknown",version:it||"0.0.0"},Z})).apply(this,arguments)}function ny(){return ny=(0,es.A)(function*({recordingData:r,replayId:s,segmentId:c,eventContext:p,timestamp:T,session:B}){const Z=function wD({recordingData:r,headers:s}){let c;const p=`${JSON.stringify(s)}\n`;if("string"==typeof r)c=`${p}${r}`;else{const B=(new TextEncoder).encode(p);c=new Uint8Array(B.length+r.length),c.set(B),c.set(r,B.length)}return c}({recordingData:r,headers:{segment_id:c}}),{urls:pe,errorIds:xe,traceIds:it,initialTimestamp:St}=p,xt=Wn(),qt=Pt(),ln=xt&&xt.getTransport(),an=xt&&xt.getDsn();if(!(xt&&ln&&an&&B.sampled))return Ka({});const yn={type:j1,replay_start_timestamp:St/1e3,timestamp:T/1e3,error_ids:xe,trace_ids:it,urls:pe,replay_id:s,segment_id:c,replay_type:B.sampled},Xn=yield function xD(r){return ty.apply(this,arguments)}({scope:qt,client:xt,replayId:s,event:yn});if(!Xn)return xt.recordDroppedEvent("event_processor","replay",yn),ma("An event processor returned `null`, will not send event."),Ka({});delete Xn.sdkProcessingMetadata;const qn=function ey(r,s,c,p){return Wc(Mu(r,Cp(r),p,c),[[{type:"replay_event"},r],[{type:"replay_recording",length:"string"==typeof s?(new TextEncoder).encode(s).length:s.length},s]])}(Xn,Z,an,xt.getOptions().tunnel);let ui;try{ui=yield ln.send(qn)}catch(di){const Ui=new Error(yg);try{Ui.cause=di}catch{}throw Ui}if("number"==typeof ui.statusCode&&(ui.statusCode<200||ui.statusCode>=300))throw new XS(ui.statusCode);const Ti=Y0({},ui);if(HE(Ti,"replay"))throw new HS(Ti);return ui}),ny.apply(this,arguments)}class XS extends Error{constructor(s){super(`Transport returned status code ${s}`)}}class HS extends Error{constructor(s){super("Rate limit hit"),this.rateLimits=s}}function YS(r){return iy.apply(this,arguments)}function iy(){return iy=(0,es.A)(function*(r,s={count:0,interval:V1}){const{recordingData:c,options:p}=r;if(c.length)try{return yield function RD(r){return ny.apply(this,arguments)}(r),!0}catch(T){if(T instanceof XS||T instanceof HS)throw T;if(gp("Replays",{_retryCount:s.count}),os&&p._experiments&&p._experiments.captureExceptions&&uc(T),s.count>=G1){const B=new Error(`${yg} - max retries exceeded`);try{B.cause=T}catch{}throw B}return s.interval*=++s.count,new Promise((B,Z)=>{Yc((0,es.A)(function*(){try{yield YS(r,s),B(!0)}catch(pe){Z(pe)}}),s.interval)})}}),iy.apply(this,arguments)}const oy="__THROTTLED";class sd{constructor({options:s,recordingOptions:c}){sd.prototype.__init.call(this),sd.prototype.__init2.call(this),sd.prototype.__init3.call(this),sd.prototype.__init4.call(this),sd.prototype.__init5.call(this),sd.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=c,this._options=s,this._debouncedFlush=function zS(r,s,c){let p,T,B;const Z=c&&c.maxWait?Math.max(c.maxWait,s):0;function pe(){return xe(),p=r(),p}function xe(){void 0!==T&&clearTimeout(T),void 0!==B&&clearTimeout(B),T=B=void 0}function St(){return T&&clearTimeout(T),T=Yc(pe,s),Z&&void 0===B&&(B=Yc(pe,Z)),p}return St.cancel=xe,St.flush=function it(){return void 0!==T||void 0!==B?pe():p},St}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function Kf(r,s,c){const p=new Map;let Z=!1;return(...pe)=>{const xe=Math.floor(Date.now()/1e3);if((pe=>{const xe=pe-c;p.forEach((it,St)=>{St<xe&&p.delete(St)})})(xe),[...p.values()].reduce((pe,xe)=>pe+xe,0)>=s){const St=Z;return Z=!0,St?"__SKIPPED":oy}Z=!1;const it=p.get(xe)||0;return p.set(xe,it+1),r(...pe)}}((Z,pe)=>function A_(r,s,c){return Ff(r,s)?k_(r,s,c):Promise.resolve(null)}(this,Z,pe),300,5);const{slowClickTimeout:p,slowClickIgnoreSelectors:T}=this.getOptions(),B=p?{threshold:Math.min(3e3,p),timeout:p,scrollTimeout:300,ignoreSelector:T?T.join(","):""}:void 0;B&&(this.clickDetector=new Hg(this,B))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(s){const{errorSampleRate:c,sessionSampleRate:p}=this._options,T=c<=0&&p<=0;if(this._requiresManualStart=T,!T){if(this._initializeSessionForSampling(s),!this.session)return void this._handleException(new Error("Unable to initialize and create session"));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",id(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(os&&An.info("[Replay] Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(os&&An.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));id("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const s=R_({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=s,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(os&&An.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));id("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const s=R_({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=s,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const s=this._canvas;this._stopRecording=Mc({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:WS(this),onMutation:this._onMutationHandler,...s?{recordCanvas:s.recordCanvas,getCanvasManager:s.getCanvasManager,sampling:s.sampling,dataURLOptions:s.dataURLOptions}:{}})}catch(s){this._handleException(s)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(s){return this._handleException(s),!1}}stop({forceFlush:s=!1,reason:c}={}){var p=this;return(0,es.A)(function*(){if(p._isEnabled){p._isEnabled=!1;try{ma("[Replay] Stopping Replay"+(c?` triggered by ${c}`:""),p._options._experiments.traceInternals),p._removeListeners(),p.stopRecording(),p._debouncedFlush.cancel(),s&&(yield p._flush({force:!0})),p.eventBuffer&&p.eventBuffer.destroy(),p.eventBuffer=null,function ev(r){(function IS(){if(w_())try{is.sessionStorage.removeItem(bg)}catch{}})(),r.session=void 0}(p)}catch(T){p._handleException(T)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ma("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ma("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush({continueRecording:s=!0}={}){var c=this;return(0,es.A)(function*(){if("session"===c.recordingMode)return c.flushImmediate();const p=Date.now();ma("[Replay] Converting buffer to session",c._options._experiments.traceInternals),yield c.flushImmediate();const T=c.stopRecording();!s||!T||"session"!==c.recordingMode&&(c.recordingMode="session",c.session&&(c._updateUserActivity(p),c._updateSessionActivity(p),c._maybeSaveSession()),c.startRecording())})()}addUpdate(s){const c=s();"buffer"!==this.recordingMode&&!0!==c&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&x_(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const c=`${is.location.origin}${is.location.pathname}${is.location.hash}${is.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=c,this._context.initialTimestamp=Date.now(),this._context.urls.push(c)}throttledAddEvent(s,c){const p=this._throttledAddEvent(s,c);if(p===oy){const T=Hl({category:"replay.throttled"});this.addUpdate(()=>!rv(this,{type:5,timestamp:T.timestamp||0,data:{tag:"breadcrumb",payload:T,metric:!0}}))}return p}getCurrentRoute(){const s=this.lastActiveSpan||Qo(),c=s&&Us(s),T=(c&&bo(c).data||{})[ia];if(c&&T&&["route","custom"].includes(T))return bo(c).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function DS({useCompression:r,workerUrl:s}){if(r&&window.Worker){const c=function qg(r){try{const s=r||function wb(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function _a(){const r=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(r)}():""}();if(!s)return;ma("[Replay] Using compression worker"+(r?` from ${r}`:""));const c=new Worker(s);return new TS(c)}catch{ma("[Replay] Failed to create compression worker")}}(s);if(c)return c}return ma("[Replay] Using simple buffer"),new bs}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(s){os&&An.error("[Replay]",s),os&&this._options._experiments&&this._options._experiments.captureExceptions&&uc(s)}_initializeSessionForSampling(s){const p=R_({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:s},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=p}_checkSession(){if(!this.session)return!1;const s=this.session;return!Rb(s,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(s),!1)}_refreshSession(s){var c=this;return(0,es.A)(function*(){c._isEnabled&&(yield c.stop({reason:"refresh session"}),c.initializeSampling(s.id))})()}_addListeners(){try{is.document.addEventListener("visibilitychange",this._handleVisibilityChange),is.addEventListener("blur",this._handleWindowBlur),is.addEventListener("focus",this._handleWindowFocus),is.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(DD(this),this._hasInitializedCoreListeners=!0)}catch(s){this._handleException(s)}this._performanceCleanupCallback=function SS(r){function s(T){r.performanceEntries.includes(T)||r.performanceEntries.push(T)}function c({entries:T}){T.forEach(s)}const p=[];return["navigation","paint","resource"].forEach(T=>{p.push(lf(T,c))}),p.push(Zm(Yg(ES,r)),zu(Yg(kf,r)),qm(Yg(Qg,r)),aC(Yg(CS,r))),()=>{p.forEach(T=>T())}}(this)}_removeListeners(){try{is.document.removeEventListener("visibilitychange",this._handleVisibilityChange),is.removeEventListener("blur",this._handleWindowBlur),is.removeEventListener("focus",this._handleWindowFocus),is.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(s){this._handleException(s)}}__init(){this._handleVisibilityChange=()=>{"visible"===is.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const s=Hl({category:"ui.blur"});this._doChangeToBackgroundTasks(s)}}__init3(){this._handleWindowFocus=()=>{const s=Hl({category:"ui.focus"});this._doChangeToForegroundTasks(s)}}__init4(){this._handleKeyboardEvent=s=>{!function vS(r,s){if(!r.isEnabled())return;r.updateUserActivity();const c=function Zd(r){const{metaKey:s,shiftKey:c,ctrlKey:p,altKey:T,key:B,target:Z}=r;if(!Z||function fh(r){return"INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable}(Z)||!B)return null;if(!(s||p||T)&&1===B.length)return null;const it=wn(Z,{maxStringLength:200})||"<unknown>";return Hl({category:"ui.keyDown",message:it,data:{...Sb(Z,it).data,metaKey:s,shiftKey:c,ctrlKey:p,altKey:T,key:B}})}(s);c&&xf(r,c)}(this,s)}}_doChangeToBackgroundTasks(s){!this.session||sv(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(s&&this._createCustomBreadcrumb(s),this.conditionalFlush())}_doChangeToForegroundTasks(s){this.session&&(this.checkAndHandleExpiredSession()?s&&this._createCustomBreadcrumb(s):ma("[Replay] Document has become active, but session has expired"))}_updateUserActivity(s=Date.now()){this._lastActivity=s}_updateSessionActivity(s=Date.now()){this.session&&(this.session.lastActivity=s,this._maybeSaveSession())}_createCustomBreadcrumb(s){this.addUpdate(()=>{this.throttledAddEvent({type:Eo.Custom,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s}})})}_addPerformanceEntries(){const s=function Tb(r){return r.map(bS).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(L_(this,s))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:s,eventBuffer:c}=this;if(!s||!c||this._requiresManualStart||s.segmentId)return;const p=c.getEarliestTimestamp();p&&p<this._context.initialTimestamp&&(this._context.initialTimestamp=p)}_popEventContext(){const s={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),s}_runFlush(){var s=this;return(0,es.A)(function*(){const c=s.getSessionId();if(s.session&&s.eventBuffer&&c){if(yield s._addPerformanceEntries(),s.eventBuffer&&s.eventBuffer.hasEvents&&(yield function ID(r){return Jb.apply(this,arguments)}(s),s.eventBuffer&&c===s.getSessionId()))try{s._updateInitialTimestampFromEventBuffer();const p=Date.now();if(p-s._context.initialTimestamp>s._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const T=s._popEventContext(),B=s.session.segmentId++;s._maybeSaveSession();const Z=yield s.eventBuffer.finish();yield YS({replayId:c,recordingData:Z,segmentId:B,eventContext:T,session:s.session,options:s.getOptions(),timestamp:p})}catch(p){s._handleException(p),s.stop({reason:"sendReplay"});const T=Wn();T&&T.recordDroppedEvent("send_error","replay")}}else os&&An.error("[Replay] No session or eventBuffer found to flush.")})()}__init5(){var s=this;this._flush=(0,es.A)(function*({force:c=!1}={}){if(!s._isEnabled&&!c)return;if(!s.checkAndHandleExpiredSession())return void(os&&An.error("[Replay] Attempting to finish replay event after session expired."));if(!s.session)return;const p=s.session.started,B=Date.now()-p;s._debouncedFlush.cancel();const Z=B<s._options.minReplayDuration;if(Z||B>s._options.maxReplayDuration+5e3)return ma(`[Replay] Session duration (${Math.floor(B/1e3)}s) is too ${Z?"short":"long"}, not sending replay.`,s._options._experiments.traceInternals),void(Z&&s._debouncedFlush());const xe=s.eventBuffer;if(xe&&0===s.session.segmentId&&!xe.hasCheckout&&ma("[Replay] Flushing initial segment without checkout.",s._options._experiments.traceInternals),!s._flushLock)return s._flushLock=s._runFlush(),yield s._flushLock,void(s._flushLock=void 0);try{yield s._flushLock}catch(it){os&&An.error(it)}finally{s._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&nv(this.session)}__init6(){this._onMutationHandler=s=>{const c=s.length,p=this._options.mutationLimit,B=p&&c>p;if(c>this._options.mutationBreadcrumbLimit||B){const Z=Hl({category:"replay.mutations",data:{count:c,limit:B}});this._createCustomBreadcrumb(Z)}return!B||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function U_(r,s){return[...r,...s].join(",")}const JS='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ZS=["content-length","content-type","accept"];let ry=!1;const qS=r=>new tu(r);class tu{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:s=5e3,flushMaxDelay:c=5500,minReplayDuration:p=4999,maxReplayDuration:T=36e5,stickySession:B=!0,useCompression:Z=!0,workerUrl:pe,_experiments:xe={},maskAllText:it=!0,maskAllInputs:St=!0,blockAllMedia:xt=!0,mutationBreadcrumbLimit:qt=750,mutationLimit:ln=1e4,slowClickTimeout:an=7e3,slowClickIgnoreSelectors:yn=[],networkDetailAllowUrls:Xn=[],networkDetailDenyUrls:qn=[],networkCaptureBodies:ui=!0,networkRequestHeaders:Ti=[],networkResponseHeaders:di=[],mask:Ui=[],maskAttributes:jn=["title","placeholder"],unmask:Un=[],block:Si=[],unblock:qi=[],ignore:ci=[],maskFn:xi,beforeAddRecordingEvent:Ri,beforeErrorSampling:Zo}={}){this.name=tu.id;const ss=function sy({mask:r,unmask:s,block:c,unblock:p,ignore:T}){return{maskTextSelector:U_(r,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:U_(s,[]),blockSelector:U_(c,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:U_(p,[]),ignoreSelector:U_(T,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:Ui,unmask:Un,block:Si,unblock:qi,ignore:ci});if(this._recordingOptions={maskAllInputs:St,maskAllText:it,maskInputOptions:{password:!0},maskTextFn:xi,maskInputFn:xi,maskAttributeFn:(Ks,Vn,_i)=>function QS({el:r,key:s,maskAttributes:c,maskAllText:p,privacyOptions:T,value:B}){return!p||T.unmaskTextSelector&&r.matches(T.unmaskTextSelector)?B:c.includes(s)||"value"===s&&"INPUT"===r.tagName&&["submit","button"].includes(r.getAttribute("type")||"")?B.replace(/[\S]/g,"*"):B}({maskAttributes:jn,maskAllText:it,privacyOptions:ss,key:Ks,value:Vn,el:_i}),...ss,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ks=>{try{Ks.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:s,flushMaxDelay:c,minReplayDuration:Math.min(p,15e3),maxReplayDuration:Math.min(T,36e5),stickySession:B,useCompression:Z,workerUrl:pe,blockAllMedia:xt,maskAllInputs:St,maskAllText:it,mutationBreadcrumbLimit:qt,mutationLimit:ln,slowClickTimeout:an,slowClickIgnoreSelectors:yn,networkDetailAllowUrls:Xn,networkDetailDenyUrls:qn,networkCaptureBodies:ui,networkRequestHeaders:ly(Ti),networkResponseHeaders:ly(di),beforeAddRecordingEvent:Ri,beforeErrorSampling:Zo,_experiments:xe},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${JS}`:JS),this._isInitialized&&gg())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ry}set _isInitialized(s){ry=s}afterAllSetup(s){!gg()||this._replay||(this._setup(s),this._initialize(s))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(s){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(s):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(s){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(s),this._replay.initializeSampling())}_setup(s){const c=function ay(r,s){const c=s.getOptions(),p={sessionSampleRate:0,errorSampleRate:0,...Ps(r)},T=Uh(c.replaysSessionSampleRate),B=Uh(c.replaysOnErrorSampleRate);return null==T&&null==B&&_r(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=T&&(p.sessionSampleRate=T),null!=B&&(p.errorSampleRate=B),p}(this._initialOptions,s);this._replay=new sd({options:c,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(s){try{const c=s.getIntegrationByName("ReplayCanvas");if(!c)return;this._replay._canvas=c.getOptions()}catch{}}}function ly(r){return[...ZS,...r.map(s=>s.toLowerCase())]}tu.__initStatic();const AD={};var mh=a(285),kD=a(6511),tM=a(5416),cy=a(3801),zf=a(1780),nM=a(4921),iM=a(785),V_=a(8482),oM=a(7080);function sM(r,s){1&r&&n.nrm(0,"global-chat")}function rM(r,s){1&r&&n.nrm(0,"debug-console")}const dy=location.search;window.global=window;let lM=(()=>{class r extends yo.Tv{get debug(){return window.debug&&!0===this._settings.get("app.allow_debugging")}get has_chat(){return this._settings.get("app.chat.enabled")}constructor(c,p,T,B,Z,pe,xe,it,St,xt,qt){super(),this._analytics=c,this._settings=p,this._org=T,this._cache=B,this._snackbar=Z,this._hotkey=pe,this._clipboard=xe,this._route=it,this._router=St,this._maps=xt,this._translate=qt}ngOnInit(){var c=this;return(0,es.A)(function*(){(0,yo.Rm)("APP","MOCKS:",AD),c._hotkey.listen(["Control","Alt","Shift","KeyM"],()=>{localStorage.setItem("mock",`${"true"!==localStorage.getItem("mock")}`),location.reload()}),c._hotkey.listen(["Control","Alt","Shift","KeyD"],()=>{c._settings.saveUserSetting("dark_mode",!c._settings.get("dark_mode")),(0,yo.VX)("Toggled dark mode.")}),c._hotkey.listen(["Control","Alt","Shift","KeyC"],()=>{c._clipboard.copy(`${(0,Mr.ShT)()}|${(0,Mr.Be_)()}`),(0,yo.VX)("Successfully copied token.")}),c._hotkey.listen(["Control","Alt","Shift","KeyV"],()=>{navigator.clipboard?.readText().then(T=>c._pasteToken(T))}),window.pasteToken=T=>c._pasteToken(T),c._route.queryParamMap.subscribe(T=>{if(T.has("hide_nav")&&localStorage.setItem("PlaceOS.hide_nav","true"),T.has("lang")){const B=T.get("lang");c._translate?.use(B),localStorage.setItem("PLACEOS.locale",B)}T.has("x-api-key")&&(0,Mr.BCG)(T.get("x-api-key"))}),(0,yo.To)(c._snackbar),yield c._settings.initialised.pipe((0,Rc.$)(T=>T)).toPromise(),(0,yo.Xf)(c._settings.get("app.short_name"));const p=c._settings.get("composer")||{};if(p.mock=!!c._settings.get("mock")||location.origin.includes("demo.place.tech"),dy){const T=(0,Mr.omv)(dy.substring(1));c._router.navigate([],{relativeTo:c._route,queryParams:T})}yield(0,yo.jJ)(p).catch(T=>console.error(T)),yield c._org.initialised.pipe((0,Rc.$)(T=>T)).toPromise(),(0,yo.WQ)(c._cache),p.local_login||c.timeout("wait_for_user",()=>c.onInitError(),3e4),yield yo.U5.pipe((0,Rc.$)(T=>!!T)).toPromise(),c.clearTimeout("wait_for_user"),c._initLocale(),(0,dt.Z4)(c._settings.get("app.general.internal_user_domain")||`@${(0,yo.Ny)()?.email?.split("@")[1]}`),c._initAnalytics(),function aM(r,s=.1){r&&function TC(r){const s={defaultIntegrations:[sa(),Ao(),Am(),Hc(),$0(),ra(),Lm()],...r};return Mm(s,"angular"),function DC(){const s=n.xvI&&n.xvI.major?parseInt(n.xvI.major,10):void 0;s&&(s<14&&t_&&An.warn(`This Sentry SDK does not officially support Angular ${s}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),gp("angular",{version:s}))}(),Vm(s)}({dsn:r,integrations:[F1(),qS({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/[a-zA-Z0-9_\-]*\.[a-zA-Z0-9]*\/api/,/^https:\/\/[a-zA-Z0-9_\-]*\.placeos\.run*\/api/],replaysSessionSampleRate:s,replaysOnErrorSampleRate:1})}(c._settings.get("app.sentry_dsn"));try{const T=(0,Mr.ShT)();(0,yo.HQ)()&&(0,kD.sM)("x-api-key"===T?{"x-api-key":(0,Mr.Kz4)()}:{Authorization:`Bearer ${T}`}),c._settings.get("app.has_uploads")&&c.timeout("init_uploads",()=>{(0,mh.yd)({auto_start:!0,token:(0,Mr.ShT)(),endpoint:"/api/engine/v2/uploads",worker_url:"assets/md5_worker.js",providers:[mh.LJ,mh.Y9,mh.yF,mh.xB]})}),(0,Mr.vWy)()&&c.interval("auto-update-version",()=>c._checkReload(),15e3)}catch{}})()}onInitError(){(0,Mr.TMs)()||(0,yo.Ny)()?.is_logged_in||((0,Mr.XTx)(),location.reload())}_initAnalytics(){const c=this._settings.get("app.analytics.tracking_id");c&&(this._analytics.init(c),this._analytics.load(c),this._analytics.setUser((0,yo.Ny)().id))}_initLocale(){try{let c=localStorage.getItem("PLACEOS.locale");const p=this._settings.get("app.locales")||[];if(this._translate?.addLangs(p.map(T=>T.id)),c)this._translate?.use(c);else{const T=navigator.languages;for(const B of T)if(c=p.find(Z=>Z.id===B),c||(c=p.find(Z=>B.includes(Z.id))),c){this._translate?.use(B),localStorage.setItem("PLACEOS.locale",B);break}}}catch{}}_pasteToken(c){const p=c.split("|"),T=(0,Mr.L2z)();localStorage.setItem(`${T}_access_token`,`${p[0]}`),localStorage.setItem(`${T}_refresh_token`,`${p[1]}`),localStorage.setItem(`${T}_expires_at`,`${(0,Da.L)(new Date,6).valueOf()}`),(0,yo.VX)("Successfully pasted token."),setTimeout(()=>location.reload(),2e3)}_checkReload(){(0,yo.tU)()&&(location.reload(),this.timeout("reload",()=>location.href=`${location.origin}${location.pathname}`))}static#e=this.\u0275fac=function(p){return new(p||r)(n.rXU(yo.p),n.rXU(yo.h$),n.rXU(G.y),n.rXU(Pr),n.rXU(tM.UG),n.rXU(yo.dr),n.rXU(cy.B0),n.rXU(ds.nX),n.rXU(ds.Ix),n.rXU(Pl._),n.rXU(zf.c$,8))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["app-root"]],features:[n.Vt3],decls:6,vars:2,consts:[[1,"flex-1","w-full","relative","h-1/2"],[4,"ngIf"]],template:function(p,T){1&p&&(n.nrm(0,"global-banner"),n.j41(1,"div",0),n.nrm(2,"router-outlet"),n.k0s(),n.DNE(3,sM,1,0,"global-chat",1),n.nrm(4,"global-loading"),n.DNE(5,rM,1,0,"debug-console",1)),2&p&&(n.R7$(3),n.Y8G("ngIf",T.has_chat),n.R7$(2),n.Y8G("ngIf",T.debug))},dependencies:[eo.bT,ds.n3,nM.h,iM.p,V_.O,oM.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}"]})}return r})();var G_=a(8030),uy=a(2185),Ql=a(6600),gh=a(3719),K_=a(2798),Wf=a(9183);const hy=["bootstrap",""];function nu(r,s){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const c=s.$implicit;n.Y8G("value",c),n.R7$(3),n.SpI(" ",c.display_name||c.name," "),n.R7$(4),n.JRh(c.id)}}function fy(r,s){if(1&r){const c=n.RV6();n.qex(0),n.j41(1,"label"),n.EFF(2,"Select a region from the dropdown below"),n.k0s(),n.j41(3,"mat-form-field",10)(4,"mat-select",11,1),n.mxI("ngModelChange",function(T){n.eBV(c);const B=n.XpG(2);return n.DH7(B.active_region,T)||(B.active_region=T),n.Njj(T)}),n.bIt("ngModelChange",function(T){n.eBV(c);const B=n.XpG(2);return n.Njj(B.setRegion(T))}),n.j41(6,"mat-select-trigger")(7,"div",12)(8,"div",13),n.EFF(9),n.k0s(),n.j41(10,"div",14),n.EFF(11),n.k0s()()(),n.DNE(12,nu,10,3,"mat-option",15),n.nI1(13,"async"),n.k0s()(),n.bVm()}if(2&r){const c=n.XpG(2);n.R7$(4),n.R50("ngModel",c.active_region),n.R7$(5),n.SpI(" ",(null==c.active_region?null:c.active_region.display_name)||(null==c.active_region?null:c.active_region.name)," "),n.R7$(2),n.SpI(" ",null==c.active_region?null:c.active_region.id," "),n.R7$(),n.Y8G("ngForOf",n.bMT(13,4,c.regions))}}function cM(r,s){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",21)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const c=s.$implicit;n.Y8G("value",c),n.R7$(3),n.SpI(" ",c.display_name||c.name," "),n.R7$(4),n.JRh(c.id)}}function FD(r,s){if(1&r){const c=n.RV6();n.qex(0),n.j41(1,"label"),n.EFF(2,"Select a building from the dropdown below"),n.k0s(),n.j41(3,"mat-form-field",10)(4,"mat-select",20,1),n.mxI("ngModelChange",function(T){n.eBV(c);const B=n.XpG(2);return n.DH7(B.active_building,T)||(B.active_building=T),n.Njj(T)}),n.bIt("ngModelChange",function(T){n.eBV(c);const B=n.XpG(2);return n.Njj(B.setBuilding(T))}),n.j41(6,"mat-select-trigger")(7,"div",12)(8,"div",13),n.EFF(9),n.k0s(),n.j41(10,"div",14),n.EFF(11),n.k0s()()(),n.DNE(12,cM,10,3,"mat-option",15),n.nI1(13,"async"),n.k0s()(),n.bVm()}if(2&r){const c=n.XpG(2);n.R7$(4),n.R50("ngModel",c.active_building),n.R7$(5),n.SpI(" ",(null==c.active_building?null:c.active_building.display_name)||(null==c.active_building?null:c.active_building.name)," "),n.R7$(2),n.SpI(" ",null==c.active_building?null:c.active_building.id," "),n.R7$(),n.Y8G("ngForOf",n.bMT(13,4,c.buildings))}}function vv(r,s){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const c=s.$implicit;n.Y8G("value",c),n.R7$(3),n.SpI(" ",c.display_name||c.name," "),n.R7$(4),n.JRh(c.id)}}function bv(r,s){if(1&r){const c=n.RV6();n.qex(0),n.nrm(1,"div"),n.j41(2,"label"),n.EFF(3,"Select a level from the dropdown below"),n.k0s(),n.j41(4,"mat-form-field",10)(5,"mat-select",22,1),n.mxI("ngModelChange",function(T){n.eBV(c);const B=n.XpG(2);return n.DH7(B.active_level,T)||(B.active_level=T),n.Njj(T)}),n.j41(7,"mat-select-trigger")(8,"div",12)(9,"div",13),n.EFF(10),n.k0s(),n.j41(11,"div",14),n.EFF(12),n.k0s()()(),n.DNE(13,vv,10,3,"mat-option",15),n.nI1(14,"async"),n.k0s()(),n.bVm()}if(2&r){const c=n.XpG(2);n.R7$(5),n.R50("ngModel",c.active_level),n.R7$(5),n.SpI(" ",(null==c.active_level?null:c.active_level.display_name)||(null==c.active_level?null:c.active_level.name)," "),n.R7$(2),n.SpI(" ",null==c.active_level?null:c.active_level.id," "),n.R7$(),n.Y8G("ngForOf",n.bMT(14,4,c.levels))}}function dM(r,s){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const c=s.$implicit;n.Y8G("value",c),n.R7$(3),n.SpI(" ",c.display_name||c.name," "),n.R7$(4),n.JRh(c.id)}}function py(r,s){if(1&r){const c=n.RV6();n.qex(0),n.nrm(1,"div"),n.j41(2,"label"),n.EFF(3," Please select an orientation from the dropdown below "),n.k0s(),n.j41(4,"mat-form-field",10)(5,"mat-select",23,1),n.mxI("valueChange",function(T){n.eBV(c);const B=n.XpG(2);return n.DH7(B.active_rotation,T)||(B.active_rotation=T),n.Njj(T)}),n.DNE(7,dM,10,3,"mat-option",15),n.k0s()(),n.bVm()}if(2&r){const c=n.XpG(2);n.R7$(5),n.R50("value",c.active_rotation),n.R7$(2),n.Y8G("ngForOf",c.rotations)}}function yv(r,s){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const c=s.$implicit;n.Y8G("value",c),n.R7$(3),n.SpI(" ",c.display_name||c.name," "),n.R7$(4),n.JRh(c.id)}}function uM(r,s){if(1&r){const c=n.RV6();n.qex(0),n.nrm(1,"div"),n.j41(2,"label"),n.EFF(3," Please select an fixed location from the dropdown below "),n.k0s(),n.j41(4,"mat-form-field",10)(5,"mat-select",24,1),n.mxI("valueChange",function(T){n.eBV(c);const B=n.XpG(2);return n.DH7(B.active_location,T)||(B.active_location=T),n.Njj(T)}),n.DNE(7,yv,10,3,"mat-option",15),n.k0s()(),n.bVm()}if(2&r){const c=n.XpG(2);n.R7$(5),n.R50("value",c.active_location),n.R7$(2),n.Y8G("ngForOf",c.locations)}}function PD(r,s){if(1&r&&(n.j41(0,"div",8),n.DNE(1,fy,14,6,"ng-container",9),n.nI1(2,"async"),n.DNE(3,FD,14,6,"ng-container",9),n.nI1(4,"async"),n.DNE(5,bv,15,6,"ng-container",9),n.nI1(6,"async"),n.DNE(7,py,8,2,"ng-container",9)(8,uM,8,2,"ng-container",9),n.k0s()),2&r){let c,p,T;const B=n.XpG();n.R7$(),n.Y8G("ngIf",(null==(c=n.bMT(2,5,B.regions))?null:c.length)>1),n.R7$(2),n.Y8G("ngIf",null==(p=n.bMT(4,7,B.buildings))?null:p.length),n.R7$(2),n.Y8G("ngIf",(null==(T=n.bMT(6,9,B.levels))?null:T.length)&&B.active_building),n.R7$(2),n.Y8G("ngIf",B.rotations&&B.rotations.length),n.R7$(),n.Y8G("ngIf",B.locations&&B.locations.length)}}function z_(r,s){if(1&r){const c=n.RV6();n.j41(0,"div",25)(1,"button",26),n.bIt("click",function(){n.eBV(c);const T=n.XpG();return n.Njj(T.bootstrapKiosk())}),n.EFF(2," Finish Setup "),n.k0s()()}if(2&r){const c=n.XpG();n.R7$(),n.Y8G("disabled",!c.active_building&&!c.active_level)}}function hM(r,s){if(1&r&&(n.j41(0,"div",27),n.nrm(1,"mat-spinner",28),n.j41(2,"p"),n.EFF(3),n.k0s()()),2&r){const c=n.XpG();n.R7$(),n.Y8G("diameter",32),n.R7$(2),n.JRh(c.loading)}}let fM=(()=>{class r extends yo.Tv{setRegion(c){this._org.region=c,this.active_building=void 0,this.active_level=void 0,this.updateRotations()}setBuilding(c){this._org.building=c,this.active_level=void 0,this.updateRotations()}get locations(){return this.active_level&&this.active_level.locations||[]}constructor(c,p,T,B){super(),this._org=c,this._settings=p,this._route=T,this._router=B,this.rotations=[],this.regions=this._org.region_list,this.buildings=this._org.active_buildings,this.levels=this._org.active_levels}ngOnInit(){var c=this;return(0,es.A)(function*(){yield c._org.initialised.pipe((0,Rc.$)(p=>p)).toPromise(),c.active_region=c._org.region,c.subscription("route.query",c._route.queryParamMap.subscribe(p=>{if(p.has("osk")){const T="true"===p.get("osk");localStorage.setItem("OSK.enabled",`${T}`)}if(p.has("clear")&&"true"===p.get("clear")&&(localStorage.removeItem("KIOSK.building"),localStorage.removeItem("KIOSK.level"),localStorage.removeItem("KIOSK.orientation")),p.has("level")){const T=c._org.levelWithID([p.get("level")]);T&&(c.active_level=T,c.bootstrapKiosk())}})),c.checkBootstrap()})()}updateRotations(){if(this.rotations=[],!this.active_building)return;const c=this.active_building.orientations,p=[];for(const T in c)c[T]&&p.push({id:T,name:`${T.split("_").join(" ")} (${90*c[T]}\xb0)`,value:c[T]});this.rotations=p,this.active_rotation=this.rotations[0]}bootstrapKiosk(){if(this.loading="Bootstrapping application...",this.active_level){localStorage&&(localStorage.setItem("KIOSK.building",this.active_building?.id||this.active_level.parent_id),localStorage.setItem("KIOSK.level",this.active_level.id),this.active_rotation&&localStorage.setItem("KIOSK.orientation",`${this.active_rotation.id}`),this.active_location&&localStorage.setItem("KIOSK.location",`${this.active_location.id}`));const p=(this._settings.get("app.default_route")||"welcome").split("/");p[0]=`/${p[0]}`,this._router.navigate(p)}this.loading=null}checkBootstrap(){if(this.loading="Checking for existing parameters...",localStorage){const c=localStorage.getItem("KIOSK.building"),p=localStorage.getItem("KIOSK.level");if(c&&p){const B=(this._settings.get("app.default_route")||"welcome").split("/");B[0]=`/${B[0]}`,this._router.navigate(B)}}G_.eW.enabled="true"===localStorage.getItem("OSK.enabled"),this.loading=null}static#e=this.\u0275fac=function(p){return new(p||r)(n.rXU(uy.yb),n.rXU(yo.h$),n.rXU(ds.nX),n.rXU(ds.Ix))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["","bootstrap",""]],features:[n.Vt3],attrs:hy,decls:11,vars:3,consts:[["load_state",""],["select",""],[1,"absolute","inset-0","bg-base-200","z-0"],["form","",1,"relative","my-8","mx-auto","bg-base-100","overflow-hidden","shadow","rounded-lg","border","border-base-300","w-[28rem]","max-w-[calc(100%-2rem)]","z-10"],[1,"px-4","py-3","bg-secondary","text-secondary-content","w-full","text-xl","font-medium","flex","items-center","justify-between"],[1,"px-2","py-1","rounded","text-sm","font-mono"],["class","px-4 flex flex-col space-y-2",4,"ngIf","ngIfElse"],["class","w-full px-4 py-2 !mt-4 flex items-center justify-end border-t border-base-300",4,"ngIf"],[1,"px-4","flex","flex-col","space-y-2"],[4,"ngIf"],["appearance","outline",1,"no-subscript"],["building","","placeholder","Select region",3,"ngModelChange","ngModel"],[1,"flex","items-center","space-x-4"],[1,"flex-1","truncate"],[1,"text-[0.625rem]","font-mono","!mr-4","bg-base-200","rounded","px-1.5"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"leading-tight"],[1,"text-[0.625rem]","opacity-30","font-mono"],[1,"hidden"],["building","","placeholder","Select building",3,"ngModelChange","ngModel"],[1,"text-[0.625rem]","opacity-60","font-mono"],["level","","placeholder","Select level",3,"ngModelChange","ngModel"],["placeholder","Select orientation",3,"valueChange","value"],["placeholder","Select location",3,"valueChange","value"],[1,"w-full","px-4","py-2","!mt-4","flex","items-center","justify-end","border-t","border-base-300"],["btn","","matRipple","",1,"w-32",3,"click","disabled"],[1,"flex","flex-col","items-center","p-8","m-auto"],[3,"diameter"]],template:function(p,T){if(1&p&&(n.nrm(0,"div",2),n.j41(1,"div",3)(2,"header",4)(3,"div"),n.EFF(4,"Visitor Kiosk"),n.k0s(),n.j41(5,"div",5),n.EFF(6,"SETUP"),n.k0s()(),n.DNE(7,PD,9,11,"div",6)(8,z_,3,1,"div",7),n.k0s(),n.DNE(9,hM,4,2,"ng-template",null,0,n.C5r)),2&p){const B=n.sdS(10);n.R7$(7),n.Y8G("ngIf",!T.loading)("ngIfElse",B),n.R7$(),n.Y8G("ngIf",!T.loading)}},dependencies:[eo.Sq,eo.bT,co.BC,co.vS,Ql.wT,gh.rl,K_.VO,K_.$2,Ql.r6,Wf.LG,eo.Jj],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}label[_ngcontent-%COMP%]{padding-top:1rem}"]})}return r})();var rd=a(9434);const pM=()=>["/checkin"],Jl=r=>["/explore",r];function Xf(r,s){if(1&r&&(n.j41(0,"a",6)(1,"div",7)(2,"div",8),n.EFF(3,"Explore"),n.k0s(),n.j41(4,"app-icon",9),n.EFF(5,"place"),n.k0s()()()),2&r){const c=n.XpG();n.Y8G("routerLink",n.eq3(1,Jl,c.level))}}const iu=[{path:"bootstrap",component:fM},{path:"welcome",component:(()=>{class r extends yo.Tv{get background(){return this._settings.get("app.home.background")}constructor(c,p){super(),this.route=c,this._settings=p,this.now=Date.now(),this.level=""}ngOnInit(){this.interval("time",()=>this.now=Date.now(),3e4),this.subscription("level",this._settings.listen("KIOSK.level").subscribe(c=>this.level=c)),this.level=localStorage?.getItem("KIOSK.level"),this.subscription("route.params",this.route.paramMap.subscribe(c=>{c.has("level")&&(this.level=c.get("level"))}))}static#e=this.\u0275fac=function(p){return new(p||r)(n.rXU(ds.nX),n.rXU(yo.h$))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["app-welcome"]],features:[n.Vt3],decls:23,vars:12,consts:[[1,"absolute","inset-0","p-8","flex","items-center"],[1,"absolute","min-h-[100%]","min-w-[100%]","top-1/2","-translate-y-1/2","left-1/2","-translate-x-1/2",3,"src"],[1,"flex","flex-col","justify-center","space-y-8","z-10","w-[60%]"],[1,"mb-4","text-white","text-6xl","space-y-2"],[1,"text-primary"],[1,"flex","items-center","space-x-4","font-medium"],["btn","","matRipple","",1,"base","w-40",3,"routerLink"],[1,"flex","items-center","space-x-2"],[1,"ml-2"],[1,"text-2xl"],["btn","","matRipple","","class","base w-40",3,"routerLink",4,"ngIf"],[1,"absolute","top-4","right-4","text-2xl","text-white"],["src","assets/img/building.png",1,"absolute","w-[60%]","bottom-0","right-0"]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.nrm(1,"img",1),n.j41(2,"div",2)(3,"h3",3)(4,"p"),n.EFF(5,"Welcome to Place"),n.j41(6,"span",4),n.EFF(7,"OS"),n.k0s()(),n.j41(8,"p"),n.EFF(9,"Self Service Kiosk"),n.k0s()(),n.j41(10,"div",5)(11,"a",6)(12,"div",7)(13,"div",8),n.EFF(14,"Check-in"),n.k0s(),n.j41(15,"app-icon",9),n.EFF(16,"chevron_right"),n.k0s()()(),n.DNE(17,Xf,6,3,"a",10),n.k0s()(),n.j41(18,"div",11),n.EFF(19),n.nI1(20,"date"),n.nI1(21,"date"),n.k0s(),n.nrm(22,"img",12),n.k0s()),2&p&&(n.R7$(),n.Y8G("src",T.background,n.B4B),n.R7$(10),n.Y8G("routerLink",n.lJ4(11,pM)),n.R7$(6),n.Y8G("ngIf",T.level),n.R7$(2),n.Lme(" ",n.i5U(20,5,T.now,"mediumDate")," ",n.i5U(21,8,T.now,"shortTime")," "))},dependencies:[eo.bT,ds.Wk,rd.R,Ql.r6,eo.vh],styles:["a[_ngcontent-%COMP%]{height:3.5rem;background-color:#ffffff40}"]})}return r})()},{path:"explore",loadChildren:()=>Promise.all([a.e(76),a.e(126)]).then(a.bind(a,126)).then(r=>r.AppExploreModule)},{path:"checkin",loadChildren:()=>Promise.all([a.e(76),a.e(782)]).then(a.bind(a,8782)).then(r=>r.VisitorCheckinModule)},{path:"**",redirectTo:"bootstrap"}];let W_=(()=>{class r{static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({imports:[ds.iI.forRoot(iu,{useHash:!0}),ds.iI]})}return r})();var hl=a(8883);var _M=a(2168),Dc=a(4006),Hf=a(9631),_y=a(8834),Ev=a(5272),my=a(2596),mM=a(6299);const er=["input"];function gy(r,s){if(1&r&&n.nrm(0,"img",27),2&r){const c=n.XpG();n.Y8G("src","assets/icons/"+c.card_type+".svg",n.B4B)}}function gM(r,s){if(1&r&&(n.j41(0,"mat-option",28),n.EFF(1),n.k0s()),2&r){const c=s.$implicit;n.Y8G("value",c[0]),n.R7$(),n.Lme(" ",c[1]," (",c[0],") ")}}function tr(r,s){if(1&r&&(n.j41(0,"mat-option",28),n.EFF(1),n.k0s()),2&r){const c=s.$implicit;n.Y8G("value",c),n.R7$(),n.JRh(c)}}const Yf={card_number:"                ",cardholder:"",cvv:""},ad=new eo.vh("en-us","");let Qf=(()=>{class r extends yo.Tv{constructor(){super(...arguments),this.details=new co.gE({card_number:new co.MJ(Array(16).fill("X").join()),cardholder:new co.MJ(""),exp_month:new co.MJ(""),exp_year:new co.MJ(""),cvv:new co.MJ("",[co.k0.minLength(3),co.k0.maxLength(4)])}),this.disabled=!1,this.months=Array(12).fill(0).map((c,p)=>[ad.transform((0,my.Z)(Date.now(),p),"MM"),ad.transform((0,my.Z)(Date.now(),p),"MMM")]),this.years=Array(12).fill(0).map((c,p)=>ad.transform((0,mM.e)(Date.now(),p),"yyyy")),this.digits=Array(16).fill(0),this._index=0,this.registerOnChange=c=>this._onChange=c,this.registerOnTouched=c=>this._onTouch=c,this.setDisabledState=c=>this.disabled=c}get is_amex(){return(this.details.value?.card_number||"").startsWith("3")}get card_type(){const c=this.details.value?.card_number||"";return c.startsWith("3")?"amex":c.startsWith("4")?"visa":c.startsWith("5")?"mastercard":""}get card_display(){let c=this.details.value?.card_number||"";return this.card_focused&&(c=c.substring(0,this._index)+"\u2bd0"+c.substring(this._index+1)),this.is_amex?`${c.substring(0,4)}-${c.substring(4,10)}-${c.substring(10)}`:`${c.substring(0,4)}-${c.substring(4,8)}-${c.substring(8,12)}-${c.substring(12)}`}get card_focused(){return document.activeElement===this._input_el.nativeElement||document.activeElement===this._input_el.nativeElement.parentElement}ngOnInit(){this.subscription("changes",this.details.valueChanges.subscribe(c=>this.timeout("update",()=>this.setValue(this.details.getRawValue()))))}focusInput(){this._input_el.nativeElement.focus(),this._index=this._input_el.nativeElement.selectionStart||0}onInput(c){if(!c||!this.card_focused)return;const p=this._index;if(p<0||p>16)return;let T=this.details.value.card_number;if((c.code.startsWith("Digit")||c.code.startsWith("Numpad"))&&p<(this.is_amex?15:16))T=T.substring(0,p)+c.key+T.substring(p+1),this.details.patchValue({card_number:T}),this._focusChange(p,1);else if("Backspace"===c.code&&p>0){let B=this.details.value.card_number;B=B.substring(0,p)+" "+B.substring(p+1),this.details.patchValue({card_number:B}),this._focusChange(p,-1)}else"ArrowLeft"===c.code?this._focusChange(p,-1):"ArrowRight"===c.code&&" "!==T[p]&&this._focusChange(p,1)}_focusChange(c,p){this._index=Math.min(16,Math.max(0,c+p))}setValue(c){this._onChange&&this._onChange(c)}writeValue(c){this.details.patchValue(c||Yf)}static#e=this.\u0275fac=(()=>{let c;return function(T){return(c||(c=n.xGo(r)))(T||r)}})();static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["card-input-field"]],viewQuery:function(p,T){if(1&p&&n.GBs(er,7),2&p){let B;n.mGM(B=n.lsd())&&(T._input_el=B.first)}},features:[n.Jv_([{provide:co.kq,useExisting:(0,n.Rfq)(()=>r),multi:!0}]),n.Vt3],decls:41,vars:6,consts:()=>{let c,p,T,B,Z,pe,xe;return c=$localize`:c51ae86488666fc691751bf76d88811b37505c001085309836704157602:Card Number`,p=$localize`:cc927e92ada1f250e8c5ea7884d0b1294be566354148395957159016439:Name on Card`,T=$localize`:6402e768a1ac6a5f86edf0daccf05b3d9d63f465598947732489453783:Cardholder name is required`,B=$localize`:48b5a0234304bd29aeaab8f2793b8245517a71027043163776563263056:Expiry Month`,Z=$localize`:28b0c8359cc099ef3dcaddac4c1357d45751ac9d1539914853150581191:Expiry month is required`,pe=$localize`:84a41ff903da0de49f3172fef0d0528701065d6e6698859483517525075:Expiry year is required`,xe=$localize`:11a0ab2762b4af425c3d20aa211a751e4785e04e203544573091191988:Invalid security code`,[["input",""],c,p,T,B,Z,pe,xe,[3,"keyup","formGroup"],[1,"flex","flex-col"],["for","card-number"],["tabindex","0",1,"border","border-base-200","p-2","h-12","mb-4","focus-within:shadow","focus-within:border-base-200","flex","items-center","font-mono","w-full","rounded","relative",3,"focus"],[1,"flex-1"],["type","tel","maxlength","17",1,"hidden","absolute",3,"keydown","value"],["class","h-8",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-1"],["for","cardholder"],["appearance","outline"],["name","cardholder","matInput","","placeholder","Mr John Smith","formControlName","cardholder"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1","w-1/4"],["placeholder","MM","formControlName","exp_month"],[3,"value",4,"ngFor","ngForOf"],["placeholder","YYYY","formControlName","exp_year"],["for","cvv"],["appearance","outline",1,"w-20"],["name","cvv","matInput","","formControlName","cvv","maxlength","4"],[1,"h-8",3,"src"],[3,"value"]]},template:function(p,T){if(1&p){const B=n.RV6();n.j41(0,"form",8),n.bIt("keyup",function(pe){return n.eBV(B),n.Njj(T.onInput(pe))},!1,n.tSv),n.j41(1,"div",9)(2,"label",10),n.pXf(3,1),n.k0s(),n.j41(4,"div",11),n.bIt("focus",function(){return n.eBV(B),n.Njj(T.focusInput())}),n.j41(5,"pre",12),n.EFF(6),n.k0s(),n.j41(7,"input",13,0),n.bIt("keydown",function(){return n.eBV(B),n.Njj(!1)}),n.k0s(),n.DNE(9,gy,1,1,"img",14),n.k0s()(),n.j41(10,"div",15)(11,"label",16),n.pXf(12,2),n.k0s(),n.j41(13,"mat-form-field",17),n.nrm(14,"input",18),n.j41(15,"mat-error"),n.pXf(16,3),n.k0s()()(),n.j41(17,"div",19)(18,"div",20)(19,"label",16),n.pXf(20,4),n.k0s(),n.j41(21,"mat-form-field",17)(22,"mat-select",21),n.DNE(23,gM,2,3,"mat-option",22),n.k0s(),n.j41(24,"mat-error"),n.pXf(25,5),n.k0s()()(),n.j41(26,"div",20)(27,"label",16),n.EFF(28,"Expiry Year"),n.k0s(),n.j41(29,"mat-form-field",17)(30,"mat-select",23),n.DNE(31,tr,2,2,"mat-option",22),n.k0s(),n.j41(32,"mat-error"),n.pXf(33,6),n.k0s()()(),n.j41(34,"div",9)(35,"label",24),n.EFF(36,"CVV"),n.k0s(),n.j41(37,"mat-form-field",25),n.nrm(38,"input",26),n.j41(39,"mat-error"),n.pXf(40,7),n.k0s()()()()()}2&p&&(n.Y8G("formGroup",T.details),n.R7$(6),n.JRh(T.card_display),n.R7$(),n.Y8G("value",null==T.details.value.card_number?null:T.details.value.card_number.trim()),n.R7$(2),n.Y8G("ngIf",T.card_type),n.R7$(14),n.Y8G("ngForOf",T.months),n.R7$(8),n.Y8G("ngForOf",T.years))},dependencies:[eo.Sq,eo.bT,co.qT,co.me,co.BC,co.cb,co.tU,co.j4,co.JD,gh.rl,gh.TL,Hf.fg,K_.VO,Ql.wT],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}"]})}return r})(),H_=(()=>{class r{static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({imports:[eo.MD,co.YN,co.X1,gh.RG,Hf.fS,Dc.hM,_y.Hl,K_.Ve,Wf.D6]})}return r})();n.wjB(Ev.$,[eo.bT,co.BC,co.vS,Dc.tx,Wf.LG,Qf],[eo.Jj,eo.oe,eo.vh]),a(4525);var vy=a(3046);a(6088),a(5507),a(5277),a(3601),a(906),a(4512),a(7926),a(2037),a(3476),a(4823),a(2765),a(9928),a(9714),a(3208),a(8228),a(4233),a(3747);let OM=(()=>{class r{static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({imports:[eo.MD,vy.cQ,co.YN,co.X1,G_.hI]})}return r})();a(2615),a(5204);var wM=a(7915);function xM(r){return new Fl(r,"./assets/locale/",".json")}let RM=(()=>{class r{static#e=this.\u0275fac=function(p){return new(p||r)};static#t=this.\u0275mod=n.$C({type:r,bootstrap:[lM]});static#n=this.\u0275inj=n.G2t({providers:[{provide:n.zcH,useValue:o_({showDialog:!1})},{provide:pg,deps:[ds.Ix]},{provide:n.hnV,useFactory:()=>()=>{},deps:[pg],multi:!0},(0,Ta.$R)((0,Ta.Sx)())],imports:[t.Bb,gn,W_,Ma.register("ngsw-worker.js",{enabled:true}),co.YN,G_.hI,_M.lx,hl.u,wM.SG,H_,OM,zf.h.forRoot({defaultLanguage:"en",loader:{provide:zf.Wr,useFactory:xM,deps:[Ta.Qq]}})]})}return r})();(0,n.SmG)(),t.sG().bootstrapModule(RM).catch(r=>console.error(r))},8228:(At,ue,a)=>{"use strict";a.d(ue,{i:()=>O,r:()=>y});var t=a(467),C=a(5204),g=a(3953);const S=[],h=new class v{constructor(E){this.images=[],Object.assign(this,E)}};function y(m){for(const E of m)S.find(({id:u})=>u===E.id)||S.push(E)}let O=(()=>{class m{transform(u){return(0,t.A)(function*(){if(!u)return h;let M=S.find(({id:D})=>D===u);if(M)return M;const x=yield(0,C.RF)(u).toPromise().catch(D=>null);return x?(M={...x},S.push(M),M):h})()}updateAssetGroupList(u){y(u)}static#e=this.\u0275fac=function(M){return new(M||m)};static#t=this.\u0275pipe=g.EJ8({name:"assetgroup",type:m,pure:!0})}return m})()},3747:(At,ue,a)=>{"use strict";a.d(ue,{Y:()=>S});var t=a(2333),n=a(1406),f=a(906),v=a(3601),b=a(7926),C=a(2357);function g(h){let y=h.event?.date||h._time;return h.deliver_time&&(y=(0,n.h)(y,{hours:Math.floor(h.deliver_time),minutes:h.deliver_time%1*60}).valueOf()),(h.deliver_day_offset>0||h.event?.all_day)&&(y=(0,f.f)((0,v.o)(y),h.deliver_day_offset).valueOf()),(0,b.z)(y,h.deliver_offset).valueOf()}class S{get deliver_at(){return g(this)}get status(){return this._status}set status(y){this._status=y,this[`${this.event_id}_status`]=y}constructor(y={}){this.conflict=!1,this._changed=!1,this._time=(0,C.c)(Date.now()).valueOf(),this.id=y.id||`order-${(0,t.HO)(9999999,1e6)}`,this.event_id=y.event_id||y.parent_id||"",this.items=y.items||y.asset_ids?.map(m=>({id:m,quantity:1}))||[],this.item_count=this.items.reduce((m,E)=>m+E.quantity,0),this._status=y[`${this.event_id}_status`]||y.status||(y.extension_data||{})[`${this.event_id}_status`]||y.extension_data?.status||"in_storage",this.event=y.event||y||null;const O=this.event?.linked_bookings?.find(m=>m.extension_data.request_id===this.id);this._booking=O||y.booking||null,this._changed=!!y._changed||!O,this.notes=y.notes||y.description||"",this.deliver_time=y.deliver_time||y.extension_data?.deliver_time||void 0,this.deliver_offset=y.deliver_offset||y.extension_data?.deliver_offset||0,this.deliver_day_offset=y.deliver_day_offset||y.extension_data?.deliver_day_offset||0,this.deliver_at_time=g(this),this.conflict=!!y.conflict,this.ref_id=`${this.deliver_at_time}|${this.items.map(m=>`${m.id}:${m.quantity}`).join("|")}`}toJSON(){const y={...this};return delete y.event,delete y._changed,delete y._status,delete y._time,delete y.deliver_at_time,delete y.deliver_at,y.items=y.items.map(O=>({id:O.id,category_id:O.category_id,quantity:O.quantity,name:O.name,item_ids:O.item_ids})),y}}},6088:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>P});var t=a(9928),n=a(9714),f=a(4421),v=a(8728),b=a(3020),C=a(9090),g=a(8841),S=a(8712),h=a(3921),y=a(5006),O=a(5204),m=a(5645),E=a(5987),u=a(3601),M=a(4512),x=a(2357),D=a(350),A=a(7926),L=a(8228),l=a(2185),$=a(2615),R=a(5157),F=a(3953);let P=(()=>{class k{constructor(K){this._org=K,this._options=new t.t({date:Date.now()}),this._search=new t.t(""),this._category=new t.t([]),this._loading=new t.t(""),this.search=this._search.asObservable(),this.category=this._category.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.rules=(0,n.zV)([this._options,this._org.active_building]).pipe((0,v.p)(([X,Q])=>!!Q),(0,b.B)(300),(0,C.n)(([X,Q])=>(this._loading.next(this._loading.getValue()+"[Rules]"),(0,$.$z)(Q.id||X.zone||""))),(0,g.M)(X=>this._loading.next(this._loading.getValue().replace(/\[Rules\]/g,""))),(0,S.t)(1)),this.asset_list=(0,f.of)(0).pipe((0,C.n)(()=>(this._loading.next(this._loading.getValue()+"[Assets]"),(0,O._B)())),(0,g.M)(X=>this._loading.next(this._loading.getValue().replace(/\[Assets\]/g,""))),(0,S.t)(1)),this.asset_bookings=this._options.pipe((0,b.B)(300),(0,C.n)(({zone:X,date:Q})=>(this._loading.next(this._loading.getValue()+"[Bookings]"),(0,m.tj)({zones:X||"",period_start:(0,E._)((0,u.o)(Q)),period_end:(0,E._)((0,M.D)(Q)),type:"asset-request"}))),(0,g.M)(X=>this._loading.next(this._loading.getValue().replace(/\[Bookings\]/g,""))),(0,S.t)(1)),this.available_groups=(0,n.zV)([this._options,this._org.active_building]).pipe((0,b.B)(300),(0,C.n)(([{zone:X,date:Q,duration:de,ignore:se},ce])=>(0,O.LZ)({zones:ce.id||X||"",period_start:(0,E._)((0,x.c)(Q)),period_end:(0,E._)((0,D.V)((0,A.z)(Q,de||30))),type:"asset-request",rejected:!1},se).pipe((0,h.W)(()=>(0,f.of)([])))),(0,y.T)(X=>X.sort((Q,de)=>Q.name.localeCompare(de.name))),(0,g.M)(X=>(0,L.r)(X)),(0,S.t)(1)),this.category_list=this._org.active_building.pipe((0,C.n)(X=>(0,O.vt)({zone_id:X.id})),(0,y.T)(X=>X.sort((Q,de)=>Q.name.localeCompare(de.name))),(0,S.t)(1)),this.filtered_assets=(0,n.zV)([this._search,this._category,this.available_groups,this.rules]).pipe((0,y.T)(([X,Q,de,se])=>{const ce=X.toLowerCase();return de.filter(w=>w.assets?.length&&(!Q.length||Q.includes(w.category_id))&&(w.name.toLowerCase().includes(ce)||w.description.toLowerCase().includes(ce))&&(0,$.WH)(w,se,this._options.getValue()))}),(0,S.t)(1)),this.settings=(0,n.zV)([this._org.active_building]).pipe((0,v.p)(([X])=>!!X),(0,C.n)(([X])=>(0,R.bpY)(X.id,"assets-settings").pipe((0,h.W)(Q=>(0,f.of)({})))),(0,y.T)(X=>X.details||{}),(0,S.t)(1)),this.disabled_rooms=this.settings.pipe((0,y.T)(X=>X.disabled_rooms||[]))}setSearch(K){this._search.next(`${K}`)}toggleCategory(K){const X=this._category.getValue();X.includes(K)?this._category.next(X.filter(Q=>Q!==K)):this._category.next([...X,K])}getOptions(){return this._options.getValue()}setOptions(K){this._options.next({...this._options.value,...K})}static#e=this.\u0275fac=function(X){return new(X||k)(F.KVO(l.yb))};static#t=this.\u0275prov=F.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},2615:(At,ue,a)=>{"use strict";a.d(ue,{$z:()=>M,WH:()=>x});var t=a(2333),n=a(9255),f=a(3901),v=a(9824),b=a(5611),C=a(5006),g=a(3921),S=a(5157),h=a(4421);const u={};function M(D,A=!1){return D?((!u[D]||A)&&(u[D]=(0,S.bpY)(D,"assets_config").pipe((0,C.T)(L=>L.details instanceof Array?L.details:[]),(0,g.W)(L=>(0,h.of)([])))),u[D]):(0,h.of)([])}function x(D,A,L){const l=Date.now(),$=new Date(L.date),R=P=>D.name===P.name||D.category.name.includes(P.name)||L.resources.some(k=>k.zones.includes(P.name))||L.space?.zones.includes(P.name)||"*"===P.name,F=P=>P.rules.reduce((k,V)=>{switch(V[0]){case"is_before":return k+((0,n.Y)(l,(0,f.O)($,V[1]))?1:0);case"within_hours":return k+((0,v.d)(l,(0,f.O)($,V[1]))?1:0);case"after_hour":return k+((0,v.d)($,(0,b.a)($,V[1]))?1:0);case"before_hour":return k+((0,n.Y)($,(0,b.a)($,V[1]))?1:0);case"min_length":return k+(L.duration>=(0,t.II)(V[1])?1:0);case"max_length":return k+(L.duration<=(0,t.II)(V[1])?1:0);case"visitor_type":return k+(L.ext("visitor_type")===V[1]?1:0);default:return k+1}},0);for(const P of A)if(R(P)&&F(P)<P.rules.length)return!1;return!0}},5204:(At,ue,a)=>{"use strict";a.d(ue,{LZ:()=>Ne,RF:()=>se,_B:()=>z,en:()=>Ot,vt:()=>L});var t=a(467),n=a(5157),f=a(8385),v=a(5006),b=a(9090),C=a(8841),g=a(4421),S=a(696),h=a(9714),y=a(5987),O=a(3601),m=a(4512),E=a(7926),u=a(5645),M=a(3857),x=a(2333),D=a(3747);const A="/api/engine/v2";function L(ve={}){const N=(0,f.z)(ve);return(0,n.JtY)(`${A}/asset_categories${N?"?"+N:""}`).pipe((0,v.T)(ie=>ie))}const V=new Map;function K(ve={}){const N=(0,f.z)(ve);return V.has(ve.zones)?(0,g.of)(V.get(ve.zones)):(0,n.JtY)(`${A}/asset_types${N?"?"+N:""}`).pipe((0,v.T)(ie=>ie),(0,b.n)(ie=>(0,S.p)(ie.map(Y=>z({limit:200,...ve,type_id:Y.id}).pipe((0,v.T)(ye=>({...Y,assets:ye})))))),(0,C.M)(ie=>{V.set(ve.zones,ie),setTimeout(()=>V.delete(ve.zones),3e5)}))}function se(ve){return(0,n.JtY)(`${A}/asset_types/${ve}`).pipe((0,v.T)(N=>N))}function z(ve={}){const N=(0,f.z)(ve);return(0,n.JtY)(`${A}/assets${N?"?"+N:""}`).pipe((0,v.T)(ie=>ie))}function Ne(ve,N){return ve.type="asset-request",(0,h.zV)([K(ve),(0,u.tj)(ve)]).pipe((0,v.T)(([ie,Y])=>(Y=Y.filter(ye=>"declined"!==ye.status&&"cancelled"!==ye.status),ie.map(ye=>({...ye,assets:ye.assets.filter(Ze=>N?.includes(Ze.id)||!Y.find(Ft=>!N.includes(Ft.id)&&(Ft.asset_id===Ze.id||Ft.asset_ids?.includes(Ze.id))))})))))}function Ot(ve,N){return Se.apply(this,arguments)}function Se(){return(Se=(0,t.A)(function*({id:ve,ical_uid:N,from_booking:ie},{date:Y,duration:ye,all_day:Ze,host:Ft,location_name:sn,location_id:_n,zones:Rt,reset_state:en},ht=[],pt=!1){const Ct=yield(0,u.tj)({period_start:(0,y._)(Ze?(0,O.o)(Y):Y),period_end:(0,y._)(Ze?(0,m.D)((0,E.z)(Y,ye)):(0,E.z)(Y,ye)),type:"asset-request",zones:Rt.join(",")}).toPromise(),Mt=ve&&N?yield(0,u.tj)({period_start:(0,y._)((0,O.o)(Y)),period_end:(0,y._)((0,m.D)(Y)),type:"asset-request",email:Ft,event_id:ie?"":ve,booking_id:ie?ve:"",ical_uid:N}).toPromise():[],$t=Mt.map(Te=>[Te.id,new D.Y(Te.extension_data.request)]);ht?.forEach(Te=>Te.conflict=!1);let nn=pt?ht.map(Te=>Te.id):function Kt(ve,N,ie=!1){if((!ve||ve?.length<=0)&&N?.length)return[];if(!N)return[];const Y=[];for(const ye of ve){const Ze=N.find(Ft=>Ft.id===ye.id);(!Ze||Ze.ref_id!==ye.ref_id)&&Y.push(ye.id)}return Y}(ht,$t.map(([Te,Ye])=>Ye),en);if(en){const Te=Mt.filter(Ye=>Ye.approved||Ye.rejected);nn=(0,x.Am)([...nn,...Te.map(Ye=>Ye.extension_data.request_id)])}const Sn=$t.filter(([Te,Ye])=>!nn.includes(Ye.id)),In=$t.filter(([Te,{id:Ye}])=>nn.includes(Ye)),Fn=ht.filter(({id:Te})=>nn.includes(Te)),$n=Ct.filter(Te=>!Te.rejected&&(!Mt.find(Ye=>Ye.id===Te.id)||Sn.find(([Ye])=>Te.event_id===Ye)));let ut=(0,x.Bq)($n.map(Te=>Te.asset_ids));for(const[Te,Ye]of Sn)ut=[...ut,...(0,x.Bq)(Ye.items.map(Tt=>Tt.item_ids))];const Pe=yield Ne({period_start:(0,y._)(Ze?(0,O.o)(Y):Y),period_end:(0,y._)(Ze?(0,m.D)((0,E.z)(Y,ye)):(0,E.z)(Y,ye)),type:"asset-request"},Mt.map(Te=>Te.id)).toPromise();console.log("Used IDs:",ut),console.log("Changed Assets:",Fn),console.log("Requests:",Ct),console.log("Bookings:",Mt),console.log("Filtered:",$n),console.log("Unchanged:",Sn),console.log("Available Groups:",Pe);const je=Fn.map(Te=>{let Ye=(0,x.Bq)(Te.items.map(({id:Ut,item_ids:Ke,quantity:Fe})=>{const Ue=Pe.find(rt=>rt.id===Ut)?.assets;if(!Ue)return Ke;const we=[];return new Array(Fe).fill(0).map((rt,vt)=>{const on=ut.includes(Ke[vt])||we.includes(Ke[vt])||!Ke[vt]?Ue?.find(({id:rn})=>!ut.includes(rn)&&!we.includes(rn))?.id:Ke[vt];if(!on)throw Te.conflict=!0,"Unable to find available asset for request";return we.push(on),on})}));const Tt=Mt.find(Ut=>Ut.asset_ids.find(Ke=>Te.items?.find(Fe=>Fe.item_ids.includes(Ke))));return ut=[...ut,...Ye],(0,u.sH)(new M.Q({type:"asset-request",booking_type:"asset-request",date:Y,duration:ye,all_day:Ze,description:sn,user_email:Ft,asset_id:Ye[0],asset_ids:Ye,asset_name:Te.items.map(Ut=>Ut.name).join(", "),title:Te.items.map(Ut=>Ut.name).join(", "),approved:!en&&Tt?.approved&&!Te._changed,rejected:!en&&Tt?.rejected&&!Te._changed,extension_data:{parent_id:ve,request_id:Te.id,location_id:_n,request:new D.Y({...Te,event:null})},zones:Rt||[]}),{ical_uid:N,event_id:ie?"":ve})});return(0,t.A)(function*(){yield Promise.all(In.map(([Te])=>(0,u.UN)(Te).toPromise())),yield Promise.all(je.map(Te=>Te.toPromise()))})})).apply(this,arguments)}},7915:(At,ue,a)=>{"use strict";a.d(ue,{Qr:()=>f.Q,SG:()=>t.S,Z$:()=>b.Z$,u3:()=>b.u3,tl:()=>b.tl,DO:()=>b.DO,vq:()=>b.vq});var t=a(7651),f=(a(8379),a(3857)),b=(a(7141),a(5645));a(2333),a(8026),a(3367),a(7254),a(8796),a(1781),a(7547),a(7642),a(1593)},7547:(At,ue,a)=>{"use strict";a.d(ue,{F:()=>de});var t=a(3953),n=a(2333),f=a(5818),v=a(4361),b=a(7926),C=a(2659),g=a(5006),h=(a(3857),a(1781)),y=a(5354),O=a(8026),m=a(1593),E=a(5713),u=a(4006),M=a(2091),x=a(177),D=a(9434),A=a(907);const L=()=>["./"],l=se=>({booking:se});function $(se,ce){if(1&se&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&se){const z=t.XpG(2);t.R7$(),t.SpI("",z.day,",\xa0")}}function R(se,ce){if(1&se&&(t.j41(0,"h4",3),t.DNE(1,$,2,1,"span",4),t.EFF(2),t.nI1(3,"date"),t.j41(4,"span",5),t.EFF(5),t.nI1(6,"date"),t.k0s()()),2&se){const z=t.XpG();t.R7$(),t.Y8G("ngIf",z.show_day),t.R7$(),t.SpI(" ",t.i5U(3,3,null==z.booking?null:z.booking.date,z.time_format)," "),t.R7$(3),t.SpI("(",t.i5U(6,6,null==z.booking?null:z.booking.date,"z"),")")}}function F(se,ce){if(1&se&&(t.j41(0,"app-icon"),t.EFF(1),t.k0s()),2&se){const z=t.XpG(2);t.R7$(),t.JRh(z.type)}}function P(se,ce){if(1&se&&(t.j41(0,"div",19)(1,"app-icon"),t.EFF(2,"place"),t.k0s(),t.j41(3,"div",20),t.EFF(4),t.k0s()()),2&se){const z=t.XpG(2);t.R7$(4),t.JRh(z.location)}}function k(se,ce){1&se&&(t.j41(0,"div",21),t.EFF(1," Associate "),t.k0s())}function V(se,ce){1&se&&(t.j41(0,"div",21),t.EFF(1," Event "),t.k0s())}function K(se,ce){if(1&se&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&se){const z=t.XpG(2);t.R7$(),t.SpI(" ","cancelled"!==z.booking.status?"RESERVED":"RELEASED"," ")}}function X(se,ce){if(1&se){const z=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(z);const j=t.XpG();return t.Njj(j.viewDetails())}),t.j41(1,"div",8)(2,"h4",9),t.EFF(3),t.k0s(),t.j41(4,"div",10)(5,"status-pill",11),t.EFF(6),t.k0s()(),t.j41(7,"div",12)(8,"div",13),t.DNE(9,F,2,1,"app-icon",14),t.j41(10,"div",15),t.EFF(11),t.k0s()(),t.DNE(12,P,5,1,"div",16),t.k0s(),t.j41(13,"app-icon",17),t.EFF(14," chevron_right "),t.k0s(),t.DNE(15,k,2,0,"div",18)(16,V,2,0,"div",18)(17,K,2,1,"div",18),t.nI1(18,"async"),t.k0s()()}if(2&se){const z=t.XpG(),w=t.sdS(3);t.Y8G("routerLink",t.lJ4(14,L))("queryParams",t.eq3(15,l,null==z.booking?null:z.booking.id)),t.R7$(3),t.JRh(null==z.booking?null:z.booking.title),t.R7$(2),t.Y8G("status",z.status),t.R7$(),t.JRh(z.period),t.R7$(3),t.Y8G("ngIf","desk"!==z.type)("ngIfElse",w),t.R7$(2),t.SpI(" ",z.raw_description||(null==z.booking?null:z.booking.asset_id)," "),t.R7$(),t.Y8G("ngIf",z.location),t.R7$(3),t.Y8G("ngIf",!z.for_current_user&&"group-event"!==(null==z.booking?null:z.booking.booking_type)),t.R7$(),t.Y8G("ngIf","group-event"===(null==z.booking?null:z.booking.booking_type)),t.R7$(),t.Y8G("ngIf",t.bMT(18,12,z.is_reserved_parking_space))}}function Q(se,ce){1&se&&t.nrm(0,"img",22)}let de=(()=>{class se extends y.T{get for_current_user(){return this.booking?.user_email.toLowerCase()===(0,n.Ny)()?.email.toLowerCase()}get time_format(){return this._settings.time_format}get status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status||"cancelled"===this.booking?.status?"error":"warning"}constructor(z,w,j,W,ne){super(),this._dialog=z,this._route=w,this._org=j,this._settings=W,this._parking=ne,this.show_day=!1,this.edit=new t.bkB,this.remove=new t.bkB,this.end=new t.bkB,this.raw_description="",this.is_reserved_parking_space=this._parking.assigned_space.pipe((0,g.T)(fe=>"parking"===this.booking.booking_type&&fe&&this.booking.asset_id===fe.id))}ngOnInit(){this.subscription("route.query",this._route.queryParamMap.subscribe(z=>z.has("booking")&&this.booking?.id===z.get("event")?this.viewDetails():""))}ngOnChanges(z){z.booking&&(this.raw_description=this.removeHtmlTags(this.booking?.description))}get type(){return"desk"===this.booking?.type?"desk":"parking"===this.booking?.type?"drive_eta":"book"}get day(){const z=this.booking?.date||Date.now();return`${(0,f.r)(Date.now(),z)?"Today":(0,v.GP)(z,"EEEE")}`}get location(){const z=this._org.levelWithID(this.booking?.zones||[]);return`${z?.display_name||z?.name||""}`}get period(){if(this.booking?.is_all_day)return"All Day";const z=this.booking?.date||Date.now(),w=this.booking?.duration||60,j=(0,b.z)(z,w),W=(0,C.a)({hours:Math.floor(w/60),minutes:w%60}).replace(" hour","hr").replace(" minute","min");return`${(0,v.GP)(z,this.time_format)} - ${(0,v.GP)(j,this.time_format)} (${W})`}removeHtmlTags(z){return(new DOMParser).parseFromString(z,"text/html").body.textContent||""}viewDetails(){this.booking&&this.timeout("open",()=>{const j=this._dialog.open("group-event"===this.booking.booking_type?E.E:h.W,{data:"group-event"===this.booking.booking_type?{booking:this.booking,concierge:!1}:this.booking});this.subscription("edit",j.componentInstance.edit?.subscribe(()=>this.edit.emit())),this.subscription("remove",j.componentInstance.remove?.subscribe(()=>this.remove.emit())),this.subscription("end",j.componentInstance.end?.subscribe(()=>this.end.emit()))})}static#e=this.\u0275fac=function(w){return new(w||se)(t.rXU(u.bZ),t.rXU(M.nX),t.rXU(O.y),t.rXU(n.h$),t.rXU(m.w))};static#t=this.\u0275cmp=t.VBU({type:se,selectors:[["booking-card"]],inputs:{booking:"booking",show_day:"show_day"},outputs:{edit:"edit",remove:"remove",end:"end"},features:[t.Vt3,t.OA$],decls:4,vars:2,consts:[["desk_icon",""],["class","mb-2 flex items-center",4,"ngIf"],["name","view-booking-details","class","w-full cursor-pointer overflow-hidden relative",3,"routerLink","queryParams","click",4,"ngIf"],[1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-booking-details",1,"w-full","cursor-pointer","overflow-hidden","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4","max-w-[33%]"],[4,"ngIf","ngIfElse"],[1,"mx-2","truncate","flex-1","w-1/2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute top-2 right-2 bg-warning/50 rounded-xl px-2 py-1 text-xs",4,"ngIf"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"absolute","top-2","right-2","bg-warning/50","rounded-xl","px-2","py-1","text-xs"],["src","assets/icons/desk-outline.svg",1,"w-5","h-5"]],template:function(w,j){1&w&&t.DNE(0,R,7,9,"h4",1)(1,X,19,17,"a",2)(2,Q,1,0,"ng-template",null,0,t.C5r),2&w&&(t.Y8G("ngIf",j.booking),t.R7$(),t.Y8G("ngIf",j.booking))},dependencies:[x.bT,D.R,A.F,x.Jj,x.vh],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative}"]})}return se})()},1781:(At,ue,a)=>{"use strict";a.d(ue,{W:()=>fe});var t=a(467),n=a(3953),f=a(4006),v=a(2333),b=a(7926),C=a(2659),g=a(4361),S=a(620),h=a(1865),y=a(8026),m=(a(3857),a(5645)),E=a(7904),u=a(177),M=a(9183),x=a(9434),D=a(4918),A=a(5277),L=a(907),l=a(9115),$=a(6600),R=a(4823);const F=()=>({disable_pan:!0,disable_zoom:!0});function P(ae,Ae){1&ae&&n.nrm(0,"div",27)}function k(ae,Ae){if(1&ae&&(n.j41(0,"div",28),n.nrm(1,"image-carousel",29),n.k0s()),2&ae){const Me=n.XpG();n.R7$(),n.Y8G("images",null==Me.booking||null==Me.booking.extension_data?null:Me.booking.extension_data.images)}}function V(ae,Ae){if(1&ae&&(n.j41(0,"div",35)(1,"app-icon"),n.EFF(2),n.k0s(),n.j41(3,"div",36),n.EFF(4),n.k0s()()),2&ae){const Me=n.XpG(3);n.R7$(2),n.JRh(Me.booking.checked_in?"done":"arrow_back"),n.R7$(2),n.SpI(" ",Me.booking.checked_in?"Checked in":"Check in"," ")}}function K(ae,Ae){1&ae&&n.nrm(0,"mat-spinner",37),2&ae&&n.Y8G("diameter",32)}function X(ae,Ae){if(1&ae){const Me=n.RV6();n.j41(0,"button",33),n.bIt("click",function(){n.eBV(Me);const We=n.XpG(2);return n.Njj(We.toggleCheckedIn())}),n.DNE(1,V,5,2,"div",34)(2,K,1,1,"ng-template",null,1,n.C5r),n.k0s()}if(2&ae){const Me=n.sdS(3),Ve=n.XpG(2);n.AVh("bg-success",Ve.booking.checked_in),n.Y8G("disabled",Ve.checking_in),n.R7$(),n.Y8G("ngIf",!Ve.checking_in)("ngIfElse",Me)}}function Q(ae,Ae){if(1&ae&&(n.j41(0,"div",30),n.DNE(1,X,4,5,"button",31),n.j41(2,"button",32)(3,"app-icon"),n.EFF(4,"more_horiz"),n.k0s()()()),2&ae){const Me=n.XpG(),Ve=n.sdS(43);n.R7$(),n.Y8G("ngIf",!(Me.booking.checked_out_at||Me.checked_out||Me.auto_checkin||"upcoming"!==Me.booking.state&&"in_progress"!==Me.booking.state)),n.R7$(),n.Y8G("matMenuTriggerFor",Ve)}}function de(ae,Ae){if(1&ae&&(n.j41(0,"div",51)(1,"div",52)(2,"span",45),n.EFF(3),n.k0s()(),n.j41(4,"div",53),n.EFF(5),n.k0s()()),2&ae){const Me=Ae.$implicit;n.R7$(3),n.JRh(Me.name||"Item"),n.R7$(2),n.SpI(" x",Me.quantity," ")}}function se(ae,Ae){if(1&ae){const Me=n.RV6();n.j41(0,"div",42)(1,"button",43),n.bIt("click",function(){const We=n.eBV(Me).$implicit,lt=n.XpG(2);return n.Njj(lt.show_request[We.id]=!lt.show_request[We.id])}),n.j41(2,"div",44)(3,"div",45),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",46)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",47)(10,"app-icon",48),n.EFF(11),n.k0s()()(),n.j41(12,"div",49),n.DNE(13,de,6,2,"div",50),n.k0s()()}if(2&ae){const Me=Ae.$implicit,Ve=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,Me.deliver_at,"MMM d, "+Ve.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===Me.state)("text-success-content","approved"===Me.state)("bg-warning","approved"!==Me.state&&"rejected"!==Me.state)("text-warning-content","approved"!==Me.state&&"rejected"!==Me.state)("bg-error","rejected"===Me.state)("text-error-content","rejected"===Me.state),n.Y8G("matTooltip",Me.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===Me.state?"done":"rejected"===Me.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",Ve.show_request[Me.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",Ve.show_request[Me.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Me.items)}}function ce(ae,Ae){if(1&ae&&(n.qex(0),n.j41(1,"div",38)(2,"h3",39),n.pXf(3,3),n.k0s(),n.j41(4,"div",40),n.DNE(5,se,14,21,"div",41),n.k0s()(),n.bVm()),2&ae){const Me=n.XpG();n.R7$(3),n.uP7((null==Me.booking.valid_assets?null:Me.booking.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",Me.booking.valid_assets)}}function z(ae,Ae){if(1&ae&&(n.qex(0),n.nrm(1,"interactive-map",54),n.bVm()),2&ae){const Me=n.XpG();n.R7$(),n.Y8G("src",null==Me.level?null:Me.level.map_id)("features",Me.features)("options",n.lJ4(3,F))}}function w(ae,Ae){if(1&ae){const Me=n.RV6();n.j41(0,"button",55),n.bIt("click",function(){n.eBV(Me);const We=n.XpG();return n.Njj(We.edit.emit())}),n.j41(1,"div",56)(2,"app-icon"),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,4),n.k0s()()()}}function j(ae,Ae){if(1&ae){const Me=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(Me);const We=n.XpG();return n.Njj(We.setDeskHeight())}),n.j41(1,"div",56)(2,"app-icon",58),n.EFF(3," height "),n.k0s(),n.j41(4,"div"),n.pXf(5,5),n.k0s()()()}}function W(ae,Ae){if(1&ae){const Me=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(Me);const We=n.XpG();return n.Njj(We.remove.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,6),n.k0s()()()}}function ne(ae,Ae){if(1&ae){const Me=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(Me);const We=n.XpG();return n.Njj(We.end.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,7),n.k0s()()()}}let fe=(()=>{class ae{get level(){return this._org.levelWithID(this.booking?.zones||[])}get building(){const Me=this._org.buildings.find(Ve=>(this.booking?.zones||[]).includes(Ve.id));if(this._settings.get("app.use_region")){const Ve=this._org.regions.find(We=>(this.booking?.zones||[]).includes(We.id)||We.id===Me?.parent_id);if(Ve)return Ve}return Me}get can_edit(){return"visitor"!==this.booking.booking_type&&"parking"!==this.booking.booking_type}get auto_checkin(){return this._settings.get(`app.${this.booking?.type||"bookings"}.auto_checkin`)}get is_checked_in(){return this.booking.checked_in}get desk_height_enabled(){return"desk"===this.booking?.type&&this._settings.get("app.desks.height_enabled")}get is_in_progress(){const Me=Date.now(),Ve=1e3*this.booking?.booking_start,We=1e3*this.booking?.booking_end;return this.booking?.all_day?Ve<=Me:Ve<=Me&&Me<=We}get time_format(){return this._settings.time_format}get booking_status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status?"error":"warning"}constructor(Me,Ve,We,lt){this._booking=Me,this._settings=Ve,this._org=We,this._dialog=lt,this.edit=new n.bkB,this.remove=new n.bkB,this.end=new n.bkB,this.booking=this._booking,this.hide_map=!1,this.checked_out=!1,this.checking_in=!1,this.features=[{location:this.booking?.asset_id,content:h.V}],this.has_assets=!!this.booking?.linked_bookings?.find(nt=>"asset-request"===nt.booking_type),console.log("Building",this.building,this._settings.get("app.use_region"))}get period(){if(this.booking?.is_all_day)return"All Day";const Me=this.booking?.date||Date.now(),Ve=this.booking?.duration||60,We=(0,b.z)(Me,Ve),lt=(0,C.a)({hours:Math.floor(Ve/60),minutes:Ve%60}).replace(" hour","hr").replace(" minute","min");return`${(0,g.GP)(Me,this.time_format)} - ${(0,g.GP)(We,this.time_format)} (${lt})`}toggleCheckedIn(){var Me=this;return(0,t.A)(function*(){Me.checking_in=!0,yield(0,m.Z$)(Me.booking.id,!Me.booking.checked_in).toPromise().catch(Ve=>{throw(0,v.UG)("Error checking in booking"),Me.checking_in=!1,Ve}),Me.booking.checked_in=!Me.booking.checked_in,Me.checked_out=!Me.booking.checked_in,(0,v.VX)("Successfully "+(Me.booking.checked_in?"checked in":"ended booking")),Me.checking_in=!1})()}status(Me){const Ve=this.booking.linked_bookings.find(We=>We.asset_id===Me);return Ve.status?Ve.status:Ve?Ve.approved?"approved":Ve.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(S.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:{id:this._booking.asset_id,name:this._booking.asset_name,map_id:this._booking.extension_data.map_id||this.booking.asset_id,level:this.level}}}).afterClosed().subscribe(()=>this.hide_map=!1)}setDeskHeight(){this._dialog.open(E.R,{data:{id:this.booking.asset_ids[0]||this.booking.asset_id}})}static#e=this.\u0275fac=function(Ve){return new(Ve||ae)(n.rXU(f.Vh),n.rXU(v.h$),n.rXU(y.y),n.rXU(f.bZ))};static#t=this.\u0275cmp=n.VBU({type:ae,selectors:[["booking-details-modal"]],outputs:{edit:"edit",remove:"remove",end:"end"},decls:48,vars:23,consts:()=>{let Me,Ve,We,lt,nt,$e;return Me=$localize`:2c8ce65c566300dc9063f69c615fda2e3a6b896a2102851380219026584: Details `,Ve=$localize`:9e3da900d415898c8ff7b522c5eecccfe4de018e31749697777503671: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,We=$localize`:53f264e5fad94a425174c18cf299eeac7482f2581612171114840935381:Edit booking`,lt=$localize`:35729dbbde462f39a391c9abc24a3f79eebfba7a7190557592686051728:Set Desk Height`,nt=$localize`:55883ef2b67c24d30f999a5ade421493fdc9e14a1139994899162365077:Delete booking`,$e=$localize`:2f3dfd27ad1999e91bb66ad271f967d6e543956f834898868131691573:End booking`,[["menu","matMenu"],["loading_state",""],Me,Ve,We,lt,nt,$e,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[4]","min-w-1/3","sm:w-[16rem]"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["map","",1,"mt-4","sm:my-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","m-2","flex-grow-[3]","min-w-1/3","w-[calc(100%-1rem)]","p-2","sm:w-[16rem]",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","left-2","bg-neutral","text-white"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10 border-none",3,"bg-success","disabled","click",4,"ngIf"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-10","w-10",3,"matMenuTriggerFor"],["btn","","matRipple","",1,"flex-1","h-10","border-none",3,"click","disabled"],["class","flex items-center space-x-2 justify-center",4,"ngIf","ngIfElse"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],[1,"mx-auto",3,"diameter"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","pt-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"text-sm"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"text-2xl"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"pointer-events-none",3,"src","features","options"],["mat-menu-item","","mat-dialog-close","",3,"click"],[1,"flex","items-center","space-x-2","text-base"],["mat-menu-item","",3,"click"],["className","material-symbols-rounded"],[1,"text-error"]]},template:function(Ve,We){if(1&Ve){const lt=n.RV6();n.j41(0,"div",8)(1,"div",9),n.DNE(2,P,1,0,"div",10)(3,k,2,1,"div",11),n.j41(4,"h3",12),n.EFF(5),n.k0s(),n.j41(6,"div",13)(7,"div",14)(8,"status-pill",15),n.EFF(9),n.k0s()(),n.DNE(10,Q,5,2,"div",16),n.k0s()(),n.j41(11,"div",17)(12,"div",18)(13,"h3",19),n.pXf(14,2),n.k0s(),n.j41(15,"div",20)(16,"app-icon"),n.EFF(17,"event"),n.k0s(),n.j41(18,"div"),n.EFF(19),n.nI1(20,"date"),n.k0s()(),n.j41(21,"div",20)(22,"app-icon"),n.EFF(23,"schedule"),n.k0s(),n.j41(24,"div"),n.EFF(25),n.k0s()(),n.j41(26,"div",20)(27,"app-icon"),n.EFF(28,"map"),n.k0s(),n.j41(29,"div"),n.EFF(30),n.k0s()(),n.j41(31,"div",20)(32,"app-icon"),n.EFF(33,"place"),n.k0s(),n.j41(34,"div"),n.EFF(35),n.k0s()()(),n.DNE(36,ce,6,2,"ng-container",21),n.j41(37,"button",22),n.bIt("click",function(){return n.eBV(lt),n.Njj(We.viewLocation())}),n.DNE(38,z,2,4,"ng-container",21),n.k0s()(),n.j41(39,"button",23)(40,"app-icon"),n.EFF(41,"close"),n.k0s()()(),n.j41(42,"mat-menu",24,0),n.DNE(44,w,6,0,"button",25)(45,j,6,0,"button",26)(46,W,6,0,"button",26)(47,ne,6,0,"button",26),n.k0s()}2&Ve&&(n.R7$(2),n.Y8G("ngIf",!(null!=We.booking&&null!=We.booking.extension_data&&null!=We.booking.extension_data.images&&We.booking.extension_data.images.length)),n.R7$(),n.Y8G("ngIf",null==We.booking||null==We.booking.extension_data||null==We.booking.extension_data.images?null:We.booking.extension_data.images.length),n.R7$(),n.AVh("pt-4",!(null!=We.booking&&null!=We.booking.extension_data&&We.booking.extension_data.images)),n.R7$(),n.SpI(" ",We.booking.title," "),n.R7$(3),n.Y8G("status",We.booking_status),n.R7$(),n.SpI(" ",We.period," "),n.R7$(),n.Y8G("ngIf",!We.booking.is_done),n.R7$(9),n.JRh(n.i5U(20,20,We.booking.date,"EEEE, dd LLLL y")),n.R7$(6),n.JRh(We.period),n.R7$(5),n.Lme(" ",(null==We.level?null:We.level.display_name)||(null==We.level?null:We.level.name),", ",We.booking.asset_name||We.booking.asset_id," "),n.R7$(5),n.Lme(" ",(null==We.building?null:We.building.display_name)||(null==We.building?null:We.building.name)," ",null!=We.building&&We.building.address?", "+We.building.address:""," "),n.R7$(),n.Y8G("ngIf",We.has_assets),n.R7$(2),n.Y8G("ngIf",!We.hide_map),n.R7$(6),n.Y8G("ngIf",We.can_edit),n.R7$(),n.Y8G("ngIf",We.is_checked_in&&We.desk_height_enabled),n.R7$(),n.Y8G("ngIf",!We.is_in_progress),n.R7$(),n.Y8G("ngIf",We.is_in_progress))},dependencies:[u.Sq,u.bT,f.tx,M.LG,x.R,D.S,A.H,L.F,l.kk,l.fb,l.Cp,$.r6,R.oV,u.vh]})}return ae})()},8379:(At,ue,a)=>{"use strict";a.d(ue,{n:()=>ne});var t=a(467),n=a(2091),f=a(2333),v=a(5157),b=a(3601),C=a(5987),g=a(7926),S=a(4361),h=a(9928),y=a(9714),O=a(4421),m=a(4670),E=a(2170),u=a(696),M=a(8712),x=a(1713),D=a(3020),A=a(9090),L=a(8841),l=a(5006),$=a(8728),R=a(3921),F=a(4046),P=a(9493),k=a(8026),V=a(3857),K=a(7141),X=a(5645),Q=a(7254),de=a(4525),se=a(4089),ce=a(5204),z=a(6088),w=a(3953),j=a(4006);const W=["desk","parking","locker","catering"];let ne=(()=>{class fe extends f.Tv{get view(){return this._view.getValue()}get booking(){return this._booking.getValue()}resourceUserName(Ae){return this._resource_use[Ae]}newForm(Ae=new V.Q({all_day:this._settings.get("app.bookings.all_day_default")})){this.form.reset(),this.form.patchValue((0,v.jv5)({...Ae,...Ae.extension_data},[null,void 0,""])),this.subscription("form_change",this.form.valueChanges.subscribe(()=>{const{date:Me,duration:Ve}=this.form.getRawValue();this._assets.setOptions({date:Me,duration:Ve}),this.storeForm()})),this.timeout("date",()=>{this.form.patchValue({date:Ae.date,duration:Ae.duration})}),this._booking.next(new V.Q(Ae)),this._options.next({type:this._options.getValue().type})}constructor(Ae,Me,Ve,We,lt,nt){super(),this._router=Ae,this._settings=Me,this._org=Ve,this._dialog=We,this._payments=lt,this._assets=nt,this._view=new h.t("form"),this._options=new h.t({type:"desk"}),this._booking=new h.t(null),this._resource_use={},this._loading=new h.t(""),this.last_success=new V.Q(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_booking")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.pipe((0,M.t)(1)),this.form=(0,K.Rr)(),this.resources=(0,y.zV)([this._org.active_building,this.options.pipe((0,x.w)("type"))]).pipe((0,D.B)(300),(0,A.n)(([$e,{type:Ie}])=>{if(!$e)return(0,O.of)([]);switch(Ie){case"desk":return this._loading.next("Loading desks..."),this.loadResourceList("desks");case"parking":return this._loading.next("Loading parking spaces..."),this.loadResourceList("parking-spaces");case"locker":return this._loading.next("Loading lockers..."),this.loadResourceList("lockers")}return(0,O.of)([])}),(0,L.M)(()=>this._loading.next("")),(0,M.t)(1)),this.features=this.resources.pipe((0,l.T)($e=>{const Ie=[];for(const{features:me}of $e)me instanceof Array&&me.forEach(De=>Ie.push(De));return(0,f.Am)(Ie).sort((me,De)=>me.localeCompare(De))}),(0,M.t)(1)),this.booking_rules=(0,y.zV)([this._org.building_list,this._options]).pipe((0,A.n)(([$e,{type:Ie}])=>Promise.all($e.map(me=>(0,v.bpY)(me.id,`${Ie}_booking_rules`).toPromise()))),(0,l.T)($e=>{const Ie={};for(const me of $e)Ie[me.id]=me.details instanceof Array?me.details:[];return Ie}),(0,M.t)(1)),this.available_resources=(0,y.zV)([this.options,this.resources,this.booking_rules,(0,m.h)(this.form.get("date").valueChanges,(0,E.O)(1e3)),(0,m.h)(this.form.get("duration").valueChanges,(0,E.O)(1e3))]).pipe((0,$.p)(()=>this.form.getRawValue().date>0&&this.form.getRawValue().duration>0),(0,D.B)(500),(0,L.M)(([{type:$e}])=>this._loading.next(`Checking ${$e} availability...`)),(0,A.n)(([$e,Ie,me])=>{var{all_day:De,date:ke,duration:Qe,user:Ne}=this.form.getRawValue();return De&&(ke=(0,b.o)(ke).valueOf(),Qe=1439),(0,X.$F)({period_start:(0,C._)(ke),period_end:(0,C._)((0,g.z)(ke,Qe)),type:$e.type,zones:$e.zone_id||this._org.building?.id||this._org.organisation.id}).pipe((0,l.T)(at=>{const Lt=this.form.getRawValue().date;(0,g.z)(Lt,this.form.getRawValue().duration).valueOf(),this._resource_use={};for(const Se of at)this._resource_use[Se]=" ";return Ie.filter(Se=>!(0,f.RH)({date:ke,duration:Qe,resource:Se,host:Ne||(0,f.Ny)()},me[Se.zone?.id]||me[Se.zone?.parent_id]||me[this._org.building.id]||[]).hidden&&(!Se.groups?.length||Se.groups.some(N=>(0,f.Ny)().groups.includes(N)))&&!1!==Se.bookable&&(!$e.features||$e.features?.every(N=>Se.features.includes(N)))&&(!$e.zone_id||$e.zone_id===Se.zone?.id||$e.zone_id===Se.zone?.parent_id)&&!at.includes(Se.id)&&!Se.assigned_to)},(0,R.W)(at=>(0,O.of)([]))))}),(0,L.M)($e=>this._loading.next("")),(0,M.t)(1)),this.grouped_availability=(0,y.zV)([this.options,this.available_resources]).pipe((0,l.T)(([$e,Ie])=>{const me=[],De=[...Ie].sort((Qe,Ne)=>Qe.zone?.id?.localeCompare(Ne.zone?.id)),ke=$e.members?.length?$e.members:[(0,f.Ny)()];for(;De.length;){const Qe=[];let Ne=De.pop();for(;Qe.length<ke.length&&(!Qe.length||Qe.find(at=>at.zone?.id===Ne.zone?.id));)Qe.push(Ne),Ne=De.pop();Qe.length<ke.length||me.push(Qe)}return me})),this.subscription("router.bookings",this._router.events.subscribe($e=>{$e instanceof n.wF&&!$e.url.includes("book")&&!W.find(Ie=>$e.url.includes(Ie))&&this.clearForm()})),this._org.initialised.pipe((0,F.$)($e=>$e)).subscribe(()=>this.setOptions({}))}setView(Ae){this._view.next(Ae)}setOptions(Ae){this._options.next({...this._options.getValue(),...Ae})}setFeature(Ae,Me){if(!Ae?.length)return;const Ve=this._options.getValue()?.features||[];Me&&!Ve.includes(Ae)&&Ve.push(Ae),!Me&&Ve.includes(Ae)&&Ve.splice(Ve.findIndex(We=>We===Ae),1),this.setOptions({features:Ve})}resetForm(){if(!sessionStorage.getItem("PLACEOS.booking_form"))return this.newForm();const Ae=this._booking.getValue();this.form.reset({user:(0,f.Ny)(),booked_by:(0,f.Ny)()}),this.form.patchValue((0,v.jv5)({...Ae||{},...Ae?.extension_data||{}},[null,void 0,""])),this._options.next({type:this._options.getValue().type})}clearForm(){sessionStorage.removeItem("PLACEOS.booking_form"),sessionStorage.removeItem("PLACEOS.booking_form_options"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.booking_form",JSON.stringify({...this._booking.getValue(),...(0,v.jv5)(this.form.getRawValue()||{},[null,void 0,""])})),sessionStorage.setItem("PLACEOS.booking_form_filters",JSON.stringify(this._options.getValue()||{}))}loadForm(){this.form.reset({user:(0,f.Ny)(),booked_by:(0,f.Ny)()});const Ae=JSON.parse(sessionStorage.getItem("PLACEOS.booking_form")||"{}"),Me=new V.Q(Ae);this._booking.next(Me);const Ve=(0,v.jv5)({...Ae,...Me||{},...Me?.extension_data||{}},[null,void 0,""]);this.form.patchValue(Ve),this.setOptions({...JSON.parse(sessionStorage.getItem("PLACEOS.booking_form_filters")||"{}")})}clearOldState(){sessionStorage.removeItem("PLACEOS.last_booked_booking"),this.last_success=new V.Q}openBookingLinkModal(Ae=!1){if(this.form.markAllAsTouched(),!this.form.valid&&!Ae)return;const Me=new V.Q({...this.booking,...this.form.getRawValue()});this._dialog.open(se.g,{data:Me})}confirmPost(){var Ae=this;return(0,t.A)(function*(){yield Ae.checkQuestions();const Me=Ae._options.getValue(),Ve=Ae.form.getRawValue();let We=`Would you like to book the ${Me.type} ${Ve.asset_name} for ${(0,S.GP)(Ve.date,"dd MMM yyyy")}${Ve.duration<720?" at "+(0,S.GP)(Ve.date,"h:mm a"):""}`;Me.group&&(We=`${We}.<br>You group members will be assigned desks nearby your selected desk.`);const lt=yield(0,f.GE)({title:`Book ${Me.type}`,content:We,icon:{content:"event_available"}},Ae._dialog);if("done"!==lt?.reason)throw"User cancelled";lt.loading("Performing booking request..."),Me.group?yield Ae.postFormForGroup().catch(nt=>{throw(0,f.UG)(JSON.stringify(nt)),lt.close(),nt}):yield Ae.postForm().catch(nt=>{throw(0,f.UG)(JSON.stringify(nt)),lt.close(),nt}),lt.close()})()}postForm(Ae=!1){var Me=this;return(0,t.A)(function*(){if(!Me.form)throw"No form for booking";if(!Me.form.valid)throw`Some form fields are invalid. [${(0,f.F7)(Me.form).join(", ")}]`;Me.form.patchValue({booking_type:Me.form.getRawValue().booking_type||Me._options.getValue().type});let Ve=Me.form.getRawValue(),We=Me._booking.getValue()||new V.Q;if(Ae||(yield Me.checkResourceAvailable({...We,...Ve},Me._options.getValue().type)),Me._payments.payment_module){const ke=yield Me._payments.makePayment({type:Me._options.getValue().type,resource_name:Ve.asset_name,date:Ve.date,duration:Ve.duration,all_day:Ve.all_day});if(!ke?.success)return;Ve.extension_data={invoice:ke,invoice_id:ke.invoice_id}}!Ve.zones?.length&&Me._booking.getValue().zones?.length&&(Ve.zones=Me._booking.getValue().zones),Me._loading.next("Saving booking"),delete Ve.booking_asset,Ve.all_day&&(Ve.date=(0,b.o)(Ve.date).valueOf(),Ve.duration=1439);const{event_id:lt,parent_id:nt}=Ve;delete Ve.event_id,delete Ve.parent_id;const $e=Ve.resources||[],Ie=$e[0]?.zone?(0,f.Am)([Me._org.organisation.id,Me._org.region?.id,$e[0]?.zone?.parent_id,$e[0]?.zone?.id]):[Me._org.organisation.id,Me._org.region?.id],me=yield(0,X.X0)(new V.Q({...Me._options.getValue(),...Ve,description:Ve.asset_name||Ve.description,user_name:Ve.user?.name,user_id:(Ve.user?.id?.includes("@")?"":Ve?.user?.id)||(0,f.Ny)()?.id,extension_data:{...Ve.extension_data||{},group:Ve.group,phone:Ve.phone,department:Ve.user?.department||(0,f.Ny)()?.department},approved:!Me._settings.get("app.bookings.no_approval"),zones:(0,f.Am)([...Ie,...Ve.zones||[]])}),lt?{ical_uid:Ve.ical_uid,event_id:lt}:nt?{booking_id:nt}:{}).toPromise().catch(ke=>{throw Me._loading.next(""),ke?.error||ke});if(Ve.assets?.length||We.extension_data.assets?.length){const ke=yield(0,ce.en)({...me,from_booking:!0},{date:Ve.date,duration:Ve.duration,all_day:Ve.all_day,host:Ve.booked_by_email,zones:[Me._org.building?.id]},Ve.assets).catch(Qe=>{throw console.error("Couldn't update asset requests",Qe),409===Qe?.status&&(0,f.UG)("Some assets are already booked for the selected time"),Me._loading.next(""),Qe?.error||Qe});if(!ke)throw"Unable to validate asset requests";yield ke()}Me._loading.next("");const{booking_type:De}=Ve;return Me.clearForm(),Me.form?.patchValue({booking_type:De}),Me.last_success=me,sessionStorage.setItem("PLACEOS.last_booked_booking",JSON.stringify(me)),Me.setView("success"),me})()}postFormForGroup(){var Ae=this;return(0,t.A)(function*(){const{members:Me,group:Ve,type:We}=Ae._options.getValue();if(!Ve)throw"No group available to book for";const lt=Me.filter(Kt=>Kt.email!==(0,f.Ny)().email);if(lt.length<=0)throw"No members in your group to book for.";const nt=Ae.form.getRawValue(),$e=yield Ae.available_resources.pipe((0,P.s)(1)).toPromise(),Ie=$e.find(Kt=>Kt.id===nt.asset_id||Kt.map_id===nt.asset_id),me=Ae._org.levelWithID([Ie.zone?.id]),De=[Ie,...yield Ae._getNearbyResources(me.map_id,nt.asset_id,$e,lt.length)],ke=(0,f.Am)([(0,f.Ny)(),...lt],"email"),Qe=yield Promise.all(ke.map((Kt,Ot)=>Ae.checkResourceAvailable({...nt,asset_id:De[Ot].map_id||De[Ot].id,user_email:Kt.email},We))),Ne=ke.filter((Kt,Ot)=>!Qe[Ot]),at=`${(0,f.Ny)().email}[${(0,S.GP)(Date.now(),"yyyy-MM-dd")}]`;let Lt="";for(let Kt=0;Kt<ke.length;Kt++){if(!Qe[Kt])continue;const Ot=ke[Kt],Se=De[Kt];Ae.form.patchValue({...nt,parent_id:Lt,user:Ot,user_email:Ot.email,user_id:Ot.id,asset_id:Se?.id,asset_name:Se.name,description:Se.name,map_id:Se?.map_id||Se?.id,group:at,zones:Se.zone?(0,f.Am)([Ae._org.organisation.id,Ae._org.region?.id,Se?.zone?.parent_id,Se?.zone?.id]):[Ae._org.organisation.id,Ae._org.region?.id]});const ve=yield Ae.postForm(!0);ve.id&&!Lt&&(Lt=ve.id)}Ne.length&&(0,f.WS)(`Some members of your group already have a desk booking. [${Ne.map(Kt=>Kt.name||Kt.email)?.join(", ")}]`)})()}checkQuestions(){var Ae=this;return(0,t.A)(function*(){if(!1!==Ae._settings.get("app.desks.ignore_questions"))return;const Me=Ae._dialog.open(Q.b);if("done"!==(yield Promise.race([Me.componentInstance.event.pipe((0,F.$)(lt=>"done"===lt.reason)).toPromise(),Me.afterClosed().toPromise()]))?.reason)throw"User cancelled";const We=Me.componentInstance.form.getRawValue();for(const lt in We)if(We[lt])throw"User failed questionaire";Me.close()})()}checkResourceAvailable({id:Ae,asset_id:Me,date:Ve,duration:We,user_email:lt},nt){var $e=this;return(0,t.A)(function*(){if(!lt)throw"No user was selected to book for";if("group-event"===nt)return!0;let me=(yield(0,X.tj)({period_start:(0,C._)(Ve),period_end:(0,C._)(Ve+60*We*1e3),type:nt,email:lt,limit:1e3}).toPromise()).filter(ke=>"declined"!==ke.status&&"cancelled"!==ke.status&&!ke.rejected);if(me.find(ke=>ke.asset_id===Me&&Ae!==ke.id))throw Me.includes("@")?`${Me} already has an invite for the selected time`:`${Me} is not available at the selected time`;const De=$e._settings.get(`app.bookings.allowed_daily_${nt}_count`)??1;if(De>0&&me.filter(ke=>ke.user_email.toLowerCase()===(lt||(0,f.Ny)()?.email).toLowerCase()&&ke.id!==Ae).length>=De){const ke=lt===(0,f.Ny)()?.email;throw`${ke?"You":lt} already ${ke?"have":"has"} a booking at the selected time`}return!0})()}loadResourceList(Ae){const Me=this._settings.get("app.use_region"),Ve=lt=>(lt?.metadata[Ae]?.details instanceof Array?lt.metadata[Ae]?.details:[]).map(nt=>"lockers"!==Ae?{...nt,id:nt.id||nt.map_id,zone:lt.zone}:nt.lockers?.map($e=>({...$e,bank_id:nt.id,zone:$e.zone}))||[]),We=Me?this._org.building.parent_id:this._org.building.id;if(Me){const lt=this._org.building.parent_id,nt=this._org.buildings.filter($e=>$e.parent_id===lt);return(0,u.p)(nt.map($e=>(0,v.WsZ)($e.id,{name:Ae}).pipe((0,l.T)(Ie=>(0,f.Bq)(Ie.map(Ve)))))).pipe((0,l.T)($e=>(0,f.Bq)($e)))}return(0,v.WsZ)(We,{name:Ae}).pipe((0,l.T)(lt=>(0,f.Bq)(lt.map(Ve))))}_getNearbyResources(Ae,Me,Ve,We){return(0,t.A)(function*(){const lt=[];let nt=Ve.filter($e=>$e.id!==Me&&$e.map_id!==Me);for(let $e=0;$e<We;$e++){const Ie=yield(0,K.Jm)(Ae,Me,nt.map(me=>me.map_id||me.id));Ie&&(lt.push(Ve.find(me=>me.id===Ie||me.map_id===Ie)),nt=nt.filter(me=>me.id!==Ie&&me.map_id!==Ie))}return lt})()}static#e=this.\u0275fac=function(Me){return new(Me||fe)(w.KVO(n.Ix),w.KVO(f.h$),w.KVO(k.y),w.KVO(j.bZ),w.KVO(de.h),w.KVO(z.R))};static#t=this.\u0275prov=w.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},4089:(At,ue,a)=>{"use strict";a.d(ue,{g:()=>y});var t=a(4006),n=a(4233),f=a(4571),b=(a(3857),a(3953)),C=a(9434),g=a(6600),S=a(6781),h=a(4616);let y=(()=>{class O{constructor(E,u){this._event=E,this._settings=u,this.outlook_link=(0,f.gP)(this._event),this.google_link=(0,f.dB)(this._event),this.ical_link=(0,f._V)(this._event)}static#e=this.\u0275fac=function(u){return new(u||O)(b.rXU(t.Vh),b.rXU(n.h))};static#t=this.\u0275cmp=b.VBU({type:O,selectors:[["booking-link-modal"]],decls:22,vars:12,consts:()=>{let E,u,M;return E=$localize`:34c16b14ad0e33db574c8bea543e66e766aa3a014015832758698516701:Create in Outlook`,u=$localize`:f745484670e6b6bbb8a1c327c222e665fb25b8633788591245559456526:Create in Google Calendar`,M=$localize`:1af54061e7f4bcfb1048ffaa05c9b8f7c4b416794894641609416495396:Download iCal File`,[E,u,M,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["icon","","mat-dialog-close","",1,"absolute","top-2","right-0"]]},template:function(u,M){1&u&&(b.j41(0,"div",3),b.EFF(1,"Add event to your calendar"),b.k0s(),b.j41(2,"div",4)(3,"a",5),b.nI1(4,"sanitize"),b.nrm(5,"img",6),b.j41(6,"span"),b.pXf(7,0),b.k0s()(),b.j41(8,"a",5),b.nI1(9,"sanitize"),b.nrm(10,"img",7),b.j41(11,"span"),b.pXf(12,1),b.k0s()(),b.j41(13,"a",5),b.nI1(14,"safe"),b.j41(15,"app-icon",8),b.EFF(16,"download"),b.k0s(),b.j41(17,"span"),b.pXf(18,2),b.k0s()()(),b.j41(19,"button",9)(20,"app-icon"),b.EFF(21,"close"),b.k0s()()),2&u&&(b.R7$(3),b.Y8G("href",b.i5U(4,3,M.outlook_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(9,6,M.google_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(14,9,M.ical_link,"url"),b.B4B))},dependencies:[t.tx,C.R,g.r6,S.m,h.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return O})()},3857:(At,ue,a)=>{"use strict";a.d(ue,{Q:()=>x});var t=a(2333),n=a(7926),f=a(5987),v=a(9548),b=a(2037),C=a(3601),g=a(4512),S=a(5818),h=a(3368),y=a(9824),O=a(9255),m=a(9015),E=a(3747);const u=["user","booked_by","resources","assets","members"];class x{get group(){return this.extension_data.group||""}get is_all_day(){return this.all_day||this.duration>=720}get valid_assets(){if(this._b_valid_cache_expiry>Date.now()&&this._b_valid_asset_cache.length)return this._b_valid_asset_cache;const A=this.linked_bookings;return this._b_valid_asset_cache=(this.extension_data.assets||[]).map(L=>new E.Y({...L,event:this})).filter(L=>L.deliver_at<this.date_end).map(L=>{const l=A.find($=>$.extension_data.request_id===L.id);return l&&(L.state=l.approved?"approved":l.rejected?"rejected":"pending"),L}),this._b_valid_cache_expiry=(0,n.z)(Date.now(),5).valueOf(),this._b_valid_asset_cache}constructor(A={}){this._b_valid_asset_cache=[],this._b_valid_cache_expiry=0,this.id=A.id||"",this.parent_id=A.parent_id||"",this.asset_id=A.asset_id||"",this.asset_ids=A.asset_ids||[A.asset_id].filter(L=>L),this.asset_name=A.asset_name||A.extension_data?.asset_name||A.description||A.asset_id||"",this.zones=A.zones||[],this.booking_start=Math.floor(A.date/1e3)||A.booking_start||(0,f._)((0,v.X)((0,n.z)(Date.now(),5),{nearestTo:5})),this.booking_end=Math.floor(A.date/1e3)+60*A.duration||A.booking_end||(0,f._)((0,n.z)(1e3*this.booking_start,A.duration||60)),this.booking_type=A.booking_type||" ",this.type=A.type||A.booking_type||"booking",this.date=A.date||1e3*this.booking_start||Date.now(),this.duration=A.duration||Math.abs((0,b.o)(1e3*this.booking_start,1e3*this.booking_end))||60,this.date_end=1e3*this.booking_end||this.date+60*this.duration*1e3,this.timezone=A.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.user_email=A.user_email||"",this.user_id=A.user_id||"",this.user_name=A.user_name||"",this.title=A.title??(this.booking_type?`${(0,t.Zr)(this.booking_type)} Booking`.trim():""),this.description=A.description||"",this.checked_in=!!A.checked_in,this.rejected=!!A.rejected,this.approved=!!A.approved,this.deleted=!!A.deleted,this.booked_by_id=A.booked_by_id||"",this.booked_by_name=A.booked_by_name||"",this.booked_by_email=A.booked_by_email||"",this.approver_id=A.approver_id||"",this.approver_email=A.approver_email||"",this.approver_name=A.approver_name||"",this.extension_data=A.extension_data||{},this.access=!!A.extension_data?.access,this.event_id=A.event_id,this.permission=(A.permission||"PRIVATE").toUpperCase(),this.attendees=A.attendees||A.guests||A.members||[],this.tags=A.tags||A.extension_data?.tags||[],this.images=A.images||[],this.all_day=A.all_day||this.duration>=1440,this.induction=(A.induction||A.extension_data?.induction||"inducted"===A.process_state)??!1,this.all_day&&(this.date=(0,C.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-(this.duration%24*60==0?1:0)),this.date_end=(0,g.D)((0,n.z)(this.date,this.duration-1).valueOf()).getTime()),this.checked_out_at=A.checked_out_at,this.linked_event=A.linked_event||null,this.linked_bookings=A.linked_bookings||[],this.images=A.images||[],this.status=this.checked_out_at>0?"ended":this.rejected||this.deleted?"declined":this.approved?"approved":"tentative",this.process_state=A.process_state||"pending",this.recurrence_type=A.recurrence_type||"none",this.recurrence_days=A.recurrence_days,this.recurrence_nth_of_month=A.recurrence_nth_of_month,this.recurrence_interval=A.recurrence_interval,this.recurrence_end=A.recurrence_end,this.instance=A.instance;for(const L in A)!(L in this)&&!u.includes(L)&&A[L]&&(this.extension_data[L]=A[L]||this.extension_data[L]);this.extension_data.assets=(this.extension_data.assets||[]).map(L=>new E.Y({...L,event:this,date:this.date})),this.extension_data.tags=A.tags||[],this.extension_data.request&&(this.extension_data.request=new E.Y({...this.extension_data.request,event:this,date:this.date}))}toJSON(){const A={...this};return this.id||delete A.id,A.extension_data.assets=A.extension_data.assets.map(L=>new E.Y({...L,event:null})),A.extension_data.request&&(A.extension_data.request=new E.Y({...A.extension_data.request,event:null})),A.parent_id||delete A.parent_id,delete A.date,delete A.duration,(0,t.Xm)(A),A}get location(){return this.extension_data?.location||this.description}get is_today(){return(0,S.r)(this.date,new Date)}get is_done(){const A=new Date,L=this.all_day?(0,h.L)(this.date,24):(0,n.z)(this.date,this.duration),l=1e3*(this.checked_out_at||this.extension_data.checked_out_at||0);let $=L.getTime();return!!(l&&Date.now()>l)||(0,y.d)(A,new Date($))}get state(){const A=new Date,L=this.date;return(0,O.Y)(A,(0,m.W)(L,{minutes:-15}))?"future":(0,O.Y)(A,L)?"upcoming":(0,O.Y)(A,(0,m.W)(L,{minutes:15}))?"started":(0,O.Y)(A,(0,m.W)(L,{minutes:this.duration}))?"in_progress":"done"}}},7141:(At,ue,a)=>{"use strict";a.d(ue,{Jm:()=>m,Rr:()=>O,s8:()=>u});var t=a(467),n=a(9417),f=a(2333),v=a(690),b=a(6511),C=a(3857),g=a(9548),S=a(7926),h=a(2037);function O(M=new C.Q){const x=new n.gE({id:new n.MJ(M.id||""),parent_id:new n.MJ(M.parent_id||""),event_id:new n.MJ(M.event_id||""),ical_uid:new n.MJ(M.extension_data.ical_uid||""),date:new n.MJ(M.date,[n.k0.required]),date_end:new n.MJ(M.date_end),all_day:new n.MJ(M.all_day??!1),name:new n.MJ(M.extension_data.name||M.asset_name||""),duration:new n.MJ(M.duration,[v.k]),booking_type:new n.MJ(M.booking_type),zones:new n.MJ(M.zones),title:new n.MJ(M.title),description:new n.MJ(M.description),booking_asset:new n.MJ(null),resources:new n.MJ([]),company:new n.MJ(""),asset_id:new n.MJ(M.asset_id,[n.k0.required]),asset_name:new n.MJ(M.description),assets:new n.MJ(M.extension_data?.assets||[]),attendees:new n.MJ(M.attendees||[]),map_id:new n.MJ(M.extension_data?.map_id),featured:new n.MJ(M.extension_data?.featured||!1),user:new n.MJ((0,f.Ny)()),user_id:new n.MJ(M.user_id),group:new n.MJ(M.group),user_email:new n.MJ(M.user_email),user_name:new n.MJ(M.user_name),timezone:new n.MJ(M.timezone||""),booked_by:new n.MJ((0,f.Ny)()),booked_by_id:new n.MJ(M.booked_by_id),booked_by_email:new n.MJ(M.booked_by_email),secondary_resource:new n.MJ(M.extension_data?.other_asset_type||M.extension_data?.secondary_resource),location:new n.MJ(M.extension_data.location||""),attendance_type:new n.MJ(M.extension_data.attendance_type||"ANY"),phone:new n.MJ(M.extension_data.phone||""),permission:new n.MJ(M.permission||"PRIVATE"),images:new n.MJ(M.images||[]),tags:new n.MJ(M.tags||[]),plate_number:new n.MJ(M.extension_data.plate_number||""),recurrence_type:new n.MJ(M.recurrence_type||"none"),recurrence_days:new n.MJ(M.recurrence_days),recurrence_nth_of_month:new n.MJ(M.recurrence_nth_of_month),recurrence_interval:new n.MJ(M.recurrence_interval),recurrence_end:new n.MJ(M.recurrence_end),notes:new n.MJ(M.extension_data.notes||"")});return x.valueChanges.subscribe(D=>{const A=D.user,L=D.booked_by||(0,f.Ny)();(L||A)&&x.patchValue({user:A||L,user_id:A?.id||L?.id,user_email:A?.email||L?.email,name:A?.name||L?.name,booked_by_id:L?.id,booked_by_email:L?.email},{emitEvent:!1}),x.getRawValue().date<Date.now()&&x.value.id?x.get("date")?.disable({emitEvent:!1}):x.get("date")?.enable({emitEvent:!1})}),x.controls.resources.valueChanges.subscribe(D=>function y(M,x){if(!x)return M.patchValue({asset_id:void 0});M.patchValue({asset_id:x.id,asset_name:x.name,map_id:x.map_id||x.id,description:x.name,zones:x.zone?[x.zone?.parent_id,x.zone?.id]:[],booking_asset:x},{emitEvent:!1})}(x,(D||[])[0])),x.controls.duration.valueChanges.subscribe(D=>{x.patchValue({date_end:(0,g.X)((0,S.z)(x.getRawValue().date,D),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),x.controls.date_end.valueChanges.subscribe(D=>{D<(0,S.z)(x.getRawValue().date,30).valueOf()?x.patchValue({date_end:(0,g.X)((0,S.z)(x.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):x.patchValue({duration:(0,h.o)(D,x.getRawValue().date)},{emitEvent:!1})}),x.controls.date.valueChanges.subscribe(D=>{x.patchValue({date_end:(0,g.X)((0,S.z)(D,x.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),D<Date.now()&&!x.value.id&&x.patchValue({date:(0,g.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),"started"===M.state&&x.get("date").disable(),x}function m(M,x){return E.apply(this,arguments)}function E(){return(E=(0,t.A)(function*(M,x,D=[]){const A=document.createElement("div");A.style.position="absolute",A.style.top="-9999px",A.style.width="1000px",A.style.height="1000px",document.body.appendChild(A);const L=yield(0,b.Rx)({url:M,element:A}),l=(0,b.tk)(L),$=("string"==typeof x?l.mappings[x]:x)||{x:.5,y:.5};let R=10,F="";for(const P of D){const{x:k,y:V}=l.mappings[P]||{x:2,y:2},K=Math.sqrt((k-$.x)*(k-$.x)+(V-$.y)*(V-$.y));K<R&&(R=K,F=P)}return document.body.removeChild(A),(0,b.b2)(L),F})).apply(this,arguments)}function u(M){return new C.Q({id:M.id,user_email:M.host,asset_id:M.system?.id,asset_name:M.system?.display_name||M.system?.name,booking_type:"room",approved:"approved"===M.status,extension_data:{...M}})}},5645:(At,ue,a)=>{"use strict";a.d(ue,{$F:()=>M,DO:()=>A,Kq:()=>w,UN:()=>R,X0:()=>$,Z$:()=>de,kX:()=>ce,sH:()=>L,tj:()=>u,tl:()=>k,u3:()=>D,vq:()=>l});var t=a(467),n=a(5157),f=a(4421),v=a(5006),b=a(3921),C=a(9090),g=a(8385),S=a(3857),y=(a(3693),a(5987)),O=a(7926),m=a(2333);const E="/api/staff/v1/bookings";function u(W){const ne=(0,g.z)(W);return(0,n.JtY)(`${E}${ne?"?"+ne:""}`).pipe((0,v.T)(fe=>fe.map(ae=>new S.Q(ae))),(0,b.W)(fe=>(0,f.of)([])))}function M(W){const ne=(0,g.z)(W);return(0,n.JtY)(`${E}/booked${ne?"?"+ne:""}`).pipe((0,v.T)(fe=>fe),(0,b.W)(fe=>(0,f.of)([])))}function D(W){return(0,n.Pac)({query_params:W,fn:ne=>new S.Q(ne),endpoint:E,path:""}).pipe((0,C.n)(function(){var ne=(0,t.A)(function*({data:fe,next:ae}){let Ae=[...fe];for(;ae;){const Me=yield ae().toPromise();fe=Me.data,ae=Me.next,Ae=[...Ae,...fe]}return Ae});return function(fe){return ne.apply(this,arguments)}}()),(0,b.W)(ne=>(0,f.of)([])))}function A(W){return(0,n.JtY)(`${E}/${encodeURIComponent(W)}`).pipe((0,v.T)(ne=>new S.Q(ne)))}function L(W,ne){const fe=(0,g.z)(ne);return(0,n.bEY)(`${E}${fe?"?"+fe:""}`,W).pipe((0,v.T)(ae=>new S.Q(ae)))}function l(W,ne,fe="patch"){return("patch"===fe?n.F6F:n.yJg)(`${E}/${encodeURIComponent(W)}`,ne).pipe((0,v.T)(ae=>new S.Q(ae)))}const $=(W,ne)=>{const fe=W.id;return delete W.id,fe?l(fe,W):L(W,ne)};function R(W){return(0,n.yHY)(`${E}/${encodeURIComponent(W)}`,{response_type:"void"})}function k(W,ne,fe){const ae=(0,g.z)({state:ne,utm_source:fe});return(0,n.bEY)(`${E}/${encodeURIComponent(W)}/update_state${ae?"?"+ae:""}`,{}).pipe((0,v.T)(Ae=>new S.Q(Ae)))}function de(W,ne){const fe=(0,g.z)({state:ne});return(0,n.bEY)(`${E}/${encodeURIComponent(W)}/check_in?${fe}`,"").pipe((0,v.T)(ae=>new S.Q(ae)),(0,b.W)(function(){var ae=(0,t.A)(function*(Ae){const Me=yield Ae.json();throw Me.error||Me.message||Me});return function(Ae){return ae.apply(this,arguments)}}()))}function ce(W,ne,fe,ae,Ae="room",Me=[0,0]){return u({type:Ae,period_start:(0,y._)(ne),period_end:(0,y._)((0,O.z)(ne,fe))}).pipe((0,v.T)(Ve=>W.map(We=>!Ve.find(lt=>lt.asset_id===We&&(!ae||ae!==lt.id)))))}function w(W,ne,fe){return j.apply(this,arguments)}function j(){return(j=(0,t.A)(function*(W,ne,fe){const ae=yield u({type:ne,period_start:(0,y._)(W.date),period_end:(0,y._)((0,O.z)(W.date,W.duration))}).pipe((0,v.T)(Me=>Me.filter(Ve=>Ve.parent_id===W.id))).toPromise();yield Promise.all(ae.map(Me=>R(Me.id).toPromise())),yield Promise.all(W.linked_bookings.filter(Me=>Me.booking_type===ne).map(Me=>R(Me.id).toPromise()));const Ae=W.system?.zones||(0,m.Am)((0,m.Bq)(W.resources.map(Me=>Me.zones)))||[];yield Promise.all(fe.map(Me=>{const Ve=ae.find(We=>We.asset_ids.find(lt=>Me.items?.find(nt=>nt.item_ids.includes(lt))));return L(new S.Q({type:ne,booking_type:ne,date:W.date,duration:W.duration,description:W.title,user_email:W.host,asset_id:Me.email,asset_name:Me.name,title:Me.name,attendees:[Me],approved:Ve?.approved&&!Me._changed,rejected:Ve?.rejected&&!Me._changed,extension_data:{parent_id:W.id,name:Me.name,location_id:W.location},zones:Ae}),{ical_uid:W.ical_uid,event_id:W.id}).toPromise()}))})).apply(this,arguments)}},7651:(At,ue,a)=>{"use strict";a.d(ue,{S:()=>eo});var t=a(177),n=a(9417),f=a(8834),v=a(2765),b=a(5084),C=a(4006),g=a(3719),S=a(9631),h=a(9183),y=a(5951),O=a(1395),m=a(2013),E=a(7758),u=a(827),M=a(1081),l=(a(7547),a(1781),a(3367),a(7254),a(3953)),k=(a(1865),a(9434),a(4918),a(5277),a(6600));a(2333),a(4512),a(906),a(8026),a(8379),a(5006),a(9714),a(6665),a(9608),a(3476),a(1413),a(2798),a(6062),a(1780),a(3208),a(9928),a(5897),a(2882),a(2185),a(467),a(4046),a(9525),a(4217),a(3693);var ii=a(850);a(840),a(6724),a(9138),a(9145),a(258),a(8559),a(9615),a(7642),a(4233),a(4089),a(4854);var xr=a(4823);a(8796),a(4810),a(7904);let eo=(()=>{class Et{static#e=this.\u0275fac=function(Dt){return new(Dt||Et)};static#t=this.\u0275mod=l.$C({type:Et});static#n=this.\u0275inj=l.G2t({providers:[n.X1],imports:[t.MD,n.YN,n.X1,y.Wk,S.fS,g.RG,b.X6,f.Hl,C.hM,h.D6,v.g7,ii.jL,m.c,O.h,k.pZ,xr.uc,u.l,E.j,M.k]})}return Et})()},3367:(At,ue,a)=>{"use strict";a.d(ue,{I:()=>L});var t=a(3953),n=a(4006),f=a(2333),v=a(177),b=a(9417),C=a(9631),g=a(3719),S=a(9183),h=a(9608),y=a(8e3),O=a(6600);function m(l,$){1&l&&(t.j41(0,"button",10)(1,"i",11),t.EFF(2,"close"),t.k0s()())}function E(l,$){if(1&l){const R=t.RV6();t.j41(0,"div",20)(1,"label"),t.pXf(2,5),t.k0s(),t.j41(3,"a-user-search-field",21),t.mxI("ngModelChange",function(P){t.eBV(R);const k=t.XpG(2);return t.DH7(k.host,P)||(k.host=P),t.Njj(P)}),t.k0s()()}if(2&l){const R=t.XpG(2);t.R7$(3),t.R50("ngModel",R.host)}}function u(l,$){if(1&l&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&l){const R=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,R.date,"mediumDate")," ")}}function M(l,$){if(1&l){const R=t.RV6();t.j41(0,"a-date-field",22),t.mxI("ngModelChange",function(P){t.eBV(R);const k=t.XpG(2);return t.DH7(k.date,P)||(k.date=P),t.Njj(P)}),t.k0s()}if(2&l){const R=t.XpG(2);t.R50("ngModel",R.date)}}function x(l,$){if(1&l){const R=t.RV6();t.j41(0,"div",23)(1,"label"),t.pXf(2,6),t.k0s(),t.j41(3,"mat-form-field",24)(4,"input",25),t.mxI("ngModelChange",function(P){t.eBV(R);const k=t.XpG(2);return t.DH7(k.reason,P)||(k.reason=P),t.Njj(P)}),t.k0s()()()}if(2&l){const R=t.XpG(2);t.R7$(4),t.R50("ngModel",R.reason)}}function D(l,$){if(1&l){const R=t.RV6();t.qex(0),t.j41(1,"main",12),t.DNE(2,E,4,1,"div",13),t.j41(3,"div",14)(4,"label"),t.pXf(5,2),t.k0s(),t.DNE(6,u,3,4,"div",15)(7,M,1,1,"a-date-field",16),t.k0s(),t.DNE(8,x,5,1,"div",17),t.j41(9,"p"),t.pXf(10,3),t.k0s()(),t.j41(11,"footer",18)(12,"button",19),t.bIt("click",function(){t.eBV(R);const P=t.XpG();return t.Njj(P.confirm())}),t.pXf(13,4),t.k0s()(),t.bVm()}if(2&l){const R=t.XpG();t.R7$(2),t.Y8G("ngIf",R.can_set_host),t.R7$(4),t.Y8G("ngIf",!R.can_set_date),t.R7$(),t.Y8G("ngIf",R.can_set_date),t.R7$(),t.Y8G("ngIf",!R.hide_reason),t.R7$(2),t.uP7(1===R.desks.length?"":"s")(R.desk_list)((null==R.level?null:R.level.display_name)||(null==R.level?null:R.level.name)),t.nnv(10)}}function A(l,$){if(1&l&&(t.j41(0,"main",26),t.nrm(1,"mat-spinner",27),t.j41(2,"p"),t.EFF(3),t.k0s()()),2&l){const R=t.XpG();t.R7$(),t.Y8G("diameter",48),t.R7$(2),t.JRh(R.loading)}}let L=(()=>{class l{get desk_list(){return this.desks.map(R=>R.name).join(", ")}get hide_reason(){return!!this._settings.get("app.desks.hide_reason")}get can_set_host(){return!!this._settings.get("app.desks.can_book_for_others")}constructor(R,F){this._data=R,this._settings=F,this.event=new t.bkB,this.desks=this._data.desks||[],this.date=this._data.date,this.host=this._data.host,this.can_set_date=this._data.can_set_date,this.reason=this._data.reason,this.level=this._data.level}confirm(){this.loading="Requesting desk booking...",this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(F){return new(F||l)(t.rXU(n.Vh),t.rXU(f.h$))};static#t=this.\u0275cmp=t.VBU({type:l,selectors:[["desk-flow-confirm-modal-component"]],outputs:{event:"event"},decls:8,vars:3,consts:()=>{let R,F,P,k,V,K;return R=$localize`:d513554c23b779e029147a285f1f84f1479488fc1554073776118278895:Confirm Booking`,F=$localize`:2f933b826a570836cab04f683970a2d22068458c3973931101896534797:Date`,P=$localize`:5012a6a10d31e79f5865c2fc7f680b84a14accca4161419473863623687: Your desk${"\ufffd0\ufffd"}:INTERPOLATION: will be ${"\ufffd1\ufffd"}:INTERPOLATION_1: on ${"\ufffd2\ufffd"}:INTERPOLATION_2: `,k=$localize`:68e710782ccb5398b3acb8844caf0b199da2c3da9178182467454450952:Confirm`,V=$localize`:fe22ca53e651df951dac25b67c17894b0980f7676641024648411549335:Host`,K=$localize`:4ba250869daa372b54d24fafc0ea934769ee40764775550080689015987:Reason`,[["load_state",""],R,F,P,k,V,K,[1,"flex-1"],["icon","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","mat-dialog-close",""],[1,"material-icons"],[1,"p-4"],["host","","class","flex flex-col",4,"ngIf"],["date","",1,"mb-4"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["reason","","class","flex flex-col mb-4",4,"ngIf"],[1,"flex","items-center","justify-center","p-2"],["btn","","matRipple","",3,"click"],["host","",1,"flex","flex-col"],[1,"mb-4",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["reason","",1,"flex","flex-col","mb-4"],["appearance","outline"],["matInput","","placeholder","Reason",3,"ngModelChange","ngModel"],["load","",1,"flex","flex-col","p-12","items-center","justify-center"],[1,"mb-4",3,"diameter"]]},template:function(F,P){if(1&F&&(t.j41(0,"header")(1,"h2"),t.pXf(2,1),t.k0s(),t.nrm(3,"div",7),t.DNE(4,m,3,0,"button",8),t.k0s(),t.DNE(5,D,14,7,"ng-container",9)(6,A,4,2,"ng-template",null,0,t.C5r)),2&F){const k=t.sdS(7);t.R7$(4),t.Y8G("ngIf",!P.loading),t.R7$(),t.Y8G("ngIf",!P.loading)("ngIfElse",k)}},dependencies:[v.bT,b.me,b.BC,b.vS,C.fg,g.rl,n.tx,S.LG,h.G,y.$,O.r6,v.vh],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}"]})}return l})()},7254:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>y});var t=a(3953),n=a(9417),v=(a(2333),a(177)),b=a(5951),C=a(4006),g=a(6600);function S(O,m){if(1&O){const E=t.RV6();t.j41(0,"div",8)(1,"h2",9),t.pXf(2,1),t.k0s(),t.j41(3,"main",10)(4,"div",11)(5,"label"),t.PLo(6,2),t.nrm(7,"span"),t.YFu(),t.k0s(),t.j41(8,"mat-radio-group",12)(9,"mat-radio-button",13),t.EFF(10,"Yes"),t.k0s(),t.j41(11,"mat-radio-button",13),t.EFF(12,"No"),t.k0s()()(),t.j41(13,"div",11)(14,"label"),t.PLo(15,3),t.nrm(16,"span"),t.YFu(),t.k0s(),t.j41(17,"mat-radio-group",14)(18,"mat-radio-button",13),t.EFF(19,"Yes"),t.k0s(),t.j41(20,"mat-radio-button",13),t.EFF(21,"No"),t.k0s()()(),t.j41(22,"div",15)(23,"label"),t.PLo(24,4),t.nrm(25,"span"),t.YFu(),t.k0s(),t.j41(26,"mat-radio-group",16)(27,"mat-radio-button",13),t.EFF(28,"Yes"),t.k0s(),t.j41(29,"mat-radio-button",13),t.EFF(30,"No"),t.k0s()()()(),t.j41(31,"footer",17)(32,"button",18),t.bIt("click",function(){t.eBV(E);const M=t.XpG();return t.Njj(M.submit())}),t.pXf(33,5),t.k0s()(),t.j41(34,"button",19)(35,"i",20),t.EFF(36,"close"),t.k0s()()()}if(2&O){const E=t.XpG();t.R7$(3),t.Y8G("formGroup",E.form),t.R7$(6),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(7),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(7),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1)}}function h(O,m){1&O&&(t.j41(0,"main",21)(1,"p",22),t.pXf(2,6),t.k0s(),t.j41(3,"button",19)(4,"i",20),t.EFF(5,"close"),t.k0s()()())}let y=(()=>{class O{constructor(){this.event=new t.bkB,this.form=new n.gE({travelled:new n.MJ(!1),unwell:new n.MJ(!1),contact:new n.MJ(!1)})}submit(){this.form.markAllAsTouched(),Object.keys(this.form.value).find(E=>!0===this.form.value[E]||"true"===this.form.value[E])?this.failure=!0:this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(u){return new(u||O)};static#t=this.\u0275cmp=t.VBU({type:O,selectors:[["desk-question-modal"]],outputs:{event:"event"},decls:3,vars:2,consts:()=>{let E,u,M,x,D,A;return E=$localize`:02006a13b8e6aacb7a6e15bafd8004ed529f5d81877348132538805077:COVID-19 Questionnaire`,u=$localize`:dad7efbd2320e5ea935aef911f18cbcb246901331650520403092579087: Have you travelled overseas within the last 14 days?${"\ufffd#7\ufffd"}:START_TAG_SPAN:*${"\ufffd/#7\ufffd"}:CLOSE_TAG_SPAN:`,M=$localize`:cf50bf8de6c6db836da440c89a375631f7ba3fb01182497320820036810: Are you unwell or experiencing any cold or flu-like symptoms?${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,x=$localize`:273153c91358de15d124ff2966859d9949080f4c737527639567676154: Have you had contact with anyone with suspected COVID-19?${"\ufffd#25\ufffd"}:START_TAG_SPAN:*${"\ufffd/#25\ufffd"}:CLOSE_TAG_SPAN:`,D=$localize`:71c77bb8cecdf11ec3eead24dd1ba506573fa9cd935187492052582731:Submit`,A=$localize`:17d62f424c2c025579e1ec0e3f5ad971f57681df4401678084033805848: Your request to work from the office has been rejected based on your response to the compulsory Covid-19 questions. Please feel free to submit a new request when circumstances change in a way that changes your answer to the questions. `,[["fail_state",""],E,u,M,x,D,A,["class","relative",4,"ngIf","ngIfElse"],[1,"relative"],[1,"p-4","text-xl"],[1,"p-4",3,"formGroup"],[1,"flex","flex-col","mb-4"],["formControlName","travelled",1,"space-x-2"],[3,"value"],["formControlName","unwell",1,"space-x-2"],[1,"flex","flex-col"],["formControlName","contact",1,"space-x-2"],[1,"flex","justify-center","items-center","p-2"],["btn","","matRipple","",3,"click"],["close","","icon","","matRipple","","mat-dialog-close",""],[1,"material-icons"],["failure","",1,"pt-8","relative"],[1,"p-4"]]},template:function(u,M){if(1&u&&t.DNE(0,S,37,7,"div",7)(1,h,6,0,"ng-template",null,0,t.C5r),2&u){const x=t.sdS(2);t.Y8G("ngIf",!M.failure)("ngIfElse",x)}},dependencies:[v.bT,n.BC,n.cb,n.j4,n.JD,b.VT,b._g,C.tx,g.r6],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}[close][_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}"]})}return O})()},7904:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>D});var t=a(467),n=a(4006),f=a(2333),v=a(2185),b=a(5157),C=a(3953),g=a(177),S=a(9417),h=a(3719),y=a(6600),O=a(9434),m=a(3051),E=a(2798),u=a(3881);function M(A,L){if(1&A){const l=C.RV6();C.j41(0,"div",4)(1,"div",5),C.pXf(2,1),C.k0s(),C.j41(3,"div",6),C.pXf(4,2),C.k0s(),C.j41(5,"div",7)(6,"label"),C.EFF(7,"Presets"),C.k0s(),C.j41(8,"div",8)(9,"mat-form-field",9)(10,"mat-select",10),C.mxI("ngModelChange",function(R){C.eBV(l);const F=C.XpG();return C.DH7(F.preset,R)||(F.preset=R),C.Njj(R)}),C.bIt("ngModelChange",function(R){C.eBV(l);const F=C.XpG();return C.Njj(F.setPreset(R))}),C.j41(11,"mat-option",11),C.EFF(12,"None"),C.k0s(),C.j41(13,"mat-option",12),C.EFF(14,"Standing"),C.k0s(),C.j41(15,"mat-option",13),C.EFF(16,"Seated"),C.k0s()()(),C.j41(17,"button",14),C.bIt("click",function(){C.eBV(l);const R=C.XpG();return C.Njj(R.edit_presets=!0)}),C.j41(18,"app-icon"),C.EFF(19,"edit"),C.k0s()()(),C.j41(20,"label"),C.EFF(21,"Current Height"),C.k0s(),C.j41(22,"div",15)(23,"mat-slider",16)(24,"input",17),C.mxI("ngModelChange",function(R){C.eBV(l);const F=C.XpG();return C.DH7(F.height,R)||(F.height=R),C.Njj(R)}),C.bIt("ngModelChange",function(){C.eBV(l);const R=C.XpG();return C.Njj(R.updatePreset(R.height))}),C.k0s()(),C.j41(25,"div",18),C.EFF(26),C.k0s()()(),C.j41(27,"button",19),C.bIt("click",function(){C.eBV(l);const R=C.XpG();return C.Njj(R.setDeskHeight())}),C.EFF(28," Apply Settings "),C.k0s(),C.j41(29,"button",20)(30,"app-icon"),C.EFF(31,"close"),C.k0s()()()}if(2&A){const l=C.XpG();C.R7$(10),C.R50("ngModel",l.preset),C.R7$(13),C.Y8G("displayWith",l.formatLabel),C.R7$(),C.R50("ngModel",l.height),C.R7$(2),C.SpI(" ",l.height.toFixed(1),"cm ")}}function x(A,L){if(1&A){const l=C.RV6();C.j41(0,"desk-height-presets",21),C.bIt("close",function(){C.eBV(l);const R=C.XpG();return C.Njj(R.edit_presets=!1)}),C.k0s()}2&A&&C.Y8G("show_close",!0)}let D=(()=>{class A{constructor(l,$,R,F){this._data=l,this._org=$,this._settings=R,this._dialog_ref=F,this.desk_id=this._data.id,this.edit_presets=!1,this.height=71}ngOnInit(){const l=this._settings.get("desk_sitting_height"),$=this._settings.get("desk_standing_height");!l&&!$&&(this.edit_presets=!0);const R=parseInt(localStorage.getItem("PLACEOS.last_desk_height"),10);this.height=R||l||71,this.height===l?this.preset="sitting":this.height===$&&(this.preset="standing")}updatePreset(l){const $=this._settings.get("desk_sitting_height")||71,R=this._settings.get("desk_standing_height")||102;this.preset=l===$?"sitting":l===R?"standing":null}setPreset(l){switch(console.log("Set preset:",l),l){case"standing":this.height=this._settings.get("desk_standing_height")||102;break;case"sitting":this.height=this._settings.get("desk_sitting_height")||71;break;default:this.height=70}}setDeskHeight(){var l=this;return(0,t.A)(function*(){const $=l._org.binding("desks");if(localStorage.setItem("PLACEOS.last_desk_height",`${l.height}`),!$)return l._dialog_ref.close();yield(0,b.f_4)($,"DeskControl").execute("set_desk_height",[l.desk_id,l.height]).catch(F=>{throw(0,f.UG)("Error setting desk height."+F),F}),(0,f.VX)("Successfully set desk height"),l._dialog_ref.close()})()}formatLabel(l){return`${l.toFixed(1)}cm`}static#e=this.\u0275fac=function($){return new($||A)(C.rXU(n.Vh),C.rXU(v.yb),C.rXU(f.h$),C.rXU(n.CP))};static#t=this.\u0275cmp=C.VBU({type:A,selectors:[["desk-settings-modal"]],decls:3,vars:2,consts:()=>{let l,$;return l=$localize`:ec37a2ac1276a5f69d65d5ba86b2e98c41b201a97032027191807032897:Desk Height`,$=$localize`:de53fc27bc96d3e69d6c7d9b0a19619db7cc10768247461324425873330: Set your desk height for the best experience `,[["desk_height_tooltip",""],l,$,["class","relative p-4 bg-base-100 rounded shadow w-[20rem]",4,"ngIf","ngIfElse"],[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg"],[1,"text-xs","opacity-60","mb-4"],[1,"flex","flex-col","mt-2","mb-4"],[1,"flex","items-center","space-x-2","pb-4"],["appearance","outline",1,"no-subscript","flex-1","w-1/2"],["placeholder","No selected preset",3,"ngModelChange","ngModel"],["value",""],["value","standing"],["value","sitting"],["icon","","matRipple","",1,"rounded","h-12","w-12","bg-secondary","text-secondary-content",3,"click"],[1,"flex","items-center","space-x-2"],["min","60","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],["btn","","matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","right-0"],[3,"close","show_close"]]},template:function($,R){if(1&$&&C.DNE(0,M,32,4,"div",3)(1,x,1,1,"ng-template",null,0,C.C5r),2&$){const F=C.sdS(2);C.Y8G("ngIf",!R.edit_presets)("ngIfElse",F)}},dependencies:[g.bT,S.me,S.BC,S.vS,h.rl,n.tx,y.wT,O.R,m.q,E.VO,y.r6,u.IV,u.OU],encapsulation:2})}return A})()},4854:(At,ue,a)=>{"use strict";a.d(ue,{E:()=>h});var t=a(3953),n=a(2333),f=a(5897),v=a(177),b=a(6600),C=a(4823);const g=()=>[];function S(y,O){if(1&y){const m=t.RV6();t.j41(0,"button",3),t.bIt("click",function(){const u=t.eBV(m).$implicit,M=t.XpG();return t.Njj(M.clicked.emit(u))}),t.nrm(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.j41(5,"div",8),t.EFF(6),t.k0s(),t.nrm(7,"div",9),t.k0s()}if(2&y){const m=O.$implicit,E=t.XpG();t.xc7("grid-column-start",m.position[0]+1)("grid-row-start",m.position[1]+1)("grid-column-end",m.position[0]+(m.size[0]+1))("background-color",E.status(m))("grid-row-end",m.position[1]+(m.size[1]+1)),t.AVh("opacity-60",E.selected&&E.selected!==m.id),t.Y8G("matTooltip",m.name)("disabled",!1===m.bookable),t.R7$(6),t.SpI(" ",m.name," ")}}let h=(()=>{class y{get columns(){let m=1;for(const E of this.bank?.lockers||[]){const u=E.position[0]+E.size[0];u>m&&(m=u)}return m}constructor(m){this._settings=m,this.bank_status={10:"busy",7:"pending"},this.selected="",this.clicked=new t.bkB}status(m){const E=this._settings.get("app.explore.colors")||{},u=this.bank_status[m.id]||"free";return E[`lockers-${u}`]||E[`${u}`]||f.U[`${u}`]}static#e=this.\u0275fac=function(E){return new(E||y)(t.rXU(n.h$))};static#t=this.\u0275cmp=t.VBU({type:y,selectors:[["locker-grid"]],inputs:{bank:"bank",bank_status:"bank_status",selected:"selected"},outputs:{clicked:"clicked"},decls:4,vars:7,consts:[[1,"p-4","text-xl","font-medium"],[1,"flex-1","grid","gap-2","overflow-hidden","max-h-full","h-[75vh]","min-w-[60vw]","p-2"],["matRipple","","class","relative border border-base-200 rounded bg-teal-300 overflow-hidden",3,"opacity-60","grid-column-start","grid-row-start","grid-column-end","background-color","grid-row-end","matTooltip","disabled","click",4,"ngFor","ngForOf"],["matRipple","",1,"relative","border","border-base-200","rounded","bg-teal-300","overflow-hidden",3,"click","matTooltip","disabled"],["handle","",1,"absolute","top-1/2","-translate-y-1/2","left-2","w-1","h-6","bg-neutral","rounded"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-2","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-4","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-6","w-3/5","h-1","bg-neutral","rounded-t"],[1,"absolute","left-1/2","-translate-x-1/2","top-8","text-[0.6rem]","font-medium","text-black/60"],[1,"absolute","inset-0","hover:bg-neutral"]],template:function(E,u){1&E&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.j41(2,"div",1),t.DNE(3,S,8,15,"button",2),t.k0s()),2&E&&(t.R7$(),t.SpI(" ",null==u.bank?null:u.bank.name," "),t.R7$(),t.xc7("grid-template-columns","repeat("+u.columns+", 1fr)")("grid-template-rows","repeat("+(null==u.bank?null:u.bank.height)+", 1fr)"),t.R7$(),t.Y8G("ngForOf",(null==u.bank?null:u.bank.lockers)||t.lJ4(6,g)))},dependencies:[v.Sq,b.r6,C.oV],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.75;background-color:#ccc!important}"]})}return y})()},8796:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>u});var t=a(467),n=a(2333),f=a(5157),v=a(9928),b=a(9714),C=a(4421),g=a(8728),S=a(9090),h=a(3921),y=a(5006),O=a(8712),m=a(8026),E=a(3953);let u=(()=>{class M{setLevel(D){this._level.next(D)}constructor(D){this._org=D,this._level=new v.t(""),this._change=new v.t(0),this.lockers_banks$=(0,b.zV)([this._org.active_building,this._change]).pipe((0,g.p)(([A])=>!!A),(0,S.n)(([A])=>(0,f.WsZ)(A.id,{name:"lockers"}).pipe((0,h.W)(()=>(0,C.of)(new f.Pdm)))),(0,y.T)(A=>(0,n.Bq)(A.map(L=>L.metadata.lockers?.details instanceof Array?L.metadata.lockers?.details.map(l=>({...l,zone:L.zone})):[]))),(0,O.t)(1)),this.lockers$=this.lockers_banks$.pipe((0,y.T)(A=>{const L=[];for(const l of A)L.push(...l.lockers.map($=>({...$,bank_id:l.id,map_id:l.map_id,level_id:l.zone.id})));return L})),this.filtered_lockers$=(0,b.zV)([this._level,this.lockers$]).pipe((0,y.T)(([A,L])=>L.filter(l=>(!A||l.level_id===A)&&l.bookable)))}saveLockers(D){var A=this;return(0,t.A)(function*(){yield(0,f.D58)(A._org.building.id,{name:"lockers",description:"",details:D}),A._change.next(Date.now())})()}static#e=this.\u0275fac=function(A){return new(A||M)(E.KVO(m.y))};static#t=this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},6724:(At,ue,a)=>{"use strict";a.d(ue,{o:()=>E});var t=a(3953),n=a(8030),f=a(2185),v=a(177),b=a(9434),C=a(4918),g=a(5277),S=a(6600);const h=()=>({disable_pan:!0,disable_zoom:!0});function y(u,M){if(1&u&&t.nrm(0,"image-carousel",21),2&u){const x=t.XpG(2);t.Y8G("images",x.space.images)}}function O(u,M){if(1&u){const x=t.RV6();t.qex(0),t.j41(1,"section",5),t.DNE(2,y,1,1,"image-carousel",6),t.j41(3,"button",7),t.bIt("click",function(){t.eBV(x);const A=t.XpG();return t.Njj(A.close.emit())}),t.j41(4,"app-icon"),t.EFF(5,"arrow_back"),t.k0s()(),t.j41(6,"button",8),t.bIt("click",function(){t.eBV(x);const A=t.XpG();return t.Njj(A.toggleFav.emit())}),t.j41(7,"app-icon"),t.EFF(8),t.k0s()()(),t.j41(9,"div",9)(10,"section",10)(11,"h2",11),t.EFF(12),t.k0s()(),t.nrm(13,"hr"),t.j41(14,"section",12)(15,"h2",13),t.pXf(16,1),t.k0s(),t.j41(17,"div",14)(18,"app-icon"),t.EFF(19,"people"),t.k0s(),t.j41(20,"p"),t.pXf(21,2),t.k0s()(),t.j41(22,"div",14)(23,"app-icon"),t.EFF(24,"meeting_room"),t.k0s(),t.j41(25,"p"),t.EFF(26),t.k0s()(),t.j41(27,"div",14)(28,"app-icon"),t.EFF(29,"place"),t.k0s(),t.j41(30,"p"),t.EFF(31),t.k0s()()(),t.nrm(32,"hr"),t.j41(33,"section",15),t.nrm(34,"interactive-map",16),t.k0s()(),t.j41(35,"div",17)(36,"button",18),t.bIt("click",function(){t.eBV(x);const A=t.XpG();return A.active=!A.active,t.Njj(A.activeChange.emit(A.active))}),t.j41(37,"div",19)(38,"app-icon",20),t.EFF(39),t.k0s(),t.j41(40,"p"),t.EFF(41),t.k0s()()()(),t.bVm()}if(2&u){const x=t.XpG();t.R7$(),t.AVh("sm:h-40",null==x.space.images?null:x.space.images.length)("h-64",null==x.space.images?null:x.space.images.length)("sm:h-0",!(null!=x.space.images&&x.space.images.length))("h-12",!(null!=x.space.images&&x.space.images.length))("!bg-transparent",!(null!=x.space.images&&x.space.images.length)),t.R7$(),t.Y8G("ngIf",null==x.space.images?null:x.space.images.length),t.R7$(4),t.AVh("text-info-content",x.fav)("!bg-info",x.fav),t.R7$(2),t.JRh(x.fav?"favorite":"favorite_border"),t.R7$(4),t.SpI(" ",x.space.display_name||x.space.name," "),t.R7$(9),t.uP7(x.space.capacity),t.nnv(21),t.R7$(5),t.SpI(" ",(null==x.level?null:x.level.display_name)||(null==x.level?null:x.level.name)," "),t.R7$(5),t.SpI(" ",(null==x.building?null:x.building.address)||(null==x.building?null:x.building.display_name)||(null==x.building?null:x.building.name)," "),t.R7$(3),t.Y8G("src",x.map_url)("focus",x.space.map_id)("features",x.features)("options",t.lJ4(28,h)),t.R7$(2),t.AVh("inverse",x.active),t.R7$(3),t.JRh(x.active?"remove":"add"),t.R7$(2),t.SpI(" ",x.active?"Remove this room":"Add this room"," ")}}function m(u,M){1&u&&(t.j41(0,"div",22)(1,"p",23),t.pXf(2,3),t.k0s()())}let E=(()=>{class u{get level(){return this._org.levelWithID([this.space?.zone.id])||this.space?.zone}get building(){return this._org.buildings.find(x=>this.space?.zone.id===x.id||this.space?.zone.parent_id===x.id)}constructor(x){this._org=x,this.fav=!1,this.active=!1,this.activeChange=new t.bkB,this.close=new t.bkB,this.toggleFav=new t.bkB,this.map_url="",this.features=[]}ngOnChanges(x){x.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:n.VT}]}static#e=this.\u0275fac=function(D){return new(D||u)(t.rXU(f.yb))};static#t=this.\u0275cmp=t.VBU({type:u,selectors:[["parking-space-details"]],inputs:{space:"space",fav:"fav",active:"active"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[t.OA$],decls:3,vars:2,consts:()=>{let x,D,A;return x=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,D=$localize`:2fe5caca246424da5e7fcee12a1fe341335e12862731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,A=$localize`:2d39d1ca65d735d7f800e458ce54af6a256523957182911930527299079: Select a space to view it's details `,[["empty_state",""],x,D,A,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-base-200"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(D,A){if(1&D&&t.DNE(0,O,42,29,"ng-container",4)(1,m,3,0,"ng-template",null,0,t.C5r),2&D){const L=t.sdS(2);t.Y8G("ngIf",A.space)("ngIfElse",L)}},dependencies:[v.bT,b.R,C.S,g.H,S.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return u})()},9138:(At,ue,a)=>{"use strict";a.d(ue,{X:()=>u});var t=a(467),n=a(3953),f=a(2333),v=a(2185),b=a(9493),C=a(9145),g=a(8379),S=a(6665),h=a(177),y=a(9434),O=a(6600);function m(M,x){if(1&M&&(n.j41(0,"div",15),n.EFF(1),n.k0s()),2&M){const D=n.XpG();n.R7$(),n.SpI(" ",D.location," ")}}function E(M,x){if(1&M){const D=n.RV6();n.j41(0,"div",16)(1,"p"),n.EFF(2),n.k0s(),n.j41(3,"button",17),n.bIt("click",function(){const L=n.eBV(D).$implicit,l=n.XpG();return n.Njj(l.removeFeature(L))}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&M){const D=x.$implicit;n.R7$(2),n.JRh(D)}}let u=(()=>{class M extends f.Tv{get start(){return this._event_form.form.value.date}get end(){const{date:D,duration:A}=this._event_form.form.value;return D+60*A*1e3}get time_format(){return this._settings.time_format}constructor(D,A,L,l){super(),this._bsheet=D,this._event_form=A,this._org=L,this._settings=l,this.view="list",this.viewChange=new n.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(C.R)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_id:D})=>this._updateLocation([D])))}removeFeature(D){var A=this;return(0,t.A)(function*(){const L=yield A._event_form.options.pipe((0,b.s)(1)).toPromise();A._event_form.setOptions({...L,features:(L.features||[]).filter(l=>l!==D)})})()}_updateLocation(D=[]){const L=this._org.levelWithID(D)||this._org.building;this.location=L?.display_name||L?.name||""}static#e=this.\u0275fac=function(A){return new(A||M)(n.rXU(S.VK),n.rXU(g.n),n.rXU(v.yb),n.rXU(f.h$))};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["parking-space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[n.Vt3],decls:22,vars:23,consts:()=>{let D,A,L,l;return D=$localize`:19eaa5cd51d70d9ea957eecac78cfd811e9b93d85208858215712453646: Filters `,A=$localize`:992a9a6a193a56c5b8846dc972c5e1977ee5f1aa8553228906889869186: Map `,L=$localize`:4b286e90831dd637c5cd3eb20544664ee71126697787942140742011951: List `,l=$localize`:e1bcafb95323d9492bfdfa190a129131e6255cdb7211304359187007121: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[D,A,L,l,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["matRipple","","filters","",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],["icon","","matRipple","",1,"-mr-4",3,"click"]]},template:function(A,L){if(1&A&&(n.j41(0,"section",4)(1,"button",5),n.bIt("click",function(){return L.editFilters()}),n.pXf(2,0),n.k0s(),n.j41(3,"div",6)(4,"button",7),n.bIt("click",function(){return L.view="map",L.viewChange.emit(L.view)}),n.pXf(5,1),n.k0s(),n.j41(6,"button",8),n.bIt("click",function(){return L.view="list",L.viewChange.emit(L.view)}),n.pXf(7,2),n.k0s()()(),n.j41(8,"section",9),n.DNE(9,m,2,1,"div",10),n.j41(10,"div",11),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"div",12),n.EFF(14),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s(),n.j41(17,"div",13),n.pXf(18,3),n.nI1(19,"async"),n.k0s(),n.DNE(20,E,6,1,"div",14),n.nI1(21,"async"),n.k0s()),2&A){let l,$;n.R7$(4),n.AVh("inverse","map"!==L.view),n.R7$(2),n.AVh("inverse","list"!==L.view),n.R7$(3),n.Y8G("ngIf",L.location),n.R7$(2),n.SpI(" ",n.i5U(12,10,L.start,"mediumDate")," "),n.R7$(3),n.Lme(" ",n.i5U(15,13,L.start,L.time_format)," \u2014 ",n.i5U(16,16,L.end,L.time_format)," "),n.R7$(5),n.uP7((null==(l=n.bMT(19,19,L.options))?null:l.capcaity)||2),n.nnv(18),n.R7$(),n.Y8G("ngForOf",null==($=n.bMT(21,21,L.options))?null:$.features)}},dependencies:[h.Sq,h.bT,y.R,O.r6,h.Jj,h.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return M})()},9145:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>W});var t=a(467),n=a(2333),f=a(2185),v=a(5006),b=a(9493),C=a(8379),g=a(3953),S=a(6665),h=a(177),y=a(9417),O=a(3719),m=a(2765),E=a(6600),u=a(9608),M=a(3476),x=a(1413),D=a(9434),A=a(2798);const L=()=>({standalone:!0});function l(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"button",32),g.bIt("click",function(){g.eBV(ae);const Me=g.XpG();return g.Njj(Me.close())}),g.j41(1,"app-icon"),g.EFF(2,"keyboard_arrow_left"),g.k0s()()}}function $(ne,fe){if(1&ne&&(g.j41(0,"mat-option",37),g.EFF(1),g.k0s()),2&ne){const ae=fe.$implicit;g.Y8G("value",ae),g.R7$(),g.SpI(" ",ae.display_name||ae.name," ")}}function R(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"mat-form-field",34)(1,"mat-select",35),g.nI1(2,"async"),g.nI1(3,"async"),g.nI1(4,"async"),g.bIt("ngModelChange",function(Me){g.eBV(ae);const Ve=g.XpG(2);return g.Njj(Ve.setBuilding(Me))}),g.DNE(5,$,2,2,"mat-option",36),g.nI1(6,"async"),g.k0s()()}if(2&ne){let ae;const Ae=g.XpG(2);g.R7$(),g.Y8G("ngModel",g.bMT(2,4,Ae.building))("ngModelOptions",g.lJ4(12,L))("placeholder",(null==(ae=g.bMT(3,6,Ae.building))?null:ae.display_name)||(null==(ae=g.bMT(4,8,Ae.building))?null:ae.name)),g.R7$(4),g.Y8G("ngForOf",g.bMT(6,10,Ae.buildings))}}function F(ne,fe){if(1&ne&&(g.j41(0,"mat-option",37),g.EFF(1),g.k0s()),2&ne){const ae=fe.$implicit;g.Y8G("value",ae.id),g.R7$(),g.SpI(" ",ae.display_name||ae.name," ")}}function P(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"mat-form-field",34)(1,"mat-select",38),g.nI1(2,"async"),g.bIt("ngModelChange",function(Me){g.eBV(ae);const Ve=g.XpG(2);return g.Njj(Ve.setOptions({zone_id:Me}))}),g.DNE(3,F,2,2,"mat-option",36),g.nI1(4,"async"),g.k0s()()}if(2&ne){let ae;const Ae=g.XpG(2);g.R7$(),g.Y8G("ngModel",null==(ae=g.bMT(2,3,Ae.options))?null:ae.zone_id)("ngModelOptions",g.lJ4(7,L)),g.R7$(2),g.Y8G("ngForOf",g.bMT(4,5,Ae.levels))}}function k(ne,fe){if(1&ne&&(g.qex(0),g.DNE(1,R,7,13,"mat-form-field",33),g.nI1(2,"async"),g.DNE(3,P,5,8,"mat-form-field",33),g.bVm()),2&ne){let ae;const Ae=g.XpG();g.R7$(),g.Y8G("ngIf",(null==(ae=g.bMT(2,2,Ae.buildings))?null:ae.length)>1),g.R7$(2),g.Y8G("ngIf",!Ae.hide_levels)}}function V(ne,fe){if(1&ne&&(g.j41(0,"mat-option",37),g.EFF(1),g.k0s()),2&ne){const ae=fe.$implicit;g.Y8G("value",ae),g.R7$(),g.SpI(" ",ae.display_name||ae.name," ")}}function K(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"mat-form-field",34)(1,"mat-select",39),g.bIt("ngModelChange",function(Me){g.eBV(ae);const Ve=g.XpG(2);return g.Njj(Ve.setRegion(Me))}),g.DNE(2,V,2,2,"mat-option",36),g.nI1(3,"async"),g.k0s()()}if(2&ne){const ae=g.XpG(2);g.R7$(),g.Y8G("ngModel",ae.region)("ngModelOptions",g.lJ4(5,L)),g.R7$(),g.Y8G("ngForOf",g.bMT(3,3,ae.regions))}}function X(ne,fe){if(1&ne&&(g.j41(0,"mat-option",37),g.EFF(1),g.k0s()),2&ne){const ae=fe.$implicit;g.Y8G("value",ae.id),g.R7$(),g.SpI(" ",ae.display_name||ae.name," ")}}function Q(ne,fe){if(1&ne&&(g.j41(0,"mat-optgroup",42),g.DNE(1,X,2,2,"mat-option",36),g.k0s()),2&ne){const ae=fe.$implicit;g.Y8G("label",ae.name),g.R7$(),g.Y8G("ngForOf",ae.levels)}}function de(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"mat-form-field",34)(1,"mat-select",40),g.nI1(2,"async"),g.bIt("ngModelChange",function(Me){g.eBV(ae);const Ve=g.XpG(2);return g.Njj(Ve.setOptions({zone_id:Me}))}),g.j41(3,"mat-option",37),g.EFF(4,"Any Level"),g.k0s(),g.DNE(5,Q,2,2,"mat-optgroup",41),g.nI1(6,"async"),g.k0s()()}if(2&ne){let ae;const Ae=g.XpG(2);g.R7$(),g.Y8G("ngModel",null==(ae=g.bMT(2,3,Ae.options))?null:ae.zone_id)("ngModelOptions",g.lJ4(7,L)),g.R7$(4),g.Y8G("ngForOf",g.bMT(6,5,Ae.region_levels))}}function se(ne,fe){if(1&ne&&(g.qex(0),g.DNE(1,K,4,6,"mat-form-field",33),g.nI1(2,"async"),g.DNE(3,de,7,8,"mat-form-field",33),g.bVm()),2&ne){let ae;const Ae=g.XpG();g.R7$(),g.Y8G("ngIf",null==(ae=g.bMT(2,2,Ae.regions))?null:ae.length),g.R7$(2),g.Y8G("ngIf",!Ae.hide_levels)}}function ce(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"div",43)(1,"div",44)(2,"label",45),g.PLo(3,7),g.nrm(4,"span"),g.YFu(),g.k0s(),g.j41(5,"a-time-field",46),g.bIt("ngModelChange",function(Me){g.eBV(ae);const Ve=g.XpG();return g.Njj(Ve.form.patchValue({date:Me}))}),g.k0s()(),g.j41(6,"div",44)(7,"label",47),g.PLo(8,8),g.nrm(9,"span"),g.YFu(),g.k0s(),g.nrm(10,"a-duration-field",48),g.k0s()()}if(2&ne){const ae=g.XpG();g.R7$(5),g.Y8G("ngModel",ae.form.value.date)("ngModelOptions",g.lJ4(6,L))("use_24hr",ae.use_24hr),g.R7$(5),g.Y8G("time",null==ae.form||null==ae.form.value?null:ae.form.value.date)("max",ae.max_duration)("use_24hr",ae.use_24hr)}}function z(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"div",27)(1,"div",51),g.EFF(2),g.k0s(),g.j41(3,"mat-checkbox",52),g.nI1(4,"async"),g.bIt("ngModelChange",function(Me){const Ve=g.eBV(ae).$implicit,We=g.XpG(2);return g.Njj(We.toggleFeature(Ve,Me))}),g.k0s()()}if(2&ne){let ae;const Ae=fe.$implicit,Me=g.XpG(2);g.R7$(2),g.JRh(Ae),g.R7$(),g.Y8G("ngModel",null==(ae=g.bMT(4,3,Me.options))||null==ae.features?null:ae.features.includes(Ae))("ngModelOptions",g.lJ4(5,L))}}function w(ne,fe){if(1&ne&&(g.j41(0,"section",49)(1,"h2",18),g.pXf(2,9),g.k0s(),g.DNE(3,z,5,6,"div",50),g.nI1(4,"async"),g.k0s()),2&ne){const ae=g.XpG();g.R7$(3),g.Y8G("ngForOf",g.bMT(4,1,ae.features))}}function j(ne,fe){if(1&ne){const ae=g.RV6();g.j41(0,"div",53)(1,"button",54),g.bIt("click",function(){g.eBV(ae);const Me=g.XpG();return g.Njj(Me.close())}),g.pXf(2,10),g.k0s()()}}let W=(()=>{class ne{setBuilding(ae){this._org.building=ae}get bld(){return this._org.building}get form(){return this._form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return!!this._settings.get("app.use_region")}constructor(ae,Ae,Me,Ve){this._bsheet_ref=ae,this._settings=Ae,this._form=Me,this._org=Ve,this.can_close=!1,this.options=this._form.options,this.levels=this._org.active_levels.pipe((0,v.T)(We=>{for(const lt of We){const nt=this._org.buildings.find($e=>$e.id===lt.parent_id);lt.bld=nt?.display_name||nt?.name||""}return We.filter(lt=>lt.tags.includes("parking"))})),this.buildings=this._org.active_buildings,this.regions=this._org.region_list,this.region_levels=this._org.active_region.pipe((0,v.T)(We=>this._org.buildings.filter($e=>!We||$e.parent_id===We.id).map($e=>({id:$e.id,name:$e.display_name||$e.name,levels:this._org.levels.filter(Ie=>Ie.parent_id===$e.id&&Ie.tags.includes("parking"))})).filter($e=>$e.levels.length))),this.features=this._form.features,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=We=>this._form.setOptions(We),this.can_close=!!this._bsheet_ref}toggleFeature(ae,Ae){var Me=this;return(0,t.A)(function*(){const{features:Ve}=yield Me.options.pipe((0,b.s)(1)).toPromise(),We=(Ve||[]).filter(lt=>ae!==lt);Ae&&We.push(ae),Me.setOptions({features:We})})()}static#e=this.\u0275fac=function(Ae){return new(Ae||ne)(g.rXU(S.eN,8),g.rXU(n.h$),g.rXU(C.n),g.rXU(f.yb))};static#t=this.\u0275cmp=g.VBU({type:ne,selectors:[["parking-space-filters"]],inputs:{hide_levels:"hide_levels"},decls:33,vars:14,consts:()=>{let ae,Ae,Me,Ve,We,lt,nt,$e,Ie,me,De,ke,Qe,Ne;return ae=$localize`:36173168a4643aa78634e9242a63f3a40862f1667173310086383878456:Space Filters`,Ae=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,Me=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,Ve=$localize`:04cfb5fd033651743bc4b9408bd52ba4ee8940703158758063619980932:Date${"\ufffd#18\ufffd"}:START_TAG_SPAN:*${"\ufffd/#18\ufffd"}:CLOSE_TAG_SPAN:`,We=$localize`:e06c2195d60fdee7b259bd3ff16eb3d594c42b2b608708688936992021: Date and time must be in the future `,lt=$localize`:62ab0c2bf8d16ce7baf2c8b1da2c561d995222564158925728608139729:Favourites`,nt=$localize`:ac378c0b437746af89a84b4909ab5b83c5ff55a3165958440274527719: Only show favourite spaces `,$e=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,Ie=$localize`:130845b58eba8e50c98f3fba117a0168cdba4f318264413387051126615:Any Region`,me=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,De=$localize`:34a7595cdc15925514038224946986bfd90dc0ed3039786638368843634:Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,ke=$localize`:85d5c3a89bab9a7475a7db095089e161586cb7a15960185837188220843:End Time${"\ufffd#9\ufffd"}:START_TAG_SPAN:*${"\ufffd/#9\ufffd"}:CLOSE_TAG_SPAN:`,Qe=$localize`:bf10c600bd861cfd0a23f4759562ee0ae9dbe19f1551920764795208868:Facilities`,Ne=$localize`:c17e2cc448524a39eb83b2937cea3235a2e8bf372296888311792137027: Apply Filters `,[ae,Ae,Me,Ve,We,lt,nt,De,ke,Qe,Ne,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","close","",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],[1,"flex-1","min-w-[256px]","flex","flex-col"],["for","location"],[4,"ngIf"],[1,"flex-1","min-w-[256px]"],["for","date"],["name","date","formControlName","date"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","close","",3,"click"],["appearance","outline","class","w-full",4,"ngIf"],["appearance","outline",1,"w-full"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","location","placeholder",$e,3,"ngModelChange","ngModel","ngModelOptions"],["name","region","placeholder",Ie,3,"ngModelChange","ngModel","ngModelOptions"],["name","location","placeholder",me,3,"ngModelChange","ngModel","ngModelOptions"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["for","end-time"],["name","end-time","formControlName","duration",3,"time","max","use_24hr"],["features","",1,"space-y-2"],["class","flex items-center",4,"ngFor","ngForOf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","close","",1,"w-full",3,"click"]]},template:function(Ae,Me){if(1&Ae&&(g.j41(0,"div",11)(1,"div",12),g.DNE(2,l,3,0,"button",13),g.k0s(),g.j41(3,"h3",14),g.pXf(4,0),g.k0s(),g.nrm(5,"div",15),g.k0s(),g.j41(6,"form",16)(7,"section",17)(8,"h2",18),g.pXf(9,1),g.k0s(),g.j41(10,"div",19)(11,"label",20),g.pXf(12,2),g.k0s(),g.DNE(13,k,4,4,"ng-container",21)(14,se,4,4,"ng-container",21),g.k0s(),g.j41(15,"div",22)(16,"label",23),g.PLo(17,3),g.nrm(18,"span"),g.YFu(),g.k0s(),g.j41(19,"a-date-field",24),g.pXf(20,4),g.k0s()(),g.DNE(21,ce,11,7,"div",25),g.k0s(),g.j41(22,"section",26)(23,"h2",18),g.pXf(24,5),g.k0s(),g.j41(25,"div",27)(26,"div",28),g.pXf(27,6),g.k0s(),g.j41(28,"mat-checkbox",29),g.nI1(29,"async"),g.bIt("ngModelChange",function(We){return Me.setOptions({show_fav:We})}),g.k0s()()(),g.DNE(30,w,5,3,"section",30),g.nI1(31,"async"),g.k0s(),g.DNE(32,j,3,0,"div",31)),2&Ae){let Ve,We;g.R7$(2),g.Y8G("ngIf",Me.can_close),g.R7$(4),g.Y8G("formGroup",Me.form),g.R7$(7),g.Y8G("ngIf",!Me.use_region),g.R7$(),g.Y8G("ngIf",Me.use_region),g.R7$(7),g.Y8G("ngIf",!1),g.R7$(7),g.Y8G("ngModel",null==(Ve=g.bMT(29,9,Me.options))?null:Ve.show_fav)("ngModelOptions",g.lJ4(13,L)),g.R7$(2),g.Y8G("ngIf",null==(We=g.bMT(31,11,Me.features))?null:We.length),g.R7$(2),g.Y8G("ngIf",Me.can_close)}},dependencies:[h.Sq,h.bT,y.qT,y.BC,y.cb,y.vS,y.j4,y.JD,O.rl,m.So,E.wT,E.D7,u.G,M.y,x.t,D.R,A.VO,E.r6,h.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return ne})()},258:(At,ue,a)=>{"use strict";a.d(ue,{w:()=>A});var t=a(3953),n=a(9714),f=a(5006),v=a(8379),b=a(177),C=a(9183),g=a(9434),S=a(3208),h=a(6600);function y(L,l){1&L&&(t.j41(0,"div",24)(1,"app-icon"),t.EFF(2,"done"),t.k0s()())}function O(L,l){if(1&L&&t.nrm(0,"img",25),2&L){const $=t.XpG().$implicit;t.Y8G("source",$.images[0])}}function m(L,l){1&L&&t.nrm(0,"img",26)}function E(L,l){if(1&L){const $=t.RV6();t.j41(0,"li",14)(1,"button",15),t.bIt("click",function(){const F=t.eBV($).$implicit,P=t.XpG(3);return t.Njj(P.selectSpace(F))}),t.j41(2,"div",16),t.DNE(3,y,3,0,"div",17)(4,O,1,1,"img",18)(5,m,1,0,"ng-template",null,2,t.C5r),t.k0s(),t.j41(7,"div",19)(8,"div",20),t.EFF(9),t.k0s(),t.j41(10,"div",21)(11,"app-icon",22),t.EFF(12,"place"),t.k0s(),t.j41(13,"p"),t.EFF(14),t.k0s()(),t.j41(15,"div",21)(16,"app-icon",22),t.EFF(17,"people"),t.k0s(),t.j41(18,"p"),t.pXf(19,5),t.k0s()()()(),t.j41(20,"button",23),t.bIt("click",function(){const F=t.eBV($).$implicit,P=t.XpG(3);return t.Njj(P.toggleFav.emit(F))}),t.j41(21,"app-icon"),t.EFF(22),t.k0s()()()}if(2&L){const $=l.$implicit,R=t.sdS(6),F=t.XpG(3);t.AVh("!border-info",F.active===$.id),t.R7$(3),t.Y8G("ngIf",F.selected.includes($.id)),t.R7$(),t.Y8G("ngIf",null==$.images?null:$.images.length)("ngIfElse",R),t.R7$(5),t.SpI(" ",$.name||"Meeting Space"," "),t.R7$(5),t.SpI(" ",$.location||(null==$.level?null:$.level.display_name)||(null==$.level?null:$.level.name)||(null==$.zone?null:$.zone.display_name)||(null==$.zone?null:$.zone.name)," "),t.R7$(5),t.uP7($.capacity<1?2:$.capacity),t.nnv(19),t.R7$(),t.AVh("text-info",F.isFavourite($.id)),t.R7$(2),t.JRh(F.isFavourite($.id)?"favorite":"favorite_border")}}function u(L,l){if(1&L&&(t.j41(0,"ul",12),t.DNE(1,E,23,11,"li",13),t.nI1(2,"async"),t.k0s()),2&L){const $=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,$.assets))}}function M(L,l){if(1&L&&(t.qex(0),t.DNE(1,u,3,3,"ul",11),t.nI1(2,"async"),t.bVm()),2&L){let $;const R=t.XpG(),F=t.sdS(8);t.R7$(),t.Y8G("ngIf",null==($=t.bMT(2,2,R.assets))?null:$.length)("ngIfElse",F)}}function x(L,l){1&L&&(t.j41(0,"div",27)(1,"p",28),t.pXf(2,6),t.k0s()())}function D(L,l){1&L&&(t.j41(0,"div",29),t.nrm(1,"mat-spinner",30),t.j41(2,"p",31),t.pXf(3,7),t.k0s()()),2&L&&(t.R7$(),t.Y8G("diameter",32))}let A=(()=>{class L{constructor($){this._form=$,this.active="",this.selected="",this.favorites=[],this.onSelect=new t.bkB,this.toggleFav=new t.bkB,this.assets=(0,n.zV)([this._form.options,this._form.available_resources]).pipe((0,f.T)(([{show_fav:R},F])=>F.filter(P=>!R||this.isFavourite(P.id)))),this.loading=this._form.loading}isFavourite($){return this.favorites.includes($)}selectSpace($){this.onSelect.emit($)}static#e=this.\u0275fac=function(R){return new(R||L)(t.rXU(v.n))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["parking-space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let $,R,F,P,k;return $=$localize`:80ed5b776a26a78099e230e0e89d96c33ba44e245968132631442328843:Results`,R=$localize`:dd662afda8b27e3c6818b705321ddcc36bd571c04264834071624535187: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,F=$localize`:08719ea79f574b595da7d187fda2fa8c491b5de74552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,P=$localize`:027c29534f5dc45741b226edfebb3f7f578384b03831747985282777621: No available spaces for selected time and/or filters `,k=$localize`:8dad32dda6491a1051df9156e98031c0e634b413126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["placeholder",""],$,R,F,P,k,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","select","",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/car-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(R,F){if(1&R&&(t.j41(0,"h3",8),t.pXf(1,3),t.k0s(),t.j41(2,"p",9),t.pXf(3,4),t.nI1(4,"async"),t.k0s(),t.DNE(5,M,3,4,"ng-container",10),t.nI1(6,"async"),t.DNE(7,x,3,0,"ng-template",null,0,t.C5r)(9,D,4,1,"ng-template",null,1,t.C5r)),2&R){let P;const k=t.sdS(10);t.R7$(4),t.uP7((null==(P=t.bMT(4,3,F.assets))?null:P.length)||0),t.nnv(3),t.R7$(),t.Y8G("ngIf",!t.bMT(6,5,F.loading))("ngIfElse",k)}},dependencies:[b.Sq,b.bT,C.LG,g.R,S.U,h.r6,b.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return L})()},8559:(At,ue,a)=>{"use strict";a.d(ue,{G:()=>g});var t=a(8030),n=a(3953),f=a(177),v=a(9434);function b(S,h){1&S&&n.nrm(0,"div",16)}function C(S,h){1&S&&(n.j41(0,"app-icon",17),n.EFF(1," done "),n.k0s())}let g=(()=>{class S{get selected(){return!0===this._data.selected}constructor(y){this._data=y}static#e=this.\u0275fac=function(O){return new(O||S)(n.rXU(t.Nw))};static#t=this.\u0275cmp=n.VBU({type:S,selectors:[["parking-space-location-pin"]],decls:17,vars:2,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","66","height","80","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","fill","#309251","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(O,m){1&O&&(n.j41(0,"div",0),n.qSk(),n.j41(1,"svg",1)(2,"g",2),n.nrm(3,"path",3),n.k0s(),n.j41(4,"defs")(5,"filter",4),n.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),n.k0s()()(),n.joV(),n.j41(14,"div",13),n.DNE(15,b,1,0,"div",14)(16,C,2,0,"app-icon",15),n.k0s()()),2&O&&(n.R7$(15),n.Y8G("ngIf",!m.selected),n.R7$(),n.Y8G("ngIf",m.selected))},dependencies:[f.bT,v.R],encapsulation:2})}return S})()},9615:(At,ue,a)=>{"use strict";a.d(ue,{S:()=>V});var t=a(3953),n=a(2333),f=a(6266),E=(a(6727),a(1416),a(1761),a(7758),a(4035),a(1765),a(711),a(5713),a(7535),a(5006)),u=a(3020),M=a(8559),x=a(9420),D=a(177),A=a(9417),L=a(3719),l=a(6600),$=a(4918),R=a(2798);const F=()=>({controls:!0});function P(K,X){if(1&K){const Q=t.RV6();t.qex(0),t.j41(1,"interactive-map",5),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.mxI("zoomChange",function(se){t.eBV(Q);const ce=t.XpG();return t.DH7(ce.zoom,se)||(ce.zoom=se),t.Njj(se)})("centerChange",function(se){t.eBV(Q);const ce=t.XpG();return t.DH7(ce.center,se)||(ce.center=se),t.Njj(se)}),t.k0s(),t.bVm()}if(2&K){const Q=t.XpG();t.R7$(),t.Y8G("src",Q.map_url),t.R50("zoom",Q.zoom)("center",Q.center),t.Y8G("styles",t.bMT(2,7,Q.styles))("features",t.bMT(3,9,Q.features))("actions",t.bMT(4,11,Q.actions))("options",t.lJ4(13,F))}}function k(K,X){if(1&K&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&K){const Q=X.$implicit;t.Y8G("value",Q),t.R7$(),t.SpI(" ",Q.display_name||Q.name," ")}}let V=(()=>{class K extends n.Tv{get map_url(){return this.level?.map_id||""}constructor(Q,de){super(),this._event_form=Q,this._maps_people=de,this.selected=[],this.is_displayed=!1,this.onSelect=new t.bkB,this.zoom=1,this.center={x:.5,y:.5},this._seletedSpace=se=>()=>this.onSelect.emit(se),this.level=null,this.levels=this._event_form.available_spaces.pipe((0,E.T)(se=>(0,n.Am)(se.map(({level:ce})=>ce)))),this.features=this._event_form.available_spaces.pipe((0,u.B)(1e3),(0,E.T)(se=>se.map(ce=>({location:ce.map_id,content:M.G,data:{...ce,selected:this.selected.includes(ce.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,E.T)(se=>se.map(ce=>({id:ce.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(ce)}))))}ngOnInit(){this.subscription("spaces",this._event_form.available_spaces.subscribe(Q=>{!this.level&&Q.length&&(this.level=Q[0].level)}))}setLevel(Q){this.level=Q,this._maps_people.setCustomZone(Q.parent_id)}setZoom(Q){this.zoom=Math.max(.5,Math.min(10,Q))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(de){return new(de||K)(t.rXU(f.W),t.rXU(x._))};static#t=this.\u0275cmp=t.VBU({type:K,selectors:[["parking-space-map"]],inputs:{selected:"selected",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[t.Vt3],decls:6,vars:5,consts:[[4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-base-100","p-2","border-b","border-base-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],[3,"value"]],template:function(de,se){1&de&&(t.DNE(0,P,5,14,"ng-container",0),t.j41(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),t.mxI("ngModelChange",function(z){return t.DH7(se.level,z)||(se.level=z),z}),t.bIt("ngModelChange",function(z){return se.setLevel(z)}),t.DNE(4,k,2,2,"mat-option",4),t.nI1(5,"async"),t.k0s()()()),2&de&&(t.Y8G("ngIf",se.is_displayed),t.R7$(3),t.R50("ngModel",se.level),t.R7$(),t.Y8G("ngForOf",t.bMT(5,3,se.levels)))},dependencies:[D.Sq,D.bT,A.BC,A.vS,L.rl,l.wT,$.S,R.VO,D.Jj],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})}return K})()},7642:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>D,Z:()=>x});var t=a(4006),n=a(2333),f=a(8379),v=a(3953),b=a(177),C=a(9434),g=a(6600),S=a(9145),h=a(9138),y=a(258),O=a(9615),m=a(6724);function E(A,L){if(1&A){const l=v.RV6();v.j41(0,"parking-space-list",26),v.bIt("toggleFav",function(R){v.eBV(l);const F=v.XpG();return v.Njj(F.toggleFavourite(R))})("onSelect",function(R){v.eBV(l);const F=v.XpG();return v.Njj(F.displayed=R)}),v.k0s()}if(2&A){const l=v.XpG();v.Y8G("active",null==l.displayed?null:l.displayed.id)("selected",l.selected_ids)("favorites",l.favorites)}}function u(A,L){if(1&A){const l=v.RV6();v.j41(0,"button",27),v.bIt("click",function(){v.eBV(l);const R=v.XpG();return v.Njj(R.displayed=null)}),v.pXf(1,5),v.k0s()}}function M(A,L){if(1&A){const l=v.RV6();v.j41(0,"parking-space-map",28),v.bIt("onSelect",function(R){v.eBV(l);const F=v.XpG();return v.Njj(F.displayed=R)}),v.k0s()}if(2&A){const l=v.XpG();v.Y8G("selected",l.selected_ids)("is_displayed",!!l.displayed)}}const x="favourite_parking_spaces";let D=(()=>{class A{get selected_ids(){return this.selected.map(l=>l.id).join(",")}get favorites(){return this._settings.get(x)||[]}constructor(l,$,R,F){this._dialog_ref=l,this._settings=$,this._event_form=R,this._data=F,this.selected=[],this.view="list",this.selected=[...F.spaces||[]],this._event_form.setOptions(F.options)}isSelected(l){return l&&this.selected_ids.includes(l)}setSelected(l,$){const R=this.selected.filter(F=>F.id!==l.id);$&&R.push(l),this.selected=R,!this._data.options.group&&$&&this._dialog_ref.close([l])}toggleFavourite(l){const $=this.favorites;$.includes(l.id)?this._settings.saveUserSetting(x,$.filter(F=>F!==l.id)):this._settings.saveUserSetting(x,[...$,l.id])}static#e=this.\u0275fac=function($){return new($||A)(v.rXU(t.CP),v.rXU(n.h$),v.rXU(f.n),v.rXU(t.Vh))};static#t=this.\u0275cmp=v.VBU({type:A,selectors:[["parking-space-select-modal"]],decls:34,vars:22,consts:()=>{let l,$,R,F,P;return l=$localize`:8db1ccf77dfb75785bcf8e9090ad65ea6ab698846275162452894389177:Find Parking Space`,$=$localize`:30d3439b0e0095fe69503245f3bd7a2e9498be7c8443571736703532556: View List `,R=$localize`:18843b85d1a4f17fefafd07bc5cde636dca44295819716823718458903:Back to form`,F=$localize`:f5e618f8255889ca7743db771c50b6181b8eb3627685760017883569970: ${"\ufffd0\ufffd"}:INTERPOLATION: bay(s) added `,P=$localize`:ccda1d41ca79703a85a3a598c1d97e040a32b766874721418273731876: Back `,[["map_view",""],l,$,R,F,P,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-base-100","block",3,"activeChange","toggleFav","close","space","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","return","",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed"]]},template:function($,R){if(1&$){const F=v.RV6();v.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),v.EFF(4,"close"),v.k0s()(),v.j41(5,"h3"),v.pXf(6,1),v.k0s()(),v.j41(7,"main",9),v.nrm(8,"parking-space-filters",10),v.j41(9,"div",11)(10,"parking-space-filters-display",12),v.mxI("viewChange",function(k){return v.eBV(F),v.DH7(R.view,k)||(R.view=k),v.Njj(k)}),v.k0s(),v.DNE(11,E,1,3,"parking-space-list",13),v.k0s(),v.j41(12,"parking-space-details",14),v.bIt("activeChange",function(k){return v.eBV(F),v.Njj(R.setSelected(R.displayed,k))})("toggleFav",function(){return v.eBV(F),v.Njj(R.toggleFavourite(R.displayed))})("close",function(){return v.eBV(F),v.Njj(R.displayed=null)}),v.k0s()(),v.j41(13,"footer",15),v.DNE(14,u,2,0,"button",16),v.j41(15,"button",17),v.pXf(16,2),v.k0s()(),v.j41(17,"footer",18)(18,"button",19)(19,"div",20)(20,"app-icon",21),v.EFF(21,"arrow_back"),v.k0s(),v.j41(22,"div",22),v.pXf(23,3),v.k0s()()(),v.j41(24,"p",23),v.pXf(25,4),v.k0s(),v.j41(26,"button",24),v.bIt("click",function(){return v.eBV(F),v.Njj(R.setSelected(R.displayed,!R.isSelected(null==R.displayed?null:R.displayed.id)))}),v.j41(27,"div",20)(28,"app-icon",21),v.EFF(29),v.k0s(),v.j41(30,"div",25),v.EFF(31),v.k0s()()()()(),v.DNE(32,M,1,2,"ng-template",null,0,v.C5r)}if(2&$){const F=v.sdS(33);v.R7$(8),v.Y8G("hide_levels","list"!==R.view),v.R7$(2),v.R50("view",R.view),v.R7$(),v.Y8G("ngIf","list"===R.view)("ngIfElse",F),v.R7$(),v.AVh("hidden",!R.displayed)("inset-0",R.displayed),v.Y8G("space",R.displayed)("active",R.selected_ids.includes(null==R.displayed?null:R.displayed.id))("fav",R.displayed&&R.favorites.includes(null==R.displayed?null:R.displayed.id)),v.R7$(2),v.Y8G("ngIf",R.displayed),v.R7$(),v.AVh("mb-2",R.displayed),v.Y8G("mat-dialog-close",R.selected),v.R7$(3),v.Y8G("mat-dialog-close",R.selected),v.R7$(7),v.uP7(R.selected.length),v.nnv(25),v.R7$(),v.AVh("inverse",R.isSelected(null==R.displayed?null:R.displayed.id)),v.Y8G("disabled",!R.displayed),v.R7$(3),v.JRh(R.isSelected(null==R.displayed?null:R.displayed.id)?"remove":"add"),v.R7$(2),v.SpI(" ",R.isSelected(null==R.displayed?null:R.displayed.id)?"Remove from Booking":"Add to booking"," ")}},dependencies:[b.bT,t.tx,C.R,g.r6,S.R,h.X,y.w,O.S,m.o]})}return A})()},1593:(At,ue,a)=>{"use strict";a.d(ue,{w:()=>L});var t=a(2333),n=a(2185),f=a(5157),v=a(9928),b=a(9714),C=a(696),g=a(4421),S=a(5006),h=a(8728),y=a(9090),O=a(8841),m=a(8712),E=a(3921),u=a(5645),M=a(5987),x=a(3601),D=a(4512),A=a(3953);let L=(()=>{class l extends t.Tv{constructor(R,F){super(),this._org=R,this._settings=F,this._loading=new v.t([]),this.loading=this._loading.asObservable(),this.levels=this._org.level_list.pipe((0,S.T)(P=>{if(!this._settings.get("app.use_region")){const k=this._org.buildingsForRegion(),V=k.map(X=>X.id),K=P.filter(X=>V.includes(X.parent_id)&&X.tags.includes("parking"));return K.map(X=>({...X,display_name:`${k.find(Q=>Q.id===X.parent_id)?.display_name} - ${X.display_name}`})),K}return P.filter(k=>k.parent_id===this._org.building.id&&k.tags.includes("parking"))})),this.spaces=(0,b.zV)([this.levels]).pipe((0,h.p)(([P])=>!!P[0]?.id),(0,y.n)(([P])=>(this._loading.next([...this._loading.getValue(),"spaces"]),(0,C.p)(P.map(k=>(0,f.bpY)(k.id,"parking-spaces").pipe((0,S.T)(V=>(V.details instanceof Array?V.details:[]).map(K=>({...K,zone_id:k.id})))))))),(0,S.T)(P=>(0,t.Bq)(P)),(0,O.M)(()=>this._loading.next(this._loading.getValue().filter(P=>"spaces"!==P))),(0,m.t)(1)),this.users=(0,b.zV)([this._org.active_building]).pipe((0,h.p)(([P])=>!!P?.id),(0,y.n)(([P])=>(this._loading.next([...this._loading.getValue(),"users"]),(0,f.bpY)(P.id,"parking-users"))),(0,S.T)(P=>P.details instanceof Array?P.details:[]),(0,O.M)(()=>this._loading.next(this._loading.getValue().filter(P=>"users"!==P))),(0,m.t)(1)),this.assigned_space=this.spaces.pipe((0,S.T)(P=>P.find(k=>k.assigned_to?.toLowerCase()===(0,t.Ny)().email?.toLowerCase()))),this.user_details=this.users.pipe((0,S.T)(P=>P.find(k=>k.email?.toLowerCase()===(0,t.Ny)().email?.toLowerCase()))),this.deny_parking_access=this.user_details.pipe((0,S.T)(P=>!!P?.deny)),this.booked_space=(0,b.zV)([this._org.active_building,this.spaces]).pipe((0,S.T)(([P,k])=>(0,u.tj)({period_start:(0,M._)((0,x.o)(Date.now())),period_end:(0,M._)((0,D.D)(Date.now())),type:"parking"}).pipe((0,E.W)(()=>(0,g.of)([])),(0,S.T)(V=>V.map(K=>k.find(X=>X.id===K.asset_id)).filter(K=>!!K)))),(0,S.T)(P=>P[0]),(0,m.t)(1)),this.subscription("spaces",this.assigned_space.subscribe())}static#e=this.\u0275fac=function(F){return new(F||l)(A.KVO(n.yb),A.KVO(t.h$))};static#t=this.\u0275prov=A.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},6576:(At,ue,a)=>{"use strict";a.d(ue,{Sh:()=>h,CH:()=>S,Yj:()=>E,f6:()=>m});var t=a(5157),n=a(5006),f=a(2333),v=a(735),b=a(2037);class C{constructor(M={}){this.id=M.id||"",this.name=M.name||"",this.primary=!!M.primary,this.summary=M.summary||"",this.can_edit=!!M.can_edit,this.resource=new v.$(M.resource||M.system),this.availability=(M.availability||[]).map(({starts_at:x,ends_at:D,date:A,duration:L,status:l})=>({date:new Date(A||1e3*x).valueOf(),duration:L||(0,b.o)(1e3*D,1e3*x),status:l})),this.hidden=!!M.hidden}}const g="/api/staff/v1/calendars";function S(){return(0,t.JtY)(g).pipe((0,n.T)(u=>u.map(M=>new C(M))))}function h(u){const M=(0,f.zJ)(u);return(0,t.JtY)(`${g}/availability${M?"?"+M:""}`).pipe((0,n.T)(x=>x.map(D=>new C(D))))}const y=u=>(0,n.T)(M=>M.filter(x=>!!x.resource).map(x=>new v.$({...x.resource,level:u?.levelWithID(x.resource.zones),availability:x.availability})).filter(x=>x.bookable));function m(u){const M=(0,f.zJ)(u);return(0,t.JtY)(`${g}/free_busy${M?"?"+M:""}`).pipe((0,n.T)(x=>x))}function E(u,M){const x=(0,f.zJ)(u);return(0,t.JtY)(`${g}/free_busy${x?"?"+x:""}`).pipe((0,n.T)(D=>D.map(A=>new C(A))),y(M))}},5892:(At,ue,a)=>{"use strict";a.d(ue,{T:()=>t});class t{get custom_id(){const f=this.option_list.map(v=>v.id).join("+");return`${this.id}[${f}]${this.in_order?"":"menu"}`}constructor(f={}){this.id=f.id||"",this.name=f.name||f.id||"",this.category=f.category||"",this.unit_price=f.unit_price||0,this.description=f.description||"",this.quantity=f.quantity||0,this.discount_cap=f.discount_cap||0,this.accept_points=!!f.accept_points,this.tags=f.tags||[],this.images=f.images||[],this.options=f.options||[];const v=this.options.some(b=>!0===b.active);this.option_list=(v?this.options.filter(b=>!0===b.active):f.option_list)||[],this.hide_for_zones=f.hide_for_zones||[],this.unit_price_with_options=this.unit_price+this.option_list.map(b=>b.unit_price||0).reduce((b,C)=>b+C,0),this.total_cost=this.unit_price_with_options*this.quantity,this.options_string=this.options?.map(b=>b.id||"").sort((b,C)=>b.localeCompare(C)).join(",")||"",this.in_order=f.in_order??!1}}},5555:(At,ue,a)=>{"use strict";a.d(ue,{M:()=>h});var t=a(2333),n=a(5892),f=a(1406),v=a(906),b=a(3601),C=a(7926),g=a(2357);function S(y){let O=y.event?.date||y._time;return y.deliver_time&&(O=(0,f.h)(O,{hours:Math.floor(y.deliver_time),minutes:y.deliver_time%1*60}).valueOf()),(y.deliver_day_offset>0||y.event?.all_day)&&(O=(0,v.f)((0,b.o)(O),y.deliver_day_offset).valueOf()),(0,C.z)(O,y.deliver_offset).valueOf()}class h{get deliver_at(){return S(this)}get status(){return this._status}set status(O){this._status=O,this[`${this.event_id}_status`]=O}constructor(O={}){this._time=(0,g.c)(Date.now()).valueOf(),this.id=O.id||`order-${(0,t.HO)(9999999,1e6)}`,this.system_id=O.system_id||"",this.event_id=O.event_id||O.event?.id||"",this.items=(O.items||[]).map(m=>m instanceof n.T?m:new n.T(m)),this.item_count=this.items.reduce((m,E)=>m+E.quantity,0),this.total_cost=this.items.reduce((m,E)=>m+(E.total_cost||0),0),this.charge_code=O.charge_code||"",this.status=O[`${this.event_id}_status`]||O.status||"accepted",this.invoice_number=O.invoice_number||"",this.event=O.event||null,this.notes=O.notes||"",this.deliver_time=O.deliver_time||void 0,this.deliver_offset=O.deliver_offset||0,this.deliver_day_offset=O.deliver_day_offset||0,this.deliver_at_time=S(this)}}},2333:(At,ue,a)=>{"use strict";a.d(ue,{Ft:()=>O,Tv:()=>t.T,p:()=>n.p,dr:()=>f.d,mx:()=>fe.mx,_e:()=>S._,h$:()=>v.h,CS:()=>N,xv:()=>g.x,gd:()=>u.gd,Zr:()=>u.Zr,a6:()=>u.a6,Ny:()=>V.N,U5:()=>V.U,PE:()=>u.PE,XE:()=>Qe,Bq:()=>u.Bq,F7:()=>u.F7,tU:()=>A,HQ:()=>u.HQ,Rm:()=>u.Rm,UG:()=>M.UG,uA:()=>M.uA,VX:()=>M.VX,WS:()=>M.WS,GE:()=>u.GE,HO:()=>u.HO,DU:()=>u.DU,Xm:()=>u.Xm,RH:()=>Ne,Xf:()=>u.Xf,To:()=>M.To,WQ:()=>L,jJ:()=>F,ej:()=>u.ej,II:()=>De,zJ:()=>m.z,Am:()=>u.Am});var t=a(5354),n=a(3114),f=a(7643),v=a(4233),b=a(5157),g=a(3885),S=a(9420),h=a(9969);(0,h.hZ)("show",[(0,h.kY)(":enter",[(0,h.iF)({opacity:0,height:0}),(0,h.i0)(300,(0,h.iF)({opacity:1,height:"*"}))]),(0,h.kY)(":leave",[(0,h.iF)({opacity:1,height:"*"}),(0,h.i0)(300,(0,h.iF)({opacity:0,height:0}))])]);const O=(0,h.hZ)("show",[(0,h.wk)("show",(0,h.iF)({opacity:1,height:"*"})),(0,h.wk)("hide",(0,h.iF)({opacity:0,height:0,"pointer-events":"none"})),(0,h.kY)("show <=> hide",(0,h.i0)("200ms ease-in"))]);var m=a(8385),E=a(467),u=a(4217),M=a(9525);let x,D=!1;function A(){return D}function L(Ct,Mt=3e5){Ct.isEnabled&&(x&&clearInterval(x),x=setInterval(()=>{(0,u.Rm)("CACHE","Checking for updates..."),function $(Ct){R.apply(this,arguments)}(Ct)},Mt))}function R(){return(R=(0,E.A)(function*(Ct){if(Ct.isEnabled&&(yield Ct.checkForUpdate())){if((0,u.Rm)("CACHE","Activating changes to the cache..."),!(yield Ct.activateUpdate()))return;D=!0,(0,M.uA)("Newer version of the application is available","Refresh",()=>location.reload())}})).apply(this,arguments)}function F(Ct){return P.apply(this,arguments)}function P(){return(P=(0,E.A)(function*(Ct){const Mt=Ct.protocol||location.protocol,$t=Ct.domain||location.hostname,nn=Ct.port||location.port,Sn=Ct.use_domain?`${Mt}//${$t}:${nn}`:location.origin,In=(location.pathname+"/").replace("//","/"),Fn=Ct.mock||location.href.includes("mock=true")||"true"===localStorage.getItem("mock"),$n={auth_type:"auth_code",scope:"public",host:`${$t}${nn?":"+nn:""}`,auth_uri:`${Sn}/auth/oauth/authorize`,token_uri:`${Sn}/auth/oauth/token`,redirect_uri:`${location.origin}${In}oauth-resp.html`,handle_login:!Ct.local_login,use_iframe:!0,mock:Fn};return localStorage&&localStorage.setItem("mock",`${!!Fn&&!location.href.includes("mock=false")}`),Fn&&(0,M.uA)("Application in mock mode."),(0,b.mjH)($n)})).apply(this,arguments)}a(3060);var V=a(6202);(0,u.Am)((0,u.Bq)([{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}].map(Ct=>Ct.utc))).sort();var Q=a(285),de=a(5817),se=a(1604),ce=a(2727);a(2185),a(686);var fe=a(7619),ae=a(7926),Ae=a(9255),Me=a(9824);const Ie={month:43200,months:43200,week:10080,weeks:10080,day:1440,days:1440,hour:60,hours:60,minute:1,minutes:1},me={auto_approve:!0,hidden:!1};function De(Ct){const Mt=(Ct||"").split(" ");return Mt.length>1?+Mt[0]*Ie[Mt[1].toLowerCase()]:0}function ke(Ct,Mt=new Date){return(0,ae.z)(Mt,De(Ct))}function Qe(Ct,Mt,$t){return Ct.filter(nn=>!Ne({...Mt,resource:nn},$t)?.hidden)}function Ne(Ct,Mt){if(!(Mt instanceof Array))return me;for(const $t of Mt)if(("*"===$t.zone||$t.zone===Ct.resource.zone?.id||Ct.resource.zones?.includes($t.zone))&&at(Ct,$t))return $t.rules;return me}function at({date:Ct,duration:Mt,host:$t,resource:nn},Sn){const In=new Date(Ct);let Fn=0;const{conditions:$n}=Sn;return!$n||($n.groups instanceof Array&&$n.groups.every(ut=>$t?.groups?.includes(ut))&&(Fn+=1),$n.is_before&&(0,Ae.Y)((0,ae.z)(Ct,Mt),ke($n.is_before))&&(Fn+=1),$n.is_after&&(0,Me.d)(Ct,ke($n.is_after))&&(Fn+=1),$n.min_length&&$n.min_length<=Mt&&(Fn+=1),$n.is_between&&In.getHours()+In.getMinutes()/60>=$n.is_between[0]&&In.getHours()+In.getMinutes()/60<$n.is_between[1]&&(Fn+=1),$n.is_period&&Ct>=$n.is_period[0]&&Ct<$n.is_period[1]&&(Fn+=1),$n.max_length&&$n.max_length>=Mt&&(Fn+=1),$n.resource_ids&&$n.resource_ids.includes(nn.id)&&(Fn+=1),$n.locations&&$n.locations.includes(nn.name)&&(Fn+=1),Fn>=Object.keys($n).length)}var Kt=a(9928),Ot=a(6871),Se=a(3953),ve=a(4006);let N=(()=>{class Ct{constructor($t){this._dialog=$t,this._upload_list=new Kt.t([]),this.upload_list=this._upload_list.asObservable(),localStorage&&this._upload_list.next(JSON.parse(localStorage.getItem("BACKOFFICE.uploads")||"[]"))}clearList(){const $t=this._upload_list.getValue().filter(nn=>nn.progress<100&&!nn.error);this._upload_list.next($t)}uploadFileWithPermissions($t){var nn=this;return new Promise((Sn,In)=>{this._dialog.open(Ot.U,{data:{file:$t}}).afterClosed().subscribe(function(){var $n=(0,E.A)(function*(ut){if(ut){const Pe=yield nn.uploadFile(ut.file,ut.is_public,ut.permissions).catch(je=>{throw In(je),je});Sn(Pe)}else In()});return function(ut){return $n.apply(this,arguments)}}())})}uploadFile($t,nn=!0,Sn="none"){return new Promise(In=>{let Fn=!1;const $n=ut=>{Fn||(In(ut.id),Fn=!0),this._upload_list.next([...this._upload_list.getValue().filter(Pe=>Pe.id!==ut.id),ut])};(function z(Ct,Mt=!0,$t="none"){return new de.c(nn=>{const Sn=new FileReader;Sn.addEventListener("loadend",In=>{const $n=ce.Ot(In.target.result,Ct.type),Pe=(0,Q.Zn)([$n],{file_name:Ct.name,permissions:$t,public:Mt})[0],je={id:(0,u.HO)(999999999999),name:Ct.name,progress:0,link:"",formatted_size:(0,Q.jG)(Ct.size),size:Ct.size,upload:Pe};Pe.status.pipe((0,se.v)(Te=>"complete"!==Te.status,!0)).subscribe(Te=>{Pe.access_url&&(je.link=Mt?Pe.access_url:`${location.origin}/api/engine/v2/uploads/${encodeURIComponent(Pe.id)}/url`),je.progress=Te.progress,nn.next(je),"error"===Te.status&&nn.error({...je,error:Te.error}),"complete"===Te.status&&nn.complete()}),nn.next(je)}),Sn.readAsArrayBuffer(Ct)})})($t,nn,Sn).subscribe($n,$n,()=>this._updateUploadHistory())})}_updateUploadHistory(){const $t=this._upload_list.getValue().filter(nn=>nn.progress>=100);$t.forEach(nn=>delete nn.upload),localStorage&&localStorage.setItem("PLACEOS.uploads",JSON.stringify($t))}static#e=this.\u0275fac=function(nn){return new(nn||Ct)(Se.KVO(ve.bZ))};static#t=this.\u0275prov=Se.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})()},8385:(At,ue,a)=>{"use strict";a.d(ue,{z:()=>n});const t=[void 0,null,""];function n(f){let v="";if(f)for(const b in f)b in f&&!t.includes(f[b])&&(v+=`${v?"&":""}${b}=${encodeURIComponent(f[b])}`);return v}},5354:(At,ue,a)=>{"use strict";a.d(ue,{T:()=>v});var t=a(9928),n=a(4337),f=a(3953);let v=(()=>{class b{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new t.t(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const g in this._timers)g in this._timers&&this.clearTimeout(g);for(const g in this._intervals)g in this._intervals&&this.clearInterval(g);for(const g in this._subscriptions)g in this._subscriptions&&this.unsub(g)}timeout(g,S,h=300){if(!(g&&S&&S instanceof Function))throw new Error(g?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(g),this._timers[g]=setTimeout(()=>{S(),delete this._timers[g]},h)}clearTimeout(g){this._timers[g]&&(clearTimeout(this._timers[g]),delete this._timers[g])}interval(g,S,h=300){if(!(g&&S&&S instanceof Function))throw new Error(g?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(g),this._intervals[g]=setInterval(()=>S(),h)}clearInterval(g){this._intervals[g]&&(clearInterval(this._intervals[g]),delete this._intervals[g])}subscription(g,S){this.unsub(g),this._subscriptions[g]=S}hasSubscription(g){return this._subscriptions[g]instanceof n.y||!!this._subscriptions[g]}unsub(g){g in this._subscriptions&&(this._subscriptions[g]instanceof n.y?this._subscriptions[g].unsubscribe():this._subscriptions[g]&&this._subscriptions[g](),delete this._subscriptions[g])}unsubWith(g){const S=Object.keys(this._subscriptions).filter(h=>h.includes(g));for(const h of S)this.unsub(h)}static#e=this.\u0275fac=function(S){return new(S||b)};static#t=this.\u0275prov=f.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},4571:(At,ue,a)=>{"use strict";a.d(ue,{_V:()=>y,dB:()=>O,gP:()=>m});var t=a(4361),n=a(2357),f=a(1406),v=a(7926),b=a(8385),C=a(7619),g=a(4217);function S(u){const M=(0,C.il)(u,"UTC");return`${(0,t.GP)(M,"yyyyMMdd")}T${(0,t.GP)(M,"HHmmss")}Z`}function h(u){return`${(0,t.GP)(u,"yyyyMMdd")}`}function y(u){const M=[],x=E(`${u.body||""}${u.id?"\n\n[ID|"+u.id+"]":""}`),D=E(`${u.location}`);M.push(["BEGIN","VCALENDAR"]),M.push(["VERSION","2.0"]),M.push(["BEGIN","VEVENT"]),M.push(["URL",`${u.meeting_url}`]),M.push(["DTSTART",`${new Date(u.all_day?(0,n.c)((0,f.h)(u.date,{hours:6,minutes:0})):u.date).toISOString()}`]),M.push(["DTEND",`${u.all_day?(0,n.c)((0,f.h)(u.date,{hours:18,minutes:0})).toISOString():(0,v.z)(u.date,u.duration??60).toISOString()}`]),M.push(["SUMMARY",`${u.title}`]),M.push(["DESCRIPTION",x]),M.push(["LOCATION",D]);const A=u.organiser?.name||u.host?.split("@")||u.user_name||"User";return M.push(["ORGANIZER",`CN=${A}:MAILTO:${u.host||u.user_email}`]),`data:text/calendar;charset=utf8,${M.map(([l,$])=>`${l}:${encodeURIComponent($)}`).join("\n")}`}function O(u){const M=u.all_day?h:S,x={action:"TEMPLATE",text:u.title,details:`${u.body||""}${u.id?"\n\n[ID|"+u.id+"]":""}`,location:u.location,trp:!1,dates:`${M(u.date)}/${M((0,v.z)(u.date,u.duration??60))}`},D=(u.attendees||[]).map(L=>L.email||L),A=((u.resources?.length?u.resources:null)||[u.system]).map(L=>L?.email||L);return(D.length||A.length)&&(x.add=(0,g.Am)([...D,...A]).join()),`https://calendar.google.com/calendar/render?${(0,b.z)(x)}`}function m(u,M="office"){u.date||(u.date=Date.now());const x={path:"/calendar/action/compose",rru:"addevent",startdt:new Date(u.date).toISOString(),enddt:(0,v.z)(u.date,u.duration??60).toISOString(),subject:u.title,body:`${u.body||""}${u.id?"\n\n[ID|"+u.id+"]":""}`,location:u.location,allday:u.all_day??!1};u.all_day&&delete x.enddt;const D=(u.attendees||[]).map(L=>L.email||L),A=((u.resources?.length?u.resources:null)||[u.system]).map(L=>L?.email||L);return(D.length||A.length)&&(x.to=(0,g.Am)([...D,...A]).join()),"office"===M?`https://outlook.office.com/calendar/0/action/compose?${(0,b.z)(x)}`:`https://outlook.live.com/calendar/0/action/compose?${(0,b.z)(x)}`}function E(u){return u.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")}},4217:(At,ue,a)=>{"use strict";a.d(ue,{Am:()=>h,Bq:()=>l,DU:()=>m,F7:()=>Q,GE:()=>E,HO:()=>y,HQ:()=>z,PE:()=>A,Rm:()=>g,Xf:()=>C,Xm:()=>de,Zr:()=>se,a6:()=>M,ej:()=>Ae,gd:()=>j,st:()=>S});var t=a(467),n=a(9417),f=a(4046),v=a(841);let b="APP";function C(Me){b=Me}function g(Me,Ve,We,lt="debug",nt=!1,$e=b){if(!window.jest&&(window.debug||nt)){const Ie=["color: #E91E63","color: #3F51B5","color: default"];We?console[lt](`%c[${$e}]%c[${Me}] %c${Ve}`,...Ie,We):console[lt](`%c[${$e}]%c[${Me}] %c${Ve}`,...Ie)}}function S(Me,Ve){const We=Me[0];return Ve&&We in Ve?Me.length>1?S(Me.slice(1),Ve[We]||{}):Ve[We]:null}function h(Me=[],Ve=""){const We=[];return Me.filter(lt=>{const nt=Ve?lt[Ve]:lt,$e=We.includes(nt);return $e||We.push(nt),!$e})}function y(Me,Ve=0){return Math.floor(Math.random()*(Me-Ve))+Ve}function m(Me,Ve="abcdefghijklmnopqrstwvxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"){let We="";for(let lt=0;lt<Me;lt++)We+=Ve[y(Ve.length)];return We}function E(Me,Ve){return u.apply(this,arguments)}function u(){return(u=(0,t.A)(function*(Me,Ve){const We=Ve.open(v.B,{...v.f,data:Me});return{...yield Promise.race([We.componentInstance.event.pipe((0,f.$)(lt=>"done"===lt.reason)).toPromise(),We.afterClosed().toPromise()]),loading:lt=>We.componentInstance.loading=lt,close:()=>We.close()}})).apply(this,arguments)}function M(Me,Ve=","){const We=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi");let lt=null;const nt=[[]];for(;lt=We.exec(Me);)lt[1].length&&","!==lt[1]&&nt.push([]),nt[nt.length-1].push(lt[2]?lt[2]?.replace(new RegExp('""',"g"),'"'):lt[3]);const $e=nt.splice(0,1)[0];return nt.map(me=>{const De={};for(let ke=0;ke<me.length;ke++){const Qe=($e[ke]||"").split(" ").join("_").toLowerCase();try{De[Qe]=JSON.parse(me[ke]?.replace("|",","))}catch{De[Qe]=me[ke]||""}("TRUE"===De[Qe]||"FALSE"===De[Qe])&&(De[Qe]="TRUE"===De[Qe])}return De})}function A(Me,Ve){const We=document.createElement("a");We.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(Ve)),We.setAttribute("download",Me),We.style.display="none",document.body.appendChild(We),We.click(),document.body.removeChild(We)}function l(Me){const Ve=[...Me],We=[];for(;Ve.length;){const lt=Ve.pop();Array.isArray(lt)?Ve.push(...lt):We.push(lt)}return We.reverse()}function Q(Me,Ve=""){let We=[];for(const lt in Me.controls)Me.controls[lt]instanceof n.gE?We=[...We,...Q(Me.controls[lt],`${lt}.`)]:Me.controls[lt].valid||We.push(`${Ve}${lt}`);return We}function de(Me){for(const Ve in Me)(null==Me[Ve]||""===Me[Ve])&&delete Me[Ve]}function se(Me){return`${Me[0].toUpperCase()}${Me.substring(1)}`}function z(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function j(Me,Ve,We,lt){const $e=W(We-Me),Ie=W(lt-Ve);Me=W(Me),We=W(We);const me=Math.sin($e/2)*Math.sin($e/2)+Math.sin(Ie/2)*Math.sin(Ie/2)*Math.cos(Me)*Math.cos(We);return 2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me))*6371}function W(Me){return Me*(Math.PI/180)}function ne(Me){return[parseInt(Me.slice(1,3),16),parseInt(Me.slice(3,5),16),parseInt(Me.slice(5,7),16)]}function Ae(Me,Ve,We){const $e=function fe(Me,Ve,We){let nt=Me[1]+(Ve[1]-Me[1])*We,$e=Me[2]+(Ve[2]-Me[2])*We;return[Math.round(Me[0]+(Ve[0]-Me[0])*We),Math.round(nt),Math.round($e)]}(ne(Me),ne(Ve),We);return function ae(Me,Ve,We){function lt(nt){const $e=nt.toString(16);return 1==$e.length?"0"+$e:$e}return"#"+lt(Me)+lt(Ve)+lt(We)}($e[0],$e[1],$e[2])}!function k(Me){let Ve=1779033703^Me.length;for(let We=0;We<Me.length;We++)Ve=Math.imul(Ve^Me.charCodeAt(We),3432918353),Ve=Ve<<13|Ve>>>19;return function(){return Ve=Math.imul(Ve^Ve>>>16,2246822507),Ve=Math.imul(Ve^Ve>>>13,3266489909),(Ve^=Ve>>>16)>>>0}}("PlaceOS")()},3114:(At,ue,a)=>{"use strict";a.d(ue,{p:()=>v});var t=a(4217),n=a(3953),f=a(345);let v=(()=>{class b{constructor(g){this.title=g,this.enabled=!0,this.app_name="GA_APP",this.timers={}}init(g=""){window.gtag||(window.dataLayer=window.dataLayer||[],function(S,h,y,O,m){S[O]=S[O]||[],S[O].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var E=h.getElementsByTagName(y)[0],u=h.createElement(y);u.async=!0,u.src="https://www.googletagmanager.com/gtm.js?id="+m,E.parentNode.insertBefore(u,E)}(window,document,"script","dataLayer",g),(0,t.Rm)("Analytics","Service","Injected Google Analytics into page")),this.service=window.gtag}push(g){window.dataLayer.push(g)}load(g){if(!this.enabled)throw new Error("Google Analytics needs to be enabled before being initialised");if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");(0,t.Rm)("Analytics","Service",`Setup with tracking ID: ${g}`),this.page("")}setUser(g){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`user|${g}`,()=>{(0,t.Rm)("Analytics","Service",`Set user ID: ${g}`),this.service("set","userId",g),this.event("authentication","user-id available")},100)}send(g,S){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`end|${g}`,()=>{this.push({...S,event:"event"})})}event(g,S,h,y){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`event|${g}|${S}|${h}|${y}`,()=>{(0,t.Rm)("Analytics","Service",`Event: ${g}, ${S}${h?", "+h:""}${y?", "+y:""}`),this.push({event:"event",category:g,action:S,label:h})},100)}screen(g,S){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");g&&this.enabled&&this.timeout(`event|${g}|${S||this.app_name}`,()=>{(0,t.Rm)("Analytics","Service",`Screen: ${g}${S?", "+S:""}`),this.push({event:"screenview",appName:S||this.app_name,screenName:g})},100)}page(g,S=!1){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&(this.last_route=g||"/",this.timeout(`page|${g}`,()=>{(0,t.Rm)("Analytics","Service",`Page: ${g}`),this.push({event:"pageview",url:`${S?location.origin:""}${g}`})},100))}timing(g,S,h,y){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`page|${g}|${S}|${h}|${y}`,()=>{(0,t.Rm)("Analytics","Service",`Timing: ${g}, ${S}, ${h}${y?", "+y:""}`),this.push({event:"timing",category:g,variable:S,value:h,label:y})},100)}timeout(g,S,h=300){this.timers[g]&&(clearTimeout(this.timers[g]),delete this.timers[g]),this.timers[g]=setTimeout(()=>{S instanceof Function&&S(),delete this.timers[g]},h)}static#e=this.\u0275fac=function(S){return new(S||b)(n.KVO(f.hE))};static#t=this.\u0275prov=n.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},7643:(At,ue,a)=>{"use strict";a.d(ue,{d:()=>b});var t=a(9928),n=a(4217),f=a(3953);const v=["control","shift","alt","meta","os"];let b=(()=>{class C{constructor(){this.keydown_states={},this.keydown_observers={},this.combo_end=[],this.registered_combos=[],this.counter=0,window.addEventListener("keydown",S=>{const h=this.mapKey((S.code||"").toLowerCase());this.last_down!==h&&(this.keydown_states[h]||(this.keydown_states[h]=new t.t(null),this.keydown_observers[h]=this.keydown_states[h].asObservable()),this.keydown_states[h].next(++this.counter),this.combo_end.indexOf(h)>=0&&S.preventDefault(),this.last_down=h)}),window.addEventListener("keyup",S=>{const h=this.mapKey((S.code||"").toLowerCase());this.keydown_states[h]?.next(null),this.last_down===h&&(this.last_down=null)})}listen(S,h){const y=(S=S instanceof Array?S:S.split("+")).map(O=>this.mapKey(O.toLowerCase()));if(y.length>0&&this.validCombination(y)){this.registered_combos.push(y);const O=y[y.length-1];return this.keydown_states[O]||(this.keydown_states[O]=new t.t(null),this.keydown_observers[O]=this.keydown_states[O].asObservable()),this.updateCombinationEndList(),this.keydown_observers[O].subscribe(m=>{if(m){const E=[];if(y.length>0){for(const M of y){const x=this.keydown_states[M];E.push(x&&x.getValue()||-1)}for(let M=0;M<y.length-1;M++)if(E[M]>E[M+1])return}E.reduce((M,x)=>M+(x>0?1:-1),0)>=y.length&&h()}})}return null}mapKey(S){return S.indexOf("alt")>=0||S.indexOf("shift")>=0||S.indexOf("control")>=0?S.replace("left","").replace("right",""):S}updateCombinationEndList(){for(const h of this.registered_combos)this.combo_end.push(h[h.length-1]);this.combo_end=(0,n.Am)([])}validCombination(S){let h=0;for(const y of S)v.indexOf(y)<0&&h++;return h>0}static#e=this.\u0275fac=function(h){return new(h||C)};static#t=this.\u0275prov=f.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},9420:(At,ue,a)=>{"use strict";a.d(ue,{_:()=>u,u:()=>E});var t=a(4233),n=a(2185),f=a(9928),v=a(9714),b=a(8728),C=a(3020),g=a(8841),S=a(5006),h=a(8712),y=a(5354),O=a(4217),m=a(3953),E=function(M){return M[M.GoogleMaps=0]="GoogleMaps",M[M.Mapbox=1]="Mapbox",M}(E||{});let u=(()=>{class M extends y.T{get map_keys(){return this._settings.get("app.maps_people.keys")||{}}get use_service(){return this._settings.get("app.maps_people.use_zones")||[]}get map_service(){return this._map_service.getValue()}get map_token(){return this._map_token.getValue()}get is_ready(){return this._ready.getValue()}constructor(D,A){super(),this._settings=D,this._org=A,this._map_service=new f.t(null),this._map_token=new f.t(""),this._ready=new f.t(!1),this._injected={},this._custom_zone=new f.t(""),this.available$=(0,v.zV)([this._org.active_building,this._custom_zone,this._org.initialised]).pipe((0,b.p)(([L])=>!!L),(0,C.B)(300),(0,g.M)(()=>this._injectMapsApiKeys()),(0,S.T)(([L,l])=>this.map_keys.mapsindoors&&(this.use_service.includes(l||L.id)||this.use_service.includes("*"))),(0,h.t)(1))}setCustomZone(D){this._custom_zone.next(D)}_injectMapsApiKeys(){(0,O.Rm)("MapsPeople","Initializing Maps API Keys"),this._ready.next(!1);const{mapsindoors:D,google:A,mapbox:L}=this.map_keys;if(D){if(D&&!this._injected.mapsindoors){const l=document.createElement("script");l.src=`https://app.mapsindoors.com/mapsindoors/js/sdk/4.35.0/mapsindoors-4.35.0.js.gz?apikey=${D}`,document.body.appendChild(l),this._injected.mapsindoors=!0}if(A&&L)return void(0,O.Rm)("MapsPeople","Both Google and Mapbox keys provided",void 0,"error");if(A&&!this._injected.google){const l=document.createElement("script");l.src=`https://maps.googleapis.com/maps/api/js?libraries=geometry&key=${A}`,document.body.appendChild(l),this._map_service.next(E.GoogleMaps),this._injected.google=!0}else if(L&&!this._injected.mapbox){const l=document.createElement("script");l.src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js",document.body.appendChild(l);const $=document.createElement("link");$.rel="stylesheet",$.href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css",document.head.appendChild($),this._map_service.next(E.Mapbox),this._map_token.next(L),this._injected.mapbox=!0}(A||L)&&((0,O.Rm)("MapsPeople","Initialized Maps API Keys for "+(A?"Google Maps":"Mapbox")),this.timeout("ready",()=>this._ready.next(!0),300))}}static#e=this.\u0275fac=function(A){return new(A||M)(m.KVO(t.h),m.KVO(n.yb))};static#t=this.\u0275prov=m.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},9525:(At,ue,a)=>{"use strict";a.d(ue,{To:()=>f,UG:()=>C,VX:()=>b,WS:()=>g,uA:()=>S});let t,n=!1;function f(h,y=!1){t=h,n=y}function v(h,y,O="OK",m,E={}){if(!t)return!n&&console.warn("Snackbar service hasn't been initialised");const u=t.open(y,O,{panelClass:[h],duration:5e3,...E});O&&(m=m||(()=>u.dismiss()),u.onAction().subscribe(()=>m()))}function b(h,y,O,m={}){!n&&console.debug(h),"string"!=typeof h&&(h="Success"),v("success",h,y,O,m)}function C(h,y,O,m={}){!n&&console.debug(h),"string"!=typeof h&&(h=h?.error||h?.message||"An error occurred"),v("error",h,y,O,m)}function g(h,y,O,m={}){!n&&console.debug(h),v("warn",h,y,O,m)}function S(h,y,O,m={}){!n&&console.debug(h),v("info",h,y,O,m)}},686:(At,ue,a)=>{"use strict";a.d(ue,{V:()=>x});var t=a(467),n=a(5157),f=a(9928),v=a(5286),b=a(9714),C=a(4421),g=a(8712),S=a(8728),h=a(9090),y=a(5006),O=a(5354),m=a(4217),E=a(3953);function u(D,A,L){var l=D[A];return D[A]=(...$)=>{L($),l.call(D,...$)},l}let M=localStorage.getItem("PLACEOS.DEVICE_ID")||`DEV-${(0,m.DU)(8)}`,x=(()=>{class D extends O.T{setMetadata(L){}constructor(){var L;super(),L=this,this._disable_handling=!1,this._system_id=new f.t(""),this._events=new v.B7,this._event_history=this._events.pipe((0,g.t)(2e4)),this._metadata=null,this._logging_bindings=this._system_id.pipe((0,S.p)(l=>!!l),(0,h.n)(l=>(0,b.zV)([(0,C.of)(l),this._bindTo(l,"enabled")])),(0,S.p)(([l,$])=>!!$),(0,y.T)(([l])=>this.subscription("post_events",this._event_history.subscribe(function(){var $=(0,t.A)(function*(R){L._disable_handling=!0,yield(0,n.f_4)(l,"Logger").execute("post_event",[R]).catch(),L._disable_handling=!1});return function(R){return $.apply(this,arguments)}}())))),this.history=this._event_history,localStorage.setItem("PLACEOS.DEVICE_ID",M),this._patchConsoleMethods(),this._logging_bindings.subscribe(),(0,m.Rm)("Logger","Remote logging initialised...")}setSystem(L){this._system_id.next(L)}_patchConsoleMethods(){const L=["log","debug","info","warn","error"];for(const l of L)u(console,l,(...$)=>this._handleEvent(l,$))}_handleEvent(L,l,$="console"){if(l.includes('"Logger"')||this._disable_handling)return;const R=[...l[0]];R[0]="string"==typeof R[0]?R[0].replace(/\%c/g,""):R[0],this._events.next({id:`${$}-${(0,m.HO)(9999999999)}`,device_id:M,type:$,subtype:L,timestamp:Date.now(),raw:l,data:R.filter(F=>"string"!=typeof F||!F.startsWith("color:")),metadata:this._metadata||null})}_bindTo(L,l,$="Logger"){const R=(0,n.f_4)(L,$).binding(l);return this.subscription(`bind:${l}`,R.bind()),R.listen()}static#e=this.\u0275fac=function(l){return new(l||D)};static#t=this.\u0275prov=E.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},4233:(At,ue,a)=>{"use strict";a.d(ue,{h:()=>M});var t=a(467),n=a(9928),f=a(5157),v=a(5818),b=a(4361),C=a(4046),g=a(4217),S=a(3060),h=a(5354),y=a(3885),O=a(6202),m=a(3114),E=a(3953),u=a(345);let M=(()=>{class x extends h.T{set overrides(A){this._overrides.next(A),this._applyCssVariables()}listen(A){return this._observables[A]||(this._subjects[A]=new n.t(null),this._observables[A]=this._subjects[A].asObservable()),this._observables[A]}post(A,L){this._observables[A]||(this._subjects[A]=new n.t(null),this._observables[A]=this._subjects[A].asObservable()),this._subjects[A].next(L)}value(A){return this._observables[A]?this._subjects[A].getValue():null}get title(){return this._title.getTitle()}set title(A){this._title.setTitle(`${A} | ${this.get("app.name")||this._app_name}`),this.get("app.analytics.tracking_id")&&this._analytics?.send("pagename",{title:A})}constructor(A,L){super(),this._title=A,this._analytics=L,this._app_name="PlaceOS",this._overrides=new n.t([]),this._user_settings=new n.t({}),this._subjects={},this._observables={},this._pending_settings={};const l=new Date,$=new Date(y.x.time),R=(0,v.r)(l,$)?`Today at ${(0,b.GP)($,"h:mma")}`:(0,b.GP)($,"do MMM yyyy, h:mma");(0,g.Rm)("CORE",`${y.x.semver}`,null,"debug",!0),(0,g.Rm)("APP",`${y.x.hash} | Built: ${R}`,null,"debug",!0),this.init()}init(){var A=this;return(0,t.A)(function*(){A.get("debug")&&(window.debug=!0),A.get("app")?.name&&(A._app_name=A.get("app").name),A._app_name=location.pathname.replace(/[\\\/]/g,"").trim()||A._app_name,(0,g.Xf)(A._app_name.split("-").join("_").toUpperCase()),(0,g.Rm)("Settings","Successfully loaded settings"),A._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.settings=A),A.subscription("user_settings",A._user_settings.subscribe($=>A._applyUserSettings($)));const L=yield O.U.pipe((0,C.$)($=>!!$)).toPromise(),l=yield(0,f.bpY)(L.id,"settings").toPromise();A._user_settings.next(l.details||{}),A._initDarkMode(),A._applyTheme(),A._setFontSize()})()}get app_name(){return this._app_name}get time_format(){return this.get("app.use_24_hour_time")?"HH:mm":"h:mm a"}get(A){const L=A.split(".");if("app"!==L[0])return(0,g.st)(L,this._pending_settings)??(0,g.st)(L,this._user_settings.getValue())??(0,g.st)(L,S.a);const l=[...this._overrides.getValue()];for(const $ of l){const R=(0,g.st)(L.slice(1),$);if(null!=R)return R}return(0,g.st)(L,S.a)}saveUserSetting(A,L){this._pending_settings[A]=L,"dark_mode"===A&&this.setTheme(L?"dark":""),"font_size"===A&&this._setFontSize(),this.timeout("save_settings",()=>this._savePendingChanges(),5e3)}overrideCssVariable(A,L,l=!1){let $=document.getElementById(`css-var-overrides+${A}`);$||($=document.createElement("style"),$.id=`css-var-overrides+${A}`,document.head.appendChild($)),$.innerText=`html, body { --${A}: ${L} ${l?"!important":""}}`}setTheme(A){this.get("theme")!==A&&(this.saveUserSetting("theme",A),this._applyTheme())}_applyCssVariables(){const A=this.get("app.css_variables")||{};let L="body { ";for(const $ in A)L+=`--${$}: ${A[$]}; `;L+="}";let l=document.getElementById("css-var-overrides");l||(l=document.createElement("style"),l.id="css-var-overrides",document.head.appendChild(l)),l.innerText=L}_savePendingChanges(){var A=this;return(0,t.A)(function*(){const L=(0,O.N)();!L?.id||!Object.keys(A._pending_settings).length||(yield(0,f.D58)(L.id,{name:"settings",description:"",details:{...A._user_settings.getValue(),...A._pending_settings}}).toPromise(),A._user_settings.next({...A._user_settings.getValue(),...A._pending_settings}),A._pending_settings={})})()}_applyUserSettings(A){return(0,t.A)(function*(){})()}_setFontSize(){this.get("font_size")&&this.overrideCssVariable("font-size",`${this.get("font_size")}px`)}_applyTheme(){const A=this.get("theme"),L=document.body.classList.value.split(" ");for(const l of L)l.startsWith("theme-")&&document.body.classList.remove(l);A?document.body.classList.add(`theme-${A}`):document.body.classList.remove(`theme-${A}`)}_initDarkMode(){this.get("theme")}static#e=this.\u0275fac=function(L){return new(L||x)(E.KVO(u.hE),E.KVO(m.p,8))};static#t=this.\u0275prov=E.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},3060:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>h});const h={debug:!0,composer:{domain:"",route:"/visitor-kiosk",protocol:"",port:"",use_domain:!1,local_login:!1},app:{name:"Visitor-Kiosk",title:"Visitor Kiosk",description:"Kiosk UI written with Angular Framework",short_name:"KIOSK",logo_light:{type:"img",src:"assets/logo-light.svg"},logo_dark:{type:"img",src:"assets/logo-dark.svg"},general:{menu:{items:[{name:"Home",route:"/home"},{name:"Booking",route:"/book",children:[{name:"Spaces",route:"/book/spaces"},{name:"Desks",route:"/book/desks"}]},{name:"Explore",route:"/explore",children:[{name:"People",route:"/explore/people"},{name:"Spaces",route:"/explore/spaces"}]},{name:"Help",route:"/help"},{name:"Schedule",route:"/schedule"},{name:"Control",route:"/control"},{name:"Directory",route:"/directory"}],copyright:"Place Technology",position:"left"},checkin:{stages:["qrcode","details","result","preferences","final"]}},home:{background:"assets/img/skyline.png",tiles:[{name:"Booking",route:"/book/spaces",icon:{type:"icon",class:"material-icons",content:"event"}},{name:"Desks",route:"/book/desks",icon:{type:"icon",class:"material-icons",content:"pin_drop"}},{name:"Explore",route:"/explore",icon:{type:"icon",class:"material-icons",content:"map"}},{name:"Help",route:"/help",icon:{type:"icon",class:"material-icons",content:"help_outline"}},{name:"Schedule",route:"/schedule",icon:{type:"icon",class:"material-icons",content:"today"}},{name:"Control",route:"/control",icon:{type:"icon",class:"material-icons",content:"settings_remote"}},{name:"Directory",route:"/directory",icon:{type:"icon",class:"material-icons",content:"search"}}]},help:{tiles:[{name:"About Engine",link:"https://place.technology/resources",icon:{type:"icon",class:"material-icons",content:"dns"},background:"https://static1.squarespace.com/static/52142586e4b0c09536a144ad/5c8ed203a4222fa1927bbab3/5cb7cba66e9a7f63584b4d39/1555549341622/too-many-buttons.jpg?format=2500w"},{name:"General Enquiries",link:"mailto:equiries@place.technology?subject=Staff%20App%20Demo",icon:{type:"icon",class:"material-icons",content:"mail"},background:"assets/img/it-banner.jpg"},{name:"Contact Place",link:"https://place.technology/contact-1",icon:{type:"icon",class:"material-icons",content:"call"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569984759306-M6ZOKD64OG009U68MYUL/ke17ZwdGBToddI8pDm48kCX-V5vw-8h9IBXN10-_8XN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0p4Wyba38KfG317vYluk45_zZdtnDCZTLKcP2mivxmYi50xvY5saIGKMgOza9mH4XA/image-asset.jpeg?format=2500w"},{name:"About Us",link:"https://place.technology/",icon:{type:"icon",class:"material-icons",content:"business"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569985184499-QF839PTJ2EV30KIZF59X/ke17ZwdGBToddI8pDm48kLkXF2pIyv_F2eUT9F60jBl7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0iyqMbMesKd95J-X4EagrgU9L3Sa3U8cogeb0tjXbfawd0urKshkc5MgdBeJmALQKw/image-asset.jpeg?format=2500w"}],columns:2},booking:{booking_types:[{display:"Internal",value:"internal"},{display:"Client",value:"client"},{display:"External",value:"external"},{display:"Setup",value:"setup"},{display:"Training",value:"training"},{display:"Interview",value:"interview"}],show_fields:["attendees","body","catering","date","duration","organiser","recurrence","title","type"],html_body:!0,multiple_spaces:!1,desk_start:9},space_display:{show_images:!1},directory:{show_avatars:!0,min_search_length:3},explore:{colors:{"space-available":"#43a047","space-requestable":"#ffb300","space-unavailable":"#e53935","space-not-bookable":"#ccc","desk-available":"#43a047","desk-available-stroke":"#1b5e20","desk-unavailable":"#e53935","desk-unavailable-stroke":"#b71c1c","desk-reserved":"#ffb300","desk-reserved-stroke":"#ff6f00","desk-not-bookable":"#fff","desk-not-bookable-stroke":"#ccc","zone-low":"#43a047","zone-medium":"#ffb300","zone-high":"#e53935"},can_select_building:!1,show_legend_group_names:!0,legend:{Spaces:[{key:"space-available",name:"Space Available"},{key:"space-requestable",name:"Space available by request"},{key:"space-unavailable",name:"Space in use"},{key:"space-not-bookable",name:"Space not Bookable"}],Desks:[{key:"desk-available",name:"Desk Available"},{key:"desk-reserved",name:"Desk Reserved"},{key:"desk-unavailable",name:"Desk in use"},{key:"desk-not-bookable",name:"Desk not bookable"}],Zones:[{key:"zone-low",name:"Low Zone Utilisation"},{key:"zone-medium",name:"Medium Zone Utilisation"},{key:"zone-high",name:"High Zone Utilisation"}],Icons:[{key:"icon-bin",name:"Bin",icon:{type:"icon",class:"material-icons",content:"delete"}}]}}},mock:!1}},7619:(At,ue,a)=>{"use strict";a.d(ue,{mx:()=>Lt,il:()=>Kt});var t=a(1113);const g={year:0,month:1,day:2,hour:3,minute:4,second:5},y={};function m(Se,ve,N,ie,Y,ye,Ze){const Ft=new Date(0);return Ft.setUTCFullYear(Se,ve,N),Ft.setUTCHours(ie,Y,ye,Ze),Ft}const E=36e5,u=6e4,M={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function A(Se,ve){const N=function C(Se,ve){const N=function O(Se){if(!y[Se]){const ve=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));y[Se]="06/25/2014, 00:00:00"===ve||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===ve?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:Se,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Se,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return y[Se]}(ve);return"formatToParts"in N?function S(Se,ve){try{const N=Se.formatToParts(ve),ie=[];for(let Y=0;Y<N.length;Y++){const ye=g[N[Y].type];void 0!==ye&&(ie[ye]=parseInt(N[Y].value,10))}return ie}catch(N){if(N instanceof RangeError)return[NaN];throw N}}(N,Se):function h(Se,ve){const N=Se.format(ve),ie=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(N);return[parseInt(ie[3],10),parseInt(ie[1],10),parseInt(ie[2],10),parseInt(ie[4],10),parseInt(ie[5],10),parseInt(ie[6],10)]}(N,Se)}(Se,ve),ie=m(N[0],N[1]-1,N[2],N[3]%24,N[4],N[5],0).getTime();let Y=Se.getTime();const ye=Y%1e3;return Y-=ye>=0?ye:1e3+ye,ie-Y}function l(Se,ve){return-23<=Se&&Se<=23&&(null==ve||0<=ve&&ve<=59)}const $={};function at(Se,ve){return-function x(Se,ve,N){if(!Se)return 0;let Y,ye,ie=M.timezoneZ.exec(Se);if(ie)return 0;if(ie=M.timezoneHH.exec(Se),ie)return Y=parseInt(ie[1],10),l(Y)?-Y*E:NaN;if(ie=M.timezoneHHMM.exec(Se),ie){Y=parseInt(ie[2],10);const Ze=parseInt(ie[3],10);return l(Y,Ze)?(ye=Math.abs(Y)*E+Ze*u,"+"===ie[1]?-ye:ye):NaN}if(function R(Se){if($[Se])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:Se}),$[Se]=!0,!0}catch{return!1}}(Se)){ve=new Date(ve||Date.now());const Ze=N?ve:function D(Se){return m(Se.getFullYear(),Se.getMonth(),Se.getDate(),Se.getHours(),Se.getMinutes(),Se.getSeconds(),Se.getMilliseconds())}(ve),Ft=A(Ze,Se);return-(N?Ft:function L(Se,ve,N){let Y=Se.getTime()-ve;const ye=A(new Date(Y),N);if(ve===ye)return ve;Y-=ye-ve;const Ze=A(new Date(Y),N);return ye===Ze?ye:Math.max(ye,Ze)}(ve,Ft,Se))}return NaN}(Se,ve)}const Lt=Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone||"Australia/Sydney";function Kt(Se,ve=Lt){const N=at(ve)-at(Lt);return(0,t.A)(Se,N).valueOf()}},6202:(At,ue,a)=>{"use strict";a.d(ue,{N:()=>E,U:()=>m});var t=a(5157),n=a(9928),f=a(8002),v=a(762);class C{constructor(M,x){this.count=M,this.source=x}call(M,x){return x.subscribe(new g(M,this.count,this.source))}}class g extends v.v{constructor(M,x,D){super(M),this.count=x,this.source=D}error(M){if(!this.isStopped){const{source:x,count:D}=this;if(0===D)return super.error(M);D>-1&&(this.count=D-1),x.subscribe(this._unsubscribeAndRecycle())}}}var S=a(5006),h=a(3693);const y=new h.Gp,O=new n.t(null),m=O.asObservable();function E(){return O.getValue()||y}setTimeout(()=>{try{if(jest)return}catch{}(0,t.VLL)("current").pipe((0,f.c)(1e3),function b(u=-1){return M=>M.lift(new C(u,M))}(10),(0,S.T)(u=>new h.Gp(u))).subscribe(u=>O.next(u))},300)},3885:(At,ue,a)=>{"use strict";a.d(ue,{x:()=>t});const t={dirty:!1,raw:"10af837",hash:"10af837",distance:null,tag:null,semver:null,suffix:"10af837",semverString:null,version:"1.12.0",time:1722920159541}},8030:(At,ue,a)=>{"use strict";a.d(ue,{Rt:()=>Q.R,l4:()=>K.l,hI:()=>t.h,In:()=>$.I,Dd:()=>$.D,Nw:()=>u.N,VJ:()=>k.V,VT:()=>D.V,o:()=>A.o,eW:()=>F.e});var t=a(1395);a(3938),a(841),a(2333),a(4418),a(1193);var u=a(4918),D=(a(9489),a(877),a(1865)),A=a(5384),$=(a(2124),a(2734),a(2238)),F=(a(4616),a(5080)),k=(a(4921),a(620)),K=(a(8283),a(5991)),Q=(a(4633),a(5843));a(375),a(5157),a(4233),a(8026)},6539:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>O});var t=a(2333),n=a(8030),f=a(3953),v=a(177),b=a(9417),C=a(3881),g=a(450),S=a(9434);function h(m,E){if(1&m){const u=f.RV6();f.j41(0,"div",9)(1,"div",10)(2,"app-icon",11),f.EFF(3,"mode_night"),f.k0s()(),f.j41(4,"div",12),f.pXf(5,2),f.k0s(),f.j41(6,"mat-slide-toggle",13),f.bIt("ngModelChange",function(x){f.eBV(u);const D=f.XpG();return f.Njj(D.setDarkMode(x))}),f.k0s()()}if(2&m){const u=f.XpG();f.R7$(6),f.Y8G("ngModel",u.dark_mode)}}function y(m,E){if(1&m){const u=f.RV6();f.qex(0),f.j41(1,"div",15),f.pXf(2,3),f.k0s(),f.j41(3,"div",16)(4,"span",17),f.EFF(5,"A"),f.k0s(),f.j41(6,"mat-slider",18)(7,"input",19),f.bIt("ngModelChange",function(x){f.eBV(u);const D=f.XpG();return f.Njj(D.applySetting("font_size",x))}),f.k0s()(),f.j41(8,"span",6),f.EFF(9,"A"),f.k0s(),f.j41(10,"span",20),f.EFF(11),f.k0s()(),f.bVm()}if(2&m){const u=f.XpG();f.R7$(6),f.Y8G("min",10)("max",24)("step",2),f.R7$(),f.Y8G("ngModel",u.font_size),f.R7$(4),f.SpI(" ",u.font_size,"px ")}}let O=(()=>{class m extends t.Tv{get dark_mode(){return"dark"===this._settings.get("theme")}get can_change_dark_mode(){return!!this._settings.get("app.general.dark_mode")}get accessible(){return!!this._settings.get("accessible")}get font_size(){return this._settings.get("font_size")||16}constructor(u,M){super(),this._data=u,this._settings=M,this.applySetting=(x,D)=>this.timeout("apply_setting",()=>this._settings.saveUserSetting(x,D),1e3),this.close=()=>this._data?.close()}setDarkMode(u){const M=this._settings.get("theme");u&&"dark"!==M?this._settings.setTheme("dark"):!u&&"dark"===M&&this._settings.setTheme("light")}static#e=this.\u0275fac=function(M){return new(M||m)(f.rXU(n.Dd),f.rXU(t.h$))};static#t=this.\u0275cmp=f.VBU({type:m,selectors:[["accessibility-tooltip"]],features:[f.Vt3],decls:15,vars:3,consts:()=>{let u,M,x,D;return u=$localize`:d22b673a92b43eabbdebd80b1539a553703c84f66572705143012462182:Display & Accessibility`,M=$localize`:0f027c150c7e9465a5cdf64c4d07c33aca92384d127744830115363320:Large Accessibility Sizes`,x=$localize`:c943d5ecc32b916a210d7c984fe5f55771ad0b1a3279636347259347513:Dark Mode`,D=$localize`:3fc32876e34616b005d861eafe737cf4d27931848609643488577372847: Adjust your preferred reading size below. `,[u,M,x,D,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","space-x-2","p-2",3,"click"],[1,"text-2xl"],[1,""],["action","","class","flex items-center space-x-2 w-full text-left h-auto px-4",4,"ngIf"],["action","",1,"flex","items-center","space-x-2","w-full","text-left","h-auto","px-4"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200","my-2"],[1,"text-xl"],[1,"flex-1","text-sm"],[3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"px-8","py-4","bg-base-200","text-center"],[1,"flex","items-center","px-4","space-x-4"],[1,"text-sm"],[1,"flex-1","w-1/2","text-[16px]",3,"min","max","step"],["matSliderThumb","",1,"text-[16px]",3,"ngModelChange","ngModel"],[1,"text-base","py-1","px-2","rounded","bg-base-300","text-white","my-2"]]},template:function(M,x){1&M&&(f.j41(0,"div",4)(1,"div",5),f.bIt("click",function(){return x.close()}),f.j41(2,"app-icon",6),f.EFF(3,"arrow_back"),f.k0s(),f.j41(4,"div",7),f.pXf(5,0),f.k0s()(),f.DNE(6,h,7,1,"div",8),f.j41(7,"div",9)(8,"div",10)(9,"app-icon",11),f.EFF(10,"playlist_add"),f.k0s()(),f.j41(11,"div",12),f.pXf(12,1),f.k0s(),f.j41(13,"mat-slide-toggle",13),f.bIt("ngModelChange",function(A){return x.applySetting("accessible",A)}),f.k0s()(),f.DNE(14,y,12,5,"ng-container",14),f.k0s()),2&M&&(f.R7$(6),f.Y8G("ngIf",x.can_change_dark_mode),f.R7$(7),f.Y8G("ngModel",x.accessible),f.R7$(),f.Y8G("ngIf",x.accessible))},dependencies:[v.bT,b.me,b.BC,b.vS,C.IV,C.OU,g.sG,S.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%] > [action][_ngcontent-%COMP%]{border-top:1px solid #ccc}"]})}return m})()},5843:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>L});var t=a(3953),n=a(4006),f=a(2333),v=a(177),b=a(9417),C=a(6600),g=a(9115),S=a(3719),h=a(2798),y=a(9631),O=a(2765),m=a(9434);function E(l,$){1&l&&(t.j41(0,"button",8)(1,"app-icon"),t.EFF(2,"close"),t.k0s()())}function u(l,$){if(1&l){const R=t.RV6();t.j41(0,"div",9)(1,"mat-checkbox",10),t.bIt("ngModelChange",function(P){t.eBV(R);const k=t.XpG();return t.Njj(k.saveNotesSetting(P))}),t.EFF(2," Require notes for orders "),t.k0s()()}if(2&l){const R=t.XpG();t.R7$(),t.Y8G("ngModel",R.require_notes)}}function M(l,$){if(1&l&&(t.j41(0,"mat-option",28),t.EFF(1),t.k0s()),2&l){const R=$.$implicit;t.Y8G("value",R.id),t.R7$(),t.SpI(" ",R.name," ")}}function x(l,$){if(1&l){const R=t.RV6();t.j41(0,"div",22),t.nrm(1,"div",23),t.j41(2,"mat-form-field",13)(3,"mat-select",24),t.mxI("ngModelChange",function(P){const k=t.eBV(R).$implicit;return t.DH7(k[0],P)||(k[0]=P),t.Njj(P)}),t.DNE(4,M,2,2,"mat-option",25),t.k0s()(),t.j41(5,"mat-form-field",13)(6,"input",26),t.mxI("ngModelChange",function(P){const k=t.eBV(R).$implicit;return t.DH7(k[1],P)||(k[1]=P),t.Njj(P)}),t.k0s(),t.j41(7,"mat-error"),t.EFF(8,"Rule value is required"),t.k0s()(),t.j41(9,"button",27),t.bIt("click",function(){const P=t.eBV(R).index,k=t.XpG().$implicit;return t.Njj(k.rules.splice(P,1))}),t.j41(10,"app-icon"),t.EFF(11,"delete"),t.k0s()()()}if(2&l){const R=$.$implicit,F=t.XpG(2);t.R7$(3),t.R50("ngModel",R[0]),t.R7$(),t.Y8G("ngForOf",F.rule_types),t.R7$(2),t.R50("ngModel",R[1])}}function D(l,$){if(1&l){const R=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"mat-form-field",13)(3,"input",14),t.mxI("ngModelChange",function(P){const k=t.eBV(R).$implicit;return t.DH7(k.name,P)||(k.name=P),t.Njj(P)}),t.k0s(),t.j41(4,"mat-error"),t.EFF(5,"Ruleset name is required"),t.k0s()(),t.j41(6,"button",15)(7,"app-icon"),t.EFF(8,"more_vert"),t.k0s()(),t.j41(9,"mat-menu",null,0)(11,"button",16),t.bIt("click",function(){const P=t.eBV(R).$implicit,k=t.XpG();return P.rules.push(["",""]),t.Njj(k.show_rules=P.id)}),t.j41(12,"div",17)(13,"app-icon",18),t.EFF(14,"add"),t.k0s(),t.j41(15,"div"),t.EFF(16,"Add Rule"),t.k0s()()(),t.j41(17,"button",16),t.bIt("click",function(){const P=t.eBV(R).$implicit,k=t.XpG();return t.Njj(k.show_rules=k.show_rules!==P.id?P.id:"")}),t.j41(18,"div",17)(19,"app-icon",18),t.EFF(20),t.k0s(),t.j41(21,"div"),t.EFF(22),t.k0s()()(),t.j41(23,"button",16),t.bIt("click",function(){const P=t.eBV(R).index,k=t.XpG();return t.Njj(k.rulesets.splice(P,1))}),t.j41(24,"div",19)(25,"app-icon",18),t.EFF(26,"delete"),t.k0s(),t.j41(27,"div"),t.EFF(28,"Remove Ruleset"),t.k0s()()()()(),t.j41(29,"div",20),t.DNE(30,x,12,3,"div",21),t.k0s()()}if(2&l){const R=$.$implicit,F=t.sdS(10),P=t.XpG();t.R7$(3),t.R50("ngModel",R.name),t.R7$(3),t.Y8G("matMenuTriggerFor",F),t.R7$(14),t.JRh(P.show_rules===R.id?"expand_less":"expand_more"),t.R7$(2),t.SpI(" ",P.show_rules===R.id?"Hide":"Show"," Rules "),t.R7$(7),t.xc7("height",(P.show_rules===R.id?4*R.rules.length:0)+"em"),t.R7$(),t.Y8G("ngForOf",R.rules)}}const A=[{id:"after_hour",name:"After Hour of Day"},{id:"before_hour",name:"Before Hour of Day"},{id:"min_length",name:"Min. Meeting Length"},{id:"max_length",name:"Max. Meeting Length"},{id:"is_before",name:"Is Hours before Meeting"},{id:"within_hours",name:"Within Hours before Meeting"},{id:"visitor_type",name:"Visitor Type"},{id:"groups",name:"User in Groups"}];let L=(()=>{class l extends f.Tv{get new_id(){return"ruleset-"+Math.floor(99999999*Math.random())}get can_save_notes(){return!!this._data.saveNotes}constructor(R){super(),this._data=R,this.event=new t.bkB,this.loading=!1,this.require_notes=this._data.require_notes,this.resource_name=this._data.resource_name||"Catering",this.rule_types=A,this.rulesets=(R.config||[]).map(F=>(F.rules=F.rules.map(P=>[P[0],JSON.stringify(P[1])]),F))}saveNotesSetting(R){this.timeout("save-notes",()=>this._data.saveNotes?this._data.saveNotes(R):"",1e3)}saveChanges(){this.loading=!0;const R=this.rulesets.map(F=>({...F,rules:F.rules.map(P=>{let k=P[1];try{k=JSON.parse(P[1])}catch{}return[P[0],k]})}));this.event.emit({reason:"done",metadata:R})}static#e=this.\u0275fac=function(F){return new(F||l)(t.rXU(n.Vh))};static#t=this.\u0275cmp=t.VBU({type:l,selectors:[["attached-resource-config-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:12,vars:4,consts:[["menu","matMenu"],["icon","","mat-dialog-close","",4,"ngIf"],[1,"overflow-auto","text-center","max-w-lg","min-w-[32rem]","px-4","pt-2","pb-4","space-y-2"],["class","text-left p-2 rounded bg-base-200",4,"ngIf"],["btn","","matRipple","",1,"w-full",3,"click"],["class","ruleset mb-2",4,"ngFor","ngForOf"],[1,"flex","py-2","px-4","items-center","justify-end","border-t","border-solid","border-base-200"],["btn","","matRipple","",1,"w-36",3,"click"],["icon","","mat-dialog-close",""],[1,"text-left","p-2","rounded","bg-base-200"],[3,"ngModelChange","ngModel"],[1,"ruleset","mb-2"],[1,"flex","items-center","mb-2","space-x-2"],["appearance","outline",1,"flex-1","no-subscript"],["matInput","","name","name","placeholder","Zone ID, Category or Tag","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","space-x-2","text-error"],["name","rules",1,"overflow-hidden"],["class","flex items-center pl-7 h-16 space-x-2 relative",4,"ngFor","ngForOf"],[1,"flex","items-center","pl-7","h-16","space-x-2","relative"],[1,"absolute","left-3","top-1/2","-translate-y-full","w-4","h-32","border-b-2","border-l-2","border-base-200"],["name","booking-type","placeholder","Select Rule",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","value","placeholder","Rule value","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"click"],[3,"value"]],template:function(F,P){1&F&&(t.j41(0,"header")(1,"h3"),t.EFF(2),t.k0s(),t.DNE(3,E,3,0,"button",1),t.k0s(),t.j41(4,"main",2),t.DNE(5,u,3,1,"div",3),t.j41(6,"button",4),t.bIt("click",function(){return P.rulesets.push({id:P.new_id,rules:[]})}),t.EFF(7," New Ruleset "),t.k0s(),t.DNE(8,D,31,7,"div",5),t.k0s(),t.j41(9,"footer",6)(10,"button",7),t.bIt("click",function(){return P.saveChanges()}),t.EFF(11," Save Changes "),t.k0s()()),2&F&&(t.R7$(2),t.SpI("Edit ",P.resource_name," Configuration"),t.R7$(),t.Y8G("ngIf",!P.loading),t.R7$(2),t.Y8G("ngIf",P.can_save_notes),t.R7$(3),t.Y8G("ngForOf",P.rulesets))},dependencies:[v.Sq,v.bT,b.me,b.BC,b.YS,b.vS,C.wT,g.kk,g.fb,g.Cp,S.rl,S.TL,h.VO,C.r6,n.tx,y.fg,O.So,m.R],styles:["[name=rules][_ngcontent-%COMP%]{transition:height .2s}"]})}return l})()},3208:(At,ue,a)=>{"use strict";a.d(ue,{U:()=>C});var t=a(467),n=a(2333),f=a(5157),v=a(3953);const b=new Map;let C=(()=>{class g extends n.Tv{constructor(h){super(),this._image_el=h}ngOnChanges(h){h.source&&this.source&&this._loadImage()}_loadImage(){var h=this;return(0,t.A)(function*(){if(!h._image_el||!(0,f.kup)())return h.timeout("load",()=>h._loadImage(),300);if(!h.source.includes("/api/engine/v2/uploads"))return void(h._image_el.nativeElement.src=h.source);if(b.has(h.source))return void(h._image_el.nativeElement.src=b.get(h.source));const y=(0,f.ShT)();console.log("Image Token:",y),document.cookie=`${"x-api-key"===y?"api-key="+encodeURIComponent((0,f.Kz4)()):"bearer_token="+encodeURIComponent(y)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`;const m=yield(yield fetch(h.source)).blob(),E=URL.createObjectURL(m);b.set(h.source,E),h._image_el.nativeElement.src=E})()}static#e=this.\u0275fac=function(y){return new(y||g)(v.rXU(v.aKT))};static#t=this.\u0275dir=v.FsC({type:g,selectors:[["img","auth",""]],inputs:{source:"source"},features:[v.Vt3,v.OA$]})}return g})()},375:(At,ue,a)=>{"use strict";a.d(ue,{D:()=>x});var t=a(467),n=a(3953),f=a(2333),v=a(2185),b=a(8363),C=a(9493),g=a(4006),S=a(177),h=a(6600),y=a(9183),O=a(2765),m=a(9434);function E(D,A){if(1&D){const L=n.RV6();n.j41(0,"tr",14),n.bIt("click",function(){const $=n.eBV(L).$implicit,R=n.XpG(2);return n.Njj(R.toggleRoom($.id))}),n.j41(1,"td"),n.nrm(2,"mat-checkbox",15),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",16)(6,"div",17),n.EFF(7),n.k0s()()()}if(2&D){const L=A.$implicit,l=n.XpG(2);n.R7$(2),n.Y8G("checked",l.selected.includes(L.id)),n.R7$(2),n.JRh(L.display_name||L.name),n.R7$(2),n.AVh("bg-success",!(null!=l.disabled_rooms&&l.disabled_rooms.includes(L.id)))("bg-error",null==l.disabled_rooms?null:l.disabled_rooms.includes(L.id)),n.R7$(),n.SpI(" ",null!=l.disabled_rooms&&l.disabled_rooms.includes(L.id)?"Disabled":"Enabled"," ")}}function u(D,A){if(1&D){const L=n.RV6();n.j41(0,"main",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"td",10),n.bIt("click",function(){n.eBV(L);const $=n.XpG();return n.Njj($.toggleRoom("*"))}),n.nrm(5,"mat-checkbox",11),n.nI1(6,"async"),n.nI1(7,"async"),n.k0s(),n.nrm(8,"td"),n.j41(9,"td",12),n.EFF(10),n.nI1(11,"async"),n.k0s()()(),n.j41(12,"tbody"),n.DNE(13,E,8,7,"tr",13),n.nI1(14,"async"),n.k0s()()()}if(2&D){let L,l,$;const R=n.XpG();n.R7$(5),n.Y8G("checked",(null==(L=n.bMT(6,4,R.rooms))?null:L.length)===R.selected.length)("indeterminate",R.selected.length>0&&(null==(l=n.bMT(7,6,R.rooms))?null:l.length)!==R.selected.length),n.R7$(5),n.SpI(" ",null==($=n.bMT(11,8,R.rooms))?null:$.length," Room(s) "),n.R7$(3),n.Y8G("ngForOf",n.bMT(14,10,R.rooms))}}function M(D,A){1&D&&(n.j41(0,"main",18),n.nrm(1,"mat-spinner",19),n.j41(2,"p"),n.EFF(3,"Saving disabled room list..."),n.k0s()())}let x=(()=>{class D{constructor(L,l){this._data=L,this._org=l,this.change=new n.bkB,this.loading=!1,this.selected=[],this.rooms=(0,b.Ot)(this._org.building.id),this.type=this._data.type,this.disabled_rooms=this._data.disabled_rooms}toggleRoom(L){var l=this;return(0,t.A)(function*(){if("*"===L){const $=yield l.rooms.pipe((0,C.s)(1)).toPromise();l.selected=l.selected.length!==$.length?$.map(R=>R.id):[]}else l.selected=l.selected.includes(L)?l.selected.filter($=>$!==L):[...l.selected,L]})()}enableSelected(){var L=this;return(0,t.A)(function*(){L.loading=!0;const $=L.disabled_rooms.filter(R=>!L.selected.includes(R));L.disabled_rooms=$,L.change.next($)})()}disableSelected(){var L=this;return(0,t.A)(function*(){L.loading=!0;const $=(0,f.Am)(L.disabled_rooms.concat(L.selected));L.disabled_rooms=$,L.change.next($)})()}static#e=this.\u0275fac=function(l){return new(l||D)(n.rXU(g.Vh),n.rXU(v.yb))};static#t=this.\u0275cmp=n.VBU({type:D,selectors:[["catering-rooms-state-modal"]],outputs:{change:"change"},decls:15,vars:3,consts:[["load_state",""],[1,"flex","items-center","justify-between","p-2"],[1,"p-2"],["icon","","mat-dialog-close",""],["class","max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"flex","items-center","p-2","justify-end","space-x-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"max-h-[65vh]","overflow-auto"],[1,"min-w-[32rem]"],[1,"border-b","border-base-200"],[1,"w-12",3,"click"],[1,"pointer-events-none",3,"checked","indeterminate"],[1,"text-right","text-xs"],["class","hover:bg-neutral:bg-base-100/5",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-neutral:bg-base-100/5",3,"click"],[1,"pointer-events-none",3,"checked"],[1,"text-center"],[1,"ml-auto","px-3","py-1","rounded-2xl","text-white","w-24"],[1,"w-64","h-48","p-8","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(l,$){if(1&l){const R=n.RV6();n.j41(0,"div")(1,"header",1)(2,"h3",2),n.EFF(3),n.k0s(),n.j41(4,"button",3)(5,"app-icon"),n.EFF(6,"close"),n.k0s()()(),n.DNE(7,u,15,12,"main",4),n.j41(8,"footer",5)(9,"button",6),n.bIt("click",function(){return n.eBV(R),n.Njj($.enableSelected())}),n.EFF(10," Enable Selected "),n.k0s(),n.j41(11,"button",6),n.bIt("click",function(){return n.eBV(R),n.Njj($.disableSelected())}),n.EFF(12," Disable Selected "),n.k0s()()(),n.DNE(13,M,4,0,"ng-template",null,0,n.C5r)}if(2&l){const R=n.sdS(14);n.R7$(3),n.SpI("Set ",$.type," Availability for Rooms"),n.R7$(4),n.Y8G("ngIf",!$.loading)("ngIfElse",R)}},dependencies:[S.Sq,S.bT,h.r6,g.tx,y.LG,O.So,m.R,S.Jj],styles:["td[_ngcontent-%COMP%]{padding:.5rem}"]})}return D})()},3938:(At,ue,a)=>{"use strict";a.d(ue,{J:()=>C});var t=a(3953),n=a(5157),f=a(2333),v=a(4046),b=a(8728);let C=(()=>{class g extends f.Tv{constructor(h,y){super(),this._element=h,this._renderer=y,this.sys="",this.mod="",this.index=1,this.bind="",this.exec="",this.delay=100,this.on_event="",this.params=null,this.ignore=!1,this.model=null,this.modelChange=new t.bkB,this._binding=!1,this._old_model=null}ngOnInit(){(0,n.XYg)()?.pipe((0,v.$)(h=>h)).subscribe(h=>this.bindVariable())}ngOnChanges(h){(h.sys||h.mod||h.bind)&&this.bindVariable(),h.model&&this._old_model!==this.model&&null!=this.model&&(this._old_model=this.model,this.execute()),h.on_event&&this.on_event&&this.subscription("on_event",this._renderer.listen(this._element.nativeElement,this.on_event,()=>this.execute()))}bindVariable(){(0,n.kup)()&&this.bind&&this.sys&&this.mod&&!this._binding&&this.timeout("bind",()=>{const y=(0,n.f_4)(this.sys,this.mod,this.index).binding(this.bind);this._binding=!0,this.subscription("binding",y.bind()),this.subscription("on_changes",y.listen().pipe((0,b.p)(O=>null!=O)).subscribe(O=>{setTimeout(()=>{this._binding=!1,this.clearTimeout("bound"),!this.ignore&&(this.model=O,this._old_model=this.model,this.modelChange.emit(this.model))},10)})),this.timeout("bound",()=>this._binding=!1,200)},20)}execute(){(0,n.kup)()&&this.exec&&this.sys&&this.mod&&!this._timers.execute&&this.timeout("execute",()=>{const h=(0,n.f_4)(this.sys,this.mod,this.index);let y=this.params;this.bind&&(y=this.params||[this.model]),h.execute(this.exec,y||[]).then(O=>{this.bind||(this.model=O,this._old_model=this.model,this.modelChange.emit(this.model))})},this.delay)}static#e=this.\u0275fac=function(y){return new(y||g)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:g,selectors:[["i","bind",""],["","binding",""],["co-bind"]],inputs:{sys:"sys",mod:"mod",index:"index",bind:"bind",exec:"exec",delay:"delay",on_event:[0,"onEvent","on_event"],params:"params",ignore:"ignore",model:"model"},outputs:{modelChange:"modelChange"},features:[t.Vt3,t.OA$]})}return g})()},5550:(At,ue,a)=>{"use strict";a.d(ue,{C:()=>h});var t=a(8030),n=a(2185),f=a(3953),v=a(177),b=a(9417),C=a(5951),g=a(9434);function S(y,O){if(1&y){const m=f.RV6();f.j41(0,"mat-radio-button",8),f.bIt("click",function(){const u=f.eBV(m).$implicit,M=f.XpG();return f.Njj(M.setBuilding(u))}),f.EFF(1),f.k0s()}if(2&y){const m=O.$implicit;f.Y8G("value",m.id),f.R7$(),f.SpI(" ",m.display_name||m.name," ")}}let h=(()=>{class y{constructor(m,E){this._data=m,this._org=E,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.setBuilding=u=>{this._org.building=u,this._org.saveBuilding(u.id),this._data?.close()},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(E){return new(E||y)(f.rXU(t.Dd),f.rXU(n.yb))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["building-select"]],decls:14,vars:11,consts:()=>{let m;return m=$localize`:f6bc545a20f571c426f74d4d3522b71334f2b8454543839253815117286: Select a building location `,[m,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(E,u){if(1&E&&(f.j41(0,"div",1),f.bIt("click",function(){return u.close()}),f.j41(1,"div",2)(2,"app-icon",3),f.EFF(3,"arrow_back"),f.k0s(),f.j41(4,"div",4),f.EFF(5),f.nI1(6,"async"),f.nI1(7,"async"),f.k0s()(),f.j41(8,"div",5),f.pXf(9,0),f.k0s(),f.j41(10,"mat-radio-group",6),f.nI1(11,"async"),f.DNE(12,S,2,2,"mat-radio-button",7),f.nI1(13,"async"),f.k0s()()),2&E){let M,x;f.R7$(5),f.SpI(" ",(null==(M=f.bMT(6,3,u.building))?null:M.display_name)||(null==(M=f.bMT(7,5,u.building))?null:M.name)," "),f.R7$(5),f.Y8G("ngModel",null==(x=f.bMT(11,7,u.building))?null:x.id),f.R7$(2),f.Y8G("ngForOf",f.bMT(13,9,u.buildings))}},dependencies:[v.Sq,b.BC,b.vS,C.VT,C._g,g.R,v.Jj]})}return y})()},6062:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>f});var t=a(2185),n=a(3953);let f=(()=>{class v{constructor(C){this._org=C}transform(C){return this._org.buildings.find(g=>C instanceof Array?C.includes(g.id):g.id===C)}static#e=this.\u0275fac=function(g){return new(g||v)(n.rXU(t.yb,16))};static#t=this.\u0275pipe=n.EJ8({name:"building",type:v,pure:!0})}return v})()},5991:(At,ue,a)=>{"use strict";a.d(ue,{l:()=>h});var t=a(4006),n=a(222),f=a(3953),v=a(177),b=a(9434),C=a(6781);function g(y,O){if(1&y&&(f.nrm(0,"main",4),f.nI1(1,"safe")),2&y){const m=f.XpG();f.Y8G("innerHTML",f.i5U(1,1,m.changelog,"html"),f.npT)}}function S(y,O){1&y&&(f.j41(0,"div",5)(1,"app-icon",6),f.EFF(2,"close"),f.k0s(),f.j41(3,"div",7),f.EFF(4,"No changelog"),f.k0s()())}let h=(()=>{class y{constructor(m){this._data=m}get changelog(){return(0,n.xI)(this._data.changelog||"",{async:!1})}static#e=this.\u0275fac=function(E){return new(E||y)(f.rXU(t.Vh))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["changelog-modal"]],decls:9,vars:2,consts:[["empty_state",""],["mat-dialog-title",""],["icon","","mat-dialog-close",""],["class","p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"p-4","markdown","max-h-[65vh]","max-w-[80vw]","overflow-auto",3,"innerHTML"],[1,"flex","items-center","justify-center","flex-col","space-y-2"],[1,"text-3xl"],[1,"text"]],template:function(E,u){if(1&E&&(f.j41(0,"header")(1,"h3",1),f.EFF(2,"Changelog"),f.k0s(),f.j41(3,"button",2)(4,"app-icon"),f.EFF(5,"close"),f.k0s()()(),f.DNE(6,g,2,4,"main",3)(7,S,5,0,"ng-template",null,0,f.C5r)),2&E){const M=f.sdS(8);f.R7$(6),f.Y8G("ngIf",u.changelog)("ngIfElse",M)}},dependencies:[v.bT,t.tx,t.BI,b.R,C.m]})}return y})()},7080:(At,ue,a)=>{"use strict";a.d(ue,{K:()=>de});var t=a(2333),n=a(2185),f=a(5157),v=a(9928),b=a(9714),C=a(8728),g=a(5006),S=a(9090),h=a(8712),y=a(4119),O=a(222),m=a(3953);let E=(()=>{class se extends t.Tv{get connected(){return!!this._socket}constructor(z,w){super(),this._org=z,this._settings=w,this._chat_messages=new v.t([]),this._progress_message=new v.t(null),this._chat_system=this._org.active_building.pipe((0,C.p)(j=>!!j),(0,g.T)(j=>this._org.binding("chat_room"))),this._chat_id="",this.chat_hint=this._chat_system.pipe((0,C.p)(j=>!!j),(0,S.n)(j=>{const ne=(0,f.f_4)(j,"LLM").binding("user_hint");return this.subscription("binding:LLM:user_hint",ne.bind()),ne.listen()}),(0,h.t)(1)),this._change=new v.t(0),this._chat_pipe=(0,b.zV)([this._chat_system,this._change]).pipe((0,S.n)(([j])=>{const W="x-api-key"!==(0,f.ShT)()?`bearer_token=${encodeURIComponent((0,f.ShT)())}`:`x-api-key=${(0,f.Kz4)()}`,ne=`ws${location.origin.replace("http","")}/api/engine/v2/chatgpt/chat/${encodeURIComponent(j)}?${W}${this._chat_id?"&resume="+encodeURIComponent(this._chat_id):""}`;return this._socket=(0,y.K)({url:ne,serializer:fe=>"object"==typeof fe?JSON.stringify(fe):fe,deserializer:fe=>{let ae=fe.data;try{ae=JSON.parse(fe.data)}catch{}return ae}}),this.subscription("chat-ws",this._socket.subscribe(fe=>this._onMessage(fe),fe=>this._cleanup(),()=>this._cleanup())),this._socket}),(0,h.t)(1)),this.messages=this._chat_messages.asObservable(),this.progress=this._progress_message.asObservable()}startChat(){if(!this._socket)return this._change.next(Date.now()),(0,t.Rm)("CHAT","Starting chat connection."),this.subscription("chat",this._chat_pipe.subscribe()),()=>this.endChat()}endChat(){(0,t.Rm)("CHAT","Dropping chat connection."),this._socket?.complete(),this._cleanup()}close(){this.endChat(),this._chat_id="",this._chat_messages.next([])}sendMessage(z){z&&(this._onMessage({chat_id:"",message:z,user_id:(0,t.Ny)().id}),this._socket?.next(z))}_timeoutSocket(z=55e3){this.timeout("socket",()=>{const w=this._chat_messages.getValue();if(w.length>0&&"assistant"!==w[w.length-1].user_id)return this._timeoutSocket(z);this.endChat()},z)}_cleanup(){this._socket=null,this.unsubWith("chat")}_onMessage(z){z.chat_id&&(this._chat_id=z.chat_id),"progress"===z.type?(this._progress_message.next({id:`msg-${(0,t.DU)(6)}`,chat_id:z.chat_id,message:z.message,content:O.qg(z.message,{async:!1}),user_id:z.user_id||"assistant",function:z.function,timestamp:Date.now()}),"task_complete"===z.function&&this._settings.post("CHAT:task_complete",z.task_id)):(this._chat_messages.next([...this._chat_messages.getValue(),{id:`msg-${(0,t.DU)(6)}`,chat_id:z.chat_id,message:z.message,content:O.qg(z.message,{async:!1}),user_id:z.user_id||"assistant",timestamp:Date.now()}]),"response"===z.type&&this._progress_message.next(null)),this._timeoutSocket()}static#e=this.\u0275fac=function(w){return new(w||se)(m.KVO(n.yb),m.KVO(t.h$))};static#t=this.\u0275prov=m.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();var u=a(177),M=a(9417),x=a(6600),D=a(9434),A=a(4616),L=a(7025);const l=["input"],$=["container"];function R(se,ce){if(1&se&&(m.j41(0,"div",21),m.EFF(1),m.nI1(2,"async"),m.k0s()),2&se){const z=m.XpG(3);m.R7$(),m.SpI(" ",m.bMT(2,1,z.hint)," ")}}function F(se,ce){1&se&&(m.j41(0,"div",27),m.EFF(1," Assistant "),m.k0s())}function P(se,ce){if(1&se){const z=m.RV6();m.j41(0,"div",22),m.nI1(1,"async"),m.bIt("click",function(){const j=m.eBV(z).$implicit,W=m.XpG(3);return m.Njj(W.show_time[j.id]=!W.show_time[j.id])}),m.j41(2,"div",23),m.DNE(3,F,2,0,"div",24),m.j41(4,"div",25),m.EFF(5),m.nI1(6,"dateFrom"),m.k0s()(),m.nrm(7,"div",26),m.nI1(8,"sanitize"),m.k0s()}if(2&se){const z=ce.$implicit,w=m.XpG(3);m.AVh("pr-4",z.user_id!==w.user.id)("pl-4",z.user_id===w.user.id)("items-left",z.user_id!==w.user.id)("items-end",z.user_id===w.user.id)("waiting-margin",m.bMT(1,13,w.waiting)),m.R7$(3),m.Y8G("ngIf",z.user_id!==w.user.id),m.R7$(2),m.SpI(" ",m.bMT(6,15,z.timestamp+w.offset)," "),m.R7$(2),m.Y8G("innerHTML",m.bMT(8,17,z.content),m.npT)}}function k(se,ce){if(1&se&&(m.nrm(0,"div",35),m.nI1(1,"async"),m.nI1(2,"sanitize")),2&se){const z=m.XpG(4);m.Y8G("innerHTML",m.bMT(2,3,m.bMT(1,1,z.progress).content),m.npT)}}function V(se,ce){if(1&se){const z=m.RV6();m.j41(0,"div",28)(1,"button",29),m.bIt("click",function(){m.eBV(z);const j=m.XpG(3);return m.Njj(j.show_info=!j.show_info)}),m.j41(2,"div",23)(3,"app-icon",30),m.EFF(4),m.nI1(5,"async"),m.k0s(),m.j41(6,"p",31),m.EFF(7),m.nI1(8,"async"),m.nI1(9,"async"),m.k0s()(),m.j41(10,"div",32),m.nrm(11,"div",33),m.DNE(12,k,3,5,"div",34),m.k0s()()()}if(2&se){const z=m.XpG(3);m.R7$(4),m.JRh(z.icons[m.bMT(5,3,z.progress).function]||"info"),m.R7$(3),m.SpI(" ",m.bMT(8,5,z.progress).message||m.bMT(9,7,z.progress).function," "),m.R7$(5),m.Y8G("ngIf",z.show_info)}}function K(se,ce){if(1&se&&(m.j41(0,"div",36),m.nrm(1,"div",37)(2,"div",38)(3,"div",39),m.j41(4,"span",40),m.EFF(5,"Waiting for reply..."),m.k0s()()),2&se){const z=m.XpG(3);m.xc7("bottom",z.height+8+"px")}}function X(se,ce){if(1&se){const z=m.RV6();m.j41(0,"div",6)(1,"div",7)(2,"h3",8),m.EFF(3,"Virtual Assistant"),m.k0s(),m.j41(4,"button",9),m.bIt("click",function(){m.eBV(z);const j=m.XpG(2);return m.Njj(j.toggleChat())}),m.j41(5,"app-icon"),m.EFF(6,"close"),m.k0s()()(),m.j41(7,"div",10,0)(9,"div",11)(10,"app-icon",12),m.EFF(11,"forum"),m.k0s(),m.j41(12,"p",13),m.EFF(13),m.nrm(14,"br"),m.EFF(15," Welcome to the virtual assistant. "),m.k0s()(),m.DNE(16,R,3,3,"div",14),m.nI1(17,"async"),m.DNE(18,P,9,19,"div",15),m.nI1(19,"async"),m.DNE(20,V,13,9,"div",16),m.nI1(21,"async"),m.k0s(),m.DNE(22,K,6,2,"div",17),m.nI1(23,"async"),m.j41(24,"div",18)(25,"textarea",19,1),m.mxI("ngModelChange",function(j){m.eBV(z);const W=m.XpG(2);return m.DH7(W.message,j)||(W.message=j),m.Njj(j)}),m.bIt("ngModelChange",function(){m.eBV(z);const j=m.XpG(2);return m.Njj(j.resizeInput())})("keyup.enter",function(){m.eBV(z);const j=m.XpG(2);return m.Njj(j.sendMessage())}),m.k0s(),m.j41(27,"button",20),m.bIt("click",function(){m.eBV(z);const j=m.XpG(2);return m.Njj(j.sendMessage())}),m.j41(28,"app-icon"),m.EFF(29,"send"),m.k0s()()()()}if(2&se){const z=m.XpG(2);m.R7$(13),m.SpI(" Hi ",z.user.name,". "),m.R7$(3),m.Y8G("ngIf",m.bMT(17,9,z.hint)),m.R7$(2),m.Y8G("ngForOf",m.bMT(19,11,z.messages)),m.R7$(2),m.Y8G("ngIf",m.bMT(21,13,z.progress)),m.R7$(2),m.Y8G("ngIf",m.bMT(23,15,z.waiting)),m.R7$(3),m.xc7("height",z.height+"px"),m.R50("ngModel",z.message),m.R7$(2),m.Y8G("disabled",!z.message)}}function Q(se,ce){if(1&se){const z=m.RV6();m.j41(0,"div",3)(1,"button",4),m.bIt("click",function(){m.eBV(z);const j=m.XpG();return m.Njj(j.toggleChat())}),m.j41(2,"app-icon"),m.EFF(3,"chat"),m.k0s()(),m.DNE(4,X,30,17,"div",5),m.k0s()}if(2&se){const z=m.XpG();m.R7$(4),m.Y8G("ngIf",z.show)}}let de=(()=>{class se extends t.Tv{get can_show(){return this._settings.get("app.chat.enabled")}toggleChat(){this.show=!this.show,this.show||this._chat.close()}constructor(z,w){super(),this._settings=z,this._chat=w,this.show=!1,this.show_info=!1,this.message="",this.show_time={},this.offset=0,this.height=56,this.icons={list_function_schemas:"help",call_function:"settings",task_complete:"check_circle"},this.hint=this._chat.chat_hint,this.messages=this._chat.messages,this.progress=this._chat.progress,this.waiting=this._chat.messages.pipe((0,g.T)(j=>0!==j.length&&j[j.length-1]?.user_id===this.user?.id))}ngOnInit(){this.subscription("current_user",t.U5.subscribe(z=>this.user=z)),this.subscription("hint",this.hint.subscribe(()=>this.scrollToBottom(500))),this.subscription("messages",this.messages.subscribe(()=>this.scrollToBottom())),this.subscription("progress",this.progress.subscribe(z=>z?this.scrollToBottom():this.show_info=!1)),this.interval("offset",()=>this.offset=this.offset?0:1,2e4)}resizeInput(){this.height=Math.max(this._input_el.nativeElement.scrollHeight,56)}sendMessage(){if(this.message){if(!this._chat.connected)return this._chat.startChat(),this.timeout("send",()=>this.sendMessage(),100);this._chat.sendMessage(this.message),this.message="",this.height=56,setTimeout(()=>this._input_el.nativeElement.focus(),100)}}scrollToBottom(z=300){this.timeout("scroll",()=>{this._container_el?.nativeElement&&(this._container_el.nativeElement.scrollTop=this._container_el.nativeElement.scrollHeight)},z)}static#e=this.\u0275fac=function(w){return new(w||se)(m.rXU(t.h$),m.rXU(E))};static#t=this.\u0275cmp=m.VBU({type:se,selectors:[["global-chat"]],viewQuery:function(w,j){if(1&w&&(m.GBs(l,5),m.GBs($,5)),2&w){let W;m.mGM(W=m.lsd())&&(j._input_el=W.first),m.mGM(W=m.lsd())&&(j._container_el=W.first)}},features:[m.Vt3],decls:1,vars:1,consts:[["container",""],["input",""],["class","absolute bottom-0 right-0 p-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","p-2"],["icon","","matRipple","",1,"bg-base-100","rounded-full","border","border-base-300","shadow",3,"click"],["class","absolute bottom-2 right-2 bg-base-200 rounded-xl border border-base-300 shadow overflow-hidden w-[40rem] max-w-[calc(100vw-1rem)]",4,"ngIf"],[1,"absolute","bottom-2","right-2","bg-base-200","rounded-xl","border","border-base-300","shadow","overflow-hidden","w-[40rem]","max-w-[calc(100vw-1rem)]"],[1,"flex","items-center","justify-between","bg-base-100","w-full","p-2","border-b","border-base-300"],[1,"pl-4"],["icon","","matRipple","",3,"click"],[1,"h-[32rem]","max-h-[60vh]","overflow-auto"],[1,"w-full","flex","flex-col","items-center","justify-center","p-8","space-y-2"],[1,"text-8xl"],[1,"text-center","text-xl"],["class","m-2 bg-base-100 border-base-300 p-4 rounded shadow text-sm",4,"ngIf"],["class","flex flex-col m-2",3,"pr-4","pl-4","items-left","items-end","waiting-margin","click",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],["class","absolute right-2 flex items-center justify-center space-x-2 p-1 rounded-2xl bg-base-100 border border-neutral",3,"bottom",4,"ngIf"],[1,"flex","bg-base-100","focus-within:outline","outline-info","border-t","border-base-300","max-h-[10rem]","overflow-y-auto"],["placeholder","New message...",1,"p-4","flex-1","w-1/2","focus:outline-none","resize-none","overflow-hidden",3,"ngModelChange","keyup.enter","ngModel"],["icon","","matRipple","",1,"mt-2",3,"click","disabled"],[1,"m-2","bg-base-100","border-base-300","p-4","rounded","shadow","text-sm"],[1,"flex","flex-col","m-2",3,"click"],[1,"flex","items-center","space-x-2"],["class","text-sm text-base-content opacity-60 px-2 py-1",4,"ngIf"],[1,"text-xs","text-base-content","opacity-40","px-2","py-1"],["message","",1,"bg-base-100","border-base-300","p-4","rounded","shadow","text-sm","markdown","selectable",3,"innerHTML"],[1,"text-sm","text-base-content","opacity-60","px-2","py-1"],[1,"p-4"],[1,"block","p-2","rounded","border-base-300","bg-info","text-info-content","w-full",3,"click"],[1,"text-2xl"],[1,"text-sm"],[1,"relative","overflow-hidden","w-full","rounded"],[1,"absolute","inset-0","bg-base-100","opacity-10"],["class","text-xs text-mono text-left p-2 break-words",3,"innerHTML",4,"ngIf"],[1,"text-xs","text-mono","text-left","p-2","break-words",3,"innerHTML"],[1,"absolute","right-2","flex","items-center","justify-center","space-x-2","p-1","rounded-2xl","bg-base-100","border","border-neutral"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-1"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-2"],[1,"sr-only"]],template:function(w,j){1&w&&m.DNE(0,Q,5,1,"div",2),2&w&&m.Y8G("ngIf",j.can_show)},dependencies:[u.Sq,u.bT,M.me,M.BC,M.vS,x.r6,D.R,u.Jj,A.a,L.l],styles:[".anim-delay-1[_ngcontent-%COMP%]{animation-delay:.25s}.anim-delay-2[_ngcontent-%COMP%]{animation-delay:.5s}.waiting-margin[_ngcontent-%COMP%]:last-child{padding-bottom:2rem}"]})}return se})()},1395:(At,ue,a)=>{"use strict";a.d(ue,{h:()=>Oe});var t=a(177),n=a(9417),f=a(4006),v=a(9115),b=a(3719),C=a(2798),g=a(850),S=a(5084),h=a(9631),y=a(6471),O=a(9183),m=a(3801),E=a(6600),u=a(6695),M=a(5887),x=a(6939),D=a(4823),A=a(2765),L=a(5951),l=a(3881),$=a(450),R=a(8617),k=(a(5024),a(7336),a(3953));a(8203);const K=["button"],X=["*"];function Q(Je,J){if(1&Je&&k.nrm(0,"mat-pseudo-checkbox",3),2&Je){const he=k.XpG();k.Y8G("disabled",he.disabled)}}function de(Je,J){if(1&Je&&k.nrm(0,"mat-pseudo-checkbox",3),2&Je){const he=k.XpG();k.Y8G("disabled",he.disabled)}}const se=new k.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function ce(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),z=new k.nKC("MatButtonToggleGroup");let j=0;class W{constructor(J,he){this.source=J,this.value=he}}let fe=(()=>{class Je{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(he){this._tabIndex=he,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(he){this._appearance=he}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(he){he!==this._checked&&(this._checked=he,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(he){this._disabled=he}constructor(he,ge,ze,yt,mn,Ln){this._changeDetectorRef=ge,this._elementRef=ze,this._focusMonitor=yt,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new k.bkB;const ri=Number(mn);this.tabIndex=ri||0===ri?ri:null,this.buttonToggleGroup=he,this.appearance=Ln&&Ln.appearance?Ln.appearance:"standard"}ngOnInit(){const he=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+j++,he&&(he._isPrechecked(this)?this.checked=!0:he._isSelected(this)!==this._checked&&he._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const he=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),he&&he._isSelected(this)&&he._syncButtonToggle(this,!1,!1,!0)}focus(he){this._buttonElement.nativeElement.focus(he)}_onButtonClick(){const he=!!this.isSingleSelector()||!this._checked;if(he!==this._checked&&(this._checked=he,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const ge=this.buttonToggleGroup._buttonToggles.find(ze=>0===ze.tabIndex);ge&&(ge.tabIndex=-1),this.tabIndex=0}this.change.emit(new W(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(ge){return new(ge||Je)(k.rXU(z,8),k.rXU(k.gRc),k.rXU(k.aKT),k.rXU(R.FN),k.kS0("tabindex"),k.rXU(se,8))};static#t=this.\u0275cmp=k.VBU({type:Je,selectors:[["mat-button-toggle"]],viewQuery:function(ge,ze){if(1&ge&&k.GBs(K,5),2&ge){let yt;k.mGM(yt=k.lsd())&&(ze._buttonElement=yt.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(ge,ze){1&ge&&k.bIt("focus",function(){return ze.focus()}),2&ge&&(k.BMQ("aria-label",null)("aria-labelledby",null)("id",ze.id)("name",null),k.AVh("mat-button-toggle-standalone",!ze.buttonToggleGroup)("mat-button-toggle-checked",ze.checked)("mat-button-toggle-disabled",ze.disabled)("mat-button-toggle-appearance-standard","standard"===ze.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",k.L39],appearance:"appearance",checked:[2,"checked","checked",k.L39],disabled:[2,"disabled","disabled",k.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[k.GFd,k.aNF],ngContentSelectors:X,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(ge,ze){if(1&ge){const yt=k.RV6();k.NAR(),k.j41(0,"button",1,0),k.bIt("click",function(){return k.eBV(yt),k.Njj(ze._onButtonClick())}),k.j41(2,"span",2),k.DNE(3,Q,1,1,"mat-pseudo-checkbox",3)(4,de,1,1,"mat-pseudo-checkbox",3),k.SdG(5),k.k0s()(),k.nrm(6,"span",4)(7,"span",5)}if(2&ge){const yt=k.sdS(1);k.Y8G("id",ze.buttonId)("disabled",ze.disabled||null),k.BMQ("role",ze.isSingleSelector()?"radio":"button")("tabindex",ze.disabled?-1:ze.tabIndex)("aria-pressed",ze.isSingleSelector()?null:ze.checked)("aria-checked",ze.isSingleSelector()?ze.checked:null)("name",ze._getButtonName())("aria-label",ze.ariaLabel)("aria-labelledby",ze.ariaLabelledby),k.R7$(3),k.vxM(ze.buttonToggleGroup&&ze.checked&&!ze.buttonToggleGroup.multiple&&!ze.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),k.R7$(),k.vxM(ze.buttonToggleGroup&&ze.checked&&ze.buttonToggleGroup.multiple&&!ze.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),k.R7$(3),k.Y8G("matRippleTrigger",yt)("matRippleDisabled",ze.disableRipple||ze.disabled)}},dependencies:[E.r6,E.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}return Je})(),ae=(()=>{class Je{static#e=this.\u0275fac=function(ge){return new(ge||Je)};static#t=this.\u0275mod=k.$C({type:Je});static#n=this.\u0275inj=k.G2t({imports:[E.yE,E.pZ,fe,E.yE]})}return Je})();var Ae=a(1626),Me=a(1780),We=(a(3938),a(9434));a(4418);var De=a(1193),Qe=(a(841),a(4918));a(1865),a(5384),a(6781);var Ft=a(4616),_n=(a(2734),a(2238)),ht=(a(5080),a(4921),a(2042));a(2333),a(785);var nn=a(620),Sn=a(5277),$n=(a(7022),a(8283),a(8482)),ut=a(494);a(2354),a(5991),a(2185),a(6062);var Ut=a(4633),vt=(a(5550),a(6962),a(6926),a(6539),a(3835),a(3208));a(6871),a(2124),a(4846),a(7080),a(7025),a(5843),a(907),a(375);var Ai=a(9489),Mi=a(877),uo=(a(7558),a(6821),a(8328),a(2897),a(3051));const ni=[g.jL,v.Cn,b.RG,C.Ve,E.pZ,g.jL,C.Ve,f.hM,S.X6,h.fS,m.FQ,O.D6,y.YN,u.Ou,M.N0,x.jc,ht.NQ,ut.E9,D.uc,A.g7,L.Wk,l.Ez,$.mV,ae];let Oe=(()=>{class Je{static#e=this.\u0275fac=function(ge){return new(ge||Je)};static#t=this.\u0275mod=k.$C({type:Je});static#n=this.\u0275inj=k.G2t({providers:[{provide:Qe.N,useValue:{}},(0,Ae.$R)((0,Ae.Sx)())],imports:[t.MD,n.YN,n.X1,Me.h.forChild(),ni,g.jL,v.Cn,b.RG,C.Ve,E.pZ,g.jL,C.Ve,f.hM,S.X6,h.fS,m.FQ,O.D6,y.YN,u.Ou,M.N0,x.jc,ht.NQ,ut.E9,D.uc,A.g7,L.Wk,l.Ez,$.mV,ae,Me.h]})}return Je})();k.wjB(De.a,function(){return[t.bT,vt.U]},[]),k.wjB(Qe.S,function(){return[t.bT,E.r6,D.oV,We.R,Ai.F,Mi.B]},function(){return[t.Jj]}),k.wjB(nn.V,function(){return[t.bT,E.r6,f.tx,O.LG,We.R,Qe.S]},[]),k.wjB(Sn.H,function(){return[t.Sq,t.bT,E.r6,We.R,vt.U]},[]),k.wjB($n.O,function(){return[t.Sq,t.bT,t.ux,t.e1,t.fG,n.me,n.BC,n.vS,E.r6,ut.yg,ut.E$,ut.d6,We.R,_n.I]},function(){return[t.Jj,t.vh,Ft.a]}),k.wjB(Ut.N,function(){return[t.bT,E.r6,D.oV,We.R,De.a,_n.I,uo.q]},function(){return[t.Jj,t.vh,Me.D9]})},841:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>m,f:()=>O});var t=a(3953),n=a(4006),f=a(5354),v=a(177),b=a(6600),C=a(9183),g=a(9434);function S(E,u){if(1&E&&(t.j41(0,"main",3),t.nrm(1,"app-icon",4)(2,"p",5),t.k0s()),2&E){const M=t.XpG();t.R7$(),t.Y8G("icon",M.icon),t.R7$(),t.Y8G("innerHTML",M.content,t.npT)}}function h(E,u){if(1&E){const M=t.RV6();t.j41(0,"footer",6)(1,"button",7),t.EFF(2),t.k0s(),t.j41(3,"button",8),t.bIt("click",function(){t.eBV(M);const D=t.XpG();return t.Njj(D.onConfirm())}),t.EFF(4),t.k0s()()}if(2&E){const M=t.XpG();t.R7$(2),t.SpI(" ",M.cancel_text," "),t.R7$(2),t.SpI(" ",M.confirm_text," ")}}function y(E,u){if(1&E&&(t.j41(0,"main",9)(1,"div",10),t.nrm(2,"mat-spinner",11),t.j41(3,"p"),t.EFF(4),t.k0s()()()),2&E){const M=t.XpG();t.R7$(4),t.JRh(M.loading)}}const O={height:"auto",width:"24em",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)"};let m=(()=>{class E extends f.T{constructor(M,x){super(),this._dialog_ref=M,this._data=x,this.event=new t.bkB,this.title=this._data.title||"Confirm",this.content=this._data.content||"Are you sure?",this.confirm_text=this._data.confirm_text||"Accept",this.cancel_text=this._data.cancel_text||"Cancel",this.icon=this._data.icon||{class:"material-icons",content:"done"},this.disableClose=()=>this._dialog_ref.disableClose=!0,this.enableClose=()=>this._dialog_ref.disableClose=!1}ngOnInit(){this._data.close_delay&&this.timeout("close",()=>this._dialog_ref.close(),this._data.close_delay)}onConfirm(){this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(x){return new(x||E)(t.rXU(n.CP),t.rXU(n.Vh))};static#t=this.\u0275cmp=t.VBU({type:E,selectors:[["confirm-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:7,vars:4,consts:[["load_state",""],["class","flex flex-col items-center space-y-2 p-4",4,"ngIf","ngIfElse"],["class","flex items-center justify-center p-2 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","space-y-2","p-4"],[1,"text-5xl",3,"icon"],["content","",1,"text-center","text-sm","w-[22rem]",3,"innerHTML"],[1,"flex","items-center","justify-center","p-2","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["btn","","matRipple","","name","accept",1,"w-32",3,"click"],["loading",""],[1,"w-full","h-48","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(x,D){if(1&x&&(t.j41(0,"header")(1,"h3"),t.EFF(2),t.k0s()(),t.DNE(3,S,3,2,"main",1)(4,h,5,2,"footer",2)(5,y,5,1,"ng-template",null,0,t.C5r)),2&x){const A=t.sdS(6);t.R7$(2),t.JRh(D.title),t.R7$(),t.Y8G("ngIf",!D.loading)("ngIfElse",A),t.R7$(),t.Y8G("ngIf",!D.loading)}},dependencies:[v.bT,b.r6,n.tx,C.LG,g.R]})}return E})()},2734:(At,ue,a)=>{"use strict";a.d(ue,{r:()=>ve});var t=a(3953),n=a(6695),f=a(2042),v=a(5887),b=a(5024),C=a(9928),g=a(5286),S=a(4670),h=a(4421),y=a(9714),O=a(4085),m=a(5006);class Me extends b.qS{get data(){return this._data.value}set data(ie){ie=Array.isArray(ie)?ie:[],this._data.next(ie),this._renderChangesSubscription||this._filterData(ie)}get filter(){return this._filter.value}set filter(ie){this._filter.next(ie),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(ie){this._sort=ie,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(ie){this._paginator=ie,this._updateChangeSubscription()}constructor(ie=[]){super(),this._renderData=new C.t([]),this._filter=new C.t(""),this._internalPageChanges=new g.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(Y,ye)=>{const Ze=Y[ye];if((0,O.o1)(Ze)){const Ft=Number(Ze);return Ft<9007199254740991?Ft:Ze}return Ze},this.sortData=(Y,ye)=>{const Ze=ye.active,Ft=ye.direction;return Ze&&""!=Ft?Y.sort((sn,_n)=>{let Rt=this.sortingDataAccessor(sn,Ze),en=this.sortingDataAccessor(_n,Ze);const ht=typeof Rt,pt=typeof en;ht!==pt&&("number"===ht&&(Rt+=""),"number"===pt&&(en+=""));let Ct=0;return null!=Rt&&null!=en?Rt>en?Ct=1:Rt<en&&(Ct=-1):null!=Rt?Ct=1:null!=en&&(Ct=-1),Ct*("asc"==Ft?1:-1)}):Y},this.filterPredicate=(Y,ye)=>{const Ze=Object.keys(Y).reduce((sn,_n)=>sn+Y[_n]+"\u25ec","").toLowerCase(),Ft=ye.trim().toLowerCase();return-1!=Ze.indexOf(Ft)},this._data=new C.t(ie),this._updateChangeSubscription()}_updateChangeSubscription(){const ie=this._sort?(0,S.h)(this._sort.sortChange,this._sort.initialized):(0,h.of)(null),Y=this._paginator?(0,S.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,h.of)(null),Ze=(0,y.zV)([this._data,this._filter]).pipe((0,m.T)(([_n])=>this._filterData(_n))),Ft=(0,y.zV)([Ze,ie]).pipe((0,m.T)(([_n])=>this._orderData(_n))),sn=(0,y.zV)([Ft,Y]).pipe((0,m.T)(([_n])=>this._pageData(_n)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=sn.subscribe(_n=>this._renderData.next(_n))}_filterData(ie){return this.filteredData=null==this.filter||""===this.filter?ie:ie.filter(Y=>this.filterPredicate(Y,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(ie){return this.sort?this.sortData(ie.slice(),this.sort):ie}_pageData(ie){if(!this.paginator)return ie;const Y=this.paginator.pageIndex*this.paginator.pageSize;return ie.slice(Y,Y+this.paginator.pageSize)}_updatePaginator(ie){Promise.resolve().then(()=>{const Y=this.paginator;if(Y&&(Y.length=ie,Y.pageIndex>0)){const ye=Math.ceil(Y.length/Y.pageSize)-1||0,Ze=Math.min(Y.pageIndex,ye);Ze!==Y.pageIndex&&(Y.pageIndex=Ze,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var Ve=a(2333),We=a(5817),lt=a(177);const nt=(N,ie,Y,ye,Ze,Ft,sn)=>({first:N,last:ie,index:Y,data:ye,row:Ze,key:Ft,name:sn});function $e(N,ie){if(1&N&&(t.j41(0,"div",12),t.EFF(1),t.k0s()),2&N){const Y=t.XpG(),ye=Y.$implicit,Ze=Y.index,Ft=t.XpG();t.xc7("width",(Ft.column_size[Ze]||"8")+"em")("flex","flex"===Ft.column_size[Ze]?"1":""),t.R7$(),t.SpI(" ",Ft.display_column[Ze]||ye," ")}}function Ie(N,ie){1&N&&(t.j41(0,"span",16),t.EFF(1," N/A "),t.k0s())}function me(N,ie){if(1&N&&(t.qex(0),t.EFF(1),t.DNE(2,Ie,2,0,"span",15),t.bVm()),2&N){const Y=t.XpG(2).$implicit,ye=t.XpG().$implicit;t.R7$(),t.JRh(Y[ye]),t.R7$(),t.Y8G("ngIf",null==Y[ye]||""===Y[ye])}}function De(N,ie){1&N&&t.eu8(0)}function ke(N,ie){if(1&N&&t.DNE(0,De,1,0,"ng-container",17),2&N){const Y=t.XpG(2),ye=Y.$implicit,Ze=Y.index,Ft=t.XpG(),sn=Ft.$implicit,_n=Ft.index,Rt=t.XpG();t.Y8G("ngTemplateOutlet",Rt.template[sn])("ngTemplateOutletContext",t.sGs(2,nt,0===Ze,Ze===Rt.data_source.data.length-1||Ze===Rt.data_source.length-1,_n,ye[sn],ye,sn,Rt.display_column[_n]||sn))}}function Qe(N,ie){if(1&N&&(t.qex(0),t.DNE(1,me,3,2,"ng-container",14)(2,ke,1,10,"ng-template",null,1,t.C5r),t.bVm()),2&N){const Y=t.sdS(3),ye=t.XpG(2).$implicit,Ze=t.XpG();t.R7$(),t.Y8G("ngIf",!Ze.template[ye])("ngIfElse",Y)}}function Ne(N,ie){if(1&N&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&N){const Y=t.XpG().index;t.R7$(),t.JRh(Y+1)}}function at(N,ie){if(1&N&&(t.j41(0,"div",13),t.DNE(1,Qe,4,2,"ng-container",14)(2,Ne,2,1,"ng-template",null,0,t.C5r),t.k0s()),2&N){const Y=t.sdS(3),ye=t.XpG(),Ze=ye.$implicit,Ft=ye.index,sn=t.XpG();t.xc7("width",(sn.column_size[Ft]||"8")+"em")("flex","flex"===sn.column_size[Ft]?"1":""),t.R7$(),t.Y8G("ngIf","_index"!==Ze)("ngIfElse",Y)}}function Lt(N,ie){if(1&N&&(t.qex(0)(1,9),t.DNE(2,$e,2,5,"div",10)(3,at,4,6,"div",11),t.bVm()()),2&N){const Y=ie.$implicit;t.R7$(),t.Y8G("cdkColumnDef",Y)}}function Kt(N,ie){1&N&&t.nrm(0,"cdk-header-row",19)}function Ot(N,ie){if(1&N){const Y=t.RV6();t.j41(0,"cdk-row",20),t.bIt("click",function(){const Ze=t.eBV(Y).$implicit,Ft=t.XpG();return t.Njj(Ft.row_clicked.emit(Ze))}),t.k0s()}}function Se(N,ie){if(1&N&&(t.j41(0,"p",21),t.EFF(1),t.k0s()),2&N){const Y=t.XpG();t.R7$(),t.SpI(" ",Y.empty||"No data to display"," ")}}let ve=(()=>{class N extends Ve.Tv{constructor(){super(...arguments),this.pagination=!1,this.page_size=7,this.column_size=[],this.template={},this.row_clicked=new t.bkB,this.data_source=new Me([])}ngAfterViewInit(){this.data_source.sort=this._sort,this.data_source.paginator=this.pagination?this._paginator:null,this.data_source.filterPredicate=(Y,ye)=>{for(const Ze in Y){if("string"==typeof Y[Ze]&&Y[Ze].toLowerCase().includes(ye.toLowerCase()))return!0;if(Y[Ze]===ye)return!0}return!1}}ngOnChanges(Y){Y.dataSource&&this.dataSource&&(this.dataSource instanceof We.c?this.subscription("data",this.dataSource.subscribe(ye=>this.data_source.data=ye)):this.data_source.data=this.dataSource),Y.pagination&&(this.data_source.paginator=this.pagination?this._paginator:null),Y.filter&&(this.data_source.filter=(this.filter||"").trim().toLowerCase()),Y.columns&&this.columns&&(this.display_column=this.columns.map((ye,Ze)=>(this.display_column||[])[Ze]||ye.split("_").join(" "))),this.column_size||(this.column_size=[]),Y.reset_page&&this.reset_page!==Y.reset_page.previousValue&&this._paginator?.firstPage()}static#e=this.\u0275fac=(()=>{let Y;return function(Ze){return(Y||(Y=t.xGo(N)))(Ze||N)}})();static#t=this.\u0275cmp=t.VBU({type:N,selectors:[["custom-table"]],viewQuery:function(ye,Ze){if(1&ye&&(t.GBs(n.iy,5),t.GBs(f.B4,5)),2&ye){let Ft;t.mGM(Ft=t.lsd())&&(Ze._paginator=Ft.first),t.mGM(Ft=t.lsd())&&(Ze._sort=Ft.first)}},inputs:{dataSource:"dataSource",pagination:"pagination",page_size:"page_size",filter:"filter",display_column:"display_column",columns:"columns",column_size:"column_size",empty:"empty",template:"template",reset_page:"reset_page"},outputs:{row_clicked:"row_clicked"},features:[t.Vt3,t.OA$],decls:7,vars:8,consts:[["index_outlet",""],["cell_outlet",""],["matSort","",1,"block","border","border-base-200","divide-y","divide-base-200","text-sm",3,"dataSource"],[4,"ngFor","ngForOf"],["class","sticky flex items-center bg-base-100 top-0 z-10",4,"cdkHeaderRowDef"],["row","","class","flex z-0 relative hover:bg-neutral:bg-base-100/5 divide-x divide-base-200",3,"click",4,"cdkRowDef","cdkRowDefColumns"],["cdkNoDataRow",""],["footer","",3,"hidden"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[3,"cdkColumnDef"],["cdk-header-cell","","class","capitalize p-2 h-12 bg-base-300 flex items-center","mat-sort-header","",3,"width","flex",4,"cdkHeaderCellDef"],["cdk-cell","","class","p-2 truncate flex items-center",3,"width","flex",4,"cdkCellDef"],["cdk-header-cell","","mat-sort-header","",1,"capitalize","p-2","h-12","bg-base-300","flex","items-center"],["cdk-cell","",1,"p-2","truncate","flex","items-center"],[4,"ngIf","ngIfElse"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","text-center"],[1,"sticky","flex","items-center","bg-base-100","top-0","z-10"],["row","",1,"flex","z-0","relative","hover:bg-neutral:bg-base-100/5","divide-x","divide-base-200",3,"click"],[1,"w-full","p-4","text-center","opacity-30"]],template:function(ye,Ze){1&ye&&(t.j41(0,"cdk-table",2),t.DNE(1,Lt,4,1,"ng-container",3)(2,Kt,1,0,"cdk-header-row",4)(3,Ot,1,0,"cdk-row",5)(4,Se,2,1,"ng-template",6),t.k0s(),t.j41(5,"div",7),t.nrm(6,"mat-paginator",8),t.k0s()),2&ye&&(t.Y8G("dataSource",Ze.data_source),t.R7$(),t.Y8G("ngForOf",Ze.columns),t.R7$(),t.Y8G("cdkHeaderRowDef",Ze.columns),t.R7$(),t.Y8G("cdkRowDefColumns",Ze.columns),t.R7$(2),t.Y8G("hidden",!Ze.pagination),t.R7$(),t.Y8G("pageSize",Ze.page_size)("hidePageSize",!0)("showFirstLastButtons",!0))},dependencies:[lt.Sq,lt.bT,lt.T3,n.iy,v.Rk,v.oh,v.cO,v.n5,v.AL,v.hc,v.wA,v.hi,v.u4,f.B4,f.aE],styles:["cdk-header-row[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize;min-height:3rem}"]})}return N})()},2238:(At,ue,a)=>{"use strict";a.d(ue,{D:()=>M,I:()=>x});var t=a(6939),n=a(3953),f=a(2333),v=a(7987),b=a(177),C=a(4616);const g=["customTooltip",""],S=["*"];function h(D,A){1&D&&n.eu8(0)}function y(D,A){if(1&D&&(n.qex(0),n.DNE(1,h,1,0,"ng-container",4),n.bVm()),2&D){const L=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",L.content)("ngComponentOutletInjector",L.injector)}}function O(D,A){if(1&D&&(n.qex(0),n.nrm(1,"div",5),n.nI1(2,"sanitize"),n.bVm()),2&D){const L=n.XpG(2);n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,L.content),n.npT)}}function m(D,A){1&D&&n.eu8(0)}function E(D,A){if(1&D&&(n.qex(0),n.DNE(1,m,1,0,"ng-container",6),n.bVm()),2&D){const L=n.XpG(2);n.R7$(),n.Y8G("ngTemplateOutlet",L.content)("ngTemplateOutletContext",L.data)}}function u(D,A){if(1&D&&(n.j41(0,"div",1),n.DNE(1,y,2,2,"ng-container",2)(2,O,3,3,"ng-container",2)(3,E,2,2,"ng-container",3),n.k0s()),2&D){const L=n.XpG();n.Y8G("ngSwitch",L.type),n.R7$(),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}let M=(()=>{class D{constructor(L){this.data=L.data,this.close=L.close||(()=>null)}static#e=this.\u0275fac=function(l){n.QTQ()};static#t=this.\u0275prov=n.jDH({token:D,factory:D.\u0275fac})}return D})(),x=(()=>{class D extends f.Tv{constructor(L,l,$){super(),this._element=L,this._overlay=l,this._injector=$,this.backdrop=!0,this.hover=!1,this.delay=0,this.type="template",this._overlay_ref=null,this.onClick=()=>this.open(),this.onTouch=()=>this.open(),this.onEnter=()=>this.hover?this.open():"",this.onLeave=()=>this.hover?this.close():""}ngOnChanges(L){this._updateInjector(),this._overlay_ref&&(L.x_pos||L.y_pos||L.content)&&this.open()}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.content&&this.timeout("open",()=>{this.hover&&this.delay&&this.timeout("onclose",()=>this.close(),this.delay),this._updateType(),this._overlay_ref&&this.close(),this._portal&&(this._element.nativeElement.getBoundingClientRect(),this._overlay_ref=this._overlay.create({hasBackdrop:!!this.backdrop&&!this.hover,positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withPositions([{originX:this.x_pos||"end",originY:("top"===this.y_pos?"bottom":"bottom"==this.y_pos?"top":this.y_pos)||"top",overlayX:this.x_pos||"end",overlayY:this.y_pos||"top"}])}),this._overlay_ref.attach(this._portal),this.backdrop&&this.subscription("backdrop",this._overlay_ref.backdropClick().subscribe(()=>this.close())))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}_updateType(){this.type="string"==typeof this.content?"html":this.content instanceof n.C4Q?"template":"component"}_updateInjector(){this.injector=n.zZn.create({providers:[{provide:M,useValue:{data:this.data,close:()=>this.close()}}],parent:this._injector})}static#e=this.\u0275fac=function(l){return new(l||D)(n.rXU(n.aKT),n.rXU(v.hJ),n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:D,selectors:[["","customTooltip",""]],viewQuery:function(l,$){if(1&l&&n.GBs(t.bV,5),2&l){let R;n.mGM(R=n.lsd())&&($._portal=R.first)}},hostBindings:function(l,$){1&l&&n.bIt("click",function(){return $.onClick()})("touchend",function(){return $.onTouch()})("mouseenter",function(){return $.onEnter()})("mouseleave",function(){return $.onLeave()})},inputs:{x_pos:[0,"xPosition","x_pos"],y_pos:[0,"yPosition","y_pos"],content:"content",data:"data",backdrop:"backdrop",hover:"hover",delay:"delay"},features:[n.Vt3,n.OA$],attrs:g,ngContentSelectors:S,decls:2,vars:0,consts:[["cdk-portal",""],["custom-tooltip","",1,"relative","print:hidden",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,$){1&l&&(n.NAR(),n.SdG(0),n.DNE(1,u,4,3,"ng-template",0))},dependencies:[b.OI,b.T3,b.ux,b.e1,b.fG,t.Qq,C.a],encapsulation:2})}return D})()},7025:(At,ue,a)=>{"use strict";a.d(ue,{l:()=>v});var t=a(2037),n=a(4361),f=a(3953);let v=(()=>{class b{transform(g){const S=Date.now();let h=(0,t.o)(S,g);const y=h<0;if(h=Math.abs(h),h<1)return y?"Soon":"Now";if(1===h)return y?"In 1 min":"1 min";if(h<60)return y?`In ${h} min`:`${h} min`;if(h<1440){const O=Math.floor(h/60);return y?`In ${O} hour${1===O?"":"s"}`:(0,n.GP)(g,"H:mm")}return h<10080?(Math.floor(h/1440),(0,n.GP)(g,y?"dd MMM yyyy":"E H:mm")):h<525600?(Math.floor(h/1440),(0,n.GP)(g,y?"dd MMM yyyy":"LLL d H:mm")):"Just now"}static#e=this.\u0275fac=function(S){return new(S||b)};static#t=this.\u0275pipe=f.EJ8({name:"dateFrom",type:b,pure:!0})}return b})()},8482:(At,ue,a)=>{"use strict";a.d(ue,{O:()=>k});var t=a(467),n=a(9928),f=a(9714),v=a(5006),b=a(4046),C=a(7643),g=a(5354),S=a(686),h=a(2354),y=a(2185),O=a(2333),m=a(3953);function E(V,K){if(1&V&&(m.qex(0),m.j41(1,"a",25),m.nI1(2,"sanitize"),m.EFF(3),m.k0s(),m.bVm()),2&V){const X=m.XpG().$implicit;m.R7$(),m.Y8G("href",m.bMT(2,2,X),m.B4B),m.R7$(2),m.JRh(X)}}function u(V,K){if(1&V&&(m.qex(0),m.EFF(1," ["),m.j41(2,"span",26),m.EFF(3,"Object"),m.k0s(),m.EFF(4,"] "),m.bVm()),2&V){const X=m.XpG().$implicit,Q=m.XpG(4);m.R7$(2),m.Y8G("content",Q.json_tooltip)("data",X)("hover",!0)("backdrop",!1)}}function M(V,K){if(1&V&&(m.qex(0),m.EFF(1),m.bVm()),2&V){const X=m.XpG().$implicit;m.R7$(),m.JRh(X)}}function x(V,K){if(1&V&&(m.j41(0,"div",21),m.qex(1,22),m.DNE(2,E,4,4,"ng-container",23)(3,u,5,4,"ng-container",23)(4,M,2,1,"ng-container",24),m.bVm(),m.k0s()),2&V){const X=K.$implicit,Q=m.XpG(4);m.BMQ("data-type",Q.type(X)),m.R7$(),m.Y8G("ngSwitch",Q.type(X)),m.R7$(),m.Y8G("ngSwitchCase","link"),m.R7$(),m.Y8G("ngSwitchCase","object")}}function D(V,K){if(1&V&&(m.j41(0,"div",18)(1,"div",19),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"div"),m.EFF(5),m.k0s(),m.j41(6,"div"),m.EFF(7),m.k0s(),m.DNE(8,x,5,4,"div",20),m.k0s()),2&V){const X=K.$implicit,Q=m.XpG(3);m.R7$(2),m.SpI(" ",m.i5U(3,8,X.timestamp,"MMM d HH:mm:ss")," "),m.R7$(2),m.HbH("uppercase text-xs p-1 "+Q.colors[X.type]+" rounded font-mono"),m.R7$(),m.SpI(" ",X.type," "),m.R7$(),m.HbH("capitalize text-xs p-1 "+Q.colors[X.subtype]+" rounded font-mono w-16 text-center"),m.R7$(),m.SpI(" ",X.subtype," "),m.R7$(),m.Y8G("ngForOf",X.data)}}function A(V,K){if(1&V&&(m.j41(0,"cdk-virtual-scroll-viewport",15),m.DNE(1,D,9,11,"div",16),m.nI1(2,"async"),m.nrm(3,"div",17),m.k0s()),2&V){const X=m.XpG(2);m.R7$(),m.Y8G("cdkVirtualForOf",m.bMT(2,2,X.filtered_logs))("cdkVirtualForTrackBy",X.trackByFn)}}function L(V,K){if(1&V&&(m.j41(0,"span",27),m.EFF(1),m.nI1(2,"async"),m.k0s()),2&V){let X;const Q=m.XpG(2);m.R7$(),m.SpI(" ",(null==(X=m.bMT(2,1,Q.filtered_logs))?null:X.length)||"0"," of ")}}function l(V,K){if(1&V){const X=m.RV6();m.j41(0,"div",4)(1,"div",5)(2,"div",6),m.EFF(3,"Console"),m.k0s(),m.j41(4,"button",7),m.bIt("click",function(){m.eBV(X);const de=m.XpG();return m.Njj(de.show=!1)}),m.j41(5,"app-icon"),m.EFF(6,"close"),m.k0s()()(),m.DNE(7,A,4,4,"cdk-virtual-scroll-viewport",8),m.nI1(8,"async"),m.j41(9,"div",9),m.nrm(10,"div",10)(11,"div",11),m.j41(12,"input",12,1),m.nI1(14,"async"),m.bIt("ngModelChange",function(de){m.eBV(X);const se=m.XpG();return m.Njj(se.filter.next(de))}),m.k0s(),m.j41(15,"div",13),m.DNE(16,L,3,3,"span",14),m.nI1(17,"async"),m.EFF(18),m.nI1(19,"async"),m.k0s()()()}if(2&V){let X,Q,de;const se=m.XpG(),ce=m.sdS(3);m.R7$(7),m.Y8G("ngIf",null==(X=m.bMT(8,5,se.filtered_logs))?null:X.length)("ngIfElse",ce),m.R7$(5),m.Y8G("ngModel",m.bMT(14,7,se.filter)),m.R7$(4),m.Y8G("ngIf",null==(Q=m.bMT(17,9,se.filter))?null:Q.length),m.R7$(2),m.SpI(" ",null==(de=m.bMT(19,11,se.logs))?null:de.length," ")}}function $(V,K){if(1&V){const X=m.RV6();m.j41(0,"button",28),m.bIt("mousedown",function(){m.eBV(X);const de=m.XpG();return m.Njj(de.onStart())})("touchstart",function(){m.eBV(X);const de=m.XpG();return m.Njj(de.onStart())})("mouseup",function(){m.eBV(X);const de=m.XpG();return m.Njj(de.onEnd())})("touchend",function(){m.eBV(X);const de=m.XpG();return m.Njj(de.onEnd())}),m.k0s()}}function R(V,K){if(1&V&&(m.j41(0,"div",29)(1,"div",30),m.EFF(2),m.k0s()()),2&V){const X=m.XpG();m.R7$(2),m.SpI(" No ",X.filter.getValue()?"matching":""," logs ")}}const F={console:"bg-success-light text-black",network:"bg-success text-success-content",dom:"bg-warning-light text-black",log:"bg-info-light text-black",info:"bg-info text-info-content",warn:"bg-warning text-warning-content",debug:"bg-base-300 text-base-content",error:"bg-error text-error-content"},P=["tel:","mailto:","http:","https:","ftp:","ws:","wss:"];let k=(()=>{class V extends g.T{get can_activate(){return!!this._settings.get("app.debug_console")}constructor(X,Q,de,se){super(),this._org=X,this._logs=Q,this._hotkey=de,this._settings=se,this.show=!1,this.colors=F,this.json_tooltip=h.o,this.filter=new n.t(""),this.logs=new n.t([]),this.filtered_logs=(0,f.zV)([this.filter,this.logs]).pipe((0,v.T)(([ce,z])=>z.filter(w=>w.type.toLowerCase().includes(ce.toLowerCase())||w.subtype.toLowerCase().includes(ce.toLowerCase())||`${w.data}`.toLowerCase().includes(ce.toLowerCase())))),this.onStart=()=>this.timeout("show",()=>this.show=!0,5e3),this.onEnd=()=>this.clearTimeout("show")}ngOnInit(){var X=this;return(0,t.A)(function*(){yield X._org.initialised.pipe((0,b.$)(Q=>Q)).toPromise(),X.subscription("binding",X._org.active_building.subscribe(()=>{console.log("Binding:",X._org.binding("remote_logger")),X._logs.setSystem(X._org.binding("remote_logger"))})),X.subscription("logs",X._logs.history.subscribe(Q=>{let de=X.logs.getValue();de.length>(X._settings.get("app.log_limits")||2e4)&&de.splice(0,1),X.logs.next([...de,Q])})),X.subscription("toggle",X._hotkey.listen(["Control","Backquote"],()=>X.show=!X.show)),console.log("Binding:",X._org.binding("remote_logger")),X._logs.setSystem(X._org.binding("remote_logger"))})()}type(X){return"string"==typeof X&&P.find(Q=>X.startsWith(Q))?"link":X instanceof Object?"object":"string"}trackByFn(X,Q){return Q?.timestamp}static#e=this.\u0275fac=function(Q){return new(Q||V)(m.rXU(y.yb),m.rXU(S.V),m.rXU(C.d),m.rXU(O.h$))};static#t=this.\u0275cmp=m.VBU({type:V,selectors:[["debug-console"]],inputs:{show:"show"},features:[m.Vt3],decls:4,vars:2,consts:[["empty_state",""],["search_input",""],["class","absolute bottom-2 left-2 max-w-[80vw] w-[40rem] border border-base-300 bg-base-200 text-base-content shadow rounded overflow-hidden h-[24rem] max-h-[65vh] flex flex-col z-[998]",4,"ngIf"],["activation","","class","absolute bottom-0 right-0 h-12 w-12",3,"mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"absolute","bottom-2","left-2","max-w-[80vw]","w-[40rem]","border","border-base-300","bg-base-200","text-base-content","shadow","rounded","overflow-hidden","h-[24rem]","max-h-[65vh]","flex","flex-col","z-[998]"],[1,"flex","items-center","justify-between","bg-base-100","border-b","border-base-300"],[1,"p-2"],["icon","","matRipple","",3,"click"],["itemSize","32","class","flex-1 h-[30rem] max-h-full w-full",4,"ngIf","ngIfElse"],[1,"absolute","bottom-1","right-1","rounded-lg","p-1","flex","items-center","w-[20rem]","overflow-hidden"],[1,"absolute","inset-0","bg-base-content","opacity-60","z-0"],[1,"absolute","inset-1","bg-base-content","opacity-90","rounded","z-0"],["name","log-filter","placeholder","Filter logs...",1,"relative","border-none","flex-1","text-sm","px-2","py-1","font-mono","rounded","text-base-100",3,"ngModelChange","ngModel"],[1,"relative","font-mono","text-xs","px-2","text-center","text-base-100"],["class","font-mono",4,"ngIf"],["itemSize","32",1,"flex-1","h-[30rem]","max-h-full","w-full"],["class","font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-base-100 space-x-1",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"h-8","w-full"],[1,"font-mono","h-8","truncate","p-2","text-sm","flex","items-center","max-w-full","hover:bg-base-100","space-x-1"],[1,"uppercase","text-xs","p-1","bg-base-100/10","rounded","font-mono"],["class","font-mono pl-1",4,"ngFor","ngForOf"],[1,"font-mono","pl-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","noopener noreferer",1,"font-mono",3,"href"],["customTooltip","","xPosition","center","yPosition","bottom",1,"underline","font-mono","hover:text-info",3,"content","data","hover","backdrop"],[1,"font-mono"],["activation","",1,"absolute","bottom-0","right-0","h-12","w-12",3,"mousedown","touchstart","mouseup","touchend"],[1,"flex-1","flex","flex-col","items-center","justify-center","h-[30rem]","w-full"],[1,"text-2xl","opacity-30"]],template:function(Q,de){1&Q&&m.DNE(0,l,20,13,"div",2)(1,$,1,0,"button",3)(2,R,3,1,"ng-template",null,0,m.C5r),2&Q&&(m.Y8G("ngIf",de.show),m.R7$(),m.Y8G("ngIf",de.can_activate))}})}return V})()},3051:(At,ue,a)=>{"use strict";a.d(ue,{q:()=>h});var t=a(3953),n=a(2333),f=a(177),v=a(9417),b=a(6600),C=a(3881);function g(y,O){1&y&&(t.j41(0,"div",16),t.EFF(1," Before you can set a desk height, presets must be set "),t.k0s())}function S(y,O){if(1&y){const m=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.onClose())}),t.EFF(1," Save Presets "),t.k0s()}}let h=(()=>{class y{constructor(m){this._settings=m,this.show_close=!1,this.close=new t.bkB,this.not_set=!1,this.desk_sitting_height=71,this.desk_standing_height=101}ngOnInit(){this.not_set=!this._settings.get("desk_sitting_height")&&!this._settings.get("desk_standing_height"),this.desk_sitting_height=this._settings.get("desk_sitting_height")||71,this.desk_standing_height=this._settings.get("desk_standing_height")||101}onClose(){this.saveSetting("desk_sitting_height",this.desk_sitting_height),this.saveSetting("desk_standing_height",this.desk_standing_height),this.close.emit()}formatLabel(m){return`${m.toFixed(1)}cm`}saveSetting(m,E){console.log("Save setting",m,E),this._settings.saveUserSetting(m,E)}static#e=this.\u0275fac=function(E){return new(E||y)(t.rXU(n.h$))};static#t=this.\u0275cmp=t.VBU({type:y,selectors:[["desk-height-presets"]],inputs:{show_close:"show_close"},outputs:{close:"close"},decls:24,vars:8,consts:()=>{let m,E,u;return m=$localize`:4a9ae1d6024ac45fcd744f2b33fcc1078684204c1586279176802880074:Desk Height Presets`,E=$localize`:76aa055a2b4d990ee2773112c433cbca362d5cf32517995078699734025: Desk height presets allow you to store and recall your preferred desk height when checking into a booked desk that supports height adjustment. `,u=$localize`:7cdb9f15155eef16ce00f29f1d835dc2360f266f3844660402650950250: Set your desk height for the best experience. `,[m,E,u,[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg","mb-2"],[1,"text-xs","opacity-60","mb-4"],["class","text-xs mb-4 -mx-2 p-2 rounded bg-warning text-warning-content",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"flex","items-center","space-x-2"],["min","60","max","80","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],[1,"flex","items-center","space-x-2","mr-2"],["min","90","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],[1,"text-sm","w-12","text-right","mr-2"],["btn","","matRipple","","class","w-full mt-2",3,"click",4,"ngIf"],[1,"text-xs","mb-4","-mx-2","p-2","rounded","bg-warning","text-warning-content"],["btn","","matRipple","",1,"w-full","mt-2",3,"click"]]},template:function(E,u){1&E&&(t.j41(0,"div",3)(1,"div",4),t.pXf(2,0),t.k0s(),t.j41(3,"div",5),t.pXf(4,1),t.k0s(),t.DNE(5,g,2,0,"div",6),t.j41(6,"div",5),t.pXf(7,2),t.k0s(),t.j41(8,"div",7)(9,"label"),t.EFF(10,"Sitting Height"),t.k0s(),t.j41(11,"div",8)(12,"mat-slider",9)(13,"input",10),t.mxI("ngModelChange",function(x){return t.DH7(u.desk_sitting_height,x)||(u.desk_sitting_height=x),x}),t.bIt("ngModelChange",function(x){return u.saveSetting("desk_sitting_height",x)}),t.k0s()(),t.j41(14,"div",11),t.EFF(15),t.k0s()(),t.j41(16,"label"),t.EFF(17,"Standing Height"),t.k0s(),t.j41(18,"div",12)(19,"mat-slider",13)(20,"input",10),t.mxI("ngModelChange",function(x){return t.DH7(u.desk_standing_height,x)||(u.desk_standing_height=x),x}),t.bIt("ngModelChange",function(x){return u.saveSetting("desk_standing_height",x)}),t.k0s()(),t.j41(21,"div",14),t.EFF(22),t.k0s()()(),t.DNE(23,S,2,0,"button",15),t.k0s()),2&E&&(t.R7$(5),t.Y8G("ngIf",u.not_set&&u.show_close),t.R7$(7),t.Y8G("displayWith",u.formatLabel),t.R7$(),t.R50("ngModel",u.desk_sitting_height),t.R7$(2),t.SpI(" ",u.desk_sitting_height.toFixed(1),"cm "),t.R7$(4),t.Y8G("displayWith",u.formatLabel),t.R7$(),t.R50("ngModel",u.desk_standing_height),t.R7$(2),t.SpI(" ",u.desk_standing_height.toFixed(1),"cm "),t.R7$(),t.Y8G("ngIf",u.show_close))},dependencies:[f.bT,v.me,v.BC,v.vS,b.r6,C.IV,C.OU]})}return y})()},7022:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>f});var t=a(2659),n=a(3953);let f=(()=>{class v{transform(C,g=!1){let S=(0,t.a)({hours:Math.floor(C/60),minutes:C%60});return g&&(S=S.replace("hour","h").replace("minute","m").replace(/s/gi,"")),S}static#e=this.\u0275fac=function(g){return new(g||v)};static#t=this.\u0275pipe=n.EJ8({name:"duration",type:v,pure:!0})}return v})()},785:(At,ue,a)=>{"use strict";a.d(ue,{p:()=>C});var t=a(2333),n=a(3953),f=a(177),v=a(9434);function b(g,S){if(1&g){const h=n.RV6();n.j41(0,"div",1)(1,"div",2),n.EFF(2),n.k0s(),n.j41(3,"button",3),n.bIt("click",function(){n.eBV(h);const O=n.XpG();return n.Njj(O.close())}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&g){const h=n.XpG();n.AVh("bg-info","info"===h.banner.type||!h.banner.type)("text-info-content","info"===h.banner.type||!h.banner.type)("bg-warning","warn"===h.banner.type)("text-warning-content","warn"===h.banner.type)("bg-error","error"===h.banner.type)("text-error-content","error"===h.banner.type),n.R7$(2),n.JRh(null==h.banner?null:h.banner.content)}}let C=(()=>{class g{get has_viewed(){return!this.banner?.content||localStorage.getItem("PLACE.last_banner")===this.banner.id}get banner(){return this._settings.get("app.general.banner")}constructor(h){this._settings=h}close(){localStorage.setItem("PLACE.last_banner",this.banner?.id||"")}static#e=this.\u0275fac=function(y){return new(y||g)(n.rXU(t.h$))};static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["global-banner"]],decls:1,vars:1,consts:[["class","flex items-center w-full p-4 space-x-4",3,"bg-info","text-info-content","bg-warning","text-warning-content","bg-error","text-error-content",4,"ngIf"],[1,"flex","items-center","w-full","p-4","space-x-4"],[1,"flex-1"],["icon","",3,"click"]],template:function(y,O){1&y&&n.DNE(0,b,6,13,"div",0),2&y&&n.Y8G("ngIf",!O.has_viewed)},dependencies:[f.bT,v.R],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return g})()},4921:(At,ue,a)=>{"use strict";a.d(ue,{h:()=>O});var t=a(467),n=a(4046),f=a(5157),v=a(2333),b=a(8026),C=a(3953),g=a(177),S=a(9183);function h(m,E){1&m&&(C.j41(0,"div",2),C.EFF(1," Unable to reach server... Some features may not work. "),C.k0s())}function y(m,E){1&m&&(C.j41(0,"div",3),C.nrm(1,"mat-spinner",4),C.k0s()),2&m&&(C.R7$(),C.Y8G("diameter",64))}let O=(()=>{class m extends v.Tv{get online(){return(0,f.sc7)()}constructor(u,M){super(),this._org=u,this._settings=M}ngOnInit(){var u=this;return(0,t.A)(function*(){u.loading=!0,yield u._org.initialised.pipe((0,n.$)(M=>M)).toPromise(),yield u._settings.initialised.pipe((0,n.$)(M=>M)).toPromise(),u.interval("has_token",()=>{!(0,f.kup)()||!(0,f.ShT)()||(u.loading=!1,u.clearInterval("has_token"))},1e3)})()}static#e=this.\u0275fac=function(M){return new(M||m)(C.rXU(b.y),C.rXU(v.h$))};static#t=this.\u0275cmp=C.VBU({type:m,selectors:[["global-loading"]],features:[C.Vt3],decls:2,vars:2,consts:[["class","fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs",4,"ngIf"],["loader","","class","fixed inset-0 flex items-center justify-center pointer-events-auto bg-base-100",4,"ngIf"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2","shadow","rounded-3xl","px-4","py-2","bg-error","text-white","text-xs"],["loader","",1,"fixed","inset-0","flex","items-center","justify-center","pointer-events-auto","bg-base-100"],[3,"diameter"]],template:function(M,x){1&M&&C.DNE(0,h,2,0,"div",0)(1,y,2,1,"div",1),2&M&&(C.Y8G("ngIf",!x.online),C.R7$(),C.Y8G("ngIf",x.loading))},dependencies:[g.bT,S.LG],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%] > [loader][_ngcontent-%COMP%]{z-index:997;background-image:url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\")}"]})}return m})()},6926:(At,ue,a)=>{"use strict";a.d(ue,{o:()=>S});var t=a(2333),n=a(8030),f=a(3953),v=a(177),b=a(6600),C=a(9434);function g(h,y){if(1&h&&(f.j41(0,"a",6)(1,"div",7)(2,"div",8),f.nrm(3,"app-icon",9),f.k0s(),f.j41(4,"div",10),f.EFF(5),f.k0s()()()),2&h){const O=y.$implicit;f.Y8G("href",O.link,f.B4B),f.R7$(3),f.Y8G("icon",O.icon),f.R7$(2),f.JRh(O.name)}}let S=(()=>{class h{get tiles(){return this._settings.get("app.help")||[]}constructor(O,m){this._data=O,this._settings=m,this.close=()=>{this._data?.close()}}static#e=this.\u0275fac=function(m){return new(m||h)(f.rXU(n.Dd),f.rXU(t.h$))};static#t=this.\u0275cmp=f.VBU({type:h,selectors:[["help-tooltip"]],decls:7,vars:1,consts:()=>{let O;return O=$localize`:258586f2141d5b6c98ef28c38ac6f55a81a301b27393197899734735120:Help & Support`,[O,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","divide-y","divide-base-200",3,"click"],[1,"flex","items-center","space-x-2","p-2","border-b"],[1,"text-2xl"],[1,""],["btn","","matRipple","","class","clear w-full text-left h-auto","target","_blank","ref","noreferer noopener",3,"href",4,"ngFor","ngForOf"],["btn","","matRipple","","target","_blank","ref","noreferer noopener",1,"clear","w-full","text-left","h-auto",3,"href"],[1,"flex","items-center","space-x-2","py-2","w-full"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"text-xl",3,"icon"],[1,"flex-1"]]},template:function(m,E){1&m&&(f.j41(0,"div",1),f.bIt("click",function(){return E.close()}),f.j41(1,"div",2)(2,"app-icon",3),f.EFF(3,"arrow_back"),f.k0s(),f.j41(4,"div",4),f.pXf(5,0),f.k0s()(),f.DNE(6,g,6,3,"a",5),f.k0s()),2&m&&(f.R7$(6),f.Y8G("ngForOf",E.tiles))},dependencies:[v.Sq,b.r6,C.R],styles:["a[_ngcontent-%COMP%]:not(:last-child){border-bottom-width:1px!important;border-bottom-style:solid!important;border-radius:0}"]})}return h})()},9434:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>g});var t=a(3953),n=a(177),f=a(6781);const v=["*"];function b(S,h){if(1&S&&(t.j41(0,"i"),t.EFF(1),t.SdG(2),t.k0s()),2&S){const y=t.XpG();t.HbH((null==y.icon?null:y.icon.class)||y.className),t.R7$(),t.SpI(" ",null==y.icon?null:y.icon.content," ")}}function C(S,h){if(1&S&&(t.nrm(0,"img",3),t.nI1(1,"safe")),2&S){const y=t.XpG();t.Y8G("src",t.i5U(1,1,y.icon.src,"resource"),t.B4B)}}let g=(()=>{class S{constructor(){this.className="material-icons"}static#e=this.\u0275fac=function(O){return new(O||S)};static#t=this.\u0275cmp=t.VBU({type:S,selectors:[["app-icon"],["icon"]],inputs:{className:"className",icon:"icon"},ngContentSelectors:v,decls:3,vars:2,consts:[[1,"flex","items-center","justify-center","h-[1.25em]","w-[1.25em]"],[3,"class",4,"ngIf"],["class","h-[1em] w-[1em]",3,"src",4,"ngIf"],[1,"h-[1em]","w-[1em]",3,"src"]],template:function(O,m){1&O&&(t.NAR(),t.j41(0,"div",0),t.DNE(1,b,3,3,"i",1)(2,C,2,4,"img",2),t.k0s()),2&O&&(t.R7$(),t.Y8G("ngIf",!m.icon||"img"!==m.icon.type),t.R7$(),t.Y8G("ngIf",m.icon&&"img"===m.icon.type))},dependencies:[n.bT,f.m],styles:["i[_ngcontent-%COMP%]{font-size:1em}"]})}return S})()},5277:(At,ue,a)=>{"use strict";a.d(ue,{H:()=>h});var t=a(3953);function n(y,O){if(1&y&&t.nrm(0,"img",8),2&y){const m=t.XpG().$implicit;t.Y8G("source",m.url||m)}}function f(y,O){if(1&y&&(t.j41(0,"div",6),t.DNE(1,n,1,1,"img",7),t.k0s()),2&y){const m=O.$implicit,E=t.XpG();t.xc7("transform","translateX(-"+100*E.offset+"%)"),t.R7$(),t.Y8G("ngIf",m)}}function v(y,O){1&y&&(t.j41(0,"div",9)(1,"app-icon",10),t.EFF(2,"image_not_supported"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No images"),t.k0s()())}function b(y,O){if(1&y){const m=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.offset=u.offset-1)}),t.j41(1,"app-icon",12),t.EFF(2,"chevron_left"),t.k0s()()}if(2&y){const m=t.XpG();t.Y8G("disabled",0===m.offset)}}function C(y,O){if(1&y){const m=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.offset=u.offset+1)}),t.j41(1,"app-icon",12),t.EFF(2,"chevron_right"),t.k0s()()}if(2&y){const m=t.XpG();t.Y8G("disabled",m.offset>=(null==m.images?null:m.images.length)-1)}}function g(y,O){if(1&y&&t.nrm(0,"button",16),2&y){const m=O.index,E=t.XpG(2);t.AVh("!bg-base-100",E.offset===m)}}function S(y,O){if(1&y&&(t.j41(0,"div",14),t.DNE(1,g,1,2,"button",15),t.k0s()),2&y){const m=t.XpG();t.R7$(),t.Y8G("ngForOf",m.images)}}let h=(()=>{class y{constructor(){this.images=[],this.offset=0}static#e=this.\u0275fac=function(E){return new(E||y)};static#t=this.\u0275cmp=t.VBU({type:y,selectors:[["image-carousel"]],inputs:{images:"images"},decls:6,vars:5,consts:[[1,"h-full","w-full","relative","overflow-hidden","flex"],["image","","class","h-full min-w-full relative flex items-center justify-center overflow-hidden",3,"transform",4,"ngFor","ngForOf"],["class","h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["class","absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2",4,"ngIf"],["image","",1,"h-full","min-w-full","relative","flex","items-center","justify-center","overflow-hidden"],["auth","","class","h-full object-contain",3,"source",4,"ngIf"],["auth","",1,"h-full","object-contain",3,"source"],[1,"h-full","w-full","relative","flex","flex-col","items-center","justify-center","opacity-30","space-y-2"],[1,"text-5xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","left-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"text-4xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","right-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"absolute","bottom-1","left-1/2","-translate-x-1/2","text-sm","opacity-30","space-x-2"],["matRipple","","class","h-4 w-4 rounded-full bg-base-300 shadow",3,"!bg-base-100",4,"ngFor","ngForOf"],["matRipple","",1,"h-4","w-4","rounded-full","bg-base-300","shadow"]],template:function(E,u){1&E&&(t.j41(0,"div",0),t.DNE(1,f,2,3,"div",1)(2,v,5,0,"div",2)(3,b,3,1,"button",3)(4,C,3,1,"button",4)(5,S,2,1,"div",5),t.k0s()),2&E&&(t.R7$(),t.Y8G("ngForOf",u.images),t.R7$(),t.Y8G("ngIf",!(null!=u.images&&u.images.length)),t.R7$(),t.Y8G("ngIf",null==u.images?null:u.images.length),t.R7$(),t.Y8G("ngIf",null==u.images?null:u.images.length),t.R7$(),t.Y8G("ngIf",null==u.images?null:u.images.length))},styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[image][_ngcontent-%COMP%]{transition:transform .3s}"]})}return y})()},6821:(At,ue,a)=>{"use strict";a.d(ue,{d:()=>b});var t=a(4006),n=a(3953),f=a(6600),v=a(9434);let b=(()=>{class C{constructor(S){this.url=S}static#e=this.\u0275fac=function(h){return new(h||C)(n.rXU(t.Vh))};static#t=this.\u0275cmp=n.VBU({type:C,selectors:[["image-viewer"]],decls:5,vars:1,consts:[[1,"h-screen","w-screen","bg-base-200"],[1,"object-contain","object-center","w-full","h-full",3,"src"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","right-1","bg-base-100"]],template:function(h,y){1&h&&(n.j41(0,"div",0),n.nrm(1,"img",1),n.j41(2,"button",2)(3,"app-icon"),n.EFF(4,"close"),n.k0s()()()),2&h&&(n.R7$(),n.Y8G("src",y.url,n.B4B))},dependencies:[f.r6,t.tx,v.R]})}return C})()},2124:(At,ue,a)=>{"use strict";a.d(ue,{M:()=>K});var t=a(467),n=a(2333),f=a(2455),v=a(2185),b=a(9714),C=a(8728),g=a(5006),S=a(4046),h=a(9420),y=a(3953),O=a(177),m=a(3719),E=a(6600),u=a(9631),M=a(9183),x=a(4823),D=a(9434),A=a(1780);const L=["searchInput"],l=["searchResultItems"];function $(X,Q){1&X&&(y.j41(0,"div",11),y.nrm(1,"mat-spinner",12),y.k0s()),2&X&&(y.R7$(),y.Y8G("diameter",48))}function R(X,Q){if(1&X&&(y.j41(0,"div",13),y.nrm(1,"img",14),y.j41(2,"p",15),y.EFF(3),y.nI1(4,"translate"),y.k0s()()),2&X){const de=y.XpG();y.R7$(3),y.SpI(" ",y.bMT(4,1,de.geolocation_error_message)," ")}}function F(X,Q){if(1&X){const de=y.RV6();y.j41(0,"li",21)(1,"button",22),y.bIt("click",function(){const ce=y.eBV(de).$implicit,z=y.XpG(2);return z.getRoute(ce),y.Njj(z.search_result_items=[])}),y.j41(2,"div",23)(3,"div"),y.EFF(4),y.k0s(),y.j41(5,"div",24),y.EFF(6),y.k0s()()()()}if(2&X){const de=Q.$implicit;y.R7$(4),y.JRh(de.properties.name),y.R7$(2),y.Lme(" ",de.properties.roomId,", Level ",de.properties.floorName," ")}}function P(X,Q){if(1&X){const de=y.RV6();y.qex(0),y.j41(1,"div",16)(2,"h3",17),y.EFF(3),y.k0s(),y.j41(4,"button",18),y.bIt("click",function(){y.eBV(de);const ce=y.XpG();return y.Njj(ce.search_result_items=[])}),y.j41(5,"app-icon"),y.EFF(6,"close"),y.k0s()()(),y.j41(7,"ul",19),y.DNE(8,F,7,3,"li",20),y.nI1(9,"slice"),y.k0s(),y.bVm()}if(2&X){const de=y.XpG();y.R7$(3),y.SpI(" Results (",de.search_result_items.length||"0",") "),y.R7$(5),y.Y8G("ngForOf",y.brH(9,2,de.search_result_items,0,10))}}function V(X){return X*(Math.PI/180)}let K=(()=>{class X extends n.Tv{constructor(de,se,ce){super(),this._api_service=de,this._state=se,this._org=ce,this.default_zoom=19,this.live_data_status="enabled",this.search_result_items=[],this.selected_destination=null,this.actions_hashmap={},this.user_latitude=null,this.user_longitude=null,this.geolocation_error_message="",this.route_error_message="",this.coordinates=null,this.buildings=this._org.building_list,this.building=this._org.active_building,this.setBuilding=z=>{this._org.building=z,this._setLocationToBuilding()},this.levels=(0,b.zV)([this.building,this._state.options]).pipe((0,C.p)(([z])=>!!z),(0,g.T)(([z])=>[{id:this._org.building.id,name:"All Levels"},...this._org.levelsForBuilding(z)])),this.floor_mapping={}}ngOnInit(){var de=this;return(0,t.A)(function*(){de.loading=!0,yield de._org.initialised.pipe((0,S.$)(ce=>!!ce)).toPromise(),de.setBuilding(de._org.building),de.custom_coordinates&&(de.coordinates=de.custom_coordinates);const se=()=>{de._getUserLocation(),document.removeEventListener("click",se)};document.addEventListener("click",se),yield de._initMapView()})()}ngOnChanges(de){var se=this;return(0,t.A)(function*(){if((de.styles||de.actions)&&(yield se.renderSpaceStatus(),yield se.mapActions()),de.locate&&se.locate&&mapsindoors){const ce={q:se.searchElement.nativeElement.value},z=yield mapsindoors?.services.LocationsService.getLocations(ce);z.length&&se.getRoute(z[0])}se.mapFloorsToIndex(),se.loading=!1})()}ngAfterViewInit(){this.maps_service?.addListener("click",(de,se)=>{const ce=this.actions_hashmap[de.id];ce&&ce.callback(se)})}_initMapView(){if(!this._api_service.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initMapView(),1e3);const de={element:document.getElementById("maps-indoors"),center:{lat:this.user_latitude,lng:this.user_longitude},zoom:this.default_zoom||19,maxZoom:24};this._api_service.map_service===h.u.GoogleMaps?((0,n.Rm)("MapsIndoors","Using Google Maps API"),this.view_instance=new mapsindoors.mapView.GoogleMapsView(de)):(de.accessToken=this._api_service.map_token,console.log("View Options:",de),(0,n.Rm)("MapsIndoors","Using Mapbox API"),this.view_instance=new mapsindoors.mapView.MapboxView(de)),this.view_instance?(this.maps_service=new mapsindoors.MapsIndoors({mapView:this.view_instance}),this.map_instance=this.view_instance.getMap(),this.initDirections(),this.handleLocationChange(),this.mapFloorsToIndex(),this._setLocationToBuilding()):(0,n.Rm)("MapsIndoors","Failed to initialise map view instance.",void 0,"warn")}initDirections(){const de=this._api_service.map_service===h.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._api_service.map_token);this.directions_service=new mapsindoors.services.DirectionsService(de),this.directions_renderer=new mapsindoors.directions.DirectionsRenderer({mapsIndoors:this.maps_service})}mapFloorsToIndex(){var de=this;return(0,t.A)(function*(){const se=yield de.maps_service?.getBuilding(),z=se?.buildingInfo?.fields?.floorMapping?.value?.split(",\n").map(j=>j.split(":"));console.log("Pairs:",z,se),de.floor_mapping=z?.reduce((j,[W,ne])=>(j[W]=ne,j),{})||{};const w=yield de.maps_service?.getFloor();w&&de.floor_mapping&&de._state.setLevel(de.floor_mapping[w])})()}handleLocationChange(){const de=document.createElement("div");new mapsindoors.FloorSelector(de,this.maps_service),this._api_service.map_service===h.u.GoogleMaps?this.map_instance.controls[google.maps.ControlPosition.RIGHT_TOP].push(de):this.view_instance.getMap().addControl({onAdd:()=>de,onRemove:()=>{}}),this.maps_service?.addListener("building_changed",se=>{const ce=this._org.buildings.find(z=>{z.name.toLowerCase(),se.buildingInfo?.name.toLowerCase(),this.setBuilding(ce)})}),this.maps_service?.addListener("floor_changed",se=>{se&&this.floor_mapping&&this._state.setLevel(this.floor_mapping[se])})}onSearch(){const de={q:this.searchElement.nativeElement.value};mapsindoors?.services.LocationsService.getLocations(de).then(se=>{console.log("Locations:",se,this.map_instance.getZoom()),this.search_result_items=se})}_getUserLocation(){var de=this;return(0,t.A)(function*(){return"geolocation"in navigator?de.coordinates?(console.log("Using custom coordinates:",de.coordinates),de.user_latitude=de.coordinates.latitude,void(de.user_longitude=de.coordinates.longitude)):(navigator.geolocation.watchPosition(ce=>de._updateGeolocation(ce),ce=>de._handleGeolocationError(ce)),void navigator.geolocation.getCurrentPosition(ce=>{if(!de._userWithinRadius([ce.coords.latitude,ce.coords.longitude]))return de._setLocationToBuilding();de._updateGeolocation(ce),de.map_instance.setCenter({lat:ce.coords.latitude,lng:ce.coords.longitude})},()=>de._setLocationToBuilding(),{timeout:1e4,enableHighAccuracy:!0})):((0,n.Rm)("MapsIndoors","User's geolocation not available.",void 0,"warn"),de._setLocationToBuilding())})()}_userWithinRadius([de,se],ce=1){const[z,w]=this._org.building?.location.split(",")||[];return!(z&&w&&function k(X,Q,de,se){const z=V(de-X),w=V(se-Q);X=V(X),de=V(de);const j=Math.sin(z/2)*Math.sin(z/2)+Math.sin(w/2)*Math.sin(w/2)*Math.cos(X)*Math.cos(de);return 2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j))*6371}(parseFloat(z),parseFloat(w),de,se)>=ce)}_setLocationToBuilding(){(0,n.Rm)("MapsIndoors","Settings location to building:",[this._org.building?.display_name||this._org.building?.name,this._org.building?.location]);const[de,se]=this._org.building?.location.split(",");this.map_instance&&this.map_instance.setCenter({lat:parseFloat(de),lng:parseFloat(se)})}_updateGeolocation(de){if(!de?.coords)return;(0,n.Rm)("MapsIndoors","Settings location to user:",de.coords,"warn");const{latitude:se,longitude:ce}=de.coords;(se!==this.user_latitude||ce!==this.user_longitude)&&(this.user_latitude=se,this.user_longitude=ce,this.getRoute(this.selected_destination))}_handleGeolocationError(de){(0,n.UG)(`Error retrieving your geolocation. [${de.message}]`)}getRoute(de){var se=this;return(0,t.A)(function*(){if(se.maps_service?.highlight([]),!se.directions_service||!de)return;console.log("Directions Service:",se.directions_service),(0,n.Rm)("MapsIndoors","Getting route to location:",[de,se.user_latitude,se.user_longitude]),se.selected_destination=de;const ce={lat:de.properties.anchor.coordinates[1],lng:de.properties.anchor.coordinates[0],floor:de.properties.floor},z=(se.floor_mapping||{})[de.properties.floor];if(z&&se._state.setLevel(z),!se._userWithinRadius([se.user_latitude,se.user_longitude],1e3))return se.map_instance.setZoom(19),se.map_instance.setCenter(ce),se.maps_service.setFloor(ce.floor),void se.maps_service.highlight([de.id]);if(!se.user_latitude||!se.user_longitude)return(0,n.UG)("Unable to find a route.");const j={origin:{lat:se.user_latitude,lng:se.user_longitude},destination:ce};console.log("Route Parameters:",j);const W=yield se.directions_service.getRoute(j).catch(ne=>{(0,n.Rm)("MapsIndoors","Error fetching route: ",ne.message||ne,"warn"),ne instanceof TypeError&&ne.message?.includes("origin")&&(0,n.UG)("Error: Origin location is outside of map area.")});W&&(console.log("Route:",W),se.directions_renderer?.setRoute(W))})()}renderSpaceStatus(){var de=this;return(0,t.A)(function*(){if(!de.styles)return;const se=[];for(const ce in de.styles){const z=de.styles[ce].fill;if(ce){const w=ce.substring(1);se.push(de._setPolygonFill(w,z))}}return yield Promise.all(se)})()}mapActions(){var de=this;return(0,t.A)(function*(){return de.actions?.reduce((se,ce)=>(se[ce.id]=ce,se),{})})()}_setPolygonFill(de,se){return this.maps_service?.setDisplayRule(de,{polygonVisible:!0,polygonFillOpacity:.6,polygonZoomFrom:16,polygonZoomTo:22,visible:!0,polygonFillColor:se})}static#e=this.\u0275fac=function(se){return new(se||X)(y.rXU(n._e),y.rXU(f.O),y.rXU(v.yb))};static#t=this.\u0275cmp=y.VBU({type:X,selectors:[["indoor-maps"]],viewQuery:function(se,ce){if(1&se&&(y.GBs(L,7),y.GBs(l,5)),2&se){let z;y.mGM(z=y.lsd())&&(ce.searchElement=z.first),y.mGM(z=y.lsd())&&(ce.searchResults=z.first)}},inputs:{styles:"styles",actions:"actions",custom_coordinates:"custom_coordinates",locate:"locate",default_zoom:"default_zoom"},features:[y.Vt3,y.OA$],decls:12,vars:3,consts:[["searchInput",""],["id","maps-indoors",1,"absolute","inset-0","flex","items-center","justify-center"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class","absolute inset-0 flex flex-col space-y-2 items-center justify-center",4,"ngIf"],[1,"absolute","flex","flex-col","h-min","w-min","top-2","left-2","bg-base-100","text-base-content","rounded-lg","z-50","p-2","shadow"],["appearance","outline",1,"map","no-subscript"],["matInput","","name","location-search","type","text","placeholder","Search",3,"keyup.enter"],["matSuffix","",1,"h-10","relative"],["icon","","name","indoor-map-search","matRipple","","aria-label","search button","matTooltip","Search...",1,"hover:bg-base-200",3,"click"],["matPrefix","",1,"text-2xl","relative"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center"],[3,"diameter"],[1,"absolute","inset-0","flex","flex-col","space-y-2","items-center","justify-center"],["src","assets/icons/not-found.svg","alt","graphic of magnifying glass","width","200px",1,"items-center"],[1,"opacity-60","text-sm","text-center","mt-10"],[1,"flex","items-center","justify-between","px-2","my-2","space-x-2"],[1,"font-medium","text-lg"],["icon","","matRipple","","matTooltip","Clear Results",1,"hover:bg-base-200",3,"click"],[1,"list-none","m-0","p-0","w-full","space-y-2","max-h-[65vh]","overflow-auto"],["class","w-full even:bg-base-200 hover:bg-base-300 rounded border border-base-200",4,"ngFor","ngForOf"],[1,"w-full","even:bg-base-200","hover:bg-base-300","rounded","border","border-base-200"],[1,"flex","items-center","w-full","p-2","space-x-2","text-left",3,"click"],[1,"flex","flex-col","flex-1"],[1,"opacity-30","text-xs"]],template:function(se,ce){if(1&se){const z=y.RV6();y.nrm(0,"div",1),y.DNE(1,$,2,1,"div",2)(2,R,5,3,"div",3),y.j41(3,"div",4)(4,"mat-form-field",5)(5,"input",6,0),y.bIt("keyup.enter",function(){return y.eBV(z),y.Njj(ce.onSearch())}),y.k0s(),y.j41(7,"div",7)(8,"button",8),y.bIt("click",function(){return y.eBV(z),y.Njj(ce.onSearch())}),y.j41(9,"app-icon",9),y.EFF(10," search "),y.k0s()()()(),y.DNE(11,P,10,6,"ng-container",10),y.k0s()}2&se&&(y.R7$(),y.Y8G("ngIf",ce.loading),y.R7$(),y.Y8G("ngIf",ce.geolocation_error_message),y.R7$(9),y.Y8G("ngIf",null==ce.search_result_items?null:ce.search_result_items.length))},dependencies:[O.Sq,O.bT,m.rl,m.JW,m.yw,E.r6,u.fg,M.LG,x.oV,D.R,O.P9,A.D9],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return X})()},4918:(At,ue,a)=>{"use strict";a.d(ue,{N:()=>h,S:()=>y});var t=a(3953),n=a(2333),f=a(2185),v=a(2455);const b=["*","*"];function C(O,m){if(1&O){const E=t.RV6();t.qex(0),t.j41(1,"map-renderer",3),t.mxI("zoomChange",function(M){t.eBV(E);const x=t.XpG();return t.DH7(x.zoom,M)||(x.zoom=M),t.Njj(M)}),t.bIt("zoomChange",function(M){t.eBV(E);const x=t.XpG();return t.Njj(x.zoomChange.next(M))})("mapInfo",function(M){t.eBV(E);const x=t.XpG();return t.Njj(x.mapInfo.next(M))}),t.SdG(2),t.k0s(),t.bVm()}if(2&O){const E=t.XpG();t.R7$(),t.Y8G("src",E.src),t.R50("zoom",E.zoom),t.Y8G("reset",E.reset)("styles",E.styles||(null==E.metadata?null:E.metadata.styles))("features",E.features||(null==E.metadata?null:E.metadata.features))("actions",E.actions||(null==E.metadata?null:E.metadata.actions))("labels",E.labels||(null==E.metadata?null:E.metadata.labels))}}function g(O,m){if(1&O){const E=t.RV6();t.j41(0,"maps-indoors",4),t.bIt("zoneChange",function(M){t.eBV(E);const x=t.XpG();return t.Njj(x.onLevelChange(M))}),t.mxI("zoomChange",function(M){t.eBV(E);const x=t.XpG();return t.DH7(x.zoom,M)||(x.zoom=M),t.Njj(M)}),t.bIt("zoomChange",function(M){t.eBV(E);const x=t.XpG();return t.Njj(x.zoomChange.next(M))}),t.SdG(1,1),t.k0s()}if(2&O){const E=t.XpG();t.Y8G("zone",E.location),t.R50("zoom",E.zoom),t.Y8G("options",E.options)("reset",E.reset)("focus",E.focus)("metadata",E.metadata)}}function S(O,m){if(1&O){const E=t.RV6();t.j41(0,"div",5)(1,"button",6),t.bIt("click",function(){t.eBV(E);const M=t.XpG();return t.Njj(M.zoom=1.1*M.zoom)}),t.j41(2,"app-icon"),t.EFF(3,"add"),t.k0s()(),t.j41(4,"button",7),t.bIt("click",function(){t.eBV(E);const M=t.XpG();return t.Njj(M.zoom=M.zoom*(10/11))}),t.j41(5,"app-icon"),t.EFF(6,"remove"),t.k0s()(),t.j41(7,"button",8),t.bIt("click",function(){t.eBV(E);const M=t.XpG();return t.Njj(M.reset=M.reset+1)}),t.j41(8,"app-icon"),t.EFF(9,"refresh"),t.k0s()()()}}const h=new t.nKC("Data for Map Features");let y=(()=>{class O extends n.Tv{get location(){return this._org.levels.find(E=>E.map_id===this.src)}constructor(E,u,M){super(),this._mapspeople=E,this._org=u,this._explore=M,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.metadata={},this.options={},this.zoomChange=new t.bkB,this.centerChange=new t.bkB,this.mapInfo=new t.bkB,this.use_mapsindoors$=this._mapspeople.available$}ngOnChanges(E){(E.actions||E.labels||E.styles||E.features)&&(this.metadata={actions:this.actions||[],labels:this.labels||[],styles:this.styles||{},features:this.features||[]})}onLevelChange(E){(0,n.Rm)("Map","Level changed to:",E?.display_name||E?.name||E),this._explore.setLevel(E.id)}static#e=this.\u0275fac=function(u){return new(u||O)(t.rXU(n._e),t.rXU(f.yb),t.rXU(v.O))};static#t=this.\u0275cmp=t.VBU({type:O,selectors:[["interactive-map"]],inputs:{src:"src",zoom:"zoom",center:"center",reset:"reset",metadata:"metadata",styles:"styles",features:"features",labels:"labels",actions:"actions",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[t.Vt3,t.OA$],ngContentSelectors:b,decls:5,vars:5,consts:[["mapsindoors_template",""],[4,"ngIf","ngIfElse"],["zoom","","class","absolute bottom-16 right-1 border border-base-200 divide-y divide-base-200 shadow flex flex-col bg-base-100 text-base-content rounded overflow-hidden",4,"ngIf"],[3,"zoomChange","mapInfo","src","zoom","reset","styles","features","actions","labels"],[3,"zoneChange","zoomChange","zone","zoom","options","reset","focus","metadata"],["zoom","",1,"absolute","bottom-16","right-1","border","border-base-200","divide-y","divide-base-200","shadow","flex","flex-col","bg-base-100","text-base-content","rounded","overflow-hidden"],["icon","","matRipple","","matTooltip","Zoom In","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Zoom Out","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Reset Zoom and Position","matTooltipPosition","left",1,"rounded-none",3,"click"]],template:function(u,M){if(1&u&&(t.NAR(b),t.DNE(0,C,3,7,"ng-container",1),t.nI1(1,"async"),t.DNE(2,g,2,6,"ng-template",null,0,t.C5r)(4,S,10,0,"div",2)),2&u){const x=t.sdS(3);t.Y8G("ngIf",!t.bMT(1,3,M.use_mapsindoors$))("ngIfElse",x),t.R7$(4),t.Y8G("ngIf",null==M.options?null:M.options.controls)}}})}return O})()},2354:(At,ue,a)=>{"use strict";a.d(ue,{o:()=>f});var t=a(2238),n=a(3953);let f=(()=>{class v{constructor(C){this.json=C?.data||"",this._updateFormatting()}ngOnChanges(C){C.json&&this._updateFormatting()}_updateFormatting(){this.formatted_json=JSON.stringify(this.json,void 0,4)}static#e=this.\u0275fac=function(g){return new(g||v)(n.rXU(t.D,8))};static#t=this.\u0275cmp=n.VBU({type:v,selectors:[["json-display"]],inputs:{json:"json"},features:[n.OA$],decls:3,vars:1,consts:[[1,"bg-base-100","shadow","rounded","overflow-auto","max-w-[80vw]","max-h-[80vh]","p-2","border","border-base-300"],[1,"font-mono","text-sm","bg-base-200","p-2","rounded","break-all","w-full"]],template:function(g,S){1&g&&(n.j41(0,"div",0)(1,"pre",1),n.EFF(2),n.k0s()()),2&g&&(n.R7$(2),n.JRh(S.formatted_json))},styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]})}return v})()},3835:(At,ue,a)=>{"use strict";a.d(ue,{O:()=>S});var t=a(2333),n=a(8030),f=a(3953),v=a(1780),b=a(177),C=a(9434);function g(h,y){if(1&h){const O=f.RV6();f.j41(0,"button",6),f.bIt("click",function(){const E=f.eBV(O).$implicit,u=f.XpG();return f.Njj(u.setLocale(E.id))}),f.EFF(1),f.k0s()}if(2&h){const O=y.$implicit;f.R7$(),f.Lme(" ",O.name," - ",O.flag," ")}}let S=(()=>{class h{get locales(){return this._settings.get("app.locales")||[]}constructor(O,m,E){this._data=O,this._settings=m,this._translation=E,this.setLocale=u=>{this._translation.use(u),localStorage.setItem("PLACEOS.locale",u)},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(m){return new(m||h)(f.rXU(n.Dd),f.rXU(t.h$),f.rXU(v.c$))};static#t=this.\u0275cmp=f.VBU({type:h,selectors:[["language-select"]],decls:11,vars:7,consts:[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1",3,"click"],[1,"flex","items-center","space-x-2","p-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2","p-4"],["class","w-full p-4 border-t border-base-200 text-left",3,"click",4,"ngFor","ngForOf"],[1,"w-full","p-4","border-t","border-base-200","text-left",3,"click"]],template:function(m,E){1&m&&(f.j41(0,"div",0),f.bIt("click",function(){return E.close()}),f.j41(1,"div",1)(2,"app-icon",2),f.EFF(3,"arrow_back"),f.k0s(),f.j41(4,"div",3),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.j41(7,"div",4),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.DNE(10,g,2,2,"button",5),f.k0s()),2&m&&(f.R7$(5),f.JRh(f.bMT(6,3,"COMMON.LANGUAGE")),f.R7$(3),f.SpI(" ",f.bMT(9,5,"COMMON.LANGUAGE_SELECT")," "),f.R7$(2),f.Y8G("ngForOf",E.locales))},dependencies:[b.Sq,C.R,v.D9]})}return h})()},2897:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>C});var t=a(3953);const n="0123456789".split(""),f="0123456789.".split(""),v="abcdefghijklmnopqrstuvwxyz".split(""),b="abcdefghijklmnopqrstuvwxyz0123456789".split("");let C=(()=>{class g{constructor(h){this._el=h,this.restriction="decimals",this.custom_list=[]}onKeyDown(h){const y=h,O=y.key;if(!(-1!==["ArrowLeft","ArrowRight","Tab","Backspace","Home"].indexOf(O)||"a"===y.key&&(y.ctrlKey||y.metaKey)||"c"===y.key&&(y.ctrlKey||y.metaKey)||"v"===y.key&&(y.ctrlKey||y.metaKey)||"x"===y.key&&(y.ctrlKey||y.metaKey)))switch(this.restriction){case"letters":-1===v.indexOf(O)&&y.preventDefault();break;case"alphanumeric":-1===b.indexOf(O)&&y.preventDefault();break;case"custom":-1===this.custom_list.indexOf(O)&&y.preventDefault();break;case"decimals":-1===f.indexOf(O)&&y.preventDefault();break;default:-1===n.indexOf(O)&&y.preventDefault()}}static#e=this.\u0275fac=function(y){return new(y||g)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:g,selectors:[["","limitInput",""]],hostBindings:function(y,O){1&y&&t.bIt("keydown",function(E){return O.onKeyDown(E)})},inputs:{restriction:"restriction",custom_list:"custom_list"}})}return g})()},7558:(At,ue,a)=>{"use strict";a.d(ue,{I:()=>h});var t=a(467),n=a(9714),f=a(4918),v=a(9493),b=a(2333),C=a(3953);const g=["canvas"],S=["map-canvas",""];let h=(()=>{class y extends b.Tv{get ratioed_height(){return+(this.width*this.ratio).toFixed(2)}constructor(m){super(),this._data=m,this.zoom=1,this.ratio=1,this.svg_ratio=1,this.width=1e4}ngOnInit(){this.subscription("state",(0,n.zV)([this._data.ratio$,this._data.zoom$,this._data.svg_ratio$]).subscribe(([m,E,u])=>this._handleMapChange(m,E,u))),this.subscription("polygons",this._data.polygons$.subscribe(m=>this._handleStateChange(m)))}_handleMapChange(m,E,u){var M=this;return(0,t.A)(function*(){const x=M.ratio;M.zoom=E,M.ratio=m,M.svg_ratio=u;const A=M.width*M.ratio/10;if(x===m)return;const L=M.canvas_element.nativeElement;L.width=M.width/10,L.height=A;const l=yield M._data.polygons$.pipe((0,v.s)(1)).toPromise();M._handleStateChange(l)})()}_handleStateChange(m){const E=this.canvas_element.nativeElement;E.getContext("2d").clearRect(0,0,E.width,E.height),m.forEach(M=>this._drawPolygon(M))}_drawPolygon(m){const E=m.points;if(!E?.length)return;const u=this.canvas_element.nativeElement,M=u.getContext("2d"),x=u.width,D=u.height;if(M.fillStyle=m.color+"80",M.beginPath(),M.moveTo(E[0][0]*x,E[0][1]*D),E.forEach(([A,L])=>M.lineTo(A*x,L*D)),M.closePath(),M.fill(),M.strokeStyle=(0,b.ej)(m.color,"#888888",.5),M.lineWidth=3,M.beginPath(),M.moveTo(E[0][0]*x,E[0][1]*D),E.forEach(([A,L])=>M.lineTo(A*x,L*D)),M.closePath(),M.stroke(),!1!==this._data.draw_points&&(M.fillStyle="#fff",M.strokeStyle=m.color,M.lineWidth=4,E.forEach(([A,L])=>{M.beginPath(),M.arc(A*x,L*D,8,0,2*Math.PI),M.fill(),M.stroke()})),!1!==this._data.draw_labels){const A=E.reduce((L,[l,$])=>[L[0]+l,L[1]+$],[0,0]);A[0]/=E.length,A[1]/=E.length,M.textAlign="center",M.textBaseline="middle",M.fillStyle="#FFF",M.font="32px sans-serif",M.fillText(m.name,A[0]*x+1,A[1]*D+2),M.fillStyle="#000",M.fillText(m.name,A[0]*x,A[1]*D)}}static#e=this.\u0275fac=function(E){return new(E||y)(C.rXU(f.N))};static#t=this.\u0275cmp=C.VBU({type:y,selectors:[["","map-canvas",""]],viewQuery:function(E,u){if(1&E&&C.GBs(g,7),2&E){let M;C.mGM(M=C.lsd())&&(u.canvas_element=M.first)}},features:[C.Vt3],attrs:S,decls:2,vars:4,consts:[["canvas",""],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"]],template:function(E,u){1&E&&C.nrm(0,"canvas",1,0),2&E&&C.xc7("width",u.width*u.svg_ratio*u.zoom+"%")("height",u.width*u.svg_ratio*u.ratio*u.zoom+"%")},encapsulation:2})}return y})()},620:(At,ue,a)=>{"use strict";a.d(ue,{V:()=>S});var t=a(3953),n=a(4006),f=a(2333),v=a(8026),b=a(1865);const C=()=>({disable_pan:!0,disable_zoom:!0});function g(h,y){if(1&h&&(t.j41(0,"div",7)(1,"interactive-map",8),t.nrm(2,"mat-spinner",9),t.k0s(),t.j41(3,"div",10),t.EFF(4),t.k0s()()),2&h){const O=t.XpG();t.R7$(),t.Y8G("src",null==O.level?null:O.level.map_id)("focus",null==O.item?null:O.item.map_id)("features",O.features)("options",t.lJ4(5,C)),t.R7$(3),t.SpI(" ",(null==O.level?null:O.level.display_name)||(null==O.level?null:O.level.name)," ")}}let S=(()=>{class h extends f.Tv{get level(){return this.item.level||this._org.levelWithID(this.item.zones||[])}constructor(O,m){super(),this._data=O,this._org=m,this.event=new t.bkB,this.item=this._data.item,this.style_map={},this.item.level?.id||delete this.item.level}ngOnInit(){this.timeout("init",()=>{this.processFeature(),this.processStyles()},1e3)}processStyles(){const O={};this.item?.map_id&&(O["#zones"]={display:"none"},O["#Zones"]={display:"none"}),this.style_map=O}processFeature(){if(!this.item)return null;this.features=[{location:this.item.map_id,track_id:"focus_item",content:b.V,data:{name:this.item.name},z_index:99,zoom:100}]}static#e=this.\u0275fac=function(m){return new(m||h)(t.rXU(n.Vh),t.rXU(v.y))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["map-locate-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:10,vars:2,consts:[[1,"h-[calc(100vh-4rem)]","w-screen","sm:h-auto","sm:w-auto"],[1,"p-4"],[1,"text-2xl"],[1,"ml-2","text-xl","font-medium"],["body","","class","relative overflow-hidden h-[65vh] w-full sm:max-h-[65vh]",4,"ngIf"],[1,"w-full","border-t","border-base-200","flex","items-center","justify-center","p-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["body","",1,"relative","overflow-hidden","h-[65vh]","w-full","sm:max-h-[65vh]"],[1,"pointer-events-none",3,"src","focus","features","options"],["diameter","64"],[1,"absolute","top-2","right-2","py-2","px-4","bg-base-100","rounded-3xl","shadow","border","border-base-200"]],template:function(m,E){1&m&&(t.j41(0,"div",0)(1,"header",1)(2,"app-icon",2),t.EFF(3,"place"),t.k0s(),t.j41(4,"h1",3),t.EFF(5),t.k0s()(),t.DNE(6,g,5,6,"div",4),t.j41(7,"footer",5)(8,"button",6),t.EFF(9," Close "),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",E.item.display_name||E.item.name," "),t.R7$(),t.Y8G("ngIf",E.level))},styles:["[body][_ngcontent-%COMP%]{min-width:80vw!important}"]})}return h})()},1865:(At,ue,a)=>{"use strict";a.d(ue,{V:()=>g});var t=a(4918),n=a(3953),f=a(177);const v=["map-pin",""];function b(S,h){if(1&S&&(n.j41(0,"div",2),n.EFF(1),n.k0s()),2&S){const y=n.XpG();n.R7$(),n.SpI(" ",y.message," ")}}function C(S,h){if(1&S){const y=n.RV6();n.qSk(),n.j41(0,"svg",3),n.bIt("click",function(){n.eBV(y);const m=n.XpG();return n.Njj(m.action())}),n.j41(1,"g"),n.nrm(2,"path",4),n.k0s()()}if(2&S){const y=n.XpG();n.AVh("action",y.action),n.R7$(2),n.xc7("fill",y.fill)("stroke",y.stroke)}}let g=(()=>{class S{constructor(y){this._details=y,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#fff",this.action=this._details.action||null}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}static#e=this.\u0275fac=function(O){return new(O||S)(n.rXU(t.N))};static#t=this.\u0275cmp=n.VBU({type:S,selectors:[["","map-pin",""]],attrs:v,decls:2,vars:2,consts:[["name","message","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow",4,"ngIf"],["name","pin","viewBox","0 0 380 560",3,"action","click",4,"ngIf"],["name","message",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow"],["name","pin","viewBox","0 0 380 560",3,"click"],["stroke-width","25","d","M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"]],template:function(O,m){1&O&&n.DNE(0,b,2,1,"div",0)(1,C,3,6,"svg",1),2&O&&(n.Y8G("ngIf",m.message&&m.show_message),n.R7$(),n.Y8G("ngIf",m.show))},dependencies:[f.bT],styles:["[_nghost-%COMP%]{position:absolute;bottom:50%;left:50%;width:24rem;display:flex;flex-direction:column;align-items:center;transform:translate(-50%);z-index:-1}div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-top 1s}.action[_ngcontent-%COMP%]{pointer-events:auto}svg[_ngcontent-%COMP%]{width:2rem;animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}"]})}return S})()},5384:(At,ue,a)=>{"use strict";a.d(ue,{o:()=>h});var t=a(6863),n=a(4918),f=a(3953),v=a(177);const b=["map-radius",""];function C(y,O){if(1&y&&(f.j41(0,"span",6),f.EFF(1),f.k0s()),2&y){const m=f.XpG(3);f.R7$(),f.SpI(" Last updated: ",m.last_seen_at," ")}}function g(y,O){if(1&y&&(f.j41(0,"div",4),f.EFF(1),f.DNE(2,C,2,1,"span",5),f.k0s()),2&y){const m=f.XpG(2);f.xc7("top","-"+m.radius/2*m.zoom+"px"),f.R7$(),f.SpI(" ",m.message," "),f.R7$(),f.Y8G("ngIf",m.last_seen)}}function S(y,O){if(1&y){const m=f.RV6();f.qex(0,1),f.bIt("resize",function(){f.eBV(m);const u=f.XpG();return f.Njj(u.updateRadius())},!1,f.tSv),f.nrm(1,"div",2),f.DNE(2,g,3,4,"div",3),f.bVm()}if(2&y){const m=f.XpG();f.R7$(),f.xc7("border-color",m.stroke)("background-color",m.fill+"40")("width",m.radius*m.zoom+"px")("height",m.radius*m.zoom+"px"),f.R7$(),f.Y8G("ngIf",m.message&&m.show_message)}}let h=(()=>{class y{get last_seen_at(){return(0,t.m)(1e3*this.last_seen)+" ago"}constructor(m,E){this._details=m,this._el=E,this.zoom=1,this.radius=this._details.radius||10,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#e53935",this.last_seen=this._details.last_seen||0,this._details.zoom$?.subscribe(u=>Math.max(.5,this.zoom=u||1))}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}ngAfterViewInit(){this.updateRadius()}updateRadius(){const m=this._el.nativeElement.getBoundingClientRect();if(!m.width)return setTimeout(()=>this.updateRadius(),300);this.radius=Math.max(64,(this._details.radius||10)*(m.width||10))}static#e=this.\u0275fac=function(E){return new(E||y)(f.rXU(n.N),f.rXU(f.aKT))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["","map-radius",""]],attrs:b,decls:1,vars:1,consts:[[3,"resize",4,"ngIf"],[3,"resize"],["radius","",1,"center","border-4","rounded-full","border-dashed"],["message","","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64",3,"top",4,"ngIf"],["message","",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow","absolute","top-0","whitespace-no-wrap","flex","flex-col","w-64"],["class","text-xs",4,"ngIf"],[1,"text-xs"]],template:function(E,u){1&E&&f.DNE(0,S,3,9,"ng-container",0),2&E&&f.Y8G("ngIf",u.show&&u.radius)},dependencies:[v.bT],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:100%}[message][_ngcontent-%COMP%]{transform:translate(-50%,-120%);animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translate(-50%,-220%)}to{opacity:1;transform:translate(-50%,-120%)}}"]})}return y})()},9489:(At,ue,a)=>{"use strict";a.d(ue,{F:()=>V});var t=a(467),n=a(3953),f=a(2333),v=a(6511),b=a(5157),C=a(9928),g=a(5006),S=a(4918),h=a(177),y=a(9183),O=a(4616);const m=["outlet"],E=["feature"];function u(K,X){1&K&&n.nrm(0,"mat-spinner",7),2&K&&n.Y8G("diameter",48)}function M(K,X){if(1&K&&(n.qex(0),n.DNE(1,u,1,1,"mat-spinner",6),n.bVm()),2&K){const Q=n.XpG();n.R7$(),n.Y8G("ngIf",!Q.viewer||Q.loading)}}function x(K,X){1&K&&n.eu8(0)}function D(K,X){if(1&K&&(n.qex(0),n.DNE(1,x,1,0,"ng-container",14),n.bVm()),2&K){const Q=n.XpG(2),de=Q.$implicit,se=Q.index,ce=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",de.content)("ngComponentOutletInjector",ce.injectors[se])}}function A(K,X){if(1&K&&(n.qex(0),n.nrm(1,"div",15),n.nI1(2,"sanitize"),n.bVm()),2&K){const Q=n.XpG(2).$implicit;n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,Q.content),n.npT)}}function L(K,X){1&K&&n.eu8(0)}function l(K,X){if(1&K&&(n.qex(0),n.DNE(1,L,1,0,"ng-container",16),n.bVm()),2&K){const Q=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngTemplateOutlet",Q.content)("ngTemplateOutletContext",Q.data)}}function $(K,X){if(1&K&&(n.j41(0,"div")(1,"div",11,2),n.DNE(3,D,2,2,"ng-container",12)(4,A,3,3,"ng-container",12)(5,l,2,2,"ng-container",13),n.k0s()()),2&K){const Q=n.XpG().$implicit,de=n.XpG(2);n.R7$(),n.Y8G("ngSwitch",de.type(Q.content)),n.BMQ("no-scale",Q.no_scale)("el-id",Q.location)("track-id",Q.track_id)("view-id",de.viewer),n.R7$(2),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}function R(K,X){if(1&K&&(n.qex(0),n.DNE(1,$,6,7,"div",10),n.bVm()),2&K){const Q=X.$implicit;n.R7$(),n.Y8G("ngIf",Q)}}function F(K,X){if(1&K&&(n.j41(0,"div",8),n.DNE(1,R,2,1,"ng-container",9),n.k0s()),2&K){const Q=n.XpG();n.R7$(),n.Y8G("ngForOf",Q.features)("ngForTrackBy",Q.trackByFn)}}function P(K,X){1&K&&(n.j41(0,"div",17)(1,"div",18),n.EFF(2,"No map"),n.k0s()())}let V=(()=>{class K extends f.Tv{onResize(){this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay()}type(Q){return"string"==typeof Q?"html":Q instanceof n.C4Q?"template":"component"}constructor(Q){super(),this._injector=Q,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.zoomChange=new n.bkB,this.centerChange=new n.bkB,this.mapInfo=new n.bkB,this.injectors=[],this.feature_list=[],this._on_changes=new C.t(null),this._extra_data={ratio$:this._on_changes.pipe((0,g.T)(de=>de.ratio)),svg_ratio$:this._on_changes.pipe((0,g.T)(de=>de.svg_ratio)),zoom$:this._on_changes.pipe((0,g.T)(de=>de.zoom)),position:this._on_changes.pipe((0,g.T)(de=>de.center))}}ngOnInit(){(0,v.Of)()}ngOnDestroy(){this.viewer&&(0,v.b2)(this.viewer)}ngOnChanges(Q){Q.src&&this.src&&this.createView().catch(de=>console.warn(de)),Q.features&&this.updateInjectors(),this.viewer&&(Q.focus&&this.focus?this.focusOn(this.focus):(Q.zoom&&Q.zoom.previousValue!=Q.zoom.currentValue||Q.center&&!function k(K,X){return K.x===X.x&&K.y===X.y}(Q.center.previousValue,Q.center.currentValue))&&this.updateDisplay(),(Q.styles||Q.features||Q.labels||Q.actions)&&this.timeout("update_view",()=>this.updateView())),Q.reset&&Q.reset.currentValue!==Q.reset.previousValue&&(this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay())}ngAfterViewInit(){this.createView().catch(Q=>console.warn(Q))}updateView(){try{if(!(0,v.tk)(this.viewer)||this.loading)return this.timeout("update_view",()=>this.updateView());this.updateFeatureList(),(0,v.Ay)(this.viewer,{styles:this.styles,features:this.feature_list,labels:this.labels,actions:this.actions,options:this.options})}catch{}}updateDisplay(){try{(0,v.Ay)(this.viewer,{zoom:this.zoom,desired_zoom:this.zoom,center:this.center,desired_center:this.center,options:this.options})}catch{}}createView(){var Q=this;return(0,t.A)(function*(){if(!(0,b.kup)())return Q.timeout("create_view",()=>Q.createView().catch(se=>console.warn(se)),300);const de=Q.src?.toLowerCase()||"";if(de.includes("svg")||de.includes("upload"))if(Q.src&&Q._outlet_el?.nativeElement&&!Q.loading){Q.loading=!0,Q.viewer&&((0,v.Ay)(Q.viewer,{styles:Q.styles,features:[],labels:Q.labels,actions:Q.actions,options:Q.options}),(0,v.b2)(Q.viewer)),Q.updateFeatureList();const se=(0,b.ShT)();document.cookie=`${"x-api-key"===se?"api-key="+encodeURIComponent((0,b.Kz4)()):"bearer_token="+encodeURIComponent(se)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`,Q.viewer=yield(0,v.Rx)({element:Q._outlet_el?.nativeElement,url:Q.src,styles:Q.styles,zoom:Q.zoom,desired_zoom:Q.zoom,center:Q.center,features:Q.feature_list,labels:Q.labels,actions:Q.actions,options:Q.options}),Q.loading=!1,Q.subscription("view_changes",(0,v.mn)(Q.viewer)?.subscribe(z=>{Q._outlet_el.nativeElement.getBoundingClientRect(),Q._on_changes.next({...z}),Q.zoomChange.emit(z.zoom),Q.centerChange.emit(z.center)}));const ce=(0,v.tk)(Q.viewer);Q.mapInfo.emit(ce.mappings),Q.focus&&Q.focusOn(Q.focus)}else(Q.src&&!Q._outlet_el?.nativeElement||Q.loading)&&Q.timeout("create_view",()=>Q.createView().catch(se=>console.warn(se)))})()}focusOn(Q){if(!Q||!this.viewer)return;const de=(0,v.tk)(this.viewer);if(!de)return;const se=de.mappings[Q];se&&(this.center={x:1-(se.x+se.w/2),y:1-(se.y+se.h/4)},this.updateDisplay())}trackByFn(Q,de){return de?.track_id}updateFeatureList(){this.feature_list=(this.features||[]).map((Q,de)=>({...Q,content:this._feature_list.toArray()[de]?.nativeElement})).filter(Q=>Q.content)}updateInjectors(){const Q=this.injectors||[];this.injectors=(this.features||[]).map(de=>Q.find(se=>se.get(S.N)?.track_id&&se.get(S.N)?.track_id===de.track_id)||n.zZn.create({providers:[{provide:S.N,useValue:{track_id:de.track_id,...de.data,...this._extra_data}}],parent:this._injector}))}static#e=this.\u0275fac=function(de){return new(de||K)(n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:K,selectors:[["map-renderer"]],viewQuery:function(de,se){if(1&de&&(n.GBs(m,5),n.GBs(E,5)),2&de){let ce;n.mGM(ce=n.lsd())&&(se._outlet_el=ce.first),n.mGM(ce=n.lsd())&&(se._feature_list=ce)}},hostBindings:function(de,se){1&de&&n.bIt("resize",function(){return se.onResize()},!1,n.tSv)},inputs:{src:"src",styles:"styles",zoom:"zoom",center:"center",features:"features",labels:"labels",actions:"actions",reset:"reset",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[n.Vt3,n.OA$],decls:6,vars:5,consts:[["outlet",""],["empty_state",""],["feature",""],["tabindex","0","role","map",1,"absolute","inset-0"],[4,"ngIf","ngIfElse"],["hidden","",4,"ngIf"],["class","absolute",3,"diameter",4,"ngIf"],[1,"absolute",3,"diameter"],["hidden",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"pointer-events-none",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"opacity-30"]],template:function(de,se){if(1&de&&(n.nrm(0,"div",3,0),n.DNE(2,M,2,1,"ng-container",4)(3,F,2,2,"div",5)(4,P,3,0,"ng-template",null,1,n.C5r)),2&de){const ce=n.sdS(5);n.AVh("hidden",!se.src),n.R7$(2),n.Y8G("ngIf",se.src)("ngIfElse",ce),n.R7$(),n.Y8G("ngIf",null==se.injectors?null:se.injectors.length)}},dependencies:[h.OI,h.Sq,h.bT,h.T3,h.ux,h.e1,h.fG,y.LG,O.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return K})()},877:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>x});var t=a(467),n=a(3953),f=a(2185),v=a(2333),b=a(9420),C=a(9493),g=a(177),S=a(6600),h=a(9183),y=a(9434);const O=["map_container"];function m(D,A){1&D&&n.nrm(0,"mat-spinner",6)}function E(D,A){if(1&D){const L=n.RV6();n.j41(0,"button",3),n.bIt("click",function(){n.eBV(L);const $=n.XpG();return n.Njj($.toggleDirections())}),n.j41(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div",4),n.EFF(4),n.k0s(),n.DNE(5,m,1,0,"mat-spinner",5),n.k0s()}if(2&D){const L=n.XpG();n.R7$(4),n.SpI(" ",L.viewing_directions?"Hide":"Show"," Directions "),n.R7$(),n.Y8G("ngIf",L.loading_directions)}}const u=18.5,M={};let x=(()=>{class D extends v.Tv{constructor(L,l){super(),this._maps_people=L,this._org=l,this.zoom=u,this.zoomChange=new n.bkB,this.zoneChange=new n.bkB,this.show_directions=!1,this.viewing_directions=!1,this.loading_directions=!1,this.ignore_zoom=!1,this._floor_list=[],this._added_floor_selector=!1;const $=sessionStorage.getItem("PLACEOS.mapsindoors.resources")||"{}",R=JSON.parse($);for(const F in R)R.hasOwnProperty(F)&&(M[F]=R[F])}ngOnInit(){this.id=(0,v.DU)(8),this._initialised.next(!1),this._initialiseServices()}ngOnChanges(L){if(!this.is_initialised)return this.timeout("on_changes",()=>this.ngOnChanges(L));L.zone&&this.zone&&this._centerOnZone(),L.focus&&this.focus&&this._focusOnLocation(),L.metadata&&this._updateMapStyling(),L.zoom&&this.zoom&&!this.ignore_zoom&&this._services?.map?.setZoom(this.zoom),L.reset&&(this._services?.map?.setZoom(u),this._centerOnZone()),L.options&&this._addFloorSelector()}_setResource(L,l){M[L]=l,this.timeout("set_resource",()=>{sessionStorage.setItem("PLACEOS.mapsindoors.resources",JSON.stringify(M))})}_initialiseServices(){if(!this._maps_people.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initialiseServices(),1e3);const[L,l]=(this._org.building?.location||"-33.8567844,151.2152967").split(","),$={element:this._container.nativeElement,center:{lat:parseFloat(L),lng:parseFloat(l)},zoom:u,maxZoom:24};let R=null;switch(this._maps_people.map_service){case b.u.GoogleMaps:(0,v.Rm)("MapsIndoors","Using Google Maps API"),R=new mapsindoors.mapView.GoogleMapsView($);break;case b.u.Mapbox:$.accessToken=this._maps_people.map_token,(0,v.Rm)("MapsIndoors","Using Mapbox API"),R=new mapsindoors.mapView.MapboxView($)}if(!R)return void(0,v.WS)("Failed to initialise map view.");const F=this._maps_people.map_service===b.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._maps_people.map_token),P=new mapsindoors.MapsIndoors({mapView:R});this._services={mapsindoors:P,view:R,map:R.getMap(),directions:new mapsindoors.services.DirectionsService(F),directions_renderer:new mapsindoors.directions.DirectionsRenderer({mapsIndoors:P})},console.log("Resource:",this._services.mapsindoors),this._initialised.next(!0),this.zone&&(this._services.map.setZoom(u),this._centerOnZone()),this._addFloorSelector(),this._services.mapsindoors.addListener("building_changed",k=>this._handleBuildingChange(k)),this._services.mapsindoors.addListener("floor_changed",k=>this._handleLevelChange(k)),this._services.mapsindoors.addListener("zoom_changed",k=>this._handleZoomChange(k)),this._services.mapsindoors.addListener("click",k=>this._handleUserClick(k)),this.timeout("resize",()=>window.dispatchEvent(new Event("resize")),100),window.maps_indoors=this._services,this.timeout("focus",()=>this._focusOnLocation()),this.timeout("init_zoom",()=>this._handleZoomChange(u))}toggleDirections(){var L=this;return(0,t.A)(function*(){if(L.viewing_directions)return L._services.directions_renderer.setRoute(null),L._focusOnLocation(),void(L.viewing_directions=!1);if(!L.focus)return;const l=yield L._search(L.focus);if(!l?.length)return void(0,v.UG)("Failed to find location.");L.loading_directions=!0;const $=l[0],[R,F]=$.properties?.anchor?.coordinates||[0,0];navigator.geolocation.getCurrentPosition(function(){var k=(0,t.A)(function*(V){const K=(0,v.gd)(F,R,V.coords.latitude,V.coords.longitude),X={origin:{lat:V.coords.latitude,lng:V.coords.longitude},destination:{lat:F,lng:R},travelMode:K<2?"WALKING":"DRIVING"};console.log("Route Parameters:",X,K);const Q=yield L._services.directions.getRoute(X).catch(de=>{(0,v.Rm)("MapsIndoors","Error fetching route: ",de.message||de,"warn");const se=de instanceof TypeError&&de.message?.includes("origin");L.loading_directions=!1,se&&(0,v.UG)("Error: Origin location is outside of map area.")});Q&&(console.log("Route:",Q),L._services.directions_renderer.setRoute(Q),L.viewing_directions=!0,L.loading_directions=!1)});return function(V){return k.apply(this,arguments)}}(),()=>(0,v.UG)("Failed to get your current location."),{timeout:1e4,enableHighAccuracy:!0})})()}_handleZoomChange(L){this.timeout("zoom_change",()=>{this.ignore_zoom=!0,this.zoom=L,this.zoomChange.emit(L),this.timeout("reset_ignore_zoom",()=>this.ignore_zoom=!1,50)},100)}_handleBuildingChange(L){const l=L.externalId||L.id;(0,v.Rm)("MapsIndoors",`Building switched to "${l}"`);const $=L.floors||{};if(this._floor_list=Object.keys($).map(F=>({index:F,...$[F]})),(0,v.Rm)("MapsIndoors","Floor List:",this._floor_list),!this._services)return;const R=this._org.buildings.find(F=>F.id===l||F.map_id===l);this.timeout("set_floor",()=>{!this._setFloorFromZone()&&L.defaultFloor&&this._handleLevelChange(L.defaultFloor)}),R&&(this._org.building=R)}_handleLevelChange(L){var l=this;return(0,t.A)(function*(){(0,v.Rm)("MapsIndoors",`Level switched to "${L}"`);const $=l._floor_list.find(k=>k.index===L),R=$?.externalId||$?.id;if(!l._services)return;const F=yield l._org.active_levels.pipe((0,C.s)(1)).toPromise();if(!F)return;const P=F.find(k=>k.map_id===R||k.id===R);P&&(l.zone=P,l.zoneChange.emit(P))})()}_handleUserClick(L){(0,v.Rm)("MapsIndoors","Click occurred",L);const l=L.properties?.externalId||L.properties?.roomId||L.id,$=this.metadata?.actions||[];(0,v.Rm)("MapsIndoors","Registered Actions",$);const R=["mousedown","touchstart","enter","leave"];for(const F of $)if((F.id===l||"*"===F.id)&&!R.includes(F.action)){F.callback(L);break}}_search(L){var l=this;return(0,t.A)(function*(){if(l._services)return mapsindoors?.services.LocationsService.getLocations({q:L})})()}_updateMapStyling(){var L=this;return(0,t.A)(function*(){if(!L._services)return;const l=L.metadata?.styles||{};for(const $ in l){if(!l[$].fill)continue;let R=M[$];if(!R){const P=$.replace(/#/,""),k=yield L._search(P);if(!k.length)continue;R=k.find(V=>V.properties?.externalId===P||V.properties?.roomId===P||V.id===P),R&&L._setResource($,R)}R&&L._services.mapsindoors.setDisplayRule(R.id,{extrusionHeight:0,extrusionVisible:!1,polygonVisible:!0,polygonFillColor:l[$].fill})}})()}_focusOnLocation(){var L=this;return(0,t.A)(function*(){if(!L.focus)return;const l=yield L._search(L.focus);if(!l?.length)return void(0,v.UG)("Failed to find location.");const $=l.find(P=>P.properties?.externalId===L.focus)||l[0],[R,F]=$.properties?.anchor?.coordinates||[0,0];L._services.map.setZoom(u),L._services.map.setCenter({lat:F,lng:R}),L._services.mapsindoors.setFloor($.properties?.floor),L._services.mapsindoors.highlight([$.id])})()}_centerOnZone(){!this._services||!this.zone||this.timeout("set_center",()=>{const L=this._org.buildings.find(R=>R.id===this.zone.parent_id);if(!L)return;const[l,$]=L?.location.split(",");this._services.map.setCenter({lat:parseFloat(l),lng:parseFloat($)}),this._setFloorFromZone()})}_setFloorFromZone(){if(!this.zone.map_id||!this._services)return!1;const L=this.zone.map_id,l=this._floor_list.find($=>$.index===L||$.externalId===L||$.id===L);return!!l&&(this._services.mapsindoors.setFloor(l.index),!0)}_addFloorSelector(){if(!this.options?.controls||this._added_floor_selector)return;const L=document.createElement("div");new mapsindoors.FloorSelector(L,this._services.mapsindoors),this._maps_people.map_service===b.u.GoogleMaps?this._services.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(L):this._services.map.addControl({onAdd:()=>L,onRemove:()=>{}}),this._added_floor_selector=!0}static#e=this.\u0275fac=function(l){return new(l||D)(n.rXU(v._e),n.rXU(f.yb))};static#t=this.\u0275cmp=n.VBU({type:D,selectors:[["maps-indoors"]],viewQuery:function(l,$){if(1&l&&n.GBs(O,7),2&l){let R;n.mGM(R=n.lsd())&&($._container=R.first)}},inputs:{zone:"zone",metadata:"metadata",options:"options",focus:"focus",zoom:"zoom",reset:"reset"},outputs:{zoomChange:"zoomChange",zoneChange:"zoneChange"},features:[n.Vt3,n.OA$],decls:3,vars:1,consts:[["map_container",""],[1,"absolute","inset-0","z-0"],["btn","","matRipple","","class","absolute bottom-2 left-2 bg-base-100 text-base-content shadow z-10 border-base-200 space-x-2",3,"click",4,"ngIf"],["btn","","matRipple","",1,"absolute","bottom-2","left-2","bg-base-100","text-base-content","shadow","z-10","border-base-200","space-x-2",3,"click"],[1,"pr-2"],["diameter","24",4,"ngIf"],["diameter","24"]],template:function(l,$){1&l&&(n.nrm(0,"div",1,0),n.DNE(2,E,6,2,"button",2)),2&l&&(n.R7$(2),n.Y8G("ngIf",$.focus&&!$.show_directions&&(null==$.options?null:$.options.controls)))},dependencies:[g.bT,S.r6,h.LG,y.R]})}return D})()},4418:(At,ue,a)=>{"use strict";a.d(ue,{S:()=>g});var t=a(3953),n=a(2333),f=a(177),v=a(6600),b=a(9434);function C(S,h){if(1&S){const y=t.RV6();t.j41(0,"button",2),t.bIt("click",function(){const m=t.eBV(y).$implicit,E=t.XpG();return E.action.emit(m.id),t.Njj(E.show=!1)}),t.nrm(1,"app-icon",3),t.k0s()}if(2&S){const y=h.$implicit,O=h.index,m=t.XpG();t.xc7("top",m.show?-110*O-60+"%":""),t.R7$(),t.Y8G("icon",y)}}let g=(()=>{class S extends n.Tv{constructor(){super(...arguments),this.actions=[],this.action=new t.bkB}close(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=(()=>{let y;return function(m){return(y||(y=t.xGo(S)))(m||S)}})();static#t=this.\u0275cmp=t.VBU({type:S,selectors:[["a-popout-menu"]],inputs:{actions:"actions"},outputs:{action:"action"},features:[t.Vt3],decls:4,vars:4,consts:[["icon","","matRipple","","class","small absolute text-base center shadow",3,"top","click",4,"ngFor","ngForOf"],["name","root","icon","","matRipple","",3,"click"],["icon","","matRipple","",1,"small","absolute","text-base","center","shadow",3,"click"],[3,"icon"]],template:function(O,m){1&O&&(t.DNE(0,C,2,3,"button",0),t.j41(1,"button",1),t.bIt("click",function(){return m.show=!m.show})("click",function(){return m.show?m.close():""},!1,t.tSv),t.j41(2,"app-icon"),t.EFF(3),t.k0s()()),2&O&&(t.Y8G("ngForOf",m.actions),t.R7$(),t.AVh("show",m.show),t.R7$(2),t.JRh(m.show?"add":"more_vert"))},dependencies:[f.Sq,v.r6,b.R],styles:["[_nghost-%COMP%]{position:relative}app-icon[_ngcontent-%COMP%]{transition:transform .2s}button[_ngcontent-%COMP%]{background-color:#fff;color:rgba(#000,.85);font-size:1.25rem;height:2.5em;width:2.5em}button.show[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}button.small[_ngcontent-%COMP%]{transition:top .2s,left .2s}"]})}return S})()},4846:(At,ue,a)=>{"use strict";a.d(ue,{L:()=>h});var t=a(6939),n=a(5354),f=a(3953),v=a(7987),b=a(4616);const C=["printable",""],g=["*"];function S(y,O){if(1&y&&(f.nrm(0,"div",1),f.nI1(1,"sanitize")),2&y){const m=f.XpG();f.Y8G("innerHTML",f.bMT(1,1,m.content),f.npT)}}let h=(()=>{class y extends n.T{constructor(m,E){super(),this._overlay=m,this._elem=E,this.content="",this._overlay_ref=null}ngOnInit(){this.open()}ngAfterViewInit(){this.content=this._elem.nativeElement.outerHTML}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.timeout("open",()=>{this._overlay_ref&&this.close(),this._portal&&(this._overlay_ref=this._overlay.create({hasBackdrop:!1,positionStrategy:this._overlay.position().flexibleConnectedTo(document.body).withPositions([{originX:"end",originY:"top",overlayX:"end",overlayY:"top"}])}),this._overlay_ref.attach(this._portal))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}static#e=this.\u0275fac=function(E){return new(E||y)(f.rXU(v.hJ),f.rXU(f.aKT))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["","printable",""]],viewQuery:function(E,u){if(1&E&&f.GBs(t.bV,5),2&E){let M;f.mGM(M=f.lsd())&&(u._portal=M.first)}},features:[f.Vt3],attrs:C,ngContentSelectors:g,decls:2,vars:0,consts:[["cdk-portal",""],["printable-view","",1,"fixed","top-0","left-0","flex-col","items-end","hidden","print:flex","pointer-events-none",3,"innerHTML"]],template:function(E,u){1&E&&(f.NAR(),f.SdG(0),f.DNE(1,S,2,3,"ng-template",0))},dependencies:[t.Qq,b.a],encapsulation:2})}return y})()},8283:(At,ue,a)=>{"use strict";a.d(ue,{K:()=>g});var t=a(467),n=a(4046),f=a(2333),v=a(8026),b=a(3953),C=a(2091);let g=(()=>{class S{constructor(y,O,m){this._settings=y,this._org=O,this._router=m}ngOnInit(){var y=this;return(0,t.A)(function*(){yield y._settings.initialised.pipe((0,n.$)(O=>O)).toPromise(),yield y._org.initialised.pipe((0,n.$)(O=>O)).toPromise(),y._settings.get("app.default_route")&&y._router.navigate(y._settings.get("app.default_route").split("/"))})()}static#e=this.\u0275fac=function(O){return new(O||S)(b.rXU(f.h$),b.rXU(v.y),b.rXU(C.Ix))};static#t=this.\u0275cmp=b.VBU({type:S,selectors:[["page-redirect"]],decls:0,vars:0,template:function(O,m){}})}return S})()},6962:(At,ue,a)=>{"use strict";a.d(ue,{q:()=>y});var t=a(467),n=a(8030),f=a(2185),v=a(3953),b=a(177),C=a(9417),g=a(5951),S=a(9434);function h(O,m){if(1&O){const E=v.RV6();v.j41(0,"mat-radio-button",8),v.bIt("click",function(){const M=v.eBV(E).$implicit,x=v.XpG();return v.Njj(x.setRegion(M))}),v.EFF(1),v.k0s()}if(2&O){const E=m.$implicit;v.Y8G("value",E.id),v.R7$(),v.SpI(" ",E.display_name||E.name," ")}}let y=(()=>{class O{constructor(E,u){var M=this;this._data=E,this._org=u,this.regions=this._org.region_list,this.region=this._org.active_region,this.setRegion=function(){var x=(0,t.A)(function*(D){yield M._org.setRegion(D),M._org.saveBuilding(M._org.building.id),M._data?.close()});return function(D){return x.apply(this,arguments)}}(),this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(u){return new(u||O)(v.rXU(n.Dd),v.rXU(f.yb))};static#t=this.\u0275cmp=v.VBU({type:O,selectors:[["region-select"]],decls:14,vars:11,consts:()=>{let E;return E=$localize`:234e996785a944c8e8c7df16179eaa04405b34465361505502593902636:Select a region`,[E,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(u,M){if(1&u&&(v.j41(0,"div",1),v.bIt("click",function(){return M.close()}),v.j41(1,"div",2)(2,"app-icon",3),v.EFF(3,"arrow_back"),v.k0s(),v.j41(4,"div",4),v.EFF(5),v.nI1(6,"async"),v.nI1(7,"async"),v.k0s()(),v.j41(8,"div",5),v.pXf(9,0),v.k0s(),v.j41(10,"mat-radio-group",6),v.nI1(11,"async"),v.DNE(12,h,2,2,"mat-radio-button",7),v.nI1(13,"async"),v.k0s()()),2&u){let x,D;v.R7$(5),v.SpI(" ",(null==(x=v.bMT(6,3,M.region))?null:x.display_name)||(null==(x=v.bMT(7,5,M.region))?null:x.name)," "),v.R7$(5),v.Y8G("ngModel",null==(D=v.bMT(11,7,M.region))?null:D.id),v.R7$(2),v.Y8G("ngForOf",v.bMT(13,9,M.regions))}},dependencies:[b.Sq,C.BC,C.vS,g.VT,g._g,S.R,b.Jj]})}return O})()},6781:(At,ue,a)=>{"use strict";a.d(ue,{m:()=>f});var t=a(3953),n=a(345);let f=(()=>{class v{constructor(C){this.sanitizer=C}transform(C,g="html"){switch(g){case"resource":return this.sanitizer.bypassSecurityTrustResourceUrl(C);case"url":return this.sanitizer.bypassSecurityTrustUrl(C);case"script":return this.sanitizer.bypassSecurityTrustScript(C);case"style":return this.sanitizer.bypassSecurityTrustStyle(C);default:return this.sanitizer.bypassSecurityTrustHtml(C)}}static#e=this.\u0275fac=function(g){return new(g||v)(t.rXU(n.up,16))};static#t=this.\u0275pipe=t.EJ8({name:"safe",type:v,pure:!0})}return v})()},4616:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>v});var t=a(3953),n=a(345),f=function(b){return b[b.NONE=0]="NONE",b[b.HTML=1]="HTML",b[b.STYLE=2]="STYLE",b[b.SCRIPT=3]="SCRIPT",b[b.URL=4]="URL",b[b.RESOURCE_URL=5]="RESOURCE_URL",b}(f||{});let v=(()=>{class b{constructor(g){this.sanitizer=g}transform(g,S="html"){switch(S){case"resource":return this.sanitizer.sanitize(f.RESOURCE_URL,g);case"url":return this.sanitizer.sanitize(f.URL,g);case"script":return this.sanitizer.sanitize(f.SCRIPT,g);case"style":return this.sanitizer.sanitize(f.STYLE,g);default:return this.sanitizer.sanitize(f.HTML,g)}}static#e=this.\u0275fac=function(S){return new(S||b)(t.rXU(n.up,16))};static#t=this.\u0275pipe=t.EJ8({name:"sanitize",type:b,pure:!0})}return b})()},8328:(At,ue,a)=>{"use strict";a.d(ue,{O:()=>de});var t=a(467),n=a(3953),f=a(2333),v=a(9928),b=a(9714),C=a(3020),g=a(5006),S=a(8712),h=a(9493),y=a(177),O=a(6600),m=a(2765),E=a(9434);const u=(se,ce,z,w,j,W,ne)=>({first:se,last:ce,index:z,data:w,row:j,key:W,name:ne}),M=(se,ce,z,w)=>({first:se,last:ce,index:z,row:w});function x(se,ce){if(1&se){const z=n.RV6();n.j41(0,"div",6)(1,"mat-checkbox",7),n.nI1(2,"async"),n.nI1(3,"async"),n.bIt("change",function(j){n.eBV(z);const W=n.XpG();return n.Njj(W.selectAll(j.checked))}),n.k0s()()}if(2&se){let z,w;const j=n.XpG();n.xc7("grid-column","1 / 2"),n.R7$(),n.Y8G("checked",j.selected.length===(null==(z=n.bMT(2,4,j.data_view$))?null:z.length))("indeterminate",j.selected.length>0&&j.selected.length<(null==(w=n.bMT(3,6,j.data_view$))?null:w.length))}}function D(se,ce){if(1&se&&(n.j41(0,"app-icon",11),n.EFF(1),n.k0s()),2&se){const z=n.XpG().$implicit,w=n.XpG();n.R7$(),n.SpI(" ",(null==w.sort?null:w.sort.key)===z.key&&null!=w.sort&&w.sort.reverse?"arrow_upward":"arrow_downward"," ")}}function A(se,ce){if(1&se){const z=n.RV6();n.j41(0,"button",8),n.bIt("click",function(){const j=n.eBV(z).$implicit,W=n.XpG();return n.Njj(W.setSort(j.key))}),n.j41(1,"div",9),n.EFF(2),n.k0s(),n.DNE(3,D,2,1,"app-icon",10),n.k0s()}if(2&se){const z=ce.$implicit,w=ce.index,j=n.XpG();n.xc7("grid-column",1+w+(j.selectable?1:0)+" / "+(2+w+(j.selectable?1:0))),n.AVh("pointer-events-none",!j.sortable||!1===z.sortable)("active",(null==j.sort?null:j.sort.key)===z.key)("border-r",w!==j.active_columns.length-1)("width",z.size),n.Y8G("id","column-"+z.key),n.R7$(2),n.JRh(z.name||z.key),n.R7$(),n.Y8G("ngIf",j.sortable&&!1!==z.sortable)}}function L(se,ce){if(1&se){const z=n.RV6();n.j41(0,"div",15),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(z);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)})("touchstart",function(){n.eBV(z);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)}),n.j41(2,"mat-checkbox",16),n.bIt("change",function(j){n.eBV(z);const W=n.XpG().index,ne=n.XpG();return n.Njj(ne.select(W,j.checked))}),n.k0s()()}if(2&se){let z;const w=n.XpG().index,j=n.XpG();n.xc7("grid-column","1 / 2"),n.AVh("border-b",w!==(null==(z=n.bMT(1,5,j.data_view$))?null:z.length)-1),n.R7$(2),n.Y8G("checked",j.selected.includes(w))}}function l(se,ce){if(1&se&&(n.j41(0,"span",23),n.EFF(1),n.k0s()),2&se){const z=n.XpG(2).$implicit;n.R7$(),n.SpI(" ",z.empty||"N/A"," ")}}function $(se,ce){if(1&se&&(n.j41(0,"div",21),n.EFF(1),n.DNE(2,l,2,1,"span",22),n.k0s()),2&se){const z=n.XpG().$implicit,w=n.XpG().$implicit;n.R7$(),n.SpI(" ",w[z.key]," "),n.R7$(),n.Y8G("ngIf",null==w[z.key]||""===w[z.key])}}function R(se,ce){1&se&&n.eu8(0)}function F(se,ce){if(1&se&&(n.qex(0),n.DNE(1,R,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.bVm()),2&se){let z;const w=n.XpG().$implicit,j=n.XpG(),W=j.$implicit,ne=j.index,fe=n.XpG();n.R7$(),n.Y8G("ngTemplateOutlet",w.content)("ngTemplateOutletContext",n.sGs(6,u,0===ne,ne===(null==(z=n.bMT(2,2,fe.data_view$))?null:z.length)-1||ne===(null==(z=n.bMT(3,4,fe.data_view$))?null:z.length)-1,ne,W[w.key],W,w.key,w.name||w.key))}}function P(se,ce){if(1&se){const z=n.RV6();n.j41(0,"div",17),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(z);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)})("touchstart",function(){n.eBV(z);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)}),n.qex(2,18),n.DNE(3,$,3,2,"div",19)(4,F,4,14,"ng-container",20),n.bVm(),n.k0s()}if(2&se){let z;const w=ce.$implicit,j=ce.index,W=n.XpG().index,ne=n.XpG();n.xc7("grid-column",1+j+(ne.selectable?1:0)+" / "+(2+j+(ne.selectable?1:0))),n.AVh("border-b",W!==(null==(z=n.bMT(1,10,ne.data_view$))?null:z.length)-1)("border-r",j!==ne.active_columns.length-1)("width",w.size),n.R7$(2),n.Y8G("ngSwitch",ne.columnType(w)),n.R7$(2),n.Y8G("ngSwitchCase","template")}}function k(se,ce){1&se&&n.eu8(0)}function V(se,ce){if(1&se&&(n.j41(0,"div",25),n.DNE(1,k,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()),2&se){let z;const w=n.XpG(),j=w.$implicit,W=w.index,ne=n.XpG();n.xc7("grid-column","span "+ne.active_columns.length),n.R7$(),n.Y8G("ngTemplateOutlet",ne.child_template)("ngTemplateOutletContext",n.ziG(8,M,0===W,W===(null==(z=n.bMT(2,4,ne.data_view$))?null:z.length)-1||W===(null==(z=n.bMT(3,6,ne.data_view$))?null:z.length)-1,W,j))}}function K(se,ce){if(1&se&&(n.qex(0),n.DNE(1,L,3,7,"div",12)(2,P,5,12,"div",13)(3,V,4,13,"div",14),n.bVm()),2&se){const z=ce.$implicit,w=n.XpG();n.R7$(),n.Y8G("ngIf",w.selectable),n.R7$(),n.Y8G("ngForOf",w.active_columns),n.R7$(),n.Y8G("ngIf",w.show_children[z.id]&&w.child_template)}}function X(se,ce){if(1&se&&(n.j41(0,"div",26),n.EFF(1),n.k0s()),2&se){const z=n.XpG();n.xc7("grid-column-start","span "+z.active_columns.length),n.R7$(),n.SpI(" ",z.empty_message," ")}}function Q(se,ce){if(1&se){const z=n.RV6();n.j41(0,"div",27)(1,"div",28),n.EFF(2),n.k0s(),n.j41(3,"button",29),n.bIt("click",function(){n.eBV(z);const j=n.XpG();return n.Njj(j.setPage(j.page-1))}),n.j41(4,"app-icon"),n.EFF(5,"chevron_left"),n.k0s()(),n.j41(6,"button",29),n.bIt("click",function(){n.eBV(z);const j=n.XpG();return n.Njj(j.setPage(j.page+1))}),n.j41(7,"app-icon"),n.EFF(8,"chevron_right"),n.k0s()(),n.j41(9,"button",29),n.bIt("click",function(){n.eBV(z);const j=n.XpG();return n.Njj(j.setPage(0))}),n.j41(10,"app-icon"),n.EFF(11,"first_page"),n.k0s()(),n.j41(12,"button",29),n.bIt("click",function(){n.eBV(z);const j=n.XpG();return n.Njj(j.setPage(j.total_pages-1))}),n.j41(13,"app-icon"),n.EFF(14,"last_page"),n.k0s()()()}if(2&se){const z=n.XpG();n.R7$(2),n.E5c(" ",z.page*(z.page_size||9999)+1," \u2013 ",(z.page+1)*(z.page_size||9999)>z.total_count?z.total_count:(z.page+1)*(z.page_size||9999)," of ",z.total_count," "),n.R7$(),n.Y8G("disabled",0===z.page),n.R7$(3),n.Y8G("disabled",z.page===z.total_pages-1),n.R7$(3),n.Y8G("disabled",0===z.page),n.R7$(3),n.Y8G("disabled",z.page===z.total_pages-1)}}let de=(()=>{class se extends f.Tv{constructor(){super(...arguments),this.columns=[],this.selectable=!1,this.filter="",this.sortable=!1,this.selected=[],this.page_size=0,this.empty_message="No data to list",this.child_template=null,this.show_children={},this.selectedChange=new n.bkB,this.rowClicked=new n.bkB,this.page=0,this.total_count=0,this.total_pages=0,this.active_row=-1,this.active_columns=[],this._data$=new v.t([]),this._filter$=new v.t(""),this._sort$=new v.t(null),this.data_view$=null}get sort(){return this._sort$.getValue()}get data$(){return this.data instanceof Array?this._data$:this.data}get column_count(){return this.active_columns.length+(this.selectable?1:0)}get column_template(){const z=this.active_columns.map(w=>w.size||"auto").join(" ");return this.selectable?`3.5rem ${z}`:z}ngOnChanges(z){z.filter&&this._filter$.next(this.filter),z.columns&&(this.active_columns=this.columns.filter(w=>!1!==w.show)),z.data&&(this.data_view$=(0,b.zV)([this.data$,this._filter$,this._sort$]).pipe((0,C.B)(300),(0,g.T)(([w,j,W])=>(w=[...w],j&&(w=w.filter(ne=>Object.values(ne).some(fe=>JSON.stringify(fe)?.toLowerCase().includes((j||"").toLowerCase())))),W&&w.length&&(w=w.sort("number"==typeof w[0][W.key]?(fe,ae)=>{const Ae=fe[W.key]-ae[W.key];return W.reverse?-Ae:Ae}:(fe,ae)=>{const Ae=JSON.stringify(fe[W.key]||""),Me=JSON.stringify(ae[W.key]||""),Ve=Ae.localeCompare(Me);return W.reverse?-Ve:Ve})),this.selected=[],this.page=0,this.page_size&&(this.total_count=w.length,this.total_pages=Math.ceil(this.total_count/this.page_size)),w)),(0,S.t)(1)))}columnType(z){return z.content instanceof n.C4Q?"template":"raw"}gridSquare(z,w){return`${z} / ${w} / ${z+1} / ${w+1}`}select(z,w){w?this.selected.push(z):this.selected=this.selected.filter(j=>j!==z)}selectAll(z){var w=this;return(0,t.A)(function*(){const j=yield w.data_view$.pipe((0,h.s)(1)).toPromise();w.selected=z?j.map((W,ne)=>ne):[]})()}setSort(z){const w=this._sort$.getValue();this._sort$.next(w&&w.key===z?w.reverse?null:{key:z,reverse:!0}:{key:z,reverse:!1})}setPage(z){this.timeout("set_page",()=>this.page=z,100)}static#e=this.\u0275fac=(()=>{let z;return function(j){return(z||(z=n.xGo(se)))(j||se)}})();static#t=this.\u0275cmp=n.VBU({type:se,selectors:[["simple-table"]],inputs:{data:"data",columns:"columns",selectable:"selectable",filter:"filter",sortable:"sortable",selected:"selected",page_size:"page_size",empty_message:"empty_message",child_template:"child_template",show_children:"show_children"},outputs:{selectedChange:"selectedChange",rowClicked:"rowClicked"},features:[n.Vt3,n.OA$],decls:9,vars:15,consts:[["role","table",1,"grid","border","border-base-300",3,"click","touchend","mouseleave"],["id","column-selector","class","sticky top-0 flex items-center justify-between px-2 border-r border-b border-base-200 bg-base-300 min-h-full z-20",3,"gridColumn",4,"ngIf"],["header","","matRipple","","class","sticky top-0 flex items-center justify-between p-4 border-b border-base-200 bg-base-300 min-h-full z-20",3,"id","gridColumn","pointer-events-none","active","border-r","width","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center p-8 opacity-30",3,"gridColumnStart",4,"ngIf"],["class","sticky bottom-0 w-full flex items-center justify-end space-x-2 p-2 bg-base-200",4,"ngIf"],["id","column-selector",1,"sticky","top-0","flex","items-center","justify-between","px-2","border-r","border-b","border-base-200","bg-base-300","min-h-full","z-20"],[3,"change","checked","indeterminate"],["header","","matRipple","",1,"sticky","top-0","flex","items-center","justify-between","p-4","border-b","border-base-200","bg-base-300","min-h-full","z-20",3,"click","id"],[1,"font-medium"],["class","text-[1.25em]",4,"ngIf"],[1,"text-[1.25em]"],["id","column-selector","class","flex items-center justify-between px-2 border-r border-base-200 min-h-full z-10",3,"gridColumn","border-b","mouseenter","touchstart",4,"ngIf"],["class","flex items-center justify-between border-base-200 min-h-full z-10",3,"gridColumn","border-b","border-r","width","mouseenter","touchstart",4,"ngFor","ngForOf"],["child-node","","class","border-b last:border-t last:border-b-0 border-base-200",3,"gridColumn",4,"ngIf"],["id","column-selector",1,"flex","items-center","justify-between","px-2","border-r","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"change","checked"],[1,"flex","items-center","justify-between","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"ngSwitch"],["class","p-4",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"p-4"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["child-node","",1,"border-b","last:border-t","last:border-b-0","border-base-200"],[1,"flex","items-center","justify-center","p-8","opacity-30"],[1,"sticky","bottom-0","w-full","flex","items-center","justify-end","space-x-2","p-2","bg-base-200"],[1,"px-4","py-2"],["icon","","matRipple","",3,"click","disabled"]],template:function(w,j){if(1&w&&(n.j41(0,"div",0),n.bIt("click",function(){return j.active_row>=0?j.rowClicked.emit(j.active_row):null})("touchend",function(){return j.active_row=-1})("mouseleave",function(){return j.active_row=-1}),n.DNE(1,x,4,8,"div",1)(2,A,4,13,"button",2)(3,K,4,3,"ng-container",3),n.nI1(4,"async"),n.nI1(5,"slice"),n.DNE(6,X,2,3,"div",4),n.nI1(7,"async"),n.k0s(),n.DNE(8,Q,15,7,"div",5)),2&w){let W;n.xc7("grid-template-columns",j.column_template),n.R7$(),n.Y8G("ngIf",j.selectable),n.R7$(),n.Y8G("ngForOf",j.active_columns),n.R7$(),n.Y8G("ngForOf",n.brH(5,9,n.bMT(4,7,j.data_view$),j.page*(j.page_size||9999),(j.page+1)*(j.page_size||9999))),n.R7$(3),n.Y8G("ngIf",!(null!=(W=n.bMT(7,13,j.data_view$))&&W.length)),n.R7$(2),n.Y8G("ngIf",j.page_size)}},dependencies:[y.Sq,y.bT,y.T3,y.ux,y.e1,y.fG,O.r6,m.So,E.R,y.Jj,y.P9],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > button[_ngcontent-%COMP%]{min-width:100%}[header][_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:0}[header][_ngcontent-%COMP%]:hover   app-icon[_ngcontent-%COMP%]{opacity:.3}[header][_ngcontent-%COMP%]:hover.pointer-events-none   app-icon[_ngcontent-%COMP%]{opacity:0}[header].active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:1}"]})}return se})()},907:(At,ue,a)=>{"use strict";a.d(ue,{F:()=>y});var t=a(3953),n=a(177),f=a(9434);const v=["*"];function b(O,m){1&O&&(t.qex(0),t.EFF(1," check_circle "),t.bVm())}function C(O,m){1&O&&(t.qex(0),t.EFF(1,"cancel"),t.bVm())}function g(O,m){1&O&&(t.qex(0),t.EFF(1,"block"),t.bVm())}function S(O,m){1&O&&(t.qex(0),t.EFF(1,"info"),t.bVm())}function h(O,m){1&O&&(t.qex(0),t.EFF(1,"warning"),t.bVm())}let y=(()=>{class O{static#e=this.\u0275fac=function(u){return new(u||O)};static#t=this.\u0275cmp=t.VBU({type:O,selectors:[["status-pill"]],inputs:{status:"status"},ngContentSelectors:v,decls:10,vars:31,consts:[[1,"flex","items-center","bg-opacity-30","rounded-2xl","px-2","py-1","text-base","space-x-2","font-medium","text-black"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"text-2xl",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(u,M){1&u&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"app-icon",2),t.DNE(3,b,2,0,"ng-container",3)(4,C,2,0,"ng-container",3)(5,g,2,0,"ng-container",3)(6,S,2,0,"ng-container",3)(7,h,2,0,"ng-container",4),t.k0s()(),t.j41(8,"div"),t.SdG(9),t.k0s()()),2&u&&(t.AVh("bg-success-light","success"===M.status)("bg-warning-light","warning"===M.status)("bg-error-light","error"===M.status)("bg-info-light","info"===M.status)("bg-base-200","neutral"===M.status),t.R7$(),t.AVh("text-success","success"===M.status)("text-warning","warning"===M.status)("text-error","error"===M.status)("text-info","info"===M.status)("text-base-content","neutral"===M.status)("opacity-40","neutral"===M.status),t.R7$(),t.Y8G("ngSwitch",M.status),t.R7$(),t.Y8G("ngSwitchCase","success"),t.R7$(),t.Y8G("ngSwitchCase","error"),t.R7$(),t.Y8G("ngSwitchCase","neutral"),t.R7$(),t.Y8G("ngSwitchCase","info"),t.R7$(2),t.AVh("opacity-40","neutral"===M.status)("text-base-content","neutral"===M.status))},dependencies:[n.ux,n.e1,n.fG,f.R]})}return O})()},6871:(At,ue,a)=>{"use strict";a.d(ue,{U:()=>E});var t=a(4006),n=a(3953),f=a(177),v=a(9417),b=a(6600),C=a(3719),g=a(2798),S=a(9631),h=a(2765),y=a(9434);const O=(u,M,x)=>({file:u,is_public:M,permissions:x});function m(u,M){if(1&u){const x=n.RV6();n.j41(0,"div",2)(1,"label"),n.EFF(2,"Permissions"),n.k0s(),n.j41(3,"mat-form-field",3)(4,"mat-select",6),n.mxI("ngModelChange",function(A){n.eBV(x);const L=n.XpG();return n.DH7(L.permissions,A)||(L.permissions=A),n.Njj(A)}),n.j41(5,"mat-option",11),n.EFF(6,"None"),n.k0s(),n.j41(7,"mat-option",12),n.EFF(8,"Support"),n.k0s(),n.j41(9,"mat-option",13),n.EFF(10,"Admin"),n.k0s()()()()}if(2&u){const x=n.XpG();n.R7$(4),n.R50("ngModel",x.permissions)}}let E=(()=>{class u{constructor(x,D){this._dialog_ref=x,this._data=D,this.file=this._data.file,this.is_public=!0,this.permissions="none",this.file=this._data.file}close(){this._dialog_ref.close()}static#e=this.\u0275fac=function(D){return new(D||u)(n.rXU(t.CP),n.rXU(t.Vh))};static#t=this.\u0275cmp=n.VBU({type:u,selectors:[["upload-permissions-modal"]],decls:21,vars:8,consts:[["btn","","icon","","mat-dialog-close",""],[1,"p-4","min-w-[20rem]"],[1,"flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","disabled","true","placeholder","File Name",3,"ngModel"],[1,"pb-4"],[3,"ngModelChange","ngModel"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-2","px-4","py-2","border-t","border-base-200"],["btn","","mat-dialog-close","",1,"inverse","w-32"],["btn","",1,"w-32",3,"mat-dialog-close"],["value","none"],["value","support"],["value","admin"]],template:function(D,A){1&D&&(n.j41(0,"header")(1,"h2"),n.EFF(2,"Upload File"),n.k0s(),n.j41(3,"button",0)(4,"app-icon"),n.EFF(5,"close"),n.k0s()()(),n.j41(6,"main",1)(7,"div",2)(8,"label"),n.EFF(9,"File Name"),n.k0s(),n.j41(10,"mat-form-field",3),n.nrm(11,"input",4),n.k0s()(),n.j41(12,"div",5)(13,"mat-checkbox",6),n.mxI("ngModelChange",function(l){return n.DH7(A.is_public,l)||(A.is_public=l),l}),n.EFF(14,"Public"),n.k0s()(),n.DNE(15,m,11,1,"div",7),n.k0s(),n.j41(16,"footer",8)(17,"button",9),n.EFF(18,"Cancel"),n.k0s(),n.j41(19,"button",10),n.EFF(20," Upload "),n.k0s()()),2&D&&(n.R7$(11),n.Y8G("ngModel",A.file.name),n.R7$(2),n.R50("ngModel",A.is_public),n.R7$(2),n.Y8G("ngIf",!A.is_public),n.R7$(4),n.Y8G("mat-dialog-close",n.sMw(4,O,A.file,A.is_public,A.permissions)))},dependencies:[f.bT,v.me,v.BC,v.vS,b.wT,C.rl,g.VO,t.tx,S.fg,h.So,y.R]})}return u})()},1193:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>C}),a(3693);var n=a(3953);function f(g,S){if(1&g&&(n.j41(0,"div",4),n.EFF(1),n.k0s()),2&g){const h=n.XpG(2);n.R7$(),n.SpI(" ",h.initials," ")}}function v(g,S){if(1&g&&(n.j41(0,"div",2),n.DNE(1,f,2,1,"div",3),n.k0s()),2&g){const h=n.XpG(),y=n.sdS(2);n.BMQ("user-id",h.user.id),n.R7$(),n.Y8G("ngIf",!h.user.photo)("ngIfElse",y)}}function b(g,S){if(1&g&&n.nrm(0,"img",5),2&g){const h=n.XpG();n.Y8G("source",h.user.photo)}}let C=(()=>{class g{get initials(){if(!this.user)return"NA";const h=this.user.name||"",y=h.replace(/[()[\]\-+=\\/]+/gi,"").split(" ");return y.length>1?`${y[0][0]}${y[y.length-1][0]}`:h.slice(0,2)}static#e=this.\u0275fac=function(y){return new(y||g)};static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["a-user-avatar"]],inputs:{user:"user"},decls:3,vars:1,consts:[["image_state",""],["class","flex items-center justify-center rounded-full overflow-hidden",4,"ngIf"],[1,"flex","items-center","justify-center","rounded-full","overflow-hidden"],["initials","","class","text-base-content text-opacity-80 uppercase",4,"ngIf","ngIfElse"],["initials","",1,"text-base-content","text-opacity-80","uppercase"],["auth","",1,"h-full","w-full",3,"source"]],template:function(y,O){1&y&&n.DNE(0,v,2,3,"div",1)(1,b,1,1,"ng-template",null,0,n.C5r),2&y&&n.Y8G("ngIf",O.user)},styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:2.5em;width:2.5em;background-color:var(--b2);overflow:hidden;border:2px solid var(--b1)}.initials[_ngcontent-%COMP%]{font-size:1em}"]})}return g})()},4633:(At,ue,a)=>{"use strict";a.d(ue,{N:()=>P});var t=a(467),n=a(2333),f=a(8030),v=a(2185),b=a(5157),C=a(9987),g=a(6539),S=a(5550),h=a(6926),y=a(3835),O=a(6962),m=a(8791),E=a(3953),u=a(4006);function M(k,V){if(1&k&&(E.j41(0,"div",32)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),E.EFF(5,"layers"),E.k0s()(),E.j41(6,"div",33),E.EFF(7),E.nI1(8,"async"),E.nI1(9,"async"),E.k0s(),E.j41(10,"app-icon",22),E.EFF(11," chevron_right "),E.k0s()()()()),2&k){let K;const X=E.XpG();E.Y8G("content",X.region_select),E.R7$(7),E.SpI(" ",(null==(K=E.bMT(8,2,X.region))?null:K.display_name)||(null==(K=E.bMT(9,4,X.region))?null:K.name)," ")}}function x(k,V){if(1&k&&(E.j41(0,"div",32)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),E.EFF(5,"business"),E.k0s()(),E.j41(6,"div",33),E.EFF(7),E.nI1(8,"async"),E.nI1(9,"async"),E.k0s(),E.j41(10,"app-icon",22),E.EFF(11," chevron_right "),E.k0s()()()()),2&k){let K;const X=E.XpG();E.Y8G("content",X.building_select),E.R7$(7),E.SpI(" ",(null==(K=E.bMT(8,2,X.building))?null:K.display_name)||(null==(K=E.bMT(9,4,X.building))?null:K.name)," ")}}function D(k,V){if(1&k&&(E.j41(0,"div",17)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),E.EFF(5,"help"),E.k0s()(),E.j41(6,"div",21),E.pXf(7,4),E.k0s(),E.j41(8,"app-icon",22),E.EFF(9,"chevron_right"),E.k0s()()()()),2&k){const K=E.XpG();E.Y8G("content",K.help_tooltip)}}function A(k,V){if(1&k){const K=E.RV6();E.j41(0,"div")(1,"button",34),E.bIt("click",function(){E.eBV(K);const Q=E.XpG();return E.Njj(Q.openWfhModal())}),E.j41(2,"div",19)(3,"div",20)(4,"app-icon"),E.EFF(5,"share_location"),E.k0s()(),E.j41(6,"div",21),E.pXf(7,5),E.k0s(),E.j41(8,"app-icon",22),E.EFF(9,"chevron_right"),E.k0s()()()()}}function L(k,V){if(1&k&&(E.j41(0,"div",17)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),E.EFF(5,"desk"),E.k0s()(),E.j41(6,"div",21),E.pXf(7,6),E.k0s(),E.j41(8,"app-icon",22),E.EFF(9,"chevron_right"),E.k0s()()()()),2&k){const K=E.XpG(),X=E.sdS(24);E.AVh("!border-b",!(null!=K.locales&&K.locales.length)),E.Y8G("content",X)}}function l(k,V){1&k&&E.nrm(0,"desk-height-presets")}function $(k,V){if(1&k&&(E.j41(0,"div",35)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),E.EFF(5,"mode_night"),E.k0s()(),E.j41(6,"div",21),E.pXf(7,7),E.nI1(8,"translate"),E.nI1(9,"translate"),E.k0s(),E.j41(10,"app-icon",22),E.EFF(11,"chevron_right"),E.k0s()()()()),2&k){const K=E.XpG();E.Y8G("content",K.language_tooltip),E.R7$(9),E.uP7(E.bMT(8,3,"COMMON.LANGUAGE_LABEL"))(E.bMT(9,5,"COMMON.LANGUAGE")),E.nnv(7)}}function R(k,V){if(1&k){const K=E.RV6();E.j41(0,"button",34),E.bIt("click",function(){E.eBV(K);const Q=E.XpG();return E.Njj(Q.newSupportTicket())}),E.j41(1,"div",19)(2,"div",20)(3,"app-icon"),E.EFF(4,"support_agent"),E.k0s()(),E.j41(5,"div",21),E.pXf(6,8),E.k0s()()()}}function F(k,V){if(1&k){const K=E.RV6();E.j41(0,"button",36),E.bIt("click",function(){E.eBV(K);const Q=E.XpG();return E.Njj(Q.reloadPage())}),E.EFF(1," New Version "),E.k0s()}}let P=(()=>{class k{get user(){return(0,n.Ny)()}get groups(){return this.user.groups.join("\n")}get version(){return n.xv}get features(){return this._settings.get("app.features")||[]}get locales(){return this._settings.get("app.locales")||[]}get desk_height(){return this._settings.get("app.desks.height_enabled")}get use_region(){return this._settings.get("app.use_region")}get disable_building_select(){return this._settings.get("app.disable_building_select")}get has_new_version(){return(0,n.tU)()}constructor(K,X,Q){this._settings=K,this._org=X,this._dialog=Q,this.building=this._org.active_building,this.region=this._org.active_region,this.regions=this._org.region_list,this.region_select=O.q,this.building_select=S.C,this.help_tooltip=h.o,this.accessibility_tooltip=g.B,this.language_tooltip=y.O}logout(){(0,b.rig)()}reloadPage(){location.reload()}newSupportTicket(){this._settings.get("app.external_support_url")?window.open(this._settings.get("app.external_support_url"),"_blank"):this._dialog.open(m.c)}openWfhModal(){this._dialog.open(C.$)}viewChangelog(){var K=this;return(0,t.A)(function*(){const X=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();K._dialog.open(f.l4,{data:{changelog:X}})})()}saveSetting(K,X){console.log("Save setting",K,X),this._settings.saveUserSetting(K,X)}formatLabel(K){return`${K.toFixed(1)}cm`}static#e=this.\u0275fac=function(X){return new(X||k)(E.rXU(n.h$),E.rXU(v.yb),E.rXU(u.bZ))};static#t=this.\u0275cmp=E.VBU({type:k,selectors:[["user-controls"]],decls:41,vars:26,consts:()=>{let K,X,Q,de,se,ce,z,w;return K=$localize`:d22b673a92b43eabbdebd80b1539a553703c84f66572705143012462182:Display & Accessibility`,X=$localize`:a9bc2f36435d7979f179c544151bca38e4fe20cc3324363634810141643: Sign Out `,Q=$localize`:0b1694897c27c2a5bbdf582a7f7d2bac898f35056267525301152196009:Version: `,de=$localize`:258586f2141d5b6c98ef28c38ac6f55a81a301b27393197899734735120:Help & Support`,se=$localize`:e97c857b4582bee9a86c573ca8e2e17150ae003a6974851687339955511:Work Location Settings`,ce=$localize`:6f3ddfacb6cc158043b77530f74c15dc406019fe8687640110841202898:Desk Settings`,z=$localize`:5a0db2e7be57ba081264f141f3ee4a8b683f1f6e6210988327734808594: ${"\ufffd0\ufffd"}:INTERPOLATION:: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,w=$localize`:b862b54c42ded9ebb47260f60b0f75985c5fab18270482714535552546:Raise a support ticket`,[["desk_height_tooltip",""],K,X,Q,de,se,ce,z,w,[1,"rounded","bg-base-100","shadow","mt-1","flex","flex-col","relative","divide-y","divide-base-200"],["avatar","",1,"flex","flex-col","items-center","p-2","w-[18rem]"],[1,"text-2xl",3,"user","matTooltip"],[1,""],[1,"text-xs","opacity-60","truncate"],["customTooltip","","class","relative",3,"content",4,"ngIf"],["customTooltip","",3,"content",4,"ngIf"],[4,"ngIf"],["customTooltip","",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]"],[1,"w-full","flex","items-center","space-x-2"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"flex-1"],[1,"opacity-60","text-2xl"],["customTooltip","",3,"content","!border-b",4,"ngIf"],["customTooltip","","class","!border-b",3,"content",4,"ngIf"],["btn","","matRipple","","class","clear w-full text-left h-[3.5rem]",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","p-4"],[1,"flex","items-center","justify-center","space-x-2","mb-4"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click",4,"ngIf"],[1,"text-xs","opacity-60","w-full"],[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],["customTooltip","",1,"relative",3,"content"],[1,"flex-1","truncate","w-px"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]",3,"click"],["customTooltip","",1,"!border-b",3,"content"],["btn","","matRipple","",3,"click"]]},template:function(X,Q){if(1&X){const de=E.RV6();E.j41(0,"div",9)(1,"div",10),E.nrm(2,"a-user-avatar",11),E.j41(3,"div",12),E.EFF(4),E.k0s(),E.j41(5,"div",13),E.EFF(6),E.k0s()(),E.DNE(7,M,12,6,"div",14),E.nI1(8,"async"),E.DNE(9,x,12,6,"div",14)(10,D,10,1,"div",15)(11,A,10,0,"div",16),E.j41(12,"div",17)(13,"button",18)(14,"div",19)(15,"div",20)(16,"app-icon"),E.EFF(17,"mode_night"),E.k0s()(),E.j41(18,"div",21),E.pXf(19,1),E.k0s(),E.j41(20,"app-icon",22),E.EFF(21,"chevron_right"),E.k0s()()()(),E.DNE(22,L,10,3,"div",23)(23,l,1,0,"ng-template",null,0,E.C5r)(25,$,12,7,"div",24)(26,R,7,0,"button",25),E.j41(27,"div",26)(28,"div",27)(29,"button",28),E.bIt("click",function(){return E.eBV(de),E.Njj(Q.logout())}),E.pXf(30,2),E.k0s(),E.DNE(31,F,2,0,"button",29),E.k0s(),E.j41(32,"div",30),E.qex(33),E.pXf(34,3),E.bVm(),E.j41(35,"button",31),E.bIt("click",function(){return E.eBV(de),E.Njj(Q.viewChangelog())}),E.EFF(36),E.k0s()(),E.j41(37,"div",30),E.EFF(38),E.nI1(39,"date"),E.nI1(40,"date"),E.k0s()()()}2&X&&(E.R7$(2),E.Y8G("user",Q.user)("matTooltip",Q.groups),E.R7$(2),E.JRh(null==Q.user?null:Q.user.name),E.R7$(2),E.JRh(null==Q.user?null:Q.user.email),E.R7$(),E.Y8G("ngIf",E.bMT(8,18,Q.regions).length),E.R7$(2),E.Y8G("ngIf",!Q.disable_building_select&&!Q.use_region),E.R7$(),E.Y8G("ngIf",Q.features.includes("help")),E.R7$(),E.Y8G("ngIf",Q.features.includes("wfh")),E.R7$(),E.AVh("!border-b",!(null!=Q.locales&&Q.locales.length&&Q.desk_height)),E.Y8G("content",Q.accessibility_tooltip),E.R7$(10),E.Y8G("ngIf",Q.desk_height),E.R7$(3),E.Y8G("ngIf",null==Q.locales?null:Q.locales.length),E.R7$(),E.Y8G("ngIf",Q.features.includes("support-ticket")),E.R7$(5),E.Y8G("ngIf",Q.has_new_version),E.R7$(5),E.SpI(" ",Q.version.hash," "),E.R7$(2),E.Lme(" ",E.i5U(39,20,Q.version.time,"longDate")," (",E.i5U(40,23,Q.version.time,"shortTime"),") "))}})}return k})()},5080:(At,ue,a)=>{"use strict";a.d(ue,{e:()=>E});var t=a(6939),n=a(2333),f=a(3953),v=a(7987),b=a(177);const C=["keyboard",""],g=["*"];function S(u,M){if(1&u&&f.nrm(0,"div",7),2&u){const x=f.XpG(4);f.AVh("bg-success","shift"===x.state)}}function h(u,M){if(1&u){const x=f.RV6();f.qex(0),f.j41(1,"div",5),f.bIt("focus",function(){f.eBV(x);const A=f.XpG(3);return f.Njj(A.focusInput())})("click",function(){const A=f.eBV(x).$implicit,L=f.XpG(3);return f.Njj(L.handleKeyPress(A))}),f.EFF(2),f.DNE(3,S,1,2,"div",6),f.k0s(),f.bVm()}if(2&u){const x=M.$implicit;f.R7$(),f.AVh("special","{"===x[0]&&x.length>1)("space","{space}"===x),f.BMQ("key",x),f.R7$(),f.SpI(" ","{space}"===x?"Space":"{caps}"===x?"Caps Lock":"{backspace}"===x?"Backspace":x," "),f.R7$(),f.Y8G("ngIf","{caps}"===x)}}function y(u,M){if(1&u&&(f.j41(0,"div",3),f.DNE(1,h,4,7,"ng-container",4),f.k0s()),2&u){const x=M.$implicit;f.R7$(),f.Y8G("ngForOf",x)}}function O(u,M){if(1&u&&(f.j41(0,"div",1),f.DNE(1,y,2,1,"div",2),f.k0s()),2&u){const x=f.XpG();f.R7$(),f.Y8G("ngForOf",x.keyset)}}const m=["0123456789".split(""),"qwertyuiop".split(""),"asdfghjkl".split(""),"zxcvbnm".split(""),["{caps}","{space}","{backspace}"]];let E=(()=>{class u extends n.Tv{constructor(x,D){super(),this._element=x,this._overlay=D,this.keyset=m,this.state="normal",this._overlay_ref=null,this.onFocus=()=>{u.enabled&&(this.open(),this.clearTimeout("blur"))},this.onBlur=()=>this.timeout("blur",()=>this.close())}ngOnChanges(x){x.keyset&&(this.keyset||(this.keyset=m))}ngOnDestroy(){super.ngOnDestroy(),this.close()}focusInput(){this._element?.nativeElement?.blur(),this._element?.nativeElement?.focus()}open(){this._overlay_ref||this._portal&&(this._overlay_ref=this._overlay.create({positionStrategy:this._overlay.position().global().bottom().centerHorizontally()}),this._overlay_ref.attach(this._portal))}close(){this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}handleKeyPress(x){let D=this._element.nativeElement.selectionStart;const A=this._element.nativeElement.value||"";switch(x.toLowerCase()){case"{caps}":case"{shift}":this.state="shift";break;case"{backspace}":this._element.nativeElement.value=`${A.substr(0,D-1)}${A.substr(D,A.length)}`,D=Math.max(0,D-1);break;case"{space}":this._element.nativeElement.value=`${A.substr(0,D)} ${A.substr(D,A.length)}`,D+=1;break;default:"shift"===this.state&&(this.state="normal"),this._element.nativeElement.value=`${A.substr(0,D)}${x}${A.substr(D,A.length)}`,D+=1}this._element.nativeElement.dispatchEvent(new InputEvent("input")),this.updateKeyState(),this.timeout("focus",()=>{this.focusInput(),this._element.nativeElement.selectionStart=D,this._element.nativeElement.selectionEnd=D},50)}updateKeyState(){this.keyset=this.keyset.map(x=>x.map(D=>D.length>1?D:D["normal"!==this.state?"toUpperCase":"toLowerCase"]()))}static#e=this.\u0275fac=function(D){return new(D||u)(f.rXU(f.aKT),f.rXU(v.hJ))};static#t=this.\u0275cmp=f.VBU({type:u,selectors:[["input","keyboard",""],["textarea","keyboard",""]],viewQuery:function(D,A){if(1&D&&f.GBs(t.bV,5),2&D){let L;f.mGM(L=f.lsd())&&(A._portal=L.first)}},hostBindings:function(D,A){1&D&&f.bIt("focus",function(){return A.onFocus()})("blur",function(){return A.onBlur()})},inputs:{keyset:"keyset"},features:[f.Vt3,f.OA$],attrs:C,ngContentSelectors:g,decls:2,vars:0,consts:[["cdk-portal",""],["keyboard-view","",1,"w-screen","flex","flex-col","space-y-4","bg-base-200","p-2","border-t","border-base-200"],["row","","class","flex items-center justify-center space-x-2",4,"ngFor","ngForOf"],["row","",1,"flex","items-center","justify-center","space-x-2"],[4,"ngFor","ngForOf"],["tabindex","0",1,"rounded-xl","p-2","border","border-base-200","relative","cursor-pointer","bg-base-100",3,"focus","click"],["dot","","class","absolute top-2 right-2 h-2 w-2 rounded-full bg-base-200",3,"bg-success",4,"ngIf"],["dot","",1,"absolute","top-2","right-2","h-2","w-2","rounded-full","bg-base-200"]],template:function(D,A){1&D&&(f.NAR(),f.SdG(0),f.DNE(1,O,2,1,"ng-template",0))},dependencies:[b.Sq,b.bT,t.Qq],styles:["[key][_ngcontent-%COMP%]{height:3.5rem;width:4rem;transition:box-shadow .2s,top .2s;box-shadow:0 4px 0 .04px #0000001a}[key].special[_ngcontent-%COMP%]{width:10rem}[key].space[_ngcontent-%COMP%]{flex:1;min-width:10rem;max-width:25rem}[key][_ngcontent-%COMP%]:hover{top:2px;box-shadow:0 2px 0 .04px #0000001a}[key][_ngcontent-%COMP%]:active{top:4px;box-shadow:0 0 0 .04px #0000001a}"]})}return u})()},1765:(At,ue,a)=>{"use strict";a.d(ue,{w:()=>P});var t=a(467),n=a(3953),f=a(5818),v=a(4361),b=a(7926),C=a(2659),g=a(2333),h=(a(6727),a(4035)),y=a(8026),O=a(2011),m=a(5713),E=a(4006),u=a(2091);const M=()=>["./"],x=k=>({event:k});function D(k,V){if(1&k&&(n.j41(0,"span",5),n.EFF(1),n.k0s()),2&k){const K=n.XpG(2);n.R7$(),n.SpI("",K.day,",\xa0")}}function A(k,V){if(1&k&&(n.j41(0,"h4",2),n.DNE(1,D,2,1,"span",3),n.EFF(2),n.nI1(3,"date"),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"date"),n.k0s()()),2&k){const K=n.XpG();n.R7$(),n.Y8G("ngIf",K.show_day),n.R7$(),n.SpI(" ",n.i5U(3,3,null==K.event?null:K.event.date,K.time_format)," "),n.R7$(3),n.SpI("(",n.i5U(6,6,null==K.event?null:K.event.date,"z"),")")}}function L(k,V){1&k&&(n.j41(0,"div",12)(1,"app-icon"),n.EFF(2,"restaurant"),n.k0s(),n.j41(3,"div",14),n.EFF(4,"Catered"),n.k0s()())}function l(k,V){if(1&k&&(n.j41(0,"div",21),n.nrm(1,"a-user-avatar",22),n.k0s()),2&k){const K=V.$implicit;n.R7$(),n.Y8G("user",K)}}function $(k,V){if(1&k&&(n.j41(0,"div",21)(1,"div",23),n.EFF(2),n.k0s()()),2&k){const K=n.XpG(3);n.R7$(2),n.SpI(" +",(null==K.event||null==K.event.attendees?null:K.event.attendees.length)-5," ")}}function R(k,V){if(1&k&&(n.j41(0,"div",18),n.DNE(1,l,2,1,"div",19),n.nI1(2,"slice"),n.DNE(3,$,3,1,"div",20),n.k0s()),2&k){const K=n.XpG(2);n.R7$(),n.Y8G("ngForOf",n.brH(2,2,null==K.event?null:K.event.attendees,0,6===(null==K.event||null==K.event.attendees?null:K.event.attendees.length)?6:5)),n.R7$(2),n.Y8G("ngIf",(null==K.event||null==K.event.attendees?null:K.event.attendees.length)>6)}}function F(k,V){if(1&k){const K=n.RV6();n.j41(0,"a",6),n.bIt("click",function(){n.eBV(K);const Q=n.XpG();return n.Njj(Q.viewDetails())}),n.j41(1,"div",7)(2,"h4",8),n.EFF(3),n.k0s(),n.j41(4,"div",9)(5,"status-pill",10),n.EFF(6),n.k0s()(),n.j41(7,"div",11)(8,"div",12)(9,"app-icon"),n.EFF(10,"meeting_room"),n.k0s(),n.j41(11,"div",13),n.EFF(12),n.k0s()(),n.j41(13,"div",12)(14,"app-icon"),n.EFF(15,"person_outline"),n.k0s(),n.j41(16,"div",14),n.EFF(17),n.k0s()(),n.DNE(18,L,5,0,"div",15),n.j41(19,"div",12)(20,"app-icon"),n.EFF(21,"people"),n.k0s(),n.j41(22,"div",14),n.EFF(23),n.k0s()()(),n.j41(24,"app-icon",16),n.EFF(25," chevron_right "),n.k0s(),n.DNE(26,R,4,6,"div",17),n.k0s()()}if(2&k){let K;const X=n.XpG();n.Y8G("routerLink",n.lJ4(11,M))("queryParams",n.eq3(12,x,null==X.event?null:X.event.id)),n.R7$(3),n.JRh(null==X.event?null:X.event.title),n.R7$(2),n.Y8G("status",X.status),n.R7$(),n.JRh(X.period),n.R7$(6),n.SpI(" ",X.location," "),n.R7$(5),n.SpI(" ",(null==X.event||null==X.event.organiser?null:X.event.organiser.name)||(null==X.event||null==X.event.organiser?null:X.event.organiser.email)," "),n.R7$(),n.Y8G("ngIf",null==X.event||null==(K=X.event.ext("catering"))?null:K.length),n.R7$(5),n.Lme(" ",null==X.event||null==X.event.attendees?null:X.event.attendees.length," ",1===(null==X.event||null==X.event.attendees?null:X.event.attendees.length)?"Person":"People"," "),n.R7$(3),n.Y8G("ngIf",null==X.event||null==X.event.attendees?null:X.event.attendees.length)}}let P=(()=>{class k extends g.Tv{get time_format(){return this._settings.time_format}get status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(K,X,Q,de,se){super(),this._dialog=K,this._route=X,this._org=Q,this._space_pipe=de,this._settings=se,this.show_day=!1,this.edit=new n.bkB,this.remove=new n.bkB,this.location=""}ngOnInit(){var K=this;return(0,t.A)(function*(){K.subscription("route.query",K._route.queryParamMap.subscribe(X=>X.has("event")&&K.event?.id===X.get("event")?K.viewDetails():"")),K.location=yield K.getLocationString()})()}ngOnChanges(K){var X=this;return(0,t.A)(function*(){K.event&&X.event&&(X.location=yield X.getLocationString())})()}get day(){const K=this.event?.date||Date.now();return`${(0,f.r)(Date.now(),K)?"Today":(0,v.GP)(K,"EEEE")}`}getLocationString(){var K=this;return(0,t.A)(function*(){const X=K.event?.resources[0]||K.event?.system||K.event?.space||{},Q=yield K._space_pipe.transform(X.id||X.email),de=Q?.zones||[],se=K._org.levelWithID(de)||K._org.buildings.find(ce=>de.includes(ce.id));return`${se?(se.display_name||se.name)+", ":""} ${Q?.display_name||Q?.name}`})()}get period(){if(this.event?.all_day)return"All Day";const K=this.event?.date||Date.now(),X=this.event?.duration||60,Q=(0,b.z)(K,X),de=this.event?.duration>1440,se=(0,C.a)({hours:Math.floor(X/60),minutes:X%60}).replace(" hour","hr").replace(" minute","min");return`${(0,v.GP)(K,(de?"MMM d, ":"")+this.time_format)} - ${(0,v.GP)(Q,(de?"MMM d, ":"")+this.time_format)} ${X<1440?"("+se+")":""}`}viewDetails(){this.event&&this.timeout("open",()=>{if(this.event.extension_data?.shared_event)return void this._dialog.open(m.E,{data:{event:this.event,concierge:!1}});const K=this._dialog.open(h.b,{data:this.event});this.subscription("edit",K.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",K.componentInstance.remove.subscribe(X=>this.remove.emit(X)))})}static#e=this.\u0275fac=function(X){return new(X||k)(n.rXU(E.bZ),n.rXU(u.nX),n.rXU(y.y),n.rXU(O.J),n.rXU(g.h$))};static#t=this.\u0275cmp=n.VBU({type:k,selectors:[["event-card"]],inputs:{event:"event",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[n.Jv_([O.J]),n.Vt3,n.OA$],decls:2,vars:2,consts:[["class","mb-2 flex items-center","date","",4,"ngIf"],["name","view-event-details","class","w-full cursor-pointer relative",3,"routerLink","queryParams","click",4,"ngIf"],["date","",1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-event-details",1,"w-full","cursor-pointer","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"mx-2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4",4,"ngIf"],[1,"absolute","bottom-2","right-2","sm:bottom-auto","sm:top-2","text-sm","sm:text-base","flex","items-center","pr-4"],["class","h-10 w-6",4,"ngFor","ngForOf"],["class","h-10 w-6",4,"ngIf"],[1,"h-10","w-6"],[3,"user"],[1,"bg-secondary","rounded-full","h-10","w-10","border-2","border-base-100","flex","items-center","justify-center","text-secondary-content"]],template:function(X,Q){1&X&&n.DNE(0,A,7,9,"h4",0)(1,F,27,14,"a",1),2&X&&(n.Y8G("ngIf",Q.event),n.R7$(),n.Y8G("ngIf",Q.event))},styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return k})()},4035:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>Ve});var t=a(467),n=a(3953),f=a(4006),v=a(7926),b=a(2659),C=a(4361),g=a(5987),S=a(6727),h=a(1865),y=a(8026),O=a(2011),m=a(5170),E=a(602),u=a(2333),M=a(735),x=a(5157),D=a(620),A=a(1416);const L=()=>({disable_pan:!0,disable_zoom:!0});function l(We,lt){1&We&&n.nrm(0,"div",55)}function $(We,lt){if(1&We&&(n.j41(0,"div",56),n.nrm(1,"image-carousel",57),n.k0s()),2&We){const nt=n.XpG();n.R7$(),n.Y8G("images",null==nt.event||null==nt.event.system?null:nt.event.system.images)}}function R(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"button",61),n.bIt("click",function(){n.eBV(nt);const Ie=n.XpG(2);return n.Njj(Ie.checkin())}),n.j41(1,"div",62)(2,"app-icon"),n.EFF(3),n.k0s(),n.j41(4,"div",63),n.pXf(5,9),n.k0s()()()}if(2&We){const nt=n.XpG(2);n.AVh("bg-success","pending"!==nt.room_status)("border-none","pending"!==nt.room_status)("pointer-events-none","pending"!==nt.room_status),n.R7$(3),n.JRh("pending"===nt.room_status?"arrow_back":"done"),n.R7$(2),n.uP7("pending"===nt.room_status?"Check in":"Checked in"),n.nnv(5)}}function F(We,lt){if(1&We&&(n.j41(0,"button",64)(1,"app-icon"),n.EFF(2,"more_horiz"),n.k0s()()),2&We){n.XpG(2);const nt=n.sdS(75);n.Y8G("matMenuTriggerFor",nt)}}function P(We,lt){if(1&We&&(n.j41(0,"div",58),n.DNE(1,R,6,8,"button",59)(2,F,3,1,"button",60),n.k0s()),2&We){const nt=n.XpG();n.R7$(),n.Y8G("ngIf",nt.room_status&&(null==nt.event?null:nt.event.can_check_in)&&"free"!==nt.room_status),n.R7$(),n.Y8G("ngIf",nt.allow_edit)}}function k(We,lt){if(1&We&&(n.qex(0),n.EFF(1),n.bVm()),2&We){const nt=n.XpG();n.R7$(),n.SpI(" ",(null==nt.level?null:nt.level.display_name)||(null==nt.level?null:nt.level.name),", ")}}function V(We,lt){if(1&We&&(n.j41(0,"div",29)(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div"),n.EFF(4),n.k0s()()),2&We){const nt=n.XpG();n.R7$(4),n.Lme(" ",(null==nt.building?null:nt.building.display_name)||(null==nt.building?null:nt.building.name),", ",null==nt.building?null:nt.building.address," ")}}function K(We,lt){if(1&We&&(n.j41(0,"span",81),n.EFF(1),n.k0s()),2&We){const nt=n.XpG().$implicit,$e=n.XpG(3);n.Y8G("matTooltip",$e.optionList(nt)),n.R7$(),n.SpI(" ",(null==nt.option_list?null:nt.option_list.length)||"0"," option(s) ")}}function X(We,lt){if(1&We&&(n.j41(0,"div",76)(1,"div",77)(2,"span",71),n.EFF(3),n.k0s(),n.DNE(4,K,2,2,"span",78),n.k0s(),n.j41(5,"div",79),n.EFF(6),n.k0s(),n.j41(7,"div",80),n.EFF(8),n.nI1(9,"currency"),n.k0s()()),2&We){const nt=lt.$implicit,$e=n.XpG(3);n.R7$(3),n.JRh(nt.name||"Item"),n.R7$(),n.Y8G("ngIf",null==nt.option_list?null:nt.option_list.length),n.R7$(2),n.SpI(" x",nt.quantity," "),n.R7$(2),n.SpI(" ",n.i5U(9,4,nt.unit_price_with_options/100,$e.currency_code)," ea ")}}function Q(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"div",72),n.EFF(7),n.nI1(8,"currency"),n.k0s()(),n.j41(9,"button",73),n.bIt("click",function(){const Ie=n.eBV(nt).$implicit,me=n.XpG(2);return n.Njj(me.show_order[Ie.id]=!me.show_order[Ie.id])}),n.j41(10,"app-icon"),n.EFF(11),n.k0s()()(),n.j41(12,"div",74),n.DNE(13,X,10,7,"div",75),n.k0s()()}if(2&We){const nt=lt.$implicit,$e=n.XpG(2);n.R7$(4),n.SpI(" Order at ",n.i5U(5,7,nt.deliver_at,"MMM d, "+$e.time_format)," "),n.R7$(3),n.Lme(" ",nt.item_count," item(s) for ",n.i5U(8,10,nt.total_cost/100,$e.currency_code)," "),n.R7$(2),n.Y8G("matTooltip",$e.show_order[nt.id]?"Hide order items":"Show order items"),n.R7$(2),n.SpI(" ",$e.show_order[nt.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",$e.show_order[nt.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",nt.items)}}function de(We,lt){if(1&We&&(n.qex(0),n.j41(1,"div",32)(2,"h3",65),n.pXf(3,10),n.k0s(),n.j41(4,"div",66),n.DNE(5,Q,14,13,"div",67),n.k0s()(),n.bVm()),2&We){const nt=n.XpG();n.R7$(5),n.Y8G("ngForOf",nt.event.valid_catering)}}function se(We,lt){if(1&We&&(n.qex(0),n.nrm(1,"interactive-map",82),n.bVm()),2&We){const nt=n.XpG();n.R7$(),n.Y8G("src",null==nt.level?null:nt.level.map_id)("features",nt.features)("options",n.lJ4(3,L))}}function ce(We,lt){if(1&We&&(n.nrm(0,"div",85),n.nI1(1,"sanitize")),2&We){const nt=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,1,nt.body)||"Unable to sanitize notes contents",n.npT)}}function z(We,lt){if(1&We&&(n.j41(0,"div",32)(1,"h3",83),n.pXf(2,11),n.k0s(),n.DNE(3,ce,2,3,"div",84),n.k0s()),2&We){const nt=n.XpG();n.R7$(3),n.Y8G("ngIf",nt.body)}}function w(We,lt){if(1&We&&(n.j41(0,"div",76)(1,"div",77)(2,"span",71),n.EFF(3),n.k0s()(),n.j41(4,"div",79),n.EFF(5),n.k0s()()),2&We){const nt=lt.$implicit;n.R7$(3),n.JRh(nt.name||"Item"),n.R7$(2),n.SpI(" x",nt.quantity," ")}}function j(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"div",88)(1,"button",89),n.bIt("click",function(){const Ie=n.eBV(nt).$implicit,me=n.XpG(2);return n.Njj(me.show_request[Ie.id]=!me.show_request[Ie.id])}),n.j41(2,"div",90)(3,"div",71),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",91)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",92)(10,"app-icon",93),n.EFF(11),n.k0s()()(),n.j41(12,"div",74),n.DNE(13,w,6,2,"div",75),n.k0s()()}if(2&We){const nt=lt.$implicit,$e=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,nt.deliver_at,"MMM d, "+$e.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===nt.state)("text-success-content","approved"===nt.state)("bg-warning","approved"!==nt.state&&"rejected"!==nt.state)("text-warning-content","approved"!==nt.state&&"rejected"!==nt.state)("bg-error","rejected"===nt.state)("text-error-content","rejected"===nt.state),n.Y8G("matTooltip",nt.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===nt.state?"done":"rejected"===nt.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",$e.show_request[nt.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",$e.show_request[nt.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",nt.items)}}function W(We,lt){if(1&We&&(n.qex(0),n.j41(1,"div",32)(2,"h3",86),n.pXf(3,12),n.k0s(),n.j41(4,"div",66),n.DNE(5,j,14,21,"div",87),n.k0s()(),n.bVm()),2&We){const nt=n.XpG();n.R7$(3),n.uP7((null==nt.event.valid_assets?null:nt.event.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",nt.event.valid_assets)}}function ne(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"div",94)(1,"attendee-list",95),n.bIt("click",function(){n.eBV(nt);const Ie=n.XpG();return n.Njj(Ie.show_attendees=!1)}),n.k0s()()}if(2&We){const nt=n.XpG();n.R7$(),n.Y8G("list",nt.event.attendees)("host",nt.event.host)}}function fe(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"button",96),n.bIt("click",function(){n.eBV(nt);const Ie=n.XpG();return n.Njj(Ie.edit.emit(Ie.space))}),n.j41(1,"div",52)(2,"app-icon"),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,13),n.k0s()()()}if(2&We){const nt=n.XpG();n.Y8G("matTooltip",nt.can_edit?"":nt.no_edit_message)("disabled",!nt.can_edit)}}function ae(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"button",51),n.bIt("click",function(){n.eBV(nt);const Ie=n.XpG();return n.Njj(Ie.remove.emit(!0))}),n.j41(1,"div",52)(2,"app-icon"),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,14),n.k0s()()()}}function Ae(We,lt){if(1&We){const nt=n.RV6();n.j41(0,"button",51),n.bIt("click",function(){const Ie=n.eBV(nt).$implicit,me=n.XpG();return n.Njj(me.action.emit(Ie.id))}),n.j41(1,"div",52)(2,"app-icon"),n.EFF(3),n.k0s(),n.j41(4,"div"),n.pXf(5,15),n.k0s()()()}if(2&We){const nt=lt.$implicit;n.R7$(3),n.JRh(nt.icon),n.R7$(2),n.uP7(nt.name),n.nnv(5)}}const Me=[];let Ve=(()=>{class We{get can_edit(){return!0}get body(){return this.event.body.replace(/\\n\\n\[ID\|.*\]/gm,"")}get allow_edit(){return!this._settings.get("app.events.booking_unavailable")}get custom_actions(){return this._settings.get("app.events.custom_actions")||Me}get time_format(){return this._settings.time_format}get event_status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(nt,$e,Ie,me,De){this._event=nt,this._org=$e,this._space_pipe=Ie,this._settings=me,this._dialog=De,this.action=new n.bkB,this.edit=new n.bkB,this.remove=new n.bkB,this.show_order={},this.show_request={},this.room_status="",this.hide_map=!1,this.hide_edit=!1,this.show_attendees=!1,this.event=this._event,this.no_edit_message="Editing bookings long than \n a day is not available",this.features=[{location:this.event?.system?.map_id,content:h.V}],this.has_catering=this.event?.ext("catering")?.length>0,this.has_assets=!!this.event?.linked_bookings?.find(ke=>"asset-request"===ke.booking_type),this.level=new E.P,this.building=new m.t,this.space=new M.$,this.accept_count=this._event.attendees.reduce((ke,Qe)=>ke+("accepted"===Qe.response_status?1:0),0),this.declined_count=this._event.attendees.reduce((ke,Qe)=>ke+("declined"===Qe.response_status?1:0),0),this.pending_count=this._event.attendees.reduce((ke,Qe)=>ke+("tentative"===Qe.response_status||"needsAction"===Qe.response_status?1:0),0),this._load().then()}get period(){if(this.event?.all_day)return"All Day";const nt=this.event?.date||Date.now(),$e=this.event?.duration||60,Ie=(0,v.z)(nt,$e),me=this.event?.duration>1440,De=(0,b.a)({hours:Math.floor($e/60),minutes:$e%60}).replace(" hour","hr").replace(" minute","min");return`${(0,C.GP)(nt,(me?"MMM d, ":"")+this.time_format)} - ${(0,C.GP)(Ie,(me?"MMM d, ":"")+this.time_format)} ${$e<1440?"("+De+")":""}`}optionList(nt){return nt.option_list?.map($e=>$e.name).join("\n")}checkin(){var nt=this;return(0,t.A)(function*(){const $e=(0,x.f_4)(nt.space?.id,"Bookings");$e&&(yield $e.execute("checkin",[(0,g._)(nt.event.date)]).catch(Ie=>(0,u.UG)(`Error checking in booking. ${Ie}`)),nt.room_status="busy")})()}_load(){var nt=this;return(0,t.A)(function*(){if(nt.space=yield nt._space_pipe.transform(nt._event.system?.id||nt._event.system?.email),nt.level=nt._org.levelWithID(nt.space.zones),nt.building=nt._org.buildings.find(Ie=>nt.space.zones.includes(Ie.id)),nt.features=[{location:nt.space.map_id,content:h.V}],nt.event.extension_data.catering?.length||nt.event.extension_data.assets?.length)return;const $e=yield(0,A.A5)(nt._event.id,nt.space.id).toPromise();$e&&(nt._event=new S.L({...nt._event,extension_data:{...nt._event.extension_data,...$e}}))})()}status(nt){const $e=this.event.linked_bookings.find(Ie=>Ie.asset_id===nt);return $e.status?$e.status:$e?$e.approved?"approved":$e.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(D.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.hide_map=!1})}static#e=this.\u0275fac=function($e){return new($e||We)(n.rXU(f.Vh),n.rXU(y.y),n.rXU(O.J),n.rXU(u.h$),n.rXU(f.bZ))};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["event-details-modal"]],outputs:{action:"action",edit:"edit",remove:"remove"},features:[n.Jv_([O.J])],decls:85,vars:33,consts:()=>{let nt,$e,Ie,me,De,ke,Qe,Ne,at,Lt,Kt,Ot,Se,ve,N;return nt=$localize`:2c8ce65c566300dc9063f69c615fda2e3a6b896a2102851380219026584: Details `,$e=$localize`:dc34e61df786db36347c8dc09510fa3d5d4c62538291262399353359697:Attendees`,Ie=$localize`:8ee85ef5a3693fb53511af55f66b8543941a59685528514721268144968: See All `,me=$localize`:4f20f2d5a6882190892e58b85f6ccbedfa7379522807800733729323332:Yes`,De=$localize`:3d3ae7deebc5949b0c1c78b9847886a94321d9fd3542042671420335679:No`,ke=$localize`:e6a27066251ca1e04c5be86ad758380856df25064416413576346763682:Pending`,Qe=$localize`:01072150a2c93fe7032783804ebfa5a1e41f36856139423482037031714: Host `,Ne=$localize`:e634daa29c58868c9c9c4d9fcc7ba1c016fac86b4014175048517775632:Delete event`,at=$localize`:e00cf812605b14c9c2390da404d3cd3ea67f19a63151361020738293834: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Lt=$localize`:ef2612559c447d8f4c218c06bb66af9de8edf3656975755512274629403: Catering `,Kt=$localize`:195b2f1c65301b0700459c9d0ae2ce407ed9c7bf4484880822148672471: Notes `,Ot=$localize`:e30ee857e7399db3f72ec7aa8aa9b56ce76fca963391582008093299175: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,Se=$localize`:56c74224d22c7379fdbf9d0a00c8bf519a9ee6612772374745622574688:Edit event`,ve=$localize`:ecb2e91e2775870da0ea8e51b4951994493672fb3974228098480354844:Delete Series`,N=$localize`:8fcf89a6df3c02c129a41d4b202221a4013f107c941732683947462971:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["menu","matMenu"],nt,$e,Ie,me,De,ke,Qe,Ne,at,Lt,Kt,Ot,Se,ve,N,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["binding","","mod","Bookings","bind","status",3,"modelChange","model","sys"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]","space-y-2"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["class","flex items-center px-2 space-x-2",4,"ngIf"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","border-t","border-base-200","sm:border-none","flex","items-center","justify-between"],[1,"text-lg","font-medium"],["matRipple","","show-attendees","",1,"clear","text-xs","underline",3,"click"],[1,"flex","items-center","p-1"],[1,"flex","flex-col","flex-1","items-center","justify-center","space-y-1"],[1,"text-lg"],[1,"text-sm","uppercase"],[1,"mx-3","mt-2","pt-2","text-lg","font-medium","border-t","border-base-200"],["host","",1,"px-2","flex","items-center","space-x-2"],[3,"user"],[1,"text-sm","flex-1","w-px"],[1,"opacity-60","truncate","w-full",3,"title"],["map","",1,"mt-4","sm:mt-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","sm:dark:bg-neutral-700","m-2","flex-grow-[3]","min-w-1/3","p-2","w-[calc(100%-1rem)]","sm:w-[16rem]",3,"click"],["class","mt-4 sm:p-4 sm:bg-base-100 sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-base-200 flex-grow-[3] min-w-1/3 sm:w-[16rem]",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-neutral","text-white"],["class","absolute inset-0 z-50",4,"ngIf"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2","text-base"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10",3,"bg-success","border-none","pointer-events-none","click",4,"ngIf"],["icon","","matRipple","","class","bg-secondary rounded text-white h-10 w-10",3,"matMenuTriggerFor",4,"ngIf"],["btn","","matRipple","",1,"flex-1","h-10",3,"click"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-10","w-10",3,"matMenuTriggerFor"],[1,"mx-3","my-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["order","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["order","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-3"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","opacity-60"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],["class","text-xs opacity-60 ml-4 font-normal",3,"matTooltip",4,"ngIf"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"rounded","bg-info","text-info-content","text-xs","px-2","py-1"],[1,"text-xs","opacity-60","ml-4","font-normal",3,"matTooltip"],[1,"pointer-events-none",3,"src","features","options"],[1,"mx-3","text-lg","font-medium","border-t","sm:border-none","border-base-200"],["notes","","class","mx-4 overflow-hidden max-w-full",3,"innerHTML",4,"ngIf"],["notes","",1,"mx-4","overflow-hidden","max-w-full",3,"innerHTML"],[1,"mx-3","pt-2","text-lg","font-medium"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"text-2xl"],[1,"absolute","inset-0","z-50"],[3,"click","list","host"],["mat-menu-item","","mat-dialog-close","",3,"click","matTooltip","disabled"]]},template:function($e,Ie){if(1&$e){const me=n.RV6();n.j41(0,"div",16)(1,"div",17)(2,"i",18),n.mxI("modelChange",function(ke){return n.eBV(me),n.DH7(Ie.room_status,ke)||(Ie.room_status=ke),n.Njj(ke)}),n.k0s(),n.DNE(3,l,1,0,"div",19)(4,$,2,1,"div",20),n.j41(5,"h3",21),n.EFF(6),n.k0s(),n.j41(7,"div",22)(8,"div",23)(9,"status-pill",24),n.EFF(10),n.k0s()(),n.DNE(11,P,3,2,"div",25),n.k0s()(),n.j41(12,"div",26)(13,"div",27)(14,"h3",28),n.pXf(15,1),n.k0s(),n.j41(16,"div",29)(17,"app-icon"),n.EFF(18,"event"),n.k0s(),n.j41(19,"div"),n.EFF(20),n.nI1(21,"date"),n.k0s()(),n.j41(22,"div",29)(23,"app-icon"),n.EFF(24,"schedule"),n.k0s(),n.j41(25,"div"),n.EFF(26),n.k0s()(),n.j41(27,"div",29)(28,"app-icon"),n.EFF(29,"map"),n.k0s(),n.j41(30,"div"),n.DNE(31,k,2,1,"ng-container",30),n.EFF(32),n.k0s()(),n.DNE(33,V,5,2,"div",31),n.k0s(),n.j41(34,"div",32)(35,"div",33)(36,"h3",34),n.pXf(37,2),n.k0s(),n.j41(38,"button",35),n.bIt("click",function(){return n.eBV(me),n.Njj(Ie.show_attendees=!0)}),n.pXf(39,3),n.k0s()(),n.j41(40,"div",36)(41,"div",37)(42,"div",38),n.EFF(43),n.k0s(),n.j41(44,"div",39),n.pXf(45,4),n.k0s()(),n.j41(46,"div",37)(47,"div",38),n.EFF(48),n.k0s(),n.j41(49,"div",39),n.pXf(50,5),n.k0s()(),n.j41(51,"div",37)(52,"div",38),n.EFF(53),n.k0s(),n.j41(54,"div",39),n.pXf(55,6),n.k0s()()(),n.j41(56,"h3",40),n.pXf(57,7),n.k0s(),n.j41(58,"div",41),n.nrm(59,"a-user-avatar",42),n.j41(60,"div",43)(61,"div"),n.EFF(62),n.k0s(),n.j41(63,"div",44),n.EFF(64),n.k0s()()()(),n.DNE(65,de,6,1,"ng-container",30),n.j41(66,"button",45),n.bIt("click",function(){return n.eBV(me),n.Njj(Ie.viewLocation())}),n.DNE(67,se,2,4,"ng-container",30),n.k0s(),n.DNE(68,z,4,1,"div",46)(69,W,6,2,"ng-container",30),n.j41(70,"button",47)(71,"app-icon"),n.EFF(72,"close"),n.k0s()(),n.DNE(73,ne,2,2,"div",48),n.k0s(),n.j41(74,"mat-menu",49,0),n.DNE(76,fe,6,2,"button",50),n.j41(77,"button",51),n.bIt("click",function(){return n.eBV(me),n.Njj(Ie.remove.emit())}),n.j41(78,"div",52)(79,"app-icon"),n.EFF(80,"delete"),n.k0s(),n.j41(81,"div"),n.pXf(82,8),n.k0s()()(),n.DNE(83,ae,6,0,"button",53)(84,Ae,6,2,"button",54),n.k0s()()}2&$e&&(n.R7$(2),n.R50("model",Ie.room_status),n.Y8G("sys",null==Ie.space?null:Ie.space.id),n.R7$(),n.Y8G("ngIf",!(null!=Ie.event&&null!=Ie.event.system&&null!=Ie.event.system.images&&Ie.event.system.images.length)),n.R7$(),n.Y8G("ngIf",null==Ie.event||null==Ie.event.system||null==Ie.event.system.images?null:Ie.event.system.images.length),n.R7$(),n.AVh("pt-4",!(null!=Ie.event&&null!=Ie.event.system&&null!=Ie.event.system.images&&Ie.event.system.images.length)),n.R7$(),n.SpI(" ",Ie.event.title," "),n.R7$(3),n.Y8G("status",Ie.event_status),n.R7$(),n.SpI(" ",Ie.period," "),n.R7$(),n.Y8G("ngIf","done"!==Ie.event.state),n.R7$(9),n.JRh(n.i5U(21,30,Ie.event.date,"EEEE, dd LLLL y")),n.R7$(6),n.JRh(Ie.period),n.R7$(5),n.Y8G("ngIf",Ie.level),n.R7$(),n.SpI(" ",(null==Ie.event||null==Ie.event.system?null:Ie.event.system.display_name)||(null==Ie.event||null==Ie.event.system?null:Ie.event.system.name)||(null==Ie.event?null:Ie.event.location)," "),n.R7$(),n.Y8G("ngIf",Ie.building),n.R7$(10),n.JRh(Ie.accept_count||0),n.R7$(5),n.JRh(Ie.declined_count||0),n.R7$(5),n.JRh(Ie.pending_count||0),n.R7$(6),n.Y8G("user",Ie.event.organiser),n.R7$(3),n.JRh(null==Ie.event.organiser?null:Ie.event.organiser.name),n.R7$(),n.Y8G("title",Ie.event.host),n.R7$(),n.SpI(" ",Ie.event.host," "),n.R7$(),n.Y8G("ngIf",Ie.has_catering),n.R7$(2),n.Y8G("ngIf",!Ie.hide_map),n.R7$(),n.Y8G("ngIf",Ie.body),n.R7$(),n.Y8G("ngIf",Ie.has_assets),n.R7$(4),n.Y8G("ngIf",Ie.show_attendees),n.R7$(3),n.Y8G("ngIf",!Ie.hide_edit),n.R7$(7),n.Y8G("ngIf",Ie.event.recurring_event_id),n.R7$(),n.Y8G("ngForOf",Ie.custom_actions))},data:{animation:[u.Ft]}})}return We})()},6266:(At,ue,a)=>{"use strict";a.d(ue,{W:()=>Ie});var t=a(467),n=a(2091),f=a(5157),v=a(9928),b=a(9714),C=a(696),g=a(4421),S=a(4670),h=a(2170),y=a(9090),O=a(5006),m=a(8712),E=a(1713),u=a(8728),M=a(3020),x=a(8841),D=a(3921),A=a(522),L=a(3176),l=a(3601),$=a(129),R=a(4273);function P(me,De){const ke=me.getFullYear()-De.getFullYear()||me.getMonth()-De.getMonth()||me.getDate()-De.getDate()||me.getHours()-De.getHours()||me.getMinutes()-De.getMinutes()||me.getSeconds()-De.getSeconds()||me.getMilliseconds()-De.getMilliseconds();return ke<0?-1:ke>0?1:ke}var V=a(2333),K=a(4233),X=a(8026),Q=a(5645),de=a(6727),se=a(1416),ce=a(1761),z=a(7141),w=a(4525),j=a(2671),W=a(8363),ne=a(1280),fe=a(2011),ae=a(5204),Ae=a(3693),Me=a(6088),Ve=a(3747),We=a(3953),lt=a(4006);const nt=["book/rooms","book/spaces","book/meeting","schedule/view","confirm/success","upcoming"];let Ie=(()=>{class me extends V.Tv{get options_value(){return this._options.getValue()}get is_multiday(){return this._event.getValue()?.duration>1440}get view(){return this._view.getValue()}get form(){return this._form}get event(){return this._event.getValue()}get favorite_spaces(){return this._settings.get("favourite_spaces")||[]}get has_calendar(){return!0!==this._settings.get("app.events.use_bookings")}constructor(ke,Qe,Ne,at,Lt,Kt){super(),this._org=ke,this._router=Qe,this._payments=Ne,this._settings=at,this._assets=Lt,this._dialog=Kt,this._view=new v.t("form"),this._options=new v.t({zone_ids:[],features:[]}),this._form=(0,ce.Ss)(void 0,this._settings),this._date=new v.t(Date.now()),this._event=new v.t(null),this._loading=new v.t(""),this._changed=new v.t(0),this.last_success=new de.L(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_event")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.booking_rules=this._org.building_list.pipe((0,y.n)(Se=>Promise.all(Se.map(ve=>(0,f.bpY)(ve.id,"room_booking_rules").toPromise()))),(0,O.T)(Se=>{const ve={};for(const N of Se)ve[N.id]=N.details instanceof Array?N.details:[];return ve}),(0,m.t)(1)),this.spaces=(0,b.zV)([this._options.pipe((0,E.w)("zone_ids")),this._org.active_building.pipe((0,u.p)(Se=>!!Se),(0,E.w)("id"))]).pipe((0,M.B)(300),(0,x.M)(Se=>this.unsubWith("bind:")),(0,y.n)(([{zone_ids:Se}])=>{this._loading.next("Loading space list for location...");const ve=this._settings.get("app.use_region");return Se?.length||(Se=[(ve?this._org.building?.parent_id:this._org.building?.id)||this._org.building?.id]),(0,C.p)(Se.map(N=>(0,W.Ot)(N).pipe((0,D.W)(()=>(0,g.of)([])))))}),(0,O.T)(Se=>(0,V.Bq)(Se)),(0,x.M)(Se=>this._loading.next("")),(0,m.t)(1)),this.features=this.spaces.pipe((0,O.T)(Se=>(0,V.Am)((0,V.Bq)(Se.map(ve=>ve.features))))),this.filtered_spaces=(0,b.zV)([this.spaces,this.options]).pipe((0,O.T)(([Se,{show_fav:ve,features:N,capacity:ie}])=>Se.filter(Y=>{const ye=((0,V.Ny)()?.email||"@").split("@")[1],Ze=(this._settings.get("app.events.restrict_spaces")||{})[ye],Ft=this._settings.get("app.events.limit_spaces")||{},sn=Object.keys(Ft),_n=Y.zones.find(Rt=>sn.includes(Rt));return Y.bookable&&(!Ze||Y.zones.includes(Ze))&&(!_n||Ft[_n]===ye)&&(!ve||this.favorite_spaces.includes(Y.id))&&N.every(Rt=>Y.features.includes(Rt))&&Y.capacity>=Math.max(0,ie||0)}).slice(0,Math.min(100,Se.length))),(0,m.t)(1)),this._space_bookings=(0,b.zV)([this.spaces,this.filtered_spaces]).pipe((0,A.F)(([Se],[ve])=>Se!==ve),(0,y.n)(([Se,ve])=>(0,b.zV)((ve||[]).map(N=>{const ie=(0,f.f_4)(N.id,"Bookings").binding("bookings"),Y=ie.listen().pipe((0,O.T)(ye=>(ye||[]).map(Ze=>new de.L(Ze))));return this.hasSubscription(`bind:${N.id}`)||this.subscription(`bind:${N.id}`,ie.bind()),Y}))),(0,m.t)(1)),this.current_available_spaces=(0,b.zV)([this.filtered_spaces,this._space_bookings,this.booking_rules,(0,S.h)(this.form.valueChanges,(0,h.O)(1e3)),this._changed]).pipe((0,M.B)(300),(0,O.T)(([Se,ve,N])=>{this._loading.next("Updating available spaces...");let{ical_uid:ie,date:Y,duration:ye,all_day:Ze}=this._form.getRawValue();return((Se=(0,V.XE)(Se,{date:Y,duration:ye,resource:null,host:(0,V.Ny)()},N[this._org.building?.id]||[]))||[]).filter((Ft,sn)=>{const _n=Ze?(0,l.o)(Y).valueOf():Y,Rt=_n+6e4*(Ze?Math.max(1440,ye):ye);let en=ve[sn]||[];return this.last_success?.system?.id===Ft.id&&(en=[...en,this.last_success]),(0,ne.U1)(_n,Rt,en.filter(ht=>ht.ical_uid!==ie))}).sort((Ft,sn)=>Ft.capacity-sn.capacity)}),(0,x.M)(Se=>this._loading.next("")),(0,m.t)(1)),this.future_available_spaces=(0,b.zV)([this.filtered_spaces,this.booking_rules,this.form.valueChanges.pipe((0,M.B)(400),(0,L.Z)({}))]).pipe((0,u.p)(()=>!this._loading.getValue()),(0,M.B)(300),(0,y.n)(([Se,ve])=>{if(!Se.length)return(0,g.of)([]);this._loading.next("Retrieving available spaces...");let{date:N,duration:ie,all_day:Y}=this._form.getRawValue();return(this.has_calendar?se.UR:Q.kX)((Se=(0,V.XE)(Se,{date:N,duration:ie,resource:null,host:(0,V.Ny)()},ve[this._org.building?.id]||[])).map(({id:Ze})=>Ze),Y?(0,l.o)(N).valueOf():N,Y?Math.max(1440,ie):ie,this?.event?.resources[0]?.id||this.event?.system?.id||this.event?.id||void 0,void 0,[this.event?.date,this.event?.duration]).pipe((0,O.T)(Ze=>{var Ft=Se.filter((sn,_n)=>Ze[_n]);return(0,V.XE)(Ft,{date:N,duration:ie,resource:null,host:(0,V.Ny)()},ve[this._org.building?.id]||[])}),(0,D.W)(Ze=>[]))}),(0,x.M)(Se=>this._loading.next("")),(0,m.t)(1)),this.available_spaces=this._date.pipe((0,y.n)(Se=>{const ve=Math.abs(function F(me,De){const ke=(0,R.a)(me),Qe=(0,R.a)(De),Ne=P(ke,Qe),at=Math.abs((0,$.m)(ke,Qe));ke.setDate(ke.getDate()-Ne*at);const Kt=Ne*(at-+(P(ke,Qe)===-Ne));return 0===Kt?0:Kt}(Se,Date.now()));return ve<(this._settings.get("app.events.cache_duration_in_days")||14)?this.current_available_spaces:this.future_available_spaces}),(0,m.t)(1)),this.cancelPostForm=()=>this.unsub("post-event-form"),this._space_pipe=new fe.J(this._org),this.subscription("router.events",this._router.events.subscribe(Se=>{Se instanceof n.wF&&!nt.some(ve=>Se.url.includes(ve))&&this.clearForm()}));const Ot={};this.subscription("form_change",this._form.valueChanges.subscribe(({date:Se,duration:ve})=>{(Se&&Se!==Ot.date||ve&&ve!==Ot.duration)&&(this._assets.setOptions({date:this.form.value.date,duration:this.form.value.duration}),Ot.date=Se,Ot.duration=ve),Se&&Se!==this._date.getValue()&&this._date.next(Se),this.storeForm()}))}listenForStatusChanges(){this.subscription("status:rooms",this.available_spaces.subscribe())}setView(ke){this.timeout("set_view",()=>this._view.next(ke),50)}setOptions(ke){this._options.next({...this._options.getValue(),...ke})}newForm(ke=new de.L({all_day:this._settings.get("app.events.all_day_default")})){var Qe=this;return(0,t.A)(function*(){if(Qe._event.next(ke),ke.recurring_event_id){const Ne=yield(0,se.ue)(ke.recurring_event_id).toPromise().catch(at=>null);Ne&&(Qe._event.getValue().recurrence={...Ne.recurrence,_pattern:Ne.recurrence.pattern})}Qe._assets.setOptions({ignore:(0,V.Bq)(ke.linked_bookings?.map(Ne=>Ne.asset_ids||[Ne.asset_id])||[])});for(const Ne in ke.resources){const at=ke.resources[Ne];ke.resources[Ne]=yield Qe._space_pipe.transform(at.id||at.email)}Qe._date.next(ke.date),Qe.timeout("post-event-form",()=>{Qe._form.patchValue({date:ke.date||Qe._form.value.date})},1e3),Qe.resetForm()})()}resetForm(){this._form.reset();const ke=this._event.getValue()||{extension_data:{}};this._assets.setOptions({ignore:(0,V.Bq)(ke.linked_bookings?.map(Ne=>Ne.asset_ids||[Ne.asset_id])||[])});const Qe=!!ke.extension_data.catering[0];this._form.patchValue({...ke.extension_data,...ke,duration:ke.duration>=720?30:ke.duration,organiser:ke?.organiser||(0,V.Ny)()||new Ae.KJ({email:ke?.host}),catering_charge_code:ke.extension_data.catering[0]?.charge_code||(ke.id&&Qe?" ":""),assets:(ke.extension_data.assets||[]).map(Ne=>new Ve.Y({...Ne,event:ke}))}),this._form.patchValue({date:ke.date||this._form.value.date,date_end:ke.date_end||this._form.value.date_end}),this._options.next({features:[]}),this.storeForm()}clearForm(){sessionStorage.removeItem("PLACEOS.event_form"),this.unsubWith("status:"),this.unsubWith("bind:"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.event_form",JSON.stringify(this._form.getRawValue()||{}))}loadForm(){if(!sessionStorage.getItem("PLACEOS.event_form"))return this.newForm();const ke=JSON.parse(sessionStorage.getItem("PLACEOS.event_form")||"{}");ke.id&&ke.id!==this._event.getValue()?.id&&(0,se.ue)(ke.id).subscribe(Qe=>{this._event.next(Qe),this._assets.setOptions({ignore:(0,V.Bq)(Qe.linked_bookings?.map(Ne=>Ne.asset_ids||[Ne.asset_id])||[])})}),this._form.patchValue({...ke})}openEventLinkModal(ke=!1){const Qe=this._form;if(Qe.markAllAsTouched(),!Qe.valid&&!ke)return;const Ne=new de.L({...Qe.getRawValue(),assets:[]});this._dialog.open(j.t,{data:Ne}).afterClosed().subscribe(Lt=>Lt?this._router.navigate(["/"]):"")}postForm(ke=!1,Qe=[],Ne=!1){var at=this;return new Promise(function(){var Lt=(0,t.A)(function*(Kt,Ot){at._loading.next("Creating event...");const Se=at._form;Se.markAllAsTouched();const ve=at.event||new de.L;if(!Se.valid&&!ke)return at._loading.next(""),Ot(`Some form fields are invalid. [${(0,V.F7)(Se).join(", ")}]`);const N=at.event?.ical_uid;let ie=at._form.getRawValue(),{id:Y,host:ye,date:Ze,duration:Ft,creator:sn,all_day:_n,assets:Rt,recurrence:en}=ie,ht=Se.get("resources")?.value||[];Qe.length&&(ht=ht.filter(Tt=>!Qe.includes(Tt.email)&&!Qe.includes(Tt.id)));let pt=Se.get("catering")?.value||[];en?._pattern&&"none"!==en?._pattern&&(at.form.patchValue({recurring:!0}),ie=at._form.getRawValue());let Ct=!1,Mt=ht.some(Tt=>!ve.resources?.find(Ut=>Ut.id===Tt.id));(!Y||Ze!==ve.date||Ft!==ve.duration)&&ht.length&&(Ct=!0,yield at.checkSelectedSpacesAreAvailable(ht,_n?(0,l.o)(Ze).valueOf():Ze,_n?Math.max(1440,Ft):Ft,N||Y||"").catch(Tt=>{throw at._loading.next(""),Ot(Tt),Tt})),ht=Se.get("resources")?.value||[];const $t=ye===(0,V.Ny)()?.email||sn===(0,V.Ny)()?.email;if(!ht.length&&at._settings.get("app.events.no_space_resource")){const Tt=yield at._space_pipe.transform(at._settings.get("app.events.no_space_resource"));ht.push(Tt)}const nn=(0,V.Am)([...ie.attendees,ie.organiser||(0,V.Ny)()],"email");if(!ht.length&&nn.find(Tt=>Tt.is_external)){at._loading.next("");const Tt="External attendees require a space to be booked";throw Ot(Tt),Tt}const Sn=ht[0]?.id,In=Y?{system_id:at.event?.resources[0]?.id||at.event?.system?.id||Sn}:{};if($t&&!Ne&&(In.calendar=ye||sn),at._payments.payment_module&&ht.length){const Tt=yield at._payments.makePayment({type:"space",resource_name:ht[0].display_name||ht[0].name,date:Ze,duration:Ft,all_day:_n});if(!Tt?.success)return at._loading.next("");ie.extension_data={invoice:Tt,invoice_id:Tt.invoice_id}}const Fn=ie.date;for(const Tt of pt)Tt.notes=ie.catering_notes,Tt.charge_code=ie.catering_charge_code;if(ht.length){let[Tt,Ut]=[0,0];for(const Ke of ht){const Fe=at._settings.get(`app.events.overflow.${Ke.id}`);Fe?.setup&&(Tt=Fe.setup),Fe?.breakdown&&(Ut=Fe.breakdown)}ie.setup=ie.setup_time||Tt,ie.breakdown=ie.breakdown_time||Ut}const $n=(Rt||[]).map(Tt=>new Ve.Y(Tt).toJSON()),ut=yield at._makeBooking(new de.L({...ie,old_system:at.event?.system,host:at._settings.get("app.events.force_host")||(at._settings.get("app.events.room_as_host")?ie.resources[0].email:"")||ie.host,title:ie.title||"Space Booking",attendees:nn.map(Tt=>{const Ut={...Tt};return delete Ut.visit_expected,Ut}),date:Fn,catering:pt,assets:$n,extension_data:at._settings.get("app.events.force_host")||at._settings.get("app.events.room_as_host")?{host_override:ie.host,department:ie.organiser?.department||(0,V.Ny)()?.department}:{department:ie.organiser?.department||(0,V.Ny)()?.department}}),In).catch(Tt=>{throw Ot(Tt),at._loading.next(""),Tt}),Pe=((0,V.Ny)()?.email||"@").split("@")[1],je=nn.filter(Tt=>Tt.is_external&&Tt.email!==ve.host&&!Tt.email.includes(Pe)&&Tt.visit_expected);let Te=!1;const Ye=function(){var Tt=(0,t.A)(function*(Ut){if(at.form.value.id){if(Te)return void(0,V.UG)(`Unable to update all asset requests for event.\n${Ut}`)}else yield(0,se.Nn)(ut.id,ht.length?{calendar:at.form.value.host||(0,V.Ny)()?.email,system_id:ht[0].id}:{}).toPromise(),console.warn("Couldn't update asset requests",Ut),(0,V.UG)(409===Ut?.status?"Some assets are already booked for the selected time":"Unable to book the selected assets.");throw at._loading.next(""),Ut});return function(Ke){return Tt.apply(this,arguments)}}();if(je.length&&(yield(0,Q.Kq)(ut,"visitor",je).catch(Ye)),Rt?.length||ve.extension_data.assets?.length){Te=!0;const Tt=yield(0,ae.en)(ut,{date:Ze,duration:Ft,host:ye,all_day:_n,location_name:ht[0]?.display_name||ht[0]?.name||"",location_id:ht[0]?.id||"",zones:ht[0]?.level?.parent_id?(0,V.Am)([at._org.organisation.id,at._org.region?.id,ht[0]?.level?.parent_id,ht[0]?.level?.id]).filter(Ut=>!!Ut):[at._org.building?.id],reset_state:Ct},Rt,Mt||Ct).catch(Ye);if(!Tt)throw"Unable to validate asset requests";yield Tt(),Te=!1}at.clearForm(),at.last_success=ut,sessionStorage.setItem("PLACEOS.last_booked_event",JSON.stringify(ut)),at.setView("success"),at.timeout("post_finshed",()=>at._changed.next(Date.now())),Kt(ut),at._loading.next("")});return function(Kt,Ot){return Lt.apply(this,arguments)}}())}_makeBooking(ke,Qe){var Ne=this;return(0,t.A)(function*(){return Ne._updateVisitorList(ke.attendees),(Ne.has_calendar?(0,se.Az)(ke,Qe):(0,Q.X0)((0,z.s8)({...ke.toJSON(),status:Ne._settings.get("app.bookings.no_approval")?"approved":"tentative"})).pipe((0,O.T)(at=>(0,ce.Uv)(at)))).toPromise()})()}checkSelectedSpacesAreAvailable(ke,Qe,Ne,at){var Lt=this;return(0,t.A)(function*(){if(!ke?.length)return!0;if(Lt.has_calendar){if(!(yield(0,se.UR)(ke.map(({id:Ot})=>Ot),Qe,Ne,Lt?.event?.resources[0]?.id||Lt.event?.system?.id||Lt.event?.id||void 0,void 0,[Lt.event?.date,Lt.event?.duration]).toPromise()).every(Ot=>Ot))throw(ke.length>1?"The selected space":"Some of the selected spaces")+" is not available at the selected time"}else if(!(yield(0,Q.kX)(ke.map(Ot=>Ot.id),Qe,Ne,at).toPromise()).every(Ot=>Ot))throw(ke.length>1?"The selected space":"Some of the selected spaces")+" are not available at the selected time";return!0})()}_updateVisitorList(ke){const Qe=ke.filter(at=>at.is_external);if(!Qe?.length)return;const Ne=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",(0,V.Am)([...Ne.filter(at=>!at.includes(at.email)),...Qe.map(at=>`${at.email}|${at.name}|${at.organisation}`)]))}static#e=this.\u0275fac=function(Qe){return new(Qe||me)(We.KVO(X.y),We.KVO(n.Ix),We.KVO(w.h),We.KVO(K.h),We.KVO(Me.R),We.KVO(lt.bZ))};static#t=this.\u0275prov=We.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},2671:(At,ue,a)=>{"use strict";a.d(ue,{t:()=>y});var t=a(4006),n=a(4571),v=(a(6727),a(2333)),b=a(3953),C=a(9434),g=a(6600),S=a(6781),h=a(4616);let y=(()=>{class O{constructor(E,u){this._event=E,this._dialog=u,this.outlook_link=(0,n.gP)(this._event),this.google_link=(0,n.dB)(this._event),this.ical_link=(0,n._V)(this._event),this.has_actioned=!1}close(){if(!this.has_actioned)return(0,v.UG)("You need to select a calendar option to finish creating this booking");this._dialog.close(!0)}static#e=this.\u0275fac=function(u){return new(u||O)(b.rXU(t.Vh),b.rXU(t.CP))};static#t=this.\u0275cmp=b.VBU({type:O,selectors:[["event-link-modal"]],decls:24,vars:13,consts:()=>{let E,u,M,x,D;return E=$localize`:29e3480e3d010232704522cde3ca29d23cc7725f5139383754155835256:Add event to your calendar`,u=$localize`:34c16b14ad0e33db574c8bea543e66e766aa3a014015832758698516701:Create in Outlook`,M=$localize`:f745484670e6b6bbb8a1c327c222e665fb25b8633788591245559456526:Create in Google Calendar`,x=$localize`:1af54061e7f4bcfb1048ffaa05c9b8f7c4b416794894641609416495396:Download iCal File`,D=$localize`:4dc1e9a4bbd21cf153990984cd4ecb44441170986327967827692127661: Close `,[E,u,M,x,D,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"click","href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["btn","","matRipple","",1,"w-64",3,"click"],["icon","","matRipple","",1,"absolute","top-2","right-0",3,"mat-dialog-close"]]},template:function(u,M){1&u&&(b.j41(0,"div",5),b.pXf(1,0),b.k0s(),b.j41(2,"div",6)(3,"a",7),b.nI1(4,"sanitize"),b.bIt("click",function(){return M.has_actioned=!0}),b.nrm(5,"img",8),b.j41(6,"span"),b.pXf(7,1),b.k0s()(),b.j41(8,"a",7),b.nI1(9,"sanitize"),b.bIt("click",function(){return M.has_actioned=!0}),b.nrm(10,"img",9),b.j41(11,"span"),b.pXf(12,2),b.k0s()(),b.j41(13,"a",7),b.nI1(14,"safe"),b.bIt("click",function(){return M.has_actioned=!0}),b.j41(15,"app-icon",10),b.EFF(16,"download"),b.k0s(),b.j41(17,"span"),b.pXf(18,3),b.k0s()(),b.j41(19,"button",11),b.bIt("click",function(){return M.close()}),b.pXf(20,4),b.k0s()(),b.j41(21,"button",12)(22,"app-icon"),b.EFF(23,"close"),b.k0s()()),2&u&&(b.R7$(3),b.Y8G("href",b.i5U(4,4,M.outlook_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(9,7,M.google_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(14,10,M.ical_link,"url"),b.B4B),b.R7$(8),b.Y8G("mat-dialog-close",M.has_actioned))},dependencies:[t.tx,C.R,g.r6,S.m,h.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return O})()},6727:(At,ue,a)=>{"use strict";a.d(ue,{L:()=>$,i:()=>L});var t=a(2333),n=a(5987),f=a(9548),v=a(7926),b=a(2037),C=a(3601),g=a(4512),S=a(5818),h=a(4361),y=a(9255),O=a(9015),m=a(9824),E=a(5555),u=a(735),M=a(3693),x=a(1280),D=a(3747);let A={id:"default",name:"Default User"};function L(R){R&&(A=R)}const l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];class ${get images(){return this.extension_data.images||[]}get is_all_day(){return this.all_day||this.duration>=720}get view_access(){return this.extension_data.view_access||"PRIVATE"}ext(F){return this.extension_data[F]}constructor(F={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=F.event_id||F.id||"",this.event_start=F.event_start||(0,n._)(F.date||(0,f.X)((0,v.z)(new Date,3),{nearestTo:5})),this.event_end=F.event_end||(0,n._)((0,v.z)(1e3*this.event_start,F.duration||30)),this.calendar=F.calendar||"",this.creator=(F.creator||A.email)?.toLowerCase()||"",this.host=(F.host||this.creator||F.host_email||A.email||"").toLowerCase();const P=F.attendees||[];this.attendees=P.filter(se=>!se.resource).map(se=>new M.KJ(se)),this.resources=(0,t.Am)(F.resources||P.filter(se=>se.resource).map(se=>new u.$(se)),"email")||[],this.title=F.title,this.body=F.body||"",this.private=!!F.private,this.all_day=!!F.all_day,this.date=1e3*this.event_start||this.date,this.date_end=1e3*this.event_end||this.date_end,this.duration=(0,b.o)(this.date_end,this.date),this.all_day&&(this.date=(0,C.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-1),this.date_end=(0,g.D)((0,v.z)(this.date,this.duration).valueOf()-1).getTime());const k=this.body.match(/\[ID\|([^\]]+)\]/),V=k?k[1]:null;this.timezone=F.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.meeting_url=F.meeting_url||F.online_meeting_url||"",this.meeting_id=V||F.meeting_id||F.online_meeting_id||"",this.meeting_provider=F.meeting_provider||F.online_meeting_provider||"",this.recurring=!!F.recurring,this.recurring_event_id=F.recurring_event_id||"",this.organiser=this.attendees.find(se=>se.email===this.host),this.from_bookings=F.from_bookings??!1,this.master=F.master?new $(F.master):null,this.mailbox=F.mailbox||"",this.ical_uid=F.ical_uid,this.linked_bookings=F.linked_bookings||[],this.update_master=F.update_master??!1,this.recurrence=F.recurring?{start:1e3*this.event_start||new Date(1e3*F.recurrence.range_start).valueOf(),end:F.recurrence.end||new Date(1e3*F.recurrence.range_end).valueOf(),interval:F.recurrence.interval,pattern:F.recurrence.pattern,occurrences:F.recurrence.occurrences,days_of_week:F.recurrence.days_of_week?.map(se=>"number"==typeof se?se:l.indexOf(se))||[]}:{};const K=F.system;K?.email&&!this.resources.find(se=>se.email===K.email)&&this.resources.push(new u.$(K)),this.system=K||this.resources[0]||null,!K&&F.system_id&&(this.system={id:F.system_id}),this.old_system=F.old_system||F.system,this.is_system_event=this.body.includes("main_event_id"),this.attachments=F.attachments||[],this.extension_data=F.extension_data||{},this.status=(0,x.NU)({...F,...this})||"none",this.location=F.location||this.space?.display_name||this.space?.name||"",this.setup_time=F.setup_time||0,this.breakdown_time=F.breakdown_time||0,this.type="declined"===this.status?"cancelled":this.attendees.find(se=>se.is_external)?"external":"internal";for(const se in F)se in this||(this.extension_data[se]=F[se]||this.extension_data[se]);const X={date:this.date,duration:this.duration,date_end:this.date_end,all_day:this.all_day,space:this.space,organiser:this.organiser};this.extension_data.catering=(this.extension_data.catering||[]).map(se=>new E.M({...se,event:X}));const Q=this.linked_bookings.filter(se=>"asset-request"===se.booking_type).map(se=>se.extension_data?.request).filter(se=>!!se),de=(Q.length?Q:this.extension_data.assets)||[];this.extension_data.images=this.extension_data.images||F.images||[],this.extension_data.assets=de.map(se=>new D.Y({...se,event:X}))}get guests(){return this.attendees.filter(F=>!!F.is_external)}get space(){return this.resources[0]||null}get is_today(){return(0,S.r)(this.date,Date.now())}get valid_catering(){return(this.ext("catering")||[]).filter(F=>F.deliver_at<this.date_end)}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const F=this.linked_bookings;return this._valid_asset_cache=(this.ext("assets")||[]).map(P=>new D.Y({...P,event:this})).filter(P=>P.deliver_at<this.date_end).map(P=>{const k=F.find(V=>V.extension_data.request_id===P.id);return k&&(P.state=k.approved?"approved":k.rejected?"rejected":"pending"),P}),this._valid_cache_expiry=(0,v.z)(Date.now(),5).valueOf(),this._valid_asset_cache}toJSON(){const F={...this},P=this.all_day?(0,C.o)(this.date):this.date,k=this.all_day?(0,g.D)(this.date_end).valueOf()+1:this.date_end;F.event_start=(0,n._)(P),F.event_end=(0,n._)(k);const V=this.attendees;this.recurring=this.recurrence?.pattern&&"none"!==this.recurrence._pattern,this.recurring&&(F.recurrence=(0,x.Ov)({...this.recurrence,start:this.date}),delete F.recurrence.start,delete F.recurrence.end),F.recurrence=F.recurrence&&Object.keys(F.recurrence).length?F.recurrence:null,F.attendees=(0,t.Am)([...V,...this.resources.map(K=>({...K,resource:!0}))],"email"),this.all_day&&(F.setup_time=0,F.breakdown_time=0,F.extension_data.all_day_date=(0,h.GP)(P,"yyyy-MM-dd")),F.extension_data.catering=F.extension_data.catering.map(K=>new E.M({...K,event:null})),F.extension_data.assets=F.extension_data.assets.map(K=>new D.Y({...K,event:null})),F.system_id=this.system?.id;for(const K of["catering","date","date_end","duration","status","linked_bookings","_valid_asset_cache","_valid_cache_expiry","type"])K in F&&delete F[K];return F.update_master||delete F.recurring_event_id,(0,t.Xm)(F),F}get state(){const F=new Date,P=this.date;return(0,y.Y)(F,(0,O.W)(P,{minutes:-15}))?"future":(0,y.Y)(F,P)?"upcoming":(0,y.Y)(F,(0,O.W)(P,{minutes:15}))?"started":(0,y.Y)(F,(0,O.W)(P,{minutes:this.duration}))?"in_progress":"done"}get can_check_in(){const F=new Date;return this.is_today||(0,m.d)(F,(0,v.z)(this.date,-5))&&(0,y.Y)(F,(0,v.z)(this.date,this.duration))}}},1416:(At,ue,a)=>{"use strict";a.d(ue,{A5:()=>K,Az:()=>A,Fk:()=>V,Nn:()=>L,OA:()=>P,S:()=>k,UR:()=>de,UU:()=>E,ue:()=>M,zZ:()=>X});var t=a(5157),n=a(4421),f=a(9714),v=a(5006),b=a(3921),C=a(8385),g=a(3693),S=a(6727),h=a(7926),y=a(5987),O=a(6576);const m="/api/staff/v1/events";function E(se){const ce=(0,C.z)(se);return(0,t.JtY)(`${m}${ce?"?"+ce:""}`).pipe((0,v.T)(z=>z.map(w=>new S.L(w))),(0,b.W)(z=>(0,n.of)([])))}function M(se,ce={}){const z=(0,C.z)(ce);return(0,t.JtY)(`${m}/${encodeURIComponent(se)}${z?"?"+z:""}`).pipe((0,v.T)(w=>new S.L(w)))}const A=(se,ce)=>{const z=se.update_master&&se.recurring_event_id||se.id;return delete se?.status,z?function D(se,ce,z={},w="patch"){const j=(0,C.z)(z);return("patch"===w?t.F6F:t.yJg)(`${m}/${encodeURIComponent(se)}${j?"?"+j:""}`,new S.L(ce).toJSON()).pipe((0,v.T)(W=>new S.L(W)))}(z,{...se,id:z},ce):function x(se){return(0,t.bEY)(`${m}`,new S.L(se).toJSON()).pipe((0,v.T)(ce=>new S.L(ce)))}(se)};function L(se,ce={}){const z=(0,C.z)(ce);return(0,t.yHY)(`${m}/${encodeURIComponent(se)}${z?"?"+z:""}`,{response_type:"void"})}function P(se,ce,z,w={}){const j=(0,C.z)({...w,state:z});return(0,t.bEY)(`${m}/${encodeURIComponent(se)}/guests/${ce}/checkin${j?"?"+j:""}`,"").pipe((0,v.T)(W=>new g.So(W)))}function k(se,ce,z={}){const w=(0,C.z)(z);return(0,t.bEY)(`${m}/${encodeURIComponent(se)}/attendee${w?"?"+w:""}`,ce).pipe((0,v.T)(j=>new g.So(j)))}function V(se,ce,z={}){const w=(0,C.z)(z);return(0,t.yHY)(`${m}/${encodeURIComponent(se)}/attendee/${encodeURIComponent(ce.email)}${w?"?"+w:""}`).pipe((0,v.T)(j=>new g.So(j)))}function K(se,ce,z={}){const w=(0,C.z)({...z});return(0,t.JtY)(`${m}/${encodeURIComponent(se)}/metadata/${encodeURIComponent(ce)}${w?"?"+w:""}`).pipe((0,v.T)(j=>j))}function X(se,ce,z,w={}){const j=(0,C.z)({...w});return(0,t.F6F)(`${m}/${encodeURIComponent(se)}/metadata/${encodeURIComponent(ce)}${j?"?"+j:""}`,z).pipe((0,v.T)(W=>W))}function de(se,ce,z,w,j,W=[0,0]){const ne=(0,h.z)(ce,z).valueOf();return(0,f.zV)([(0,O.Sh)({system_ids:se.join(),period_start:(0,y._)(ce),period_end:(0,y._)(ne)}).pipe((0,b.W)(fe=>(0,n.of)([]))),w&&se.includes(w)?(0,O.Yj)({period_start:(0,y._)(ce),period_end:(0,y._)(ne),system_ids:w}):(0,n.of)([])]).pipe((0,v.T)(([fe,ae])=>{const Ae=se.map(Me=>!!fe.find(Ve=>Ve.id===Me||Ve.resource?.id===Me));return ae.length&&ae[0].id===w&&se.includes(w)&&ae[0].inUseAt(W[0]||ce,W[1]||z)&&(Ae[se.indexOf(w)]=!0),Ae}))}},7758:(At,ue,a)=>{"use strict";a.d(ue,{j:()=>We});var t=a(467),n=a(177),f=a(9417),v=a(8834),b=a(6600),C=a(5084),g=a(4006),S=a(3719),h=a(9631),y=a(9183),O=a(5951),m=a(2013),E=a(1395),u=a(827),M=a(3953);function x(lt,nt){if(1&lt){const $e=M.RV6();M.j41(0,"button",8),M.bIt("click",function(){M.eBV($e);const me=M.XpG();return M.Njj(me.close.emit())}),M.j41(1,"app-icon"),M.EFF(2,"arrow_back"),M.k0s()()}}function D(lt,nt){1&lt&&M.nrm(0,"div",9)}function A(lt,nt){1&lt&&(M.j41(0,"div",18),M.EFF(1," Host "),M.k0s())}function L(lt,nt){if(1&lt&&(M.j41(0,"div",11),M.nrm(1,"a-user-avatar",12),M.j41(2,"div",13)(3,"div",14),M.EFF(4),M.k0s(),M.DNE(5,A,2,0,"div",15),M.k0s(),M.j41(6,"div",16),M.nrm(7,"div",17),M.k0s()()),2&lt){const $e=M.XpG().$implicit,Ie=M.XpG();M.R7$(),M.Y8G("user",$e),M.R7$(3),M.JRh($e.name),M.R7$(),M.Y8G("ngIf",Ie.host===$e.email),M.R7$(2),M.AVh("bg-success",$e.checked_in)("bg-pending",!$e.checked_in),M.Y8G("matTooltip",$e.checked_in?"Checked in":"Not checked in")}}function l(lt,nt){if(1&lt&&(M.qex(0),M.DNE(1,L,8,8,"div",10),M.bVm()),2&lt){const $e=nt.$implicit,Ie=M.XpG();M.R7$(),M.Y8G("ngIf",!$e.resource&&(Ie.host!==$e.email||Ie.show_host))}}let $=(()=>{class lt{constructor(){this.host="",this.show_host=!0,this.list=[],this.hide_close=!1,this.custom_title="",this.close=new M.bkB}static#e=this.\u0275fac=function(Ie){return new(Ie||lt)};static#t=this.\u0275cmp=M.VBU({type:lt,selectors:[["attendee-list"]],inputs:{host:"host",show_host:"show_host",list:"list",hide_close:"hide_close",custom_title:"custom_title"},outputs:{close:"close"},decls:8,vars:5,consts:()=>{let $e;return $e=$localize`:c68a77fe1aa97a8e5588bafc6b5cb8ced3e3d2885922903057904788374: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[$e,[1,"w-full","h-full","overflow-hidden","flex","flex-col","bg-base-100"],[1,"flex","items-center","border-b","border-base-200","p-2","min-h-12"],["close","","icon","","matRipple","",3,"click",4,"ngIf"],[1,"flex-1","text-center","font-medium"],["class","w-12",4,"ngIf"],[1,"flex-1","w-full","overflow-auto"],[4,"ngFor","ngForOf"],["close","","icon","","matRipple","",3,"click"],[1,"w-12"],["attendee","","class","flex items-center p-2 space-x-2 hover:bg-base-200",4,"ngIf"],["attendee","",1,"flex","items-center","p-2","space-x-2","hover:bg-base-200"],[3,"user"],[1,"flex-1","w-1/2"],[1,"truncate"],["class","opacity-60 text-sm",4,"ngIf"],[1,"p-2"],[1,"h-3","w-3","rounded-full",3,"matTooltip"],[1,"opacity-60","text-sm"]]},template:function(Ie,me){1&Ie&&(M.j41(0,"div",1)(1,"div",2),M.DNE(2,x,3,0,"button",3),M.j41(3,"div",4),M.pXf(4,0),M.k0s(),M.DNE(5,D,1,0,"div",5),M.k0s(),M.j41(6,"div",6),M.DNE(7,l,2,1,"ng-container",7),M.k0s()()),2&Ie&&(M.R7$(2),M.Y8G("ngIf",!me.hide_close),M.R7$(2),M.uP7(me.list.length)(me.custom_title?me.custom_title:1===me.list.length?"Attendee":"Attendees"),M.nnv(4),M.R7$(),M.Y8G("ngIf",!me.hide_close),M.R7$(2),M.Y8G("ngForOf",me.list))}})}return lt})();var R=a(1765),F=a(4035),V=(a(2671),a(711),a(7535)),K=a(5713),X=a(6727),Q=a(6202),de=a(4046),se=a(9434),ce=a(1193),z=a(4918),w=a(5277),j=a(907),W=a(3938),ne=a(9115),fe=a(4823),ae=a(4616),Ae=a(3208),Me=a(2011);let We=(()=>{class lt{ngOnInit(){return(0,t.A)(function*(){yield Q.U.pipe((0,de.$)($e=>!!$e)).toPromise(),(0,X.i)((0,Q.N)())})()}static#e=this.\u0275fac=function(Ie){return new(Ie||lt)};static#t=this.\u0275mod=M.$C({type:lt});static#n=this.\u0275inj=M.G2t({providers:[f.X1],imports:[n.MD,f.YN,f.X1,O.Wk,h.fS,S.RG,C.X6,v.Hl,g.hM,y.D6,m.c,E.h,b.pZ,u.l]})}return lt})();M.wjB(F.b,[n.Sq,n.bT,g.tx,se.R,ce.a,z.S,w.H,j.F,W.J,ne.kk,ne.fb,ne.Cp,b.r6,fe.oV,$],[n.oe,n.vh,ae.a]),M.wjB($,[n.Sq,n.bT,se.R,ce.a,b.r6,fe.oV],[]),M.wjB(R.w,[n.Sq,n.bT,se.R,ce.a,j.F],[n.P9,n.vh]),M.wjB(K.E,[n.bT,g.tx,se.R,z.S,Ae.U,ne.kk,ne.fb,ne.Cp,b.r6,$],[n.Jj,n.vh,ae.a,Me.J]),M.wjB(V.T,[n.bT,se.R,Ae.U,b.r6],[n.vh])},7535:(At,ue,a)=>{"use strict";a.d(ue,{T:()=>$});var t=a(467),n=a(2333),f=a(5713),v=a(2011),b=a(8026),g=(a(6727),a(3953)),S=a(4006);function h(R,F){if(1&R&&g.nrm(0,"img",15),2&R){const P=g.XpG(2);g.Y8G("source",P.event.images[0])}}function y(R,F){1&R&&(g.j41(0,"p",16),g.EFF(1," No description "),g.k0s())}function O(R,F){if(1&R&&(g.j41(0,"div"),g.EFF(1),g.k0s()),2&R){const P=g.XpG(2);g.R7$(),g.SpI(" ",P.space.display_name||P.space.name||""," ")}}function m(R,F){1&R&&(g.j41(0,"div",16),g.EFF(1," Room to be confirmed "),g.k0s())}function E(R,F){1&R&&(g.j41(0,"div",16),g.EFF(1," Remote event "),g.k0s())}function u(R,F){if(1&R){const P=g.RV6();g.j41(0,"button",2),g.bIt("click",function(){g.eBV(P);const V=g.XpG();return g.Njj(V.viewDetails())}),g.j41(1,"div",3),g.DNE(2,h,1,1,"img",4),g.k0s(),g.j41(3,"div",5)(4,"div",6),g.EFF(5),g.nI1(6,"date"),g.nI1(7,"date"),g.k0s(),g.j41(8,"h2",7),g.EFF(9),g.k0s(),g.j41(10,"div",8)(11,"p",9),g.EFF(12),g.k0s(),g.DNE(13,y,2,0,"p",10),g.k0s(),g.j41(14,"div",11)(15,"app-icon",12),g.EFF(16,"place"),g.k0s(),g.DNE(17,O,2,1,"div",13)(18,m,2,0,"div",10)(19,E,2,0,"div",10),g.k0s(),g.j41(20,"div",11)(21,"app-icon",12),g.EFF(22,"people"),g.k0s(),g.j41(23,"div",14),g.EFF(24),g.k0s()()()()}if(2&R){const P=g.XpG();g.R7$(2),g.Y8G("ngIf",null==P.event.images?null:P.event.images.length),g.R7$(3),g.Lme(" ",g.i5U(6,11,P.event.date,"EEE d MMM"),", ",g.i5U(7,14,P.event.date,P.time_format)," "),g.R7$(3),g.Y8G("title",P.event.title),g.R7$(),g.SpI(" ",P.event.title," "),g.R7$(3),g.JRh(P.raw_description),g.R7$(),g.Y8G("ngIf",!P.raw_description.trim()),g.R7$(4),g.Y8G("ngIf",P.is_onsite&&P.has_space),g.R7$(),g.Y8G("ngIf",P.is_onsite&&!P.has_space),g.R7$(),g.Y8G("ngIf",!P.is_onsite),g.R7$(5),g.SpI(" ",(null==P.event.attendees?null:P.event.attendees.length)||"0"," attending ")}}function M(R,F){if(1&R&&g.nrm(0,"img",15),2&R){const P=g.XpG(2);g.Y8G("source",P.event.images[0])}}function x(R,F){1&R&&(g.j41(0,"p",16),g.EFF(1," No description "),g.k0s())}function D(R,F){if(1&R&&(g.j41(0,"div"),g.EFF(1),g.k0s()),2&R){const P=g.XpG(2);g.R7$(),g.SpI(" ",P.space.display_name||P.space.name||""," ")}}function A(R,F){1&R&&(g.j41(0,"div",16),g.EFF(1," Room to be confirmed "),g.k0s())}function L(R,F){1&R&&(g.j41(0,"div",16),g.EFF(1," Remote event "),g.k0s())}function l(R,F){if(1&R){const P=g.RV6();g.j41(0,"button",17),g.bIt("click",function(){g.eBV(P);const V=g.XpG();return g.Njj(V.viewDetails())}),g.j41(1,"div",18),g.DNE(2,M,1,1,"img",4),g.k0s(),g.j41(3,"div",19)(4,"app-icon",20),g.EFF(5,"star"),g.k0s(),g.j41(6,"div",21),g.EFF(7,"Featured"),g.k0s()(),g.j41(8,"div",22)(9,"div",23)(10,"div",24),g.EFF(11),g.nI1(12,"date"),g.k0s(),g.j41(13,"div",25),g.EFF(14),g.nI1(15,"date"),g.k0s()(),g.j41(16,"div",26)(17,"h3",27),g.EFF(18),g.k0s(),g.j41(19,"div",28),g.EFF(20),g.nI1(21,"date"),g.nI1(22,"date"),g.nI1(23,"date"),g.k0s(),g.j41(24,"div",29)(25,"p",30),g.EFF(26),g.k0s(),g.DNE(27,x,2,0,"p",10),g.k0s(),g.j41(28,"div",11)(29,"app-icon",12),g.EFF(30,"place"),g.k0s(),g.DNE(31,D,2,1,"div",13)(32,A,2,0,"div",10)(33,L,2,0,"div",10),g.k0s(),g.j41(34,"div",11)(35,"app-icon",12),g.EFF(36,"people"),g.k0s(),g.j41(37,"div",14),g.EFF(38),g.k0s()()()(),g.j41(39,"div",31),g.EFF(40," View Details "),g.k0s()()}if(2&R){const P=g.XpG();g.R7$(2),g.Y8G("ngIf",null==P.event.images?null:P.event.images.length),g.R7$(9),g.SpI(" ",g.i5U(12,13,P.event.date,"MMM")," "),g.R7$(3),g.JRh(g.i5U(15,16,P.event.date,"d")),g.R7$(4),g.JRh(P.event.title),g.R7$(2),g.E5c(" ",g.i5U(21,19,P.event.date,"EEEE")," ",g.i5U(22,22,P.event.date,P.time_format)," - ",g.i5U(23,25,P.event.date+60*P.event.duration*1e3,P.time_format)," "),g.R7$(6),g.JRh(P.raw_description),g.R7$(),g.Y8G("ngIf",!P.raw_description.trim()),g.R7$(4),g.Y8G("ngIf",P.is_onsite&&P.has_space),g.R7$(),g.Y8G("ngIf",P.is_onsite&&!P.has_space),g.R7$(),g.Y8G("ngIf",!P.is_onsite),g.R7$(5),g.SpI(" ",(null==P.event.attendees?null:P.event.attendees.length)||"0"," attending ")}}let $=(()=>{class R{get time_format(){return this._settings.time_format}get is_onsite(){return"ONLINE"!==this.event?.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event?.extension_data.attendance_type}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(P,k,V){this._settings=P,this._dialog=k,this._org=V,this.raw_description=""}ngOnInit(){var P=this;return(0,t.A)(function*(){const k=new v.J(P._org),V=P.event.resources.find(K=>K.email!==P.group_event_calendar);P.space=yield k.transform(V?.id||V?.email),P.raw_description=P.removeHtmlTags(P.event.body)})()}removeHtmlTags(P){return(new DOMParser).parseFromString(P,"text/html").body.textContent||""}viewDetails(){this._dialog.open(f.E,{data:{event:this.event,concierge:!1}})}static#e=this.\u0275fac=function(k){return new(k||R)(g.rXU(n.h$),g.rXU(S.bZ),g.rXU(b.y))};static#t=this.\u0275cmp=g.VBU({type:R,selectors:[["group-event-card"]],inputs:{event:"event",featured:"featured"},decls:3,vars:2,consts:[["featured_card",""],["matRipple","","class","border border-base-300 hover:border-info flex flex-col bg-base-100 rounded-xl shadow hover:shadow-2xl overflow-hidden w-60 h-[20rem]",3,"click",4,"ngIf","ngIfElse"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","flex-col","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-60","h-[20rem]",3,"click"],[1,"relative","flex","items-center","justify-between","h-28","min-h-28","w-full","bg-base-200","overflow-hidden","border-b","border-base-200"],["auth","","class","absolute top-0 left-0 h-full w-full object-center object-cover",3,"source",4,"ngIf"],[1,"p-4","flex-1","h-1/2","w-full"],[1,"opacity-60","text-sm","text-left"],[1,"text-xl","mb-2","text-left","truncate","w-full",3,"title"],[1,"opacity-60","text-xs","flex-1","overflow-hidden","h-[4.5rem]","mb-2","text-left"],[1,"line-clamp-4"],["class","opacity-30",4,"ngIf"],[1,"flex","items-center","space-x-2","text-sm"],[1,"text-info"],[4,"ngIf"],[1,""],["auth","",1,"absolute","top-0","left-0","h-full","w-full","object-center","object-cover",3,"source"],[1,"opacity-30"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-[63rem]","max-w-full","h-56","mx-auto",3,"click"],[1,"relative","flex","items-center","justify-between","h-full","min-w-56","w-1/2","max-w-[20rem]","bg-base-200","overflow-hidden","border-r","border-base-200"],[1,"absolute","top-0","left-0","rounded-br-xl","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["details","",1,"flex","px-8","py-4","space-x-4"],[1,"flex","flex-col","items-center"],[1,"text-sm","opacity-30"],[1,"text-lg"],[1,"flex","flex-col","space-y-2"],[1,"text-left"],["time","",1,"text-sm","opacity-30","text-left"],[1,"h-20","overflow-hidden","text-left"],[1,"line-clamp-3"],[1,"absolute","top-4","right-4","bg-secondary","text-secondary-content","rounded","px-4","py-2","w-32","text-center","truncate"]],template:function(k,V){if(1&k&&g.DNE(0,u,25,17,"button",1)(1,l,41,28,"ng-template",null,0,g.C5r),2&k){const K=g.sdS(2);g.Y8G("ngIf",!V.featured)("ngIfElse",K)}},styles:["button[_ngcontent-%COMP%]{transition:box-shadow .3s,border .2s}"]})}return R})()},5713:(At,ue,a)=>{"use strict";a.d(ue,{E:()=>P});var t=a(467),n=a(3953),f=a(4006),v=a(2333),b=a(8030),C=a(2185),g=a(2011),S=a(1416);function h(k,V){if(1&k&&n.nrm(0,"img",36),2&k){const K=n.XpG();n.Y8G("source",null==K.event.extension_data?null:K.event.extension_data.images[0])}}function y(k,V){1&k&&(n.j41(0,"div",37)(1,"app-icon",38),n.EFF(2,"star"),n.k0s(),n.j41(3,"div",39),n.EFF(4,"Featured"),n.k0s()())}function O(k,V){if(1&k&&(n.qex(0),n.j41(1,"div",40)(2,"app-icon"),n.EFF(3,"star"),n.k0s(),n.j41(4,"div",41),n.EFF(5),n.k0s()(),n.j41(6,"div",40)(7,"app-icon"),n.EFF(8,"help"),n.k0s(),n.j41(9,"div",41),n.EFF(10),n.k0s()(),n.bVm()),2&k){const K=n.XpG();n.R7$(),n.AVh("bg-base-200",!K.is_interested)("text-base-content",!K.is_interested)("opacity-30",!K.is_interested)("bg-success",K.is_interested)("text-success-content",K.is_interested)("opacity-100",K.is_interested),n.R7$(4),n.SpI(" ",K.is_interested?"":"Not ","Interested "),n.R7$(),n.AVh("bg-base-200",!K.is_going)("text-base-content",!K.is_going)("opacity-30",!K.is_going)("bg-success",K.is_going)("text-success-content",K.is_going)("opacity-100",K.is_going),n.R7$(4),n.SpI(" ",K.is_going?"":"Not ","Going ")}}function m(k,V){if(1&k&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&k){let K;const X=n.XpG();n.R7$(),n.SpI(" ",null==(K=n.bMT(3,3,n.bMT(2,1,X.system_id)))?null:K.display_name," ")}}function E(k,V){1&k&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function u(k,V){if(1&k&&(n.j41(0,"div",42),n.EFF(1),n.k0s()),2&k){const K=n.XpG();n.R7$(),n.SpI(" ",K.is_onsite?"Can be attended online":"Remote Event"," ")}}function M(k,V){1&k&&(n.j41(0,"span",42),n.EFF(1," No description "),n.k0s())}function x(k,V){if(1&k&&n.nrm(0,"interactive-map",50),2&k){const K=n.XpG(2);n.Y8G("src",null==K.level?null:K.level.map_id)("features",K.features)("styles",K.styles)}}function D(k,V){if(1&k&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&k){let K;const X=n.XpG(2);n.R7$(),n.SpI(" ",null==(K=n.bMT(3,3,n.bMT(2,1,X.system_id)))?null:K.display_name," ")}}function A(k,V){1&k&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function L(k,V){if(1&k&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&k){const K=n.XpG(2);n.R7$(),n.Lme(" ",K.building.display_name||K.building.name,", ",(null==K.level?null:K.level.display_name)||(null==K.level?null:K.level.name)," ")}}function l(k,V){1&k&&(n.j41(0,"span",42),n.EFF(1," No location set for this event "),n.k0s())}function $(k,V){if(1&k&&(n.j41(0,"a",51),n.EFF(1),n.k0s()),2&k){const K=n.XpG(2);n.AVh("underline",K.event.meeting_url),n.Y8G("href",K.event.meeting_url,n.B4B),n.R7$(),n.SpI(" ",K.is_onsite?"Can be attended online":"Remote Event"," ")}}function R(k,V){if(1&k){const K=n.RV6();n.j41(0,"div",43)(1,"div",44)(2,"button",45),n.bIt("click",function(){n.eBV(K);const Q=n.XpG();return n.Njj(Q.viewLocation())}),n.DNE(3,x,1,3,"interactive-map",46),n.k0s(),n.j41(4,"div",47),n.DNE(5,D,4,5,"div",12)(6,A,2,0,"div",30),n.j41(7,"div",48),n.DNE(8,L,2,2,"span",12)(9,l,2,0,"span",30),n.k0s(),n.DNE(10,$,2,4,"a",49),n.k0s()()()}if(2&k){const K=n.XpG();n.R7$(3),n.Y8G("ngIf",!K.showing_map),n.R7$(2),n.Y8G("ngIf",K.is_onsite&&K.has_space),n.R7$(),n.Y8G("ngIf",K.is_onsite&&!K.has_space),n.R7$(2),n.Y8G("ngIf",K.building&&K.level),n.R7$(),n.Y8G("ngIf",!K.building||!K.level),n.R7$(),n.Y8G("ngIf",K.is_online)}}function F(k,V){if(1&k){const K=n.RV6();n.j41(0,"div",52)(1,"button",53),n.bIt("click",function(){n.eBV(K);const Q=n.XpG();return n.Njj(Q.show_attendees=!1)}),n.k0s(),n.j41(2,"div",54)(3,"attendee-list",55),n.bIt("click",function(){n.eBV(K);const Q=n.XpG();return n.Njj(Q.show_attendees=!1)}),n.k0s()()()}if(2&k){const K=n.XpG();n.R7$(3),n.Y8G("show_host",!1)("list",K.event.attendees)("host",K.event.user_email)}}let P=(()=>{class k{get time_format(){return this._settings.time_format}get featured(){return this.event.featured||this.event.extension_data?.featured}get is_onsite(){return"ONLINE"!==this.event.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event.extension_data.attendance_type}get body(){if(this.is_online)return this.event.body;let K=this.event.body;const X=['<div style="margin-bottom:24px; overflow:hidden; white-space:nowrap">________________________________________________________________________________</div>',"<p>________________________________________________________________________________</p>"];for(const Q of X){const de=K.indexOf(Q),se=K.lastIndexOf(Q);K=K.substring(0,de)+K.substring(se)}for(const Q of X)K=K.replace(Q,"");return K}get attendance(){return this.event.attendees?.filter(K=>K.checked_in)?.length||0}get is_interested(){return!!this.guest_details}get is_going(){return this.guest_details?.checked_in}get system_id(){return this.space?.id}get guest_details(){const K=(0,v.Ny)();return this.event.attendees?.find(X=>X.email===K.email)}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(K,X,Q,de,se){this._data=K,this._org=X,this._settings=Q,this._dialog=de,this._dialog_ref=se,this.edit=new n.bkB,this.remove=new n.bkB,this.event=this._data.event,this.concierge=this._data.concierge,this.features=[],this.locate="",this.showing_map=!1,this.show_attendees=!1,this.styles={},this.raw_description=""}ngOnInit(){var K=this;return(0,t.A)(function*(){const X=new g.J(K._org),Q=K.event.resources.find(z=>z.email!==K.group_event_calendar);K.space=yield X.transform(Q?.id||Q?.email);const de=K.event.extension_data?.map_id,se=K.space?.map_id||de;se&&(K.styles[`#${se}`]={fill:"green"},K.features=[{location:se,content:b.VT,data:{}}]);const ce=K.space?.zones||[];K.level=K._org.levelWithID(ce),K.building=K._org.buildings.find(z=>ce.includes(z.id))||K._org.building,K.locate=de||"",K.raw_description=K.removeHtmlTags(K.event.body)})()}removeHtmlTags(K){return((new DOMParser).parseFromString(K,"text/html").body.textContent||"").trim()}viewLocation(){if(!this.space?.map_id)return(0,v.uA)("Unable to locate space on map.");this.showing_map=!0,this._dialog.open(b.VJ,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.showing_map=!1})}toggleInterest(){var K=this;return(0,t.A)(function*(){let X=K.guest_details;console.log("User:",X,K.is_interested),K.is_interested&&X?(yield(0,S.Fk)(K.event.id,(0,v.Ny)(),{system_id:K.event.system?.id}).toPromise(),K.event.attendees=(K.event.attendees||[]).filter(Q=>Q.email!==X.email)):(X=yield(0,S.S)(K.event.id,(0,v.Ny)(),{system_id:K.event.system?.id}).toPromise(),K.event.attendees=(0,v.Am)([...K.event.attendees||[],X],"email"))})()}toggleAttendance(){var K=this;return(0,t.A)(function*(){let X=K.guest_details;if(X||(X=yield(0,S.S)(K.event.id,(0,v.Ny)(),{system_id:K.event.system?.id}).toPromise(),K.event.attendees=(0,v.Am)([...K.event.attendees||[],X],"email")),X={...(0,v.Ny)(),...X||{}},!X.email)return;yield(0,S.OA)(K.event.id,X.email,!K.is_going,{system_id:K.event.system?.id}).toPromise();const Q=K.event.attendees.find(de=>de.email===X.email);Q&&(Q.checked_in=!K.is_going)})()}static#e=this.\u0275fac=function(X){return new(X||k)(n.rXU(f.Vh),n.rXU(C.yb),n.rXU(v.h$),n.rXU(f.bZ),n.rXU(f.CP))};static#t=this.\u0275cmp=n.VBU({type:k,selectors:[["group-event-details-modal"]],outputs:{edit:"edit",remove:"remove"},decls:101,vars:38,consts:[["concierge_menu","matMenu"],["menu","matMenu"],[1,"relative","w-[48rem]","max-w-[calc(100vw-1rem)]","max-h-[80vh]","overflow-hidden"],[1,"relative","flex","items-center","justify-between","h-52","w-full","bg-base-200","overflow-hidden"],["auth","","class","absolute top-1/2 left-1/2 min-h-full min-w-full object-cover -translate-x-1/2 -translate-y-1/2",3,"source",4,"ngIf"],["class","absolute top-0 left-0 rounded-br py-2 pl-2 pr-4 space-x-2 bg-info text-info-content flex items-center text-sm",4,"ngIf"],["icon","","mat-dialog-close","",1,"absolute","top-1","right-1","overflow-hidden"],[1,"absolute","inset-0","bg-base-100","opacity-30","z-0"],[1,"z-10"],[1,"flex","items-center","justify-between","py-4","px-8","border-b","border-base-200"],[1,"text-left","text-xl"],[1,"flex","items-center","space-x-2"],[4,"ngIf"],["btn","","matRipple","",1,"clear","bg-base-200","text-base-content","w-[2.75rem]",3,"disabled","matMenuTriggerFor"],[1,"text-2xl"],["mat-menu-item","",3,"disabled"],[1,"mr-2"],["mat-menu-item","","mat-dialog-close","",3,"click"],["mat-menu-item","",3,"click"],[1,"text-2xl","text-error"],["mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"flex","flex-1","max-h-[calc(80vh-18rem)]","overflow-y-auto","overflow-x-hidden","p-8","space-x-6"],[1,"flex","flex-1","flex-col","space-y-2","w-1/3"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","justify-center","w-10","h-10","bg-base-200","rounded-full"],[1,"font-medium","pt-4"],[1,"flex","flex-col"],[1,"text-sm"],[1,"text-sm","opacity-30"],[1,"flex","flex-col","text-sm"],["class","opacity-30",4,"ngIf"],["matRipple","",1,"flex","items-center","space-x-4","rounded","min-h-12",3,"click"],[1,"text-sm","pb-4"],["event-details","",3,"innerHTML"],["class","flex w-[20rem]",4,"ngIf"],["class","absolute inset-0 z-50",4,"ngIf"],["auth","",1,"absolute","top-1/2","left-1/2","min-h-full","min-w-full","object-cover","-translate-x-1/2","-translate-y-1/2",3,"source"],[1,"absolute","top-0","left-0","rounded-br","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["btn","",1,"flex","items-center","px-4","h-10","rounded","space-x-2"],[1,"pr-2"],[1,"opacity-30"],[1,"flex","w-[20rem]"],[1,"border","border-base-300","w-full"],["matRipple","",1,"relative","w-full","h-40","bg-base-200",3,"click"],[3,"src","features","styles",4,"ngIf"],[1,"p-4","space-y-2"],[1,"opacity-30","text-sm","!mt-0"],["class","opacity-30 mt-4","target","_blank","rel","noopener noreferrer",3,"underline","href",4,"ngIf"],[3,"src","features","styles"],["target","_blank","rel","noopener noreferrer",1,"opacity-30","mt-4",3,"href"],[1,"absolute","inset-0","z-50"],[1,"absolute","inset-0","bg-base-content","opacity-60",3,"click"],[1,"absolute","left-1/2","-translate-x-1/2","w-[24rem]","inset-y-8","rounded","shadow","overflow-hidden"],[3,"click","show_host","list","host"]],template:function(X,Q){if(1&X){const de=n.RV6();n.j41(0,"div",2)(1,"div",3),n.DNE(2,h,1,1,"img",4),n.k0s(),n.DNE(3,y,5,0,"div",5),n.j41(4,"button",6),n.nrm(5,"div",7),n.j41(6,"app-icon",8),n.EFF(7,"close"),n.k0s()(),n.j41(8,"div",9)(9,"h3",10),n.EFF(10),n.k0s(),n.j41(11,"div",11),n.DNE(12,O,11,26,"ng-container",12),n.j41(13,"button",13)(14,"app-icon",14),n.EFF(15,"more_horiz"),n.k0s()(),n.j41(16,"mat-menu",null,0)(18,"button",15)(19,"div",11)(20,"app-icon",14),n.EFF(21," confirmation_number "),n.k0s(),n.j41(22,"div",16),n.EFF(23,"Promote Event"),n.k0s()()(),n.j41(24,"button",17),n.bIt("click",function(){return n.eBV(de),n.Njj(Q.edit.emit())}),n.j41(25,"div",11)(26,"app-icon",14),n.EFF(27,"edit"),n.k0s(),n.j41(28,"div",16),n.EFF(29,"Edit Event"),n.k0s()()(),n.j41(30,"button",15)(31,"div",11)(32,"app-icon",14),n.EFF(33,"content_copy"),n.k0s(),n.j41(34,"div",16),n.EFF(35,"Copy URL"),n.k0s()()(),n.j41(36,"button",18),n.bIt("click",function(){return n.eBV(de),n.Njj(Q.remove.emit())}),n.j41(37,"div",11)(38,"app-icon",19),n.EFF(39," delete "),n.k0s(),n.j41(40,"div",16),n.EFF(41,"Delete Event"),n.k0s()()()(),n.j41(42,"mat-menu",null,1)(44,"button",20),n.bIt("click",function(){return n.eBV(de),n.Njj(Q.toggleInterest())}),n.j41(45,"div",11)(46,"app-icon"),n.EFF(47," star "),n.k0s(),n.j41(48,"span"),n.EFF(49),n.k0s()()(),n.j41(50,"button",18),n.bIt("click",function(){return n.eBV(de),n.Njj(Q.toggleAttendance())}),n.j41(51,"div",11)(52,"app-icon"),n.EFF(53," help "),n.k0s(),n.j41(54,"span"),n.EFF(55),n.k0s()()()()()(),n.j41(56,"div",21)(57,"div",22)(58,"div",23)(59,"div",24)(60,"app-icon"),n.EFF(61,"person"),n.k0s()(),n.j41(62,"div"),n.EFF(63),n.k0s()(),n.j41(64,"h3",25),n.EFF(65,"When and where"),n.k0s(),n.j41(66,"div",23)(67,"div",24)(68,"app-icon"),n.EFF(69,"calendar_today"),n.k0s()(),n.j41(70,"div",26)(71,"div",27),n.EFF(72,"Date and Time"),n.k0s(),n.j41(73,"div",28),n.EFF(74),n.nI1(75,"date"),n.nI1(76,"date"),n.nI1(77,"date"),n.k0s()()(),n.j41(78,"div",23)(79,"div",24)(80,"app-icon"),n.EFF(81,"place"),n.k0s()(),n.j41(82,"div",29),n.DNE(83,m,4,5,"div",12)(84,E,2,0,"div",30)(85,u,2,1,"div",30),n.k0s()(),n.j41(86,"button",31),n.bIt("click",function(){return n.eBV(de),n.Njj(Q.show_attendees=!0)}),n.j41(87,"div",24)(88,"app-icon"),n.EFF(89,"person"),n.k0s()(),n.j41(90,"div"),n.EFF(91),n.k0s()(),n.j41(92,"h3",25),n.EFF(93,"About this event"),n.k0s(),n.j41(94,"div",32),n.nrm(95,"span",33),n.nI1(96,"sanitize"),n.DNE(97,M,2,0,"span",30),n.k0s()(),n.j41(98,"div"),n.DNE(99,R,11,6,"div",34),n.k0s()()(),n.DNE(100,F,4,3,"div",35)}if(2&X){const de=n.sdS(17),se=n.sdS(43);n.R7$(2),n.Y8G("ngIf",null==Q.event.extension_data||null==Q.event.extension_data.images?null:Q.event.extension_data.images.length),n.R7$(),n.Y8G("ngIf",Q.featured),n.R7$(7),n.SpI(" ",Q.event.title," "),n.R7$(2),n.Y8G("ngIf",!Q.concierge),n.R7$(),n.Y8G("disabled","done"===Q.event.state)("matMenuTriggerFor",Q.concierge?de:se),n.R7$(5),n.Y8G("disabled",!0),n.R7$(12),n.Y8G("disabled",!0),n.R7$(16),n.AVh("text-error",Q.is_interested),n.R7$(3),n.SpI(" ",Q.is_interested?"Revoke":"Indicate"," Interest "),n.R7$(3),n.AVh("text-error",Q.is_going),n.R7$(3),n.SpI(" ",Q.is_going?"Revoke":"Indicate"," Going "),n.R7$(8),n.SpI(" Event by ",(null==Q.event.organiser?null:Q.event.organiser.name)||Q.event.host," "),n.R7$(11),n.E5c(" ",n.i5U(75,27,Q.event.date,"EEEE, d MMMM, yyyy")," . ",n.i5U(76,30,Q.event.date,Q.time_format)," - ",n.i5U(77,33,Q.event.date+60*Q.event.duration*1e3,Q.time_format)," "),n.R7$(9),n.Y8G("ngIf",Q.is_onsite&&Q.has_space),n.R7$(),n.Y8G("ngIf",Q.is_onsite&&!Q.has_space),n.R7$(),n.Y8G("ngIf",Q.is_online),n.R7$(6),n.Lme(" ",Q.attendance," going, ",null==Q.event.attendees?null:Q.event.attendees.length," interested "),n.R7$(4),n.Y8G("innerHTML",n.bMT(96,36,Q.body),n.npT),n.R7$(2),n.Y8G("ngIf",!Q.raw_description.trim()),n.R7$(2),n.Y8G("ngIf",Q.level),n.R7$(),n.Y8G("ngIf",Q.show_attendees)}}})}return k})()},1280:(At,ue,a)=>{"use strict";a.d(ue,{NU:()=>D,qq:()=>L,Ov:()=>A,U1:()=>$});var t=a(906);function n(F,P){return(0,t.f)(F,7*P)}var v=a(5458),b=a(6299),C=a(5987),g=a(3601),S=a(4512),h=a(4361),y=a(7926),O=a(9824),m=a(2037),E=a(2357);function u(F,P){return+(0,E.c)(F)==+(0,E.c)(P)}const x=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function D(F){return"cancelled"===F.status?"declined":F.resources?.length?F.resources.every(P=>"accepted"===P.response_status||F.approved)?"approved":F.resources.some(P=>"tentative"===P.response_status||"needsAction"===P.response_status)?"tentative":"declined":"approved"}function A(F){let P=F.start||1e3*F.range_start,k=F.end||F.range_end;if(F.occurrences>1)switch(F.pattern){case"daily":k=(0,t.f)(P||Date.now(),(F.occurrences-1)*F.interval).valueOf();break;case"weekly":k=n(P||Date.now(),(F.occurrences-1)*F.interval).valueOf();break;case"month_day":case"monthly":k=(0,v.P)(P||Date.now(),(F.occurrences-1)*F.interval).valueOf(),k=(0,t.f)(k,7).valueOf();break;case"yearly":k=(0,b.e)(P||Date.now(),(F.occurrences-1)*F.interval).valueOf()}return{range_start:(0,C._)((0,g.o)(P)),range_end:(0,C._)((0,S.D)(k)),interval:F.interval,pattern:F.pattern,days_of_week:F.days_of_week?.map(V=>"number"==typeof V?x[V]:V)||[]}}function L({interval:F,pattern:P,start:k,end:V,occurrences:K}){let X="";if(F){switch(P){case"daily":X=X.concat(F>1?`Every ${F} days`:"Daily"),K>1&&(V=(0,t.f)(k||Date.now(),(K-1)*F).valueOf());break;case"weekly":X=X.concat(F>1?`Every ${F} weeks`:"Weekly"),K>1&&(V=n(k||Date.now(),(K-1)*F).valueOf());break;case"month_day":case"monthly":X=X.concat(F>1?`Every ${F} months`:"Monthly"),K>1&&(V=(0,v.P)(k||Date.now(),(K-1)*F).valueOf());break;case"yearly":X=X.concat(F>1?`Every ${F} yeats`:"Yearly"),K>1&&(V=(0,b.e)(k||Date.now(),(K-1)*F).valueOf())}K>=1&&(X=X.concat(`, until ${(0,h.GP)(V,"MMM do, yyyy")}`))}return X}function $(F,P,k,V=29){const K=function l(F,P=29){let k=new Date(0);const V=[];F.sort((X,Q)=>X.date-Q.date);for(const X of F){const Q=new Date((0,y.z)(X.date,-X.extension_data?.setup_time||0)),de=(0,y.z)(X.date,X.duration+(X.extension_data?.breakdown_time||0));(0,O.d)(X.date,k)?(Math.abs((0,m.o)(Q,k))>=P&&V.push({start:k.valueOf(),end:X.date}),k=de):u(k,X.date)&&(k=de)}const K=k.valueOf();return V.push({start:K,end:10*(K||Date.now())}),V}(k,V);for(const X of K)if(F>=X.start&&F<X.end&&P>X.start&&P<=X.end)return!0;return!1}},711:(At,ue,a)=>{"use strict";a.d(ue,{N:()=>A});var t=a(467),n=a(9417),f=a(4006),v=a(6727),b=a(1416),C=a(2333),g=a(3953),S=a(177),h=a(9183),y=a(3476),O=a(9434),m=a(6600);const E=()=>[5,10];function u(L,l){1&L&&(g.j41(0,"button",5)(1,"app-icon"),g.EFF(2,"close"),g.k0s()())}function M(L,l){if(1&L&&(g.j41(0,"main",6)(1,"div",7)(2,"label",8),g.EFF(3,"Setup Duration"),g.k0s(),g.nrm(4,"a-duration-field",9),g.k0s(),g.j41(5,"div",7)(6,"label",10),g.EFF(7,"Breakdown Duration"),g.k0s(),g.nrm(8,"a-duration-field",11),g.k0s()()),2&L){const $=g.XpG();g.Y8G("formGroup",$.form),g.R7$(4),g.Y8G("min",0)("custom_options",g.lJ4(5,E)),g.R7$(4),g.Y8G("min",0)("custom_options",g.lJ4(6,E))}}function x(L,l){if(1&L){const $=g.RV6();g.j41(0,"footer",12)(1,"button",13),g.bIt("click",function(){g.eBV($);const F=g.XpG();return g.Njj(F.save())}),g.EFF(2,"Save Changes"),g.k0s()()}}function D(L,l){1&L&&(g.j41(0,"div",14),g.nrm(1,"mat-spinner",15),g.j41(2,"p",16),g.EFF(3," Saving setup and breakdown durations... "),g.k0s()()),2&L&&(g.R7$(),g.Y8G("diameter",32))}let A=(()=>{class L{constructor($,R){this._event=$,this._dialog_ref=R,this.loading=!1,this.form=new n.gE({setup:new n.MJ(this._event.setup_time||0),breakdown:new n.MJ(this._event.breakdown_time||0)})}save(){var $=this;return(0,t.A)(function*(){$.loading=!0,$._dialog_ref.disableClose=!0;const P={system_id:$._event?.resources[0]?.id||$._event?.system?.id};let k=yield(0,b.Az)(new v.L({...$._event,setup_time:$.form.value.setup,breakdown_time:$.form.value.breakdown}).toJSON(),P).toPromise().catch(V=>null);if(k||(k=yield(0,b.zZ)($._event.id,P.system_id,{...$._event.extension_data,setup_time:$.form.value.setup,breakdown_time:$.form.value.breakdown,setup:$.form.value.setup,breakdown:$.form.value.breakdown}).toPromise().catch(V=>null)),!k)return $.loading=!1,$._dialog_ref.disableClose=!1,void(0,C.UG)("Error updating setup and breakdown.");(0,C.VX)("Succesfully updated setup and breakdown period."),$._dialog_ref.disableClose=!1,$.loading=!1,$._dialog_ref.close(k)})()}static#e=this.\u0275fac=function(R){return new(R||L)(g.rXU(f.Vh),g.rXU(f.CP))};static#t=this.\u0275cmp=g.VBU({type:L,selectors:[["setup-breakdown-modal"]],decls:8,vars:4,consts:[["load_state",""],[1,"space-x-4","min-h-16"],["btn","","icon","","mat-dialog-close","","matRipple","",4,"ngIf"],["class","p-4 min-w-[20rem] w-full",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4","min-w-[20rem]","w-full",3,"formGroup"],[1,"flex","flex-col","space-y-2"],["for","setup"],["name","setup","formControlName","setup",3,"min","custom_options"],["for","breakdown"],["name","breakdown","formControlName","breakdown",3,"min","custom_options"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","w-64"],[3,"diameter"],[1,"text-center","p-4"]],template:function(R,F){if(1&R&&(g.j41(0,"header",1)(1,"h2"),g.EFF(2,"Set Event's Setup and Breakdown"),g.k0s(),g.DNE(3,u,3,0,"button",2),g.k0s(),g.DNE(4,M,9,7,"main",3)(5,x,3,0,"footer",4)(6,D,4,1,"ng-template",null,0,g.C5r)),2&R){const P=g.sdS(7);g.R7$(3),g.Y8G("ngIf",!F.loading),g.R7$(),g.Y8G("ngIf",!F.loading)("ngIfElse",P),g.R7$(),g.Y8G("ngIf",!F.loading)}},dependencies:[S.bT,n.BC,n.cb,n.j4,n.JD,f.tx,h.LG,y.y,O.R,m.r6]})}return L})()},1761:(At,ue,a)=>{"use strict";a.d(ue,{Ss:()=>D,Uv:()=>$});var t=a(9417),n=a(9015),f=a(4273),C=a(5611),g=a(3601),S=a(9548),h=a(7926),y=a(2037),O=a(2333),m=a(6727),E=a(690),u=a(3693);(0,n.W)(function v(R,F){const P=(0,f.a)(R);return P.setMinutes(F),P}((0,C.a)(new Date,6),0),{days:-1});const x=R=>F=>R.value?.length&&!F.value?{catering_field:"Catering sub-fields are required"}:null;function D(R=new m.L,F){R||(R=new m.L);const P=new t.gE({id:new t.MJ(R.id),ical_uid:new t.MJ(R.ical_uid),host:new t.MJ(R.host||R.organiser?.email||(0,O.Ny)()?.email||"",[t.k0.required]),organiser:new t.MJ(R.organiser||new u.KJ({email:R.host||""})),creator:new t.MJ(R.creator||(0,O.Ny)()?.email),calendar:new t.MJ(R.calendar),attendees:new t.MJ(R.attendees||[]),resources:new t.MJ(R.resources||[]),title:new t.MJ(R.title),body:new t.MJ(R.body),private:new t.MJ(R.private),date:new t.MJ(R.date,[t.k0.required]),duration:new t.MJ(R.duration,[E.k]),all_day:new t.MJ(R.all_day),date_end:new t.MJ(R.date_end),recurring:new t.MJ(R.recurring),recurrence:new t.MJ(R.recurrence),recurring_event_id:new t.MJ(R.recurring_event_id),master:new t.MJ(R.master),attachments:new t.MJ(R.attachments),catering:new t.MJ(R.extension_data?.catering),catering_notes:new t.MJ(R.extension_data?.catering[0]?.notes||""),catering_charge_code:new t.MJ(R.extension_data?.catering[0]?.charge_code||""),setup_time:new t.MJ(R.setup_time||0),breakdown_time:new t.MJ(R.breakdown_time||0),assets:new t.MJ(R.extension_data?.assets),visitor_type:new t.MJ(R.extension_data?.visitor_type),location:new t.MJ(R.location),needs_space:new t.MJ(!0),needs_parking:new t.MJ(R.extension_data?.needs_parking||!1),event_type:new t.MJ(R.extension_data?.event_type||""),category:new t.MJ(R.extension_data?.category||""),tags:new t.MJ(R.extension_data?.tags||[]),update_master:new t.MJ(!1),system:new t.MJ(R.system),attendance_type:new t.MJ(R.extension_data?.attendance_type||"ONSITE"),timezone:new t.MJ(R.timezone||O.mx),shared_event:new t.MJ(R.extension_data?.shared_event||!1),view_access:new t.MJ(R.extension_data?.view_access||"PRIVATE"),images:new t.MJ(R.extension_data?.images||[]),featured:new t.MJ(R.extension_data?.featured||!1)});P.get("organiser").valueChanges.subscribe(V=>P.controls.host.setValue(V?.email)),P.get("resources").valueChanges.subscribe(V=>{P.controls.system.setValue(V?.length?V[0]:null),P.controls.assets[V?.length?"enable":"disable"]()});const k=()=>{!P.value.catering?.length||!P.getRawValue().date||P.patchValue({catering:P.value.catering.map(V=>({...V,event:{date:P.value.all_day?(0,g.o)(P.getRawValue().date):P.getRawValue().date,duration:P.value.all_day?1440:P.value.duration}}))},{emitEvent:!1})};return P.valueChanges.subscribe(V=>{P.getRawValue().date<Date.now()&&P.value.id?P.get("date")?.disable({emitEvent:!1}):P.get("date")?.enable({emitEvent:!1}),(V.date||V.duration||V.all_day)&&k()}),P.controls.duration.valueChanges.subscribe(V=>{P.patchValue({date_end:(0,S.X)((0,h.z)(P.getRawValue().date,V),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),k()}),P.controls.date_end.valueChanges.subscribe(V=>{V<(0,h.z)(P.getRawValue().date,30).valueOf()?P.patchValue({date_end:(0,S.X)((0,h.z)(P.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):P.patchValue({duration:(0,y.o)(V,P.getRawValue().date)},{emitEvent:!1}),k()}),P.controls.date.valueChanges.subscribe(V=>{P.patchValue({date_end:(0,S.X)((0,h.z)(V,P.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),V<Date.now()&&!P.value.id&&P.patchValue({date:(0,S.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),"custom_display"!==P.value.recurrence?._pattern&&"none"!==P.value.recurrence?._pattern&&P.patchValue({recurrence:{...P.value.recurrence,days_of_week:[new Date(V).getDay()]}}),k()}),P.controls.catering.valueChanges.subscribe(V=>{(P.getRawValue().catering||[])?.length&&(F?.get("app.events.catering_notes_required")||F.value("require_catering_notes"))?(P.get("catering_notes")?.setValidators([t.k0.required]),P.get("catering_notes").patchValue(P.value.catering_notes)):(P.get("catering_notes")?.clearValidators(),P.get("catering_notes").setErrors(null)),P.updateValueAndValidity()}),P.get("catering_charge_code").setValidators([x(P.get("catering"))]),R.id&&(P.get("host").disable(),P.get("organiser").disable()),"started"===R.state&&P.get("date").disable(),P}function $(R){let F=[{id:R.user_id,name:R.user_name,email:R.user_email,organizer:!0}];return"visitor"===R.booking_type&&F.push(new u.KJ({name:R.asset_name||R.description,email:R.asset_id,checked_in:R.checked_in})),F=F.concat(R.attendees),new m.L({...R,...R.extension_data,attendees:F,id:R.id||R.extension_data.id,host:R.user_email,from_bookings:!0})}},690:(At,ue,a)=>{"use strict";a.d(ue,{k:()=>f});var t=a(9824),n=a(7926);const f=b=>{const C=b.parent?.get("date");return C&&(0,t.d)(Date.now(),(0,n.z)(C.value,b.value))?{duration:!0}:null}},2035:(At,ue,a)=>{"use strict";a.d(ue,{T:()=>S});var t=a(4006),n=a(4233);function f(h){var y=this;h="object"==typeof h?h:{},y.revision=3,y.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},y.toTable=h.toTable,y.domElement=y.toTable?document.createElement("div"):document.createElement("canvas"),y.url=h.url||"",y.size=h.size||280,y.qrc=!1,y.colorLight=h.colorLight||"#fff",y.colorDark=h.colorDark||"#000",y.ecclevel=h.ecclevel||1,y.noBorder=h.noBorder,y.borderSize=h.borderSize||4;var O,m,E,u,M,x,D,A=[],L=[],l=[],$=[],R=[],F=[],P=function(ce,z){var w;ce>z&&(w=ce,ce=z,z=w),w=z,w*=z,w+=z,w>>=1,$[w+=ce]=1},k=function(ce,z){var w;for(l[ce+E*z]=1,w=-2;w<2;w++)l[ce+w+E*(z-2)]=1,l[ce-2+E*(z+w+1)]=1,l[ce+2+E*(z+w)]=1,l[ce+w+1+E*(z+2)]=1;for(w=0;w<2;w++)P(ce-1,z+w),P(ce+1,z-w),P(ce-w,z-1),P(ce+w,z+1)},V=function(ce){for(;ce>=255;)ce=((ce-=255)>>8)+(255&ce);return ce},K=function(ce,z,w,j){var W,ne,fe,ae=f.gexp,Ae=f.glog;for(W=0;W<j;W++)A[w+W]=0;for(W=0;W<z;W++){if(255!=(fe=Ae[A[ce+W]^A[w]]))for(ne=1;ne<j;ne++)A[w+ne-1]=A[w+ne]^ae[V(fe+F[j-ne])];else for(ne=w;ne<w+j;ne++)A[ne]=A[ne+1];A[w+j-1]=255==fe?0:ae[V(fe+F[0])]}},X=function(ce,z){var w;return ce>z&&(w=ce,ce=z,z=w),w=z,w+=z*z,w>>=1,$[w+=ce]},Q=function(ce){var z,w,j,W;switch(ce){case 0:for(w=0;w<E;w++)for(z=0;z<E;z++)z+w&1||X(z,w)||(l[z+w*E]^=1);break;case 1:for(w=0;w<E;w++)for(z=0;z<E;z++)1&w||X(z,w)||(l[z+w*E]^=1);break;case 2:for(w=0;w<E;w++)for(j=0,z=0;z<E;z++,j++)3==j&&(j=0),j||X(z,w)||(l[z+w*E]^=1);break;case 3:for(W=0,w=0;w<E;w++,W++)for(3==W&&(W=0),j=W,z=0;z<E;z++,j++)3==j&&(j=0),j||X(z,w)||(l[z+w*E]^=1);break;case 4:for(w=0;w<E;w++)for(j=0,W=w>>1&1,z=0;z<E;z++,j++)3==j&&(j=0,W=!W),W||X(z,w)||(l[z+w*E]^=1);break;case 5:for(W=0,w=0;w<E;w++,W++)for(3==W&&(W=0),j=0,z=0;z<E;z++,j++)3==j&&(j=0),(z&w&1)+!(!j|!W)||X(z,w)||(l[z+w*E]^=1);break;case 6:for(W=0,w=0;w<E;w++,W++)for(3==W&&(W=0),j=0,z=0;z<E;z++,j++)3==j&&(j=0),(z&w&1)+(j&&j==W)&1||X(z,w)||(l[z+w*E]^=1);break;case 7:for(W=0,w=0;w<E;w++,W++)for(3==W&&(W=0),j=0,z=0;z<E;z++,j++)3==j&&(j=0),(j&&j==W)+(z+w&1)&1||X(z,w)||(l[z+w*E]^=1)}},de=function(ce){var z,w=0;for(z=0;z<=ce;z++)R[z]>=5&&(w+=f.N1+R[z]-5);for(z=3;z<ce-1;z+=2)R[z-2]==R[z+2]&&R[z+2]==R[z-1]&&R[z-1]==R[z+1]&&3*R[z-1]==R[z]&&(0==R[z-3]||z+3>ce||3*R[z-3]>=4*R[z]||3*R[z+3]>=4*R[z])&&(w+=f.N3);return w},se=function(){var ce,z,w,j,W,ne=0,fe=0;for(z=0;z<E-1;z++)for(ce=0;ce<E-1;ce++)(l[ce+E*z]&&l[ce+1+E*z]&&l[ce+E*(z+1)]&&l[ce+1+E*(z+1)]||!(l[ce+E*z]||l[ce+1+E*z]||l[ce+E*(z+1)]||l[ce+1+E*(z+1)]))&&(ne+=f.N2);for(z=0;z<E;z++){for(R[0]=0,w=j=ce=0;ce<E;ce++)(W=l[ce+E*z])==j?R[w]++:R[++w]=1,fe+=(j=W)?1:-1;ne+=de(w)}fe<0&&(fe=-fe);var ae=fe,Ae=0;for(ae+=ae<<2,ae<<=1;ae>E*E;)ae-=E*E,Ae++;for(ne+=Ae*f.N4,ce=0;ce<E;ce++){for(R[0]=0,w=j=z=0;z<E;z++)(W=l[ce+E*z])==j?R[w]++:R[++w]=1,j=W;ne+=de(w)}return ne};y.genframe=function(ce){var z,w,j,W,ne,fe,ae,Ae,Me=f.eccblocks,Ve=f.gexp,We=f.glog;W=ce.length,m=0;do{if(m++,j=4*(O-1)+16*(m-1),u=Me[j++],M=Me[j++],x=Me[j++],D=Me[j],W<=(j=x*(u+M)+M-3+(m<=9)))break}while(m<40);for(E=17+4*m,ne=x+(x+D)*(u+M)+M,W=0;W<ne;W++)L[W]=0;for(A=ce.slice(0),W=0;W<E*E;W++)l[W]=0;for(W=0;W<(E*(E+1)+1)/2;W++)$[W]=0;for(W=0;W<3;W++){for(j=0,w=0,1==W&&(j=E-7),2==W&&(w=E-7),l[w+3+E*(j+3)]=1,z=0;z<6;z++)l[w+z+E*j]=1,l[w+E*(j+z+1)]=1,l[w+6+E*(j+z)]=1,l[w+z+1+E*(j+6)]=1;for(z=1;z<5;z++)P(w+z,j+1),P(w+1,j+z+1),P(w+5,j+z),P(w+z+1,j+5);for(z=2;z<4;z++)l[w+z+E*(j+2)]=1,l[w+2+E*(j+z+1)]=1,l[w+4+E*(j+z)]=1,l[w+z+1+E*(j+4)]=1}if(m>1)for(W=f.adelta[m],w=E-7;;){for(z=E-7;z>W-3&&(k(z,w),!(z<W));)z-=W;if(w<=W+9)break;k(6,w-=W),k(w,6)}for(l[8+E*(E-8)]=1,w=0;w<7;w++)P(7,w),P(E-8,w),P(7,w+E-7);for(z=0;z<8;z++)P(z,7),P(z+E-8,7),P(z,E-8);for(z=0;z<9;z++)P(z,8);for(z=0;z<8;z++)P(z+E-8,8),P(8,z);for(w=0;w<7;w++)P(8,w+E-7);for(z=0;z<E-14;z++)1&z?(P(8+z,6),P(6,8+z)):(l[8+z+6*E]=1,l[6+E*(8+z)]=1);if(m>6)for(W=f.vpat[m-7],j=17,z=0;z<6;z++)for(w=0;w<3;w++,j--)1&(j>11?m>>j-12:W>>j)?(l[5-z+E*(2-w+E-11)]=1,l[2-w+E-11+E*(5-z)]=1):(P(5-z,2-w+E-11),P(2-w+E-11,5-z));for(w=0;w<E;w++)for(z=0;z<=w;z++)l[z+E*w]&&P(z,w);for(ne=A.length,fe=0;fe<ne;fe++)L[fe]=A.charCodeAt(fe);if(A=L.slice(0),ne>=(z=x*(u+M)+M)-2&&(ne=z-2,m>9&&ne--),fe=ne,m>9){for(A[fe+2]=0,A[fe+3]=0;fe--;)A[fe+3]|=255&(W=A[fe])<<4,A[fe+2]=W>>4;A[2]|=255&ne<<4,A[1]=ne>>4,A[0]=64|ne>>12}else{for(A[fe+1]=0,A[fe+2]=0;fe--;)A[fe+2]|=255&(W=A[fe])<<4,A[fe+1]=W>>4;A[1]|=255&ne<<4,A[0]=64|ne>>4}for(fe=ne+3-(m<10);fe<z;)A[fe++]=236,A[fe++]=17;for(F[0]=1,fe=0;fe<D;fe++){for(F[fe+1]=1,ae=fe;ae>0;ae--)F[ae]=F[ae]?F[ae-1]^Ve[V(We[F[ae]]+fe)]:F[ae-1];F[0]=Ve[V(We[F[0]]+fe)]}for(fe=0;fe<=D;fe++)F[fe]=We[F[fe]];for(j=z,w=0,fe=0;fe<u;fe++)K(w,x,j,D),w+=x,j+=D;for(fe=0;fe<M;fe++)K(w,x+1,j,D),w+=x+1,j+=D;for(w=0,fe=0;fe<x;fe++){for(ae=0;ae<u;ae++)L[w++]=A[fe+ae*x];for(ae=0;ae<M;ae++)L[w++]=A[u*x+fe+ae*(x+1)]}for(ae=0;ae<M;ae++)L[w++]=A[u*x+fe+ae*(x+1)];for(fe=0;fe<D;fe++)for(ae=0;ae<u+M;ae++)L[w++]=A[z+fe+ae*D];for(A=L,z=w=E-1,j=ne=1,Ae=(x+D)*(u+M)+M,fe=0;fe<Ae;fe++)for(W=A[fe],ae=0;ae<8;ae++,W<<=1){128&W&&(l[z+E*w]=1);do{ne?z--:(z++,j?0!=w?w--:(j=!j,6==(z-=2)&&(z--,w=9)):w!=E-1?w++:(j=!j,6==(z-=2)&&(z--,w-=8))),ne=!ne}while(X(z,w))}for(A=l.slice(0),W=0,w=3e4,j=0;j<8&&(Q(j),(z=se())<w&&(w=z,W=j),7!=W);j++)l=A.slice(0);for(W!=j&&Q(W),w=f.fmtword[W+(O-1<<3)],j=0;j<8;j++,w>>=1)1&w&&(l[E-1-j+8*E]=1,j<6?l[8+E*j]=1:l[8+E*(j+1)]=1);for(j=0;j<7;j++,w>>=1)1&w&&(l[8+E*(E-7+j)]=1,j?l[6-j+8*E]=1:l[7+8*E]=1);return l},y.init=function(){O=y.ecclevel;var ce=y.genframe(y.url);y.toTable?y.tableWrite(ce,E):y.canvasWrite(ce,E)},y.init()}f.prototype={canvasWrite:function(h,y){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(h,y);var O=this.size,m=this.qrc;m.lineWidth=1;var E=O;E/=y+10,E=Math.round(E-.5);var u=4;this.noBorder?(m.canvas.width=m.canvas.height=E*y,u=0):m.canvas.width=m.canvas.height=O,m.clearRect(0,0,O,O),m.fillStyle=this.colorLight,m.fillRect(0,0,E*(y+8),E*(y+8)),m.fillStyle=this.colorDark;for(var M=0;M<y;M++)for(var x=0;x<y;x++)h[x*y+M]&&m.fillRect(E*(u+M),E*(u+x),E,E)},tableWrite:function(h,y){var O=this,m=Math.round(this.size/y-3.5)+"px",E=y+(O.noBorder?0:2*O.borderSize),u=O.borderSize,M="width:"+m+";height:"+m+";",x=O.colorLight,D=O.colorDark,A=document.createElement("table");A.style.cssText="border:0;border-collapse:collapse;";for(var L,l=document.createElement("tr"),$=document.createElement("td"),R=function(){return $.cloneNode()},F=function(){var de=R();return de.style.cssText=M+"background:"+x,de},P=function(de){for(var se=de.firstChild,ce=0;ce<u;ce++)de.insertBefore(F(),se),de.appendChild(F())},k=0;k<y;k++){var V=l.cloneNode();A.appendChild(V);for(var K=0;K<y;K++)if(1===h[k*y+K]){var X=(L=void 0,(L=R()).style.cssText=M+"background:"+D,L);V.appendChild(X)}else{var Q=F();V.appendChild(Q)}O.noBorder||P(V)}O.noBorder||function(de){for(var se=de.firstChild,ce=0;ce<O.borderSize;ce++){for(var z=l.cloneNode(),w=0;w<E;w++){var j=F();z.appendChild(j)}de.appendChild(z),de.insertBefore(z.cloneNode(!0),se)}}(A),O.domElement.innerHTML="",O.domElement.appendChild(A)},getContext:function(h){return h.getContext&&h.getContext("2d")?h.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(h){if(this.qrc){var y=this.imageTypes[h];if(!y)throw new Error(h+" is not a valid image type ");var O=new Image;return O.src=this.domElement.toDataURL(y),O}}},f.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],f.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],f.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],f.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],f.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],f.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],f.N1=3,f.N2=3,f.N3=40,f.N4=10;var b=a(3953),C=a(9434);let S=(()=>{class h{constructor(O,m){this._data=O,this._settings=m,this.space=this._data.space,this.qr_code=function v(h,y="#fff0",O="#000"){return new f({url:h||"Hello",size:360,colorLight:y,colorDark:O,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}static#e=this.\u0275fac=function(m){return new(m||h)(b.rXU(t.Vh),b.rXU(n.h))};static#t=this.\u0275cmp=b.VBU({type:h,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:()=>{let O;return O=$localize`:cbd43c9fe40f6bb5fd5497b1436b4dce15539dfb381017318285325317:Book - ${"\ufffd0\ufffd"}:INTERPOLATION:`,[O,[1,"truncate"],[1,"flex-1"],["icon","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]]},template:function(m,E){1&m&&(b.j41(0,"header")(1,"h2",1),b.pXf(2,0),b.k0s(),b.nrm(3,"div",2),b.j41(4,"button",3)(5,"app-icon"),b.EFF(6,"close"),b.k0s()()(),b.j41(7,"main",4),b.nrm(8,"img",5),b.k0s()),2&m&&(b.R7$(2),b.uP7(null==E.space?null:E.space.name),b.nnv(2),b.R7$(6),b.Y8G("src",E.qr_code,b.B4B))},dependencies:[C.R,t.tx]})}return h})()},6301:(At,ue,a)=>{"use strict";a.d(ue,{t:()=>u});var t=a(467),n=a(4006),f=a(2333),v=a(6266),b=a(3953),C=a(2091);function g(M,x){1&M&&(b.j41(0,"button",10)(1,"app-icon"),b.EFF(2,"close"),b.k0s()())}function S(M,x){1&M&&(b.j41(0,"div",15)(1,"label",24),b.EFF(2,"Host"),b.j41(3,"span"),b.EFF(4,"*"),b.k0s(),b.EFF(5,":"),b.k0s(),b.nrm(6,"a-user-search-field",25),b.k0s())}function h(M,x){if(1&M&&(b.j41(0,"div",26)(1,"label"),b.pXf(2,5),b.k0s(),b.j41(3,"div",27),b.EFF(4),b.nI1(5,"date"),b.nI1(6,"date"),b.k0s()()),2&M){const D=b.XpG(3);b.R7$(4),b.Lme(" ",b.i5U(5,2,D.form.value.date,"mediumDate")," at ",b.i5U(6,5,D.form.value.date,D.time_format)," ")}}function y(M,x){if(1&M&&(b.j41(0,"div",28)(1,"label"),b.pXf(2,6),b.k0s(),b.nrm(3,"a-duration-field",29),b.k0s()),2&M){const D=b.XpG(3);b.R7$(3),b.Y8G("time",D.form.value.date)("max",D.max_duration)("use_24hr",D.use_24hr_time)}}function O(M,x){if(1&M&&(b.j41(0,"main",14)(1,"div",15)(2,"label",16),b.EFF(3,"Title"),b.j41(4,"span"),b.EFF(5,"*"),b.k0s(),b.EFF(6,":"),b.k0s(),b.j41(7,"mat-form-field",17),b.nrm(8,"input",18),b.j41(9,"mat-error"),b.pXf(10,3),b.k0s()()(),b.DNE(11,S,7,0,"div",19),b.j41(12,"div",15)(13,"label"),b.pXf(14,4),b.k0s(),b.j41(15,"div",20),b.EFF(16),b.k0s()(),b.j41(17,"div",21),b.DNE(18,h,7,8,"div",22)(19,y,4,3,"div",23),b.k0s()()),2&M){const D=b.XpG(2);b.Y8G("formGroup",D.form),b.R7$(11),b.Y8G("ngIf",D.can_book_for_others),b.R7$(5),b.SpI(" ",(null==D.form.controls.resources||null==D.form.controls.resources.value[0]?null:D.form.controls.resources.value[0].display_name)||(null==D.form.controls.resources||null==D.form.controls.resources.value[0]?null:D.form.controls.resources.value[0].name)," "),b.R7$(2),b.Y8G("ngIf",D.form.controls.date),b.R7$(),b.Y8G("ngIf",D.form.controls.duration)}}function m(M,x){if(1&M){const D=b.RV6();b.qex(0),b.DNE(1,O,20,5,"main",11),b.j41(2,"footer",12)(3,"button",13),b.bIt("click",function(){b.eBV(D);const L=b.XpG();return b.Njj(L.save())}),b.pXf(4,2),b.k0s()(),b.bVm()}if(2&M){const D=b.XpG();b.R7$(),b.Y8G("ngIf",D.form)}}function E(M,x){if(1&M&&(b.j41(0,"div",30),b.nrm(1,"mat-spinner",31),b.j41(2,"p"),b.EFF(3),b.nI1(4,"async"),b.k0s()()),2&M){const D=b.XpG();b.R7$(),b.Y8G("diameter",48),b.R7$(2),b.JRh(b.bMT(4,2,D.loading))}}let u=(()=>{class M{get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}get can_book_for_others(){return this._settings.get("app.events.can_book_for_others")}get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}get time_format(){return this._settings.time_format}constructor(D,A,L,l,$){this._data=D,this._settings=A,this._event_form=L,this._dialog_ref=l,this._router=$,this.loading=this._event_form.loading}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,f.Ny)().email,organiser:(0,f.Ny)()})}save(){var D=this;return(0,t.A)(function*(){yield D._event_form.postForm().catch(A=>{throw(0,f.UG)(A),A}),D._settings.app_name.toLowerCase().includes("workplace")?D._router.navigate(["/book","meeting","success"]):(0,f.VX)("Successfully booked room."),D._dialog_ref.close()})()}static#e=this.\u0275fac=function(A){return new(A||M)(b.rXU(n.Vh),b.rXU(f.h$),b.rXU(v.W),b.rXU(n.CP),b.rXU(C.Ix))};static#t=this.\u0275cmp=b.VBU({type:M,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:()=>{let D,A,L,l,$,R,F;return D=$localize`:bd532c9813cc0577fcc3ff32640a61afef2bf40a6464057252608386690:New Booking`,A=$localize`:2fa313c798ad138557539ba3c6a3bfdc426eaaa22367152680379951719: Save `,L=$localize`:5cf0071757dd8065e052662e4d191a210c7665792997066279074525950:Booking Title`,l=$localize`:35a900d9fa8e824539ca4b0d1a10bd2f7f8c11728953173802652113530:Booking title is required`,$=$localize`:0f342dcd63b8732a5599eb91ce166b55335dbbc41329943553963489238:Space:`,R=$localize`:05fa0bded36de6e73a1fa44838b627349dace0446899410641137821757:Date:`,F=$localize`:e17a1d75189da843f541f7764f188f2b19a97df24220765745195024064:Duration:`,[["load_state",""],D,A,l,$,R,F,[1,"flex-1"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","matRipple","","mat-dialog-close",""],["class","p-4 max-w-[85vw]",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"p-4","max-w-[85vw]",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder",L],["class","flex flex-col",4,"ngIf"],["name","space",1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col flex-1 w-full sm:w-auto",4,"ngIf"],["class","flex flex-col w-full sm:w-auto",4,"ngIf"],["for","host"],["name","host","formControlName","organiser",1,"mb-4"],[1,"flex","flex-col","flex-1","w-full","sm:w-auto"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","flex-col","w-full","sm:w-auto"],["formControlName","duration",1,"w-full",3,"time","max","use_24hr"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]]},template:function(A,L){if(1&A&&(b.j41(0,"header")(1,"h2"),b.pXf(2,1),b.k0s(),b.nrm(3,"div",7),b.DNE(4,g,3,0,"button",8),b.nI1(5,"async"),b.k0s(),b.DNE(6,m,5,1,"ng-container",9),b.nI1(7,"async"),b.DNE(8,E,5,4,"ng-template",null,0,b.C5r)),2&A){const l=b.sdS(9);b.R7$(4),b.Y8G("ngIf",!b.bMT(5,3,L.loading)),b.R7$(2),b.Y8G("ngIf",!b.bMT(7,5,L.loading))("ngIfElse",l)}},styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}"]})}return M})()},2882:(At,ue,a)=>{"use strict";a.d(ue,{Y:()=>h});var t=a(4918),n=a(3953),f=a(177),v=a(2238);function b(y,O){if(1&y&&(n.j41(0,"p",9),n.EFF(1),n.k0s()),2&y){const m=n.XpG(2);n.R7$(),n.JRh(m.user)}}function C(y,O){if(1&y&&(n.j41(0,"p",10),n.EFF(1),n.k0s()),2&y){const m=n.XpG(2);n.R7$(),n.SpI(" ",m.department," ")}}function g(y,O){if(1&y&&(n.j41(0,"p",11),n.EFF(1),n.nI1(2,"date"),n.nI1(3,"date"),n.k0s()),2&y){const m=n.XpG(2);n.R7$(),n.Lme(" ",n.i5U(2,2,m.start,"shortTime")," \u2013 ",n.i5U(3,5,m.end,"shortTime")," ")}}function S(y,O){if(1&y&&(n.j41(0,"div",2),n.nrm(1,"div",3),n.j41(2,"div",4)(3,"h4",5),n.EFF(4),n.k0s(),n.DNE(5,b,2,1,"p",6)(6,C,2,1,"p",7)(7,g,4,8,"p",8),n.k0s()()),2&y){const m=n.XpG();n.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+m.x_pos+" "+m.y_pos),n.Y8G("id",m.map_id),n.R7$(4),n.SpI(" ",m.name||m.map_id||m.id," "),n.R7$(),n.Y8G("ngIf",m.user),n.R7$(),n.Y8G("ngIf",m.user&&m.department),n.R7$(),n.Y8G("ngIf",m.start)}}let h=(()=>{class y{constructor(m,E){this._details=m,this._element=E,this.id=this._details.id,this.map_id=this._details.map_id,this.name=this._details.name,this.user=this._details.user,this.start=this._details.start,this.end=this._details.end,this.status=this._details.status,this.department=this._details.department}ngOnInit(m=0){m>10||setTimeout(()=>{const E=this._element.nativeElement.parentElement?.parentElement;if(!E)return this.ngOnInit(++m);const u_y=parseInt(E.style.top,10)/100,u_x=parseInt(E.style.left,10)/100;this.y_pos=u_y>=.5?"bottom":"top",this.x_pos=u_x>=.5?"right":"left"},200)}get available_until(){return""}static#e=this.\u0275fac=function(E){return new(E||y)(n.rXU(t.N),n.rXU(n.aKT))};static#t=this.\u0275cmp=n.VBU({type:y,selectors:[["explore-desk-info"]],decls:3,vars:8,consts:[["desk_tooltip",""],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","z-20",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"arrow"],[1,"details"],["map-id","",1,"m-0","font-medium"],["user","","class","mt-2 text-sm",4,"ngIf"],["user","","class","mt-1 text-sm",4,"ngIf"],["start","","class","mt-1 text-sm",4,"ngIf"],["user","",1,"mt-2","text-sm"],["user","",1,"mt-1","text-sm"],["start","",1,"mt-1","text-sm"]],template:function(E,u){if(1&E&&(n.nrm(0,"div",1),n.DNE(1,S,8,7,"ng-template",null,0,n.C5r)),2&E){const M=n.sdS(2);n.Y8G("content",M)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),n.BMQ("id",u.id)("map_id",u.map_id)}},dependencies:[f.bT,v.I,f.vh],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[name=status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[name=status].busy[_ngcontent-%COMP%]{background-color:#e53935}[name=status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[name=status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return y})()},4810:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>g});var t=a(8030),n=a(795),f=a(3953),v=a(4006),b=a(2238);function C(S,h){if(1&S&&(f.j41(0,"div",3)(1,"h3",4),f.EFF(2),f.k0s(),f.j41(3,"p",5),f.EFF(4),f.k0s()()),2&S){const y=f.XpG();f.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+y.x_pos+" "+y.y_pos),f.Y8G("id",y.map_id),f.R7$(2),f.JRh(y.bank.name),f.R7$(2),f.Lme(" ",y.in_use_count," lockers in use of ",y.bank.lockers.length||1," ")}}let g=(()=>{class S{constructor(y,O,m){this._details=y,this._element=O,this._dialog=m,this.bank=this._details.bank,this.in_use_count=this._details.in_use_count}ngOnInit(y=0){y>10||setTimeout(()=>{const O=this._element.nativeElement.parentElement?.parentElement;if(!O)return this.ngOnInit(++y);const m_y=parseInt(O.style.top,10)/100,m_x=parseInt(O.style.left,10)/100;this.y_pos=m_y>=.5?"bottom":"top",this.x_pos=m_x>=.5?"right":"left"},200)}openBankModal(){this._dialog.open(n.c,{data:{...this._details}})}static#e=this.\u0275fac=function(O){return new(O||S)(f.rXU(t.Nw),f.rXU(f.aKT),f.rXU(v.bZ))};static#t=this.\u0275cmp=f.VBU({type:S,selectors:[["explore-locker-bank-info"]],decls:4,vars:6,consts:[["desk_tooltip",""],[1,"h-full","w-full","pointer-events-auto","relative",3,"click"],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"font-medium"],[1,"whitespace-nowrap","text-sm"]],template:function(O,m){if(1&O){const E=f.RV6();f.j41(0,"button",1),f.bIt("click",function(){return f.eBV(E),f.Njj(m.openBankModal())}),f.nrm(1,"div",2),f.k0s(),f.DNE(2,C,5,6,"ng-template",null,0,f.C5r)}if(2&O){const E=f.sdS(3);f.R7$(),f.Y8G("content",E)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3)}},dependencies:[b.I]})}return S})()},795:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>g});var t=a(4006),f=(a(8796),a(3953)),v=a(9434),b=a(6600),C=a(4854);let g=(()=>{class S{constructor(y){this._data=y,this.bank=this._data.bank,this.lockers=this._data.lockers.reduce((O,m)=>(O[m.id]="busy",O),{})}static#e=this.\u0275fac=function(O){return new(O||S)(f.rXU(t.Vh))};static#t=this.\u0275cmp=f.VBU({type:S,selectors:[["explore-locker-bank-modal"]],decls:8,vars:3,consts:[[1,"text-xl","font-medium"],["btn","","icon","","matRipple","","mat-dialog-close",""],[1,"h-[65vh]","overflow-hidden"],[3,"bank","bank_status"]],template:function(O,m){1&O&&(f.j41(0,"header")(1,"h2",0),f.EFF(2),f.k0s(),f.j41(3,"button",1)(4,"app-icon"),f.EFF(5,"close"),f.k0s()()(),f.j41(6,"main",2),f.nrm(7,"locker-grid",3),f.k0s()),2&O&&(f.R7$(2),f.JRh(m.bank.name),f.R7$(5),f.Y8G("bank",m.bank)("bank_status",m.lockers))},dependencies:[v.R,b.r6,t.tx,C.E]})}return S})()},8303:(At,ue,a)=>{"use strict";a.d(ue,{x:()=>O});var t=a(8030),n=a(4233),f=a(3953);function v(m,E){if(1&m&&f.nrm(0,"img",18),2&m){const u=f.XpG(2);f.Y8G("source",u.space.images[0])}}function b(m,E){1&m&&f.nrm(0,"div",19)}function C(m,E){if(1&m&&(f.j41(0,"div",20),f.EFF(1),f.k0s()),2&m){const u=f.XpG(2);f.R7$(),f.SpI(" ",u.available_until," ")}}function g(m,E){if(1&m&&(f.j41(0,"div",21)(1,"span"),f.pXf(2,3),f.k0s(),f.EFF(3),f.k0s()),2&m){const u=f.XpG(2);f.R7$(3),f.Lme("",u.space.capacity," ",1===u.space.capacity?"person":"people"," ")}}function S(m,E){if(1&m&&(f.j41(0,"li",24),f.EFF(1),f.k0s()),2&m){const u=E.$implicit;f.R7$(),f.SpI(" ",u," ")}}function h(m,E){if(1&m&&(f.j41(0,"ul",22),f.DNE(1,S,2,1,"li",23),f.k0s()),2&m){const u=f.XpG(2);f.R7$(),f.Y8G("ngForOf",u.space.features)}}function y(m,E){if(1&m&&(f.j41(0,"div",5),f.nrm(1,"div",6),f.j41(2,"div",7)(3,"div",8),f.DNE(4,v,1,1,"img",9)(5,b,1,0,"div",10),f.k0s(),f.j41(6,"div",11)(7,"div",12),f.EFF(8," "),f.pXf(9,2),f.EFF(10," "),f.k0s(),f.DNE(11,C,2,1,"div",13),f.k0s(),f.j41(12,"div",14)(13,"h4",15),f.EFF(14),f.k0s(),f.DNE(15,g,4,2,"div",16)(16,h,2,1,"ul",17),f.k0s()()()),2&m){const u=f.XpG();f.AVh("-translate-x-full","end"===u.x_pos)("-translate-y-full","bottom"===u.y_pos),f.Y8G("id",null==u.space?null:u.space.id),f.R7$(3),f.AVh("bg-neutral",u.space.images[0])("h-32",u.space.images[0])("h-8",!u.space.images[0]),f.R7$(),f.Y8G("ngIf",u.space.images[0]),f.R7$(),f.Y8G("ngIf",u.space.images[0]),f.R7$(2),f.HbH("capitalize rounded p-1 px-2 text-light border border-white shadow "+u.status),f.R7$(2),f.uP7(u.status),f.nnv(9),f.R7$(2),f.Y8G("ngIf","not-bookable"!==u.status),f.R7$(3),f.SpI(" ",u.space.display_name||u.space.name," "),f.R7$(),f.Y8G("ngIf",u.space.capacity>=0),f.R7$(),f.Y8G("ngIf",(null==u.space.features?null:u.space.features.length)>0&&u.show_features)}}let O=(()=>{class m{get show_features(){return!this._settings.get("app.spaces.hide_features")}constructor(u,M,x){this._details=u,this._settings=M,this._element=x,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const u=this._element.nativeElement.getBoundingClientRect();this.x_pos=u.x<document.body.clientWidth/2?"start":"end",this.y_pos=u.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}static#e=this.\u0275fac=function(M){return new(M||m)(f.rXU(t.Nw),f.rXU(n.h),f.rXU(f.aKT))};static#t=this.\u0275cmp=f.VBU({type:m,selectors:[["explore-space-info"]],decls:4,vars:7,consts:()=>{let u,M;return u=$localize`:86e6b3a473ea3e05830d2aef91c81199de1b9d333658078071800974217:{VAR_SELECT, select, free {Free } busy {Busy } pending {Pending } reserved {Reserved } other {Not Bookable }}`,u=f.k04(u,{VAR_SELECT:"\ufffd0\ufffd"}),M=$localize`:36c2a5db33c6cfc9e239e589f975f5492bbb05502292396409867038415:Capacity: `,[["tooltip",""],["space_tooltip",""],u,M,["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","hidden","sm:block","cursor-pointer",3,"mouseenter","content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",1,"absolute","rounded","bg-base-100","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","overflow-hidden","flex","items-center","justify-center","relative","bg-opacity-20"],["auth","","class","object-cover min-h-full min-w-full",3,"source",4,"ngIf"],["class","absolute inset-0 bg-neutral",4,"ngIf"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],["auth","",1,"object-cover","min-h-full","min-w-full",3,"source"],[1,"absolute","inset-0","bg-neutral"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-base-200 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-base-200","font-medium"]]},template:function(M,x){if(1&M){const D=f.RV6();f.j41(0,"div",4,0),f.bIt("mouseenter",function(){return f.eBV(D),f.Njj(x.updateOffset())}),f.k0s(),f.DNE(2,y,17,20,"ng-template",null,1,f.C5r)}if(2&M){const D=f.sdS(3);f.Y8G("content",D)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),f.BMQ("id",(null==x.space?null:x.space.map_id)||(null==x.space?null:x.space.id))}},styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return m})()},5897:(At,ue,a)=>{"use strict";a.d(ue,{U:()=>F,s:()=>P});var t=a(467),n=a(5157),f=a(8728),v=a(9090),b=a(3921),C=a(5006),g=a(8712),S=a(9493),h=a(4421),y=a(9714),O=a(2333),m=a(9525),E=a(735),u=a(6727),M=a(6266),x=a(8026),D=a(2455),A=a(8303),L=a(6301),l=a(2035),$=a(3953),R=a(4006);const F={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};let P=(()=>{class k extends O.Tv{constructor(K,X,Q,de,se){super(),this._state=K,this._settings=X,this._event_form=Q,this._dialog=de,this._org=se,this._bookings={},this._statuses={},this._panning=!0,this._last_action="",this.booking_rules=this._org.active_building.pipe((0,f.p)(ce=>!!ce),(0,v.n)(ce=>(0,n.bpY)(ce.id,"room_booking_rules").pipe((0,b.W)(()=>(0,h.of)({details:[]})))),(0,C.T)(ce=>ce?.details instanceof Array?ce.details:[]),(0,g.t)(1)),this._bind=(0,y.zV)([this._state.spaces,this._state.options]).pipe((0,f.p)(([ce,{is_public:z}])=>!z),(0,C.T)(([ce])=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this._statuses={},ce?.length){for(const z of ce){const w=(0,n.f_4)(z.id,"Bookings");let j=w.binding("bookings");this.subscription(`b-${z.id}`,j.listen().subscribe(W=>this.handleBookingsChange(ce,z,W))),this.subscription(`b-bind-${z.id}`,j.bind()),j=w.binding("status"),this.subscription(`s-${z.id}`,j.listen().subscribe(W=>this.handleStatusChange(ce,z,W))),this.subscription(`s-bind-${z.id}`,j.bind())}this.updateActions(ce),this._updateHoverElements(ce)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace(K,X=!1){var Q=this;return(0,t.A)(function*(){if(Q._panning&&"down"===Q._last_action)return;const de=yield Q.booking_rules.pipe((0,S.s)(1)).toPromise(),{hidden:se}=(0,O.RH)({date:Date.now(),duration:60,resource:K,host:(0,O.Ny)()},de)||{};return se?(0,m.UG)("You do not have permission to book this space at this time."):"free"!==Q._statuses[K.id]&&!X||!K.bookable?(0,m.UG)(`${K.display_name||K.name} is unavailable for the selected time and duration`):(Q._event_form.newForm(),Q._event_form.form.patchValue({host:(0,O.Ny)()?.email,resources:[K]}),Q._settings.get("app.events.booking_unavailable")?Q._event_form.openEventLinkModal():void Q._dialog.open(Q._settings.get("app.explore.show_booking_qr")?l.T:L.t,{data:{space:K}}))})()}handleBookingsChange(K,X,Q){Q&&(this._bookings[X.id]=Q.map(de=>new u.L(de)),this.timeout("update_hover_els",()=>this._updateHoverElements(K),100))}handleStatusChange(K,X,Q){X.bookable?this._statuses[X.id]=Q||"free":delete this._statuses[X.id],this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this._updateStatus(K),this._updateHoverElements(K)},100)}_updateStatus(K){var X=this;return(0,t.A)(function*(){const Q={},de=X._settings.get("app.explore.colors")||{};for(const se of K){if(!X._statuses[se.id])continue;const ce=X._statuses[se.id];Q[`#${se.map_id}`]={fill:de[`space-${ce}`]||de[`${ce}`]||F[`${ce}`],opacity:.6}}X._state.setStyles("spaces",Q)})()}_updateHoverElements(K){const X=[];for(const Q of K)Q.map_id&&X.push({location:Q.map_id,full_size:!0,no_scale:!0,content:A.x,z_index:10,data:{space:new E.$(Q),events:this._bookings[Q.id],status:this._statuses[Q.id]||"not-bookable"}});this._state.setFeatures("spaces",X)}updateActions(K){const X=[];for(const Q of K)if(Q.map_id){for(const de of["mousedown","touchstart"])X.push({id:Q.map_id,action:de,priority:5,callback:()=>{this._panning=!1,this.timeout("panning",()=>this._panning=!0,300),this._last_action="down"}});for(const de of["mouseup","touchend"])X.push({id:Q.map_id,action:de,priority:5,callback:()=>{this.bookSpace(Q),this._last_action="up"}})}this.timeout("set-actions",()=>this._state.setActions("spaces",X),50)}static#e=this.\u0275fac=function(X){return new(X||k)($.KVO(D.O),$.KVO(O.h$),$.KVO(M.W),$.KVO(R.bZ),$.KVO(x.y))};static#t=this.\u0275prov=$.jDH({token:k,factory:k.\u0275fac})}return k})()},2455:(At,ue,a)=>{"use strict";a.d(ue,{O:()=>A});var t=a(467),n=a(5157),f=a(9928),v=a(9714),b=a(4421),C=a(8728),g=a(9090),S=a(5006),h=a(3921),y=a(8712),O=a(3020),m=a(4046),E=a(2333),u=a(8026),M=a(735),x=a(7401),D=a(3953);let A=(()=>{class L extends E.Tv{get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}constructor($,R,F){super(),this._org=$,this._spaces=R,this._settings=F,this._level=new f.t(null),this._positions=new f.t({zoom:1,center:{x:.5,y:.5}}),this._styles=new f.t({}),this._features=new f.t({}),this._actions=new f.t({}),this._labels=new f.t({}),this._options=new f.t({is_public:!1,disable:["zones","devices"]}),this._message=new f.t(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=(0,v.zV)([this._level,this._org.initialised]).pipe((0,C.p)(([P,k])=>k),(0,g.n)(([P])=>(0,n.BbB)({zone_id:P?.id||this._org.organisation.id,limit:50}).pipe((0,S.T)(({data:k})=>k.map(V=>new M.$(V))),(0,h.W)(k=>(0,b.of)([])))),(0,y.t)(1)),this.map_url=this._level.pipe((0,S.T)(P=>(P?P.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,v.zV)([this._features,this._options]).pipe((0,O.B)(200),(0,S.T)(([P,k])=>{let V=[];for(const K in P)k.disable?.includes(K)||k.disable_features?.includes(K)||"zones-canvas"===K&&k.disable?.includes("zones")||(V=V.concat(P[K]));return V})),this.map_actions=(0,v.zV)([this._actions,this._options]).pipe((0,O.B)(200),(0,S.T)(([P,k])=>{let V=[];for(const K in P)k.disable?.includes(K)||k.disable_actions?.includes(K)||(V=V.concat(P[K]));return V})),this.map_labels=(0,v.zV)([this._labels,this._options]).pipe((0,O.B)(200),(0,S.T)(([P,k])=>{let V=[];for(const K in P)k.disable?.includes(K)||k.disable_labels?.includes(K)||(V=V.concat(P[K]));return V})),this.map_styles=(0,v.zV)([this._styles,this._options]).pipe((0,O.B)(200),(0,S.T)(([P,k])=>{let V={text:{display:"none"}};for(const K in P)k.disable?.includes(K)||k.disable_styles?.includes(K)||(V={...V,...P[K]});return k.disable?.includes("zones")&&(V["#zones"]={display:"none"},V["#Zones"]={display:"none"}),V})),this.options=this._options.asObservable(),this.init()}init(){var $=this;return(0,t.A)(function*(){yield $._org.initialised.pipe((0,m.$)(R=>R)).toPromise(),$._org.active_levels.pipe((0,C.p)(R=>!!R)).subscribe(R=>{const F=$._level.getValue();!R.find(k=>F?.id===k.id)&&R.length&&$.setLevel(R[0].id),$._settings.get("app.explore.disable_actions")&&$.setOptions({disable_actions:$._settings.get("app.explore.disable_actions")}),$._settings.get("app.explore.disable_labels")&&$.setOptions({disable_labels:$._settings.get("app.explore.disable_labels")}),$._settings.get("app.explore.disable_features")&&$.setOptions({disable_features:$._settings.get("app.explore.disable_features")}),$._settings.get("app.explore.disable_styles")&&$.setOptions({disable_styles:$._settings.get("app.explore.disable_styles")})})})()}setOptions($){const R=this._options.getValue(),F=(0,E.Am)([...$.disable||R.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),...$,disable:F})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this._options.next({is_public:!1,disable:["zones","devices"]}),this.setPositions(1,{x:.5,y:.5})}setLevel($){const R=this._org.levelWithID([$]);R&&this._level.next(R)}setStyles($,R){const F=this._styles.getValue();F[$]=R,this._styles.next(F)}setFeatures($,R){const F=this._features.getValue();F[$]=R,this._features.next(F)}setActions($,R){const F=this._actions.getValue();F[$]=R,this._actions.next(F)}setLabels($,R){const F=this._labels.getValue();F[$]=R,this._labels.next(F)}setPositions($,R){this._positions.next({zoom:$,center:R})}static#e=this.\u0275fac=function(R){return new(R||L)(D.KVO(u.y),D.KVO(x.b),D.KVO(E.h$))};static#t=this.\u0275prov=D.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},3046:(At,ue,a)=>{"use strict";a.d(ue,{cQ:()=>t.c});var t=a(2013);a(5507),a(9608),a(1413),a(840),a(8e3),a(6864)},5507:(At,ue,a)=>{"use strict";a.d(ue,{s:()=>S});var t=a(3953),n=a(9417),f=a(177),v=a(6600),b=a(9434),C=a(2897);function g(h,y){if(1&h&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&h){const O=t.XpG();t.R7$(),t.SpI(" ",(O.render_fn?O.render_fn(O.value):O.value)||"0"," ")}}let S=(()=>{class h{constructor(){this.step=1,this.max=999,this.min=0,this.focused=!1}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(O){O<this.min&&(O=this.min),O>this.max&&(O=this.max),O/this.step%1!=0&&(O=Math.round(O*(1/this.step))/(1/this.step)),this.value=O,this._onChange&&this._onChange(O)}writeValue(O){this.value=O}registerOnChange(O){this._onChange=O}registerOnTouched(O){this._onTouch=O}static#e=this.\u0275fac=function(m){return new(m||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}])],decls:10,vars:4,consts:[["counter","",1,"flex","items-center","text-base","space-x-2","p-2",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["decrease","","icon","","matRipple","","type","button",1,"border","border-error","text-error","rounded","h-10","w-10",3,"click","disabled"],["value","",1,"relative","p-1","flex","items-center","justify-center","w-16","h-10","rounded","border","border-base-300"],[4,"ngIf"],["type","text","limitInput","",1,"absolute","inset-0","opacity-0","focus:opacity-100","p-2",3,"ngModelChange","focus","blur","ngModel"],["increase","","icon","","matRipple","","type","button",1,"border","border-success","text-success","rounded","h-10","w-10",3,"click","disabled"]],template:function(m,E){1&m&&(t.j41(0,"div",0),t.bIt("keydown.shift",function(){return E.shift_key=!0},!1,t.tSv)("keydown.control",function(){return E.ctrl_key=!0},!1,t.tSv)("keydown.meta",function(){return E.ctrl_key=!0},!1,t.tSv)("keyup.shift",function(){return E.shift_key=!1},!1,t.tSv)("keyup.control",function(){return E.ctrl_key=!1},!1,t.tSv)("keyup.meta",function(){return E.ctrl_key=!1},!1,t.tSv),t.j41(1,"button",1),t.bIt("click",function(){return E.remove()}),t.j41(2,"app-icon"),t.EFF(3,"remove"),t.k0s()(),t.j41(4,"div",2),t.DNE(5,g,2,1,"span",3),t.j41(6,"input",4),t.mxI("ngModelChange",function(M){return t.DH7(E.value,M)||(E.value=M),M}),t.bIt("focus",function(){return E.focused=!0})("blur",function(){return E.setValue(+E.value),E.focused=!1}),t.k0s()(),t.j41(7,"button",5),t.bIt("click",function(){return E.add()}),t.j41(8,"app-icon"),t.EFF(9,"add"),t.k0s()()()),2&m&&(t.R7$(),t.Y8G("disabled",!E.value||E.value===E.min),t.R7$(4),t.Y8G("ngIf",!E.focused),t.R7$(),t.R50("ngModel",E.value),t.R7$(),t.Y8G("disabled",E.value===E.max))},dependencies:[f.bT,n.me,n.BC,n.vS,v.r6,b.R,C.B]})}return h})()},9608:(At,ue,a)=>{"use strict";a.d(ue,{G:()=>m});var t=a(3953),n=a(9417),f=a(2238),v=a(3601),b=a(6299),C=a(4512),g=a(1406),S=a(5354);const h=["*"];function y(E,u){1&E&&(t.j41(0,"span"),t.SdG(1),t.k0s())}function O(E,u){if(1&E){const M=t.RV6();t.j41(0,"div",6)(1,"date-calendar",7),t.bIt("ngModelChange",function(D){t.eBV(M);const A=t.XpG();return t.Njj(A.setValue(D))}),t.k0s()()}if(2&E){const M=t.XpG();t.R7$(),t.Y8G("ngModel",M.date)("from",M.from)("to",M.until)("offset_weekday",M.week_start)}}let m=(()=>{class E extends S.T{get has_error(){return this._control?.invalid&&this._control?.touched}constructor(M){super(),this._injector=M,this.from_date=(0,v.o)(Date.now()).valueOf(),this.week_start=0,this.short=!1,this.date=Date.now()}get from(){return new Date(this.from_date)||(0,v.o)(new Date)}get until(){return new Date(this.to_date)||(0,b.e)((0,C.D)(new Date),1)}ngOnInit(){this._control=this._injector.get(n.vO),this.date=Date.now()}setValue(M){const x=new Date(this.date);let D=(0,g.h)(M,{hours:x.getHours(),minutes:x.getMinutes()}).valueOf();D<this.from.valueOf()&&(D=this.from.valueOf()),this.date=D,this._onChange&&this._onChange(D),this._tooltip?.close()}writeValue(M){this.date=M||Date.now(),this._tooltip?.close()}registerOnChange(M){this._onChange=M}registerOnTouched(M){this._onTouch=M}setDisabledState(M){this.disabled=M}static#e=this.\u0275fac=function(x){return new(x||E)(t.rXU(t.zZn))};static#t=this.\u0275cmp=t.VBU({type:E,selectors:[["a-date-field"]],viewQuery:function(x,D){if(1&x&&t.GBs(f.I,5),2&x){let A;t.mGM(A=t.lsd())&&(D._tooltip=A.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>E),multi:!0}]),t.Vt3],ngContentSelectors:h,decls:11,vars:9,consts:[["calendar_picker",""],["customTooltip","","yPosition","top","matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full",3,"content","disabled"],[1,"px-4","py-2","flex-1","truncate","w-1/2","text-left","font-normal"],[1,"h-10","w-10","flex","items-center","justify-center","text-2xl"],[1,"error","h-5","p-1","text-xs","text-error"],[4,"ngIf"],[1,"relative","w-[18rem]","rounded","bg-base-100","px-2","py-4"],[3,"ngModelChange","ngModel","from","to","offset_weekday"]],template:function(x,D){if(1&x&&(t.NAR(),t.j41(0,"button",1)(1,"p",2),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div",3)(5,"app-icon"),t.EFF(6,"today"),t.k0s()()(),t.j41(7,"div",4),t.DNE(8,y,2,0,"span",5),t.k0s(),t.DNE(9,O,2,4,"ng-template",null,0,t.C5r)),2&x){const A=t.sdS(10);t.AVh("opacity-30",D.disabled),t.Y8G("content",A)("disabled",D.disabled),t.R7$(2),t.SpI(" ",t.i5U(3,6,D.date,D.short?"MMM d, yyyy":"MMMM d, yyyy")," "),t.R7$(6),t.Y8G("ngIf",D.has_error)}}})}return E})()},3476:(At,ue,a)=>{"use strict";a.d(ue,{y:()=>m});var t=a(3953),n=a(9417),f=a(7926),v=a(2659),b=a(177),C=a(3719),g=a(2798),S=a(6600);const h=["*"];function y(E,u){if(1&E&&(t.qex(0),t.EFF(1),t.nI1(2,"date"),t.bVm()),2&E){const M=t.XpG().$implicit,x=t.XpG();t.R7$(),t.E5c(" ",M.date?t.i5U(2,3,M.date,M.id>=1440?"mediumDate":x.use_24hr?"HH : mm":"h : mm a")+" (":"","",M.name,"",M.date?")":""," ")}}function O(E,u){if(1&E&&(t.j41(0,"mat-option",5),t.DNE(1,y,3,6,"ng-container",6),t.EFF(2),t.k0s()),2&E){const M=u.$implicit,x=t.XpG();t.Y8G("value",M.id),t.R7$(),t.Y8G("ngIf",!x.force),t.R7$(),t.SpI(" ",x.force," ")}}let m=(()=>{class E{constructor(){this.max=240,this.min=30,this.step=15,this.custom_options=[],this.use_24hr=!1,this.duration=60,this.duration_options=[]}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption()}ngOnChanges(M){(M.max||M.min||M.step||M.time||M.custom_options)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption())}setValue(M){this.duration=M,this._onChange&&this._onChange(+M)}writeValue(M){this.duration=M,this._updateOption()}setDisabledState(M){this.disabled=M}registerOnChange(M){this._onChange=M}registerOnTouched(M){this._onTouch=M}generateDurationOptions(M,x,D){const A=[];let L=x;const l=this.time?this.time:null;for(const $ of this.custom_options)A.push({id:$,date:l?(0,f.z)(l,$).valueOf():void 0,name:$>=1440?`${(0,v.a)({days:Math.floor($/1440)})}`:`${(0,v.a)({hours:Math.floor($/60),minutes:$%60})}`});for(;L<=M;)A.push({id:L,date:l?(0,f.z)(l,L).valueOf():void 0,name:0===L?(0,v.a)({minutes:0},{zero:!0}):L>=1440?`${(0,v.a)({days:Math.floor(L/1440)})}`:`${(0,v.a)({hours:Math.floor(L/60),minutes:L%60})}`}),L+=D;return A.sort(($,R)=>$.id-R.id),A}_updateOption(){this.duration_options?.length&&this.duration_options.findIndex(x=>x.id===this.duration)<0&&this.setValue(this.min)}static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275cmp=t.VBU({type:E,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",custom_options:"custom_options",force:"force",use_24hr:"use_24hr"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>E),multi:!0}]),t.OA$],ngContentSelectors:h,decls:7,vars:5,consts:[["select",""],[1,"duration-field"],["appearance","outline"],[3,"valueChange","value","disabled","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"]],template:function(x,D){if(1&x){const A=t.RV6();t.NAR(),t.j41(0,"div",1)(1,"mat-form-field",2)(2,"mat-select",3,0),t.bIt("valueChange",function(l){return t.eBV(A),t.Njj(D.setValue(l))}),t.DNE(4,O,3,3,"mat-option",4),t.k0s(),t.j41(5,"mat-error"),t.SdG(6),t.k0s()()()}2&x&&(t.BMQ("disabled",D.disabled),t.R7$(2),t.Y8G("value",D.duration)("disabled",D.disabled)("placeholder",D.duration+" minutes"),t.R7$(2),t.Y8G("ngForOf",D.duration_options))},dependencies:[b.Sq,b.bT,C.rl,C.TL,g.VO,S.wT,b.vh],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return E})()},2013:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>ur});var t=a(177),n=a(9417),f=a(3801),v=a(6471),b=a(6600),C=a(3719),g=a(9631),S=a(2798),h=a(850),y=a(4823),O=a(2765),m=a(5951),E=a(1395),u=a(3953),M=a(9434);a(5507);var L=a(9608),l=a(3476),R=(a(1413),a(840)),F=a(8e3),P=a(7336);function k(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"mat-chip-row",5),u.bIt("removed",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.remove(Gt))}),u.j41(1,"span",6),u.EFF(2),u.k0s(),u.j41(3,"button",7)(4,"app-icon"),u.EFF(5,"cancel"),u.k0s()()()}if(2&Xt){const ot=Cn.$implicit;u.R7$(2),u.JRh(ot),u.R7$(),u.BMQ("aria-label","Remove "+ot)}}let X=(()=>{class Xt{constructor(){this.separators=[P.Fm,P.KE],this.placeholder="",this.value=[],this.add=ot=>function V(Xt,Cn){if(!Xt)return;const ot=Cn.input,jt=Cn.value,Gt=Xt.value;if(jt.includes(",")){const Mn=jt.split(",");for(const Gn of Mn)(Gn||"").trim()&&(Gt.push(Gn.trim()),Xt.setValue(Gt))}else(jt||"").trim()&&(Gt.push(jt.trim()),Xt.setValue(Gt));ot&&(ot.value="")}({value:this.value,setValue:jt=>this.setValue(jt)},ot),this.remove=ot=>function K(Xt,Cn){if(!Xt)return;const ot=Xt.value,jt=ot.indexOf(Cn);jt>=0&&(ot.splice(jt,1),Xt.setValue(ot))}({value:this.value,setValue:jt=>this.setValue(jt)},ot)}setValue(ot){this.value=ot,this._onChange&&this._onChange(ot)}writeValue(ot){this.value=ot}registerOnChange(ot){this._onChange=ot}registerOnTouched(ot){this._onTouch=ot}static#e=this.\u0275fac=function(jt){return new(jt||Xt)};static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["item-list-field"]],inputs:{separators:"separators",placeholder:"placeholder"},features:[u.Jv_([{provide:n.kq,useExisting:(0,u.Rfq)(()=>Xt),multi:!0}])],decls:5,vars:5,consts:[["chipList",""],["appearance","outline",1,"w-full"],["aria-label","Zone Tags"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]],template:function(jt,Gt){if(1&jt){const Mn=u.RV6();u.j41(0,"mat-form-field",1)(1,"mat-chip-grid",2,0),u.DNE(3,k,6,2,"mat-chip-row",3),u.k0s(),u.j41(4,"input",4),u.bIt("matChipInputTokenEnd",function(ji){return u.eBV(Mn),u.Njj(Gt.add(ji))}),u.k0s()()}if(2&jt){const Mn=u.sdS(2);u.R7$(3),u.Y8G("ngForOf",Gt.value),u.R7$(),u.Y8G("placeholder",Gt.placeholder||"User groups...")("matChipInputFor",Mn)("matChipInputSeparatorKeyCodes",Gt.separators)("matChipInputAddOnBlur",!0)}},dependencies:[t.Sq,C.rl,v.HW,v.D7,v.Zv,v.jH,M.R]})}return Xt})();var Q=a(2333),z=(a(1604),a(2727),a(285),a(9183)),nt=a(4233),$e=a(5752),Ie=a(2185),me=a(9928),De=a(3020),ke=a(4006);const Qe=()=>({standalone:!0});function Ne(Xt,Cn){if(1&Xt&&u.nrm(0,"img",30),2&Xt){const ot=u.XpG().$implicit;u.Y8G("source",ot.images[0])}}function at(Xt,Cn){1&Xt&&u.nrm(0,"img",31)}function Lt(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"div",18)(1,"div",19),u.DNE(2,Ne,1,1,"img",20)(3,at,1,0,"ng-template",null,0,u.C5r),u.k0s(),u.j41(5,"div",21)(6,"div",22),u.EFF(7),u.k0s(),u.j41(8,"div",23)(9,"app-icon",24),u.EFF(10,"place"),u.k0s(),u.j41(11,"p"),u.EFF(12),u.k0s()(),u.j41(13,"div",23)(14,"app-icon",24),u.EFF(15,"people"),u.k0s(),u.j41(16,"p"),u.pXf(17,6),u.k0s()(),u.j41(18,"div",25)(19,"button",26),u.bIt("click",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.changeSpaces(Gt))}),u.j41(20,"div",27),u.PLo(21,7),u.nrm(22,"app-icon"),u.YFu(),u.k0s()(),u.j41(23,"button",28),u.bIt("click",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.removeSpace(Gt))}),u.j41(24,"div",27),u.PLo(25,8),u.nrm(26,"app-icon"),u.YFu(),u.k0s()()()(),u.j41(27,"button",29),u.bIt("click",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.toggleFavourite(Gt))}),u.j41(28,"app-icon"),u.EFF(29),u.k0s()()()}if(2&Xt){let ot;const jt=Cn.$implicit,Gt=u.sdS(4),Mn=u.XpG();u.R7$(2),u.Y8G("ngIf",null==jt.images?null:jt.images.length)("ngIfElse",Gt),u.R7$(5),u.SpI(" ",jt.display_name||jt.name||"Meeting Space"," "),u.R7$(5),u.SpI(" ",jt.location||(null==(ot=Mn.level(jt.zones))?null:ot.display_name)||(null==(ot=Mn.level(jt.zones))?null:ot.name)," "),u.R7$(5),u.uP7(jt.capacity<1?2:jt.capacity)(jt.capacity),u.nnv(17),u.R7$(10),u.AVh("text-blue-400",Mn.favorites.includes(null==jt?null:jt.id)),u.R7$(2),u.JRh(Mn.favorites.includes(null==jt?null:jt.id)?"favorite":"favorite_border")}}const Kt=[];let Ot=(()=>{class Xt{get favorites(){return this._settings.get("favourite_spaces")||Kt}constructor(ot,jt,Gt){this._settings=ot,this._org=jt,this._dialog=Gt,this.multiday=!1,this.room_size=4,this.spaces=new me.t([]),this.space_list=this.spaces.pipe((0,De.B)(300)),this.disabled=!1,this.registerOnChange=Mn=>this._onChange=Mn,this.registerOnTouched=Mn=>this._onTouch=Mn,this.setDisabledState=Mn=>this.disabled=Mn}ngOnDestroy(){this._dialog_ref&&this._dialog_ref.close()}level(ot){return this._org.levelWithID(ot)}changeSpaces(){this._dialog_ref=this._dialog.open($e.d,{data:{spaces:this.spaces.getValue(),options:{capacity:this.room_size},multiday:this.multiday}}),this._dialog_ref.afterClosed().subscribe(()=>{this.setValue(this._dialog_ref?.componentInstance?.selected),this._dialog_ref=void 0})}removeSpace(ot){this.setValue(this.spaces.getValue().filter(jt=>jt.id!==ot.id))}setValue(ot){this.spaces.next(ot||[]),this._onChange&&this._onChange(ot||[])}writeValue(ot){this.spaces.next(ot||[])}toggleFavourite(ot){if(!ot?.id)return;const jt=this.favorites;jt.includes(ot.id)?this._settings.saveUserSetting("favourite_spaces",jt.filter(Mn=>Mn!==ot.id)):this._settings.saveUserSetting("favourite_spaces",[...jt,ot.id])}static#e=this.\u0275fac=function(jt){return new(jt||Xt)(u.rXU(nt.h),u.rXU(Ie.yb),u.rXU(ke.bZ))};static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["space-list-field"]],inputs:{multiday:"multiday"},features:[u.Jv_([{provide:n.kq,useExisting:(0,u.Rfq)(()=>Xt),multi:!0}])],decls:23,vars:9,consts:()=>{let ot,jt,Gt,Mn,Gn,ji,qo,ls,Vo;return ot=$localize`:1b75f93ee5764eaf4e3e5b35f9142aa730286aba2378084019110582405:Select Room Size${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,jt=$localize`:9a4b4695fcd5f591ff27d32d69654210c1edbce85941148565596549711: Min. 2 People `,Gt=$localize`:c08792b3fa94dc973ac18033a872580a83beded95844713600133557099: Min. 4 People `,Mn=$localize`:94d037a05d336158339e193309f967a769878040694015482067564775: Min. 10 People `,Gn=$localize`:2a4f48e169dc20ba9ed88d3bfe38f47ecc9204e64961016996305563664:Add Space`,ji=$localize`:ed210c8c0f2511082633f06a2c94b8410f6cd9bf426413428618668868:{VAR_PLURAL, plural, =1 {Person } other {People
                            }}`,ji=u.k04(ji,{VAR_PLURAL:"\ufffd1\ufffd"}),qo=$localize`:ddc17cbb67fd49c13c14733c877b09fb9bd86d87686822217414553756: ${"\ufffd0\ufffd"}:INTERPOLATION: ${ji}:ICU: `,ls=$localize`:ca9092fdbbb85e5828de77fdf85c49b918cec128559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,Vo=$localize`:a386ba350cdee69beeb12a908d96f0724ddc20542582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],ot,jt,Gt,Mn,Gn,qo,ls,Vo,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],[1,"flex","items-center"],["aria-label","Select Room Size",1,"space-x-4",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-space",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"sm:space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-space",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-space",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]]},template:function(jt,Gt){1&jt&&(u.j41(0,"div")(1,"div",9)(2,"div",10)(3,"label"),u.PLo(4,1),u.nrm(5,"span"),u.YFu(),u.k0s(),u.j41(6,"div",11)(7,"mat-radio-group",12),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.room_size,Gn)||(Gt.room_size=Gn),Gn}),u.j41(8,"mat-radio-button",13),u.pXf(9,2),u.k0s(),u.j41(10,"mat-radio-button",13),u.pXf(11,3),u.k0s(),u.j41(12,"mat-radio-button",13),u.pXf(13,4),u.k0s()()()()()(),u.j41(14,"div",14),u.DNE(15,Lt,30,9,"div",15),u.nI1(16,"async"),u.k0s(),u.j41(17,"button",16),u.bIt("click",function(){return Gt.changeSpaces()}),u.j41(18,"div",17)(19,"app-icon"),u.EFF(20,"search"),u.k0s(),u.j41(21,"span"),u.pXf(22,5),u.k0s()()()),2&jt&&(u.R7$(7),u.R50("ngModel",Gt.room_size),u.Y8G("ngModelOptions",u.lJ4(8,Qe)),u.R7$(),u.Y8G("value",1),u.R7$(2),u.Y8G("value",4),u.R7$(2),u.Y8G("value",10),u.R7$(3),u.Y8G("ngForOf",u.bMT(16,6,Gt.space_list)))}})}return Xt})();var Se=a(5055);const ve=["container"],N=["editor"];let ie=(()=>{class Xt extends Q.Tv{constructor(){super(...arguments),this.placeholder="",this.readonly=!1,this._updateFn=()=>this.setValue(this._editor.root.innerHTML),this.registerOnChange=ot=>this._onChange=ot,this.registerOnTouched=ot=>this._onTouch=ot}ngOnChanges(ot){}ngAfterViewInit(){this._initialiseEditor()}setValue(ot){this._onChange&&this._onChange(ot)}writeValue(ot){this.timeout("write",()=>{if(this._editor){const jt=this._editor.clipboard.convert(ot);this._editor.setContents(jt,"silent")}else this.timeout("write",()=>this.writeValue(ot))})}_initialiseEditor(){this._editor=new Se(this._editor_el.nativeElement,{bounds:this._container_el.nativeElement,placeholder:this.placeholder,modules:{toolbar:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}]]},readOnly:this.readonly,theme:"snow"}),this._editor.on("text-change",this._updateFn),this.subscription("changes",()=>this._editor.off("text-change",this._updateFn))}static#e=this.\u0275fac=(()=>{let ot;return function(Gt){return(ot||(ot=u.xGo(Xt)))(Gt||Xt)}})();static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["rich-text-input"]],viewQuery:function(jt,Gt){if(1&jt&&(u.GBs(ve,5),u.GBs(N,5)),2&jt){let Mn;u.mGM(Mn=u.lsd())&&(Gt._container_el=Mn.first),u.mGM(Mn=u.lsd())&&(Gt._editor_el=Mn.first)}},inputs:{placeholder:"placeholder",readonly:"readonly"},features:[u.Jv_([{provide:n.kq,useExisting:(0,u.Rfq)(()=>Xt),multi:!0}]),u.Vt3,u.OA$],decls:4,vars:0,consts:[["container",""],["editor",""]],template:function(jt,Gt){1&jt&&(u.j41(0,"div",null,0),u.nrm(2,"div",null,1),u.k0s())}})}return Xt})();var Y=a(467),Ze=(a(2372),a(3693)),sn=(a(6576),a(4421));a(4279),a(7354),a(762),a(7765),a(3004);var Fn=a(9090),$n=a(3921),ut=a(5006),Pe=a(8712);a(9493);var Ut=a(6864),Fe=(a(1280),a(906));function Ue(Xt,Cn){1&Xt&&(u.j41(0,"h2",24),u.EFF(1," Repeat on "),u.k0s())}function we(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"div",25)(1,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(0))}),u.EFF(2," S "),u.k0s(),u.j41(3,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(1))}),u.EFF(4," M "),u.k0s(),u.j41(5,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(2))}),u.EFF(6," T "),u.k0s(),u.j41(7,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(3))}),u.EFF(8," W "),u.k0s(),u.j41(9,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(4))}),u.EFF(10," T "),u.k0s(),u.j41(11,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(5))}),u.EFF(12," F "),u.k0s(),u.j41(13,"button",26),u.bIt("click",function(){u.eBV(ot);const Gt=u.XpG();return u.Njj(Gt.toggleDayOfWeek(6))}),u.EFF(14," S "),u.k0s()()}if(2&Xt){const ot=u.XpG();u.R7$(),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(0))),u.R7$(2),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(1))),u.R7$(2),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(2))),u.R7$(2),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(3))),u.R7$(2),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(4))),u.R7$(2),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(5))),u.R7$(2),u.AVh("inverse",!(null!=ot.data.days_of_week&&ot.data.days_of_week.includes(6)))}}let rt=(()=>{class Xt{constructor(ot){this._data=ot,this.data={...this._data.value,end:this._data.value.end||(0,Fe.f)(new Date,7).valueOf(),interval:this._data.value.interval||1,pattern:this._data.value.pattern?this._data.value.pattern:"weekly",occurrences:this._data.value.occurrences||1},this.ends_key="never"}toggleDayOfWeek(ot){this.data.days_of_week||(this.data.days_of_week=[]),this.data.days_of_week.includes(ot)?this.data.days_of_week=this.data.days_of_week.filter(jt=>jt!==ot):this.data.days_of_week.push(ot)}static#e=this.\u0275fac=function(jt){return new(jt||Xt)(u.rXU(ke.Vh))};static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["recurrence-modal"]],decls:42,vars:13,consts:[["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4"],[1,"flex","items-center","space-x-2","mb-4"],["appearance","outline",1,"w-16"],["matInput","","type","number",3,"ngModelChange","ngModel"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","month_day"],["for","repeat-on","class","mb-2",4,"ngIf"],["class","flex items-center space-x-2 mb-4","name","repeat-on",4,"ngIf"],["for","ends-at"],["name","ends-at",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["value","never",3,"click"],[1,"flex","items-center","space-x-2"],["value","on"],[3,"ngModelChange","ngModel","disabled"],["value","after"],["matInput","","type","number",3,"ngModelChange","ngModel","disabled"],["matSuffix",""],[1,"px-4","py-2","flex","items-center","justify-end","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click","mat-dialog-close"],["for","repeat-on",1,"mb-2"],["name","repeat-on",1,"flex","items-center","space-x-2","mb-4"],["btn","","matRipple","",1,"w-12",3,"click"]],template:function(jt,Gt){1&jt&&(u.j41(0,"header")(1,"h2"),u.EFF(2,"Custom Recurrence"),u.k0s(),u.j41(3,"button",0)(4,"app-icon"),u.EFF(5,"close"),u.k0s()()(),u.j41(6,"main",1)(7,"div",2)(8,"div"),u.EFF(9,"Repeat every"),u.k0s(),u.j41(10,"mat-form-field",3)(11,"input",4),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.data.interval,Gn)||(Gt.data.interval=Gn),Gn}),u.k0s()(),u.j41(12,"mat-form-field",5)(13,"mat-select",6),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.data.pattern,Gn)||(Gt.data.pattern=Gn),Gn}),u.j41(14,"mat-option",7),u.EFF(15),u.k0s(),u.j41(16,"mat-option",8),u.EFF(17),u.k0s(),u.j41(18,"mat-option",9),u.EFF(19),u.k0s()()()(),u.DNE(20,Ue,2,0,"h2",10)(21,we,15,14,"div",11),u.j41(22,"h2",12),u.EFF(23,"Ends"),u.k0s(),u.j41(24,"mat-radio-group",13),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.ends_key,Gn)||(Gt.ends_key=Gn),Gn}),u.j41(25,"div",14)(26,"mat-radio-button",15),u.bIt("click",function(){return Gt.data.occurrences=0}),u.EFF(27," Never "),u.k0s()(),u.j41(28,"div",16)(29,"mat-radio-button",17),u.EFF(30,"On"),u.k0s(),u.j41(31,"a-date-field",18),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.data.end,Gn)||(Gt.data.end=Gn),Gn}),u.k0s()(),u.j41(32,"div",16)(33,"mat-radio-button",19),u.EFF(34,"After"),u.k0s(),u.j41(35,"mat-form-field",5)(36,"input",20),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.data.occurrences,Gn)||(Gt.data.occurrences=Gn),Gn}),u.k0s(),u.j41(37,"span",21),u.EFF(38,"occurences"),u.k0s()()()()(),u.j41(39,"footer",22)(40,"button",23),u.bIt("click",function(){return Gt.data.occurrences="never"===Gt.ends_key?0:Gt.data.occurrences}),u.EFF(41," Save "),u.k0s()()),2&jt&&(u.R7$(11),u.R50("ngModel",Gt.data.interval),u.R7$(2),u.R50("ngModel",Gt.data.pattern),u.R7$(2),u.SpI(" day",1===Gt.data.interval?"":"s"," "),u.R7$(2),u.SpI(" week",1===Gt.data.interval?"":"s"," "),u.R7$(2),u.SpI(" month",1===Gt.data.interval?"":"s"," "),u.R7$(),u.Y8G("ngIf","weekly"===Gt.data.pattern),u.R7$(),u.Y8G("ngIf","weekly"===Gt.data.pattern),u.R7$(3),u.R50("ngModel",Gt.ends_key),u.R7$(7),u.R50("ngModel",Gt.data.end),u.Y8G("disabled","on"!==Gt.ends_key),u.R7$(5),u.R50("ngModel",Gt.data.occurrences),u.Y8G("disabled","after"!==Gt.ends_key),u.R7$(4),u.Y8G("mat-dialog-close",Gt.data))},styles:["mat-form-field[_ngcontent-%COMP%], a-date-field[_ngcontent-%COMP%]{height:3.25rem}mat-radio-button[_ngcontent-%COMP%]{width:8rem}"]})}return Xt})();var vt=a(4512);a(6299);var fn=a(8791),wt=a(3601),Yt=a(1406),tn=a(5458),cn=a(7793),xn=a(4273);function ii(Xt){const Cn=(0,xn.a)(Xt);return Cn.setDate(1),Cn.setHours(0,0,0,0),Cn}var bi=a(9255);function hi(Xt,Cn){const ot=(0,xn.a)(Xt),jt=(0,xn.a)(Cn);return ot.getFullYear()===jt.getFullYear()&&ot.getMonth()===jt.getMonth()}function Mi(Xt,Cn){if(1&Xt&&(u.j41(0,"div",10),u.EFF(1),u.nI1(2,"date"),u.k0s()),2&Xt){const ot=Cn.$implicit;u.R7$(),u.SpI(" ",u.i5U(2,1,null==ot?null:ot.id,"EE")," ")}}function ro(Xt,Cn){1&Xt&&u.nrm(0,"div",14)}function po(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"button",11),u.bIt("click",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.setValue(Gt.id))}),u.EFF(1),u.nI1(2,"date"),u.DNE(3,ro,1,0,"div",12),u.nrm(4,"div",13),u.k0s()}if(2&Xt){const ot=Cn.$implicit,jt=u.XpG();u.AVh("hover:bg-base-100",ot.id!==jt.active_date)("!text-base-300",!ot.is_month)("text-secondary-content",ot.id===jt.active_date)("text-base-content",ot.id!==jt.active_date)("bg-secondary",ot.id===jt.active_date)("font-normal",ot.id!==jt.active_date),u.Y8G("disabled",ot.id<jt.from||ot.id>jt.to),u.R7$(),u.SpI(" ",u.i5U(2,15,ot.id,"d")," "),u.R7$(2),u.Y8G("ngIf",jt.today===ot.id)}}let ki=(()=>{class Xt extends Q.Tv{constructor(ot){super(),this._settings=ot,this.from=0,this.to=10*Date.now(),this.offset_weekday=0,this.today=(0,wt.o)(Date.now()).valueOf(),this.date=Date.now(),this.active_date=(0,wt.o)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.registerOnChange=jt=>this._onChange=jt,this.registerOnTouched=jt=>this._onTouch=jt}ngOnInit(){this.generateDates()}ngOnChanges(ot){ot.offset_weekday&&this.generateDates()}setValue(ot){if(ot<this.from||ot>=this.to)return;const jt=new Date(ot);this.date=(0,Yt.h)(this.date,{date:jt.getDate(),month:jt.getMonth(),year:jt.getFullYear()}).valueOf(),this.active_date=(0,wt.o)(this.date).valueOf(),this._onChange&&this._onChange(ot)}writeValue(ot){this.date=ot,this.active_date=(0,wt.o)(ot).valueOf(),this.offset=0,this.generateDates()}changeMonth(ot){this.offset+=ot,this.generateDates()}generateDates(){const ot=this._settings.get("app.week_start")||this.offset_weekday,jt=(0,tn.P)(this.date,this.offset);let Gt=(0,cn.k)(ii(jt),{weekStartsOn:ot});const Mn=(0,wt.o)(Date.now()),Gn=[];for(;Gn.length<42;)Gn.push({id:Gt.valueOf(),is_past:(0,bi.Y)(Gt,Mn),is_month:hi(Gt,jt)}),Gt=(0,Fe.f)(Gt,1);this.date_list=Gn}static#e=this.\u0275fac=function(jt){return new(jt||Xt)(u.rXU(Q.h$))};static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["date-calendar"]],inputs:{from:"from",to:"to",offset_weekday:"offset_weekday"},features:[u.Jv_([{provide:n.kq,useExisting:(0,u.Rfq)(()=>Xt),multi:!0}]),u.Vt3,u.OA$],decls:17,vars:12,consts:[[1,"p-2"],[1,"flex","items-center","justify-between"],[1,"pl-1.5","pr-2","font-medium"],[1,"flex","items-center"],["icon","","matRipple","","name","schedule-next-month",3,"click","disabled"],["icon","","matRipple","","name","schedule-previous-month",3,"click","disabled"],[1,"flex","items-center","text-sm","mb-2","pb-2","border-b","border-base-200"],["class","flex-1 opacity-60 text-center",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","flex-wrap"],["icon","","name","schedule-set-date","class","min-w-[14%] w-9 h-9 relative overflow-visible my-0.5",3,"hover:bg-base-100","!text-base-300","text-secondary-content","text-base-content","bg-secondary","font-normal","disabled","click",4,"ngFor","ngForOf"],[1,"flex-1","opacity-60","text-center"],["icon","","name","schedule-set-date",1,"min-w-[14%]","w-9","h-9","relative","overflow-visible","my-0.5",3,"click","disabled"],["class","absolute -inset-[2px] border border-secondary rounded-full overflow-hidden","matRipple","",4,"ngIf"],["matRipple","",1,"absolute","inset-0","overflow-hidden","rounded-full"],["matRipple","",1,"absolute","-inset-[2px]","border","border-secondary","rounded-full","overflow-hidden"]],template:function(jt,Gt){1&jt&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2),u.EFF(3),u.nI1(4,"date"),u.k0s(),u.j41(5,"div",3)(6,"button",4),u.bIt("click",function(){return Gt.changeMonth(-1)}),u.j41(7,"app-icon"),u.EFF(8,"chevron_left"),u.k0s()(),u.j41(9,"button",5),u.bIt("click",function(){return Gt.changeMonth(1)}),u.j41(10,"app-icon"),u.EFF(11,"chevron_right"),u.k0s()()()(),u.j41(12,"div",6),u.DNE(13,Mi,3,4,"div",7),u.nI1(14,"slice"),u.k0s(),u.j41(15,"div",8),u.DNE(16,po,5,18,"button",9),u.k0s()()),2&jt&&(u.R7$(3),u.SpI(" ",u.i5U(4,5,(null==Gt.date_list[6]?null:Gt.date_list[6].id)||Gt.date,"LLLL YYYY")," "),u.R7$(3),u.Y8G("disabled",(null==Gt.date_list[0]?null:Gt.date_list[0].id)<Gt.from),u.R7$(3),u.Y8G("disabled",(null==Gt.date_list[34]?null:Gt.date_list[34].id)>Gt.to),u.R7$(4),u.Y8G("ngForOf",u.brH(14,8,Gt.date_list,0,7)),u.R7$(3),u.Y8G("ngForOf",Gt.date_list))},dependencies:[t.Sq,t.bT,b.r6,M.R,t.P9,t.vh]})}return Xt})();var Po=a(5157),uo=a(8728);const ni=()=>({standalone:!0});function fi(Xt,Cn){if(1&Xt&&(u.j41(0,"mat-option",26),u.EFF(1),u.k0s()),2&Xt){const ot=Cn.$implicit;u.Y8G("value",ot.id),u.R7$(),u.SpI(" ",ot.display_name||ot.name," ")}}function pi(Xt,Cn){1&Xt&&(u.j41(0,"mat-checkbox",27),u.EFF(1," Auto Approve Bookings "),u.k0s())}function Oe(Xt,Cn){if(1&Xt&&(u.j41(0,"div",28)(1,"label",29),u.EFF(2),u.k0s(),u.nrm(3,"item-list-field",30),u.k0s()),2&Xt){const ot=u.XpG();u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," Booking for Groups:")}}function Je(Xt,Cn){1&Xt&&(u.j41(0,"div",28)(1,"label",31),u.EFF(2,"Locations:"),u.k0s(),u.nrm(3,"item-list-field",32),u.k0s())}function J(Xt,Cn){if(1&Xt&&(u.j41(0,"div",2)(1,"label",35),u.EFF(2),u.k0s(),u.nrm(3,"a-duration-field",36),u.k0s()),2&Xt){const ot=u.XpG(2);u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," booking with a minimum length of:"),u.R7$(),u.Y8G("min",15)("max",1440)("step",15)}}function he(Xt,Cn){if(1&Xt&&(u.j41(0,"div",2)(1,"label",37),u.EFF(2),u.k0s(),u.nrm(3,"a-duration-field",38),u.k0s()),2&Xt){const ot=u.XpG(2);u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," booking with a maximum length up to:"),u.R7$(),u.Y8G("min",ot.form.value.conditions.min_length||15)("max",1440)("step",15)}}function ge(Xt,Cn){if(1&Xt&&(u.j41(0,"div",33),u.DNE(1,J,4,4,"div",34)(2,he,4,4,"div",34),u.k0s()),2&Xt){const ot=u.XpG();u.R7$(),u.Y8G("ngIf",ot.available_conditions.includes("min_length")),u.R7$(),u.Y8G("ngIf",ot.available_conditions.includes("max_length"))}}function ze(Xt,Cn){if(1&Xt&&(u.j41(0,"mat-option",26),u.EFF(1),u.k0s()),2&Xt){const ot=Cn.$implicit;u.Y8G("value",ot),u.R7$(),u.SpI(" ",ot," ")}}function yt(Xt,Cn){if(1&Xt&&(u.j41(0,"div",28)(1,"label",39),u.EFF(2),u.k0s(),u.j41(3,"mat-form-field",40)(4,"mat-select",41),u.DNE(5,ze,2,2,"mat-option",7),u.k0s(),u.j41(6,"mat-error"),u.EFF(7,"A valid time is required"),u.k0s()()()),2&Xt){const ot=u.XpG();u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," booking before:"),u.R7$(3),u.Y8G("ngForOf",ot.duration_blocks)}}function mn(Xt,Cn){if(1&Xt&&(u.j41(0,"mat-option",26),u.EFF(1),u.k0s()),2&Xt){const ot=Cn.$implicit;u.Y8G("value",ot),u.R7$(),u.SpI(" ",ot," ")}}function Ln(Xt,Cn){if(1&Xt&&(u.j41(0,"div",28)(1,"label",42),u.EFF(2),u.k0s(),u.j41(3,"mat-form-field",40)(4,"mat-select",43),u.DNE(5,mn,2,2,"mat-option",7),u.k0s(),u.j41(6,"mat-error"),u.EFF(7,"A valid time is required"),u.k0s()()()),2&Xt){const ot=u.XpG();u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," booking after:"),u.R7$(3),u.Y8G("ngForOf",ot.duration_blocks)}}function ri(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"div",28)(1,"label",42),u.EFF(2),u.k0s(),u.j41(3,"div",1)(4,"a-date-field",44),u.bIt("ngModelChange",function(Gt){u.eBV(ot);const Mn=u.XpG();return u.Njj(Mn.setIsPeriod(Gt,Mn.form.value.conditions.is_period[1]))}),u.k0s(),u.j41(5,"a-date-field",45),u.bIt("ngModelChange",function(Gt){u.eBV(ot);const Mn=u.XpG();return u.Njj(Mn.setIsPeriod(Mn.form.value.conditions.is_period[0],Gt))}),u.k0s()()()}if(2&Xt){const ot=u.XpG();u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," booking between dates:"),u.R7$(2),u.Y8G("ngModel",ot.form.value.conditions.is_period[0])("ngModelOptions",u.lJ4(6,ni)),u.R7$(),u.Y8G("from",ot.form.value.conditions.is_period[0])("ngModel",ot.form.value.conditions.is_period[1])("ngModelOptions",u.lJ4(7,ni))}}function wi(Xt,Cn){if(1&Xt&&(u.j41(0,"mat-option",26),u.EFF(1),u.nI1(2,"date"),u.k0s()),2&Xt){const ot=Cn.$implicit,jt=u.XpG(2);u.Y8G("value",ot.id),u.R7$(),u.SpI(" ",u.i5U(2,2,ot.value,jt.time_format)," ")}}function Oi(Xt,Cn){if(1&Xt&&(u.j41(0,"mat-option",26),u.EFF(1),u.nI1(2,"date"),u.k0s()),2&Xt){const ot=u.XpG().$implicit,jt=u.XpG(2);u.Y8G("value",ot.id),u.R7$(),u.SpI(" ",u.i5U(2,2,ot.value,jt.time_format)," ")}}function Vi(Xt,Cn){if(1&Xt&&(u.qex(0),u.DNE(1,Oi,3,5,"mat-option",51),u.bVm()),2&Xt){const ot=Cn.$implicit,jt=u.XpG(2);u.R7$(),u.Y8G("ngIf",ot.id>(jt.form.value.conditions.is_between[0]||6))}}function mo(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"div",28)(1,"label",46),u.EFF(2),u.k0s(),u.j41(3,"div",47)(4,"mat-form-field",40)(5,"mat-select",48),u.bIt("ngModelChange",function(Gt){u.eBV(ot);const Mn=u.XpG();return u.Njj(Mn.setIsBetween(Gt,Mn.form.value.conditions.is_between[1]))}),u.DNE(6,wi,3,5,"mat-option",7),u.k0s()(),u.j41(7,"mat-form-field",40)(8,"mat-select",49),u.bIt("ngModelChange",function(Gt){u.eBV(ot);const Mn=u.XpG();return u.Njj(Mn.setIsBetween(Mn.form.value.conditions.is_between[0],Gt))}),u.DNE(9,Vi,2,1,"ng-container",50),u.k0s(),u.j41(10,"mat-error"),u.EFF(11,"A valid end time is required"),u.k0s()()()()}if(2&Xt){const ot=u.XpG();u.R7$(2),u.SpI("",ot.form.value.rules.hidden?"Prevent":"Allow"," booking between:"),u.R7$(3),u.Y8G("ngModel",ot.form.value.conditions.is_between[0]||6)("ngModelOptions",u.lJ4(7,ni)),u.R7$(),u.Y8G("ngForOf",ot.time_blocks),u.R7$(2),u.Y8G("ngModel",ot.form.value.conditions.is_between[1]||18)("ngModelOptions",u.lJ4(8,ni)),u.R7$(),u.Y8G("ngForOf",ot.time_blocks)}}function lo(Xt,Cn){if(1&Xt&&(u.j41(0,"div",28)(1,"label",52),u.EFF(2),u.k0s(),u.nrm(3,"item-list-field",53),u.k0s()),2&Xt){const ot=u.XpG();u.R7$(2),u.SpI(" ",ot.form.value.rules.hidden?"Prevent":"Allow"," booking these resources: ")}}let Li=(()=>{class Xt{get time_format(){return this._settings.time_format}constructor(ot,jt){this._org=ot,this._settings=jt,this.save=!1,this.rulesetChange=new u.bkB,this.available_conditions=[],this.building_zones=this._org.active_building.pipe((0,uo.p)(Gt=>!!Gt),(0,Fn.n)(Gt=>(0,Po.smM)({parent_id:Gt.id}).pipe((0,$n.W)(()=>(0,sn.of)({data:[]})))),(0,ut.T)(Gt=>Gt.data),(0,Pe.t)(1)),this.time_blocks=new Array(96).fill(0).map((Gt,Mn)=>{const Gn=Math.floor(Mn/4),ji=Mn%4*15;return{id:Gn+ji/60,value:(0,Yt.h)(new Date,{hours:Gn,minutes:ji})}}),this.duration_blocks=["1 Day","2 Days","3 Days","4 Days","5 Days","1 Week","2 Weeks","3 Weeks","4 Weeks","1 Month","2 Months","3 Months","4 Months","5 Months","6 Months"],this.form=new n.gE({id:new n.MJ(`ruleset-${(0,Q.DU)(8)}`),zone:new n.MJ("*",n.k0.required),name:new n.MJ("",n.k0.required),rules:new n.gE({auto_approve:new n.MJ(!1),hidden:new n.MJ(!1)}),conditions:new n.gE({groups:new n.MJ([]),locations:new n.MJ([]),min_length:new n.MJ(0),max_length:new n.MJ(1440),is_before:new n.MJ("1 Week"),is_after:new n.MJ("1 Day"),is_between:new n.MJ([6,18]),is_period:new n.MJ([(0,wt.o)(Date.now()).valueOf(),(0,vt.D)(Date.now()).valueOf()]),resource_ids:new n.MJ([])})})}ngOnChanges(ot){ot.ruleset&&this.ruleset&&(this.available_conditions=Object.keys(this.ruleset.conditions||{}),this.form.patchValue(this.ruleset)),ot.save&&this.save!==ot.save.previousValue&&!ot.save.firstChange&&this.post()}setIsBetween(ot,jt){!ot||!jt||(ot>jt&&(jt=ot+.25),this.form.patchValue({conditions:{is_between:[ot,jt]}}))}setIsPeriod(ot,jt){!ot||!jt||(ot>jt&&(jt=ot),this.form.patchValue({conditions:{is_period:[(0,wt.o)(ot).valueOf(),(0,vt.D)(jt).valueOf()]}}))}post(){if(!this.form.valid)return(0,Q.UG)(`Some form fields are invalid. [${(0,Q.F7)(this.form).join(", ")}]`);const ot=this.form.getRawValue(),jt=Object.keys(ot.conditions);for(const Gt of jt)this.available_conditions.includes(Gt)||delete ot.conditions[Gt];this.rulesetChange.emit(ot)}static#e=this.\u0275fac=function(jt){return new(jt||Xt)(u.rXU(Ie.yb),u.rXU(Q.h$))};static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["booking-rules-form"]],inputs:{ruleset:"ruleset",save:"save"},outputs:{rulesetChange:"rulesetChange"},features:[u.OA$],decls:65,vars:16,consts:[[1,"flex","flex-col","space-y-2",3,"formGroup"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1"],["for","zone"],["appearance","outline"],["name","zone","formControlName","zone"],["value","*"],[3,"value",4,"ngFor","ngForOf"],["for","name"],["matInput","","name","name","formControlName","name","placeholder","Ruleset Name"],["formGroupName","rules",1,"flex","items-center","space-x-2"],["name","hidden","formControlName","hidden","matTooltip","Prevent user from booking the resource if the conditions match"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match",4,"ngIf"],[1,"flex","flex-col"],["name","zone","multiple","","placeholder","No Conditions. Match all resources in zone",3,"ngModelChange","ngModel","ngModelOptions"],["value","groups"],["value","locations"],["value","min_length"],["value","max_length"],["value","is_before"],["value","is_after"],["value","is_between"],["value","is_period"],["value","resource_ids"],["class","flex flex-col","formGroupName","conditions",4,"ngIf"],["class","flex items-center space-x-2","formGroupName","conditions",4,"ngIf"],[3,"value"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match"],["formGroupName","conditions",1,"flex","flex-col"],["for","groups"],["name","groups","formControlName","groups","placeholder","User groups"],["for","locations"],["name","locations","formControlName","locations","placeholder","Locations"],["formGroupName","conditions",1,"flex","items-center","space-x-2"],["class","flex flex-col flex-1",4,"ngIf"],["for","min_length"],["name","min_length","formControlName","min_length",3,"min","max","step"],["for","max_length"],["name","max_length","formControlName","max_length",3,"min","max","step"],["for","is-before"],["appearance","outline",1,"flex-1"],["name","is-before","formControlName","is_before"],["for","is-after"],["name","is-after","formControlName","is_after"],[1,"flex-1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex-1",3,"ngModelChange","from","ngModel","ngModelOptions"],["for","is_between"],[1,"flex","items-center","space-x-2","w-full"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["for","resource_ids"],["name","resource_ids","formControlName","resource_ids","placeholder","Resource IDs"]],template:function(jt,Gt){1&jt&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),u.EFF(4,"Zone"),u.j41(5,"span"),u.EFF(6,"*"),u.k0s(),u.EFF(7,":"),u.k0s(),u.j41(8,"mat-form-field",4)(9,"mat-select",5)(10,"mat-option",6),u.EFF(11,"Any Zone"),u.k0s(),u.DNE(12,fi,2,2,"mat-option",7),u.nI1(13,"async"),u.k0s(),u.j41(14,"mat-error"),u.EFF(15,"A valid zone is required"),u.k0s()()(),u.j41(16,"div",2)(17,"label",8),u.EFF(18,"Name"),u.j41(19,"span"),u.EFF(20,"*"),u.k0s(),u.EFF(21,":"),u.k0s(),u.j41(22,"mat-form-field",4),u.nrm(23,"input",9),u.j41(24,"mat-error"),u.EFF(25,"A valid name is required"),u.k0s()()()(),u.j41(26,"div",10)(27,"div",2)(28,"mat-checkbox",11),u.EFF(29," Prevent Bookings "),u.k0s()(),u.j41(30,"div",2),u.DNE(31,pi,2,0,"mat-checkbox",12),u.k0s()(),u.j41(32,"div",13)(33,"label",3),u.EFF(34,"Rule Conditions:"),u.k0s(),u.j41(35,"mat-form-field",4)(36,"mat-select",14),u.mxI("ngModelChange",function(Gn){return u.DH7(Gt.available_conditions,Gn)||(Gt.available_conditions=Gn),Gn}),u.j41(37,"mat-option",15),u.EFF(38,"Groups"),u.k0s(),u.j41(39,"mat-option",16),u.EFF(40,"Locations"),u.k0s(),u.j41(41,"mat-option",17),u.EFF(42," Minimum Length "),u.k0s(),u.j41(43,"mat-option",18),u.EFF(44," Maximum Length "),u.k0s(),u.j41(45,"mat-option",19),u.EFF(46," Is Within Days "),u.k0s(),u.j41(47,"mat-option",20),u.EFF(48," Is After Days "),u.k0s(),u.j41(49,"mat-option",21),u.EFF(50," Is Between Hours "),u.k0s(),u.j41(51,"mat-option",22),u.EFF(52," Between Dates "),u.k0s(),u.j41(53,"mat-option",23),u.EFF(54,"Resources"),u.k0s()(),u.j41(55,"mat-error"),u.EFF(56,"A valid zone is required"),u.k0s()()(),u.DNE(57,Oe,4,1,"div",24)(58,Je,4,0,"div",24)(59,ge,3,2,"div",25)(60,yt,8,2,"div",24)(61,Ln,8,2,"div",24)(62,ri,6,8,"div",24)(63,mo,12,9,"div",24)(64,lo,4,1,"div",24),u.k0s()),2&jt&&(u.Y8G("formGroup",Gt.form),u.R7$(12),u.Y8G("ngForOf",u.bMT(13,13,Gt.building_zones)),u.R7$(19),u.Y8G("ngIf",!Gt.form.value.rules.hidden),u.R7$(5),u.R50("ngModel",Gt.available_conditions),u.Y8G("ngModelOptions",u.lJ4(15,ni)),u.R7$(21),u.Y8G("ngIf",Gt.available_conditions.includes("groups")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("locations")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("min_length")||Gt.available_conditions.includes("max_length")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("is_before")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("is_after")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("is_period")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("is_between")),u.R7$(),u.Y8G("ngIf",Gt.available_conditions.includes("resource_ids")))},styles:["[_nghost-%COMP%]{display:block;padding:.5rem}"]})}return Xt})();const no=[],Hn=new Ze.Gp;let Xo=(()=>{class Xt{transform(ot){return(0,Y.A)(function*(){if(!ot)return Hn;let jt=no.find(({id:Gt,email:Mn})=>Gt===ot||Mn===ot);return jt||(jt=yield(0,Po.VLL)(ot).toPromise().catch(()=>null),jt?(jt=new Ze.Gp(jt),no.push(jt),console.log("Place User:",jt),jt):Hn)})()}static#e=this.\u0275fac=function(jt){return new(jt||Xt)};static#t=this.\u0275pipe=u.EJ8({name:"placeuser",type:Xt,pure:!0})}return Xt})();var Bi=a(8030);const Ho=["startDate"],Rs=["endDate"],No=[[["input","startDate",""]],[["input","endDate",""]]],ir=["input[startDate]","input[endDate]"];function ho(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"div",5)(1,"date-range-calendar",6),u.bIt("startChange",function(Gt){u.eBV(ot);const Mn=u.XpG();return u.Njj(Mn.setStartDate(Gt))})("endChange",function(Gt){u.eBV(ot);const Mn=u.XpG();return u.Njj(Mn.setEndDate(Gt))}),u.k0s()()}if(2&Xt){const ot=u.XpG();u.R7$(),u.Y8G("month",(null==ot.start_date||null==ot.start_date.control?null:ot.start_date.control.value)||ot.now)("from",ot.from)("to",ot.until)("offset_weekday",ot.week_start)}}let or=(()=>{class Xt extends Q.Tv{constructor(){super(...arguments),this.from_date=(0,wt.o)(Date.now()).valueOf(),this.week_start=0,this.disabled=!1,this.short=!1,this.now=Date.now()}setStartDate(ot){this.start_date&&this.start_date.control.setValue(ot)}setEndDate(ot){this._tooltip?.close(),this.end_date&&this.end_date.control.setValue(ot)}static#e=this.\u0275fac=(()=>{let ot;return function(Gt){return(ot||(ot=u.xGo(Xt)))(Gt||Xt)}})();static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["date-range-field"]],contentQueries:function(jt,Gt,Mn){if(1&jt&&(u.wni(Mn,Ho,5,n.vO),u.wni(Mn,Rs,5,n.vO)),2&jt){let Gn;u.mGM(Gn=u.lsd())&&(Gt.start_date=Gn.first),u.mGM(Gn=u.lsd())&&(Gt.end_date=Gn.first)}},viewQuery:function(jt,Gt){if(1&jt&&u.GBs(Bi.In,5),2&jt){let Mn;u.mGM(Mn=u.lsd())&&(Gt._tooltip=Mn.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[u.Vt3],ngContentSelectors:ir,decls:16,vars:12,consts:[["calendar_picker",""],["matRipple","","type","button","role","date-picker","customTooltip","","yPosition","top",1,"flex","items-center","rounded","px-4","py-2","border","border-neutral","hover:border-base-content","focus:outline-2","outline-base-content","space-x-2","min-w-max",3,"content","disabled"],[1,"flex-1","whitespace-nowrap"],[1,"text-2xl"],[1,"hidden"],[1,"relative","w-[18.25rem]","rounded","bg-base-100","px-2","py-4"],[3,"startChange","endChange","month","from","to","offset_weekday"]],template:function(jt,Gt){if(1&jt&&(u.NAR(No),u.j41(0,"button",1)(1,"div",2),u.EFF(2),u.nI1(3,"date"),u.k0s(),u.j41(4,"div"),u.EFF(5,"\u2013"),u.k0s(),u.j41(6,"div",2),u.EFF(7),u.nI1(8,"date"),u.k0s(),u.j41(9,"app-icon",3),u.EFF(10,"today"),u.k0s()(),u.j41(11,"div",4),u.SdG(12),u.SdG(13,1),u.k0s(),u.DNE(14,ho,2,4,"ng-template",null,0,u.C5r)),2&jt){const Mn=u.sdS(15);u.AVh("opacity-30",Gt.disabled),u.Y8G("content",Mn)("disabled",Gt.disabled),u.R7$(2),u.SpI(" ",u.i5U(3,6,(null==Gt.start_date?null:Gt.start_date.value)||Gt.now,"MMM d, yyyy")," "),u.R7$(5),u.SpI(" ",u.i5U(8,9,(null==Gt.end_date?null:Gt.end_date.value)||Gt.now,"MMM d, yyyy")," ")}}})}return Xt})();var Ds=a(5818),zs=a(9824);function Ws(Xt,Cn){if(1&Xt&&(u.j41(0,"div",8),u.EFF(1),u.nI1(2,"date"),u.k0s()),2&Xt){const ot=Cn.$implicit;u.R7$(),u.SpI(" ",u.i5U(2,1,ot,"EEE")," ")}}function xr(Xt,Cn){1&Xt&&u.nrm(0,"div",16)}function Xs(Xt,Cn){1&Xt&&u.nrm(0,"div",17)}function ya(Xt,Cn){1&Xt&&u.nrm(0,"div",18)}function Wr(Xt,Cn){1&Xt&&u.nrm(0,"div",19)}function Rr(Xt,Cn){1&Xt&&u.nrm(0,"div",20)}function Xr(Xt,Cn){if(1&Xt){const ot=u.RV6();u.j41(0,"button",9),u.bIt("click",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.selectDate(Gt.id))})("mouseenter",function(){const Gt=u.eBV(ot).$implicit,Mn=u.XpG();return u.Njj(Mn.setHoveredDate(Gt.id))}),u.DNE(1,xr,1,0,"div",10)(2,Xs,1,0,"div",11)(3,ya,1,0,"div",12)(4,Wr,1,0,"div",13),u.j41(5,"div",14),u.EFF(6),u.nI1(7,"date"),u.k0s(),u.DNE(8,Rr,1,0,"div",15),u.k0s()}if(2&Xt){const ot=Cn.$implicit,jt=u.XpG();u.AVh("text-secondary-content",ot.is_start||ot.is_end),u.Y8G("disabled",ot.disabled),u.R7$(),u.Y8G("ngIf",ot.is_selected&&!ot.is_start&&!ot.is_end),u.R7$(),u.Y8G("ngIf",ot.is_start&&jt.end_after_start),u.R7$(),u.Y8G("ngIf",ot.is_end&&jt.end_after_start),u.R7$(),u.Y8G("ngIf",ot.is_start||ot.is_end),u.R7$(),u.AVh("opacity-30",!ot.is_month),u.R7$(),u.SpI(" ",u.i5U(7,11,ot.id,"d")," "),u.R7$(2),u.Y8G("ngIf",ot.is_today)}}let Ar=(()=>{class Xt{constructor(){this.from_date=(0,wt.o)(Date.now()).valueOf(),this.offset_weekday=0,this.month=(0,wt.o)(Date.now()).valueOf(),this.startChange=new u.bkB,this.endChange=new u.bkB,this.hovered_date=null,this.weekdays=[],this.month_days=[]}get end_after_start(){return this.end&&this.end>this.start&&!(0,Ds.r)(this.end,this.start)}ngOnInit(){this._setWeekdays(),this._setMonthDays()}ngOnChanges(ot){ot.offset_weekday&&(this._setWeekdays(),this._setMonthDays()),ot.start&&(this._setMonthDays(),this.month=this.start||Date.now()),ot.month&&this._setMonthDays(),ot.end&&this._setMonthDays()}selectDate(ot){!this.start||ot<this.start?(this.start=ot,this.startChange.emit(ot)):(this.end=ot,this.endChange.emit(ot)),this._setMonthDays()}setHoveredDate(ot){this.start&&(this.end=ot,this._setMonthDays())}trackByFn(ot,jt){return jt.id}nextMonth(){this.month=(0,tn.P)(this.month,1).valueOf(),this._setMonthDays()}previousMonth(){this.month=(0,tn.P)(this.month,-1).valueOf(),this._setMonthDays()}_setMonthDays(){const ot=(0,cn.k)(ii(this.month),{weekStartsOn:this.offset_weekday});this.month_days=Array.from(Array(42).keys()).map(jt=>{const Gt=(0,Fe.f)(ot,jt).valueOf();return{id:Gt,disabled:this.from_date&&(0,bi.Y)(Gt,this.from_date)||this.to_date&&(0,zs.d)(Gt,this.to_date),is_today:(0,Ds.r)(Gt,Date.now()),is_start:(0,Ds.r)(Gt,this.start),is_end:(0,Ds.r)(Gt,this.end),is_month:hi(Gt,this.month),is_selected:this.end&&Gt>=(0,wt.o)(this.start).valueOf()&&Gt<=(0,vt.D)(this.end).valueOf()}})}_setWeekdays(){const ot=(0,cn.k)(Date.now(),{weekStartsOn:this.offset_weekday});this.weekdays=Array.from(Array(7).keys()).map(jt=>(0,Fe.f)(ot,jt))}static#e=this.\u0275fac=function(jt){return new(jt||Xt)};static#t=this.\u0275cmp=u.VBU({type:Xt,selectors:[["date-range-calendar"]],inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],offset_weekday:"offset_weekday",start:"start",end:"end",month:"month"},outputs:{startChange:"startChange",endChange:"endChange"},features:[u.OA$],decls:15,vars:7,consts:[[1,"flex","items-center","justify-between"],["month","",1,"font-medium","px-2"],[1,"flex","items-center","space-x-2"],["icon","","matRipple","",3,"click"],[1,"grid","grid-cols-7","grid-rows-7","gap-1","w-[17.25rem]","h-[17.25rem]"],[1,"col-span-full","grid","grid-cols-7","border-b","border-base-200"],["weekday","","class","relative flex items-center justify-center text-sm opacity-60",4,"ngFor","ngForOf"],["class","relative h-9 w-9 hover:bg-base-200 rounded-full",3,"text-secondary-content","disabled","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["weekday","",1,"relative","flex","items-center","justify-center","text-sm","opacity-60"],[1,"relative","h-9","w-9","hover:bg-base-200","rounded-full",3,"click","mouseenter","disabled"],["class","absolute inset-y-0 -inset-x-0.5 border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -right-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -left-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-secondary rounded-full z-10",4,"ngIf"],["matRipple","",1,"absolute","inset-0","flex","items-center","justify-center","rounded-full","z-20"],["class","absolute -inset-[3px] flex items-center justify-center border border-secondary rounded-full z-10",4,"ngIf"],[1,"absolute","inset-y-0","-inset-x-0.5","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-right-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-left-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-secondary","rounded-full","z-10"],[1,"absolute","-inset-[3px]","flex","items-center","justify-center","border","border-secondary","rounded-full","z-10"]],template:function(jt,Gt){1&jt&&(u.j41(0,"div",0)(1,"div",1),u.EFF(2),u.nI1(3,"date"),u.k0s(),u.j41(4,"div",2)(5,"button",3),u.bIt("click",function(){return Gt.previousMonth()}),u.j41(6,"app-icon"),u.EFF(7,"chevron_left"),u.k0s()(),u.j41(8,"button",3),u.bIt("click",function(){return Gt.nextMonth()}),u.j41(9,"app-icon"),u.EFF(10,"chevron_right"),u.k0s()()()(),u.j41(11,"div",4)(12,"div",5),u.DNE(13,Ws,3,4,"div",6),u.k0s(),u.DNE(14,Xr,9,14,"button",7),u.k0s()),2&jt&&(u.R7$(2),u.SpI(" ",u.i5U(3,4,Gt.month,"MMMM yyyy")," "),u.R7$(11),u.Y8G("ngForOf",Gt.weekdays),u.R7$(),u.Y8G("ngForOf",Gt.month_days)("ngForTrackBy",Gt.trackByFn))},dependencies:[t.Sq,t.bT,b.r6,M.R,t.vh]})}return Xt})();var Sr=a(2238),Hs=a(5080),Hr=a(3208);let ur=(()=>{class Xt{static#e=this.\u0275fac=function(jt){return new(jt||Xt)};static#t=this.\u0275mod=u.$C({type:Xt});static#n=this.\u0275inj=u.G2t({imports:[t.MD,n.YN,n.X1,b.pZ,n.X1,C.RG,g.fS,S.Ve,h.jL,y.uc,O.g7,m.Wk,v.YN,f.FQ,E.h]})}return Xt})();u.wjB(L.G,[t.bT,n.BC,n.vS,b.r6,M.R,Sr.I,ki],[t.vh]),u.wjB(or,[b.r6,M.R,Sr.I,Ar],[t.vh]),u.wjB(R.T,[t.Sq,t.bT,n.me,n.BC,n.vS,b.r6,C.rl,C.yw,b.wT,h.$3,h.pN,h.Vn,y.oV,v.HW,v.D7,v.Zv,v.jH,M.R,z.LG],[t.Jj,Xo]),u.wjB(F.$,[t.Sq,t.bT,n.me,n.BC,n.vS,C.rl,C.JW,C.yw,g.fg,b.wT,h.$3,h.pN,M.R,Hs.e,z.LG],[]),u.wjB(Ot,[t.Sq,t.bT,n.BC,n.vS,b.r6,m.VT,m._g,M.R,Hr.U],[t.Jj]),u.wjB(Ut.$,[t.Sq,t.bT,b.r6,C.rl,y.oV,v.HW,v.D7,v.Zv,v.jH,M.R,Hr.U,z.LG],[t.Jj]),u.wjB(fn.c,[t.Sq,t.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,b.r6,C.rl,C.TL,g.fg,S.VO,b.wT,M.R,ke.tx,z.LG,ie,Ut.$],[t.Jj]),u.wjB(rt,[t.bT,n.me,n.Q0,n.BC,n.vS,b.r6,C.rl,C.yw,g.fg,S.VO,b.wT,m.VT,m._g,M.R,ke.tx,L.G],[]),u.wjB(Li,[t.Sq,t.bT,n.me,n.BC,n.cb,n.vS,n.j4,n.JD,n.$R,C.rl,C.TL,g.fg,S.VO,b.wT,y.oV,O.So,L.G,l.y,X],[t.Jj,t.vh])},6864:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>F});var t=a(467),n=a(7336),f=a(3953),v=a(9417),b=a(9928),C=a(9714),g=a(5006),S=a(9493),h=a(2333),y=a(6821),O=a(3801),m=a(4006);const E=["image_list"],u=["file_input"];function M(P,k){if(1&P){const V=f.RV6();f.j41(0,"div",17),f.nrm(1,"img",18),f.j41(2,"div",19),f.nrm(3,"div",20),f.j41(4,"div",21)(5,"button",22),f.bIt("click",function(){const X=f.eBV(V).$implicit,Q=f.XpG();return f.Njj(Q.copyLink(X))}),f.j41(6,"app-icon"),f.EFF(7,"link"),f.k0s()(),f.j41(8,"button",22),f.bIt("click",function(){const X=f.eBV(V).$implicit,Q=f.XpG();return f.Njj(Q.viewImage(X))}),f.j41(9,"app-icon"),f.EFF(10,"visibility"),f.k0s()(),f.j41(11,"button",22),f.bIt("click",function(){const X=f.eBV(V).$implicit,Q=f.XpG();return f.Njj(Q.removeImage(X))}),f.j41(12,"app-icon"),f.EFF(13,"close"),f.k0s()()()()()}if(2&P){const V=k.$implicit,K=f.XpG();f.xc7("transform","translate(-"+K.offset+"00%)"),f.R7$(),f.Y8G("source",V)}}function x(P,k){if(1&P&&f.nrm(0,"mat-progress-spinner",27),2&P){const V=f.XpG().$implicit;f.Y8G("value",V.progress)("diameter",64)}}function D(P,k){1&P&&(f.j41(0,"app-icon",28),f.EFF(1,"warning"),f.k0s())}function A(P,k){1&P&&(f.j41(0,"div",29)(1,"app-icon",30),f.EFF(2,"refresh"),f.k0s()())}function L(P,k){if(1&P){const V=f.RV6();f.j41(0,"div",23),f.bIt("click",function(){const X=f.eBV(V).$implicit,Q=f.XpG();return f.Njj(Q.retryUpload(X))}),f.DNE(1,x,1,2,"mat-progress-spinner",24)(2,D,2,0,"app-icon",25)(3,A,3,0,"div",26),f.k0s()}if(2&P){const V=k.$implicit,K=f.XpG();f.xc7("transform","translate(-"+K.offset+"00%)"),f.Y8G("matTooltip",V.error),f.R7$(),f.Y8G("ngIf",!V.error),f.R7$(),f.Y8G("ngIf",V.error),f.R7$(),f.Y8G("ngIf",V.error)}}function l(P,k){if(1&P){const V=f.RV6();f.j41(0,"button",31),f.bIt("click",function(){f.eBV(V);const X=f.XpG();return f.Njj(X.offset=X.offset-1)}),f.j41(1,"app-icon"),f.EFF(2,"chevron_left"),f.k0s()()}if(2&P){const V=f.XpG();f.Y8G("disabled",0===V.offset)}}function $(P,k){if(1&P){const V=f.RV6();f.j41(0,"button",32),f.bIt("click",function(){f.eBV(V);const X=f.XpG();return f.Njj(X.offset=X.offset+1)}),f.j41(1,"app-icon"),f.EFF(2,"chevron_right"),f.k0s()()}if(2&P){const V=f.XpG();f.Y8G("disabled",V.offset>=V.length-V.view_space)}}function R(P,k){if(1&P){const V=f.RV6();f.j41(0,"mat-chip-row",33),f.bIt("removed",function(){const X=f.eBV(V).$implicit,Q=f.XpG();return f.Njj(Q.removeImage(X))}),f.j41(1,"div",34),f.EFF(2),f.k0s(),f.j41(3,"button",35)(4,"app-icon"),f.EFF(5,"cancel"),f.k0s()()()}if(2&P){const V=k.$implicit;f.R7$(2),f.JRh(V),f.R7$(),f.BMQ("aria-label","Remove "+V)}}let F=(()=>{class P extends h.Tv{get length(){return this.list.length+this._upload_list.getValue().length+1}constructor(V,K,X){super(),this._clipboard=V,this._uploads=K,this._dialog=X,this.list=[],this.upload_ids=new b.t([]),this._upload_list=new b.t([]),this.upload_list=this._upload_list.asObservable(),this.offset=0,this.view_space=0,this.separators=[n.KE,n.Fm],this.uploads=(0,C.zV)([this.upload_list,this.upload_ids]).pipe((0,g.T)(([Q,de])=>Q.filter(se=>de.includes(se.id)))),this.registerOnChange=Q=>this._onChange=Q,this.registerOnTouched=Q=>this._onTouch=Q}ngAfterViewInit(){this.timeout("init_view_space",()=>{const V=this._list_el.nativeElement.getBoundingClientRect();this.view_space=Math.floor(V.width/152)},100),this.subscription("upload_changes",this.upload_list.subscribe(V=>{const K=this.upload_ids.getValue();for(const X of K){const Q=V.find(de=>de.id===X);Q&&Q.progress>=100&&(this.addImageUrl(Q.link),this.upload_ids.next(this.upload_ids.getValue().filter(de=>de!==X)))}}))}copyLink(V){this._clipboard.copy(V),(0,h.uA)("Copied image URL to clipboard")}viewImage(V){this._dialog.open(y.d,{data:V})}removeImage(V){this.setValue(this.list.filter(K=>K!==V))}addImage(V){V.value&&(this.setValue((0,h.Am)([...this.list,V.value])),V.chipInput.inputElement.value="")}addImageUrl(V){this.setValue((0,h.Am)([...this.list,V]))}retryUpload(V){V.error&&(V.error=null,V.upload.resume())}uploadImages(V){var K=this;return(0,t.A)(function*(){const X=V.target;if(X?.files){const Q=X.files;if(Q.length){K.interval("update_status",()=>K._updateUploadHistory());for(let de=0;de<Q.length;de++){const se=yield K._uploads.uploadFileWithPermissions(Q[de]);K.upload_ids.next([...K.upload_ids.getValue(),se]),K._file_input.nativeElement.value=""}}}})()}setValue(V){this.list=V,this._onChange&&this._onChange(V)}writeValue(V){this.list=V||[]}_updateUploadHistory(){var V=this;return(0,t.A)(function*(){const K=V.upload_ids.getValue();if(0===K.length)return;const Q=(yield V._uploads.upload_list.pipe((0,S.s)(1)).toPromise()).filter(se=>K.find(ce=>ce===se.id)),de=Q.filter(se=>se.progress>=100);V._upload_list.next(Q),de.forEach(se=>delete se.upload),de.length>=K.length&&V.clearInterval("update_status")})()}static#e=this.\u0275fac=function(K){return new(K||P)(f.rXU(O.B0),f.rXU(h.CS),f.rXU(m.bZ))};static#t=this.\u0275cmp=f.VBU({type:P,selectors:[["image-list-field"]],viewQuery:function(K,X){if(1&K&&(f.GBs(E,5),f.GBs(u,5)),2&K){let Q;f.mGM(Q=f.lsd())&&(X._list_el=Q.first),f.mGM(Q=f.lsd())&&(X._file_input=Q.first)}},features:[f.Jv_([{provide:v.kq,useExisting:(0,f.Rfq)(()=>P),multi:!0}]),f.Vt3],decls:19,vars:12,consts:()=>{let V,K;return V=$localize`:dc952a36d53a7092578b8706e3c6e28fd59866bf7586116958417863153:Add image via URL`,K=$localize`:3f0243e1118dafecaa05696a3dffcbfb83295f9b889671581456916004:Upload Image(s)`,[["image_list",""],["file_input",""],["chipList",""],K,["images","",1,"space-x-2","py-2","overflow-hidden","mb-2","w-full","flex","items-center","relative",3,"resize"],["image","",1,"relative","rounded","border-2","border-base-200","border-dashed","flex-shrink-0","flex","flex-col","items-center","justify-center","h-32","w-36","hover:bg-base-content/10",":bg-base-100/10","cursor-pointer"],[1,"text-4xl","opacity-60"],[1,"opacity-60"],["type","file",1,"absolute","inset-0","opacity-0","h-32","w-32","cursor-pointer",3,"change"],["image","","class","bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0 bg-base-200",3,"transform",4,"ngFor","ngForOf"],["image","","class","bg-center bg-cover h-32 w-36 rounded border border-base-content/10 /5 bg-base-200  flex items-center justify-center flex-shrink-0",3,"transform","matTooltip","click",4,"ngFor","ngForOf"],["icon","","matRipple","","class","absolute top-1/2 left-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["icon","","matRipple","","class","absolute top-1/2 right-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["appearance","outline",1,"w-full"],["aria-label","Image List"],[3,"removed",4,"ngFor","ngForOf"],["placeholder",V,3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["image","",1,"bg-center","bg-cover","h-32","w-36","relative","rounded","overflow-hidden","flex-shrink-0","bg-base-200"],["auth","",1,"object-contain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","z-10","pointer-events-none",3,"source"],["overlay","",1,"absolute","inset-0","text-base-100","z-20"],["bg","",1,"absolute","inset-0","opacity-0","bg-black"],["actions","",1,"absolute","top-0","left-0","right-0","flex","items-center","justify-center","space-x-2","opacity-0"],["icon","",3,"click"],["image","",1,"bg-center","bg-cover","h-32","w-36","rounded","border","border-base-content/10","/5","bg-base-200","flex","items-center","justify-center","flex-shrink-0",3,"click","matTooltip"],["mode","determinate",3,"value","diameter",4,"ngIf"],["class","text-error text-6xl",4,"ngIf"],["overlay","","class","absolute inset-0 hover:bg-base-content hover:bg-opacity-50 text-base-100 flex items-center justify-center",4,"ngIf"],["mode","determinate",3,"value","diameter"],[1,"text-error","text-6xl"],["overlay","",1,"absolute","inset-0","hover:bg-base-content","hover:bg-opacity-50","text-base-100","flex","items-center","justify-center"],[1,"text-3xl","opacity-0"],["icon","","matRipple","",1,"absolute","top-1/2","left-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],["icon","","matRipple","",1,"absolute","top-1/2","right-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]]},template:function(K,X){if(1&K){const Q=f.RV6();f.j41(0,"div",4,0),f.bIt("resize",function(){return f.eBV(Q),f.Njj(X.ngAfterViewInit())},!1,f.tSv),f.j41(2,"div",5)(3,"app-icon",6),f.EFF(4,"add"),f.k0s(),f.j41(5,"p",7),f.pXf(6,3),f.k0s(),f.j41(7,"input",8,1),f.bIt("change",function(se){return f.eBV(Q),f.Njj(X.uploadImages(se))}),f.k0s()(),f.DNE(9,M,14,3,"div",9)(10,L,4,6,"div",10),f.nI1(11,"async"),f.DNE(12,l,3,1,"button",11)(13,$,3,1,"button",12),f.k0s(),f.j41(14,"mat-form-field",13)(15,"mat-chip-grid",14,2),f.DNE(17,R,6,2,"mat-chip-row",15),f.k0s(),f.j41(18,"input",16),f.bIt("matChipInputTokenEnd",function(se){return f.eBV(Q),f.Njj(X.addImage(se))}),f.k0s()()}if(2&K){const Q=f.sdS(16);f.R7$(2),f.xc7("transform","translate(-"+X.offset+"00%)"),f.R7$(7),f.Y8G("ngForOf",X.list),f.R7$(),f.Y8G("ngForOf",f.bMT(11,10,X.uploads)),f.R7$(2),f.Y8G("ngIf",X.length>X.view_space),f.R7$(),f.Y8G("ngIf",X.length>X.view_space),f.R7$(4),f.Y8G("ngForOf",X.list),f.R7$(),f.Y8G("matChipInputFor",Q)("matChipInputSeparatorKeyCodes",X.separators)("matChipInputAddOnBlur",!0)}},styles:["[_nghost-%COMP%]{width:100%}[overlay][_ngcontent-%COMP%]{transition:background .2s}[image][_ngcontent-%COMP%]:hover   [actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%]:hover > app-icon[_ngcontent-%COMP%]{opacity:1!important}[image][_ngcontent-%COMP%]:hover   [bg][_ngcontent-%COMP%]{opacity:.4!important}[actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{transition:opacity .2s}[image][_ngcontent-%COMP%]{transition:transform .2s}"]})}return P})()},8791:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>x});var t=a(467),n=a(9417),f=a(2333),v=a(2185),b=a(5157),C=a(3953),g=a(4006);function S(D,A){if(1&D&&(C.j41(0,"mat-option",34),C.EFF(1),C.k0s()),2&D){const L=A.$implicit;C.Y8G("value",L.display_name||L.name),C.R7$(),C.SpI(" ",L.display_name||L.name," ")}}function h(D,A){if(1&D&&(C.j41(0,"mat-option",34),C.EFF(1),C.k0s()),2&D){const L=A.$implicit;C.Y8G("value",(null==L?null:L.name)||L),C.R7$(),C.SpI(" ",L.name||L," ")}}function y(D,A){if(1&D&&(C.j41(0,"div",24)(1,"label"),C.pXf(2,9),C.k0s(),C.j41(3,"mat-form-field",25)(4,"mat-select",35),C.DNE(5,h,2,2,"mat-option",27),C.k0s()()()),2&D){const L=C.XpG(2);C.R7$(5),C.Y8G("ngForOf",L.support_request_types)}}function O(D,A){1&D&&(C.j41(0,"mat-error",36),C.pXf(1,10),C.k0s())}function m(D,A){1&D&&(C.j41(0,"div")(1,"label",29),C.pXf(2,11),C.k0s(),C.nrm(3,"image-list-field",37),C.k0s())}function E(D,A){if(1&D&&(C.j41(0,"main",17)(1,"form",18)(2,"div",19)(3,"div",20)(4,"label"),C.PLo(5,2),C.nrm(6,"span"),C.YFu(),C.k0s(),C.j41(7,"mat-form-field",21),C.nrm(8,"input",22),C.j41(9,"mat-error"),C.pXf(10,3),C.k0s()()(),C.j41(11,"div",20)(12,"label"),C.PLo(13,4),C.nrm(14,"span"),C.YFu(),C.k0s(),C.j41(15,"mat-form-field",21),C.nrm(16,"input",23),C.j41(17,"mat-error"),C.pXf(18,5),C.k0s()()()(),C.j41(19,"div",24)(20,"label"),C.pXf(21,6),C.k0s(),C.j41(22,"mat-form-field",25)(23,"mat-select",26),C.DNE(24,S,2,2,"mat-option",27),C.nI1(25,"async"),C.k0s()()(),C.DNE(26,y,6,1,"div",28),C.j41(27,"div")(28,"label",29),C.PLo(29,7),C.nrm(30,"span"),C.YFu(),C.k0s(),C.nrm(31,"rich-text-input",30),C.DNE(32,O,2,0,"mat-error",31),C.k0s(),C.DNE(33,m,4,0,"div",32),C.k0s(),C.j41(34,"div",33),C.pXf(35,8),C.k0s()()),2&D){const L=C.XpG();C.R7$(),C.Y8G("formGroup",L.form),C.R7$(23),C.Y8G("ngForOf",C.bMT(25,5,L.buildings)),C.R7$(2),C.Y8G("ngIf",null==L.support_request_types?null:L.support_request_types.length),C.R7$(6),C.Y8G("ngIf",L.desc_error),C.R7$(),C.Y8G("ngIf",L.allow_images)}}function u(D,A){if(1&D){const L=C.RV6();C.j41(0,"footer",38)(1,"button",39),C.bIt("click",function(){C.eBV(L);const $=C.XpG();return C.Njj($.submit())}),C.pXf(2,12),C.k0s()()}}function M(D,A){1&D&&(C.j41(0,"main",40),C.nrm(1,"mat-spinner",41),C.j41(2,"p"),C.EFF(3,"Sending support ticket..."),C.k0s()()),2&D&&(C.R7$(),C.Y8G("diameter",32))}let x=(()=>{class D{get desc_error(){return!this.form.controls.description.valid&&this.form.controls.description.touched}get support_email(){return this._settings.get("app.support_email")||"support@place.tech"}get support_request_types(){return this._settings.get("app.support_issue_types")||[]}get allow_images(){return this._settings.get("app.allow_support_ticket_images")}constructor(L,l,$){this._dialog_ref=L,this._org=l,this._settings=$,this.loading=!1,this.form=new n.gE({name:new n.MJ("",[n.k0.required]),email:new n.MJ("",[n.k0.required]),location:new n.MJ(""),description:new n.MJ("",[n.k0.required]),issue_type:new n.MJ(""),images:new n.MJ([])}),this.buildings=this._org.building_list}ngOnInit(){const L=(0,f.Ny)();L&&this.form.patchValue({name:L.name,email:L.email}),this._org.building&&this.form.patchValue({location:this._org.building.display_name||this._org.building.name})}submit(){var L=this;return(0,t.A)(function*(){if(L.loading=!0,L.form.markAllAsTouched(),L.form.updateValueAndValidity(),L.form.valid){const l=L._org.binding("smtp");if(!l)return(0,f.UG)("Mailing system not configured for application.");const $=(0,b.f_4)(l,"Mailer"),{name:R,email:F,location:P,description:k,images:V,issue_type:K}=L.form.value,X=L.support_request_types.find(Q=>Q.name===K)?.email||L.support_email;yield $.execute("send_mail",[X,"Support Ticket from Workplace Application"+(K?" - "+K:""),`${R}\n${F}\n\n${P}\n\n${k.replace(/<[^>]+>/g,"")}\n\n${V.join("\n")}`,`<p>${R}</p><p>${F}</p><p>${P}</p><p>${k}</p>${V.join("<br>")}`,[],[],[],[],null,`${F}`]),L._dialog_ref.close(),L.loading=!1,(0,f.VX)("Successfully submitted support ticket")}})()}static#e=this.\u0275fac=function(l){return new(l||D)(C.rXU(g.CP),C.rXU(v.yb),C.rXU(f.h$))};static#t=this.\u0275cmp=C.VBU({type:D,selectors:[["support-ticket-modal"]],decls:10,vars:3,consts:()=>{let L,l,$,R,F,P,k,V,K,X,Q,de;return L=$localize`:b862b54c42ded9ebb47260f60b0f75985c5fab18270482714535552546:Raise a support ticket`,l=$localize`:84f7804a7a51f1144c5a3fda7b9b881af4212c4a5257092898921510014:Name${"\ufffd#6\ufffd"}:START_TAG_SPAN:*${"\ufffd/#6\ufffd"}:CLOSE_TAG_SPAN:`,$=$localize`:5b752f143ab30faa45a2679b5e7a28bbf3fb246d3833692663709091545:Name is required`,R=$localize`:15032ab5f5dcf10cb837008e8ff61acb42e957db8600249315708032613:Email${"\ufffd#14\ufffd"}:START_TAG_SPAN:*${"\ufffd/#14\ufffd"}:CLOSE_TAG_SPAN:`,F=$localize`:9b2fd2a81342b5821f47ce0e6f2383b1403fd6598552587679160911578:Email is required`,P=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,k=$localize`:bd571e4b6aa662ccde3593b99728c60a9c4e27225204458475414246750: Issue Description${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,V=$localize`:860180fb81e0877ec8059acbf30938f5d31daede2365971609064887430: Completing this form will raise an incident in your support management platform `,K=$localize`:712648c55b8f81cc494ffeff1c304f275dcafc613187063371811307868:Issue Type`,X=$localize`:ae855fe6e11d47178c1051e1a3f9e78c5bb7fb4e124716140796903078: Description is required `,Q=$localize`:b73f7f5060fb22a1e9ec462b1bb02493fa3ab866414887388288176527:Images`,de=$localize`:932802b79d36312ecbe949fc5b703fef638f41df1413112058430688330: Submit `,[["load_state",""],L,l,$,R,F,P,k,V,K,X,Q,de,[1,"flex","items-center","justify-between"],["icon","","mat-dialog-close",""],["class","w-[32rem] max-w-[85vw]",4,"ngIf","ngIfElse"],["class","p-2 border-t border-base-200 flex items-center justify-center",4,"ngIf"],[1,"w-[32rem]","max-w-[85vw]"],[1,"p-2",3,"formGroup"],[1,"flex","items-center","sm:space-x-2","flex-wrap"],[1,"flex","flex-col","flex-1"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Email","formControlName","email"],[1,"flex","flex-col"],["appearance","outline",1,"w-full"],["placeholder","Location","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngIf"],[1,"mb-4"],["placeholder","Issue Description","formControlName","description"],["class","text-xs my-2",4,"ngIf"],[4,"ngIf"],[1,"italic","text-center","text-xs","mb-2"],[3,"value"],["placeholder","Issue Type","formControlName","issue_type"],[1,"text-xs","my-2"],["formControlName","images"],[1,"p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"w-[32rem]","min-h-[24rem]","max-w-[100vw]","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"]]},template:function(l,$){if(1&l&&(C.j41(0,"header",13)(1,"h2"),C.pXf(2,1),C.k0s(),C.j41(3,"button",14)(4,"app-icon"),C.EFF(5,"close"),C.k0s()()(),C.DNE(6,E,36,7,"main",15)(7,u,3,0,"footer",16)(8,M,4,1,"ng-template",null,0,C.C5r)),2&l){const R=C.sdS(9);C.R7$(6),C.Y8G("ngIf",!$.loading)("ngIfElse",R),C.R7$(),C.Y8G("ngIf",!$.loading)}},styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return D})()},1413:(At,ue,a)=>{"use strict";a.d(ue,{t:()=>l});var t=a(3953),n=a(9417),f=a(2333),v=a(3601),b=a(4361),C=a(1406),g=a(2357),S=a(9548),h=a(5818),y=a(9824),O=a(4512),m=a(7926),E=a(177),u=a(3719),M=a(2798),x=a(6600);const D=["select"];function A($,R){if(1&$&&(t.j41(0,"mat-option",5),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&$){const F=t.XpG();t.Y8G("value",F.force_time),t.R7$(),t.SpI(" ",t.i5U(2,2,F.force_time,F.use_24hr?"HH : mm":"h : mm a")," ")}}function L($,R){if(1&$&&(t.j41(0,"mat-option",5),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&$){const F=R.$implicit,P=t.XpG();t.Y8G("value",F.id),t.R7$(),t.Lme(" ",t.i5U(2,3,F.date,P.use_24hr?"HH : mm":"h : mm a")," ",P.extra_info_fn(F.date)," ")}}let l=(()=>{class $ extends f.Tv{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.use_24hr=!1,this.extra_info_fn=F=>"",this.from=(0,v.o)(Date.now()).valueOf(),this.date=(new Date).valueOf(),this.time=(0,b.GP)(new Date,"HH:mm")}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1)}ngOnChanges(F){(F.no_past_times||F.step)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const F=(this.time||"00:00").split(":"),P=(0,C.h)(this.date,{hours:+F[0],minutes:+F[1]});return P.getMinutes()%15!=0&&!this._time_options.find(k=>k.id===(0,b.GP)(P,"HH:mm"))&&(this._time_options.push({date:P,id:(0,b.GP)(P,"HH:mm")}),this._time_options.sort((k,V)=>`${k.id}`.localeCompare(`${V.id}`))),this._time_options}setValue(F){if(this.time=F,this._onChange){const P=(this.time||"00:00").split(":"),k=(0,g.c)((0,C.h)(this.date,{hours:+P[0],minutes:+P[1]}));this._onChange(k.valueOf())}}writeValue(F){this.date=F||this.date;let P=(0,g.c)(this.date);P=(0,S.X)(P,{nearestTo:5}),this.time=(0,b.GP)(P,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step)}setDisabledState(F){this.disabled=F,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times||F,this.step)}registerOnChange(F){this._onChange=F}registerOnTouched(F){this._onTouch=F}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(F=>{F||(this.show_select=!1)})))})}generateAvailableTimes(F,P,k=15){const V=new Date(Math.max(this.from,Date.now()));let K=new Date(F);const X=[];P||!(0,h.r)(K,V)&&(0,y.d)(K,V)?K=(0,v.o)(K):(0,y.d)(K,V)&&(K=new Date(V)),K=(0,S.X)(K,{nearestTo:k});const Q=(0,O.D)(K);for(;(0,y.d)(Q,K);)X.push({date:K.valueOf(),id:(0,b.GP)(K,"HH:mm")}),K=(0,m.z)(K,k);return X}static#e=this.\u0275fac=(()=>{let F;return function(k){return(F||(F=t.xGo($)))(k||$)}})();static#t=this.\u0275cmp=t.VBU({type:$,selectors:[["a-time-field"]],viewQuery:function(P,k){if(1&P&&t.GBs(D,5),2&P){let V;t.mGM(V=t.lsd())&&(k.select_field=V.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times",use_24hr:"use_24hr",force_time:"force_time",extra_info_fn:"extra_info_fn",from:"from"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>$),multi:!0}]),t.Vt3,t.OA$],decls:5,vars:4,consts:[["select",""],["appearance","outline"],[3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(P,k){if(1&P){const V=t.RV6();t.j41(0,"mat-form-field",1)(1,"mat-select",2,0),t.bIt("ngModelChange",function(X){return t.eBV(V),t.Njj(k.setValue(X))}),t.DNE(3,A,3,5,"mat-option",3)(4,L,3,6,"mat-option",4),t.k0s()()}2&P&&(t.R7$(),t.Y8G("ngModel",k.force_time||k.time)("disabled",k.disabled),t.R7$(2),t.Y8G("ngIf",k.force_time),t.R7$(),t.Y8G("ngForOf",k.time_options))},dependencies:[E.Sq,E.bT,n.BC,n.vS,u.rl,M.VO,x.wT,E.vh],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return $})()},840:(At,ue,a)=>{"use strict";a.d(ue,{T:()=>se});var t=a(3953),n=a(9417),f=a(2333),v=a(5006),b=a(3020),C=a(9090),g=a(3921),S=a(8841),h=a(4046),y=a(7336),O=a(9928),m=a(9714),E=a(4421),u=a(1543),M=a(6039),x=a(2372),D=a(3693),A=a(4129),L=a(5157),l=a(4006);const $=["search_field"];function R(ce,z){if(1&ce&&(t.j41(0,"app-icon",22),t.nI1(1,"placeuser"),t.nI1(2,"async"),t.EFF(3),t.nI1(4,"placeuser"),t.nI1(5,"async"),t.k0s()),2&ce){let w,j;const W=t.XpG().$implicit,ne=t.XpG();t.Y8G("matTooltip",null==(w=t.bMT(2,4,t.bMT(1,2,null==W?null:W.email)))?null:w.location_name_time(ne.time)),t.R7$(3),t.SpI(" ",null==(j=t.bMT(5,8,t.bMT(4,6,null==W?null:W.email)))?null:j.location_icon(ne.time)," ")}}function F(ce,z){if(1&ce){const w=t.RV6();t.j41(0,"mat-chip-row",18),t.bIt("removed",function(){const W=t.eBV(w).$implicit,ne=t.XpG();return t.Njj(ne.removeUser(W))}),t.j41(1,"div",19)(2,"div"),t.EFF(3),t.k0s(),t.DNE(4,R,6,10,"app-icon",20),t.k0s(),t.j41(5,"button",21)(6,"app-icon"),t.EFF(7,"cancel"),t.k0s()()()}if(2&ce){const w=z.$implicit;t.AVh("bg-warning",w.is_external),t.R7$(3),t.JRh(w.name||w.email),t.R7$(),t.Y8G("ngIf",!w.is_external),t.R7$(),t.BMQ("aria-label","Remove "+(w.name||w.email))}}function P(ce,z){1&ce&&t.nrm(0,"mat-spinner",23)}function k(ce,z){if(1&ce){const w=t.RV6();t.j41(0,"mat-option",24),t.bIt("click",function(){t.eBV(w);const W=t.XpG();return t.Njj(W.addUserFromEmail())}),t.pXf(1,4),t.k0s()}if(2&ce){const w=t.XpG();t.R7$(),t.uP7(w.search$.getValue()),t.nnv(1)}}function V(ce,z){if(1&ce){const w=t.RV6();t.j41(0,"mat-option",25),t.bIt("click",function(){const W=t.eBV(w).$implicit,ne=t.XpG();return t.Njj(ne.addUser(W))}),t.EFF(1),t.nrm(2,"br"),t.j41(3,"span",26),t.EFF(4),t.k0s()()}if(2&ce){const w=z.$implicit;t.R7$(),t.SpI(" ",w.name,""),t.R7$(3),t.JRh(w.email)}}function K(ce,z){if(1&ce){const w=t.RV6();t.j41(0,"div",27)(1,"button",28),t.bIt("click",function(){t.eBV(w);const W=t.XpG();return t.Njj(W.openNewUserModal())}),t.PLo(2,5),t.j41(3,"div",29),t.nrm(4,"span",30),t.k0s(),t.YFu(),t.k0s(),t.j41(5,"button",31),t.PLo(6,6),t.j41(7,"div",29),t.nrm(8,"span",30),t.k0s(),t.j41(9,"input",32),t.bIt("change",function(W){t.eBV(w);const ne=t.XpG();return t.Njj(ne.addUsersFromFile(W))}),t.k0s(),t.YFu(),t.k0s(),t.j41(10,"button",33),t.bIt("click",function(){t.eBV(w);const W=t.XpG();return W.downloadCSVTemplate(),t.Njj(W.download.emit())}),t.PLo(11,7),t.j41(12,"div",29),t.nrm(13,"span",30),t.k0s(),t.YFu(),t.k0s()()}}function X(ce){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(ce)}const Q=["text/csv","text/plain"],de=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];let se=(()=>{class ce extends f.Tv{searchStaff(w){return this._settings.get("app.basic_user_search")?(0,L.n1$)({q:w,authority_id:(0,L.kup)()?.id}).pipe((0,v.T)(j=>j.data.map(W=>new D.KJ(W)))):(0,x.N8)(w)}get search_valid_email(){return X(this.search$.getValue())}constructor(w,j){super(),this._dialog=w,this._settings=j,this.time=Date.now(),this.limit=3,this.guests=!1,this.guests_only=!1,this.hide_actions=!1,this.custom_template=!1,this.new_user=new t.bkB,this.download=new t.bkB,this.separatorKeysCodes=[y.Fm,y.KE],this.loading=!1,this.search$=new O.t(""),this.user_list$=this.search$.pipe((0,b.B)(300),(0,C.n)(W=>(this.loading=!0,(W?this.guests?(0,m.zV)([this.searchStaff(W),(0,M.qI)(W)]).pipe((0,v.T)(([ne,fe])=>{this.guests_only&&(ne=[]);const ae=[],Ae=this._settings.get("visitor-invitees")||[];for(const Me of Ae){const[Ve,We,lt]=Me.split("|");ae.push({email:Ve,name:We,company:lt})}return(0,f.Am)(ne.concat(fe).concat(ae),"email")})):this.searchStaff(W):(0,E.of)([])).pipe((0,g.W)(ne=>(0,E.of)([]))))),(0,S.M)(W=>this.loading=!1)),this.active_list=[],this.validFn=W=>X(W),this.emptyClick=()=>this.openNewUserModal(new D.KJ)}updateSearch(w=""){this.timeout("search",()=>this.search$.next(w))}addUserFromEmail(w=""){if(w||(w=this.search$.getValue()),!X(w))return;const j=new D.KJ({id:w,email:w,name:w.split("@")[0]});this.addUser(j);const{name:W,organisation:ne}=j,fe=`${w}|${W}|${ne}`,ae=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",[...ae.filter(Ae=>!Ae.includes(w)),fe]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}addUser(w){const j=this.active_list?.filter(W=>W.id!==w.id)||[];this.setValue([...j,new D.KJ({...w,id:w.id||w.email,visit_expected:(w.id||!0===w.is_external?null:w.visit_expected)??!0})]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}removeUser(w){const j=this.active_list.filter(W=>W.id!==w.id);this.setValue(j)}addUsersFromFile(w){if(w.target){const j=w.target.files[0];if(j){if(!Q.includes(j.type)||de.includes(j.type))return void(0,f.UG)("Only CSV files are supported");const W=new FileReader;W.readAsText(j,"UTF-8"),W.addEventListener("load",ne=>{this.processCsvData(ne.srcElement.result),w.target.value=""}),W.addEventListener("error",ne=>(0,f.UG)("Error reading file."))}}}processCsvData(w){const j=(0,f.a6)(w)||[],W=(0,f.Ny)()?.staff_id||"unknown";for(const ne of j){ne.name=ne.name||`${ne.first_name} ${ne.last_name}`;const fe=(ne.name||`${Math.floor(99999999*Math.random())}`).split(" ").join("_").toLowerCase();ne.email||(ne.email=`${fe}+${W}@guest.${A.pd}`);const ae=this._settings.get("app.bookings.internal_emails")||["place.tech"];ne.visit_expected=ne.visit_expected??!ae.find(Ae=>ne.email.endsWith(Ae)),ne.phone=""+ne.phone,this.addUser(new D.KJ(ne))}}downloadCSVTemplate(){this.custom_template||(0,f.PE)("template.csv","Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true")}setValue(w){this.active_list=w,this._onChange&&this._onChange(w)}writeValue(w){this.active_list=w}setDisabledState(w){this.disabled=w}registerOnChange(w){this._onChange=w}registerOnTouched(w){this._onTouch=w}displayFn(w){return w?.name||""}openNewUserModal(w=new D.KJ){const j=this._dialog.open(u.a,{width:"auto",height:"auto",data:{user:w}});j.componentInstance?.event.pipe((0,h.$)(W=>"done"===W.reason)).subscribe(W=>{this.addUser(W.metadata),j.close()})}static#e=this.\u0275fac=function(j){return new(j||ce)(t.rXU(l.bZ),t.rXU(f.h$))};static#t=this.\u0275cmp=t.VBU({type:ce,selectors:[["a-user-list-field"]],viewQuery:function(j,W){if(1&j&&t.GBs($,5),2&j){let ne;t.mGM(ne=t.lsd())&&(W._search_el=ne.first)}},inputs:{time:"time",disabled:"disabled",limit:"limit",guests:"guests",guests_only:"guests_only",hide_actions:"hide_actions",custom_template:"custom_template",filter:"filter"},outputs:{new_user:"new_user",download:"download"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>ce),multi:!0}]),t.Vt3],decls:17,vars:14,consts:()=>{let w,j,W,ne,fe;return w=$localize`:5ecf84665fa441ea616e171804e6652d010c9ed25361968336322693258:Type a name or email`,j=$localize`:8ddbc311625de88f24142f65336765837378c1ca2206723750290169400: Add external user with email "${"\ufffd0\ufffd"}:INTERPOLATION:" `,W=$localize`:Add new external attendeeafa9063944169ae2cd6bd8c0d5e943468ab77e90145038058737617323:${"\ufffd#3\ufffd"}:START_TAG_DIV: Add${"\ufffd#4\ufffd"}:START_TAG_SPAN:External${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_DIV:`,ne=$localize`:Upload attendee list from CSV file0115abeee77902eeda78bb11be738c011e8be9334462048288204440387:${"\ufffd#7\ufffd"}:START_TAG_DIV: Upload${"\ufffd#8\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#7\ufffd"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:TAG_INPUT:`,fe=$localize`:Download template CSV filef761a83c085b86f026cdf949cf8015ee62d8ca8c6030611805365927572:${"\ufffd#12\ufffd"}:START_TAG_DIV:${"\ufffd#13\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN:Template ${"\ufffd/#12\ufffd"}:CLOSE_TAG_DIV:`,[["origin","matAutocompleteOrigin"],["chipList",""],["search_field",""],["auto","matAutocomplete"],j,W,ne,fe,["form-field","",1,"mb-4"],["search",""],["appearance","outline","matAutocompleteOrigin","",1,"w-full"],["aria-label","User Seleciom"],["user","",3,"bg-warning","removed",4,"ngFor","ngForOf"],["placeholder",w,"name","user_email",3,"ngModelChange","matChipInputTokenEnd","ngModel","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["diameter","24","matSuffix","",4,"ngIf"],[3,"click",4,"ngIf"],["class","leading-tight",3,"click",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 -mt-4","actions","",4,"ngIf"],["user","",3,"removed"],[1,"flex","items-center","space-x-2"],[3,"matTooltip",4,"ngIf"],["matChipRemove","","remove",""],[3,"matTooltip"],["diameter","24","matSuffix",""],[3,"click"],[1,"leading-tight",3,"click"],[1,"text-xs"],["actions","",1,"flex","items-center","space-x-2","-mt-4"],["btn","","matRipple","","type","button","name","new-contact",1,"inverse","flex-1","sm:flex-none",3,"click"],[1,"flex","items-center","justify-center"],[1,"hidden","sm:inline"],["btn","","matRipple","","type","button","name","upload-csv",1,"relative","inverse","flex-1","sm:flex-none"],["type","file",1,"opacity-0","absolute","inset-0",3,"change"],["btn","","matRipple","","type","button","name","download-template",1,"inverse","flex-1","sm:flex-none",3,"click"]]},template:function(j,W){if(1&j){const ne=t.RV6();t.j41(0,"div",8)(1,"div",9)(2,"mat-form-field",10,0)(4,"mat-chip-grid",11,1),t.DNE(6,F,8,5,"mat-chip-row",12),t.k0s(),t.j41(7,"input",13,2),t.nI1(9,"async"),t.bIt("ngModelChange",function(ae){return t.eBV(ne),t.Njj(W.updateSearch(ae))})("matChipInputTokenEnd",function(ae){return t.eBV(ne),t.Njj(W.addUserFromEmail(ae.value))}),t.k0s(),t.DNE(10,P,1,0,"mat-spinner",14),t.k0s(),t.j41(11,"mat-autocomplete",null,3),t.DNE(13,k,2,1,"mat-option",15)(14,V,5,2,"mat-option",16),t.nI1(15,"async"),t.k0s()(),t.DNE(16,K,14,0,"div",17),t.k0s()}if(2&j){const ne=t.sdS(5),fe=t.sdS(12);t.BMQ("disabled",W.disabled),t.R7$(6),t.Y8G("ngForOf",W.active_list),t.R7$(),t.Y8G("ngModel",t.bMT(9,10,W.search$))("matAutocomplete",fe)("matChipInputFor",ne)("matChipInputSeparatorKeyCodes",W.separatorKeysCodes),t.R7$(3),t.Y8G("ngIf",W.loading),t.R7$(3),t.Y8G("ngIf",W.search_valid_email),t.R7$(),t.Y8G("ngForOf",t.bMT(15,12,W.user_list$)),t.R7$(2),t.Y8G("ngIf",!W.hide_actions)}}})}return ce})()},8e3:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>$});var t=a(3953),n=a(9417),f=a(5286),v=a(4421),b=a(696),C=a(5006),g=a(3020),S=a(522),h=a(9090),y=a(3921),O=a(2333),m=a(6039),E=a(2372),u=a(3693),M=a(5157);const x=["input"];function D(R,F){1&R&&t.nrm(0,"mat-spinner",11)}function A(R,F){if(1&R){const P=t.RV6();t.j41(0,"mat-option",12),t.bIt("click",function(){const V=t.eBV(P).$implicit,K=t.XpG();return K.setValue(V),t.Njj(K.blurInput())}),t.j41(1,"div",13),t.EFF(2),t.k0s(),t.j41(3,"div",14),t.EFF(4),t.k0s()()}if(2&R){const P=F.$implicit;t.R7$(2),t.JRh(P.name),t.R7$(2),t.SpI(" ",P.email," ")}}function L(R,F){if(1&R){const P=t.RV6();t.j41(0,"mat-option",15)(1,"div",16),t.bIt("mousedown",function(V){return t.eBV(P),V.stopPropagation(),t.Njj(V.preventDefault())})("touchstart",function(V){return t.eBV(P),V.stopPropagation(),t.Njj(V.preventDefault())})("click",function(V){t.eBV(P);const K=t.XpG();return K.setValue(K.search_str),V.stopPropagation(),t.Njj(V.preventDefault())}),t.j41(2,"div",17),t.pXf(3,2),t.k0s()()()}if(2&R){const P=t.XpG();t.R7$(3),t.uP7(P.search_str),t.nnv(3)}}function l(R,F){if(1&R){const P=t.RV6();t.j41(0,"mat-option",18),t.bIt("click",function(){t.eBV(P);const V=t.XpG();return t.Njj(V.empty_fn())}),t.EFF(1),t.k0s()}if(2&R){const P=t.XpG();t.Y8G("disabled",!P.empty_fn),t.R7$(),t.Lme(" ",P.search_str?"No users found.":""," ",P.error," ")}}let $=(()=>{class R extends O.Tv{constructor(P){super(),this._settings=P,this.error="",this.query_fn=k=>this._settings.get("app.basic_user_search")?(0,M.n1$)({q:k,authority_id:(0,M.kup)()?.id}).pipe((0,C.T)(V=>V.data.map(K=>new u.KJ(K)))):(0,E.N8)(k),this.search$=new f.B7,this.search_results$=this.search$.pipe((0,g.B)(400),(0,S.F)(),(0,h.n)(k=>(this.loading=!0,this.options&&this.options.length>0?(0,v.of)(this.options):k.length>=3?this.guests?(0,b.p)([(0,E.N8)(k),(0,m.qI)(k)]):this.query_fn(k):(0,v.of)([]))),(0,y.W)(k=>(0,v.of)([])),(0,C.T)(k=>{this.loading=!1,k=(0,O.Bq)(k);const V=(this.search_str||"").toLowerCase();return k.filter(K=>!this.filter||this.filter(K,V))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>this._input_el?.nativeElement?.blur())}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(P=>this.user_list=P)),this.resetSearchString()}resetSearchString(){this.timeout("reset",()=>this.search_str=this.active_user?.name||"",100)}setValue(P,k){if(!P)return;"string"==typeof P&&P===this.search_str&&(P=new u.KJ({name:(this.search_str||k||"").split("@")[0],email:this.search_str||k||""}));const V=P;!("name"in V)&&!("email"in V)||(this.active_user=V,this._onChange&&this._onChange(V),this.resetSearchString())}writeValue(P){this.active_user=P,this.resetSearchString()}setDisabledState(P){this.disabled=P}registerOnChange(P){this._onChange=P}registerOnTouched(P){this._onTouch=P}static#e=this.\u0275fac=function(k){return new(k||R)(t.rXU(O.h$))};static#t=this.\u0275cmp=t.VBU({type:R,selectors:[["a-user-search-field"]],viewQuery:function(k,V){if(1&k&&t.GBs(x,5,t.aKT),2&k){let K;t.mGM(K=t.lsd())&&(V._input_el=K.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>R),multi:!0}]),t.Vt3],decls:11,vars:8,consts:()=>{let P;return P=$localize`:bda749fab8de2e52f25203a840d2aca70b8e5b4d1390235508766899631: Add external attendee "${"\ufffd0\ufffd"}:INTERPOLATION:" `,[["input",""],["auto","matAutocomplete"],P,["appearance","outline",1,"w-full","no-subscript"],["matInput","","keyboard","","name","user-search",3,"ngModelChange","keyup.enter","blur","focus","ngModel","disabled","placeholder","matAutocomplete"],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"click","disabled"]]},template:function(k,V){if(1&k){const K=t.RV6();t.j41(0,"mat-form-field",3)(1,"input",4,0),t.mxI("ngModelChange",function(Q){return t.eBV(K),t.DH7(V.search_str,Q)||(V.search_str=Q),t.Njj(Q)}),t.bIt("ngModelChange",function(Q){return t.eBV(K),t.Njj(V.search$.next(Q||""))})("keyup.enter",function(){return t.eBV(K),t.Njj(V.validate&&V.validate(V.search_str)?V.setValue(V.search_str):"")})("blur",function(){return t.eBV(K),t.Njj(V.resetSearchString())})("focus",function(){return t.eBV(K),t.Njj(V.cancelReset())}),t.k0s(),t.j41(3,"app-icon",5),t.EFF(4,"search"),t.k0s(),t.DNE(5,D,1,0,"mat-spinner",6),t.k0s(),t.j41(6,"mat-autocomplete",7,1),t.bIt("optionSelected",function(Q){return t.eBV(K),t.Njj(V.setValue(Q.option.value))}),t.DNE(8,A,5,2,"mat-option",8)(9,L,4,1,"mat-option",9)(10,l,2,3,"mat-option",10),t.k0s()}if(2&k){const K=t.sdS(7);t.R7$(),t.R50("ngModel",V.search_str),t.Y8G("disabled",V.disabled)("placeholder",V.placeholder||"Search for user...")("matAutocomplete",K),t.R7$(4),t.Y8G("ngIf",V.loading),t.R7$(3),t.Y8G("ngForOf",V.user_list),t.R7$(),t.Y8G("ngIf",V.search_str&&V.validate&&V.validate(V.search_str)),t.R7$(),t.Y8G("ngIf",!(null!=V.user_list&&V.user_list.length)&&(V.search_str||V.error))}},styles:["[_nghost-%COMP%]{display:block}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]})}return R})()},2185:(At,ue,a)=>{"use strict";a.d(ue,{yb:()=>n.y,WS:()=>C}),a(6612);var n=a(8026),f=a(5157);function C(S,h){return S?S instanceof Object?(0,f.f_4)(S.system_id,S.module||h):(0,f.f_4)(S,h):null}a(7451)},5170:(At,ue,a)=>{"use strict";a.d(ue,{t:()=>n});var t=a(602);class n{constructor(v={}){this.id=v.id||"",this.parent_id=v.parent_id||"",this.name=v.name||"";const b=v.settings||{};this.display_name=v.display_name,this.images=this.images||[];const C=b.discovery_info||b;this.zone_id=v.zone_id||v.zone,this.extras=(v.extras||C.extras||[]).map(S=>({id:S.extra_id||S.id,name:S.extra_name||S.name})),this.loan_items=(v.loan_items||C.loan_items||[]).map(S=>({id:S.extra_id||S.id,name:S.extra_name||S.name})),this.levels=(v.levels||C.levels||[]).map(S=>new t.P({...S,building_id:this.id})),this._roles=v.roles||C.roles||{},this._lockers=v.lockers||v.locker_structure||C.locker_structure||{},this._systems=v.systems||C.systems||{},this._phone_numbers=v.phone_numbers||C.phone_numbers||{},this.location=v.location||C.location||"0,0",this.room_configurations=v.room_configurations||C.room_configurations||[],this.attributes=v.attributes||C.attributes||[];const g=[];if(v.neighbourhoods)for(const S in v.neighbourhoods)if(S in v.neighbourhoods){const h=v.neighbourhoods[S]||{};for(const y in h)y in h&&g.push({id:h[y],name:y,level_id:S})}this.bindings=v.bindings||{},this.searchables=g,this.map_id=v.map_id||"",this.timezone=v.timezone||C.timezone||b.timezone||"",this.catering_hours=v.catering_hours||C.catering_hours||b.catering_hours||{start:7,end:20},this.visitor_space=v.visitor_space||C.visitor_space||b.visitor_space||"",this.holding_bay=v.holding_bay||C.holding_bay||b.holding_bay||"",this.code=v.code||C.code||b.code||"",this.address=v.address||C.address||b.address||"",this.orientations=v.orientations||C.orientations||b.orientations||{},this.booking_details=v.booking_details||C.booking_details||b.booking_details||null,this.catering_restricted_from=v.catering_restricted_from||C.catering_restricted_from||b.catering_restricted_from||-1440,this.currency=v.currency||C.currency||b.currency||"USD"}role(v){return[...this._roles[v]||[]]}get role_names(){return Object.keys(this._roles).filter(v=>v in this._roles)}get lockers(){return{...this._lockers||{}}}get systems(){return{...this._systems||{}}}get phone_numbers(){return{...this._phone_numbers||{}}}featuresForLevel(v){return(this.searchables||[]).filter(b=>b.level_id===v)}}},7451:(At,ue,a)=>{"use strict";a.d(ue,{g:()=>f});var t=a(5157);const n=["zone","qr_code","toJSON"];class f{constructor(b={}){this.toJSON=()=>this.format(),this.id=b.id||"",this.map_id=b.map_id||b.id||"",this.name=b.name||"",this.bookable=b.bookable??!1,this.zone=b.zone||new t.kMc,this.groups=b.groups||[],this.qr_code=b.qr_code||"",this.features=b.features||[],this.images=b.images||[];for(const C in b)C in this||(this[C]=b[C])}format(){const b={...this};for(const C of n)delete b[C];return(0,t.jv5)(b,[void 0,null,[]]),b}}},602:(At,ue,a)=>{"use strict";a.d(ue,{P:()=>t});class t{constructor(f={}){this.settings={},this.id=f.id||"",this.parent_id=f.parent_id||"",this.name=f.name||"",this.display_name=f.display_name||"",this.map_id=f.map_id||"",this.capacity=f.capacity||0,this.location=f.location||"",this.locations=f.locations||[],this.tags=f.tags||[],this.images=f.images||[];const v=this.display_name.split(" ");this.number=((v.length>=2?v[v.length-1]:this.display_name[0])?.toUpperCase()||"").substring(0,2)}}},6612:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>n});var t=a(4217);class n{constructor(v={}){this.id=v.id||"",this.name=v.name||"",this.description=v.description||"",this.tags=v.tags||[],this.count=v.count||0,this.capacity=v.capacity||0,this.bindings=v.bindings||{},this._settings=v.settings||{}}setting(v){const b=v.split(".");return(0,t.st)(b,this._settings)}}},8026:(At,ue,a)=>{"use strict";a.d(ue,{y:()=>Pl});var t=a(467),n=a(5157),f=a(9928),v=a(9714),b=a(4421),C=a(5006),g=a(8712),S=a(4046),h=a(8728),y=a(3020),O=a(3921),m=a(9525),E=a(4233),u=a(5170),M=a(602),x=a(6612);class D{constructor(dt){this.id=dt.id||"",this.name=dt.name||"",this.display_name=dt.display_name||"",this.timezone=dt.timezone||"",this.images=dt.images||[],this.bindings=dt.bindings||{},this.address=dt.address||""}}var A=a(2333);function L(G){return typeof G>"u"||null===G}var se={isNothing:L,isObject:function l(G){return"object"==typeof G&&null!==G},toArray:function $(G){return Array.isArray(G)?G:L(G)?[]:[G]},repeat:function F(G,dt){var _t,et="";for(_t=0;_t<dt;_t+=1)et+=G;return et},isNegativeZero:function P(G){return 0===G&&Number.NEGATIVE_INFINITY===1/G},extend:function R(G,dt){var et,_t,mt,Vt;if(dt)for(et=0,_t=(Vt=Object.keys(dt)).length;et<_t;et+=1)G[mt=Vt[et]]=dt[mt];return G}};function ce(G,dt){var et="",_t=G.reason||"(unknown reason)";return G.mark?(G.mark.name&&(et+='in "'+G.mark.name+'" '),et+="("+(G.mark.line+1)+":"+(G.mark.column+1)+")",!dt&&G.mark.snippet&&(et+="\n\n"+G.mark.snippet),_t+" "+et):_t}function z(G,dt){Error.call(this),this.name="YAMLException",this.reason=G,this.mark=dt,this.message=ce(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(z.prototype=Object.create(Error.prototype)).constructor=z,z.prototype.toString=function(dt){return this.name+": "+ce(this,dt)};var w=z;function j(G,dt,et,_t,mt){var Vt="",Qt="",hn=Math.floor(mt/2)-1;return _t-dt>hn&&(dt=_t-hn+(Vt=" ... ").length),et-_t>hn&&(et=_t+hn-(Qt=" ...").length),{str:Vt+G.slice(dt,et).replace(/\t/g,"\u2192")+Qt,pos:_t-dt+Vt.length}}function W(G,dt){return se.repeat(" ",dt-G.length)+G}var fe=function ne(G,dt){if(dt=Object.create(dt||null),!G.buffer)return null;dt.maxLength||(dt.maxLength=79),"number"!=typeof dt.indent&&(dt.indent=1),"number"!=typeof dt.linesBefore&&(dt.linesBefore=3),"number"!=typeof dt.linesAfter&&(dt.linesAfter=2);for(var Vt,et=/\r?\n|\r|\0/g,_t=[0],mt=[],Qt=-1;Vt=et.exec(G.buffer);)mt.push(Vt.index),_t.push(Vt.index+Vt[0].length),G.position<=Vt.index&&Qt<0&&(Qt=_t.length-2);Qt<0&&(Qt=_t.length-1);var En,Qn,hn="",gi=Math.min(G.line+dt.linesAfter,mt.length).toString().length,ti=dt.maxLength-(dt.indent+gi+3);for(En=1;En<=dt.linesBefore&&!(Qt-En<0);En++)Qn=j(G.buffer,_t[Qt-En],mt[Qt-En],G.position-(_t[Qt]-_t[Qt-En]),ti),hn=se.repeat(" ",dt.indent)+W((G.line-En+1).toString(),gi)+" | "+Qn.str+"\n"+hn;for(Qn=j(G.buffer,_t[Qt],mt[Qt],G.position,ti),hn+=se.repeat(" ",dt.indent)+W((G.line+1).toString(),gi)+" | "+Qn.str+"\n",hn+=se.repeat("-",dt.indent+gi+3+Qn.pos)+"^\n",En=1;En<=dt.linesAfter&&!(Qt+En>=mt.length);En++)Qn=j(G.buffer,_t[Qt+En],mt[Qt+En],G.position-(_t[Qt]-_t[Qt+En]),ti),hn+=se.repeat(" ",dt.indent)+W((G.line+En+1).toString(),gi)+" | "+Qn.str+"\n";return hn.replace(/\n$/,"")},ae=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ae=["scalar","sequence","mapping"],We=function Ve(G,dt){if(dt=dt||{},Object.keys(dt).forEach(function(et){if(-1===ae.indexOf(et))throw new w('Unknown option "'+et+'" is met in definition of "'+G+'" YAML type.')}),this.options=dt,this.tag=G,this.kind=dt.kind||null,this.resolve=dt.resolve||function(){return!0},this.construct=dt.construct||function(et){return et},this.instanceOf=dt.instanceOf||null,this.predicate=dt.predicate||null,this.represent=dt.represent||null,this.representName=dt.representName||null,this.defaultStyle=dt.defaultStyle||null,this.multi=dt.multi||!1,this.styleAliases=function Me(G){var dt={};return null!==G&&Object.keys(G).forEach(function(et){G[et].forEach(function(_t){dt[String(_t)]=et})}),dt}(dt.styleAliases||null),-1===Ae.indexOf(this.kind))throw new w('Unknown kind "'+this.kind+'" is specified for "'+G+'" YAML type.')};function lt(G,dt){var et=[];return G[dt].forEach(function(_t){var mt=et.length;et.forEach(function(Vt,Qt){Vt.tag===_t.tag&&Vt.kind===_t.kind&&Vt.multi===_t.multi&&(mt=Qt)}),et[mt]=_t}),et}function $e(G){return this.extend(G)}$e.prototype.extend=function(dt){var et=[],_t=[];if(dt instanceof We)_t.push(dt);else if(Array.isArray(dt))_t=_t.concat(dt);else{if(!dt||!Array.isArray(dt.implicit)&&!Array.isArray(dt.explicit))throw new w("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");dt.implicit&&(et=et.concat(dt.implicit)),dt.explicit&&(_t=_t.concat(dt.explicit))}et.forEach(function(Vt){if(!(Vt instanceof We))throw new w("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(Vt.loadKind&&"scalar"!==Vt.loadKind)throw new w("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(Vt.multi)throw new w("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),_t.forEach(function(Vt){if(!(Vt instanceof We))throw new w("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var mt=Object.create($e.prototype);return mt.implicit=(this.implicit||[]).concat(et),mt.explicit=(this.explicit||[]).concat(_t),mt.compiledImplicit=lt(mt,"implicit"),mt.compiledExplicit=lt(mt,"explicit"),mt.compiledTypeMap=function nt(){var dt,et,G={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function _t(mt){mt.multi?(G.multi[mt.kind].push(mt),G.multi.fallback.push(mt)):G[mt.kind][mt.tag]=G.fallback[mt.tag]=mt}for(dt=0,et=arguments.length;dt<et;dt+=1)arguments[dt].forEach(_t);return G}(mt.compiledImplicit,mt.compiledExplicit),mt};var Qe=new $e({explicit:[new We("tag:yaml.org,2002:str",{kind:"scalar",construct:function(G){return null!==G?G:""}}),new We("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(G){return null!==G?G:[]}}),new We("tag:yaml.org,2002:map",{kind:"mapping",construct:function(G){return null!==G?G:{}}})]}),Kt=new We("tag:yaml.org,2002:null",{kind:"scalar",resolve:function Ne(G){if(null===G)return!0;var dt=G.length;return 1===dt&&"~"===G||4===dt&&("null"===G||"Null"===G||"NULL"===G)},construct:function at(){return null},predicate:function Lt(G){return null===G},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),N=new We("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Ot(G){if(null===G)return!1;var dt=G.length;return 4===dt&&("true"===G||"True"===G||"TRUE"===G)||5===dt&&("false"===G||"False"===G||"FALSE"===G)},construct:function Se(G){return"true"===G||"True"===G||"TRUE"===G},predicate:function ve(G){return"[object Boolean]"===Object.prototype.toString.call(G)},represent:{lowercase:function(G){return G?"true":"false"},uppercase:function(G){return G?"TRUE":"FALSE"},camelcase:function(G){return G?"True":"False"}},defaultStyle:"lowercase"});function ie(G){return 48<=G&&G<=57||65<=G&&G<=70||97<=G&&G<=102}function Y(G){return 48<=G&&G<=55}function ye(G){return 48<=G&&G<=57}var _n=new We("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Ze(G){if(null===G)return!1;var mt,dt=G.length,et=0,_t=!1;if(!dt)return!1;if(("-"===(mt=G[et])||"+"===mt)&&(mt=G[++et]),"0"===mt){if(et+1===dt)return!0;if("b"===(mt=G[++et])){for(et++;et<dt;et++)if("_"!==(mt=G[et])){if("0"!==mt&&"1"!==mt)return!1;_t=!0}return _t&&"_"!==mt}if("x"===mt){for(et++;et<dt;et++)if("_"!==(mt=G[et])){if(!ie(G.charCodeAt(et)))return!1;_t=!0}return _t&&"_"!==mt}if("o"===mt){for(et++;et<dt;et++)if("_"!==(mt=G[et])){if(!Y(G.charCodeAt(et)))return!1;_t=!0}return _t&&"_"!==mt}}if("_"===mt)return!1;for(;et<dt;et++)if("_"!==(mt=G[et])){if(!ye(G.charCodeAt(et)))return!1;_t=!0}return!(!_t||"_"===mt)},construct:function Ft(G){var _t,dt=G,et=1;if(-1!==dt.indexOf("_")&&(dt=dt.replace(/_/g,"")),("-"===(_t=dt[0])||"+"===_t)&&("-"===_t&&(et=-1),_t=(dt=dt.slice(1))[0]),"0"===dt)return 0;if("0"===_t){if("b"===dt[1])return et*parseInt(dt.slice(2),2);if("x"===dt[1])return et*parseInt(dt.slice(2),16);if("o"===dt[1])return et*parseInt(dt.slice(2),8)}return et*parseInt(dt,10)},predicate:function sn(G){return"[object Number]"===Object.prototype.toString.call(G)&&G%1==0&&!se.isNegativeZero(G)},represent:{binary:function(G){return G>=0?"0b"+G.toString(2):"-0b"+G.toString(2).slice(1)},octal:function(G){return G>=0?"0o"+G.toString(8):"-0o"+G.toString(8).slice(1)},decimal:function(G){return G.toString(10)},hexadecimal:function(G){return G>=0?"0x"+G.toString(16).toUpperCase():"-0x"+G.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Rt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),pt=/^[-+]?[0-9]+e/,$t=new We("tag:yaml.org,2002:float",{kind:"scalar",resolve:function en(G){return!(null===G||!Rt.test(G)||"_"===G[G.length-1])},construct:function ht(G){var dt,et;return et="-"===(dt=G.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(dt[0])>=0&&(dt=dt.slice(1)),".inf"===dt?1===et?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===dt?NaN:et*parseFloat(dt,10)},predicate:function Mt(G){return"[object Number]"===Object.prototype.toString.call(G)&&(G%1!=0||se.isNegativeZero(G))},represent:function Ct(G,dt){var et;if(isNaN(G))switch(dt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===G)switch(dt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===G)switch(dt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(se.isNegativeZero(G))return"-0.0";return et=G.toString(10),pt.test(et)?et.replace("e",".e"):et},defaultStyle:"lowercase"}),Sn=Qe.extend({implicit:[Kt,N,_n,$t]}),In=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Fn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),je=new We("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function $n(G){return null!==G&&(null!==In.exec(G)||null!==Fn.exec(G))},construct:function ut(G){var dt,et,_t,mt,Vt,Qt,hn,Jn,En=0,Qn=null;if(null===(dt=In.exec(G))&&(dt=Fn.exec(G)),null===dt)throw new Error("Date resolve error");if(et=+dt[1],_t=+dt[2]-1,mt=+dt[3],!dt[4])return new Date(Date.UTC(et,_t,mt));if(Vt=+dt[4],Qt=+dt[5],hn=+dt[6],dt[7]){for(En=dt[7].slice(0,3);En.length<3;)En+="0";En=+En}return dt[9]&&(Qn=6e4*(60*+dt[10]+ +(dt[11]||0)),"-"===dt[9]&&(Qn=-Qn)),Jn=new Date(Date.UTC(et,_t,mt,Vt,Qt,hn,En)),Qn&&Jn.setTime(Jn.getTime()-Qn),Jn},instanceOf:Date,represent:function Pe(G){return G.toISOString()}}),Ye=new We("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function Te(G){return"<<"===G||null===G}}),Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",we=new We("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function Ut(G){if(null===G)return!1;var dt,et,_t=0,mt=G.length,Vt=Tt;for(et=0;et<mt;et++)if(!((dt=Vt.indexOf(G.charAt(et)))>64)){if(dt<0)return!1;_t+=6}return _t%8==0},construct:function Ke(G){var dt,et,_t=G.replace(/[\r\n=]/g,""),mt=_t.length,Vt=Tt,Qt=0,hn=[];for(dt=0;dt<mt;dt++)dt%4==0&&dt&&(hn.push(Qt>>16&255),hn.push(Qt>>8&255),hn.push(255&Qt)),Qt=Qt<<6|Vt.indexOf(_t.charAt(dt));return 0==(et=mt%4*6)?(hn.push(Qt>>16&255),hn.push(Qt>>8&255),hn.push(255&Qt)):18===et?(hn.push(Qt>>10&255),hn.push(Qt>>2&255)):12===et&&hn.push(Qt>>4&255),new Uint8Array(hn)},predicate:function Ue(G){return"[object Uint8Array]"===Object.prototype.toString.call(G)},represent:function Fe(G){var _t,mt,dt="",et=0,Vt=G.length,Qt=Tt;for(_t=0;_t<Vt;_t++)_t%3==0&&_t&&(dt+=Qt[et>>18&63],dt+=Qt[et>>12&63],dt+=Qt[et>>6&63],dt+=Qt[63&et]),et=(et<<8)+G[_t];return 0==(mt=Vt%3)?(dt+=Qt[et>>18&63],dt+=Qt[et>>12&63],dt+=Qt[et>>6&63],dt+=Qt[63&et]):2===mt?(dt+=Qt[et>>10&63],dt+=Qt[et>>4&63],dt+=Qt[et<<2&63],dt+=Qt[64]):1===mt&&(dt+=Qt[et>>2&63],dt+=Qt[et<<4&63],dt+=Qt[64],dt+=Qt[64]),dt}}),rt=Object.prototype.hasOwnProperty,vt=Object.prototype.toString,Nt=new We("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function on(G){if(null===G)return!0;var et,_t,mt,Vt,Qt,dt=[],hn=G;for(et=0,_t=hn.length;et<_t;et+=1){if(Qt=!1,"[object Object]"!==vt.call(mt=hn[et]))return!1;for(Vt in mt)if(rt.call(mt,Vt)){if(Qt)return!1;Qt=!0}if(!Qt)return!1;if(-1!==dt.indexOf(Vt))return!1;dt.push(Vt)}return!0},construct:function rn(G){return null!==G?G:[]}}),fn=Object.prototype.toString,tn=new We("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function wt(G){if(null===G)return!0;var dt,et,_t,mt,Vt,Qt=G;for(Vt=new Array(Qt.length),dt=0,et=Qt.length;dt<et;dt+=1){if("[object Object]"!==fn.call(_t=Qt[dt])||1!==(mt=Object.keys(_t)).length)return!1;Vt[dt]=[mt[0],_t[mt[0]]]}return!0},construct:function Yt(G){if(null===G)return[];var dt,et,_t,mt,Vt,Qt=G;for(Vt=new Array(Qt.length),dt=0,et=Qt.length;dt<et;dt+=1)_t=Qt[dt],mt=Object.keys(_t),Vt[dt]=[mt[0],_t[mt[0]]];return Vt}}),cn=Object.prototype.hasOwnProperty,vi=new We("tag:yaml.org,2002:set",{kind:"mapping",resolve:function xn(G){if(null===G)return!0;var dt,et=G;for(dt in et)if(cn.call(et,dt)&&null!==et[dt])return!1;return!0},construct:function ii(G){return null!==G?G:{}}}),bi=Sn.extend({implicit:[je,Ye],explicit:[we,Nt,tn,vi]}),hi=Object.prototype.hasOwnProperty,Ai=1,Mi=2,ro=3,po=4,ki=1,Po=2,uo=3,ni=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,fi=/[\x85\u2028\u2029]/,pi=/[,\[\]\{\}]/,Oe=/^(?:!|!!|![a-z\-]+!)$/i,Je=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function J(G){return Object.prototype.toString.call(G)}function he(G){return 10===G||13===G}function ge(G){return 9===G||32===G}function ze(G){return 9===G||32===G||10===G||13===G}function yt(G){return 44===G||91===G||93===G||123===G||125===G}function mn(G){var dt;return 48<=G&&G<=57?G-48:97<=(dt=32|G)&&dt<=102?dt-97+10:-1}function Ln(G){return 120===G?2:117===G?4:85===G?8:0}function ri(G){return 48<=G&&G<=57?G-48:-1}function wi(G){return 48===G?"\0":97===G?"\x07":98===G?"\b":116===G||9===G?"\t":110===G?"\n":118===G?"\v":102===G?"\f":114===G?"\r":101===G?"\x1b":32===G?" ":34===G?'"':47===G?"/":92===G?"\\":78===G?"\x85":95===G?"\xa0":76===G?"\u2028":80===G?"\u2029":""}function Oi(G){return G<=65535?String.fromCharCode(G):String.fromCharCode(55296+(G-65536>>10),56320+(G-65536&1023))}for(var Vi=new Array(256),mo=new Array(256),lo=0;lo<256;lo++)Vi[lo]=wi(lo)?1:0,mo[lo]=wi(lo);function Li(G,dt){this.input=G,this.filename=dt.filename||null,this.schema=dt.schema||bi,this.onWarning=dt.onWarning||null,this.legacy=dt.legacy||!1,this.json=dt.json||!1,this.listener=dt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=G.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function no(G,dt){var et={name:G.filename,buffer:G.input.slice(0,-1),position:G.position,line:G.line,column:G.position-G.lineStart};return et.snippet=fe(et),new w(dt,et)}function Hn(G,dt){throw no(G,dt)}function Xo(G,dt){G.onWarning&&G.onWarning.call(null,no(G,dt))}var Bi={YAML:function(dt,et,_t){var mt,Vt,Qt;null!==dt.version&&Hn(dt,"duplication of %YAML directive"),1!==_t.length&&Hn(dt,"YAML directive accepts exactly one argument"),null===(mt=/^([0-9]+)\.([0-9]+)$/.exec(_t[0]))&&Hn(dt,"ill-formed argument of the YAML directive"),Vt=parseInt(mt[1],10),Qt=parseInt(mt[2],10),1!==Vt&&Hn(dt,"unacceptable YAML version of the document"),dt.version=_t[0],dt.checkLineBreaks=Qt<2,1!==Qt&&2!==Qt&&Xo(dt,"unsupported YAML version of the document")},TAG:function(dt,et,_t){var mt,Vt;2!==_t.length&&Hn(dt,"TAG directive accepts exactly two arguments"),Vt=_t[1],Oe.test(mt=_t[0])||Hn(dt,"ill-formed tag handle (first argument) of the TAG directive"),hi.call(dt.tagMap,mt)&&Hn(dt,'there is a previously declared suffix for "'+mt+'" tag handle'),Je.test(Vt)||Hn(dt,"ill-formed tag prefix (second argument) of the TAG directive");try{Vt=decodeURIComponent(Vt)}catch{Hn(dt,"tag prefix is malformed: "+Vt)}dt.tagMap[mt]=Vt}};function Ho(G,dt,et,_t){var mt,Vt,Qt,hn;if(dt<et){if(hn=G.input.slice(dt,et),_t)for(mt=0,Vt=hn.length;mt<Vt;mt+=1)9===(Qt=hn.charCodeAt(mt))||32<=Qt&&Qt<=1114111||Hn(G,"expected valid JSON character");else ni.test(hn)&&Hn(G,"the stream contains non-printable characters");G.result+=hn}}function Rs(G,dt,et,_t){var mt,Vt,Qt,hn;for(se.isObject(et)||Hn(G,"cannot merge mappings; the provided source object is unacceptable"),Qt=0,hn=(mt=Object.keys(et)).length;Qt<hn;Qt+=1)hi.call(dt,Vt=mt[Qt])||(dt[Vt]=et[Vt],_t[Vt]=!0)}function No(G,dt,et,_t,mt,Vt,Qt,hn,En){var Qn,gi;if(Array.isArray(mt))for(Qn=0,gi=(mt=Array.prototype.slice.call(mt)).length;Qn<gi;Qn+=1)Array.isArray(mt[Qn])&&Hn(G,"nested arrays are not supported inside keys"),"object"==typeof mt&&"[object Object]"===J(mt[Qn])&&(mt[Qn]="[object Object]");if("object"==typeof mt&&"[object Object]"===J(mt)&&(mt="[object Object]"),mt=String(mt),null===dt&&(dt={}),"tag:yaml.org,2002:merge"===_t)if(Array.isArray(Vt))for(Qn=0,gi=Vt.length;Qn<gi;Qn+=1)Rs(G,dt,Vt[Qn],et);else Rs(G,dt,Vt,et);else!G.json&&!hi.call(et,mt)&&hi.call(dt,mt)&&(G.line=Qt||G.line,G.lineStart=hn||G.lineStart,G.position=En||G.position,Hn(G,"duplicated mapping key")),"__proto__"===mt?Object.defineProperty(dt,mt,{configurable:!0,enumerable:!0,writable:!0,value:Vt}):dt[mt]=Vt,delete et[mt];return dt}function ir(G){var dt;10===(dt=G.input.charCodeAt(G.position))?G.position++:13===dt?(G.position++,10===G.input.charCodeAt(G.position)&&G.position++):Hn(G,"a line break is expected"),G.line+=1,G.lineStart=G.position,G.firstTabInLine=-1}function ho(G,dt,et){for(var _t=0,mt=G.input.charCodeAt(G.position);0!==mt;){for(;ge(mt);)9===mt&&-1===G.firstTabInLine&&(G.firstTabInLine=G.position),mt=G.input.charCodeAt(++G.position);if(dt&&35===mt)do{mt=G.input.charCodeAt(++G.position)}while(10!==mt&&13!==mt&&0!==mt);if(!he(mt))break;for(ir(G),mt=G.input.charCodeAt(G.position),_t++,G.lineIndent=0;32===mt;)G.lineIndent++,mt=G.input.charCodeAt(++G.position)}return-1!==et&&0!==_t&&G.lineIndent<et&&Xo(G,"deficient indentation"),_t}function or(G){var et,dt=G.position;return!(45!==(et=G.input.charCodeAt(dt))&&46!==et||et!==G.input.charCodeAt(dt+1)||et!==G.input.charCodeAt(dt+2)||(dt+=3,et=G.input.charCodeAt(dt),0!==et&&!ze(et)))}function Ds(G,dt){1===dt?G.result+=" ":dt>1&&(G.result+=se.repeat("\n",dt-1))}function Wr(G,dt){var et,En,_t=G.tag,mt=G.anchor,Vt=[],hn=!1;if(-1!==G.firstTabInLine)return!1;for(null!==G.anchor&&(G.anchorMap[G.anchor]=Vt),En=G.input.charCodeAt(G.position);0!==En&&(-1!==G.firstTabInLine&&(G.position=G.firstTabInLine,Hn(G,"tab characters must not be used in indentation")),45===En&&ze(G.input.charCodeAt(G.position+1)));)if(hn=!0,G.position++,ho(G,!0,-1)&&G.lineIndent<=dt)Vt.push(null),En=G.input.charCodeAt(G.position);else if(et=G.line,Hs(G,dt,ro,!1,!0),Vt.push(G.result),ho(G,!0,-1),En=G.input.charCodeAt(G.position),(G.line===et||G.lineIndent>dt)&&0!==En)Hn(G,"bad indentation of a sequence entry");else if(G.lineIndent<dt)break;return!!hn&&(G.tag=_t,G.anchor=mt,G.kind="sequence",G.result=Vt,!0)}function Xr(G){var dt,mt,Vt,Qt,et=!1,_t=!1;if(33!==(Qt=G.input.charCodeAt(G.position)))return!1;if(null!==G.tag&&Hn(G,"duplication of a tag property"),60===(Qt=G.input.charCodeAt(++G.position))?(et=!0,Qt=G.input.charCodeAt(++G.position)):33===Qt?(_t=!0,mt="!!",Qt=G.input.charCodeAt(++G.position)):mt="!",dt=G.position,et){do{Qt=G.input.charCodeAt(++G.position)}while(0!==Qt&&62!==Qt);G.position<G.length?(Vt=G.input.slice(dt,G.position),Qt=G.input.charCodeAt(++G.position)):Hn(G,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Qt&&!ze(Qt);)33===Qt&&(_t?Hn(G,"tag suffix cannot contain exclamation marks"):(mt=G.input.slice(dt-1,G.position+1),Oe.test(mt)||Hn(G,"named tag handle cannot contain such characters"),_t=!0,dt=G.position+1)),Qt=G.input.charCodeAt(++G.position);Vt=G.input.slice(dt,G.position),pi.test(Vt)&&Hn(G,"tag suffix cannot contain flow indicator characters")}Vt&&!Je.test(Vt)&&Hn(G,"tag name cannot contain such characters: "+Vt);try{Vt=decodeURIComponent(Vt)}catch{Hn(G,"tag name is malformed: "+Vt)}return et?G.tag=Vt:hi.call(G.tagMap,mt)?G.tag=G.tagMap[mt]+Vt:"!"===mt?G.tag="!"+Vt:"!!"===mt?G.tag="tag:yaml.org,2002:"+Vt:Hn(G,'undeclared tag handle "'+mt+'"'),!0}function Ar(G){var dt,et;if(38!==(et=G.input.charCodeAt(G.position)))return!1;for(null!==G.anchor&&Hn(G,"duplication of an anchor property"),et=G.input.charCodeAt(++G.position),dt=G.position;0!==et&&!ze(et)&&!yt(et);)et=G.input.charCodeAt(++G.position);return G.position===dt&&Hn(G,"name of an anchor node must contain at least one character"),G.anchor=G.input.slice(dt,G.position),!0}function Hs(G,dt,et,_t,mt){var Vt,Qt,hn,ti,Jn,Di,Ni,$i,Co,En=1,Qn=!1,gi=!1;if(null!==G.listener&&G.listener("open",G),G.tag=null,G.anchor=null,G.kind=null,G.result=null,Vt=Qt=hn=po===et||ro===et,_t&&ho(G,!0,-1)&&(Qn=!0,G.lineIndent>dt?En=1:G.lineIndent===dt?En=0:G.lineIndent<dt&&(En=-1)),1===En)for(;Xr(G)||Ar(G);)ho(G,!0,-1)?(Qn=!0,hn=Vt,G.lineIndent>dt?En=1:G.lineIndent===dt?En=0:G.lineIndent<dt&&(En=-1)):hn=!1;if(hn&&(hn=Qn||mt),(1===En||po===et)&&($i=Ai===et||Mi===et?dt:dt+1,Co=G.position-G.lineStart,1===En?hn&&(Wr(G,Co)||function Rr(G,dt,et){var _t,mt,Vt,Qt,hn,En,io,Qn=G.tag,gi=G.anchor,ti={},Jn=Object.create(null),Di=null,Ni=null,$i=null,Co=!1,Fs=!1;if(-1!==G.firstTabInLine)return!1;for(null!==G.anchor&&(G.anchorMap[G.anchor]=ti),io=G.input.charCodeAt(G.position);0!==io;){if(!Co&&-1!==G.firstTabInLine&&(G.position=G.firstTabInLine,Hn(G,"tab characters must not be used in indentation")),_t=G.input.charCodeAt(G.position+1),Vt=G.line,63!==io&&58!==io||!ze(_t)){if(Qt=G.line,hn=G.lineStart,En=G.position,!Hs(G,et,Mi,!1,!0))break;if(G.line===Vt){for(io=G.input.charCodeAt(G.position);ge(io);)io=G.input.charCodeAt(++G.position);if(58===io)ze(io=G.input.charCodeAt(++G.position))||Hn(G,"a whitespace character is expected after the key-value separator within a block mapping"),Co&&(No(G,ti,Jn,Di,Ni,null,Qt,hn,En),Di=Ni=$i=null),Fs=!0,Co=!1,mt=!1,Di=G.tag,Ni=G.result;else{if(!Fs)return G.tag=Qn,G.anchor=gi,!0;Hn(G,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Fs)return G.tag=Qn,G.anchor=gi,!0;Hn(G,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===io?(Co&&(No(G,ti,Jn,Di,Ni,null,Qt,hn,En),Di=Ni=$i=null),Fs=!0,Co=!0,mt=!0):Co?(Co=!1,mt=!0):Hn(G,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),G.position+=1,io=_t;if((G.line===Vt||G.lineIndent>dt)&&(Co&&(Qt=G.line,hn=G.lineStart,En=G.position),Hs(G,dt,po,!0,mt)&&(Co?Ni=G.result:$i=G.result),Co||(No(G,ti,Jn,Di,Ni,$i,Qt,hn,En),Di=Ni=$i=null),ho(G,!0,-1),io=G.input.charCodeAt(G.position)),(G.line===Vt||G.lineIndent>dt)&&0!==io)Hn(G,"bad indentation of a mapping entry");else if(G.lineIndent<dt)break}return Co&&No(G,ti,Jn,Di,Ni,null,Qt,hn,En),Fs&&(G.tag=Qn,G.anchor=gi,G.kind="mapping",G.result=ti),Fs}(G,Co,$i))||function Xs(G,dt){var _t,mt,Vt,hn,gi,ti,Jn,Di,$i,Co,Fs,io,et=!0,Qt=G.tag,En=G.anchor,Ni=Object.create(null);if(91===(io=G.input.charCodeAt(G.position)))gi=93,Di=!1,hn=[];else{if(123!==io)return!1;gi=125,Di=!0,hn={}}for(null!==G.anchor&&(G.anchorMap[G.anchor]=hn),io=G.input.charCodeAt(++G.position);0!==io;){if(ho(G,!0,dt),(io=G.input.charCodeAt(G.position))===gi)return G.position++,G.tag=Qt,G.anchor=En,G.kind=Di?"mapping":"sequence",G.result=hn,!0;et?44===io&&Hn(G,"expected the node content, but found ','"):Hn(G,"missed comma between flow collection entries"),Fs=null,ti=Jn=!1,63===io&&ze(G.input.charCodeAt(G.position+1))&&(ti=Jn=!0,G.position++,ho(G,!0,dt)),_t=G.line,mt=G.lineStart,Vt=G.position,Hs(G,dt,Ai,!1,!0),Co=G.tag,$i=G.result,ho(G,!0,dt),io=G.input.charCodeAt(G.position),(Jn||G.line===_t)&&58===io&&(ti=!0,io=G.input.charCodeAt(++G.position),ho(G,!0,dt),Hs(G,dt,Ai,!1,!0),Fs=G.result),Di?No(G,hn,Ni,Co,$i,Fs,_t,mt,Vt):hn.push(ti?No(G,null,Ni,Co,$i,Fs,_t,mt,Vt):$i),ho(G,!0,dt),44===(io=G.input.charCodeAt(G.position))?(et=!0,io=G.input.charCodeAt(++G.position)):et=!1}Hn(G,"unexpected end of the stream within a flow collection")}(G,$i)?gi=!0:(Qt&&function ya(G,dt){var et,_t,gi,ti,mt=ki,Vt=!1,Qt=!1,hn=dt,En=0,Qn=!1;if(124===(ti=G.input.charCodeAt(G.position)))_t=!1;else{if(62!==ti)return!1;_t=!0}for(G.kind="scalar",G.result="";0!==ti;)if(43===(ti=G.input.charCodeAt(++G.position))||45===ti)ki===mt?mt=43===ti?uo:Po:Hn(G,"repeat of a chomping mode identifier");else{if(!((gi=ri(ti))>=0))break;0===gi?Hn(G,"bad explicit indentation width of a block scalar; it cannot be less than one"):Qt?Hn(G,"repeat of an indentation width identifier"):(hn=dt+gi-1,Qt=!0)}if(ge(ti)){do{ti=G.input.charCodeAt(++G.position)}while(ge(ti));if(35===ti)do{ti=G.input.charCodeAt(++G.position)}while(!he(ti)&&0!==ti)}for(;0!==ti;){for(ir(G),G.lineIndent=0,ti=G.input.charCodeAt(G.position);(!Qt||G.lineIndent<hn)&&32===ti;)G.lineIndent++,ti=G.input.charCodeAt(++G.position);if(!Qt&&G.lineIndent>hn&&(hn=G.lineIndent),he(ti))En++;else{if(G.lineIndent<hn){mt===uo?G.result+=se.repeat("\n",Vt?1+En:En):mt===ki&&Vt&&(G.result+="\n");break}for(_t?ge(ti)?(Qn=!0,G.result+=se.repeat("\n",Vt?1+En:En)):Qn?(Qn=!1,G.result+=se.repeat("\n",En+1)):0===En?Vt&&(G.result+=" "):G.result+=se.repeat("\n",En):G.result+=se.repeat("\n",Vt?1+En:En),Vt=!0,Qt=!0,En=0,et=G.position;!he(ti)&&0!==ti;)ti=G.input.charCodeAt(++G.position);Ho(G,et,G.position,!1)}}return!0}(G,$i)||function Ws(G,dt){var et,_t,mt;if(39!==(et=G.input.charCodeAt(G.position)))return!1;for(G.kind="scalar",G.result="",G.position++,_t=mt=G.position;0!==(et=G.input.charCodeAt(G.position));)if(39===et){if(Ho(G,_t,G.position,!0),39!==(et=G.input.charCodeAt(++G.position)))return!0;_t=G.position,G.position++,mt=G.position}else he(et)?(Ho(G,_t,mt,!0),Ds(G,ho(G,!1,dt)),_t=mt=G.position):G.position===G.lineStart&&or(G)?Hn(G,"unexpected end of the document within a single quoted scalar"):(G.position++,mt=G.position);Hn(G,"unexpected end of the stream within a single quoted scalar")}(G,$i)||function xr(G,dt){var et,_t,mt,Vt,Qt,hn;if(34!==(hn=G.input.charCodeAt(G.position)))return!1;for(G.kind="scalar",G.result="",G.position++,et=_t=G.position;0!==(hn=G.input.charCodeAt(G.position));){if(34===hn)return Ho(G,et,G.position,!0),G.position++,!0;if(92===hn){if(Ho(G,et,G.position,!0),he(hn=G.input.charCodeAt(++G.position)))ho(G,!1,dt);else if(hn<256&&Vi[hn])G.result+=mo[hn],G.position++;else if((Qt=Ln(hn))>0){for(mt=Qt,Vt=0;mt>0;mt--)(Qt=mn(hn=G.input.charCodeAt(++G.position)))>=0?Vt=(Vt<<4)+Qt:Hn(G,"expected hexadecimal character");G.result+=Oi(Vt),G.position++}else Hn(G,"unknown escape sequence");et=_t=G.position}else he(hn)?(Ho(G,et,_t,!0),Ds(G,ho(G,!1,dt)),et=_t=G.position):G.position===G.lineStart&&or(G)?Hn(G,"unexpected end of the document within a double quoted scalar"):(G.position++,_t=G.position)}Hn(G,"unexpected end of the stream within a double quoted scalar")}(G,$i)?gi=!0:function Sr(G){var dt,et,_t;if(42!==(_t=G.input.charCodeAt(G.position)))return!1;for(_t=G.input.charCodeAt(++G.position),dt=G.position;0!==_t&&!ze(_t)&&!yt(_t);)_t=G.input.charCodeAt(++G.position);return G.position===dt&&Hn(G,"name of an alias node must contain at least one character"),et=G.input.slice(dt,G.position),hi.call(G.anchorMap,et)||Hn(G,'unidentified alias "'+et+'"'),G.result=G.anchorMap[et],ho(G,!0,-1),!0}(G)?(gi=!0,(null!==G.tag||null!==G.anchor)&&Hn(G,"alias node should not have any properties")):function zs(G,dt,et){var mt,Vt,Qt,hn,En,Qn,gi,Di,ti=G.kind,Jn=G.result;if(ze(Di=G.input.charCodeAt(G.position))||yt(Di)||35===Di||38===Di||42===Di||33===Di||124===Di||62===Di||39===Di||34===Di||37===Di||64===Di||96===Di||(63===Di||45===Di)&&(ze(mt=G.input.charCodeAt(G.position+1))||et&&yt(mt)))return!1;for(G.kind="scalar",G.result="",Vt=Qt=G.position,hn=!1;0!==Di;){if(58===Di){if(ze(mt=G.input.charCodeAt(G.position+1))||et&&yt(mt))break}else if(35===Di){if(ze(G.input.charCodeAt(G.position-1)))break}else{if(G.position===G.lineStart&&or(G)||et&&yt(Di))break;if(he(Di)){if(En=G.line,Qn=G.lineStart,gi=G.lineIndent,ho(G,!1,-1),G.lineIndent>=dt){hn=!0,Di=G.input.charCodeAt(G.position);continue}G.position=Qt,G.line=En,G.lineStart=Qn,G.lineIndent=gi;break}}hn&&(Ho(G,Vt,Qt,!1),Ds(G,G.line-En),Vt=Qt=G.position,hn=!1),ge(Di)||(Qt=G.position+1),Di=G.input.charCodeAt(++G.position)}return Ho(G,Vt,Qt,!1),!!G.result||(G.kind=ti,G.result=Jn,!1)}(G,$i,Ai===et)&&(gi=!0,null===G.tag&&(G.tag="?")),null!==G.anchor&&(G.anchorMap[G.anchor]=G.result)):0===En&&(gi=hn&&Wr(G,Co))),null===G.tag)null!==G.anchor&&(G.anchorMap[G.anchor]=G.result);else if("?"===G.tag){for(null!==G.result&&"scalar"!==G.kind&&Hn(G,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+G.kind+'"'),ti=0,Jn=G.implicitTypes.length;ti<Jn;ti+=1)if((Ni=G.implicitTypes[ti]).resolve(G.result)){G.result=Ni.construct(G.result),G.tag=Ni.tag,null!==G.anchor&&(G.anchorMap[G.anchor]=G.result);break}}else if("!"!==G.tag){if(hi.call(G.typeMap[G.kind||"fallback"],G.tag))Ni=G.typeMap[G.kind||"fallback"][G.tag];else for(Ni=null,ti=0,Jn=(Di=G.typeMap.multi[G.kind||"fallback"]).length;ti<Jn;ti+=1)if(G.tag.slice(0,Di[ti].tag.length)===Di[ti].tag){Ni=Di[ti];break}Ni||Hn(G,"unknown tag !<"+G.tag+">"),null!==G.result&&Ni.kind!==G.kind&&Hn(G,"unacceptable node kind for !<"+G.tag+'> tag; it should be "'+Ni.kind+'", not "'+G.kind+'"'),Ni.resolve(G.result,G.tag)?(G.result=Ni.construct(G.result,G.tag),null!==G.anchor&&(G.anchorMap[G.anchor]=G.result)):Hn(G,"cannot resolve a node with !<"+G.tag+"> explicit tag")}return null!==G.listener&&G.listener("close",G),null!==G.tag||null!==G.anchor||gi}function Hr(G){var et,_t,mt,Qt,dt=G.position,Vt=!1;for(G.version=null,G.checkLineBreaks=G.legacy,G.tagMap=Object.create(null),G.anchorMap=Object.create(null);0!==(Qt=G.input.charCodeAt(G.position))&&(ho(G,!0,-1),Qt=G.input.charCodeAt(G.position),!(G.lineIndent>0||37!==Qt));){for(Vt=!0,Qt=G.input.charCodeAt(++G.position),et=G.position;0!==Qt&&!ze(Qt);)Qt=G.input.charCodeAt(++G.position);for(mt=[],(_t=G.input.slice(et,G.position)).length<1&&Hn(G,"directive name must not be less than one character in length");0!==Qt;){for(;ge(Qt);)Qt=G.input.charCodeAt(++G.position);if(35===Qt){do{Qt=G.input.charCodeAt(++G.position)}while(0!==Qt&&!he(Qt));break}if(he(Qt))break;for(et=G.position;0!==Qt&&!ze(Qt);)Qt=G.input.charCodeAt(++G.position);mt.push(G.input.slice(et,G.position))}0!==Qt&&ir(G),hi.call(Bi,_t)?Bi[_t](G,_t,mt):Xo(G,'unknown document directive "'+_t+'"')}ho(G,!0,-1),0===G.lineIndent&&45===G.input.charCodeAt(G.position)&&45===G.input.charCodeAt(G.position+1)&&45===G.input.charCodeAt(G.position+2)?(G.position+=3,ho(G,!0,-1)):Vt&&Hn(G,"directives end mark is expected"),Hs(G,G.lineIndent-1,po,!1,!0),ho(G,!0,-1),G.checkLineBreaks&&fi.test(G.input.slice(dt,G.position))&&Xo(G,"non-ASCII line breaks are interpreted as content"),G.documents.push(G.result),G.position===G.lineStart&&or(G)?46===G.input.charCodeAt(G.position)&&(G.position+=3,ho(G,!0,-1)):G.position<G.length-1&&Hn(G,"end of the stream or a document separator is expected")}function as(G,dt){dt=dt||{},0!==(G=String(G)).length&&(10!==G.charCodeAt(G.length-1)&&13!==G.charCodeAt(G.length-1)&&(G+="\n"),65279===G.charCodeAt(0)&&(G=G.slice(1)));var et=new Li(G,dt),_t=G.indexOf("\0");for(-1!==_t&&(et.position=_t,Hn(et,"null byte is not allowed in input")),et.input+="\0";32===et.input.charCodeAt(et.position);)et.lineIndent+=1,et.position+=1;for(;et.position<et.length-1;)Hr(et);return et.documents}function $a(G,dt){return function(){throw new Error("Function yaml."+G+" is removed in js-yaml 4. Use yaml."+dt+" instead, which is now safe by default.")}}var Sa=function Xt(G,dt){var et=as(G,dt);if(0!==et.length){if(1===et.length)return et[0];throw new w("expected a single document in the stream, but found more")}};$a("safeLoad","load"),$a("safeLoadAll","loadAll"),$a("safeDump","dump");var Da=a(3953),yo=a(2091);let Pl=(()=>{class G{get settings(){return this._settings}get region_settings(){return this._region_settings}get building_settings(){return this._building_settings}regionSettings(et=""){const _t=this._active_region.getValue();return!et&&_t&&(et=_t?.id),this._region_settings&&this._region_settings[et]||{}}buildingSettings(et=""){return!et&&this.building&&(et=this.building?.id||this.buildings[0]?.id),this._building_settings&&this._building_settings[et]||{}}get organisation(){return this._organisation}get regions(){return this._regions.getValue()}get region(){return this._active_region.getValue()}set region(et){this.setRegion(et)}setRegion(et){var _t=this;return(0,t.A)(function*(){et&&(_t._active_region.next(et),yield _t.loadRegionData(et),_t._setBuildingFromTimezone(),_t.building?.parent_id!==et.id&&_t.buildingsForRegion(et).length?_t.building=_t.buildingsForRegion(et)[0]:_t._updateSettingOverrides())})()}get buildings(){return this._buildings.getValue()||[]}get building(){return this._active_building.getValue()}set building(et){et&&(this._active_building.next(et),this.loadBuildingData(et).then(()=>this._updateSettingOverrides()),this.regions.length&&this.region?.id!==et.parent_id&&(this.region=this.regions.find(_t=>_t.id===this.building.parent_id)))}get timezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}get currency_code(){return this._service.get("app.currency")||this.building?.currency||"USD"}binding(et){return this.building?.bindings[et]||this._organisation?.bindings[et]}find(et){return this.buildings.find(_t=>_t.id===et)}get levels(){return this._levels.getValue()}constructor(et,_t){this._service=et,this._router=_t,this._initialised=new f.t(!1),this.initialised=this._initialised.asObservable(),this._regions=new f.t([]),this._active_region=new f.t(null),this._buildings=new f.t([]),this._active_building=new f.t(null),this._levels=new f.t([]),this._loaded_data=[],this.app_key=`${(this._service.app_name||"workplace").toLowerCase()}_app`,this.region_list=this._regions.asObservable(),this.building_list=this._buildings.asObservable(),this.level_list=this._levels.asObservable(),this.active_region=this._active_region.asObservable(),this.active_building=this._active_building.asObservable(),this.active_buildings=(0,v.zV)([this._buildings,this._active_region]).pipe((0,C.T)(([mt,Vt])=>Vt?this.buildingsForRegion(Vt):this.buildings)),this.active_levels=(0,v.zV)([this._levels,this._active_building]).pipe((0,C.T)(([mt,Vt])=>Vt?this.levelsForBuilding(Vt):[]),(0,g.t)(1)),this._settings=[],this._region_settings={},this._building_settings={},(0,n.XYg)().pipe((0,S.$)(mt=>mt)).subscribe(()=>setTimeout(()=>this.init(),1e3)),(0,v.zV)([this.active_region,this.active_building]).pipe((0,h.p)(([mt,Vt])=>!!Vt),(0,y.B)(300)).subscribe(()=>this._updateSettingOverrides())}levelWithID(et){return this.levels.find(_t=>et?.includes(_t.id))}levelsForBuilding(et=this.building){return this.levels.filter(_t=>_t.parent_id&&_t.parent_id===et?.id)}buildingsForRegion(et=this.region){return this.buildings.filter(_t=>_t.parent_id===et?.id)}levelsForRegion(et=this.region){const _t=this.buildingsForRegion(et);return this.levels.filter(mt=>mt.parent_id&&_t.find(Vt=>Vt.id===mt.parent_id))}addZone(et){if(et.tags.includes("region")){const _t=new D(et),mt=this._regions.getValue().filter(Vt=>Vt.id!==_t.id);mt.push(_t),this._regions.next(mt)}else if(et.tags.includes("building")){const _t=new u.t(et);let mt=this._buildings.getValue().filter(Vt=>Vt.id!==_t.id);mt.push(_t),mt=mt.sort((Vt,Qt)=>(Vt.name||"").localeCompare(Qt.name||"")),this._buildings.next(mt)}else if(et.tags.includes("level")){const _t=new M.P(et);let mt=this._levels.getValue().filter(Vt=>Vt.id!==_t.id);mt.push(_t),mt=mt.sort((Vt,Qt)=>(Vt.name||"").localeCompare(Qt.name||"")),this._levels.next(mt)}else console.warn("Unable to add zone as it is missing the required tag.",et.id)}removeZone(et){if(et.tags.includes("region")){const _t=this._regions.getValue().filter(mt=>mt.id!==et.id);this._regions.next(_t)}else if(et.tags.includes("building")){const _t=this._buildings.getValue().filter(mt=>mt.id!==et.id);this._buildings.next(_t)}else if(et.tags.includes("level")){const _t=this._levels.getValue().filter(mt=>mt.id!==et.id);this._levels.next(_t)}else console.warn("Unable to remove zone as it is missing the required tag.",et.id)}init(et=0){var _t=this;return(0,t.A)(function*(){_t._initialised.next(!1),yield _t.load().catch(mt=>{throw(0,m.UG)("Error loading organisation data. Retrying..."),setTimeout(()=>_t.init(et),Math.min(1e4,300*++et)),mt}),_t._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.orgs=_t)})()}load(){var et=this;return(0,t.A)(function*(){if(yield et.loadOrganisation(),yield et.loadRegions(),et._regions.getValue().length)for(const _t of et._regions.getValue()){const mt=yield et.loadBuildings(_t.id);if(mt.length){et._buildings.next(mt);break}}else et._buildings.next(yield et.loadBuildings());yield et.loadSettings(),et._buildings.getValue()?.length||((0,A.Rm)("ORG","Unable to find any building zones"),et._router.navigate(["/misconfigured"])),yield et.loadLevels(),et._updateSettingOverrides()})()}loadOrganisation(){var et=this;return(0,t.A)(function*(){const _t=yield(0,n.smM)({tags:"org"}).pipe((0,C.T)(mt=>mt.data)).toPromise();if(_t.length){const mt=(0,n.kup)(),Vt=_t.find(hn=>(0,n.TMs)()||hn.id===mt?.config?.org_zone)||_t[0],Qt=(yield(0,n.bpY)(Vt.id,"bindings").toPromise())?.details;et._organisation=new x.B({...Vt,bindings:Qt})}else(0,A.Rm)("ORG","Unable to find organisation"),et._router.navigate(["/misconfigured"])})()}loadRegions(){var et=this;return(0,t.A)(function*(){const _t=yield(0,n.smM)({tags:"region",parent_id:et._organisation?.id||"",limit:500}).pipe((0,C.T)(mt=>mt.data.map(Vt=>new D(Vt))),(0,O.W)(()=>(0,b.of)([]))).toPromise();et._regions.next(_t)})()}loadRegionData(et){var _t=this;return(0,t.A)(function*(){if(_t._loaded_data[et.id])return;const[mt,Vt,Qt]=yield Promise.all([(0,n.bpY)(et.id,_t.app_key).pipe((0,C.T)(hn=>hn?.details)).toPromise(),(0,n.bpY)(et.id,"bindings").pipe((0,C.T)(hn=>hn?.details)).toPromise(),_t.loadBuildings(et.id)]);_t._buildings.next((0,A.Am)([..._t._buildings.getValue(),...Qt],"id")),_t._loaded_data[et.id]=!0,et.bindings=Vt,_t._region_settings[et.id]=mt})()}loadBuildings(et=this._organisation?.id){return(0,t.A)(function*(){return yield(0,n.smM)({tags:"building",parent_id:et,limit:500}).pipe((0,C.T)(mt=>mt.data.map(Vt=>new u.t(Vt)))).toPromise()})()}loadBuildingData(et){var _t=this;return(0,t.A)(function*(){if(!et||_t._loaded_data[et.id])return;const[mt,Vt,Qt,hn]=yield Promise.all([(0,n.bpY)(et.id,_t.app_key).pipe((0,C.T)(En=>En?.details),(0,O.W)(()=>(0,b.of)({}))).toPromise(),(0,n.bpY)(et.id,"bindings").pipe((0,C.T)(En=>En?.details),(0,O.W)(()=>(0,b.of)({}))).toPromise(),(0,n.bpY)(et.id,"booking_rules").pipe((0,C.T)(En=>En?.details),(0,O.W)(()=>(0,b.of)({}))).toPromise(),(0,n.smE)({parent_id:et.id}).pipe((0,O.W)(()=>(0,b.of)({data:{}})),(0,C.T)(En=>{try{return Sa(En?.data.find(Qn=>Qn.encryption_level===n.cor.None)||{settings_string:""})}catch{return{}}})).toPromise()]);console.log("Building Settings:",et.display_name||et.name,et.id,mt),_t._building_settings[et.id]={...hn||{},...mt||{}},et.bindings=Vt,et.booking_rules=Qt,_t._loaded_data[et.id]=!0,_t._updateSettingOverrides()})()}loadLevels(){var et=this;return(0,t.A)(function*(){const _t=yield(0,n.smM)({tags:"level",limit:2500}).pipe((0,C.T)(Vt=>Vt.data)).toPromise();_t?.length||et._router.navigate(["/misconfigured"]);let mt=_t.map(Vt=>new M.P(Vt));mt=mt.sort((Vt,Qt)=>(Vt.name||"").localeCompare(Qt.name||"")),et._levels.next(mt)})()}get available_room_configs(){return this.buildings.map(et=>[...et.room_configurations]).reduce((et,_t)=>et.concat(_t),[]).sort((et,_t)=>et.name.localeCompare(_t.name))}loadSettings(){var et=this;return(0,t.A)(function*(){if(!et._organisation)return;const _t=(yield(0,n.bpY)(et._organisation?.id,et.app_key).toPromise())?.details,mt=(yield(0,n.bpY)(et._organisation?.id,"settings").toPromise())?.details;et._settings=[mt,_t],et._service.overrides=[...et._settings],yield et._initialiseActiveBuilding(),et._updateSettingOverrides()})()}saveBuilding(et){const _t=this._buildings.getValue().find(mt=>mt.id===et)?.parent_id;_t&&_t!==this._organisation.id&&sessionStorage.setItem("PLACEOS.region",_t),sessionStorage.setItem("PLACEOS.building",et)}_initialiseActiveBuilding(){return new Promise(et=>{const _t=sessionStorage.getItem("PLACEOS.building");if(_t&&this.buildings.find(Vt=>Vt.id===_t))return this.building=this.buildings.find(Vt=>Vt.id===_t),et();this._service.get("app.use_geolocation")&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(Vt=>{const{latitude:Qt,longitude:hn}=Vt.coords;let En=null;for(const Qn of this.buildings)if(Qn.location&&"0,0"!==Qn.location)if(En){const[gi,ti]=(En.location||"0,0").split(","),[Jn,Di]=(Qn.location||"0,0").split(",");Math.sqrt(Math.pow(Qt-+Jn,2)+Math.pow(hn-+Di,2))<Math.sqrt(Math.pow(Qt-+gi,2)+Math.pow(hn-+ti,2))&&(En=Qn)}else En=Qn;En&&(this.building=En),this.building?.id||this._setDefaultBuilding(),et()},()=>{this.building?.id||this._setDefaultBuilding(),et()}):this.building?.id||(this._setDefaultBuilding(),et())})}_setDefaultBuilding(){var et=this;return(0,t.A)(function*(){if(!et.buildings.length)return;const _t=sessionStorage.getItem("PLACEOS.region");if(yield _t?et.setRegion(et._regions.getValue().find(Vt=>Vt.id===_t)):et._setRegionFromTimezone(),et._setBuildingFromTimezone(),et.building)return;const mt=et._service.get("app.default_building");mt&&(et.building=et.buildings.find(({id:Vt})=>Vt===mt)),et.building||(et.building=et.buildings[0])})()}_setRegionFromTimezone(){var et=this;return(0,t.A)(function*(){const _t=et.regions,mt=et.timezone;for(const Qt of _t)if(Qt.timezone===mt)return yield et.setRegion(Qt);const Vt=mt.split("/")[0];for(const Qt of _t)if(Qt.timezone.startsWith(Vt))return yield et.setRegion(Qt)})()}_setBuildingFromTimezone(){const et=this.buildings.filter(Vt=>!this.region||Vt.parent_id===this.region?.id),_t=this.timezone;for(const Vt of et)if(Vt.timezone===_t)return void(this.building=Vt);const mt=_t.split("/")[0];for(const Vt of et)if(Vt.timezone.startsWith(mt))return void(this.building=Vt)}_updateSettingOverrides(){setTimeout(()=>this._service.overrides=[this.buildingSettings(this.building?.id),this.regionSettings(this.region?.id),...this._settings],300)}static#e=this.\u0275fac=function(_t){return new(_t||G)(Da.KVO(E.h),Da.KVO(yo.Ix))};static#t=this.\u0275prov=Da.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},5272:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>y});var t=a(467),n=a(3953),f=a(4006),v=a(8026);function b(O,m){if(1&O&&(n.PLo(0,3,1),n.eu8(1),n.nI1(2,"date"),n.nI1(3,"date"),n.YFu()),2&O){const E=n.XpG(3);n.R7$(3),n.uP7(n.i5U(2,2,E.details.date,"shortTime"))(n.i5U(3,5,E.details.date+60*E.details.duration*1e3,"shortTime")),n.nnv(0)}}function C(O,m){if(1&O){const E=n.RV6();n.qex(0),n.j41(1,"main",14)(2,"h2",15),n.pXf(3,2),n.k0s(),n.nrm(4,"img",16),n.j41(5,"p",17),n.PLo(6,3),n.nI1(7,"date"),n.DNE(8,b,4,8,"ng-container",18),n.YFu(),n.k0s(),n.j41(9,"p",19),n.pXf(10,4),n.k0s(),n.j41(11,"p",20)(12,"strong"),n.EFF(13),n.nI1(14,"currency"),n.k0s()(),n.j41(15,"card-input-field",21),n.mxI("ngModelChange",function(M){n.eBV(E);const x=n.XpG(2);return n.DH7(x.card_details,M)||(x.card_details=M),n.Njj(M)}),n.k0s()(),n.j41(16,"footer",22)(17,"button",23),n.bIt("click",function(){n.eBV(E);const M=n.XpG(2);return n.Njj(M.processPayment())}),n.pXf(18,5),n.k0s()(),n.j41(19,"button",24)(20,"i",25),n.EFF(21,"close"),n.k0s()(),n.bVm()}if(2&O){const E=n.XpG(2);n.R7$(8),n.Y8G("ngIf",!E.details.all_day),n.uP7(E.details.type)(E.details.resource_name)(n.i5U(7,6,E.details.date,"mediumDate")),n.nnv(6),n.R7$(5),n.JRh(n.i5U(14,9,E.details.amount/100,E.code)),n.R7$(2),n.R50("ngModel",E.card_details)}}function g(O,m){if(1&O&&(n.j41(0,"div",12),n.DNE(1,C,22,12,"ng-container",13),n.k0s()),2&O){const E=n.XpG(),u=n.sdS(5);n.R7$(),n.Y8G("ngIf",!E.success)("ngIfElse",u)}}function S(O,m){if(1&O&&(n.j41(0,"div",26),n.nrm(1,"mat-spinner",27),n.j41(2,"p"),n.EFF(3),n.nI1(4,"async"),n.k0s()()),2&O){const E=n.XpG();n.R7$(3),n.JRh(n.bMT(4,1,E.loading))}}function h(O,m){if(1&O&&(n.j41(0,"main",28)(1,"h2",15),n.pXf(2,6),n.k0s(),n.j41(3,"h3",29),n.EFF(4),n.k0s(),n.j41(5,"p"),n.pXf(6,7),n.nI1(7,"currency"),n.k0s(),n.j41(8,"p"),n.pXf(9,8),n.k0s(),n.j41(10,"p"),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"p"),n.pXf(14,9),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s()(),n.nrm(17,"img",30),n.j41(18,"footer",31)(19,"button",32),n.pXf(20,10),n.k0s()()),2&O){const E=n.XpG();n.R7$(4),n.SpI(" Ref #",E.transaction_id," "),n.R7$(3),n.uP7(n.i5U(7,6,E.details.amount/100,E.code)),n.nnv(6),n.R7$(2),n.uP7(E.details.resource_name),n.nnv(9),n.R7$(2),n.JRh(n.i5U(12,9,E.details.date,"mediumDate")),n.R7$(5),n.uP7(n.i5U(15,12,E.details.date,"shortTime"))(n.i5U(16,15,E.details.date+60*E.details.duration*1e3,"shortTime")),n.nnv(14)}}let y=(()=>{class O{get code(){return this._org.currency_code}constructor(E,u){this._data=E,this._org=u,this.event=new n.bkB,this.details=this._data,this.loading=this._data.loading,this.success=!1,this.transaction_id="12345678"}processPayment(){var E=this;return(0,t.A)(function*(){!E.card_details||!E._validCardDetails()||(E.event.emit(E.card_details),yield E._data.makePayment(E.card_details),E.success=!0)})()}_validCardDetails(){return(this.card_details?.cardholder.length||0)>0&&(this.card_details?.cvv.length||0)>=3}static#e=this.\u0275fac=function(u){return new(u||O)(n.rXU(f.Vh),n.rXU(v.y))};static#t=this.\u0275cmp=n.VBU({type:O,selectors:[["payment-modal"]],outputs:{event:"event"},decls:6,vars:4,consts:()=>{let E,u,M,x,D,A,L,l,$;return E=$localize`:4d64c520c43eead598939b50c326e665c6e88fa47177958266181561076:Booking Payment`,u=$localize`:00a4b4852357812c8f53bb8e5c7598d479bea1136612380128469929872: You are requesting a ${"\ufffd0\ufffd"}:INTERPOLATION: booking in ${"\ufffd1\ufffd"}:INTERPOLATION_1: for ${"\ufffd2\ufffd"}:INTERPOLATION_2: ${"\ufffd*8:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: between ${"\ufffd0:1\ufffd"}:INTERPOLATION_3: and ${"\ufffd1:1\ufffd"}:INTERPOLATION_4: ${"\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,M=$localize`:7a9510cbfdcb53b8dcac3f0bd7958196958333ff2305336913310307878:You booking will cost:`,x=$localize`:9069fc3477fe6107249755afedd9fe14140bb2018427617350792373644: Make Payment `,D=$localize`:dbbd5277093a2dbc265472510779d835afc39f458206804611071524488:Payment Successful`,A=$localize`:bb02e353442d9b1ec8fc7d9875465cafb134f7e42765198892596811562:${"\ufffd0\ufffd"}:INTERPOLATION: paid.`,L=$localize`:931d5e8e4e517671212210e9d716fa2721c9e67c6374111499070607459:${"\ufffd0\ufffd"}:INTERPOLATION: booked.`,l=$localize`:e2ddd0e2db3568ac26e9f86a9e366f864a4e6e94783447026381975793: ${"\ufffd0\ufffd"}:INTERPOLATION: and ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,$=$localize`:001127b263e7132960af8fa70cce4c2635980fbc8163835392610431386: Great, thanks. `,[["load_state",""],["success_state",""],E,u,M,x,D,A,L,l,$,["class","relative max-h-[100vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"relative","max-h-[100vh]","overflow-auto"],[4,"ngIf","ngIfElse"],[1,"px-4","pt-8","w-[24rem]","space-y-2","flex","flex-col","items-center","relative"],[1,"text-2xl","font-medium"],["src","assets/icons/cost.svg",1,"w-1/2"],[1,"text-sm","text-center","pb-2"],[4,"ngIf"],[1,"text-sm"],[1,"text-lg","font-medium","text-center"],[1,"w-full",3,"ngModelChange","ngModel"],[1,"p-4"],["matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","left-1"],[1,"material-icons","text-2xl"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","p-8"],["diameter","32"],[1,"px-8","pt-8","w-[24rem]","flex","flex-col","relative"],[1,"text-xl","font-medium","mb-2"],["src","assets/icons/payment-confirmed.svg",1,"w-full"],[1,"p-4","border-t","border-base-200"],["btn","","matRipple","","mat-dialog-close","",1,"w-full"]]},template:function(u,M){if(1&u&&(n.DNE(0,g,2,2,"div",11),n.nI1(1,"async"),n.DNE(2,S,5,3,"ng-template",null,0,n.C5r)(4,h,21,18,"ng-template",null,1,n.C5r)),2&u){const x=n.sdS(3);n.Y8G("ngIf",!n.bMT(1,2,M.loading))("ngIfElse",x)}}})}return O})()},4525:(At,ue,a)=>{"use strict";a.d(ue,{h:()=>x});var t=a(467),n=a(5157),f=a(9928),v=a(4421),b=a(9090),C=a(8841),g=a(8712),S=a(4233),h=a(6202),y=a(8026),O=a(5272),m=a(3953),E=a(4006);const M="Payment";let x=(()=>{class D{get payment_module(){return this._org.binding("payments")}constructor(L,l,$){this._org=L,this._settings=l,this._dialog=$,this._loading=new f.t(""),this._active_card=new f.t(""),this.loading=this._loading.asObservable(),this.payment_sources=(0,v.of)(1).pipe((0,b.n)(()=>{const R=(0,n.f_4)(this.payment_module,M);return R?R.execute("list_payment_methods",["card"]):(0,v.of)([])}),(0,C.M)(R=>R[0]?this._active_card.next(R[0].id):""),(0,g.t)(1))}makePayment(L){var l=this;return(0,t.A)(function*(){if(!l.payment_module)throw"Payments not enabled";const[$,R]=yield l._getCostOfProduct(L?.type).catch(Q=>[0,60]);if(console.log("Cost:",$,R),$<=0)return;let F=l._settings.get("STRIPE_Customer_ID");F||(F=yield l._newCustomerID()),l._settings.saveUserSetting("STRIPE_Customer_ID",F);const P=$*(L.duration/R);let k;const V=function(){var Q=(0,t.A)(function*(de){k=yield l._processPayment(P,F,de).catch(se=>{throw l._loading.next(""),se})});return function(se){return Q.apply(this,arguments)}}(),K={...L,rate:`$${($/100).toFixed(2)} per hour`,amount:P,makePayment:V,loading:l.loading};return yield l._dialog.open(O.$,{data:K}).afterClosed().toPromise(),k})()}_addPaymentMethod(L){var l=this;return(0,t.A)(function*(){const $=(0,n.f_4)(l.payment_module,M);if(!$)throw"Unable to load module";const R=yield $.execute("add_payment_method",["card",null,null,null,null,null,null,null,null,null,null,null,L]);return R.id||R})()}_getCostOfProduct(L){var l=this;return(0,t.A)(function*(){let $=[0,60];const R=(0,n.f_4)(l.payment_module,M);if(!R)return $;const F=yield R.execute("get_product_prices",[null,null,L]);return F.length?F:$})()}_processPayment(L,l,$){var R=this;return(0,t.A)(function*(){R._loading.next("Checking payment method..."),console.log("Getting payment method...");const F=$?yield R._addPaymentMethod($):R._active_card.getValue();if(!F)throw"No payment source selected";R._loading.next("Processing payment..."),console.log("Processing payment...");const P=(0,n.f_4)(R.payment_module,M);if(!P)throw"Unable to load module";const k=yield P.execute("create_payment_intent",[L,R._org.building.currency||"USD",null,null,l,null,null,null,(0,h.N)()?.email]);if(!k)throw"Failed to create payment";return console.log("Confirming payment..."),yield P.execute("confirm_payment_intent",[k,F]),R._loading.next(""),{success:!0,state:"approved",invoice_id:k,amount:L,created_at:Date.now(),updated_at:Date.now()}})()}_newCustomerID(){var L=this;return(0,t.A)(function*(){const l=(0,n.f_4)(L.payment_module,M);if(!l)throw"Unable to load module";const $=(0,h.N)();return yield l.execute("create_customer",[0,null,null,null,`${$.id}|${$.name}|FromPlaceOS`,$.email])})()}static#e=this.\u0275fac=function(l){return new(l||D)(m.KVO(y.y),m.KVO(S.h),m.KVO(E.bZ))};static#t=this.\u0275prov=m.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},2168:(At,ue,a)=>{"use strict";a.d(ue,{lx:()=>t.l,Jm:()=>b.J,bh:()=>f.b});var t=a(827),f=(a(8363),a(7401)),b=(a(5752),a(2011))},5752:(At,ue,a)=>{"use strict";a.d(ue,{d:()=>S});var t=a(4006),n=a(2333),f=a(6266),v=a(3953);function b(h,y){if(1&h){const O=v.RV6();v.j41(0,"space-list",29),v.bIt("toggleFav",function(E){v.eBV(O);const u=v.XpG();return v.Njj(u.toggleFavourite(E))})("onSelect",function(E){v.eBV(O);const u=v.XpG();return v.Njj(u.displayed=E)}),v.k0s()}if(2&h){const O=v.XpG();v.Y8G("active",null==O.displayed?null:O.displayed.id)("selected",O.selected_ids)("favorites",O.favorites)}}function C(h,y){if(1&h){const O=v.RV6();v.j41(0,"button",30),v.bIt("click",function(){v.eBV(O);const E=v.XpG();return v.Njj(E.displayed=null)}),v.pXf(1,5),v.k0s()}}function g(h,y){if(1&h){const O=v.RV6();v.j41(0,"space-map",31),v.bIt("onSelect",function(E){v.eBV(O);const u=v.XpG();return v.Njj(u.displayed=E)}),v.k0s()}if(2&h){const O=v.XpG();v.Y8G("selected",O.selected_ids)("is_displayed",!!O.displayed)("active",null==O.displayed?null:O.displayed.id)}}let S=(()=>{class h{get selected_ids(){return this.selected.map(O=>O.id).join(",")}get favorites(){return this._settings.get("favourite_spaces")||[]}constructor(O,m,E,u){this._dialog_ref=O,this._settings=m,this._event_form=E,this._data=u,this.selected=[],this.view="list",this.multiday=!!this._data.multiday,this.selected=[...u.spaces||[]],this._event_form.setOptions(u.options)}isSelected(O){return O&&this.selected_ids.includes(O)}setSelected(O,m){const E=this.selected.filter(u=>u.id!==O.id);m&&E.push(O),this.selected=E,!this._settings.get("app.events.allow_multiple_spaces")&&m&&(this.selected=[O],this._dialog_ref.close([O]))}toggleFavourite(O){const m=this.favorites;m.includes(O.id)?this._settings.saveUserSetting("favourite_spaces",m.filter(u=>u!==O.id)):this._settings.saveUserSetting("favourite_spaces",[...m,O.id])}static#e=this.\u0275fac=function(m){return new(m||h)(v.rXU(t.CP),v.rXU(n.h$),v.rXU(f.W),v.rXU(t.Vh))};static#t=this.\u0275cmp=v.VBU({type:h,selectors:[["new-space-select-modal"]],decls:39,vars:29,consts:()=>{let O,m,E,u,M;return O=$localize`:2a8f5812e693119f28847362c97c1924c4b5e2ad3245405487284732016:Find Space`,m=$localize`:30d3439b0e0095fe69503245f3bd7a2e9498be7c8443571736703532556: View List `,E=$localize`:18843b85d1a4f17fefafd07bc5cde636dca44295819716823718458903:Back to form`,u=$localize`:7651117c4dcb18eb274657230a366a428c9a113b8164592885301950366: ${"\ufffd0\ufffd"}:INTERPOLATION: room(s) added `,M=$localize`:ccda1d41ca79703a85a3a598c1d97e040a32b766874721418273731876: Back `,[["map_view",""],O,m,E,u,M,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"multiday","hide_levels","viewing_map"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","flex","sm:flex-col","sm:max-w-[20rem]","z-20","bg-base-100",3,"activeChange","toggleFav","close","space","hide_map","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-spaces",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-space",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","spaces-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed","active"]]},template:function(m,E){if(1&m){const u=v.RV6();v.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),v.EFF(4,"close"),v.k0s()(),v.j41(5,"h3"),v.pXf(6,1),v.k0s(),v.j41(7,"div",9)(8,"button",10),v.bIt("click",function(){return v.eBV(u),v.Njj(E.view="map")}),v.EFF(9," Map "),v.k0s(),v.j41(10,"button",11),v.bIt("click",function(){return v.eBV(u),v.Njj(E.view="list")}),v.EFF(11," List "),v.k0s()()(),v.j41(12,"main",12),v.nrm(13,"space-filters",13),v.j41(14,"div",14)(15,"space-filters-display",15),v.mxI("viewChange",function(x){return v.eBV(u),v.DH7(E.view,x)||(E.view=x),v.Njj(x)}),v.k0s(),v.DNE(16,b,1,3,"space-list",16),v.k0s(),v.j41(17,"space-details",17),v.bIt("activeChange",function(x){return v.eBV(u),v.Njj(E.setSelected(E.displayed,x))})("toggleFav",function(){return v.eBV(u),v.Njj(E.toggleFavourite(E.displayed))})("close",function(){return v.eBV(u),v.Njj(E.displayed=null)}),v.k0s()(),v.j41(18,"footer",18),v.DNE(19,C,2,0,"button",19),v.j41(20,"button",20),v.pXf(21,2),v.k0s()(),v.j41(22,"footer",21)(23,"button",22)(24,"div",23)(25,"app-icon",24),v.EFF(26,"arrow_back"),v.k0s(),v.j41(27,"div",25),v.pXf(28,3),v.k0s()()(),v.j41(29,"p",26),v.pXf(30,4),v.k0s(),v.j41(31,"button",27),v.bIt("click",function(){return v.eBV(u),v.Njj(E.setSelected(E.displayed,!E.isSelected(null==E.displayed?null:E.displayed.id)))}),v.j41(32,"div",23)(33,"app-icon",24),v.EFF(34),v.k0s(),v.j41(35,"div",28),v.EFF(36),v.k0s()()()()(),v.DNE(37,g,1,3,"ng-template",null,0,v.C5r)}if(2&m){const u=v.sdS(38);v.R7$(8),v.AVh("inverse","map"!==E.view),v.R7$(2),v.AVh("inverse","list"!==E.view),v.R7$(3),v.Y8G("multiday",E.multiday)("hide_levels","list"!==E.view)("viewing_map","map"===E.view),v.R7$(2),v.R50("view",E.view),v.R7$(),v.Y8G("ngIf","list"===E.view)("ngIfElse",u),v.R7$(),v.AVh("hidden",!E.displayed)("inset-0",E.displayed),v.Y8G("space",E.displayed)("hide_map","map"===E.view)("active",E.selected_ids.includes(null==E.displayed?null:E.displayed.id))("fav",E.displayed&&E.favorites.includes(null==E.displayed?null:E.displayed.id)),v.R7$(2),v.Y8G("ngIf",E.displayed),v.R7$(),v.AVh("mb-2",E.displayed),v.Y8G("mat-dialog-close",E.selected),v.R7$(3),v.Y8G("mat-dialog-close",E.selected),v.R7$(7),v.uP7(E.selected.length),v.nnv(30),v.R7$(),v.AVh("inverse",E.isSelected(null==E.displayed?null:E.displayed.id)),v.Y8G("disabled",!E.displayed),v.R7$(3),v.JRh(E.isSelected(null==E.displayed?null:E.displayed.id)?"remove":"add"),v.R7$(2),v.SpI(" ",E.isSelected(null==E.displayed?null:E.displayed.id)?"Remove from Booking":"Add to booking"," ")}}})}return h})()},735:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>n});var t=a(602);class n{constructor(v={}){this.id=v.id||"",this.name=v.name||"",this.display_name=v.display_name||"",this.email=(v.email||"").toLowerCase(),this.capacity=v.capacity||-1,this.feature_list=v.feature_list||v.features||[],this.bookable=!!v.bookable,this.zones=v.zones||[],this.support_url=v.support_url||"",this.map_id=v.map_id||"",this.images=v.images||[],this.configurations=v.configurations||[],this.features=v.features||[],this.response_status=v.response_status,this.level=v.level||new t.P,this.availability=v.availability||[]}inUseAt(v,b){const C=v+60*b*1e3;return this.availability.filter(g=>g.date==v&&g.date+60*g.duration*1e3==C&&"free"!==g.status).length>0}}},2011:(At,ue,a)=>{"use strict";a.d(ue,{J:()=>O,U:()=>y});var t=a(467),n=a(5157),f=a(8026),v=a(735),b=a(4046),C=a(3953);const g=[],S={},h=new v.$({email:"empty.space@place.os"});function y(m){for(const E of m)g.find(({id:u})=>u===E.id)||g.push(E)}setInterval(()=>{for(const m in S)S[m]=S[m]-1,S[m]<=0&&delete S[m]},1e4);let O=(()=>{class m{constructor(u){this._org=u}transform(u){var M=this;return(0,t.A)(function*(){M._org&&(yield M._org.initialised.pipe((0,b.$)(L=>L)).toPromise());const x=u?.includes("@");if(!u)return h;let D=g.find(({id:L,email:l})=>L===u||l===u);if(D)return D;if(S[u])return h;if(!x){const L=yield(0,n.V4n)(u).toPromise().catch(l=>null);if(L)return D=new v.$({...L,level:M._org?.levelWithID([...L.zones])}),g.push(D),D}const A=(yield(0,n.Kfl)({in:u,zone_id:M._org?.organisation.id}).toPromise()).data;return 1===A.length?(D=new v.$({...A[0],level:M._org?.levelWithID([...A[0].zones])}),g.push(D),D):h})()}updateSpaceList(u){y(u)}static#e=this.\u0275fac=function(M){return new(M||m)(C.rXU(f.y,24))};static#t=this.\u0275pipe=C.EJ8({name:"space",type:m,pure:!0})}return m})()},8363:(At,ue,a)=>{"use strict";a.d(ue,{Ot:()=>u}),a(2333);var n=a(5157),f=a(4421),v=a(5006),b=a(8841),C=a(8712),S=(a(4129),a(735)),h=a(2011);const y={};function u(D){return D?(y[D]||(y[D]=(0,n.BbB)({zone_id:D,limit:500}).pipe((0,v.T)(A=>(A.data||[]).map(L=>new S.$(L))),(0,b.M)(A=>(0,h.U)(A)),(0,C.t)(1))),y[D]):(0,f.of)([])}},827:(At,ue,a)=>{"use strict";a.d(ue,{l:()=>rn});var t=a(177),n=a(9417),f=a(4006),v=a(6665),b=a(2765),C=a(1395),g=a(2013),S=a(5752),h=a(3953),y=a(1865),O=a(8026);const m=()=>({disable_pan:!0,disable_zoom:!0});function E(Nt,fn){if(1&Nt&&h.nrm(0,"image-carousel",23),2&Nt){const wt=h.XpG(2);h.Y8G("images",wt.space.images)}}function u(Nt,fn){if(1&Nt&&(h.j41(0,"div",16)(1,"p"),h.pXf(2,4),h.k0s()()),2&Nt){const wt=fn.$implicit;h.R7$(2),h.uP7(wt),h.nnv(2)}}function M(Nt,fn){if(1&Nt&&(h.j41(0,"section",24)(1,"h2",15),h.pXf(2,3),h.k0s(),h.DNE(3,u,3,1,"div",25),h.k0s()),2&Nt){const wt=h.XpG(2);h.R7$(3),h.Y8G("ngForOf",wt.space.features)}}function x(Nt,fn){if(1&Nt&&(h.j41(0,"section",26),h.nrm(1,"interactive-map",27),h.k0s()),2&Nt){const wt=h.XpG(2);h.R7$(),h.Y8G("src",wt.map_url)("focus",wt.space.map_id)("features",wt.features)("options",h.lJ4(4,m))}}function D(Nt,fn){if(1&Nt){const wt=h.RV6();h.qex(0),h.j41(1,"section",7),h.DNE(2,E,1,1,"image-carousel",8),h.j41(3,"button",9),h.bIt("click",function(){h.eBV(wt);const tn=h.XpG();return h.Njj(tn.close.emit())}),h.j41(4,"app-icon"),h.EFF(5,"arrow_back"),h.k0s()(),h.j41(6,"button",10),h.bIt("click",function(){h.eBV(wt);const tn=h.XpG();return h.Njj(tn.toggleFav.emit())}),h.j41(7,"app-icon"),h.EFF(8),h.k0s()()(),h.j41(9,"div",11)(10,"section",12)(11,"h2",13),h.EFF(12),h.k0s()(),h.nrm(13,"hr"),h.j41(14,"section",14)(15,"h2",15),h.pXf(16,1),h.k0s(),h.j41(17,"div",16)(18,"app-icon"),h.EFF(19,"people"),h.k0s(),h.j41(20,"p"),h.pXf(21,2),h.k0s()(),h.j41(22,"div",16)(23,"app-icon"),h.EFF(24,"meeting_room"),h.k0s(),h.j41(25,"p"),h.EFF(26),h.k0s()(),h.j41(27,"div",16)(28,"app-icon"),h.EFF(29,"place"),h.k0s(),h.j41(30,"p"),h.EFF(31),h.k0s()()(),h.nrm(32,"hr"),h.DNE(33,M,4,1,"section",17)(34,x,2,5,"section",18),h.k0s(),h.j41(35,"div",19)(36,"button",20),h.bIt("click",function(){h.eBV(wt);const tn=h.XpG();return tn.active=!tn.active,h.Njj(tn.activeChange.emit(tn.active))}),h.j41(37,"div",21)(38,"app-icon",22),h.EFF(39),h.k0s(),h.j41(40,"p"),h.EFF(41),h.k0s()()()(),h.bVm()}if(2&Nt){const wt=h.XpG();h.R7$(),h.AVh("sm:h-64",null==wt.space.images?null:wt.space.images.length)("h-40",null==wt.space.images?null:wt.space.images.length)("sm:h-0",!(null!=wt.space.images&&wt.space.images.length))("h-12",!(null!=wt.space.images&&wt.space.images.length))("!bg-transparent",!(null!=wt.space.images&&wt.space.images.length)),h.R7$(),h.Y8G("ngIf",null==wt.space.images?null:wt.space.images.length),h.R7$(4),h.AVh("text-white",!wt.fav)("text-blue-400",wt.fav),h.R7$(2),h.JRh(wt.fav?"favorite":"favorite_border"),h.R7$(4),h.SpI(" ",wt.space.display_name||wt.space.name," "),h.R7$(9),h.uP7(wt.space.capacity),h.nnv(21),h.R7$(5),h.SpI(" ",(null==wt.level?null:wt.level.display_name)||(null==wt.level?null:wt.level.name)," "),h.R7$(5),h.SpI(" ",(null==wt.building?null:wt.building.address)||(null==wt.building?null:wt.building.display_name)||(null==wt.building?null:wt.building.name)," "),h.R7$(2),h.Y8G("ngIf",null==wt.space.features?null:wt.space.features.length),h.R7$(),h.Y8G("ngIf",!wt.hide_map),h.R7$(2),h.AVh("inverse",wt.active),h.R7$(3),h.JRh(wt.active?"remove":"add"),h.R7$(2),h.SpI(" ",wt.active?"Remove this room":"Add this room"," ")}}function A(Nt,fn){1&Nt&&(h.j41(0,"div",28)(1,"p",29),h.pXf(2,5),h.k0s()())}let L=(()=>{class Nt{get level(){return this._org.levelWithID(this.space?.zones)||this.space?.level}get building(){return this._org.buildings.find(wt=>this.space?.zones.includes(wt.id))}constructor(wt){this._org=wt,this.fav=!1,this.active=!1,this.hide_map=!1,this.activeChange=new h.bkB,this.close=new h.bkB,this.toggleFav=new h.bkB,this.map_url="",this.features=[]}ngOnChanges(wt){wt.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:y.V}]}static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)(h.rXU(O.y))};static#t=this.\u0275cmp=h.VBU({type:Nt,selectors:[["space-details"]],inputs:{space:"space",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[h.OA$],decls:3,vars:2,consts:()=>{let wt,Yt,tn,cn,xn;return wt=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,Yt=$localize`:2fe5caca246424da5e7fcee12a1fe341335e12862731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,tn=$localize`:45b5b90d7df8adeb648858761739fa700117c0d53223773701700202859:Room Facilities`,cn=$localize`:9a6f64944a2acf1f8315f9ffac43e3fe58bac31f1353747351482281557:${"\ufffd0\ufffd"}:INTERPOLATION:`,xn=$localize`:02434c6ff0f41cc7f311ace51ce0787ae315e5fb5676660199414904214: Select a room to view it's details `,[["empty_state",""],wt,Yt,tn,cn,xn,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-neutral"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-space-details",1,"absolute","top-2","left-2","bg-neutral","sm:hidden","text-white",3,"click"],["icon","","matRipple","","name","toggle-space-favourite-details",1,"absolute","top-2","right-2","bg-neutral",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-space-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(Yt,tn){if(1&Yt&&h.DNE(0,D,42,26,"ng-container",6)(1,A,3,0,"ng-template",null,0,h.C5r),2&Yt){const cn=h.sdS(2);h.Y8G("ngIf",tn.space)("ngIfElse",cn)}},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return Nt})();var l=a(6266);function $(Nt,fn){1&Nt&&(h.j41(0,"div",24)(1,"app-icon"),h.EFF(2,"done"),h.k0s()())}function R(Nt,fn){if(1&Nt&&h.nrm(0,"img",25),2&Nt){const wt=h.XpG().$implicit;h.Y8G("source",wt.images[0])}}function F(Nt,fn){1&Nt&&h.nrm(0,"img",26)}function P(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"li",13)(1,"button",14),h.bIt("click",function(){const tn=h.eBV(wt).$implicit,cn=h.XpG(3);return h.Njj(cn.selectSpace(tn))}),h.j41(2,"div",15),h.DNE(3,$,3,0,"div",16)(4,R,1,1,"img",17)(5,F,1,0,"ng-template",null,2,h.C5r),h.k0s(),h.j41(7,"div",18)(8,"div",19),h.EFF(9),h.k0s(),h.j41(10,"div",20)(11,"app-icon",21),h.EFF(12,"place"),h.k0s(),h.j41(13,"p",22),h.EFF(14),h.k0s()(),h.j41(15,"div",20)(16,"app-icon",21),h.EFF(17,"people"),h.k0s(),h.j41(18,"p"),h.pXf(19,4),h.k0s()()()(),h.j41(20,"button",23),h.bIt("click",function(){const tn=h.eBV(wt).$implicit,cn=h.XpG(3);return h.Njj(cn.toggleFav.emit(tn))}),h.j41(21,"app-icon"),h.EFF(22),h.k0s()()()}if(2&Nt){let wt;const Yt=fn.$implicit,tn=h.sdS(6),cn=h.XpG(3);h.AVh("!border-info",cn.active===Yt.id),h.R7$(3),h.Y8G("ngIf",cn.selected.includes(Yt.id)),h.R7$(),h.Y8G("ngIf",null==Yt.images?null:Yt.images.length)("ngIfElse",tn),h.R7$(5),h.SpI(" ",Yt.display_name||Yt.name||"Meeting Space"," "),h.R7$(5),h.SpI(" ",Yt.location||(null==(wt=cn.level(Yt.zones))?null:wt.display_name)||(null==(wt=cn.level(Yt.zones))?null:wt.name)," "),h.R7$(5),h.uP7(Yt.capacity<1?2:Yt.capacity),h.nnv(19),h.R7$(),h.AVh("text-info",cn.isFavourite(Yt.id)),h.R7$(2),h.JRh(cn.isFavourite(Yt.id)?"favorite":"favorite_border")}}function k(Nt,fn){if(1&Nt&&(h.j41(0,"ul",11),h.DNE(1,P,23,11,"li",12),h.nI1(2,"async"),h.k0s()),2&Nt){const wt=h.XpG(2);h.R7$(),h.Y8G("ngForOf",h.bMT(2,1,wt.available_spaces))}}function V(Nt,fn){if(1&Nt&&(h.qex(0),h.DNE(1,k,3,3,"ul",10),h.nI1(2,"async"),h.bVm()),2&Nt){let wt;const Yt=h.XpG(),tn=h.sdS(8);h.R7$(),h.Y8G("ngIf",null==(wt=h.bMT(2,2,Yt.available_spaces))?null:wt.length)("ngIfElse",tn)}}function K(Nt,fn){1&Nt&&(h.j41(0,"div",27)(1,"p",28),h.pXf(2,5),h.k0s()())}function X(Nt,fn){1&Nt&&(h.j41(0,"div",29),h.nrm(1,"mat-spinner",30),h.j41(2,"p",31),h.pXf(3,6),h.k0s()()),2&Nt&&(h.R7$(),h.Y8G("diameter",32))}let Q=(()=>{class Nt{constructor(wt,Yt){this._event_form=wt,this._org=Yt,this.active="",this.selected="",this.favorites=[],this.onSelect=new h.bkB,this.toggleFav=new h.bkB,this.loading=this._event_form.loading,this.available_spaces=this._event_form.available_spaces}level(wt){return this._org.levelWithID(wt)}ngOnInit(){this._event_form.setView("find")}isFavourite(wt){return this.favorites.includes(wt)}selectSpace(wt){this.onSelect.emit(wt)}static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)(h.rXU(l.W),h.rXU(O.y))};static#t=this.\u0275cmp=h.VBU({type:Nt,selectors:[["space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let wt,Yt,tn,cn;return wt=$localize`:f3733dfad4477862079351d9f8cf60c7964cc3e32290177789691483092: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,Yt=$localize`:08719ea79f574b595da7d187fda2fa8c491b5de74552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,tn=$localize`:027c29534f5dc45741b226edfebb3f7f578384b03831747985282777621: No available spaces for selected time and/or filters `,cn=$localize`:8dad32dda6491a1051df9156e98031c0e634b413126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["space_placeholder",""],wt,Yt,tn,cn,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","name","select-space",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","min-w-[5rem]","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"truncate"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(Yt,tn){if(1&Yt&&(h.j41(0,"h3",7),h.EFF(1,"Results"),h.k0s(),h.j41(2,"p",8),h.pXf(3,3),h.nI1(4,"async"),h.k0s(),h.DNE(5,V,3,4,"ng-container",9),h.nI1(6,"async"),h.DNE(7,K,3,0,"ng-template",null,0,h.C5r)(9,X,4,1,"ng-template",null,1,h.C5r)),2&Yt){let cn;const xn=h.sdS(10);h.R7$(4),h.uP7((null==(cn=h.bMT(4,3,tn.available_spaces))?null:cn.length)||0),h.nnv(3),h.R7$(),h.Y8G("ngIf",!h.bMT(6,5,tn.loading))("ngIfElse",xn)}},styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return Nt})();var de=a(467),se=a(2333),ce=a(3601),z=a(4512),w=a(906),j=a(9714),W=a(5006),ne=a(9493),fe=a(7401);const ae=()=>({standalone:!0});function Ae(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"button",32),h.bIt("click",function(){h.eBV(wt);const tn=h.XpG();return h.Njj(tn.close())}),h.j41(1,"app-icon"),h.EFF(2,"keyboard_arrow_left"),h.k0s()()}}function Me(Nt,fn){if(1&Nt&&(h.j41(0,"mat-option",36),h.EFF(1),h.k0s()),2&Nt){const wt=fn.$implicit;h.Y8G("value",wt),h.R7$(),h.SpI(" ",wt.display_name||wt.name," ")}}function Ve(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"mat-form-field",33)(1,"mat-select",34),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.setRegion(tn))}),h.DNE(2,Me,2,2,"mat-option",35),h.nI1(3,"async"),h.k0s()()}if(2&Nt){const wt=h.XpG();h.R7$(),h.Y8G("ngModel",wt.region)("ngModelOptions",h.lJ4(5,ae)),h.R7$(),h.Y8G("ngForOf",h.bMT(3,3,wt.regions))}}function We(Nt,fn){if(1&Nt&&(h.j41(0,"mat-option",36),h.EFF(1),h.k0s()),2&Nt){const wt=fn.$implicit;h.Y8G("value",wt),h.R7$(),h.SpI(" ",wt.display_name||wt.name," ")}}function lt(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"mat-form-field",33)(1,"mat-select",37),h.nI1(2,"async"),h.nI1(3,"async"),h.nI1(4,"async"),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.setBuilding(tn))}),h.DNE(5,We,2,2,"mat-option",35),h.nI1(6,"async"),h.k0s()()}if(2&Nt){let wt;const Yt=h.XpG();h.R7$(),h.Y8G("ngModel",h.bMT(2,4,Yt.building))("ngModelOptions",h.lJ4(12,ae))("placeholder",(null==(wt=h.bMT(3,6,Yt.building))?null:wt.display_name)||(null==(wt=h.bMT(4,8,Yt.building))?null:wt.name)),h.R7$(4),h.Y8G("ngForOf",h.bMT(6,10,Yt.buildings))}}function nt(Nt,fn){if(1&Nt&&(h.j41(0,"div",41),h.EFF(1),h.nI1(2,"building"),h.j41(3,"span",42),h.EFF(4," - "),h.k0s()()),2&Nt){let wt;const Yt=h.XpG().$implicit;h.R7$(),h.SpI(" ",null==(wt=h.bMT(2,1,Yt.parent_id))?null:wt.display_name," ")}}function $e(Nt,fn){if(1&Nt&&(h.j41(0,"mat-option",36)(1,"div",39),h.DNE(2,nt,5,3,"div",40),h.j41(3,"div"),h.EFF(4),h.k0s()()()),2&Nt){const wt=fn.$implicit,Yt=h.XpG(2);h.Y8G("value",wt.id),h.R7$(2),h.Y8G("ngIf",Yt.use_region),h.R7$(2),h.SpI(" ",wt.display_name||wt.name," ")}}function Ie(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"mat-form-field",33)(1,"mat-select",38),h.nI1(2,"async"),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.setOptions({zone_ids:tn}))}),h.DNE(3,$e,5,3,"mat-option",35),h.nI1(4,"async"),h.k0s()()}if(2&Nt){let wt;const Yt=h.XpG();h.R7$(),h.Y8G("ngModel",null==(wt=h.bMT(2,4,Yt.options))?null:wt.zone_ids)("ngModelOptions",h.lJ4(8,ae))("multiple",!0),h.R7$(2),h.Y8G("ngForOf",h.bMT(4,6,Yt.levels))}}function me(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"div",43)(1,"label",24),h.EFF(2),h.nI1(3,"translate"),h.j41(4,"span"),h.EFF(5,"*"),h.k0s()(),h.j41(6,"a-date-field",44),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.form.patchValue({date_end:tn}))}),h.EFF(7),h.nI1(8,"translate"),h.k0s()()}if(2&Nt){const wt=h.XpG();h.R7$(2),h.SpI(" ",h.bMT(3,7,"FORM.END_DATE"),""),h.R7$(4),h.Y8G("ngModel",wt.form.getRawValue().date_end)("ngModelOptions",h.lJ4(11,ae))("from",wt.start_date)("to",wt.end_date)("short",!0),h.R7$(),h.SpI(" ",h.bMT(8,9,"FORM.DATE_ERROR")," ")}}function De(Nt,fn){1&Nt&&(h.j41(0,"div",45)(1,"mat-checkbox",46),h.pXf(2,5),h.k0s()())}function ke(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"div",48)(1,"label",52),h.EFF(2),h.nI1(3,"translate"),h.j41(4,"span"),h.EFF(5,"*"),h.k0s()(),h.j41(6,"a-time-field",53),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG(2);return h.Njj(cn.form.patchValue({date_end:tn}))}),h.k0s()()}if(2&Nt){let wt;const Yt=h.XpG(2);h.R7$(2),h.SpI(" ",h.bMT(3,5,"FORM.END_TIME"),""),h.R7$(4),h.Y8G("ngModel",Yt.form.value.date_end)("ngModelOptions",h.lJ4(7,ae))("from",null==Yt.form||null==(wt=Yt.form.getRawValue())?null:wt.date)("use_24hr",Yt.use_24hr)}}function Qe(Nt,fn){if(1&Nt&&(h.j41(0,"div",48)(1,"label",52),h.EFF(2),h.nI1(3,"translate"),h.j41(4,"span"),h.EFF(5,"*"),h.k0s()(),h.nrm(6,"a-duration-field",54),h.k0s()),2&Nt){let wt;const Yt=h.XpG(2);h.R7$(2),h.SpI(" ",h.bMT(3,4,"FORM.END_TIME"),""),h.R7$(4),h.Y8G("time",null==Yt.form||null==(wt=Yt.form.getRawValue())?null:wt.date)("max",Yt.max_duration)("use_24hr",Yt.use_24hr)}}function Ne(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"div",47)(1,"div",48)(2,"label",49),h.PLo(3,6),h.nrm(4,"span"),h.YFu(),h.k0s(),h.j41(5,"a-time-field",50),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.form.patchValue({date:tn}))}),h.k0s()(),h.DNE(6,ke,7,8,"div",51)(7,Qe,7,6,"div",51),h.k0s()}if(2&Nt){const wt=h.XpG();h.R7$(5),h.Y8G("ngModel",wt.form.getRawValue().date)("ngModelOptions",h.lJ4(5,ae))("use_24hr",wt.use_24hr),h.R7$(),h.Y8G("ngIf",wt.multiday),h.R7$(),h.Y8G("ngIf",!wt.multiday)}}function at(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"section",55)(1,"h2",56),h.pXf(2,7),h.nI1(3,"translate"),h.k0s(),h.j41(4,"div",57)(5,"div",58),h.pXf(6,8),h.nI1(7,"translate"),h.k0s(),h.j41(8,"mat-checkbox",59),h.nI1(9,"async"),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.setOptions({show_fav:tn}))}),h.k0s()()()}if(2&Nt){let wt;const Yt=h.XpG();h.R7$(3),h.uP7(h.bMT(3,4,"COMMON.FAVOURITES")),h.nnv(2),h.R7$(4),h.uP7(h.bMT(7,6,"ROOMS.SHOW_FAVOURITES")),h.nnv(6),h.R7$(),h.Y8G("ngModel",null==(wt=h.bMT(9,8,Yt.options))?null:wt.show_fav)("ngModelOptions",h.lJ4(10,ae))}}function Lt(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"div",57)(1,"div",63),h.EFF(2),h.k0s(),h.j41(3,"mat-checkbox",64),h.nI1(4,"async"),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG().$implicit,xn=h.XpG(2);return h.Njj(xn.toggleFeature(cn,tn))}),h.k0s()()}if(2&Nt){let wt;const Yt=h.XpG().$implicit,tn=h.XpG(2);h.R7$(2),h.SpI(" ",tn.feature_display[Yt]||Yt," "),h.R7$(),h.Y8G("ngModel",null==(wt=h.bMT(4,3,tn.options))||null==wt.features?null:wt.features.includes(Yt))("ngModelOptions",h.lJ4(5,ae))}}function Kt(Nt,fn){if(1&Nt&&(h.qex(0),h.DNE(1,Lt,5,6,"div",62),h.bVm()),2&Nt){const wt=fn.$implicit,Yt=h.XpG(2);h.R7$(),h.Y8G("ngIf",!Yt.hide_features.includes(wt))}}function Ot(Nt,fn){if(1&Nt&&(h.j41(0,"section",60)(1,"h2",56),h.pXf(2,9),h.k0s(),h.DNE(3,Kt,2,1,"ng-container",61),h.nI1(4,"async"),h.k0s()),2&Nt){const wt=h.XpG();h.R7$(3),h.Y8G("ngForOf",h.bMT(4,1,wt.features))}}function Se(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"div",65)(1,"button",66),h.bIt("click",function(){h.eBV(wt);const tn=h.XpG();return h.Njj(tn.close())}),h.pXf(2,10),h.k0s()()}}let ve=(()=>{class Nt{get allow_all_day(){return!!this._settings.get("app.events.allow_all_day")}get use_region(){return!!this._settings.get("app.use_region")}get bld(){return this._org.building}get region(){return this._org.region}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get feature_display(){return this._settings.get("app.events.feature_decriptions")||{}}get hide_features(){return this._settings.get("app.events.hide_features")||[]}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get start_date(){return(0,ce.o)(this.form.getRawValue().date).valueOf()}get end_date(){return(0,z.D)((0,w.f)(Date.now(),this._settings.get("app.events.allowed_future_days")||180))}constructor(wt,Yt,tn,cn,xn,ii){this._bsheet_ref=wt,this._settings=Yt,this._event_form=tn,this._org=cn,this._spaces=xn,this._mapspeople=ii,this.can_close=!1,this.options=this._event_form.options,this.building=this._org.active_building,this.buildings=this._org.active_buildings,this.levels=(0,j.zV)([this._org.active_region,this._org.active_building]).pipe((0,W.T)(([vi,bi])=>(this.use_region?this._org.levelsForRegion(vi):this._org.levelsForBuilding(bi)).filter(Mi=>!Mi.tags.includes("parking")).sort((Mi,ro)=>Mi.parent_id.localeCompare(ro.parent_id)||(Mi.display_name||"").localeCompare(ro.display_name||"")))),this.regions=this._org.region_list,this.using_mapspeople=this._mapspeople.available$,this.features=(0,j.zV)([this._spaces.features,this._event_form.available_spaces]).pipe((0,W.T)(([vi,bi])=>(0,se.Am)(vi.concat((0,se.Bq)(bi.map(hi=>hi.features)))))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=vi=>this._event_form.setOptions(vi),this.can_close=!!this._bsheet_ref}setBuilding(wt){this._org.building=wt}setRegion(wt){this._org.region=wt}toggleFeature(wt,Yt){var tn=this;return(0,de.A)(function*(){const{features:cn}=yield tn.options.pipe((0,ne.s)(1)).toPromise(),xn=(cn||[]).filter(ii=>wt!==ii);Yt&&xn.push(wt),tn.setOptions({features:xn})})()}static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)(h.rXU(v.eN,8),h.rXU(se.h$),h.rXU(l.W),h.rXU(O.y),h.rXU(fe.b),h.rXU(se._e))};static#t=this.\u0275cmp=h.VBU({type:Nt,selectors:[["space-filters"]],inputs:{multiday:"multiday",hide_levels:"hide_levels",viewing_map:"viewing_map"},decls:35,vars:29,consts:()=>{let wt,Yt,tn,cn,xn,ii,vi,bi,hi,Ai,Mi,ro,po;return wt=$localize`:36173168a4643aa78634e9242a63f3a40862f1667173310086383878456:Space Filters`,Yt=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,tn=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,cn=$localize`:04cfb5fd033651743bc4b9408bd52ba4ee8940703158758063619980932:Date${"\ufffd#22\ufffd"}:START_TAG_SPAN:*${"\ufffd/#22\ufffd"}:CLOSE_TAG_SPAN:`,xn=$localize`:beead5a3a21b1ca4abe67610030f8a520995de4e3894192522062036998: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ii=$localize`:130845b58eba8e50c98f3fba117a0168cdba4f318264413387051126615:Any Region`,vi=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,bi=$localize`:d7f43e20f3a729fa3de32bc7a1f709ccd722eae5835486935962207481: All Day `,hi=$localize`:02d39ddac5bbf95c424df03d5f0d22cc257556bd4735431816432396893: Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ai=$localize`:bde3d9fd949ba4c6014b8e64c1362753bca1cf0c5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Mi=$localize`:210742da6591a33630e0bfba757b95e6a1d99b201614226322496100282: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ro=$localize`:bf10c600bd861cfd0a23f4759562ee0ae9dbe19f1551920764795208868:Facilities`,po=$localize`:c17e2cc448524a39eb83b2937cea3235a2e8bf372296888311792137027: Apply Filters `,[wt,Yt,tn,cn,xn,bi,hi,Ai,Mi,ro,po,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-space-filters",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex","items-center","flex-wrap","sm:space-x-2"],[1,"flex-1","min-w-[8rem]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to","short"],["class","flex-1 min-w-[8rem] relative",4,"ngIf"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","","class","space-y-2 pb-4",4,"ngIf"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-space-filters",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",ii,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",vi,3,"ngModelChange","ngModel","ngModelOptions","multiple"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex-1","min-w-[8rem]","relative"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","from","to","short"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["class","flex-1 w-1/3",4,"ngIf"],["for","end-time"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions","from","use_24hr"],["name","end-time","formControlName","duration",3,"time","max","use_24hr"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","",1,"space-y-2"],[4,"ngFor","ngForOf"],["class","flex items-center",4,"ngIf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-space-filters",1,"w-full",3,"click"]]},template:function(Yt,tn){if(1&Yt&&(h.j41(0,"div",11)(1,"div",12),h.DNE(2,Ae,3,0,"button",13),h.k0s(),h.j41(3,"h3",14),h.pXf(4,0),h.k0s(),h.nrm(5,"div",15),h.k0s(),h.j41(6,"form",16)(7,"section",17)(8,"h2",18),h.pXf(9,1),h.k0s(),h.j41(10,"div",19)(11,"label",20),h.pXf(12,2),h.k0s(),h.DNE(13,Ve,4,6,"mat-form-field",21),h.nI1(14,"async"),h.DNE(15,lt,7,13,"mat-form-field",21),h.nI1(16,"async"),h.DNE(17,Ie,5,9,"mat-form-field",21),h.k0s(),h.j41(18,"div",22)(19,"div",23)(20,"label",24),h.PLo(21,3),h.nrm(22,"span"),h.YFu(),h.k0s(),h.j41(23,"a-date-field",25),h.bIt("ngModelChange",function(xn){return tn.form.patchValue({date:xn})}),h.pXf(24,4),h.nI1(25,"translate"),h.k0s()(),h.DNE(26,me,9,12,"div",26),h.k0s(),h.DNE(27,De,3,0,"div",27)(28,Ne,8,6,"div",28),h.k0s(),h.DNE(29,at,10,11,"section",29),h.nI1(30,"async"),h.DNE(31,Ot,5,3,"section",30),h.nI1(32,"async"),h.nI1(33,"async"),h.k0s(),h.DNE(34,Se,3,0,"div",31)),2&Yt){let cn,xn,ii;h.R7$(2),h.Y8G("ngIf",tn.can_close),h.R7$(4),h.Y8G("formGroup",tn.form),h.R7$(7),h.Y8G("ngIf",tn.use_region&&(null==(cn=h.bMT(14,16,tn.regions))?null:cn.length)),h.R7$(2),h.Y8G("ngIf",!tn.use_region&&(null==(xn=h.bMT(16,18,tn.buildings))?null:xn.length)>1),h.R7$(2),h.Y8G("ngIf",!tn.hide_levels),h.R7$(6),h.Y8G("ngModel",tn.form.getRawValue().date)("ngModelOptions",h.lJ4(28,ae))("to",tn.end_date)("short",!0),h.R7$(2),h.uP7(h.bMT(25,20,"FORM.DATE_ERROR")),h.nnv(24),h.R7$(),h.Y8G("ngIf",tn.multiday),h.R7$(),h.Y8G("ngIf",tn.allow_all_day),h.R7$(),h.Y8G("ngIf",!tn.form.value.all_day),h.R7$(),h.Y8G("ngIf",!tn.viewing_map||!h.bMT(30,22,tn.using_mapspeople)),h.R7$(2),h.Y8G("ngIf",(null==(ii=h.bMT(32,24,tn.features))?null:ii.length)&&(!tn.viewing_map||!h.bMT(33,26,tn.using_mapspeople))),h.R7$(3),h.Y8G("ngIf",tn.can_close)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return Nt})();var N=a(9434),ie=a(6600);function Y(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"button",17),h.bIt("click",function(){h.eBV(wt);const tn=h.XpG();return h.Njj(tn.removeAllFeatures())}),h.EFF(1," Clear Filters "),h.k0s()}}function ye(Nt,fn){if(1&Nt&&(h.j41(0,"div",18),h.EFF(1),h.k0s()),2&Nt){const wt=h.XpG();h.R7$(),h.SpI(" ",wt.location," ")}}function Ze(Nt,fn){if(1&Nt&&(h.qex(0),h.EFF(1),h.nI1(2,"date"),h.nI1(3,"date"),h.bVm()),2&Nt){const wt=h.XpG();h.R7$(),h.Lme(" ",h.i5U(2,2,wt.start,wt.time_format)," \u2014 ",h.i5U(3,5,wt.end,wt.time_format)," ")}}function Ft(Nt,fn){1&Nt&&(h.qex(0),h.EFF(1,"All Day"),h.bVm())}function sn(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"div",19)(1,"p",20),h.EFF(2),h.k0s(),h.j41(3,"button",21),h.bIt("click",function(){const tn=h.eBV(wt).$implicit,cn=h.XpG();return h.Njj(cn.removeFeature(tn))}),h.j41(4,"app-icon"),h.EFF(5,"close"),h.k0s()()()}if(2&Nt){const wt=fn.$implicit;h.R7$(2),h.JRh(wt)}}let _n=(()=>{class Nt extends se.Tv{get all_day(){return this._event_form.form.value.all_day}get start(){return this._event_form.form.value.date}get end(){const{date:wt,duration:Yt}=this._event_form.form.value;return wt+60*Yt*1e3}get time_format(){return this._settings.time_format}constructor(wt,Yt,tn,cn){super(),this._bsheet=wt,this._event_form=Yt,this._org=tn,this._settings=cn,this.view="list",this.viewChange=new h.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(ve)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:wt})=>this._updateLocation(wt)))}removeFeature(wt){var Yt=this;return(0,de.A)(function*(){const tn=yield Yt._event_form.options.pipe((0,ne.s)(1)).toPromise();Yt._event_form.setOptions({...tn,features:(tn.features||[]).filter(cn=>cn!==wt)})})()}removeAllFeatures(){var wt=this;return(0,de.A)(function*(){const Yt=yield wt._event_form.options.pipe((0,ne.s)(1)).toPromise();wt._event_form.setOptions({...Yt,features:[]})})()}_updateLocation(wt=[]){const tn=this._org.levelWithID(wt)||this._org.building;this.location=tn?.display_name||tn?.name||""}static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)(h.rXU(v.VK),h.rXU(l.W),h.rXU(O.y),h.rXU(se.h$))};static#t=this.\u0275cmp=h.VBU({type:Nt,selectors:[["space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[h.Vt3],decls:23,vars:20,consts:()=>{let wt,Yt,tn,cn;return wt=$localize`:19eaa5cd51d70d9ea957eecac78cfd811e9b93d85208858215712453646: Filters `,Yt=$localize`:992a9a6a193a56c5b8846dc972c5e1977ee5f1aa8553228906889869186: Map `,tn=$localize`:4b286e90831dd637c5cd3eb20544664ee71126697787942140742011951: List `,cn=$localize`:dfdd3d7879401ba6edca2e5198df414f15c112c25300384898733875729: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[wt,Yt,tn,cn,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["btn","","matRipple","","name","edit-space-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-space-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-space-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["btn","","matRipple","","name","clear-space-filters","class","min-h-[2rem] mb-2 mr-2",3,"click",4,"ngIf"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],[4,"ngIf"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["btn","","matRipple","","name","clear-space-filters",1,"min-h-[2rem]","mb-2","mr-2",3,"click"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],[1,"truncate"],["icon","","matRipple","","name","remove-space-filter",1,"-mr-4",3,"click"]]},template:function(Yt,tn){if(1&Yt&&(h.j41(0,"section",4)(1,"button",5),h.bIt("click",function(){return tn.editFilters()}),h.pXf(2,0),h.k0s(),h.j41(3,"div",6)(4,"button",7),h.bIt("click",function(){return tn.view="map",tn.viewChange.emit(tn.view)}),h.pXf(5,1),h.k0s(),h.j41(6,"button",8),h.bIt("click",function(){return tn.view="list",tn.viewChange.emit(tn.view)}),h.pXf(7,2),h.k0s()()(),h.j41(8,"section",9),h.DNE(9,Y,2,0,"button",10),h.nI1(10,"async"),h.DNE(11,ye,2,1,"div",11),h.j41(12,"div",12),h.EFF(13),h.nI1(14,"date"),h.k0s(),h.j41(15,"div",13),h.DNE(16,Ze,4,8,"ng-container",14)(17,Ft,2,0,"ng-container",14),h.k0s(),h.j41(18,"div",15),h.pXf(19,3),h.nI1(20,"async"),h.k0s(),h.DNE(21,sn,6,1,"div",16),h.nI1(22,"async"),h.k0s()),2&Yt){let cn,xn,ii;h.R7$(4),h.AVh("inverse","map"!==tn.view),h.R7$(2),h.AVh("inverse","list"!==tn.view),h.R7$(3),h.Y8G("ngIf",(null==(cn=h.bMT(10,11,tn.options))||null==cn.features?null:cn.features.length)>1),h.R7$(2),h.Y8G("ngIf",tn.location),h.R7$(2),h.SpI(" ",h.i5U(14,13,tn.start,"mediumDate")," "),h.R7$(3),h.Y8G("ngIf",!tn.all_day),h.R7$(),h.Y8G("ngIf",tn.all_day),h.R7$(3),h.uP7((null==(xn=h.bMT(20,16,tn.options))?null:xn.capacity)||2),h.nnv(19),h.R7$(),h.Y8G("ngForOf",null==(ii=h.bMT(22,18,tn.options))?null:ii.features)}},dependencies:[t.Sq,t.bT,N.R,ie.r6,t.Jj,t.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;min-height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem;max-width:100%;text-align:center}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return Nt})();var Rt=a(9928),en=a(3020),ht=a(5897),pt=a(8030);function Ct(Nt,fn){1&Nt&&h.nrm(0,"div",16)}function Mt(Nt,fn){1&Nt&&(h.j41(0,"app-icon",17),h.EFF(1," done "),h.k0s())}let $t=(()=>{class Nt{get color(){return this.active?"#F4511E":this.selected?"#D32F2F":"#309251"}constructor(wt){this._data=wt,this.selected=!0===this._data.selected,this.active=!0===this._data.active}static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)(h.rXU(pt.Nw))};static#t=this.\u0275cmp=h.VBU({type:Nt,selectors:[["space-location-pin"]],decls:17,vars:3,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","44","height","60","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(Yt,tn){1&Yt&&(h.j41(0,"div",0),h.qSk(),h.j41(1,"svg",1)(2,"g",2),h.nrm(3,"path",3),h.k0s(),h.j41(4,"defs")(5,"filter",4),h.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),h.k0s()()(),h.joV(),h.j41(14,"div",13),h.DNE(15,Ct,1,0,"div",14)(16,Mt,2,0,"app-icon",15),h.k0s()()),2&Yt&&(h.R7$(3),h.BMQ("fill",tn.color),h.R7$(12),h.Y8G("ngIf",!tn.selected),h.R7$(),h.Y8G("ngIf",tn.selected))},dependencies:[t.bT,N.R],encapsulation:2})}return Nt})();const nn=()=>({controls:!0}),Sn=()=>({standalone:!0});function In(Nt,fn){if(1&Nt&&(h.j41(0,"div",10),h.EFF(1),h.nI1(2,"building"),h.j41(3,"span",11),h.EFF(4," - "),h.k0s()()),2&Nt){let wt;const Yt=h.XpG().$implicit;h.R7$(),h.SpI(" ",null==(wt=h.bMT(2,1,Yt.parent_id))?null:wt.display_name," ")}}function Fn(Nt,fn){if(1&Nt&&(h.j41(0,"mat-option",7)(1,"div",8),h.DNE(2,In,5,3,"div",9),h.j41(3,"div"),h.EFF(4),h.k0s()()()),2&Nt){const wt=fn.$implicit,Yt=h.XpG(2);h.Y8G("value",wt),h.R7$(2),h.Y8G("ngIf",Yt.use_region),h.R7$(2),h.SpI(" ",wt.display_name||wt.name," ")}}function $n(Nt,fn){if(1&Nt){const wt=h.RV6();h.j41(0,"mat-form-field",4)(1,"mat-select",5),h.mxI("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.DH7(cn.level,tn)||(cn.level=tn),h.Njj(tn)}),h.bIt("ngModelChange",function(tn){h.eBV(wt);const cn=h.XpG();return h.Njj(cn.setOptions({zone_ids:[tn.id]}))}),h.DNE(2,Fn,5,3,"mat-option",6),h.nI1(3,"async"),h.k0s()()}if(2&Nt){const wt=h.XpG();h.R7$(),h.R50("ngModel",wt.level),h.Y8G("ngModelOptions",h.lJ4(5,Sn)),h.R7$(),h.Y8G("ngForOf",h.bMT(3,3,wt.levels))}}let ut=(()=>{class Nt extends se.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(wt,Yt,tn){super(),this._event_form=wt,this._org=Yt,this._settings=tn,this.selected=[],this.is_displayed=!1,this.onSelect=new h.bkB,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._seletedSpace=cn=>()=>{this.onSelect.emit(cn),this._change.next(Date.now())},this.level=null,this._change=new Rt.t(0),this.levels=(0,j.zV)([this._org.active_region,this._org.active_building]).pipe((0,W.T)(([cn,xn])=>(this.use_region?this._org.levelsForRegion(cn):this._org.levelsForBuilding(xn)).filter(bi=>!bi.tags.includes("parking")).sort((bi,hi)=>bi.parent_id.localeCompare(hi.parent_id)||(bi.display_name||"").localeCompare(hi.display_name||"")))),this.setOptions=cn=>this._event_form.setOptions(cn),this.features=(0,j.zV)([this._event_form.available_spaces,this._change]).pipe((0,en.B)(300),(0,W.T)(([cn])=>cn.map(xn=>({location:xn.map_id,content:$t,data:{...xn,active:this.active===xn.id,selected:this.selected.includes(xn.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,W.T)(cn=>cn.map(xn=>({id:xn.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(xn)})))),this.styles=(0,j.zV)([this._event_form.spaces,this._event_form.available_spaces]).pipe((0,W.T)(([cn,xn])=>cn.reduce((ii,vi)=>{const bi=this._settings.get("app.explore.colors")||{},hi=xn.find(Ai=>Ai.id===vi.id)?"free":"busy";return ii[`#${vi.map_id||vi.id}`]={fill:bi[`space-${hi}`]||bi[`${hi}`]||ht.U[`${hi}`]},ii},{})))}ngOnInit(){this.subscription("levels_update",this._event_form.options.subscribe(({zone_ids:wt})=>{const Yt=this._org.levelWithID(wt);Yt&&(this.level=Yt)}))}setLevel(wt){console.log("Set Level",wt),this.setOptions({zone_ids:[wt?.id]});const Yt=this._org.buildings.find(tn=>tn.id===wt?.parent_id);if(Yt){const[tn,cn]=(wt.location||Yt.location).split(",").map(xn=>parseFloat(xn));this.coordinates={latitude:tn,longitude:cn}}this.level=wt}setZoom(wt){this.zoom=Math.max(.5,Math.min(10,wt))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)(h.rXU(l.W),h.rXU(O.y),h.rXU(se.h$))};static#t=this.\u0275cmp=h.VBU({type:Nt,selectors:[["space-map"]],inputs:{selected:"selected",active:"active",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[h.Vt3],decls:8,vars:17,consts:()=>{let wt;return wt=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["appearance","outline",1,"w-full"],["name","location","placeholder",wt,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(Yt,tn){if(1&Yt&&(h.j41(0,"div",0),h.DNE(1,$n,4,6,"mat-form-field",1),h.nI1(2,"async"),h.k0s(),h.j41(3,"div",2)(4,"interactive-map",3),h.nI1(5,"async"),h.nI1(6,"async"),h.nI1(7,"async"),h.mxI("zoomChange",function(xn){return h.DH7(tn.zoom,xn)||(tn.zoom=xn),xn})("centerChange",function(xn){return h.DH7(tn.center,xn)||(tn.center=xn),xn}),h.k0s()()),2&Yt){let cn;h.R7$(),h.Y8G("ngIf",null==(cn=h.bMT(2,8,tn.levels))?null:cn.length),h.R7$(3),h.Y8G("src",tn.map_url),h.R50("zoom",tn.zoom)("center",tn.center),h.Y8G("styles",h.bMT(5,10,tn.styles))("features",h.bMT(6,12,tn.features))("actions",h.bMT(7,14,tn.actions))("options",h.lJ4(16,nn))}},styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return Nt})();a(2011);var je=a(4918),Te=a(5277),Ye=a(3208),Tt=a(9183),Ut=a(3719),Ke=a(2798),Fe=a(9608),Ue=a(3476),we=a(1413),rt=a(6062),vt=a(1780);let rn=(()=>{class Nt{static#e=this.\u0275fac=function(Yt){return new(Yt||Nt)};static#t=this.\u0275mod=h.$C({type:Nt});static#n=this.\u0275inj=h.G2t({imports:[t.MD,f.hM,C.h,g.c,v.vF,b.g7,n.YN,n.X1]})}return Nt})();h.wjB(S.d,[t.bT,f.tx,N.R,ie.r6,L,Q,ve,_n,ut],[]),h.wjB(L,[t.Sq,t.bT,N.R,je.S,Te.H,ie.r6],[]),h.wjB(Q,[t.Sq,t.bT,N.R,Ye.U,ie.r6,Tt.LG],[t.Jj]),h.wjB(ve,[t.Sq,t.bT,N.R,ie.wT,Ut.rl,Ke.VO,ie.r6,b.So,Fe.G,Ue.y,we.t,n.qT,n.BC,n.cb,n.vS,n.j4,n.JD],[t.Jj,rt.b,vt.D9]),h.wjB(ut,[t.Sq,t.bT,je.S,ie.wT,Ut.rl,Ke.VO,n.BC,n.vS],[t.Jj,rt.b])},7401:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>m});var t=a(467),n=a(5157),f=a(5006),v=a(4046),b=a(9928),C=a(8026),g=a(735),S=a(2333),h=a(2011),y=a(3953);let O,m=(()=>{class E{get space_list(){return this._list.getValue()}constructor(M,x){this._org=M,this._settings=x,this._list=new b.t([]),this._initialised=new b.t(!1),this.initialised=this._initialised.asObservable(),this.list=this._list.asObservable(),this.features=this.list.pipe((0,f.T)(D=>(0,S.Am)((0,S.Bq)(D.map(A=>A.features))))),this._compare=D=>D.zones.includes(this._org.building.id),O=new h.J(M),this._init()}_init(){var M=this;return(0,t.A)(function*(){yield M._org.initialised.pipe((0,v.$)(x=>x)).toPromise(),M._settings.get("app.prevent_space_init")?M._initialised.next(!0):M.loadSpaces()})()}filter(M=this._compare){return this._list.getValue().filter(x=>M(x))}loadSpace(M){var x=this;return(0,t.A)(function*(){const D=yield(0,n.V4n)(M).toPromise(),A=new g.$({...D,level:x._org.levelWithID([...D.zones])});O.updateSpaceList([A])})()}find(M){return this._list.getValue().find(({id:x})=>M===x)}loadSpaces(){var M=this;return(0,t.A)(function*(){const A=(yield(0,n.BbB)({zone_id:M._org.organisation.id,limit:5e3}).pipe((0,f.T)(L=>L.data)).toPromise()).map(L=>new g.$({...L,level:M._org.levelWithID([...L.zones])})).filter(L=>L.map_id);M._list.next(A),O.updateSpaceList(A),M._initialised.next(!0)})()}static#e=this.\u0275fac=function(x){return new(x||E)(y.KVO(C.y),y.KVO(S.h$))};static#t=this.\u0275prov=y.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},8737:(At,ue,a)=>{"use strict";a.d(ue,{X:()=>de});var t=a(4006),n=a(2333),f=a(5818),v=a(5987),b=a(3601),C=a(4512),g=a(4273);function S(se){return(0,g.a)(1e3*se)}var y=a(2037),O=a(7926),m=a(6576),E=a(9928),u=a(9714),M=a(4421),x=a(3020),D=a(9090),A=a(3921),L=a(5006),l=a(7849),$=a(8712),R=a(3953);const F=["container"],P=()=>[];function k(se,ce){if(1&se&&(R.j41(0,"div",32),R.EFF(1),R.k0s()),2&se){const z=ce.index,w=R.XpG();R.xc7("left",-w.offset_x+"px"),R.BMQ("disabled",w.today&&w.current_hour>z),R.R7$(),R.Lme(" ",z%12==0?"12":z%12,"",z>=12?"pm":"am"," ")}}function V(se,ce){if(1&se){const z=R.RV6();R.j41(0,"div",33),R.nrm(1,"a-user-avatar",12),R.j41(2,"div",34),R.EFF(3),R.k0s(),R.j41(4,"button",35),R.bIt("click",function(){const j=R.eBV(z).$implicit,W=R.XpG();return R.Njj(W.removeUser(j))}),R.j41(5,"app-icon"),R.EFF(6,"close"),R.k0s()()()}if(2&se){const z=ce.$implicit,w=R.XpG();R.xc7("top",-w.offset_y+"px"),R.R7$(),R.Y8G("user",z),R.R7$(2),R.SpI(" ",z.name||w.host.email," ")}}function K(se,ce){if(1&se&&R.nrm(0,"div",36),2&se){const z=ce.index,w=R.XpG();R.xc7("left",-(w.offset_x+1)+"px"),R.BMQ("disabled",w.today&&w.current_hour>z)}}function X(se,ce){if(1&se&&(R.j41(0,"div",37),R.EFF(1),R.nI1(2,"date"),R.k0s()),2&se){const z=R.XpG();R.R7$(),R.SpI(" ",R.i5U(2,1,z.date,"shortTime")," ")}}function Q(se,ce){if(1&se&&(R.nrm(0,"user-availability-list",25),R.nI1(1,"async"),R.nI1(2,"async")),2&se){const z=ce.$implicit,w=R.XpG();R.Y8G("user",z)("date",w.date)("availability",R.bMT(1,3,w.availability)?R.bMT(2,5,w.availability)[z.email.toLowerCase()]:R.lJ4(7,P))}}let de=(()=>{class se extends n.Tv{get today(){return(0,f.r)(this.date,Date.now())}get current_hour(){return(new Date).getHours()}get selection_left(){const z=new Date(this.date);return 5*(z.getHours()+z.getMinutes()/60)}get selection_width(){return this.duration/60*5}constructor(z,w,j){super(),this._data=z,this._renderer=w,this._dialog_ref=j,this.users=new E.t([]),this.search="",this.date=this._data.date||Date.now(),this.duration=this._data.duration||60,this.offset_y=0,this.offset_x=0,this.host=this._data.host,this.hours=new Array(24).fill(0),this.on_change=new E.t(0),this.availability=(0,u.zV)([this.users,this.on_change]).pipe((0,x.B)(300),(0,D.n)(([W])=>(0,m.f6)({calendars:[this.host.email,...W.map(ne=>ne.email.toLowerCase())].join(","),period_start:(0,v._)((0,b.o)(this.date)),period_end:(0,v._)((0,C.D)(this.date))}).pipe((0,A.W)(()=>(0,M.of)([])))),(0,L.T)(W=>{const ne={};for(const fe of W)ne[fe.id.toLowerCase()]=fe.availability.filter(ae=>"busy"===ae.status).map(ae=>{const Ae=S(ae.starts_at),Me=(0,y.o)(S(ae.ends_at),S(ae.starts_at));return{date:Ae,duration:Me,start:(Ae.getHours()+Ae.getMinutes()/60)/24*100,size:Me/60/24*100}});return ne}),(0,l.U)({}),(0,$.t)(1)),this.move_time=!1,this._start_time=0,this._move_last=0,this._move_size=1920,this.users.next([...this._data.users])}addUser(z){this.users.next([...this.users.getValue().filter(w=>w.email!==z.email),z]),this.user=null}removeUser(z){this.users.next(this.users.getValue().filter(w=>w.email!==z.email)),this.user=null}closeAndUpdate(){this._dialog_ref.close(!0)}ngAfterViewInit(){const z=new Date(this.date);this.timeout("init",()=>{const w=this._container_el.nativeElement.querySelector(`[hour="${z.getHours()}"]`);if(w){const j=this._container_el.nativeElement.getBoundingClientRect(),W=w.getBoundingClientRect();this._container_el.nativeElement.scrollTo(W.left-128-j.left,0)}this.onScroll()},300)}onScroll(){this.offset_x=this._container_el.nativeElement.scrollLeft,this.offset_y=this._container_el.nativeElement.scrollTop}startMovePeriod(z){z.preventDefault(),z.stopPropagation(),this._move_last=z instanceof MouseEvent?z.clientX:z.touches[0].clientX,this.move_time=!0,this._start_time=this.date,z instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",w=>this._onMovePeriod(w))):this.subscription("on_move",this._renderer.listen("window","touchmove",w=>this._onMovePeriod(w))),z instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}startMoveDuration(z){z.preventDefault(),z.stopPropagation(),this._move_last=z instanceof MouseEvent?z.clientX:z.touches[0].clientX,this._start_time=this.duration,z instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",w=>this._onMoveDuration(w))):this.subscription("on_move",this._renderer.listen("window","touchmove",w=>this._onMoveDuration(w))),z instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}_onMovePeriod(z){const w=this._move_last-(z instanceof MouseEvent?z.clientX:z.touches[0].clientX),W=(w>0?-1:1)*Math.floor(Math.abs(w/this._move_size*24*60)/5)*5;if(W){const ne=this.date;this.date=(0,O.z)(this._start_time,W).valueOf(),this.date<Date.now()&&(this.date=ne)}}_onMoveDuration(z){const w=this._move_last-(z instanceof MouseEvent?z.clientX:z.touches[0].clientX),W=(w>0?-1:1)*Math.floor(Math.abs(w/this._move_size*24*60)/5)*5;W&&(this.duration=Math.max(30,this._start_time+W))}_onMoveEnd(){this.unsub("on_move"),this.unsub("on_move_end"),this._move_last=0,this.move_time=!1}static#e=this.\u0275fac=function(w){return new(w||se)(R.rXU(t.Vh),R.rXU(R.sFG),R.rXU(t.CP))};static#t=this.\u0275cmp=R.VBU({type:se,selectors:[["find-availability-modal"]],viewQuery:function(w,j){if(1&w&&R.GBs(F,7),2&w){let W;R.mGM(W=R.lsd())&&(j._container_el=W.first)}},features:[R.Vt3],decls:45,vars:31,consts:[["container",""],[1,"relative","flex","items-center","justify-center","p-4"],[1,"text-center"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1/2","left-1","-translate-y-1/2"],[1,"flex","flex-col","h-[calc(100vh-7rem)]","sm:h-[65vh]","overflow-hidden"],[1,"w-full","flex","flex-col","sm:flex-row","space-y-2","sm:space-y-0","sm:space-x-2","p-2"],[1,"max-h-[3.25rem]","flex-1",3,"ngModelChange","ngModel"],[1,"grid","flex-1","h-1/2","w-full","border-t","border-base-200","relative","overflow-hidden","divide-x","divide-y","divide-base-200","max-w-[100vw]","sm:max-w-[80vw]"],["times","",1,"col-start-2","h-10","flex","overflow-hidden","border-l","border-base-200"],["hour","","class","relative border-r border-base-200 h-10 min-w-[5rem] p-2",3,"left",4,"ngFor","ngForOf"],["users","",1,"row-start-2","w-24","overflow-hidden"],["host","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-2xl",3,"user"],[1,"text-xs","break-words","overflow-hidden","max-w-full","px-2","text-center"],["person","","class","flex flex-col items-center justify-center h-32 w-24 relative border-b border-base-200 py-2",3,"top",4,"ngFor","ngForOf"],["blocks","",1,"relative","row-start-2","overflow-hidden"],["fixed","",1,"absolute","inset-0","flex","overflow-hidden"],["divider","","class","relative h-full min-w-[5rem] border-l border-base-200",3,"left",4,"ngFor","ngForOf"],["selection","",1,"absolute","inset-y-0","!border-x-2","!border-info","z-20","cursor-grab","active:cursor-grabbing",3,"mousedown","touchstart"],[1,"absolute","inset-0","bg-info","opacity-30"],["handle","",1,"absolute","top-1/2","-left-px","-translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info"],["handle","",1,"absolute","top-1/2","-right-px","translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info","hover:h-4","hover:w-4","active:bg-secondary",3,"mousedown","touchstart"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-2","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"],["class","bg-base-100 border border-base-200 p-2 absolute top-12 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded",4,"ngIf"],["scroll","",1,"absolute","inset-0","overflow-auto",3,"scroll"],[1,"pointer-events-none",3,"user","date","availability"],["class","pointer-events-none",3,"user","date","availability",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],["hour","",1,"relative","border-r","border-base-200","h-10","min-w-[5rem]","p-2"],["person","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-xs","break-words","max-w-full","px-2","text-center"],["icon","",1,"absolute","-top-1","-left-1",3,"click"],["divider","",1,"relative","h-full","min-w-[5rem]","border-l","border-base-200"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-12","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"]],template:function(w,j){if(1&w){const W=R.RV6();R.j41(0,"header",1)(1,"h2",2),R.EFF(2,"Find Availability"),R.k0s(),R.j41(3,"button",3)(4,"app-icon"),R.EFF(5,"close"),R.k0s()()(),R.j41(6,"main",4)(7,"div",5)(8,"a-date-field",6),R.mxI("ngModelChange",function(fe){return R.eBV(W),R.DH7(j.date,fe)||(j.date=fe),R.Njj(fe)}),R.bIt("ngModelChange",function(){return R.eBV(W),R.Njj(j.on_change.next(j.on_change.getValue()+1))}),R.k0s(),R.j41(9,"a-user-search-field",6),R.mxI("ngModelChange",function(fe){return R.eBV(W),R.DH7(j.user,fe)||(j.user=fe),R.Njj(fe)}),R.bIt("ngModelChange",function(fe){return R.eBV(W),R.Njj(j.addUser(fe))}),R.k0s()(),R.j41(10,"div",7)(11,"div",8),R.DNE(12,k,2,5,"div",9),R.k0s(),R.j41(13,"div",10)(14,"div",11),R.nrm(15,"a-user-avatar",12),R.j41(16,"div",13),R.EFF(17),R.k0s()(),R.DNE(18,V,7,4,"div",14),R.nI1(19,"async"),R.k0s(),R.j41(20,"div",15)(21,"div",16),R.DNE(22,K,1,3,"div",17),R.j41(23,"div",18),R.bIt("mousedown",function(fe){return R.eBV(W),R.Njj(j.startMovePeriod(fe))})("touchstart",function(fe){return R.eBV(W),R.Njj(j.startMovePeriod(fe))}),R.nrm(24,"div",19)(25,"div",20),R.j41(26,"div",21),R.bIt("mousedown",function(fe){return R.eBV(W),R.Njj(j.startMoveDuration(fe))})("touchstart",function(fe){return R.eBV(W),R.Njj(j.startMoveDuration(fe))}),R.k0s(),R.j41(27,"div",22),R.EFF(28),R.nI1(29,"duration"),R.k0s(),R.DNE(30,X,3,4,"div",23),R.k0s()(),R.j41(31,"div",24,0),R.bIt("scroll",function(){return R.eBV(W),R.Njj(j.onScroll())}),R.nrm(33,"user-availability-list",25),R.nI1(34,"async"),R.nI1(35,"async"),R.DNE(36,Q,3,8,"user-availability-list",26),R.nI1(37,"async"),R.k0s()()()(),R.j41(38,"footer",27)(39,"button",28)(40,"div",29)(41,"app-icon",30),R.EFF(42,"arrow_back"),R.k0s(),R.j41(43,"div",31),R.EFF(44,"Back to form"),R.k0s()()()()}2&w&&(R.R7$(8),R.R50("ngModel",j.date),R.R7$(),R.R50("ngModel",j.user),R.R7$(3),R.Y8G("ngForOf",j.hours),R.R7$(2),R.xc7("top",-j.offset_y+"px"),R.R7$(),R.Y8G("user",j.host),R.R7$(2),R.SpI(" ",j.host.name||j.host.email," "),R.R7$(),R.Y8G("ngForOf",R.bMT(19,20,j.users)),R.R7$(4),R.Y8G("ngForOf",j.hours),R.R7$(),R.xc7("left","calc("+j.selection_left+"rem - "+j.offset_x+"px)")("width",j.selection_width+"rem"),R.R7$(5),R.SpI(" ",R.bMT(29,22,j.duration)," "),R.R7$(2),R.Y8G("ngIf",j.move_time),R.R7$(3),R.Y8G("user",j.host)("date",j.date)("availability",R.bMT(34,24,j.availability)?R.bMT(35,26,j.availability)[j.host.email]:R.lJ4(30,P)),R.R7$(3),R.Y8G("ngForOf",R.bMT(37,28,j.users)),R.R7$(3),R.Y8G("mat-dialog-close",!0))},styles:[".grid[_ngcontent-%COMP%]{grid-template-columns:6rem 1fr;grid-template-rows:2.5rem minmax(0,1fr)}[disabled=true][_ngcontent-%COMP%], [disabled=true][_ngcontent-%COMP%]   [header][_ngcontent-%COMP%]{background:var(--b3)!important;pointer-events:none}[disabled=true][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.3}"]})}return se})()},6039:(At,ue,a)=>{"use strict";a.d(ue,{qI:()=>g,qc:()=>h});var t=a(5157),n=a(5006),v=(a(6727),a(8385)),b=a(3693);const C="/api/staff/v1/guests";function g(E){const u=(0,v.z)({q:E});return(0,t.JtY)(`${C}${E?"?"+u:""}`).pipe((0,n.T)(M=>M.map(x=>new b.So(x))))}function h(E){return(0,t.JtY)(`${C}/${encodeURIComponent(E)}`).pipe((0,n.T)(u=>new b.So(u)))}},1543:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>u});var t=a(3953),n=a(4006),f=a(2333),v=a(3693),b=a(4129),C=a(177),g=a(9434),S=a(6600),h=a(9183),y=a(7111);function O(M,x){if(1&M&&(t.j41(0,"main",6),t.nrm(1,"user-form",7),t.k0s()),2&M){const D=t.XpG();t.R7$(),t.Y8G("form",D.form)}}function m(M,x){if(1&M){const D=t.RV6();t.j41(0,"footer",8)(1,"button",9),t.EFF(2," Cancel "),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(D);const L=t.XpG();return t.Njj(L.saveChanges())}),t.EFF(4,"Save"),t.k0s()()}}function E(M,x){1&M&&(t.j41(0,"main",11),t.nrm(1,"mat-spinner",12),t.j41(2,"p"),t.EFF(3,"Saving attendee..."),t.k0s()())}let u=(()=>{class M extends f.Tv{constructor(D){super(),this._data=D,this.event=new t.bkB,this.form=(0,b.nu)(this.user||new v.KJ),this.loading=!1,this.user=this._data.user||{},this.form=(0,b.nu)(this.user)}ngOnInit(){}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const D=new v.KJ({...this.form.value,is_external:!0});this.event.emit({reason:"done",metadata:D})}}static#e=this.\u0275fac=function(A){return new(A||M)(t.rXU(n.Vh))};static#t=this.\u0275cmp=t.VBU({type:M,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:11,vars:4,consts:[["load_state",""],["mat-dialog-title","",1,"heading"],[1,"flex-1"],["icon","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-base-200 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-base-200","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(A,L){if(1&A&&(t.j41(0,"header")(1,"div",1),t.EFF(2),t.k0s(),t.nrm(3,"div",2),t.j41(4,"button",3)(5,"app-icon"),t.EFF(6,"close"),t.k0s()()(),t.DNE(7,O,2,1,"main",4)(8,m,5,0,"footer",5)(9,E,4,0,"ng-template",null,0,t.C5r)),2&A){const l=t.sdS(10);t.R7$(2),t.SpI(" ",null!=L.user&&L.user.id?"Edit":"Add"," External Attendee "),t.R7$(5),t.Y8G("ngIf",!L.loading)("ngIfElse",l),t.R7$(),t.Y8G("ngIf",!L.loading)}},dependencies:[C.bT,n.tx,n.BI,g.R,S.r6,h.LG,y.f],styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]})}return M})()},2372:(At,ue,a)=>{"use strict";a.d(ue,{N8:()=>C,SZ:()=>g});var t=a(5157),n=a(8385),f=a(5006),v=a(3693);const b="/api/staff/v1/people";function C(h){const y=(0,n.z)({q:h,fields:["id","name","email","username","organisation","department"].join(",")});return(0,t.JtY)(`${b}${h?"?"+y:""}`).pipe((0,f.T)(O=>O.map(m=>new v.Gp(m))))}function g(h){return(0,t.JtY)(`${b}/${encodeURIComponent(h)}`).pipe((0,f.T)(y=>new v.Gp(y)))}},7111:(At,ue,a)=>{"use strict";a.d(ue,{f:()=>M});var t=a(3953),n=a(177),f=a(9417),v=a(3719),b=a(9631),C=a(2765),g=a(1780);function S(x,D){if(1&x&&(t.j41(0,"div",3)(1,"label",4),t.EFF(2," Name"),t.j41(3,"span"),t.EFF(4,"*"),t.k0s(),t.EFF(5,": "),t.k0s(),t.j41(6,"mat-form-field",5),t.nrm(7,"input",6),t.j41(8,"mat-error"),t.EFF(9,"Name is required"),t.k0s()()()),2&x){const A=t.XpG(2);t.R7$(),t.AVh("error",A.hasError("name"))}}function h(x,D){if(1&x&&(t.j41(0,"div",3)(1,"label",7),t.EFF(2," Email"),t.j41(3,"span"),t.EFF(4,"*"),t.k0s(),t.EFF(5,": "),t.k0s(),t.j41(6,"mat-form-field",5),t.nrm(7,"input",8),t.j41(8,"mat-error"),t.EFF(9,"A valid email is required"),t.k0s()()()),2&x){const A=t.XpG(2);t.R7$(),t.AVh("error",A.hasError("email"))}}function y(x,D){if(1&x&&(t.j41(0,"div",3)(1,"label",9),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"span"),t.EFF(5,"*"),t.k0s(),t.EFF(6,": "),t.k0s(),t.j41(7,"mat-form-field",5),t.nrm(8,"input",10),t.j41(9,"mat-error"),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&x){const A=t.XpG(2);t.R7$(),t.AVh("error",A.hasError("organisation")),t.R7$(),t.SpI(" ",t.bMT(3,4,"COMMON.ORGANISATION"),""),t.R7$(8),t.SpI(" ",t.bMT(11,6,"COMMON.ORGANISATION")," is required ")}}function O(x,D){if(1&x&&(t.j41(0,"div",3)(1,"label",11),t.EFF(2," Phone: "),t.k0s(),t.j41(3,"mat-form-field",5),t.nrm(4,"input",12),t.j41(5,"mat-error"),t.EFF(6,"Phone format is invalid"),t.k0s()()()),2&x){const A=t.XpG(2);t.R7$(),t.AVh("error",A.hasError("phone"))}}function m(x,D){1&x&&(t.j41(0,"div",3)(1,"mat-checkbox",13),t.EFF(2," Assistance required "),t.k0s()())}function E(x,D){1&x&&(t.j41(0,"div",3)(1,"mat-checkbox",14),t.EFF(2," Visit expected "),t.k0s()())}function u(x,D){if(1&x&&(t.j41(0,"form",1),t.DNE(1,S,10,2,"div",2)(2,h,10,2,"div",2)(3,y,12,8,"div",2)(4,O,7,2,"div",2)(5,m,3,0,"div",2)(6,E,3,0,"div",2),t.k0s()),2&x){const A=t.XpG();t.Y8G("formGroup",A.form),t.R7$(),t.Y8G("ngIf",A.form.controls.name),t.R7$(),t.Y8G("ngIf",A.form.controls.email),t.R7$(),t.Y8G("ngIf",A.form.controls.organisation),t.R7$(),t.Y8G("ngIf",A.form.controls.phone),t.R7$(),t.Y8G("ngIf",A.form.controls.assistance_required),t.R7$(),t.Y8G("ngIf",A.form.controls.visit_expected)}}let M=(()=>{class x{hasError(A){const{invalid:L,touched:l}=this.form?.controls[A]||{};return L&&l}static#e=this.\u0275fac=function(L){return new(L||x)};static#t=this.\u0275cmp=t.VBU({type:x,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","","class","w-full",3,"formGroup",4,"ngIf"],["user-form","",1,"w-full",3,"formGroup"],["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","e.g. Conteso","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(L,l){1&L&&t.DNE(0,u,7,7,"form",0),2&L&&t.Y8G("ngIf",l.form)},dependencies:[n.bT,f.qT,f.me,f.BC,f.cb,f.j4,f.JD,v.rl,v.TL,b.fg,C.So,g.D9],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return x})()},3693:(At,ue,a)=>{"use strict";a.d(ue,{Gp:()=>C,KJ:()=>v,So:()=>b});var t=a(4217),n=a(4129),f=a(4361);class v{constructor(S={}){this.id=S.id||S.email||`USER::${(0,t.DU)(8)}`,this.name=S.name||"",this.email=S.email||"",this.first_name=S.first_name||S.name||"",this.last_name=S.last_name||"",this.phone=S.phone||"",this.organisation=S.organisation||"",this.notes=S.notes||"",this.photo=S.photo||"",this.username=S.username||"",this.organizer=!!S.organizer,this.checked_in=!!S.checked_in,this.required=S.required??!0,this.resource=S.resource??!1,this.response_status=S.response_status||"";const h=S.groups||[];this.department=S.department??"",S.sys_admin&&h.push("placeos_admin"),S.support&&h.push("placeos_support"),S.department&&h.push(S.department),this.groups=h,this.extension_data=S.extension_data||{},this.extension_data.assistance_required=S.assistance_required||this.extension_data.assistance_required,this.is_external=!this.email?.endsWith(`${n.pd}`),this.visit_expected=S.visit_expected??!0,this.assistance_required=!!this.extension_data?.assistance_required;for(const y in S)y in this||(this.extension_data[y]=S[y])}}class b extends v{constructor(S={}){super(S),this.preferred_beverage=S.preferred_beverage||"",this.accepted_terms_conditions=S.accepted_terms_conditions||!1,this.attachments=S.extension_data?.attachments||S.attachments||[],this.status=S.booking?.approved?"approved":S.booking?.rejected?"declined":S.extension_data?.status||S.status||"pending",this.booking=S.booking,this.extension_data.event=S.event_metadata}}class C extends v{get location(){return this.location_time(Date.now())}location_time(S){S||(S=Date.now());const h=new Date(S),y=h.getDay(),O=(0,f.GP)(h,"yyyy-MM-dd");return this.work_overrides[O]?.location||this.work_preferences.find(m=>m.day_of_week===y)?.location||"wfo"}get location_name(){return this.location_name_time(Date.now())}location_name_time(S){S||(S=Date.now());const h=this.location_time(S),y=this.in_hours_time(S);if(h.includes("w")&&!y)return"Outside working hours";switch(h){case"wfh":return"Working from Home";case"wfo":return"Working from Office";case"ooo":return"Out of Office";case"aol":return"Away on Leave";default:return"Unknown"}}get in_hours(){return this.in_hours_time(Date.now())}location_icon(S){S||(S=Date.now());const h=this.location_time(S),y=this.in_hours_time(S);return"wfh"===h&&y?"home":"wfo"===h&&y?"business":"event_busy"}in_hours_time(S){S||(S=Date.now());const h=new Date(S),y=h.getDay(),O=(0,f.GP)(h,"yyyy-MM-dd"),m=this.work_overrides[O]||this.work_preferences.find(x=>x.day_of_week===y);if(!m)return!1;const E=m.start_time,u=m.end_time,M=h.getHours()+h.getMinutes()/60;return E<=M&&M<u}constructor(S={}){super(S),this.card_number=S.card_number||"",this.staff_id=S.staff_id||"",this.is_logged_in=!!S.is_logged_in,this.work_preferences=S.work_preferences||[],this.work_overrides=S.work_overrides||{}}}},4129:(At,ue,a)=>{"use strict";a.d(ue,{Wq:()=>y,Z4:()=>C,nu:()=>h,pd:()=>b});var t=a(9417),f=(a(4217),a(3693));let b="@place.tech";function C(O){b=O}function h(O){if(!O)throw Error("No user passed");const m={name:new t.MJ(O.name||"",[t.k0.required]),email:new t.MJ(O.email||"",[t.k0.email,t.k0.required]),organisation:new t.MJ(O.organisation||"",t.k0.required),phone:new t.MJ(O.phone||"",t.k0.pattern(/^\+?(\d[\d\s\-\(\)]{5,13}\d)$/)),assistance_required:new t.MJ(O.assistance_required||!1),visit_expected:new t.MJ(O.visit_expected??!0)};return new t.gE(m)}function y(O=new f.So,m=""){const E={name:new t.MJ(O.name||""),email:new t.MJ(O.email||"",[t.k0.email,t.k0.required]),organisation:new t.MJ(O.organisation||"",t.k0.required),phone:new t.MJ(O.phone||""),host:new t.MJ(m||"",[t.k0.required])};return new t.gE(E)}},1081:(At,ue,a)=>{"use strict";a.d(ue,{k:()=>z});var t=a(177),n=a(9417),f=a(9183),v=a(9115),b=a(4006),C=a(2765),g=a(1395),S=a(2013),u=(a(1543),a(7111),a(467),a(6039),a(2372),a(3693)),M=a(3953);new u.KJ;var L=a(9987),l=a(8737);function $(w,j){if(1&w&&(M.j41(0,"div",2)(1,"div",3),M.EFF(2),M.nI1(3,"date"),M.nI1(4,"date"),M.k0s()()),2&w){const W=j.$implicit;M.xc7("left",W.start+"%")("width",W.size+"%"),M.R7$(2),M.Lme(" ",M.i5U(3,6,W.date,"shortTime")," - ",M.i5U(4,9,W.date.valueOf()+60*W.duration*1e3,"shortTime")," ")}}let R=(()=>{class w{constructor(){this.availability=[],this.date=Date.now()}static#e=this.\u0275fac=function(ne){return new(ne||w)};static#t=this.\u0275cmp=M.VBU({type:w,selectors:[["user-availability-list"]],inputs:{user:"user",availability:"availability",date:"date"},decls:2,vars:1,consts:[[1,"relative","w-[120rem]","h-32","inset-y-0","border-b","border-base-200"],["event","","class","absolute inset-y-0 bg-error text-white p-2 overflow-hidden border border-red-700 rounded",3,"left","width",4,"ngFor","ngForOf"],["event","",1,"absolute","inset-y-0","bg-error","text-white","p-2","overflow-hidden","border","border-red-700","rounded"],[1,"text-xs","max-w-full"]],template:function(ne,fe){1&ne&&(M.j41(0,"div",0),M.DNE(1,$,5,12,"div",1),M.k0s()),2&ne&&(M.R7$(),M.Y8G("ngForOf",fe.availability))},dependencies:[t.Sq,t.vh],styles:["[_nghost-%COMP%]{display:block}"]})}return w})();var F=a(1413),P=a(9434),k=a(1193),V=a(6600),K=a(3719),X=a(2798),Q=a(9608),de=a(8e3),se=a(7022);let z=(()=>{class w{static#e=this.\u0275fac=function(ne){return new(ne||w)};static#t=this.\u0275mod=M.$C({type:w});static#n=this.\u0275inj=M.G2t({imports:[t.MD,n.YN,n.X1,b.hM,S.c,g.h,C.g7,f.D6,v.Cn]})}return w})();M.wjB(L.$,[t.Sq,t.bT,n.BC,n.vS,b.tx,F.t,P.R,k.a,V.wT,v.kk,v.fb,v.Cp,K.rl,X.VO,V.r6,f.LG],[t.vh]),M.wjB(l.X,[t.Sq,t.bT,n.BC,n.vS,b.tx,Q.G,de.$,P.R,k.a,V.r6,R],[t.Jj,t.vh,se.b])},9987:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>l});var t=a(467),n=a(2333),f=a(906),v=a(7793),b=a(1406),C=a(4361),g=a(4273),S=a(1666),O=a(5157),m=a(3953),E=a(4006);function u($,R){if(1&$&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&$){const F=m.XpG(2);m.R7$(),m.SpI("from ","wfh"===F.option?"home":"office","")}}function M($,R){if(1&$&&(m.j41(0,"mat-option",30),m.EFF(1),m.k0s()),2&$){const F=R.$implicit;m.Y8G("value",F.id),m.R7$(),m.SpI(" ",F.name," ")}}function x($,R){if(1&$){const F=m.RV6();m.j41(0,"div",23)(1,"label",24),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"a-time-field",25),m.mxI("ngModelChange",function(k){const V=m.eBV(F).$implicit,K=m.XpG(2);return m.DH7(K.start_times[V],k)||(K.start_times[V]=k),m.Njj(k)}),m.bIt("ngModelChange",function(){m.eBV(F);const k=m.XpG(2);return m.Njj(k.changed=!0)}),m.k0s(),m.j41(5,"a-time-field",26),m.mxI("ngModelChange",function(k){const V=m.eBV(F).$implicit,K=m.XpG(2);return m.DH7(K.end_times[V],k)||(K.end_times[V]=k),m.Njj(k)}),m.bIt("ngModelChange",function(){m.eBV(F);const k=m.XpG(2);return m.Njj(k.changed=!0)}),m.k0s(),m.j41(6,"mat-form-field",27)(7,"mat-select",28),m.mxI("ngModelChange",function(k){const V=m.eBV(F).$implicit,K=m.XpG(2);return m.DH7(K.settings[V].location,k)||(K.settings[V].location=k),m.Njj(k)}),m.bIt("ngModelChange",function(){m.eBV(F);const k=m.XpG(2);return m.Njj(k.changed=!0)}),m.DNE(8,M,2,2,"mat-option",29),m.k0s()()()}if(2&$){const F=R.$implicit,P=m.XpG(2);m.R7$(2),m.JRh(m.i5U(3,6,P.days[F],"EEEE")),m.R7$(2),m.R50("ngModel",P.start_times[F]),m.R7$(),m.R50("ngModel",P.end_times[F]),m.Y8G("from",P.start_times[F]),m.R7$(2),m.R50("ngModel",P.settings[F].location),m.R7$(),m.Y8G("ngForOf",P.options)}}function D($,R){if(1&$){const F=m.RV6();m.j41(0,"div",4)(1,"div",5),m.nrm(2,"a-user-avatar",6),m.j41(3,"div"),m.EFF(4),m.k0s(),m.j41(5,"div",7),m.EFF(6),m.k0s(),m.j41(7,"div",7),m.EFF(8),m.k0s()(),m.j41(9,"div",8)(10,"h3",9),m.EFF(11," Today's Working Location "),m.k0s(),m.j41(12,"button",10)(13,"div",11)(14,"div",12),m.EFF(15),m.k0s(),m.j41(16,"app-icon",13),m.EFF(17,"arrow_drop_down"),m.k0s()()(),m.j41(18,"div",14)(19,"div",15)(20,"app-icon"),m.EFF(21),m.k0s()(),m.j41(22,"div",16),m.EFF(23),m.DNE(24,u,2,1,"span",17),m.EFF(25," day"),m.nrm(26,"br"),m.EFF(27),m.k0s()()(),m.j41(28,"div",18)(29,"h3",9),m.EFF(30," Office Day Defaults "),m.k0s(),m.DNE(31,x,9,9,"div",19),m.k0s(),m.j41(32,"div",20)(33,"button",21),m.bIt("click",function(){m.eBV(F);const k=m.XpG();return m.Njj(k.saveChanges())}),m.EFF(34," Update "),m.k0s()(),m.j41(35,"button",22)(36,"app-icon"),m.EFF(37,"close"),m.k0s()()()}if(2&$){const F=m.XpG(),P=m.sdS(2);m.R7$(2),m.Y8G("user",F.user),m.R7$(2),m.JRh(F.user.name),m.R7$(2),m.JRh(F.user.email),m.R7$(2),m.JRh(F.user.phone),m.R7$(4),m.Y8G("matMenuTriggerFor",P),m.R7$(3),m.JRh(F.option_name),m.R7$(6),m.JRh("wfh"===F.option?"home":"domain"),m.R7$(2),m.SpI(" Today is a ","aol"===F.option?"leave":"working"," "),m.R7$(),m.Y8G("ngIf","aol"!==F.option),m.R7$(3),m.Lme(" ","aol"===F.option?"Unavailable":"Available"," for ","wfh"===F.option?"online":""," meetings "),m.R7$(4),m.Y8G("ngForOf",F.available_weekdays),m.R7$(2),m.Y8G("disabled",!F.changed)}}function A($,R){if(1&$){const F=m.RV6();m.j41(0,"button",31),m.bIt("click",function(){const k=m.eBV(F).$implicit,V=m.XpG();return V.option=k.id,m.Njj(V.changed=!0)}),m.EFF(1),m.k0s()}if(2&$){const F=R.$implicit;m.BMQ("id",F.id),m.R7$(),m.SpI(" ",F.name," ")}}function L($,R){1&$&&(m.j41(0,"div",32),m.nrm(1,"mat-spinner",33),m.j41(2,"p"),m.EFF(3,"Saving changes to work location settings..."),m.k0s()()),2&$&&(m.R7$(),m.Y8G("diameter",32))}let l=(()=>{class ${get option_name(){return this.options.find(F=>F.id===this.option)?.name||""}constructor(F){this._dialog_ref=F,this.options=[{id:"wfo",name:"Working from office"},{id:"wfh",name:"Working from home"},{id:"aol",name:"Away on Leave"}],this.option=this.options[0].id,this.settings=[],this.weekdays=[],this.changed=!1,this.loading=!1,this.available_weekdays=[1,2,3,4,5],this.days=new Array(7).fill(0).map((P,k)=>(0,f.f)((0,v.k)((0,f.f)(Date.now(),30)),k)),this.start_times=[],this.end_times=[]}ngOnInit(){const F=(0,n.Ny)();this.settings=F.work_preferences,this.option=F.location||"wfo",this.settings?.length<7&&(this.settings=new Array(7).fill({}).map((P,k)=>({day_of_week:k,start_time:9,end_time:17,location:"wfo"}))),this.start_times=this.settings.map((P,k)=>{const V=Math.floor(P.start_time),K=Math.round(60*(P.start_time-V));return(0,b.h)(this.days[k],{hours:V,minutes:K}).valueOf()}),this.end_times=this.settings.map((P,k)=>{const V=Math.floor(P.end_time),K=Math.round(60*(P.end_time-V));return(0,b.h)(this.days[k],{hours:V,minutes:K}).valueOf()}),this._initWeekdays()}get user(){return(0,n.Ny)()}saveChanges(F=!0){var P=this;return(0,t.A)(function*(){P.loading=!0,P._dialog_ref.disableClose=!0;const k=(new Date).getDay(),V=(0,C.GP)(Date.now(),"yyyy-MM-dd");var K={};K[V]={day_of_week:k,start_time:9,end_time:17,location:P.option};for(const Q of P.settings){const de=new Date(P.start_times[Q.day_of_week]),se=new Date(P.end_times[Q.day_of_week]);Q.start_time=de.getHours()+de.getMinutes()/60,Q.end_time=se.getHours()+se.getMinutes()/60,Q.day_of_week===k&&(K[V].start_time=Q.start_time,K[V].end_time=Q.end_time)}const X=yield(0,O.VLL)("current").toPromise();yield(0,O.TKu)(X.id,{...X,work_preferences:P.settings,work_overrides:K}).toPromise(),P.loading=!1,P._dialog_ref.disableClose=!1,F&&(location.reload(),P._dialog_ref.close())})()}_initWeekdays(){let F=new Date;this.weekdays=this.available_weekdays.map(P=>function h($,R,F){const P=(0,S.q)(),k=F?.weekStartsOn??F?.locale?.options?.weekStartsOn??P.weekStartsOn??P.locale?.options?.weekStartsOn??0,V=(0,g.a)($),K=V.getDay(),de=7-k;return(0,f.f)(V,R<0||R>6?R-(K+de)%7:((R%7+7)%7+de)%7-(K+de)%7)}(F,P).valueOf())}static#e=this.\u0275fac=function(P){return new(P||$)(m.rXU(E.CP))};static#t=this.\u0275cmp=m.VBU({type:$,selectors:[["wfh-settings-modal"]],decls:6,vars:3,consts:[["menu","matMenu"],["load_state",""],["class","relative flex flex-col rounded overflow-hidden w-[40rem] max-w-full",4,"ngIf","ngIfElse"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"relative","flex","flex-col","rounded","overflow-hidden","w-[40rem]","max-w-full"],[1,"w-full","px-4","py-8","flex","flex-col","items-center","border-b","border-base-200"],[3,"user"],[1,"text-xs","opacity-30"],[1,"w-full","p-4","flex","flex-col","border-b","border-base-200"],[1,"-mt-2","mb-2","text-sm","font-medium"],["btn","","matRipple","","today-location","",1,"inverse","rounded-3xl","w-[20rem]","max-w-[calc(100%-2rem)]","mx-auto",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-between","w-full"],[1,"flex-1","w-1/2"],[1,"text-2xl"],[1,"flex","items-center","pt-4","space-x-2","mx-auto"],[1,"h-8","w-8","rounded-full","bg-base-200","flex","items-center","justify-center"],[1,"flex-1","w-1/2","text-sm"],[4,"ngIf"],[1,"w-full","p-4","flex","flex-col"],["class","flex items-center space-x-2 w-full overflow-hidden even:bg-base-200 rounded p-2",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","px-4","pb-4"],["btn","","matRipple","","save","",3,"click","disabled"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","left-0"],[1,"flex","items-center","space-x-2","w-full","overflow-hidden","even:bg-base-200","rounded","p-2"],[1,"w-24","min-w-0","m-0"],[1,"h-12","w-36",3,"ngModelChange","ngModel"],[1,"h-12","w-36",3,"ngModelChange","ngModel","from"],["appearance","outline",1,"flex-2","no-subscript"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-menu-item","",3,"click"],["loading","",1,"relative","bg-base-100","flex","flex-col","justify-center","items-center","rounded","overflow-hidden","w-[24rem]","h-[18rem]","text-center","space-y-2"],[3,"diameter"]],template:function(P,k){if(1&P&&(m.DNE(0,D,38,13,"div",2),m.j41(1,"mat-menu",null,0),m.DNE(3,A,2,2,"button",3),m.k0s(),m.DNE(4,L,4,1,"ng-template",null,1,m.C5r)),2&P){const V=m.sdS(5);m.Y8G("ngIf",!k.loading)("ngIfElse",V),m.R7$(3),m.Y8G("ngForOf",k.options)}}})}return $})()},285:(At,ue,a)=>{"use strict";a.d(ue,{LJ:()=>Ae,Y9:()=>Me,Zn:()=>Q,jG:()=>E,xB:()=>We,yF:()=>Ve,yd:()=>K});var t=a(9928),n=a(4046),f=a(416);function v(lt,nt){for(var $e=0;$e<nt.length;$e++){var Ie=nt[$e];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(lt,Ie.key,Ie)}}function b(lt,nt,$e){return nt&&v(lt.prototype,nt),$e&&v(lt,$e),lt}function C(){return C=Object.assign||function(lt){for(var nt=1;nt<arguments.length;nt++){var $e=arguments[nt];for(var Ie in $e)Object.prototype.hasOwnProperty.call($e,Ie)&&(lt[Ie]=$e[Ie])}return lt},C.apply(this,arguments)}function g(lt,nt){lt.prototype=Object.create(nt.prototype),lt.prototype.constructor=lt,S(lt,nt)}function S(lt,nt){return(S=Object.setPrototypeOf||function($e,Ie){return $e.__proto__=Ie,$e})(lt,nt)}var h={},O="/api/engine/v2/uploads";function m(){return O}function E(lt,nt){void 0===nt&&(nt=!1);var $e=nt?1e3:1024;if(lt<$e)return lt+(nt?" iB":" B");var Ie=Math.floor(Math.log(lt)/Math.log($e)),me=(nt?"kMGTPE":"KMGTPE").charAt(Ie-1)+(nt?"iB":"B");return(lt/Math.pow($e,Ie)).toFixed(1)+" "+me}function u(lt){var nt="";lt.length%2>0&&(lt="0"+lt);for(var $e=0,Ie=lt.length;$e<Ie;$e+=2)nt+=String.fromCharCode(parseInt(lt.slice($e,$e+2),16));return nt}function M(lt){var nt="";if(lt)for(var $e in lt)lt.hasOwnProperty($e)&&null!=lt[$e]&&(nt+=(nt?"&":"")+$e+"="+encodeURIComponent(lt[$e]));return nt}var x="",D="",A=function(){function lt($e,Ie){var me=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=$e,this._endpoint=Ie,this._abort_ctrl.signal.addEventListener("abort",function(){return me._dispose?me._dispose():""})}lt.setToken=function($e){x=$e},lt.setApiKey=function($e){D=$e};var nt=lt.prototype;return nt.initialise=function(){try{var $e,Ie=this,me=Ie._abort_ctrl.signal,De=Ie._upload,ke=De.file,Qe=De.mime_type;Ie._params.file_size=""+ke.size,Ie._params.file_name=ke.name,Qe&&"binary/octet-stream"!==Qe&&(Ie._params.file_mime=Qe),Ie._params=C({},Ie._params,Ie._upload.params),(null==($e=ke.dir_path)?void 0:$e.length)>0&&(Ie._params.file_path=ke.dir_path);var Ne=Ie.base_request_headers,at=M(Ie._params);return Promise.resolve(fetch(Ie._endpoint+"/new"+(at?"?"+at:""),{headers:Ne,signal:me})).then(function(Lt){return Lt.json()})}catch(Lt){return Promise.reject(Lt)}},nt.create=function($e){try{var Ie=this,me=Ie._abort_ctrl.signal,De=Ie.base_request_headers;return $e.file_id&&(Ie._params.file_id=$e.file_id),Ie._upload.mime_type&&(Ie._params.file_mime=$e.mime_type),$e.parameters&&(Ie._params.parameters=$e.parameters),$e.permissions&&(Ie._params.permissions=$e.permissions),$e.public&&(Ie._params.public=$e.public),$e.expires&&(Ie._params.expires=$e.expires||0),Promise.resolve(fetch(""+Ie._endpoint,{body:JSON.stringify(Ie._params),method:"POST",headers:De,signal:me})).then(function(ke){return Promise.resolve(ke.json()).then(function(Qe){return Ie.upload_id=Qe.upload_id,Qe})})}catch(ke){return Promise.reject(ke)}},nt.sign=function($e,Ie){void 0===Ie&&(Ie="");try{var me=this;if(!me.upload_id)throw new Error("Upload resource not initialised");var De=me._abort_ctrl.signal,ke=me.base_request_headers,Qe=new URLSearchParams;return Qe.set("part",$e.toString()),Ie&&Qe.set("file_id",encodeURIComponent(Ie)),Promise.resolve(fetch(me._endpoint+"/"+me.encoded_id+"/edit?"+Qe.toString(),{method:"GET",headers:ke,signal:De})).then(function(Ne){return Promise.resolve(Ne.json())})}catch(Ne){return Promise.reject(Ne)}},nt.update=function($e){void 0===$e&&($e={});try{var Ie=this;if(!Ie.upload_id)throw new Error("Upload resource not initialised");var me=Ie._abort_ctrl.signal,De=Ie.base_request_headers;return Promise.resolve(fetch(Ie._endpoint+"/"+Ie.encoded_id,{body:JSON.stringify($e),method:"PUT",headers:De,signal:me})).then(function(ke){return Promise.resolve(ke.json())})}catch(ke){return Promise.reject(ke)}},nt.signedRequest=function($e){try{return Promise.resolve(fetch($e.signature.url,{body:$e.data,method:$e.signature.verb,headers:$e.signature.headers})).then(function(Ie){return Promise.resolve(Ie.text()).then(function(me){var De={body:me,responseXML:null};try{De.responseXML=(new window.DOMParser).parseFromString(De.body,"text/xml")}catch{}return De})})}catch(Ie){return Promise.reject(Ie)}},nt.signNextChunk=function($e,Ie,me,De){void 0===De&&(De=null);try{var ke=this;if(!ke.upload_id)throw new Error("Upload resource not initialised");var Qe=ke._abort_ctrl.signal,Ne={part_list:me};De&&(Ne.part_data=De);var at=ke.base_request_headers,Lt=M({part:""+$e,file_id:Ie,file_mime:ke._upload.mime_type});return Promise.resolve(fetch(ke._endpoint+"/"+ke.encoded_id+(Lt?"?"+Lt:""),{body:JSON.stringify(Ne),method:Object.keys(Ne).length>0?"PATCH":"PUT",headers:at,signal:Qe})).then(function(Kt){return Promise.resolve(Kt.json())})}catch(Kt){return Promise.reject(Kt)}},nt.signChunk=function($e,Ie){void 0===Ie&&(Ie=null);try{var De=this._abort_ctrl.signal,ke=this.base_request_headers,Qe=M({part:""+$e,file_id:Ie});return Promise.resolve(fetch(this._endpoint+"/edit"+(Qe?"?"+Qe:""),{headers:ke,signal:De})).then(function(Ne){return Promise.resolve(Ne.json())})}catch(Ne){return Promise.reject(Ne)}},nt.updateStatus=function($e){void 0===$e&&($e={});try{var Ie=this;if(!Ie.upload_id)throw new Error("Upload resource not initialised");var me=Ie._abort_ctrl.signal;return Promise.resolve(fetch(Ie._endpoint+"/"+Ie.encoded_id,{headers:Ie.base_request_headers,method:Object.keys($e).length>0?"PATCH":"PUT",body:JSON.stringify($e),signal:me})).then(function(De){return Promise.resolve(De.json())})}catch(De){return Promise.reject(De)}},nt.abort=function(){this._abort_ctrl.abort()},nt.destroy=function(){this.abort();var $e=new Headers;if($e.append("Accept","application/json"),x?$e.append("Authorization","Bearer "+x):D&&$e.append("X-API-Key",""+D),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:$e,method:"DELETE"})},nt.performSignedRequest=function($e,Ie){var me=this;return void 0===Ie&&(Ie=function(){}),new Promise(function(De,ke){var Qe=new XMLHttpRequest;Qe.upload.addEventListener("progress",function(Kt){return Ie(Kt)}),Qe.addEventListener("load",function(Kt){Ie(Kt),Qe.status>=200&&Qe.status<300||Qe.status===$e.expected?De(Qe):ke(Qe.status+": "+Qe.statusText)});var Ne=function(Kt){me._upload.onError(Kt),ke(Kt)};Qe.addEventListener("error",function(){return Ne(Qe.status+": "+(Qe.statusText||"unknown error"))}),Qe.addEventListener("abort",function(){return Ne(Qe.statusText||"browser aborted")}),Qe.open($e.signature.verb,$e.signature.url,!0);var at=$e.signature.headers;for(var Lt in at)Lt in at&&Qe.setRequestHeader(Lt,at[Lt]);me._dispose=function(){Qe.abort(),ke("user aborted")},Qe.send($e.data||null)})},b(lt,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var $e=new Headers;return $e.append("Accept","application/json"),$e.append("Content-Type","application/json"),x?$e.append("Authorization","Bearer "+x):D&&$e.append("X-API-Key",""+D),$e}}]),lt}(),L=function(){function lt($e,Ie,me,De,ke){void 0===De&&(De={}),void 0===ke&&(ke=m()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new t.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=$e,this.retries=Ie,this.parallel=me,this.params=De,this._endpoint=ke,this.mime_type=$e?.type||this.mime_type}var nt=lt.prototype;return nt.setAccessUrl=function($e){this._access_url=$e},nt.onProgress=function($e){var Ie=this._state.getValue();this._state.next(C({},Ie,{status:"uploading",uploaded:$e,progress:Math.floor($e/this.file.size*1e3)/10}))},nt.onComplete=function(){var $e=this._state.getValue();this._state.next(C({},$e,{status:"complete",progress:100}))},nt.onError=function($e){var Ie=this._state.getValue();this._state.next(C({},Ie,{status:"error",error:$e}))},nt.resume=function($e){try{var Ie=this,me=Ie._state.getValue(),De=function(){if(!["complete","uploading","cancelled"].includes(me.status)){var ke=function(){var Ne;null==(Ne=Ie._provider)||Ne.start()};$e&&(Ie.parallel=$e);var Qe=function(){if(!Ie._provider)return Ie._request=new A(Ie,Ie._endpoint),Promise.resolve(Ie._request.initialise()).then(function(Ne){var at=h[Ne.residence]||null;at?(Ie._provider=new at(Ie._request,Ie),Ie._state.next(C({},me,{status:"uploading"}))):Ie.onError("No provider available to upload to")})}();return Qe&&Qe.then?Qe.then(ke):ke()}}();return Promise.resolve(De&&De.then?De.then(function(){}):void 0)}catch(ke){return Promise.reject(ke)}},nt.pause=function(){var $e,Ie=this._state.getValue();"uploading"===Ie.status&&(null==($e=this._provider)||$e.pause(),this._state.next(C({},Ie,{status:"paused"})))},nt.cancel=function(){var $e,Ie=this._state.getValue();["complete","cancelled"].includes(Ie.status)||("uploading"===Ie.status&&(null==($e=this._provider)||$e.destroy()),this._state.next(C({},Ie,{status:"cancelled"})))},b(lt,[{key:"id",get:function(){var $e;return null==($e=this._request)?void 0:$e.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var $e;return"waiting"===(null==($e=this._state.getValue())?void 0:$e.status)}},{key:"in_progress",get:function(){var $e;return"uploading"===(null==($e=this._state.getValue())?void 0:$e.status)}},{key:"completed",get:function(){var $e;return"complete"===(null==($e=this._state.getValue())?void 0:$e.status)}}]),lt}(),l=[],$=-1;function R(){return $+=1,l[$%=3]}var F,lt,P={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},k=P,V=[];function K(lt){void 0===lt&&(lt={}),(k=C({},P,lt)).endpoint&&(O=k.endpoint),function(nt,$e){var Ie;void 0===nt&&(nt="/node_modules/ts-md5/dist/md5_worker.js"),(null==(Ie=l)?void 0:Ie.length)>0&&l.forEach(function(De){return De.terminate()}),l=[];for(var me=0;me<3;me+=1)l.push(new f.LL(nt,$e))}(k.worker_url,k.worker_options),k.token&&A.setToken(k.token),k.api_key&&A.setApiKey(k.api_key),function X(lt){lt.forEach(function(nt){return function y(lt,nt){h[lt]=nt}(nt.lookup,nt)})}(k.providers)}function Q(lt,nt){if(void 0===nt&&(nt={}),!m())throw"No API endpoint set";var $e=[];return lt.forEach(function(Ie){var me=new L(Ie,k.retries,k.parallel,nt);$e.push(me),V.push(me),me.metadata=k.metadata,me.status.pipe((0,n.$)(function(De){return"complete"===De.status})).subscribe(function(De){return function(ke){var Qe=k.auto_start,Ne=k.remove_after;k.auto_remove&&(Ne?setTimeout(function(){return j(ke)},Ne):j(ke));var at=V.filter(function(Lt){return Lt.waiting});Qe&&at.length&&fe()&&at[0].resume(k.parallel)}(me)}),k.auto_start&&fe()&&me.resume(k.parallel)}),$e}function j(lt){lt.cancel(),V=V.filter(function(nt){return nt!==lt})}function fe(){return V.filter(function(lt){return lt.in_progress}).length<k.simultaneous}(lt=F||(F={}))[lt.Paused=0]="Paused",lt[lt.Uploading=1]="Uploading",lt[lt.Completed=2]="Completed",lt[lt.Aborted=3]="Aborted";var ae=function(){function lt($e,Ie){this._request=void 0,this._upload=void 0,this.state=F.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=$e,this._upload=Ie,this._file=this._upload.file,this.size=this._file.size}var nt=lt.prototype;return nt.start=function(){this.state<F.Uploading&&(this._finalising?this._finalise():this._start())},nt.pause=function(){for(var $e in this._strategy&&this.state===F.Uploading&&!this._direct_upload?(this.state=F.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=F.Paused,this._request.abort(),this._restart()),this._progress)this._progress[$e].loaded!==this._progress[$e].total&&(this._progress[$e].loaded=0);this._updateProgress()},nt.destroy=function(){void 0!==this._strategy&&this.state<F.Completed&&(this._request.destroy(),this._restart(),this.state=F.Aborted)},nt._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},nt._makeRequest=function($e,Ie){var me=this;return Ie.data=$e.data,this._request.performSignedRequest(Ie,function(De){return me._onProgress($e.part,De)})},nt._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},nt._currentParts=function(){return this._current_parts.concat(this._pending_parts)},nt._completePart=function($e){this._current_parts=this._current_parts.filter(function(Ie){return Ie!==$e})},nt._isComplete=function($e){var Ie=this._progress[$e]||{},me=Ie.loaded;return me&&me===Ie.total},nt._onProgress=function($e,Ie){this._progress[$e]=C({},Ie),this._updateProgress()},nt._onError=function($e){console.error("Error:",$e),this.pause(),this._upload.onError($e)},nt._updateProgress=function(){var $e=0;for(var Ie in this._progress)$e+=this._progress[Ie].loaded||0;this._upload.onProgress($e)},nt._finalise=function(){try{var $e=this;return $e._request.updateStatus().then(function(){return $e._upload.onComplete()},function(Ie){return $e._onError(Ie)}),Promise.resolve()}catch(Ie){return Promise.reject(Ie)}},nt._hashPart=function($e,Ie,me){try{var De=this,ke=De._memoization[$e],Qe=Ie();return Promise.resolve(ke?{data:Qe,md5:ke.md5,part:ke.part}:me(Qe).then(function(Ne){return De._memoization[$e]=Ne,{data:Qe,md5:Ne.md5,part:Ne.part}}))}catch(Ne){return Promise.reject(Ne)}},nt._getPartData=function(){var $e=this,Ie=this._currentParts().filter(function(De){return"number"==typeof De}),me=[];return Ie.forEach(function(De){var ke=$e._memoization[""+De];ke&&me.push(ke)}),{part_list:Ie,part_data:me}},lt}(),Ae=function(lt){function nt(){for(var Ie,me=arguments.length,De=new Array(me),ke=0;ke<me;ke++)De[ke]=arguments[ke];return(Ie=lt.call.apply(lt,[this].concat(De))||this)._part_size=5242880,Ie}g(nt,lt);var $e=nt.prototype;return $e._start=function(){try{var Ie=this;return Promise.resolve(function(){if(void 0===Ie._strategy)return Ie.state=F.Uploading,Ie._strategy=null,9999*Ie._part_size<Ie.size&&(Ie._part_size=Math.floor(Ie.size/9999),Ie._part_size>5368709120)?(Ie._upload.cancel(),void Ie._onError("file exceeds maximum size")):Promise.resolve(Ie._processPart(1).catch(function(me){return Ie._onError(me)})).then(function(me){if(me&&Ie.state===F.Uploading)return Promise.resolve(Ie._request.create({file_id:window.btoa(u(me.md5))}).catch(function(De){return Ie._onError(De)})).then(function(De){De&&(Ie._strategy=De.type,De.signature&&Ie._upload.setAccessUrl((De.signature.url||"").split("?")[0]),"direct_upload"===De.type?Ie._direct(De,me):Ie._resume(De,me))})});Ie.state===F.Paused&&Ie._resume()}())}catch(me){return Promise.reject(me)}},$e._processPart=function(Ie){var me=this;return this._hashPart(Ie.toString(),function(){var De,ke;return me.size>me._part_size?((ke=Ie*me._part_size)>me.size&&(ke=me.size),De=me._file.slice((Ie-1)*me._part_size,ke)):De=me._file,De},function(De){return R().hash(De).then(function(ke){return{md5:ke,part:Ie}})})},$e._resume=function(Ie,me){void 0===Ie&&(Ie=null),void 0===me&&(me=null);try{var De,ke=this;return Promise.resolve(function(){if(Ie)return function(){if("parts"!==Ie.type)return Promise.resolve(ke._request.signedRequest(Ie).catch(function(Qe){ke._restart(),ke._onError(Qe)})).then(function(Qe){if(Qe){var Ne=Qe.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(ke._request.updateStatus({resumable_id:Ne,file_id:window.btoa(u(me.md5)),part:1}).catch(function(at){ke._restart(),ke._onError(at)})).then(function(at){if(at)for(ke._nextPartIndex(),ke._setPart(at,me),De=1;De<ke._upload.parallel;De+=1)ke._nextPart()})}});for(ke._pending_parts=Ie.part_list,Ie.part_data&&(ke._memoization=Ie.part_data),De=0;De<ke._upload.parallel;De+=1)ke._nextPart()}();for(De=0;De<ke._upload.parallel;De+=1)ke._nextPart()}())}catch(Qe){return Promise.reject(Qe)}},$e._generatePartManifest=function(){var Ie,me,De="<CompleteMultipartUpload>";for(Ie=1;Ie<1e4&&(me=this._memoization[Ie]);Ie+=1)De+="<Part><PartNumber>"+Ie+'</PartNumber><ETag>"'+me.md5+'"</ETag></Part>';return De+"</CompleteMultipartUpload>"},$e._nextPart=function(){var Ie,me=this,De=this._nextPartIndex();(De-1)*this._part_size<this.size?this._processPart(De).then(function(ke){me.state===F.Uploading&&(Ie=me._getPartData(),me._request.signNextChunk(De,window.btoa(u(ke.md5)),Ie.part_list,Ie.part_data).then(function(Qe){return me._setPart(Qe,ke)},function(Qe){return me._onError(Qe)}))},function(ke){return me._onError(ke)}):1===this._currentParts().length&&this._currentParts()[0]===De?(this._finishing=!0,this._request.sign("finish").then(function(ke){ke.data=me._generatePartManifest(),me._request.signedRequest(ke).then(function(){return me._finalise()},function(Qe){return me._onError(Qe)})},function(ke){return me._onError(ke)})):this._finishing||(this._completePart(De),(Ie=this._getPartData()).part_update=!0,this._request.updateStatus(Ie))},$e._setPart=function(Ie,me){var De=this;this._makeRequest(me,Ie).then(function(){De._completePart(me?.part),De._nextPart()},function(ke){return De._onError(ke)})},$e._direct=function(Ie,me){var De=this,ke=this._makeRequest(me,Ie);this._direct_upload=!0,ke.then(function(){return De._finalise()},function(Qe){return De._onError(Qe)})},nt}(ae);Ae.lookup="AmazonS3";var Me=function(lt){function nt(){for(var Ie,me=arguments.length,De=new Array(me),ke=0;ke<me;ke++)De[ke]=arguments[ke];return(Ie=lt.call.apply(lt,[this].concat(De))||this)._partSize=2097152,Ie}g(nt,lt);var $e=nt.prototype;return $e._start=function(){var Ie=this;if(void 0===this._strategy){if(this.state=F.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(me){Ie.state===F.Uploading&&Ie._request.create({file_id:me.md5}).then(function(De){Ie._strategy=De.type,"direct_upload"===De.type?Ie._direct(De,me):Ie._resume(De,me)},Ie._onError.bind(Ie))},this._onError.bind(this))}else this.state===F.Paused&&this._resume()},$e._processPart=function(Ie){var me=this;return this._hashPart(Ie.toString(),function(){var De,ke;return me.size>me._partSize?((ke=Ie*me._partSize)>me.size&&(ke=me.size),De=me._file.slice((Ie-1)*me._partSize,ke)):De=me._file,De},function(De){return R().hash(De).then(function(ke){return{md5:window.btoa(u(ke)),part:Ie}})})},$e._resume=function(Ie,me){var De,ke=this;if(void 0===Ie&&(Ie=null),void 0===me&&(me=null),Ie)if("parts"===Ie.type)for(this._pending_parts=Ie.part_list,De=0;De<this._upload.parallel;De+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:me.md5,part:1}).then(function(Qe){for(ke._nextPartIndex(),ke._setPart(Qe,me),De=1;De<ke._upload.parallel;De+=1)ke._nextPart()},function(Qe){this._restart(),this._onError(Qe)});else for(De=0;De<this._upload.parallel;De+=1)this._nextPart()},$e._generatePartManifest=function(){for(var Ie='<?xml version="1.0" encoding="utf-8"?><BlockList>',me=0;me<5e4&&me*this._partSize<this.size;me+=1)Ie+="<Latest>"+window.btoa(this._pad(me+1))+"</Latest>";return Ie+"</BlockList>"},$e._pad=function(Ie){for(var me=Ie.toString();me.length<6;)me="0"+me;return me},$e._nextPart=function(){var Ie=this,me=this._nextPartIndex();(me-1)*this._partSize<this.size?this._processPart(me).then(function(De){Ie.state===F.Uploading&&Ie._request.signNextChunk(me,De.md5,Ie._currentParts()).then(function(ke){Ie._setPart(ke,De)},Ie._onError.bind(Ie))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===me?(this._finishing=!0,this._request.sign("finish").then(function(De){De.data=Ie._generatePartManifest(),Ie._request.signedRequest(De).then(Ie._finalise.bind(Ie),Ie._onError.bind(Ie))},this._onError.bind(this))):this._finishing||(this._completePart(me),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},$e._setPart=function(Ie,me){var De=this;this._makeRequest(me,Ie).then(function(){De._completePart(me.part),De._nextPart()},this._onError.bind(this))},$e._direct=function(Ie,me){var De=this,ke=this._makeRequest(me,Ie);this._direct_upload=!0,ke.then(function(){return De._finalise()},this._onError.bind(this))},nt}(ae);Me.lookup="MicrosoftAzure";var Ve=function(lt){function nt(){return lt.apply(this,arguments)||this}g(nt,lt);var $e=nt.prototype;return $e._start=function(){var Ie=this;void 0!==this._strategy&&this.state!==F.Paused||(this.state=F.Uploading,this._strategy=null,this._processPart(this._file).then(function(me){Ie.state===F.Uploading&&Ie._request.create({file_id:me.md5}).then(function(De){Ie._strategy=De.type,"direct_upload"===De.type?Ie._direct(De,me):Ie._resume(De,me)},Ie._onError.bind(Ie))},this._onError.bind(this)))},$e._processPart=function(Ie,me){return void 0===me&&(me=0),this._hashPart(me.toString(),function(){return Ie},function(De){return R().hash(De).then(function(ke){return{md5:window.btoa(u(ke)),part:me}})})},$e._resume=function(Ie,me){var De=this;this._request.signedRequest(Ie).then(function(ke){if("status"===Ie.type)if(ke.status===Ie.expected){var Qe=parseInt(ke.getResponseHeader("Range").split("-")[1],10)+1;De._processPart(De._file.slice(Qe),Qe).then(function(Ne){De.state===F.Uploading&&De._request.signChunk(Qe,Ne.md5).then(function(at){De._performUpload(at,Ne)},De._onError.bind(De))},De._onError.bind(De))}else De._finalise();else De._request.updateStatus({resumable_id:De._getQueryParams(ke.getResponseHeader("Location").split("?")[1]).upload_id,file_id:me.md5,part:0}).then(function(Ne){return De._performUpload(Ne,me)},function(Ne){this._restart(),this._onError(Ne)})},this._onError.bind(this))},$e._performUpload=function(Ie,me){var De=this;this._makeRequest(me,Ie).then(function(){return De._finalise()},this._onError.bind(this))},$e._direct=function(Ie,me){var De=this,ke=this._makeRequest(me,Ie);this._direct_upload=!0,ke.then(function(){De._finalise()},this._onError.bind(this))},$e._getQueryParams=function(Ie){Ie=Ie.split("+").join(" ");for(var me,De={},ke=/[?&]?([^=]+)=([^&]*)/g;me=ke.exec(Ie);)De[decodeURIComponent(me[1])]=decodeURIComponent(me[2]);return De},nt}(ae);Ve.lookup="GoogleCloudStorage";var We=function(lt){function nt(){for(var Ie,me=arguments.length,De=new Array(me),ke=0;ke<me;ke++)De[ke]=arguments[ke];return(Ie=lt.call.apply(lt,[this].concat(De))||this)._partSize=2097152,Ie}g(nt,lt);var $e=nt.prototype;return $e._start=function(){var Ie=this;if(void 0===this._strategy){if(this.state=F.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(me){Ie.state===F.Uploading&&Ie._request.create({file_id:me.md5}).then(function(De){Ie._strategy=De.type,"direct_upload"===De.type?Ie._direct(De,me):Ie._resume(De,me)},Ie._onError.bind(Ie))},this._onError.bind(this))}else this.state===F.Paused&&this._resume()},$e._processPart=function(Ie){var me=this;return this._hashPart(Ie.toString(),function(){var De,ke;return me.size>me._partSize?((ke=Ie*me._partSize)>me.size&&(ke=me.size),De=me._file.slice((Ie-1)*me._partSize,ke)):De=me._file,De},function(De){return R().hash(De).then(function(ke){return{md5:ke,part:Ie,size_bytes:De.size}})})},$e._resume=function(Ie,me){var De,ke=this;if(void 0===Ie&&(Ie=null),void 0===me&&(me=null),Ie)if("parts"===Ie.type){if(this._pending_parts=Ie.part_list,Ie.part_data){var Qe;for(var Ne in this._memoization=Ie.part_data,this._memoization)this._memoization.hasOwnProperty(Ne)&&((Qe=this._memoization[Ne]).path||this._pending_parts.push(Qe.part));this._pending_parts=this._pending_parts.sort().filter(function(at,Lt,Kt){return!Lt||at!==Kt[Lt-1]})}for(De=0;De<this._upload.parallel;De+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:me.md5,part:1}).then(function(at){for(ke._nextPartIndex(),ke._memoization[1].path=at.path,ke._setPart(at,me),De=1;De<ke._upload.parallel;De+=1)ke._nextPart()},function(at){this._restart(),this._onError(at)});else for(De=0;De<this._upload.parallel;De+=1)this._nextPart()},$e._generatePartManifest=function(){for(var Ie,me=[],De=1;De<1e4&&(Ie=this._memoization[De]);De+=1)me.push({path:Ie.path,etag:Ie.md5,size_bytes:Ie.size_bytes});return JSON.stringify(me)},$e._nextPart=function(){var Ie,me=this,De=this._nextPartIndex();(De-1)*this._partSize<this.size?this._processPart(De).then(function(ke){me.state===F.Uploading&&(Ie=me._getPartData(),me._request.signNextChunk(De,ke.md5,Ie.part_list,Ie.part_data).then(function(Qe){me._memoization[De].path=Qe.path,me._setPart(Qe,ke)},me._onError.bind(me)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===De?(this._finishing=!0,this._request.sign("finish").then(function(ke){ke.signature?(ke.data=me._generatePartManifest(),me._request.signedRequest(ke).then(me._finalise.bind(me),me._onError.bind(me))):me._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(De),(Ie=this._getPartData()).part_update=!0,this._request.updateStatus(Ie))},$e._setPart=function(Ie,me){var De=this;this._makeRequest(me,Ie).then(function(){De._completePart(me.part),De._nextPart()},this._onError.bind(this))},$e._direct=function(Ie,me){var De=this,ke=this._makeRequest(me,Ie);this._direct_upload=!0,ke.then(function(){return De._finalise()},this._onError.bind(this))},nt}(ae);We.lookup="OpenStackSwift"},6511:(At,ue,a)=>{"use strict";a.d(ue,{Of:()=>Fn,Rx:()=>Ct,tk:()=>ne,mn:()=>Ae,b2:()=>In,sM:()=>nn,Ay:()=>Sn});var t=a(4337),n=a(9928),f=a(5286),v=a(3586),b=a(4670),C=a(8728),g=a(5006),S=a(3004);class y{constructor(Pe,je){this.keySelector=Pe,this.flushes=je}call(Pe,je){return je.subscribe(new O(Pe,this.keySelector,this.flushes))}}class O extends S.gn{constructor(Pe,je,Te){super(Pe),this.keySelector=je,this.values=new Set,Te&&this.add((0,S.tS)(Te,new S.zA(this)))}notifyNext(){this.values.clear()}notifyError(Pe){this._error(Pe)}_next(Pe){this.keySelector?this._useKeySelector(Pe):this._finalizeNext(Pe,Pe)}_useKeySelector(Pe){let je;const{destination:Te}=this;try{je=this.keySelector(Pe)}catch(Ye){return void Te.error(Ye)}this._finalizeNext(je,Pe)}_finalizeNext(Pe,je){const{values:Te}=this;Te.has(Pe)||(Te.add(Pe),this.destination.next(je))}}var m=a(416);function E(){return(E=Object.assign||function(ut){for(var Pe=1;Pe<arguments.length;Pe++){var je=arguments[Pe];for(var Te in je)Object.prototype.hasOwnProperty.call(je,Te)&&(ut[Te]=je[Te])}return ut}).apply(this,arguments)}function u(ut,Pe){(null==Pe||Pe>ut.length)&&(Pe=ut.length);for(var je=0,Te=new Array(Pe);je<Pe;je++)Te[je]=ut[je];return Te}function M(ut,Pe){var je=typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(je)return(je=je.call(ut)).next.bind(je);if(Array.isArray(ut)||(je=function(Ye,Tt){if(Ye){if("string"==typeof Ye)return u(Ye,void 0);var Ut=Object.prototype.toString.call(Ye).slice(8,-1);return"Object"===Ut&&Ye.constructor&&(Ut=Ye.constructor.name),"Map"===Ut||"Set"===Ut?Array.from(Ye):"Arguments"===Ut||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut)?u(Ye,void 0):void 0}}(ut))||Pe&&ut&&"number"==typeof ut.length){je&&(ut=je);var Te=0;return function(){return Te>=ut.length?{done:!0}:{done:!1,value:ut[Te++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x={},D={};function A(ut,Pe,je){if(void 0===je&&(je=300),!(ut&&Pe&&Pe instanceof Function))throw new Error(ut?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");L(ut),x[ut]=setTimeout(function(){Pe(),delete x[ut]},je)}function L(ut){x[ut]&&(clearTimeout(x[ut]),delete x[ut])}function l(ut,Pe){$(ut),D[ut]=Pe}function $(ut){D&&D[ut]&&(D[ut]instanceof t.y?D[ut].unsubscribe():D[ut](),delete D[ut])}function R(ut,Pe,je,Te,Ye,Tt){if(void 0===Te&&(Te="debug"),void 0===Ye&&(Ye=!1),void 0===Tt&&(Tt="SVG VIEWER"),window.debug||Ye){var Ut,Ke,Fe=["color: #E91E63","color: #ffb300","color: default"];je?(Ut=console)[Te].apply(Ut,["%c["+Tt+"]%c["+ut+"] %c"+Pe].concat(Fe,[je])):(Ke=console)[Te].apply(Ke,["%c["+Tt+"]%c["+ut+"] %c"+Pe].concat(Fe))}}function F(ut){for(var Pe,je=ut.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),Te=M(je);!(Pe=Te()).done;){var Ye=Pe.value;je.splice(je.indexOf(Ye),1,[Ye.replace(/^\\/g,"")])}return je.join(" ")}function P(ut){return ut?ut instanceof MouseEvent?{x:ut.clientX,y:ut.clientY}:ut.touches&&ut.touches.length>0?{x:ut.touches[0].clientX,y:ut.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function V(ut,Pe,je,Te){var Ye,Tt;void 0===Te&&(Te=1);var Ut=null==(Ye=ut.element)?void 0:Ye.querySelector(".svg-viewer__svg-overlays");if(null!=(Tt=ut.element)&&Tt.querySelector("svg")&&Ut){var Ke=je||Ut?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(Pe.x-Ke.left)/Ke.width*Te)),y:Math.max(0,Math.min(1,(Pe.y-Ke.top)/Ke.height*Te))}}return R("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function X(ut,Pe){return Math.sqrt(Math.pow(ut.x-Pe.x,2)+Math.pow(ut.y-Pe.y,2))}function Q(ut,Pe,je){return{x:ut.x+(Pe.x-ut.x)*je,y:ut.y+(Pe.y-ut.y)*je}}function de(ut){if(!ut)return"";var Pe=E({},ut);for(var je in Pe)Pe[je]instanceof Object&&(Pe[je]=""+Pe[je]);return Pe}function se(ut){return ut<26?ut+65:ut<52?ut+71:ut<62?ut-4:62===ut?43:63===ut?47:65}var ce={top:0,left:0,bottom:0,right:0,height:0,width:0},z=function(){function ut(Pe){var je,Te,Ye,Tt,Ut,Ke,Fe;if(this.id=Pe.id||"map-"+Math.floor(999999*Math.random()),this.url=Pe.url||"local-"+m.VV.hashAsciiStr(Pe.svg_data||""),this.element=Pe.element||null,this.labels=Pe.labels||[],this.features=Pe.features||[],this.actions=Pe.actions||[],this.styles=Pe.styles||{},this.svg_data=Pe.svg_data||"",this.content_ratio=Pe.content_ratio||{x:1,y:1},this.zoom=Pe.zoom||1,this.center={x:null!=(je=null==(Te=Pe.center)?void 0:Te.x)?je:.5,y:null!=(Ye=null==(Tt=Pe.center)?void 0:Tt.y)?Ye:.5},this.rotate=Pe.rotate||0,this.ratio=Pe.ratio||1,this.svg_ratio=Pe.svg_ratio||1,this.max_resolution=Pe.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=Pe.focus||null,this.options=Pe.options||{},this.mappings=Pe.mappings||{},this.box={top:(Pe.box||ce).top,left:(Pe.box||ce).left,height:(Pe.box||ce).height,width:(Pe.box||ce).width},this.desired_zoom=Pe.desired_zoom||Pe.zoom||this.zoom,this.desired_center={x:(null==(Ut=Pe.desired_center)?void 0:Ut.x)||this.center.x,y:(null==(Ke=Pe.desired_center)?void 0:Ke.y)||this.center.y},this.updated_count=(Pe.updated_count||0)+1,this.zoom!==this.desired_zoom){var Ue=this.desired_zoom-this.zoom>=0?1:-1,we=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),rt=Math.round(we/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===we?this.zoom+Ue*we:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*rt,y:this.center.y+(this.desired_center.y-this.center.y)*rt}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var vt=this.desired_center.x-this.center.x>=0?1:-1,on=this.desired_center.y-this.center.y>=0?1:-1,rn=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Nt=rn/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+vt*rn,y:this.center.y+on*Nt}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(Fe=Pe?.use_gpu)||Fe}return ut.prototype.contains=function(Pe){this.svg_data.includes('id="'+Pe+'"')},ut}(),w=new n.t([]),j=new f.B7,W=j.pipe((0,C.p)(function(ut){return"resize"===ut}));function ne(ut){return w.getValue().find(function(Pe){return Pe.id===ut})}function ae(ut,Pe){var je=Ve();if(!((ut=je.find(function(Ye){return Ye.id===(ut instanceof z?ut.id:ut)}))instanceof z))return null;delete Pe.url;var Te=new z(E({},ut,Pe));return Me(Te),Te.needs_update&&A(ut.id+"_updating",function(){return ae(Te,{})},16),Te}function Ae(ut){return w.pipe((0,C.p)(function(Pe){return!!Pe.find(function(je){return je.id===ut})}),(0,g.T)(function(Pe){return Pe.find(function(je){return je.id===ut})}),function h(ut,Pe){return je=>je.lift(new y(ut,Pe))}())}function Me(ut){var Pe=Ve().filter(function(je){return je.id!==ut.id});Pe.push(ut),w.next(Pe)}function Ve(){return w.getValue()}var We,lt,nt,$e,Ie,me,De,ke=new n.t({}),Qe={},Ne=!1,at=!1,Lt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Kt=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],Ot=!1;function Se(ut,Pe,je){if(void 0===je&&(je=We),!Ne){at=!0;var Te=ne(ut);if(Te){var Ye=P(Pe),Tt={x:Math.max(0,Math.min(1,(Ye.x-je.x)/Te.box.width/Te.desired_zoom/Te.svg_ratio+Te.center.x)),y:Math.max(0,Math.min(1,(Ye.y-je.y)/Te.box.height/Te.desired_zoom/Te.svg_ratio+Te.center.y))};We=Ye,ae(Te,{center:Tt,desired_center:Tt})}}}function ve(){R("INPUT","Ending pinch/pan..."),L("pan_start"),Ne=!1,at=!1,$e&&window.removeEventListener("mousemove",$e),Ie&&window.removeEventListener("mouseup",Ie),me&&window.removeEventListener("touchmove",me),De&&window.removeEventListener("touchend",De),$e=Ie=me=De=lt=null}window.addEventListener("blur",function(){return ve()});var N=function(ut){try{return Promise.resolve(new Promise(function(Pe){_n[ut.id]||(_n[ut.id]=[]),_n[ut.id].push(Pe),A("resize-"+ut.id,function(){var je=ut.element;if(!je)throw new Error("No element set on viewer");var Te=je.querySelector(".svg-viewer__view-container"),Ye=je.querySelector(".svg-viewer__svg-overlays"),Tt=je.querySelector("#"+ut.id),Ut=je.querySelector(".svg-viewer"),Ke=je.querySelector(".svg-viewer__svg-output"),Fe=je.querySelector("iframe"),Ue=Ut?.getBoundingClientRect()||{},we=Te?.getBoundingClientRect()||{};if(!(Ye&&Ke&&Fe&&Te))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var rt,vt,on=Ue.height/Ue.width,rn=(null==(rt=Ke.firstElementChild)||null==(vt=rt.viewBox)?void 0:vt.baseVal)||{},Nt=rn.height/rn.width;Ke.firstElementChild&&(Ke.firstElementChild.style.width="200%");var fn=(Ue.width-32)*Math.min(1,on/Nt),wt={width:fn,height:fn*Nt};Ye.style.width=rn.width+"px",Ye.style.height=rn.height+"px",Te.style.width=rn.width+"px",Te.style.height=rn.height+"px",Fe.style.width=rn.width+"px",Fe.style.height=rn.height+"px",Fe.width=""+rn.width,Fe.height=""+rn.height;var Yt=Math.min(Ue.height/rn.height,Ue.width/rn.width),tn=Tt?.getBoundingClientRect(),cn=Ye?.getBoundingClientRect(),xn={x:1,y:1};tn&&cn&&(xn={x:cn.width*Yt*.975/tn.width,y:cn.height*Yt*.975/tn.height}),sn[ut.id]="";var ii=ae(ut,{ratio:wt.height/wt.width,svg_ratio:Yt,box:we,content_ratio:xn});return ii?(ut=ii,Promise.resolve(en(ut).catch(function(vi){return console.warn(vi),!1})).then(function(vi){vi&&(_n[ut.id].forEach(function(bi){return bi()}),_n[ut.id]=[])})):Promise.resolve()}catch(vi){return Promise.reject(vi)}})},100)}))}catch(Pe){return Promise.reject(Pe)}},ie={},Y={},ye={},Ze={},Ft={},sn={},_n={};function en(ut){return ie[ut.id]||(ie[ut.id]=new Promise(function(Pe){var je=requestAnimationFrame(function(){if(ie[ut.id]){var Te=ut.element;if(!Te)throw new Error("No element set on viewer");var Ye=Te.querySelector("style"),Tt="",Ut=Te.querySelector(".svg-viewer__render-container"),Ke="scale("+ut.zoom*ut.svg_ratio+")";if(!Ut||!Ye)throw new Error("Viewer is not setup yet.");var Fe=100*ut.zoom*ut.svg_ratio*(ut.center.x-.5),Ue=100*ut.zoom*ut.svg_ratio*(ut.center.y-.5);Ut.style.transform=(ut.use_gpu?"translate3d("+Fe+"%, "+Ue+"%, 0)":"translate("+Fe+"%, "+Ue+"%)")+" "+Ke+" rotate("+ut.rotate+"deg)",Tt+="#"+ut.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+ut.rotate+"deg) scale("+1/ut.zoom*(1/ut.svg_ratio)+"); }",Ye.innerHTML=Tt+="#"+ut.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+ut.rotate+"deg); height: 100%; width: 100%; }",function we(rt){try{if((JSON.stringify(E({},rt.styles))||"").localeCompare(sn[rt.id])){var vt=rt.element;if(!vt)throw new Error("No element set on viewer");var on=vt.querySelector(".svg-viewer__iframe");if(!on)throw new Error("No iframe created for viewer");if(!on.contentWindow)return on.onload=function(){setTimeout(function(){return we(rt)},50),setTimeout(function(){return we(rt)},500)},Promise.resolve();var rn={};rn["[empty"+Math.floor(999999*Math.random())+"]"]={};var Nt=pt(E({},rt.styles,rn));on.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Nt}),"*")}return Promise.resolve()}catch(fn){return Promise.reject(fn)}}(ut),function(we){var rt=JSON.stringify(we.focus);if(we.focus&&rt!==Qe[we.id]){var vt,on=Math.max(.5,Math.min(10,we.focus.zoom_level||1));vt="string"==typeof we.focus.location?function k(ut,Pe,je){var Te,Ye,Tt=null==(Te=ut.element)?void 0:Te.querySelector(".svg-viewer__svg-overlays"),Ut=null==(Ye=ut.element)?void 0:Ye.querySelector("svg"),Ke=Ut?.querySelector("#"+F(Pe));if(Ke&&Ut&&Tt){var Fe=je||Tt?.getBoundingClientRect()||{},Ue=Ke?.getBoundingClientRect()||{};return{x:(Ue.left+Ue.width/2-Fe.left)/Fe.width,y:(Ue.top+Ue.height/2-Fe.top)/Fe.height}}return R("DOM","Unable to find element with ID "+Pe,void 0,"warn"),{x:-1,y:-1}}(we,we.focus.location):we.focus.location,Qe[we.id]=rt;var rn={x:1-vt.x,y:1-vt.y};ae(we,{center:rn,desired_center:rn,zoom:on,desired_zoom:on})}}(ut),ht(ut),delete ie[ut.id],cancelAnimationFrame(je),Pe()}})})),ie[ut.id]}function ht(ut){var Pe,je,Te=null==(Pe=ut.element)?void 0:Pe.querySelector("svg");if(Object.keys(ut.mappings||{}).length){var Ye=null==(je=ut.element)?void 0:je.querySelector(".svg-viewer__svg-overlays");if(Ye&&Te){if(!Ye.getBoundingClientRect().width)return A(ut.id+"|render-overlays",function(){return ht(ut)},50);requestAnimationFrame(function(){(function(Tt){var Ut=Tt.labels.filter(function(ii){return!ii.zoom_level||ii.zoom_level<=Tt.zoom}),Ke=JSON.stringify(Ut);if(Ke!==ye[Tt.id]){var Fe,Ue=null==(Fe=Tt.element)?void 0:Fe.querySelector(".svg-viewer__svg-overlays");if(!Ue)return;Array.from(Ue.querySelectorAll("[label]")).filter(function(ii){return ii.parentNode}).forEach(function(ii){return Ue.removeChild(ii)});for(var we,rt=M(Ut);!(we=rt()).done;){var vt,on,rn,Nt=we.value,fn={x:0,y:0},wt="~Nothing~";"string"==typeof Nt.location?(fn=Tt.mappings[Nt.location]||fn,wt="#"+Nt.location):(null!=(vt=Nt.location)&&vt.y||null!=(on=Nt.location)&&on.x)&&(wt="loc-"+(fn=Nt.location).x+"-"+fn.y);var Yt=document.createElement("div");Yt.setAttribute("label","true"),Yt.classList.add("svg-viewer__svg-overlay-item"),Yt.classList.add("label"),Yt.style.top=100*fn.y+"%",Yt.style.left=100*fn.x+"%";var tn,cn=document.createElement("div"),xn=document.createElement("label");xn.classList.add("svg-viewer__label"),xn.setAttribute("for",wt),null!=(rn=Nt.css_class)&&rn.length&&(tn=xn.classList).add.apply(tn,Nt.css_class),Nt.z_index&&(Yt.style.zIndex=""+Nt.z_index),xn.textContent=Nt.content,cn.appendChild(xn),Yt.appendChild(cn),Ue.appendChild(Yt)}R("RENDER","Added "+Tt.labels.length+" labels to view."),ye[Tt.id]=Ke}})(ut),function(Tt){var Ut=JSON.stringify(Tt.actions.map(function(Nt){return E({},Nt,{callback:""})}));if(Ut!==Ft[Tt.id]){var Ke,Fe=null==(Ke=Tt.element)?void 0:Ke.querySelector(".svg-viewer__svg-overlays");if(!Fe)return;Array.from(Fe.querySelectorAll(".action-zone")).filter(function(Nt){return Nt.parentNode&&Fe.contains(Nt.parentNode)}).forEach(function(Nt){return Fe.removeChild(Nt)});for(var Ue,we=M(Tt.actions);!(Ue=we()).done;){var rt=Ue.value;if(rt.action&&rt.id&&"*"!==rt.id&&!1!==rt.zone){var vt=document.createElement("button");vt.id=""+rt.id;var on=Tt.mappings[rt.id]||{x:0,y:0},rn=Tt.mappings[rt.id]||{w:0,h:0};vt.classList.add("svg-viewer__svg-overlay-item"),vt.classList.add("action-zone"),vt.style.top=100*on.y+"%",vt.style.left=100*on.x+"%",(rn.w||rn.h)&&(vt.style.width=100*rn.w+"%",vt.style.height=100*rn.h+"%",vt.style.transform="translate(-50%, -50%)"),Fe.appendChild(vt)}}Ft[Tt.id]=Ut}}(ut),function(Tt){var Ut=JSON.stringify(Tt.features.map(function(tn){return E({},tn,{content:"",data:de(tn.data)})}));if(Ut!==Ze[Tt.id]){var Ke,Fe=null==(Ke=Tt.element)?void 0:Ke.querySelector(".svg-viewer__svg-overlays");if(!Fe)return console.log("Unable to get overlay element.");var Ue=Fe.querySelectorAll(".feature"),we=[];window.overlay_el=Fe,Ue.forEach(function(tn){if(tn.parentNode){var cn=tn.getAttribute("track-id");"none"!==cn&&Tt.features.find(function(xn){return xn.track_id===cn})?we.push(tn):Fe.removeChild(tn)}});for(var rt,vt=M(Tt.features);!(rt=vt()).done;){var on,rn,Nt=rt.value;if(Nt.content&&!we.includes(Nt.content)){var fn={x:0,y:0},wt={w:0,h:0},Yt=document.createElement("button");"string"==typeof Nt.location?(Yt.id=""+Nt.location,fn=Tt.mappings[Nt.location]||fn,(Nt.hover||Nt.full_size)&&(wt=Tt.mappings[Nt.location]||wt)):(null!=(on=Nt.location)&&on.y||null!=(rn=Nt.location)&&rn.x)&&(fn=Nt.location),(fn.x||fn.y)&&(Yt.classList.add("svg-viewer__svg-overlay-item"),Yt.setAttribute("feature","true"),Yt.setAttribute("track-id",""+(Nt.track_id||"none")),Yt.classList.add("feature"),Nt.z_index&&(Yt.style.zIndex=""+Nt.z_index),Nt.hover&&Yt.classList.add("svg-viewer__svg-overlay-item__hover"),Yt.style.top=100*fn.y+"%",Yt.style.left=100*fn.x+"%",wt.w||wt.h?(Yt.style.width=100*wt.w+"%",Yt.style.height=100*wt.h+"%"):(Yt.style.width="1%",Yt.style.height=1/Tt.ratio+"%"),Yt.style.transform="translate(-50%, -50%)",Nt.content instanceof Node&&Yt.appendChild(Nt.content),Fe.appendChild(Yt))}}R("RENDER","Added "+Tt.features.length+" features to view."),Ze[Tt.id]=Ut}}(ut)})}}}function pt(ut){var Pe="";for(var je in ut)if(ut[je]){var Te="";for(var Ye in ut[je])ut[je][Ye]&&(Te+=Ye+": "+ut[je][Ye]+"; ");Pe+="svg "+je.split(" ").map(function(Tt){return F(Tt)}).join(" ")+" { "+Te+" } "}return Pe}l("on_resize",W.subscribe(function(){for(var ut,Pe=function(){var Te=ut.value;try{A("resize-"+Te.id,function(){return N(Te)})}catch(Ye){console.warn(Ye)}},je=M(Ve());!(ut=je()).done;)Pe()}));var Ct=function(ut){try{var Pe=function(Ye){return l((je=new z(E({},ut,{svg_data:Ye}))).id+"-render",Ae(je.id).subscribe(function(Tt){return en(Tt).catch(function(Ut){return console.warn(Ut)})})),Me(je),Promise.resolve(function(Tt){try{var Ut,Ke,Fe=Tt.element;if(!Fe)throw new Error("No element set on viewer");var Ue=document.createElement("div"),we=document.createElement("style"),rt=document.createElement("div"),vt=document.createElement("div"),on=document.createElement("div"),rn=document.createElement("div"),Nt=document.createElement("iframe");vt.appendChild(on),vt.appendChild(rn),Ue.appendChild(we),Ue.appendChild(rt),rt.appendChild(vt),Ue.classList.add("svg-viewer"),Ue.id=Tt.id,we.id=Tt.id,Nt.id="svg-display",Nt.classList.add("svg-viewer__iframe"),rt.classList.add("svg-viewer__view-container"),vt.classList.add("svg-viewer__render-container"),rn.classList.add("svg-viewer__svg-overlays"),on.classList.add("svg-viewer__svg-output"),on.id="svg-output",on.innerHTML=Tt.svg_data;var fn=(null==(Ut=on.firstElementChild)||null==(Ke=Ut.viewBox)?void 0:Ke.baseVal)||{};rt.style.width=fn.width+"px",rt.style.height=fn.height+"px",rn.style.width=fn.width+"px",rn.style.height=fn.height+"px",rn.appendChild(Nt),Fe.appendChild(Ue);var wt=rt?.getBoundingClientRect()||{},Yt=ae(Tt,{box:wt});return Yt?(Tt=Yt,Promise.resolve(function tn(cn){return new Promise(function(xn){requestAnimationFrame(function(){var ii,vi=null==(ii=cn.element)?void 0:ii.querySelector("svg");if(!vi||!vi.clientWidth)return A(cn.id+"-setup",function(){return tn(cn).then(function(hi){return xn()})},100);var bi=Y[cn.url]||function(hi){if(!hi)return{};var Ai={},Mi=hi?.getBoundingClientRect()||{},ro=hi.querySelectorAll("[id]");return hi.id="svg-viewer-root",Ai["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},ro.forEach(function(po){var ki=po?.getBoundingClientRect()||{};Ai[po.id]={x:Math.floor((ki.left+ki.width/2-Mi.left)/Mi.width*1e5)/1e5,y:Math.floor((ki.top+ki.height/2-Mi.top)/Mi.height*1e5)/1e5,w:Math.floor(ki.width/Mi.width*1e5)/1e5,h:Math.floor(ki.height/Mi.height*1e5)/1e5}}),Ai}(vi);Y[cn.url]=bi,ae(cn,{mappings:bi}),vi.style.display="none",function(hi){try{var Ai=JSON.stringify(E({},hi.styles))||"";if(Ai.localeCompare(sn[hi.id])){var Mi,ro,po=hi.element;if(!po)throw new Error("No element set on viewer");var ki=po.querySelector(".svg-viewer__iframe"),Po=po.querySelector(".svg-viewer__svg-output");if(!ki)throw new Error("No iframe created for viewer");var uo=(null==(Mi=Po.firstElementChild)||null==(ro=Mi.viewBox)?void 0:ro.baseVal)||{},ni=""+hi.svg_data;ni=/<svg[^>]*width="[^>]*>/.test(ni)?ni:ni.replace("<svg",'<svg width="'+uo.width+'" height="'+uo.height+'" ');var fi=function(pi){for(var Oe=2,Je="",J=pi.length,he=0,ge=0;ge<J;ge++)ge>0&&4*ge/3%76==0&&(Je+="\r\n"),he|=pi[ge]<<(16>>>(Oe=ge%3)&24),2!==Oe&&pi.length-ge!=1||(Je+=String.fromCodePoint(se(he>>>18&63),se(he>>>12&63),se(he>>>6&63),se(63&he)),he=0);return Je.substr(0,Je.length-2+Oe)+(2===Oe?"":1===Oe?"=":"==")}(function(pi){for(var Oe,Je,J=pi.length,he=0,ge=0;ge<J;ge++){var ze;(Je=null!=(ze=pi.codePointAt(ge))?ze:0)>65536&&ge++,he+=Je<128?1:Je<2048?2:Je<65536?3:Je<2097152?4:Je<67108864?5:6}Oe=new Uint8Array(he);for(var yt=0,mn=0;yt<he;mn++){var Ln;(Je=null!=(Ln=pi.codePointAt(mn))?Ln:0)<128?Oe[yt++]=Je:Je<2048?(Oe[yt++]=192+(Je>>>6),Oe[yt++]=128+(63&Je)):Je<65536?(Oe[yt++]=224+(Je>>>12),Oe[yt++]=128+(Je>>>6&63),Oe[yt++]=128+(63&Je)):Je<2097152?(Oe[yt++]=240+(Je>>>18),Oe[yt++]=128+(Je>>>12&63),Oe[yt++]=128+(Je>>>6&63),Oe[yt++]=128+(63&Je),mn++):Je<67108864?(Oe[yt++]=248+(Je>>>24),Oe[yt++]=128+(Je>>>18&63),Oe[yt++]=128+(Je>>>12&63),Oe[yt++]=128+(Je>>>6&63),Oe[yt++]=128+(63&Je),mn++):(Oe[yt++]=252+(Je>>>30),Oe[yt++]=128+(Je>>>24&63),Oe[yt++]=128+(Je>>>18&63),Oe[yt++]=128+(Je>>>12&63),Oe[yt++]=128+(Je>>>6&63),Oe[yt++]=128+(63&Je),mn++)}return Oe}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+pt(E({},hi.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+ni+"</body></html>"));ki.src="data:text/html;base64,"+fi,sn[hi.id]=Ai}Promise.resolve()}catch(pi){return Promise.reject(pi)}}(cn),ht(cn),xn()})})}(Tt)).then(function(){(function(tn,cn){void 0===cn&&(cn=Lt);var xn=ke.getValue(),ii=tn.element;xn[tn.id]&&xn[tn.id].unsubscribe();for(var vi,bi=[],hi=function(){var Mi=vi.value;bi.push((0,v.R)(ii,Mi).pipe((0,g.T)(function(ro){return{id:tn.id,type:Mi,event:ro}})))},Ai=M(cn);!(vi=Ai()).done;)hi();xn[tn.id]=b.h.apply(void 0,bi).subscribe(function(Mi){var ro,ni,fi,po=Mi.id,ki=Mi.type,Po=Mi.event;switch(Kt.includes(ki)&&Po.preventDefault(),function(uo){var ni,fi=uo.type,pi=uo.event,Oe=ne(uo.id);if(Oe&&null!=(ni=Oe.actions)&&ni.length){var Je=Oe.actions.sort(function(J,he){return(he.priority||0)-(J.priority||0)}).find(function(J){var he;return J.action.includes(fi)&&("*"===J.id||J.id===(null==(he=pi.target)?void 0:he.id))});Je&&Je.callback(pi,V(Oe,P(pi)))}}(Mi),ki){case"touchstart":case"mousedown":(null==(ro=Po.touches)?void 0:ro.length)>=2?function(uo,ni){R("INPUT","Starting pinching..."),me&&window.removeEventListener("touchmove",me);var fi=ne(uo);if(Ne=!0,fi&&!fi.options.disable_zoom){var pi=[{x:ni.touches[0].clientX,y:ni.touches[0].clientY},{x:ni.touches[1].clientX,y:ni.touches[1].clientY}],Oe=pi.map(function(J){return V(fi,J)}),Je={x:(Oe[0].x+Oe[1].x)/2,y:(Oe[0].y+Oe[1].y)/2};lt={x:1-Je.x,y:1-Je.y},nt=X(pi[0],pi[1]),ni instanceof MouseEvent||(me=function(J){return J.touches.length>=2?function(he,ge,ze){void 0===ze&&(ze=nt);var yt=ne(he);if(yt&&!yt.options.disable_zoom){var mn=[{x:ge.touches[0].clientX,y:ge.touches[0].clientY},{x:ge.touches[1].clientX,y:ge.touches[1].clientY}],Ln=X(mn[0],mn[1]),ri=Math.max(.5,Math.min(10,yt.zoom*Ln/ze)),wi=ri!=yt.zoom?Q(yt.center,lt,1-yt.zoom/ri):yt.center;nt=Ln,ae(yt,{zoom:ri,center:wi,desired_zoom:ri,desired_center:wi})}}(uo,J,nt):""},window.addEventListener("touchmove",me))}}(po,Po):function(uo,ni){if(!Ne){R("INPUT","Starting panning...");var fi=ne(uo);$e&&window.removeEventListener("mousemove",$e),$e&&window.removeEventListener("mouseup",Ie),me&&window.removeEventListener("touchmove",me),me&&window.removeEventListener("touchend",De),fi&&!fi.options.disable_pan&&(We=P(ni),ni instanceof MouseEvent?($e=function(pi){return Se(uo,pi,We)},Ie=function(){return ve()},window.addEventListener("mousemove",$e),window.addEventListener("mouseup",Ie)):(me=function(pi){return Se(uo,pi,We)},De=function(){return ve()},window.addEventListener("touchmove",me),window.addEventListener("touchend",De)),A("pan_start",function(){return at=!0},200))}}(po,Po);break;case"touchend":case"mouseup":at||Ne||(ni=Po,(fi=ne(po))&&R("INPUT","Clicked:",V(fi,P(ni)))),ve();break;case"mousewheel":case"wheel":!function(uo,ni){var fi=ne(uo);if(fi){var pi=Math.min(10,Math.max(.5,fi.zoom*(1+(ni.deltaY>=0?-.02:.02)))),Oe=V(fi,P(ni));lt={x:1-Oe.x,y:1-Oe.y},A("clear_action_start",function(){return lt=null});var Je=pi!=fi.zoom?Q(fi.center,lt,1-fi.zoom/pi):fi.center;ae(fi,{zoom:pi,center:Je,desired_zoom:pi,desired_center:Je})}}(po,Po)}}),ke.next(xn)})(Tt),Ot||(window.addEventListener("resize",function(){j.next("resize")}),window.addEventListener("blur",function(){return ve()}),Ot=!0),N(Tt)})):Promise.resolve()}catch(tn){return Promise.reject(tn)}}(je)).then(function(){return je.id})},je=Ve().find(function(Ye){return Ye.url===ut.url});if(je)return Promise.resolve(je.id);var Te=ut.svg_data;return Promise.resolve(Te?Pe(Te):Promise.resolve(function(Ye){void 0===Ye&&(Ye="");try{var Tt=new Headers;if(Ye.startsWith(location.origin)||Ye.startsWith("/"))for(var Ut in $t)Tt.append(Ut,$t[Ut]);return Mt[Ye]?Promise.resolve(Mt[Ye]):Promise.resolve(fetch(Ye,{headers:Tt}).catch(function(Ke){return R("SVG VIEWER","Failed to load map",Ke,"error"),{text:function(){return Promise.resolve("")}}})).then(function(Ke){return Promise.resolve(Ke.text()).then(function(Fe){return Mt[Ye]=Fe,Fe})})}catch(Ke){return Promise.reject(Ke)}}(ut.url)).then(Pe))}catch(Ye){return Promise.reject(Ye)}},Mt={},$t={};function nn(ut){for(var Pe in ut)$t[Pe.toLowerCase()]=ut[Pe]}function Sn(ut,Pe){return ae(ut,Pe)}function In(ut){var Pe,je=ne(ut);if(je){var Te,Ye,Tt,Ut=null==(Pe=je.element)?void 0:Pe.querySelector(".svg-viewer");Ut&&(je.element.removeChild(Ut),Te=je,Ye=Ve().filter(function(Ke){return Ke.id!==Te.id}),w.next(Ye),Tt=""+ut,Object.keys(D).filter(function(Ke){return Ke.includes(Tt)}).forEach(function(Ke){return $(Ke)}))}}function Fn(){var ut=document.getElementById("svg-viewer-global");ut||((ut=document.createElement("style")).id="svg-viewer-global",ut.innerHTML=$n,document.head.appendChild(ut),R("Styles","Added global viewer styles to document"))}var $n="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},5157:(At,ue,a)=>{"use strict";function m(H,ee,Le,ct){return new(Le||(Le=Promise))(function(Wt,vn){function Pn(Yn){try{Bn(ct.next(Yn))}catch(Mo){vn(Mo)}}function Ei(Yn){try{Bn(ct.throw(Yn))}catch(Mo){vn(Mo)}}function Bn(Yn){Yn.done?Wt(Yn.value):function Bt(Wt){return Wt instanceof Le?Wt:new Le(function(vn){vn(Wt)})}(Yn.value).then(Pn,Ei)}Bn((ct=ct.apply(H,ee||[])).next())})}a.d(ue,{cor:()=>Qs,Pdm:()=>io,kMc:()=>bl,Kz4:()=>Li,kup:()=>No,jv5:()=>we,L2z:()=>Vi,omv:()=>Ye,yHY:()=>rr,JtY:()=>fs,f_4:()=>pm,XTx:()=>Rr,vWy:()=>Ws,TMs:()=>ho,sc7:()=>ir,WsZ:()=>Qi,rig:()=>Ar,XYg:()=>Ds,F6F:()=>gs,bEY:()=>Ls,yJg:()=>Ys,Pac:()=>Dt,smE:()=>ic,BbB:()=>pn,Kfl:()=>dn,n1$:()=>xh,smM:()=>Ss,Be_:()=>Xo,BCG:()=>lo,mjH:()=>Xs,bpY:()=>bn,V4n:()=>Rn,VLL:()=>rc,ShT:()=>Hn,D58:()=>wn,TKu:()=>cp}),"function"==typeof SuppressedError&&SuppressedError;var W=a(4526),ne=a(4421),ye=a(5817),Ze=a(4337),Ft=a(4787);function sn(H,ee={}){const{selector:Le}=ee,ct=function Me(H,ee){var Le={};for(var ct in H)Object.prototype.hasOwnProperty.call(H,ct)&&ee.indexOf(ct)<0&&(Le[ct]=H[ct]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var Bt=0;for(ct=Object.getOwnPropertySymbols(H);Bt<ct.length;Bt++)ee.indexOf(ct[Bt])<0&&Object.prototype.propertyIsEnumerable.call(H,ct[Bt])&&(Le[ct[Bt]]=H[ct[Bt]])}return Le}(ee,["selector"]);return new ye.c(Bt=>{const Wt=new AbortController,vn=Wt.signal;let Pn=!0,Ei=!1;const Bn=new Ze.y;let Yn;if(Bn.add(()=>{Ei=!0,Pn&&Wt.abort()}),ct){if(ct.signal)if(ct.signal.aborted)Wt.abort();else{const Mo=ct.signal,Ao=()=>{vn.aborted||Wt.abort()};Mo.addEventListener("abort",Ao),Bn.add(()=>Mo.removeEventListener("abort",Ao))}Yn=Object.assign({},ct,{signal:vn})}else Yn={signal:vn};return fetch(H,Yn).then(Mo=>{Le?Bn.add((0,Ft.H)(Le(Mo)).subscribe(Ao=>Bt.next(Ao),Ao=>{Pn=!1,Ei||Bt.error(Ao)},()=>{Pn=!1,Bt.complete()})):(Pn=!1,Bt.next(Mo),Bt.complete())}).catch(Mo=>{Pn=!1,Ei||Bt.error(Mo)}),Bn})}var _n=a(8728),Rt=a(9493),en=a(9090),ht=a(5286),pt=a(3004);class Mt{constructor(ee,Le){this.notifier=ee,this.source=Le}call(ee,Le){return Le.subscribe(new $t(ee,this.notifier,this.source))}}class $t extends pt.gn{constructor(ee,Le,ct){super(ee),this.notifier=Le,this.source=ct}error(ee){if(!this.isStopped){let Le=this.errors,ct=this.retries,Bt=this.retriesSubscription;if(ct)this.errors=void 0,this.retriesSubscription=void 0;else{Le=new ht.B7;try{const{notifier:Wt}=this;ct=Wt(Le)}catch(Wt){return super.error(Wt)}Bt=(0,pt.tS)(ct,new pt.zA(this))}this._unsubscribeAndRecycle(),this.errors=Le,this.retries=ct,this.retriesSubscription=Bt,Le.next(ee)}}_unsubscribe(){const{errors:ee,retriesSubscription:Le}=this;ee&&(ee.unsubscribe(),this.errors=void 0),Le&&(Le.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:ee}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=ee,this.source.subscribe(this)}}var nn=a(8456),Sn=a(993),In=a(1299),Fn=a(9928),$n=a(5006),ut=a(416);function Pe(H,ee,Le,ct="debug",Bt){if(window.debug){const vn=["color: #0288D1",`color:${Bt||"#009688"}`,"color: default"];Le?je()?console[ct](`%c[PlaceOS]%c[${H}] %c${ee}`,...vn,Le):console[ct](`[PlaceOS][${H}] ${ee}`,Le):je()?console[ct](`%c[PlaceOS]%c[${H}] %c${ee}`,...vn):console[ct](`[PlaceOS][${H}] ${ee}`)}}function je(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function Te(){var H,ee,Le,ct,Bt,Wt;const vn=null!==(H=window.location)&&void 0!==H&&H.hash?null===(ee=window.location)||void 0===ee?void 0:ee.hash.slice(1):(null===(Le=window.location)||void 0===Le?void 0:Le.href.split("#")[1])||"";let Pn=null!==(ct=window.location)&&void 0!==ct&&ct.search?null===(Bt=window.location)||void 0===Bt?void 0:Bt.search.slice(1):(null===(Wt=window.location)||void 0===Wt?void 0:Wt.href.split("?")[1])||"",Ei={};if(vn)if(vn.indexOf("?")>=0){const Yn=vn.split("?");Ei=Ye(Yn[0]),Pn||(Pn=Yn[1])}else Ei=Ye(vn);let Bn={};return Pn&&(Bn=Ye(Pn)),Object.assign(Object.assign({},Ei),Bn)}function Ye(H){const ee={},Le=H.split("&");for(const ct of Le){const Bt=ct.split("=");Bt[1]&&(ee[decodeURIComponent(Bt[0])]=decodeURIComponent(Bt[1]))}return ee}const Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Ke(H){var ee,Le,ct,Bt,Wt;const vn=((null===(ee=window.location)||void 0===ee?void 0:ee.hash)||"").replace(new RegExp(`${H}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),Pn=((null===(Le=window.location)||void 0===Le?void 0:Le.search)||"").replace(new RegExp(`${H}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(ct=window.history)&&void 0!==ct&&ct.replaceState&&(null===(Bt=window.history)||void 0===Bt||Bt.replaceState(null,"",`${null===(Wt=window.location)||void 0===Wt?void 0:Wt.pathname}${vn}${Pn}`))}function we(H,ee){for(const Le in H)H.hasOwnProperty(Le)&&ee.indexOf(H[Le])>=0&&delete H[Le];return H}class rn{abort(){Pe("Stub","Aborted")}}function Nt(H){let ee="";if(H)for(const Le in H)H.hasOwnProperty(Le)&&null!=H[Le]&&(ee+=`${ee?"&":""}${Le}=${encodeURIComponent(H[Le])}`);return ee}const fn={};function cn(H,ee,Le=300){if(!(H&&ee&&ee instanceof Function))throw new Error(H?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");xn(H),fn[H]=setTimeout(()=>{ee(),delete fn[H]},Le)}function xn(H){fn[H]&&(clearTimeout(fn[H]),delete fn[H])}const Ai={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var Mi=a(6299),ro=a(3368),po=a(9255),ki=a(1113);let fi,pi,ni={};const Oe={};let Je="",J="";const he=new Fn.t(""),ge=new Fn.t("");let ze="/api/engine/v2";const yt=new Fn.t(!1),mn=yt.asObservable();let Ln=0;function ri(){var H,ee;return`${ni.secure||(null===(H=window.location)||void 0===H?void 0:H.protocol.indexOf("https"))>=0?"https:":"http:"}//${ni.host||(null===(ee=window.location)||void 0===ee?void 0:ee.host)}${wi()}`}function wi(){return"ACA Engine"===ni.version?"/control/api":ze}function Vi(){return Je}function lo(H,ee=!0){fi.setItem(`${Je}_x-api-key`,`${H}`),fi.setItem("trusted",`${ee}`),function no(H,ee=(0,ro.L)(new Date,2).valueOf()){ni.ignore_api_key&&"x-api-key"===H||(fi.setItem(`${Je}_expires_at`,`${ee}`),fi.setItem(`${Je}_access_token`,H))}("x-api-key",(0,Mi.e)(new Date,5).valueOf())}function Li(){return xr("x-api-key",!1)||""}function Hn(H=!0){if(ni.mock)return"mock-token";if(!fi)return"";if(Li()&&!ni.ignore_api_key)return"x-api-key";const ee=fi.getItem(`${Je}_expires_at`)||"",Le=he.getValue();return(0,po.Y)(+ee,new Date)&&(Pe("Auth","Token expired. Requesting new token..."),Rr(),Oe.load_authority||(Ln+=1,cn("re-authorise",()=>Xr().catch(ct=>Pe("Auth",`Failed to get token: ${ct}`)),200*Math.min(20,Ln))),!H)?"":Le||fi.getItem(`${Je}_access_token`)||""}function Xo(){return ge.getValue()||fi.getItem(`${Je}_refresh_token`)||""}function Bi(){var H;return ni.host||(null===(H=window.location)||void 0===H?void 0:H.host)}function No(){return pi}function ir(){return yt.getValue()}function ho(){return!!ni.mock}function Ds(){return mn}function zs(){return"true"===xr("trust")||"true"===xr("trusted")}function Ws(){return!!Li()&&!ni.ignore_api_key||"true"===xr("fixed_device")}function xr(H,ee=!0){let ct=Te()[H];if(fi){const Bt=`${Vi()}_${H}`;ct=ct||fi.getItem(Bt)||fi.getItem(H)||"",ee&&fi.setItem(Bt,`${ct}`)}return ct}function Xs(H){var ee;return ni=H||ni,ni.token_header=null!==(ee=ni.token_header)&&void 0!==ee?ee:function vt(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=rn),fi="session"===ni.storage?sessionStorage:localStorage,Je=ut.VV.hashStr(ni.redirect_uri,!1),Sr()}function Wr(){return Pe("Auth","Refreshing authorty."),pi=void 0,Sr()}function Rr(){Pe("Auth","Invalidating tokens."),fi.removeItem(`${Je}_access_token`),fi.removeItem(`${Je}_expires_at`),he.getValue()&&he.next("")}function Xr(H,ee=pi){return Oe.authorise||(Oe.authorise=new Promise((Le,ct)=>{if(!ee)return delete Oe.authorise,ct("Authority is not loaded");Pe("Auth","Authorising user...");const Bt=()=>{if(Hn(!1))Pe("Auth","Valid token found."),delete Oe.authorise,Le(Hn());else{const Wt=[()=>{Pe("Auth","Successfully generated token."),Le(Hn()),delete Oe.authorise},()=>{Pe("Auth","Failed to generate token."),ct("Failed to generate token"),setTimeout(()=>delete Oe.authorise,200)}];ni&&"password"===ni.auth_type?(Pe("Auth","Logging in with credentials."),function ls(H){return Vo(function Gn(H){return`${H.token_uri||"/auth/token"}?${Nt({grant_type:"password",client_id:Je,client_secret:H.client_secret,redirect_uri:H.redirect_uri,authority:pi?.id,scope:H.scope,username:H.username,password:H.password})}`}(H))}(ni).then(...Wt),Ln=0):J||Xo()?(Pe("Auth","Generating token with "+(J?"code":"refresh token")),qo().then(...Wt),Ln=0):ee.session?(Pe("Auth","Users has session. Authorising application..."),function Hs(H){return m(this,void 0,void 0,function*(){var ee;const Le=function ot(H){const ee=function Yr(){const H=function Ut(H=40){let ee="";for(let Le=0;Le<H;Le++)ee+=Tt.charAt(Math.floor(Math.random()*Tt.length));return ee}();return fi.setItem(`${Je}_nonce`,H),H}();H=H?`${ee};${H}`:ee;const Le=!!ni&&(ni.auth_uri||"").indexOf("?")>=0,ct=(ni?ni.auth_uri:null)||"/auth/oauth/authorize",Bt=zs()||"auth_code"===ni.auth_type?"code":"token";let Wt=`${ct}${Le?"&":"?"}response_type=${encodeURIComponent(Bt)}&client_id=${encodeURIComponent(Je)}&state=${encodeURIComponent(H)}&redirect_uri=${encodeURIComponent(ni.redirect_uri)}&scope=${encodeURIComponent(ni.scope)}`;if("auth_code"===ni.auth_type){const{challenge:vn,verify:Pn}=function Gt(H=43){const ee=new Array(H).fill(0).map(()=>jt[Math.floor(Math.random()*jt.length)]).join(""),Le=Sn.Kp(Sn.Cw(ee));return{challenge:ee,verify:Sn.if(In.hash(Le)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${Je}_challenge`,vn),Wt+="&code_challenge_method=S256",Wt+=`&code_challenge=${Pn}`}return Wt}(H);if(ni.use_iframe)return function Hr(H){return Oe.iframe_auth||(Oe.iframe_auth=new Promise((ee,Le)=>{Pe("Auth","Authorizing in an iFrame...");const ct=document.createElement("iframe");ct.style.position="absolute",ct.style.top="0",ct.style.left="0",ct.style.height="1px",ct.style.width="1px",ct.style.zIndex="-1",ct.id="place-authorize",ct.src=`${H}`;const Bt=Wt=>{var vn;if(Wt.origin===(null===(vn=window.location)||void 0===vn?void 0:vn.origin)&&"place-os"===Wt.data.type){const Pn=Wt.data;if(Pe("Auth","Received credentials from iFrame..."),document.body.removeChild(ct),xn("iframe_auth"),window.removeEventListener("message",Bt),delete Oe.iframe_auth,Pn.token)return ee(),go(Object.assign({access_token:Pn.token},Pn));J=Pn.code||"",qo().then(Ei=>ee(Ei),Ei=>Le(Ei))}};cn("iframe_auth",()=>{Pe("Auth","Unable to resolve iFrame after 15 seconds..."),Le()},15e3),window.addEventListener("message",Bt),ct.onerror=Wt=>{Pe("Auth","iFrame error.",Wt),delete Oe.iframe_auth,Le()},document.body.appendChild(ct)})),Oe.iframe_auth}(Le);null===(ee=window.location)||void 0===ee||ee.assign(Le)})}(H).then(...Wt)):(Pe("Auth","No user session"),ur(ee),ct("No user session"),setTimeout(()=>delete Oe.authorise,200))}};(function Xt(){return Oe.check_token||(Oe.check_token=new Promise((H,ee)=>m(this,void 0,void 0,function*(){Hn()?(Pe("Auth","Valid token found."),H(Hn())):(Pe("Auth","No token. Checking URL for auth credentials..."),(yield function Cn(){return Oe.check_params||(Oe.check_params=new Promise(H=>{Pe("Auth","Checking for auth parameters...");let ee=Te();if((!ee||Object.keys(ee).length<=0)&&sessionStorage&&(ee=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),ee&&(ee.code||ee.access_token||ee.refresh_token)){ee.code&&(J=ee.code,Ke("code")),ee.refresh_token&&(fi.setItem(`${Je}_refresh_token`,ee.refresh_token),Ke("refresh_token"));const Le=fi.getItem(`${Je}_nonce`)||"",ct=(ee.state||"").split(";");Ke("state"),Ke("token_type"),Le===ct[0]?(go(ee),H(!!ee.access_token)):H(!1)}else H(!1);cn("check_params_promise",()=>delete Oe.check_params,50)})),Oe.check_params}())?H(!0):ee()),delete Oe.check_token}))),Oe.check_token})().then(Bt,Bt)})),Oe.authorise}function Ar(){const H=()=>{for(let Le=0;Le<fi.length;Le++){const ct=fi.key(Le);ct&&ct.indexOf(Je)>=0&&fi.removeItem(ct)}const ee=pi?pi.logout_url:"/logout";setTimeout(()=>{var Le;return null===(Le=window.location)||void 0===Le?void 0:Le.assign(ee)},300),yt.next(!1)};(function ji(){return Oe.revoke_token||(Oe.revoke_token=new Promise((H,ee)=>{Pe("Auth","Revoking token...");const ct=Bt=>{Pe("Auth","Error revoking token.",Bt),ee(Bt),delete Oe.revoke_token};sn(`${ni.token_uri||"/auth/token"}?token=${Hn()}`,{method:"POST"}).subscribe(Bt=>{if(!Bt.ok)return ct(Bt);Pe("Auth","Successfully revoked token."),he.next(""),ge.next(""),fi.removeItem(`${Je}_access_token`),fi.removeItem(`${Je}_refresh_token`),H(),delete Oe.revoke_token},ct)})),Oe.revoke_token})().then(H,H)}function Sr(H=0){return Oe.load_authority||(Oe.load_authority=new Promise(ee=>{var Le;if(yt.next(!1),ni.mock)return pi=Ai,Pe("Auth","System in mock mode"),yt.next(!0),void ee();Pe("Auth",`Fixed: ${Ws()} | Trusted: ${zs()}`),Pe("Auth","Loading authority...");const ct=ni.secure||(null===(Le=window.location)||void 0===Le?void 0:Le.protocol.indexOf("https"))>=0,Bt=Wt=>{Pe("Auth",`Failed to load authority(${Wt})`),yt.next(!1),cn("load_authority",()=>{delete Oe.load_authority,Sr(H).then(vn=>ee())},300*Math.min(20,++H))};sn(`${ct?"https:":"http:"}//${Bi()}/auth/authority`,{credentials:"same-origin"}).subscribe(Wt=>m(this,void 0,void 0,function*(){if(!Wt.ok)return Bt(yield Wt.text().catch(Pn=>Pn));pi=yield Wt.json(),ze=/[2-9]\.[0-9]+\.[0-9]+/g.test(pi.version||"")?"/api/engine/v2":"/control/api",Pe("Auth","Loaded authority.",[],"group"),pi&&(Pe("Auth",`Name: ${pi.name}`),Pe("Auth",`Version: ${pi.version}`),Pe("Auth",`Domain: ${pi.domain}`),Pe("Auth",`Session: ${pi.session}`),Pe("Auth",`Production: ${pi.production}`),Pe("Auth",`Config Keys: ${Object.keys(pi.config||{}).length}`)),Pe("Auth","",[],"groupEnd");const vn=()=>{yt.next(!0),Pe("Auth","Application set online."),ee()};delete Oe.load_authority,Xr("").then(vn,vn)}),Bt)})),Oe.load_authority}let as=!1;function ur(H){var ee,Le;if(!1!==ni.handle_login&&!as){Pe("Auth","Redirecting to login page...");const ct=null===(ee=H.login_url)||void 0===ee?void 0:ee.replace("{{url}}",encodeURIComponent(null===(Le=window.location)||void 0===Le?void 0:Le.href));throw setTimeout(()=>{var Bt;return null===(Bt=window.location)||void 0===Bt?void 0:Bt.assign(ct)},300),as=!0,new Error("Redirecting to login page...")}Pe("Auth","Login being handled locally."),delete Oe.authorise}const jt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function qo(){return Vo(...function Mn(){let ee=(ni.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(Je)}`,Le="";if(ee+=`&redirect_uri=${encodeURIComponent(ni.redirect_uri)}`,Xo()){ee+=`&refresh_token=${encodeURIComponent(Xo())}`,ee+="&grant_type=refresh_token";const ct=ee.split("?");ee=ct[0],Le=ct[1]}else{ee+=`&code=${encodeURIComponent(J)}`,ee+="&grant_type=authorization_code";const ct=sessionStorage.getItem(`${Je}_challenge`);ct&&(ee+=`&code_verifier=${ct}`,sessionStorage.removeItem(`${Je}_challenge`)),J=""}return[ee,Le]}())}function Vo(H,ee=""){return Oe.generate_tokens||(Oe.generate_tokens=new Promise((Le,ct)=>{Pe("Auth","Generating new token...");const Bt=Wt=>{Pe("Auth","Error generating new tokens.",Wt),fi.removeItem(`${Je}_refresh_token`),ge.next(""),ct(),delete Oe.generate_tokens};sn(H,{method:"POST",body:ee,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(Wt=>m(this,void 0,void 0,function*(){if(!Wt.ok)return Bt(Wt);go(yield Wt.json()),Le(),delete Oe.generate_tokens}),Bt)})),Oe.generate_tokens}function go(H){const ee=function Po(H,ee){return(0,ki.A)(H,1e3*ee)}(new Date,Math.max(60,parseInt(H.expires_in,10)-300));Pe("Auth","Tokens generated storing..."),zs()&&(H.access_token&&(fi.setItem(`${Je}_access_token`,H.access_token),Ke("access_token")),H.refresh_token&&(fi.setItem(`${Je}_refresh_token`,H.refresh_token),Ke("refresh_token"))),H.expires_in&&(fi.setItem(`${Je}_expires_at`,`${ee.valueOf()}`),Ke("expires_in")),yt.next(!0),he.next(H.access_token||""),ge.next(H.refresh_token||"")}var hr=a(8002);const fr={};function Fr(H,ee,Le,ct=fr){const Bt=function ei(H,ee,Le=fr){const Bt=ee.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),Wt=Object.keys(Le).reduce((vn,Pn)=>(0===Pn.indexOf(`${H}|`)&&vn.push(Le[Pn]),vn),[]);for(const vn of Wt)if(vn.path_structure.length===Bt.length){let Pn=!0;for(let Ei=0;Ei<vn.path_structure.length;Ei++)if(!vn.path_structure[Ei]&&vn.path_parts[Ei]!==Bt[Ei]){Pn=!1;break}if(Pn)return vn}return null}(H,ee,ct);if(Bt){const Wt=function Os(H,ee,Le){const ct=H.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Bt=ct[0].replace(/^\//g,""),vn=Ye(ct[1]||""),Pn=Bt.split("/"),Ei={};for(const Yn of ee.path_structure)Yn&&(Ei[Yn]=Pn[ee.path_structure.indexOf(Yn)]);const Bn={url:H,path:ee.path,method:ee.method,metadata:ee.metadata,route_params:Ei,query_params:vn,body:Le};return Pe("HTTP(M)",`MATCHED ${Bn.method}:`,Bn),Bn}(ee,Bt,Le);return function ms(H,ee){const Le=H.callback?H.callback(ee):H.metadata,ct=H.delay_variance||100,Bt=H.delay||300,Wt=Math.floor(Math.random()*ct-ct/2)+Bt;return Pe("HTTP(M)",`RESP ${ee.method}:`,[ee.url,Le]),(0,Ft.H)([Le]).pipe((0,hr.c)(Math.max(200,Wt)))}(Bt,Wt)}return null}const ca={};function fs(H,ee,Le=As){return ee||(ee={response_type:"json"}),Le("GET",H,Object.assign({response_type:"json"},ee))}function Ls(H,ee,Le,ct=As){return Le||(Le={response_type:"json"}),ct("POST",H,Object.assign({body:ee,response_type:"json"},Le))}function Ys(H,ee,Le,ct=As){return Le||(Le={response_type:"json"}),ct("PUT",H,Object.assign({body:ee,response_type:"json"},Le))}function gs(H,ee,Le,ct=As){return Le||(Le={response_type:"json"}),ct("PATCH",H,Object.assign({body:ee,response_type:"json"},Le))}function rr(H,ee,Le=As){return ee||(ee={response_type:"void"}),Le("DELETE",H,Object.assign({response_type:"void"},ee))}function Qr(H,ee){return m(this,arguments,void 0,function*(Le,ct,Bt=ca){if(Le.headers){const Wt={};Le.headers.forEach?Le.headers.forEach((vn,Pn)=>Wt[Pn.toLowerCase()]=vn):Object.keys(Le.headers).forEach(vn=>Wt[vn.toLowerCase()]=Le.headers[vn]),Bt[Le.url||""]=Wt}switch(ct){case"json":return yield Le.json().catch(()=>({}));case"text":return yield Le.text()}})}const To=()=>{Rr(),Wr().then(()=>null,()=>setTimeout(()=>To(),1e3))};function As(H,ee,Le,ct=ho,Bt=Fr,Wt=Qr){if(ct()){const vn=Bt(H,ee,Le?.body);if(vn)return vn}return Le.headers=Le.headers||{},Le.headers["Content-Type"]="application/json",function Rs(){return he.pipe((0,$n.T)(H=>!!function Ho(){return!!Hn()}()))}().pipe((0,_n.p)(vn=>vn),(0,Rt.s)(1),(0,en.n)(vn=>("x-api-key"===Hn()?Le.headers["X-API-Key"]=Li():Le.headers.Authorization=`Bearer ${Hn()}`,sn(ee,Object.assign(Object.assign({},Le),{body:JSON.stringify(Le.body),method:H,credentials:"same-origin"})))),(0,en.n)(vn=>vn.ok?Wt(vn,Le.response_type):(0,W.$)(vn)),function Ct(H){return ee=>ee.lift(new Mt(H,ee))}(vn=>vn.pipe((0,nn.ZZ)((Pn,Ei)=>511===Pn.status?(ur(No()),(0,ne.of)(Pn)):Ei+1>4||401!==Pn.status?(0,W.$)(Pn||{}):(Pe("HTTP","Auth error",Pn),To(),(0,ne.of)(Pn))))))}let Xi={},eo={},Et="";const On=H=>H;function Dt(H){const{query_params:ee,fn:Le,path:ct,endpoint:Bt}=H,Wt=Nt(ee),vn=`${Bt||ri()}${ct?"/"+ct:""}${Wt?"?"+Wt:""}`;return fs(vn).pipe((0,$n.T)(Pn=>{const Ei=function vo(H,ee,Le){const ct=function Cs(H,ee=ca){return ee[H]||{}}("/"===H[0]?`${location.origin}${H}`:H),Bt={total:0,next:null};if(ct&&ct["x-total-count"]){const Wt=+(ct["x-total-count"]||0);(ee.length<2||ee.length<12&&ee.indexOf("offset=")>=0)&&(Xi[Le]=Wt),eo[Le]=Wt,Bt.total=Wt}return ct&&ct.link&&(Et=function Ue(H){if(0===H.length)throw new Error("Input must not be of zero length");const ee=H.split(","),Le={};for(const ct of ee){const Bt=ct.split(";");if(2!==Bt.length)throw new Error("Section could not be split on ';'");const Wt=Bt[0].replace(/<(.*)>/,"$1").trim();Le[Bt[1].replace(/rel="(.*)"/,"$1").trim()]=Wt}return Le}(ct.link||"").next,Bt.next=Ye(Et.split("?")[1])),Bt}(vn,Wt,ct);return{total:Ei.total||0,next:Ei.next?()=>Dt({query_params:Ei.next,fn:Le,endpoint:Bt,path:ct}):null,data:Pn&&Pn instanceof Array?Pn.map(Bn=>(Le||On)(Bn)):!Pn||Pn instanceof Array||!Pn.results?[]:Pn.results.map(Bn=>Bn)}}))}function Xe(H){const{query_params:ee,id:Le,path:ct,fn:Bt}=H,Wt=Nt(ee);return fs(`${ri()}/${ct}/${Le}${Wt?"?"+Wt:""}`).pipe((0,$n.T)(Pn=>(Bt||On)(Pn)))}function Kn(H){const{id:ee,query_params:Le,form_data:ct,method:Bt,path:Wt,fn:vn}=H,Pn=Nt(Object.assign(Object.assign({},Le),{version:ct.version||0}));return("put"===Bt?Ys:gs)(`${ri()}/${Wt}/${ee}${Pn?"?"+Pn:""}`,ct).pipe((0,$n.T)(Bn=>(vn||On)(Bn)))}class Hi{constructor(ee={}){this.id=ee.id||"",this.name=ee.name||"",this.created_at=ee.created_at||0,this.updated_at=ee.updated_at||0,this.version=ee.version||0}toJSON(){const ee=Object.assign({},this);return ee.version=this.version,delete ee.created_at,we(ee,[void 0,null,""])}}var Qs=function(H){return H[H.None=0]="None",H[H.Support=1]="Support",H[H.Admin=2]="Admin",H[H.NeverDisplay=3]="NeverDisplay",H}(Qs||{});class Ma extends Hi{get value(){return this.settings_string}constructor(ee={}){super(ee),this.parent_id=ee.parent_id||"",this.updated_at=ee.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=ee.settings_string||"",this.encryption_level=ee.encryption_level||Qs.None,this.keys=ee.keys||[],this.modified_by_id=ee.modified_by_id||""}}var Ta=function(H){return H[H.SSH=0]="SSH",H[H.Device=1]="Device",H[H.Service=2]="Service",H[H.Websocket=3]="Websocket",H[H.Logic=99]="Logic",H}(Ta||{});class co extends Hi{constructor(ee={}){var Le;super(ee),this.description=ee.description||"",this.module_name=ee.module_name||"",this.role=null!==(Le=ee.role)&&void 0!==Le?Le:Ta.Logic,this.default_uri=ee.default_uri||"",this.default_port=ee.default_port||1,this.ignore_connected=ee.ignore_connected||!1,this.class_name=ee.class_name||"",this.repository_id=ee.repository_id||"",this.file_name=ee.file_name||"",this.commit=ee.commit||"",this.update_available=ee.update_available||!1,this.update_info=ee.update_info,this.settings=ee.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ct in Qs)!isNaN(Number(ct))&&!this.settings[ct]&&(this.settings[ct]=new Ma({parent_id:this.id,encryption_level:+ct}))}}class io{constructor(ee={}){this.id=ee.id||ee.parent_id||"",this.name=ee.name||"",this.description=ee.description||"";try{this.details=("string"==typeof ee.details?JSON.parse(ee.details):ee.details)||{}}catch{this.details=ee.details||{}}this.editors=ee.editors||[],this.schema=ee.schema||"",this.updated_at=1e3*(ee.updated_at||0)||Date.now(),this.modified_by_id=ee.modified_by_id||"",this.version=ee.version||0}}class Ll extends Hi{get system_id(){return this.control_system_id}get actions(){const ee=this._actions;return{functions:(ee.functions||[]).map(Bt=>Object.assign(Object.assign({},Bt),{args:Object.assign({},Bt.args)})),mailers:(ee.mailers||[]).map(Bt=>Object.assign(Object.assign({},Bt),{emails:[...Bt.emails]}))}}get conditions(){const ee=this._conditions;return{comparisons:(ee.comparisons||[]).map(Bt=>Object.assign(Object.assign({},Bt),{left:"object"==typeof Bt.left?Object.assign({},Bt.left):Bt.left,right:"object"==typeof Bt.right?Object.assign({},Bt.right):Bt.right})),time_dependents:(ee.time_dependents||[]).map(Bt=>Object.assign({},Bt))}}constructor(ee={}){super(ee),this.description=ee.description||"",this._actions=ee.actions||{functions:[],mailers:[]},this._conditions=ee.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=ee.debounce_period||0,this.important=ee.important||!1,this.enabled=ee.enabled||!1,this.webhook_secret=ee.webhook_secret||"",this.control_system_id=ee.system_id||ee.control_system_id||"",this.zone_id=ee.zone_id||"",this.system_name=ee.system_name||(ee.control_system?ee.control_system.name:""),this.enable_webhook=ee.enable_webhook||!1,this.exec_enabled=ee.exec_enabled||!1,this.supported_methods=ee.supported_methods||["POST"],this.activated_count=ee.activated_count||ee.trigger_count||0}}class bl extends Hi{constructor(ee={}){super(ee),this.settings=[null,null,null,null],this.trigger_list=[],this.description=ee.description||"",this.tags=ee.tags||[],this.triggers=ee.triggers||[],this.settings=ee.settings||[null,null,null,null],this.parent_id=ee.parent_id||"",this.location=ee.location||"",this.display_name=ee.display_name||"",this.code=ee.code||"",this.type=ee.type||"",this.count=ee.count||0,this.capacity=ee.capacity||0,this.map_id=ee.map_id||"",this.timezone=ee.timezone||"",this.images=ee.images||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Le in Qs)!isNaN(Number(Le))&&!this.settings[Le]&&(this.settings[Le]=new Ma({parent_id:this.id,encryption_level:+Le}));ee.trigger_data&&ee.trigger_data instanceof Array&&(this.trigger_list=ee.trigger_data.map(Le=>new Ll(Le)))}}class le{constructor(ee={}){this.zone=new bl(ee.zone),this.keys=ee.keys||[],this.metadata={};const Le=ee.metadata||{};for(const ct of this.keys)this.metadata[ct]=new io(Le[ct])}}const ft="metadata";function Re(H){return new io(H)}function bn(H,ee,Le={}){return Xe({id:H,query_params:Object.assign(Object.assign({},Le),{name:ee}),fn:ct=>Re(ct[ee]),path:ft})}function wn(H,ee,Le="put"){return Kn({id:H,form_data:ee,query_params:{},method:Le,fn:Re,path:ft})}function Qi(H,ee){return function gn(H){const{id:ee,task_name:Le,form_data:ct,method:Bt,path:Wt,callback:vn}=H,Pn=Nt(ct),Ei=`${ri()}/${Wt}/${ee}/${Le}`;return("post"!==Bt&&"put"!==Bt&&Bt?("del"===Bt?rr:fs)(`${Ei}${Pn?"?"+Pn:""}`,{response_type:"json"}):("put"===Bt?Ys:Ls)(Ei,ct)).pipe((0,$n.T)(Yn=>(vn||(Mo=>Mo))(Yn)))}({id:H,task_name:"children",form_data:ee,method:"get",callback:Le=>Le.map(ct=>new le(Object.assign(Object.assign({},ct),{keys:Object.keys(ct.metadata)}))),path:ft})}class Io extends Hi{constructor(ee={}){var Le;super(ee),this.settings=[null,null,null,null],this.module_list=[],this.display_name=ee.display_name||"",this.description=ee.description||"",this.email=ee.email||"",this.code=ee.code||"",this.capacity=ee.capacity||0,this.features=ee.features||[],this.bookable=ee.bookable||!1,this.public=null!==(Le=ee.public)&&void 0!==Le&&Le,this.installed_ui_devices=ee.installed_ui_devices||0,this.support_url=ee.support_url||"",this.map_id=ee.map_id||"",this.modules=ee.modules||[],this.images=ee.images||[],this.zones=ee.zones||[],this.settings=ee.settings||[null,null,null,null],this.timezone=ee.timezone||"","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ct in Qs)!isNaN(Number(ct))&&!this.settings[ct]&&(this.settings[ct]=new Ma({parent_id:this.id,encryption_level:+ct}));ee.module_data&&ee.module_data instanceof Array&&(this.module_list=ee.module_data.map(ct=>new Nn(ct)))}}class Nn extends Hi{get system_id(){return this.control_system_id}constructor(ee={}){var Le;super(ee),this.settings=[null,null,null,null],this.driver_id=ee.driver_id||ee.dependency_id||"",this.control_system_id=ee.control_system_id||"",this.edge_id=ee.edge_id||"",this.ip=ee.ip||"",this.tls=ee.tls||!1,this.udp=ee.udp||!1,this.port=ee.port||1,this.makebreak=ee.makebreak||!1,this.uri=ee.uri||"",this.custom_name=ee.custom_name||"",this.role=null!==(Le=ee.role)&&void 0!==Le?Le:Ta.Logic,this.notes=ee.notes||"",this.ignore_connected=ee.ignore_connected||!1,this.connected=ee.connected,this.running=ee.running||!1,this.updated_at=ee.updated_at||0,this.system=new Io(ee.control_system||ee.system),this.has_runtime_error=ee.has_runtime_error||!1,this.error_timestamp=ee.error_timestamp||0,this.driver=new co(ee.dependency||ee.driver),this.settings=ee.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ct in Qs)!isNaN(Number(ct))&&!this.settings[ct]&&(this.settings[ct]=new Ma({parent_id:this.id,encryption_level:+ct}))}toJSON(ee=!1){const Le=super.toJSON();return(Le.role!==Ta.Logic&&!ee||!Le.control_system_id)&&delete Le.control_system_id,delete Le.driver,delete Le.system,delete Le.error_timestamp,delete Le.has_runtime_error,Le}}const tc="settings";function nc(H){return new Ma(H)}function ic(H={}){return Dt({query_params:H,fn:nc,path:tc})}const gt="systems";function Pt(H){return new Io(H)}function pn(H={}){return Dt({query_params:H,fn:Pt,path:gt})}function dn(H={}){return Dt({query_params:H,fn:Pt,path:`${gt}/with_emails`})}function Rn(H,ee={}){return Xe({id:H,query_params:ee,fn:Pt,path:gt})}class hu extends Hi{constructor(ee={}){super(ee),this.password="",this.confirm_password="",this.authority_id=ee.authority_id||"",this.email=ee.email||"",this.email_digest=ee.email_digest||"",this.phone=ee.phone||"",this.country=ee.country||"",this.building=ee.building||"",this.image=ee.image||"",this.metadata=ee.metadata||"",this.login_name=ee.login_name||"",this.staff_id=ee.staff_id||"",this.first_name=ee.first_name||"",this.last_name=ee.last_name||"",this.support=!!ee.support,this.sys_admin=!!ee.sys_admin,this.ui_theme=ee.ui_theme||"",this.card_number=ee.card_number||"",this.groups=ee.groups||[],this.department=ee.department||"",this.work_preferences=ee.work_preferences||[],this.work_overrides=ee.work_overrides||{}}}const Lc="users";function md(H){return new hu(H)}function xh(H={}){return Dt({query_params:H,fn:md,path:Lc})}function rc(H,ee={}){return Xe({id:H,query_params:ee,fn:md,path:Lc})}function cp(H,ee,Le="patch"){return Kn({id:H,form_data:ee,query_params:{},method:Le,fn:md,path:Lc})}const Ml="zones";function Tl(H){return new bl(H)}function Ss(H={}){return Dt({query_params:H,fn:Tl,path:Ml})}var yd=a(4119),jo=function(H){return H[H.PARSE_ERROR=0]="PARSE_ERROR",H[H.BAD_REQUEST=1]="BAD_REQUEST",H[H.ACCESS_DENIED=2]="ACCESS_DENIED",H[H.REQUEST_FAILED=3]="REQUEST_FAILED",H[H.UNKNOWN_CMD=4]="UNKNOWN_CMD",H[H.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",H[H.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",H[H.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",H}(jo||{}),jc=function(H){return H.Info="info",H.Debug="debug",H.Warning="warn",H.Error="error",H.Fatal="fatal",H.Trace="trace",H}(jc||{});const _s={},Ed=15;let Ts,Or=0,mp=0;const Vs={},Vl={},ka={},_u={},Xa=new Fn.t(!1);ka._place_os_status=Xa.asObservable();const rm=new Fn.t([0,0]);ka._place_os_sync=rm.asObservable();let Uc,uc,am=Date.now(),kh=0,dc=null,lm=0;const Cd=1e4,gp=new ht.B7;function cm(){return ri().indexOf("/control/")>=0?"/control/websocket":`${wi()}/systems/control`}function n0(){return Xa.getValue()}function r0(H,ee=0,Le=Vc){return Le(Object.assign({id:++Or,cmd:"bind"},H),ee)}function Vc(H,ee=Cd,Le=0){const ct=`${H.cmd}|${H.sys}|${H.mod}${H.index}|${H.name}|${H.args}|${function on(H=Date.now(),ee=6e4){return Math.floor(H/ee)}()}`;if(Vs[ct])Pe("WS","Request already in progress. Waiting...",H);else{const Bt=Object.assign(Object.assign({},H),{key:ct});Bt.promise=new Promise((Wt,vn)=>{const Pn=()=>{delete Vs[ct],Vs[ct]=null,Vc(H,ee,Le).then(Ei=>Wt(Ei),Ei=>vn(Ei))};if(Ts&&n0()){ho()&&function yu(H,ee,Le){const ct=`${H.sys}|${H.mod}_${H.index}|${H.name}`,Bt=function Ah(H){return _s[H]}(H.sys),Wt=Bt&&Bt[H.mod]?Bt[H.mod][H.index-1||0]:null;if(Wt){switch(H.cmd){case"bind":Le[ct]=Wt.listen(H.name).subscribe(vn=>{setTimeout(()=>{ee.next({type:"notify",value:vn,meta:H})},Math.floor(100*Math.random()+50))});break;case"unbind":Le[ct]&&(Le[ct].unsubscribe(),delete Le[ct],xn(`${ct}`))}cn(`${H.id}-response`,()=>{const vn={id:H.id,type:"success",value:"exec"===H.cmd?Wt.call(H.name,H.args):null};ee.next(vn)},10)}else cn(`${H.id}-error`,()=>ee.next({id:H.id,type:"error",code:Bt?jo.SYS_NOT_FOUND:jo.MOD_NOT_FOUND}),10)}(H,Ts,_u),Bt.resolve=Wt,Bt.reject=vn;const Ei=`${H.sys}, ${H.mod}_${H.index}, ${H.name}`;Pe("WS",`[${H.cmd.toUpperCase()}](${H.id}) ${Ei}`,H.args),Ts.next(H),ee>0&&cn(`${ct}`,()=>{vn("Request timed out."),delete Vs[ct],Vs[ct]=null},ee)}else dc?setTimeout(()=>Pn(),1e3):gu().then(()=>Pn())}),Vs[ct]=Bt}return Vs[ct].promise}function hm(H){if("pong"!==H&&H instanceof Object){if("notify"===H.type&&H.meta)!function Lh(H,ee,Le=Vl,ct=ka){const Bt=`${H.sys}|${H.mod}_${H.index}|${H.name}`;Le[Bt]||(Le[Bt]=new Fn.t(null),ct[Bt]=Le[Bt].asObservable());Pe("WS",`[NOTIFY] ${`${H.sys}, ${H.mod}_${H.index}, ${H.name}`} changed`,[Le[Bt].getValue(),"\u2192",ee]),Le[Bt].next(ee)}(H.meta,H.value);else if("success"===H.type)!function fm(H){const ee=Object.keys(Vs).map(Le=>Vs[Le]).find(Le=>Le?.id===H.id);Pe("WS",`[SUCCESS](${H.id})`),ee&&ee.resolve&&(ee.resolve(H.value),delete Vs[ee.key])}(H);else if("debug"===H.type){Pe("WS",`[DEBUG] ${H.mod}${H.klass||""} \u2192`,H.msg);const ee=H.meta||{mod:"",index:""};gp.next({mod_id:H.mod||"<empty>",module:`${ee.mod}_${ee.index}`,class_name:H.klass||"<empty>",message:H.msg||"<empty>",level:H.level||jc.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===H.type?function Ph(H){let ee="UNEXPECTED FAILURE";switch(H.code){case jo.ACCESS_DENIED:ee="ACCESS DENIED";break;case jo.BAD_REQUEST:ee="BAD REQUEST";break;case jo.MOD_NOT_FOUND:ee="MODULE NOT FOUND";break;case jo.SYS_NOT_FOUND:ee="SYSTEM NOT FOUND";break;case jo.PARSE_ERROR:ee="PARSE ERROR";break;case jo.REQUEST_FAILED:ee="REQUEST FAILED";break;case jo.UNKNOWN_CMD:ee="UNKNOWN COMMAND"}Pe("WS",`[ERROR] ${ee}(${H.id}): ${H.msg}`,void 0,"error");const Le=Object.keys(Vs).map(ct=>Vs[ct]).filter(ct=>ct).find(ct=>ct.id===H.id);Le&&Le.reject&&(Le.reject(H),xn(`${Le.key}`),delete Vs[Le.key])}(H):H.cmd||Pe("WS","Invalid websocket message",H,"error");xn(`${H.id}`)}else"pong"===H&&(lm=Date.now(),Pe("WS","Pong!"))}function gu(H=0){return null==dc&&(dc=new Promise(ee=>{if(H>40)return location.reload();kh++,am=Date.now(),Ts=ho()?function Oo(){const H=new ht.B7;return H.subscribe(ee=>hm(ee)),H}():function vu(){if(!No()||!Hn())return null;const H=function or(){return!!ni.secure}()||location.protocol.indexOf("https")>=0;let ee=`ws${H?"s":""}://${Bi()}${cm()}${Ws()?"?fixed_device=true":""}`;const Le=Hn();let ct="x-api-key"===Le?`api-key=${Li()}`:`bearer_token=${Le}`;return function Oi(){return!!ni.token_header}()||function rt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(Pe("WS","Authenticating through URL query parameter..."),ee+=`${ee.indexOf("?")>=0?"&":"?"}${ct}`):(Pe("WS","Authenticating through cookie..."),ct+=`;max-age=120;path=${cm()};`,ct+=(H?"secure;":"")+"samesite=strict",document.cookie=ct,Pe("WS","Cookies:",[document.cookie,ct])),Pe("WS",`Creating websocket connection to ws${H?"s":""}://${Bi()}${cm()}`),(0,yd.K)({url:ee,serializer:Bt=>"object"==typeof Bt?JSON.stringify(Bt):Bt,deserializer:Bt=>{let Wt=Bt.data;if("pong"===Wt)return Wt;try{return JSON.parse(Bt.data)}catch{return Wt}}})}(),Ts?(Pe("WS(Debug)","Authority:",[No()]),Pe("WS","Connecting to websocket..."),Ts.subscribe(Le=>{Xa.getValue()||(Pe("WS","Connection established."),ee()),Xa.next(!0),kh=0,bu(),hm(Le)},Le=>{Ts=void 0,dc=null,Md(),bu(),function vp(H){Xa.next(!1),Pe("WS","Websocket error:",H,void 0,"error"),401===H.status&&Rr(),Wr(),Sd()}(Le)},()=>{Ts=void 0,dc=null,Md(),Pe("WS","Connection closed by browser."),Xa.next(!1),Sd()}),Uc&&clearInterval(Uc),lm=Date.now(),Ha(),Uc=setInterval(()=>Ha(),1e3*Ed),bu(),mp+=1,uc=setTimeout(()=>{Pe("WS","Unhealthy connection. Reconnecting..."),Xa.next(!1),dc=null,Sd()},3e4)):(Ts?Pe("WS",`Waiting on auth(${H}). Retrying in ${1e3*Math.min(10,H+1)}ms...`,[!!Hn(),!!No()],"info"):Pe("WS",`Failed to create websocket(${H}). Retrying in ${1e3*Math.min(10,H+1)}ms...`,void 0,"error"),setTimeout(()=>{dc=null,gu(H).then(Le=>ee(Le))},1e3*Math.min(10,++H)))})),dc}function Sd(){rm.next([mp,Date.now()-am]),Ts&&n0()&&(Ts.complete(),Uc&&(clearInterval(Uc),Uc=void 0)),Pe("WS",`Reconnecting in ${Math.min(5e3,300*kh||1e3)}ms...`),cn("reconnect",()=>gu(),Math.min(5e3,300*(kh+1)||1e3))}function Ha(){if(Date.now()-lm>4*Ed*1e3)return Sd();Ts?.next("ping")}function bu(){uc&&(clearTimeout(uc),uc=void 0)}function Md(){for(const H in Vs)Vs[H]&&delete Vs[H]}ka._place_os_debug_events=gp.asObservable();var oa=a(522),Ya=function(H){return H[H.NONE=0]="NONE",H[H.BIND=1]="BIND",H[H.UNBIND=2]="UNBIND",H}(Ya||{});class Td{constructor(ee,Le){this._module=ee,this._pending=Ya.NONE,this._binding_count=0,this._stale_bindings=0,this.name=Le,function dm(){return ka._place_os_status}().pipe((0,oa.F)()).subscribe(ct=>{ct&&(this._stale_bindings||this._pending===Ya.BIND)?(Pe("VAR","Re-binding to status variable",this.binding()),this.rebind()):ct||(xn(`rebind:${JSON.stringify(this.binding())}`),Pe("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function um(H,ee=Vl){const Le=`${H.sys}|${H.mod}_${H.index}|${H.name}`;if(ee[Le])return ee[Le].getValue()}(this.binding())}listen(){return function s0(H,ee=Vl,Le=ka){const ct=`${H.sys}|${H.mod}_${H.index}|${H.name}`;return ee[ct]||(ee[ct]=new Fn.t(void 0),Le[ct]=ee[ct].asObservable()),Le[ct]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===Ya.UNBIND)&&(this._pending=Ya.BIND,r0(this.binding()).then(()=>{this._binding_count++,this._pending=Ya.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===Ya.NONE?(this._pending=Ya.UNBIND,function iE(H,ee=0,Le=Vc){return Le(Object.assign({id:++Or,cmd:"unbind"},H),ee)}(this.binding()).then(()=>{this._pending===Ya.UNBIND&&(this._pending=Ya.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return m(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==Ya.BIND||cn(`rebind:${JSON.stringify(this.binding())}`,()=>m(this,void 0,void 0,function*(){yield r0(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Gc{constructor(ee,Le){this._system=ee,this._id=Le,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const Le=this._id.split("_").pop();return parseInt(Le||"",10)||1}get name(){const ee=this._id.split("_");return ee.pop(),ee.join("_")}binding(ee){return this._bindings[ee]||(this._bindings[ee]=new Td(this,ee)),this._bindings[ee]}execute(ee,Le,ct=Cd){return function Fh(H,ee=Cd,Le=Vc){return Le(Object.assign({id:++Or,cmd:"exec"},H),ee)}({sys:this._system.id,mod:this.name,index:this.index,name:ee,args:Le},ct)}}class sa{constructor(ee){this._module_list={},this.id=ee}module(ee,Le=1){if(!ee)throw new Error("Invalid module ID");const ct=ee.split("_");ct.length>1&&Number.isInteger(+ct[ct.length-1])&&(Le=+ct[ct.length-1],ct.pop()),Le<1&&(Le=1);const Bt=ct.join("_");for(this._module_list[Bt]||(this._module_list[Bt]=[]);this._module_list[Bt].length<Le;)this._module_list[Bt].push(new Gc(this,`${Bt}_${this._module_list[Bt].length+1}`));return this._module_list[Bt][Le-1]}}const Nh={};function pm(H,ee,Le=1){return function Bh(H){return Nh[H]||(Nh[H]=new sa(H)),Nh[H]}(H).module(ee,Le)}},2727:(At,ue,a)=>{"use strict";function M(L,l){return function f(L,l){L=L||[],"string"==typeof(l=l||{})&&(l={type:l});try{return new Blob(L,l)}catch(P){if("TypeError"!==P.name)throw P;for(var R=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),F=0;F<L.length;F+=1)R.append(L[F]);return R.getBlob(l.type)}}([L],l)}a.d(ue,{Ot:()=>M})},993:(At,ue)=>{"use strict";ue.if=v,ue.Kp=function b(S){if(S.length%4!=0)throw new Error("Unable to parse base64 string.");var h=S.indexOf("=");if(-1!==h&&h<S.length-2)throw new Error("Unable to parse base64 string.");for(var E,y=S.endsWith("==")?2:S.endsWith("=")?1:0,O=S.length,m=new Uint8Array(O/4*3),u=0,M=0;u<O;u+=4,M+=3)E=f(S.charCodeAt(u))<<18|f(S.charCodeAt(u+1))<<12|f(S.charCodeAt(u+2))<<6|f(S.charCodeAt(u+3)),m[M]=E>>16,m[M+1]=E>>8&255,m[M+2]=255&E;return m.subarray(0,m.length-y)},ue.Cw=function C(S){return v((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(S))};var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function f(S){if(S>=n.length)throw new Error("Unable to parse base64 string.");var h=n[S];if(255===h)throw new Error("Unable to parse base64 string.");return h}function v(S){var y,h="",O=S.length;for(y=2;y<O;y+=3)h+=t[S[y-2]>>2],h+=t[(3&S[y-2])<<4|S[y-1]>>4],h+=t[(15&S[y-1])<<2|S[y]>>6],h+=t[63&S[y]];return y===O+1&&(h+=t[S[y-2]>>2],h+=t[(3&S[y-2])<<4],h+="=="),y===O&&(h+=t[S[y-2]>>2],h+=t[(3&S[y-2])<<4|S[y-1]>>4],h+=t[(15&S[y-1])<<2],h+="="),h}},1299:function(At,ue,a){var t;!function(n,f){var v={};!function(n){"use strict";n.__esModule=!0,n.digestLength=32,n.blockSize=64;var f=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function v(E,u,M,x,D){for(var A,L,l,$,R,F,P,k,V,K,X,Q,de;D>=64;){for(A=u[0],L=u[1],l=u[2],$=u[3],R=u[4],F=u[5],P=u[6],k=u[7],K=0;K<16;K++)E[K]=(255&M[X=x+4*K])<<24|(255&M[X+1])<<16|(255&M[X+2])<<8|255&M[X+3];for(K=16;K<64;K++)E[K]=((Q=((V=E[K-2])>>>17|V<<15)^(V>>>19|V<<13)^V>>>10)+E[K-7]|0)+((de=((V=E[K-15])>>>7|V<<25)^(V>>>18|V<<14)^V>>>3)+E[K-16]|0);for(K=0;K<64;K++)Q=(((R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7))+(R&F^~R&P)|0)+(k+(f[K]+E[K]|0)|0)|0,de=((A>>>2|A<<30)^(A>>>13|A<<19)^(A>>>22|A<<10))+(A&L^A&l^L&l)|0,k=P,P=F,F=R,R=$+Q|0,$=l,l=L,L=A,A=Q+de|0;u[0]+=A,u[1]+=L,u[2]+=l,u[3]+=$,u[4]+=R,u[5]+=F,u[6]+=P,u[7]+=k,x+=64,D-=64}return x}var b=function(){function E(){this.digestLength=n.digestLength,this.blockSize=n.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return E.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},E.prototype.clean=function(){for(var u=0;u<this.buffer.length;u++)this.buffer[u]=0;for(u=0;u<this.temp.length;u++)this.temp[u]=0;this.reset()},E.prototype.update=function(u,M){if(void 0===M&&(M=u.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var x=0;if(this.bytesHashed+=M,this.bufferLength>0){for(;this.bufferLength<64&&M>0;)this.buffer[this.bufferLength++]=u[x++],M--;64===this.bufferLength&&(v(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(M>=64&&(x=v(this.temp,this.state,u,x,M),M%=64);M>0;)this.buffer[this.bufferLength++]=u[x++],M--;return this},E.prototype.finish=function(u){if(!this.finished){var M=this.bytesHashed,x=this.bufferLength,D=M/536870912|0,A=M<<3,L=M%64<56?64:128;this.buffer[x]=128;for(var l=x+1;l<L-8;l++)this.buffer[l]=0;this.buffer[L-8]=D>>>24&255,this.buffer[L-7]=D>>>16&255,this.buffer[L-6]=D>>>8&255,this.buffer[L-5]=D>>>0&255,this.buffer[L-4]=A>>>24&255,this.buffer[L-3]=A>>>16&255,this.buffer[L-2]=A>>>8&255,this.buffer[L-1]=A>>>0&255,v(this.temp,this.state,this.buffer,0,L),this.finished=!0}for(l=0;l<8;l++)u[4*l+0]=this.state[l]>>>24&255,u[4*l+1]=this.state[l]>>>16&255,u[4*l+2]=this.state[l]>>>8&255,u[4*l+3]=this.state[l]>>>0&255;return this},E.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},E.prototype._saveState=function(u){for(var M=0;M<this.state.length;M++)u[M]=this.state[M]},E.prototype._restoreState=function(u,M){for(var x=0;x<this.state.length;x++)this.state[x]=u[x];this.bytesHashed=M,this.finished=!1,this.bufferLength=0},E}();n.Hash=b;var C=function(){function E(u){this.inner=new b,this.outer=new b,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var M=new Uint8Array(this.blockSize);if(u.length>this.blockSize)(new b).update(u).finish(M).clean();else for(var x=0;x<u.length;x++)M[x]=u[x];for(x=0;x<M.length;x++)M[x]^=54;for(this.inner.update(M),x=0;x<M.length;x++)M[x]^=106;for(this.outer.update(M),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),x=0;x<M.length;x++)M[x]=0}return E.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},E.prototype.clean=function(){for(var u=0;u<this.istate.length;u++)this.ostate[u]=this.istate[u]=0;this.inner.clean(),this.outer.clean()},E.prototype.update=function(u){return this.inner.update(u),this},E.prototype.finish=function(u){return this.outer.finished?this.outer.finish(u):(this.inner.finish(u),this.outer.update(u,this.digestLength).finish(u)),this},E.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},E}();function g(E){var u=(new b).update(E),M=u.digest();return u.clean(),M}function S(E,u){var M=new C(E).update(u),x=M.digest();return M.clean(),x}function h(E,u,M,x){var D=x[0];if(0===D)throw new Error("hkdf: cannot expand more");u.reset(),D>1&&u.update(E),M&&u.update(M),u.update(x),u.finish(E),x[0]++}n.HMAC=C,n.hash=g,n.default=g,n.hmac=S;var y=new Uint8Array(n.digestLength);n.hkdf=function O(E,u,M,x){void 0===u&&(u=y),void 0===x&&(x=32);for(var D=new Uint8Array([1]),A=S(u,E),L=new C(A),l=new Uint8Array(L.digestLength),$=l.length,R=new Uint8Array(x),F=0;F<x;F++)$===l.length&&(h(l,L,M,D),$=0),R[F]=l[$++];return L.clean(),l.fill(0),D.fill(0),R},n.pbkdf2=function m(E,u,M,x){for(var D=new C(E),A=D.digestLength,L=new Uint8Array(4),l=new Uint8Array(A),$=new Uint8Array(A),R=new Uint8Array(x),F=0;F*A<x;F++){var P=F+1;L[0]=P>>>24&255,L[1]=P>>>16&255,L[2]=P>>>8&255,L[3]=P>>>0&255,D.reset(),D.update(u),D.update(L),D.finish($);for(var k=0;k<A;k++)l[k]=$[k];for(k=2;k<=M;k++){D.reset(),D.update($).finish($);for(var V=0;V<A;V++)l[V]^=$[V]}for(k=0;k<A&&F*A+k<x;k++)R[F*A+k]=l[k]}for(F=0;F<A;F++)l[F]=$[F]=0;for(F=0;F<4;F++)L[F]=0;return D.clean(),R}}(v);var b=v.default;for(var C in v)b[C]=v[C];"object"==typeof At.exports?At.exports=b:void 0!==(t=function(){return b}.call(v,a,v,At))&&(At.exports=t)}()},5055:function(At){typeof self<"u"&&self,At.exports=function(ue){var a={};function t(n){if(a[n])return a[n].exports;var f=a[n]={i:n,l:!1,exports:{}};return ue[n].call(f.exports,f,f.exports,t),f.l=!0,f.exports}return t.m=ue,t.c=a,t.d=function(n,f,v){t.o(n,f)||Object.defineProperty(n,f,{configurable:!1,enumerable:!0,get:v})},t.n=function(n){var f=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(f,"a",f),f},t.o=function(n,f){return Object.prototype.hasOwnProperty.call(n,f)},t.p="",t(t.s=109)}([function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(17),f=t(18),v=t(19),b=t(45),C=t(46),g=t(47),S=t(48),h=t(49),y=t(12),O=t(32),m=t(33),E=t(31),u=t(1);a.default={Scope:u.Scope,create:u.create,find:u.find,query:u.query,register:u.register,Container:n.default,Format:f.default,Leaf:v.default,Embed:S.default,Scroll:b.default,Block:g.default,Inline:C.default,Text:h.default,Attributor:{Attribute:y.default,Class:O.default,Style:m.default,Store:E.default}}},function(ue,a,t){"use strict";var E,n=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,M){u.__proto__=M}||function(u,M){for(var x in M)M.hasOwnProperty(x)&&(u[x]=M[x])},function(u,M){function x(){this.constructor=u}E(u,M),u.prototype=null===M?Object.create(M):(x.prototype=M.prototype,new x)});Object.defineProperty(a,"__esModule",{value:!0});var f=function(E){function u(M){var x=this;return(x=E.call(this,M="[Parchment] "+M)||this).message=M,x.name=x.constructor.name,x}return n(u,E),u}(Error);a.ParchmentError=f;var S,v={},b={},C={},g={};function O(E,u){var M;if(void 0===u&&(u=S.ANY),"string"==typeof E)M=g[E]||v[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)M=g.text;else if("number"==typeof E)E&S.LEVEL&S.BLOCK?M=g.block:E&S.LEVEL&S.INLINE&&(M=g.inline);else if(E instanceof HTMLElement){var x=(E.getAttribute("class")||"").split(/\s+/);for(var D in x)if(M=b[x[D]])break;M=M||C[E.tagName]}return null==M?null:u&S.LEVEL&M.scope&&u&S.TYPE&M.scope?M:null}a.DATA_KEY="__blot",function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"}(S=a.Scope||(a.Scope={})),a.create=function h(E,u){var M=O(E);if(null==M)throw new f("Unable to create "+E+" blot");var x=M,D=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:x.create(u);return new x(D,u)},a.find=function y(E,u){return void 0===u&&(u=!1),null==E?null:null!=E[a.DATA_KEY]?E[a.DATA_KEY].blot:u?y(E.parentNode,u):null},a.query=O,a.register=function m(){for(var E=[],u=0;u<arguments.length;u++)E[u]=arguments[u];if(E.length>1)return E.map(function(D){return m(D)});var M=E[0];if("string"!=typeof M.blotName&&"string"!=typeof M.attrName)throw new f("Invalid definition");if("abstract"===M.blotName)throw new f("Cannot register abstract class");return g[M.blotName||M.attrName]=M,"string"==typeof M.keyName?v[M.keyName]=M:(null!=M.className&&(b[M.className]=M),null!=M.tagName&&(M.tagName=Array.isArray(M.tagName)?M.tagName.map(function(D){return D.toUpperCase()}):M.tagName.toUpperCase(),(Array.isArray(M.tagName)?M.tagName:[M.tagName]).forEach(function(D){(null==C[D]||null==M.className)&&(C[D]=M)}))),M}},function(ue,a,t){var n=t(51),f=t(11),v=t(3),b=t(20),g=function(S){this.ops=Array.isArray(S)?S:null!=S&&Array.isArray(S.ops)?S.ops:[]};g.prototype.insert=function(S,h){var y={};return 0===S.length?this:(y.insert=S,null!=h&&"object"==typeof h&&Object.keys(h).length>0&&(y.attributes=h),this.push(y))},g.prototype.delete=function(S){return S<=0?this:this.push({delete:S})},g.prototype.retain=function(S,h){if(S<=0)return this;var y={retain:S};return null!=h&&"object"==typeof h&&Object.keys(h).length>0&&(y.attributes=h),this.push(y)},g.prototype.push=function(S){var h=this.ops.length,y=this.ops[h-1];if(S=v(!0,{},S),"object"==typeof y){if("number"==typeof S.delete&&"number"==typeof y.delete)return this.ops[h-1]={delete:y.delete+S.delete},this;if("number"==typeof y.delete&&null!=S.insert&&"object"!=typeof(y=this.ops[(h-=1)-1]))return this.ops.unshift(S),this;if(f(S.attributes,y.attributes)){if("string"==typeof S.insert&&"string"==typeof y.insert)return this.ops[h-1]={insert:y.insert+S.insert},"object"==typeof S.attributes&&(this.ops[h-1].attributes=S.attributes),this;if("number"==typeof S.retain&&"number"==typeof y.retain)return this.ops[h-1]={retain:y.retain+S.retain},"object"==typeof S.attributes&&(this.ops[h-1].attributes=S.attributes),this}}return h===this.ops.length?this.ops.push(S):this.ops.splice(h,0,S),this},g.prototype.chop=function(){var S=this.ops[this.ops.length-1];return S&&S.retain&&!S.attributes&&this.ops.pop(),this},g.prototype.filter=function(S){return this.ops.filter(S)},g.prototype.forEach=function(S){this.ops.forEach(S)},g.prototype.map=function(S){return this.ops.map(S)},g.prototype.partition=function(S){var h=[],y=[];return this.forEach(function(O){(S(O)?h:y).push(O)}),[h,y]},g.prototype.reduce=function(S,h){return this.ops.reduce(S,h)},g.prototype.changeLength=function(){return this.reduce(function(S,h){return h.insert?S+b.length(h):h.delete?S-h.delete:S},0)},g.prototype.length=function(){return this.reduce(function(S,h){return S+b.length(h)},0)},g.prototype.slice=function(S,h){S=S||0,"number"!=typeof h&&(h=1/0);for(var y=[],O=b.iterator(this.ops),m=0;m<h&&O.hasNext();){var E;m<S?E=O.next(S-m):(E=O.next(h-m),y.push(E)),m+=b.length(E)}return new g(y)},g.prototype.compose=function(S){var h=b.iterator(this.ops),y=b.iterator(S.ops),O=[],m=y.peek();if(null!=m&&"number"==typeof m.retain&&null==m.attributes){for(var E=m.retain;"insert"===h.peekType()&&h.peekLength()<=E;)E-=h.peekLength(),O.push(h.next());m.retain-E>0&&y.next(m.retain-E)}for(var u=new g(O);h.hasNext()||y.hasNext();)if("insert"===y.peekType())u.push(y.next());else if("delete"===h.peekType())u.push(h.next());else{var M=Math.min(h.peekLength(),y.peekLength()),x=h.next(M),D=y.next(M);if("number"==typeof D.retain){var A={};"number"==typeof x.retain?A.retain=M:A.insert=x.insert;var L=b.attributes.compose(x.attributes,D.attributes,"number"==typeof x.retain);if(L&&(A.attributes=L),u.push(A),!y.hasNext()&&f(u.ops[u.ops.length-1],A)){var l=new g(h.rest());return u.concat(l).chop()}}else"number"==typeof D.delete&&"number"==typeof x.retain&&u.push(D)}return u.chop()},g.prototype.concat=function(S){var h=new g(this.ops.slice());return S.ops.length>0&&(h.push(S.ops[0]),h.ops=h.ops.concat(S.ops.slice(1))),h},g.prototype.diff=function(S,h){if(this.ops===S.ops)return new g;var y=[this,S].map(function(M){return M.map(function(x){if(null!=x.insert)return"string"==typeof x.insert?x.insert:"\0";throw new Error("diff() called "+(M===S?"on":"with")+" non-document")}).join("")}),O=new g,m=n(y[0],y[1],h),E=b.iterator(this.ops),u=b.iterator(S.ops);return m.forEach(function(M){for(var x=M[1].length;x>0;){var D=0;switch(M[0]){case n.INSERT:D=Math.min(u.peekLength(),x),O.push(u.next(D));break;case n.DELETE:D=Math.min(x,E.peekLength()),E.next(D),O.delete(D);break;case n.EQUAL:D=Math.min(E.peekLength(),u.peekLength(),x);var A=E.next(D),L=u.next(D);f(A.insert,L.insert)?O.retain(D,b.attributes.diff(A.attributes,L.attributes)):O.push(L).delete(D)}x-=D}}),O.chop()},g.prototype.eachLine=function(S,h){h=h||"\n";for(var y=b.iterator(this.ops),O=new g,m=0;y.hasNext();){if("insert"!==y.peekType())return;var E=y.peek(),u=b.length(E)-y.peekLength(),M="string"==typeof E.insert?E.insert.indexOf(h,u)-u:-1;if(M<0)O.push(y.next());else if(M>0)O.push(y.next(M));else{if(!1===S(O,y.next(1).attributes||{},m))return;m+=1,O=new g}}O.length()>0&&S(O,{},m)},g.prototype.transform=function(S,h){if(h=!!h,"number"==typeof S)return this.transformPosition(S,h);for(var y=b.iterator(this.ops),O=b.iterator(S.ops),m=new g;y.hasNext()||O.hasNext();)if("insert"!==y.peekType()||!h&&"insert"===O.peekType())if("insert"===O.peekType())m.push(O.next());else{var E=Math.min(y.peekLength(),O.peekLength()),u=y.next(E),M=O.next(E);if(u.delete)continue;M.delete?m.push(M):m.retain(E,b.attributes.transform(u.attributes,M.attributes,h))}else m.retain(b.length(y.next()));return m.chop()},g.prototype.transformPosition=function(S,h){h=!!h;for(var y=b.iterator(this.ops),O=0;y.hasNext()&&O<=S;){var m=y.peekLength(),E=y.peekType();y.next(),"delete"!==E?("insert"===E&&(O<S||!h)&&(S+=m),O+=m):S-=Math.min(m,S-O)}return S},ue.exports=g},function(ue,a){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,f=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=function(y){return"function"==typeof Array.isArray?Array.isArray(y):"[object Array]"===n.call(y)},C=function(y){if(!y||"[object Object]"!==n.call(y))return!1;var E,O=t.call(y,"constructor"),m=y.constructor&&y.constructor.prototype&&t.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!O&&!m)return!1;for(E in y);return typeof E>"u"||t.call(y,E)},g=function(y,O){f&&"__proto__"===O.name?f(y,O.name,{enumerable:!0,configurable:!0,value:O.newValue,writable:!0}):y[O.name]=O.newValue},S=function(y,O){if("__proto__"===O){if(!t.call(y,O))return;if(v)return v(y,O).value}return y[O]};ue.exports=function h(){var y,O,m,E,u,M,x=arguments[0],D=1,A=arguments.length,L=!1;for("boolean"==typeof x&&(L=x,x=arguments[1]||{},D=2),(null==x||"object"!=typeof x&&"function"!=typeof x)&&(x={});D<A;++D)if(null!=(y=arguments[D]))for(O in y)m=S(x,O),x!==(E=S(y,O))&&(L&&E&&(C(E)||(u=b(E)))?(u?(u=!1,M=m&&b(m)?m:[]):M=m&&C(m)?m:{},g(x,{name:O,newValue:h(L,M,E)})):typeof E<"u"&&g(x,{name:O,newValue:E}));return x}},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var n=function(){function P(k,V){for(var K=0;K<V.length;K++){var X=V[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}return function(k,V,K){return V&&P(k.prototype,V),K&&P(k,K),k}}(),f=function P(k,V,K){null===k&&(k=Function.prototype);var X=Object.getOwnPropertyDescriptor(k,V);if(void 0===X){var Q=Object.getPrototypeOf(k);return null===Q?void 0:P(Q,V,K)}if("value"in X)return X.value;var de=X.get;return void 0===de?void 0:de.call(K)},b=x(t(3)),g=x(t(2)),h=x(t(0)),O=x(t(16)),E=x(t(6)),M=x(t(7));function x(P){return P&&P.__esModule?P:{default:P}}function D(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function A(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?P:k}function L(P,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var $=function(P){function k(){return D(this,k),A(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return L(k,P),n(k,[{key:"attach",value:function(){f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new g.default).insert(this.value(),(0,b.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(K,X){var Q=h.default.query(K,h.default.Scope.BLOCK_ATTRIBUTE);null!=Q&&this.attributes.attribute(Q,X)}},{key:"formatAt",value:function(K,X,Q,de){this.format(Q,de)}},{key:"insertAt",value:function(K,X,Q){if("string"==typeof X&&X.endsWith("\n")){var de=h.default.create(R.blotName);this.parent.insertBefore(de,0===K?this:this.next),de.insertAt(0,X.slice(0,-1))}else f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,K,X,Q)}}]),k}(h.default.Embed);$.scope=h.default.Scope.BLOCK_BLOT;var R=function(P){function k(V){D(this,k);var K=A(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,V));return K.cache={},K}return L(k,P),n(k,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(K,X){return 0===X.length()?K:K.insert(X.value(),F(X))},new g.default).insert("\n",F(this))),this.cache.delta}},{key:"deleteAt",value:function(K,X){f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,K,X),this.cache={}}},{key:"formatAt",value:function(K,X,Q,de){X<=0||(h.default.query(Q,h.default.Scope.BLOCK)?K+X===this.length()&&this.format(Q,de):f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,K,Math.min(X,this.length()-K-1),Q,de),this.cache={})}},{key:"insertAt",value:function(K,X,Q){if(null!=Q)return f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,K,X,Q);if(0!==X.length){var de=X.split("\n"),se=de.shift();se.length>0&&(K<this.length()-1||null==this.children.tail?f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(K,this.length()-1),se):this.children.tail.insertAt(this.children.tail.length(),se),this.cache={});var ce=this;de.reduce(function(z,w){return(ce=ce.split(z,!0)).insertAt(0,w),w.length},K+se.length)}}},{key:"insertBefore",value:function(K,X){var Q=this.children.head;f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,K,X),Q instanceof O.default&&Q.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(K,X){f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,K,X),this.cache={}}},{key:"optimize",value:function(K){f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,K),this.cache={}}},{key:"path",value:function(K){return f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,K,!0)}},{key:"removeChild",value:function(K){f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,K),this.cache={}}},{key:"split",value:function(K){var X=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X&&(0===K||K>=this.length()-1)){var Q=this.clone();return 0===K?(this.parent.insertBefore(Q,this),this):(this.parent.insertBefore(Q,this.next),Q)}var de=f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,K,X);return this.cache={},de}}]),k}(h.default.Block);function F(P){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==P||("function"==typeof P.formats&&(k=(0,b.default)(k,P.formats())),null==P.parent||"scroll"==P.parent.blotName||P.parent.statics.scope!==P.statics.scope)?k:F(P.parent,k)}R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[E.default,h.default.Embed,M.default],a.bubbleFormats=F,a.BlockEmbed=$,a.default=R},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},f=function(){return function(z,w){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function ce(z,w){var j=[],W=!0,ne=!1,fe=void 0;try{for(var Ae,ae=z[Symbol.iterator]();!(W=(Ae=ae.next()).done)&&(j.push(Ae.value),!w||j.length!==w);W=!0);}catch(Me){ne=!0,fe=Me}finally{try{!W&&ae.return&&ae.return()}finally{if(ne)throw fe}}return j}(z,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function ce(z,w){for(var j=0;j<w.length;j++){var W=w[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,W.key,W)}}return function(z,w,j){return w&&ce(z.prototype,w),j&&ce(z,j),z}}();t(50);var C=F(t(2)),S=F(t(14)),y=F(t(8)),m=F(t(9)),u=F(t(0)),M=t(15),x=F(M),A=F(t(3)),l=F(t(10)),R=F(t(34));function F(ce){return ce&&ce.__esModule?ce:{default:ce}}function P(ce,z,w){return z in ce?Object.defineProperty(ce,z,{value:w,enumerable:!0,configurable:!0,writable:!0}):ce[z]=w,ce}var V=(0,l.default)("quill"),K=function(){function ce(z){var w=this,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function k(ce,z){if(!(ce instanceof z))throw new TypeError("Cannot call a class as a function")}(this,ce),this.options=X(z,j),this.container=this.options.container,null==this.container)return V.error("Invalid Quill container",z);this.options.debug&&ce.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new S.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(fe){fe===y.default.events.TEXT_CHANGE&&w.root.classList.toggle("ql-blank",w.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(fe,ae){var Ae=w.selection.lastRange,Me=Ae&&0===Ae.length?Ae.index:void 0;Q.call(w,function(){return w.editor.update(null,ae,Me)},fe)});var ne=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+W+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return v(ce,null,[{key:"debug",value:function(w){!0===w&&(w="log"),l.default.level(w)}},{key:"find",value:function(w){return w.__quill||u.default.find(w)}},{key:"import",value:function(w){return null==this.imports[w]&&V.error("Cannot import "+w+". Are you sure it was registered?"),this.imports[w]}},{key:"register",value:function(w,j){var W=this,ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof w){var fe=w.attrName||w.blotName;"string"==typeof fe?this.register("formats/"+fe,w,j):Object.keys(w).forEach(function(ae){W.register(ae,w[ae],j)})}else null!=this.imports[w]&&!ne&&V.warn("Overwriting "+w+" with",j),this.imports[w]=j,(w.startsWith("blots/")||w.startsWith("formats/"))&&"abstract"!==j.blotName?u.default.register(j):w.startsWith("modules")&&"function"==typeof j.register&&j.register()}}]),v(ce,[{key:"addContainer",value:function(w){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof w){var W=w;(w=document.createElement("div")).classList.add(W)}return this.container.insertBefore(w,j),w}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(w,j,W){var ne=this,fe=de(w,j,W),ae=f(fe,4);return Q.call(this,function(){return ne.editor.deleteText(w,j)},W=ae[3],w=ae[0],-1*(j=ae[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}},{key:"focus",value:function(){var w=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=w,this.scrollIntoView()}},{key:"format",value:function(w,j){var W=this;return Q.call(this,function(){var fe=W.getSelection(!0),ae=new C.default;if(null==fe)return ae;if(u.default.query(w,u.default.Scope.BLOCK))ae=W.editor.formatLine(fe.index,fe.length,P({},w,j));else{if(0===fe.length)return W.selection.format(w,j),ae;ae=W.editor.formatText(fe.index,fe.length,P({},w,j))}return W.setSelection(fe,y.default.sources.SILENT),ae},arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.default.sources.API)}},{key:"formatLine",value:function(w,j,W,ne,fe){var Ae,ae=this,Me=de(w,j,W,ne,fe),Ve=f(Me,4);return j=Ve[1],Ae=Ve[2],Q.call(this,function(){return ae.editor.formatLine(w,j,Ae)},fe=Ve[3],w=Ve[0],0)}},{key:"formatText",value:function(w,j,W,ne,fe){var Ae,ae=this,Me=de(w,j,W,ne,fe),Ve=f(Me,4);return j=Ve[1],Ae=Ve[2],Q.call(this,function(){return ae.editor.formatText(w,j,Ae)},fe=Ve[3],w=Ve[0],0)}},{key:"getBounds",value:function(w){var W;W="number"==typeof w?this.selection.getBounds(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(w.index,w.length);var ne=this.container.getBoundingClientRect();return{bottom:W.bottom-ne.top,height:W.height,left:W.left-ne.left,right:W.right-ne.left,top:W.top-ne.top,width:W.width}}},{key:"getContents",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-w,W=de(w,j),ne=f(W,2);return this.editor.getContents(w=ne[0],j=ne[1])}},{key:"getFormat",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof w?this.editor.getFormat(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(w.index,w.length)}},{key:"getIndex",value:function(w){return w.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(w){return this.scroll.leaf(w)}},{key:"getLine",value:function(w){return this.scroll.line(w)}},{key:"getLines",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof w?this.scroll.lines(w.index,w.length):this.scroll.lines(w,j)}},{key:"getModule",value:function(w){return this.theme.modules[w]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-w,W=de(w,j),ne=f(W,2);return this.editor.getText(w=ne[0],j=ne[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(w,j,W){var ne=this;return Q.call(this,function(){return ne.editor.insertEmbed(w,j,W)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:ce.sources.API,w)}},{key:"insertText",value:function(w,j,W,ne,fe){var Ae,ae=this,Me=de(w,0,W,ne,fe),Ve=f(Me,4);return Ae=Ve[2],Q.call(this,function(){return ae.editor.insertText(w,j,Ae)},fe=Ve[3],w=Ve[0],j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(w,j,W){this.clipboard.dangerouslyPasteHTML(w,j,W)}},{key:"removeFormat",value:function(w,j,W){var ne=this,fe=de(w,j,W),ae=f(fe,4);return j=ae[1],Q.call(this,function(){return ne.editor.removeFormat(w,j)},W=ae[3],w=ae[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(w){var j=this;return Q.call(this,function(){w=new C.default(w);var ne=j.getLength(),fe=j.editor.deleteText(0,ne),ae=j.editor.applyDelta(w),Ae=ae.ops[ae.ops.length-1];return null!=Ae&&"string"==typeof Ae.insert&&"\n"===Ae.insert[Ae.insert.length-1]&&(j.editor.deleteText(j.getLength()-1,1),ae.delete(1)),fe.compose(ae)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API)}},{key:"setSelection",value:function(w,j,W){if(null==w)this.selection.setRange(null,j||ce.sources.API);else{var ne=de(w,j,W),fe=f(ne,4);W=fe[3],this.selection.setRange(new M.Range(w=fe[0],j=fe[1]),W),W!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(w){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API,W=(new C.default).insert(w);return this.setContents(W,j)}},{key:"update",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.sources.USER,j=this.scroll.update(w);return this.selection.update(w),j}},{key:"updateContents",value:function(w){var j=this,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API;return Q.call(this,function(){return w=new C.default(w),j.editor.applyDelta(w,W)},W,!0)}}]),ce}();function X(ce,z){if((z=(0,A.default)(!0,{container:ce,modules:{clipboard:!0,keyboard:!0,history:!0}},z)).theme&&z.theme!==K.DEFAULTS.theme){if(z.theme=K.import("themes/"+z.theme),null==z.theme)throw new Error("Invalid theme "+z.theme+". Did you register it?")}else z.theme=R.default;var w=(0,A.default)(!0,{},z.theme.DEFAULTS);[w,z].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(fe){!0===ne.modules[fe]&&(ne.modules[fe]={})})});var W=Object.keys(w.modules).concat(Object.keys(z.modules)).reduce(function(ne,fe){var ae=K.import("modules/"+fe);return null==ae?V.error("Cannot load "+fe+" module. Are you sure you registered it?"):ne[fe]=ae.DEFAULTS||{},ne},{});return null!=z.modules&&z.modules.toolbar&&z.modules.toolbar.constructor!==Object&&(z.modules.toolbar={container:z.modules.toolbar}),z=(0,A.default)(!0,{},K.DEFAULTS,{modules:W},w,z),["bounds","container","scrollingContainer"].forEach(function(ne){"string"==typeof z[ne]&&(z[ne]=document.querySelector(z[ne]))}),z.modules=Object.keys(z.modules).reduce(function(ne,fe){return z.modules[fe]&&(ne[fe]=z.modules[fe]),ne},{}),z}function Q(ce,z,w,j){if(this.options.strict&&!this.isEnabled()&&z===y.default.sources.USER)return new C.default;var W=null==w?null:this.getSelection(),ne=this.editor.delta,fe=ce();if(null!=W&&(!0===w&&(w=W.index),null==j?W=se(W,fe,z):0!==j&&(W=se(W,w,j,z)),this.setSelection(W,y.default.sources.SILENT)),fe.length()>0){var ae,Me,Ae=[y.default.events.TEXT_CHANGE,fe,ne,z];(ae=this.emitter).emit.apply(ae,[y.default.events.EDITOR_CHANGE].concat(Ae)),z!==y.default.sources.SILENT&&(Me=this.emitter).emit.apply(Me,Ae)}return fe}function de(ce,z,w,j,W){var ne={};return"number"==typeof ce.index&&"number"==typeof ce.length?"number"!=typeof z?(W=j,j=w,w=z,z=ce.length,ce=ce.index):(z=ce.length,ce=ce.index):"number"!=typeof z&&(W=j,j=w,w=z,z=0),"object"===(typeof w>"u"?"undefined":n(w))?(ne=w,W=j):"string"==typeof w&&(null!=j?ne[w]=j:W=w),[ce,z,ne,W=W||y.default.sources.API]}function se(ce,z,w,j){if(null==ce)return null;var W=void 0,ne=void 0;if(z instanceof C.default){var fe=[ce.index,ce.index+ce.length].map(function(Ve){return z.transformPosition(Ve,j!==y.default.sources.USER)}),ae=f(fe,2);W=ae[0],ne=ae[1]}else{var Ae=[ce.index,ce.index+ce.length].map(function(Ve){return Ve<z||Ve===z&&j===y.default.sources.USER?Ve:w>=0?Ve+w:Math.max(z,Ve+w)}),Me=f(Ae,2);W=Me[0],ne=Me[1]}return new M.Range(W,ne-W)}K.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},K.events=y.default.events,K.sources=y.default.sources,K.version="1.3.7",K.imports={delta:C.default,parchment:u.default,"core/module":m.default,"core/theme":R.default},a.expandConfig=X,a.overload=de,a.default=K},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function E(u,M){for(var x=0;x<M.length;x++){var D=M[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(u,D.key,D)}}return function(u,M,x){return M&&E(u.prototype,M),x&&E(u,x),u}}(),f=function E(u,M,x){null===u&&(u=Function.prototype);var D=Object.getOwnPropertyDescriptor(u,M);if(void 0===D){var A=Object.getPrototypeOf(u);return null===A?void 0:E(A,M,x)}if("value"in D)return D.value;var L=D.get;return void 0===L?void 0:L.call(x)},b=S(t(7)),g=S(t(0));function S(E){return E&&E.__esModule?E:{default:E}}var m=function(E){function u(){return function h(E,u){if(!(E instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function y(E,u){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?E:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function O(E,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);E.prototype=Object.create(u&&u.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(E,u):E.__proto__=u)}(u,E),n(u,[{key:"formatAt",value:function(x,D,A,L){if(u.compare(this.statics.blotName,A)<0&&g.default.query(A,g.default.Scope.BLOT)){var l=this.isolate(x,D);L&&l.wrap(A,L)}else f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"formatAt",this).call(this,x,D,A,L)}},{key:"optimize",value:function(x){if(f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,x),this.parent instanceof u&&u.compare(this.statics.blotName,this.parent.statics.blotName)>0){var D=this.parent.isolate(this.offset(),this.length());this.moveChildren(D),D.wrap(this)}}}],[{key:"compare",value:function(x,D){var A=u.order.indexOf(x),L=u.order.indexOf(D);return A>=0||L>=0?A-L:x===D?0:x<D?-1:1}}]),u}(g.default.Inline);m.allowedChildren=[m,g.default.Embed,b.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=m},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=function(h){function y(){return function b(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function C(h,y){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?h:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function g(h,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(h,y):h.__proto__=y)}(y,h),y}(function v(h){return h&&h.__esModule?h:{default:h}}(t(0)).default.Text);a.default=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function M(x,D){for(var A=0;A<D.length;A++){var L=D[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(x,L.key,L)}}return function(x,D,A){return D&&M(x.prototype,D),A&&M(x,A),x}}(),f=function M(x,D,A){null===x&&(x=Function.prototype);var L=Object.getOwnPropertyDescriptor(x,D);if(void 0===L){var l=Object.getPrototypeOf(x);return null===l?void 0:M(l,D,A)}if("value"in L)return L.value;var $=L.get;return void 0===$?void 0:$.call(A)},b=S(t(54));function S(M){return M&&M.__esModule?M:{default:M}}var m=(0,S(t(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(M){document.addEventListener(M,function(){for(var x=arguments.length,D=Array(x),A=0;A<x;A++)D[A]=arguments[A];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(L){var l;L.__quill&&L.__quill.emitter&&(l=L.__quill.emitter).handleDOM.apply(l,D)})})});var u=function(M){function x(){!function h(M,x){if(!(M instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var D=function y(M,x){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?M:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return D.listeners={},D.on("error",m.error),D}return function O(M,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);M.prototype=Object.create(x&&x.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(M,x):M.__proto__=x)}(x,M),n(x,[{key:"emit",value:function(){m.log.apply(m,arguments),f(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(A){for(var L=arguments.length,l=Array(L>1?L-1:0),$=1;$<L;$++)l[$-1]=arguments[$];(this.listeners[A.type]||[]).forEach(function(R){var F=R.node,P=R.handler;(A.target===F||F.contains(A.target))&&P.apply(void 0,[A].concat(l))})}},{key:"listenDOM",value:function(A,L,l){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push({node:L,handler:l})}}]),x}(b.default);u.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},u.sources={API:"api",SILENT:"silent",USER:"user"},a.default=u},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var f=function v(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function n(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.quill=b,this.options=C};f.DEFAULTS={},a.default=f},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=["error","warn","log","info"],f="warn";function v(C){if(n.indexOf(C)<=n.indexOf(f)){for(var g,S=arguments.length,h=Array(S>1?S-1:0),y=1;y<S;y++)h[y-1]=arguments[y];(g=console)[C].apply(g,h)}}function b(C){return n.reduce(function(g,S){return g[S]=v.bind(console,S,C),g},{})}v.level=b.level=function(C){f=C},a.default=b},function(ue,a,t){var n=Array.prototype.slice,f=t(52),v=t(53),b=ue.exports=function(h,y,O){return O||(O={}),h===y||(h instanceof Date&&y instanceof Date?h.getTime()===y.getTime():!h||!y||"object"!=typeof h&&"object"!=typeof y?O.strict?h===y:h==y:function S(h,y,O){var m,E;if(C(h)||C(y)||h.prototype!==y.prototype)return!1;if(v(h))return!!v(y)&&(h=n.call(h),y=n.call(y),b(h,y,O));if(g(h)){if(!g(y)||h.length!==y.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==y[m])return!1;return!0}try{var u=f(h),M=f(y)}catch{return!1}if(u.length!=M.length)return!1;for(u.sort(),M.sort(),m=u.length-1;m>=0;m--)if(u[m]!=M[m])return!1;for(m=u.length-1;m>=0;m--)if(!b(h[E=u[m]],y[E],O))return!1;return typeof h==typeof y}(h,y,O))};function C(h){return null==h}function g(h){return!(!h||"object"!=typeof h||"number"!=typeof h.length||"function"!=typeof h.copy||"function"!=typeof h.slice||h.length>0&&"number"!=typeof h[0])}},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(1),f=function(){function v(b,C,g){void 0===g&&(g={}),this.attrName=b,this.keyName=C,this.scope=null!=g.scope?g.scope&n.Scope.LEVEL|n.Scope.TYPE&n.Scope.ATTRIBUTE:n.Scope.ATTRIBUTE,null!=g.whitelist&&(this.whitelist=g.whitelist)}return v.keys=function(b){return[].map.call(b.attributes,function(C){return C.name})},v.prototype.add=function(b,C){return!!this.canAdd(b,C)&&(b.setAttribute(this.keyName,C),!0)},v.prototype.canAdd=function(b,C){return null!=n.query(b,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof C?this.whitelist.indexOf(C.replace(/["']/g,""))>-1:this.whitelist.indexOf(C)>-1))},v.prototype.remove=function(b){b.removeAttribute(this.keyName)},v.prototype.value=function(b){var C=b.getAttribute(this.keyName);return this.canAdd(b,C)&&C?C:""},v}();a.default=f},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var n=function(){return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function $(R,F){var P=[],k=!0,V=!1,K=void 0;try{for(var Q,X=R[Symbol.iterator]();!(k=(Q=X.next()).done)&&(P.push(Q.value),!F||P.length!==F);k=!0);}catch(de){V=!0,K=de}finally{try{!k&&X.return&&X.return()}finally{if(V)throw K}}return P}(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function $(R,F){for(var P=0;P<F.length;P++){var k=F[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,k.key,k)}}return function(R,F,P){return F&&$(R.prototype,F),P&&$(R,P),R}}(),v=function $(R,F,P){null===R&&(R=Function.prototype);var k=Object.getOwnPropertyDescriptor(R,F);if(void 0===k){var V=Object.getPrototypeOf(R);return null===V?void 0:$(V,F,P)}if("value"in k)return k.value;var K=k.get;return void 0===K?void 0:K.call(P)},C=M(t(2)),S=M(t(0)),y=M(t(4)),m=M(t(6)),u=M(t(7));function M($){return $&&$.__esModule?$:{default:$}}function x($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}function D($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}function A($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}var L=function($){function R(){return x(this,R),D(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return A(R,$),R}(m.default);L.blotName="code",L.tagName="CODE";var l=function($){function R(){return x(this,R),D(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return A(R,$),f(R,[{key:"delta",value:function(){var P=this,k=this.domNode.textContent;return k.endsWith("\n")&&(k=k.slice(0,-1)),k.split("\n").reduce(function(V,K){return V.insert(K).insert("\n",P.formats())},new C.default)}},{key:"format",value:function(P,k){if(P!==this.statics.blotName||!k){var V=this.descendant(u.default,this.length()-1),X=n(V,1)[0];X?.deleteAt(X.length()-1,1),v(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,P,k)}}},{key:"formatAt",value:function(P,k,V,K){if(0!==k&&null!=S.default.query(V,S.default.Scope.BLOCK)&&(V!==this.statics.blotName||K!==this.statics.formats(this.domNode))){var X=this.newlineIndex(P);if(!(X<0||X>=P+k)){var Q=this.newlineIndex(P,!0)+1,de=X-Q+1,se=this.isolate(Q,de),ce=se.next;se.format(V,K),ce instanceof R&&ce.formatAt(0,P-Q+k-de,V,K)}}}},{key:"insertAt",value:function(P,k,V){if(null==V){var K=this.descendant(u.default,P),X=n(K,2);X[0].insertAt(X[1],k)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?P:P+1}},{key:"newlineIndex",value:function(P){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,P).lastIndexOf("\n");var V=this.domNode.textContent.slice(P).indexOf("\n");return V>-1?P+V:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith("\n")||this.appendChild(S.default.create("text","\n")),v(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,P);var k=this.next;null!=k&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(P),k.moveChildren(this),k.remove())}},{key:"replace",value:function(P){v(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var V=S.default.find(k);null==V?k.parentNode.removeChild(k):V instanceof S.default.Embed?V.remove():V.unwrap()})}}],[{key:"create",value:function(P){var k=v(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,P);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),R}(y.default);l.blotName="code-block",l.tagName="PRE",l.TAB="  ",a.Code=L,a.default=l},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},f=function(){return function(z,w){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function ce(z,w){var j=[],W=!0,ne=!1,fe=void 0;try{for(var Ae,ae=z[Symbol.iterator]();!(W=(Ae=ae.next()).done)&&(j.push(Ae.value),!w||j.length!==w);W=!0);}catch(Me){ne=!0,fe=Me}finally{try{!W&&ae.return&&ae.return()}finally{if(ne)throw fe}}return j}(z,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function ce(z,w){for(var j=0;j<w.length;j++){var W=w[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,W.key,W)}}return function(z,w,j){return w&&ce(z.prototype,w),j&&ce(z,j),z}}(),C=k(t(2)),S=k(t(20)),y=k(t(0)),m=k(t(13)),u=k(t(24)),M=t(4),x=k(M),A=k(t(16)),l=k(t(21)),R=k(t(11)),P=k(t(3));function k(ce){return ce&&ce.__esModule?ce:{default:ce}}var X=/^[ -~]*$/,Q=function(){function ce(z){(function K(ce,z){if(!(ce instanceof z))throw new TypeError("Cannot call a class as a function")})(this,ce),this.scroll=z,this.delta=this.getDelta()}return v(ce,[{key:"applyDelta",value:function(w){var j=this,W=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),(w=function se(ce){return ce.reduce(function(z,w){if(1===w.insert){var j=(0,l.default)(w.attributes);return delete j.image,z.insert({image:w.attributes.image},j)}if(null!=w.attributes&&(!0===w.attributes.list||!0===w.attributes.bullet)&&((w=(0,l.default)(w)).attributes.list?w.attributes.list="ordered":(w.attributes.list="bullet",delete w.attributes.bullet)),"string"==typeof w.insert){var W=w.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return z.insert(W,w.attributes)}return z.push(w)},new C.default)}(w)).reduce(function(fe,ae){var Ae=ae.retain||ae.delete||ae.insert.length||1,Me=ae.attributes||{};if(null!=ae.insert){if("string"==typeof ae.insert){var Ve=ae.insert;Ve.endsWith("\n")&&W&&(W=!1,Ve=Ve.slice(0,-1)),fe>=ne&&!Ve.endsWith("\n")&&(W=!0),j.scroll.insertAt(fe,Ve);var We=j.scroll.line(fe),lt=f(We,2),nt=lt[0],$e=lt[1],Ie=(0,P.default)({},(0,M.bubbleFormats)(nt));if(nt instanceof x.default){var me=nt.descendant(y.default.Leaf,$e),De=f(me,1);Ie=(0,P.default)(Ie,(0,M.bubbleFormats)(De[0]))}Me=S.default.attributes.diff(Ie,Me)||{}}else if("object"===n(ae.insert)){var Qe=Object.keys(ae.insert)[0];if(null==Qe)return fe;j.scroll.insertAt(fe,Qe,ae.insert[Qe])}ne+=Ae}return Object.keys(Me).forEach(function(Ne){j.scroll.formatAt(fe,Ae,Ne,Me[Ne])}),fe+Ae},0),w.reduce(function(fe,ae){return"number"==typeof ae.delete?(j.scroll.deleteAt(fe,ae.delete),fe):fe+(ae.retain||ae.insert.length||1)},0),this.scroll.batchEnd(),this.update(w)}},{key:"deleteText",value:function(w,j){return this.scroll.deleteAt(w,j),this.update((new C.default).retain(w).delete(j))}},{key:"formatLine",value:function(w,j){var W=this,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(fe){if(null==W.scroll.whitelist||W.scroll.whitelist[fe]){var ae=W.scroll.lines(w,Math.max(j,1)),Ae=j;ae.forEach(function(Me){var Ve=Me.length();if(Me instanceof m.default){var We=w-Me.offset(W.scroll),lt=Me.newlineIndex(We+Ae)-We+1;Me.formatAt(We,lt,fe,ne[fe])}else Me.format(fe,ne[fe]);Ae-=Ve})}}),this.scroll.optimize(),this.update((new C.default).retain(w).retain(j,(0,l.default)(ne)))}},{key:"formatText",value:function(w,j){var W=this,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ne).forEach(function(fe){W.scroll.formatAt(w,j,fe,ne[fe])}),this.update((new C.default).retain(w).retain(j,(0,l.default)(ne)))}},{key:"getContents",value:function(w,j){return this.delta.slice(w,w+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(w,j){return w.concat(j.delta())},new C.default)}},{key:"getFormat",value:function(w){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=[],ne=[];0===j?this.scroll.path(w).forEach(function(ae){var Me=f(ae,1)[0];Me instanceof x.default?W.push(Me):Me instanceof y.default.Leaf&&ne.push(Me)}):(W=this.scroll.lines(w,j),ne=this.scroll.descendants(y.default.Leaf,w,j));var fe=[W,ne].map(function(ae){if(0===ae.length)return{};for(var Ae=(0,M.bubbleFormats)(ae.shift());Object.keys(Ae).length>0;){var Me=ae.shift();if(null==Me)return Ae;Ae=de((0,M.bubbleFormats)(Me),Ae)}return Ae});return P.default.apply(P.default,fe)}},{key:"getText",value:function(w,j){return this.getContents(w,j).filter(function(W){return"string"==typeof W.insert}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(w,j,W){return this.scroll.insertAt(w,j,W),this.update((new C.default).retain(w).insert(function V(ce,z,w){return z in ce?Object.defineProperty(ce,z,{value:w,enumerable:!0,configurable:!0,writable:!0}):ce[z]=w,ce}({},j,W)))}},{key:"insertText",value:function(w,j){var W=this,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j=j.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(w,j),Object.keys(ne).forEach(function(fe){W.scroll.formatAt(w,j.length,fe,ne[fe])}),this.update((new C.default).retain(w).insert(j,(0,l.default)(ne)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var w=this.scroll.children.head;return!(w.statics.blotName!==x.default.blotName||w.children.length>1)&&w.children.head instanceof A.default}},{key:"removeFormat",value:function(w,j){var W=this.getText(w,j),ne=this.scroll.line(w+j),fe=f(ne,2),ae=fe[0],Ae=fe[1],Me=0,Ve=new C.default;null!=ae&&(Me=ae instanceof m.default?ae.newlineIndex(Ae)-Ae+1:ae.length()-Ae,Ve=ae.delta().slice(Ae,Ae+Me-1).insert("\n"));var lt=this.getContents(w,j+Me).diff((new C.default).insert(W).concat(Ve)),nt=(new C.default).retain(w).concat(lt);return this.applyDelta(nt)}},{key:"update",value:function(w){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ne=this.delta;if(1===j.length&&"characterData"===j[0].type&&j[0].target.data.match(X)&&y.default.find(j[0].target)){var fe=y.default.find(j[0].target),ae=(0,M.bubbleFormats)(fe),Ae=fe.offset(this.scroll),Me=j[0].oldValue.replace(u.default.CONTENTS,""),Ve=(new C.default).insert(Me),We=(new C.default).insert(fe.value());w=(new C.default).retain(Ae).concat(Ve.diff(We,W)).reduce(function(nt,$e){return $e.insert?nt.insert($e.insert,ae):nt.push($e)},new C.default),this.delta=ne.compose(w)}else this.delta=this.getDelta(),(!w||!(0,R.default)(ne.compose(w),this.delta))&&(w=ne.diff(this.delta,W));return w}}]),ce}();function de(ce,z){return Object.keys(z).reduce(function(w,j){return null==ce[j]||(z[j]===ce[j]?w[j]=z[j]:Array.isArray(z[j])?z[j].indexOf(ce[j])<0&&(w[j]=z[j].concat([ce[j]])):w[j]=[z[j],ce[j]]),w},{})}a.default=Q},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var n=function(){return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function $(R,F){var P=[],k=!0,V=!1,K=void 0;try{for(var Q,X=R[Symbol.iterator]();!(k=(Q=X.next()).done)&&(P.push(Q.value),!F||P.length!==F);k=!0);}catch(de){V=!0,K=de}finally{try{!k&&X.return&&X.return()}finally{if(V)throw K}}return P}(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function $(R,F){for(var P=0;P<F.length;P++){var k=F[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,k.key,k)}}return function(R,F,P){return F&&$(R.prototype,F),P&&$(R,P),R}}(),b=u(t(0)),g=u(t(21)),h=u(t(11)),O=u(t(8));function u($){return $&&$.__esModule?$:{default:$}}function M($){if(Array.isArray($)){for(var R=0,F=Array($.length);R<$.length;R++)F[R]=$[R];return F}return Array.from($)}function x($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}var D=(0,u(t(10)).default)("quill:selection"),A=function $(R){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;x(this,$),this.index=R,this.length=F},L=function(){function $(R,F){var P=this;x(this,$),this.emitter=F,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=b.default.create("cursor",this),this.lastRange=this.savedRange=new A(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,O.default.sources.USER),1)}),this.emitter.on(O.default.events.EDITOR_CHANGE,function(k,V){k===O.default.events.TEXT_CHANGE&&V.length()>0&&P.update(O.default.sources.SILENT)}),this.emitter.on(O.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var k=P.getNativeRange();null!=k&&k.start.node!==P.cursor.textNode&&P.emitter.once(O.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(O.default.events.SCROLL_OPTIMIZE,function(k,V){if(V.range){var K=V.range;P.setNativeRange(K.startNode,K.startOffset,K.endNode,K.endOffset)}}),this.update(O.default.sources.SILENT)}return f($,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(O.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(null==this.scroll.whitelist||this.scroll.whitelist[F]){this.scroll.update();var k=this.getNativeRange();if(null!=k&&k.native.collapsed&&!b.default.query(F,b.default.Scope.BLOCK)){if(k.start.node!==this.cursor.textNode){var V=b.default.find(k.start.node,!1);if(null==V)return;if(V instanceof b.default.Leaf){var K=V.split(k.start.offset);V.parent.insertBefore(this.cursor,K)}else V.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,k=this.scroll.length();F=Math.min(F,k-1),P=Math.min(F+P,k-1)-F;var V=void 0,K=this.scroll.leaf(F),X=n(K,2),Q=X[0],de=X[1];if(null==Q)return null;var se=Q.position(de,!0),ce=n(se,2);V=ce[0],de=ce[1];var z=document.createRange();if(P>0){z.setStart(V,de);var w=this.scroll.leaf(F+P),j=n(w,2);if(null==(Q=j[0]))return null;var W=Q.position(de=j[1],!0),ne=n(W,2);return z.setEnd(V=ne[0],de=ne[1]),z.getBoundingClientRect()}var fe="left",ae=void 0;return V instanceof Text?(de<V.data.length?(z.setStart(V,de),z.setEnd(V,de+1)):(z.setStart(V,de-1),z.setEnd(V,de),fe="right"),ae=z.getBoundingClientRect()):(ae=Q.domNode.getBoundingClientRect(),de>0&&(fe="right")),{bottom:ae.top+ae.height,height:ae.height,left:ae[fe],right:ae[fe],top:ae.top,width:0}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(null==F||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(null==P)return null;var k=this.normalizeNative(P);return D.info("getNativeRange",k),k}},{key:"getRange",value:function(){var F=this.getNativeRange();return null==F?[null,null]:[this.normalizedToRange(F),F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,k=[[F.start.node,F.start.offset]];F.native.collapsed||k.push([F.end.node,F.end.offset]);var V=k.map(function(Q){var de=n(Q,2),se=de[0],ce=de[1],z=b.default.find(se,!0),w=z.offset(P.scroll);return 0===ce?w:z instanceof b.default.Container?w+z.length():w+z.index(se,ce)}),K=Math.min(Math.max.apply(Math,M(V)),this.scroll.length()-1),X=Math.min.apply(Math,[K].concat(M(V)));return new A(X,K-X)}},{key:"normalizeNative",value:function(F){if(!l(this.root,F.startContainer)||!F.collapsed&&!l(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(k){for(var V=k.node,K=k.offset;!(V instanceof Text)&&V.childNodes.length>0;)if(V.childNodes.length>K)V=V.childNodes[K],K=0;else{if(V.childNodes.length!==K)break;K=(V=V.lastChild)instanceof Text?V.data.length:V.childNodes.length+1}k.node=V,k.offset=K}),P}},{key:"rangeToNative",value:function(F){var P=this,k=F.collapsed?[F.index]:[F.index,F.index+F.length],V=[],K=this.scroll.length();return k.forEach(function(X,Q){X=Math.min(K-1,X);var se=P.scroll.leaf(X),ce=n(se,2),w=ce[1],j=ce[0].position(w,0!==Q),W=n(j,2);V.push(W[0],w=W[1])}),V.length<2&&(V=V.concat(V)),V}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(null!=P){var k=this.getBounds(P.index,P.length);if(null!=k){var V=this.scroll.length()-1,K=this.scroll.line(Math.min(P.index,V)),Q=n(K,1)[0],de=Q;if(P.length>0){var se=this.scroll.line(Math.min(P.index+P.length,V));de=n(se,1)[0]}if(null!=Q&&null!=de){var z=F.getBoundingClientRect();k.top<z.top?F.scrollTop-=z.top-k.top:k.bottom>z.bottom&&(F.scrollTop+=k.bottom-z.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P,K=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(D.info("setNativeRange",F,P,k,V),null==F||null!=this.root.parentNode&&null!=F.parentNode&&null!=k.parentNode){var X=document.getSelection();if(null!=X)if(null!=F){this.hasFocus()||this.root.focus();var Q=(this.getNativeRange()||{}).native;if(null==Q||K||F!==Q.startContainer||P!==Q.startOffset||k!==Q.endContainer||V!==Q.endOffset){"BR"==F.tagName&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),"BR"==k.tagName&&(V=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var de=document.createRange();de.setStart(F,P),de.setEnd(k,V),X.removeAllRanges(),X.addRange(de)}}else X.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&void 0!==arguments[1]&&arguments[1],k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.default.sources.API;if("string"==typeof P&&(k=P,P=!1),D.info("setRange",F),null!=F){var V=this.rangeToNative(F);this.setNativeRange.apply(this,M(V).concat([P]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.default.sources.USER,P=this.lastRange,k=this.getRange(),V=n(k,2),X=V[1];if(this.lastRange=V[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var Q;!this.composing&&null!=X&&X.native.collapsed&&X.start.node!==this.cursor.textNode&&this.cursor.restore();var se,de=[O.default.events.SELECTION_CHANGE,(0,g.default)(this.lastRange),(0,g.default)(P),F];(Q=this.emitter).emit.apply(Q,[O.default.events.EDITOR_CHANGE].concat(de)),F!==O.default.sources.SILENT&&(se=this.emitter).emit.apply(se,de)}}}]),$}();function l($,R){return R instanceof Text&&(R=R.parentNode),$.contains(R)}a.Range=A,a.default=L},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function O(m,E){for(var u=0;u<E.length;u++){var M=E[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}return function(m,E,u){return E&&O(m.prototype,E),u&&O(m,u),m}}(),f=function O(m,E,u){null===m&&(m=Function.prototype);var M=Object.getOwnPropertyDescriptor(m,E);if(void 0===M){var x=Object.getPrototypeOf(m);return null===x?void 0:O(x,E,u)}if("value"in M)return M.value;var D=M.get;return void 0===D?void 0:D.call(u)};var y=function(O){function m(){return function g(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function S(O,m){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?O:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function h(O,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);O.prototype=Object.create(m&&m.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(O,m):O.__proto__=m)}(m,O),n(m,[{key:"insertInto",value:function(u,M){0===u.children.length?f(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,u,M):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(function C(O){return O&&O.__esModule?O:{default:O}}(t(0)).default.Embed);y.blotName="break",y.tagName="BR",a.default=y},function(ue,a,t){"use strict";var S,n=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var O in y)y.hasOwnProperty(O)&&(h[O]=y[O])},function(h,y){function O(){this.constructor=h}S(h,y),h.prototype=null===y?Object.create(y):(O.prototype=y.prototype,new O)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(44),v=t(30),b=t(1),C=function(S){function h(y){var O=S.call(this,y)||this;return O.build(),O}return n(h,S),h.prototype.appendChild=function(y){this.insertBefore(y)},h.prototype.attach=function(){S.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},h.prototype.build=function(){var y=this;this.children=new f.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(O){try{var m=g(O);y.insertBefore(m,y.children.head||void 0)}catch(E){if(E instanceof b.ParchmentError)return;throw E}})},h.prototype.deleteAt=function(y,O){if(0===y&&O===this.length())return this.remove();this.children.forEachAt(y,O,function(m,E,u){m.deleteAt(E,u)})},h.prototype.descendant=function(y,O){var m=this.children.find(O),E=m[0],u=m[1];return null==y.blotName&&y(E)||null!=y.blotName&&E instanceof y?[E,u]:E instanceof h?E.descendant(y,u):[null,-1]},h.prototype.descendants=function(y,O,m){void 0===O&&(O=0),void 0===m&&(m=Number.MAX_VALUE);var E=[],u=m;return this.children.forEachAt(O,m,function(M,x,D){(null==y.blotName&&y(M)||null!=y.blotName&&M instanceof y)&&E.push(M),M instanceof h&&(E=E.concat(M.descendants(y,x,u))),u-=D}),E},h.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),S.prototype.detach.call(this)},h.prototype.formatAt=function(y,O,m,E){this.children.forEachAt(y,O,function(u,M,x){u.formatAt(M,x,m,E)})},h.prototype.insertAt=function(y,O,m){var E=this.children.find(y),u=E[0];if(u)u.insertAt(E[1],O,m);else{var x=null==m?b.create("text",O):b.create(O,m);this.appendChild(x)}},h.prototype.insertBefore=function(y,O){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(m){return y instanceof m}))throw new b.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,O)},h.prototype.length=function(){return this.children.reduce(function(y,O){return y+O.length()},0)},h.prototype.moveChildren=function(y,O){this.children.forEach(function(m){y.insertBefore(m,O)})},h.prototype.optimize=function(y){if(S.prototype.optimize.call(this,y),0===this.children.length)if(null!=this.statics.defaultChild){var O=b.create(this.statics.defaultChild);this.appendChild(O),O.optimize(y)}else this.remove()},h.prototype.path=function(y,O){void 0===O&&(O=!1);var m=this.children.find(y,O),E=m[0],u=m[1],M=[[this,y]];return E instanceof h?M.concat(E.path(u,O)):(null!=E&&M.push([E,u]),M)},h.prototype.removeChild=function(y){this.children.remove(y)},h.prototype.replace=function(y){y instanceof h&&y.moveChildren(this),S.prototype.replace.call(this,y)},h.prototype.split=function(y,O){if(void 0===O&&(O=!1),!O){if(0===y)return this;if(y===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(y,this.length(),function(E,u,M){E=E.split(u,O),m.appendChild(E)}),m},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(y,O){var m=this,E=[],u=[];y.forEach(function(M){M.target===m.domNode&&"childList"===M.type&&(E.push.apply(E,M.addedNodes),u.push.apply(u,M.removedNodes))}),u.forEach(function(M){if(!(null!=M.parentNode&&"IFRAME"!==M.tagName&&document.body.compareDocumentPosition(M)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=b.find(M);null!=x&&(null==x.domNode.parentNode||x.domNode.parentNode===m.domNode)&&x.detach()}}),E.filter(function(M){return M.parentNode==m.domNode}).sort(function(M,x){return M===x?0:M.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(M){var x=null;null!=M.nextSibling&&(x=b.find(M.nextSibling));var D=g(M);(D.next!=x||null==D.next)&&(null!=D.parent&&D.parent.removeChild(m),m.insertBefore(D,x||void 0))})},h}(v.default);function g(S){var h=b.find(S);if(null==h)try{h=b.create(S)}catch{h=b.create(b.Scope.INLINE),[].slice.call(S.childNodes).forEach(function(O){h.domNode.appendChild(O)}),S.parentNode&&S.parentNode.replaceChild(h.domNode,S),h.attach()}return h}a.default=C},function(ue,a,t){"use strict";var S,n=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var O in y)y.hasOwnProperty(O)&&(h[O]=y[O])},function(h,y){function O(){this.constructor=h}S(h,y),h.prototype=null===y?Object.create(y):(O.prototype=y.prototype,new O)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(12),v=t(31),b=t(17),C=t(1),g=function(S){function h(y){var O=S.call(this,y)||this;return O.attributes=new v.default(O.domNode),O}return n(h,S),h.formats=function(y){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?y.tagName.toLowerCase():void 0)},h.prototype.format=function(y,O){var m=C.query(y);m instanceof f.default?this.attributes.attribute(m,O):O&&null!=m&&(y!==this.statics.blotName||this.formats()[y]!==O)&&this.replaceWith(y,O)},h.prototype.formats=function(){var y=this.attributes.values(),O=this.statics.formats(this.domNode);return null!=O&&(y[this.statics.blotName]=O),y},h.prototype.replaceWith=function(y,O){var m=S.prototype.replaceWith.call(this,y,O);return this.attributes.copy(m),m},h.prototype.update=function(y,O){var m=this;S.prototype.update.call(this,y,O),y.some(function(E){return E.target===m.domNode&&"attributes"===E.type})&&this.attributes.build()},h.prototype.wrap=function(y,O){var m=S.prototype.wrap.call(this,y,O);return m instanceof h&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},h}(b.default);a.default=g},function(ue,a,t){"use strict";var C,n=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var h in S)S.hasOwnProperty(h)&&(g[h]=S[h])},function(g,S){function h(){this.constructor=g}C(g,S),g.prototype=null===S?Object.create(S):(h.prototype=S.prototype,new h)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(30),v=t(1),b=function(C){function g(){return null!==C&&C.apply(this,arguments)||this}return n(g,C),g.value=function(S){return!0},g.prototype.index=function(S,h){return this.domNode===S||this.domNode.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},g.prototype.position=function(S,h){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return S>0&&(y+=1),[this.parent.domNode,y]},g.prototype.value=function(){var S;return(S={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,S},g.scope=v.Scope.INLINE_BLOT,g}(f.default);a.default=b},function(ue,a,t){var n=t(11),f=t(3),v={attributes:{compose:function(C,g,S){"object"!=typeof C&&(C={}),"object"!=typeof g&&(g={});var h=f(!0,{},g);for(var y in S||(h=Object.keys(h).reduce(function(O,m){return null!=h[m]&&(O[m]=h[m]),O},{})),C)void 0!==C[y]&&void 0===g[y]&&(h[y]=C[y]);return Object.keys(h).length>0?h:void 0},diff:function(C,g){"object"!=typeof C&&(C={}),"object"!=typeof g&&(g={});var S=Object.keys(C).concat(Object.keys(g)).reduce(function(h,y){return n(C[y],g[y])||(h[y]=void 0===g[y]?null:g[y]),h},{});return Object.keys(S).length>0?S:void 0},transform:function(C,g,S){if("object"!=typeof C)return g;if("object"==typeof g){if(!S)return g;var h=Object.keys(g).reduce(function(y,O){return void 0===C[O]&&(y[O]=g[O]),y},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(C){return new b(C)},length:function(C){return"number"==typeof C.delete?C.delete:"number"==typeof C.retain?C.retain:"string"==typeof C.insert?C.insert.length:1}};function b(C){this.ops=C,this.index=0,this.offset=0}b.prototype.hasNext=function(){return this.peekLength()<1/0},b.prototype.next=function(C){C||(C=1/0);var g=this.ops[this.index];if(g){var S=this.offset,h=v.length(g);if(C>=h-S?(C=h-S,this.index+=1,this.offset=0):this.offset+=C,"number"==typeof g.delete)return{delete:C};var y={};return g.attributes&&(y.attributes=g.attributes),"number"==typeof g.retain?y.retain=C:y.insert="string"==typeof g.insert?g.insert.substr(S,C):g.insert,y}return{retain:1/0}},b.prototype.peek=function(){return this.ops[this.index]},b.prototype.peekLength=function(){return this.ops[this.index]?v.length(this.ops[this.index])-this.offset:1/0},b.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},b.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var C=this.offset,g=this.index,S=this.next(),h=this.ops.slice(this.index);return this.offset=C,this.index=g,[S].concat(h)}return[]},ue.exports=v},function(ue,a){var t=function(){"use strict";function n(m,E){return null!=E&&m instanceof E}var f,v,b;try{f=Map}catch{f=function(){}}try{v=Set}catch{v=function(){}}try{b=Promise}catch{b=function(){}}function C(m,E,u,M,x){"object"==typeof E&&(u=E.depth,M=E.prototype,x=E.includeNonEnumerable,E=E.circular);var D=[],A=[],L=typeof Buffer<"u";return typeof E>"u"&&(E=!0),typeof u>"u"&&(u=1/0),function l($,R){if(null===$)return null;if(0===R)return $;var F,P;if("object"!=typeof $)return $;if(n($,f))F=new f;else if(n($,v))F=new v;else if(n($,b))F=new b(function(z,w){$.then(function(j){z(l(j,R-1))},function(j){w(l(j,R-1))})});else if(C.__isArray($))F=[];else if(C.__isRegExp($))F=new RegExp($.source,O($)),$.lastIndex&&(F.lastIndex=$.lastIndex);else if(C.__isDate($))F=new Date($.getTime());else{if(L&&Buffer.isBuffer($))return F=Buffer.allocUnsafe?Buffer.allocUnsafe($.length):new Buffer($.length),$.copy(F),F;n($,Error)?F=Object.create($):typeof M>"u"?(P=Object.getPrototypeOf($),F=Object.create(P)):(F=Object.create(M),P=M)}if(E){var k=D.indexOf($);if(-1!=k)return A[k];D.push($),A.push(F)}for(var V in n($,f)&&$.forEach(function(z,w){var j=l(w,R-1),W=l(z,R-1);F.set(j,W)}),n($,v)&&$.forEach(function(z){var w=l(z,R-1);F.add(w)}),$){var K;P&&(K=Object.getOwnPropertyDescriptor(P,V)),(!K||null!=K.set)&&(F[V]=l($[V],R-1))}if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols($);for(V=0;V<X.length;V++){var Q=X[V];(de=Object.getOwnPropertyDescriptor($,Q))&&!de.enumerable&&!x||(F[Q]=l($[Q],R-1),de.enumerable||Object.defineProperty(F,Q,{enumerable:!1}))}}if(x){var se=Object.getOwnPropertyNames($);for(V=0;V<se.length;V++){var de,ce=se[V];(de=Object.getOwnPropertyDescriptor($,ce))&&de.enumerable||(F[ce]=l($[ce],R-1),Object.defineProperty(F,ce,{enumerable:!1}))}}return F}(m,u)}function g(m){return Object.prototype.toString.call(m)}function O(m){var E="";return m.global&&(E+="g"),m.ignoreCase&&(E+="i"),m.multiline&&(E+="m"),E}return C.clonePrototype=function(E){if(null===E)return null;var u=function(){};return u.prototype=E,new u},C.__objToStr=g,C.__isDate=function S(m){return"object"==typeof m&&"[object Date]"===g(m)},C.__isArray=function h(m){return"object"==typeof m&&"[object Array]"===g(m)},C.__isRegExp=function y(m){return"object"==typeof m&&"[object RegExp]"===g(m)},C.__getRegExpFlags=O,C}();"object"==typeof ue&&ue.exports&&(ue.exports=t)},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){return function(P,k){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function F(P,k){var V=[],K=!0,X=!1,Q=void 0;try{for(var se,de=P[Symbol.iterator]();!(K=(se=de.next()).done)&&(V.push(se.value),!k||V.length!==k);K=!0);}catch(ce){X=!0,Q=ce}finally{try{!K&&de.return&&de.return()}finally{if(X)throw Q}}return V}(P,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function F(P,k){for(var V=0;V<k.length;V++){var K=k[V];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}return function(P,k,V){return k&&F(P.prototype,k),V&&F(P,V),P}}(),v=function F(P,k,V){null===P&&(P=Function.prototype);var K=Object.getOwnPropertyDescriptor(P,k);if(void 0===K){var X=Object.getPrototypeOf(P);return null===X?void 0:F(X,k,V)}if("value"in K)return K.value;var Q=K.get;return void 0===Q?void 0:Q.call(V)},C=D(t(0)),S=D(t(8)),h=t(4),y=D(h),m=D(t(16)),u=D(t(13)),x=D(t(25));function D(F){return F&&F.__esModule?F:{default:F}}function $(F){return F instanceof y.default||F instanceof h.BlockEmbed}var R=function(F){function P(k,V){!function A(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var K=function L(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?F:P}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k));return K.emitter=V.emitter,Array.isArray(V.whitelist)&&(K.whitelist=V.whitelist.reduce(function(X,Q){return X[Q]=!0,X},{})),K.domNode.addEventListener("DOMNodeInserted",function(){}),K.optimize(),K.enable(),K}return function l(F,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}(P,F),f(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(V,K){var X=this.line(V),Q=n(X,2),de=Q[0],se=Q[1],ce=this.line(V+K),w=n(ce,1)[0];if(v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,V,K),null!=w&&de!==w&&se>0){if(de instanceof h.BlockEmbed||w instanceof h.BlockEmbed)return void this.optimize();if(de instanceof u.default){var j=de.newlineIndex(de.length(),!0);if(j>-1&&(de=de.split(j+1))===w)return void this.optimize()}else if(w instanceof u.default){var W=w.newlineIndex(0);W>-1&&w.split(W+1)}de.moveChildren(w,w.children.head instanceof m.default?null:w.children.head),de.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(V,K,X,Q){null!=this.whitelist&&!this.whitelist[X]||(v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,V,K,X,Q),this.optimize())}},{key:"insertAt",value:function(V,K,X){if(null==X||null==this.whitelist||this.whitelist[K]){if(V>=this.length())if(null==X||null==C.default.query(K,C.default.Scope.BLOCK)){var Q=C.default.create(this.statics.defaultChild);this.appendChild(Q),null==X&&K.endsWith("\n")&&(K=K.slice(0,-1)),Q.insertAt(0,K,X)}else{var de=C.default.create(K,X);this.appendChild(de)}else v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,V,K,X);this.optimize()}}},{key:"insertBefore",value:function(V,K){if(V.statics.scope===C.default.Scope.INLINE_BLOT){var X=C.default.create(this.statics.defaultChild);X.appendChild(V),V=X}v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,V,K)}},{key:"leaf",value:function(V){return this.path(V).pop()||[null,-1]}},{key:"line",value:function(V){return V===this.length()?this.line(V-1):this.descendant($,V)}},{key:"lines",value:function(){return function Q(de,se,ce){var z=[],w=ce;return de.children.forEachAt(se,ce,function(j,W,ne){$(j)?z.push(j):j instanceof C.default.Container&&(z=z.concat(Q(j,W,w))),w-=ne}),z}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,V,K),V.length>0&&this.emitter.emit(S.default.events.SCROLL_OPTIMIZE,V,K))}},{key:"path",value:function(V){return v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,V).slice(1)}},{key:"update",value:function(V){if(!0!==this.batch){var K=S.default.sources.USER;"string"==typeof V&&(K=V),Array.isArray(V)||(V=this.observer.takeRecords()),V.length>0&&this.emitter.emit(S.default.events.SCROLL_BEFORE_UPDATE,K,V),v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,V.concat([])),V.length>0&&this.emitter.emit(S.default.events.SCROLL_UPDATE,K,V)}}}]),P}(C.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[y.default,h.BlockEmbed,x.default],a.default=R},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},f=function(){return function(Ae,Me){if(Array.isArray(Ae))return Ae;if(Symbol.iterator in Object(Ae))return function ae(Ae,Me){var Ve=[],We=!0,lt=!1,nt=void 0;try{for(var Ie,$e=Ae[Symbol.iterator]();!(We=(Ie=$e.next()).done)&&(Ve.push(Ie.value),!Me||Ve.length!==Me);We=!0);}catch(me){lt=!0,nt=me}finally{try{!We&&$e.return&&$e.return()}finally{if(lt)throw nt}}return Ve}(Ae,Me);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function ae(Ae,Me){for(var Ve=0;Ve<Me.length;Ve++){var We=Me[Ve];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(Ae,We.key,We)}}return function(Ae,Me,Ve){return Me&&ae(Ae.prototype,Me),Ve&&ae(Ae,Ve),Ae}}(),C=F(t(21)),S=F(t(11)),y=F(t(3)),m=F(t(2)),u=F(t(20)),x=F(t(0)),A=F(t(5)),l=F(t(10)),R=F(t(9));function F(ae){return ae&&ae.__esModule?ae:{default:ae}}function P(ae,Ae,Me){return Ae in ae?Object.defineProperty(ae,Ae,{value:Me,enumerable:!0,configurable:!0,writable:!0}):ae[Ae]=Me,ae}var X=(0,l.default)("quill:keyboard"),Q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",de=function(ae){function Ae(Me,Ve){!function k(ae,Ae){if(!(ae instanceof Ae))throw new TypeError("Cannot call a class as a function")}(this,Ae);var We=function V(ae,Ae){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ae||"object"!=typeof Ae&&"function"!=typeof Ae?ae:Ae}(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this,Me,Ve));return We.bindings={},Object.keys(We.options.bindings).forEach(function(lt){"list autofill"===lt&&null!=Me.scroll.whitelist&&!Me.scroll.whitelist.list||We.options.bindings[lt]&&We.addBinding(We.options.bindings[lt])}),We.addBinding({key:Ae.keys.ENTER,shiftKey:null},j),We.addBinding({key:Ae.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(We.addBinding({key:Ae.keys.BACKSPACE},{collapsed:!0},ce),We.addBinding({key:Ae.keys.DELETE},{collapsed:!0},z)):(We.addBinding({key:Ae.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ce),We.addBinding({key:Ae.keys.DELETE},{collapsed:!0,suffix:/^.?$/},z)),We.addBinding({key:Ae.keys.BACKSPACE},{collapsed:!1},w),We.addBinding({key:Ae.keys.DELETE},{collapsed:!1},w),We.addBinding({key:Ae.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ce),We.listen(),We}return function K(ae,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Super expression must either be null or a function, not "+typeof Ae);ae.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),Ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,Ae):ae.__proto__=Ae)}(Ae,ae),v(Ae,null,[{key:"match",value:function(Ve,We){return We=fe(We),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(lt){return!!We[lt]!==Ve[lt]&&null!==We[lt]})&&We.key===(Ve.which||Ve.keyCode)}}]),v(Ae,[{key:"addBinding",value:function(Ve){var We=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},lt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},nt=fe(Ve);if(null==nt||null==nt.key)return X.warn("Attempted to add invalid keyboard binding",nt);"function"==typeof We&&(We={handler:We}),"function"==typeof lt&&(lt={handler:lt}),nt=(0,y.default)(nt,We,lt),this.bindings[nt.key]=this.bindings[nt.key]||[],this.bindings[nt.key].push(nt)}},{key:"listen",value:function(){var Ve=this;this.quill.root.addEventListener("keydown",function(We){if(!We.defaultPrevented){var nt=(Ve.bindings[We.which||We.keyCode]||[]).filter(function(Ze){return Ae.match(We,Ze)});if(0!==nt.length){var $e=Ve.quill.getSelection();if(null!=$e&&Ve.quill.hasFocus()){var Ie=Ve.quill.getLine($e.index),me=f(Ie,2),De=me[0],ke=me[1],Qe=Ve.quill.getLeaf($e.index),Ne=f(Qe,2),at=Ne[0],Lt=Ne[1],Kt=0===$e.length?[at,Lt]:Ve.quill.getLeaf($e.index+$e.length),Ot=f(Kt,2),Se=Ot[0],ve=Ot[1],N=at instanceof x.default.Text?at.value().slice(0,Lt):"",ie=Se instanceof x.default.Text?Se.value().slice(ve):"",Y={collapsed:0===$e.length,empty:0===$e.length&&De.length()<=1,format:Ve.quill.getFormat($e),offset:ke,prefix:N,suffix:ie};nt.some(function(Ze){if(null!=Ze.collapsed&&Ze.collapsed!==Y.collapsed||null!=Ze.empty&&Ze.empty!==Y.empty||null!=Ze.offset&&Ze.offset!==Y.offset)return!1;if(Array.isArray(Ze.format)){if(Ze.format.every(function(Ft){return null==Y.format[Ft]}))return!1}else if("object"===n(Ze.format)&&!Object.keys(Ze.format).every(function(Ft){return!0===Ze.format[Ft]?null!=Y.format[Ft]:!1===Ze.format[Ft]?null==Y.format[Ft]:(0,S.default)(Ze.format[Ft],Y.format[Ft])}))return!1;return!(null!=Ze.prefix&&!Ze.prefix.test(Y.prefix)||null!=Ze.suffix&&!Ze.suffix.test(Y.suffix))&&!0!==Ze.handler.call(Ve,$e,Y)})&&We.preventDefault()}}}})}}]),Ae}(R.default);function se(ae,Ae){var Me;return P(Me={key:ae,shiftKey:Ae,altKey:null},ae===de.keys.LEFT?"prefix":"suffix",/^$/),P(Me,"handler",function(lt){var nt=lt.index;ae===de.keys.RIGHT&&(nt+=lt.length+1);var $e=this.quill.getLeaf(nt);return!(f($e,1)[0]instanceof x.default.Embed&&(ae===de.keys.LEFT?Ae?this.quill.setSelection(lt.index-1,lt.length+1,A.default.sources.USER):this.quill.setSelection(lt.index-1,A.default.sources.USER):Ae?this.quill.setSelection(lt.index,lt.length+1,A.default.sources.USER):this.quill.setSelection(lt.index+lt.length+1,A.default.sources.USER),1))}),Me}function ce(ae,Ae){if(!(0===ae.index||this.quill.getLength()<=1)){var Me=this.quill.getLine(ae.index),We=f(Me,1)[0],lt={};if(0===Ae.offset){var nt=this.quill.getLine(ae.index-1),Ie=f(nt,1)[0];if(null!=Ie&&Ie.length()>1){var me=We.formats(),De=this.quill.getFormat(ae.index-1,1);lt=u.default.attributes.diff(me,De)||{}}}var ke=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Ae.prefix)?2:1;this.quill.deleteText(ae.index-ke,ke,A.default.sources.USER),Object.keys(lt).length>0&&this.quill.formatLine(ae.index-ke,ke,lt,A.default.sources.USER),this.quill.focus()}}function z(ae,Ae){var Me=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Ae.suffix)?2:1;if(!(ae.index>=this.quill.getLength()-Me)){var Ve={},We=0,lt=this.quill.getLine(ae.index),$e=f(lt,1)[0];if(Ae.offset>=$e.length()-1){var Ie=this.quill.getLine(ae.index+1),De=f(Ie,1)[0];if(De){var ke=$e.formats(),Qe=this.quill.getFormat(ae.index,1);Ve=u.default.attributes.diff(ke,Qe)||{},We=De.length()}}this.quill.deleteText(ae.index,Me,A.default.sources.USER),Object.keys(Ve).length>0&&this.quill.formatLine(ae.index+We-1,Me,Ve,A.default.sources.USER)}}function w(ae){var Ae=this.quill.getLines(ae),Me={};if(Ae.length>1){var Ve=Ae[0].formats(),We=Ae[Ae.length-1].formats();Me=u.default.attributes.diff(We,Ve)||{}}this.quill.deleteText(ae,A.default.sources.USER),Object.keys(Me).length>0&&this.quill.formatLine(ae.index,1,Me,A.default.sources.USER),this.quill.setSelection(ae.index,A.default.sources.SILENT),this.quill.focus()}function j(ae,Ae){var Me=this;ae.length>0&&this.quill.scroll.deleteAt(ae.index,ae.length);var Ve=Object.keys(Ae.format).reduce(function(We,lt){return x.default.query(lt,x.default.Scope.BLOCK)&&!Array.isArray(Ae.format[lt])&&(We[lt]=Ae.format[lt]),We},{});this.quill.insertText(ae.index,"\n",Ve,A.default.sources.USER),this.quill.setSelection(ae.index+1,A.default.sources.SILENT),this.quill.focus(),Object.keys(Ae.format).forEach(function(We){null==Ve[We]&&(Array.isArray(Ae.format[We])||"link"!==We&&Me.quill.format(We,Ae.format[We],A.default.sources.USER))})}function W(ae){return{key:de.keys.TAB,shiftKey:!ae,format:{"code-block":!0},handler:function(Me){var Ve=x.default.query("code-block"),We=Me.index,lt=Me.length,nt=this.quill.scroll.descendant(Ve,We),$e=f(nt,2),Ie=$e[0],me=$e[1];if(null!=Ie){var De=this.quill.getIndex(Ie),ke=Ie.newlineIndex(me,!0)+1,Qe=Ie.newlineIndex(De+me+lt),Ne=Ie.domNode.textContent.slice(ke,Qe).split("\n");me=0,Ne.forEach(function(at,Lt){ae?(Ie.insertAt(ke+me,Ve.TAB),me+=Ve.TAB.length,0===Lt?We+=Ve.TAB.length:lt+=Ve.TAB.length):at.startsWith(Ve.TAB)&&(Ie.deleteAt(ke+me,Ve.TAB.length),me-=Ve.TAB.length,0===Lt?We-=Ve.TAB.length:lt-=Ve.TAB.length),me+=at.length+1}),this.quill.update(A.default.sources.USER),this.quill.setSelection(We,lt,A.default.sources.SILENT)}}}}function ne(ae){return{key:ae[0].toUpperCase(),shortKey:!0,handler:function(Me,Ve){this.quill.format(ae,!Ve.format[ae],A.default.sources.USER)}}}function fe(ae){if("string"==typeof ae||"number"==typeof ae)return fe({key:ae});if("object"===(typeof ae>"u"?"undefined":n(ae))&&(ae=(0,C.default)(ae,!1)),"string"==typeof ae.key)if(null!=de.keys[ae.key.toUpperCase()])ae.key=de.keys[ae.key.toUpperCase()];else{if(1!==ae.key.length)return null;ae.key=ae.key.toUpperCase().charCodeAt(0)}return ae.shortKey&&(ae[Q]=ae.shortKey,delete ae.shortKey),ae}de.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},de.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:de.keys.TAB,format:["blockquote","indent","list"],handler:function(Ae,Me){if(Me.collapsed&&0!==Me.offset)return!0;this.quill.format("indent","+1",A.default.sources.USER)}},outdent:{key:de.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Ae,Me){if(Me.collapsed&&0!==Me.offset)return!0;this.quill.format("indent","-1",A.default.sources.USER)}},"outdent backspace":{key:de.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Ae,Me){null!=Me.format.indent?this.quill.format("indent","-1",A.default.sources.USER):null!=Me.format.list&&this.quill.format("list",!1,A.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:de.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Ae){this.quill.deleteText(Ae.index-1,1,A.default.sources.USER)}},tab:{key:de.keys.TAB,handler:function(Ae){this.quill.history.cutoff();var Me=(new m.default).retain(Ae.index).delete(Ae.length).insert("\t");this.quill.updateContents(Me,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Ae.index+1,A.default.sources.SILENT)}},"list empty enter":{key:de.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Ae,Me){this.quill.format("list",!1,A.default.sources.USER),Me.format.indent&&this.quill.format("indent",!1,A.default.sources.USER)}},"checklist enter":{key:de.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Ae){var Me=this.quill.getLine(Ae.index),Ve=f(Me,2),We=Ve[0],lt=Ve[1],nt=(0,y.default)({},We.formats(),{list:"checked"}),$e=(new m.default).retain(Ae.index).insert("\n",nt).retain(We.length()-lt-1).retain(1,{list:"unchecked"});this.quill.updateContents($e,A.default.sources.USER),this.quill.setSelection(Ae.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:de.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Ae,Me){var Ve=this.quill.getLine(Ae.index),We=f(Ve,2),lt=We[0],nt=We[1],$e=(new m.default).retain(Ae.index).insert("\n",Me.format).retain(lt.length()-nt-1).retain(1,{header:null});this.quill.updateContents($e,A.default.sources.USER),this.quill.setSelection(Ae.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Ae,Me){var Ve=Me.prefix.length,We=this.quill.getLine(Ae.index),lt=f(We,2),nt=lt[0],$e=lt[1];if($e>Ve)return!0;var Ie=void 0;switch(Me.prefix.trim()){case"[]":case"[ ]":Ie="unchecked";break;case"[x]":Ie="checked";break;case"-":case"*":Ie="bullet";break;default:Ie="ordered"}this.quill.insertText(Ae.index," ",A.default.sources.USER),this.quill.history.cutoff();var me=(new m.default).retain(Ae.index-$e).delete(Ve+1).retain(nt.length()-2-$e).retain(1,{list:Ie});this.quill.updateContents(me,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Ae.index-Ve,A.default.sources.SILENT)}},"code exit":{key:de.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Ae){var Me=this.quill.getLine(Ae.index),Ve=f(Me,2),We=Ve[0],lt=Ve[1],nt=(new m.default).retain(Ae.index+We.length()-lt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(nt,A.default.sources.USER)}},"embed left":se(de.keys.LEFT,!1),"embed left shift":se(de.keys.LEFT,!0),"embed right":se(de.keys.RIGHT,!1),"embed right shift":se(de.keys.RIGHT,!0)}},a.default=de,a.SHORTKEY=Q},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function u(M,x){var D=[],A=!0,L=!1,l=void 0;try{for(var R,$=M[Symbol.iterator]();!(A=(R=$.next()).done)&&(D.push(R.value),!x||D.length!==x);A=!0);}catch(F){L=!0,l=F}finally{try{!A&&$.return&&$.return()}finally{if(L)throw l}}return D}(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function u(M,x,D){null===M&&(M=Function.prototype);var A=Object.getOwnPropertyDescriptor(M,x);if(void 0===A){var L=Object.getPrototypeOf(M);return null===L?void 0:u(L,x,D)}if("value"in A)return A.value;var l=A.get;return void 0===l?void 0:l.call(D)},v=function(){function u(M,x){for(var D=0;D<x.length;D++){var A=x[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(M,A.key,A)}}return function(M,x,D){return x&&u(M.prototype,x),D&&u(M,D),M}}(),C=h(t(0)),S=h(t(7));function h(u){return u&&u.__esModule?u:{default:u}}var E=function(u){function M(x,D){!function y(u,M){if(!(u instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M);var A=function O(u,M){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?u:M}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,x));return A.selection=D,A.textNode=document.createTextNode(M.CONTENTS),A.domNode.appendChild(A.textNode),A._length=0,A}return function m(u,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);u.prototype=Object.create(M&&M.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(u,M):u.__proto__=M)}(M,u),v(M,null,[{key:"value",value:function(){}}]),v(M,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(D,A){if(0!==this._length)return f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,D,A);for(var L=this,l=0;null!=L&&L.statics.scope!==C.default.Scope.BLOCK_BLOT;)l+=L.offset(L.parent),L=L.parent;null!=L&&(this._length=M.CONTENTS.length,L.optimize(),L.formatAt(l,M.CONTENTS.length,D,A),this._length=0)}},{key:"index",value:function(D,A){return D===this.textNode?0:f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"index",this).call(this,D,A)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var D=this.textNode,A=this.selection.getNativeRange(),L=void 0,l=void 0,$=void 0;if(null!=A&&A.start.node===D&&A.end.node===D){var R=[D,A.start.offset,A.end.offset];L=R[0],l=R[1],$=R[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==M.CONTENTS){var F=this.textNode.data.split(M.CONTENTS).join("");this.next instanceof S.default?(L=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=M.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(C.default.create(this.textNode),this),this.textNode=document.createTextNode(M.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=l){var P=[l,$].map(function(V){return Math.max(0,Math.min(L.data.length,V-1))}),k=n(P,2);return{startNode:L,startOffset:l=k[0],endNode:L,endOffset:$=k[1]}}}}},{key:"update",value:function(D,A){var L=this;if(D.some(function($){return"characterData"===$.type&&$.target===L.textNode})){var l=this.restore();l&&(A.range=l)}}},{key:"value",value:function(){return""}}]),M}(C.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\ufeff",a.default=E},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var f=C(t(0)),v=t(4),b=C(v);function C(O){return O&&O.__esModule?O:{default:O}}var y=function(O){function m(){return function g(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function S(O,m){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?O:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function h(O,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);O.prototype=Object.create(m&&m.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(O,m):O.__proto__=m)}(m,O),m}(f.default.Container);y.allowedChildren=[b.default,v.BlockEmbed,y],a.default=y},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var n=function(){function E(u,M){for(var x=0;x<M.length;x++){var D=M[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(u,D.key,D)}}return function(u,M,x){return M&&E(u.prototype,M),x&&E(u,x),u}}(),f=function E(u,M,x){null===u&&(u=Function.prototype);var D=Object.getOwnPropertyDescriptor(u,M);if(void 0===D){var A=Object.getPrototypeOf(u);return null===A?void 0:E(A,M,x)}if("value"in D)return D.value;var L=D.get;return void 0===L?void 0:L.call(x)},b=function C(E){return E&&E.__esModule?E:{default:E}}(t(0));var y=function(E){function u(){return function g(E,u){if(!(E instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function S(E,u){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?E:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function h(E,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);E.prototype=Object.create(u&&u.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(E,u):E.__proto__=u)}(u,E),n(u,[{key:"value",value:function(x){var D=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"value",this).call(this,x);return D.startsWith("rgb(")?"#"+(D=D.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(A){return("00"+parseInt(A).toString(16)).slice(-2)}).join(""):D}}]),u}(b.default.Attributor.Style),O=new b.default.Attributor.Class("color","ql-color",{scope:b.default.Scope.INLINE}),m=new y("color","color",{scope:b.default.Scope.INLINE});a.ColorAttributor=y,a.ColorClass=O,a.ColorStyle=m},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var n=function(){function m(E,u){for(var M=0;M<u.length;M++){var x=u[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,u,M){return u&&m(E.prototype,u),M&&m(E,M),E}}(),f=function m(E,u,M){null===E&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,u);if(void 0===x){var D=Object.getPrototypeOf(E);return null===D?void 0:m(D,u,M)}if("value"in x)return x.value;var A=x.get;return void 0===A?void 0:A.call(M)};var y=function(m){function E(){return function g(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}(this,E),function S(m,E){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?m:E}(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return function h(m,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);m.prototype=Object.create(E&&E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(m,E):m.__proto__=E)}(E,m),n(E,[{key:"format",value:function(M,x){if(M!==this.statics.blotName||!x)return f(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,M,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(M){var x=f(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,M);return M=this.sanitize(M),x.setAttribute("href",M),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(M){return M.getAttribute("href")}},{key:"sanitize",value:function(M){return O(M,this.PROTOCOL_WHITELIST)?M:this.SANITIZED_URL}}]),E}(function C(m){return m&&m.__esModule?m:{default:m}}(t(6)).default);function O(m,E){var u=document.createElement("a");u.href=m;var M=u.href.slice(0,u.href.indexOf(":"));return E.indexOf(M)>-1}y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"],a.default=y,a.sanitize=O},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f=function(){function E(u,M){for(var x=0;x<M.length;x++){var D=M[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(u,D.key,D)}}return function(u,M,x){return M&&E(u.prototype,M),x&&E(u,x),u}}(),b=S(t(23)),g=S(t(107));function S(E){return E&&E.__esModule?E:{default:E}}var y=0;function O(E,u){E.setAttribute(u,"true"!==E.getAttribute(u))}var m=function(){function E(u){var M=this;(function h(E,u){if(!(E instanceof u))throw new TypeError("Cannot call a class as a function")})(this,E),this.select=u,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){M.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case b.default.keys.ENTER:M.togglePicker();break;case b.default.keys.ESCAPE:M.escape(),x.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return f(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),O(this.label,"aria-expanded"),O(this.options,"aria-hidden")}},{key:"buildItem",value:function(M){var x=this,D=document.createElement("span");return D.tabIndex="0",D.setAttribute("role","button"),D.classList.add("ql-picker-item"),M.hasAttribute("value")&&D.setAttribute("data-value",M.getAttribute("value")),M.textContent&&D.setAttribute("data-label",M.textContent),D.addEventListener("click",function(){x.selectItem(D,!0)}),D.addEventListener("keydown",function(A){switch(A.keyCode){case b.default.keys.ENTER:x.selectItem(D,!0),A.preventDefault();break;case b.default.keys.ESCAPE:x.escape(),A.preventDefault()}}),D}},{key:"buildLabel",value:function(){var M=document.createElement("span");return M.classList.add("ql-picker-label"),M.innerHTML=g.default,M.tabIndex="0",M.setAttribute("role","button"),M.setAttribute("aria-expanded","false"),this.container.appendChild(M),M}},{key:"buildOptions",value:function(){var M=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(D){var A=M.buildItem(D);x.appendChild(A),!0===D.selected&&M.selectItem(A)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var M=this;[].slice.call(this.select.attributes).forEach(function(x){M.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var M=this;this.close(),setTimeout(function(){return M.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(M){var x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],D=this.container.querySelector(".ql-selected");if(M!==D&&(D?.classList.remove("ql-selected"),null!=M&&(M.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(M.parentNode.children,M),M.hasAttribute("data-value")?this.label.setAttribute("data-value",M.getAttribute("data-value")):this.label.removeAttribute("data-value"),M.hasAttribute("data-label")?this.label.setAttribute("data-label",M.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":n(Event))){var A=document.createEvent("Event");A.initEvent("change",!0,!0),this.select.dispatchEvent(A)}this.close()}}},{key:"update",value:function(){var M=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];M=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var D=null!=M&&M!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",D)}}]),E}();a.default=m},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var f=X(t(0)),b=X(t(5)),C=t(4),g=X(C),h=X(t(16)),O=X(t(25)),E=X(t(24)),M=X(t(35)),D=X(t(6)),L=X(t(22)),$=X(t(7)),F=X(t(55)),k=X(t(42)),K=X(t(23));function X(Q){return Q&&Q.__esModule?Q:{default:Q}}b.default.register({"blots/block":g.default,"blots/block/embed":C.BlockEmbed,"blots/break":h.default,"blots/container":O.default,"blots/cursor":E.default,"blots/embed":M.default,"blots/inline":D.default,"blots/scroll":L.default,"blots/text":$.default,"modules/clipboard":F.default,"modules/history":k.default,"modules/keyboard":K.default}),f.default.register(g.default,h.default,E.default,D.default,L.default,$.default),a.default=b.default},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(1),f=function(){function v(b){this.domNode=b,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(v.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),v.create=function(b){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var C;return Array.isArray(this.tagName)?("string"==typeof b&&(b=b.toUpperCase(),parseInt(b).toString()===b&&(b=parseInt(b))),C="number"==typeof b?document.createElement(this.tagName[b-1]):this.tagName.indexOf(b)>-1?document.createElement(b):document.createElement(this.tagName[0])):C=document.createElement(this.tagName),this.className&&C.classList.add(this.className),C},v.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},v.prototype.clone=function(){var b=this.domNode.cloneNode(!1);return n.create(b)},v.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},v.prototype.deleteAt=function(b,C){this.isolate(b,C).remove()},v.prototype.formatAt=function(b,C,g,S){var h=this.isolate(b,C);if(null!=n.query(g,n.Scope.BLOT)&&S)h.wrap(g,S);else if(null!=n.query(g,n.Scope.ATTRIBUTE)){var y=n.create(this.statics.scope);h.wrap(y),y.format(g,S)}},v.prototype.insertAt=function(b,C,g){var S=null==g?n.create("text",C):n.create(C,g),h=this.split(b);this.parent.insertBefore(S,h)},v.prototype.insertInto=function(b,C){void 0===C&&(C=null),null!=this.parent&&this.parent.children.remove(this);var g=null;b.children.insertBefore(this,C),null!=C&&(g=C.domNode),(this.domNode.parentNode!=b.domNode||this.domNode.nextSibling!=g)&&b.domNode.insertBefore(this.domNode,g),this.parent=b,this.attach()},v.prototype.isolate=function(b,C){var g=this.split(b);return g.split(C),g},v.prototype.length=function(){return 1},v.prototype.offset=function(b){return void 0===b&&(b=this.parent),null==this.parent||this==b?0:this.parent.children.offset(this)+this.parent.offset(b)},v.prototype.optimize=function(b){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},v.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},v.prototype.replace=function(b){null!=b.parent&&(b.parent.insertBefore(this,b.next),b.remove())},v.prototype.replaceWith=function(b,C){var g="string"==typeof b?n.create(b,C):b;return g.replace(this),g},v.prototype.split=function(b,C){return 0===b?this:this.next},v.prototype.update=function(b,C){},v.prototype.wrap=function(b,C){var g="string"==typeof b?n.create(b,C):b;return null!=this.parent&&this.parent.insertBefore(g,this.next),g.appendChild(this),g},v.blotName="abstract",v}();a.default=f},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(12),f=t(32),v=t(33),b=t(1),C=function(){function g(S){this.attributes={},this.domNode=S,this.build()}return g.prototype.attribute=function(S,h){h?S.add(this.domNode,h)&&(null!=S.value(this.domNode)?this.attributes[S.attrName]=S:delete this.attributes[S.attrName]):(S.remove(this.domNode),delete this.attributes[S.attrName])},g.prototype.build=function(){var S=this;this.attributes={};var h=n.default.keys(this.domNode),y=f.default.keys(this.domNode),O=v.default.keys(this.domNode);h.concat(y).concat(O).forEach(function(m){var E=b.query(m,b.Scope.ATTRIBUTE);E instanceof n.default&&(S.attributes[E.attrName]=E)})},g.prototype.copy=function(S){var h=this;Object.keys(this.attributes).forEach(function(y){var O=h.attributes[y].value(h.domNode);S.format(y,O)})},g.prototype.move=function(S){var h=this;this.copy(S),Object.keys(this.attributes).forEach(function(y){h.attributes[y].remove(h.domNode)}),this.attributes={}},g.prototype.values=function(){var S=this;return Object.keys(this.attributes).reduce(function(h,y){return h[y]=S.attributes[y].value(S.domNode),h},{})},g}();a.default=C},function(ue,a,t){"use strict";var C,n=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var h in S)S.hasOwnProperty(h)&&(g[h]=S[h])},function(g,S){function h(){this.constructor=g}C(g,S),g.prototype=null===S?Object.create(S):(h.prototype=S.prototype,new h)});function v(C,g){return(C.getAttribute("class")||"").split(/\s+/).filter(function(h){return 0===h.indexOf(g+"-")})}Object.defineProperty(a,"__esModule",{value:!0});var b=function(C){function g(){return null!==C&&C.apply(this,arguments)||this}return n(g,C),g.keys=function(S){return(S.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},g.prototype.add=function(S,h){return!!this.canAdd(S,h)&&(this.remove(S),S.classList.add(this.keyName+"-"+h),!0)},g.prototype.remove=function(S){v(S,this.keyName).forEach(function(y){S.classList.remove(y)}),0===S.classList.length&&S.removeAttribute("class")},g.prototype.value=function(S){var y=(v(S,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(S,y)?y:""},g}(t(12).default);a.default=b},function(ue,a,t){"use strict";var C,n=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var h in S)S.hasOwnProperty(h)&&(g[h]=S[h])},function(g,S){function h(){this.constructor=g}C(g,S),g.prototype=null===S?Object.create(S):(h.prototype=S.prototype,new h)});function v(C){var g=C.split("-"),S=g.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return g[0]+S}Object.defineProperty(a,"__esModule",{value:!0});var b=function(C){function g(){return null!==C&&C.apply(this,arguments)||this}return n(g,C),g.keys=function(S){return(S.getAttribute("style")||"").split(";").map(function(h){return h.split(":")[0].trim()})},g.prototype.add=function(S,h){return!!this.canAdd(S,h)&&(S.style[v(this.keyName)]=h,!0)},g.prototype.remove=function(S){S.style[v(this.keyName)]="",S.getAttribute("style")||S.removeAttribute("style")},g.prototype.value=function(S){var h=S.style[v(this.keyName)];return this.canAdd(S,h)?h:""},g}(t(12).default);a.default=b},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function b(C,g){for(var S=0;S<g.length;S++){var h=g[S];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(C,h.key,h)}}return function(C,g,S){return g&&b(C.prototype,g),S&&b(C,S),C}}();var v=function(){function b(C,g){(function f(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")})(this,b),this.quill=C,this.options=g,this.modules={}}return n(b,[{key:"init",value:function(){var g=this;Object.keys(this.options.modules).forEach(function(S){null==g.modules[S]&&g.addModule(S)})}},{key:"addModule",value:function(g){var S=this.quill.constructor.import("modules/"+g);return this.modules[g]=new S(this.quill,this.options.modules[g]||{}),this.modules[g]}}]),b}();v.DEFAULTS={modules:{}},v.themes={default:v},a.default=v},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function u(M,x){for(var D=0;D<x.length;D++){var A=x[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(M,A.key,A)}}return function(M,x,D){return x&&u(M.prototype,x),D&&u(M,D),M}}(),f=function u(M,x,D){null===M&&(M=Function.prototype);var A=Object.getOwnPropertyDescriptor(M,x);if(void 0===A){var L=Object.getPrototypeOf(M);return null===L?void 0:u(L,x,D)}if("value"in A)return A.value;var l=A.get;return void 0===l?void 0:l.call(D)},b=S(t(0)),g=S(t(7));function S(u){return u&&u.__esModule?u:{default:u}}var m="\ufeff",E=function(u){function M(x){!function h(u,M){if(!(u instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M);var D=function y(u,M){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?u:M}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,x));return D.contentNode=document.createElement("span"),D.contentNode.setAttribute("contenteditable",!1),[].slice.call(D.domNode.childNodes).forEach(function(A){D.contentNode.appendChild(A)}),D.leftGuard=document.createTextNode(m),D.rightGuard=document.createTextNode(m),D.domNode.appendChild(D.leftGuard),D.domNode.appendChild(D.contentNode),D.domNode.appendChild(D.rightGuard),D}return function O(u,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);u.prototype=Object.create(M&&M.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(u,M):u.__proto__=M)}(M,u),n(M,[{key:"index",value:function(D,A){return D===this.leftGuard?0:D===this.rightGuard?1:f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"index",this).call(this,D,A)}},{key:"restore",value:function(D){var A=void 0,L=void 0,l=D.data.split(m).join("");if(D===this.leftGuard)if(this.prev instanceof g.default){var $=this.prev.length();this.prev.insertAt($,l),A={startNode:this.prev.domNode,startOffset:$+l.length}}else L=document.createTextNode(l),this.parent.insertBefore(b.default.create(L),this),A={startNode:L,startOffset:l.length};else D===this.rightGuard&&(this.next instanceof g.default?(this.next.insertAt(0,l),A={startNode:this.next.domNode,startOffset:l.length}):(L=document.createTextNode(l),this.parent.insertBefore(b.default.create(L),this.next),A={startNode:L,startOffset:l.length}));return D.data=m,A}},{key:"update",value:function(D,A){var L=this;D.forEach(function(l){if("characterData"===l.type&&(l.target===L.leftGuard||l.target===L.rightGuard)){var $=L.restore(l.target);$&&(A.range=$)}})}}]),M}(b.default.Embed);a.default=E},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var f=function v(h){return h&&h.__esModule?h:{default:h}}(t(0));var b={scope:f.default.Scope.BLOCK,whitelist:["right","center","justify"]},C=new f.default.Attributor.Attribute("align","align",b),g=new f.default.Attributor.Class("align","ql-align",b),S=new f.default.Attributor.Style("align","text-align",b);a.AlignAttribute=C,a.AlignClass=g,a.AlignStyle=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var f=function b(S){return S&&S.__esModule?S:{default:S}}(t(0)),v=t(26);var C=new f.default.Attributor.Class("background","ql-bg",{scope:f.default.Scope.INLINE}),g=new v.ColorAttributor("background","background-color",{scope:f.default.Scope.INLINE});a.BackgroundClass=C,a.BackgroundStyle=g},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var f=function v(h){return h&&h.__esModule?h:{default:h}}(t(0));var b={scope:f.default.Scope.BLOCK,whitelist:["rtl"]},C=new f.default.Attributor.Attribute("direction","dir",b),g=new f.default.Attributor.Class("direction","ql-direction",b),S=new f.default.Attributor.Style("direction","direction",b);a.DirectionAttribute=C,a.DirectionClass=g,a.DirectionStyle=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var n=function(){function u(M,x){for(var D=0;D<x.length;D++){var A=x[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(M,A.key,A)}}return function(M,x,D){return x&&u(M.prototype,x),D&&u(M,D),M}}(),f=function u(M,x,D){null===M&&(M=Function.prototype);var A=Object.getOwnPropertyDescriptor(M,x);if(void 0===A){var L=Object.getPrototypeOf(M);return null===L?void 0:u(L,x,D)}if("value"in A)return A.value;var l=A.get;return void 0===l?void 0:l.call(D)},b=function C(u){return u&&u.__esModule?u:{default:u}}(t(0));var y={scope:b.default.Scope.INLINE,whitelist:["serif","monospace"]},O=new b.default.Attributor.Class("font","ql-font",y),m=function(u){function M(){return function g(u,M){if(!(u instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function S(u,M){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?u:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function h(u,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);u.prototype=Object.create(M&&M.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(u,M):u.__proto__=M)}(M,u),n(M,[{key:"value",value:function(D){return f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"value",this).call(this,D).replace(/["']/g,"")}}]),M}(b.default.Attributor.Style),E=new m("font","font-family",y);a.FontStyle=E,a.FontClass=O},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var f=function v(g){return g&&g.__esModule?g:{default:g}}(t(0));var b=new f.default.Attributor.Class("size","ql-size",{scope:f.default.Scope.INLINE,whitelist:["small","large","huge"]}),C=new f.default.Attributor.Style("size","font-size",{scope:f.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=b,a.SizeStyle=C},function(ue,a,t){"use strict";ue.exports={align:{"":t(76),center:t(77),right:t(78),justify:t(79)},background:t(80),blockquote:t(81),bold:t(82),clean:t(83),code:t(58),"code-block":t(58),color:t(84),direction:{"":t(85),rtl:t(86)},float:{center:t(87),full:t(88),left:t(89),right:t(90)},formula:t(91),header:{1:t(92),2:t(93)},italic:t(94),image:t(95),indent:{"+1":t(96),"-1":t(97)},link:t(98),list:{ordered:t(99),bullet:t(100),check:t(101)},script:{sub:t(102),super:t(103)},strike:t(104),underline:t(105),video:t(106)}},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var n=function(){function x(D,A){for(var L=0;L<A.length;L++){var l=A[L];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(D,l.key,l)}}return function(D,A,L){return A&&x(D.prototype,A),L&&x(D,L),D}}(),v=h(t(0)),C=h(t(5));function h(x){return x&&x.__esModule?x:{default:x}}var E=function(x){function D(A,L){!function y(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}(this,D);var l=function O(x,D){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?x:D}(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,A,L));return l.lastRecorded=0,l.ignoreChange=!1,l.clear(),l.quill.on(C.default.events.EDITOR_CHANGE,function($,R,F,P){$!==C.default.events.TEXT_CHANGE||l.ignoreChange||(l.options.userOnly&&P!==C.default.sources.USER?l.transform(R):l.record(R,F))}),l.quill.keyboard.addBinding({key:"Z",shortKey:!0},l.undo.bind(l)),l.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},l.redo.bind(l)),/Win/i.test(navigator.platform)&&l.quill.keyboard.addBinding({key:"Y",shortKey:!0},l.redo.bind(l)),l}return function m(x,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(x,D):x.__proto__=D)}(D,x),n(D,[{key:"change",value:function(L,l){if(0!==this.stack[L].length){var $=this.stack[L].pop();this.stack[l].push($),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents($[L],C.default.sources.USER),this.ignoreChange=!1;var R=M($[L]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(L,l){if(0!==L.ops.length){this.stack.redo=[];var $=this.quill.getContents().diff(l),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var F=this.stack.undo.pop();$=$.compose(F.undo),L=F.redo.compose(L)}else this.lastRecorded=R;this.stack.undo.push({redo:L,undo:$}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(L){this.stack.undo.forEach(function(l){l.undo=L.transform(l.undo,!0),l.redo=L.transform(l.redo,!0)}),this.stack.redo.forEach(function(l){l.undo=L.transform(l.undo,!0),l.redo=L.transform(l.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),D}(h(t(9)).default);function M(x){var D=x.reduce(function(L,l){return L+(l.delete||0)},0),A=x.length()-D;return function u(x){var D=x.ops[x.ops.length-1];return null!=D&&(null!=D.insert?"string"==typeof D.insert&&D.insert.endsWith("\n"):null!=D.attributes&&Object.keys(D.attributes).some(function(A){return null!=v.default.query(A,v.default.Scope.BLOCK)}))}(x)&&(A-=1),A}E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},a.default=E,a.getLastChangeIndex=M},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var n=function(){function j(W,ne){for(var fe=0;fe<ne.length;fe++){var ae=ne[fe];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(W,ae.key,ae)}}return function(W,ne,fe){return ne&&j(W.prototype,ne),fe&&j(W,fe),W}}(),f=function j(W,ne,fe){null===W&&(W=Function.prototype);var ae=Object.getOwnPropertyDescriptor(W,ne);if(void 0===ae){var Ae=Object.getPrototypeOf(W);return null===Ae?void 0:j(Ae,ne,fe)}if("value"in ae)return ae.value;var Me=ae.get;return void 0===Me?void 0:Me.call(fe)},b=R(t(3)),g=R(t(2)),h=R(t(8)),O=R(t(23)),E=R(t(34)),M=R(t(59)),D=R(t(60)),L=R(t(28)),$=R(t(61));function R(j){return j&&j.__esModule?j:{default:j}}function F(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function P(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?j:W}function k(j,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var V=[!1,"center","right","justify"],K=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X=[!1,"serif","monospace"],Q=["1","2","3",!1],de=["small",!1,"large","huge"],se=function(j){function W(ne,fe){F(this,W);var ae=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,fe));return ne.emitter.listenDOM("click",document.body,function Me(Ve){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",Me);null!=ae.tooltip&&!ae.tooltip.root.contains(Ve.target)&&document.activeElement!==ae.tooltip.textbox&&!ae.quill.hasFocus()&&ae.tooltip.hide(),null!=ae.pickers&&ae.pickers.forEach(function(We){We.container.contains(Ve.target)||We.close()})}),ae}return k(W,j),n(W,[{key:"addModule",value:function(fe){var ae=f(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,fe);return"toolbar"===fe&&this.extendToolbar(ae),ae}},{key:"buildButtons",value:function(fe,ae){fe.forEach(function(Ae){(Ae.getAttribute("class")||"").split(/\s+/).forEach(function(Ve){if(Ve.startsWith("ql-")&&(Ve=Ve.slice(3),null!=ae[Ve]))if("direction"===Ve)Ae.innerHTML=ae[Ve][""]+ae[Ve].rtl;else if("string"==typeof ae[Ve])Ae.innerHTML=ae[Ve];else{var We=Ae.value||"";null!=We&&ae[Ve][We]&&(Ae.innerHTML=ae[Ve][We])}})})}},{key:"buildPickers",value:function(fe,ae){var Ae=this;this.pickers=fe.map(function(Ve){if(Ve.classList.contains("ql-align"))return null==Ve.querySelector("option")&&w(Ve,V),new D.default(Ve,ae.align);if(Ve.classList.contains("ql-background")||Ve.classList.contains("ql-color")){var We=Ve.classList.contains("ql-background")?"background":"color";return null==Ve.querySelector("option")&&w(Ve,K,"background"===We?"#ffffff":"#000000"),new M.default(Ve,ae[We])}return null==Ve.querySelector("option")&&(Ve.classList.contains("ql-font")?w(Ve,X):Ve.classList.contains("ql-header")?w(Ve,Q):Ve.classList.contains("ql-size")&&w(Ve,de)),new L.default(Ve)}),this.quill.on(h.default.events.EDITOR_CHANGE,function(){Ae.pickers.forEach(function(We){We.update()})})}}]),W}(E.default);se.DEFAULTS=(0,b.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,ne=this.container.querySelector("input.ql-image[type=file]");null==ne&&((ne=document.createElement("input")).setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(null!=ne.files&&null!=ne.files[0]){var fe=new FileReader;fe.onload=function(ae){var Ae=W.quill.getSelection(!0);W.quill.updateContents((new g.default).retain(Ae.index).delete(Ae.length).insert({image:ae.target.result}),h.default.sources.USER),W.quill.setSelection(Ae.index+1,h.default.sources.SILENT),ne.value=""},fe.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ce=function(j){function W(ne,fe){F(this,W);var ae=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,fe));return ae.textbox=ae.root.querySelector('input[type="text"]'),ae.listen(),ae}return k(W,j),n(W,[{key:"listen",value:function(){var fe=this;this.textbox.addEventListener("keydown",function(ae){O.default.match(ae,"enter")?(fe.save(),ae.preventDefault()):O.default.match(ae,"escape")&&(fe.cancel(),ae.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=ae?this.textbox.value=ae:fe!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+fe)||""),this.root.setAttribute("data-mode",fe)}},{key:"restoreFocus",value:function(){var fe=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=fe}},{key:"save",value:function(){var fe=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var ae=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",fe,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",fe,h.default.sources.USER)),this.quill.root.scrollTop=ae;break;case"video":fe=function z(j){var W=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":j}(fe);case"formula":if(!fe)break;var Ae=this.quill.getSelection(!0);if(null!=Ae){var Me=Ae.index+Ae.length;this.quill.insertEmbed(Me,this.root.getAttribute("data-mode"),fe,h.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Me+1," ",h.default.sources.USER),this.quill.setSelection(Me+2,h.default.sources.USER)}}this.textbox.value="",this.hide()}}]),W}($.default);function w(j,W){var ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2];W.forEach(function(fe){var ae=document.createElement("option");fe===ne?ae.setAttribute("selected","selected"):ae.setAttribute("value",fe),j.appendChild(ae)})}a.BaseTooltip=ce,a.default=se},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function f(){this.head=this.tail=null,this.length=0}return f.prototype.append=function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];this.insertBefore(v[0],null),v.length>1&&this.append.apply(this,v.slice(1))},f.prototype.contains=function(v){for(var b,C=this.iterator();b=C();)if(b===v)return!0;return!1},f.prototype.insertBefore=function(v,b){v&&(v.next=b,null!=b?(v.prev=b.prev,null!=b.prev&&(b.prev.next=v),b.prev=v,b===this.head&&(this.head=v)):null!=this.tail?(this.tail.next=v,v.prev=this.tail,this.tail=v):(v.prev=null,this.head=this.tail=v),this.length+=1)},f.prototype.offset=function(v){for(var b=0,C=this.head;null!=C;){if(C===v)return b;b+=C.length(),C=C.next}return-1},f.prototype.remove=function(v){this.contains(v)&&(null!=v.prev&&(v.prev.next=v.next),null!=v.next&&(v.next.prev=v.prev),v===this.head&&(this.head=v.next),v===this.tail&&(this.tail=v.prev),this.length-=1)},f.prototype.iterator=function(v){return void 0===v&&(v=this.head),function(){var b=v;return null!=v&&(v=v.next),b}},f.prototype.find=function(v,b){void 0===b&&(b=!1);for(var C,g=this.iterator();C=g();){var S=C.length();if(v<S||b&&v===S&&(null==C.next||0!==C.next.length()))return[C,v];v-=S}return[null,0]},f.prototype.forEach=function(v){for(var b,C=this.iterator();b=C();)v(b)},f.prototype.forEachAt=function(v,b,C){if(!(b<=0))for(var y,g=this.find(v),O=v-g[1],m=this.iterator(g[0]);(y=m())&&O<v+b;){var E=y.length();v>O?C(y,v-O,Math.min(b,O+E-v)):C(y,0,Math.min(E,v+b-O)),O+=E}},f.prototype.map=function(v){return this.reduce(function(b,C){return b.push(v(C)),b},[])},f.prototype.reduce=function(v,b){for(var C,g=this.iterator();C=g();)b=v(b,C);return b},f}();a.default=n},function(ue,a,t){"use strict";var S,n=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var O in y)y.hasOwnProperty(O)&&(h[O]=y[O])},function(h,y){function O(){this.constructor=h}S(h,y),h.prototype=null===y?Object.create(y):(O.prototype=y.prototype,new O)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(17),v=t(1),b={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=function(S){function h(y){var O=S.call(this,y)||this;return O.scroll=O,O.observer=new MutationObserver(function(m){O.update(m)}),O.observer.observe(O.domNode,b),O.attach(),O}return n(h,S),h.prototype.detach=function(){S.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(y,O){this.update(),0===y&&O===this.length()?this.children.forEach(function(m){m.remove()}):S.prototype.deleteAt.call(this,y,O)},h.prototype.formatAt=function(y,O,m,E){this.update(),S.prototype.formatAt.call(this,y,O,m,E)},h.prototype.insertAt=function(y,O,m){this.update(),S.prototype.insertAt.call(this,y,O,m)},h.prototype.optimize=function(y,O){var m=this;void 0===y&&(y=[]),void 0===O&&(O={}),S.prototype.optimize.call(this,O);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)y.push(E.pop());for(var u=function(A,L){void 0===L&&(L=!0),null!=A&&A!==m&&null!=A.domNode.parentNode&&(null==A.domNode[v.DATA_KEY].mutations&&(A.domNode[v.DATA_KEY].mutations=[]),L&&u(A.parent))},M=function(A){null==A.domNode[v.DATA_KEY]||null==A.domNode[v.DATA_KEY].mutations||(A instanceof f.default&&A.children.forEach(M),A.optimize(O))},x=y,D=0;x.length>0;D+=1){if(D>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(A){var L=v.find(A.target,!0);null!=L&&(L.domNode===A.target&&("childList"===A.type?(u(v.find(A.previousSibling,!1)),[].forEach.call(A.addedNodes,function(l){var $=v.find(l,!1);u($,!1),$ instanceof f.default&&$.children.forEach(function(R){u(R,!1)})})):"attributes"===A.type&&u(L.prev)),u(L))}),this.children.forEach(M),E=(x=[].slice.call(this.observer.takeRecords())).slice();E.length>0;)y.push(E.pop())}},h.prototype.update=function(y,O){var m=this;void 0===O&&(O={}),(y=y||this.observer.takeRecords()).map(function(E){var u=v.find(E.target,!0);return null==u?null:null==u.domNode[v.DATA_KEY].mutations?(u.domNode[v.DATA_KEY].mutations=[E],u):(u.domNode[v.DATA_KEY].mutations.push(E),null)}).forEach(function(E){null==E||E===m||null==E.domNode[v.DATA_KEY]||E.update(E.domNode[v.DATA_KEY].mutations||[],O)}),null!=this.domNode[v.DATA_KEY].mutations&&S.prototype.update.call(this,this.domNode[v.DATA_KEY].mutations,O),this.optimize(y,O)},h.blotName="scroll",h.defaultChild="block",h.scope=v.Scope.BLOCK_BLOT,h.tagName="DIV",h}(f.default);a.default=g},function(ue,a,t){"use strict";var g,n=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,h){S.__proto__=h}||function(S,h){for(var y in h)h.hasOwnProperty(y)&&(S[y]=h[y])},function(S,h){function y(){this.constructor=S}g(S,h),S.prototype=null===h?Object.create(h):(y.prototype=h.prototype,new y)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(18),v=t(1);var C=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return n(S,g),S.formats=function(h){if(h.tagName!==S.tagName)return g.formats.call(this,h)},S.prototype.format=function(h,y){var O=this;h!==this.statics.blotName||y?g.prototype.format.call(this,h,y):(this.children.forEach(function(m){m instanceof f.default||(m=m.wrap(S.blotName,!0)),O.attributes.copy(m)}),this.unwrap())},S.prototype.formatAt=function(h,y,O,m){null!=this.formats()[O]||v.query(O,v.Scope.ATTRIBUTE)?this.isolate(h,y).format(O,m):g.prototype.formatAt.call(this,h,y,O,m)},S.prototype.optimize=function(h){g.prototype.optimize.call(this,h);var y=this.formats();if(0===Object.keys(y).length)return this.unwrap();var O=this.next;O instanceof S&&O.prev===this&&function b(g,S){if(Object.keys(g).length!==Object.keys(S).length)return!1;for(var h in g)if(g[h]!==S[h])return!1;return!0}(y,O.formats())&&(O.moveChildren(this),O.remove())},S.blotName="inline",S.scope=v.Scope.INLINE_BLOT,S.tagName="SPAN",S}(f.default);a.default=C},function(ue,a,t){"use strict";var C,n=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var h in S)S.hasOwnProperty(h)&&(g[h]=S[h])},function(g,S){function h(){this.constructor=g}C(g,S),g.prototype=null===S?Object.create(S):(h.prototype=S.prototype,new h)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(18),v=t(1),b=function(C){function g(){return null!==C&&C.apply(this,arguments)||this}return n(g,C),g.formats=function(S){var h=v.query(g.blotName).tagName;if(S.tagName!==h)return C.formats.call(this,S)},g.prototype.format=function(S,h){null!=v.query(S,v.Scope.BLOCK)&&(S!==this.statics.blotName||h?C.prototype.format.call(this,S,h):this.replaceWith(g.blotName))},g.prototype.formatAt=function(S,h,y,O){null!=v.query(y,v.Scope.BLOCK)?this.format(y,O):C.prototype.formatAt.call(this,S,h,y,O)},g.prototype.insertAt=function(S,h,y){if(null==y||null!=v.query(h,v.Scope.INLINE))C.prototype.insertAt.call(this,S,h,y);else{var O=this.split(S),m=v.create(h,y);O.parent.insertBefore(m,O)}},g.prototype.update=function(S,h){navigator.userAgent.match(/Trident/)?this.build():C.prototype.update.call(this,S,h)},g.blotName="block",g.scope=v.Scope.BLOCK_BLOT,g.tagName="P",g}(f.default);a.default=b},function(ue,a,t){"use strict";var b,n=this&&this.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,g){C.__proto__=g}||function(C,g){for(var S in g)g.hasOwnProperty(S)&&(C[S]=g[S])},function(C,g){function S(){this.constructor=C}b(C,g),C.prototype=null===g?Object.create(g):(S.prototype=g.prototype,new S)});Object.defineProperty(a,"__esModule",{value:!0});var v=function(b){function C(){return null!==b&&b.apply(this,arguments)||this}return n(C,b),C.formats=function(g){},C.prototype.format=function(g,S){b.prototype.formatAt.call(this,0,this.length(),g,S)},C.prototype.formatAt=function(g,S,h,y){0===g&&S===this.length()?this.format(h,y):b.prototype.formatAt.call(this,g,S,h,y)},C.prototype.formats=function(){return this.statics.formats(this.domNode)},C}(t(19).default);a.default=v},function(ue,a,t){"use strict";var C,n=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var h in S)S.hasOwnProperty(h)&&(g[h]=S[h])},function(g,S){function h(){this.constructor=g}C(g,S),g.prototype=null===S?Object.create(S):(h.prototype=S.prototype,new h)});Object.defineProperty(a,"__esModule",{value:!0});var f=t(19),v=t(1),b=function(C){function g(S){var h=C.call(this,S)||this;return h.text=h.statics.value(h.domNode),h}return n(g,C),g.create=function(S){return document.createTextNode(S)},g.value=function(S){var h=S.data;return h.normalize&&(h=h.normalize()),h},g.prototype.deleteAt=function(S,h){this.domNode.data=this.text=this.text.slice(0,S)+this.text.slice(S+h)},g.prototype.index=function(S,h){return this.domNode===S?h:-1},g.prototype.insertAt=function(S,h,y){null==y?(this.text=this.text.slice(0,S)+h+this.text.slice(S),this.domNode.data=this.text):C.prototype.insertAt.call(this,S,h,y)},g.prototype.length=function(){return this.text.length},g.prototype.optimize=function(S){C.prototype.optimize.call(this,S),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof g&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},g.prototype.position=function(S,h){return void 0===h&&(h=!1),[this.domNode,S]},g.prototype.split=function(S,h){if(void 0===h&&(h=!1),!h){if(0===S)return this;if(S===this.length())return this.next}var y=v.create(this.domNode.splitText(S));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},g.prototype.update=function(S,h){var y=this;S.some(function(O){return"characterData"===O.type&&O.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},g.prototype.value=function(){return this.text},g.blotName="text",g.scope=v.Scope.INLINE_BLOT,g}(f.default);a.default=b},function(ue,a,t){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(v,b){return arguments.length>1&&!this.contains(v)==!b?b:f.call(this,v)}}String.prototype.startsWith||(String.prototype.startsWith=function(v,b){return this.substr(b=b||0,v.length)===v}),String.prototype.endsWith||(String.prototype.endsWith=function(v,b){var C=this.toString();("number"!=typeof b||!isFinite(b)||Math.floor(b)!==b||b>C.length)&&(b=C.length);var g=C.indexOf(v,b-=v.length);return-1!==g&&g===b}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof b)throw new TypeError("predicate must be a function");for(var h,C=Object(this),g=C.length>>>0,S=arguments[1],y=0;y<g;y++)if(b.call(S,h=C[y],y,C))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(ue,a){var t=-1,n=1,f=0;function v(D,A,L){if(D==A)return D?[[f,D]]:[];(L<0||D.length<L)&&(L=null);var l=S(D,A),$=D.substring(0,l);l=h(D=D.substring(l),A=A.substring(l));var R=D.substring(D.length-l),F=function b(D,A){var L;if(!D)return[[n,A]];if(!A)return[[t,D]];var l=D.length>A.length?D:A,$=D.length>A.length?A:D,R=l.indexOf($);if(-1!=R)return L=[[n,l.substring(0,R)],[f,$],[n,l.substring(R+$.length)]],D.length>A.length&&(L[0][0]=L[2][0]=t),L;if(1==$.length)return[[t,D],[n,A]];var F=function y(D,A){var L=D.length>A.length?D:A,l=D.length>A.length?A:D;if(L.length<4||2*l.length<L.length)return null;function $(de,se,ce){for(var W,ne,fe,ae,z=de.substring(ce,ce+Math.floor(de.length/4)),w=-1,j="";-1!=(w=se.indexOf(z,w+1));){var Ae=S(de.substring(ce),se.substring(w)),Me=h(de.substring(0,ce),se.substring(0,w));j.length<Me+Ae&&(j=se.substring(w-Me,w)+se.substring(w,w+Ae),W=de.substring(0,ce-Me),ne=de.substring(ce+Ae),fe=se.substring(0,w-Me),ae=se.substring(w+Ae))}return 2*j.length>=de.length?[W,ne,fe,ae,j]:null}var P,k,V,K,X,R=$(L,l,Math.ceil(L.length/4)),F=$(L,l,Math.ceil(L.length/2));return R||F?(P=F?R&&R[4].length>F[4].length?R:F:R,D.length>A.length?(k=P[0],V=P[1],K=P[2],X=P[3]):(K=P[0],X=P[1],k=P[2],V=P[3]),[k,V,K,X,P[4]]):null}(D,A);if(F){var k=F[1],K=F[3],X=F[4],Q=v(F[0],F[2]),de=v(k,K);return Q.concat([[f,X]],de)}return function C(D,A){for(var L=D.length,l=A.length,$=Math.ceil((L+l)/2),R=$,F=2*$,P=new Array(F),k=new Array(F),V=0;V<F;V++)P[V]=-1,k[V]=-1;P[R+1]=0,k[R+1]=0;for(var K=L-l,X=K%2!=0,Q=0,de=0,se=0,ce=0,z=0;z<$;z++){for(var w=-z+Q;w<=z-de;w+=2){for(var j=R+w,ne=(W=w==-z||w!=z&&P[j-1]<P[j+1]?P[j+1]:P[j-1]+1)-w;W<L&&ne<l&&D.charAt(W)==A.charAt(ne);)W++,ne++;if(P[j]=W,W>L)de+=2;else if(ne>l)Q+=2;else if(X&&(fe=R+K-w)>=0&&fe<F&&-1!=k[fe]&&W>=(ae=L-k[fe]))return g(D,A,W,ne)}for(var Ae=-z+se;Ae<=z-ce;Ae+=2){for(var ae,fe=R+Ae,Me=(ae=Ae==-z||Ae!=z&&k[fe-1]<k[fe+1]?k[fe+1]:k[fe-1]+1)-Ae;ae<L&&Me<l&&D.charAt(L-ae-1)==A.charAt(l-Me-1);)ae++,Me++;if(k[fe]=ae,ae>L)ce+=2;else if(Me>l)se+=2;else if(!X){var W;if((j=R+K-Ae)>=0&&j<F&&-1!=P[j]&&(ne=R+(W=P[j])-j,W>=(ae=L-ae)))return g(D,A,W,ne)}}}return[[t,D],[n,A]]}(D,A)}(D=D.substring(0,D.length-l),A=A.substring(0,A.length-l));return $&&F.unshift([f,$]),R&&F.push([f,R]),O(F),null!=L&&(F=function u(D,A){var L=function E(D,A){if(0===A)return[f,D];for(var L=0,l=0;l<D.length;l++){var $=D[l];if($[0]===t||$[0]===f){var R=L+$[1].length;if(A===R)return[l+1,D];if(A<R){D=D.slice();var F=A-L,P=[$[0],$[1].slice(0,F)],k=[$[0],$[1].slice(F)];return D.splice(l,1,P,k),[l+1,D]}L=R}}throw new Error("cursor_pos is out of bounds!")}(D,A),l=L[1],$=L[0],R=l[$],F=l[$+1];if(null==R)return D;if(R[0]!==f)return D;if(null!=F&&R[1]+F[1]===F[1]+R[1])return l.splice($,2,F,R),x(l,$,2);if(null!=F&&0===F[1].indexOf(R[1])){l.splice($,2,[F[0],R[1]],[0,R[1]]);var P=F[1].slice(R[1].length);return P.length>0&&l.splice($+2,0,[F[0],P]),x(l,$,3)}return D}(F,L)),function M(D){for(var A=!1,L=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},l=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},$=2;$<D.length;$+=1)D[$-2][0]===f&&l(D[$-2][1])&&D[$-1][0]===t&&L(D[$-1][1])&&D[$][0]===n&&L(D[$][1])&&(A=!0,D[$-1][1]=D[$-2][1].slice(-1)+D[$-1][1],D[$][1]=D[$-2][1].slice(-1)+D[$][1],D[$-2][1]=D[$-2][1].slice(0,-1));if(!A)return D;var R=[];for($=0;$<D.length;$+=1)D[$][1].length>0&&R.push(D[$]);return R}(F)}function g(D,A,L,l){var $=D.substring(0,L),R=A.substring(0,l),F=D.substring(L),P=A.substring(l),k=v($,R),V=v(F,P);return k.concat(V)}function S(D,A){if(!D||!A||D.charAt(0)!=A.charAt(0))return 0;for(var L=0,l=Math.min(D.length,A.length),$=l,R=0;L<$;)D.substring(R,$)==A.substring(R,$)?R=L=$:l=$,$=Math.floor((l-L)/2+L);return $}function h(D,A){if(!D||!A||D.charAt(D.length-1)!=A.charAt(A.length-1))return 0;for(var L=0,l=Math.min(D.length,A.length),$=l,R=0;L<$;)D.substring(D.length-$,D.length-R)==A.substring(A.length-$,A.length-R)?R=L=$:l=$,$=Math.floor((l-L)/2+L);return $}function O(D){D.push([f,""]);for(var F,A=0,L=0,l=0,$="",R="";A<D.length;)switch(D[A][0]){case n:l++,R+=D[A][1],A++;break;case t:L++,$+=D[A][1],A++;break;case f:L+l>1?(0!==L&&0!==l&&(0!==(F=S(R,$))&&(A-L-l>0&&D[A-L-l-1][0]==f?D[A-L-l-1][1]+=R.substring(0,F):(D.splice(0,0,[f,R.substring(0,F)]),A++),R=R.substring(F),$=$.substring(F)),0!==(F=h(R,$))&&(D[A][1]=R.substring(R.length-F)+D[A][1],R=R.substring(0,R.length-F),$=$.substring(0,$.length-F))),0===L?D.splice(A-l,L+l,[n,R]):0===l?D.splice(A-L,L+l,[t,$]):D.splice(A-L-l,L+l,[t,$],[n,R]),A=A-L-l+(L?1:0)+(l?1:0)+1):0!==A&&D[A-1][0]==f?(D[A-1][1]+=D[A][1],D.splice(A,1)):A++,l=0,L=0,$="",R=""}""===D[D.length-1][1]&&D.pop();var P=!1;for(A=1;A<D.length-1;)D[A-1][0]==f&&D[A+1][0]==f&&(D[A][1].substring(D[A][1].length-D[A-1][1].length)==D[A-1][1]?(D[A][1]=D[A-1][1]+D[A][1].substring(0,D[A][1].length-D[A-1][1].length),D[A+1][1]=D[A-1][1]+D[A+1][1],D.splice(A-1,1),P=!0):D[A][1].substring(0,D[A+1][1].length)==D[A+1][1]&&(D[A-1][1]+=D[A+1][1],D[A][1]=D[A][1].substring(D[A+1][1].length)+D[A+1][1],D.splice(A+1,1),P=!0)),A++;P&&O(D)}var m=v;function x(D,A,L){for(var l=A+L-1;l>=0&&l>=A-1;l--)if(l+1<D.length){var $=D[l],R=D[l+1];$[0]===R[1]&&D.splice(l,2,[$[0],$[1]+R[1]])}return D}m.INSERT=n,m.DELETE=t,m.EQUAL=f,ue.exports=m},function(ue,a){function t(n){var f=[];for(var v in n)f.push(v);return f}(ue.exports="function"==typeof Object.keys?Object.keys:t).shim=t},function(ue,a){var t="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(v){return"[object Arguments]"==Object.prototype.toString.call(v)}function f(v){return v&&"object"==typeof v&&"number"==typeof v.length&&Object.prototype.hasOwnProperty.call(v,"callee")&&!Object.prototype.propertyIsEnumerable.call(v,"callee")||!1}(a=ue.exports=t?n:f).supported=n,a.unsupported=f},function(ue,a){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function f(){}function v(C,g,S){this.fn=C,this.context=g,this.once=S||!1}function b(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),(new f).__proto__||(n=!1)),b.prototype.eventNames=function(){var S,h,g=[];if(0===this._eventsCount)return g;for(h in S=this._events)t.call(S,h)&&g.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(S)):g},b.prototype.listeners=function(g,S){var y=this._events[n?n+g:g];if(S)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var O=0,m=y.length,E=new Array(m);O<m;O++)E[O]=y[O].fn;return E},b.prototype.emit=function(g,S,h,y,O,m){var E=n?n+g:g;if(!this._events[E])return!1;var x,D,u=this._events[E],M=arguments.length;if(u.fn){switch(u.once&&this.removeListener(g,u.fn,void 0,!0),M){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,S),!0;case 3:return u.fn.call(u.context,S,h),!0;case 4:return u.fn.call(u.context,S,h,y),!0;case 5:return u.fn.call(u.context,S,h,y,O),!0;case 6:return u.fn.call(u.context,S,h,y,O,m),!0}for(D=1,x=new Array(M-1);D<M;D++)x[D-1]=arguments[D];u.fn.apply(u.context,x)}else{var L,A=u.length;for(D=0;D<A;D++)switch(u[D].once&&this.removeListener(g,u[D].fn,void 0,!0),M){case 1:u[D].fn.call(u[D].context);break;case 2:u[D].fn.call(u[D].context,S);break;case 3:u[D].fn.call(u[D].context,S,h);break;case 4:u[D].fn.call(u[D].context,S,h,y);break;default:if(!x)for(L=1,x=new Array(M-1);L<M;L++)x[L-1]=arguments[L];u[D].fn.apply(u[D].context,x)}}return!0},b.prototype.on=function(g,S,h){var y=new v(S,h||this),O=n?n+g:g;return this._events[O]?this._events[O].fn?this._events[O]=[this._events[O],y]:this._events[O].push(y):(this._events[O]=y,this._eventsCount++),this},b.prototype.once=function(g,S,h){var y=new v(S,h||this,!0),O=n?n+g:g;return this._events[O]?this._events[O].fn?this._events[O]=[this._events[O],y]:this._events[O].push(y):(this._events[O]=y,this._eventsCount++),this},b.prototype.removeListener=function(g,S,h,y){var O=n?n+g:g;if(!this._events[O])return this;if(!S)return 0==--this._eventsCount?this._events=new f:delete this._events[O],this;var m=this._events[O];if(m.fn)m.fn===S&&(!y||m.once)&&(!h||m.context===h)&&(0==--this._eventsCount?this._events=new f:delete this._events[O]);else{for(var E=0,u=[],M=m.length;E<M;E++)(m[E].fn!==S||y&&!m[E].once||h&&m[E].context!==h)&&u.push(m[E]);u.length?this._events[O]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new f:delete this._events[O]}return this},b.prototype.removeAllListeners=function(g){var S;return g?this._events[S=n?n+g:g]&&(0==--this._eventsCount?this._events=new f:delete this._events[S]):(this._events=new f,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prototype.setMaxListeners=function(){return this},b.prefixed=n,b.EventEmitter=b,typeof ue<"u"&&(ue.exports=b)},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Qe){return typeof Qe}:function(Qe){return Qe&&"function"==typeof Symbol&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe},f=function(){return function(Ne,at){if(Array.isArray(Ne))return Ne;if(Symbol.iterator in Object(Ne))return function Qe(Ne,at){var Lt=[],Kt=!0,Ot=!1,Se=void 0;try{for(var N,ve=Ne[Symbol.iterator]();!(Kt=(N=ve.next()).done)&&(Lt.push(N.value),!at||Lt.length!==at);Kt=!0);}catch(ie){Ot=!0,Se=ie}finally{try{!Kt&&ve.return&&ve.return()}finally{if(Ot)throw Se}}return Lt}(Ne,at);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function Qe(Ne,at){for(var Lt=0;Lt<at.length;Lt++){var Kt=at[Lt];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(Ne,Kt.key,Kt)}}return function(Ne,at,Lt){return at&&Qe(Ne.prototype,at),Lt&&Qe(Ne,Lt),Ne}}(),C=k(t(3)),S=k(t(2)),y=k(t(0)),m=k(t(5)),u=k(t(10)),x=k(t(9)),D=t(36),A=t(37),l=k(t(13)),$=t(26),R=t(38),F=t(39),P=t(40);function k(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}}function V(Qe,Ne,at){return Ne in Qe?Object.defineProperty(Qe,Ne,{value:at,enumerable:!0,configurable:!0,writable:!0}):Qe[Ne]=at,Qe}var de=(0,u.default)("quill:clipboard"),se="__ql-matcher",ce=[[Node.TEXT_NODE,ke],[Node.TEXT_NODE,Ie],["br",function lt(Qe,Ne){return fe(Ne,"\n")||Ne.insert("\n"),Ne}],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,Ve],[Node.ELEMENT_NODE,function De(Qe,Ne){var at={},Lt=Qe.style||{};return Lt.fontStyle&&"italic"===ne(Qe).fontStyle&&(at.italic=!0),Lt.fontWeight&&(ne(Qe).fontWeight.startsWith("bold")||parseInt(ne(Qe).fontWeight)>=700)&&(at.bold=!0),Object.keys(at).length>0&&(Ne=W(Ne,at)),parseFloat(Lt.textIndent||0)>0&&(Ne=(new S.default).insert("\t").concat(Ne)),Ne}],["li",function $e(Qe,Ne){var at=y.default.query(Qe);if(null==at||"list-item"!==at.blotName||!fe(Ne,"\n"))return Ne;for(var Lt=-1,Kt=Qe.parentNode;!Kt.classList.contains("ql-clipboard");)"list"===(y.default.query(Kt)||{}).blotName&&(Lt+=1),Kt=Kt.parentNode;return Lt<=0?Ne:Ne.compose((new S.default).retain(Ne.length()-1).retain(1,{indent:Lt}))}],["b",Me.bind(Me,"bold")],["i",Me.bind(Me,"italic")],["style",function nt(){return new S.default}]],z=[D.AlignAttribute,R.DirectionAttribute].reduce(function(Qe,Ne){return Qe[Ne.keyName]=Ne,Qe},{}),w=[D.AlignStyle,A.BackgroundStyle,$.ColorStyle,R.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(Qe,Ne){return Qe[Ne.keyName]=Ne,Qe},{}),j=function(Qe){function Ne(at,Lt){!function K(Qe,Ne){if(!(Qe instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,Ne);var Kt=function X(Qe,Ne){if(!Qe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ne||"object"!=typeof Ne&&"function"!=typeof Ne?Qe:Ne}(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).call(this,at,Lt));return Kt.quill.root.addEventListener("paste",Kt.onPaste.bind(Kt)),Kt.container=Kt.quill.addContainer("ql-clipboard"),Kt.container.setAttribute("contenteditable",!0),Kt.container.setAttribute("tabindex",-1),Kt.matchers=[],ce.concat(Kt.options.matchers).forEach(function(Ot){var Se=f(Ot,2),N=Se[1];!Lt.matchVisual&&N===me||Kt.addMatcher(Se[0],N)}),Kt}return function Q(Qe,Ne){if("function"!=typeof Ne&&null!==Ne)throw new TypeError("Super expression must either be null or a function, not "+typeof Ne);Qe.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),Ne&&(Object.setPrototypeOf?Object.setPrototypeOf(Qe,Ne):Qe.__proto__=Ne)}(Ne,Qe),v(Ne,[{key:"addMatcher",value:function(Lt,Kt){this.matchers.push([Lt,Kt])}},{key:"convert",value:function(Lt){if("string"==typeof Lt)return this.container.innerHTML=Lt.replace(/\>\r?\n +\</g,"><"),this.convert();var Kt=this.quill.getFormat(this.quill.selection.savedRange.index);if(Kt[l.default.blotName]){var Ot=this.container.innerText;return this.container.innerHTML="",(new S.default).insert(Ot,V({},l.default.blotName,Kt[l.default.blotName]))}var Se=this.prepareMatching(),ve=f(Se,2),Y=Ae(this.container,ve[0],ve[1]);return fe(Y,"\n")&&null==Y.ops[Y.ops.length-1].attributes&&(Y=Y.compose((new S.default).retain(Y.length()-1).delete(1))),de.log("convert",this.container.innerHTML,Y),this.container.innerHTML="",Y}},{key:"dangerouslyPasteHTML",value:function(Lt,Kt){var Ot=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.default.sources.API;if("string"==typeof Lt)this.quill.setContents(this.convert(Lt),Kt),this.quill.setSelection(0,m.default.sources.SILENT);else{var Se=this.convert(Kt);this.quill.updateContents((new S.default).retain(Lt).concat(Se),Ot),this.quill.setSelection(Lt+Se.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(Lt){var Kt=this;if(!Lt.defaultPrevented&&this.quill.isEnabled()){var Ot=this.quill.getSelection(),Se=(new S.default).retain(Ot.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){Se=Se.concat(Kt.convert()).delete(Ot.length),Kt.quill.updateContents(Se,m.default.sources.USER),Kt.quill.setSelection(Se.length()-Ot.length,m.default.sources.SILENT),Kt.quill.scrollingContainer.scrollTop=ve,Kt.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Lt=this,Kt=[],Ot=[];return this.matchers.forEach(function(Se){var ve=f(Se,2),N=ve[0],ie=ve[1];switch(N){case Node.TEXT_NODE:Ot.push(ie);break;case Node.ELEMENT_NODE:Kt.push(ie);break;default:[].forEach.call(Lt.container.querySelectorAll(N),function(Y){Y[se]=Y[se]||[],Y[se].push(ie)})}}),[Kt,Ot]}}]),Ne}(x.default);function W(Qe,Ne,at){return"object"===(typeof Ne>"u"?"undefined":n(Ne))?Object.keys(Ne).reduce(function(Lt,Kt){return W(Lt,Kt,Ne[Kt])},Qe):Qe.reduce(function(Lt,Kt){return Kt.attributes&&Kt.attributes[Ne]?Lt.push(Kt):Lt.insert(Kt.insert,(0,C.default)({},V({},Ne,at),Kt.attributes))},new S.default)}function ne(Qe){if(Qe.nodeType!==Node.ELEMENT_NODE)return{};var Ne="__ql-computed-style";return Qe[Ne]||(Qe[Ne]=window.getComputedStyle(Qe))}function fe(Qe,Ne){for(var at="",Lt=Qe.ops.length-1;Lt>=0&&at.length<Ne.length;--Lt){var Kt=Qe.ops[Lt];if("string"!=typeof Kt.insert)break;at=Kt.insert+at}return at.slice(-1*Ne.length)===Ne}function ae(Qe){if(0===Qe.childNodes.length)return!1;var Ne=ne(Qe);return["block","list-item"].indexOf(Ne.display)>-1}function Ae(Qe,Ne,at){return Qe.nodeType===Qe.TEXT_NODE?at.reduce(function(Lt,Kt){return Kt(Qe,Lt)},new S.default):Qe.nodeType===Qe.ELEMENT_NODE?[].reduce.call(Qe.childNodes||[],function(Lt,Kt){var Ot=Ae(Kt,Ne,at);return Kt.nodeType===Qe.ELEMENT_NODE&&(Ot=Ne.reduce(function(Se,ve){return ve(Kt,Se)},Ot),Ot=(Kt[se]||[]).reduce(function(Se,ve){return ve(Kt,Se)},Ot)),Lt.concat(Ot)},new S.default):new S.default}function Me(Qe,Ne,at){return W(at,Qe,!0)}function Ve(Qe,Ne){var at=y.default.Attributor.Attribute.keys(Qe),Lt=y.default.Attributor.Class.keys(Qe),Kt=y.default.Attributor.Style.keys(Qe),Ot={};return at.concat(Lt).concat(Kt).forEach(function(Se){var ve=y.default.query(Se,y.default.Scope.ATTRIBUTE);null!=ve&&(Ot[ve.attrName]=ve.value(Qe),Ot[ve.attrName])||(null!=(ve=z[Se])&&(ve.attrName===Se||ve.keyName===Se)&&(Ot[ve.attrName]=ve.value(Qe)||void 0),null!=(ve=w[Se])&&(ve.attrName===Se||ve.keyName===Se)&&(Ot[(ve=w[Se]).attrName]=ve.value(Qe)||void 0))}),Object.keys(Ot).length>0&&(Ne=W(Ne,Ot)),Ne}function We(Qe,Ne){var at=y.default.query(Qe);if(null==at)return Ne;if(at.prototype instanceof y.default.Embed){var Lt={},Kt=at.value(Qe);null!=Kt&&(Lt[at.blotName]=Kt,Ne=(new S.default).insert(Lt,at.formats(Qe)))}else"function"==typeof at.formats&&(Ne=W(Ne,at.blotName,at.formats(Qe)));return Ne}function Ie(Qe,Ne){return fe(Ne,"\n")||(ae(Qe)||Ne.length()>0&&Qe.nextSibling&&ae(Qe.nextSibling))&&Ne.insert("\n"),Ne}function me(Qe,Ne){if(ae(Qe)&&null!=Qe.nextElementSibling&&!fe(Ne,"\n\n")){var at=Qe.offsetHeight+parseFloat(ne(Qe).marginTop)+parseFloat(ne(Qe).marginBottom);Qe.nextElementSibling.offsetTop>Qe.offsetTop+1.5*at&&Ne.insert("\n")}return Ne}function ke(Qe,Ne){var at=Qe.data;if("O:P"===Qe.parentNode.tagName)return Ne.insert(at.trim());if(0===at.trim().length&&Qe.parentNode.classList.contains("ql-clipboard"))return Ne;if(!ne(Qe.parentNode).whiteSpace.startsWith("pre")){var Lt=function(Ot,Se){return(Se=Se.replace(/[^\u00a0]/g,"")).length<1&&Ot?" ":Se};at=(at=at.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Lt.bind(Lt,!0)),(null==Qe.previousSibling&&ae(Qe.parentNode)||null!=Qe.previousSibling&&ae(Qe.previousSibling))&&(at=at.replace(/^\s+/,Lt.bind(Lt,!1))),(null==Qe.nextSibling&&ae(Qe.parentNode)||null!=Qe.nextSibling&&ae(Qe.nextSibling))&&(at=at.replace(/\s+$/,Lt.bind(Lt,!1)))}return Ne.insert(at)}j.DEFAULTS={matchers:[],matchVisual:!0},a.default=j,a.matchAttributor=Ve,a.matchBlot=We,a.matchNewline=Ie,a.matchSpacing=me,a.matchText=ke},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function O(m,E){for(var u=0;u<E.length;u++){var M=E[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}return function(m,E,u){return E&&O(m.prototype,E),u&&O(m,u),m}}(),f=function O(m,E,u){null===m&&(m=Function.prototype);var M=Object.getOwnPropertyDescriptor(m,E);if(void 0===M){var x=Object.getPrototypeOf(m);return null===x?void 0:O(x,E,u)}if("value"in M)return M.value;var D=M.get;return void 0===D?void 0:D.call(u)};var y=function(O){function m(){return function g(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function S(O,m){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?O:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function h(O,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);O.prototype=Object.create(m&&m.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(O,m):O.__proto__=m)}(m,O),n(m,[{key:"optimize",value:function(u){f(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,u),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return f(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(function C(O){return O&&O.__esModule?O:{default:O}}(t(6)).default);y.blotName="bold",y.tagName=["STRONG","B"],a.default=y},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var n=function(){return function(k,V){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function P(k,V){var K=[],X=!0,Q=!1,de=void 0;try{for(var ce,se=k[Symbol.iterator]();!(X=(ce=se.next()).done)&&(K.push(ce.value),!V||K.length!==V);X=!0);}catch(z){Q=!0,de=z}finally{try{!X&&se.return&&se.return()}finally{if(Q)throw de}}return K}(k,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function P(k,V){for(var K=0;K<V.length;K++){var X=V[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}return function(k,V,K){return V&&P(k.prototype,V),K&&P(k,K),k}}(),b=u(t(2)),g=u(t(0)),h=u(t(5)),O=u(t(10)),E=u(t(9));function u(P){return P&&P.__esModule?P:{default:P}}function D(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?P:k}var L=(0,O.default)("quill:toolbar"),l=function(P){function k(V,K){!function x(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k);var de,X=D(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,V,K));if(Array.isArray(X.options.container)){var Q=document.createElement("div");R(Q,X.options.container),V.container.parentNode.insertBefore(Q,V.container),X.container=Q}else X.container="string"==typeof X.options.container?document.querySelector(X.options.container):X.options.container;return X.container instanceof HTMLElement?(X.container.classList.add("ql-toolbar"),X.controls=[],X.handlers={},Object.keys(X.options.handlers).forEach(function(se){X.addHandler(se,X.options.handlers[se])}),[].forEach.call(X.container.querySelectorAll("button, select"),function(se){X.attach(se)}),X.quill.on(h.default.events.EDITOR_CHANGE,function(se,ce){se===h.default.events.SELECTION_CHANGE&&X.update(ce)}),X.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var se=X.quill.selection.getRange(),ce=n(se,1);X.update(ce[0])}),X):(de=L.error("Container required for toolbar",X.options),D(X,de))}return function A(P,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}(k,P),f(k,[{key:"addHandler",value:function(K,X){this.handlers[K]=X}},{key:"attach",value:function(K){var X=this,Q=[].find.call(K.classList,function(se){return 0===se.indexOf("ql-")});if(Q){if(Q=Q.slice(3),"BUTTON"===K.tagName&&K.setAttribute("type","button"),null==this.handlers[Q]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[Q])return void L.warn("ignoring attaching to disabled format",Q,K);if(null==g.default.query(Q))return void L.warn("ignoring attaching to nonexistent format",Q,K)}K.addEventListener("SELECT"===K.tagName?"change":"click",function(se){var ce=void 0;if("SELECT"===K.tagName){if(K.selectedIndex<0)return;var z=K.options[K.selectedIndex];ce=!z.hasAttribute("selected")&&(z.value||!1)}else ce=!K.classList.contains("ql-active")&&(K.value||!K.hasAttribute("value")),se.preventDefault();X.quill.focus();var w=X.quill.selection.getRange(),W=n(w,1)[0];if(null!=X.handlers[Q])X.handlers[Q].call(X,ce);else if(g.default.query(Q).prototype instanceof g.default.Embed){if(!(ce=prompt("Enter "+Q)))return;X.quill.updateContents((new b.default).retain(W.index).delete(W.length).insert(function M(P,k,V){return k in P?Object.defineProperty(P,k,{value:V,enumerable:!0,configurable:!0,writable:!0}):P[k]=V,P}({},Q,ce)),h.default.sources.USER)}else X.quill.format(Q,ce,h.default.sources.USER);X.update(W)}),this.controls.push([Q,K])}}},{key:"update",value:function(K){var X=null==K?{}:this.quill.getFormat(K);this.controls.forEach(function(Q){var de=n(Q,2),se=de[0],ce=de[1];if("SELECT"===ce.tagName){var z=void 0;if(null==K)z=null;else if(null==X[se])z=ce.querySelector("option[selected]");else if(!Array.isArray(X[se])){var w=X[se];"string"==typeof w&&(w=w.replace(/\"/g,'\\"')),z=ce.querySelector('option[value="'+w+'"]')}null==z?(ce.value="",ce.selectedIndex=-1):z.selected=!0}else if(null==K)ce.classList.remove("ql-active");else if(ce.hasAttribute("value")){var j=X[se]===ce.getAttribute("value")||null!=X[se]&&X[se].toString()===ce.getAttribute("value")||null==X[se]&&!ce.getAttribute("value");ce.classList.toggle("ql-active",j)}else ce.classList.toggle("ql-active",null!=X[se])})}}]),k}(E.default);function $(P,k,V){var K=document.createElement("button");K.setAttribute("type","button"),K.classList.add("ql-"+k),null!=V&&(K.value=V),P.appendChild(K)}function R(P,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(V){var K=document.createElement("span");K.classList.add("ql-formats"),V.forEach(function(X){if("string"==typeof X)$(K,X);else{var Q=Object.keys(X)[0],de=X[Q];Array.isArray(de)?function F(P,k,V){var K=document.createElement("select");K.classList.add("ql-"+k),V.forEach(function(X){var Q=document.createElement("option");!1!==X?Q.setAttribute("value",X):Q.setAttribute("selected","selected"),K.appendChild(Q)}),P.appendChild(K)}(K,Q,de):$(K,Q,de)}}),P.appendChild(K)})}l.DEFAULTS={},l.DEFAULTS={container:null,handlers:{clean:function(){var k=this,V=this.quill.getSelection();if(null!=V)if(0==V.length){var K=this.quill.getFormat();Object.keys(K).forEach(function(X){null!=g.default.query(X,g.default.Scope.INLINE)&&k.quill.format(X,!1)})}else this.quill.removeFormat(V,h.default.sources.USER)},direction:function(k){var V=this.quill.getFormat().align;"rtl"===k&&null==V?this.quill.format("align","right",h.default.sources.USER):!k&&"right"===V&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",k,h.default.sources.USER)},indent:function(k){var V=this.quill.getSelection(),K=this.quill.getFormat(V),X=parseInt(K.indent||0);if("+1"===k||"-1"===k){var Q="+1"===k?1:-1;"rtl"===K.direction&&(Q*=-1),this.quill.format("indent",X+Q,h.default.sources.USER)}},link:function(k){!0===k&&(k=prompt("Enter link URL:")),this.quill.format("link",k,h.default.sources.USER)},list:function(k){var V=this.quill.getSelection(),K=this.quill.getFormat(V);this.quill.format("list","check"===k?"checked"!==K.list&&"unchecked"!==K.list&&"unchecked":k,h.default.sources.USER)}}},a.default=l,a.addControls=R},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function O(m,E){for(var u=0;u<E.length;u++){var M=E[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}return function(m,E,u){return E&&O(m.prototype,E),u&&O(m,u),m}}(),f=function O(m,E,u){null===m&&(m=Function.prototype);var M=Object.getOwnPropertyDescriptor(m,E);if(void 0===M){var x=Object.getPrototypeOf(m);return null===x?void 0:O(x,E,u)}if("value"in M)return M.value;var D=M.get;return void 0===D?void 0:D.call(u)};var y=function(O){function m(E,u){!function g(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var M=function S(O,m){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?O:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return M.label.innerHTML=u,M.container.classList.add("ql-color-picker"),[].slice.call(M.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),M}return function h(O,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);O.prototype=Object.create(m&&m.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(O,m):O.__proto__=m)}(m,O),n(m,[{key:"buildItem",value:function(u){var M=f(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,u);return M.style.backgroundColor=u.getAttribute("value")||"",M}},{key:"selectItem",value:function(u,M){f(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,u,M);var x=this.label.querySelector(".ql-color-label"),D=u&&u.getAttribute("data-value")||"";x&&("line"===x.tagName?x.style.stroke=D:x.style.fill=D)}}]),m}(function C(O){return O&&O.__esModule?O:{default:O}}(t(28)).default);a.default=y},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function O(m,E){for(var u=0;u<E.length;u++){var M=E[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}return function(m,E,u){return E&&O(m.prototype,E),u&&O(m,u),m}}(),f=function O(m,E,u){null===m&&(m=Function.prototype);var M=Object.getOwnPropertyDescriptor(m,E);if(void 0===M){var x=Object.getPrototypeOf(m);return null===x?void 0:O(x,E,u)}if("value"in M)return M.value;var D=M.get;return void 0===D?void 0:D.call(u)};var y=function(O){function m(E,u){!function g(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var M=function S(O,m){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?O:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return M.container.classList.add("ql-icon-picker"),[].forEach.call(M.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=u[x.getAttribute("data-value")||""]}),M.defaultItem=M.container.querySelector(".ql-selected"),M.selectItem(M.defaultItem),M}return function h(O,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);O.prototype=Object.create(m&&m.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(O,m):O.__proto__=m)}(m,O),n(m,[{key:"selectItem",value:function(u,M){f(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,u,M),this.label.innerHTML=(u=u||this.defaultItem).innerHTML}}]),m}(function C(O){return O&&O.__esModule?O:{default:O}}(t(28)).default);a.default=y},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function b(C,g){for(var S=0;S<g.length;S++){var h=g[S];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(C,h.key,h)}}return function(C,g,S){return g&&b(C.prototype,g),S&&b(C,S),C}}();var v=function(){function b(C,g){var S=this;(function f(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")})(this,b),this.quill=C,this.boundsContainer=g||document.body,this.root=C.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){S.root.style.marginTop=-1*S.quill.root.scrollTop+"px"}),this.hide()}return n(b,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(g){var S=g.left+g.width/2-this.root.offsetWidth/2,h=g.bottom+this.quill.root.scrollTop;this.root.style.left=S+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),O=this.root.getBoundingClientRect(),m=0;return O.right>y.right&&(this.root.style.left=S+(m=y.right-O.right)+"px"),O.left<y.left&&(this.root.style.left=S+(m=y.left-O.left)+"px"),O.bottom>y.bottom&&(this.root.style.top=h-(g.bottom-g.top+(O.bottom-O.top))+"px",this.root.classList.add("ql-flip")),m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),b}();a.default=v},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){return function(P,k){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function F(P,k){var V=[],K=!0,X=!1,Q=void 0;try{for(var se,de=P[Symbol.iterator]();!(K=(se=de.next()).done)&&(V.push(se.value),!k||V.length!==k);K=!0);}catch(ce){X=!0,Q=ce}finally{try{!K&&de.return&&de.return()}finally{if(X)throw Q}}return V}(P,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function F(P,k,V){null===P&&(P=Function.prototype);var K=Object.getOwnPropertyDescriptor(P,k);if(void 0===K){var X=Object.getPrototypeOf(P);return null===X?void 0:F(X,k,V)}if("value"in K)return K.value;var Q=K.get;return void 0===Q?void 0:Q.call(V)},v=function(){function F(P,k){for(var V=0;V<k.length;V++){var K=k[V];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}return function(P,k,V){return k&&F(P.prototype,k),V&&F(P,V),P}}(),C=x(t(3)),S=x(t(8)),h=t(43),y=x(h),m=x(t(27)),E=t(15),M=x(t(41));function x(F){return F&&F.__esModule?F:{default:F}}function D(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function A(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?F:P}function L(F,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var l=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],$=function(F){function P(k,V){D(this,P),null!=V.modules.toolbar&&null==V.modules.toolbar.container&&(V.modules.toolbar.container=l);var K=A(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k,V));return K.quill.container.classList.add("ql-snow"),K}return L(P,F),v(P,[{key:"extendToolbar",value:function(V){V.container.classList.add("ql-snow"),this.buildButtons([].slice.call(V.container.querySelectorAll("button")),M.default),this.buildPickers([].slice.call(V.container.querySelectorAll("select")),M.default),this.tooltip=new R(this.quill,this.options.bounds),V.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(K,X){V.handlers.link.call(V,!X.format.link)})}}]),P}(y.default);$.DEFAULTS=(0,C.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var k=this.quill.getSelection();if(null==k||0==k.length)return;var V=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(V)&&0!==V.indexOf("mailto:")&&(V="mailto:"+V),this.quill.theme.tooltip.edit("link",V)}else this.quill.format("link",!1)}}}}});var R=function(F){function P(k,V){D(this,P);var K=A(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k,V));return K.preview=K.root.querySelector("a.ql-preview"),K}return L(P,F),v(P,[{key:"listen",value:function(){var V=this;f(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(K){V.root.classList.contains("ql-editing")?V.save():V.edit("link",V.preview.textContent),K.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(K){if(null!=V.linkRange){var X=V.linkRange;V.restoreFocus(),V.quill.formatText(X,"link",!1,S.default.sources.USER),delete V.linkRange}K.preventDefault(),V.hide()}),this.quill.on(S.default.events.SELECTION_CHANGE,function(K,X,Q){if(null!=K){if(0===K.length&&Q===S.default.sources.USER){var de=V.quill.scroll.descendant(m.default,K.index),se=n(de,2),ce=se[0];if(null!=ce){V.linkRange=new E.Range(K.index-se[1],ce.length());var w=m.default.formats(ce.domNode);return V.preview.textContent=w,V.preview.setAttribute("href",w),V.show(),void V.position(V.quill.getBounds(V.linkRange))}}else delete V.linkRange;V.hide()}})}},{key:"show",value:function(){f(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(h.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=$},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var f=Kt(t(29)),v=t(36),b=t(38),C=t(64),S=Kt(t(65)),y=Kt(t(66)),O=t(67),m=Kt(O),E=t(37),u=t(26),M=t(39),x=t(40),A=Kt(t(56)),l=Kt(t(68)),R=Kt(t(27)),P=Kt(t(69)),V=Kt(t(70)),X=Kt(t(71)),de=Kt(t(72)),ce=Kt(t(73)),z=t(13),w=Kt(z),W=Kt(t(74)),fe=Kt(t(75)),Ae=Kt(t(57)),Ve=Kt(t(41)),lt=Kt(t(28)),$e=Kt(t(59)),me=Kt(t(60)),ke=Kt(t(61)),Ne=Kt(t(108)),Lt=Kt(t(62));function Kt(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}}f.default.register({"attributors/attribute/direction":b.DirectionAttribute,"attributors/class/align":v.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":u.ColorClass,"attributors/class/direction":b.DirectionClass,"attributors/class/font":M.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":v.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":u.ColorStyle,"attributors/style/direction":b.DirectionStyle,"attributors/style/font":M.FontStyle,"attributors/style/size":x.SizeStyle},!0),f.default.register({"formats/align":v.AlignClass,"formats/direction":b.DirectionClass,"formats/indent":C.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":u.ColorStyle,"formats/font":M.FontClass,"formats/size":x.SizeClass,"formats/blockquote":S.default,"formats/code-block":w.default,"formats/header":y.default,"formats/list":m.default,"formats/bold":A.default,"formats/code":z.Code,"formats/italic":l.default,"formats/link":R.default,"formats/script":P.default,"formats/strike":V.default,"formats/underline":X.default,"formats/image":de.default,"formats/video":ce.default,"formats/list/item":O.ListItem,"modules/formula":W.default,"modules/syntax":fe.default,"modules/toolbar":Ae.default,"themes/bubble":Ne.default,"themes/snow":Lt.default,"ui/icons":Ve.default,"ui/picker":lt.default,"ui/icon-picker":me.default,"ui/color-picker":$e.default,"ui/tooltip":ke.default},!0),a.default=f.default},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var n=function(){function m(E,u){for(var M=0;M<u.length;M++){var x=u[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,u,M){return u&&m(E.prototype,u),M&&m(E,M),E}}(),f=function m(E,u,M){null===E&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,u);if(void 0===x){var D=Object.getPrototypeOf(E);return null===D?void 0:m(D,u,M)}if("value"in x)return x.value;var A=x.get;return void 0===A?void 0:A.call(M)},b=function C(m){return m&&m.__esModule?m:{default:m}}(t(0));var y=function(m){function E(){return function g(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}(this,E),function S(m,E){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?m:E}(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return function h(m,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);m.prototype=Object.create(E&&E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(m,E):m.__proto__=E)}(E,m),n(E,[{key:"add",value:function(M,x){if("+1"===x||"-1"===x){var D=this.value(M)||0;x="+1"===x?D+1:D-1}return 0===x?(this.remove(M),!0):f(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,M,x)}},{key:"canAdd",value:function(M,x){return f(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,M,x)||f(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,M,parseInt(x))}},{key:"value",value:function(M){return parseInt(f(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,M))||void 0}}]),E}(b.default.Attributor.Class),O=new y("indent","ql-indent",{scope:b.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=O},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=function(h){function y(){return function b(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function C(h,y){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?h:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function g(h,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(h,y):h.__proto__=y)}(y,h),y}(function v(h){return h&&h.__esModule?h:{default:h}}(t(4)).default);S.blotName="blockquote",S.tagName="blockquote",a.default=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function y(O,m){for(var E=0;E<m.length;E++){var u=m[E];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(O,u.key,u)}}return function(O,m,E){return m&&y(O.prototype,m),E&&y(O,E),O}}();var h=function(y){function O(){return function C(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function g(y,O){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?y:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function S(y,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);y.prototype=Object.create(O&&O.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(y,O):y.__proto__=O)}(O,y),n(O,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),O}(function b(y){return y&&y.__esModule?y:{default:y}}(t(4)).default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],a.default=h},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var n=function(){function D(A,L){for(var l=0;l<L.length;l++){var $=L[l];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(A,$.key,$)}}return function(A,L,l){return L&&D(A.prototype,L),l&&D(A,l),A}}(),f=function D(A,L,l){null===A&&(A=Function.prototype);var $=Object.getOwnPropertyDescriptor(A,L);if(void 0===$){var R=Object.getPrototypeOf(A);return null===R?void 0:D(R,L,l)}if("value"in $)return $.value;var F=$.get;return void 0===F?void 0:F.call(l)},b=y(t(0)),g=y(t(4)),h=y(t(25));function y(D){return D&&D.__esModule?D:{default:D}}function m(D,A){if(!(D instanceof A))throw new TypeError("Cannot call a class as a function")}function E(D,A){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?D:A}function u(D,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);D.prototype=Object.create(A&&A.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(D,A):D.__proto__=A)}var M=function(D){function A(){return m(this,A),E(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return u(A,D),n(A,[{key:"format",value:function(l,$){l!==x.blotName||$?f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,l,$):this.replaceWith(b.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(l,$){return this.parent.isolate(this.offset(this.parent),this.length()),l===this.parent.statics.blotName?(this.parent.replaceWith(l,$),this):(this.parent.unwrap(),f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,l,$))}}],[{key:"formats",value:function(l){return l.tagName===this.tagName?void 0:f(A.__proto__||Object.getPrototypeOf(A),"formats",this).call(this,l)}}]),A}(g.default);M.blotName="list-item",M.tagName="LI";var x=function(D){function A(L){m(this,A);var l=E(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,L)),$=function(F){if(F.target.parentNode===L){var P=l.statics.formats(L),k=b.default.find(F.target);"checked"===P?k.format("list","unchecked"):"unchecked"===P&&k.format("list","checked")}};return L.addEventListener("touchstart",$),L.addEventListener("mousedown",$),l}return u(A,D),n(A,null,[{key:"create",value:function(l){var $="ordered"===l?"OL":"UL",R=f(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,$);return("checked"===l||"unchecked"===l)&&R.setAttribute("data-checked","checked"===l),R}},{key:"formats",value:function(l){return"OL"===l.tagName?"ordered":"UL"===l.tagName?l.hasAttribute("data-checked")?"true"===l.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(A,[{key:"format",value:function(l,$){this.children.length>0&&this.children.tail.format(l,$)}},{key:"formats",value:function(){return function O(D,A,L){return A in D?Object.defineProperty(D,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):D[A]=L,D}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(l,$){if(l instanceof M)f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,l,$);else{var R=null==$?this.length():$.offset(this),F=this.split(R);F.parent.insertBefore(l,F)}}},{key:"optimize",value:function(l){f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,l);var $=this.next;null!=$&&$.prev===this&&$.statics.blotName===this.statics.blotName&&$.domNode.tagName===this.domNode.tagName&&$.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&($.moveChildren(this),$.remove())}},{key:"replace",value:function(l){if(l.statics.blotName!==this.statics.blotName){var $=b.default.create(this.statics.defaultChild);l.moveChildren($),this.appendChild($)}f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,l)}}]),A}(h.default);x.blotName="list",x.scope=b.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[M],a.ListItem=M,a.default=x},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=function(h){function y(){return function b(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function C(h,y){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?h:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function g(h,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(h,y):h.__proto__=y)}(y,h),y}(function v(h){return h&&h.__esModule?h:{default:h}}(t(56)).default);S.blotName="italic",S.tagName=["EM","I"],a.default=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function O(m,E){for(var u=0;u<E.length;u++){var M=E[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}return function(m,E,u){return E&&O(m.prototype,E),u&&O(m,u),m}}(),f=function O(m,E,u){null===m&&(m=Function.prototype);var M=Object.getOwnPropertyDescriptor(m,E);if(void 0===M){var x=Object.getPrototypeOf(m);return null===x?void 0:O(x,E,u)}if("value"in M)return M.value;var D=M.get;return void 0===D?void 0:D.call(u)};var y=function(O){function m(){return function g(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function S(O,m){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?O:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function h(O,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);O.prototype=Object.create(m&&m.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(O,m):O.__proto__=m)}(m,O),n(m,null,[{key:"create",value:function(u){return"super"===u?document.createElement("sup"):"sub"===u?document.createElement("sub"):f(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,u)}},{key:"formats",value:function(u){return"SUB"===u.tagName?"sub":"SUP"===u.tagName?"super":void 0}}]),m}(function C(O){return O&&O.__esModule?O:{default:O}}(t(6)).default);y.blotName="script",y.tagName=["SUB","SUP"],a.default=y},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=function(h){function y(){return function b(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function C(h,y){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?h:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function g(h,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(h,y):h.__proto__=y)}(y,h),y}(function v(h){return h&&h.__esModule?h:{default:h}}(t(6)).default);S.blotName="strike",S.tagName="S",a.default=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=function(h){function y(){return function b(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function C(h,y){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?h:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function g(h,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(h,y):h.__proto__=y)}(y,h),y}(function v(h){return h&&h.__esModule?h:{default:h}}(t(6)).default);S.blotName="underline",S.tagName="U",a.default=S},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function E(u,M){for(var x=0;x<M.length;x++){var D=M[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(u,D.key,D)}}return function(u,M,x){return M&&E(u.prototype,M),x&&E(u,x),u}}(),f=function E(u,M,x){null===u&&(u=Function.prototype);var D=Object.getOwnPropertyDescriptor(u,M);if(void 0===D){var A=Object.getPrototypeOf(u);return null===A?void 0:E(A,M,x)}if("value"in D)return D.value;var L=D.get;return void 0===L?void 0:L.call(x)},b=function g(E){return E&&E.__esModule?E:{default:E}}(t(0)),C=t(27);var O=["alt","height","width"],m=function(E){function u(){return function S(E,u){if(!(E instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function h(E,u){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?E:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function y(E,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);E.prototype=Object.create(u&&u.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(E,u):E.__proto__=u)}(u,E),n(u,[{key:"format",value:function(x,D){O.indexOf(x)>-1?D?this.domNode.setAttribute(x,D):this.domNode.removeAttribute(x):f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,x,D)}}],[{key:"create",value:function(x){var D=f(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,x);return"string"==typeof x&&D.setAttribute("src",this.sanitize(x)),D}},{key:"formats",value:function(x){return O.reduce(function(D,A){return x.hasAttribute(A)&&(D[A]=x.getAttribute(A)),D},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,C.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),u}(b.default.Embed);m.blotName="image",m.tagName="IMG",a.default=m},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function E(u,M){for(var x=0;x<M.length;x++){var D=M[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(u,D.key,D)}}return function(u,M,x){return M&&E(u.prototype,M),x&&E(u,x),u}}(),f=function E(u,M,x){null===u&&(u=Function.prototype);var D=Object.getOwnPropertyDescriptor(u,M);if(void 0===D){var A=Object.getPrototypeOf(u);return null===A?void 0:E(A,M,x)}if("value"in D)return D.value;var L=D.get;return void 0===L?void 0:L.call(x)},v=t(4),C=function g(E){return E&&E.__esModule?E:{default:E}}(t(27));var O=["height","width"],m=function(E){function u(){return function S(E,u){if(!(E instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function h(E,u){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?E:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function y(E,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);E.prototype=Object.create(u&&u.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(E,u):E.__proto__=u)}(u,E),n(u,[{key:"format",value:function(x,D){O.indexOf(x)>-1?D?this.domNode.setAttribute(x,D):this.domNode.removeAttribute(x):f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,x,D)}}],[{key:"create",value:function(x){var D=f(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,x);return D.setAttribute("frameborder","0"),D.setAttribute("allowfullscreen",!0),D.setAttribute("src",this.sanitize(x)),D}},{key:"formats",value:function(x){return O.reduce(function(D,A){return x.hasAttribute(A)&&(D[A]=x.getAttribute(A)),D},{})}},{key:"sanitize",value:function(x){return C.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),u}(v.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",a.default=m},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var n=function(){function x(D,A){for(var L=0;L<A.length;L++){var l=A[L];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(D,l.key,l)}}return function(D,A,L){return A&&x(D.prototype,A),L&&x(D,L),D}}(),f=function x(D,A,L){null===D&&(D=Function.prototype);var l=Object.getOwnPropertyDescriptor(D,A);if(void 0===l){var $=Object.getPrototypeOf(D);return null===$?void 0:x($,A,L)}if("value"in l)return l.value;var R=l.get;return void 0===R?void 0:R.call(L)},b=y(t(35)),g=y(t(5)),h=y(t(9));function y(x){return x&&x.__esModule?x:{default:x}}function O(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}function m(x,D){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?x:D}function E(x,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(x,D):x.__proto__=D)}var u=function(x){function D(){return O(this,D),m(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return E(D,x),n(D,null,[{key:"create",value:function(L){var l=f(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,L);return"string"==typeof L&&(window.katex.render(L,l,{throwOnError:!1,errorColor:"#f00"}),l.setAttribute("data-value",L)),l}},{key:"value",value:function(L){return L.getAttribute("data-value")}}]),D}(b.default);u.blotName="formula",u.className="ql-formula",u.tagName="SPAN";var M=function(x){function D(){O(this,D);var A=m(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return A}return E(D,x),n(D,null,[{key:"register",value:function(){g.default.register(u,!0)}}]),D}(h.default);a.FormulaBlot=u,a.default=M},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var n=function(){function L(l,$){for(var R=0;R<$.length;R++){var F=$[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(l,F.key,F)}}return function(l,$,R){return $&&L(l.prototype,$),R&&L(l,R),l}}(),f=function L(l,$,R){null===l&&(l=Function.prototype);var F=Object.getOwnPropertyDescriptor(l,$);if(void 0===F){var P=Object.getPrototypeOf(l);return null===P?void 0:L(P,$,R)}if("value"in F)return F.value;var k=F.get;return void 0===k?void 0:k.call(R)},b=m(t(0)),g=m(t(5)),h=m(t(9));function m(L){return L&&L.__esModule?L:{default:L}}function E(L,l){if(!(L instanceof l))throw new TypeError("Cannot call a class as a function")}function u(L,l){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?L:l}function M(L,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);L.prototype=Object.create(l&&l.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(L,l):L.__proto__=l)}var x=function(L){function l(){return E(this,l),u(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return M(l,L),n(l,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),f(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=R(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),l}(m(t(13)).default);x.className="ql-syntax";var D=new b.default.Attributor.Class("token","hljs",{scope:b.default.Scope.INLINE}),A=function(L){function l($,R){E(this,l);var F=u(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,$,R));if("function"!=typeof F.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return M(l,L),n(l,null,[{key:"register",value:function(){g.default.register(D,!0),g.default.register(x,!0)}}]),n(l,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(g.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(P){P.highlight(R.options.highlight)}),this.quill.update(g.default.sources.SILENT),null!=F&&this.quill.setSelection(F,g.default.sources.SILENT)}}}]),l}(h.default);A.DEFAULTS={highlight:null==window.hljs?null:function(L){return window.hljs.highlightAuto(L).value},interval:1e3},a.CodeBlock=x,a.CodeToken=D,a.default=A},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(ue,a){ue.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(ue,a){ue.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(ue,a){ue.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(ue,a){ue.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(ue,a){ue.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(ue,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var n=function l($,R,F){null===$&&($=Function.prototype);var P=Object.getOwnPropertyDescriptor($,R);if(void 0===P){var k=Object.getPrototypeOf($);return null===k?void 0:l(k,R,F)}if("value"in P)return P.value;var V=P.get;return void 0===V?void 0:V.call(F)},f=function(){function l($,R){for(var F=0;F<R.length;F++){var P=R[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty($,P.key,P)}}return function($,R,F){return R&&l($.prototype,R),F&&l($,F),$}}(),b=E(t(3)),g=E(t(8)),S=t(43),h=E(S),y=t(15),m=E(t(41));function E(l){return l&&l.__esModule?l:{default:l}}function u(l,$){if(!(l instanceof $))throw new TypeError("Cannot call a class as a function")}function M(l,$){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?l:$}function x(l,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);l.prototype=Object.create($&&$.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(l,$):l.__proto__=$)}var D=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],A=function(l){function $(R,F){u(this,$),null!=F.modules.toolbar&&null==F.modules.toolbar.container&&(F.modules.toolbar.container=D);var P=M(this,($.__proto__||Object.getPrototypeOf($)).call(this,R,F));return P.quill.container.classList.add("ql-bubble"),P}return x($,l),f($,[{key:"extendToolbar",value:function(F){this.tooltip=new L(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),m.default)}}]),$}(h.default);A.DEFAULTS=(0,b.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function($){$?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var L=function(l){function $(R,F){u(this,$);var P=M(this,($.__proto__||Object.getPrototypeOf($)).call(this,R,F));return P.quill.on(g.default.events.EDITOR_CHANGE,function(k,V,K,X){if(k===g.default.events.SELECTION_CHANGE)if(null!=V&&V.length>0&&X===g.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var Q=P.quill.getLines(V.index,V.length);if(1===Q.length)P.position(P.quill.getBounds(V));else{var de=Q[Q.length-1],se=P.quill.getIndex(de),ce=Math.min(de.length()-1,V.index+V.length-se),z=P.quill.getBounds(new y.Range(se,ce));P.position(z)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return x($,l),f($,[{key:"listen",value:function(){var F=this;n($.prototype.__proto__||Object.getPrototypeOf($.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();null!=P&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=n($.prototype.__proto__||Object.getPrototypeOf($.prototype),"position",this).call(this,F),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",0===P)return P;k.style.marginLeft=-1*P-k.offsetWidth/2+"px"}}]),$}(S.BaseTooltip);L.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=L,a.default=A},function(ue,a,t){ue.exports=t(63)}]).default},9928:(At,ue,a)=>{"use strict";a.d(ue,{t:()=>f});var t=a(5286),n=a(2145);class f extends t.B7{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const C=super._subscribe(b);return C&&!C.closed&&b.next(this._value),C}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.P;return this._value}next(b){super.next(this._value=b)}}},2351:(At,ue,a)=>{"use strict";a.d(ue,{E:()=>b});var t=a(1235),n=a(4421),f=a(4526);class b{constructor(g,S,h){this.kind=g,this.value=S,this.error=h,this.hasValue="N"===g}observe(g){switch(this.kind){case"N":return g.next&&g.next(this.value);case"E":return g.error&&g.error(this.error);case"C":return g.complete&&g.complete()}}do(g,S,h){switch(this.kind){case"N":return g&&g(this.value);case"E":return S&&S(this.error);case"C":return h&&h()}}accept(g,S,h){return g&&"function"==typeof g.next?this.observe(g):this.do(g,S,h)}toObservable(){switch(this.kind){case"N":return(0,n.of)(this.value);case"E":return(0,f.$)(this.error);case"C":return(0,t.I)()}throw new Error("unexpected notification kind value")}static createNext(g){return typeof g<"u"?new b("N",g):b.undefinedValueNotification}static createError(g){return new b("E",void 0,g)}static createComplete(){return b.completeNotification}}b.completeNotification=new b("C"),b.undefinedValueNotification=new b("N",void 0)},5817:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>h});var t=a(762),f=a(91),v=a(178),C=a(5722),g=a(8167),S=a(614);let h=(()=>{class O{constructor(E){this._isScalar=!1,E&&(this._subscribe=E)}lift(E){const u=new O;return u.source=this,u.operator=E,u}subscribe(E,u,M){const{operator:x}=this,D=function b(O,m,E){if(O){if(O instanceof t.v)return O;if(O[f.D])return O[f.D]()}return O||m||E?new t.v(O,m,E):new t.v(v.I)}(E,u,M);if(D.add(x?x.call(D,this.source):this.source||S.$.useDeprecatedSynchronousErrorHandling&&!D.syncErrorThrowable?this._subscribe(D):this._trySubscribe(D)),S.$.useDeprecatedSynchronousErrorHandling&&D.syncErrorThrowable&&(D.syncErrorThrowable=!1,D.syncErrorThrown))throw D.syncErrorValue;return D}_trySubscribe(E){try{return this._subscribe(E)}catch(u){S.$.useDeprecatedSynchronousErrorHandling&&(E.syncErrorThrown=!0,E.syncErrorValue=u),function n(O){for(;O;){const{closed:m,destination:E,isStopped:u}=O;if(m||u)return!1;O=E&&E instanceof t.v?E:null}return!0}(E)?E.error(u):console.warn(u)}}forEach(E,u){return new(u=y(u))((M,x)=>{let D;D=this.subscribe(A=>{try{E(A)}catch(L){x(L),D&&D.unsubscribe()}},x,M)})}_subscribe(E){const{source:u}=this;return u&&u.subscribe(E)}[C.s](){return this}pipe(...E){return 0===E.length?this:(0,g.m)(E)(this)}toPromise(E){return new(E=y(E))((u,M)=>{let x;this.subscribe(D=>x=D,D=>M(D),()=>u(x))})}}return O.create=m=>new O(m),O})();function y(O){if(O||(O=S.$.Promise||Promise),!O)throw new Error("no Promise impl found");return O}},178:(At,ue,a)=>{"use strict";a.d(ue,{I:()=>f});var t=a(614),n=a(8253);const f={closed:!0,next(v){},error(v){if(t.$.useDeprecatedSynchronousErrorHandling)throw v;(0,n.T)(v)},complete(){}}},6607:(At,ue,a)=>{"use strict";a.d(ue,{m:()=>D});var t=a(5286),n=a(8189),v=a(6228);const g=new class b extends v.q{}(class f extends n.R{constructor(l,$){super(l,$),this.scheduler=l,this.work=$}schedule(l,$=0){return $>0?super.schedule(l,$):(this.delay=$,this.state=l,this.scheduler.flush(this),this)}execute(l,$){return $>0||this.closed?super.execute(l,$):this._execute(l,$)}requestAsyncId(l,$,R=0){return null!==R&&R>0||null===R&&this.delay>0?super.requestAsyncId(l,$,R):l.flush(this)}});var S=a(4337),h=a(762),y=a(2351);class E extends h.v{constructor(l,$,R=0){super(l),this.scheduler=$,this.delay=R}static dispatch(l){const{notification:$,destination:R}=l;$.observe(R),this.unsubscribe()}scheduleMessage(l){this.destination.add(this.scheduler.schedule(E.dispatch,this.delay,new u(l,this.destination)))}_next(l){this.scheduleMessage(y.E.createNext(l))}_error(l){this.scheduleMessage(y.E.createError(l)),this.unsubscribe()}_complete(){this.scheduleMessage(y.E.createComplete()),this.unsubscribe()}}class u{constructor(l,$){this.notification=l,this.destination=$}}var M=a(2145),x=a(1259);class D extends t.B7{constructor(l=Number.POSITIVE_INFINITY,$=Number.POSITIVE_INFINITY,R){super(),this.scheduler=R,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=l<1?1:l,this._windowTime=$<1?1:$,$===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(l){if(!this.isStopped){const $=this._events;$.push(l),$.length>this._bufferSize&&$.shift()}super.next(l)}nextTimeWindow(l){this.isStopped||(this._events.push(new A(this._getNow(),l)),this._trimBufferThenGetEvents()),super.next(l)}_subscribe(l){const $=this._infiniteTimeWindow,R=$?this._events:this._trimBufferThenGetEvents(),F=this.scheduler,P=R.length;let k;if(this.closed)throw new M.P;if(this.isStopped||this.hasError?k=S.y.EMPTY:(this.observers.push(l),k=new x.Y(this,l)),F&&l.add(l=new E(l,F)),$)for(let V=0;V<P&&!l.closed;V++)l.next(R[V]);else for(let V=0;V<P&&!l.closed;V++)l.next(R[V].value);return this.hasError?l.error(this.thrownError):this.isStopped&&l.complete(),k}_getNow(){return(this.scheduler||g).now()}_trimBufferThenGetEvents(){const l=this._getNow(),$=this._bufferSize,R=this._windowTime,F=this._events,P=F.length;let k=0;for(;k<P&&!(l-F[k].time<R);)k++;return P>$&&(k=Math.max(k,P-$)),k>0&&F.splice(0,k),F}}class A{constructor(l,$){this.time=l,this.value=$}}},5286:(At,ue,a)=>{"use strict";a.d(ue,{B7:()=>S,PJ:()=>g,kQ:()=>h});var t=a(5817),n=a(762),f=a(4337),v=a(2145),b=a(1259),C=a(91);class g extends n.v{constructor(O){super(O),this.destination=O}}let S=(()=>{class y extends t.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[C.D](){return new g(this)}lift(m){const E=new h(this,this);return E.operator=m,E}next(m){if(this.closed)throw new v.P;if(!this.isStopped){const{observers:E}=this,u=E.length,M=E.slice();for(let x=0;x<u;x++)M[x].next(m)}}error(m){if(this.closed)throw new v.P;this.hasError=!0,this.thrownError=m,this.isStopped=!0;const{observers:E}=this,u=E.length,M=E.slice();for(let x=0;x<u;x++)M[x].error(m);this.observers.length=0}complete(){if(this.closed)throw new v.P;this.isStopped=!0;const{observers:m}=this,E=m.length,u=m.slice();for(let M=0;M<E;M++)u[M].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(m){if(this.closed)throw new v.P;return super._trySubscribe(m)}_subscribe(m){if(this.closed)throw new v.P;return this.hasError?(m.error(this.thrownError),f.y.EMPTY):this.isStopped?(m.complete(),f.y.EMPTY):(this.observers.push(m),new b.Y(this,m))}asObservable(){const m=new t.c;return m.source=this,m}}return y.create=(O,m)=>new h(O,m),y})();class h extends S{constructor(O,m){super(),this.destination=O,this.source=m}next(O){const{destination:m}=this;m&&m.next&&m.next(O)}error(O){const{destination:m}=this;m&&m.error&&this.destination.error(O)}complete(){const{destination:O}=this;O&&O.complete&&this.destination.complete()}_subscribe(O){const{source:m}=this;return m?this.source.subscribe(O):f.y.EMPTY}}},1259:(At,ue,a)=>{"use strict";a.d(ue,{Y:()=>n});var t=a(4337);class n extends t.y{constructor(v,b){super(),this.subject=v,this.subscriber=b,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const v=this.subject,b=v.observers;if(this.subject=null,!b||0===b.length||v.isStopped||v.closed)return;const C=b.indexOf(this.subscriber);-1!==C&&b.splice(C,1)}}},762:(At,ue,a)=>{"use strict";a.d(ue,{v:()=>g});var t=a(8099),n=a(178),f=a(4337),v=a(91),b=a(614),C=a(8253);class g extends f.y{constructor(y,O,m){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.I;break;case 1:if(!y){this.destination=n.I;break}if("object"==typeof y){y instanceof g?(this.syncErrorThrowable=y.syncErrorThrowable,this.destination=y,y.add(this)):(this.syncErrorThrowable=!0,this.destination=new S(this,y));break}default:this.syncErrorThrowable=!0,this.destination=new S(this,y,O,m)}}[v.D](){return this}static create(y,O,m){const E=new g(y,O,m);return E.syncErrorThrowable=!1,E}next(y){this.isStopped||this._next(y)}error(y){this.isStopped||(this.isStopped=!0,this._error(y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(y){this.destination.next(y)}_error(y){this.destination.error(y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=y,this}}class S extends g{constructor(y,O,m,E){super(),this._parentSubscriber=y;let u,M=this;(0,t.T)(O)?u=O:O&&(u=O.next,m=O.error,E=O.complete,O!==n.I&&(M=Object.create(O),(0,t.T)(M.unsubscribe)&&this.add(M.unsubscribe.bind(M)),M.unsubscribe=this.unsubscribe.bind(this))),this._context=M,this._next=u,this._error=m,this._complete=E}next(y){if(!this.isStopped&&this._next){const{_parentSubscriber:O}=this;b.$.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?this.__tryOrSetError(O,this._next,y)&&this.unsubscribe():this.__tryOrUnsub(this._next,y)}}error(y){if(!this.isStopped){const{_parentSubscriber:O}=this,{useDeprecatedSynchronousErrorHandling:m}=b.$;if(this._error)m&&O.syncErrorThrowable?(this.__tryOrSetError(O,this._error,y),this.unsubscribe()):(this.__tryOrUnsub(this._error,y),this.unsubscribe());else if(O.syncErrorThrowable)m?(O.syncErrorValue=y,O.syncErrorThrown=!0):(0,C.T)(y),this.unsubscribe();else{if(this.unsubscribe(),m)throw y;(0,C.T)(y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:y}=this;if(this._complete){const O=()=>this._complete.call(this._context);b.$.useDeprecatedSynchronousErrorHandling&&y.syncErrorThrowable?(this.__tryOrSetError(y,O),this.unsubscribe()):(this.__tryOrUnsub(O),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(y,O){try{y.call(this._context,O)}catch(m){if(this.unsubscribe(),b.$.useDeprecatedSynchronousErrorHandling)throw m;(0,C.T)(m)}}__tryOrSetError(y,O,m){if(!b.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{O.call(this._context,m)}catch(E){return b.$.useDeprecatedSynchronousErrorHandling?(y.syncErrorValue=E,y.syncErrorThrown=!0,!0):((0,C.T)(E),!0)}return!1}_unsubscribe(){const{_parentSubscriber:y}=this;this._context=null,this._parentSubscriber=null,y.unsubscribe()}}},4337:(At,ue,a)=>{"use strict";a.d(ue,{y:()=>C});var t=a(7354),n=a(1456),f=a(8099);const b=(()=>{function S(h){return Error.call(this),this.message=h?`${h.length} errors occurred during unsubscription:\n${h.map((y,O)=>`${O+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=h,this}return S.prototype=Object.create(Error.prototype),S})();class C{constructor(h){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,h&&(this._ctorUnsubscribe=!0,this._unsubscribe=h)}unsubscribe(){let h;if(this.closed)return;let{_parentOrParents:y,_ctorUnsubscribe:O,_unsubscribe:m,_subscriptions:E}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,y instanceof C)y.remove(this);else if(null!==y)for(let u=0;u<y.length;++u)y[u].remove(this);if((0,f.T)(m)){O&&(this._unsubscribe=void 0);try{m.call(this)}catch(u){h=u instanceof b?g(u.errors):[u]}}if((0,t.c)(E)){let u=-1,M=E.length;for(;++u<M;){const x=E[u];if((0,n.G)(x))try{x.unsubscribe()}catch(D){h=h||[],D instanceof b?h=h.concat(g(D.errors)):h.push(D)}}}if(h)throw new b(h)}add(h){let y=h;if(!h)return C.EMPTY;switch(typeof h){case"function":y=new C(h);case"object":if(y===this||y.closed||"function"!=typeof y.unsubscribe)return y;if(this.closed)return y.unsubscribe(),y;if(!(y instanceof C)){const E=y;y=new C,y._subscriptions=[E]}break;default:throw new Error("unrecognized teardown "+h+" added to Subscription.")}let{_parentOrParents:O}=y;if(null===O)y._parentOrParents=this;else if(O instanceof C){if(O===this)return y;y._parentOrParents=[O,this]}else{if(-1!==O.indexOf(this))return y;O.push(this)}const m=this._subscriptions;return null===m?this._subscriptions=[y]:m.push(y),y}remove(h){const y=this._subscriptions;if(y){const O=y.indexOf(h);-1!==O&&y.splice(O,1)}}}var S;function g(S){return S.reduce((h,y)=>h.concat(y instanceof b?y.errors:y),[])}C.EMPTY=((S=new C).closed=!0,S)},614:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>n});let t=!1;const n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(f){if(f){const v=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+v.stack)}else t&&console.log("RxJS: Back to a better error behavior. Thank you. <3");t=f},get useDeprecatedSynchronousErrorHandling(){return t}}},3004:(At,ue,a)=>{"use strict";a.d(ue,{gn:()=>C,tS:()=>S,zA:()=>v});var t=a(762),n=a(5817),f=a(135);class v extends t.v{constructor(y){super(),this.parent=y}_next(y){this.parent.notifyNext(y)}_error(y){this.parent.notifyError(y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class C extends t.v{notifyNext(y){this.destination.next(y)}notifyError(y){this.destination.error(y)}notifyComplete(){this.destination.complete()}}function S(h,y){if(y.closed)return;if(h instanceof n.c)return h.subscribe(y);let O;try{O=(0,f.i)(h)(y)}catch(m){y.error(m)}return O}},4725:(At,ue,a)=>{"use strict";a.d(ue,{G:()=>C,f:()=>g});var t=a(5286),n=a(5817),v=(a(762),a(4337)),b=a(3110);class C extends n.c{constructor(m,E){super(),this.source=m,this.subjectFactory=E,this._refCount=0,this._isComplete=!1}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let m=this._connection;return m||(this._isComplete=!1,m=this._connection=new v.y,m.add(this.source.subscribe(new S(this.getSubject(),this))),m.closed&&(this._connection=null,m=v.y.EMPTY)),m}refCount(){return(0,b.B)()(this)}}const g=(()=>{const O=C.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:O._subscribe},_isComplete:{value:O._isComplete,writable:!0},getSubject:{value:O.getSubject},connect:{value:O.connect},refCount:{value:O.refCount}}})();class S extends t.PJ{constructor(m,E){super(m),this.connectable=E}_error(m){this._unsubscribe(),super._error(m)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const m=this.connectable;if(m){this.connectable=null;const E=m._connection;m._refCount=0,m._subject=null,m._connection=null,E&&E.unsubscribe()}}}},9714:(At,ue,a)=>{"use strict";a.d(ue,{zV:()=>O});var t=a(2234),n=a(7354),f=a(762);class v extends f.v{notifyNext(M,x,D,A,L){this.destination.next(x)}notifyError(M,x){this.destination.error(M)}notifyComplete(M){this.destination.complete()}}class b extends f.v{constructor(M,x,D){super(),this.parent=M,this.outerValue=x,this.outerIndex=D,this.index=0}_next(M){this.parent.notifyNext(this.outerValue,M,this.outerIndex,this.index++,this)}_error(M){this.parent.notifyError(M,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var C=a(135),g=a(5817);function S(u,M,x,D,A=new b(u,x,D)){if(!A.closed)return M instanceof g.c?M.subscribe(A):(0,C.i)(M)(A)}var h=a(4279);const y={};function O(...u){let M,x;return(0,t.m)(u[u.length-1])&&(x=u.pop()),"function"==typeof u[u.length-1]&&(M=u.pop()),1===u.length&&(0,n.c)(u[0])&&(u=u[0]),(0,h.c)(u,x).lift(new m(M))}class m{constructor(M){this.resultSelector=M}call(M,x){return x.subscribe(new E(M,this.resultSelector))}}class E extends v{constructor(M,x){super(M),this.resultSelector=x,this.active=0,this.values=[],this.observables=[]}_next(M){this.values.push(y),this.observables.push(M)}_complete(){const M=this.observables,x=M.length;if(0===x)this.destination.complete();else{this.active=x,this.toRespond=x;for(let D=0;D<x;D++)this.add(S(this,M[D],void 0,D))}}notifyComplete(M){0==(this.active-=1)&&this.destination.complete()}notifyNext(M,x,D){const A=this.values,l=this.toRespond?A[D]===y?--this.toRespond:this.toRespond:0;A[D]=x,0===l&&(this.resultSelector?this._tryResultSelector(A):this.destination.next(A.slice()))}_tryResultSelector(M){let x;try{x=this.resultSelector.apply(this,M)}catch(D){return void this.destination.error(D)}this.destination.next(x)}}},1639:(At,ue,a)=>{"use strict";a.d(ue,{x:()=>v});var t=a(4421),n=a(6201);function v(...b){return function f(){return(0,n.U)(1)}()((0,t.of)(...b))}},9418:(At,ue,a)=>{"use strict";a.d(ue,{v:()=>v});var t=a(5817),n=a(4787),f=a(1235);function v(b){return new t.c(C=>{let g;try{g=b()}catch(h){return void C.error(h)}return(g?(0,n.H)(g):(0,f.I)()).subscribe(C)})}},4119:(At,ue,a)=>{"use strict";a.d(ue,{K:()=>h});var t=a(5286),n=a(762),f=a(5817),v=a(4337),b=a(6607);const C={url:"",deserializer:y=>JSON.parse(y.data),serializer:y=>JSON.stringify(y)};class S extends t.kQ{constructor(O,m){if(super(),O instanceof f.c)this.destination=m,this.source=O;else{const E=this._config=Object.assign({},C);if(this._output=new t.B7,"string"==typeof O)E.url=O;else for(let u in O)O.hasOwnProperty(u)&&(E[u]=O[u]);if(!E.WebSocketCtor&&WebSocket)E.WebSocketCtor=WebSocket;else if(!E.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new b.m}}lift(O){const m=new S(this._config,this.destination);return m.operator=O,m.source=this,m}_resetState(){this._socket=null,this.source||(this.destination=new b.m),this._output=new t.B7}multiplex(O,m,E){const u=this;return new f.c(M=>{try{u.next(O())}catch(D){M.error(D)}const x=u.subscribe(D=>{try{E(D)&&M.next(D)}catch(A){M.error(A)}},D=>M.error(D),()=>M.complete());return()=>{try{u.next(m())}catch(D){M.error(D)}x.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:O,protocol:m,url:E,binaryType:u}=this._config,M=this._output;let x=null;try{x=m?new O(E,m):new O(E),this._socket=x,u&&(this._socket.binaryType=u)}catch(A){return void M.error(A)}const D=new v.y(()=>{this._socket=null,x&&1===x.readyState&&x.close()});x.onopen=A=>{const{_socket:L}=this;if(!L)return x.close(),void this._resetState();const{openObserver:l}=this._config;l&&l.next(A);const $=this.destination;this.destination=n.v.create(R=>{if(1===x.readyState)try{const{serializer:F}=this._config;x.send(F(R))}catch(F){this.destination.error(F)}},R=>{const{closingObserver:F}=this._config;F&&F.next(void 0),R&&R.code?x.close(R.code,R.reason):M.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:R}=this._config;R&&R.next(void 0),x.close(),this._resetState()}),$&&$ instanceof b.m&&D.add($.subscribe(this.destination))},x.onerror=A=>{this._resetState(),M.error(A)},x.onclose=A=>{this._resetState();const{closeObserver:L}=this._config;L&&L.next(A),A.wasClean?M.complete():M.error(A)},x.onmessage=A=>{try{const{deserializer:L}=this._config;M.next(L(A))}catch(L){M.error(L)}}}_subscribe(O){const{source:m}=this;return m?m.subscribe(O):(this._socket||this._connectSocket(),this._output.subscribe(O),O.add(()=>{const{_socket:E}=this;0===this._output.observers.length&&(E&&1===E.readyState&&E.close(),this._resetState())}),O)}unsubscribe(){const{_socket:O}=this;O&&1===O.readyState&&O.close(),this._resetState(),super.unsubscribe()}}function h(y){return new S(y)}},1235:(At,ue,a)=>{"use strict";a.d(ue,{I:()=>f,w:()=>n});var t=a(5817);const n=new t.c(b=>b.complete());function f(b){return b?function v(b){return new t.c(C=>b.schedule(()=>C.complete()))}(b):n}},696:(At,ue,a)=>{"use strict";a.d(ue,{p:()=>C});var t=a(5817),n=a(7354),f=a(5006),v=a(1456),b=a(4787);function C(...S){if(1===S.length){const h=S[0];if((0,n.c)(h))return g(h,null);if((0,v.G)(h)&&Object.getPrototypeOf(h)===Object.prototype){const y=Object.keys(h);return g(y.map(O=>h[O]),y)}}if("function"==typeof S[S.length-1]){const h=S.pop();return g(S=1===S.length&&(0,n.c)(S[0])?S[0]:S,null).pipe((0,f.T)(y=>h(...y)))}return g(S,null)}function g(S,h){return new t.c(y=>{const O=S.length;if(0===O)return void y.complete();const m=new Array(O);let E=0,u=0;for(let M=0;M<O;M++){const x=(0,b.H)(S[M]);let D=!1;y.add(x.subscribe({next:A=>{D||(D=!0,u++),m[M]=A},error:A=>y.error(A),complete:()=>{E++,(E===O||!D)&&(u===O&&y.next(h?h.reduce((A,L,l)=>(A[L]=m[l],A),{}):m),y.complete())}}))}})}},4787:(At,ue,a)=>{"use strict";a.d(ue,{H:()=>M});var t=a(5817),n=a(135),f=a(4337),v=a(5722),g=a(2496),S=a(7765),O=a(5998),m=a(5253);function M(x,D){return D?function u(x,D){if(null!=x){if(function y(x){return x&&"function"==typeof x[v.s]}(x))return function b(x,D){return new t.c(A=>{const L=new f.y;return L.add(D.schedule(()=>{const l=x[v.s]();L.add(l.subscribe({next($){L.add(D.schedule(()=>A.next($)))},error($){L.add(D.schedule(()=>A.error($)))},complete(){L.add(D.schedule(()=>A.complete()))}}))})),L})}(x,D);if((0,O.y)(x))return function C(x,D){return new t.c(A=>{const L=new f.y;return L.add(D.schedule(()=>x.then(l=>{L.add(D.schedule(()=>{A.next(l),L.add(D.schedule(()=>A.complete()))}))},l=>{L.add(D.schedule(()=>A.error(l)))}))),L})}(x,D);if((0,m.X)(x))return(0,g.V)(x,D);if(function E(x){return x&&"function"==typeof x[S.lJ]}(x)||"string"==typeof x)return function h(x,D){if(!x)throw new Error("Iterable cannot be null");return new t.c(A=>{const L=new f.y;let l;return L.add(()=>{l&&"function"==typeof l.return&&l.return()}),L.add(D.schedule(()=>{l=x[S.lJ](),L.add(D.schedule(function(){if(A.closed)return;let $,R;try{const F=l.next();$=F.value,R=F.done}catch(F){return void A.error(F)}R?A.complete():(A.next($),this.schedule())}))})),L})}(x,D)}throw new TypeError((null!==x&&typeof x||x)+" is not observable")}(x,D):x instanceof t.c?x:new t.c((0,n.i)(x))}},4279:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>v});var t=a(5817),n=a(4385),f=a(2496);function v(b,C){return C?(0,f.V)(b,C):new t.c((0,n.v)(b))}},3586:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>C});var t=a(5817),n=a(7354),f=a(8099),v=a(5006);function C(O,m,E,u){return(0,f.T)(E)&&(u=E,E=void 0),u?C(O,m,E).pipe((0,v.T)(M=>(0,n.c)(M)?u(...M):u(M))):new t.c(M=>{g(O,m,function x(D){M.next(arguments.length>1?Array.prototype.slice.call(arguments):D)},M,E)})}function g(O,m,E,u,M){let x;if(function y(O){return O&&"function"==typeof O.addEventListener&&"function"==typeof O.removeEventListener}(O)){const D=O;O.addEventListener(m,E,M),x=()=>D.removeEventListener(m,E,M)}else if(function h(O){return O&&"function"==typeof O.on&&"function"==typeof O.off}(O)){const D=O;O.on(m,E),x=()=>D.off(m,E)}else if(function S(O){return O&&"function"==typeof O.addListener&&"function"==typeof O.removeListener}(O)){const D=O;O.addListener(m,E),x=()=>D.removeListener(m,E)}else{if(!O||!O.length)throw new TypeError("Invalid event target");for(let D=0,A=O.length;D<A;D++)g(O[D],m,E,u,M)}u.add(x)}},4670:(At,ue,a)=>{"use strict";a.d(ue,{h:()=>b});var t=a(5817),n=a(2234),f=a(6201),v=a(4279);function b(...C){let g=Number.POSITIVE_INFINITY,S=null,h=C[C.length-1];return(0,n.m)(h)?(S=C.pop(),C.length>1&&"number"==typeof C[C.length-1]&&(g=C.pop())):"number"==typeof h&&(g=C.pop()),null===S&&1===C.length&&C[0]instanceof t.c?C[0]:(0,f.U)(g)((0,v.c)(C,S))}},4421:(At,ue,a)=>{"use strict";a.d(ue,{of:()=>v});var t=a(2234),n=a(4279),f=a(2496);function v(...b){let C=b[b.length-1];return(0,t.m)(C)?(b.pop(),(0,f.V)(b,C)):(0,n.c)(b)}},4526:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>n});var t=a(5817);function n(v,b){return new t.c(b?C=>b.schedule(f,0,{error:v,subscriber:C}):C=>C.error(v))}function f({error:v,subscriber:b}){b.error(v)}},2170:(At,ue,a)=>{"use strict";a.d(ue,{O:()=>C});var t=a(5817),n=a(1080),f=a(7354);function v(S){return!(0,f.c)(S)&&S-parseFloat(S)+1>=0}var b=a(2234);function C(S=0,h,y){let O=-1;return v(h)?O=Number(h)<1?1:Number(h):(0,b.m)(h)&&(y=h),(0,b.m)(y)||(y=n.b),new t.c(m=>{const E=v(S)?S:+S-y.now();return y.schedule(g,E,{index:0,period:O,subscriber:m})})}function g(S){const{index:h,period:y,subscriber:O}=S;if(O.next(h),!O.closed){if(-1===y)return O.complete();S.index=h+1,this.schedule(S,y)}}},3921:(At,ue,a)=>{"use strict";a.d(ue,{W:()=>n});var t=a(3004);function n(b){return function(g){const S=new f(b),h=g.lift(S);return S.caught=h}}class f{constructor(C){this.selector=C}call(C,g){return g.subscribe(new v(C,this.selector,this.caught))}}class v extends t.gn{constructor(C,g,S){super(C),this.selector=g,this.caught=S}error(C){if(!this.isStopped){let g;try{g=this.selector(C,this.caught)}catch(y){return void super.error(y)}this._unsubscribeAndRecycle();const S=new t.zA(this);this.add(S);const h=(0,t.tS)(g,S);h!==S&&this.add(h)}}}},3574:(At,ue,a)=>{"use strict";a.d(ue,{H:()=>n});var t=a(8456);function n(f,v){return(0,t.ZZ)(f,v,1)}},3020:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>f});var t=a(762),n=a(1080);function f(g,S=n.b){return h=>h.lift(new v(g,S))}class v{constructor(S,h){this.dueTime=S,this.scheduler=h}call(S,h){return h.subscribe(new b(S,this.dueTime,this.scheduler))}}class b extends t.v{constructor(S,h,y){super(S),this.dueTime=h,this.scheduler=y,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(S){this.clearDebounce(),this.lastValue=S,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(C,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:S}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(S)}}clearDebounce(){const S=this.debouncedSubscription;null!==S&&(this.remove(S),S.unsubscribe(),this.debouncedSubscription=null)}}function C(g){g.debouncedNext()}},7849:(At,ue,a)=>{"use strict";a.d(ue,{U:()=>n});var t=a(762);function n(b=null){return C=>C.lift(new f(b))}class f{constructor(C){this.defaultValue=C}call(C,g){return g.subscribe(new v(C,this.defaultValue))}}class v extends t.v{constructor(C,g){super(C),this.defaultValue=g,this.isEmpty=!0}_next(C){this.isEmpty=!1,this.destination.next(C)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8002:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>b});var t=a(1080),f=a(762),v=a(2351);function b(h,y=t.b){const m=function n(h){return h instanceof Date&&!isNaN(+h)}(h)?+h-y.now():Math.abs(h);return E=>E.lift(new C(m,y))}class C{constructor(y,O){this.delay=y,this.scheduler=O}call(y,O){return O.subscribe(new g(y,this.delay,this.scheduler))}}class g extends f.v{constructor(y,O,m){super(y),this.delay=O,this.scheduler=m,this.queue=[],this.active=!1,this.errored=!1}static dispatch(y){const O=y.source,m=O.queue,E=y.scheduler,u=y.destination;for(;m.length>0&&m[0].time-E.now()<=0;)m.shift().notification.observe(u);if(m.length>0){const M=Math.max(0,m[0].time-E.now());this.schedule(y,M)}else this.unsubscribe(),O.active=!1}_schedule(y){this.active=!0,this.destination.add(y.schedule(g.dispatch,this.delay,{source:this,destination:this.destination,scheduler:y}))}scheduleNotification(y){if(!0===this.errored)return;const O=this.scheduler,m=new S(O.now()+this.delay,y);this.queue.push(m),!1===this.active&&this._schedule(O)}_next(y){this.scheduleNotification(v.E.createNext(y))}_error(y){this.errored=!0,this.queue=[],this.destination.error(y),this.unsubscribe()}_complete(){this.scheduleNotification(v.E.createComplete()),this.unsubscribe()}}class S{constructor(y,O){this.time=y,this.notification=O}}},522:(At,ue,a)=>{"use strict";a.d(ue,{F:()=>n});var t=a(762);function n(b,C){return g=>g.lift(new f(b,C))}class f{constructor(C,g){this.compare=C,this.keySelector=g}call(C,g){return g.subscribe(new v(C,this.compare,this.keySelector))}}class v extends t.v{constructor(C,g,S){super(C),this.keySelector=S,this.hasKey=!1,"function"==typeof g&&(this.compare=g)}compare(C,g){return C===g}_next(C){let g;try{const{keySelector:h}=this;g=h?h(C):C}catch(h){return this.destination.error(h)}let S=!1;if(this.hasKey)try{const{compare:h}=this;S=h(this.key,g)}catch(h){return this.destination.error(h)}else this.hasKey=!0;S||(this.key=g,this.destination.next(C))}}},1713:(At,ue,a)=>{"use strict";a.d(ue,{w:()=>n});var t=a(522);function n(f,v){return(0,t.F)((b,C)=>v?v(b[f],C[f]):b[f]===C[f])}},8728:(At,ue,a)=>{"use strict";a.d(ue,{p:()=>n});var t=a(762);function n(b,C){return function(S){return S.lift(new f(b,C))}}class f{constructor(C,g){this.predicate=C,this.thisArg=g}call(C,g){return g.subscribe(new v(C,this.predicate,this.thisArg))}}class v extends t.v{constructor(C,g,S){super(C),this.predicate=g,this.thisArg=S,this.count=0}_next(C){let g;try{g=this.predicate.call(this.thisArg,C,this.count++)}catch(S){return void this.destination.error(S)}g&&this.destination.next(C)}}},7312:(At,ue,a)=>{"use strict";a.d(ue,{j:()=>f});var t=a(762),n=a(4337);function f(C){return g=>g.lift(new v(C))}class v{constructor(g){this.callback=g}call(g,S){return S.subscribe(new b(g,this.callback))}}class b extends t.v{constructor(g,S){super(g),this.add(new n.y(S))}}},4046:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>g});var t=a(9994),n=a(8728),f=a(9493),v=a(7849),b=a(3314),C=a(5241);function g(S,h){const y=arguments.length>=2;return O=>O.pipe(S?(0,n.p)((m,E)=>S(m,E,O)):C.D,(0,f.s)(1),y?(0,v.U)(h):(0,b.v)(()=>new t.G))}},5006:(At,ue,a)=>{"use strict";a.d(ue,{T:()=>n});var t=a(762);function n(b,C){return function(S){if("function"!=typeof b)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return S.lift(new f(b,C))}}class f{constructor(C,g){this.project=C,this.thisArg=g}call(C,g){return g.subscribe(new v(C,this.project,this.thisArg))}}class v extends t.v{constructor(C,g,S){super(C),this.project=g,this.count=0,this.thisArg=S||this}_next(C){let g;try{g=this.project.call(this.thisArg,C,this.count++)}catch(S){return void this.destination.error(S)}this.destination.next(g)}}},6201:(At,ue,a)=>{"use strict";a.d(ue,{U:()=>f});var t=a(8456),n=a(5241);function f(v=Number.POSITIVE_INFINITY){return(0,t.ZZ)(n.D,v)}},8456:(At,ue,a)=>{"use strict";a.d(ue,{ZZ:()=>v});var t=a(5006),n=a(4787),f=a(3004);function v(S,h,y=Number.POSITIVE_INFINITY){return"function"==typeof h?O=>O.pipe(v((m,E)=>(0,n.H)(S(m,E)).pipe((0,t.T)((u,M)=>h(m,u,E,M))),y)):("number"==typeof h&&(y=h),O=>O.lift(new b(S,y)))}class b{constructor(h,y=Number.POSITIVE_INFINITY){this.project=h,this.concurrent=y}call(h,y){return y.subscribe(new C(h,this.project,this.concurrent))}}class C extends f.gn{constructor(h,y,O=Number.POSITIVE_INFINITY){super(h),this.project=y,this.concurrent=O,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(h){this.active<this.concurrent?this._tryNext(h):this.buffer.push(h)}_tryNext(h){let y;const O=this.index++;try{y=this.project(h,O)}catch(m){return void this.destination.error(m)}this.active++,this._innerSub(y)}_innerSub(h){const y=new f.zA(this),O=this.destination;O.add(y);const m=(0,f.tS)(h,y);m!==y&&O.add(m)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(h){this.destination.next(h)}notifyComplete(){const h=this.buffer;this.active--,h.length>0?this._next(h.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3110:(At,ue,a)=>{"use strict";a.d(ue,{B:()=>n});var t=a(762);function n(){return function(C){return C.lift(new f(C))}}class f{constructor(C){this.connectable=C}call(C,g){const{connectable:S}=this;S._refCount++;const h=new v(C,S),y=g.subscribe(h);return h.closed||(h.connection=S.connect()),y}}class v extends t.v{constructor(C,g){super(C),this.connectable=g}_unsubscribe(){const{connectable:C}=this;if(!C)return void(this.connection=null);this.connectable=null;const g=C._refCount;if(g<=0)return void(this.connection=null);if(C._refCount=g-1,g>1)return void(this.connection=null);const{connection:S}=this,h=C._connection;this.connection=null,h&&(!S||h===S)&&h.unsubscribe()}}},8712:(At,ue,a)=>{"use strict";a.d(ue,{t:()=>n});var t=a(6607);function n(v,b,C){let g;return g=v&&"object"==typeof v?v:{bufferSize:v,windowTime:b,refCount:!1,scheduler:C},S=>S.lift(function f({bufferSize:v=Number.POSITIVE_INFINITY,windowTime:b=Number.POSITIVE_INFINITY,refCount:C,scheduler:g}){let S,y,h=0,O=!1,m=!1;return function(u){let M;h++,!S||O?(O=!1,S=new t.m(v,b,g),M=S.subscribe(this),y=u.subscribe({next(x){S.next(x)},error(x){O=!0,S.error(x)},complete(){m=!0,y=void 0,S.complete()}}),m&&(y=void 0)):M=S.subscribe(this),this.add(()=>{h--,M.unsubscribe(),M=void 0,y&&!m&&C&&0===h&&(y.unsubscribe(),y=void 0,S=void 0)})}}(g))}},7753:(At,ue,a)=>{"use strict";a.d(ue,{i:()=>n});var t=a(762);function n(b){return C=>C.lift(new f(b))}class f{constructor(C){this.total=C}call(C,g){return g.subscribe(new v(C,this.total))}}class v extends t.v{constructor(C,g){super(C),this.total=g,this.count=0}_next(C){++this.count>this.total&&this.destination.next(C)}}},3176:(At,ue,a)=>{"use strict";a.d(ue,{Z:()=>f});var t=a(1639),n=a(2234);function f(...v){const b=v[v.length-1];return(0,n.m)(b)?(v.pop(),C=>(0,t.x)(v,C,b)):C=>(0,t.x)(v,C)}},9090:(At,ue,a)=>{"use strict";a.d(ue,{n:()=>v});var t=a(5006),n=a(4787),f=a(3004);function v(g,S){return"function"==typeof S?h=>h.pipe(v((y,O)=>(0,n.H)(g(y,O)).pipe((0,t.T)((m,E)=>S(y,m,O,E))))):h=>h.lift(new b(g))}class b{constructor(S){this.project=S}call(S,h){return h.subscribe(new C(S,this.project))}}class C extends f.gn{constructor(S,h){super(S),this.project=h,this.index=0}_next(S){let h;const y=this.index++;try{h=this.project(S,y)}catch(O){return void this.destination.error(O)}this._innerSub(h)}_innerSub(S){const h=this.innerSubscription;h&&h.unsubscribe();const y=new f.zA(this),O=this.destination;O.add(y),this.innerSubscription=(0,f.tS)(S,y),this.innerSubscription!==y&&O.add(this.innerSubscription)}_complete(){const{innerSubscription:S}=this;(!S||S.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(S){this.destination.next(S)}}},9493:(At,ue,a)=>{"use strict";a.d(ue,{s:()=>v});var t=a(762),n=a(434),f=a(1235);function v(g){return S=>0===g?(0,f.I)():S.lift(new b(g))}class b{constructor(S){if(this.total=S,this.total<0)throw new n.k}call(S,h){return h.subscribe(new C(S,this.total))}}class C extends t.v{constructor(S,h){super(S),this.total=h,this.count=0}_next(S){const h=this.total,y=++this.count;y<=h&&(this.destination.next(S),y===h&&(this.destination.complete(),this.unsubscribe()))}}},7605:(At,ue,a)=>{"use strict";a.d(ue,{Q:()=>n});var t=a(3004);function n(b){return C=>C.lift(new f(b))}class f{constructor(C){this.notifier=C}call(C,g){const S=new v(C),h=(0,t.tS)(this.notifier,new t.zA(S));return h&&!S.seenValue?(S.add(h),g.subscribe(S)):S}}class v extends t.gn{constructor(C){super(C),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},1604:(At,ue,a)=>{"use strict";a.d(ue,{v:()=>n});var t=a(762);function n(b,C=!1){return g=>g.lift(new f(b,C))}class f{constructor(C,g){this.predicate=C,this.inclusive=g}call(C,g){return g.subscribe(new v(C,this.predicate,this.inclusive))}}class v extends t.v{constructor(C,g,S){super(C),this.predicate=g,this.inclusive=S,this.index=0}_next(C){const g=this.destination;let S;try{S=this.predicate(C,this.index++)}catch(h){return void g.error(h)}this.nextOrComplete(C,S)}nextOrComplete(C,g){const S=this.destination;g?S.next(C):(this.inclusive&&S.next(C),S.complete())}}},8841:(At,ue,a)=>{"use strict";a.d(ue,{M:()=>v});var t=a(762),n=a(8803),f=a(8099);function v(g,S,h){return function(O){return O.lift(new b(g,S,h))}}class b{constructor(S,h,y){this.nextOrObserver=S,this.error=h,this.complete=y}call(S,h){return h.subscribe(new C(S,this.nextOrObserver,this.error,this.complete))}}class C extends t.v{constructor(S,h,y,O){super(S),this._tapNext=n.l,this._tapError=n.l,this._tapComplete=n.l,this._tapError=y||n.l,this._tapComplete=O||n.l,(0,f.T)(h)?(this._context=this,this._tapNext=h):h&&(this._context=h,this._tapNext=h.next||n.l,this._tapError=h.error||n.l,this._tapComplete=h.complete||n.l)}_next(S){try{this._tapNext.call(this._context,S)}catch(h){return void this.destination.error(h)}this.destination.next(S)}_error(S){try{this._tapError.call(this._context,S)}catch(h){return void this.destination.error(h)}this.destination.error(S)}_complete(){try{this._tapComplete.call(this._context)}catch(S){return void this.destination.error(S)}return this.destination.complete()}}},3314:(At,ue,a)=>{"use strict";a.d(ue,{v:()=>f});var t=a(9994),n=a(762);function f(g=C){return S=>S.lift(new v(g))}class v{constructor(S){this.errorFactory=S}call(S,h){return h.subscribe(new b(S,this.errorFactory))}}class b extends n.v{constructor(S,h){super(S),this.errorFactory=h,this.hasValue=!1}_next(S){this.hasValue=!0,this.destination.next(S)}_complete(){if(this.hasValue)return this.destination.complete();{let S;try{S=this.errorFactory()}catch(h){S=h}this.destination.error(S)}}}function C(){return new t.G}},2496:(At,ue,a)=>{"use strict";a.d(ue,{V:()=>f});var t=a(5817),n=a(4337);function f(v,b){return new t.c(C=>{const g=new n.y;let S=0;return g.add(b.schedule(function(){S!==v.length?(C.next(v[S++]),C.closed||g.add(this.schedule())):C.complete()})),g})}},8189:(At,ue,a)=>{"use strict";a.d(ue,{R:()=>f});var t=a(4337);class n extends t.y{constructor(b,C){super()}schedule(b,C=0){return this}}class f extends n{constructor(b,C){super(b,C),this.scheduler=b,this.work=C,this.pending=!1}schedule(b,C=0){if(this.closed)return this;this.state=b;const g=this.id,S=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(S,g,C)),this.pending=!0,this.delay=C,this.id=this.id||this.requestAsyncId(S,this.id,C),this}requestAsyncId(b,C,g=0){return setInterval(b.flush.bind(b,this),g)}recycleAsyncId(b,C,g=0){if(null!==g&&this.delay===g&&!1===this.pending)return C;clearInterval(C)}execute(b,C){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(b,C);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(b,C){let S,g=!1;try{this.work(b)}catch(h){g=!0,S=!!h&&h||new Error(h)}if(g)return this.unsubscribe(),S}_unsubscribe(){const b=this.id,C=this.scheduler,g=C.actions,S=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==S&&g.splice(S,1),null!=b&&(this.id=this.recycleAsyncId(C,b,null)),this.delay=null}}},6228:(At,ue,a)=>{"use strict";a.d(ue,{q:()=>n});let t=(()=>{class f{constructor(b,C=f.now){this.SchedulerAction=b,this.now=C}schedule(b,C=0,g){return new this.SchedulerAction(this,b).schedule(g,C)}}return f.now=()=>Date.now(),f})();class n extends t{constructor(v,b=t.now){super(v,()=>n.delegate&&n.delegate!==this?n.delegate.now():b()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(v,b=0,C){return n.delegate&&n.delegate!==this?n.delegate.schedule(v,b,C):super.schedule(v,b,C)}flush(v){const{actions:b}=this;if(this.active)return void b.push(v);let C;this.active=!0;do{if(C=v.execute(v.state,v.delay))break}while(v=b.shift());if(this.active=!1,C){for(;v=b.shift();)v.unsubscribe();throw C}}}},5516:(At,ue,a)=>{"use strict";a.d(ue,{$:()=>O});let t=1;const n=Promise.resolve(),f={};function v(E){return E in f&&(delete f[E],!0)}const b={setImmediate(E){const u=t++;return f[u]=!0,n.then(()=>v(u)&&E()),u},clearImmediate(E){v(E)}};var g=a(8189),h=a(6228);const O=new class y extends h.q{flush(u){this.active=!0,this.scheduled=void 0;const{actions:M}=this;let x,D=-1,A=M.length;u=u||M.shift();do{if(x=u.execute(u.state,u.delay))break}while(++D<A&&(u=M.shift()));if(this.active=!1,x){for(;++D<A&&(u=M.shift());)u.unsubscribe();throw x}}}(class S extends g.R{constructor(u,M){super(u,M),this.scheduler=u,this.work=M}requestAsyncId(u,M,x=0){return null!==x&&x>0?super.requestAsyncId(u,M,x):(u.actions.push(this),u.scheduled||(u.scheduled=b.setImmediate(u.flush.bind(u,null))))}recycleAsyncId(u,M,x=0){if(null!==x&&x>0||null===x&&this.delay>0)return super.recycleAsyncId(u,M,x);0===u.actions.length&&(b.clearImmediate(M),u.scheduled=void 0)}})},1080:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>v});var t=a(8189);const v=new(a(6228).q)(t.R)},7765:(At,ue,a)=>{"use strict";a.d(ue,{lJ:()=>n});const n=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5722:(At,ue,a)=>{"use strict";a.d(ue,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},91:(At,ue,a)=>{"use strict";a.d(ue,{D:()=>t});const t="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},434:(At,ue,a)=>{"use strict";a.d(ue,{k:()=>n});const n=(()=>{function f(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return f.prototype=Object.create(Error.prototype),f})()},9994:(At,ue,a)=>{"use strict";a.d(ue,{G:()=>n});const n=(()=>{function f(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return f.prototype=Object.create(Error.prototype),f})()},2145:(At,ue,a)=>{"use strict";a.d(ue,{P:()=>n});const n=(()=>{function f(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return f.prototype=Object.create(Error.prototype),f})()},8253:(At,ue,a)=>{"use strict";function t(n){setTimeout(()=>{throw n},0)}a.d(ue,{T:()=>t})},5241:(At,ue,a)=>{"use strict";function t(n){return n}a.d(ue,{D:()=>t})},7354:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>t});const t=Array.isArray||(n=>n&&"number"==typeof n.length)},5253:(At,ue,a)=>{"use strict";a.d(ue,{X:()=>t});const t=n=>n&&"number"==typeof n.length&&"function"!=typeof n},8099:(At,ue,a)=>{"use strict";function t(n){return"function"==typeof n}a.d(ue,{T:()=>t})},1456:(At,ue,a)=>{"use strict";function t(n){return null!==n&&"object"==typeof n}a.d(ue,{G:()=>t})},8982:(At,ue,a)=>{"use strict";a.d(ue,{A:()=>n});var t=a(5817);function n(f){return!!f&&(f instanceof t.c||"function"==typeof f.lift&&"function"==typeof f.subscribe)}},5998:(At,ue,a)=>{"use strict";function t(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}a.d(ue,{y:()=>t})},2234:(At,ue,a)=>{"use strict";function t(n){return n&&"function"==typeof n.schedule}a.d(ue,{m:()=>t})},8803:(At,ue,a)=>{"use strict";function t(){}a.d(ue,{l:()=>t})},8167:(At,ue,a)=>{"use strict";a.d(ue,{F:()=>n,m:()=>f});var t=a(5241);function n(...v){return f(v)}function f(v){return 0===v.length?t.D:1===v.length?v[0]:function(C){return v.reduce((g,S)=>S(g),C)}}},135:(At,ue,a)=>{"use strict";a.d(ue,{i:()=>O});var t=a(4385),n=a(8253),v=a(7765),C=a(5722),S=a(5253),h=a(5998),y=a(1456);const O=m=>{if(m&&"function"==typeof m[C.s])return(m=>E=>{const u=m[C.s]();if("function"!=typeof u.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return u.subscribe(E)})(m);if((0,S.X)(m))return(0,t.v)(m);if((0,h.y)(m))return(m=>E=>(m.then(u=>{E.closed||(E.next(u),E.complete())},u=>E.error(u)).then(null,n.T),E))(m);if(m&&"function"==typeof m[v.lJ])return(m=>E=>{const u=m[v.lJ]();for(;;){let M;try{M=u.next()}catch(x){return E.error(x),E}if(M.done){E.complete();break}if(E.next(M.value),E.closed)break}return"function"==typeof u.return&&E.add(()=>{u.return&&u.return()}),E})(m);{const u=`You provided ${(0,y.G)(m)?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(u)}}},4385:(At,ue,a)=>{"use strict";a.d(ue,{v:()=>t});const t=n=>f=>{for(let v=0,b=n.length;v<b&&!f.closed;v++)f.next(n[v]);f.complete()}},416:(At,ue,a)=>{"use strict";a.d(ue,{VV:()=>t,LL:()=>f});class t{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(b,C=!1){return this.onePassHasher.start().appendStr(b).end(C)}static hashAsciiStr(b,C=!1){return this.onePassHasher.start().appendAsciiStr(b).end(C)}static _hex(b){const C=t.hexChars,g=t.hexOut;let S,h,y,O;for(O=0;O<4;O+=1)for(h=8*O,S=b[O],y=0;y<8;y+=2)g[h+1+y]=C.charAt(15&S),S>>>=4,g[h+0+y]=C.charAt(15&S),S>>>=4;return g.join("")}static _md5cycle(b,C){let g=b[0],S=b[1],h=b[2],y=b[3];g+=(S&h|~S&y)+C[0]-680876936|0,g=(g<<7|g>>>25)+S|0,y+=(g&S|~g&h)+C[1]-389564586|0,y=(y<<12|y>>>20)+g|0,h+=(y&g|~y&S)+C[2]+606105819|0,h=(h<<17|h>>>15)+y|0,S+=(h&y|~h&g)+C[3]-1044525330|0,S=(S<<22|S>>>10)+h|0,g+=(S&h|~S&y)+C[4]-176418897|0,g=(g<<7|g>>>25)+S|0,y+=(g&S|~g&h)+C[5]+1200080426|0,y=(y<<12|y>>>20)+g|0,h+=(y&g|~y&S)+C[6]-1473231341|0,h=(h<<17|h>>>15)+y|0,S+=(h&y|~h&g)+C[7]-45705983|0,S=(S<<22|S>>>10)+h|0,g+=(S&h|~S&y)+C[8]+1770035416|0,g=(g<<7|g>>>25)+S|0,y+=(g&S|~g&h)+C[9]-1958414417|0,y=(y<<12|y>>>20)+g|0,h+=(y&g|~y&S)+C[10]-42063|0,h=(h<<17|h>>>15)+y|0,S+=(h&y|~h&g)+C[11]-1990404162|0,S=(S<<22|S>>>10)+h|0,g+=(S&h|~S&y)+C[12]+1804603682|0,g=(g<<7|g>>>25)+S|0,y+=(g&S|~g&h)+C[13]-40341101|0,y=(y<<12|y>>>20)+g|0,h+=(y&g|~y&S)+C[14]-1502002290|0,h=(h<<17|h>>>15)+y|0,S+=(h&y|~h&g)+C[15]+1236535329|0,S=(S<<22|S>>>10)+h|0,g+=(S&y|h&~y)+C[1]-165796510|0,g=(g<<5|g>>>27)+S|0,y+=(g&h|S&~h)+C[6]-1069501632|0,y=(y<<9|y>>>23)+g|0,h+=(y&S|g&~S)+C[11]+643717713|0,h=(h<<14|h>>>18)+y|0,S+=(h&g|y&~g)+C[0]-373897302|0,S=(S<<20|S>>>12)+h|0,g+=(S&y|h&~y)+C[5]-701558691|0,g=(g<<5|g>>>27)+S|0,y+=(g&h|S&~h)+C[10]+38016083|0,y=(y<<9|y>>>23)+g|0,h+=(y&S|g&~S)+C[15]-660478335|0,h=(h<<14|h>>>18)+y|0,S+=(h&g|y&~g)+C[4]-405537848|0,S=(S<<20|S>>>12)+h|0,g+=(S&y|h&~y)+C[9]+568446438|0,g=(g<<5|g>>>27)+S|0,y+=(g&h|S&~h)+C[14]-1019803690|0,y=(y<<9|y>>>23)+g|0,h+=(y&S|g&~S)+C[3]-187363961|0,h=(h<<14|h>>>18)+y|0,S+=(h&g|y&~g)+C[8]+1163531501|0,S=(S<<20|S>>>12)+h|0,g+=(S&y|h&~y)+C[13]-1444681467|0,g=(g<<5|g>>>27)+S|0,y+=(g&h|S&~h)+C[2]-51403784|0,y=(y<<9|y>>>23)+g|0,h+=(y&S|g&~S)+C[7]+1735328473|0,h=(h<<14|h>>>18)+y|0,S+=(h&g|y&~g)+C[12]-1926607734|0,S=(S<<20|S>>>12)+h|0,g+=(S^h^y)+C[5]-378558|0,g=(g<<4|g>>>28)+S|0,y+=(g^S^h)+C[8]-2022574463|0,y=(y<<11|y>>>21)+g|0,h+=(y^g^S)+C[11]+1839030562|0,h=(h<<16|h>>>16)+y|0,S+=(h^y^g)+C[14]-35309556|0,S=(S<<23|S>>>9)+h|0,g+=(S^h^y)+C[1]-1530992060|0,g=(g<<4|g>>>28)+S|0,y+=(g^S^h)+C[4]+1272893353|0,y=(y<<11|y>>>21)+g|0,h+=(y^g^S)+C[7]-155497632|0,h=(h<<16|h>>>16)+y|0,S+=(h^y^g)+C[10]-1094730640|0,S=(S<<23|S>>>9)+h|0,g+=(S^h^y)+C[13]+681279174|0,g=(g<<4|g>>>28)+S|0,y+=(g^S^h)+C[0]-358537222|0,y=(y<<11|y>>>21)+g|0,h+=(y^g^S)+C[3]-722521979|0,h=(h<<16|h>>>16)+y|0,S+=(h^y^g)+C[6]+76029189|0,S=(S<<23|S>>>9)+h|0,g+=(S^h^y)+C[9]-640364487|0,g=(g<<4|g>>>28)+S|0,y+=(g^S^h)+C[12]-421815835|0,y=(y<<11|y>>>21)+g|0,h+=(y^g^S)+C[15]+530742520|0,h=(h<<16|h>>>16)+y|0,S+=(h^y^g)+C[2]-995338651|0,S=(S<<23|S>>>9)+h|0,g+=(h^(S|~y))+C[0]-198630844|0,g=(g<<6|g>>>26)+S|0,y+=(S^(g|~h))+C[7]+1126891415|0,y=(y<<10|y>>>22)+g|0,h+=(g^(y|~S))+C[14]-1416354905|0,h=(h<<15|h>>>17)+y|0,S+=(y^(h|~g))+C[5]-57434055|0,S=(S<<21|S>>>11)+h|0,g+=(h^(S|~y))+C[12]+1700485571|0,g=(g<<6|g>>>26)+S|0,y+=(S^(g|~h))+C[3]-1894986606|0,y=(y<<10|y>>>22)+g|0,h+=(g^(y|~S))+C[10]-1051523|0,h=(h<<15|h>>>17)+y|0,S+=(y^(h|~g))+C[1]-2054922799|0,S=(S<<21|S>>>11)+h|0,g+=(h^(S|~y))+C[8]+1873313359|0,g=(g<<6|g>>>26)+S|0,y+=(S^(g|~h))+C[15]-30611744|0,y=(y<<10|y>>>22)+g|0,h+=(g^(y|~S))+C[6]-1560198380|0,h=(h<<15|h>>>17)+y|0,S+=(y^(h|~g))+C[13]+1309151649|0,S=(S<<21|S>>>11)+h|0,g+=(h^(S|~y))+C[4]-145523070|0,g=(g<<6|g>>>26)+S|0,y+=(S^(g|~h))+C[11]-1120210379|0,y=(y<<10|y>>>22)+g|0,h+=(g^(y|~S))+C[2]+718787259|0,h=(h<<15|h>>>17)+y|0,S+=(y^(h|~g))+C[9]-343485551|0,S=(S<<21|S>>>11)+h|0,b[0]=g+b[0]|0,b[1]=S+b[1]|0,b[2]=h+b[2]|0,b[3]=y+b[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this}appendStr(b){const C=this._buffer8,g=this._buffer32;let h,y,S=this._bufferLength;for(y=0;y<b.length;y+=1){if(h=b.charCodeAt(y),h<128)C[S++]=h;else if(h<2048)C[S++]=192+(h>>>6),C[S++]=63&h|128;else if(h<55296||h>56319)C[S++]=224+(h>>>12),C[S++]=h>>>6&63|128,C[S++]=63&h|128;else{if(h=1024*(h-55296)+(b.charCodeAt(++y)-56320)+65536,h>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");C[S++]=240+(h>>>18),C[S++]=h>>>12&63|128,C[S++]=h>>>6&63|128,C[S++]=63&h|128}S>=64&&(this._dataLength+=64,t._md5cycle(this._state,g),S-=64,g[0]=g[16])}return this._bufferLength=S,this}appendAsciiStr(b){const C=this._buffer8,g=this._buffer32;let h,S=this._bufferLength,y=0;for(;;){for(h=Math.min(b.length-y,64-S);h--;)C[S++]=b.charCodeAt(y++);if(S<64)break;this._dataLength+=64,t._md5cycle(this._state,g),S=0}return this._bufferLength=S,this}appendByteArray(b){const C=this._buffer8,g=this._buffer32;let h,S=this._bufferLength,y=0;for(;;){for(h=Math.min(b.length-y,64-S);h--;)C[S++]=b[y++];if(S<64)break;this._dataLength+=64,t._md5cycle(this._state,g),S=0}return this._bufferLength=S,this}getState(){const b=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[b[0],b[1],b[2],b[3]]}}setState(b){const C=b.buffer,g=b.state,S=this._state;let h;for(this._dataLength=b.length,this._bufferLength=b.buflen,S[0]=g[0],S[1]=g[1],S[2]=g[2],S[3]=g[3],h=0;h<C.length;h+=1)this._buffer8[h]=C.charCodeAt(h)}end(b=!1){const C=this._bufferLength,g=this._buffer8,S=this._buffer32,h=1+(C>>2);this._dataLength+=C;const y=8*this._dataLength;if(g[C]=128,g[C+1]=g[C+2]=g[C+3]=0,S.set(t.buffer32Identity.subarray(h),h),C>55&&(t._md5cycle(this._state,S),S.set(t.buffer32Identity)),y<=4294967295)S[14]=y;else{const O=y.toString(16).match(/(.*?)(.{0,8})$/);if(null===O)return;const m=parseInt(O[2],16),E=parseInt(O[1],16)||0;S[14]=m,S[15]=E}return t._md5cycle(this._state,S),b?this._state:t._hex(this._state)}}if(t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,"5d41402abc4b2a76b9719d911017c592"!==t.hashStr("hello"))throw new Error("Md5 self test failed.");class f{constructor(b,C){this._queue=[],this._ready=!0;const g=this;Worker?(g._hashWorker=new Worker(b,C),g._hashWorker.onmessage=g._recievedMessage.bind(g),g._hashWorker.onerror=S=>{g._ready=!1,console.error("Hash worker failure",S)}):(g._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(b){const C=this;let g;return g=new Promise((S,h)=>{C._queue.push({blob:b,resolve:S,reject:h}),C._processNext()}),g}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(b){var C,g;const S=b.data;S.success?null===(C=this._processing)||void 0===C||C.resolve(S.result):null===(g=this._processing)||void 0===g||g.reject(S.result),this._processing=void 0,this._processNext()}}},9969:(At,ue,a)=>{"use strict";a.d(ue,{FX:()=>V,If:()=>t,K2:()=>C,MA:()=>m,Os:()=>b,P:()=>u,hZ:()=>f,i0:()=>v,i7:()=>h,iF:()=>g,kY:()=>y,kp:()=>n,sf:()=>P,ui:()=>k,wk:()=>S});var t=function(K){return K[K.State=0]="State",K[K.Transition=1]="Transition",K[K.Sequence=2]="Sequence",K[K.Group=3]="Group",K[K.Animate=4]="Animate",K[K.Keyframes=5]="Keyframes",K[K.Style=6]="Style",K[K.Trigger=7]="Trigger",K[K.Reference=8]="Reference",K[K.AnimateChild=9]="AnimateChild",K[K.AnimateRef=10]="AnimateRef",K[K.Query=11]="Query",K[K.Stagger=12]="Stagger",K}(t||{});const n="*";function f(K,X){return{type:t.Trigger,name:K,definitions:X,options:{}}}function v(K,X=null){return{type:t.Animate,styles:X,timings:K}}function b(K,X=null){return{type:t.Group,steps:K,options:X}}function C(K,X=null){return{type:t.Sequence,steps:K,options:X}}function g(K){return{type:t.Style,styles:K,offset:null}}function S(K,X,Q){return{type:t.State,name:K,styles:X,options:Q}}function h(K){return{type:t.Keyframes,steps:K}}function y(K,X,Q=null){return{type:t.Transition,expr:K,animation:X,options:Q}}function m(K=null){return{type:t.AnimateChild,options:K}}function u(K,X,Q=null){return{type:t.Query,selector:K,animation:X,options:Q}}class P{constructor(X=0,Q=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=X+Q}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(X=>X()),this._onDoneFns=[])}onStart(X){this._originalOnStartFns.push(X),this._onStartFns.push(X)}onDone(X){this._originalOnDoneFns.push(X),this._onDoneFns.push(X)}onDestroy(X){this._onDestroyFns.push(X)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(X=>X()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(X=>X()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(X){this._position=this.totalTime?X*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(X){const Q="start"==X?this._onStartFns:this._onDoneFns;Q.forEach(de=>de()),Q.length=0}}class k{constructor(X){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=X;let Q=0,de=0,se=0;const ce=this.players.length;0==ce?queueMicrotask(()=>this._onFinish()):this.players.forEach(z=>{z.onDone(()=>{++Q==ce&&this._onFinish()}),z.onDestroy(()=>{++de==ce&&this._onDestroy()}),z.onStart(()=>{++se==ce&&this._onStart()})}),this.totalTime=this.players.reduce((z,w)=>Math.max(z,w.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(X=>X()),this._onDoneFns=[])}init(){this.players.forEach(X=>X.init())}onStart(X){this._onStartFns.push(X)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(X=>X()),this._onStartFns=[])}onDone(X){this._onDoneFns.push(X)}onDestroy(X){this._onDestroyFns.push(X)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(X=>X.play())}pause(){this.players.forEach(X=>X.pause())}restart(){this.players.forEach(X=>X.restart())}finish(){this._onFinish(),this.players.forEach(X=>X.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(X=>X.destroy()),this._onDestroyFns.forEach(X=>X()),this._onDestroyFns=[])}reset(){this.players.forEach(X=>X.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(X){const Q=X*this.totalTime;this.players.forEach(de=>{const se=de.totalTime?Math.min(1,Q/de.totalTime):1;de.setPosition(se)})}getPosition(){const X=this.players.reduce((Q,de)=>null===Q||de.totalTime>Q.totalTime?de:Q,null);return null!=X?X.getPosition():0}beforeDestroy(){this.players.forEach(X=>{X.beforeDestroy&&X.beforeDestroy()})}triggerCallback(X){const Q="start"==X?this._onStartFns:this._onDoneFns;Q.forEach(de=>de()),Q.length=0}}const V="!"},8617:(At,ue,a)=>{"use strict";a.d(ue,{Ae:()=>$,Ai:()=>_n,Au:()=>se,Bu:()=>ce,FN:()=>Ct,GX:()=>me,Pd:()=>$n,Q_:()=>Fn,Z7:()=>w,_G:()=>Kt,kB:()=>De,px:()=>l,vR:()=>Mt,vr:()=>K,w6:()=>Ot});var t=a(177),n=a(3953),f=a(6860),v=a(5286),b=a(4337),C=a(9928),g=a(4421),S=a(7336),h=a(8841),y=a(3020),O=a(8728),m=a(5006),E=a(7753),u=a(522),M=a(7605),x=a(2318),D=a(4085),A=a(9327);const L=" ";function l(ut,Pe,je){const Te=R(ut,Pe);je=je.trim(),!Te.some(Ye=>Ye.trim()===je)&&(Te.push(je),ut.setAttribute(Pe,Te.join(L)))}function $(ut,Pe,je){const Te=R(ut,Pe);je=je.trim();const Ye=Te.filter(Tt=>Tt!==je);Ye.length?ut.setAttribute(Pe,Ye.join(L)):ut.removeAttribute(Pe)}function R(ut,Pe){return ut.getAttribute(Pe)?.match(/\S+/g)??[]}const P="cdk-describedby-message",k="cdk-describedby-host";let V=0,K=(()=>{class ut{constructor(je,Te){this._platform=Te,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+V++,this._document=je,this._id=(0,n.WQX)(n.sZ2)+"-"+V++}describe(je,Te,Ye){if(!this._canBeDescribed(je,Te))return;const Tt=X(Te,Ye);"string"!=typeof Te?(Q(Te,this._id),this._messageRegistry.set(Tt,{messageElement:Te,referenceCount:0})):this._messageRegistry.has(Tt)||this._createMessageElement(Te,Ye),this._isElementDescribedByMessage(je,Tt)||this._addMessageReference(je,Tt)}removeDescription(je,Te,Ye){if(!Te||!this._isElementNode(je))return;const Tt=X(Te,Ye);if(this._isElementDescribedByMessage(je,Tt)&&this._removeMessageReference(je,Tt),"string"==typeof Te){const Ut=this._messageRegistry.get(Tt);Ut&&0===Ut.referenceCount&&this._deleteMessageElement(Tt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const je=this._document.querySelectorAll(`[${k}="${this._id}"]`);for(let Te=0;Te<je.length;Te++)this._removeCdkDescribedByReferenceIds(je[Te]),je[Te].removeAttribute(k);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(je,Te){const Ye=this._document.createElement("div");Q(Ye,this._id),Ye.textContent=je,Te&&Ye.setAttribute("role",Te),this._createMessagesContainer(),this._messagesContainer.appendChild(Ye),this._messageRegistry.set(X(je,Te),{messageElement:Ye,referenceCount:0})}_deleteMessageElement(je){this._messageRegistry.get(je)?.messageElement?.remove(),this._messageRegistry.delete(je)}_createMessagesContainer(){if(this._messagesContainer)return;const je="cdk-describedby-message-container",Te=this._document.querySelectorAll(`.${je}[platform="server"]`);for(let Tt=0;Tt<Te.length;Tt++)Te[Tt].remove();const Ye=this._document.createElement("div");Ye.style.visibility="hidden",Ye.classList.add(je),Ye.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ye.setAttribute("platform","server"),this._document.body.appendChild(Ye),this._messagesContainer=Ye}_removeCdkDescribedByReferenceIds(je){const Te=R(je,"aria-describedby").filter(Ye=>0!=Ye.indexOf(P));je.setAttribute("aria-describedby",Te.join(" "))}_addMessageReference(je,Te){const Ye=this._messageRegistry.get(Te);l(je,"aria-describedby",Ye.messageElement.id),je.setAttribute(k,this._id),Ye.referenceCount++}_removeMessageReference(je,Te){const Ye=this._messageRegistry.get(Te);Ye.referenceCount--,$(je,"aria-describedby",Ye.messageElement.id),je.removeAttribute(k)}_isElementDescribedByMessage(je,Te){const Ye=R(je,"aria-describedby"),Tt=this._messageRegistry.get(Te),Ut=Tt&&Tt.messageElement.id;return!!Ut&&-1!=Ye.indexOf(Ut)}_canBeDescribed(je,Te){if(!this._isElementNode(je))return!1;if(Te&&"object"==typeof Te)return!0;const Ye=null==Te?"":`${Te}`.trim(),Tt=je.getAttribute("aria-label");return!(!Ye||Tt&&Tt.trim()===Ye)}_isElementNode(je){return je.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(t.qQ),n.KVO(f.OD))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function X(ut,Pe){return"string"==typeof ut?`${Pe||""}/${ut}`:ut}function Q(ut,Pe){ut.id||(ut.id=`${P}-${Pe}-${V++}`)}class de{constructor(Pe,je){this._items=Pe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new v.B7,this._typeaheadSubscription=b.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Te=>Te.disabled,this._pressedLetters=[],this.tabOut=new v.B7,this.change=new v.B7,Pe instanceof n.rOR?this._itemChangesSubscription=Pe.changes.subscribe(Te=>this._itemsChanged(Te.toArray())):(0,n.Hps)(Pe)&&(this._effectRef=(0,n.QZP)(()=>this._itemsChanged(Pe()),{injector:je}))}skipPredicate(Pe){return this._skipPredicateFn=Pe,this}withWrap(Pe=!0){return this._wrap=Pe,this}withVerticalOrientation(Pe=!0){return this._vertical=Pe,this}withHorizontalOrientation(Pe){return this._horizontal=Pe,this}withAllowedModifierKeys(Pe){return this._allowedModifierKeys=Pe,this}withTypeAhead(Pe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,h.M)(je=>this._pressedLetters.push(je)),(0,y.B)(Pe),(0,O.p)(()=>this._pressedLetters.length>0),(0,m.T)(()=>this._pressedLetters.join(""))).subscribe(je=>{const Te=this._getItemsArray();for(let Ye=1;Ye<Te.length+1;Ye++){const Tt=(this._activeItemIndex+Ye)%Te.length,Ut=Te[Tt];if(!this._skipPredicateFn(Ut)&&0===Ut.getLabel().toUpperCase().trim().indexOf(je)){this.setActiveItem(Tt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Pe=!0){return this._homeAndEnd=Pe,this}withPageUpDown(Pe=!0,je=10){return this._pageUpAndDown={enabled:Pe,delta:je},this}setActiveItem(Pe){const je=this._activeItem;this.updateActiveItem(Pe),this._activeItem!==je&&this.change.next(this._activeItemIndex)}onKeydown(Pe){const je=Pe.keyCode,Ye=["altKey","ctrlKey","metaKey","shiftKey"].every(Tt=>!Pe[Tt]||this._allowedModifierKeys.indexOf(Tt)>-1);switch(je){case S.wn:return void this.tabOut.next();case S.n6:if(this._vertical&&Ye){this.setNextItemActive();break}return;case S.i7:if(this._vertical&&Ye){this.setPreviousItemActive();break}return;case S.LE:if(this._horizontal&&Ye){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case S.UQ:if(this._horizontal&&Ye){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case S.yZ:if(this._homeAndEnd&&Ye){this.setFirstItemActive();break}return;case S.Kp:if(this._homeAndEnd&&Ye){this.setLastItemActive();break}return;case S.w_:if(this._pageUpAndDown.enabled&&Ye){const Tt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Tt>0?Tt:0,1);break}return;case S.dB:if(this._pageUpAndDown.enabled&&Ye){const Tt=this._activeItemIndex+this._pageUpAndDown.delta,Ut=this._getItemsArray().length;this._setActiveItemByIndex(Tt<Ut?Tt:Ut-1,-1);break}return;default:return void((Ye||(0,S.rp)(Pe,"shiftKey"))&&(Pe.key&&1===Pe.key.length?this._letterKeyStream.next(Pe.key.toLocaleUpperCase()):(je>=S.A&&je<=S.Z||je>=S.f2&&je<=S.bn)&&this._letterKeyStream.next(String.fromCharCode(je))))}this._pressedLetters=[],Pe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Pe){const je=this._getItemsArray(),Te="number"==typeof Pe?Pe:je.indexOf(Pe);this._activeItem=je[Te]??null,this._activeItemIndex=Te}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Pe){this._wrap?this._setActiveInWrapMode(Pe):this._setActiveInDefaultMode(Pe)}_setActiveInWrapMode(Pe){const je=this._getItemsArray();for(let Te=1;Te<=je.length;Te++){const Ye=(this._activeItemIndex+Pe*Te+je.length)%je.length;if(!this._skipPredicateFn(je[Ye]))return void this.setActiveItem(Ye)}}_setActiveInDefaultMode(Pe){this._setActiveItemByIndex(this._activeItemIndex+Pe,Pe)}_setActiveItemByIndex(Pe,je){const Te=this._getItemsArray();if(Te[Pe]){for(;this._skipPredicateFn(Te[Pe]);)if(!Te[Pe+=je])return;this.setActiveItem(Pe)}}_getItemsArray(){return(0,n.Hps)(this._items)?this._items():this._items instanceof n.rOR?this._items.toArray():this._items}_itemsChanged(Pe){if(this._activeItem){const je=Pe.indexOf(this._activeItem);je>-1&&je!==this._activeItemIndex&&(this._activeItemIndex=je)}}}class se extends de{setActiveItem(Pe){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Pe),this.activeItem&&this.activeItem.setActiveStyles()}}class ce extends de{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Pe){return this._origin=Pe,this}setActiveItem(Pe){super.setActiveItem(Pe),this.activeItem&&this.activeItem.focus(this._origin)}}let w=(()=>{class ut{constructor(je){this._platform=je}isDisabled(je){return je.hasAttribute("disabled")}isVisible(je){return function W(ut){return!!(ut.offsetWidth||ut.offsetHeight||"function"==typeof ut.getClientRects&&ut.getClientRects().length)}(je)&&"visible"===getComputedStyle(je).visibility}isTabbable(je){if(!this._platform.isBrowser)return!1;const Te=function j(ut){try{return ut.frameElement}catch{return null}}(function $e(ut){return ut.ownerDocument&&ut.ownerDocument.defaultView||window}(je));if(Te&&(-1===We(Te)||!this.isVisible(Te)))return!1;let Ye=je.nodeName.toLowerCase(),Tt=We(je);return je.hasAttribute("contenteditable")?-1!==Tt:!("iframe"===Ye||"object"===Ye||this._platform.WEBKIT&&this._platform.IOS&&!function lt(ut){let Pe=ut.nodeName.toLowerCase(),je="input"===Pe&&ut.type;return"text"===je||"password"===je||"select"===Pe||"textarea"===Pe}(je))&&("audio"===Ye?!!je.hasAttribute("controls")&&-1!==Tt:"video"===Ye?-1!==Tt&&(null!==Tt||this._platform.FIREFOX||je.hasAttribute("controls")):je.tabIndex>=0)}isFocusable(je,Te){return function nt(ut){return!function fe(ut){return function Ae(ut){return"input"==ut.nodeName.toLowerCase()}(ut)&&"hidden"==ut.type}(ut)&&(function ne(ut){let Pe=ut.nodeName.toLowerCase();return"input"===Pe||"select"===Pe||"button"===Pe||"textarea"===Pe}(ut)||function ae(ut){return function Me(ut){return"a"==ut.nodeName.toLowerCase()}(ut)&&ut.hasAttribute("href")}(ut)||ut.hasAttribute("contenteditable")||Ve(ut))}(je)&&!this.isDisabled(je)&&(Te?.ignoreVisibility||this.isVisible(je))}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(f.OD))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function Ve(ut){if(!ut.hasAttribute("tabindex")||void 0===ut.tabIndex)return!1;let Pe=ut.getAttribute("tabindex");return!(!Pe||isNaN(parseInt(Pe,10)))}function We(ut){if(!Ve(ut))return null;const Pe=parseInt(ut.getAttribute("tabindex")||"",10);return isNaN(Pe)?-1:Pe}class Ie{get enabled(){return this._enabled}set enabled(Pe){this._enabled=Pe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Pe,this._startAnchor),this._toggleAnchorTabIndex(Pe,this._endAnchor))}constructor(Pe,je,Te,Ye,Tt=!1,Ut){this._element=Pe,this._checker=je,this._ngZone=Te,this._document=Ye,this._injector=Ut,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Tt||this.attachAnchors()}destroy(){const Pe=this._startAnchor,je=this._endAnchor;Pe&&(Pe.removeEventListener("focus",this.startAnchorListener),Pe.remove()),je&&(je.removeEventListener("focus",this.endAnchorListener),je.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Pe){return new Promise(je=>{this._executeOnStable(()=>je(this.focusInitialElement(Pe)))})}focusFirstTabbableElementWhenReady(Pe){return new Promise(je=>{this._executeOnStable(()=>je(this.focusFirstTabbableElement(Pe)))})}focusLastTabbableElementWhenReady(Pe){return new Promise(je=>{this._executeOnStable(()=>je(this.focusLastTabbableElement(Pe)))})}_getRegionBoundary(Pe){const je=this._element.querySelectorAll(`[cdk-focus-region-${Pe}], [cdkFocusRegion${Pe}], [cdk-focus-${Pe}]`);return"start"==Pe?je.length?je[0]:this._getFirstTabbableElement(this._element):je.length?je[je.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Pe){const je=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(je){if(!this._checker.isFocusable(je)){const Te=this._getFirstTabbableElement(je);return Te?.focus(Pe),!!Te}return je.focus(Pe),!0}return this.focusFirstTabbableElement(Pe)}focusFirstTabbableElement(Pe){const je=this._getRegionBoundary("start");return je&&je.focus(Pe),!!je}focusLastTabbableElement(Pe){const je=this._getRegionBoundary("end");return je&&je.focus(Pe),!!je}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Pe){if(this._checker.isFocusable(Pe)&&this._checker.isTabbable(Pe))return Pe;const je=Pe.children;for(let Te=0;Te<je.length;Te++){const Ye=je[Te].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(je[Te]):null;if(Ye)return Ye}return null}_getLastTabbableElement(Pe){if(this._checker.isFocusable(Pe)&&this._checker.isTabbable(Pe))return Pe;const je=Pe.children;for(let Te=je.length-1;Te>=0;Te--){const Ye=je[Te].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(je[Te]):null;if(Ye)return Ye}return null}_createAnchor(){const Pe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Pe),Pe.classList.add("cdk-visually-hidden"),Pe.classList.add("cdk-focus-trap-anchor"),Pe.setAttribute("aria-hidden","true"),Pe}_toggleAnchorTabIndex(Pe,je){Pe?je.setAttribute("tabindex","0"):je.removeAttribute("tabindex")}toggleAnchors(Pe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Pe,this._startAnchor),this._toggleAnchorTabIndex(Pe,this._endAnchor))}_executeOnStable(Pe){this._injector?(0,n.mal)(Pe,{injector:this._injector}):setTimeout(Pe)}}let me=(()=>{class ut{constructor(je,Te,Ye){this._checker=je,this._ngZone=Te,this._injector=(0,n.WQX)(n.zZn),this._document=Ye}create(je,Te=!1){return new Ie(je,this._checker,this._ngZone,this._document,Te,this._injector)}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(w),n.KVO(n.SKi),n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),De=(()=>{class ut{get enabled(){return this.focusTrap?.enabled||!1}set enabled(je){this.focusTrap&&(this.focusTrap.enabled=je)}constructor(je,Te,Ye){this._elementRef=je,this._focusTrapFactory=Te,this._previouslyFocusedElement=null,(0,n.WQX)(f.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(je){const Te=je.autoCapture;Te&&!Te.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,f.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.rXU(n.aKT),n.rXU(me),n.rXU(t.qQ))};static#t=this.\u0275dir=n.FsC({type:ut,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",n.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",n.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[n.GFd,n.OA$]})}return ut})();function Kt(ut){return 0===ut.buttons||0===ut.detail}function Ot(ut){const Pe=ut.touches&&ut.touches[0]||ut.changedTouches&&ut.changedTouches[0];return!(!Pe||-1!==Pe.identifier||null!=Pe.radiusX&&1!==Pe.radiusX||null!=Pe.radiusY&&1!==Pe.radiusY)}const Se=new n.nKC("cdk-input-modality-detector-options"),ve={ignoreKeys:[S.A$,S.W3,S.eg,S.Ge,S.FX]},ie=(0,f.BQ)({passive:!0,capture:!0});let Y=(()=>{class ut{get mostRecentModality(){return this._modality.value}constructor(je,Te,Ye,Tt){this._platform=je,this._mostRecentTarget=null,this._modality=new C.t(null),this._lastTouchMs=0,this._onKeydown=Ut=>{this._options?.ignoreKeys?.some(Ke=>Ke===Ut.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,f.Fb)(Ut))},this._onMousedown=Ut=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Kt(Ut)?"keyboard":"mouse"),this._mostRecentTarget=(0,f.Fb)(Ut))},this._onTouchstart=Ut=>{Ot(Ut)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,f.Fb)(Ut))},this._options={...ve,...Tt},this.modalityDetected=this._modality.pipe((0,E.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,u.F)()),je.isBrowser&&Te.runOutsideAngular(()=>{Ye.addEventListener("keydown",this._onKeydown,ie),Ye.addEventListener("mousedown",this._onMousedown,ie),Ye.addEventListener("touchstart",this._onTouchstart,ie)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ie),document.removeEventListener("mousedown",this._onMousedown,ie),document.removeEventListener("touchstart",this._onTouchstart,ie))}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(f.OD),n.KVO(n.SKi),n.KVO(t.qQ),n.KVO(Se,8))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const ye=new n.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Ze(){return null}}),Ft=new n.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let sn=0,_n=(()=>{class ut{constructor(je,Te,Ye,Tt){this._ngZone=Te,this._defaultOptions=Tt,this._document=Ye,this._liveElement=je||this._createLiveElement()}announce(je,...Te){const Ye=this._defaultOptions;let Tt,Ut;return 1===Te.length&&"number"==typeof Te[0]?Ut=Te[0]:[Tt,Ut]=Te,this.clear(),clearTimeout(this._previousTimeout),Tt||(Tt=Ye&&Ye.politeness?Ye.politeness:"polite"),null==Ut&&Ye&&(Ut=Ye.duration),this._liveElement.setAttribute("aria-live",Tt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ke=>this._currentResolve=Ke)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=je,"number"==typeof Ut&&(this._previousTimeout=setTimeout(()=>this.clear(),Ut)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const je="cdk-live-announcer-element",Te=this._document.getElementsByClassName(je),Ye=this._document.createElement("div");for(let Tt=0;Tt<Te.length;Tt++)Te[Tt].remove();return Ye.classList.add(je),Ye.classList.add("cdk-visually-hidden"),Ye.setAttribute("aria-atomic","true"),Ye.setAttribute("aria-live","polite"),Ye.id="cdk-live-announcer-"+sn++,this._document.body.appendChild(Ye),Ye}_exposeAnnouncerToModals(je){const Te=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ye=0;Ye<Te.length;Ye++){const Tt=Te[Ye],Ut=Tt.getAttribute("aria-owns");Ut?-1===Ut.indexOf(je)&&Tt.setAttribute("aria-owns",Ut+" "+je):Tt.setAttribute("aria-owns",je)}}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(ye,8),n.KVO(n.SKi),n.KVO(t.qQ),n.KVO(Ft,8))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();var en=function(ut){return ut[ut.IMMEDIATE=0]="IMMEDIATE",ut[ut.EVENTUAL=1]="EVENTUAL",ut}(en||{});const ht=new n.nKC("cdk-focus-monitor-default-options"),pt=(0,f.BQ)({passive:!0,capture:!0});let Ct=(()=>{class ut{constructor(je,Te,Ye,Tt,Ut){this._ngZone=je,this._platform=Te,this._inputModalityDetector=Ye,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.B7,this._rootNodeFocusAndBlurListener=Ke=>{for(let Ue=(0,f.Fb)(Ke);Ue;Ue=Ue.parentElement)"focus"===Ke.type?this._onFocus(Ke,Ue):this._onBlur(Ke,Ue)},this._document=Tt,this._detectionMode=Ut?.detectionMode||en.IMMEDIATE}monitor(je,Te=!1){const Ye=(0,D.i8)(je);if(!this._platform.isBrowser||1!==Ye.nodeType)return(0,g.of)();const Tt=(0,f.KT)(Ye)||this._getDocument(),Ut=this._elementInfo.get(Ye);if(Ut)return Te&&(Ut.checkChildren=!0),Ut.subject;const Ke={checkChildren:Te,subject:new v.B7,rootNode:Tt};return this._elementInfo.set(Ye,Ke),this._registerGlobalListeners(Ke),Ke.subject}stopMonitoring(je){const Te=(0,D.i8)(je),Ye=this._elementInfo.get(Te);Ye&&(Ye.subject.complete(),this._setClasses(Te),this._elementInfo.delete(Te),this._removeGlobalListeners(Ye))}focusVia(je,Te,Ye){const Tt=(0,D.i8)(je);Tt===this._getDocument().activeElement?this._getClosestElementsInfo(Tt).forEach(([Ke,Fe])=>this._originChanged(Ke,Te,Fe)):(this._setOrigin(Te),"function"==typeof Tt.focus&&Tt.focus(Ye))}ngOnDestroy(){this._elementInfo.forEach((je,Te)=>this.stopMonitoring(Te))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(je){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(je)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:je&&this._isLastInteractionFromInputLabel(je)?"mouse":"program"}_shouldBeAttributedToTouch(je){return this._detectionMode===en.EVENTUAL||!!je?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(je,Te){je.classList.toggle("cdk-focused",!!Te),je.classList.toggle("cdk-touch-focused","touch"===Te),je.classList.toggle("cdk-keyboard-focused","keyboard"===Te),je.classList.toggle("cdk-mouse-focused","mouse"===Te),je.classList.toggle("cdk-program-focused","program"===Te)}_setOrigin(je,Te=!1){this._ngZone.runOutsideAngular(()=>{this._origin=je,this._originFromTouchInteraction="touch"===je&&Te,this._detectionMode===en.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(je,Te){const Ye=this._elementInfo.get(Te),Tt=(0,f.Fb)(je);!Ye||!Ye.checkChildren&&Te!==Tt||this._originChanged(Te,this._getFocusOrigin(Tt),Ye)}_onBlur(je,Te){const Ye=this._elementInfo.get(Te);!Ye||Ye.checkChildren&&je.relatedTarget instanceof Node&&Te.contains(je.relatedTarget)||(this._setClasses(Te),this._emitOrigin(Ye,null))}_emitOrigin(je,Te){je.subject.observers.length&&this._ngZone.run(()=>je.subject.next(Te))}_registerGlobalListeners(je){if(!this._platform.isBrowser)return;const Te=je.rootNode,Ye=this._rootNodeFocusListenerCount.get(Te)||0;Ye||this._ngZone.runOutsideAngular(()=>{Te.addEventListener("focus",this._rootNodeFocusAndBlurListener,pt),Te.addEventListener("blur",this._rootNodeFocusAndBlurListener,pt)}),this._rootNodeFocusListenerCount.set(Te,Ye+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,M.Q)(this._stopInputModalityDetector)).subscribe(Tt=>{this._setOrigin(Tt,!0)}))}_removeGlobalListeners(je){const Te=je.rootNode;if(this._rootNodeFocusListenerCount.has(Te)){const Ye=this._rootNodeFocusListenerCount.get(Te);Ye>1?this._rootNodeFocusListenerCount.set(Te,Ye-1):(Te.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pt),Te.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pt),this._rootNodeFocusListenerCount.delete(Te))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(je,Te,Ye){this._setClasses(je,Te),this._emitOrigin(Ye,Te),this._lastFocusOrigin=Te}_getClosestElementsInfo(je){const Te=[];return this._elementInfo.forEach((Ye,Tt)=>{(Tt===je||Ye.checkChildren&&Tt.contains(je))&&Te.push([Tt,Ye])}),Te}_isLastInteractionFromInputLabel(je){const{_mostRecentTarget:Te,mostRecentModality:Ye}=this._inputModalityDetector;if("mouse"!==Ye||!Te||Te===je||"INPUT"!==je.nodeName&&"TEXTAREA"!==je.nodeName||je.disabled)return!1;const Tt=je.labels;if(Tt)for(let Ut=0;Ut<Tt.length;Ut++)if(Tt[Ut].contains(Te))return!0;return!1}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(n.SKi),n.KVO(f.OD),n.KVO(Y),n.KVO(t.qQ,8),n.KVO(ht,8))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Mt=(()=>{class ut{constructor(je,Te){this._elementRef=je,this._focusMonitor=Te,this._focusOrigin=null,this.cdkFocusChange=new n.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const je=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(je,1===je.nodeType&&je.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Te=>{this._focusOrigin=Te,this.cdkFocusChange.emit(Te)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.rXU(n.aKT),n.rXU(Ct))};static#t=this.\u0275dir=n.FsC({type:ut,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return ut})();var $t=function(ut){return ut[ut.NONE=0]="NONE",ut[ut.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",ut[ut.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",ut}($t||{});const nn="cdk-high-contrast-black-on-white",Sn="cdk-high-contrast-white-on-black",In="cdk-high-contrast-active";let Fn=(()=>{class ut{constructor(je,Te){this._platform=je,this._document=Te,this._breakpointSubscription=(0,n.WQX)(A.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return $t.NONE;const je=this._document.createElement("div");je.style.backgroundColor="rgb(1,2,3)",je.style.position="absolute",this._document.body.appendChild(je);const Te=this._document.defaultView||window,Ye=Te&&Te.getComputedStyle?Te.getComputedStyle(je):null,Tt=(Ye&&Ye.backgroundColor||"").replace(/ /g,"");switch(je.remove(),Tt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return $t.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return $t.BLACK_ON_WHITE}return $t.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const je=this._document.body.classList;je.remove(In,nn,Sn),this._hasCheckedHighContrastMode=!0;const Te=this.getHighContrastMode();Te===$t.BLACK_ON_WHITE?je.add(In,nn):Te===$t.WHITE_ON_BLACK&&je.add(In,Sn)}}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(f.OD),n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),$n=(()=>{class ut{constructor(je){je._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Te){return new(Te||ut)(n.KVO(Fn))};static#t=this.\u0275mod=n.$C({type:ut});static#n=this.\u0275inj=n.G2t({imports:[x.w5]})}return ut})()},8203:(At,ue,a)=>{"use strict";a.d(ue,{dS:()=>g,jI:()=>h});var t=a(3953),n=a(177);const f=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,t.WQX)(n.qQ)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let g=(()=>{class y{constructor(m){this.value="ltr",this.change=new t.bkB,m&&(this.value=function C(y){const O=y?.toLowerCase()||"";return"auto"===O&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===O?"rtl":"ltr"}((m.body?m.body.dir:null)||(m.documentElement?m.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(E){return new(E||y)(t.KVO(f,8))};static#t=this.\u0275prov=t.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),h=(()=>{class y{static#e=this.\u0275fac=function(E){return new(E||y)};static#t=this.\u0275mod=t.$C({type:y});static#n=this.\u0275inj=t.G2t({})}return y})()},3801:(At,ue,a)=>{"use strict";a.d(ue,{B0:()=>v,FQ:()=>g});var t=a(177),n=a(3953);class f{constructor(h,y){this._document=y;const O=this._textarea=this._document.createElement("textarea"),m=O.style;m.position="fixed",m.top=m.opacity="0",m.left="-999em",O.setAttribute("aria-hidden","true"),O.value=h,O.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(O)}copy(){const h=this._textarea;let y=!1;try{if(h){const O=this._document.activeElement;h.select(),h.setSelectionRange(0,h.value.length),y=this._document.execCommand("copy"),O&&O.focus()}}catch{}return y}destroy(){const h=this._textarea;h&&(h.remove(),this._textarea=void 0)}}let v=(()=>{class S{constructor(y){this._document=y}copy(y){const O=this.beginCopy(y),m=O.copy();return O.destroy(),m}beginCopy(y){return new f(y,this._document)}static#e=this.\u0275fac=function(O){return new(O||S)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),g=(()=>{class S{static#e=this.\u0275fac=function(O){return new(O||S)};static#t=this.\u0275mod=n.$C({type:S});static#n=this.\u0275inj=n.G2t({})}return S})()},4085:(At,ue,a)=>{"use strict";a.d(ue,{FG:()=>b,OE:()=>f,a1:()=>C,he:()=>n,i8:()=>g,o1:()=>v});var t=a(3953);function n(h){return null!=h&&"false"!=`${h}`}function f(h,y=0){return v(h)?Number(h):y}function v(h){return!isNaN(parseFloat(h))&&!isNaN(Number(h))}function b(h){return Array.isArray(h)?h:[h]}function C(h){return null==h?"":"string"==typeof h?h:`${h}px`}function g(h){return h instanceof t.aKT?h.nativeElement:h}},5024:(At,ue,a)=>{"use strict";a.d(ue,{CB:()=>E,DQ:()=>m,Q3:()=>h,hx:()=>S,qS:()=>C,sL:()=>y,xn:()=>O,y4:()=>g,zP:()=>M});var t=a(4725),n=a(8982),f=a(4421),v=a(5286),b=a(3953);class C{}function g(x){return x&&"function"==typeof x.connect&&!(x instanceof t.G)}class S extends C{constructor(D){super(),this._data=D}connect(){return(0,n.A)(this._data)?this._data:(0,f.of)(this._data)}disconnect(){}}var h=function(x){return x[x.REPLACED=0]="REPLACED",x[x.INSERTED=1]="INSERTED",x[x.MOVED=2]="MOVED",x[x.REMOVED=3]="REMOVED",x}(h||{});const y=new b.nKC("_ViewRepeater");class O{applyChanges(D,A,L,l,$){D.forEachOperation((R,F,P)=>{let k,V;if(null==R.previousIndex){const K=L(R,F,P);k=A.createEmbeddedView(K.templateRef,K.context,K.index),V=h.INSERTED}else null==P?(A.remove(F),V=h.REMOVED):(k=A.get(F),A.move(k,P),V=h.MOVED);$&&$({context:k?.context,operation:V,record:R})})}detach(){}}class m{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(D,A,L,l,$){D.forEachOperation((R,F,P)=>{let k,V;null==R.previousIndex?(k=this._insertView(()=>L(R,F,P),P,A,l(R)),V=k?h.INSERTED:h.REPLACED):null==P?(this._detachAndCacheView(F,A),V=h.REMOVED):(k=this._moveView(F,P,A,l(R)),V=h.MOVED),$&&$({context:k?.context,operation:V,record:R})})}detach(){for(const D of this._viewCache)D.destroy();this._viewCache=[]}_insertView(D,A,L,l){const $=this._insertViewFromCache(A,L);if($)return void($.context.$implicit=l);const R=D();return L.createEmbeddedView(R.templateRef,R.context,R.index)}_detachAndCacheView(D,A){const L=A.detach(D);this._maybeCacheView(L,A)}_moveView(D,A,L,l){const $=L.get(D);return L.move($,A),$.context.$implicit=l,$}_maybeCacheView(D,A){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(D);else{const L=A.indexOf(D);-1===L?D.destroy():A.remove(L)}}_insertViewFromCache(D,A){const L=this._viewCache.pop();return L&&A.insert(L,D),L||null}}class E{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(D=!1,A,L=!0,l){this._multiple=D,this._emitChanges=L,this.compareWith=l,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new v.B7,A&&A.length&&(D?A.forEach($=>this._markSelected($)):this._markSelected(A[0]),this._selectedToEmit.length=0)}select(...D){this._verifyValueAssignment(D),D.forEach(L=>this._markSelected(L));const A=this._hasQueuedChanges();return this._emitChangeEvent(),A}deselect(...D){this._verifyValueAssignment(D),D.forEach(L=>this._unmarkSelected(L));const A=this._hasQueuedChanges();return this._emitChangeEvent(),A}setSelection(...D){this._verifyValueAssignment(D);const A=this.selected,L=new Set(D);D.forEach($=>this._markSelected($)),A.filter($=>!L.has(this._getConcreteValue($,L))).forEach($=>this._unmarkSelected($));const l=this._hasQueuedChanges();return this._emitChangeEvent(),l}toggle(D){return this.isSelected(D)?this.deselect(D):this.select(D)}clear(D=!0){this._unmarkAll();const A=this._hasQueuedChanges();return D&&this._emitChangeEvent(),A}isSelected(D){return this._selection.has(this._getConcreteValue(D))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(D){this._multiple&&this.selected&&this._selected.sort(D)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(D){D=this._getConcreteValue(D),this.isSelected(D)||(this._multiple||this._unmarkAll(),this.isSelected(D)||this._selection.add(D),this._emitChanges&&this._selectedToEmit.push(D))}_unmarkSelected(D){D=this._getConcreteValue(D),this.isSelected(D)&&(this._selection.delete(D),this._emitChanges&&this._deselectedToEmit.push(D))}_unmarkAll(){this.isEmpty()||this._selection.forEach(D=>this._unmarkSelected(D))}_verifyValueAssignment(D){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(D,A){if(this.compareWith){A=A??this._selection;for(let L of A)if(this.compareWith(D,L))return L;return D}return D}}let M=(()=>{class x{constructor(){this._listeners=[]}notify(A,L){for(let l of this._listeners)l(A,L)}listen(A){return this._listeners.push(A),()=>{this._listeners=this._listeners.filter(L=>A!==L)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(L){return new(L||x)};static#t=this.\u0275prov=b.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},2529:(At,ue,a)=>{"use strict";a.d(ue,{Pe:()=>u,Ph:()=>V,lG:()=>P,sU:()=>x});var t=a(8617),n=a(7987),f=a(6860),v=a(6939),b=a(177),C=a(3953),g=a(7336),S=a(5286),h=a(9418),y=a(4421),O=a(8203),m=a(3176);function E(K,X){}class u{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let x=(()=>{class K extends v.lb{constructor(Q,de,se,ce,z,w,j,W){super(),this._elementRef=Q,this._focusTrapFactory=de,this._config=ce,this._interactivityChecker=z,this._ngZone=w,this._overlayRef=j,this._focusMonitor=W,this._platform=(0,C.WQX)(f.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,C.WQX)(C.gRc),this._injector=(0,C.WQX)(C.zZn),this._isDestroyed=!1,this.attachDomPortal=ne=>{this._portalOutlet.hasAttached();const fe=this._portalOutlet.attachDomPortal(ne);return this._contentAttached(),fe},this._document=se,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(Q){this._ariaLabelledByQueue.push(Q),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(Q){const de=this._ariaLabelledByQueue.indexOf(Q);de>-1&&(this._ariaLabelledByQueue.splice(de,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(Q){this._portalOutlet.hasAttached();const de=this._portalOutlet.attachComponentPortal(Q);return this._contentAttached(),de}attachTemplatePortal(Q){this._portalOutlet.hasAttached();const de=this._portalOutlet.attachTemplatePortal(Q);return this._contentAttached(),de}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Q,de){this._interactivityChecker.isFocusable(Q)||(Q.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const se=()=>{Q.removeEventListener("blur",se),Q.removeEventListener("mousedown",se),Q.removeAttribute("tabindex")};Q.addEventListener("blur",se),Q.addEventListener("mousedown",se)})),Q.focus(de)}_focusByCssSelector(Q,de){let se=this._elementRef.nativeElement.querySelector(Q);se&&this._forceFocus(se,de)}_trapFocus(){this._isDestroyed||(0,C.mal)(()=>{const Q=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Q.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const Q=this._config.restoreFocus;let de=null;if("string"==typeof Q?de=this._document.querySelector(Q):"boolean"==typeof Q?de=Q?this._elementFocusedBeforeDialogWasOpened:null:Q&&(de=Q),this._config.restoreFocus&&de&&"function"==typeof de.focus){const se=(0,f.vc)(),ce=this._elementRef.nativeElement;(!se||se===this._document.body||se===ce||ce.contains(se))&&(this._focusMonitor?(this._focusMonitor.focusVia(de,this._closeInteractionType),this._closeInteractionType=null):de.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Q=this._elementRef.nativeElement,de=(0,f.vc)();return Q===de||Q.contains(de)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,f.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(de){return new(de||K)(C.rXU(C.aKT),C.rXU(t.GX),C.rXU(b.qQ,8),C.rXU(u),C.rXU(t.Z7),C.rXU(C.SKi),C.rXU(n.yY),C.rXU(t.FN))};static#t=this.\u0275cmp=C.VBU({type:K,selectors:[["cdk-dialog-container"]],viewQuery:function(de,se){if(1&de&&C.GBs(v.I3,7),2&de){let ce;C.mGM(ce=C.lsd())&&(se._portalOutlet=ce.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(de,se){2&de&&C.BMQ("id",se._config.id||null)("role",se._config.role)("aria-modal",se._config.ariaModal)("aria-labelledby",se._config.ariaLabel?null:se._ariaLabelledByQueue[0])("aria-label",se._config.ariaLabel)("aria-describedby",se._config.ariaDescribedBy||null)},standalone:!0,features:[C.Vt3,C.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(de,se){1&de&&C.DNE(0,E,0,0,"ng-template",0)},dependencies:[v.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return K})();class D{constructor(X,Q){this.overlayRef=X,this.config=Q,this.closed=new S.B7,this.disableClose=Q.disableClose,this.backdropClick=X.backdropClick(),this.keydownEvents=X.keydownEvents(),this.outsidePointerEvents=X.outsidePointerEvents(),this.id=Q.id,this.keydownEvents.subscribe(de=>{de.keyCode===g._f&&!this.disableClose&&!(0,g.rp)(de)&&(de.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=X.detachments().subscribe(()=>{!1!==Q.closeOnOverlayDetachments&&this.close()})}close(X,Q){if(this.containerInstance){const de=this.closed;this.containerInstance._closeInteractionType=Q?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),de.next(X),de.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(X="",Q=""){return this.overlayRef.updateSize({width:X,height:Q}),this}addPanelClass(X){return this.overlayRef.addPanelClass(X),this}removePanelClass(X){return this.overlayRef.removePanelClass(X),this}}const A=new C.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const K=(0,C.WQX)(n.hJ);return()=>K.scrollStrategies.block()}}),L=new C.nKC("DialogData"),l=new C.nKC("DefaultDialogConfig");let F=0,P=(()=>{class K{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Q,de,se,ce,z,w){this._overlay=Q,this._injector=de,this._defaultOptions=se,this._parentDialog=ce,this._overlayContainer=z,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.B7,this._afterOpenedAtThisLevel=new S.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,h.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,m.Z)(void 0))),this._scrollStrategy=w}open(Q,de){(de={...this._defaultOptions||new u,...de}).id=de.id||"cdk-dialog-"+F++,de.id&&this.getDialogById(de.id);const ce=this._getOverlayConfig(de),z=this._overlay.create(ce),w=new D(z,de),j=this._attachContainer(z,w,de);return w.containerInstance=j,this._attachDialogContent(Q,w,j,de),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(w),w.closed.subscribe(()=>this._removeOpenDialog(w,!0)),this.afterOpened.next(w),w}closeAll(){k(this.openDialogs,Q=>Q.close())}getDialogById(Q){return this.openDialogs.find(de=>de.id===Q)}ngOnDestroy(){k(this._openDialogsAtThisLevel,Q=>{!1===Q.config.closeOnDestroy&&this._removeOpenDialog(Q,!1)}),k(this._openDialogsAtThisLevel,Q=>Q.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Q){const de=new n.rR({positionStrategy:Q.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Q.scrollStrategy||this._scrollStrategy(),panelClass:Q.panelClass,hasBackdrop:Q.hasBackdrop,direction:Q.direction,minWidth:Q.minWidth,minHeight:Q.minHeight,maxWidth:Q.maxWidth,maxHeight:Q.maxHeight,width:Q.width,height:Q.height,disposeOnNavigation:Q.closeOnNavigation});return Q.backdropClass&&(de.backdropClass=Q.backdropClass),de}_attachContainer(Q,de,se){const ce=se.injector||se.viewContainerRef?.injector,z=[{provide:u,useValue:se},{provide:D,useValue:de},{provide:n.yY,useValue:Q}];let w;se.container?"function"==typeof se.container?w=se.container:(w=se.container.type,z.push(...se.container.providers(se))):w=x;const j=new v.A8(w,se.viewContainerRef,C.zZn.create({parent:ce||this._injector,providers:z}),se.componentFactoryResolver);return Q.attach(j).instance}_attachDialogContent(Q,de,se,ce){if(Q instanceof C.C4Q){const z=this._createInjector(ce,de,se,void 0);let w={$implicit:ce.data,dialogRef:de};ce.templateContext&&(w={...w,..."function"==typeof ce.templateContext?ce.templateContext():ce.templateContext}),se.attachTemplatePortal(new v.VA(Q,null,w,z))}else{const z=this._createInjector(ce,de,se,this._injector),w=se.attachComponentPortal(new v.A8(Q,ce.viewContainerRef,z,ce.componentFactoryResolver));de.componentRef=w,de.componentInstance=w.instance}}_createInjector(Q,de,se,ce){const z=Q.injector||Q.viewContainerRef?.injector,w=[{provide:L,useValue:Q.data},{provide:D,useValue:de}];return Q.providers&&("function"==typeof Q.providers?w.push(...Q.providers(de,Q,se)):w.push(...Q.providers)),Q.direction&&(!z||!z.get(O.dS,null,{optional:!0}))&&w.push({provide:O.dS,useValue:{value:Q.direction,change:(0,y.of)()}}),C.zZn.create({parent:z||ce,providers:w})}_removeOpenDialog(Q,de){const se=this.openDialogs.indexOf(Q);se>-1&&(this.openDialogs.splice(se,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((ce,z)=>{ce?z.setAttribute("aria-hidden",ce):z.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),de&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Q=this._overlayContainer.getContainerElement();if(Q.parentElement){const de=Q.parentElement.children;for(let se=de.length-1;se>-1;se--){const ce=de[se];ce!==Q&&"SCRIPT"!==ce.nodeName&&"STYLE"!==ce.nodeName&&!ce.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(ce,ce.getAttribute("aria-hidden")),ce.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Q=this._parentDialog;return Q?Q._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(de){return new(de||K)(C.KVO(n.hJ),C.KVO(C.zZn),C.KVO(l,8),C.KVO(K,12),C.KVO(n.Sf),C.KVO(A))};static#t=this.\u0275prov=C.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function k(K,X){let Q=K.length;for(;Q--;)X(K[Q])}let V=(()=>{class K{static#e=this.\u0275fac=function(de){return new(de||K)};static#t=this.\u0275mod=C.$C({type:K});static#n=this.\u0275inj=C.G2t({providers:[P],imports:[n.z_,v.jc,t.Pd,v.jc]})}return K})()},7336:(At,ue,a)=>{"use strict";a.d(ue,{A:()=>ae,A$:()=>S,FX:()=>C,Fm:()=>b,G_:()=>n,Ge:()=>sn,KE:()=>ki,Kp:()=>M,LE:()=>L,SJ:()=>P,UQ:()=>D,W3:()=>g,Z:()=>Ft,_f:()=>O,bn:()=>w,dB:()=>u,eg:()=>ge,f2:()=>k,i7:()=>A,n6:()=>l,rp:()=>ze,t6:()=>m,w_:()=>E,wn:()=>f,yZ:()=>x});const n=8,f=9,b=13,C=16,g=17,S=18,O=27,m=32,E=33,u=34,M=35,x=36,D=37,A=38,L=39,l=40,P=46,k=48,w=57,ae=65,Ft=90,sn=91,ki=188,ge=224;function ze(yt,...mn){return mn.length?mn.some(Ln=>yt[Ln]):yt.altKey||yt.shiftKey||yt.ctrlKey||yt.metaKey}},9327:(At,ue,a)=>{"use strict";a.d(ue,{QP:()=>l,Rp:()=>R});var t=a(3953),n=a(4085),f=a(5286),v=a(9714),b=a(1639),C=a(5817),g=a(9493),S=a(7753),h=a(3020),y=a(5006),O=a(3176),m=a(7605),E=a(6860);const M=new Set;let x,D=(()=>{class F{constructor(k,V){this._platform=k,this._nonce=V,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):L}matchMedia(k){return(this._platform.WEBKIT||this._platform.BLINK)&&function A(F,P){if(!M.has(F))try{x||(x=document.createElement("style"),P&&x.setAttribute("nonce",P),x.setAttribute("type","text/css"),document.head.appendChild(x)),x.sheet&&(x.sheet.insertRule(`@media ${F} {body{ }}`,0),M.add(F))}catch(k){console.error(k)}}(k,this._nonce),this._matchMedia(k)}static#e=this.\u0275fac=function(V){return new(V||F)(t.KVO(E.OD),t.KVO(t.BIS,8))};static#t=this.\u0275prov=t.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function L(F){return{matches:"all"===F||""===F,media:F,addListener:()=>{},removeListener:()=>{}}}let l=(()=>{class F{constructor(k,V){this._mediaMatcher=k,this._zone=V,this._queries=new Map,this._destroySubject=new f.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(k){return $((0,n.FG)(k)).some(K=>this._registerQuery(K).mql.matches)}observe(k){const K=$((0,n.FG)(k)).map(Q=>this._registerQuery(Q).observable);let X=(0,v.zV)(K);return X=(0,b.x)(X.pipe((0,g.s)(1)),X.pipe((0,S.i)(1),(0,h.B)(0))),X.pipe((0,y.T)(Q=>{const de={matches:!1,breakpoints:{}};return Q.forEach(({matches:se,query:ce})=>{de.matches=de.matches||se,de.breakpoints[ce]=se}),de}))}_registerQuery(k){if(this._queries.has(k))return this._queries.get(k);const V=this._mediaMatcher.matchMedia(k),X={observable:new C.c(Q=>{const de=se=>this._zone.run(()=>Q.next(se));return V.addListener(de),()=>{V.removeListener(de)}}).pipe((0,O.Z)(V),(0,y.T)(({matches:Q})=>({query:k,matches:Q})),(0,m.Q)(this._destroySubject)),mql:V};return this._queries.set(k,X),X}static#e=this.\u0275fac=function(V){return new(V||F)(t.KVO(D),t.KVO(t.SKi))};static#t=this.\u0275prov=t.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function $(F){return F.map(P=>P.split(",")).reduce((P,k)=>P.concat(k)).map(P=>P.trim())}const R={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(At,ue,a)=>{"use strict";a.d(ue,{Wv:()=>O,w5:()=>m});var t=a(4085),n=a(3953),f=a(5817),v=a(5286),b=a(5006),C=a(8728),g=a(3020);let h=(()=>{class E{create(M){return typeof MutationObserver>"u"?null:new MutationObserver(M)}static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275prov=n.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),y=(()=>{class E{constructor(M){this._mutationObserverFactory=M,this._observedElements=new Map,this._ngZone=(0,n.WQX)(n.SKi)}ngOnDestroy(){this._observedElements.forEach((M,x)=>this._cleanupObserver(x))}observe(M){const x=(0,t.i8)(M);return new f.c(D=>{const L=this._observeElement(x).pipe((0,b.T)(l=>l.filter($=>!function S(E){if("characterData"===E.type&&E.target instanceof Comment)return!0;if("childList"===E.type){for(let u=0;u<E.addedNodes.length;u++)if(!(E.addedNodes[u]instanceof Comment))return!1;for(let u=0;u<E.removedNodes.length;u++)if(!(E.removedNodes[u]instanceof Comment))return!1;return!0}return!1}($))),(0,C.p)(l=>!!l.length)).subscribe(l=>{this._ngZone.run(()=>{D.next(l)})});return()=>{L.unsubscribe(),this._unobserveElement(x)}})}_observeElement(M){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(M))this._observedElements.get(M).count++;else{const x=new v.B7,D=this._mutationObserverFactory.create(A=>x.next(A));D&&D.observe(M,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(M,{observer:D,stream:x,count:1})}return this._observedElements.get(M).stream})}_unobserveElement(M){this._observedElements.has(M)&&(this._observedElements.get(M).count--,this._observedElements.get(M).count||this._cleanupObserver(M))}_cleanupObserver(M){if(this._observedElements.has(M)){const{observer:x,stream:D}=this._observedElements.get(M);x&&x.disconnect(),D.complete(),this._observedElements.delete(M)}}static#e=this.\u0275fac=function(x){return new(x||E)(n.KVO(h))};static#t=this.\u0275prov=n.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),O=(()=>{class E{get disabled(){return this._disabled}set disabled(M){this._disabled=M,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(M){this._debounce=(0,t.OE)(M),this._subscribe()}constructor(M,x){this._contentObserver=M,this._elementRef=x,this.event=new n.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const M=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?M.pipe((0,g.B)(this.debounce)):M).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(x){return new(x||E)(n.rXU(y),n.rXU(n.aKT))};static#t=this.\u0275dir=n.FsC({type:E,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",n.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[n.GFd]})}return E})(),m=(()=>{class E{static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275mod=n.$C({type:E});static#n=this.\u0275inj=n.G2t({providers:[h]})}return E})()},8170:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>h});var t=a(3953),n=a(5286),f=a(5817),v=a(8728),b=a(8712),C=a(7605);class S{constructor(O){this._box=O,this._destroyed=new n.B7,this._resizeSubject=new n.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(m=>this._resizeSubject.next(m)))}observe(O){return this._elementObservables.has(O)||this._elementObservables.set(O,new f.c(m=>{const E=this._resizeSubject.subscribe(m);return this._resizeObserver?.observe(O,{box:this._box}),()=>{this._resizeObserver?.unobserve(O),E.unsubscribe(),this._elementObservables.delete(O)}}).pipe((0,v.p)(m=>m.some(E=>E.target===O)),(0,b.t)({bufferSize:1,refCount:!0}),(0,C.Q)(this._destroyed))),this._elementObservables.get(O)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let h=(()=>{class y{constructor(){this._observers=new Map,this._ngZone=(0,t.WQX)(t.SKi)}ngOnDestroy(){for(const[,m]of this._observers)m.destroy();this._observers.clear()}observe(m,E){const u=E?.box||"content-box";return this._observers.has(u)||this._observers.set(u,new S(u)),this._observers.get(u).observe(m)}static#e=this.\u0275fac=function(E){return new(E||y)};static#t=this.\u0275prov=t.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},7987:(At,ue,a)=>{"use strict";a.d(ue,{$Q:()=>Ne,Sf:()=>w,WB:()=>at,hJ:()=>De,rR:()=>P,yY:()=>j,z_:()=>Ot});var t=a(494),n=a(177),f=a(3953),v=a(4085),b=a(6860),C=a(8728),g=a(7605),S=a(1604),h=a(8203),y=a(6939),O=a(5286),m=a(4337),E=a(4670),u=a(7336);const M=(0,b.CZ)();class x{constructor(N,ie){this._viewportRuler=N,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ie}attach(){}enable(){if(this._canBeEnabled()){const N=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=N.style.left||"",this._previousHTMLStyles.top=N.style.top||"",N.style.left=(0,v.a1)(-this._previousScrollPosition.left),N.style.top=(0,v.a1)(-this._previousScrollPosition.top),N.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const N=this._document.documentElement,Y=N.style,ye=this._document.body.style,Ze=Y.scrollBehavior||"",Ft=ye.scrollBehavior||"";this._isEnabled=!1,Y.left=this._previousHTMLStyles.left,Y.top=this._previousHTMLStyles.top,N.classList.remove("cdk-global-scrollblock"),M&&(Y.scrollBehavior=ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),M&&(Y.scrollBehavior=Ze,ye.scrollBehavior=Ft)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ie=this._document.body,Y=this._viewportRuler.getViewportSize();return ie.scrollHeight>Y.height||ie.scrollWidth>Y.width}}class A{constructor(N,ie,Y,ye){this._scrollDispatcher=N,this._ngZone=ie,this._viewportRuler=Y,this._config=ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(N){this._overlayRef=N}enable(){if(this._scrollSubscription)return;const N=this._scrollDispatcher.scrolled(0).pipe((0,C.p)(ie=>!ie||!this._overlayRef.overlayElement.contains(ie.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=N.subscribe(()=>{const ie=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ie-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=N.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L{enable(){}disable(){}attach(){}}function l(ve,N){return N.some(ie=>ve.bottom<ie.top||ve.top>ie.bottom||ve.right<ie.left||ve.left>ie.right)}function $(ve,N){return N.some(ie=>ve.top<ie.top||ve.bottom>ie.bottom||ve.left<ie.left||ve.right>ie.right)}class R{constructor(N,ie,Y,ye){this._scrollDispatcher=N,this._viewportRuler=ie,this._ngZone=Y,this._config=ye,this._scrollSubscription=null}attach(N){this._overlayRef=N}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ie=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Y,height:ye}=this._viewportRuler.getViewportSize();l(ie,[{width:Y,height:ye,bottom:ye,right:Y,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let F=(()=>{class ve{constructor(ie,Y,ye,Ze){this._scrollDispatcher=ie,this._viewportRuler=Y,this._ngZone=ye,this.noop=()=>new L,this.close=Ft=>new A(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ft),this.block=()=>new x(this._viewportRuler,this._document),this.reposition=Ft=>new R(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ft),this._document=Ze}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(t.R),f.KVO(t.Xj),f.KVO(f.SKi),f.KVO(n.qQ))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();class P{constructor(N){if(this.scrollStrategy=new L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,N){const ie=Object.keys(N);for(const Y of ie)void 0!==N[Y]&&(this[Y]=N[Y])}}}class K{constructor(N,ie){this.connectionPair=N,this.scrollableViewProperties=ie}}let de=(()=>{class ve{constructor(ie){this._attachedOverlays=[],this._document=ie}ngOnDestroy(){this.detach()}add(ie){this.remove(ie),this._attachedOverlays.push(ie)}remove(ie){const Y=this._attachedOverlays.indexOf(ie);Y>-1&&this._attachedOverlays.splice(Y,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(n.qQ))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),se=(()=>{class ve extends de{constructor(ie,Y){super(ie),this._ngZone=Y,this._keydownListener=ye=>{const Ze=this._attachedOverlays;for(let Ft=Ze.length-1;Ft>-1;Ft--)if(Ze[Ft]._keydownEvents.observers.length>0){const sn=Ze[Ft]._keydownEvents;this._ngZone?this._ngZone.run(()=>sn.next(ye)):sn.next(ye);break}}}add(ie){super.add(ie),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(n.qQ),f.KVO(f.SKi,8))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),ce=(()=>{class ve extends de{constructor(ie,Y,ye){super(ie),this._platform=Y,this._ngZone=ye,this._cursorStyleIsSet=!1,this._pointerDownListener=Ze=>{this._pointerDownEventTarget=(0,b.Fb)(Ze)},this._clickListener=Ze=>{const Ft=(0,b.Fb)(Ze),sn="click"===Ze.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ft;this._pointerDownEventTarget=null;const _n=this._attachedOverlays.slice();for(let Rt=_n.length-1;Rt>-1;Rt--){const en=_n[Rt];if(en._outsidePointerEvents.observers.length<1||!en.hasAttached())continue;if(z(en.overlayElement,Ft)||z(en.overlayElement,sn))break;const ht=en._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ht.next(Ze)):ht.next(Ze)}}}add(ie){if(super.add(ie),!this._isAttached){const Y=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Y)):this._addEventListeners(Y),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Y.style.cursor,Y.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ie=this._document.body;ie.removeEventListener("pointerdown",this._pointerDownListener,!0),ie.removeEventListener("click",this._clickListener,!0),ie.removeEventListener("auxclick",this._clickListener,!0),ie.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ie.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ie){ie.addEventListener("pointerdown",this._pointerDownListener,!0),ie.addEventListener("click",this._clickListener,!0),ie.addEventListener("auxclick",this._clickListener,!0),ie.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(n.qQ),f.KVO(b.OD),f.KVO(f.SKi,8))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();function z(ve,N){const ie=typeof ShadowRoot<"u"&&ShadowRoot;let Y=N;for(;Y;){if(Y===ve)return!0;Y=ie&&Y instanceof ShadowRoot?Y.host:Y.parentNode}return!1}let w=(()=>{class ve{constructor(ie,Y){this._platform=Y,this._document=ie}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ie="cdk-overlay-container";if(this._platform.isBrowser||(0,b.v8)()){const ye=this._document.querySelectorAll(`.${ie}[platform="server"], .${ie}[platform="test"]`);for(let Ze=0;Ze<ye.length;Ze++)ye[Ze].remove()}const Y=this._document.createElement("div");Y.classList.add(ie),(0,b.v8)()?Y.setAttribute("platform","test"):this._platform.isBrowser||Y.setAttribute("platform","server"),this._document.body.appendChild(Y),this._containerElement=Y}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(n.qQ),f.KVO(b.OD))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();class j{constructor(N,ie,Y,ye,Ze,Ft,sn,_n,Rt,en=!1,ht){this._portalOutlet=N,this._host=ie,this._pane=Y,this._config=ye,this._ngZone=Ze,this._keyboardDispatcher=Ft,this._document=sn,this._location=_n,this._outsideClickDispatcher=Rt,this._animationsDisabled=en,this._injector=ht,this._backdropElement=null,this._backdropClick=new O.B7,this._attachments=new O.B7,this._detachments=new O.B7,this._locationChanges=m.y.EMPTY,this._backdropClickHandler=pt=>this._backdropClick.next(pt),this._backdropTransitionendHandler=pt=>{this._disposeBackdrop(pt.target)},this._keydownEvents=new O.B7,this._outsidePointerEvents=new O.B7,this._renders=new O.B7,ye.scrollStrategy&&(this._scrollStrategy=ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ye.positionStrategy,this._afterRenderRef=(0,f.O8t)(()=>(0,f.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(N){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ie=this._portalOutlet.attach(N);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,f.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ie?.onDestroy&&ie.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ie}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const N=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),N}dispose(){const N=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,N&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(N){N!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=N,this.hasAttached()&&(N.attach(this),this.updatePosition()))}updateSize(N){this._config={...this._config,...N},this._updateElementSize()}setDirection(N){this._config={...this._config,direction:N},this._updateElementDirection()}addPanelClass(N){this._pane&&this._toggleClasses(this._pane,N,!0)}removePanelClass(N){this._pane&&this._toggleClasses(this._pane,N,!1)}getDirection(){const N=this._config.direction;return N?"string"==typeof N?N:N.value:"ltr"}updateScrollStrategy(N){N!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=N,this.hasAttached()&&(N.attach(this),N.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const N=this._pane.style;N.width=(0,v.a1)(this._config.width),N.height=(0,v.a1)(this._config.height),N.minWidth=(0,v.a1)(this._config.minWidth),N.minHeight=(0,v.a1)(this._config.minHeight),N.maxWidth=(0,v.a1)(this._config.maxWidth),N.maxHeight=(0,v.a1)(this._config.maxHeight)}_togglePointerEvents(N){this._pane.style.pointerEvents=N?"":"none"}_attachBackdrop(){const N="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(N)})}):this._backdropElement.classList.add(N)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const N=this._backdropElement;if(N){if(this._animationsDisabled)return void this._disposeBackdrop(N);N.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{N.addEventListener("transitionend",this._backdropTransitionendHandler)}),N.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(N)},500))}}_toggleClasses(N,ie,Y){const ye=(0,v.FG)(ie||[]).filter(Ze=>!!Ze);ye.length&&(Y?N.classList.add(...ye):N.classList.remove(...ye))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const N=this._renders.pipe((0,g.Q)((0,E.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),N.unsubscribe())})})}_disposeScrollStrategy(){const N=this._scrollStrategy;N&&(N.disable(),N.detach&&N.detach())}_disposeBackdrop(N){N&&(N.removeEventListener("click",this._backdropClickHandler),N.removeEventListener("transitionend",this._backdropTransitionendHandler),N.remove(),this._backdropElement===N&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",ne=/([A-Za-z%]+)$/;class fe{get positions(){return this._preferredPositions}constructor(N,ie,Y,ye,Ze){this._viewportRuler=ie,this._document=Y,this._platform=ye,this._overlayContainer=Ze,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new O.B7,this._resizeSubscription=m.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(N)}attach(N){this._validatePositions(),N.hostElement.classList.add(W),this._overlayRef=N,this._boundingBox=N.hostElement,this._pane=N.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const N=this._originRect,ie=this._overlayRect,Y=this._viewportRect,ye=this._containerRect,Ze=[];let Ft;for(let sn of this._preferredPositions){let _n=this._getOriginPoint(N,ye,sn),Rt=this._getOverlayPoint(_n,ie,sn),en=this._getOverlayFit(Rt,ie,Y,sn);if(en.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(sn,_n);this._canFitWithFlexibleDimensions(en,Rt,Y)?Ze.push({position:sn,origin:_n,overlayRect:ie,boundingBoxRect:this._calculateBoundingBoxRect(_n,sn)}):(!Ft||Ft.overlayFit.visibleArea<en.visibleArea)&&(Ft={overlayFit:en,overlayPoint:Rt,originPoint:_n,position:sn,overlayRect:ie})}if(Ze.length){let sn=null,_n=-1;for(const Rt of Ze){const en=Rt.boundingBoxRect.width*Rt.boundingBoxRect.height*(Rt.position.weight||1);en>_n&&(_n=en,sn=Rt)}return this._isPushed=!1,void this._applyPosition(sn.position,sn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ft.position,Ft.originPoint);this._applyPosition(Ft.position,Ft.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ae(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const N=this._lastPosition;if(N){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ie=this._getOriginPoint(this._originRect,this._containerRect,N);this._applyPosition(N,ie)}else this.apply()}withScrollableContainers(N){return this._scrollables=N,this}withPositions(N){return this._preferredPositions=N,-1===N.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(N){return this._viewportMargin=N,this}withFlexibleDimensions(N=!0){return this._hasFlexibleDimensions=N,this}withGrowAfterOpen(N=!0){return this._growAfterOpen=N,this}withPush(N=!0){return this._canPush=N,this}withLockedPosition(N=!0){return this._positionLocked=N,this}setOrigin(N){return this._origin=N,this}withDefaultOffsetX(N){return this._offsetX=N,this}withDefaultOffsetY(N){return this._offsetY=N,this}withTransformOriginOn(N){return this._transformOriginSelector=N,this}_getOriginPoint(N,ie,Y){let ye,Ze;if("center"==Y.originX)ye=N.left+N.width/2;else{const Ft=this._isRtl()?N.right:N.left,sn=this._isRtl()?N.left:N.right;ye="start"==Y.originX?Ft:sn}return ie.left<0&&(ye-=ie.left),Ze="center"==Y.originY?N.top+N.height/2:"top"==Y.originY?N.top:N.bottom,ie.top<0&&(Ze-=ie.top),{x:ye,y:Ze}}_getOverlayPoint(N,ie,Y){let ye,Ze;return ye="center"==Y.overlayX?-ie.width/2:"start"===Y.overlayX?this._isRtl()?-ie.width:0:this._isRtl()?0:-ie.width,Ze="center"==Y.overlayY?-ie.height/2:"top"==Y.overlayY?0:-ie.height,{x:N.x+ye,y:N.y+Ze}}_getOverlayFit(N,ie,Y,ye){const Ze=Me(ie);let{x:Ft,y:sn}=N,_n=this._getOffset(ye,"x"),Rt=this._getOffset(ye,"y");_n&&(Ft+=_n),Rt&&(sn+=Rt);let pt=0-sn,Ct=sn+Ze.height-Y.height,Mt=this._subtractOverflows(Ze.width,0-Ft,Ft+Ze.width-Y.width),$t=this._subtractOverflows(Ze.height,pt,Ct),nn=Mt*$t;return{visibleArea:nn,isCompletelyWithinViewport:Ze.width*Ze.height===nn,fitsInViewportVertically:$t===Ze.height,fitsInViewportHorizontally:Mt==Ze.width}}_canFitWithFlexibleDimensions(N,ie,Y){if(this._hasFlexibleDimensions){const ye=Y.bottom-ie.y,Ze=Y.right-ie.x,Ft=Ae(this._overlayRef.getConfig().minHeight),sn=Ae(this._overlayRef.getConfig().minWidth);return(N.fitsInViewportVertically||null!=Ft&&Ft<=ye)&&(N.fitsInViewportHorizontally||null!=sn&&sn<=Ze)}return!1}_pushOverlayOnScreen(N,ie,Y){if(this._previousPushAmount&&this._positionLocked)return{x:N.x+this._previousPushAmount.x,y:N.y+this._previousPushAmount.y};const ye=Me(ie),Ze=this._viewportRect,Ft=Math.max(N.x+ye.width-Ze.width,0),sn=Math.max(N.y+ye.height-Ze.height,0),_n=Math.max(Ze.top-Y.top-N.y,0),Rt=Math.max(Ze.left-Y.left-N.x,0);let en=0,ht=0;return en=ye.width<=Ze.width?Rt||-Ft:N.x<this._viewportMargin?Ze.left-Y.left-N.x:0,ht=ye.height<=Ze.height?_n||-sn:N.y<this._viewportMargin?Ze.top-Y.top-N.y:0,this._previousPushAmount={x:en,y:ht},{x:N.x+en,y:N.y+ht}}_applyPosition(N,ie){if(this._setTransformOrigin(N),this._setOverlayElementStyles(ie,N),this._setBoundingBoxStyles(ie,N),N.panelClass&&this._addPanelClasses(N.panelClass),this._positionChanges.observers.length){const Y=this._getScrollVisibility();if(N!==this._lastPosition||!this._lastScrollVisibility||!function Ve(ve,N){return ve===N||ve.isOriginClipped===N.isOriginClipped&&ve.isOriginOutsideView===N.isOriginOutsideView&&ve.isOverlayClipped===N.isOverlayClipped&&ve.isOverlayOutsideView===N.isOverlayOutsideView}(this._lastScrollVisibility,Y)){const ye=new K(N,Y);this._positionChanges.next(ye)}this._lastScrollVisibility=Y}this._lastPosition=N,this._isInitialRender=!1}_setTransformOrigin(N){if(!this._transformOriginSelector)return;const ie=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Y,ye=N.overlayY;Y="center"===N.overlayX?"center":this._isRtl()?"start"===N.overlayX?"right":"left":"start"===N.overlayX?"left":"right";for(let Ze=0;Ze<ie.length;Ze++)ie[Ze].style.transformOrigin=`${Y} ${ye}`}_calculateBoundingBoxRect(N,ie){const Y=this._viewportRect,ye=this._isRtl();let Ze,Ft,sn,en,ht,pt;if("top"===ie.overlayY)Ft=N.y,Ze=Y.height-Ft+this._viewportMargin;else if("bottom"===ie.overlayY)sn=Y.height-N.y+2*this._viewportMargin,Ze=Y.height-sn+this._viewportMargin;else{const Ct=Math.min(Y.bottom-N.y+Y.top,N.y),Mt=this._lastBoundingBoxSize.height;Ze=2*Ct,Ft=N.y-Ct,Ze>Mt&&!this._isInitialRender&&!this._growAfterOpen&&(Ft=N.y-Mt/2)}if("end"===ie.overlayX&&!ye||"start"===ie.overlayX&&ye)pt=Y.width-N.x+2*this._viewportMargin,en=N.x-this._viewportMargin;else if("start"===ie.overlayX&&!ye||"end"===ie.overlayX&&ye)ht=N.x,en=Y.right-N.x;else{const Ct=Math.min(Y.right-N.x+Y.left,N.x),Mt=this._lastBoundingBoxSize.width;en=2*Ct,ht=N.x-Ct,en>Mt&&!this._isInitialRender&&!this._growAfterOpen&&(ht=N.x-Mt/2)}return{top:Ft,left:ht,bottom:sn,right:pt,width:en,height:Ze}}_setBoundingBoxStyles(N,ie){const Y=this._calculateBoundingBoxRect(N,ie);!this._isInitialRender&&!this._growAfterOpen&&(Y.height=Math.min(Y.height,this._lastBoundingBoxSize.height),Y.width=Math.min(Y.width,this._lastBoundingBoxSize.width));const ye={};if(this._hasExactPosition())ye.top=ye.left="0",ye.bottom=ye.right=ye.maxHeight=ye.maxWidth="",ye.width=ye.height="100%";else{const Ze=this._overlayRef.getConfig().maxHeight,Ft=this._overlayRef.getConfig().maxWidth;ye.height=(0,v.a1)(Y.height),ye.top=(0,v.a1)(Y.top),ye.bottom=(0,v.a1)(Y.bottom),ye.width=(0,v.a1)(Y.width),ye.left=(0,v.a1)(Y.left),ye.right=(0,v.a1)(Y.right),ye.alignItems="center"===ie.overlayX?"center":"end"===ie.overlayX?"flex-end":"flex-start",ye.justifyContent="center"===ie.overlayY?"center":"bottom"===ie.overlayY?"flex-end":"flex-start",Ze&&(ye.maxHeight=(0,v.a1)(Ze)),Ft&&(ye.maxWidth=(0,v.a1)(Ft))}this._lastBoundingBoxSize=Y,ae(this._boundingBox.style,ye)}_resetBoundingBoxStyles(){ae(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ae(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(N,ie){const Y={},ye=this._hasExactPosition(),Ze=this._hasFlexibleDimensions,Ft=this._overlayRef.getConfig();if(ye){const en=this._viewportRuler.getViewportScrollPosition();ae(Y,this._getExactOverlayY(ie,N,en)),ae(Y,this._getExactOverlayX(ie,N,en))}else Y.position="static";let sn="",_n=this._getOffset(ie,"x"),Rt=this._getOffset(ie,"y");_n&&(sn+=`translateX(${_n}px) `),Rt&&(sn+=`translateY(${Rt}px)`),Y.transform=sn.trim(),Ft.maxHeight&&(ye?Y.maxHeight=(0,v.a1)(Ft.maxHeight):Ze&&(Y.maxHeight="")),Ft.maxWidth&&(ye?Y.maxWidth=(0,v.a1)(Ft.maxWidth):Ze&&(Y.maxWidth="")),ae(this._pane.style,Y)}_getExactOverlayY(N,ie,Y){let ye={top:"",bottom:""},Ze=this._getOverlayPoint(ie,this._overlayRect,N);return this._isPushed&&(Ze=this._pushOverlayOnScreen(Ze,this._overlayRect,Y)),"bottom"===N.overlayY?ye.bottom=this._document.documentElement.clientHeight-(Ze.y+this._overlayRect.height)+"px":ye.top=(0,v.a1)(Ze.y),ye}_getExactOverlayX(N,ie,Y){let Ft,ye={left:"",right:""},Ze=this._getOverlayPoint(ie,this._overlayRect,N);return this._isPushed&&(Ze=this._pushOverlayOnScreen(Ze,this._overlayRect,Y)),Ft=this._isRtl()?"end"===N.overlayX?"left":"right":"end"===N.overlayX?"right":"left","right"===Ft?ye.right=this._document.documentElement.clientWidth-(Ze.x+this._overlayRect.width)+"px":ye.left=(0,v.a1)(Ze.x),ye}_getScrollVisibility(){const N=this._getOriginRect(),ie=this._pane.getBoundingClientRect(),Y=this._scrollables.map(ye=>ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$(N,Y),isOriginOutsideView:l(N,Y),isOverlayClipped:$(ie,Y),isOverlayOutsideView:l(ie,Y)}}_subtractOverflows(N,...ie){return ie.reduce((Y,ye)=>Y-Math.max(ye,0),N)}_getNarrowedViewportRect(){const N=this._document.documentElement.clientWidth,ie=this._document.documentElement.clientHeight,Y=this._viewportRuler.getViewportScrollPosition();return{top:Y.top+this._viewportMargin,left:Y.left+this._viewportMargin,right:Y.left+N-this._viewportMargin,bottom:Y.top+ie-this._viewportMargin,width:N-2*this._viewportMargin,height:ie-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(N,ie){return"x"===ie?null==N.offsetX?this._offsetX:N.offsetX:null==N.offsetY?this._offsetY:N.offsetY}_validatePositions(){}_addPanelClasses(N){this._pane&&(0,v.FG)(N).forEach(ie=>{""!==ie&&-1===this._appliedPanelClasses.indexOf(ie)&&(this._appliedPanelClasses.push(ie),this._pane.classList.add(ie))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(N=>{this._pane.classList.remove(N)}),this._appliedPanelClasses=[])}_getOriginRect(){const N=this._origin;if(N instanceof f.aKT)return N.nativeElement.getBoundingClientRect();if(N instanceof Element)return N.getBoundingClientRect();const ie=N.width||0,Y=N.height||0;return{top:N.y,bottom:N.y+Y,left:N.x,right:N.x+ie,height:Y,width:ie}}}function ae(ve,N){for(let ie in N)N.hasOwnProperty(ie)&&(ve[ie]=N[ie]);return ve}function Ae(ve){if("number"!=typeof ve&&null!=ve){const[N,ie]=ve.split(ne);return ie&&"px"!==ie?null:parseFloat(N)}return ve||null}function Me(ve){return{top:Math.floor(ve.top),right:Math.floor(ve.right),bottom:Math.floor(ve.bottom),left:Math.floor(ve.left),width:Math.floor(ve.width),height:Math.floor(ve.height)}}const nt="cdk-global-overlay-wrapper";class $e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(N){const ie=N.getConfig();this._overlayRef=N,this._width&&!ie.width&&N.updateSize({width:this._width}),this._height&&!ie.height&&N.updateSize({height:this._height}),N.hostElement.classList.add(nt),this._isDisposed=!1}top(N=""){return this._bottomOffset="",this._topOffset=N,this._alignItems="flex-start",this}left(N=""){return this._xOffset=N,this._xPosition="left",this}bottom(N=""){return this._topOffset="",this._bottomOffset=N,this._alignItems="flex-end",this}right(N=""){return this._xOffset=N,this._xPosition="right",this}start(N=""){return this._xOffset=N,this._xPosition="start",this}end(N=""){return this._xOffset=N,this._xPosition="end",this}width(N=""){return this._overlayRef?this._overlayRef.updateSize({width:N}):this._width=N,this}height(N=""){return this._overlayRef?this._overlayRef.updateSize({height:N}):this._height=N,this}centerHorizontally(N=""){return this.left(N),this._xPosition="center",this}centerVertically(N=""){return this.top(N),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const N=this._overlayRef.overlayElement.style,ie=this._overlayRef.hostElement.style,Y=this._overlayRef.getConfig(),{width:ye,height:Ze,maxWidth:Ft,maxHeight:sn}=Y,_n=!("100%"!==ye&&"100vw"!==ye||Ft&&"100%"!==Ft&&"100vw"!==Ft),Rt=!("100%"!==Ze&&"100vh"!==Ze||sn&&"100%"!==sn&&"100vh"!==sn),en=this._xPosition,ht=this._xOffset,pt="rtl"===this._overlayRef.getConfig().direction;let Ct="",Mt="",$t="";_n?$t="flex-start":"center"===en?($t="center",pt?Mt=ht:Ct=ht):pt?"left"===en||"end"===en?($t="flex-end",Ct=ht):("right"===en||"start"===en)&&($t="flex-start",Mt=ht):"left"===en||"start"===en?($t="flex-start",Ct=ht):("right"===en||"end"===en)&&($t="flex-end",Mt=ht),N.position=this._cssPosition,N.marginLeft=_n?"0":Ct,N.marginTop=Rt?"0":this._topOffset,N.marginBottom=this._bottomOffset,N.marginRight=_n?"0":Mt,ie.justifyContent=$t,ie.alignItems=Rt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const N=this._overlayRef.overlayElement.style,ie=this._overlayRef.hostElement,Y=ie.style;ie.classList.remove(nt),Y.justifyContent=Y.alignItems=N.marginTop=N.marginBottom=N.marginLeft=N.marginRight=N.position="",this._overlayRef=null,this._isDisposed=!0}}let Ie=(()=>{class ve{constructor(ie,Y,ye,Ze){this._viewportRuler=ie,this._document=Y,this._platform=ye,this._overlayContainer=Ze}global(){return new $e}flexibleConnectedTo(ie){return new fe(ie,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(t.Xj),f.KVO(n.qQ),f.KVO(b.OD),f.KVO(w))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),me=0,De=(()=>{class ve{constructor(ie,Y,ye,Ze,Ft,sn,_n,Rt,en,ht,pt,Ct){this.scrollStrategies=ie,this._overlayContainer=Y,this._componentFactoryResolver=ye,this._positionBuilder=Ze,this._keyboardDispatcher=Ft,this._injector=sn,this._ngZone=_n,this._document=Rt,this._directionality=en,this._location=ht,this._outsideClickDispatcher=pt,this._animationsModuleType=Ct}create(ie){const Y=this._createHostElement(),ye=this._createPaneElement(Y),Ze=this._createPortalOutlet(ye),Ft=new P(ie);return Ft.direction=Ft.direction||this._directionality.value,new j(Ze,Y,ye,Ft,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(f.uvJ))}position(){return this._positionBuilder}_createPaneElement(ie){const Y=this._document.createElement("div");return Y.id="cdk-overlay-"+me++,Y.classList.add("cdk-overlay-pane"),ie.appendChild(Y),Y}_createHostElement(){const ie=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ie),ie}_createPortalOutlet(ie){return this._appRef||(this._appRef=this._injector.get(f.o8S)),new y.aI(ie,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.KVO(F),f.KVO(w),f.KVO(f.OM3),f.KVO(Ie),f.KVO(se),f.KVO(f.zZn),f.KVO(f.SKi),f.KVO(n.qQ),f.KVO(h.dS),f.KVO(n.aZ),f.KVO(ce),f.KVO(f.bc$,8))};static#t=this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const ke=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qe=new f.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const ve=(0,f.WQX)(De);return()=>ve.scrollStrategies.reposition()}});let Ne=(()=>{class ve{constructor(ie){this.elementRef=ie}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:ve,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ve})(),at=(()=>{class ve{get offsetX(){return this._offsetX}set offsetX(ie){this._offsetX=ie,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ie){this._offsetY=ie,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(ie){this._disposeOnNavigation=ie}constructor(ie,Y,ye,Ze,Ft){this._overlay=ie,this._dir=Ft,this._backdropSubscription=m.y.EMPTY,this._attachSubscription=m.y.EMPTY,this._detachSubscription=m.y.EMPTY,this._positionSubscription=m.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,f.WQX)(f.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new f.bkB,this.positionChange=new f.bkB,this.attach=new f.bkB,this.detach=new f.bkB,this.overlayKeydown=new f.bkB,this.overlayOutsideClick=new f.bkB,this._templatePortal=new y.VA(Y,ye),this._scrollStrategyFactory=Ze,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ie){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ie.origin&&this.open&&this._position.apply()),ie.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ke);const ie=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ie.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ie.detachments().subscribe(()=>this.detach.emit()),ie.keydownEvents().subscribe(Y=>{this.overlayKeydown.next(Y),Y.keyCode===u._f&&!this.disableClose&&!(0,u.rp)(Y)&&(Y.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Y=>{const ye=this._getOriginElement(),Ze=(0,b.Fb)(Y);(!ye||ye!==Ze&&!ye.contains(Ze))&&this.overlayOutsideClick.next(Y)})}_buildConfig(){const ie=this._position=this.positionStrategy||this._createPositionStrategy(),Y=new P({direction:this._dir,positionStrategy:ie,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(Y.width=this.width),(this.height||0===this.height)&&(Y.height=this.height),(this.minWidth||0===this.minWidth)&&(Y.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Y.minHeight=this.minHeight),this.backdropClass&&(Y.backdropClass=this.backdropClass),this.panelClass&&(Y.panelClass=this.panelClass),Y}_updatePositionStrategy(ie){const Y=this.positions.map(ye=>({originX:ye.originX,originY:ye.originY,overlayX:ye.overlayX,overlayY:ye.overlayY,offsetX:ye.offsetX||this.offsetX,offsetY:ye.offsetY||this.offsetY,panelClass:ye.panelClass||void 0}));return ie.setOrigin(this._getOrigin()).withPositions(Y).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ie=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(ie),ie}_getOrigin(){return this.origin instanceof Ne?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ne?this.origin.elementRef.nativeElement:this.origin instanceof f.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ie=>{this.backdropClick.emit(ie)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,S.v)(()=>this.positionChange.observers.length>0)).subscribe(ie=>{this._ngZone.run(()=>this.positionChange.emit(ie)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Y){return new(Y||ve)(f.rXU(De),f.rXU(f.C4Q),f.rXU(f.c1b),f.rXU(Qe),f.rXU(h.dS,8))};static#t=this.\u0275dir=f.FsC({type:ve,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",f.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",f.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",f.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",f.L39],push:[2,"cdkConnectedOverlayPush","push",f.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",f.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[f.GFd,f.OA$]})}return ve})();const Kt={provide:Qe,deps:[De],useFactory:function Lt(ve){return()=>ve.scrollStrategies.reposition()}};let Ot=(()=>{class ve{static#e=this.\u0275fac=function(Y){return new(Y||ve)};static#t=this.\u0275mod=f.$C({type:ve});static#n=this.\u0275inj=f.G2t({providers:[De,Kt],imports:[h.jI,y.jc,t.E9,t.E9]})}return ve})()},6860:(At,ue,a)=>{"use strict";a.d(ue,{BD:()=>x,BQ:()=>O,CZ:()=>M,Fb:()=>$,KT:()=>L,MU:()=>S,OD:()=>v,r5:()=>m,v8:()=>R,vc:()=>l});var t=a(3953),n=a(177);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f=!1}let C,v=(()=>{class F{constructor(k){this._platformId=k,this.isBrowser=this._platformId?(0,n.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(V){return new(V||F)(t.KVO(t.Agw))};static#t=this.\u0275prov=t.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();const g=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function S(){if(C)return C;if("object"!=typeof document||!document)return C=new Set(g),C;let F=document.createElement("input");return C=new Set(g.filter(P=>(F.setAttribute("type",P),F.type===P))),C}let h;function O(F){return function y(){if(null==h&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?F:!!F.capture}var m=function(F){return F[F.NORMAL=0]="NORMAL",F[F.NEGATED=1]="NEGATED",F[F.INVERTED=2]="INVERTED",F}(m||{});let E,u,D;function M(){if(null==u){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u=!1,u;if("scrollBehavior"in document.documentElement.style)u=!0;else{const F=Element.prototype.scrollTo;u=!!F&&!/\{\s*\[native code\]\s*\}/.test(F.toString())}}return u}function x(){if("object"!=typeof document||!document)return m.NORMAL;if(null==E){const F=document.createElement("div"),P=F.style;F.dir="rtl",P.width="1px",P.overflow="auto",P.visibility="hidden",P.pointerEvents="none",P.position="absolute";const k=document.createElement("div"),V=k.style;V.width="2px",V.height="1px",F.appendChild(k),document.body.appendChild(F),E=m.NORMAL,0===F.scrollLeft&&(F.scrollLeft=1,E=0===F.scrollLeft?m.NEGATED:m.INVERTED),F.remove()}return E}function L(F){if(function A(){if(null==D){const F=typeof document<"u"?document.head:null;D=!(!F||!F.createShadowRoot&&!F.attachShadow)}return D}()){const P=F.getRootNode?F.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&P instanceof ShadowRoot)return P}return null}function l(){let F=typeof document<"u"&&document?document.activeElement:null;for(;F&&F.shadowRoot;){const P=F.shadowRoot.activeElement;if(P===F)break;F=P}return F}function $(F){return F.composedPath?F.composedPath()[0]:F.target}function R(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(At,ue,a)=>{"use strict";a.d(ue,{A8:()=>y,I3:()=>L,Qq:()=>A,VA:()=>O,aI:()=>M,bV:()=>D,jc:()=>$,lb:()=>E});var t=a(3953),n=a(177);class h{attach(P){return this._attachedHost=P,P.attach(this)}detach(){let P=this._attachedHost;null!=P&&(this._attachedHost=null,P.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(P){this._attachedHost=P}}class y extends h{constructor(P,k,V,K,X){super(),this.component=P,this.viewContainerRef=k,this.injector=V,this.componentFactoryResolver=K,this.projectableNodes=X}}class O extends h{constructor(P,k,V,K){super(),this.templateRef=P,this.viewContainerRef=k,this.context=V,this.injector=K}get origin(){return this.templateRef.elementRef}attach(P,k=this.context){return this.context=k,super.attach(P)}detach(){return this.context=void 0,super.detach()}}class m extends h{constructor(P){super(),this.element=P instanceof t.aKT?P.nativeElement:P}}class E{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(P){return P instanceof y?(this._attachedPortal=P,this.attachComponentPortal(P)):P instanceof O?(this._attachedPortal=P,this.attachTemplatePortal(P)):this.attachDomPortal&&P instanceof m?(this._attachedPortal=P,this.attachDomPortal(P)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(P){this._disposeFn=P}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class M extends E{constructor(P,k,V,K,X){super(),this.outletElement=P,this._componentFactoryResolver=k,this._appRef=V,this._defaultInjector=K,this.attachDomPortal=Q=>{const de=Q.element,se=this._document.createComment("dom-portal");de.parentNode.insertBefore(se,de),this.outletElement.appendChild(de),this._attachedPortal=Q,super.setDisposeFn(()=>{se.parentNode&&se.parentNode.replaceChild(de,se)})},this._document=X}attachComponentPortal(P){const V=(P.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(P.component);let K;return P.viewContainerRef?(K=P.viewContainerRef.createComponent(V,P.viewContainerRef.length,P.injector||P.viewContainerRef.injector,P.projectableNodes||void 0),this.setDisposeFn(()=>K.destroy())):(K=V.create(P.injector||this._defaultInjector||t.zZn.NULL),this._appRef.attachView(K.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(K.hostView),K.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(K)),this._attachedPortal=P,K}attachTemplatePortal(P){let k=P.viewContainerRef,V=k.createEmbeddedView(P.templateRef,P.context,{injector:P.injector});return V.rootNodes.forEach(K=>this.outletElement.appendChild(K)),V.detectChanges(),this.setDisposeFn(()=>{let K=k.indexOf(V);-1!==K&&k.remove(K)}),this._attachedPortal=P,V}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(P){return P.hostView.rootNodes[0]}}let D=(()=>{class F extends O{constructor(k,V){super(k,V)}static#e=this.\u0275fac=function(V){return new(V||F)(t.rXU(t.C4Q),t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:F,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[t.Vt3]})}return F})(),A=(()=>{class F extends D{static#e=this.\u0275fac=(()=>{let k;return function(K){return(k||(k=t.xGo(F)))(K||F)}})();static#t=this.\u0275dir=t.FsC({type:F,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[t.Jv_([{provide:D,useExisting:F}]),t.Vt3]})}return F})(),L=(()=>{class F extends E{constructor(k,V,K){super(),this._componentFactoryResolver=k,this._viewContainerRef=V,this._isInitialized=!1,this.attached=new t.bkB,this.attachDomPortal=X=>{const Q=X.element,de=this._document.createComment("dom-portal");X.setAttachedHost(this),Q.parentNode.insertBefore(de,Q),this._getRootNode().appendChild(Q),this._attachedPortal=X,super.setDisposeFn(()=>{de.parentNode&&de.parentNode.replaceChild(Q,de)})},this._document=K}get portal(){return this._attachedPortal}set portal(k){this.hasAttached()&&!k&&!this._isInitialized||(this.hasAttached()&&super.detach(),k&&super.attach(k),this._attachedPortal=k||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(k){k.setAttachedHost(this);const V=null!=k.viewContainerRef?k.viewContainerRef:this._viewContainerRef,X=(k.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(k.component),Q=V.createComponent(X,V.length,k.injector||V.injector,k.projectableNodes||void 0);return V!==this._viewContainerRef&&this._getRootNode().appendChild(Q.hostView.rootNodes[0]),super.setDisposeFn(()=>Q.destroy()),this._attachedPortal=k,this._attachedRef=Q,this.attached.emit(Q),Q}attachTemplatePortal(k){k.setAttachedHost(this);const V=this._viewContainerRef.createEmbeddedView(k.templateRef,k.context,{injector:k.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=k,this._attachedRef=V,this.attached.emit(V),V}_getRootNode(){const k=this._viewContainerRef.element.nativeElement;return k.nodeType===k.ELEMENT_NODE?k:k.parentNode}static#e=this.\u0275fac=function(V){return new(V||F)(t.rXU(t.OM3),t.rXU(t.c1b),t.rXU(n.qQ))};static#t=this.\u0275dir=t.FsC({type:F,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[t.Vt3]})}return F})(),$=(()=>{class F{static#e=this.\u0275fac=function(V){return new(V||F)};static#t=this.\u0275mod=t.$C({type:F});static#n=this.\u0275inj=t.G2t({})}return F})()},494:(At,ue,a)=>{"use strict";a.d(ue,{yg:()=>Ve,uv:()=>nt,Gj:()=>Se,E$:()=>Lt,d6:()=>Ne,R:()=>lt,E9:()=>ve,Xj:()=>Ie});var t=a(4085),n=a(3953),f=a(5286),v=a(4421),b=a(5817),C=a(3586),g=a(8189),h=a(6228);const O=new class y extends h.q{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:Y}=this;let ye,Ze=-1,Ft=Y.length;ie=ie||Y.shift();do{if(ye=ie.execute(ie.state,ie.delay))break}while(++Ze<Ft&&(ie=Y.shift()));if(this.active=!1,ye){for(;++Ze<Ft&&(ie=Y.shift());)ie.unsubscribe();throw ye}}}(class S extends g.R{constructor(ie,Y){super(ie,Y),this.scheduler=ie,this.work=Y}requestAsyncId(ie,Y,ye=0){return null!==ye&&ye>0?super.requestAsyncId(ie,Y,ye):(ie.actions.push(this),ie.scheduled||(ie.scheduled=requestAnimationFrame(()=>ie.flush(null))))}recycleAsyncId(ie,Y,ye=0){if(null!==ye&&ye>0||null===ye&&this.delay>0)return super.recycleAsyncId(ie,Y,ye);0===ie.actions.length&&(cancelAnimationFrame(Y),ie.scheduled=void 0)}});var E=a(5516),u=a(4337),M=a(8982),x=a(522),D=a(1080),A=a(3004);class l{constructor(ie){this.durationSelector=ie}call(ie,Y){return Y.subscribe(new $(ie,this.durationSelector))}}class $ extends A.gn{constructor(ie,Y){super(ie),this.durationSelector=Y,this.hasValue=!1}_next(ie){if(this.value=ie,this.hasValue=!0,!this.throttled){let Y;try{const{durationSelector:Ze}=this;Y=Ze(ie)}catch(Ze){return this.destination.error(Ze)}const ye=(0,A.tS)(Y,new A.zA(this));!ye||ye.closed?this.clearThrottle():this.add(this.throttled=ye)}}clearThrottle(){const{value:ie,hasValue:Y,throttled:ye}=this;ye&&(this.remove(ye),this.throttled=void 0,ye.unsubscribe()),Y&&(this.value=void 0,this.hasValue=!1,this.destination.next(ie))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var R=a(2170);function F(N,ie=D.b){return function L(N){return function(Y){return Y.lift(new l(N))}}(()=>(0,R.O)(N,ie))}var P=a(8728),k=a(7605),V=a(3176),K=a(762);class Q{call(ie,Y){return Y.subscribe(new de(ie))}}class de extends K.v{constructor(ie){super(ie),this.hasPrev=!1}_next(ie){let Y;this.hasPrev?Y=[this.prev,ie]:this.hasPrev=!0,this.prev=ie,Y&&this.destination.next(Y)}}var se=a(9090),ce=a(8712),z=a(6860),w=a(177),j=a(8203),W=a(5024);const ne=["contentWrapper"],fe=["*"],ae=new n.nKC("VIRTUAL_SCROLL_STRATEGY");class Ae{constructor(ie,Y,ye){this._scrolledIndexChange=new f.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,x.F)()),this._viewport=null,this._itemSize=ie,this._minBufferPx=Y,this._maxBufferPx=ye}attach(ie){this._viewport=ie,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(ie,Y,ye){this._itemSize=ie,this._minBufferPx=Y,this._maxBufferPx=ye,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(ie,Y){this._viewport&&this._viewport.scrollToOffset(ie*this._itemSize,Y)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const ie=this._viewport.getRenderedRange(),Y={start:ie.start,end:ie.end},ye=this._viewport.getViewportSize(),Ze=this._viewport.getDataLength();let Ft=this._viewport.measureScrollOffset(),sn=this._itemSize>0?Ft/this._itemSize:0;if(Y.end>Ze){const Rt=Math.ceil(ye/this._itemSize),en=Math.max(0,Math.min(sn,Ze-Rt));sn!=en&&(sn=en,Ft=en*this._itemSize,Y.start=Math.floor(sn)),Y.end=Math.max(0,Math.min(Ze,Y.start+Rt))}const _n=Ft-Y.start*this._itemSize;if(_n<this._minBufferPx&&0!=Y.start){const Rt=Math.ceil((this._maxBufferPx-_n)/this._itemSize);Y.start=Math.max(0,Y.start-Rt),Y.end=Math.min(Ze,Math.ceil(sn+(ye+this._minBufferPx)/this._itemSize))}else{const Rt=Y.end*this._itemSize-(Ft+ye);if(Rt<this._minBufferPx&&Y.end!=Ze){const en=Math.ceil((this._maxBufferPx-Rt)/this._itemSize);en>0&&(Y.end=Math.min(Ze,Y.end+en),Y.start=Math.max(0,Math.floor(sn-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(Y),this._viewport.setRenderedContentOffset(this._itemSize*Y.start),this._scrolledIndexChange.next(Math.floor(sn))}}function Me(N){return N._scrollStrategy}let Ve=(()=>{class N{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Ae(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(Y){this._itemSize=(0,t.OE)(Y)}get minBufferPx(){return this._minBufferPx}set minBufferPx(Y){this._minBufferPx=(0,t.OE)(Y)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(Y){this._maxBufferPx=(0,t.OE)(Y)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(ye){return new(ye||N)};static#t=this.\u0275dir=n.FsC({type:N,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[n.Jv_([{provide:ae,useFactory:Me,deps:[(0,n.Rfq)(()=>N)]}]),n.OA$]})}return N})(),lt=(()=>{class N{constructor(Y,ye,Ze){this._ngZone=Y,this._platform=ye,this._scrolled=new f.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ze}register(Y){this.scrollContainers.has(Y)||this.scrollContainers.set(Y,Y.elementScrolled().subscribe(()=>this._scrolled.next(Y)))}deregister(Y){const ye=this.scrollContainers.get(Y);ye&&(ye.unsubscribe(),this.scrollContainers.delete(Y))}scrolled(Y=20){return this._platform.isBrowser?new b.c(ye=>{this._globalSubscription||this._addGlobalListener();const Ze=Y>0?this._scrolled.pipe(F(Y)).subscribe(ye):this._scrolled.subscribe(ye);return this._scrolledCount++,()=>{Ze.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Y,ye)=>this.deregister(ye)),this._scrolled.complete()}ancestorScrolled(Y,ye){const Ze=this.getAncestorScrollContainers(Y);return this.scrolled(ye).pipe((0,P.p)(Ft=>!Ft||Ze.indexOf(Ft)>-1))}getAncestorScrollContainers(Y){const ye=[];return this.scrollContainers.forEach((Ze,Ft)=>{this._scrollableContainsElement(Ft,Y)&&ye.push(Ft)}),ye}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Y,ye){let Ze=(0,t.i8)(ye),Ft=Y.getElementRef().nativeElement;do{if(Ze==Ft)return!0}while(Ze=Ze.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Y=this._getWindow();return(0,C.R)(Y.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(ye){return new(ye||N)(n.KVO(n.SKi),n.KVO(z.OD),n.KVO(w.qQ,8))};static#t=this.\u0275prov=n.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})(),nt=(()=>{class N{constructor(Y,ye,Ze,Ft){this.elementRef=Y,this.scrollDispatcher=ye,this.ngZone=Ze,this.dir=Ft,this._destroyed=new f.B7,this._elementScrolled=new b.c(sn=>this.ngZone.runOutsideAngular(()=>(0,C.R)(this.elementRef.nativeElement,"scroll").pipe((0,k.Q)(this._destroyed)).subscribe(sn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Y){const ye=this.elementRef.nativeElement,Ze=this.dir&&"rtl"==this.dir.value;null==Y.left&&(Y.left=Ze?Y.end:Y.start),null==Y.right&&(Y.right=Ze?Y.start:Y.end),null!=Y.bottom&&(Y.top=ye.scrollHeight-ye.clientHeight-Y.bottom),Ze&&(0,z.BD)()!=z.r5.NORMAL?(null!=Y.left&&(Y.right=ye.scrollWidth-ye.clientWidth-Y.left),(0,z.BD)()==z.r5.INVERTED?Y.left=Y.right:(0,z.BD)()==z.r5.NEGATED&&(Y.left=Y.right?-Y.right:Y.right)):null!=Y.right&&(Y.left=ye.scrollWidth-ye.clientWidth-Y.right),this._applyScrollToOptions(Y)}_applyScrollToOptions(Y){const ye=this.elementRef.nativeElement;(0,z.CZ)()?ye.scrollTo(Y):(null!=Y.top&&(ye.scrollTop=Y.top),null!=Y.left&&(ye.scrollLeft=Y.left))}measureScrollOffset(Y){const ye="left",Ft=this.elementRef.nativeElement;if("top"==Y)return Ft.scrollTop;if("bottom"==Y)return Ft.scrollHeight-Ft.clientHeight-Ft.scrollTop;const sn=this.dir&&"rtl"==this.dir.value;return"start"==Y?Y=sn?"right":ye:"end"==Y&&(Y=sn?ye:"right"),sn&&(0,z.BD)()==z.r5.INVERTED?Y==ye?Ft.scrollWidth-Ft.clientWidth-Ft.scrollLeft:Ft.scrollLeft:sn&&(0,z.BD)()==z.r5.NEGATED?Y==ye?Ft.scrollLeft+Ft.scrollWidth-Ft.clientWidth:-Ft.scrollLeft:Y==ye?Ft.scrollLeft:Ft.scrollWidth-Ft.clientWidth-Ft.scrollLeft}static#e=this.\u0275fac=function(ye){return new(ye||N)(n.rXU(n.aKT),n.rXU(lt),n.rXU(n.SKi),n.rXU(j.dS,8))};static#t=this.\u0275dir=n.FsC({type:N,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return N})(),Ie=(()=>{class N{constructor(Y,ye,Ze){this._platform=Y,this._change=new f.B7,this._changeListener=Ft=>{this._change.next(Ft)},this._document=Ze,ye.runOutsideAngular(()=>{if(Y.isBrowser){const Ft=this._getWindow();Ft.addEventListener("resize",this._changeListener),Ft.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Y=this._getWindow();Y.removeEventListener("resize",this._changeListener),Y.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Y={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Y}getViewportRect(){const Y=this.getViewportScrollPosition(),{width:ye,height:Ze}=this.getViewportSize();return{top:Y.top,left:Y.left,bottom:Y.top+Ze,right:Y.left+ye,height:Ze,width:ye}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Y=this._document,ye=this._getWindow(),Ze=Y.documentElement,Ft=Ze.getBoundingClientRect();return{top:-Ft.top||Y.body.scrollTop||ye.scrollY||Ze.scrollTop||0,left:-Ft.left||Y.body.scrollLeft||ye.scrollX||Ze.scrollLeft||0}}change(Y=20){return Y>0?this._change.pipe(F(Y)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Y=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Y.innerWidth,height:Y.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(ye){return new(ye||N)(n.KVO(z.OD),n.KVO(n.SKi),n.KVO(w.qQ,8))};static#t=this.\u0275prov=n.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const me=new n.nKC("VIRTUAL_SCROLLABLE");let De=(()=>{class N extends nt{constructor(Y,ye,Ze,Ft){super(Y,ye,Ze,Ft)}measureViewportSize(Y){const ye=this.elementRef.nativeElement;return"horizontal"===Y?ye.clientWidth:ye.clientHeight}static#e=this.\u0275fac=function(ye){return new(ye||N)(n.rXU(n.aKT),n.rXU(lt),n.rXU(n.SKi),n.rXU(j.dS,8))};static#t=this.\u0275dir=n.FsC({type:N,features:[n.Vt3]})}return N})();const Qe=typeof requestAnimationFrame<"u"?O:E.$;let Ne=(()=>{class N extends De{get orientation(){return this._orientation}set orientation(Y){this._orientation!==Y&&(this._orientation=Y,this._calculateSpacerSize())}constructor(Y,ye,Ze,Ft,sn,_n,Rt,en){super(Y,_n,Ze,sn),this.elementRef=Y,this._changeDetectorRef=ye,this._scrollStrategy=Ft,this.scrollable=en,this._platform=(0,n.WQX)(z.OD),this._detachedSubject=new f.B7,this._renderedRangeSubject=new f.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new b.c(ht=>this._scrollStrategy.scrolledIndexChange.subscribe(pt=>Promise.resolve().then(()=>this.ngZone.run(()=>ht.next(pt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=u.y.EMPTY,this._injector=(0,n.WQX)(n.zZn),this._isDestroyed=!1,this._viewportChanges=Rt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,V.Z)(null),F(0,Qe),(0,k.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(Y){this.ngZone.runOutsideAngular(()=>{this._forOf=Y,this._forOf.dataStream.pipe((0,k.Q)(this._detachedSubject)).subscribe(ye=>{const Ze=ye.length;Ze!==this._dataLength&&(this._dataLength=Ze,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(Y){return this.getElementRef().nativeElement.getBoundingClientRect()[Y]}setTotalContentSize(Y){this._totalContentSize!==Y&&(this._totalContentSize=Y,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(Y){(function ke(N,ie){return N.start==ie.start&&N.end==ie.end})(this._renderedRange,Y)||(this.appendOnly&&(Y={start:0,end:Math.max(this._renderedRange.end,Y.end)}),this._renderedRangeSubject.next(this._renderedRange=Y),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(Y,ye="to-start"){Y=this.appendOnly&&"to-start"===ye?0:Y;const Ft="horizontal"==this.orientation,sn=Ft?"X":"Y";let Rt=`translate${sn}(${Number((Ft&&this.dir&&"rtl"==this.dir.value?-1:1)*Y)}px)`;this._renderedContentOffset=Y,"to-end"===ye&&(Rt+=` translate${sn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Rt&&(this._renderedContentTransform=Rt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(Y,ye="auto"){const Ze={behavior:ye};"horizontal"===this.orientation?Ze.start=Y:Ze.top=Y,this.scrollable.scrollTo(Ze)}scrollToIndex(Y,ye="auto"){this._scrollStrategy.scrollToIndex(Y,ye)}measureScrollOffset(Y){let ye;return ye=this.scrollable==this?Ze=>super.measureScrollOffset(Ze):Ze=>this.scrollable.measureScrollOffset(Ze),Math.max(0,ye(Y??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(Y){let ye;const sn="rtl"==this.dir?.value;ye="start"==Y?sn?"right":"left":"end"==Y?sn?"left":"right":Y||("horizontal"===this.orientation?"left":"top");const _n=this.scrollable.measureBoundingClientRectWithScrollOffset(ye);return this.elementRef.nativeElement.getBoundingClientRect()[ye]-_n}measureRenderedContentSize(){const Y=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?Y.offsetWidth:Y.offsetHeight}measureRangeSize(Y){return this._forOf?this._forOf.measureRangeSize(Y,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(Y){Y&&this._runAfterChangeDetection.push(Y),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,n.mal)(()=>{this._isChangeDetectionPending=!1;const Y=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ye of Y)ye()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(ye){return new(ye||N)(n.rXU(n.aKT),n.rXU(n.gRc),n.rXU(n.SKi),n.rXU(ae,8),n.rXU(j.dS,8),n.rXU(lt),n.rXU(Ie),n.rXU(me,8))};static#t=this.\u0275cmp=n.VBU({type:N,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(ye,Ze){if(1&ye&&n.GBs(ne,7),2&ye){let Ft;n.mGM(Ft=n.lsd())&&(Ze._contentWrapper=Ft.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(ye,Ze){2&ye&&n.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Ze.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Ze.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",n.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[n.Jv_([{provide:nt,useFactory:(Y,ye)=>Y||ye,deps:[[new n.Xx1,new n.y_5(me)],N]}]),n.GFd,n.Vt3,n.aNF],ngContentSelectors:fe,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(ye,Ze){1&ye&&(n.NAR(),n.j41(0,"div",1,0),n.SdG(2),n.k0s(),n.nrm(3,"div",2)),2&ye&&(n.R7$(3),n.xc7("width",Ze._totalContentWidth)("height",Ze._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return N})();function at(N,ie,Y){if(!Y.getBoundingClientRect)return 0;const Ze=Y.getBoundingClientRect();return"horizontal"===N?"start"===ie?Ze.left:Ze.right:"start"===ie?Ze.top:Ze.bottom}let Lt=(()=>{class N{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(Y){this._cdkVirtualForOf=Y,(0,W.y4)(Y)?this._dataSourceChanges.next(Y):this._dataSourceChanges.next(new W.hx((0,M.A)(Y)?Y:Array.from(Y||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(Y){this._needsUpdate=!0,this._cdkVirtualForTrackBy=Y?(ye,Ze)=>Y(ye+(this._renderedRange?this._renderedRange.start:0),Ze):void 0}set cdkVirtualForTemplate(Y){Y&&(this._needsUpdate=!0,this._template=Y)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(Y){this._viewRepeater.viewCacheSize=(0,t.OE)(Y)}constructor(Y,ye,Ze,Ft,sn,_n){this._viewContainerRef=Y,this._template=ye,this._differs=Ze,this._viewRepeater=Ft,this._viewport=sn,this.viewChange=new f.B7,this._dataSourceChanges=new f.B7,this.dataStream=this._dataSourceChanges.pipe((0,V.Z)(null),function X(){return N=>N.lift(new Q)}(),(0,se.n)(([Rt,en])=>this._changeDataSource(Rt,en)),(0,ce.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new f.B7,this.dataStream.subscribe(Rt=>{this._data=Rt,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,k.Q)(this._destroyed)).subscribe(Rt=>{this._renderedRange=Rt,this.viewChange.observers.length&&_n.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(Y,ye){if(Y.start>=Y.end)return 0;const Ze=Y.start-this._renderedRange.start,Ft=Y.end-Y.start;let sn,_n;for(let Rt=0;Rt<Ft;Rt++){const en=this._viewContainerRef.get(Rt+Ze);if(en&&en.rootNodes.length){sn=_n=en.rootNodes[0];break}}for(let Rt=Ft-1;Rt>-1;Rt--){const en=this._viewContainerRef.get(Rt+Ze);if(en&&en.rootNodes.length){_n=en.rootNodes[en.rootNodes.length-1];break}}return sn&&_n?at(ye,"end",_n)-at(ye,"start",sn):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const Y=this._differ.diff(this._renderedItems);Y?this._applyChanges(Y):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((Y,ye)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(Y,ye):ye)),this._needsUpdate=!0)}_changeDataSource(Y,ye){return Y&&Y.disconnect(this),this._needsUpdate=!0,ye?ye.connect(this):(0,v.of)()}_updateContext(){const Y=this._data.length;let ye=this._viewContainerRef.length;for(;ye--;){const Ze=this._viewContainerRef.get(ye);Ze.context.index=this._renderedRange.start+ye,Ze.context.count=Y,this._updateComputedContextProperties(Ze.context),Ze.detectChanges()}}_applyChanges(Y){this._viewRepeater.applyChanges(Y,this._viewContainerRef,(Ft,sn,_n)=>this._getEmbeddedViewArgs(Ft,_n),Ft=>Ft.item),Y.forEachIdentityChange(Ft=>{this._viewContainerRef.get(Ft.currentIndex).context.$implicit=Ft.item});const ye=this._data.length;let Ze=this._viewContainerRef.length;for(;Ze--;){const Ft=this._viewContainerRef.get(Ze);Ft.context.index=this._renderedRange.start+Ze,Ft.context.count=ye,this._updateComputedContextProperties(Ft.context)}}_updateComputedContextProperties(Y){Y.first=0===Y.index,Y.last=Y.index===Y.count-1,Y.even=Y.index%2==0,Y.odd=!Y.even}_getEmbeddedViewArgs(Y,ye){return{templateRef:this._template,context:{$implicit:Y.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:ye}}static#e=this.\u0275fac=function(ye){return new(ye||N)(n.rXU(n.c1b),n.rXU(n.C4Q),n.rXU(n._q3),n.rXU(W.sL),n.rXU(Ne,4),n.rXU(n.SKi))};static#t=this.\u0275dir=n.FsC({type:N,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[n.Jv_([{provide:W.sL,useClass:W.DQ}])]})}return N})(),Se=(()=>{class N{static#e=this.\u0275fac=function(ye){return new(ye||N)};static#t=this.\u0275mod=n.$C({type:N});static#n=this.\u0275inj=n.G2t({})}return N})(),ve=(()=>{class N{static#e=this.\u0275fac=function(ye){return new(ye||N)};static#t=this.\u0275mod=n.$C({type:N});static#n=this.\u0275inj=n.G2t({imports:[j.jI,Se,j.jI,Se]})}return N})()},5887:(At,ue,a)=>{"use strict";a.d(ue,{AL:()=>P,EZ:()=>L,I8:()=>ne,L_:()=>F,N0:()=>sn,RT:()=>Se,Rk:()=>ie,To:()=>de,VP:()=>X,Y$:()=>ae,ZM:()=>Ne,c7:()=>K,cO:()=>$,df:()=>j,hc:()=>Ae,hi:()=>w,ki:()=>Ze,lH:()=>Ot,lQ:()=>se,n5:()=>R,oh:()=>W,pe:()=>Kt,sY:()=>V,u4:()=>Me,wA:()=>fe,yT:()=>Lt});var t=a(8203),n=a(5024),f=a(6860),v=a(494),b=a(177),C=a(3953),g=a(5286),S=a(9928),h=a(8982),y=a(4421),O=a(7605);const m=[[["caption"]],[["colgroup"],["col"]],"*"],E=["caption","colgroup, col","*"];function u(Rt,en){1&Rt&&C.SdG(0,2)}function M(Rt,en){1&Rt&&(C.j41(0,"thead",0),C.eu8(1,1),C.k0s(),C.j41(2,"tbody",0),C.eu8(3,2)(4,3),C.k0s(),C.j41(5,"tfoot",0),C.eu8(6,4),C.k0s())}function x(Rt,en){1&Rt&&C.eu8(0,1)(1,2)(2,3)(3,4)}function D(Rt,en){if(1&Rt&&(C.j41(0,"th",3),C.EFF(1),C.k0s()),2&Rt){const ht=C.XpG();C.xc7("text-align",ht.justify),C.R7$(),C.SpI(" ",ht.headerText," ")}}function A(Rt,en){if(1&Rt&&(C.j41(0,"td",4),C.EFF(1),C.k0s()),2&Rt){const ht=en.$implicit,pt=C.XpG();C.xc7("text-align",pt.justify),C.R7$(),C.SpI(" ",pt.dataAccessor(ht,pt.name)," ")}}const L=new C.nKC("CDK_TABLE"),l=new C.nKC("text-column-options");let $=(()=>{class Rt{constructor(ht){this.template=ht}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkCellDef",""]],standalone:!0})}return Rt})(),R=(()=>{class Rt{constructor(ht){this.template=ht}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Rt})(),F=(()=>{class Rt{constructor(ht){this.template=ht}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Rt})(),P=(()=>{class Rt{get name(){return this._name}set name(ht){this._setNameInput(ht)}get sticky(){return this._sticky}set sticky(ht){ht!==this._sticky&&(this._sticky=ht,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(ht){ht!==this._stickyEnd&&(this._stickyEnd=ht,this._hasStickyChanged=!0)}constructor(ht){this._table=ht,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const ht=this._hasStickyChanged;return this.resetStickyChanged(),ht}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(ht){ht&&(this._name=ht,this.cssClassFriendlyName=ht.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(L,8))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkColumnDef",""]],contentQueries:function(pt,Ct,Mt){if(1&pt&&(C.wni(Mt,$,5),C.wni(Mt,R,5),C.wni(Mt,F,5)),2&pt){let $t;C.mGM($t=C.lsd())&&(Ct.cell=$t.first),C.mGM($t=C.lsd())&&(Ct.headerCell=$t.first),C.mGM($t=C.lsd())&&(Ct.footerCell=$t.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",C.L39],stickyEnd:[2,"stickyEnd","stickyEnd",C.L39]},standalone:!0,features:[C.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Rt}]),C.GFd]})}return Rt})();class k{constructor(en,ht){ht.nativeElement.classList.add(...en._columnCssClassName)}}let V=(()=>{class Rt extends k{constructor(ht,pt){super(ht,pt)}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(P),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[C.Vt3]})}return Rt})(),K=(()=>{class Rt extends k{constructor(ht,pt){super(ht,pt);const Ct=ht._table?._getCellRole();Ct&&pt.nativeElement.setAttribute("role",Ct)}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(P),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[C.Vt3]})}return Rt})(),X=(()=>{class Rt extends k{constructor(ht,pt){super(ht,pt);const Ct=ht._table?._getCellRole();Ct&&pt.nativeElement.setAttribute("role",Ct)}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(P),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[C.Vt3]})}return Rt})();class Q{constructor(){this.tasks=[],this.endTasks=[]}}const de=new C.nKC("_COALESCED_STYLE_SCHEDULER");let se=(()=>{class Rt{constructor(ht){this._currentSchedule=null,this._ngZone=(0,C.WQX)(C.SKi)}schedule(ht){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(ht)}scheduleEnd(ht){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(ht)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Q,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const ht=this._currentSchedule;this._currentSchedule=new Q;for(const pt of ht.tasks)pt();for(const pt of ht.endTasks)pt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.KVO(C.SKi))};static#t=this.\u0275prov=C.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})(),z=(()=>{class Rt{constructor(ht,pt){this.template=ht,this._differs=pt}ngOnChanges(ht){if(!this._columnsDiffer){const pt=ht.columns&&ht.columns.currentValue||[];this._columnsDiffer=this._differs.find(pt).create(),this._columnsDiffer.diff(pt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(ht){return this instanceof w?ht.headerCell.template:this instanceof j?ht.footerCell.template:ht.cell.template}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q),C.rXU(C._q3))};static#t=this.\u0275dir=C.FsC({type:Rt,features:[C.OA$]})}return Rt})(),w=(()=>{class Rt extends z{get sticky(){return this._sticky}set sticky(ht){ht!==this._sticky&&(this._sticky=ht,this._hasStickyChanged=!0)}constructor(ht,pt,Ct){super(ht,pt),this._table=Ct,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(ht){super.ngOnChanges(ht)}hasStickyChanged(){const ht=this._hasStickyChanged;return this.resetStickyChanged(),ht}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q),C.rXU(C._q3),C.rXU(L,8))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",C.L39]},standalone:!0,features:[C.GFd,C.Vt3,C.OA$]})}return Rt})(),j=(()=>{class Rt extends z{get sticky(){return this._sticky}set sticky(ht){ht!==this._sticky&&(this._sticky=ht,this._hasStickyChanged=!0)}constructor(ht,pt,Ct){super(ht,pt),this._table=Ct,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(ht){super.ngOnChanges(ht)}hasStickyChanged(){const ht=this._hasStickyChanged;return this.resetStickyChanged(),ht}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q),C.rXU(C._q3),C.rXU(L,8))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",C.L39]},standalone:!0,features:[C.GFd,C.Vt3,C.OA$]})}return Rt})(),W=(()=>{class Rt extends z{constructor(ht,pt,Ct){super(ht,pt),this._table=Ct}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q),C.rXU(C._q3),C.rXU(L,8))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[C.Vt3]})}return Rt})(),ne=(()=>{class Rt{static#e=this.mostRecentCellOutlet=null;constructor(ht){this._viewContainer=ht,Rt.mostRecentCellOutlet=this}ngOnDestroy(){Rt.mostRecentCellOutlet===this&&(Rt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.c1b))};static#n=this.\u0275dir=C.FsC({type:Rt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Rt})(),fe=(()=>{class Rt{static#e=this.\u0275fac=function(pt){return new(pt||Rt)};static#t=this.\u0275cmp=C.VBU({type:Rt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[C.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,Ct){1&pt&&C.eu8(0,0)},dependencies:[ne],encapsulation:2})}return Rt})(),ae=(()=>{class Rt{static#e=this.\u0275fac=function(pt){return new(pt||Rt)};static#t=this.\u0275cmp=C.VBU({type:Rt,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[C.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,Ct){1&pt&&C.eu8(0,0)},dependencies:[ne],encapsulation:2})}return Rt})(),Ae=(()=>{class Rt{static#e=this.\u0275fac=function(pt){return new(pt||Rt)};static#t=this.\u0275cmp=C.VBU({type:Rt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[C.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,Ct){1&pt&&C.eu8(0,0)},dependencies:[ne],encapsulation:2})}return Rt})(),Me=(()=>{class Rt{constructor(ht){this.templateRef=ht,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Rt})();const Ve=["top","bottom","left","right"];class We{constructor(en,ht,pt,Ct,Mt=!0,$t=!0,nn){this._isNativeHtmlTable=en,this._stickCellCss=ht,this.direction=pt,this._coalescedStyleScheduler=Ct,this._isBrowser=Mt,this._needsPositionStickyOnElement=$t,this._positionListener=nn,this._cachedCellWidths=[],this._borderCellCss={top:`${ht}-border-elem-top`,bottom:`${ht}-border-elem-bottom`,left:`${ht}-border-elem-left`,right:`${ht}-border-elem-right`}}clearStickyPositioning(en,ht){const pt=[];for(const Ct of en)if(Ct.nodeType===Ct.ELEMENT_NODE){pt.push(Ct);for(let Mt=0;Mt<Ct.children.length;Mt++)pt.push(Ct.children[Mt])}this._coalescedStyleScheduler.schedule(()=>{for(const Ct of pt)this._removeStickyStyle(Ct,ht)})}updateStickyColumns(en,ht,pt,Ct=!0){en.length&&this._isBrowser&&(ht.some(Mt=>Mt)||pt.some(Mt=>Mt))?this._coalescedStyleScheduler.schedule(()=>{const Mt=en[0],$t=Mt.children.length,nn=this._getCellWidths(Mt,Ct),Sn=this._getStickyStartColumnPositions(nn,ht),In=this._getStickyEndColumnPositions(nn,pt),Fn=ht.lastIndexOf(!0),$n=pt.indexOf(!0),ut="rtl"===this.direction,Pe=ut?"right":"left",je=ut?"left":"right";for(const Te of en)for(let Ye=0;Ye<$t;Ye++){const Tt=Te.children[Ye];ht[Ye]&&this._addStickyStyle(Tt,Pe,Sn[Ye],Ye===Fn),pt[Ye]&&this._addStickyStyle(Tt,je,In[Ye],Ye===$n)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Fn?[]:nn.slice(0,Fn+1).map((Te,Ye)=>ht[Ye]?Te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===$n?[]:nn.slice($n).map((Te,Ye)=>pt[Ye+$n]?Te:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(en,ht,pt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const Ct="bottom"===pt?en.slice().reverse():en,Mt="bottom"===pt?ht.slice().reverse():ht,$t=[],nn=[],Sn=[];for(let Fn=0,$n=0;Fn<Ct.length;Fn++){if(!Mt[Fn])continue;$t[Fn]=$n;const ut=Ct[Fn];Sn[Fn]=this._isNativeHtmlTable?Array.from(ut.children):[ut];const Pe=ut.getBoundingClientRect().height;$n+=Pe,nn[Fn]=Pe}const In=Mt.lastIndexOf(!0);for(let Fn=0;Fn<Ct.length;Fn++){if(!Mt[Fn])continue;const $n=$t[Fn],ut=Fn===In;for(const Pe of Sn[Fn])this._addStickyStyle(Pe,pt,$n,ut)}"top"===pt?this._positionListener?.stickyHeaderRowsUpdated({sizes:nn,offsets:$t,elements:Sn}):this._positionListener?.stickyFooterRowsUpdated({sizes:nn,offsets:$t,elements:Sn})})}updateStickyFooterContainer(en,ht){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const pt=en.querySelector("tfoot");pt&&(ht.some(Ct=>!Ct)?this._removeStickyStyle(pt,["bottom"]):this._addStickyStyle(pt,"bottom",0,!1))})}_removeStickyStyle(en,ht){for(const Ct of ht)en.style[Ct]="",en.classList.remove(this._borderCellCss[Ct]);Ve.some(Ct=>-1===ht.indexOf(Ct)&&en.style[Ct])?en.style.zIndex=this._getCalculatedZIndex(en):(en.style.zIndex="",this._needsPositionStickyOnElement&&(en.style.position=""),en.classList.remove(this._stickCellCss))}_addStickyStyle(en,ht,pt,Ct){en.classList.add(this._stickCellCss),Ct&&en.classList.add(this._borderCellCss[ht]),en.style[ht]=`${pt}px`,en.style.zIndex=this._getCalculatedZIndex(en),this._needsPositionStickyOnElement&&(en.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(en){const ht={top:100,bottom:10,left:1,right:1};let pt=0;for(const Ct of Ve)en.style[Ct]&&(pt+=ht[Ct]);return pt?`${pt}`:""}_getCellWidths(en,ht=!0){if(!ht&&this._cachedCellWidths.length)return this._cachedCellWidths;const pt=[],Ct=en.children;for(let Mt=0;Mt<Ct.length;Mt++)pt.push(Ct[Mt].getBoundingClientRect().width);return this._cachedCellWidths=pt,pt}_getStickyStartColumnPositions(en,ht){const pt=[];let Ct=0;for(let Mt=0;Mt<en.length;Mt++)ht[Mt]&&(pt[Mt]=Ct,Ct+=en[Mt]);return pt}_getStickyEndColumnPositions(en,ht){const pt=[];let Ct=0;for(let Mt=en.length;Mt>0;Mt--)ht[Mt]&&(pt[Mt]=Ct,Ct+=en[Mt]);return pt}}const Ne=new C.nKC("CDK_SPL");let Lt=(()=>{class Rt{constructor(ht,pt){this.viewContainer=ht,this.elementRef=pt;const Ct=(0,C.WQX)(L);Ct._rowOutlet=this,Ct._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","rowOutlet",""]],standalone:!0})}return Rt})(),Kt=(()=>{class Rt{constructor(ht,pt){this.viewContainer=ht,this.elementRef=pt;const Ct=(0,C.WQX)(L);Ct._headerRowOutlet=this,Ct._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Rt})(),Ot=(()=>{class Rt{constructor(ht,pt){this.viewContainer=ht,this.elementRef=pt;const Ct=(0,C.WQX)(L);Ct._footerRowOutlet=this,Ct._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Rt})(),Se=(()=>{class Rt{constructor(ht,pt){this.viewContainer=ht,this.elementRef=pt;const Ct=(0,C.WQX)(L);Ct._noDataRowOutlet=this,Ct._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:Rt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Rt})(),ie=(()=>{class Rt{_getCellRole(){if(void 0===this._cellRoleInternal){const ht=this._elementRef.nativeElement.getAttribute("role"),pt="grid"===ht||"treegrid"===ht?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===pt?null:pt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(ht){this._trackByFn=ht}get dataSource(){return this._dataSource}set dataSource(ht){this._dataSource!==ht&&this._switchDataSource(ht)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(ht){this._multiTemplateDataRows=ht,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(ht){this._fixedLayout=ht,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(ht,pt,Ct,Mt,$t,nn,Sn,In,Fn,$n,ut,Pe){this._differs=ht,this._changeDetectorRef=pt,this._elementRef=Ct,this._dir=$t,this._platform=Sn,this._viewRepeater=In,this._coalescedStyleScheduler=Fn,this._viewportRuler=$n,this._stickyPositioningListener=ut,this._onDestroy=new g.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new C.bkB,this.viewChange=new S.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,C.WQX)(C.zZn),Mt||Ct.nativeElement.setAttribute("role","table"),this._document=nn,this._isServer=!Sn.isBrowser,this._isNativeHtmlTable="TABLE"===Ct.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((ht,pt)=>this.trackBy?this.trackBy(pt.dataIndex,pt.data):pt),this._viewportRuler.change().pipe((0,O.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(ht=>{ht?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const ht=this._dataDiffer.diff(this._renderRows);if(!ht)return this._updateNoDataRow(),void this.contentChanged.next();const pt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(ht,pt,(Ct,Mt,$t)=>this._getEmbeddedViewArgs(Ct.item,$t),Ct=>Ct.item.data,Ct=>{Ct.operation===n.Q3.INSERTED&&Ct.context&&this._renderCellTemplateForItem(Ct.record.item.rowDef,Ct.context)}),this._updateRowIndexContext(),ht.forEachIdentityChange(Ct=>{pt.get(Ct.currentIndex).context.$implicit=Ct.item.data}),this._updateNoDataRow(),(0,C.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(ht){this._customColumnDefs.add(ht)}removeColumnDef(ht){this._customColumnDefs.delete(ht)}addRowDef(ht){this._customRowDefs.add(ht)}removeRowDef(ht){this._customRowDefs.delete(ht)}addHeaderRowDef(ht){this._customHeaderRowDefs.add(ht),this._headerRowDefChanged=!0}removeHeaderRowDef(ht){this._customHeaderRowDefs.delete(ht),this._headerRowDefChanged=!0}addFooterRowDef(ht){this._customFooterRowDefs.add(ht),this._footerRowDefChanged=!0}removeFooterRowDef(ht){this._customFooterRowDefs.delete(ht),this._footerRowDefChanged=!0}setNoDataRow(ht){this._customNoDataRow=ht}updateStickyHeaderRowStyles(){const ht=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const Ct=ye(this._headerRowOutlet,"thead");Ct&&(Ct.style.display=ht.length?"":"none")}const pt=this._headerRowDefs.map(Ct=>Ct.sticky);this._stickyStyler.clearStickyPositioning(ht,["top"]),this._stickyStyler.stickRows(ht,pt,"top"),this._headerRowDefs.forEach(Ct=>Ct.resetStickyChanged())}updateStickyFooterRowStyles(){const ht=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const Ct=ye(this._footerRowOutlet,"tfoot");Ct&&(Ct.style.display=ht.length?"":"none")}const pt=this._footerRowDefs.map(Ct=>Ct.sticky);this._stickyStyler.clearStickyPositioning(ht,["bottom"]),this._stickyStyler.stickRows(ht,pt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,pt),this._footerRowDefs.forEach(Ct=>Ct.resetStickyChanged())}updateStickyColumnStyles(){const ht=this._getRenderedRows(this._headerRowOutlet),pt=this._getRenderedRows(this._rowOutlet),Ct=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...ht,...pt,...Ct],["left","right"]),this._stickyColumnStylesNeedReset=!1),ht.forEach((Mt,$t)=>{this._addStickyColumnStyles([Mt],this._headerRowDefs[$t])}),this._rowDefs.forEach(Mt=>{const $t=[];for(let nn=0;nn<pt.length;nn++)this._renderRows[nn].rowDef===Mt&&$t.push(pt[nn]);this._addStickyColumnStyles($t,Mt)}),Ct.forEach((Mt,$t)=>{this._addStickyColumnStyles([Mt],this._footerRowDefs[$t])}),Array.from(this._columnDefsByName.values()).forEach(Mt=>Mt.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const pt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||pt,this._forceRecalculateCellWidths=pt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const ht=[],pt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Ct=0;Ct<this._data.length;Ct++){let Mt=this._data[Ct];const $t=this._getRenderRowsForData(Mt,Ct,pt.get(Mt));this._cachedRenderRowsMap.has(Mt)||this._cachedRenderRowsMap.set(Mt,new WeakMap);for(let nn=0;nn<$t.length;nn++){let Sn=$t[nn];const In=this._cachedRenderRowsMap.get(Sn.data);In.has(Sn.rowDef)?In.get(Sn.rowDef).push(Sn):In.set(Sn.rowDef,[Sn]),ht.push(Sn)}}return ht}_getRenderRowsForData(ht,pt,Ct){return this._getRowDefs(ht,pt).map($t=>{const nn=Ct&&Ct.has($t)?Ct.get($t):[];if(nn.length){const Sn=nn.shift();return Sn.dataIndex=pt,Sn}return{data:ht,rowDef:$t,dataIndex:pt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Y(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(pt=>{this._columnDefsByName.has(pt.name),this._columnDefsByName.set(pt.name,pt)})}_cacheRowDefs(){this._headerRowDefs=Y(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Y(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Y(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const ht=this._rowDefs.filter(pt=>!pt.when);this._defaultRowDef=ht[0]}_renderUpdatedColumns(){const ht=($t,nn)=>$t||!!nn.getColumnsDiff(),pt=this._rowDefs.reduce(ht,!1);pt&&this._forceRenderDataRows();const Ct=this._headerRowDefs.reduce(ht,!1);Ct&&this._forceRenderHeaderRows();const Mt=this._footerRowDefs.reduce(ht,!1);return Mt&&this._forceRenderFooterRows(),pt||Ct||Mt}_switchDataSource(ht){this._data=[],(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),ht||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=ht}_observeRenderChanges(){if(!this.dataSource)return;let ht;(0,n.y4)(this.dataSource)?ht=this.dataSource.connect(this):(0,h.A)(this.dataSource)?ht=this.dataSource:Array.isArray(this.dataSource)&&(ht=(0,y.of)(this.dataSource)),this._renderChangeSubscription=ht.pipe((0,O.Q)(this._onDestroy)).subscribe(pt=>{this._data=pt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((ht,pt)=>this._renderRow(this._headerRowOutlet,ht,pt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((ht,pt)=>this._renderRow(this._footerRowOutlet,ht,pt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(ht,pt){const Ct=Array.from(pt.columns||[]).map(nn=>this._columnDefsByName.get(nn)),Mt=Ct.map(nn=>nn.sticky),$t=Ct.map(nn=>nn.stickyEnd);this._stickyStyler.updateStickyColumns(ht,Mt,$t,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(ht){const pt=[];for(let Ct=0;Ct<ht.viewContainer.length;Ct++){const Mt=ht.viewContainer.get(Ct);pt.push(Mt.rootNodes[0])}return pt}_getRowDefs(ht,pt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Ct=[];if(this.multiTemplateDataRows)Ct=this._rowDefs.filter(Mt=>!Mt.when||Mt.when(pt,ht));else{let Mt=this._rowDefs.find($t=>$t.when&&$t.when(pt,ht))||this._defaultRowDef;Mt&&Ct.push(Mt)}return Ct}_getEmbeddedViewArgs(ht,pt){return{templateRef:ht.rowDef.template,context:{$implicit:ht.data},index:pt}}_renderRow(ht,pt,Ct,Mt={}){const $t=ht.viewContainer.createEmbeddedView(pt.template,Mt,Ct);return this._renderCellTemplateForItem(pt,Mt),$t}_renderCellTemplateForItem(ht,pt){for(let Ct of this._getCellTemplates(ht))ne.mostRecentCellOutlet&&ne.mostRecentCellOutlet._viewContainer.createEmbeddedView(Ct,pt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const ht=this._rowOutlet.viewContainer;for(let pt=0,Ct=ht.length;pt<Ct;pt++){const $t=ht.get(pt).context;$t.count=Ct,$t.first=0===pt,$t.last=pt===Ct-1,$t.even=pt%2==0,$t.odd=!$t.even,this.multiTemplateDataRows?($t.dataIndex=this._renderRows[pt].dataIndex,$t.renderIndex=pt):$t.index=this._renderRows[pt].dataIndex}}_getCellTemplates(ht){return ht&&ht.columns?Array.from(ht.columns,pt=>{const Ct=this._columnDefsByName.get(pt);return ht.extractCellTemplate(Ct)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const ht=(pt,Ct)=>pt||Ct.hasStickyChanged();this._headerRowDefs.reduce(ht,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(ht,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(ht,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new We(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,y.of)()).pipe((0,O.Q)(this._onDestroy)).subscribe(pt=>{this._stickyStyler.direction=pt,this.updateStickyColumnStyles()})}_getOwnDefs(ht){return ht.filter(pt=>!pt._table||pt._table===this)}_updateNoDataRow(){const ht=this._customNoDataRow||this._noDataRow;if(!ht)return;const pt=0===this._rowOutlet.viewContainer.length;if(pt===this._isShowingNoDataRow)return;const Ct=this._noDataRowOutlet.viewContainer;if(pt){const Mt=Ct.createEmbeddedView(ht.templateRef),$t=Mt.rootNodes[0];1===Mt.rootNodes.length&&$t?.nodeType===this._document.ELEMENT_NODE&&($t.setAttribute("role","row"),$t.classList.add(ht._contentClassName))}else Ct.clear();this._isShowingNoDataRow=pt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(C._q3),C.rXU(C.gRc),C.rXU(C.aKT),C.kS0("role"),C.rXU(t.dS,8),C.rXU(b.qQ),C.rXU(f.OD),C.rXU(n.sL),C.rXU(de),C.rXU(v.Xj),C.rXU(Ne,12),C.rXU(C.SKi,8))};static#t=this.\u0275cmp=C.VBU({type:Rt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(pt,Ct,Mt){if(1&pt&&(C.wni(Mt,Me,5),C.wni(Mt,P,5),C.wni(Mt,W,5),C.wni(Mt,w,5),C.wni(Mt,j,5)),2&pt){let $t;C.mGM($t=C.lsd())&&(Ct._noDataRow=$t.first),C.mGM($t=C.lsd())&&(Ct._contentColumnDefs=$t),C.mGM($t=C.lsd())&&(Ct._contentRowDefs=$t),C.mGM($t=C.lsd())&&(Ct._contentHeaderRowDefs=$t),C.mGM($t=C.lsd())&&(Ct._contentFooterRowDefs=$t)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(pt,Ct){2&pt&&C.AVh("cdk-table-fixed-layout",Ct.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",C.L39],fixedLayout:[2,"fixedLayout","fixedLayout",C.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[C.Jv_([{provide:L,useExisting:Rt},{provide:n.sL,useClass:n.xn},{provide:de,useClass:se},{provide:Ne,useValue:null}]),C.GFd,C.aNF],ngContentSelectors:E,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(pt,Ct){1&pt&&(C.NAR(m),C.SdG(0),C.SdG(1,1),C.DNE(2,u,1,0)(3,M,7,0)(4,x,4,0)),2&pt&&(C.R7$(2),C.vxM(Ct._isServer?2:-1),C.R7$(),C.vxM(Ct._isNativeHtmlTable?3:4))},dependencies:[Kt,Lt,Se,Ot],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Rt})();function Y(Rt,en){return Rt.concat(Array.from(en))}function ye(Rt,en){const ht=en.toUpperCase();let pt=Rt.viewContainer.element.nativeElement;for(;pt;){const Ct=1===pt.nodeType?pt.nodeName:null;if(Ct===ht)return pt;if("TABLE"===Ct)break;pt=pt.parentNode}return null}let Ze=(()=>{class Rt{get name(){return this._name}set name(ht){this._name=ht,this._syncColumnDefName()}constructor(ht,pt){this._table=ht,this._options=pt,this.justify="start",this._options=pt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((ht,pt)=>ht[pt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const ht=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(ht):ht[0].toUpperCase()+ht.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(pt){return new(pt||Rt)(C.rXU(ie,8),C.rXU(l,8))};static#t=this.\u0275cmp=C.VBU({type:Rt,selectors:[["cdk-text-column"]],viewQuery:function(pt,Ct){if(1&pt&&(C.GBs(P,7),C.GBs($,7),C.GBs(R,7)),2&pt){let Mt;C.mGM(Mt=C.lsd())&&(Ct.columnDef=Mt.first),C.mGM(Mt=C.lsd())&&(Ct.cell=Mt.first),C.mGM(Mt=C.lsd())&&(Ct.headerCell=Mt.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[C.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(pt,Ct){1&pt&&(C.qex(0,0),C.DNE(1,D,2,3,"th",1)(2,A,2,3,"td",2),C.bVm())},dependencies:[P,R,V,$,X],encapsulation:2})}return Rt})(),sn=(()=>{class Rt{static#e=this.\u0275fac=function(pt){return new(pt||Rt)};static#t=this.\u0275mod=C.$C({type:Rt});static#n=this.\u0275inj=C.G2t({imports:[v.E9]})}return Rt})()},177:(At,ue,a)=>{"use strict";a.d(ue,{AJ:()=>ji,Jj:()=>ho,MD:()=>Gn,N0:()=>kr,OI:()=>pi,P9:()=>Gt,QT:()=>f,Sm:()=>x,Sq:()=>J,T3:()=>Hn,UE:()=>ls,VF:()=>b,Vy:()=>Vo,Xr:()=>Yr,YU:()=>fi,ZD:()=>v,_b:()=>Po,aZ:()=>A,bT:()=>ze,e1:()=>wi,fG:()=>Oi,fw:()=>D,hb:()=>u,hj:()=>h,oe:()=>Cn,qQ:()=>g,ux:()=>ri,vh:()=>Wr});var t=a(3953);let n=null;function f(){return n}function v(le){n??=le}class b{}const g=new t.nKC("");let S=(()=>{class le{historyGo(Re){throw new Error("")}static#e=this.\u0275fac=function(st){return new(st||le)};static#t=this.\u0275prov=t.jDH({token:le,factory:()=>(0,t.WQX)(y),providedIn:"platform"})}return le})();const h=new t.nKC("");let y=(()=>{class le extends S{constructor(){super(),this._doc=(0,t.WQX)(g),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(Re){const st=f().getGlobalEventTarget(this._doc,"window");return st.addEventListener("popstate",Re,!1),()=>st.removeEventListener("popstate",Re)}onHashChange(Re){const st=f().getGlobalEventTarget(this._doc,"window");return st.addEventListener("hashchange",Re,!1),()=>st.removeEventListener("hashchange",Re)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Re){this._location.pathname=Re}pushState(Re,st,zt){this._history.pushState(Re,st,zt)}replaceState(Re,st,zt){this._history.replaceState(Re,st,zt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Re=0){this._history.go(Re)}getState(){return this._history.state}static#e=this.\u0275fac=function(st){return new(st||le)};static#t=this.\u0275prov=t.jDH({token:le,factory:()=>new le,providedIn:"platform"})}return le})();function O(le,ft){if(0==le.length)return ft;if(0==ft.length)return le;let Re=0;return le.endsWith("/")&&Re++,ft.startsWith("/")&&Re++,2==Re?le+ft.substring(1):1==Re?le+ft:le+"/"+ft}function m(le){const ft=le.match(/#|\?|$/),Re=ft&&ft.index||le.length;return le.slice(0,Re-("/"===le[Re-1]?1:0))+le.slice(Re)}function E(le){return le&&"?"!==le[0]?"?"+le:le}let u=(()=>{class le{historyGo(Re){throw new Error("")}static#e=this.\u0275fac=function(st){return new(st||le)};static#t=this.\u0275prov=t.jDH({token:le,factory:()=>(0,t.WQX)(x),providedIn:"root"})}return le})();const M=new t.nKC("");let x=(()=>{class le extends u{constructor(Re,st){super(),this._platformLocation=Re,this._removeListenerFns=[],this._baseHref=st??this._platformLocation.getBaseHrefFromDOM()??(0,t.WQX)(g).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}prepareExternalUrl(Re){return O(this._baseHref,Re)}path(Re=!1){const st=this._platformLocation.pathname+E(this._platformLocation.search),zt=this._platformLocation.hash;return zt&&Re?`${st}${zt}`:st}pushState(Re,st,zt,bn){const wn=this.prepareExternalUrl(zt+E(bn));this._platformLocation.pushState(Re,st,wn)}replaceState(Re,st,zt,bn){const wn=this.prepareExternalUrl(zt+E(bn));this._platformLocation.replaceState(Re,st,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static#e=this.\u0275fac=function(st){return new(st||le)(t.KVO(S),t.KVO(M,8))};static#t=this.\u0275prov=t.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),D=(()=>{class le extends u{constructor(Re,st){super(),this._platformLocation=Re,this._baseHref="",this._removeListenerFns=[],null!=st&&(this._baseHref=st)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}path(Re=!1){const st=this._platformLocation.hash??"#";return st.length>0?st.substring(1):st}prepareExternalUrl(Re){const st=O(this._baseHref,Re);return st.length>0?"#"+st:st}pushState(Re,st,zt,bn){let wn=this.prepareExternalUrl(zt+E(bn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.pushState(Re,st,wn)}replaceState(Re,st,zt,bn){let wn=this.prepareExternalUrl(zt+E(bn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.replaceState(Re,st,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static#e=this.\u0275fac=function(st){return new(st||le)(t.KVO(S),t.KVO(M,8))};static#t=this.\u0275prov=t.jDH({token:le,factory:le.\u0275fac})}return le})(),A=(()=>{class le{constructor(Re){this._subject=new t.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Re;const st=this._locationStrategy.getBaseHref();this._basePath=function R(le){if(new RegExp("^(https?:)?//").test(le)){const[,Re]=le.split(/\/\/[^\/]+/);return Re}return le}(m($(st))),this._locationStrategy.onPopState(zt=>{this._subject.emit({url:this.path(!0),pop:!0,state:zt.state,type:zt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Re=!1){return this.normalize(this._locationStrategy.path(Re))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Re,st=""){return this.path()==this.normalize(Re+E(st))}normalize(Re){return le.stripTrailingSlash(function l(le,ft){if(!le||!ft.startsWith(le))return ft;const Re=ft.substring(le.length);return""===Re||["/",";","?","#"].includes(Re[0])?Re:ft}(this._basePath,$(Re)))}prepareExternalUrl(Re){return Re&&"/"!==Re[0]&&(Re="/"+Re),this._locationStrategy.prepareExternalUrl(Re)}go(Re,st="",zt=null){this._locationStrategy.pushState(zt,"",Re,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+E(st)),zt)}replaceState(Re,st="",zt=null){this._locationStrategy.replaceState(zt,"",Re,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+E(st)),zt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Re=0){this._locationStrategy.historyGo?.(Re)}onUrlChange(Re){return this._urlChangeListeners.push(Re),this._urlChangeSubscription??=this.subscribe(st=>{this._notifyUrlChangeListeners(st.url,st.state)}),()=>{const st=this._urlChangeListeners.indexOf(Re);this._urlChangeListeners.splice(st,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Re="",st){this._urlChangeListeners.forEach(zt=>zt(Re,st))}subscribe(Re,st,zt){return this._subject.subscribe({next:Re,error:st,complete:zt})}static#e=this.normalizeQueryParams=E;static#t=this.joinWithSlash=O;static#n=this.stripTrailingSlash=m;static#i=this.\u0275fac=function(st){return new(st||le)(t.KVO(u))};static#o=this.\u0275prov=t.jDH({token:le,factory:()=>function L(){return new A((0,t.KVO)(u))}(),providedIn:"root"})}return le})();function $(le){return le.replace(/\/index.html$/,"")}const F={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var P=function(le){return le[le.Decimal=0]="Decimal",le[le.Percent=1]="Percent",le[le.Currency=2]="Currency",le[le.Scientific=3]="Scientific",le}(P||{}),V=function(le){return le[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le}(V||{}),K=function(le){return le[le.Narrow=0]="Narrow",le[le.Abbreviated=1]="Abbreviated",le[le.Wide=2]="Wide",le[le.Short=3]="Short",le}(K||{}),X=function(le){return le[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le}(X||{});const Q={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fe(le,ft){return Ne((0,t.H5H)(le)[t.KH2.DateFormat],ft)}function ae(le,ft){return Ne((0,t.H5H)(le)[t.KH2.TimeFormat],ft)}function Ae(le,ft){return Ne((0,t.H5H)(le)[t.KH2.DateTimeFormat],ft)}function Me(le,ft){const Re=(0,t.H5H)(le),st=Re[t.KH2.NumberSymbols][ft];if(typeof st>"u"){if(ft===Q.CurrencyDecimal)return Re[t.KH2.NumberSymbols][Q.Decimal];if(ft===Q.CurrencyGroup)return Re[t.KH2.NumberSymbols][Q.Group]}return st}function me(le){if(!le[t.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${le[t.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ne(le,ft){for(let Re=ft;Re>-1;Re--)if(typeof le[Re]<"u")return le[Re];throw new Error("Locale data API: locale data undefined")}function at(le){const[ft,Re]=le.split(":");return{hours:+ft,minutes:+Re}}const Se=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ve={},N=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ie=function(le){return le[le.Short=0]="Short",le[le.ShortGMT=1]="ShortGMT",le[le.Long=2]="Long",le[le.Extended=3]="Extended",le}(ie||{}),Y=function(le){return le[le.FullYear=0]="FullYear",le[le.Month=1]="Month",le[le.Date=2]="Date",le[le.Hours=3]="Hours",le[le.Minutes=4]="Minutes",le[le.Seconds=5]="Seconds",le[le.FractionalSeconds=6]="FractionalSeconds",le[le.Day=7]="Day",le}(Y||{}),ye=function(le){return le[le.DayPeriods=0]="DayPeriods",le[le.Days=1]="Days",le[le.Months=2]="Months",le[le.Eras=3]="Eras",le}(ye||{});function Ze(le,ft,Re,st){let zt=function Ut(le){if(Fe(le))return le;if("number"==typeof le&&!isNaN(le))return new Date(le);if("string"==typeof le){if(le=le.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(le)){const[zt,bn=1,wn=1]=le.split("-").map(si=>+si);return Ft(zt,bn-1,wn)}const Re=parseFloat(le);if(!isNaN(le-Re))return new Date(Re);let st;if(st=le.match(Se))return function Ke(le){const ft=new Date(0);let Re=0,st=0;const zt=le[8]?ft.setUTCFullYear:ft.setFullYear,bn=le[8]?ft.setUTCHours:ft.setHours;le[9]&&(Re=Number(le[9]+le[10]),st=Number(le[9]+le[11])),zt.call(ft,Number(le[1]),Number(le[2])-1,Number(le[3]));const wn=Number(le[4]||0)-Re,si=Number(le[5]||0)-st,Go=Number(le[6]||0),Qi=Math.floor(1e3*parseFloat("0."+(le[7]||0)));return bn.call(ft,wn,si,Go,Qi),ft}(st)}const ft=new Date(le);if(!Fe(ft))throw new Error(`Unable to convert "${le}" into a date`);return ft}(le);ft=sn(Re,ft)||ft;let si,wn=[];for(;ft;){if(si=N.exec(ft),!si){wn.push(ft);break}{wn=wn.concat(si.slice(1));const Io=wn.pop();if(!Io)break;ft=Io}}let Go=zt.getTimezoneOffset();st&&(Go=Te(st,Go),zt=function Tt(le,ft,Re){const st=Re?-1:1,zt=le.getTimezoneOffset();return function Ye(le,ft){return(le=new Date(le.getTime())).setMinutes(le.getMinutes()+ft),le}(le,st*(Te(ft,zt)-zt))}(zt,st,!0));let Qi="";return wn.forEach(Io=>{const Nn=function je(le){if(Pe[le])return Pe[le];let ft;switch(le){case"G":case"GG":case"GGG":ft=Ct(ye.Eras,K.Abbreviated);break;case"GGGG":ft=Ct(ye.Eras,K.Wide);break;case"GGGGG":ft=Ct(ye.Eras,K.Narrow);break;case"y":ft=ht(Y.FullYear,1,0,!1,!0);break;case"yy":ft=ht(Y.FullYear,2,0,!0,!0);break;case"yyy":ft=ht(Y.FullYear,3,0,!1,!0);break;case"yyyy":ft=ht(Y.FullYear,4,0,!1,!0);break;case"Y":ft=ut(1);break;case"YY":ft=ut(2,!0);break;case"YYY":ft=ut(3);break;case"YYYY":ft=ut(4);break;case"M":case"L":ft=ht(Y.Month,1,1);break;case"MM":case"LL":ft=ht(Y.Month,2,1);break;case"MMM":ft=Ct(ye.Months,K.Abbreviated);break;case"MMMM":ft=Ct(ye.Months,K.Wide);break;case"MMMMM":ft=Ct(ye.Months,K.Narrow);break;case"LLL":ft=Ct(ye.Months,K.Abbreviated,V.Standalone);break;case"LLLL":ft=Ct(ye.Months,K.Wide,V.Standalone);break;case"LLLLL":ft=Ct(ye.Months,K.Narrow,V.Standalone);break;case"w":ft=$n(1);break;case"ww":ft=$n(2);break;case"W":ft=$n(1,!0);break;case"d":ft=ht(Y.Date,1);break;case"dd":ft=ht(Y.Date,2);break;case"c":case"cc":ft=ht(Y.Day,1);break;case"ccc":ft=Ct(ye.Days,K.Abbreviated,V.Standalone);break;case"cccc":ft=Ct(ye.Days,K.Wide,V.Standalone);break;case"ccccc":ft=Ct(ye.Days,K.Narrow,V.Standalone);break;case"cccccc":ft=Ct(ye.Days,K.Short,V.Standalone);break;case"E":case"EE":case"EEE":ft=Ct(ye.Days,K.Abbreviated);break;case"EEEE":ft=Ct(ye.Days,K.Wide);break;case"EEEEE":ft=Ct(ye.Days,K.Narrow);break;case"EEEEEE":ft=Ct(ye.Days,K.Short);break;case"a":case"aa":case"aaa":ft=Ct(ye.DayPeriods,K.Abbreviated);break;case"aaaa":ft=Ct(ye.DayPeriods,K.Wide);break;case"aaaaa":ft=Ct(ye.DayPeriods,K.Narrow);break;case"b":case"bb":case"bbb":ft=Ct(ye.DayPeriods,K.Abbreviated,V.Standalone,!0);break;case"bbbb":ft=Ct(ye.DayPeriods,K.Wide,V.Standalone,!0);break;case"bbbbb":ft=Ct(ye.DayPeriods,K.Narrow,V.Standalone,!0);break;case"B":case"BB":case"BBB":ft=Ct(ye.DayPeriods,K.Abbreviated,V.Format,!0);break;case"BBBB":ft=Ct(ye.DayPeriods,K.Wide,V.Format,!0);break;case"BBBBB":ft=Ct(ye.DayPeriods,K.Narrow,V.Format,!0);break;case"h":ft=ht(Y.Hours,1,-12);break;case"hh":ft=ht(Y.Hours,2,-12);break;case"H":ft=ht(Y.Hours,1);break;case"HH":ft=ht(Y.Hours,2);break;case"m":ft=ht(Y.Minutes,1);break;case"mm":ft=ht(Y.Minutes,2);break;case"s":ft=ht(Y.Seconds,1);break;case"ss":ft=ht(Y.Seconds,2);break;case"S":ft=ht(Y.FractionalSeconds,1);break;case"SS":ft=ht(Y.FractionalSeconds,2);break;case"SSS":ft=ht(Y.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ft=$t(ie.Short);break;case"ZZZZZ":ft=$t(ie.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ft=$t(ie.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ft=$t(ie.Long);break;default:return null}return Pe[le]=ft,ft}(Io);Qi+=Nn?Nn(zt,Re,Go):"''"===Io?"'":Io.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qi}function Ft(le,ft,Re){const st=new Date(0);return st.setFullYear(le,ft,Re),st.setHours(0,0,0),st}function sn(le,ft){const Re=function se(le){return(0,t.H5H)(le)[t.KH2.LocaleId]}(le);if(ve[Re]??={},ve[Re][ft])return ve[Re][ft];let st="";switch(ft){case"shortDate":st=fe(le,X.Short);break;case"mediumDate":st=fe(le,X.Medium);break;case"longDate":st=fe(le,X.Long);break;case"fullDate":st=fe(le,X.Full);break;case"shortTime":st=ae(le,X.Short);break;case"mediumTime":st=ae(le,X.Medium);break;case"longTime":st=ae(le,X.Long);break;case"fullTime":st=ae(le,X.Full);break;case"short":const zt=sn(le,"shortTime"),bn=sn(le,"shortDate");st=_n(Ae(le,X.Short),[zt,bn]);break;case"medium":const wn=sn(le,"mediumTime"),si=sn(le,"mediumDate");st=_n(Ae(le,X.Medium),[wn,si]);break;case"long":const Go=sn(le,"longTime"),Qi=sn(le,"longDate");st=_n(Ae(le,X.Long),[Go,Qi]);break;case"full":const Io=sn(le,"fullTime"),Nn=sn(le,"fullDate");st=_n(Ae(le,X.Full),[Io,Nn])}return st&&(ve[Re][ft]=st),st}function _n(le,ft){return ft&&(le=le.replace(/\{([^}]+)}/g,function(Re,st){return null!=ft&&st in ft?ft[st]:Re})),le}function Rt(le,ft,Re="-",st,zt){let bn="";(le<0||zt&&le<=0)&&(zt?le=1-le:(le=-le,bn=Re));let wn=String(le);for(;wn.length<ft;)wn="0"+wn;return st&&(wn=wn.slice(wn.length-ft)),bn+wn}function ht(le,ft,Re=0,st=!1,zt=!1){return function(bn,wn){let si=function pt(le,ft){switch(le){case Y.FullYear:return ft.getFullYear();case Y.Month:return ft.getMonth();case Y.Date:return ft.getDate();case Y.Hours:return ft.getHours();case Y.Minutes:return ft.getMinutes();case Y.Seconds:return ft.getSeconds();case Y.FractionalSeconds:return ft.getMilliseconds();case Y.Day:return ft.getDay();default:throw new Error(`Unknown DateType value "${le}".`)}}(le,bn);if((Re>0||si>-Re)&&(si+=Re),le===Y.Hours)0===si&&-12===Re&&(si=12);else if(le===Y.FractionalSeconds)return function en(le,ft){return Rt(le,3).substring(0,ft)}(si,ft);const Go=Me(wn,Q.MinusSign);return Rt(si,ft,Go,st,zt)}}function Ct(le,ft,Re=V.Format,st=!1){return function(zt,bn){return function Mt(le,ft,Re,st,zt,bn){switch(Re){case ye.Months:return function w(le,ft,Re){const st=(0,t.H5H)(le),bn=Ne([st[t.KH2.MonthsFormat],st[t.KH2.MonthsStandalone]],ft);return Ne(bn,Re)}(ft,zt,st)[le.getMonth()];case ye.Days:return function z(le,ft,Re){const st=(0,t.H5H)(le),bn=Ne([st[t.KH2.DaysFormat],st[t.KH2.DaysStandalone]],ft);return Ne(bn,Re)}(ft,zt,st)[le.getDay()];case ye.DayPeriods:const wn=le.getHours(),si=le.getMinutes();if(bn){const Qi=function De(le){const ft=(0,t.H5H)(le);return me(ft),(ft[t.KH2.ExtraData][2]||[]).map(st=>"string"==typeof st?at(st):[at(st[0]),at(st[1])])}(ft),Io=function ke(le,ft,Re){const st=(0,t.H5H)(le);me(st);const bn=Ne([st[t.KH2.ExtraData][0],st[t.KH2.ExtraData][1]],ft)||[];return Ne(bn,Re)||[]}(ft,zt,st),Nn=Qi.findIndex(ao=>{if(Array.isArray(ao)){const[_o,Ro]=ao,_r=wn>=_o.hours&&si>=_o.minutes,da=wn<Ro.hours||wn===Ro.hours&&si<Ro.minutes;if(_o.hours<Ro.hours){if(_r&&da)return!0}else if(_r||da)return!0}else if(ao.hours===wn&&ao.minutes===si)return!0;return!1});if(-1!==Nn)return Io[Nn]}return function ce(le,ft,Re){const st=(0,t.H5H)(le),bn=Ne([st[t.KH2.DayPeriodsFormat],st[t.KH2.DayPeriodsStandalone]],ft);return Ne(bn,Re)}(ft,zt,st)[wn<12?0:1];case ye.Eras:return function j(le,ft){return Ne((0,t.H5H)(le)[t.KH2.Eras],ft)}(ft,st)[le.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Re}`)}}(zt,bn,le,ft,Re,st)}}function $t(le){return function(ft,Re,st){const zt=-1*st,bn=Me(Re,Q.MinusSign),wn=zt>0?Math.floor(zt/60):Math.ceil(zt/60);switch(le){case ie.Short:return(zt>=0?"+":"")+Rt(wn,2,bn)+Rt(Math.abs(zt%60),2,bn);case ie.ShortGMT:return"GMT"+(zt>=0?"+":"")+Rt(wn,1,bn);case ie.Long:return"GMT"+(zt>=0?"+":"")+Rt(wn,2,bn)+":"+Rt(Math.abs(zt%60),2,bn);case ie.Extended:return 0===st?"Z":(zt>=0?"+":"")+Rt(wn,2,bn)+":"+Rt(Math.abs(zt%60),2,bn);default:throw new Error(`Unknown zone width "${le}"`)}}}const nn=0,Sn=4;function Fn(le){const ft=le.getDay(),Re=0===ft?-3:Sn-ft;return Ft(le.getFullYear(),le.getMonth(),le.getDate()+Re)}function $n(le,ft=!1){return function(Re,st){let zt;if(ft){const bn=new Date(Re.getFullYear(),Re.getMonth(),1).getDay()-1,wn=Re.getDate();zt=1+Math.floor((wn+bn)/7)}else{const bn=Fn(Re),wn=function In(le){const ft=Ft(le,nn,1).getDay();return Ft(le,0,1+(ft<=Sn?Sn:Sn+7)-ft)}(bn.getFullYear()),si=bn.getTime()-wn.getTime();zt=1+Math.round(si/6048e5)}return Rt(zt,le,Me(st,Q.MinusSign))}}function ut(le,ft=!1){return function(Re,st){return Rt(Fn(Re).getFullYear(),le,Me(st,Q.MinusSign),ft)}}const Pe={};function Te(le,ft){le=le.replace(/:/g,"");const Re=Date.parse("Jan 01, 1970 00:00:00 "+le)/6e4;return isNaN(Re)?ft:Re}function Fe(le){return le instanceof Date&&!isNaN(le.valueOf())}const Ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,we=22,rt=".",vt="0",on=";",rn=",",Nt="#";function tn(le,ft,Re,st,zt){const wn=function ii(le,ft="-"){const Re={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},st=le.split(on),zt=st[0],bn=st[1],wn=-1!==zt.indexOf(rt)?zt.split(rt):[zt.substring(0,zt.lastIndexOf(vt)+1),zt.substring(zt.lastIndexOf(vt)+1)],si=wn[0],Go=wn[1]||"";Re.posPre=si.substring(0,si.indexOf(Nt));for(let Io=0;Io<Go.length;Io++){const Nn=Go.charAt(Io);Nn===vt?Re.minFrac=Re.maxFrac=Io+1:Nn===Nt?Re.maxFrac=Io+1:Re.posSuf+=Nn}const Qi=si.split(rn);if(Re.gSize=Qi[1]?Qi[1].length:0,Re.lgSize=Qi[2]||Qi[1]?(Qi[2]||Qi[1]).length:0,bn){const Io=zt.length-Re.posPre.length-Re.posSuf.length,Nn=bn.indexOf(Nt);Re.negPre=bn.substring(0,Nn).replace(/'/g,""),Re.negSuf=bn.slice(Nn+Io).replace(/'/g,"")}else Re.negPre=ft+Re.posPre,Re.negSuf=Re.posSuf;return Re}(function Ve(le,ft){return(0,t.H5H)(le)[t.KH2.NumberFormats][ft]}(ft,P.Currency),Me(ft,Q.MinusSign));return wn.minFrac=function Ot(le){let ft;const Re=F[le];return Re&&(ft=Re[2]),"number"==typeof ft?ft:2}(st),wn.maxFrac=wn.minFrac,function Yt(le,ft,Re,st,zt,bn,wn=!1){let si="",Go=!1;if(isFinite(le)){let Qi=function bi(le){let st,zt,bn,wn,si,ft=Math.abs(le)+"",Re=0;for((zt=ft.indexOf(rt))>-1&&(ft=ft.replace(rt,"")),(bn=ft.search(/e/i))>0?(zt<0&&(zt=bn),zt+=+ft.slice(bn+1),ft=ft.substring(0,bn)):zt<0&&(zt=ft.length),bn=0;ft.charAt(bn)===vt;bn++);if(bn===(si=ft.length))st=[0],zt=1;else{for(si--;ft.charAt(si)===vt;)si--;for(zt-=bn,st=[],wn=0;bn<=si;bn++,wn++)st[wn]=Number(ft.charAt(bn))}return zt>we&&(st=st.splice(0,we-1),Re=zt-1,zt=1),{digits:st,exponent:Re,integerLen:zt}}(le);wn&&(Qi=function vi(le){if(0===le.digits[0])return le;const ft=le.digits.length-le.integerLen;return le.exponent?le.exponent+=2:(0===ft?le.digits.push(0,0):1===ft&&le.digits.push(0),le.integerLen+=2),le}(Qi));let Io=ft.minInt,Nn=ft.minFrac,ao=ft.maxFrac;if(bn){const mr=bn.match(Ue);if(null===mr)throw new Error(`${bn} is not a valid digit info`);const ws=mr[1],Ia=mr[3],Oa=mr[5];null!=ws&&(Io=Ai(ws)),null!=Ia&&(Nn=Ai(Ia)),null!=Oa?ao=Ai(Oa):null!=Ia&&Nn>ao&&(ao=Nn)}!function hi(le,ft,Re){if(ft>Re)throw new Error(`The minimum number of digits after fraction (${ft}) is higher than the maximum (${Re}).`);let st=le.digits,zt=st.length-le.integerLen;const bn=Math.min(Math.max(ft,zt),Re);let wn=bn+le.integerLen,si=st[wn];if(wn>0){st.splice(Math.max(le.integerLen,wn));for(let Nn=wn;Nn<st.length;Nn++)st[Nn]=0}else{zt=Math.max(0,zt),le.integerLen=1,st.length=Math.max(1,wn=bn+1),st[0]=0;for(let Nn=1;Nn<wn;Nn++)st[Nn]=0}if(si>=5)if(wn-1<0){for(let Nn=0;Nn>wn;Nn--)st.unshift(0),le.integerLen++;st.unshift(1),le.integerLen++}else st[wn-1]++;for(;zt<Math.max(0,bn);zt++)st.push(0);let Go=0!==bn;const Qi=ft+le.integerLen,Io=st.reduceRight(function(Nn,ao,_o,Ro){return Ro[_o]=(ao+=Nn)<10?ao:ao-10,Go&&(0===Ro[_o]&&_o>=Qi?Ro.pop():Go=!1),ao>=10?1:0},0);Io&&(st.unshift(Io),le.integerLen++)}(Qi,Nn,ao);let _o=Qi.digits,Ro=Qi.integerLen;const _r=Qi.exponent;let da=[];for(Go=_o.every(mr=>!mr);Ro<Io;Ro++)_o.unshift(0);for(;Ro<0;Ro++)_o.unshift(0);Ro>0?da=_o.splice(Ro,_o.length):(da=_o,_o=[0]);const An=[];for(_o.length>=ft.lgSize&&An.unshift(_o.splice(-ft.lgSize,_o.length).join(""));_o.length>ft.gSize;)An.unshift(_o.splice(-ft.gSize,_o.length).join(""));_o.length&&An.unshift(_o.join("")),si=An.join(Me(Re,st)),da.length&&(si+=Me(Re,zt)+da.join("")),_r&&(si+=Me(Re,Q.Exponential)+"+"+_r)}else si=Me(Re,Q.Infinity);return si=le<0&&!Go?ft.negPre+si+ft.negSuf:ft.posPre+si+ft.posSuf,si}(le,wn,ft,Q.CurrencyGroup,Q.CurrencyDecimal,zt).replace("\xa4",Re).replace("\xa4","").trim()}function Ai(le){const ft=parseInt(le);if(isNaN(ft))throw new Error("Invalid integer literal when parsing "+le);return ft}function Po(le,ft){ft=encodeURIComponent(ft);for(const Re of le.split(";")){const st=Re.indexOf("="),[zt,bn]=-1==st?[Re,""]:[Re.slice(0,st),Re.slice(st+1)];if(zt.trim()===ft)return decodeURIComponent(bn)}return null}const uo=/\s+/,ni=[];let fi=(()=>{class le{constructor(Re,st){this._ngEl=Re,this._renderer=st,this.initialClasses=ni,this.stateMap=new Map}set klass(Re){this.initialClasses=null!=Re?Re.trim().split(uo):ni}set ngClass(Re){this.rawClass="string"==typeof Re?Re.trim().split(uo):Re}ngDoCheck(){for(const st of this.initialClasses)this._updateState(st,!0);const Re=this.rawClass;if(Array.isArray(Re)||Re instanceof Set)for(const st of Re)this._updateState(st,!0);else if(null!=Re)for(const st of Object.keys(Re))this._updateState(st,!!Re[st]);this._applyStateDiff()}_updateState(Re,st){const zt=this.stateMap.get(Re);void 0!==zt?(zt.enabled!==st&&(zt.changed=!0,zt.enabled=st),zt.touched=!0):this.stateMap.set(Re,{enabled:st,changed:!0,touched:!0})}_applyStateDiff(){for(const Re of this.stateMap){const st=Re[0],zt=Re[1];zt.changed?(this._toggleClass(st,zt.enabled),zt.changed=!1):zt.touched||(zt.enabled&&this._toggleClass(st,!1),this.stateMap.delete(st)),zt.touched=!1}}_toggleClass(Re,st){(Re=Re.trim()).length>0&&Re.split(uo).forEach(zt=>{st?this._renderer.addClass(this._ngEl.nativeElement,zt):this._renderer.removeClass(this._ngEl.nativeElement,zt)})}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return le})(),pi=(()=>{class le{constructor(Re){this._viewContainerRef=Re,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Re){return void 0!==Re.ngComponentOutletNgModule||void 0!==Re.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Re){return void 0!==Re.ngComponentOutlet||void 0!==Re.ngComponentOutletContent||void 0!==Re.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Re)}ngOnChanges(Re){if(this._needToReCreateComponentInstance(Re)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const st=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Re)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,t.w6W)(this.ngComponentOutletNgModule,Oe(st)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Oe(st)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:st,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Re of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Re,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Re){for(const[st,zt]of this._inputsUsed)zt?(Re.setInput(st,this.ngComponentOutletInputs[st]),this._inputsUsed.set(st,!1)):(Re.setInput(st,void 0),this._inputsUsed.delete(st))}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[t.OA$]})}return le})();function Oe(le){return le.get(t.Vns).injector}class Je{constructor(ft,Re,st,zt){this.$implicit=ft,this.ngForOf=Re,this.index=st,this.count=zt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let J=(()=>{class le{set ngForOf(Re){this._ngForOf=Re,this._ngForOfDirty=!0}set ngForTrackBy(Re){this._trackByFn=Re}get ngForTrackBy(){return this._trackByFn}constructor(Re,st,zt){this._viewContainer=Re,this._template=st,this._differs=zt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Re){Re&&(this._template=Re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Re=this._ngForOf;!this._differ&&Re&&(this._differ=this._differs.find(Re).create(this.ngForTrackBy))}if(this._differ){const Re=this._differ.diff(this._ngForOf);Re&&this._applyChanges(Re)}}_applyChanges(Re){const st=this._viewContainer;Re.forEachOperation((zt,bn,wn)=>{if(null==zt.previousIndex)st.createEmbeddedView(this._template,new Je(zt.item,this._ngForOf,-1,-1),null===wn?void 0:wn);else if(null==wn)st.remove(null===bn?void 0:bn);else if(null!==bn){const si=st.get(bn);st.move(si,wn),he(si,zt)}});for(let zt=0,bn=st.length;zt<bn;zt++){const si=st.get(zt).context;si.index=zt,si.count=bn,si.ngForOf=this._ngForOf}Re.forEachIdentityChange(zt=>{he(st.get(zt.currentIndex),zt)})}static ngTemplateContextGuard(Re,st){return!0}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return le})();function he(le,ft){le.context.$implicit=ft.item}let ze=(()=>{class le{constructor(Re,st){this._viewContainer=Re,this._context=new yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=st}set ngIf(Re){this._context.$implicit=this._context.ngIf=Re,this._updateView()}set ngIfThen(Re){mn("ngIfThen",Re),this._thenTemplateRef=Re,this._thenViewRef=null,this._updateView()}set ngIfElse(Re){mn("ngIfElse",Re),this._elseTemplateRef=Re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Re,st){return!0}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.c1b),t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return le})();class yt{constructor(){this.$implicit=null,this.ngIf=null}}function mn(le,ft){if(ft&&!ft.createEmbeddedView)throw new Error(`${le} must be a TemplateRef, but received '${(0,t.Tbb)(ft)}'.`)}class Ln{constructor(ft,Re){this._viewContainerRef=ft,this._templateRef=Re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ft){ft&&!this._created?this.create():!ft&&this._created&&this.destroy()}}let ri=(()=>{class le{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Re){this._ngSwitch=Re,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Re){this._defaultViews.push(Re)}_matchCase(Re){const st=Re===this._ngSwitch;return this._lastCasesMatched||=st,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),st}_updateDefaultCases(Re){if(this._defaultViews.length>0&&Re!==this._defaultUsed){this._defaultUsed=Re;for(const st of this._defaultViews)st.enforceState(Re)}}static#e=this.\u0275fac=function(st){return new(st||le)};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return le})(),wi=(()=>{class le{constructor(Re,st,zt){this.ngSwitch=zt,zt._addCase(),this._view=new Ln(Re,st)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(ri,9))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return le})(),Oi=(()=>{class le{constructor(Re,st,zt){zt._addDefault(new Ln(Re,st))}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(ri,9))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return le})(),Hn=(()=>{class le{constructor(Re){this._viewContainerRef=Re,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Re){if(this._shouldRecreateView(Re)){const st=this._viewContainerRef;if(this._viewRef&&st.remove(st.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const zt=this._createContextForwardProxy();this._viewRef=st.createEmbeddedView(this.ngTemplateOutlet,zt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Re){return!!Re.ngTemplateOutlet||!!Re.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Re,st,zt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,st,zt),get:(Re,st,zt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,st,zt)}})}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:le,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.OA$]})}return le})();function Bi(le,ft){return new t.wOt(2100,!1)}class Ho{createSubscription(ft,Re){return(0,t.O8t)(()=>ft.subscribe({next:Re,error:st=>{throw st}}))}dispose(ft){(0,t.O8t)(()=>ft.unsubscribe())}}class Rs{createSubscription(ft,Re){return ft.then(Re,st=>{throw st})}dispose(ft){}}const No=new Rs,ir=new Ho;let ho=(()=>{class le{constructor(Re){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Re}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Re){if(!this._obj){if(Re)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Re)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Re!==this._obj?(this._dispose(),this.transform(Re)):this._latestValue}_subscribe(Re){this._obj=Re,this._strategy=this._selectStrategy(Re),this._subscription=this._strategy.createSubscription(Re,st=>this._updateLatestValue(Re,st))}_selectStrategy(Re){if((0,t.jNT)(Re))return No;if((0,t.zjR)(Re))return ir;throw Bi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Re,st){Re===this._obj&&(this._latestValue=st,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.gRc,16))};static#t=this.\u0275pipe=t.EJ8({name:"async",type:le,pure:!1,standalone:!0})}return le})();const Xs=new t.nKC(""),ya=new t.nKC("");let Wr=(()=>{class le{constructor(Re,st,zt){this.locale=Re,this.defaultTimezone=st,this.defaultOptions=zt}transform(Re,st,zt,bn){if(null==Re||""===Re||Re!=Re)return null;try{return Ze(Re,st??this.defaultOptions?.dateFormat??"mediumDate",bn||this.locale,zt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(wn){throw Bi()}}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.xe9,16),t.rXU(Xs,24),t.rXU(ya,24))};static#t=this.\u0275pipe=t.EJ8({name:"date",type:le,pure:!0,standalone:!0})}return le})(),Cn=(()=>{class le{constructor(Re,st="USD"){this._locale=Re,this._defaultCurrencyCode=st}transform(Re,st=this._defaultCurrencyCode,zt="symbol",bn,wn){if(!function ot(le){return!(null==le||""===le||le!=le)}(Re))return null;wn||=this._locale,"boolean"==typeof zt&&(zt=zt?"symbol":"code");let si=st||this._defaultCurrencyCode;"code"!==zt&&(si="symbol"===zt||"symbol-narrow"===zt?function Lt(le,ft,Re="en"){const st=function $e(le){return(0,t.H5H)(le)[t.KH2.Currencies]}(Re)[le]||F[le]||[],zt=st[1];return"narrow"===ft&&"string"==typeof zt?zt:st[0]||le}(si,"symbol"===zt?"wide":"narrow",wn):zt);try{return tn(function jt(le){if("string"==typeof le&&!isNaN(Number(le)-parseFloat(le)))return Number(le);if("number"!=typeof le)throw new Error(`${le} is not a number`);return le}(Re),wn,si,st,bn)}catch(Go){throw Bi()}}static#e=this.\u0275fac=function(st){return new(st||le)(t.rXU(t.xe9,16),t.rXU(t.Ocv,16))};static#t=this.\u0275pipe=t.EJ8({name:"currency",type:le,pure:!0,standalone:!0})}return le})();let Gt=(()=>{class le{transform(Re,st,zt){if(null==Re)return null;if(!this.supports(Re))throw Bi();return Re.slice(st,zt)}supports(Re){return"string"==typeof Re||Array.isArray(Re)}static#e=this.\u0275fac=function(st){return new(st||le)};static#t=this.\u0275pipe=t.EJ8({name:"slice",type:le,pure:!1,standalone:!0})}return le})(),Gn=(()=>{class le{static#e=this.\u0275fac=function(st){return new(st||le)};static#t=this.\u0275mod=t.$C({type:le});static#n=this.\u0275inj=t.G2t({})}return le})();const ji="browser",qo="server";function ls(le){return le===ji}function Vo(le){return le===qo}let Yr=(()=>{class le{static#e=this.\u0275prov=(0,t.jDH)({token:le,providedIn:"root",factory:()=>ls((0,t.WQX)(t.Agw))?new hr((0,t.WQX)(g),window):new Is})}return le})();class hr{constructor(ft,Re){this.document=ft,this.window=Re,this.offset=()=>[0,0]}setOffset(ft){this.offset=Array.isArray(ft)?()=>ft:ft}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ft){this.window.scrollTo(ft[0],ft[1])}scrollToAnchor(ft){const Re=function fr(le,ft){const Re=le.getElementById(ft)||le.getElementsByName(ft)[0];if(Re)return Re;if("function"==typeof le.createTreeWalker&&le.body&&"function"==typeof le.body.attachShadow){const st=le.createTreeWalker(le.body,NodeFilter.SHOW_ELEMENT);let zt=st.currentNode;for(;zt;){const bn=zt.shadowRoot;if(bn){const wn=bn.getElementById(ft)||bn.querySelector(`[name="${ft}"]`);if(wn)return wn}zt=st.nextNode()}}return null}(this.document,ft);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(ft){this.window.history.scrollRestoration=ft}scrollToElement(ft){const Re=ft.getBoundingClientRect(),st=Re.left+this.window.pageXOffset,zt=Re.top+this.window.pageYOffset,bn=this.offset();this.window.scrollTo(st-bn[0],zt-bn[1])}}class Is{setOffset(ft){}getScrollPosition(){return[0,0]}scrollToPosition(ft){}scrollToAnchor(ft){}setHistoryScrollRestoration(ft){}}class kr{}},1626:(At,ue,a)=>{"use strict";a.d(ue,{$R:()=>Tt,Qq:()=>Ae,Sx:()=>Fe,yz:()=>j});var t=a(467),n=a(3953),f=a(4421),v=a(5817),b=a(4787),C=a(3574),g=a(8728),S=a(5006),h=a(7312),y=a(9090),O=a(177);class m{}class E{}class u{constructor(Je){this.normalizedNames=new Map,this.lazyUpdate=null,Je?"string"==typeof Je?this.lazyInit=()=>{this.headers=new Map,Je.split("\n").forEach(J=>{const he=J.indexOf(":");if(he>0){const ge=J.slice(0,he),ze=ge.toLowerCase(),yt=J.slice(he+1).trim();this.maybeSetNormalizedName(ge,ze),this.headers.has(ze)?this.headers.get(ze).push(yt):this.headers.set(ze,[yt])}})}:typeof Headers<"u"&&Je instanceof Headers?(this.headers=new Map,Je.forEach((J,he)=>{this.setHeaderEntries(he,J)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Je).forEach(([J,he])=>{this.setHeaderEntries(J,he)})}:this.headers=new Map}has(Je){return this.init(),this.headers.has(Je.toLowerCase())}get(Je){this.init();const J=this.headers.get(Je.toLowerCase());return J&&J.length>0?J[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Je){return this.init(),this.headers.get(Je.toLowerCase())||null}append(Je,J){return this.clone({name:Je,value:J,op:"a"})}set(Je,J){return this.clone({name:Je,value:J,op:"s"})}delete(Je,J){return this.clone({name:Je,value:J,op:"d"})}maybeSetNormalizedName(Je,J){this.normalizedNames.has(J)||this.normalizedNames.set(J,Je)}init(){this.lazyInit&&(this.lazyInit instanceof u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Je=>this.applyUpdate(Je)),this.lazyUpdate=null))}copyFrom(Je){Je.init(),Array.from(Je.headers.keys()).forEach(J=>{this.headers.set(J,Je.headers.get(J)),this.normalizedNames.set(J,Je.normalizedNames.get(J))})}clone(Je){const J=new u;return J.lazyInit=this.lazyInit&&this.lazyInit instanceof u?this.lazyInit:this,J.lazyUpdate=(this.lazyUpdate||[]).concat([Je]),J}applyUpdate(Je){const J=Je.name.toLowerCase();switch(Je.op){case"a":case"s":let he=Je.value;if("string"==typeof he&&(he=[he]),0===he.length)return;this.maybeSetNormalizedName(Je.name,J);const ge=("a"===Je.op?this.headers.get(J):void 0)||[];ge.push(...he),this.headers.set(J,ge);break;case"d":const ze=Je.value;if(ze){let yt=this.headers.get(J);if(!yt)return;yt=yt.filter(mn=>-1===ze.indexOf(mn)),0===yt.length?(this.headers.delete(J),this.normalizedNames.delete(J)):this.headers.set(J,yt)}else this.headers.delete(J),this.normalizedNames.delete(J)}}setHeaderEntries(Je,J){const he=(Array.isArray(J)?J:[J]).map(ze=>ze.toString()),ge=Je.toLowerCase();this.headers.set(ge,he),this.maybeSetNormalizedName(Je,ge)}forEach(Je){this.init(),Array.from(this.normalizedNames.keys()).forEach(J=>Je(this.normalizedNames.get(J),this.headers.get(J)))}}class x{encodeKey(Je){return l(Je)}encodeValue(Je){return l(Je)}decodeKey(Je){return decodeURIComponent(Je)}decodeValue(Je){return decodeURIComponent(Je)}}const A=/%(\d[a-f0-9])/gi,L={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function l(Oe){return encodeURIComponent(Oe).replace(A,(Je,J)=>L[J]??Je)}function $(Oe){return`${Oe}`}class R{constructor(Je={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Je.encoder||new x,Je.fromString){if(Je.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function D(Oe,Je){const J=new Map;return Oe.length>0&&Oe.replace(/^\?/,"").split("&").forEach(ge=>{const ze=ge.indexOf("="),[yt,mn]=-1==ze?[Je.decodeKey(ge),""]:[Je.decodeKey(ge.slice(0,ze)),Je.decodeValue(ge.slice(ze+1))],Ln=J.get(yt)||[];Ln.push(mn),J.set(yt,Ln)}),J}(Je.fromString,this.encoder)}else Je.fromObject?(this.map=new Map,Object.keys(Je.fromObject).forEach(J=>{const he=Je.fromObject[J],ge=Array.isArray(he)?he.map($):[$(he)];this.map.set(J,ge)})):this.map=null}has(Je){return this.init(),this.map.has(Je)}get(Je){this.init();const J=this.map.get(Je);return J?J[0]:null}getAll(Je){return this.init(),this.map.get(Je)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Je,J){return this.clone({param:Je,value:J,op:"a"})}appendAll(Je){const J=[];return Object.keys(Je).forEach(he=>{const ge=Je[he];Array.isArray(ge)?ge.forEach(ze=>{J.push({param:he,value:ze,op:"a"})}):J.push({param:he,value:ge,op:"a"})}),this.clone(J)}set(Je,J){return this.clone({param:Je,value:J,op:"s"})}delete(Je,J){return this.clone({param:Je,value:J,op:"d"})}toString(){return this.init(),this.keys().map(Je=>{const J=this.encoder.encodeKey(Je);return this.map.get(Je).map(he=>J+"="+this.encoder.encodeValue(he)).join("&")}).filter(Je=>""!==Je).join("&")}clone(Je){const J=new R({encoder:this.encoder});return J.cloneFrom=this.cloneFrom||this,J.updates=(this.updates||[]).concat(Je),J}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Je=>this.map.set(Je,this.cloneFrom.map.get(Je))),this.updates.forEach(Je=>{switch(Je.op){case"a":case"s":const J=("a"===Je.op?this.map.get(Je.param):void 0)||[];J.push($(Je.value)),this.map.set(Je.param,J);break;case"d":if(void 0===Je.value){this.map.delete(Je.param);break}{let he=this.map.get(Je.param)||[];const ge=he.indexOf($(Je.value));-1!==ge&&he.splice(ge,1),he.length>0?this.map.set(Je.param,he):this.map.delete(Je.param)}}}),this.cloneFrom=this.updates=null)}}class P{constructor(){this.map=new Map}set(Je,J){return this.map.set(Je,J),this}get(Je){return this.map.has(Je)||this.map.set(Je,Je.defaultValue()),this.map.get(Je)}delete(Je){return this.map.delete(Je),this}has(Je){return this.map.has(Je)}keys(){return this.map.keys()}}function V(Oe){return typeof ArrayBuffer<"u"&&Oe instanceof ArrayBuffer}function K(Oe){return typeof Blob<"u"&&Oe instanceof Blob}function X(Oe){return typeof FormData<"u"&&Oe instanceof FormData}class de{constructor(Je,J,he,ge){let ze;if(this.url=J,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Je.toUpperCase(),function k(Oe){switch(Oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ge?(this.body=void 0!==he?he:null,ze=ge):ze=he,ze&&(this.reportProgress=!!ze.reportProgress,this.withCredentials=!!ze.withCredentials,ze.responseType&&(this.responseType=ze.responseType),ze.headers&&(this.headers=ze.headers),ze.context&&(this.context=ze.context),ze.params&&(this.params=ze.params),this.transferCache=ze.transferCache),this.headers??=new u,this.context??=new P,this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=J;else{const mn=J.indexOf("?");this.urlWithParams=J+(-1===mn?"?":mn<J.length-1?"&":"")+yt}}else this.params=new R,this.urlWithParams=J}serializeBody(){return null===this.body?null:"string"==typeof this.body||V(this.body)||K(this.body)||X(this.body)||function Q(Oe){return typeof URLSearchParams<"u"&&Oe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof R?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X(this.body)?null:K(this.body)?this.body.type||null:V(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof R?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Je={}){const J=Je.method||this.method,he=Je.url||this.url,ge=Je.responseType||this.responseType,ze=Je.transferCache??this.transferCache,yt=void 0!==Je.body?Je.body:this.body,mn=Je.withCredentials??this.withCredentials,Ln=Je.reportProgress??this.reportProgress;let ri=Je.headers||this.headers,wi=Je.params||this.params;const Oi=Je.context??this.context;return void 0!==Je.setHeaders&&(ri=Object.keys(Je.setHeaders).reduce((Vi,mo)=>Vi.set(mo,Je.setHeaders[mo]),ri)),Je.setParams&&(wi=Object.keys(Je.setParams).reduce((Vi,mo)=>Vi.set(mo,Je.setParams[mo]),wi)),new de(J,he,yt,{params:wi,headers:ri,context:Oi,reportProgress:Ln,responseType:ge,withCredentials:mn,transferCache:ze})}}var se=function(Oe){return Oe[Oe.Sent=0]="Sent",Oe[Oe.UploadProgress=1]="UploadProgress",Oe[Oe.ResponseHeader=2]="ResponseHeader",Oe[Oe.DownloadProgress=3]="DownloadProgress",Oe[Oe.Response=4]="Response",Oe[Oe.User=5]="User",Oe}(se||{});class ce{constructor(Je,J=200,he="OK"){this.headers=Je.headers||new u,this.status=void 0!==Je.status?Je.status:J,this.statusText=Je.statusText||he,this.url=Je.url||null,this.ok=this.status>=200&&this.status<300}}class z extends ce{constructor(Je={}){super(Je),this.type=se.ResponseHeader}clone(Je={}){return new z({headers:Je.headers||this.headers,status:void 0!==Je.status?Je.status:this.status,statusText:Je.statusText||this.statusText,url:Je.url||this.url||void 0})}}class w extends ce{constructor(Je={}){super(Je),this.type=se.Response,this.body=void 0!==Je.body?Je.body:null}clone(Je={}){return new w({body:void 0!==Je.body?Je.body:this.body,headers:Je.headers||this.headers,status:void 0!==Je.status?Je.status:this.status,statusText:Je.statusText||this.statusText,url:Je.url||this.url||void 0})}}class j extends ce{constructor(Je){super(Je,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Je.url||"(unknown url)"}`:`Http failure response for ${Je.url||"(unknown url)"}: ${Je.status} ${Je.statusText}`,this.error=Je.error||null}}function ae(Oe,Je){return{body:Je,headers:Oe.headers,context:Oe.context,observe:Oe.observe,params:Oe.params,reportProgress:Oe.reportProgress,responseType:Oe.responseType,withCredentials:Oe.withCredentials,transferCache:Oe.transferCache}}let Ae=(()=>{class Oe{constructor(J){this.handler=J}request(J,he,ge={}){let ze;if(J instanceof de)ze=J;else{let Ln,ri;Ln=ge.headers instanceof u?ge.headers:new u(ge.headers),ge.params&&(ri=ge.params instanceof R?ge.params:new R({fromObject:ge.params})),ze=new de(J,he,void 0!==ge.body?ge.body:null,{headers:Ln,context:ge.context,params:ri,reportProgress:ge.reportProgress,responseType:ge.responseType||"json",withCredentials:ge.withCredentials,transferCache:ge.transferCache})}const yt=(0,f.of)(ze).pipe((0,C.H)(Ln=>this.handler.handle(Ln)));if(J instanceof de||"events"===ge.observe)return yt;const mn=yt.pipe((0,g.p)(Ln=>Ln instanceof w));switch(ge.observe||"body"){case"body":switch(ze.responseType){case"arraybuffer":return mn.pipe((0,S.T)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ln.body}));case"blob":return mn.pipe((0,S.T)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof Blob))throw new Error("Response is not a Blob.");return Ln.body}));case"text":return mn.pipe((0,S.T)(Ln=>{if(null!==Ln.body&&"string"!=typeof Ln.body)throw new Error("Response is not a string.");return Ln.body}));default:return mn.pipe((0,S.T)(Ln=>Ln.body))}case"response":return mn;default:throw new Error(`Unreachable: unhandled observe type ${ge.observe}}`)}}delete(J,he={}){return this.request("DELETE",J,he)}get(J,he={}){return this.request("GET",J,he)}head(J,he={}){return this.request("HEAD",J,he)}jsonp(J,he){return this.request("JSONP",J,{params:(new R).append(he,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(J,he={}){return this.request("OPTIONS",J,he)}patch(J,he,ge={}){return this.request("PATCH",J,ae(ge,he))}post(J,he,ge={}){return this.request("POST",J,ae(ge,he))}put(J,he,ge={}){return this.request("PUT",J,ae(ge,he))}static#e=this.\u0275fac=function(he){return new(he||Oe)(n.KVO(m))};static#t=this.\u0275prov=n.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})();const Me=/^\)\]\}',?\n/;function We(Oe){if(Oe.url)return Oe.url;const Je="X-Request-URL".toLocaleLowerCase();return Oe.headers.get(Je)}let lt=(()=>{class Oe{constructor(){this.fetchImpl=(0,n.WQX)(nt,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,n.WQX)(n.SKi)}handle(J){return new v.c(he=>{const ge=new AbortController;return this.doRequest(J,ge.signal,he).then($e,ze=>he.error(new j({error:ze}))),()=>ge.abort()})}doRequest(J,he,ge){var ze=this;return(0,t.A)(function*(){const yt=ze.createRequestInit(J);let mn;try{const lo=ze.ngZone.runOutsideAngular(()=>ze.fetchImpl(J.urlWithParams,{signal:he,...yt}));(function Ie(Oe){Oe.then($e,$e)})(lo),ge.next({type:se.Sent}),mn=yield lo}catch(lo){return void ge.error(new j({error:lo,status:lo.status??0,statusText:lo.statusText,url:J.urlWithParams,headers:lo.headers}))}const Ln=new u(mn.headers),ri=mn.statusText,wi=We(mn)??J.urlWithParams;let Oi=mn.status,Vi=null;if(J.reportProgress&&ge.next(new z({headers:Ln,status:Oi,statusText:ri,url:wi})),mn.body){const lo=mn.headers.get("content-length"),Li=[],no=mn.body.getReader();let Xo,Bi,Hn=0;const Ho=typeof Zone<"u"&&Zone.current;yield ze.ngZone.runOutsideAngular((0,t.A)(function*(){for(;;){const{done:No,value:ir}=yield no.read();if(No)break;if(Li.push(ir),Hn+=ir.length,J.reportProgress){Bi="text"===J.responseType?(Bi??"")+(Xo??=new TextDecoder).decode(ir,{stream:!0}):void 0;const ho=()=>ge.next({type:se.DownloadProgress,total:lo?+lo:void 0,loaded:Hn,partialText:Bi});Ho?Ho.run(ho):ho()}}}));const Rs=ze.concatChunks(Li,Hn);try{const No=mn.headers.get("Content-Type")??"";Vi=ze.parseBody(J,Rs,No)}catch(No){return void ge.error(new j({error:No,headers:new u(mn.headers),status:mn.status,statusText:mn.statusText,url:We(mn)??J.urlWithParams}))}}0===Oi&&(Oi=Vi?200:0),Oi>=200&&Oi<300?(ge.next(new w({body:Vi,headers:Ln,status:Oi,statusText:ri,url:wi})),ge.complete()):ge.error(new j({error:Vi,headers:Ln,status:Oi,statusText:ri,url:wi}))})()}parseBody(J,he,ge){switch(J.responseType){case"json":const ze=(new TextDecoder).decode(he).replace(Me,"");return""===ze?null:JSON.parse(ze);case"text":return(new TextDecoder).decode(he);case"blob":return new Blob([he],{type:ge});case"arraybuffer":return he.buffer}}createRequestInit(J){const he={},ge=J.withCredentials?"include":void 0;if(J.headers.forEach((ze,yt)=>he[ze]=yt.join(",")),J.headers.has("Accept")||(he.Accept="application/json, text/plain, */*"),!J.headers.has("Content-Type")){const ze=J.detectContentTypeHeader();null!==ze&&(he["Content-Type"]=ze)}return{body:J.serializeBody(),method:J.method,headers:he,credentials:ge}}concatChunks(J,he){const ge=new Uint8Array(he);let ze=0;for(const yt of J)ge.set(yt,ze),ze+=yt.length;return ge}static#e=this.\u0275fac=function(he){return new(he||Oe)};static#t=this.\u0275prov=n.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})();class nt{}function $e(){}function me(Oe,Je){return Je(Oe)}function De(Oe,Je){return(J,he)=>Je.intercept(J,{handle:ge=>Oe(ge,he)})}const Qe=new n.nKC(""),Ne=new n.nKC(""),at=new n.nKC(""),Lt=new n.nKC("",{providedIn:"root",factory:()=>!0});function Kt(){let Oe=null;return(Je,J)=>{null===Oe&&(Oe=((0,n.WQX)(Qe,{optional:!0})??[]).reduceRight(De,me));const he=(0,n.WQX)(n.TgB);if((0,n.WQX)(Lt)){const ze=he.add();return Oe(Je,J).pipe((0,h.j)(()=>he.remove(ze)))}return Oe(Je,J)}}let ve=(()=>{class Oe extends m{constructor(J,he){super(),this.backend=J,this.injector=he,this.chain=null,this.pendingTasks=(0,n.WQX)(n.TgB),this.contributeToStability=(0,n.WQX)(Lt)}handle(J){if(null===this.chain){const he=Array.from(new Set([...this.injector.get(Ne),...this.injector.get(at,[])]));this.chain=he.reduceRight((ge,ze)=>function ke(Oe,Je,J){return(he,ge)=>(0,n.N4e)(J,()=>Je(he,ze=>Oe(ze,ge)))}(ge,ze,this.injector),me)}if(this.contributeToStability){const he=this.pendingTasks.add();return this.chain(J,ge=>this.backend.handle(ge)).pipe((0,h.j)(()=>this.pendingTasks.remove(he)))}return this.chain(J,he=>this.backend.handle(he))}static#e=this.\u0275fac=function(he){return new(he||Oe)(n.KVO(E),n.KVO(n.uvJ))};static#t=this.\u0275prov=n.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})();const pt=/^\)\]\}',?\n/;let Mt=(()=>{class Oe{constructor(J){this.xhrFactory=J}handle(J){if("JSONP"===J.method)throw new n.wOt(-2800,!1);const he=this.xhrFactory;return(he.\u0275loadImpl?(0,b.H)(he.\u0275loadImpl()):(0,f.of)(null)).pipe((0,y.n)(()=>new v.c(ze=>{const yt=he.build();if(yt.open(J.method,J.urlWithParams),J.withCredentials&&(yt.withCredentials=!0),J.headers.forEach((Li,no)=>yt.setRequestHeader(Li,no.join(","))),J.headers.has("Accept")||yt.setRequestHeader("Accept","application/json, text/plain, */*"),!J.headers.has("Content-Type")){const Li=J.detectContentTypeHeader();null!==Li&&yt.setRequestHeader("Content-Type",Li)}if(J.responseType){const Li=J.responseType.toLowerCase();yt.responseType="json"!==Li?Li:"text"}const mn=J.serializeBody();let Ln=null;const ri=()=>{if(null!==Ln)return Ln;const Li=yt.statusText||"OK",no=new u(yt.getAllResponseHeaders()),Hn=function Ct(Oe){return"responseURL"in Oe&&Oe.responseURL?Oe.responseURL:/^X-Request-URL:/m.test(Oe.getAllResponseHeaders())?Oe.getResponseHeader("X-Request-URL"):null}(yt)||J.url;return Ln=new z({headers:no,status:yt.status,statusText:Li,url:Hn}),Ln},wi=()=>{let{headers:Li,status:no,statusText:Hn,url:Xo}=ri(),Bi=null;204!==no&&(Bi=typeof yt.response>"u"?yt.responseText:yt.response),0===no&&(no=Bi?200:0);let Ho=no>=200&&no<300;if("json"===J.responseType&&"string"==typeof Bi){const Rs=Bi;Bi=Bi.replace(pt,"");try{Bi=""!==Bi?JSON.parse(Bi):null}catch(No){Bi=Rs,Ho&&(Ho=!1,Bi={error:No,text:Bi})}}Ho?(ze.next(new w({body:Bi,headers:Li,status:no,statusText:Hn,url:Xo||void 0})),ze.complete()):ze.error(new j({error:Bi,headers:Li,status:no,statusText:Hn,url:Xo||void 0}))},Oi=Li=>{const{url:no}=ri(),Hn=new j({error:Li,status:yt.status||0,statusText:yt.statusText||"Unknown Error",url:no||void 0});ze.error(Hn)};let Vi=!1;const mo=Li=>{Vi||(ze.next(ri()),Vi=!0);let no={type:se.DownloadProgress,loaded:Li.loaded};Li.lengthComputable&&(no.total=Li.total),"text"===J.responseType&&yt.responseText&&(no.partialText=yt.responseText),ze.next(no)},lo=Li=>{let no={type:se.UploadProgress,loaded:Li.loaded};Li.lengthComputable&&(no.total=Li.total),ze.next(no)};return yt.addEventListener("load",wi),yt.addEventListener("error",Oi),yt.addEventListener("timeout",Oi),yt.addEventListener("abort",Oi),J.reportProgress&&(yt.addEventListener("progress",mo),null!==mn&&yt.upload&&yt.upload.addEventListener("progress",lo)),yt.send(mn),ze.next({type:se.Sent}),()=>{yt.removeEventListener("error",Oi),yt.removeEventListener("abort",Oi),yt.removeEventListener("load",wi),yt.removeEventListener("timeout",Oi),J.reportProgress&&(yt.removeEventListener("progress",mo),null!==mn&&yt.upload&&yt.upload.removeEventListener("progress",lo)),yt.readyState!==yt.DONE&&yt.abort()}})))}static#e=this.\u0275fac=function(he){return new(he||Oe)(n.KVO(O.N0))};static#t=this.\u0275prov=n.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})();const $t=new n.nKC(""),Sn=new n.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fn=new n.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $n{}let ut=(()=>{class Oe{constructor(J,he,ge){this.doc=J,this.platform=he,this.cookieName=ge,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const J=this.doc.cookie||"";return J!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(J,this.cookieName),this.lastCookieString=J),this.lastToken}static#e=this.\u0275fac=function(he){return new(he||Oe)(n.KVO(O.qQ),n.KVO(n.Agw),n.KVO(Sn))};static#t=this.\u0275prov=n.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})();function Pe(Oe,Je){const J=Oe.url.toLowerCase();if(!(0,n.WQX)($t)||"GET"===Oe.method||"HEAD"===Oe.method||J.startsWith("http://")||J.startsWith("https://"))return Je(Oe);const he=(0,n.WQX)($n).getToken(),ge=(0,n.WQX)(Fn);return null!=he&&!Oe.headers.has(ge)&&(Oe=Oe.clone({headers:Oe.headers.set(ge,he)})),Je(Oe)}var Te=function(Oe){return Oe[Oe.Interceptors=0]="Interceptors",Oe[Oe.LegacyInterceptors=1]="LegacyInterceptors",Oe[Oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Oe[Oe.NoXsrfProtection=3]="NoXsrfProtection",Oe[Oe.JsonpSupport=4]="JsonpSupport",Oe[Oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Oe[Oe.Fetch=6]="Fetch",Oe}(Te||{});function Tt(...Oe){const Je=[Ae,Mt,ve,{provide:m,useExisting:ve},{provide:E,useFactory:()=>(0,n.WQX)(lt,{optional:!0})??(0,n.WQX)(Mt)},{provide:Ne,useValue:Pe,multi:!0},{provide:$t,useValue:!0},{provide:$n,useClass:ut}];for(const J of Oe)Je.push(...J.\u0275providers);return(0,n.EmA)(Je)}const Ke=new n.nKC("");function Fe(){return function Ye(Oe,Je){return{\u0275kind:Oe,\u0275providers:Je}}(Te.LegacyInterceptors,[{provide:Ke,useFactory:Kt},{provide:Ne,useExisting:Ke,multi:!0}])}},3953:(At,ue,a)=>{"use strict";function t(e,i){return Object.is(e,i)}a.d(ue,{bc$:()=>ZT,iLQ:()=>Vy,sZ2:()=>Lp,hnV:()=>mO,Hbi:()=>NA,o8S:()=>xc,BIS:()=>qT,gRc:()=>xO,Ql9:()=>cA,OM3:()=>kf,Ocv:()=>gA,Z63:()=>Ra,aKT:()=>Jh,uvJ:()=>na,zcH:()=>Ol,bkB:()=>zl,y_5:()=>mr,$GK:()=>Jn,nKC:()=>Pi,zZn:()=>yr,_q3:()=>xT,MKu:()=>RT,xe9:()=>zy,Co$:()=>fy,Vns:()=>nu,SKi:()=>bs,Xx1:()=>ws,Agw:()=>Vm,PLl:()=>Z0,rOR:()=>Ap,sFG:()=>CS,_9s:()=>Qg,czy:()=>e_,WPN:()=>Bd,kdw:()=>Oa,C4Q:()=>sh,NYb:()=>iA,giA:()=>pO,xvI:()=>RR,RxE:()=>rO,c1b:()=>N_,gXe:()=>yl,mal:()=>sv,Tzd:()=>x_,L39:()=>vk,EWP:()=>Ek,sbv:()=>WS,Ol2:()=>yv,w6W:()=>cM,oH4:()=>DO,QZP:()=>hw,SmG:()=>CA,Rfq:()=>Xe,WQX:()=>Nn,Hps:()=>Gf,QuC:()=>wo,EmA:()=>Cl,Udg:()=>bk,fpN:()=>LA,HJs:()=>Ik,N4e:()=>Ml,vPA:()=>Kb,O8t:()=>Ck,H3F:()=>aO,zAP:()=>nw,H8p:()=>ol,KH2:()=>q_,TgB:()=>Hc,wOt:()=>ei,WHO:()=>hO,e01:()=>fO,lNU:()=>Fr,h9k:()=>Er,$MX:()=>af,ZF7:()=>Gu,Kcf:()=>u1,e5t:()=>rC,UyX:()=>sC,cWb:()=>oC,osQ:()=>Jm,H5H:()=>WM,Zy3:()=>Os,mq5:()=>uI,JZv:()=>Yo,LfX:()=>Zr,plB:()=>Yl,jNT:()=>bT,zjR:()=>_O,TL$:()=>J0,Tbb:()=>Et,rcV:()=>bc,nM4:()=>G_,Vt3:()=>zf,GFd:()=>hy,OA$:()=>mu,Jv_:()=>C2,aNF:()=>S2,R7$:()=>V1,BMQ:()=>Ti,HbH:()=>WD,ZvI:()=>qD,AVh:()=>NM,vxM:()=>iI,wni:()=>HI,C6U:()=>ZI,VBU:()=>oe,FsC:()=>pn,jDH:()=>Do,G2t:()=>ks,$C:()=>gt,EJ8:()=>dn,rXU:()=>Vd,nrm:()=>VM,eu8:()=>GM,bVm:()=>ky,qex:()=>Ay,k0s:()=>Ry,j41:()=>xy,RV6:()=>dI,xGo:()=>D0,Mr5:()=>KM,pXf:()=>wI,nnv:()=>xI,YFu:()=>QM,uP7:()=>JM,k04:()=>RI,PLo:()=>YM,KVO:()=>Qi,kS0:()=>xp,QTQ:()=>gf,bIt:()=>ZM,lsd:()=>JI,joV:()=>g0,qSk:()=>dE,XpG:()=>LI,nI1:()=>$2,bMT:()=>U2,i5U:()=>V2,brH:()=>G2,SdG:()=>BI,NAR:()=>NI,Y8G:()=>FM,lJ4:()=>I2,eq3:()=>O2,l_i:()=>w2,sMw:()=>x2,ziG:()=>R2,s1E:()=>A2,sGs:()=>k2,lV:()=>F2,NyB:()=>qI,mGM:()=>QI,sdS:()=>e2,Dyx:()=>aI,Z7z:()=>rI,fX1:()=>sI,Vm6:()=>oI,Njj:()=>_m,EBC:()=>qp,tSv:()=>I1,eBV:()=>u0,npT:()=>y1,B4B:()=>ig,n$t:()=>C1,wjB:()=>M2,Aen:()=>Ic,xc7:()=>LM,Kam:()=>qM,zvX:()=>zM,DNE:()=>Hf,C5r:()=>K2,EFF:()=>u2,JRh:()=>iT,SpI:()=>Ny,Lme:()=>oT,E5c:()=>sT,LHq:()=>rT,DH7:()=>v2,mxI:()=>lT,R50:()=>aT,GBs:()=>YI});let n=null,f=!1,v=1;const b=Symbol("SIGNAL");function C(e){const i=n;return n=e,i}const y={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(e){if(f)throw new Error("");if(null===n)return;n.consumerOnSignalRead(e);const i=n.nextProducerIndex++;P(n),i<n.producerNode.length&&n.producerNode[i]!==e&&F(n)&&R(n.producerNode[i],n.producerIndexOfThis[i]),n.producerNode[i]!==e&&(n.producerNode[i]=e,n.producerIndexOfThis[i]=F(n)?$(e,n,i):0),n.producerLastReadVersion[i]=e.version}function E(e){if((!F(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==v)){if(!e.producerMustRecompute(e)&&!L(e))return e.dirty=!1,void(e.lastCleanEpoch=v);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=v}}function u(e){if(void 0===e.liveConsumerNode)return;const i=f;f=!0;try{for(const o of e.liveConsumerNode)o.dirty||x(o)}finally{f=i}}function M(){return!1!==n?.consumerAllowSignalWrites}function x(e){e.dirty=!0,u(e),e.consumerMarkedDirty?.(e)}function D(e){return e&&(e.nextProducerIndex=0),C(e)}function A(e,i){if(C(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(F(e))for(let o=e.nextProducerIndex;o<e.producerNode.length;o++)R(e.producerNode[o],e.producerIndexOfThis[o]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function L(e){P(e);for(let i=0;i<e.producerNode.length;i++){const o=e.producerNode[i],d=e.producerLastReadVersion[i];if(d!==o.version||(E(o),d!==o.version))return!0}return!1}function l(e){if(P(e),F(e))for(let i=0;i<e.producerNode.length;i++)R(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function $(e,i,o){if(k(e),0===e.liveConsumerNode.length&&V(e))for(let d=0;d<e.producerNode.length;d++)e.producerIndexOfThis[d]=$(e.producerNode[d],e,d);return e.liveConsumerIndexOfThis.push(o),e.liveConsumerNode.push(i)-1}function R(e,i){if(k(e),1===e.liveConsumerNode.length&&V(e))for(let d=0;d<e.producerNode.length;d++)R(e.producerNode[d],e.producerIndexOfThis[d]);const o=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[o],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[o],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const d=e.liveConsumerIndexOfThis[i],_=e.liveConsumerNode[i];P(_),_.producerIndexOfThis[d]=i}}function F(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function P(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function k(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function V(e){return void 0!==e.producerNode}function K(e){const i=Object.create(se);i.computation=e;const o=()=>{if(E(i),O(i),i.value===de)throw i.error;return i.value};return o[b]=i,o}const X=Symbol("UNSET"),Q=Symbol("COMPUTING"),de=Symbol("ERRORED"),se={...y,value:X,dirty:!0,error:null,equal:t,producerMustRecompute:e=>e.value===X||e.value===Q,producerRecomputeValue(e){if(e.value===Q)throw new Error("Detected cycle in computations.");const i=e.value;e.value=Q;const o=D(e);let d;try{d=e.computation()}catch(_){d=de,e.error=_}finally{A(e,o)}i!==X&&i!==de&&d!==de&&e.equal(i,d)?e.value=i:(e.value=d,e.version++)}};let z=function ce(){throw new Error};function w(){z()}let W=null;function Ae(e,i){M()||w(),e.equal(e.value,i)||(e.value=i,function lt(e){e.version++,function m(){v++}(),u(e),W?.()}(e))}const We={...y,equal:t,value:void 0};const $e=()=>{},Ie={...y,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:$e};var De=a(9928),ke=a(5286),Qe=a(4337),Ne=a(5006);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Fr="https://g.co/ng/security#xss";class ei extends Error{constructor(i,o){super(Os(i,o)),this.code=i}}function Os(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}function Ls(e){return{toString:e}.toString()}const gs="__parameters__";function As(e,i,o){return Ls(()=>{const d=function To(e){return function(...o){if(e){const d=e(...o);for(const _ in d)this[_]=d[_]}}}(i);function _(...I){if(this instanceof _)return d.apply(this,I),this;const U=new _(...I);return q.annotation=U,q;function q(re,Be,qe){const It=re.hasOwnProperty(gs)?re[gs]:Object.defineProperty(re,gs,{value:[]})[gs];for(;It.length<=qe;)It.push(null);return(It[qe]=It[qe]||[]).push(U),re}}return o&&(_.prototype=Object.create(o.prototype)),_.prototype.ngMetadataName=e,_.annotationCls=_,_})}const Yo=globalThis;function Xi(e){for(let i in e)if(e[i]===Xi)return i;throw Error("Could not find renamed property on target object.")}function eo(e,i){for(const o in i)i.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=i[o])}function Et(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Et).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function On(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const Dt=Xi({__forward_ref__:Xi});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return Et(this())},e}function kt(e){return gn(e)?e():e}function gn(e){return"function"==typeof e&&e.hasOwnProperty(Dt)&&e.__forward_ref__===Xe}function Hi(e,i,o){e!=i&&function yi(e,i,o,d){throw new Error(`ASSERTION ERROR: ${e}`+(null==d?"":` [Expected=> ${o} ${d} ${i} <=Actual]`))}(o,e,i,"==")}function Do(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ks(e){return{providers:e.providers||[],imports:e.imports||[]}}function Jr(e){return ql(e,Pr)||ql(e,gl)}function Zr(e){return null!==Jr(e)}function ql(e,i){return e.hasOwnProperty(i)?e[i]:null}function $a(e){return e&&(e.hasOwnProperty(qr)||e.hasOwnProperty(nl))?e[qr]:null}const Pr=Xi({\u0275prov:Xi}),qr=Xi({\u0275inj:Xi}),gl=Xi({ngInjectableDef:Xi}),nl=Xi({ngInjectorDef:Xi});class Pi{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Do({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mr(e){return e&&!!e.\u0275providers}const Da=Xi({\u0275cmp:Xi}),yo=Xi({\u0275dir:Xi}),Pl=Xi({\u0275pipe:Xi}),G=Xi({\u0275mod:Xi}),dt=Xi({\u0275fac:Xi}),et=Xi({__NG_ELEMENT_ID__:Xi}),_t=Xi({__NG_ENV_ID__:Xi});function mt(e){return"string"==typeof e?e:null==e?"":String(e)}function ti(e,i){throw new ei(-201,!1)}var Jn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Jn||{});let Di;function Ni(){return Di}function $i(e){const i=Di;return Di=e,i}function Co(e,i,o){const d=Jr(e);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&Jn.Optional?null:void 0!==i?i:void ti()}const Ll={},bl="__NG_DI_FLAG__",le="ngTempTokenPath",Re=/\n/gm,zt="__source";let bn;function si(e){const i=bn;return bn=e,i}function Go(e,i=Jn.Default){if(void 0===bn)throw new ei(-203,!1);return null===bn?Co(e,void 0,i):bn.get(e,i&Jn.Optional?null:void 0,i)}function Qi(e,i=Jn.Default){return(Ni()||Go)(kt(e),i)}function Nn(e,i=Jn.Default){return Qi(e,ao(i))}function ao(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _o(e){const i=[];for(let o=0;o<e.length;o++){const d=kt(e[o]);if(Array.isArray(d)){if(0===d.length)throw new ei(900,!1);let _,I=Jn.Default;for(let U=0;U<d.length;U++){const q=d[U],re=_r(q);"number"==typeof re?-1===re?_=q.token:I|=re:_=q}i.push(Qi(_,I))}else i.push(Qi(d))}return i}function Ro(e,i){return e[bl]=i,e.prototype[bl]=i,e}function _r(e){return e[bl]}const mr=Ro(As("Inject",e=>({token:e})),-1),ws=Ro(As("Optional"),8),Oa=Ro(As("SkipSelf"),4);function ps(e,i){return e.hasOwnProperty(dt)?e[dt]:null}function Nl(e,i){e.forEach(o=>Array.isArray(o)?Nl(o,i):i(o))}function np(e,i,o){i>=e.length?e.push(o):e.splice(i,0,o)}function Ua(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function ea(e,i,o){let d=Ko(e,i);return d>=0?e[1|d]=o:(d=~d,function Ps(e,i,o,d){let _=e.length;if(_==i)e.push(o,d);else if(1===_)e.push(d,e[0]),e[0]=o;else{for(_--,e.push(e[_-1],e[_]);_>i;)e[_]=e[_-2],_--;e[i]=o,e[i+1]=d}}(e,d,i,o)),d}function lu(e,i){const o=Ko(e,i);if(o>=0)return e[1|o]}function Ko(e,i){return function Lr(e,i,o){let d=0,_=e.length>>o;for(;_!==d;){const I=d+(_-d>>1),U=e[I<<o];if(i===U)return I<<o;U>i?_=I:d=I+1}return~(_<<o)}(e,i,1)}const ta={},fo=[],Ra=new Pi(""),fd=new Pi("",-1),ip=new Pi("");class pd{get(i,o=Ll){if(o===Ll){const d=new Error(`NullInjectorError: No provider for ${Et(i)}!`);throw d.name="NullInjectorError",d}return o}}var kc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(kc||{}),yl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yl||{}),Va=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Va||{});function op(e,i,o){let d=e.length;for(;;){const _=e.indexOf(i,o);if(-1===_)return _;if(0===_||e.charCodeAt(_-1)<=32){const I=i.length;if(_+I===d||e.charCodeAt(_+I)<=32)return _}o=_+1}}function Bl(e,i,o){let d=0;for(;d<o.length;){const _=o[d];if("number"==typeof _){if(0!==_)break;d++;const I=o[d++],U=o[d++],q=o[d++];e.setAttribute(i,U,q,I)}else{const I=_,U=o[++d];Nr(I)?e.setProperty(i,I,U):e.setAttribute(i,I,U),d++}}return d}function Sh(e){return 3===e||4===e||6===e}function Nr(e){return 64===e.charCodeAt(0)}function il(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let o=-1;for(let d=0;d<i.length;d++){const _=i[d];"number"==typeof _?o=_:0===o||Dr(e,o,_,null,-1===o||2===o?i[++d]:null)}}return e}function Dr(e,i,o,d,_){let I=0,U=e.length;if(-1===i)U=-1;else for(;I<e.length;){const q=e[I++];if("number"==typeof q){if(q===i){U=-1;break}if(q>i){U=I-1;break}}}for(;I<e.length;){const q=e[I];if("number"==typeof q)break;if(q===o){if(null===d)return void(null!==_&&(e[I+1]=_));if(d===e[I+1])return void(e[I+2]=_)}I++,null!==d&&I++,null!==_&&I++}-1!==U&&(e.splice(U,0,i),I=U+1),e.splice(I++,0,o),null!==d&&e.splice(I++,0,d),null!==_&&e.splice(I++,0,_)}const Mh="ng-template";function ec(e,i,o,d){let _=0;if(d){for(;_<i.length&&"string"==typeof i[_];_+=2)if("class"===i[_]&&-1!==op(i[_+1].toLowerCase(),o,0))return!0}else if(cu(e))return!1;if(_=i.indexOf(1,_),_>-1){let I;for(;++_<i.length&&"string"==typeof(I=i[_]);)if(I.toLowerCase()===o)return!0}return!1}function cu(e){return 4===e.type&&e.value!==Mh}function sp(e,i,o){return i===(4!==e.type||o?e.value:Mh)}function El(e,i,o){let d=4;const _=e.attrs,I=null!==_?function jl(e){for(let i=0;i<e.length;i++)if(Sh(e[i]))return i;return e.length}(_):0;let U=!1;for(let q=0;q<i.length;q++){const re=i[q];if("number"!=typeof re){if(!U)if(4&d){if(d=2|1&d,""!==re&&!sp(e,re,o)||""===re&&1===i.length){if(js(d))return!1;U=!0}}else if(8&d){if(null===_||!ec(e,_,re,o)){if(js(d))return!1;U=!0}}else{const Be=i[++q],qe=Fc(re,_,cu(e),o);if(-1===qe){if(js(d))return!1;U=!0;continue}if(""!==Be){let It;if(It=qe>I?"":_[qe+1].toLowerCase(),2&d&&Be!==It){if(js(d))return!1;U=!0}}}}else{if(!U&&!js(d)&&!js(re))return!1;if(U&&js(re))continue;U=!1,d=re|1&d}}return js(d)||U}function js(e){return!(1&e)}function Fc(e,i,o,d){if(null===i)return-1;let _=0;if(d||!o){let I=!1;for(;_<i.length;){const U=i[_];if(U===e)return _;if(3===U||6===U)I=!0;else{if(1===U||2===U){let q=i[++_];for(;"string"==typeof q;)q=i[++_];continue}if(4===U)break;if(0===U){_+=4;continue}}_+=I?1:2}return-1}return function om(e,i){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const d=e[o];if("number"==typeof d)return-1;if(d===i)return o;o++}return-1}(i,e)}function Th(e,i,o=!1){for(let d=0;d<i.length;d++)if(El(e,i[d],o))return!0;return!1}function tc(e,i){e:for(let o=0;o<i.length;o++){const d=i[o];if(e.length===d.length){for(let _=0;_<e.length;_++)if(e[_]!==d[_])continue e;return!0}}return!1}function nc(e,i){return e?":not("+i.trim()+")":i}function ic(e){let i=e[0],o=1,d=2,_="",I=!1;for(;o<e.length;){let U=e[o];if("string"==typeof U)if(2&d){const q=e[++o];_+="["+U+(q.length>0?'="'+q+'"':"")+"]"}else 8&d?_+="."+U:4&d&&(_+=" "+U);else""!==_&&!js(U)&&(i+=nc(I,_),_=""),d=U,I=I||!js(d);o++}return""!==_&&(i+=nc(I,_)),i}function oe(e){return Ls(()=>{const i=us(e),o={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yl.Emulated,styles:e.styles||fo,_:null,schemas:e.schemas||null,tView:null,id:""};Ga(o);const d=e.dependencies;return o.directiveDefs=Ir(d,!1),o.pipeDefs=Ir(d,!0),o.id=function rp(e){let i=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const _ of o)i=Math.imul(31,i)+_.charCodeAt(0)|0;return i+=2147483648,"c"+i}(o),o})}function Ee(e){return Rn(e)||Ci(e)}function tt(e){return null!==e}function gt(e){return Ls(()=>({type:e.type,bootstrap:e.bootstrap||fo,declarations:e.declarations||fo,imports:e.imports||fo,exports:e.exports||fo,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Pt(e,i){if(null==e)return ta;const o={};for(const d in e)if(e.hasOwnProperty(d)){const _=e[d];let I,U,q=Va.None;Array.isArray(_)?(q=_[0],I=_[1],U=_[2]??I):(I=_,U=_),i?(o[I]=q!==Va.None?[d,q]:d,i[I]=U):o[I]=d}return o}function pn(e){return Ls(()=>{const i=us(e);return Ga(i),i})}function dn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rn(e){return e[Da]||null}function Ci(e){return e[yo]||null}function Wn(e){return e[Pl]||null}function wo(e){const i=Rn(e)||Ci(e)||Wn(e);return null!==i&&i.standalone}function ts(e,i){const o=e[G]||null;if(!o&&!0===i)throw new Error(`Type ${Et(e)} does not have '\u0275mod' property.`);return o}function us(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||ta,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||fo,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pt(e.inputs,i),outputs:Pt(e.outputs),debugInfo:null}}function Ga(e){e.features?.forEach(i=>i(e))}function Ir(e,i){if(!e)return null;const o=i?Wn:Ee;return()=>("function"==typeof e?e():e).map(d=>o(d)).filter(tt)}function Cl(e){return{\u0275providers:e}}function Ih(...e){return{\u0275providers:du(0,e),\u0275fromNgModule:!0}}function du(e,...i){const o=[],d=new Set;let _;const I=U=>{o.push(U)};return Nl(i,U=>{const q=U;uu(q,I,[],d)&&(_||=[],_.push(q))}),void 0!==_&&Sl(_,I),o}function Sl(e,i){for(let o=0;o<e.length;o++){const{ngModule:d,providers:_}=e[o];Oh(_,I=>{i(I,d)})}}function uu(e,i,o,d){if(!(e=kt(e)))return!1;let _=null,I=$a(e);const U=!I&&Rn(e);if(I||U){if(U&&!U.standalone)return!1;_=e}else{const re=e.ngModule;if(I=$a(re),!I)return!1;_=re}const q=d.has(_);if(U){if(q)return!1;if(d.add(_),U.dependencies){const re="function"==typeof U.dependencies?U.dependencies():U.dependencies;for(const Be of re)uu(Be,i,o,d)}}else{if(!I)return!1;{if(null!=I.imports&&!q){let Be;d.add(_);try{Nl(I.imports,qe=>{uu(qe,i,o,d)&&(Be||=[],Be.push(qe))})}finally{}void 0!==Be&&Sl(Be,i)}if(!q){const Be=ps(_)||(()=>new _);i({provide:_,useFactory:Be,deps:fo},_),i({provide:ip,useValue:_,multi:!0},_),i({provide:Ra,useValue:()=>Qi(_),multi:!0},_)}const re=I.providers;if(null!=re&&!q){const Be=e;Oh(re,qe=>{i(qe,Be)})}}}return _!==e&&void 0!==e.providers}function Oh(e,i){for(let o of e)Mr(o)&&(o=o.\u0275providers),Array.isArray(o)?Oh(o,i):i(o)}const ap=Xi({provide:String,useValue:Xi});function lp(e){return null!==e&&"object"==typeof e&&ap in e}function Pc(e){return"function"==typeof e}const ol=new Pi(""),Ka={},wh={};let ha;function Zi(){return void 0===ha&&(ha=new pd),ha}class na{}class Ul extends na{get destroyed(){return this._destroyed}constructor(i,o,d,_){super(),this.parent=o,this.source=d,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ia(i,U=>this.processProvider(U)),this.records.set(fd,rc(void 0,this)),_.has("environment")&&this.records.set(na,rc(void 0,this));const I=this.records.get(ol);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(ip,fo,Jn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=C(null);try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of o)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),C(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=si(this),d=$i(void 0);try{return i()}finally{si(o),$i(d)}}get(i,o=Ll,d=Jn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(_t))return i[_t](this);d=ao(d);const I=si(this),U=$i(void 0);try{if(!(d&Jn.SkipSelf)){let re=this.records.get(i);if(void 0===re){const Be=function e0(e){return"function"==typeof e||"object"==typeof e&&e instanceof Pi}(i)&&Jr(i);re=Be&&this.injectableDefInScope(Be)?rc(hu(i),Ka):null,this.records.set(i,re)}if(null!=re)return this.hydrate(i,re)}return(d&Jn.Self?Zi():this.parent).get(i,o=d&Jn.Optional&&o===Ll?null:o)}catch(q){if("NullInjectorError"===q.name){if((q[le]=q[le]||[]).unshift(Et(i)),I)throw q;return function da(e,i,o,d){const _=e[le];throw i[zt]&&_.unshift(i[zt]),e.message=function An(e,i,o,d=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let _=Et(i);if(Array.isArray(i))_=i.map(Et).join(" -> ");else if("object"==typeof i){let I=[];for(let U in i)if(i.hasOwnProperty(U)){let q=i[U];I.push(U+":"+("string"==typeof q?JSON.stringify(q):Et(q)))}_=`{${I.join(", ")}}`}return`${o}${d?"("+d+")":""}[${_}]: ${e.replace(Re,"\n  ")}`}("\n"+e.message,_,o,d),e.ngTokenPath=_,e[le]=null,e}(q,i,"R3InjectorError",this.source)}throw q}finally{$i(U),si(I)}}resolveInjectorInitializers(){const i=C(null),o=si(this),d=$i(void 0);try{const I=this.get(Ra,fo,Jn.Self);for(const U of I)U()}finally{si(o),$i(d),C(i)}}toString(){const i=[],o=this.records;for(const d of o.keys())i.push(Et(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ei(205,!1)}processProvider(i){let o=Pc(i=kt(i))?i:kt(i&&i.provide);const d=function md(e){return lp(e)?rc(void 0,e.useValue):rc(xh(e),Ka)}(i);if(!Pc(i)&&!0===i.multi){let _=this.records.get(o);_||(_=rc(void 0,Ka,!0),_.factory=()=>_o(_.multi),this.records.set(o,_)),o=i,_.multi.push(i)}this.records.set(o,d)}hydrate(i,o){const d=C(null);try{return o.value===Ka&&(o.value=wh,o.value=o.factory()),"object"==typeof o.value&&o.value&&function cp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{C(d)}}injectableDefInScope(i){if(!i.providedIn)return!1;const o=kt(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function hu(e){const i=Jr(e),o=null!==i?i.factory:ps(e);if(null!==o)return o;if(e instanceof Pi)throw new ei(204,!1);if(e instanceof Function)return function Lc(e){if(e.length>0)throw new ei(204,!1);const o=function tl(e){return e&&(e[Pr]||e[gl])||null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new ei(204,!1)}function xh(e,i,o){let d;if(Pc(e)){const _=kt(e);return ps(_)||hu(_)}if(lp(e))d=()=>kt(e.useValue);else if(function _d(e){return!(!e||!e.useFactory)}(e))d=()=>e.useFactory(..._o(e.deps||[]));else if(function sc(e){return!(!e||!e.useExisting)}(e))d=()=>Qi(kt(e.useExisting));else{const _=kt(e&&(e.useClass||e.provide));if(!function qv(e){return!!e.deps}(e))return ps(_)||hu(_);d=()=>new _(..._o(e.deps))}return d}function rc(e,i,o=!1){return{factory:e,value:i,multi:o?[]:void 0}}function ia(e,i){for(const o of e)Array.isArray(o)?ia(o,i):o&&Mr(o)?ia(o.\u0275providers,i):i(o)}function Ml(e,i){e instanceof Ul&&e.assertNotDestroyed();const d=si(e),_=$i(void 0);try{return i()}finally{si(d),$i(_)}}function Tl(){return void 0!==Ni()||null!=function wn(){return bn}()}function Ss(e){if(!Tl())throw new ei(-203,!1)}const Ms=0,zn=1,li=2,Zs=3,za=4,vr=5,Br=6,bd=7,Bo=8,$s=9,jr=10,Ki=11,bo=12,sm=13,sl=14,zo=15,lc=16,Wa=17,rl=18,Nc=19,Bc=20,al=21,Us=22,Qo=23,Ii=25,Rh=1,Aa=7,yd=9,jo=10;var jc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(jc||{});function _s(e){return Array.isArray(e)&&"object"==typeof e[Rh]}function $r(e){return Array.isArray(e)&&!0===e[Rh]}function Ah(e){return!!(4&e.flags)}function $c(e){return e.componentOffset>-1}function Ed(e){return!(1&~e.flags)}function Or(e){return!!e.template}function Ts(e){return!!(512&e[li])}class Fh{constructor(i,o,d){this.previousValue=i,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function a0(e,i,o,d){null!==i?i.applyValueToInputSignal(i,d):e[o]=d}function mu(){return Vc}function Vc(e){return e.type.prototype.ngOnChanges&&(e.setInput=fm),hm}function hm(){const e=Lh(this),i=e?.current;if(i){const o=e.previous;if(o===ta)e.previous=i;else for(let d in i)o[d]=i[d];e.current=null,this.ngOnChanges(i)}}function fm(e,i,o,d,_){const I=this.declaredInputs[d],U=Lh(e)||function gu(e,i){return e[Ph]=i}(e,{previous:ta,current:null}),q=U.current||(U.current={}),re=U.previous,Be=re[I];q[I]=new Fh(Be&&Be.currentValue,o,re===ta),a0(e,i,_,o)}mu.ngInherit=!0;const Ph="__ngSimpleChanges__";function Lh(e){return e[Ph]||null}const Ha=function(e,i,o){},vp="svg";function Oo(e){for(;Array.isArray(e);)e=e[Ms];return e}function Md(e,i){return Oo(i[e])}function oa(e,i){return Oo(i[e.index])}function Td(e,i){return e.data[i]}function Gc(e,i){return e[i]}function sa(e,i){const o=i[e];return _s(o)?o:o[Ms]}function Bh(e){return!(128&~e[li])}function H(e,i){return null==i?null:e[i]}function ee(e){e[Wa]=0}function Le(e){1024&e[li]||(e[li]|=1024,Bh(e)&&vn(e))}function Bt(e){return!!(9216&e[li]||e[Qo]?.dirty)}function Wt(e){e[jr].changeDetectionScheduler?.notify(7),64&e[li]&&(e[li]|=1024),Bt(e)&&vn(e)}function vn(e){e[jr].changeDetectionScheduler?.notify(0);let i=Bn(e);for(;null!==i&&!(8192&i[li])&&(i[li]|=8192,Bh(i));)i=Bn(i)}function Pn(e,i){if(!(256&~e[li]))throw new ei(911,!1);null===e[al]&&(e[al]=[]),e[al].push(i)}function Bn(e){const i=e[Zs];return $r(i)?i[Zs]:i}const Yn={lFrame:Wc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ko=!1;function l0(){return Yn.bindingsEnabled}function Kc(){return null!==Yn.skipHydrationRootTNode}function Tn(){return Yn.lFrame.lView}function oo(){return Yn.lFrame.tView}function u0(e){return Yn.lFrame.contextLView=e,e[Bo]}function _m(e){return Yn.lFrame.contextLView=null,e}function ns(){let e=mm();for(;null!==e&&64===e.type;)e=e.parent;return e}function mm(){return Yn.lFrame.currentTNode}function jh(){const e=Yn.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}function cl(e,i){const o=Yn.lFrame;o.currentTNode=e,o.isParent=i}function gm(){return Yn.lFrame.isParent}function vm(){Yn.lFrame.isParent=!1}function lE(){return ko}function cE(e){ko=e}function Vr(){const e=Yn.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function Il(){return Yn.lFrame.bindingIndex}function Gl(){return Yn.lFrame.bindingIndex++}function zc(e){const i=Yn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,o}function ym(e){Yn.lFrame.inI18n=e}function Dd(e,i){const o=Yn.lFrame;o.bindingIndex=o.bindingRootIndex=e,fc(i)}function fc(e){Yn.lFrame.currentDirectiveIndex=e}function Qa(e){const i=Yn.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function Cu(){return Yn.lFrame.currentQueryIndex}function bp(e){Yn.lFrame.currentQueryIndex=e}function to(e){const i=e[zn];return 2===i.type?i.declTNode:1===i.type?e[vr]:null}function $h(e,i,o){if(o&Jn.SkipSelf){let _=i,I=e;for(;!(_=_.parent,null!==_||o&Jn.Host||(_=to(I),null===_||(I=I[sl],10&_.type))););if(null===_)return!1;i=_,e=I}const d=Yn.lFrame=p0();return d.currentTNode=i,d.lView=e,!0}function Su(e){const i=p0(),o=e[zn];Yn.lFrame=i,i.currentTNode=o.firstChild,i.lView=e,i.tView=o,i.contextLView=e,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function p0(){const e=Yn.lFrame,i=null===e?null:e.child;return null===i?Wc(e):i}function Wc(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function _0(){const e=Yn.lFrame;return Yn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const yp=_0;function m0(){const e=_0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gr(){return Yn.lFrame.selectedIndex}function Id(e){Yn.lFrame.selectedIndex=e}function vs(){const e=Yn.lFrame;return Td(e.tView,e.selectedIndex)}function dE(){Yn.lFrame.currentNamespace=vp}function g0(){!function hE(){Yn.lFrame.currentNamespace=null}()}let Cp=!0;function Mu(){return Cp}function br(e){Cp=e}function Sp(e,i){for(let o=i.directiveStart,d=i.directiveEnd;o<d;o++){const I=e.data[o].type.prototype,{ngAfterContentInit:U,ngAfterContentChecked:q,ngAfterViewInit:re,ngAfterViewChecked:Be,ngOnDestroy:qe}=I;U&&(e.contentHooks??=[]).push(-o,U),q&&((e.contentHooks??=[]).push(o,q),(e.contentCheckHooks??=[]).push(o,q)),re&&(e.viewHooks??=[]).push(-o,re),Be&&((e.viewHooks??=[]).push(o,Be),(e.viewCheckHooks??=[]).push(o,Be)),null!=qe&&(e.destroyHooks??=[]).push(o,qe)}}function Mp(e,i,o){Uh(e,i,3,o)}function Tp(e,i,o,d){(3&e[li])===o&&Uh(e,i,o,d)}function Cm(e,i){let o=e[li];(3&o)===i&&(o&=16383,o+=1,e[li]=o)}function Uh(e,i,o,d){const I=d??-1,U=i.length-1;let q=0;for(let re=void 0!==d?65535&e[Wa]:0;re<U;re++)if("number"==typeof i[re+1]){if(q=i[re],null!=d&&q>=d)break}else i[re]<0&&(e[Wa]+=65536),(q<I||-1==I)&&(pE(e,o,i,re),e[Wa]=(4294901760&e[Wa])+re+2),re++}function Sm(e,i){Ha(4,e,i);const o=C(null);try{i.call(e)}finally{C(o),Ha(5,e,i)}}function pE(e,i,o,d){const _=o[d]<0,I=o[d+1],q=e[_?-o[d]:o[d]];_?e[li]>>14<e[Wa]>>16&&(3&e[li])===i&&(e[li]+=16384,Sm(q,I)):Sm(q,I)}const Tu=-1;class Vh{constructor(i,o,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}const Tm={};class pc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,d){d=ao(d);const _=this.injector.get(i,Tm,d);return _!==Tm||o===Tm?_:this.parentInjector.get(i,o,d)}}function Kh(e){return e!==Tu}function zh(e){return 32767&e}function Wh(e,i){let o=function gE(e){return e>>16}(e),d=i;for(;o>0;)d=d[sl],o--;return d}let Dm=!0;function Dp(e){const i=Dm;return Dm=e,i}const Ip=255,E0=5;let bE=0;const Kl={};function Du(e,i){const o=C0(e,i);if(-1!==o)return o;const d=i[zn];d.firstCreatePass&&(e.injectorIndex=i.length,Op(d.data,e),Op(i,null),Op(d.blueprint,null));const _=_c(e,i),I=e.injectorIndex;if(Kh(_)){const U=zh(_),q=Wh(_,i),re=q[zn].data;for(let Be=0;Be<8;Be++)i[I+Be]=q[U+Be]|re[U+Be]}return i[I+8]=_,I}function Op(e,i){e.push(0,0,0,0,0,0,0,0,i)}function C0(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function _c(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,d=null,_=i;for(;null!==_;){if(d=I0(_),null===d)return Tu;if(o++,_=_[sl],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return Tu}function Im(e,i,o){!function Ji(e,i,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(et)&&(d=o[et]),null==d&&(d=o[et]=bE++);const _=d&Ip;i.data[e+(_>>E0)]|=1<<_}(e,i,o)}function S0(e,i,o){if(o&Jn.Optional||void 0!==e)return e;ti()}function M0(e,i,o,d){if(o&Jn.Optional&&void 0===d&&(d=null),!(o&(Jn.Self|Jn.Host))){const _=e[$s],I=$i(void 0);try{return _?_.get(i,d,o&Jn.Optional):Co(i,d,o&Jn.Optional)}finally{$i(I)}}return S0(d,0,o)}function Om(e,i,o,d=Jn.Default,_){if(null!==e){if(2048&i[li]&&!(d&Jn.Self)){const U=function Xc(e,i,o,d,_){let I=e,U=i;for(;null!==I&&null!==U&&2048&U[li]&&!(512&U[li]);){const q=wp(I,U,o,d|Jn.Self,Kl);if(q!==Kl)return q;let re=I.parent;if(!re){const Be=U[Bc];if(Be){const qe=Be.get(o,Kl,d);if(qe!==Kl)return qe}re=I0(U),U=U[sl]}I=re}return _}(e,i,o,d,Kl);if(U!==Kl)return U}const I=wp(e,i,o,d,Kl);if(I!==Kl)return I}return M0(i,o,d,_)}function wp(e,i,o,d,_){const I=function EE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(et)?e[et]:void 0;return"number"==typeof i?i>=0?i&Ip:CE:i}(o);if("function"==typeof I){if(!$h(i,e,d))return d&Jn.Host?S0(_,0,d):M0(i,o,d,_);try{let U;if(U=I(d),null!=U||d&Jn.Optional)return U;ti()}finally{yp()}}else if("number"==typeof I){let U=null,q=C0(e,i),re=Tu,Be=d&Jn.Host?i[zo][vr]:null;for((-1===q||d&Jn.SkipSelf)&&(re=-1===q?_c(e,i):i[q+8],re!==Tu&&xm(d,!1)?(U=i[zn],q=zh(re),i=Wh(re,i)):q=-1);-1!==q;){const qe=i[zn];if(T0(I,q,qe.data)){const It=wm(q,i,o,U,d,Be);if(It!==Kl)return It}re=i[q+8],re!==Tu&&xm(d,i[zn].data[q+8]===Be)&&T0(I,q,i)?(U=qe,q=zh(re),i=Wh(re,i)):q=-1}}return _}function wm(e,i,o,d,_,I){const U=i[zn],q=U.data[e+8],qe=Xh(q,U,o,null==d?$c(q)&&Dm:d!=U&&!!(3&q.type),_&Jn.Host&&I===q);return null!==qe?Od(i,U,qe,q):Kl}function Xh(e,i,o,d,_){const I=e.providerIndexes,U=i.data,q=1048575&I,re=e.directiveStart,qe=I>>20,Ht=_?q+qe:e.directiveEnd;for(let Jt=d?q:q+qe;Jt<Ht;Jt++){const un=U[Jt];if(Jt<re&&o===un||Jt>=re&&un.type===o)return Jt}if(_){const Jt=U[re];if(Jt&&Or(Jt)&&Jt.type===o)return re}return null}function Od(e,i,o,d){let _=e[o];const I=i.data;if(function v0(e){return e instanceof Vh}(_)){const U=_;U.resolving&&function En(e,i){throw i&&i.join(" > "),new ei(-200,e)}(function Vt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():mt(e)}(I[o]));const q=Dp(U.canSeeViewProviders);U.resolving=!0;const Be=U.injectImpl?$i(U.injectImpl):null;$h(e,d,Jn.Default);try{_=e[o]=U.factory(void 0,I,e,d),i.firstCreatePass&&o>=d.directiveStart&&function fE(e,i,o){const{ngOnChanges:d,ngOnInit:_,ngDoCheck:I}=i.type.prototype;if(d){const U=Vc(i);(o.preOrderHooks??=[]).push(e,U),(o.preOrderCheckHooks??=[]).push(e,U)}_&&(o.preOrderHooks??=[]).push(0-e,_),I&&((o.preOrderHooks??=[]).push(e,I),(o.preOrderCheckHooks??=[]).push(e,I))}(o,I[o],i)}finally{null!==Be&&$i(Be),Dp(q),U.resolving=!1,yp()}}return _}function T0(e,i,o){return!!(o[i+(e>>E0)]&1<<e)}function xm(e,i){return!(e&Jn.Self||e&Jn.Host&&i)}class lr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,d){return Om(this._tNode,this._lView,i,ao(d),o)}}function CE(){return new lr(ns(),Tn())}function D0(e){return Ls(()=>{const i=e.prototype.constructor,o=i[dt]||Rm(i),d=Object.prototype;let _=Object.getPrototypeOf(e.prototype).constructor;for(;_&&_!==d;){const I=_[dt]||Rm(_);if(I&&I!==o)return I;_=Object.getPrototypeOf(_)}return I=>new I})}function Rm(e){return gn(e)?()=>{const i=Rm(kt(e));return i&&i()}:ps(e)}function I0(e){const i=e[zn],o=i.type;return 2===o?i.declTNode:1===o?e[vr]:null}function xp(e){return function yE(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const o=e.attrs;if(o){const d=o.length;let _=0;for(;_<d;){const I=o[_];if(Sh(I))break;if(0===I)_+=2;else if("number"==typeof I)for(_++;_<d&&"string"==typeof o[_];)_++;else{if(I===i)return o[_+1];_+=2}}}return null}(ns(),e)}function Am(e,i=null,o=null,d){const _=A0(e,i,o,d);return _.resolveInjectorInitializers(),_}function A0(e,i=null,o=null,d,_=new Set){const I=[o||fo,Ih(e)];return d=d||("object"==typeof e?void 0:Et(e)),new Ul(I,i||Zi(),d||null,_)}class yr{static#e=this.THROW_IF_NOT_FOUND=Ll;static#t=this.NULL=new pd;static create(i,o){if(Array.isArray(i))return Am({name:""},o,i,"");{const d=i.name??"";return Am({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=Do({token:yr,providedIn:"any",factory:()=>Qi(fd)});static#i=this.__NG_ELEMENT_ID__=-1}new Pi("").__NG_ELEMENT_ID__=e=>{const i=ns();if(null===i)throw new ei(204,!1);if(2&i.type)return i.value;if(e&Jn.Optional)return null;throw new ei(204,!1)};function km(e){return e.ngOriginalError}class Ol{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&km(i);for(;o&&km(o);)o=km(o);return o||null}}const OE=new Pi("",{providedIn:"root",factory:()=>Nn(Ol).handleError.bind(void 0)});let Qh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=wE;static#t=this.__NG_ENV_ID__=o=>o}return e})();class F0 extends Qh{constructor(i){super(),this._lView=i}onDestroy(i){return Pn(this._lView,i),()=>function Ei(e,i){if(null===e[al])return;const o=e[al].indexOf(i);-1!==o&&e[al].splice(o,1)}(this._lView,i)}}function wE(){return new F0(Tn())}function L0(){return Ou(ns(),Tn())}function Ou(e,i){return new Jh(oa(e,i))}let Jh=(()=>{class e{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=L0}return e})();function RE(e){return e instanceof Jh?e.nativeElement:e}let Hc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new De.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Do({token:e,providedIn:"root",factory:()=>new e})}return e})();const zl=class AE extends ke.B7{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,Tl()&&(this.destroyRef=Nn(Qh,{optional:!0})??void 0,this.pendingTasks=Nn(Hc,{optional:!0})??void 0)}emit(i){const o=C(null);try{super.next(i)}finally{C(o)}}subscribe(i,o,d){let _=i,I=o||(()=>null),U=d;if(i&&"object"==typeof i){const re=i;_=re.next?.bind(re),I=re.error?.bind(re),U=re.complete?.bind(re)}this.__isAsync&&(I=this.wrapInTimeout(I),_&&(_=this.wrapInTimeout(_)),U&&(U=this.wrapInTimeout(U)));const q=super.subscribe({next:_,error:I,complete:U});return i instanceof Qe.y&&i.add(q),q}wrapInTimeout(i){return o=>{const d=this.pendingTasks?.add();setTimeout(()=>{i(o),void 0!==d&&this.pendingTasks?.remove(d)})}}};function kE(){return this._results[Symbol.iterator]()}class Ap{static#e=Symbol.iterator;get changes(){return this._changes??=new zl}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Ap.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=kE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){this.dirty=!1;const d=function gr(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function ua(e,i,o){if(e.length!==i.length)return!1;for(let d=0;d<e.length;d++){let _=e[d],I=i[d];if(o&&(_=o(_),I=o(I)),I!==_)return!1}return!0}(this._results,d,o))&&(this._results=d,this.length=d.length,this.last=d[this.length-1],this.first=d[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function xu(e){return!(128&~e.flags)}const kp=new Map;let FE=0;const Fp="__ngContext__";function aa(e,i){_s(i)?(e[Fp]=i[Nc],function LE(e){kp.set(e[Nc],e)}(i)):e[Fp]=i}function GE(e){return KE(e[bo])}function z0(e){return KE(e[za])}function KE(e){for(;null!==e&&!$r(e);)e=e[za];return e}let Um;function J0(e){Um=e}function Qc(){if(void 0!==Um)return Um;if(typeof document<"u")return document;throw new ei(210,!1)}const Lp=new Pi("",{providedIn:"root",factory:()=>YE}),YE="ng",Z0=new Pi(""),Vm=new Pi("",{providedIn:"platform",factory:()=>"unknown"}),ZT=new Pi(""),qT=new Pi("",{providedIn:"root",factory:()=>Qc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qE=()=>null;function Lu(e,i,o=!1){return qE(e,i,o)}const sf=new Pi("",{providedIn:"root",factory:()=>!1});let Wp,Xp;function Vu(e){return function Xm(){if(void 0===Wp&&(Wp=null,Yo.trustedTypes))try{Wp=Yo.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wp}()?.createHTML(e)||e}function rf(){if(void 0===Xp&&(Xp=null,Yo.trustedTypes))try{Xp=Yo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xp}function s1(e){return rf()?.createHTML(e)||e}function a1(e){return rf()?.createScriptURL(e)||e}class Ld{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fr})`}}class l1 extends Ld{getTypeName(){return"HTML"}}class c1 extends Ld{getTypeName(){return"Style"}}class vc extends Ld{getTypeName(){return"Script"}}class Qm extends Ld{getTypeName(){return"URL"}}class d1 extends Ld{getTypeName(){return"ResourceURL"}}function bc(e){return e instanceof Ld?e.changingThisBreaksApplicationSecurity:e}function Gu(e,i){const o=function iC(e){return e instanceof Ld&&e.getTypeName()||null}(e);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Fr})`)}return o===i}function u1(e){return new l1(e)}function oC(e){return new c1(e)}function sC(e){return new vc(e)}function Jm(e){return new Qm(e)}function rC(e){return new d1(e)}function Ku(e){const i=new h1(e);return function f1(){try{return!!(new window.DOMParser).parseFromString(Vu(""),"text/html")}catch{return!1}}()?new Hp(i):i}class Hp{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Vu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class h1{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Vu(i),o}}const p1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function af(e){return(e=String(e)).match(p1)?e:"unsafe:"+e}function Wl(e){const i={};for(const o of e.split(","))i[o]=!0;return i}function zu(...e){const i={};for(const o of e)for(const d in o)o.hasOwnProperty(d)&&(i[d]=!0);return i}const Zm=Wl("area,br,col,hr,img,wbr"),qm=Wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_1=Wl("rp,rt"),eg=zu(Zm,zu(qm,Wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zu(_1,Wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zu(_1,qm)),tg=Wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m1=zu(tg,Wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),df=Wl("script,style,template");class lC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,d=!0,_=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?d=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,d&&o.firstChild)_.push(o),o=cC(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let I=v1(o);if(I){o=I;break}o=_.pop()}return this.buf.join("")}startElement(i){const o=Yp(i).toLowerCase();if(!eg.hasOwnProperty(o))return this.sanitizedSomething=!0,!df.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const d=i.attributes;for(let _=0;_<d.length;_++){const I=d.item(_),U=I.name,q=U.toLowerCase();if(!m1.hasOwnProperty(q)){this.sanitizedSomething=!0;continue}let re=I.value;tg[q]&&(re=af(re)),this.buf.push(" ",U,'="',b1(re),'"')}return this.buf.push(">"),!0}endElement(i){const o=Yp(i).toLowerCase();eg.hasOwnProperty(o)&&!Zm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(b1(i))}}function v1(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw Nd(i);return i}function cC(e){const i=e.firstChild;if(i&&function g1(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw Nd(i);return i}function Yp(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function Nd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const ng=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qs=/([^\#-~ |!])/g;function b1(e){return e.replace(/&/g,"&amp;").replace(ng,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(qs,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uf;function Er(e,i){let o=null;try{uf=uf||Ku(e);let d=i?String(i):"";o=uf.getInertBodyElement(d);let _=5,I=d;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,d=I,I=o.innerHTML,o=uf.getInertBodyElement(d)}while(d!==I);return Vu((new lC).sanitizeChildren(ul(o)||o))}finally{if(o){const d=ul(o)||o;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ul(e){return"content"in e&&function hf(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Bd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Bd||{});function y1(e){const i=ff();return i?s1(i.sanitize(Bd.HTML,e)||""):Gu(e,"HTML")?s1(bc(e)):Er(Qc(),mt(e))}function ig(e){const i=ff();return i?i.sanitize(Bd.URL,e)||"":Gu(e,"URL")?bc(e):af(mt(e))}function E1(e){const i=ff();if(i)return a1(i.sanitize(Bd.RESOURCE_URL,e)||"");if(Gu(e,"ResourceURL"))return a1(bc(e));throw new ei(904,!1)}function C1(e,i,o){return function pC(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?E1:ig}(i,o)(e)}function ff(){const e=Tn();return e&&e[jr].sanitizer}const _C=/^>|^->|<!--|-->|--!>|<!-$/g,mC=/(<|>)/g,gC="\u200b$1\u200b";function I1(e){return e.ownerDocument.defaultView}function qp(e){return e.ownerDocument}function La(e){return e instanceof Function?e():e}function Na(e){return"browser"===(e??Nn(yr)).get(Vm)}var e_=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(e_||{});let dg;function ug(e,i){return dg(e,i)}function jd(e,i,o,d,_){if(null!=d){let I,U=!1;$r(d)?I=d:_s(d)&&(U=!0,d=d[Ms]);const q=Oo(d);0===e&&null!==o?null==_?pg(i,o,q):$d(i,o,q,_||null,!0):1===e&&null!==o?$d(i,o,q,_||null,!0):2===e?a_(i,q,U):3===e&&i.destroyNode(q),null!=I&&function yg(e,i,o,d,_){const I=o[Aa];I!==Oo(o)&&jd(i,e,d,I,_);for(let q=jo;q<o.length;q++){const re=o[q];is(re[zn],re,e,i,d,I)}}(i,e,I,o,_)}}function hg(e,i){return e.createText(i)}function R1(e,i,o){e.setValue(i,o)}function t_(e,i){return e.createComment(function Qp(e){return e.replace(_C,i=>i.replace(mC,gC))}(i))}function n_(e,i,o){return e.createElement(i,o)}function A1(e,i){i[jr].changeDetectionScheduler?.notify(8),is(e,i,i[Ki],2,null,null)}function k1(e,i){const o=e[yd],d=i[Zs];(_s(d)||i[zo]!==d[Zs][zo])&&(e[li]|=jc.HasTransplantedViews),null===o?e[yd]=[i]:o.push(i)}function i_(e,i){const o=e[yd],d=o.indexOf(i);o.splice(d,1)}function pf(e,i){if(e.length<=jo)return;const o=jo+i,d=e[o];if(d){const _=d[lc];null!==_&&_!==e&&i_(_,d),i>0&&(e[o-1][za]=d[za]);const I=Ua(e,jo+i);!function TC(e,i){A1(e,i),i[Ms]=null,i[vr]=null}(d[zn],d);const U=I[rl];null!==U&&U.detachView(I[zn]),d[Zs]=null,d[za]=null,d[li]&=-129}return d}function o_(e,i){if(!(256&i[li])){const o=i[Ki];o.destroyNode&&is(e,i,o,3,null,null),function yc(e){let i=e[bo];if(!i)return fg(e[zn],e);for(;i;){let o=null;if(_s(i))o=i[bo];else{const d=i[jo];d&&(o=d)}if(!o){for(;i&&!i[za]&&i!==e;)_s(i)&&fg(i[zn],i),i=i[Zs];null===i&&(i=e),_s(i)&&fg(i[zn],i),o=i&&i[za]}i=o}}(i)}}function fg(e,i){if(256&i[li])return;const o=C(null);try{i[li]&=-129,i[li]|=256,i[Qo]&&l(i[Qo]),function wC(e,i){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let d=0;d<o.length;d+=2){const _=i[o[d]];if(!(_ instanceof Vh)){const I=o[d+1];if(Array.isArray(I))for(let U=0;U<I.length;U+=2){const q=_[I[U]],re=I[U+1];Ha(4,q,re);try{re.call(q)}finally{Ha(5,q,re)}}else{Ha(4,_,I);try{I.call(_)}finally{Ha(5,_,I)}}}}}(e,i),function OC(e,i){const o=e.cleanup,d=i[bd];if(null!==o)for(let I=0;I<o.length-1;I+=2)if("string"==typeof o[I]){const U=o[I+3];U>=0?d[U]():d[-U].unsubscribe(),I+=2}else o[I].call(d[o[I+1]]);null!==d&&(i[bd]=null);const _=i[al];if(null!==_){i[al]=null;for(let I=0;I<_.length;I++)(0,_[I])()}}(e,i),1===i[zn].type&&i[Ki].destroy();const d=i[lc];if(null!==d&&$r(i[Zs])){d!==i[Zs]&&i_(d,i);const _=i[rl];null!==_&&_.detachView(e)}!function zT(e){kp.delete(e[Nc])}(i)}finally{C(o)}}function s_(e,i,o){return F1(e,i.parent,o)}function F1(e,i,o){let d=i;for(;null!==d&&168&d.type;)d=(i=d).parent;if(null===d)return o[Ms];{const{componentOffset:_}=d;if(_>-1){const{encapsulation:I}=e.data[d.directiveStart+_];if(I===yl.None||I===yl.Emulated)return null}return oa(d,o)}}function $d(e,i,o,d,_){e.insertBefore(i,o,d,_)}function pg(e,i,o){e.appendChild(i,o)}function xC(e,i,o,d,_){null!==d?$d(e,i,o,d,_):pg(e,i,o)}function _g(e,i){return e.parentNode(i)}function P1(e,i,o){return _f(e,i,o)}function L1(e,i,o){return 40&e.type?oa(e,o):null}let mg,_f=L1;function N1(e,i){_f=e,mg=i}function r_(e,i,o,d){const _=s_(e,d,i),I=i[Ki],q=P1(d.parent||i[vr],d,i);if(null!=_)if(Array.isArray(o))for(let re=0;re<o.length;re++)xC(I,_,o[re],q,!1);else xC(I,_,o,q,!1);void 0!==mg&&mg(I,d,i,o,_)}function Ud(e,i){if(null!==i){const o=i.type;if(3&o)return oa(i,e);if(4&o)return mf(-1,e[i.index]);if(8&o){const d=i.child;if(null!==d)return Ud(e,d);{const _=e[i.index];return $r(_)?mf(-1,_):Oo(_)}}if(32&o)return ug(i,e)()||Oo(e[i.index]);{const d=B1(e,i);return null!==d?Array.isArray(d)?d[0]:Ud(Bn(e[zo]),d):Ud(e,i.next)}}return null}function B1(e,i){return null!==i?e[zo][vr].projection[i.projection]:null}function mf(e,i){const o=jo+e+1;if(o<i.length){const d=i[o],_=d[zn].firstChild;if(null!==_)return Ud(d,_)}return i[Aa]}function a_(e,i,o){const d=_g(e,i);d&&function gD(e,i,o,d){e.removeChild(i,o,d)}(e,d,i,o)}function vg(e,i,o,d,_,I,U){for(;null!=o;){if(128===o.type){o=o.next;continue}const q=d[o.index],re=o.type;if(U&&0===i&&(q&&aa(Oo(q),d),o.flags|=2),32&~o.flags)if(8&re)vg(e,i,o.child,d,_,I,!1),jd(i,e,_,q,I);else if(32&re){const Be=ug(o,d);let qe;for(;qe=Be();)jd(i,e,_,qe,I);jd(i,e,_,q,I)}else 16&re?j1(e,i,d,o,_,I):jd(i,e,_,q,I);o=U?o.projectionNext:o.next}}function is(e,i,o,d,_,I){vg(o,d,e.firstChild,i,_,I,!1)}function j1(e,i,o,d,_,I){const U=o[zo],re=U[vr].projection[d.projection];if(Array.isArray(re))for(let Be=0;Be<re.length;Be++)jd(i,e,_,re[Be],I);else{let Be=re;const qe=U[Zs];xu(d)&&(Be.flags|=128),vg(e,i,Be,qe,_,I,!0)}}function $1(e,i,o){""===o?e.removeAttribute(i,"class"):e.setAttribute(i,"class",o)}function U1(e,i,o){const{mergedAttrs:d,classes:_,styles:I}=o;null!==d&&Bl(e,i,d),null!==_&&$1(e,i,_),null!==I&&function AC(e,i,o){e.setAttribute(i,"style",o)}(e,i,I)}const so={};function V1(e=1){G1(oo(),Tn(),Gr()+e,!1)}function G1(e,i,o,d){if(!d)if(3&~i[li]){const I=e.preOrderHooks;null!==I&&Tp(i,I,0,o)}else{const I=e.preOrderCheckHooks;null!==I&&Mp(i,I,o)}Id(o)}function Vd(e,i=Jn.Default){const o=Tn();return null===o?Qi(e,i):Om(ns(),o,kt(e),i)}function gf(){throw new Error("invalid")}function K1(e,i,o,d,_,I){const U=C(null);try{let q=null;_&Va.SignalBased&&(q=i[d][b]),null!==q&&void 0!==q.transformFn&&(I=q.transformFn(I)),_&Va.HasDecoratorInputTransform&&(I=e.inputTransforms[d].call(i,I)),null!==e.setInput?e.setInput(i,q,I,o,d):a0(i,q,d,I)}finally{C(U)}}function Hu(e,i,o,d,_,I,U,q,re,Be,qe){const It=i.blueprint.slice();return It[Ms]=_,It[li]=204|d,(null!==Be||e&&2048&e[li])&&(It[li]|=2048),ee(It),It[Zs]=It[sl]=e,It[Bo]=o,It[jr]=U||e&&e[jr],It[Ki]=q||e&&e[Ki],It[$s]=re||e&&e[$s]||null,It[vr]=I,It[Nc]=function PE(){return FE++}(),It[Br]=qe,It[Bc]=Be,It[zo]=2==i.type?e[zo]:It,It}function Gd(e,i,o,d,_){let I=e.data[i];if(null===I)I=Eg(e,i,o,d,_),function Eu(){return Yn.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=o,I.value=d,I.attrs=_;const U=jh();I.injectorIndex=null===U?-1:U.injectorIndex}return cl(I,!0),I}function Eg(e,i,o,d,_){const I=mm(),U=gm(),re=e.data[i]=function z1(e,i,o,d,_,I){let U=i?i.injectorIndex:-1,q=0;return Kc()&&(q|=128),{type:o,index:d,insertBeforeIndex:null,injectorIndex:U,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:q,providerIndexes:0,value:_,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,U?I:I&&I.parent,o,i,d,_);return null===e.firstChild&&(e.firstChild=re),null!==I&&(U?null==I.child&&null!==re.parent&&(I.child=re):null===I.next&&(I.next=re,re.prev=I)),re}function Yu(e,i,o,d){if(0===o)return-1;const _=i.length;for(let I=0;I<o;I++)i.push(d),e.blueprint.push(d),e.data.push(null);return _}function l_(e,i,o,d,_){const I=Gr(),U=2&d;try{Id(-1),U&&i.length>Ii&&G1(e,i,Ii,!1),Ha(U?2:0,_),o(d,_)}finally{Id(I),Ha(U?3:1,_)}}function Kd(e,i,o){if(Ah(i)){const d=C(null);try{const I=i.directiveEnd;for(let U=i.directiveStart;U<I;U++){const q=e.data[U];q.contentQueries&&q.contentQueries(1,o[U],U)}}finally{C(d)}}}function cr(e,i,o){l0()&&(function Tg(e,i,o,d){const _=o.directiveStart,I=o.directiveEnd;$c(o)&&function J1(e,i,o){const d=oa(i,e),_=Qu(o);let U=16;o.signals?U=4096:o.onPush&&(U=64);const q=d_(e,Hu(e,_,null,U,d,i,null,e[jr].rendererFactory.createRenderer(d,o),null,null,null));e[i.index]=q}(i,o,e.data[_+o.componentOffset]),e.firstCreatePass||Du(o,i),aa(d,i);const U=o.initialInputs;for(let q=_;q<I;q++){const re=e.data[q],Be=Od(i,e,q,o);aa(Be,i),null!==U&&KC(0,q-_,Be,re,0,U),Or(re)&&(sa(o.index,i)[Bo]=Od(i,e,q,o))}}(e,i,o,oa(o,i)),!(64&~o.flags)&&Dg(e,i,o))}function Cg(e,i,o=oa){const d=i.localNames;if(null!==d){let _=i.index+1;for(let I=0;I<d.length;I+=2){const U=d[I+1],q=-1===U?o(i,e):e[U];e[_++]=q}}}function Qu(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=zd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function zd(e,i,o,d,_,I,U,q,re,Be,qe){const It=Ii+d,Ht=It+_,Jt=function FC(e,i){const o=[];for(let d=0;d<i;d++)o.push(d<e?null:so);return o}(It,Ht),un="function"==typeof Be?Be():Be;return Jt[zn]={type:e,blueprint:Jt,template:o,queries:null,viewQuery:q,declTNode:i,data:Jt.slice().fill(null,It),bindingStartIndex:It,expandoStartIndex:Ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof U?U():U,firstChild:null,schemas:re,consts:un,incompleteFirstPass:!1,ssrId:qe}}let Sg=()=>null;function W1(e,i,o,d,_){for(let I in i){if(!i.hasOwnProperty(I))continue;const U=i[I];if(void 0===U)continue;d??={};let q,re=Va.None;Array.isArray(U)?(q=U[0],re=U[1]):q=U;let Be=I;if(null!==_){if(!_.hasOwnProperty(I))continue;Be=_[I]}0===e?vf(d,o,Be,q,re):vf(d,o,Be,q)}return d}function vf(e,i,o,d,_){let I;e.hasOwnProperty(o)?(I=e[o]).push(i,d):I=e[o]=[i,d],void 0!==_&&I.push(_)}function la(e,i,o,d,_,I,U,q){const re=oa(i,o);let qe,Be=i.inputs;!q&&null!=Be&&(qe=Be[d])?(Rg(e,o,qe,d,_),$c(i)&&function X1(e,i){const o=sa(i,e);16&o[li]||(o[li]|=64)}(o,i.index)):3&i.type&&(d=function Ju(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(d),_=null!=U?U(_,i.value||"",d):_,I.setProperty(re,d,_))}function Zu(e,i,o,d){if(l0()){const _=null===d?null:{"":-1},I=function UC(e,i){const o=e.directiveRegistry;let d=null,_=null;if(o)for(let I=0;I<o.length;I++){const U=o[I];if(Th(i,U.selectors,!1))if(d||(d=[]),Or(U))if(null!==U.findHostDirectiveDefs){const q=[];_=_||new Map,U.findHostDirectiveDefs(U,q,_),d.unshift(...q,U),Wd(e,i,q.length)}else d.unshift(U),Wd(e,i,0);else _=_||new Map,U.findHostDirectiveDefs?.(U,d,_),d.push(U)}return null===d?null:[d,_]}(e,o);let U,q;null===I?U=q=null:[U,q]=I,null!==U&&Mg(e,i,o,U,_,q),_&&function Ig(e,i,o){if(i){const d=e.localNames=[];for(let _=0;_<i.length;_+=2){const I=o[i[_+1]];if(null==I)throw new ei(-301,!1);d.push(i[_],I)}}}(o,d,_)}o.mergedAttrs=il(o.mergedAttrs,o.attrs)}function Mg(e,i,o,d,_,I){for(let Be=0;Be<d.length;Be++)Im(Du(o,i),e,d[Be].type);!function GC(e,i,o){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+o,e.providerIndexes=i}(o,e.data.length,d.length);for(let Be=0;Be<d.length;Be++){const qe=d[Be];qe.providersResolver&&qe.providersResolver(qe)}let U=!1,q=!1,re=Yu(e,i,d.length,null);for(let Be=0;Be<d.length;Be++){const qe=d[Be];o.mergedAttrs=il(o.mergedAttrs,qe.hostAttrs),qu(e,o,i,re,qe),VC(re,qe,_),null!==qe.contentQueries&&(o.flags|=4),(null!==qe.hostBindings||null!==qe.hostAttrs||0!==qe.hostVars)&&(o.flags|=64);const It=qe.type.prototype;!U&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((e.preOrderHooks??=[]).push(o.index),U=!0),!q&&(It.ngOnChanges||It.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(o.index),q=!0),re++}!function bf(e,i,o){const _=i.directiveEnd,I=e.data,U=i.attrs,q=[];let re=null,Be=null;for(let qe=i.directiveStart;qe<_;qe++){const It=I[qe],Ht=o?o.get(It):null,un=Ht?Ht.outputs:null;re=W1(0,It.inputs,qe,re,Ht?Ht.inputs:null),Be=W1(1,It.outputs,qe,Be,un);const Dn=null===re||null===U||cu(i)?null:zC(re,qe,U);q.push(Dn)}null!==re&&(re.hasOwnProperty("class")&&(i.flags|=8),re.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=q,i.inputs=re,i.outputs=Be}(e,o,I)}function Dg(e,i,o){const d=o.directiveStart,_=o.directiveEnd,I=o.index,U=function NT(){return Yn.lFrame.currentDirectiveIndex}();try{Id(I);for(let q=d;q<_;q++){const re=e.data[q],Be=i[q];fc(q),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&$C(re,Be)}}finally{Id(-1),fc(U)}}function $C(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function Wd(e,i,o){i.componentOffset=o,(e.components??=[]).push(i.index)}function VC(e,i,o){if(o){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)o[i.exportAs[d]]=e;Or(i)&&(o[""]=e)}}function qu(e,i,o,d,_){e.data[d]=_;const I=_.factory||(_.factory=ps(_.type)),U=new Vh(I,Or(_),Vd);e.blueprint[d]=U,o[d]=U,function Y1(e,i,o,d,_){const I=_.hostBindings;if(I){let U=e.hostBindingOpCodes;null===U&&(U=e.hostBindingOpCodes=[]);const q=~i.index;(function Q1(e){let i=e.length;for(;i>0;){const o=e[--i];if("number"==typeof o&&o<0)return o}return 0})(U)!=q&&U.push(q),U.push(o,d,I)}}(e,i,d,Yu(e,o,_.hostVars,so),_)}function Og(e,i,o,d,_,I,U){if(null==I)e.removeAttribute(i,_,o);else{const q=null==U?mt(I):U(I,d||"",_);e.setAttribute(i,_,q,o)}}function KC(e,i,o,d,_,I){const U=I[i];if(null!==U)for(let q=0;q<U.length;)K1(d,o,U[q++],U[q++],U[q++],U[q++])}function zC(e,i,o){let d=null,_=0;for(;_<o.length;){const I=o[_];if(0!==I)if(5!==I){if("number"==typeof I)break;if(e.hasOwnProperty(I)){null===d&&(d=[]);const U=e[I];for(let q=0;q<U.length;q+=3)if(U[q]===i){d.push(I,U[q+1],U[q+2],o[_+1]);break}}_+=2}else _+=2;else _+=4}return d}function yf(e,i,o,d){return[e,!0,0,i,null,d,null,o,null,null]}function Z1(e,i){const o=e.contentQueries;if(null!==o){const d=C(null);try{for(let _=0;_<o.length;_+=2){const U=o[_+1];if(-1!==U){const q=e.data[U];bp(o[_]),q.contentQueries(2,i[U],U)}}}finally{C(d)}}}function d_(e,i){return e[bo]?e[sm][za]=i:e[bo]=i,e[sm]=i,i}function wg(e,i,o){bp(0);const d=C(null);try{i(e,o)}finally{C(d)}}function q1(e){return e[bd]??=[]}function u_(e){return e.cleanup??=[]}function xg(e,i,o){return(null===e||Or(e))&&(o=function yu(e){for(;Array.isArray(e);){if("object"==typeof e[Rh])return e;e=e[Ms]}return null}(o[i.index])),o[Ki]}function Cf(e,i){const o=e[$s],d=o?o.get(Ol,null):null;d&&d.handleError(i)}function Rg(e,i,o,d,_){for(let I=0;I<o.length;){const U=o[I++],q=o[I++],re=o[I++];K1(e.data[U],i[U],d,q,re,_)}}function Ec(e,i,o){const d=Md(i,e);R1(e[Ki],d,o)}function Xd(e,i){const o=sa(i,e),d=o[zn];!function eh(e,i){for(let o=i.length;o<e.blueprint.length;o++)i.push(e.blueprint[o])}(d,o);const _=o[Ms];null!==_&&null===o[Br]&&(o[Br]=Lu(_,o[$s])),qc(d,o,o[Bo])}function qc(e,i,o){Su(i);try{const d=e.viewQuery;null!==d&&wg(1,d,o);const _=e.template;null!==_&&l_(e,i,_,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),i[rl]?.finishViewCreation(e),e.staticContentQueries&&Z1(e,i),e.staticViewQueries&&wg(2,e.viewQuery,o);const I=e.components;null!==I&&function WC(e,i){for(let o=0;o<i.length;o++)Xd(e,i[o])}(i,I)}catch(d){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),d}finally{i[li]&=-5,m0()}}function th(e,i,o,d){const _=C(null);try{const I=i.tView,re=Hu(e,I,o,4096&e[li]?4096:16,null,i,null,null,d?.injector??null,d?.embeddedViewInjector??null,d?.dehydratedView??null);re[lc]=e[i.index];const qe=e[rl];return null!==qe&&(re[rl]=qe.createEmbeddedView(I)),qc(I,re,o),re}finally{C(_)}}function eb(e,i){const o=jo+i;if(o<e.length)return e[o]}function Hd(e,i){return!i||null===i.firstChild||xu(e)}function nh(e,i,o,d=!0){const _=i[zn];if(function IC(e,i,o,d){const _=jo+d,I=o.length;d>0&&(o[_-1][za]=i),d<I-jo?(i[za]=o[_],np(o,jo+d,i)):(o.push(i),i[za]=null),i[Zs]=o;const U=i[lc];null!==U&&o!==U&&k1(U,i);const q=i[rl];null!==q&&q.insertView(e),Wt(i),i[li]|=128}(_,i,e,o),d){const U=mf(o,e),q=i[Ki],re=_g(q,e[Aa]);null!==re&&function DC(e,i,o,d,_,I){d[Ms]=_,d[vr]=i,is(e,d,o,1,_,I)}(_,e[vr],q,i,re,U)}const I=i[Br];null!==I&&null!==I.firstChild&&(I.firstChild=null)}function Ag(e,i){const o=pf(e,i);return void 0!==o&&o_(o[zn],o),o}function Jo(e,i,o,d,_=!1){for(;null!==o;){if(128===o.type){o=_?o.projectionNext:o.next;continue}const I=i[o.index];null!==I&&d.push(Oo(I)),$r(I)&&tb(I,d);const U=o.type;if(8&U)Jo(e,i,o.child,d);else if(32&U){const q=ug(o,i);let re;for(;re=q();)d.push(re)}else if(16&U){const q=B1(i,o);if(Array.isArray(q))d.push(...q);else{const re=Bn(i[zo]);Jo(re[zn],re,q,d,!0)}}o=_?o.projectionNext:o.next}return d}function tb(e,i){for(let o=jo;o<e.length;o++){const d=e[o],_=d[zn].firstChild;null!==_&&Jo(d[zn],d,_,i)}e[Aa]!==e[Ms]&&i.push(e[Aa])}let Yd=[];const ih={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{vn(e.lView)},consumerOnSignalRead(){this.lView[Qo]=this}},Sf={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let i=Bn(e.lView);for(;i&&!kg(i[zn]);)i=Bn(i);i&&Le(i)},consumerOnSignalRead(){this.lView[Qo]=this}};function kg(e){return 2!==e.type}const Fg=100;function Qd(e,i=!0,o=0){const d=e[jr],_=d.rendererFactory;_.begin?.();try{!function ib(e,i){const o=lE();try{cE(!0),f_(e,i);let d=0;for(;Bt(e);){if(d===Fg)throw new ei(103,!1);d++,f_(e,1)}}finally{cE(o)}}(e,o)}catch(U){throw i&&Cf(e,U),U}finally{_.end?.(),d.inlineEffectRunner?.flush()}}function ob(e,i,o,d){const _=i[li];if(!(256&~_))return;i[jr].inlineEffectRunner?.flush(),Su(i);let q=!0,re=null,Be=null;kg(e)?(Be=function XC(e){return e[Qo]??function ed(e){const i=Yd.pop()??Object.create(ih);return i.lView=e,i}(e)}(i),re=D(Be)):null===function g(){return n}()?(q=!1,Be=function nb(e){const i=e[Qo]??Object.create(Sf);return i.lView=e,i}(i),re=D(Be)):i[Qo]&&(l(i[Qo]),i[Qo]=null);try{ee(i),function f0(e){return Yn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==o&&l_(e,i,o,2,d);const qe=!(3&~_);if(qe){const Jt=e.preOrderCheckHooks;null!==Jt&&Mp(i,Jt,null)}else{const Jt=e.preOrderHooks;null!==Jt&&Tp(i,Jt,0,null),Cm(i,0)}if(function xl(e){for(let i=GE(e);null!==i;i=z0(i)){if(!(i[li]&jc.HasTransplantedViews))continue;const o=i[yd];for(let d=0;d<o.length;d++)Le(o[d])}}(i),Lg(i,0),null!==e.contentQueries&&Z1(e,i),qe){const Jt=e.contentCheckHooks;null!==Jt&&Mp(i,Jt)}else{const Jt=e.contentHooks;null!==Jt&&Tp(i,Jt,1),Cm(i,1)}!function kC(e,i){const o=e.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const _=o[d];if(_<0)Id(~_);else{const I=_,U=o[++d],q=o[++d];Dd(U,I),q(2,i[I])}}}finally{Id(-1)}}(e,i);const It=e.components;null!==It&&p_(i,It,0);const Ht=e.viewQuery;if(null!==Ht&&wg(2,Ht,d),qe){const Jt=e.viewCheckHooks;null!==Jt&&Mp(i,Jt)}else{const Jt=e.viewHooks;null!==Jt&&Tp(i,Jt,2),Cm(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Us]){for(const Jt of i[Us])Jt();i[Us]=null}i[li]&=-73}catch(qe){throw vn(i),qe}finally{null!==Be&&(A(Be,re),q&&function fa(e){e.lView[Qo]!==e&&(e.lView=null,Yd.push(e))}(Be)),m0()}}function Lg(e,i){for(let o=GE(e);null!==o;o=z0(o))for(let d=jo;d<o.length;d++)h_(o[d],i)}function HC(e,i,o){h_(sa(i,e),o)}function h_(e,i){Bh(e)&&f_(e,i)}function f_(e,i){const d=e[zn],_=e[li],I=e[Qo];let U=!!(0===i&&16&_);if(U||=!!(64&_&&0===i),U||=!!(1024&_),U||=!(!I?.dirty||!L(I)),U||=!1,I&&(I.dirty=!1),e[li]&=-9217,U)ob(d,e,d.template,e[Bo]);else if(8192&_){Lg(e,1);const q=d.components;null!==q&&p_(e,q,1)}}function p_(e,i,o){for(let d=0;d<i.length;d++)HC(e,i[d],o)}function Mf(e,i){const o=lE()?64:1088;for(e[jr].changeDetectionScheduler?.notify(i);e;){e[li]|=o;const d=Bn(e);if(Ts(e)&&!d)return e;e=d}return null}class oh{get rootNodes(){const i=this._lView,o=i[zn];return Jo(o,i,o.firstChild,[])}constructor(i,o,d=!0){this._lView=i,this._cdRefInjectingView=o,this.notifyErrorHandler=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bo]}set context(i){this._lView[Bo]=i}get destroyed(){return!(256&~this._lView[li])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Zs];if($r(i)){const o=i[8],d=o?o.indexOf(this):-1;d>-1&&(pf(i,d),Ua(o,d))}this._attachedToViewContainer=!1}o_(this._lView[zn],this._lView)}onDestroy(i){Pn(this._lView,i)}markForCheck(){Mf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[li]&=-129}reattach(){Wt(this._lView),this._lView[li]|=128}detectChanges(){this._lView[li]|=1024,Qd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ei(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=Ts(this._lView),o=this._lView[lc];null!==o&&!i&&i_(o,this._lView),A1(this._lView[zn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ei(902,!1);this._appRef=i;const o=Ts(this._lView),d=this._lView[lc];null!==d&&!o&&k1(d,this._lView),Wt(this._lView)}}let sh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=sb}return e})();const Ng=sh,YC=class extends Ng{constructor(i,o,d){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,d){const _=th(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:o,dehydratedView:d});return new oh(_)}};function sb(){return __(ns(),Tn())}function __(e,i){return 4&e.type?new YC(i,e,Ou(e,i)):null}function lh(e,i,o){const d=i.insertBeforeIndex,_=Array.isArray(d)?d[0]:d;return null===_?L1(e,0,o):Oo(o[_])}function cb(e,i,o,d,_){const I=i.insertBeforeIndex;if(Array.isArray(I)){let U=d,q=null;if(3&i.type||(q=U,U=_),null!==U&&-1===i.componentOffset)for(let re=1;re<I.length;re++)$d(e,U,o[I[re]],q,!1)}}function db(e,i){if(e.push(i),e.length>1)for(let o=e.length-2;o>=0;o--){const d=e[o];xo(d)||Rl(d,i)&&null===ch(d)&&Df(d,i.index)}}function xo(e){return!(64&e.type)}function Rl(e,i){return xo(i)||e.index>i.index}function ch(e){const i=e.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Df(e,i){const o=e.insertBeforeIndex;Array.isArray(o)?o[0]=i:(N1(lh,cb),e.insertBeforeIndex=i)}function dh(e,i){const o=e.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function ub(e,i,o){const d=Eg(e,o,64,null,null);return db(i,d),d}function E_(e,i){const o=i[e.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function hb(e){return e>>>17}function $g(e){return(131070&e)>>>1}function Ug(e,i,o){e.index=0;const d=E_(i,o);e.removes=null!==d?i.remove[d]:fo}function If(e){if(e.index<e.removes.length){const i=e.removes[e.index++];return i>0?e.lView[i]:(e.stack.push(e.index,e.removes),Ug(e,e.lView[zn].data[~i],e.lView),If(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),If(e))}function tS(){const e={stack:[],index:-1};return function i(o,d){for(e.lView=d;e.stack.length;)e.stack.pop();return Ug(e,o.value,d),If.bind(null,e)}}let mb=()=>{},yb=()=>{},Mb=()=>null;function Zd(e,i){return Mb(e,i)}class fh{}const Af=new Pi("",{providedIn:"root",factory:()=>!1}),Tb=new Pi("");class bS{}class qd{}class ES{resolveComponentFactory(i){throw function yS(e){const i=Error(`No component factory found for ${Et(e)}.`);return i.ngComponent=e,i}(i)}}class kf{static#e=this.NULL=new ES}class Qg{}let CS=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function O_(){const e=Tn(),o=sa(ns().index,e);return(_s(o)?o:e)[Ki]}()}return e})(),SS=(()=>{class e{static#e=this.\u0275prov=Do({token:e,providedIn:"root",factory:()=>null})}return e})();const Ib=new Set;function _a(e){Ib.has(e)||(Ib.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ma(e){let i=!0;return setTimeout(()=>{i&&(i=!1,e())}),"function"==typeof Yo.requestAnimationFrame&&Yo.requestAnimationFrame(()=>{i&&(i=!1,e())}),()=>{i=!1}}function id(e){let i=!0;return queueMicrotask(()=>{i&&e()}),()=>{i=!1}}function Jg(...e){}class bs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zl(!1),this.onMicrotaskEmpty=new zl(!1),this.onStable=new zl(!1),this.onError=new zl(!1),typeof Zone>"u")throw new ei(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!d&&o,_.shouldCoalesceRunChangeDetection=d,_.callbackScheduled=!1,function DS(e){const i=()=>{!function TS(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{ma(()=>{e.callbackScheduled=!1,qg(e),e.isCheckStableRunning=!0,Zg(e),e.isCheckStableRunning=!1})}),qg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,_,I,U,q)=>{if(function IS(e){return tv(e,"__ignore_ng_zone__")}(q))return o.invokeTask(_,I,U,q);try{return wb(e),o.invokeTask(_,I,U,q)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||e.shouldCoalesceRunChangeDetection)&&i(),w_(e)}},onInvoke:(o,d,_,I,U,q,re)=>{try{return wb(e),o.invoke(_,I,U,q,re)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function xb(e){return tv(e,"__scheduler_tick__")}(q)&&i(),w_(e)}},onHasTask:(o,d,_,I)=>{o.hasTask(_,I),d===_&&("microTask"==I.change?(e._hasPendingMicrotasks=I.microTask,qg(e),Zg(e)):"macroTask"==I.change&&(e.hasPendingMacrotasks=I.macroTask))},onHandleError:(o,d,_,I)=>(o.handleError(_,I),e.runOutsideAngular(()=>e.onError.emit(I)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bs.isInAngularZone())throw new ei(909,!1)}static assertNotInAngularZone(){if(bs.isInAngularZone())throw new ei(909,!1)}run(i,o,d){return this._inner.run(i,o,d)}runTask(i,o,d,_){const I=this._inner,U=I.scheduleEventTask("NgZoneEvent: "+_,i,MS,Jg,Jg);try{return I.runTask(U,o,d)}finally{I.cancelTask(U)}}runGuarded(i,o,d){return this._inner.runGuarded(i,o,d)}runOutsideAngular(i){return this._outer.run(i)}}const MS={};function Zg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function wb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function w_(e){e._nesting--,Zg(e)}class ev{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zl,this.onMicrotaskEmpty=new zl,this.onStable=new zl,this.onError=new zl}run(i,o,d){return i.apply(o,d)}runGuarded(i,o,d){return i.apply(o,d)}runOutsideAngular(i){return i()}runTask(i,o,d,_){return i.apply(o,d)}}function tv(e,i){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[i]}var ga=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ga||{});const iv={destroy(){}};function x_(e,i){!i&&Ss();const o=i?.injector??Nn(yr);return Na(o)?(_a("NgAfterRender"),R_(e,o,!1,i?.phase??ga.MixedReadWrite)):iv}function sv(e,i){!i&&Ss();const o=i?.injector??Nn(yr);return Na(o)?(_a("NgAfterNextRender"),R_(e,o,!0,i?.phase??ga.MixedReadWrite)):iv}function R_(e,i,o,d){const _=function Rb(e,i){if(e instanceof Function)switch(i){case ga.EarlyRead:return{earlyRead:e};case ga.Write:return{write:e};case ga.MixedReadWrite:return{mixedReadWrite:e};case ga.Read:return{read:e}}return e}(e,d),I=i.get(A_),U=I.handler??=new rv,q=[],re=[],Be=()=>{for(const Jt of re)U.unregister(Jt);qe()},qe=i.get(Qh).onDestroy(Be);let It=0;const Ht=(Jt,un)=>{if(!un)return;const Dn=o?(...oi)=>(It--,It<1&&Be(),un(...oi)):un,Zn=Ml(i,()=>new OS(Jt,q,Dn));U.register(Zn),re.push(Zn),It++};return Ht(ga.EarlyRead,_.earlyRead),Ht(ga.Write,_.write),Ht(ga.MixedReadWrite,_.mixedReadWrite),Ht(ga.Read,_.read),{destroy:Be}}class OS{constructor(i,o,d){this.phase=i,this.pipelinedArgs=o,this.callbackFn=d,this.zone=Nn(bs),this.errorHandler=Nn(Ol,{optional:!0}),Nn(fh,{optional:!0})?.notify(6)}invoke(){try{const i=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,i)}catch(i){this.errorHandler?.handleError(i)}}}class rv{constructor(){this.executingCallbacks=!1,this.buckets={[ga.EarlyRead]:new Set,[ga.Write]:new Set,[ga.MixedReadWrite]:new Set,[ga.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const o of i)o.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let A_=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const d of o)d()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Do({token:e,providedIn:"root",factory:()=>new e})}return e})();function Yl(e){return!!ts(e)}function P_(e,i,o){let d=o?e.styles:null,_=o?e.classes:null,I=0;if(null!==i)for(let U=0;U<i.length;U++){const q=i[U];"number"==typeof q?I=q:1==I?_=On(_,q):2==I&&(d=On(d,q+": "+i[++U]+";"))}o?e.styles=d:e.stylesWithoutHost=d,o?e.classes=_:e.classesWithoutHost=_}class Fb extends kf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Rn(i);return new Lf(o,this.ngModule)}}function Pb(e,i){const o=[];for(const d in e){if(!e.hasOwnProperty(d))continue;const _=e[d];if(void 0===_)continue;const I=Array.isArray(_),U=I?_[0]:_;o.push(i?{propName:U,templateName:d,isSignal:!!((I?_[1]:Va.None)&Va.SignalBased)}:{propName:U,templateName:d})}return o}class Lf extends qd{get inputs(){const i=this.componentDef,o=i.inputTransforms,d=Pb(i.inputs,!0);if(null!==o)for(const _ of d)o.hasOwnProperty(_.propName)&&(_.transform=o[_.propName]);return d}get outputs(){return Pb(this.componentDef.outputs,!1)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function te(e){return e.map(ic).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,d,_){const I=C(null);try{let U=(_=_||this.ngModule)instanceof na?_:_?.injector;U&&null!==this.componentDef.getStandaloneInjector&&(U=this.componentDef.getStandaloneInjector(U)||U);const q=U?new pc(i,U):i,re=q.get(Qg,null);if(null===re)throw new ei(407,!1);const Be=q.get(SS,null),Ht={rendererFactory:re,sanitizer:Be,inlineEffectRunner:null,afterRenderEventManager:q.get(A_,null),changeDetectionScheduler:q.get(fh,null)},Jt=re.createRenderer(null,this.componentDef),un=this.componentDef.selectors[0][0]||"div",Dn=d?function PC(e,i,o,d){const I=d.get(sf,!1)||o===yl.ShadowDom,U=e.selectRootElement(i,I);return function c_(e){Sg(e)}(U),U}(Jt,d,this.componentDef.encapsulation,q):n_(Jt,un,function xS(e){const i=e.toLowerCase();return"svg"===i?vp:"math"===i?"math":null}(un));let Zn=512;this.componentDef.signals?Zn|=4096:this.componentDef.onPush||(Zn|=16);let oi=null;null!==Dn&&(oi=Lu(Dn,q,!0));const kn=zd(0,null,null,1,0,null,null,null,null,null,null),Wi=Hu(null,kn,null,Zn,null,null,Ht,Jt,q,null,oi);let Uo,Es;Su(Wi);try{const zr=this.componentDef;let ml,im=null;zr.findHostDirectiveDefs?(ml=[],im=new Map,zr.findHostDirectiveDefs(zr,ml,im),ml.push(zr)):ml=[zr];const fw=function RS(e,i){const o=e[zn],d=Ii;return e[d]=i,Gd(o,d,2,"#host",null)}(Wi,Dn),Ok=function AS(e,i,o,d,_,I,U){const q=_[zn];!function kS(e,i,o,d){for(const _ of e)i.mergedAttrs=il(i.mergedAttrs,_.hostAttrs);null!==i.mergedAttrs&&(P_(i,i.mergedAttrs,!0),null!==o&&U1(d,o,i))}(d,e,i,U);let re=null;null!==i&&(re=Lu(i,_[$s]));const Be=I.rendererFactory.createRenderer(i,o);let qe=16;o.signals?qe=4096:o.onPush&&(qe=64);const It=Hu(_,Qu(o),null,qe,_[e.index],e,I,Be,null,null,re);return q.firstCreatePass&&Wd(q,e,d.length-1),d_(_,It),_[e.index]=It}(fw,Dn,zr,ml,Wi,Ht,Jt);Es=Td(kn,Ii),Dn&&function L_(e,i,o,d){if(d)Bl(e,o,["ng-version","18.1.2"]);else{const{attrs:_,classes:I}=function _e(e){const i=[],o=[];let d=1,_=2;for(;d<e.length;){let I=e[d];if("string"==typeof I)2===_?""!==I&&i.push(I,e[++d]):8===_&&o.push(I);else{if(!js(_))break;_=I}d++}return{attrs:i,classes:o}}(i.selectors[0]);_&&Bl(e,o,_),I&&I.length>0&&$1(e,o,I.join(" "))}}(Jt,zr,Dn,d),void 0!==o&&function PS(e,i,o){const d=e.projection=[];for(let _=0;_<i.length;_++){const I=o[_];d.push(null!=I?Array.from(I):null)}}(Es,this.ngContentSelectors,o),Uo=function FS(e,i,o,d,_,I){const U=ns(),q=_[zn],re=oa(U,_);Mg(q,_,U,o,null,d);for(let qe=0;qe<o.length;qe++)aa(Od(_,q,U.directiveStart+qe,U),_);Dg(q,_,U),re&&aa(re,_);const Be=Od(_,q,U.directiveStart+U.componentOffset,U);if(e[Bo]=_[Bo]=Be,null!==I)for(const qe of I)qe(Be,i);return Kd(q,U,_),Be}(Ok,zr,ml,im,Wi,[LS]),qc(kn,Wi,null)}finally{m0()}return new Lb(this.componentType,Uo,Ou(Es,Wi),Wi,Es)}finally{C(I)}}}class Lb extends bS{constructor(i,o,d,_,I){super(),this.location=d,this._rootLView=_,this._tNode=I,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new oh(_,void 0,!1),this.componentType=i}setInput(i,o){const d=this._tNode.inputs;let _;if(null!==d&&(_=d[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const I=this._rootLView;Rg(I[zn],I,_,i,o),this.previousInputValues.set(i,o),Mf(sa(this._tNode.index,I),1)}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function LS(){const e=ns();Sp(Tn()[zn],e)}let N_=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Nb}return e})();function Nb(){return dv(ns(),Tn())}const B_=N_,lv=class extends B_{constructor(i,o,d){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=d}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){const i=_c(this._hostTNode,this._hostLView);if(Kh(i)){const o=Wh(i,this._hostLView),d=zh(i);return new lr(o[zn].data[d+8],o)}return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=cv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-jo}createEmbeddedView(i,o,d){let _,I;"number"==typeof d?_=d:null!=d&&(_=d.index,I=d.injector);const U=Zd(this._lContainer,i.ssrId),q=i.createEmbeddedViewImpl(o||{},I,U);return this.insertImpl(q,_,Hd(this._hostTNode,U)),q}createComponent(i,o,d,_,I){const U=i&&!function gd(e){return"function"==typeof e}(i);let q;if(U)q=o;else{const un=o||{};q=un.index,d=un.injector,_=un.projectableNodes,I=un.environmentInjector||un.ngModuleRef}const re=U?i:new Lf(Rn(i)),Be=d||this.parentInjector;if(!I&&null==re.ngModule){const Dn=(U?Be:this.parentInjector).get(na,null);Dn&&(I=Dn)}const qe=Rn(re.componentType??{}),It=Zd(this._lContainer,qe?.id??null),Jt=re.create(Be,_,It?.firstChild??null,I);return this.insertImpl(Jt.hostView,q,Hd(this._hostTNode,It)),Jt}insert(i,o){return this.insertImpl(i,o,!0)}insertImpl(i,o,d){const _=i._lView;if(function pm(e){return $r(e[Zs])}(_)){const q=this.indexOf(i);if(-1!==q)this.detach(q);else{const re=_[Zs],Be=new lv(re,re[vr],re[Zs]);Be.detach(Be.indexOf(i))}}const I=this._adjustIndex(o),U=this._lContainer;return nh(U,_,I,d),i.attachToViewContainerRef(),np(ph(U),I,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=cv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),d=pf(this._lContainer,o);d&&(Ua(ph(this._lContainer),o),o_(d[zn],d))}detach(i){const o=this._adjustIndex(i,-1),d=pf(this._lContainer,o);return d&&null!=Ua(ph(this._lContainer),o)?new oh(d):null}_adjustIndex(i,o=0){return i??this.length+o}};function cv(e){return e[8]}function ph(e){return e[8]||(e[8]=[])}function dv(e,i){let o;const d=i[e.index];return $r(d)?o=d:(o=yf(d,i,null,e),i[e.index]=o,d_(i,o)),Tc(o,i,e,d),new lv(o,e,i)}let Tc=function Bb(e,i,o,d){if(e[Aa])return;let _;_=8&o.type?Oo(d):function Nf(e,i){const o=e[Ki],d=o.createComment(""),_=oa(i,e);return $d(o,_g(o,_),d,function vD(e,i){return e.nextSibling(i)}(o,_),!1),d}(i,o),e[Aa]=_},Bf=()=>!1;class hv{constructor(i){this.queryList=i,this.matches=null}clone(){return new hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class jf{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const d=null!==i.contentQueries?i.contentQueries[0]:o.length,_=[];for(let I=0;I<d;I++){const U=o.getByIndex(I);_.push(this.queries[U.indexInDeclarationView].clone())}return new jf(_)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Vf(i,o).matches&&this.queries[o].setDirty()}}class jb{constructor(i,o,d=null){this.flags=o,this.read=d,this.predicate="string"==typeof i?function VS(e){return e.split(",").map(i=>i.trim())}(i):i}}class fv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let d=0;d<this.length;d++){const _=null!==o?o.length:0,I=this.getByIndex(d).embeddedTView(i,_);I&&(I.indexInDeclarationView=d,null!==o?o.push(I):o=[I])}return null!==o?new fv(o):null}template(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $f{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new $f(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let _=0;_<d.length;_++){const I=d[_];this.matchTNodeWithReadOption(i,o,jS(o,I)),this.matchTNodeWithReadOption(i,o,Xh(o,i,I,!1,!1))}else d===sh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Xh(o,i,d,!1,!1))}matchTNodeWithReadOption(i,o,d){if(null!==d){const _=this.metadata.read;if(null!==_)if(_===Jh||_===N_||_===sh&&4&o.type)this.addMatch(o.index,-2);else{const I=Xh(o,i,_,!1,!1);null!==I&&this.addMatch(o.index,I)}else this.addMatch(o.index,d)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function jS(e,i){const o=e.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===i)return o[d+1];return null}function pv(e,i,o,d){return-1===o?function $S(e,i){return 11&e.type?Ou(e,i):4&e.type?__(e,i):null}(i,e):-2===o?function US(e,i,o){return o===Jh?Ou(i,e):o===sh?__(i,e):o===N_?dv(i,e):void 0}(e,i,d):Od(e,e[zn],o,i)}function $b(e,i,o,d){const _=i[rl].queries[d];if(null===_.matches){const I=e.data,U=o.matches,q=[];for(let re=0;null!==U&&re<U.length;re+=2){const Be=U[re];q.push(Be<0?null:pv(i,I[Be],U[re+1],o.metadata.read))}_.matches=q}return _.matches}function Uf(e,i,o,d){const _=e.queries.getByIndex(o),I=_.matches;if(null!==I){const U=$b(e,i,_,o);for(let q=0;q<I.length;q+=2){const re=I[q];if(re>0)d.push(U[q/2]);else{const Be=I[q+1],qe=i[-re];for(let It=jo;It<qe.length;It++){const Ht=qe[It];Ht[lc]===Ht[Zs]&&Uf(Ht[zn],Ht,Be,d)}if(null!==qe[yd]){const It=qe[yd];for(let Ht=0;Ht<It.length;Ht++){const Jt=It[Ht];Uf(Jt[zn],Jt,Be,d)}}}}}return d}function $_(e,i){return e[rl].queries[i].queryList}function _v(e,i,o){const d=new Ap(!(4&~o));return function BC(e,i,o,d){const _=q1(i);_.push(o),e.firstCreatePass&&u_(e).push(d,_.length-1)}(e,i,d,d.destroy),(i[rl]??=new jf).queries.push(new hv(d))-1}function mv(e,i,o,d){const _=oo();if(_.firstCreatePass){const I=ns();Vb(_,new jb(i,o,d),I.index),function GS(e,i){const o=e.contentQueries||(e.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,i)}(_,e),!(2&~o)&&(_.staticContentQueries=!0)}return _v(_,Tn(),o)}function Vb(e,i,o){null===e.queries&&(e.queries=new fv),e.queries.track(new $f(i,o))}function Vf(e,i){return e.queries.getByIndex(i)}function Gb(e,i){const o=e[zn],d=Vf(o,i);return d.crossesNgTemplate?Uf(o,e,i,[]):$b(o,e,d,i)}function Gf(e){return"function"==typeof e&&void 0!==e[b]}function Kb(e,i){_a("NgSignals");const o=function ne(e){const i=Object.create(We);i.value=e;const o=()=>(O(i),i.value);return o[b]=i,o}(e),d=o[b];return i?.equal&&(d.equal=i.equal),o.set=_=>Ae(d,_),o.update=_=>function Me(e,i){M()||w(),Ae(e,i(e.value))}(d,_),o.asReadonly=zb.bind(o),o}function zb(){const e=this[b];if(void 0===e.readonlyFn){const i=()=>this();i[b]=e,e.readonlyFn=i}return e.readonlyFn}function Wb(e){return Gf(e)&&"function"==typeof e.set}function gv(e,i){let o;const d=K(()=>{o._dirtyCounter();const _=function KS(e,i){const o=e._lView,d=e._queryIndex;if(void 0===o||void 0===d||4&o[li])return i?void 0:fo;const _=$_(o,d),I=Gb(o,d);return _.reset(I,RE),i?_.first:_._changesDetected||void 0===e._flatValue?e._flatValue=_.toArray():e._flatValue}(o,e);if(i&&void 0===_)throw new ei(-951,!1);return _});return o=d[b],o._dirtyCounter=Kb(0),o._flatValue=void 0,d}function Zb(e,i){return function Xb(){return gv(!0,!1)}()}const WS=(Zb.required=function zS(e,i){return function Hb(){return gv(!0,!0)}()},Zb);function zf(e){let i=function cy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),o=!0;const d=[e];for(;i;){let _;if(Or(e))_=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ei(903,!1);_=i.\u0275dir}if(_){if(o){d.push(_);const U=e;U.inputs=V_(e.inputs),U.inputTransforms=V_(e.inputTransforms),U.declaredInputs=V_(e.declaredInputs),U.outputs=V_(e.outputs);const q=_.hostBindings;q&&rM(e,q);const re=_.viewQuery,Be=_.contentQueries;if(re&&oM(e,re),Be&&sM(e,Be),nM(e,_),eo(e.outputs,_.outputs),Or(_)&&_.data.animation){const qe=e.data;qe.animation=(qe.animation||[]).concat(_.data.animation)}}const I=_.features;if(I)for(let U=0;U<I.length;U++){const q=I[U];q&&q.ngInherit&&q(e),q===zf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function iM(e){let i=0,o=null;for(let d=e.length-1;d>=0;d--){const _=e[d];_.hostVars=i+=_.hostVars,_.hostAttrs=il(_.hostAttrs,o=il(o,_.hostAttrs))}}(d)}function nM(e,i){for(const o in i.inputs){if(!i.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const d=i.inputs[o];if(void 0!==d&&(e.inputs[o]=d,e.declaredInputs[o]=i.declaredInputs[o],null!==i.inputTransforms)){const _=Array.isArray(d)?d[0]:d;if(!i.inputTransforms.hasOwnProperty(_))continue;e.inputTransforms??={},e.inputTransforms[_]=i.inputTransforms[_]}}}function V_(e){return e===ta?{}:e===fo?[]:e}function oM(e,i){const o=e.viewQuery;e.viewQuery=o?(d,_)=>{i(d,_),o(d,_)}:i}function sM(e,i){const o=e.contentQueries;e.contentQueries=o?(d,_,I)=>{i(d,_,I),o(d,_,I)}:i}function rM(e,i){const o=e.hostBindings;e.hostBindings=o?(d,_)=>{i(d,_),o(d,_)}:i}function G_(e){const i=o=>{const d=(Array.isArray(e)?e:e()).map(_=>"function"==typeof _?{directive:kt(_),inputs:ta,outputs:ta}:{directive:kt(_.directive),inputs:Ql(_.inputs),outputs:Ql(_.outputs)});null===o.hostDirectives?(o.findHostDirectiveDefs=uy,o.hostDirectives=d):o.hostDirectives.unshift(...d)};return i.ngInherit=!0,i}function uy(e,i,o){if(null!==e.hostDirectives)for(const d of e.hostDirectives){const _=Ci(d.directive);gh(_.declaredInputs,d.inputs),uy(_,i,o),o.set(_,d),i.push(_)}}function Ql(e){if(void 0===e||0===e.length)return ta;const i={};for(let o=0;o<e.length;o+=2)i[e[o]]=e[o+1];return i}function gh(e,i){for(const o in i)i.hasOwnProperty(o)&&(e[i[o]]=e[o])}function hy(e){const i=e.inputConfig,o={};for(const d in i)if(i.hasOwnProperty(d)){const _=i[d];Array.isArray(_)&&_[3]&&(o[d]=_[3])}e.inputTransforms=o}class nu{}class fy{}function cM(e,i){return new vv(e,i??null,[])}class vv extends nu{constructor(i,o,d){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fb(this);const _=ts(i);this._bootstrapComponents=La(_.bootstrap),this._r3Injector=A0(i,o,[{provide:nu,useValue:this},{provide:kf,useValue:this.componentFactoryResolver},...d],Et(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class bv extends fy{constructor(i){super(),this.moduleType=i}create(i){return new vv(this.moduleType,i,[])}}class py extends nu{constructor(i){super(),this.componentFactoryResolver=new Fb(this),this.instance=null;const o=new Ul([...i.providers,{provide:nu,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],i.parent||Zi(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function yv(e,i,o=null){return new py({providers:e,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}function z_(e){return!!rd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function rd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jl(e,i,o){return e[i]=o}function Xf(e,i){return e[i]}function dr(e,i,o){return!Object.is(e[i],o)&&(e[i]=o,!0)}function iu(e,i,o,d){const _=dr(e,i,o);return dr(e,i+1,d)||_}function W_(e,i,o,d,_){const I=iu(e,i,o,d);return dr(e,i+2,_)||I}function hl(e,i,o,d,_,I){const U=iu(e,i,o,d);return iu(e,i+2,_,I)||U}function Dc(e,i,o,d,_,I,U,q,re,Be){const qe=o+Ii,It=i.firstCreatePass?function _M(e,i,o,d,_,I,U,q,re){const Be=i.consts,qe=Gd(i,e,4,U||null,q||null);Zu(i,o,qe,H(Be,re)),Sp(i,qe);const It=qe.tView=zd(2,qe,d,_,I,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Be,null);return null!==i.queries&&(i.queries.template(i,qe),It.queries=i.queries.embeddedTView(qe)),qe}(qe,i,e,d,_,I,U,q,re):i.data[qe];cl(It,!1);const Ht=_y(i,e,It,o);Mu()&&r_(i,e,Ht,It),aa(Ht,e);const Jt=yf(Ht,e,Ht,It);return e[qe]=Jt,d_(e,Jt),function uv(e,i,o){return Bf(e,i,o)}(Jt,It,e),Ed(It)&&cr(i,e,It),null!=re&&Cg(e,It,Be),It}function Hf(e,i,o,d,_,I,U,q){const re=Tn(),Be=oo();return Dc(re,Be,e,i,o,d,_,H(Be.consts,I),U,q),Hf}let _y=function Ev(e,i,o,d){return br(!0),i[Ki].createComment("")};function Ti(e,i,o,d){const _=Tn();return dr(_,Gl(),i)&&(oo(),function Xl(e,i,o,d,_,I){const U=oa(e,i);Og(i[Ki],U,I,e.value,o,d,_)}(vs(),_,e,i,o,d)),Ti}function Ui(e,i,o,d){return dr(e,Gl(),o)?i+mt(o)+d:so}function wr(e,i){return e<<17|i<<2}function Cr(e){return e>>17&32767}function ru(e){return 2|e}function ys(e){return(131068&e)>>2}function Za(e,i){return-131069&e|i<<2}function kl(e){return 1|e}function cd(e,i,o,d){const _=e[o+1],I=null===i;let U=d?Cr(_):ys(_),q=!1;for(;0!==U&&(!1===q||I);){const Be=e[U+1];Lv(e[U],i)&&(q=!0,e[U+1]=d?kl(Be):ru(Be)),U=d?Cr(Be):ys(Be)}q&&(e[o+1]=d?ru(_):kl(_))}function Lv(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&Ko(e,i)>=0}const nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qf(e){return e.substring(nr.key,nr.keyEnd)}function Nv(e){return e.substring(nr.value,nr.valueEnd)}function fl(e,i){const o=nr.textEnd;return o===i?-1:(i=nr.keyEnd=function kM(e,i,o){for(;i<o&&e.charCodeAt(i)>32;)i++;return i}(e,nr.key=i,o),pl(e,i,o))}function xs(e,i){const o=nr.textEnd;let d=nr.key=pl(e,i,o);return o===d?-1:(d=nr.keyEnd=function mw(e,i,o){let d;for(;i<o&&(45===(d=e.charCodeAt(i))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)i++;return i}(e,d,o),d=KD(e,d,o),d=nr.value=pl(e,d,o),d=nr.valueEnd=function gw(e,i,o){let d=-1,_=-1,I=-1,U=i,q=U;for(;U<o;){const re=e.charCodeAt(U++);if(59===re)return q;34===re||39===re?q=U=zD(e,re,U,o):i===U-4&&85===I&&82===_&&76===d&&40===re?q=U=zD(e,41,U,o):re>32&&(q=U),I=_,_=d,d=-33&re}return q}(e,d,o),KD(e,d,o))}function $o(e){nr.key=0,nr.keyEnd=0,nr.value=0,nr.valueEnd=0,nr.textEnd=e.length}function pl(e,i,o){for(;i<o&&e.charCodeAt(i)<=32;)i++;return i}function KD(e,i,o,d){return(i=pl(e,i,o))<o&&i++,i}function zD(e,i,o,d){let _=-1,I=o;for(;I<d;){const U=e.charCodeAt(I++);if(U==i&&92!==_)return I;_=92==U&&92===_?0:U}throw new Error}function FM(e,i,o){const d=Tn();return dr(d,Gl(),i)&&la(oo(),vs(),d,e,i,d[Ki],o,!1),FM}function PM(e,i,o,d,_){const U=_?"class":"style";Rg(e,o,i.inputs[U],U,d)}function LM(e,i,o){return Oc(e,i,o,!1),LM}function NM(e,i){return Oc(e,i,null,!0),NM}function Ic(e){wc(YD,vw,e,!1)}function vw(e,i){for(let o=function Fo(e){return $o(e),xs(e,pl(e,0,nr.textEnd))}(i);o>=0;o=xs(i,o))YD(e,qf(i),Nv(i))}function WD(e){wc(Mw,dd,e,!0)}function dd(e,i){for(let o=function Wo(e){return $o(e),fl(e,pl(e,0,nr.textEnd))}(i);o>=0;o=fl(i,o))ea(e,qf(i),!0)}function Oc(e,i,o,d){const _=Tn(),I=oo(),U=zc(2);I.firstUpdatePass&&HD(I,e,U,d),i!==so&&dr(_,U,i)&&QD(I,I.data[Gr()],_,_[Ki],e,_[U+1]=function Dw(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=Et(bc(e)))),e}(i,o),d,U)}function wc(e,i,o,d){const _=oo(),I=zc(2);_.firstUpdatePass&&HD(_,null,I,d);const U=Tn();if(o!==so&&dr(U,I,o)){const q=_.data[Gr()];if(ZD(q,d)&&!XD(_,I)){let re=d?q.classesWithoutHost:q.stylesWithoutHost;null!==re&&(o=On(re,o||"")),PM(_,q,U,o,d)}else!function Tw(e,i,o,d,_,I,U,q){_===so&&(_=fo);let re=0,Be=0,qe=0<_.length?_[0]:null,It=0<I.length?I[0]:null;for(;null!==qe||null!==It;){const Ht=re<_.length?_[re+1]:void 0,Jt=Be<I.length?I[Be+1]:void 0;let Dn,un=null;qe===It?(re+=2,Be+=2,Ht!==Jt&&(un=It,Dn=Jt)):null===It||null!==qe&&qe<It?(re+=2,un=qe):(Be+=2,un=It,Dn=Jt),null!==un&&QD(e,i,o,d,un,Dn,U,q),qe=re<_.length?_[re]:null,It=Be<I.length?I[Be]:null}}(_,q,U,U[Ki],U[I+1],U[I+1]=function Sw(e,i,o){if(null==o||""===o)return fo;const d=[],_=bc(o);if(Array.isArray(_))for(let I=0;I<_.length;I++)e(d,_[I],!0);else if("object"==typeof _)for(const I in _)_.hasOwnProperty(I)&&e(d,I,_[I]);else"string"==typeof _&&i(d,_);return d}(e,i,o),d,I)}}function XD(e,i){return i>=e.expandoStartIndex}function HD(e,i,o,d){const _=e.data;if(null===_[o+1]){const I=_[Gr()],U=XD(e,o);ZD(I,d)&&null===i&&!U&&(i=!1),i=function bw(e,i,o,d){const _=Qa(e);let I=d?i.residualClasses:i.residualStyles;if(null===_)0===(d?i.classBindings:i.styleBindings)&&(o=Bv(o=BM(null,e,i,o,d),i.attrs,d),I=null);else{const U=i.directiveStylingLast;if(-1===U||e[U]!==_)if(o=BM(_,e,i,o,d),null===I){let re=function yw(e,i,o){const d=o?i.classBindings:i.styleBindings;if(0!==ys(d))return e[Cr(d)]}(e,i,d);void 0!==re&&Array.isArray(re)&&(re=BM(null,e,i,re[1],d),re=Bv(re,i.attrs,d),function Ew(e,i,o,d){e[Cr(o?i.classBindings:i.styleBindings)]=d}(e,i,d,re))}else I=function Cw(e,i,o){let d;const _=i.directiveEnd;for(let I=1+i.directiveStylingLast;I<_;I++)d=Bv(d,e[I].hostAttrs,o);return Bv(d,i.attrs,o)}(e,i,d)}return void 0!==I&&(d?i.residualClasses=I:i.residualStyles=I),o}(_,I,i,d),function AM(e,i,o,d,_,I){let U=I?i.classBindings:i.styleBindings,q=Cr(U),re=ys(U);e[d]=o;let qe,Be=!1;if(Array.isArray(o)?(qe=o[1],(null===qe||Ko(o,qe)>0)&&(Be=!0)):qe=o,_)if(0!==re){const Ht=Cr(e[q+1]);e[d+1]=wr(Ht,q),0!==Ht&&(e[Ht+1]=Za(e[Ht+1],d)),e[q+1]=function Eh(e,i){return 131071&e|i<<17}(e[q+1],d)}else e[d+1]=wr(q,0),0!==q&&(e[q+1]=Za(e[q+1],d)),q=d;else e[d+1]=wr(re,0),0===q?q=d:e[re+1]=Za(e[re+1],d),re=d;Be&&(e[d+1]=ru(e[d+1])),cd(e,qe,d,!0),cd(e,qe,d,!1),function au(e,i,o,d,_){const I=_?e.residualClasses:e.residualStyles;null!=I&&"string"==typeof i&&Ko(I,i)>=0&&(o[d+1]=kl(o[d+1]))}(i,qe,e,d,I),U=wr(q,re),I?i.classBindings=U:i.styleBindings=U}(_,I,i,o,U,d)}}function BM(e,i,o,d,_){let I=null;const U=o.directiveEnd;let q=o.directiveStylingLast;for(-1===q?q=o.directiveStart:q++;q<U&&(I=i[q],d=Bv(d,I.hostAttrs,_),I!==e);)q++;return null!==e&&(o.directiveStylingLast=q),d}function Bv(e,i,o){const d=o?1:2;let _=-1;if(null!==i)for(let I=0;I<i.length;I++){const U=i[I];"number"==typeof U?_=U:_===d&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ea(e,U,!!o||i[++I]))}return void 0===e?null:e}function YD(e,i,o){ea(e,i,bc(o))}function Mw(e,i,o){const d=String(i);""!==d&&!d.includes(" ")&&ea(e,d,o)}function QD(e,i,o,d,_,I,U,q){if(!(3&i.type))return;const re=e.data,Be=re[q+1],qe=function ba(e){return!(1&~e)}(Be)?JD(re,i,o,_,ys(Be),U):void 0;Oy(qe)||(Oy(I)||function hs(e){return!(2&~e)}(Be)&&(I=JD(re,null,o,_,q,U)),function RC(e,i,o,d,_){if(i)_?e.addClass(o,d):e.removeClass(o,d);else{let I=-1===d.indexOf("-")?void 0:e_.DashCase;null==_?e.removeStyle(o,d,I):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),I|=e_.Important),e.setStyle(o,d,_,I))}}(d,U,Md(Gr(),o),_,I))}function JD(e,i,o,d,_,I){const U=null===i;let q;for(;_>0;){const re=e[_],Be=Array.isArray(re),qe=Be?re[1]:re,It=null===qe;let Ht=o[_+1];Ht===so&&(Ht=It?fo:void 0);let Jt=It?lu(Ht,d):qe===d?Ht:void 0;if(Be&&!Oy(Jt)&&(Jt=lu(re,d)),Oy(Jt)&&(q=Jt,U))return q;const un=e[_+1];_=U?Cr(un):ys(un)}if(null!==i){let re=I?i.residualClasses:i.residualStyles;null!=re&&(q=lu(re,d))}return q}function Oy(e){return void 0!==e}function ZD(e,i){return!!(e.flags&(i?8:16))}function qD(e,i,o){wc(ea,dd,Ui(Tn(),e,i,o),!0)}class Lw{destroy(i){}updateValue(i,o){}swap(i,o){const d=Math.min(i,o),_=Math.max(i,o),I=this.detach(_);if(_-d>1){const U=this.detach(d);this.attach(d,I),this.attach(_,U)}else this.attach(d,I)}move(i,o){this.attach(o,this.detach(i))}}function jM(e,i,o,d,_){return e===o&&Object.is(i,d)?1:Object.is(_(e,i),_(o,d))?-1:0}function $M(e,i,o,d){return!(void 0===i||!i.has(d)||(e.attach(o,i.get(d)),i.delete(d),0))}function eI(e,i,o,d,_){if($M(e,i,d,o(d,_)))e.updateValue(d,_);else{const I=e.create(d,_);e.attach(d,I)}}function tI(e,i,o,d){const _=new Set;for(let I=i;I<=o;I++)_.add(d(I,e.at(I)));return _}class nI{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const o=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(i,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,o){if(this.kvMap.has(i)){let d=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(d);)d=_.get(d);_.set(d,o)}else this.kvMap.set(i,o)}forEach(i){for(let[o,d]of this.kvMap)if(i(d,o),void 0!==this._vMap){const _=this._vMap;for(;_.has(d);)d=_.get(d),i(d,o)}}}function iI(e,i){_a("NgControlFlow");const o=Tn(),d=Gl(),_=o[d]!==so?o[d]:-1,I=-1!==_?wy(o,Ii+_):void 0;if(dr(o,d,e)){const q=C(null);try{if(void 0!==I&&Ag(I,0),-1!==e){const re=Ii+e,Be=wy(o,re),qe=UM(o[zn],re),It=Zd(Be,qe.tView.ssrId);nh(Be,th(o,qe,i,{dehydratedView:It}),0,Hd(qe,It))}}finally{C(q)}}else if(void 0!==I){const q=eb(I,0);void 0!==q&&(q[Bo]=i)}}class Bw{constructor(i,o,d){this.lContainer=i,this.$implicit=o,this.$index=d}get $count(){return this.lContainer.length-jo}}function oI(e){return e}function sI(e,i){return i}class jw{constructor(i,o,d){this.hasEmptyBlock=i,this.trackByFn=o,this.liveCollection=d}}function rI(e,i,o,d,_,I,U,q,re,Be,qe,It,Ht){_a("NgControlFlow");const Jt=Tn(),un=oo(),Dn=void 0!==re,Zn=Tn(),oi=q?U.bind(Zn[zo][Bo]):U,kn=new jw(Dn,oi);Zn[Ii+e]=kn,Dc(Jt,un,e+1,i,o,d,_,H(un.consts,I)),Dn&&Dc(Jt,un,e+2,re,Be,qe,It,H(un.consts,Ht))}class $w extends Lw{constructor(i,o,d){super(),this.lContainer=i,this.hostLView=o,this.templateTNode=d,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-jo}at(i){return this.getLView(i)[Bo].$implicit}attach(i,o){const d=o[Br];this.needsIndexUpdate||=i!==this.length,nh(this.lContainer,o,i,Hd(this.templateTNode,d))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function Uw(e,i){return pf(e,i)}(this.lContainer,i)}create(i,o){const d=Zd(this.lContainer,this.templateTNode.tView.ssrId),_=th(this.hostLView,this.templateTNode,new Bw(this.lContainer,o,i),{dehydratedView:d});return this.operationsCounter?.recordCreate(),_}destroy(i){o_(i[zn],i),this.operationsCounter?.recordDestroy()}updateValue(i,o){this.getLView(i)[Bo].$implicit=o}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[Bo].$index=i}getLView(i){return function Vw(e,i){return eb(e,i)}(this.lContainer,i)}}function aI(e){const i=C(null),o=Gr();try{const d=Tn(),_=d[zn],I=d[o],U=o+1,q=wy(d,U);if(void 0===I.liveCollection){const Be=UM(_,U);I.liveCollection=new $w(q,d,Be)}else I.liveCollection.reset();const re=I.liveCollection;if(function Nw(e,i,o){let d,_,I=0,U=e.length-1;if(Array.isArray(i)){let re=i.length-1;for(;I<=U&&I<=re;){const Be=e.at(I),qe=i[I],It=jM(I,Be,I,qe,o);if(0!==It){It<0&&e.updateValue(I,qe),I++;continue}const Ht=e.at(U),Jt=i[re],un=jM(U,Ht,re,Jt,o);if(0!==un){un<0&&e.updateValue(U,Jt),U--,re--;continue}const Dn=o(I,Be),Zn=o(U,Ht),oi=o(I,qe);if(Object.is(oi,Zn)){const kn=o(re,Jt);Object.is(kn,Dn)?(e.swap(I,U),e.updateValue(U,Jt),re--,U--):e.move(U,I),e.updateValue(I,qe),I++}else if(d??=new nI,_??=tI(e,I,U,o),$M(e,d,I,oi))e.updateValue(I,qe),I++,U++;else if(_.has(oi))d.set(Dn,e.detach(I)),U--;else{const kn=e.create(I,i[I]);e.attach(I,kn),I++,U++}}for(;I<=re;)eI(e,d,o,I,i[I]),I++}else if(null!=i){const re=i[Symbol.iterator]();let Be=re.next();for(;!Be.done&&I<=U;){const qe=e.at(I),It=Be.value,Ht=jM(I,qe,I,It,o);if(0!==Ht)Ht<0&&e.updateValue(I,It),I++,Be=re.next();else{d??=new nI,_??=tI(e,I,U,o);const Jt=o(I,It);if($M(e,d,I,Jt))e.updateValue(I,It),I++,U++,Be=re.next();else if(_.has(Jt)){const un=o(I,qe);d.set(un,e.detach(I)),U--}else e.attach(I,e.create(I,It)),I++,U++,Be=re.next()}}for(;!Be.done;)eI(e,d,o,e.length,Be.value),Be=re.next()}for(;I<=U;)e.destroy(e.detach(U--));d?.forEach(re=>{e.destroy(re)})}(re,e,I.trackByFn),re.updateIndexes(),I.hasEmptyBlock){const Be=Gl(),qe=0===re.length;if(dr(d,Be,qe)){const It=o+2,Ht=wy(d,It);if(qe){const Jt=UM(_,It),un=Zd(Ht,Jt.tView.ssrId);nh(Ht,th(d,Jt,void 0,{dehydratedView:un}),0,Hd(Jt,un))}else Ag(Ht,0)}}}finally{C(i)}}function wy(e,i){return e[i]}function UM(e,i){return Td(e,i)}function xy(e,i,o,d){const _=Tn(),I=oo(),U=Ii+e,q=_[Ki],re=I.firstCreatePass?function Gw(e,i,o,d,_,I){const U=i.consts,re=Gd(i,e,2,d,H(U,_));return Zu(i,o,re,H(U,I)),null!==re.attrs&&P_(re,re.attrs,!1),null!==re.mergedAttrs&&P_(re,re.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,re),re}(U,I,_,i,o,d):I.data[U],Be=lI(I,_,re,q,i,e);_[U]=Be;const qe=Ed(re);return cl(re,!0),U1(q,Be,re),!function ou(e){return!(32&~e.flags)}(re)&&Mu()&&r_(I,_,Be,re),0===function ra(){return Yn.lFrame.elementDepthCount}()&&aa(Be,_),function Dl(){Yn.lFrame.elementDepthCount++}(),qe&&(cr(I,_,re),Kd(I,re,_)),null!==d&&Cg(_,re),xy}function Ry(){let e=ns();gm()?vm():(e=e.parent,cl(e,!1));const i=e;(function c0(e){return Yn.skipHydrationRootTNode===e})(i)&&function rE(){Yn.skipHydrationRootTNode=null}(),function hc(){Yn.lFrame.elementDepthCount--}();const o=oo();return o.firstCreatePass&&(Sp(o,e),Ah(e)&&o.queries.elementEnd(e)),null!=i.classesWithoutHost&&function _E(e){return!!(8&e.flags)}(i)&&PM(o,i,Tn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function mE(e){return!!(16&e.flags)}(i)&&PM(o,i,Tn(),i.stylesWithoutHost,!1),Ry}function VM(e,i,o,d){return xy(e,i,o,d),Ry(),VM}let lI=(e,i,o,d,_,I)=>(br(!0),n_(d,_,function Em(){return Yn.lFrame.currentNamespace}()));function Ay(e,i,o){const d=Tn(),_=oo(),I=e+Ii,U=_.firstCreatePass?function Ww(e,i,o,d,_){const I=i.consts,U=H(I,d),q=Gd(i,e,8,"ng-container",U);return null!==U&&P_(q,U,!0),Zu(i,o,q,H(I,_)),null!==i.queries&&i.queries.elementStart(i,q),q}(I,_,d,i,o):_.data[I];cl(U,!0);const q=cI(_,d,U,e);return d[I]=q,Mu()&&r_(_,d,q,U),aa(q,d),Ed(U)&&(cr(_,d,U),Kd(_,U,d)),null!=o&&Cg(d,U),Ay}function ky(){let e=ns();const i=oo();return gm()?vm():(e=e.parent,cl(e,!1)),i.firstCreatePass&&(Sp(i,e),Ah(e)&&i.queries.elementEnd(e)),ky}function GM(e,i,o){return Ay(e,i,o),ky(),GM}let cI=(e,i,o,d)=>(br(!0),t_(i[Ki],""));function dI(){return Tn()}function KM(e,i,o){const d=Tn();return dr(d,Gl(),i)&&la(oo(),vs(),d,e,i,d[Ki],o,!0),KM}function zM(e,i,o){const d=Tn();if(dr(d,Gl(),i)){const I=oo(),U=vs();la(I,U,d,e,i,xg(Qa(I.data),U,d),o,!0)}return zM}const ep=void 0;var Qw=["en",[["a","p"],["AM","PM"],ep],[["AM","PM"],ep,ep],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ep,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ep,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ep,"{1} 'at' {0}",ep],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yw(e){const o=Math.floor(Math.abs(e)),d=e.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let Z_={};function WM(e){const i=function Jw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=hI(i);if(o)return o;const d=i.split("-")[0];if(o=hI(d),o)return o;if("en"===d)return Qw;throw new ei(701,!1)}function uI(e){return WM(e)[q_.PluralCase]}function hI(e){return e in Z_||(Z_[e]=Yo.ng&&Yo.ng.common&&Yo.ng.common.locales&&Yo.ng.common.locales[e]),Z_[e]}var q_=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(q_||{});const Zw=["zero","one","two","few","many"],em="en-US",Fy={marker:"element"},Py={marker:"ICU"};var _l=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(_l||{});let fI=em;let jv=0,$v=0;let Uv=(e,i,o,d)=>(br(!0),function _I(e,i,o){const d=e[Ki];switch(o){case Node.COMMENT_NODE:return t_(d,i);case Node.TEXT_NODE:return hg(d,i);case Node.ELEMENT_NODE:return n_(d,i,null)}}(e,o,d));function mI(e,i,o,d){const _=o[Ki];let U,I=null;for(let q=0;q<i.length;q++){const re=i[q];if("string"==typeof re){const Be=i[++q];null===o[Be]&&(o[Be]=Uv(o,Be,re,Node.TEXT_NODE))}else if("number"==typeof re)switch(1&re){case 0:const Be=hb(re);let qe,It;if(null===I&&(I=Be,U=_g(_,d)),Be===I?(qe=d,It=U):(qe=null,It=Oo(o[Be])),null!==It){const Dn=$g(re);$d(_,It,o[Dn],qe,!1);const oi=dh(e,Dn);if(null!==oi&&"object"==typeof oi){const kn=E_(oi,o);null!==kn&&mI(e,oi.create[kn],o,o[oi.anchorIdx])}}break;case 1:const Jt=i[++q],un=i[++q];Og(_,Md(re>>>1,o),null,null,Jt,un,null)}else switch(re){case Py:const Be=i[++q],qe=i[++q];null===o[qe]&&aa(o[qe]=Uv(o,qe,Be,Node.COMMENT_NODE),o);break;case Fy:const It=i[++q],Ht=i[++q];null===o[Ht]&&aa(o[Ht]=Uv(o,Ht,It,Node.ELEMENT_NODE),o)}}}function gI(e,i,o,d,_){for(let I=0;I<o.length;I++){const U=o[I],q=o[++I];if(U&_){let re="";for(let Be=I+1;Be<=I+q;Be++){const qe=o[Be];if("string"==typeof qe)re+=qe;else if("number"==typeof qe)if(qe<0)re+=mt(i[d-qe]);else{const It=qe>>>2;switch(3&qe){case 1:const Ht=o[++Be],Jt=o[++Be],un=e.data[It];"string"==typeof un?Og(i[Ki],i[It],null,un,Ht,re,Jt):la(e,un,i,Ht,re,i[Ki],Jt,!1);break;case 0:const Dn=i[It];null!==Dn&&R1(i[Ki],Dn,re);break;case 2:ax(e,dh(e,It),i,re);break;case 3:vI(e,dh(e,It),d,i)}}}}else{const re=o[I+1];if(re>0&&!(3&~re)){const qe=dh(e,re>>>2);i[qe.currentCaseLViewIndex]<0&&vI(e,qe,d,i)}}I+=q}}function vI(e,i,o,d){let _=d[i.currentCaseLViewIndex];if(null!==_){let I=jv;_<0&&(_=d[i.currentCaseLViewIndex]=~_,I=-1),gI(e,d,i.update[_],o,I)}}function ax(e,i,o,d){const _=function lx(e,i){let o=e.cases.indexOf(i);if(-1===o)switch(e.type){case 1:{const d=function qw(e,i){const o=uI(i)(parseInt(e,10)),d=Zw[o];return void 0!==d?d:"other"}(i,function tx(){return fI}());o=e.cases.indexOf(d),-1===o&&"other"!==d&&(o=e.cases.indexOf("other"));break}case 0:o=e.cases.indexOf("other")}return-1===o?null:o}(i,d);if(E_(i,o)!==_&&(bI(e,i,o),o[i.currentCaseLViewIndex]=null===_?null:~_,null!==_)){const U=o[i.anchorIdx];U&&mI(e,i.create[_],o,U),function Eb(e,i,o){yb(e,i,o)}(o,i.anchorIdx,_)}}function bI(e,i,o){let d=E_(i,o);if(null!==d){const _=i.remove[d];for(let I=0;I<_.length;I++){const U=_[I];if(U>0){const q=Md(U,o);null!==q&&a_(o[Ki],q)}else bI(e,dh(e,~U),o)}}}const Ly=/\ufffd(\d+):?\d*\ufffd/gi,dx=/\ufffd(\d+)\ufffd/,EI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Vv="\ufffd",ux=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fx=/\uE500/g;function CI(e,i,o,d,_,I,U){const q=Yu(e,d,1,null);let re=q<<_l.SHIFT,Be=jh();i===Be&&(Be=null),null===Be&&(re|=_l.APPEND_EAGERLY),U&&(re|=_l.COMMENT,function x1(e){void 0===dg&&(dg=e())}(tS)),_.push(re,null===I?"":I);const qe=Eg(e,q,U?32:1,null===I?"":I,null);db(o,qe);const It=qe.index;return cl(qe,!1),null!==Be&&i!==Be&&function eS(e,i){let o=e.insertBeforeIndex;null===o?(N1(lh,cb),o=e.insertBeforeIndex=[null,i]):(Hi(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(Be,It),qe}function mx(e,i,o,d,_,I,U,q){const re=q.match(Ly),qe=CI(i,o,d,U,_,re?null:q,!1).index;re&&Gv(I,q,qe,null,0,null),e.push({kind:0,index:qe})}function Gv(e,i,o,d,_,I){const U=e.length,q=U+1;e.push(null,null);const re=U+2,Be=i.split(Ly);let qe=0;for(let It=0;It<Be.length;It++){const Ht=Be[It];if(1&It){const Jt=_+parseInt(Ht,10);e.push(-1-Jt),qe|=SI(Jt)}else""!==Ht&&e.push(Ht)}return e.push(o<<2|(d?1:0)),d&&e.push(d,I),e[U]=qe,e[q]=e.length-re,qe}function SI(e){return 1<<Math.min(e,31)}function MI(e){let i,I,o="",d=0,_=!1;for(;null!==(i=ux.exec(e));)_?i[0]===`${Vv}/*${I}${Vv}`&&(d=i.index,_=!1):(o+=e.substring(d,i.index+i[0].length),I=i[1],_=!0);return o+=e.slice(d),o}function TI(e,i,o,d,_,I,U){let q=0;const re={type:I.type,currentCaseLViewIndex:Yu(i,o,1,null),anchorIdx:U,cases:[],create:[],remove:[],update:[]};(function Sx(e,i,o){e.push(SI(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(d,I,U),function qC(e,i,o){const d=e.data[i];null===d?e.data[i]=o:d.value=o}(i,U,re);const Be=I.values,qe=[];for(let It=0;It<Be.length;It++){const Ht=Be[It],Jt=[];for(let Dn=0;Dn<Ht.length;Dn++){const Zn=Ht[Dn];if("string"!=typeof Zn){const oi=Jt.push(Zn)-1;Ht[Dn]=`\x3c!--\ufffd${oi}\ufffd--\x3e`}}const un=[];qe.push(un),q=Ex(un,i,re,o,d,_,I.cases[It],Ht.join(""),Jt)|q}q&&function Mx(e,i,o){e.push(i,1,o<<2|3)}(d,q,U),e.push({kind:3,index:U,cases:qe,currentCaseLViewIndex:re.currentCaseLViewIndex})}function yx(e){const i=[],o=[];let d=1,_=0;const I=XM(e=e.replace(EI,function(U,q,re){return d="select"===re?0:1,_=parseInt(q.slice(1),10),""}));for(let U=0;U<I.length;){let q=I[U++].trim();1===d&&(q=q.replace(/\s*(?:=)?(\w+)\s*/,"$1")),q.length&&i.push(q);const re=XM(I[U++]);i.length>o.length&&o.push(re)}return{type:d,mainBinding:_,cases:i,values:o}}function XM(e){if(!e)return[];let i=0;const o=[],d=[],_=/[{}]/g;let I;for(_.lastIndex=0;I=_.exec(e);){const q=I.index;if("}"==I[0]){if(o.pop(),0==o.length){const re=e.substring(i,q);EI.test(re)?d.push(yx(re)):d.push(re),i=q+1}}else{if(0==o.length){const re=e.substring(i,q);d.push(re),i=q+1}o.push("{")}}const U=e.substring(i);return d.push(U),d}function Ex(e,i,o,d,_,I,U,q,re){const Be=[],qe=[],It=[];o.cases.push(U),o.create.push(Be),o.remove.push(qe),o.update.push(It);const Jt=Ku(Qc()).getInertBodyElement(q),un=ul(Jt)||Jt;return un?DI(e,i,o,d,_,Be,qe,It,un,I,re,0):0}function DI(e,i,o,d,_,I,U,q,re,Be,qe,It){let Ht=0,Jt=re.firstChild;for(;Jt;){const un=Yu(i,d,1,null);switch(Jt.nodeType){case Node.ELEMENT_NODE:const Dn=Jt,Zn=Dn.tagName.toLowerCase();if(eg.hasOwnProperty(Zn)){HM(I,Fy,Zn,Be,un),i.data[un]=Zn;const Uo=Dn.attributes;for(let zr=0;zr<Uo.length;zr++){const ml=Uo.item(zr),im=ml.name.toLowerCase();ml.value.match(Ly)?m1.hasOwnProperty(im)&&Gv(q,ml.value,un,ml.name,0,tg[im]?af:null):Tx(I,un,ml)}const Es={kind:1,index:un,children:[]};e.push(Es),Ht=DI(Es.children,i,o,d,_,I,U,q,Jt,un,qe,It+1)|Ht,II(U,un,It)}break;case Node.TEXT_NODE:const oi=Jt.textContent||"",kn=oi.match(Ly);HM(I,null,kn?"":oi,Be,un),II(U,un,It),kn&&(Ht=Gv(q,oi,un,null,0,null)|Ht),e.push({kind:0,index:un});break;case Node.COMMENT_NODE:const Wi=dx.exec(Jt.textContent||"");if(Wi){const Es=qe[parseInt(Wi[1],10)];HM(I,Py,"",Be,un),TI(e,i,d,_,Be,Es,un),Cx(U,un,It)}}Jt=Jt.nextSibling}return Ht}function II(e,i,o){0===o&&e.push(i)}function Cx(e,i,o){0===o&&(e.push(~i),e.push(i))}function HM(e,i,o,d,_){null!==i&&e.push(i),e.push(o,_,function C_(e,i,o){return e|i<<17|o<<1}(0,d,_))}function Tx(e,i,o){e.push(i<<1|1,o.name,o.value)}const OI=0,Dx=/\[(\ufffd.+?\ufffd?)\]/,Ix=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Ox=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,wx=/{([A-Z0-9_]+)}/g,xx=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Rx=/\/\*/,Ax=/\d+\:(\d+)/;function YM(e,i,o=-1){const d=oo(),_=Tn(),I=Ii+e,U=H(d.consts,i),q=jh();d.firstCreatePass&&function _x(e,i,o,d,_,I){const U=jh(),q=[],re=[],Be=[[]],qe=[[]];_=function bx(e,i){if(function Sc(e){return-1===e}(i))return MI(e);{const o=e.indexOf(`:${i}${Vv}`)+2+i.toString().length,d=e.search(new RegExp(`${Vv}\\/\\*\\d+:${i}${Vv}`));return MI(e.substring(o,d))}}(_,I);const It=function px(e){return e.replace(fx," ")}(_).split(hx);for(let Ht=0;Ht<It.length;Ht++){let Jt=It[Ht];if(1&Ht){const un=47===Jt.charCodeAt(0),Dn=Jt.charCodeAt(un?1:0),Zn=Ii+Number.parseInt(Jt.substring(un?2:1));if(un)Be.shift(),qe.shift(),cl(jh(),!1);else{const oi=ub(e,Be[0],Zn);Be.unshift([]),cl(oi,!0);const kn={kind:2,index:Zn,children:[],type:35===Dn?0:1};qe[0].push(kn),qe.unshift(kn.children)}}else{const un=XM(Jt);for(let Dn=0;Dn<un.length;Dn++){let Zn=un[Dn];if(1&Dn){const oi=Zn;if("object"!=typeof oi)throw new Error(`Unable to parse ICU expression in "${_}" message.`);const Wi=CI(e,U,Be[0],o,q,"",!0).index;TI(qe[0],e,o,re,i,oi,Wi)}else""!==Zn&&mx(qe[0],e,U,Be[0],q,re,o,Zn)}}}e.data[d]={create:q,update:re,ast:qe[0]}}(d,null===q?0:q.index,_,I,U,o),2===d.type?_[zo][li]|=32:_[li]|=32;const re=d.data[I],qe=F1(d,q===_[vr]?null:q,_),It=q&&8&q.type?_[q.index]:null;(function lS(e,i,o,d){mb(e,i,o,d)})(_,I,q,o),function rx(e,i,o,d){const _=e[Ki];for(let I=0;I<i.length;I++){const U=i[I++],Be=(U&_l.APPEND_EAGERLY)===_l.APPEND_EAGERLY,qe=U>>>_l.SHIFT;let It=e[qe],Ht=!1;null===It&&(It=e[qe]=Uv(e,qe,i[I],(U&_l.COMMENT)===_l.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Ht=Mu()),Be&&null!==o&&Ht&&$d(_,o,It,d,!1)}}(_,re.create,qe,It),ym(!0)}function QM(){ym(!1)}function wI(e,i,o){YM(e,i,o),QM()}function JM(e){return function nx(e){e&&(jv|=1<<Math.min($v,31)),$v++}(dr(Tn(),Gl(),e)),JM}function xI(e){!function ix(e,i,o){if($v>0){const d=e.data[o];gI(e,i,Array.isArray(d)?d:d.update,Il()-$v-1,jv)}jv=0,$v=0}(oo(),Tn(),e+Ii)}function RI(e,i={}){return function kx(e,i={}){let o=e;if(Dx.test(e)){const d={},_=[OI];o=o.replace(Ix,(I,U,q)=>{const re=U||q,Be=d[re]||[];if(Be.length||(re.split("|").forEach(Dn=>{const Zn=Dn.match(Ax),oi=Zn?parseInt(Zn[1],10):OI,kn=Rx.test(Dn);Be.push([oi,kn,Dn])}),d[re]=Be),!Be.length)throw new Error(`i18n postprocess: unmatched placeholder - ${re}`);const qe=_[_.length-1];let It=0;for(let Dn=0;Dn<Be.length;Dn++)if(Be[Dn][0]===qe){It=Dn;break}const[Ht,Jt,un]=Be[It];return Jt?_.pop():qe!==Ht&&_.push(Ht),Be.splice(It,1),un})}return Object.keys(i).length&&(o=o.replace(Ox,(d,_,I,U,q,re)=>i.hasOwnProperty(I)?`${_}${i[I]}${re}`:d),o=o.replace(wx,(d,_)=>i.hasOwnProperty(_)?i[_]:d),o=o.replace(xx,(d,_)=>{if(i.hasOwnProperty(_)){const I=i[_];if(!I.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${_}`);return I.shift()}return d})),o}(e,i)}let AI=(e,i,o)=>{};function ZM(e,i,o,d){const _=Tn(),I=oo(),U=ns();return eT(I,_,_[Ki],U,e,i,d),ZM}function qM(e,i){const o=ns(),d=Tn(),_=oo();return eT(_,d,xg(Qa(_.data),o,d),o,e,i),qM}function eT(e,i,o,d,_,I,U){const q=Ed(d),Be=e.firstCreatePass&&u_(e),qe=i[Bo],It=q1(i);let Ht=!0;if(3&d.type||U){const Dn=oa(d,i),Zn=U?U(Dn):Dn,oi=It.length,kn=U?Uo=>U(Oo(Uo[d.index])):d.index;let Wi=null;if(!U&&q&&(Wi=function Px(e,i,o,d){const _=e.cleanup;if(null!=_)for(let I=0;I<_.length-1;I+=2){const U=_[I];if(U===o&&_[I+1]===d){const q=i[bd],re=_[I+2];return q.length>re?q[re]:null}"string"==typeof U&&(I+=2)}return null}(e,i,_,d.index)),null!==Wi)(Wi.__ngLastListenerFn__||Wi).__ngNextListenerFn__=I,Wi.__ngLastListenerFn__=I,Ht=!1;else{I=PI(d,i,qe,I),AI(Dn,_,I);const Uo=o.listen(Zn,_,I);It.push(I,Uo),Be&&Be.push(_,kn,oi,oi+1)}}else I=PI(d,i,qe,I);const Jt=d.outputs;let un;if(Ht&&null!==Jt&&(un=Jt[_])){const Dn=un.length;if(Dn)for(let Zn=0;Zn<Dn;Zn+=2){const Es=i[un[Zn]][un[Zn+1]].subscribe(I),zr=It.length;It.push(I,Es),Be&&Be.push(_,d.index,zr,-(zr+1))}}}function FI(e,i,o,d){const _=C(null);try{return Ha(6,i,o),!1!==o(d)}catch(I){return Cf(e,I),!1}finally{Ha(7,i,o),C(_)}}function PI(e,i,o,d){return function _(I){if(I===Function)return d;Mf(e.componentOffset>-1?sa(e.index,i):i,5);let q=FI(i,o,d,I),re=_.__ngNextListenerFn__;for(;re;)q=FI(i,o,re,I)&&q,re=re.__ngNextListenerFn__;return q}}function LI(e=1){return function Ep(e){return(Yn.lFrame.contextLView=function ct(e,i){for(;e>0;)i=i[sl],e--;return i}(e,Yn.lFrame.contextLView))[Bo]}(e)}function Lx(e,i){let o=null;const d=function Dh(e){const i=e.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(e);for(let _=0;_<i.length;_++){const I=i[_];if("*"!==I){if(null===d?Th(e,I,!0):tc(d,I))return _}else o=_}return o}function NI(e){const i=Tn()[zo][vr];if(!i.projection){const d=i.projection=function wa(e,i){const o=[];for(let d=0;d<e;d++)o.push(i);return o}(e?e.length:1,null),_=d.slice();let I=i.child;for(;null!==I;){if(128!==I.type){const U=e?Lx(I,e):0;null!==U&&(_[U]?_[U].projectionNext=I:d[U]=I,_[U]=I)}I=I.next}}}function BI(e,i=0,o,d,_,I){const U=Tn(),q=oo(),re=d?e+1:null;null!==re&&Dc(U,q,re,d,_,I,null,o);const Be=Gd(q,Ii+e,16,null,o||null);null===Be.projection&&(Be.projection=i),vm();const It=!U[Br]||Kc();null===U[zo][vr].projection[Be.projection]&&null!==re?function Nx(e,i,o){const d=Ii+o,_=i.data[d],I=e[d],U=Zd(I,_.tView.ssrId);nh(I,th(e,_,void 0,{dehydratedView:U}),0,Hd(_,U))}(U,q,re):It&&32&~Be.flags&&function bg(e,i,o){j1(i[Ki],0,i,o,s_(e,o,i),P1(o.parent||i[vr],o,i))}(q,U,Be)}function HI(e,i,o,d){mv(e,i,o,d)}function YI(e,i,o){!function Ub(e,i,o){const d=oo();return d.firstCreatePass&&(Vb(d,new jb(e,i,o),-1),!(2&~i)&&(d.staticViewQueries=!0)),_v(d,Tn(),i)}(e,i,o)}function QI(e){const i=Tn(),o=oo(),d=Cu();bp(d+1);const _=Vf(o,d);if(e.dirty&&function Nh(e){return!(4&~e[li])}(i)===!(2&~_.metadata.flags)){if(null===_.matches)e.reset([]);else{const I=Gb(i,d);e.reset(I,RE),e.notifyOnChanges()}return!0}return!1}function JI(){return $_(Tn(),Cu())}function ZI(e,i,o,d,_){!function Qb(e,i){const o=e[b];o._lView=Tn(),o._queryIndex=i,o._queryList=$_(o._lView,i),o._queryList.onDirty(()=>o._dirtyCounter.update(d=>d+1))}(i,mv(e,o,d,_))}function qI(e=1){bp(Cu()+e)}function e2(e){return Gc(function h0(){return Yn.lFrame.contextLView}(),Ii+e)}function u2(e,i=""){const o=Tn(),d=oo(),_=e+Ii,I=d.firstCreatePass?Gd(d,_,1,i,null):d.data[_],U=h2(d,o,I,i,e);o[_]=U,Mu()&&r_(d,o,U,I),cl(I,!1)}let h2=(e,i,o,d,_)=>(br(!0),hg(i[Ki],d));function iT(e){return Ny("",e,""),iT}function Ny(e,i,o){const d=Tn(),_=Ui(d,e,i,o);return _!==so&&Ec(d,Gr(),_),Ny}function oT(e,i,o,d,_){const I=Tn(),U=function jn(e,i,o,d,_,I){const q=iu(e,Il(),o,_);return zc(2),q?i+mt(o)+d+mt(_)+I:so}(I,e,i,o,d,_);return U!==so&&Ec(I,Gr(),U),oT}function sT(e,i,o,d,_,I,U){const q=Tn(),re=function Un(e,i,o,d,_,I,U,q){const Be=W_(e,Il(),o,_,U);return zc(3),Be?i+mt(o)+d+mt(_)+I+mt(U)+q:so}(q,e,i,o,d,_,I,U);return re!==so&&Ec(q,Gr(),re),sT}function rT(e,i,o,d,_,I,U,q,re){const Be=Tn(),qe=function Si(e,i,o,d,_,I,U,q,re,Be){const It=hl(e,Il(),o,_,U,re);return zc(4),It?i+mt(o)+d+mt(_)+I+mt(U)+q+mt(re)+Be:so}(Be,e,i,o,d,_,I,U,q,re);return qe!==so&&Ec(Be,Gr(),qe),rT}function aT(e,i,o){Wb(i)&&(i=i());const d=Tn();return dr(d,Gl(),i)&&la(oo(),vs(),d,e,i,d[Ki],o,!1),aT}function v2(e,i){const o=Wb(e);return o&&e.set(i),o}function lT(e,i){const o=Tn(),d=oo(),_=ns();return eT(d,o,o[Ki],_,e,i),lT}function cT(e,i,o,d,_){if(e=kt(e),Array.isArray(e))for(let I=0;I<e.length;I++)cT(e[I],i,o,d,_);else{const I=oo(),U=Tn(),q=ns();let re=Pc(e)?e:kt(e.provide);const Be=xh(e),qe=1048575&q.providerIndexes,It=q.directiveStart,Ht=q.providerIndexes>>20;if(Pc(e)||!e.multi){const Jt=new Vh(Be,_,Vd),un=uT(re,i,_?qe:qe+Ht,It);-1===un?(Im(Du(q,U),I,re),dT(I,e,i.length),i.push(re),q.directiveStart++,q.directiveEnd++,_&&(q.providerIndexes+=1048576),o.push(Jt),U.push(Jt)):(o[un]=Jt,U[un]=Jt)}else{const Jt=uT(re,i,qe+Ht,It),un=uT(re,i,qe,qe+Ht),Zn=un>=0&&o[un];if(_&&!Zn||!_&&!(Jt>=0&&o[Jt])){Im(Du(q,U),I,re);const oi=function tR(e,i,o,d,_){const I=new Vh(e,o,Vd);return I.multi=[],I.index=i,I.componentProviders=0,E2(I,_,d&&!o),I}(_?eR:qx,o.length,_,d,Be);!_&&Zn&&(o[un].providerFactory=oi),dT(I,e,i.length,0),i.push(re),q.directiveStart++,q.directiveEnd++,_&&(q.providerIndexes+=1048576),o.push(oi),U.push(oi)}else dT(I,e,Jt>-1?Jt:un,E2(o[_?un:Jt],Be,!_&&d));!_&&d&&Zn&&o[un].componentProviders++}}}function dT(e,i,o,d){const _=Pc(i),I=function eE(e){return!!e.useClass}(i);if(_||I){const re=(I?kt(i.useClass):i).prototype.ngOnDestroy;if(re){const Be=e.destroyHooks||(e.destroyHooks=[]);if(!_&&i.multi){const qe=Be.indexOf(o);-1===qe?Be.push(o,[d,re]):Be[qe+1].push(d,re)}else Be.push(o,re)}}}function E2(e,i,o){return o&&e.componentProviders++,e.multi.push(i)-1}function uT(e,i,o,d){for(let _=o;_<d;_++)if(i[_]===e)return _;return-1}function qx(e,i,o,d){return hT(this.multi,[])}function eR(e,i,o,d){const _=this.multi;let I;if(this.providerFactory){const U=this.providerFactory.componentProviders,q=Od(o,o[zn],this.providerFactory.index,d);I=q.slice(0,U),hT(_,I);for(let re=U;re<q.length;re++)I.push(q[re])}else I=[],hT(_,I);return I}function hT(e,i){for(let o=0;o<e.length;o++)i.push((0,e[o])());return i}function C2(e,i=[]){return o=>{o.providersResolver=(d,_)=>function Zx(e,i,o){const d=oo();if(d.firstCreatePass){const _=Or(e);cT(o,d.data,d.blueprint,_,!0),cT(i,d.data,d.blueprint,_,!1)}}(d,_?_(e):e,i)}}let nR=(()=>{class e{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const d=du(0,o.type),_=d.length>0?yv([d],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,_)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Do({token:e,providedIn:"environment",factory:()=>new e(Qi(na))})}return e})();function S2(e){_a("NgStandalone"),e.getStandaloneInjector=i=>i.get(nR).getOrCreateStandaloneInjector(e)}function M2(e,i,o){const d=e.\u0275cmp;d.directiveDefs=Ir(i,!1),d.pipeDefs=Ir(o,!0)}function I2(e,i,o){const d=Vr()+e,_=Tn();return _[d]===so?Jl(_,d,o?i.call(o):i()):Xf(_,d)}function O2(e,i,o,d){return P2(Tn(),Vr(),e,i,o,d)}function w2(e,i,o,d,_){return L2(Tn(),Vr(),e,i,o,d,_)}function x2(e,i,o,d,_,I){return N2(Tn(),Vr(),e,i,o,d,_,I)}function R2(e,i,o,d,_,I,U){return function B2(e,i,o,d,_,I,U,q,re){const Be=i+o;return hl(e,Be,_,I,U,q)?Jl(e,Be+4,re?d.call(re,_,I,U,q):d(_,I,U,q)):Kv(e,Be+4)}(Tn(),Vr(),e,i,o,d,_,I,U)}function A2(e,i,o,d,_,I,U,q){const re=Vr()+e,Be=Tn(),qe=hl(Be,re,o,d,_,I);return dr(Be,re+4,U)||qe?Jl(Be,re+5,q?i.call(q,o,d,_,I,U):i(o,d,_,I,U)):Xf(Be,re+5)}function k2(e,i,o,d,_,I,U,q,re,Be){const qe=Vr()+e,It=Tn();let Ht=hl(It,qe,o,d,_,I);return W_(It,qe+4,U,q,re)||Ht?Jl(It,qe+7,Be?i.call(Be,o,d,_,I,U,q,re):i(o,d,_,I,U,q,re)):Xf(It,qe+7)}function F2(e,i,o,d,_,I,U,q,re,Be,qe){const It=Vr()+e,Ht=Tn(),Jt=hl(Ht,It,o,d,_,I);return hl(Ht,It+4,U,q,re,Be)||Jt?Jl(Ht,It+8,qe?i.call(qe,o,d,_,I,U,q,re,Be):i(o,d,_,I,U,q,re,Be)):Xf(Ht,It+8)}function Kv(e,i){const o=e[i];return o===so?void 0:o}function P2(e,i,o,d,_,I){const U=i+o;return dr(e,U,_)?Jl(e,U+1,I?d.call(I,_):d(_)):Kv(e,U+1)}function L2(e,i,o,d,_,I,U){const q=i+o;return iu(e,q,_,I)?Jl(e,q+2,U?d.call(U,_,I):d(_,I)):Kv(e,q+2)}function N2(e,i,o,d,_,I,U,q){const re=i+o;return W_(e,re,_,I,U)?Jl(e,re+3,q?d.call(q,_,I,U):d(_,I,U)):Kv(e,re+3)}function $2(e,i){const o=oo();let d;const _=e+Ii;o.firstCreatePass?(d=function aR(e,i){if(i)for(let o=i.length-1;o>=0;o--){const d=i[o];if(e===d.name)return d}}(i,o.pipeRegistry),o.data[_]=d,d.onDestroy&&(o.destroyHooks??=[]).push(_,d.onDestroy)):d=o.data[_];const I=d.factory||(d.factory=ps(d.type)),q=$i(Vd);try{const re=Dp(!1),Be=I();return Dp(re),function nT(e,i,o,d){o>=e.data.length&&(e.data[o]=null,e.blueprint[o]=null),i[o]=d}(o,Tn(),_,Be),Be}finally{$i(q)}}function U2(e,i,o){const d=e+Ii,_=Tn(),I=Gc(_,d);return zv(_,d)?P2(_,Vr(),i,I.transform,o,I):I.transform(o)}function V2(e,i,o,d){const _=e+Ii,I=Tn(),U=Gc(I,_);return zv(I,_)?L2(I,Vr(),i,U.transform,o,d,U):U.transform(o,d)}function G2(e,i,o,d,_){const I=e+Ii,U=Tn(),q=Gc(U,I);return zv(U,I)?N2(U,Vr(),i,q.transform,o,d,_,q):q.transform(o,d,_)}function zv(e,i){return e[zn].data[i].pure}function K2(e,i){return __(e,i)}class rO{constructor(i){this.full=i;const o=i.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const RR=new rO("18.1.2");let aO=(()=>{class e{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const hO=new Pi(""),fO=new Pi("");let vT,iA=(()=>{class e{constructor(o,d,_){this._ngZone=o,this.registry=d,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,vT||(function oA(e){vT=e}(_),_.addToWindow(d)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,_){let I=-1;d&&d>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(U=>U.timeoutId!==I),o()},d)),this._callbacks.push({doneCb:o,timeoutId:I,updateCb:_})}whenStable(o,d,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,_),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,d,_){return[]}static#e=this.\u0275fac=function(d){return new(d||e)(Qi(bs),Qi(pO),Qi(fO))};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac})}return e})(),pO=(()=>{class e{constructor(){this._applications=new Map}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return vT?.findTestabilityInTree(this,o,d)??null}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function bT(e){return!!e&&"function"==typeof e.then}function _O(e){return!!e&&"function"==typeof e.subscribe}const mO=new Pi("");let yT=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,d)=>{this.resolve=o,this.reject=d}),this.appInits=Nn(mO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const _ of this.appInits){const I=_();if(bT(I))o.push(I);else if(_O(I)){const U=new Promise((q,re)=>{I.subscribe({complete:q,error:re})});o.push(U)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{d()}).catch(_=>{this.reject(_)}),0===o.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vy=new Pi("");function bO(e,i){return Array.isArray(i)?i.reduce(bO,e):{...e,...i}}let xc=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Nn(OE),this.afterRenderEffectManager=Nn(A_),this.zonelessEnabled=Nn(Af),this.externalTestViews=new Set,this.beforeRender=new ke.B7,this.afterTick=new ke.B7,this.componentTypes=[],this.components=[],this.isStable=Nn(Hc).hasPendingTasks.pipe((0,Ne.T)(o=>!o)),this._injector=Nn(na)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,d){const _=o instanceof qd;if(!this._injector.get(yT).done)throw!_&&wo(o),new ei(405,!1);let U;U=_?o:this._injector.get(kf).resolveComponentFactory(o),this.componentTypes.push(U.componentType);const q=function sA(e){return e.isBoundToModule}(U)?void 0:this._injector.get(nu),Be=U.create(yr.NULL,[],d||U.selector,q),qe=Be.location.nativeElement,It=Be.injector.get(hO,null);return It?.registerApplication(qe),Be.onDestroy(()=>{this.detachView(Be.hostView),Gy(this.components,Be),It?.unregisterApplication(qe)}),this._loadComponent(Be),Be}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new ei(101,!1);const d=C(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(_){this.internalErrorHandler(_)}finally{this._runningTick=!1,C(d),this.afterTick.next()}}detectChangesInAttachedViews(o){let d=null;this._injector.destroyed||(d=this._injector.get(Qg,null,{optional:!0}));let _=0;const I=this.afterRenderEffectManager;for(;_<10;){const U=0===_;if(o||!U){this.beforeRender.next(U);for(let{_lView:q,notifyErrorHandler:re}of this._views)aA(q,re,U,this.zonelessEnabled)}else d?.begin?.(),d?.end?.();if(_++,I.executeInternalCallbacks(),!this.allViews.some(({_lView:q})=>Bt(q))&&(I.execute(),!this.allViews.some(({_lView:q})=>Bt(q))))break}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;Gy(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const d=this._injector.get(Vy,[]);[...this._bootstrapListeners,...d].forEach(_=>_(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Gy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ei(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gy(e,i){const o=e.indexOf(i);o>-1&&e.splice(o,1)}function aA(e,i,o,d){(o||Bt(e))&&Qd(e,i,o&&!d?0:1)}class lA{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let cA=(()=>{class e{compileModuleSync(o){return new bv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),I=La(ts(o).declarations).reduce((U,q)=>{const re=Rn(q);return re&&U.push(new Lf(re)),U},[]);return new lA(d,I)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hA=(()=>{class e{constructor(){this.zone=Nn(bs),this.changeDetectionScheduler=Nn(fh),this.applicationRef=Nn(xc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ET({ngZoneFactory:e,ignoreChangesOutsideZone:i}){return e??=()=>new bs(CT()),[{provide:bs,useFactory:e},{provide:Ra,multi:!0,useFactory:()=>{const o=Nn(hA,{optional:!0});return()=>o.initialize()}},{provide:Ra,multi:!0,useFactory:()=>{const o=Nn(_A);return()=>{o.initialize()}}},{provide:OE,useFactory:pA},!0===i?{provide:Tb,useValue:!0}:[]]}function pA(){const e=Nn(bs),i=Nn(Ol);return o=>e.runOutsideAngular(()=>i.handleError(o))}function CT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let _A=(()=>{class e{constructor(){this.subscription=new Qe.y,this.initialized=!1,this.zone=Nn(bs),this.pendingTasks=Nn(Hc)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{bs.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{bs.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hv=(()=>{class e{constructor(){this.appRef=Nn(xc),this.taskService=Nn(Hc),this.ngZone=Nn(bs),this.zonelessEnabled=Nn(Af),this.disableScheduling=Nn(Tb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe.y,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ev||!this.zoneIsDefined)}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const d=this.useMicrotaskScheduler?id:ma;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=d(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=d(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&bs.isInAngularZone())}tick(o){if(this.runningTick||this.appRef.destroyed)return;const d=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(o)},void 0,this.schedulerTickApplyArgs)}catch(_){throw this.taskService.remove(d),_}finally{this.cleanup()}this.useMicrotaskScheduler=!0,id(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(d)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o)}}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zy=new Pi("",{providedIn:"root",factory:()=>Nn(zy,Jn.Optional|Jn.SkipSelf)||function mA(){return typeof $localize<"u"&&$localize.locale||em}()}),gA=new Pi("",{providedIn:"root",factory:()=>"USD"}),MT=new Pi("");let MO=(()=>{class e{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const _=function nv(e="zone.js",i){return"noop"===e?new ev:"zone.js"===e?new bs(i):e}(d?.ngZone,CT({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return _.run(()=>{const I=d?.ignoreChangesOutsideZone,U=function dM(e,i,o){return new vv(e,i,o)}(o.moduleType,this.injector,[...ET({ngZoneFactory:()=>_,ignoreChangesOutsideZone:I}),{provide:fh,useExisting:Hv}]),q=U.injector.get(Ol,null);return _.runOutsideAngular(()=>{const re=_.onError.subscribe({next:Be=>{q.handleError(Be)}});U.onDestroy(()=>{Gy(this._modules,U),re.unsubscribe()})}),function vO(e,i,o){try{const d=o();return bT(d)?d.catch(_=>{throw i.runOutsideAngular(()=>e.handleError(_)),_}):d}catch(d){throw i.runOutsideAngular(()=>e.handleError(d)),d}}(q,_,()=>{const re=U.injector.get(yT);return re.runInitializers(),re.donePromise.then(()=>(function pI(e){"string"==typeof e&&(fI=e.toLowerCase().replace(/_/g,"-"))}(U.injector.get(zy,em)||em),this._moduleDoBootstrap(U),U))})})}bootstrapModule(o,d=[]){const _=bO({},d);return function uA(e,i,o){const d=new bv(o);return Promise.resolve(d)}(0,0,o).then(I=>this.bootstrapModuleFactory(I,_))}_moduleDoBootstrap(o){const d=o.injector.get(xc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(_=>d.bootstrap(_));else{if(!o.instance.ngDoBootstrap)throw new ei(-403,!1);o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ei(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const o=this._injector.get(MT,null);o&&(o.forEach(d=>d()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||e)(Qi(yr))};static#t=this.\u0275prov=Do({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ch=null;const TO=new Pi("");function DO(e,i,o=[]){const d=`Platform: ${i}`,_=new Pi(d);return(I=[])=>{let U=TT();if(!U||U.injector.get(TO,!1)){const q=[...o,...I,{provide:_,useValue:!0}];e?e(q):function bA(e){if(Ch&&!Ch.get(TO,!1))throw new ei(400,!1);(function gO(){!function j(e){z=e}(()=>{throw new ei(600,!1)})})(),Ch=e;const i=e.get(MO);(function OO(e){e.get(Z0,null)?.forEach(o=>o())})(e)}(function IO(e=[],i){return yr.create({name:i,providers:[{provide:ol,useValue:"platform"},{provide:MT,useValue:new Set([()=>Ch=null])},...e]})}(q,d))}return function yA(e){const i=TT();if(!i)throw new ei(401,!1);return i}()}}function TT(){return Ch?.get(MO)??null}function CA(){}let xO=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=SA}return e})();function SA(e){return function MA(e,i,o){if($c(e)&&!o){const d=sa(e.index,i);return new oh(d,d)}return 175&e.type?new oh(i[zo],i):null}(ns(),Tn(),!(16&~e))}class FO{constructor(){}supports(i){return z_(i)}create(i){return new wA(i)}}const OA=(e,i)=>i;class wA{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||OA}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,d=this._removalsHead,_=0,I=null;for(;o||d;){const U=!d||o&&o.currentIndex<LO(d,_,I)?o:d,q=LO(U,_,I),re=U.currentIndex;if(U===d)_--,d=d._nextRemoved;else if(o=o._next,null==U.previousIndex)_++;else{I||(I=[]);const Be=q-_,qe=re-_;if(Be!=qe){for(let Ht=0;Ht<Be;Ht++){const Jt=Ht<I.length?I[Ht]:I[Ht]=0,un=Jt+Ht;qe<=un&&un<Be&&(I[Ht]=Jt+1)}I[U.previousIndex]=qe-Be}}q!==re&&i(U,q,re)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!z_(i))throw new ei(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let _,I,U,o=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let q=0;q<this.length;q++)I=i[q],U=this._trackByFn(q,I),null!==o&&Object.is(o.trackById,U)?(d&&(o=this._verifyReinsertion(o,I,U,q)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,U,q),d=!0),o=o._next}else _=0,function fM(e,i){if(Array.isArray(e))for(let o=0;o<e.length;o++)i(e[o]);else{const o=e[Symbol.iterator]();let d;for(;!(d=o.next()).done;)i(d.value)}}(i,q=>{U=this._trackByFn(_,q),null!==o&&Object.is(o.trackById,U)?(d&&(o=this._verifyReinsertion(o,q,U,_)),Object.is(o.item,q)||this._addIdentityChange(o,q)):(o=this._mismatch(o,q,U,_),d=!0),o=o._next,_++}),this.length=_;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,d,_){let I;return null===i?I=this._itTail:(I=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,I,_)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,_))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,I,_)):i=this._addAfter(new xA(o,d),I,_),i}_verifyReinsertion(i,o,d,_){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==I?i=this._reinsertAfter(I,i._prev,_):i.currentIndex!=_&&(i.currentIndex=_,this._addToMoves(i,_)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const _=i._prevRemoved,I=i._nextRemoved;return null===_?this._removalsHead=I:_._nextRemoved=I,null===I?this._removalsTail=_:I._prevRemoved=_,this._insertAfter(i,o,d),this._addToMoves(i,d),i}_moveAfter(i,o,d){return this._unlink(i),this._insertAfter(i,o,d),this._addToMoves(i,d),i}_addAfter(i,o,d){return this._insertAfter(i,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,d){const _=null===o?this._itHead:o._next;return i._next=_,i._prev=o,null===_?this._itTail=i:_._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new PO),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,d=i._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PO),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class xA{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RA{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const o=i._prevDup,d=i._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class PO{constructor(){this.map=new Map}put(i){const o=i.trackById;let d=this.map.get(o);d||(d=new RA,this.map.set(o,d)),d.add(i)}get(i,o){const _=this.map.get(i);return _?_.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LO(e,i,o){const d=e.previousIndex;if(null===d)return d;let _=0;return o&&d<o.length&&(_=o[d]),d+i+_}class NO{constructor(){}supports(i){return i instanceof Map||rd(i)}create(){return new AA}}class AA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||rd(i)))throw new ei(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,_)=>{if(o&&o.key===_)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const I=this._getOrCreateRecordForKey(_,d);o=this._insertBeforeOrAppend(o,I)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const d=i._prev;return o._next=i,o._prev=d,i._prev=o,d&&(d._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const _=this._records.get(i);this._maybeAddToChanges(_,o);const I=_._prev,U=_._next;return I&&(I._next=U),U&&(U._prev=I),_._next=null,_._prev=null,_}const d=new kA(i);return this._records.set(i,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(d=>o(i[d],d))}}class kA{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BO(){return new xT([new FO])}let xT=(()=>{class e{static#e=this.\u0275prov=Do({token:e,providedIn:"root",factory:BO});constructor(o){this.factories=o}static create(o,d){if(null!=d){const _=d.factories.slice();o=o.concat(_)}return new e(o)}static extend(o){return{provide:e,useFactory:d=>e.create(o,d||BO()),deps:[[e,new Oa,new ws]]}}find(o){const d=this.factories.find(_=>_.supports(o));if(null!=d)return d;throw new ei(901,!1)}}return e})();function jO(){return new RT([new NO])}let RT=(()=>{class e{static#e=this.\u0275prov=Do({token:e,providedIn:"root",factory:jO});constructor(o){this.factories=o}static create(o,d){if(d){const _=d.factories.slice();o=o.concat(_)}return new e(o)}static extend(o){return{provide:e,useFactory:d=>e.create(o,d||jO()),deps:[[e,new Oa,new ws]]}}find(o){const d=this.factories.find(_=>_.supports(o));if(d)return d;throw new ei(901,!1)}}return e})();const LA=DO(null,"core",[]);let NA=(()=>{class e{constructor(o){}static#e=this.\u0275fac=function(d){return new(d||e)(Qi(xc))};static#t=this.\u0275mod=gt({type:e});static#n=this.\u0275inj=ks({})}return e})();const nw=new Pi("");function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function bk(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function Ek(e,i){_a("NgSignals");const o=K(e);return i?.equal&&(o[b].equal=i.equal),o}function Ck(e){const i=C(null);try{return e()}finally{C(i)}}const Sk=new Pi("",{providedIn:"root",factory:()=>Nn(Mk)});let Mk=(()=>{class e{static#e=this.\u0275prov=Do({token:e,providedIn:"root",factory:()=>new Tk})}return e})();class Tk{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Nn(Hc),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const o=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(o),this.taskId=null})}}enqueue(i){const o=i.creationZone;this.queues.has(o)||this.queues.set(o,new Set);const d=this.queues.get(o);d.has(i)||(this.queuedEffectCount++,d.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,o]of this.queues)null===i?this.flushQueue(o):i.run(()=>this.flushQueue(o))}flushQueue(i){for(const o of i)i.delete(o),this.queuedEffectCount--,o.run()}}class Dk{constructor(i,o,d,_,I,U){this.scheduler=i,this.effectFn=o,this.creationZone=d,this.injector=I,this.watcher=function nt(e,i,o){const d=Object.create(Ie);o&&(d.consumerAllowSignalWrites=!0),d.fn=e,d.schedule=i;const _=re=>{d.cleanupFn=re};return d.ref={notify:()=>x(d),run:()=>{if(null===d.fn)return;if(function S(){return f}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(d.dirty=!1,d.hasRun&&!L(d))return;d.hasRun=!0;const re=D(d);try{d.cleanupFn(),d.cleanupFn=$e,d.fn(_)}finally{A(d,re)}},cleanup:()=>d.cleanupFn(),destroy:()=>function U(re){(function I(re){return null===re.fn&&null===re.schedule})(re)||(l(re),re.cleanupFn(),re.fn=null,re.schedule=null,re.cleanupFn=$e)}(d),[b]:d},d.ref}(q=>this.runEffect(q),()=>this.schedule(),U),this.unregisterOnDestroy=_?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(o){this.injector.get(Ol,null,{optional:!0})?.handleError(o)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function hw(e,i){_a("NgSignals"),!i?.injector&&Ss();const o=i?.injector??Nn(yr),d=!0!==i?.manualCleanup?o.get(Qh):null,_=new Dk(o.get(Sk),e,typeof Zone>"u"?null:Zone.current,d,o,i?.allowSignalWrites??!1),I=o.get(xO,null,{optional:!0});return I&&8&I._lView[li]?(I._lView[Us]??=[]).push(_.watcher.notify):_.watcher.notify(),_}function Ik(e){const i=Rn(e);if(!i)return null;const o=new Lf(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},9417:(At,ue,a)=>{"use strict";a.d(ue,{$R:()=>ot,BC:()=>Lt,JD:()=>ji,MJ:()=>Li,Q0:()=>Xs,X1:()=>cs,YN:()=>Hi,YS:()=>gs,cV:()=>Vi,cb:()=>Kt,cz:()=>A,gE:()=>rn,j4:()=>Xt,k0:()=>$,kq:()=>h,me:()=>M,qT:()=>Ws,tU:()=>el,vO:()=>ke,vS:()=>zs,xq:()=>rr});var t=a(3953),n=a(177),f=a(4787),v=a(696),b=a(5286),C=a(5006);let g=(()=>{class Ge{constructor(Ce,bt){this._renderer=Ce,this._elementRef=bt,this.onChange=Zt=>{},this.onTouched=()=>{}}setProperty(Ce,bt){this._renderer.setProperty(this._elementRef.nativeElement,Ce,bt)}registerOnTouched(Ce){this.onTouched=Ce}registerOnChange(Ce){this.onChange=Ce}setDisabledState(Ce){this.setProperty("disabled",Ce)}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:Ge})}return Ge})(),S=(()=>{class Ge extends g{static#e=this.\u0275fac=(()=>{let Ce;return function(Zt){return(Ce||(Ce=t.xGo(Ge)))(Zt||Ge)}})();static#t=this.\u0275dir=t.FsC({type:Ge,features:[t.Vt3]})}return Ge})();const h=new t.nKC(""),m={provide:h,useExisting:(0,t.Rfq)(()=>M),multi:!0},u=new t.nKC("");let M=(()=>{class Ge extends g{constructor(Ce,bt,Zt){super(Ce,bt),this._compositionMode=Zt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function E(){const Ge=(0,n.QT)()?(0,n.QT)().getUserAgent():"";return/android (\d+)/.test(Ge.toLowerCase())}())}writeValue(Ce){this.setProperty("value",Ce??"")}_handleInput(Ce){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Ce)}_compositionStart(){this._composing=!0}_compositionEnd(Ce){this._composing=!1,this._compositionMode&&this.onChange(Ce)}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(u,8))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(bt,Zt){1&bt&&t.bIt("input",function(Yi){return Zt._handleInput(Yi.target.value)})("blur",function(){return Zt.onTouched()})("compositionstart",function(){return Zt._compositionStart()})("compositionend",function(Yi){return Zt._compositionEnd(Yi.target.value)})},features:[t.Jv_([m]),t.Vt3]})}return Ge})();function x(Ge){return null==Ge||("string"==typeof Ge||Array.isArray(Ge))&&0===Ge.length}function D(Ge){return null!=Ge&&"number"==typeof Ge.length}const A=new t.nKC(""),L=new t.nKC(""),l=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ${static min(He){return function R(Ge){return He=>{if(x(He.value)||x(Ge))return null;const Ce=parseFloat(He.value);return!isNaN(Ce)&&Ce<Ge?{min:{min:Ge,actual:He.value}}:null}}(He)}static max(He){return function F(Ge){return He=>{if(x(He.value)||x(Ge))return null;const Ce=parseFloat(He.value);return!isNaN(Ce)&&Ce>Ge?{max:{max:Ge,actual:He.value}}:null}}(He)}static required(He){return P(He)}static requiredTrue(He){return k(He)}static email(He){return function V(Ge){return x(Ge.value)||l.test(Ge.value)?null:{email:!0}}(He)}static minLength(He){return function K(Ge){return He=>x(He.value)||!D(He.value)?null:He.value.length<Ge?{minlength:{requiredLength:Ge,actualLength:He.value.length}}:null}(He)}static maxLength(He){return X(He)}static pattern(He){return function Q(Ge){if(!Ge)return de;let He,Ce;return"string"==typeof Ge?(Ce="","^"!==Ge.charAt(0)&&(Ce+="^"),Ce+=Ge,"$"!==Ge.charAt(Ge.length-1)&&(Ce+="$"),He=new RegExp(Ce)):(Ce=Ge.toString(),He=Ge),bt=>{if(x(bt.value))return null;const Zt=bt.value;return He.test(Zt)?null:{pattern:{requiredPattern:Ce,actualValue:Zt}}}}(He)}static nullValidator(He){return null}static compose(He){return ne(He)}static composeAsync(He){return ae(He)}}function P(Ge){return x(Ge.value)?{required:!0}:null}function k(Ge){return!0===Ge.value?null:{required:!0}}function X(Ge){return He=>D(He.value)&&He.value.length>Ge?{maxlength:{requiredLength:Ge,actualLength:He.value.length}}:null}function de(Ge){return null}function se(Ge){return null!=Ge}function ce(Ge){return(0,t.jNT)(Ge)?(0,f.H)(Ge):Ge}function z(Ge){let He={};return Ge.forEach(Ce=>{He=null!=Ce?{...He,...Ce}:He}),0===Object.keys(He).length?null:He}function w(Ge,He){return He.map(Ce=>Ce(Ge))}function W(Ge){return Ge.map(He=>function j(Ge){return!Ge.validate}(He)?He:Ce=>He.validate(Ce))}function ne(Ge){if(!Ge)return null;const He=Ge.filter(se);return 0==He.length?null:function(Ce){return z(w(Ce,He))}}function fe(Ge){return null!=Ge?ne(W(Ge)):null}function ae(Ge){if(!Ge)return null;const He=Ge.filter(se);return 0==He.length?null:function(Ce){const bt=w(Ce,He).map(ce);return(0,v.p)(bt).pipe((0,C.T)(z))}}function Ae(Ge){return null!=Ge?ae(W(Ge)):null}function Me(Ge,He){return null===Ge?[He]:Array.isArray(Ge)?[...Ge,He]:[Ge,He]}function Ve(Ge){return Ge._rawValidators}function We(Ge){return Ge._rawAsyncValidators}function lt(Ge){return Ge?Array.isArray(Ge)?Ge:[Ge]:[]}function nt(Ge,He){return Array.isArray(Ge)?Ge.includes(He):Ge===He}function $e(Ge,He){const Ce=lt(He);return lt(Ge).forEach(Zt=>{nt(Ce,Zt)||Ce.push(Zt)}),Ce}function Ie(Ge,He){return lt(He).filter(Ce=>!nt(Ge,Ce))}class me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(He){this._rawValidators=He||[],this._composedValidatorFn=fe(this._rawValidators)}_setAsyncValidators(He){this._rawAsyncValidators=He||[],this._composedAsyncValidatorFn=Ae(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(He){this._onDestroyCallbacks.push(He)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(He=>He()),this._onDestroyCallbacks=[]}reset(He=void 0){this.control&&this.control.reset(He)}hasError(He,Ce){return!!this.control&&this.control.hasError(He,Ce)}getError(He,Ce){return this.control?this.control.getError(He,Ce):null}}class De extends me{get formDirective(){return null}get path(){return null}}class ke extends me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qe{constructor(He){this._cd=He}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Lt=(()=>{class Ge extends Qe{constructor(Ce){super(Ce)}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(ke,2))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(bt,Zt){2&bt&&t.AVh("ng-untouched",Zt.isUntouched)("ng-touched",Zt.isTouched)("ng-pristine",Zt.isPristine)("ng-dirty",Zt.isDirty)("ng-valid",Zt.isValid)("ng-invalid",Zt.isInvalid)("ng-pending",Zt.isPending)},features:[t.Vt3]})}return Ge})(),Kt=(()=>{class Ge extends Qe{constructor(Ce){super(Ce)}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(De,10))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(bt,Zt){2&bt&&t.AVh("ng-untouched",Zt.isUntouched)("ng-touched",Zt.isTouched)("ng-pristine",Zt.isPristine)("ng-dirty",Zt.isDirty)("ng-valid",Zt.isValid)("ng-invalid",Zt.isInvalid)("ng-pending",Zt.isPending)("ng-submitted",Zt.isSubmitted)},features:[t.Vt3]})}return Ge})();const nn="VALID",Sn="INVALID",In="PENDING",Fn="DISABLED";class $n{}class ut extends $n{constructor(He,Ce){super(),this.value=He,this.source=Ce}}class Pe extends $n{constructor(He,Ce){super(),this.pristine=He,this.source=Ce}}class je extends $n{constructor(He,Ce){super(),this.touched=He,this.source=Ce}}class Te extends $n{constructor(He,Ce){super(),this.status=He,this.source=Ce}}class Ye extends $n{constructor(He){super(),this.source=He}}class Tt extends $n{constructor(He){super(),this.source=He}}function Ut(Ge){return(we(Ge)?Ge.validators:Ge)||null}function Fe(Ge,He){return(we(He)?He.asyncValidators:Ge)||null}function we(Ge){return null!=Ge&&!Array.isArray(Ge)&&"object"==typeof Ge}class on{constructor(He,Ce){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,t.EWP)(()=>this.statusReactive()),this.statusReactive=(0,t.vPA)(void 0),this._pristine=(0,t.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,t.vPA)(!0),this._touched=(0,t.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,t.vPA)(!1),this._events=new b.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(He),this._assignAsyncValidators(Ce)}get validator(){return this._composedValidatorFn}set validator(He){this._rawValidators=this._composedValidatorFn=He}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(He){this._rawAsyncValidators=this._composedAsyncValidatorFn=He}get parent(){return this._parent}get status(){return(0,t.O8t)(this.statusReactive)}set status(He){(0,t.O8t)(()=>this.statusReactive.set(He))}get valid(){return this.status===nn}get invalid(){return this.status===Sn}get pending(){return this.status==In}get disabled(){return this.status===Fn}get enabled(){return this.status!==Fn}get pristine(){return(0,t.O8t)(this.pristineReactive)}set pristine(He){(0,t.O8t)(()=>this.pristineReactive.set(He))}get dirty(){return!this.pristine}get touched(){return(0,t.O8t)(this.touchedReactive)}set touched(He){(0,t.O8t)(()=>this.touchedReactive.set(He))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(He){this._assignValidators(He)}setAsyncValidators(He){this._assignAsyncValidators(He)}addValidators(He){this.setValidators($e(He,this._rawValidators))}addAsyncValidators(He){this.setAsyncValidators($e(He,this._rawAsyncValidators))}removeValidators(He){this.setValidators(Ie(He,this._rawValidators))}removeAsyncValidators(He){this.setAsyncValidators(Ie(He,this._rawAsyncValidators))}hasValidator(He){return nt(this._rawValidators,He)}hasAsyncValidator(He){return nt(this._rawAsyncValidators,He)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(He={}){const Ce=!1===this.touched;this.touched=!0;const bt=He.sourceControl??this;this._parent&&!He.onlySelf&&this._parent.markAsTouched({...He,sourceControl:bt}),Ce&&!1!==He.emitEvent&&this._events.next(new je(!0,bt))}markAllAsTouched(He={}){this.markAsTouched({onlySelf:!0,emitEvent:He.emitEvent,sourceControl:this}),this._forEachChild(Ce=>Ce.markAllAsTouched(He))}markAsUntouched(He={}){const Ce=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const bt=He.sourceControl??this;this._forEachChild(Zt=>{Zt.markAsUntouched({onlySelf:!0,emitEvent:He.emitEvent,sourceControl:bt})}),this._parent&&!He.onlySelf&&this._parent._updateTouched(He,bt),Ce&&!1!==He.emitEvent&&this._events.next(new je(!1,bt))}markAsDirty(He={}){const Ce=!0===this.pristine;this.pristine=!1;const bt=He.sourceControl??this;this._parent&&!He.onlySelf&&this._parent.markAsDirty({...He,sourceControl:bt}),Ce&&!1!==He.emitEvent&&this._events.next(new Pe(!1,bt))}markAsPristine(He={}){const Ce=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const bt=He.sourceControl??this;this._forEachChild(Zt=>{Zt.markAsPristine({onlySelf:!0,emitEvent:He.emitEvent})}),this._parent&&!He.onlySelf&&this._parent._updatePristine(He,bt),Ce&&!1!==He.emitEvent&&this._events.next(new Pe(!0,bt))}markAsPending(He={}){this.status=In;const Ce=He.sourceControl??this;!1!==He.emitEvent&&(this._events.next(new Te(this.status,Ce)),this.statusChanges.emit(this.status)),this._parent&&!He.onlySelf&&this._parent.markAsPending({...He,sourceControl:Ce})}disable(He={}){const Ce=this._parentMarkedDirty(He.onlySelf);this.status=Fn,this.errors=null,this._forEachChild(Zt=>{Zt.disable({...He,onlySelf:!0})}),this._updateValue();const bt=He.sourceControl??this;!1!==He.emitEvent&&(this._events.next(new ut(this.value,bt)),this._events.next(new Te(this.status,bt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...He,skipPristineCheck:Ce},this),this._onDisabledChange.forEach(Zt=>Zt(!0))}enable(He={}){const Ce=this._parentMarkedDirty(He.onlySelf);this.status=nn,this._forEachChild(bt=>{bt.enable({...He,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:He.emitEvent}),this._updateAncestors({...He,skipPristineCheck:Ce},this),this._onDisabledChange.forEach(bt=>bt(!1))}_updateAncestors(He,Ce){this._parent&&!He.onlySelf&&(this._parent.updateValueAndValidity(He),He.skipPristineCheck||this._parent._updatePristine({},Ce),this._parent._updateTouched({},Ce))}setParent(He){this._parent=He}getRawValue(){return this.value}updateValueAndValidity(He={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const bt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nn||this.status===In)&&this._runAsyncValidator(bt,He.emitEvent)}const Ce=He.sourceControl??this;!1!==He.emitEvent&&(this._events.next(new ut(this.value,Ce)),this._events.next(new Te(this.status,Ce)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!He.onlySelf&&this._parent.updateValueAndValidity({...He,sourceControl:Ce})}_updateTreeValidity(He={emitEvent:!0}){this._forEachChild(Ce=>Ce._updateTreeValidity(He)),this.updateValueAndValidity({onlySelf:!0,emitEvent:He.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fn:nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(He,Ce){if(this.asyncValidator){this.status=In,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Ce};const bt=ce(this.asyncValidator(this));this._asyncValidationSubscription=bt.subscribe(Zt=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Zt,{emitEvent:Ce,shouldHaveEmitted:He})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const He=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,He}return!1}setErrors(He,Ce={}){this.errors=He,this._updateControlsErrors(!1!==Ce.emitEvent,this,Ce.shouldHaveEmitted)}get(He){let Ce=He;return null==Ce||(Array.isArray(Ce)||(Ce=Ce.split(".")),0===Ce.length)?null:Ce.reduce((bt,Zt)=>bt&&bt._find(Zt),this)}getError(He,Ce){const bt=Ce?this.get(Ce):this;return bt&&bt.errors?bt.errors[He]:null}hasError(He,Ce){return!!this.getError(He,Ce)}get root(){let He=this;for(;He._parent;)He=He._parent;return He}_updateControlsErrors(He,Ce,bt){this.status=this._calculateStatus(),He&&this.statusChanges.emit(this.status),(He||bt)&&this._events.next(new Te(this.status,Ce)),this._parent&&this._parent._updateControlsErrors(He,Ce,bt)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?Fn:this.errors?Sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(In)?In:this._anyControlsHaveStatus(Sn)?Sn:nn}_anyControlsHaveStatus(He){return this._anyControls(Ce=>Ce.status===He)}_anyControlsDirty(){return this._anyControls(He=>He.dirty)}_anyControlsTouched(){return this._anyControls(He=>He.touched)}_updatePristine(He,Ce){const bt=!this._anyControlsDirty(),Zt=this.pristine!==bt;this.pristine=bt,this._parent&&!He.onlySelf&&this._parent._updatePristine(He,Ce),Zt&&this._events.next(new Pe(this.pristine,Ce))}_updateTouched(He={},Ce){this.touched=this._anyControlsTouched(),this._events.next(new je(this.touched,Ce)),this._parent&&!He.onlySelf&&this._parent._updateTouched(He,Ce)}_registerOnCollectionChange(He){this._onCollectionChange=He}_setUpdateStrategy(He){we(He)&&null!=He.updateOn&&(this._updateOn=He.updateOn)}_parentMarkedDirty(He){return!He&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(He){return null}_assignValidators(He){this._rawValidators=Array.isArray(He)?He.slice():He,this._composedValidatorFn=function Ke(Ge){return Array.isArray(Ge)?fe(Ge):Ge||null}(this._rawValidators)}_assignAsyncValidators(He){this._rawAsyncValidators=Array.isArray(He)?He.slice():He,this._composedAsyncValidatorFn=function Ue(Ge){return Array.isArray(Ge)?Ae(Ge):Ge||null}(this._rawAsyncValidators)}}class rn extends on{constructor(He,Ce,bt){super(Ut(Ce),Fe(bt,Ce)),this.controls=He,this._initObservables(),this._setUpdateStrategy(Ce),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(He,Ce){return this.controls[He]?this.controls[He]:(this.controls[He]=Ce,Ce.setParent(this),Ce._registerOnCollectionChange(this._onCollectionChange),Ce)}addControl(He,Ce,bt={}){this.registerControl(He,Ce),this.updateValueAndValidity({emitEvent:bt.emitEvent}),this._onCollectionChange()}removeControl(He,Ce={}){this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),delete this.controls[He],this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}setControl(He,Ce,bt={}){this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),delete this.controls[He],Ce&&this.registerControl(He,Ce),this.updateValueAndValidity({emitEvent:bt.emitEvent}),this._onCollectionChange()}contains(He){return this.controls.hasOwnProperty(He)&&this.controls[He].enabled}setValue(He,Ce={}){(function vt(Ge,He,Ce){Ge._forEachChild((bt,Zt)=>{if(void 0===Ce[Zt])throw new t.wOt(1002,"")})})(this,0,He),Object.keys(He).forEach(bt=>{(function rt(Ge,He,Ce){const bt=Ge.controls;if(!(He?Object.keys(bt):bt).length)throw new t.wOt(1e3,"");if(!bt[Ce])throw new t.wOt(1001,"")})(this,!0,bt),this.controls[bt].setValue(He[bt],{onlySelf:!0,emitEvent:Ce.emitEvent})}),this.updateValueAndValidity(Ce)}patchValue(He,Ce={}){null!=He&&(Object.keys(He).forEach(bt=>{const Zt=this.controls[bt];Zt&&Zt.patchValue(He[bt],{onlySelf:!0,emitEvent:Ce.emitEvent})}),this.updateValueAndValidity(Ce))}reset(He={},Ce={}){this._forEachChild((bt,Zt)=>{bt.reset(He?He[Zt]:null,{onlySelf:!0,emitEvent:Ce.emitEvent})}),this._updatePristine(Ce,this),this._updateTouched(Ce,this),this.updateValueAndValidity(Ce)}getRawValue(){return this._reduceChildren({},(He,Ce,bt)=>(He[bt]=Ce.getRawValue(),He))}_syncPendingControls(){let He=this._reduceChildren(!1,(Ce,bt)=>!!bt._syncPendingControls()||Ce);return He&&this.updateValueAndValidity({onlySelf:!0}),He}_forEachChild(He){Object.keys(this.controls).forEach(Ce=>{const bt=this.controls[Ce];bt&&He(bt,Ce)})}_setUpControls(){this._forEachChild(He=>{He.setParent(this),He._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(He){for(const[Ce,bt]of Object.entries(this.controls))if(this.contains(Ce)&&He(bt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ce,bt,Zt)=>((bt.enabled||this.disabled)&&(Ce[Zt]=bt.value),Ce))}_reduceChildren(He,Ce){let bt=He;return this._forEachChild((Zt,mi)=>{bt=Ce(bt,Zt,mi)}),bt}_allControlsDisabled(){for(const He of Object.keys(this.controls))if(this.controls[He].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(He){return this.controls.hasOwnProperty(He)?this.controls[He]:null}}const cn=new t.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>xn}),xn="always";function ii(Ge,He){return[...He.path,Ge]}function vi(Ge,He,Ce=xn){Mi(Ge,He),He.valueAccessor.writeValue(Ge.value),(Ge.disabled||"always"===Ce)&&He.valueAccessor.setDisabledState?.(Ge.disabled),function po(Ge,He){He.valueAccessor.registerOnChange(Ce=>{Ge._pendingValue=Ce,Ge._pendingChange=!0,Ge._pendingDirty=!0,"change"===Ge.updateOn&&Po(Ge,He)})}(Ge,He),function uo(Ge,He){const Ce=(bt,Zt)=>{He.valueAccessor.writeValue(bt),Zt&&He.viewToModelUpdate(bt)};Ge.registerOnChange(Ce),He._registerOnDestroy(()=>{Ge._unregisterOnChange(Ce)})}(Ge,He),function ki(Ge,He){He.valueAccessor.registerOnTouched(()=>{Ge._pendingTouched=!0,"blur"===Ge.updateOn&&Ge._pendingChange&&Po(Ge,He),"submit"!==Ge.updateOn&&Ge.markAsTouched()})}(Ge,He),function Ai(Ge,He){if(He.valueAccessor.setDisabledState){const Ce=bt=>{He.valueAccessor.setDisabledState(bt)};Ge.registerOnDisabledChange(Ce),He._registerOnDestroy(()=>{Ge._unregisterOnDisabledChange(Ce)})}}(Ge,He)}function bi(Ge,He,Ce=!0){const bt=()=>{};He.valueAccessor&&(He.valueAccessor.registerOnChange(bt),He.valueAccessor.registerOnTouched(bt)),ro(Ge,He),Ge&&(He._invokeOnDestroyCallbacks(),Ge._registerOnCollectionChange(()=>{}))}function hi(Ge,He){Ge.forEach(Ce=>{Ce.registerOnValidatorChange&&Ce.registerOnValidatorChange(He)})}function Mi(Ge,He){const Ce=Ve(Ge);null!==He.validator?Ge.setValidators(Me(Ce,He.validator)):"function"==typeof Ce&&Ge.setValidators([Ce]);const bt=We(Ge);null!==He.asyncValidator?Ge.setAsyncValidators(Me(bt,He.asyncValidator)):"function"==typeof bt&&Ge.setAsyncValidators([bt]);const Zt=()=>Ge.updateValueAndValidity();hi(He._rawValidators,Zt),hi(He._rawAsyncValidators,Zt)}function ro(Ge,He){let Ce=!1;if(null!==Ge){if(null!==He.validator){const Zt=Ve(Ge);if(Array.isArray(Zt)&&Zt.length>0){const mi=Zt.filter(Yi=>Yi!==He.validator);mi.length!==Zt.length&&(Ce=!0,Ge.setValidators(mi))}}if(null!==He.asyncValidator){const Zt=We(Ge);if(Array.isArray(Zt)&&Zt.length>0){const mi=Zt.filter(Yi=>Yi!==He.asyncValidator);mi.length!==Zt.length&&(Ce=!0,Ge.setAsyncValidators(mi))}}}const bt=()=>{};return hi(He._rawValidators,bt),hi(He._rawAsyncValidators,bt),Ce}function Po(Ge,He){Ge._pendingDirty&&Ge.markAsDirty(),Ge.setValue(Ge._pendingValue,{emitModelToViewChange:!1}),He.viewToModelUpdate(Ge._pendingValue),Ge._pendingChange=!1}function ni(Ge,He){Mi(Ge,He)}function ge(Ge,He){if(!Ge.hasOwnProperty("model"))return!1;const Ce=Ge.model;return!!Ce.isFirstChange()||!Object.is(He,Ce.currentValue)}function yt(Ge,He){Ge._syncPendingControls(),He.forEach(Ce=>{const bt=Ce.control;"submit"===bt.updateOn&&bt._pendingChange&&(Ce.viewToModelUpdate(bt._pendingValue),bt._pendingChange=!1)})}function mn(Ge,He){if(!He)return null;let Ce,bt,Zt;return Array.isArray(He),He.forEach(mi=>{mi.constructor===M?Ce=mi:function ze(Ge){return Object.getPrototypeOf(Ge.constructor)===S}(mi)?bt=mi:Zt=mi}),Zt||bt||Ce||null}const wi={provide:De,useExisting:(0,t.Rfq)(()=>Vi)},Oi=Promise.resolve();let Vi=(()=>{class Ge extends De{get submitted(){return(0,t.O8t)(this.submittedReactive)}constructor(Ce,bt,Zt){super(),this.callSetDisabledState=Zt,this._submitted=(0,t.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,t.vPA)(!1),this._directives=new Set,this.ngSubmit=new t.bkB,this.form=new rn({},fe(Ce),Ae(bt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Ce){Oi.then(()=>{const bt=this._findContainer(Ce.path);Ce.control=bt.registerControl(Ce.name,Ce.control),vi(Ce.control,Ce,this.callSetDisabledState),Ce.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Ce)})}getControl(Ce){return this.form.get(Ce.path)}removeControl(Ce){Oi.then(()=>{const bt=this._findContainer(Ce.path);bt&&bt.removeControl(Ce.name),this._directives.delete(Ce)})}addFormGroup(Ce){Oi.then(()=>{const bt=this._findContainer(Ce.path),Zt=new rn({});ni(Zt,Ce),bt.registerControl(Ce.name,Zt),Zt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Ce){Oi.then(()=>{const bt=this._findContainer(Ce.path);bt&&bt.removeControl(Ce.name)})}getFormGroup(Ce){return this.form.get(Ce.path)}updateModel(Ce,bt){Oi.then(()=>{this.form.get(Ce.path).setValue(bt)})}setValue(Ce){this.control.setValue(Ce)}onSubmit(Ce){return this.submittedReactive.set(!0),yt(this.form,this._directives),this.ngSubmit.emit(Ce),"dialog"===Ce?.target?.method}onReset(){this.resetForm()}resetForm(Ce=void 0){this.form.reset(Ce),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Ce){return Ce.pop(),Ce.length?this.form.get(Ce):this.form}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(A,10),t.rXU(L,10),t.rXU(cn,8))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(bt,Zt){1&bt&&t.bIt("submit",function(Yi){return Zt.onSubmit(Yi)})("reset",function(){return Zt.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([wi]),t.Vt3]})}return Ge})();function mo(Ge,He){const Ce=Ge.indexOf(He);Ce>-1&&Ge.splice(Ce,1)}function lo(Ge){return"object"==typeof Ge&&null!==Ge&&2===Object.keys(Ge).length&&"value"in Ge&&"disabled"in Ge}const Li=class extends on{constructor(He=null,Ce,bt){super(Ut(Ce),Fe(bt,Ce)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(He),this._setUpdateStrategy(Ce),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),we(Ce)&&(Ce.nonNullable||Ce.initialValueIsDefault)&&(this.defaultValue=lo(He)?He.value:He)}setValue(He,Ce={}){this.value=this._pendingValue=He,this._onChange.length&&!1!==Ce.emitModelToViewChange&&this._onChange.forEach(bt=>bt(this.value,!1!==Ce.emitViewToModelChange)),this.updateValueAndValidity(Ce)}patchValue(He,Ce={}){this.setValue(He,Ce)}reset(He=this.defaultValue,Ce={}){this._applyFormState(He),this.markAsPristine(Ce),this.markAsUntouched(Ce),this.setValue(this.value,Ce),this._pendingChange=!1}_updateValue(){}_anyControls(He){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(He){this._onChange.push(He)}_unregisterOnChange(He){mo(this._onChange,He)}registerOnDisabledChange(He){this._onDisabledChange.push(He)}_unregisterOnDisabledChange(He){mo(this._onDisabledChange,He)}_forEachChild(He){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(He){lo(He)?(this.value=this._pendingValue=He.value,He.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=He}};let Xo=(()=>{class Ge extends De{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ii(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let Ce;return function(Zt){return(Ce||(Ce=t.xGo(Ge)))(Zt||Ge)}})();static#t=this.\u0275dir=t.FsC({type:Ge,features:[t.Vt3]})}return Ge})();const or={provide:ke,useExisting:(0,t.Rfq)(()=>zs)},Ds=Promise.resolve();let zs=(()=>{class Ge extends ke{constructor(Ce,bt,Zt,mi,Yi,Gi){super(),this._changeDetectorRef=Yi,this.callSetDisabledState=Gi,this.control=new Li,this._registered=!1,this.name="",this.update=new t.bkB,this._parent=Ce,this._setValidators(bt),this._setAsyncValidators(Zt),this.valueAccessor=mn(0,mi)}ngOnChanges(Ce){if(this._checkForErrors(),!this._registered||"name"in Ce){if(this._registered&&(this._checkName(),this.formDirective)){const bt=Ce.name.previousValue;this.formDirective.removeControl({name:bt,path:this._getPath(bt)})}this._setUpControl()}"isDisabled"in Ce&&this._updateDisabled(Ce),ge(Ce,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Ce){this.viewModel=Ce,this.update.emit(Ce)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Ce){Ds.then(()=>{this.control.setValue(Ce,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Ce){const bt=Ce.isDisabled.currentValue,Zt=0!==bt&&(0,t.L39)(bt);Ds.then(()=>{Zt&&!this.control.disabled?this.control.disable():!Zt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Ce){return this._parent?ii(Ce,this._parent):[Ce]}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(De,9),t.rXU(A,10),t.rXU(L,10),t.rXU(h,10),t.rXU(t.gRc,8),t.rXU(cn,8))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.Jv_([or]),t.Vt3,t.OA$]})}return Ge})(),Ws=(()=>{class Ge{static#e=this.\u0275fac=function(bt){return new(bt||Ge)};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ge})();const xr={provide:h,useExisting:(0,t.Rfq)(()=>Xs),multi:!0};let Xs=(()=>{class Ge extends S{writeValue(Ce){this.setProperty("value",Ce??"")}registerOnChange(Ce){this.onChange=bt=>{Ce(""==bt?null:parseFloat(bt))}}static#e=this.\u0275fac=(()=>{let Ce;return function(Zt){return(Ce||(Ce=t.xGo(Ge)))(Zt||Ge)}})();static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(bt,Zt){1&bt&&t.bIt("input",function(Yi){return Zt.onChange(Yi.target.value)})("blur",function(){return Zt.onTouched()})},features:[t.Jv_([xr]),t.Vt3]})}return Ge})();const Hs=new t.nKC(""),ur={provide:De,useExisting:(0,t.Rfq)(()=>Xt)};let Xt=(()=>{class Ge extends De{get submitted(){return(0,t.O8t)(this._submittedReactive)}set submitted(Ce){this._submittedReactive.set(Ce)}constructor(Ce,bt,Zt){super(),this.callSetDisabledState=Zt,this._submitted=(0,t.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,t.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.bkB,this._setValidators(Ce),this._setAsyncValidators(bt)}ngOnChanges(Ce){this._checkFormPresent(),Ce.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ro(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Ce){const bt=this.form.get(Ce.path);return vi(bt,Ce,this.callSetDisabledState),bt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Ce),bt}getControl(Ce){return this.form.get(Ce.path)}removeControl(Ce){bi(Ce.control||null,Ce,!1),function Ln(Ge,He){const Ce=Ge.indexOf(He);Ce>-1&&Ge.splice(Ce,1)}(this.directives,Ce)}addFormGroup(Ce){this._setUpFormContainer(Ce)}removeFormGroup(Ce){this._cleanUpFormContainer(Ce)}getFormGroup(Ce){return this.form.get(Ce.path)}addFormArray(Ce){this._setUpFormContainer(Ce)}removeFormArray(Ce){this._cleanUpFormContainer(Ce)}getFormArray(Ce){return this.form.get(Ce.path)}updateModel(Ce,bt){this.form.get(Ce.path).setValue(bt)}onSubmit(Ce){return this._submittedReactive.set(!0),yt(this.form,this.directives),this.ngSubmit.emit(Ce),this.form._events.next(new Ye(this.control)),"dialog"===Ce?.target?.method}onReset(){this.resetForm()}resetForm(Ce=void 0){this.form.reset(Ce),this._submittedReactive.set(!1),this.form._events.next(new Tt(this.form))}_updateDomValue(){this.directives.forEach(Ce=>{const bt=Ce.control,Zt=this.form.get(Ce.path);bt!==Zt&&(bi(bt||null,Ce),(Ge=>Ge instanceof Li)(Zt)&&(vi(Zt,Ce,this.callSetDisabledState),Ce.control=Zt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Ce){const bt=this.form.get(Ce.path);ni(bt,Ce),bt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Ce){if(this.form){const bt=this.form.get(Ce.path);bt&&function fi(Ge,He){return ro(Ge,He)}(bt,Ce)&&bt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mi(this.form,this),this._oldForm&&ro(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(A,10),t.rXU(L,10),t.rXU(cn,8))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","formGroup",""]],hostBindings:function(bt,Zt){1&bt&&t.bIt("submit",function(Yi){return Zt.onSubmit(Yi)})("reset",function(){return Zt.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([ur]),t.Vt3,t.OA$]})}return Ge})();const Cn={provide:De,useExisting:(0,t.Rfq)(()=>ot)};let ot=(()=>{class Ge extends Xo{constructor(Ce,bt,Zt){super(),this.name=null,this._parent=Ce,this._setValidators(bt),this._setAsyncValidators(Zt)}_checkParentType(){Mn(this._parent)}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(De,13),t.rXU(A,10),t.rXU(L,10))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[t.Jv_([Cn]),t.Vt3]})}return Ge})();const jt={provide:De,useExisting:(0,t.Rfq)(()=>Gt)};let Gt=(()=>{class Ge extends De{constructor(Ce,bt,Zt){super(),this.name=null,this._parent=Ce,this._setValidators(bt),this._setAsyncValidators(Zt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ii(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Mn(this._parent)}static#e=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(De,13),t.rXU(A,10),t.rXU(L,10))};static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[t.Jv_([jt]),t.Vt3]})}return Ge})();function Mn(Ge){return!(Ge instanceof ot||Ge instanceof Xt||Ge instanceof Gt)}const Gn={provide:ke,useExisting:(0,t.Rfq)(()=>ji)};let ji=(()=>{class Ge extends ke{set isDisabled(Ce){}static#e=this._ngModelWarningSentOnce=!1;constructor(Ce,bt,Zt,mi,Yi){super(),this._ngModelWarningConfig=Yi,this._added=!1,this.name=null,this.update=new t.bkB,this._ngModelWarningSent=!1,this._parent=Ce,this._setValidators(bt),this._setAsyncValidators(Zt),this.valueAccessor=mn(0,mi)}ngOnChanges(Ce){this._added||this._setUpControl(),ge(Ce,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Ce){this.viewModel=Ce,this.update.emit(Ce)}get path(){return ii(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(bt){return new(bt||Ge)(t.rXU(De,13),t.rXU(A,10),t.rXU(L,10),t.rXU(h,10),t.rXU(Hs,8))};static#n=this.\u0275dir=t.FsC({type:Ge,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[t.Jv_([Gn]),t.Vt3,t.OA$]})}return Ge})();let ms=(()=>{class Ge{constructor(){this._validator=de}ngOnChanges(Ce){if(this.inputName in Ce){const bt=this.normalizeInput(Ce[this.inputName].currentValue);this._enabled=this.enabled(bt),this._validator=this._enabled?this.createValidator(bt):de,this._onChange&&this._onChange()}}validate(Ce){return this._validator(Ce)}registerOnValidatorChange(Ce){this._onChange=Ce}enabled(Ce){return null!=Ce}static#e=this.\u0275fac=function(bt){return new(bt||Ge)};static#t=this.\u0275dir=t.FsC({type:Ge,features:[t.OA$]})}return Ge})();const Ls={provide:A,useExisting:(0,t.Rfq)(()=>gs),multi:!0},Ys={provide:A,useExisting:(0,t.Rfq)(()=>rr),multi:!0};let gs=(()=>{class Ge extends ms{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.L39,this.createValidator=Ce=>P}enabled(Ce){return Ce}static#e=this.\u0275fac=(()=>{let Ce;return function(Zt){return(Ce||(Ce=t.xGo(Ge)))(Zt||Ge)}})();static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(bt,Zt){2&bt&&t.BMQ("required",Zt._enabled?"":null)},inputs:{required:"required"},features:[t.Jv_([Ls]),t.Vt3]})}return Ge})(),rr=(()=>{class Ge extends gs{constructor(){super(...arguments),this.createValidator=Ce=>k}static#e=this.\u0275fac=(()=>{let Ce;return function(Zt){return(Ce||(Ce=t.xGo(Ge)))(Zt||Ge)}})();static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(bt,Zt){2&bt&&t.BMQ("required",Zt._enabled?"":null)},features:[t.Jv_([Ys]),t.Vt3]})}return Ge})();const Yo={provide:A,useExisting:(0,t.Rfq)(()=>el),multi:!0};let el=(()=>{class Ge extends ms{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Ce=>function ei(Ge){return"number"==typeof Ge?Ge:parseInt(Ge,10)}(Ce),this.createValidator=Ce=>X(Ce)}static#e=this.\u0275fac=(()=>{let Ce;return function(Zt){return(Ce||(Ce=t.xGo(Ge)))(Zt||Ge)}})();static#t=this.\u0275dir=t.FsC({type:Ge,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(bt,Zt){2&bt&&t.BMQ("maxlength",Zt._enabled?Zt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t.Jv_([Yo]),t.Vt3]})}return Ge})(),be=(()=>{class Ge{static#e=this.\u0275fac=function(bt){return new(bt||Ge)};static#t=this.\u0275mod=t.$C({type:Ge});static#n=this.\u0275inj=t.G2t({})}return Ge})(),Hi=(()=>{class Ge{static withConfig(Ce){return{ngModule:Ge,providers:[{provide:cn,useValue:Ce.callSetDisabledState??xn}]}}static#e=this.\u0275fac=function(bt){return new(bt||Ge)};static#t=this.\u0275mod=t.$C({type:Ge});static#n=this.\u0275inj=t.G2t({imports:[be]})}return Ge})(),cs=(()=>{class Ge{static withConfig(Ce){return{ngModule:Ge,providers:[{provide:Hs,useValue:Ce.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:Ce.callSetDisabledState??xn}]}}static#e=this.\u0275fac=function(bt){return new(bt||Ge)};static#t=this.\u0275mod=t.$C({type:Ge});static#n=this.\u0275inj=t.G2t({imports:[be]})}return Ge})()},850:(At,ue,a)=>{"use strict";a.d(ue,{$3:()=>ne,Vn:()=>fe,jL:()=>nt,pN:()=>lt});var t=a(3953),n=a(6600),f=a(177),v=a(494),b=a(7987),C=a(8617),g=a(6860),S=a(9969),h=a(4337),y=a(5286),O=a(9418),m=a(4670),E=a(4421),u=a(3586),M=a(5817),x=a(7336),D=a(9327),A=a(6939),L=a(9417),l=a(3719),$=a(3176),R=a(9090),F=a(8728),P=a(5006),k=a(8841),V=a(8002),K=a(9493),X=a(8203);const Q=["panel"],de=["*"];function se($e,Ie){if(1&$e){const me=t.RV6();t.j41(0,"div",1,0),t.bIt("@panelAnimation.done",function(ke){t.eBV(me);const Qe=t.XpG();return t.Njj(Qe._animationDone.next(ke))}),t.SdG(2),t.k0s()}if(2&$e){const me=Ie.id,De=t.XpG();t.HbH(De._classList),t.AVh("mat-mdc-autocomplete-visible",De.showPanel)("mat-mdc-autocomplete-hidden",!De.showPanel)("mat-primary","primary"===De._color)("mat-accent","accent"===De._color)("mat-warn","warn"===De._color),t.Y8G("id",De.id)("@panelAnimation",De.isOpen?"visible":"hidden"),t.BMQ("aria-label",De.ariaLabel||null)("aria-labelledby",De._getPanelAriaLabelledby(me))}}const ce=(0,S.hZ)("panelAnimation",[(0,S.wk)("void, hidden",(0,S.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,S.kY)(":enter, hidden => visible",[(0,S.Os)([(0,S.i0)("0.03s linear",(0,S.iF)({opacity:1})),(0,S.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,S.iF)({transform:"scaleY(1)"}))])]),(0,S.kY)(":leave, visible => hidden",[(0,S.i0)("0.075s linear",(0,S.iF)({opacity:0}))])]);let z=0;class w{constructor(Ie,me){this.source=Ie,this.option=me}}const j=new t.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function W(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ne=(()=>{class $e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(me){this._color=me,this._changeDetectorRef.markForCheck()}set classList(me){this._classList=me,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(me){this._hideSingleSelectionIndicator=me,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const me of this.options)me._changeDetectorRef.markForCheck()}constructor(me,De,ke,Qe){this._changeDetectorRef=me,this._elementRef=De,this._defaults=ke,this._activeOptionChanges=h.y.EMPTY,this._animationDone=new t.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new t.bkB,this.opened=new t.bkB,this.closed=new t.bkB,this.optionActivated=new t.bkB,this.id="mat-autocomplete-"+z++,this.inertGroups=Qe?.SAFARI||!1,this.autoActiveFirstOption=!!ke.autoActiveFirstOption,this.autoSelectActiveOption=!!ke.autoSelectActiveOption,this.requireSelection=!!ke.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new C.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(me=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[me]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(me){this.panel&&(this.panel.nativeElement.scrollTop=me)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(me){const De=new w(this,me);this.optionSelected.emit(De)}_getPanelAriaLabelledby(me){return this.ariaLabel?null:this.ariaLabelledby?(me?me+" ":"")+this.ariaLabelledby:me}_skipPredicate(){return!1}static#e=this.\u0275fac=function(De){return new(De||$e)(t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(j),t.rXU(g.OD))};static#t=this.\u0275cmp=t.VBU({type:$e,selectors:[["mat-autocomplete"]],contentQueries:function(De,ke,Qe){if(1&De&&(t.wni(Qe,n.wT,5),t.wni(Qe,n.QC,5)),2&De){let Ne;t.mGM(Ne=t.lsd())&&(ke.options=Ne),t.mGM(Ne=t.lsd())&&(ke.optionGroups=Ne)}},viewQuery:function(De,ke){if(1&De&&(t.GBs(t.C4Q,7),t.GBs(Q,5)),2&De){let Qe;t.mGM(Qe=t.lsd())&&(ke.template=Qe.first),t.mGM(Qe=t.lsd())&&(ke.panel=Qe.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",t.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",t.L39],requireSelection:[2,"requireSelection","requireSelection",t.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",t.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",t.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[t.Jv_([{provide:n.is,useExisting:$e}]),t.GFd,t.aNF],ngContentSelectors:de,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(De,ke){1&De&&(t.NAR(),t.DNE(0,se,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ce]},changeDetection:0})}return $e})(),fe=(()=>{class $e{constructor(me){this.elementRef=me}static#e=this.\u0275fac=function(De){return new(De||$e)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:$e,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return $e})();const ae={provide:L.kq,useExisting:(0,t.Rfq)(()=>lt),multi:!0},Me=new t.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const $e=(0,t.WQX)(b.hJ);return()=>$e.scrollStrategies.reposition()}}),We={provide:Me,deps:[b.hJ],useFactory:function Ve($e){return()=>$e.scrollStrategies.reposition()}};let lt=(()=>{class $e{constructor(me,De,ke,Qe,Ne,at,Lt,Kt,Ot,Se,ve){this._element=me,this._overlay=De,this._viewContainerRef=ke,this._zone=Qe,this._changeDetectorRef=Ne,this._dir=Lt,this._formField=Kt,this._document=Ot,this._viewportRuler=Se,this._defaults=ve,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=h.y.EMPTY,this._breakpointObserver=(0,t.WQX)(D.QP),this._handsetLandscapeSubscription=h.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new y.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new y.B7,this._injector=(0,t.WQX)(t.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,O.v)(()=>{const N=this.autocomplete?this.autocomplete.options:null;return N?N.changes.pipe((0,$.Z)(N),(0,R.n)(()=>(0,m.h)(...N.map(ie=>ie.onSelectionChange)))):this._initialized.pipe((0,R.n)(()=>this.optionSelections))}),this._handlePanelKeydown=N=>{(N.keyCode===x._f&&!(0,x.rp)(N)||N.keyCode===x.i7&&(0,x.rp)(N,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),N.stopPropagation(),N.preventDefault())},this._trackedModal=null,this._scrollStrategy=at}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const me=this._getWindow();typeof me<"u"&&this._zone.runOutsideAngular(()=>me.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(me){me.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const me=this._getWindow();typeof me<"u"&&me.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,C.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,m.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,F.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,F.p)(()=>this._overlayAttached)):(0,E.of)()).pipe((0,P.T)(me=>me instanceof n.MI?me:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,m.h)((0,u.R)(this._document,"click"),(0,u.R)(this._document,"auxclick"),(0,u.R)(this._document,"touchend")).pipe((0,F.p)(me=>{const De=(0,g.Fb)(me),ke=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,Qe=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&De!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!ke||!ke.contains(De))&&(!Qe||!Qe.contains(De))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(De)}))}writeValue(me){Promise.resolve(null).then(()=>this._assignOptionValue(me))}registerOnChange(me){this._onChange=me}registerOnTouched(me){this._onTouched=me}setDisabledState(me){this._element.nativeElement.disabled=me}_handleKeydown(me){const De=me.keyCode,ke=(0,x.rp)(me);if(De===x._f&&!ke&&me.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&De===x.Fm&&this.panelOpen&&!ke)this.activeOption._selectViaInteraction(),this._resetActiveItem(),me.preventDefault();else if(this.autocomplete){const Qe=this.autocomplete._keyManager.activeItem,Ne=De===x.i7||De===x.n6;De===x.wn||Ne&&!ke&&this.panelOpen?this.autocomplete._keyManager.onKeydown(me):Ne&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(Ne||this.autocomplete._keyManager.activeItem!==Qe)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(me){let De=me.target,ke=De.value;if("number"===De.type&&(ke=""==ke?null:parseFloat(ke)),this._previousValue!==ke){if(this._previousValue=ke,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(ke),ke){if(this.panelOpen&&!this.autocomplete.requireSelection){const Qe=this.autocomplete.options?.find(Ne=>Ne.selected);Qe&&ke!==this._getDisplayValue(Qe.value)&&Qe.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===me.target){const Qe=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(Qe)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(me=!1){this._formField&&"auto"===this._formField.floatLabel&&(me?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const me=new M.c(ke=>{(0,t.mal)(()=>{ke.next()},{injector:this._injector})}),De=this.autocomplete.options.changes.pipe((0,k.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,V.c)(0));return(0,m.h)(me,De).pipe((0,R.n)(()=>this._zone.run(()=>{const ke=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),ke!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,K.s)(1)).subscribe(ke=>this._setValueAndClose(ke))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(me){const De=this.autocomplete;return De&&De.displayWith?De.displayWith(me):me}_assignOptionValue(me){const De=this._getDisplayValue(me);null==me&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(De??"")}_updateNativeInputValue(me){this._formField?this._formField._control.value=me:this._element.nativeElement.value=me,this._previousValue=me}_setValueAndClose(me){const De=this.autocomplete,ke=me?me.source:this._pendingAutoselectedOption;ke?(this._clearPreviousSelectedOption(ke),this._assignOptionValue(ke.value),this._onChange(ke.value),De._emitSelectEvent(ke),this._element.nativeElement.focus()):De.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),De._animationDone?De._animationDone.pipe((0,K.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(me,De){this.autocomplete?.options?.forEach(ke=>{ke!==me&&ke.selected&&ke.deselect(De)})}_openPanelInternal(me=this._element.nativeElement.value){this._attachOverlay(me),this._floatLabel(),this._trackedModal&&(0,C.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(me){let De=this._overlayRef;De?(this._positionStrategy.setOrigin(this._getConnectedElement()),De.updateSize({width:this._getPanelWidth()})):(this._portal=new A.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),De=this._overlay.create(this._getOverlayConfig()),this._overlayRef=De,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&De&&De.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(D.Rp.HandsetLandscape).subscribe(Qe=>{Qe.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),De&&!De.hasAttached()&&(De.attach(this._portal),this._valueOnAttach=me,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const ke=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&ke!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const me=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=me.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=me.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new b.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const me=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(me),this._positionStrategy=me,me}_setStrategyPositions(me){const De=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ke=this._aboveClass,Qe=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:ke},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:ke}];let Ne;Ne="above"===this.position?Qe:"below"===this.position?De:[...De,...Qe],me.withPositions(Ne)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const me=this.autocomplete;if(me.autoActiveFirstOption){let De=-1;for(let ke=0;ke<me.options.length;ke++)if(!me.options.get(ke).disabled){De=ke;break}me._keyManager.setActiveItem(De)}else me._keyManager.setActiveItem(-1)}_canOpen(){const me=this._element.nativeElement;return!me.readOnly&&!me.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(me){const De=this.autocomplete,ke=(0,n.jb)(me,De.options,De.optionGroups);if(0===me&&1===ke)De._setScrollTop(0);else if(De.panel){const Qe=De.options.toArray()[me];if(Qe){const Ne=Qe._getHostElement(),at=(0,n.TL)(Ne.offsetTop,Ne.offsetHeight,De._getScrollTop(),De.panel.nativeElement.offsetHeight);De._setScrollTop(at)}}}_applyModalPanelOwnership(){const me=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!me)return;const De=this.autocomplete.id;this._trackedModal&&(0,C.Ae)(this._trackedModal,"aria-owns",De),(0,C.px)(me,"aria-owns",De),this._trackedModal=me}_clearFromModal(){this._trackedModal&&((0,C.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(De){return new(De||$e)(t.rXU(t.aKT),t.rXU(b.hJ),t.rXU(t.c1b),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(Me),t.rXU(X.dS,8),t.rXU(l.xb,9),t.rXU(f.qQ,8),t.rXU(v.Xj),t.rXU(j,8))};static#t=this.\u0275dir=t.FsC({type:$e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(De,ke){1&De&&t.bIt("focusin",function(){return ke._handleFocus()})("blur",function(){return ke._onTouched()})("input",function(Ne){return ke._handleInput(Ne)})("keydown",function(Ne){return ke._handleKeydown(Ne)})("click",function(){return ke._handleClick()}),2&De&&t.BMQ("autocomplete",ke.autocompleteAttribute)("role",ke.autocompleteDisabled?null:"combobox")("aria-autocomplete",ke.autocompleteDisabled?null:"list")("aria-activedescendant",ke.panelOpen&&ke.activeOption?ke.activeOption.id:null)("aria-expanded",ke.autocompleteDisabled?null:ke.panelOpen.toString())("aria-controls",ke.autocompleteDisabled||!ke.panelOpen||null==ke.autocomplete?null:ke.autocomplete.id)("aria-haspopup",ke.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",t.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[t.Jv_([ae]),t.GFd,t.OA$]})}return $e})(),nt=(()=>{class $e{static#e=this.\u0275fac=function(De){return new(De||$e)};static#t=this.\u0275mod=t.$C({type:$e});static#n=this.\u0275inj=t.G2t({providers:[We],imports:[b.z_,n.Sy,n.yE,f.MD,v.Gj,n.Sy,n.yE]})}return $e})()},6665:(At,ue,a)=>{"use strict";a.d(ue,{VK:()=>R,eN:()=>l,vF:()=>F});var t=a(2529),n=a(6939),f=a(3953),v=a(6600),b=a(8617),C=a(9327),g=a(7987),S=a(177),h=a(9969),y=a(7336),O=a(5286),m=a(4670),E=a(8728),u=a(9493);function M(P,k){}const x={bottomSheetState:(0,h.hZ)("state",[(0,h.wk)("void, hidden",(0,h.iF)({transform:"translateY(100%)"})),(0,h.wk)("visible",(0,h.iF)({transform:"translateY(0%)"})),(0,h.kY)("visible => void, visible => hidden",(0,h.Os)([(0,h.i0)(`${v.ed.COMPLEX} ${v.r5.ACCELERATION_CURVE}`),(0,h.P)("@*",(0,h.MA)(),{optional:!0})])),(0,h.kY)("void => visible",(0,h.Os)([(0,h.i0)(`${v.ed.EXITING} ${v.r5.DECELERATION_CURVE}`),(0,h.P)("@*",(0,h.MA)(),{optional:!0})]))])};let D=(()=>{class P extends t.sU{constructor(V,K,X,Q,de,se,ce,z,w){super(V,K,X,Q,de,se,ce,w),this._animationState="void",this._animationStateChanged=new f.bkB,this._breakpointSubscription=z.observe([C.Rp.Medium,C.Rp.Large,C.Rp.XLarge]).subscribe(()=>{const j=this._elementRef.nativeElement.classList;j.toggle("mat-bottom-sheet-container-medium",z.isMatched(C.Rp.Medium)),j.toggle("mat-bottom-sheet-container-large",z.isMatched(C.Rp.Large)),j.toggle("mat-bottom-sheet-container-xlarge",z.isMatched(C.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(V){"visible"===V.toState&&this._trapFocus(),this._animationStateChanged.emit(V)}_onAnimationStart(V){this._animationStateChanged.emit(V)}_captureInitialFocus(){}static#e=this.\u0275fac=function(K){return new(K||P)(f.rXU(f.aKT),f.rXU(b.GX),f.rXU(S.qQ,8),f.rXU(t.Pe),f.rXU(b.Z7),f.rXU(f.SKi),f.rXU(g.yY),f.rXU(C.QP),f.rXU(b.FN))};static#t=this.\u0275cmp=f.VBU({type:P,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(K,X){1&K&&f.Kam("@state.start",function(de){return X._onAnimationStart(de)})("@state.done",function(de){return X._onAnimationDone(de)}),2&K&&(f.zvX("@state",X._animationState),f.BMQ("role",X._config.role)("aria-modal",X._config.ariaModal)("aria-label",X._config.ariaLabel))},standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(K,X){1&K&&f.DNE(0,M,0,0,"ng-template",0)},dependencies:[n.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[x.bottomSheetState]}})}return P})();const A=new f.nKC("MatBottomSheetData");class L{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class l{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(k,V,K){this._ref=k,this._afterOpened=new O.B7,this.containerInstance=K,this.disableClose=V.disableClose,K._animationStateChanged.pipe((0,E.p)(X=>"done"===X.phaseName&&"visible"===X.toState),(0,u.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),K._animationStateChanged.pipe((0,E.p)(X=>"done"===X.phaseName&&"hidden"===X.toState),(0,u.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),k.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,m.h)(this.backdropClick(),this.keydownEvents().pipe((0,E.p)(X=>X.keyCode===y._f))).subscribe(X=>{!this.disableClose&&("keydown"!==X.type||!(0,y.rp)(X))&&(X.preventDefault(),this.dismiss())})}dismiss(k){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,E.p)(V=>"start"===V.phaseName),(0,u.s)(1)).subscribe(V=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},V.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=k,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const $=new f.nKC("mat-bottom-sheet-default-options");let R=(()=>{class P{get _openedBottomSheetRef(){const V=this._parentBottomSheet;return V?V._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(V){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=V:this._bottomSheetRefAtThisLevel=V}constructor(V,K,X,Q){this._overlay=V,this._parentBottomSheet=X,this._defaultOptions=Q,this._bottomSheetRefAtThisLevel=null,this._dialog=K.get(t.lG)}open(V,K){const X={...this._defaultOptions||new L,...K};let Q;return this._dialog.open(V,{...X,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:D,scrollStrategy:X.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Q}),providers:(de,se,ce)=>(Q=new l(de,X,ce),[{provide:l,useValue:Q},{provide:A,useValue:X.data}])}),Q.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Q&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Q.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):Q.containerInstance.enter(),this._openedBottomSheetRef=Q,Q}dismiss(V){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(V)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(K){return new(K||P)(f.KVO(g.hJ),f.KVO(f.zZn),f.KVO(P,12),f.KVO($,8))};static#t=this.\u0275prov=f.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),F=(()=>{class P{static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275mod=f.$C({type:P});static#n=this.\u0275inj=f.G2t({providers:[R],imports:[t.Ph,v.yE,n.jc,v.yE]})}return P})()},8834:(At,ue,a)=>{"use strict";a.d(ue,{$z:()=>R,Hl:()=>z,iY:()=>se});var t=a(6860),n=a(3953),f=a(8617),v=a(6600);const b=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],g=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],E=["mat-icon-button",""],u=["*"],x=new n.nKC("MAT_BUTTON_CONFIG"),A=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let L=(()=>{class w{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(W){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,W)}get disableRipple(){return this._disableRipple}set disableRipple(W){this._disableRipple=W,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(W){this._disabled=W,this._updateRippleDisabled()}constructor(W,ne,fe,ae){this._elementRef=W,this._platform=ne,this._ngZone=fe,this._animationMode=ae,this._focusMonitor=(0,n.WQX)(f.FN),this._rippleLoader=(0,n.WQX)(v.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Ae=(0,n.WQX)(x,{optional:!0}),Me=W.nativeElement,Ve=Me.classList;this.disabledInteractive=Ae?.disabledInteractive??!1,this.color=Ae?.color??null,this._rippleLoader?.configureRipple(Me,{className:"mat-mdc-button-ripple"});for(const{attribute:We,mdcClasses:lt}of A)Me.hasAttribute(We)&&Ve.add(...lt)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(W="program",ne){W?this._focusMonitor.focusVia(this._elementRef.nativeElement,W,ne):this._elementRef.nativeElement.focus(ne)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(ne){n.QTQ()};static#t=this.\u0275dir=n.FsC({type:w,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",n.L39],disabled:[2,"disabled","disabled",n.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",n.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",n.L39]},features:[n.GFd]})}return w})(),R=(()=>{class w extends L{constructor(W,ne,fe,ae){super(W,ne,fe,ae)}static#e=this.\u0275fac=function(ne){return new(ne||w)(n.rXU(n.aKT),n.rXU(t.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:w,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ne,fe){2&ne&&(n.BMQ("disabled",fe._getDisabledAttribute())("aria-disabled",fe._getAriaDisabled()),n.HbH(fe.color?"mat-"+fe.color:""),n.AVh("mat-mdc-button-disabled",fe.disabled)("mat-mdc-button-disabled-interactive",fe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===fe._animationMode)("mat-unthemed",!fe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:b,ngContentSelectors:g,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ne,fe){1&ne&&(n.NAR(C),n.nrm(0,"span",0),n.SdG(1),n.j41(2,"span",1),n.SdG(3,1),n.k0s(),n.SdG(4,2),n.nrm(5,"span",2)(6,"span",3)),2&ne&&n.AVh("mdc-button__ripple",!fe._isFab)("mdc-fab__ripple",fe._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return w})(),se=(()=>{class w extends L{constructor(W,ne,fe,ae){super(W,ne,fe,ae),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(ne){return new(ne||w)(n.rXU(n.aKT),n.rXU(t.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:w,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ne,fe){2&ne&&(n.BMQ("disabled",fe._getDisabledAttribute())("aria-disabled",fe._getAriaDisabled()),n.HbH(fe.color?"mat-"+fe.color:""),n.AVh("mat-mdc-button-disabled",fe.disabled)("mat-mdc-button-disabled-interactive",fe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===fe._animationMode)("mat-unthemed",!fe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:E,ngContentSelectors:u,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ne,fe){1&ne&&(n.NAR(),n.nrm(0,"span",0),n.SdG(1),n.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return w})(),z=(()=>{class w{static#e=this.\u0275fac=function(ne){return new(ne||w)};static#t=this.\u0275mod=n.$C({type:w});static#n=this.\u0275inj=n.G2t({imports:[v.yE,v.pZ,v.yE]})}return w})()},2765:(At,ue,a)=>{"use strict";a.d(ue,{So:()=>u,g7:()=>A});var t=a(3953),n=a(9417),f=a(6600);const v=["input"],b=["label"],C=["*"],g=new t.nKC("mat-checkbox-default-options",{providedIn:"root",factory:S});function S(){return{color:"accent",clickAction:"check-indeterminate"}}var h=function(L){return L[L.Init=0]="Init",L[L.Checked=1]="Checked",L[L.Unchecked=2]="Unchecked",L[L.Indeterminate=3]="Indeterminate",L}(h||{});const y={provide:n.kq,useExisting:(0,t.Rfq)(()=>u),multi:!0};class O{}let m=0;const E=S();let u=(()=>{class L{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent($){const R=new O;return R.source=this,R.checked=$,R}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor($,R,F,P,k,V){this._elementRef=$,this._changeDetectorRef=R,this._ngZone=F,this._animationMode=k,this._options=V,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new t.bkB,this.indeterminateChange=new t.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=h.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||E,this.color=this._options.color||E.color,this.tabIndex=parseInt(P)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++m}ngOnChanges($){$.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked($){$!=this.checked&&(this._checked=$,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled($){$!==this.disabled&&(this._disabled=$,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate($){const R=$!=this._indeterminate;this._indeterminate=$,R&&(this._transitionCheckState(this._indeterminate?h.Indeterminate:this.checked?h.Checked:h.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue($){this.checked=!!$}registerOnChange($){this._controlValueAccessorChangeFn=$}registerOnTouched($){this._onTouched=$}setDisabledState($){this.disabled=$}validate($){return this.required&&!0!==$.value?{required:!0}:null}registerOnValidatorChange($){this._validatorChangeFn=$}_transitionCheckState($){let R=this._currentCheckState,F=this._getAnimationTargetElement();if(R!==$&&F&&(this._currentAnimationClass&&F.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(R,$),this._currentCheckState=$,this._currentAnimationClass.length>0)){F.classList.add(this._currentAnimationClass);const P=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{F.classList.remove(P)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const $=this._options?.clickAction;this.disabled||"noop"===$?!this.disabled&&"noop"===$&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==$&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?h.Checked:h.Unchecked),this._emitChangeEvent())}_onInteractionEvent($){$.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition($,R){if("NoopAnimations"===this._animationMode)return"";switch($){case h.Init:if(R===h.Checked)return this._animationClasses.uncheckedToChecked;if(R==h.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case h.Unchecked:return R===h.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case h.Checked:return R===h.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case h.Indeterminate:return R===h.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate($){const R=this._inputElement;R&&(R.nativeElement.indeterminate=$)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel($){$.target&&this._labelElement.nativeElement.contains($.target)&&$.stopPropagation()}static#e=this.\u0275fac=function(R){return new(R||L)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.kS0("tabindex"),t.rXU(t.bc$,8),t.rXU(g,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["mat-checkbox"]],viewQuery:function(R,F){if(1&R&&(t.GBs(v,5),t.GBs(b,5),t.GBs(f.r6,5)),2&R){let P;t.mGM(P=t.lsd())&&(F._inputElement=P.first),t.mGM(P=t.lsd())&&(F._labelElement=P.first),t.mGM(P=t.lsd())&&(F.ripple=P.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(R,F){2&R&&(t.Mr5("id",F.id),t.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),t.HbH(F.color?"mat-"+F.color:"mat-accent"),t.AVh("_mat-animation-noopable","NoopAnimations"===F._animationMode)("mdc-checkbox--disabled",F.disabled)("mat-mdc-checkbox-disabled",F.disabled)("mat-mdc-checkbox-checked",F.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",t.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",t.L39],tabIndex:[2,"tabIndex","tabIndex",$=>null==$?void 0:(0,t.Udg)($)],color:"color",checked:[2,"checked","checked",t.L39],disabled:[2,"disabled","disabled",t.L39],indeterminate:[2,"indeterminate","indeterminate",t.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[t.Jv_([y,{provide:n.cz,useExisting:L,multi:!0}]),t.GFd,t.OA$,t.aNF],ngContentSelectors:C,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(R,F){if(1&R){const P=t.RV6();t.NAR(),t.j41(0,"div",3),t.bIt("click",function(V){return t.eBV(P),t.Njj(F._preventBubblingFromLabel(V))}),t.j41(1,"div",4,0)(3,"div",5),t.bIt("click",function(){return t.eBV(P),t.Njj(F._onTouchTargetClick())}),t.k0s(),t.j41(4,"input",6,1),t.bIt("blur",function(){return t.eBV(P),t.Njj(F._onBlur())})("click",function(){return t.eBV(P),t.Njj(F._onInputClick())})("change",function(V){return t.eBV(P),t.Njj(F._onInteractionEvent(V))}),t.k0s(),t.nrm(6,"div",7),t.j41(7,"div",8),t.qSk(),t.j41(8,"svg",9),t.nrm(9,"path",10),t.k0s(),t.joV(),t.nrm(10,"div",11),t.k0s(),t.nrm(11,"div",12),t.k0s(),t.j41(12,"label",13,2),t.SdG(14),t.k0s()()}if(2&R){const P=t.sdS(2);t.Y8G("labelPosition",F.labelPosition),t.R7$(4),t.AVh("mdc-checkbox--selected",F.checked),t.Y8G("checked",F.checked)("indeterminate",F.indeterminate)("disabled",F.disabled)("id",F.inputId)("required",F.required)("tabIndex",F.disabled?-1:F.tabIndex),t.BMQ("aria-label",F.ariaLabel||null)("aria-labelledby",F.ariaLabelledby)("aria-describedby",F.ariaDescribedby)("aria-checked",F.indeterminate?"mixed":null)("name",F.name)("value",F.value),t.R7$(7),t.Y8G("matRippleTrigger",P)("matRippleDisabled",F.disableRipple||F.disabled)("matRippleCentered",!0),t.R7$(),t.Y8G("for",F.inputId)}},dependencies:[f.r6,f.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return L})(),A=(()=>{class L{static#e=this.\u0275fac=function(R){return new(R||L)};static#t=this.\u0275mod=t.$C({type:L});static#n=this.\u0275inj=t.G2t({imports:[u,f.yE,f.yE]})}return L})()},6471:(At,ue,a)=>{"use strict";a.d(ue,{D7:()=>Lt,HW:()=>Ne,YN:()=>Ot,Zv:()=>Ae,jH:()=>$e});var t=a(8617),n=a(7336),f=a(177),v=a(3953),b=a(6600),C=a(5286),g=a(4670),S=a(7605),h=a(3176),y=a(9090),O=a(8203),m=a(9417),E=a(3719);const u=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],M=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function x(Se,ve){1&Se&&(v.j41(0,"span",3),v.SdG(1,1),v.k0s())}function D(Se,ve){1&Se&&(v.j41(0,"span",6),v.SdG(1,2),v.k0s())}const $=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],R=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function F(Se,ve){1&Se&&v.nrm(0,"span",0)}function P(Se,ve){1&Se&&(v.j41(0,"span",2),v.SdG(1),v.k0s())}function k(Se,ve){1&Se&&v.SdG(0,1)}function V(Se,ve){1&Se&&v.nrm(0,"span",7)}function K(Se,ve){if(1&Se&&v.DNE(0,k,1,0)(1,V,1,0,"span",7),2&Se){const N=v.XpG();v.vxM(N.contentEditInput?0:1)}}function X(Se,ve){1&Se&&v.SdG(0,2)}function Q(Se,ve){1&Se&&(v.j41(0,"span",5),v.SdG(1,3),v.k0s())}const de=["*"],ce=new v.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[n.Fm]})}),z=new v.nKC("MatChipAvatar"),w=new v.nKC("MatChipTrailingIcon"),j=new v.nKC("MatChipRemove"),W=new v.nKC("MatChip");let ne=(()=>{class Se{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(N){this._disabled=N}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(N,ie){this._elementRef=N,this._parentChip=ie,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===N.nativeElement.nodeName&&N.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(N){!this.disabled&&this.isInteractive&&this._isPrimary&&(N.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(N){(N.keyCode===n.Fm||N.keyCode===n.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(N.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.aKT),v.rXU(W))};static#t=this.\u0275dir=v.FsC({type:Se,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(ie,Y){1&ie&&v.bIt("click",function(Ze){return Y._handleClick(Ze)})("keydown",function(Ze){return Y._handleKeydown(Ze)}),2&ie&&(v.BMQ("tabindex",Y._getTabindex())("disabled",Y._getDisabledAttribute())("aria-disabled",Y.disabled),v.AVh("mdc-evolution-chip__action--primary",Y._isPrimary)("mdc-evolution-chip__action--presentational",!Y.isInteractive)("mdc-evolution-chip__action--trailing",!Y._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",v.L39],tabIndex:[2,"tabIndex","tabIndex",N=>null==N?-1:(0,v.Udg)(N)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[v.GFd]})}return Se})(),Ae=(()=>{class Se extends ne{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(N){this.disabled||(N.stopPropagation(),N.preventDefault(),this._parentChip.remove())}_handleKeydown(N){(N.keyCode===n.Fm||N.keyCode===n.t6)&&!this.disabled&&(N.stopPropagation(),N.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let N;return function(Y){return(N||(N=v.xGo(Se)))(Y||Se)}})();static#t=this.\u0275dir=v.FsC({type:Se,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(ie,Y){2&ie&&v.BMQ("aria-hidden",null)},standalone:!0,features:[v.Jv_([{provide:j,useExisting:Se}]),v.Vt3]})}return Se})(),Me=0,Ve=(()=>{class Se{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(N){this._value=N}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(N){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,N)}constructor(N,ie,Y,ye,Ze,Ft,sn,_n){this._changeDetectorRef=N,this._elementRef=ie,this._ngZone=Y,this._focusMonitor=ye,this._globalRippleOptions=sn,this._onFocus=new C.B7,this._onBlur=new C.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+Me++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new v.bkB,this.destroyed=new v.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,v.WQX)(b.Ej),this._injector=(0,v.WQX)(v.zZn),this._document=Ze,this._animationsDisabled="NoopAnimations"===Ft,null!=_n&&(this.tabIndex=parseInt(_n)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const N=this._elementRef.nativeElement;this._isBasicChip=N.hasAttribute(this.basicChipAttrName)||N.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,g.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(N){(N.keyCode===n.G_&&!N.repeat||N.keyCode===n.SJ)&&(N.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(N){return this._getActions().find(ie=>{const Y=ie._elementRef.nativeElement;return Y===N||Y.contains(N)})}_getActions(){const N=[];return this.primaryAction&&N.push(this.primaryAction),this.removeIcon&&N.push(this.removeIcon),this.trailingIcon&&N.push(this.trailingIcon),N}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(N=>{const ie=null!==N;ie!==this._hasFocusInternal&&(this._hasFocusInternal=ie,ie?this._onFocus.next({chip:this}):(0,v.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(t.FN),v.rXU(f.qQ),v.rXU(v.bc$,8),v.rXU(b.$E,8),v.kS0("tabindex"))};static#t=this.\u0275cmp=v.VBU({type:Se,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(ie,Y,ye){if(1&ie&&(v.wni(ye,z,5),v.wni(ye,w,5),v.wni(ye,j,5),v.wni(ye,z,5),v.wni(ye,w,5),v.wni(ye,j,5)),2&ie){let Ze;v.mGM(Ze=v.lsd())&&(Y.leadingIcon=Ze.first),v.mGM(Ze=v.lsd())&&(Y.trailingIcon=Ze.first),v.mGM(Ze=v.lsd())&&(Y.removeIcon=Ze.first),v.mGM(Ze=v.lsd())&&(Y._allLeadingIcons=Ze),v.mGM(Ze=v.lsd())&&(Y._allTrailingIcons=Ze),v.mGM(Ze=v.lsd())&&(Y._allRemoveIcons=Ze)}},viewQuery:function(ie,Y){if(1&ie&&v.GBs(ne,5),2&ie){let ye;v.mGM(ye=v.lsd())&&(Y.primaryAction=ye.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(ie,Y){1&ie&&v.bIt("keydown",function(Ze){return Y._handleKeydown(Ze)}),2&ie&&(v.Mr5("id",Y.id),v.BMQ("role",Y.role)("tabindex",Y._getTabIndex())("aria-label",Y.ariaLabel),v.HbH("mat-"+(Y.color||"primary")),v.AVh("mdc-evolution-chip",!Y._isBasicChip)("mdc-evolution-chip--disabled",Y.disabled)("mdc-evolution-chip--with-trailing-action",Y._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Y.leadingIcon)("mdc-evolution-chip--with-primary-icon",Y.leadingIcon)("mdc-evolution-chip--with-avatar",Y.leadingIcon)("mat-mdc-chip-with-avatar",Y.leadingIcon)("mat-mdc-chip-highlighted",Y.highlighted)("mat-mdc-chip-disabled",Y.disabled)("mat-mdc-basic-chip",Y._isBasicChip)("mat-mdc-standard-chip",!Y._isBasicChip)("mat-mdc-chip-with-trailing-icon",Y._hasTrailingIcon())("_mat-animation-noopable",Y._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",v.L39],highlighted:[2,"highlighted","highlighted",v.L39],disableRipple:[2,"disableRipple","disableRipple",v.L39],disabled:[2,"disabled","disabled",v.L39],tabIndex:[2,"tabIndex","tabIndex",N=>null==N?void 0:(0,v.Udg)(N)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[v.Jv_([{provide:W,useExisting:Se}]),v.GFd,v.aNF],ngContentSelectors:M,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(ie,Y){1&ie&&(v.NAR(u),v.nrm(0,"span",0),v.j41(1,"span",1)(2,"span",2),v.DNE(3,x,2,0,"span",3),v.j41(4,"span",4),v.SdG(5),v.nrm(6,"span",5),v.k0s()()(),v.DNE(7,D,2,0,"span",6)),2&ie&&(v.R7$(2),v.Y8G("isInteractive",!1),v.R7$(),v.vxM(Y.leadingIcon?3:-1),v.R7$(4),v.vxM(Y._hasTrailingIcon()?7:-1))},dependencies:[ne],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Se})(),nt=(()=>{class Se{constructor(N,ie){this._elementRef=N,this._document=ie}initialize(N){this.getNativeElement().focus(),this.setValue(N)}getNativeElement(){return this._elementRef.nativeElement}setValue(N){this.getNativeElement().textContent=N,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const N=this._document.createRange();N.selectNodeContents(this.getNativeElement()),N.collapse(!1);const ie=window.getSelection();ie.removeAllRanges(),ie.addRange(N)}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.aKT),v.rXU(f.qQ))};static#t=this.\u0275dir=v.FsC({type:Se,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return Se})(),$e=(()=>{class Se extends Ve{constructor(N,ie,Y,ye,Ze,Ft,sn,_n){super(N,ie,Y,ye,Ze,Ft,sn,_n),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new v.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,S.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(N){N.keyCode!==n.Fm||this.disabled?this._isEditing?N.stopPropagation():super._handleKeydown(N):this._isEditing?(N.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(N)}_handleDoubleclick(N){!this.disabled&&this.editable&&this._startEditing(N)}_startEditing(N){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(N.target)===this.removeIcon)return;const ie=this.value;this._isEditing=this._editStartPending=!0,(0,v.mal)(()=>{this._getEditInput().initialize(ie),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(t.FN),v.rXU(f.qQ),v.rXU(v.bc$,8),v.rXU(b.$E,8),v.kS0("tabindex"))};static#t=this.\u0275cmp=v.VBU({type:Se,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(ie,Y,ye){if(1&ie&&v.wni(ye,nt,5),2&ie){let Ze;v.mGM(Ze=v.lsd())&&(Y.contentEditInput=Ze.first)}},viewQuery:function(ie,Y){if(1&ie&&v.GBs(nt,5),2&ie){let ye;v.mGM(ye=v.lsd())&&(Y.defaultEditInput=ye.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(ie,Y){1&ie&&v.bIt("focus",function(Ze){return Y._handleFocus(Ze)})("dblclick",function(Ze){return Y._handleDoubleclick(Ze)}),2&ie&&(v.Mr5("id",Y.id),v.BMQ("tabindex",Y.disabled?null:-1)("aria-label",null)("aria-description",null)("role",Y.role),v.AVh("mat-mdc-chip-with-avatar",Y.leadingIcon)("mat-mdc-chip-disabled",Y.disabled)("mat-mdc-chip-editing",Y._isEditing)("mat-mdc-chip-editable",Y.editable)("mdc-evolution-chip--disabled",Y.disabled)("mdc-evolution-chip--with-trailing-action",Y._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Y.leadingIcon)("mdc-evolution-chip--with-primary-icon",Y.leadingIcon)("mdc-evolution-chip--with-avatar",Y.leadingIcon)("mat-mdc-chip-highlighted",Y.highlighted)("mat-mdc-chip-with-trailing-icon",Y._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[v.Jv_([{provide:Ve,useExisting:Se},{provide:W,useExisting:Se}]),v.Vt3,v.aNF],ngContentSelectors:R,decls:10,vars:10,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"tabIndex","disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(ie,Y){1&ie&&(v.NAR($),v.DNE(0,F,1,0,"span",0),v.j41(1,"span",1),v.DNE(2,P,2,0,"span",2),v.j41(3,"span",3),v.DNE(4,K,2,1)(5,X,1,0),v.nrm(6,"span",4),v.k0s()(),v.DNE(7,Q,2,0,"span",5),v.j41(8,"span",6),v.EFF(9),v.k0s()),2&ie&&(v.vxM(Y._isEditing?-1:0),v.R7$(),v.Y8G("tabIndex",Y.tabIndex)("disabled",Y.disabled),v.BMQ("aria-label",Y.ariaLabel)("aria-describedby",Y._ariaDescriptionId),v.R7$(),v.vxM(Y.leadingIcon?2:-1),v.R7$(2),v.vxM(Y._isEditing?4:5),v.R7$(3),v.vxM(Y._hasTrailingIcon()?7:-1),v.R7$(),v.Y8G("id",Y._ariaDescriptionId),v.R7$(),v.JRh(Y.ariaDescription))},dependencies:[ne,nt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Se})(),Ie=(()=>{class Se{get chipFocusChanges(){return this._getChipStream(N=>N._onFocus)}get chipDestroyedChanges(){return this._getChipStream(N=>N.destroyed)}get chipRemovedChanges(){return this._getChipStream(N=>N.removed)}get disabled(){return this._disabled}set disabled(N){this._disabled=N,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(N){this._explicitRole=N}get focused(){return this._hasFocusedChip()}constructor(N,ie,Y){this._elementRef=N,this._changeDetectorRef=ie,this._dir=Y,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new C.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new v.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(N=>N._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(N=>{N.disabled=this._disabled,N._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(N){this._originatesFromChip(N)&&this._keyManager.onKeydown(N)}_isValidIndex(N){return N>=0&&N<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const N=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=N,this._changeDetectorRef.markForCheck()})}}_getChipStream(N){return this._chips.changes.pipe((0,h.Z)(null),(0,y.n)(()=>(0,g.h)(...this._chips.map(N))))}_originatesFromChip(N){let ie=N.target;for(;ie&&ie!==this._elementRef.nativeElement;){if(ie.classList.contains("mat-mdc-chip"))return!0;ie=ie.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,h.Z)(this._chips)).subscribe(N=>{const ie=[];N.forEach(Y=>Y._getActions().forEach(ye=>ie.push(ye))),this._chipActions.reset(ie),this._chipActions.notifyOnChanges()}),this._keyManager=new t.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(N=>this._skipPredicate(N)),this.chipFocusChanges.pipe((0,S.Q)(this._destroyed)).subscribe(({chip:N})=>{const ie=N._getSourceAction(document.activeElement);ie&&this._keyManager.updateActiveItem(ie)}),this._dir?.change.pipe((0,S.Q)(this._destroyed)).subscribe(N=>this._keyManager.withHorizontalOrientation(N))}_skipPredicate(N){return!N.isInteractive||N.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,h.Z)(null),(0,S.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,S.Q)(this._destroyed)).subscribe(N=>{const Y=this._chips.toArray().indexOf(N.chip);this._isValidIndex(Y)&&N.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=Y)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const N=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),ie=this._chips.toArray()[N];ie.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():ie.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.aKT),v.rXU(v.gRc),v.rXU(O.dS,8))};static#t=this.\u0275cmp=v.VBU({type:Se,selectors:[["mat-chip-set"]],contentQueries:function(ie,Y,ye){if(1&ie&&v.wni(ye,Ve,5),2&ie){let Ze;v.mGM(Ze=v.lsd())&&(Y._chips=Ze)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(ie,Y){1&ie&&v.bIt("keydown",function(Ze){return Y._handleKeydown(Ze)}),2&ie&&v.BMQ("role",Y.role)},inputs:{disabled:[2,"disabled","disabled",v.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",N=>null==N?0:(0,v.Udg)(N)]},standalone:!0,features:[v.GFd,v.aNF],ngContentSelectors:de,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(ie,Y){1&ie&&(v.NAR(),v.j41(0,"div",0),v.SdG(1),v.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return Se})();class Qe{constructor(ve,N){this.source=ve,this.value=N}}let Ne=(()=>{class Se extends Ie{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(N){this._disabled=N,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(N){this._placeholder=N,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(m.k0.required)??!1}set required(N){this._required=N,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(N){this._value=N}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(N){this._errorStateTracker.matcher=N}get chipBlurChanges(){return this._getChipStream(N=>N._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(N){this._errorStateTracker.errorState=N}constructor(N,ie,Y,ye,Ze,Ft,sn){super(N,ie,Y),this.ngControl=sn,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new v.bkB,this.valueChange=new v.bkB,this._chips=void 0,this.stateChanges=new C.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new b.X0(Ft,sn,Ze,ye,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,S.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,g.h)(this.chipFocusChanges,this._chips.changes).pipe((0,S.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(N){this._chipInput=N,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(N){!this.disabled&&!this._originatesFromChip(N)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(N){this._ariaDescribedbyIds=N,this._chipInput?.setDescribedByIds(N)}writeValue(N){this._value=N}registerOnChange(N){this._onChange=N}registerOnTouched(N){this._onTouched=N}setDisabledState(N){this.disabled=N,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(N){const ie=N.keyCode,Y=this._keyManager.activeItem;if(ie===n.wn)this._chipInput.focused&&(0,n.rp)(N,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(N.preventDefault(),Y?this._keyManager.setActiveItem(Y):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(ie!==n.i7&&ie!==n.n6||!Y)super._handleKeydown(N);else{const ye=this._chipActions.filter(sn=>sn._isPrimary===Y._isPrimary&&!this._skipPredicate(sn)),Ze=ye.indexOf(Y),Ft=N.keyCode===n.i7?-1:1;N.preventDefault(),Ze>-1&&this._isValidIndex(Ze+Ft)&&this._keyManager.setActiveItem(ye[Ze+Ft])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const N=this._chips.length?this._chips.toArray().map(ie=>ie.value):[];this._value=N,this.change.emit(new Qe(this,N)),this.valueChange.emit(N),this._onChange(N),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.aKT),v.rXU(v.gRc),v.rXU(O.dS,8),v.rXU(m.cV,8),v.rXU(m.j4,8),v.rXU(b.es),v.rXU(m.vO,10))};static#t=this.\u0275cmp=v.VBU({type:Se,selectors:[["mat-chip-grid"]],contentQueries:function(ie,Y,ye){if(1&ie&&v.wni(ye,$e,5),2&ie){let Ze;v.mGM(Ze=v.lsd())&&(Y._chips=Ze)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(ie,Y){1&ie&&v.bIt("focus",function(){return Y.focus()})("blur",function(){return Y._blur()}),2&ie&&(v.BMQ("role",Y.role)("tabindex",Y.disabled||Y._chips&&0===Y._chips.length?-1:Y.tabIndex)("aria-disabled",Y.disabled.toString())("aria-invalid",Y.errorState),v.AVh("mat-mdc-chip-list-disabled",Y.disabled)("mat-mdc-chip-list-invalid",Y.errorState)("mat-mdc-chip-list-required",Y.required))},inputs:{disabled:[2,"disabled","disabled",v.L39],placeholder:"placeholder",required:[2,"required","required",v.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[v.Jv_([{provide:E.qT,useExisting:Se}]),v.GFd,v.Vt3,v.aNF],ngContentSelectors:de,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(ie,Y){1&ie&&(v.NAR(),v.j41(0,"div",0),v.SdG(1),v.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return Se})(),at=0,Lt=(()=>{class Se{get chipGrid(){return this._chipGrid}set chipGrid(N){N&&(this._chipGrid=N,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(N){this._disabled=N}get empty(){return!this.inputElement.value}constructor(N,ie,Y){this._elementRef=N,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new v.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+at++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=ie.separatorKeyCodes,Y&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(N){this.empty&&N.keyCode===n.G_?(N.repeat||this._chipGrid._focusLastChip(),N.preventDefault()):this._emitChipEnd(N)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(N){(!N||this._isSeparatorKey(N))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),N?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(N){const ie=this._elementRef.nativeElement;N.length?ie.setAttribute("aria-describedby",N.join(" ")):ie.removeAttribute("aria-describedby")}_isSeparatorKey(N){return!(0,n.rp)(N)&&new Set(this.separatorKeyCodes).has(N.keyCode)}static#e=this.\u0275fac=function(ie){return new(ie||Se)(v.rXU(v.aKT),v.rXU(ce),v.rXU(E.xb,8))};static#t=this.\u0275dir=v.FsC({type:Se,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(ie,Y){1&ie&&v.bIt("keydown",function(Ze){return Y._keydown(Ze)})("blur",function(){return Y._blur()})("focus",function(){return Y._focus()})("input",function(){return Y._onInput()}),2&ie&&(v.Mr5("id",Y.id),v.BMQ("disabled",Y.disabled||null)("placeholder",Y.placeholder||null)("aria-invalid",Y._chipGrid&&Y._chipGrid.ngControl?Y._chipGrid.ngControl.invalid:null)("aria-required",Y._chipGrid&&Y._chipGrid.required||null)("required",Y._chipGrid&&Y._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",v.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",v.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[v.GFd,v.OA$]})}return Se})(),Ot=(()=>{class Se{static#e=this.\u0275fac=function(ie){return new(ie||Se)};static#t=this.\u0275mod=v.$C({type:Se});static#n=this.\u0275inj=v.G2t({providers:[b.es,{provide:ce,useValue:{separatorKeyCodes:[n.Fm]}}],imports:[b.yE,b.pZ,b.yE]})}return Se})()},6600:(At,ue,a)=>{"use strict";a.d(ue,{r5:()=>$,ed:()=>R,MJ:()=>fe,es:()=>me,de:()=>ae,QC:()=>Ct,is:()=>ht,$E:()=>Ft,yE:()=>k,D7:()=>Mt,wT:()=>Sn,Sy:()=>$n,MI:()=>nn,wg:()=>Rt,r6:()=>sn,Ej:()=>Ut,pZ:()=>_n,Ex:()=>at,X0:()=>z,tO:()=>Ke,jb:()=>In,TL:()=>Fn});var t=a(3953),n=a(8617),f=a(8203),b=a(177),C=a(6860),g=a(4085),S=a(5286),h=a(7336);const y=["*",[["mat-option"],["ng-container"]]],O=["*","mat-option, ng-container"],m=["text"],E=[[["mat-icon"]],"*"],u=["mat-icon","*"];function M(Fe,Ue){if(1&Fe&&t.nrm(0,"mat-pseudo-checkbox",1),2&Fe){const we=t.XpG();t.Y8G("disabled",we.disabled)("state",we.selected?"checked":"unchecked")}}function x(Fe,Ue){if(1&Fe&&t.nrm(0,"mat-pseudo-checkbox",3),2&Fe){const we=t.XpG();t.Y8G("disabled",we.disabled)}}function D(Fe,Ue){if(1&Fe&&(t.j41(0,"span",4),t.EFF(1),t.k0s()),2&Fe){const we=t.XpG();t.R7$(),t.SpI("(",we.group.label,")")}}const A=["mat-internal-form-field",""],L=["*"];let $=(()=>{class Fe{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Fe})(),R=(()=>{class Fe{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Fe})();const P=new t.nKC("mat-sanity-checks",{providedIn:"root",factory:function F(){return!0}});let k=(()=>{class Fe{constructor(we,rt,vt){this._sanityChecks=rt,this._document=vt,this._hasDoneGlobalChecks=!1,we._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(we){return!(0,C.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[we])}static#e=this.\u0275fac=function(rt){return new(rt||Fe)(t.KVO(n.Q_),t.KVO(P,8),t.KVO(b.qQ))};static#t=this.\u0275mod=t.$C({type:Fe});static#n=this.\u0275inj=t.G2t({imports:[f.jI,f.jI]})}return Fe})();class z{constructor(Ue,we,rt,vt,on){this._defaultMatcher=Ue,this.ngControl=we,this._parentFormGroup=rt,this._parentForm=vt,this._stateChanges=on,this.errorState=!1}updateErrorState(){const Ue=this.errorState,we=this._parentFormGroup||this._parentForm,rt=this.matcher||this._defaultMatcher,vt=this.ngControl?this.ngControl.control:null,on=rt?.isErrorState(vt,we)??!1;on!==Ue&&(this.errorState=on,this._stateChanges.next())}}class fe{constructor(){this._localeChanges=new S.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(Ue){return this.isDateInstance(Ue)&&this.isValid(Ue)?Ue:null}deserialize(Ue){return null==Ue||this.isDateInstance(Ue)&&this.isValid(Ue)?Ue:this.invalid()}setLocale(Ue){this.locale=Ue,this._localeChanges.next()}compareDate(Ue,we){return this.getYear(Ue)-this.getYear(we)||this.getMonth(Ue)-this.getMonth(we)||this.getDate(Ue)-this.getDate(we)}sameDate(Ue,we){if(Ue&&we){let rt=this.isValid(Ue),vt=this.isValid(we);return rt&&vt?!this.compareDate(Ue,we):rt==vt}return Ue==we}clampDate(Ue,we,rt){return we&&this.compareDate(Ue,we)<0?we:rt&&this.compareDate(Ue,rt)>0?rt:Ue}}const ae=new t.nKC("mat-date-formats");let me=(()=>{class Fe{isErrorState(we,rt){return!!(we&&we.invalid&&(we.touched||rt&&rt.submitted))}static#e=this.\u0275fac=function(rt){return new(rt||Fe)};static#t=this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();var at=function(Fe){return Fe[Fe.FADING_IN=0]="FADING_IN",Fe[Fe.VISIBLE=1]="VISIBLE",Fe[Fe.FADING_OUT=2]="FADING_OUT",Fe[Fe.HIDDEN=3]="HIDDEN",Fe}(at||{});class Lt{constructor(Ue,we,rt,vt=!1){this._renderer=Ue,this.element=we,this.config=rt,this._animationForciblyDisabledThroughCss=vt,this.state=at.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Kt=(0,C.BQ)({passive:!0,capture:!0});class Ot{constructor(){this._events=new Map,this._delegateEventHandler=Ue=>{const we=(0,C.Fb)(Ue);we&&this._events.get(Ue.type)?.forEach((rt,vt)=>{(vt===we||vt.contains(we))&&rt.forEach(on=>on.handleEvent(Ue))})}}addHandler(Ue,we,rt,vt){const on=this._events.get(we);if(on){const rn=on.get(rt);rn?rn.add(vt):on.set(rt,new Set([vt]))}else this._events.set(we,new Map([[rt,new Set([vt])]])),Ue.runOutsideAngular(()=>{document.addEventListener(we,this._delegateEventHandler,Kt)})}removeHandler(Ue,we,rt){const vt=this._events.get(Ue);if(!vt)return;const on=vt.get(we);on&&(on.delete(rt),0===on.size&&vt.delete(we),0===vt.size&&(this._events.delete(Ue),document.removeEventListener(Ue,this._delegateEventHandler,Kt)))}}const Se={enterDuration:225,exitDuration:150},N=(0,C.BQ)({passive:!0,capture:!0}),ie=["mousedown","touchstart"],Y=["mouseup","mouseleave","touchend","touchcancel"];class ye{static#e=this._eventManager=new Ot;constructor(Ue,we,rt,vt){this._target=Ue,this._ngZone=we,this._platform=vt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,vt.isBrowser&&(this._containerElement=(0,g.i8)(rt))}fadeInRipple(Ue,we,rt={}){const vt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),on={...Se,...rt.animation};rt.centered&&(Ue=vt.left+vt.width/2,we=vt.top+vt.height/2);const rn=rt.radius||function Ze(Fe,Ue,we){const rt=Math.max(Math.abs(Fe-we.left),Math.abs(Fe-we.right)),vt=Math.max(Math.abs(Ue-we.top),Math.abs(Ue-we.bottom));return Math.sqrt(rt*rt+vt*vt)}(Ue,we,vt),Nt=Ue-vt.left,fn=we-vt.top,wt=on.enterDuration,Yt=document.createElement("div");Yt.classList.add("mat-ripple-element"),Yt.style.left=Nt-rn+"px",Yt.style.top=fn-rn+"px",Yt.style.height=2*rn+"px",Yt.style.width=2*rn+"px",null!=rt.color&&(Yt.style.backgroundColor=rt.color),Yt.style.transitionDuration=`${wt}ms`,this._containerElement.appendChild(Yt);const tn=window.getComputedStyle(Yt),xn=tn.transitionDuration,ii="none"===tn.transitionProperty||"0s"===xn||"0s, 0s"===xn||0===vt.width&&0===vt.height,vi=new Lt(this,Yt,rt,ii);Yt.style.transform="scale3d(1, 1, 1)",vi.state=at.FADING_IN,rt.persistent||(this._mostRecentTransientRipple=vi);let bi=null;return!ii&&(wt||on.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const hi=()=>{bi&&(bi.fallbackTimer=null),clearTimeout(Mi),this._finishRippleTransition(vi)},Ai=()=>this._destroyRipple(vi),Mi=setTimeout(Ai,wt+100);Yt.addEventListener("transitionend",hi),Yt.addEventListener("transitioncancel",Ai),bi={onTransitionEnd:hi,onTransitionCancel:Ai,fallbackTimer:Mi}}),this._activeRipples.set(vi,bi),(ii||!wt)&&this._finishRippleTransition(vi),vi}fadeOutRipple(Ue){if(Ue.state===at.FADING_OUT||Ue.state===at.HIDDEN)return;const we=Ue.element,rt={...Se,...Ue.config.animation};we.style.transitionDuration=`${rt.exitDuration}ms`,we.style.opacity="0",Ue.state=at.FADING_OUT,(Ue._animationForciblyDisabledThroughCss||!rt.exitDuration)&&this._finishRippleTransition(Ue)}fadeOutAll(){this._getActiveRipples().forEach(Ue=>Ue.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ue=>{Ue.config.persistent||Ue.fadeOut()})}setupTriggerEvents(Ue){const we=(0,g.i8)(Ue);!this._platform.isBrowser||!we||we===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=we,ie.forEach(rt=>{ye._eventManager.addHandler(this._ngZone,rt,we,this)}))}handleEvent(Ue){"mousedown"===Ue.type?this._onMousedown(Ue):"touchstart"===Ue.type?this._onTouchStart(Ue):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Y.forEach(we=>{this._triggerElement.addEventListener(we,this,N)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ue){Ue.state===at.FADING_IN?this._startFadeOutTransition(Ue):Ue.state===at.FADING_OUT&&this._destroyRipple(Ue)}_startFadeOutTransition(Ue){const we=Ue===this._mostRecentTransientRipple,{persistent:rt}=Ue.config;Ue.state=at.VISIBLE,!rt&&(!we||!this._isPointerDown)&&Ue.fadeOut()}_destroyRipple(Ue){const we=this._activeRipples.get(Ue)??null;this._activeRipples.delete(Ue),this._activeRipples.size||(this._containerRect=null),Ue===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ue.state=at.HIDDEN,null!==we&&(Ue.element.removeEventListener("transitionend",we.onTransitionEnd),Ue.element.removeEventListener("transitioncancel",we.onTransitionCancel),null!==we.fallbackTimer&&clearTimeout(we.fallbackTimer)),Ue.element.remove()}_onMousedown(Ue){const we=(0,n._G)(Ue),rt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!we&&!rt&&(this._isPointerDown=!0,this.fadeInRipple(Ue.clientX,Ue.clientY,this._target.rippleConfig))}_onTouchStart(Ue){if(!this._target.rippleDisabled&&!(0,n.w6)(Ue)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const we=Ue.changedTouches;if(we)for(let rt=0;rt<we.length;rt++)this.fadeInRipple(we[rt].clientX,we[rt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ue=>{!Ue.config.persistent&&(Ue.state===at.VISIBLE||Ue.config.terminateOnPointerUp&&Ue.state===at.FADING_IN)&&Ue.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ue=this._triggerElement;Ue&&(ie.forEach(we=>ye._eventManager.removeHandler(we,Ue,this)),this._pointerUpEventsRegistered&&(Y.forEach(we=>Ue.removeEventListener(we,this,N)),this._pointerUpEventsRegistered=!1))}}const Ft=new t.nKC("mat-ripple-global-options");let sn=(()=>{class Fe{get disabled(){return this._disabled}set disabled(we){we&&this.fadeOutAllNonPersistent(),this._disabled=we,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(we){this._trigger=we,this._setupTriggerEventsIfEnabled()}constructor(we,rt,vt,on,rn){this._elementRef=we,this._animationMode=rn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=on||{},this._rippleRenderer=new ye(this,rt,we,vt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(we,rt=0,vt){return"number"==typeof we?this._rippleRenderer.fadeInRipple(we,rt,{...this.rippleConfig,...vt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...we})}static#e=this.\u0275fac=function(rt){return new(rt||Fe)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(C.OD),t.rXU(Ft,8),t.rXU(t.bc$,8))};static#t=this.\u0275dir=t.FsC({type:Fe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(rt,vt){2&rt&&t.AVh("mat-ripple-unbounded",vt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Fe})(),_n=(()=>{class Fe{static#e=this.\u0275fac=function(rt){return new(rt||Fe)};static#t=this.\u0275mod=t.$C({type:Fe});static#n=this.\u0275inj=t.G2t({imports:[k,k]})}return Fe})(),Rt=(()=>{class Fe{constructor(we){this._animationMode=we,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(rt){return new(rt||Fe)(t.rXU(t.bc$,8))};static#t=this.\u0275cmp=t.VBU({type:Fe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(rt,vt){2&rt&&t.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===vt.state)("mat-pseudo-checkbox-checked","checked"===vt.state)("mat-pseudo-checkbox-disabled",vt.disabled)("mat-pseudo-checkbox-minimal","minimal"===vt.appearance)("mat-pseudo-checkbox-full","full"===vt.appearance)("_mat-animation-noopable","NoopAnimations"===vt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(rt,vt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Fe})(),en=(()=>{class Fe{static#e=this.\u0275fac=function(rt){return new(rt||Fe)};static#t=this.\u0275mod=t.$C({type:Fe});static#n=this.\u0275inj=t.G2t({imports:[k]})}return Fe})();const ht=new t.nKC("MAT_OPTION_PARENT_COMPONENT");let pt=0;const Ct=new t.nKC("MatOptgroup");let Mt=(()=>{class Fe{constructor(we){this.disabled=!1,this._labelId="mat-optgroup-label-"+pt++,this._inert=we?.inertGroups??!1}static#e=this.\u0275fac=function(rt){return new(rt||Fe)(t.rXU(ht,8))};static#t=this.\u0275cmp=t.VBU({type:Fe,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(rt,vt){2&rt&&t.BMQ("role",vt._inert?null:"group")("aria-disabled",vt._inert?null:vt.disabled.toString())("aria-labelledby",vt._inert?null:vt._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",t.L39]},exportAs:["matOptgroup"],standalone:!0,features:[t.Jv_([{provide:Ct,useExisting:Fe}]),t.GFd,t.aNF],ngContentSelectors:O,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(rt,vt){1&rt&&(t.NAR(y),t.j41(0,"span",0)(1,"span",1),t.EFF(2),t.SdG(3),t.k0s()(),t.SdG(4,1)),2&rt&&(t.AVh("mdc-list-item--disabled",vt.disabled),t.Y8G("id",vt._labelId),t.R7$(2),t.SpI("",vt.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color);font-family:var(--mat-optgroup-label-text-font);line-height:var(--mat-optgroup-label-text-line-height);font-size:var(--mat-optgroup-label-text-size);letter-spacing:var(--mat-optgroup-label-text-tracking);font-weight:var(--mat-optgroup-label-text-weight)}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return Fe})(),$t=0;class nn{constructor(Ue,we=!1){this.source=Ue,this.isUserInput=we}}let Sn=(()=>{class Fe{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(we){this._disabled=we}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(we,rt,vt,on){this._element=we,this._changeDetectorRef=rt,this._parent=vt,this.group=on,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+$t++,this.onSelectionChange=new t.bkB,this._stateChanges=new S.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(we=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),we&&this._emitSelectionChangeEvent())}deselect(we=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),we&&this._emitSelectionChangeEvent())}focus(we,rt){const vt=this._getHostElement();"function"==typeof vt.focus&&vt.focus(rt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(we){(we.keyCode===h.Fm||we.keyCode===h.t6)&&!(0,h.rp)(we)&&(this._selectViaInteraction(),we.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const we=this.viewValue;we!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=we)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(we=!1){this.onSelectionChange.emit(new nn(this,we))}static#e=this.\u0275fac=function(rt){return new(rt||Fe)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(ht,8),t.rXU(Ct,8))};static#t=this.\u0275cmp=t.VBU({type:Fe,selectors:[["mat-option"]],viewQuery:function(rt,vt){if(1&rt&&t.GBs(m,7),2&rt){let on;t.mGM(on=t.lsd())&&(vt._text=on.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(rt,vt){1&rt&&t.bIt("click",function(){return vt._selectViaInteraction()})("keydown",function(rn){return vt._handleKeydown(rn)}),2&rt&&(t.Mr5("id",vt.id),t.BMQ("aria-selected",vt.selected)("aria-disabled",vt.disabled.toString()),t.AVh("mdc-list-item--selected",vt.selected)("mat-mdc-option-multiple",vt.multiple)("mat-mdc-option-active",vt.active)("mdc-list-item--disabled",vt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",t.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[t.GFd,t.aNF],ngContentSelectors:u,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(rt,vt){1&rt&&(t.NAR(E),t.DNE(0,M,1,2,"mat-pseudo-checkbox",1),t.SdG(1),t.j41(2,"span",2,0),t.SdG(4,1),t.k0s(),t.DNE(5,x,1,1,"mat-pseudo-checkbox",3)(6,D,2,1,"span",4),t.nrm(7,"div",5)),2&rt&&(t.vxM(vt.multiple?0:-1),t.R7$(5),t.vxM(vt.multiple||!vt.selected||vt.hideSingleSelectionIndicator?-1:5),t.R7$(),t.vxM(vt.group&&vt.group._inert?6:-1),t.R7$(),t.Y8G("matRippleTrigger",vt._getHostElement())("matRippleDisabled",vt.disabled||vt.disableRipple))},dependencies:[Rt,sn],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Fe})();function In(Fe,Ue,we){if(we.length){let rt=Ue.toArray(),vt=we.toArray(),on=0;for(let rn=0;rn<Fe+1;rn++)rt[rn].group&&rt[rn].group===vt[on]&&on++;return on}return 0}function Fn(Fe,Ue,we,rt){return Fe<we?Fe:Fe+Ue>we+rt?Math.max(0,Fe-rt+Ue):we}let $n=(()=>{class Fe{static#e=this.\u0275fac=function(rt){return new(rt||Fe)};static#t=this.\u0275mod=t.$C({type:Fe});static#n=this.\u0275inj=t.G2t({imports:[_n,k,en]})}return Fe})();const ut={capture:!0},Pe=["focus","mousedown","mouseenter","touchstart"],je="mat-ripple-loader-uninitialized",Te="mat-ripple-loader-class-name",Ye="mat-ripple-loader-centered",Tt="mat-ripple-loader-disabled";let Ut=(()=>{class Fe{constructor(){this._document=(0,t.WQX)(b.qQ,{optional:!0}),this._animationMode=(0,t.WQX)(t.bc$,{optional:!0}),this._globalRippleOptions=(0,t.WQX)(Ft,{optional:!0}),this._platform=(0,t.WQX)(C.OD),this._ngZone=(0,t.WQX)(t.SKi),this._hosts=new Map,this._onInteraction=we=>{const rt=(0,C.Fb)(we);if(rt instanceof HTMLElement){const vt=rt.closest(`[${je}="${this._globalRippleOptions?.namespace??""}"]`);vt&&this._createRipple(vt)}},this._ngZone.runOutsideAngular(()=>{for(const we of Pe)this._document?.addEventListener(we,this._onInteraction,ut)})}ngOnDestroy(){const we=this._hosts.keys();for(const rt of we)this.destroyRipple(rt);for(const rt of Pe)this._document?.removeEventListener(rt,this._onInteraction,ut)}configureRipple(we,rt){we.setAttribute(je,this._globalRippleOptions?.namespace??""),(rt.className||!we.hasAttribute(Te))&&we.setAttribute(Te,rt.className||""),rt.centered&&we.setAttribute(Ye,""),rt.disabled&&we.setAttribute(Tt,"")}getRipple(we){return this._hosts.get(we)||this._createRipple(we)}setDisabled(we,rt){const vt=this._hosts.get(we);vt?vt.disabled=rt:rt?we.setAttribute(Tt,""):we.removeAttribute(Tt)}_createRipple(we){if(!this._document)return;const rt=this._hosts.get(we);if(rt)return rt;we.querySelector(".mat-ripple")?.remove();const vt=this._document.createElement("span");vt.classList.add("mat-ripple",we.getAttribute(Te)),we.append(vt);const on=new sn(new t.aKT(vt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return on._isInitialized=!0,on.trigger=we,on.centered=we.hasAttribute(Ye),on.disabled=we.hasAttribute(Tt),this.attachRipple(we,on),on}attachRipple(we,rt){we.removeAttribute(je),this._hosts.set(we,rt)}destroyRipple(we){const rt=this._hosts.get(we);rt&&(rt.ngOnDestroy(),this._hosts.delete(we))}static#e=this.\u0275fac=function(rt){return new(rt||Fe)};static#t=this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})(),Ke=(()=>{class Fe{static#e=this.\u0275fac=function(rt){return new(rt||Fe)};static#t=this.\u0275cmp=t.VBU({type:Fe,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(rt,vt){2&rt&&t.AVh("mdc-form-field--align-end","before"===vt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[t.aNF],attrs:A,ngContentSelectors:L,decls:1,vars:0,template:function(rt,vt){1&rt&&(t.NAR(),t.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Fe})()},5084:(At,ue,a)=>{"use strict";a.d(ue,{X6:()=>pi});var t=a(8617),n=a(7987),f=a(6939),v=a(177),b=a(3953),C=a(8834),g=a(494),S=a(6600),h=a(5286),y=a(4337),O=a(4421),m=a(4670),E=a(7336),u=a(8203),M=a(6860),x=a(3176),D=a(9969);a(9417),a(3719),a(9631);const $=["mat-calendar-body",""];function R(Oe,Je){return this._trackRow(Je)}const F=(Oe,Je)=>Je.id;function P(Oe,Je){if(1&Oe&&(b.j41(0,"tr",0)(1,"td",3),b.EFF(2),b.k0s()()),2&Oe){const J=b.XpG();b.R7$(),b.xc7("padding-top",J._cellPadding)("padding-bottom",J._cellPadding),b.BMQ("colspan",J.numCols),b.R7$(),b.SpI(" ",J.label," ")}}function k(Oe,Je){if(1&Oe&&(b.j41(0,"td",3),b.EFF(1),b.k0s()),2&Oe){const J=b.XpG(2);b.xc7("padding-top",J._cellPadding)("padding-bottom",J._cellPadding),b.BMQ("colspan",J._firstRowOffset),b.R7$(),b.SpI(" ",J._firstRowOffset>=J.labelMinRequiredCells?J.label:""," ")}}function V(Oe,Je){if(1&Oe){const J=b.RV6();b.j41(0,"td",6)(1,"button",7),b.bIt("click",function(ge){const ze=b.eBV(J).$implicit,yt=b.XpG(2);return b.Njj(yt._cellClicked(ze,ge))})("focus",function(ge){const ze=b.eBV(J).$implicit,yt=b.XpG(2);return b.Njj(yt._emitActiveDateChange(ze,ge))}),b.j41(2,"span",8),b.EFF(3),b.k0s(),b.nrm(4,"span",9),b.k0s()()}if(2&Oe){const J=Je.$implicit,he=Je.$index,ge=b.XpG().$index,ze=b.XpG();b.xc7("width",ze._cellWidth)("padding-top",ze._cellPadding)("padding-bottom",ze._cellPadding),b.BMQ("data-mat-row",ge)("data-mat-col",he),b.R7$(),b.AVh("mat-calendar-body-disabled",!J.enabled)("mat-calendar-body-active",ze._isActiveCell(ge,he))("mat-calendar-body-range-start",ze._isRangeStart(J.compareValue))("mat-calendar-body-range-end",ze._isRangeEnd(J.compareValue))("mat-calendar-body-in-range",ze._isInRange(J.compareValue))("mat-calendar-body-comparison-bridge-start",ze._isComparisonBridgeStart(J.compareValue,ge,he))("mat-calendar-body-comparison-bridge-end",ze._isComparisonBridgeEnd(J.compareValue,ge,he))("mat-calendar-body-comparison-start",ze._isComparisonStart(J.compareValue))("mat-calendar-body-comparison-end",ze._isComparisonEnd(J.compareValue))("mat-calendar-body-in-comparison-range",ze._isInComparisonRange(J.compareValue))("mat-calendar-body-preview-start",ze._isPreviewStart(J.compareValue))("mat-calendar-body-preview-end",ze._isPreviewEnd(J.compareValue))("mat-calendar-body-in-preview",ze._isInPreview(J.compareValue)),b.Y8G("ngClass",J.cssClasses)("tabindex",ze._isActiveCell(ge,he)?0:-1),b.BMQ("aria-label",J.ariaLabel)("aria-disabled",!J.enabled||null)("aria-pressed",ze._isSelected(J.compareValue))("aria-current",ze.todayValue===J.compareValue?"date":null)("aria-describedby",ze._getDescribedby(J.compareValue)),b.R7$(),b.AVh("mat-calendar-body-selected",ze._isSelected(J.compareValue))("mat-calendar-body-comparison-identical",ze._isComparisonIdentical(J.compareValue))("mat-calendar-body-today",ze.todayValue===J.compareValue),b.R7$(),b.SpI(" ",J.displayValue," ")}}function K(Oe,Je){if(1&Oe&&(b.j41(0,"tr",1),b.DNE(1,k,2,6,"td",4),b.Z7z(2,V,5,48,"td",5,F),b.k0s()),2&Oe){const J=Je.$implicit,he=Je.$index,ge=b.XpG();b.R7$(),b.vxM(0===he&&ge._firstRowOffset?1:-1),b.R7$(),b.Dyx(J)}}function X(Oe,Je){if(1&Oe&&(b.j41(0,"th",2)(1,"span",6),b.EFF(2),b.k0s(),b.j41(3,"span",3),b.EFF(4),b.k0s()()),2&Oe){const J=Je.$implicit;b.R7$(2),b.JRh(J.long),b.R7$(2),b.JRh(J.narrow)}}const Q=["*"];function de(Oe,Je){}function se(Oe,Je){if(1&Oe){const J=b.RV6();b.j41(0,"mat-month-view",4),b.mxI("activeDateChange",function(ge){b.eBV(J);const ze=b.XpG();return b.DH7(ze.activeDate,ge)||(ze.activeDate=ge),b.Njj(ge)}),b.bIt("_userSelection",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._dateSelected(ge))})("dragStarted",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._dragStarted(ge))})("dragEnded",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._dragEnded(ge))}),b.k0s()}if(2&Oe){const J=b.XpG();b.R50("activeDate",J.activeDate),b.Y8G("selected",J.selected)("dateFilter",J.dateFilter)("maxDate",J.maxDate)("minDate",J.minDate)("dateClass",J.dateClass)("comparisonStart",J.comparisonStart)("comparisonEnd",J.comparisonEnd)("startDateAccessibleName",J.startDateAccessibleName)("endDateAccessibleName",J.endDateAccessibleName)("activeDrag",J._activeDrag)}}function ce(Oe,Je){if(1&Oe){const J=b.RV6();b.j41(0,"mat-year-view",5),b.mxI("activeDateChange",function(ge){b.eBV(J);const ze=b.XpG();return b.DH7(ze.activeDate,ge)||(ze.activeDate=ge),b.Njj(ge)}),b.bIt("monthSelected",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._monthSelectedInYearView(ge))})("selectedChange",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._goToDateInView(ge,"month"))}),b.k0s()}if(2&Oe){const J=b.XpG();b.R50("activeDate",J.activeDate),b.Y8G("selected",J.selected)("dateFilter",J.dateFilter)("maxDate",J.maxDate)("minDate",J.minDate)("dateClass",J.dateClass)}}function z(Oe,Je){if(1&Oe){const J=b.RV6();b.j41(0,"mat-multi-year-view",6),b.mxI("activeDateChange",function(ge){b.eBV(J);const ze=b.XpG();return b.DH7(ze.activeDate,ge)||(ze.activeDate=ge),b.Njj(ge)}),b.bIt("yearSelected",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._yearSelectedInMultiYearView(ge))})("selectedChange",function(ge){b.eBV(J);const ze=b.XpG();return b.Njj(ze._goToDateInView(ge,"year"))}),b.k0s()}if(2&Oe){const J=b.XpG();b.R50("activeDate",J.activeDate),b.Y8G("selected",J.selected)("dateFilter",J.dateFilter)("maxDate",J.maxDate)("minDate",J.minDate)("dateClass",J.dateClass)}}function w(Oe,Je){}const j=["button"],W=[[["","matDatepickerToggleIcon",""]]],ne=["[matDatepickerToggleIcon]"];function fe(Oe,Je){1&Oe&&(b.qSk(),b.j41(0,"svg",2),b.nrm(1,"path",3),b.k0s())}let We=(()=>{class Oe{constructor(){this.changes=new h.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(J,he){return`${J} \u2013 ${he}`}formatYearRangeLabel(J,he){return`${J} to ${he}`}static#e=this.\u0275fac=function(he){return new(he||Oe)};static#t=this.\u0275prov=b.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),lt=0;class nt{constructor(Je,J,he,ge,ze={},yt=Je,mn){this.value=Je,this.displayValue=J,this.ariaLabel=he,this.enabled=ge,this.cssClasses=ze,this.compareValue=yt,this.rawValue=mn,this.id=lt++}}let $e=1;const Ie=(0,M.BQ)({passive:!1,capture:!0}),me=(0,M.BQ)({passive:!0,capture:!0}),De=(0,M.BQ)({passive:!0});let ke=(()=>{class Oe{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(J,he){this._elementRef=J,this._ngZone=he,this._platform=(0,b.WQX)(M.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new b.bkB,this.previewChange=new b.bkB,this.activeDateChange=new b.bkB,this.dragStarted=new b.bkB,this.dragEnded=new b.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,b.WQX)(b.zZn),this._trackRow=ge=>ge,this._enterHandler=ge=>{if(this._skipNextFocus&&"focus"===ge.type)this._skipNextFocus=!1;else if(ge.target&&this.isRange){const ze=this._getCellFromElement(ge.target);ze&&this._ngZone.run(()=>this.previewChange.emit({value:ze.enabled?ze:null,event:ge}))}},this._touchmoveHandler=ge=>{if(!this.isRange)return;const ze=Ot(ge),yt=ze?this._getCellFromElement(ze):null;ze!==ge.target&&(this._didDragSinceMouseDown=!0),Ne(ge.target)&&ge.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:yt?.enabled?yt:null,event:ge}))},this._leaveHandler=ge=>{null!==this.previewEnd&&this.isRange&&("blur"!==ge.type&&(this._didDragSinceMouseDown=!0),ge.target&&this._getCellFromElement(ge.target)&&(!ge.relatedTarget||!this._getCellFromElement(ge.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:ge})))},this._mousedownHandler=ge=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const ze=ge.target&&this._getCellFromElement(ge.target);!ze||!this._isInRange(ze.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:ze.rawValue,event:ge})})},this._mouseupHandler=ge=>{if(!this.isRange)return;const ze=Ne(ge.target);ze?ze.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const yt=this._getCellFromElement(ze);this.dragEnded.emit({value:yt?.rawValue??null,event:ge})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:ge})})},this._touchendHandler=ge=>{const ze=Ot(ge);ze&&this._mouseupHandler({target:ze})},this._id="mat-calendar-body-"+$e++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,he.runOutsideAngular(()=>{const ge=J.nativeElement;ge.addEventListener("touchmove",this._touchmoveHandler,Ie),ge.addEventListener("mouseenter",this._enterHandler,me),ge.addEventListener("focus",this._enterHandler,me),ge.addEventListener("mouseleave",this._leaveHandler,me),ge.addEventListener("blur",this._leaveHandler,me),ge.addEventListener("mousedown",this._mousedownHandler,De),ge.addEventListener("touchstart",this._mousedownHandler,De),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(J,he){this._didDragSinceMouseDown||J.enabled&&this.selectedValueChange.emit({value:J.value,event:he})}_emitActiveDateChange(J,he){J.enabled&&this.activeDateChange.emit({value:J.value,event:he})}_isSelected(J){return this.startValue===J||this.endValue===J}ngOnChanges(J){const he=J.numCols,{rows:ge,numCols:ze}=this;(J.rows||he)&&(this._firstRowOffset=ge&&ge.length&&ge[0].length?ze-ge[0].length:0),(J.cellAspectRatio||he||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/ze+"%"),(he||!this._cellWidth)&&(this._cellWidth=100/ze+"%")}ngOnDestroy(){const J=this._elementRef.nativeElement;J.removeEventListener("touchmove",this._touchmoveHandler,Ie),J.removeEventListener("mouseenter",this._enterHandler,me),J.removeEventListener("focus",this._enterHandler,me),J.removeEventListener("mouseleave",this._leaveHandler,me),J.removeEventListener("blur",this._leaveHandler,me),J.removeEventListener("mousedown",this._mousedownHandler,De),J.removeEventListener("touchstart",this._mousedownHandler,De),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(J,he){let ge=J*this.numCols+he;return J&&(ge-=this._firstRowOffset),ge==this.activeCell}_focusActiveCell(J=!0){(0,b.mal)(()=>{setTimeout(()=>{const he=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");he&&(J||(this._skipNextFocus=!0),he.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(J){return at(J,this.startValue,this.endValue)}_isRangeEnd(J){return Lt(J,this.startValue,this.endValue)}_isInRange(J){return Kt(J,this.startValue,this.endValue,this.isRange)}_isComparisonStart(J){return at(J,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(J,he,ge){if(!this._isComparisonStart(J)||this._isRangeStart(J)||!this._isInRange(J))return!1;let ze=this.rows[he][ge-1];if(!ze){const yt=this.rows[he-1];ze=yt&&yt[yt.length-1]}return ze&&!this._isRangeEnd(ze.compareValue)}_isComparisonBridgeEnd(J,he,ge){if(!this._isComparisonEnd(J)||this._isRangeEnd(J)||!this._isInRange(J))return!1;let ze=this.rows[he][ge+1];if(!ze){const yt=this.rows[he+1];ze=yt&&yt[0]}return ze&&!this._isRangeStart(ze.compareValue)}_isComparisonEnd(J){return Lt(J,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(J){return Kt(J,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(J){return this.comparisonStart===this.comparisonEnd&&J===this.comparisonStart}_isPreviewStart(J){return at(J,this.previewStart,this.previewEnd)}_isPreviewEnd(J){return Lt(J,this.previewStart,this.previewEnd)}_isInPreview(J){return Kt(J,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(J){return this.isRange?this.startValue===J&&this.endValue===J?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===J?this._startDateLabelId:this.endValue===J?this._endDateLabelId:null:null}_getCellFromElement(J){const he=Ne(J);if(he){const ge=he.getAttribute("data-mat-row"),ze=he.getAttribute("data-mat-col");if(ge&&ze)return this.rows[parseInt(ge)][parseInt(ze)]}return null}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(b.aKT),b.rXU(b.SKi))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[b.OA$,b.aNF],attrs:$,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(he,ge){1&he&&(b.DNE(0,P,3,6,"tr",0),b.Z7z(1,K,4,1,"tr",1,R,!0),b.j41(3,"label",2),b.EFF(4),b.k0s(),b.j41(5,"label",2),b.EFF(6),b.k0s()),2&he&&(b.vxM(ge._firstRowOffset<ge.labelMinRequiredCells?0:-1),b.R7$(),b.Dyx(ge.rows),b.R7$(2),b.Y8G("id",ge._startDateLabelId),b.R7$(),b.SpI(" ",ge.startDateAccessibleName,"\n"),b.R7$(),b.Y8G("id",ge._endDateLabelId),b.R7$(),b.SpI(" ",ge.endDateAccessibleName,"\n"))},dependencies:[v.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return Oe})();function Qe(Oe){return"TD"===Oe?.nodeName}function Ne(Oe){let Je;return Qe(Oe)?Je=Oe:Qe(Oe.parentNode)?Je=Oe.parentNode:Qe(Oe.parentNode?.parentNode)&&(Je=Oe.parentNode.parentNode),null!=Je?.getAttribute("data-mat-row")?Je:null}function at(Oe,Je,J){return null!==J&&Je!==J&&Oe<J&&Oe===Je}function Lt(Oe,Je,J){return null!==Je&&Je!==J&&Oe>=Je&&Oe===J}function Kt(Oe,Je,J,he){return he&&null!==Je&&null!==J&&Je!==J&&Oe>=Je&&Oe<=J}function Ot(Oe){const Je=Oe.changedTouches[0];return document.elementFromPoint(Je.clientX,Je.clientY)}class Se{constructor(Je,J){this.start=Je,this.end=J}}let ve=(()=>{class Oe{constructor(J,he){this.selection=J,this._adapter=he,this._selectionChanged=new h.B7,this.selectionChanged=this._selectionChanged,this.selection=J}updateSelection(J,he){const ge=this.selection;this.selection=J,this._selectionChanged.next({selection:J,source:he,oldValue:ge})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(J){return this._adapter.isDateInstance(J)&&this._adapter.isValid(J)}static#e=this.\u0275fac=function(he){b.QTQ()};static#t=this.\u0275prov=b.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})(),N=(()=>{class Oe extends ve{constructor(J){super(null,J)}add(J){super.updateSelection(J,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const J=new Oe(this._adapter);return J.updateSelection(this.selection,this),J}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.KVO(S.MJ))};static#t=this.\u0275prov=b.jDH({token:Oe,factory:Oe.\u0275fac})}return Oe})();const ye={provide:ve,deps:[[new b.Xx1,new b.kdw,ve],S.MJ],useFactory:function Y(Oe,Je){return Oe||new N(Je)}},sn=new b.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let pt=0,Ct=(()=>{class Oe{get activeDate(){return this._activeDate}set activeDate(J){const he=this._activeDate,ge=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ge,this.minDate,this.maxDate),this._hasSameMonthAndYear(he,this._activeDate)||this._init()}get selected(){return this._selected}set selected(J){this._selected=J instanceof Se?J:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(J){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get maxDate(){return this._maxDate}set maxDate(J){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}constructor(J,he,ge,ze,yt){this._changeDetectorRef=J,this._dateFormats=he,this._dateAdapter=ge,this._dir=ze,this._rangeStrategy=yt,this._rerenderSubscription=y.y.EMPTY,this.activeDrag=null,this.selectedChange=new b.bkB,this._userSelection=new b.bkB,this.dragStarted=new b.bkB,this.dragEnded=new b.bkB,this.activeDateChange=new b.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,x.Z)(null)).subscribe(()=>this._init())}ngOnChanges(J){const he=J.comparisonStart||J.comparisonEnd;he&&!he.firstChange&&this._setRanges(this.selected),J.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(J){const he=J.value,ge=this._getDateFromDayOfMonth(he);let ze,yt;this._selected instanceof Se?(ze=this._getDateInCurrentMonth(this._selected.start),yt=this._getDateInCurrentMonth(this._selected.end)):ze=yt=this._getDateInCurrentMonth(this._selected),(ze!==he||yt!==he)&&this.selectedChange.emit(ge),this._userSelection.emit({value:ge,event:J.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(J){const ge=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(J.value),this._dateAdapter.compareDate(ge,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(J){const he=this._activeDate,ge=this._isRtl();switch(J.keyCode){case E.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,ge?1:-1);break;case E.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,ge?-1:1);break;case E.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case E.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case E.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case E.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case E.w_:this.activeDate=J.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case E.dB:this.activeDate=J.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case E.Fm:case E.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&J.preventDefault());case E._f:return void(null!=this._previewEnd&&!(0,E.rp)(J)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:J}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:J})),J.preventDefault(),J.stopPropagation()));default:return}this._dateAdapter.compareDate(he,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),J.preventDefault()}_handleCalendarBodyKeyup(J){(J.keyCode===E.t6||J.keyCode===E.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:J}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let J=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(J)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(J){this._matCalendarBody._focusActiveCell(J)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:J,value:he}){if(this._rangeStrategy){const ge=he?he.rawValue:null,ze=this._rangeStrategy.createPreview(ge,this.selected,J);if(this._previewStart=this._getCellCompareValue(ze.start),this._previewEnd=this._getCellCompareValue(ze.end),this.activeDrag&&ge){const yt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,ge,J);yt&&(this._previewStart=this._getCellCompareValue(yt.start),this._previewEnd=this._getCellCompareValue(yt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(J){if(this.activeDrag)if(J.value){const he=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,J.value,J.event);this.dragEnded.emit({value:he??null,event:J.event})}else this.dragEnded.emit({value:null,event:J.event})}_getDateFromDayOfMonth(J){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),J)}_initWeekdays(){const J=this._dateAdapter.getFirstDayOfWeek(),he=this._dateAdapter.getDayOfWeekNames("narrow");let ze=this._dateAdapter.getDayOfWeekNames("long").map((yt,mn)=>({long:yt,narrow:he[mn],id:pt++}));this._weekdays=ze.slice(J).concat(ze.slice(0,J))}_createWeekCells(){const J=this._dateAdapter.getNumDaysInMonth(this.activeDate),he=this._dateAdapter.getDateNames();this._weeks=[[]];for(let ge=0,ze=this._firstWeekOffset;ge<J;ge++,ze++){7==ze&&(this._weeks.push([]),ze=0);const yt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ge+1),mn=this._shouldEnableDate(yt),Ln=this._dateAdapter.format(yt,this._dateFormats.display.dateA11yLabel),ri=this.dateClass?this.dateClass(yt,"month"):void 0;this._weeks[this._weeks.length-1].push(new nt(ge+1,he[ge],Ln,mn,ri,this._getCellCompareValue(yt),yt))}}_shouldEnableDate(J){return!!J&&(!this.minDate||this._dateAdapter.compareDate(J,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(J,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(J))}_getDateInCurrentMonth(J){return J&&this._hasSameMonthAndYear(J,this.activeDate)?this._dateAdapter.getDate(J):null}_hasSameMonthAndYear(J,he){return!(!J||!he||this._dateAdapter.getMonth(J)!=this._dateAdapter.getMonth(he)||this._dateAdapter.getYear(J)!=this._dateAdapter.getYear(he))}_getCellCompareValue(J){if(J){const he=this._dateAdapter.getYear(J),ge=this._dateAdapter.getMonth(J),ze=this._dateAdapter.getDate(J);return new Date(he,ge,ze).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(J){J instanceof Se?(this._rangeStart=this._getCellCompareValue(J.start),this._rangeEnd=this._getCellCompareValue(J.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(J),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(J){return!this.dateFilter||this.dateFilter(J)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(b.gRc),b.rXU(S.de,8),b.rXU(S.MJ,8),b.rXU(u.dS,8),b.rXU(sn,8))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-month-view"]],viewQuery:function(he,ge){if(1&he&&b.GBs(ke,5),2&he){let ze;b.mGM(ze=b.lsd())&&(ge._matCalendarBody=ze.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[b.OA$,b.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(he,ge){1&he&&(b.j41(0,"table",0)(1,"thead",1)(2,"tr"),b.Z7z(3,X,5,2,"th",2,F),b.k0s(),b.j41(5,"tr",3),b.nrm(6,"th",4),b.k0s()(),b.j41(7,"tbody",5),b.bIt("selectedValueChange",function(yt){return ge._dateSelected(yt)})("activeDateChange",function(yt){return ge._updateActiveDate(yt)})("previewChange",function(yt){return ge._previewChanged(yt)})("dragStarted",function(yt){return ge.dragStarted.emit(yt)})("dragEnded",function(yt){return ge._dragEnded(yt)})("keyup",function(yt){return ge._handleCalendarBodyKeyup(yt)})("keydown",function(yt){return ge._handleCalendarBodyKeydown(yt)}),b.k0s()()),2&he&&(b.R7$(3),b.Dyx(ge._weekdays),b.R7$(4),b.Y8G("label",ge._monthLabel)("rows",ge._weeks)("todayValue",ge._todayDate)("startValue",ge._rangeStart)("endValue",ge._rangeEnd)("comparisonStart",ge._comparisonRangeStart)("comparisonEnd",ge._comparisonRangeEnd)("previewStart",ge._previewStart)("previewEnd",ge._previewEnd)("isRange",ge._isRange)("labelMinRequiredCells",3)("activeCell",ge._dateAdapter.getDate(ge.activeDate)-1)("startDateAccessibleName",ge.startDateAccessibleName)("endDateAccessibleName",ge.endDateAccessibleName))},dependencies:[ke],encapsulation:2,changeDetection:0})}return Oe})();const Mt=24;let nn=(()=>{class Oe{get activeDate(){return this._activeDate}set activeDate(J){let he=this._activeDate;const ge=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ge,this.minDate,this.maxDate),Sn(this._dateAdapter,he,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(J){this._selected=J instanceof Se?J:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J)),this._setSelectedYear(J)}get minDate(){return this._minDate}set minDate(J){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get maxDate(){return this._maxDate}set maxDate(J){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}constructor(J,he,ge){this._changeDetectorRef=J,this._dateAdapter=he,this._dir=ge,this._rerenderSubscription=y.y.EMPTY,this.selectedChange=new b.bkB,this.yearSelected=new b.bkB,this.activeDateChange=new b.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,x.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const he=this._dateAdapter.getYear(this._activeDate)-In(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let ge=0,ze=[];ge<Mt;ge++)ze.push(he+ge),4==ze.length&&(this._years.push(ze.map(yt=>this._createCellForYear(yt))),ze=[]);this._changeDetectorRef.markForCheck()}_yearSelected(J){const he=J.value,ge=this._dateAdapter.createDate(he,0,1),ze=this._getDateFromYear(he);this.yearSelected.emit(ge),this.selectedChange.emit(ze)}_updateActiveDate(J){const ge=this._activeDate;this.activeDate=this._getDateFromYear(J.value),this._dateAdapter.compareDate(ge,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(J){const he=this._activeDate,ge=this._isRtl();switch(J.keyCode){case E.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ge?1:-1);break;case E.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ge?-1:1);break;case E.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case E.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case E.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-In(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case E.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Mt-In(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case E.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,J.altKey?10*-Mt:-Mt);break;case E.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,J.altKey?10*Mt:Mt);break;case E.Fm:case E.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(he,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),J.preventDefault()}_handleCalendarBodyKeyup(J){(J.keyCode===E.t6||J.keyCode===E.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:J}),this._selectionKeyPressed=!1)}_getActiveCell(){return In(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(J){const he=this._dateAdapter.getMonth(this.activeDate),ge=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(J,he,1));return this._dateAdapter.createDate(J,he,Math.min(this._dateAdapter.getDate(this.activeDate),ge))}_createCellForYear(J){const he=this._dateAdapter.createDate(J,0,1),ge=this._dateAdapter.getYearName(he),ze=this.dateClass?this.dateClass(he,"multi-year"):void 0;return new nt(J,ge,ge,this._shouldEnableYear(J),ze)}_shouldEnableYear(J){if(null==J||this.maxDate&&J>this._dateAdapter.getYear(this.maxDate)||this.minDate&&J<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let ge=this._dateAdapter.createDate(J,0,1);this._dateAdapter.getYear(ge)==J;ge=this._dateAdapter.addCalendarDays(ge,1))if(this.dateFilter(ge))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(J){if(this._selectedYear=null,J instanceof Se){const he=J.start||J.end;he&&(this._selectedYear=this._dateAdapter.getYear(he))}else J&&(this._selectedYear=this._dateAdapter.getYear(J))}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(b.gRc),b.rXU(S.MJ,8),b.rXU(u.dS,8))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-multi-year-view"]],viewQuery:function(he,ge){if(1&he&&b.GBs(ke,5),2&he){let ze;b.mGM(ze=b.lsd())&&(ge._matCalendarBody=ze.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[b.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(he,ge){1&he&&(b.j41(0,"table",0)(1,"thead",1)(2,"tr"),b.nrm(3,"th",2),b.k0s()(),b.j41(4,"tbody",3),b.bIt("selectedValueChange",function(yt){return ge._yearSelected(yt)})("activeDateChange",function(yt){return ge._updateActiveDate(yt)})("keyup",function(yt){return ge._handleCalendarBodyKeyup(yt)})("keydown",function(yt){return ge._handleCalendarBodyKeydown(yt)}),b.k0s()()),2&he&&(b.R7$(4),b.Y8G("rows",ge._years)("todayValue",ge._todayYear)("startValue",ge._selectedYear)("endValue",ge._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",ge._getActiveCell()))},dependencies:[ke],encapsulation:2,changeDetection:0})}return Oe})();function Sn(Oe,Je,J,he,ge){const ze=Oe.getYear(Je),yt=Oe.getYear(J),mn=Fn(Oe,he,ge);return Math.floor((ze-mn)/Mt)===Math.floor((yt-mn)/Mt)}function In(Oe,Je,J,he){return function $n(Oe,Je){return(Oe%Je+Je)%Je}(Oe.getYear(Je)-Fn(Oe,J,he),Mt)}function Fn(Oe,Je,J){let he=0;return J?he=Oe.getYear(J)-Mt+1:Je&&(he=Oe.getYear(Je)),he}let ut=(()=>{class Oe{get activeDate(){return this._activeDate}set activeDate(J){let he=this._activeDate;const ge=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ge,this.minDate,this.maxDate),this._dateAdapter.getYear(he)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(J){this._selected=J instanceof Se?J:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J)),this._setSelectedMonth(J)}get minDate(){return this._minDate}set minDate(J){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get maxDate(){return this._maxDate}set maxDate(J){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}constructor(J,he,ge,ze){this._changeDetectorRef=J,this._dateFormats=he,this._dateAdapter=ge,this._dir=ze,this._rerenderSubscription=y.y.EMPTY,this.selectedChange=new b.bkB,this.monthSelected=new b.bkB,this.activeDateChange=new b.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,x.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(J){const he=J.value,ge=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),he,1);this.monthSelected.emit(ge);const ze=this._getDateFromMonth(he);this.selectedChange.emit(ze)}_updateActiveDate(J){const ge=this._activeDate;this.activeDate=this._getDateFromMonth(J.value),this._dateAdapter.compareDate(ge,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(J){const he=this._activeDate,ge=this._isRtl();switch(J.keyCode){case E.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,ge?1:-1);break;case E.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,ge?-1:1);break;case E.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case E.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case E.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case E.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case E.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,J.altKey?-10:-1);break;case E.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,J.altKey?10:1);break;case E.Fm:case E.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(he,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),J.preventDefault()}_handleCalendarBodyKeyup(J){(J.keyCode===E.t6||J.keyCode===E.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:J}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let J=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(he=>he.map(ge=>this._createCellForMonth(ge,J[ge]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(J){return J&&this._dateAdapter.getYear(J)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(J):null}_getDateFromMonth(J){const he=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),J,1),ge=this._dateAdapter.getNumDaysInMonth(he);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),J,Math.min(this._dateAdapter.getDate(this.activeDate),ge))}_createCellForMonth(J,he){const ge=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),J,1),ze=this._dateAdapter.format(ge,this._dateFormats.display.monthYearA11yLabel),yt=this.dateClass?this.dateClass(ge,"year"):void 0;return new nt(J,he.toLocaleUpperCase(),ze,this._shouldEnableMonth(J),yt)}_shouldEnableMonth(J){const he=this._dateAdapter.getYear(this.activeDate);if(null==J||this._isYearAndMonthAfterMaxDate(he,J)||this._isYearAndMonthBeforeMinDate(he,J))return!1;if(!this.dateFilter)return!0;for(let ze=this._dateAdapter.createDate(he,J,1);this._dateAdapter.getMonth(ze)==J;ze=this._dateAdapter.addCalendarDays(ze,1))if(this.dateFilter(ze))return!0;return!1}_isYearAndMonthAfterMaxDate(J,he){if(this.maxDate){const ge=this._dateAdapter.getYear(this.maxDate),ze=this._dateAdapter.getMonth(this.maxDate);return J>ge||J===ge&&he>ze}return!1}_isYearAndMonthBeforeMinDate(J,he){if(this.minDate){const ge=this._dateAdapter.getYear(this.minDate),ze=this._dateAdapter.getMonth(this.minDate);return J<ge||J===ge&&he<ze}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(J){this._selectedMonth=J instanceof Se?this._getMonthInCurrentYear(J.start)||this._getMonthInCurrentYear(J.end):this._getMonthInCurrentYear(J)}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(b.gRc),b.rXU(S.de,8),b.rXU(S.MJ,8),b.rXU(u.dS,8))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-year-view"]],viewQuery:function(he,ge){if(1&he&&b.GBs(ke,5),2&he){let ze;b.mGM(ze=b.lsd())&&(ge._matCalendarBody=ze.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[b.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(he,ge){1&he&&(b.j41(0,"table",0)(1,"thead",1)(2,"tr"),b.nrm(3,"th",2),b.k0s()(),b.j41(4,"tbody",3),b.bIt("selectedValueChange",function(yt){return ge._monthSelected(yt)})("activeDateChange",function(yt){return ge._updateActiveDate(yt)})("keyup",function(yt){return ge._handleCalendarBodyKeyup(yt)})("keydown",function(yt){return ge._handleCalendarBodyKeydown(yt)}),b.k0s()()),2&he&&(b.R7$(4),b.Y8G("label",ge._yearLabel)("rows",ge._months)("todayValue",ge._todayMonth)("startValue",ge._selectedMonth)("endValue",ge._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",ge._dateAdapter.getMonth(ge.activeDate)))},dependencies:[ke],encapsulation:2,changeDetection:0})}return Oe})(),Pe=1,je=(()=>{class Oe{constructor(J,he,ge,ze,yt){this._intl=J,this.calendar=he,this._dateAdapter=ge,this._dateFormats=ze,this._id="mat-calendar-header-"+Pe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>yt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Mt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Mt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(J,he){return"month"==this.calendar.currentView?this._dateAdapter.getYear(J)==this._dateAdapter.getYear(he)&&this._dateAdapter.getMonth(J)==this._dateAdapter.getMonth(he):"year"==this.calendar.currentView?this._dateAdapter.getYear(J)==this._dateAdapter.getYear(he):Sn(this._dateAdapter,J,he,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const he=this._dateAdapter.getYear(this.calendar.activeDate)-In(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),ge=he+Mt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(he,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(ge,0,1))]}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(We),b.rXU((0,b.Rfq)(()=>Te)),b.rXU(S.MJ,8),b.rXU(S.de,8),b.rXU(b.gRc))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[b.aNF],ngContentSelectors:Q,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(he,ge){1&he&&(b.NAR(),b.j41(0,"div",0)(1,"div",1)(2,"label",2),b.EFF(3),b.k0s(),b.j41(4,"button",3),b.bIt("click",function(){return ge.currentPeriodClicked()}),b.j41(5,"span",4),b.EFF(6),b.k0s(),b.qSk(),b.j41(7,"svg",5),b.nrm(8,"polygon",6),b.k0s()(),b.joV(),b.nrm(9,"div",7),b.SdG(10),b.j41(11,"button",8),b.bIt("click",function(){return ge.previousClicked()}),b.k0s(),b.j41(12,"button",9),b.bIt("click",function(){return ge.nextClicked()}),b.k0s()()()),2&he&&(b.R7$(2),b.Y8G("id",ge._periodButtonLabelId),b.R7$(),b.JRh(ge.periodButtonDescription),b.R7$(),b.BMQ("aria-label",ge.periodButtonLabel)("aria-describedby",ge._periodButtonLabelId),b.R7$(2),b.JRh(ge.periodButtonText),b.R7$(),b.AVh("mat-calendar-invert","month"!==ge.calendar.currentView),b.R7$(4),b.Y8G("disabled",!ge.previousEnabled()),b.BMQ("aria-label",ge.prevButtonLabel),b.R7$(),b.Y8G("disabled",!ge.nextEnabled()),b.BMQ("aria-label",ge.nextButtonLabel))},dependencies:[C.$z,C.iY],encapsulation:2,changeDetection:0})}return Oe})(),Te=(()=>{class Oe{get startAt(){return this._startAt}set startAt(J){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get selected(){return this._selected}set selected(J){this._selected=J instanceof Se?J:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get minDate(){return this._minDate}set minDate(J){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get maxDate(){return this._maxDate}set maxDate(J){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J))}get activeDate(){return this._clampedActiveDate}set activeDate(J){this._clampedActiveDate=this._dateAdapter.clampDate(J,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(J){const he=this._currentView!==J?J:null;this._currentView=J,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),he&&this.viewChanged.emit(he)}constructor(J,he,ge,ze){this._dateAdapter=he,this._dateFormats=ge,this._changeDetectorRef=ze,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new b.bkB,this.yearSelected=new b.bkB,this.monthSelected=new b.bkB,this.viewChanged=new b.bkB(!0),this._userSelection=new b.bkB,this._userDragDrop=new b.bkB,this._activeDrag=null,this.stateChanges=new h.B7,this._intlChanges=J.changes.subscribe(()=>{ze.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new f.A8(this.headerComponent||je),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(J){const he=J.minDate&&!this._dateAdapter.sameDate(J.minDate.previousValue,J.minDate.currentValue)?J.minDate:void 0,ge=J.maxDate&&!this._dateAdapter.sameDate(J.maxDate.previousValue,J.maxDate.currentValue)?J.maxDate:void 0,ze=he||ge||J.dateFilter;if(ze&&!ze.firstChange){const yt=this._getCurrentViewComponent();yt&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),yt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(J){const he=J.value;(this.selected instanceof Se||he&&!this._dateAdapter.sameDate(he,this.selected))&&this.selectedChange.emit(he),this._userSelection.emit(J)}_yearSelectedInMultiYearView(J){this.yearSelected.emit(J)}_monthSelectedInYearView(J){this.monthSelected.emit(J)}_goToDateInView(J,he){this.activeDate=J,this.currentView=he}_dragStarted(J){this._activeDrag=J}_dragEnded(J){this._activeDrag&&(J.value&&this._userDragDrop.emit(J),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(We),b.rXU(S.MJ,8),b.rXU(S.de,8),b.rXU(b.gRc))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-calendar"]],viewQuery:function(he,ge){if(1&he&&(b.GBs(Ct,5),b.GBs(ut,5),b.GBs(nn,5)),2&he){let ze;b.mGM(ze=b.lsd())&&(ge.monthView=ze.first),b.mGM(ze=b.lsd())&&(ge.yearView=ze.first),b.mGM(ze=b.lsd())&&(ge.multiYearView=ze.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[b.Jv_([ye]),b.OA$,b.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(he,ge){if(1&he&&(b.DNE(0,de,0,0,"ng-template",0),b.j41(1,"div",1),b.DNE(2,se,1,11,"mat-month-view",2)(3,ce,1,6,"mat-year-view",3)(4,z,1,6,"mat-multi-year-view",3),b.k0s()),2&he){let ze;b.Y8G("cdkPortalOutlet",ge._calendarHeaderPortal),b.R7$(2),b.vxM("month"===(ze=ge.currentView)?2:"year"===ze?3:"multi-year"===ze?4:-1)}},dependencies:[f.I3,t.vR,Ct,ut,nn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Oe})();const Ye={transformPanel:(0,D.hZ)("transformPanel",[(0,D.kY)("void => enter-dropdown",(0,D.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,D.i7)([(0,D.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,D.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,D.kY)("void => enter-dialog",(0,D.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,D.i7)([(0,D.iF)({opacity:0,transform:"scale(0.7)"}),(0,D.iF)({transform:"none",opacity:1})]))),(0,D.kY)("* => void",(0,D.i0)("100ms linear",(0,D.iF)({opacity:0})))]),fadeInCalendar:(0,D.hZ)("fadeInCalendar",[(0,D.wk)("void",(0,D.iF)({opacity:0})),(0,D.wk)("enter",(0,D.iF)({opacity:1})),(0,D.kY)("void => *",(0,D.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Fe={provide:new b.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const Oe=(0,b.WQX)(n.hJ);return()=>Oe.scrollStrategies.reposition()}}),deps:[n.hJ],useFactory:function Ke(Oe){return()=>Oe.scrollStrategies.reposition()}};let Ue=(()=>{class Oe{constructor(J,he,ge,ze,yt,mn){this._elementRef=J,this._changeDetectorRef=he,this._globalModel=ge,this._dateAdapter=ze,this._rangeSelectionStrategy=yt,this._subscriptions=new y.y,this._animationDone=new h.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=mn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(J){const he=this._model.selection,ge=J.value,ze=he instanceof Se;if(ze&&this._rangeSelectionStrategy){const yt=this._rangeSelectionStrategy.selectionFinished(ge,he,J.event);this._model.updateSelection(yt,this)}else ge&&(ze||!this._dateAdapter.sameDate(ge,he))&&this._model.add(ge);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(J){this._model.updateSelection(J.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(J){this._isAnimating="start"===J.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(J,he){this._model=J?this._globalModel.clone():this._globalModel,this._actionsPortal=J,he&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(b.aKT),b.rXU(b.gRc),b.rXU(ve),b.rXU(S.MJ),b.rXU(sn,8),b.rXU(We))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-datepicker-content"]],viewQuery:function(he,ge){if(1&he&&b.GBs(Te,5),2&he){let ze;b.mGM(ze=b.lsd())&&(ge._calendar=ze.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(he,ge){1&he&&b.Kam("@transformPanel.start",function(yt){return ge._handleAnimationEvent(yt)})("@transformPanel.done",function(yt){return ge._handleAnimationEvent(yt)}),2&he&&(b.zvX("@transformPanel",ge._animationState),b.HbH(ge.color?"mat-"+ge.color:""),b.AVh("mat-datepicker-content-touch",ge.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[b.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(he,ge){if(1&he&&(b.j41(0,"div",0)(1,"mat-calendar",1),b.bIt("yearSelected",function(yt){return ge.datepicker._selectYear(yt)})("monthSelected",function(yt){return ge.datepicker._selectMonth(yt)})("viewChanged",function(yt){return ge.datepicker._viewChanged(yt)})("_userSelection",function(yt){return ge._handleUserSelection(yt)})("_userDragDrop",function(yt){return ge._handleUserDragDrop(yt)}),b.k0s(),b.DNE(2,w,0,0,"ng-template",2),b.j41(3,"button",3),b.bIt("focus",function(){return ge._closeButtonFocused=!0})("blur",function(){return ge._closeButtonFocused=!1})("click",function(){return ge.datepicker.close()}),b.EFF(4),b.k0s()()),2&he){let ze;b.AVh("mat-datepicker-content-container-with-custom-header",ge.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",ge._actionsPortal),b.BMQ("aria-modal",!0)("aria-labelledby",null!==(ze=ge._dialogLabelId)&&void 0!==ze?ze:void 0),b.R7$(),b.HbH(ge.datepicker.panelClass),b.Y8G("id",ge.datepicker.id)("startAt",ge.datepicker.startAt)("startView",ge.datepicker.startView)("minDate",ge.datepicker._getMinDate())("maxDate",ge.datepicker._getMaxDate())("dateFilter",ge.datepicker._getDateFilter())("headerComponent",ge.datepicker.calendarHeaderComponent)("selected",ge._getSelected())("dateClass",ge.datepicker.dateClass)("comparisonStart",ge.comparisonStart)("comparisonEnd",ge.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",ge.startDateAccessibleName)("endDateAccessibleName",ge.endDateAccessibleName),b.R7$(),b.Y8G("cdkPortalOutlet",ge._actionsPortal),b.R7$(),b.AVh("cdk-visually-hidden",!ge._closeButtonFocused),b.Y8G("color",ge.color||"primary"),b.R7$(),b.JRh(ge._closeButtonText)}},dependencies:[t.kB,Te,f.I3,C.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ye.transformPanel,Ye.fadeInCalendar]},changeDetection:0})}return Oe})(),Yt=(()=>{class Oe{static#e=this.\u0275fac=function(he){return new(he||Oe)};static#t=this.\u0275dir=b.FsC({type:Oe,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return Oe})(),tn=(()=>{class Oe{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(J){this._disabled=J}constructor(J,he,ge){this._intl=J,this._changeDetectorRef=he,this._stateChanges=y.y.EMPTY;const ze=Number(ge);this.tabIndex=ze||0===ze?ze:null}ngOnChanges(J){J.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(J){this.datepicker&&!this.disabled&&(this.datepicker.open(),J.stopPropagation())}_watchStateChanges(){const J=this.datepicker?this.datepicker.stateChanges:(0,O.of)(),he=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,O.of)(),ge=this.datepicker?(0,m.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,O.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,m.h)(this._intl.changes,J,he,ge).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(he){return new(he||Oe)(b.rXU(We),b.rXU(b.gRc),b.kS0("tabindex"))};static#t=this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-datepicker-toggle"]],contentQueries:function(he,ge,ze){if(1&he&&b.wni(ze,Yt,5),2&he){let yt;b.mGM(yt=b.lsd())&&(ge._customIcon=yt.first)}},viewQuery:function(he,ge){if(1&he&&b.GBs(j,5),2&he){let ze;b.mGM(ze=b.lsd())&&(ge._button=ze.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(he,ge){1&he&&b.bIt("click",function(yt){return ge._open(yt)}),2&he&&(b.BMQ("tabindex",null)("data-mat-calendar",ge.datepicker?ge.datepicker.id:null),b.AVh("mat-datepicker-toggle-active",ge.datepicker&&ge.datepicker.opened)("mat-accent",ge.datepicker&&"accent"===ge.datepicker.color)("mat-warn",ge.datepicker&&"warn"===ge.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",b.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[b.GFd,b.OA$,b.aNF],ngContentSelectors:ne,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(he,ge){1&he&&(b.NAR(W),b.j41(0,"button",1,0),b.DNE(2,fe,2,0,":svg:svg",2),b.SdG(3),b.k0s()),2&he&&(b.Y8G("disabled",ge.disabled)("disableRipple",ge.disableRipple),b.BMQ("aria-haspopup",ge.datepicker?"dialog":null)("aria-label",ge.ariaLabel||ge._intl.openCalendarLabel)("tabindex",ge.disabled?-1:ge.tabIndex),b.R7$(2),b.vxM(ge._customIcon?-1:2))},dependencies:[C.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Oe})(),pi=(()=>{class Oe{static#e=this.\u0275fac=function(he){return new(he||Oe)};static#t=this.\u0275mod=b.$C({type:Oe});static#n=this.\u0275inj=b.G2t({providers:[We,Fe],imports:[v.MD,C.Hl,n.z_,t.Pd,f.jc,S.yE,Ue,tn,je,g.Gj]})}return Oe})()},4006:(At,ue,a)=>{"use strict";a.d(ue,{BI:()=>Me,CP:()=>Q,Vh:()=>se,bZ:()=>ne,hM:()=>$e,tx:()=>ae});var t=a(7987),n=a(177),f=a(3953),v=a(8617),b=a(2529),C=a(4085),g=a(6939),S=a(5286),h=a(4670),y=a(9418),O=a(8728),m=a(9493),E=a(3176),u=a(7336),x=(a(494),a(6600));function A(De,ke){}a(9969);class L{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const l="mdc-dialog--open",$="mdc-dialog--opening",R="mdc-dialog--closing";let k=(()=>{class De extends b.sU{constructor(Qe,Ne,at,Lt,Kt,Ot,Se,ve,N){super(Qe,Ne,at,Lt,Kt,Ot,Se,N),this._animationMode=ve,this._animationStateChanged=new f.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?K(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?K(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(V,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($,l)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(l),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(l),this._animationsEnabled?(this._hostElement.style.setProperty(V,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(R)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(Qe){this._actionSectionCount+=Qe,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove($,R)}_waitForAnimationToComplete(Qe,Ne){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Ne,Qe)}_requestAnimationFrame(Qe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Qe):Qe()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Qe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Qe})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(Qe){const Ne=super.attachComponentPortal(Qe);return Ne.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Ne}static#e=this.\u0275fac=function(Ne){return new(Ne||De)(f.rXU(f.aKT),f.rXU(v.GX),f.rXU(n.qQ,8),f.rXU(L),f.rXU(v.Z7),f.rXU(f.SKi),f.rXU(t.yY),f.rXU(f.bc$,8),f.rXU(v.FN))};static#t=this.\u0275cmp=f.VBU({type:De,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(Ne,at){2&Ne&&(f.Mr5("id",at._config.id),f.BMQ("aria-modal",at._config.ariaModal)("role",at._config.role)("aria-labelledby",at._config.ariaLabel?null:at._ariaLabelledByQueue[0])("aria-label",at._config.ariaLabel)("aria-describedby",at._config.ariaDescribedBy||null),f.AVh("_mat-animation-noopable",!at._animationsEnabled)("mat-mdc-dialog-container-with-actions",at._actionSectionCount>0))},standalone:!0,features:[f.Vt3,f.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Ne,at){1&Ne&&(f.j41(0,"div",0)(1,"div",1),f.DNE(2,A,0,0,"ng-template",2),f.k0s()())},dependencies:[g.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return De})();const V="--mat-dialog-transition-duration";function K(De){return null==De?null:"number"==typeof De?De:De.endsWith("ms")?(0,C.OE)(De.substring(0,De.length-2)):De.endsWith("s")?1e3*(0,C.OE)(De.substring(0,De.length-1)):"0"===De?0:null}var X=function(De){return De[De.OPEN=0]="OPEN",De[De.CLOSING=1]="CLOSING",De[De.CLOSED=2]="CLOSED",De}(X||{});class Q{constructor(ke,Qe,Ne){this._ref=ke,this._containerInstance=Ne,this._afterOpened=new S.B7,this._beforeClosed=new S.B7,this._state=X.OPEN,this.disableClose=Qe.disableClose,this.id=ke.id,ke.addPanelClass("mat-mdc-dialog-panel"),Ne._animationStateChanged.pipe((0,O.p)(at=>"opened"===at.state),(0,m.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ne._animationStateChanged.pipe((0,O.p)(at=>"closed"===at.state),(0,m.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ke.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,h.h)(this.backdropClick(),this.keydownEvents().pipe((0,O.p)(at=>at.keyCode===u._f&&!this.disableClose&&!(0,u.rp)(at)))).subscribe(at=>{this.disableClose||(at.preventDefault(),de(this,"keydown"===at.type?"keyboard":"mouse"))})}close(ke){this._result=ke,this._containerInstance._animationStateChanged.pipe((0,O.p)(Qe=>"closing"===Qe.state),(0,m.s)(1)).subscribe(Qe=>{this._beforeClosed.next(ke),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Qe.totalTime+100)}),this._state=X.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(ke){let Qe=this._ref.config.positionStrategy;return ke&&(ke.left||ke.right)?ke.left?Qe.left(ke.left):Qe.right(ke.right):Qe.centerHorizontally(),ke&&(ke.top||ke.bottom)?ke.top?Qe.top(ke.top):Qe.bottom(ke.bottom):Qe.centerVertically(),this._ref.updatePosition(),this}updateSize(ke="",Qe=""){return this._ref.updateSize(ke,Qe),this}addPanelClass(ke){return this._ref.addPanelClass(ke),this}removePanelClass(ke){return this._ref.removePanelClass(ke),this}getState(){return this._state}_finishDialogClose(){this._state=X.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function de(De,ke,Qe){return De._closeInteractionType=ke,De.close(Qe)}const se=new f.nKC("MatMdcDialogData"),ce=new f.nKC("mat-mdc-dialog-default-options"),z=new f.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const De=(0,f.WQX)(t.hJ);return()=>De.scrollStrategies.block()}});let W=0,ne=(()=>{class De{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Qe,Ne,at,Lt,Kt,Ot,Se,ve){this._overlay=Qe,this._defaultOptions=Lt,this._scrollStrategy=Kt,this._parentDialog=Ot,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.B7,this._afterOpenedAtThisLevel=new S.B7,this.dialogConfigClass=L,this.afterAllClosed=(0,y.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,E.Z)(void 0))),this._dialog=Ne.get(b.lG),this._dialogRefConstructor=Q,this._dialogContainerType=k,this._dialogDataToken=se}open(Qe,Ne){let at;(Ne={...this._defaultOptions||new L,...Ne}).id=Ne.id||"mat-mdc-dialog-"+W++,Ne.scrollStrategy=Ne.scrollStrategy||this._scrollStrategy();const Lt=this._dialog.open(Qe,{...Ne,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Ne},{provide:b.Pe,useValue:Ne}]},templateContext:()=>({dialogRef:at}),providers:(Kt,Ot,Se)=>(at=new this._dialogRefConstructor(Kt,Ne,Se),at.updatePosition(Ne?.position),[{provide:this._dialogContainerType,useValue:Se},{provide:this._dialogDataToken,useValue:Ot.data},{provide:this._dialogRefConstructor,useValue:at}])});return at.componentRef=Lt.componentRef,at.componentInstance=Lt.componentInstance,this.openDialogs.push(at),this.afterOpened.next(at),at.afterClosed().subscribe(()=>{const Kt=this.openDialogs.indexOf(at);Kt>-1&&(this.openDialogs.splice(Kt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),at}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Qe){return this.openDialogs.find(Ne=>Ne.id===Qe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Qe){let Ne=Qe.length;for(;Ne--;)Qe[Ne].close()}static#e=this.\u0275fac=function(Ne){return new(Ne||De)(f.KVO(t.hJ),f.KVO(f.zZn),f.KVO(n.aZ,8),f.KVO(ce,8),f.KVO(z),f.KVO(De,12),f.KVO(t.Sf),f.KVO(f.bc$,8))};static#t=this.\u0275prov=f.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),fe=0,ae=(()=>{class De{constructor(Qe,Ne,at){this.dialogRef=Qe,this._elementRef=Ne,this._dialog=at,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=lt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Qe){const Ne=Qe._matDialogClose||Qe._matDialogCloseResult;Ne&&(this.dialogResult=Ne.currentValue)}_onButtonClick(Qe){de(this.dialogRef,0===Qe.screenX&&0===Qe.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(Ne){return new(Ne||De)(f.rXU(Q,8),f.rXU(f.aKT),f.rXU(ne))};static#t=this.\u0275dir=f.FsC({type:De,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ne,at){1&Ne&&f.bIt("click",function(Kt){return at._onButtonClick(Kt)}),2&Ne&&f.BMQ("aria-label",at.ariaLabel||null)("type",at.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[f.OA$]})}return De})(),Ae=(()=>{class De{constructor(Qe,Ne,at){this._dialogRef=Qe,this._elementRef=Ne,this._dialog=at}ngOnInit(){this._dialogRef||(this._dialogRef=lt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(Ne){return new(Ne||De)(f.rXU(Q,8),f.rXU(f.aKT),f.rXU(ne))};static#t=this.\u0275dir=f.FsC({type:De,standalone:!0})}return De})(),Me=(()=>{class De extends Ae{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+fe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let Qe;return function(at){return(Qe||(Qe=f.xGo(De)))(at||De)}})();static#t=this.\u0275dir=f.FsC({type:De,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Ne,at){2&Ne&&f.Mr5("id",at.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[f.Vt3]})}return De})();function lt(De,ke){let Qe=De.nativeElement.parentElement;for(;Qe&&!Qe.classList.contains("mat-mdc-dialog-container");)Qe=Qe.parentElement;return Qe?ke.find(Ne=>Ne.id===Qe.id):null}let $e=(()=>{class De{static#e=this.\u0275fac=function(Ne){return new(Ne||De)};static#t=this.\u0275mod=f.$C({type:De});static#n=this.\u0275inj=f.G2t({providers:[ne],imports:[b.Ph,t.z_,g.jc,x.yE,x.yE]})}return De})()},3719:(At,ue,a)=>{"use strict";a.d(ue,{JW:()=>$e,RG:()=>ht,TL:()=>Ve,qT:()=>Se,rl:()=>en,xb:()=>Y,yw:()=>me});var t=a(3953),n=a(8203),f=a(4085),v=a(6860),b=a(177),C=a(4337),g=a(5286),S=a(4670),h=a(7605),y=a(8170),O=a(9969),m=a(2318),E=a(6600);const u=["notch"],M=["matFormFieldNotchedOutline",""],x=["*"],D=["textField"],A=["iconPrefixContainer"],L=["textPrefixContainer"],l=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function R(pt,Ct){1&pt&&t.nrm(0,"span",19)}function F(pt,Ct){if(1&pt&&(t.j41(0,"label",18),t.SdG(1,1),t.DNE(2,R,1,0,"span",19),t.k0s()),2&pt){const Mt=t.XpG(2);t.Y8G("floating",Mt._shouldLabelFloat())("monitorResize",Mt._hasOutline())("id",Mt._labelId),t.BMQ("for",Mt._control.disableAutomaticLabeling?null:Mt._control.id),t.R7$(2),t.vxM(!Mt.hideRequiredMarker&&Mt._control.required?2:-1)}}function P(pt,Ct){if(1&pt&&t.DNE(0,F,3,5,"label",18),2&pt){const Mt=t.XpG();t.vxM(Mt._hasFloatingLabel()?0:-1)}}function k(pt,Ct){1&pt&&t.nrm(0,"div",5)}function V(pt,Ct){}function K(pt,Ct){if(1&pt&&t.DNE(0,V,0,0,"ng-template",11),2&pt){t.XpG(2);const Mt=t.sdS(1);t.Y8G("ngTemplateOutlet",Mt)}}function X(pt,Ct){if(1&pt&&(t.j41(0,"div",7),t.DNE(1,K,1,1,null,11),t.k0s()),2&pt){const Mt=t.XpG();t.Y8G("matFormFieldNotchedOutlineOpen",Mt._shouldLabelFloat()),t.R7$(),t.vxM(Mt._forceDisplayInfixLabel()?-1:1)}}function Q(pt,Ct){1&pt&&(t.j41(0,"div",8,2),t.SdG(2,2),t.k0s())}function de(pt,Ct){1&pt&&(t.j41(0,"div",9,3),t.SdG(2,3),t.k0s())}function se(pt,Ct){}function ce(pt,Ct){if(1&pt&&t.DNE(0,se,0,0,"ng-template",11),2&pt){t.XpG();const Mt=t.sdS(1);t.Y8G("ngTemplateOutlet",Mt)}}function z(pt,Ct){1&pt&&(t.j41(0,"div",12),t.SdG(1,4),t.k0s())}function w(pt,Ct){1&pt&&(t.j41(0,"div",13),t.SdG(1,5),t.k0s())}function j(pt,Ct){1&pt&&t.nrm(0,"div",14)}function W(pt,Ct){if(1&pt&&(t.j41(0,"div",16),t.SdG(1,6),t.k0s()),2&pt){const Mt=t.XpG();t.Y8G("@transitionMessages",Mt._subscriptAnimationState)}}function ne(pt,Ct){if(1&pt&&(t.j41(0,"mat-hint",20),t.EFF(1),t.k0s()),2&pt){const Mt=t.XpG(2);t.Y8G("id",Mt._hintLabelId),t.R7$(),t.JRh(Mt.hintLabel)}}function fe(pt,Ct){if(1&pt&&(t.j41(0,"div",17),t.DNE(1,ne,2,2,"mat-hint",20),t.SdG(2,7),t.nrm(3,"div",21),t.SdG(4,8),t.k0s()),2&pt){const Mt=t.XpG();t.Y8G("@transitionMessages",Mt._subscriptAnimationState),t.R7$(),t.vxM(Mt.hintLabel?1:-1)}}let ae=(()=>{class pt{static#e=this.\u0275fac=function($t){return new($t||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["mat-label"]],standalone:!0})}return pt})(),Ae=0;const Me=new t.nKC("MatError");let Ve=(()=>{class pt{constructor(Mt,$t){this.id="mat-mdc-error-"+Ae++,Mt||$t.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function($t){return new($t||pt)(t.kS0("aria-live"),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function($t,nn){2&$t&&t.Mr5("id",nn.id)},inputs:{id:"id"},standalone:!0,features:[t.Jv_([{provide:Me,useExisting:pt}])]})}return pt})(),We=0,lt=(()=>{class pt{constructor(){this.align="start",this.id="mat-mdc-hint-"+We++}static#e=this.\u0275fac=function($t){return new($t||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function($t,nn){2&$t&&(t.Mr5("id",nn.id),t.BMQ("align",null),t.AVh("mat-mdc-form-field-hint-end","end"===nn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return pt})();const nt=new t.nKC("MatPrefix");let $e=(()=>{class pt{constructor(){this._isText=!1}set _isTextSelector(Mt){this._isText=!0}static#e=this.\u0275fac=function($t){return new($t||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[t.Jv_([{provide:nt,useExisting:pt}])]})}return pt})();const Ie=new t.nKC("MatSuffix");let me=(()=>{class pt{constructor(){this._isText=!1}set _isTextSelector(Mt){this._isText=!0}static#e=this.\u0275fac=function($t){return new($t||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[t.Jv_([{provide:Ie,useExisting:pt}])]})}return pt})();const De=new t.nKC("FloatingLabelParent");let ke=(()=>{class pt{get floating(){return this._floating}set floating(Mt){this._floating=Mt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Mt){this._monitorResize=Mt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Mt){this._elementRef=Mt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,t.WQX)(y.a),this._ngZone=(0,t.WQX)(t.SKi),this._parent=(0,t.WQX)(De),this._resizeSubscription=new C.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Qe(pt){if(null!==pt.offsetParent)return pt.scrollWidth;const Mt=pt.cloneNode(!0);Mt.style.setProperty("position","absolute"),Mt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Mt);const $t=Mt.scrollWidth;return Mt.remove(),$t}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function($t){return new($t||pt)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function($t,nn){2&$t&&t.AVh("mdc-floating-label--float-above",nn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return pt})();const Ne="mdc-line-ripple--active",at="mdc-line-ripple--deactivating";let Lt=(()=>{class pt{constructor(Mt,$t){this._elementRef=Mt,this._handleTransitionEnd=nn=>{const Sn=this._elementRef.nativeElement.classList,In=Sn.contains(at);"opacity"===nn.propertyName&&In&&Sn.remove(Ne,at)},$t.runOutsideAngular(()=>{Mt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Mt=this._elementRef.nativeElement.classList;Mt.remove(at),Mt.add(Ne)}deactivate(){this._elementRef.nativeElement.classList.add(at)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function($t){return new($t||pt)(t.rXU(t.aKT),t.rXU(t.SKi))};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return pt})(),Kt=(()=>{class pt{constructor(Mt,$t){this._elementRef=Mt,this._ngZone=$t,this.open=!1}ngAfterViewInit(){const Mt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Mt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Mt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Mt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Mt){this._notch.nativeElement.style.width=this.open&&Mt?`calc(${Mt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function($t){return new($t||pt)(t.rXU(t.aKT),t.rXU(t.SKi))};static#t=this.\u0275cmp=t.VBU({type:pt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function($t,nn){if(1&$t&&t.GBs(u,5),2&$t){let Sn;t.mGM(Sn=t.lsd())&&(nn._notch=Sn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function($t,nn){2&$t&&t.AVh("mdc-notched-outline--notched",nn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[t.aNF],attrs:M,ngContentSelectors:x,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function($t,nn){1&$t&&(t.NAR(),t.nrm(0,"div",1),t.j41(1,"div",2,0),t.SdG(3),t.k0s(),t.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return pt})();const Ot={transitionMessages:(0,O.hZ)("transitionMessages",[(0,O.wk)("enter",(0,O.iF)({opacity:1,transform:"translateY(0%)"})),(0,O.kY)("void => enter",[(0,O.iF)({opacity:0,transform:"translateY(-5px)"}),(0,O.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Se=(()=>{class pt{static#e=this.\u0275fac=function($t){return new($t||pt)};static#t=this.\u0275dir=t.FsC({type:pt})}return pt})();const Y=new t.nKC("MatFormField"),ye=new t.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Ze=0,en=(()=>{class pt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Mt){this._hideRequiredMarker=(0,f.he)(Mt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Mt){Mt!==this._floatLabel&&(this._floatLabel=Mt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Mt){const $t=this._appearance;this._appearance=Mt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==$t&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Mt){this._subscriptSizing=Mt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Mt){this._hintLabel=Mt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Mt){this._explicitFormFieldControl=Mt}constructor(Mt,$t,nn,Sn,In,Fn,$n,ut){this._elementRef=Mt,this._changeDetectorRef=$t,this._dir=Sn,this._platform=In,this._defaults=Fn,this._animationMode=$n,this._labelChild=(0,t.sbv)(ae),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Ze++,this._hintLabelId="mat-mdc-hint-"+Ze++,this._subscriptAnimationState="",this._destroyed=new g.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,t.WQX)(t.zZn),this.getLabelId=(0,t.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,t.EWP)(()=>!!this._labelChild()),Fn&&(Fn.appearance&&(this.appearance=Fn.appearance),this._hideRequiredMarker=!!Fn?.hideRequiredMarker,Fn.color&&(this.color=Fn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Mt=this._control;Mt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Mt.controlType}`),Mt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Mt.ngControl&&Mt.ngControl.valueChanges&&Mt.ngControl.valueChanges.pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Mt=>!Mt._isText),this._hasTextPrefix=!!this._prefixChildren.find(Mt=>Mt._isText),this._hasIconSuffix=!!this._suffixChildren.find(Mt=>!Mt._isText),this._hasTextSuffix=!!this._suffixChildren.find(Mt=>Mt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,S.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,t.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Mt){const $t=this._control?this._control.ngControl:null;return $t&&$t[Mt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Mt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Mt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const $t=this._hintChildren?this._hintChildren.find(Sn=>"start"===Sn.align):null,nn=this._hintChildren?this._hintChildren.find(Sn=>"end"===Sn.align):null;$t?Mt.push($t.id):this._hintLabel&&Mt.push(this._hintLabelId),nn&&Mt.push(nn.id)}else this._errorChildren&&Mt.push(...this._errorChildren.map($t=>$t.id));this._control.setDescribedByIds(Mt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Mt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Mt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const $t=this._iconPrefixContainer?.nativeElement,nn=this._textPrefixContainer?.nativeElement,Sn=$t?.getBoundingClientRect().width??0,In=nn?.getBoundingClientRect().width??0;Mt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Sn+In}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Mt=this._elementRef.nativeElement;if(Mt.getRootNode){const $t=Mt.getRootNode();return $t&&$t!==Mt}return document.documentElement.contains(Mt)}static#e=this.\u0275fac=function($t){return new($t||pt)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(n.dS),t.rXU(v.OD),t.rXU(ye,8),t.rXU(t.bc$,8),t.rXU(b.qQ))};static#t=this.\u0275cmp=t.VBU({type:pt,selectors:[["mat-form-field"]],contentQueries:function($t,nn,Sn){if(1&$t&&(t.C6U(Sn,nn._labelChild,ae,5),t.wni(Sn,Se,5),t.wni(Sn,nt,5),t.wni(Sn,Ie,5),t.wni(Sn,Me,5),t.wni(Sn,lt,5)),2&$t){let In;t.NyB(),t.mGM(In=t.lsd())&&(nn._formFieldControl=In.first),t.mGM(In=t.lsd())&&(nn._prefixChildren=In),t.mGM(In=t.lsd())&&(nn._suffixChildren=In),t.mGM(In=t.lsd())&&(nn._errorChildren=In),t.mGM(In=t.lsd())&&(nn._hintChildren=In)}},viewQuery:function($t,nn){if(1&$t&&(t.GBs(D,5),t.GBs(A,5),t.GBs(L,5),t.GBs(ke,5),t.GBs(Kt,5),t.GBs(Lt,5)),2&$t){let Sn;t.mGM(Sn=t.lsd())&&(nn._textField=Sn.first),t.mGM(Sn=t.lsd())&&(nn._iconPrefixContainer=Sn.first),t.mGM(Sn=t.lsd())&&(nn._textPrefixContainer=Sn.first),t.mGM(Sn=t.lsd())&&(nn._floatingLabel=Sn.first),t.mGM(Sn=t.lsd())&&(nn._notchedOutline=Sn.first),t.mGM(Sn=t.lsd())&&(nn._lineRipple=Sn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function($t,nn){2&$t&&t.AVh("mat-mdc-form-field-label-always-float",nn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",nn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",nn._hasIconSuffix)("mat-form-field-invalid",nn._control.errorState)("mat-form-field-disabled",nn._control.disabled)("mat-form-field-autofilled",nn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===nn._animationMode)("mat-form-field-appearance-fill","fill"==nn.appearance)("mat-form-field-appearance-outline","outline"==nn.appearance)("mat-form-field-hide-placeholder",nn._hasFloatingLabel()&&!nn._shouldLabelFloat())("mat-focused",nn._control.focused)("mat-primary","accent"!==nn.color&&"warn"!==nn.color)("mat-accent","accent"===nn.color)("mat-warn","warn"===nn.color)("ng-untouched",nn._shouldForward("untouched"))("ng-touched",nn._shouldForward("touched"))("ng-pristine",nn._shouldForward("pristine"))("ng-dirty",nn._shouldForward("dirty"))("ng-valid",nn._shouldForward("valid"))("ng-invalid",nn._shouldForward("invalid"))("ng-pending",nn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[t.Jv_([{provide:Y,useExisting:pt},{provide:De,useExisting:pt}]),t.aNF],ngContentSelectors:$,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function($t,nn){if(1&$t){const Sn=t.RV6();t.NAR(l),t.DNE(0,P,1,1,"ng-template",null,0,t.C5r),t.j41(2,"div",4,1),t.bIt("click",function(Fn){return t.eBV(Sn),t.Njj(nn._control.onContainerClick(Fn))}),t.DNE(4,k,1,0,"div",5),t.j41(5,"div",6),t.DNE(6,X,2,2,"div",7)(7,Q,3,0,"div",8)(8,de,3,0,"div",9),t.j41(9,"div",10),t.DNE(10,ce,1,1,null,11),t.SdG(11),t.k0s(),t.DNE(12,z,2,0,"div",12)(13,w,2,0,"div",13),t.k0s(),t.DNE(14,j,1,0,"div",14),t.k0s(),t.j41(15,"div",15),t.DNE(16,W,2,1,"div",16)(17,fe,5,2,"div",17),t.k0s()}if(2&$t){let Sn;t.R7$(2),t.AVh("mdc-text-field--filled",!nn._hasOutline())("mdc-text-field--outlined",nn._hasOutline())("mdc-text-field--no-label",!nn._hasFloatingLabel())("mdc-text-field--disabled",nn._control.disabled)("mdc-text-field--invalid",nn._control.errorState),t.R7$(2),t.vxM(nn._hasOutline()||nn._control.disabled?-1:4),t.R7$(2),t.vxM(nn._hasOutline()?6:-1),t.R7$(),t.vxM(nn._hasIconPrefix?7:-1),t.R7$(),t.vxM(nn._hasTextPrefix?8:-1),t.R7$(2),t.vxM(!nn._hasOutline()||nn._forceDisplayInfixLabel()?10:-1),t.R7$(2),t.vxM(nn._hasTextSuffix?12:-1),t.R7$(),t.vxM(nn._hasIconSuffix?13:-1),t.R7$(),t.vxM(nn._hasOutline()?-1:14),t.R7$(),t.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===nn.subscriptSizing),t.R7$(),t.vxM("error"===(Sn=nn._getDisplayedMessages())?16:"hint"===Sn?17:-1)}},dependencies:[ke,Kt,b.T3,Lt,lt],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ot.transitionMessages]},changeDetection:0})}return pt})(),ht=(()=>{class pt{static#e=this.\u0275fac=function($t){return new($t||pt)};static#t=this.\u0275mod=t.$C({type:pt});static#n=this.\u0275inj=t.G2t({imports:[E.yE,b.MD,m.w5,E.yE]})}return pt})()},9631:(At,ue,a)=>{"use strict";a.d(ue,{Oh:()=>M,fg:()=>A,fS:()=>L});var t=a(4085),n=a(6860),f=a(3953),v=a(1235),b=a(5286);const C=(0,n.BQ)({passive:!0});let g=(()=>{class l{constructor(R,F){this._platform=R,this._ngZone=F,this._monitoredElements=new Map}monitor(R){if(!this._platform.isBrowser)return v.w;const F=(0,t.i8)(R),P=this._monitoredElements.get(F);if(P)return P.subject;const k=new b.B7,V="cdk-text-field-autofilled",K=X=>{"cdk-text-field-autofill-start"!==X.animationName||F.classList.contains(V)?"cdk-text-field-autofill-end"===X.animationName&&F.classList.contains(V)&&(F.classList.remove(V),this._ngZone.run(()=>k.next({target:X.target,isAutofilled:!1}))):(F.classList.add(V),this._ngZone.run(()=>k.next({target:X.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{F.addEventListener("animationstart",K,C),F.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(F,{subject:k,unlisten:()=>{F.removeEventListener("animationstart",K,C)}}),k}stopMonitoring(R){const F=(0,t.i8)(R),P=this._monitoredElements.get(F);P&&(P.unlisten(),P.subject.complete(),F.classList.remove("cdk-text-field-autofill-monitored"),F.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(F))}ngOnDestroy(){this._monitoredElements.forEach((R,F)=>this.stopMonitoring(F))}static#e=this.\u0275fac=function(F){return new(F||l)(f.KVO(n.OD),f.KVO(f.SKi))};static#t=this.\u0275prov=f.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),y=(()=>{class l{static#e=this.\u0275fac=function(F){return new(F||l)};static#t=this.\u0275mod=f.$C({type:l});static#n=this.\u0275inj=f.G2t({})}return l})();var O=a(9417),m=a(6600),E=a(3719);const M=new f.nKC("MAT_INPUT_VALUE_ACCESSOR"),x=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let D=0,A=(()=>{class l{get disabled(){return this._disabled}set disabled(R){this._disabled=(0,t.he)(R),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(R){this._id=R||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(O.k0.required)??!1}set required(R){this._required=(0,t.he)(R)}get type(){return this._type}set type(R){this._type=R||"text",this._validateType(),!this._isTextarea&&(0,n.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(R){this._errorStateTracker.matcher=R}get value(){return this._inputValueAccessor.value}set value(R){R!==this.value&&(this._inputValueAccessor.value=R,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(R){this._readonly=(0,t.he)(R)}get errorState(){return this._errorStateTracker.errorState}set errorState(R){this._errorStateTracker.errorState=R}constructor(R,F,P,k,V,K,X,Q,de,se){this._elementRef=R,this._platform=F,this.ngControl=P,this._autofillMonitor=Q,this._ngZone=de,this._formField=se,this._uid="mat-input-"+D++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new b.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(w=>(0,n.MU)().has(w)),this._iOSKeyupListener=w=>{const j=w.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const ce=this._elementRef.nativeElement,z=ce.nodeName.toLowerCase();this._inputValueAccessor=X||ce,this._previousNativeValue=this.value,this.id=this.id,F.IOS&&de.runOutsideAngular(()=>{R.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new m.X0(K,P,V,k,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===z,this._isTextarea="textarea"===z,this._isInFormField=!!se,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(R=>{this.autofilled=R.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(R){this._elementRef.nativeElement.focus(R)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(R){R!==this.focused&&(this.focused=R,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const R=this._elementRef.nativeElement.value;this._previousNativeValue!==R&&(this._previousNativeValue=R,this.stateChanges.next())}_dirtyCheckPlaceholder(){const R=this._getPlaceholder();if(R!==this._previousPlaceholder){const F=this._elementRef.nativeElement;this._previousPlaceholder=R,R?F.setAttribute("placeholder",R):F.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){x.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let R=this._elementRef.nativeElement.validity;return R&&R.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const R=this._elementRef.nativeElement,F=R.options[0];return this.focused||R.multiple||!this.empty||!!(R.selectedIndex>-1&&F&&F.label)}return this.focused||!this.empty}setDescribedByIds(R){R.length?this._elementRef.nativeElement.setAttribute("aria-describedby",R.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const R=this._elementRef.nativeElement;return this._isNativeSelect&&(R.multiple||R.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(F){return new(F||l)(f.rXU(f.aKT),f.rXU(n.OD),f.rXU(O.vO,10),f.rXU(O.cV,8),f.rXU(O.j4,8),f.rXU(m.es),f.rXU(M,10),f.rXU(g),f.rXU(f.SKi),f.rXU(E.xb,8))};static#t=this.\u0275dir=f.FsC({type:l,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(F,P){1&F&&f.bIt("focus",function(){return P._focusChanged(!0)})("blur",function(){return P._focusChanged(!1)})("input",function(){return P._onInput()}),2&F&&(f.Mr5("id",P.id)("disabled",P.disabled)("required",P.required),f.BMQ("name",P.name||null)("readonly",P.readonly&&!P._isNativeSelect||null)("aria-invalid",P.empty&&P.required?null:P.errorState)("aria-required",P.required)("id",P.id),f.AVh("mat-input-server",P._isServer)("mat-mdc-form-field-textarea-control",P._isInFormField&&P._isTextarea)("mat-mdc-form-field-input-control",P._isInFormField)("mdc-text-field__input",P._isInFormField)("mat-mdc-native-select-inline",P._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[f.Jv_([{provide:E.qT,useExisting:l}]),f.OA$]})}return l})(),L=(()=>{class l{static#e=this.\u0275fac=function(F){return new(F||l)};static#t=this.\u0275mod=f.$C({type:l});static#n=this.\u0275inj=f.G2t({imports:[m.yE,E.RG,E.RG,y,m.yE]})}return l})()},9115:(At,ue,a)=>{"use strict";a.d(ue,{Cn:()=>De,Cp:()=>me,fb:()=>de,kk:()=>Ve});var t=a(3953),n=a(8617),f=a(7336),v=a(5286),b=a(4670),C=a(4337),g=a(4421),S=a(5516),h=a(3176),y=a(9090),O=a(7605),m=a(8728),E=a(9493),u=a(8002),M=a(177),x=a(6600),D=a(6939),A=a(9969),L=a(8203),l=a(7987),$=a(6860),R=a(494);const F=["mat-menu-item",""],P=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],k=["mat-icon, [matMenuItemIcon]","*"];function V(ke,Qe){1&ke&&(t.qSk(),t.j41(0,"svg",2),t.nrm(1,"polygon",3),t.k0s())}const K=["*"];function X(ke,Qe){if(1&ke){const Ne=t.RV6();t.j41(0,"div",0),t.bIt("keydown",function(Lt){t.eBV(Ne);const Kt=t.XpG();return t.Njj(Kt._handleKeydown(Lt))})("click",function(){t.eBV(Ne);const Lt=t.XpG();return t.Njj(Lt.closed.emit("click"))})("@transformMenu.start",function(Lt){t.eBV(Ne);const Kt=t.XpG();return t.Njj(Kt._onAnimationStart(Lt))})("@transformMenu.done",function(Lt){t.eBV(Ne);const Kt=t.XpG();return t.Njj(Kt._onAnimationDone(Lt))}),t.j41(1,"div",1),t.SdG(2),t.k0s()()}if(2&ke){const Ne=t.XpG();t.HbH(Ne._classList),t.Y8G("id",Ne.panelId)("@transformMenu",Ne._panelAnimationState),t.BMQ("aria-label",Ne.ariaLabel||null)("aria-labelledby",Ne.ariaLabelledby||null)("aria-describedby",Ne.ariaDescribedby||null)}}const Q=new t.nKC("MAT_MENU_PANEL");let de=(()=>{class ke{constructor(Ne,at,Lt,Kt,Ot){this._elementRef=Ne,this._document=at,this._focusMonitor=Lt,this._parentMenu=Kt,this._changeDetectorRef=Ot,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new v.B7,this._focused=new v.B7,this._highlighted=!1,this._triggersSubmenu=!1,Kt?.addItem?.(this)}focus(Ne,at){this._focusMonitor&&Ne?this._focusMonitor.focusVia(this._getHostElement(),Ne,at):this._getHostElement().focus(at),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ne){this.disabled&&(Ne.preventDefault(),Ne.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Ne=this._elementRef.nativeElement.cloneNode(!0),at=Ne.querySelectorAll("mat-icon, .material-icons");for(let Lt=0;Lt<at.length;Lt++)at[Lt].remove();return Ne.textContent?.trim()||""}_setHighlighted(Ne){this._highlighted=Ne,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Ne){this._triggersSubmenu=Ne,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(at){return new(at||ke)(t.rXU(t.aKT),t.rXU(M.qQ),t.rXU(n.FN),t.rXU(Q,8),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:ke,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(at,Lt){1&at&&t.bIt("click",function(Ot){return Lt._checkDisabled(Ot)})("mouseenter",function(){return Lt._handleMouseEnter()}),2&at&&(t.BMQ("role",Lt.role)("tabindex",Lt._getTabIndex())("aria-disabled",Lt.disabled)("disabled",Lt.disabled||null),t.AVh("mat-mdc-menu-item-highlighted",Lt._highlighted)("mat-mdc-menu-item-submenu-trigger",Lt._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",t.L39],disableRipple:[2,"disableRipple","disableRipple",t.L39]},exportAs:["matMenuItem"],standalone:!0,features:[t.GFd,t.aNF],attrs:F,ngContentSelectors:k,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(at,Lt){1&at&&(t.NAR(P),t.SdG(0),t.j41(1,"span",0),t.SdG(2,1),t.k0s(),t.nrm(3,"div",1),t.DNE(4,V,2,0,":svg:svg",2)),2&at&&(t.R7$(3),t.Y8G("matRippleDisabled",Lt.disableRipple||Lt.disabled)("matRippleTrigger",Lt._getHostElement()),t.R7$(),t.vxM(Lt._triggersSubmenu?4:-1))},dependencies:[x.r6],encapsulation:2,changeDetection:0})}return ke})();const w=new t.nKC("MatMenuContent"),W={transformMenu:(0,A.hZ)("transformMenu",[(0,A.wk)("void",(0,A.iF)({opacity:0,transform:"scale(0.8)"})),(0,A.kY)("void => enter",(0,A.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,A.iF)({opacity:1,transform:"scale(1)"}))),(0,A.kY)("* => void",(0,A.i0)("100ms 25ms linear",(0,A.iF)({opacity:0})))]),fadeInItems:(0,A.hZ)("fadeInItems",[(0,A.wk)("showing",(0,A.iF)({opacity:1})),(0,A.kY)("void => *",[(0,A.iF)({opacity:0}),(0,A.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ae=0;const Ae=new t.nKC("mat-menu-default-options",{providedIn:"root",factory:function Me(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ve=(()=>{class ke{get xPosition(){return this._xPosition}set xPosition(Ne){this._xPosition=Ne,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ne){this._yPosition=Ne,this.setPositionClasses()}set panelClass(Ne){const at=this._previousPanelClass,Lt={...this._classList};at&&at.length&&at.split(" ").forEach(Kt=>{Lt[Kt]=!1}),this._previousPanelClass=Ne,Ne&&Ne.length&&(Ne.split(" ").forEach(Kt=>{Lt[Kt]=!0}),this._elementRef.nativeElement.className=""),this._classList=Lt}get classList(){return this.panelClass}set classList(Ne){this.panelClass=Ne}constructor(Ne,at,Lt,Kt){this._elementRef=Ne,this._changeDetectorRef=Kt,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new t.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new v.B7,this.closed=new t.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+ae++,this._injector=(0,t.WQX)(t.zZn),this.overlayPanelClass=Lt.overlayPanelClass||"",this._xPosition=Lt.xPosition,this._yPosition=Lt.yPosition,this.backdropClass=Lt.backdropClass,this.overlapTrigger=Lt.overlapTrigger,this.hasBackdrop=Lt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new n.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,h.Z)(this._directDescendantItems),(0,y.n)(Ne=>(0,b.h)(...Ne.map(at=>at._focused)))).subscribe(Ne=>this._keyManager.updateActiveItem(Ne)),this._directDescendantItems.changes.subscribe(Ne=>{const at=this._keyManager;if("enter"===this._panelAnimationState&&at.activeItem?._hasFocus()){const Lt=Ne.toArray(),Kt=Math.max(0,Math.min(Lt.length-1,at.activeItemIndex||0));Lt[Kt]&&!Lt[Kt].disabled?at.setActiveItem(Kt):at.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,h.Z)(this._directDescendantItems),(0,y.n)(at=>(0,b.h)(...at.map(Lt=>Lt._hovered))))}addItem(Ne){}removeItem(Ne){}_handleKeydown(Ne){const at=Ne.keyCode,Lt=this._keyManager;switch(at){case f._f:(0,f.rp)(Ne)||(Ne.preventDefault(),this.closed.emit("keydown"));break;case f.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case f.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(at===f.i7||at===f.n6)&&Lt.setFocusOrigin("keyboard"),void Lt.onKeydown(Ne)}Ne.stopPropagation()}focusFirstItem(Ne="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,t.mal)(()=>{let at=null;if(this._directDescendantItems.length&&(at=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!at||!at.contains(document.activeElement)){const Lt=this._keyManager;Lt.setFocusOrigin(Ne).setFirstItemActive(),!Lt.activeItem&&at&&at.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ne){if(null===this._baseElevation){const Se=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Se)}const at=Math.min(this._baseElevation+Ne,24),Lt=`${this._elevationPrefix}${at}`,Kt=Object.keys(this._classList).find(Ot=>Ot.startsWith(this._elevationPrefix));if(!Kt||Kt===this._previousElevation){const Ot={...this._classList};this._previousElevation&&(Ot[this._previousElevation]=!1),Ot[Lt]=!0,this._previousElevation=Lt,this._classList=Ot}}setPositionClasses(Ne=this.xPosition,at=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Ne,"mat-menu-after":"after"===Ne,"mat-menu-above":"above"===at,"mat-menu-below":"below"===at},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ne){this._animationDone.next(Ne),this._isAnimating=!1}_onAnimationStart(Ne){this._isAnimating=!0,"enter"===Ne.toState&&0===this._keyManager.activeItemIndex&&(Ne.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,h.Z)(this._allItems)).subscribe(Ne=>{this._directDescendantItems.reset(Ne.filter(at=>at._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(at){return new(at||ke)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(Ae),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:ke,selectors:[["mat-menu"]],contentQueries:function(at,Lt,Kt){if(1&at&&(t.wni(Kt,w,5),t.wni(Kt,de,5),t.wni(Kt,de,4)),2&at){let Ot;t.mGM(Ot=t.lsd())&&(Lt.lazyContent=Ot.first),t.mGM(Ot=t.lsd())&&(Lt._allItems=Ot),t.mGM(Ot=t.lsd())&&(Lt.items=Ot)}},viewQuery:function(at,Lt){if(1&at&&t.GBs(t.C4Q,5),2&at){let Kt;t.mGM(Kt=t.lsd())&&(Lt.templateRef=Kt.first)}},hostVars:3,hostBindings:function(at,Lt){2&at&&t.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",t.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Ne=>null==Ne?null:(0,t.L39)(Ne)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[t.Jv_([{provide:Q,useExisting:ke}]),t.GFd,t.aNF],ngContentSelectors:K,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(at,Lt){1&at&&(t.NAR(),t.DNE(0,X,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[W.transformMenu,W.fadeInItems]},changeDetection:0})}return ke})();const We=new t.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const ke=(0,t.WQX)(l.hJ);return()=>ke.scrollStrategies.reposition()}}),nt={provide:We,deps:[l.hJ],useFactory:function lt(ke){return()=>ke.scrollStrategies.reposition()}},$e=(0,$.BQ)({passive:!0});let me=(()=>{class ke{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ne){this.menu=Ne}get menu(){return this._menu}set menu(Ne){Ne!==this._menu&&(this._menu=Ne,this._menuCloseSubscription.unsubscribe(),Ne&&(this._menuCloseSubscription=Ne.close.subscribe(at=>{this._destroyMenu(at),("click"===at||"tab"===at)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(at)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Ne,at,Lt,Kt,Ot,Se,ve,N,ie){this._overlay=Ne,this._element=at,this._viewContainerRef=Lt,this._menuItemInstance=Se,this._dir=ve,this._focusMonitor=N,this._ngZone=ie,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.y.EMPTY,this._hoverSubscription=C.y.EMPTY,this._menuCloseSubscription=C.y.EMPTY,this._changeDetectorRef=(0,t.WQX)(t.gRc),this._handleTouchStart=Y=>{(0,n.w6)(Y)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new t.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new t.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Kt,this._parentMaterialMenu=Ot instanceof Ve?Ot:void 0,at.nativeElement.addEventListener("touchstart",this._handleTouchStart,$e)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$e),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Ne=this.menu;if(this._menuOpen||!Ne)return;const at=this._createOverlay(Ne),Lt=at.getConfig(),Kt=Lt.positionStrategy;this._setPosition(Ne,Kt),Lt.hasBackdrop=null==Ne.hasBackdrop?!this.triggersSubmenu():Ne.hasBackdrop,at.attach(this._getPortal(Ne)),Ne.lazyContent&&Ne.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Ne),Ne instanceof Ve&&(Ne._startAnimation(),Ne._directDescendantItems.changes.pipe((0,O.Q)(Ne.close)).subscribe(()=>{Kt.withLockedPosition(!1).reapplyLastPosition(),Kt.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Ne,at){this._focusMonitor&&Ne?this._focusMonitor.focusVia(this._element,Ne,at):this._element.nativeElement.focus(at)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Ne){if(!this._overlayRef||!this.menuOpen)return;const at=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ne||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,at instanceof Ve?(at._resetAnimation(),at.lazyContent?at._animationDone.pipe((0,m.p)(Lt=>"void"===Lt.toState),(0,E.s)(1),(0,O.Q)(at.lazyContent._attached)).subscribe({next:()=>at.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),at?.lazyContent?.detach())}_initMenu(Ne){Ne.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Ne.direction=this.dir,this._setMenuElevation(Ne),Ne.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Ne){if(Ne.setElevation){let at=0,Lt=Ne.parentMenu;for(;Lt;)at++,Lt=Lt.parentMenu;Ne.setElevation(at)}}_setIsMenuOpen(Ne){Ne!==this._menuOpen&&(this._menuOpen=Ne,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ne),this._changeDetectorRef.markForCheck())}_createOverlay(Ne){if(!this._overlayRef){const at=this._getOverlayConfig(Ne);this._subscribeToPositions(Ne,at.positionStrategy),this._overlayRef=this._overlay.create(at),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Ne){return new l.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Ne.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Ne.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ne,at){Ne.setPositionClasses&&at.positionChanges.subscribe(Lt=>{const Kt="start"===Lt.connectionPair.overlayX?"after":"before",Ot="top"===Lt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Ne.setPositionClasses(Kt,Ot)):Ne.setPositionClasses(Kt,Ot)})}_setPosition(Ne,at){let[Lt,Kt]="before"===Ne.xPosition?["end","start"]:["start","end"],[Ot,Se]="above"===Ne.yPosition?["bottom","top"]:["top","bottom"],[ve,N]=[Ot,Se],[ie,Y]=[Lt,Kt],ye=0;if(this.triggersSubmenu()){if(Y=Lt="before"===Ne.xPosition?"start":"end",Kt=ie="end"===Lt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Ze=this._parentMaterialMenu.items.first;this._parentInnerPadding=Ze?Ze._getHostElement().offsetTop:0}ye="bottom"===Ot?this._parentInnerPadding:-this._parentInnerPadding}}else Ne.overlapTrigger||(ve="top"===Ot?"bottom":"top",N="top"===Se?"bottom":"top");at.withPositions([{originX:Lt,originY:ve,overlayX:ie,overlayY:Ot,offsetY:ye},{originX:Kt,originY:ve,overlayX:Y,overlayY:Ot,offsetY:ye},{originX:Lt,originY:N,overlayX:ie,overlayY:Se,offsetY:-ye},{originX:Kt,originY:N,overlayX:Y,overlayY:Se,offsetY:-ye}])}_menuClosingActions(){const Ne=this._overlayRef.backdropClick(),at=this._overlayRef.detachments(),Lt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,g.of)(),Kt=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,m.p)(Ot=>Ot!==this._menuItemInstance),(0,m.p)(()=>this._menuOpen)):(0,g.of)();return(0,b.h)(Ne,Lt,Kt,at)}_handleMousedown(Ne){(0,n._G)(Ne)||(this._openedBy=0===Ne.button?"mouse":void 0,this.triggersSubmenu()&&Ne.preventDefault())}_handleKeydown(Ne){const at=Ne.keyCode;(at===f.Fm||at===f.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(at===f.LE&&"ltr"===this.dir||at===f.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ne){this.triggersSubmenu()?(Ne.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,m.p)(Ne=>Ne===this._menuItemInstance&&!Ne.disabled),(0,u.c)(0,S.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ve&&this.menu._isAnimating?this.menu._animationDone.pipe((0,E.s)(1),(0,u.c)(0,S.$),(0,O.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Ne){return(!this._portal||this._portal.templateRef!==Ne.templateRef)&&(this._portal=new D.VA(Ne.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(at){return new(at||ke)(t.rXU(l.hJ),t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(We),t.rXU(Q,8),t.rXU(de,10),t.rXU(L.dS,8),t.rXU(n.FN),t.rXU(t.SKi))};static#t=this.\u0275dir=t.FsC({type:ke,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(at,Lt){1&at&&t.bIt("click",function(Ot){return Lt._handleClick(Ot)})("mousedown",function(Ot){return Lt._handleMousedown(Ot)})("keydown",function(Ot){return Lt._handleKeydown(Ot)}),2&at&&t.BMQ("aria-haspopup",Lt.menu?"menu":null)("aria-expanded",Lt.menuOpen)("aria-controls",Lt.menuOpen?Lt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return ke})(),De=(()=>{class ke{static#e=this.\u0275fac=function(at){return new(at||ke)};static#t=this.\u0275mod=t.$C({type:ke});static#n=this.\u0275inj=t.G2t({providers:[nt],imports:[M.MD,x.pZ,x.yE,l.z_,R.Gj,x.yE]})}return ke})()},6695:(At,ue,a)=>{"use strict";a.d(ue,{Ou:()=>F,iy:()=>R});var t=a(3953),n=a(5286),f=a(6607),v=a(8834),b=a(2798),C=a(4823),g=a(6600),S=a(3719);function h(P,k){if(1&P&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&P){const V=k.$implicit;t.Y8G("value",V),t.R7$(),t.SpI(" ",V," ")}}function y(P,k){if(1&P){const V=t.RV6();t.j41(0,"mat-form-field",14)(1,"mat-select",16,0),t.bIt("selectionChange",function(X){t.eBV(V);const Q=t.XpG(2);return t.Njj(Q._changePageSize(X.value))}),t.Z7z(3,h,2,2,"mat-option",17,t.fX1),t.k0s(),t.j41(5,"div",18),t.bIt("click",function(){t.eBV(V);const X=t.sdS(2);return t.Njj(X.open())}),t.k0s()()}if(2&P){const V=t.XpG(2);t.Y8G("appearance",V._formFieldAppearance)("color",V.color),t.R7$(),t.Y8G("value",V.pageSize)("disabled",V.disabled)("aria-labelledby",V._pageSizeLabelId)("panelClass",V.selectConfig.panelClass||"")("disableOptionCentering",V.selectConfig.disableOptionCentering),t.R7$(2),t.Dyx(V._displayedPageSizeOptions)}}function O(P,k){if(1&P&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&P){const V=t.XpG(2);t.R7$(),t.JRh(V.pageSize)}}function m(P,k){if(1&P&&(t.j41(0,"div",3)(1,"div",13),t.EFF(2),t.k0s(),t.DNE(3,y,6,7,"mat-form-field",14)(4,O,2,1,"div",15),t.k0s()),2&P){const V=t.XpG();t.R7$(),t.BMQ("id",V._pageSizeLabelId),t.R7$(),t.SpI(" ",V._intl.itemsPerPageLabel," "),t.R7$(),t.vxM(V._displayedPageSizeOptions.length>1?3:-1),t.R7$(),t.vxM(V._displayedPageSizeOptions.length<=1?4:-1)}}function E(P,k){if(1&P){const V=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(V);const X=t.XpG();return t.Njj(X.firstPage())}),t.qSk(),t.j41(1,"svg",8),t.nrm(2,"path",20),t.k0s()()}if(2&P){const V=t.XpG();t.Y8G("matTooltip",V._intl.firstPageLabel)("matTooltipDisabled",V._previousButtonsDisabled())("matTooltipPosition","above")("disabled",V._previousButtonsDisabled()),t.BMQ("aria-label",V._intl.firstPageLabel)}}function u(P,k){if(1&P){const V=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(V);const X=t.XpG();return t.Njj(X.lastPage())}),t.qSk(),t.j41(1,"svg",8),t.nrm(2,"path",22),t.k0s()()}if(2&P){const V=t.XpG();t.Y8G("matTooltip",V._intl.lastPageLabel)("matTooltipDisabled",V._nextButtonsDisabled())("matTooltipPosition","above")("disabled",V._nextButtonsDisabled()),t.BMQ("aria-label",V._intl.lastPageLabel)}}let M=(()=>{class P{constructor(){this.changes=new n.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(V,K,X)=>{if(0==X||0==K)return`0 of ${X}`;const Q=V*K;return`${Q+1} \u2013 ${Q<(X=Math.max(X,0))?Math.min(Q+K,X):Q+K} of ${X}`}}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=t.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();const D={provide:M,deps:[[new t.Xx1,new t.kdw,M]],useFactory:function x(P){return P||new M}},l=new t.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let $=0,R=(()=>{class P{get pageIndex(){return this._pageIndex}set pageIndex(V){this._pageIndex=Math.max(V||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(V){this._length=V||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(V){this._pageSize=Math.max(V||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(V){this._pageSizeOptions=(V||[]).map(K=>(0,t.Udg)(K,0)),this._updateDisplayedPageSizeOptions()}constructor(V,K,X){if(this._intl=V,this._changeDetectorRef=K,this._pageSizeLabelId="mat-paginator-page-size-label-"+$++,this._isInitialized=!1,this._initializedStream=new f.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new t.bkB,this.initialized=this._initializedStream,this._intlChanges=V.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),X){const{pageSize:Q,pageSizeOptions:de,hidePageSize:se,showFirstLastButtons:ce}=X;null!=Q&&(this._pageSize=Q),null!=de&&(this._pageSizeOptions=de),null!=se&&(this.hidePageSize=se),null!=ce&&(this.showFirstLastButtons=ce)}this._formFieldAppearance=X?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const V=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(V)}previousPage(){if(!this.hasPreviousPage())return;const V=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(V)}firstPage(){if(!this.hasPreviousPage())return;const V=this.pageIndex;this.pageIndex=0,this._emitPageEvent(V)}lastPage(){if(!this.hasNextPage())return;const V=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(V)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const V=this.getNumberOfPages()-1;return this.pageIndex<V&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(V){const X=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/V)||0,this.pageSize=V,this._emitPageEvent(X)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((V,K)=>V-K),this._changeDetectorRef.markForCheck())}_emitPageEvent(V){this.page.emit({previousPageIndex:V,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(K){return new(K||P)(t.rXU(M),t.rXU(t.gRc),t.rXU(l,8))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",t.Udg],length:[2,"length","length",t.Udg],pageSize:[2,"pageSize","pageSize",t.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",t.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",t.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",t.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[t.GFd,t.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(K,X){1&K&&(t.j41(0,"div",1)(1,"div",2),t.DNE(2,m,5,4,"div",3),t.j41(3,"div",4)(4,"div",5),t.EFF(5),t.k0s(),t.DNE(6,E,3,5,"button",6),t.j41(7,"button",7),t.bIt("click",function(){return X.previousPage()}),t.qSk(),t.j41(8,"svg",8),t.nrm(9,"path",9),t.k0s()(),t.joV(),t.j41(10,"button",10),t.bIt("click",function(){return X.nextPage()}),t.qSk(),t.j41(11,"svg",8),t.nrm(12,"path",11),t.k0s()(),t.DNE(13,u,3,5,"button",12),t.k0s()()()),2&K&&(t.R7$(2),t.vxM(X.hidePageSize?-1:2),t.R7$(3),t.SpI(" ",X._intl.getRangeLabel(X.pageIndex,X.pageSize,X.length)," "),t.R7$(),t.vxM(X.showFirstLastButtons?6:-1),t.R7$(),t.Y8G("matTooltip",X._intl.previousPageLabel)("matTooltipDisabled",X._previousButtonsDisabled())("matTooltipPosition","above")("disabled",X._previousButtonsDisabled()),t.BMQ("aria-label",X._intl.previousPageLabel),t.R7$(3),t.Y8G("matTooltip",X._intl.nextPageLabel)("matTooltipDisabled",X._nextButtonsDisabled())("matTooltipPosition","above")("disabled",X._nextButtonsDisabled()),t.BMQ("aria-label",X._intl.nextPageLabel),t.R7$(3),t.vxM(X.showFirstLastButtons?13:-1))},dependencies:[S.rl,b.VO,g.wT,v.iY,C.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return P})(),F=(()=>{class P{static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275mod=t.$C({type:P});static#n=this.\u0275inj=t.G2t({providers:[D],imports:[v.Hl,b.Ve,C.uc,R]})}return P})()},9183:(At,ue,a)=>{"use strict";a.d(ue,{D6:()=>m,LG:()=>y});var t=a(3953),n=a(177),f=a(6600);const v=["determinateSpinner"];function b(E,u){if(1&E&&(t.qSk(),t.j41(0,"svg",11),t.nrm(1,"circle",12),t.k0s()),2&E){const M=t.XpG();t.BMQ("viewBox",M._viewBox()),t.R7$(),t.xc7("stroke-dasharray",M._strokeCircumference(),"px")("stroke-dashoffset",M._strokeCircumference()/2,"px")("stroke-width",M._circleStrokeWidth(),"%"),t.BMQ("r",M._circleRadius())}}const C=new t.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function g(){return{diameter:S}}}),S=100;let y=(()=>{class E{get color(){return this._color||this._defaultColor}set color(M){this._color=M}constructor(M,x,D){this._elementRef=M,this._defaultColor="primary",this._value=0,this._diameter=S,this._noopAnimations="NoopAnimations"===x&&!!D&&!D._forceAnimations,this.mode="mat-spinner"===M.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",D&&(D.color&&(this.color=this._defaultColor=D.color),D.diameter&&(this.diameter=D.diameter),D.strokeWidth&&(this.strokeWidth=D.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(M){this._value=Math.max(0,Math.min(100,M||0))}get diameter(){return this._diameter}set diameter(M){this._diameter=M||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(M){this._strokeWidth=M||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const M=2*this._circleRadius()+this.strokeWidth;return`0 0 ${M} ${M}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(x){return new(x||E)(t.rXU(t.aKT),t.rXU(t.bc$,8),t.rXU(C))};static#t=this.\u0275cmp=t.VBU({type:E,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(x,D){if(1&x&&t.GBs(v,5),2&x){let A;t.mGM(A=t.lsd())&&(D._determinateCircle=A.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(x,D){2&x&&(t.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===D.mode?D.value:null)("mode",D.mode),t.HbH("mat-"+D.color),t.xc7("width",D.diameter,"px")("height",D.diameter,"px")("--mdc-circular-progress-size",D.diameter+"px")("--mdc-circular-progress-active-indicator-width",D.diameter+"px"),t.AVh("_mat-animation-noopable",D._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===D.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",t.Udg],diameter:[2,"diameter","diameter",t.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",t.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[t.GFd,t.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(x,D){if(1&x&&(t.DNE(0,b,2,8,"ng-template",null,0,t.C5r),t.j41(2,"div",2,1),t.qSk(),t.j41(4,"svg",3),t.nrm(5,"circle",4),t.k0s()(),t.joV(),t.j41(6,"div",5)(7,"div",6)(8,"div",7),t.eu8(9,8),t.k0s(),t.j41(10,"div",9),t.eu8(11,8),t.k0s(),t.j41(12,"div",10),t.eu8(13,8),t.k0s()()()),2&x){const A=t.sdS(1);t.R7$(4),t.BMQ("viewBox",D._viewBox()),t.R7$(),t.xc7("stroke-dasharray",D._strokeCircumference(),"px")("stroke-dashoffset",D._strokeDashOffset(),"px")("stroke-width",D._circleStrokeWidth(),"%"),t.BMQ("r",D._circleRadius()),t.R7$(4),t.Y8G("ngTemplateOutlet",A),t.R7$(2),t.Y8G("ngTemplateOutlet",A),t.R7$(2),t.Y8G("ngTemplateOutlet",A)}},dependencies:[n.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return E})(),m=(()=>{class E{static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275mod=t.$C({type:E});static#n=this.\u0275inj=t.G2t({imports:[n.MD,f.yE]})}return E})()},5951:(At,ue,a)=>{"use strict";a.d(ue,{VT:()=>x,Wk:()=>A,_g:()=>D});var t=a(8617),n=a(5024),f=a(3953),v=a(9417),b=a(6600),C=a(177);const g=["input"],S=["formField"],h=["*"];let y=0;class O{constructor(l,$){this.source=l,this.value=$}}const m={provide:v.kq,useExisting:(0,f.Rfq)(()=>x),multi:!0},E=new f.nKC("MatRadioGroup"),u=new f.nKC("mat-radio-default-options",{providedIn:"root",factory:function M(){return{color:"accent"}}});let x=(()=>{class L{get name(){return this._name}set name($){this._name=$,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition($){this._labelPosition="before"===$?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value($){this._value!==$&&(this._value=$,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected($){this._selected=$,this.value=$?$.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled($){this._disabled=$,this._markRadiosForCheck()}get required(){return this._required}set required($){this._required=$,this._markRadiosForCheck()}constructor($){this._changeDetector=$,this._value=null,this._name="mat-radio-group-"+y++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new f.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find($=>$===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach($=>{$.name=this.name,$._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(R=>{R.checked=this.value===R.value,R.checked&&(this._selected=R)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new O(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach($=>$._markForCheck())}writeValue($){this.value=$,this._changeDetector.markForCheck()}registerOnChange($){this._controlValueAccessorChangeFn=$}registerOnTouched($){this.onTouched=$}setDisabledState($){this.disabled=$,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(R){return new(R||L)(f.rXU(f.gRc))};static#t=this.\u0275dir=f.FsC({type:L,selectors:[["mat-radio-group"]],contentQueries:function(R,F,P){if(1&R&&f.wni(P,D,5),2&R){let k;f.mGM(k=f.lsd())&&(F._radios=k)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",f.L39],required:[2,"required","required",f.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[f.Jv_([m,{provide:E,useExisting:L}]),f.GFd]})}return L})(),D=(()=>{class L{get checked(){return this._checked}set checked($){this._checked!==$&&(this._checked=$,$&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!$&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),$&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value($){this._value!==$&&(this._value=$,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===$),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition($){this._labelPosition=$}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled($){this._setDisabled($)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required($){this._required=$}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color($){this._color=$}get inputId(){return`${this.id||this._uniqueId}-input`}constructor($,R,F,P,k,V,K,X){this._elementRef=R,this._changeDetector=F,this._focusMonitor=P,this._radioDispatcher=k,this._providerOverride=K,this._uniqueId="mat-radio-"+ ++y,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new f.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,f.WQX)(f.zZn),this.radioGroup=$,this._noopAnimations="NoopAnimations"===V,X&&(this.tabIndex=(0,f.Udg)(X,0))}focus($,R){R?this._focusMonitor.focusVia(this._inputElement,R,$):this._inputElement.nativeElement.focus($)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen(($,R)=>{$!==this.id&&R===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe($=>{!$&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new O(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick($){$.stopPropagation()}_onInputInteraction($){if($.stopPropagation(),!this.checked&&!this.disabled){const R=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),R&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick($){this._onInputInteraction($),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled($){this._disabled!==$&&(this._disabled=$,this._changeDetector.markForCheck())}_updateTabIndex(){const $=this.radioGroup;let R;if(R=$&&$.selected&&!this.disabled?$.selected===this?this.tabIndex:-1:this.tabIndex,R!==this._previousTabIndex){const F=this._inputElement?.nativeElement;F&&(F.setAttribute("tabindex",R+""),this._previousTabIndex=R,(0,f.mal)(()=>{queueMicrotask(()=>{$&&$.selected&&$.selected!==this&&document.activeElement===F&&($.selected?._inputElement.nativeElement.focus(),document.activeElement===F&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(R){return new(R||L)(f.rXU(E,8),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(t.FN),f.rXU(n.zP),f.rXU(f.bc$,8),f.rXU(u,8),f.kS0("tabindex"))};static#t=this.\u0275cmp=f.VBU({type:L,selectors:[["mat-radio-button"]],viewQuery:function(R,F){if(1&R&&(f.GBs(g,5),f.GBs(S,7,f.aKT)),2&R){let P;f.mGM(P=f.lsd())&&(F._inputElement=P.first),f.mGM(P=f.lsd())&&(F._rippleTrigger=P.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(R,F){1&R&&f.bIt("focus",function(){return F._inputElement.nativeElement.focus()}),2&R&&(f.BMQ("id",F.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),f.AVh("mat-primary","primary"===F.color)("mat-accent","accent"===F.color)("mat-warn","warn"===F.color)("mat-mdc-radio-checked",F.checked)("_mat-animation-noopable",F._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",f.L39],tabIndex:[2,"tabIndex","tabIndex",$=>null==$?0:(0,f.Udg)($)],checked:[2,"checked","checked",f.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",f.L39],required:[2,"required","required",f.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[f.GFd,f.aNF],ngContentSelectors:h,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(R,F){if(1&R){const P=f.RV6();f.NAR(),f.j41(0,"div",2,0)(2,"div",3)(3,"div",4),f.bIt("click",function(V){return f.eBV(P),f.Njj(F._onTouchTargetClick(V))}),f.k0s(),f.j41(4,"input",5,1),f.bIt("change",function(V){return f.eBV(P),f.Njj(F._onInputInteraction(V))}),f.k0s(),f.j41(6,"div",6),f.nrm(7,"div",7)(8,"div",8),f.k0s(),f.j41(9,"div",9),f.nrm(10,"div",10),f.k0s()(),f.j41(11,"label",11),f.SdG(12),f.k0s()()}2&R&&(f.Y8G("labelPosition",F.labelPosition),f.R7$(2),f.AVh("mdc-radio--disabled",F.disabled),f.R7$(2),f.Y8G("id",F.inputId)("checked",F.checked)("disabled",F.disabled)("required",F.required),f.BMQ("name",F.name)("value",F.value)("aria-label",F.ariaLabel)("aria-labelledby",F.ariaLabelledby)("aria-describedby",F.ariaDescribedby),f.R7$(5),f.Y8G("matRippleTrigger",F._rippleTrigger.nativeElement)("matRippleDisabled",F._isRippleDisabled())("matRippleCentered",!0),f.R7$(2),f.Y8G("for",F.inputId))},dependencies:[b.r6,b.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return L})(),A=(()=>{class L{static#e=this.\u0275fac=function(R){return new(R||L)};static#t=this.\u0275mod=f.$C({type:L});static#n=this.\u0275inj=f.G2t({imports:[b.yE,C.MD,b.pZ,D,b.yE]})}return L})()},2798:(At,ue,a)=>{"use strict";a.d(ue,{$2:()=>lt,VO:()=>We,Ve:()=>nt});var t=a(7987),n=a(177),f=a(3953),v=a(6600),b=a(3719),C=a(494),g=a(8617),S=a(8203),h=a(5024),y=a(7336),O=a(9417),m=a(5286),E=a(9418),u=a(4670),M=a(3176),x=a(9090),D=a(8728),A=a(5006),L=a(522),l=a(7605),$=a(9493),R=a(9969);const F=["trigger"],P=["panel"],k=[[["mat-select-trigger"]],"*"],V=["mat-select-trigger","*"];function K($e,Ie){if(1&$e&&(f.j41(0,"span",4),f.EFF(1),f.k0s()),2&$e){const me=f.XpG();f.R7$(),f.JRh(me.placeholder)}}function X($e,Ie){1&$e&&f.SdG(0)}function Q($e,Ie){if(1&$e&&(f.j41(0,"span",11),f.EFF(1),f.k0s()),2&$e){const me=f.XpG(2);f.R7$(),f.JRh(me.triggerValue)}}function de($e,Ie){if(1&$e&&(f.j41(0,"span",5),f.DNE(1,X,1,0)(2,Q,2,1,"span",11),f.k0s()),2&$e){const me=f.XpG();f.R7$(),f.vxM(me.customTrigger?1:2)}}function se($e,Ie){if(1&$e){const me=f.RV6();f.j41(0,"div",12,1),f.bIt("@transformPanel.done",function(ke){f.eBV(me);const Qe=f.XpG();return f.Njj(Qe._panelDoneAnimatingStream.next(ke.toState))})("keydown",function(ke){f.eBV(me);const Qe=f.XpG();return f.Njj(Qe._handleKeydown(ke))}),f.SdG(2,1),f.k0s()}if(2&$e){const me=f.XpG();f.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",me._getPanelTheme(),""),f.Y8G("ngClass",me.panelClass)("@transformPanel","showing"),f.BMQ("id",me.id+"-panel")("aria-multiselectable",me.multiple)("aria-label",me.ariaLabel||null)("aria-labelledby",me._getPanelAriaLabelledby())}}const ce={transformPanelWrap:(0,R.hZ)("transformPanelWrap",[(0,R.kY)("* => void",(0,R.P)("@transformPanel",[(0,R.MA)()],{optional:!0}))]),transformPanel:(0,R.hZ)("transformPanel",[(0,R.wk)("void",(0,R.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,R.kY)("void => showing",(0,R.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,R.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,R.kY)("* => void",(0,R.i0)("100ms linear",(0,R.iF)({opacity:0})))])};let W=0;const ne=new f.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const $e=(0,f.WQX)(t.hJ);return()=>$e.scrollStrategies.reposition()}}),ae=new f.nKC("MAT_SELECT_CONFIG"),Ae={provide:ne,deps:[t.hJ],useFactory:function fe($e){return()=>$e.scrollStrategies.reposition()}},Me=new f.nKC("MatSelectTrigger");class Ve{constructor(Ie,me){this.source=Ie,this.value=me}}let We=(()=>{class $e{_scrollOptionIntoView(me){const De=this.options.toArray()[me];if(De){const ke=this.panel.nativeElement,Qe=(0,v.jb)(me,this.options,this.optionGroups),Ne=De._getHostElement();ke.scrollTop=0===me&&1===Qe?0:(0,v.TL)(Ne.offsetTop,Ne.offsetHeight,ke.scrollTop,ke.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(me){return new Ve(this,me)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(me){this._hideSingleSelectionIndicator=me,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(me){this._placeholder=me,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(O.k0.required)??!1}set required(me){this._required=me,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(me){this._multiple=me}get compareWith(){return this._compareWith}set compareWith(me){this._compareWith=me,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(me){this._assignValue(me)&&this._onChange(me)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(me){this._errorStateTracker.matcher=me}get id(){return this._id}set id(me){this._id=me||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(me){this._errorStateTracker.errorState=me}constructor(me,De,ke,Qe,Ne,at,Lt,Kt,Ot,Se,ve,N,ie,Y){this._viewportRuler=me,this._changeDetectorRef=De,this._elementRef=Ne,this._dir=at,this._parentFormField=Ot,this.ngControl=Se,this._liveAnnouncer=ie,this._defaultOptions=Y,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(ye,Ze)=>ye===Ze,this._uid="mat-select-"+W++,this._triggerAriaLabelledBy=null,this._destroy=new m.B7,this.stateChanges=new m.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+W++,this._panelDoneAnimatingStream=new m.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new m.B7,this.optionSelectionChanges=(0,E.v)(()=>{const ye=this.options;return ye?ye.changes.pipe((0,M.Z)(ye),(0,x.n)(()=>(0,u.h)(...ye.map(Ze=>Ze.onSelectionChange)))):this._initialized.pipe((0,x.n)(()=>this.optionSelectionChanges))}),this.openedChange=new f.bkB,this._openedStream=this.openedChange.pipe((0,D.p)(ye=>ye),(0,A.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,D.p)(ye=>!ye),(0,A.T)(()=>{})),this.selectionChange=new f.bkB,this.valueChange=new f.bkB,this._trackedModal=null,this._skipPredicate=ye=>!this.panelOpen&&ye.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Y?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Y.typeaheadDebounceInterval),this._errorStateTracker=new v.X0(Qe,Se,Kt,Lt,this.stateChanges),this._scrollStrategyFactory=N,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ve)||0,this.id=this.id}ngOnInit(){this._selectionModel=new h.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,L.F)(),(0,l.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,l.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,l.Q)(this._destroy)).subscribe(me=>{me.added.forEach(De=>De.select()),me.removed.forEach(De=>De.deselect())}),this.options.changes.pipe((0,M.Z)(null),(0,l.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const me=this._getTriggerAriaLabelledby(),De=this.ngControl;if(me!==this._triggerAriaLabelledBy){const ke=this._elementRef.nativeElement;this._triggerAriaLabelledBy=me,me?ke.setAttribute("aria-labelledby",me):ke.removeAttribute("aria-labelledby")}De&&(this._previousControl!==De.control&&(void 0!==this._previousControl&&null!==De.disabled&&De.disabled!==this.disabled&&(this.disabled=De.disabled),this._previousControl=De.control),this.updateErrorState())}ngOnChanges(me){(me.disabled||me.userAriaDescribedBy)&&this.stateChanges.next(),me.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const me=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!me)return;const De=`${this.id}-panel`;this._trackedModal&&(0,g.Ae)(this._trackedModal,"aria-owns",De),(0,g.px)(me,"aria-owns",De),this._trackedModal=me}_clearFromModal(){this._trackedModal&&((0,g.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(me){this._assignValue(me)}registerOnChange(me){this._onChange=me}registerOnTouched(me){this._onTouched=me}setDisabledState(me){this.disabled=me,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const me=this._selectionModel.selected.map(De=>De.viewValue);return this._isRtl()&&me.reverse(),me.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(me){this.disabled||(this.panelOpen?this._handleOpenKeydown(me):this._handleClosedKeydown(me))}_handleClosedKeydown(me){const De=me.keyCode,ke=De===y.n6||De===y.i7||De===y.UQ||De===y.LE,Qe=De===y.Fm||De===y.t6,Ne=this._keyManager;if(!Ne.isTyping()&&Qe&&!(0,y.rp)(me)||(this.multiple||me.altKey)&&ke)me.preventDefault(),this.open();else if(!this.multiple){const at=this.selected;Ne.onKeydown(me);const Lt=this.selected;Lt&&at!==Lt&&this._liveAnnouncer.announce(Lt.viewValue,1e4)}}_handleOpenKeydown(me){const De=this._keyManager,ke=me.keyCode,Qe=ke===y.n6||ke===y.i7,Ne=De.isTyping();if(Qe&&me.altKey)me.preventDefault(),this.close();else if(Ne||ke!==y.Fm&&ke!==y.t6||!De.activeItem||(0,y.rp)(me))if(!Ne&&this._multiple&&ke===y.A&&me.ctrlKey){me.preventDefault();const at=this.options.some(Lt=>!Lt.disabled&&!Lt.selected);this.options.forEach(Lt=>{Lt.disabled||(at?Lt.select():Lt.deselect())})}else{const at=De.activeItemIndex;De.onKeydown(me),this._multiple&&Qe&&me.shiftKey&&De.activeItem&&De.activeItemIndex!==at&&De.activeItem._selectViaInteraction()}else me.preventDefault(),De.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,$.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(me){if(this.options.forEach(De=>De.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&me)Array.isArray(me),me.forEach(De=>this._selectOptionByValue(De)),this._sortValues();else{const De=this._selectOptionByValue(me);De?this._keyManager.updateActiveItem(De):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(me){const De=this.options.find(ke=>{if(this._selectionModel.isSelected(ke))return!1;try{return null!=ke.value&&this._compareWith(ke.value,me)}catch{return!1}});return De&&this._selectionModel.select(De),De}_assignValue(me){return!!(me!==this._value||this._multiple&&Array.isArray(me))&&(this.options&&this._setSelectionByValue(me),this._value=me,!0)}_getOverlayWidth(me){return"auto"===this.panelWidth?(me instanceof t.$Q?me.elementRef:me||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const me of this.options)me._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new g.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const me=(0,u.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,l.Q)(me)).subscribe(De=>{this._onSelect(De.source,De.isUserInput),De.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,u.h)(...this.options.map(De=>De._stateChanges)).pipe((0,l.Q)(me)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(me,De){const ke=this._selectionModel.isSelected(me);null!=me.value||this._multiple?(ke!==me.selected&&(me.selected?this._selectionModel.select(me):this._selectionModel.deselect(me)),De&&this._keyManager.setActiveItem(me),this.multiple&&(this._sortValues(),De&&this.focus())):(me.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(me.value)),ke!==this._selectionModel.isSelected(me)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const me=this.options.toArray();this._selectionModel.sort((De,ke)=>this.sortComparator?this.sortComparator(De,ke,me):me.indexOf(De)-me.indexOf(ke)),this.stateChanges.next()}}_propagateChanges(me){let De;De=this.multiple?this.selected.map(ke=>ke.value):this.selected?this.selected.value:me,this._value=De,this.valueChange.emit(De),this._onChange(De),this.selectionChange.emit(this._getChangeEvent(De)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let me=-1;for(let De=0;De<this.options.length;De++)if(!this.options.get(De).disabled){me=De;break}this._keyManager.setActiveItem(me)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(me){this._elementRef.nativeElement.focus(me)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const me=this._parentFormField?.getLabelId();return this.ariaLabelledby?(me?me+" ":"")+this.ariaLabelledby:me}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const me=this._parentFormField?.getLabelId();let De=(me?me+" ":"")+this._valueId;return this.ariaLabelledby&&(De+=" "+this.ariaLabelledby),De}_panelDoneAnimating(me){this.openedChange.emit(me)}setDescribedByIds(me){me.length?this._elementRef.nativeElement.setAttribute("aria-describedby",me.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(De){return new(De||$e)(f.rXU(C.Xj),f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(v.es),f.rXU(f.aKT),f.rXU(S.dS,8),f.rXU(O.cV,8),f.rXU(O.j4,8),f.rXU(b.xb,8),f.rXU(O.vO,10),f.kS0("tabindex"),f.rXU(ne),f.rXU(g.Ai),f.rXU(ae,8))};static#t=this.\u0275cmp=f.VBU({type:$e,selectors:[["mat-select"]],contentQueries:function(De,ke,Qe){if(1&De&&(f.wni(Qe,Me,5),f.wni(Qe,v.wT,5),f.wni(Qe,v.QC,5)),2&De){let Ne;f.mGM(Ne=f.lsd())&&(ke.customTrigger=Ne.first),f.mGM(Ne=f.lsd())&&(ke.options=Ne),f.mGM(Ne=f.lsd())&&(ke.optionGroups=Ne)}},viewQuery:function(De,ke){if(1&De&&(f.GBs(F,5),f.GBs(P,5),f.GBs(t.WB,5)),2&De){let Qe;f.mGM(Qe=f.lsd())&&(ke.trigger=Qe.first),f.mGM(Qe=f.lsd())&&(ke.panel=Qe.first),f.mGM(Qe=f.lsd())&&(ke._overlayDir=Qe.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(De,ke){1&De&&f.bIt("keydown",function(Ne){return ke._handleKeydown(Ne)})("focus",function(){return ke._onFocus()})("blur",function(){return ke._onBlur()}),2&De&&(f.BMQ("id",ke.id)("tabindex",ke.disabled?-1:ke.tabIndex)("aria-controls",ke.panelOpen?ke.id+"-panel":null)("aria-expanded",ke.panelOpen)("aria-label",ke.ariaLabel||null)("aria-required",ke.required.toString())("aria-disabled",ke.disabled.toString())("aria-invalid",ke.errorState)("aria-activedescendant",ke._getAriaActiveDescendant()),f.AVh("mat-mdc-select-disabled",ke.disabled)("mat-mdc-select-invalid",ke.errorState)("mat-mdc-select-required",ke.required)("mat-mdc-select-empty",ke.empty)("mat-mdc-select-multiple",ke.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",f.L39],disableRipple:[2,"disableRipple","disableRipple",f.L39],tabIndex:[2,"tabIndex","tabIndex",me=>null==me?0:(0,f.Udg)(me)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",f.L39],placeholder:"placeholder",required:[2,"required","required",f.L39],multiple:[2,"multiple","multiple",f.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",f.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",f.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[f.Jv_([{provide:b.qT,useExisting:$e},{provide:v.is,useExisting:$e}]),f.GFd,f.OA$,f.aNF],ngContentSelectors:V,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(De,ke){if(1&De){const Qe=f.RV6();f.NAR(k),f.j41(0,"div",2,0),f.bIt("click",function(){return f.eBV(Qe),f.Njj(ke.open())}),f.j41(3,"div",3),f.DNE(4,K,2,1,"span",4)(5,de,3,1,"span",5),f.k0s(),f.j41(6,"div",6)(7,"div",7),f.qSk(),f.j41(8,"svg",8),f.nrm(9,"path",9),f.k0s()()()(),f.DNE(10,se,3,9,"ng-template",10),f.bIt("backdropClick",function(){return f.eBV(Qe),f.Njj(ke.close())})("attach",function(){return f.eBV(Qe),f.Njj(ke._onAttached())})("detach",function(){return f.eBV(Qe),f.Njj(ke.close())})}if(2&De){const Qe=f.sdS(1);f.R7$(3),f.BMQ("id",ke._valueId),f.R7$(),f.vxM(ke.empty?4:5),f.R7$(6),f.Y8G("cdkConnectedOverlayPanelClass",ke._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ke._scrollStrategy)("cdkConnectedOverlayOrigin",ke._preferredOverlayOrigin||Qe)("cdkConnectedOverlayOpen",ke.panelOpen)("cdkConnectedOverlayPositions",ke._positions)("cdkConnectedOverlayWidth",ke._overlayWidth)}},dependencies:[t.$Q,t.WB,n.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[ce.transformPanel]},changeDetection:0})}return $e})(),lt=(()=>{class $e{static#e=this.\u0275fac=function(De){return new(De||$e)};static#t=this.\u0275dir=f.FsC({type:$e,selectors:[["mat-select-trigger"]],standalone:!0,features:[f.Jv_([{provide:Me,useExisting:$e}])]})}return $e})(),nt=(()=>{class $e{static#e=this.\u0275fac=function(De){return new(De||$e)};static#t=this.\u0275mod=f.$C({type:$e});static#n=this.\u0275inj=f.G2t({providers:[Ae],imports:[n.MD,t.z_,v.Sy,v.yE,C.Gj,b.RG,v.Sy,v.yE]})}return $e})()},450:(At,ue,a)=>{"use strict";a.d(ue,{mV:()=>x,sG:()=>m});var t=a(3953),n=a(9417),f=a(8617),v=a(6600);const b=["switch"],C=["*"];function g(D,A){1&D&&(t.j41(0,"div",10),t.qSk(),t.j41(1,"svg",12),t.nrm(2,"path",13),t.k0s(),t.j41(3,"svg",14),t.nrm(4,"path",15),t.k0s()())}const S=new t.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),h={provide:n.kq,useExisting:(0,t.Rfq)(()=>m),multi:!0};class y{constructor(A,L){this.source=A,this.checked=L}}let O=0,m=(()=>{class D{_createChangeEvent(L){return new y(this,L)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(L){this._checked=L,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(L,l,$,R,F,P){this._elementRef=L,this._focusMonitor=l,this._changeDetectorRef=$,this.defaults=F,this._onChange=k=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new t.bkB,this.toggleChange=new t.bkB,this.tabIndex=parseInt(R)||0,this.color=F.color||"accent",this._noopAnimations="NoopAnimations"===P,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++O,this.hideIcon=F.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(L=>{"keyboard"===L||"program"===L?(this._focused=!0,this._changeDetectorRef.markForCheck()):L||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(L){L.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(L){this.checked=!!L}registerOnChange(L){this._onChange=L}registerOnTouched(L){this._onTouched=L}validate(L){return this.required&&!0!==L.value?{required:!0}:null}registerOnValidatorChange(L){this._validatorOnChange=L}setDisabledState(L){this.disabled=L,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new y(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(l){return new(l||D)(t.rXU(t.aKT),t.rXU(f.FN),t.rXU(t.gRc),t.kS0("tabindex"),t.rXU(S),t.rXU(t.bc$,8))};static#t=this.\u0275cmp=t.VBU({type:D,selectors:[["mat-slide-toggle"]],viewQuery:function(l,$){if(1&l&&t.GBs(b,5),2&l){let R;t.mGM(R=t.lsd())&&($._switchElement=R.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(l,$){2&l&&(t.Mr5("id",$.id),t.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),t.HbH($.color?"mat-"+$.color:""),t.AVh("mat-mdc-slide-toggle-focused",$._focused)("mat-mdc-slide-toggle-checked",$.checked)("_mat-animation-noopable",$._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",t.L39],color:"color",disabled:[2,"disabled","disabled",t.L39],disableRipple:[2,"disableRipple","disableRipple",t.L39],tabIndex:[2,"tabIndex","tabIndex",L=>null==L?0:(0,t.Udg)(L)],checked:[2,"checked","checked",t.L39],hideIcon:[2,"hideIcon","hideIcon",t.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[t.Jv_([h,{provide:n.cz,useExisting:D,multi:!0}]),t.GFd,t.OA$,t.aNF],ngContentSelectors:C,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(l,$){if(1&l){const R=t.RV6();t.NAR(),t.j41(0,"div",1)(1,"button",2,0),t.bIt("click",function(){return t.eBV(R),t.Njj($._handleClick())}),t.nrm(3,"div",3),t.j41(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"div",7),t.k0s(),t.j41(8,"div",8),t.nrm(9,"div",9),t.k0s(),t.DNE(10,g,5,0,"div",10),t.k0s()()(),t.j41(11,"label",11),t.bIt("click",function(P){return t.eBV(R),t.Njj(P.stopPropagation())}),t.SdG(12),t.k0s()()}if(2&l){const R=t.sdS(2);t.Y8G("labelPosition",$.labelPosition),t.R7$(),t.AVh("mdc-switch--selected",$.checked)("mdc-switch--unselected",!$.checked)("mdc-switch--checked",$.checked)("mdc-switch--disabled",$.disabled),t.Y8G("tabIndex",$.disabled?-1:$.tabIndex)("disabled",$.disabled),t.BMQ("id",$.buttonId)("name",$.name)("aria-label",$.ariaLabel)("aria-labelledby",$._getAriaLabelledBy())("aria-describedby",$.ariaDescribedby)("aria-required",$.required||null)("aria-checked",$.checked),t.R7$(8),t.Y8G("matRippleTrigger",R)("matRippleDisabled",$.disableRipple||$.disabled)("matRippleCentered",!0),t.R7$(),t.vxM($.hideIcon?-1:10),t.R7$(),t.Y8G("for",$.buttonId),t.BMQ("id",$._labelId)}},dependencies:[v.r6,v.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return D})(),x=(()=>{class D{static#e=this.\u0275fac=function(l){return new(l||D)};static#t=this.\u0275mod=t.$C({type:D});static#n=this.\u0275inj=t.G2t({imports:[m,v.yE,v.yE]})}return D})()},3881:(At,ue,a)=>{"use strict";a.d(ue,{Ez:()=>se,IV:()=>P,OU:()=>Q});var t=a(8203),n=a(6860),f=a(3953),v=a(6600),b=a(9417),C=a(5286);const g=["knob"],S=["valueIndicatorContainer"];function h(ce,z){if(1&ce&&(f.j41(0,"div",2,1)(2,"div",5)(3,"span",6),f.EFF(4),f.k0s()()()),2&ce){const w=f.XpG();f.R7$(4),f.JRh(w.valueIndicatorText)}}const y=["trackActive"],O=["*"];function m(ce,z){if(1&ce&&f.nrm(0,"div"),2&ce){const w=z.$implicit,j=z.$index,W=f.XpG(3);f.HbH(0===w?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),f.xc7("transform",W._calcTickMarkTransform(j))}}function E(ce,z){if(1&ce&&f.Z7z(0,m,1,4,"div",8,f.Vm6),2&ce){const w=f.XpG(2);f.Dyx(w._tickMarks)}}function u(ce,z){if(1&ce&&(f.j41(0,"div",6,1),f.DNE(2,E,2,0),f.k0s()),2&ce){const w=f.XpG();f.R7$(2),f.vxM(w._cachedWidth?2:-1)}}function M(ce,z){if(1&ce&&f.nrm(0,"mat-slider-visual-thumb",7),2&ce){const w=f.XpG();f.Y8G("discrete",w.discrete)("thumbPosition",1)("valueIndicatorText",w.startValueIndicatorText)}}var x=function(ce){return ce[ce.START=1]="START",ce[ce.END=2]="END",ce}(x||{}),D=function(ce){return ce[ce.ACTIVE=0]="ACTIVE",ce[ce.INACTIVE=1]="INACTIVE",ce}(D||{});const A=new f.nKC("_MatSlider"),L=new f.nKC("_MatSliderThumb"),l=new f.nKC("_MatSliderRangeThumb"),$=new f.nKC("_MatSliderVisualThumb");let F=(()=>{class ce{constructor(w,j,W,ne){this._cdr=w,this._ngZone=j,this._slider=ne,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,f.WQX)(n.OD),this._onPointerMove=fe=>{if(this._sliderInput._isFocused)return;const ae=this._hostElement.getBoundingClientRect(),Ae=this._slider._isCursorOnSliderThumb(fe,ae);this._isHovered=Ae,Ae?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=fe=>{0===fe.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=W.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const w=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{w.addEventListener("pointermove",this._onPointerMove),w.addEventListener("pointerdown",this._onDragStart),w.addEventListener("pointerup",this._onDragEnd),w.addEventListener("pointerleave",this._onMouseLeave),w.addEventListener("focus",this._onFocus),w.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const w=this._sliderInputEl;w&&(w.removeEventListener("pointermove",this._onPointerMove),w.removeEventListener("pointerdown",this._onDragStart),w.removeEventListener("pointerup",this._onDragEnd),w.removeEventListener("pointerleave",this._onMouseLeave),w.removeEventListener("focus",this._onFocus),w.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(w){return w?.state===v.Ex.FADING_IN||w?.state===v.Ex.VISIBLE}_showRipple(w,j){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===x.START?x.END:x.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||j))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:w,centered:!0,persistent:!0})}_hideRipple(w){if(w?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const j=this._getSibling();j._isShowingAnyRipple()||(this._hideValueIndicator(),j._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===x.START?x.END:x.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(j){return new(j||ce)(f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(A))};static#t=this.\u0275cmp=f.VBU({type:ce,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(j,W){if(1&j&&(f.GBs(v.r6,5),f.GBs(g,5),f.GBs(S,5)),2&j){let ne;f.mGM(ne=f.lsd())&&(W._ripple=ne.first),f.mGM(ne=f.lsd())&&(W._knob=ne.first),f.mGM(ne=f.lsd())&&(W._valueIndicatorContainer=ne.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[f.Jv_([{provide:$,useExisting:ce}]),f.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(j,W){1&j&&(f.DNE(0,h,5,1,"div",2),f.nrm(1,"div",3,0)(3,"div",4)),2&j&&(f.vxM(W.discrete?0:-1),f.R7$(3),f.Y8G("matRippleDisabled",!0))},dependencies:[v.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return ce})(),P=(()=>{class ce{get disabled(){return this._disabled}set disabled(w){this._disabled=w;const j=this._getInput(x.END),W=this._getInput(x.START);j&&(j.disabled=this._disabled),W&&(W.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(w){this._discrete=w,this._updateValueIndicatorUIs()}get min(){return this._min}set min(w){const j=isNaN(w)?this._min:w;this._min!==j&&this._updateMin(j)}_updateMin(w){const j=this._min;this._min=w,this._isRange?this._updateMinRange({old:j,new:w}):this._updateMinNonRange(w),this._onMinMaxOrStepChange()}_updateMinRange(w){const j=this._getInput(x.END),W=this._getInput(x.START),ne=j.value,fe=W.value;W.min=w.new,j.min=Math.max(w.new,W.value),W.max=Math.min(j.max,j.value),W._updateWidthInactive(),j._updateWidthInactive(),w.new<w.old?this._onTranslateXChangeBySideEffect(j,W):this._onTranslateXChangeBySideEffect(W,j),ne!==j.value&&this._onValueChange(j),fe!==W.value&&this._onValueChange(W)}_updateMinNonRange(w){const j=this._getInput(x.END);if(j){const W=j.value;j.min=w,j._updateThumbUIByValue(),this._updateTrackUI(j),W!==j.value&&this._onValueChange(j)}}get max(){return this._max}set max(w){const j=isNaN(w)?this._max:w;this._max!==j&&this._updateMax(j)}_updateMax(w){const j=this._max;this._max=w,this._isRange?this._updateMaxRange({old:j,new:w}):this._updateMaxNonRange(w),this._onMinMaxOrStepChange()}_updateMaxRange(w){const j=this._getInput(x.END),W=this._getInput(x.START),ne=j.value,fe=W.value;j.max=w.new,W.max=Math.min(w.new,j.value),j.min=W.value,j._updateWidthInactive(),W._updateWidthInactive(),w.new>w.old?this._onTranslateXChangeBySideEffect(W,j):this._onTranslateXChangeBySideEffect(j,W),ne!==j.value&&this._onValueChange(j),fe!==W.value&&this._onValueChange(W)}_updateMaxNonRange(w){const j=this._getInput(x.END);if(j){const W=j.value;j.max=w,j._updateThumbUIByValue(),this._updateTrackUI(j),W!==j.value&&this._onValueChange(j)}}get step(){return this._step}set step(w){const j=isNaN(w)?this._step:w;this._step!==j&&this._updateStep(j)}_updateStep(w){this._step=w,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const w=this._getInput(x.END),j=this._getInput(x.START),W=w.value,ne=j.value,fe=j.value;w.min=this._min,j.max=this._max,w.step=this._step,j.step=this._step,this._platform.SAFARI&&(w.value=w.value,j.value=j.value),w.min=Math.max(this._min,j.value),j.max=Math.min(this._max,w.value),j._updateWidthInactive(),w._updateWidthInactive(),w.value<fe?this._onTranslateXChangeBySideEffect(j,w):this._onTranslateXChangeBySideEffect(w,j),W!==w.value&&this._onValueChange(w),ne!==j.value&&this._onValueChange(j)}_updateStepNonRange(){const w=this._getInput(x.END);if(w){const j=w.value;w.step=this._step,this._platform.SAFARI&&(w.value=w.value),w._updateThumbUIByValue(),j!==w.value&&this._onValueChange(w)}}constructor(w,j,W,ne,fe,ae){this._ngZone=w,this._cdr=j,this._elementRef=W,this._dir=ne,this._globalRippleOptions=fe,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Ae=>`${Ae}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,f.WQX)(n.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===ae,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const w=this._getInput(x.END),j=this._getInput(x.START);this._isRange=!!w&&!!j,this._cdr.detectChanges();const W=this._getThumb(x.END);this._rippleRadius=W._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(w,j):this._initUINonRange(w),this._updateTrackUI(w),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(w){w.initProps(),w.initUI(),this._updateValueIndicatorUI(w),this._hasViewInitialized=!0,w._updateThumbUIByValue()}_initUIRange(w,j){w.initProps(),w.initUI(),j.initProps(),j.initUI(),w._updateMinMax(),j._updateMinMax(),w._updateStaticStyles(),j._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,w._updateThumbUIByValue(),j._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const w=this._getInput(x.END),j=this._getInput(x.START);w._setIsLeftThumb(),j._setIsLeftThumb(),w.translateX=w._calcTranslateXByValue(),j.translateX=j._calcTranslateXByValue(),w._updateStaticStyles(),j._updateStaticStyles(),w._updateWidthInactive(),j._updateWidthInactive(),w._updateThumbUIByValue(),j._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(x.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(x.START)._isActive||this._getThumb(x.END)._isActive}_getValue(w=x.END){const j=this._getInput(w);return j?j.value:this.min}_skipUpdate(){return!(!this._getInput(x.START)?._skipUIUpdate&&!this._getInput(x.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(w){const j=this._trackActive.nativeElement.style;j.left=w.left,j.right=w.right,j.transformOrigin=w.transformOrigin,j.transform=w.transform}_calcTickMarkTransform(w){return`translateX(${w*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(w){this._hasViewInitialized&&(this._updateThumbUI(w),this._updateTrackUI(w),this._updateOverlappingThumbUI(w))}_onTranslateXChangeBySideEffect(w,j){this._hasViewInitialized&&(w._updateThumbUIByValue(),j._updateThumbUIByValue())}_onValueChange(w){this._hasViewInitialized&&(this._updateValueIndicatorUI(w),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const w=this._getInput(x.END),j=this._getInput(x.START);w._updateThumbUIByValue(),j._updateThumbUIByValue(),w._updateStaticStyles(),j._updateStaticStyles(),w._updateMinMax(),j._updateMinMax(),w._updateWidthInactive(),j._updateWidthInactive()}else{const w=this._getInput(x.END);w&&w._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const w=this._getInput(x.START),j=this._getInput(x.END);return!(!w||!j)&&j.translateX-w.translateX<20}_updateOverlappingThumbClassNames(w){const j=w.getSibling(),W=this._getThumb(w.thumbPosition);this._getThumb(j.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),W._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(w){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(w))}_updateThumbUI(w){this._skipUpdate()||(this._getThumb(w.thumbPosition===x.END?x.END:x.START)._hostElement.style.transform=`translateX(${w.translateX}px)`)}_updateValueIndicatorUI(w){if(this._skipUpdate())return;const j=this.displayWith(w.value);if(this._hasViewInitialized?w._valuetext.set(j):w._hostElement.setAttribute("aria-valuetext",j),this.discrete){w.thumbPosition===x.START?this.startValueIndicatorText=j:this.endValueIndicatorText=j;const W=this._getThumb(w.thumbPosition);j.length<3?W._hostElement.classList.add("mdc-slider__thumb--short-value"):W._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const w=this._getInput(x.END),j=this._getInput(x.START);w&&this._updateValueIndicatorUI(w),j&&this._updateValueIndicatorUI(j)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const w=this._step&&this._step>0?this._step:1,W=(Math.floor(this.max/w)*w-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*W-6}_updateTrackUI(w){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(w):this._updateTrackUINonRange(w))}_updateTrackUIRange(w){const j=w.getSibling();if(!j||!this._cachedWidth)return;const W=Math.abs(j.translateX-w.translateX)/this._cachedWidth;this._setTrackActiveStyles(w._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-j.translateX+"px",transformOrigin:"right",transform:`scaleX(${W})`}:{left:`${j.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${W})`})}_updateTrackUINonRange(w){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-w.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${w.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const w=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(w):this._updateTickMarkUINonRange(w),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(w){const j=this._getValue();let W=Math.max(Math.round((j-this.min)/w),0),ne=Math.max(Math.round((this.max-j)/w),0);this._isRtl?W++:ne++,this._tickMarks=Array(W).fill(D.ACTIVE).concat(Array(ne).fill(D.INACTIVE))}_updateTickMarkUIRange(w){const j=this._getValue(),W=this._getValue(x.START),ne=Math.max(Math.round((W-this.min)/w),0),fe=Math.max(Math.round((j-W)/w)+1,0),ae=Math.max(Math.round((this.max-j)/w),0);this._tickMarks=Array(ne).fill(D.INACTIVE).concat(Array(fe).fill(D.ACTIVE),Array(ae).fill(D.INACTIVE))}_getInput(w){return w===x.END&&this._input?this._input:this._inputs?.length?w===x.START?this._inputs.first:this._inputs.last:void 0}_getThumb(w){return w===x.END?this._thumbs?.last:this._thumbs?.first}_setTransition(w){this._hasAnimation=!this._platform.IOS&&w&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(w,j){const W=j.width/2,Ae=w.clientY-(j.y+W);return Math.pow(w.clientX-(j.x+W),2)+Math.pow(Ae,2)<Math.pow(W,2)}static#e=this.\u0275fac=function(j){return new(j||ce)(f.rXU(f.SKi),f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(t.dS,8),f.rXU(v.$E,8),f.rXU(f.bc$,8))};static#t=this.\u0275cmp=f.VBU({type:ce,selectors:[["mat-slider"]],contentQueries:function(j,W,ne){if(1&j&&(f.wni(ne,L,5),f.wni(ne,l,4)),2&j){let fe;f.mGM(fe=f.lsd())&&(W._input=fe.first),f.mGM(fe=f.lsd())&&(W._inputs=fe)}},viewQuery:function(j,W){if(1&j&&(f.GBs(y,5),f.GBs($,5)),2&j){let ne;f.mGM(ne=f.lsd())&&(W._trackActive=ne.first),f.mGM(ne=f.lsd())&&(W._thumbs=ne)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(j,W){2&j&&(f.HbH("mat-"+(W.color||"primary")),f.AVh("mdc-slider--range",W._isRange)("mdc-slider--disabled",W.disabled)("mdc-slider--discrete",W.discrete)("mdc-slider--tick-marks",W.showTickMarks)("_mat-animation-noopable",W._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",f.L39],discrete:[2,"discrete","discrete",f.L39],showTickMarks:[2,"showTickMarks","showTickMarks",f.L39],min:[2,"min","min",f.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",f.L39],max:[2,"max","max",f.Udg],step:[2,"step","step",f.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[f.Jv_([{provide:A,useExisting:ce}]),f.GFd,f.aNF],ngContentSelectors:O,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(j,W){1&j&&(f.NAR(),f.SdG(0),f.j41(1,"div",2),f.nrm(2,"div",3),f.j41(3,"div",4),f.nrm(4,"div",5,0),f.k0s(),f.DNE(6,u,3,1,"div",6),f.k0s(),f.DNE(7,M,1,3,"mat-slider-visual-thumb",7),f.nrm(8,"mat-slider-visual-thumb",7)),2&j&&(f.R7$(6),f.vxM(W.showTickMarks?6:-1),f.R7$(),f.vxM(W._isRange?7:-1),f.R7$(),f.Y8G("discrete",W.discrete)("thumbPosition",2)("valueIndicatorText",W.endValueIndicatorText))},dependencies:[F],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape);height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color);border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color);height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape)}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color);color:var(--mdc-slider-label-label-text-color);width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color)}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font);font-size:var(--mdc-slider-label-label-text-size);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height);letter-spacing:var(--mdc-slider-label-label-text-tracking)}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation);background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color);border-radius:var(--mdc-slider-handle-shape)}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color)}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color)}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color)}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ce})();const K={provide:b.kq,useExisting:(0,f.Rfq)(()=>Q),multi:!0};let Q=(()=>{class ce{get value(){return(0,f.Udg)(this._hostElement.value,0)}set value(w){const j=(w=isNaN(w)?0:w)+"";this._hasSetInitialValue?this._isActive||this._setValue(j):this._initialValue=j}_setValue(w){this._hostElement.value=w,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(w){this._translateX=w}get min(){return(0,f.Udg)(this._hostElement.min,0)}set min(w){this._hostElement.min=w+"",this._cdr.detectChanges()}get max(){return(0,f.Udg)(this._hostElement.max,0)}set max(w){this._hostElement.max=w+"",this._cdr.detectChanges()}get step(){return(0,f.Udg)(this._hostElement.step,0)}set step(w){this._hostElement.step=w+"",this._cdr.detectChanges()}get disabled(){return(0,f.L39)(this._hostElement.disabled)}set disabled(w){this._hostElement.disabled=w,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(w){this._isFocused=w}constructor(w,j,W,ne){this._ngZone=w,this._elementRef=j,this._cdr=W,this._slider=ne,this.valueChange=new f.bkB,this.dragStart=new f.bkB,this.dragEnd=new f.bkB,this.thumbPosition=x.END,this._valuetext=(0,f.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new C.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,f.WQX)(n.OD),this._hostElement=j.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(w){if(!this.disabled&&0===w.button){if(this._platform.IOS){const j=this._slider._isCursorOnSliderThumb(w,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=j,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(w,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(w),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(w){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(w)},0)}_fixValue(w){const j=w.clientX-this._slider._cachedLeft,W=this._slider._cachedWidth,ne=0===this._slider.step?1:this._slider.step,fe=Math.floor((this._slider.max-this._slider.min)/ne),Me=Math.round((this._slider._isRtl?1-j/W:j/W)*fe)/fe*(this._slider.max-this._slider.min)+this._slider.min,Ve=Math.round(Me/ne)*ne;if(Ve===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(w,{withAnimation:this._slider._hasAnimation}));this.value=Ve,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(w,{withAnimation:this._slider._hasAnimation})}_onPointerMove(w){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(w)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(w){const j=this._tickMarkOffset;return Math.max(Math.min(w,this._slider._cachedWidth-this._tickMarkOffset),j)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(w){return w.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(w){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(w)}_updateThumbUIByPointerEvent(w,j){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(w)),this._updateThumbUI(j)}_updateThumbUI(w){this._slider._setTransition(!!w?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(w){(this._isControlInitialized||null!==w)&&(this.value=w)}registerOnChange(w){this._onChangeFn=w,this._isControlInitialized=!0}registerOnTouched(w){this._onTouchedFn=w}setDisabledState(w){this.disabled=w}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(j){return new(j||ce)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(A))};static#t=this.\u0275dir=f.FsC({type:ce,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(j,W){1&j&&f.bIt("change",function(){return W._onChange()})("input",function(){return W._onInput()})("blur",function(){return W._onBlur()})("focus",function(){return W._onFocus()}),2&j&&f.BMQ("aria-valuetext",W._valuetext())},inputs:{value:[2,"value","value",f.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[f.Jv_([K,{provide:L,useExisting:ce}]),f.GFd]})}return ce})(),se=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275mod=f.$C({type:ce});static#n=this.\u0275inj=f.G2t({imports:[v.yE,v.pZ]})}return ce})()},5416:(At,ue,a)=>{"use strict";a.d(ue,{UG:()=>Q,_T:()=>se});var t=a(3953),n=a(8834),f=a(5286),v=a(177),b=a(9969),C=a(6939),g=a(6860),S=a(8617),h=a(9327),y=a(7987),O=a(7605),m=a(6600);function E(ce,z){if(1&ce){const w=t.RV6();t.j41(0,"div",1)(1,"button",2),t.bIt("click",function(){t.eBV(w);const W=t.XpG();return t.Njj(W.action())}),t.EFF(2),t.k0s()()}if(2&ce){const w=t.XpG();t.R7$(2),t.SpI(" ",w.data.action," ")}}const u=["label"];function M(ce,z){}const x=Math.pow(2,31)-1;class D{constructor(z,w){this._overlayRef=w,this._afterDismissed=new f.B7,this._afterOpened=new f.B7,this._onAction=new f.B7,this._dismissedByAction=!1,this.containerInstance=z,z._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(z){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(z,x))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const A=new t.nKC("MatSnackBarData");class L{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let l=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275dir=t.FsC({type:ce,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return ce})(),$=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275dir=t.FsC({type:ce,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return ce})(),R=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275dir=t.FsC({type:ce,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return ce})(),F=(()=>{class ce{constructor(w,j){this.snackBarRef=w,this.data=j}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(j){return new(j||ce)(t.rXU(D),t.rXU(A))};static#t=this.\u0275cmp=t.VBU({type:ce,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(j,W){1&j&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.DNE(2,E,3,1,"div",1)),2&j&&(t.R7$(),t.SpI(" ",W.data.message,"\n"),t.R7$(),t.vxM(W.hasAction?2:-1))},dependencies:[n.$z,l,$,R],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ce})();const P={snackBarState:(0,b.hZ)("state",[(0,b.wk)("void, hidden",(0,b.iF)({transform:"scale(0.8)",opacity:0})),(0,b.wk)("visible",(0,b.iF)({transform:"scale(1)",opacity:1})),(0,b.kY)("* => visible",(0,b.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,b.kY)("* => void, * => hidden",(0,b.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,b.iF)({opacity:0})))])};let k=0,V=(()=>{class ce extends C.lb{constructor(w,j,W,ne,fe){super(),this._ngZone=w,this._elementRef=j,this._changeDetectorRef=W,this._platform=ne,this.snackBarConfig=fe,this._document=(0,t.WQX)(v.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new f.B7,this._onExit=new f.B7,this._onEnter=new f.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+k++,this.attachDomPortal=ae=>{this._assertNotAttached();const Ae=this._portalOutlet.attachDomPortal(ae);return this._afterPortalAttached(),Ae},this._live="assertive"!==fe.politeness||fe.announcementMessage?"off"===fe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(w){this._assertNotAttached();const j=this._portalOutlet.attachComponentPortal(w);return this._afterPortalAttached(),j}attachTemplatePortal(w){this._assertNotAttached();const j=this._portalOutlet.attachTemplatePortal(w);return this._afterPortalAttached(),j}onAnimationEnd(w){const{fromState:j,toState:W}=w;if(("void"===W&&"void"!==j||"hidden"===W)&&this._completeExit(),"visible"===W){const ne=this._onEnter;this._ngZone.run(()=>{ne.next(),ne.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const w=this._elementRef.nativeElement,j=this.snackBarConfig.panelClass;j&&(Array.isArray(j)?j.forEach(fe=>w.classList.add(fe)):w.classList.add(j)),this._exposeToModals();const W=this._label.nativeElement,ne="mdc-snackbar__label";W.classList.toggle(ne,!W.querySelector(`.${ne}`))}_exposeToModals(){const w=this._liveElementId,j=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let W=0;W<j.length;W++){const ne=j[W],fe=ne.getAttribute("aria-owns");this._trackedModals.add(ne),fe?-1===fe.indexOf(w)&&ne.setAttribute("aria-owns",fe+" "+w):ne.setAttribute("aria-owns",w)}}_clearFromModals(){this._trackedModals.forEach(w=>{const j=w.getAttribute("aria-owns");if(j){const W=j.replace(this._liveElementId,"").trim();W.length>0?w.setAttribute("aria-owns",W):w.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const w=this._elementRef.nativeElement.querySelector("[aria-hidden]"),j=this._elementRef.nativeElement.querySelector("[aria-live]");if(w&&j){let W=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&w.contains(document.activeElement)&&(W=document.activeElement),w.removeAttribute("aria-hidden"),j.appendChild(w),W?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(j){return new(j||ce)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(g.OD),t.rXU(L))};static#t=this.\u0275cmp=t.VBU({type:ce,selectors:[["mat-snack-bar-container"]],viewQuery:function(j,W){if(1&j&&(t.GBs(C.I3,7),t.GBs(u,7)),2&j){let ne;t.mGM(ne=t.lsd())&&(W._portalOutlet=ne.first),t.mGM(ne=t.lsd())&&(W._label=ne.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(j,W){1&j&&t.Kam("@state.done",function(fe){return W.onAnimationEnd(fe)}),2&j&&t.zvX("@state",W._animationState)},standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(j,W){1&j&&(t.j41(0,"div",1)(1,"div",2,0)(3,"div",3),t.DNE(4,M,0,0,"ng-template",4),t.k0s(),t.nrm(5,"div"),t.k0s()()),2&j&&(t.R7$(5),t.BMQ("aria-live",W._live)("role",W._role)("id",W._liveElementId))},dependencies:[C.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[P.snackBarState]}})}return ce})();const X=new t.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function K(){return new L}});let Q=(()=>{class ce{get _openedSnackBarRef(){const w=this._parentSnackBar;return w?w._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(w){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=w:this._snackBarRefAtThisLevel=w}constructor(w,j,W,ne,fe,ae){this._overlay=w,this._live=j,this._injector=W,this._breakpointObserver=ne,this._parentSnackBar=fe,this._defaultConfig=ae,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=F,this.snackBarContainerComponent=V,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(w,j){return this._attach(w,j)}openFromTemplate(w,j){return this._attach(w,j)}open(w,j="",W){const ne={...this._defaultConfig,...W};return ne.data={message:w,action:j},ne.announcementMessage===w&&(ne.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ne)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(w,j){const ne=t.zZn.create({parent:j&&j.viewContainerRef&&j.viewContainerRef.injector||this._injector,providers:[{provide:L,useValue:j}]}),fe=new C.A8(this.snackBarContainerComponent,j.viewContainerRef,ne),ae=w.attach(fe);return ae.instance.snackBarConfig=j,ae.instance}_attach(w,j){const W={...new L,...this._defaultConfig,...j},ne=this._createOverlay(W),fe=this._attachSnackBarContainer(ne,W),ae=new D(fe,ne);if(w instanceof t.C4Q){const Ae=new C.VA(w,null,{$implicit:W.data,snackBarRef:ae});ae.instance=fe.attachTemplatePortal(Ae)}else{const Ae=this._createInjector(W,ae),Me=new C.A8(w,void 0,Ae),Ve=fe.attachComponentPortal(Me);ae.instance=Ve.instance}return this._breakpointObserver.observe(h.Rp.HandsetPortrait).pipe((0,O.Q)(ne.detachments())).subscribe(Ae=>{ne.overlayElement.classList.toggle(this.handsetCssClass,Ae.matches)}),W.announcementMessage&&fe._onAnnounce.subscribe(()=>{this._live.announce(W.announcementMessage,W.politeness)}),this._animateSnackBar(ae,W),this._openedSnackBarRef=ae,this._openedSnackBarRef}_animateSnackBar(w,j){w.afterDismissed().subscribe(()=>{this._openedSnackBarRef==w&&(this._openedSnackBarRef=null),j.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{w.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):w.containerInstance.enter(),j.duration&&j.duration>0&&w.afterOpened().subscribe(()=>w._dismissAfter(j.duration))}_createOverlay(w){const j=new y.rR;j.direction=w.direction;let W=this._overlay.position().global();const ne="rtl"===w.direction,fe="left"===w.horizontalPosition||"start"===w.horizontalPosition&&!ne||"end"===w.horizontalPosition&&ne,ae=!fe&&"center"!==w.horizontalPosition;return fe?W.left("0"):ae?W.right("0"):W.centerHorizontally(),"top"===w.verticalPosition?W.top("0"):W.bottom("0"),j.positionStrategy=W,this._overlay.create(j)}_createInjector(w,j){return t.zZn.create({parent:w&&w.viewContainerRef&&w.viewContainerRef.injector||this._injector,providers:[{provide:D,useValue:j},{provide:A,useValue:w.data}]})}static#e=this.\u0275fac=function(j){return new(j||ce)(t.KVO(y.hJ),t.KVO(S.Ai),t.KVO(t.zZn),t.KVO(h.QP),t.KVO(ce,12),t.KVO(X))};static#t=this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),se=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275mod=t.$C({type:ce});static#n=this.\u0275inj=t.G2t({providers:[Q],imports:[y.z_,C.jc,n.Hl,m.yE,F,m.yE]})}return ce})()},2042:(At,ue,a)=>{"use strict";a.d(ue,{B4:()=>D,NQ:()=>k,aE:()=>P});var t=a(3953),n=a(8617),f=a(7336),v=a(6607),b=a(5286),C=a(4670),g=a(9969),S=a(6600);const h=["mat-sort-header",""],y=["*"];function O(V,K){if(1&V){const X=t.RV6();t.j41(0,"div",2),t.bIt("@arrowPosition.start",function(){t.eBV(X);const de=t.XpG();return t.Njj(de._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){t.eBV(X);const de=t.XpG();return t.Njj(de._disableViewStateAnimation=!1)}),t.nrm(1,"div",3),t.j41(2,"div",4),t.nrm(3,"div",5)(4,"div",6)(5,"div",7),t.k0s()()}if(2&V){const X=t.XpG();t.Y8G("@arrowOpacity",X._getArrowViewState())("@arrowPosition",X._getArrowViewState())("@allowChildren",X._getArrowDirectionState()),t.R7$(2),t.Y8G("@indicator",X._getArrowDirectionState()),t.R7$(),t.Y8G("@leftPointer",X._getArrowDirectionState()),t.R7$(),t.Y8G("@rightPointer",X._getArrowDirectionState())}}const x=new t.nKC("MAT_SORT_DEFAULT_OPTIONS");let D=(()=>{class V{get direction(){return this._direction}set direction(X){this._direction=X}constructor(X){this._defaultOptions=X,this._initializedStream=new v.m(1),this.sortables=new Map,this._stateChanges=new b.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new t.bkB,this.initialized=this._initializedStream}register(X){this.sortables.set(X.id,X)}deregister(X){this.sortables.delete(X.id)}sort(X){this.active!=X.id?(this.active=X.id,this.direction=X.start?X.start:this.start):this.direction=this.getNextSortDirection(X),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(X){if(!X)return"";let de=function A(V,K){let X=["asc","desc"];return"desc"==V&&X.reverse(),K||X.push(""),X}(X.start||this.start,X?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),se=de.indexOf(this.direction)+1;return se>=de.length&&(se=0),de[se]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(Q){return new(Q||V)(t.rXU(x,8))};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",t.L39],disabled:[2,"matSortDisabled","disabled",t.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[t.GFd,t.OA$]})}return V})();const L=S.ed.ENTERING+" "+S.r5.STANDARD_CURVE,l={indicator:(0,g.hZ)("indicator",[(0,g.wk)("active-asc, asc",(0,g.iF)({transform:"translateY(0px)"})),(0,g.wk)("active-desc, desc",(0,g.iF)({transform:"translateY(10px)"})),(0,g.kY)("active-asc <=> active-desc",(0,g.i0)(L))]),leftPointer:(0,g.hZ)("leftPointer",[(0,g.wk)("active-asc, asc",(0,g.iF)({transform:"rotate(-45deg)"})),(0,g.wk)("active-desc, desc",(0,g.iF)({transform:"rotate(45deg)"})),(0,g.kY)("active-asc <=> active-desc",(0,g.i0)(L))]),rightPointer:(0,g.hZ)("rightPointer",[(0,g.wk)("active-asc, asc",(0,g.iF)({transform:"rotate(45deg)"})),(0,g.wk)("active-desc, desc",(0,g.iF)({transform:"rotate(-45deg)"})),(0,g.kY)("active-asc <=> active-desc",(0,g.i0)(L))]),arrowOpacity:(0,g.hZ)("arrowOpacity",[(0,g.wk)("desc-to-active, asc-to-active, active",(0,g.iF)({opacity:1})),(0,g.wk)("desc-to-hint, asc-to-hint, hint",(0,g.iF)({opacity:.54})),(0,g.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,g.iF)({opacity:0})),(0,g.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,g.i0)("0ms")),(0,g.kY)("* <=> *",(0,g.i0)(L))]),arrowPosition:(0,g.hZ)("arrowPosition",[(0,g.kY)("* => desc-to-hint, * => desc-to-active",(0,g.i0)(L,(0,g.i7)([(0,g.iF)({transform:"translateY(-25%)"}),(0,g.iF)({transform:"translateY(0)"})]))),(0,g.kY)("* => hint-to-desc, * => active-to-desc",(0,g.i0)(L,(0,g.i7)([(0,g.iF)({transform:"translateY(0)"}),(0,g.iF)({transform:"translateY(25%)"})]))),(0,g.kY)("* => asc-to-hint, * => asc-to-active",(0,g.i0)(L,(0,g.i7)([(0,g.iF)({transform:"translateY(25%)"}),(0,g.iF)({transform:"translateY(0)"})]))),(0,g.kY)("* => hint-to-asc, * => active-to-asc",(0,g.i0)(L,(0,g.i7)([(0,g.iF)({transform:"translateY(0)"}),(0,g.iF)({transform:"translateY(-25%)"})]))),(0,g.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,g.iF)({transform:"translateY(0)"})),(0,g.wk)("hint-to-desc, active-to-desc, desc",(0,g.iF)({transform:"translateY(-25%)"})),(0,g.wk)("hint-to-asc, active-to-asc, asc",(0,g.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,g.hZ)("allowChildren",[(0,g.kY)("* <=> *",[(0,g.P)("@*",(0,g.MA)(),{optional:!0})])])};let $=(()=>{class V{constructor(){this.changes=new b.B7}static#e=this.\u0275fac=function(Q){return new(Q||V)};static#t=this.\u0275prov=t.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})();const F={provide:$,deps:[[new t.Xx1,new t.kdw,$]],useFactory:function R(V){return V||new $}};let P=(()=>{class V{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(X){this._updateSortActionDescription(X)}constructor(X,Q,de,se,ce,z,w,j){this._intl=X,this._changeDetectorRef=Q,this._sort=de,this._columnDef=se,this._focusMonitor=ce,this._elementRef=z,this._ariaDescriber=w,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",j?.arrowPosition&&(this.arrowPosition=j?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(X=>{const Q=!!X;Q!==this._showIndicatorHint&&(this._setIndicatorHintVisible(Q),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(X){this._isDisabled()&&X||(this._showIndicatorHint=X,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(X){this._viewState=X||{},this._disableViewStateAnimation&&(this._viewState={toState:X.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(X){!this._isDisabled()&&(X.keyCode===f.t6||X.keyCode===f.Fm)&&(X.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const X=this._viewState.fromState;return(X?`${X}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(X){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,X)),this._sortActionDescription=X}_handleStateChanges(){this._rerenderSubscription=(0,C.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Q){return new(Q||V)(t.rXU($),t.rXU(t.gRc),t.rXU(D,8),t.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),t.rXU(n.FN),t.rXU(t.aKT),t.rXU(n.vr,8),t.rXU(x,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Q,de){1&Q&&t.bIt("click",function(){return de._handleClick()})("keydown",function(ce){return de._handleKeydown(ce)})("mouseenter",function(){return de._setIndicatorHintVisible(!0)})("mouseleave",function(){return de._setIndicatorHintVisible(!1)}),2&Q&&(t.BMQ("aria-sort",de._getAriaSortAttribute()),t.AVh("mat-sort-header-disabled",de._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",t.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",t.L39]},exportAs:["matSortHeader"],standalone:!0,features:[t.GFd,t.aNF],attrs:h,ngContentSelectors:y,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Q,de){1&Q&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s(),t.DNE(3,O,6,6,"div",2),t.k0s()),2&Q&&(t.AVh("mat-sort-header-sorted",de._isSorted())("mat-sort-header-position-before","before"===de.arrowPosition),t.BMQ("tabindex",de._isDisabled()?null:0)("role",de._isDisabled()?null:"button"),t.R7$(3),t.vxM(de._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[l.indicator,l.leftPointer,l.rightPointer,l.arrowOpacity,l.arrowPosition,l.allowChildren]},changeDetection:0})}return V})(),k=(()=>{class V{static#e=this.\u0275fac=function(Q){return new(Q||V)};static#t=this.\u0275mod=t.$C({type:V});static#n=this.\u0275inj=t.G2t({providers:[F],imports:[S.yE]})}return V})()},4823:(At,ue,a)=>{"use strict";a.d(ue,{oV:()=>de,uc:()=>z});var t=a(7605),n=a(4085),f=a(7336),v=a(3953),b=a(177),C=a(6860),g=a(8617),S=a(8203),h=a(7987),y=a(494),O=a(6939),m=a(5286),u=(a(9969),a(6600));const M=["tooltip"],A=new v.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const w=(0,v.WQX)(h.hJ);return()=>w.scrollStrategies.reposition({scrollThrottle:20})}}),l={provide:A,deps:[h.hJ],useFactory:function L(w){return()=>w.scrollStrategies.reposition({scrollThrottle:20})}},R=new v.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function $(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),P="tooltip-panel",k=(0,C.BQ)({passive:!0});let de=(()=>{class w{get position(){return this._position}set position(W){W!==this._position&&(this._position=W,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(W){this._positionAtOrigin=(0,n.he)(W),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(W){this._disabled=(0,n.he)(W),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(W){this._showDelay=(0,n.OE)(W)}get hideDelay(){return this._hideDelay}set hideDelay(W){this._hideDelay=(0,n.OE)(W),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(W){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=W?String(W).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(W){this._tooltipClass=W,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(W,ne,fe,ae,Ae,Me,Ve,We,lt,nt,$e,Ie){this._overlay=W,this._elementRef=ne,this._scrollDispatcher=fe,this._viewContainerRef=ae,this._ngZone=Ae,this._platform=Me,this._ariaDescriber=Ve,this._focusMonitor=We,this._dir=nt,this._defaultOptions=$e,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=se,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new m.B7,this._injector=(0,v.WQX)(v.zZn),this._scrollStrategy=lt,this._document=Ie,$e&&(this._showDelay=$e.showDelay,this._hideDelay=$e.hideDelay,$e.position&&(this.position=$e.position),$e.positionAtOrigin&&(this.positionAtOrigin=$e.positionAtOrigin),$e.touchGestures&&(this.touchGestures=$e.touchGestures)),nt.change.pipe((0,t.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,t.Q)(this._destroyed)).subscribe(W=>{W?"keyboard"===W&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const W=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ne,fe])=>{W.removeEventListener(ne,fe,k)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(W,this.message,"tooltip"),this._focusMonitor.stopMonitoring(W)}show(W=this.showDelay,ne){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const fe=this._createOverlay(ne);this._detach(),this._portal=this._portal||new O.A8(this._tooltipComponent,this._viewContainerRef);const ae=this._tooltipInstance=fe.attach(this._portal).instance;ae._triggerElement=this._elementRef.nativeElement,ae._mouseLeaveHideDelay=this._hideDelay,ae.afterHidden().pipe((0,t.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),ae.show(W)}hide(W=this.hideDelay){const ne=this._tooltipInstance;ne&&(ne.isVisible()?ne.hide(W):(ne._cancelPendingAnimations(),this._detach()))}toggle(W){this._isTooltipVisible()?this.hide():this.show(void 0,W)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(W){if(this._overlayRef){const ae=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!W)&&ae._origin instanceof v.aKT)return this._overlayRef;this._detach()}const ne=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),fe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&W||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ne);return fe.positionChanges.pipe((0,t.Q)(this._destroyed)).subscribe(ae=>{this._updateCurrentPositionClass(ae.connectionPair),this._tooltipInstance&&ae.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:fe,panelClass:`${this._cssClassPrefix}-${P}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,t.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,t.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,t.Q)(this._destroyed)).subscribe(ae=>{this._isTooltipVisible()&&ae.keyCode===f._f&&!(0,f.rp)(ae)&&(ae.preventDefault(),ae.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(W){const ne=W.getConfig().positionStrategy,fe=this._getOrigin(),ae=this._getOverlayPosition();ne.withPositions([this._addOffset({...fe.main,...ae.main}),this._addOffset({...fe.fallback,...ae.fallback})])}_addOffset(W){const fe=!this._dir||"ltr"==this._dir.value;return"top"===W.originY?W.offsetY=-8:"bottom"===W.originY?W.offsetY=8:"start"===W.originX?W.offsetX=fe?-8:8:"end"===W.originX&&(W.offsetX=fe?8:-8),W}_getOrigin(){const W=!this._dir||"ltr"==this._dir.value,ne=this.position;let fe;"above"==ne||"below"==ne?fe={originX:"center",originY:"above"==ne?"top":"bottom"}:"before"==ne||"left"==ne&&W||"right"==ne&&!W?fe={originX:"start",originY:"center"}:("after"==ne||"right"==ne&&W||"left"==ne&&!W)&&(fe={originX:"end",originY:"center"});const{x:ae,y:Ae}=this._invertPosition(fe.originX,fe.originY);return{main:fe,fallback:{originX:ae,originY:Ae}}}_getOverlayPosition(){const W=!this._dir||"ltr"==this._dir.value,ne=this.position;let fe;"above"==ne?fe={overlayX:"center",overlayY:"bottom"}:"below"==ne?fe={overlayX:"center",overlayY:"top"}:"before"==ne||"left"==ne&&W||"right"==ne&&!W?fe={overlayX:"end",overlayY:"center"}:("after"==ne||"right"==ne&&W||"left"==ne&&!W)&&(fe={overlayX:"start",overlayY:"center"});const{x:ae,y:Ae}=this._invertPosition(fe.overlayX,fe.overlayY);return{main:fe,fallback:{overlayX:ae,overlayY:Ae}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,v.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(W){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=W,this._tooltipInstance._markForCheck())}_invertPosition(W,ne){return"above"===this.position||"below"===this.position?"top"===ne?ne="bottom":"bottom"===ne&&(ne="top"):"end"===W?W="start":"start"===W&&(W="end"),{x:W,y:ne}}_updateCurrentPositionClass(W){const{overlayY:ne,originX:fe,originY:ae}=W;let Ae;if(Ae="center"===ne?this._dir&&"rtl"===this._dir.value?"end"===fe?"left":"right":"start"===fe?"left":"right":"bottom"===ne&&"top"===ae?"above":"below",Ae!==this._currentPosition){const Me=this._overlayRef;if(Me){const Ve=`${this._cssClassPrefix}-${P}-`;Me.removePanelClass(Ve+this._currentPosition),Me.addPanelClass(Ve+Ae)}this._currentPosition=Ae}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",W=>{let ne;this._setupPointerExitEventsIfNeeded(),void 0!==W.x&&void 0!==W.y&&(ne=W),this.show(void 0,ne)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",W=>{const ne=W.targetTouches?.[0],fe=ne?{x:ne.clientX,y:ne.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,fe),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const W=[];if(this._platformSupportsMouseEvents())W.push(["mouseleave",ne=>{const fe=ne.relatedTarget;(!fe||!this._overlayRef?.overlayElement.contains(fe))&&this.hide()}],["wheel",ne=>this._wheelListener(ne)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ne=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};W.push(["touchend",ne],["touchcancel",ne])}this._addListeners(W),this._passiveListeners.push(...W)}_addListeners(W){W.forEach(([ne,fe])=>{this._elementRef.nativeElement.addEventListener(ne,fe,k)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(W){if(this._isTooltipVisible()){const ne=this._document.elementFromPoint(W.clientX,W.clientY),fe=this._elementRef.nativeElement;ne!==fe&&!fe.contains(ne)&&this.hide()}}_disableNativeGesturesIfNecessary(){const W=this.touchGestures;if("off"!==W){const ne=this._elementRef.nativeElement,fe=ne.style;("on"===W||"INPUT"!==ne.nodeName&&"TEXTAREA"!==ne.nodeName)&&(fe.userSelect=fe.msUserSelect=fe.webkitUserSelect=fe.MozUserSelect="none"),("on"===W||!ne.draggable)&&(fe.webkitUserDrag="none"),fe.touchAction="none",fe.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(ne){return new(ne||w)(v.rXU(h.hJ),v.rXU(v.aKT),v.rXU(y.R),v.rXU(v.c1b),v.rXU(v.SKi),v.rXU(C.OD),v.rXU(g.vr),v.rXU(g.FN),v.rXU(A),v.rXU(S.dS),v.rXU(R,8),v.rXU(b.qQ))};static#t=this.\u0275dir=v.FsC({type:w,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(ne,fe){2&ne&&v.AVh("mat-mdc-tooltip-disabled",fe.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return w})(),se=(()=>{class w{constructor(W,ne,fe){this._changeDetectorRef=W,this._elementRef=ne,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new m.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===fe}show(W){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},W)}hide(W){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},W)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:W}){(!W||!this._triggerElement.contains(W))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const W=this._elementRef.nativeElement.getBoundingClientRect();return W.height>24&&W.width>=200}_handleAnimationEnd({animationName:W}){(W===this._showAnimation||W===this._hideAnimation)&&this._finalizeAnimation(W===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(W){W?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(W){const ne=this._tooltip.nativeElement,fe=this._showAnimation,ae=this._hideAnimation;if(ne.classList.remove(W?ae:fe),ne.classList.add(W?fe:ae),this._isVisible!==W&&(this._isVisible=W,this._changeDetectorRef.markForCheck()),W&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ae=getComputedStyle(ne);("0s"===Ae.getPropertyValue("animation-duration")||"none"===Ae.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}W&&this._onShow(),this._animationsDisabled&&(ne.classList.add("_mat-animation-noopable"),this._finalizeAnimation(W))}static#e=this.\u0275fac=function(ne){return new(ne||w)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.bc$,8))};static#t=this.\u0275cmp=v.VBU({type:w,selectors:[["mat-tooltip-component"]],viewQuery:function(ne,fe){if(1&ne&&v.GBs(M,7),2&ne){let ae;v.mGM(ae=v.lsd())&&(fe._tooltip=ae.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ne,fe){1&ne&&v.bIt("mouseleave",function(Ae){return fe._handleMouseLeave(Ae)}),2&ne&&v.xc7("zoom",fe.isVisible()?1:null)},standalone:!0,features:[v.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(ne,fe){if(1&ne){const ae=v.RV6();v.j41(0,"div",1,0),v.bIt("animationend",function(Me){return v.eBV(ae),v.Njj(fe._handleAnimationEnd(Me))}),v.j41(2,"div",2),v.EFF(3),v.k0s()()}2&ne&&(v.AVh("mdc-tooltip--multiline",fe._isMultiline),v.Y8G("ngClass",fe.tooltipClass),v.R7$(3),v.JRh(fe.message))},dependencies:[b.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return w})(),z=(()=>{class w{static#e=this.\u0275fac=function(ne){return new(ne||w)};static#t=this.\u0275mod=v.$C({type:w});static#n=this.\u0275inj=v.G2t({providers:[l],imports:[g.Pd,b.MD,h.z_,u.yE,u.yE,y.Gj]})}return w})()},345:(At,ue,a)=>{"use strict";a.d(ue,{B7:()=>k,Bb:()=>Qe,hE:()=>Lt,sG:()=>Ie,up:()=>ht});var t=a(177),n=a(3953);class f extends t.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends f{static makeCurrent(){(0,t.ZD)(new v)}onAndCancel(je,Te,Ye){return je.addEventListener(Te,Ye),()=>{je.removeEventListener(Te,Ye)}}dispatchEvent(je,Te){je.dispatchEvent(Te)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,Te){return(Te=Te||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,Te){return"window"===Te?window:"document"===Te?je:"body"===Te?je.body:null}getBaseHref(je){const Te=function C(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==Te?null:function g(Pe){return new URL(Pe,document.baseURI).pathname}(Te)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,t._b)(document.cookie,je)}}let b=null,h=(()=>{class Pe{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();const y=new n.nKC("");let O=(()=>{class Pe{constructor(Te,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,Te.forEach(Tt=>{Tt.manager=this}),this._plugins=Te.slice().reverse()}addEventListener(Te,Ye,Tt){return this._findPluginFor(Ye).addEventListener(Te,Ye,Tt)}getZone(){return this._zone}_findPluginFor(Te){let Ye=this._eventNameToPlugin.get(Te);if(Ye)return Ye;if(Ye=this._plugins.find(Ut=>Ut.supports(Te)),!Ye)throw new n.wOt(5101,!1);return this._eventNameToPlugin.set(Te,Ye),Ye}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(y),n.KVO(n.SKi))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();class m{constructor(je){this._doc=je}}const E="ng-app-id";let u=(()=>{class Pe{constructor(Te,Ye,Tt,Ut={}){this.doc=Te,this.appId=Ye,this.nonce=Tt,this.platformId=Ut,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.Vy)(Ut),this.resetHostNodes()}addStyles(Te){for(const Ye of Te)1===this.changeUsageCount(Ye,1)&&this.onStyleAdded(Ye)}removeStyles(Te){for(const Ye of Te)this.changeUsageCount(Ye,-1)<=0&&this.onStyleRemoved(Ye)}ngOnDestroy(){const Te=this.styleNodesInDOM;Te&&(Te.forEach(Ye=>Ye.remove()),Te.clear());for(const Ye of this.getAllStyles())this.onStyleRemoved(Ye);this.resetHostNodes()}addHost(Te){this.hostNodes.add(Te);for(const Ye of this.getAllStyles())this.addStyleToHost(Te,Ye)}removeHost(Te){this.hostNodes.delete(Te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Te){for(const Ye of this.hostNodes)this.addStyleToHost(Ye,Te)}onStyleRemoved(Te){const Ye=this.styleRef;Ye.get(Te)?.elements?.forEach(Tt=>Tt.remove()),Ye.delete(Te)}collectServerRenderedStyles(){const Te=this.doc.head?.querySelectorAll(`style[${E}="${this.appId}"]`);if(Te?.length){const Ye=new Map;return Te.forEach(Tt=>{null!=Tt.textContent&&Ye.set(Tt.textContent,Tt)}),Ye}return null}changeUsageCount(Te,Ye){const Tt=this.styleRef;if(Tt.has(Te)){const Ut=Tt.get(Te);return Ut.usage+=Ye,Ut.usage}return Tt.set(Te,{usage:Ye,elements:[]}),Ye}getStyleElement(Te,Ye){const Tt=this.styleNodesInDOM,Ut=Tt?.get(Ye);if(Ut?.parentNode===Te)return Tt.delete(Ye),Ut.removeAttribute(E),Ut;{const Ke=this.doc.createElement("style");return this.nonce&&Ke.setAttribute("nonce",this.nonce),Ke.textContent=Ye,this.platformIsServer&&Ke.setAttribute(E,this.appId),Te.appendChild(Ke),Ke}}addStyleToHost(Te,Ye){const Tt=this.getStyleElement(Te,Ye),Ut=this.styleRef,Ke=Ut.get(Ye)?.elements;Ke?Ke.push(Tt):Ut.set(Ye,{elements:[Tt],usage:1})}resetHostNodes(){const Te=this.hostNodes;Te.clear(),Te.add(this.doc.head)}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(t.qQ),n.KVO(n.sZ2),n.KVO(n.BIS,8),n.KVO(n.Agw))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();const M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},x=/%COMP%/g,D="%COMP%",A=`_nghost-${D}`,L=`_ngcontent-${D}`,$=new n.nKC("",{providedIn:"root",factory:()=>!0});function P(Pe,je){return je.map(Te=>Te.replace(x,Pe))}let k=(()=>{class Pe{constructor(Te,Ye,Tt,Ut,Ke,Fe,Ue,we=null){this.eventManager=Te,this.sharedStylesHost=Ye,this.appId=Tt,this.removeStylesOnCompDestroy=Ut,this.doc=Ke,this.platformId=Fe,this.ngZone=Ue,this.nonce=we,this.rendererByCompId=new Map,this.platformIsServer=(0,t.Vy)(Fe),this.defaultRenderer=new V(Te,Ke,Ue,this.platformIsServer)}createRenderer(Te,Ye){if(!Te||!Ye)return this.defaultRenderer;this.platformIsServer&&Ye.encapsulation===n.gXe.ShadowDom&&(Ye={...Ye,encapsulation:n.gXe.Emulated});const Tt=this.getOrCreateRenderer(Te,Ye);return Tt instanceof ce?Tt.applyToHost(Te):Tt instanceof se&&Tt.applyStyles(),Tt}getOrCreateRenderer(Te,Ye){const Tt=this.rendererByCompId;let Ut=Tt.get(Ye.id);if(!Ut){const Ke=this.doc,Fe=this.ngZone,Ue=this.eventManager,we=this.sharedStylesHost,rt=this.removeStylesOnCompDestroy,vt=this.platformIsServer;switch(Ye.encapsulation){case n.gXe.Emulated:Ut=new ce(Ue,we,Ye,this.appId,rt,Ke,Fe,vt);break;case n.gXe.ShadowDom:return new de(Ue,we,Te,Ye,Ke,Fe,this.nonce,vt);default:Ut=new se(Ue,we,Ye,rt,Ke,Fe,vt)}Tt.set(Ye.id,Ut)}return Ut}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(O),n.KVO(u),n.KVO(n.sZ2),n.KVO($),n.KVO(t.qQ),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(n.BIS))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();class V{constructor(je,Te,Ye,Tt){this.eventManager=je,this.doc=Te,this.ngZone=Ye,this.platformIsServer=Tt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(je,Te){return Te?this.doc.createElementNS(M[Te]||Te,je):this.doc.createElement(je)}createComment(je){return this.doc.createComment(je)}createText(je){return this.doc.createTextNode(je)}appendChild(je,Te){(Q(je)?je.content:je).appendChild(Te)}insertBefore(je,Te,Ye){je&&(Q(je)?je.content:je).insertBefore(Te,Ye)}removeChild(je,Te){je&&je.removeChild(Te)}selectRootElement(je,Te){let Ye="string"==typeof je?this.doc.querySelector(je):je;if(!Ye)throw new n.wOt(-5104,!1);return Te||(Ye.textContent=""),Ye}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,Te,Ye,Tt){if(Tt){Te=Tt+":"+Te;const Ut=M[Tt];Ut?je.setAttributeNS(Ut,Te,Ye):je.setAttribute(Te,Ye)}else je.setAttribute(Te,Ye)}removeAttribute(je,Te,Ye){if(Ye){const Tt=M[Ye];Tt?je.removeAttributeNS(Tt,Te):je.removeAttribute(`${Ye}:${Te}`)}else je.removeAttribute(Te)}addClass(je,Te){je.classList.add(Te)}removeClass(je,Te){je.classList.remove(Te)}setStyle(je,Te,Ye,Tt){Tt&(n.czy.DashCase|n.czy.Important)?je.style.setProperty(Te,Ye,Tt&n.czy.Important?"important":""):je.style[Te]=Ye}removeStyle(je,Te,Ye){Ye&n.czy.DashCase?je.style.removeProperty(Te):je.style[Te]=""}setProperty(je,Te,Ye){null!=je&&(je[Te]=Ye)}setValue(je,Te){je.nodeValue=Te}listen(je,Te,Ye){if("string"==typeof je&&!(je=(0,t.QT)().getGlobalEventTarget(this.doc,je)))throw new Error(`Unsupported event target ${je} for event ${Te}`);return this.eventManager.addEventListener(je,Te,this.decoratePreventDefault(Ye))}decoratePreventDefault(je){return Te=>{if("__ngUnwrap__"===Te)return je;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>je(Te)):je(Te))&&Te.preventDefault()}}}function Q(Pe){return"TEMPLATE"===Pe.tagName&&void 0!==Pe.content}class de extends V{constructor(je,Te,Ye,Tt,Ut,Ke,Fe,Ue){super(je,Ut,Ke,Ue),this.sharedStylesHost=Te,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const we=P(Tt.id,Tt.styles);for(const rt of we){const vt=document.createElement("style");Fe&&vt.setAttribute("nonce",Fe),vt.textContent=rt,this.shadowRoot.appendChild(vt)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}appendChild(je,Te){return super.appendChild(this.nodeOrShadowRoot(je),Te)}insertBefore(je,Te,Ye){return super.insertBefore(this.nodeOrShadowRoot(je),Te,Ye)}removeChild(je,Te){return super.removeChild(this.nodeOrShadowRoot(je),Te)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class se extends V{constructor(je,Te,Ye,Tt,Ut,Ke,Fe,Ue){super(je,Ut,Ke,Fe),this.sharedStylesHost=Te,this.removeStylesOnCompDestroy=Tt,this.styles=Ue?P(Ue,Ye.styles):Ye.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ce extends se{constructor(je,Te,Ye,Tt,Ut,Ke,Fe,Ue){const we=Tt+"-"+Ye.id;super(je,Te,Ye,Ut,Ke,Fe,Ue,we),this.contentAttr=function R(Pe){return L.replace(x,Pe)}(we),this.hostAttr=function F(Pe){return A.replace(x,Pe)}(we)}applyToHost(je){this.applyStyles(),this.setAttribute(je,this.hostAttr,"")}createElement(je,Te){const Ye=super.createElement(je,Te);return super.setAttribute(Ye,this.contentAttr,""),Ye}}let z=(()=>{class Pe extends m{constructor(Te){super(Te)}supports(Te){return!0}addEventListener(Te,Ye,Tt){return Te.addEventListener(Ye,Tt,!1),()=>this.removeEventListener(Te,Ye,Tt)}removeEventListener(Te,Ye,Tt){return Te.removeEventListener(Ye,Tt)}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})(),w=(()=>{class Pe extends m{constructor(Te){super(Te),this.delegate=(0,n.WQX)(n.zAP,{optional:!0})}supports(Te){return!!this.delegate&&this.delegate.supports(Te)}addEventListener(Te,Ye,Tt){return this.delegate.addEventListener(Te,Ye,Tt)}removeEventListener(Te,Ye,Tt){return this.delegate.removeEventListener(Te,Ye,Tt)}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();const j=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let fe=(()=>{class Pe extends m{constructor(Te){super(Te)}supports(Te){return null!=Pe.parseEventName(Te)}addEventListener(Te,Ye,Tt){const Ut=Pe.parseEventName(Ye),Ke=Pe.eventCallback(Ut.fullKey,Tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.QT)().onAndCancel(Te,Ut.domEventName,Ke))}static parseEventName(Te){const Ye=Te.toLowerCase().split("."),Tt=Ye.shift();if(0===Ye.length||"keydown"!==Tt&&"keyup"!==Tt)return null;const Ut=Pe._normalizeKey(Ye.pop());let Ke="",Fe=Ye.indexOf("code");if(Fe>-1&&(Ye.splice(Fe,1),Ke="code."),j.forEach(we=>{const rt=Ye.indexOf(we);rt>-1&&(Ye.splice(rt,1),Ke+=we+".")}),Ke+=Ut,0!=Ye.length||0===Ut.length)return null;const Ue={};return Ue.domEventName=Tt,Ue.fullKey=Ke,Ue}static matchEventFullKeyCode(Te,Ye){let Tt=W[Te.key]||Te.key,Ut="";return Ye.indexOf("code.")>-1&&(Tt=Te.code,Ut="code."),!(null==Tt||!Tt)&&(Tt=Tt.toLowerCase()," "===Tt?Tt="space":"."===Tt&&(Tt="dot"),j.forEach(Ke=>{Ke!==Tt&&(0,ne[Ke])(Te)&&(Ut+=Ke+".")}),Ut+=Tt,Ut===Ye)}static eventCallback(Te,Ye,Tt){return Ut=>{Pe.matchEventFullKeyCode(Ut,Te)&&Tt.runGuarded(()=>Ye(Ut))}}static _normalizeKey(Te){return"esc"===Te?"escape":Te}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();const Ie=(0,n.oH4)(n.fpN,"browser",[{provide:n.Agw,useValue:t.AJ},{provide:n.PLl,useValue:function We(){v.makeCurrent()},multi:!0},{provide:t.qQ,useFactory:function nt(){return(0,n.TL$)(document),document},deps:[]}]),me=new n.nKC(""),De=[{provide:n.e01,useClass:class S{addToWindow(je){n.JZv.getAngularTestability=(Ye,Tt=!0)=>{const Ut=je.findTestabilityInTree(Ye,Tt);if(null==Ut)throw new n.wOt(5103,!1);return Ut},n.JZv.getAllAngularTestabilities=()=>je.getAllTestabilities(),n.JZv.getAllAngularRootElements=()=>je.getAllRootElements(),n.JZv.frameworkStabilizers||(n.JZv.frameworkStabilizers=[]),n.JZv.frameworkStabilizers.push(Ye=>{const Tt=n.JZv.getAllAngularTestabilities();let Ut=Tt.length;const Ke=function(){Ut--,0==Ut&&Ye()};Tt.forEach(Fe=>{Fe.whenStable(Ke)})})}findTestabilityInTree(je,Te,Ye){return null==Te?null:je.getTestability(Te)??(Ye?(0,t.QT)().isShadowRoot(Te)?this.findTestabilityInTree(je,Te.host,!0):this.findTestabilityInTree(je,Te.parentElement,!0):null)}},deps:[]},{provide:n.WHO,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]},{provide:n.NYb,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]}],ke=[{provide:n.H8p,useValue:"root"},{provide:n.zcH,useFactory:function lt(){return new n.zcH},deps:[]},{provide:y,useClass:z,multi:!0,deps:[t.qQ,n.SKi,n.Agw]},{provide:y,useClass:fe,multi:!0,deps:[t.qQ]},{provide:y,useClass:w,multi:!0},k,u,O,{provide:n._9s,useExisting:k},{provide:t.N0,useClass:h,deps:[]},[]];let Qe=(()=>{class Pe{constructor(Te){}static withServerTransition(Te){return{ngModule:Pe,providers:[{provide:n.sZ2,useValue:Te.appId}]}}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(me,12))};static#t=this.\u0275mod=n.$C({type:Pe});static#n=this.\u0275inj=n.G2t({providers:[...ke,...De],imports:[t.MD,n.Hbi]})}return Pe})(),Lt=(()=>{class Pe{constructor(Te){this._doc=Te}getTitle(){return this._doc.title}setTitle(Te){this._doc.title=Te||""}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),ht=(()=>{class Pe{static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)};static#t=this.\u0275prov=n.jDH({token:Pe,factory:function(Ye){let Tt=null;return Tt=Ye?new(Ye||Pe):n.KVO(pt),Tt},providedIn:"root"})}return Pe})(),pt=(()=>{class Pe extends ht{constructor(Te){super(),this._doc=Te}sanitize(Te,Ye){if(null==Ye)return null;switch(Te){case n.WPN.NONE:return Ye;case n.WPN.HTML:return(0,n.ZF7)(Ye,"HTML")?(0,n.rcV)(Ye):(0,n.h9k)(this._doc,String(Ye)).toString();case n.WPN.STYLE:return(0,n.ZF7)(Ye,"Style")?(0,n.rcV)(Ye):Ye;case n.WPN.SCRIPT:if((0,n.ZF7)(Ye,"Script"))return(0,n.rcV)(Ye);throw new n.wOt(5200,!1);case n.WPN.URL:return(0,n.ZF7)(Ye,"URL")?(0,n.rcV)(Ye):(0,n.$MX)(String(Ye));case n.WPN.RESOURCE_URL:if((0,n.ZF7)(Ye,"ResourceURL"))return(0,n.rcV)(Ye);throw new n.wOt(5201,!1);default:throw new n.wOt(5202,!1)}}bypassSecurityTrustHtml(Te){return(0,n.Kcf)(Te)}bypassSecurityTrustStyle(Te){return(0,n.cWb)(Te)}bypassSecurityTrustScript(Te){return(0,n.UyX)(Te)}bypassSecurityTrustUrl(Te){return(0,n.osQ)(Te)}bypassSecurityTrustResourceUrl(Te){return(0,n.e5t)(Te)}static#e=this.\u0275fac=function(Ye){return new(Ye||Pe)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})()},2091:(At,ue,a)=>{"use strict";a.d(ue,{nX:()=>go,j5:()=>Vi,wF:()=>ri,L6:()=>lo,Z:()=>Ln,gx:()=>Bi,Ix:()=>ws,Wk:()=>Tr,iI:()=>Mh,n3:()=>Os});var t=a(3953),n=a(8982),f=a(4787),v=a(4421),b=a(9928),C=a(9714),g=a(9994),S=a(1639),h=a(9418),y=a(8167),O=a(4526),m=a(1235),E=a(4725),u=a(5286),M=a(4337),x=a(177),D=a(5006),A=a(9090),L=a(9493),l=a(3176),$=a(8728),R=a(8456),F=a(4046),P=a(3574),k=a(8841),V=a(3921),K=a(762);class Q{constructor(_e,oe,Ee=!1){this.accumulator=_e,this.seed=oe,this.hasSeed=Ee}call(_e,oe){return oe.subscribe(new de(_e,this.accumulator,this.seed,this.hasSeed))}}class de extends K.v{constructor(_e,oe,Ee,tt){super(_e),this.accumulator=oe,this._seed=Ee,this.hasSeed=tt,this.index=0}get seed(){return this._seed}set seed(_e){this.hasSeed=!0,this._seed=_e}_next(_e){if(this.hasSeed)return this._tryNext(_e);this.seed=_e,this.destination.next(_e)}_tryNext(_e){const oe=this.index++;let Ee;try{Ee=this.accumulator(this.seed,_e,oe)}catch(tt){this.destination.error(tt)}this.seed=Ee,this.destination.next(Ee)}}var se=a(7849),ce=a(434);function z(te){return function(oe){return 0===te?(0,m.I)():oe.lift(new w(te))}}class w{constructor(_e){if(this.total=_e,this.total<0)throw new ce.k}call(_e,oe){return oe.subscribe(new j(_e,this.total))}}class j extends K.v{constructor(_e,oe){super(_e),this.total=oe,this.ring=new Array,this.count=0}_next(_e){const oe=this.ring,Ee=this.total,tt=this.count++;oe.length<Ee?oe.push(_e):oe[tt%Ee]=_e}_complete(){const _e=this.destination;let oe=this.count;if(oe>0){const Ee=this.count>=this.total?this.total:this.count,tt=this.ring;for(let gt=0;gt<Ee;gt++){const Pt=oe++%Ee;_e.next(tt[Pt])}}_e.complete()}}var W=a(3314),ne=a(5241);class Ae{constructor(_e){this.value=_e}call(_e,oe){return oe.subscribe(new Me(_e,this.value))}}class Me extends K.v{constructor(_e,oe){super(_e),this.value=oe}_next(_e){this.destination.next(this.value)}}var Ve=a(7312),We=a(3110),lt=a(7605),nt=a(6201),$e=a(345);const Ie="primary",me=Symbol("RouteTitle");class De{constructor(_e){this.params=_e||{}}has(_e){return Object.prototype.hasOwnProperty.call(this.params,_e)}get(_e){if(this.has(_e)){const oe=this.params[_e];return Array.isArray(oe)?oe[0]:oe}return null}getAll(_e){if(this.has(_e)){const oe=this.params[_e];return Array.isArray(oe)?oe:[oe]}return[]}get keys(){return Object.keys(this.params)}}function ke(te){return new De(te)}function Qe(te,_e,oe){const Ee=oe.path.split("/");if(Ee.length>te.length||"full"===oe.pathMatch&&(_e.hasChildren()||Ee.length<te.length))return null;const tt={};for(let gt=0;gt<Ee.length;gt++){const Pt=Ee[gt],pn=te[gt];if(":"===Pt[0])tt[Pt.substring(1)]=pn;else if(Pt!==pn.path)return null}return{consumed:te.slice(0,Ee.length),posParams:tt}}function at(te,_e){const oe=te?Lt(te):void 0,Ee=_e?Lt(_e):void 0;if(!oe||!Ee||oe.length!=Ee.length)return!1;let tt;for(let gt=0;gt<oe.length;gt++)if(tt=oe[gt],!Kt(te[tt],_e[tt]))return!1;return!0}function Lt(te){return[...Object.keys(te),...Object.getOwnPropertySymbols(te)]}function Kt(te,_e){if(Array.isArray(te)&&Array.isArray(_e)){if(te.length!==_e.length)return!1;const oe=[...te].sort(),Ee=[..._e].sort();return oe.every((tt,gt)=>Ee[gt]===tt)}return te===_e}function Ot(te){return te.length>0?te[te.length-1]:null}function Se(te){return(0,n.A)(te)?te:(0,t.jNT)(te)?(0,f.H)(Promise.resolve(te)):(0,v.of)(te)}const ve={exact:function ye(te,_e,oe){if(!Ct(te.segments,_e.segments)||!_n(te.segments,_e.segments,oe)||te.numberOfChildren!==_e.numberOfChildren)return!1;for(const Ee in _e.children)if(!te.children[Ee]||!ye(te.children[Ee],_e.children[Ee],oe))return!1;return!0},subset:Ft},N={exact:function Y(te,_e){return at(te,_e)},subset:function Ze(te,_e){return Object.keys(_e).length<=Object.keys(te).length&&Object.keys(_e).every(oe=>Kt(te[oe],_e[oe]))},ignored:()=>!0};function ie(te,_e,oe){return ve[oe.paths](te.root,_e.root,oe.matrixParams)&&N[oe.queryParams](te.queryParams,_e.queryParams)&&!("exact"===oe.fragment&&te.fragment!==_e.fragment)}function Ft(te,_e,oe){return sn(te,_e,_e.segments,oe)}function sn(te,_e,oe,Ee){if(te.segments.length>oe.length){const tt=te.segments.slice(0,oe.length);return!(!Ct(tt,oe)||_e.hasChildren()||!_n(tt,oe,Ee))}if(te.segments.length===oe.length){if(!Ct(te.segments,oe)||!_n(te.segments,oe,Ee))return!1;for(const tt in _e.children)if(!te.children[tt]||!Ft(te.children[tt],_e.children[tt],Ee))return!1;return!0}{const tt=oe.slice(0,te.segments.length),gt=oe.slice(te.segments.length);return!!(Ct(te.segments,tt)&&_n(te.segments,tt,Ee)&&te.children[Ie])&&sn(te.children[Ie],_e,gt,Ee)}}function _n(te,_e,oe){return _e.every((Ee,tt)=>N[oe](te[tt].parameters,Ee.parameters))}class Rt{constructor(_e=new en([],{}),oe={},Ee=null){this.root=_e,this.queryParams=oe,this.fragment=Ee}get queryParamMap(){return this._queryParamMap??=ke(this.queryParams),this._queryParamMap}toString(){return Sn.serialize(this)}}class en{constructor(_e,oe){this.segments=_e,this.children=oe,this.parent=null,Object.values(oe).forEach(Ee=>Ee.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return In(this)}}class ht{constructor(_e,oe){this.path=_e,this.parameters=oe}get parameterMap(){return this._parameterMap??=ke(this.parameters),this._parameterMap}toString(){return Tt(this)}}function Ct(te,_e){return te.length===_e.length&&te.every((oe,Ee)=>oe.path===_e[Ee].path)}let $t=(()=>{class te{static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:()=>new nn,providedIn:"root"})}return te})();class nn{parse(_e){const oe=new fn(_e);return new Rt(oe.parseRootSegment(),oe.parseQueryParams(),oe.parseFragment())}serialize(_e){const oe=`/${Fn(_e.root,!0)}`,Ee=function Ke(te){const _e=Object.entries(te).map(([oe,Ee])=>Array.isArray(Ee)?Ee.map(tt=>`${ut(oe)}=${ut(tt)}`).join("&"):`${ut(oe)}=${ut(Ee)}`).filter(oe=>oe);return _e.length?`?${_e.join("&")}`:""}(_e.queryParams);return`${oe}${Ee}${"string"==typeof _e.fragment?`#${function Pe(te){return encodeURI(te)}(_e.fragment)}`:""}`}}const Sn=new nn;function In(te){return te.segments.map(_e=>Tt(_e)).join("/")}function Fn(te,_e){if(!te.hasChildren())return In(te);if(_e){const oe=te.children[Ie]?Fn(te.children[Ie],!1):"",Ee=[];return Object.entries(te.children).forEach(([tt,gt])=>{tt!==Ie&&Ee.push(`${tt}:${Fn(gt,!1)}`)}),Ee.length>0?`${oe}(${Ee.join("//")})`:oe}{const oe=function Mt(te,_e){let oe=[];return Object.entries(te.children).forEach(([Ee,tt])=>{Ee===Ie&&(oe=oe.concat(_e(tt,Ee)))}),Object.entries(te.children).forEach(([Ee,tt])=>{Ee!==Ie&&(oe=oe.concat(_e(tt,Ee)))}),oe}(te,(Ee,tt)=>tt===Ie?[Fn(te.children[Ie],!1)]:[`${tt}:${Fn(Ee,!1)}`]);return 1===Object.keys(te.children).length&&null!=te.children[Ie]?`${In(te)}/${oe[0]}`:`${In(te)}/(${oe.join("//")})`}}function $n(te){return encodeURIComponent(te).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ut(te){return $n(te).replace(/%3B/gi,";")}function je(te){return $n(te).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Te(te){return decodeURIComponent(te)}function Ye(te){return Te(te.replace(/\+/g,"%20"))}function Tt(te){return`${je(te.path)}${function Ut(te){return Object.entries(te).map(([_e,oe])=>`;${je(_e)}=${je(oe)}`).join("")}(te.parameters)}`}const Fe=/^[^\/()?;#]+/;function Ue(te){const _e=te.match(Fe);return _e?_e[0]:""}const we=/^[^\/()?;=#]+/,vt=/^[^=?&#]+/,rn=/^[^&#]+/;class fn{constructor(_e){this.url=_e,this.remaining=_e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const _e={};if(this.consumeOptional("?"))do{this.parseQueryParam(_e)}while(this.consumeOptional("&"));return _e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _e=[];for(this.peekStartsWith("(")||_e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_e.push(this.parseSegment());let oe={};this.peekStartsWith("/(")&&(this.capture("/"),oe=this.parseParens(!0));let Ee={};return this.peekStartsWith("(")&&(Ee=this.parseParens(!1)),(_e.length>0||Object.keys(oe).length>0)&&(Ee[Ie]=new en(_e,oe)),Ee}parseSegment(){const _e=Ue(this.remaining);if(""===_e&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(_e),new ht(Te(_e),this.parseMatrixParams())}parseMatrixParams(){const _e={};for(;this.consumeOptional(";");)this.parseParam(_e);return _e}parseParam(_e){const oe=function rt(te){const _e=te.match(we);return _e?_e[0]:""}(this.remaining);if(!oe)return;this.capture(oe);let Ee="";if(this.consumeOptional("=")){const tt=Ue(this.remaining);tt&&(Ee=tt,this.capture(Ee))}_e[Te(oe)]=Te(Ee)}parseQueryParam(_e){const oe=function on(te){const _e=te.match(vt);return _e?_e[0]:""}(this.remaining);if(!oe)return;this.capture(oe);let Ee="";if(this.consumeOptional("=")){const Pt=function Nt(te){const _e=te.match(rn);return _e?_e[0]:""}(this.remaining);Pt&&(Ee=Pt,this.capture(Ee))}const tt=Ye(oe),gt=Ye(Ee);if(_e.hasOwnProperty(tt)){let Pt=_e[tt];Array.isArray(Pt)||(Pt=[Pt],_e[tt]=Pt),Pt.push(gt)}else _e[tt]=gt}parseParens(_e){const oe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ee=Ue(this.remaining),tt=this.remaining[Ee.length];if("/"!==tt&&")"!==tt&&";"!==tt)throw new t.wOt(4010,!1);let gt;Ee.indexOf(":")>-1?(gt=Ee.slice(0,Ee.indexOf(":")),this.capture(gt),this.capture(":")):_e&&(gt=Ie);const Pt=this.parseChildren();oe[gt]=1===Object.keys(Pt).length?Pt[Ie]:new en([],Pt),this.consumeOptional("//")}return oe}peekStartsWith(_e){return this.remaining.startsWith(_e)}consumeOptional(_e){return!!this.peekStartsWith(_e)&&(this.remaining=this.remaining.substring(_e.length),!0)}capture(_e){if(!this.consumeOptional(_e))throw new t.wOt(4011,!1)}}function wt(te){return te.segments.length>0?new en([],{[Ie]:te}):te}function Yt(te){const _e={};for(const[Ee,tt]of Object.entries(te.children)){const gt=Yt(tt);if(Ee===Ie&&0===gt.segments.length&&gt.hasChildren())for(const[Pt,pn]of Object.entries(gt.children))_e[Pt]=pn;else(gt.segments.length>0||gt.hasChildren())&&(_e[Ee]=gt)}return function tn(te){if(1===te.numberOfChildren&&te.children[Ie]){const _e=te.children[Ie];return new en(te.segments.concat(_e.segments),_e.children)}return te}(new en(te.segments,_e))}function cn(te){return te instanceof Rt}function ii(te){let _e;const tt=wt(function oe(gt){const Pt={};for(const dn of gt.children){const Rn=oe(dn);Pt[dn.outlet]=Rn}const pn=new en(gt.url,Pt);return gt===te&&(_e=pn),pn}(te.root));return _e??tt}function vi(te,_e,oe,Ee){let tt=te;for(;tt.parent;)tt=tt.parent;if(0===_e.length)return Ai(tt,tt,tt,oe,Ee);const gt=function po(te){if("string"==typeof te[0]&&1===te.length&&"/"===te[0])return new ro(!0,0,te);let _e=0,oe=!1;const Ee=te.reduce((tt,gt,Pt)=>{if("object"==typeof gt&&null!=gt){if(gt.outlets){const pn={};return Object.entries(gt.outlets).forEach(([dn,Rn])=>{pn[dn]="string"==typeof Rn?Rn.split("/"):Rn}),[...tt,{outlets:pn}]}if(gt.segmentPath)return[...tt,gt.segmentPath]}return"string"!=typeof gt?[...tt,gt]:0===Pt?(gt.split("/").forEach((pn,dn)=>{0==dn&&"."===pn||(0==dn&&""===pn?oe=!0:".."===pn?_e++:""!=pn&&tt.push(pn))}),tt):[...tt,gt]},[]);return new ro(oe,_e,Ee)}(_e);if(gt.toRoot())return Ai(tt,tt,new en([],{}),oe,Ee);const Pt=function Po(te,_e,oe){if(te.isAbsolute)return new ki(_e,!0,0);if(!oe)return new ki(_e,!1,NaN);if(null===oe.parent)return new ki(oe,!0,0);const Ee=bi(te.commands[0])?0:1;return function uo(te,_e,oe){let Ee=te,tt=_e,gt=oe;for(;gt>tt;){if(gt-=tt,Ee=Ee.parent,!Ee)throw new t.wOt(4005,!1);tt=Ee.segments.length}return new ki(Ee,!1,tt-gt)}(oe,oe.segments.length-1+Ee,te.numberOfDoubleDots)}(gt,tt,te),pn=Pt.processChildren?pi(Pt.segmentGroup,Pt.index,gt.commands):fi(Pt.segmentGroup,Pt.index,gt.commands);return Ai(tt,Pt.segmentGroup,pn,oe,Ee)}function bi(te){return"object"==typeof te&&null!=te&&!te.outlets&&!te.segmentPath}function hi(te){return"object"==typeof te&&null!=te&&te.outlets}function Ai(te,_e,oe,Ee,tt){let Pt,gt={};Ee&&Object.entries(Ee).forEach(([dn,Rn])=>{gt[dn]=Array.isArray(Rn)?Rn.map(Ci=>`${Ci}`):`${Rn}`}),Pt=te===_e?oe:Mi(te,_e,oe);const pn=wt(Yt(Pt));return new Rt(pn,gt,tt)}function Mi(te,_e,oe){const Ee={};return Object.entries(te.children).forEach(([tt,gt])=>{Ee[tt]=gt===_e?oe:Mi(gt,_e,oe)}),new en(te.segments,Ee)}class ro{constructor(_e,oe,Ee){if(this.isAbsolute=_e,this.numberOfDoubleDots=oe,this.commands=Ee,_e&&Ee.length>0&&bi(Ee[0]))throw new t.wOt(4003,!1);const tt=Ee.find(hi);if(tt&&tt!==Ot(Ee))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(_e,oe,Ee){this.segmentGroup=_e,this.processChildren=oe,this.index=Ee}}function fi(te,_e,oe){if(te??=new en([],{}),0===te.segments.length&&te.hasChildren())return pi(te,_e,oe);const Ee=function Oe(te,_e,oe){let Ee=0,tt=_e;const gt={match:!1,pathIndex:0,commandIndex:0};for(;tt<te.segments.length;){if(Ee>=oe.length)return gt;const Pt=te.segments[tt],pn=oe[Ee];if(hi(pn))break;const dn=`${pn}`,Rn=Ee<oe.length-1?oe[Ee+1]:null;if(tt>0&&void 0===dn)break;if(dn&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!ge(dn,Rn,Pt))return gt;Ee+=2}else{if(!ge(dn,{},Pt))return gt;Ee++}tt++}return{match:!0,pathIndex:tt,commandIndex:Ee}}(te,_e,oe),tt=oe.slice(Ee.commandIndex);if(Ee.match&&Ee.pathIndex<te.segments.length){const gt=new en(te.segments.slice(0,Ee.pathIndex),{});return gt.children[Ie]=new en(te.segments.slice(Ee.pathIndex),te.children),pi(gt,0,tt)}return Ee.match&&0===tt.length?new en(te.segments,{}):Ee.match&&!te.hasChildren()?Je(te,_e,oe):Ee.match?pi(te,0,tt):Je(te,_e,oe)}function pi(te,_e,oe){if(0===oe.length)return new en(te.segments,{});{const Ee=function ni(te){return hi(te[0])?te[0].outlets:{[Ie]:te}}(oe),tt={};if(Object.keys(Ee).some(gt=>gt!==Ie)&&te.children[Ie]&&1===te.numberOfChildren&&0===te.children[Ie].segments.length){const gt=pi(te.children[Ie],_e,oe);return new en(te.segments,gt.children)}return Object.entries(Ee).forEach(([gt,Pt])=>{"string"==typeof Pt&&(Pt=[Pt]),null!==Pt&&(tt[gt]=fi(te.children[gt],_e,Pt))}),Object.entries(te.children).forEach(([gt,Pt])=>{void 0===Ee[gt]&&(tt[gt]=Pt)}),new en(te.segments,tt)}}function Je(te,_e,oe){const Ee=te.segments.slice(0,_e);let tt=0;for(;tt<oe.length;){const gt=oe[tt];if(hi(gt)){const dn=J(gt.outlets);return new en(Ee,dn)}if(0===tt&&bi(oe[0])){Ee.push(new ht(te.segments[_e].path,he(oe[0]))),tt++;continue}const Pt=hi(gt)?gt.outlets[Ie]:`${gt}`,pn=tt<oe.length-1?oe[tt+1]:null;Pt&&pn&&bi(pn)?(Ee.push(new ht(Pt,he(pn))),tt+=2):(Ee.push(new ht(Pt,{})),tt++)}return new en(Ee,{})}function J(te){const _e={};return Object.entries(te).forEach(([oe,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(_e[oe]=Je(new en([],{}),0,Ee))}),_e}function he(te){const _e={};return Object.entries(te).forEach(([oe,Ee])=>_e[oe]=`${Ee}`),_e}function ge(te,_e,oe){return te==oe.path&&at(_e,oe.parameters)}const ze="imperative";var yt=function(te){return te[te.NavigationStart=0]="NavigationStart",te[te.NavigationEnd=1]="NavigationEnd",te[te.NavigationCancel=2]="NavigationCancel",te[te.NavigationError=3]="NavigationError",te[te.RoutesRecognized=4]="RoutesRecognized",te[te.ResolveStart=5]="ResolveStart",te[te.ResolveEnd=6]="ResolveEnd",te[te.GuardsCheckStart=7]="GuardsCheckStart",te[te.GuardsCheckEnd=8]="GuardsCheckEnd",te[te.RouteConfigLoadStart=9]="RouteConfigLoadStart",te[te.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",te[te.ChildActivationStart=11]="ChildActivationStart",te[te.ChildActivationEnd=12]="ChildActivationEnd",te[te.ActivationStart=13]="ActivationStart",te[te.ActivationEnd=14]="ActivationEnd",te[te.Scroll=15]="Scroll",te[te.NavigationSkipped=16]="NavigationSkipped",te}(yt||{});class mn{constructor(_e,oe){this.id=_e,this.url=oe}}class Ln extends mn{constructor(_e,oe,Ee="imperative",tt=null){super(_e,oe),this.type=yt.NavigationStart,this.navigationTrigger=Ee,this.restoredState=tt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends mn{constructor(_e,oe,Ee){super(_e,oe),this.urlAfterRedirects=Ee,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var wi=function(te){return te[te.Redirect=0]="Redirect",te[te.SupersededByNewNavigation=1]="SupersededByNewNavigation",te[te.NoDataFromResolver=2]="NoDataFromResolver",te[te.GuardRejected=3]="GuardRejected",te}(wi||{}),Oi=function(te){return te[te.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",te[te.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",te}(Oi||{});class Vi extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.reason=Ee,this.code=tt,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mo extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.reason=Ee,this.code=tt,this.type=yt.NavigationSkipped}}class lo extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.error=Ee,this.target=tt,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Li extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.urlAfterRedirects=Ee,this.state=tt,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.urlAfterRedirects=Ee,this.state=tt,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends mn{constructor(_e,oe,Ee,tt,gt){super(_e,oe),this.urlAfterRedirects=Ee,this.state=tt,this.shouldActivate=gt,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xo extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.urlAfterRedirects=Ee,this.state=tt,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends mn{constructor(_e,oe,Ee,tt){super(_e,oe),this.urlAfterRedirects=Ee,this.state=tt,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho{constructor(_e){this.route=_e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rs{constructor(_e){this.route=_e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class No{constructor(_e){this.snapshot=_e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(_e){this.snapshot=_e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(_e){this.snapshot=_e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(_e){this.snapshot=_e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(_e,oe,Ee){this.routerEvent=_e,this.position=oe,this.anchor=Ee,this.type=yt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zs{}class Ws{constructor(_e,oe){this.url=_e,this.navigationBehaviorOptions=oe}}function as(te){return te.outlet||Ie}function Xt(te){if(!te)return null;if(te.routeConfig?._injector)return te.routeConfig._injector;for(let _e=te.parent;_e;_e=_e.parent){const oe=_e.routeConfig;if(oe?._loadedInjector)return oe._loadedInjector;if(oe?._injector)return oe._injector}return null}class Cn{get injector(){return Xt(this.route?.snapshot)??this.rootInjector}set injector(_e){}constructor(_e){this.rootInjector=_e,this.outlet=null,this.route=null,this.children=new ot(this.rootInjector),this.attachRef=null}}let ot=(()=>{class te{constructor(oe){this.rootInjector=oe,this.contexts=new Map}onChildOutletCreated(oe,Ee){const tt=this.getOrCreateContext(oe);tt.outlet=Ee,this.contexts.set(oe,tt)}onChildOutletDestroyed(oe){const Ee=this.getContext(oe);Ee&&(Ee.outlet=null,Ee.attachRef=null)}onOutletDeactivated(){const oe=this.contexts;return this.contexts=new Map,oe}onOutletReAttached(oe){this.contexts=oe}getOrCreateContext(oe){let Ee=this.getContext(oe);return Ee||(Ee=new Cn(this.rootInjector),this.contexts.set(oe,Ee)),Ee}getContext(oe){return this.contexts.get(oe)||null}static#e=this.\u0275fac=function(Ee){return new(Ee||te)(t.KVO(t.uvJ))};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();class jt{constructor(_e){this._root=_e}get root(){return this._root.value}parent(_e){const oe=this.pathFromRoot(_e);return oe.length>1?oe[oe.length-2]:null}children(_e){const oe=Gt(_e,this._root);return oe?oe.children.map(Ee=>Ee.value):[]}firstChild(_e){const oe=Gt(_e,this._root);return oe&&oe.children.length>0?oe.children[0].value:null}siblings(_e){const oe=Mn(_e,this._root);return oe.length<2?[]:oe[oe.length-2].children.map(tt=>tt.value).filter(tt=>tt!==_e)}pathFromRoot(_e){return Mn(_e,this._root).map(oe=>oe.value)}}function Gt(te,_e){if(te===_e.value)return _e;for(const oe of _e.children){const Ee=Gt(te,oe);if(Ee)return Ee}return null}function Mn(te,_e){if(te===_e.value)return[_e];for(const oe of _e.children){const Ee=Mn(te,oe);if(Ee.length)return Ee.unshift(_e),Ee}return[]}class Gn{constructor(_e,oe){this.value=_e,this.children=oe}toString(){return`TreeNode(${this.value})`}}function ji(te){const _e={};return te&&te.children.forEach(oe=>_e[oe.value.outlet]=oe),_e}class qo extends jt{constructor(_e,oe){super(_e),this.snapshot=oe,Is(this,_e)}toString(){return this.snapshot.toString()}}function ls(te){const _e=function Vo(te){const gt=new hr([],{},{},"",{},Ie,te,null,{});return new fr("",new Gn(gt,[]))}(te),oe=new b.t([new ht("",{})]),Ee=new b.t({}),tt=new b.t({}),gt=new b.t({}),Pt=new b.t(""),pn=new go(oe,Ee,gt,Pt,tt,Ie,te,_e.root);return pn.snapshot=_e.root,new qo(new Gn(pn,[]),_e)}class go{constructor(_e,oe,Ee,tt,gt,Pt,pn,dn){this.urlSubject=_e,this.paramsSubject=oe,this.queryParamsSubject=Ee,this.fragmentSubject=tt,this.dataSubject=gt,this.outlet=Pt,this.component=pn,this._futureSnapshot=dn,this.title=this.dataSubject?.pipe((0,D.T)(Rn=>Rn[me]))??(0,v.of)(void 0),this.url=_e,this.params=oe,this.queryParams=Ee,this.fragment=tt,this.data=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,D.T)(_e=>ke(_e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,D.T)(_e=>ke(_e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yr(te,_e,oe="emptyOnly"){let Ee;const{routeConfig:tt}=te;return Ee=null===_e||"always"!==oe&&""!==tt?.path&&(_e.component||_e.routeConfig?.loadComponent)?{params:{...te.params},data:{...te.data},resolve:{...te.data,...te._resolvedData??{}}}:{params:{..._e.params,...te.params},data:{..._e.data,...te.data},resolve:{...te.data,..._e.data,...tt?.data,...te._resolvedData}},tt&&ei(tt)&&(Ee.resolve[me]=tt.title),Ee}class hr{get title(){return this.data?.[me]}constructor(_e,oe,Ee,tt,gt,Pt,pn,dn,Rn){this.url=_e,this.params=oe,this.queryParams=Ee,this.fragment=tt,this.data=gt,this.outlet=Pt,this.component=pn,this.routeConfig=dn,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ke(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ke(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ee=>Ee.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fr extends jt{constructor(_e,oe){super(oe),this.url=_e,Is(this,oe)}toString(){return kr(this._root)}}function Is(te,_e){_e.value._routerState=te,_e.children.forEach(oe=>Is(te,oe))}function kr(te){const _e=te.children.length>0?` { ${te.children.map(kr).join(", ")} } `:"";return`${te.value}${_e}`}function pr(te){if(te.snapshot){const _e=te.snapshot,oe=te._futureSnapshot;te.snapshot=oe,at(_e.queryParams,oe.queryParams)||te.queryParamsSubject.next(oe.queryParams),_e.fragment!==oe.fragment&&te.fragmentSubject.next(oe.fragment),at(_e.params,oe.params)||te.paramsSubject.next(oe.params),function Ne(te,_e){if(te.length!==_e.length)return!1;for(let oe=0;oe<te.length;++oe)if(!at(te[oe],_e[oe]))return!1;return!0}(_e.url,oe.url)||te.urlSubject.next(oe.url),at(_e.data,oe.data)||te.dataSubject.next(oe.data)}else te.snapshot=te._futureSnapshot,te.dataSubject.next(te._futureSnapshot.data)}function Fr(te,_e){const oe=at(te.params,_e.params)&&function pt(te,_e){return Ct(te,_e)&&te.every((oe,Ee)=>at(oe.parameters,_e[Ee].parameters))}(te.url,_e.url);return oe&&!(!te.parent!=!_e.parent)&&(!te.parent||Fr(te.parent,_e.parent))}function ei(te){return"string"==typeof te.title||null===te.title}let Os=(()=>{class te{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(ot),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.inputBinder=(0,t.WQX)(sr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(oe){if(oe.name){const{firstChange:Ee,previousValue:tt}=oe.name;if(Ee)return;this.isTrackedInParentContexts(tt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(tt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(oe){return this.parentContexts.getContext(oe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const oe=this.parentContexts.getContext(this.name);oe?.route&&(oe.attachRef?this.attach(oe.attachRef,oe.route):this.activateWith(oe.route,oe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const oe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(oe.instance),oe}attach(oe,Ee){this.activated=oe,this._activatedRoute=Ee,this.location.insert(oe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(oe.instance)}deactivate(){if(this.activated){const oe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(oe)}}activateWith(oe,Ee){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=oe;const tt=this.location,Pt=oe.snapshot.component,pn=this.parentContexts.getOrCreateContext(this.name).children,dn=new ms(oe,pn,tt.injector);this.activated=tt.createComponent(Pt,{index:tt.length,injector:dn,environmentInjector:Ee}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275dir=t.FsC({type:te,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}return te})();class ms{__ngOutletInjector(_e){return new ms(this.route,this.childContexts,_e)}constructor(_e,oe,Ee){this.route=_e,this.childContexts=oe,this.parent=Ee}get(_e,oe){return _e===go?this.route:_e===ot?this.childContexts:this.parent.get(_e,oe)}}const sr=new t.nKC("");let ca=(()=>{class te{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(oe){this.unsubscribeFromRouteData(oe),this.subscribeToRouteData(oe)}unsubscribeFromRouteData(oe){this.outletDataSubscriptions.get(oe)?.unsubscribe(),this.outletDataSubscriptions.delete(oe)}subscribeToRouteData(oe){const{activatedRoute:Ee}=oe,tt=(0,C.zV)([Ee.queryParams,Ee.params,Ee.data]).pipe((0,A.n)(([gt,Pt,pn],dn)=>(pn={...gt,...Pt,...pn},0===dn?(0,v.of)(pn):Promise.resolve(pn)))).subscribe(gt=>{if(!oe.isActivated||!oe.activatedComponentRef||oe.activatedRoute!==Ee||null===Ee.component)return void this.unsubscribeFromRouteData(oe);const Pt=(0,t.HJs)(Ee.component);if(Pt)for(const{templateName:pn}of Pt.inputs)oe.activatedComponentRef.setInput(pn,gt[pn]);else this.unsubscribeFromRouteData(oe)});this.outletDataSubscriptions.set(oe,tt)}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac})}return te})();function fs(te,_e,oe){if(oe&&te.shouldReuseRoute(_e.value,oe.value.snapshot)){const Ee=oe.value;Ee._futureSnapshot=_e.value;const tt=function Ls(te,_e,oe){return _e.children.map(Ee=>{for(const tt of oe.children)if(te.shouldReuseRoute(Ee.value,tt.value.snapshot))return fs(te,Ee,tt);return fs(te,Ee)})}(te,_e,oe);return new Gn(Ee,tt)}{if(te.shouldAttach(_e.value)){const gt=te.retrieve(_e.value);if(null!==gt){const Pt=gt.route;return Pt.value._futureSnapshot=_e.value,Pt.children=_e.children.map(pn=>fs(te,pn)),Pt}}const Ee=function Ys(te){return new go(new b.t(te.url),new b.t(te.params),new b.t(te.queryParams),new b.t(te.fragment),new b.t(te.data),te.outlet,te.component,te)}(_e.value),tt=_e.children.map(gt=>fs(te,gt));return new Gn(Ee,tt)}}class gs{constructor(_e,oe){this.redirectTo=_e,this.navigationBehaviorOptions=oe}}const rr="ngNavigationCancelingError";function Qr(te,_e){const{redirectTo:oe,navigationBehaviorOptions:Ee}=cn(_e)?{redirectTo:_e,navigationBehaviorOptions:void 0}:_e,tt=To(!1,wi.Redirect);return tt.url=oe,tt.navigationBehaviorOptions=Ee,tt}function To(te,_e){const oe=new Error(`NavigationCancelingError: ${te||""}`);return oe[rr]=!0,oe.cancellationCode=_e,oe}function Ea(te){return!!te&&te[rr]}class Ca{constructor(_e,oe,Ee,tt,gt){this.routeReuseStrategy=_e,this.futureState=oe,this.currState=Ee,this.forwardEvent=tt,this.inputBindingEnabled=gt}activate(_e){const oe=this.futureState._root,Ee=this.currState?this.currState._root:null;this.deactivateChildRoutes(oe,Ee,_e),pr(this.futureState.root),this.activateChildRoutes(oe,Ee,_e)}deactivateChildRoutes(_e,oe,Ee){const tt=ji(oe);_e.children.forEach(gt=>{const Pt=gt.value.outlet;this.deactivateRoutes(gt,tt[Pt],Ee),delete tt[Pt]}),Object.values(tt).forEach(gt=>{this.deactivateRouteAndItsChildren(gt,Ee)})}deactivateRoutes(_e,oe,Ee){const tt=_e.value,gt=oe?oe.value:null;if(tt===gt)if(tt.component){const Pt=Ee.getContext(tt.outlet);Pt&&this.deactivateChildRoutes(_e,oe,Pt.children)}else this.deactivateChildRoutes(_e,oe,Ee);else gt&&this.deactivateRouteAndItsChildren(oe,Ee)}deactivateRouteAndItsChildren(_e,oe){_e.value.component&&this.routeReuseStrategy.shouldDetach(_e.value.snapshot)?this.detachAndStoreRouteSubtree(_e,oe):this.deactivateRouteAndOutlet(_e,oe)}detachAndStoreRouteSubtree(_e,oe){const Ee=oe.getContext(_e.value.outlet),tt=Ee&&_e.value.component?Ee.children:oe,gt=ji(_e);for(const Pt of Object.values(gt))this.deactivateRouteAndItsChildren(Pt,tt);if(Ee&&Ee.outlet){const Pt=Ee.outlet.detach(),pn=Ee.children.onOutletDeactivated();this.routeReuseStrategy.store(_e.value.snapshot,{componentRef:Pt,route:_e,contexts:pn})}}deactivateRouteAndOutlet(_e,oe){const Ee=oe.getContext(_e.value.outlet),tt=Ee&&_e.value.component?Ee.children:oe,gt=ji(_e);for(const Pt of Object.values(gt))this.deactivateRouteAndItsChildren(Pt,tt);Ee&&(Ee.outlet&&(Ee.outlet.deactivate(),Ee.children.onOutletDeactivated()),Ee.attachRef=null,Ee.route=null)}activateChildRoutes(_e,oe,Ee){const tt=ji(oe);_e.children.forEach(gt=>{this.activateRoutes(gt,tt[gt.value.outlet],Ee),this.forwardEvent(new or(gt.value.snapshot))}),_e.children.length&&this.forwardEvent(new ir(_e.value.snapshot))}activateRoutes(_e,oe,Ee){const tt=_e.value,gt=oe?oe.value:null;if(pr(tt),tt===gt)if(tt.component){const Pt=Ee.getOrCreateContext(tt.outlet);this.activateChildRoutes(_e,oe,Pt.children)}else this.activateChildRoutes(_e,oe,Ee);else if(tt.component){const Pt=Ee.getOrCreateContext(tt.outlet);if(this.routeReuseStrategy.shouldAttach(tt.snapshot)){const pn=this.routeReuseStrategy.retrieve(tt.snapshot);this.routeReuseStrategy.store(tt.snapshot,null),Pt.children.onOutletReAttached(pn.contexts),Pt.attachRef=pn.componentRef,Pt.route=pn.route.value,Pt.outlet&&Pt.outlet.attach(pn.componentRef,pn.route.value),pr(pn.route.value),this.activateChildRoutes(_e,null,Pt.children)}else Pt.attachRef=null,Pt.route=tt,Pt.outlet&&Pt.outlet.activateWith(tt,Pt.injector),this.activateChildRoutes(_e,null,Pt.children)}else this.activateChildRoutes(_e,null,Ee)}}class Xi{constructor(_e){this.path=_e,this.route=this.path[this.path.length-1]}}class eo{constructor(_e,oe){this.component=_e,this.route=oe}}function Et(te,_e,oe){const Ee=te._root;return Dt(Ee,_e?_e._root:null,oe,[Ee.value])}function be(te,_e){const oe=Symbol(),Ee=_e.get(te,oe);return Ee===oe?"function"!=typeof te||(0,t.LfX)(te)?_e.get(te):te:Ee}function Dt(te,_e,oe,Ee,tt={canDeactivateChecks:[],canActivateChecks:[]}){const gt=ji(_e);return te.children.forEach(Pt=>{(function Xe(te,_e,oe,Ee,tt={canDeactivateChecks:[],canActivateChecks:[]}){const gt=te.value,Pt=_e?_e.value:null,pn=oe?oe.getContext(te.value.outlet):null;if(Pt&&gt.routeConfig===Pt.routeConfig){const dn=function kt(te,_e,oe){if("function"==typeof oe)return oe(te,_e);switch(oe){case"pathParamsChange":return!Ct(te.url,_e.url);case"pathParamsOrQueryParamsChange":return!Ct(te.url,_e.url)||!at(te.queryParams,_e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fr(te,_e)||!at(te.queryParams,_e.queryParams);default:return!Fr(te,_e)}}(Pt,gt,gt.routeConfig.runGuardsAndResolvers);dn?tt.canActivateChecks.push(new Xi(Ee)):(gt.data=Pt.data,gt._resolvedData=Pt._resolvedData),Dt(te,_e,gt.component?pn?pn.children:null:oe,Ee,tt),dn&&pn&&pn.outlet&&pn.outlet.isActivated&&tt.canDeactivateChecks.push(new eo(pn.outlet.component,Pt))}else Pt&&gn(_e,pn,tt),tt.canActivateChecks.push(new Xi(Ee)),Dt(te,null,gt.component?pn?pn.children:null:oe,Ee,tt)})(Pt,gt[Pt.value.outlet],oe,Ee.concat([Pt.value]),tt),delete gt[Pt.value.outlet]}),Object.entries(gt).forEach(([Pt,pn])=>gn(pn,oe.getContext(Pt),tt)),tt}function gn(te,_e,oe){const Ee=ji(te),tt=te.value;Object.entries(Ee).forEach(([gt,Pt])=>{gn(Pt,tt.component?_e?_e.children.getContext(gt):null:_e,oe)}),oe.canDeactivateChecks.push(new eo(tt.component&&_e&&_e.outlet&&_e.outlet.isActivated?_e.outlet.component:null,tt))}function Kn(te){return"function"==typeof te}function He(te){return te instanceof g.G||"EmptyError"===te?.name}const Ce=Symbol("INITIAL_VALUE");function bt(){return(0,A.n)(te=>(0,C.zV)(te.map(_e=>_e.pipe((0,L.s)(1),(0,l.Z)(Ce)))).pipe((0,D.T)(_e=>{for(const oe of _e)if(!0!==oe){if(oe===Ce)return Ce;if(!1===oe||Zt(oe))return oe}return!0}),(0,$.p)(_e=>_e!==Ce),(0,L.s)(1)))}function Zt(te){return cn(te)||te instanceof gs}function Do(te){return(0,y.F)((0,k.M)(_e=>{if("boolean"!=typeof _e)throw Qr(0,_e)}),(0,D.T)(_e=>!0===_e))}class ks{constructor(_e){this.segmentGroup=_e||null}}class Jr extends Error{constructor(_e){super(),this.urlTree=_e}}function Zr(te){return(0,O.$)(new ks(te))}class Pr{constructor(_e,oe){this.urlSerializer=_e,this.urlTree=oe}lineralizeSegments(_e,oe){let Ee=[],tt=oe.root;for(;;){if(Ee=Ee.concat(tt.segments),0===tt.numberOfChildren)return(0,v.of)(Ee);if(tt.numberOfChildren>1||!tt.children[Ie])return(0,O.$)(new t.wOt(4e3,!1));tt=tt.children[Ie]}}applyRedirectCommands(_e,oe,Ee,tt,gt){if("string"!=typeof oe){const pn=oe,{queryParams:dn,fragment:Rn,routeConfig:Ci,url:Wn,outlet:wo,params:ts,data:us,title:Ga}=tt,Ir=(0,t.N4e)(gt,()=>pn({params:ts,data:us,queryParams:dn,fragment:Rn,routeConfig:Ci,url:Wn,outlet:wo,title:Ga}));if(Ir instanceof Rt)throw new Jr(Ir);oe=Ir}const Pt=this.applyRedirectCreateUrlTree(oe,this.urlSerializer.parse(oe),_e,Ee);if("/"===oe[0])throw new Jr(Pt);return Pt}applyRedirectCreateUrlTree(_e,oe,Ee,tt){const gt=this.createSegmentGroup(_e,oe.root,Ee,tt);return new Rt(gt,this.createQueryParams(oe.queryParams,this.urlTree.queryParams),oe.fragment)}createQueryParams(_e,oe){const Ee={};return Object.entries(_e).forEach(([tt,gt])=>{if("string"==typeof gt&&":"===gt[0]){const pn=gt.substring(1);Ee[tt]=oe[pn]}else Ee[tt]=gt}),Ee}createSegmentGroup(_e,oe,Ee,tt){const gt=this.createSegments(_e,oe.segments,Ee,tt);let Pt={};return Object.entries(oe.children).forEach(([pn,dn])=>{Pt[pn]=this.createSegmentGroup(_e,dn,Ee,tt)}),new en(gt,Pt)}createSegments(_e,oe,Ee,tt){return oe.map(gt=>":"===gt.path[0]?this.findPosParam(_e,gt,tt):this.findOrReturn(gt,Ee))}findPosParam(_e,oe,Ee){const tt=Ee[oe.path.substring(1)];if(!tt)throw new t.wOt(4001,!1);return tt}findOrReturn(_e,oe){let Ee=0;for(const tt of oe){if(tt.path===_e.path)return oe.splice(Ee),tt;Ee++}return _e}}const qr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gl(te,_e,oe,Ee,tt){const gt=nl(te,_e,oe);return gt.matched?(Ee=function Xs(te,_e){return te.providers&&!te._injector&&(te._injector=(0,t.Ol2)(te.providers,_e,`Route: ${te.path}`)),te._injector??_e}(_e,Ee),function Bs(te,_e,oe,Ee){const tt=_e.canMatch;if(!tt||0===tt.length)return(0,v.of)(!0);const gt=tt.map(Pt=>{const pn=be(Pt,te);return Se(function Ge(te){return te&&Kn(te.canMatch)}(pn)?pn.canMatch(_e,oe):(0,t.N4e)(te,()=>pn(_e,oe)))});return(0,v.of)(gt).pipe(bt(),Do())}(Ee,_e,oe).pipe((0,D.T)(Pt=>!0===Pt?gt:{...qr}))):(0,v.of)(gt)}function nl(te,_e,oe){if("**"===_e.path)return function Pi(te){return{matched:!0,parameters:te.length>0?Ot(te).parameters:{},consumedSegments:te,remainingSegments:[],positionalParamSegments:{}}}(oe);if(""===_e.path)return"full"===_e.pathMatch&&(te.hasChildren()||oe.length>0)?{...qr}:{matched:!0,consumedSegments:[],remainingSegments:oe,parameters:{},positionalParamSegments:{}};const tt=(_e.matcher||Qe)(oe,te,_e);if(!tt)return{...qr};const gt={};Object.entries(tt.posParams??{}).forEach(([pn,dn])=>{gt[pn]=dn.path});const Pt=tt.consumed.length>0?{...gt,...tt.consumed[tt.consumed.length-1].parameters}:gt;return{matched:!0,consumedSegments:tt.consumed,remainingSegments:oe.slice(tt.consumed.length),parameters:Pt,positionalParamSegments:tt.posParams??{}}}function vl(te,_e,oe,Ee){return oe.length>0&&function Ma(te,_e,oe){return oe.some(Ee=>co(te,_e,Ee)&&as(Ee)!==Ie)}(te,oe,Ee)?{segmentGroup:new en(_e,Qs(Ee,new en(oe,te.children))),slicedSegments:[]}:0===oe.length&&function Ta(te,_e,oe){return oe.some(Ee=>co(te,_e,Ee))}(te,oe,Ee)?{segmentGroup:new en(te.segments,Sa(te,oe,Ee,te.children)),slicedSegments:oe}:{segmentGroup:new en(te.segments,te.children),slicedSegments:oe}}function Sa(te,_e,oe,Ee){const tt={};for(const gt of oe)if(co(te,_e,gt)&&!Ee[as(gt)]){const Pt=new en([],{});tt[as(gt)]=Pt}return{...Ee,...tt}}function Qs(te,_e){const oe={};oe[Ie]=_e;for(const Ee of te)if(""===Ee.path&&as(Ee)!==Ie){const tt=new en([],{});oe[as(Ee)]=tt}return oe}function co(te,_e,oe){return(!(te.hasChildren()||_e.length>0)||"full"!==oe.pathMatch)&&""===oe.path}class es{}class Da{constructor(_e,oe,Ee,tt,gt,Pt,pn){this.injector=_e,this.configLoader=oe,this.rootComponentType=Ee,this.config=tt,this.urlTree=gt,this.paramsInheritanceStrategy=Pt,this.urlSerializer=pn,this.applyRedirects=new Pr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(_e){return new t.wOt(4002,`'${_e.segmentGroup}'`)}recognize(){const _e=vl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(_e).pipe((0,D.T)(({children:oe,rootSnapshot:Ee})=>{const tt=new Gn(Ee,oe),gt=new fr("",tt),Pt=function xn(te,_e,oe=null,Ee=null){return vi(ii(te),_e,oe,Ee)}(Ee,[],this.urlTree.queryParams,this.urlTree.fragment);return Pt.queryParams=this.urlTree.queryParams,gt.url=this.urlSerializer.serialize(Pt),{state:gt,tree:Pt}}))}match(_e){const oe=new hr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,_e,Ie,oe).pipe((0,D.T)(Ee=>({children:Ee,rootSnapshot:oe})),(0,V.W)(Ee=>{if(Ee instanceof Jr)return this.urlTree=Ee.urlTree,this.match(Ee.urlTree.root);throw Ee instanceof ks?this.noMatchError(Ee):Ee}))}processSegmentGroup(_e,oe,Ee,tt,gt){return 0===Ee.segments.length&&Ee.hasChildren()?this.processChildren(_e,oe,Ee,gt):this.processSegment(_e,oe,Ee,Ee.segments,tt,!0,gt).pipe((0,D.T)(Pt=>Pt instanceof Gn?[Pt]:[]))}processChildren(_e,oe,Ee,tt){const gt=[];for(const Pt of Object.keys(Ee.children))"primary"===Pt?gt.unshift(Pt):gt.push(Pt);return(0,f.H)(gt).pipe((0,P.H)(Pt=>{const pn=Ee.children[Pt],dn=function ur(te,_e){const oe=te.filter(Ee=>as(Ee)===_e);return oe.push(...te.filter(Ee=>as(Ee)!==_e)),oe}(oe,Pt);return this.processSegmentGroup(_e,dn,pn,Pt,tt)}),function X(te,_e){let oe=!1;return arguments.length>=2&&(oe=!0),function(tt){return tt.lift(new Q(te,_e,oe))}}((Pt,pn)=>(Pt.push(...pn),Pt)),(0,se.U)(null),function fe(te,_e){const oe=arguments.length>=2;return Ee=>Ee.pipe(te?(0,$.p)((tt,gt)=>te(tt,gt,Ee)):ne.D,z(1),oe?(0,se.U)(_e):(0,W.v)(()=>new g.G))}(),(0,R.ZZ)(Pt=>{if(null===Pt)return Zr(Ee);const pn=G(Pt);return function yo(te){te.sort((_e,oe)=>_e.value.outlet===Ie?-1:oe.value.outlet===Ie?1:_e.value.outlet.localeCompare(oe.value.outlet))}(pn),(0,v.of)(pn)}))}processSegment(_e,oe,Ee,tt,gt,Pt,pn){return(0,f.H)(oe).pipe((0,P.H)(dn=>this.processSegmentAgainstRoute(dn._injector??_e,oe,dn,Ee,tt,gt,Pt,pn).pipe((0,V.W)(Rn=>{if(Rn instanceof ks)return(0,v.of)(null);throw Rn}))),(0,F.$)(dn=>!!dn),(0,V.W)(dn=>{if(He(dn))return function Fl(te,_e,oe){return 0===_e.length&&!te.children[oe]}(Ee,tt,gt)?(0,v.of)(new es):Zr(Ee);throw dn}))}processSegmentAgainstRoute(_e,oe,Ee,tt,gt,Pt,pn,dn){return function ds(te,_e,oe,Ee){return!!(as(te)===Ee||Ee!==Ie&&co(_e,oe,te))&&nl(_e,te,oe).matched}(Ee,tt,gt,Pt)?void 0===Ee.redirectTo?this.matchSegmentAgainstRoute(_e,tt,Ee,gt,Pt,dn):this.allowRedirects&&pn?this.expandSegmentAgainstRouteUsingRedirect(_e,tt,oe,Ee,gt,Pt,dn):Zr(tt):Zr(tt)}expandSegmentAgainstRouteUsingRedirect(_e,oe,Ee,tt,gt,Pt,pn){const{matched:dn,parameters:Rn,consumedSegments:Ci,positionalParamSegments:Wn,remainingSegments:wo}=nl(oe,tt,gt);if(!dn)return Zr(oe);"string"==typeof tt.redirectTo&&"/"===tt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ts=new hr(gt,Rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,et(tt),as(tt),tt.component??tt._loadedComponent??null,tt,_t(tt)),us=Yr(ts,pn,this.paramsInheritanceStrategy);ts.params=Object.freeze(us.params),ts.data=Object.freeze(us.data);const Ga=this.applyRedirects.applyRedirectCommands(Ci,tt.redirectTo,Wn,ts,_e);return this.applyRedirects.lineralizeSegments(tt,Ga).pipe((0,R.ZZ)(Ir=>this.processSegment(_e,Ee,oe,Ir.concat(wo),Pt,!1,pn)))}matchSegmentAgainstRoute(_e,oe,Ee,tt,gt,Pt){const pn=gl(oe,Ee,tt,_e);return"**"===Ee.path&&(oe.children={}),pn.pipe((0,A.n)(dn=>dn.matched?this.getChildConfig(_e=Ee._injector??_e,Ee,tt).pipe((0,A.n)(({routes:Rn})=>{const Ci=Ee._loadedInjector??_e,{parameters:Wn,consumedSegments:wo,remainingSegments:ts}=dn,us=new hr(wo,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,et(Ee),as(Ee),Ee.component??Ee._loadedComponent??null,Ee,_t(Ee)),Ga=Yr(us,Pt,this.paramsInheritanceStrategy);us.params=Object.freeze(Ga.params),us.data=Object.freeze(Ga.data);const{segmentGroup:Ir,slicedSegments:oc}=vl(oe,wo,ts,Rn);if(0===oc.length&&Ir.hasChildren())return this.processChildren(Ci,Rn,Ir,us).pipe((0,D.T)(Cl=>new Gn(us,Cl)));if(0===Rn.length&&0===oc.length)return(0,v.of)(new Gn(us,[]));const rp=as(Ee)===gt;return this.processSegment(Ci,Rn,Ir,oc,rp?Ie:gt,!0,us).pipe((0,D.T)(Cl=>new Gn(us,Cl instanceof Gn?[Cl]:[])))})):Zr(oe)))}getChildConfig(_e,oe,Ee){return oe.children?(0,v.of)({routes:oe.children,injector:_e}):oe.loadChildren?void 0!==oe._loadedRoutes?(0,v.of)({routes:oe._loadedRoutes,injector:oe._loadedInjector}):function hd(te,_e,oe,Ee){const tt=_e.canLoad;if(void 0===tt||0===tt.length)return(0,v.of)(!0);const gt=tt.map(Pt=>{const pn=be(Pt,te);return Se(function vo(te){return te&&Kn(te.canLoad)}(pn)?pn.canLoad(_e,oe):(0,t.N4e)(te,()=>pn(_e,oe)))});return(0,v.of)(gt).pipe(bt(),Do())}(_e,oe,Ee).pipe((0,R.ZZ)(tt=>tt?this.configLoader.loadChildren(_e,oe).pipe((0,k.M)(gt=>{oe._loadedRoutes=gt.routes,oe._loadedInjector=gt.injector})):function $a(te){return(0,O.$)(To(!1,wi.GuardRejected))}())):(0,v.of)({routes:[],injector:_e})}}function Pl(te){const _e=te.value.routeConfig;return _e&&""===_e.path}function G(te){const _e=[],oe=new Set;for(const Ee of te){if(!Pl(Ee)){_e.push(Ee);continue}const tt=_e.find(gt=>Ee.value.routeConfig===gt.value.routeConfig);void 0!==tt?(tt.children.push(...Ee.children),oe.add(tt)):_e.push(Ee)}for(const Ee of oe){const tt=G(Ee.children);_e.push(new Gn(Ee.value,tt))}return _e.filter(Ee=>!oe.has(Ee))}function et(te){return te.data||{}}function _t(te){return te.resolve||{}}function Qt(te){const _e=te.children.map(oe=>Qt(oe)).flat();return[te,..._e]}function gi(te){return(0,A.n)(_e=>{const oe=te(_e);return oe?(0,f.H)(oe).pipe((0,D.T)(()=>_e)):(0,v.of)(_e)})}let ti=(()=>{class te{buildTitle(oe){let Ee,tt=oe.root;for(;void 0!==tt;)Ee=this.getResolvedTitleForRoute(tt)??Ee,tt=tt.children.find(gt=>gt.outlet===Ie);return Ee}getResolvedTitleForRoute(oe){return oe.data[me]}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:()=>(0,t.WQX)(Jn),providedIn:"root"})}return te})(),Jn=(()=>{class te extends ti{constructor(oe){super(),this.title=oe}updateTitle(oe){const Ee=this.buildTitle(oe);void 0!==Ee&&this.title.setTitle(Ee)}static#e=this.\u0275fac=function(Ee){return new(Ee||te)(t.KVO($e.hE))};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const Di=new t.nKC("",{providedIn:"root",factory:()=>({})});let Ni=(()=>{class te{static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275cmp=t.VBU({type:te,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(Ee,tt){1&Ee&&t.nrm(0,"router-outlet")},dependencies:[Os],encapsulation:2})}return te})();function $i(te){const _e=te.children&&te.children.map($i),oe=_e?{...te,children:_e}:{...te};return!oe.component&&!oe.loadComponent&&(_e||oe.loadChildren)&&oe.outlet&&oe.outlet!==Ie&&(oe.component=Ni),oe}const Co=new t.nKC("");let Fs=(()=>{class te{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(oe){if(this.componentLoaders.get(oe))return this.componentLoaders.get(oe);if(oe._loadedComponent)return(0,v.of)(oe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(oe);const Ee=Se(oe.loadComponent()).pipe((0,D.T)(bl),(0,k.M)(gt=>{this.onLoadEndListener&&this.onLoadEndListener(oe),oe._loadedComponent=gt}),(0,Ve.j)(()=>{this.componentLoaders.delete(oe)})),tt=new E.G(Ee,()=>new u.B7).pipe((0,We.B)());return this.componentLoaders.set(oe,tt),tt}loadChildren(oe,Ee){if(this.childrenLoaders.get(Ee))return this.childrenLoaders.get(Ee);if(Ee._loadedRoutes)return(0,v.of)({routes:Ee._loadedRoutes,injector:Ee._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ee);const gt=function io(te,_e,oe,Ee){return Se(te.loadChildren()).pipe((0,D.T)(bl),(0,R.ZZ)(tt=>tt instanceof t.Co$||Array.isArray(tt)?(0,v.of)(tt):(0,f.H)(_e.compileModuleAsync(tt))),(0,D.T)(tt=>{Ee&&Ee(te);let gt,Pt,pn=!1;return Array.isArray(tt)?(Pt=tt,!0):(gt=tt.create(oe).injector,Pt=gt.get(Co,[],{optional:!0,self:!0}).flat()),{routes:Pt.map($i),injector:gt}}))}(Ee,this.compiler,oe,this.onLoadEndListener).pipe((0,Ve.j)(()=>{this.childrenLoaders.delete(Ee)})),Pt=new E.G(gt,()=>new u.B7).pipe((0,We.B)());return this.childrenLoaders.set(Ee,Pt),Pt}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();function bl(te){return function Ll(te){return te&&"object"==typeof te&&"default"in te}(te)?te.default:te}let le=(()=>{class te{static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:()=>(0,t.WQX)(ft),providedIn:"root"})}return te})(),ft=(()=>{class te{shouldProcessUrl(oe){return!0}extract(oe){return oe}merge(oe,Ee){return oe}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const Re=new t.nKC(""),st=new t.nKC("");function zt(te,_e,oe){const Ee=te.get(st),tt=te.get(x.qQ);return te.get(t.SKi).runOutsideAngular(()=>{if(!tt.startViewTransition||Ee.skipNextTransition)return Ee.skipNextTransition=!1,new Promise(Rn=>setTimeout(Rn));let gt;const Pt=new Promise(Rn=>{gt=Rn}),pn=tt.startViewTransition(()=>(gt(),function bn(te){return new Promise(_e=>{(0,t.mal)({read:()=>setTimeout(_e)},{injector:te})})}(te))),{onViewTransitionCreated:dn}=Ee;return dn&&(0,t.N4e)(te,()=>dn({transition:pn,from:_e,to:oe})),Pt})}const wn=new t.nKC("");let si=(()=>{class te{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.B7,this.transitionAbortSubject=new u.B7,this.configLoader=(0,t.WQX)(Fs),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)($t),this.rootContexts=(0,t.WQX)(ot),this.location=(0,t.WQX)(x.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(sr,{optional:!0}),this.titleStrategy=(0,t.WQX)(ti),this.options=(0,t.WQX)(Di,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(le),this.createViewTransition=(0,t.WQX)(Re,{optional:!0}),this.navigationErrorHandler=(0,t.WQX)(wn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,v.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=tt=>this.events.next(new Rs(tt)),this.configLoader.onLoadStartListener=tt=>this.events.next(new Ho(tt))}complete(){this.transitions?.complete()}handleNavigationRequest(oe){const Ee=++this.navigationId;this.transitions?.next({...this.transitions.value,...oe,id:Ee})}setupNavigations(oe,Ee,tt){return this.transitions=new b.t({id:0,currentUrlTree:Ee,currentRawUrl:Ee,extractedUrl:this.urlHandlingStrategy.extract(Ee),urlAfterRedirects:this.urlHandlingStrategy.extract(Ee),rawUrl:Ee,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ze,restoredState:null,currentSnapshot:tt.snapshot,targetSnapshot:null,currentRouterState:tt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$.p)(gt=>0!==gt.id),(0,D.T)(gt=>({...gt,extractedUrl:this.urlHandlingStrategy.extract(gt.rawUrl)})),(0,A.n)(gt=>{let Pt=!1,pn=!1;return(0,v.of)(gt).pipe((0,A.n)(dn=>{if(this.navigationId>gt.id)return this.cancelNavigationTransition(gt,"",wi.SupersededByNewNavigation),m.w;this.currentTransition=gt,this.currentNavigation={id:dn.id,initialUrl:dn.rawUrl,extractedUrl:dn.extractedUrl,targetBrowserUrl:"string"==typeof dn.extras.browserUrl?this.urlSerializer.parse(dn.extras.browserUrl):dn.extras.browserUrl,trigger:dn.source,extras:dn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Rn=!oe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Rn&&"reload"!==(dn.extras.onSameUrlNavigation??oe.onSameUrlNavigation)){const Wn="";return this.events.next(new mo(dn.id,this.urlSerializer.serialize(dn.rawUrl),Wn,Oi.IgnoredSameUrlNavigation)),dn.resolve(!1),m.w}if(this.urlHandlingStrategy.shouldProcessUrl(dn.rawUrl))return(0,v.of)(dn).pipe((0,A.n)(Wn=>{const wo=this.transitions?.getValue();return this.events.next(new Ln(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),Wn.source,Wn.restoredState)),wo!==this.transitions?.getValue()?m.w:Promise.resolve(Wn)}),function mt(te,_e,oe,Ee,tt,gt){return(0,R.ZZ)(Pt=>function Rc(te,_e,oe,Ee,tt,gt,Pt="emptyOnly"){return new Da(te,_e,oe,Ee,tt,Pt,gt).recognize()}(te,_e,oe,Ee,Pt.extractedUrl,tt,gt).pipe((0,D.T)(({state:pn,tree:dn})=>({...Pt,targetSnapshot:pn,urlAfterRedirects:dn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,oe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,k.M)(Wn=>{gt.targetSnapshot=Wn.targetSnapshot,gt.urlAfterRedirects=Wn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects};const wo=new Li(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(wo)}));if(Rn&&this.urlHandlingStrategy.shouldProcessUrl(dn.currentRawUrl)){const{id:Wn,extractedUrl:wo,source:ts,restoredState:us,extras:Ga}=dn,Ir=new Ln(Wn,this.urlSerializer.serialize(wo),ts,us);this.events.next(Ir);const oc=ls(this.rootComponentType).snapshot;return this.currentTransition=gt={...dn,targetSnapshot:oc,urlAfterRedirects:wo,extras:{...Ga,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=wo,(0,v.of)(gt)}{const Wn="";return this.events.next(new mo(dn.id,this.urlSerializer.serialize(dn.extractedUrl),Wn,Oi.IgnoredByUrlHandlingStrategy)),dn.resolve(!1),m.w}}),(0,k.M)(dn=>{const Rn=new no(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Rn)}),(0,D.T)(dn=>(this.currentTransition=gt={...dn,guards:Et(dn.targetSnapshot,dn.currentSnapshot,this.rootContexts)},gt)),function mi(te,_e){return(0,R.ZZ)(oe=>{const{targetSnapshot:Ee,currentSnapshot:tt,guards:{canActivateChecks:gt,canDeactivateChecks:Pt}}=oe;return 0===Pt.length&&0===gt.length?(0,v.of)({...oe,guardsResult:!0}):function Yi(te,_e,oe,Ee){return(0,f.H)(te).pipe((0,R.ZZ)(tt=>function Zl(te,_e,oe,Ee,tt){const gt=_e&&_e.routeConfig?_e.routeConfig.canDeactivate:null;if(!gt||0===gt.length)return(0,v.of)(!0);const Pt=gt.map(pn=>{const dn=Xt(_e)??tt,Rn=be(pn,dn);return Se(function cs(te){return te&&Kn(te.canDeactivate)}(Rn)?Rn.canDeactivate(te,_e,oe,Ee):(0,t.N4e)(dn,()=>Rn(te,_e,oe,Ee))).pipe((0,F.$)())});return(0,v.of)(Pt).pipe(bt())}(tt.component,tt.route,oe,_e,Ee)),(0,F.$)(tt=>!0!==tt,!0))}(Pt,Ee,tt,te).pipe((0,R.ZZ)(pn=>pn&&function Fi(te){return"boolean"==typeof te}(pn)?function Gi(te,_e,oe,Ee){return(0,f.H)(_e).pipe((0,P.H)(tt=>(0,S.x)(function Ns(te,_e){return null!==te&&_e&&_e(new No(te)),(0,v.of)(!0)}(tt.route.parent,Ee),function yi(te,_e){return null!==te&&_e&&_e(new ho(te)),(0,v.of)(!0)}(tt.route,Ee),function ud(te,_e,oe){const Ee=_e[_e.length-1],gt=_e.slice(0,_e.length-1).reverse().map(Pt=>function On(te){const _e=te.routeConfig?te.routeConfig.canActivateChild:null;return _e&&0!==_e.length?{node:te,guards:_e}:null}(Pt)).filter(Pt=>null!==Pt).map(Pt=>(0,h.v)(()=>{const pn=Pt.guards.map(dn=>{const Rn=Xt(Pt.node)??oe,Ci=be(dn,Rn);return Se(function Hi(te){return te&&Kn(te.canActivateChild)}(Ci)?Ci.canActivateChild(Ee,te):(0,t.N4e)(Rn,()=>Ci(Ee,te))).pipe((0,F.$)())});return(0,v.of)(pn).pipe(bt())}));return(0,v.of)(gt).pipe(bt())}(te,tt.path,oe),function ja(te,_e,oe){const Ee=_e.routeConfig?_e.routeConfig.canActivate:null;if(!Ee||0===Ee.length)return(0,v.of)(!0);const tt=Ee.map(gt=>(0,h.v)(()=>{const Pt=Xt(_e)??oe,pn=be(gt,Pt);return Se(function Lo(te){return te&&Kn(te.canActivate)}(pn)?pn.canActivate(_e,te):(0,t.N4e)(Pt,()=>pn(_e,te))).pipe((0,F.$)())}));return(0,v.of)(tt).pipe(bt())}(te,tt.route,oe))),(0,F.$)(tt=>!0!==tt,!0))}(Ee,gt,te,_e):(0,v.of)(pn)),(0,D.T)(pn=>({...oe,guardsResult:pn})))})}(this.environmentInjector,dn=>this.events.next(dn)),(0,k.M)(dn=>{if(gt.guardsResult=dn.guardsResult,dn.guardsResult&&"boolean"!=typeof dn.guardsResult)throw Qr(0,dn.guardsResult);const Rn=new Hn(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot,!!dn.guardsResult);this.events.next(Rn)}),(0,$.p)(dn=>!!dn.guardsResult||(this.cancelNavigationTransition(dn,"",wi.GuardRejected),!1)),gi(dn=>{if(dn.guards.canActivateChecks.length)return(0,v.of)(dn).pipe((0,k.M)(Rn=>{const Ci=new Xo(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Ci)}),(0,A.n)(Rn=>{let Ci=!1;return(0,v.of)(Rn).pipe(function Vt(te,_e){return(0,R.ZZ)(oe=>{const{targetSnapshot:Ee,guards:{canActivateChecks:tt}}=oe;if(!tt.length)return(0,v.of)(oe);const gt=new Set(tt.map(dn=>dn.route)),Pt=new Set;for(const dn of gt)if(!Pt.has(dn))for(const Rn of Qt(dn))Pt.add(Rn);let pn=0;return(0,f.H)(Pt).pipe((0,P.H)(dn=>gt.has(dn)?function hn(te,_e,oe,Ee){const tt=te.routeConfig,gt=te._resolve;return void 0!==tt?.title&&!ei(tt)&&(gt[me]=tt.title),function En(te,_e,oe,Ee){const tt=Lt(te);if(0===tt.length)return(0,v.of)({});const gt={};return(0,f.H)(tt).pipe((0,R.ZZ)(Pt=>function Qn(te,_e,oe,Ee){const tt=Xt(_e)??Ee,gt=be(te,tt);return Se(gt.resolve?gt.resolve(_e,oe):(0,t.N4e)(tt,()=>gt(_e,oe)))}(te[Pt],_e,oe,Ee).pipe((0,F.$)(),(0,k.M)(pn=>{if(pn instanceof gs)throw Qr(new nn,pn);gt[Pt]=pn}))),z(1),function ae(te){return _e=>_e.lift(new Ae(te))}(gt),(0,V.W)(Pt=>He(Pt)?m.w:(0,O.$)(Pt)))}(gt,te,_e,Ee).pipe((0,D.T)(Pt=>(te._resolvedData=Pt,te.data=Yr(te,te.parent,oe).resolve,null)))}(dn,Ee,te,_e):(dn.data=Yr(dn,dn.parent,te).resolve,(0,v.of)(void 0))),(0,k.M)(()=>pn++),z(1),(0,R.ZZ)(dn=>pn===Pt.size?(0,v.of)(oe):m.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,k.M)({next:()=>Ci=!0,complete:()=>{Ci||this.cancelNavigationTransition(Rn,"",wi.NoDataFromResolver)}}))}),(0,k.M)(Rn=>{const Ci=new Bi(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Ci)}))}),gi(dn=>{const Rn=Ci=>{const Wn=[];Ci.routeConfig?.loadComponent&&!Ci.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(Ci.routeConfig).pipe((0,k.M)(wo=>{Ci.component=wo}),(0,D.T)(()=>{})));for(const wo of Ci.children)Wn.push(...Rn(wo));return Wn};return(0,C.zV)(Rn(dn.targetSnapshot.root)).pipe((0,se.U)(null),(0,L.s)(1))}),gi(()=>this.afterPreactivation()),(0,A.n)(()=>{const{currentSnapshot:dn,targetSnapshot:Rn}=gt,Ci=this.createViewTransition?.(this.environmentInjector,dn.root,Rn.root);return Ci?(0,f.H)(Ci).pipe((0,D.T)(()=>gt)):(0,v.of)(gt)}),(0,D.T)(dn=>{const Rn=function Cs(te,_e,oe){const Ee=fs(te,_e._root,oe?oe._root:void 0);return new qo(Ee,_e)}(oe.routeReuseStrategy,dn.targetSnapshot,dn.currentRouterState);return this.currentTransition=gt={...dn,targetRouterState:Rn},this.currentNavigation.targetRouterState=Rn,gt}),(0,k.M)(()=>{this.events.next(new zs)}),((te,_e,oe,Ee)=>(0,D.T)(tt=>(new Ca(_e,tt.targetRouterState,tt.currentRouterState,oe,Ee).activate(te),tt)))(this.rootContexts,oe.routeReuseStrategy,dn=>this.events.next(dn),this.inputBindingEnabled),(0,L.s)(1),(0,k.M)({next:dn=>{Pt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects))),this.titleStrategy?.updateTitle(dn.targetRouterState.snapshot),dn.resolve(!0)},complete:()=>{Pt=!0}}),(0,lt.Q)(this.transitionAbortSubject.pipe((0,k.M)(dn=>{throw dn}))),(0,Ve.j)(()=>{!Pt&&!pn&&this.cancelNavigationTransition(gt,"",wi.SupersededByNewNavigation),this.currentTransition?.id===gt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,V.W)(dn=>{if(pn=!0,Ea(dn))this.events.next(new Vi(gt.id,this.urlSerializer.serialize(gt.extractedUrl),dn.message,dn.cancellationCode)),function As(te){return Ea(te)&&cn(te.url)}(dn)?this.events.next(new Ws(dn.url,dn.navigationBehaviorOptions)):gt.resolve(!1);else{const Rn=new lo(gt.id,this.urlSerializer.serialize(gt.extractedUrl),dn,gt.targetSnapshot??void 0);try{const Ci=(0,t.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Rn));if(Ci instanceof gs){const{message:Wn,cancellationCode:wo}=Qr(0,Ci);this.events.next(new Vi(gt.id,this.urlSerializer.serialize(gt.extractedUrl),Wn,wo)),this.events.next(new Ws(Ci.redirectTo,Ci.navigationBehaviorOptions))}else{this.events.next(Rn);const Wn=oe.errorHandler(dn);gt.resolve(!!Wn)}}catch(Ci){this.options.resolveNavigationPromiseOnError?gt.resolve(!1):gt.reject(Ci)}}return m.w}))}))}cancelNavigationTransition(oe,Ee,tt){const gt=new Vi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Ee,tt);this.events.next(gt),oe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const oe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Ee=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return oe.toString()!==Ee?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();function Go(te){return te!==ze}let Qi=(()=>{class te{static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:()=>(0,t.WQX)(Nn),providedIn:"root"})}return te})();class Io{shouldDetach(_e){return!1}store(_e,oe){}shouldAttach(_e){return!1}retrieve(_e){return null}shouldReuseRoute(_e,oe){return _e.routeConfig===oe.routeConfig}}let Nn=(()=>{class te extends Io{static#e=this.\u0275fac=(()=>{let oe;return function(tt){return(oe||(oe=t.xGo(te)))(tt||te)}})();static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),ao=(()=>{class te{static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:()=>(0,t.WQX)(_o),providedIn:"root"})}return te})(),_o=(()=>{class te extends ao{constructor(){super(...arguments),this.location=(0,t.WQX)(x.aZ),this.urlSerializer=(0,t.WQX)($t),this.options=(0,t.WQX)(Di,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(le),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ls(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(oe){return this.location.subscribe(Ee=>{"popstate"===Ee.type&&oe(Ee.url,Ee.state)})}handleRouterEvent(oe,Ee){if(oe instanceof Ln)this.stateMemento=this.createStateMemento();else if(oe instanceof mo)this.rawUrlTree=Ee.initialUrl;else if(oe instanceof Li){if("eager"===this.urlUpdateStrategy&&!Ee.extras.skipLocationChange){const tt=this.urlHandlingStrategy.merge(Ee.finalUrl,Ee.initialUrl);this.setBrowserUrl(Ee.targetBrowserUrl??tt,Ee)}}else oe instanceof zs?(this.currentUrlTree=Ee.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ee.finalUrl,Ee.initialUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Ee.extras.skipLocationChange&&this.setBrowserUrl(Ee.targetBrowserUrl??this.rawUrlTree,Ee)):oe instanceof Vi&&(oe.code===wi.GuardRejected||oe.code===wi.NoDataFromResolver)?this.restoreHistory(Ee):oe instanceof lo?this.restoreHistory(Ee,!0):oe instanceof ri&&(this.lastSuccessfulId=oe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(oe,Ee){const tt=oe instanceof Rt?this.urlSerializer.serialize(oe):oe;if(this.location.isCurrentPathEqualTo(tt)||Ee.extras.replaceUrl){const Pt={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId)};this.location.replaceState(tt,"",Pt)}else{const gt={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId+1)};this.location.go(tt,"",gt)}}restoreHistory(oe,Ee=!1){if("computed"===this.canceledNavigationResolution){const gt=this.currentPageId-this.browserPageId;0!==gt?this.location.historyGo(gt):this.currentUrlTree===oe.finalUrl&&0===gt&&(this.resetState(oe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ee&&this.resetState(oe),this.resetUrlToCurrentUrlTree())}resetState(oe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,oe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(oe,Ee){return"computed"===this.canceledNavigationResolution?{navigationId:oe,\u0275routerPageId:Ee}:{navigationId:oe}}static#e=this.\u0275fac=(()=>{let oe;return function(tt){return(oe||(oe=t.xGo(te)))(tt||te)}})();static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var Ro=function(te){return te[te.COMPLETE=0]="COMPLETE",te[te.FAILED=1]="FAILED",te[te.REDIRECTING=2]="REDIRECTING",te}(Ro||{});function _r(te,_e){te.events.pipe((0,$.p)(oe=>oe instanceof ri||oe instanceof Vi||oe instanceof lo||oe instanceof mo),(0,D.T)(oe=>oe instanceof ri||oe instanceof mo?Ro.COMPLETE:oe instanceof Vi&&(oe.code===wi.Redirect||oe.code===wi.SupersededByNewNavigation)?Ro.REDIRECTING:Ro.FAILED),(0,$.p)(oe=>oe!==Ro.REDIRECTING),(0,L.s)(1)).subscribe(()=>{_e()})}function da(te){throw te}const An={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ws=(()=>{class te{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(ao),this.options=(0,t.WQX)(Di,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(si),this.urlSerializer=(0,t.WQX)($t),this.location=(0,t.WQX)(x.aZ),this.urlHandlingStrategy=(0,t.WQX)(le),this._events=new u.B7,this.errorHandler=this.options.errorHandler||da,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(Qi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(Co,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(sr,{optional:!0}),this.eventsSubscription=new M.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:oe=>{this.console.warn(oe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const oe=this.navigationTransitions.events.subscribe(Ee=>{try{const tt=this.navigationTransitions.currentTransition,gt=this.navigationTransitions.currentNavigation;if(null!==tt&&null!==gt)if(this.stateManager.handleRouterEvent(Ee,gt),Ee instanceof Vi&&Ee.code!==wi.Redirect&&Ee.code!==wi.SupersededByNewNavigation)this.navigated=!0;else if(Ee instanceof ri)this.navigated=!0;else if(Ee instanceof Ws){const Pt=Ee.navigationBehaviorOptions,pn=this.urlHandlingStrategy.merge(Ee.url,tt.currentRawUrl),dn={browserUrl:tt.extras.browserUrl,info:tt.extras.info,skipLocationChange:tt.extras.skipLocationChange,replaceUrl:tt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Go(tt.source),...Pt};this.scheduleNavigation(pn,ze,null,dn,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}(function Oa(te){return!(te instanceof zs||te instanceof Ws)})(Ee)&&this._events.next(Ee)}catch(tt){this.navigationTransitions.transitionAbortSubject.next(tt)}});this.eventsSubscription.add(oe)}resetRootComponentType(oe){this.routerState.root.component=oe,this.navigationTransitions.rootComponentType=oe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ze,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((oe,Ee)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(oe,"popstate",Ee)},0)})}navigateToSyncWithBrowser(oe,Ee,tt){const gt={replaceUrl:!0},Pt=tt?.navigationId?tt:null;if(tt){const dn={...tt};delete dn.navigationId,delete dn.\u0275routerPageId,0!==Object.keys(dn).length&&(gt.state=dn)}const pn=this.parseUrl(oe);this.scheduleNavigation(pn,Ee,Pt,gt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(oe){this.config=oe.map($i),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(oe,Ee={}){const{relativeTo:tt,queryParams:gt,fragment:Pt,queryParamsHandling:pn,preserveFragment:dn}=Ee,Rn=dn?this.currentUrlTree.fragment:Pt;let Wn,Ci=null;switch(pn){case"merge":Ci={...this.currentUrlTree.queryParams,...gt};break;case"preserve":Ci=this.currentUrlTree.queryParams;break;default:Ci=gt||null}null!==Ci&&(Ci=this.removeEmptyProps(Ci));try{Wn=ii(tt?tt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof oe[0]||"/"!==oe[0][0])&&(oe=[]),Wn=this.currentUrlTree.root}return vi(Wn,oe,Ci,Rn??null)}navigateByUrl(oe,Ee={skipLocationChange:!1}){const tt=cn(oe)?oe:this.parseUrl(oe),gt=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(gt,ze,null,Ee)}navigate(oe,Ee={skipLocationChange:!1}){return function Ia(te){for(let _e=0;_e<te.length;_e++)if(null==te[_e])throw new t.wOt(4008,!1)}(oe),this.navigateByUrl(this.createUrlTree(oe,Ee),Ee)}serializeUrl(oe){return this.urlSerializer.serialize(oe)}parseUrl(oe){try{return this.urlSerializer.parse(oe)}catch{return this.urlSerializer.parse("/")}}isActive(oe,Ee){let tt;if(tt=!0===Ee?{...An}:!1===Ee?{...mr}:Ee,cn(oe))return ie(this.currentUrlTree,oe,tt);const gt=this.parseUrl(oe);return ie(this.currentUrlTree,gt,tt)}removeEmptyProps(oe){return Object.entries(oe).reduce((Ee,[tt,gt])=>(null!=gt&&(Ee[tt]=gt),Ee),{})}scheduleNavigation(oe,Ee,tt,gt,Pt){if(this.disposed)return Promise.resolve(!1);let pn,dn,Rn;Pt?(pn=Pt.resolve,dn=Pt.reject,Rn=Pt.promise):Rn=new Promise((Wn,wo)=>{pn=Wn,dn=wo});const Ci=this.pendingTasks.add();return _r(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ci))}),this.navigationTransitions.handleNavigationRequest({source:Ee,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:oe,extras:gt,resolve:pn,reject:dn,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(Wn=>Promise.reject(Wn))}static#e=this.\u0275fac=function(Ee){return new(Ee||te)};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),Tr=(()=>{class te{constructor(oe,Ee,tt,gt,Pt,pn){this.router=oe,this.route=Ee,this.tabIndexAttribute=tt,this.renderer=gt,this.el=Pt,this.locationStrategy=pn,this.href=null,this.onChanges=new u.B7,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const dn=Pt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dn||"area"===dn,this.isAnchorElement?this.subscription=oe.events.subscribe(Rn=>{Rn instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(oe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",oe)}ngOnChanges(oe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(oe){null==oe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=cn(oe)||Array.isArray(oe)?oe:[oe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(oe,Ee,tt,gt,Pt){const pn=this.urlTree;return!!(null===pn||this.isAnchorElement&&(0!==oe||Ee||tt||gt||Pt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(pn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const oe=this.urlTree;this.href=null!==oe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(oe)):null;const Ee=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ee)}applyAttributeValue(oe,Ee){const tt=this.renderer,gt=this.el.nativeElement;null!==Ee?tt.setAttribute(gt,oe,Ee):tt.removeAttribute(gt,oe)}get urlTree(){return null===this.routerLinkInput?null:cn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Ee){return new(Ee||te)(t.rXU(ws),t.rXU(go),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(x.hb))};static#t=this.\u0275dir=t.FsC({type:te,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ee,tt){1&Ee&&t.bIt("click",function(Pt){return tt.onClick(Pt.button,Pt.ctrlKey,Pt.shiftKey,Pt.altKey,Pt.metaKey)}),2&Ee&&t.BMQ("target",tt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[2,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}return te})();class gr{}let Ua=(()=>{class te{constructor(oe,Ee,tt,gt,Pt){this.router=oe,this.injector=tt,this.preloadingStrategy=gt,this.loader=Pt}setUpPreloading(){this.subscription=this.router.events.pipe((0,$.p)(oe=>oe instanceof ri),(0,P.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(oe,Ee){const tt=[];for(const gt of Ee){gt.providers&&!gt._injector&&(gt._injector=(0,t.Ol2)(gt.providers,oe,`Route: ${gt.path}`));const Pt=gt._injector??oe,pn=gt._loadedInjector??Pt;(gt.loadChildren&&!gt._loadedRoutes&&void 0===gt.canLoad||gt.loadComponent&&!gt._loadedComponent)&&tt.push(this.preloadConfig(Pt,gt)),(gt.children||gt._loadedRoutes)&&tt.push(this.processRoutes(pn,gt.children??gt._loadedRoutes))}return(0,f.H)(tt).pipe((0,nt.U)())}preloadConfig(oe,Ee){return this.preloadingStrategy.preload(Ee,()=>{let tt;tt=Ee.loadChildren&&void 0===Ee.canLoad?this.loader.loadChildren(oe,Ee):(0,v.of)(null);const gt=tt.pipe((0,R.ZZ)(Pt=>null===Pt?(0,v.of)(void 0):(Ee._loadedRoutes=Pt.routes,Ee._loadedInjector=Pt.injector,this.processRoutes(Pt.injector??oe,Pt.routes))));if(Ee.loadComponent&&!Ee._loadedComponent){const Pt=this.loader.loadComponent(Ee);return(0,f.H)([gt,Pt]).pipe((0,nt.U)())}return gt})}static#e=this.\u0275fac=function(Ee){return new(Ee||te)(t.KVO(ws),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(gr),t.KVO(Fs))};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const wa=new t.nKC("");let Ac=(()=>{class te{constructor(oe,Ee,tt,gt,Pt={}){this.urlSerializer=oe,this.transitions=Ee,this.viewportScroller=tt,this.zone=gt,this.options=Pt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pt.scrollPositionRestoration||="disabled",Pt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(oe=>{oe instanceof Ln?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=oe.navigationTrigger,this.restoredId=oe.restoredState?oe.restoredState.navigationId:0):oe instanceof ri?(this.lastId=oe.id,this.scheduleScrollEvent(oe,this.urlSerializer.parse(oe.urlAfterRedirects).fragment)):oe instanceof mo&&oe.code===Oi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(oe,this.urlSerializer.parse(oe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(oe=>{oe instanceof Ds&&(oe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(oe.position):oe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(oe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(oe,Ee){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ds(oe,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ee))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ee){t.QTQ()};static#t=this.\u0275prov=t.jDH({token:te,factory:te.\u0275fac})}return te})();function xa(te,_e){return{\u0275kind:te,\u0275providers:_e}}function Lr(){const te=(0,t.WQX)(t.zZn);return _e=>{const oe=te.get(t.o8S);if(_e!==oe.components[0])return;const Ee=te.get(ws),tt=te.get(ta);1===te.get(fo)&&Ee.initialNavigation(),te.get(pd,null,t.$GK.Optional)?.setUpPreloading(),te.get(wa,null,t.$GK.Optional)?.init(),Ee.resetRootComponentType(oe.componentTypes[0]),tt.closed||(tt.next(),tt.complete(),tt.unsubscribe())}}const ta=new t.nKC("",{factory:()=>new u.B7}),fo=new t.nKC("",{providedIn:"root",factory:()=>1}),pd=new t.nKC("");function kc(te){return xa(0,[{provide:pd,useExisting:Ua},{provide:gr,useExisting:te}])}function Sh(te){return xa(9,[{provide:Re,useValue:zt},{provide:st,useValue:{skipNextTransition:!!te?.skipInitialTransition,...te}}])}const il=new t.nKC("ROUTER_FORROOT_GUARD"),Dr=[x.aZ,{provide:$t,useClass:nn},ws,ot,{provide:go,useFactory:function Ps(te){return te.routerState.root},deps:[ws]},Fs,[]];let Mh=(()=>{class te{constructor(oe){}static forRoot(oe,Ee){return{ngModule:te,providers:[Dr,[],{provide:Co,multi:!0,useValue:oe},{provide:il,useFactory:El,deps:[[ws,new t.Xx1,new t.kdw]]},{provide:Di,useValue:Ee||{}},Ee?.useHash?{provide:x.hb,useClass:x.fw}:{provide:x.hb,useClass:x.Sm},{provide:wa,useFactory:()=>{const te=(0,t.WQX)(x.Xr),_e=(0,t.WQX)(t.SKi),oe=(0,t.WQX)(Di),Ee=(0,t.WQX)(si),tt=(0,t.WQX)($t);return oe.scrollOffset&&te.setOffset(oe.scrollOffset),new Ac(tt,Ee,te,_e,oe)}},Ee?.preloadingStrategy?kc(Ee.preloadingStrategy).\u0275providers:[],Ee?.initialNavigation?js(Ee):[],Ee?.bindToComponentInputs?xa(8,[ca,{provide:sr,useExisting:ca}]).\u0275providers:[],Ee?.enableViewTransitions?Sh().\u0275providers:[],[{provide:Fc,useFactory:Lr},{provide:t.iLQ,multi:!0,useExisting:Fc}]]}}static forChild(oe){return{ngModule:te,providers:[{provide:Co,multi:!0,useValue:oe}]}}static#e=this.\u0275fac=function(Ee){return new(Ee||te)(t.KVO(il,8))};static#t=this.\u0275mod=t.$C({type:te});static#n=this.\u0275inj=t.G2t({})}return te})();function El(te){return"guarded"}function js(te){return["disabled"===te.initialNavigation?xa(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const _e=(0,t.WQX)(ws);return()=>{_e.setUpLocationChangeListener()}}},{provide:fo,useValue:2}]).\u0275providers:[],"enabledBlocking"===te.initialNavigation?xa(2,[{provide:fo,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:_e=>{const oe=_e.get(x.hj,Promise.resolve());return()=>oe.then(()=>new Promise(Ee=>{const tt=_e.get(ws),gt=_e.get(ta);_r(tt,()=>{Ee(!0)}),_e.get(si).afterPreactivation=()=>(Ee(!0),gt.closed?(0,v.of)(void 0):gt),tt.initialNavigation()}))}}]).\u0275providers:[]]}const Fc=new t.nKC("")},1780:(At,ue,a)=>{"use strict";a.d(ue,{D9:()=>se,Wr:()=>m,c$:()=>Q,h:()=>ce});var t=a(3953),n=a(4421),f=a(8982),v=a(696),b=a(1639),C=a(9418),g=a(9493),S=a(8712),h=a(5006),y=a(3574),O=a(9090);class m{}let E=(()=>{class z extends m{getTranslation(j){return(0,n.of)({})}}return z.\u0275fac=(()=>{let w;return function(W){return(w||(w=t.xGo(z)))(W||z)}})(),z.\u0275prov=t.jDH({token:z,factory:z.\u0275fac}),z})();class u{}let M=(()=>{class z{handle(j){return j.key}}return z.\u0275fac=function(j){return new(j||z)},z.\u0275prov=t.jDH({token:z,factory:z.\u0275fac}),z})();function x(z,w){if(z===w)return!0;if(null===z||null===w)return!1;if(z!=z&&w!=w)return!0;let ne,fe,ae,j=typeof z;if(j==typeof w&&"object"==j){if(!Array.isArray(z)){if(Array.isArray(w))return!1;for(fe in ae=Object.create(null),z){if(!x(z[fe],w[fe]))return!1;ae[fe]=!0}for(fe in w)if(!(fe in ae)&&typeof w[fe]<"u")return!1;return!0}if(!Array.isArray(w))return!1;if((ne=z.length)==w.length){for(fe=0;fe<ne;fe++)if(!x(z[fe],w[fe]))return!1;return!0}}return!1}function D(z){return typeof z<"u"&&null!==z}function A(z){return z&&"object"==typeof z&&!Array.isArray(z)}function L(z,w){let j=Object.assign({},z);return A(z)&&A(w)&&Object.keys(w).forEach(W=>{A(w[W])?W in z?j[W]=L(z[W],w[W]):Object.assign(j,{[W]:w[W]}):Object.assign(j,{[W]:w[W]})}),j}class l{}let $=(()=>{class z extends l{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(j,W){let ne;return ne="string"==typeof j?this.interpolateString(j,W):"function"==typeof j?this.interpolateFunction(j,W):j,ne}getValue(j,W){let ne="string"==typeof W?W.split("."):[W];W="";do{W+=ne.shift(),!D(j)||!D(j[W])||"object"!=typeof j[W]&&ne.length?ne.length?W+=".":j=void 0:(j=j[W],W="")}while(ne.length);return j}interpolateFunction(j,W){return j(W)}interpolateString(j,W){return W?j.replace(this.templateMatcher,(ne,fe)=>{let ae=this.getValue(W,fe);return D(ae)?ae:ne}):j}}return z.\u0275fac=(()=>{let w;return function(W){return(w||(w=t.xGo(z)))(W||z)}})(),z.\u0275prov=t.jDH({token:z,factory:z.\u0275fac}),z})();class R{}let F=(()=>{class z extends R{compile(j,W){return j}compileTranslations(j,W){return j}}return z.\u0275fac=(()=>{let w;return function(W){return(w||(w=t.xGo(z)))(W||z)}})(),z.\u0275prov=t.jDH({token:z,factory:z.\u0275fac}),z})();class P{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.bkB,this.onLangChange=new t.bkB,this.onDefaultLangChange=new t.bkB}}const k=new t.nKC("USE_STORE"),V=new t.nKC("USE_DEFAULT_LANG"),K=new t.nKC("DEFAULT_LANGUAGE"),X=new t.nKC("USE_EXTEND");let Q=(()=>{class z{constructor(j,W,ne,fe,ae,Ae=!0,Me=!1,Ve=!1,We){this.store=j,this.currentLoader=W,this.compiler=ne,this.parser=fe,this.missingTranslationHandler=ae,this.useDefaultLang=Ae,this.isolate=Me,this.extend=Ve,this.pending=!1,this._onTranslationChange=new t.bkB,this._onLangChange=new t.bkB,this._onDefaultLangChange=new t.bkB,this._langs=[],this._translations={},this._translationRequests={},We&&this.setDefaultLang(We)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(j){this.isolate?this._defaultLang=j:this.store.defaultLang=j}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(j){this.isolate?this._currentLang=j:this.store.currentLang=j}get langs(){return this.isolate?this._langs:this.store.langs}set langs(j){this.isolate?this._langs=j:this.store.langs=j}get translations(){return this.isolate?this._translations:this.store.translations}set translations(j){this.isolate?this._translations=j:this.store.translations=j}setDefaultLang(j){if(j===this.defaultLang)return;let W=this.retrieveTranslations(j);typeof W<"u"?(null==this.defaultLang&&(this.defaultLang=j),W.pipe((0,g.s)(1)).subscribe(ne=>{this.changeDefaultLang(j)})):this.changeDefaultLang(j)}getDefaultLang(){return this.defaultLang}use(j){if(j===this.currentLang)return(0,n.of)(this.translations[j]);let W=this.retrieveTranslations(j);return typeof W<"u"?(this.currentLang||(this.currentLang=j),W.pipe((0,g.s)(1)).subscribe(ne=>{this.changeLang(j)}),W):(this.changeLang(j),(0,n.of)(this.translations[j]))}retrieveTranslations(j){let W;return(typeof this.translations[j]>"u"||this.extend)&&(this._translationRequests[j]=this._translationRequests[j]||this.getTranslation(j),W=this._translationRequests[j]),W}getTranslation(j){this.pending=!0;const W=this.currentLoader.getTranslation(j).pipe((0,S.t)(1),(0,g.s)(1));return this.loadingTranslations=W.pipe((0,h.T)(ne=>this.compiler.compileTranslations(ne,j)),(0,S.t)(1),(0,g.s)(1)),this.loadingTranslations.subscribe({next:ne=>{this.translations[j]=this.extend&&this.translations[j]?{...ne,...this.translations[j]}:ne,this.updateLangs(),this.pending=!1},error:ne=>{this.pending=!1}}),W}setTranslation(j,W,ne=!1){W=this.compiler.compileTranslations(W,j),this.translations[j]=(ne||this.extend)&&this.translations[j]?L(this.translations[j],W):W,this.updateLangs(),this.onTranslationChange.emit({lang:j,translations:this.translations[j]})}getLangs(){return this.langs}addLangs(j){j.forEach(W=>{-1===this.langs.indexOf(W)&&this.langs.push(W)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(j,W,ne){let fe;if(W instanceof Array){let ae={},Ae=!1;for(let Me of W)ae[Me]=this.getParsedResult(j,Me,ne),(0,f.A)(ae[Me])&&(Ae=!0);if(Ae){const Me=W.map(Ve=>(0,f.A)(ae[Ve])?ae[Ve]:(0,n.of)(ae[Ve]));return(0,v.p)(Me).pipe((0,h.T)(Ve=>{let We={};return Ve.forEach((lt,nt)=>{We[W[nt]]=lt}),We}))}return ae}if(j&&(fe=this.parser.interpolate(this.parser.getValue(j,W),ne)),typeof fe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(fe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],W),ne)),typeof fe>"u"){let ae={key:W,translateService:this};typeof ne<"u"&&(ae.interpolateParams=ne),fe=this.missingTranslationHandler.handle(ae)}return typeof fe<"u"?fe:W}get(j,W){if(!D(j)||!j.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,y.H)(ne=>(ne=this.getParsedResult(ne,j,W),(0,f.A)(ne)?ne:(0,n.of)(ne))));{let ne=this.getParsedResult(this.translations[this.currentLang],j,W);return(0,f.A)(ne)?ne:(0,n.of)(ne)}}getStreamOnTranslationChange(j,W){if(!D(j)||!j.length)throw new Error('Parameter "key" required');return(0,b.x)((0,C.v)(()=>this.get(j,W)),this.onTranslationChange.pipe((0,O.n)(ne=>{const fe=this.getParsedResult(ne.translations,j,W);return"function"==typeof fe.subscribe?fe:(0,n.of)(fe)})))}stream(j,W){if(!D(j)||!j.length)throw new Error('Parameter "key" required');return(0,b.x)((0,C.v)(()=>this.get(j,W)),this.onLangChange.pipe((0,O.n)(ne=>{const fe=this.getParsedResult(ne.translations,j,W);return(0,f.A)(fe)?fe:(0,n.of)(fe)})))}instant(j,W){if(!D(j)||!j.length)throw new Error('Parameter "key" required');let ne=this.getParsedResult(this.translations[this.currentLang],j,W);if((0,f.A)(ne)){if(j instanceof Array){let fe={};return j.forEach((ae,Ae)=>{fe[j[Ae]]=j[Ae]}),fe}return j}return ne}set(j,W,ne=this.currentLang){this.translations[ne][j]=this.compiler.compile(W,ne),this.updateLangs(),this.onTranslationChange.emit({lang:ne,translations:this.translations[ne]})}changeLang(j){this.currentLang=j,this.onLangChange.emit({lang:j,translations:this.translations[j]}),null==this.defaultLang&&this.changeDefaultLang(j)}changeDefaultLang(j){this.defaultLang=j,this.onDefaultLangChange.emit({lang:j,translations:this.translations[j]})}reloadLang(j){return this.resetLang(j),this.getTranslation(j)}resetLang(j){this._translationRequests[j]=void 0,this.translations[j]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let j=window.navigator.languages?window.navigator.languages[0]:null;return j=j||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof j>"u"?void 0:(-1!==j.indexOf("-")&&(j=j.split("-")[0]),-1!==j.indexOf("_")&&(j=j.split("_")[0]),j)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let j=window.navigator.languages?window.navigator.languages[0]:null;return j=j||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,j}}return z.\u0275fac=function(j){return new(j||z)(t.KVO(P),t.KVO(m),t.KVO(R),t.KVO(l),t.KVO(u),t.KVO(V),t.KVO(k),t.KVO(X),t.KVO(K))},z.\u0275prov=t.jDH({token:z,factory:z.\u0275fac}),z})(),se=(()=>{class z{constructor(j,W){this.translate=j,this._ref=W,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(j,W,ne){let fe=ae=>{this.value=void 0!==ae?ae:j,this.lastKey=j,this._ref.markForCheck()};if(ne){let ae=this.translate.getParsedResult(ne,j,W);(0,f.A)(ae.subscribe)?ae.subscribe(fe):fe(ae)}this.translate.get(j,W).subscribe(fe)}transform(j,...W){if(!j||!j.length)return j;if(x(j,this.lastKey)&&x(W,this.lastParams))return this.value;let ne;if(D(W[0])&&W.length)if("string"==typeof W[0]&&W[0].length){let fe=W[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ne=JSON.parse(fe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${W[0]}`)}}else"object"==typeof W[0]&&!Array.isArray(W[0])&&(ne=W[0]);return this.lastKey=j,this.lastParams=W,this.updateValue(j,ne),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(fe=>{this.lastKey&&fe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(j,ne,fe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(fe=>{this.lastKey&&(this.lastKey=null,this.updateValue(j,ne,fe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(j,ne))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return z.\u0275fac=function(j){return new(j||z)(t.rXU(Q,16),t.rXU(t.gRc,16))},z.\u0275pipe=t.EJ8({name:"translate",type:z,pure:!1}),z.\u0275prov=t.jDH({token:z,factory:z.\u0275fac}),z})(),ce=(()=>{class z{static forRoot(j={}){return{ngModule:z,providers:[j.loader||{provide:m,useClass:E},j.compiler||{provide:R,useClass:F},j.parser||{provide:l,useClass:$},j.missingTranslationHandler||{provide:u,useClass:M},P,{provide:k,useValue:j.isolate},{provide:V,useValue:j.useDefaultLang},{provide:X,useValue:j.extend},{provide:K,useValue:j.defaultLanguage},Q]}}static forChild(j={}){return{ngModule:z,providers:[j.loader||{provide:m,useClass:E},j.compiler||{provide:R,useClass:F},j.parser||{provide:l,useClass:$},j.missingTranslationHandler||{provide:u,useClass:M},{provide:k,useValue:j.isolate},{provide:V,useValue:j.useDefaultLang},{provide:X,useValue:j.extend},{provide:K,useValue:j.defaultLanguage},Q]}}}return z.\u0275fac=function(j){return new(j||z)},z.\u0275mod=t.$C({type:z}),z.\u0275inj=t.G2t({}),z})()},1666:(At,ue,a)=>{"use strict";a.d(ue,{q:()=>n});let t={};function n(){return t}},6708:(At,ue,a)=>{"use strict";function t(n){return f=>{const b=(n?Math[n]:Math.trunc)(f);return 0===b?0:b}}a.d(ue,{u:()=>t})},5872:(At,ue,a)=>{"use strict";a.d(ue,{G:()=>n});var t=a(4273);function n(f){const v=(0,t.a)(f),b=new Date(Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds()));return b.setUTCFullYear(v.getFullYear()),+f-+b}},9015:(At,ue,a)=>{"use strict";a.d(ue,{W:()=>b});var t=a(906),n=a(5458),f=a(7729),v=a(4273);function b(g,S){const{years:h=0,months:y=0,weeks:O=0,days:m=0,hours:E=0,minutes:u=0,seconds:M=0}=S,x=(0,v.a)(g),D=y||h?(0,n.P)(x,y+12*h):x,A=m||O?(0,t.f)(D,m+7*O):D,$=1e3*(M+60*(u+60*E));return(0,f.w)(g,A.getTime()+$)}},906:(At,ue,a)=>{"use strict";a.d(ue,{f:()=>f});var t=a(4273),n=a(7729);function f(b,C){const g=(0,t.a)(b);return isNaN(C)?(0,n.w)(b,NaN):(C&&g.setDate(g.getDate()+C),g)}},3368:(At,ue,a)=>{"use strict";a.d(ue,{L:()=>f});var t=a(1113),n=a(9857);function f(b,C){return(0,t.A)(b,C*n.s0)}},1113:(At,ue,a)=>{"use strict";a.d(ue,{A:()=>f});var t=a(4273),n=a(7729);function f(b,C){const g=+(0,t.a)(b);return(0,n.w)(b,g+C)}},7926:(At,ue,a)=>{"use strict";a.d(ue,{z:()=>f});var t=a(1113),n=a(9857);function f(b,C){return(0,t.A)(b,C*n.Cg)}},5458:(At,ue,a)=>{"use strict";a.d(ue,{P:()=>f});var t=a(4273),n=a(7729);function f(b,C){const g=(0,t.a)(b);if(isNaN(C))return(0,n.w)(b,NaN);if(!C)return g;const S=g.getDate(),h=(0,n.w)(b,g.getTime());return h.setMonth(g.getMonth()+C+1,0),S>=h.getDate()?h:(g.setFullYear(h.getFullYear(),h.getMonth(),S),g)}},6299:(At,ue,a)=>{"use strict";a.d(ue,{e:()=>n});var t=a(5458);function n(v,b){return(0,t.P)(v,12*b)}},9857:(At,ue,a)=>{"use strict";a.d(ue,{Cg:()=>g,F6:()=>m,Nw:()=>O,my:()=>b,s0:()=>S,w4:()=>C}),Math.pow(10,8);const b=6048e5,C=864e5,g=6e4,S=36e5,O=43200,m=1440},7729:(At,ue,a)=>{"use strict";function t(f,v){return f instanceof Date?new f.constructor(v):new Date(v)}a.d(ue,{w:()=>t})},129:(At,ue,a)=>{"use strict";a.d(ue,{m:()=>v});var t=a(9857),n=a(3601),f=a(5872);function v(C,g){const S=(0,n.o)(C),h=(0,n.o)(g),y=+S-(0,f.G)(S),O=+h-(0,f.G)(h);return Math.round((y-O)/t.w4)}},4812:(At,ue,a)=>{"use strict";a.d(ue,{b:()=>n});var t=a(4273);function n(v,b){return+(0,t.a)(v)-+(0,t.a)(b)}},2037:(At,ue,a)=>{"use strict";a.d(ue,{o:()=>v});var t=a(6708),n=a(9857),f=a(4812);function v(C,g,S){const h=(0,f.b)(C,g)/n.Cg;return(0,t.u)(S?.roundingMethod)(h)}},4512:(At,ue,a)=>{"use strict";a.d(ue,{D:()=>n});var t=a(4273);function n(v){const b=(0,t.a)(v);return b.setHours(23,59,59,999),b}},350:(At,ue,a)=>{"use strict";a.d(ue,{V:()=>n});var t=a(4273);function n(v){const b=(0,t.a)(v);return b.setSeconds(59,999),b}},4361:(At,ue,a)=>{"use strict";a.d(ue,{GP:()=>at});var t=a(3501),n=a(1666),f=a(129),v=a(4273),b=a(7729);var y=a(9857),O=a(7793);function m(Ot){return(0,O.k)(Ot,{weekStartsOn:1})}function u(Ot){const Se=(0,v.a)(Ot),ve=Se.getFullYear(),N=(0,b.w)(Ot,0);N.setFullYear(ve+1,0,4),N.setHours(0,0,0,0);const ie=m(N),Y=(0,b.w)(Ot,0);Y.setFullYear(ve,0,4),Y.setHours(0,0,0,0);const ye=m(Y);return Se.getTime()>=ie.getTime()?ve+1:Se.getTime()>=ye.getTime()?ve:ve-1}function l(Ot,Se){const ve=(0,v.a)(Ot),N=ve.getFullYear(),ie=(0,n.q)(),Y=Se?.firstWeekContainsDate??Se?.locale?.options?.firstWeekContainsDate??ie.firstWeekContainsDate??ie.locale?.options?.firstWeekContainsDate??1,ye=(0,b.w)(Ot,0);ye.setFullYear(N+1,0,Y),ye.setHours(0,0,0,0);const Ze=(0,O.k)(ye,Se),Ft=(0,b.w)(Ot,0);Ft.setFullYear(N,0,Y),Ft.setHours(0,0,0,0);const sn=(0,O.k)(Ft,Se);return ve.getTime()>=Ze.getTime()?N+1:ve.getTime()>=sn.getTime()?N:N-1}function V(Ot,Se){return(Ot<0?"-":"")+Math.abs(Ot).toString().padStart(Se,"0")}const K={y(Ot,Se){const ve=Ot.getFullYear(),N=ve>0?ve:1-ve;return V("yy"===Se?N%100:N,Se.length)},M(Ot,Se){const ve=Ot.getMonth();return"M"===Se?String(ve+1):V(ve+1,2)},d:(Ot,Se)=>V(Ot.getDate(),Se.length),a(Ot,Se){const ve=Ot.getHours()/12>=1?"pm":"am";switch(Se){case"a":case"aa":return ve.toUpperCase();case"aaa":return ve;case"aaaaa":return ve[0];default:return"am"===ve?"a.m.":"p.m."}},h:(Ot,Se)=>V(Ot.getHours()%12||12,Se.length),H:(Ot,Se)=>V(Ot.getHours(),Se.length),m:(Ot,Se)=>V(Ot.getMinutes(),Se.length),s:(Ot,Se)=>V(Ot.getSeconds(),Se.length),S(Ot,Se){const ve=Se.length,N=Ot.getMilliseconds();return V(Math.trunc(N*Math.pow(10,ve-3)),Se.length)}},Q={G:function(Ot,Se,ve){const N=Ot.getFullYear()>0?1:0;switch(Se){case"G":case"GG":case"GGG":return ve.era(N,{width:"abbreviated"});case"GGGGG":return ve.era(N,{width:"narrow"});default:return ve.era(N,{width:"wide"})}},y:function(Ot,Se,ve){if("yo"===Se){const N=Ot.getFullYear();return ve.ordinalNumber(N>0?N:1-N,{unit:"year"})}return K.y(Ot,Se)},Y:function(Ot,Se,ve,N){const ie=l(Ot,N),Y=ie>0?ie:1-ie;return"YY"===Se?V(Y%100,2):"Yo"===Se?ve.ordinalNumber(Y,{unit:"year"}):V(Y,Se.length)},R:function(Ot,Se){return V(u(Ot),Se.length)},u:function(Ot,Se){return V(Ot.getFullYear(),Se.length)},Q:function(Ot,Se,ve){const N=Math.ceil((Ot.getMonth()+1)/3);switch(Se){case"Q":return String(N);case"QQ":return V(N,2);case"Qo":return ve.ordinalNumber(N,{unit:"quarter"});case"QQQ":return ve.quarter(N,{width:"abbreviated",context:"formatting"});case"QQQQQ":return ve.quarter(N,{width:"narrow",context:"formatting"});default:return ve.quarter(N,{width:"wide",context:"formatting"})}},q:function(Ot,Se,ve){const N=Math.ceil((Ot.getMonth()+1)/3);switch(Se){case"q":return String(N);case"qq":return V(N,2);case"qo":return ve.ordinalNumber(N,{unit:"quarter"});case"qqq":return ve.quarter(N,{width:"abbreviated",context:"standalone"});case"qqqqq":return ve.quarter(N,{width:"narrow",context:"standalone"});default:return ve.quarter(N,{width:"wide",context:"standalone"})}},M:function(Ot,Se,ve){const N=Ot.getMonth();switch(Se){case"M":case"MM":return K.M(Ot,Se);case"Mo":return ve.ordinalNumber(N+1,{unit:"month"});case"MMM":return ve.month(N,{width:"abbreviated",context:"formatting"});case"MMMMM":return ve.month(N,{width:"narrow",context:"formatting"});default:return ve.month(N,{width:"wide",context:"formatting"})}},L:function(Ot,Se,ve){const N=Ot.getMonth();switch(Se){case"L":return String(N+1);case"LL":return V(N+1,2);case"Lo":return ve.ordinalNumber(N+1,{unit:"month"});case"LLL":return ve.month(N,{width:"abbreviated",context:"standalone"});case"LLLLL":return ve.month(N,{width:"narrow",context:"standalone"});default:return ve.month(N,{width:"wide",context:"standalone"})}},w:function(Ot,Se,ve,N){const ie=function P(Ot,Se){const ve=(0,v.a)(Ot),N=+(0,O.k)(ve,Se)-+function R(Ot,Se){const ve=(0,n.q)(),N=Se?.firstWeekContainsDate??Se?.locale?.options?.firstWeekContainsDate??ve.firstWeekContainsDate??ve.locale?.options?.firstWeekContainsDate??1,ie=l(Ot,Se),Y=(0,b.w)(Ot,0);return Y.setFullYear(ie,0,N),Y.setHours(0,0,0,0),(0,O.k)(Y,Se)}(ve,Se);return Math.round(N/y.my)+1}(Ot,N);return"wo"===Se?ve.ordinalNumber(ie,{unit:"week"}):V(ie,Se.length)},I:function(Ot,Se,ve){const N=function A(Ot){const Se=(0,v.a)(Ot),ve=+m(Se)-+function x(Ot){const Se=u(Ot),ve=(0,b.w)(Ot,0);return ve.setFullYear(Se,0,4),ve.setHours(0,0,0,0),m(ve)}(Se);return Math.round(ve/y.my)+1}(Ot);return"Io"===Se?ve.ordinalNumber(N,{unit:"week"}):V(N,Se.length)},d:function(Ot,Se,ve){return"do"===Se?ve.ordinalNumber(Ot.getDate(),{unit:"date"}):K.d(Ot,Se)},D:function(Ot,Se,ve){const N=function S(Ot){const Se=(0,v.a)(Ot);return(0,f.m)(Se,function C(Ot){const Se=(0,v.a)(Ot),ve=(0,b.w)(Ot,0);return ve.setFullYear(Se.getFullYear(),0,1),ve.setHours(0,0,0,0),ve}(Se))+1}(Ot);return"Do"===Se?ve.ordinalNumber(N,{unit:"dayOfYear"}):V(N,Se.length)},E:function(Ot,Se,ve){const N=Ot.getDay();switch(Se){case"E":case"EE":case"EEE":return ve.day(N,{width:"abbreviated",context:"formatting"});case"EEEEE":return ve.day(N,{width:"narrow",context:"formatting"});case"EEEEEE":return ve.day(N,{width:"short",context:"formatting"});default:return ve.day(N,{width:"wide",context:"formatting"})}},e:function(Ot,Se,ve,N){const ie=Ot.getDay(),Y=(ie-N.weekStartsOn+8)%7||7;switch(Se){case"e":return String(Y);case"ee":return V(Y,2);case"eo":return ve.ordinalNumber(Y,{unit:"day"});case"eee":return ve.day(ie,{width:"abbreviated",context:"formatting"});case"eeeee":return ve.day(ie,{width:"narrow",context:"formatting"});case"eeeeee":return ve.day(ie,{width:"short",context:"formatting"});default:return ve.day(ie,{width:"wide",context:"formatting"})}},c:function(Ot,Se,ve,N){const ie=Ot.getDay(),Y=(ie-N.weekStartsOn+8)%7||7;switch(Se){case"c":return String(Y);case"cc":return V(Y,Se.length);case"co":return ve.ordinalNumber(Y,{unit:"day"});case"ccc":return ve.day(ie,{width:"abbreviated",context:"standalone"});case"ccccc":return ve.day(ie,{width:"narrow",context:"standalone"});case"cccccc":return ve.day(ie,{width:"short",context:"standalone"});default:return ve.day(ie,{width:"wide",context:"standalone"})}},i:function(Ot,Se,ve){const N=Ot.getDay(),ie=0===N?7:N;switch(Se){case"i":return String(ie);case"ii":return V(ie,Se.length);case"io":return ve.ordinalNumber(ie,{unit:"day"});case"iii":return ve.day(N,{width:"abbreviated",context:"formatting"});case"iiiii":return ve.day(N,{width:"narrow",context:"formatting"});case"iiiiii":return ve.day(N,{width:"short",context:"formatting"});default:return ve.day(N,{width:"wide",context:"formatting"})}},a:function(Ot,Se,ve){const ie=Ot.getHours()/12>=1?"pm":"am";switch(Se){case"a":case"aa":return ve.dayPeriod(ie,{width:"abbreviated",context:"formatting"});case"aaa":return ve.dayPeriod(ie,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return ve.dayPeriod(ie,{width:"narrow",context:"formatting"});default:return ve.dayPeriod(ie,{width:"wide",context:"formatting"})}},b:function(Ot,Se,ve){const N=Ot.getHours();let ie;switch(ie=12===N?"noon":0===N?"midnight":N/12>=1?"pm":"am",Se){case"b":case"bb":return ve.dayPeriod(ie,{width:"abbreviated",context:"formatting"});case"bbb":return ve.dayPeriod(ie,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return ve.dayPeriod(ie,{width:"narrow",context:"formatting"});default:return ve.dayPeriod(ie,{width:"wide",context:"formatting"})}},B:function(Ot,Se,ve){const N=Ot.getHours();let ie;switch(ie=N>=17?"evening":N>=12?"afternoon":N>=4?"morning":"night",Se){case"B":case"BB":case"BBB":return ve.dayPeriod(ie,{width:"abbreviated",context:"formatting"});case"BBBBB":return ve.dayPeriod(ie,{width:"narrow",context:"formatting"});default:return ve.dayPeriod(ie,{width:"wide",context:"formatting"})}},h:function(Ot,Se,ve){if("ho"===Se){let N=Ot.getHours()%12;return 0===N&&(N=12),ve.ordinalNumber(N,{unit:"hour"})}return K.h(Ot,Se)},H:function(Ot,Se,ve){return"Ho"===Se?ve.ordinalNumber(Ot.getHours(),{unit:"hour"}):K.H(Ot,Se)},K:function(Ot,Se,ve){const N=Ot.getHours()%12;return"Ko"===Se?ve.ordinalNumber(N,{unit:"hour"}):V(N,Se.length)},k:function(Ot,Se,ve){let N=Ot.getHours();return 0===N&&(N=24),"ko"===Se?ve.ordinalNumber(N,{unit:"hour"}):V(N,Se.length)},m:function(Ot,Se,ve){return"mo"===Se?ve.ordinalNumber(Ot.getMinutes(),{unit:"minute"}):K.m(Ot,Se)},s:function(Ot,Se,ve){return"so"===Se?ve.ordinalNumber(Ot.getSeconds(),{unit:"second"}):K.s(Ot,Se)},S:function(Ot,Se){return K.S(Ot,Se)},X:function(Ot,Se,ve){const N=Ot.getTimezoneOffset();if(0===N)return"Z";switch(Se){case"X":return se(N);case"XXXX":case"XX":return ce(N);default:return ce(N,":")}},x:function(Ot,Se,ve){const N=Ot.getTimezoneOffset();switch(Se){case"x":return se(N);case"xxxx":case"xx":return ce(N);default:return ce(N,":")}},O:function(Ot,Se,ve){const N=Ot.getTimezoneOffset();switch(Se){case"O":case"OO":case"OOO":return"GMT"+de(N,":");default:return"GMT"+ce(N,":")}},z:function(Ot,Se,ve){const N=Ot.getTimezoneOffset();switch(Se){case"z":case"zz":case"zzz":return"GMT"+de(N,":");default:return"GMT"+ce(N,":")}},t:function(Ot,Se,ve){return V(Math.trunc(Ot.getTime()/1e3),Se.length)},T:function(Ot,Se,ve){return V(Ot.getTime(),Se.length)}};function de(Ot,Se=""){const ve=Ot>0?"-":"+",N=Math.abs(Ot),ie=Math.trunc(N/60),Y=N%60;return 0===Y?ve+String(ie):ve+String(ie)+Se+V(Y,2)}function se(Ot,Se){return Ot%60==0?(Ot>0?"-":"+")+V(Math.abs(Ot)/60,2):ce(Ot,Se)}function ce(Ot,Se=""){const ve=Ot>0?"-":"+",N=Math.abs(Ot);return ve+V(Math.trunc(N/60),2)+Se+V(N%60,2)}const z=(Ot,Se)=>{switch(Ot){case"P":return Se.date({width:"short"});case"PP":return Se.date({width:"medium"});case"PPP":return Se.date({width:"long"});default:return Se.date({width:"full"})}},w=(Ot,Se)=>{switch(Ot){case"p":return Se.time({width:"short"});case"pp":return Se.time({width:"medium"});case"ppp":return Se.time({width:"long"});default:return Se.time({width:"full"})}},W={p:w,P:(Ot,Se)=>{const ve=Ot.match(/(P+)(p+)?/)||[],N=ve[1],ie=ve[2];if(!ie)return z(Ot,Se);let Y;switch(N){case"P":Y=Se.dateTime({width:"short"});break;case"PP":Y=Se.dateTime({width:"medium"});break;case"PPP":Y=Se.dateTime({width:"long"});break;default:Y=Se.dateTime({width:"full"})}return Y.replace("{{date}}",z(N,Se)).replace("{{time}}",w(ie,Se))}},ne=/^D+$/,fe=/^Y+$/,ae=["D","DD","YY","YYYY"];const me=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,De=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ke=/^'([^]*?)'?$/,Qe=/''/g,Ne=/[a-zA-Z]/;function at(Ot,Se,ve){const N=(0,n.q)(),ie=ve?.locale??N.locale??t.c,Y=ve?.firstWeekContainsDate??ve?.locale?.options?.firstWeekContainsDate??N.firstWeekContainsDate??N.locale?.options?.firstWeekContainsDate??1,ye=ve?.weekStartsOn??ve?.locale?.options?.weekStartsOn??N.weekStartsOn??N.locale?.options?.weekStartsOn??0,Ze=(0,v.a)(Ot);if(!function $e(Ot){if(!function lt(Ot){return Ot instanceof Date||"object"==typeof Ot&&"[object Date]"===Object.prototype.toString.call(Ot)}(Ot)&&"number"!=typeof Ot)return!1;const Se=(0,v.a)(Ot);return!isNaN(Number(Se))}(Ze))throw new RangeError("Invalid time value");let Ft=Se.match(De).map(_n=>{const Rt=_n[0];return"p"===Rt||"P"===Rt?(0,W[Rt])(_n,ie.formatLong):_n}).join("").match(me).map(_n=>{if("''"===_n)return{isToken:!1,value:"'"};const Rt=_n[0];if("'"===Rt)return{isToken:!1,value:Lt(_n)};if(Q[Rt])return{isToken:!0,value:_n};if(Rt.match(Ne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Rt+"`");return{isToken:!1,value:_n}});ie.localize.preprocessor&&(Ft=ie.localize.preprocessor(Ze,Ft));const sn={firstWeekContainsDate:Y,weekStartsOn:ye,locale:ie};return Ft.map(_n=>{if(!_n.isToken)return _n.value;const Rt=_n.value;return(!ve?.useAdditionalWeekYearTokens&&function Me(Ot){return fe.test(Ot)}(Rt)||!ve?.useAdditionalDayOfYearTokens&&function Ae(Ot){return ne.test(Ot)}(Rt))&&function Ve(Ot,Se,ve){const N=function We(Ot,Se,ve){const N="Y"===Ot[0]?"years":"days of the month";return`Use \`${Ot.toLowerCase()}\` instead of \`${Ot}\` (in \`${Se}\`) for formatting ${N} to the input \`${ve}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(Ot,Se,ve);if(console.warn(N),ae.includes(Ot))throw new RangeError(N)}(Rt,Se,String(Ot)),(0,Q[Rt[0]])(Ze,Rt,ie.localize,sn)}).join("")}function Lt(Ot){const Se=Ot.match(ke);return Se?Se[1].replace(Qe,"'"):Ot}},6863:(At,ue,a)=>{"use strict";a.d(ue,{m:()=>V});var t=a(7729),v=a(4273);function b(X,Q){const de=(0,v.a)(X),se=(0,v.a)(Q),ce=de.getTime()-se.getTime();return ce<0?-1:ce>0?1:ce}var g=a(9857),y=a(4512);function M(X,Q){const de=(0,v.a)(X),se=(0,v.a)(Q),ce=b(de,se),z=Math.abs(function S(X,Q){const de=(0,v.a)(X),se=(0,v.a)(Q);return 12*(de.getFullYear()-se.getFullYear())+(de.getMonth()-se.getMonth())}(de,se));let w;if(z<1)w=0;else{1===de.getMonth()&&de.getDate()>27&&de.setDate(30),de.setMonth(de.getMonth()-ce*z);let j=b(de,se)===-ce;(function E(X){const Q=(0,v.a)(X);return+(0,y.D)(Q)==+function O(X){const Q=(0,v.a)(X),de=Q.getMonth();return Q.setFullYear(Q.getFullYear(),de+1,0),Q.setHours(23,59,59,999),Q}(Q)})((0,v.a)(X))&&1===z&&1===b(X,se)&&(j=!1),w=ce*(z-Number(j))}return 0===w?0:w}var D=a(6708),A=a(4812),$=a(3501),R=a(1666),F=a(5872);function V(X,Q){return function P(X,Q,de){const se=(0,R.q)(),ce=de?.locale??se.locale??$.c,w=b(X,Q);if(isNaN(w))throw new RangeError("Invalid time value");const j=Object.assign({},de,{addSuffix:de?.addSuffix,comparison:w});let W,ne;w>0?(W=(0,v.a)(Q),ne=(0,v.a)(X)):(W=(0,v.a)(X),ne=(0,v.a)(Q));const fe=function L(X,Q,de){const se=(0,A.b)(X,Q)/1e3;return(0,D.u)(de?.roundingMethod)(se)}(ne,W),ae=((0,F.G)(ne)-(0,F.G)(W))/1e3,Ae=Math.round((fe-ae)/60);let Me;if(Ae<2)return de?.includeSeconds?fe<5?ce.formatDistance("lessThanXSeconds",5,j):fe<10?ce.formatDistance("lessThanXSeconds",10,j):fe<20?ce.formatDistance("lessThanXSeconds",20,j):fe<40?ce.formatDistance("halfAMinute",0,j):ce.formatDistance(fe<60?"lessThanXMinutes":"xMinutes",1,j):0===Ae?ce.formatDistance("lessThanXMinutes",1,j):ce.formatDistance("xMinutes",Ae,j);if(Ae<45)return ce.formatDistance("xMinutes",Ae,j);if(Ae<90)return ce.formatDistance("aboutXHours",1,j);if(Ae<g.F6){const Ve=Math.round(Ae/60);return ce.formatDistance("aboutXHours",Ve,j)}if(Ae<2520)return ce.formatDistance("xDays",1,j);if(Ae<g.Nw){const Ve=Math.round(Ae/g.F6);return ce.formatDistance("xDays",Ve,j)}if(Ae<2*g.Nw)return Me=Math.round(Ae/g.Nw),ce.formatDistance("aboutXMonths",Me,j);if(Me=M(ne,W),Me<12){const Ve=Math.round(Ae/g.Nw);return ce.formatDistance("xMonths",Ve,j)}{const Ve=Me%12,We=Math.trunc(Me/12);return Ve<3?ce.formatDistance("aboutXYears",We,j):Ve<9?ce.formatDistance("overXYears",We,j):ce.formatDistance("almostXYears",We+1,j)}}(X,function n(X){return(0,t.w)(X,Date.now())}(X),Q)}},2659:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>v});var t=a(3501),n=a(1666);const f=["years","months","weeks","days","hours","minutes","seconds"];function v(C,g){const S=(0,n.q)(),h=g?.locale??S.locale??t.c,y=g?.format??f,O=g?.zero??!1,m=g?.delimiter??" ";return h.formatDistance?y.reduce((u,M)=>{const x=`x${M.replace(/(^.)/,A=>A.toUpperCase())}`,D=C[M];return void 0!==D&&(O||C[M])?u.concat(h.formatDistance(x,D)):u},[]).join(m):""}},5987:(At,ue,a)=>{"use strict";a.d(ue,{_:()=>n});var t=a(4273);function n(v){return Math.trunc(+(0,t.a)(v)/1e3)}},9824:(At,ue,a)=>{"use strict";a.d(ue,{d:()=>n});var t=a(4273);function n(v,b){const C=(0,t.a)(v),g=(0,t.a)(b);return C.getTime()>g.getTime()}},9255:(At,ue,a)=>{"use strict";a.d(ue,{Y:()=>n});var t=a(4273);function n(v,b){return+(0,t.a)(v)<+(0,t.a)(b)}},5818:(At,ue,a)=>{"use strict";a.d(ue,{r:()=>n});var t=a(3601);function n(v,b){return+(0,t.o)(v)==+(0,t.o)(b)}},3501:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>W});const t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function f(fe){return(ae={})=>{const Ae=ae.width?String(ae.width):fe.defaultWidth;return fe.formats[Ae]||fe.formats[fe.defaultWidth]}}const g={date:f({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},S={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function y(fe){return(ae,Ae)=>{let Ve;if("formatting"===(Ae?.context?String(Ae.context):"standalone")&&fe.formattingValues){const lt=fe.defaultFormattingWidth||fe.defaultWidth,nt=Ae?.width?String(Ae.width):lt;Ve=fe.formattingValues[nt]||fe.formattingValues[lt]}else{const lt=fe.defaultWidth,nt=Ae?.width?String(Ae.width):fe.defaultWidth;Ve=fe.values[nt]||fe.values[lt]}return Ve[fe.argumentCallback?fe.argumentCallback(ae):ae]}}function L(fe){return(ae,Ae={})=>{const Me=Ae.width,We=ae.match(Me&&fe.matchPatterns[Me]||fe.matchPatterns[fe.defaultMatchWidth]);if(!We)return null;const lt=We[0],nt=Me&&fe.parsePatterns[Me]||fe.parsePatterns[fe.defaultParseWidth],$e=Array.isArray(nt)?function $(fe,ae){for(let Ae=0;Ae<fe.length;Ae++)if(ae(fe[Ae]))return Ae}(nt,De=>De.test(lt)):function l(fe,ae){for(const Ae in fe)if(Object.prototype.hasOwnProperty.call(fe,Ae)&&ae(fe[Ae]))return Ae}(nt,De=>De.test(lt));let Ie;return Ie=fe.valueCallback?fe.valueCallback($e):$e,Ie=Ae.valueCallback?Ae.valueCallback(Ie):Ie,{value:Ie,rest:ae.slice(lt.length)}}}const W={code:"en-US",formatDistance:(fe,ae,Ae)=>{let Me;const Ve=t[fe];return Me="string"==typeof Ve?Ve:1===ae?Ve.one:Ve.other.replace("{{count}}",ae.toString()),Ae?.addSuffix?Ae.comparison&&Ae.comparison>0?"in "+Me:Me+" ago":Me},formatLong:g,formatRelative:(fe,ae,Ae,Me)=>S[fe],localize:{ordinalNumber:(fe,ae)=>{const Ae=Number(fe),Me=Ae%100;if(Me>20||Me<10)switch(Me%10){case 1:return Ae+"st";case 2:return Ae+"nd";case 3:return Ae+"rd"}return Ae+"th"},era:y({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:y({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:fe=>fe-1}),month:y({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:y({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:y({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function R(fe){return(ae,Ae={})=>{const Me=ae.match(fe.matchPattern);if(!Me)return null;const Ve=Me[0],We=ae.match(fe.parsePattern);if(!We)return null;let lt=fe.valueCallback?fe.valueCallback(We[0]):We[0];return lt=Ae.valueCallback?Ae.valueCallback(lt):lt,{value:lt,rest:ae.slice(Ve.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:fe=>parseInt(fe,10)}),era:L({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:L({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:fe=>fe+1}),month:L({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:L({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:L({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9548:(At,ue,a)=>{"use strict";a.d(ue,{X:()=>v});var t=a(6708),n=a(7729),f=a(4273);function v(C,g){const S=g?.nearestTo??1;if(S<1||S>30)return(0,n.w)(C,NaN);const h=(0,f.a)(C),y=h.getSeconds()/60,O=h.getMilliseconds()/1e3/60,m=h.getMinutes()+y+O,M=(0,t.u)(g?.roundingMethod??"round")(m/S)*S,x=(0,n.w)(C,h);return x.setMinutes(M,0,0),x}},1406:(At,ue,a)=>{"use strict";a.d(ue,{h:()=>v});var t=a(7729),n=a(2596),f=a(4273);function v(C,g){let S=(0,f.a)(C);return isNaN(+S)?(0,t.w)(C,NaN):(null!=g.year&&S.setFullYear(g.year),null!=g.month&&(S=(0,n.Z)(S,g.month)),null!=g.date&&S.setDate(g.date),null!=g.hours&&S.setHours(g.hours),null!=g.minutes&&S.setMinutes(g.minutes),null!=g.seconds&&S.setSeconds(g.seconds),null!=g.milliseconds&&S.setMilliseconds(g.milliseconds),S)}},5611:(At,ue,a)=>{"use strict";a.d(ue,{a:()=>n});var t=a(4273);function n(v,b){const C=(0,t.a)(v);return C.setHours(b),C}},2596:(At,ue,a)=>{"use strict";a.d(ue,{Z:()=>b});var t=a(7729),n=a(4273);function b(g,S){const h=(0,n.a)(g),y=h.getFullYear(),O=h.getDate(),m=(0,t.w)(g,0);m.setFullYear(y,S,15),m.setHours(0,0,0,0);const E=function f(g){const S=(0,n.a)(g),h=S.getFullYear(),y=S.getMonth(),O=(0,t.w)(g,0);return O.setFullYear(h,y+1,0),O.setHours(0,0,0,0),O.getDate()}(m);return h.setMonth(S,Math.min(O,E)),h}},3601:(At,ue,a)=>{"use strict";a.d(ue,{o:()=>n});var t=a(4273);function n(v){const b=(0,t.a)(v);return b.setHours(0,0,0,0),b}},2357:(At,ue,a)=>{"use strict";a.d(ue,{c:()=>n});var t=a(4273);function n(v){const b=(0,t.a)(v);return b.setSeconds(0,0),b}},7793:(At,ue,a)=>{"use strict";a.d(ue,{k:()=>f});var t=a(4273),n=a(1666);function f(b,C){const g=(0,n.q)(),S=C?.weekStartsOn??C?.locale?.options?.weekStartsOn??g.weekStartsOn??g.locale?.options?.weekStartsOn??0,h=(0,t.a)(b),y=h.getDay(),O=(y<S?7:0)+y-S;return h.setDate(h.getDate()-O),h.setHours(0,0,0,0),h}},3901:(At,ue,a)=>{"use strict";a.d(ue,{O:()=>n});var t=a(3368);function n(v,b){return(0,t.L)(v,-b)}},4273:(At,ue,a)=>{"use strict";function t(f){const v=Object.prototype.toString.call(f);return f instanceof Date||"object"==typeof f&&"[object Date]"===v?new f.constructor(+f):"number"==typeof f||"[object Number]"===v||"string"==typeof f||"[object String]"===v?new Date(f):new Date(NaN)}a.d(ue,{a:()=>t})},222:(At,ue,a)=>{"use strict";a.d(ue,{qg:()=>Te,xI:()=>In});let n={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function f(Ut){n=Ut}const v=/[&<>"']/,b=new RegExp(v.source,"g"),C=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,g=new RegExp(C.source,"g"),S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=Ut=>S[Ut];function y(Ut,Ke){if(Ke){if(v.test(Ut))return Ut.replace(b,h)}else if(C.test(Ut))return Ut.replace(g,h);return Ut}const O=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,E=/(^|[^\[])\^/g;function u(Ut,Ke){let Fe="string"==typeof Ut?Ut:Ut.source;Ke=Ke||"";const Ue={replace:(we,rt)=>{let vt="string"==typeof rt?rt:rt.source;return vt=vt.replace(E,"$1"),Fe=Fe.replace(we,vt),Ue},getRegex:()=>new RegExp(Fe,Ke)};return Ue}function M(Ut){try{Ut=encodeURI(Ut).replace(/%25/g,"%")}catch{return null}return Ut}const x={exec:()=>null};function D(Ut,Ke){const Ue=Ut.replace(/\|/g,(rt,vt,on)=>{let rn=!1,Nt=vt;for(;--Nt>=0&&"\\"===on[Nt];)rn=!rn;return rn?"|":" |"}).split(/ \|/);let we=0;if(Ue[0].trim()||Ue.shift(),Ue.length>0&&!Ue[Ue.length-1].trim()&&Ue.pop(),Ke)if(Ue.length>Ke)Ue.splice(Ke);else for(;Ue.length<Ke;)Ue.push("");for(;we<Ue.length;we++)Ue[we]=Ue[we].trim().replace(/\\\|/g,"|");return Ue}function A(Ut,Ke,Fe){const Ue=Ut.length;if(0===Ue)return"";let we=0;for(;we<Ue;){const rt=Ut.charAt(Ue-we-1);if(rt!==Ke||Fe){if(rt===Ke||!Fe)break;we++}else we++}return Ut.slice(0,Ue-we)}function l(Ut,Ke,Fe,Ue){const we=Ke.href,rt=Ke.title?y(Ke.title):null,vt=Ut[1].replace(/\\([\[\]])/g,"$1");if("!"!==Ut[0].charAt(0)){Ue.state.inLink=!0;const on={type:"link",raw:Fe,href:we,title:rt,text:vt,tokens:Ue.inlineTokens(vt)};return Ue.state.inLink=!1,on}return{type:"image",raw:Fe,href:we,title:rt,text:y(vt)}}class R{options;rules;lexer;constructor(Ke){this.options=Ke||n}space(Ke){const Fe=this.rules.block.newline.exec(Ke);if(Fe&&Fe[0].length>0)return{type:"space",raw:Fe[0]}}code(Ke){const Fe=this.rules.block.code.exec(Ke);if(Fe){const Ue=Fe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Fe[0],codeBlockStyle:"indented",text:this.options.pedantic?Ue:A(Ue,"\n")}}}fences(Ke){const Fe=this.rules.block.fences.exec(Ke);if(Fe){const Ue=Fe[0],we=function $(Ut,Ke){const Fe=Ut.match(/^(\s+)(?:```)/);if(null===Fe)return Ke;const Ue=Fe[1];return Ke.split("\n").map(we=>{const rt=we.match(/^\s+/);if(null===rt)return we;const[vt]=rt;return vt.length>=Ue.length?we.slice(Ue.length):we}).join("\n")}(Ue,Fe[3]||"");return{type:"code",raw:Ue,lang:Fe[2]?Fe[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):Fe[2],text:we}}}heading(Ke){const Fe=this.rules.block.heading.exec(Ke);if(Fe){let Ue=Fe[2].trim();if(/#$/.test(Ue)){const we=A(Ue,"#");(this.options.pedantic||!we||/ $/.test(we))&&(Ue=we.trim())}return{type:"heading",raw:Fe[0],depth:Fe[1].length,text:Ue,tokens:this.lexer.inline(Ue)}}}hr(Ke){const Fe=this.rules.block.hr.exec(Ke);if(Fe)return{type:"hr",raw:A(Fe[0],"\n")}}blockquote(Ke){const Fe=this.rules.block.blockquote.exec(Ke);if(Fe){let Ue=A(Fe[0],"\n").split("\n"),we="",rt="";const vt=[];for(;Ue.length>0;){let on=!1;const rn=[];let Nt;for(Nt=0;Nt<Ue.length;Nt++)if(/^ {0,3}>/.test(Ue[Nt]))rn.push(Ue[Nt]),on=!0;else{if(on)break;rn.push(Ue[Nt])}Ue=Ue.slice(Nt);const fn=rn.join("\n"),wt=fn.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");we=we?`${we}\n${fn}`:fn,rt=rt?`${rt}\n${wt}`:wt;const Yt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(wt,vt,!0),this.lexer.state.top=Yt,0===Ue.length)break;const tn=vt[vt.length-1];if("code"===tn?.type)break;if("blockquote"===tn?.type){const cn=tn,xn=cn.raw+"\n"+Ue.join("\n"),ii=this.blockquote(xn);vt[vt.length-1]=ii,we=we.substring(0,we.length-cn.raw.length)+ii.raw,rt=rt.substring(0,rt.length-cn.text.length)+ii.text;break}if("list"!==tn?.type);else{const cn=tn,xn=cn.raw+"\n"+Ue.join("\n"),ii=this.list(xn);vt[vt.length-1]=ii,we=we.substring(0,we.length-tn.raw.length)+ii.raw,rt=rt.substring(0,rt.length-cn.raw.length)+ii.raw,Ue=xn.substring(vt[vt.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:we,tokens:vt,text:rt}}}list(Ke){let Fe=this.rules.block.list.exec(Ke);if(Fe){let Ue=Fe[1].trim();const we=Ue.length>1,rt={type:"list",raw:"",ordered:we,start:we?+Ue.slice(0,-1):"",loose:!1,items:[]};Ue=we?`\\d{1,9}\\${Ue.slice(-1)}`:`\\${Ue}`,this.options.pedantic&&(Ue=we?Ue:"[*+-]");const vt=new RegExp(`^( {0,3}${Ue})((?:[\t ][^\\n]*)?(?:\\n|$))`);let on=!1;for(;Ke;){let rn=!1,Nt="",fn="";if(!(Fe=vt.exec(Ke))||this.rules.block.hr.test(Ke))break;Nt=Fe[0],Ke=Ke.substring(Nt.length);let wt=Fe[2].split("\n",1)[0].replace(/^\t+/,vi=>" ".repeat(3*vi.length)),Yt=Ke.split("\n",1)[0],tn=!wt.trim(),cn=0;if(this.options.pedantic?(cn=2,fn=wt.trimStart()):tn?cn=Fe[1].length+1:(cn=Fe[2].search(/[^ ]/),cn=cn>4?1:cn,fn=wt.slice(cn),cn+=Fe[1].length),tn&&/^ *$/.test(Yt)&&(Nt+=Yt+"\n",Ke=Ke.substring(Yt.length+1),rn=!0),!rn){const vi=new RegExp(`^ {0,${Math.min(3,cn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),bi=new RegExp(`^ {0,${Math.min(3,cn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),hi=new RegExp(`^ {0,${Math.min(3,cn-1)}}(?:\`\`\`|~~~)`),Ai=new RegExp(`^ {0,${Math.min(3,cn-1)}}#`);for(;Ke;){const Mi=Ke.split("\n",1)[0];if(Yt=Mi,this.options.pedantic&&(Yt=Yt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),hi.test(Yt)||Ai.test(Yt)||vi.test(Yt)||bi.test(Ke))break;if(Yt.search(/[^ ]/)>=cn||!Yt.trim())fn+="\n"+Yt.slice(cn);else{if(tn||wt.search(/[^ ]/)>=4||hi.test(wt)||Ai.test(wt)||bi.test(wt))break;fn+="\n"+Yt}!tn&&!Yt.trim()&&(tn=!0),Nt+=Mi+"\n",Ke=Ke.substring(Mi.length+1),wt=Yt.slice(cn)}}rt.loose||(on?rt.loose=!0:/\n *\n *$/.test(Nt)&&(on=!0));let ii,xn=null;this.options.gfm&&(xn=/^\[[ xX]\] /.exec(fn),xn&&(ii="[ ] "!==xn[0],fn=fn.replace(/^\[[ xX]\] +/,""))),rt.items.push({type:"list_item",raw:Nt,task:!!xn,checked:ii,loose:!1,text:fn,tokens:[]}),rt.raw+=Nt}rt.items[rt.items.length-1].raw=rt.items[rt.items.length-1].raw.trimEnd(),rt.items[rt.items.length-1].text=rt.items[rt.items.length-1].text.trimEnd(),rt.raw=rt.raw.trimEnd();for(let rn=0;rn<rt.items.length;rn++)if(this.lexer.state.top=!1,rt.items[rn].tokens=this.lexer.blockTokens(rt.items[rn].text,[]),!rt.loose){const Nt=rt.items[rn].tokens.filter(wt=>"space"===wt.type),fn=Nt.length>0&&Nt.some(wt=>/\n.*\n/.test(wt.raw));rt.loose=fn}if(rt.loose)for(let rn=0;rn<rt.items.length;rn++)rt.items[rn].loose=!0;return rt}}html(Ke){const Fe=this.rules.block.html.exec(Ke);if(Fe)return{type:"html",block:!0,raw:Fe[0],pre:"pre"===Fe[1]||"script"===Fe[1]||"style"===Fe[1],text:Fe[0]}}def(Ke){const Fe=this.rules.block.def.exec(Ke);if(Fe){const Ue=Fe[1].toLowerCase().replace(/\s+/g," "),we=Fe[2]?Fe[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",rt=Fe[3]?Fe[3].substring(1,Fe[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):Fe[3];return{type:"def",tag:Ue,raw:Fe[0],href:we,title:rt}}}table(Ke){const Fe=this.rules.block.table.exec(Ke);if(!Fe||!/[:|]/.test(Fe[2]))return;const Ue=D(Fe[1]),we=Fe[2].replace(/^\||\| *$/g,"").split("|"),rt=Fe[3]&&Fe[3].trim()?Fe[3].replace(/\n[ \t]*$/,"").split("\n"):[],vt={type:"table",raw:Fe[0],header:[],align:[],rows:[]};if(Ue.length===we.length){for(const on of we)/^ *-+: *$/.test(on)?vt.align.push("right"):/^ *:-+: *$/.test(on)?vt.align.push("center"):/^ *:-+ *$/.test(on)?vt.align.push("left"):vt.align.push(null);for(let on=0;on<Ue.length;on++)vt.header.push({text:Ue[on],tokens:this.lexer.inline(Ue[on]),header:!0,align:vt.align[on]});for(const on of rt)vt.rows.push(D(on,vt.header.length).map((rn,Nt)=>({text:rn,tokens:this.lexer.inline(rn),header:!1,align:vt.align[Nt]})));return vt}}lheading(Ke){const Fe=this.rules.block.lheading.exec(Ke);if(Fe)return{type:"heading",raw:Fe[0],depth:"="===Fe[2].charAt(0)?1:2,text:Fe[1],tokens:this.lexer.inline(Fe[1])}}paragraph(Ke){const Fe=this.rules.block.paragraph.exec(Ke);if(Fe){const Ue="\n"===Fe[1].charAt(Fe[1].length-1)?Fe[1].slice(0,-1):Fe[1];return{type:"paragraph",raw:Fe[0],text:Ue,tokens:this.lexer.inline(Ue)}}}text(Ke){const Fe=this.rules.block.text.exec(Ke);if(Fe)return{type:"text",raw:Fe[0],text:Fe[0],tokens:this.lexer.inline(Fe[0])}}escape(Ke){const Fe=this.rules.inline.escape.exec(Ke);if(Fe)return{type:"escape",raw:Fe[0],text:y(Fe[1])}}tag(Ke){const Fe=this.rules.inline.tag.exec(Ke);if(Fe)return!this.lexer.state.inLink&&/^<a /i.test(Fe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Fe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Fe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Fe[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Fe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Fe[0]}}link(Ke){const Fe=this.rules.inline.link.exec(Ke);if(Fe){const Ue=Fe[2].trim();if(!this.options.pedantic&&/^</.test(Ue)){if(!/>$/.test(Ue))return;const vt=A(Ue.slice(0,-1),"\\");if((Ue.length-vt.length)%2==0)return}else{const vt=function L(Ut,Ke){if(-1===Ut.indexOf(Ke[1]))return-1;let Fe=0;for(let Ue=0;Ue<Ut.length;Ue++)if("\\"===Ut[Ue])Ue++;else if(Ut[Ue]===Ke[0])Fe++;else if(Ut[Ue]===Ke[1]&&(Fe--,Fe<0))return Ue;return-1}(Fe[2],"()");if(vt>-1){const rn=(0===Fe[0].indexOf("!")?5:4)+Fe[1].length+vt;Fe[2]=Fe[2].substring(0,vt),Fe[0]=Fe[0].substring(0,rn).trim(),Fe[3]=""}}let we=Fe[2],rt="";if(this.options.pedantic){const vt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(we);vt&&(we=vt[1],rt=vt[3])}else rt=Fe[3]?Fe[3].slice(1,-1):"";return we=we.trim(),/^</.test(we)&&(we=this.options.pedantic&&!/>$/.test(Ue)?we.slice(1):we.slice(1,-1)),l(Fe,{href:we&&we.replace(this.rules.inline.anyPunctuation,"$1"),title:rt&&rt.replace(this.rules.inline.anyPunctuation,"$1")},Fe[0],this.lexer)}}reflink(Ke,Fe){let Ue;if((Ue=this.rules.inline.reflink.exec(Ke))||(Ue=this.rules.inline.nolink.exec(Ke))){const rt=Fe[(Ue[2]||Ue[1]).replace(/\s+/g," ").toLowerCase()];if(!rt){const vt=Ue[0].charAt(0);return{type:"text",raw:vt,text:vt}}return l(Ue,rt,Ue[0],this.lexer)}}emStrong(Ke,Fe,Ue=""){let we=this.rules.inline.emStrongLDelim.exec(Ke);if(!(!we||we[3]&&Ue.match(/[\p{L}\p{N}]/u))&&(!we[1]&&!we[2]||!Ue||this.rules.inline.punctuation.exec(Ue))){const vt=[...we[0]].length-1;let on,rn,Nt=vt,fn=0;const wt="*"===we[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(wt.lastIndex=0,Fe=Fe.slice(-1*Ke.length+vt);null!=(we=wt.exec(Fe));){if(on=we[1]||we[2]||we[3]||we[4]||we[5]||we[6],!on)continue;if(rn=[...on].length,we[3]||we[4]){Nt+=rn;continue}if((we[5]||we[6])&&vt%3&&!((vt+rn)%3)){fn+=rn;continue}if(Nt-=rn,Nt>0)continue;rn=Math.min(rn,rn+Nt+fn);const Yt=[...we[0]][0].length,tn=Ke.slice(0,vt+we.index+Yt+rn);if(Math.min(vt,rn)%2){const xn=tn.slice(1,-1);return{type:"em",raw:tn,text:xn,tokens:this.lexer.inlineTokens(xn)}}const cn=tn.slice(2,-2);return{type:"strong",raw:tn,text:cn,tokens:this.lexer.inlineTokens(cn)}}}}codespan(Ke){const Fe=this.rules.inline.code.exec(Ke);if(Fe){let Ue=Fe[2].replace(/\n/g," ");const we=/[^ ]/.test(Ue),rt=/^ /.test(Ue)&&/ $/.test(Ue);return we&&rt&&(Ue=Ue.substring(1,Ue.length-1)),Ue=y(Ue,!0),{type:"codespan",raw:Fe[0],text:Ue}}}br(Ke){const Fe=this.rules.inline.br.exec(Ke);if(Fe)return{type:"br",raw:Fe[0]}}del(Ke){const Fe=this.rules.inline.del.exec(Ke);if(Fe)return{type:"del",raw:Fe[0],text:Fe[2],tokens:this.lexer.inlineTokens(Fe[2])}}autolink(Ke){const Fe=this.rules.inline.autolink.exec(Ke);if(Fe){let Ue,we;return"@"===Fe[2]?(Ue=y(Fe[1]),we="mailto:"+Ue):(Ue=y(Fe[1]),we=Ue),{type:"link",raw:Fe[0],text:Ue,href:we,tokens:[{type:"text",raw:Ue,text:Ue}]}}}url(Ke){let Fe;if(Fe=this.rules.inline.url.exec(Ke)){let Ue,we;if("@"===Fe[2])Ue=y(Fe[0]),we="mailto:"+Ue;else{let rt;do{rt=Fe[0],Fe[0]=this.rules.inline._backpedal.exec(Fe[0])?.[0]??""}while(rt!==Fe[0]);Ue=y(Fe[0]),we="www."===Fe[1]?"http://"+Fe[0]:Fe[0]}return{type:"link",raw:Fe[0],text:Ue,href:we,tokens:[{type:"text",raw:Ue,text:Ue}]}}}inlineText(Ke){const Fe=this.rules.inline.text.exec(Ke);if(Fe){let Ue;return Ue=this.lexer.state.inRawBlock?Fe[0]:y(Fe[0]),{type:"text",raw:Fe[0],text:Ue}}}}const V=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,X=/(?:[*+-]|\d{1,9}[.)])/,Q=u(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,X).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),de=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ce=/(?!\s*\])(?:\\.|[^\[\]\\])+/,z=u(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ce).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),w=u(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,X).getRegex(),j="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",W=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ne=u("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",W).replace("tag",j).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fe=u(de).replace("hr",V).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j).getRegex(),Ae={blockquote:u(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fe).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:z,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:V,html:ne,lheading:Q,list:w,newline:/^(?: *(?:\n|$))+/,paragraph:fe,table:x,text:/^[^\n]+/},Me=u("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",V).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j).getRegex(),Ve={...Ae,table:Me,paragraph:u(de).replace("hr",V).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Me).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j).getRegex()},We={...Ae,html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",W).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:x,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:u(de).replace("hr",V).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Q).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},lt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$e=/^( {2,}|\\)\n(?!\s*$)/,me="\\p{P}\\p{S}",De=u(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,me).getRegex(),Qe=u(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,me).getRegex(),Ne=u("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,me).getRegex(),at=u("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,me).getRegex(),Lt=u(/\\([punct])/,"gu").replace(/punct/g,me).getRegex(),Kt=u(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ot=u(W).replace("(?:--\x3e|$)","--\x3e").getRegex(),Se=u("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ot).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ve=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,N=u(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ve).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ie=u(/^!?\[(label)\]\[(ref)\]/).replace("label",ve).replace("ref",ce).getRegex(),Y=u(/^!?\[(ref)\](?:\[\])?/).replace("ref",ce).getRegex(),Ze={_backpedal:x,anyPunctuation:Lt,autolink:Kt,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:$e,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:x,emStrongLDelim:Qe,emStrongRDelimAst:Ne,emStrongRDelimUnd:at,escape:lt,link:N,nolink:Y,punctuation:De,reflink:ie,reflinkSearch:u("reflink|nolink(?!\\()","g").replace("reflink",ie).replace("nolink",Y).getRegex(),tag:Se,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:x},Ft={...Ze,link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",ve).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ve).getRegex()},sn={...Ze,escape:u(lt).replace("])","~|])").getRegex(),url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},_n={...sn,br:u($e).replace("{2,}","*").getRegex(),text:u(sn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Rt={normal:Ae,gfm:Ve,pedantic:We},en={normal:Ze,gfm:sn,breaks:_n,pedantic:Ft};class ht{tokens;options;state;tokenizer;inlineQueue;constructor(Ke){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ke||n,this.options.tokenizer=this.options.tokenizer||new R,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Fe={block:Rt.normal,inline:en.normal};this.options.pedantic?(Fe.block=Rt.pedantic,Fe.inline=en.pedantic):this.options.gfm&&(Fe.block=Rt.gfm,Fe.inline=this.options.breaks?en.breaks:en.gfm),this.tokenizer.rules=Fe}static get rules(){return{block:Rt,inline:en}}static lex(Ke,Fe){return new ht(Fe).lex(Ke)}static lexInline(Ke,Fe){return new ht(Fe).inlineTokens(Ke)}lex(Ke){Ke=Ke.replace(/\r\n|\r/g,"\n"),this.blockTokens(Ke,this.tokens);for(let Fe=0;Fe<this.inlineQueue.length;Fe++){const Ue=this.inlineQueue[Fe];this.inlineTokens(Ue.src,Ue.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Ke,Fe=[],Ue=!1){let we,rt,vt;for(Ke=this.options.pedantic?Ke.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ke.replace(/^( *)(\t+)/gm,(on,rn,Nt)=>rn+"    ".repeat(Nt.length));Ke;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(on=>!!(we=on.call({lexer:this},Ke,Fe))&&(Ke=Ke.substring(we.raw.length),Fe.push(we),!0)))){if(we=this.tokenizer.space(Ke)){Ke=Ke.substring(we.raw.length),1===we.raw.length&&Fe.length>0?Fe[Fe.length-1].raw+="\n":Fe.push(we);continue}if(we=this.tokenizer.code(Ke)){Ke=Ke.substring(we.raw.length),rt=Fe[Fe.length-1],!rt||"paragraph"!==rt.type&&"text"!==rt.type?Fe.push(we):(rt.raw+="\n"+we.raw,rt.text+="\n"+we.text,this.inlineQueue[this.inlineQueue.length-1].src=rt.text);continue}if(we=this.tokenizer.fences(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.heading(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.hr(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.blockquote(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.list(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.html(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.def(Ke)){Ke=Ke.substring(we.raw.length),rt=Fe[Fe.length-1],!rt||"paragraph"!==rt.type&&"text"!==rt.type?this.tokens.links[we.tag]||(this.tokens.links[we.tag]={href:we.href,title:we.title}):(rt.raw+="\n"+we.raw,rt.text+="\n"+we.raw,this.inlineQueue[this.inlineQueue.length-1].src=rt.text);continue}if(we=this.tokenizer.table(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(we=this.tokenizer.lheading(Ke)){Ke=Ke.substring(we.raw.length),Fe.push(we);continue}if(vt=Ke,this.options.extensions&&this.options.extensions.startBlock){let on=1/0;const rn=Ke.slice(1);let Nt;this.options.extensions.startBlock.forEach(fn=>{Nt=fn.call({lexer:this},rn),"number"==typeof Nt&&Nt>=0&&(on=Math.min(on,Nt))}),on<1/0&&on>=0&&(vt=Ke.substring(0,on+1))}if(this.state.top&&(we=this.tokenizer.paragraph(vt))){rt=Fe[Fe.length-1],Ue&&"paragraph"===rt?.type?(rt.raw+="\n"+we.raw,rt.text+="\n"+we.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rt.text):Fe.push(we),Ue=vt.length!==Ke.length,Ke=Ke.substring(we.raw.length);continue}if(we=this.tokenizer.text(Ke)){Ke=Ke.substring(we.raw.length),rt=Fe[Fe.length-1],rt&&"text"===rt.type?(rt.raw+="\n"+we.raw,rt.text+="\n"+we.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rt.text):Fe.push(we);continue}if(Ke){const on="Infinite loop on byte: "+Ke.charCodeAt(0);if(this.options.silent){console.error(on);break}throw new Error(on)}}return this.state.top=!0,Fe}inline(Ke,Fe=[]){return this.inlineQueue.push({src:Ke,tokens:Fe}),Fe}inlineTokens(Ke,Fe=[]){let Ue,we,rt,on,rn,Nt,vt=Ke;if(this.tokens.links){const fn=Object.keys(this.tokens.links);if(fn.length>0)for(;null!=(on=this.tokenizer.rules.inline.reflinkSearch.exec(vt));)fn.includes(on[0].slice(on[0].lastIndexOf("[")+1,-1))&&(vt=vt.slice(0,on.index)+"["+"a".repeat(on[0].length-2)+"]"+vt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(on=this.tokenizer.rules.inline.blockSkip.exec(vt));)vt=vt.slice(0,on.index)+"["+"a".repeat(on[0].length-2)+"]"+vt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(on=this.tokenizer.rules.inline.anyPunctuation.exec(vt));)vt=vt.slice(0,on.index)+"++"+vt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Ke;)if(rn||(Nt=""),rn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(fn=>!!(Ue=fn.call({lexer:this},Ke,Fe))&&(Ke=Ke.substring(Ue.raw.length),Fe.push(Ue),!0)))){if(Ue=this.tokenizer.escape(Ke)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(Ue=this.tokenizer.tag(Ke)){Ke=Ke.substring(Ue.raw.length),we=Fe[Fe.length-1],we&&"text"===Ue.type&&"text"===we.type?(we.raw+=Ue.raw,we.text+=Ue.text):Fe.push(Ue);continue}if(Ue=this.tokenizer.link(Ke)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(Ue=this.tokenizer.reflink(Ke,this.tokens.links)){Ke=Ke.substring(Ue.raw.length),we=Fe[Fe.length-1],we&&"text"===Ue.type&&"text"===we.type?(we.raw+=Ue.raw,we.text+=Ue.text):Fe.push(Ue);continue}if(Ue=this.tokenizer.emStrong(Ke,vt,Nt)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(Ue=this.tokenizer.codespan(Ke)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(Ue=this.tokenizer.br(Ke)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(Ue=this.tokenizer.del(Ke)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(Ue=this.tokenizer.autolink(Ke)){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(!this.state.inLink&&(Ue=this.tokenizer.url(Ke))){Ke=Ke.substring(Ue.raw.length),Fe.push(Ue);continue}if(rt=Ke,this.options.extensions&&this.options.extensions.startInline){let fn=1/0;const wt=Ke.slice(1);let Yt;this.options.extensions.startInline.forEach(tn=>{Yt=tn.call({lexer:this},wt),"number"==typeof Yt&&Yt>=0&&(fn=Math.min(fn,Yt))}),fn<1/0&&fn>=0&&(rt=Ke.substring(0,fn+1))}if(Ue=this.tokenizer.inlineText(rt)){Ke=Ke.substring(Ue.raw.length),"_"!==Ue.raw.slice(-1)&&(Nt=Ue.raw.slice(-1)),rn=!0,we=Fe[Fe.length-1],we&&"text"===we.type?(we.raw+=Ue.raw,we.text+=Ue.text):Fe.push(Ue);continue}if(Ke){const fn="Infinite loop on byte: "+Ke.charCodeAt(0);if(this.options.silent){console.error(fn);break}throw new Error(fn)}}return Fe}}class pt{options;parser;constructor(Ke){this.options=Ke||n}space(Ke){return""}code({text:Ke,lang:Fe,escaped:Ue}){const we=(Fe||"").match(/^\S*/)?.[0],rt=Ke.replace(/\n$/,"")+"\n";return we?'<pre><code class="language-'+y(we)+'">'+(Ue?rt:y(rt,!0))+"</code></pre>\n":"<pre><code>"+(Ue?rt:y(rt,!0))+"</code></pre>\n"}blockquote({tokens:Ke}){return`<blockquote>\n${this.parser.parse(Ke)}</blockquote>\n`}html({text:Ke}){return Ke}heading({tokens:Ke,depth:Fe}){return`<h${Fe}>${this.parser.parseInline(Ke)}</h${Fe}>\n`}hr(Ke){return"<hr>\n"}list(Ke){const Fe=Ke.ordered,Ue=Ke.start;let we="";for(let on=0;on<Ke.items.length;on++)we+=this.listitem(Ke.items[on]);const rt=Fe?"ol":"ul";return"<"+rt+(Fe&&1!==Ue?' start="'+Ue+'"':"")+">\n"+we+"</"+rt+">\n"}listitem(Ke){let Fe="";if(Ke.task){const Ue=this.checkbox({checked:!!Ke.checked});Ke.loose?Ke.tokens.length>0&&"paragraph"===Ke.tokens[0].type?(Ke.tokens[0].text=Ue+" "+Ke.tokens[0].text,Ke.tokens[0].tokens&&Ke.tokens[0].tokens.length>0&&"text"===Ke.tokens[0].tokens[0].type&&(Ke.tokens[0].tokens[0].text=Ue+" "+Ke.tokens[0].tokens[0].text)):Ke.tokens.unshift({type:"text",raw:Ue+" ",text:Ue+" "}):Fe+=Ue+" "}return Fe+=this.parser.parse(Ke.tokens,!!Ke.loose),`<li>${Fe}</li>\n`}checkbox({checked:Ke}){return"<input "+(Ke?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Ke}){return`<p>${this.parser.parseInline(Ke)}</p>\n`}table(Ke){let Fe="",Ue="";for(let rt=0;rt<Ke.header.length;rt++)Ue+=this.tablecell(Ke.header[rt]);Fe+=this.tablerow({text:Ue});let we="";for(let rt=0;rt<Ke.rows.length;rt++){const vt=Ke.rows[rt];Ue="";for(let on=0;on<vt.length;on++)Ue+=this.tablecell(vt[on]);we+=this.tablerow({text:Ue})}return we&&(we=`<tbody>${we}</tbody>`),"<table>\n<thead>\n"+Fe+"</thead>\n"+we+"</table>\n"}tablerow({text:Ke}){return`<tr>\n${Ke}</tr>\n`}tablecell(Ke){const Fe=this.parser.parseInline(Ke.tokens),Ue=Ke.header?"th":"td";return(Ke.align?`<${Ue} align="${Ke.align}">`:`<${Ue}>`)+Fe+`</${Ue}>\n`}strong({tokens:Ke}){return`<strong>${this.parser.parseInline(Ke)}</strong>`}em({tokens:Ke}){return`<em>${this.parser.parseInline(Ke)}</em>`}codespan({text:Ke}){return`<code>${Ke}</code>`}br(Ke){return"<br>"}del({tokens:Ke}){return`<del>${this.parser.parseInline(Ke)}</del>`}link({href:Ke,title:Fe,tokens:Ue}){const we=this.parser.parseInline(Ue),rt=M(Ke);if(null===rt)return we;let vt='<a href="'+(Ke=rt)+'"';return Fe&&(vt+=' title="'+Fe+'"'),vt+=">"+we+"</a>",vt}image({href:Ke,title:Fe,text:Ue}){const we=M(Ke);if(null===we)return Ue;let rt=`<img src="${Ke=we}" alt="${Ue}"`;return Fe&&(rt+=` title="${Fe}"`),rt+=">",rt}text(Ke){return"tokens"in Ke&&Ke.tokens?this.parser.parseInline(Ke.tokens):Ke.text}}class Ct{strong({text:Ke}){return Ke}em({text:Ke}){return Ke}codespan({text:Ke}){return Ke}del({text:Ke}){return Ke}html({text:Ke}){return Ke}text({text:Ke}){return Ke}link({text:Ke}){return""+Ke}image({text:Ke}){return""+Ke}br(){return""}}class Mt{options;renderer;textRenderer;constructor(Ke){this.options=Ke||n,this.options.renderer=this.options.renderer||new pt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ct}static parse(Ke,Fe){return new Mt(Fe).parse(Ke)}static parseInline(Ke,Fe){return new Mt(Fe).parseInline(Ke)}parse(Ke,Fe=!0){let Ue="";for(let we=0;we<Ke.length;we++){const rt=Ke[we];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[rt.type]){const on=rt,rn=this.options.extensions.renderers[on.type].call({parser:this},on);if(!1!==rn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(on.type)){Ue+=rn||"";continue}}const vt=rt;switch(vt.type){case"space":Ue+=this.renderer.space(vt);continue;case"hr":Ue+=this.renderer.hr(vt);continue;case"heading":Ue+=this.renderer.heading(vt);continue;case"code":Ue+=this.renderer.code(vt);continue;case"table":Ue+=this.renderer.table(vt);continue;case"blockquote":Ue+=this.renderer.blockquote(vt);continue;case"list":Ue+=this.renderer.list(vt);continue;case"html":Ue+=this.renderer.html(vt);continue;case"paragraph":Ue+=this.renderer.paragraph(vt);continue;case"text":{let on=vt,rn=this.renderer.text(on);for(;we+1<Ke.length&&"text"===Ke[we+1].type;)on=Ke[++we],rn+="\n"+this.renderer.text(on);Ue+=Fe?this.renderer.paragraph({type:"paragraph",raw:rn,text:rn,tokens:[{type:"text",raw:rn,text:rn}]}):rn;continue}default:{const on='Token with "'+vt.type+'" type was not found.';if(this.options.silent)return console.error(on),"";throw new Error(on)}}}return Ue}parseInline(Ke,Fe){Fe=Fe||this.renderer;let Ue="";for(let we=0;we<Ke.length;we++){const rt=Ke[we];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[rt.type]){const on=this.options.extensions.renderers[rt.type].call({parser:this},rt);if(!1!==on||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(rt.type)){Ue+=on||"";continue}}const vt=rt;switch(vt.type){case"escape":case"text":Ue+=Fe.text(vt);break;case"html":Ue+=Fe.html(vt);break;case"link":Ue+=Fe.link(vt);break;case"image":Ue+=Fe.image(vt);break;case"strong":Ue+=Fe.strong(vt);break;case"em":Ue+=Fe.em(vt);break;case"codespan":Ue+=Fe.codespan(vt);break;case"br":Ue+=Fe.br(vt);break;case"del":Ue+=Fe.del(vt);break;default:{const on='Token with "'+vt.type+'" type was not found.';if(this.options.silent)return console.error(on),"";throw new Error(on)}}}return Ue}}class $t{options;constructor(Ke){this.options=Ke||n}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Ke){return Ke}postprocess(Ke){return Ke}processAllTokens(Ke){return Ke}}const Sn=new class nn{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(ht.lex,Mt.parse);parseInline=this.#t(ht.lexInline,Mt.parseInline);Parser=Mt;Renderer=pt;TextRenderer=Ct;Lexer=ht;Tokenizer=R;Hooks=$t;constructor(...Ke){this.use(...Ke)}walkTokens(Ke,Fe){let Ue=[];for(const we of Ke)switch(Ue=Ue.concat(Fe.call(this,we)),we.type){case"table":{const rt=we;for(const vt of rt.header)Ue=Ue.concat(this.walkTokens(vt.tokens,Fe));for(const vt of rt.rows)for(const on of vt)Ue=Ue.concat(this.walkTokens(on.tokens,Fe));break}case"list":Ue=Ue.concat(this.walkTokens(we.items,Fe));break;default:{const rt=we;this.defaults.extensions?.childTokens?.[rt.type]?this.defaults.extensions.childTokens[rt.type].forEach(vt=>{const on=rt[vt].flat(1/0);Ue=Ue.concat(this.walkTokens(on,Fe))}):rt.tokens&&(Ue=Ue.concat(this.walkTokens(rt.tokens,Fe)))}}return Ue}use(...Ke){const Fe=this.defaults.extensions||{renderers:{},childTokens:{}};return Ke.forEach(Ue=>{const we={...Ue};if(we.async=this.defaults.async||we.async||!1,Ue.extensions&&(Ue.extensions.forEach(rt=>{if(!rt.name)throw new Error("extension name required");if("renderer"in rt){const vt=Fe.renderers[rt.name];Fe.renderers[rt.name]=vt?function(...on){let rn=rt.renderer.apply(this,on);return!1===rn&&(rn=vt.apply(this,on)),rn}:rt.renderer}if("tokenizer"in rt){if(!rt.level||"block"!==rt.level&&"inline"!==rt.level)throw new Error("extension level must be 'block' or 'inline'");const vt=Fe[rt.level];vt?vt.unshift(rt.tokenizer):Fe[rt.level]=[rt.tokenizer],rt.start&&("block"===rt.level?Fe.startBlock?Fe.startBlock.push(rt.start):Fe.startBlock=[rt.start]:"inline"===rt.level&&(Fe.startInline?Fe.startInline.push(rt.start):Fe.startInline=[rt.start]))}"childTokens"in rt&&rt.childTokens&&(Fe.childTokens[rt.name]=rt.childTokens)}),we.extensions=Fe),Ue.renderer){const rt=this.defaults.renderer||new pt(this.defaults);for(const vt in Ue.renderer){if(!(vt in rt))throw new Error(`renderer '${vt}' does not exist`);if(["options","parser"].includes(vt))continue;const on=vt;let rn=Ue.renderer[on];const Nt=rt[on];rt[on]=(...fn)=>{Ue.useNewRenderer||(rn=this.#e(rn,on,rt));let wt=rn.apply(rt,fn);return!1===wt&&(wt=Nt.apply(rt,fn)),wt||""}}we.renderer=rt}if(Ue.tokenizer){const rt=this.defaults.tokenizer||new R(this.defaults);for(const vt in Ue.tokenizer){if(!(vt in rt))throw new Error(`tokenizer '${vt}' does not exist`);if(["options","rules","lexer"].includes(vt))continue;const rn=Ue.tokenizer[vt],Nt=rt[vt];rt[vt]=(...fn)=>{let wt=rn.apply(rt,fn);return!1===wt&&(wt=Nt.apply(rt,fn)),wt}}we.tokenizer=rt}if(Ue.hooks){const rt=this.defaults.hooks||new $t;for(const vt in Ue.hooks){if(!(vt in rt))throw new Error(`hook '${vt}' does not exist`);if("options"===vt)continue;const rn=Ue.hooks[vt],Nt=rt[vt];rt[vt]=$t.passThroughHooks.has(vt)?fn=>{if(this.defaults.async)return Promise.resolve(rn.call(rt,fn)).then(Yt=>Nt.call(rt,Yt));const wt=rn.call(rt,fn);return Nt.call(rt,wt)}:(...fn)=>{let wt=rn.apply(rt,fn);return!1===wt&&(wt=Nt.apply(rt,fn)),wt}}we.hooks=rt}if(Ue.walkTokens){const rt=this.defaults.walkTokens,vt=Ue.walkTokens;we.walkTokens=function(on){let rn=[];return rn.push(vt.call(this,on)),rt&&(rn=rn.concat(rt.call(this,on))),rn}}this.defaults={...this.defaults,...we}}),this}#e(Ke,Fe,Ue){switch(Fe){case"heading":return function(we){return we.type&&we.type===Fe?Ke.call(this,Ue.parser.parseInline(we.tokens),we.depth,function m(Ut){return Ut.replace(O,(Ke,Fe)=>"colon"===(Fe=Fe.toLowerCase())?":":"#"===Fe.charAt(0)?"x"===Fe.charAt(1)?String.fromCharCode(parseInt(Fe.substring(2),16)):String.fromCharCode(+Fe.substring(1)):"")}(Ue.parser.parseInline(we.tokens,Ue.parser.textRenderer))):Ke.apply(this,arguments)};case"code":return function(we){return we.type&&we.type===Fe?Ke.call(this,we.text,we.lang,!!we.escaped):Ke.apply(this,arguments)};case"table":return function(we){if(!we.type||we.type!==Fe)return Ke.apply(this,arguments);let rt="",vt="";for(let rn=0;rn<we.header.length;rn++)vt+=this.tablecell({text:we.header[rn].text,tokens:we.header[rn].tokens,header:!0,align:we.align[rn]});rt+=this.tablerow({text:vt});let on="";for(let rn=0;rn<we.rows.length;rn++){const Nt=we.rows[rn];vt="";for(let fn=0;fn<Nt.length;fn++)vt+=this.tablecell({text:Nt[fn].text,tokens:Nt[fn].tokens,header:!1,align:we.align[fn]});on+=this.tablerow({text:vt})}return Ke.call(this,rt,on)};case"blockquote":return function(we){if(!we.type||we.type!==Fe)return Ke.apply(this,arguments);const rt=this.parser.parse(we.tokens);return Ke.call(this,rt)};case"list":return function(we){if(!we.type||we.type!==Fe)return Ke.apply(this,arguments);const rt=we.ordered,vt=we.start,on=we.loose;let rn="";for(let Nt=0;Nt<we.items.length;Nt++){const fn=we.items[Nt],wt=fn.checked,Yt=fn.task;let tn="";if(fn.task){const cn=this.checkbox({checked:!!wt});on?fn.tokens.length>0&&"paragraph"===fn.tokens[0].type?(fn.tokens[0].text=cn+" "+fn.tokens[0].text,fn.tokens[0].tokens&&fn.tokens[0].tokens.length>0&&"text"===fn.tokens[0].tokens[0].type&&(fn.tokens[0].tokens[0].text=cn+" "+fn.tokens[0].tokens[0].text)):fn.tokens.unshift({type:"text",text:cn+" "}):tn+=cn+" "}tn+=this.parser.parse(fn.tokens,on),rn+=this.listitem({type:"list_item",raw:tn,text:tn,task:Yt,checked:!!wt,loose:on,tokens:fn.tokens})}return Ke.call(this,rn,rt,vt)};case"html":return function(we){return we.type&&we.type===Fe?Ke.call(this,we.text,we.block):Ke.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(we){return we.type&&we.type===Fe?Ke.call(this,this.parser.parseInline(we.tokens)):Ke.apply(this,arguments)};case"escape":case"codespan":case"text":return function(we){return we.type&&we.type===Fe?Ke.call(this,we.text):Ke.apply(this,arguments)};case"link":return function(we){return we.type&&we.type===Fe?Ke.call(this,we.href,we.title,this.parser.parseInline(we.tokens)):Ke.apply(this,arguments)};case"image":return function(we){return we.type&&we.type===Fe?Ke.call(this,we.href,we.title,we.text):Ke.apply(this,arguments)}}return Ke}setOptions(Ke){return this.defaults={...this.defaults,...Ke},this}lexer(Ke,Fe){return ht.lex(Ke,Fe??this.defaults)}parser(Ke,Fe){return Mt.parse(Ke,Fe??this.defaults)}#t(Ke,Fe){return(Ue,we)=>{const rt={...we},vt={...this.defaults,...rt};!0===this.defaults.async&&!1===rt.async&&(vt.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),vt.async=!0);const on=this.#n(!!vt.silent,!!vt.async);if(typeof Ue>"u"||null===Ue)return on(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof Ue)return on(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ue)+", string expected"));if(vt.hooks&&(vt.hooks.options=vt),vt.async)return Promise.resolve(vt.hooks?vt.hooks.preprocess(Ue):Ue).then(rn=>Ke(rn,vt)).then(rn=>vt.hooks?vt.hooks.processAllTokens(rn):rn).then(rn=>vt.walkTokens?Promise.all(this.walkTokens(rn,vt.walkTokens)).then(()=>rn):rn).then(rn=>Fe(rn,vt)).then(rn=>vt.hooks?vt.hooks.postprocess(rn):rn).catch(on);try{vt.hooks&&(Ue=vt.hooks.preprocess(Ue));let rn=Ke(Ue,vt);vt.hooks&&(rn=vt.hooks.processAllTokens(rn)),vt.walkTokens&&this.walkTokens(rn,vt.walkTokens);let Nt=Fe(rn,vt);return vt.hooks&&(Nt=vt.hooks.postprocess(Nt)),Nt}catch(rn){return on(rn)}}}#n(Ke,Fe){return Ue=>{if(Ue.message+="\nPlease report this to https://github.com/markedjs/marked.",Ke){const we="<p>An error occurred:</p><pre>"+y(Ue.message+"",!0)+"</pre>";return Fe?Promise.resolve(we):we}if(Fe)return Promise.reject(Ue);throw Ue}}};function In(Ut,Ke){return Sn.parse(Ut,Ke)}In.options=In.setOptions=function(Ut){return Sn.setOptions(Ut),f(In.defaults=Sn.defaults),In},In.getDefaults=function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},In.defaults=n,In.use=function(...Ut){return Sn.use(...Ut),f(In.defaults=Sn.defaults),In},In.walkTokens=function(Ut,Ke){return Sn.walkTokens(Ut,Ke)},In.parseInline=Sn.parseInline,In.Parser=Mt,In.parser=Mt.parse,In.Renderer=pt,In.TextRenderer=Ct,In.Lexer=ht,In.lexer=ht.lex,In.Tokenizer=R,In.Hooks=$t,In.parse=In;const Te=In},467:(At,ue,a)=>{"use strict";function t(f,v,b,C,g,S,h){try{var y=f[S](h),O=y.value}catch(m){return void b(m)}y.done?v(O):Promise.resolve(O).then(C,g)}function n(f){return function(){var v=this,b=arguments;return new Promise(function(C,g){var S=f.apply(v,b);function h(O){t(S,C,g,h,y,"next",O)}function y(O){t(S,C,g,h,y,"throw",O)}h(void 0)})}}a.d(ue,{A:()=>n})}},At=>{At(At.s=8933)}]);