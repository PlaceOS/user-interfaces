(self.webpackChunkvisitor_kiosk=self.webpackChunkvisitor_kiosk||[]).push([[792],{6107:(jt,Se,l)=>{"use strict";l.d(Se,{G:()=>k});var t=l(467),n=l(7375),p=l(8390),v=l(5987),b=l(7926),E=l(5818),M=l(9928),S=l(7915),u=l(2168),I=l(3953);let k=(()=>{class T{constructor(){this._booking=new M.t(null),this._guest=new M.t(null),this._photo=new M.t(""),this._error=new M.t(""),this._form=new M.t((0,p.Wq)()),this._space_pipe=new u.Jm,this.event=this._booking.asObservable(),this.guest=this._guest.asObservable(),this.error=this._error.asObservable(),this.form=this._form.asObservable(),this.metadata=""}clear(){this._guest.next(null),this._booking.next(null),this._photo.next(null)}setBooking(D,f=""){this._booking.next(D),this._guest.next(new p.So({email:D.asset_id,name:D.asset_name,organisation:D.extension_data.organisation,phone:D.extension_data.phone})),this.metadata=f}setPhoto(D){this._photo.next(D)}setError(D){this._error.next(D)}loadGuestAndEvent(D,f){var V=this;return(0,t.A)(function*(){const K=yield(0,p.qc)(D).toPromise();if(f){const Z=yield(0,S.DO)(f).toPromise();return V._guest.next(K),V._booking.next(Z),V._form.next((0,p.Wq)(K,Z.user_email)),{guest:K,event:Z}}if(K.booking)return V._guest.next(K),V._booking.next(K.booking),V._form.next((0,p.Wq)(K,K.booking.user_email)),{guest:K,event:K.booking};let ne=yield(0,S.u3)({type:"visitor",period_start:(0,v._)(Date.now()),period_end:(0,v._)((0,b.z)(Date.now(),120))}).toPromise();ne=ne.filter(Z=>Z.user_email===D||Z.asset_id===D);const U=new Date,c=ne.filter(Z=>(0,E.r)(new Date(Z.date),U));if(c.sort((Z,F)=>Z.date-F.date),c.length<=0)throw new Error(`No meetings for guest "${D}" today`);return V._guest.next(K),V._booking.next(c[0]),V._form.next((0,p.Wq)(K,c[0].user_email)),{guest:K,event:c[0]}})()}updateGuest(D){var f=this;return(0,t.A)(function*(){f._guest.getValue(),f._form.getValue()})()}completeInduction(){var D=this;return(0,t.A)(function*(){const f=D._guest.getValue(),V=D._booking.getValue()||f.extension_data.event;!f||!V||(yield(0,S.MV)(V.id,"accepted").toPromise())})()}declineInduction(){var D=this;return(0,t.A)(function*(){const f=D._guest.getValue(),V=D._booking.getValue()||f.extension_data.event;!f||!V||(yield(0,S.MV)(V.id,"declined").toPromise())})()}checkinGuest(){var D=this;return(0,t.A)(function*(){const f=D._guest.getValue(),V=D._booking.getValue()||f.extension_data.event;!f||!V||!(yield(0,S.Z$)(V.id,!0).toPromise().catch(function(){var U=(0,t.A)(function*(c){(0,n.UG)(c||`Error checking in ${f.name} for ${V.user_name||V.user_email}'s meeting.`)});return function(c){return U.apply(this,arguments)}}()))||((0,n.VX)(`Successfully checked in ${f.name} for ${V.user_name||V.user_email}'s meeting`),D.metadata="")})()}printPass(){try{return new Promise(D=>setTimeout(()=>D(""),5e3))}catch{(0,n.UG)("Error printing visitor pass")}return Promise.reject()}static#e=this.\u0275fac=function(f){return new(f||T)};static#t=this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},4658:(jt,Se,l)=>{"use strict";l.d(Se,{u:()=>ce});var t=l(177),n=l(9417),p=l(2091),v=l(494),b=l(8834),E=l(5416),M=l(4006),S=l(3719),u=l(9631),I=l(9183),k=l(7575),T=l(850),w=l(2798),D=l(6471),f=l(6600),V=l(9115),K=l(6665),ne=l(2765),U=l(5951),c=l(8030),J=(l(7375),l(2357),l(3953));l(9536);const G=[b.Hl,E._T,M.hM,S.RG,u.fS,I.D6,k.PO,T.jL,w.Ve,D.YN,f.pZ,V.Cn,K.vF,ne.g7,U.Wk],oe=[v.E9];let ce=(()=>{class le{static#e=this.\u0275fac=function(R){return new(R||le)};static#t=this.\u0275mod=J.$C({type:le});static#n=this.\u0275inj=J.G2t({imports:[t.MD,n.YN,n.X1,c.hI,p.iI,G,oe,c.hI,b.Hl,E._T,M.hM,S.RG,u.fS,I.D6,k.PO,T.jL,w.Ve,D.YN,f.pZ,V.Cn,K.vF,ne.g7,U.Wk,v.E9]})}return le})()},9536:(jt,Se,l)=>{"use strict";l.d(Se,{J:()=>M});var t=l(3953),n=l(177),p=l(6600),v=l(9183);function b(S,u){if(1&S){const I=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(I);const T=t.XpG();return t.Njj(T.takePhoto())}),t.EFF(1," Take Photo "),t.k0s()}}function E(S,u){if(1&S){const I=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(I);const T=t.XpG();return t.Njj(T.cancelPhoto())}),t.EFF(1," Cancel "),t.k0s(),t.j41(2,"button",12),t.bIt("click",function(){t.eBV(I);const T=t.XpG();return t.Njj(T.acceptPhoto())}),t.EFF(3,"Accept"),t.k0s()}}let M=(()=>{class S{constructor(){this.photoAccepted=new t.bkB,this.hasPhoto=!1,this.canvasContext=null,this.constraints={audio:!1,video:{width:{min:360,max:360},height:{min:400,max:400}}},this.imgSrc=null}ngOnInit(){setTimeout(()=>this.getCanvasContext(),500)}ngOnDestroy(){this.stopCapture(),this.video=null,this.canvasContext=null,this.canvas=null,this.imgSrc=null}startCapture(){if(this.imgSrc=null,this.video=document.getElementById("video"),!this.video)return setTimeout(()=>this.startCapture(),200);navigator.mediaDevices.getUserMedia(this.constraints).then(I=>{this.video.srcObject=I})}stopCapture(){this.video?.srcObject&&this.video.srcObject.getVideoTracks().forEach(I=>I.stop())}getCanvasContext(){if(this.canvas=document.getElementById("canvas"),!this.canvas)return setTimeout(()=>this.getCanvasContext(),200);this.canvasContext=this.canvas.getContext("2d"),setTimeout(()=>this.startCapture(),200)}takePhoto(){this.canvasContext.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.hasPhoto=!0,this.stopCapture()}cancelPhoto(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.hasPhoto=!1,this.startCapture()}acceptPhoto(){try{this.imgSrc=this.canvas.toDataURL("image/jpeg",.75),this.photoAccepted.emit(this.imgSrc)}catch(I){console.error("TakePhotoComponent::acceptPhoto Error converting image",I),this.photoAccepted.emit(null),this.cancelPhoto()}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=t.VBU({type:S,selectors:[["a-take-photo"]],hostVars:2,hostBindings:function(k,T){2&k&&t.AVh("has-photo",T.hasPhoto)},outputs:{photoAccepted:"photoAccepted"},decls:12,vars:2,consts:[["video",""],["canvas",""],["accept_state",""],["name","camera",1,"flex","flex-col","items-center","justify-center","rounded","overflow-hidden","relative"],["diameter","32"],[1,"text"],["id","video","autoplay","","width","360","height","400",1,"absolute","inset-0"],["id","canvas","width","360","height","400",1,"absolute","inset-0"],[1,"flex","items-center","justify-center","mt-4","space-x-2"],["class","take-photo","btn","","matRipple","",3,"click",4,"ngIf","ngIfElse"],["btn","","matRipple","",1,"take-photo",3,"click"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click"]],template:function(k,T){if(1&k&&(t.j41(0,"div",3),t.nrm(1,"mat-spinner",4),t.j41(2,"div",5),t.EFF(3,"Please wait..."),t.k0s(),t.nrm(4,"video",6,0)(6,"canvas",7,1),t.k0s(),t.j41(8,"div",8),t.DNE(9,b,2,0,"button",9),t.k0s(),t.DNE(10,E,4,0,"ng-template",null,2,t.C5r)),2&k){const w=t.sdS(11);t.R7$(9),t.Y8G("ngIf",!T.hasPhoto)("ngIfElse",w)}},dependencies:[n.bT,p.r6,v.LG],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}[name=camera][_ngcontent-%COMP%]{width:22.5rem;height:25rem}button[_ngcontent-%COMP%]{width:8rem}"]})}return S})()},8367:(jt,Se,l)=>{"use strict";var t=l(345),n=l(3953),p=l(9969);function b(r){return new n.wOt(3e3,!1)}function yt(r){switch(r.length){case 0:return new p.sf;case 1:return r[0];default:return new p.ui(r)}}function ot(r,o,a=new Map,h=new Map){const g=[],x=[];let ee=-1,me=null;if(o.forEach(xe=>{const Je=xe.get("offset"),xt=Je==ee,$t=xt&&me||new Map;xe.forEach((mn,En)=>{let bn=En,Un=mn;if("offset"!==En)switch(bn=r.normalizePropertyName(bn,g),Un){case p.FX:Un=a.get(En);break;case p.kp:Un=h.get(En);break;default:Un=r.normalizeStyleValue(En,bn,Un,g)}$t.set(bn,Un)}),xt||x.push($t),me=$t,ee=Je}),g.length)throw function oe(){return new n.wOt(3502,!1)}();return x}function It(r,o,a,h){switch(o){case"start":r.onStart(()=>h(a&&Ae(a,"start",r)));break;case"done":r.onDone(()=>h(a&&Ae(a,"done",r)));break;case"destroy":r.onDestroy(()=>h(a&&Ae(a,"destroy",r)))}}function Ae(r,o,a){const x=we(r.element,r.triggerName,r.fromState,r.toState,o||r.phaseName,a.totalTime??r.totalTime,!!a.disabled),ee=r._data;return null!=ee&&(x._data=ee),x}function we(r,o,a,h,g="",x=0,ee){return{element:r,triggerName:o,fromState:a,toState:h,phaseName:g,totalTime:x,disabled:!!ee}}function _e(r,o,a){let h=r.get(o);return h||r.set(o,h=a),h}function de(r){const o=r.indexOf(":");return[r.substring(1,o),r.slice(o+1)]}const Te=typeof document>"u"?null:document.documentElement;function Pe(r){const o=r.parentNode||r.host||null;return o===Te?null:o}let tt=null,wt=!1;function Jt(r,o){for(;o;){if(o===r)return!0;o=Pe(o)}return!1}function Ft(r,o,a){if(a)return Array.from(r.querySelectorAll(o));const h=r.querySelector(o);return h?[h]:[]}let Me=(()=>{class r{validateStyleProperty(a){return function ln(r){tt||(tt=function Bn(){return typeof document<"u"?document.body:null}()||{},wt=!!tt.style&&"WebkitAppearance"in tt.style);let o=!0;return tt.style&&!function St(r){return"ebkit"==r.substring(1,6)}(r)&&(o=r in tt.style,!o&&wt&&(o="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in tt.style)),o}(a)}containsElement(a,h){return Jt(a,h)}getParentElement(a){return Pe(a)}query(a,h,g){return Ft(a,h,g)}computeStyle(a,h,g){return g||""}animate(a,h,g,x,ee,me=[],xe){return new p.sf(g,x)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})();class ie{static#e=this.NOOP=new Me}class pe{}const Tt=1e3,Pt="ng-enter",dn="ng-leave",at="ng-trigger",pt=".ng-trigger",Xt="ng-animating",Gt=".ng-animating";function pn(r){if("number"==typeof r)return r;const o=r.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:nn(parseFloat(o[1]),o[2])}function nn(r,o){return"s"===o?r*Tt:r}function xn(r,o,a){return r.hasOwnProperty("duration")?r:function kn(r,o,a){let g,x=0,ee="";if("string"==typeof r){const me=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===me)return o.push(b()),{duration:0,delay:0,easing:""};g=nn(parseFloat(me[1]),me[2]);const xe=me[3];null!=xe&&(x=nn(parseFloat(xe),me[4]));const Je=me[5];Je&&(ee=Je)}else g=r;if(!a){let me=!1,xe=o.length;g<0&&(o.push(function E(){return new n.wOt(3100,!1)}()),me=!0),x<0&&(o.push(function M(){return new n.wOt(3101,!1)}()),me=!0),me&&o.splice(xe,0,b())}return{duration:g,delay:x,easing:ee}}(r,o,a)}function Ht(r,o,a){o.forEach((h,g)=>{const x=je(g);a&&!a.has(g)&&a.set(g,r.style[x]),r.style[x]=h})}function dt(r,o){o.forEach((a,h)=>{const g=je(h);r.style[g]=""})}function Vt(r){return Array.isArray(r)?1==r.length?r[0]:(0,p.K2)(r):r}const kt=new RegExp("{{\\s*(.+?)\\s*}}","g");function qt(r){let o=[];if("string"==typeof r){let a;for(;a=kt.exec(r);)o.push(a[1]);kt.lastIndex=0}return o}function un(r,o,a){const h=`${r}`,g=h.replace(kt,(x,ee)=>{let me=o[ee];return null==me&&(a.push(function u(){return new n.wOt(3003,!1)}()),me=""),me.toString()});return g==h?r:g}const Qe=/-+([a-z0-9])/g;function je(r){return r.replace(Qe,(...o)=>o[1].toUpperCase())}function We(r,o,a){switch(o.type){case p.If.Trigger:return r.visitTrigger(o,a);case p.If.State:return r.visitState(o,a);case p.If.Transition:return r.visitTransition(o,a);case p.If.Sequence:return r.visitSequence(o,a);case p.If.Group:return r.visitGroup(o,a);case p.If.Animate:return r.visitAnimate(o,a);case p.If.Keyframes:return r.visitKeyframes(o,a);case p.If.Style:return r.visitStyle(o,a);case p.If.Reference:return r.visitReference(o,a);case p.If.AnimateChild:return r.visitAnimateChild(o,a);case p.If.AnimateRef:return r.visitAnimateRef(o,a);case p.If.Query:return r.visitQuery(o,a);case p.If.Stagger:return r.visitStagger(o,a);default:throw function I(){return new n.wOt(3004,!1)}()}}function ht(r,o){return window.getComputedStyle(r)[o]}const He=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ke extends pe{normalizePropertyName(o,a){return je(o)}normalizeStyleValue(o,a,h,g){let x="";const ee=h.toString().trim();if(He.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)x="px";else{const me=h.match(/^[+-]?[\d\.]+([a-z]*)$/);me&&0==me[1].length&&g.push(function k(){return new n.wOt(3005,!1)}())}return ee+x}}const mi="*";const Ki=new Set(["true","1"]),ji=new Set(["false","0"]);function ts(r,o){const a=Ki.has(r)||ji.has(r),h=Ki.has(o)||ji.has(o);return(g,x)=>{let ee=r==mi||r==g,me=o==mi||o==x;return!ee&&a&&"boolean"==typeof g&&(ee=g?Ki.has(r):ji.has(r)),!me&&h&&"boolean"==typeof x&&(me=x?Ki.has(o):ji.has(o)),ee&&me}}const Yi=new RegExp("s*:selfs*,?","g");function jn(r,o,a,h){return new At(r).build(o,a,h)}class At{constructor(o){this._driver=o}build(o,a,h){const g=new ye(a);return this._resetContextStyleTimingState(g),We(this,Vt(o),g)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,a){let h=a.queryCount=0,g=a.depCount=0;const x=[],ee=[];return"@"==o.name.charAt(0)&&a.errors.push(function T(){return new n.wOt(3006,!1)}()),o.definitions.forEach(me=>{if(this._resetContextStyleTimingState(a),me.type==p.If.State){const xe=me,Je=xe.name;Je.toString().split(/\s*,\s*/).forEach(xt=>{xe.name=xt,x.push(this.visitState(xe,a))}),xe.name=Je}else if(me.type==p.If.Transition){const xe=this.visitTransition(me,a);h+=xe.queryCount,g+=xe.depCount,ee.push(xe)}else a.errors.push(function w(){return new n.wOt(3007,!1)}())}),{type:p.If.Trigger,name:o.name,states:x,transitions:ee,queryCount:h,depCount:g,options:null}}visitState(o,a){const h=this.visitStyle(o.styles,a),g=o.options&&o.options.params||null;if(h.containsDynamicStyles){const x=new Set,ee=g||{};h.styles.forEach(me=>{me instanceof Map&&me.forEach(xe=>{qt(xe).forEach(Je=>{ee.hasOwnProperty(Je)||x.add(Je)})})}),x.size&&a.errors.push(function D(){return new n.wOt(3008,!1)}(0,x.values()))}return{type:p.If.State,name:o.name,style:h,options:g?{params:g}:null}}visitTransition(o,a){a.queryCount=0,a.depCount=0;const h=We(this,Vt(o.animation),a),g=function Oi(r,o){const a=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(h=>function Mi(r,o,a){if(":"==r[0]){const xe=function wi(r,o){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return o.push(function X(){return new n.wOt(3016,!1)}()),"* => *"}}(r,a);if("function"==typeof xe)return void o.push(xe);r=xe}const h=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function z(){return new n.wOt(3015,!1)}()),o;const g=h[1],x=h[2],ee=h[3];o.push(ts(g,ee)),"<"==x[0]&&(g!=mi||ee!=mi)&&o.push(ts(ee,g))}(h,a,o)):a.push(r),a}(o.expr,a.errors);return{type:p.If.Transition,matchers:g,animation:h,queryCount:a.queryCount,depCount:a.depCount,options:Ue(o.options)}}visitSequence(o,a){return{type:p.If.Sequence,steps:o.steps.map(h=>We(this,h,a)),options:Ue(o.options)}}visitGroup(o,a){const h=a.currentTime;let g=0;const x=o.steps.map(ee=>{a.currentTime=h;const me=We(this,ee,a);return g=Math.max(g,a.currentTime),me});return a.currentTime=g,{type:p.If.Group,steps:x,options:Ue(o.options)}}visitAnimate(o,a){const h=function q(r,o){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return Fe(xn(r,o).duration,0,"");const a=r;if(a.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=Fe(0,0,"");return x.dynamic=!0,x.strValue=a,x}const g=xn(a,o);return Fe(g.duration,g.delay,g.easing)}(o.timings,a.errors);a.currentAnimateTimings=h;let g,x=o.styles?o.styles:(0,p.iF)({});if(x.type==p.If.Keyframes)g=this.visitKeyframes(x,a);else{let ee=o.styles,me=!1;if(!ee){me=!0;const Je={};h.easing&&(Je.easing=h.easing),ee=(0,p.iF)(Je)}a.currentTime+=h.duration+h.delay;const xe=this.visitStyle(ee,a);xe.isEmptyStep=me,g=xe}return a.currentAnimateTimings=null,{type:p.If.Animate,timings:h,style:g,options:null}}visitStyle(o,a){const h=this._makeStyleAst(o,a);return this._validateStyleAst(h,a),h}_makeStyleAst(o,a){const h=[],g=Array.isArray(o.styles)?o.styles:[o.styles];for(let me of g)"string"==typeof me?me===p.kp?h.push(me):a.errors.push(new n.wOt(3002,!1)):h.push(new Map(Object.entries(me)));let x=!1,ee=null;return h.forEach(me=>{if(me instanceof Map&&(me.has("easing")&&(ee=me.get("easing"),me.delete("easing")),!x))for(let xe of me.values())if(xe.toString().indexOf("{{")>=0){x=!0;break}}),{type:p.If.Style,styles:h,easing:ee,offset:o.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(o,a){const h=a.currentAnimateTimings;let g=a.currentTime,x=a.currentTime;h&&x>0&&(x-=h.duration+h.delay),o.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((me,xe)=>{const Je=a.collectedStyles.get(a.currentQuerySelector),xt=Je.get(xe);let $t=!0;xt&&(x!=g&&x>=xt.startTime&&g<=xt.endTime&&(a.errors.push(function K(){return new n.wOt(3010,!1)}()),$t=!1),x=xt.startTime),$t&&Je.set(xe,{startTime:x,endTime:g}),a.options&&function ct(r,o,a){const h=o.params||{},g=qt(r);g.length&&g.forEach(x=>{h.hasOwnProperty(x)||a.push(function S(){return new n.wOt(3001,!1)}())})}(me,a.options,a.errors)})})}visitKeyframes(o,a){const h={type:p.If.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function ne(){return new n.wOt(3011,!1)}()),h;let x=0;const ee=[];let me=!1,xe=!1,Je=0;const xt=o.steps.map(_i=>{const Bi=this._makeStyleAst(_i,a);let qi=null!=Bi.offset?Bi.offset:function _t(r){if("string"==typeof r)return null;let o=null;if(Array.isArray(r))r.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;o=parseFloat(h.get("offset")),h.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const a=r;o=parseFloat(a.get("offset")),a.delete("offset")}return o}(Bi.styles),Gi=0;return null!=qi&&(x++,Gi=Bi.offset=qi),xe=xe||Gi<0||Gi>1,me=me||Gi<Je,Je=Gi,ee.push(Gi),Bi});xe&&a.errors.push(function U(){return new n.wOt(3012,!1)}()),me&&a.errors.push(function c(){return new n.wOt(3200,!1)}());const $t=o.steps.length;let mn=0;x>0&&x<$t?a.errors.push(function Z(){return new n.wOt(3202,!1)}()):0==x&&(mn=1/($t-1));const En=$t-1,bn=a.currentTime,Un=a.currentAnimateTimings,pi=Un.duration;return xt.forEach((_i,Bi)=>{const qi=mn>0?Bi==En?1:mn*Bi:ee[Bi],Gi=qi*pi;a.currentTime=bn+Un.delay+Gi,Un.duration=Gi,this._validateStyleAst(_i,a),_i.offset=qi,h.styles.push(_i)}),h}visitReference(o,a){return{type:p.If.Reference,animation:We(this,Vt(o.animation),a),options:Ue(o.options)}}visitAnimateChild(o,a){return a.depCount++,{type:p.If.AnimateChild,options:Ue(o.options)}}visitAnimateRef(o,a){return{type:p.If.AnimateRef,animation:this.visitReference(o.animation,a),options:Ue(o.options)}}visitQuery(o,a){const h=a.currentQuerySelector,g=o.options||{};a.queryCount++,a.currentQuery=o;const[x,ee]=function Ut(r){const o=!!r.split(/\s*,\s*/).find(a=>":self"==a);return o&&(r=r.replace(Yi,"")),r=r.replace(/@\*/g,pt).replace(/@\w+/g,a=>pt+"-"+a.slice(1)).replace(/:animating/g,Gt),[r,o]}(o.selector);a.currentQuerySelector=h.length?h+" "+x:x,_e(a.collectedStyles,a.currentQuerySelector,new Map);const me=We(this,Vt(o.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:p.If.Query,selector:x,limit:g.limit||0,optional:!!g.optional,includeSelf:ee,animation:me,originalSelector:o.selector,options:Ue(o.options)}}visitStagger(o,a){a.currentQuery||a.errors.push(function F(){return new n.wOt(3013,!1)}());const h="full"===o.timings?{duration:0,delay:0,easing:"full"}:xn(o.timings,a.errors,!0);return{type:p.If.Stagger,animation:We(this,Vt(o.animation),a),timings:h,options:null}}}class ye{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ue(r){return r?(r={...r}).params&&(r.params=function An(r){return r?{...r}:null}(r.params)):r={},r}function Fe(r,o,a){return{duration:r,delay:o,easing:a}}function mt(r,o,a,h,g,x,ee=null,me=!1){return{type:1,element:r,keyframes:o,preStyleProps:a,postStyleProps:h,duration:g,delay:x,totalTime:g+x,easing:ee,subTimeline:me}}class ut{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,a){let h=this._map.get(o);h||this._map.set(o,h=[]),h.push(...a)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const Dn=new RegExp(":enter","g"),Jn=new RegExp(":leave","g");function ci(r,o,a,h,g,x=new Map,ee=new Map,me,xe,Je=[]){return(new Li).buildKeyframes(r,o,a,h,g,x,ee,me,xe,Je)}class Li{buildKeyframes(o,a,h,g,x,ee,me,xe,Je,xt=[]){Je=Je||new ut;const $t=new es(o,a,Je,g,x,xt,[]);$t.options=xe;const mn=xe.delay?pn(xe.delay):0;$t.currentTimeline.delayNextStep(mn),$t.currentTimeline.setStyles([ee],null,$t.errors,xe),We(this,h,$t);const En=$t.timelines.filter(bn=>bn.containsAnimation());if(En.length&&me.size){let bn;for(let Un=En.length-1;Un>=0;Un--){const pi=En[Un];if(pi.element===a){bn=pi;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([me],null,$t.errors,xe)}return En.length?En.map(bn=>bn.buildKeyframes()):[mt(a,[],[],[],0,mn,"",!1)]}visitTrigger(o,a){}visitState(o,a){}visitTransition(o,a){}visitAnimateChild(o,a){const h=a.subInstructions.get(a.element);if(h){const g=a.createSubContext(o.options),x=a.currentTimeline.currentTime,ee=this._visitSubInstructions(h,g,g.options);x!=ee&&a.transformIntoNewTimeline(ee)}a.previousNode=o}visitAnimateRef(o,a){const h=a.createSubContext(o.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],a,h),this.visitReference(o.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=o}_applyAnimationRefDelays(o,a,h){for(const g of o){const x=g?.delay;if(x){const ee="number"==typeof x?x:pn(un(x,g?.params??{},a.errors));h.delayNextStep(ee)}}}_visitSubInstructions(o,a,h){let x=a.currentTimeline.currentTime;const ee=null!=h.duration?pn(h.duration):null,me=null!=h.delay?pn(h.delay):null;return 0!==ee&&o.forEach(xe=>{const Je=a.appendInstructionToTimeline(xe,ee,me);x=Math.max(x,Je.duration+Je.delay)}),x}visitReference(o,a){a.updateOptions(o.options,!0),We(this,o.animation,a),a.previousNode=o}visitSequence(o,a){const h=a.subContextCount;let g=a;const x=o.options;if(x&&(x.params||x.delay)&&(g=a.createSubContext(x),g.transformIntoNewTimeline(),null!=x.delay)){g.previousNode.type==p.If.Style&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=Ui);const ee=pn(x.delay);g.delayNextStep(ee)}o.steps.length&&(o.steps.forEach(ee=>We(this,ee,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>h&&g.transformIntoNewTimeline()),a.previousNode=o}visitGroup(o,a){const h=[];let g=a.currentTimeline.currentTime;const x=o.options&&o.options.delay?pn(o.options.delay):0;o.steps.forEach(ee=>{const me=a.createSubContext(o.options);x&&me.delayNextStep(x),We(this,ee,me),g=Math.max(g,me.currentTimeline.currentTime),h.push(me.currentTimeline)}),h.forEach(ee=>a.currentTimeline.mergeTimelineCollectedStyles(ee)),a.transformIntoNewTimeline(g),a.previousNode=o}_visitTiming(o,a){if(o.dynamic){const h=o.strValue;return xn(a.params?un(h,a.params,a.errors):h,a.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,a){const h=a.currentAnimateTimings=this._visitTiming(o.timings,a),g=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),g.snapshotCurrentStyles());const x=o.style;x.type==p.If.Keyframes?this.visitKeyframes(x,a):(a.incrementTime(h.duration),this.visitStyle(x,a),g.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=o}visitStyle(o,a){const h=a.currentTimeline,g=a.currentAnimateTimings;!g&&h.hasCurrentStyleProperties()&&h.forwardFrame();const x=g&&g.easing||o.easing;o.isEmptyStep?h.applyEmptyStep(x):h.setStyles(o.styles,x,a.errors,a.options),a.previousNode=o}visitKeyframes(o,a){const h=a.currentAnimateTimings,g=a.currentTimeline.duration,x=h.duration,me=a.createSubContext().currentTimeline;me.easing=h.easing,o.styles.forEach(xe=>{me.forwardTime((xe.offset||0)*x),me.setStyles(xe.styles,xe.easing,a.errors,a.options),me.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(me),a.transformIntoNewTimeline(g+x),a.previousNode=o}visitQuery(o,a){const h=a.currentTimeline.currentTime,g=o.options||{},x=g.delay?pn(g.delay):0;x&&(a.previousNode.type===p.If.Style||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ui);let ee=h;const me=a.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!g.optional,a.errors);a.currentQueryTotal=me.length;let xe=null;me.forEach((Je,xt)=>{a.currentQueryIndex=xt;const $t=a.createSubContext(o.options,Je);x&&$t.delayNextStep(x),Je===a.element&&(xe=$t.currentTimeline),We(this,o.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,$t.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(ee),xe&&(a.currentTimeline.mergeTimelineCollectedStyles(xe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=o}visitStagger(o,a){const h=a.parentContext,g=a.currentTimeline,x=o.timings,ee=Math.abs(x.duration),me=ee*(a.currentQueryTotal-1);let xe=ee*a.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":xe=me-xe;break;case"full":xe=h.currentStaggerTime}const xt=a.currentTimeline;xe&&xt.delayNextStep(xe);const $t=xt.currentTime;We(this,o.animation,a),a.previousNode=o,h.currentStaggerTime=g.currentTime-$t+(g.startTime-h.currentTimeline.startTime)}}const Ui={};class es{constructor(o,a,h,g,x,ee,me,xe){this._driver=o,this.element=a,this.subInstructions=h,this._enterClassName=g,this._leaveClassName=x,this.errors=ee,this.timelines=me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ui,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new as(this._driver,a,0),me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,a){if(!o)return;const h=o;let g=this.options;null!=h.duration&&(g.duration=pn(h.duration)),null!=h.delay&&(g.delay=pn(h.delay));const x=h.params;if(x){let ee=g.params;ee||(ee=this.options.params={}),Object.keys(x).forEach(me=>{(!a||!ee.hasOwnProperty(me))&&(ee[me]=un(x[me],ee,this.errors))})}}_copyOptions(){const o={};if(this.options){const a=this.options.params;if(a){const h=o.params={};Object.keys(a).forEach(g=>{h[g]=a[g]})}}return o}createSubContext(o=null,a,h){const g=a||this.element,x=new es(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,h||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(o),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(o){return this.previousNode=Ui,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,a,h){const g={duration:a??o.duration,delay:this.currentTimeline.currentTime+(h??0)+o.delay,easing:""},x=new ti(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,g,o.stretchStartingKeyframe);return this.timelines.push(x),g}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,a,h,g,x,ee){let me=[];if(g&&me.push(this.element),o.length>0){o=(o=o.replace(Dn,"."+this._enterClassName)).replace(Jn,"."+this._leaveClassName);let Je=this._driver.query(this.element,o,1!=h);0!==h&&(Je=h<0?Je.slice(Je.length+h,Je.length):Je.slice(0,h)),me.push(...Je)}return!x&&0==me.length&&ee.push(function J(){return new n.wOt(3014,!1)}()),me}}class as{constructor(o,a,h,g){this._driver=o,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=g,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+o),a&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,a){return this.applyStylesToKeyframe(),new as(this._driver,o,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,a){this._localTimelineStyles.set(o,a),this._globalTimelineStyles.set(o,a),this._styleSummary.set(o,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||p.kp),this._currentKeyframe.set(a,p.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,a,h,g){a&&this._previousKeyframe.set("easing",a);const x=g&&g.params||{},ee=function Qi(r,o){const a=new Map;let h;return r.forEach(g=>{if("*"===g){h??=o.keys();for(let x of h)a.set(x,p.kp)}else for(let[x,ee]of g)a.set(x,ee)}),a}(o,this._globalTimelineStyles);for(let[me,xe]of ee){const Je=un(xe,x,h);this._pendingStyles.set(me,Je),this._localTimelineStyles.has(me)||this._backFill.set(me,this._globalTimelineStyles.get(me)??p.kp),this._updateStyle(me,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,a)=>{this._currentKeyframe.set(a,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,o)}))}snapshotCurrentStyles(){for(let[o,a]of this._localTimelineStyles)this._pendingStyles.set(o,a),this._updateStyle(o,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let a in this._currentKeyframe)o.push(a);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((a,h)=>{const g=this._styleSummary.get(h);(!g||a.time>g.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((me,xe)=>{const Je=new Map([...this._backFill,...me]);Je.forEach((xt,$t)=>{xt===p.FX?o.add($t):xt===p.kp&&a.add($t)}),h||Je.set("offset",xe/this.duration),g.push(Je)});const x=[...o.values()],ee=[...a.values()];if(h){const me=g[0],xe=new Map(me);me.set("offset",0),xe.set("offset",1),g=[me,xe]}return mt(this.element,g,x,ee,this.duration,this.startTime,this.easing,!1)}}class ti extends as{constructor(o,a,h,g,x,ee,me=!1){super(o,a,ee.delay),this.keyframes=h,this.preStyleProps=g,this.postStyleProps=x,this._stretchStartingKeyframe=me,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:a,duration:h,easing:g}=this.timings;if(this._stretchStartingKeyframe&&a){const x=[],ee=h+a,me=a/ee,xe=new Map(o[0]);xe.set("offset",0),x.push(xe);const Je=new Map(o[0]);Je.set("offset",qs(me)),x.push(Je);const xt=o.length-1;for(let $t=1;$t<=xt;$t++){let mn=new Map(o[$t]);const En=mn.get("offset");mn.set("offset",qs((a+En*h)/ee)),x.push(mn)}h=ee,a=0,g="",o=x}return mt(this.element,o,this.preStyleProps,this.postStyleProps,h,a,g,!0)}}function qs(r,o=3){const a=Math.pow(10,o-1);return Math.round(r*a)/a}function Ks(r,o,a,h,g,x,ee,me,xe,Je,xt,$t,mn){return{type:0,element:r,triggerName:o,isRemovalTransition:g,fromState:a,fromStyles:x,toState:h,toStyles:ee,timelines:me,queriedElements:xe,preStyleProps:Je,postStyleProps:xt,totalTime:$t,errors:mn}}const vo={};class zs{constructor(o,a,h){this._triggerName=o,this.ast=a,this._stateStyles=h}match(o,a,h,g){return function bs(r,o,a,h,g){return r.some(x=>x(o,a,h,g))}(this.ast.matchers,o,a,h,g)}buildStyles(o,a,h){let g=this._stateStyles.get("*");return void 0!==o&&(g=this._stateStyles.get(o?.toString())||g),g?g.buildStyles(a,h):new Map}build(o,a,h,g,x,ee,me,xe,Je,xt){const $t=[],mn=this.ast.options&&this.ast.options.params||vo,bn=this.buildStyles(h,me&&me.params||vo,$t),Un=xe&&xe.params||vo,pi=this.buildStyles(g,Un,$t),_i=new Set,Bi=new Map,qi=new Map,Gi="void"===g,vs={params:Ir(Un,mn),delay:this.ast.options?.delay},Ti=xt?[]:ci(o,a,this.ast.animation,x,ee,bn,pi,vs,Je,$t);let ei=0;return Ti.forEach(Vi=>{ei=Math.max(Vi.duration+Vi.delay,ei)}),$t.length?Ks(a,this._triggerName,h,g,Gi,bn,pi,[],[],Bi,qi,ei,$t):(Ti.forEach(Vi=>{const Zs=Vi.element,xi=_e(Bi,Zs,new Set);Vi.preStyleProps.forEach(Os=>xi.add(Os));const hs=_e(qi,Zs,new Set);Vi.postStyleProps.forEach(Os=>hs.add(Os)),Zs!==a&&_i.add(Zs)}),Ks(a,this._triggerName,h,g,Gi,bn,pi,Ti,[..._i.values()],Bi,qi,ei))}}function Ir(r,o){const a={...o};return Object.entries(r).forEach(([h,g])=>{null!=g&&(a[h]=g)}),a}class ir{constructor(o,a,h){this.styles=o,this.defaultParams=a,this.normalizer=h}buildStyles(o,a){const h=new Map,g=Ir(o,this.defaultParams);return this.styles.styles.forEach(x=>{"string"!=typeof x&&x.forEach((ee,me)=>{ee&&(ee=un(ee,g,a));const xe=this.normalizer.normalizePropertyName(me,a);ee=this.normalizer.normalizeStyleValue(me,xe,ee,a),h.set(me,ee)})}),h}}class fr{constructor(o,a,h){this.name=o,this.ast=a,this._normalizer=h,this.transitionFactories=[],this.states=new Map,a.states.forEach(g=>{this.states.set(g.name,new ir(g.style,g.options&&g.options.params||{},h))}),pr(this.states,"true","1"),pr(this.states,"false","0"),a.transitions.forEach(g=>{this.transitionFactories.push(new zs(o,g,this.states))}),this.fallbackTransition=function $r(r,o){return new zs(r,{type:p.If.Transition,animation:{type:p.If.Sequence,steps:[],options:null},matchers:[(ee,me)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,a,h,g){return this.transitionFactories.find(ee=>ee.match(o,a,h,g))||null}matchStyles(o,a,h){return this.fallbackTransition.buildStyles(o,a,h)}}function pr(r,o,a){r.has(o)?r.has(a)||r.set(a,r.get(o)):r.has(a)&&r.set(o,r.get(a))}const fa=new ut;class zo{constructor(o,a,h){this.bodyNode=o,this._driver=a,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,a){const h=[],x=jn(this._driver,a,h,[]);if(h.length)throw function ce(){return new n.wOt(3503,!1)}();this._animations.set(o,x)}_buildPlayer(o,a,h){const g=o.element,x=ot(this._normalizer,o.keyframes,a,h);return this._driver.animate(g,x,o.duration,o.delay,o.easing,[],!0)}create(o,a,h={}){const g=[],x=this._animations.get(o);let ee;const me=new Map;if(x?(ee=ci(this._driver,a,x,Pt,dn,new Map,new Map,h,fa,g),ee.forEach(xt=>{const $t=_e(me,xt.element,new Map);xt.postStyleProps.forEach(mn=>$t.set(mn,null))})):(g.push(function le(){return new n.wOt(3300,!1)}()),ee=[]),g.length)throw function ve(){return new n.wOt(3504,!1)}();me.forEach((xt,$t)=>{xt.forEach((mn,En)=>{xt.set(En,this._driver.computeStyle($t,En,p.kp))})});const Je=yt(ee.map(xt=>{const $t=me.get(xt.element);return this._buildPlayer(xt,new Map,$t)}));return this._playersById.set(o,Je),Je.onDestroy(()=>this.destroy(o)),this.players.push(Je),Je}destroy(o){const a=this._getPlayer(o);a.destroy(),this._playersById.delete(o);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(o){const a=this._playersById.get(o);if(!a)throw function Q(){return new n.wOt(3301,!1)}();return a}listen(o,a,h,g){const x=we(a,"","","");return It(this._getPlayer(o),h,x,g),()=>{}}command(o,a,h,g){if("register"==h)return void this.register(o,g[0]);if("create"==h)return void this.create(o,a,g[0]||{});const x=this._getPlayer(o);switch(h){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(o)}}}const ea="ng-animate-queued",jr="ng-animate-disabled",ho=[],na={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ne="__ng_removed";class Bt{get params(){return this.options.params}constructor(o,a=""){this.namespaceId=a;const h=o&&o.hasOwnProperty("value");if(this.value=function Ws(r){return r??null}(h?o.value:o),h){const{value:x,...ee}=o;this.options=ee}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const a=o.params;if(a){const h=this.options.params;Object.keys(a).forEach(g=>{null==h[g]&&(h[g]=a[g])})}}}const hn="void",Nn=new Bt(hn);class zi{constructor(o,a,h){this.id=o,this.hostElement=a,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,Ls(a,this._hostClassName)}listen(o,a,h,g){if(!this._triggers.has(a))throw function R(){return new n.wOt(3302,!1)}();if(null==h||0==h.length)throw function L(){return new n.wOt(3303,!1)}();if(!function Xs(r){return"start"==r||"done"==r}(h))throw function H(){return new n.wOt(3400,!1)}();const x=_e(this._elementListeners,o,[]),ee={name:a,phase:h,callback:g};x.push(ee);const me=_e(this._engine.statesByElement,o,new Map);return me.has(a)||(Ls(o,at),Ls(o,at+"-"+a),me.set(a,Nn)),()=>{this._engine.afterFlush(()=>{const xe=x.indexOf(ee);xe>=0&&x.splice(xe,1),this._triggers.has(a)||me.delete(a)})}}register(o,a){return!this._triggers.has(o)&&(this._triggers.set(o,a),!0)}_getTrigger(o){const a=this._triggers.get(o);if(!a)throw function fe(){return new n.wOt(3401,!1)}();return a}trigger(o,a,h,g=!0){const x=this._getTrigger(a),ee=new Wi(this.id,a,o);let me=this._engine.statesByElement.get(o);me||(Ls(o,at),Ls(o,at+"-"+a),this._engine.statesByElement.set(o,me=new Map));let xe=me.get(a);const Je=new Bt(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&xe&&Je.absorbOptions(xe.options),me.set(a,Je),xe||(xe=Nn),Je.value!==hn&&xe.value===Je.value){if(!function Io(r,o){const a=Object.keys(r),h=Object.keys(o);if(a.length!=h.length)return!1;for(let g=0;g<a.length;g++){const x=a[g];if(!o.hasOwnProperty(x)||r[x]!==o[x])return!1}return!0}(xe.params,Je.params)){const Un=[],pi=x.matchStyles(xe.value,xe.params,Un),_i=x.matchStyles(Je.value,Je.params,Un);Un.length?this._engine.reportError(Un):this._engine.afterFlush(()=>{dt(o,pi),Ht(o,_i)})}return}const mn=_e(this._engine.playersByElement,o,[]);mn.forEach(Un=>{Un.namespaceId==this.id&&Un.triggerName==a&&Un.queued&&Un.destroy()});let En=x.matchTransition(xe.value,Je.value,o,Je.params),bn=!1;if(!En){if(!g)return;En=x.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:a,transition:En,fromState:xe,toState:Je,player:ee,isFallbackTransition:bn}),bn||(Ls(o,ea),ee.onStart(()=>{To(o,ea)})),ee.onDone(()=>{let Un=this.players.indexOf(ee);Un>=0&&this.players.splice(Un,1);const pi=this._engine.playersByElement.get(o);if(pi){let _i=pi.indexOf(ee);_i>=0&&pi.splice(_i,1)}}),this.players.push(ee),mn.push(ee),ee}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(a=>a.delete(o)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(g=>g.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const a=this._engine.playersByElement.get(o);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,a){const h=this._engine.driver.query(o,pt,!0);h.forEach(g=>{if(g[Ne])return;const x=this._engine.fetchNamespacesByElement(g);x.size?x.forEach(ee=>ee.triggerLeaveAnimation(g,a,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(o,a,h,g){const x=this._engine.statesByElement.get(o),ee=new Map;if(x){const me=[];if(x.forEach((xe,Je)=>{if(ee.set(Je,xe.value),this._triggers.has(Je)){const xt=this.trigger(o,Je,hn,g);xt&&me.push(xt)}}),me.length)return this._engine.markElementAsRemoved(this.id,o,!0,a,ee),h&&yt(me).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const a=this._elementListeners.get(o),h=this._engine.statesByElement.get(o);if(a&&h){const g=new Set;a.forEach(x=>{const ee=x.name;if(g.has(ee))return;g.add(ee);const xe=this._triggers.get(ee).fallbackTransition,Je=h.get(ee)||Nn,xt=new Bt(hn),$t=new Wi(this.id,ee,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:ee,transition:xe,fromState:Je,toState:xt,player:$t,isFallbackTransition:!0})})}}removeNode(o,a){const h=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,a),this.triggerLeaveAnimation(o,a,!0))return;let g=!1;if(h.totalAnimations){const x=h.players.length?h.playersByQueriedElement.get(o):[];if(x&&x.length)g=!0;else{let ee=o;for(;ee=ee.parentNode;)if(h.statesByElement.get(ee)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(o),g)h.markElementAsRemoved(this.id,o,!1,a);else{const x=o[Ne];(!x||x===na)&&(h.afterFlush(()=>this.clearElementCache(o)),h.destroyInnerAnimations(o),h._onRemovalComplete(o,a))}}insertNode(o,a){Ls(o,this._hostClassName)}drainQueuedTransitions(o){const a=[];return this._queue.forEach(h=>{const g=h.player;if(g.destroyed)return;const x=h.element,ee=this._elementListeners.get(x);ee&&ee.forEach(me=>{if(me.name==h.triggerName){const xe=we(x,h.triggerName,h.fromState.value,h.toState.value);xe._data=o,It(h.player,me.phase,xe,me.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):a.push(h)}),this._queue=[],a.sort((h,g)=>{const x=h.transition.ast.depCount,ee=g.transition.ast.depCount;return 0==x||0==ee?x-ee:this._engine.driver.containsElement(h.element,g.element)?1:-1})}destroy(o){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}}class Ci{_onRemovalComplete(o,a){this.onRemovalComplete(o,a)}constructor(o,a,h){this.bodyNode=o,this.driver=a,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,x)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&o.push(h)})}),o}createNamespace(o,a){const h=new zi(o,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[o]=h}_balanceNamespaceList(o,a){const h=this._namespaceList,g=this.namespacesByHostElement;if(h.length-1>=0){let ee=!1,me=this.driver.getParentElement(a);for(;me;){const xe=g.get(me);if(xe){const Je=h.indexOf(xe);h.splice(Je+1,0,o),ee=!0;break}me=this.driver.getParentElement(me)}ee||h.unshift(o)}else h.push(o);return g.set(a,o),o}register(o,a){let h=this._namespaceLookup[o];return h||(h=this.createNamespace(o,a)),h}registerTrigger(o,a,h){let g=this._namespaceLookup[o];g&&g.register(a,h)&&this.totalAnimations++}destroy(o,a){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(o);this.namespacesByHostElement.delete(h.hostElement);const g=this._namespaceList.indexOf(h);g>=0&&this._namespaceList.splice(g,1),h.destroy(a),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const a=new Set,h=this.statesByElement.get(o);if(h)for(let g of h.values())if(g.namespaceId){const x=this._fetchNamespace(g.namespaceId);x&&a.add(x)}return a}trigger(o,a,h,g){if(ys(a)){const x=this._fetchNamespace(o);if(x)return x.trigger(a,h,g),!0}return!1}insertNode(o,a,h,g){if(!ys(a))return;const x=a[Ne];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(a);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(o){const ee=this._fetchNamespace(o);ee&&ee.insertNode(a,h)}g&&this.collectEnterElement(a)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,a){a?this.disabledNodes.has(o)||(this.disabledNodes.add(o),Ls(o,jr)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),To(o,jr))}removeNode(o,a,h){if(ys(a)){const g=o?this._fetchNamespace(o):null;g?g.removeNode(a,h):this.markElementAsRemoved(o,a,!1,h);const x=this.namespacesByHostElement.get(a);x&&x.id!==o&&x.removeNode(a,h)}else this._onRemovalComplete(a,h)}markElementAsRemoved(o,a,h,g,x){this.collectedLeaveElements.push(a),a[Ne]={namespaceId:o,setForRemoval:g,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:x}}listen(o,a,h,g,x){return ys(a)?this._fetchNamespace(o).listen(a,h,g,x):()=>{}}_buildInstruction(o,a,h,g,x){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,h,g,o.fromState.options,o.toState.options,a,x)}destroyInnerAnimations(o){let a=this.driver.query(o,pt,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(o,Gt,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(o){const a=this.playersByElement.get(o);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(o){const a=this.playersByQueriedElement.get(o);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return yt(this.players).onDone(()=>o());o()})}processLeaveNode(o){const a=o[Ne];if(a&&a.setForRemoval){if(o[Ne]=na,a.namespaceId){this.destroyInnerAnimations(o);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(o)}this._onRemovalComplete(o,a.setForRemoval)}o.classList?.contains(jr)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(o=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,g)=>this._balanceNamespaceList(h,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Ls(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,o)}finally{for(let g=0;g<h.length;g++)h[g]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?yt(a).onDone(()=>{h.forEach(g=>g())}):h.forEach(g=>g())}}reportError(o){throw function Ie(){return new n.wOt(3402,!1)}()}_flushAnimations(o,a){const h=new ut,g=[],x=new Map,ee=[],me=new Map,xe=new Map,Je=new Map,xt=new Set;this.disabledNodes.forEach(ai=>{xt.add(ai);const Ei=this.driver.query(ai,".ng-animate-queued",!0);for(let Ii=0;Ii<Ei.length;Ii++)xt.add(Ei[Ii])});const $t=this.bodyNode,mn=Array.from(this.statesByElement.keys()),En=to(mn,this.collectedEnterElements),bn=new Map;let Un=0;En.forEach((ai,Ei)=>{const Ii=Pt+Un++;bn.set(Ei,Ii),ai.forEach(ws=>Ls(ws,Ii))});const pi=[],_i=new Set,Bi=new Set;for(let ai=0;ai<this.collectedLeaveElements.length;ai++){const Ei=this.collectedLeaveElements[ai],Ii=Ei[Ne];Ii&&Ii.setForRemoval&&(pi.push(Ei),_i.add(Ei),Ii.hasAnimation?this.driver.query(Ei,".ng-star-inserted",!0).forEach(ws=>_i.add(ws)):Bi.add(Ei))}const qi=new Map,Gi=to(mn,Array.from(_i));Gi.forEach((ai,Ei)=>{const Ii=dn+Un++;qi.set(Ei,Ii),ai.forEach(ws=>Ls(ws,Ii))}),o.push(()=>{En.forEach((ai,Ei)=>{const Ii=bn.get(Ei);ai.forEach(ws=>To(ws,Ii))}),Gi.forEach((ai,Ei)=>{const Ii=qi.get(Ei);ai.forEach(ws=>To(ws,Ii))}),pi.forEach(ai=>{this.processLeaveNode(ai)})});const vs=[],Ti=[];for(let ai=this._namespaceList.length-1;ai>=0;ai--)this._namespaceList[ai].drainQueuedTransitions(a).forEach(Ii=>{const ws=Ii.player,Jo=Ii.element;if(vs.push(ws),this.collectedEnterElements.length){const Ca=Jo[Ne];if(Ca&&Ca.setForMove){if(Ca.previousTriggersValues&&Ca.previousTriggersValues.has(Ii.triggerName)){const jc=Ca.previousTriggersValues.get(Ii.triggerName),xl=this.statesByElement.get(Ii.element);if(xl&&xl.has(Ii.triggerName)){const lu=xl.get(Ii.triggerName);lu.value=jc,xl.set(Ii.triggerName,lu)}}return void ws.destroy()}}const Zl=!$t||!this.driver.containsElement($t,Jo),wl=qi.get(Jo),gc=bn.get(Jo),Ko=this._buildInstruction(Ii,h,gc,wl,Zl);if(Ko.errors&&Ko.errors.length)return void Ti.push(Ko);if(Zl)return ws.onStart(()=>dt(Jo,Ko.fromStyles)),ws.onDestroy(()=>Ht(Jo,Ko.toStyles)),void g.push(ws);if(Ii.isFallbackTransition)return ws.onStart(()=>dt(Jo,Ko.fromStyles)),ws.onDestroy(()=>Ht(Jo,Ko.toStyles)),void g.push(ws);const Ed=[];Ko.timelines.forEach(Ca=>{Ca.stretchStartingKeyframe=!0,this.disabledNodes.has(Ca.element)||Ed.push(Ca)}),Ko.timelines=Ed,h.append(Jo,Ko.timelines),ee.push({instruction:Ko,player:ws,element:Jo}),Ko.queriedElements.forEach(Ca=>_e(me,Ca,[]).push(ws)),Ko.preStyleProps.forEach((Ca,jc)=>{if(Ca.size){let xl=xe.get(jc);xl||xe.set(jc,xl=new Set),Ca.forEach((lu,Jg)=>xl.add(Jg))}}),Ko.postStyleProps.forEach((Ca,jc)=>{let xl=Je.get(jc);xl||Je.set(jc,xl=new Set),Ca.forEach((lu,Jg)=>xl.add(Jg))})});if(Ti.length){const ai=[];Ti.forEach(Ei=>{ai.push(function bt(){return new n.wOt(3505,!1)}())}),vs.forEach(Ei=>Ei.destroy()),this.reportError(ai)}const ei=new Map,Vi=new Map;ee.forEach(ai=>{const Ei=ai.element;h.has(Ei)&&(Vi.set(Ei,Ei),this._beforeAnimationBuild(ai.player.namespaceId,ai.instruction,ei))}),g.forEach(ai=>{const Ei=ai.element;this._getPreviousPlayers(Ei,!1,ai.namespaceId,ai.triggerName,null).forEach(ws=>{_e(ei,Ei,[]).push(ws),ws.destroy()})});const Zs=pi.filter(ai=>no(ai,xe,Je)),xi=new Map;Hs(xi,this.driver,Bi,Je,p.kp).forEach(ai=>{no(ai,xe,Je)&&Zs.push(ai)});const Os=new Map;En.forEach((ai,Ei)=>{Hs(Os,this.driver,new Set(ai),xe,p.FX)}),Zs.forEach(ai=>{const Ei=xi.get(ai),Ii=Os.get(ai);xi.set(ai,new Map([...Ei?.entries()??[],...Ii?.entries()??[]]))});const Go=[],Qo=[],qr={};ee.forEach(ai=>{const{element:Ei,player:Ii,instruction:ws}=ai;if(h.has(Ei)){if(xt.has(Ei))return Ii.onDestroy(()=>Ht(Ei,ws.toStyles)),Ii.disabled=!0,Ii.overrideTotalTime(ws.totalTime),void g.push(Ii);let Jo=qr;if(Vi.size>1){let wl=Ei;const gc=[];for(;wl=wl.parentNode;){const Ko=Vi.get(wl);if(Ko){Jo=Ko;break}gc.push(wl)}gc.forEach(Ko=>Vi.set(Ko,Jo))}const Zl=this._buildAnimation(Ii.namespaceId,ws,ei,x,Os,xi);if(Ii.setRealPlayer(Zl),Jo===qr)Go.push(Ii);else{const wl=this.playersByElement.get(Jo);wl&&wl.length&&(Ii.parentPlayer=yt(wl)),g.push(Ii)}}else dt(Ei,ws.fromStyles),Ii.onDestroy(()=>Ht(Ei,ws.toStyles)),Qo.push(Ii),xt.has(Ei)&&g.push(Ii)}),Qo.forEach(ai=>{const Ei=x.get(ai.element);if(Ei&&Ei.length){const Ii=yt(Ei);ai.setRealPlayer(Ii)}}),g.forEach(ai=>{ai.parentPlayer?ai.syncPlayerEvents(ai.parentPlayer):ai.destroy()});for(let ai=0;ai<pi.length;ai++){const Ei=pi[ai],Ii=Ei[Ne];if(To(Ei,dn),Ii&&Ii.hasAnimation)continue;let ws=[];if(me.size){let Zl=me.get(Ei);Zl&&Zl.length&&ws.push(...Zl);let wl=this.driver.query(Ei,Gt,!0);for(let gc=0;gc<wl.length;gc++){let Ko=me.get(wl[gc]);Ko&&Ko.length&&ws.push(...Ko)}}const Jo=ws.filter(Zl=>!Zl.destroyed);Jo.length?xo(this,Ei,Jo):this.processLeaveNode(Ei)}return pi.length=0,Go.forEach(ai=>{this.players.push(ai),ai.onDone(()=>{ai.destroy();const Ei=this.players.indexOf(ai);this.players.splice(Ei,1)}),ai.play()}),Go}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,a,h,g,x){let ee=[];if(a){const me=this.playersByQueriedElement.get(o);me&&(ee=me)}else{const me=this.playersByElement.get(o);if(me){const xe=!x||x==hn;me.forEach(Je=>{Je.queued||!xe&&Je.triggerName!=g||ee.push(Je)})}}return(h||g)&&(ee=ee.filter(me=>!(h&&h!=me.namespaceId||g&&g!=me.triggerName))),ee}_beforeAnimationBuild(o,a,h){const x=a.element,ee=a.isRemovalTransition?void 0:o,me=a.isRemovalTransition?void 0:a.triggerName;for(const xe of a.timelines){const Je=xe.element,xt=Je!==x,$t=_e(h,Je,[]);this._getPreviousPlayers(Je,xt,ee,me,a.toState).forEach(En=>{const bn=En.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),En.destroy(),$t.push(En)})}dt(x,a.fromStyles)}_buildAnimation(o,a,h,g,x,ee){const me=a.triggerName,xe=a.element,Je=[],xt=new Set,$t=new Set,mn=a.timelines.map(bn=>{const Un=bn.element;xt.add(Un);const pi=Un[Ne];if(pi&&pi.removedBeforeQueried)return new p.sf(bn.duration,bn.delay);const _i=Un!==xe,Bi=function Zo(r){const o=[];return di(r,o),o}((h.get(Un)||ho).map(ei=>ei.getRealPlayer())).filter(ei=>!!ei.element&&ei.element===Un),qi=x.get(Un),Gi=ee.get(Un),vs=ot(this._normalizer,bn.keyframes,qi,Gi),Ti=this._buildPlayer(bn,vs,Bi);if(bn.subTimeline&&g&&$t.add(Un),_i){const ei=new Wi(o,me,Un);ei.setRealPlayer(Ti),Je.push(ei)}return Ti});Je.forEach(bn=>{_e(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function ls(r,o,a){let h=r.get(o);if(h){if(h.length){const g=h.indexOf(a);h.splice(g,1)}0==h.length&&r.delete(o)}return h}(this.playersByQueriedElement,bn.element,bn))}),xt.forEach(bn=>Ls(bn,Xt));const En=yt(mn);return En.onDestroy(()=>{xt.forEach(bn=>To(bn,Xt)),Ht(xe,a.toStyles)}),$t.forEach(bn=>{_e(g,bn,[]).push(En)}),En}_buildPlayer(o,a,h){return a.length>0?this.driver.animate(o.element,a,o.duration,o.delay,o.easing,h):new p.sf(o.duration,o.delay)}}class Wi{constructor(o,a,h){this.namespaceId=o,this.triggerName=a,this.element=h,this._player=new p.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((a,h)=>{a.forEach(g=>It(o,h,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const a=this._player;a.triggerCallback&&o.onStart(()=>a.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,a){_e(this._queuedCallbacks,o,[]).push(a)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const a=this._player;a.triggerCallback&&a.triggerCallback(o)}}function ys(r){return r&&1===r.nodeType}function Co(r,o){const a=r.style.display;return r.style.display=o??"none",a}function Hs(r,o,a,h,g){const x=[];a.forEach(xe=>x.push(Co(xe)));const ee=[];h.forEach((xe,Je)=>{const xt=new Map;xe.forEach($t=>{const mn=o.computeStyle(Je,$t,g);xt.set($t,mn),(!mn||0==mn.length)&&(Je[Ne]=wo,ee.push(Je))}),r.set(Je,xt)});let me=0;return a.forEach(xe=>Co(xe,x[me++])),ee}function to(r,o){const a=new Map;if(r.forEach(me=>a.set(me,[])),0==o.length)return a;const g=new Set(o),x=new Map;function ee(me){if(!me)return 1;let xe=x.get(me);if(xe)return xe;const Je=me.parentNode;return xe=a.has(Je)?Je:g.has(Je)?1:ee(Je),x.set(me,xe),xe}return o.forEach(me=>{const xe=ee(me);1!==xe&&a.get(xe).push(me)}),a}function Ls(r,o){r.classList?.add(o)}function To(r,o){r.classList?.remove(o)}function xo(r,o,a){yt(a).onDone(()=>r.processLeaveNode(o))}function di(r,o){for(let a=0;a<r.length;a++){const h=r[a];h instanceof p.ui?di(h.players,o):o.push(h)}}function no(r,o,a){const h=a.get(r);if(!h)return!1;let g=o.get(r);return g?h.forEach(x=>g.add(x)):o.set(r,h),a.delete(r),!0}class sr{constructor(o,a,h){this._driver=a,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(g,x)=>{},this._transitionEngine=new Ci(o.body,a,h),this._timelineEngine=new zo(o.body,a,h),this._transitionEngine.onRemovalComplete=(g,x)=>this.onRemovalComplete(g,x)}registerTrigger(o,a,h,g,x){const ee=o+"-"+g;let me=this._triggerCache[ee];if(!me){const xe=[],xt=jn(this._driver,x,xe,[]);if(xe.length)throw function G(){return new n.wOt(3404,!1)}();me=function ro(r,o,a){return new fr(r,o,a)}(g,xt,this._normalizer),this._triggerCache[ee]=me}this._transitionEngine.registerTrigger(a,g,me)}register(o,a){this._transitionEngine.register(o,a)}destroy(o,a){this._transitionEngine.destroy(o,a)}onInsert(o,a,h,g){this._transitionEngine.insertNode(o,a,h,g)}onRemove(o,a,h){this._transitionEngine.removeNode(o,a,h)}disableAnimations(o,a){this._transitionEngine.markElementAsDisabled(o,a)}process(o,a,h,g){if("@"==h.charAt(0)){const[x,ee]=de(h);this._timelineEngine.command(x,a,ee,g)}else this._transitionEngine.trigger(o,a,h,g)}listen(o,a,h,g,x){if("@"==h.charAt(0)){const[ee,me]=de(h);return this._timelineEngine.listen(ee,a,me,x)}return this._transitionEngine.listen(o,a,h,g,x)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}}class or{static#e=this.initialStylesByElement=new WeakMap;constructor(o,a,h){this._element=o,this._startStyles=a,this._endStyles=h,this._state=0;let g=or.initialStylesByElement.get(o);g||or.initialStylesByElement.set(o,g=new Map),this._initialStyles=g}start(){this._state<1&&(this._startStyles&&Ht(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ht(this._element,this._initialStyles),this._endStyles&&(Ht(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(or.initialStylesByElement.delete(this._element),this._startStyles&&(dt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),Ht(this._element,this._initialStyles),this._state=3)}}function Wo(r){let o=null;return r.forEach((a,h)=>{(function rr(r){return"display"===r||"position"===r})(h)&&(o=o||new Map,o.set(h,a))}),o}class Or{constructor(o,a,h,g){this.element=o,this.keyframes=a,this.options=h,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const a=[];return o.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(o,a,h){return o.animate(this._convertKeyframesToObject(a),h)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,g)=>{"offset"!==g&&o.set(g,this._finished?h:ht(this.element,g))}),this.currentSnapshot=o}triggerCallback(o){const a="start"===o?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class Po{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}containsElement(o,a){return Jt(o,a)}getParentElement(o){return Pe(o)}query(o,a,h){return Ft(o,a,h)}computeStyle(o,a,h){return ht(o,a)}animate(o,a,h,g,x,ee=[]){const xe={duration:h,delay:g,fill:0==g?"both":"forwards"};x&&(xe.easing=x);const Je=new Map,xt=ee.filter(En=>En instanceof Or);(function Re(r,o){return 0===r||0===o})(h,g)&&xt.forEach(En=>{En.currentSnapshot.forEach((bn,Un)=>Je.set(Un,bn))});let $t=function Gn(r){return r.length?r[0]instanceof Map?r:r.map(o=>new Map(Object.entries(o))):[]}(a).map(En=>new Map(En));$t=function it(r,o,a){if(a.size&&o.length){let h=o[0],g=[];if(a.forEach((x,ee)=>{h.has(ee)||g.push(ee),h.set(ee,x)}),g.length)for(let x=1;x<o.length;x++){let ee=o[x];g.forEach(me=>ee.set(me,ht(r,me)))}}return o}(o,$t,Je);const mn=function Va(r,o){let a=null,h=null;return Array.isArray(o)&&o.length?(a=Wo(o[0]),o.length>1&&(h=Wo(o[o.length-1]))):o instanceof Map&&(a=Wo(o)),a||h?new or(r,a,h):null}(o,$t);return new Or(o,$t,xe,mn)}}const ar="@.disabled";class Ka{constructor(o,a,h,g){this.namespaceId=o,this.delegate=a,this.engine=h,this._onDestroy=g,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(o){this.delegate.destroyNode?.(o)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(o,a){return this.delegate.createElement(o,a)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,a){this.delegate.appendChild(o,a),this.engine.onInsert(this.namespaceId,a,o,!1)}insertBefore(o,a,h,g=!0){this.delegate.insertBefore(o,a,h),this.engine.onInsert(this.namespaceId,a,o,g)}removeChild(o,a,h){this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(o,a){return this.delegate.selectRootElement(o,a)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,a,h,g){this.delegate.setAttribute(o,a,h,g)}removeAttribute(o,a,h){this.delegate.removeAttribute(o,a,h)}addClass(o,a){this.delegate.addClass(o,a)}removeClass(o,a){this.delegate.removeClass(o,a)}setStyle(o,a,h,g){this.delegate.setStyle(o,a,h,g)}removeStyle(o,a,h){this.delegate.removeStyle(o,a,h)}setProperty(o,a,h){"@"==a.charAt(0)&&a==ar?this.disableAnimations(o,!!h):this.delegate.setProperty(o,a,h)}setValue(o,a){this.delegate.setValue(o,a)}listen(o,a,h){return this.delegate.listen(o,a,h)}disableAnimations(o,a){this.engine.disableAnimations(o,a)}}class Ao extends Ka{constructor(o,a,h,g,x){super(a,h,g,x),this.factory=o,this.namespaceId=a}setProperty(o,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==ar?this.disableAnimations(o,h=void 0===h||!!h):this.engine.process(this.namespaceId,o,a.slice(1),h):this.delegate.setProperty(o,a,h)}listen(o,a,h){if("@"==a.charAt(0)){const g=function Al(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(o);let x=a.slice(1),ee="";return"@"!=x.charAt(0)&&([x,ee]=function za(r){const o=r.indexOf(".");return[r.substring(0,o),r.slice(o+1)]}(x)),this.engine.listen(this.namespaceId,g,x,ee,me=>{this.factory.scheduleListenerCallback(me._data||-1,h,me)})}return this.delegate.listen(o,a,h)}}class ps{constructor(o,a,h){this.delegate=o,this.engine=a,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,a.onRemovalComplete=(g,x)=>{x?.removeChild(null,g)}}createRenderer(o,a){const g=this.delegate.createRenderer(o,a);if(!o||!a?.data?.animation){const Je=this._rendererCache;let xt=Je.get(g);return xt||(xt=new Ka("",g,this.engine,()=>Je.delete(g)),Je.set(g,xt)),xt}const x=a.id,ee=a.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,o);const me=Je=>{Array.isArray(Je)?Je.forEach(me):this.engine.registerTrigger(x,ee,o,Je.name,Je)};return a.data.animation.forEach(me),new Ao(this,ee,g,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,a,h){if(o>=0&&o<this._microtaskId)return void this._zone.run(()=>a(h));const g=this._animationCallbacksBuffer;0==g.length&&queueMicrotask(()=>{this._zone.run(()=>{g.forEach(x=>{const[ee,me]=x;ee(me)}),this._animationCallbacksBuffer=[]})}),g.push([a,h])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Ts=l(177);const $o=[{provide:pe,useFactory:function _a(){return new Ke}},{provide:sr,useClass:(()=>{class r extends sr{constructor(a,h,g){super(a,h,g)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||r)(n.KVO(Ts.qQ),n.KVO(ie),n.KVO(pe))};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})()},{provide:n._9s,useFactory:function Gr(r,o,a){return new ps(r,o,a)},deps:[t.B7,sr,n.SKi]}],Xo=[{provide:ie,useFactory:()=>new Po},{provide:n.bc$,useValue:"BrowserAnimations"},...$o],Ji=[{provide:ie,useClass:Me},{provide:n.bc$,useValue:"NoopAnimations"},...$o];let Kr=(()=>{class r{static withConfig(a){return{ngModule:r,providers:a.disableAnimations?Ji:Xo}}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({providers:Xo,imports:[t.Bb]})}return r})();var Nt=l(9418),Ye=l(4526),sn=l(3586),De=l(4421),Ve=l(1639),Ce=l(5286),Mt=l(5817),rn=l(8803);const yi=new Mt.c(rn.l);var Ns=l(4670),Ri=l(4787),Hi=l(5006),ia=l(8728),ml=l(9090),Rl=l(4725);function kl(r,o){return function(h){let g;if(g="function"==typeof r?r:function(){return r},"function"==typeof o)return h.lift(new ns(g,o));const x=Object.create(h,Rl.f);return x.source=h,x.subjectFactory=g,x}}class ns{constructor(o,a){this.subjectFactory=o,this.selector=a}call(o,a){const{selector:h}=this,g=this.subjectFactory(),x=h(g).subscribe(o);return x.add(a.subscribe(g)),x}}var qo=l(9493),wr=l(8841),Fl=l(8002);const sa="Service workers are disabled or not supported by this browser";class Wa{constructor(o){if(this.serviceWorker=o,o){const h=(0,sn.R)(o,"controllerchange").pipe((0,Hi.T)(()=>o.controller)),g=(0,Nt.v)(()=>(0,De.of)(o.controller)),x=(0,Ve.x)(g,h);this.worker=x.pipe((0,ia.p)(xt=>!!xt)),this.registration=this.worker.pipe((0,ml.n)(()=>o.getRegistration()));const Je=(0,sn.R)(o,"message").pipe((0,Hi.T)(xt=>xt.data)).pipe((0,ia.p)(xt=>xt&&xt.type)).pipe(function Ta(r){return r?kl(()=>new Ce.B7,r):kl(new Ce.B7)}());Je.connect(),this.events=Je}else this.worker=this.events=this.registration=function Kc(r){return(0,Nt.v)(()=>(0,Ye.$)(new Error(r)))}(sa)}postMessage(o,a){return this.worker.pipe((0,qo.s)(1),(0,wr.M)(h=>{h.postMessage({action:o,...a})})).toPromise().then(()=>{})}postMessageWithOperation(o,a,h){const g=this.waitForOperationCompleted(h),x=this.postMessage(o,a);return Promise.all([x,g]).then(([,ee])=>ee)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(o){let a;return a="string"==typeof o?h=>h.type===o:h=>o.includes(h.type),this.events.pipe((0,ia.p)(a))}nextEventOfType(o){return this.eventsOfType(o).pipe((0,qo.s)(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ia.p)(a=>a.nonce===o),(0,qo.s)(1),(0,Hi.T)(a=>{if(void 0!==a.result)return a.result;throw new Error(a.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Sa=(()=>{class r{get isEnabled(){return this.sw.isEnabled}constructor(a){if(this.sw=a,this.pushManager=null,this.subscriptionChanges=new Ce.B7,!a.isEnabled)return this.messages=yi,this.notificationClicks=yi,void(this.subscription=yi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Hi.T)(g=>g.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Hi.T)(g=>g.data)),this.pushManager=this.sw.registration.pipe((0,Hi.T)(g=>g.pushManager));const h=this.pushManager.pipe((0,ml.n)(g=>g.getSubscription()));this.subscription=(0,Ns.h)(h,this.subscriptionChanges)}requestSubscription(a){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(sa));const h={userVisibleOnly:!0};let g=this.decodeBase64(a.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),x=new Uint8Array(new ArrayBuffer(g.length));for(let ee=0;ee<g.length;ee++)x[ee]=g.charCodeAt(ee);return h.applicationServerKey=x,this.pushManager.pipe((0,ml.n)(ee=>ee.subscribe(h)),(0,qo.s)(1)).toPromise().then(ee=>(this.subscriptionChanges.next(ee),ee))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,qo.s)(1),(0,ml.n)(h=>{if(null===h)throw new Error("Not subscribed to push notifications.");return h.unsubscribe().then(g=>{if(!g)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(sa))}decodeBase64(a){return atob(a)}static#e=this.\u0275fac=function(h){return new(h||r)(n.KVO(Wa))};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})(),Ma=(()=>{class r{get isEnabled(){return this.sw.isEnabled}constructor(a){if(this.sw=a,!a.isEnabled)return this.versionUpdates=yi,void(this.unrecoverable=yi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sa));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:a},a)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sa));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:a},a)}static#e=this.\u0275fac=function(h){return new(h||r)(n.KVO(Wa))};static#t=this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac})}return r})();const Xa=new n.nKC("");function yc(r,o,a,h){return()=>{if(!(0,Ts.UE)(h)||!("serviceWorker"in navigator)||!1===a.enabled)return;const g=r.get(n.SKi),x=r.get(n.o8S);let ee;if(g.runOutsideAngular(()=>{const me=navigator.serviceWorker,xe=()=>me.controller?.postMessage({action:"INITIALIZE"});me.addEventListener("controllerchange",xe),x.onDestroy(()=>{me.removeEventListener("controllerchange",xe)})}),"function"==typeof a.registrationStrategy)ee=a.registrationStrategy();else{const[me,...xe]=(a.registrationStrategy||"registerWhenStable:30000").split(":");switch(me){case"registerImmediately":ee=(0,De.of)(null);break;case"registerWithDelay":ee=os(+xe[0]||0);break;case"registerWhenStable":const Je=(0,Ri.H)(r.get(n.o8S).whenStable());ee=xe[0]?(0,Ns.h)(Je,os(+xe[0])):Je;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${a.registrationStrategy}`)}}g.runOutsideAngular(()=>ee.pipe((0,qo.s)(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:a.scope}).catch(me=>console.error("Service worker registration failed with:",me))))}}function os(r){return(0,De.of)(null).pipe((0,Fl.c)(r))}function ql(r,o){return new Wa((0,Ts.UE)(o)&&!1!==r.enabled?navigator.serviceWorker:void 0)}class il{}function Cr(r,o={}){return(0,n.EmA)([Sa,Ma,{provide:Xa,useValue:r},{provide:il,useValue:o},{provide:Wa,useFactory:ql,deps:[il,n.Agw]},{provide:n.hnV,useFactory:yc,deps:[n.zZn,Xa,il,n.Agw],multi:!0}])}let Ha=(()=>{class r{static register(a,h={}){return{ngModule:r,providers:[Cr(a,h)]}}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({providers:[Sa,Ma]})}return r})();var sl=l(1626),ds=l(9417),Oo=l(2091);class Ec{constructor(o,a="/assets/i18n/",h=".json"){this.http=o,this.prefix=a,this.suffix=h}getTranslation(o){return this.http.get(`${this.prefix}${o}${this.suffix}`)}}var Ys=l(467),Cd=l(4046),ma=l(1038),ol=l(3368),As=l(7375),ec=l(9420),N=l(8026),ft=l(4129);const et="8.28.0",Dt=globalThis;function Ot(r,o,a){const h=a||Dt,g=h.__SENTRY__=h.__SENTRY__||{},x=g[et]=g[et]||{};return x[r]||(x[r]=o())}const en="production";function fn(){return wn(Dt),Dt}function wn(r){const o=r.__SENTRY__=r.__SENTRY__||{};return o.version=o.version||et,o[et]=o[et]||{}}const $n=Object.prototype.toString;function ii(r){switch($n.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ke(r,Error)}}function ki(r,o){return $n.call(r)===`[object ${o}]`}function fi(r){return ki(r,"ErrorEvent")}function si(r){return ki(r,"DOMError")}function cs(r){return ki(r,"String")}function rs(r){return"object"==typeof r&&null!==r&&"__sentry_template_string__"in r&&"__sentry_template_values__"in r}function ao(r){return null===r||rs(r)||"object"!=typeof r&&"function"!=typeof r}function xr(r){return ki(r,"Object")}function Rs(r){return typeof Event<"u"&&ke(r,Event)}function ue(r){return!(!r||!r.then||"function"!=typeof r.then)}function ke(r,o){try{return r instanceof o}catch{return!1}}function st(r){return!("object"!=typeof r||null===r||!r.__isVue&&!r._isVue)}const tn=Dt,Fn=80;function Ln(r,o={}){if(!r)return"<unknown>";try{let a=r;const h=5,g=[];let x=0,ee=0;const me=" > ",xe=me.length;let Je;const xt=Array.isArray(o)?o:o.keyAttrs,$t=!Array.isArray(o)&&o.maxStringLength||Fn;for(;a&&x++<h&&(Je=Di(a,xt),!("html"===Je||x>1&&ee+g.length*xe+Je.length>=$t));)g.push(Je),ee+=Je.length,a=a.parentNode;return g.reverse().join(me)}catch{return"<unknown>"}}function Di(r,o){const a=r,h=[];if(!a||!a.tagName)return"";if(tn.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}h.push(a.tagName.toLowerCase());const g=o&&o.length?o.filter(ee=>a.getAttribute(ee)).map(ee=>[ee,a.getAttribute(ee)]):null;if(g&&g.length)g.forEach(ee=>{h.push(`[${ee[0]}="${ee[1]}"]`)});else{a.id&&h.push(`#${a.id}`);const ee=a.className;if(ee&&cs(ee)){const me=ee.split(/\s+/);for(const xe of me)h.push(`.${xe}`)}}const x=["aria-label","type","name","title","alt"];for(const ee of x){const me=a.getAttribute(ee);me&&h.push(`[${ee}="${me}"]`)}return h.join("")}function So(){try{return tn.document.location.href}catch{return""}}function Qs(r){if(!tn.HTMLElement)return null;let o=r;for(let h=0;h<5;h++){if(!o)return null;if(o instanceof HTMLElement){if(o.dataset.sentryComponent)return o.dataset.sentryComponent;if(o.dataset.sentryElement)return o.dataset.sentryElement}o=o.parentNode}return null}const Zn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ks=["debug","info","warn","error","log","assert","trace"],fo={};function ga(r){if(!("console"in Dt))return r();const o=Dt.console,a={},h=Object.keys(fo);h.forEach(g=>{const x=fo[g];a[g]=o[g],o[g]=x});try{return r()}finally{h.forEach(g=>{o[g]=a[g]})}}const li=function zr(){let r=!1;const o={enable:()=>{r=!0},disable:()=>{r=!1},isEnabled:()=>r};return ks.forEach(Zn?a=>{o[a]=(...h)=>{r&&ga(()=>{Dt.console[a](`Sentry Logger [${a}]:`,...h)})}}:a=>{o[a]=()=>{}}),o}();function Ro(r,o=0){return"string"!=typeof r||0===o||r.length<=o?r:`${r.slice(0,o)}...`}function rl(r,o){if(!Array.isArray(r))return"";const a=[];for(let h=0;h<r.length;h++){const g=r[h];try{st(g)?a.push("[VueViewModel]"):a.push(String(g))}catch{a.push("[value cannot be serialized]")}}return a.join(o)}function Ya(r,o=[],a=!1){return o.some(h=>function oa(r,o,a=!1){return!!cs(r)&&(function Pl(r){return ki(r,"RegExp")}(o)?o.test(r):!!cs(o)&&(a?r===o:r.includes(o)))}(r,h,a))}function _r(r,o,a){if(!(o in r))return;const h=r[o],g=a(h);"function"==typeof g&&va(g,h),r[o]=g}function La(r,o,a){try{Object.defineProperty(r,o,{value:a,writable:!0,configurable:!0})}catch{Zn&&li.log(`Failed to add non-enumerable property "${o}" to object`,r)}}function va(r,o){try{r.prototype=o.prototype=o.prototype||{},La(r,"__sentry_original__",o)}catch{}}function Cc(r){return r.__sentry_original__}function Qa(r){if(ii(r))return{message:r.message,name:r.name,stack:r.stack,...Xu(r)};if(Rs(r)){const o={type:r.type,target:gl(r.target),currentTarget:gl(r.currentTarget),...Xu(r)};return typeof CustomEvent<"u"&&ke(r,CustomEvent)&&(o.detail=r.detail),o}return r}function gl(r){try{return function tc(r){return typeof Element<"u"&&ke(r,Element)}(r)?Ln(r):Object.prototype.toString.call(r)}catch{return"<unknown>"}}function Xu(r){if("object"==typeof r&&null!==r){const o={};for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a]);return o}return{}}function bo(r){return Hu(r,new Map)}function Hu(r,o){if(function Ja(r){if(!xr(r))return!1;try{const o=Object.getPrototypeOf(r).constructor.name;return!o||"Object"===o}catch{return!0}}(r)){const a=o.get(r);if(void 0!==a)return a;const h={};o.set(r,h);for(const g of Object.keys(r))typeof r[g]<"u"&&(h[g]=Hu(r[g],o));return h}if(Array.isArray(r)){const a=o.get(r);if(void 0!==a)return a;const h=[];return o.set(r,h),r.forEach(g=>{h.push(Hu(g,o))}),h}return r}function Mo(){const o=Dt.crypto||Dt.msCrypto;let a=()=>16*Math.random();try{if(o&&o.randomUUID)return o.randomUUID().replace(/-/g,"");o&&o.getRandomValues&&(a=()=>{const h=new Uint8Array(1);return o.getRandomValues(h),h[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,h=>(h^(15&a())>>h/4).toString(16))}function lr(r){return r.exception&&r.exception.values?r.exception.values[0]:void 0}function Da(r){const{message:o,event_id:a}=r;if(o)return o;const h=lr(r);return h?h.type&&h.value?`${h.type}: ${h.value}`:h.type||h.value||a||"<unknown>":a||"<unknown>"}function Ia(r,o,a){const h=r.exception=r.exception||{},g=h.values=h.values||[],x=g[0]=g[0]||{};x.value||(x.value=o||""),x.type||(x.type=a||"Error")}function Us(r,o){const a=lr(r);if(!a)return;const g=a.mechanism;if(a.mechanism={type:"generic",handled:!0,...g,...o},o&&"data"in o){const x={...g&&g.data,...o.data};a.mechanism.data=x}}function nc(r){if(r&&r.__sentry_captured__)return!0;try{La(r,"__sentry_captured__",!0)}catch{}return!1}function ic(r){return Array.isArray(r)?r:[r]}function vl(){return{traceId:Mo(),spanId:Mo().substring(16)}}const zh=1e3;function Tc(){return Date.now()/zh}const Wr=function Wh(){const{performance:r}=Dt;if(!r||!r.now)return Tc;const o=Date.now()-r.now(),a=null==r.timeOrigin?o:r.timeOrigin;return()=>(a+r.now())/zh}();let sc;const Xr=(()=>{const{performance:r}=Dt;if(!r||!r.now)return void(sc="none");const o=36e5,a=r.now(),h=Date.now(),g=r.timeOrigin?Math.abs(r.timeOrigin+a-h):o,x=g<o,ee=r.timing&&r.timing.navigationStart,xe="number"==typeof ee?Math.abs(ee+a-h):o;return x||xe<o?g<=xe?(sc="timeOrigin",r.timeOrigin):(sc="navigationStart",ee):(sc="dateNow",h)})();function Wc(r,o={}){if(o.user&&(!r.ipAddress&&o.user.ip_address&&(r.ipAddress=o.user.ip_address),!r.did&&!o.did&&(r.did=o.user.id||o.user.email||o.user.username)),r.timestamp=o.timestamp||Wr(),o.abnormal_mechanism&&(r.abnormal_mechanism=o.abnormal_mechanism),o.ignoreDuration&&(r.ignoreDuration=o.ignoreDuration),o.sid&&(r.sid=32===o.sid.length?o.sid:Mo()),void 0!==o.init&&(r.init=o.init),!r.did&&o.did&&(r.did=`${o.did}`),"number"==typeof o.started&&(r.started=o.started),r.ignoreDuration)r.duration=void 0;else if("number"==typeof o.duration)r.duration=o.duration;else{const a=r.timestamp-r.started;r.duration=a>=0?a:0}o.release&&(r.release=o.release),o.environment&&(r.environment=o.environment),!r.ipAddress&&o.ipAddress&&(r.ipAddress=o.ipAddress),!r.userAgent&&o.userAgent&&(r.userAgent=o.userAgent),"number"==typeof o.errors&&(r.errors=o.errors),o.status&&(r.status=o.status)}const oc="_sentrySpan";function mr(r,o){o?La(r,oc,o):delete r[oc]}function du(r){return r[oc]}class Hh{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=vl()}clone(){const o=new Hh;return o._breadcrumbs=[...this._breadcrumbs],o._tags={...this._tags},o._extra={...this._extra},o._contexts={...this._contexts},o._user=this._user,o._level=this._level,o._session=this._session,o._transactionName=this._transactionName,o._fingerprint=this._fingerprint,o._eventProcessors=[...this._eventProcessors],o._requestSession=this._requestSession,o._attachments=[...this._attachments],o._sdkProcessingMetadata={...this._sdkProcessingMetadata},o._propagationContext={...this._propagationContext},o._client=this._client,o._lastEventId=this._lastEventId,mr(o,du(this)),o}setClient(o){this._client=o}setLastEventId(o){this._lastEventId=o}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(o){this._scopeListeners.push(o)}addEventProcessor(o){return this._eventProcessors.push(o),this}setUser(o){return this._user=o||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Wc(this._session,{user:o}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(o){return this._requestSession=o,this}setTags(o){return this._tags={...this._tags,...o},this._notifyScopeListeners(),this}setTag(o,a){return this._tags={...this._tags,[o]:a},this._notifyScopeListeners(),this}setExtras(o){return this._extra={...this._extra,...o},this._notifyScopeListeners(),this}setExtra(o,a){return this._extra={...this._extra,[o]:a},this._notifyScopeListeners(),this}setFingerprint(o){return this._fingerprint=o,this._notifyScopeListeners(),this}setLevel(o){return this._level=o,this._notifyScopeListeners(),this}setTransactionName(o){return this._transactionName=o,this._notifyScopeListeners(),this}setContext(o,a){return null===a?delete this._contexts[o]:this._contexts[o]=a,this._notifyScopeListeners(),this}setSession(o){return o?this._session=o:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(o){if(!o)return this;const a="function"==typeof o?o(this):o,[h,g]=a instanceof Sc?[a.getScopeData(),a.getRequestSession()]:xr(a)?[o,o.requestSession]:[],{tags:x,extra:ee,user:me,contexts:xe,level:Je,fingerprint:xt=[],propagationContext:$t}=h||{};return this._tags={...this._tags,...x},this._extra={...this._extra,...ee},this._contexts={...this._contexts,...xe},me&&Object.keys(me).length&&(this._user=me),Je&&(this._level=Je),xt.length&&(this._fingerprint=xt),$t&&(this._propagationContext=$t),g&&(this._requestSession=g),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,mr(this,void 0),this._attachments=[],this._propagationContext=vl(),this._notifyScopeListeners(),this}addBreadcrumb(o,a){const h="number"==typeof a?a:100;if(h<=0)return this;const g={timestamp:Tc(),...o},x=this._breadcrumbs;return x.push(g),this._breadcrumbs=x.length>h?x.slice(-h):x,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(o){return this._attachments.push(o),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:du(this)}}setSDKProcessingMetadata(o){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...o},this}setPropagationContext(o){return this._propagationContext=o,this}getPropagationContext(){return this._propagationContext}captureException(o,a){const h=a&&a.event_id?a.event_id:Mo();if(!this._client)return li.warn("No client configured on scope - will not capture exception!"),h;const g=new Error("Sentry syntheticException");return this._client.captureException(o,{originalException:o,syntheticException:g,...a,event_id:h},this),h}captureMessage(o,a,h){const g=h&&h.event_id?h.event_id:Mo();if(!this._client)return li.warn("No client configured on scope - will not capture message!"),g;const x=new Error(o);return this._client.captureMessage(o,a,{originalException:o,syntheticException:x,...h,event_id:g},this),g}captureEvent(o,a){const h=a&&a.event_id?a.event_id:Mo();return this._client?(this._client.captureEvent(o,{...a,event_id:h},this),h):(li.warn("No client configured on scope - will not capture event!"),h)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(o=>{o(this)}),this._notifyingListeners=!1)}}const Sc=Hh;class Hc{constructor(o,a){let h,g;h=o||new Sc,g=a||new Sc,this._stack=[{scope:h}],this._isolationScope=g}withScope(o){const a=this._pushScope();let h;try{h=o(a)}catch(g){throw this._popScope(),g}return ue(h)?h.then(g=>(this._popScope(),g),g=>{throw this._popScope(),g}):(this._popScope(),h)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const o=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:o}),o}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function re(){const o=wn(fn());return o.stack=o.stack||new Hc(function B_(){return Ot("defaultCurrentScope",()=>new Sc)}(),function Xc(){return Ot("defaultIsolationScope",()=>new Sc)}())}function Ee(r){return re().withScope(r)}function ae(r,o){const a=re();return a.withScope(()=>(a.getStackTop().scope=r,o(r)))}function Oe(r){return re().withScope(()=>r(re().getIsolationScope()))}function Qt(r){const o=wn(r);return o.acs?o.acs:function qe(){return{withIsolationScope:Oe,withScope:Ee,withSetScope:ae,withSetIsolationScope:(r,o)=>Oe(o),getCurrentScope:()=>re().getScope(),getIsolationScope:()=>re().getIsolationScope()}}()}function In(){return Qt(fn()).getCurrentScope()}function Tn(){return Qt(fn()).getIsolationScope()}function oi(...r){const a=Qt(fn());if(2===r.length){const[h,g]=r;return h?a.withSetScope(h,g):a.withScope(g)}return a.withScope(r[0])}function gi(){return In().getClient()}const po=50,Ho="?",Oa=/\(error: (.*)\)/,Ll=/captureMessage|captureException/;function Za(...r){const o=r.sort((a,h)=>a[0]-h[0]).map(a=>a[1]);return(a,h=0,g=0)=>{const x=[],ee=a.split("\n");for(let me=h;me<ee.length;me++){const xe=ee[me];if(xe.length>1024)continue;const Je=Oa.test(xe)?xe.replace(Oa,"$1"):xe;if(!Je.match(/\S*Error: /)){for(const xt of o){const $t=xt(Je);if($t){x.push($t);break}}if(x.length>=po+g)break}}return function qu(r){if(!r.length)return[];const o=Array.from(r);return/sentryWrapped/.test(Nl(o).function||"")&&o.pop(),o.reverse(),Ll.test(Nl(o).function||"")&&(o.pop(),Ll.test(Nl(o).function||"")&&o.pop()),o.slice(0,po).map(a=>({...a,filename:a.filename||Nl(o).filename,function:a.function||Ho}))}(x.slice(g))}}function Yc(r){return Array.isArray(r)?Za(...r):r}function Nl(r){return r[r.length-1]||{}}const eh="<anonymous>";function ll(r){try{return r&&"function"==typeof r&&r.name||eh}catch{return eh}}function uu(r){const o=r.exception;if(o){const a=[];try{return o.values.forEach(h=>{h.stacktrace.frames&&a.push(...h.stacktrace.frames)}),a}catch{return}}}function rc(r,o=100,a=1/0){try{return $_("",r,o,a)}catch(h){return{ERROR:`**non-serializable** (${h})`}}}function th(r,o=3,a=102400){const h=rc(r,o);return function hu(r){return function Td(r){return~-encodeURI(r).split(/%..|./).length}(JSON.stringify(r))}(h)>a?th(r,o-1,a):h}function $_(r,o,a=1/0,h=1/0,g=function er(){const r="function"==typeof WeakSet,o=r?new WeakSet:[];return[function a(g){if(r)return!!o.has(g)||(o.add(g),!1);for(let x=0;x<o.length;x++)if(o[x]===g)return!0;return o.push(g),!1},function h(g){if(r)o.delete(g);else for(let x=0;x<o.length;x++)if(o[x]===g){o.splice(x,1);break}}]}()){const[x,ee]=g;if(null==o||["number","boolean","string"].includes(typeof o)&&!Number.isNaN(o))return o;const me=function ra(r,o){try{if("domain"===r&&o&&"object"==typeof o&&o._events)return"[Domain]";if("domainEmitter"===r)return"[DomainEmitter]";if(typeof global<"u"&&o===global)return"[Global]";if(typeof window<"u"&&o===window)return"[Window]";if(typeof document<"u"&&o===document)return"[Document]";if(st(o))return"[VueViewModel]";if(function vt(r){return xr(r)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r}(o))return"[SyntheticEvent]";if("number"==typeof o&&o!=o)return"[NaN]";if("function"==typeof o)return`[Function: ${ll(o)}]`;if("symbol"==typeof o)return`[${String(o)}]`;if("bigint"==typeof o)return`[BigInt: ${String(o)}]`;const a=function Qc(r){const o=Object.getPrototypeOf(r);return o?o.constructor.name:"null prototype"}(o);return/^HTML(\w*)Element$/.test(a)?`[HTMLElement: ${a}]`:`[object ${a}]`}catch(a){return`**non-serializable** (${a})`}}(r,o);if(!me.startsWith("[object "))return me;if(o.__sentry_skip_normalization__)return o;const xe="number"==typeof o.__sentry_override_normalization_depth__?o.__sentry_override_normalization_depth__:a;if(0===xe)return me.replace("object ","");if(x(o))return"[Circular ~]";const Je=o;if(Je&&"function"==typeof Je.toJSON)try{return $_("",Je.toJSON(),xe-1,h,g)}catch{}const xt=Array.isArray(o)?[]:{};let $t=0;const mn=Qa(o);for(const En in mn)if(Object.prototype.hasOwnProperty.call(mn,En)){if($t>=h){xt[En]="[MaxProperties ~]";break}xt[En]=$_(En,mn[En],xe-1,h,g),$t++}return ee(o),xt}var Tr,r;function bl(r){return new cl(o=>{o(r)})}function Mc(r){return new cl((o,a)=>{a(r)})}(r=Tr||(Tr={}))[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED";class cl{constructor(o){cl.prototype.__init.call(this),cl.prototype.__init2.call(this),cl.prototype.__init3.call(this),cl.prototype.__init4.call(this),this._state=Tr.PENDING,this._handlers=[];try{o(this._resolve,this._reject)}catch(a){this._reject(a)}}then(o,a){return new cl((h,g)=>{this._handlers.push([!1,x=>{if(o)try{h(o(x))}catch(ee){g(ee)}else h(x)},x=>{if(a)try{h(a(x))}catch(ee){g(ee)}else g(x)}]),this._executeHandlers()})}catch(o){return this.then(a=>a,o)}finally(o){return new cl((a,h)=>{let g,x;return this.then(ee=>{x=!1,g=ee,o&&o()},ee=>{x=!0,g=ee,o&&o()}).then(()=>{x?h(g):a(g)})})}__init(){this._resolve=o=>{this._setResult(Tr.RESOLVED,o)}}__init2(){this._reject=o=>{this._setResult(Tr.REJECTED,o)}}__init3(){this._setResult=(o,a)=>{if(this._state===Tr.PENDING){if(ue(a))return void a.then(this._resolve,this._reject);this._state=o,this._value=a,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Tr.PENDING)return;const o=this._handlers.slice();this._handlers=[],o.forEach(a=>{a[0]||(this._state===Tr.RESOLVED&&a[1](this._value),this._state===Tr.REJECTED&&a[2](this._value),a[0]=!0)})}}}const gs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ar(r,o,a,h=0){return new cl((g,x)=>{const ee=r[h];if(null===o||"function"!=typeof ee)g(o);else{const me=ee({...o},a);gs&&ee.id&&null===me&&li.log(`Event processor "${ee.id}" dropped event`),ue(me)?me.then(xe=>Ar(r,xe,a,h+1).then(g)).then(null,x):Ar(r,me,a,h+1).then(g).then(null,x)}})}const Jc="baggage",Dc="sentry-",Ic=/^sentry-/,nh=8192;function Sd(r){const o=function dl(r){if(r&&(cs(r)||Array.isArray(r)))return Array.isArray(r)?r.reduce((o,a)=>{const h=lp(a);return Object.entries(h).forEach(([g,x])=>{o[g]=x}),o},{}):lp(r)}(r);if(!o)return;const a=Object.entries(o).reduce((h,[g,x])=>(g.match(Ic)&&(h[g.slice(Dc.length)]=x),h),{});return Object.keys(a).length>0?a:void 0}function Zc(r){if(r)return function tv(r){if(0!==Object.keys(r).length)return Object.entries(r).reduce((o,[a,h],g)=>{const x=`${encodeURIComponent(a)}=${encodeURIComponent(h)}`,ee=0===g?x:`${o},${x}`;return ee.length>nh?(Zn&&li.warn(`Not adding key: ${a} with val: ${h} to baggage header due to exceeding baggage size limits.`),o):ee},"")}(Object.entries(r).reduce((a,[h,g])=>(g&&(a[`${Dc}${h}`]=g),a),{}))}function lp(r){return r.split(",").map(o=>o.split("=").map(a=>decodeURIComponent(a.trim()))).reduce((o,[a,h])=>(a&&h&&(o[a]=h),o),{})}const Rr="sentry.source",qc="sentry.sample_rate",qa="sentry.op",jo="sentry.origin",ed="sentry.idle_span_finish_reason",Md="sentry.measurement_unit",Ai="sentry.measurement_value",Yh="sentry.exclusive_time",nv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function dp(r=Mo(),o=Mo().substring(16),a){let h="";return void 0!==a&&(h=a?"-1":"-0"),`${r}-${o}${h}`}const sh="_sentryMetrics";function ac(r){const o=r[sh];if(!o)return;const a={};for(const[,[h,g]]of o)(a[h]||(a[h]=[])).push(bo(g));return a}const tr=0,ui=1,Pi=2;function yl(r,o){r.setAttribute("http.response.status_code",o);const a=function kr(r){if(r<400&&r>=100)return{code:ui};if(r>=400&&r<500)switch(r){case 401:return{code:Pi,message:"unauthenticated"};case 403:return{code:Pi,message:"permission_denied"};case 404:return{code:Pi,message:"not_found"};case 409:return{code:Pi,message:"already_exists"};case 413:return{code:Pi,message:"failed_precondition"};case 429:return{code:Pi,message:"resource_exhausted"};case 499:return{code:Pi,message:"cancelled"};default:return{code:Pi,message:"invalid_argument"}}if(r>=500&&r<600)switch(r){case 501:return{code:Pi,message:"unimplemented"};case 503:return{code:Pi,message:"unavailable"};case 504:return{code:Pi,message:"deadline_exceeded"};default:return{code:Pi,message:"internal_error"}}return{code:Pi,message:"unknown_error"}}(o);"unknown_error"!==a.message&&r.setStatus(a)}const Fr=1;function fu(r){const{spanId:o,traceId:a}=r.spanContext(),{data:h,op:g,parent_span_id:x,status:ee,origin:me}=js(r);return bo({parent_span_id:x,span_id:o,trace_id:a,data:h,op:g,status:ee,origin:me})}function No(r){const{spanId:o,traceId:a}=r.spanContext(),{parent_span_id:h}=js(r);return bo({parent_span_id:h,span_id:o,trace_id:a})}function Sr(r){const{traceId:o,spanId:a}=r.spanContext();return dp(o,a,io(r))}function aa(r){return"number"==typeof r?_s(r):Array.isArray(r)?r[0]+r[1]/1e9:r instanceof Date?_s(r.getTime()):Wr()}function _s(r){return r>9999999999?r/1e3:r}function js(r){if(function Id(r){return"function"==typeof r.getSpanJSON}(r))return r.getSpanJSON();try{const{spanId:o,traceId:a}=r.spanContext();if(function j_(r){return!!(r.attributes&&r.startTime&&r.name&&r.endTime&&r.status)}(r)){const{attributes:h,startTime:g,name:x,endTime:ee,parentSpanId:me,status:xe}=r;return bo({span_id:o,trace_id:a,data:h,description:x,parent_span_id:me,start_timestamp:aa(g),timestamp:aa(ee)||void 0,status:td(xe),op:h[qa],origin:h[jo],_metrics_summary:ac(r)})}return{span_id:o,trace_id:a}}catch{return{}}}function io(r){const{traceFlags:o}=r.spanContext();return o===Fr}function td(r){if(r&&r.code!==tr)return r.code===ui?"ok":r.message||"unknown_error"}const ul="_sentryChildSpans",Bl="_sentryRootSpan";function Od(r,o){La(o,Bl,r[Bl]||r),r[ul]?r[ul].add(o):La(r,ul,new Set([o]))}function ba(r){const o=new Set;return function a(h){if(!o.has(h)&&io(h)){o.add(h);const g=h[ul]?Array.from(h[ul]):[];for(const x of g)a(x)}}(r),Array.from(o)}function gr(r){return r[Bl]||r}function _o(){const o=Qt(fn());return o.getActiveSpan?o.getActiveSpan():du(In())}const Qh="_frozenDsc";function pu(r,o){La(r,Qh,o)}function Pr(r,o){const a=o.getOptions(),{publicKey:h}=o.getDsn()||{},g=bo({environment:a.environment||en,release:a.release,public_key:h,trace_id:r});return o.emit("createDsc",g),g}function $l(r){const o=gi();if(!o)return{};const a=Pr(js(r).trace_id||"",o),h=gr(r),g=h[Qh];if(g)return g;const x=h.spanContext().traceState,ee=x&&x.get("sentry.dsc"),me=ee&&Sd(ee);if(me)return me;const xe=js(h),Je=xe.data||{},xt=Je[qc];null!=xt&&(a.sample_rate=`${xt}`);const mn=xe.description;return"url"!==Je[Rr]&&mn&&(a.transaction=mn),a.sampled=String(io(h)),o.emit("createDsc",a,h),a}function xd(r,o){const{extra:a,tags:h,user:g,contexts:x,level:ee,sdkProcessingMetadata:me,breadcrumbs:xe,fingerprint:Je,eventProcessors:xt,attachments:$t,propagationContext:mn,transactionName:En,span:bn}=o;cr(r,"extra",a),cr(r,"tags",h),cr(r,"user",g),cr(r,"contexts",x),cr(r,"sdkProcessingMetadata",me),ee&&(r.level=ee),En&&(r.transactionName=En),bn&&(r.span=bn),xe.length&&(r.breadcrumbs=[...r.breadcrumbs,...xe]),Je.length&&(r.fingerprint=[...r.fingerprint,...Je]),xt.length&&(r.eventProcessors=[...r.eventProcessors,...xt]),$t.length&&(r.attachments=[...r.attachments,...$t]),r.propagationContext={...r.propagationContext,...mn}}function cr(r,o,a){if(a&&Object.keys(a).length){r[o]={...r[o]};for(const h in a)Object.prototype.hasOwnProperty.call(a,h)&&(r[o][h]=a[h])}}function Oc(r,o,a,h,g,x){const{normalizeDepth:ee=3,normalizeMaxBreadth:me=1e3}=r,xe={...o,event_id:o.event_id||a.event_id||Mo(),timestamp:o.timestamp||Tc()},Je=a.integrations||r.integrations.map(pi=>pi.name);(function Rd(r,o){const{environment:a,release:h,dist:g,maxValueLength:x=250}=o;"environment"in r||(r.environment="environment"in o?a:en),void 0===r.release&&void 0!==h&&(r.release=h),void 0===r.dist&&void 0!==g&&(r.dist=g),r.message&&(r.message=Ro(r.message,x));const ee=r.exception&&r.exception.values&&r.exception.values[0];ee&&ee.value&&(ee.value=Ro(ee.value,x));const me=r.request;me&&me.url&&(me.url=Ro(me.url,x))})(xe,r),function up(r,o){o.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=[...r.sdk.integrations||[],...o])}(xe,Je),g&&g.emit("applyFrameMetadata",o),void 0===o.type&&function Zh(r,o){const a=Dt._sentryDebugIds;if(!a)return;let h;const g=V_.get(o);g?h=g:(h=new Map,V_.set(o,h));const x=Object.entries(a).reduce((ee,[me,xe])=>{let Je;const xt=h.get(me);xt?Je=xt:(Je=o(me),h.set(me,Je));for(let $t=Je.length-1;$t>=0;$t--){const mn=Je[$t];if(mn.filename){ee[mn.filename]=xe;break}}return ee},{});try{r.exception.values.forEach(ee=>{ee.stacktrace.frames.forEach(me=>{me.filename&&(me.debug_id=x[me.filename])})})}catch{}}(xe,r.stackParser);const xt=function nr(r,o){if(!o)return r;const a=r?r.clone():new Sc;return a.update(o),a}(h,a.captureContext);a.mechanism&&Us(xe,a.mechanism);const $t=g?g.getEventProcessors():[],mn=function bi(){return Ot("globalScope",()=>new Sc)}().getScopeData();x&&xd(mn,x.getScopeData()),xt&&xd(mn,xt.getScopeData());const En=[...a.attachments||[],...mn.attachments];return En.length&&(a.attachments=En),function Mr(r,o){const{fingerprint:a,span:h,breadcrumbs:g,sdkProcessingMetadata:x}=o;(function Lr(r,o){const{extra:a,tags:h,user:g,contexts:x,level:ee,transactionName:me}=o,xe=bo(a);xe&&Object.keys(xe).length&&(r.extra={...xe,...r.extra});const Je=bo(h);Je&&Object.keys(Je).length&&(r.tags={...Je,...r.tags});const xt=bo(g);xt&&Object.keys(xt).length&&(r.user={...xt,...r.user});const $t=bo(x);$t&&Object.keys($t).length&&(r.contexts={...$t,...r.contexts}),ee&&(r.level=ee),me&&"transaction"!==r.type&&(r.transaction=me)})(r,o),h&&function _u(r,o){r.contexts={trace:No(o),...r.contexts},r.sdkProcessingMetadata={dynamicSamplingContext:$l(o),...r.sdkProcessingMetadata};const h=js(gr(o)).description;h&&!r.transaction&&"transaction"===r.type&&(r.transaction=h)}(r,h),function vr(r,o){r.fingerprint=r.fingerprint?ic(r.fingerprint):[],o&&(r.fingerprint=r.fingerprint.concat(o)),r.fingerprint&&!r.fingerprint.length&&delete r.fingerprint}(r,a),function Jh(r,o){const a=[...r.breadcrumbs||[],...o];r.breadcrumbs=a.length?a:void 0}(r,g),function Ad(r,o){r.sdkProcessingMetadata={...r.sdkProcessingMetadata,...o}}(r,x)}(xe,mn),Ar([...$t,...mn.eventProcessors],xe,a).then(pi=>(pi&&function G_(r){const o={};try{r.exception.values.forEach(h=>{h.stacktrace.frames.forEach(g=>{g.debug_id&&(g.abs_path?o[g.abs_path]=g.debug_id:g.filename&&(o[g.filename]=g.debug_id),delete g.debug_id)})})}catch{}if(0===Object.keys(o).length)return;r.debug_meta=r.debug_meta||{},r.debug_meta.images=r.debug_meta.images||[];const a=r.debug_meta.images;Object.entries(o).forEach(([h,g])=>{a.push({type:"sourcemap",code_file:h,debug_id:g})})}(pi),"number"==typeof ee&&ee>0?function wc(r,o,a){if(!r)return null;const h={...r,...r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(g=>({...g,...g.data&&{data:rc(g.data,o,a)}}))},...r.user&&{user:rc(r.user,o,a)},...r.contexts&&{contexts:rc(r.contexts,o,a)},...r.extra&&{extra:rc(r.extra,o,a)}};return r.contexts&&r.contexts.trace&&h.contexts&&(h.contexts.trace=r.contexts.trace,r.contexts.trace.data&&(h.contexts.trace.data=rc(r.contexts.trace.data,o,a))),r.spans&&(h.spans=r.spans.map(g=>({...g,...g.data&&{data:rc(g.data,o,a)}}))),h}(pi,ee,me):pi))}const V_=new WeakMap;const gu=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function kd(r,o){return In().captureException(r,function mu(r){if(r)return function Yr(r){return r instanceof Sc||"function"==typeof r}(r)||function jl(r){return Object.keys(r).some(o=>gu.includes(o))}(r)?{captureContext:r}:r}(o))}function hp(r,o){return In().captureEvent(r,o)}function fp(r,o){Tn().setContext(r,o)}function ef(r){const o=gi(),a=Tn(),h=In(),{release:g,environment:x=en}=o&&o.getOptions()||{},{userAgent:ee}=Dt.navigator||{},me=function Xh(r){const o=Wr(),a={sid:Mo(),init:!0,timestamp:o,started:o,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function rp(r){return bo({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:"number"==typeof r.did||"string"==typeof r.did?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(a)};return r&&Wc(a,r),a}({release:g,environment:x,user:h.getUser()||a.getUser(),...ee&&{userAgent:ee},...r}),xe=a.getSession();return xe&&"ok"===xe.status&&Wc(xe,{status:"exited"}),tf(),a.setSession(me),h.setSession(me),me}function tf(){const r=Tn(),o=In(),a=o.getSession()||r.getSession();a&&function cu(r,o){let a={};o?a={status:o}:"ok"===r.status&&(a={status:"exited"}),Wc(r,a)}(a),X_(),r.setSession(),o.setSession()}function X_(){const r=Tn(),o=In(),a=gi(),h=o.getSession()||r.getSession();h&&a&&a.captureSession(h)}function nf(r=!1){r?tf():X_()}const sd=[];function gp(r){const o=r.defaultIntegrations||[],a=r.integrations;let h;o.forEach(ee=>{ee.isDefaultInstance=!0}),h=Array.isArray(a)?[...o,...a]:"function"==typeof a?ic(a(o)):o;const g=function El(r){const o={};return r.forEach(a=>{const{name:h}=a,g=o[h];g&&!g.isDefaultInstance&&a.isDefaultInstance||(o[h]=a)}),Object.values(o)}(h),x=g.findIndex(ee=>"Debug"===ee.name);if(x>-1){const[ee]=g.splice(x,1);g.push(ee)}return g}function so(r,o){for(const a of o)a&&a.afterAllSetup&&a.afterAllSetup(r)}function Pd(r,o,a){if(a[o.name])gs&&li.log(`Integration skipped because it was already installed: ${o.name}`);else{if(a[o.name]=o,-1===sd.indexOf(o.name)&&"function"==typeof o.setupOnce&&(o.setupOnce(),sd.push(o.name)),o.setup&&"function"==typeof o.setup&&o.setup(r),"function"==typeof o.preprocessEvent){const h=o.preprocessEvent.bind(o);r.on("preprocessEvent",(g,x)=>h(g,x,r))}if("function"==typeof o.processEvent){const h=o.processEvent.bind(o),g=Object.assign((x,ee)=>h(x,ee,r),{id:o.name});r.addEventProcessor(g)}gs&&li.log(`Integration installed: ${o.name}`)}}const bp=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],wa=(r={})=>({name:"InboundFilters",processEvent(o,a,h){const g=h.getOptions(),x=function H_(r={},o={}){return{allowUrls:[...r.allowUrls||[],...o.allowUrls||[]],denyUrls:[...r.denyUrls||[],...o.denyUrls||[]],ignoreErrors:[...r.ignoreErrors||[],...o.ignoreErrors||[],...r.disableErrorDefaults?[]:bp],ignoreTransactions:[...r.ignoreTransactions||[],...o.ignoreTransactions||[]],ignoreInternal:void 0===r.ignoreInternal||r.ignoreInternal}}(r,g);return function ch(r,o){return o.ignoreInternal&&function Ld(r){try{return"SentryError"===r.exception.values[0].type}catch{}return!1}(r)?(gs&&li.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Da(r)}`),!0):function Y_(r,o){return!(r.type||!o||!o.length)&&function Ep(r){const o=[];let a;r.message&&o.push(r.message);try{a=r.exception.values[r.exception.values.length-1]}catch{}return a&&a.value&&(o.push(a.value),a.type&&o.push(`${a.type}: ${a.value}`)),o}(r).some(a=>Ya(a,o))}(r,o.ignoreErrors)?(gs&&li.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Da(r)}`),!0):function j(r){return!(r.type||!r.exception||!r.exception.values||0===r.exception.values.length||r.message||r.exception.values.some(o=>o.stacktrace||o.type&&"Error"!==o.type||o.value))}(r)?(gs&&li.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Da(r)}`),!0):function dr(r,o){if("transaction"!==r.type||!o||!o.length)return!1;const a=r.transaction;return!!a&&Ya(a,o)}(r,o.ignoreTransactions)?(gs&&li.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Da(r)}`),!0):function yp(r,o){if(!o||!o.length)return!1;const a=od(r);return!!a&&Ya(a,o)}(r,o.denyUrls)?(gs&&li.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Da(r)}.\nUrl: ${od(r)}`),!0):!function sf(r,o){if(!o||!o.length)return!0;const a=od(r);return!a||Ya(a,o)}(r,o.allowUrls)&&(gs&&li.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Da(r)}.\nUrl: ${od(r)}`),!0)}(o,x)?null:o}});function od(r){try{let o;try{o=r.exception.values[0].stacktrace.frames}catch{}return o?function rf(r=[]){for(let o=r.length-1;o>=0;o--){const a=r[o];if(a&&"<anonymous>"!==a.filename&&"[native code]"!==a.filename)return a.filename||null}return null}(o):null}catch{return gs&&li.error(`Cannot extract url for event ${Da(r)}`),null}}let Y;const Ze=new WeakMap,on=()=>({name:"FunctionToString",setupOnce(){Y=Function.prototype.toString;try{Function.prototype.toString=function(...r){const o=Cc(this),a=Ze.has(gi())&&void 0!==o?o:this;return Y.apply(a,r)}}catch{}},setup(r){Ze.set(r,!0)}}),Ni=()=>{let r;return{name:"Dedupe",processEvent(o){if(o.type)return o;try{if(function ri(r,o){return!(!o||!function fs(r,o){const a=r.message,h=o.message;return!(!a&&!h||a&&!h||!a&&h||a!==h||!co(r,o)||!Js(r,o))}(r,o)&&!function oo(r,o){const a=Qr(o),h=Qr(r);return!!(a&&h&&a.type===h.type&&a.value===h.value&&co(r,o)&&Js(r,o))}(r,o))}(o,r))return gs&&li.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return r=o}}};function Js(r,o){let a=uu(r),h=uu(o);if(!a&&!h)return!0;if(a&&!h||!a&&h||h.length!==a.length)return!1;for(let g=0;g<h.length;g++){const x=h[g],ee=a[g];if(x.filename!==ee.filename||x.lineno!==ee.lineno||x.colno!==ee.colno||x.function!==ee.function)return!1}return!0}function co(r,o){let a=r.fingerprint,h=o.fingerprint;if(!a&&!h)return!0;if(a&&!h||!a&&h)return!1;try{return a.join("")===h.join("")}catch{return!1}}function Qr(r){return r.exception&&r.exception.values&&r.exception.values[0]}const rd=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Fs(r,o=!1){const{host:a,path:h,pass:g,port:x,projectId:ee,protocol:me,publicKey:xe}=r;return`${me}://${xe}${o&&g?`:${g}`:""}@${a}${x?`:${x}`:""}/${h&&`${h}/`}${ee}`}function Q_(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function J_(r){const o="string"==typeof r?function ov(r){const o=rd.exec(r);if(!o)return void ga(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[a,h,g="",x="",ee="",me=""]=o.slice(1);let xe="",Je=me;const xt=Je.split("/");if(xt.length>1&&(xe=xt.slice(0,-1).join("/"),Je=xt.pop()),Je){const $t=Je.match(/^\d+/);$t&&(Je=$t[0])}return Q_({host:x,pass:g,path:xe,projectId:Je,port:ee,protocol:a,publicKey:h})}(r):Q_(r);if(o&&function ko(r){if(!Zn)return!0;const{port:o,projectId:a,protocol:h}=r;return!(["protocol","publicKey","host","projectId"].find(ee=>!r[ee]&&(li.error(`Invalid Sentry Dsn: ${ee} missing`),!0))||(a.match(/^\d+$/)?function Kn(r){return"http"===r||"https"===r}(h)?o&&isNaN(parseInt(o,10))&&(li.error(`Invalid Sentry Dsn: Invalid port ${o}`),1):(li.error(`Invalid Sentry Dsn: Invalid protocol ${h}`),1):(li.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(o))return o}const af="7";function Ul(r){return`${r.protocol?`${r.protocol}:`:""}//${r.host}${r.port?`:${r.port}`:""}${r.path?`/${r.path}`:""}/api/`}function lf(r,o,a){return o||`${function Z_(r){return`${Ul(r)}${r.projectId}/envelope/`}(r)}?${function Bo(r,o){return function zc(r){return Object.keys(r).map(o=>`${encodeURIComponent(o)}=${encodeURIComponent(r[o])}`).join("&")}({sentry_key:r.publicKey,sentry_version:af,...o&&{sentry_client:`${o.name}/${o.version}`}})}(r,a)}`}const q_=Dt;function xa(){if(!("fetch"in q_))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function cc(r){return r&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}const ad={},em={};function Bd(r,o){ad[r]=ad[r]||[],ad[r].push(o)}function Rc(r,o){em[r]||(o(),em[r]=!0)}function hl(r,o){const a=r&&ad[r];if(a)for(const h of a)try{h(o)}catch(g){Zn&&li.error(`Error while triggering instrumentation handler.\nType: ${r}\nName: ${ll(h)}\nError:`,g)}}const uh=Dt,Ds=Dt;let hh;function fh(r){const o="history";Bd(o,r),Rc(o,av)}function av(){if(!function Cp(){const r=uh.chrome;return!(r&&r.app&&r.app.runtime||!("history"in uh)||!uh.history.pushState||!uh.history.replaceState)}())return;const r=Ds.onpopstate;function o(a){return function(...h){const g=h.length>2?h[2]:void 0;if(g){const x=hh,ee=String(g);hh=ee,hl("history",{from:x,to:ee})}return a.apply(this,h)}}Ds.onpopstate=function(...a){const h=Ds.location.href,g=hh;if(hh=h,hl("history",{from:g,to:h}),r)try{return r.apply(this,a)}catch{}},_r(Ds.history,"pushState",o),_r(Ds.history,"replaceState",o)}function $d(r,o=[]){return[r,o]}function lv(r,o){const[a,h]=r;return[a,[...h,o]]}function Tp(r,o){const a=r[1];for(const h of a)if(o(h,h[0].type))return!0;return!1}function Sp(r){return Dt.__SENTRY__&&Dt.__SENTRY__.encodePolyfill?Dt.__SENTRY__.encodePolyfill(r):(new TextEncoder).encode(r)}function yu(r){const[o,a]=r;let h=JSON.stringify(o);function g(x){"string"==typeof h?h="string"==typeof x?h+x:[Sp(h),x]:h.push("string"==typeof x?Sp(x):x)}for(const x of a){const[ee,me]=x;if(g(`\n${JSON.stringify(ee)}\n`),"string"==typeof me||me instanceof Uint8Array)g(me);else{let xe;try{xe=JSON.stringify(me)}catch{xe=JSON.stringify(rc(me))}g(xe)}}return"string"==typeof h?h:function Yo(r){const o=r.reduce((g,x)=>g+x.length,0),a=new Uint8Array(o);let h=0;for(const g of r)a.set(g,h),h+=g.length;return a}(h)}function u1(r){return[{type:"span"},r]}function dv(r){const o="string"==typeof r.data?Sp(r.data):r.data;return[bo({type:"attachment",length:o.length,filename:r.filename,content_type:r.contentType,attachment_type:r.attachmentType}),o]}const h1={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function tm(r){return h1[r]}function Mp(r){if(!r||!r.sdk)return;const{name:o,version:a}=r.sdk;return{name:o,version:a}}function ph(r,o,a,h){const g=r.sdkProcessingMetadata&&r.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:r.event_id,sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!a&&h&&{dsn:Fs(h)},...g&&{trace:bo({...g})}}}class Jr extends Error{constructor(o,a="warn"){super(o),this.message=o,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=a}}function cf(r){if("boolean"==typeof r)return Number(r);const o="string"==typeof r?parseFloat(r):r;if(!("number"!=typeof o||isNaN(o)||o<0||o>1))return o;gs&&li.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`)}const sm="Not capturing exception because it's already been captured.";class f1{constructor(o){if(this._options=o,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],o.dsn?this._dsn=J_(o.dsn):gs&&li.warn("No DSN provided, client will not send events."),this._dsn){const a=lf(this._dsn,o.tunnel,o._metadata?o._metadata.sdk:void 0);this._transport=o.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...o.transportOptions,url:a})}}captureException(o,a,h){const g=Mo();if(nc(o))return gs&&li.log(sm),g;const x={event_id:g,...a};return this._process(this.eventFromException(o,x).then(ee=>this._captureEvent(ee,x,h))),x.event_id}captureMessage(o,a,h,g){const x={event_id:Mo(),...h},ee=rs(o)?o:String(o),me=ao(o)?this.eventFromMessage(ee,a,x):this.eventFromException(o,x);return this._process(me.then(xe=>this._captureEvent(xe,x,g))),x.event_id}captureEvent(o,a,h){const g=Mo();if(a&&a.originalException&&nc(a.originalException))return gs&&li.log(sm),g;const x={event_id:g,...a};return this._process(this._captureEvent(o,x,(o.sdkProcessingMetadata||{}).capturedSpanScope||h)),x.event_id}captureSession(o){"string"!=typeof o.release?gs&&li.warn("Discarded session because of missing or non-string release"):(this.sendSession(o),Wc(o,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(o){const a=this._transport;return a?(this.emit("flush"),this._isClientDoneProcessing(o).then(h=>a.flush(o).then(g=>h&&g))):bl(!0)}close(o){return this.flush(o).then(a=>(this.getOptions().enabled=!1,this.emit("close"),a))}getEventProcessors(){return this._eventProcessors}addEventProcessor(o){this._eventProcessors.push(o)}init(){(this._isEnabled()||this._options.integrations.some(({name:o})=>o.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(o){return this._integrations[o]}addIntegration(o){const a=this._integrations[o.name];Pd(this,o,this._integrations),a||so(this,[o])}sendEvent(o,a={}){this.emit("beforeSendEvent",o,a);let h=function Op(r,o,a,h){const g=Mp(a),x=r.type&&"replay_event"!==r.type?r.type:"event";!function Dp(r,o){o&&(r.sdk=r.sdk||{},r.sdk.name=r.sdk.name||o.name,r.sdk.version=r.sdk.version||o.version,r.sdk.integrations=[...r.sdk.integrations||[],...o.integrations||[]],r.sdk.packages=[...r.sdk.packages||[],...o.packages||[]])}(r,a&&a.sdk);const ee=ph(r,g,h,o);return delete r.sdkProcessingMetadata,$d(ee,[[{type:x},r]])}(o,this._dsn,this._options._metadata,this._options.tunnel);for(const x of a.attachments||[])h=lv(h,dv(x));const g=this.sendEnvelope(h);g&&g.then(x=>this.emit("afterSendEvent",o,x),null)}sendSession(o){const a=function Ip(r,o,a,h){const g=Mp(a);return $d({sent_at:(new Date).toISOString(),...g&&{sdk:g},...!!h&&o&&{dsn:Fs(o)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(o,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(o,a,h){if(this._options.sendClientReports){const g="number"==typeof h?h:1,x=`${o}:${a}`;gs&&li.log(`Recording outcome: "${x}"${g>1?` (${g} times)`:""}`),this._outcomes[x]=(this._outcomes[x]||0)+g}}on(o,a){const h=this._hooks[o]=this._hooks[o]||[];return h.push(a),()=>{const g=h.indexOf(a);g>-1&&h.splice(g,1)}}emit(o,...a){const h=this._hooks[o];h&&h.forEach(g=>g(...a))}sendEnvelope(o){return this.emit("beforeEnvelope",o),this._isEnabled()&&this._transport?this._transport.send(o).then(null,a=>(gs&&li.error("Error while sending event:",a),a)):(gs&&li.error("Transport disabled"),bl({}))}_setupIntegrations(){const{integrations:o}=this._options;this._integrations=function vp(r,o){const a={};return o.forEach(h=>{h&&Pd(r,h,a)}),a}(this,o),so(this,o)}_updateSessionFromEvent(o,a){let h=!1,g=!1;const x=a.exception&&a.exception.values;if(x){g=!0;for(const xe of x){const Je=xe.mechanism;if(Je&&!1===Je.handled){h=!0;break}}}const ee="ok"===o.status;(ee&&0===o.errors||ee&&h)&&(Wc(o,{...h&&{status:"crashed"},errors:o.errors||Number(g||h)}),this.captureSession(o))}_isClientDoneProcessing(o){return new cl(a=>{let h=0;const x=setInterval(()=>{0==this._numProcessing?(clearInterval(x),a(!0)):(h+=1,o&&h>=o&&(clearInterval(x),a(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(o,a,h,g=Tn()){const x=this.getOptions(),ee=Object.keys(this._integrations);return!a.integrations&&ee.length>0&&(a.integrations=ee),this.emit("preprocessEvent",o,a),o.type||g.setLastEventId(o.event_id||a.event_id),Oc(x,o,a,h,this,g).then(me=>{if(null===me)return me;const xe={...g.getPropagationContext(),...h?h.getPropagationContext():void 0};if((!me.contexts||!me.contexts.trace)&&xe){const{traceId:xt,spanId:$t,parentSpanId:mn,dsc:En}=xe;me.contexts={trace:bo({trace_id:xt,span_id:$t,parent_span_id:mn}),...me.contexts};const bn=En||Pr(xt,this);me.sdkProcessingMetadata={dynamicSamplingContext:bn,...me.sdkProcessingMetadata}}return me})}_captureEvent(o,a={},h){return this._processEvent(o,a,h).then(g=>g.event_id,g=>{if(gs){const x=g;"log"===x.logLevel?li.log(x.message):li.warn(x)}})}_processEvent(o,a,h){const g=this.getOptions(),{sampleRate:x}=g,ee=Eu(o),me=om(o),xe=o.type||"error",Je=`before send for type \`${xe}\``,xt=typeof x>"u"?void 0:cf(x);if(me&&"number"==typeof xt&&Math.random()>xt)return this.recordDroppedEvent("sample_rate","error",o),Mc(new Jr(`Discarding event because it's not included in the random sample (sampling rate = ${x})`,"log"));const $t="replay_event"===xe?"replay":xe;return this._prepareEvent(o,a,h,(o.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(bn=>{if(null===bn)throw this.recordDroppedEvent("event_processor",$t,o),new Jr("An event processor returned `null`, will not send event.","log");if(a.data&&!0===a.data.__sentry__)return bn;const pi=function mh(r,o,a,h){const{beforeSend:g,beforeSendTransaction:x,beforeSendSpan:ee}=o;if(om(a)&&g)return g(a,h);if(Eu(a)){if(a.spans&&ee){const me=[];for(const xe of a.spans){const Je=ee(xe);Je?me.push(Je):r.recordDroppedEvent("before_send","span")}a.spans=me}if(x)return a.spans&&(a.sdkProcessingMetadata={...a.sdkProcessingMetadata,spanCountBeforeProcessing:a.spans.length}),x(a,h)}return a}(this,g,bn,a);return function _h(r,o){const a=`${o} must return \`null\` or a valid event.`;if(ue(r))return r.then(h=>{if(!xr(h)&&null!==h)throw new Jr(a);return h},h=>{throw new Jr(`${o} rejected with ${h}`)});if(!xr(r)&&null!==r)throw new Jr(a);return r}(pi,Je)}).then(bn=>{if(null===bn)throw this.recordDroppedEvent("before_send",$t,o),ee&&this.recordDroppedEvent("before_send","span",1+(o.spans||[]).length),new Jr(`${Je} returned \`null\`, will not send event.`,"log");const Un=h&&h.getSession();if(!ee&&Un&&this._updateSessionFromEvent(Un,bn),ee){const qi=(bn.sdkProcessingMetadata&&bn.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(bn.spans?bn.spans.length:0);qi>0&&this.recordDroppedEvent("before_send","span",qi)}const pi=bn.transaction_info;if(ee&&pi&&bn.transaction!==o.transaction){const _i="custom";bn.transaction_info={...pi,source:_i}}return this.sendEvent(bn,a),bn}).then(null,bn=>{throw bn instanceof Jr?bn:(this.captureException(bn,{data:{__sentry__:!0},originalException:bn}),new Jr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${bn}`))})}_process(o){this._numProcessing++,o.then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a))}_clearOutcomes(){const o=this._outcomes;return this._outcomes={},Object.entries(o).map(([a,h])=>{const[g,x]=a.split(":");return{reason:g,category:x,quantity:h}})}_flushOutcomes(){gs&&li.log("Flushing outcomes...");const o=this._clearOutcomes();if(0===o.length)return void(gs&&li.log("No outcomes to send"));if(!this._dsn)return void(gs&&li.log("No dsn provided, will not send outcomes"));gs&&li.log("Sending outcomes:",o);const a=function nm(r,o,a){return $d(o?{dsn:o}:{},[[{type:"client_report"},{timestamp:a||Tc(),discarded_events:r}]])}(o,this._options.tunnel&&Fs(this._dsn));this.sendEnvelope(a)}}function om(r){return void 0===r.type}function Eu(r){return"transaction"===r.type}function rm(r,o,a=[o],h="npm"){const g=r._metadata||{};g.sdk||(g.sdk={name:`sentry.javascript.${o}`,packages:a.map(x=>({name:`${h}:@sentry/${x}`,version:et})),version:et}),r._metadata=g}const Cl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function am(r,o){const a=Cu(r,o),h={type:o&&o.name,value:xp(o)};return a.length&&(h.stacktrace={frames:a}),void 0===h.type&&""===h.value&&(h.value="Unrecoverable error caught"),h}function ld(r,o){return{exception:{values:[am(r,o)]}}}function Cu(r,o){const a=o.stacktrace||o.stack||"",h=function cd(r){return r&&wp.test(r.message)?1:0}(o),g=function tl(r){return"number"==typeof r.framesToPop?r.framesToPop:0}(o);try{return r(a,h,g)}catch{}return[]}const wp=/Minified React error #\d+;/i;function xp(r){const o=r&&r.message;return o?o.error&&"string"==typeof o.error.message?o.error.message:o:"No error message"}function cm(r,o,a,h,g){let x;if(fi(o)&&o.error)return ld(r,o.error);if(si(o)||function Zi(r){return ki(r,"DOMException")}(o)){const ee=o;if("stack"in o)x=ld(r,o);else{const me=ee.name||(si(ee)?"DOMError":"DOMException"),xe=ee.message?`${me}: ${ee.message}`:me;x=Na(r,xe,a,h),Ia(x,xe)}return"code"in ee&&(x.tags={...x.tags,"DOMException.code":`${ee.code}`}),x}return ii(o)?ld(r,o):xr(o)||Rs(o)?(x=function lm(r,o,a,h){const g=gi(),x=g&&g.getOptions().normalizeDepth,ee=function Nr(r){for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)){const a=r[o];if(a instanceof Error)return a}}(o),me={__serialized__:th(o,x)};if(ee)return{exception:{values:[am(r,ee)]},extra:me};const xe={exception:{values:[{type:Rs(o)?o.constructor.name:h?"UnhandledRejection":"Error",value:Tl(o,{isUnhandledRejection:h})}]},extra:me};if(a){const Je=Cu(r,a);Je.length&&(xe.exception.values[0].stacktrace={frames:Je})}return xe}(r,o,a,g),Us(x,{synthetic:!0}),x):(x=Na(r,o,a,h),Ia(x,`${o}`,void 0),Us(x,{synthetic:!0}),x)}function Na(r,o,a,h){const g={};if(h&&a){const x=Cu(r,a);x.length&&(g.exception={values:[{value:o,stacktrace:{frames:x}}]})}if(rs(o)){const{__sentry_template_string__:x,__sentry_template_values__:ee}=o;return g.logentry={message:x,params:ee},g}return g.message=o,g}function Tl(r,{isUnhandledRejection:o}){const a=function op(r,o=40){const a=Object.keys(Qa(r));a.sort();const h=a[0];if(!h)return"[object has no keys]";if(h.length>=o)return Ro(h,o);for(let g=a.length;g>0;g--){const x=a.slice(0,g).join(", ");if(!(x.length>o))return g===a.length?x:Ro(x,o)}return""}(r),h=o?"promise rejection":"exception";return fi(r)?`Event \`ErrorEvent\` captured as ${h} with message \`${r.message}\``:Rs(r)?`Event \`${function fv(r){try{const o=Object.getPrototypeOf(r);return o?o.constructor.name:void 0}catch{}}(r)}\` (type=${r.type}) captured as ${h}`:`Object captured as ${h} with keys: ${a}`}const Cs=Dt;let dd=0;function Ap(){return dd>0}function uc(r,o={},a){if("function"!=typeof r)return r;try{const g=r.__sentry_wrapped__;if(g)return g;if(Cc(r))return r}catch{return r}const h=function(){const g=Array.prototype.slice.call(arguments);try{a&&"function"==typeof a&&a.apply(this,arguments);const x=g.map(ee=>uc(ee,o));return r.apply(this,x)}catch(x){throw function _1(){dd++,setTimeout(()=>{dd--})}(),oi(ee=>{ee.addEventProcessor(me=>(o.mechanism&&(Ia(me,void 0,void 0),Us(me,o.mechanism)),me.extra={...me.extra,arguments:g},me)),kd(x)}),x}};try{for(const g in r)Object.prototype.hasOwnProperty.call(r,g)&&(h[g]=r[g])}catch{}va(h,r),La(r,"__sentry_wrapped__",h);try{Object.getOwnPropertyDescriptor(h,"name").configurable&&Object.defineProperty(h,"name",{get:()=>r.name})}catch{}return h}class um extends f1{constructor(o){const a={parentSpanIsAlwaysRootSpan:!0,...o};rm(a,"browser",["browser"],Cs.SENTRY_SDK_SOURCE||"npm"),super(a),a.sendClientReports&&Cs.document&&Cs.document.addEventListener("visibilitychange",()=>{"hidden"===Cs.document.visibilityState&&this._flushOutcomes()})}eventFromException(o,a){return function hv(r,o,a,h){const x=cm(r,o,a&&a.syntheticException||void 0,h);return Us(x),x.level="error",a&&a.event_id&&(x.event_id=a.event_id),bl(x)}(this._options.stackParser,o,a,this._options.attachStacktrace)}eventFromMessage(o,a="info",h){return function dc(r,o,a="info",h,g){const ee=Na(r,o,h&&h.syntheticException||void 0,g);return ee.level=a,h&&h.event_id&&(ee.event_id=h.event_id),bl(ee)}(this._options.stackParser,o,a,h,this._options.attachStacktrace)}captureUserFeedback(o){if(!this._isEnabled())return void(Cl&&li.warn("SDK not enabled, will not capture user feedback."));const a=function df(r,{metadata:o,tunnel:a,dsn:h}){const g={event_id:r.event_id,sent_at:(new Date).toISOString(),...o&&o.sdk&&{sdk:{name:o.sdk.name,version:o.sdk.version}},...!!a&&!!h&&{dsn:Fs(h)}},x=function dm(r){return[{type:"user_report"},r]}(r);return $d(g,[x])}(o,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(a)}_prepareEvent(o,a,h){return o.platform=o.platform||"javascript",super._prepareEvent(o,a,h)}}const Rp=1e3;let ud,gh,pv;function kp(r){Bd("dom",r),Rc("dom",$i)}function $i(){if(!Ds.document)return;const r=hl.bind(null,"dom"),o=fm(r,!0);Ds.document.addEventListener("click",o,!1),Ds.document.addEventListener("keypress",o,!1),["EventTarget","Node"].forEach(a=>{const h=Ds[a]&&Ds[a].prototype;!h||!h.hasOwnProperty||!h.hasOwnProperty("addEventListener")||(_r(h,"addEventListener",function(g){return function(x,ee,me){if("click"===x||"keypress"==x)try{const xe=this,Je=xe.__sentry_instrumentation_handlers__=xe.__sentry_instrumentation_handlers__||{},xt=Je[x]=Je[x]||{refCount:0};if(!xt.handler){const $t=fm(r);xt.handler=$t,g.call(this,x,$t,me)}xt.refCount++}catch{}return g.call(this,x,ee,me)}}),_r(h,"removeEventListener",function(g){return function(x,ee,me){if("click"===x||"keypress"==x)try{const xe=this,Je=xe.__sentry_instrumentation_handlers__||{},xt=Je[x];xt&&(xt.refCount--,xt.refCount<=0&&(g.call(this,x,xt.handler,me),xt.handler=void 0,delete Je[x]),0===Object.keys(Je).length&&delete xe.__sentry_instrumentation_handlers__)}catch{}return g.call(this,x,ee,me)}}))})}function fm(r,o=!1){return a=>{if(!a||a._sentryCaptured)return;const h=function Ud(r){try{return r.target}catch{return null}}(a);if(function jd(r,o){return!("keypress"!==r||o&&o.tagName&&("INPUT"===o.tagName||"TEXTAREA"===o.tagName||o.isContentEditable))}(a.type,h))return;La(a,"_sentryCaptured",!0),h&&!h._sentryId&&La(h,"_sentryId",Mo());const g="keypress"===a.type?"input":a.type;(function hm(r){if(r.type!==gh)return!1;try{if(!r.target||r.target._sentryId!==pv)return!1}catch{}return!0})(a)||(r({event:a,name:g,global:o}),gh=a.type,pv=h?h._sentryId:void 0),clearTimeout(ud),ud=Ds.setTimeout(()=>{pv=void 0,gh=void 0},Rp)}}const Vl="__sentry_xhr_v3__";function Zr(r){Bd("xhr",r),Rc("xhr",m1)}function m1(){if(!Ds.XMLHttpRequest)return;const r=XMLHttpRequest.prototype;r.open=new Proxy(r.open,{apply(o,a,h){const g=1e3*Wr(),x=cs(h[0])?h[0].toUpperCase():void 0,ee=function Tu(r){if(cs(r))return r;try{return r.toString()}catch{}}(h[1]);if(!x||!ee)return o.apply(a,h);a[Vl]={method:x,url:ee,request_headers:{}},"POST"===x&&ee.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const me=()=>{const xe=a[Vl];if(xe&&4===a.readyState){try{xe.status_code=a.status}catch{}hl("xhr",{endTimestamp:1e3*Wr(),startTimestamp:g,xhr:a})}};return"onreadystatechange"in a&&"function"==typeof a.onreadystatechange?a.onreadystatechange=new Proxy(a.onreadystatechange,{apply:(xe,Je,xt)=>(me(),xe.apply(Je,xt))}):a.addEventListener("readystatechange",me),a.setRequestHeader=new Proxy(a.setRequestHeader,{apply(xe,Je,xt){const[$t,mn]=xt,En=Je[Vl];return En&&cs($t)&&cs(mn)&&(En.request_headers[$t.toLowerCase()]=mn),xe.apply(Je,xt)}}),o.apply(a,h)}}),r.send=new Proxy(r.send,{apply(o,a,h){const g=a[Vl];return g?(void 0!==h[0]&&(g.body=h[0]),hl("xhr",{startTimestamp:1e3*Wr(),xhr:a}),o.apply(a,h)):o.apply(a,h)}})}const Su=100;function Vd(r,o){const a=gi(),h=Tn();if(!a)return;const{beforeBreadcrumb:g=null,maxBreadcrumbs:x=Su}=a.getOptions();if(x<=0)return;const me={timestamp:Tc(),...r},xe=g?ga(()=>g(me,o)):me;null!==xe&&(a.emit&&a.emit("beforeAddBreadcrumb",xe,o),h.addBreadcrumb(xe,x))}function uf(){"console"in Dt&&ks.forEach(function(r){r in Dt.console&&_r(Dt.console,r,function(o){return fo[r]=o,function(...a){hl("console",{args:a,level:r});const g=fo[r];g&&g.apply(Dt.console,a)}})})}function pm(r,o){const a="fetch";Bd(a,r),Rc(a,()=>Pp(void 0,o))}function Pp(r,o=!1){o&&!function rv(){if("string"==typeof EdgeRuntime)return!0;if(!xa())return!1;if(cc(q_.fetch))return!0;let r=!1;const o=q_.document;if(o&&"function"==typeof o.createElement)try{const a=o.createElement("iframe");a.hidden=!0,o.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(r=cc(a.contentWindow.fetch)),o.head.removeChild(a)}catch(a){Zn&&li.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return r}()||_r(Dt,"fetch",function(a){return function(...h){const{method:g,url:x}=function g1(r){if(0===r.length)return{method:"GET",url:""};if(2===r.length){const[a,h]=r;return{url:gm(a),method:hf(h,"method")?String(h.method).toUpperCase():"GET"}}const o=r[0];return{url:gm(o),method:hf(o,"method")?String(o.method).toUpperCase():"GET"}}(h),ee={args:h,fetchData:{method:g,url:x},startTimestamp:1e3*Wr()};r||hl("fetch",{...ee});const me=(new Error).stack;return a.apply(Dt,h).then(function(){var xe=(0,Ys.A)(function*(Je){return r?r(Je):hl("fetch",{...ee,endTimestamp:1e3*Wr(),response:Je}),Je});return function(Je){return xe.apply(this,arguments)}}(),xe=>{throw hl("fetch",{...ee,endTimestamp:1e3*Wr(),error:xe}),ii(xe)&&void 0===xe.stack&&(xe.stack=me,La(xe,"framesToPop",1)),xe})}})}function Sl(){return Sl=(0,Ys.A)(function*(r,o){if(r&&r.body&&r.body.getReader){let h=function(x){return g.apply(this,arguments)},g=function(){return g=(0,Ys.A)(function*({done:x}){if(x)return Promise.resolve();try{const ee=yield Promise.race([a.read(),new Promise(me=>{setTimeout(()=>{me({done:!0})},5e3)})]);yield h(ee)}catch{}}),g.apply(this,arguments)};const a=r.body.getReader();return a.read().then(h).then(o).catch(()=>{})}}),Sl.apply(this,arguments)}function Lp(r){return mm.apply(this,arguments)}function mm(){return mm=(0,Ys.A)(function*(r){let o;try{o=r.clone()}catch{return}yield function _m(r,o){return Sl.apply(this,arguments)}(o,()=>{hl("fetch-body-resolved",{endTimestamp:1e3*Wr(),response:r})})}),mm.apply(this,arguments)}function hf(r,o){return!!r&&"object"==typeof r&&!!r[o]}function gm(r){return"string"==typeof r?r:r?hf(r,"url")?r.url:r.toString?r.toString():"":""}const v1=["fatal","error","warning","log","info","debug"];function Np(r){return"warn"===r?"warning":v1.includes(r)?r:"log"}function Mu(r){if(!r)return{};const o=r.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!o)return{};const a=o[6]||"",h=o[8]||"";return{host:o[4],path:o[5],protocol:o[2],search:a,hash:h,relative:o[5]+a+h}}const b1=(r={})=>{const o={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...r};return{name:"Breadcrumbs",setup(a){o.console&&function Fp(r){const o="console";Bd(o,r),Rc(o,uf)}(function Gd(r){return function(a){if(gi()!==r)return;const h={category:"console",data:{arguments:a.args,logger:"console"},level:Np(a.level),message:rl(a.args," ")};if("assert"===a.level){if(!1!==a.args[0])return;h.message=`Assertion failed: ${rl(a.args.slice(1)," ")||"console.assert"}`,h.data.arguments=a.args.slice(1)}Vd(h,{input:a.args,level:a.level})}}(a)),o.dom&&kp(function Ky(r,o){return function(h){if(gi()!==r)return;let g,x,ee="object"==typeof o?o.serializeAttribute:void 0,me="object"==typeof o&&"number"==typeof o.maxStringLength?o.maxStringLength:void 0;me&&me>1024&&(Cl&&li.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${me} was configured. Sentry will use 1024 instead.`),me=1024),"string"==typeof ee&&(ee=[ee]);try{const Je=h.event,xt=function vm(r){return!!r&&!!r.target}(Je)?Je.target:Je;g=Ln(xt,{keyAttrs:ee,maxStringLength:me}),x=Qs(xt)}catch{g="<unknown>"}if(0===g.length)return;const xe={category:`ui.${h.name}`,message:g};x&&(xe.data={"ui.component_name":x}),Vd(xe,{event:h.event,name:h.name,global:h.global})}}(a,o.dom)),o.xhr&&Zr(function ff(r){return function(a){if(gi()!==r)return;const{startTimestamp:h,endTimestamp:g}=a,x=a.xhr[Vl];if(!h||!g||!x)return;const{method:ee,url:me,status_code:xe,body:Je}=x;Vd({category:"xhr",data:{method:ee,url:me,status_code:xe},type:"http"},{xhr:a.xhr,input:Je,startTimestamp:h,endTimestamp:g})}}(a)),o.fetch&&pm(function Qn(r){return function(a){if(gi()!==r)return;const{startTimestamp:h,endTimestamp:g}=a;if(g&&(!a.fetchData.url.match(/sentry_key/)||"POST"!==a.fetchData.method))if(a.error)Vd({category:"fetch",data:a.fetchData,level:"error",type:"http"},{data:a.error,input:a.args,startTimestamp:h,endTimestamp:g});else{const x=a.response;Vd({category:"fetch",data:{...a.fetchData,status_code:x&&x.status},type:"http"},{input:a.args,response:x,startTimestamp:h,endTimestamp:g})}}}(a)),o.history&&fh(function gv(r){return function(a){if(gi()!==r)return;let h=a.from,g=a.to;const x=Mu(Cs.location.href);let ee=h?Mu(h):void 0;const me=Mu(g);(!ee||!ee.path)&&(ee=x),x.protocol===me.protocol&&x.host===me.host&&(g=me.relative),x.protocol===ee.protocol&&x.host===ee.host&&(h=ee.relative),Vd({category:"navigation",data:{from:h,to:g}})}}(a)),o.sentry&&a.on("beforeSendEvent",function y1(r){return function(a){gi()===r&&Vd({category:"sentry."+("transaction"===a.type?"transaction":"event"),event_id:a.event_id,level:a.level,message:Da(a)},{event:a})}}(a))}}},Kd=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ya=(r={})=>{const o={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...r};return{name:"BrowserApiErrors",setupOnce(){o.setTimeout&&_r(Cs,"setTimeout",vh),o.setInterval&&_r(Cs,"setInterval",vh),o.requestAnimationFrame&&_r(Cs,"requestAnimationFrame",vv),o.XMLHttpRequest&&"XMLHttpRequest"in Cs&&_r(XMLHttpRequest.prototype,"send",zd);const a=o.eventTarget;a&&(Array.isArray(a)?a:Kd).forEach(E1)}}};function vh(r){return function(...o){return o[0]=uc(o[0],{mechanism:{data:{function:ll(r)},handled:!1,type:"instrument"}}),r.apply(this,o)}}function vv(r){return function(o){return r.apply(this,[uc(o,{mechanism:{data:{function:"requestAnimationFrame",handler:ll(r)},handled:!1,type:"instrument"}})])}}function zd(r){return function(...o){const a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(g=>{g in a&&"function"==typeof a[g]&&_r(a,g,function(x){const ee={mechanism:{data:{function:g,handler:ll(x)},handled:!1,type:"instrument"}},me=Cc(x);return me&&(ee.mechanism.data.handler=ll(me)),uc(x,ee)})}),r.apply(this,o)}}function E1(r){const a=Cs[r]&&Cs[r].prototype;!a||!a.hasOwnProperty||!a.hasOwnProperty("addEventListener")||(_r(a,"addEventListener",function(h){return function(g,x,ee){try{"function"==typeof x.handleEvent&&(x.handleEvent=uc(x.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ll(x),target:r},handled:!1,type:"instrument"}}))}catch{}return h.apply(this,[g,uc(x,{mechanism:{data:{function:"addEventListener",handler:ll(x),target:r},handled:!1,type:"instrument"}}),ee])}}),_r(a,"removeEventListener",function(h){return function(g,x,ee){const me=x;try{const xe=me&&me.__sentry_wrapped__;xe&&h.call(this,g,xe,ee)}catch{}return h.call(this,g,me,ee)}}))}let Du=null;function pf(r){const o="error";Bd(o,r),Rc(o,bm)}function bm(){Du=Dt.onerror,Dt.onerror=function(r,o,a,h,g){return hl("error",{column:h,error:g,line:a,msg:r,url:o}),!(!Du||Du.__SENTRY_LOADER__)&&Du.apply(this,arguments)},Dt.onerror.__SENTRY_INSTRUMENTED__=!0}let Uo=null;function $p(r){const o="unhandledrejection";Bd(o,r),Rc(o,ym)}function ym(){Uo=Dt.onunhandledrejection,Dt.onunhandledrejection=function(r){return hl("unhandledrejection",r),!(Uo&&!Uo.__SENTRY_LOADER__)||Uo.apply(this,arguments)},Dt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const _f=(r={})=>{const o={onerror:!0,onunhandledrejection:!0,...r};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(a){o.onerror&&(function yv(r){pf(o=>{const{stackParser:a,attachStacktrace:h}=Ev();if(gi()!==r||Ap())return;const{msg:g,url:x,line:ee,column:me,error:xe}=o,Je=function Iu(r,o,a,h){const g=r.exception=r.exception||{},x=g.values=g.values||[],ee=x[0]=x[0]||{},me=ee.stacktrace=ee.stacktrace||{},xe=me.frames=me.frames||[],Je=isNaN(parseInt(h,10))?void 0:h,xt=isNaN(parseInt(a,10))?void 0:a,$t=cs(o)&&o.length>0?o:So();return 0===xe.length&&xe.push({colno:Je,filename:$t,function:Ho,in_app:!0,lineno:xt}),r}(cm(a,xe||g,void 0,h,!1),x,ee,me);Je.level="error",hp(Je,{originalException:xe,mechanism:{handled:!1,type:"onerror"}})})}(a),Ra("onerror")),o.onunhandledrejection&&(function jp(r){$p(o=>{const{stackParser:a,attachStacktrace:h}=Ev();if(gi()!==r||Ap())return;const g=function Em(r){if(ao(r))return r;try{if("reason"in r)return r.reason;if("detail"in r&&"reason"in r.detail)return r.detail.reason}catch{}return r}(o),x=ao(g)?function Cm(r){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}}(g):cm(a,g,void 0,h,!0);x.level="error",hp(x,{originalException:g,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(a),Ra("onunhandledrejection"))}}};function Ra(r){Cl&&li.log(`Global Handler attached: ${r}`)}function Ev(){const r=gi();return r&&r.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Gl=()=>({name:"HttpContext",preprocessEvent(r){if(!Cs.navigator&&!Cs.location&&!Cs.document)return;const o=r.request&&r.request.url||Cs.location&&Cs.location.href,{referrer:a}=Cs.document||{},{userAgent:h}=Cs.navigator||{},g={...r.request&&r.request.headers,...a&&{Referer:a},...h&&{"User-Agent":h}},x={...r.request,...o&&{url:o},headers:g};r.request=x}});function Cv(r,o,a=250,h,g,x,ee){if(!(x.exception&&x.exception.values&&ee&&ke(ee.originalException,Error)))return;const me=x.exception.values.length>0?x.exception.values[x.exception.values.length-1]:void 0;me&&(x.exception.values=function T1(r,o){return r.map(a=>(a.value&&(a.value=Ro(a.value,o)),a))}(mf(r,o,g,ee.originalException,h,x.exception.values,me,0),a))}function mf(r,o,a,h,g,x,ee,me){if(x.length>=a+1)return x;let xe=[...x];if(ke(h[g],Error)){Tv(ee,me);const Je=r(o,h[g]),xt=xe.length;Sv(Je,g,xt,me),xe=mf(r,o,a,h[g],g,[Je,...xe],Je,xt)}return Array.isArray(h.errors)&&h.errors.forEach((Je,xt)=>{if(ke(Je,Error)){Tv(ee,me);const $t=r(o,Je),mn=xe.length;Sv($t,`errors[${xt}]`,mn,me),xe=mf(r,o,a,Je,g,[$t,...xe],$t,mn)}}),xe}function Tv(r,o){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism={...r.mechanism,..."AggregateError"===r.type&&{is_exception_group:!0},exception_id:o}}function Sv(r,o,a,h){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism={...r.mechanism,type:"chained",source:o,exception_id:a,parent_id:h}}const yh=(r={})=>{const o=r.limit||5,a=r.key||"cause";return{name:"LinkedErrors",preprocessEvent(h,g,x){const ee=x.getOptions();Cv(am,ee.stackParser,ee.maxValueLength,a,o,h,g)}}};function Fc(r,o,a,h){const g={filename:r,function:"<anonymous>"===o?Ho:o,in_app:!0};return void 0!==a&&(g.lineno=a),void 0!==h&&(g.colno=h),g}const Tm=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,gf=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ou=/\((\S*)(?::(\d+))(?::(\d+))\)/,D1=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Iv=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wv=Za([30,r=>{const o=Tm.exec(r);if(o){const[,h,g,x]=o;return Fc(h,Ho,+g,+x)}const a=gf.exec(r);if(a){if(a[2]&&0===a[2].indexOf("eval")){const ee=Ou.exec(a[2]);ee&&(a[2]=ee[1],a[3]=ee[2],a[4]=ee[3])}const[g,x]=Om(a[1]||Ho,a[2]);return Fc(x,g,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}}],[50,r=>{const o=D1.exec(r);if(o){if(o[3]&&o[3].indexOf(" > eval")>-1){const x=Iv.exec(o[3]);x&&(o[1]=o[1]||"eval",o[3]=x[1],o[4]=x[2],o[5]="")}let h=o[3],g=o[1]||Ho;return[g,h]=Om(g,h),Fc(h,g,o[4]?+o[4]:void 0,o[5]?+o[5]:void 0)}}]),Om=(r,o)=>{const a=-1!==r.indexOf("safari-extension"),h=-1!==r.indexOf("safari-web-extension");return a||h?[-1!==r.indexOf("@")?r.split("@")[0]:Ho,a?`safari-extension:${o}`:`safari-web-extension:${o}`]:[r,o]},Dl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ch={};function wm(r){const o=Ch[r];if(o)return o;let a=Ds[r];if(cc(a))return Ch[r]=a.bind(Ds);const h=Ds.document;if(h&&"function"==typeof h.createElement)try{const g=h.createElement("iframe");g.hidden=!0,h.head.appendChild(g);const x=g.contentWindow;x&&x[r]&&(a=x[r]),h.head.removeChild(g)}catch(g){Dl&&li.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,g)}return a&&(Ch[r]=a.bind(Ds))}function hd(r){Ch[r]=void 0}function pl(...r){return wm("setTimeout")(...r)}const zp=6e4;function bf(r,o,a=Date.now()){return function xm(r,o){return r[o]||r.all||0}(r,o)>a}function Am(r,{statusCode:o,headers:a},h=Date.now()){const g={...r},x=a&&a["x-sentry-rate-limits"],ee=a&&a["retry-after"];if(x)for(const me of x.trim().split(",")){const[xe,Je,,,xt]=me.split(":",5),$t=parseInt(xe,10),mn=1e3*(isNaN($t)?60:$t);if(Je)for(const En of Je.split(";"))"metric_bucket"===En?(!xt||xt.split(";").includes("custom"))&&(g[En]=h+mn):g[En]=h+mn;else g.all=h+mn}else ee?g.all=h+function xv(r,o=Date.now()){const a=parseInt(`${r}`,10);if(!isNaN(a))return 1e3*a;const h=Date.parse(`${r}`);return isNaN(h)?zp:h-o}(ee,h):429===o&&(g.all=h+6e4);return g}const Av=64;function Rm(r,o){if("event"===o||"transaction"===o)return Array.isArray(r)?r[1]:void 0}function Rv(r,o=wm("fetch")){let a=0,h=0;return function Wp(r,o,a=function O1(r){const o=[];function h(ee){return o.splice(o.indexOf(ee),1)[0]||Promise.resolve(void 0)}return{$:o,add:function g(ee){if(!function a(){return void 0===r||o.length<r}())return Mc(new Jr("Not adding Promise because buffer limit was reached."));const me=ee();return-1===o.indexOf(me)&&o.push(me),me.then(()=>h(me)).then(null,()=>h(me).then(null,()=>{})),me},drain:function x(ee){return new cl((me,xe)=>{let Je=o.length;if(!Je)return me(!0);const xt=setTimeout(()=>{ee&&ee>0&&me(!1)},ee);o.forEach($t=>{bl($t).then(()=>{--Je||(clearTimeout(xt),me(!0))},xe)})})}}}(r.bufferSize||Av)){let h={};return{send:function x(ee){const me=[];if(Tp(ee,($t,mn)=>{const En=tm(mn);if(bf(h,En)){const bn=Rm($t,mn);r.recordDroppedEvent("ratelimit_backoff",En,bn)}else me.push($t)}),0===me.length)return bl({});const xe=$d(ee[0],me),Je=$t=>{Tp(xe,(mn,En)=>{const bn=Rm(mn,En);r.recordDroppedEvent($t,tm(En),bn)})};return a.add(()=>o({body:yu(xe)}).then($t=>(void 0!==$t.statusCode&&($t.statusCode<200||$t.statusCode>=300)&&gs&&li.warn(`Sentry responded with status code ${$t.statusCode} to sent event.`),h=Am(h,$t),$t),$t=>{throw Je("network_error"),$t})).then($t=>$t,$t=>{if($t instanceof Jr)return gs&&li.error("Skipped sending event because buffer is full."),Je("queue_overflow"),bl({});throw $t})},flush:ee=>a.drain(ee)}}(r,function g(x){const ee=x.body.length;a+=ee,h++;const me={body:x.body,method:"POST",referrerPolicy:"origin",headers:r.headers,keepalive:a<=6e4&&h<15,...r.fetchOptions};if(!o)return hd("fetch"),Mc("No fetch implementation available");try{return o(r.url,me).then(xe=>(a-=ee,h--,{statusCode:xe.status,headers:{"x-sentry-rate-limits":xe.headers.get("X-Sentry-Rate-Limits"),"retry-after":xe.headers.get("Retry-After")}}))}catch(xe){return hd("fetch"),a-=ee,h--,Mc(xe)}})}function w1(r={}){const o=function Fv(r={}){const o={defaultIntegrations:[wa(),on(),ya(),b1(),_f(),yh(),Ni(),Gl()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Cs.SENTRY_RELEASE&&Cs.SENTRY_RELEASE.id?Cs.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==r.defaultIntegrations&&delete r.defaultIntegrations,{...o,...r}}(r);if(function Pv(){const r=typeof Cs.window<"u"&&Cs;if(!r)return!1;const a=r[r.chrome?"chrome":"browser"],h=a&&a.runtime&&a.runtime.id,g=Cs.location&&Cs.location.href||"",ee=!!h&&Cs===Cs.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(xe=>g.startsWith(`${xe}//`));return!(!h||ee||typeof r.nw<"u")}())return void ga(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});Cl&&(xa()||li.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const a={...o,stackParser:Yc(o.stackParser||wv),integrations:gp(o),transport:o.transport||Rv},h=function el(r,o){!0===o.debug&&(gs?li.enable():ga(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),In().update(o.initialScope);const h=new r(o);return function lc(r){In().setClient(r)}(h),h.init(),h}(um,a);return o.autoSessionTracking&&function A1(){typeof Cs.document>"u"?Cl&&li.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):(ef({ignoreDuration:!0}),nf(),fh(({from:r,to:o})=>{void 0!==r&&r!==o&&(ef({ignoreDuration:!0}),nf())}))}(),h}function Lv(r={}){if(!Cs.document)return void(Cl&&li.error("Global document not defined in showReportDialog call"));const o=In(),a=o.getClient(),h=a&&a.getDsn();if(!h)return void(Cl&&li.error("DSN not configured for showReportDialog call"));if(o&&(r.user={...o.getUser(),...r.user}),!r.eventId){const me=function oh(){return Tn().lastEventId()}();me&&(r.eventId=me)}const g=Cs.document.createElement("script");g.async=!0,g.crossOrigin="anonymous",g.src=function $y(r,o){const a=J_(r);if(!a)return"";const h=`${Ul(a)}embed/error-page/`;let g=`dsn=${Fs(a)}`;for(const x in o)if("dsn"!==x&&"onClose"!==x)if("user"===x){const ee=o.user;if(!ee)continue;ee.name&&(g+=`&name=${encodeURIComponent(ee.name)}`),ee.email&&(g+=`&email=${encodeURIComponent(ee.email)}`)}else g+=`&${encodeURIComponent(x)}=${encodeURIComponent(o[x])}`;return`${h}?${g}`}(h,r),r.onLoad&&(g.onload=r.onLoad);const{onClose:x}=r;if(x){const me=xe=>{if("__sentry_reportdialog_closed__"===xe.data)try{x()}finally{Cs.removeEventListener("message",me)}};Cs.addEventListener("message",me)}const ee=Cs.document.head||Cs.document.body;ee?ee.appendChild(g):Cl&&li.error("Not injecting report dialog. No injection point found in HTML")}function Wd(r){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const o=gi(),a=r||o&&o.getOptions();return!!a&&(a.enableTracing||"tracesSampleRate"in a||"tracesSampler"in a)}class wu{constructor(o={}){this._traceId=o.traceId||Mo(),this._spanId=o.spanId||Mo().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(o){}setAttribute(o,a){return this}setAttributes(o){return this}setStatus(o){return this}updateName(o){return this}isRecording(){return!1}addEvent(o,a,h){return this}addLink(o){return this}addLinks(o){return this}recordException(o,a){}}function Nv(r){if(!r||0===r.length)return;const o={};return r.forEach(a=>{const h=a.attributes||{},g=h[Md],x=h[Ai];"string"==typeof g&&"number"==typeof x&&(o[a.name]={value:x,unit:g})}),o}const fd="_sentryScope",yf="_sentryIsolationScope";function Pm(r){return{scope:r[fd],isolationScope:r[yf]}}class Bv{constructor(o={}){this._traceId=o.traceId||Mo(),this._spanId=o.spanId||Mo().substring(16),this._startTime=o.startTimestamp||Wr(),this._attributes={},this.setAttributes({[jo]:"manual",[qa]:o.op,...o.attributes}),this._name=o.name,o.parentSpanId&&(this._parentSpanId=o.parentSpanId),"sampled"in o&&(this._sampled=o.sampled),o.endTimestamp&&(this._endTime=o.endTimestamp),this._events=[],this._isStandaloneSpan=o.isStandalone,this._endTime&&this._onSpanEnded()}addLink(o){return this}addLinks(o){return this}recordException(o,a){}spanContext(){const{_spanId:o,_traceId:a,_sampled:h}=this;return{spanId:o,traceId:a,traceFlags:h?Fr:0}}setAttribute(o,a){return void 0===a?delete this._attributes[o]:this._attributes[o]=a,this}setAttributes(o){return Object.keys(o).forEach(a=>this.setAttribute(a,o[a])),this}updateStartTime(o){this._startTime=aa(o)}setStatus(o){return this._status=o,this}updateName(o){return this._name=o,this}end(o){this._endTime||(this._endTime=aa(o),function kT(r){if(!gs)return;const{description:o="< unknown name >",op:a="< unknown op >"}=js(r),{spanId:h}=r.spanContext(),x=gr(r)===r;li.log(`[Tracing] Finishing "${a}" ${x?"root ":""}span "${o}" with ID ${h}`)}(this),this._onSpanEnded())}getSpanJSON(){return bo({data:this._attributes,description:this._name,op:this._attributes[qa],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:td(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[jo],_metrics_summary:ac(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[Yh],measurements:Nv(this._events),is_segment:this._isStandaloneSpan&&gr(this)===this||void 0,segment_id:this._isStandaloneSpan?gr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(o,a,h){gs&&li.log("[Tracing] Adding an event to span:",o);const g=Xp(a)?a:h||Wr(),x=Xp(a)?{}:a||{},ee={name:o,time:aa(g),attributes:x};return this._events.push(ee),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const o=gi();if(o&&o.emit("spanEnd",this),!this._isStandaloneSpan&&this!==gr(this))return;if(this._isStandaloneSpan)return void(this._sampled?function P1(r){const o=gi();if(!o)return;const a=r[1];if(!a||0===a.length)return void o.recordDroppedEvent("before_send","span");const h=o.getTransport();h&&h.send(r).then(null,g=>{gs&&li.error("Error while sending span:",g)})}(function im(r,o){const h=$l(r[0]),g=o&&o.getDsn(),x=o&&o.getOptions().tunnel,ee={sent_at:(new Date).toISOString(),...function a(xt){return!!xt.trace_id&&!!xt.public_key}(h)&&{trace:h},...!!x&&g&&{dsn:Fs(g)}},me=o&&o.getOptions().beforeSendSpan,xe=me?xt=>me(js(xt)):xt=>js(xt),Je=[];for(const xt of r){const $t=xe(xt);$t&&Je.push(u1($t))}return $d(ee,Je)}([this],o)):(gs&&li.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),o&&o.recordDroppedEvent("sample_rate","span")));const h=this._convertSpanToTransaction();h&&(Pm(this).scope||In()).captureEvent(h)}_convertSpanToTransaction(){if(!$v(js(this)))return;this._name||(gs&&li.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:o,isolationScope:a}=Pm(this),g=(o||In()).getClient()||gi();if(!0!==this._sampled)return gs&&li.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(g&&g.recordDroppedEvent("sample_rate","transaction"));const ee=ba(this).filter($t=>$t!==this&&!function Jy(r){return r instanceof Bv&&r.isStandaloneSpan()}($t)).map($t=>js($t)).filter($v),me=this._attributes[Rr],xe={contexts:{trace:fu(this)},spans:ee.length>1e3?ee.sort(($t,mn)=>$t.start_timestamp-mn.start_timestamp).slice(0,1e3):ee,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:o,capturedSpanIsolationScope:a,...bo({dynamicSamplingContext:$l(this)})},_metrics_summary:ac(this),...me&&{transaction_info:{source:me}}},Je=Nv(this._events);return Je&&Object.keys(Je).length&&(gs&&li.log("[Measurements] Adding measurements to transaction event",JSON.stringify(Je,void 0,2)),xe.measurements=Je),xe}}function Xp(r){return r&&"number"==typeof r||r instanceof Date||Array.isArray(r)}function $v(r){return!!(r.start_timestamp&&r.timestamp&&r.span_id&&r.trace_id)}const L1="__SENTRY_SUPPRESS_TRACING__";function pd(r){const o=hc();if(o.startInactiveSpan)return o.startInactiveSpan(r);const a=function xu(r){const a={isStandalone:(r.experimental||{}).standalone,...r};if(r.startTime){const h={...a};return h.startTimestamp=aa(r.startTime),delete h.startTime,h}return a}(r),{forceTransaction:h,parentSpan:g}=r;return(r.scope?ee=>oi(r.scope,ee):void 0!==g?ee=>Xd(g,ee):ee=>ee())(()=>{const ee=In(),me=function Th(r){const o=du(r);if(!o)return;const a=gi();return(a?a.getOptions():{}).parentSpanIsAlwaysRootSpan?gr(o):o}(ee);return r.onlyIfParent&&!me?new wu:function Qp({parentSpan:r,spanArguments:o,forceTransaction:a,scope:h}){if(!Wd())return new wu;const g=Tn();let x;if(r&&!a)x=function Uv(r,o,a){const{spanId:h,traceId:g}=r.spanContext(),x=!o.getScopeData().sdkProcessingMetadata[L1]&&io(r),ee=x?new Bv({...a,parentSpanId:h,traceId:g,sampled:x}):new wu({traceId:g});Od(r,ee);const me=gi();return me&&(me.emit("spanStart",ee),a.endTimestamp&&me.emit("spanEnd",ee)),ee}(r,h,o),Od(r,x);else if(r){const ee=$l(r),{traceId:me,spanId:xe}=r.spanContext(),Je=io(r);x=Hd({traceId:me,parentSpanId:xe,...o},h,Je),pu(x,ee)}else{const{traceId:ee,dsc:me,parentSpanId:xe,sampled:Je}={...g.getPropagationContext(),...h.getPropagationContext()};x=Hd({traceId:ee,parentSpanId:xe,...o},h,Je),me&&pu(x,me)}return function km(r){if(!gs)return;const{description:o="< unknown name >",op:a="< unknown op >",parent_span_id:h}=js(r),{spanId:g}=r.spanContext(),x=io(r),ee=gr(r),me=ee===r,xe=`[Tracing] Starting ${x?"sampled":"unsampled"} ${me?"root ":""}span`,Je=[`op: ${a}`,`name: ${o}`,`ID: ${g}`];if(h&&Je.push(`parent ID: ${h}`),!me){const{op:xt,description:$t}=js(ee);Je.push(`root ID: ${ee.spanContext().spanId}`),xt&&Je.push(`root op: ${xt}`),$t&&Je.push(`root description: ${$t}`)}li.log(`${xe}\n  ${Je.join("\n  ")}`)}(x),function F1(r,o,a){r&&(La(r,yf,a),La(r,fd,o))}(x,h,g),x}({parentSpan:me,spanArguments:a,forceTransaction:h,scope:ee})})}function Xd(r,o){const a=hc();return a.withActiveSpan?a.withActiveSpan(r,o):oi(h=>(mr(h,r||void 0),o(h)))}function hc(){return Qt(fn())}function Hd(r,o,a){const h=gi(),g=h&&h.getOptions()||{},{name:x="",attributes:ee}=r,[me,xe]=o.getScopeData().sdkProcessingMetadata[L1]?[!1]:function k1(r,o){if(!Wd(r))return[!1];let a;a="function"==typeof r.tracesSampler?r.tracesSampler(o):void 0!==o.parentSampled?o.parentSampled:typeof r.tracesSampleRate<"u"?r.tracesSampleRate:1;const h=cf(a);return void 0===h?(gs&&li.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):h?Math.random()<h?[!0,h]:(gs&&li.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[!1,h]):(gs&&li.log("[Tracing] Discarding transaction because "+("function"==typeof r.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,h])}(g,{name:x,parentSampled:a,attributes:ee,transactionContext:{name:x,parentSampled:a}}),Je=new Bv({...r,attributes:{[Rr]:"custom",...r.attributes},sampled:me});return void 0!==xe&&Je.setAttribute(qc,xe),h&&h.emit("spanStart",Je),Je}function Ba(r){let o,a=r[0],h=1;for(;h<r.length;){const g=r[h],x=r[h+1];if(h+=2,("optionalAccess"===g||"optionalCall"===g)&&null==a)return;"access"===g||"optionalAccess"===g?(o=a,a=x(a)):("call"===g||"optionalCall"===g)&&(a=x((...ee)=>a.call(o,...ee)),o=void 0)}return a}const Yd=(r,o,a,h)=>{let g,x;return ee=>{o.value>=0&&(ee||h)&&(x=o.value-(g||0),(x||void 0===g)&&(g=o.value,o.delta=x,o.rating=((r,o)=>r>o[1]?"poor":r>o[0]?"needs-improvement":"good")(o.value,a),r(o)))}},Sf=()=>Ds.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Sh=()=>{const r=Sf();return r&&r.activationStart||0},Mf=(r,o)=>{const a=Sf();let h="navigate";return a&&(Ds.document&&Ds.document.prerendering||Sh()>0?h="prerender":Ds.document&&Ds.document.wasDiscarded?h="restore":a.type&&(h=a.type.replace(/_/g,"-"))),{name:r,value:typeof o>"u"?-1:o,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:h}},Au=(r,o,a)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(r)){const h=new PerformanceObserver(g=>{Promise.resolve().then(()=>{o(g.getEntries())})});return h.observe(Object.assign({type:r,buffered:!0},a||{})),h}}catch{}},Qd=r=>{const o=a=>{("pagehide"===a.type||Ds.document&&"hidden"===Ds.document.visibilityState)&&r(a)};Ds.document&&(addEventListener("visibilitychange",o,!0),addEventListener("pagehide",o,!0))},Lm=r=>{let o=!1;return a=>{o||(r(a),o=!0)}};let Df=-1;const Kl=r=>{"hidden"===Ds.document.visibilityState&&Df>-1&&(Df="visibilitychange"===r.type?r.timeStamp:0,removeEventListener("visibilitychange",Kl,!0),removeEventListener("prerenderingchange",Kl,!0))},_d=()=>(Ds.document&&Df<0&&(Df="hidden"!==Ds.document.visibilityState||Ds.document.prerendering?1/0:0,addEventListener("visibilitychange",Kl,!0),addEventListener("prerenderingchange",Kl,!0)),{get firstHiddenTime(){return Df}}),Of=r=>{Ds.document&&Ds.document.prerendering?addEventListener("prerenderingchange",()=>r(),!0):r()},N1=[1800,3e3],fc=[.1,.25],Zd=(r,o={})=>{((r,o={})=>{Of(()=>{const a=_d(),h=Mf("FCP");let g;const ee=Au("paint",me=>{me.forEach(xe=>{"first-contentful-paint"===xe.name&&(ee.disconnect(),xe.startTime<a.firstHiddenTime&&(h.value=Math.max(xe.startTime-Sh(),0),h.entries.push(xe),g(!0)))})});ee&&(g=Yd(r,h,N1,o.reportAllChanges))})})(Lm(()=>{const a=Mf("CLS",0);let h,g=0,x=[];const ee=xe=>{xe.forEach(Je=>{if(!Je.hadRecentInput){const xt=x[0],$t=x[x.length-1];g&&xt&&$t&&Je.startTime-$t.startTime<1e3&&Je.startTime-xt.startTime<5e3?(g+=Je.value,x.push(Je)):(g=Je.value,x=[Je])}}),g>a.value&&(a.value=g,a.entries=x,h())},me=Au("layout-shift",ee);me&&(h=Yd(r,a,fc,o.reportAllChanges),Qd(()=>{ee(me.takeRecords()),h(!0)}),setTimeout(h,0))}))},Mh=[100,300],wf=(r,o={})=>{Of(()=>{const a=_d(),h=Mf("FID");let g;const x=xe=>{xe.startTime<a.firstHiddenTime&&(h.value=xe.processingStart-xe.startTime,h.entries.push(xe),g(!0))},ee=xe=>{xe.forEach(x)},me=Au("first-input",ee);g=Yd(r,h,Mh,o.reportAllChanges),me&&Qd(Lm(()=>{ee(me.takeRecords()),me.disconnect()}))})};let Nm=0,Bm=1/0,Dh=0;const Zp=r=>{r.forEach(o=>{o.interactionId&&(Bm=Math.min(Bm,o.interactionId),Dh=Math.max(Dh,o.interactionId),Nm=Dh?(Dh-Bm)/7+1:0)})};let xf;const qp=[200,500],$m=()=>(xf?Nm:performance.interactionCount||0)-0,zl=[],Af={},Um=r=>{const o=zl[zl.length-1],a=Af[r.interactionId];if(a||zl.length<10||o&&r.duration>o.latency){if(a)a.entries.push(r),a.latency=Math.max(a.latency,r.duration);else{const h={id:r.interactionId,latency:r.duration,entries:[r]};Af[h.id]=h,zl.push(h)}zl.sort((h,g)=>g.latency-h.latency),zl.splice(10).forEach(h=>{delete Af[h.id]})}},t_=(r,o={})=>{Of(()=>{"interactionCount"in performance||xf||(xf=Au("event",Zp,{type:"event",buffered:!0,durationThreshold:0}));const a=Mf("INP");let h;const g=ee=>{ee.forEach(xe=>{xe.interactionId&&Um(xe),"first-input"===xe.entryType&&!zl.some(xt=>xt.entries.some($t=>xe.duration===$t.duration&&xe.startTime===$t.startTime))&&Um(xe)});const me=(()=>{const r=Math.min(zl.length-1,Math.floor($m()/50));return zl[r]})();me&&me.latency!==a.value&&(a.value=me.latency,a.entries=me.entries,h())},x=Au("event",g,{durationThreshold:null!=o.durationThreshold?o.durationThreshold:40});h=Yd(r,a,qp,o.reportAllChanges),x&&("PerformanceEventTiming"in Ds&&"interactionId"in PerformanceEventTiming.prototype&&x.observe({type:"first-input",buffered:!0}),Qd(()=>{g(x.takeRecords()),a.value<0&&$m()>0&&(a.value=0,a.entries=[]),h(!0)}))})},Rf=[2500,4e3],B1={},Zy=(r,o={})=>{Of(()=>{const a=_d(),h=Mf("LCP");let g;const x=me=>{const xe=me[me.length-1];xe&&xe.startTime<a.firstHiddenTime&&(h.value=Math.max(xe.startTime-Sh(),0),h.entries=[xe],g())},ee=Au("largest-contentful-paint",x);if(ee){g=Yd(r,h,Rf,o.reportAllChanges);const me=Lm(()=>{B1[h.id]||(x(ee.takeRecords()),ee.disconnect(),B1[h.id]=!0,g(!0))});["keydown","click"].forEach(xe=>{Ds.document&&addEventListener(xe,()=>setTimeout(me,0),!0)}),Qd(me)}})},LT=[800,1800],kf=r=>{Ds.document&&Ds.document.prerendering?Of(()=>kf(r)):Ds.document&&"complete"!==Ds.document.readyState?addEventListener("load",()=>kf(r),!0):setTimeout(r,0)},Kv=(r,o={})=>{const a=Mf("TTFB"),h=Yd(r,a,LT,o.reportAllChanges);kf(()=>{const g=Sf();if(g){const x=g.responseStart;if(x<=0||x>performance.now())return;a.value=Math.max(x-Sh(),0),a.entries=[g],h(!0)}})},Ff={},n_={};let zv,ku,$1,j1,U1;function Wv(r,o=!1){return $f("cls",r,qy,zv,o)}function V1(r,o=!1){return $f("lcp",r,tE,$1,o)}function md(r){return $f("fid",r,eE,ku)}function G1(r){return $f("inp",r,Bf,U1)}function Lf(r,o){return Vm(r,o),n_[r]||(function Xv(r){const o={};"event"===r&&(o.durationThreshold=0),Au(r,a=>{Nf(r,{entries:a})},o)}(r),n_[r]=!0),jf(r,o)}function Nf(r,o){const a=Ff[r];if(a&&a.length)for(const h of a)try{h(o)}catch(g){Dl&&li.error(`Error while triggering instrumentation handler.\nType: ${r}\nName: ${ll(h)}\nError:`,g)}}function qy(){return Zd(r=>{Nf("cls",{metric:r}),zv=r},{reportAllChanges:!0})}function eE(){return wf(r=>{Nf("fid",{metric:r}),ku=r})}function tE(){return Zy(r=>{Nf("lcp",{metric:r}),$1=r},{reportAllChanges:!0})}function K1(){return Kv(r=>{Nf("ttfb",{metric:r}),j1=r})}function Bf(){return t_(r=>{Nf("inp",{metric:r}),U1=r})}function $f(r,o,a,h,g=!1){let x;return Vm(r,o),n_[r]||(x=a(),n_[r]=!0),h&&o({metric:h}),jf(r,o,g?x:void 0)}function Vm(r,o){Ff[r]=Ff[r]||[],Ff[r].push(o)}function jf(r,o,a){return()=>{a&&a();const h=Ff[r];if(!h)return;const g=h.indexOf(o);-1!==g&&h.splice(g,1)}}function Fu(r){return"number"==typeof r&&isFinite(r)}function qd(r,o,a,{...h}){const g=js(r).start_timestamp;return g&&g>o&&"function"==typeof r.updateStartTime&&r.updateStartTime(o),Xd(r,()=>{const x=pd({startTime:o,...h});return x&&x.end(a),x})}function Gm(r){const o=gi();if(!o)return;const{name:a,transaction:h,attributes:g,startTime:x}=r,{release:ee,environment:me}=o.getOptions(),xe=o.getIntegrationByName("Replay"),Je=xe&&xe.getReplayId(),xt=In(),$t=xt.getUser(),mn=void 0!==$t?$t.email||$t.id||$t.ip_address:void 0;let En;try{En=xt.getScopeData().contexts.profile.profile_id}catch{}return pd({name:a,attributes:{release:ee,environment:me,user:mn||void 0,profile_id:En||void 0,replay_id:Je||void 0,transaction:h,"user_agent.original":Ds.navigator&&Ds.navigator.userAgent,...g},startTime:x,experimental:{standalone:!0}})}function Uf(){return Ds&&Ds.addEventListener&&Ds.performance}function Br(r){return r/1e3}const zm=2147483647;let pc,gd,W1=0,$a={};function Hv({recordClsStandaloneSpans:r}){const o=Uf();if(o&&Xr){o.mark&&Ds.performance.mark("sentry-tracing-init");const a=function Y1(){return md(({metric:r})=>{const o=r.entries[r.entries.length-1];if(!o)return;const a=Br(Xr),h=Br(o.startTime);Dl&&li.log("[Measurements] Adding FID"),$a.fid={value:r.value,unit:"millisecond"},$a["mark.fid"]={value:a+h,unit:"second"}})}(),h=function Wm(){return V1(({metric:r})=>{const o=r.entries[r.entries.length-1];o&&(Dl&&li.log("[Measurements] Adding LCP"),$a.lcp={value:r.value,unit:"millisecond"},pc=o)},!0)}(),g=function Q1(){return function Pf(r){return $f("ttfb",r,K1,j1)}(({metric:r})=>{r.entries[r.entries.length-1]&&(Dl&&li.log("[Measurements] Adding TTFB"),$a.ttfb={value:r.value,unit:"millisecond"})})}(),x=r?function nE(){let o,a,r=0;if(!function Km(){try{return Ba([PerformanceObserver,"access",r=>r.supportedEntryTypes,"optionalAccess",r=>r.includes,"call",r=>r("layout-shift")])}catch{return!1}}())return;let h=!1;function g(){h||(h=!0,a&&function z1(r,o,a){Dl&&li.log(`Sending CLS span (${r})`);const h=Br(Xr)+(Ba([o,"optionalAccess",Je=>Je.startTime])||0),g=Br(Ba([o,"optionalAccess",Je=>Je.duration])||0),x=In().getScopeData().transactionName,xe=Gm({name:o?Ln(Ba([o,"access",Je=>Je.sources,"access",Je=>Je[0],"optionalAccess",Je=>Je.node])):"Layout shift",transaction:x,attributes:bo({[jo]:"auto.http.browser.cls",[qa]:"ui.webvital.cls",[Yh]:Ba([o,"optionalAccess",Je=>Je.duration])||0,"sentry.pageload.span_id":a}),startTime:h});Ba([xe,"optionalAccess",Je=>Je.addEvent,"call",Je=>Je("cls",{[Md]:"",[Ai]:r})]),Ba([xe,"optionalAccess",Je=>Je.end,"call",Je=>Je(h+g)])}(r,o,a),x())}const x=Wv(({metric:ee})=>{const me=ee.entries[ee.entries.length-1];me&&(r=ee.value,o=me)},!0);Qd(()=>{g()}),setTimeout(()=>{const me=Ba([gi(),"optionalAccess",$t=>$t.on,"call",$t=>$t("startNavigationSpan",()=>{g(),me&&me()})]),xe=_o(),Je=xe&&gr(xe),xt=Je&&js(Je);xt&&"pageload"===xt.op&&(a=Je.spanContext().spanId)},0)}():function Yv(){return Wv(({metric:r})=>{const o=r.entries[r.entries.length-1];o&&(Dl&&li.log(`[Measurements] Adding CLS ${r.value}`),$a.cls={value:r.value,unit:""},gd=o)},!0)}();return()=>{a(),h(),g(),x&&x()}}return()=>{}}function Ih(r,o,a,h,g,x){const ee=x?o[x]:o[`${a}End`],me=o[`${a}Start`];!me||!ee||qd(r,h+Br(me),h+Br(ee),{op:"browser",name:g||a,attributes:{[jo]:"auto.ui.browser.metrics"}})}function Pu(r,o,a,h){const g=o[a];null!=g&&g<zm&&(r[h]=g)}const Oh=[],s_=new Map;const Zv={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},Ym={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function Qm(r,o={}){const a=new Map;let g,h=!1,x="externalFinish",ee=!o.disableAutoFinish;const me=[],{idleTimeout:xe=Ym.idleTimeout,finalTimeout:Je=Ym.finalTimeout,childSpanTimeout:xt=Ym.childSpanTimeout,beforeSpanEnd:$t}=o,mn=gi();if(!mn||!Wd())return new wu;const En=In(),bn=_o(),Un=function Jm(r){const o=pd(r);return mr(In(),o),gs&&li.log("[Tracing] Started span is an idle span"),o}(r);function pi(){g&&(clearTimeout(g),g=void 0)}function _i(Ti){pi(),g=setTimeout(()=>{!h&&0===a.size&&ee&&(x="idleTimeout",Un.end(Ti))},xe)}function Bi(Ti){g=setTimeout(()=>{!h&&ee&&(x="heartbeatFailed",Un.end(Ti))},xt)}function vs(Ti){h=!0,a.clear(),me.forEach(Os=>Os()),mr(En,bn);const ei=js(Un),{start_timestamp:Vi}=ei;if(!Vi)return;(ei.data||{})[ed]||Un.setAttribute(ed,x),li.log(`[Tracing] Idle span "${ei.op}" finished`);const xi=ba(Un).filter(Os=>Os!==Un);let hs=0;xi.forEach(Os=>{Os.isRecording()&&(Os.setStatus({code:Pi,message:"cancelled"}),Os.end(Ti),gs&&li.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Os,void 0,2)));const Go=js(Os),{timestamp:Qo=0,start_timestamp:qr=0}=Go,ai=qr<=Ti,Ii=Qo-qr<=(Je+xe)/1e3;if(gs){const ws=JSON.stringify(Os,void 0,2);ai?Ii||li.log("[Tracing] Discarding span since it finished after idle span final timeout",ws):li.log("[Tracing] Discarding span since it happened after idle span was finished",ws)}(!Ii||!ai)&&(function U_(r,o){r[ul]&&r[ul].delete(o)}(Un,Os),hs++)}),hs>0&&Un.setAttribute("sentry.idle_span_discarded_spans",hs)}return Un.end=new Proxy(Un.end,{apply(Ti,ei,Vi){$t&&$t(Un);const[Zs,...xi]=Vi,Os=aa(Zs||Wr()),Go=ba(Un).filter(Ii=>Ii!==Un);if(!Go.length)return vs(Os),Reflect.apply(Ti,ei,[Os,...xi]);const Qo=Go.map(Ii=>js(Ii).timestamp).filter(Ii=>!!Ii),qr=Qo.length?Math.max(...Qo):void 0,ai=js(Un).start_timestamp,Ei=Math.min(ai?ai+Je/1e3:1/0,Math.max(ai||-1/0,Math.min(Os,qr||1/0)));return vs(Ei),Reflect.apply(Ti,ei,[Ei,...xi])}}),me.push(mn.on("spanStart",Ti=>{h||Ti===Un||js(Ti).timestamp||ba(Un).includes(Ti)&&function qi(Ti){pi(),a.set(Ti,!0),Bi(Wr()+xt/1e3)}(Ti.spanContext().spanId)})),me.push(mn.on("spanEnd",Ti=>{h||function Gi(Ti){a.has(Ti)&&a.delete(Ti),0===a.size&&_i(Wr()+xe/1e3)}(Ti.spanContext().spanId)})),me.push(mn.on("idleSpanEnableAutoFinish",Ti=>{Ti===Un&&(ee=!0,_i(),a.size&&Bi())})),o.disableAutoFinish||_i(),setTimeout(()=>{h||(Un.setStatus({code:Pi,message:"deadline_exceeded"}),x="finalTimeout",Un.end())},Je),Un}let o_=!1;function r_(){const r=_o(),o=r&&gr(r);if(o){const a="internal_error";gs&&li.log(`[Tracing] Root span: ${a} -> Global error occured`),o.setStatus({code:Pi,message:a})}}r_.tag="sentry_tracingErrorCallback";const a_=new WeakMap,tu=new Map,n0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function sE(r,o){const{traceFetch:a,traceXHR:h,shouldCreateSpanForRequest:g,enableHTTPTimings:x,tracePropagationTargets:ee}={traceFetch:n0.traceFetch,traceXHR:n0.traceXHR,...o},me="function"==typeof g?g:xt=>!0,xe=xt=>function qm(r,o){const a=Cs.location&&Cs.location.href;if(a){let h,g;try{h=new URL(r,a),g=new URL(a).origin}catch{return!1}const x=h.origin===g;return o?Ya(h.toString(),o)||x&&Ya(h.pathname,o):x}{const h=!!r.match(/^\/(?!\/)/);return o?Ya(r,o):h}}(xt,ee),Je={};a&&(r.addEventProcessor(xt=>("transaction"===xt.type&&xt.spans&&xt.spans.forEach($t=>{if("http.client"===$t.op){const mn=tu.get($t.span_id);mn&&($t.timestamp=mn/1e3,tu.delete($t.span_id))}}),xt)),function _v(r){const o="fetch-body-resolved";Bd(o,r),Rc(o,()=>Pp(Lp))}(xt=>{if(xt.response){const $t=a_.get(xt.response);$t&&xt.endTimestamp&&tu.set($t,xt.endTimestamp)}}),pm(xt=>{const $t=function sb(r,o,a,h,g="auto.http.browser"){if(!r.fetchData)return;const x=Wd()&&o(r.fetchData.url);if(r.endTimestamp&&x){const bn=r.fetchData.__span;if(!bn)return;const Un=h[bn];return void(Un&&(function t0(r,o){if(o.response){yl(r,o.response.status);const a=o.response&&o.response.headers&&o.response.headers.get("content-length");if(a){const h=parseInt(a);h>0&&r.setAttribute("http.response_content_length",h)}}else o.error&&r.setStatus({code:Pi,message:"internal_error"});r.end()}(Un,r),delete h[bn]))}const ee=In(),me=gi(),{method:xe,url:Je}=r.fetchData,xt=function iE(r){try{return new URL(r).href}catch{return}}(Je),$t=xt?Mu(xt).host:void 0,mn=!!_o(),En=x&&mn?pd({name:`${xe} ${Je}`,attributes:{url:Je,type:"fetch","http.method":xe,"http.url":xt,"server.address":$t,[jo]:g,[qa]:"http.client"}}):new wu;if(r.fetchData.__span=En.spanContext().spanId,h[En.spanContext().spanId]=En,a(r.fetchData.url)&&me){const bn=r.args[0];r.args[1]=r.args[1]||{};const Un=r.args[1];Un.headers=function Zm(r,o,a,h,g){const x=Tn(),{traceId:ee,spanId:me,sampled:xe,dsc:Je}={...x.getPropagationContext(),...a.getPropagationContext()},xt=g?Sr(g):dp(ee,me,xe),$t=Zc(Je||(g?$l(g):Pr(ee,o))),mn=h.headers||(typeof Request<"u"&&ke(r,Request)?r.headers:void 0);if(mn){if(typeof Headers<"u"&&ke(mn,Headers)){const En=new Headers(mn);return En.append("sentry-trace",xt),$t&&En.append(Jc,$t),En}if(Array.isArray(mn)){const En=[...mn,["sentry-trace",xt]];return $t&&En.push([Jc,$t]),En}{const En="baggage"in mn?mn.baggage:void 0,bn=[];return Array.isArray(En)?bn.push(...En):En&&bn.push(En),$t&&bn.push($t),{...mn,"sentry-trace":xt,baggage:bn.length>0?bn.join(","):void 0}}}return{"sentry-trace":xt,baggage:$t}}(bn,me,ee,Un,Wd()&&mn?En:void 0)}return En}(xt,me,xe,Je);if(xt.response&&xt.fetchData.__span&&a_.set(xt.response,xt.fetchData.__span),$t){const mn=d_(xt.fetchData.url),En=mn?Mu(mn).host:void 0;$t.setAttributes({"http.url":mn,"server.address":En})}x&&$t&&wh($t)})),h&&Zr(xt=>{const $t=function Xl(r,o,a,h){const g=r.xhr,x=g&&g[Vl];if(!g||g.__sentry_own_request__||!x)return;const ee=Wd()&&o(x.url);if(r.endTimestamp&&ee){const mn=g.__sentry_xhr_span_id__;if(!mn)return;const En=h[mn];return void(En&&void 0!==x.status_code&&(yl(En,x.status_code),En.end(),delete h[mn]))}const me=d_(x.url),xe=me?Mu(me).host:void 0,Je=!!_o(),xt=ee&&Je?pd({name:`${x.method} ${x.url}`,attributes:{type:"xhr","http.method":x.method,"http.url":me,url:x.url,"server.address":xe,[jo]:"auto.http.browser",[qa]:"http.client"}}):new wu;g.__sentry_xhr_span_id__=xt.spanContext().spanId,h[g.__sentry_xhr_span_id__]=xt;const $t=gi();return g.setRequestHeader&&a(x.url)&&$t&&function eg(r,o,a){const h=In(),g=Tn(),{traceId:x,spanId:ee,sampled:me,dsc:xe}={...g.getPropagationContext(),...h.getPropagationContext()};!function c_(r,o,a){try{r.setRequestHeader("sentry-trace",o),a&&r.setRequestHeader(Jc,a)}catch{}}(r,a&&Wd()?Sr(a):dp(x,ee,me),Zc(xe||(a?$l(a):Pr(x,o))))}(g,$t,Wd()&&Je?xt:void 0),xt}(xt,me,xe,Je);x&&$t&&wh($t)})}function wh(r){const{url:o}=js(r).data||{};if(!o||"string"!=typeof o)return;const a=Lf("resource",({entries:h})=>{h.forEach(g=>{(function s0(r){return"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)})(g)&&g.name.endsWith(o)&&(function l_(r){const{name:o,version:a}=function ob(r){let o="unknown",a="unknown",h="";for(const g of r){if("/"===g){[o,a]=r.split("/");break}if(!isNaN(Number(g))){o="h"===h?"http":h,a=r.split(h)[1];break}h+=g}return h===r&&(o=h),{name:o,version:a}}(r.nextHopProtocol),h=[];return h.push(["network.protocol.version",a],["network.protocol.name",o]),Xr?[...h,["http.request.redirect_start",Ol(r.redirectStart)],["http.request.fetch_start",Ol(r.fetchStart)],["http.request.domain_lookup_start",Ol(r.domainLookupStart)],["http.request.domain_lookup_end",Ol(r.domainLookupEnd)],["http.request.connect_start",Ol(r.connectStart)],["http.request.secure_connection_start",Ol(r.secureConnectionStart)],["http.request.connection_end",Ol(r.connectEnd)],["http.request.request_start",Ol(r.requestStart)],["http.request.response_start",Ol(r.responseStart)],["http.request.response_end",Ol(r.responseEnd)]]:h}(g).forEach(ee=>r.setAttribute(...ee)),setTimeout(a))})})}function Ol(r=0){return((Xr||performance.timeOrigin)+r)/1e3}function d_(r){try{return new URL(r,Cs.location.origin).href}catch{return}}const Lu={...Ym,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...n0},Hl=(r={})=>{!function e0(){o_||(o_=!0,pf(r_),$p(r_))}();const{enableInp:o,enableLongTask:a,enableLongAnimationFrame:h,_experiments:{enableInteractions:g,enableStandaloneClsSpans:x},beforeStartSpan:ee,idleTimeout:me,finalTimeout:xe,childSpanTimeout:Je,markBackgroundSpan:xt,traceFetch:$t,traceXHR:mn,shouldCreateSpanForRequest:En,enableHTTPTimings:bn,instrumentPageLoad:Un,instrumentNavigation:pi}={...Lu,...r},_i=Hv({recordClsStandaloneSpans:x||!1});o&&function q1(){if(Uf()&&Xr){const o=function Gf(){return G1(({metric:r})=>{if(null==r.value)return;const o=r.entries.find(bn=>bn.duration===r.value&&Zv[bn.name]);if(!o)return;const{interactionId:a}=o,h=Zv[o.name],g=Br(Xr+o.startTime),x=Br(r.value),ee=_o(),me=ee?gr(ee):void 0,Je=(null!=a?s_.get(a):void 0)||me,xt=Je?js(Je).description:In().getScopeData().transactionName,En=Gm({name:Ln(o.target),transaction:xt,attributes:bo({[jo]:"auto.http.browser.inp",[qa]:`ui.interaction.${h}`,[Yh]:o.duration}),startTime:g});Ba([En,"optionalAccess",bn=>bn.addEvent,"call",bn=>bn("inp",{[Md]:"millisecond",[Ai]:r.value})]),Ba([En,"optionalAccess",bn=>bn.end,"call",bn=>bn(g+x)])})}();return()=>{o()}}return()=>{}}(),h&&Dt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function Vf(){new PerformanceObserver(o=>{if(_o())for(const a of o.getEntries()){if(!a.scripts[0])continue;const h=Br(Xr+a.startTime),g=Br(a.duration),x={[jo]:"auto.ui.browser.metrics"},ee=a.scripts[0],{invoker:me,invokerType:xe,sourceURL:Je,sourceFunctionName:xt,sourceCharPosition:$t}=ee;x["browser.script.invoker"]=me,x["browser.script.invoker_type"]=xe,Je&&(x["code.filepath"]=Je),xt&&(x["code.function"]=xt),-1!==$t&&(x["browser.script.source_char_position"]=$t);const mn=pd({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:h,attributes:x});mn&&mn.end(h+g)}}).observe({type:"long-animation-frame",buffered:!0})}():a&&function X1(){Lf("longtask",({entries:r})=>{if(_o())for(const o of r){const a=Br(Xr+o.startTime),h=Br(o.duration),g=pd({name:"Main UI thread blocked",op:"ui.long-task",startTime:a,attributes:{[jo]:"auto.ui.browser.metrics"}});g&&g.end(a+h)}})}(),g&&function H1(){Lf("event",({entries:r})=>{if(_o())for(const o of r)if("click"===o.name){const a=Br(Xr+o.startTime),h=Br(o.duration),g={name:Ln(o.target),op:`ui.interaction.${o.name}`,startTime:a,attributes:{[jo]:"auto.ui.browser.metrics"}},x=Qs(o.target);x&&(g.attributes["ui.component_name"]=x);const ee=pd(g);ee&&ee.end(a+h)}})}();const Bi={name:void 0,source:void 0};function qi(Gi,vs){const Ti="pageload"===vs.op,ei=ee?ee(vs):vs,Vi=ei.attributes||{};vs.name!==ei.name&&(Vi[Rr]="custom",ei.attributes=Vi),Bi.name=ei.name,Bi.source=Vi[Rr];const Zs=Qm(ei,{idleTimeout:me,finalTimeout:xe,childSpanTimeout:Je,disableAutoFinish:Ti,beforeSpanEnd:hs=>{_i(),function Xm(r,o){const a=Uf();if(!a||!Ds.performance.getEntries||!Xr)return;Dl&&li.log("[Tracing] Adding & adjusting spans using Performance API");const h=Br(Xr),g=a.getEntries(),{op:x,start_timestamp:ee}=js(r);if(g.slice(W1).forEach(me=>{const xe=Br(me.startTime),Je=Br(Math.max(0,me.duration));if(!("navigation"===x&&ee&&h+xe<ee))switch(me.entryType){case"navigation":!function Qv(r,o,a){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(h=>{Ih(r,o,h,a)}),Ih(r,o,"secureConnection",a,"TLS/SSL","connectEnd"),Ih(r,o,"fetch",a,"cache","domainLookupStart"),Ih(r,o,"domainLookup",a,"DNS"),function J1(r,o,a){const h=a+Br(o.requestStart),g=a+Br(o.responseEnd),x=a+Br(o.responseStart);o.responseEnd&&(qd(r,h,g,{op:"browser",name:"request",attributes:{[jo]:"auto.ui.browser.metrics"}}),qd(r,x,g,{op:"browser",name:"response",attributes:{[jo]:"auto.ui.browser.metrics"}}))}(r,o,a)}(r,me,h);break;case"mark":case"paint":case"measure":{!function i_(r,o,a,h,g){const x=Sf(),ee=Br(x?x.requestStart:0),me=g+Math.max(a,ee),xe=g+a,Je=xe+h,xt={[jo]:"auto.resource.browser.metrics"};me!==xe&&(xt["sentry.browser.measure_happened_before_request"]=!0,xt["sentry.browser.measure_start_time"]=me),qd(r,me,Je,{name:o.name,op:o.entryType,attributes:xt})}(r,me,xe,Je,h);const xt=_d(),$t=me.startTime<xt.firstHiddenTime;"first-paint"===me.name&&$t&&(Dl&&li.log("[Measurements] Adding FP"),$a.fp={value:me.startTime,unit:"millisecond"}),"first-contentful-paint"===me.name&&$t&&(Dl&&li.log("[Measurements] Adding FCP"),$a.fcp={value:me.startTime,unit:"millisecond"});break}case"resource":!function eu(r,o,a,h,g,x){if("xmlhttprequest"===o.initiatorType||"fetch"===o.initiatorType)return;const ee=Mu(a),me={[jo]:"auto.resource.browser.metrics"};Pu(me,o,"transferSize","http.response_transfer_size"),Pu(me,o,"encodedBodySize","http.response_content_length"),Pu(me,o,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in o&&(me["resource.render_blocking_status"]=o.renderBlockingStatus),ee.protocol&&(me["url.scheme"]=ee.protocol.split(":").pop()),ee.host&&(me["server.address"]=ee.host),me["url.same_origin"]=a.includes(Ds.location.origin);const xe=x+h;qd(r,xe,xe+g,{name:a.replace(Ds.location.origin,""),op:o.initiatorType?`resource.${o.initiatorType}`:"resource.other",attributes:me})}(r,me,me.name,xe,Je,h)}}),W1=Math.max(g.length-1,0),function Hm(r){const o=Ds.navigator;if(!o)return;const a=o.connection;a&&(a.effectiveType&&r.setAttribute("effectiveConnectionType",a.effectiveType),a.type&&r.setAttribute("connectionType",a.type),Fu(a.rtt)&&($a["connection.rtt"]={value:a.rtt,unit:"millisecond"})),Fu(o.deviceMemory)&&r.setAttribute("deviceMemory",`${o.deviceMemory} GB`),Fu(o.hardwareConcurrency)&&r.setAttribute("hardwareConcurrency",String(o.hardwareConcurrency))}(r),"pageload"===x){!function Jv(r){const o=Sf();if(!o)return;const{responseStart:a,requestStart:h}=o;h<=a&&(Dl&&li.log("[Measurements] Adding TTFB Request Time"),r["ttfb.requestTime"]={value:a-h,unit:"millisecond"})}($a);const me=$a["mark.fid"];me&&$a.fid&&(qd(r,me.value,me.value+Br($a.fid.value),{name:"first input delay",op:"ui.action",attributes:{[jo]:"auto.ui.browser.metrics"}}),delete $a["mark.fid"]),(!("fcp"in $a)||!o.recordClsOnPageloadSpan)&&delete $a.cls,Object.entries($a).forEach(([xe,Je])=>{!function Fm(r,o,a){const h=_o(),g=h&&gr(h);g&&g.addEvent(r,{[Ai]:o,[Md]:a})}(xe,Je.value,Je.unit)}),r.setAttribute("performance.timeOrigin",h),function Z1(r){pc&&(Dl&&li.log("[Measurements] Adding LCP Data"),pc.element&&r.setAttribute("lcp.element",Ln(pc.element)),pc.id&&r.setAttribute("lcp.id",pc.id),pc.url&&r.setAttribute("lcp.url",pc.url.trim().slice(0,200)),r.setAttribute("lcp.size",pc.size)),gd&&gd.sources&&(Dl&&li.log("[Measurements] Adding CLS Data"),gd.sources.forEach((o,a)=>r.setAttribute(`cls.source.${a+1}`,Ln(o.node))))}(r)}pc=void 0,gd=void 0,$a={}}(hs,{recordClsOnPageloadSpan:!x})}});function xi(){["interactive","complete"].includes(Cs.document.readyState)&&Gi.emit("idleSpanEnableAutoFinish",Zs)}return Ti&&Cs.document&&(Cs.document.addEventListener("readystatechange",()=>{xi()}),xi()),Zs}return{name:"BrowserTracing",afterAllSetup(Gi){let vs,Ti=Cs.location&&Cs.location.href;Gi.on("startNavigationSpan",ei=>{gi()===Gi&&(vs&&!js(vs).timestamp&&(Cl&&li.log(`[Tracing] Finishing current root span with op: ${js(vs).op}`),vs.end()),vs=qi(Gi,{op:"navigation",...ei}))}),Gi.on("startPageLoadSpan",(ei,Vi={})=>{if(gi()!==Gi)return;vs&&!js(vs).timestamp&&(Cl&&li.log(`[Tracing] Finishing current root span with op: ${js(vs).op}`),vs.end());const hs=function cp(r,o){const a=function iv(r){if(!r)return;const o=r.match(nv);if(!o)return;let a;return"1"===o[3]?a=!0:"0"===o[3]&&(a=!1),{traceId:o[1],parentSampled:a,parentSpanId:o[2]}}(r),h=Sd(o),{traceId:g,parentSpanId:x,parentSampled:ee}=a||{};return a?{traceId:g||Mo(),parentSpanId:x||Mo().substring(16),spanId:Mo().substring(16),sampled:ee,dsc:h||{}}:{traceId:g||Mo(),spanId:Mo().substring(16)}}(Vi.sentryTrace||oE("sentry-trace"),Vi.baggage||oE("baggage"));In().setPropagationContext(hs),vs=qi(Gi,{op:"pageload",...ei})}),Gi.on("spanEnd",ei=>{const Vi=js(ei).op;if(ei!==gr(ei)||"navigation"!==Vi&&"pageload"!==Vi)return;const Zs=In(),xi=Zs.getPropagationContext();Zs.setPropagationContext({...xi,sampled:void 0!==xi.sampled?xi.sampled:io(ei),dsc:xi.dsc||$l(ei)})}),Cs.location&&(Un&&function _l(r,o,a){r.emit("startPageLoadSpan",o,a),In().setTransactionName(o.name);const h=_o();h&&js(h)}(Gi,{name:Cs.location.pathname,startTime:Xr?Xr/1e3:void 0,attributes:{[Rr]:"url",[jo]:"auto.pageload.browser"}}),pi&&fh(({to:ei,from:Vi})=>{void 0===Vi&&Ti&&-1!==Ti.indexOf(ei)?Ti=void 0:Vi!==ei&&(Ti=void 0,h_(Gi,{name:Cs.location.pathname,attributes:{[Rr]:"url",[jo]:"auto.navigation.browser"}}))})),xt&&function ib(){Cs&&Cs.document?Cs.document.addEventListener("visibilitychange",()=>{const r=_o();if(!r)return;const o=gr(r);if(Cs.document.hidden&&o){const a="cancelled",{op:h,status:g}=js(o);Cl&&li.log(`[Tracing] Transaction: ${a} -> since tab moved to the background, op: ${h}`),g||o.setStatus({code:Pi,message:a}),o.setAttribute("sentry.cancellation_reason","document.hidden"),o.end()}}):Cl&&li.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),g&&function rb(r,o,a,h){let g;Cs.document&&addEventListener("click",()=>{const ee="ui.action.click",me=_o(),xe=me&&gr(me);if(xe){const Je=js(xe).op;if(["navigation","pageload"].includes(Je))return void(Cl&&li.warn(`[Tracing] Did not create ${ee} span because a pageload or navigation span is in progress.`))}g&&(g.setAttribute(ed,"interactionInterrupted"),g.end(),g=void 0),h.name?g=Qm({name:h.name,op:ee,attributes:{[Rr]:h.source||"url"}},{idleTimeout:r,finalTimeout:o,childSpanTimeout:a}):Cl&&li.warn(`[Tracing] Did not create ${ee} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(me,xe,Je,Bi),o&&function qv(){const o=({entries:a})=>{const h=_o(),g=h&&gr(h);a.forEach(x=>{if(!function Wl(r){return"duration"in r}(x)||!g)return;const ee=x.interactionId;if(null!=ee&&!s_.has(ee)){if(Oh.length>10){const me=Oh.shift();s_.delete(me)}Oh.push(ee),s_.set(ee,g)}})};Lf("event",o),Lf("first-input",o)}(),sE(Gi,{traceFetch:$t,traceXHR:mn,tracePropagationTargets:Gi.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:En,enableHTTPTimings:bn})}}};function h_(r,o){Tn().setPropagationContext(vl()),In().setPropagationContext(vl()),r.emit("startNavigationSpan",o),In().setTransactionName(o.name);const a=_o();return"navigation"===(a&&js(a).op)?a:void 0}function oE(r){const o=function Es(r){return tn.document&&tn.document.querySelector?tn.document.querySelector(r):null}(`meta[name=${r}]`);return o?o.getAttribute("content"):void 0}var rE=l(4337);const ab=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;const nu=typeof Zone<"u"&&Zone.root&&Zone.root.run;function _c(r){return nu?Zone.root.run(r):r()}function Nu(r){if(r instanceof Error)return!0;if(null===r||"object"!=typeof r)return!1;const o=r;return cs(o.name)&&cs(o.message)&&(void 0===o.stack||cs(o.stack))}let r0,sg=(()=>{class r{constructor(a){this._options={logErrors:!0,...a}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(a){const h=this._extractError(a)||"Handled unknown error",g=_c(()=>kd(h,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(h),this._options.showDialog){const x=gi();x&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=x.on("afterSendEvent",ee=>{!ee.type&&ee.event_id&&_c(()=>{Lv({...this._options.dialogOptions,eventId:ee.event_id})})}):x||_c(()=>{Lv({...this._options.dialogOptions,eventId:g})})}}_extractError(a){if(this._options.extractor){const h=this._defaultExtractor.bind(this);return this._options.extractor(a,h)}return this._defaultExtractor(a)}_defaultExtractor(a){const h=function ig(r){return r&&r.ngOriginalError?r.ngOriginalError:r}(a);return h instanceof sl.yz?function lb(r){return Nu(r.error)?r.error:typeof ErrorEvent<"u"&&r.error instanceof ErrorEvent&&r.error.message?r.error.message:"string"==typeof r.error?`Server returned code ${r.status} with body "${r.error}"`:r.message}(h):"string"==typeof h||Nu(h)?h:null}}return r.\u0275fac=function(a){return new(a||r)(n.KVO("errorHandlerOptions"))},r.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function o0(r){return new sg(r)}function a0(r={}){return!1!==r.instrumentNavigation&&(r0=!0),Hl({...r,instrumentNavigation:!1})}let l0=(()=>{class r{constructor(a){this._router=a,this.navStart$=this._router.events.pipe((0,ia.p)(h=>h instanceof Oo.Z),(0,wr.M)(h=>{if(!r0)return void(ab&&li.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const g=gi(),x=function Uy(r){return r.split(/[?#]/,1)[0]}(h.url);return g?(this._isPageloadOngoing()?this._pageloadOngoing=!1:_c(()=>{h_(g,{name:x,attributes:{[jo]:"auto.navigation.angular",[Rr]:"url"}})}),void(this._routingSpan=_c(()=>pd({name:`${h.url}`,op:"ui.angular.routing",attributes:{[jo]:"auto.ui.angular",[Rr]:"url",url:x,...h.navigationTrigger&&{navigationTrigger:h.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,ia.p)(h=>h instanceof Oo.gx),(0,wr.M)(h=>{const g=function d0(r){const o=[];let a=r&&r.firstChild;for(;a;){const g=a&&a.routeConfig&&a.routeConfig.path;if(null==g)break;o.push(g),a=a.firstChild}const h=o.filter(g=>g).join("/");return h?`/${h}/`:"/"}(h.state.root);g&&In().setTransactionName(g);const x=_o();!function db(r,o){const a=o&&js(o).data||{};o&&"url"===a[Rr]&&(o.updateName(r),o.setAttribute(Rr,"route"),o.setAttribute(jo,`auto.${js(o).op}.angular`))}(g,x&&gr(x))})),this.navEnd$=this._router.events.pipe((0,ia.p)(h=>h instanceof Oo.wF||h instanceof Oo.j5||h instanceof Oo.L6),(0,wr.M)(()=>{this._routingSpan&&(_c(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new rE.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const a=_o();if(!a)return this._pageloadOngoing=!1,!1;const h=gr(a);return this._pageloadOngoing="pageload"===js(h).op,this._pageloadOngoing}}return r.\u0275fac=function(a){return new(a||r)(n.KVO(Oo.Ix))},r.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function lg(r){return"/"===r[r.length-1]?r.slice(0,-1):r}function m_(){return typeof window<"u"&&(!function f0(){return!function uv(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function Wf(){return void 0!==Dt.process&&"renderer"===Dt.process.type}())}const Vo=Dt,Xf="sentryReplaySession",p0="replay_event",xh="Unable to send Replay",g_=5e3,v_=3,ug=15e4,b_=5e3,y=2e7,B=36e5;function ge(r,o){return r??o()}function $e(r){let o,a=r[0],h=1;for(;h<r.length;){const g=r[h],x=r[h+1];if(h+=2,("optionalAccess"===g||"optionalCall"===g)&&null==a)return;"access"===g||"optionalAccess"===g?(o=a,a=x(a)):("call"===g||"optionalCall"===g)&&(a=x((...ee)=>a.call(o,...ee)),o=void 0)}return a}var Et=function(r){return r[r.Document=0]="Document",r[r.DocumentType=1]="DocumentType",r[r.Element=2]="Element",r[r.Text=3]="Text",r[r.CDATA=4]="CDATA",r[r.Comment=5]="Comment",r}(Et||{});function Cn(r){const o=$e([r,"optionalAccess",a=>a.host]);return $e([o,"optionalAccess",a=>a.shadowRoot])===r}function zn(r){return"[object ShadowRoot]"===Object.prototype.toString.call(r)}function is(r){try{const o=r.rules||r.cssRules;return o?function ni(r){return r.includes(" background-clip: text;")&&!r.includes(" -webkit-background-clip: text;")&&(r=r.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),r}(Array.from(o,us).join("")):null}catch{return null}}function us(r){let o;if(function mo(r){return"styleSheet"in r}(r))try{o=is(r.styleSheet)||function Fi(r){const{cssText:o}=r;if(o.split('"').length<3)return o;const a=["@import",`url(${JSON.stringify(r.href)})`];return""===r.layerName?a.push("layer"):r.layerName&&a.push(`layer(${r.layerName})`),r.supportsText&&a.push(`supports(${r.supportsText})`),r.media.length&&a.push(r.media.mediaText),a.join(" ")+";"}(r)}catch{}else if(function ms(r){return"selectorText"in r}(r)&&r.selectorText.includes(":"))return function Vs(r){return r.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(r.cssText);return o||r.cssText}class br{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(o){return o?ge($e([this,"access",h=>h.getMeta,"call",h=>h(o),"optionalAccess",h=>h.id]),()=>-1):-1}getNode(o){return this.idNodeMap.get(o)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(o){return this.nodeMetaMap.get(o)||null}removeNodeFromMap(o){const a=this.getId(o);this.idNodeMap.delete(a),o.childNodes&&o.childNodes.forEach(h=>this.removeNodeFromMap(h))}has(o){return this.idNodeMap.has(o)}hasNode(o){return this.nodeMetaMap.has(o)}add(o,a){this.idNodeMap.set(a.id,o),this.nodeMetaMap.set(o,a)}replace(o,a){const h=this.getNode(o);if(h){const g=this.nodeMetaMap.get(h);g&&this.nodeMetaMap.set(a,g)}this.idNodeMap.set(o,a)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function vd({maskInputOptions:r,tagName:o,type:a}){return"OPTION"===o&&(o="SELECT"),!!(r[o.toLowerCase()]||a&&r[a]||"password"===a||"INPUT"===o&&!a&&r.text)}function iu({isMasked:r,element:o,value:a,maskInputFn:h}){let g=a||"";return r?(h&&(g=h(g,o)),"*".repeat(g.length)):g}function y_(r){return r.toLowerCase()}function fb(r){return r.toUpperCase()}const pb="__rrweb_original__";function _b(r){const o=r.type;return r.hasAttribute("data-rr-is-password")?"password":o?y_(o):null}function m0(r,o,a){return"INPUT"!==o||"radio"!==a&&"checkbox"!==a?r.value:r.getAttribute("value")||""}function cE(r,o){let a;try{a=new URL(r,ge(o,()=>window.location.href))}catch{return null}return ge($e([a.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",x=>x[1]]),()=>null)}const mb={};function gb(r){const o=mb[r];if(o)return o;const a=window.document;let h=window[r];if(a&&"function"==typeof a.createElement)try{const g=a.createElement("iframe");g.hidden=!0,a.head.appendChild(g);const x=g.contentWindow;x&&x[r]&&(h=x[r]),a.head.removeChild(g)}catch{}return mb[r]=h.bind(window)}function vb(...r){return gb("setTimeout")(...r)}function dE(...r){return gb("clearTimeout")(...r)}let Yl=1;const BT=new RegExp("[^a-z0-9-_:]"),fg=-2;function uE(){return Yl++}let E_,fE;const $T=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,pE=/^(?:[a-z+]+:)?\/\//i,jT=/^www\..*/i,UT=/^(data:)([^,]*),(.*)/i;function C_(r,o){return(r||"").replace($T,(a,h,g,x,ee,me)=>{const xe=g||ee||me,Je=h||x||"";if(!xe)return a;if(pE.test(xe)||jT.test(xe))return`url(${Je}${xe}${Je})`;if(UT.test(xe))return`url(${Je}${xe}${Je})`;if("/"===xe[0])return`url(${Je}${function hE(r){let o="";return o=r.indexOf("//")>-1?r.split("/").slice(0,3).join("/"):r.split("/")[0],o=o.split("?")[0],o}(o)+xe}${Je})`;const xt=o.split("/"),$t=xe.split("/");xt.pop();for(const mn of $t)"."!==mn&&(".."===mn?xt.pop():xt.push(mn));return`url(${Je}${xt.join("/")}${Je})`})}const VT=/^[^ \t\n\r\u000c]+/,GT=/^[, \t\n\r\u000c]+/;function T_(r,o){if(!o||""===o.trim())return o;const a=r.createElement("a");return a.href=o,a.href}function zT(r){return!("svg"!==r.tagName&&!r.ownerSVGElement)}function Pc(){const r=document.createElement("a");return r.href="",r.href}function g0(r,o,a,h,g,x){return h&&("src"===a||"href"===a&&("use"!==o||"#"!==h[0])||"xlink:href"===a&&"#"!==h[0]||"background"===a&&("table"===o||"td"===o||"th"===o)?T_(r,h):"srcset"===a?function KT(r,o){if(""===o.trim())return o;let a=0;function h(x){let ee;const me=x.exec(o.substring(a));return me?(ee=me[0],a+=ee.length,ee):""}const g=[];for(;h(GT),!(a>=o.length);){let x=h(VT);if(","===x.slice(-1))x=T_(r,x.substring(0,x.length-1)),g.push(x);else{let ee="";x=T_(r,x);let me=!1;for(;;){const xe=o.charAt(a);if(""===xe){g.push((x+ee).trim());break}if(me)")"===xe&&(me=!1);else{if(","===xe){a+=1,g.push((x+ee).trim());break}"("===xe&&(me=!0)}ee+=xe,a+=1}}}return g.join(", ")}(r,h):"style"===a?C_(h,Pc()):"object"===o&&"data"===a?T_(r,h):"function"==typeof x?x(a,h,g):h)}function _E(r,o,a){return("video"===r||"audio"===r)&&"autoplay"===o}function Ah(r,o,a=1/0,h=0){return!r||r.nodeType!==r.ELEMENT_NODE||h>a?-1:o(r)?h:Ah(r.parentNode,o,a,h+1)}function ju(r,o){return a=>{const h=a;if(null===h)return!1;try{if(r)if("string"==typeof r){if(h.matches(`.${r}`))return!0}else if(function mE(r,o){for(let a=r.classList.length;a--;)if(o.test(r.classList[a]))return!0;return!1}(h,r))return!0;return!(!o||!h.matches(o))}catch{return!1}}}function Rh(r,o,a,h,g,x){try{const ee=r.nodeType===r.ELEMENT_NODE?r:r.parentElement;if(null===ee)return!1;if("INPUT"===ee.tagName){const Je=ee.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(Je))return!0}let me=-1,xe=-1;if(x){if(xe=Ah(ee,ju(h,g)),xe<0)return!0;me=Ah(ee,ju(o,a),xe>=0?xe:1/0)}else{if(me=Ah(ee,ju(o,a)),me<0)return!1;xe=Ah(ee,ju(h,g),me>=0?me:1/0)}return me>=0?!(xe>=0)||me<=xe:!(xe>=0||!x)}catch{}return!!x}function yo(r){return null==r?"":r.toLowerCase()}function S_(r,o){const{doc:a,mirror:h,blockClass:g,blockSelector:x,unblockSelector:ee,maskAllText:me,maskTextClass:xe,unmaskTextClass:Je,maskTextSelector:xt,unmaskTextSelector:$t,skipChild:mn=!1,inlineStylesheet:En=!0,maskInputOptions:bn={},maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,slimDOMOptions:Bi,dataURLOptions:qi={},inlineImages:Gi=!1,recordCanvas:vs=!1,onSerialize:Ti,onIframeLoad:ei,iframeLoadTimeout:Vi=5e3,onStylesheetLoad:Zs,stylesheetLoadTimeout:xi=5e3,keepIframeSrcFn:hs=()=>!1,newlyAddedElement:Os=!1}=o;let{preserveWhiteSpace:Go=!0}=o;const Qo=function vE(r,o){const{doc:a,mirror:h,blockClass:g,blockSelector:x,unblockSelector:ee,maskAllText:me,maskAttributeFn:xe,maskTextClass:Je,unmaskTextClass:xt,maskTextSelector:$t,unmaskTextSelector:mn,inlineStylesheet:En,maskInputOptions:bn={},maskTextFn:Un,maskInputFn:pi,dataURLOptions:_i={},inlineImages:Bi,recordCanvas:qi,keepIframeSrcFn:Gi,newlyAddedElement:vs=!1}=o,Ti=function bE(r,o){if(!o.hasNode(r))return;const a=o.getId(r);return 1===a?void 0:a}(a,h);switch(r.nodeType){case r.DOCUMENT_NODE:return"CSS1Compat"!==r.compatMode?{type:Et.Document,childNodes:[],compatMode:r.compatMode}:{type:Et.Document,childNodes:[]};case r.DOCUMENT_TYPE_NODE:return{type:Et.DocumentType,name:r.name,publicId:r.publicId,systemId:r.systemId,rootId:Ti};case r.ELEMENT_NODE:return function yb(r,o){const{doc:a,blockClass:h,blockSelector:g,unblockSelector:x,inlineStylesheet:ee,maskInputOptions:me={},maskAttributeFn:xe,maskInputFn:Je,dataURLOptions:xt={},inlineImages:$t,recordCanvas:mn,keepIframeSrcFn:En,newlyAddedElement:bn=!1,rootId:Un,maskTextClass:_i,unmaskTextClass:Bi,maskTextSelector:qi,unmaskTextSelector:Gi}=o,vs=function WT(r,o,a,h){try{if(h&&r.matches(h))return!1;if("string"==typeof o){if(r.classList.contains(o))return!0}else for(let g=r.classList.length;g--;)if(o.test(r.classList[g]))return!0;if(a)return r.matches(a)}catch{}return!1}(r,h,g,x),Ti=function bb(r){if(r instanceof HTMLFormElement)return"form";const o=y_(r.tagName);return BT.test(o)?"div":o}(r);let ei={};const Vi=r.attributes.length;for(let xi=0;xi<Vi;xi++){const hs=r.attributes[xi];hs.name&&!_E(Ti,hs.name)&&(ei[hs.name]=g0(a,Ti,y_(hs.name),hs.value,r,xe))}if("link"===Ti&&ee){const xi=Array.from(a.styleSheets).find(Os=>Os.href===r.href);let hs=null;xi&&(hs=is(xi)),hs&&(delete ei.rel,delete ei.href,ei._cssText=C_(hs,xi.href))}if("style"===Ti&&r.sheet&&!(r.innerText||r.textContent||"").trim().length){const xi=is(r.sheet);xi&&(ei._cssText=C_(xi,Pc()))}if("input"===Ti||"textarea"===Ti||"select"===Ti||"option"===Ti){const xi=r,hs=_b(xi),Os=m0(xi,fb(Ti),hs),Go=xi.checked;if("submit"!==hs&&"button"!==hs&&Os){const Qo=Rh(xi,_i,qi,Bi,Gi,vd({type:hs,tagName:fb(Ti),maskInputOptions:me}));ei.value=iu({isMasked:Qo,element:xi,value:Os,maskInputFn:Je})}Go&&(ei.checked=Go)}if("option"===Ti&&(r.selected&&!me.select?ei.selected=!0:delete ei.selected),"canvas"===Ti&&mn)if("2d"===r.__context)(function NT(r){const o=r.getContext("2d");if(!o)return!0;for(let h=0;h<r.width;h+=50)for(let g=0;g<r.height;g+=50){const x=o.getImageData;if(new Uint32Array((pb in x?x[pb]:x).call(o,h,g,Math.min(50,r.width-h),Math.min(50,r.height-g)).data.buffer).some(xe=>0!==xe))return!1}return!0})(r)||(ei.rr_dataURL=r.toDataURL(xt.type,xt.quality));else if(!("__context"in r)){const xi=r.toDataURL(xt.type,xt.quality),hs=document.createElement("canvas");hs.width=r.width,hs.height=r.height,xi!==hs.toDataURL(xt.type,xt.quality)&&(ei.rr_dataURL=xi)}if("img"===Ti&&$t){E_||(E_=a.createElement("canvas"),fE=E_.getContext("2d"));const xi=r,hs=xi.crossOrigin;xi.crossOrigin="anonymous";const Os=()=>{xi.removeEventListener("load",Os);try{E_.width=xi.naturalWidth,E_.height=xi.naturalHeight,fE.drawImage(xi,0,0),ei.rr_dataURL=E_.toDataURL(xt.type,xt.quality)}catch(Go){console.warn(`Cannot inline img src=${xi.currentSrc}! Error: ${Go}`)}hs?ei.crossOrigin=hs:xi.removeAttribute("crossorigin")};xi.complete&&0!==xi.naturalWidth?Os():xi.addEventListener("load",Os)}if(("audio"===Ti||"video"===Ti)&&(ei.rr_mediaState=r.paused?"paused":"played",ei.rr_mediaCurrentTime=r.currentTime),bn||(r.scrollLeft&&(ei.rr_scrollLeft=r.scrollLeft),r.scrollTop&&(ei.rr_scrollTop=r.scrollTop)),vs){const{width:xi,height:hs}=r.getBoundingClientRect();ei={class:ei.class,rr_width:`${xi}px`,rr_height:`${hs}px`}}let Zs;"iframe"===Ti&&!En(ei.src)&&(!vs&&!r.contentDocument&&(ei.rr_src=ei.src),delete ei.src);try{customElements.get(Ti)&&(Zs=!0)}catch{}return{type:Et.Element,tagName:Ti,attributes:ei,childNodes:[],isSVG:zT(r)||void 0,needBlock:vs,rootId:Un,isCustom:Zs}}(r,{doc:a,blockClass:g,blockSelector:x,unblockSelector:ee,inlineStylesheet:En,maskAttributeFn:xe,maskInputOptions:bn,maskInputFn:pi,dataURLOptions:_i,inlineImages:Bi,recordCanvas:qi,keepIframeSrcFn:Gi,newlyAddedElement:vs,rootId:Ti,maskAllText:me,maskTextClass:Je,unmaskTextClass:xt,maskTextSelector:$t,unmaskTextSelector:mn});case r.TEXT_NODE:return function v0(r,o){const{maskAllText:a,maskTextClass:h,unmaskTextClass:g,maskTextSelector:x,unmaskTextSelector:ee,maskTextFn:me,maskInputOptions:xe,maskInputFn:Je,rootId:xt}=o,$t=r.parentNode&&r.parentNode.tagName;let mn=r.textContent;const En="STYLE"===$t||void 0,bn="SCRIPT"===$t||void 0,Un="TEXTAREA"===$t||void 0;if(En&&mn){try{r.nextSibling||r.previousSibling||$e([r,"access",_i=>_i.parentNode,"access",_i=>_i.sheet,"optionalAccess",_i=>_i.cssRules])&&(mn=is(r.parentNode.sheet))}catch(_i){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_i}`,r)}mn=C_(mn,Pc())}bn&&(mn="SCRIPT_PLACEHOLDER");const pi=Rh(r,h,x,g,ee,a);return!En&&!bn&&!Un&&mn&&pi&&(mn=me?me(mn,r.parentElement):mn.replace(/[\S]/g,"*")),Un&&mn&&(xe.textarea||pi)&&(mn=Je?Je(mn,r.parentNode):mn.replace(/[\S]/g,"*")),"OPTION"===$t&&mn&&(mn=iu({isMasked:Rh(r,h,x,g,ee,vd({type:null,tagName:$t,maskInputOptions:xe})),element:r,value:mn,maskInputFn:Je})),{type:Et.Text,textContent:mn||"",isStyle:En,rootId:xt}}(r,{maskAllText:me,maskTextClass:Je,unmaskTextClass:xt,maskTextSelector:$t,unmaskTextSelector:mn,maskTextFn:Un,maskInputOptions:bn,maskInputFn:pi,rootId:Ti});case r.CDATA_SECTION_NODE:return{type:Et.CDATA,textContent:"",rootId:Ti};case r.COMMENT_NODE:return{type:Et.Comment,textContent:r.textContent||"",rootId:Ti};default:return!1}}(r,{doc:a,mirror:h,blockClass:g,blockSelector:x,maskAllText:me,unblockSelector:ee,maskTextClass:xe,unmaskTextClass:Je,maskTextSelector:xt,unmaskTextSelector:$t,inlineStylesheet:En,maskInputOptions:bn,maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,dataURLOptions:qi,inlineImages:Gi,recordCanvas:vs,keepIframeSrcFn:hs,newlyAddedElement:Os});if(!Qo)return console.warn(r,"not serialized"),null;let qr;qr=h.hasNode(r)?h.getId(r):function XT(r,o){if(o.comment&&r.type===Et.Comment)return!0;if(r.type===Et.Element){if(o.script&&("script"===r.tagName||"link"===r.tagName&&("preload"===r.attributes.rel||"modulepreload"===r.attributes.rel)&&"script"===r.attributes.as||"link"===r.tagName&&"prefetch"===r.attributes.rel&&"string"==typeof r.attributes.href&&"js"===cE(r.attributes.href)))return!0;if(o.headFavicon&&("link"===r.tagName&&"shortcut icon"===r.attributes.rel||"meta"===r.tagName&&(yo(r.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===yo(r.attributes.name)||"icon"===yo(r.attributes.rel)||"apple-touch-icon"===yo(r.attributes.rel)||"shortcut icon"===yo(r.attributes.rel))))return!0;if("meta"===r.tagName){if(o.headMetaDescKeywords&&yo(r.attributes.name).match(/^description|keywords$/))return!0;if(o.headMetaSocial&&(yo(r.attributes.property).match(/^(og|twitter|fb):/)||yo(r.attributes.name).match(/^(og|twitter):/)||"pinterest"===yo(r.attributes.name)))return!0;if(o.headMetaRobots&&("robots"===yo(r.attributes.name)||"googlebot"===yo(r.attributes.name)||"bingbot"===yo(r.attributes.name)))return!0;if(o.headMetaHttpEquiv&&void 0!==r.attributes["http-equiv"])return!0;if(o.headMetaAuthorship&&("author"===yo(r.attributes.name)||"generator"===yo(r.attributes.name)||"framework"===yo(r.attributes.name)||"publisher"===yo(r.attributes.name)||"progid"===yo(r.attributes.name)||yo(r.attributes.property).match(/^article:/)||yo(r.attributes.property).match(/^product:/)))return!0;if(o.headMetaVerification&&("google-site-verification"===yo(r.attributes.name)||"yandex-verification"===yo(r.attributes.name)||"csrf-token"===yo(r.attributes.name)||"p:domain_verify"===yo(r.attributes.name)||"verify-v1"===yo(r.attributes.name)||"verification"===yo(r.attributes.name)||"shopify-checkout-api-token"===yo(r.attributes.name)))return!0}}return!1}(Qo,Bi)||!Go&&Qo.type===Et.Text&&!Qo.isStyle&&!Qo.textContent.replace(/^\s+|\s+$/gm,"").length?fg:uE();const ai=Object.assign(Qo,{id:qr});if(h.add(r,ai),qr===fg)return null;Ti&&Ti(r);let Ei=!mn;if(ai.type===Et.Element){Ei=Ei&&!ai.needBlock,delete ai.needBlock;const Ii=r.shadowRoot;Ii&&zn(Ii)&&(ai.isShadowHost=!0)}if((ai.type===Et.Document||ai.type===Et.Element)&&Ei){Bi.headWhitespace&&ai.type===Et.Element&&"head"===ai.tagName&&(Go=!1);const Ii={doc:a,mirror:h,blockClass:g,blockSelector:x,maskAllText:me,unblockSelector:ee,maskTextClass:xe,unmaskTextClass:Je,maskTextSelector:xt,unmaskTextSelector:$t,skipChild:mn,inlineStylesheet:En,maskInputOptions:bn,maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,slimDOMOptions:Bi,dataURLOptions:qi,inlineImages:Gi,recordCanvas:vs,preserveWhiteSpace:Go,onSerialize:Ti,onIframeLoad:ei,iframeLoadTimeout:Vi,onStylesheetLoad:Zs,stylesheetLoadTimeout:xi,keepIframeSrcFn:hs};for(const ws of Array.from(r.childNodes)){const Jo=S_(ws,Ii);Jo&&ai.childNodes.push(Jo)}if(function an(r){return r.nodeType===r.ELEMENT_NODE}(r)&&r.shadowRoot)for(const ws of Array.from(r.shadowRoot.childNodes)){const Jo=S_(ws,Ii);Jo&&(zn(r.shadowRoot)&&(Jo.isShadow=!0),ai.childNodes.push(Jo))}}return r.parentNode&&Cn(r.parentNode)&&zn(r.parentNode)&&(ai.isShadow=!0),ai.type===Et.Element&&"iframe"===ai.tagName&&function VD(r,o,a){const h=r.contentWindow;if(!h)return;let x,g=!1;try{x=h.document.readyState}catch{return}if("complete"!==x){const me=vb(()=>{g||(o(),g=!0)},a);return void r.addEventListener("load",()=>{dE(me),g=!0,o()})}const ee="about:blank";if(h.location.href!==ee||r.src===ee||""===r.src)return vb(o,0),r.addEventListener("load",o);r.addEventListener("load",o)}(r,()=>{const Ii=r.contentDocument;if(Ii&&ei){const ws=S_(Ii,{doc:Ii,mirror:h,blockClass:g,blockSelector:x,unblockSelector:ee,maskAllText:me,maskTextClass:xe,unmaskTextClass:Je,maskTextSelector:xt,unmaskTextSelector:$t,skipChild:!1,inlineStylesheet:En,maskInputOptions:bn,maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,slimDOMOptions:Bi,dataURLOptions:qi,inlineImages:Gi,recordCanvas:vs,preserveWhiteSpace:Go,onSerialize:Ti,onIframeLoad:ei,iframeLoadTimeout:Vi,onStylesheetLoad:Zs,stylesheetLoadTimeout:xi,keepIframeSrcFn:hs});ws&&ei(r,ws)}},Vi),ai.type===Et.Element&&"link"===ai.tagName&&"string"==typeof ai.attributes.rel&&("stylesheet"===ai.attributes.rel||"preload"===ai.attributes.rel&&"string"==typeof ai.attributes.href&&"css"===cE(ai.attributes.href))&&function gE(r,o,a){let g,h=!1;try{g=r.sheet}catch{return}if(g)return;const x=vb(()=>{h||(o(),h=!0)},a);r.addEventListener("load",()=>{dE(x),h=!0,o()})}(r,()=>{if(Zs){const Ii=S_(r,{doc:a,mirror:h,blockClass:g,blockSelector:x,unblockSelector:ee,maskAllText:me,maskTextClass:xe,unmaskTextClass:Je,maskTextSelector:xt,unmaskTextSelector:$t,skipChild:!1,inlineStylesheet:En,maskInputOptions:bn,maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,slimDOMOptions:Bi,dataURLOptions:qi,inlineImages:Gi,recordCanvas:vs,preserveWhiteSpace:Go,onSerialize:Ti,onIframeLoad:ei,iframeLoadTimeout:Vi,onStylesheetLoad:Zs,stylesheetLoadTimeout:xi,keepIframeSrcFn:hs});Ii&&Zs(r,Ii)}},xi),ai}function kh(r){let o,a=r[0],h=1;for(;h<r.length;){const g=r[h],x=r[h+1];if(h+=2,("optionalAccess"===g||"optionalCall"===g)&&null==a)return;"access"===g||"optionalAccess"===g?(o=a,a=x(a)):("call"===g||"optionalCall"===g)&&(a=x((...ee)=>a.call(o,...ee)),o=void 0)}return a}function Ea(r,o,a=document){const h={capture:!0,passive:!0};return a.addEventListener(r,o,h),()=>a.removeEventListener(r,o,h)}const Yf="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Fh={map:{},getId:()=>(console.error(Yf),-1),getNode:()=>(console.error(Yf),null),removeNodeFromMap(){console.error(Yf)},has:()=>(console.error(Yf),!1),reset(){console.error(Yf)}};function su(r,o,a={}){let h=null,g=0;return function(...x){const ee=Date.now();!g&&!1===a.leading&&(g=ee);const me=o-(ee-g),xe=this;me<=0||me>o?(h&&(function QT(...r){Jf("clearTimeout")(...r)}(h),h=null),g=ee,r.apply(xe,x)):!h&&!1!==a.trailing&&(h=Ph(()=>{g=!1===a.leading?0:Date.now(),h=null,r.apply(xe,x)},me))}}function b0(r,o,a,h,g=window){const x=g.Object.getOwnPropertyDescriptor(r,o);return g.Object.defineProperty(r,o,h?a:{set(ee){Ph(()=>{a.set.call(this,ee)},0),x&&x.set&&x.set.call(this,ee)}}),()=>b0(r,o,x||{},!0)}function Qf(r,o,a){try{if(!(o in r))return()=>{};const h=r[o],g=a(h);return"function"==typeof g&&(g.prototype=g.prototype||{},Object.defineProperties(g,{__rrweb_original__:{enumerable:!1,value:h}})),r[o]=g,()=>{r[o]=h}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(Fh=new Proxy(Fh,{get:(r,o,a)=>("map"===o&&console.error(Yf),Reflect.get(r,o,a))}));let pg=Date.now;function Cb(r){const o=r.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:void 0!==r.pageXOffset?r.pageXOffset:kh([o,"optionalAccess",a=>a.documentElement,"access",a=>a.scrollLeft])||kh([o,"optionalAccess",a=>a.body,"optionalAccess",a=>a.parentElement,"optionalAccess",a=>a.scrollLeft])||kh([o,"optionalAccess",a=>a.body,"optionalAccess",a=>a.scrollLeft])||0,top:o.scrollingElement?o.scrollingElement.scrollTop:void 0!==r.pageYOffset?r.pageYOffset:kh([o,"optionalAccess",a=>a.documentElement,"access",a=>a.scrollTop])||kh([o,"optionalAccess",a=>a.body,"optionalAccess",a=>a.parentElement,"optionalAccess",a=>a.scrollTop])||kh([o,"optionalAccess",a=>a.body,"optionalAccess",a=>a.scrollTop])||0}}function yE(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function EE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function CE(r){return r?r.nodeType===r.ELEMENT_NODE?r:r.parentElement:null}function mc(r,o,a,h,g){if(!r)return!1;const x=CE(r);if(!x)return!1;const ee=ju(o,a);if(!g){const Je=h&&x.matches(h);return ee(x)&&!Je}const me=Ah(x,ee);let xe=-1;return!(me<0)&&(h&&(xe=Ah(x,ju(null,h))),me>-1&&xe<0||me<xe)}function Tb(r,o){return o.getId(r)===fg}function Sb(r,o){if(Cn(r))return!1;const a=o.getId(r);return!o.has(a)||(!r.parentNode||r.parentNode.nodeType!==r.DOCUMENT_NODE)&&(!r.parentNode||Sb(r.parentNode,o))}function Mb(r){return!!r.changedTouches}function TE(r,o){return!("IFRAME"!==r.nodeName||!o.getMeta(r))}function Db(r,o){return!("LINK"!==r.nodeName||r.nodeType!==r.ELEMENT_NODE||!r.getAttribute||"stylesheet"!==r.getAttribute("rel")||!o.getMeta(r))}function Ib(r){return!!kh([r,"optionalAccess",o=>o.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(pg=()=>(new Date).getTime());class SE{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(o){return function u0(r,o){return r??o()}(this.styleIDMap.get(o),()=>-1)}has(o){return this.styleIDMap.has(o)}add(o,a){if(this.has(o))return this.getId(o);let h;return h=void 0===a?this.id++:a,this.styleIDMap.set(o,h),this.idStyleMap.set(h,o),h}getStyle(o){return this.idStyleMap.get(o)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ME(r){let o=null;return kh([r,"access",a=>a.getRootNode,"optionalCall",a=>a(),"optionalAccess",a=>a.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&r.getRootNode().host&&(o=r.getRootNode().host),o}function E0(r){const o=r.ownerDocument;return!!o&&(o.contains(r)||function DE(r){const o=r.ownerDocument;if(!o)return!1;const a=function YT(r){let a,o=r;for(;a=ME(o);)o=a;return o}(r);return o.contains(a)}(r))}const Ob={};function Jf(r){const o=Ob[r];if(o)return o;const a=window.document;let h=window[r];if(a&&"function"==typeof a.createElement)try{const g=a.createElement("iframe");g.hidden=!0,a.head.appendChild(g);const x=g.contentWindow;x&&x[r]&&(h=x[r]),a.head.removeChild(g)}catch{}return Ob[r]=h.bind(window)}function Ph(...r){return Jf("setTimeout")(...r)}var eo=(r=>(r[r.DomContentLoaded=0]="DomContentLoaded",r[r.Load=1]="Load",r[r.FullSnapshot=2]="FullSnapshot",r[r.IncrementalSnapshot=3]="IncrementalSnapshot",r[r.Meta=4]="Meta",r[r.Custom=5]="Custom",r[r.Plugin=6]="Plugin",r))(eo||{}),Ps=(r=>(r[r.Mutation=0]="Mutation",r[r.MouseMove=1]="MouseMove",r[r.MouseInteraction=2]="MouseInteraction",r[r.Scroll=3]="Scroll",r[r.ViewportResize=4]="ViewportResize",r[r.Input=5]="Input",r[r.TouchMove=6]="TouchMove",r[r.MediaInteraction=7]="MediaInteraction",r[r.StyleSheetRule=8]="StyleSheetRule",r[r.CanvasMutation=9]="CanvasMutation",r[r.Font=10]="Font",r[r.Log=11]="Log",r[r.Drag=12]="Drag",r[r.StyleDeclaration=13]="StyleDeclaration",r[r.Selection=14]="Selection",r[r.AdoptedStyleSheet=15]="AdoptedStyleSheet",r[r.CustomElement=16]="CustomElement",r))(Ps||{}),ja=(r=>(r[r.MouseUp=0]="MouseUp",r[r.MouseDown=1]="MouseDown",r[r.Click=2]="Click",r[r.ContextMenu=3]="ContextMenu",r[r.DblClick=4]="DblClick",r[r.Focus=5]="Focus",r[r.Blur=6]="Blur",r[r.TouchStart=7]="TouchStart",r[r.TouchMove_Departed=8]="TouchMove_Departed",r[r.TouchEnd=9]="TouchEnd",r[r.TouchCancel=10]="TouchCancel",r))(ja||{}),bd=(r=>(r[r.Mouse=0]="Mouse",r[r.Pen=1]="Pen",r[r.Touch=2]="Touch",r))(bd||{});function JT(r){let o,a=r[0],h=1;for(;h<r.length;){const g=r[h],x=r[h+1];if(h+=2,("optionalAccess"===g||"optionalCall"===g)&&null==a)return;"access"===g||"optionalAccess"===g?(o=a,a=x(a)):("call"===g||"optionalCall"===g)&&(a=x((...ee)=>a.call(o,...ee)),o=void 0)}return a}function ZT(r){return"__ln"in r}class GD{constructor(){this.length=0,this.head=null,this.tail=null}get(o){if(o>=this.length)throw new Error("Position outside of list range");let a=this.head;for(let h=0;h<o;h++)a=JT([a,"optionalAccess",g=>g.next])||null;return a}addNode(o){const a={value:o,previous:null,next:null};if(o.__ln=a,o.previousSibling&&ZT(o.previousSibling)){const h=o.previousSibling.__ln.next;a.next=h,a.previous=o.previousSibling.__ln,o.previousSibling.__ln.next=a,h&&(h.previous=a)}else if(o.nextSibling&&ZT(o.nextSibling)&&o.nextSibling.__ln.previous){const h=o.nextSibling.__ln.previous;a.previous=h,a.next=o.nextSibling.__ln,o.nextSibling.__ln.previous=a,h&&(h.next=a)}else this.head&&(this.head.previous=a),a.next=this.head,this.head=a;null===a.next&&(this.tail=a),this.length++}removeNode(o){const a=o.__ln;this.head&&(a.previous?(a.previous.next=a.next,a.next?a.next.previous=a.previous:this.tail=a.previous):(this.head=a.next,this.head?this.head.previous=null:this.tail=null),o.__ln&&delete o.__ln,this.length--)}}const IE=(r,o)=>`${r}@${o}`;class qT{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=o=>{o.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const o=[],a=new Set,h=new GD,g=xe=>{let Je=xe,xt=fg;for(;xt===fg;)Je=Je&&Je.nextSibling,xt=Je&&this.mirror.getId(Je);return xt},x=xe=>{if(!xe.parentNode||!E0(xe))return;const Je=Cn(xe.parentNode)?this.mirror.getId(ME(xe)):this.mirror.getId(xe.parentNode),xt=g(xe);if(-1===Je||-1===xt)return h.addNode(xe);const $t=S_(xe,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:mn=>{TE(mn,this.mirror)&&!mc(mn,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(mn),Db(mn,this.mirror)&&this.stylesheetManager.trackLinkElement(mn),Ib(xe)&&this.shadowDomManager.addShadowRoot(xe.shadowRoot,this.doc)},onIframeLoad:(mn,En)=>{mc(mn,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(mn,En),mn.contentWindow&&this.canvasManager.addWindow(mn.contentWindow),this.shadowDomManager.observeAttachShadow(mn))},onStylesheetLoad:(mn,En)=>{this.stylesheetManager.attachLinkElement(mn,En)}});$t&&(o.push({parentId:Je,nextId:xt,node:$t}),a.add($t.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const xe of this.movedSet)wE(this.removes,xe,this.mirror)&&!this.movedSet.has(xe.parentNode)||x(xe);for(const xe of this.addedSet)!xE(this.droppedSet,xe)&&!wE(this.removes,xe,this.mirror)||xE(this.movedSet,xe)?x(xe):this.droppedSet.add(xe);let ee=null;for(;h.length;){let xe=null;if(ee){const Je=this.mirror.getId(ee.value.parentNode),xt=g(ee.value);-1!==Je&&-1!==xt&&(xe=ee)}if(!xe){let Je=h.tail;for(;Je;){const xt=Je;if(Je=Je.previous,xt){const $t=this.mirror.getId(xt.value.parentNode);if(-1===g(xt.value))continue;if(-1!==$t){xe=xt;break}{const En=xt.value;if(En.parentNode&&En.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(En.parentNode.host)){xe=xt;break}}}}}if(!xe){for(;h.head;)h.removeNode(h.head.value);break}ee=xe.previous,h.removeNode(xe.value),x(xe.value)}const me={texts:this.texts.map(xe=>({id:this.mirror.getId(xe.node),value:xe.value})).filter(xe=>!a.has(xe.id)).filter(xe=>this.mirror.has(xe.id)),attributes:this.attributes.map(xe=>{const{attributes:Je}=xe;if("string"==typeof Je.style){const xt=JSON.stringify(xe.styleDiff),$t=JSON.stringify(xe._unchangedStyles);xt.length<Je.style.length&&(xt+$t).split("var(").length===Je.style.split("var(").length&&(Je.style=xe.styleDiff)}return{id:this.mirror.getId(xe.node),attributes:Je}}).filter(xe=>!a.has(xe.id)).filter(xe=>this.mirror.has(xe.id)),removes:this.removes,adds:o};!me.texts.length&&!me.attributes.length&&!me.removes.length&&!me.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(me))},this.processMutation=o=>{if(!Tb(o.target,this.mirror))switch(o.type){case"characterData":{const a=o.target.textContent;!mc(o.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&a!==o.oldValue&&this.texts.push({value:Rh(o.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&a?this.maskTextFn?this.maskTextFn(a,CE(o.target)):a.replace(/[\S]/g,"*"):a,node:o.target});break}case"attributes":{const a=o.target;let h=o.attributeName,g=o.target.getAttribute(h);if("value"===h){const ee=_b(a),me=a.tagName;g=m0(a,me,ee);const xe=vd({maskInputOptions:this.maskInputOptions,tagName:me,type:ee});g=iu({isMasked:Rh(o.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,xe),element:a,value:g,maskInputFn:this.maskInputFn})}if(mc(o.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||g===o.oldValue)return;let x=this.attributeMap.get(o.target);if("IFRAME"===a.tagName&&"src"===h&&!this.keepIframeSrcFn(g)){if(a.contentDocument)return;h="rr_src"}if(x||(x={node:o.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(x),this.attributeMap.set(o.target,x)),"type"===h&&"INPUT"===a.tagName&&"password"===(o.oldValue||"").toLowerCase()&&a.setAttribute("data-rr-is-password","true"),!_E(a.tagName,h)&&(x.attributes[h]=g0(this.doc,y_(a.tagName),y_(h),g,a,this.maskAttributeFn),"style"===h)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const ee=this.unattachedDoc.createElement("span");o.oldValue&&ee.setAttribute("style",o.oldValue);for(const me of Array.from(a.style)){const xe=a.style.getPropertyValue(me),Je=a.style.getPropertyPriority(me);xe!==ee.style.getPropertyValue(me)||Je!==ee.style.getPropertyPriority(me)?x.styleDiff[me]=""===Je?xe:[xe,Je]:x._unchangedStyles[me]=[xe,Je]}for(const me of Array.from(ee.style))""===a.style.getPropertyValue(me)&&(x.styleDiff[me]=!1)}break}case"childList":if(mc(o.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;o.addedNodes.forEach(a=>this.genAdds(a,o.target)),o.removedNodes.forEach(a=>{const h=this.mirror.getId(a),g=Cn(o.target)?this.mirror.getId(o.target.host):this.mirror.getId(o.target);mc(o.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Tb(a,this.mirror)||!function HT(r,o){return-1!==o.getId(r)}(a,this.mirror)||(this.addedSet.has(a)?(OE(this.addedSet,a),this.droppedSet.add(a)):this.addedSet.has(o.target)&&-1===h||Sb(o.target,this.mirror)||(this.movedSet.has(a)&&this.movedMap[IE(h,g)]?OE(this.movedSet,a):this.removes.push({parentId:g,id:h,isShadow:!(!Cn(o.target)||!zn(o.target))||void 0})),this.mapRemoves.push(a))})}},this.genAdds=(o,a)=>{if(!this.processedNodeManager.inOtherBuffer(o,this)&&!this.addedSet.has(o)&&!this.movedSet.has(o)){if(this.mirror.hasNode(o)){if(Tb(o,this.mirror))return;this.movedSet.add(o);let h=null;a&&this.mirror.hasNode(a)&&(h=this.mirror.getId(a)),h&&-1!==h&&(this.movedMap[IE(this.mirror.getId(o),h)]=!0)}else this.addedSet.add(o),this.droppedSet.delete(o);mc(o,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(o.childNodes.forEach(h=>this.genAdds(h)),Ib(o)&&o.shadowRoot.childNodes.forEach(h=>{this.processedNodeManager.add(h,this),this.genAdds(h,o)}))}}}init(o){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(a=>{this[a]=o[a]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function OE(r,o){r.delete(o),o.childNodes.forEach(a=>OE(r,a))}function wE(r,o,a){return 0!==r.length&&eS(r,o,a)}function eS(r,o,a){const{parentNode:h}=o;if(!h)return!1;const g=a.getId(h);return!!r.some(x=>x.id===g)||eS(r,h,a)}function xE(r,o){return 0!==r.size&&AE(r,o)}function AE(r,o){const{parentNode:a}=o;return!!a&&(!!r.has(a)||AE(r,a))}let mg;const uo=r=>mg?(...a)=>{try{return r(...a)}catch(h){if(mg&&!0===mg(h))return()=>{};throw h}}:r;function Ql(r){let o,a=r[0],h=1;for(;h<r.length;){const g=r[h],x=r[h+1];if(h+=2,("optionalAccess"===g||"optionalCall"===g)&&null==a)return;"access"===g||"optionalAccess"===g?(o=a,a=x(a)):("call"===g||"optionalCall"===g)&&(a=x((...ee)=>a.call(o,...ee)),o=void 0)}return a}const Zf=[];function Uu(r){try{if("composedPath"in r){const o=r.composedPath();if(o.length)return o[0]}else if("path"in r&&r.path.length)return r.path[0]}catch{}return r&&r.target}function xb(r,o){const a=new qT;Zf.push(a),a.init(r);let h=window.MutationObserver||window.__rrMutationObserver;const g=Ql([window,"optionalAccess",ee=>ee.Zone,"optionalAccess",ee=>ee.__symbol__,"optionalCall",ee=>ee("MutationObserver")]);g&&window[g]&&(h=window[g]);const x=new h(uo(ee=>{r.onMutation&&!1===r.onMutation(ee)||a.processMutations.bind(a)(ee)}));return x.observe(o,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),x}function Ab({scrollCb:r,doc:o,mirror:a,blockClass:h,blockSelector:g,unblockSelector:x,sampling:ee}){return Ea("scroll",uo(su(uo(xe=>{const Je=Uu(xe);if(!Je||mc(Je,h,g,x,!0))return;const xt=a.getId(Je);if(Je===o&&o.defaultView){const $t=Cb(o.defaultView);r({id:xt,x:$t.left,y:$t.top})}else r({id:xt,x:Je.scrollLeft,y:Je.scrollTop})}),ee.scroll||100)),o)}const kE=["INPUT","TEXTAREA","SELECT"],Rb=new WeakMap;function nS({inputCb:r,doc:o,mirror:a,blockClass:h,blockSelector:g,unblockSelector:x,ignoreClass:ee,ignoreSelector:me,maskInputOptions:xe,maskInputFn:Je,sampling:xt,userTriggeredOnInput:$t,maskTextClass:mn,unmaskTextClass:En,maskTextSelector:bn,unmaskTextSelector:Un}){function pi(ei){let Vi=Uu(ei);const Zs=ei.isTrusted,xi=Vi&&fb(Vi.tagName);if("OPTION"===xi&&(Vi=Vi.parentElement),!Vi||!xi||kE.indexOf(xi)<0||mc(Vi,h,g,x,!0))return;const hs=Vi;if(hs.classList.contains(ee)||me&&hs.matches(me))return;const Os=_b(Vi);let Go=m0(hs,xi,Os),Qo=!1;const qr=vd({maskInputOptions:xe,tagName:xi,type:Os}),ai=Rh(Vi,mn,bn,En,Un,qr);("radio"===Os||"checkbox"===Os)&&(Qo=Vi.checked),Go=iu({isMasked:ai,element:Vi,value:Go,maskInputFn:Je}),_i(Vi,$t?{text:Go,isChecked:Qo,userTriggered:Zs}:{text:Go,isChecked:Qo});const Ei=Vi.name;"radio"===Os&&Ei&&Qo&&o.querySelectorAll(`input[type="radio"][name="${Ei}"]`).forEach(Ii=>{if(Ii!==Vi){const ws=iu({isMasked:ai,element:Ii,value:m0(Ii,xi,Os),maskInputFn:Je});_i(Ii,$t?{text:ws,isChecked:!Qo,userTriggered:!1}:{text:ws,isChecked:!Qo})}})}function _i(ei,Vi){const Zs=Rb.get(ei);if(!Zs||Zs.text!==Vi.text||Zs.isChecked!==Vi.isChecked){Rb.set(ei,Vi);const xi=a.getId(ei);uo(r)({...Vi,id:xi})}}const qi=("last"===xt.input?["change"]:["input","change"]).map(ei=>Ea(ei,uo(pi),o)),Gi=o.defaultView;if(!Gi)return()=>{qi.forEach(ei=>ei())};const vs=Gi.Object.getOwnPropertyDescriptor(Gi.HTMLInputElement.prototype,"value");return vs&&vs.set&&qi.push(...[[Gi.HTMLInputElement.prototype,"value"],[Gi.HTMLInputElement.prototype,"checked"],[Gi.HTMLSelectElement.prototype,"value"],[Gi.HTMLTextAreaElement.prototype,"value"],[Gi.HTMLSelectElement.prototype,"selectedIndex"],[Gi.HTMLOptionElement.prototype,"selected"]].map(ei=>b0(ei[0],ei[1],{set(){uo(pi)({target:this,isTrusted:!1})}},!1,Gi))),uo(()=>{qi.forEach(ei=>ei())})}function C0(r){return function a(h,g){if(S0("CSSGroupingRule")&&h.parentRule instanceof CSSGroupingRule||S0("CSSMediaRule")&&h.parentRule instanceof CSSMediaRule||S0("CSSSupportsRule")&&h.parentRule instanceof CSSSupportsRule||S0("CSSConditionRule")&&h.parentRule instanceof CSSConditionRule){const ee=Array.from(h.parentRule.cssRules).indexOf(h);g.unshift(ee)}else if(h.parentStyleSheet){const ee=Array.from(h.parentStyleSheet.cssRules).indexOf(h);g.unshift(ee)}return g}(r,[])}function Lh(r,o,a){let h,g;return r?(r.ownerNode?h=o.getId(r.ownerNode):g=a.getId(r),{styleId:g,id:h}):{}}function FE({mirror:r,stylesheetManager:o},a){let h=null;h=r.getId("#document"===a.nodeName?a:a.host);const g=Ql("#document"===a.nodeName?[a,"access",ee=>ee.defaultView,"optionalAccess",ee=>ee.Document]:[a,"access",ee=>ee.ownerDocument,"optionalAccess",ee=>ee.defaultView,"optionalAccess",ee=>ee.ShadowRoot]),x=Ql([g,"optionalAccess",ee=>ee.prototype])?Object.getOwnPropertyDescriptor(Ql([g,"optionalAccess",ee=>ee.prototype]),"adoptedStyleSheets"):void 0;return null!==h&&-1!==h&&g&&x?(Object.defineProperty(a,"adoptedStyleSheets",{configurable:x.configurable,enumerable:x.enumerable,get(){return Ql([x,"access",ee=>ee.get,"optionalAccess",ee=>ee.call,"call",ee=>ee(this)])},set(ee){const me=Ql([x,"access",xe=>xe.set,"optionalAccess",xe=>xe.call,"call",xe=>xe(this,ee)]);if(null!==h&&-1!==h)try{o.adoptStyleSheets(ee,h)}catch{}return me}}),uo(()=>{Object.defineProperty(a,"adoptedStyleSheets",{configurable:x.configurable,enumerable:x.enumerable,get:x.get,set:x.set})})):()=>{}}function NE(r,o={}){const a=r.doc.defaultView;if(!a)return()=>{};let h;r.recordDOM&&(h=xb(r,r.doc));const g=function tS({mousemoveCb:r,sampling:o,doc:a,mirror:h}){if(!1===o.mousemove)return()=>{};const g="number"==typeof o.mousemove?o.mousemove:50,x="number"==typeof o.mousemoveCallback?o.mousemoveCallback:500;let me,ee=[];const xe=su(uo($t=>{const mn=Date.now()-me;r(ee.map(En=>(En.timeOffset-=mn,En)),$t),ee=[],me=null}),x),Je=uo(su(uo($t=>{const mn=Uu($t),{clientX:En,clientY:bn}=Mb($t)?$t.changedTouches[0]:$t;me||(me=pg()),ee.push({x:En,y:bn,id:h.getId(mn),timeOffset:pg()-me}),xe(typeof DragEvent<"u"&&$t instanceof DragEvent?Ps.Drag:$t instanceof MouseEvent?Ps.MouseMove:Ps.TouchMove)}),g,{trailing:!1})),xt=[Ea("mousemove",Je,a),Ea("touchmove",Je,a),Ea("drag",Je,a)];return uo(()=>{xt.forEach($t=>$t())})}(r),x=function vg({mouseInteractionCb:r,doc:o,mirror:a,blockClass:h,blockSelector:g,unblockSelector:x,sampling:ee}){if(!1===ee.mouseInteraction)return()=>{};const me=!0===ee.mouseInteraction||void 0===ee.mouseInteraction?{}:ee.mouseInteraction,xe=[];let Je=null;return Object.keys(ja).filter($t=>Number.isNaN(Number($t))&&!$t.endsWith("_Departed")&&!1!==me[$t]).forEach($t=>{let mn=y_($t);const En=($t=>mn=>{const En=Uu(mn);if(mc(En,h,g,x,!0))return;let bn=null,Un=$t;if("pointerType"in mn){switch(mn.pointerType){case"mouse":bn=bd.Mouse;break;case"touch":bn=bd.Touch;break;case"pen":bn=bd.Pen}bn===bd.Touch&&(ja[$t]===ja.MouseDown?Un="TouchStart":ja[$t]===ja.MouseUp&&(Un="TouchEnd"))}else Mb(mn)&&(bn=bd.Touch);null!==bn?(Je=bn,(Un.startsWith("Touch")&&bn===bd.Touch||Un.startsWith("Mouse")&&bn===bd.Mouse)&&(bn=null)):ja[$t]===ja.Click&&(bn=Je,Je=null);const pi=Mb(mn)?mn.changedTouches[0]:mn;if(!pi)return;const _i=a.getId(En),{clientX:Bi,clientY:qi}=pi;uo(r)({type:ja[Un],id:_i,x:Bi,y:qi,...null!==bn&&{pointerType:bn}})})($t);if(window.PointerEvent)switch(ja[$t]){case ja.MouseDown:case ja.MouseUp:mn=mn.replace("mouse","pointer");break;case ja.TouchStart:case ja.TouchEnd:return}xe.push(Ea(mn,En,o))}),uo(()=>{xe.forEach($t=>$t())})}(r),ee=Ab(r),me=function RE({viewportResizeCb:r},{win:o}){let a=-1,h=-1;return Ea("resize",uo(su(uo(()=>{const x=yE(),ee=EE();(a!==x||h!==ee)&&(r({width:Number(ee),height:Number(x)}),a=x,h=ee)}),200)),o)}(r,{win:a}),xe=nS(r),Je=function sS({mediaInteractionCb:r,blockClass:o,blockSelector:a,unblockSelector:h,mirror:g,sampling:x,doc:ee}){const me=uo(Je=>su(uo(xt=>{const $t=Uu(xt);if(!$t||mc($t,o,a,h,!0))return;const{currentTime:mn,volume:En,muted:bn,playbackRate:Un}=$t;r({type:Je,id:g.getId($t),currentTime:mn,volume:En,muted:bn,playbackRate:Un})}),x.media||500)),xe=[Ea("play",me(0),ee),Ea("pause",me(1),ee),Ea("seeked",me(2),ee),Ea("volumechange",me(3),ee),Ea("ratechange",me(4),ee)];return uo(()=>{xe.forEach(Je=>Je())})}(r);let xt=()=>{},$t=()=>{},mn=()=>{},En=()=>{};r.recordDOM&&(xt=function bg({styleSheetRuleCb:r,mirror:o,stylesheetManager:a},{win:h}){if(!h.CSSStyleSheet||!h.CSSStyleSheet.prototype)return()=>{};const g=h.CSSStyleSheet.prototype.insertRule;h.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:uo((xt,$t,mn)=>{const[En,bn]=mn,{id:Un,styleId:pi}=Lh($t,o,a.styleMirror);return(Un&&-1!==Un||pi&&-1!==pi)&&r({id:Un,styleId:pi,adds:[{rule:En,index:bn}]}),xt.apply($t,mn)})});const x=h.CSSStyleSheet.prototype.deleteRule;let ee,me;h.CSSStyleSheet.prototype.deleteRule=new Proxy(x,{apply:uo((xt,$t,mn)=>{const[En]=mn,{id:bn,styleId:Un}=Lh($t,o,a.styleMirror);return(bn&&-1!==bn||Un&&-1!==Un)&&r({id:bn,styleId:Un,removes:[{index:En}]}),xt.apply($t,mn)})}),h.CSSStyleSheet.prototype.replace&&(ee=h.CSSStyleSheet.prototype.replace,h.CSSStyleSheet.prototype.replace=new Proxy(ee,{apply:uo((xt,$t,mn)=>{const[En]=mn,{id:bn,styleId:Un}=Lh($t,o,a.styleMirror);return(bn&&-1!==bn||Un&&-1!==Un)&&r({id:bn,styleId:Un,replace:En}),xt.apply($t,mn)})})),h.CSSStyleSheet.prototype.replaceSync&&(me=h.CSSStyleSheet.prototype.replaceSync,h.CSSStyleSheet.prototype.replaceSync=new Proxy(me,{apply:uo((xt,$t,mn)=>{const[En]=mn,{id:bn,styleId:Un}=Lh($t,o,a.styleMirror);return(bn&&-1!==bn||Un&&-1!==Un)&&r({id:bn,styleId:Un,replaceSync:En}),xt.apply($t,mn)})}));const xe={};yg("CSSGroupingRule")?xe.CSSGroupingRule=h.CSSGroupingRule:(yg("CSSMediaRule")&&(xe.CSSMediaRule=h.CSSMediaRule),yg("CSSConditionRule")&&(xe.CSSConditionRule=h.CSSConditionRule),yg("CSSSupportsRule")&&(xe.CSSSupportsRule=h.CSSSupportsRule));const Je={};return Object.entries(xe).forEach(([xt,$t])=>{Je[xt]={insertRule:$t.prototype.insertRule,deleteRule:$t.prototype.deleteRule},$t.prototype.insertRule=new Proxy(Je[xt].insertRule,{apply:uo((mn,En,bn)=>{const[Un,pi]=bn,{id:_i,styleId:Bi}=Lh(En.parentStyleSheet,o,a.styleMirror);return(_i&&-1!==_i||Bi&&-1!==Bi)&&r({id:_i,styleId:Bi,adds:[{rule:Un,index:[...C0(En),pi||0]}]}),mn.apply(En,bn)})}),$t.prototype.deleteRule=new Proxy(Je[xt].deleteRule,{apply:uo((mn,En,bn)=>{const[Un]=bn,{id:pi,styleId:_i}=Lh(En.parentStyleSheet,o,a.styleMirror);return(pi&&-1!==pi||_i&&-1!==_i)&&r({id:pi,styleId:_i,removes:[{index:[...C0(En),Un]}]}),mn.apply(En,bn)})})}),uo(()=>{h.CSSStyleSheet.prototype.insertRule=g,h.CSSStyleSheet.prototype.deleteRule=x,ee&&(h.CSSStyleSheet.prototype.replace=ee),me&&(h.CSSStyleSheet.prototype.replaceSync=me),Object.entries(xe).forEach(([xt,$t])=>{$t.prototype.insertRule=Je[xt].insertRule,$t.prototype.deleteRule=Je[xt].deleteRule})})}(r,{win:a}),$t=FE(r,r.doc),mn=function iS({styleDeclarationCb:r,mirror:o,ignoreCSSAttributes:a,stylesheetManager:h},{win:g}){const x=g.CSSStyleDeclaration.prototype.setProperty;g.CSSStyleDeclaration.prototype.setProperty=new Proxy(x,{apply:uo((me,xe,Je)=>{const[xt,$t,mn]=Je;if(a.has(xt))return x.apply(xe,[xt,$t,mn]);const{id:En,styleId:bn}=Lh(Ql([xe,"access",Un=>Un.parentRule,"optionalAccess",Un=>Un.parentStyleSheet]),o,h.styleMirror);return(En&&-1!==En||bn&&-1!==bn)&&r({id:En,styleId:bn,set:{property:xt,value:$t,priority:mn},index:C0(xe.parentRule)}),me.apply(xe,Je)})});const ee=g.CSSStyleDeclaration.prototype.removeProperty;return g.CSSStyleDeclaration.prototype.removeProperty=new Proxy(ee,{apply:uo((me,xe,Je)=>{const[xt]=Je;if(a.has(xt))return ee.apply(xe,[xt]);const{id:$t,styleId:mn}=Lh(Ql([xe,"access",En=>En.parentRule,"optionalAccess",En=>En.parentStyleSheet]),o,h.styleMirror);return($t&&-1!==$t||mn&&-1!==mn)&&r({id:$t,styleId:mn,remove:{property:xt},index:C0(xe.parentRule)}),me.apply(xe,Je)})}),uo(()=>{g.CSSStyleDeclaration.prototype.setProperty=x,g.CSSStyleDeclaration.prototype.removeProperty=ee})}(r,{win:a}),r.collectFonts&&(En=function T0({fontCb:r,doc:o}){const a=o.defaultView;if(!a)return()=>{};const h=[],g=new WeakMap,x=a.FontFace;a.FontFace=function(xe,Je,xt){const $t=new x(xe,Je,xt);return g.set($t,{family:xe,buffer:"string"!=typeof Je,descriptors:xt,fontSource:"string"==typeof Je?Je:JSON.stringify(Array.from(new Uint8Array(Je)))}),$t};const ee=Qf(o.fonts,"add",function(me){return function(xe){return Ph(uo(()=>{const Je=g.get(xe);Je&&(r(Je),g.delete(xe))}),0),me.apply(this,[xe])}});return h.push(()=>{a.FontFace=x}),h.push(ee),uo(()=>{h.forEach(me=>me())})}(r)));const bn=function PE(r){const{doc:o,mirror:a,blockClass:h,blockSelector:g,unblockSelector:x,selectionCb:ee}=r;let me=!0;const xe=uo(()=>{const Je=o.getSelection();if(!Je||me&&Ql([Je,"optionalAccess",mn=>mn.isCollapsed]))return;me=Je.isCollapsed||!1;const xt=[],$t=Je.rangeCount||0;for(let mn=0;mn<$t;mn++){const En=Je.getRangeAt(mn),{startContainer:bn,startOffset:Un,endContainer:pi,endOffset:_i}=En;mc(bn,h,g,x,!0)||mc(pi,h,g,x,!0)||xt.push({start:a.getId(bn),startOffset:Un,end:a.getId(pi),endOffset:_i})}ee({ranges:xt})});return xe(),Ea("selectionchange",xe)}(r),Un=function LE({doc:r,customElementCb:o}){const a=r.defaultView;return a&&a.customElements?Qf(a.customElements,"define",function(g){return function(x,ee,me){try{o({define:{name:x}})}catch{}return g.apply(this,[x,ee,me])}}):()=>{}}(r),pi=[];for(const _i of r.plugins)pi.push(_i.observer(_i.callback,a,_i.options));return uo(()=>{Zf.forEach(_i=>_i.reset()),Ql([h,"optionalAccess",_i=>_i.disconnect,"call",_i=>_i()]),g(),x(),ee(),me(),xe(),Je(),xt(),$t(),mn(),En(),bn(),Un(),pi.forEach(_i=>_i())})}function S0(r){return typeof window[r]<"u"}function yg(r){return!!(typeof window[r]<"u"&&window[r].prototype&&"insertRule"in window[r].prototype&&"deleteRule"in window[r].prototype)}class Eg{constructor(o){this.generateIdFn=o,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(o,a,h,g){const x=h||this.getIdToRemoteIdMap(o),ee=g||this.getRemoteIdToIdMap(o);let me=x.get(a);return me||(me=this.generateIdFn(),x.set(a,me),ee.set(me,a)),me}getIds(o,a){const h=this.getIdToRemoteIdMap(o),g=this.getRemoteIdToIdMap(o);return a.map(x=>this.getId(o,x,h,g))}getRemoteId(o,a,h){const g=h||this.getRemoteIdToIdMap(o);return"number"!=typeof a?a:g.get(a)||-1}getRemoteIds(o,a){const h=this.getRemoteIdToIdMap(o);return a.map(g=>this.getRemoteId(o,g,h))}reset(o){if(!o)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(o),this.iframeRemoteIdToIdMap.delete(o)}getIdToRemoteIdMap(o){let a=this.iframeIdToRemoteIdMap.get(o);return a||(a=new Map,this.iframeIdToRemoteIdMap.set(o,a)),a}getRemoteIdToIdMap(o){let a=this.iframeRemoteIdToIdMap.get(o);return a||(a=new Map,this.iframeRemoteIdToIdMap.set(o,a)),a}}function Cg(r){let o,a=r[0],h=1;for(;h<r.length;){const g=r[h],x=r[h+1];if(h+=2,("optionalAccess"===g||"optionalCall"===g)&&null==a)return;"access"===g||"optionalAccess"===g?(o=a,a=x(a)):("call"===g||"optionalCall"===g)&&(a=x((...ee)=>a.call(o,...ee)),o=void 0)}return a}class oS{constructor(){this.crossOriginIframeMirror=new Eg(uE),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class rS{constructor(o){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Eg(uE),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=o.mutationCb,this.wrappedEmit=o.wrappedEmit,this.stylesheetManager=o.stylesheetManager,this.recordCrossOriginIframes=o.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Eg(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=o.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(o){this.iframes.set(o,!0),o.contentWindow&&this.crossOriginIframeMap.set(o.contentWindow,o)}addLoadListener(o){this.loadListener=o}attachIframe(o,a){this.mutationCb({adds:[{parentId:this.mirror.getId(o),nextId:null,node:a}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Cg([this,"access",h=>h.loadListener,"optionalCall",h=>h(o)]),o.contentDocument&&o.contentDocument.adoptedStyleSheets&&o.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(o.contentDocument.adoptedStyleSheets,this.mirror.getId(o.contentDocument))}handleMessage(o){const a=o;if("rrweb"!==a.data.type||a.origin!==a.data.origin||!o.source)return;const g=this.crossOriginIframeMap.get(o.source);if(!g)return;const x=this.transformCrossOriginEvent(g,a.data.event);x&&this.wrappedEmit(x,a.data.isCheckout)}transformCrossOriginEvent(o,a){switch(a.type){case eo.FullSnapshot:{this.crossOriginIframeMirror.reset(o),this.crossOriginIframeStyleMirror.reset(o),this.replaceIdOnNode(a.data.node,o);const h=a.data.node.id;return this.crossOriginIframeRootIdMap.set(o,h),this.patchRootIdOnNode(a.data.node,h),{timestamp:a.timestamp,type:eo.IncrementalSnapshot,data:{source:Ps.Mutation,adds:[{parentId:this.mirror.getId(o),nextId:null,node:a.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case eo.Meta:case eo.Load:case eo.DomContentLoaded:return!1;case eo.Plugin:return a;case eo.Custom:return this.replaceIds(a.data.payload,o,["id","parentId","previousId","nextId"]),a;case eo.IncrementalSnapshot:switch(a.data.source){case Ps.Mutation:return a.data.adds.forEach(h=>{this.replaceIds(h,o,["parentId","nextId","previousId"]),this.replaceIdOnNode(h.node,o);const g=this.crossOriginIframeRootIdMap.get(o);g&&this.patchRootIdOnNode(h.node,g)}),a.data.removes.forEach(h=>{this.replaceIds(h,o,["parentId","id"])}),a.data.attributes.forEach(h=>{this.replaceIds(h,o,["id"])}),a.data.texts.forEach(h=>{this.replaceIds(h,o,["id"])}),a;case Ps.Drag:case Ps.TouchMove:case Ps.MouseMove:return a.data.positions.forEach(h=>{this.replaceIds(h,o,["id"])}),a;case Ps.ViewportResize:return!1;case Ps.MediaInteraction:case Ps.MouseInteraction:case Ps.Scroll:case Ps.CanvasMutation:case Ps.Input:return this.replaceIds(a.data,o,["id"]),a;case Ps.StyleSheetRule:case Ps.StyleDeclaration:return this.replaceIds(a.data,o,["id"]),this.replaceStyleIds(a.data,o,["styleId"]),a;case Ps.Font:return a;case Ps.Selection:return a.data.ranges.forEach(h=>{this.replaceIds(h,o,["start","end"])}),a;case Ps.AdoptedStyleSheet:return this.replaceIds(a.data,o,["id"]),this.replaceStyleIds(a.data,o,["styleIds"]),Cg([a,"access",h=>h.data,"access",h=>h.styles,"optionalAccess",h=>h.forEach,"call",h=>h(g=>{this.replaceStyleIds(g,o,["styleId"])})]),a}}return!1}replace(o,a,h,g){for(const x of g)!Array.isArray(a[x])&&"number"!=typeof a[x]||(a[x]=Array.isArray(a[x])?o.getIds(h,a[x]):o.getId(h,a[x]));return a}replaceIds(o,a,h){return this.replace(this.crossOriginIframeMirror,o,a,h)}replaceStyleIds(o,a,h){return this.replace(this.crossOriginIframeStyleMirror,o,a,h)}replaceIdOnNode(o,a){this.replaceIds(o,a,["id","rootId"]),"childNodes"in o&&o.childNodes.forEach(h=>{this.replaceIdOnNode(h,a)})}patchRootIdOnNode(o,a){o.type!==Et.Document&&!o.rootId&&(o.rootId=a),"childNodes"in o&&o.childNodes.forEach(h=>{this.patchRootIdOnNode(h,a)})}}class aS{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class lS{constructor(o){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=o.mutationCb,this.scrollCb=o.scrollCb,this.bypassOptions=o.bypassOptions,this.mirror=o.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(o,a){if(!zn(o)||this.shadowDoms.has(o))return;this.shadowDoms.add(o),this.bypassOptions.canvasManager.addShadowRoot(o);const h=xb({...this.bypassOptions,doc:a,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},o);this.restoreHandlers.push(()=>h.disconnect()),this.restoreHandlers.push(Ab({...this.bypassOptions,scrollCb:this.scrollCb,doc:o,mirror:this.mirror})),Ph(()=>{o.adoptedStyleSheets&&o.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(o.adoptedStyleSheets,this.mirror.getId(o.host)),this.restoreHandlers.push(FE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},o))},0)}observeAttachShadow(o){!o.contentWindow||!o.contentDocument||this.patchAttachShadow(o.contentWindow.Element,o.contentDocument)}patchAttachShadow(o,a){const h=this;this.restoreHandlers.push(Qf(o.prototype,"attachShadow",function(g){return function(x){const ee=g.call(this,x);return this.shadowRoot&&E0(this)&&h.addShadowRoot(this.shadowRoot,a),ee}}))}reset(){this.restoreHandlers.forEach(o=>{try{o()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class BE{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class cS{constructor(o){this.trackedLinkElements=new WeakSet,this.styleMirror=new SE,this.mutationCb=o.mutationCb,this.adoptedStyleSheetCb=o.adoptedStyleSheetCb}attachLinkElement(o,a){"_cssText"in a.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:a.id,attributes:a.attributes}]}),this.trackLinkElement(o)}trackLinkElement(o){this.trackedLinkElements.has(o)||(this.trackedLinkElements.add(o),this.trackStylesheetInLinkElement(o))}adoptStyleSheets(o,a){if(0===o.length)return;const h={id:a,styleIds:[]},g=[];for(const x of o){let ee;this.styleMirror.has(x)?ee=this.styleMirror.getId(x):(ee=this.styleMirror.add(x),g.push({styleId:ee,rules:Array.from(x.rules||CSSRule,(me,xe)=>({rule:us(me),index:xe}))})),h.styleIds.push(ee)}g.length>0&&(h.styles=g),this.adoptedStyleSheetCb(h)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(o){}}class kb{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function _g(...r){Jf("requestAnimationFrame")(...r)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(o,a){const h=this.nodeMap.get(o);return h&&Array.from(h).some(g=>g!==a)}add(o,a){this.nodeMap.set(o,(this.nodeMap.get(o)||new Set).add(a))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let ur,Tg;try{if(2!==Array.from([1],r=>2*r)[0]){const r=document.createElement("iframe");document.body.appendChild(r),Array.from=Ba([r,"access",o=>o.contentWindow,"optionalAccess",o=>o.Array,"access",o=>o.from])||Array.from,document.body.removeChild(r)}}catch(r){console.debug("Unable to override Array.from",r)}const Lc=function hg(){return new br}();function Vu(r={}){const{emit:o,checkoutEveryNms:a,checkoutEveryNth:h,blockClass:g="rr-block",blockSelector:x=null,unblockSelector:ee=null,ignoreClass:me="rr-ignore",ignoreSelector:xe=null,maskAllText:Je=!1,maskTextClass:xt="rr-mask",unmaskTextClass:$t=null,maskTextSelector:mn=null,unmaskTextSelector:En=null,inlineStylesheet:bn=!0,maskAllInputs:Un,maskInputOptions:pi,slimDOMOptions:_i,maskAttributeFn:Bi,maskInputFn:qi,maskTextFn:Gi,maxCanvasSize:vs=null,packFn:Ti,sampling:ei={},dataURLOptions:Vi={},mousemoveWait:Zs,recordDOM:xi=!0,recordCanvas:hs=!1,recordCrossOriginIframes:Os=!1,recordAfter:Go=("DOMContentLoaded"===r.recordAfter?r.recordAfter:"load"),userTriggeredOnInput:Qo=!1,collectFonts:qr=!1,inlineImages:ai=!1,plugins:Ei,keepIframeSrcFn:Ii=()=>!1,ignoreCSSAttributes:ws=new Set([]),errorHandler:Jo,onMutation:Zl,getCanvasManager:wl}=r;!function wb(r){mg=r}(Jo);const gc=!Os||window.parent===window;let Ko=!1;if(!gc)try{window.parent.document&&(Ko=!1)}catch{Ko=!0}if(gc&&!o)throw new Error("emit function is required");void 0!==Zs&&void 0===ei.mousemove&&(ei.mousemove=Zs),Lc.reset();const Ed=!0===Un?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==pi?pi:{},Qg=!0===_i||"all"===_i?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_i,headMetaDescKeywords:"all"===_i}:_i||{};!function y0(r=window){"NodeList"in r&&!r.NodeList.prototype.forEach&&(r.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in r&&!r.DOMTokenList.prototype.forEach&&(r.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...o)=>{let a=o[0];if(!(0 in o))throw new TypeError("1 argument is required");do{if(this===a)return!0}while(a=a&&a.parentNode);return!1})}();let Ca,jc=0;const xl=Gs=>{for(const ha of Ei||[])ha.eventProcessor&&(Gs=ha.eventProcessor(Gs));return Ti&&!Ko&&(Gs=Ti(Gs)),Gs};ur=(Gs,ha)=>{const go=Gs;if(go.timestamp=pg(),Ba([Zf,"access",Dr=>Dr[0],"optionalAccess",Dr=>Dr.isFrozen,"call",Dr=>Dr()])&&go.type!==eo.FullSnapshot&&!(go.type===eo.IncrementalSnapshot&&go.data.source===Ps.Mutation)&&Zf.forEach(Dr=>Dr.unfreeze()),gc)Ba([o,"optionalCall",Dr=>Dr(xl(go),ha)]);else if(Ko){const Dr={type:"rrweb",event:xl(go),origin:window.location.origin,isCheckout:ha};window.parent.postMessage(Dr,"*")}if(go.type===eo.FullSnapshot)Ca=go,jc=0;else if(go.type===eo.IncrementalSnapshot){if(go.data.source===Ps.Mutation&&go.data.isAttachIframe)return;jc++,(h&&jc>=h||a&&Ca&&go.timestamp-Ca.timestamp>a)&&Uc(!0)}};const lu=Gs=>{ur({type:eo.IncrementalSnapshot,data:{source:Ps.Mutation,...Gs}})},Jg=Gs=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.Scroll,...Gs}}),yy=Gs=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.CanvasMutation,...Gs}}),zu=new cS({mutationCb:lu,adoptedStyleSheetCb:Gs=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.AdoptedStyleSheet,...Gs}})}),Wu="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new oS:new rS({mirror:Lc,mutationCb:lu,stylesheetManager:zu,recordCrossOriginIframes:Os,wrappedEmit:ur});for(const Gs of Ei||[])Gs.getMirror&&Gs.getMirror({nodeMirror:Lc,crossOriginIframeMirror:Wu.crossOriginIframeMirror,crossOriginIframeStyleMirror:Wu.crossOriginIframeStyleMirror});const vc=new kb,Cy=function M0(r,o){try{return r?r(o):new BE}catch{return console.warn("Unable to initialize CanvasManager"),new BE}}(wl,{mirror:Lc,win:window,mutationCb:Gs=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.CanvasMutation,...Gs}}),recordCanvas:hs,blockClass:g,blockSelector:x,unblockSelector:ee,maxCanvasSize:vs,sampling:ei.canvas,dataURLOptions:Vi,errorHandler:Jo}),Zg="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new aS:new lS({mutationCb:lu,scrollCb:Jg,bypassOptions:{onMutation:Zl,blockClass:g,blockSelector:x,unblockSelector:ee,maskAllText:Je,maskTextClass:xt,unmaskTextClass:$t,maskTextSelector:mn,unmaskTextSelector:En,inlineStylesheet:bn,maskInputOptions:Ed,dataURLOptions:Vi,maskAttributeFn:Bi,maskTextFn:Gi,maskInputFn:qi,recordCanvas:hs,inlineImages:ai,sampling:ei,slimDOMOptions:Qg,iframeManager:Wu,stylesheetManager:zu,canvasManager:Cy,keepIframeSrcFn:Ii,processedNodeManager:vc},mirror:Lc}),Uc=(Gs=!1)=>{if(!xi)return;ur({type:eo.Meta,data:{href:window.location.href,width:EE(),height:yE()}},Gs),zu.reset(),Zg.init(),Zf.forEach(go=>go.lock());const ha=function Eb(r,o){const{mirror:a=new br,blockClass:h="rr-block",blockSelector:g=null,unblockSelector:x=null,maskAllText:ee=!1,maskTextClass:me="rr-mask",unmaskTextClass:xe=null,maskTextSelector:Je=null,unmaskTextSelector:xt=null,inlineStylesheet:$t=!0,inlineImages:mn=!1,recordCanvas:En=!1,maskAllInputs:bn=!1,maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,slimDOM:Bi=!1,dataURLOptions:qi,preserveWhiteSpace:Gi,onSerialize:vs,onIframeLoad:Ti,iframeLoadTimeout:ei,onStylesheetLoad:Vi,stylesheetLoadTimeout:Zs,keepIframeSrcFn:xi=()=>!1}=o||{};return S_(r,{doc:r,mirror:a,blockClass:h,blockSelector:g,unblockSelector:x,maskAllText:ee,maskTextClass:me,unmaskTextClass:xe,maskTextSelector:Je,unmaskTextSelector:xt,skipChild:!1,inlineStylesheet:$t,maskInputOptions:!0===bn?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===bn?{}:bn,maskAttributeFn:Un,maskTextFn:pi,maskInputFn:_i,slimDOMOptions:!0===Bi||"all"===Bi?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===Bi,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===Bi?{}:Bi,dataURLOptions:qi,inlineImages:mn,recordCanvas:En,preserveWhiteSpace:Gi,onSerialize:vs,onIframeLoad:Ti,iframeLoadTimeout:ei,onStylesheetLoad:Vi,stylesheetLoadTimeout:Zs,keepIframeSrcFn:xi,newlyAddedElement:!1})}(document,{mirror:Lc,blockClass:g,blockSelector:x,unblockSelector:ee,maskAllText:Je,maskTextClass:xt,unmaskTextClass:$t,maskTextSelector:mn,unmaskTextSelector:En,inlineStylesheet:bn,maskAllInputs:Ed,maskAttributeFn:Bi,maskInputFn:qi,maskTextFn:Gi,slimDOM:Qg,dataURLOptions:Vi,recordCanvas:hs,inlineImages:ai,onSerialize:go=>{TE(go,Lc)&&Wu.addIframe(go),Db(go,Lc)&&zu.trackLinkElement(go),Ib(go)&&Zg.addShadowRoot(go.shadowRoot,document)},onIframeLoad:(go,Dr)=>{Wu.attachIframe(go,Dr),go.contentWindow&&Cy.addWindow(go.contentWindow),Zg.observeAttachShadow(go)},onStylesheetLoad:(go,Dr)=>{zu.attachLinkElement(go,Dr)},keepIframeSrcFn:Ii});if(!ha)return console.warn("Failed to snapshot the document");ur({type:eo.FullSnapshot,data:{node:ha,initialOffset:Cb(window)}}),Zf.forEach(go=>go.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&zu.adoptStyleSheets(document.adoptedStyleSheets,Lc.getId(document))};Tg=Uc;try{const Gs=[],ha=Dr=>uo(NE)({onMutation:Zl,mutationCb:lu,mousemoveCb:(Fo,sp)=>ur({type:eo.IncrementalSnapshot,data:{source:sp,positions:Fo}}),mouseInteractionCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.MouseInteraction,...Fo}}),scrollCb:Jg,viewportResizeCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.ViewportResize,...Fo}}),inputCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.Input,...Fo}}),mediaInteractionCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.MediaInteraction,...Fo}}),styleSheetRuleCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.StyleSheetRule,...Fo}}),styleDeclarationCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.StyleDeclaration,...Fo}}),canvasMutationCb:yy,fontCb:Fo=>ur({type:eo.IncrementalSnapshot,data:{source:Ps.Font,...Fo}}),selectionCb:Fo=>{ur({type:eo.IncrementalSnapshot,data:{source:Ps.Selection,...Fo}})},customElementCb:Fo=>{ur({type:eo.IncrementalSnapshot,data:{source:Ps.CustomElement,...Fo}})},blockClass:g,ignoreClass:me,ignoreSelector:xe,maskAllText:Je,maskTextClass:xt,unmaskTextClass:$t,maskTextSelector:mn,unmaskTextSelector:En,maskInputOptions:Ed,inlineStylesheet:bn,sampling:ei,recordDOM:xi,recordCanvas:hs,inlineImages:ai,userTriggeredOnInput:Qo,collectFonts:qr,doc:Dr,maskAttributeFn:Bi,maskInputFn:qi,maskTextFn:Gi,keepIframeSrcFn:Ii,blockSelector:x,unblockSelector:ee,slimDOMOptions:Qg,dataURLOptions:Vi,mirror:Lc,iframeManager:Wu,stylesheetManager:zu,shadowDomManager:Zg,processedNodeManager:vc,canvasManager:Cy,ignoreCSSAttributes:ws,plugins:Ba([Ei,"optionalAccess",Fo=>Fo.filter,"call",Fo=>Fo(sp=>sp.observer),"optionalAccess",Fo=>Fo.map,"call",Fo=>Fo(sp=>({observer:sp.observer,options:sp.options,callback:VM=>ur({type:eo.Plugin,data:{plugin:sp.name,payload:VM}})}))])||[]},{});Wu.addLoadListener(Dr=>{try{Gs.push(ha(Dr.contentDocument))}catch(Fo){console.warn(Fo)}});const go=()=>{Uc(),Gs.push(ha(document))};return"interactive"===document.readyState||"complete"===document.readyState?go():(Gs.push(Ea("DOMContentLoaded",()=>{ur({type:eo.DomContentLoaded,data:{}}),"DOMContentLoaded"===Go&&go()})),Gs.push(Ea("load",()=>{ur({type:eo.Load,data:{}}),"load"===Go&&go()},window))),()=>{Gs.forEach(Dr=>Dr()),vc.destroy(),Tg=void 0,function gg(){mg=void 0}()}}catch(Gs){console.warn(Gs)}}Vu.mirror=Lc,Vu.takeFullSnapshot=function Sg(r){if(!Tg)throw new Error("please take full snapshot after start recording");Tg(r)};const Ms=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$E=["info","warn","error","log"],Mg="[Replay] ";function Dg(r,o="info"){Vd({category:"console",data:{logger:"replay"},level:o,message:`${Mg}${r}`},{level:o})}const Is=function dS(){let r=!1,o=!1;const a={exception:()=>{},infoTick:()=>{},setConfig:h=>{r=h.captureExceptions,o=h.traceInternals}};return Ms?($E.forEach(h=>{a[h]=(...g)=>{li[h](Mg,...g),o&&Dg(g[0])}}),a.exception=(h,...g)=>{a.error&&a.error(...g),li.error(Mg,h),r?kd(h):o&&Dg(h)},a.infoTick=(...h)=>{li.info(Mg,...h),o&&setTimeout(()=>Dg(h[0]),0)}):$E.forEach(h=>{a[h]=()=>{}}),a}(),uS=3;function D0(r){return r>9999999999?r:1e3*r}function I0(r){return r>9999999999?r/1e3:r}function qf(r,o){"sentry.transaction"!==o.category&&(["ui.click","ui.input"].includes(o.category)?r.triggerUserActivity():r.checkAndHandleExpiredSession(),r.addUpdate(()=>(r.throttledAddEvent({type:eo.Custom,timestamp:1e3*(o.timestamp||0),data:{tag:"breadcrumb",payload:rc(o,10,1e3)}}),"console"===o.category)))}const hS="button,a";function UE(r){return r.closest(hS)||r}function VE(r){const o=GE(r);return o&&o instanceof Element?UE(o):o}function GE(r){return function fS(r){return"object"==typeof r&&!!r&&"target"in r}(r)?r.target:r}let Nh;const _S=new Set([Ps.Mutation,Ps.StyleSheetRule,Ps.StyleDeclaration,Ps.AdoptedStyleSheet,Ps.CanvasMutation,Ps.Selection,Ps.MediaInteraction]);class ep{constructor(o,a,h=qf){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=a.timeout/1e3,this._threshold=a.threshold/1e3,this._scollTimeout=a.scrollTimeout/1e3,this._replay=o,this._ignoreSelector=a.ignoreSelector,this._addBreadcrumbEvent=h}addListeners(){const o=function Fb(r){return Nh||(Nh=[],function pS(){_r(Vo,"open",function(r){return function(...o){if(Nh)try{Nh.forEach(a=>a())}catch{}return r.apply(Vo,o)}})}()),Nh.push(r),()=>{const o=Nh?Nh.indexOf(r):-1;o>-1&&Nh.splice(o,1)}}(()=>{this._lastMutation=KE()});this._teardown=()=>{o(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(o,a){if(function Pb(r,o){return!!(!Ig.includes(r.tagName)||"INPUT"===r.tagName&&!["submit","button"].includes(r.getAttribute("type")||"")||"A"===r.tagName&&(r.hasAttribute("download")||r.hasAttribute("target")&&"_self"!==r.getAttribute("target"))||o&&r.matches(o))}(a,this._ignoreSelector)||!function Lb(r){return!(!r.data||"number"!=typeof r.data.nodeId||!r.timestamp)}(o))return;const h={timestamp:I0(o.timestamp),clickBreadcrumb:o,clickCount:0,node:a};this._clicks.some(g=>g.node===h.node&&Math.abs(g.timestamp-h.timestamp)<1)||(this._clicks.push(h),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(o=Date.now()){this._lastMutation=I0(o)}registerScroll(o=Date.now()){this._lastScroll=I0(o)}registerClick(o){const a=UE(o);this._handleMultiClick(a)}_handleMultiClick(o){this._getClicks(o).forEach(a=>{a.clickCount++})}_getClicks(o){return this._clicks.filter(a=>a.node===o)}_checkClicks(){const o=[],a=KE();this._clicks.forEach(h=>{!h.mutationAfter&&this._lastMutation&&(h.mutationAfter=h.timestamp<=this._lastMutation?this._lastMutation-h.timestamp:void 0),!h.scrollAfter&&this._lastScroll&&(h.scrollAfter=h.timestamp<=this._lastScroll?this._lastScroll-h.timestamp:void 0),h.timestamp+this._timeout<=a&&o.push(h)});for(const h of o){const g=this._clicks.indexOf(h);g>-1&&(this._generateBreadcrumbs(h),this._clicks.splice(g,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(o){const a=this._replay,x=!(o.scrollAfter&&o.scrollAfter<=this._scollTimeout||o.mutationAfter&&o.mutationAfter<=this._threshold),{clickCount:ee,clickBreadcrumb:me}=o;if(x){const xe=1e3*Math.min(o.mutationAfter||this._timeout,this._timeout),Je=xe<1e3*this._timeout?"mutation":"timeout",xt={type:"default",message:me.message,timestamp:me.timestamp,category:"ui.slowClickDetected",data:{...me.data,url:Vo.location.href,route:a.getCurrentRoute(),timeAfterClickMs:xe,endReason:Je,clickCount:ee||1}};this._addBreadcrumbEvent(a,xt)}else if(ee>1){const xe={type:"default",message:me.message,timestamp:me.timestamp,category:"ui.multiClick",data:{...me.data,url:Vo.location.href,route:a.getCurrentRoute(),clickCount:ee,metric:!0}};this._addBreadcrumbEvent(a,xe)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=pl(()=>this._checkClicks(),1e3)}}const Ig=["A","BUTTON","INPUT"];function KE(){return Date.now()/1e3}function ou(r){return{timestamp:Date.now()/1e3,type:"default",...r}}var Nb=function(r){return r[r.Document=0]="Document",r[r.DocumentType=1]="DocumentType",r[r.Element=2]="Element",r[r.Text=3]="Text",r[r.CDATA=4]="CDATA",r[r.Comment=5]="Comment",r}(Nb||{});const vS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function bS(r){const o={};!r["data-sentry-component"]&&r["data-sentry-element"]&&(r["data-sentry-component"]=r["data-sentry-element"]);for(const a in r)if(vS.has(a)){let h=a;("data-testid"===a||"data-test-id"===a)&&(h="testId"),o[h]=r[a]}return o}function XE(r,o){const a=Vu.mirror.getId(r),h=a&&Vu.mirror.getNode(a),g=h&&Vu.mirror.getMeta(h),x=g&&function yS(r){return r.type===Nb.Element}(g)?g:null;return{message:o,data:x?{nodeId:a,node:{id:a,tagName:x.tagName,textContent:Array.from(x.childNodes).map(ee=>ee.type===Nb.Text&&ee.textContent).filter(Boolean).map(ee=>ee.trim()).join(""),attributes:bS(x.attributes)}}:{}}}const TS={resource:function SS(r){const{entryType:o,initiatorType:a,name:h,responseEnd:g,startTime:x,decodedBodySize:ee,encodedBodySize:me,responseStatus:xe,transferSize:Je}=r;return["fetch","xmlhttprequest"].includes(a)?null:{type:`${o}.${a}`,start:wg(x),end:wg(g),name:h,data:{size:Je,statusCode:xe,decodedBodySize:ee,encodedBodySize:me}}},paint:function QE(r){const{duration:o,entryType:a,name:h,startTime:g}=r,x=wg(g);return{type:a,name:h,start:x,end:x+o,data:void 0}},navigation:function Bb(r){const{entryType:o,name:a,decodedBodySize:h,duration:g,domComplete:x,encodedBodySize:ee,domContentLoadedEventStart:me,domContentLoadedEventEnd:xe,domInteractive:Je,loadEventStart:xt,loadEventEnd:$t,redirectCount:mn,startTime:En,transferSize:bn,type:Un}=r;return 0===g?null:{type:`${o}.${Un}`,start:wg(En),end:wg(x),name:a,data:{size:bn,decodedBodySize:h,encodedBodySize:ee,duration:g,domInteractive:Je,domContentLoadedEventStart:me,domContentLoadedEventEnd:xe,loadEventStart:xt,loadEventEnd:$t,domComplete:x,redirectCount:mn}}}};function ru(r,o){return({metric:a})=>{o.replayPerformanceEntries.push(r(a))}}function Og(r){const o=TS[r.entryType];return o?o(r):null}function wg(r){return((Xr||Vo.performance.timeOrigin)+r)/1e3}function JE(r){const o=r.entries[r.entries.length-1];return Bh(r,"largest-contentful-paint",o&&o.element?[o.element]:void 0)}function MS(r){return void 0!==r.sources}function ZE(r){const o=[],a=[];for(const h of r.entries)if(MS(h)){const g=[];for(const x of h.sources)if(x.node){a.push(x.node);const ee=Vu.mirror.getId(x.node);ee&&g.push(ee)}o.push({value:h.value,nodeIds:g})}return Bh(r,"cumulative-layout-shift",a,o)}function KD(r){const o=r.entries[r.entries.length-1];return Bh(r,"first-input-delay",o&&o.target?[o.target]:void 0)}function DS(r){const o=r.entries[r.entries.length-1];return Bh(r,"interaction-to-next-paint",o&&o.target?[o.target]:void 0)}function Bh(r,o,a,h){const g=r.value,x=r.rating,ee=wg(g);return{type:"web-vital",name:o,start:ee,end:ee,data:{value:g,size:g,rating:x,nodeIds:a?a.map(xe=>Vu.mirror.getId(xe)):void 0,attributions:h}}}class jb extends Error{constructor(){super(`Event buffer exceeded maximum size of ${y}.`)}}class w0{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(o){var a=this;return(0,Ys.A)(function*(){const h=JSON.stringify(o).length;if(a._totalSize+=h,a._totalSize>y)throw new jb;a.events.push(o)})()}finish(){return new Promise(o=>{const a=this.events;this.clear(),o(JSON.stringify(a))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const o=this.events.map(a=>a.timestamp).sort()[0];return o?D0(o):null}}class $h{constructor(o){this._worker=o,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((o,a)=>{this._worker.addEventListener("message",({data:h})=>{h.success?o():a()},{once:!0}),this._worker.addEventListener("error",h=>{a(h)},{once:!0})})),this._ensureReadyPromise}destroy(){Ms&&Is.info("Destroying compression worker"),this._worker.terminate()}postMessage(o,a){const h=this._getAndIncrementId();return new Promise((g,x)=>{const ee=({data:me})=>{const xe=me;if(xe.method===o&&xe.id===h){if(this._worker.removeEventListener("message",ee),!xe.success)return Ms&&Is.error("Error in compression worker: ",xe.response),void x(new Error("Error in compression worker"));g(xe.response)}};this._worker.addEventListener("message",ee),this._worker.postMessage({id:h,method:o,arg:a})})}_getAndIncrementId(){return this._id++}}class x0{constructor(o){this._worker=new $h(o),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(o){const a=D0(o.timestamp);(!this._earliestTimestamp||a<this._earliestTimestamp)&&(this._earliestTimestamp=a);const h=JSON.stringify(o);return this._totalSize+=h.length,this._totalSize>y?Promise.reject(new jb):this._sendEventToWorker(h)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,o=>{Ms&&Is.exception(o,'Sending "clear" message to worker failed',o)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(o){return this._worker.postMessage("addEvent",o)}_finishRequest(){var o=this;return(0,Ys.A)(function*(){const a=yield o._worker.postMessage("finish");return o._earliestTimestamp=null,o._totalSize=0,a})()}}class qE{constructor(o){this._fallback=new w0,this._compression=new x0(o),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(o){this._used.hasCheckout=o}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(o){return this._used.addEvent(o)}finish(){var o=this;return(0,Ys.A)(function*(){return yield o.ensureWorkerIsLoaded(),o._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var o=this;return(0,Ys.A)(function*(){try{yield o._compression.ensureReady()}catch(a){return void(Ms&&Is.exception(a,"Failed to load the compression worker, falling back to simple buffer"))}yield o._switchToCompressionWorker()})()}_switchToCompressionWorker(){var o=this;return(0,Ys.A)(function*(){const{events:a,hasCheckout:h}=o._fallback,g=[];for(const x of a)g.push(o._compression.addEvent(x));o._compression.hasCheckout=h,o._used=o._compression;try{yield Promise.all(g)}catch(x){Ms&&Is.exception(x,"Failed to add events when switching buffers.")}})()}}function Ag(){try{return"sessionStorage"in Vo&&!!Vo.sessionStorage}catch{return!1}}function I_(r){return void 0!==r&&Math.random()<r}function AS(r){const o=Date.now();return{id:r.id||Mo(),started:r.started||o,lastActivity:r.lastActivity||o,segmentId:r.segmentId||0,sampled:r.sampled,previousSessionId:r.previousSessionId}}function O_(r){if(Ag())try{Vo.sessionStorage.setItem(Xf,JSON.stringify(r))}catch{}}function Ub({sessionSampleRate:r,allowBuffering:o,stickySession:a=!1},{previousSessionId:h}={}){const g=function tC(r,o){return I_(r)?"session":!!o&&"buffer"}(r,o),x=AS({sampled:g,previousSessionId:h});return a&&O_(x),x}function tp(r,o,a=+new Date){return null===r||void 0===o||o<0||0!==o&&r+o<=a}function nC(r,{maxReplayDuration:o,sessionIdleExpire:a,targetTime:h=Date.now()}){return tp(r.started,o,h)||tp(r.lastActivity,a,h)}function iC(r,{sessionIdleExpire:o,maxReplayDuration:a}){return!(!nC(r,{sessionIdleExpire:o,maxReplayDuration:a})||"buffer"===r.sampled&&0===r.segmentId)}function Vb({sessionIdleExpire:r,maxReplayDuration:o,previousSessionId:a},h){const g=h.stickySession&&function RS(){if(!Ag())return null;try{const r=Vo.sessionStorage.getItem(Xf);if(!r)return null;const o=JSON.parse(r);return Ms&&Is.infoTick("Loading existing session"),AS(o)}catch{return null}}();return g?iC(g,{sessionIdleExpire:r,maxReplayDuration:o})?(Ms&&Is.infoTick("Session in sessionStorage is expired, creating new one..."),Ub(h,{previousSessionId:g.id})):g:(Ms&&Is.infoTick("Creating new session"),Ub(h,{previousSessionId:a}))}function Gb(r,o,a){return!!Rg(r,o)&&(sC(r,o,a),!0)}function sC(r,o,a){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,Ys.A)(function*(r,o,a){if(!r.eventBuffer)return null;try{a&&"buffer"===r.recordingMode&&r.eventBuffer.clear(),a&&(r.eventBuffer.hasCheckout=!0);const g=function PS(r,o){try{if("function"==typeof o&&function kS(r){return r.type===eo.Custom}(r))return o(r)}catch(a){return Ms&&Is.exception(a,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return r}(o,r.getOptions().beforeAddRecordingEvent);return g?yield r.eventBuffer.addEvent(g):void 0}catch(h){const g=h&&h instanceof jb?"addEventSizeExceeded":"addEvent";r.handleException(h),yield r.stop({reason:g});const x=gi();x&&x.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function Rg(r,o){if(!r.eventBuffer||r.isPaused()||!r.isEnabled())return!1;const a=D0(o.timestamp);return!(a+r.timeouts.sessionIdlePause<Date.now()||a>r.getContext().initialTimestamp+r.getOptions().maxReplayDuration&&(Ms&&Is.infoTick(`Skipping event with timestamp ${a} because it is after maxReplayDuration`),1))}function zb(r){return!r.type}function A0(r){return"transaction"===r.type}function R0(r){return"feedback"===r.type}function k0(r){return!!r.category}function F0(r,o){return o.map(({type:a,start:h,end:g,name:x,data:ee})=>{const me=r.throttledAddEvent({type:eo.Custom,timestamp:h,data:{tag:"performanceSpan",payload:{op:a,description:x,startTimestamp:h,endTimestamp:g,data:ee}}});return"string"==typeof me?Promise.resolve(null):me})}function Qb(r,o){r.isEnabled()&&null!==o&&(function VS(r,o){return(!Ms||!r.getOptions()._experiments.traceInternals)&&function __(r,o){const a=o&&o.getDsn(),h=o&&o.getOptions().tunnel;return function Bu(r,o){return!!o&&r.includes(o.host)}(r,a)||function h0(r,o){return!!o&&lg(r)===lg(o)}(r,h)}(o,gi())}(r,o.name)||r.addUpdate(()=>(F0(r,[o]),!0)))}function w_(r){if(!r)return;const o=new TextEncoder;try{if("string"==typeof r)return o.encode(r).length;if(r instanceof URLSearchParams)return o.encode(r.toString()).length;if(r instanceof FormData){const a=L0(r);return o.encode(a).length}if(r instanceof Blob)return r.size;if(r instanceof ArrayBuffer)return r.byteLength}catch{}}function P0(r){if(!r)return;const o=parseInt(r,10);return isNaN(o)?void 0:o}function Jb(r){try{if("string"==typeof r)return[r];if(r instanceof URLSearchParams)return[r.toString()];if(r instanceof FormData)return[L0(r)];if(!r)return[void 0]}catch(o){return Ms&&Is.exception(o,"Failed to serialize body",r),[void 0,"BODY_PARSE_ERROR"]}return Ms&&Is.info("Skipping network body because of body type",r),[void 0,"UNPARSEABLE_BODY_TYPE"]}function kg(r,o){if(!r)return{headers:{},size:void 0,_meta:{warnings:[o]}};const a={...r._meta};return a.warnings=[...a.warnings||[],o],r._meta=a,r}function Zb(r,o){if(!o)return null;const{startTimestamp:a,endTimestamp:h,url:g,method:x,statusCode:ee,request:me,response:xe}=o;return{type:r,start:a/1e3,end:h/1e3,name:g,data:bo({method:x,statusCode:ee,request:me,response:xe})}}function Fg(r){return{headers:{},size:r,_meta:{warnings:["URL_SKIPPED"]}}}function Gu(r,o,a){if(!o&&0===Object.keys(r).length)return;if(!o)return{headers:r};if(!a)return{headers:r,size:o};const h={headers:r,size:o},{body:g,warnings:x}=function uC(r){if(!r||"string"!=typeof r)return{body:r};const o=r.length>ug,a=function hC(r){const o=r[0],a=r[r.length-1];return"["===o&&"]"===a||"{"===o&&"}"===a}(r);if(o){const h=r.slice(0,ug);return a?{body:h,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${h}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(a)try{return{body:JSON.parse(r)}}catch{}return{body:r}}(a);return h.body=g,x&&x.length>0&&(h._meta={warnings:x}),h}function qb(r,o){return Object.entries(r).reduce((a,[h,g])=>{const x=h.toLowerCase();return o.includes(x)&&r[h]&&(a[x]=g),a},{})}function L0(r){return new URLSearchParams(r).toString()}function Ua(r,o){const a=function ey(r,o=Vo.document.baseURI){if(r.startsWith("http://")||r.startsWith("https://")||r.startsWith(Vo.location.origin))return r;const a=new URL(r,o);if(a.origin!==new URL(o).origin)return r;const h=a.href;return!r.endsWith("/")&&h.endsWith("/")?h.slice(0,-1):h}(r);return Ya(a,o)}function fC(){return fC=(0,Ys.A)(function*(r,o,a){try{const h=yield function _C(r,o,a){return N0.apply(this,arguments)}(r,o,a),g=Zb("resource.fetch",h);Qb(a.replay,g)}catch(h){Ms&&Is.exception(h,"Failed to capture fetch breadcrumb")}}),fC.apply(this,arguments)}function N0(){return N0=(0,Ys.A)(function*(r,o,a){const h=Date.now(),{startTimestamp:g=h,endTimestamp:x=h}=o,{url:ee,method:me,status_code:xe=0,request_body_size:Je,response_body_size:xt}=r.data,$t=Ua(ee,a.networkDetailAllowUrls)&&!Ua(ee,a.networkDetailDenyUrls),mn=$t?function ty({networkCaptureBodies:r,networkRequestHeaders:o},a,h){const g=a?function WD(r,o){return 1===r.length&&"string"!=typeof r[0]?zS(r[0],o):2===r.length?zS(r[1],o):{}}(a,o):{};if(!r)return Gu(g,h,void 0);const x=GS(a),[ee,me]=Jb(x),xe=Gu(g,h,ee);return me?kg(xe,me):xe}(a,o.input,Je):Fg(Je),En=yield function mC(r,o,a,h){return B0.apply(this,arguments)}($t,a,o.response,xt);return{startTimestamp:g,endTimestamp:x,url:ee,method:me,statusCode:xe,request:mn,response:En}}),N0.apply(this,arguments)}function B0(){return B0=(0,Ys.A)(function*(r,{networkCaptureBodies:o,networkResponseHeaders:a},h,g){if(!r&&void 0!==g)return Fg(g);const x=h?KS(h.headers,a):{};if(!h||!o&&void 0!==g)return Gu(x,g,void 0);const[ee,me]=yield function vC(r){return ny.apply(this,arguments)}(h),xe=function gC(r,{networkCaptureBodies:o,responseBodySize:a,captureDetails:h,headers:g}){try{const x=r&&r.length&&void 0===a?w_(r):a;return h?Gu(g,x,o?r:void 0):Fg(x)}catch(x){return Ms&&Is.exception(x,"Failed to serialize response body"),Gu(g,a,void 0)}}(ee,{networkCaptureBodies:o,responseBodySize:g,captureDetails:r,headers:x});return me?kg(xe,me):xe}),B0.apply(this,arguments)}function ny(){return(ny=(0,Ys.A)(function*(r){const o=function bC(r){try{return r.clone()}catch(o){Ms&&Is.exception(o,"Failed to clone response body")}}(r);if(!o)return[void 0,"BODY_PARSE_ERROR"];try{return[yield WS(o)]}catch(a){return Ms&&Is.exception(a,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function GS(r=[]){if(2===r.length&&"object"==typeof r[1])return r[1].body}function KS(r,o){const a={};return o.forEach(h=>{r.get(h)&&(a[h]=r.get(h))}),a}function zS(r,o){if(!r)return{};const a=r.headers;return a?a instanceof Headers?KS(a,o):Array.isArray(a)?{}:qb(a,o):{}}function WS(r){return new Promise((o,a)=>{const h=pl(()=>a(new Error("Timeout while trying to read response body")),500);(function XS(r){return yC.apply(this,arguments)})(r).then(g=>o(g),g=>a(g)).finally(()=>clearTimeout(h))})}function yC(){return(yC=(0,Ys.A)(function*(r){return yield r.text()})).apply(this,arguments)}function $0(){return($0=(0,Ys.A)(function*(r,o,a){try{const h=function HD(r,o,a){const h=Date.now(),{startTimestamp:g=h,endTimestamp:x=h,input:ee,xhr:me}=o,{url:xe,method:Je,status_code:xt=0,request_body_size:$t,response_body_size:mn}=r.data;if(!xe)return null;if(!me||!Ua(xe,a.networkDetailAllowUrls)||Ua(xe,a.networkDetailDenyUrls))return{startTimestamp:g,endTimestamp:x,url:xe,method:Je,statusCode:xt,request:Fg($t),response:Fg(mn)};const En=me[Vl],bn=En?qb(En.request_headers,a.networkRequestHeaders):{},Un=qb(function YD(r){const o=r.getAllResponseHeaders();return o?o.split("\r\n").reduce((a,h)=>{const[g,x]=h.split(": ");return x&&(a[g.toLowerCase()]=x),a},{}):{}}(me),a.networkResponseHeaders),[pi,_i]=a.networkCaptureBodies?Jb(ee):[void 0],[Bi,qi]=a.networkCaptureBodies?function QD(r){const o=[];try{return[r.responseText]}catch(a){o.push(a)}try{return function JD(r,o){try{if("string"==typeof r)return[r];if(r instanceof Document)return[r.body.outerHTML];if("json"===o&&r&&"object"==typeof r)return[JSON.stringify(r)];if(!r)return[void 0]}catch(a){return Ms&&Is.exception(a,"Failed to serialize body",r),[void 0,"BODY_PARSE_ERROR"]}return Ms&&Is.info("Skipping network body because of body type",r),[void 0,"UNPARSEABLE_BODY_TYPE"]}(r.response,r.responseType)}catch(a){o.push(a)}return Ms&&Is.warn("Failed to get xhr response body",...o),[void 0]}(me):[void 0],Gi=Gu(bn,$t,pi),vs=Gu(Un,mn,Bi);return{startTimestamp:g,endTimestamp:x,url:xe,method:Je,statusCode:xt,request:_i?kg(Gi,_i):Gi,response:qi?kg(vs,qi):vs}}(r,o,a),g=Zb("resource.xhr",h);Qb(a.replay,g)}catch(h){Ms&&Is.exception(h,"Failed to capture xhr breadcrumb")}})).apply(this,arguments)}function qD(r){const o=gi();try{const{networkDetailAllowUrls:a,networkDetailDenyUrls:h,networkCaptureBodies:g,networkRequestHeaders:x,networkResponseHeaders:ee}=r.getOptions(),me={replay:r,networkDetailAllowUrls:a,networkDetailDenyUrls:h,networkCaptureBodies:g,networkRequestHeaders:x,networkResponseHeaders:ee};o&&o.on("beforeAddBreadcrumb",(xe,Je)=>function eI(r,o,a){if(o.data)try{(function tI(r){return"xhr"===r.category})(o)&&function x_(r){return r&&r.xhr}(a)&&(function XD(r,o){const{xhr:a,input:h}=o;if(!a)return;const g=w_(h),x=a.getResponseHeader("content-length")?P0(a.getResponseHeader("content-length")):function ZD(r,o){try{return w_("json"===o&&r&&"object"==typeof r?JSON.stringify(r):r)}catch{return}}(a.response,a.responseType);void 0!==g&&(r.data.request_body_size=g),void 0!==x&&(r.data.response_body_size=x)}(o,a),function EC(r,o,a){$0.apply(this,arguments)}(o,a,r)),function HS(r){return"fetch"===r.category}(o)&&function Pg(r){return r&&r.response}(a)&&(function pC(r,o){const{input:a,response:h}=o,x=w_(a?GS(a):void 0),ee=h?P0(h.headers.get("content-length")):void 0;void 0!==x&&(r.data.request_body_size=x),void 0!==ee&&(r.data.response_body_size=ee)}(o,a),function zD(r,o,a){fC.apply(this,arguments)}(o,a,r))}catch(h){Ms&&Is.exception(h,"Error when enriching network breadcrumb")}}(me,xe,Je))}catch{}}function YS(r){const o=gi();kp((r=>o=>{if(!r.isEnabled())return;const a=function HE(r){const{target:o,message:a}=function O0(r){const o="click"===r.name;let a,h=null;try{h=o?VE(r.event):GE(r.event),a=Ln(h,{maxStringLength:200})||"<unknown>"}catch{a="<unknown>"}return{target:h,message:a}}(r);return ou({category:`ui.${r.name}`,...XE(o,a)})}(o);if(!a)return;const h="click"===o.name,g=h?o.event:void 0;h&&r.clickDetector&&g&&g.target&&!g.altKey&&!g.metaKey&&!g.ctrlKey&&!g.shiftKey&&function mS(r,o,a){r.handleClick(o,a)}(r.clickDetector,a,VE(o.event)),qf(r,a)})(r)),fh(function US(r){return o=>{if(!r.isEnabled())return;const a=function jS(r){const{from:o,to:a}=r,h=Date.now()/1e3;return{type:"navigation.push",start:h,end:h,name:a,data:{previous:o}}}(o);null!==a&&(r.getContext().urls.push(a.name),r.triggerUserActivity(),r.addUpdate(()=>(F0(r,[a]),!1)))}}(r)),function cC(r){const o=gi();o&&o.on("beforeAddBreadcrumb",a=>function NS(r,o){if(!r.isEnabled()||!k0(o))return;const a=function BS(r){return!k0(r)||["fetch","xhr","sentry.event","sentry.transaction"].includes(r.category)||r.category.startsWith("ui.")?null:"console"===r.category?function $S(r){const o=r.data&&r.data.arguments;if(!Array.isArray(o)||0===o.length)return ou(r);let a=!1;const h=o.map(g=>{if(!g)return g;if("string"==typeof g)return g.length>b_?(a=!0,`${g.slice(0,b_)}\u2026`):g;if("object"==typeof g)try{const x=rc(g,7);return JSON.stringify(x).length>b_?(a=!0,`${JSON.stringify(x,null,2).slice(0,b_)}\u2026`):x}catch{}return g});return ou({...r,data:{...r.data,arguments:h,...a?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(r):ou(r)}(o);a&&qf(r,a)}(r,a))}(r),qD(r),function mp(r){Tn().addEventProcessor(r)}(function Yb(r){return Object.assign((o,a)=>r.isEnabled()?function oC(r){return"replay_event"===r.type}(o)?(delete o.breadcrumbs,o):(zb(o)||A0(o)||R0(o))&&r.checkAndHandleExpiredSession()?R0(o)?(r.flush(),o.contexts.feedback.replay_id=r.getSessionId(),function dC(r,o){r.triggerUserActivity(),r.addUpdate(()=>!o.timestamp||(r.throttledAddEvent({type:eo.Custom,timestamp:1e3*o.timestamp,data:{tag:"breadcrumb",payload:{timestamp:o.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:o.event_id}}}}),!1))}(r,o),o):function Xb(r,o){return!(r.type||!r.exception||!r.exception.values||!r.exception.values.length||!o.originalException||!o.originalException.__rrweb__)}(o,a)&&!r.getOptions()._experiments.captureExceptions?(Ms&&Is.log("Ignoring error from rrweb internals",o),null):((function Hb(r,o){return!("buffer"!==r.recordingMode||o.message===xh||!o.exception||o.type)&&I_(r.getOptions().errorSampleRate)}(r,o)||"session"===r.recordingMode)&&(o.tags={...o.tags,replayId:r.getSessionId()}),o):o:o,{id:"Replay"})}(r)),o&&(o.on("beforeSendEvent",function Wb(r){return o=>{!r.isEnabled()||!zb(o)||function lC(r,o){const a=o.exception&&o.exception.values&&o.exception.values[0]&&o.exception.values[0].value;"string"==typeof a&&(a.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||a.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&qf(r,ou({category:"replay.hydrate-error",data:{url:So()}}))}(r,o)}}(r)),o.on("afterSendEvent",function rC(r){return(o,a)=>{if(!r.isEnabled()||!zb(o)&&!A0(o))return;const h=a&&a.statusCode;if(!(!h||h<200||h>=300)){if(A0(o))return void function LS(r,o){const a=r.getContext();o.contexts&&o.contexts.trace&&o.contexts.trace.trace_id&&a.traceIds.size<100&&a.traceIds.add(o.contexts.trace.trace_id)}(r,o);!function aC(r,o){const a=r.getContext();if(o.event_id&&a.errorIds.size<100&&a.errorIds.add(o.event_id),"buffer"!==r.recordingMode||!o.tags||!o.tags.replayId)return;const{beforeErrorSampling:h}=r.getOptions();"function"==typeof h&&!h(o)||pl(()=>{r.sendBufferedReplayOrFlush()})}(r,o)}}}(r)),o.on("createDsc",h=>{const g=r.getSessionId();g&&r.isEnabled()&&"session"===r.recordingMode&&r.checkAndHandleExpiredSession()&&(h.replay_id=g)}),o.on("spanStart",h=>{r.lastActiveSpan=h}),o.on("spanEnd",h=>{r.lastActiveSpan=h}),o.on("beforeSendFeedback",(h,g)=>{const x=r.getSessionId();g&&g.includeReplay&&r.isEnabled()&&x&&h.contexts&&h.contexts.feedback&&(h.contexts.feedback.replay_id=x)}))}function j0(){return(j0=(0,Ys.A)(function*(r){try{return Promise.all(F0(r,[QS(Vo.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function QS(r){const{jsHeapSizeLimit:o,totalJSHeapSize:a,usedJSHeapSize:h}=r,g=Date.now()/1e3;return{type:"memory",name:"memory",start:g,end:g,data:{memory:{jsHeapSizeLimit:o,totalJSHeapSize:a,usedJSHeapSize:h}}}}function JS(r){let o=!1;return(a,h)=>{if(!r.checkAndHandleExpiredSession())return void(Ms&&Is.warn("Received replay event after session expired."));const g=h||!o;o=!0,r.clickDetector&&function M_(r,o){try{if(!function zE(r){return r.type===uS}(o))return;const{source:a}=o.data;if(_S.has(a)&&r.registerMutation(o.timestamp),a===Ps.Scroll&&r.registerScroll(o.timestamp),function gS(r){return r.data.source===Ps.MouseInteraction}(o)){const{type:h,id:g}=o.data,x=Vu.mirror.getNode(g);x instanceof HTMLElement&&h===ja.Click&&r.registerClick(x)}}catch{}}(r.clickDetector,a),r.addUpdate(()=>{if("buffer"===r.recordingMode&&g&&r.setInitialState(),!Gb(r,a,g))return!0;if(!g)return!1;if(function qS(r,o){!o||!r.session||0!==r.session.segmentId||Gb(r,function ZS(r){const o=r.getOptions();return{type:eo.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:r.isRecordingCanvas(),sessionSampleRate:o.sessionSampleRate,errorSampleRate:o.errorSampleRate,useCompressionOption:o.useCompression,blockAllMedia:o.blockAllMedia,maskAllText:o.maskAllText,maskAllInputs:o.maskAllInputs,useCompression:!!r.eventBuffer&&"worker"===r.eventBuffer.type,networkDetailHasUrls:o.networkDetailAllowUrls.length>0,networkCaptureBodies:o.networkCaptureBodies,networkRequestHasHeaders:o.networkRequestHeaders.length>0,networkResponseHasHeaders:o.networkResponseHeaders.length>0}}}}(r),!1)}(r,g),r.session&&r.session.previousSessionId)return!0;if("buffer"===r.recordingMode&&r.session&&r.eventBuffer){const x=r.eventBuffer.getEarliestTimestamp();x&&(Ms&&Is.info(`Updating session start time to earliest event in buffer to ${new Date(x)}`),r.session.started=x,r.getOptions().stickySession&&O_(r.session))}return"session"===r.recordingMode&&r.flush(),!0})}}function V0(){return(V0=(0,Ys.A)(function*({client:r,scope:o,replayId:a,event:h}){const x={event_id:a,integrations:"object"!=typeof r._integrations||null===r._integrations||Array.isArray(r._integrations)?void 0:Object.keys(r._integrations)};r.emit("preprocessEvent",h,x);const ee=yield Oc(r.getOptions(),h,x,o,r,Tn());if(!ee)return null;ee.platform=ee.platform||"javascript";const me=r.getSdkMetadata(),{name:xe,version:Je}=me&&me.sdk||{};return ee.sdk={...ee.sdk,name:xe||"sentry.javascript.unknown",version:Je||"0.0.0"},ee})).apply(this,arguments)}function G0(){return G0=(0,Ys.A)(function*({recordingData:r,replayId:o,segmentId:a,eventContext:h,timestamp:g,session:x}){const ee=function CC({recordingData:r,headers:o}){let a;const h=`${JSON.stringify(o)}\n`;if("string"==typeof r)a=`${h}${r}`;else{const x=(new TextEncoder).encode(h);a=new Uint8Array(x.length+r.length),a.set(x),a.set(r,x.length)}return a}({recordingData:r,headers:{segment_id:a}}),{urls:me,errorIds:xe,traceIds:Je,initialTimestamp:xt}=h,$t=gi(),mn=In(),En=$t&&$t.getTransport(),bn=$t&&$t.getDsn();if(!($t&&En&&bn&&x.sampled))return bl({});const Un={type:p0,replay_start_timestamp:xt/1e3,timestamp:g/1e3,error_ids:xe,trace_ids:Je,urls:me,replay_id:o,segment_id:a,replay_type:x.sampled},pi=yield function eM(r){return V0.apply(this,arguments)}({scope:mn,client:$t,replayId:o,event:Un});if(!pi)return $t.recordDroppedEvent("event_processor","replay",Un),Ms&&Is.info("An event processor returned `null`, will not send event."),bl({});delete pi.sdkProcessingMetadata;const _i=function U0(r,o,a,h){return $d(ph(r,Mp(r),h,a),[[{type:"replay_event"},r],[{type:"replay_recording",length:"string"==typeof o?(new TextEncoder).encode(o).length:o.length},o]])}(pi,ee,bn,$t.getOptions().tunnel);let Bi;try{Bi=yield En.send(_i)}catch(Gi){const vs=new Error(xh);try{vs.cause=Gi}catch{}throw vs}if("number"==typeof Bi.statusCode&&(Bi.statusCode<200||Bi.statusCode>=300))throw new tM(Bi.statusCode);const qi=Am({},Bi);if(bf(qi,"replay"))throw new TC(qi);return Bi}),G0.apply(this,arguments)}class tM extends Error{constructor(o){super(`Transport returned status code ${o}`)}}class TC extends Error{constructor(o){super("Rate limit hit"),this.rateLimits=o}}function iy(r){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Ys.A)(function*(r,o={count:0,interval:g_}){const{recordingData:a,options:h}=r;if(a.length)try{return yield function sI(r){return G0.apply(this,arguments)}(r),!0}catch(g){if(g instanceof tM||g instanceof TC)throw g;if(fp("Replays",{_retryCount:o.count}),Ms&&h._experiments&&h._experiments.captureExceptions&&kd(g),o.count>=v_){const x=new Error(`${xh} - max retries exceeded`);try{x.cause=g}catch{}throw x}return o.interval*=++o.count,new Promise((x,ee)=>{pl((0,Ys.A)(function*(){try{yield iy(r,o),x(!0)}catch(me){ee(me)}}),o.interval)})}}),Lg.apply(this,arguments)}const SC="__THROTTLED";class Uh{constructor({options:o,recordingOptions:a}){Uh.prototype.__init.call(this),Uh.prototype.__init2.call(this),Uh.prototype.__init3.call(this),Uh.prototype.__init4.call(this),Uh.prototype.__init5.call(this),Uh.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=a,this._options=o,this._debouncedFlush=function iI(r,o,a){let h,g,x;const ee=a&&a.maxWait?Math.max(a.maxWait,o):0;function me(){return xe(),h=r(),h}function xe(){void 0!==g&&clearTimeout(g),void 0!==x&&clearTimeout(x),g=x=void 0}function xt(){return g&&clearTimeout(g),g=pl(me,o),ee&&void 0===x&&(x=pl(me,ee)),h}return xt.cancel=xe,xt.flush=function Je(){return void 0!==g||void 0!==x?me():h},xt}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function K0(r,o,a){const h=new Map;let ee=!1;return(...me)=>{const xe=Math.floor(Date.now()/1e3);if((me=>{const xe=me-a;h.forEach((Je,xt)=>{xt<xe&&h.delete(xt)})})(xe),[...h.values()].reduce((me,xe)=>me+xe,0)>=o){const xt=ee;return ee=!0,xt?"__SKIPPED":SC}ee=!1;const Je=h.get(xe)||0;return h.set(xe,Je+1),r(...me)}}((ee,me)=>function FS(r,o,a){return Rg(r,o)?sC(r,o,a):Promise.resolve(null)}(this,ee,me),300,5);const{slowClickTimeout:h,slowClickIgnoreSelectors:g}=this.getOptions(),x=h?{threshold:Math.min(3e3,h),timeout:h,scrollTimeout:300,ignoreSelector:g?g.join(","):""}:void 0;if(x&&(this.clickDetector=new ep(this,x)),Ms){const ee=o._experiments;Is.setConfig({captureExceptions:!!ee.captureExceptions,traceInternals:!!ee.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(o){Ms&&Is.exception(o)}initializeSampling(o){const{errorSampleRate:a,sessionSampleRate:h}=this._options,g=a<=0&&h<=0;if(this._requiresManualStart=g,!g){if(this._initializeSessionForSampling(o),!this.session)return void(Ms&&Is.exception(new Error("Unable to initialize and create session")));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Ms&&Is.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(Ms&&Is.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(Ms&&Is.info("Buffering is in progress, call `flush()` to save the replay"));Ms&&Is.infoTick("Starting replay in session mode"),this._updateUserActivity();const o=Vb({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=o,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(Ms&&Is.info("Buffering is in progress, call `flush()` to save the replay"));Ms&&Is.infoTick("Starting replay in buffer mode");const o=Vb({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=o,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const o=this._canvas;this._stopRecording=Vu({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:JS(this),onMutation:this._onMutationHandler,...o?{recordCanvas:o.recordCanvas,getCanvasManager:o.getCanvasManager,sampling:o.sampling,dataURLOptions:o.dataURLOptions}:{}})}catch(o){this.handleException(o)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(o){return this.handleException(o),!1}}stop({forceFlush:o=!1,reason:a}={}){var h=this;return(0,Ys.A)(function*(){if(h._isEnabled){h._isEnabled=!1;try{Ms&&Is.info("Stopping Replay"+(a?` triggered by ${a}`:"")),h._removeListeners(),h.stopRecording(),h._debouncedFlush.cancel(),o&&(yield h._flush({force:!0})),h.eventBuffer&&h.eventBuffer.destroy(),h.eventBuffer=null,function eC(r){(function jh(){if(Ag())try{Vo.sessionStorage.removeItem(Xf)}catch{}})(),r.session=void 0}(h)}catch(g){h.handleException(g)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ms&&Is.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ms&&Is.info("Resuming replay"))}sendBufferedReplayOrFlush({continueRecording:o=!0}={}){var a=this;return(0,Ys.A)(function*(){if("session"===a.recordingMode)return a.flushImmediate();const h=Date.now();Ms&&Is.info("Converting buffer to session"),yield a.flushImmediate();const g=a.stopRecording();!o||!g||"session"!==a.recordingMode&&(a.recordingMode="session",a.session&&(a._updateUserActivity(h),a._updateSessionActivity(h),a._maybeSaveSession()),a.startRecording())})()}addUpdate(o){const a=o();"buffer"!==this.recordingMode&&!0!==a&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&tp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const a=`${Vo.location.origin}${Vo.location.pathname}${Vo.location.hash}${Vo.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=a,this._context.initialTimestamp=Date.now(),this._context.urls.push(a)}throttledAddEvent(o,a){const h=this._throttledAddEvent(o,a);if(h===SC){const g=ou({category:"replay.throttled"});this.addUpdate(()=>!Gb(this,{type:5,timestamp:g.timestamp||0,data:{tag:"breadcrumb",payload:g,metric:!0}}))}return h}getCurrentRoute(){const o=this.lastActiveSpan||_o(),a=o&&gr(o),g=(a&&js(a).data||{})[Rr];if(a&&g&&["route","custom"].includes(g))return js(a).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function xg({useCompression:r,workerUrl:o}){if(r&&window.Worker){const a=function wS(r){try{const o=r||function xS(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function OS(){const r=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(r)}():""}();if(!o)return;Ms&&Is.info("Using compression worker"+(r?` from ${r}`:""));const a=new Worker(o);return new qE(a)}catch(o){Ms&&Is.exception(o,"Failed to create compression worker")}}(o);if(a)return a}return Ms&&Is.info("Using simple buffer"),new w0}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(o){const h=Vb({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:o},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=h}_checkSession(){if(!this.session)return!1;const o=this.session;return!iC(o,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(o),!1)}_refreshSession(o){var a=this;return(0,Ys.A)(function*(){a._isEnabled&&(yield a.stop({reason:"refresh session"}),a.initializeSampling(o.id))})()}_addListeners(){try{Vo.document.addEventListener("visibilitychange",this._handleVisibilityChange),Vo.addEventListener("blur",this._handleWindowBlur),Vo.addEventListener("focus",this._handleWindowFocus),Vo.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(YS(this),this._hasInitializedCoreListeners=!0)}catch(o){this.handleException(o)}this._performanceCleanupCallback=function $b(r){function o(g){r.performanceEntries.includes(g)||r.performanceEntries.push(g)}function a({entries:g}){g.forEach(o)}const h=[];return["navigation","paint","resource"].forEach(g=>{h.push(Lf(g,a))}),h.push(V1(ru(JE,r)),Wv(ru(ZE,r)),md(ru(KD,r)),G1(ru(DS,r))),()=>{h.forEach(g=>g())}}(this)}_removeListeners(){try{Vo.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Vo.removeEventListener("blur",this._handleWindowBlur),Vo.removeEventListener("focus",this._handleWindowFocus),Vo.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(o){this.handleException(o)}}__init(){this._handleVisibilityChange=()=>{"visible"===Vo.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const o=ou({category:"ui.blur"});this._doChangeToBackgroundTasks(o)}}__init3(){this._handleWindowFocus=()=>{const o=ou({category:"ui.focus"});this._doChangeToForegroundTasks(o)}}__init4(){this._handleKeyboardEvent=o=>{!function ES(r,o){if(!r.isEnabled())return;r.updateUserActivity();const a=function YE(r){const{metaKey:o,shiftKey:a,ctrlKey:h,altKey:g,key:x,target:ee}=r;if(!ee||function CS(r){return"INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable}(ee)||!x)return null;if(!(o||h||g)&&1===x.length)return null;const Je=Ln(ee,{maxStringLength:200})||"<unknown>";return ou({category:"ui.keyDown",message:Je,data:{...XE(ee,Je).data,metaKey:o,shiftKey:a,ctrlKey:h,altKey:g,key:x}})}(o);a&&qf(r,a)}(this,o)}}_doChangeToBackgroundTasks(o){!this.session||nC(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(o&&this._createCustomBreadcrumb(o),this.conditionalFlush())}_doChangeToForegroundTasks(o){this.session&&(this.checkAndHandleExpiredSession()?o&&this._createCustomBreadcrumb(o):Ms&&Is.info("Document has become active, but session has expired"))}_updateUserActivity(o=Date.now()){this._lastActivity=o}_updateSessionActivity(o=Date.now()){this.session&&(this.session.lastActivity=o,this._maybeSaveSession())}_createCustomBreadcrumb(o){this.addUpdate(()=>{this.throttledAddEvent({type:eo.Custom,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o}})})}_addPerformanceEntries(){const o=function D_(r){return r.map(Og).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(F0(this,o))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:o,eventBuffer:a}=this;if(!o||!a||this._requiresManualStart||o.segmentId)return;const h=a.getEarliestTimestamp();h&&h<this._context.initialTimestamp&&(this._context.initialTimestamp=h)}_popEventContext(){const o={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),o}_runFlush(){var o=this;return(0,Ys.A)(function*(){const a=o.getSessionId();if(o.session&&o.eventBuffer&&a){if(yield o._addPerformanceEntries(),o.eventBuffer&&o.eventBuffer.hasEvents&&(yield function nI(r){return j0.apply(this,arguments)}(o),o.eventBuffer&&a===o.getSessionId()))try{o._updateInitialTimestampFromEventBuffer();const h=Date.now();if(h-o._context.initialTimestamp>o._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const g=o._popEventContext(),x=o.session.segmentId++;o._maybeSaveSession();const ee=yield o.eventBuffer.finish();yield iy({replayId:a,recordingData:ee,segmentId:x,eventContext:g,session:o.session,options:o.getOptions(),timestamp:h})}catch(h){o.handleException(h),o.stop({reason:"sendReplay"});const g=gi();g&&g.recordDroppedEvent("send_error","replay")}}else Ms&&Is.error("No session or eventBuffer found to flush.")})()}__init5(){var o=this;this._flush=(0,Ys.A)(function*({force:a=!1}={}){if(!o._isEnabled&&!a)return;if(!o.checkAndHandleExpiredSession())return void(Ms&&Is.error("Attempting to finish replay event after session expired."));if(!o.session)return;const h=o.session.started,x=Date.now()-h;o._debouncedFlush.cancel();const ee=x<o._options.minReplayDuration;if(ee||x>o._options.maxReplayDuration+5e3)return Ms&&Is.info(`Session duration (${Math.floor(x/1e3)}s) is too ${ee?"short":"long"}, not sending replay.`),void(ee&&o._debouncedFlush());const xe=o.eventBuffer;if(xe&&0===o.session.segmentId&&!xe.hasCheckout&&Ms&&Is.info("Flushing initial segment without checkout."),!o._flushLock)return o._flushLock=o._runFlush(),yield o._flushLock,void(o._flushLock=void 0);try{yield o._flushLock}catch(Je){Ms&&Is.error(Je)}finally{o._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&O_(this.session)}__init6(){this._onMutationHandler=o=>{const a=o.length,h=this._options.mutationLimit,x=h&&a>h;if(a>this._options.mutationBreadcrumbLimit||x){const ee=ou({category:"replay.mutations",data:{count:a,limit:x}});this._createCustomBreadcrumb(ee)}return!x||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Ng(r,o){return[...r,...o].join(",")}const MC='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',oM=["content-length","content-type","accept"];let sy=!1;const DC=r=>new Bg(r);class Bg{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:o=5e3,flushMaxDelay:a=5500,minReplayDuration:h=4999,maxReplayDuration:g=B,stickySession:x=!0,useCompression:ee=!0,workerUrl:me,_experiments:xe={},maskAllText:Je=!0,maskAllInputs:xt=!0,blockAllMedia:$t=!0,mutationBreadcrumbLimit:mn=750,mutationLimit:En=1e4,slowClickTimeout:bn=7e3,slowClickIgnoreSelectors:Un=[],networkDetailAllowUrls:pi=[],networkDetailDenyUrls:_i=[],networkCaptureBodies:Bi=!0,networkRequestHeaders:qi=[],networkResponseHeaders:Gi=[],mask:vs=[],maskAttributes:Ti=["title","placeholder"],unmask:ei=[],block:Vi=[],unblock:Zs=[],ignore:xi=[],maskFn:hs,beforeAddRecordingEvent:Os,beforeErrorSampling:Go}={}){this.name=Bg.id;const Qo=function iM({mask:r,unmask:o,block:a,unblock:h,ignore:g}){return{maskTextSelector:Ng(r,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Ng(o,[]),blockSelector:Ng(a,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:Ng(h,[]),ignoreSelector:Ng(g,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:vs,unmask:ei,block:Vi,unblock:Zs,ignore:xi});if(this._recordingOptions={maskAllInputs:xt,maskAllText:Je,maskInputOptions:{password:!0},maskTextFn:hs,maskInputFn:hs,maskAttributeFn:(qr,ai,Ei)=>function sM({el:r,key:o,maskAttributes:a,maskAllText:h,privacyOptions:g,value:x}){return!h||g.unmaskTextSelector&&r.matches(g.unmaskTextSelector)?x:a.includes(o)||"value"===o&&"INPUT"===r.tagName&&["submit","button"].includes(r.getAttribute("type")||"")?x.replace(/[\S]/g,"*"):x}({maskAttributes:Ti,maskAllText:Je,privacyOptions:Qo,key:qr,value:ai,el:Ei}),...Qo,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:qr=>{try{qr.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:o,flushMaxDelay:a,minReplayDuration:Math.min(h,15e3),maxReplayDuration:Math.min(g,B),stickySession:x,useCompression:ee,workerUrl:me,blockAllMedia:$t,maskAllInputs:xt,maskAllText:Je,mutationBreadcrumbLimit:mn,mutationLimit:En,slowClickTimeout:bn,slowClickIgnoreSelectors:Un,networkDetailAllowUrls:pi,networkDetailDenyUrls:_i,networkCaptureBodies:Bi,networkRequestHeaders:aM(qi),networkResponseHeaders:aM(Gi),beforeAddRecordingEvent:Os,beforeErrorSampling:Go,_experiments:xe},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${MC}`:MC),this._isInitialized&&m_())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return sy}set _isInitialized(o){sy=o}afterAllSetup(o){!m_()||this._replay||(this._setup(o),this._initialize(o))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(o){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(o):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(o){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(o),this._replay.initializeSampling())}_setup(o){const a=function rM(r,o){const a=o.getOptions(),h={sessionSampleRate:0,errorSampleRate:0,...bo(r)},g=cf(a.replaysSessionSampleRate),x=cf(a.replaysOnErrorSampleRate);return null==g&&null==x&&ga(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=g&&(h.sessionSampleRate=g),null!=x&&(h.errorSampleRate=x),h}(this._initialOptions,o);this._replay=new Uh({options:a,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(o){try{const a=o.getIntegrationByName("ReplayCanvas");if(!a)return;this._replay._canvas=a.getOptions()}catch{}}}function aM(r){return[...oM,...r.map(o=>o.toLowerCase())]}Bg.__initStatic();const IC={};var yd=l(285),OC=l(6511),cM=l(5416),oI=l(3801),$g=l(1780),oy=l(4921),dM=l(785),wC=l(8482),ry=l(7080);function uM(r,o){1&r&&n.nrm(0,"global-chat")}function rI(r,o){1&r&&n.nrm(0,"debug-console")}const jg=location.search;window.global=window;let fM=(()=>{class r extends As.Tv{get debug(){return window.debug&&!0===this._settings.get("app.allow_debugging")}get has_chat(){return this._settings.get("app.chat.enabled")}constructor(a,h,g,x,ee,me,xe,Je,xt,$t,mn){super(),this._analytics=a,this._settings=h,this._org=g,this._cache=x,this._snackbar=ee,this._hotkey=me,this._clipboard=xe,this._route=Je,this._router=xt,this._maps=$t,this._translate=mn}ngOnInit(){var a=this;return(0,Ys.A)(function*(){(0,As.Rm)("APP","MOCKS:",IC),a._hotkey.listen(["Control","Alt","Shift","KeyM"],()=>{localStorage.setItem("mock",`${"true"!==localStorage.getItem("mock")}`),location.reload()}),a._hotkey.listen(["Control","Alt","Shift","KeyD"],()=>{a._settings.saveUserSetting("dark_mode",!a._settings.get("dark_mode")),(0,As.VX)("Toggled dark mode.")}),a._hotkey.listen(["Control","Alt","Shift","KeyC"],()=>{a._clipboard.copy(`${(0,ma.ShT)()}|${(0,ma.Be_)()}`),(0,As.VX)("Successfully copied token.")}),a._hotkey.listen(["Control","Alt","Shift","KeyV"],()=>{navigator.clipboard?.readText().then(g=>a._pasteToken(g))}),window.pasteToken=g=>a._pasteToken(g),a._route.queryParamMap.subscribe(g=>{if(g.has("hide_nav")&&localStorage.setItem("PlaceOS.hide_nav","true"),g.has("lang")){const x=g.get("lang");a._translate?.use(x),localStorage.setItem("PLACEOS.locale",x)}g.has("x-api-key")&&(0,ma.BCG)(g.get("x-api-key"))}),(0,As.To)(a._snackbar),yield a._settings.initialised.pipe((0,Cd.$)(g=>g)).toPromise(),(0,As.Xf)(a._settings.get("app.short_name"));const h=a._settings.get("composer")||{};if(h.mock=!!a._settings.get("mock")||location.origin.includes("demo.place.tech"),jg){const g=(0,ma.omv)(jg.substring(1));a._router.navigate([],{relativeTo:a._route,queryParams:g})}yield(0,As.jJ)(h).catch(g=>console.error(g)),yield a._org.initialised.pipe((0,Cd.$)(g=>g)).toPromise(),(0,As.WQ)(a._cache),h.local_login||a.timeout("wait_for_user",()=>a.onInitError(),3e4),yield As.U5.pipe((0,Cd.$)(g=>!!g)).toPromise(),a.clearTimeout("wait_for_user"),a._initLocale(),(0,ft.Z4)(a._settings.get("app.general.internal_user_domain")||`@${(0,As.Ny)()?.email?.split("@")[1]}`),a._initAnalytics(),function hM(r,o=.1){r&&function ng(r){const o={defaultIntegrations:[wa(),on(),b1(),_f(),yh(),Ni(),Gl()],...r};return rm(o,"angular"),function aE(){const o=n.xvI&&n.xvI.major?parseInt(n.xvI.major,10):void 0;o&&(o<14&&ab&&li.warn(`This Sentry SDK does not officially support Angular ${o}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),fp("angular",{version:o}))}(),w1(o)}({dsn:r,integrations:[a0(),DC({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/[a-zA-Z0-9_\-]*\.[a-zA-Z0-9]*\/api/,/^https:\/\/[a-zA-Z0-9_\-]*\.placeos\.run*\/api/],replaysSessionSampleRate:o,replaysOnErrorSampleRate:1})}(a._settings.get("app.sentry_dsn"));try{const g=(0,ma.ShT)();(0,As.HQ)()&&(0,OC.sM)("x-api-key"===g?{"x-api-key":(0,ma.Kz4)()}:{Authorization:`Bearer ${g}`}),a._settings.get("app.has_uploads")&&a.timeout("init_uploads",()=>{(0,yd.yd)({auto_start:!0,token:(0,ma.ShT)(),endpoint:"/api/engine/v2/uploads",worker_url:"assets/md5_worker.js",providers:[yd.LJ,yd.Y9,yd.yF,yd.xB]})}),(0,ma.vWy)()&&(a.interval("auto-update-version",()=>a._checkReload(),15e3),yield(0,As.Hh)())}catch{}})()}onInitError(){(0,ma.TMs)()||(0,As.Ny)()?.is_logged_in||((0,ma.XTx)(),location.reload())}_initAnalytics(){const a=this._settings.get("app.analytics.tracking_id");a&&(this._analytics.init(a),this._analytics.load(a),this._analytics.setUser((0,As.Ny)().id))}_initLocale(){try{let a=localStorage.getItem("PLACEOS.locale");const h=this._settings.get("app.locales")||[];if(this._translate?.addLangs(h.map(g=>g.id)),a)this._translate?.use(a);else{const g=navigator.languages;for(const x of g)if(a=h.find(ee=>ee.id===x),a||(a=h.find(ee=>x.includes(ee.id))),a){this._translate?.use(x),localStorage.setItem("PLACEOS.locale",x);break}}}catch{}}_pasteToken(a){const h=a.split("|"),g=(0,ma.L2z)();localStorage.setItem(`${g}_access_token`,`${h[0]}`),localStorage.setItem(`${g}_refresh_token`,`${h[1]}`),localStorage.setItem(`${g}_expires_at`,`${(0,ol.L)(new Date,6).valueOf()}`),(0,As.VX)("Successfully pasted token."),setTimeout(()=>location.reload(),2e3)}_checkReload(){(0,As.tU)()&&(location.reload(),this.timeout("reload",()=>location.href=`${location.origin}${location.pathname}`))}static#e=this.\u0275fac=function(h){return new(h||r)(n.rXU(As.p),n.rXU(As.h$),n.rXU(N.y),n.rXU(Ma),n.rXU(cM.UG),n.rXU(As.dr),n.rXU(oI.B0),n.rXU(Oo.nX),n.rXU(Oo.Ix),n.rXU(ec._),n.rXU($g.c$,8))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["app-root"]],features:[n.Vt3],decls:6,vars:2,consts:[[1,"flex-1","w-full","relative","h-1/2"],[4,"ngIf"]],template:function(h,g){1&h&&(n.nrm(0,"global-banner"),n.j41(1,"div",0),n.nrm(2,"router-outlet"),n.k0s(),n.DNE(3,uM,1,0,"global-chat",1),n.nrm(4,"global-loading"),n.DNE(5,rI,1,0,"debug-console",1)),2&h&&(n.R7$(3),n.Y8G("ngIf",g.has_chat),n.R7$(2),n.Y8G("ngIf",g.debug))},dependencies:[Ts.bT,Oo.n3,oy.h,dM.p,wC.O,ry.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}"]})}return r})();var Ug=l(8030),xC=l(2185),ka=l(6600),Nc=l(3719),yr=l(2798),au=l(9183);const z0=["bootstrap",""];function Bc(r,o){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const a=o.$implicit;n.Y8G("value",a),n.R7$(3),n.SpI(" ",a.display_name||a.name," "),n.R7$(4),n.JRh(a.id)}}function A_(r,o){if(1&r){const a=n.RV6();n.qex(0),n.j41(1,"label"),n.EFF(2,"Select a region from the dropdown below"),n.k0s(),n.j41(3,"mat-form-field",10)(4,"mat-select",11,1),n.mxI("ngModelChange",function(g){n.eBV(a);const x=n.XpG(2);return n.DH7(x.active_region,g)||(x.active_region=g),n.Njj(g)}),n.bIt("ngModelChange",function(g){n.eBV(a);const x=n.XpG(2);return n.Njj(x.setRegion(g))}),n.j41(6,"mat-select-trigger")(7,"div",12)(8,"div",13),n.EFF(9),n.k0s(),n.j41(10,"div",14),n.EFF(11),n.k0s()()(),n.DNE(12,Bc,10,3,"mat-option",15),n.nI1(13,"async"),n.k0s()(),n.bVm()}if(2&r){const a=n.XpG(2);n.R7$(4),n.R50("ngModel",a.active_region),n.R7$(5),n.SpI(" ",(null==a.active_region?null:a.active_region.display_name)||(null==a.active_region?null:a.active_region.name)," "),n.R7$(2),n.SpI(" ",null==a.active_region?null:a.active_region.id," "),n.R7$(),n.Y8G("ngForOf",n.bMT(13,4,a.regions))}}function pM(r,o){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",21)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const a=o.$implicit;n.Y8G("value",a),n.R7$(3),n.SpI(" ",a.display_name||a.name," "),n.R7$(4),n.JRh(a.id)}}function Vg(r,o){if(1&r){const a=n.RV6();n.qex(0),n.j41(1,"label"),n.EFF(2,"Select a building from the dropdown below"),n.k0s(),n.j41(3,"mat-form-field",10)(4,"mat-select",20,1),n.mxI("ngModelChange",function(g){n.eBV(a);const x=n.XpG(2);return n.DH7(x.active_building,g)||(x.active_building=g),n.Njj(g)}),n.bIt("ngModelChange",function(g){n.eBV(a);const x=n.XpG(2);return n.Njj(x.setBuilding(g))}),n.j41(6,"mat-select-trigger")(7,"div",12)(8,"div",13),n.EFF(9),n.k0s(),n.j41(10,"div",14),n.EFF(11),n.k0s()()(),n.DNE(12,pM,10,3,"mat-option",15),n.nI1(13,"async"),n.k0s()(),n.bVm()}if(2&r){const a=n.XpG(2);n.R7$(4),n.R50("ngModel",a.active_building),n.R7$(5),n.SpI(" ",(null==a.active_building?null:a.active_building.display_name)||(null==a.active_building?null:a.active_building.name)," "),n.R7$(2),n.SpI(" ",null==a.active_building?null:a.active_building.id," "),n.R7$(),n.Y8G("ngForOf",n.bMT(13,4,a.buildings))}}function ay(r,o){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const a=o.$implicit;n.Y8G("value",a),n.R7$(3),n.SpI(" ",a.display_name||a.name," "),n.R7$(4),n.JRh(a.id)}}function AC(r,o){if(1&r){const a=n.RV6();n.qex(0),n.nrm(1,"div"),n.j41(2,"label"),n.EFF(3,"Select a level from the dropdown below"),n.k0s(),n.j41(4,"mat-form-field",10)(5,"mat-select",22,1),n.mxI("ngModelChange",function(g){n.eBV(a);const x=n.XpG(2);return n.DH7(x.active_level,g)||(x.active_level=g),n.Njj(g)}),n.j41(7,"mat-select-trigger")(8,"div",12)(9,"div",13),n.EFF(10),n.k0s(),n.j41(11,"div",14),n.EFF(12),n.k0s()()(),n.DNE(13,ay,10,3,"mat-option",15),n.nI1(14,"async"),n.k0s()(),n.bVm()}if(2&r){const a=n.XpG(2);n.R7$(5),n.R50("ngModel",a.active_level),n.R7$(5),n.SpI(" ",(null==a.active_level?null:a.active_level.display_name)||(null==a.active_level?null:a.active_level.name)," "),n.R7$(2),n.SpI(" ",null==a.active_level?null:a.active_level.id," "),n.R7$(),n.Y8G("ngForOf",n.bMT(14,4,a.levels))}}function RC(r,o){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const a=o.$implicit;n.Y8G("value",a),n.R7$(3),n.SpI(" ",a.display_name||a.name," "),n.R7$(4),n.JRh(a.id)}}function _M(r,o){if(1&r){const a=n.RV6();n.qex(0),n.nrm(1,"div"),n.j41(2,"label"),n.EFF(3," Please select an orientation from the dropdown below "),n.k0s(),n.j41(4,"mat-form-field",10)(5,"mat-select",23,1),n.mxI("valueChange",function(g){n.eBV(a);const x=n.XpG(2);return n.DH7(x.active_rotation,g)||(x.active_rotation=g),n.Njj(g)}),n.DNE(7,RC,10,3,"mat-option",15),n.k0s()(),n.bVm()}if(2&r){const a=n.XpG(2);n.R7$(5),n.R50("value",a.active_rotation),n.R7$(2),n.Y8G("ngForOf",a.rotations)}}function mM(r,o){if(1&r&&(n.j41(0,"mat-option",16)(1,"div",17)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",18)(5,"span",19),n.EFF(6,"\xa0["),n.k0s(),n.EFF(7),n.j41(8,"span",19),n.EFF(9,"]"),n.k0s()()()()),2&r){const a=o.$implicit;n.Y8G("value",a),n.R7$(3),n.SpI(" ",a.display_name||a.name," "),n.R7$(4),n.JRh(a.id)}}function da(r,o){if(1&r){const a=n.RV6();n.qex(0),n.nrm(1,"div"),n.j41(2,"label"),n.EFF(3," Please select an fixed location from the dropdown below "),n.k0s(),n.j41(4,"mat-form-field",10)(5,"mat-select",24,1),n.mxI("valueChange",function(g){n.eBV(a);const x=n.XpG(2);return n.DH7(x.active_location,g)||(x.active_location=g),n.Njj(g)}),n.DNE(7,mM,10,3,"mat-option",15),n.k0s()(),n.bVm()}if(2&r){const a=n.XpG(2);n.R7$(5),n.R50("value",a.active_location),n.R7$(2),n.Y8G("ngForOf",a.locations)}}function kC(r,o){if(1&r&&(n.j41(0,"div",8),n.DNE(1,A_,14,6,"ng-container",9),n.nI1(2,"async"),n.DNE(3,Vg,14,6,"ng-container",9),n.nI1(4,"async"),n.DNE(5,AC,15,6,"ng-container",9),n.nI1(6,"async"),n.DNE(7,_M,8,2,"ng-container",9)(8,da,8,2,"ng-container",9),n.k0s()),2&r){let a,h,g;const x=n.XpG();n.R7$(),n.Y8G("ngIf",(null==(a=n.bMT(2,5,x.regions))?null:a.length)>1),n.R7$(2),n.Y8G("ngIf",null==(h=n.bMT(4,7,x.buildings))?null:h.length),n.R7$(2),n.Y8G("ngIf",(null==(g=n.bMT(6,9,x.levels))?null:g.length)&&x.active_building),n.R7$(2),n.Y8G("ngIf",x.rotations&&x.rotations.length),n.R7$(),n.Y8G("ngIf",x.locations&&x.locations.length)}}function gM(r,o){if(1&r){const a=n.RV6();n.j41(0,"div",25)(1,"button",26),n.bIt("click",function(){n.eBV(a);const g=n.XpG();return n.Njj(g.bootstrapKiosk())}),n.EFF(2," Finish Setup "),n.k0s()()}if(2&r){const a=n.XpG();n.R7$(),n.Y8G("disabled",!a.active_building&&!a.active_level)}}function ua(r,o){if(1&r&&(n.j41(0,"div",27),n.nrm(1,"mat-spinner",28),n.j41(2,"p"),n.EFF(3),n.k0s()()),2&r){const a=n.XpG();n.R7$(),n.Y8G("diameter",32),n.R7$(2),n.JRh(a.loading)}}let Gg=(()=>{class r extends As.Tv{setRegion(a){this._org.region=a,this.active_building=void 0,this.active_level=void 0,this.updateRotations()}setBuilding(a){this._org.building=a,this.active_level=void 0,this.updateRotations()}get locations(){return this.active_level&&this.active_level.locations||[]}constructor(a,h,g,x){super(),this._org=a,this._settings=h,this._route=g,this._router=x,this.rotations=[],this.regions=this._org.region_list,this.buildings=this._org.active_buildings,this.levels=this._org.active_levels}ngOnInit(){var a=this;return(0,Ys.A)(function*(){yield a._org.initialised.pipe((0,Cd.$)(h=>h)).toPromise(),a.active_region=a._org.region,a.subscription("route.query",a._route.queryParamMap.subscribe(h=>{if(h.has("osk")){const g="true"===h.get("osk");localStorage.setItem("OSK.enabled",`${g}`)}if(h.has("clear")&&"true"===h.get("clear")&&(localStorage.removeItem("KIOSK.building"),localStorage.removeItem("KIOSK.level"),localStorage.removeItem("KIOSK.orientation")),h.has("level")){const g=a._org.levelWithID([h.get("level")]);g&&(a.active_level=g,a.bootstrapKiosk())}})),a.checkBootstrap()})()}updateRotations(){if(this.rotations=[],!this.active_building)return;const a=this.active_building.orientations,h=[];for(const g in a)a[g]&&h.push({id:g,name:`${g.split("_").join(" ")} (${90*a[g]}\xb0)`,value:a[g]});this.rotations=h,this.active_rotation=this.rotations[0]}bootstrapKiosk(){if(this.loading="Bootstrapping application...",this.active_level){localStorage&&(localStorage.setItem("KIOSK.building",this.active_building?.id||this.active_level.parent_id),localStorage.setItem("KIOSK.level",this.active_level.id),this.active_rotation&&localStorage.setItem("KIOSK.orientation",`${this.active_rotation.id}`),this.active_location&&localStorage.setItem("KIOSK.location",`${this.active_location.id}`));const h=(this._settings.get("app.default_route")||"welcome").split("/");h[0]=`/${h[0]}`,this._router.navigate(h)}this.loading=null}checkBootstrap(){if(this.loading="Checking for existing parameters...",localStorage){const a=localStorage.getItem("KIOSK.building"),h=localStorage.getItem("KIOSK.level");if(a&&h){const x=(this._settings.get("app.default_route")||"welcome").split("/");x[0]=`/${x[0]}`,this._router.navigate(x)}}Ug.eW.enabled="true"===localStorage.getItem("OSK.enabled"),this.loading=null}static#e=this.\u0275fac=function(h){return new(h||r)(n.rXU(xC.yb),n.rXU(As.h$),n.rXU(Oo.nX),n.rXU(Oo.Ix))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["","bootstrap",""]],features:[n.Vt3],attrs:z0,decls:11,vars:3,consts:[["load_state",""],["select",""],[1,"absolute","inset-0","bg-base-200","z-0"],["form","",1,"relative","my-8","mx-auto","bg-base-100","overflow-hidden","shadow","rounded-lg","border","border-base-300","w-[28rem]","max-w-[calc(100%-2rem)]","z-10"],[1,"px-4","py-3","bg-secondary","text-secondary-content","w-full","text-xl","font-medium","flex","items-center","justify-between"],[1,"px-2","py-1","rounded","text-sm","font-mono"],["class","px-4 flex flex-col space-y-2",4,"ngIf","ngIfElse"],["class","w-full px-4 py-2 !mt-4 flex items-center justify-end border-t border-base-300",4,"ngIf"],[1,"px-4","flex","flex-col","space-y-2"],[4,"ngIf"],["appearance","outline",1,"no-subscript"],["building","","placeholder","Select region",3,"ngModelChange","ngModel"],[1,"flex","items-center","space-x-4"],[1,"flex-1","truncate"],[1,"text-[0.625rem]","font-mono","!mr-4","bg-base-200","rounded","px-1.5"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"leading-tight"],[1,"text-[0.625rem]","opacity-30","font-mono"],[1,"hidden"],["building","","placeholder","Select building",3,"ngModelChange","ngModel"],[1,"text-[0.625rem]","opacity-60","font-mono"],["level","","placeholder","Select level",3,"ngModelChange","ngModel"],["placeholder","Select orientation",3,"valueChange","value"],["placeholder","Select location",3,"valueChange","value"],[1,"w-full","px-4","py-2","!mt-4","flex","items-center","justify-end","border-t","border-base-300"],["btn","","matRipple","",1,"w-32",3,"click","disabled"],[1,"flex","flex-col","items-center","p-8","m-auto"],[3,"diameter"]],template:function(h,g){if(1&h&&(n.nrm(0,"div",2),n.j41(1,"div",3)(2,"header",4)(3,"div"),n.EFF(4,"Visitor Kiosk"),n.k0s(),n.j41(5,"div",5),n.EFF(6,"SETUP"),n.k0s()(),n.DNE(7,kC,9,11,"div",6)(8,gM,3,1,"div",7),n.k0s(),n.DNE(9,ua,4,2,"ng-template",null,0,n.C5r)),2&h){const x=n.sdS(10);n.R7$(7),n.Y8G("ngIf",!g.loading)("ngIfElse",x),n.R7$(),n.Y8G("ngIf",!g.loading)}},dependencies:[Ts.Sq,Ts.bT,ds.BC,ds.vS,ka.wT,Nc.rl,yr.VO,yr.$2,ka.r6,au.LG,Ts.Jj],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}label[_ngcontent-%COMP%]{padding-top:1rem}"]})}return r})();var $c=l(9434);const W0=()=>["/checkin"],Kg=()=>["/register"],X0=r=>["/explore",r];function FC(r,o){1&r&&(n.j41(0,"a",6)(1,"div",7)(2,"div",8),n.EFF(3,"Register"),n.k0s(),n.j41(4,"app-icon",9),n.EFF(5,"chevron_right"),n.k0s()()()),2&r&&n.Y8G("routerLink",n.lJ4(1,Kg))}function PC(r,o){if(1&r&&(n.j41(0,"a",6)(1,"div",7)(2,"div",8),n.EFF(3,"Explore"),n.k0s(),n.j41(4,"app-icon",9),n.EFF(5,"place"),n.k0s()()()),2&r){const a=n.XpG();n.Y8G("routerLink",n.eq3(1,X0,a.level))}}let LC=(()=>{class r extends As.Tv{get background(){return this._settings.get("app.home.background")}get can_register(){return this._settings.get("app.allow_self_registration")}constructor(a,h){super(),this.route=a,this._settings=h,this.now=Date.now(),this.level=""}ngOnInit(){this.interval("time",()=>this.now=Date.now(),3e4),this.subscription("level",this._settings.listen("KIOSK.level").subscribe(a=>this.level=a)),this.level=localStorage?.getItem("KIOSK.level"),this.subscription("route.params",this.route.paramMap.subscribe(a=>{a.has("level")&&(this.level=a.get("level"))}))}static#e=this.\u0275fac=function(h){return new(h||r)(n.rXU(Oo.nX),n.rXU(As.h$))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["app-welcome"]],features:[n.Vt3],decls:24,vars:13,consts:[[1,"absolute","inset-0","p-8","flex","items-center"],[1,"absolute","min-h-[100%]","min-w-[100%]","top-1/2","-translate-y-1/2","left-1/2","-translate-x-1/2",3,"src"],[1,"flex","flex-col","justify-center","space-y-8","z-10","w-[60%]"],[1,"mb-4","text-white","text-6xl","space-y-2"],[1,"text-primary"],[1,"flex","items-center","space-x-4","font-medium"],["btn","","matRipple","",1,"base","w-40",3,"routerLink"],[1,"flex","items-center","space-x-2"],[1,"ml-2"],[1,"text-2xl"],["btn","","matRipple","","class","base w-40",3,"routerLink",4,"ngIf"],[1,"absolute","top-4","right-4","text-2xl","text-white"],["src","assets/img/building.png",1,"absolute","w-[60%]","bottom-0","right-0"]],template:function(h,g){1&h&&(n.j41(0,"div",0),n.nrm(1,"img",1),n.j41(2,"div",2)(3,"h3",3)(4,"p"),n.EFF(5,"Welcome to Place"),n.j41(6,"span",4),n.EFF(7,"OS"),n.k0s()(),n.j41(8,"p"),n.EFF(9,"Self Service Kiosk"),n.k0s()(),n.j41(10,"div",5)(11,"a",6)(12,"div",7)(13,"div",8),n.EFF(14,"Check-in"),n.k0s(),n.j41(15,"app-icon",9),n.EFF(16,"chevron_right"),n.k0s()()(),n.DNE(17,FC,6,2,"a",10)(18,PC,6,3,"a",10),n.k0s()(),n.j41(19,"div",11),n.EFF(20),n.nI1(21,"date"),n.nI1(22,"date"),n.k0s(),n.nrm(23,"img",12),n.k0s()),2&h&&(n.R7$(),n.Y8G("src",g.background,n.B4B),n.R7$(10),n.Y8G("routerLink",n.lJ4(12,W0)),n.R7$(6),n.Y8G("ngIf",g.can_register),n.R7$(),n.Y8G("ngIf",g.level),n.R7$(2),n.Lme(" ",n.i5U(21,6,g.now,"mediumDate")," ",n.i5U(22,9,g.now,"shortTime")," "))},dependencies:[Ts.bT,Oo.Wk,$c.R,ka.r6,Ts.vh],styles:["a[_ngcontent-%COMP%]{height:3.5rem;background-color:#ffffff40}"]})}return r})();var zg=l(7915),ly=l(2357),NC=l(6107),aI=l(8390),Ku=l(9631),BC=l(8e3);const Wg=()=>["/welcome"],$C=[{path:"bootstrap",component:Gg},{path:"welcome",component:LC},{path:"register",component:(()=>{class r{get now(){return(0,ly.c)(Date.now())}get background(){return this._settings.get("app.home.background")}get is_induction_enabled(){return this._settings.get("app.induction_enabled")&&this._settings.get("app.induction_details")}get induction_after_details(){return this._settings.get("app.induction_after_details")}constructor(a,h,g,x,ee){this._settings=a,this._booking_form=h,this._checkin=g,this._router=x,this._org=ee,this.form=this._booking_form.form}ngOnInit(){this._booking_form.clearOldState(),this._booking_form.newForm(),this._booking_form.setOptions({type:"visitor"}),this.form.get("asset_id").setValidators([ds.k0.required,ds.k0.email]),this._booking_form.form.patchValue({booking_type:"visitor"}),setTimeout(()=>{this._settings.get("app.allow_self_registration")||this._router.navigate(["/welcome"])},1e3)}register(){var a=this;return(0,Ys.A)(function*(){if(a.form.markAllAsTouched(),!a.form.valid)return(0,As.UG)(`Some fields are invalid. [${(0,As.F7)(a.form).join(", ")}]`);const h=a.form.value;a._booking_form.form.patchValue({booking_type:"visitor",self_registered:!0,name:h.asset_name,attendees:[new aI.KJ({name:h.asset_name,email:h.asset_id,organisation:h.company,phone:h.phone})],zones:(0,As.Am)([a._org.organisation.id,a._org.region?.id,a._org.building?.id])});const g=yield a._booking_form.postForm(!0);a._checkin.setBooking(g,"registered"),a._router.navigate("accepted"!==g.induction&&a.is_induction_enabled&&!a.induction_after_details?["/checkin","induction"]:["/checkin","details"])})()}static#e=this.\u0275fac=function(h){return new(h||r)(n.rXU(As.h$),n.rXU(zg.nx),n.rXU(NC.G),n.rXU(Oo.Ix),n.rXU(xC.yb))};static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["visitor-registration"]],decls:41,vars:12,consts:()=>{let a,h,g;return a=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,h=$localize`:244aae9346da82b0922506c2d2581373a15641cc4768749765465246664:Email`,g=$localize`:fe22ca53e651df951dac25b67c17894b0980f7676641024648411549335:Host`,[a,h,g,[1,"absolute","inset-0","p-8","flex","items-center"],[1,"absolute","min-h-[100%]","min-w-[100%]","top-1/2","-translate-y-1/2","left-1/2","-translate-x-1/2",3,"src"],["src","assets/img/building.png",1,"absolute","w-[60%]","bottom-0","right-0"],[1,"absolute","top-1/2","left-4","-translate-y-1/2","bg-base-100","rounded","shadow","overflow-auto","max-h-[80vh]","max-w-[calc(100%-2rem)]","w-[32rem]",3,"formGroup"],[1,"flex","items-center","justify-between","space-x-4","px-4","py-2","border-b","border-base-300"],[1,"text-lg","font-medium","py-2"],["icon","","matRipple","",3,"routerLink"],[1,"p-4"],["for","name"],["appearance","outline",1,"w-full"],["matInput","","name","name","formControlName","asset_name","placeholder","Name"],["for","email"],["matInput","","name","email","formControlName","asset_id","placeholder","Email"],["for","user"],["formControlName","user",1,"mb-4"],["form","phone"],["matInput","","name","phone","type","tel","formControlName","phone","placeholder","Phone Number"],["form","org"],["matInput","","name","org","formControlName","company","placeholder","Organisation / Company"],[1,"flex","justify-end","px-4","py-2","space-x-4","border-t","border-base-300"],["btn","","matRipple","",1,"w-40",3,"click"],[1,"absolute","top-4","right-4","text-2xl","text-white"]]},template:function(h,g){1&h&&(n.j41(0,"div",3),n.nrm(1,"img",4)(2,"img",5),n.j41(3,"div",6)(4,"div",7)(5,"h3",8),n.EFF(6," Visitor Registration "),n.k0s(),n.j41(7,"a",9)(8,"app-icon"),n.EFF(9,"close"),n.k0s()()(),n.j41(10,"div",10)(11,"label",11),n.pXf(12,0),n.k0s(),n.j41(13,"mat-form-field",12),n.nrm(14,"input",13),n.j41(15,"mat-error"),n.EFF(16,"A valid email is required"),n.k0s()(),n.j41(17,"label",14),n.pXf(18,1),n.k0s(),n.j41(19,"mat-form-field",12),n.nrm(20,"input",15),n.j41(21,"mat-error"),n.EFF(22,"A valid email is required"),n.k0s()(),n.j41(23,"label",16),n.pXf(24,2),n.k0s(),n.nrm(25,"a-user-search-field",17),n.j41(26,"label",18),n.EFF(27,"Phone Number"),n.k0s(),n.j41(28,"mat-form-field",12),n.nrm(29,"input",19),n.k0s(),n.j41(30,"label",20),n.EFF(31,"Organisation / Company"),n.k0s(),n.j41(32,"mat-form-field",12),n.nrm(33,"input",21),n.k0s()(),n.j41(34,"div",22)(35,"button",23),n.bIt("click",function(){return g.register()}),n.EFF(36," Register "),n.k0s()()(),n.j41(37,"div",24),n.EFF(38),n.nI1(39,"date"),n.nI1(40,"date"),n.k0s()()),2&h&&(n.R7$(),n.Y8G("src",g.background,n.B4B),n.R7$(2),n.Y8G("formGroup",g.form),n.R7$(4),n.Y8G("routerLink",n.lJ4(11,Wg)),n.R7$(31),n.Lme(" ",n.i5U(39,5,g.now,"mediumDate")," ",n.i5U(40,8,g.now,"shortTime")," "))},dependencies:[Oo.Wk,ds.me,ds.BC,ds.cb,$c.R,Nc.rl,Nc.TL,ka.r6,Ku.fg,BC.$,ds.j4,ds.JD,Ts.vh]})}return r})()},{path:"explore",loadChildren:()=>l.e(126).then(l.bind(l,126)).then(r=>r.AppExploreModule)},{path:"checkin",loadChildren:()=>l.e(466).then(l.bind(l,466)).then(r=>r.VisitorCheckinModule)},{path:"**",redirectTo:"bootstrap"}];let H0=(()=>{class r{static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({imports:[Oo.iI.forRoot($C,{useHash:!0}),Oo.iI]})}return r})();var vM=l(4658);var jC=l(2168),Vh=l(4006),np=l(8834),UC=l(5272),Jl=l(2596),bM=l(6299);const yM=["input"];function dy(r,o){if(1&r&&n.nrm(0,"img",27),2&r){const a=n.XpG();n.Y8G("src","assets/icons/"+a.card_type+".svg",n.B4B)}}function VC(r,o){if(1&r&&(n.j41(0,"mat-option",28),n.EFF(1),n.k0s()),2&r){const a=o.$implicit;n.Y8G("value",a[0]),n.R7$(),n.Lme(" ",a[1]," (",a[0],") ")}}function GC(r,o){if(1&r&&(n.j41(0,"mat-option",28),n.EFF(1),n.k0s()),2&r){const a=o.$implicit;n.Y8G("value",a),n.R7$(),n.JRh(a)}}const EM={card_number:"                ",cardholder:"",cvv:""},KC=new Ts.vh("en-us","");let zC=(()=>{class r extends As.Tv{constructor(){super(...arguments),this.details=new ds.gE({card_number:new ds.MJ(Array(16).fill("X").join()),cardholder:new ds.MJ(""),exp_month:new ds.MJ(""),exp_year:new ds.MJ(""),cvv:new ds.MJ("",[ds.k0.minLength(3),ds.k0.maxLength(4)])}),this.disabled=!1,this.months=Array(12).fill(0).map((a,h)=>[KC.transform((0,Jl.Z)(Date.now(),h),"MM"),KC.transform((0,Jl.Z)(Date.now(),h),"MMM")]),this.years=Array(12).fill(0).map((a,h)=>KC.transform((0,bM.e)(Date.now(),h),"yyyy")),this.digits=Array(16).fill(0),this._index=0,this.registerOnChange=a=>this._onChange=a,this.registerOnTouched=a=>this._onTouch=a,this.setDisabledState=a=>this.disabled=a}get is_amex(){return(this.details.value?.card_number||"").startsWith("3")}get card_type(){const a=this.details.value?.card_number||"";return a.startsWith("3")?"amex":a.startsWith("4")?"visa":a.startsWith("5")?"mastercard":""}get card_display(){let a=this.details.value?.card_number||"";return this.card_focused&&(a=a.substring(0,this._index)+"\u2bd0"+a.substring(this._index+1)),this.is_amex?`${a.substring(0,4)}-${a.substring(4,10)}-${a.substring(10)}`:`${a.substring(0,4)}-${a.substring(4,8)}-${a.substring(8,12)}-${a.substring(12)}`}get card_focused(){return document.activeElement===this._input_el.nativeElement||document.activeElement===this._input_el.nativeElement.parentElement}ngOnInit(){this.subscription("changes",this.details.valueChanges.subscribe(a=>this.timeout("update",()=>this.setValue(this.details.getRawValue()))))}focusInput(){this._input_el.nativeElement.focus(),this._index=this._input_el.nativeElement.selectionStart||0}onInput(a){if(!a||!this.card_focused)return;const h=this._index;if(h<0||h>16)return;let g=this.details.value.card_number;if((a.code.startsWith("Digit")||a.code.startsWith("Numpad"))&&h<(this.is_amex?15:16))g=g.substring(0,h)+a.key+g.substring(h+1),this.details.patchValue({card_number:g}),this._focusChange(h,1);else if("Backspace"===a.code&&h>0){let x=this.details.value.card_number;x=x.substring(0,h)+" "+x.substring(h+1),this.details.patchValue({card_number:x}),this._focusChange(h,-1)}else"ArrowLeft"===a.code?this._focusChange(h,-1):"ArrowRight"===a.code&&" "!==g[h]&&this._focusChange(h,1)}_focusChange(a,h){this._index=Math.min(16,Math.max(0,a+h))}setValue(a){this._onChange&&this._onChange(a)}writeValue(a){this.details.patchValue(a||EM)}static#e=this.\u0275fac=(()=>{let a;return function(g){return(a||(a=n.xGo(r)))(g||r)}})();static#t=this.\u0275cmp=n.VBU({type:r,selectors:[["card-input-field"]],viewQuery:function(h,g){if(1&h&&n.GBs(yM,7),2&h){let x;n.mGM(x=n.lsd())&&(g._input_el=x.first)}},features:[n.Jv_([{provide:ds.kq,useExisting:(0,n.Rfq)(()=>r),multi:!0}]),n.Vt3],decls:41,vars:6,consts:()=>{let a,h,g,x,ee,me,xe;return a=$localize`:c51ae86488666fc691751bf76d88811b37505c001085309836704157602:Card Number`,h=$localize`:cc927e92ada1f250e8c5ea7884d0b1294be566354148395957159016439:Name on Card`,g=$localize`:6402e768a1ac6a5f86edf0daccf05b3d9d63f465598947732489453783:Cardholder name is required`,x=$localize`:48b5a0234304bd29aeaab8f2793b8245517a71027043163776563263056:Expiry Month`,ee=$localize`:28b0c8359cc099ef3dcaddac4c1357d45751ac9d1539914853150581191:Expiry month is required`,me=$localize`:84a41ff903da0de49f3172fef0d0528701065d6e6698859483517525075:Expiry year is required`,xe=$localize`:11a0ab2762b4af425c3d20aa211a751e4785e04e203544573091191988:Invalid security code`,[["input",""],a,h,g,x,ee,me,xe,[3,"keyup","formGroup"],[1,"flex","flex-col"],["for","card-number"],["tabindex","0",1,"border","border-base-200","p-2","h-12","mb-4","focus-within:shadow","focus-within:border-base-200","flex","items-center","font-mono","w-full","rounded","relative",3,"focus"],[1,"flex-1"],["type","tel","maxlength","17",1,"hidden","absolute",3,"keydown","value"],["class","h-8",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-1"],["for","cardholder"],["appearance","outline"],["name","cardholder","matInput","","placeholder","Mr John Smith","formControlName","cardholder"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1","w-1/4"],["placeholder","MM","formControlName","exp_month"],[3,"value",4,"ngFor","ngForOf"],["placeholder","YYYY","formControlName","exp_year"],["for","cvv"],["appearance","outline",1,"w-20"],["name","cvv","matInput","","formControlName","cvv","maxlength","4"],[1,"h-8",3,"src"],[3,"value"]]},template:function(h,g){if(1&h){const x=n.RV6();n.j41(0,"form",8),n.bIt("keyup",function(me){return n.eBV(x),n.Njj(g.onInput(me))},!1,n.tSv),n.j41(1,"div",9)(2,"label",10),n.pXf(3,1),n.k0s(),n.j41(4,"div",11),n.bIt("focus",function(){return n.eBV(x),n.Njj(g.focusInput())}),n.j41(5,"pre",12),n.EFF(6),n.k0s(),n.j41(7,"input",13,0),n.bIt("keydown",function(){return n.eBV(x),n.Njj(!1)}),n.k0s(),n.DNE(9,dy,1,1,"img",14),n.k0s()(),n.j41(10,"div",15)(11,"label",16),n.pXf(12,2),n.k0s(),n.j41(13,"mat-form-field",17),n.nrm(14,"input",18),n.j41(15,"mat-error"),n.pXf(16,3),n.k0s()()(),n.j41(17,"div",19)(18,"div",20)(19,"label",16),n.pXf(20,4),n.k0s(),n.j41(21,"mat-form-field",17)(22,"mat-select",21),n.DNE(23,VC,2,3,"mat-option",22),n.k0s(),n.j41(24,"mat-error"),n.pXf(25,5),n.k0s()()(),n.j41(26,"div",20)(27,"label",16),n.EFF(28,"Expiry Year"),n.k0s(),n.j41(29,"mat-form-field",17)(30,"mat-select",23),n.DNE(31,GC,2,2,"mat-option",22),n.k0s(),n.j41(32,"mat-error"),n.pXf(33,6),n.k0s()()(),n.j41(34,"div",9)(35,"label",24),n.EFF(36,"CVV"),n.k0s(),n.j41(37,"mat-form-field",25),n.nrm(38,"input",26),n.j41(39,"mat-error"),n.pXf(40,7),n.k0s()()()()()}2&h&&(n.Y8G("formGroup",g.details),n.R7$(6),n.JRh(g.card_display),n.R7$(),n.Y8G("value",null==g.details.value.card_number?null:g.details.value.card_number.trim()),n.R7$(2),n.Y8G("ngIf",g.card_type),n.R7$(14),n.Y8G("ngForOf",g.months),n.R7$(8),n.Y8G("ngForOf",g.years))},dependencies:[Ts.Sq,Ts.bT,ds.qT,ds.me,ds.BC,ds.cb,ds.tU,ds.j4,ds.JD,Nc.rl,Nc.TL,Ku.fg,yr.VO,ka.wT],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}"]})}return r})(),hy=(()=>{class r{static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({imports:[Ts.MD,ds.YN,ds.X1,Nc.RG,Ku.fS,Vh.hM,np.Hl,yr.Ve,au.D6]})}return r})();n.wjB(UC.$,[Ts.bT,ds.BC,ds.vS,Vh.tx,au.LG,zC],[Ts.Jj,Ts.oe,Ts.vh]),l(4525);var R_=l(3046);l(6088),l(5507),l(5277),l(3601),l(906),l(4512),l(7926),l(2037),l(3476),l(4823),l(2765),l(9928),l(9714),l(3208),l(8228),l(4233),l(3747);let Hg=(()=>{class r{static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275mod=n.$C({type:r});static#n=this.\u0275inj=n.G2t({imports:[Ts.MD,R_.cQ,ds.YN,ds.X1,Ug.hI]})}return r})();l(2615),l(5204);var vy=l(2169);function P_(r){return new Ec(r,"./assets/locale/",".json")}let by=(()=>{class r{static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275mod=n.$C({type:r,bootstrap:[fM]});static#n=this.\u0275inj=n.G2t({providers:[{provide:n.zcH,useValue:o0({showDialog:!1})},{provide:l0,deps:[Oo.Ix]},{provide:n.hnV,useFactory:()=>()=>{},deps:[l0],multi:!0},(0,sl.$R)((0,sl.Sx)())],imports:[t.Bb,Kr,H0,Ha.register("ngsw-worker.js",{enabled:true}),ds.YN,Ug.hI,jC.lx,vM.u,zg.SG,hy,Hg,vy.c,ds.X1,$g.h.forRoot({defaultLanguage:"en",loader:{provide:$g.Wr,useFactory:P_,deps:[sl.Qq]}}),vy.c]})}return r})();(0,n.SmG)(),t.sG().bootstrapModule(by).catch(r=>console.error(r))},8228:(jt,Se,l)=>{"use strict";l.d(Se,{i:()=>k,r:()=>I});var t=l(467),E=l(5204),M=l(3953);const S=[],u=new class v{constructor(w){this.images=[],Object.assign(this,w)}};function I(T){for(const w of T)S.find(({id:D})=>D===w.id)||S.push(w)}let k=(()=>{class T{transform(D){return(0,t.A)(function*(){if(!D)return u;let f=S.find(({id:K})=>K===D);if(f)return f;const V=yield(0,E.RF)(D).toPromise().catch(K=>null);return V?(f={...V},S.push(f),f):u})()}updateAssetGroupList(D){I(D)}static#e=this.\u0275fac=function(f){return new(f||T)};static#t=this.\u0275pipe=M.EJ8({name:"assetgroup",type:T,pure:!0})}return T})()},3747:(jt,Se,l)=>{"use strict";l.d(Se,{Y:()=>S});var t=l(7375),n=l(1406),p=l(906),v=l(3601),b=l(7926),E=l(2357);function M(u){let I=u.event?.date||u._time;return u.deliver_time&&(I=(0,n.h)(I,{hours:Math.floor(u.deliver_time),minutes:u.deliver_time%1*60}).valueOf()),(u.deliver_day_offset>0||u.event?.all_day)&&(I=(0,p.f)((0,v.o)(I),u.deliver_day_offset).valueOf()),(0,b.z)(I,u.deliver_offset).valueOf()}class S{get deliver_at(){return M(this)}get status(){return this._status}set status(I){this._status=I,this[`${this.event_id}_status`]=I}constructor(I={}){this.conflict=!1,this._changed=!1,this._time=(0,E.c)(Date.now()).valueOf(),this.id=I.id||`order-${(0,t.HO)(9999999,1e6)}`,this.event_id=I.event_id||I.parent_id||"",this.items=I.items||I.asset_ids?.map(T=>({id:T,quantity:1}))||[],this.item_count=this.items.reduce((T,w)=>T+w.quantity,0),this._status=I[`${this.event_id}_status`]||I.status||(I.extension_data||{})[`${this.event_id}_status`]||I.extension_data?.status||"in_storage",this.event=I.event||I||null;const k=this.event?.linked_bookings?.find(T=>T.extension_data.request_id===this.id);this._booking=k||I.booking||null,this._changed=!!I._changed||!k,this.notes=I.notes||I.description||"",this.deliver_time=I.deliver_time||I.extension_data?.deliver_time||void 0,this.deliver_offset=I.deliver_offset||I.extension_data?.deliver_offset||0,this.deliver_day_offset=I.deliver_day_offset||I.extension_data?.deliver_day_offset||0,this.deliver_at_time=M(this),this.conflict=!!I.conflict,this.ref_id=`${this.deliver_at_time}|${this.items.map(T=>`${T.id}:${T.quantity}`).join("|")}`}toJSON(){const I={...this};return delete I.event,delete I._changed,delete I._status,delete I._time,delete I.deliver_at_time,delete I.deliver_at,I.items=I.items.map(k=>({id:k.id,category_id:k.category_id,quantity:k.quantity,name:k.name,item_ids:k.item_ids})),I}}},6088:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>z});var t=l(9928),n=l(9714),p=l(4421),v=l(8728),b=l(3020),E=l(9090),M=l(8841),S=l(8712),u=l(3921),I=l(5006),k=l(5204),T=l(5645),w=l(5987),D=l(3601),f=l(4512),V=l(2357),K=l(350),ne=l(7926),U=l(8228),c=l(2185),Z=l(2615),F=l(1038),J=l(3953);let z=(()=>{class X{constructor(te){this._org=te,this._options=new t.t({date:Date.now()}),this._search=new t.t(""),this._category=new t.t([]),this._loading=new t.t(""),this.search=this._search.asObservable(),this.category=this._category.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.rules=(0,n.zV)([this._options,this._org.active_building]).pipe((0,v.p)(([G,oe])=>!!oe),(0,b.B)(300),(0,E.n)(([G,oe])=>(this._loading.next(this._loading.getValue()+"[Rules]"),(0,Z.$z)(oe.id||G.zone||""))),(0,M.M)(G=>this._loading.next(this._loading.getValue().replace(/\[Rules\]/g,""))),(0,S.t)(1)),this.asset_list=(0,p.of)(0).pipe((0,E.n)(()=>(this._loading.next(this._loading.getValue()+"[Assets]"),(0,k._B)())),(0,M.M)(G=>this._loading.next(this._loading.getValue().replace(/\[Assets\]/g,""))),(0,S.t)(1)),this.asset_bookings=this._options.pipe((0,b.B)(300),(0,E.n)(({zone:G,date:oe})=>(this._loading.next(this._loading.getValue()+"[Bookings]"),(0,T.tj)({zones:G||"",period_start:(0,w._)((0,D.o)(oe)),period_end:(0,w._)((0,f.D)(oe)),type:"asset-request"}))),(0,M.M)(G=>this._loading.next(this._loading.getValue().replace(/\[Bookings\]/g,""))),(0,S.t)(1)),this.available_groups=(0,n.zV)([this._options,this._org.active_building]).pipe((0,b.B)(300),(0,E.n)(([{zone:G,date:oe,duration:ce,ignore:le},ve])=>(0,k.LZ)({zones:ve.id||G||"",period_start:(0,w._)((0,V.c)(oe)),period_end:(0,w._)((0,K.V)((0,ne.z)(oe,ce||30))),type:"asset-request",rejected:!1},le).pipe((0,u.W)(()=>(0,p.of)([])))),(0,I.T)(G=>G.sort((oe,ce)=>oe.name.localeCompare(ce.name))),(0,M.M)(G=>(0,U.r)(G)),(0,S.t)(1)),this.category_list=this._org.active_building.pipe((0,E.n)(G=>(0,k.vt)({zone_id:G.id})),(0,I.T)(G=>G.sort((oe,ce)=>oe.name.localeCompare(ce.name))),(0,S.t)(1)),this.filtered_assets=(0,n.zV)([this._search,this._category,this.available_groups,this.rules]).pipe((0,I.T)(([G,oe,ce,le])=>{const ve=G.toLowerCase();return ce.filter(R=>R.assets?.length&&(!oe.length||oe.includes(R.category_id))&&(R.name.toLowerCase().includes(ve)||R.description.toLowerCase().includes(ve))&&(0,Z.WH)(R,le,this._options.getValue()))}),(0,S.t)(1)),this.settings=(0,n.zV)([this._org.active_building]).pipe((0,v.p)(([G])=>!!G),(0,E.n)(([G])=>(0,F.bpY)(G.id,"assets-settings").pipe((0,u.W)(oe=>(0,p.of)({})))),(0,I.T)(G=>G.details||{}),(0,S.t)(1)),this.disabled_rooms=this.settings.pipe((0,I.T)(G=>G.disabled_rooms||[]))}setSearch(te){this._search.next(`${te}`)}toggleCategory(te){const G=this._category.getValue();G.includes(te)?this._category.next(G.filter(oe=>oe!==te)):this._category.next([...G,te])}getOptions(){return this._options.getValue()}setOptions(te){this._options.next({...this._options.value,...te})}static#e=this.\u0275fac=function(G){return new(G||X)(J.KVO(c.yb))};static#t=this.\u0275prov=J.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},2615:(jt,Se,l)=>{"use strict";l.d(Se,{$z:()=>f,WH:()=>V});var t=l(7375),n=l(9255),p=l(3901),v=l(9824),b=l(5611),E=l(5006),M=l(3921),S=l(1038),u=l(4421);const D={};function f(K,ne=!1){return K?((!D[K]||ne)&&(D[K]=(0,S.bpY)(K,"assets_config").pipe((0,E.T)(U=>U.details instanceof Array?U.details:[]),(0,M.W)(U=>(0,u.of)([])))),D[K]):(0,u.of)([])}function V(K,ne,U){const c=Date.now(),Z=new Date(U.date),F=z=>K.name===z.name||K.category.name.includes(z.name)||U.resources.some(X=>X.zones.includes(z.name))||U.space?.zones.includes(z.name)||"*"===z.name,J=z=>z.rules.reduce((X,$)=>{switch($[0]){case"is_before":return X+((0,n.Y)(c,(0,p.O)(Z,$[1]))?1:0);case"within_hours":return X+((0,v.d)(c,(0,p.O)(Z,$[1]))?1:0);case"after_hour":return X+((0,v.d)(Z,(0,b.a)(Z,$[1]))?1:0);case"before_hour":return X+((0,n.Y)(Z,(0,b.a)(Z,$[1]))?1:0);case"min_length":return X+(U.duration>=(0,t.II)($[1])?1:0);case"max_length":return X+(U.duration<=(0,t.II)($[1])?1:0);case"visitor_type":return X+(U.ext("visitor_type")===$[1]?1:0);default:return X+1}},0);for(const z of ne)if(F(z)&&J(z)<z.rules.length)return!1;return!0}},5204:(jt,Se,l)=>{"use strict";l.d(Se,{LZ:()=>tt,RF:()=>le,_B:()=>Q,en:()=>Bn,vt:()=>U});var t=l(467),n=l(1038),p=l(8385),v=l(5006),b=l(9090),E=l(8841),M=l(4421),S=l(696),u=l(9714),I=l(5987),k=l(3601),T=l(4512),w=l(7926),D=l(5645),f=l(3857),V=l(7375),K=l(3747);const ne="/api/engine/v2";function U(Ft={}){const W=(0,p.z)(Ft);return(0,n.JtY)(`${ne}/asset_categories${W?"?"+W:""}`).pipe((0,v.T)(Me=>Me))}const $=new Map;function te(Ft={}){const W=(0,p.z)(Ft);return $.has(Ft.zones)?(0,M.of)($.get(Ft.zones)):(0,n.JtY)(`${ne}/asset_types${W?"?"+W:""}`).pipe((0,v.T)(Me=>Me),(0,b.n)(Me=>(0,S.p)(Me.map(ie=>Q({limit:200,...Ft,type_id:ie.id}).pipe((0,v.T)(pe=>({...ie,assets:pe})))))),(0,E.M)(Me=>{$.set(Ft.zones,Me),setTimeout(()=>$.delete(Ft.zones),3e5)}))}function le(Ft){return(0,n.JtY)(`${ne}/asset_types/${Ft}`).pipe((0,v.T)(W=>W))}function Q(Ft={}){const W=(0,p.z)(Ft);return(0,n.JtY)(`${ne}/assets${W?"?"+W:""}`).pipe((0,v.T)(Me=>Me))}function tt(Ft,W){return Ft.type="asset-request",(0,u.zV)([te(Ft),(0,D.tj)(Ft)]).pipe((0,v.T)(([Me,ie])=>(ie=ie.filter(pe=>"declined"!==pe.status&&"cancelled"!==pe.status),Me.map(pe=>({...pe,assets:pe.assets.filter(Be=>W?.includes(Be.id)||!ie.find(Tt=>!W.includes(Tt.id)&&(Tt.asset_id===Be.id||Tt.asset_ids?.includes(Be.id))))})))))}function Bn(Ft,W){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,t.A)(function*({id:Ft,ical_uid:W,from_booking:Me},{date:ie,duration:pe,all_day:Be,host:Tt,location_name:Wt,location_id:vn,zones:Pt,reset_state:dn},at=[],pt=!1){const Xt=yield(0,D.tj)({period_start:(0,I._)(Be?(0,k.o)(ie):ie),period_end:(0,I._)(Be?(0,T.D)((0,w.z)(ie,pe)):(0,w.z)(ie,pe)),type:"asset-request",zones:Pt.join(",")}).toPromise(),Gt=Ft&&W?yield(0,D.tj)({period_start:(0,I._)((0,k.o)(ie)),period_end:(0,I._)((0,T.D)(ie)),type:"asset-request",email:Tt,event_id:Me?"":Ft,booking_id:Me?Ft:"",ical_uid:W}).toPromise():[],pn=Gt.map(ct=>[ct.id,new K.Y(ct.extension_data.request)]);at?.forEach(ct=>ct.conflict=!1);let nn=pt?at.map(ct=>ct.id):function Mn(Ft,W){if((!Ft||Ft?.length<=0)&&W?.length)return[];if(!W)return[];const ie=[];for(const pe of Ft){const Be=W.find(Tt=>Tt.id===pe.id);(!Be||Be.ref_id!==pe.ref_id)&&ie.push(pe.id)}return ie}(at,pn.map(([ct,kt])=>kt),dn);if(dn){const ct=Gt.filter(kt=>kt.approved||kt.rejected);nn=(0,V.Am)([...nn,...ct.map(kt=>kt.extension_data.request_id)])}const xn=pn.filter(([ct,kt])=>!nn.includes(kt.id)),kn=pn.filter(([ct,{id:kt}])=>nn.includes(kt)),Gn=at.filter(({id:ct})=>nn.includes(ct)),hi=Xt.filter(ct=>!ct.rejected&&(!Gt.find(kt=>kt.id===ct.id)||xn.find(([kt])=>ct.event_id===kt)));let Ht=(0,V.Bq)(hi.map(ct=>ct.asset_ids));for(const[ct,kt]of xn)Ht=[...Ht,...(0,V.Bq)(kt.items.map(qt=>qt.item_ids))];const dt=yield tt({period_start:(0,I._)(Be?(0,k.o)(ie):ie),period_end:(0,I._)(Be?(0,T.D)((0,w.z)(ie,pe)):(0,w.z)(ie,pe)),type:"asset-request"},Gt.map(ct=>ct.id)).toPromise(),Vt=Gn.map(ct=>{let kt=(0,V.Bq)(ct.items.map(({id:Qe,item_ids:je,quantity:ze})=>{const Re=dt.find(We=>We.id===Qe)?.assets;if(!Re)return je;const it=[];return new Array(ze).fill(0).map((We,ht)=>{const He=Ht.includes(je[ht])||it.includes(je[ht])||!je[ht]?Re?.find(({id:Ke})=>!Ht.includes(Ke)&&!it.includes(Ke))?.id:je[ht];if(!He)throw ct.conflict=!0,"Unable to find available asset for request";return it.push(He),He})}));const qt=Gt.find(Qe=>Qe.asset_ids.find(je=>ct.items?.find(ze=>ze.item_ids.includes(je))));Ht=[...Ht,...kt];const un={type:"asset-request",booking_type:"asset-request",date:ie,duration:pe,all_day:Be,description:Wt,user_email:Tt,asset_id:kt[0],asset_ids:kt,asset_name:ct.items.map(Qe=>Qe.name).join(", "),title:ct.items.map(Qe=>Qe.name).join(", "),approved:!dn&&qt?.approved&&!ct._changed,rejected:!dn&&qt?.rejected&&!ct._changed,extension_data:{parent_id:Ft,request_id:ct.id,location_id:vn,request:new K.Y({...ct,event:null})},zones:Pt||[]};return Me&&(un.parent_id=Ft),(0,D.sH)(new f.Qr(un),{ical_uid:W,event_id:Me?"":Ft})});return(0,t.A)(function*(){yield Promise.all(kn.map(([ct])=>(0,D.UN)(ct).toPromise())),yield Promise.all(Vt.map(ct=>ct.toPromise()))})})).apply(this,arguments)}},7915:(jt,Se,l)=>{"use strict";l.d(Se,{nx:()=>n.n,SG:()=>t.S,Z$:()=>b.Z$,u3:()=>b.u3,DO:()=>b.DO,MV:()=>b.MV});var t=l(7651),n=l(8379),b=(l(3857),l(7141),l(5645));l(7375),l(8026),l(3367),l(7254),l(8796),l(1781),l(7547),l(7642),l(1593)},7547:(jt,Se,l)=>{"use strict";l.d(Se,{F:()=>ce});var t=l(3953),n=l(7375),p=l(5818),v=l(4903),b=l(7926),E=l(2659),M=l(5006),u=(l(3857),l(1781)),I=l(5354),k=l(8026),T=l(1593),w=l(5713),D=l(4006),f=l(2091),V=l(177),K=l(9434),ne=l(907);const U=()=>["./"],c=le=>({booking:le});function Z(le,ve){if(1&le&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&le){const Q=t.XpG(2);t.R7$(),t.SpI("",Q.day,",\xa0")}}function F(le,ve){if(1&le&&(t.j41(0,"h4",3),t.DNE(1,Z,2,1,"span",4),t.EFF(2),t.nI1(3,"date"),t.j41(4,"span",5),t.EFF(5),t.nI1(6,"date"),t.k0s()()),2&le){const Q=t.XpG();t.R7$(),t.Y8G("ngIf",Q.show_day),t.R7$(),t.SpI(" ",t.i5U(3,3,null==Q.booking?null:Q.booking.date,Q.time_format)," "),t.R7$(3),t.SpI("(",t.i5U(6,6,null==Q.booking?null:Q.booking.date,"z"),")")}}function J(le,ve){if(1&le&&(t.j41(0,"app-icon"),t.EFF(1),t.k0s()),2&le){const Q=t.XpG(2);t.R7$(),t.JRh(Q.type)}}function z(le,ve){if(1&le&&(t.j41(0,"div",19)(1,"app-icon"),t.EFF(2,"place"),t.k0s(),t.j41(3,"div",20),t.EFF(4),t.k0s()()),2&le){const Q=t.XpG(2);t.R7$(4),t.JRh(Q.location)}}function X(le,ve){1&le&&(t.j41(0,"div",21),t.EFF(1," Associate "),t.k0s())}function $(le,ve){1&le&&(t.j41(0,"div",21),t.EFF(1," Event "),t.k0s())}function te(le,ve){if(1&le&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&le){const Q=t.XpG(2);t.R7$(),t.SpI(" ","declined"!==Q.booking.status?"RESERVED":"RELEASED"," ")}}function G(le,ve){if(1&le){const Q=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(Q);const L=t.XpG();return t.Njj(L.viewDetails())}),t.j41(1,"div",8)(2,"h4",9),t.EFF(3),t.k0s(),t.j41(4,"div",10)(5,"status-pill",11),t.EFF(6),t.k0s()(),t.j41(7,"div",12)(8,"div",13),t.DNE(9,J,2,1,"app-icon",14),t.j41(10,"div",15),t.EFF(11),t.k0s()(),t.DNE(12,z,5,1,"div",16),t.k0s(),t.j41(13,"app-icon",17),t.EFF(14," chevron_right "),t.k0s(),t.DNE(15,X,2,0,"div",18)(16,$,2,0,"div",18)(17,te,2,1,"div",18),t.nI1(18,"async"),t.k0s()()}if(2&le){const Q=t.XpG(),R=t.sdS(3);t.Y8G("routerLink",t.lJ4(14,U))("queryParams",t.eq3(15,c,null==Q.booking?null:Q.booking.id)),t.R7$(3),t.JRh(null==Q.booking?null:Q.booking.title),t.R7$(2),t.Y8G("status",Q.status),t.R7$(),t.JRh(Q.period),t.R7$(3),t.Y8G("ngIf","desk"!==Q.type)("ngIfElse",R),t.R7$(2),t.SpI(" ",Q.raw_description||(null==Q.booking?null:Q.booking.asset_name)||(null==Q.booking?null:Q.booking.asset_id)," "),t.R7$(),t.Y8G("ngIf",Q.location),t.R7$(3),t.Y8G("ngIf",!Q.for_current_user&&"group-event"!==(null==Q.booking?null:Q.booking.booking_type)),t.R7$(),t.Y8G("ngIf","group-event"===(null==Q.booking?null:Q.booking.booking_type)),t.R7$(),t.Y8G("ngIf",t.bMT(18,12,Q.is_reserved_parking_space))}}function oe(le,ve){1&le&&t.nrm(0,"img",22)}let ce=(()=>{class le extends I.T{get for_current_user(){return this.booking?.user_email.toLowerCase()===(0,n.Ny)()?.email.toLowerCase()}get time_format(){return this._settings.time_format}get status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status||"cancelled"===this.booking?.status?"error":"warning"}constructor(Q,R,L,H,fe){super(),this._dialog=Q,this._route=R,this._org=L,this._settings=H,this._parking=fe,this.show_day=!1,this.edit=new t.bkB,this.remove=new t.bkB,this.end=new t.bkB,this.raw_description="",this.is_reserved_parking_space=this._parking.assigned_space.pipe((0,M.T)(Ie=>"parking"===this.booking.booking_type&&Ie&&this.booking.asset_id===Ie.id))}ngOnInit(){this.subscription("route.query",this._route.queryParamMap.subscribe(Q=>Q.has("booking")&&this.booking?.id===Q.get("event")?this.viewDetails():""))}ngOnChanges(Q){Q.booking&&(this.raw_description=this.removeHtmlTags(this.booking?.description))}get type(){return"desk"===this.booking?.type?"desk":"parking"===this.booking?.type?"drive_eta":"book"}get day(){const Q=this.booking?.date||Date.now();return`${(0,p.r)(Date.now(),Q)?"Today":(0,v.GP)(Q,"EEEE")}`}get location(){const Q=this._org.levelWithID(this.booking?.zones||[]);return`${Q?.display_name||Q?.name||""}`}get period(){if(this.booking?.is_all_day)return"All Day";const Q=this.booking?.date||Date.now(),R=this.booking?.duration||60,L=(0,b.z)(Q,R),H=(0,E.a)({hours:Math.floor(R/60),minutes:R%60}).replace(" hour","hr").replace(" minute","min");return`${(0,v.GP)(Q,this.time_format)} - ${(0,v.GP)(L,this.time_format)} (${H})`}removeHtmlTags(Q){return(new DOMParser).parseFromString(Q,"text/html").body.textContent||""}viewDetails(){this.booking&&this.timeout("open",()=>{const L=this._dialog.open("group-event"===this.booking.booking_type?w.E:u.W,{data:"group-event"===this.booking.booking_type?{booking:this.booking,concierge:!1}:this.booking});this.subscription("edit",L.componentInstance.edit?.subscribe(()=>this.edit.emit())),this.subscription("remove",L.componentInstance.remove?.subscribe(()=>this.remove.emit())),this.subscription("end",L.componentInstance.end?.subscribe(()=>this.end.emit()))})}static#e=this.\u0275fac=function(R){return new(R||le)(t.rXU(D.bZ),t.rXU(f.nX),t.rXU(k.y),t.rXU(n.h$),t.rXU(T.w))};static#t=this.\u0275cmp=t.VBU({type:le,selectors:[["booking-card"]],inputs:{booking:"booking",show_day:"show_day"},outputs:{edit:"edit",remove:"remove",end:"end"},features:[t.Vt3,t.OA$],decls:4,vars:2,consts:[["desk_icon",""],["class","mb-2 flex items-center",4,"ngIf"],["name","view-booking-details","class","w-full cursor-pointer overflow-hidden relative",3,"routerLink","queryParams","click",4,"ngIf"],[1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-booking-details",1,"w-full","cursor-pointer","overflow-hidden","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4","max-w-[33%]"],[4,"ngIf","ngIfElse"],[1,"mx-2","truncate","flex-1","w-1/2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute top-2 right-2 bg-warning/50 rounded-xl px-2 py-1 text-xs",4,"ngIf"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"absolute","top-2","right-2","bg-warning/50","rounded-xl","px-2","py-1","text-xs"],["src","assets/icons/desk-outline.svg",1,"w-5","h-5"]],template:function(R,L){1&R&&t.DNE(0,F,7,9,"h4",1)(1,G,19,17,"a",2)(2,oe,1,0,"ng-template",null,0,t.C5r),2&R&&(t.Y8G("ngIf",L.booking),t.R7$(),t.Y8G("ngIf",L.booking))},dependencies:[V.bT,K.R,ne.F,V.Jj,V.vh],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative}"]})}return le})()},1781:(jt,Se,l)=>{"use strict";l.d(Se,{W:()=>Ie});var t=l(467),n=l(3953),p=l(4006),v=l(7375),b=l(7926),E=l(2659),M=l(4903),S=l(620),u=l(1865),I=l(8026),T=(l(3857),l(5645)),w=l(7904),D=l(177),f=l(9183),V=l(9434),K=l(4918),ne=l(5277),U=l(907),c=l(9115),Z=l(6600),F=l(4823);const J=()=>({disable_pan:!0,disable_zoom:!0});function z(Xe,bt){1&Xe&&n.nrm(0,"div",27)}function X(Xe,bt){if(1&Xe&&(n.j41(0,"div",28),n.nrm(1,"image-carousel",29),n.k0s()),2&Xe){const rt=n.XpG();n.R7$(),n.Y8G("images",null==rt.booking||null==rt.booking.extension_data?null:rt.booking.extension_data.images)}}function $(Xe,bt){if(1&Xe&&(n.j41(0,"div",35)(1,"app-icon"),n.EFF(2),n.k0s(),n.j41(3,"div",36),n.EFF(4),n.k0s()()),2&Xe){const rt=n.XpG(3);n.R7$(2),n.JRh(rt.booking.checked_in?"done":"arrow_back"),n.R7$(2),n.SpI(" ",rt.booking.checked_in?"Checked in":"Check in"," ")}}function te(Xe,bt){1&Xe&&n.nrm(0,"mat-spinner",37),2&Xe&&n.Y8G("diameter",32)}function G(Xe,bt){if(1&Xe){const rt=n.RV6();n.j41(0,"button",33),n.bIt("click",function(){n.eBV(rt);const ot=n.XpG(2);return n.Njj(ot.toggleCheckedIn())}),n.DNE(1,$,5,2,"div",34)(2,te,1,1,"ng-template",null,1,n.C5r),n.k0s()}if(2&Xe){const rt=n.sdS(3),yt=n.XpG(2);n.AVh("bg-success",yt.booking.checked_in)("text-success-content",yt.booking.checked_in),n.Y8G("disabled",yt.checking_in),n.R7$(),n.Y8G("ngIf",!yt.checking_in)("ngIfElse",rt)}}function oe(Xe,bt){if(1&Xe&&(n.j41(0,"div",30),n.DNE(1,G,4,7,"button",31),n.j41(2,"button",32)(3,"app-icon"),n.EFF(4,"more_horiz"),n.k0s()()()),2&Xe){const rt=n.XpG(),yt=n.sdS(43);n.R7$(),n.Y8G("ngIf",!(rt.booking.checked_out_at||rt.checked_out||rt.auto_checkin||"upcoming"!==rt.booking.state&&"in_progress"!==rt.booking.state||"declined"===rt.booking.status)),n.R7$(),n.Y8G("matMenuTriggerFor",yt)}}function ce(Xe,bt){if(1&Xe&&(n.j41(0,"div",51)(1,"div",52)(2,"span",45),n.EFF(3),n.k0s()(),n.j41(4,"div",53),n.EFF(5),n.k0s()()),2&Xe){const rt=bt.$implicit;n.R7$(3),n.JRh(rt.name||"Item"),n.R7$(2),n.SpI(" x",rt.quantity," ")}}function le(Xe,bt){if(1&Xe){const rt=n.RV6();n.j41(0,"div",42)(1,"button",43),n.bIt("click",function(){const ot=n.eBV(rt).$implicit,It=n.XpG(2);return n.Njj(It.show_request[ot.id]=!It.show_request[ot.id])}),n.j41(2,"div",44)(3,"div",45),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",46)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",47)(10,"app-icon",48),n.EFF(11),n.k0s()()(),n.j41(12,"div",49),n.DNE(13,ce,6,2,"div",50),n.k0s()()}if(2&Xe){const rt=bt.$implicit,yt=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,rt.deliver_at,"MMM d, "+yt.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===rt.state)("text-success-content","approved"===rt.state)("bg-warning","approved"!==rt.state&&"rejected"!==rt.state)("text-warning-content","approved"!==rt.state&&"rejected"!==rt.state)("bg-error","rejected"===rt.state)("text-error-content","rejected"===rt.state),n.Y8G("matTooltip",rt.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===rt.state?"done":"rejected"===rt.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",yt.show_request[rt.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",yt.show_request[rt.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",rt.items)}}function ve(Xe,bt){if(1&Xe&&(n.qex(0),n.j41(1,"div",38)(2,"h3",39),n.pXf(3,3),n.k0s(),n.j41(4,"div",40),n.DNE(5,le,14,21,"div",41),n.k0s()(),n.bVm()),2&Xe){const rt=n.XpG();n.R7$(3),n.uP7((null==rt.booking.valid_assets?null:rt.booking.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",rt.booking.valid_assets)}}function Q(Xe,bt){if(1&Xe&&(n.qex(0),n.nrm(1,"interactive-map",54),n.bVm()),2&Xe){const rt=n.XpG();n.R7$(),n.Y8G("src",null==rt.level?null:rt.level.map_id)("features",rt.features)("options",n.lJ4(3,J))}}function R(Xe,bt){if(1&Xe){const rt=n.RV6();n.j41(0,"button",55),n.bIt("click",function(){n.eBV(rt);const ot=n.XpG();return n.Njj(ot.edit.emit())}),n.j41(1,"div",56)(2,"app-icon"),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,4),n.k0s()()()}}function L(Xe,bt){if(1&Xe){const rt=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(rt);const ot=n.XpG();return n.Njj(ot.setDeskHeight())}),n.j41(1,"div",56)(2,"app-icon",58),n.EFF(3," height "),n.k0s(),n.j41(4,"div"),n.pXf(5,5),n.k0s()()()}}function H(Xe,bt){if(1&Xe){const rt=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(rt);const ot=n.XpG();return n.Njj(ot.remove.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,6),n.k0s()()()}}function fe(Xe,bt){if(1&Xe){const rt=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(rt);const ot=n.XpG();return n.Njj(ot.end.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,7),n.k0s()()()}}let Ie=(()=>{class Xe{get level(){return this._org.levelWithID(this.booking?.zones||[])}get building(){const rt=this._org.buildings.find(yt=>(this.booking?.zones||[]).includes(yt.id));if(this._settings.get("app.use_region")){const yt=this._org.regions.find(ot=>(this.booking?.zones||[]).includes(ot.id)||ot.id===rt?.parent_id);if(yt)return yt}return rt}get can_edit(){return"visitor"!==this.booking.booking_type&&"parking"!==this.booking.booking_type}get auto_checkin(){return this._settings.get(`app.${this.booking?.type||"bookings"}.auto_checkin`)}get is_checked_in(){return this.booking.checked_in}get desk_height_enabled(){return"desk"===this.booking?.type&&this._settings.get("app.desks.height_enabled")}get is_in_progress(){const rt=Date.now(),yt=1e3*this.booking?.booking_start,ot=1e3*this.booking?.booking_end;return this.booking?.all_day?yt<=rt:yt<=rt&&rt<=ot}get time_format(){return this._settings.time_format}get booking_status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status?"error":"warning"}constructor(rt,yt,ot,It){this._booking=rt,this._settings=yt,this._org=ot,this._dialog=It,this.edit=new n.bkB,this.remove=new n.bkB,this.end=new n.bkB,this.booking=this._booking,this.hide_map=!1,this.show_request={},this.checked_out=!1,this.checking_in=!1,this.features=[{location:this.booking?.extension_data?.map_id||this.booking?.asset_id,content:u.V}],this.has_assets=!!this.booking?.valid_assets.length,console.log("Valid assets:",this.booking?.valid_assets)}get period(){if(this.booking?.is_all_day)return"All Day";const rt=this.booking?.date||Date.now(),yt=this.booking?.duration||60,ot=(0,b.z)(rt,yt),It=(0,E.a)({hours:Math.floor(yt/60),minutes:yt%60}).replace(" hour","hr").replace(" minute","min");return`${(0,M.GP)(rt,this.time_format)} - ${(0,M.GP)(ot,this.time_format)} (${It})`}toggleCheckedIn(){var rt=this;return(0,t.A)(function*(){rt.checking_in=!0;const yt=rt.booking;yield(yt.instance?(0,T.eW)(yt.id,yt.instance,!rt.booking.checked_in):(0,T.Z$)(rt.booking.id,!rt.booking.checked_in)).toPromise().catch(It=>{throw(0,v.UG)("Error checking in booking"),rt.checking_in=!1,It}),rt.booking.checked_in=!rt.booking.checked_in,rt.checked_out=!rt.booking.checked_in,(0,v.VX)("Successfully "+(rt.booking.checked_in?"checked in":"ended booking")),rt.checking_in=!1})()}status(rt){const yt=this.booking.linked_bookings.find(ot=>ot.asset_id===rt);return yt.status?yt.status:yt?yt.approved?"approved":yt.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(S.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:{id:this._booking.asset_id,name:this._booking.asset_name,map_id:this._booking.extension_data.map_id||this.booking.asset_id,level:this.level}}}).afterClosed().subscribe(()=>this.hide_map=!1)}setDeskHeight(){this._dialog.open(w.R,{data:{id:this.booking.asset_ids[0]||this.booking.asset_id}})}static#e=this.\u0275fac=function(yt){return new(yt||Xe)(n.rXU(p.Vh),n.rXU(v.h$),n.rXU(I.y),n.rXU(p.bZ))};static#t=this.\u0275cmp=n.VBU({type:Xe,selectors:[["booking-details-modal"]],outputs:{edit:"edit",remove:"remove",end:"end"},decls:48,vars:23,consts:()=>{let rt,yt,ot,It,Ae,we;return rt=$localize`:2c8ce65c566300dc9063f69c615fda2e3a6b896a2102851380219026584: Details `,yt=$localize`:9e3da900d415898c8ff7b522c5eecccfe4de018e31749697777503671: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,ot=$localize`:53f264e5fad94a425174c18cf299eeac7482f2581612171114840935381:Edit booking`,It=$localize`:35729dbbde462f39a391c9abc24a3f79eebfba7a7190557592686051728:Set Desk Height`,Ae=$localize`:55883ef2b67c24d30f999a5ade421493fdc9e14a1139994899162365077:Delete booking`,we=$localize`:2f3dfd27ad1999e91bb66ad271f967d6e543956f834898868131691573:End booking`,[["menu","matMenu"],["loading_state",""],rt,yt,ot,It,Ae,we,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[4]","min-w-1/3","sm:w-[16rem]"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["map","",1,"mt-4","sm:my-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","m-2","flex-grow-[3]","min-w-1/3","w-[calc(100%-1rem)]","p-2","sm:w-[16rem]",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","left-2","bg-neutral","text-white"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10 border-none",3,"bg-success","text-success-content","disabled","click",4,"ngIf"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-12","w-12",3,"matMenuTriggerFor"],["btn","","matRipple","",1,"flex-1","h-10","border-none",3,"click","disabled"],["class","flex items-center space-x-2 justify-center",4,"ngIf","ngIfElse"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],[1,"mx-auto",3,"diameter"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","py-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"text-sm"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"text-2xl"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"pointer-events-none",3,"src","features","options"],["mat-menu-item","","mat-dialog-close","",3,"click"],[1,"flex","items-center","space-x-2","text-base"],["mat-menu-item","",3,"click"],["className","material-symbols-rounded"],[1,"text-error"]]},template:function(yt,ot){if(1&yt){const It=n.RV6();n.j41(0,"div",8)(1,"div",9),n.DNE(2,z,1,0,"div",10)(3,X,2,1,"div",11),n.j41(4,"h3",12),n.EFF(5),n.k0s(),n.j41(6,"div",13)(7,"div",14)(8,"status-pill",15),n.EFF(9),n.k0s()(),n.DNE(10,oe,5,2,"div",16),n.k0s()(),n.j41(11,"div",17)(12,"div",18)(13,"h3",19),n.pXf(14,2),n.k0s(),n.j41(15,"div",20)(16,"app-icon"),n.EFF(17,"event"),n.k0s(),n.j41(18,"div"),n.EFF(19),n.nI1(20,"date"),n.k0s()(),n.j41(21,"div",20)(22,"app-icon"),n.EFF(23,"schedule"),n.k0s(),n.j41(24,"div"),n.EFF(25),n.k0s()(),n.j41(26,"div",20)(27,"app-icon"),n.EFF(28,"map"),n.k0s(),n.j41(29,"div"),n.EFF(30),n.k0s()(),n.j41(31,"div",20)(32,"app-icon"),n.EFF(33,"place"),n.k0s(),n.j41(34,"div"),n.EFF(35),n.k0s()()(),n.DNE(36,ve,6,2,"ng-container",21),n.j41(37,"button",22),n.bIt("click",function(){return n.eBV(It),n.Njj(ot.viewLocation())}),n.DNE(38,Q,2,4,"ng-container",21),n.k0s()(),n.j41(39,"button",23)(40,"app-icon"),n.EFF(41,"close"),n.k0s()()(),n.j41(42,"mat-menu",24,0),n.DNE(44,R,6,0,"button",25)(45,L,6,0,"button",26)(46,H,6,0,"button",26)(47,fe,6,0,"button",26),n.k0s()}2&yt&&(n.R7$(2),n.Y8G("ngIf",!(null!=ot.booking&&null!=ot.booking.extension_data&&null!=ot.booking.extension_data.images&&ot.booking.extension_data.images.length)),n.R7$(),n.Y8G("ngIf",null==ot.booking||null==ot.booking.extension_data||null==ot.booking.extension_data.images?null:ot.booking.extension_data.images.length),n.R7$(),n.AVh("pt-4",!(null!=ot.booking&&null!=ot.booking.extension_data&&ot.booking.extension_data.images)),n.R7$(),n.SpI(" ",ot.booking.title," "),n.R7$(3),n.Y8G("status",ot.booking_status),n.R7$(),n.SpI(" ",ot.period," "),n.R7$(),n.Y8G("ngIf",!ot.booking.is_done),n.R7$(9),n.JRh(n.i5U(20,20,ot.booking.date,"EEEE, dd LLLL y")),n.R7$(6),n.JRh(ot.period),n.R7$(5),n.Lme(" ",(null==ot.level?null:ot.level.display_name)||(null==ot.level?null:ot.level.name),", ",ot.booking.asset_name||ot.booking.asset_id," "),n.R7$(5),n.Lme(" ",(null==ot.building?null:ot.building.display_name)||(null==ot.building?null:ot.building.name)," ",null!=ot.building&&ot.building.address?", "+ot.building.address:""," "),n.R7$(),n.Y8G("ngIf",ot.has_assets),n.R7$(2),n.Y8G("ngIf",!ot.hide_map),n.R7$(6),n.Y8G("ngIf",ot.can_edit),n.R7$(),n.Y8G("ngIf",ot.is_checked_in&&ot.desk_height_enabled),n.R7$(),n.Y8G("ngIf",!ot.is_in_progress),n.R7$(),n.Y8G("ngIf",ot.is_in_progress))},dependencies:[D.Sq,D.bT,p.tx,f.LG,V.R,K.S,ne.H,U.F,c.kk,c.fb,c.Cp,Z.r6,F.oV,D.vh],data:{animation:[v.Ft]}})}return Xe})()},8379:(jt,Se,l)=>{"use strict";l.d(Se,{n:()=>fe});var t=l(467),n=l(2091),p=l(7375),v=l(1038),b=l(3601),E=l(5987),M=l(7926),S=l(4903),u=l(9928),I=l(9714),k=l(4421),T=l(4670),w=l(2170),D=l(696),f=l(8712),V=l(1713),K=l(3020),ne=l(9090),U=l(8841),c=l(5006),Z=l(8728),F=l(3921),J=l(4046),z=l(9493),X=l(8026),$=l(3857),te=l(7141),G=l(5645),oe=l(7254),ce=l(4525),le=l(4089),ve=l(5204),Q=l(6088),R=l(3953),L=l(4006);const H=["desk","parking","locker","catering"];let fe=(()=>{class Ie extends p.Tv{get view(){return this._view.getValue()}get booking(){return this._booking.getValue()}resourceUserName(bt){return this._resource_use[bt]}newForm(bt=new $.Qr({all_day:this._settings.get("app.bookings.all_day_default")})){this.form.reset(),this.form.patchValue((0,v.jv5)({...bt,...bt.extension_data},[null,void 0,""])),this.subscription("form_change",this.form.valueChanges.subscribe(()=>{const{date:rt,duration:yt}=this.form.getRawValue();this._assets.setOptions({date:rt,duration:yt}),this.storeForm()})),this.timeout("date",()=>{this.form.patchValue({date:bt.date,duration:bt.duration})}),this._booking.next(new $.Qr(bt)),this._options.next({type:this._options.getValue().type})}constructor(bt,rt,yt,ot,It,Ae){super(),this._router=bt,this._settings=rt,this._org=yt,this._dialog=ot,this._payments=It,this._assets=Ae,this._view=new u.t("form"),this._options=new u.t({type:"desk"}),this._booking=new u.t(null),this._resource_use={},this._loading=new u.t(""),this.last_success=new $.Qr(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_booking")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.pipe((0,f.t)(1)),this.form=(0,te.Rr)(),this.resources=(0,I.zV)([this._org.active_building,this.options.pipe((0,V.w)("type"))]).pipe((0,K.B)(300),(0,ne.n)(([we,{type:_e}])=>{if(!we)return(0,k.of)([]);switch(_e){case"desk":return this._loading.next("Loading desks..."),this.loadResourceList("desks");case"parking":return this._loading.next("Loading parking spaces..."),this.loadResourceList("parking-spaces");case"locker":return this._loading.next("Loading lockers..."),this.loadResourceList("lockers")}return(0,k.of)([])}),(0,U.M)(()=>this._loading.next("")),(0,f.t)(1)),this.features=this.resources.pipe((0,c.T)(we=>{const _e=[];for(const{features:de}of we)de instanceof Array&&de.forEach(Te=>_e.push(Te));return(0,p.Am)(_e).sort((de,Te)=>de.localeCompare(Te))}),(0,f.t)(1)),this.booking_rules=(0,I.zV)([this._org.building_list,this._options]).pipe((0,ne.n)(([we,{type:_e}])=>Promise.all(we.map(de=>(0,v.bpY)(de.id,`${_e}_booking_rules`).toPromise()))),(0,c.T)(we=>{const _e={};for(const de of we)_e[de.id]=de.details instanceof Array?de.details:[];return _e}),(0,f.t)(1)),this.available_resources=(0,I.zV)([this.options,this.resources,this.booking_rules,(0,T.h)(this.form.get("date").valueChanges,(0,w.O)(1e3)),(0,T.h)(this.form.get("duration").valueChanges,(0,w.O)(1e3))]).pipe((0,Z.p)(()=>this.form.getRawValue().date>0&&this.form.getRawValue().duration>0),(0,K.B)(500),(0,U.M)(([{type:we}])=>this._loading.next(`Checking ${we} availability...`)),(0,ne.n)(([we,_e,de])=>{var{all_day:Te,date:Pe,duration:St,user:tt}=this.form.getRawValue();return Te&&(Pe=(0,b.o)(Pe).valueOf(),St=1439),(0,G.$F)({period_start:(0,E._)(Pe),period_end:(0,E._)((0,M.z)(Pe,St)),type:we.type,zones:we.zone_id||(this._settings.get("app.use_region")?this._org.region?.id:this._org.building?.id)||this._org.organisation.id}).pipe((0,c.T)(wt=>{const ln=this.form.getRawValue().date;(0,M.z)(ln,this.form.getRawValue().duration).valueOf(),this._resource_use={};for(const Jt of wt)this._resource_use[Jt]=" ";const Bn=_e.filter(Jt=>!(0,p.RH)({date:Pe,duration:St,resource:Jt,host:tt||(0,p.Ny)()},de[Jt.zone?.id]||de[Jt.zone?.parent_id]||de[this._org.building.id]||[]).hidden&&(!Jt.groups?.length||Jt.groups.some(W=>(0,p.Ny)().groups.includes(W)))&&!1!==Jt.bookable&&(!we.features||we.features?.every(W=>Jt.features.includes(W)))&&(!we.zone_id||we.zone_id===Jt.zone?.id||we.zone_id===Jt.zone?.parent_id)&&!wt.includes(Jt.id));return console.log("Resources:",_e,Bn),Bn},(0,F.W)(wt=>(0,k.of)([]))))}),(0,U.M)(we=>this._loading.next("")),(0,f.t)(1)),this.grouped_availability=(0,I.zV)([this.options,this.available_resources]).pipe((0,c.T)(([we,_e])=>{const de=[],Te=[..._e].sort((St,tt)=>St.zone?.id?.localeCompare(tt.zone?.id)),Pe=we.members?.length?we.members:[(0,p.Ny)()];for(;Te.length;){const St=[];let tt=Te.pop();for(;St.length<Pe.length&&(!St.length||St.find(wt=>wt.zone?.id===tt.zone?.id));)St.push(tt),tt=Te.pop();St.length<Pe.length||de.push(St)}return de})),this.subscription("router.bookings",this._router.events.subscribe(we=>{we instanceof n.wF&&!we.url.includes("book")&&!H.find(_e=>we.url.includes(_e))&&this.clearForm()})),this._org.initialised.pipe((0,J.$)(we=>we)).subscribe(()=>this.setOptions({}))}setView(bt){this._view.next(bt)}setOptions(bt){this._options.next({...this._options.getValue(),...bt})}setFeature(bt,rt){if(!bt?.length)return;const yt=this._options.getValue()?.features||[];rt&&!yt.includes(bt)&&yt.push(bt),!rt&&yt.includes(bt)&&yt.splice(yt.findIndex(ot=>ot===bt),1),this.setOptions({features:yt})}resetForm(){if(!sessionStorage.getItem("PLACEOS.booking_form"))return this.newForm();const bt=this._booking.getValue();this.form.reset({user:(0,p.Ny)(),booked_by:(0,p.Ny)()}),this.form.patchValue((0,v.jv5)({...bt||{},...bt?.extension_data||{}},[null,void 0,""])),this._options.next({type:this._options.getValue().type})}clearForm(){sessionStorage.removeItem("PLACEOS.booking_form"),sessionStorage.removeItem("PLACEOS.booking_form_options"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.booking_form",JSON.stringify({...this._booking.getValue(),...(0,v.jv5)(this.form.getRawValue()||{},[null,void 0,""])})),sessionStorage.setItem("PLACEOS.booking_form_filters",JSON.stringify(this._options.getValue()||{}))}loadForm(){this.form.reset({user:(0,p.Ny)(),booked_by:(0,p.Ny)()});const bt=JSON.parse(sessionStorage.getItem("PLACEOS.booking_form")||"{}"),rt=new $.Qr(bt);this._booking.next(rt);const yt=(0,v.jv5)({...bt,...rt||{},...rt?.extension_data||{}},[null,void 0,""]);this.form.patchValue(yt),this.setOptions({...JSON.parse(sessionStorage.getItem("PLACEOS.booking_form_filters")||"{}")})}clearOldState(){sessionStorage.removeItem("PLACEOS.last_booked_booking"),this.last_success=new $.Qr}openBookingLinkModal(bt=!1){if(this.form.markAllAsTouched(),!this.form.valid&&!bt)return;const rt=new $.Qr({...this.booking,...this.form.getRawValue()});this._dialog.open(le.g,{data:rt})}confirmPost(){var bt=this;return(0,t.A)(function*(){yield bt.checkQuestions();const rt=bt._options.getValue(),yt=bt.form.getRawValue();let ot=`Would you like to book the ${rt.type} ${yt.asset_name} for ${(0,S.GP)(yt.date,"dd MMM yyyy")}${yt.duration<720?" at "+(0,S.GP)(yt.date,"h:mm a"):""}`;rt.group&&(ot=`${ot}.<br>You group members will be assigned desks nearby your selected desk.`);const It=yield(0,p.GE)({title:`Book ${rt.type}`,content:ot,icon:{content:"event_available"}},bt._dialog);if("done"!==It?.reason)throw"User cancelled";It.loading("Performing booking request..."),rt.group?yield bt.postFormForGroup().catch(Ae=>{throw(0,p.UG)(JSON.stringify(Ae)),It.close(),Ae}):yield bt.postForm().catch(Ae=>{throw(0,p.UG)(JSON.stringify(Ae)),It.close(),Ae}),It.close()})()}postForm(bt=!1){var rt=this;return(0,t.A)(function*(){if(!rt.form)throw"No form for booking";if(!rt.form.valid)throw`Some form fields are invalid. [${(0,p.F7)(rt.form).join(", ")}]`;rt.form.patchValue({booking_type:rt.form.getRawValue().booking_type||rt._options.getValue().type});let yt=rt.form.getRawValue(),ot=rt._booking.getValue()||new $.Qr;if(bt||(yield rt.checkResourceAvailable({...ot,...yt,user_email:yt.user?.email||yt.user_email||(0,p.Ny)()?.email},rt._options.getValue().type)),rt._payments.payment_module){const St=yield rt._payments.makePayment({type:rt._options.getValue().type,resource_name:yt.asset_name,date:yt.date,duration:yt.duration,all_day:yt.all_day});if(!St?.success)return;yt.extension_data={invoice:St,invoice_id:St.invoice_id}}!yt.zones?.length&&rt._booking.getValue().zones?.length&&(yt.zones=rt._booking.getValue().zones),rt._loading.next("Saving booking"),delete yt.booking_asset,yt.all_day&&(yt.date=(0,b.o)(yt.date).valueOf(),yt.duration=1439);const{event_id:It,parent_id:Ae}=yt;delete yt.event_id,delete yt.parent_id;const we=yt.resources||[],_e=we[0]?.zone?(0,p.Am)([rt._org.organisation.id,rt._org.region?.id,we[0]?.zone?.parent_id,we[0]?.zone?.id]):[rt._org.organisation.id,rt._org.region?.id],de=It?{ical_uid:yt.ical_uid,event_id:It}:Ae?{booking_id:Ae}:{};ot.instance&&!yt.update_master&&(de.instance=!0,de.start_time=ot.booking_start);const Te=yield(0,G.X0)(new $.Qr({...rt._options.getValue(),...yt,description:yt.asset_name||yt.description,user_name:yt.user?.name||yt.user_name,user_email:yt.user?.email||yt.user_email,extension_data:{...yt.extension_data||{},assets:yt.assets.map(St=>St.toJSON()),group:yt.group,phone:yt.phone,department:yt.user?.department||(0,p.Ny)()?.department},approved:!rt._settings.get("app.bookings.no_approval"),zones:(0,p.Am)([..._e,...yt.zones||[]]).filter(St=>St)}),de).toPromise().catch(St=>{throw rt._loading.next(""),St?.error||St});if(yt.assets?.length||ot.extension_data.assets?.length){const St=yield(0,ve.en)({...Te,from_booking:!0},{date:yt.date,duration:yt.duration,all_day:yt.all_day,host:yt.booked_by_email,zones:(0,p.Am)([..._e,...yt.zones||[]]).filter(tt=>tt)},yt.assets).catch(tt=>{throw console.error("Couldn't update asset requests",tt),409===tt?.status&&(0,p.UG)("Some assets are already booked for the selected time"),rt._loading.next(""),tt?.error||tt});if(!St)throw"Unable to validate asset requests";yield St()}rt._loading.next("");const{booking_type:Pe}=yt;return rt.clearForm(),rt.form?.patchValue({booking_type:Pe}),rt.last_success=Te,sessionStorage.setItem("PLACEOS.last_booked_booking",JSON.stringify(Te)),rt.setView("success"),Te})()}postFormForGroup(){var bt=this;return(0,t.A)(function*(){const{members:rt,group:yt,type:ot}=bt._options.getValue();if(!yt)throw"No group available to book for";const It=rt.filter(Mn=>Mn.email!==(0,p.Ny)().email);if(It.length<=0)throw"No members in your group to book for.";const Ae=bt.form.getRawValue(),we=yield bt.available_resources.pipe((0,z.s)(1)).toPromise(),_e=we.find(Mn=>Mn.id===Ae.asset_id||Mn.map_id===Ae.asset_id),de=bt._org.levelWithID([_e.zone?.id]),Te=[_e,...yield bt._getNearbyResources(de.map_id,Ae.asset_id,we,It.length)],Pe=(0,p.Am)([(0,p.Ny)(),...It],"email"),St=yield Promise.all(Pe.map((Mn,Bn)=>bt.checkResourceAvailable({...Ae,asset_id:Te[Bn].map_id||Te[Bn].id,user_email:Mn.email},ot))),tt=Pe.filter((Mn,Bn)=>!St[Bn]),wt=`${(0,p.Ny)().email}[${(0,S.GP)(Date.now(),"yyyy-MM-dd")}]`;let ln="";for(let Mn=0;Mn<Pe.length;Mn++){if(!St[Mn])continue;const Bn=Pe[Mn],Jt=Te[Mn];bt.form.patchValue({...Ae,parent_id:ln,user:Bn,user_email:Bn.email,user_id:Bn.id,asset_id:Jt?.id,asset_name:Jt.name,description:Jt.name,map_id:Jt?.map_id||Jt?.id,group:wt,zones:(Jt.zone?(0,p.Am)([bt._org.organisation.id,bt._org.region?.id,Jt?.zone?.parent_id,Jt?.zone?.id]):[bt._org.organisation.id,bt._org.region?.id]).filter(W=>W)});const Ft=yield bt.postForm(!0);Ft.id&&!ln&&(ln=Ft.id)}tt.length&&(0,p.WS)(`Some members of your group already have a desk booking. [${tt.map(Mn=>Mn.name||Mn.email)?.join(", ")}]`)})()}checkQuestions(){var bt=this;return(0,t.A)(function*(){if(!1!==bt._settings.get("app.desks.ignore_questions"))return;const rt=bt._dialog.open(oe.b);if("done"!==(yield Promise.race([rt.componentInstance.event.pipe((0,J.$)(It=>"done"===It.reason)).toPromise(),rt.afterClosed().toPromise()]))?.reason)throw"User cancelled";const ot=rt.componentInstance.form.getRawValue();for(const It in ot)if(ot[It])throw"User failed questionaire";rt.close()})()}checkResourceAvailable({id:bt,asset_id:rt,date:yt,duration:ot,user_email:It},Ae){var we=this;return(0,t.A)(function*(){if(!It)throw"No user was selected to book for";if("group-event"===Ae)return!0;let de=(yield(0,G.tj)({period_start:(0,E._)(yt),period_end:(0,E._)(yt+60*ot*1e3),type:Ae,email:It,limit:1e3}).toPromise()).filter(Pe=>"declined"!==Pe.status&&"cancelled"!==Pe.status&&!Pe.rejected);if(de.find(Pe=>Pe.asset_id===rt&&bt!==Pe.id))throw rt.includes("@")?`${rt} already has an invite for the selected time`:`${rt} is not available at the selected time`;const Te=we._settings.get(`app.bookings.allowed_daily_${Ae}_count`)??1;if(Te>0&&de.filter(Pe=>Pe.user_email.toLowerCase()===(It||(0,p.Ny)()?.email).toLowerCase()&&Pe.id!==bt).length>=Te){const Pe=It===(0,p.Ny)()?.email;throw`${Pe?"You":It} already ${Pe?"have":"has"} a booking at the selected time`}return!0})()}loadResourceList(bt){const rt=this._settings.get("app.use_region"),yt=It=>(It?.metadata[bt]?.details instanceof Array?It.metadata[bt]?.details:[]).map(Ae=>"lockers"!==bt?{...Ae,id:Ae.id||Ae.map_id,zone:It.zone}:Ae.lockers?.map(we=>({...we,bank_id:Ae.id,zone:It.zone}))||[]),ot=rt?this._org.building.parent_id:this._org.building.id;if(rt){const It=this._org.building.parent_id,Ae=this._org.buildings.filter(we=>we.parent_id===It);return(0,D.p)(Ae.map(we=>(0,v.WsZ)(we.id,{name:bt}).pipe((0,c.T)(_e=>(0,p.Bq)(_e.map(yt)))))).pipe((0,c.T)(we=>(0,p.Bq)(we)))}return(0,v.WsZ)(ot,{name:bt}).pipe((0,c.T)(It=>(0,p.Bq)(It.map(yt))))}_getNearbyResources(bt,rt,yt,ot){return(0,t.A)(function*(){const It=[];let Ae=yt.filter(we=>we.id!==rt&&we.map_id!==rt);for(let we=0;we<ot;we++){const _e=yield(0,te.Jm)(bt,rt,Ae.map(de=>de.map_id||de.id));_e&&(It.push(yt.find(de=>de.id===_e||de.map_id===_e)),Ae=Ae.filter(de=>de.id!==_e&&de.map_id!==_e))}return It})()}static#e=this.\u0275fac=function(rt){return new(rt||Ie)(R.KVO(n.Ix),R.KVO(p.h$),R.KVO(X.y),R.KVO(L.bZ),R.KVO(ce.h),R.KVO(Q.R))};static#t=this.\u0275prov=R.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},4089:(jt,Se,l)=>{"use strict";l.d(Se,{g:()=>I});var t=l(4006),n=l(4233),p=l(4571),b=(l(3857),l(3953)),E=l(9434),M=l(6600),S=l(6781),u=l(4616);let I=(()=>{class k{constructor(w,D){this._event=w,this._settings=D,this.outlook_link=(0,p.gP)(this._event),this.google_link=(0,p.dB)(this._event),this.ical_link=(0,p._V)(this._event)}static#e=this.\u0275fac=function(D){return new(D||k)(b.rXU(t.Vh),b.rXU(n.h))};static#t=this.\u0275cmp=b.VBU({type:k,selectors:[["booking-link-modal"]],decls:22,vars:12,consts:()=>{let w,D,f;return w=$localize`:34c16b14ad0e33db574c8bea543e66e766aa3a014015832758698516701:Create in Outlook`,D=$localize`:f745484670e6b6bbb8a1c327c222e665fb25b8633788591245559456526:Create in Google Calendar`,f=$localize`:1af54061e7f4bcfb1048ffaa05c9b8f7c4b416794894641609416495396:Download iCal File`,[w,D,f,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["icon","","mat-dialog-close","",1,"absolute","top-2","right-0"]]},template:function(D,f){1&D&&(b.j41(0,"div",3),b.EFF(1,"Add event to your calendar"),b.k0s(),b.j41(2,"div",4)(3,"a",5),b.nI1(4,"sanitize"),b.nrm(5,"img",6),b.j41(6,"span"),b.pXf(7,0),b.k0s()(),b.j41(8,"a",5),b.nI1(9,"sanitize"),b.nrm(10,"img",7),b.j41(11,"span"),b.pXf(12,1),b.k0s()(),b.j41(13,"a",5),b.nI1(14,"safe"),b.j41(15,"app-icon",8),b.EFF(16,"download"),b.k0s(),b.j41(17,"span"),b.pXf(18,2),b.k0s()()(),b.j41(19,"button",9)(20,"app-icon"),b.EFF(21,"close"),b.k0s()()),2&D&&(b.R7$(3),b.Y8G("href",b.i5U(4,3,f.outlook_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(9,6,f.google_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(14,9,f.ical_link,"url"),b.B4B))},dependencies:[t.tx,E.R,M.r6,S.m,u.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return k})()},3857:(jt,Se,l)=>{"use strict";l.d(Se,{Qr:()=>K});var t=l(7375),n=l(7926),p=l(5987),v=l(9548),b=l(2037),E=l(3601),M=l(4512),S=l(5818),u=l(3368),I=l(9824),k=l(9255),T=l(9015),w=l(3747);const D=["user","booked_by","resources","assets","members"];class K{get group(){return this.extension_data.group||""}get is_all_day(){return this.all_day||this.duration>=720}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const U=this.linked_bookings;return this._valid_asset_cache=(this.extension_data.assets||[]).map(c=>new w.Y({...c,event:this})).filter(c=>c.deliver_at<this.date_end).map(c=>{const Z=U.find(F=>F.extension_data.request_id===c.id);return Z&&(c.state=Z.approved?"approved":Z.rejected?"rejected":"pending"),c}),this._valid_cache_expiry=(0,n.z)(Date.now(),5).valueOf(),this._valid_asset_cache}constructor(U={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=U.id||"",this.parent_id=U.parent_id||"",this.asset_id=U.asset_id||"",this.asset_ids=U.asset_ids||[U.asset_id].filter(c=>c),this.asset_name=U.asset_name||U.extension_data?.asset_name||U.description||U.asset_id||"",this.zones=U.zones||[],this.booking_start=Math.floor(U.date/1e3)||U.booking_start||(0,p._)((0,v.X)((0,n.z)(Date.now(),5),{nearestTo:5})),this.booking_end=Math.floor(U.date/1e3)+60*U.duration||U.booking_end||(0,p._)((0,n.z)(1e3*this.booking_start,U.duration||60)),this.booking_type=U.booking_type||" ",this.type=U.type||U.booking_type||"booking",this.date=U.date||1e3*this.booking_start||Date.now(),this.duration=U.duration||Math.abs((0,b.o)(1e3*this.booking_start,1e3*this.booking_end))||60,this.date_end=1e3*this.booking_end||this.date+60*this.duration*1e3,this.timezone=U.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.user_email=U.user_email||"",this.user_id=U.user_id||"",this.user_name=U.user_name||"",this.title=U.title??(this.booking_type?`${(0,t.Zr)(this.booking_type)} Booking`.trim():""),this.description=U.description||"",this.checked_in=!!U.checked_in,this.rejected=!!U.rejected,this.approved=!!U.approved,this.deleted=!!U.deleted,this.booked_by_id=U.booked_by_id||"",this.booked_by_name=U.booked_by_name||"",this.booked_by_email=U.booked_by_email||"",this.approver_id=U.approver_id||"",this.approver_email=U.approver_email||"",this.approver_name=U.approver_name||"",this.extension_data=U.extension_data||{},this.access=!!U.extension_data?.access,this.event_id=U.event_id,this.permission=(U.permission||"PRIVATE").toUpperCase(),this.attendees=U.attendees||U.guests||U.members||[],this.tags=U.tags||U.extension_data?.tags||[],this.images=U.images||[],this.all_day=U.all_day||this.duration>=1440,this.induction=U.induction||void 0,this.all_day&&(this.date=(0,E.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-(this.duration%24*60==0?1:0)),this.date_end=(0,M.D)((0,n.z)(this.date,this.duration-1).valueOf()).getTime()),this.checked_out_at=U.checked_out_at,this.checked_in_at=U.checked_in_at,this.linked_event=U.linked_event||null,this.linked_bookings=U.linked_bookings||[],this.images=U.images||[],this.status=this.checked_out_at>0?"ended":this.rejected||this.deleted?"declined":this.approved?"approved":"tentative",this.process_state=U.process_state||"pending",this.recurrence_type=U.recurrence_type||"none",this.recurrence_days=U.recurrence_days,this.recurrence_nth_of_month=U.recurrence_nth_of_month,this.recurrence_interval=U.recurrence_interval,this.recurrence_end=U.recurrence_end,this.instance=U.instance;for(const c in U)!(c in this)&&!D.includes(c)&&U[c]&&(this.extension_data[c]=U[c]||this.extension_data[c]);this.extension_data.assets=(this.extension_data.assets||[]).map(c=>new w.Y({...c,event:this,date:this.date})),this.extension_data.tags=U.tags||[],this.extension_data.request&&(this.extension_data.request=new w.Y({...this.extension_data.request,event:this,date:this.date}))}toJSON(){const U={...this};return this.id||delete U.id,U.extension_data.assets=U.extension_data.assets.map(c=>new w.Y({...c,event:null})),U.extension_data.request&&(U.extension_data.request=new w.Y({...U.extension_data.request,event:null})),U.parent_id||delete U.parent_id,U.zones=U.zones.filter(c=>c),delete U.date,delete U.duration,(0,t.Xm)(U),U}get location(){return this.extension_data?.location||this.description}get is_today(){return(0,S.r)(this.date,new Date)}get is_done(){const U=new Date,c=this.all_day?(0,u.L)(this.date,24):(0,n.z)(this.date,this.duration),Z=1e3*(this.checked_out_at||this.extension_data.checked_out_at||0);let F=c.getTime();return!!(Z&&Date.now()>Z)||(0,I.d)(U,new Date(F))}get state(){const U=new Date,c=this.date;return(0,k.Y)(U,(0,T.W)(c,{minutes:-15}))?"future":(0,k.Y)(U,c)?"upcoming":(0,k.Y)(U,(0,T.W)(c,{minutes:15}))?"started":(0,k.Y)(U,(0,T.W)(c,{minutes:this.duration}))?"in_progress":"done"}}},7141:(jt,Se,l)=>{"use strict";l.d(Se,{Jm:()=>T,Rr:()=>k,s8:()=>D});var t=l(467),n=l(9417),p=l(7375),v=l(690),b=l(6511),E=l(3857),M=l(9548),S=l(7926),u=l(2037);function k(f=new E.Qr){const V=new n.gE({id:new n.MJ(f.id||""),parent_id:new n.MJ(f.parent_id||""),event_id:new n.MJ(f.event_id||""),ical_uid:new n.MJ(f.extension_data.ical_uid||""),date:new n.MJ(f.date,[n.k0.required]),date_end:new n.MJ(f.date_end),all_day:new n.MJ(f.all_day??!1),name:new n.MJ(f.extension_data.name||f.asset_name||""),duration:new n.MJ(f.duration,[v.k]),booking_type:new n.MJ(f.booking_type),zones:new n.MJ(f.zones),title:new n.MJ(f.title),description:new n.MJ(f.description),booking_asset:new n.MJ(null),resources:new n.MJ([]),company:new n.MJ(""),asset_id:new n.MJ(f.asset_id,[n.k0.required]),asset_name:new n.MJ(f.description),assets:new n.MJ(f.extension_data?.assets||[]),attendees:new n.MJ(f.attendees||[]),map_id:new n.MJ(f.extension_data?.map_id),featured:new n.MJ(f.extension_data?.featured||!1),user:new n.MJ((0,p.Ny)()),user_id:new n.MJ(f.user_id),group:new n.MJ(f.group),user_email:new n.MJ(f.user_email),user_name:new n.MJ(f.user_name),timezone:new n.MJ(f.timezone||""),booked_by:new n.MJ((0,p.Ny)()),booked_by_id:new n.MJ(f.booked_by_id),booked_by_email:new n.MJ(f.booked_by_email),secondary_resource:new n.MJ(f.extension_data?.other_asset_type||f.extension_data?.secondary_resource),location:new n.MJ(f.extension_data.location||""),attendance_type:new n.MJ(f.extension_data.attendance_type||"ANY"),phone:new n.MJ(f.extension_data.phone||""),permission:new n.MJ(f.permission||"PRIVATE"),images:new n.MJ(f.images||[]),tags:new n.MJ(f.tags||[]),plate_number:new n.MJ(f.extension_data.plate_number||""),recurrence_type:new n.MJ(f.recurrence_type||"none"),recurrence_days:new n.MJ(f.recurrence_days),recurrence_nth_of_month:new n.MJ(f.recurrence_nth_of_month),recurrence_interval:new n.MJ(f.recurrence_interval),recurrence_end:new n.MJ(f.recurrence_end),notes:new n.MJ(f.extension_data.notes||""),update_master:new n.MJ(!1),self_registered:new n.MJ(!1)});return V.valueChanges.subscribe(K=>{V.getRawValue().date<Date.now()&&V.value.id?V.get("date")?.disable({emitEvent:!1}):V.get("date")?.enable({emitEvent:!1})}),V.controls.user.valueChanges.subscribe(K=>{K&&V.patchValue({user:K,user_id:K?.id,user_email:K?.email,user_name:K?.name},{emitEvent:!1})}),p.U5.subscribe(K=>{K&&V.patchValue({booked_by:K,booked_by_id:K?.id,booked_by_email:K?.email,name:K?.name},{emitEvent:!1})}),V.controls.resources.valueChanges.subscribe(K=>function I(f,V){if(!V)return f.patchValue({asset_id:void 0});f.patchValue({asset_id:V.id,asset_name:V.name,map_id:V.map_id||V.id,description:V.name,zones:V.zone?[V.zone?.parent_id,V.zone?.id]:[],booking_asset:V},{emitEvent:!1})}(V,(K||[])[0])),V.controls.duration.valueChanges.subscribe(K=>{V.patchValue({date_end:(0,M.X)((0,S.z)(V.getRawValue().date,K),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),V.controls.date_end.valueChanges.subscribe(K=>{K<(0,S.z)(V.getRawValue().date,30).valueOf()?V.patchValue({date_end:(0,M.X)((0,S.z)(V.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):V.patchValue({duration:(0,u.o)(K,V.getRawValue().date)},{emitEvent:!1})}),V.controls.date.valueChanges.subscribe(K=>{V.patchValue({date_end:(0,M.X)((0,S.z)(K,V.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),K<Date.now()&&!V.value.id&&V.patchValue({date:(0,M.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),"started"===f.state&&V.get("date").disable(),V}function T(f,V){return w.apply(this,arguments)}function w(){return(w=(0,t.A)(function*(f,V,K=[]){const ne=document.createElement("div");ne.style.position="absolute",ne.style.top="-9999px",ne.style.width="1000px",ne.style.height="1000px",document.body.appendChild(ne);const U=yield(0,b.Rx)({url:f,element:ne}),c=(0,b.tk)(U),Z=("string"==typeof V?c.mappings[V]:V)||{x:.5,y:.5};let F=10,J="";for(const z of K){const{x:X,y:$}=c.mappings[z]||{x:2,y:2},te=Math.sqrt((X-Z.x)*(X-Z.x)+($-Z.y)*($-Z.y));te<F&&(F=te,J=z)}return document.body.removeChild(ne),(0,b.b2)(U),J})).apply(this,arguments)}function D(f){return new E.Qr({id:f.id,user_email:f.host,asset_id:f.system?.id,asset_name:f.system?.display_name||f.system?.name,booking_type:"room",approved:"approved"===f.status,extension_data:{...f}})}},5645:(jt,Se,l)=>{"use strict";l.d(Se,{$F:()=>f,DO:()=>ne,Kq:()=>bt,MV:()=>Z,UN:()=>z,X0:()=>J,Z$:()=>L,eW:()=>H,kX:()=>Ie,sH:()=>U,tj:()=>D,u3:()=>K});var t=l(467),n=l(1038),p=l(4421),v=l(5006),b=l(3921),E=l(9090),M=l(8385),S=l(3857),I=(l(3693),l(5987)),k=l(7926),T=l(7375);const w="/api/staff/v1/bookings";function D(yt){const ot=(0,M.z)(yt);return(0,n.JtY)(`${w}${ot?"?"+ot:""}`).pipe((0,v.T)(It=>It.map(Ae=>new S.Qr(Ae))),(0,b.W)(It=>(0,p.of)([])))}function f(yt){const ot=(0,M.z)(yt);return(0,n.JtY)(`${w}/booked${ot?"?"+ot:""}`).pipe((0,v.T)(It=>It),(0,b.W)(It=>(0,p.of)([])))}function K(yt){return(0,n.Pac)({query_params:yt,fn:ot=>new S.Qr(ot),endpoint:w,path:""}).pipe((0,E.n)(function(){var ot=(0,t.A)(function*({data:It,next:Ae}){let we=[...It];for(;Ae;){const _e=yield Ae().toPromise();It=_e.data,Ae=_e.next,we=[...we,...It]}return we});return function(It){return ot.apply(this,arguments)}}()),(0,b.W)(ot=>(0,p.of)([])))}function ne(yt){return(0,n.JtY)(`${w}/${encodeURIComponent(yt)}`).pipe((0,v.T)(ot=>new S.Qr(ot)))}function U(yt,ot){const It=(0,M.z)(ot);return(0,n.bEY)(`${w}${It?"?"+It:""}`,yt).pipe((0,v.T)(Ae=>new S.Qr(Ae)))}function Z(yt,ot){return(0,n.bEY)(`${w}/${encodeURIComponent(yt)}/update_induction?induction=${encodeURIComponent(ot)}`,{}).pipe((0,v.T)(It=>new S.Qr(It)))}const J=(yt,ot)=>{const It=yt.id;delete yt.id;const Ae=ot?.instance;return ot&&delete ot.instance,It?Ae?function F(yt,ot,It,Ae="patch"){return("patch"===Ae?n.F6F:n.yJg)(`${w}/${encodeURIComponent(yt)}/instance/${ot}`,It).pipe((0,v.T)(we=>new S.Qr(we)))}(It,yt.instance,yt):function c(yt,ot,It="patch"){return("patch"===It?n.F6F:n.yJg)(`${w}/${encodeURIComponent(yt)}`,ot).pipe((0,v.T)(Ae=>new S.Qr(Ae)))}(It,yt):U(yt,ot)};function z(yt,ot={}){return ot.instance?function X(yt,ot){return(0,n.yHY)(`${w}/${encodeURIComponent(yt)}/instance/${ot}`,{response_type:"void"})}(yt,ot.start_time):(0,n.yHY)(`${w}/${encodeURIComponent(yt)}`,{response_type:"void"})}function L(yt,ot){const It=(0,M.z)({state:ot});return(0,n.bEY)(`${w}/${encodeURIComponent(yt)}/check_in?${It}`,"").pipe((0,v.T)(Ae=>new S.Qr(Ae)),(0,b.W)(function(){var Ae=(0,t.A)(function*(we){const _e=yield we.json();throw _e.error||_e.message||_e});return function(we){return Ae.apply(this,arguments)}}()))}function H(yt,ot,It){const Ae=(0,M.z)({state:It});return(0,n.bEY)(`${w}/${encodeURIComponent(yt)}/check_in/${ot}?${Ae}`,"").pipe((0,v.T)(we=>new S.Qr(we)),(0,b.W)(function(){var we=(0,t.A)(function*(_e){const de=yield _e.json();throw de.error||de.message||de});return function(_e){return we.apply(this,arguments)}}()))}function Ie(yt,ot,It,Ae,we="room",_e=[0,0]){return D({type:we,period_start:(0,I._)(ot),period_end:(0,I._)((0,k.z)(ot,It))}).pipe((0,v.T)(de=>yt.map(Te=>!de.find(Pe=>Pe.asset_id===Te&&(!Ae||Ae!==Pe.id)))))}function bt(yt,ot,It){return rt.apply(this,arguments)}function rt(){return(rt=(0,t.A)(function*(yt,ot,It){const Ae=yield D({type:ot,period_start:(0,I._)(yt.date),period_end:(0,I._)((0,k.z)(yt.date,yt.duration))}).pipe((0,v.T)(_e=>_e.filter(de=>de.parent_id===yt.id))).toPromise();yield Promise.all(Ae.map(_e=>z(_e.id).toPromise())),yield Promise.all(yt.linked_bookings.filter(_e=>_e.booking_type===ot).map(_e=>z(_e.id).toPromise()));const we=yt.system?.zones||(0,T.Am)((0,T.Bq)(yt.resources.map(_e=>_e.zones)))||[];yield Promise.all(It.map(_e=>{const de=Ae.find(Te=>Te.asset_ids.find(Pe=>_e.items?.find(St=>St.item_ids.includes(Pe))));return U(new S.Qr({type:ot,booking_type:ot,date:yt.date,duration:yt.duration,description:yt.title,user_email:yt.host,asset_id:_e.email,asset_name:_e.name,title:_e.name,attendees:[_e],approved:de?.approved&&!_e._changed,rejected:de?.rejected&&!_e._changed,extension_data:{parent_id:yt.id,name:_e.name,location_id:yt.location},zones:we}),{ical_uid:yt.ical_uid,event_id:yt.id}).toPromise()}))})).apply(this,arguments)}},7651:(jt,Se,l)=>{"use strict";l.d(Se,{S:()=>Kr});var t=l(177),n=l(9417),p=l(8834),v=l(2765),b=l(5084),E=l(4006),M=l(3719),S=l(9631),u=l(9183),I=l(5951),k=l(7327),T=l(2169),w=l(7758),D=l(827),f=l(1081),c=(l(7547),l(1781),l(3367),l(7254),l(3953)),X=(l(1865),l(9434),l(4918),l(5277),l(6600));l(7375),l(4512),l(906),l(8026),l(8379),l(5006),l(9714),l(6665),l(9608),l(3476),l(1413),l(2798),l(6062),l(1780),l(3208),l(9928),l(5897),l(2882),l(2185),l(467),l(4046),l(9525),l(4217),l(3693);var mi=l(850);l(840),l(8e3),l(6724),l(9138),l(9145),l(258),l(8559),l(9615),l(7642),l(4233),l(4089),l(4854);var fa=l(4823);l(8796),l(4810),l(7904);let Kr=(()=>{class Rt{static#e=this.\u0275fac=function(Nt){return new(Nt||Rt)};static#t=this.\u0275mod=c.$C({type:Rt});static#n=this.\u0275inj=c.G2t({providers:[n.X1],imports:[t.MD,n.YN,n.X1,I.Wk,S.fS,M.RG,b.X6,p.Hl,E.hM,u.D6,v.g7,mi.jL,T.c,k.h,X.pZ,fa.uc,D.l,w.j,f.k]})}return Rt})()},3367:(jt,Se,l)=>{"use strict";l.d(Se,{I:()=>U});var t=l(3953),n=l(4006),p=l(7375),v=l(177),b=l(9417),E=l(9631),M=l(3719),S=l(9183),u=l(9608),I=l(8e3),k=l(6600);function T(c,Z){1&c&&(t.j41(0,"button",10)(1,"i",11),t.EFF(2,"close"),t.k0s()())}function w(c,Z){if(1&c){const F=t.RV6();t.j41(0,"div",20)(1,"label"),t.pXf(2,5),t.k0s(),t.j41(3,"a-user-search-field",21),t.mxI("ngModelChange",function(z){t.eBV(F);const X=t.XpG(2);return t.DH7(X.host,z)||(X.host=z),t.Njj(z)}),t.k0s()()}if(2&c){const F=t.XpG(2);t.R7$(3),t.R50("ngModel",F.host)}}function D(c,Z){if(1&c&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&c){const F=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,F.date,"mediumDate")," ")}}function f(c,Z){if(1&c){const F=t.RV6();t.j41(0,"a-date-field",22),t.mxI("ngModelChange",function(z){t.eBV(F);const X=t.XpG(2);return t.DH7(X.date,z)||(X.date=z),t.Njj(z)}),t.k0s()}if(2&c){const F=t.XpG(2);t.R50("ngModel",F.date)}}function V(c,Z){if(1&c){const F=t.RV6();t.j41(0,"div",23)(1,"label"),t.pXf(2,6),t.k0s(),t.j41(3,"mat-form-field",24)(4,"input",25),t.mxI("ngModelChange",function(z){t.eBV(F);const X=t.XpG(2);return t.DH7(X.reason,z)||(X.reason=z),t.Njj(z)}),t.k0s()()()}if(2&c){const F=t.XpG(2);t.R7$(4),t.R50("ngModel",F.reason)}}function K(c,Z){if(1&c){const F=t.RV6();t.qex(0),t.j41(1,"main",12),t.DNE(2,w,4,1,"div",13),t.j41(3,"div",14)(4,"label"),t.pXf(5,2),t.k0s(),t.DNE(6,D,3,4,"div",15)(7,f,1,1,"a-date-field",16),t.k0s(),t.DNE(8,V,5,1,"div",17),t.j41(9,"p"),t.pXf(10,3),t.k0s()(),t.j41(11,"footer",18)(12,"button",19),t.bIt("click",function(){t.eBV(F);const z=t.XpG();return t.Njj(z.confirm())}),t.pXf(13,4),t.k0s()(),t.bVm()}if(2&c){const F=t.XpG();t.R7$(2),t.Y8G("ngIf",F.can_set_host),t.R7$(4),t.Y8G("ngIf",!F.can_set_date),t.R7$(),t.Y8G("ngIf",F.can_set_date),t.R7$(),t.Y8G("ngIf",!F.hide_reason),t.R7$(2),t.uP7(1===F.desks.length?"":"s")(F.desk_list)((null==F.level?null:F.level.display_name)||(null==F.level?null:F.level.name)),t.nnv(10)}}function ne(c,Z){if(1&c&&(t.j41(0,"main",26),t.nrm(1,"mat-spinner",27),t.j41(2,"p"),t.EFF(3),t.k0s()()),2&c){const F=t.XpG();t.R7$(),t.Y8G("diameter",48),t.R7$(2),t.JRh(F.loading)}}let U=(()=>{class c{get desk_list(){return this.desks.map(F=>F.name).join(", ")}get hide_reason(){return!!this._settings.get("app.desks.hide_reason")}get can_set_host(){return!!this._settings.get("app.desks.can_book_for_others")}constructor(F,J){this._data=F,this._settings=J,this.event=new t.bkB,this.desks=this._data.desks||[],this.date=this._data.date,this.host=this._data.host,this.can_set_date=this._data.can_set_date,this.reason=this._data.reason,this.level=this._data.level}confirm(){this.loading="Requesting desk booking...",this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(J){return new(J||c)(t.rXU(n.Vh),t.rXU(p.h$))};static#t=this.\u0275cmp=t.VBU({type:c,selectors:[["desk-flow-confirm-modal-component"]],outputs:{event:"event"},decls:8,vars:3,consts:()=>{let F,J,z,X,$,te;return F=$localize`:d513554c23b779e029147a285f1f84f1479488fc1554073776118278895:Confirm Booking`,J=$localize`:2f933b826a570836cab04f683970a2d22068458c3973931101896534797:Date`,z=$localize`:5012a6a10d31e79f5865c2fc7f680b84a14accca4161419473863623687: Your desk${"\ufffd0\ufffd"}:INTERPOLATION: will be ${"\ufffd1\ufffd"}:INTERPOLATION_1: on ${"\ufffd2\ufffd"}:INTERPOLATION_2: `,X=$localize`:68e710782ccb5398b3acb8844caf0b199da2c3da9178182467454450952:Confirm`,$=$localize`:fe22ca53e651df951dac25b67c17894b0980f7676641024648411549335:Host`,te=$localize`:4ba250869daa372b54d24fafc0ea934769ee40764775550080689015987:Reason`,[["load_state",""],F,J,z,X,$,te,[1,"flex-1"],["icon","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","mat-dialog-close",""],[1,"material-icons"],[1,"p-4"],["host","","class","flex flex-col",4,"ngIf"],["date","",1,"mb-4"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["reason","","class","flex flex-col mb-4",4,"ngIf"],[1,"flex","items-center","justify-center","p-2"],["btn","","matRipple","",3,"click"],["host","",1,"flex","flex-col"],[1,"mb-4",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["reason","",1,"flex","flex-col","mb-4"],["appearance","outline"],["matInput","","placeholder","Reason",3,"ngModelChange","ngModel"],["load","",1,"flex","flex-col","p-12","items-center","justify-center"],[1,"mb-4",3,"diameter"]]},template:function(J,z){if(1&J&&(t.j41(0,"header")(1,"h2"),t.pXf(2,1),t.k0s(),t.nrm(3,"div",7),t.DNE(4,T,3,0,"button",8),t.k0s(),t.DNE(5,K,14,7,"ng-container",9)(6,ne,4,2,"ng-template",null,0,t.C5r)),2&J){const X=t.sdS(7);t.R7$(4),t.Y8G("ngIf",!z.loading),t.R7$(),t.Y8G("ngIf",!z.loading)("ngIfElse",X)}},dependencies:[v.bT,b.me,b.BC,b.vS,E.fg,M.rl,n.tx,S.LG,u.G,I.$,k.r6,v.vh],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}"]})}return c})()},7254:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>I});var t=l(3953),n=l(9417),v=(l(7375),l(177)),b=l(5951),E=l(4006),M=l(6600);function S(k,T){if(1&k){const w=t.RV6();t.j41(0,"div",8)(1,"h2",9),t.pXf(2,1),t.k0s(),t.j41(3,"main",10)(4,"div",11)(5,"label"),t.PLo(6,2),t.nrm(7,"span"),t.YFu(),t.k0s(),t.j41(8,"mat-radio-group",12)(9,"mat-radio-button",13),t.EFF(10,"Yes"),t.k0s(),t.j41(11,"mat-radio-button",13),t.EFF(12,"No"),t.k0s()()(),t.j41(13,"div",11)(14,"label"),t.PLo(15,3),t.nrm(16,"span"),t.YFu(),t.k0s(),t.j41(17,"mat-radio-group",14)(18,"mat-radio-button",13),t.EFF(19,"Yes"),t.k0s(),t.j41(20,"mat-radio-button",13),t.EFF(21,"No"),t.k0s()()(),t.j41(22,"div",15)(23,"label"),t.PLo(24,4),t.nrm(25,"span"),t.YFu(),t.k0s(),t.j41(26,"mat-radio-group",16)(27,"mat-radio-button",13),t.EFF(28,"Yes"),t.k0s(),t.j41(29,"mat-radio-button",13),t.EFF(30,"No"),t.k0s()()()(),t.j41(31,"footer",17)(32,"button",18),t.bIt("click",function(){t.eBV(w);const f=t.XpG();return t.Njj(f.submit())}),t.pXf(33,5),t.k0s()(),t.j41(34,"button",19)(35,"i",20),t.EFF(36,"close"),t.k0s()()()}if(2&k){const w=t.XpG();t.R7$(3),t.Y8G("formGroup",w.form),t.R7$(6),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(7),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(7),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1)}}function u(k,T){1&k&&(t.j41(0,"main",21)(1,"p",22),t.pXf(2,6),t.k0s(),t.j41(3,"button",19)(4,"i",20),t.EFF(5,"close"),t.k0s()()())}let I=(()=>{class k{constructor(){this.event=new t.bkB,this.form=new n.gE({travelled:new n.MJ(!1),unwell:new n.MJ(!1),contact:new n.MJ(!1)})}submit(){this.form.markAllAsTouched(),Object.keys(this.form.value).find(w=>!0===this.form.value[w]||"true"===this.form.value[w])?this.failure=!0:this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(D){return new(D||k)};static#t=this.\u0275cmp=t.VBU({type:k,selectors:[["desk-question-modal"]],outputs:{event:"event"},decls:3,vars:2,consts:()=>{let w,D,f,V,K,ne;return w=$localize`:02006a13b8e6aacb7a6e15bafd8004ed529f5d81877348132538805077:COVID-19 Questionnaire`,D=$localize`:dad7efbd2320e5ea935aef911f18cbcb246901331650520403092579087: Have you travelled overseas within the last 14 days?${"\ufffd#7\ufffd"}:START_TAG_SPAN:*${"\ufffd/#7\ufffd"}:CLOSE_TAG_SPAN:`,f=$localize`:cf50bf8de6c6db836da440c89a375631f7ba3fb01182497320820036810: Are you unwell or experiencing any cold or flu-like symptoms?${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,V=$localize`:273153c91358de15d124ff2966859d9949080f4c737527639567676154: Have you had contact with anyone with suspected COVID-19?${"\ufffd#25\ufffd"}:START_TAG_SPAN:*${"\ufffd/#25\ufffd"}:CLOSE_TAG_SPAN:`,K=$localize`:71c77bb8cecdf11ec3eead24dd1ba506573fa9cd935187492052582731:Submit`,ne=$localize`:17d62f424c2c025579e1ec0e3f5ad971f57681df4401678084033805848: Your request to work from the office has been rejected based on your response to the compulsory Covid-19 questions. Please feel free to submit a new request when circumstances change in a way that changes your answer to the questions. `,[["fail_state",""],w,D,f,V,K,ne,["class","relative",4,"ngIf","ngIfElse"],[1,"relative"],[1,"p-4","text-xl"],[1,"p-4",3,"formGroup"],[1,"flex","flex-col","mb-4"],["formControlName","travelled",1,"space-x-2"],[3,"value"],["formControlName","unwell",1,"space-x-2"],[1,"flex","flex-col"],["formControlName","contact",1,"space-x-2"],[1,"flex","justify-center","items-center","p-2"],["btn","","matRipple","",3,"click"],["close","","icon","","matRipple","","mat-dialog-close",""],[1,"material-icons"],["failure","",1,"pt-8","relative"],[1,"p-4"]]},template:function(D,f){if(1&D&&t.DNE(0,S,37,7,"div",7)(1,u,6,0,"ng-template",null,0,t.C5r),2&D){const V=t.sdS(2);t.Y8G("ngIf",!f.failure)("ngIfElse",V)}},dependencies:[v.bT,n.BC,n.cb,n.j4,n.JD,b.VT,b._g,E.tx,M.r6],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}[close][_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}"]})}return k})()},7904:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>K});var t=l(467),n=l(4006),p=l(7375),v=l(2185),b=l(1038),E=l(3953),M=l(177),S=l(9417),u=l(3719),I=l(6600),k=l(9434),T=l(3051),w=l(2798),D=l(3881);function f(ne,U){if(1&ne){const c=E.RV6();E.j41(0,"div",4)(1,"div",5),E.pXf(2,1),E.k0s(),E.j41(3,"div",6),E.pXf(4,2),E.k0s(),E.j41(5,"div",7)(6,"label"),E.EFF(7,"Presets"),E.k0s(),E.j41(8,"div",8)(9,"mat-form-field",9)(10,"mat-select",10),E.mxI("ngModelChange",function(F){E.eBV(c);const J=E.XpG();return E.DH7(J.preset,F)||(J.preset=F),E.Njj(F)}),E.bIt("ngModelChange",function(F){E.eBV(c);const J=E.XpG();return E.Njj(J.setPreset(F))}),E.j41(11,"mat-option",11),E.EFF(12,"None"),E.k0s(),E.j41(13,"mat-option",12),E.EFF(14,"Standing"),E.k0s(),E.j41(15,"mat-option",13),E.EFF(16,"Seated"),E.k0s()()(),E.j41(17,"button",14),E.bIt("click",function(){E.eBV(c);const F=E.XpG();return E.Njj(F.edit_presets=!0)}),E.j41(18,"app-icon"),E.EFF(19,"edit"),E.k0s()()(),E.j41(20,"label"),E.EFF(21,"Current Height"),E.k0s(),E.j41(22,"div",15)(23,"mat-slider",16)(24,"input",17),E.mxI("ngModelChange",function(F){E.eBV(c);const J=E.XpG();return E.DH7(J.height,F)||(J.height=F),E.Njj(F)}),E.bIt("ngModelChange",function(){E.eBV(c);const F=E.XpG();return E.Njj(F.updatePreset(F.height))}),E.k0s()(),E.j41(25,"div",18),E.EFF(26),E.k0s()()(),E.j41(27,"button",19),E.bIt("click",function(){E.eBV(c);const F=E.XpG();return E.Njj(F.setDeskHeight())}),E.EFF(28," Apply Settings "),E.k0s(),E.j41(29,"button",20)(30,"app-icon"),E.EFF(31,"close"),E.k0s()()()}if(2&ne){const c=E.XpG();E.R7$(10),E.R50("ngModel",c.preset),E.R7$(13),E.Y8G("displayWith",c.formatLabel),E.R7$(),E.R50("ngModel",c.height),E.R7$(2),E.SpI(" ",c.height.toFixed(1),"cm ")}}function V(ne,U){if(1&ne){const c=E.RV6();E.j41(0,"desk-height-presets",21),E.bIt("close",function(){E.eBV(c);const F=E.XpG();return E.Njj(F.edit_presets=!1)}),E.k0s()}2&ne&&E.Y8G("show_close",!0)}let K=(()=>{class ne{constructor(c,Z,F,J){this._data=c,this._org=Z,this._settings=F,this._dialog_ref=J,this.desk_id=this._data.id,this.edit_presets=!1,this.height=71}ngOnInit(){const c=this._settings.get("desk_sitting_height"),Z=this._settings.get("desk_standing_height");!c&&!Z&&(this.edit_presets=!0);const F=parseInt(localStorage.getItem("PLACEOS.last_desk_height"),10);this.height=F||c||71,this.height===c?this.preset="sitting":this.height===Z&&(this.preset="standing")}updatePreset(c){const Z=this._settings.get("desk_sitting_height")||71,F=this._settings.get("desk_standing_height")||102;this.preset=c===Z?"sitting":c===F?"standing":null}setPreset(c){switch(c){case"standing":this.height=this._settings.get("desk_standing_height")||102;break;case"sitting":this.height=this._settings.get("desk_sitting_height")||71;break;default:this.height=70}}setDeskHeight(){var c=this;return(0,t.A)(function*(){const Z=c._org.binding("desks");if(localStorage.setItem("PLACEOS.last_desk_height",`${c.height}`),!Z)return c._dialog_ref.close();yield(0,b.f_4)(Z,"DeskControl").execute("set_desk_height",[c.desk_id,c.height]).catch(J=>{throw(0,p.UG)("Error setting desk height."+J),J}),(0,p.VX)("Successfully set desk height"),c._dialog_ref.close()})()}formatLabel(c){return`${c.toFixed(1)}cm`}static#e=this.\u0275fac=function(Z){return new(Z||ne)(E.rXU(n.Vh),E.rXU(v.yb),E.rXU(p.h$),E.rXU(n.CP))};static#t=this.\u0275cmp=E.VBU({type:ne,selectors:[["desk-settings-modal"]],decls:3,vars:2,consts:()=>{let c,Z;return c=$localize`:ec37a2ac1276a5f69d65d5ba86b2e98c41b201a97032027191807032897:Desk Height`,Z=$localize`:de53fc27bc96d3e69d6c7d9b0a19619db7cc10768247461324425873330: Set your desk height for the best experience `,[["desk_height_tooltip",""],c,Z,["class","relative p-4 bg-base-100 rounded shadow w-[20rem]",4,"ngIf","ngIfElse"],[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg"],[1,"text-xs","opacity-60","mb-4"],[1,"flex","flex-col","mt-2","mb-4"],[1,"flex","items-center","space-x-2","pb-4"],["appearance","outline",1,"no-subscript","flex-1","w-1/2"],["placeholder","No selected preset",3,"ngModelChange","ngModel"],["value",""],["value","standing"],["value","sitting"],["icon","","matRipple","",1,"rounded","h-12","w-12","bg-secondary","text-secondary-content",3,"click"],[1,"flex","items-center","space-x-2"],["min","60","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],["btn","","matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","right-0"],[3,"close","show_close"]]},template:function(Z,F){if(1&Z&&E.DNE(0,f,32,4,"div",3)(1,V,1,1,"ng-template",null,0,E.C5r),2&Z){const J=E.sdS(2);E.Y8G("ngIf",!F.edit_presets)("ngIfElse",J)}},dependencies:[M.bT,S.me,S.BC,S.vS,u.rl,n.tx,I.wT,k.R,T.q,w.VO,I.r6,D.IV,D.OU],encapsulation:2})}return ne})()},4854:(jt,Se,l)=>{"use strict";l.d(Se,{E:()=>u});var t=l(3953),n=l(7375),p=l(5897),v=l(177),b=l(6600),E=l(4823);const M=()=>[];function S(I,k){if(1&I){const T=t.RV6();t.j41(0,"button",3),t.bIt("click",function(){const D=t.eBV(T).$implicit,f=t.XpG();return t.Njj(f.clicked.emit(D))}),t.nrm(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.j41(5,"div",8),t.EFF(6),t.k0s(),t.nrm(7,"div",9),t.k0s()}if(2&I){const T=k.$implicit,w=t.XpG();t.xc7("grid-column-start",T.position[0]+1)("grid-row-start",T.position[1]+1)("grid-column-end",T.position[0]+(T.size[0]+1))("background-color",w.status(T))("grid-row-end",T.position[1]+(T.size[1]+1)),t.AVh("opacity-60",w.selected&&w.selected!==T.id),t.Y8G("matTooltip",T.name)("disabled",!1===T.bookable),t.R7$(6),t.SpI(" ",T.name," ")}}let u=(()=>{class I{get columns(){let T=1;for(const w of this.bank?.lockers||[]){const D=w.position[0]+w.size[0];D>T&&(T=D)}return T}constructor(T){this._settings=T,this.bank_status={10:"busy",7:"pending"},this.selected="",this.clicked=new t.bkB}status(T){const w=this._settings.get("app.explore.colors")||{},D=this.bank_status[T.id]||"free";return w[`lockers-${D}`]||w[`${D}`]||p.U[`${D}`]}static#e=this.\u0275fac=function(w){return new(w||I)(t.rXU(n.h$))};static#t=this.\u0275cmp=t.VBU({type:I,selectors:[["locker-grid"]],inputs:{bank:"bank",bank_status:"bank_status",selected:"selected"},outputs:{clicked:"clicked"},decls:4,vars:9,consts:[[1,"p-4","text-xl","font-medium"],[1,"flex-1","grid","gap-2","overflow-hidden","max-h-full","h-[75vh]","min-w-[60vw]","p-2"],["matRipple","","class","relative border border-base-200 rounded bg-teal-300 overflow-hidden",3,"opacity-60","grid-column-start","grid-row-start","grid-column-end","background-color","grid-row-end","matTooltip","disabled","click",4,"ngFor","ngForOf"],["matRipple","",1,"relative","border","border-base-200","rounded","bg-teal-300","overflow-hidden",3,"click","matTooltip","disabled"],["handle","",1,"absolute","top-1/2","-translate-y-1/2","left-2","w-1","h-6","bg-neutral","rounded"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-2","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-4","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-6","w-3/5","h-1","bg-neutral","rounded-t"],[1,"absolute","left-1/2","-translate-x-1/2","top-8","text-[0.6rem]","font-medium","text-black/60"],[1,"absolute","inset-0","hover:bg-neutral"]],template:function(w,D){1&w&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.j41(2,"div",1),t.DNE(3,S,8,15,"button",2),t.k0s()),2&w&&(t.R7$(),t.SpI(" ",null==D.bank?null:D.bank.name," "),t.R7$(),t.xc7("width",2.5*D.columns+"rem")("grid-template-columns","repeat("+D.columns+", 1fr)")("grid-template-rows","repeat("+(null==D.bank?null:D.bank.height)+", 1fr)"),t.R7$(),t.Y8G("ngForOf",(null==D.bank?null:D.bank.lockers)||t.lJ4(8,M)))},dependencies:[v.Sq,b.r6,E.oV],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.75;background-color:#ccc!important}"]})}return I})()},8796:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>D});var t=l(467),n=l(7375),p=l(1038),v=l(9928),b=l(9714),E=l(4421),M=l(8728),S=l(9090),u=l(3921),I=l(5006),k=l(8712),T=l(8026),w=l(3953);let D=(()=>{class f{setLevel(K){this._level.next(K)}constructor(K){this._org=K,this._level=new v.t(""),this._change=new v.t(0),this.lockers_banks$=(0,b.zV)([this._org.active_building,this._change]).pipe((0,M.p)(([ne])=>!!ne),(0,S.n)(([ne])=>(0,p.WsZ)(ne.id,{name:"lockers"}).pipe((0,u.W)(()=>(0,E.of)(new p.Pdm)))),(0,I.T)(ne=>(0,n.Bq)(ne.map(U=>U.metadata.lockers?.details instanceof Array?U.metadata.lockers?.details.map(c=>({...c,zone:U.zone})):[]))),(0,k.t)(1)),this.lockers$=this.lockers_banks$.pipe((0,I.T)(ne=>{const U=[];for(const c of ne)U.push(...c.lockers.map(Z=>({...Z,bank_id:c.id,map_id:c.map_id,level_id:c.zone.id})));return U})),this.filtered_lockers$=(0,b.zV)([this._level,this.lockers$]).pipe((0,I.T)(([ne,U])=>U.filter(c=>(!ne||c.level_id===ne)&&c.bookable)))}saveLockers(K){var ne=this;return(0,t.A)(function*(){yield(0,p.D58)(ne._org.building.id,{name:"lockers",description:"",details:K}),ne._change.next(Date.now())})()}static#e=this.\u0275fac=function(ne){return new(ne||f)(w.KVO(T.y))};static#t=this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},6724:(jt,Se,l)=>{"use strict";l.d(Se,{o:()=>w});var t=l(3953),n=l(8030),p=l(2185),v=l(177),b=l(9434),E=l(4918),M=l(5277),S=l(6600);const u=()=>({disable_pan:!0,disable_zoom:!0});function I(D,f){if(1&D&&t.nrm(0,"image-carousel",21),2&D){const V=t.XpG(2);t.Y8G("images",V.space.images)}}function k(D,f){if(1&D){const V=t.RV6();t.qex(0),t.j41(1,"section",5),t.DNE(2,I,1,1,"image-carousel",6),t.j41(3,"button",7),t.bIt("click",function(){t.eBV(V);const ne=t.XpG();return t.Njj(ne.close.emit())}),t.j41(4,"app-icon"),t.EFF(5,"arrow_back"),t.k0s()(),t.j41(6,"button",8),t.bIt("click",function(){t.eBV(V);const ne=t.XpG();return t.Njj(ne.toggleFav.emit())}),t.j41(7,"app-icon"),t.EFF(8),t.k0s()()(),t.j41(9,"div",9)(10,"section",10)(11,"h2",11),t.EFF(12),t.k0s()(),t.nrm(13,"hr"),t.j41(14,"section",12)(15,"h2",13),t.pXf(16,1),t.k0s(),t.j41(17,"div",14)(18,"app-icon"),t.EFF(19,"people"),t.k0s(),t.j41(20,"p"),t.pXf(21,2),t.k0s()(),t.j41(22,"div",14)(23,"app-icon"),t.EFF(24,"meeting_room"),t.k0s(),t.j41(25,"p"),t.EFF(26),t.k0s()(),t.j41(27,"div",14)(28,"app-icon"),t.EFF(29,"place"),t.k0s(),t.j41(30,"p"),t.EFF(31),t.k0s()()(),t.nrm(32,"hr"),t.j41(33,"section",15),t.nrm(34,"interactive-map",16),t.k0s()(),t.j41(35,"div",17)(36,"button",18),t.bIt("click",function(){t.eBV(V);const ne=t.XpG();return ne.active=!ne.active,t.Njj(ne.activeChange.emit(ne.active))}),t.j41(37,"div",19)(38,"app-icon",20),t.EFF(39),t.k0s(),t.j41(40,"p"),t.EFF(41),t.k0s()()()(),t.bVm()}if(2&D){const V=t.XpG();t.R7$(),t.AVh("sm:h-40",null==V.space.images?null:V.space.images.length)("h-64",null==V.space.images?null:V.space.images.length)("sm:h-0",!(null!=V.space.images&&V.space.images.length))("h-12",!(null!=V.space.images&&V.space.images.length))("!bg-transparent",!(null!=V.space.images&&V.space.images.length)),t.R7$(),t.Y8G("ngIf",null==V.space.images?null:V.space.images.length),t.R7$(4),t.AVh("text-info-content",V.fav)("!bg-info",V.fav),t.R7$(2),t.JRh(V.fav?"favorite":"favorite_border"),t.R7$(4),t.SpI(" ",V.space.display_name||V.space.name," "),t.R7$(9),t.uP7(V.space.capacity),t.nnv(21),t.R7$(5),t.SpI(" ",(null==V.level?null:V.level.display_name)||(null==V.level?null:V.level.name)," "),t.R7$(5),t.SpI(" ",(null==V.building?null:V.building.address)||(null==V.building?null:V.building.display_name)||(null==V.building?null:V.building.name)," "),t.R7$(3),t.Y8G("src",V.map_url)("focus",V.space.map_id)("features",V.features)("options",t.lJ4(28,u)),t.R7$(2),t.AVh("inverse",V.active),t.R7$(3),t.JRh(V.active?"remove":"add"),t.R7$(2),t.SpI(" ",V.active?"Remove this room":"Add this room"," ")}}function T(D,f){1&D&&(t.j41(0,"div",22)(1,"p",23),t.pXf(2,3),t.k0s()())}let w=(()=>{class D{get level(){return this._org.levelWithID([this.space?.zone.id])||this.space?.zone}get building(){return this._org.buildings.find(V=>this.space?.zone.id===V.id||this.space?.zone.parent_id===V.id)}constructor(V){this._org=V,this.fav=!1,this.active=!1,this.activeChange=new t.bkB,this.close=new t.bkB,this.toggleFav=new t.bkB,this.map_url="",this.features=[]}ngOnChanges(V){V.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:n.VT}]}static#e=this.\u0275fac=function(K){return new(K||D)(t.rXU(p.yb))};static#t=this.\u0275cmp=t.VBU({type:D,selectors:[["parking-space-details"]],inputs:{space:"space",fav:"fav",active:"active"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[t.OA$],decls:3,vars:2,consts:()=>{let V,K,ne;return V=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,K=$localize`:2fe5caca246424da5e7fcee12a1fe341335e12862731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,ne=$localize`:2d39d1ca65d735d7f800e458ce54af6a256523957182911930527299079: Select a space to view it's details `,[["empty_state",""],V,K,ne,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-base-200"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(K,ne){if(1&K&&t.DNE(0,k,42,29,"ng-container",4)(1,T,3,0,"ng-template",null,0,t.C5r),2&K){const U=t.sdS(2);t.Y8G("ngIf",ne.space)("ngIfElse",U)}},dependencies:[v.bT,b.R,E.S,M.H,S.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return D})()},9138:(jt,Se,l)=>{"use strict";l.d(Se,{X:()=>D});var t=l(467),n=l(3953),p=l(7375),v=l(2185),b=l(9493),E=l(9145),M=l(8379),S=l(6665),u=l(177),I=l(9434),k=l(6600);function T(f,V){if(1&f&&(n.j41(0,"div",15),n.EFF(1),n.k0s()),2&f){const K=n.XpG();n.R7$(),n.SpI(" ",K.location," ")}}function w(f,V){if(1&f){const K=n.RV6();n.j41(0,"div",16)(1,"p"),n.EFF(2),n.k0s(),n.j41(3,"button",17),n.bIt("click",function(){const U=n.eBV(K).$implicit,c=n.XpG();return n.Njj(c.removeFeature(U))}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&f){const K=V.$implicit;n.R7$(2),n.JRh(K)}}let D=(()=>{class f extends p.Tv{get start(){return this._event_form.form.value.date}get end(){const{date:K,duration:ne}=this._event_form.form.value;return K+60*ne*1e3}get time_format(){return this._settings.time_format}constructor(K,ne,U,c){super(),this._bsheet=K,this._event_form=ne,this._org=U,this._settings=c,this.view="list",this.viewChange=new n.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(E.R)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_id:K})=>this._updateLocation([K])))}removeFeature(K){var ne=this;return(0,t.A)(function*(){const U=yield ne._event_form.options.pipe((0,b.s)(1)).toPromise();ne._event_form.setOptions({...U,features:(U.features||[]).filter(c=>c!==K)})})()}_updateLocation(K=[]){const U=this._org.levelWithID(K)||this._org.building;this.location=U?.display_name||U?.name||""}static#e=this.\u0275fac=function(ne){return new(ne||f)(n.rXU(S.VK),n.rXU(M.n),n.rXU(v.yb),n.rXU(p.h$))};static#t=this.\u0275cmp=n.VBU({type:f,selectors:[["parking-space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[n.Vt3],decls:22,vars:23,consts:()=>{let K,ne,U,c;return K=$localize`:19eaa5cd51d70d9ea957eecac78cfd811e9b93d85208858215712453646: Filters `,ne=$localize`:992a9a6a193a56c5b8846dc972c5e1977ee5f1aa8553228906889869186: Map `,U=$localize`:4b286e90831dd637c5cd3eb20544664ee71126697787942140742011951: List `,c=$localize`:e1bcafb95323d9492bfdfa190a129131e6255cdb7211304359187007121: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[K,ne,U,c,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["matRipple","","filters","",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],["icon","","matRipple","",1,"-mr-4",3,"click"]]},template:function(ne,U){if(1&ne&&(n.j41(0,"section",4)(1,"button",5),n.bIt("click",function(){return U.editFilters()}),n.pXf(2,0),n.k0s(),n.j41(3,"div",6)(4,"button",7),n.bIt("click",function(){return U.view="map",U.viewChange.emit(U.view)}),n.pXf(5,1),n.k0s(),n.j41(6,"button",8),n.bIt("click",function(){return U.view="list",U.viewChange.emit(U.view)}),n.pXf(7,2),n.k0s()()(),n.j41(8,"section",9),n.DNE(9,T,2,1,"div",10),n.j41(10,"div",11),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"div",12),n.EFF(14),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s(),n.j41(17,"div",13),n.pXf(18,3),n.nI1(19,"async"),n.k0s(),n.DNE(20,w,6,1,"div",14),n.nI1(21,"async"),n.k0s()),2&ne){let c,Z;n.R7$(4),n.AVh("inverse","map"!==U.view),n.R7$(2),n.AVh("inverse","list"!==U.view),n.R7$(3),n.Y8G("ngIf",U.location),n.R7$(2),n.SpI(" ",n.i5U(12,10,U.start,"mediumDate")," "),n.R7$(3),n.Lme(" ",n.i5U(15,13,U.start,U.time_format)," \u2014 ",n.i5U(16,16,U.end,U.time_format)," "),n.R7$(5),n.uP7((null==(c=n.bMT(19,19,U.options))?null:c.capcaity)||2),n.nnv(18),n.R7$(),n.Y8G("ngForOf",null==(Z=n.bMT(21,21,U.options))?null:Z.features)}},dependencies:[u.Sq,u.bT,I.R,k.r6,u.Jj,u.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return f})()},9145:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>Ie});var t=l(467),n=l(7375),p=l(2185),v=l(5006),b=l(9493),E=l(8379),M=l(4512),S=l(906),u=l(3953),I=l(6665),k=l(177),T=l(9417),w=l(3719),D=l(2765),f=l(6600),V=l(9608),K=l(3476),ne=l(1413),U=l(9434),c=l(2798);const Z=()=>({standalone:!0});function F(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"button",31),u.bIt("click",function(){u.eBV(rt);const ot=u.XpG();return u.Njj(ot.close())}),u.j41(1,"app-icon"),u.EFF(2,"keyboard_arrow_left"),u.k0s()()}}function J(Xe,bt){if(1&Xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Xe){const rt=bt.$implicit;u.Y8G("value",rt),u.R7$(),u.SpI(" ",rt.display_name||rt.name," ")}}function z(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",34),u.nI1(2,"async"),u.nI1(3,"async"),u.nI1(4,"async"),u.bIt("ngModelChange",function(ot){u.eBV(rt);const It=u.XpG(2);return u.Njj(It.setBuilding(ot))}),u.DNE(5,J,2,2,"mat-option",35),u.nI1(6,"async"),u.k0s()()}if(2&Xe){let rt;const yt=u.XpG(2);u.R7$(),u.Y8G("ngModel",u.bMT(2,4,yt.building))("ngModelOptions",u.lJ4(12,Z))("placeholder",(null==(rt=u.bMT(3,6,yt.building))?null:rt.display_name)||(null==(rt=u.bMT(4,8,yt.building))?null:rt.name)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,10,yt.buildings))}}function X(Xe,bt){if(1&Xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Xe){const rt=bt.$implicit;u.Y8G("value",rt.id),u.R7$(),u.SpI(" ",rt.display_name||rt.name," ")}}function $(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",37),u.nI1(2,"async"),u.bIt("ngModelChange",function(ot){u.eBV(rt);const It=u.XpG(2);return u.Njj(It.setOptions({zone_id:ot}))}),u.DNE(3,X,2,2,"mat-option",35),u.nI1(4,"async"),u.k0s()()}if(2&Xe){let rt;const yt=u.XpG(2);u.R7$(),u.Y8G("ngModel",null==(rt=u.bMT(2,3,yt.options))?null:rt.zone_id)("ngModelOptions",u.lJ4(7,Z)),u.R7$(2),u.Y8G("ngForOf",u.bMT(4,5,yt.levels))}}function te(Xe,bt){if(1&Xe&&(u.qex(0),u.DNE(1,z,7,13,"mat-form-field",32),u.nI1(2,"async"),u.DNE(3,$,5,8,"mat-form-field",32),u.bVm()),2&Xe){let rt;const yt=u.XpG();u.R7$(),u.Y8G("ngIf",(null==(rt=u.bMT(2,2,yt.buildings))?null:rt.length)>1),u.R7$(2),u.Y8G("ngIf",!yt.hide_levels)}}function G(Xe,bt){if(1&Xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Xe){const rt=bt.$implicit;u.Y8G("value",rt),u.R7$(),u.SpI(" ",rt.display_name||rt.name," ")}}function oe(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",38),u.bIt("ngModelChange",function(ot){u.eBV(rt);const It=u.XpG(2);return u.Njj(It.setRegion(ot))}),u.DNE(2,G,2,2,"mat-option",35),u.nI1(3,"async"),u.k0s()()}if(2&Xe){const rt=u.XpG(2);u.R7$(),u.Y8G("ngModel",rt.region)("ngModelOptions",u.lJ4(5,Z)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,rt.regions))}}function ce(Xe,bt){if(1&Xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Xe){const rt=bt.$implicit;u.Y8G("value",rt.id),u.R7$(),u.SpI(" ",rt.display_name||rt.name," ")}}function le(Xe,bt){if(1&Xe&&(u.j41(0,"mat-optgroup",41),u.DNE(1,ce,2,2,"mat-option",35),u.k0s()),2&Xe){const rt=bt.$implicit;u.Y8G("label",rt.name),u.R7$(),u.Y8G("ngForOf",rt.levels)}}function ve(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",39),u.nI1(2,"async"),u.bIt("ngModelChange",function(ot){u.eBV(rt);const It=u.XpG(2);return u.Njj(It.setOptions({zone_id:ot}))}),u.j41(3,"mat-option",36),u.EFF(4,"Any Level"),u.k0s(),u.DNE(5,le,2,2,"mat-optgroup",40),u.nI1(6,"async"),u.k0s()()}if(2&Xe){let rt;const yt=u.XpG(2);u.R7$(),u.Y8G("ngModel",null==(rt=u.bMT(2,3,yt.options))?null:rt.zone_id)("ngModelOptions",u.lJ4(7,Z)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,5,yt.region_levels))}}function Q(Xe,bt){if(1&Xe&&(u.qex(0),u.DNE(1,oe,4,6,"mat-form-field",32),u.nI1(2,"async"),u.DNE(3,ve,7,8,"mat-form-field",32),u.bVm()),2&Xe){let rt;const yt=u.XpG();u.R7$(),u.Y8G("ngIf",null==(rt=u.bMT(2,2,yt.regions))?null:rt.length),u.R7$(2),u.Y8G("ngIf",!yt.hide_levels)}}function R(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"div",42)(1,"div",43)(2,"label",44),u.PLo(3,6),u.nrm(4,"span"),u.YFu(),u.k0s(),u.j41(5,"a-time-field",45),u.bIt("ngModelChange",function(ot){u.eBV(rt);const It=u.XpG();return u.Njj(It.form.patchValue({date:ot}))}),u.k0s()(),u.j41(6,"div",43)(7,"label",46),u.PLo(8,7),u.nrm(9,"span"),u.YFu(),u.k0s(),u.nrm(10,"a-duration-field",47),u.k0s()()}if(2&Xe){const rt=u.XpG();u.R7$(5),u.Y8G("ngModel",rt.form.value.date)("ngModelOptions",u.lJ4(6,Z))("use_24hr",rt.use_24hr),u.R7$(5),u.Y8G("time",null==rt.form||null==rt.form.value?null:rt.form.value.date)("max",rt.max_duration)("use_24hr",rt.use_24hr)}}function L(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"div",26)(1,"div",50),u.EFF(2),u.k0s(),u.j41(3,"mat-checkbox",51),u.nI1(4,"async"),u.bIt("ngModelChange",function(ot){const It=u.eBV(rt).$implicit,Ae=u.XpG(2);return u.Njj(Ae.toggleFeature(It,ot))}),u.k0s()()}if(2&Xe){let rt;const yt=bt.$implicit,ot=u.XpG(2);u.R7$(2),u.JRh(yt),u.R7$(),u.Y8G("ngModel",null==(rt=u.bMT(4,3,ot.options))||null==rt.features?null:rt.features.includes(yt))("ngModelOptions",u.lJ4(5,Z))}}function H(Xe,bt){if(1&Xe&&(u.j41(0,"section",48)(1,"h2",17),u.pXf(2,8),u.k0s(),u.DNE(3,L,5,6,"div",49),u.nI1(4,"async"),u.k0s()),2&Xe){const rt=u.XpG();u.R7$(3),u.Y8G("ngForOf",u.bMT(4,1,rt.features))}}function fe(Xe,bt){if(1&Xe){const rt=u.RV6();u.j41(0,"div",52)(1,"button",53),u.bIt("click",function(){u.eBV(rt);const ot=u.XpG();return u.Njj(ot.close())}),u.pXf(2,9),u.k0s()()}}let Ie=(()=>{class Xe{setBuilding(rt){this._org.building=rt}get bld(){return this._org.building}get form(){return this._form.form}get end_date(){return(0,M.D)((0,S.f)(Date.now(),this._settings.get("app.parking.available_period")||7))}get max_duration(){return this._settings.get("app.events.max_duration")||480}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return!!this._settings.get("app.use_region")}constructor(rt,yt,ot,It){this._bsheet_ref=rt,this._settings=yt,this._form=ot,this._org=It,this.can_close=!1,this.options=this._form.options,this.levels=this._org.active_levels.pipe((0,v.T)(Ae=>{for(const we of Ae){const _e=this._org.buildings.find(de=>de.id===we.parent_id);we.bld=_e?.display_name||_e?.name||""}return Ae.filter(we=>we.tags.includes("parking"))})),this.buildings=this._org.active_buildings,this.regions=this._org.region_list,this.region_levels=this._org.active_region.pipe((0,v.T)(Ae=>this._org.buildings.filter(de=>!Ae||de.parent_id===Ae.id).map(de=>({id:de.id,name:de.display_name||de.name,levels:this._org.levels.filter(Te=>Te.parent_id===de.id&&Te.tags.includes("parking"))})).filter(de=>de.levels.length))),this.features=this._form.features,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Ae=>this._form.setOptions(Ae),this.setRegion=Ae=>this._org.region=Ae,this.can_close=!!this._bsheet_ref}toggleFeature(rt,yt){var ot=this;return(0,t.A)(function*(){const{features:It}=yield ot.options.pipe((0,b.s)(1)).toPromise(),Ae=(It||[]).filter(we=>rt!==we);yt&&Ae.push(rt),ot.setOptions({features:Ae})})()}static#e=this.\u0275fac=function(yt){return new(yt||Xe)(u.rXU(I.eN,8),u.rXU(n.h$),u.rXU(E.n),u.rXU(p.yb))};static#t=this.\u0275cmp=u.VBU({type:Xe,selectors:[["parking-space-filters"]],inputs:{hide_levels:"hide_levels"},decls:33,vars:18,consts:()=>{let rt,yt,ot,It,Ae,we,_e,de,Te,Pe,St,tt,wt;return rt=$localize`:36173168a4643aa78634e9242a63f3a40862f1667173310086383878456:Space Filters`,yt=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,ot=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,It=$localize`:04cfb5fd033651743bc4b9408bd52ba4ee8940703158758063619980932:Date${"\ufffd#18\ufffd"}:START_TAG_SPAN:*${"\ufffd/#18\ufffd"}:CLOSE_TAG_SPAN:`,Ae=$localize`:62ab0c2bf8d16ce7baf2c8b1da2c561d995222564158925728608139729:Favourites`,we=$localize`:ac378c0b437746af89a84b4909ab5b83c5ff55a3165958440274527719: Only show favourite spaces `,_e=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,de=$localize`:130845b58eba8e50c98f3fba117a0168cdba4f318264413387051126615:Any Region`,Te=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,Pe=$localize`:34a7595cdc15925514038224946986bfd90dc0ed3039786638368843634:Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,St=$localize`:85d5c3a89bab9a7475a7db095089e161586cb7a15960185837188220843:End Time${"\ufffd#9\ufffd"}:START_TAG_SPAN:*${"\ufffd/#9\ufffd"}:CLOSE_TAG_SPAN:`,tt=$localize`:bf10c600bd861cfd0a23f4759562ee0ae9dbe19f1551920764795208868:Facilities`,wt=$localize`:c17e2cc448524a39eb83b2937cea3235a2e8bf372296888311792137027: Apply Filters `,[rt,yt,ot,It,Ae,we,Pe,St,tt,wt,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","close","",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],[1,"flex-1","min-w-[256px]","flex","flex-col"],["for","location"],[4,"ngIf"],[1,"flex-1","min-w-[256px]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","close","",3,"click"],["appearance","outline","class","w-full",4,"ngIf"],["appearance","outline",1,"w-full"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","location","placeholder",_e,3,"ngModelChange","ngModel","ngModelOptions"],["name","region","placeholder",de,3,"ngModelChange","ngModel","ngModelOptions"],["name","location","placeholder",Te,3,"ngModelChange","ngModel","ngModelOptions"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["for","end-time"],["name","end-time","formControlName","duration",3,"time","max","use_24hr"],["features","",1,"space-y-2"],["class","flex items-center",4,"ngFor","ngForOf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","close","",1,"w-full",3,"click"]]},template:function(yt,ot){if(1&yt&&(u.j41(0,"div",10)(1,"div",11),u.DNE(2,F,3,0,"button",12),u.k0s(),u.j41(3,"h3",13),u.pXf(4,0),u.k0s(),u.nrm(5,"div",14),u.k0s(),u.j41(6,"form",15)(7,"section",16)(8,"h2",17),u.pXf(9,1),u.k0s(),u.j41(10,"div",18)(11,"label",19),u.pXf(12,2),u.k0s(),u.DNE(13,te,4,4,"ng-container",20)(14,Q,4,4,"ng-container",20),u.k0s(),u.j41(15,"div",21)(16,"label",22),u.PLo(17,3),u.nrm(18,"span"),u.YFu(),u.k0s(),u.j41(19,"a-date-field",23),u.bIt("ngModelChange",function(Ae){return ot.form.patchValue({date:Ae})}),u.EFF(20," Date and time must be in the future "),u.k0s()(),u.DNE(21,R,11,7,"div",24),u.k0s(),u.j41(22,"section",25)(23,"h2",17),u.pXf(24,4),u.k0s(),u.j41(25,"div",26)(26,"div",27),u.pXf(27,5),u.k0s(),u.j41(28,"mat-checkbox",28),u.nI1(29,"async"),u.bIt("ngModelChange",function(Ae){return ot.setOptions({show_fav:Ae})}),u.k0s()()(),u.DNE(30,H,5,3,"section",29),u.nI1(31,"async"),u.k0s(),u.DNE(32,fe,3,0,"div",30)),2&yt){let It,Ae;u.R7$(2),u.Y8G("ngIf",ot.can_close),u.R7$(4),u.Y8G("formGroup",ot.form),u.R7$(7),u.Y8G("ngIf",!ot.use_region),u.R7$(),u.Y8G("ngIf",ot.use_region),u.R7$(5),u.Y8G("ngModel",ot.form.value.date)("ngModelOptions",u.lJ4(16,Z))("to",ot.end_date),u.R7$(2),u.Y8G("ngIf",!1),u.R7$(7),u.Y8G("ngModel",null==(It=u.bMT(29,12,ot.options))?null:It.show_fav)("ngModelOptions",u.lJ4(17,Z)),u.R7$(2),u.Y8G("ngIf",null==(Ae=u.bMT(31,14,ot.features))?null:Ae.length),u.R7$(2),u.Y8G("ngIf",ot.can_close)}},dependencies:[k.Sq,k.bT,T.qT,T.BC,T.cb,T.vS,T.j4,T.JD,w.rl,D.So,f.wT,f.D7,V.G,K.y,ne.t,U.R,c.VO,f.r6,k.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return Xe})()},258:(jt,Se,l)=>{"use strict";l.d(Se,{w:()=>ne});var t=l(3953),n=l(9714),p=l(5006),v=l(8379),b=l(177),E=l(9183),M=l(9434),S=l(3208),u=l(6600);function I(U,c){1&U&&(t.j41(0,"div",24)(1,"app-icon"),t.EFF(2,"done"),t.k0s()())}function k(U,c){if(1&U&&t.nrm(0,"img",25),2&U){const Z=t.XpG().$implicit;t.Y8G("source",Z.images[0])}}function T(U,c){1&U&&t.nrm(0,"img",26)}function w(U,c){if(1&U){const Z=t.RV6();t.j41(0,"li",14)(1,"button",15),t.bIt("click",function(){const J=t.eBV(Z).$implicit,z=t.XpG(3);return t.Njj(z.selectSpace(J))}),t.j41(2,"div",16),t.DNE(3,I,3,0,"div",17)(4,k,1,1,"img",18)(5,T,1,0,"ng-template",null,2,t.C5r),t.k0s(),t.j41(7,"div",19)(8,"div",20),t.EFF(9),t.k0s(),t.j41(10,"div",21)(11,"app-icon",22),t.EFF(12,"place"),t.k0s(),t.j41(13,"p"),t.EFF(14),t.k0s()(),t.j41(15,"div",21)(16,"app-icon",22),t.EFF(17,"people"),t.k0s(),t.j41(18,"p"),t.pXf(19,5),t.k0s()()()(),t.j41(20,"button",23),t.bIt("click",function(){const J=t.eBV(Z).$implicit,z=t.XpG(3);return t.Njj(z.toggleFav.emit(J))}),t.j41(21,"app-icon"),t.EFF(22),t.k0s()()()}if(2&U){const Z=c.$implicit,F=t.sdS(6),J=t.XpG(3);t.AVh("!border-info",J.active===Z.id),t.R7$(3),t.Y8G("ngIf",J.selected.includes(Z.id)),t.R7$(),t.Y8G("ngIf",null==Z.images?null:Z.images.length)("ngIfElse",F),t.R7$(5),t.SpI(" ",Z.name||"Meeting Space"," "),t.R7$(5),t.SpI(" ",Z.location||(null==Z.level?null:Z.level.display_name)||(null==Z.level?null:Z.level.name)||(null==Z.zone?null:Z.zone.display_name)||(null==Z.zone?null:Z.zone.name)," "),t.R7$(5),t.uP7(Z.capacity<1?2:Z.capacity),t.nnv(19),t.R7$(),t.AVh("text-info",J.isFavourite(Z.id)),t.R7$(2),t.JRh(J.isFavourite(Z.id)?"favorite":"favorite_border")}}function D(U,c){if(1&U&&(t.j41(0,"ul",12),t.DNE(1,w,23,11,"li",13),t.nI1(2,"async"),t.k0s()),2&U){const Z=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,Z.assets))}}function f(U,c){if(1&U&&(t.qex(0),t.DNE(1,D,3,3,"ul",11),t.nI1(2,"async"),t.bVm()),2&U){let Z;const F=t.XpG(),J=t.sdS(8);t.R7$(),t.Y8G("ngIf",null==(Z=t.bMT(2,2,F.assets))?null:Z.length)("ngIfElse",J)}}function V(U,c){1&U&&(t.j41(0,"div",27)(1,"p",28),t.pXf(2,6),t.k0s()())}function K(U,c){1&U&&(t.j41(0,"div",29),t.nrm(1,"mat-spinner",30),t.j41(2,"p",31),t.pXf(3,7),t.k0s()()),2&U&&(t.R7$(),t.Y8G("diameter",32))}let ne=(()=>{class U{constructor(Z){this._form=Z,this.active="",this.selected="",this.favorites=[],this.onSelect=new t.bkB,this.toggleFav=new t.bkB,this.assets=(0,n.zV)([this._form.options,this._form.available_resources]).pipe((0,p.T)(([{show_fav:F},J])=>J.filter(z=>!F||this.isFavourite(z.id)))),this.loading=this._form.loading}isFavourite(Z){return this.favorites.includes(Z)}selectSpace(Z){this.onSelect.emit(Z)}static#e=this.\u0275fac=function(F){return new(F||U)(t.rXU(v.n))};static#t=this.\u0275cmp=t.VBU({type:U,selectors:[["parking-space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let Z,F,J,z,X;return Z=$localize`:80ed5b776a26a78099e230e0e89d96c33ba44e245968132631442328843:Results`,F=$localize`:dd662afda8b27e3c6818b705321ddcc36bd571c04264834071624535187: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,J=$localize`:08719ea79f574b595da7d187fda2fa8c491b5de74552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,z=$localize`:027c29534f5dc45741b226edfebb3f7f578384b03831747985282777621: No available spaces for selected time and/or filters `,X=$localize`:8dad32dda6491a1051df9156e98031c0e634b413126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["placeholder",""],Z,F,J,z,X,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","select","",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/car-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(F,J){if(1&F&&(t.j41(0,"h3",8),t.pXf(1,3),t.k0s(),t.j41(2,"p",9),t.pXf(3,4),t.nI1(4,"async"),t.k0s(),t.DNE(5,f,3,4,"ng-container",10),t.nI1(6,"async"),t.DNE(7,V,3,0,"ng-template",null,0,t.C5r)(9,K,4,1,"ng-template",null,1,t.C5r)),2&F){let z;const X=t.sdS(10);t.R7$(4),t.uP7((null==(z=t.bMT(4,3,J.assets))?null:z.length)||0),t.nnv(3),t.R7$(),t.Y8G("ngIf",!t.bMT(6,5,J.loading))("ngIfElse",X)}},dependencies:[b.Sq,b.bT,E.LG,M.R,S.U,u.r6,b.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return U})()},8559:(jt,Se,l)=>{"use strict";l.d(Se,{G:()=>M});var t=l(8030),n=l(3953),p=l(177),v=l(9434);function b(S,u){1&S&&n.nrm(0,"div",16)}function E(S,u){1&S&&(n.j41(0,"app-icon",17),n.EFF(1," done "),n.k0s())}let M=(()=>{class S{get selected(){return!0===this._data.selected}constructor(I){this._data=I}static#e=this.\u0275fac=function(k){return new(k||S)(n.rXU(t.Nw))};static#t=this.\u0275cmp=n.VBU({type:S,selectors:[["parking-space-location-pin"]],decls:17,vars:2,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","66","height","80","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","fill","#309251","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(k,T){1&k&&(n.j41(0,"div",0),n.qSk(),n.j41(1,"svg",1)(2,"g",2),n.nrm(3,"path",3),n.k0s(),n.j41(4,"defs")(5,"filter",4),n.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),n.k0s()()(),n.joV(),n.j41(14,"div",13),n.DNE(15,b,1,0,"div",14)(16,E,2,0,"app-icon",15),n.k0s()()),2&k&&(n.R7$(15),n.Y8G("ngIf",!T.selected),n.R7$(),n.Y8G("ngIf",T.selected))},dependencies:[p.bT,v.R],encapsulation:2})}return S})()},9615:(jt,Se,l)=>{"use strict";l.d(Se,{S:()=>$});var t=l(3953),n=l(7375),p=l(6266),w=(l(6727),l(1416),l(1761),l(7758),l(4035),l(1765),l(711),l(5713),l(7535),l(5006)),D=l(3020),f=l(8559),V=l(9420),K=l(177),ne=l(9417),U=l(3719),c=l(6600),Z=l(4918),F=l(2798);const J=()=>({controls:!0});function z(te,G){if(1&te){const oe=t.RV6();t.qex(0),t.j41(1,"interactive-map",5),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.mxI("zoomChange",function(le){t.eBV(oe);const ve=t.XpG();return t.DH7(ve.zoom,le)||(ve.zoom=le),t.Njj(le)})("centerChange",function(le){t.eBV(oe);const ve=t.XpG();return t.DH7(ve.center,le)||(ve.center=le),t.Njj(le)}),t.k0s(),t.bVm()}if(2&te){const oe=t.XpG();t.R7$(),t.Y8G("src",oe.map_url),t.R50("zoom",oe.zoom)("center",oe.center),t.Y8G("styles",t.bMT(2,7,oe.styles))("features",t.bMT(3,9,oe.features))("actions",t.bMT(4,11,oe.actions))("options",t.lJ4(13,J))}}function X(te,G){if(1&te&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&te){const oe=G.$implicit;t.Y8G("value",oe),t.R7$(),t.SpI(" ",oe.display_name||oe.name," ")}}let $=(()=>{class te extends n.Tv{get map_url(){return this.level?.map_id||""}constructor(oe,ce){super(),this._event_form=oe,this._maps_people=ce,this.selected=[],this.is_displayed=!1,this.onSelect=new t.bkB,this.zoom=1,this.center={x:.5,y:.5},this._seletedSpace=le=>()=>this.onSelect.emit(le),this.level=null,this.levels=this._event_form.available_spaces.pipe((0,w.T)(le=>(0,n.Am)(le.map(({level:ve})=>ve)))),this.features=this._event_form.available_spaces.pipe((0,D.B)(1e3),(0,w.T)(le=>le.map(ve=>({location:ve.map_id,content:f.G,data:{...ve,selected:this.selected.includes(ve.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,w.T)(le=>le.map(ve=>({id:ve.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(ve)}))))}ngOnInit(){this.subscription("spaces",this._event_form.available_spaces.subscribe(oe=>{!this.level&&oe.length&&(this.level=oe[0].level)}))}setLevel(oe){this.level=oe,this._maps_people.setCustomZone(oe.parent_id)}setZoom(oe){this.zoom=Math.max(.5,Math.min(10,oe))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(ce){return new(ce||te)(t.rXU(p.W),t.rXU(V._))};static#t=this.\u0275cmp=t.VBU({type:te,selectors:[["parking-space-map"]],inputs:{selected:"selected",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[t.Vt3],decls:6,vars:5,consts:[[4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-base-100","p-2","border-b","border-base-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],[3,"value"]],template:function(ce,le){1&ce&&(t.DNE(0,z,5,14,"ng-container",0),t.j41(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),t.mxI("ngModelChange",function(Q){return t.DH7(le.level,Q)||(le.level=Q),Q}),t.bIt("ngModelChange",function(Q){return le.setLevel(Q)}),t.DNE(4,X,2,2,"mat-option",4),t.nI1(5,"async"),t.k0s()()()),2&ce&&(t.Y8G("ngIf",le.is_displayed),t.R7$(3),t.R50("ngModel",le.level),t.R7$(),t.Y8G("ngForOf",t.bMT(5,3,le.levels)))},dependencies:[K.Sq,K.bT,ne.BC,ne.vS,U.rl,c.wT,Z.S,F.VO,K.Jj],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})}return te})()},7642:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>K,Z:()=>V});var t=l(4006),n=l(7375),p=l(8379),v=l(3953),b=l(177),E=l(9434),M=l(6600),S=l(9145),u=l(9138),I=l(258),k=l(9615),T=l(6724);function w(ne,U){if(1&ne){const c=v.RV6();v.j41(0,"parking-space-list",26),v.bIt("toggleFav",function(F){v.eBV(c);const J=v.XpG();return v.Njj(J.toggleFavourite(F))})("onSelect",function(F){v.eBV(c);const J=v.XpG();return v.Njj(J.displayed=F)}),v.k0s()}if(2&ne){const c=v.XpG();v.Y8G("active",null==c.displayed?null:c.displayed.id)("selected",c.selected_ids)("favorites",c.favorites)}}function D(ne,U){if(1&ne){const c=v.RV6();v.j41(0,"button",27),v.bIt("click",function(){v.eBV(c);const F=v.XpG();return v.Njj(F.displayed=null)}),v.pXf(1,5),v.k0s()}}function f(ne,U){if(1&ne){const c=v.RV6();v.j41(0,"parking-space-map",28),v.bIt("onSelect",function(F){v.eBV(c);const J=v.XpG();return v.Njj(J.displayed=F)}),v.k0s()}if(2&ne){const c=v.XpG();v.Y8G("selected",c.selected_ids)("is_displayed",!!c.displayed)}}const V="favourite_parking_spaces";let K=(()=>{class ne{get selected_ids(){return this.selected.map(c=>c.id).join(",")}get favorites(){return this._settings.get(V)||[]}constructor(c,Z,F,J){this._dialog_ref=c,this._settings=Z,this._event_form=F,this._data=J,this.selected=[],this.view="list",this.selected=[...J.spaces||[]],this._event_form.setOptions(J.options)}isSelected(c){return c&&this.selected_ids.includes(c)}setSelected(c,Z){const F=this.selected.filter(J=>J.id!==c.id);Z&&F.push(c),this.selected=F,!this._data.options.group&&Z&&this._dialog_ref.close([c])}toggleFavourite(c){const Z=this.favorites;Z.includes(c.id)?this._settings.saveUserSetting(V,Z.filter(J=>J!==c.id)):this._settings.saveUserSetting(V,[...Z,c.id])}static#e=this.\u0275fac=function(Z){return new(Z||ne)(v.rXU(t.CP),v.rXU(n.h$),v.rXU(p.n),v.rXU(t.Vh))};static#t=this.\u0275cmp=v.VBU({type:ne,selectors:[["parking-space-select-modal"]],decls:34,vars:22,consts:()=>{let c,Z,F,J,z;return c=$localize`:8db1ccf77dfb75785bcf8e9090ad65ea6ab698846275162452894389177:Find Parking Space`,Z=$localize`:30d3439b0e0095fe69503245f3bd7a2e9498be7c8443571736703532556: View List `,F=$localize`:18843b85d1a4f17fefafd07bc5cde636dca44295819716823718458903:Back to form`,J=$localize`:f5e618f8255889ca7743db771c50b6181b8eb3627685760017883569970: ${"\ufffd0\ufffd"}:INTERPOLATION: bay(s) added `,z=$localize`:ccda1d41ca79703a85a3a598c1d97e040a32b766874721418273731876: Back `,[["map_view",""],c,Z,F,J,z,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-base-100","block",3,"activeChange","toggleFav","close","space","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","return","",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed"]]},template:function(Z,F){if(1&Z){const J=v.RV6();v.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),v.EFF(4,"close"),v.k0s()(),v.j41(5,"h3"),v.pXf(6,1),v.k0s()(),v.j41(7,"main",9),v.nrm(8,"parking-space-filters",10),v.j41(9,"div",11)(10,"parking-space-filters-display",12),v.mxI("viewChange",function(X){return v.eBV(J),v.DH7(F.view,X)||(F.view=X),v.Njj(X)}),v.k0s(),v.DNE(11,w,1,3,"parking-space-list",13),v.k0s(),v.j41(12,"parking-space-details",14),v.bIt("activeChange",function(X){return v.eBV(J),v.Njj(F.setSelected(F.displayed,X))})("toggleFav",function(){return v.eBV(J),v.Njj(F.toggleFavourite(F.displayed))})("close",function(){return v.eBV(J),v.Njj(F.displayed=null)}),v.k0s()(),v.j41(13,"footer",15),v.DNE(14,D,2,0,"button",16),v.j41(15,"button",17),v.pXf(16,2),v.k0s()(),v.j41(17,"footer",18)(18,"button",19)(19,"div",20)(20,"app-icon",21),v.EFF(21,"arrow_back"),v.k0s(),v.j41(22,"div",22),v.pXf(23,3),v.k0s()()(),v.j41(24,"p",23),v.pXf(25,4),v.k0s(),v.j41(26,"button",24),v.bIt("click",function(){return v.eBV(J),v.Njj(F.setSelected(F.displayed,!F.isSelected(null==F.displayed?null:F.displayed.id)))}),v.j41(27,"div",20)(28,"app-icon",21),v.EFF(29),v.k0s(),v.j41(30,"div",25),v.EFF(31),v.k0s()()()()(),v.DNE(32,f,1,2,"ng-template",null,0,v.C5r)}if(2&Z){const J=v.sdS(33);v.R7$(8),v.Y8G("hide_levels","list"!==F.view),v.R7$(2),v.R50("view",F.view),v.R7$(),v.Y8G("ngIf","list"===F.view)("ngIfElse",J),v.R7$(),v.AVh("hidden",!F.displayed)("inset-0",F.displayed),v.Y8G("space",F.displayed)("active",F.selected_ids.includes(null==F.displayed?null:F.displayed.id))("fav",F.displayed&&F.favorites.includes(null==F.displayed?null:F.displayed.id)),v.R7$(2),v.Y8G("ngIf",F.displayed),v.R7$(),v.AVh("mb-2",F.displayed),v.Y8G("mat-dialog-close",F.selected),v.R7$(3),v.Y8G("mat-dialog-close",F.selected),v.R7$(7),v.uP7(F.selected.length),v.nnv(25),v.R7$(),v.AVh("inverse",F.isSelected(null==F.displayed?null:F.displayed.id)),v.Y8G("disabled",!F.displayed),v.R7$(3),v.JRh(F.isSelected(null==F.displayed?null:F.displayed.id)?"remove":"add"),v.R7$(2),v.SpI(" ",F.isSelected(null==F.displayed?null:F.displayed.id)?"Remove from Booking":"Add to booking"," ")}},dependencies:[b.bT,t.tx,E.R,M.r6,S.R,u.X,I.w,k.S,T.o]})}return ne})()},1593:(jt,Se,l)=>{"use strict";l.d(Se,{w:()=>U});var t=l(7375),n=l(2185),p=l(1038),v=l(9928),b=l(9714),E=l(696),M=l(4421),S=l(5006),u=l(8728),I=l(9090),k=l(8841),T=l(8712),w=l(3921),D=l(5645),f=l(5987),V=l(3601),K=l(4512),ne=l(3953);let U=(()=>{class c extends t.Tv{constructor(F,J){super(),this._org=F,this._settings=J,this._loading=new v.t([]),this.loading=this._loading.asObservable(),this.levels=this._org.level_list.pipe((0,S.T)(z=>{if(!this._settings.get("app.use_region")){const X=this._org.buildingsForRegion(),$=X.map(G=>G.id),te=z.filter(G=>$.includes(G.parent_id)&&G.tags.includes("parking"));return te.map(G=>({...G,display_name:`${X.find(oe=>oe.id===G.parent_id)?.display_name} - ${G.display_name}`})),te}return z.filter(X=>X.parent_id===this._org.building.id&&X.tags.includes("parking"))})),this.spaces=(0,b.zV)([this.levels]).pipe((0,u.p)(([z])=>!!z[0]?.id),(0,I.n)(([z])=>(this._loading.next([...this._loading.getValue(),"spaces"]),(0,E.p)(z.map(X=>(0,p.bpY)(X.id,"parking-spaces").pipe((0,S.T)($=>($.details instanceof Array?$.details:[]).map(te=>({...te,zone_id:X.id})))))))),(0,S.T)(z=>(0,t.Bq)(z)),(0,k.M)(()=>this._loading.next(this._loading.getValue().filter(z=>"spaces"!==z))),(0,T.t)(1)),this.users=(0,b.zV)([this._org.active_building]).pipe((0,u.p)(([z])=>!!z?.id),(0,I.n)(([z])=>(this._loading.next([...this._loading.getValue(),"users"]),(0,p.bpY)(z.id,"parking-users"))),(0,S.T)(z=>z.details instanceof Array?z.details:[]),(0,k.M)(()=>this._loading.next(this._loading.getValue().filter(z=>"users"!==z))),(0,T.t)(1)),this.assigned_space=this.spaces.pipe((0,S.T)(z=>z.find(X=>X.assigned_to?.toLowerCase()===(0,t.Ny)().email?.toLowerCase()))),this.user_details=this.users.pipe((0,S.T)(z=>z.find(X=>X.email?.toLowerCase()===(0,t.Ny)().email?.toLowerCase()))),this.deny_parking_access=this.user_details.pipe((0,S.T)(z=>!!z?.deny)),this.booked_space=(0,b.zV)([this._org.active_building,this.spaces]).pipe((0,S.T)(([z,X])=>(0,D.tj)({period_start:(0,f._)((0,V.o)(Date.now())),period_end:(0,f._)((0,K.D)(Date.now())),type:"parking"}).pipe((0,w.W)(()=>(0,M.of)([])),(0,S.T)($=>$.map(te=>X.find(G=>G.id===te.asset_id)).filter(te=>!!te)))),(0,S.T)(z=>z[0]),(0,T.t)(1)),this.subscription("spaces",this.assigned_space.subscribe())}static#e=this.\u0275fac=function(J){return new(J||c)(ne.KVO(n.yb),ne.KVO(t.h$))};static#t=this.\u0275prov=ne.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},6576:(jt,Se,l)=>{"use strict";l.d(Se,{Sh:()=>u,CH:()=>S,Yj:()=>w,f6:()=>T});var t=l(1038),n=l(5006),p=l(7375),v=l(735),b=l(2037);class E{constructor(f={}){this.id=f.id||"",this.name=f.name||"",this.primary=!!f.primary,this.summary=f.summary||"",this.can_edit=!!f.can_edit,this.resource=new v.$(f.resource||f.system),this.availability=(f.availability||[]).map(({starts_at:V,ends_at:K,date:ne,duration:U,status:c})=>({date:new Date(ne||1e3*V).valueOf(),duration:U||(0,b.o)(1e3*K,1e3*V),status:c})),this.hidden=!!f.hidden}}const M="/api/staff/v1/calendars";function S(){return(0,t.JtY)(M).pipe((0,n.T)(D=>D.map(f=>new E(f))))}function u(D){const f=(0,p.zJ)(D);return(0,t.JtY)(`${M}/availability${f?"?"+f:""}`).pipe((0,n.T)(V=>V.map(K=>new E(K))))}const I=D=>(0,n.T)(f=>f.filter(V=>!!V.resource).map(V=>new v.$({...V.resource,level:D?.levelWithID(V.resource.zones),availability:V.availability})).filter(V=>V.bookable));function T(D){const f=(0,p.zJ)(D);return(0,t.JtY)(`${M}/free_busy${f?"?"+f:""}`).pipe((0,n.T)(V=>V))}function w(D,f){const V=(0,p.zJ)(D);return(0,t.JtY)(`${M}/free_busy${V?"?"+V:""}`).pipe((0,n.T)(K=>K.map(ne=>new E(ne))),I(f))}},5892:(jt,Se,l)=>{"use strict";l.d(Se,{T:()=>t});class t{get custom_id(){const p=this.option_list.map(v=>v.id).join("+");return`${this.id}[${p}]${this.in_order?"":"menu"}`}constructor(p={}){this.id=p.id||"",this.name=p.name||p.id||"",this.category=p.category||"",this.unit_price=p.unit_price||0,this.description=p.description||"",this.quantity=p.quantity||0,this.discount_cap=p.discount_cap||0,this.accept_points=!!p.accept_points,this.tags=p.tags||[],this.images=p.images||[],this.options=p.options||[];const v=this.options.some(b=>!0===b.active);this.option_list=(v?this.options.filter(b=>!0===b.active):p.option_list)||[],this.hide_for_zones=p.hide_for_zones||[],this.unit_price_with_options=this.unit_price+this.option_list.map(b=>b.unit_price||0).reduce((b,E)=>b+E,0),this.total_cost=this.unit_price_with_options*this.quantity,this.options_string=this.options?.map(b=>b.id||"").sort((b,E)=>b.localeCompare(E)).join(",")||"",this.in_order=p.in_order??!1}}},5555:(jt,Se,l)=>{"use strict";l.d(Se,{M:()=>u});var t=l(7375),n=l(5892),p=l(1406),v=l(906),b=l(3601),E=l(7926),M=l(2357);function S(I){let k=I.event?.date||I._time;return I.deliver_time&&(k=(0,p.h)(k,{hours:Math.floor(I.deliver_time),minutes:I.deliver_time%1*60}).valueOf()),(I.deliver_day_offset>0||I.event?.all_day)&&(k=(0,v.f)((0,b.o)(k),I.deliver_day_offset).valueOf()),(0,E.z)(k,I.deliver_offset).valueOf()}class u{get deliver_at(){return S(this)}get status(){return this._status}set status(k){this._status=k,this[`${this.event_id}_status`]=k}constructor(k={}){this._time=(0,M.c)(Date.now()).valueOf(),this.id=k.id||`order-${(0,t.HO)(9999999,1e6)}`,this.system_id=k.system_id||"",this.event_id=k.event_id||k.event?.id||"",this.items=(k.items||[]).map(T=>T instanceof n.T?T:new n.T(T)),this.item_count=this.items.reduce((T,w)=>T+w.quantity,0),this.total_cost=this.items.reduce((T,w)=>T+(w.total_cost||0),0),this.charge_code=k.charge_code||"",this.status=k[`${this.event_id}_status`]||k.status||"accepted",this.invoice_number=k.invoice_number||"",this.event=k.event||null,this.notes=k.notes||"",this.deliver_time=k.deliver_time||void 0,this.deliver_offset=k.deliver_offset||0,this.deliver_day_offset=k.deliver_day_offset||0,this.deliver_at_time=S(this)}}},7375:(jt,Se,l)=>{"use strict";l.d(Se,{Ft:()=>k,Tv:()=>t.T,p:()=>n.p,dr:()=>p.d,mx:()=>Ie.mx,_e:()=>S._,h$:()=>v.h,CS:()=>W,xv:()=>M.x,gd:()=>D.gd,Zr:()=>D.Zr,a6:()=>D.a6,Ny:()=>$.Ny,U5:()=>$.U5,PE:()=>D.PE,XE:()=>St,Bq:()=>D.Bq,F7:()=>D.F7,GF:()=>Ie.GF,tU:()=>ne,HQ:()=>D.HQ,Rm:()=>D.Rm,UG:()=>f.UG,uA:()=>f.uA,VX:()=>f.VX,WS:()=>f.WS,GE:()=>D.GE,go:()=>D.go,HO:()=>D.HO,DU:()=>D.DU,mj:()=>$.VX,Xm:()=>D.Xm,Hh:()=>Gt,RH:()=>tt,Xf:()=>D.Xf,To:()=>f.To,WQ:()=>U,jJ:()=>J,ej:()=>D.ej,II:()=>Te,zJ:()=>T.z,Am:()=>D.Am,QM:()=>Q});var t=l(5354),n=l(3114),p=l(7643),v=l(4233),b=l(1038),M=l(3885),S=l(9420),u=l(9969);(0,u.hZ)("show",[(0,u.kY)(":enter",[(0,u.iF)({opacity:0,height:0}),(0,u.i0)(300,(0,u.iF)({opacity:1,height:"*"}))]),(0,u.kY)(":leave",[(0,u.iF)({opacity:1,height:"*"}),(0,u.i0)(300,(0,u.iF)({opacity:0,height:0}))])]);const k=(0,u.hZ)("show",[(0,u.wk)("show",(0,u.iF)({opacity:1,height:"*"})),(0,u.wk)("hide",(0,u.iF)({opacity:0,height:0,"pointer-events":"none"})),(0,u.kY)("show <=> hide",(0,u.i0)("200ms ease-in"))]);var T=l(8385),w=l(467),D=l(4217),f=l(9525);let V,K=!1;function ne(){return K}function U(nn,xn=3e5){nn.isEnabled&&(V&&clearInterval(V),V=setInterval(()=>{(0,D.Rm)("CACHE","Checking for updates..."),function Z(nn){F.apply(this,arguments)}(nn)},xn))}function F(){return(F=(0,w.A)(function*(nn){if(nn.isEnabled&&(yield nn.checkForUpdate())){if((0,D.Rm)("CACHE","Activating changes to the cache..."),!(yield nn.activateUpdate()))return;K=!0,(0,f.uA)("Newer version of the application is available","Refresh",()=>location.reload())}})).apply(this,arguments)}function J(nn){return z.apply(this,arguments)}function z(){return(z=(0,w.A)(function*(nn){const xn=nn.protocol||location.protocol,kn=nn.domain||location.hostname,Gn=nn.port||location.port,hi=nn.use_domain?`${xn}//${kn}:${Gn}`:location.origin,Ht=(location.pathname+"/").replace("//","/"),dt=nn.mock||location.href.includes("mock=true")||"true"===localStorage.getItem("mock"),Vt={auth_type:"auth_code",scope:"public",host:`${kn}${Gn?":"+Gn:""}`,auth_uri:`${hi}/auth/oauth/authorize`,token_uri:`${hi}/auth/oauth/token`,redirect_uri:`${location.origin}${Ht}oauth-resp.html`,handle_login:!nn.local_login,use_iframe:!0,mock:dt};return localStorage&&localStorage.setItem("mock",`${!!dt&&!location.href.includes("mock=false")}`),dt&&(0,f.uA)("Application in mock mode."),(0,b.mjH)(Vt)})).apply(this,arguments)}l(3060);var $=l(6202);(0,D.Am)((0,D.Bq)([{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}].map(nn=>nn.utc))).sort();var oe=l(285),ce=l(5817),le=l(1604),ve=l(2727);function Q(nn,xn=!0,kn="none"){return new ce.c(Gn=>{const hi=new FileReader;hi.addEventListener("loadend",Ht=>{const Vt=ve.Ot(Ht.target.result,nn.type),kt=(0,oe.Zn)([Vt],{file_name:nn.name,permissions:kn,public:xn})[0],qt={id:(0,D.HO)(999999999999),name:nn.name,progress:0,link:"",formatted_size:(0,oe.jG)(nn.size),size:nn.size,upload:kt};kt.status.pipe((0,le.v)(un=>"complete"!==un.status,!0)).subscribe(un=>{kt.access_url&&(qt.link=xn?kt.access_url:`${location.origin}/api/engine/v2/uploads/${encodeURIComponent(kt.id)}/url`),qt.progress=un.progress,Gn.next(qt),"error"===un.status&&Gn.error({...qt,error:un.error}),"complete"===un.status&&Gn.complete()}),Gn.next(qt)}),hi.readAsArrayBuffer(nn)})}l(2185),l(686);var Ie=l(7619),Xe=l(7926),bt=l(9255),rt=l(9824);const _e={month:43200,months:43200,week:10080,weeks:10080,day:1440,days:1440,hour:60,hours:60,minute:1,minutes:1},de={auto_approve:!0,hidden:!1};function Te(nn){const xn=(nn||"").split(" ");return xn.length>1?+xn[0]*_e[xn[1].toLowerCase()]:0}function Pe(nn,xn=new Date){return(0,Xe.z)(xn,Te(nn))}function St(nn,xn,kn){return nn.filter(Gn=>!tt({...xn,resource:Gn},kn)?.hidden)}function tt(nn,xn){if(!(xn instanceof Array))return de;for(const kn of xn)if(("*"===kn.zone||kn.zone===nn.resource.zone?.id||nn.resource.zones?.includes(kn.zone))&&wt(nn,kn))return kn.rules;return de}function wt({date:nn,duration:xn,host:kn,resource:Gn},hi){const Ht=new Date(nn);let dt=0;const{conditions:Vt}=hi;return!Vt||(Vt.groups instanceof Array&&Vt.groups.every(ct=>kn?.groups?.includes(ct))&&(dt+=1),Vt.is_before&&(0,bt.Y)((0,Xe.z)(nn,xn),Pe(Vt.is_before))&&(dt+=1),Vt.is_after&&(0,rt.d)(nn,Pe(Vt.is_after))&&(dt+=1),Vt.min_length&&Vt.min_length<=xn&&(dt+=1),Vt.is_between&&Ht.getHours()+Ht.getMinutes()/60>=Vt.is_between[0]&&Ht.getHours()+Ht.getMinutes()/60<Vt.is_between[1]&&(dt+=1),Vt.is_period&&nn>=Vt.is_period[0]&&nn<Vt.is_period[1]&&(dt+=1),Vt.max_length&&Vt.max_length>=xn&&(dt+=1),Vt.resource_ids&&Vt.resource_ids.includes(Gn.id)&&(dt+=1),Vt.locations&&Vt.locations.includes(Gn.name)&&(dt+=1),dt>=Object.keys(Vt).length)}var Mn=l(9928),Bn=l(6871),Jt=l(3953),Ft=l(4006);let W=(()=>{class nn{constructor(kn){this._dialog=kn,this._upload_list=new Mn.t([]),this.upload_list=this._upload_list.asObservable(),localStorage&&this._upload_list.next(JSON.parse(localStorage.getItem("BACKOFFICE.uploads")||"[]"))}clearList(){const kn=this._upload_list.getValue().filter(Gn=>Gn.progress<100&&!Gn.error);this._upload_list.next(kn)}uploadFileWithPermissions(kn){var Gn=this;return new Promise((hi,Ht)=>{this._dialog.open(Bn.U,{data:{file:kn}}).afterClosed().subscribe(function(){var Vt=(0,w.A)(function*(ct){if(ct){const kt=yield Gn.uploadFile(ct.file,ct.is_public,ct.permissions).catch(qt=>{throw Ht(qt),qt});hi(kt)}else Ht()});return function(ct){return Vt.apply(this,arguments)}}())})}uploadFile(kn,Gn=!0,hi="none"){return new Promise(Ht=>{let dt=!1;const Vt=ct=>{dt||(Ht(ct.id),dt=!0),this._upload_list.next([...this._upload_list.getValue().filter(kt=>kt.id!==ct.id),ct])};Q(kn,Gn,hi).subscribe(Vt,Vt,()=>this._updateUploadHistory())})}_updateUploadHistory(){const kn=this._upload_list.getValue().filter(Gn=>Gn.progress>=100);kn.forEach(Gn=>delete Gn.upload),localStorage&&localStorage.setItem("PLACEOS.uploads",JSON.stringify(kn))}static#e=this.\u0275fac=function(Gn){return new(Gn||nn)(Jt.KVO(Ft.bZ))};static#t=this.\u0275prov=Jt.jDH({token:nn,factory:nn.\u0275fac,providedIn:"root"})}return nn})(),Xt=null;function Gt(){return pn.apply(this,arguments)}function pn(){return(pn=(0,w.A)(function*(){Xt&&(yield Xt.release());try{Xt=yield navigator.wakeLock.request("screen")}catch(nn){throw nn}})).apply(this,arguments)}document.addEventListener("visibilitychange",(0,w.A)(function*(){null!==Xt&&"visible"===document.visibilityState&&(Xt=yield navigator.wakeLock.request("screen"))}))},8385:(jt,Se,l)=>{"use strict";l.d(Se,{z:()=>n});const t=[void 0,null,""];function n(p){let v="";if(p)for(const b in p)b in p&&!t.includes(p[b])&&(v+=`${v?"&":""}${b}=${encodeURIComponent(p[b])}`);return v}},5354:(jt,Se,l)=>{"use strict";l.d(Se,{T:()=>v});var t=l(9928),n=l(4337),p=l(3953);let v=(()=>{class b{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new t.t(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const M in this._timers)M in this._timers&&this.clearTimeout(M);for(const M in this._intervals)M in this._intervals&&this.clearInterval(M);for(const M in this._subscriptions)M in this._subscriptions&&this.unsub(M)}timeout(M,S,u=300){if(!(M&&S&&S instanceof Function))throw new Error(M?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(M),this._timers[M]=setTimeout(()=>{S(),delete this._timers[M]},u)}clearTimeout(M){this._timers[M]&&(clearTimeout(this._timers[M]),delete this._timers[M])}interval(M,S,u=300){if(!(M&&S&&S instanceof Function))throw new Error(M?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(M),this._intervals[M]=setInterval(()=>S(),u)}clearInterval(M){this._intervals[M]&&(clearInterval(this._intervals[M]),delete this._intervals[M])}subscription(M,S){this.unsub(M),this._subscriptions[M]=S}hasSubscription(M){return this._subscriptions[M]instanceof n.y||!!this._subscriptions[M]}unsub(M){M in this._subscriptions&&(this._subscriptions[M]instanceof n.y?this._subscriptions[M].unsubscribe():this._subscriptions[M]&&this._subscriptions[M](),delete this._subscriptions[M])}unsubWith(M){const S=Object.keys(this._subscriptions).filter(u=>u.includes(M));for(const u of S)this.unsub(u)}static#e=this.\u0275fac=function(S){return new(S||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},4571:(jt,Se,l)=>{"use strict";l.d(Se,{_V:()=>I,dB:()=>k,gP:()=>T});var t=l(4903),n=l(2357),p=l(1406),v=l(7926),b=l(8385),E=l(7619),M=l(4217);function S(D){const f=(0,E.il)(D,"UTC");return`${(0,t.GP)(f,"yyyyMMdd")}T${(0,t.GP)(f,"HHmmss")}Z`}function u(D){return`${(0,t.GP)(D,"yyyyMMdd")}`}function I(D){const f=[],V=w(`${D.body||""}${D.id?"\n\n[ID|"+D.id+"]":""}`),K=w(`${D.location}`);f.push(["BEGIN","VCALENDAR"]),f.push(["VERSION","2.0"]),f.push(["BEGIN","VEVENT"]),f.push(["URL",`${D.meeting_url}`]),f.push(["DTSTART",`${new Date(D.all_day?(0,n.c)((0,p.h)(D.date,{hours:6,minutes:0})):D.date).toISOString()}`]),f.push(["DTEND",`${D.all_day?(0,n.c)((0,p.h)(D.date,{hours:18,minutes:0})).toISOString():(0,v.z)(D.date,D.duration??60).toISOString()}`]),f.push(["SUMMARY",`${D.title}`]),f.push(["DESCRIPTION",V]),f.push(["LOCATION",K]);const ne=D.organiser?.name||D.host?.split("@")||D.user_name||"User";return f.push(["ORGANIZER",`CN=${ne}:MAILTO:${D.host||D.user_email}`]),`data:text/calendar;charset=utf8,${f.map(([c,Z])=>`${c}:${encodeURIComponent(Z)}`).join("\n")}`}function k(D){const f=D.all_day?u:S,V={action:"TEMPLATE",text:D.title,details:`${D.body||""}${D.id?"\n\n[ID|"+D.id+"]":""}`,location:D.location,trp:!1,dates:`${f(D.date)}/${f((0,v.z)(D.date,D.duration??60))}`},K=(D.attendees||[]).map(U=>U.email||U),ne=((D.resources?.length?D.resources:null)||[D.system]).map(U=>U?.email||U);return(K.length||ne.length)&&(V.add=(0,M.Am)([...K,...ne]).join()),`https://calendar.google.com/calendar/render?${(0,b.z)(V)}`}function T(D,f="office"){D.date||(D.date=Date.now());const V={path:"/calendar/action/compose",rru:"addevent",startdt:new Date(D.date).toISOString(),enddt:(0,v.z)(D.date,D.duration??60).toISOString(),subject:D.title,body:`${D.body||""}${D.id?"\n\n[ID|"+D.id+"]":""}`,location:D.location,allday:D.all_day??!1};D.all_day&&delete V.enddt;const K=(D.attendees||[]).map(U=>U.email||U),ne=((D.resources?.length?D.resources:null)||[D.system]).map(U=>U?.email||U);return(K.length||ne.length)&&(V.to=(0,M.Am)([...K,...ne]).join()),"office"===f?`https://outlook.office.com/calendar/0/action/compose?${(0,b.z)(V)}`:`https://outlook.live.com/calendar/0/action/compose?${(0,b.z)(V)}`}function w(D){return D.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")}},4217:(jt,Se,l)=>{"use strict";l.d(Se,{Am:()=>I,Bq:()=>Z,DU:()=>w,F7:()=>ce,GE:()=>D,HO:()=>k,HQ:()=>R,PE:()=>U,Rm:()=>M,Xf:()=>E,Xm:()=>le,Zr:()=>ve,a6:()=>V,ej:()=>rt,gd:()=>H,go:()=>S,st:()=>u});var t=l(467),n=l(9417),p=l(4046),v=l(841);let b="APP";function E(Ae){b=Ae}function M(Ae,we,_e,de="debug",Te=!1,Pe=b){if(!window.jest&&(window.debug||Te)){const St=["color: #E91E63","color: #3F51B5","color: default"];_e?console[de](`%c[${Pe}]%c[${Ae}] %c${we}`,...St,_e):console[de](`%c[${Pe}]%c[${Ae}] %c${we}`,...St)}}function S(Ae,we=2,_e="0"){let de=`${Ae}`;for(;de.length<we;)de=`${_e}${de}`;return de}function u(Ae,we){const _e=Ae[0];return we&&_e in we?Ae.length>1?u(Ae.slice(1),we[_e]||{}):we[_e]:null}function I(Ae=[],we=""){const _e=[];return Ae.filter(de=>{const Te=we?de[we]:de,Pe=_e.includes(Te);return Pe||_e.push(Te),!Pe})}function k(Ae,we=0){return Math.floor(Math.random()*(Ae-we))+we}function w(Ae,we="abcdefghijklmnopqrstwvxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"){let _e="";for(let de=0;de<Ae;de++)_e+=we[k(we.length)];return _e}function D(Ae,we){return f.apply(this,arguments)}function f(){return(f=(0,t.A)(function*(Ae,we){const _e=we.open(v.B,{...v.f,data:Ae});return{...yield Promise.race([_e.componentInstance.event.pipe((0,p.$)(de=>"done"===de.reason)).toPromise(),_e.afterClosed().toPromise()]),loading:de=>_e.componentInstance.loading=de,close:()=>_e.close()}})).apply(this,arguments)}function V(Ae,we=","){const _e=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi");let de=null;const Te=[[]];for(;de=_e.exec(Ae);)de[1].length&&","!==de[1]&&Te.push([]),Te[Te.length-1].push(de[2]?de[2]?.replace(new RegExp('""',"g"),'"'):de[3]);const Pe=Te.splice(0,1)[0];return Te.map(tt=>{const wt={};for(let ln=0;ln<tt.length;ln++){const Mn=(Pe[ln]||"").split(" ").join("_").toLowerCase();try{wt[Mn]=JSON.parse(tt[ln]?.replace("|",","))}catch{wt[Mn]=tt[ln]||""}("TRUE"===wt[Mn]||"FALSE"===wt[Mn])&&(wt[Mn]="TRUE"===wt[Mn])}return wt})}function U(Ae,we){const _e=document.createElement("a");_e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(we)),_e.setAttribute("download",Ae),_e.style.display="none",document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)}function Z(Ae){const we=[...Ae],_e=[];for(;we.length;){const de=we.pop();Array.isArray(de)?we.push(...de):_e.push(de)}return _e.reverse()}function ce(Ae,we=""){let _e=[];for(const de in Ae.controls)Ae.controls[de]instanceof n.gE?_e=[..._e,...ce(Ae.controls[de],`${de}.`)]:Ae.controls[de].valid||_e.push(`${we}${de}`);return _e}function le(Ae){for(const we in Ae)(null==Ae[we]||""===Ae[we])&&delete Ae[we]}function ve(Ae){return`${Ae[0].toUpperCase()}${Ae.substring(1)}`}function R(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function H(Ae,we,_e,de){const Pe=fe(_e-Ae),St=fe(de-we);Ae=fe(Ae),_e=fe(_e);const tt=Math.sin(Pe/2)*Math.sin(Pe/2)+Math.sin(St/2)*Math.sin(St/2)*Math.cos(Ae)*Math.cos(_e);return 2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt))*6371}function fe(Ae){return Ae*(Math.PI/180)}function Ie(Ae){return[parseInt(Ae.slice(1,3),16),parseInt(Ae.slice(3,5),16),parseInt(Ae.slice(5,7),16)]}function rt(Ae,we,_e){const Pe=function Xe(Ae,we,_e){let Te=Ae[1]+(we[1]-Ae[1])*_e,Pe=Ae[2]+(we[2]-Ae[2])*_e;return[Math.round(Ae[0]+(we[0]-Ae[0])*_e),Math.round(Te),Math.round(Pe)]}(Ie(Ae),Ie(we),_e);return function bt(Ae,we,_e){function de(Te){const Pe=Te.toString(16);return 1==Pe.length?"0"+Pe:Pe}return"#"+de(Ae)+de(we)+de(_e)}(Pe[0],Pe[1],Pe[2])}!function $(Ae){let we=1779033703^Ae.length;for(let _e=0;_e<Ae.length;_e++)we=Math.imul(we^Ae.charCodeAt(_e),3432918353),we=we<<13|we>>>19;return function(){return we=Math.imul(we^we>>>16,2246822507),we=Math.imul(we^we>>>13,3266489909),(we^=we>>>16)>>>0}}("PlaceOS")()},3114:(jt,Se,l)=>{"use strict";l.d(Se,{p:()=>v});var t=l(4217),n=l(3953),p=l(345);let v=(()=>{class b{constructor(M){this.title=M,this.enabled=!0,this.app_name="GA_APP",this.timers={}}init(M=""){window.gtag||(window.dataLayer=window.dataLayer||[],function(S,u,I,k,T){S[k]=S[k]||[],S[k].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var w=u.getElementsByTagName(I)[0],D=u.createElement(I);D.async=!0,D.src="https://www.googletagmanager.com/gtm.js?id="+T,w.parentNode.insertBefore(D,w)}(window,document,"script","dataLayer",M),(0,t.Rm)("Analytics","Service","Injected Google Analytics into page")),this.service=window.gtag}push(M){window.dataLayer.push(M)}load(M){if(!this.enabled)throw new Error("Google Analytics needs to be enabled before being initialised");if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");(0,t.Rm)("Analytics","Service",`Setup with tracking ID: ${M}`),this.page("")}setUser(M){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`user|${M}`,()=>{(0,t.Rm)("Analytics","Service",`Set user ID: ${M}`),this.service("set","userId",M),this.event("authentication","user-id available")},100)}send(M,S){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`end|${M}`,()=>{this.push({...S,event:"event"})})}event(M,S,u,I){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`event|${M}|${S}|${u}|${I}`,()=>{(0,t.Rm)("Analytics","Service",`Event: ${M}, ${S}${u?", "+u:""}${I?", "+I:""}`),this.push({event:"event",category:M,action:S,label:u})},100)}screen(M,S){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");M&&this.enabled&&this.timeout(`event|${M}|${S||this.app_name}`,()=>{(0,t.Rm)("Analytics","Service",`Screen: ${M}${S?", "+S:""}`),this.push({event:"screenview",appName:S||this.app_name,screenName:M})},100)}page(M,S=!1){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&(this.last_route=M||"/",this.timeout(`page|${M}`,()=>{(0,t.Rm)("Analytics","Service",`Page: ${M}`),this.push({event:"pageview",url:`${S?location.origin:""}${M}`})},100))}timing(M,S,u,I){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`page|${M}|${S}|${u}|${I}`,()=>{(0,t.Rm)("Analytics","Service",`Timing: ${M}, ${S}, ${u}${I?", "+I:""}`),this.push({event:"timing",category:M,variable:S,value:u,label:I})},100)}timeout(M,S,u=300){this.timers[M]&&(clearTimeout(this.timers[M]),delete this.timers[M]),this.timers[M]=setTimeout(()=>{S instanceof Function&&S(),delete this.timers[M]},u)}static#e=this.\u0275fac=function(S){return new(S||b)(n.KVO(p.hE))};static#t=this.\u0275prov=n.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},7643:(jt,Se,l)=>{"use strict";l.d(Se,{d:()=>b});var t=l(9928),n=l(4217),p=l(3953);const v=["control","shift","alt","meta","os"];let b=(()=>{class E{constructor(){this.keydown_states={},this.keydown_observers={},this.combo_end=[],this.registered_combos=[],this.counter=0,window.addEventListener("keydown",S=>{const u=this.mapKey((S.code||"").toLowerCase());this.last_down!==u&&(this.keydown_states[u]||(this.keydown_states[u]=new t.t(null),this.keydown_observers[u]=this.keydown_states[u].asObservable()),this.keydown_states[u].next(++this.counter),this.combo_end.indexOf(u)>=0&&S.preventDefault(),this.last_down=u)}),window.addEventListener("keyup",S=>{const u=this.mapKey((S.code||"").toLowerCase());this.keydown_states[u]?.next(null),this.last_down===u&&(this.last_down=null)})}listen(S,u){const I=(S=S instanceof Array?S:S.split("+")).map(k=>this.mapKey(k.toLowerCase()));if(I.length>0&&this.validCombination(I)){this.registered_combos.push(I);const k=I[I.length-1];return this.keydown_states[k]||(this.keydown_states[k]=new t.t(null),this.keydown_observers[k]=this.keydown_states[k].asObservable()),this.updateCombinationEndList(),this.keydown_observers[k].subscribe(T=>{if(T){const w=[];if(I.length>0){for(const f of I){const V=this.keydown_states[f];w.push(V&&V.getValue()||-1)}for(let f=0;f<I.length-1;f++)if(w[f]>w[f+1])return}w.reduce((f,V)=>f+(V>0?1:-1),0)>=I.length&&u()}})}return null}mapKey(S){return S.indexOf("alt")>=0||S.indexOf("shift")>=0||S.indexOf("control")>=0?S.replace("left","").replace("right",""):S}updateCombinationEndList(){for(const u of this.registered_combos)this.combo_end.push(u[u.length-1]);this.combo_end=(0,n.Am)([])}validCombination(S){let u=0;for(const I of S)v.indexOf(I)<0&&u++;return u>0}static#e=this.\u0275fac=function(u){return new(u||E)};static#t=this.\u0275prov=p.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},9420:(jt,Se,l)=>{"use strict";l.d(Se,{_:()=>D,u:()=>w});var t=l(4233),n=l(2185),p=l(9928),v=l(9714),b=l(8728),E=l(3020),M=l(8841),S=l(5006),u=l(8712),I=l(5354),k=l(4217),T=l(3953),w=function(f){return f[f.GoogleMaps=0]="GoogleMaps",f[f.Mapbox=1]="Mapbox",f}(w||{});let D=(()=>{class f extends I.T{get map_keys(){return this._settings.get("app.maps_people.keys")||{}}get use_service(){return this._settings.get("app.maps_people.use_zones")||[]}get map_service(){return this._map_service.getValue()}get map_token(){return this._map_token.getValue()}get is_ready(){return this._ready.getValue()}constructor(K,ne){super(),this._settings=K,this._org=ne,this._map_service=new p.t(null),this._map_token=new p.t(""),this._ready=new p.t(!1),this._injected={},this._custom_zone=new p.t(""),this.available$=(0,v.zV)([this._org.active_building,this._custom_zone,this._org.initialised]).pipe((0,b.p)(([U])=>!!U),(0,E.B)(300),(0,M.M)(()=>this._injectMapsApiKeys()),(0,S.T)(([U,c])=>this.map_keys.mapsindoors&&(this.use_service.includes(c||U.id)||this.use_service.includes("*"))),(0,u.t)(1))}setCustomZone(K){this._custom_zone.next(K)}_injectMapsApiKeys(){(0,k.Rm)("MapsPeople","Initializing Maps API Keys"),this._ready.next(!1);const{mapsindoors:K,google:ne,mapbox:U}=this.map_keys;if(K){if(K&&!this._injected.mapsindoors){const c=document.createElement("script");c.src=`https://app.mapsindoors.com/mapsindoors/js/sdk/4.35.0/mapsindoors-4.35.0.js.gz?apikey=${K}`,document.body.appendChild(c),this._injected.mapsindoors=!0}if(ne&&U)return void(0,k.Rm)("MapsPeople","Both Google and Mapbox keys provided",void 0,"error");if(ne&&!this._injected.google){const c=document.createElement("script");c.src=`https://maps.googleapis.com/maps/api/js?libraries=geometry&key=${ne}`,document.body.appendChild(c),this._map_service.next(w.GoogleMaps),this._injected.google=!0}else if(U&&!this._injected.mapbox){const c=document.createElement("script");c.src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js",document.body.appendChild(c);const Z=document.createElement("link");Z.rel="stylesheet",Z.href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css",document.head.appendChild(Z),this._map_service.next(w.Mapbox),this._map_token.next(U),this._injected.mapbox=!0}(ne||U)&&((0,k.Rm)("MapsPeople","Initialized Maps API Keys for "+(ne?"Google Maps":"Mapbox")),this.timeout("ready",()=>this._ready.next(!0),300))}}static#e=this.\u0275fac=function(ne){return new(ne||f)(T.KVO(t.h),T.KVO(n.yb))};static#t=this.\u0275prov=T.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},9525:(jt,Se,l)=>{"use strict";l.d(Se,{To:()=>p,UG:()=>E,VX:()=>b,WS:()=>M,uA:()=>S});let t,n=!1;function p(u,I=!1){t=u,n=I}function v(u,I,k="OK",T,w={}){if(!t)return!n&&console.warn("Snackbar service hasn't been initialised");const D=t.open(I,k,{panelClass:[u],duration:5e3,...w});k&&(T=T||(()=>D.dismiss()),D.onAction().subscribe(()=>T()))}function b(u,I,k,T={}){!n&&console.debug(u),"string"!=typeof u&&(u="Success"),v("success",u,I,k,T)}function E(u,I,k,T={}){!n&&console.debug(u),"string"!=typeof u&&(u=u?.error||u?.message||"An error occurred"),v("error",u,I,k,T)}function M(u,I,k,T={}){!n&&console.debug(u),v("warn",u,I,k,T)}function S(u,I,k,T={}){!n&&console.debug(u),v("info",u,I,k,T)}},686:(jt,Se,l)=>{"use strict";l.d(Se,{V:()=>V});var t=l(467),n=l(1038),p=l(9928),v=l(5286),b=l(9714),E=l(4421),M=l(8712),S=l(8728),u=l(9090),I=l(5006),k=l(5354),T=l(4217),w=l(3953);function D(K,ne,U){var c=K[ne];return K[ne]=(...Z)=>{U(Z),c.call(K,...Z)},c}let f=localStorage.getItem("PLACEOS.DEVICE_ID")||`DEV-${(0,T.DU)(8)}`,V=(()=>{class K extends k.T{setMetadata(U){}constructor(){var U;super(),U=this,this._disable_handling=!1,this._system_id=new p.t(""),this._events=new v.B7,this._event_history=this._events.pipe((0,M.t)(2e4)),this._metadata=null,this._logging_bindings=this._system_id.pipe((0,S.p)(c=>!!c),(0,u.n)(c=>(0,b.zV)([(0,E.of)(c),this._bindTo(c,"enabled")])),(0,S.p)(([c,Z])=>!!Z),(0,I.T)(([c])=>this.subscription("post_events",this._event_history.subscribe(function(){var Z=(0,t.A)(function*(F){U._disable_handling=!0,yield(0,n.f_4)(c,"Logger").execute("post_event",[F]).catch(),U._disable_handling=!1});return function(F){return Z.apply(this,arguments)}}())))),this.history=this._event_history,localStorage.setItem("PLACEOS.DEVICE_ID",f),this._patchConsoleMethods(),this._logging_bindings.subscribe(),(0,T.Rm)("Logger","Remote logging initialised...")}setSystem(U){this._system_id.next(U)}_patchConsoleMethods(){const U=["log","debug","info","warn","error"];for(const c of U)D(console,c,(...Z)=>this._handleEvent(c,Z))}_handleEvent(U,c,Z="console"){if(c.includes('"Logger"')||this._disable_handling)return;const F=[...c[0]];F[0]="string"==typeof F[0]?F[0].replace(/\%c/g,""):F[0],this._events.next({id:`${Z}-${(0,T.HO)(9999999999)}`,device_id:f,type:Z,subtype:U,timestamp:Date.now(),raw:c,data:F.filter(J=>"string"!=typeof J||!J.startsWith("color:")),metadata:this._metadata||null})}_bindTo(U,c,Z="Logger"){const F=(0,n.f_4)(U,Z).binding(c);return this.subscription(`bind:${c}`,F.bind()),F.listen()}static#e=this.\u0275fac=function(c){return new(c||K)};static#t=this.\u0275prov=w.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},4233:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>f});var t=l(467),n=l(9928),p=l(1038),v=l(5818),b=l(4903),E=l(4046),M=l(4217),S=l(3060),u=l(5354),I=l(3885),k=l(6202),T=l(3114),w=l(3953),D=l(345);let f=(()=>{class V extends u.T{set overrides(ne){this._overrides.next(ne),this._applyCssVariables()}listen(ne){return this._observables[ne]||(this._subjects[ne]=new n.t(null),this._observables[ne]=this._subjects[ne].asObservable()),this._observables[ne]}post(ne,U){this._observables[ne]||(this._subjects[ne]=new n.t(null),this._observables[ne]=this._subjects[ne].asObservable()),this._subjects[ne].next(U)}value(ne){return this._observables[ne]?this._subjects[ne].getValue():null}get title(){return this._title.getTitle()}set title(ne){this._title.setTitle(`${ne} | ${this.get("app.name")||this._app_name}`),this.get("app.analytics.tracking_id")&&this._analytics?.send("pagename",{title:ne})}constructor(ne,U){super(),this._title=ne,this._analytics=U,this._app_name="PlaceOS",this._overrides=new n.t([]),this._user_settings=new n.t({}),this._subjects={},this._observables={},this._pending_settings={};const c=new Date,Z=new Date(I.x.time),F=(0,v.r)(c,Z)?`Today at ${(0,b.GP)(Z,"h:mma")}`:(0,b.GP)(Z,"do MMM yyyy, h:mma");(0,M.Rm)("CORE",`${I.x.semver}`,null,"debug",!0),(0,M.Rm)("APP",`${I.x.hash} | Built: ${F}`,null,"debug",!0),this.init()}init(){var ne=this;return(0,t.A)(function*(){ne.get("debug")&&(window.debug=!0),ne.get("app")?.name&&(ne._app_name=ne.get("app").name),ne._app_name=location.pathname.replace(/[\\\/]/g,"").trim()||ne._app_name,(0,M.Xf)(ne._app_name.split("-").join("_").toUpperCase()),(0,M.Rm)("Settings","Successfully loaded settings"),ne._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.settings=ne),ne.subscription("user_settings",ne._user_settings.subscribe(Z=>ne._applyUserSettings(Z)));const U=yield k.U5.pipe((0,E.$)(Z=>!!Z)).toPromise(),c=yield(0,p.bpY)(U.id,"settings").toPromise();ne._user_settings.next(c.details||{}),ne._initDarkMode(),ne._applyTheme(),ne._setFontSize()})()}get app_name(){return this._app_name}get time_format(){return this.get("app.use_24_hour_time")?"HH:mm":"h:mm a"}get(ne){const U=ne.split(".");if("app"!==U[0])return(0,M.st)(U,this._pending_settings)??(0,M.st)(U,this._user_settings.getValue())??(0,M.st)(U,S.a);const c=[...this._overrides.getValue()];for(const Z of c){const F=(0,M.st)(U.slice(1),Z);if(null!=F)return F}return(0,M.st)(U,S.a)}saveUserSetting(ne,U){this._pending_settings[ne]=U,"dark_mode"===ne&&this.setTheme(U?"dark":""),"font_size"===ne&&this._setFontSize(),this.timeout("save_settings",()=>this._savePendingChanges(),5e3)}overrideCssVariable(ne,U,c=!1){let Z=document.getElementById(`css-var-overrides+${ne}`);Z||(Z=document.createElement("style"),Z.id=`css-var-overrides+${ne}`,document.head.appendChild(Z)),Z.innerText=`html, body { --${ne}: ${U} ${c?"!important":""}}`}setTheme(ne){this.get("theme")!==ne&&(this.saveUserSetting("theme",ne),this._applyTheme())}_applyCssVariables(){const ne=this.get("app.css_variables")||{};let U="body { ";for(const Z in ne)U+=`--${Z}: ${ne[Z]}; `;U+="}";let c=document.getElementById("css-var-overrides");c||(c=document.createElement("style"),c.id="css-var-overrides",document.head.appendChild(c)),c.innerText=U}_savePendingChanges(){var ne=this;return(0,t.A)(function*(){const U=(0,k.Ny)();!U?.id||!Object.keys(ne._pending_settings).length||(yield(0,p.D58)(U.id,{name:"settings",description:"",details:{...ne._user_settings.getValue(),...ne._pending_settings}}).toPromise(),ne._user_settings.next({...ne._user_settings.getValue(),...ne._pending_settings}),ne._pending_settings={})})()}_applyUserSettings(ne){return(0,t.A)(function*(){})()}_setFontSize(){this.get("font_size")&&this.overrideCssVariable("font-size",`${this.get("font_size")}px`)}_applyTheme(){const ne=this.get("theme"),U=document.body.classList.value.split(" ");for(const c of U)c.startsWith("theme-")&&document.body.classList.remove(c);ne?document.body.classList.add(`theme-${ne}`):document.body.classList.remove(`theme-${ne}`)}_initDarkMode(){this.get("theme")}static#e=this.\u0275fac=function(U){return new(U||V)(w.KVO(D.hE),w.KVO(T.p,8))};static#t=this.\u0275prov=w.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},3060:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>v});const v={debug:!0,composer:{domain:"",route:"/visitor-kiosk",protocol:"",port:"",use_domain:!1,local_login:!1},app:{name:"Visitor-Kiosk",title:"Visitor Kiosk",description:"Kiosk UI written with Angular Framework",short_name:"KIOSK",logo_light:{type:"img",src:"assets/logo-light.svg"},logo_dark:{type:"img",src:"assets/logo-dark.svg"},allow_self_registration:!0,explore:{colors:{"space-available":"#43a047","space-requestable":"#ffb300","space-unavailable":"#e53935","space-not-bookable":"#ccc","desk-available":"#43a047","desk-available-stroke":"#1b5e20","desk-unavailable":"#e53935","desk-unavailable-stroke":"#b71c1c","desk-reserved":"#ffb300","desk-reserved-stroke":"#ff6f00","desk-not-bookable":"#fff","desk-not-bookable-stroke":"#ccc","zone-low":"#43a047","zone-medium":"#ffb300","zone-high":"#e53935"},can_select_building:!1,show_legend_group_names:!0,legend:{Spaces:[{key:"space-available",name:"Space Available"},{key:"space-requestable",name:"Space available by request"},{key:"space-unavailable",name:"Space in use"},{key:"space-not-bookable",name:"Space not Bookable"}],Desks:[{key:"desk-available",name:"Desk Available"},{key:"desk-reserved",name:"Desk Reserved"},{key:"desk-unavailable",name:"Desk in use"},{key:"desk-not-bookable",name:"Desk not bookable"}],Zones:[{key:"zone-low",name:"Low Zone Utilisation"},{key:"zone-medium",name:"Medium Zone Utilisation"},{key:"zone-high",name:"High Zone Utilisation"}],Icons:[{key:"icon-bin",name:"Bin",icon:{type:"icon",class:"material-icons",content:"delete"}}]}},home:{background:"assets/img/skyline.png"}},mock:!1}},7619:(jt,Se,l)=>{"use strict";l.d(Se,{mx:()=>Mn,GF:()=>W,il:()=>Bn});var t=l(1113);const M={year:0,month:1,day:2,hour:3,minute:4,second:5},I={};function T(pe,Be,Tt,Wt,vn,Pt,dn){const at=new Date(0);return at.setUTCFullYear(pe,Be,Tt),at.setUTCHours(Wt,vn,Pt,dn),at}const w=36e5,D=6e4,f={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ne(pe,Be){const Tt=function E(pe,Be){const Tt=function k(pe){if(!I[pe]){const Be=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));I[pe]="06/25/2014, 00:00:00"===Be||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===Be?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:pe,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:pe,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return I[pe]}(Be);return"formatToParts"in Tt?function S(pe,Be){try{const Tt=pe.formatToParts(Be),Wt=[];for(let vn=0;vn<Tt.length;vn++){const Pt=M[Tt[vn].type];void 0!==Pt&&(Wt[Pt]=parseInt(Tt[vn].value,10))}return Wt}catch(Tt){if(Tt instanceof RangeError)return[NaN];throw Tt}}(Tt,pe):function u(pe,Be){const Tt=pe.format(Be),Wt=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(Tt);return[parseInt(Wt[3],10),parseInt(Wt[1],10),parseInt(Wt[2],10),parseInt(Wt[4],10),parseInt(Wt[5],10),parseInt(Wt[6],10)]}(Tt,pe)}(pe,Be),Wt=T(Tt[0],Tt[1]-1,Tt[2],Tt[3]%24,Tt[4],Tt[5],0).getTime();let vn=pe.getTime();const Pt=vn%1e3;return vn-=Pt>=0?Pt:1e3+Pt,Wt-vn}function c(pe,Be){return-23<=pe&&pe<=23&&(null==Be||0<=Be&&Be<=59)}const Z={};function wt(pe,Be){return-function V(pe,Be,Tt){if(!pe)return 0;let vn,Pt,Wt=f.timezoneZ.exec(pe);if(Wt)return 0;if(Wt=f.timezoneHH.exec(pe),Wt)return vn=parseInt(Wt[1],10),c(vn)?-vn*w:NaN;if(Wt=f.timezoneHHMM.exec(pe),Wt){vn=parseInt(Wt[2],10);const dn=parseInt(Wt[3],10);return c(vn,dn)?(Pt=Math.abs(vn)*w+dn*D,"+"===Wt[1]?-Pt:Pt):NaN}if(function F(pe){if(Z[pe])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:pe}),Z[pe]=!0,!0}catch{return!1}}(pe)){Be=new Date(Be||Date.now());const dn=Tt?Be:function K(pe){return T(pe.getFullYear(),pe.getMonth(),pe.getDate(),pe.getHours(),pe.getMinutes(),pe.getSeconds(),pe.getMilliseconds())}(Be),at=ne(dn,pe);return-(Tt?at:function U(pe,Be,Tt){let vn=pe.getTime()-Be;const Pt=ne(new Date(vn),Tt);if(Be===Pt)return Be;vn-=Pt-Be;const dn=ne(new Date(vn),Tt);return Pt===dn?Pt:Math.max(Pt,dn)}(Be,at,pe))}return NaN}(pe,Be)}var ln=l(4217);const Mn=Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone||"Australia/Sydney";function Bn(pe,Be=Mn){const Tt=wt(Be)-wt(Mn);return(0,t.A)(pe,Tt).valueOf()}const Ft={};function W(pe){if(Ft[pe])return Ft[pe];const Be=function Me(pe,Be=new Date){const Pt=new Intl.DateTimeFormat([],{timeZone:pe,hour12:!1,timeZoneName:"short"}).formatToParts(Be).find(pn=>"timeZoneName"===pn.type),at=(Pt?Pt.value:"GMT").match(/GMT([+-])(\d{1,2})(\d{2})?/);return at?("+"===at[1]?1:-1)*(60*parseInt(at[2],10)+(at[3]?parseInt(at[3],10):0)):0}(pe),Tt=Math.floor(Math.abs(Be)/60),Wt=Math.abs(Be)%60,vn=`${Be>0?"+":"-"}${(0,ln.go)(Tt,2)}${(0,ln.go)(Wt,2)}`;return Ft[pe]=vn,vn}},6202:(jt,Se,l)=>{"use strict";l.d(Se,{Ny:()=>K,U5:()=>f,VX:()=>V});var t=l(467),n=l(1038),p=l(9928),v=l(9714),b=l(8002),E=l(762);class S{constructor(U,c){this.count=U,this.source=c}call(U,c){return c.subscribe(new u(U,this.count,this.source))}}class u extends E.v{constructor(U,c,Z){super(U),this.count=c,this.source=Z}error(U){if(!this.isStopped){const{source:c,count:Z}=this;if(0===Z)return super.error(U);Z>-1&&(this.count=Z-1),c.subscribe(this._unsubscribeAndRecycle())}}}var I=l(5006),k=l(3693);const T=new k.Gp,w=new p.t(null),D=new p.t(0),f=w.asObservable();function V(){setTimeout((0,t.A)(function*(){const ne=yield(0,n.VLL)("current").toPromise();w.next(new k.Gp(ne))}),300)}function K(){return w.getValue()||T}setTimeout(()=>{try{if(jest)return}catch{}(0,v.zV)([(0,n.VLL)("current"),D]).pipe((0,b.c)(1e3),function M(ne=-1){return U=>U.lift(new S(ne,U))}(10),(0,I.T)(([ne])=>new k.Gp(ne))).subscribe(ne=>w.next(ne))},300)},3885:(jt,Se,l)=>{"use strict";l.d(Se,{x:()=>t});const t={dirty:!1,raw:"53dfdc5",hash:"53dfdc5",distance:null,tag:null,semver:null,suffix:"53dfdc5",semverString:null,version:"1.12.0",time:1728350557221}},8030:(jt,Se,l)=>{"use strict";l.d(Se,{Rt:()=>oe.R,l4:()=>te.l,hI:()=>t.h,In:()=>Z.I,Dd:()=>Z.D,Nw:()=>D.N,VJ:()=>X.V,VT:()=>K.V,o:()=>ne.o,eW:()=>J.e});var t=l(7327);l(3938),l(841),l(7375),l(4418),l(1193);var D=l(4918),K=(l(9489),l(877),l(1865)),ne=l(5384),Z=(l(2124),l(2734),l(2238)),J=(l(4616),l(5080)),X=(l(4921),l(620)),te=(l(8283),l(5991)),oe=(l(4633),l(5843));l(375),l(1038),l(4233),l(8026)},6539:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>k});var t=l(7375),n=l(8030),p=l(3953),v=l(177),b=l(9417),E=l(3881),M=l(450),S=l(9434);function u(T,w){if(1&T){const D=p.RV6();p.j41(0,"div",9)(1,"div",10)(2,"app-icon",11),p.EFF(3,"mode_night"),p.k0s()(),p.j41(4,"div",12),p.pXf(5,2),p.k0s(),p.j41(6,"mat-slide-toggle",13),p.bIt("ngModelChange",function(V){p.eBV(D);const K=p.XpG();return p.Njj(K.setDarkMode(V))}),p.k0s()()}if(2&T){const D=p.XpG();p.R7$(6),p.Y8G("ngModel",D.dark_mode)}}function I(T,w){if(1&T){const D=p.RV6();p.qex(0),p.j41(1,"div",15),p.pXf(2,3),p.k0s(),p.j41(3,"div",16)(4,"span",17),p.EFF(5,"A"),p.k0s(),p.j41(6,"mat-slider",18)(7,"input",19),p.bIt("ngModelChange",function(V){p.eBV(D);const K=p.XpG();return p.Njj(K.applySetting("font_size",V))}),p.k0s()(),p.j41(8,"span",6),p.EFF(9,"A"),p.k0s(),p.j41(10,"span",20),p.EFF(11),p.k0s()(),p.bVm()}if(2&T){const D=p.XpG();p.R7$(6),p.Y8G("min",10)("max",24)("step",2),p.R7$(),p.Y8G("ngModel",D.font_size),p.R7$(4),p.SpI(" ",D.font_size,"px ")}}let k=(()=>{class T extends t.Tv{get dark_mode(){return"dark"===this._settings.get("theme")}get can_change_dark_mode(){return!!this._settings.get("app.general.dark_mode")}get accessible(){return!!this._settings.get("accessible")}get font_size(){return this._settings.get("font_size")||16}constructor(D,f){super(),this._data=D,this._settings=f,this.applySetting=(V,K)=>this.timeout("apply_setting",()=>this._settings.saveUserSetting(V,K),1e3),this.close=()=>this._data?.close()}setDarkMode(D){const f=this._settings.get("theme");D&&"dark"!==f?this._settings.setTheme("dark"):!D&&"dark"===f&&this._settings.setTheme("light")}static#e=this.\u0275fac=function(f){return new(f||T)(p.rXU(n.Dd),p.rXU(t.h$))};static#t=this.\u0275cmp=p.VBU({type:T,selectors:[["accessibility-tooltip"]],features:[p.Vt3],decls:15,vars:3,consts:()=>{let D,f,V,K;return D=$localize`:d22b673a92b43eabbdebd80b1539a553703c84f66572705143012462182:Display & Accessibility`,f=$localize`:0f027c150c7e9465a5cdf64c4d07c33aca92384d127744830115363320:Large Accessibility Sizes`,V=$localize`:c943d5ecc32b916a210d7c984fe5f55771ad0b1a3279636347259347513:Dark Mode`,K=$localize`:3fc32876e34616b005d861eafe737cf4d27931848609643488577372847: Adjust your preferred reading size below. `,[D,f,V,K,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","space-x-2","p-2",3,"click"],[1,"text-2xl"],[1,""],["action","","class","flex items-center space-x-2 w-full text-left h-auto px-4",4,"ngIf"],["action","",1,"flex","items-center","space-x-2","w-full","text-left","h-auto","px-4"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200","my-2"],[1,"text-xl"],[1,"flex-1","text-sm"],[3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"px-8","py-4","bg-base-200","text-center"],[1,"flex","items-center","px-4","space-x-4"],[1,"text-sm"],[1,"flex-1","w-1/2","text-[16px]",3,"min","max","step"],["matSliderThumb","",1,"text-[16px]",3,"ngModelChange","ngModel"],[1,"text-base","py-1","px-2","rounded","bg-base-300","text-white","my-2"]]},template:function(f,V){1&f&&(p.j41(0,"div",4)(1,"div",5),p.bIt("click",function(){return V.close()}),p.j41(2,"app-icon",6),p.EFF(3,"arrow_back"),p.k0s(),p.j41(4,"div",7),p.pXf(5,0),p.k0s()(),p.DNE(6,u,7,1,"div",8),p.j41(7,"div",9)(8,"div",10)(9,"app-icon",11),p.EFF(10,"playlist_add"),p.k0s()(),p.j41(11,"div",12),p.pXf(12,1),p.k0s(),p.j41(13,"mat-slide-toggle",13),p.bIt("ngModelChange",function(ne){return V.applySetting("accessible",ne)}),p.k0s()(),p.DNE(14,I,12,5,"ng-container",14),p.k0s()),2&f&&(p.R7$(6),p.Y8G("ngIf",V.can_change_dark_mode),p.R7$(7),p.Y8G("ngModel",V.accessible),p.R7$(),p.Y8G("ngIf",V.accessible))},dependencies:[v.bT,b.me,b.BC,b.vS,E.IV,E.OU,M.sG,S.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%] > [action][_ngcontent-%COMP%]{border-top:1px solid #ccc}"]})}return T})()},5843:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>U});var t=l(3953),n=l(4006),p=l(7375),v=l(177),b=l(9417),E=l(6600),M=l(9115),S=l(3719),u=l(2798),I=l(9631),k=l(2765),T=l(9434);function w(c,Z){1&c&&(t.j41(0,"button",8)(1,"app-icon"),t.EFF(2,"close"),t.k0s()())}function D(c,Z){if(1&c){const F=t.RV6();t.j41(0,"div",9)(1,"mat-checkbox",10),t.bIt("ngModelChange",function(z){t.eBV(F);const X=t.XpG();return t.Njj(X.saveNotesSetting(z))}),t.EFF(2," Require notes for orders "),t.k0s()()}if(2&c){const F=t.XpG();t.R7$(),t.Y8G("ngModel",F.require_notes)}}function f(c,Z){if(1&c&&(t.j41(0,"mat-option",28),t.EFF(1),t.k0s()),2&c){const F=Z.$implicit;t.Y8G("value",F.id),t.R7$(),t.SpI(" ",F.name," ")}}function V(c,Z){if(1&c){const F=t.RV6();t.j41(0,"div",22),t.nrm(1,"div",23),t.j41(2,"mat-form-field",13)(3,"mat-select",24),t.mxI("ngModelChange",function(z){const X=t.eBV(F).$implicit;return t.DH7(X[0],z)||(X[0]=z),t.Njj(z)}),t.DNE(4,f,2,2,"mat-option",25),t.k0s()(),t.j41(5,"mat-form-field",13)(6,"input",26),t.mxI("ngModelChange",function(z){const X=t.eBV(F).$implicit;return t.DH7(X[1],z)||(X[1]=z),t.Njj(z)}),t.k0s(),t.j41(7,"mat-error"),t.EFF(8,"Rule value is required"),t.k0s()(),t.j41(9,"button",27),t.bIt("click",function(){const z=t.eBV(F).index,X=t.XpG().$implicit;return t.Njj(X.rules.splice(z,1))}),t.j41(10,"app-icon"),t.EFF(11,"delete"),t.k0s()()()}if(2&c){const F=Z.$implicit,J=t.XpG(2);t.R7$(3),t.R50("ngModel",F[0]),t.R7$(),t.Y8G("ngForOf",J.rule_types),t.R7$(2),t.R50("ngModel",F[1])}}function K(c,Z){if(1&c){const F=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"mat-form-field",13)(3,"input",14),t.mxI("ngModelChange",function(z){const X=t.eBV(F).$implicit;return t.DH7(X.name,z)||(X.name=z),t.Njj(z)}),t.k0s(),t.j41(4,"mat-error"),t.EFF(5,"Ruleset name is required"),t.k0s()(),t.j41(6,"button",15)(7,"app-icon"),t.EFF(8,"more_vert"),t.k0s()(),t.j41(9,"mat-menu",null,0)(11,"button",16),t.bIt("click",function(){const z=t.eBV(F).$implicit,X=t.XpG();return z.rules.push(["",""]),t.Njj(X.show_rules=z.id)}),t.j41(12,"div",17)(13,"app-icon",18),t.EFF(14,"add"),t.k0s(),t.j41(15,"div"),t.EFF(16,"Add Rule"),t.k0s()()(),t.j41(17,"button",16),t.bIt("click",function(){const z=t.eBV(F).$implicit,X=t.XpG();return t.Njj(X.show_rules=X.show_rules!==z.id?z.id:"")}),t.j41(18,"div",17)(19,"app-icon",18),t.EFF(20),t.k0s(),t.j41(21,"div"),t.EFF(22),t.k0s()()(),t.j41(23,"button",16),t.bIt("click",function(){const z=t.eBV(F).index,X=t.XpG();return t.Njj(X.rulesets.splice(z,1))}),t.j41(24,"div",19)(25,"app-icon",18),t.EFF(26,"delete"),t.k0s(),t.j41(27,"div"),t.EFF(28,"Remove Ruleset"),t.k0s()()()()(),t.j41(29,"div",20),t.DNE(30,V,12,3,"div",21),t.k0s()()}if(2&c){const F=Z.$implicit,J=t.sdS(10),z=t.XpG();t.R7$(3),t.R50("ngModel",F.name),t.R7$(3),t.Y8G("matMenuTriggerFor",J),t.R7$(14),t.JRh(z.show_rules===F.id?"expand_less":"expand_more"),t.R7$(2),t.SpI(" ",z.show_rules===F.id?"Hide":"Show"," Rules "),t.R7$(7),t.xc7("height",(z.show_rules===F.id?4*F.rules.length:0)+"em"),t.R7$(),t.Y8G("ngForOf",F.rules)}}const ne=[{id:"after_hour",name:"After Hour of Day"},{id:"before_hour",name:"Before Hour of Day"},{id:"min_length",name:"Min. Meeting Length"},{id:"max_length",name:"Max. Meeting Length"},{id:"is_before",name:"Is Hours before Meeting"},{id:"within_hours",name:"Within Hours before Meeting"},{id:"visitor_type",name:"Visitor Type"},{id:"groups",name:"User in Groups"}];let U=(()=>{class c extends p.Tv{get new_id(){return"ruleset-"+Math.floor(99999999*Math.random())}get can_save_notes(){return!!this._data.saveNotes}constructor(F){super(),this._data=F,this.event=new t.bkB,this.loading=!1,this.require_notes=this._data.require_notes,this.resource_name=this._data.resource_name||"Catering",this.rule_types=ne,this.rulesets=(F.config||[]).map(J=>(J.rules=J.rules.map(z=>[z[0],JSON.stringify(z[1])]),J))}saveNotesSetting(F){this.timeout("save-notes",()=>this._data.saveNotes?this._data.saveNotes(F):"",1e3)}saveChanges(){this.loading=!0;const F=this.rulesets.map(J=>({...J,rules:J.rules.map(z=>{let X=z[1];try{X=JSON.parse(z[1])}catch{}return[z[0],X]})}));this.event.emit({reason:"done",metadata:F})}static#e=this.\u0275fac=function(J){return new(J||c)(t.rXU(n.Vh))};static#t=this.\u0275cmp=t.VBU({type:c,selectors:[["attached-resource-config-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:12,vars:4,consts:[["menu","matMenu"],["icon","","mat-dialog-close","",4,"ngIf"],[1,"overflow-auto","text-center","max-w-lg","min-w-[32rem]","px-4","pt-2","pb-4","space-y-2"],["class","text-left p-2 rounded bg-base-200",4,"ngIf"],["btn","","matRipple","",1,"w-full",3,"click"],["class","ruleset mb-2",4,"ngFor","ngForOf"],[1,"flex","py-2","px-4","items-center","justify-end","border-t","border-solid","border-base-200"],["btn","","matRipple","",1,"w-36",3,"click"],["icon","","mat-dialog-close",""],[1,"text-left","p-2","rounded","bg-base-200"],[3,"ngModelChange","ngModel"],[1,"ruleset","mb-2"],[1,"flex","items-center","mb-2","space-x-2"],["appearance","outline",1,"flex-1","no-subscript"],["matInput","","name","name","placeholder","Zone ID, Category or Tag","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","space-x-2","text-error"],["name","rules",1,"overflow-hidden"],["class","flex items-center pl-7 h-16 space-x-2 relative",4,"ngFor","ngForOf"],[1,"flex","items-center","pl-7","h-16","space-x-2","relative"],[1,"absolute","left-3","top-1/2","-translate-y-full","w-4","h-32","border-b-2","border-l-2","border-base-200"],["name","booking-type","placeholder","Select Rule",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","value","placeholder","Rule value","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"click"],[3,"value"]],template:function(J,z){1&J&&(t.j41(0,"header")(1,"h3"),t.EFF(2),t.k0s(),t.DNE(3,w,3,0,"button",1),t.k0s(),t.j41(4,"main",2),t.DNE(5,D,3,1,"div",3),t.j41(6,"button",4),t.bIt("click",function(){return z.rulesets.push({id:z.new_id,rules:[]})}),t.EFF(7," New Ruleset "),t.k0s(),t.DNE(8,K,31,7,"div",5),t.k0s(),t.j41(9,"footer",6)(10,"button",7),t.bIt("click",function(){return z.saveChanges()}),t.EFF(11," Save Changes "),t.k0s()()),2&J&&(t.R7$(2),t.SpI("Edit ",z.resource_name," Configuration"),t.R7$(),t.Y8G("ngIf",!z.loading),t.R7$(2),t.Y8G("ngIf",z.can_save_notes),t.R7$(3),t.Y8G("ngForOf",z.rulesets))},dependencies:[v.Sq,v.bT,b.me,b.BC,b.YS,b.vS,E.wT,M.kk,M.fb,M.Cp,S.rl,S.TL,u.VO,E.r6,n.tx,I.fg,k.So,T.R],styles:["[name=rules][_ngcontent-%COMP%]{transition:height .2s}"]})}return c})()},3208:(jt,Se,l)=>{"use strict";l.d(Se,{U:()=>E});var t=l(467),n=l(7375),p=l(1038),v=l(3953);const b=new Map;let E=(()=>{class M extends n.Tv{constructor(u){super(),this._image_el=u}ngOnChanges(u){u.source&&this.source&&this._loadImage()}_loadImage(){var u=this;return(0,t.A)(function*(){if(!u._image_el||!(0,p.kup)())return u.timeout("load",()=>u._loadImage(),300);if(!u.source.includes("/api/engine/v2/uploads"))return void(u._image_el.nativeElement.src=u.source);if(b.has(u.source))return void(u._image_el.nativeElement.src=b.get(u.source));const I=(0,p.ShT)();document.cookie=`${"x-api-key"===I?"api-key="+encodeURIComponent((0,p.Kz4)()):"bearer_token="+encodeURIComponent(I)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`;let k=null;try{k=yield fetch(u.source).catch(D=>null)}catch{}if(!k||!k.ok)return void console.info("Failed to load image:",u.source);const T=yield k.blob(),w=URL.createObjectURL(T);b.set(u.source,w),u._image_el.nativeElement.src=w})()}static#e=this.\u0275fac=function(I){return new(I||M)(v.rXU(v.aKT))};static#t=this.\u0275dir=v.FsC({type:M,selectors:[["img","auth",""],["video","auth",""]],inputs:{source:"source"},features:[v.Vt3,v.OA$]})}return M})()},375:(jt,Se,l)=>{"use strict";l.d(Se,{D:()=>V});var t=l(467),n=l(3953),p=l(7375),v=l(2185),b=l(8363),E=l(9493),M=l(4006),S=l(177),u=l(6600),I=l(9183),k=l(2765),T=l(9434);function w(K,ne){if(1&K){const U=n.RV6();n.j41(0,"tr",14),n.bIt("click",function(){const Z=n.eBV(U).$implicit,F=n.XpG(2);return n.Njj(F.toggleRoom(Z.id))}),n.j41(1,"td"),n.nrm(2,"mat-checkbox",15),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",16)(6,"div",17),n.EFF(7),n.k0s()()()}if(2&K){const U=ne.$implicit,c=n.XpG(2);n.R7$(2),n.Y8G("checked",c.selected.includes(U.id)),n.R7$(2),n.JRh(U.display_name||U.name),n.R7$(2),n.AVh("bg-success",!(null!=c.disabled_rooms&&c.disabled_rooms.includes(U.id)))("bg-error",null==c.disabled_rooms?null:c.disabled_rooms.includes(U.id)),n.R7$(),n.SpI(" ",null!=c.disabled_rooms&&c.disabled_rooms.includes(U.id)?"Disabled":"Enabled"," ")}}function D(K,ne){if(1&K){const U=n.RV6();n.j41(0,"main",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"td",10),n.bIt("click",function(){n.eBV(U);const Z=n.XpG();return n.Njj(Z.toggleRoom("*"))}),n.nrm(5,"mat-checkbox",11),n.nI1(6,"async"),n.nI1(7,"async"),n.k0s(),n.nrm(8,"td"),n.j41(9,"td",12),n.EFF(10),n.nI1(11,"async"),n.k0s()()(),n.j41(12,"tbody"),n.DNE(13,w,8,7,"tr",13),n.nI1(14,"async"),n.k0s()()()}if(2&K){let U,c,Z;const F=n.XpG();n.R7$(5),n.Y8G("checked",(null==(U=n.bMT(6,4,F.rooms))?null:U.length)===F.selected.length)("indeterminate",F.selected.length>0&&(null==(c=n.bMT(7,6,F.rooms))?null:c.length)!==F.selected.length),n.R7$(5),n.SpI(" ",null==(Z=n.bMT(11,8,F.rooms))?null:Z.length," Room(s) "),n.R7$(3),n.Y8G("ngForOf",n.bMT(14,10,F.rooms))}}function f(K,ne){1&K&&(n.j41(0,"main",18),n.nrm(1,"mat-spinner",19),n.j41(2,"p"),n.EFF(3,"Saving disabled room list..."),n.k0s()())}let V=(()=>{class K{constructor(U,c){this._data=U,this._org=c,this.change=new n.bkB,this.loading=!1,this.selected=[],this.rooms=(0,b.Ot)(this._org.building.id),this.type=this._data.type,this.disabled_rooms=this._data.disabled_rooms}toggleRoom(U){var c=this;return(0,t.A)(function*(){if("*"===U){const Z=yield c.rooms.pipe((0,E.s)(1)).toPromise();c.selected=c.selected.length!==Z.length?Z.map(F=>F.id):[]}else c.selected=c.selected.includes(U)?c.selected.filter(Z=>Z!==U):[...c.selected,U]})()}enableSelected(){var U=this;return(0,t.A)(function*(){U.loading=!0;const Z=U.disabled_rooms.filter(F=>!U.selected.includes(F));U.disabled_rooms=Z,U.change.next(Z)})()}disableSelected(){var U=this;return(0,t.A)(function*(){U.loading=!0;const Z=(0,p.Am)(U.disabled_rooms.concat(U.selected));U.disabled_rooms=Z,U.change.next(Z)})()}static#e=this.\u0275fac=function(c){return new(c||K)(n.rXU(M.Vh),n.rXU(v.yb))};static#t=this.\u0275cmp=n.VBU({type:K,selectors:[["catering-rooms-state-modal"]],outputs:{change:"change"},decls:15,vars:3,consts:[["load_state",""],[1,"flex","items-center","justify-between","p-2"],[1,"p-2"],["icon","","mat-dialog-close",""],["class","max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"flex","items-center","p-2","justify-end","space-x-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"max-h-[65vh]","overflow-auto"],[1,"min-w-[32rem]"],[1,"border-b","border-base-200"],[1,"w-12",3,"click"],[1,"pointer-events-none",3,"checked","indeterminate"],[1,"text-right","text-xs"],["class","hover:bg-neutral:bg-base-100/5",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-neutral:bg-base-100/5",3,"click"],[1,"pointer-events-none",3,"checked"],[1,"text-center"],[1,"ml-auto","px-3","py-1","rounded-2xl","text-white","w-24"],[1,"w-64","h-48","p-8","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(c,Z){if(1&c){const F=n.RV6();n.j41(0,"div")(1,"header",1)(2,"h3",2),n.EFF(3),n.k0s(),n.j41(4,"button",3)(5,"app-icon"),n.EFF(6,"close"),n.k0s()()(),n.DNE(7,D,15,12,"main",4),n.j41(8,"footer",5)(9,"button",6),n.bIt("click",function(){return n.eBV(F),n.Njj(Z.enableSelected())}),n.EFF(10," Enable Selected "),n.k0s(),n.j41(11,"button",6),n.bIt("click",function(){return n.eBV(F),n.Njj(Z.disableSelected())}),n.EFF(12," Disable Selected "),n.k0s()()(),n.DNE(13,f,4,0,"ng-template",null,0,n.C5r)}if(2&c){const F=n.sdS(14);n.R7$(3),n.SpI("Set ",Z.type," Availability for Rooms"),n.R7$(4),n.Y8G("ngIf",!Z.loading)("ngIfElse",F)}},dependencies:[S.Sq,S.bT,u.r6,M.tx,I.LG,k.So,T.R,S.Jj],styles:["td[_ngcontent-%COMP%]{padding:.5rem}"]})}return K})()},3938:(jt,Se,l)=>{"use strict";l.d(Se,{J:()=>E});var t=l(3953),n=l(1038),p=l(7375),v=l(4046),b=l(8728);let E=(()=>{class M extends p.Tv{constructor(u,I){super(),this._element=u,this._renderer=I,this.sys="",this.mod="",this.index=1,this.bind="",this.exec="",this.delay=100,this.on_event="",this.params=null,this.ignore=!1,this.model=null,this.modelChange=new t.bkB,this._binding=!1,this._old_model=null}ngOnInit(){(0,n.XYg)()?.pipe((0,v.$)(u=>u)).subscribe(u=>this.bindVariable())}ngOnChanges(u){(u.sys||u.mod||u.bind)&&this.bindVariable(),u.model&&this._old_model!==this.model&&null!=this.model&&(this._old_model=this.model,this.execute()),u.on_event&&this.on_event&&this.subscription("on_event",this._renderer.listen(this._element.nativeElement,this.on_event,()=>this.execute()))}bindVariable(){(0,n.kup)()&&this.bind&&this.sys&&this.mod&&!this._binding&&this.timeout("bind",()=>{const I=(0,n.f_4)(this.sys,this.mod,this.index).binding(this.bind);this._binding=!0,this.subscription("binding",I.bind()),this.subscription("on_changes",I.listen().pipe((0,b.p)(k=>null!=k)).subscribe(k=>{setTimeout(()=>{this._binding=!1,this.clearTimeout("bound"),!this.ignore&&(this.model=k,this._old_model=this.model,this.modelChange.emit(this.model))},10)})),this.timeout("bound",()=>this._binding=!1,200)},20)}execute(){(0,n.kup)()&&this.exec&&this.sys&&this.mod&&!this._timers.execute&&this.timeout("execute",()=>{const u=(0,n.f_4)(this.sys,this.mod,this.index);let I=this.params;this.bind&&(I=this.params||[this.model]),u.execute(this.exec,I||[]).then(k=>{this.bind||(this.model=k,this._old_model=this.model,this.modelChange.emit(this.model))})},this.delay)}static#e=this.\u0275fac=function(I){return new(I||M)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:M,selectors:[["i","bind",""],["","binding",""],["co-bind"]],inputs:{sys:"sys",mod:"mod",index:"index",bind:"bind",exec:"exec",delay:"delay",on_event:[0,"onEvent","on_event"],params:"params",ignore:"ignore",model:"model"},outputs:{modelChange:"modelChange"},features:[t.Vt3,t.OA$]})}return M})()},5550:(jt,Se,l)=>{"use strict";l.d(Se,{C:()=>u});var t=l(8030),n=l(2185),p=l(3953),v=l(177),b=l(9417),E=l(5951),M=l(9434);function S(I,k){if(1&I){const T=p.RV6();p.j41(0,"mat-radio-button",8),p.bIt("click",function(){const D=p.eBV(T).$implicit,f=p.XpG();return p.Njj(f.setBuilding(D))}),p.EFF(1),p.k0s()}if(2&I){const T=k.$implicit;p.Y8G("value",T.id),p.R7$(),p.SpI(" ",T.display_name||T.name," ")}}let u=(()=>{class I{constructor(T,w){this._data=T,this._org=w,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.setBuilding=D=>{this._org.building=D,this._org.saveBuilding(D.id),this._data?.close()},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(w){return new(w||I)(p.rXU(t.Dd),p.rXU(n.yb))};static#t=this.\u0275cmp=p.VBU({type:I,selectors:[["building-select"]],decls:14,vars:11,consts:()=>{let T;return T=$localize`:f6bc545a20f571c426f74d4d3522b71334f2b8454543839253815117286: Select a building location `,[T,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(w,D){if(1&w&&(p.j41(0,"div",1),p.bIt("click",function(){return D.close()}),p.j41(1,"div",2)(2,"app-icon",3),p.EFF(3,"arrow_back"),p.k0s(),p.j41(4,"div",4),p.EFF(5),p.nI1(6,"async"),p.nI1(7,"async"),p.k0s()(),p.j41(8,"div",5),p.pXf(9,0),p.k0s(),p.j41(10,"mat-radio-group",6),p.nI1(11,"async"),p.DNE(12,S,2,2,"mat-radio-button",7),p.nI1(13,"async"),p.k0s()()),2&w){let f,V;p.R7$(5),p.SpI(" ",(null==(f=p.bMT(6,3,D.building))?null:f.display_name)||(null==(f=p.bMT(7,5,D.building))?null:f.name)," "),p.R7$(5),p.Y8G("ngModel",null==(V=p.bMT(11,7,D.building))?null:V.id),p.R7$(2),p.Y8G("ngForOf",p.bMT(13,9,D.buildings))}},dependencies:[v.Sq,b.BC,b.vS,E.VT,E._g,M.R,v.Jj]})}return I})()},6062:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>p});var t=l(2185),n=l(3953);let p=(()=>{class v{constructor(E){this._org=E}transform(E){return this._org.buildings.find(M=>E instanceof Array?E.includes(M.id):M.id===E)}static#e=this.\u0275fac=function(M){return new(M||v)(n.rXU(t.yb,16))};static#t=this.\u0275pipe=n.EJ8({name:"building",type:v,pure:!0})}return v})()},5991:(jt,Se,l)=>{"use strict";l.d(Se,{l:()=>u});var t=l(4006),n=l(222),p=l(3953),v=l(177),b=l(9434),E=l(6781);function M(I,k){if(1&I&&(p.nrm(0,"main",4),p.nI1(1,"safe")),2&I){const T=p.XpG();p.Y8G("innerHTML",p.i5U(1,1,T.changelog,"html"),p.npT)}}function S(I,k){1&I&&(p.j41(0,"div",5)(1,"app-icon",6),p.EFF(2,"close"),p.k0s(),p.j41(3,"div",7),p.EFF(4,"No changelog"),p.k0s()())}let u=(()=>{class I{constructor(T){this._data=T}get changelog(){return(0,n.xI)(this._data.changelog||"",{async:!1})}static#e=this.\u0275fac=function(w){return new(w||I)(p.rXU(t.Vh))};static#t=this.\u0275cmp=p.VBU({type:I,selectors:[["changelog-modal"]],decls:9,vars:2,consts:[["empty_state",""],["mat-dialog-title",""],["icon","","mat-dialog-close",""],["class","p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"p-4","markdown","max-h-[65vh]","max-w-[80vw]","overflow-auto",3,"innerHTML"],[1,"flex","items-center","justify-center","flex-col","space-y-2"],[1,"text-3xl"],[1,"text"]],template:function(w,D){if(1&w&&(p.j41(0,"header")(1,"h3",1),p.EFF(2,"Changelog"),p.k0s(),p.j41(3,"button",2)(4,"app-icon"),p.EFF(5,"close"),p.k0s()()(),p.DNE(6,M,2,4,"main",3)(7,S,5,0,"ng-template",null,0,p.C5r)),2&w){const f=p.sdS(8);p.R7$(6),p.Y8G("ngIf",D.changelog)("ngIfElse",f)}},dependencies:[v.bT,t.tx,t.BI,b.R,E.m]})}return I})()},7080:(jt,Se,l)=>{"use strict";l.d(Se,{K:()=>ce});var t=l(7375),n=l(2185),p=l(1038),v=l(9928),b=l(9714),E=l(8728),M=l(5006),S=l(9090),u=l(8712),I=l(4119),k=l(222),T=l(3953);let w=(()=>{class le extends t.Tv{get connected(){return!!this._socket}constructor(Q,R){super(),this._org=Q,this._settings=R,this._binding=new v.t(""),this._chat_messages=new v.t([]),this._progress_message=new v.t(null),this._chat_system=(0,b.zV)([this._org.active_building,this._binding]).pipe((0,E.p)(([L])=>!!L),(0,M.T)(([L,H])=>H||this._org.binding("chat_room"))),this._chat_id="",this.chat_hint=this._chat_system.pipe((0,E.p)(L=>!!L),(0,S.n)(L=>{const fe=(0,p.f_4)(L,"LLM").binding("user_hint");return this.subscription("binding:LLM:user_hint",fe.bind()),fe.listen()}),(0,u.t)(1)),this._change=new v.t(0),this._chat_pipe=(0,b.zV)([this._chat_system,this._change]).pipe((0,S.n)(([L])=>{const H="x-api-key"!==(0,p.ShT)()?`bearer_token=${encodeURIComponent((0,p.ShT)())}`:`x-api-key=${(0,p.Kz4)()}`,fe=`ws${location.origin.replace("http","")}/api/engine/v2/chatgpt/chat/${encodeURIComponent(L)}?${H}${this._chat_id?"&resume="+encodeURIComponent(this._chat_id):""}`;return this._socket=(0,I.K)({url:fe,serializer:Ie=>"object"==typeof Ie?JSON.stringify(Ie):Ie,deserializer:Ie=>{let Xe=Ie.data;try{Xe=JSON.parse(Ie.data)}catch{}return Xe}}),this.subscription("chat-ws",this._socket.subscribe(Ie=>this._onMessage(Ie),Ie=>{(0,t.Rm)("CHAT","Connection error:",[Ie],"error"),this._cleanup()},()=>this._cleanup())),this._socket}),(0,u.t)(1)),this.messages=this._chat_messages.asObservable(),this.progress=this._progress_message.asObservable()}setBinding(Q){this._binding.next(Q)}startChat(){if(!this._socket)return this._change.next(Date.now()),(0,t.Rm)("CHAT","Starting chat connection."),this.subscription("chat",this._chat_pipe.subscribe()),()=>this.endChat()}endChat(){(0,t.Rm)("CHAT","Dropping chat connection."),this._socket?.complete(),this._cleanup()}close(){this.endChat(),this._chat_id="",this._chat_messages.next([])}sendMessage(Q){Q&&(this._onMessage({chat_id:"",message:Q,user_id:(0,t.Ny)().id}),this._socket?.next(Q))}_timeoutSocket(Q=55e3){this.timeout("socket",()=>{const R=this._chat_messages.getValue();if(R.length>0&&"assistant"!==R[R.length-1].user_id)return this._timeoutSocket(Q);this.endChat()},Q)}_cleanup(){this._socket=null,this.unsubWith("chat")}_onMessage(Q){Q.chat_id&&(this._chat_id=Q.chat_id),"progress"===Q.type?(this._progress_message.next({id:`msg-${(0,t.DU)(6)}`,chat_id:Q.chat_id,message:Q.message,content:k.qg(Q.message,{async:!1}),user_id:Q.user_id||"assistant",function:Q.function,timestamp:Date.now()}),"task_complete"===Q.function&&this._settings.post("CHAT:task_complete",Q.task_id)):(this._chat_messages.next([...this._chat_messages.getValue(),{id:`msg-${(0,t.DU)(6)}`,chat_id:Q.chat_id,message:Q.message,content:k.qg(Q.message,{async:!1}),user_id:Q.user_id||"assistant",timestamp:Date.now()}]),"response"===Q.type&&this._progress_message.next(null)),this._timeoutSocket()}static#e=this.\u0275fac=function(R){return new(R||le)(T.KVO(n.yb),T.KVO(t.h$))};static#t=this.\u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var D=l(177),f=l(9417),V=l(6600),K=l(9434),ne=l(4616),U=l(7025);const c=["input"],Z=["container"];function F(le,ve){if(1&le&&(T.j41(0,"div",21),T.EFF(1),T.nI1(2,"async"),T.k0s()),2&le){const Q=T.XpG(3);T.R7$(),T.SpI(" ",T.bMT(2,1,Q.hint)," ")}}function J(le,ve){1&le&&(T.j41(0,"div",27),T.EFF(1," Assistant "),T.k0s())}function z(le,ve){if(1&le){const Q=T.RV6();T.j41(0,"div",22),T.nI1(1,"async"),T.bIt("click",function(){const L=T.eBV(Q).$implicit,H=T.XpG(3);return T.Njj(H.show_time[L.id]=!H.show_time[L.id])}),T.j41(2,"div",23),T.DNE(3,J,2,0,"div",24),T.j41(4,"div",25),T.EFF(5),T.nI1(6,"dateFrom"),T.k0s()(),T.nrm(7,"div",26),T.nI1(8,"sanitize"),T.k0s()}if(2&le){const Q=ve.$implicit,R=T.XpG(3);T.AVh("pr-4",Q.user_id!==R.user.id)("pl-4",Q.user_id===R.user.id)("items-left",Q.user_id!==R.user.id)("items-end",Q.user_id===R.user.id)("waiting-margin",T.bMT(1,13,R.waiting)),T.R7$(3),T.Y8G("ngIf",Q.user_id!==R.user.id),T.R7$(2),T.SpI(" ",T.bMT(6,15,Q.timestamp+R.offset)," "),T.R7$(2),T.Y8G("innerHTML",T.bMT(8,17,Q.content),T.npT)}}function X(le,ve){if(1&le&&(T.nrm(0,"div",35),T.nI1(1,"async"),T.nI1(2,"sanitize")),2&le){const Q=T.XpG(4);T.Y8G("innerHTML",T.bMT(2,3,T.bMT(1,1,Q.progress).content),T.npT)}}function $(le,ve){if(1&le){const Q=T.RV6();T.j41(0,"div",28)(1,"button",29),T.bIt("click",function(){T.eBV(Q);const L=T.XpG(3);return T.Njj(L.show_info=!L.show_info)}),T.j41(2,"div",23)(3,"app-icon",30),T.EFF(4),T.nI1(5,"async"),T.k0s(),T.j41(6,"p",31),T.EFF(7),T.nI1(8,"async"),T.nI1(9,"async"),T.k0s()(),T.j41(10,"div",32),T.nrm(11,"div",33),T.DNE(12,X,3,5,"div",34),T.k0s()()()}if(2&le){const Q=T.XpG(3);T.R7$(4),T.JRh(Q.icons[T.bMT(5,3,Q.progress).function]||"info"),T.R7$(3),T.SpI(" ",T.bMT(8,5,Q.progress).message||T.bMT(9,7,Q.progress).function," "),T.R7$(5),T.Y8G("ngIf",Q.show_info)}}function te(le,ve){if(1&le&&(T.j41(0,"div",36),T.nrm(1,"div",37)(2,"div",38)(3,"div",39),T.j41(4,"span",40),T.EFF(5,"Waiting for reply..."),T.k0s()()),2&le){const Q=T.XpG(3);T.xc7("bottom",Q.height+8+"px")}}function G(le,ve){if(1&le){const Q=T.RV6();T.j41(0,"div",6)(1,"div",7)(2,"h3",8),T.EFF(3,"Virtual Assistant"),T.k0s(),T.j41(4,"button",9),T.bIt("click",function(){T.eBV(Q);const L=T.XpG(2);return T.Njj(L.toggleChat())}),T.j41(5,"app-icon"),T.EFF(6,"close"),T.k0s()()(),T.j41(7,"div",10,0)(9,"div",11)(10,"app-icon",12),T.EFF(11,"forum"),T.k0s(),T.j41(12,"p",13),T.EFF(13),T.nrm(14,"br"),T.EFF(15," Welcome to the virtual assistant. "),T.k0s()(),T.DNE(16,F,3,3,"div",14),T.nI1(17,"async"),T.DNE(18,z,9,19,"div",15),T.nI1(19,"async"),T.DNE(20,$,13,9,"div",16),T.nI1(21,"async"),T.k0s(),T.DNE(22,te,6,2,"div",17),T.nI1(23,"async"),T.j41(24,"div",18)(25,"textarea",19,1),T.mxI("ngModelChange",function(L){T.eBV(Q);const H=T.XpG(2);return T.DH7(H.message,L)||(H.message=L),T.Njj(L)}),T.bIt("ngModelChange",function(){T.eBV(Q);const L=T.XpG(2);return T.Njj(L.resizeInput())})("keyup.enter",function(){T.eBV(Q);const L=T.XpG(2);return T.Njj(L.sendMessage())}),T.k0s(),T.j41(27,"button",20),T.bIt("click",function(){T.eBV(Q);const L=T.XpG(2);return T.Njj(L.sendMessage())}),T.j41(28,"app-icon"),T.EFF(29,"send"),T.k0s()()()()}if(2&le){const Q=T.XpG(2);T.R7$(13),T.SpI(" Hi ",Q.user.name,". "),T.R7$(3),T.Y8G("ngIf",T.bMT(17,9,Q.hint)),T.R7$(2),T.Y8G("ngForOf",T.bMT(19,11,Q.messages)),T.R7$(2),T.Y8G("ngIf",T.bMT(21,13,Q.progress)),T.R7$(2),T.Y8G("ngIf",T.bMT(23,15,Q.waiting)),T.R7$(3),T.xc7("height",Q.height+"px"),T.R50("ngModel",Q.message),T.R7$(2),T.Y8G("disabled",!Q.message)}}function oe(le,ve){if(1&le){const Q=T.RV6();T.j41(0,"div",3)(1,"button",4),T.bIt("click",function(){T.eBV(Q);const L=T.XpG();return T.Njj(L.toggleChat())}),T.j41(2,"app-icon"),T.EFF(3,"chat"),T.k0s()(),T.DNE(4,G,30,17,"div",5),T.k0s()}if(2&le){const Q=T.XpG();T.R7$(4),T.Y8G("ngIf",Q.show)}}let ce=(()=>{class le extends t.Tv{get can_show(){return this._settings.get("app.chat.enabled")}toggleChat(){this.show=!this.show,this.show||this._chat.close()}constructor(Q,R){super(),this._settings=Q,this._chat=R,this.show=!1,this.show_info=!1,this.message="",this.show_time={},this.offset=0,this.height=56,this.icons={list_function_schemas:"help",call_function:"settings",task_complete:"check_circle"},this.hint=this._chat.chat_hint,this.messages=this._chat.messages,this.progress=this._chat.progress,this.waiting=this._chat.messages.pipe((0,M.T)(L=>0!==L.length&&L[L.length-1]?.user_id===this.user?.id))}ngOnInit(){this.subscription("current_user",t.U5.subscribe(Q=>this.user=Q)),this.subscription("hint",this.hint.subscribe(()=>this.scrollToBottom(500))),this.subscription("messages",this.messages.subscribe(()=>this.scrollToBottom())),this.subscription("progress",this.progress.subscribe(Q=>Q?this.scrollToBottom():this.show_info=!1)),this.interval("offset",()=>this.offset=this.offset?0:1,2e4)}resizeInput(){this.height=Math.max(this._input_el.nativeElement.scrollHeight,56)}sendMessage(){if(this.message){if(!this._chat.connected)return this._chat.startChat(),this.timeout("send",()=>this.sendMessage(),100);this._chat.sendMessage(this.message),this.message="",this.height=56,setTimeout(()=>this._input_el.nativeElement.focus(),100)}}scrollToBottom(Q=300){this.timeout("scroll",()=>{this._container_el?.nativeElement&&(this._container_el.nativeElement.scrollTop=this._container_el.nativeElement.scrollHeight)},Q)}static#e=this.\u0275fac=function(R){return new(R||le)(T.rXU(t.h$),T.rXU(w))};static#t=this.\u0275cmp=T.VBU({type:le,selectors:[["global-chat"]],viewQuery:function(R,L){if(1&R&&(T.GBs(c,5),T.GBs(Z,5)),2&R){let H;T.mGM(H=T.lsd())&&(L._input_el=H.first),T.mGM(H=T.lsd())&&(L._container_el=H.first)}},features:[T.Vt3],decls:1,vars:1,consts:[["container",""],["input",""],["class","absolute bottom-0 right-0 p-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","p-2"],["icon","","matRipple","",1,"bg-base-100","rounded-full","border","border-base-300","shadow",3,"click"],["class","absolute bottom-2 right-2 bg-base-200 rounded-xl border border-base-300 shadow overflow-hidden w-[40rem] max-w-[calc(100vw-1rem)]",4,"ngIf"],[1,"absolute","bottom-2","right-2","bg-base-200","rounded-xl","border","border-base-300","shadow","overflow-hidden","w-[40rem]","max-w-[calc(100vw-1rem)]"],[1,"flex","items-center","justify-between","bg-base-100","w-full","p-2","border-b","border-base-300"],[1,"pl-4"],["icon","","matRipple","",3,"click"],[1,"h-[32rem]","max-h-[60vh]","overflow-auto"],[1,"w-full","flex","flex-col","items-center","justify-center","p-8","space-y-2"],[1,"text-8xl"],[1,"text-center","text-xl"],["class","m-2 bg-base-100 border-base-300 p-4 rounded shadow text-sm",4,"ngIf"],["class","flex flex-col m-2",3,"pr-4","pl-4","items-left","items-end","waiting-margin","click",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],["class","absolute right-2 flex items-center justify-center space-x-2 p-1 rounded-2xl bg-base-100 border border-neutral",3,"bottom",4,"ngIf"],[1,"flex","bg-base-100","focus-within:outline","outline-info","border-t","border-base-300","max-h-[10rem]","overflow-y-auto"],["placeholder","New message...",1,"p-4","flex-1","w-1/2","focus:outline-none","resize-none","overflow-hidden",3,"ngModelChange","keyup.enter","ngModel"],["icon","","matRipple","",1,"mt-2",3,"click","disabled"],[1,"m-2","bg-base-100","border-base-300","p-4","rounded","shadow","text-sm"],[1,"flex","flex-col","m-2",3,"click"],[1,"flex","items-center","space-x-2"],["class","text-sm text-base-content opacity-60 px-2 py-1",4,"ngIf"],[1,"text-xs","text-base-content","opacity-40","px-2","py-1"],["message","",1,"bg-base-100","border-base-300","p-4","rounded","shadow","text-sm","markdown","selectable",3,"innerHTML"],[1,"text-sm","text-base-content","opacity-60","px-2","py-1"],[1,"p-4"],[1,"block","p-2","rounded","border-base-300","bg-info","text-info-content","w-full",3,"click"],[1,"text-2xl"],[1,"text-sm"],[1,"relative","overflow-hidden","w-full","rounded"],[1,"absolute","inset-0","bg-base-100","opacity-10"],["class","text-xs text-mono text-left p-2 break-words",3,"innerHTML",4,"ngIf"],[1,"text-xs","text-mono","text-left","p-2","break-words",3,"innerHTML"],[1,"absolute","right-2","flex","items-center","justify-center","space-x-2","p-1","rounded-2xl","bg-base-100","border","border-neutral"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-1"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-2"],[1,"sr-only"]],template:function(R,L){1&R&&T.DNE(0,oe,5,1,"div",2),2&R&&T.Y8G("ngIf",L.can_show)},dependencies:[D.Sq,D.bT,f.me,f.BC,f.vS,V.r6,K.R,D.Jj,ne.a,U.l],styles:[".anim-delay-1[_ngcontent-%COMP%]{animation-delay:.25s}.anim-delay-2[_ngcontent-%COMP%]{animation-delay:.5s}.waiting-margin[_ngcontent-%COMP%]:last-child{padding-bottom:2rem}"]})}return le})()},7327:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>mt});var t=l(177),n=l(9417),p=l(4006),v=l(9115),b=l(3719),E=l(2798),M=l(850),S=l(5084),u=l(9631),I=l(6471),k=l(9183),T=l(3801),w=l(6600),D=l(6695),f=l(5887),V=l(6939),K=l(4823),ne=l(2765),U=l(5951),c=l(3881),Z=l(450),F=l(9888),X=(l(5024),l(7336),l(3953));l(8203);const te=["button"],G=["*"];function oe(ut,Pn){if(1&ut&&X.nrm(0,"mat-pseudo-checkbox",3),2&ut){const Yt=X.XpG();X.Y8G("disabled",Yt.disabled)}}function ce(ut,Pn){if(1&ut&&X.nrm(0,"mat-pseudo-checkbox",3),2&ut){const Yt=X.XpG();X.Y8G("disabled",Yt.disabled)}}const le=new X.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function ve(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),Q=new X.nKC("MatButtonToggleGroup");let L=0;class H{constructor(Pn,Yt){this.source=Pn,this.value=Yt}}let Ie=(()=>{class ut{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(Yt){this._tabIndex=Yt,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(Yt){this._appearance=Yt}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(Yt){Yt!==this._checked&&(this._checked=Yt,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(Yt){this._disabled=Yt}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(Yt){this._disabledInteractive=Yt}constructor(Yt,Dn,Sn,Jn,ci,Li){this._changeDetectorRef=Dn,this._elementRef=Sn,this._focusMonitor=Jn,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new X.bkB;const Ui=Number(ci);this.tabIndex=Ui||0===Ui?Ui:null,this.buttonToggleGroup=Yt,this.appearance=Li&&Li.appearance?Li.appearance:"standard",this.disabledInteractive=Li?.disabledInteractive??!1}ngOnInit(){const Yt=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+L++,Yt&&(Yt._isPrechecked(this)?this.checked=!0:Yt._isSelected(this)!==this._checked&&Yt._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const Yt=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),Yt&&Yt._isSelected(this)&&Yt._syncButtonToggle(this,!1,!1,!0)}focus(Yt){this._buttonElement.nativeElement.focus(Yt)}_onButtonClick(){if(this.disabled)return;const Yt=!!this.isSingleSelector()||!this._checked;if(Yt!==this._checked&&(this._checked=Yt,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const Dn=this.buttonToggleGroup._buttonToggles.find(Sn=>0===Sn.tabIndex);Dn&&(Dn.tabIndex=-1),this.tabIndex=0}this.change.emit(new H(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(Dn){return new(Dn||ut)(X.rXU(Q,8),X.rXU(X.gRc),X.rXU(X.aKT),X.rXU(F.FN),X.kS0("tabindex"),X.rXU(le,8))};static#t=this.\u0275cmp=X.VBU({type:ut,selectors:[["mat-button-toggle"]],viewQuery:function(Dn,Sn){if(1&Dn&&X.GBs(te,5),2&Dn){let Jn;X.mGM(Jn=X.lsd())&&(Sn._buttonElement=Jn.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(Dn,Sn){1&Dn&&X.bIt("focus",function(){return Sn.focus()}),2&Dn&&(X.BMQ("aria-label",null)("aria-labelledby",null)("id",Sn.id)("name",null),X.AVh("mat-button-toggle-standalone",!Sn.buttonToggleGroup)("mat-button-toggle-checked",Sn.checked)("mat-button-toggle-disabled",Sn.disabled)("mat-button-toggle-disabled-interactive",Sn.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===Sn.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",X.L39],appearance:"appearance",checked:[2,"checked","checked",X.L39],disabled:[2,"disabled","disabled",X.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",X.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[X.GFd,X.aNF],ngContentSelectors:G,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(Dn,Sn){if(1&Dn){const Jn=X.RV6();X.NAR(),X.j41(0,"button",1,0),X.bIt("click",function(){return X.eBV(Jn),X.Njj(Sn._onButtonClick())}),X.j41(2,"span",2),X.DNE(3,oe,1,1,"mat-pseudo-checkbox",3)(4,ce,1,1,"mat-pseudo-checkbox",3),X.SdG(5),X.k0s()(),X.nrm(6,"span",4)(7,"span",5)}if(2&Dn){const Jn=X.sdS(1);X.Y8G("id",Sn.buttonId)("disabled",Sn.disabled&&!Sn.disabledInteractive||null),X.BMQ("role",Sn.isSingleSelector()?"radio":"button")("tabindex",Sn.disabled&&!Sn.disabledInteractive?-1:Sn.tabIndex)("aria-pressed",Sn.isSingleSelector()?null:Sn.checked)("aria-checked",Sn.isSingleSelector()?Sn.checked:null)("name",Sn._getButtonName())("aria-label",Sn.ariaLabel)("aria-labelledby",Sn.ariaLabelledby)("aria-disabled",Sn.disabled&&Sn.disabledInteractive?"true":null),X.R7$(3),X.vxM(Sn.buttonToggleGroup&&Sn.checked&&!Sn.buttonToggleGroup.multiple&&!Sn.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),X.R7$(),X.vxM(Sn.buttonToggleGroup&&Sn.checked&&Sn.buttonToggleGroup.multiple&&!Sn.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),X.R7$(3),X.Y8G("matRippleTrigger",Jn)("matRippleDisabled",Sn.disableRipple||Sn.disabled)}},dependencies:[w.r6,w.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return ut})(),Xe=(()=>{class ut{static#e=this.\u0275fac=function(Dn){return new(Dn||ut)};static#t=this.\u0275mod=X.$C({type:ut});static#n=this.\u0275inj=X.G2t({imports:[w.yE,w.pZ,Ie,w.yE]})}return ut})();var bt=l(1626),rt=l(1780),ot=(l(3938),l(9434));l(4418);var Te=l(1193),St=(l(841),l(4918));l(1865),l(5384),l(6781);var Tt=l(4616),vn=(l(2734),l(2238)),at=(l(5080),l(4921),l(2042));l(7375),l(785);var nn=l(620),xn=l(5277),hi=(l(7022),l(8283),l(8482)),Ht=l(494);l(2354),l(5991),l(2185),l(6062);var un=l(4633),We=(l(5550),l(6962),l(6926),l(6539),l(3835),l(3208));l(6871),l(2124),l(4846),l(7080),l(7025),l(5843),l(907),l(375);var wi=l(9489),Ki=l(877),jn=(l(7558),l(6821),l(8328),l(2897),l(3051));new((l(3005),l(467),l(1038)).kMc);const q=[M.jL,v.Cn,b.RG,E.Ve,w.pZ,M.jL,E.Ve,p.hM,S.X6,u.fS,T.FQ,k.D6,I.YN,D.Ou,f.N0,V.jc,at.NQ,Ht.E9,K.uc,ne.g7,U.Wk,c.Ez,Z.mV,Xe];let mt=(()=>{class ut{static#e=this.\u0275fac=function(Dn){return new(Dn||ut)};static#t=this.\u0275mod=X.$C({type:ut});static#n=this.\u0275inj=X.G2t({providers:[{provide:St.N,useValue:{}},(0,bt.$R)((0,bt.Sx)())],imports:[t.MD,n.YN,n.X1,rt.h.forChild(),q,M.jL,v.Cn,b.RG,E.Ve,w.pZ,M.jL,E.Ve,p.hM,S.X6,u.fS,T.FQ,k.D6,I.YN,D.Ou,f.N0,V.jc,at.NQ,Ht.E9,K.uc,ne.g7,U.Wk,c.Ez,Z.mV,Xe,rt.h]})}return ut})();X.wjB(Te.a,function(){return[t.bT,We.U]},[]),X.wjB(St.S,function(){return[t.bT,w.r6,K.oV,ot.R,wi.F,Ki.B]},function(){return[t.Jj]}),X.wjB(nn.V,function(){return[t.bT,w.r6,p.tx,k.LG,ot.R,St.S]},[]),X.wjB(xn.H,function(){return[t.Sq,t.bT,w.r6,ot.R,We.U]},[]),X.wjB(hi.O,function(){return[t.Sq,t.bT,t.ux,t.e1,t.fG,n.me,n.BC,n.vS,w.r6,Ht.yg,Ht.E$,Ht.d6,ot.R,vn.I]},function(){return[t.Jj,t.vh,Tt.a]}),X.wjB(un.N,function(){return[t.bT,w.r6,K.oV,ot.R,Te.a,vn.I,jn.q]},function(){return[t.Jj,t.vh,rt.D9]})},841:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>T,f:()=>k});var t=l(3953),n=l(4006),p=l(5354),v=l(177),b=l(6600),E=l(9183),M=l(9434);function S(w,D){if(1&w&&(t.j41(0,"main",5),t.nrm(1,"app-icon",6)(2,"p",7),t.k0s()),2&w){const f=t.XpG();t.R7$(),t.Y8G("icon",f.icon),t.R7$(),t.Y8G("innerHTML",f.content,t.npT)}}function u(w,D){if(1&w){const f=t.RV6();t.j41(0,"footer",8)(1,"button",9),t.EFF(2),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(f);const K=t.XpG();return t.Njj(K.onConfirm())}),t.EFF(4),t.k0s()()}if(2&w){const f=t.XpG();t.R7$(2),t.SpI(" ",f.cancel_text," "),t.R7$(2),t.SpI(" ",f.confirm_text," ")}}function I(w,D){if(1&w&&(t.j41(0,"main",11)(1,"div",12),t.nrm(2,"mat-spinner",13),t.j41(3,"p"),t.EFF(4),t.k0s()()()),2&w){const f=t.XpG();t.R7$(4),t.JRh(f.loading)}}const k={height:"auto",width:"28em",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)"};let T=(()=>{class w extends p.T{constructor(f,V){super(),this._dialog_ref=f,this._data=V,this.event=new t.bkB,this.title=this._data.title||"Confirm",this.content=this._data.content||"Are you sure?",this.confirm_text=this._data.confirm_text||"Accept",this.cancel_text=this._data.cancel_text||"Cancel",this.icon=this._data.icon||{class:"material-icons",content:"done"},this.disableClose=()=>this._dialog_ref.disableClose=!0,this.enableClose=()=>this._dialog_ref.disableClose=!1}ngOnInit(){this._data.close_delay&&this.timeout("close",()=>this._dialog_ref.close(),this._data.close_delay)}onConfirm(){this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(V){return new(V||w)(t.rXU(n.CP),t.rXU(n.Vh))};static#t=this.\u0275cmp=t.VBU({type:w,selectors:[["confirm-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:7,vars:4,consts:[["load_state",""],[1,"px-4","py-3"],[1,"font-medium","text-xl"],["class","flex flex-col items-center space-y-4 p-4 max-w-[80vw]",4,"ngIf","ngIfElse"],["class","flex items-center justify-center p-4 space-x-4",4,"ngIf"],[1,"flex","flex-col","items-center","space-y-4","p-4","max-w-[80vw]"],[1,"text-5xl",3,"icon"],["content","",1,"text-center",3,"innerHTML"],[1,"flex","items-center","justify-center","p-4","space-x-4"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","flex-1"],["btn","","matRipple","","name","accept",1,"flex-1",3,"click"],["loading",""],[1,"w-full","h-48","flex","flex-col","items-center","justify-center","space-y-4"],["diameter","32"]],template:function(V,K){if(1&V&&(t.j41(0,"header",1)(1,"h3",2),t.EFF(2),t.k0s()(),t.DNE(3,S,3,2,"main",3)(4,u,5,2,"footer",4)(5,I,5,1,"ng-template",null,0,t.C5r)),2&V){const ne=t.sdS(6);t.R7$(2),t.JRh(K.title),t.R7$(),t.Y8G("ngIf",!K.loading)("ngIfElse",ne),t.R7$(),t.Y8G("ngIf",!K.loading)}},dependencies:[v.bT,b.r6,n.tx,E.LG,M.R]})}return w})()},2734:(jt,Se,l)=>{"use strict";l.d(Se,{r:()=>Ft});var t=l(3953),n=l(6695),p=l(2042),v=l(5887),b=l(5024),E=l(9928),M=l(5286),S=l(4670),u=l(4421),I=l(9714),k=l(4085),T=l(5006);class rt extends b.qS{get data(){return this._data.value}set data(Me){Me=Array.isArray(Me)?Me:[],this._data.next(Me),this._renderChangesSubscription||this._filterData(Me)}get filter(){return this._filter.value}set filter(Me){this._filter.next(Me),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Me){this._sort=Me,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Me){this._paginator=Me,this._updateChangeSubscription()}constructor(Me=[]){super(),this._renderData=new E.t([]),this._filter=new E.t(""),this._internalPageChanges=new M.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(ie,pe)=>{const Be=ie[pe];if((0,k.o1)(Be)){const Tt=Number(Be);return Tt<9007199254740991?Tt:Be}return Be},this.sortData=(ie,pe)=>{const Be=pe.active,Tt=pe.direction;return Be&&""!=Tt?ie.sort((Wt,vn)=>{let Pt=this.sortingDataAccessor(Wt,Be),dn=this.sortingDataAccessor(vn,Be);const at=typeof Pt,pt=typeof dn;at!==pt&&("number"===at&&(Pt+=""),"number"===pt&&(dn+=""));let Xt=0;return null!=Pt&&null!=dn?Pt>dn?Xt=1:Pt<dn&&(Xt=-1):null!=Pt?Xt=1:null!=dn&&(Xt=-1),Xt*("asc"==Tt?1:-1)}):ie},this.filterPredicate=(ie,pe)=>{const Be=Object.keys(ie).reduce((Wt,vn)=>Wt+ie[vn]+"\u25ec","").toLowerCase(),Tt=pe.trim().toLowerCase();return-1!=Be.indexOf(Tt)},this._data=new E.t(Me),this._updateChangeSubscription()}_updateChangeSubscription(){const Me=this._sort?(0,S.h)(this._sort.sortChange,this._sort.initialized):(0,u.of)(null),ie=this._paginator?(0,S.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,u.of)(null),Be=(0,I.zV)([this._data,this._filter]).pipe((0,T.T)(([vn])=>this._filterData(vn))),Tt=(0,I.zV)([Be,Me]).pipe((0,T.T)(([vn])=>this._orderData(vn))),Wt=(0,I.zV)([Tt,ie]).pipe((0,T.T)(([vn])=>this._pageData(vn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Wt.subscribe(vn=>this._renderData.next(vn))}_filterData(Me){return this.filteredData=null==this.filter||""===this.filter?Me:Me.filter(ie=>this.filterPredicate(ie,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Me){return this.sort?this.sortData(Me.slice(),this.sort):Me}_pageData(Me){if(!this.paginator)return Me;const ie=this.paginator.pageIndex*this.paginator.pageSize;return Me.slice(ie,ie+this.paginator.pageSize)}_updatePaginator(Me){Promise.resolve().then(()=>{const ie=this.paginator;if(ie&&(ie.length=Me,ie.pageIndex>0)){const pe=Math.ceil(ie.length/ie.pageSize)-1||0,Be=Math.min(ie.pageIndex,pe);Be!==ie.pageIndex&&(ie.pageIndex=Be,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var yt=l(7375),ot=l(5817),It=l(177);const Ae=(W,Me,ie,pe,Be,Tt,Wt)=>({first:W,last:Me,index:ie,data:pe,row:Be,key:Tt,name:Wt});function we(W,Me){if(1&W&&(t.j41(0,"div",12),t.EFF(1),t.k0s()),2&W){const ie=t.XpG(),pe=ie.$implicit,Be=ie.index,Tt=t.XpG();t.xc7("width",(Tt.column_size[Be]||"8")+"em")("flex","flex"===Tt.column_size[Be]?"1":""),t.R7$(),t.SpI(" ",Tt.display_column[Be]||pe," ")}}function _e(W,Me){1&W&&(t.j41(0,"span",16),t.EFF(1," N/A "),t.k0s())}function de(W,Me){if(1&W&&(t.qex(0),t.EFF(1),t.DNE(2,_e,2,0,"span",15),t.bVm()),2&W){const ie=t.XpG(2).$implicit,pe=t.XpG().$implicit;t.R7$(),t.JRh(ie[pe]),t.R7$(),t.Y8G("ngIf",null==ie[pe]||""===ie[pe])}}function Te(W,Me){1&W&&t.eu8(0)}function Pe(W,Me){if(1&W&&t.DNE(0,Te,1,0,"ng-container",17),2&W){const ie=t.XpG(2),pe=ie.$implicit,Be=ie.index,Tt=t.XpG(),Wt=Tt.$implicit,vn=Tt.index,Pt=t.XpG();t.Y8G("ngTemplateOutlet",Pt.template[Wt])("ngTemplateOutletContext",t.sGs(2,Ae,0===Be,Be===Pt.data_source.data.length-1||Be===Pt.data_source.length-1,vn,pe[Wt],pe,Wt,Pt.display_column[vn]||Wt))}}function St(W,Me){if(1&W&&(t.qex(0),t.DNE(1,de,3,2,"ng-container",14)(2,Pe,1,10,"ng-template",null,1,t.C5r),t.bVm()),2&W){const ie=t.sdS(3),pe=t.XpG(2).$implicit,Be=t.XpG();t.R7$(),t.Y8G("ngIf",!Be.template[pe])("ngIfElse",ie)}}function tt(W,Me){if(1&W&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&W){const ie=t.XpG().index;t.R7$(),t.JRh(ie+1)}}function wt(W,Me){if(1&W&&(t.j41(0,"div",13),t.DNE(1,St,4,2,"ng-container",14)(2,tt,2,1,"ng-template",null,0,t.C5r),t.k0s()),2&W){const ie=t.sdS(3),pe=t.XpG(),Be=pe.$implicit,Tt=pe.index,Wt=t.XpG();t.xc7("width",(Wt.column_size[Tt]||"8")+"em")("flex","flex"===Wt.column_size[Tt]?"1":""),t.R7$(),t.Y8G("ngIf","_index"!==Be)("ngIfElse",ie)}}function ln(W,Me){if(1&W&&(t.qex(0)(1,9),t.DNE(2,we,2,5,"div",10)(3,wt,4,6,"div",11),t.bVm()()),2&W){const ie=Me.$implicit;t.R7$(),t.Y8G("cdkColumnDef",ie)}}function Mn(W,Me){1&W&&t.nrm(0,"cdk-header-row",19)}function Bn(W,Me){if(1&W){const ie=t.RV6();t.j41(0,"cdk-row",20),t.bIt("click",function(){const Be=t.eBV(ie).$implicit,Tt=t.XpG();return t.Njj(Tt.row_clicked.emit(Be))}),t.k0s()}}function Jt(W,Me){if(1&W&&(t.j41(0,"p",21),t.EFF(1),t.k0s()),2&W){const ie=t.XpG();t.R7$(),t.SpI(" ",ie.empty||"No data to display"," ")}}let Ft=(()=>{class W extends yt.Tv{constructor(){super(...arguments),this.pagination=!1,this.page_size=7,this.column_size=[],this.template={},this.row_clicked=new t.bkB,this.data_source=new rt([])}ngAfterViewInit(){this.data_source.sort=this._sort,this.data_source.paginator=this.pagination?this._paginator:null,this.data_source.filterPredicate=(ie,pe)=>{for(const Be in ie){if("string"==typeof ie[Be]&&ie[Be].toLowerCase().includes(pe.toLowerCase()))return!0;if(ie[Be]===pe)return!0}return!1}}ngOnChanges(ie){ie.dataSource&&this.dataSource&&(this.dataSource instanceof ot.c?this.subscription("data",this.dataSource.subscribe(pe=>this.data_source.data=pe)):this.data_source.data=this.dataSource),ie.pagination&&(this.data_source.paginator=this.pagination?this._paginator:null),ie.filter&&(this.data_source.filter=(this.filter||"").trim().toLowerCase()),ie.columns&&this.columns&&(this.display_column=this.columns.map((pe,Be)=>(this.display_column||[])[Be]||pe.split("_").join(" "))),this.column_size||(this.column_size=[]),ie.reset_page&&this.reset_page!==ie.reset_page.previousValue&&this._paginator?.firstPage()}static#e=this.\u0275fac=(()=>{let ie;return function(Be){return(ie||(ie=t.xGo(W)))(Be||W)}})();static#t=this.\u0275cmp=t.VBU({type:W,selectors:[["custom-table"]],viewQuery:function(pe,Be){if(1&pe&&(t.GBs(n.iy,5),t.GBs(p.B4,5)),2&pe){let Tt;t.mGM(Tt=t.lsd())&&(Be._paginator=Tt.first),t.mGM(Tt=t.lsd())&&(Be._sort=Tt.first)}},inputs:{dataSource:"dataSource",pagination:"pagination",page_size:"page_size",filter:"filter",display_column:"display_column",columns:"columns",column_size:"column_size",empty:"empty",template:"template",reset_page:"reset_page"},outputs:{row_clicked:"row_clicked"},features:[t.Vt3,t.OA$],decls:7,vars:8,consts:[["index_outlet",""],["cell_outlet",""],["matSort","",1,"block","border","border-base-200","divide-y","divide-base-200","text-sm",3,"dataSource"],[4,"ngFor","ngForOf"],["class","sticky flex items-center bg-base-100 top-0 z-10",4,"cdkHeaderRowDef"],["row","","class","flex z-0 relative hover:bg-neutral:bg-base-100/5 divide-x divide-base-200",3,"click",4,"cdkRowDef","cdkRowDefColumns"],["cdkNoDataRow",""],["footer","",3,"hidden"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[3,"cdkColumnDef"],["cdk-header-cell","","class","capitalize p-2 h-12 bg-base-300 flex items-center","mat-sort-header","",3,"width","flex",4,"cdkHeaderCellDef"],["cdk-cell","","class","p-2 truncate flex items-center",3,"width","flex",4,"cdkCellDef"],["cdk-header-cell","","mat-sort-header","",1,"capitalize","p-2","h-12","bg-base-300","flex","items-center"],["cdk-cell","",1,"p-2","truncate","flex","items-center"],[4,"ngIf","ngIfElse"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","text-center"],[1,"sticky","flex","items-center","bg-base-100","top-0","z-10"],["row","",1,"flex","z-0","relative","hover:bg-neutral:bg-base-100/5","divide-x","divide-base-200",3,"click"],[1,"w-full","p-4","text-center","opacity-30"]],template:function(pe,Be){1&pe&&(t.j41(0,"cdk-table",2),t.DNE(1,ln,4,1,"ng-container",3)(2,Mn,1,0,"cdk-header-row",4)(3,Bn,1,0,"cdk-row",5)(4,Jt,2,1,"ng-template",6),t.k0s(),t.j41(5,"div",7),t.nrm(6,"mat-paginator",8),t.k0s()),2&pe&&(t.Y8G("dataSource",Be.data_source),t.R7$(),t.Y8G("ngForOf",Be.columns),t.R7$(),t.Y8G("cdkHeaderRowDef",Be.columns),t.R7$(),t.Y8G("cdkRowDefColumns",Be.columns),t.R7$(2),t.Y8G("hidden",!Be.pagination),t.R7$(),t.Y8G("pageSize",Be.page_size)("hidePageSize",!0)("showFirstLastButtons",!0))},dependencies:[It.Sq,It.bT,It.T3,n.iy,v.Rk,v.oh,v.cO,v.n5,v.AL,v.hc,v.wA,v.hi,v.u4,p.B4,p.aE],styles:["cdk-header-row[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize;min-height:3rem}"]})}return W})()},2238:(jt,Se,l)=>{"use strict";l.d(Se,{D:()=>f,I:()=>V});var t=l(6939),n=l(3953),p=l(7375),v=l(7987),b=l(177),E=l(4616);const M=["customTooltip",""],S=["*"];function u(K,ne){1&K&&n.eu8(0)}function I(K,ne){if(1&K&&(n.qex(0),n.DNE(1,u,1,0,"ng-container",4),n.bVm()),2&K){const U=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",U.content)("ngComponentOutletInjector",U.injector)}}function k(K,ne){if(1&K&&(n.qex(0),n.nrm(1,"div",5),n.nI1(2,"sanitize"),n.bVm()),2&K){const U=n.XpG(2);n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,U.content),n.npT)}}function T(K,ne){1&K&&n.eu8(0)}function w(K,ne){if(1&K&&(n.qex(0),n.DNE(1,T,1,0,"ng-container",6),n.bVm()),2&K){const U=n.XpG(2);n.R7$(),n.Y8G("ngTemplateOutlet",U.content)("ngTemplateOutletContext",U.data)}}function D(K,ne){if(1&K&&(n.j41(0,"div",1),n.DNE(1,I,2,2,"ng-container",2)(2,k,3,3,"ng-container",2)(3,w,2,2,"ng-container",3),n.k0s()),2&K){const U=n.XpG();n.Y8G("ngSwitch",U.type),n.R7$(),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}let f=(()=>{class K{constructor(U){this.data=U.data,this.close=U.close||(()=>null)}static#e=this.\u0275fac=function(c){n.QTQ()};static#t=this.\u0275prov=n.jDH({token:K,factory:K.\u0275fac})}return K})(),V=(()=>{class K extends p.Tv{constructor(U,c,Z){super(),this._element=U,this._overlay=c,this._injector=Z,this.backdrop=!0,this.hover=!1,this.delay=0,this.type="template",this._overlay_ref=null,this.onClick=()=>this.open(),this.onTouch=()=>this.open(),this.onEnter=()=>this.hover?this.open():"",this.onLeave=()=>this.hover?this.close():""}ngOnChanges(U){this._updateInjector(),this._overlay_ref&&(U.x_pos||U.y_pos||U.content)&&this.open()}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.content&&this.timeout("open",()=>{this.hover&&this.delay&&this.timeout("onclose",()=>this.close(),this.delay),this._updateType(),this._overlay_ref&&this.close(),this._portal&&(this._element.nativeElement.getBoundingClientRect(),this._overlay_ref=this._overlay.create({hasBackdrop:!!this.backdrop&&!this.hover,positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withPositions([{originX:this.x_pos||"end",originY:("top"===this.y_pos?"bottom":"bottom"==this.y_pos?"top":this.y_pos)||"top",overlayX:this.x_pos||"end",overlayY:this.y_pos||"top"}])}),this._overlay_ref.attach(this._portal),this.backdrop&&this.subscription("backdrop",this._overlay_ref.backdropClick().subscribe(()=>this.close())))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}_updateType(){this.type="string"==typeof this.content?"html":this.content instanceof n.C4Q?"template":"component"}_updateInjector(){this.injector=n.zZn.create({providers:[{provide:f,useValue:{data:this.data,close:()=>this.close()}}],parent:this._injector})}static#e=this.\u0275fac=function(c){return new(c||K)(n.rXU(n.aKT),n.rXU(v.hJ),n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:K,selectors:[["","customTooltip",""]],viewQuery:function(c,Z){if(1&c&&n.GBs(t.bV,5),2&c){let F;n.mGM(F=n.lsd())&&(Z._portal=F.first)}},hostBindings:function(c,Z){1&c&&n.bIt("click",function(){return Z.onClick()})("touchend",function(){return Z.onTouch()})("mouseenter",function(){return Z.onEnter()})("mouseleave",function(){return Z.onLeave()})},inputs:{x_pos:[0,"xPosition","x_pos"],y_pos:[0,"yPosition","y_pos"],content:"content",data:"data",backdrop:"backdrop",hover:"hover",delay:"delay"},features:[n.Vt3,n.OA$],attrs:M,ngContentSelectors:S,decls:2,vars:0,consts:[["cdk-portal",""],["custom-tooltip","",1,"relative","print:hidden",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,Z){1&c&&(n.NAR(),n.SdG(0),n.DNE(1,D,4,3,"ng-template",0))},dependencies:[b.OI,b.T3,b.ux,b.e1,b.fG,t.Qq,E.a],encapsulation:2})}return K})()},7025:(jt,Se,l)=>{"use strict";l.d(Se,{l:()=>v});var t=l(2037),n=l(4903),p=l(3953);let v=(()=>{class b{transform(M){const S=Date.now();let u=(0,t.o)(S,M);const I=u<0;if(u=Math.abs(u),u<1)return I?"Soon":"Now";if(1===u)return I?"In 1 min":"1 min";if(u<60)return I?`In ${u} min`:`${u} min`;if(u<1440){const k=Math.floor(u/60);return I?`In ${k} hour${1===k?"":"s"}`:(0,n.GP)(M,"H:mm")}return u<10080?(Math.floor(u/1440),(0,n.GP)(M,I?"dd MMM yyyy":"E H:mm")):u<525600?(Math.floor(u/1440),(0,n.GP)(M,I?"dd MMM yyyy":"LLL d H:mm")):"Just now"}static#e=this.\u0275fac=function(S){return new(S||b)};static#t=this.\u0275pipe=p.EJ8({name:"dateFrom",type:b,pure:!0})}return b})()},8482:(jt,Se,l)=>{"use strict";l.d(Se,{O:()=>X});var t=l(467),n=l(9928),p=l(9714),v=l(5006),b=l(4046),E=l(7643),M=l(5354),S=l(686),u=l(2354),I=l(2185),k=l(7375),T=l(3953);function w($,te){if(1&$&&(T.qex(0),T.j41(1,"a",25),T.nI1(2,"sanitize"),T.EFF(3),T.k0s(),T.bVm()),2&$){const G=T.XpG().$implicit;T.R7$(),T.Y8G("href",T.bMT(2,2,G),T.B4B),T.R7$(2),T.JRh(G)}}function D($,te){if(1&$&&(T.qex(0),T.EFF(1," ["),T.j41(2,"span",26),T.EFF(3,"Object"),T.k0s(),T.EFF(4,"] "),T.bVm()),2&$){const G=T.XpG().$implicit,oe=T.XpG(4);T.R7$(2),T.Y8G("content",oe.json_tooltip)("data",G)("hover",!0)("backdrop",!1)}}function f($,te){if(1&$&&(T.qex(0),T.EFF(1),T.bVm()),2&$){const G=T.XpG().$implicit;T.R7$(),T.JRh(G)}}function V($,te){if(1&$&&(T.j41(0,"div",21),T.qex(1,22),T.DNE(2,w,4,4,"ng-container",23)(3,D,5,4,"ng-container",23)(4,f,2,1,"ng-container",24),T.bVm(),T.k0s()),2&$){const G=te.$implicit,oe=T.XpG(4);T.BMQ("data-type",oe.type(G)),T.R7$(),T.Y8G("ngSwitch",oe.type(G)),T.R7$(),T.Y8G("ngSwitchCase","link"),T.R7$(),T.Y8G("ngSwitchCase","object")}}function K($,te){if(1&$&&(T.j41(0,"div",18)(1,"div",19),T.EFF(2),T.nI1(3,"date"),T.k0s(),T.j41(4,"div"),T.EFF(5),T.k0s(),T.j41(6,"div"),T.EFF(7),T.k0s(),T.DNE(8,V,5,4,"div",20),T.k0s()),2&$){const G=te.$implicit,oe=T.XpG(3);T.R7$(2),T.SpI(" ",T.i5U(3,8,G.timestamp,"MMM d HH:mm:ss")," "),T.R7$(2),T.HbH("uppercase text-xs p-1 "+oe.colors[G.type]+" rounded font-mono"),T.R7$(),T.SpI(" ",G.type," "),T.R7$(),T.HbH("capitalize text-xs p-1 "+oe.colors[G.subtype]+" rounded font-mono w-16 text-center"),T.R7$(),T.SpI(" ",G.subtype," "),T.R7$(),T.Y8G("ngForOf",G.data)}}function ne($,te){if(1&$&&(T.j41(0,"cdk-virtual-scroll-viewport",15),T.DNE(1,K,9,11,"div",16),T.nI1(2,"async"),T.nrm(3,"div",17),T.k0s()),2&$){const G=T.XpG(2);T.R7$(),T.Y8G("cdkVirtualForOf",T.bMT(2,2,G.filtered_logs))("cdkVirtualForTrackBy",G.trackByFn)}}function U($,te){if(1&$&&(T.j41(0,"span",27),T.EFF(1),T.nI1(2,"async"),T.k0s()),2&$){let G;const oe=T.XpG(2);T.R7$(),T.SpI(" ",(null==(G=T.bMT(2,1,oe.filtered_logs))?null:G.length)||"0"," of ")}}function c($,te){if(1&$){const G=T.RV6();T.j41(0,"div",4)(1,"div",5)(2,"div",6),T.EFF(3,"Console"),T.k0s(),T.j41(4,"button",7),T.bIt("click",function(){T.eBV(G);const ce=T.XpG();return T.Njj(ce.show=!1)}),T.j41(5,"app-icon"),T.EFF(6,"close"),T.k0s()()(),T.DNE(7,ne,4,4,"cdk-virtual-scroll-viewport",8),T.nI1(8,"async"),T.j41(9,"div",9),T.nrm(10,"div",10)(11,"div",11),T.j41(12,"input",12,1),T.nI1(14,"async"),T.bIt("ngModelChange",function(ce){T.eBV(G);const le=T.XpG();return T.Njj(le.filter.next(ce))}),T.k0s(),T.j41(15,"div",13),T.DNE(16,U,3,3,"span",14),T.nI1(17,"async"),T.EFF(18),T.nI1(19,"async"),T.k0s()()()}if(2&$){let G,oe,ce;const le=T.XpG(),ve=T.sdS(3);T.R7$(7),T.Y8G("ngIf",null==(G=T.bMT(8,5,le.filtered_logs))?null:G.length)("ngIfElse",ve),T.R7$(5),T.Y8G("ngModel",T.bMT(14,7,le.filter)),T.R7$(4),T.Y8G("ngIf",null==(oe=T.bMT(17,9,le.filter))?null:oe.length),T.R7$(2),T.SpI(" ",null==(ce=T.bMT(19,11,le.logs))?null:ce.length," ")}}function Z($,te){if(1&$){const G=T.RV6();T.j41(0,"button",28),T.bIt("mousedown",function(){T.eBV(G);const ce=T.XpG();return T.Njj(ce.onStart())})("touchstart",function(){T.eBV(G);const ce=T.XpG();return T.Njj(ce.onStart())})("mouseup",function(){T.eBV(G);const ce=T.XpG();return T.Njj(ce.onEnd())})("touchend",function(){T.eBV(G);const ce=T.XpG();return T.Njj(ce.onEnd())}),T.k0s()}}function F($,te){if(1&$&&(T.j41(0,"div",29)(1,"div",30),T.EFF(2),T.k0s()()),2&$){const G=T.XpG();T.R7$(2),T.SpI(" No ",G.filter.getValue()?"matching":""," logs ")}}const J={console:"bg-success-light text-black",network:"bg-success text-success-content",dom:"bg-warning-light text-black",log:"bg-info-light text-black",info:"bg-info text-info-content",warn:"bg-warning text-warning-content",debug:"bg-base-300 text-base-content",error:"bg-error text-error-content"},z=["tel:","mailto:","http:","https:","ftp:","ws:","wss:"];let X=(()=>{class $ extends M.T{get can_activate(){return!!this._settings.get("app.debug_console")}constructor(G,oe,ce,le){super(),this._org=G,this._logs=oe,this._hotkey=ce,this._settings=le,this.show=!1,this.colors=J,this.json_tooltip=u.o,this.filter=new n.t(""),this.logs=new n.t([]),this.filtered_logs=(0,p.zV)([this.filter,this.logs]).pipe((0,v.T)(([ve,Q])=>Q.filter(R=>R.type.toLowerCase().includes(ve.toLowerCase())||R.subtype.toLowerCase().includes(ve.toLowerCase())||`${R.data}`.toLowerCase().includes(ve.toLowerCase())))),this.onStart=()=>this.timeout("show",()=>this.show=!0,5e3),this.onEnd=()=>this.clearTimeout("show")}ngOnInit(){var G=this;return(0,t.A)(function*(){yield G._org.initialised.pipe((0,b.$)(oe=>oe)).toPromise(),G.subscription("binding",G._org.active_building.subscribe(()=>{G._logs.setSystem(G._org.binding("remote_logger"))})),G.subscription("logs",G._logs.history.subscribe(oe=>{let ce=G.logs.getValue();ce.length>(G._settings.get("app.log_limits")||2e4)&&ce.splice(0,1),G.logs.next([...ce,oe])})),G.subscription("toggle",G._hotkey.listen(["Control","Backquote"],()=>G.show=!G.show)),G._logs.setSystem(G._org.binding("remote_logger"))})()}type(G){return"string"==typeof G&&z.find(oe=>G.startsWith(oe))?"link":G instanceof Object?"object":"string"}trackByFn(G,oe){return oe?.timestamp}static#e=this.\u0275fac=function(oe){return new(oe||$)(T.rXU(I.yb),T.rXU(S.V),T.rXU(E.d),T.rXU(k.h$))};static#t=this.\u0275cmp=T.VBU({type:$,selectors:[["debug-console"]],inputs:{show:"show"},features:[T.Vt3],decls:4,vars:2,consts:[["empty_state",""],["search_input",""],["class","absolute bottom-2 left-2 max-w-[80vw] w-[40rem] border border-base-300 bg-base-200 text-base-content shadow rounded overflow-hidden h-[24rem] max-h-[65vh] flex flex-col z-[998]",4,"ngIf"],["activation","","class","absolute bottom-0 right-0 h-12 w-12",3,"mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"absolute","bottom-2","left-2","max-w-[80vw]","w-[40rem]","border","border-base-300","bg-base-200","text-base-content","shadow","rounded","overflow-hidden","h-[24rem]","max-h-[65vh]","flex","flex-col","z-[998]"],[1,"flex","items-center","justify-between","bg-base-100","border-b","border-base-300"],[1,"p-2"],["icon","","matRipple","",3,"click"],["itemSize","32","class","flex-1 h-[30rem] max-h-full w-full",4,"ngIf","ngIfElse"],[1,"absolute","bottom-1","right-1","rounded-lg","p-1","flex","items-center","w-[20rem]","overflow-hidden"],[1,"absolute","inset-0","bg-base-content","opacity-60","z-0"],[1,"absolute","inset-1","bg-base-content","opacity-90","rounded","z-0"],["name","log-filter","placeholder","Filter logs...",1,"relative","border-none","flex-1","text-sm","px-2","py-1","font-mono","rounded","text-base-100",3,"ngModelChange","ngModel"],[1,"relative","font-mono","text-xs","px-2","text-center","text-base-100"],["class","font-mono",4,"ngIf"],["itemSize","32",1,"flex-1","h-[30rem]","max-h-full","w-full"],["class","font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-base-100 space-x-1",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"h-8","w-full"],[1,"font-mono","h-8","truncate","p-2","text-sm","flex","items-center","max-w-full","hover:bg-base-100","space-x-1"],[1,"uppercase","text-xs","p-1","bg-base-100/10","rounded","font-mono"],["class","font-mono pl-1",4,"ngFor","ngForOf"],[1,"font-mono","pl-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","noopener noreferer",1,"font-mono",3,"href"],["customTooltip","","xPosition","center","yPosition","bottom",1,"underline","font-mono","hover:text-info",3,"content","data","hover","backdrop"],[1,"font-mono"],["activation","",1,"absolute","bottom-0","right-0","h-12","w-12",3,"mousedown","touchstart","mouseup","touchend"],[1,"flex-1","flex","flex-col","items-center","justify-center","h-[30rem]","w-full"],[1,"text-2xl","opacity-30"]],template:function(oe,ce){1&oe&&T.DNE(0,c,20,13,"div",2)(1,Z,1,0,"button",3)(2,F,3,1,"ng-template",null,0,T.C5r),2&oe&&(T.Y8G("ngIf",ce.show),T.R7$(),T.Y8G("ngIf",ce.can_activate))}})}return $})()},3051:(jt,Se,l)=>{"use strict";l.d(Se,{q:()=>u});var t=l(3953),n=l(7375),p=l(177),v=l(9417),b=l(6600),E=l(3881);function M(I,k){1&I&&(t.j41(0,"div",16),t.EFF(1," Before you can set a desk height, presets must be set "),t.k0s())}function S(I,k){if(1&I){const T=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(T);const D=t.XpG();return t.Njj(D.onClose())}),t.EFF(1," Save Presets "),t.k0s()}}let u=(()=>{class I{constructor(T){this._settings=T,this.show_close=!1,this.close=new t.bkB,this.not_set=!1,this.desk_sitting_height=71,this.desk_standing_height=101}ngOnInit(){this.not_set=!this._settings.get("desk_sitting_height")&&!this._settings.get("desk_standing_height"),this.desk_sitting_height=this._settings.get("desk_sitting_height")||71,this.desk_standing_height=this._settings.get("desk_standing_height")||101}onClose(){this.saveSetting("desk_sitting_height",this.desk_sitting_height),this.saveSetting("desk_standing_height",this.desk_standing_height),this.close.emit()}formatLabel(T){return`${T.toFixed(1)}cm`}saveSetting(T,w){this._settings.saveUserSetting(T,w)}static#e=this.\u0275fac=function(w){return new(w||I)(t.rXU(n.h$))};static#t=this.\u0275cmp=t.VBU({type:I,selectors:[["desk-height-presets"]],inputs:{show_close:"show_close"},outputs:{close:"close"},decls:24,vars:8,consts:()=>{let T,w,D;return T=$localize`:4a9ae1d6024ac45fcd744f2b33fcc1078684204c1586279176802880074:Desk Height Presets`,w=$localize`:76aa055a2b4d990ee2773112c433cbca362d5cf32517995078699734025: Desk height presets allow you to store and recall your preferred desk height when checking into a booked desk that supports height adjustment. `,D=$localize`:7cdb9f15155eef16ce00f29f1d835dc2360f266f3844660402650950250: Set your desk height for the best experience. `,[T,w,D,[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg","mb-2"],[1,"text-xs","opacity-60","mb-4"],["class","text-xs mb-4 -mx-2 p-2 rounded bg-warning text-warning-content",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"flex","items-center","space-x-2"],["min","60","max","80","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],[1,"flex","items-center","space-x-2","mr-2"],["min","90","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],[1,"text-sm","w-12","text-right","mr-2"],["btn","","matRipple","","class","w-full mt-2",3,"click",4,"ngIf"],[1,"text-xs","mb-4","-mx-2","p-2","rounded","bg-warning","text-warning-content"],["btn","","matRipple","",1,"w-full","mt-2",3,"click"]]},template:function(w,D){1&w&&(t.j41(0,"div",3)(1,"div",4),t.pXf(2,0),t.k0s(),t.j41(3,"div",5),t.pXf(4,1),t.k0s(),t.DNE(5,M,2,0,"div",6),t.j41(6,"div",5),t.pXf(7,2),t.k0s(),t.j41(8,"div",7)(9,"label"),t.EFF(10,"Sitting Height"),t.k0s(),t.j41(11,"div",8)(12,"mat-slider",9)(13,"input",10),t.mxI("ngModelChange",function(V){return t.DH7(D.desk_sitting_height,V)||(D.desk_sitting_height=V),V}),t.bIt("ngModelChange",function(V){return D.saveSetting("desk_sitting_height",V)}),t.k0s()(),t.j41(14,"div",11),t.EFF(15),t.k0s()(),t.j41(16,"label"),t.EFF(17,"Standing Height"),t.k0s(),t.j41(18,"div",12)(19,"mat-slider",13)(20,"input",10),t.mxI("ngModelChange",function(V){return t.DH7(D.desk_standing_height,V)||(D.desk_standing_height=V),V}),t.bIt("ngModelChange",function(V){return D.saveSetting("desk_standing_height",V)}),t.k0s()(),t.j41(21,"div",14),t.EFF(22),t.k0s()()(),t.DNE(23,S,2,0,"button",15),t.k0s()),2&w&&(t.R7$(5),t.Y8G("ngIf",D.not_set&&D.show_close),t.R7$(7),t.Y8G("displayWith",D.formatLabel),t.R7$(),t.R50("ngModel",D.desk_sitting_height),t.R7$(2),t.SpI(" ",D.desk_sitting_height.toFixed(1),"cm "),t.R7$(4),t.Y8G("displayWith",D.formatLabel),t.R7$(),t.R50("ngModel",D.desk_standing_height),t.R7$(2),t.SpI(" ",D.desk_standing_height.toFixed(1),"cm "),t.R7$(),t.Y8G("ngIf",D.show_close))},dependencies:[p.bT,v.me,v.BC,v.vS,b.r6,E.IV,E.OU]})}return I})()},7022:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>p});var t=l(2659),n=l(3953);let p=(()=>{class v{transform(E,M=!1){let S=(0,t.a)({hours:Math.floor(E/60),minutes:E%60});return M&&(S=S.replace("hour","h").replace("minute","m").replace(/s/gi,"")),S}static#e=this.\u0275fac=function(M){return new(M||v)};static#t=this.\u0275pipe=n.EJ8({name:"duration",type:v,pure:!0})}return v})()},785:(jt,Se,l)=>{"use strict";l.d(Se,{p:()=>E});var t=l(7375),n=l(3953),p=l(177),v=l(9434);function b(M,S){if(1&M){const u=n.RV6();n.j41(0,"div",1)(1,"div",2),n.EFF(2),n.k0s(),n.j41(3,"button",3),n.bIt("click",function(){n.eBV(u);const k=n.XpG();return n.Njj(k.close())}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&M){const u=n.XpG();n.AVh("bg-info","info"===u.banner.type||!u.banner.type)("text-info-content","info"===u.banner.type||!u.banner.type)("bg-warning","warn"===u.banner.type)("text-warning-content","warn"===u.banner.type)("bg-error","error"===u.banner.type)("text-error-content","error"===u.banner.type),n.R7$(2),n.JRh(null==u.banner?null:u.banner.content)}}let E=(()=>{class M{get has_viewed(){return!this.banner?.content||localStorage.getItem("PLACE.last_banner")===this.banner.id}get banner(){return this._settings.get("app.general.banner")}constructor(u){this._settings=u}close(){localStorage.setItem("PLACE.last_banner",this.banner?.id||"")}static#e=this.\u0275fac=function(I){return new(I||M)(n.rXU(t.h$))};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["global-banner"]],decls:1,vars:1,consts:[["class","flex items-center w-full p-4 space-x-4",3,"bg-info","text-info-content","bg-warning","text-warning-content","bg-error","text-error-content",4,"ngIf"],[1,"flex","items-center","w-full","p-4","space-x-4"],[1,"flex-1"],["icon","",3,"click"]],template:function(I,k){1&I&&n.DNE(0,b,6,13,"div",0),2&I&&n.Y8G("ngIf",!k.has_viewed)},dependencies:[p.bT,v.R],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return M})()},4921:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>k});var t=l(467),n=l(4046),p=l(1038),v=l(7375),b=l(8026),E=l(3953),M=l(177),S=l(9183);function u(T,w){1&T&&(E.j41(0,"div",2),E.EFF(1," Unable to reach server... Some features may not work. "),E.k0s())}function I(T,w){1&T&&(E.j41(0,"div",3),E.nrm(1,"mat-spinner",4),E.k0s()),2&T&&(E.R7$(),E.Y8G("diameter",64))}let k=(()=>{class T extends v.Tv{get online(){return(0,p.sc7)()}constructor(D,f){super(),this._org=D,this._settings=f}ngOnInit(){var D=this;return(0,t.A)(function*(){D.loading=!0,yield D._org.initialised.pipe((0,n.$)(f=>f)).toPromise(),yield D._settings.initialised.pipe((0,n.$)(f=>f)).toPromise(),D.interval("has_token",()=>{!(0,p.kup)()||!(0,p.ShT)()||(D.loading=!1,D.clearInterval("has_token"))},1e3)})()}static#e=this.\u0275fac=function(f){return new(f||T)(E.rXU(b.y),E.rXU(v.h$))};static#t=this.\u0275cmp=E.VBU({type:T,selectors:[["global-loading"]],features:[E.Vt3],decls:2,vars:2,consts:[["class","fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs",4,"ngIf"],["loader","","class","fixed inset-0 flex items-center justify-center pointer-events-auto bg-base-100",4,"ngIf"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2","shadow","rounded-3xl","px-4","py-2","bg-error","text-white","text-xs"],["loader","",1,"fixed","inset-0","flex","items-center","justify-center","pointer-events-auto","bg-base-100"],[3,"diameter"]],template:function(f,V){1&f&&E.DNE(0,u,2,0,"div",0)(1,I,2,1,"div",1),2&f&&(E.Y8G("ngIf",!V.online),E.R7$(),E.Y8G("ngIf",V.loading))},dependencies:[M.bT,S.LG],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%] > [loader][_ngcontent-%COMP%]{z-index:997;background-image:url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\")}"]})}return T})()},6926:(jt,Se,l)=>{"use strict";l.d(Se,{o:()=>S});var t=l(7375),n=l(8030),p=l(3953),v=l(177),b=l(6600),E=l(9434);function M(u,I){if(1&u&&(p.j41(0,"a",6)(1,"div",7)(2,"div",8),p.nrm(3,"app-icon",9),p.k0s(),p.j41(4,"div",10),p.EFF(5),p.k0s()()()),2&u){const k=I.$implicit;p.Y8G("href",k.link,p.B4B),p.R7$(3),p.Y8G("icon",k.icon),p.R7$(2),p.JRh(k.name)}}let S=(()=>{class u{get tiles(){return this._settings.get("app.help")||[]}constructor(k,T){this._data=k,this._settings=T,this.close=()=>{this._data?.close()}}static#e=this.\u0275fac=function(T){return new(T||u)(p.rXU(n.Dd),p.rXU(t.h$))};static#t=this.\u0275cmp=p.VBU({type:u,selectors:[["help-tooltip"]],decls:7,vars:1,consts:()=>{let k;return k=$localize`:258586f2141d5b6c98ef28c38ac6f55a81a301b27393197899734735120:Help & Support`,[k,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","divide-y","divide-base-200",3,"click"],[1,"flex","items-center","space-x-2","p-2","border-b"],[1,"text-2xl"],[1,""],["btn","","matRipple","","class","clear w-full text-left h-auto","target","_blank","ref","noreferer noopener",3,"href",4,"ngFor","ngForOf"],["btn","","matRipple","","target","_blank","ref","noreferer noopener",1,"clear","w-full","text-left","h-auto",3,"href"],[1,"flex","items-center","space-x-2","py-2","w-full"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"text-xl",3,"icon"],[1,"flex-1"]]},template:function(T,w){1&T&&(p.j41(0,"div",1),p.bIt("click",function(){return w.close()}),p.j41(1,"div",2)(2,"app-icon",3),p.EFF(3,"arrow_back"),p.k0s(),p.j41(4,"div",4),p.pXf(5,0),p.k0s()(),p.DNE(6,M,6,3,"a",5),p.k0s()),2&T&&(p.R7$(6),p.Y8G("ngForOf",w.tiles))},dependencies:[v.Sq,b.r6,E.R],styles:["a[_ngcontent-%COMP%]:not(:last-child){border-bottom-width:1px!important;border-bottom-style:solid!important;border-radius:0}"]})}return u})()},9434:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>M});var t=l(3953),n=l(177),p=l(6781);const v=["*"];function b(S,u){if(1&S&&(t.j41(0,"i"),t.EFF(1),t.SdG(2),t.k0s()),2&S){const I=t.XpG();t.HbH((null==I.icon?null:I.icon.class)||I.className),t.R7$(),t.SpI(" ",null==I.icon?null:I.icon.content," ")}}function E(S,u){if(1&S&&(t.nrm(0,"img",3),t.nI1(1,"safe")),2&S){const I=t.XpG();t.Y8G("src",t.i5U(1,1,I.icon.src,"resource"),t.B4B)}}let M=(()=>{class S{constructor(){this.className="material-icons"}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=t.VBU({type:S,selectors:[["app-icon"],["icon"]],inputs:{className:"className",icon:"icon"},ngContentSelectors:v,decls:3,vars:2,consts:[[1,"flex","items-center","justify-center","h-[1.25em]","w-[1.25em]"],[3,"class",4,"ngIf"],["class","h-[1em] w-[1em]",3,"src",4,"ngIf"],[1,"h-[1em]","w-[1em]",3,"src"]],template:function(k,T){1&k&&(t.NAR(),t.j41(0,"div",0),t.DNE(1,b,3,3,"i",1)(2,E,2,4,"img",2),t.k0s()),2&k&&(t.R7$(),t.Y8G("ngIf",!T.icon||"img"!==T.icon.type),t.R7$(),t.Y8G("ngIf",T.icon&&"img"===T.icon.type))},dependencies:[n.bT,p.m],styles:["i[_ngcontent-%COMP%]{font-size:1em}"]})}return S})()},5277:(jt,Se,l)=>{"use strict";l.d(Se,{H:()=>u});var t=l(3953);function n(I,k){if(1&I&&t.nrm(0,"img",8),2&I){const T=t.XpG().$implicit;t.Y8G("source",T.url||T)}}function p(I,k){if(1&I&&(t.j41(0,"div",6),t.DNE(1,n,1,1,"img",7),t.k0s()),2&I){const T=k.$implicit,w=t.XpG();t.xc7("transform","translateX(-"+100*w.offset+"%)"),t.R7$(),t.Y8G("ngIf",T)}}function v(I,k){1&I&&(t.j41(0,"div",9)(1,"app-icon",10),t.EFF(2,"image_not_supported"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No images"),t.k0s()())}function b(I,k){if(1&I){const T=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(T);const D=t.XpG();return t.Njj(D.offset=D.offset-1)}),t.j41(1,"app-icon",12),t.EFF(2,"chevron_left"),t.k0s()()}if(2&I){const T=t.XpG();t.Y8G("disabled",0===T.offset)}}function E(I,k){if(1&I){const T=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(T);const D=t.XpG();return t.Njj(D.offset=D.offset+1)}),t.j41(1,"app-icon",12),t.EFF(2,"chevron_right"),t.k0s()()}if(2&I){const T=t.XpG();t.Y8G("disabled",T.offset>=(null==T.images?null:T.images.length)-1)}}function M(I,k){if(1&I&&t.nrm(0,"button",16),2&I){const T=k.index,w=t.XpG(2);t.AVh("!bg-base-100",w.offset===T)}}function S(I,k){if(1&I&&(t.j41(0,"div",14),t.DNE(1,M,1,2,"button",15),t.k0s()),2&I){const T=t.XpG();t.R7$(),t.Y8G("ngForOf",T.images)}}let u=(()=>{class I{constructor(){this.images=[],this.offset=0}static#e=this.\u0275fac=function(w){return new(w||I)};static#t=this.\u0275cmp=t.VBU({type:I,selectors:[["image-carousel"]],inputs:{images:"images"},decls:6,vars:5,consts:[[1,"h-full","w-full","relative","overflow-hidden","flex"],["image","","class","h-full min-w-full relative flex items-center justify-center overflow-hidden",3,"transform",4,"ngFor","ngForOf"],["class","h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["class","absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2",4,"ngIf"],["image","",1,"h-full","min-w-full","relative","flex","items-center","justify-center","overflow-hidden"],["auth","","class","h-full object-contain",3,"source",4,"ngIf"],["auth","",1,"h-full","object-contain",3,"source"],[1,"h-full","w-full","relative","flex","flex-col","items-center","justify-center","opacity-30","space-y-2"],[1,"text-5xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","left-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"text-4xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","right-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"absolute","bottom-1","left-1/2","-translate-x-1/2","text-sm","opacity-30","space-x-2"],["matRipple","","class","h-4 w-4 rounded-full bg-base-300 shadow",3,"!bg-base-100",4,"ngFor","ngForOf"],["matRipple","",1,"h-4","w-4","rounded-full","bg-base-300","shadow"]],template:function(w,D){1&w&&(t.j41(0,"div",0),t.DNE(1,p,2,3,"div",1)(2,v,5,0,"div",2)(3,b,3,1,"button",3)(4,E,3,1,"button",4)(5,S,2,1,"div",5),t.k0s()),2&w&&(t.R7$(),t.Y8G("ngForOf",D.images),t.R7$(),t.Y8G("ngIf",!(null!=D.images&&D.images.length)),t.R7$(),t.Y8G("ngIf",null==D.images?null:D.images.length),t.R7$(),t.Y8G("ngIf",null==D.images?null:D.images.length),t.R7$(),t.Y8G("ngIf",null==D.images?null:D.images.length))},styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[image][_ngcontent-%COMP%]{transition:transform .3s}"]})}return I})()},6821:(jt,Se,l)=>{"use strict";l.d(Se,{d:()=>b});var t=l(4006),n=l(3953),p=l(6600),v=l(9434);let b=(()=>{class E{constructor(S){this.url=S}static#e=this.\u0275fac=function(u){return new(u||E)(n.rXU(t.Vh))};static#t=this.\u0275cmp=n.VBU({type:E,selectors:[["image-viewer"]],decls:5,vars:1,consts:[[1,"h-screen","w-screen","bg-base-200"],[1,"object-contain","object-center","w-full","h-full",3,"src"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","right-1","bg-base-100"]],template:function(u,I){1&u&&(n.j41(0,"div",0),n.nrm(1,"img",1),n.j41(2,"button",2)(3,"app-icon"),n.EFF(4,"close"),n.k0s()()()),2&u&&(n.R7$(),n.Y8G("src",I.url,n.B4B))},dependencies:[p.r6,t.tx,v.R]})}return E})()},2124:(jt,Se,l)=>{"use strict";l.d(Se,{M:()=>te});var t=l(467),n=l(7375),p=l(2455),v=l(2185),b=l(9714),E=l(8728),M=l(5006),S=l(4046),u=l(9420),I=l(3953),k=l(177),T=l(3719),w=l(6600),D=l(9631),f=l(9183),V=l(4823),K=l(9434),ne=l(1780);const U=["searchInput"],c=["searchResultItems"];function Z(G,oe){1&G&&(I.j41(0,"div",11),I.nrm(1,"mat-spinner",12),I.k0s()),2&G&&(I.R7$(),I.Y8G("diameter",48))}function F(G,oe){if(1&G&&(I.j41(0,"div",13),I.nrm(1,"img",14),I.j41(2,"p",15),I.EFF(3),I.nI1(4,"translate"),I.k0s()()),2&G){const ce=I.XpG();I.R7$(3),I.SpI(" ",I.bMT(4,1,ce.geolocation_error_message)," ")}}function J(G,oe){if(1&G){const ce=I.RV6();I.j41(0,"li",21)(1,"button",22),I.bIt("click",function(){const ve=I.eBV(ce).$implicit,Q=I.XpG(2);return Q.getRoute(ve),I.Njj(Q.search_result_items=[])}),I.j41(2,"div",23)(3,"div"),I.EFF(4),I.k0s(),I.j41(5,"div",24),I.EFF(6),I.k0s()()()()}if(2&G){const ce=oe.$implicit;I.R7$(4),I.JRh(ce.properties.name),I.R7$(2),I.Lme(" ",ce.properties.roomId,", Level ",ce.properties.floorName," ")}}function z(G,oe){if(1&G){const ce=I.RV6();I.qex(0),I.j41(1,"div",16)(2,"h3",17),I.EFF(3),I.k0s(),I.j41(4,"button",18),I.bIt("click",function(){I.eBV(ce);const ve=I.XpG();return I.Njj(ve.search_result_items=[])}),I.j41(5,"app-icon"),I.EFF(6,"close"),I.k0s()()(),I.j41(7,"ul",19),I.DNE(8,J,7,3,"li",20),I.nI1(9,"slice"),I.k0s(),I.bVm()}if(2&G){const ce=I.XpG();I.R7$(3),I.SpI(" Results (",ce.search_result_items.length||"0",") "),I.R7$(5),I.Y8G("ngForOf",I.brH(9,2,ce.search_result_items,0,10))}}function $(G){return G*(Math.PI/180)}let te=(()=>{class G extends n.Tv{constructor(ce,le,ve){super(),this._api_service=ce,this._state=le,this._org=ve,this.default_zoom=19,this.live_data_status="enabled",this.search_result_items=[],this.selected_destination=null,this.actions_hashmap={},this.user_latitude=null,this.user_longitude=null,this.geolocation_error_message="",this.route_error_message="",this.coordinates=null,this.buildings=this._org.building_list,this.building=this._org.active_building,this.setBuilding=Q=>{this._org.building=Q,this._setLocationToBuilding()},this.levels=(0,b.zV)([this.building,this._state.options]).pipe((0,E.p)(([Q])=>!!Q),(0,M.T)(([Q])=>[{id:this._org.building.id,name:"All Levels"},...this._org.levelsForBuilding(Q)])),this.floor_mapping={}}ngOnInit(){var ce=this;return(0,t.A)(function*(){ce.loading=!0,yield ce._org.initialised.pipe((0,S.$)(ve=>!!ve)).toPromise(),ce.setBuilding(ce._org.building),ce.custom_coordinates&&(ce.coordinates=ce.custom_coordinates);const le=()=>{ce._getUserLocation(),document.removeEventListener("click",le)};document.addEventListener("click",le),yield ce._initMapView()})()}ngOnChanges(ce){var le=this;return(0,t.A)(function*(){if((ce.styles||ce.actions)&&(yield le.renderSpaceStatus(),yield le.mapActions()),ce.locate&&le.locate&&mapsindoors){const ve={q:le.searchElement.nativeElement.value},Q=yield mapsindoors?.services.LocationsService.getLocations(ve);Q.length&&le.getRoute(Q[0])}le.mapFloorsToIndex(),le.loading=!1})()}ngAfterViewInit(){this.maps_service?.addListener("click",(ce,le)=>{const ve=this.actions_hashmap[ce.id];ve&&ve.callback(le)})}_initMapView(){if(!this._api_service.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initMapView(),1e3);const ce={element:document.getElementById("maps-indoors"),center:{lat:this.user_latitude,lng:this.user_longitude},zoom:this.default_zoom||19,maxZoom:24};this._api_service.map_service===u.u.GoogleMaps?((0,n.Rm)("MapsIndoors","Using Google Maps API"),this.view_instance=new mapsindoors.mapView.GoogleMapsView(ce)):(ce.accessToken=this._api_service.map_token,(0,n.Rm)("MapsIndoors","Using Mapbox API"),this.view_instance=new mapsindoors.mapView.MapboxView(ce)),this.view_instance?(this.maps_service=new mapsindoors.MapsIndoors({mapView:this.view_instance}),this.map_instance=this.view_instance.getMap(),this.initDirections(),this.handleLocationChange(),this.mapFloorsToIndex(),this._setLocationToBuilding()):(0,n.Rm)("MapsIndoors","Failed to initialise map view instance.",void 0,"warn")}initDirections(){const ce=this._api_service.map_service===u.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._api_service.map_token);this.directions_service=new mapsindoors.services.DirectionsService(ce),this.directions_renderer=new mapsindoors.directions.DirectionsRenderer({mapsIndoors:this.maps_service})}mapFloorsToIndex(){var ce=this;return(0,t.A)(function*(){const Q=(yield ce.maps_service?.getBuilding())?.buildingInfo?.fields?.floorMapping?.value?.split(",\n").map(L=>L.split(":"));ce.floor_mapping=Q?.reduce((L,[H,fe])=>(L[H]=fe,L),{})||{};const R=yield ce.maps_service?.getFloor();R&&ce.floor_mapping&&ce._state.setLevel(ce.floor_mapping[R])})()}handleLocationChange(){const ce=document.createElement("div");new mapsindoors.FloorSelector(ce,this.maps_service),this._api_service.map_service===u.u.GoogleMaps?this.map_instance.controls[google.maps.ControlPosition.RIGHT_TOP].push(ce):this.view_instance.getMap().addControl({onAdd:()=>ce,onRemove:()=>{}}),this.maps_service?.addListener("building_changed",le=>{const ve=this._org.buildings.find(Q=>{Q.name.toLowerCase(),le.buildingInfo?.name.toLowerCase(),this.setBuilding(ve)})}),this.maps_service?.addListener("floor_changed",le=>{le&&this.floor_mapping&&this._state.setLevel(this.floor_mapping[le])})}onSearch(){const ce={q:this.searchElement.nativeElement.value};mapsindoors?.services.LocationsService.getLocations(ce).then(le=>{this.search_result_items=le})}_getUserLocation(){var ce=this;return(0,t.A)(function*(){return"geolocation"in navigator?ce.coordinates?(ce.user_latitude=ce.coordinates.latitude,void(ce.user_longitude=ce.coordinates.longitude)):(navigator.geolocation.watchPosition(ve=>ce._updateGeolocation(ve),ve=>ce._handleGeolocationError(ve)),void navigator.geolocation.getCurrentPosition(ve=>{if(!ce._userWithinRadius([ve.coords.latitude,ve.coords.longitude]))return ce._setLocationToBuilding();ce._updateGeolocation(ve),ce.map_instance.setCenter({lat:ve.coords.latitude,lng:ve.coords.longitude})},()=>ce._setLocationToBuilding(),{timeout:1e4,enableHighAccuracy:!0})):((0,n.Rm)("MapsIndoors","User's geolocation not available.",void 0,"warn"),ce._setLocationToBuilding())})()}_userWithinRadius([ce,le],ve=1){const[Q,R]=this._org.building?.location.split(",")||[];return!(Q&&R&&function X(G,oe,ce,le){const Q=$(ce-G),R=$(le-oe);G=$(G),ce=$(ce);const L=Math.sin(Q/2)*Math.sin(Q/2)+Math.sin(R/2)*Math.sin(R/2)*Math.cos(G)*Math.cos(ce);return 2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L))*6371}(parseFloat(Q),parseFloat(R),ce,le)>=ve)}_setLocationToBuilding(){(0,n.Rm)("MapsIndoors","Settings location to building:",[this._org.building?.display_name||this._org.building?.name,this._org.building?.location]);const[ce,le]=this._org.building?.location.split(",");this.map_instance&&this.map_instance.setCenter({lat:parseFloat(ce),lng:parseFloat(le)})}_updateGeolocation(ce){if(!ce?.coords)return;(0,n.Rm)("MapsIndoors","Settings location to user:",ce.coords,"warn");const{latitude:le,longitude:ve}=ce.coords;(le!==this.user_latitude||ve!==this.user_longitude)&&(this.user_latitude=le,this.user_longitude=ve,this.getRoute(this.selected_destination))}_handleGeolocationError(ce){(0,n.UG)(`Error retrieving your geolocation. [${ce.message}]`)}getRoute(ce){var le=this;return(0,t.A)(function*(){if(le.maps_service?.highlight([]),!le.directions_service||!ce)return;(0,n.Rm)("MapsIndoors","Getting route to location:",[ce,le.user_latitude,le.user_longitude]),le.selected_destination=ce;const ve={lat:ce.properties.anchor.coordinates[1],lng:ce.properties.anchor.coordinates[0],floor:ce.properties.floor},Q=(le.floor_mapping||{})[ce.properties.floor];if(Q&&le._state.setLevel(Q),!le._userWithinRadius([le.user_latitude,le.user_longitude],1e3))return le.map_instance.setZoom(19),le.map_instance.setCenter(ve),le.maps_service.setFloor(ve.floor),void le.maps_service.highlight([ce.id]);if(!le.user_latitude||!le.user_longitude)return(0,n.UG)("Unable to find a route.");const L={origin:{lat:le.user_latitude,lng:le.user_longitude},destination:ve},H=yield le.directions_service.getRoute(L).catch(fe=>{(0,n.Rm)("MapsIndoors","Error fetching route: ",fe.message||fe,"warn"),fe instanceof TypeError&&fe.message?.includes("origin")&&(0,n.UG)("Error: Origin location is outside of map area.")});H&&le.directions_renderer?.setRoute(H)})()}renderSpaceStatus(){var ce=this;return(0,t.A)(function*(){if(!ce.styles)return;const le=[];for(const ve in ce.styles){const Q=ce.styles[ve].fill;if(ve){const R=ve.substring(1);le.push(ce._setPolygonFill(R,Q))}}return yield Promise.all(le)})()}mapActions(){var ce=this;return(0,t.A)(function*(){return ce.actions?.reduce((le,ve)=>(le[ve.id]=ve,le),{})})()}_setPolygonFill(ce,le){return this.maps_service?.setDisplayRule(ce,{polygonVisible:!0,polygonFillOpacity:.6,polygonZoomFrom:16,polygonZoomTo:22,visible:!0,polygonFillColor:le})}static#e=this.\u0275fac=function(le){return new(le||G)(I.rXU(n._e),I.rXU(p.O),I.rXU(v.yb))};static#t=this.\u0275cmp=I.VBU({type:G,selectors:[["indoor-maps"]],viewQuery:function(le,ve){if(1&le&&(I.GBs(U,7),I.GBs(c,5)),2&le){let Q;I.mGM(Q=I.lsd())&&(ve.searchElement=Q.first),I.mGM(Q=I.lsd())&&(ve.searchResults=Q.first)}},inputs:{styles:"styles",actions:"actions",custom_coordinates:"custom_coordinates",locate:"locate",default_zoom:"default_zoom"},features:[I.Vt3,I.OA$],decls:12,vars:3,consts:[["searchInput",""],["id","maps-indoors",1,"absolute","inset-0","flex","items-center","justify-center"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class","absolute inset-0 flex flex-col space-y-2 items-center justify-center",4,"ngIf"],[1,"absolute","flex","flex-col","h-min","w-min","top-2","left-2","bg-base-100","text-base-content","rounded-lg","z-50","p-2","shadow"],["appearance","outline",1,"map","no-subscript"],["matInput","","name","location-search","type","text","placeholder","Search",3,"keyup.enter"],["matSuffix","",1,"h-10","relative"],["icon","","name","indoor-map-search","matRipple","","aria-label","search button","matTooltip","Search...",1,"hover:bg-base-200",3,"click"],["matPrefix","",1,"text-2xl","relative"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center"],[3,"diameter"],[1,"absolute","inset-0","flex","flex-col","space-y-2","items-center","justify-center"],["src","assets/icons/not-found.svg","alt","graphic of magnifying glass","width","200px",1,"items-center"],[1,"opacity-60","text-sm","text-center","mt-10"],[1,"flex","items-center","justify-between","px-2","my-2","space-x-2"],[1,"font-medium","text-lg"],["icon","","matRipple","","matTooltip","Clear Results",1,"hover:bg-base-200",3,"click"],[1,"list-none","m-0","p-0","w-full","space-y-2","max-h-[65vh]","overflow-auto"],["class","w-full even:bg-base-200 hover:bg-base-300 rounded border border-base-200",4,"ngFor","ngForOf"],[1,"w-full","even:bg-base-200","hover:bg-base-300","rounded","border","border-base-200"],[1,"flex","items-center","w-full","p-2","space-x-2","text-left",3,"click"],[1,"flex","flex-col","flex-1"],[1,"opacity-30","text-xs"]],template:function(le,ve){if(1&le){const Q=I.RV6();I.nrm(0,"div",1),I.DNE(1,Z,2,1,"div",2)(2,F,5,3,"div",3),I.j41(3,"div",4)(4,"mat-form-field",5)(5,"input",6,0),I.bIt("keyup.enter",function(){return I.eBV(Q),I.Njj(ve.onSearch())}),I.k0s(),I.j41(7,"div",7)(8,"button",8),I.bIt("click",function(){return I.eBV(Q),I.Njj(ve.onSearch())}),I.j41(9,"app-icon",9),I.EFF(10," search "),I.k0s()()()(),I.DNE(11,z,10,6,"ng-container",10),I.k0s()}2&le&&(I.R7$(),I.Y8G("ngIf",ve.loading),I.R7$(),I.Y8G("ngIf",ve.geolocation_error_message),I.R7$(9),I.Y8G("ngIf",null==ve.search_result_items?null:ve.search_result_items.length))},dependencies:[k.Sq,k.bT,T.rl,T.JW,T.yw,w.r6,D.fg,f.LG,V.oV,K.R,k.P9,ne.D9],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return G})()},4918:(jt,Se,l)=>{"use strict";l.d(Se,{N:()=>u,S:()=>I});var t=l(3953),n=l(7375),p=l(2185),v=l(2455);const b=["*","*"];function E(k,T){if(1&k){const w=t.RV6();t.qex(0),t.j41(1,"map-renderer",3),t.mxI("zoomChange",function(f){t.eBV(w);const V=t.XpG();return t.DH7(V.zoom,f)||(V.zoom=f),t.Njj(f)}),t.bIt("zoomChange",function(f){t.eBV(w);const V=t.XpG();return t.Njj(V.zoomChange.next(f))})("mapInfo",function(f){t.eBV(w);const V=t.XpG();return t.Njj(V.mapInfo.next(f))}),t.SdG(2),t.k0s(),t.bVm()}if(2&k){const w=t.XpG();t.R7$(),t.Y8G("src",w.src),t.R50("zoom",w.zoom),t.Y8G("reset",w.reset)("styles",w.styles||(null==w.metadata?null:w.metadata.styles))("features",w.features||(null==w.metadata?null:w.metadata.features))("actions",w.actions||(null==w.metadata?null:w.metadata.actions))("labels",w.labels||(null==w.metadata?null:w.metadata.labels))}}function M(k,T){if(1&k){const w=t.RV6();t.j41(0,"maps-indoors",4),t.bIt("zoneChange",function(f){t.eBV(w);const V=t.XpG();return t.Njj(V.onLevelChange(f))}),t.mxI("zoomChange",function(f){t.eBV(w);const V=t.XpG();return t.DH7(V.zoom,f)||(V.zoom=f),t.Njj(f)}),t.bIt("zoomChange",function(f){t.eBV(w);const V=t.XpG();return t.Njj(V.zoomChange.next(f))}),t.SdG(1,1),t.k0s()}if(2&k){const w=t.XpG();t.Y8G("zone",w.location),t.R50("zoom",w.zoom),t.Y8G("options",w.options)("reset",w.reset)("focus",w.focus)("metadata",w.metadata)}}function S(k,T){if(1&k){const w=t.RV6();t.j41(0,"div",5)(1,"button",6),t.bIt("click",function(){t.eBV(w);const f=t.XpG();return t.Njj(f.zoom=1.1*f.zoom)}),t.j41(2,"app-icon"),t.EFF(3,"add"),t.k0s()(),t.j41(4,"button",7),t.bIt("click",function(){t.eBV(w);const f=t.XpG();return t.Njj(f.zoom=f.zoom*(10/11))}),t.j41(5,"app-icon"),t.EFF(6,"remove"),t.k0s()(),t.j41(7,"button",8),t.bIt("click",function(){t.eBV(w);const f=t.XpG();return t.Njj(f.reset=f.reset+1)}),t.j41(8,"app-icon"),t.EFF(9,"refresh"),t.k0s()()()}}const u=new t.nKC("Data for Map Features");let I=(()=>{class k extends n.Tv{get location(){return this._org.levels.find(w=>w.map_id===this.src)}constructor(w,D,f){super(),this._mapspeople=w,this._org=D,this._explore=f,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.metadata={},this.options={},this.zoomChange=new t.bkB,this.centerChange=new t.bkB,this.mapInfo=new t.bkB,this.use_mapsindoors$=this._mapspeople.available$}ngOnChanges(w){(w.actions||w.labels||w.styles||w.features)&&(this.metadata={actions:this.actions||[],labels:this.labels||[],styles:this.styles||{},features:this.features||[]})}onLevelChange(w){(0,n.Rm)("Map","Level changed to:",w?.display_name||w?.name||w),this._explore.setLevel(w.id)}static#e=this.\u0275fac=function(D){return new(D||k)(t.rXU(n._e),t.rXU(p.yb),t.rXU(v.O))};static#t=this.\u0275cmp=t.VBU({type:k,selectors:[["interactive-map"]],inputs:{src:"src",zoom:"zoom",center:"center",reset:"reset",metadata:"metadata",styles:"styles",features:"features",labels:"labels",actions:"actions",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[t.Vt3,t.OA$],ngContentSelectors:b,decls:5,vars:5,consts:[["mapsindoors_template",""],[4,"ngIf","ngIfElse"],["zoom","","class","absolute bottom-16 right-1 border border-base-200 divide-y divide-base-200 shadow flex flex-col bg-base-100 text-base-content rounded overflow-hidden",4,"ngIf"],[3,"zoomChange","mapInfo","src","zoom","reset","styles","features","actions","labels"],[3,"zoneChange","zoomChange","zone","zoom","options","reset","focus","metadata"],["zoom","",1,"absolute","bottom-16","right-1","border","border-base-200","divide-y","divide-base-200","shadow","flex","flex-col","bg-base-100","text-base-content","rounded","overflow-hidden"],["icon","","matRipple","","matTooltip","Zoom In","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Zoom Out","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Reset Zoom and Position","matTooltipPosition","left",1,"rounded-none",3,"click"]],template:function(D,f){if(1&D&&(t.NAR(b),t.DNE(0,E,3,7,"ng-container",1),t.nI1(1,"async"),t.DNE(2,M,2,6,"ng-template",null,0,t.C5r)(4,S,10,0,"div",2)),2&D){const V=t.sdS(3);t.Y8G("ngIf",!t.bMT(1,3,f.use_mapsindoors$))("ngIfElse",V),t.R7$(4),t.Y8G("ngIf",null==f.options?null:f.options.controls)}}})}return k})()},2354:(jt,Se,l)=>{"use strict";l.d(Se,{o:()=>p});var t=l(2238),n=l(3953);let p=(()=>{class v{constructor(E){this.json=E?.data||"",this._updateFormatting()}ngOnChanges(E){E.json&&this._updateFormatting()}_updateFormatting(){this.formatted_json=JSON.stringify(this.json,void 0,4)}static#e=this.\u0275fac=function(M){return new(M||v)(n.rXU(t.D,8))};static#t=this.\u0275cmp=n.VBU({type:v,selectors:[["json-display"]],inputs:{json:"json"},features:[n.OA$],decls:3,vars:1,consts:[[1,"bg-base-100","shadow","rounded","overflow-auto","max-w-[80vw]","max-h-[80vh]","p-2","border","border-base-300"],[1,"font-mono","text-sm","bg-base-200","p-2","rounded","break-all","w-full"]],template:function(M,S){1&M&&(n.j41(0,"div",0)(1,"pre",1),n.EFF(2),n.k0s()()),2&M&&(n.R7$(2),n.JRh(S.formatted_json))},styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]})}return v})()},3835:(jt,Se,l)=>{"use strict";l.d(Se,{O:()=>S});var t=l(7375),n=l(8030),p=l(3953),v=l(1780),b=l(177),E=l(9434);function M(u,I){if(1&u){const k=p.RV6();p.j41(0,"button",6),p.bIt("click",function(){const w=p.eBV(k).$implicit,D=p.XpG();return p.Njj(D.setLocale(w.id))}),p.EFF(1),p.k0s()}if(2&u){const k=I.$implicit;p.R7$(),p.Lme(" ",k.name," - ",k.flag," ")}}let S=(()=>{class u{get locales(){return this._settings.get("app.locales")||[]}constructor(k,T,w){this._data=k,this._settings=T,this._translation=w,this.setLocale=D=>{this._translation.use(D),localStorage.setItem("PLACEOS.locale",D)},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(T){return new(T||u)(p.rXU(n.Dd),p.rXU(t.h$),p.rXU(v.c$))};static#t=this.\u0275cmp=p.VBU({type:u,selectors:[["language-select"]],decls:11,vars:7,consts:[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1",3,"click"],[1,"flex","items-center","space-x-2","p-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2","p-4"],["class","w-full p-4 border-t border-base-200 text-left",3,"click",4,"ngFor","ngForOf"],[1,"w-full","p-4","border-t","border-base-200","text-left",3,"click"]],template:function(T,w){1&T&&(p.j41(0,"div",0),p.bIt("click",function(){return w.close()}),p.j41(1,"div",1)(2,"app-icon",2),p.EFF(3,"arrow_back"),p.k0s(),p.j41(4,"div",3),p.EFF(5),p.nI1(6,"translate"),p.k0s()(),p.j41(7,"div",4),p.EFF(8),p.nI1(9,"translate"),p.k0s(),p.DNE(10,M,2,2,"button",5),p.k0s()),2&T&&(p.R7$(5),p.JRh(p.bMT(6,3,"COMMON.LANGUAGE")),p.R7$(3),p.SpI(" ",p.bMT(9,5,"COMMON.LANGUAGE_SELECT")," "),p.R7$(2),p.Y8G("ngForOf",w.locales))},dependencies:[b.Sq,E.R,v.D9]})}return u})()},2897:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>E});var t=l(3953);const n="0123456789".split(""),p="0123456789.".split(""),v="abcdefghijklmnopqrstuvwxyz".split(""),b="abcdefghijklmnopqrstuvwxyz0123456789".split("");let E=(()=>{class M{constructor(u){this._el=u,this.restriction="decimals",this.custom_list=[]}onKeyDown(u){const I=u,k=I.key;if(!(-1!==["ArrowLeft","ArrowRight","Tab","Backspace","Home"].indexOf(k)||"a"===I.key&&(I.ctrlKey||I.metaKey)||"c"===I.key&&(I.ctrlKey||I.metaKey)||"v"===I.key&&(I.ctrlKey||I.metaKey)||"x"===I.key&&(I.ctrlKey||I.metaKey)))switch(this.restriction){case"letters":-1===v.indexOf(k)&&I.preventDefault();break;case"alphanumeric":-1===b.indexOf(k)&&I.preventDefault();break;case"custom":-1===this.custom_list.indexOf(k)&&I.preventDefault();break;case"decimals":-1===p.indexOf(k)&&I.preventDefault();break;default:-1===n.indexOf(k)&&I.preventDefault()}}static#e=this.\u0275fac=function(I){return new(I||M)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:M,selectors:[["","limitInput",""]],hostBindings:function(I,k){1&I&&t.bIt("keydown",function(w){return k.onKeyDown(w)})},inputs:{restriction:"restriction",custom_list:"custom_list"}})}return M})()},7558:(jt,Se,l)=>{"use strict";l.d(Se,{I:()=>u});var t=l(467),n=l(9714),p=l(4918),v=l(9493),b=l(7375),E=l(3953);const M=["canvas"],S=["map-canvas",""];let u=(()=>{class I extends b.Tv{get ratioed_height(){return+(this.width*this.ratio).toFixed(2)}constructor(T){super(),this._data=T,this.zoom=1,this.ratio=1,this.svg_ratio=1,this.width=1e4}ngOnInit(){this.subscription("state",(0,n.zV)([this._data.ratio$,this._data.zoom$,this._data.svg_ratio$]).subscribe(([T,w,D])=>this._handleMapChange(T,w,D))),this.subscription("polygons",this._data.polygons$.subscribe(T=>this._handleStateChange(T)))}_handleMapChange(T,w,D){var f=this;return(0,t.A)(function*(){const V=f.ratio;f.zoom=w,f.ratio=T,f.svg_ratio=D;const ne=f.width*f.ratio/10;if(V===T)return;const U=f.canvas_element.nativeElement;U.width=f.width/10,U.height=ne;const c=yield f._data.polygons$.pipe((0,v.s)(1)).toPromise();f._handleStateChange(c)})()}_handleStateChange(T){const w=this.canvas_element.nativeElement;w.getContext("2d").clearRect(0,0,w.width,w.height),T.forEach(f=>this._drawPolygon(f))}_drawPolygon(T){const w=T.points;if(!w?.length)return;const D=this.canvas_element.nativeElement,f=D.getContext("2d"),V=D.width,K=D.height;if(f.fillStyle=T.color+"80",f.beginPath(),f.moveTo(w[0][0]*V,w[0][1]*K),w.forEach(([ne,U])=>f.lineTo(ne*V,U*K)),f.closePath(),f.fill(),f.strokeStyle=(0,b.ej)(T.color,"#888888",.5),f.lineWidth=3,f.beginPath(),f.moveTo(w[0][0]*V,w[0][1]*K),w.forEach(([ne,U])=>f.lineTo(ne*V,U*K)),f.closePath(),f.stroke(),!1!==this._data.draw_points&&(f.fillStyle="#fff",f.strokeStyle=T.color,f.lineWidth=4,w.forEach(([ne,U])=>{f.beginPath(),f.arc(ne*V,U*K,8,0,2*Math.PI),f.fill(),f.stroke()})),!1!==this._data.draw_labels){const ne=w.reduce((U,[c,Z])=>[U[0]+c,U[1]+Z],[0,0]);ne[0]/=w.length,ne[1]/=w.length,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#FFF",f.font="32px sans-serif",f.fillText(T.name,ne[0]*V+1,ne[1]*K+2),f.fillStyle="#000",f.fillText(T.name,ne[0]*V,ne[1]*K)}}static#e=this.\u0275fac=function(w){return new(w||I)(E.rXU(p.N))};static#t=this.\u0275cmp=E.VBU({type:I,selectors:[["","map-canvas",""]],viewQuery:function(w,D){if(1&w&&E.GBs(M,7),2&w){let f;E.mGM(f=E.lsd())&&(D.canvas_element=f.first)}},features:[E.Vt3],attrs:S,decls:2,vars:4,consts:[["canvas",""],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"]],template:function(w,D){1&w&&E.nrm(0,"canvas",1,0),2&w&&E.xc7("width",D.width*D.svg_ratio*D.zoom+"%")("height",D.width*D.svg_ratio*D.ratio*D.zoom+"%")},encapsulation:2})}return I})()},620:(jt,Se,l)=>{"use strict";l.d(Se,{V:()=>S});var t=l(3953),n=l(4006),p=l(7375),v=l(8026),b=l(1865);const E=()=>({disable_pan:!0,disable_zoom:!0});function M(u,I){if(1&u&&(t.j41(0,"div",7)(1,"interactive-map",8),t.nrm(2,"mat-spinner",9),t.k0s(),t.j41(3,"div",10),t.EFF(4),t.k0s()()),2&u){const k=t.XpG();t.R7$(),t.Y8G("src",null==k.level?null:k.level.map_id)("focus",null==k.item?null:k.item.map_id)("features",k.features)("options",t.lJ4(5,E)),t.R7$(3),t.SpI(" ",(null==k.level?null:k.level.display_name)||(null==k.level?null:k.level.name)," ")}}let S=(()=>{class u extends p.Tv{get level(){return this.item.level||this._org.levelWithID(this.item.zones||[])}constructor(k,T){super(),this._data=k,this._org=T,this.event=new t.bkB,this.item=this._data.item,this.style_map={},this.item.level?.id||delete this.item.level}ngOnInit(){this.timeout("init",()=>{this.processFeature(),this.processStyles()},1e3)}processStyles(){const k={};this.item?.map_id&&(k["#zones"]={display:"none"},k["#Zones"]={display:"none"}),this.style_map=k}processFeature(){if(!this.item)return null;this.features=[{location:this.item.map_id,track_id:"focus_item",content:b.V,data:{name:this.item.name},z_index:99,zoom:100}]}static#e=this.\u0275fac=function(T){return new(T||u)(t.rXU(n.Vh),t.rXU(v.y))};static#t=this.\u0275cmp=t.VBU({type:u,selectors:[["map-locate-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:10,vars:2,consts:[[1,"h-[calc(100vh-4rem)]","w-screen","sm:h-auto","sm:w-auto"],[1,"p-4"],[1,"text-2xl"],[1,"ml-2","text-xl","font-medium"],["body","","class","relative overflow-hidden h-[65vh] w-full sm:max-h-[65vh]",4,"ngIf"],[1,"w-full","border-t","border-base-200","flex","items-center","justify-center","p-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["body","",1,"relative","overflow-hidden","h-[65vh]","w-full","sm:max-h-[65vh]"],[1,"pointer-events-none",3,"src","focus","features","options"],["diameter","64"],[1,"absolute","top-2","right-2","py-2","px-4","bg-base-100","rounded-3xl","shadow","border","border-base-200"]],template:function(T,w){1&T&&(t.j41(0,"div",0)(1,"header",1)(2,"app-icon",2),t.EFF(3,"place"),t.k0s(),t.j41(4,"h1",3),t.EFF(5),t.k0s()(),t.DNE(6,M,5,6,"div",4),t.j41(7,"footer",5)(8,"button",6),t.EFF(9," Close "),t.k0s()()()),2&T&&(t.R7$(5),t.SpI(" ",w.item.display_name||w.item.name," "),t.R7$(),t.Y8G("ngIf",w.level))},styles:["[body][_ngcontent-%COMP%]{min-width:80vw!important}"]})}return u})()},1865:(jt,Se,l)=>{"use strict";l.d(Se,{V:()=>M});var t=l(4918),n=l(3953),p=l(177);const v=["map-pin",""];function b(S,u){if(1&S&&(n.j41(0,"div",2),n.EFF(1),n.k0s()),2&S){const I=n.XpG();n.R7$(),n.SpI(" ",I.message," ")}}function E(S,u){if(1&S){const I=n.RV6();n.qSk(),n.j41(0,"svg",3),n.bIt("click",function(){n.eBV(I);const T=n.XpG();return n.Njj(T.action())}),n.j41(1,"g"),n.nrm(2,"path",4),n.k0s()()}if(2&S){const I=n.XpG();n.AVh("action",I.action),n.R7$(2),n.xc7("fill",I.fill)("stroke",I.stroke)}}let M=(()=>{class S{constructor(I){this._details=I,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#fff",this.action=this._details.action||null}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}static#e=this.\u0275fac=function(k){return new(k||S)(n.rXU(t.N))};static#t=this.\u0275cmp=n.VBU({type:S,selectors:[["","map-pin",""]],attrs:v,decls:2,vars:2,consts:[["name","message","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow",4,"ngIf"],["name","pin","viewBox","0 0 380 560",3,"action","click",4,"ngIf"],["name","message",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow"],["name","pin","viewBox","0 0 380 560",3,"click"],["stroke-width","25","d","M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"]],template:function(k,T){1&k&&n.DNE(0,b,2,1,"div",0)(1,E,3,6,"svg",1),2&k&&(n.Y8G("ngIf",T.message&&T.show_message),n.R7$(),n.Y8G("ngIf",T.show))},dependencies:[p.bT],styles:["[_nghost-%COMP%]{position:absolute;bottom:50%;left:50%;width:24rem;display:flex;flex-direction:column;align-items:center;transform:translate(-50%);z-index:-1}div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-top 1s}.action[_ngcontent-%COMP%]{pointer-events:auto}svg[_ngcontent-%COMP%]{width:2rem;animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}"]})}return S})()},5384:(jt,Se,l)=>{"use strict";l.d(Se,{o:()=>u});var t=l(6863),n=l(4918),p=l(3953),v=l(177);const b=["map-radius",""];function E(I,k){if(1&I&&(p.j41(0,"span",6),p.EFF(1),p.k0s()),2&I){const T=p.XpG(3);p.R7$(),p.SpI(" Last updated: ",T.last_seen_at," ")}}function M(I,k){if(1&I&&(p.j41(0,"div",4),p.EFF(1),p.DNE(2,E,2,1,"span",5),p.k0s()),2&I){const T=p.XpG(2);p.xc7("top","-"+T.radius/2*T.zoom+"px"),p.R7$(),p.SpI(" ",T.message," "),p.R7$(),p.Y8G("ngIf",T.last_seen)}}function S(I,k){if(1&I){const T=p.RV6();p.qex(0,1),p.bIt("resize",function(){p.eBV(T);const D=p.XpG();return p.Njj(D.updateRadius())},!1,p.tSv),p.nrm(1,"div",2),p.DNE(2,M,3,4,"div",3),p.bVm()}if(2&I){const T=p.XpG();p.R7$(),p.xc7("border-color",T.stroke)("background-color",T.fill+"40")("width",T.radius*T.zoom+"px")("height",T.radius*T.zoom+"px"),p.R7$(),p.Y8G("ngIf",T.message&&T.show_message)}}let u=(()=>{class I{get last_seen_at(){return(0,t.m)(1e3*this.last_seen)+" ago"}constructor(T,w){this._details=T,this._el=w,this.zoom=1,this.radius=this._details.radius||10,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#e53935",this.last_seen=this._details.last_seen||0,this._details.zoom$?.subscribe(D=>Math.max(.5,this.zoom=D||1))}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}ngAfterViewInit(){this.updateRadius()}updateRadius(){const T=this._el.nativeElement.getBoundingClientRect();if(!T.width)return setTimeout(()=>this.updateRadius(),300);this.radius=Math.max(64,(this._details.radius||10)*(T.width||10))}static#e=this.\u0275fac=function(w){return new(w||I)(p.rXU(n.N),p.rXU(p.aKT))};static#t=this.\u0275cmp=p.VBU({type:I,selectors:[["","map-radius",""]],attrs:b,decls:1,vars:1,consts:[[3,"resize",4,"ngIf"],[3,"resize"],["radius","",1,"center","border-4","rounded-full","border-dashed"],["message","","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64",3,"top",4,"ngIf"],["message","",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow","absolute","top-0","whitespace-no-wrap","flex","flex-col","w-64"],["class","text-xs",4,"ngIf"],[1,"text-xs"]],template:function(w,D){1&w&&p.DNE(0,S,3,9,"ng-container",0),2&w&&p.Y8G("ngIf",D.show&&D.radius)},dependencies:[v.bT],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:100%}[message][_ngcontent-%COMP%]{transform:translate(-50%,-120%);animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translate(-50%,-220%)}to{opacity:1;transform:translate(-50%,-120%)}}"]})}return I})()},9489:(jt,Se,l)=>{"use strict";l.d(Se,{F:()=>$});var t=l(467),n=l(3953),p=l(7375),v=l(6511),b=l(1038),E=l(9928),M=l(5006),S=l(4918),u=l(177),I=l(9183),k=l(4616);const T=["outlet"],w=["feature"];function D(te,G){1&te&&n.nrm(0,"mat-spinner",7),2&te&&n.Y8G("diameter",48)}function f(te,G){if(1&te&&(n.qex(0),n.DNE(1,D,1,1,"mat-spinner",6),n.bVm()),2&te){const oe=n.XpG();n.R7$(),n.Y8G("ngIf",!oe.viewer||oe.loading)}}function V(te,G){1&te&&n.eu8(0)}function K(te,G){if(1&te&&(n.qex(0),n.DNE(1,V,1,0,"ng-container",14),n.bVm()),2&te){const oe=n.XpG(2),ce=oe.$implicit,le=oe.index,ve=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",ce.content)("ngComponentOutletInjector",ve.injectors[le])}}function ne(te,G){if(1&te&&(n.qex(0),n.nrm(1,"div",15),n.nI1(2,"sanitize"),n.bVm()),2&te){const oe=n.XpG(2).$implicit;n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,oe.content),n.npT)}}function U(te,G){1&te&&n.eu8(0)}function c(te,G){if(1&te&&(n.qex(0),n.DNE(1,U,1,0,"ng-container",16),n.bVm()),2&te){const oe=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngTemplateOutlet",oe.content)("ngTemplateOutletContext",oe.data)}}function Z(te,G){if(1&te&&(n.j41(0,"div")(1,"div",11,2),n.DNE(3,K,2,2,"ng-container",12)(4,ne,3,3,"ng-container",12)(5,c,2,2,"ng-container",13),n.k0s()()),2&te){const oe=n.XpG().$implicit,ce=n.XpG(2);n.R7$(),n.Y8G("ngSwitch",ce.type(oe.content)),n.BMQ("no-scale",oe.no_scale)("el-id",oe.location)("track-id",oe.track_id)("view-id",ce.viewer),n.R7$(2),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}function F(te,G){if(1&te&&(n.qex(0),n.DNE(1,Z,6,7,"div",10),n.bVm()),2&te){const oe=G.$implicit;n.R7$(),n.Y8G("ngIf",oe)}}function J(te,G){if(1&te&&(n.j41(0,"div",8),n.DNE(1,F,2,1,"ng-container",9),n.k0s()),2&te){const oe=n.XpG();n.R7$(),n.Y8G("ngForOf",oe.features)("ngForTrackBy",oe.trackByFn)}}function z(te,G){1&te&&(n.j41(0,"div",17)(1,"div",18),n.EFF(2,"No map"),n.k0s()())}let $=(()=>{class te extends p.Tv{onResize(){this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay()}type(oe){return"string"==typeof oe?"html":oe instanceof n.C4Q?"template":"component"}constructor(oe){super(),this._injector=oe,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.zoomChange=new n.bkB,this.centerChange=new n.bkB,this.mapInfo=new n.bkB,this.injectors=[],this.feature_list=[],this._on_changes=new E.t(null),this._extra_data={ratio$:this._on_changes.pipe((0,M.T)(ce=>ce.ratio)),svg_ratio$:this._on_changes.pipe((0,M.T)(ce=>ce.svg_ratio)),zoom$:this._on_changes.pipe((0,M.T)(ce=>ce.zoom)),position:this._on_changes.pipe((0,M.T)(ce=>ce.center))}}ngOnInit(){(0,v.Of)()}ngOnDestroy(){this.viewer&&(0,v.b2)(this.viewer)}ngOnChanges(oe){oe.src&&this.src&&this.createView().catch(ce=>console.warn(ce)),oe.features&&this.updateInjectors(),this.viewer&&(oe.focus&&this.focus?this.focusOn(this.focus):(oe.zoom&&oe.zoom.previousValue!=oe.zoom.currentValue||oe.center&&!function X(te,G){return te.x===G.x&&te.y===G.y}(oe.center.previousValue,oe.center.currentValue))&&this.updateDisplay(),(oe.styles||oe.features||oe.labels||oe.actions)&&this.timeout("update_view",()=>this.updateView())),oe.reset&&oe.reset.currentValue!==oe.reset.previousValue&&(this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay())}ngAfterViewInit(){this.createView().catch(oe=>console.warn(oe))}updateView(){try{if(!(0,v.tk)(this.viewer)||this.loading)return this.timeout("update_view",()=>this.updateView());this.updateFeatureList(),(0,v.Ay)(this.viewer,{styles:this.styles,features:this.feature_list,labels:this.labels,actions:this.actions,options:this.options})}catch{}}updateDisplay(){try{(0,v.Ay)(this.viewer,{zoom:this.zoom,desired_zoom:this.zoom,center:this.center,desired_center:this.center,options:this.options})}catch{}}createView(){var oe=this;return(0,t.A)(function*(){if(!(0,b.kup)())return oe.timeout("create_view",()=>oe.createView().catch(le=>console.warn(le)),300);const ce=oe.src?.toLowerCase()||"";if(ce.includes("svg")||ce.includes("upload"))if(oe.src&&oe._outlet_el?.nativeElement&&!oe.loading){if(oe.loading=!0,oe.viewer)try{(0,v.Ay)(oe.viewer,{styles:oe.styles,features:[],labels:oe.labels,actions:oe.actions,options:oe.options}),(0,v.b2)(oe.viewer)}catch(Q){return void console.warn(Q)}oe.updateFeatureList();const le=(0,b.ShT)();if(document.cookie=`${"x-api-key"===le?"api-key="+encodeURIComponent((0,b.Kz4)()):"bearer_token="+encodeURIComponent(le)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`,oe.viewer=yield(0,v.Rx)({element:oe._outlet_el?.nativeElement,url:oe.src,styles:oe.styles,zoom:oe.zoom,desired_zoom:oe.zoom,center:oe.center,features:oe.feature_list,labels:oe.labels,actions:oe.actions,options:oe.options}).catch(Q=>(console.warn(Q),"")),oe.loading=!1,!oe.viewer)return;oe.loading=!1,oe.subscription("view_changes",(0,v.mn)(oe.viewer)?.subscribe(Q=>{oe._outlet_el.nativeElement.getBoundingClientRect(),oe._on_changes.next({...Q}),oe.zoomChange.emit(Q.zoom),oe.centerChange.emit(Q.center)}));const ve=(0,v.tk)(oe.viewer);oe.mapInfo.emit(ve.mappings),oe.focus&&oe.focusOn(oe.focus)}else(oe.src&&!oe._outlet_el?.nativeElement||oe.loading)&&oe.timeout("create_view",()=>oe.createView().catch(le=>console.warn(le)))})()}focusOn(oe){if(!oe||!this.viewer)return;const ce=(0,v.tk)(this.viewer);if(!ce)return;const le=ce.mappings[oe];le&&(this.center={x:1-(le.x+le.w/2),y:1-(le.y+le.h/4)},this.updateDisplay())}trackByFn(oe,ce){return ce?.track_id}updateFeatureList(){this.feature_list=(this.features||[]).map((oe,ce)=>({...oe,content:this._feature_list.toArray()[ce]?.nativeElement})).filter(oe=>oe.content)}updateInjectors(){const oe=this.injectors||[];this.injectors=(this.features||[]).map(ce=>oe.find(le=>le.get(S.N)?.track_id&&le.get(S.N)?.track_id===ce.track_id)||n.zZn.create({providers:[{provide:S.N,useValue:{track_id:ce.track_id,...ce.data,...this._extra_data}}],parent:this._injector}))}static#e=this.\u0275fac=function(ce){return new(ce||te)(n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:te,selectors:[["map-renderer"]],viewQuery:function(ce,le){if(1&ce&&(n.GBs(T,5),n.GBs(w,5)),2&ce){let ve;n.mGM(ve=n.lsd())&&(le._outlet_el=ve.first),n.mGM(ve=n.lsd())&&(le._feature_list=ve)}},hostBindings:function(ce,le){1&ce&&n.bIt("resize",function(){return le.onResize()},!1,n.tSv)},inputs:{src:"src",styles:"styles",zoom:"zoom",center:"center",features:"features",labels:"labels",actions:"actions",reset:"reset",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[n.Vt3,n.OA$],decls:6,vars:5,consts:[["outlet",""],["empty_state",""],["feature",""],["tabindex","0","role","map",1,"absolute","inset-0"],[4,"ngIf","ngIfElse"],["hidden","",4,"ngIf"],["class","absolute",3,"diameter",4,"ngIf"],[1,"absolute",3,"diameter"],["hidden",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"pointer-events-none",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"opacity-30"]],template:function(ce,le){if(1&ce&&(n.nrm(0,"div",3,0),n.DNE(2,f,2,1,"ng-container",4)(3,J,2,2,"div",5)(4,z,3,0,"ng-template",null,1,n.C5r)),2&ce){const ve=n.sdS(5);n.AVh("hidden",!le.src),n.R7$(2),n.Y8G("ngIf",le.src)("ngIfElse",ve),n.R7$(),n.Y8G("ngIf",null==le.injectors?null:le.injectors.length)}},dependencies:[u.OI,u.Sq,u.bT,u.T3,u.ux,u.e1,u.fG,I.LG,k.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return te})()},877:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>V});var t=l(467),n=l(3953),p=l(2185),v=l(7375),b=l(9420),E=l(9493),M=l(177),S=l(6600),u=l(9183),I=l(9434);const k=["map_container"];function T(K,ne){1&K&&n.nrm(0,"mat-spinner",6)}function w(K,ne){if(1&K){const U=n.RV6();n.j41(0,"button",3),n.bIt("click",function(){n.eBV(U);const Z=n.XpG();return n.Njj(Z.toggleDirections())}),n.j41(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div",4),n.EFF(4),n.k0s(),n.DNE(5,T,1,0,"mat-spinner",5),n.k0s()}if(2&K){const U=n.XpG();n.R7$(4),n.SpI(" ",U.viewing_directions?"Hide":"Show"," Directions "),n.R7$(),n.Y8G("ngIf",U.loading_directions)}}const D=18.5,f={};let V=(()=>{class K extends v.Tv{constructor(U,c){super(),this._maps_people=U,this._org=c,this.zoom=D,this.zoomChange=new n.bkB,this.zoneChange=new n.bkB,this.show_directions=!1,this.viewing_directions=!1,this.loading_directions=!1,this.ignore_zoom=!1,this._floor_list=[],this._added_floor_selector=!1;const Z=sessionStorage.getItem("PLACEOS.mapsindoors.resources")||"{}",F=JSON.parse(Z);for(const J in F)F.hasOwnProperty(J)&&(f[J]=F[J])}ngOnInit(){this.id=(0,v.DU)(8),this._initialised.next(!1),this._initialiseServices()}ngOnChanges(U){if(!this.is_initialised)return this.timeout("on_changes",()=>this.ngOnChanges(U));U.zone&&this.zone&&this._centerOnZone(),U.focus&&this.focus&&this._focusOnLocation(),U.metadata&&this._updateMapStyling(),U.zoom&&this.zoom&&!this.ignore_zoom&&this._services?.map?.setZoom(this.zoom),U.reset&&(this._services?.map?.setZoom(D),this._centerOnZone()),U.options&&this._addFloorSelector()}_setResource(U,c){f[U]=c,this.timeout("set_resource",()=>{sessionStorage.setItem("PLACEOS.mapsindoors.resources",JSON.stringify(f))})}_initialiseServices(){if(!this._maps_people.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initialiseServices(),1e3);const[U,c]=(this._org.building?.location||"-33.8567844,151.2152967").split(","),Z={element:this._container.nativeElement,center:{lat:parseFloat(U),lng:parseFloat(c)},zoom:D,maxZoom:24};let F=null;switch(this._maps_people.map_service){case b.u.GoogleMaps:(0,v.Rm)("MapsIndoors","Using Google Maps API"),F=new mapsindoors.mapView.GoogleMapsView(Z);break;case b.u.Mapbox:Z.accessToken=this._maps_people.map_token,(0,v.Rm)("MapsIndoors","Using Mapbox API"),F=new mapsindoors.mapView.MapboxView(Z)}if(!F)return void(0,v.WS)("Failed to initialise map view.");const J=this._maps_people.map_service===b.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._maps_people.map_token),z=new mapsindoors.MapsIndoors({mapView:F});this._services={mapsindoors:z,view:F,map:F.getMap(),directions:new mapsindoors.services.DirectionsService(J),directions_renderer:new mapsindoors.directions.DirectionsRenderer({mapsIndoors:z})},this._initialised.next(!0),this.zone&&(this._services.map.setZoom(D),this._centerOnZone()),this._addFloorSelector(),this._services.mapsindoors.addListener("building_changed",X=>this._handleBuildingChange(X)),this._services.mapsindoors.addListener("floor_changed",X=>this._handleLevelChange(X)),this._services.mapsindoors.addListener("zoom_changed",X=>this._handleZoomChange(X)),this._services.mapsindoors.addListener("click",X=>this._handleUserClick(X)),this.timeout("resize",()=>window.dispatchEvent(new Event("resize")),100),window.maps_indoors=this._services,this.timeout("focus",()=>this._focusOnLocation()),this.timeout("init_zoom",()=>this._handleZoomChange(D))}clearDirections(){this._services.directions_renderer.setRoute(null),this.viewing_directions=!1}toggleDirections(){var U=this;return(0,t.A)(function*(){if(U.viewing_directions)return U.clearDirections(),void U._focusOnLocation();if(!U.focus)return;const c=yield U._search(U.focus);if(!c?.length)return void(0,v.UG)(`Unable to find location "${U.focus}".`);U.loading_directions=!0;const Z=c[0],F=U._org.buildings.find($=>$.id===U.zone.parent_id),[J,z]=Z.properties?.anchor?.coordinates||F?.location.split(",")||[37.8136,144.9631];navigator.geolocation.getCurrentPosition(function(){var $=(0,t.A)(function*(te){U._last_position=te,U.setDirectionsFromLocation({lat:te.coords.latitude,lng:te.coords.longitude},{lat:z,lng:J})});return function(te){return $.apply(this,arguments)}}(),()=>{U._last_position?U.setDirectionsFromLocation({lat:U._last_position.coords.latitude,lng:U._last_position.coords.longitude},{lat:z,lng:J}):(0,v.UG)("Failed to get your current location.")},{timeout:1e4,enableHighAccuracy:!0})})()}setDirectionsFromLocation(U,c){var Z=this;return(0,t.A)(function*(){const F=(0,v.gd)(c.lat,c.lng,U.lat,U.lng),J={origin:{lat:U.lat,lng:U.lng},destination:{lat:c.lat,lng:c.lng},travelMode:F<2?"WALKING":"DRIVING"},z=yield Z._services.directions.getRoute(J).catch(X=>{(0,v.Rm)("MapsIndoors","Error fetching route: ",X.message||X,"warn");const $=X instanceof TypeError&&X.message?.includes("origin");Z.loading_directions=!1,$&&(0,v.UG)("Error: Origin location is outside of map area.")});z&&(Z._services.directions_renderer.setRoute(z),Z.viewing_directions=!0,Z.loading_directions=!1)})()}_handleZoomChange(U){this.timeout("zoom_change",()=>{this.ignore_zoom=!0,this.zoom=U,this.zoomChange.emit(U),this.timeout("reset_ignore_zoom",()=>this.ignore_zoom=!1,50)},100)}_handleBuildingChange(U){const c=U.externalId||U.id;(0,v.Rm)("MapsIndoors",`Building switched to "${c}"`);const Z=U.floors||{};if(this._floor_list=Object.keys(Z).map(J=>({index:J,...Z[J]})),(0,v.Rm)("MapsIndoors","Floor List:",this._floor_list),!this._services)return;const F=this._org.buildings.find(J=>J.id===c||J.map_id===c);this.timeout("set_floor",()=>{!this._setFloorFromZone()&&U.defaultFloor&&this._handleLevelChange(U.defaultFloor)}),F&&(this._org.building=F,this._last_building=F.id)}_handleLevelChange(U){var c=this;return(0,t.A)(function*(){(0,v.Rm)("MapsIndoors",`Level switched to "${U}"`);const Z=c._floor_list.find(X=>X.index===U),F=Z?.externalId||Z?.id;if(!c._services)return;const J=yield c._org.active_levels.pipe((0,E.s)(1)).toPromise();if(!J)return;const z=J.find(X=>X.map_id===F||X.id===F);z&&(c.zone=z,c.zoneChange.emit(z))})()}_handleUserClick(U){(0,v.Rm)("MapsIndoors","Click occurred",U);const c=U.properties?.externalId||U.properties?.roomId||U.id,Z=this.metadata?.actions||[];(0,v.Rm)("MapsIndoors","Registered Actions",Z);const F=["mousedown","touchstart","enter","leave"];for(const J of Z)if((J.id===c||"*"===J.id)&&!F.includes(J.action)){J.callback(U);break}}_search(U){var c=this;return(0,t.A)(function*(){if(c._services)return mapsindoors?.services.LocationsService.getLocations({q:U})})()}_updateMapStyling(){var U=this;return(0,t.A)(function*(){if(!U._services)return;const c=U.metadata?.styles||{};for(const Z in c){if(!c[Z].fill)continue;let F=f[Z];if(!F){const z=Z.replace(/#/,""),X=yield U._search(z);if(!X.length)continue;F=X.find($=>$.properties?.externalId===z||$.properties?.roomId===z||$.id===z),F&&U._setResource(Z,F)}F&&U._services.mapsindoors.setDisplayRule(F.id,{extrusionHeight:0,extrusionVisible:!1,polygonVisible:!0,polygonFillColor:c[Z].fill})}})()}_focusOnLocation(){var U=this;return(0,t.A)(function*(){if(!U.focus)return;const c=yield U._search(U.focus);if(U.clearDirections(),!c?.length)return void(0,v.UG)(`Unable to find location ${U.focus}.`);const Z=c.find(X=>X.properties?.externalId===U.focus)||c[0],F=U._org.buildings.find(X=>X.id===U.zone.parent_id),[J,z]=Z.properties?.anchor?.coordinates||F?.location.split(",")||[37.8136,144.9631];U._services.map.setZoom(D),U._services.map.setCenter({lat:z,lng:J}),U._services.mapsindoors.setFloor(Z.properties?.floor),U._services.mapsindoors.highlight([Z.id])})()}_centerOnZone(){!this._services||!this.zone||this.zone.parent_id===this._last_building||this.zone.id===this._last_building||this.timeout("set_center",()=>{const U=this._org.buildings.find(F=>F.id===this.zone.parent_id);if(!U)return;const[c,Z]=U?.location.split(",");this.focus||this._services.map.setCenter({lat:parseFloat(c),lng:parseFloat(Z)}),this._setFloorFromZone(),this._last_building=this.zone.id})}_setFloorFromZone(){if(!this.zone.map_id||!this._services)return!1;const U=this.zone.map_id,c=this._floor_list.find(Z=>Z.index===U||Z.externalId===U||Z.id===U);return!!c&&(this._services.mapsindoors.setFloor(c.index),!0)}_addFloorSelector(){if(!this.options?.controls||this._added_floor_selector)return;const U=document.createElement("div");new mapsindoors.FloorSelector(U,this._services.mapsindoors),this._maps_people.map_service===b.u.GoogleMaps?this._services.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(U):this._services.map.addControl({onAdd:()=>U,onRemove:()=>{}}),this._added_floor_selector=!0}static#e=this.\u0275fac=function(c){return new(c||K)(n.rXU(v._e),n.rXU(p.yb))};static#t=this.\u0275cmp=n.VBU({type:K,selectors:[["maps-indoors"]],viewQuery:function(c,Z){if(1&c&&n.GBs(k,7),2&c){let F;n.mGM(F=n.lsd())&&(Z._container=F.first)}},inputs:{zone:"zone",metadata:"metadata",options:"options",focus:"focus",zoom:"zoom",reset:"reset"},outputs:{zoomChange:"zoomChange",zoneChange:"zoneChange"},features:[n.Vt3,n.OA$],decls:3,vars:1,consts:[["map_container",""],[1,"absolute","inset-0","z-0"],["btn","","matRipple","","class","absolute bottom-2 left-2 bg-base-100 text-base-content shadow z-10 border-base-200 space-x-2",3,"click",4,"ngIf"],["btn","","matRipple","",1,"absolute","bottom-2","left-2","bg-base-100","text-base-content","shadow","z-10","border-base-200","space-x-2",3,"click"],[1,"pr-2"],["diameter","24",4,"ngIf"],["diameter","24"]],template:function(c,Z){1&c&&(n.nrm(0,"div",1,0),n.DNE(2,w,6,2,"button",2)),2&c&&(n.R7$(2),n.Y8G("ngIf",Z.focus&&!Z.show_directions&&(null==Z.options?null:Z.options.controls)))},dependencies:[M.bT,S.r6,u.LG,I.R]})}return K})()},4418:(jt,Se,l)=>{"use strict";l.d(Se,{S:()=>M});var t=l(3953),n=l(7375),p=l(177),v=l(6600),b=l(9434);function E(S,u){if(1&S){const I=t.RV6();t.j41(0,"button",2),t.bIt("click",function(){const T=t.eBV(I).$implicit,w=t.XpG();return w.action.emit(T.id),t.Njj(w.show=!1)}),t.nrm(1,"app-icon",3),t.k0s()}if(2&S){const I=u.$implicit,k=u.index,T=t.XpG();t.xc7("top",T.show?-110*k-60+"%":""),t.R7$(),t.Y8G("icon",I)}}let M=(()=>{class S extends n.Tv{constructor(){super(...arguments),this.actions=[],this.action=new t.bkB}close(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=(()=>{let I;return function(T){return(I||(I=t.xGo(S)))(T||S)}})();static#t=this.\u0275cmp=t.VBU({type:S,selectors:[["a-popout-menu"]],inputs:{actions:"actions"},outputs:{action:"action"},features:[t.Vt3],decls:4,vars:4,consts:[["icon","","matRipple","","class","small absolute text-base center shadow",3,"top","click",4,"ngFor","ngForOf"],["name","root","icon","","matRipple","",3,"click"],["icon","","matRipple","",1,"small","absolute","text-base","center","shadow",3,"click"],[3,"icon"]],template:function(k,T){1&k&&(t.DNE(0,E,2,3,"button",0),t.j41(1,"button",1),t.bIt("click",function(){return T.show=!T.show})("click",function(){return T.show?T.close():""},!1,t.tSv),t.j41(2,"app-icon"),t.EFF(3),t.k0s()()),2&k&&(t.Y8G("ngForOf",T.actions),t.R7$(),t.AVh("show",T.show),t.R7$(2),t.JRh(T.show?"add":"more_vert"))},dependencies:[p.Sq,v.r6,b.R],styles:["[_nghost-%COMP%]{position:relative}app-icon[_ngcontent-%COMP%]{transition:transform .2s}button[_ngcontent-%COMP%]{background-color:#fff;color:rgba(#000,.85);font-size:1.25rem;height:2.5em;width:2.5em}button.show[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}button.small[_ngcontent-%COMP%]{transition:top .2s,left .2s}"]})}return S})()},4846:(jt,Se,l)=>{"use strict";l.d(Se,{L:()=>u});var t=l(6939),n=l(5354),p=l(3953),v=l(7987),b=l(4616);const E=["printable",""],M=["*"];function S(I,k){if(1&I&&(p.nrm(0,"div",1),p.nI1(1,"sanitize")),2&I){const T=p.XpG();p.Y8G("innerHTML",p.bMT(1,1,T.content),p.npT)}}let u=(()=>{class I extends n.T{constructor(T,w){super(),this._overlay=T,this._elem=w,this.content="",this._overlay_ref=null}ngOnInit(){this.open()}ngAfterViewInit(){this.content=this._elem.nativeElement.outerHTML}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.timeout("open",()=>{this._overlay_ref&&this.close(),this._portal&&(this._overlay_ref=this._overlay.create({hasBackdrop:!1,positionStrategy:this._overlay.position().flexibleConnectedTo(document.body).withPositions([{originX:"end",originY:"top",overlayX:"end",overlayY:"top"}])}),this._overlay_ref.attach(this._portal))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}static#e=this.\u0275fac=function(w){return new(w||I)(p.rXU(v.hJ),p.rXU(p.aKT))};static#t=this.\u0275cmp=p.VBU({type:I,selectors:[["","printable",""]],viewQuery:function(w,D){if(1&w&&p.GBs(t.bV,5),2&w){let f;p.mGM(f=p.lsd())&&(D._portal=f.first)}},features:[p.Vt3],attrs:E,ngContentSelectors:M,decls:2,vars:0,consts:[["cdk-portal",""],["printable-view","",1,"fixed","top-0","left-0","flex-col","items-end","hidden","print:flex","pointer-events-none",3,"innerHTML"]],template:function(w,D){1&w&&(p.NAR(),p.SdG(0),p.DNE(1,S,2,3,"ng-template",0))},dependencies:[t.Qq,b.a],encapsulation:2})}return I})()},8283:(jt,Se,l)=>{"use strict";l.d(Se,{K:()=>M});var t=l(467),n=l(4046),p=l(7375),v=l(8026),b=l(3953),E=l(2091);let M=(()=>{class S{constructor(I,k,T){this._settings=I,this._org=k,this._router=T}ngOnInit(){var I=this;return(0,t.A)(function*(){yield I._settings.initialised.pipe((0,n.$)(k=>k)).toPromise(),yield I._org.initialised.pipe((0,n.$)(k=>k)).toPromise(),I._settings.get("app.default_route")&&I._router.navigate(I._settings.get("app.default_route").split("/"))})()}static#e=this.\u0275fac=function(k){return new(k||S)(b.rXU(p.h$),b.rXU(v.y),b.rXU(E.Ix))};static#t=this.\u0275cmp=b.VBU({type:S,selectors:[["page-redirect"]],decls:0,vars:0,template:function(k,T){}})}return S})()},6962:(jt,Se,l)=>{"use strict";l.d(Se,{q:()=>I});var t=l(467),n=l(8030),p=l(2185),v=l(3953),b=l(177),E=l(9417),M=l(5951),S=l(9434);function u(k,T){if(1&k){const w=v.RV6();v.j41(0,"mat-radio-button",8),v.bIt("click",function(){const f=v.eBV(w).$implicit,V=v.XpG();return v.Njj(V.setRegion(f))}),v.EFF(1),v.k0s()}if(2&k){const w=T.$implicit;v.Y8G("value",w.id),v.R7$(),v.SpI(" ",w.display_name||w.name," ")}}let I=(()=>{class k{constructor(w,D){var f=this;this._data=w,this._org=D,this.regions=this._org.region_list,this.region=this._org.active_region,this.setRegion=function(){var V=(0,t.A)(function*(K){yield f._org.setRegion(K),f._org.saveBuilding(f._org.building.id),f._data?.close()});return function(K){return V.apply(this,arguments)}}(),this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(D){return new(D||k)(v.rXU(n.Dd),v.rXU(p.yb))};static#t=this.\u0275cmp=v.VBU({type:k,selectors:[["region-select"]],decls:14,vars:11,consts:()=>{let w;return w=$localize`:234e996785a944c8e8c7df16179eaa04405b34465361505502593902636:Select a region`,[w,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(D,f){if(1&D&&(v.j41(0,"div",1),v.bIt("click",function(){return f.close()}),v.j41(1,"div",2)(2,"app-icon",3),v.EFF(3,"arrow_back"),v.k0s(),v.j41(4,"div",4),v.EFF(5),v.nI1(6,"async"),v.nI1(7,"async"),v.k0s()(),v.j41(8,"div",5),v.pXf(9,0),v.k0s(),v.j41(10,"mat-radio-group",6),v.nI1(11,"async"),v.DNE(12,u,2,2,"mat-radio-button",7),v.nI1(13,"async"),v.k0s()()),2&D){let V,K;v.R7$(5),v.SpI(" ",(null==(V=v.bMT(6,3,f.region))?null:V.display_name)||(null==(V=v.bMT(7,5,f.region))?null:V.name)," "),v.R7$(5),v.Y8G("ngModel",null==(K=v.bMT(11,7,f.region))?null:K.id),v.R7$(2),v.Y8G("ngForOf",v.bMT(13,9,f.regions))}},dependencies:[b.Sq,E.BC,E.vS,M.VT,M._g,S.R,b.Jj]})}return k})()},6781:(jt,Se,l)=>{"use strict";l.d(Se,{m:()=>p});var t=l(3953),n=l(345);let p=(()=>{class v{constructor(E){this.sanitizer=E}transform(E,M="html"){switch(M){case"resource":return this.sanitizer.bypassSecurityTrustResourceUrl(E);case"url":return this.sanitizer.bypassSecurityTrustUrl(E);case"script":return this.sanitizer.bypassSecurityTrustScript(E);case"style":return this.sanitizer.bypassSecurityTrustStyle(E);default:return this.sanitizer.bypassSecurityTrustHtml(E)}}static#e=this.\u0275fac=function(M){return new(M||v)(t.rXU(n.up,16))};static#t=this.\u0275pipe=t.EJ8({name:"safe",type:v,pure:!0})}return v})()},4616:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>v});var t=l(3953),n=l(345),p=function(b){return b[b.NONE=0]="NONE",b[b.HTML=1]="HTML",b[b.STYLE=2]="STYLE",b[b.SCRIPT=3]="SCRIPT",b[b.URL=4]="URL",b[b.RESOURCE_URL=5]="RESOURCE_URL",b}(p||{});let v=(()=>{class b{constructor(M){this.sanitizer=M}transform(M,S="html"){switch(S){case"resource":return this.sanitizer.sanitize(p.RESOURCE_URL,M);case"url":return this.sanitizer.sanitize(p.URL,M);case"script":return this.sanitizer.sanitize(p.SCRIPT,M);case"style":return this.sanitizer.sanitize(p.STYLE,M);default:return this.sanitizer.sanitize(p.HTML,M)}}static#e=this.\u0275fac=function(S){return new(S||b)(t.rXU(n.up,16))};static#t=this.\u0275pipe=t.EJ8({name:"sanitize",type:b,pure:!0})}return b})()},8328:(jt,Se,l)=>{"use strict";l.d(Se,{O:()=>ce});var t=l(467),n=l(3953),p=l(7375),v=l(9928),b=l(9714),E=l(3020),M=l(5006),S=l(8712),u=l(9493),I=l(177),k=l(6600),T=l(2765),w=l(9434);const D=(le,ve,Q,R,L,H,fe)=>({first:le,last:ve,index:Q,data:R,row:L,key:H,name:fe}),f=(le,ve,Q,R)=>({first:le,last:ve,index:Q,row:R});function V(le,ve){if(1&le){const Q=n.RV6();n.j41(0,"div",6)(1,"mat-checkbox",7),n.nI1(2,"async"),n.nI1(3,"async"),n.bIt("change",function(L){n.eBV(Q);const H=n.XpG();return n.Njj(H.selectAll(L.checked))}),n.k0s()()}if(2&le){let Q,R;const L=n.XpG();n.xc7("grid-column","1 / 2"),n.R7$(),n.Y8G("checked",L.selected.length===(null==(Q=n.bMT(2,4,L.data_view$))?null:Q.length))("indeterminate",L.selected.length>0&&L.selected.length<(null==(R=n.bMT(3,6,L.data_view$))?null:R.length))}}function K(le,ve){if(1&le&&(n.j41(0,"app-icon",11),n.EFF(1),n.k0s()),2&le){const Q=n.XpG().$implicit,R=n.XpG();n.R7$(),n.SpI(" ",(null==R.sort?null:R.sort.key)===Q.key&&null!=R.sort&&R.sort.reverse?"arrow_upward":"arrow_downward"," ")}}function ne(le,ve){if(1&le){const Q=n.RV6();n.j41(0,"button",8),n.bIt("click",function(){const L=n.eBV(Q).$implicit,H=n.XpG();return n.Njj(H.setSort(L.key))}),n.j41(1,"div",9),n.EFF(2),n.k0s(),n.DNE(3,K,2,1,"app-icon",10),n.k0s()}if(2&le){const Q=ve.$implicit,R=ve.index,L=n.XpG();n.xc7("grid-column",1+R+(L.selectable?1:0)+" / "+(2+R+(L.selectable?1:0))),n.AVh("pointer-events-none",!L.sortable||!1===Q.sortable)("active",(null==L.sort?null:L.sort.key)===Q.key)("border-r",R!==L.active_columns.length-1)("width",Q.size),n.Y8G("id","column-"+Q.key),n.R7$(2),n.JRh(Q.name||Q.key),n.R7$(),n.Y8G("ngIf",L.sortable&&!1!==Q.sortable)}}function U(le,ve){if(1&le){const Q=n.RV6();n.j41(0,"div",15),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(Q);const L=n.XpG().index,H=n.XpG();return n.Njj(H.active_row=L)})("touchstart",function(){n.eBV(Q);const L=n.XpG().index,H=n.XpG();return n.Njj(H.active_row=L)}),n.j41(2,"mat-checkbox",16),n.bIt("change",function(L){n.eBV(Q);const H=n.XpG().index,fe=n.XpG();return n.Njj(fe.select(H,L.checked))}),n.k0s()()}if(2&le){let Q;const R=n.XpG().index,L=n.XpG();n.xc7("grid-column","1 / 2"),n.AVh("border-b",R!==(null==(Q=n.bMT(1,5,L.data_view$))?null:Q.length)-1),n.R7$(2),n.Y8G("checked",L.selected.includes(R))}}function c(le,ve){if(1&le&&(n.j41(0,"span",23),n.EFF(1),n.k0s()),2&le){const Q=n.XpG(2).$implicit;n.R7$(),n.SpI(" ",Q.empty||"N/A"," ")}}function Z(le,ve){if(1&le&&(n.j41(0,"div",21),n.EFF(1),n.DNE(2,c,2,1,"span",22),n.k0s()),2&le){let Q;const R=n.XpG().$implicit,L=n.XpG(),H=L.$implicit,fe=L.index;n.R7$(),n.SpI(" ",null!==(Q=H[R.key])&&void 0!==Q?Q:"_index"===R.key?fe+1:H[R.key]," "),n.R7$(),n.Y8G("ngIf",(null==H[R.key]||""===H[R.key])&&"_index"!==R.key)}}function F(le,ve){1&le&&n.eu8(0)}function J(le,ve){if(1&le&&(n.qex(0),n.DNE(1,F,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.bVm()),2&le){let Q;const R=n.XpG().$implicit,L=n.XpG(),H=L.$implicit,fe=L.index,Ie=n.XpG();n.R7$(),n.Y8G("ngTemplateOutlet",R.content)("ngTemplateOutletContext",n.sGs(6,D,0===fe,fe===(null==(Q=n.bMT(2,2,Ie.data_view$))?null:Q.length)-1||fe===(null==(Q=n.bMT(3,4,Ie.data_view$))?null:Q.length)-1,fe,H[R.key],H,R.key,R.name||R.key))}}function z(le,ve){if(1&le){const Q=n.RV6();n.j41(0,"div",17),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(Q);const L=n.XpG().index,H=n.XpG();return n.Njj(H.active_row=L)})("touchstart",function(){n.eBV(Q);const L=n.XpG().index,H=n.XpG();return n.Njj(H.active_row=L)}),n.qex(2,18),n.DNE(3,Z,3,2,"div",19)(4,J,4,14,"ng-container",20),n.bVm(),n.k0s()}if(2&le){let Q;const R=ve.$implicit,L=ve.index,H=n.XpG().index,fe=n.XpG();n.xc7("grid-column",1+L+(fe.selectable?1:0)+" / "+(2+L+(fe.selectable?1:0))),n.AVh("border-b",H!==(null==(Q=n.bMT(1,10,fe.data_view$))?null:Q.length)-1)("border-r",L!==fe.active_columns.length-1)("width",R.size),n.R7$(2),n.Y8G("ngSwitch",fe.columnType(R)),n.R7$(2),n.Y8G("ngSwitchCase","template")}}function X(le,ve){1&le&&n.eu8(0)}function $(le,ve){if(1&le&&(n.j41(0,"div",25),n.DNE(1,X,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()),2&le){let Q;const R=n.XpG(),L=R.$implicit,H=R.index,fe=n.XpG();n.xc7("grid-column","span "+fe.active_columns.length),n.R7$(),n.Y8G("ngTemplateOutlet",fe.child_template)("ngTemplateOutletContext",n.ziG(8,f,0===H,H===(null==(Q=n.bMT(2,4,fe.data_view$))?null:Q.length)-1||H===(null==(Q=n.bMT(3,6,fe.data_view$))?null:Q.length)-1,H,L))}}function te(le,ve){if(1&le&&(n.qex(0),n.DNE(1,U,3,7,"div",12)(2,z,5,12,"div",13)(3,$,4,13,"div",14),n.bVm()),2&le){const Q=ve.$implicit,R=n.XpG();n.R7$(),n.Y8G("ngIf",R.selectable),n.R7$(),n.Y8G("ngForOf",R.active_columns),n.R7$(),n.Y8G("ngIf",R.show_children[Q.id]&&R.child_template)}}function G(le,ve){if(1&le&&(n.j41(0,"div",26),n.EFF(1),n.k0s()),2&le){const Q=n.XpG();n.xc7("grid-column-start","span "+Q.active_columns.length),n.R7$(),n.SpI(" ",Q.empty_message," ")}}function oe(le,ve){if(1&le){const Q=n.RV6();n.j41(0,"div",27)(1,"div",28),n.EFF(2),n.k0s(),n.j41(3,"button",29),n.bIt("click",function(){n.eBV(Q);const L=n.XpG();return n.Njj(L.setPage(L.page-1))}),n.j41(4,"app-icon"),n.EFF(5,"chevron_left"),n.k0s()(),n.j41(6,"button",29),n.bIt("click",function(){n.eBV(Q);const L=n.XpG();return n.Njj(L.setPage(L.page+1))}),n.j41(7,"app-icon"),n.EFF(8,"chevron_right"),n.k0s()(),n.j41(9,"button",29),n.bIt("click",function(){n.eBV(Q);const L=n.XpG();return n.Njj(L.setPage(0))}),n.j41(10,"app-icon"),n.EFF(11,"first_page"),n.k0s()(),n.j41(12,"button",29),n.bIt("click",function(){n.eBV(Q);const L=n.XpG();return n.Njj(L.setPage(L.total_pages-1))}),n.j41(13,"app-icon"),n.EFF(14,"last_page"),n.k0s()()()}if(2&le){const Q=n.XpG();n.R7$(2),n.E5c(" ",Q.page*(Q.page_size||9999)+1," \u2013 ",(Q.page+1)*(Q.page_size||9999)>Q.total_count?Q.total_count:(Q.page+1)*(Q.page_size||9999)," of ",Q.total_count," "),n.R7$(),n.Y8G("disabled",0===Q.page),n.R7$(3),n.Y8G("disabled",Q.page===Q.total_pages-1),n.R7$(3),n.Y8G("disabled",0===Q.page),n.R7$(3),n.Y8G("disabled",Q.page===Q.total_pages-1)}}let ce=(()=>{class le extends p.Tv{constructor(){super(...arguments),this.columns=[],this.selectable=!1,this.filter="",this.sortable=!1,this.selected=[],this.page_size=0,this.empty_message="No data to list",this.child_template=null,this.show_children={},this.selectedChange=new n.bkB,this.rowClicked=new n.bkB,this.page=0,this.total_count=0,this.total_pages=0,this.active_row=-1,this.active_columns=[],this._data$=new v.t([]),this._filter$=new v.t(""),this._sort$=new v.t(null),this.data_view$=null}get sort(){return this._sort$.getValue()}get data$(){return this.data instanceof Array?this._data$:this.data}get column_count(){return this.active_columns.length+(this.selectable?1:0)}get column_template(){const Q=this.active_columns.map(R=>R.size||"auto").join(" ");return this.selectable?`3.5rem ${Q}`:Q}ngOnChanges(Q){Q.filter&&this._filter$.next(this.filter),Q.columns&&(this.active_columns=this.columns.filter(R=>!1!==R.show)),Q.data&&(this.data_view$=(0,b.zV)([this.data$,this._filter$,this._sort$]).pipe((0,E.B)(300),(0,M.T)(([R,L,H])=>(R=[...R],L&&(R=R.filter(fe=>Object.values(fe).some(Ie=>JSON.stringify(Ie)?.toLowerCase().includes((L||"").toLowerCase())))),H&&R.length&&(R=R.sort("number"==typeof R[0][H.key]?(Ie,Xe)=>{const bt=Ie[H.key]-Xe[H.key];return H.reverse?-bt:bt}:(Ie,Xe)=>{const bt=JSON.stringify(Ie[H.key]||""),rt=JSON.stringify(Xe[H.key]||""),yt=bt.localeCompare(rt);return H.reverse?-yt:yt})),this.selected=[],this.page=0,this.page_size&&(this.total_count=R.length,this.total_pages=Math.ceil(this.total_count/this.page_size)),R)),(0,S.t)(1)))}columnType(Q){return Q.content instanceof n.C4Q?"template":"raw"}gridSquare(Q,R){return`${Q} / ${R} / ${Q+1} / ${R+1}`}select(Q,R){R?this.selected.push(Q):this.selected=this.selected.filter(L=>L!==Q)}selectAll(Q){var R=this;return(0,t.A)(function*(){const L=yield R.data_view$.pipe((0,u.s)(1)).toPromise();R.selected=Q?L.map((H,fe)=>fe):[]})()}setSort(Q){const R=this._sort$.getValue();this._sort$.next(R&&R.key===Q?R.reverse?null:{key:Q,reverse:!0}:{key:Q,reverse:!1})}setPage(Q){this.timeout("set_page",()=>this.page=Q,100)}static#e=this.\u0275fac=(()=>{let Q;return function(L){return(Q||(Q=n.xGo(le)))(L||le)}})();static#t=this.\u0275cmp=n.VBU({type:le,selectors:[["simple-table"]],inputs:{data:"data",columns:"columns",selectable:"selectable",filter:"filter",sortable:"sortable",selected:"selected",page_size:"page_size",empty_message:"empty_message",child_template:"child_template",show_children:"show_children"},outputs:{selectedChange:"selectedChange",rowClicked:"rowClicked"},features:[n.Vt3,n.OA$],decls:9,vars:15,consts:[["role","table",1,"grid","border","border-base-300",3,"click","touchend","mouseleave"],["id","column-selector","class","sticky top-0 flex items-center justify-between px-2 border-r border-b border-base-200 bg-base-300 min-h-full z-20",3,"gridColumn",4,"ngIf"],["header","","matRipple","","class","sticky top-0 flex items-center justify-between p-4 border-b border-base-200 bg-base-300 min-h-full z-20",3,"id","gridColumn","pointer-events-none","active","border-r","width","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center p-8 opacity-30",3,"gridColumnStart",4,"ngIf"],["class","sticky bottom-0 w-full flex items-center justify-end space-x-2 p-2 bg-base-200",4,"ngIf"],["id","column-selector",1,"sticky","top-0","flex","items-center","justify-between","px-2","border-r","border-b","border-base-200","bg-base-300","min-h-full","z-20"],[3,"change","checked","indeterminate"],["header","","matRipple","",1,"sticky","top-0","flex","items-center","justify-between","p-4","border-b","border-base-200","bg-base-300","min-h-full","z-20",3,"click","id"],[1,"font-medium"],["class","text-[1.25em]",4,"ngIf"],[1,"text-[1.25em]"],["id","column-selector","class","flex items-center justify-between px-2 border-r border-base-200 min-h-full z-10",3,"gridColumn","border-b","mouseenter","touchstart",4,"ngIf"],["class","flex items-center justify-between border-base-200 min-h-full z-10",3,"gridColumn","border-b","border-r","width","mouseenter","touchstart",4,"ngFor","ngForOf"],["child-node","","class","border-b last:border-t last:border-b-0 border-base-200",3,"gridColumn",4,"ngIf"],["id","column-selector",1,"flex","items-center","justify-between","px-2","border-r","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"change","checked"],[1,"flex","items-center","justify-between","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"ngSwitch"],["class","p-4",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"p-4"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["child-node","",1,"border-b","last:border-t","last:border-b-0","border-base-200"],[1,"flex","items-center","justify-center","p-8","opacity-30"],[1,"sticky","bottom-0","w-full","flex","items-center","justify-end","space-x-2","p-2","bg-base-200"],[1,"px-4","py-2"],["icon","","matRipple","",3,"click","disabled"]],template:function(R,L){if(1&R&&(n.j41(0,"div",0),n.bIt("click",function(){return L.active_row>=0?L.rowClicked.emit(L.active_row):null})("touchend",function(){return L.active_row=-1})("mouseleave",function(){return L.active_row=-1}),n.DNE(1,V,4,8,"div",1)(2,ne,4,13,"button",2)(3,te,4,3,"ng-container",3),n.nI1(4,"async"),n.nI1(5,"slice"),n.DNE(6,G,2,3,"div",4),n.nI1(7,"async"),n.k0s(),n.DNE(8,oe,15,7,"div",5)),2&R){let H;n.xc7("grid-template-columns",L.column_template),n.R7$(),n.Y8G("ngIf",L.selectable),n.R7$(),n.Y8G("ngForOf",L.active_columns),n.R7$(),n.Y8G("ngForOf",n.brH(5,9,n.bMT(4,7,L.data_view$),L.page*(L.page_size||9999),(L.page+1)*(L.page_size||9999))),n.R7$(3),n.Y8G("ngIf",!(null!=(H=n.bMT(7,13,L.data_view$))&&H.length)),n.R7$(2),n.Y8G("ngIf",L.page_size)}},dependencies:[I.Sq,I.bT,I.T3,I.ux,I.e1,I.fG,k.r6,T.So,w.R,I.Jj,I.P9],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > button[_ngcontent-%COMP%]{min-width:100%}[header][_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:0}[header][_ngcontent-%COMP%]:hover   app-icon[_ngcontent-%COMP%]{opacity:.3}[header][_ngcontent-%COMP%]:hover.pointer-events-none   app-icon[_ngcontent-%COMP%]{opacity:0}[header].active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:1}"]})}return le})()},907:(jt,Se,l)=>{"use strict";l.d(Se,{F:()=>I});var t=l(3953),n=l(177),p=l(9434);const v=["*"];function b(k,T){1&k&&(t.qex(0),t.EFF(1," check_circle "),t.bVm())}function E(k,T){1&k&&(t.qex(0),t.EFF(1,"cancel"),t.bVm())}function M(k,T){1&k&&(t.qex(0),t.EFF(1,"block"),t.bVm())}function S(k,T){1&k&&(t.qex(0),t.EFF(1,"info"),t.bVm())}function u(k,T){1&k&&(t.qex(0),t.EFF(1,"warning"),t.bVm())}let I=(()=>{class k{static#e=this.\u0275fac=function(D){return new(D||k)};static#t=this.\u0275cmp=t.VBU({type:k,selectors:[["status-pill"]],inputs:{status:"status"},ngContentSelectors:v,decls:10,vars:31,consts:[[1,"flex","items-center","bg-opacity-30","rounded-full","px-2","py-1","text-base","space-x-2","font-medium","text-black"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"text-2xl",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(D,f){1&D&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"app-icon",2),t.DNE(3,b,2,0,"ng-container",3)(4,E,2,0,"ng-container",3)(5,M,2,0,"ng-container",3)(6,S,2,0,"ng-container",3)(7,u,2,0,"ng-container",4),t.k0s()(),t.j41(8,"div"),t.SdG(9),t.k0s()()),2&D&&(t.AVh("bg-success-light","success"===f.status)("bg-warning-light","warning"===f.status)("bg-error-light","error"===f.status)("bg-info-light","info"===f.status)("bg-base-200","neutral"===f.status),t.R7$(),t.AVh("text-success","success"===f.status)("text-warning","warning"===f.status)("text-error","error"===f.status)("text-info","info"===f.status)("text-base-content","neutral"===f.status)("opacity-40","neutral"===f.status),t.R7$(),t.Y8G("ngSwitch",f.status),t.R7$(),t.Y8G("ngSwitchCase","success"),t.R7$(),t.Y8G("ngSwitchCase","error"),t.R7$(),t.Y8G("ngSwitchCase","neutral"),t.R7$(),t.Y8G("ngSwitchCase","info"),t.R7$(2),t.AVh("opacity-40","neutral"===f.status)("text-base-content","neutral"===f.status))},dependencies:[n.ux,n.e1,n.fG,p.R]})}return k})()},6871:(jt,Se,l)=>{"use strict";l.d(Se,{U:()=>w});var t=l(4006),n=l(3953),p=l(177),v=l(9417),b=l(6600),E=l(3719),M=l(2798),S=l(9631),u=l(2765),I=l(9434);const k=(D,f,V)=>({file:D,is_public:f,permissions:V});function T(D,f){if(1&D){const V=n.RV6();n.j41(0,"div",2)(1,"label"),n.EFF(2,"Permissions"),n.k0s(),n.j41(3,"mat-form-field",3)(4,"mat-select",6),n.mxI("ngModelChange",function(ne){n.eBV(V);const U=n.XpG();return n.DH7(U.permissions,ne)||(U.permissions=ne),n.Njj(ne)}),n.j41(5,"mat-option",11),n.EFF(6,"None"),n.k0s(),n.j41(7,"mat-option",12),n.EFF(8,"Support"),n.k0s(),n.j41(9,"mat-option",13),n.EFF(10,"Admin"),n.k0s()()()()}if(2&D){const V=n.XpG();n.R7$(4),n.R50("ngModel",V.permissions)}}let w=(()=>{class D{constructor(V,K){this._dialog_ref=V,this._data=K,this.file=this._data.file,this.is_public=!0,this.permissions="none",this.file=this._data.file}close(){this._dialog_ref.close()}static#e=this.\u0275fac=function(K){return new(K||D)(n.rXU(t.CP),n.rXU(t.Vh))};static#t=this.\u0275cmp=n.VBU({type:D,selectors:[["upload-permissions-modal"]],decls:21,vars:8,consts:[["btn","","icon","","mat-dialog-close",""],[1,"p-4","min-w-[20rem]"],[1,"flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","disabled","true","placeholder","File Name",3,"ngModel"],[1,"pb-4"],[3,"ngModelChange","ngModel"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-2","px-4","py-2","border-t","border-base-200"],["btn","","mat-dialog-close","",1,"inverse","w-32"],["btn","",1,"w-32",3,"mat-dialog-close"],["value","none"],["value","support"],["value","admin"]],template:function(K,ne){1&K&&(n.j41(0,"header")(1,"h2"),n.EFF(2,"Upload File"),n.k0s(),n.j41(3,"button",0)(4,"app-icon"),n.EFF(5,"close"),n.k0s()()(),n.j41(6,"main",1)(7,"div",2)(8,"label"),n.EFF(9,"File Name"),n.k0s(),n.j41(10,"mat-form-field",3),n.nrm(11,"input",4),n.k0s()(),n.j41(12,"div",5)(13,"mat-checkbox",6),n.mxI("ngModelChange",function(c){return n.DH7(ne.is_public,c)||(ne.is_public=c),c}),n.EFF(14,"Public"),n.k0s()(),n.DNE(15,T,11,1,"div",7),n.k0s(),n.j41(16,"footer",8)(17,"button",9),n.EFF(18,"Cancel"),n.k0s(),n.j41(19,"button",10),n.EFF(20," Upload "),n.k0s()()),2&K&&(n.R7$(11),n.Y8G("ngModel",ne.file.name),n.R7$(2),n.R50("ngModel",ne.is_public),n.R7$(2),n.Y8G("ngIf",!ne.is_public),n.R7$(4),n.Y8G("mat-dialog-close",n.sMw(4,k,ne.file,ne.is_public,ne.permissions)))},dependencies:[p.bT,v.me,v.BC,v.vS,b.wT,E.rl,M.VO,t.tx,S.fg,u.So,I.R]})}return D})()},1193:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>E}),l(3693);var n=l(3953);function p(M,S){if(1&M&&(n.j41(0,"div",4),n.EFF(1),n.k0s()),2&M){const u=n.XpG(2);n.R7$(),n.SpI(" ",u.initials," ")}}function v(M,S){if(1&M&&(n.j41(0,"div",2),n.DNE(1,p,2,1,"div",3),n.k0s()),2&M){const u=n.XpG(),I=n.sdS(2);n.BMQ("user-id",u.user.id),n.R7$(),n.Y8G("ngIf",!u.user.photo)("ngIfElse",I)}}function b(M,S){if(1&M&&n.nrm(0,"img",5),2&M){const u=n.XpG();n.Y8G("source",u.user.photo)}}let E=(()=>{class M{get initials(){if(!this.user)return"NA";const u=this.user.name||"",I=u.replace(/[()[\]\-+=\\/]+/gi,"").split(" ");return I.length>1?`${I[0][0]}${I[I.length-1][0]}`:u.slice(0,2)}static#e=this.\u0275fac=function(I){return new(I||M)};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["a-user-avatar"]],inputs:{user:"user"},decls:3,vars:1,consts:[["image_state",""],["class","flex items-center justify-center rounded-full overflow-hidden",4,"ngIf"],[1,"flex","items-center","justify-center","rounded-full","overflow-hidden"],["initials","","class","text-base-content text-opacity-80 uppercase",4,"ngIf","ngIfElse"],["initials","",1,"text-base-content","text-opacity-80","uppercase"],["auth","",1,"h-full","w-full",3,"source"]],template:function(I,k){1&I&&n.DNE(0,v,2,3,"div",1)(1,b,1,1,"ng-template",null,0,n.C5r),2&I&&n.Y8G("ngIf",k.user)},styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:2.5em;width:2.5em;background-color:var(--b2);overflow:hidden;border:2px solid var(--b1)}.initials[_ngcontent-%COMP%]{font-size:1em}"]})}return M})()},4633:(jt,Se,l)=>{"use strict";l.d(Se,{N:()=>X});var t=l(467),n=l(7375),p=l(8030),v=l(2185),b=l(1038),E=l(3022),M=l(6539),S=l(5550),u=l(6926),I=l(3835),k=l(6962),T=l(8791),w=l(3005),D=l(3953),f=l(4006);function V($,te){if(1&$&&(D.j41(0,"div",31)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),D.EFF(5,"layers"),D.k0s()(),D.j41(6,"div",32),D.EFF(7),D.nI1(8,"async"),D.nI1(9,"async"),D.k0s(),D.j41(10,"app-icon",21),D.EFF(11," chevron_right "),D.k0s()()()()),2&$){let G;const oe=D.XpG();D.Y8G("content",oe.region_select),D.R7$(7),D.SpI(" ",(null==(G=D.bMT(8,2,oe.region))?null:G.display_name)||(null==(G=D.bMT(9,4,oe.region))?null:G.name)," ")}}function K($,te){if(1&$&&(D.j41(0,"div",31)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),D.EFF(5,"business"),D.k0s()(),D.j41(6,"div",32),D.EFF(7),D.nI1(8,"async"),D.nI1(9,"async"),D.k0s(),D.j41(10,"app-icon",21),D.EFF(11," chevron_right "),D.k0s()()()()),2&$){let G;const oe=D.XpG();D.Y8G("content",oe.building_select),D.R7$(7),D.SpI(" ",(null==(G=D.bMT(8,2,oe.building))?null:G.display_name)||(null==(G=D.bMT(9,4,oe.building))?null:G.name)," ")}}function ne($,te){if(1&$&&(D.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),D.EFF(5,"help"),D.k0s()(),D.j41(6,"div",20),D.pXf(7,4),D.k0s(),D.j41(8,"app-icon",21),D.EFF(9,"chevron_right"),D.k0s()()()()),2&$){const G=D.XpG();D.Y8G("content",G.help_tooltip)}}function U($,te){if(1&$&&(D.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),D.EFF(5,"share_location"),D.k0s()(),D.j41(6,"div",20),D.pXf(7,5),D.k0s(),D.j41(8,"app-icon",21),D.EFF(9,"chevron_right"),D.k0s()()()()),2&$){const G=D.XpG();D.Y8G("content",G.work_location_tooltip)}}function c($,te){if(1&$&&(D.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),D.EFF(5,"desk"),D.k0s()(),D.j41(6,"div",20),D.pXf(7,6),D.k0s(),D.j41(8,"app-icon",21),D.EFF(9,"chevron_right"),D.k0s()()()()),2&$){const G=D.XpG(),oe=D.sdS(24);D.AVh("!border-b",!(null!=G.locales&&G.locales.length)),D.Y8G("content",oe)}}function Z($,te){1&$&&D.nrm(0,"desk-height-presets")}function F($,te){if(1&$&&(D.j41(0,"div",33)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),D.EFF(5,"mode_night"),D.k0s()(),D.j41(6,"div",20),D.pXf(7,7),D.nI1(8,"translate"),D.nI1(9,"translate"),D.k0s(),D.j41(10,"app-icon",21),D.EFF(11,"chevron_right"),D.k0s()()()()),2&$){const G=D.XpG();D.Y8G("content",G.language_tooltip),D.R7$(9),D.uP7(D.bMT(8,3,"COMMON.LANGUAGE_LABEL"))(D.bMT(9,5,"COMMON.LANGUAGE")),D.nnv(7)}}function J($,te){if(1&$){const G=D.RV6();D.j41(0,"button",34),D.bIt("click",function(){D.eBV(G);const ce=D.XpG();return D.Njj(ce.newSupportTicket())}),D.j41(1,"div",18)(2,"div",19)(3,"app-icon"),D.EFF(4,"support_agent"),D.k0s()(),D.j41(5,"div",20),D.pXf(6,8),D.k0s()()()}}function z($,te){if(1&$){const G=D.RV6();D.j41(0,"button",35),D.bIt("click",function(){D.eBV(G);const ce=D.XpG();return D.Njj(ce.reloadPage())}),D.EFF(1," New Version "),D.k0s()}}let X=(()=>{class ${get user(){return(0,n.Ny)()}get groups(){return this.user.groups.join("\n")}get version(){return n.xv}get features(){return this._settings.get("app.features")||[]}get locales(){return this._settings.get("app.locales")||[]}get desk_height(){return this._settings.get("app.desks.height_enabled")}get use_region(){return this._settings.get("app.use_region")}get disable_building_select(){return this._settings.get("app.disable_building_select")}get has_new_version(){return(0,n.tU)()}constructor(G,oe,ce){this._settings=G,this._org=oe,this._dialog=ce,this.building=this._org.active_building,this.region=this._org.active_region,this.regions=this._org.region_list,this.region_select=k.q,this.building_select=S.C,this.help_tooltip=u.o,this.accessibility_tooltip=M.B,this.language_tooltip=I.O,this.work_location_tooltip=w.Z}logout(){(0,b.rig)()}reloadPage(){location.reload()}newSupportTicket(){this._settings.get("app.external_support_url")?window.open(this._settings.get("app.external_support_url"),"_blank"):this._dialog.open(T.c)}openWfhModal(){this._dialog.open(E.$)}viewChangelog(){var G=this;return(0,t.A)(function*(){const oe=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();G._dialog.open(p.l4,{data:{changelog:oe}})})()}saveSetting(G,oe){this._settings.saveUserSetting(G,oe)}formatLabel(G){return`${G.toFixed(1)}cm`}static#e=this.\u0275fac=function(oe){return new(oe||$)(D.rXU(n.h$),D.rXU(v.yb),D.rXU(f.bZ))};static#t=this.\u0275cmp=D.VBU({type:$,selectors:[["user-controls"]],decls:41,vars:26,consts:()=>{let G,oe,ce,le,ve,Q,R,L;return G=$localize`:d22b673a92b43eabbdebd80b1539a553703c84f66572705143012462182:Display & Accessibility`,oe=$localize`:a9bc2f36435d7979f179c544151bca38e4fe20cc3324363634810141643: Sign Out `,ce=$localize`:0b1694897c27c2a5bbdf582a7f7d2bac898f35056267525301152196009:Version: `,le=$localize`:258586f2141d5b6c98ef28c38ac6f55a81a301b27393197899734735120:Help & Support`,ve=$localize`:8ebf03c6dd7c3ad24dcc9a0f64ffad0e9588ac2e8897714476038526431:Work Location`,Q=$localize`:6f3ddfacb6cc158043b77530f74c15dc406019fe8687640110841202898:Desk Settings`,R=$localize`:5a0db2e7be57ba081264f141f3ee4a8b683f1f6e6210988327734808594: ${"\ufffd0\ufffd"}:INTERPOLATION:: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,L=$localize`:b862b54c42ded9ebb47260f60b0f75985c5fab18270482714535552546:Raise a support ticket`,[["desk_height_tooltip",""],G,oe,ce,le,ve,Q,R,L,[1,"rounded","bg-base-100","shadow","mt-1","flex","flex-col","relative","divide-y","divide-base-200"],["avatar","",1,"flex","flex-col","items-center","p-2","w-[18rem]"],[1,"text-2xl",3,"user","matTooltip"],[1,""],[1,"text-xs","opacity-60","truncate"],["customTooltip","","class","relative",3,"content",4,"ngIf"],["customTooltip","",3,"content",4,"ngIf"],["customTooltip","",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]"],[1,"w-full","flex","items-center","space-x-2"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"flex-1"],[1,"opacity-60","text-2xl"],["customTooltip","",3,"content","!border-b",4,"ngIf"],["customTooltip","","class","!border-b",3,"content",4,"ngIf"],["btn","","matRipple","","class","clear w-full text-left h-[3.5rem]",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","p-4"],[1,"flex","items-center","justify-center","space-x-2","mb-4"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click",4,"ngIf"],[1,"text-xs","opacity-60","w-full"],[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],["customTooltip","",1,"relative",3,"content"],[1,"flex-1","truncate","w-px"],["customTooltip","",1,"!border-b",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]",3,"click"],["btn","","matRipple","",3,"click"]]},template:function(oe,ce){if(1&oe){const le=D.RV6();D.j41(0,"div",9)(1,"div",10),D.nrm(2,"a-user-avatar",11),D.j41(3,"div",12),D.EFF(4),D.k0s(),D.j41(5,"div",13),D.EFF(6),D.k0s()(),D.DNE(7,V,12,6,"div",14),D.nI1(8,"async"),D.DNE(9,K,12,6,"div",14)(10,ne,10,1,"div",15)(11,U,10,1,"div",15),D.j41(12,"div",16)(13,"button",17)(14,"div",18)(15,"div",19)(16,"app-icon"),D.EFF(17,"mode_night"),D.k0s()(),D.j41(18,"div",20),D.pXf(19,1),D.k0s(),D.j41(20,"app-icon",21),D.EFF(21,"chevron_right"),D.k0s()()()(),D.DNE(22,c,10,3,"div",22)(23,Z,1,0,"ng-template",null,0,D.C5r)(25,F,12,7,"div",23)(26,J,7,0,"button",24),D.j41(27,"div",25)(28,"div",26)(29,"button",27),D.bIt("click",function(){return D.eBV(le),D.Njj(ce.logout())}),D.pXf(30,2),D.k0s(),D.DNE(31,z,2,0,"button",28),D.k0s(),D.j41(32,"div",29),D.qex(33),D.pXf(34,3),D.bVm(),D.j41(35,"button",30),D.bIt("click",function(){return D.eBV(le),D.Njj(ce.viewChangelog())}),D.EFF(36),D.k0s()(),D.j41(37,"div",29),D.EFF(38),D.nI1(39,"date"),D.nI1(40,"date"),D.k0s()()()}2&oe&&(D.R7$(2),D.Y8G("user",ce.user)("matTooltip",ce.groups),D.R7$(2),D.JRh(null==ce.user?null:ce.user.name),D.R7$(2),D.JRh(null==ce.user?null:ce.user.email),D.R7$(),D.Y8G("ngIf",D.bMT(8,18,ce.regions).length),D.R7$(2),D.Y8G("ngIf",!ce.disable_building_select&&!ce.use_region),D.R7$(),D.Y8G("ngIf",ce.features.includes("help")),D.R7$(),D.Y8G("ngIf",ce.features.includes("wfh")),D.R7$(),D.AVh("!border-b",!(null!=ce.locales&&ce.locales.length&&ce.desk_height)),D.Y8G("content",ce.accessibility_tooltip),D.R7$(10),D.Y8G("ngIf",ce.desk_height),D.R7$(3),D.Y8G("ngIf",null==ce.locales?null:ce.locales.length),D.R7$(),D.Y8G("ngIf",ce.features.includes("support-ticket")),D.R7$(5),D.Y8G("ngIf",ce.has_new_version),D.R7$(5),D.SpI(" ",ce.version.hash," "),D.R7$(2),D.Lme(" ",D.i5U(39,20,ce.version.time,"longDate")," (",D.i5U(40,23,ce.version.time,"shortTime"),") "))}})}return $})()},5080:(jt,Se,l)=>{"use strict";l.d(Se,{e:()=>w});var t=l(6939),n=l(7375),p=l(3953),v=l(7987),b=l(177);const E=["keyboard",""],M=["*"];function S(D,f){if(1&D&&p.nrm(0,"div",7),2&D){const V=p.XpG(4);p.AVh("bg-success","shift"===V.state)}}function u(D,f){if(1&D){const V=p.RV6();p.qex(0),p.j41(1,"div",5),p.bIt("focus",function(){p.eBV(V);const ne=p.XpG(3);return p.Njj(ne.focusInput())})("click",function(){const ne=p.eBV(V).$implicit,U=p.XpG(3);return p.Njj(U.handleKeyPress(ne))}),p.EFF(2),p.DNE(3,S,1,2,"div",6),p.k0s(),p.bVm()}if(2&D){const V=f.$implicit;p.R7$(),p.AVh("special","{"===V[0]&&V.length>1)("space","{space}"===V),p.BMQ("key",V),p.R7$(),p.SpI(" ","{space}"===V?"Space":"{caps}"===V?"Caps Lock":"{backspace}"===V?"Backspace":V," "),p.R7$(),p.Y8G("ngIf","{caps}"===V)}}function I(D,f){if(1&D&&(p.j41(0,"div",3),p.DNE(1,u,4,7,"ng-container",4),p.k0s()),2&D){const V=f.$implicit;p.R7$(),p.Y8G("ngForOf",V)}}function k(D,f){if(1&D&&(p.j41(0,"div",1),p.DNE(1,I,2,1,"div",2),p.k0s()),2&D){const V=p.XpG();p.R7$(),p.Y8G("ngForOf",V.keyset)}}const T=["0123456789".split(""),"qwertyuiop".split(""),"asdfghjkl".split(""),"zxcvbnm".split(""),["{caps}","{space}","{backspace}"]];let w=(()=>{class D extends n.Tv{constructor(V,K){super(),this._element=V,this._overlay=K,this.keyset=T,this.state="normal",this._overlay_ref=null,this.onFocus=()=>{D.enabled&&(this.open(),this.clearTimeout("blur"))},this.onBlur=()=>this.timeout("blur",()=>this.close())}ngOnChanges(V){V.keyset&&(this.keyset||(this.keyset=T))}ngOnDestroy(){super.ngOnDestroy(),this.close()}focusInput(){this._element?.nativeElement?.blur(),this._element?.nativeElement?.focus()}open(){this._overlay_ref||this._portal&&(this._overlay_ref=this._overlay.create({positionStrategy:this._overlay.position().global().bottom().centerHorizontally()}),this._overlay_ref.attach(this._portal))}close(){this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}handleKeyPress(V){let K=this._element.nativeElement.selectionStart;const ne=this._element.nativeElement.value||"";switch(V.toLowerCase()){case"{caps}":case"{shift}":this.state="shift";break;case"{backspace}":this._element.nativeElement.value=`${ne.substr(0,K-1)}${ne.substr(K,ne.length)}`,K=Math.max(0,K-1);break;case"{space}":this._element.nativeElement.value=`${ne.substr(0,K)} ${ne.substr(K,ne.length)}`,K+=1;break;default:"shift"===this.state&&(this.state="normal"),this._element.nativeElement.value=`${ne.substr(0,K)}${V}${ne.substr(K,ne.length)}`,K+=1}this._element.nativeElement.dispatchEvent(new InputEvent("input")),this.updateKeyState(),this.timeout("focus",()=>{this.focusInput(),this._element.nativeElement.selectionStart=K,this._element.nativeElement.selectionEnd=K},50)}updateKeyState(){this.keyset=this.keyset.map(V=>V.map(K=>K.length>1?K:K["normal"!==this.state?"toUpperCase":"toLowerCase"]()))}static#e=this.\u0275fac=function(K){return new(K||D)(p.rXU(p.aKT),p.rXU(v.hJ))};static#t=this.\u0275cmp=p.VBU({type:D,selectors:[["input","keyboard",""],["textarea","keyboard",""]],viewQuery:function(K,ne){if(1&K&&p.GBs(t.bV,5),2&K){let U;p.mGM(U=p.lsd())&&(ne._portal=U.first)}},hostBindings:function(K,ne){1&K&&p.bIt("focus",function(){return ne.onFocus()})("blur",function(){return ne.onBlur()})},inputs:{keyset:"keyset"},features:[p.Vt3,p.OA$],attrs:E,ngContentSelectors:M,decls:2,vars:0,consts:[["cdk-portal",""],["keyboard-view","",1,"w-screen","flex","flex-col","space-y-4","bg-base-200","p-2","border-t","border-base-200"],["row","","class","flex items-center justify-center space-x-2",4,"ngFor","ngForOf"],["row","",1,"flex","items-center","justify-center","space-x-2"],[4,"ngFor","ngForOf"],["tabindex","0",1,"rounded-xl","p-2","border","border-base-200","relative","cursor-pointer","bg-base-100",3,"focus","click"],["dot","","class","absolute top-2 right-2 h-2 w-2 rounded-full bg-base-200",3,"bg-success",4,"ngIf"],["dot","",1,"absolute","top-2","right-2","h-2","w-2","rounded-full","bg-base-200"]],template:function(K,ne){1&K&&(p.NAR(),p.SdG(0),p.DNE(1,k,2,1,"ng-template",0))},dependencies:[b.Sq,b.bT,t.Qq],styles:["[key][_ngcontent-%COMP%]{height:3.5rem;width:4rem;transition:box-shadow .2s,top .2s;box-shadow:0 4px 0 .04px #0000001a}[key].special[_ngcontent-%COMP%]{width:10rem}[key].space[_ngcontent-%COMP%]{flex:1;min-width:10rem;max-width:25rem}[key][_ngcontent-%COMP%]:hover{top:2px;box-shadow:0 2px 0 .04px #0000001a}[key][_ngcontent-%COMP%]:active{top:4px;box-shadow:0 0 0 .04px #0000001a}"]})}return D})()},3005:(jt,Se,l)=>{"use strict";l.d(Se,{Z:()=>Yi});var t=l(467),n=l(7375),p=l(1038),v=l(4903),b=l(2357),E=l(1406),M=l(7729),S=l(1666),k=l(3501),T=l(4273),w=l(8488),D=l(7195);class ne{subPriority=0;validate(lt,At){return!0}}class U extends ne{constructor(lt,At,Ut,An,ye){super(),this.value=lt,this.validateValue=At,this.setValue=Ut,this.priority=An,ye&&(this.subPriority=ye)}validate(lt,At){return this.validateValue(lt,this.value,At)}set(lt,At,Ut){return this.setValue(lt,At,this.value,Ut)}}class c extends ne{priority=10;subPriority=-1;set(lt,At){return At.timestampIsSet?lt:(0,M.w)(lt,function f(jn,lt){const At=lt instanceof Date?(0,M.w)(lt,0):new lt(0);return At.setFullYear(jn.getFullYear(),jn.getMonth(),jn.getDate()),At.setHours(jn.getHours(),jn.getMinutes(),jn.getSeconds(),jn.getMilliseconds()),At}(lt,Date))}}class Z{run(lt,At,Ut,An){const ye=this.parse(lt,At,Ut,An);return ye?{setter:new U(ye.value,this.validate,this.set,this.priority,this.subPriority),rest:ye.rest}:null}validate(lt,At,Ut){return!0}}var J=l(9857);const z_month=/^(1[0-2]|0?\d)/,z_date=/^(3[0-1]|[0-2]?\d)/,z_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,z_week=/^(5[0-3]|[0-4]?\d)/,z_hour23h=/^(2[0-3]|[0-1]?\d)/,z_hour24h=/^(2[0-4]|[0-1]?\d)/,z_hour11h=/^(1[0-1]|0?\d)/,z_hour12h=/^(1[0-2]|0?\d)/,z_minute=/^[0-5]?\d/,z_second=/^[0-5]?\d/,z_singleDigit=/^\d/,z_twoDigits=/^\d{1,2}/,z_threeDigits=/^\d{1,3}/,z_fourDigits=/^\d{1,4}/,z_anyDigitsSigned=/^-?\d+/,z_singleDigitSigned=/^-?\d/,z_twoDigitsSigned=/^-?\d{1,2}/,z_threeDigitsSigned=/^-?\d{1,3}/,z_fourDigitsSigned=/^-?\d{1,4}/,X_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,X_basic=/^([+-])(\d{2})(\d{2})|Z/,X_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,X_extended=/^([+-])(\d{2}):(\d{2})|Z/,X_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function $(jn,lt){return jn&&{value:lt(jn.value),rest:jn.rest}}function te(jn,lt){const At=lt.match(jn);return At?{value:parseInt(At[0],10),rest:lt.slice(At[0].length)}:null}function G(jn,lt){const At=lt.match(jn);if(!At)return null;if("Z"===At[0])return{value:0,rest:lt.slice(1)};const Ut="+"===At[1]?1:-1,An=At[2]?parseInt(At[2],10):0,ye=At[3]?parseInt(At[3],10):0,_t=At[5]?parseInt(At[5],10):0;return{value:Ut*(An*J.s0+ye*J.Cg+_t*J._m),rest:lt.slice(At[0].length)}}function oe(jn){return te(z_anyDigitsSigned,jn)}function ce(jn,lt){switch(jn){case 1:return te(z_singleDigit,lt);case 2:return te(z_twoDigits,lt);case 3:return te(z_threeDigits,lt);case 4:return te(z_fourDigits,lt);default:return te(new RegExp("^\\d{1,"+jn+"}"),lt)}}function le(jn,lt){switch(jn){case 1:return te(z_singleDigitSigned,lt);case 2:return te(z_twoDigitsSigned,lt);case 3:return te(z_threeDigitsSigned,lt);case 4:return te(z_fourDigitsSigned,lt);default:return te(new RegExp("^-?\\d{1,"+jn+"}"),lt)}}function ve(jn){switch(jn){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Q(jn,lt){const At=lt>0,Ut=At?lt:1-lt;let An;if(Ut<=50)An=jn||100;else{const ye=Ut+50;An=jn+100*Math.trunc(ye/100)-(jn>=ye%100?100:0)}return At?An:1-An}function R(jn){return jn%400==0||jn%4==0&&jn%100!=0}var H=l(6045),fe=l(7793),Xe=l(8152),we=l(7012),Pe=l(6453);const ln=[31,28,31,30,31,30,31,31,30,31,30,31],Mn=[31,29,31,30,31,30,31,31,30,31,30,31];var Ft=l(906);function W(jn,lt,At){const Ut=(0,S.q)(),An=At?.weekStartsOn??At?.locale?.options?.weekStartsOn??Ut.weekStartsOn??Ut.locale?.options?.weekStartsOn??0,ye=(0,T.a)(jn),_t=ye.getDay(),Fe=7-An;return(0,Ft.f)(ye,lt<0||lt>6?lt-(_t+Fe)%7:((lt%7+7)%7+Fe)%7-(_t+Fe)%7)}var Ht=l(5872);const qt={G:new class F extends Z{priority=140;parse(lt,At,Ut){switch(At){case"G":case"GG":case"GGG":return Ut.era(lt,{width:"abbreviated"})||Ut.era(lt,{width:"narrow"});case"GGGGG":return Ut.era(lt,{width:"narrow"});default:return Ut.era(lt,{width:"wide"})||Ut.era(lt,{width:"abbreviated"})||Ut.era(lt,{width:"narrow"})}}set(lt,At,Ut){return At.era=Ut,lt.setFullYear(Ut,0,1),lt.setHours(0,0,0,0),lt}incompatibleTokens=["R","u","t","T"]},y:new class L extends Z{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(lt,At,Ut){const An=ye=>({year:ye,isTwoDigitYear:"yy"===At});switch(At){case"y":return $(ce(4,lt),An);case"yo":return $(Ut.ordinalNumber(lt,{unit:"year"}),An);default:return $(ce(At.length,lt),An)}}validate(lt,At){return At.isTwoDigitYear||At.year>0}set(lt,At,Ut){const An=lt.getFullYear();if(Ut.isTwoDigitYear){const _t=Q(Ut.year,An);return lt.setFullYear(_t,0,1),lt.setHours(0,0,0,0),lt}return lt.setFullYear("era"in At&&1!==At.era?1-Ut.year:Ut.year,0,1),lt.setHours(0,0,0,0),lt}},Y:new class Ie extends Z{priority=130;parse(lt,At,Ut){const An=ye=>({year:ye,isTwoDigitYear:"YY"===At});switch(At){case"Y":return $(ce(4,lt),An);case"Yo":return $(Ut.ordinalNumber(lt,{unit:"year"}),An);default:return $(ce(At.length,lt),An)}}validate(lt,At){return At.isTwoDigitYear||At.year>0}set(lt,At,Ut,An){const ye=(0,H.h)(lt,An);if(Ut.isTwoDigitYear){const q=Q(Ut.year,ye);return lt.setFullYear(q,0,An.firstWeekContainsDate),lt.setHours(0,0,0,0),(0,fe.k)(lt,An)}return lt.setFullYear("era"in At&&1!==At.era?1-Ut.year:Ut.year,0,An.firstWeekContainsDate),lt.setHours(0,0,0,0),(0,fe.k)(lt,An)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class bt extends Z{priority=130;parse(lt,At){return le("R"===At?4:At.length,lt)}set(lt,At,Ut){const An=(0,M.w)(lt,0);return An.setFullYear(Ut,0,4),An.setHours(0,0,0,0),(0,Xe.b)(An)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class rt extends Z{priority=130;parse(lt,At){return le("u"===At?4:At.length,lt)}set(lt,At,Ut){return lt.setFullYear(Ut,0,1),lt.setHours(0,0,0,0),lt}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class yt extends Z{priority=120;parse(lt,At,Ut){switch(At){case"Q":case"QQ":return ce(At.length,lt);case"Qo":return Ut.ordinalNumber(lt,{unit:"quarter"});case"QQQ":return Ut.quarter(lt,{width:"abbreviated",context:"formatting"})||Ut.quarter(lt,{width:"narrow",context:"formatting"});case"QQQQQ":return Ut.quarter(lt,{width:"narrow",context:"formatting"});default:return Ut.quarter(lt,{width:"wide",context:"formatting"})||Ut.quarter(lt,{width:"abbreviated",context:"formatting"})||Ut.quarter(lt,{width:"narrow",context:"formatting"})}}validate(lt,At){return At>=1&&At<=4}set(lt,At,Ut){return lt.setMonth(3*(Ut-1),1),lt.setHours(0,0,0,0),lt}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class ot extends Z{priority=120;parse(lt,At,Ut){switch(At){case"q":case"qq":return ce(At.length,lt);case"qo":return Ut.ordinalNumber(lt,{unit:"quarter"});case"qqq":return Ut.quarter(lt,{width:"abbreviated",context:"standalone"})||Ut.quarter(lt,{width:"narrow",context:"standalone"});case"qqqqq":return Ut.quarter(lt,{width:"narrow",context:"standalone"});default:return Ut.quarter(lt,{width:"wide",context:"standalone"})||Ut.quarter(lt,{width:"abbreviated",context:"standalone"})||Ut.quarter(lt,{width:"narrow",context:"standalone"})}}validate(lt,At){return At>=1&&At<=4}set(lt,At,Ut){return lt.setMonth(3*(Ut-1),1),lt.setHours(0,0,0,0),lt}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class It extends Z{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(lt,At,Ut){const An=ye=>ye-1;switch(At){case"M":return $(te(z_month,lt),An);case"MM":return $(ce(2,lt),An);case"Mo":return $(Ut.ordinalNumber(lt,{unit:"month"}),An);case"MMM":return Ut.month(lt,{width:"abbreviated",context:"formatting"})||Ut.month(lt,{width:"narrow",context:"formatting"});case"MMMMM":return Ut.month(lt,{width:"narrow",context:"formatting"});default:return Ut.month(lt,{width:"wide",context:"formatting"})||Ut.month(lt,{width:"abbreviated",context:"formatting"})||Ut.month(lt,{width:"narrow",context:"formatting"})}}validate(lt,At){return At>=0&&At<=11}set(lt,At,Ut){return lt.setMonth(Ut,1),lt.setHours(0,0,0,0),lt}},L:new class Ae extends Z{priority=110;parse(lt,At,Ut){const An=ye=>ye-1;switch(At){case"L":return $(te(z_month,lt),An);case"LL":return $(ce(2,lt),An);case"Lo":return $(Ut.ordinalNumber(lt,{unit:"month"}),An);case"LLL":return Ut.month(lt,{width:"abbreviated",context:"standalone"})||Ut.month(lt,{width:"narrow",context:"standalone"});case"LLLLL":return Ut.month(lt,{width:"narrow",context:"standalone"});default:return Ut.month(lt,{width:"wide",context:"standalone"})||Ut.month(lt,{width:"abbreviated",context:"standalone"})||Ut.month(lt,{width:"narrow",context:"standalone"})}}validate(lt,At){return At>=0&&At<=11}set(lt,At,Ut){return lt.setMonth(Ut,1),lt.setHours(0,0,0,0),lt}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class Te extends Z{priority=100;parse(lt,At,Ut){switch(At){case"w":return te(z_week,lt);case"wo":return Ut.ordinalNumber(lt,{unit:"week"});default:return ce(At.length,lt)}}validate(lt,At){return At>=1&&At<=53}set(lt,At,Ut,An){return(0,fe.k)(function _e(jn,lt,At){const Ut=(0,T.a)(jn),An=(0,we.N)(Ut,At)-lt;return Ut.setDate(Ut.getDate()-7*An),Ut}(lt,Ut,An),An)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class wt extends Z{priority=100;parse(lt,At,Ut){switch(At){case"I":return te(z_week,lt);case"Io":return Ut.ordinalNumber(lt,{unit:"week"});default:return ce(At.length,lt)}}validate(lt,At){return At>=1&&At<=53}set(lt,At,Ut){return(0,Xe.b)(function St(jn,lt){const At=(0,T.a)(jn),Ut=(0,Pe.s)(At)-lt;return At.setDate(At.getDate()-7*Ut),At}(lt,Ut))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class Bn extends Z{priority=90;subPriority=1;parse(lt,At,Ut){switch(At){case"d":return te(z_date,lt);case"do":return Ut.ordinalNumber(lt,{unit:"date"});default:return ce(At.length,lt)}}validate(lt,At){const An=R(lt.getFullYear()),ye=lt.getMonth();return An?At>=1&&At<=Mn[ye]:At>=1&&At<=ln[ye]}set(lt,At,Ut){return lt.setDate(Ut),lt.setHours(0,0,0,0),lt}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class Jt extends Z{priority=90;subpriority=1;parse(lt,At,Ut){switch(At){case"D":case"DD":return te(z_dayOfYear,lt);case"Do":return Ut.ordinalNumber(lt,{unit:"date"});default:return ce(At.length,lt)}}validate(lt,At){return R(lt.getFullYear())?At>=1&&At<=366:At>=1&&At<=365}set(lt,At,Ut){return lt.setMonth(0,Ut),lt.setHours(0,0,0,0),lt}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class ie extends Z{priority=90;parse(lt,At,Ut){switch(At){case"E":case"EE":case"EEE":return Ut.day(lt,{width:"abbreviated",context:"formatting"})||Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"});case"EEEEE":return Ut.day(lt,{width:"narrow",context:"formatting"});case"EEEEEE":return Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"});default:return Ut.day(lt,{width:"wide",context:"formatting"})||Ut.day(lt,{width:"abbreviated",context:"formatting"})||Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"})}}validate(lt,At){return At>=0&&At<=6}set(lt,At,Ut,An){return(lt=W(lt,Ut,An)).setHours(0,0,0,0),lt}incompatibleTokens=["D","i","e","c","t","T"]},e:new class pe extends Z{priority=90;parse(lt,At,Ut,An){const ye=_t=>{const q=7*Math.floor((_t-1)/7);return(_t+An.weekStartsOn+6)%7+q};switch(At){case"e":case"ee":return $(ce(At.length,lt),ye);case"eo":return $(Ut.ordinalNumber(lt,{unit:"day"}),ye);case"eee":return Ut.day(lt,{width:"abbreviated",context:"formatting"})||Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"});case"eeeee":return Ut.day(lt,{width:"narrow",context:"formatting"});case"eeeeee":return Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"});default:return Ut.day(lt,{width:"wide",context:"formatting"})||Ut.day(lt,{width:"abbreviated",context:"formatting"})||Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"})}}validate(lt,At){return At>=0&&At<=6}set(lt,At,Ut,An){return(lt=W(lt,Ut,An)).setHours(0,0,0,0),lt}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class Be extends Z{priority=90;parse(lt,At,Ut,An){const ye=_t=>{const q=7*Math.floor((_t-1)/7);return(_t+An.weekStartsOn+6)%7+q};switch(At){case"c":case"cc":return $(ce(At.length,lt),ye);case"co":return $(Ut.ordinalNumber(lt,{unit:"day"}),ye);case"ccc":return Ut.day(lt,{width:"abbreviated",context:"standalone"})||Ut.day(lt,{width:"short",context:"standalone"})||Ut.day(lt,{width:"narrow",context:"standalone"});case"ccccc":return Ut.day(lt,{width:"narrow",context:"standalone"});case"cccccc":return Ut.day(lt,{width:"short",context:"standalone"})||Ut.day(lt,{width:"narrow",context:"standalone"});default:return Ut.day(lt,{width:"wide",context:"standalone"})||Ut.day(lt,{width:"abbreviated",context:"standalone"})||Ut.day(lt,{width:"short",context:"standalone"})||Ut.day(lt,{width:"narrow",context:"standalone"})}}validate(lt,At){return At>=0&&At<=6}set(lt,At,Ut,An){return(lt=W(lt,Ut,An)).setHours(0,0,0,0),lt}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class dn extends Z{priority=90;parse(lt,At,Ut){const An=ye=>0===ye?7:ye;switch(At){case"i":case"ii":return ce(At.length,lt);case"io":return Ut.ordinalNumber(lt,{unit:"day"});case"iii":return $(Ut.day(lt,{width:"abbreviated",context:"formatting"})||Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"}),An);case"iiiii":return $(Ut.day(lt,{width:"narrow",context:"formatting"}),An);case"iiiiii":return $(Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"}),An);default:return $(Ut.day(lt,{width:"wide",context:"formatting"})||Ut.day(lt,{width:"abbreviated",context:"formatting"})||Ut.day(lt,{width:"short",context:"formatting"})||Ut.day(lt,{width:"narrow",context:"formatting"}),An)}}validate(lt,At){return At>=1&&At<=7}set(lt,At,Ut){return(lt=function vn(jn,lt){const At=(0,T.a)(jn),Ut=function Tt(jn){let At=(0,T.a)(jn).getDay();return 0===At&&(At=7),At}(At);return(0,Ft.f)(At,lt-Ut)}(lt,Ut)).setHours(0,0,0,0),lt}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class at extends Z{priority=80;parse(lt,At,Ut){switch(At){case"a":case"aa":case"aaa":return Ut.dayPeriod(lt,{width:"abbreviated",context:"formatting"})||Ut.dayPeriod(lt,{width:"narrow",context:"formatting"});case"aaaaa":return Ut.dayPeriod(lt,{width:"narrow",context:"formatting"});default:return Ut.dayPeriod(lt,{width:"wide",context:"formatting"})||Ut.dayPeriod(lt,{width:"abbreviated",context:"formatting"})||Ut.dayPeriod(lt,{width:"narrow",context:"formatting"})}}set(lt,At,Ut){return lt.setHours(ve(Ut),0,0,0),lt}incompatibleTokens=["b","B","H","k","t","T"]},b:new class pt extends Z{priority=80;parse(lt,At,Ut){switch(At){case"b":case"bb":case"bbb":return Ut.dayPeriod(lt,{width:"abbreviated",context:"formatting"})||Ut.dayPeriod(lt,{width:"narrow",context:"formatting"});case"bbbbb":return Ut.dayPeriod(lt,{width:"narrow",context:"formatting"});default:return Ut.dayPeriod(lt,{width:"wide",context:"formatting"})||Ut.dayPeriod(lt,{width:"abbreviated",context:"formatting"})||Ut.dayPeriod(lt,{width:"narrow",context:"formatting"})}}set(lt,At,Ut){return lt.setHours(ve(Ut),0,0,0),lt}incompatibleTokens=["a","B","H","k","t","T"]},B:new class Xt extends Z{priority=80;parse(lt,At,Ut){switch(At){case"B":case"BB":case"BBB":return Ut.dayPeriod(lt,{width:"abbreviated",context:"formatting"})||Ut.dayPeriod(lt,{width:"narrow",context:"formatting"});case"BBBBB":return Ut.dayPeriod(lt,{width:"narrow",context:"formatting"});default:return Ut.dayPeriod(lt,{width:"wide",context:"formatting"})||Ut.dayPeriod(lt,{width:"abbreviated",context:"formatting"})||Ut.dayPeriod(lt,{width:"narrow",context:"formatting"})}}set(lt,At,Ut){return lt.setHours(ve(Ut),0,0,0),lt}incompatibleTokens=["a","b","t","T"]},h:new class Gt extends Z{priority=70;parse(lt,At,Ut){switch(At){case"h":return te(z_hour12h,lt);case"ho":return Ut.ordinalNumber(lt,{unit:"hour"});default:return ce(At.length,lt)}}validate(lt,At){return At>=1&&At<=12}set(lt,At,Ut){const An=lt.getHours()>=12;return lt.setHours(An&&Ut<12?Ut+12:An||12!==Ut?Ut:0,0,0,0),lt}incompatibleTokens=["H","K","k","t","T"]},H:new class pn extends Z{priority=70;parse(lt,At,Ut){switch(At){case"H":return te(z_hour23h,lt);case"Ho":return Ut.ordinalNumber(lt,{unit:"hour"});default:return ce(At.length,lt)}}validate(lt,At){return At>=0&&At<=23}set(lt,At,Ut){return lt.setHours(Ut,0,0,0),lt}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class nn extends Z{priority=70;parse(lt,At,Ut){switch(At){case"K":return te(z_hour11h,lt);case"Ko":return Ut.ordinalNumber(lt,{unit:"hour"});default:return ce(At.length,lt)}}validate(lt,At){return At>=0&&At<=11}set(lt,At,Ut){return lt.getHours()>=12&&Ut<12?lt.setHours(Ut+12,0,0,0):lt.setHours(Ut,0,0,0),lt}incompatibleTokens=["h","H","k","t","T"]},k:new class xn extends Z{priority=70;parse(lt,At,Ut){switch(At){case"k":return te(z_hour24h,lt);case"ko":return Ut.ordinalNumber(lt,{unit:"hour"});default:return ce(At.length,lt)}}validate(lt,At){return At>=1&&At<=24}set(lt,At,Ut){return lt.setHours(Ut<=24?Ut%24:Ut,0,0,0),lt}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class kn extends Z{priority=60;parse(lt,At,Ut){switch(At){case"m":return te(z_minute,lt);case"mo":return Ut.ordinalNumber(lt,{unit:"minute"});default:return ce(At.length,lt)}}validate(lt,At){return At>=0&&At<=59}set(lt,At,Ut){return lt.setMinutes(Ut,0,0),lt}incompatibleTokens=["t","T"]},s:new class Gn extends Z{priority=50;parse(lt,At,Ut){switch(At){case"s":return te(z_second,lt);case"so":return Ut.ordinalNumber(lt,{unit:"second"});default:return ce(At.length,lt)}}validate(lt,At){return At>=0&&At<=59}set(lt,At,Ut){return lt.setSeconds(Ut,0),lt}incompatibleTokens=["t","T"]},S:new class hi extends Z{priority=30;parse(lt,At){return $(ce(At.length,lt),An=>Math.trunc(An*Math.pow(10,3-At.length)))}set(lt,At,Ut){return lt.setMilliseconds(Ut),lt}incompatibleTokens=["t","T"]},X:new class dt extends Z{priority=10;parse(lt,At){switch(At){case"X":return G(X_basicOptionalMinutes,lt);case"XX":return G(X_basic,lt);case"XXXX":return G(X_basicOptionalSeconds,lt);case"XXXXX":return G(X_extendedOptionalSeconds,lt);default:return G(X_extended,lt)}}set(lt,At,Ut){return At.timestampIsSet?lt:(0,M.w)(lt,lt.getTime()-(0,Ht.G)(lt)-Ut)}incompatibleTokens=["t","T","x"]},x:new class Vt extends Z{priority=10;parse(lt,At){switch(At){case"x":return G(X_basicOptionalMinutes,lt);case"xx":return G(X_basic,lt);case"xxxx":return G(X_basicOptionalSeconds,lt);case"xxxxx":return G(X_extendedOptionalSeconds,lt);default:return G(X_extended,lt)}}set(lt,At,Ut){return At.timestampIsSet?lt:(0,M.w)(lt,lt.getTime()-(0,Ht.G)(lt)-Ut)}incompatibleTokens=["t","T","X"]},t:new class ct extends Z{priority=40;parse(lt){return oe(lt)}set(lt,At,Ut){return[(0,M.w)(lt,1e3*Ut),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class kt extends Z{priority=20;parse(lt){return oe(lt)}set(lt,At,Ut){return[(0,M.w)(lt,Ut),{timestampIsSet:!0}]}incompatibleTokens="*"}},un=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,je=/^'([^]*?)'?$/,ze=/''/g,Re=/\S/,it=/[a-zA-Z]/;function We(jn,lt,At,Ut){const An=function u(){return Object.assign({},(0,S.q)())}(),ye=Ut?.locale??An.locale??k.c,_t=Ut?.firstWeekContainsDate??Ut?.locale?.options?.firstWeekContainsDate??An.firstWeekContainsDate??An.locale?.options?.firstWeekContainsDate??1,q=Ut?.weekStartsOn??Ut?.locale?.options?.weekStartsOn??An.weekStartsOn??An.locale?.options?.weekStartsOn??0;if(""===lt)return""===jn?(0,T.a)(At):(0,M.w)(At,NaN);const Ue={firstWeekContainsDate:_t,weekStartsOn:q,locale:ye},Fe=[new c],mt=lt.match(Qe).map(Sn=>{const Jn=Sn[0];return Jn in w.m?(0,w.m[Jn])(Sn,ye.formatLong):Sn}).join("").match(un),ut=[];for(let Sn of mt){!Ut?.useAdditionalWeekYearTokens&&(0,D.xM)(Sn)&&(0,D.Ss)(Sn,lt,jn),!Ut?.useAdditionalDayOfYearTokens&&(0,D.ef)(Sn)&&(0,D.Ss)(Sn,lt,jn);const Jn=Sn[0],ci=qt[Jn];if(ci){const{incompatibleTokens:Li}=ci;if(Array.isArray(Li)){const es=ut.find(as=>Li.includes(as.token)||as.token===Jn);if(es)throw new RangeError(`The format string mustn't contain \`${es.fullToken}\` and \`${Sn}\` at the same time`)}else if("*"===ci.incompatibleTokens&&ut.length>0)throw new RangeError(`The format string mustn't contain \`${Sn}\` and any other token at the same time`);ut.push({token:Jn,fullToken:Sn});const Ui=ci.run(jn,Sn,ye.match,Ue);if(!Ui)return(0,M.w)(At,NaN);Fe.push(Ui.setter),jn=Ui.rest}else{if(Jn.match(it))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Jn+"`");if("''"===Sn?Sn="'":"'"===Jn&&(Sn=ht(Sn)),0!==jn.indexOf(Sn))return(0,M.w)(At,NaN);jn=jn.slice(Sn.length)}}if(jn.length>0&&Re.test(jn))return(0,M.w)(At,NaN);const Pn=Fe.map(Sn=>Sn.priority).sort((Sn,Jn)=>Jn-Sn).filter((Sn,Jn,ci)=>ci.indexOf(Sn)===Jn).map(Sn=>Fe.filter(Jn=>Jn.priority===Sn).sort((Jn,ci)=>ci.subPriority-Jn.subPriority)).map(Sn=>Sn[0]);let Yt=(0,T.a)(At);if(isNaN(Yt.getTime()))return(0,M.w)(At,NaN);const Dn={};for(const Sn of Pn){if(!Sn.validate(Yt,Ue))return(0,M.w)(At,NaN);const Jn=Sn.set(Yt,Dn,Ue);Array.isArray(Jn)?(Yt=Jn[0],Object.assign(Dn,Jn[1])):Yt=Jn}return(0,M.w)(At,Yt)}function ht(jn){return jn.match(je)[1].replace(ze,"'")}var Ke=l(9255),Kt=l(3601),gt=l(3022),Ct=l(3953),_n=l(4006),yn=l(177),Vn=l(9115),mi=l(6600),Oi=l(4823),Mi=l(9434);function wi(jn,lt){if(1&jn){const At=Ct.RV6();Ct.j41(0,"button",18),Ct.bIt("click",function(){const An=Ct.eBV(At).$implicit,ye=Ct.XpG().index,_t=Ct.XpG(2);return Ct.Njj(_t.setLocation(ye,An.id))}),Ct.j41(1,"div",19)(2,"app-icon",12),Ct.EFF(3),Ct.k0s(),Ct.j41(4,"div",20),Ct.EFF(5),Ct.k0s()()()}if(2&jn){const At=lt.$implicit;Ct.R7$(3),Ct.JRh(At.icon),Ct.R7$(2),Ct.JRh(At.name)}}function Ki(jn,lt){1&jn&&Ct.nrm(0,"div",21)}function ji(jn,lt){if(1&jn&&(Ct.j41(0,"div",10)(1,"div",11)(2,"app-icon",12),Ct.EFF(3),Ct.k0s()(),Ct.j41(4,"div",13)(5,"button",14)(6,"div"),Ct.EFF(7),Ct.k0s(),Ct.j41(8,"app-icon"),Ct.EFF(9,"expand_more"),Ct.k0s()(),Ct.j41(10,"mat-menu",null,1),Ct.DNE(12,wi,6,2,"button",15),Ct.k0s(),Ct.j41(13,"div",16),Ct.EFF(14),Ct.nI1(15,"date"),Ct.nI1(16,"date"),Ct.k0s()(),Ct.DNE(17,Ki,1,0,"div",17),Ct.k0s()),2&jn){const At=lt.$implicit,Ut=lt.index,An=Ct.sdS(11),ye=Ct.XpG(2);Ct.AVh("opacity-30",ye.now>ye.timeFrom(At.end_time)),Ct.R7$(),Ct.AVh("bg-base-200",ye.now<ye.timeFrom(At.start_time)||ye.now>ye.timeFrom(At.end_time))("bg-info",ye.now>=ye.timeFrom(At.start_time)&&ye.now<=ye.timeFrom(At.end_time))("text-info-content",ye.now>=ye.timeFrom(At.start_time)&&ye.now<=ye.timeFrom(At.end_time)),Ct.R7$(2),Ct.JRh(ye.location_icon(ye.timeFrom(At.start_time))),Ct.R7$(2),Ct.Y8G("matMenuTriggerFor",An),Ct.R7$(2),Ct.SpI(" ",ye.location(ye.timeFrom(At.start_time))," "),Ct.R7$(5),Ct.Y8G("ngForOf",ye.locations),Ct.R7$(2),Ct.Lme(" ",Ct.i5U(15,15,ye.timeFrom(At.start_time),"shortTime")," \u2013 ",Ct.i5U(16,18,ye.timeFrom(At.end_time),"shortTime")," "),Ct.R7$(3),Ct.Y8G("ngIf",Ut>0)}}function ts(jn,lt){if(1&jn&&(Ct.j41(0,"div",8),Ct.DNE(1,ji,18,21,"div",9),Ct.k0s()),2&jn){const At=Ct.XpG();Ct.R7$(),Ct.Y8G("ngForOf",null==At.active_preference?null:At.active_preference.blocks)}}function xs(jn,lt){1&jn&&(Ct.j41(0,"div",22)(1,"app-icon",23),Ct.EFF(2,"event_busy"),Ct.k0s(),Ct.j41(3,"p",24),Ct.EFF(4,"No work location for today."),Ct.k0s(),Ct.j41(5,"p",24),Ct.EFF(6," Click the edit button on the top right to edit your work location preferences. "),Ct.k0s()())}let Yi=(()=>{class jn{get active_preference(){const At=(0,v.GP)(new Date,"yyyy-MM-dd");return this.overrides[At]?this.overrides[At]:this.settings.find(Ut=>Ut.day_of_week===(new Date).getDay())}get now(){return(0,b.c)(Date.now()).getTime()}constructor(At){this._dialog=At,this.locations=[{id:"wfo",name:"Office",icon:"business"},{id:"wfh",name:"Home",icon:"home"},{id:"aol",name:"Leave",icon:"event_busy"}]}ngOnInit(){const At=(0,n.Ny)();this.settings=At.work_preferences,this.overrides=At.work_overrides}location_icon(At){return(0,n.Ny)().location_icon(At+6e4)}location(At){return(0,n.Ny)().location_name_time(At+6e4)}timeFrom(At){return(0,b.c)((0,E.h)(new Date,{hours:Math.floor(At),minutes:60*At%60,seconds:0,milliseconds:0})).getTime()}editSettings(){this._dialog.open(gt.$)}setLocation(At,Ut){var An=this;return(0,t.A)(function*(){const ye=(0,n.Ny)(),_t=An.active_preference,q=(0,v.GP)(Date.now(),"yyyy-MM-dd"),Ue={...ye.work_overrides,[q]:{..._t,blocks:[..._t.blocks.slice(0,At),{..._t.blocks[At],location:Ut},..._t.blocks.slice(At+1)]}};for(const Fe in Ue){const mt=We(Fe,"yyyy-MM-dd",new Date);(!Ue[Fe].blocks.length||(0,Ke.Y)(mt,(0,Ft.f)((0,Kt.o)(Date.now()),-1)))&&delete Ue[Fe]}An.overrides=Ue,yield(0,p.TKu)(ye.id,{...ye,work_overrides:Ue}).toPromise(),(0,n.mj)()})()}static#e=this.\u0275fac=function(Ut){return new(Ut||jn)(Ct.rXU(_n.bZ))};static#t=this.\u0275cmp=Ct.VBU({type:jn,selectors:[["work-location-tooltip"]],decls:13,vars:6,consts:[["empty_state",""],["menu","matMenu"],[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","justify-between","px-2"],[1,"px-2","py-4","font-medium"],["icon","","matRipple","","matTooltip","Edit Work Location Preferences","matTooltipPosition","left",1,"hover:bg-base-200",3,"click"],[1,"px-4","font-medium","text-sm"],["class","pb-2",4,"ngIf","ngIfElse"],[1,"pb-2"],["class","relative flex items-center px-4 py-2",3,"opacity-30",4,"ngFor","ngForOf"],[1,"relative","flex","items-center","px-4","py-2"],[1,"rounded-full","h-10","w-10","flex","items-center","justify-center","bg-base-200","z-20"],[1,"text-2xl"],[1,"flex-1","ml-2"],["matRipple","",1,"font-medium","flex","items-center","space-x-2","rounded","hover:bg-base-200","px-2","py-1",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-60","px-2"],["class","absolute -top-2 left-7 h-4 w-0 border-l-2 border-dashed border-base-200 -translate-x-px",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"pr-8"],[1,"absolute","-top-2","left-7","h-4","w-0","border-l-2","border-dashed","border-base-200","-translate-x-px"],[1,"flex","flex-col","items-center","justify-center","p-8","space-y-2","w-full","opacity-30"],[1,"text-6xl"],[1,"text-center","text-sm"]],template:function(Ut,An){if(1&Ut){const ye=Ct.RV6();Ct.j41(0,"div",2)(1,"div",3)(2,"h3",4),Ct.EFF(3,"Work Location"),Ct.k0s(),Ct.j41(4,"button",5),Ct.bIt("click",function(){return Ct.eBV(ye),Ct.Njj(An.editSettings())}),Ct.j41(5,"app-icon"),Ct.EFF(6,"edit_note"),Ct.k0s()()(),Ct.j41(7,"h3",6),Ct.EFF(8),Ct.nI1(9,"date"),Ct.k0s(),Ct.DNE(10,ts,2,1,"div",7),Ct.k0s(),Ct.DNE(11,xs,7,0,"ng-template",null,0,Ct.C5r)}if(2&Ut){const ye=Ct.sdS(12);Ct.R7$(8),Ct.SpI(" ",Ct.i5U(9,3,An.now,"fullDate")," "),Ct.R7$(2),Ct.Y8G("ngIf",null==An.active_preference||null==An.active_preference.blocks?null:An.active_preference.blocks.length)("ngIfElse",ye)}},dependencies:[yn.Sq,yn.bT,Vn.kk,Vn.fb,Vn.Cp,mi.r6,Oi.oV,Mi.R,yn.vh]})}return jn})()},1765:(jt,Se,l)=>{"use strict";l.d(Se,{w:()=>z});var t=l(467),n=l(3953),p=l(5818),v=l(4903),b=l(7375),M=(l(6727),l(4035)),S=l(8026),u=l(2011),I=l(5713),k=l(177),T=l(4006),w=l(2091);const D=()=>["./"],f=X=>({event:X});function V(X,$){if(1&X&&(n.j41(0,"span",5),n.EFF(1),n.k0s()),2&X){const te=n.XpG(2);n.R7$(),n.SpI("",te.day,",\xa0")}}function K(X,$){if(1&X&&(n.j41(0,"h4",2),n.DNE(1,V,2,1,"span",3),n.EFF(2),n.nI1(3,"date"),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"date"),n.k0s()()),2&X){const te=n.XpG();n.R7$(),n.Y8G("ngIf",te.show_day),n.R7$(),n.SpI(" ",n.i5U(3,3,null==te.event?null:te.event.date,te.time_format)," "),n.R7$(3),n.SpI("(",n.i5U(6,6,null==te.event?null:te.event.date,"z"),")")}}function ne(X,$){if(1&X&&(n.j41(0,"div",20),n.EFF(1),n.k0s()),2&X){const te=n.XpG(2);n.R7$(),n.SpI(" ",te.period_tz," ")}}function U(X,$){1&X&&(n.j41(0,"div",14)(1,"app-icon"),n.EFF(2,"restaurant"),n.k0s(),n.j41(3,"div",16),n.EFF(4,"Catered"),n.k0s()())}function c(X,$){if(1&X&&(n.j41(0,"div",24),n.nrm(1,"a-user-avatar",25),n.k0s()),2&X){const te=$.$implicit;n.R7$(),n.Y8G("user",te)}}function Z(X,$){if(1&X&&(n.j41(0,"div",24)(1,"div",26),n.EFF(2),n.k0s()()),2&X){const te=n.XpG(3);n.R7$(2),n.SpI(" +",(null==te.event||null==te.event.attendees?null:te.event.attendees.length)-5," ")}}function F(X,$){if(1&X&&(n.j41(0,"div",21),n.DNE(1,c,2,1,"div",22),n.nI1(2,"slice"),n.DNE(3,Z,3,1,"div",23),n.k0s()),2&X){const te=n.XpG(2);n.R7$(),n.Y8G("ngForOf",n.brH(2,2,null==te.event?null:te.event.attendees,0,6===(null==te.event||null==te.event.attendees?null:te.event.attendees.length)?6:5)),n.R7$(2),n.Y8G("ngIf",(null==te.event||null==te.event.attendees?null:te.event.attendees.length)>6)}}function J(X,$){if(1&X){const te=n.RV6();n.j41(0,"a",6),n.bIt("click",function(){n.eBV(te);const oe=n.XpG();return n.Njj(oe.viewDetails())}),n.j41(1,"div",7)(2,"h4",8),n.EFF(3),n.k0s(),n.j41(4,"div",9)(5,"status-pill",10)(6,"div",11)(7,"div"),n.EFF(8),n.k0s(),n.DNE(9,ne,2,1,"div",12),n.k0s()()(),n.j41(10,"div",13)(11,"div",14)(12,"app-icon"),n.EFF(13,"meeting_room"),n.k0s(),n.j41(14,"div",15),n.EFF(15),n.k0s()(),n.j41(16,"div",14)(17,"app-icon"),n.EFF(18,"person_outline"),n.k0s(),n.j41(19,"div",16),n.EFF(20),n.k0s()(),n.DNE(21,U,5,0,"div",17),n.j41(22,"div",14)(23,"app-icon"),n.EFF(24,"people"),n.k0s(),n.j41(25,"div",16),n.EFF(26),n.k0s()()(),n.j41(27,"app-icon",18),n.EFF(28," chevron_right "),n.k0s(),n.DNE(29,F,4,6,"div",19),n.k0s()()}if(2&X){let te;const G=n.XpG();n.Y8G("routerLink",n.lJ4(14,D))("queryParams",n.eq3(15,f,null==G.event?null:G.event.id)),n.R7$(3),n.JRh(null==G.event?null:G.event.title),n.R7$(2),n.Y8G("status",G.status),n.R7$(),n.AVh("pr-4",G.timezone),n.R7$(2),n.JRh(G.period),n.R7$(),n.Y8G("ngIf",G.timezone),n.R7$(6),n.SpI(" ",G.location," "),n.R7$(5),n.SpI(" ",(null==G.event||null==G.event.organiser?null:G.event.organiser.name)||(null==G.event||null==G.event.organiser?null:G.event.organiser.email)," "),n.R7$(),n.Y8G("ngIf",null==G.event||null==(te=G.event.ext("catering"))?null:te.length),n.R7$(5),n.Lme(" ",null==G.event||null==G.event.attendees?null:G.event.attendees.length," ",1===(null==G.event||null==G.event.attendees?null:G.event.attendees.length)?"Person":"People"," "),n.R7$(3),n.Y8G("ngIf",null==G.event||null==G.event.attendees?null:G.event.attendees.length)}}let z=(()=>{class X extends b.Tv{get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get tz(){const te=this.timezone;return te?(0,b.GF)(te):""}get time_format(){return this._settings.time_format}get period(){return this.event?.all_day?"All Day":this.formattedTime()}get period_tz(){return this.formattedTime(this.tz)}formattedTime(te){const G=this.event.date,oe=this.event.date_end,ce=this.event.all_day,le=this._date.transform(G,"z",te),ve=this._date.transform(G,"MMM d",te),Q=this._date.transform(G,this.time_format,te),R=this._date.transform(oe,"MMM d",te),L=this._date.transform(oe,this.time_format,te);return this.event?.duration>1440?`${ve}${ce?"":", "+Q} - ${R}${ce?"":", "+L}`:ce?"All Day":`${Q} - ${L} ${"("+le+")"}`}get status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(te,G,oe,ce,le){super(),this._dialog=te,this._route=G,this._org=oe,this._space_pipe=ce,this._settings=le,this.show_day=!1,this.edit=new n.bkB,this.remove=new n.bkB,this.location="",this._date=new k.vh("en")}ngOnInit(){var te=this;return(0,t.A)(function*(){te.subscription("route.query",te._route.queryParamMap.subscribe(G=>G.has("event")&&te.event?.id===G.get("event")?te.viewDetails():"")),te.location=yield te.getLocationString()})()}ngOnChanges(te){var G=this;return(0,t.A)(function*(){te.event&&G.event&&(G.location=yield G.getLocationString())})()}get day(){const te=this.event?.date||Date.now();return`${(0,p.r)(Date.now(),te)?"Today":(0,v.GP)(te,"EEEE")}`}getLocationString(){var te=this;return(0,t.A)(function*(){const G=te.event?.resources[0]||te.event?.system||te.event?.space||{},oe=yield te._space_pipe.transform(G.id||G.email),ce=oe?.zones||[],le=te._org.levelWithID(ce)||te._org.buildings.find(ve=>ce.includes(ve.id));return`${le?(le.display_name||le.name)+", ":""} ${oe?.display_name||oe?.name}`})()}viewDetails(){this.event&&this.timeout("open",()=>{if(this.event.extension_data?.shared_event)return void this._dialog.open(I.E,{data:{event:this.event,concierge:!1}});const te=this._dialog.open(M.b,{data:this.event});this.subscription("edit",te.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",te.componentInstance.remove.subscribe(G=>this.remove.emit(G)))})}static#e=this.\u0275fac=function(G){return new(G||X)(n.rXU(T.bZ),n.rXU(w.nX),n.rXU(S.y),n.rXU(u.J),n.rXU(b.h$))};static#t=this.\u0275cmp=n.VBU({type:X,selectors:[["event-card"]],inputs:{event:"event",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[n.Jv_([u.J]),n.Vt3,n.OA$],decls:2,vars:2,consts:[["class","mb-2 flex items-center","date","",4,"ngIf"],["name","view-event-details","class","w-full cursor-pointer relative",3,"routerLink","queryParams","click",4,"ngIf"],["date","",1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-event-details",1,"w-full","cursor-pointer","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-col","leading-tight"],["class","opacity-30 text-xs",4,"ngIf"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"mx-2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"absolute","bottom-2","right-2","sm:bottom-auto","sm:top-2","text-sm","sm:text-base","flex","items-center","pr-4"],["class","h-10 w-6",4,"ngFor","ngForOf"],["class","h-10 w-6",4,"ngIf"],[1,"h-10","w-6"],[3,"user"],[1,"bg-secondary","rounded-full","h-10","w-10","border-2","border-base-100","flex","items-center","justify-center","text-secondary-content"]],template:function(G,oe){1&G&&n.DNE(0,K,7,9,"h4",0)(1,J,30,17,"a",1),2&G&&(n.Y8G("ngIf",oe.event),n.R7$(),n.Y8G("ngIf",oe.event))},styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return X})()},4035:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>yt});var t=l(467),n=l(3953),p=l(4006),v=l(5987),b=l(6727),E=l(1865),M=l(8026),S=l(2011),u=l(5170),I=l(602),k=l(7375),T=l(735),w=l(1038),D=l(620),f=l(1416),V=l(177);const K=()=>({disable_pan:!0,disable_zoom:!0});function ne(ot,It){1&ot&&n.nrm(0,"div",58)}function U(ot,It){if(1&ot&&(n.j41(0,"div",59),n.nrm(1,"image-carousel",60),n.k0s()),2&ot){const Ae=n.XpG();n.R7$(),n.Y8G("images",null==Ae.event||null==Ae.event.system?null:Ae.event.system.images)}}function c(ot,It){if(1&ot&&(n.j41(0,"div",61),n.EFF(1),n.k0s()),2&ot){const Ae=n.XpG();n.R7$(),n.SpI(" ",Ae.period_tz," ")}}function Z(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"button",65),n.bIt("click",function(){n.eBV(Ae);const _e=n.XpG(2);return n.Njj(_e.checkin())}),n.j41(1,"div",66)(2,"app-icon",67),n.EFF(3),n.k0s(),n.j41(4,"div",68),n.pXf(5,9),n.k0s()()()}if(2&ot){const Ae=n.XpG(2);n.AVh("bg-success","pending"!==Ae.room_status)("border-none","pending"!==Ae.room_status)("pointer-events-none","pending"!==Ae.room_status),n.R7$(3),n.JRh("pending"===Ae.room_status?"arrow_back":"done"),n.R7$(2),n.uP7("pending"===Ae.room_status?"Check in":"Checked in"),n.nnv(5)}}function F(ot,It){if(1&ot&&(n.j41(0,"button",69)(1,"app-icon"),n.EFF(2,"more_horiz"),n.k0s()()),2&ot){n.XpG(2);const Ae=n.sdS(80);n.Y8G("matMenuTriggerFor",Ae)}}function J(ot,It){if(1&ot&&(n.j41(0,"div",62),n.DNE(1,Z,6,8,"button",63)(2,F,3,1,"button",64),n.k0s()),2&ot){const Ae=n.XpG();n.R7$(),n.Y8G("ngIf",Ae.room_status&&(null==Ae.event?null:Ae.event.can_check_in)&&"free"!==Ae.room_status),n.R7$(),n.Y8G("ngIf",Ae.allow_edit)}}function z(ot,It){if(1&ot&&(n.j41(0,"div",61),n.EFF(1),n.k0s()),2&ot){const Ae=n.XpG();n.R7$(),n.SpI(" ",Ae.period_tz," ")}}function X(ot,It){if(1&ot&&(n.qex(0),n.EFF(1),n.bVm()),2&ot){const Ae=n.XpG();n.R7$(),n.SpI(" ",(null==Ae.level?null:Ae.level.display_name)||(null==Ae.level?null:Ae.level.name),", ")}}function $(ot,It){if(1&ot&&(n.j41(0,"div",31)(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div"),n.EFF(4),n.k0s()()),2&ot){const Ae=n.XpG();n.R7$(4),n.Lme(" ",(null==Ae.building?null:Ae.building.display_name)||(null==Ae.building?null:Ae.building.name),", ",null==Ae.building?null:Ae.building.address," ")}}function te(ot,It){if(1&ot&&(n.j41(0,"span",86),n.EFF(1),n.k0s()),2&ot){const Ae=n.XpG().$implicit,we=n.XpG(3);n.Y8G("matTooltip",we.optionList(Ae)),n.R7$(),n.SpI(" ",(null==Ae.option_list?null:Ae.option_list.length)||"0"," option(s) ")}}function G(ot,It){if(1&ot&&(n.j41(0,"div",81)(1,"div",82)(2,"span",76),n.EFF(3),n.k0s(),n.DNE(4,te,2,2,"span",83),n.k0s(),n.j41(5,"div",84),n.EFF(6),n.k0s(),n.j41(7,"div",85),n.EFF(8),n.nI1(9,"currency"),n.k0s()()),2&ot){const Ae=It.$implicit,we=n.XpG(3);n.R7$(3),n.JRh(Ae.name||"Item"),n.R7$(),n.Y8G("ngIf",null==Ae.option_list?null:Ae.option_list.length),n.R7$(2),n.SpI(" x",Ae.quantity," "),n.R7$(2),n.SpI(" ",n.i5U(9,4,Ae.unit_price_with_options/100,we.currency_code)," ea ")}}function oe(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"div",73)(1,"div",74)(2,"div",75)(3,"div",76),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"div",77),n.EFF(7),n.nI1(8,"currency"),n.k0s()(),n.j41(9,"button",78),n.bIt("click",function(){const _e=n.eBV(Ae).$implicit,de=n.XpG(2);return n.Njj(de.show_order[_e.id]=!de.show_order[_e.id])}),n.j41(10,"app-icon"),n.EFF(11),n.k0s()()(),n.j41(12,"div",79),n.DNE(13,G,10,7,"div",80),n.k0s()()}if(2&ot){const Ae=It.$implicit,we=n.XpG(2);n.R7$(4),n.SpI(" Order at ",n.i5U(5,7,Ae.deliver_at,"MMM d, "+we.time_format)," "),n.R7$(3),n.Lme(" ",Ae.item_count," item(s) for ",n.i5U(8,10,Ae.total_cost/100,we.currency_code)," "),n.R7$(2),n.Y8G("matTooltip",we.show_order[Ae.id]?"Hide order items":"Show order items"),n.R7$(2),n.SpI(" ",we.show_order[Ae.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",we.show_order[Ae.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Ae.items)}}function ce(ot,It){if(1&ot&&(n.qex(0),n.j41(1,"div",34)(2,"h3",70),n.pXf(3,10),n.k0s(),n.j41(4,"div",71),n.DNE(5,oe,14,13,"div",72),n.k0s()(),n.bVm()),2&ot){const Ae=n.XpG();n.R7$(5),n.Y8G("ngForOf",Ae.event.valid_catering)}}function le(ot,It){if(1&ot&&(n.qex(0),n.nrm(1,"interactive-map",87),n.bVm()),2&ot){const Ae=n.XpG();n.R7$(),n.Y8G("src",null==Ae.level?null:Ae.level.map_id)("features",Ae.features)("options",n.lJ4(3,K))}}function ve(ot,It){if(1&ot&&(n.nrm(0,"div",90),n.nI1(1,"sanitize")),2&ot){const Ae=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,1,Ae.body)||"Unable to sanitize notes contents",n.npT)}}function Q(ot,It){if(1&ot&&(n.j41(0,"div",34)(1,"h3",88),n.pXf(2,11),n.k0s(),n.DNE(3,ve,2,3,"div",89),n.k0s()),2&ot){const Ae=n.XpG();n.R7$(3),n.Y8G("ngIf",Ae.body)}}function R(ot,It){if(1&ot&&(n.j41(0,"div",81)(1,"div",82)(2,"span",76),n.EFF(3),n.k0s()(),n.j41(4,"div",84),n.EFF(5),n.k0s()()),2&ot){const Ae=It.$implicit;n.R7$(3),n.JRh(Ae.name||"Item"),n.R7$(2),n.SpI(" x",Ae.quantity," ")}}function L(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"div",93)(1,"button",94),n.bIt("click",function(){const _e=n.eBV(Ae).$implicit,de=n.XpG(2);return n.Njj(de.show_request[_e.id]=!de.show_request[_e.id])}),n.j41(2,"div",95)(3,"div",76),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",96)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",97)(10,"app-icon",67),n.EFF(11),n.k0s()()(),n.j41(12,"div",79),n.DNE(13,R,6,2,"div",80),n.k0s()()}if(2&ot){const Ae=It.$implicit,we=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,Ae.deliver_at,"MMM d, "+we.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===Ae.state)("text-success-content","approved"===Ae.state)("bg-warning","approved"!==Ae.state&&"rejected"!==Ae.state)("text-warning-content","approved"!==Ae.state&&"rejected"!==Ae.state)("bg-error","rejected"===Ae.state)("text-error-content","rejected"===Ae.state),n.Y8G("matTooltip",Ae.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===Ae.state?"done":"rejected"===Ae.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",we.show_request[Ae.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",we.show_request[Ae.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Ae.items)}}function H(ot,It){if(1&ot&&(n.qex(0),n.j41(1,"div",34)(2,"h3",91),n.pXf(3,12),n.k0s(),n.j41(4,"div",71),n.DNE(5,L,14,21,"div",92),n.k0s()(),n.bVm()),2&ot){const Ae=n.XpG();n.R7$(3),n.uP7((null==Ae.event.valid_assets?null:Ae.event.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",Ae.event.valid_assets)}}function fe(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"div",98)(1,"attendee-list",99),n.bIt("click",function(){n.eBV(Ae);const _e=n.XpG();return n.Njj(_e.show_attendees=!1)}),n.k0s()()}if(2&ot){const Ae=n.XpG();n.R7$(),n.Y8G("list",Ae.event.attendees)("host",Ae.event.host)}}function Ie(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"button",100),n.bIt("click",function(){n.eBV(Ae);const _e=n.XpG();return n.Njj(_e.edit.emit(_e.space))}),n.j41(1,"div",54)(2,"app-icon",67),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,13),n.k0s()()()}if(2&ot){const Ae=n.XpG();n.Y8G("matTooltip",Ae.can_edit?"":Ae.no_edit_message)("disabled",!Ae.can_edit)}}function Xe(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"button",53),n.bIt("click",function(){n.eBV(Ae);const _e=n.XpG();return n.Njj(_e.remove.emit(!0))}),n.j41(1,"div",54)(2,"app-icon",55),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,14),n.k0s()()()}}function bt(ot,It){if(1&ot){const Ae=n.RV6();n.j41(0,"button",53),n.bIt("click",function(){const _e=n.eBV(Ae).$implicit,de=n.XpG();return n.Njj(de.action.emit(_e.id))}),n.j41(1,"div",54)(2,"app-icon",67),n.EFF(3),n.k0s(),n.j41(4,"div"),n.pXf(5,15),n.k0s()()()}if(2&ot){const Ae=It.$implicit;n.R7$(3),n.JRh(Ae.icon),n.R7$(2),n.uP7(Ae.name),n.nnv(5)}}const rt=[];let yt=(()=>{class ot{get can_edit(){return!0}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get tz(){const Ae=this.timezone;return Ae?(0,k.GF)(Ae):""}get body(){return this.event.body.replace(/\\n\\n\[ID\|.*\]/gm,"")}get allow_edit(){return!this._settings.get("app.events.booking_unavailable")}get custom_actions(){return this._settings.get("app.events.custom_actions")||rt}get time_format(){return this._settings.time_format}get event_status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(Ae,we,_e,de,Te){this._event=Ae,this._org=we,this._space_pipe=_e,this._settings=de,this._dialog=Te,this.action=new n.bkB,this.edit=new n.bkB,this.remove=new n.bkB,this.show_order={},this.show_request={},this.room_status="",this.hide_map=!1,this.hide_edit=!1,this.show_attendees=!1,this.event=this._event,this.no_edit_message="Editing bookings long than \n a day is not available",this.features=[{location:this.event?.system?.map_id,content:E.V}],this.has_catering=this.event?.ext("catering")?.length>0,this.has_assets=!!this.event?.linked_bookings?.find(Pe=>"asset-request"===Pe.booking_type),this.level=new I.P,this.building=new u.t,this.space=new T.$,this.accept_count=this._event.attendees.reduce((Pe,St)=>Pe+("accepted"===St.response_status?1:0),0),this.declined_count=this._event.attendees.reduce((Pe,St)=>Pe+("declined"===St.response_status?1:0),0),this.pending_count=this._event.attendees.reduce((Pe,St)=>Pe+("tentative"===St.response_status||"needsAction"===St.response_status?1:0),0),this._date=new V.vh("en"),this._load().then(),console.log("Timezone:",this.timezone)}get period(){return this.event?.all_day?"All Day":this.formattedTime()}get period_tz(){return this.formattedTime(this.tz)}formattedTime(Ae){const we=this.event.date,_e=this.event.date_end,de=this.event.all_day,Te=this._date.transform(we,"z",Ae),Pe=this._date.transform(we,"MMM d",Ae),St=this._date.transform(we,this.time_format,Ae),tt=this._date.transform(_e,"MMM d",Ae),wt=this._date.transform(_e,this.time_format,Ae);return this.event?.duration>1440?`${Pe}${de?"":", "+St} - ${tt}${de?"":", "+wt}`:de?"All Day":`${St} - ${wt} ${"("+Te+")"}`}optionList(Ae){return Ae.option_list?.map(we=>we.name).join("\n")}checkin(){var Ae=this;return(0,t.A)(function*(){const we=(0,w.f_4)(Ae.space?.id,"Bookings");we&&(yield we.execute("checkin",[(0,v._)(Ae.event.date)]).catch(_e=>(0,k.UG)(`Error checking in booking. ${_e}`)),Ae.room_status="busy")})()}_load(){var Ae=this;return(0,t.A)(function*(){if(Ae.space=yield Ae._space_pipe.transform(Ae._event.system?.id||Ae._event.system?.email),Ae.level=Ae._org.levelWithID(Ae.space.zones),Ae.building=Ae._org.buildings.find(_e=>Ae.space.zones.includes(_e.id)),Ae.features=[{location:Ae.space.map_id,content:E.V}],Ae.event.extension_data.catering?.length||Ae.event.extension_data.assets?.length)return;const we=yield(0,f.A5)(Ae._event.id,Ae.space.id).toPromise();we&&(Ae._event=new b.L({...Ae._event,extension_data:{...Ae._event.extension_data,...we}}))})()}status(Ae){const we=this.event.linked_bookings.find(_e=>_e.asset_id===Ae);return we.status?we.status:we?we.approved?"approved":we.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(D.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.hide_map=!1})}static#e=this.\u0275fac=function(we){return new(we||ot)(n.rXU(p.Vh),n.rXU(M.y),n.rXU(S.J),n.rXU(k.h$),n.rXU(p.bZ))};static#t=this.\u0275cmp=n.VBU({type:ot,selectors:[["event-details-modal"]],outputs:{action:"action",edit:"edit",remove:"remove"},features:[n.Jv_([S.J])],decls:90,vars:37,consts:()=>{let Ae,we,_e,de,Te,Pe,St,tt,wt,ln,Mn,Bn,Jt,Ft,W;return Ae=$localize`:2c8ce65c566300dc9063f69c615fda2e3a6b896a2102851380219026584: Details `,we=$localize`:dc34e61df786db36347c8dc09510fa3d5d4c62538291262399353359697:Attendees`,_e=$localize`:8ee85ef5a3693fb53511af55f66b8543941a59685528514721268144968: See All `,de=$localize`:4f20f2d5a6882190892e58b85f6ccbedfa7379522807800733729323332:Yes`,Te=$localize`:3d3ae7deebc5949b0c1c78b9847886a94321d9fd3542042671420335679:No`,Pe=$localize`:e6a27066251ca1e04c5be86ad758380856df25064416413576346763682:Pending`,St=$localize`:01072150a2c93fe7032783804ebfa5a1e41f36856139423482037031714: Host `,tt=$localize`:e634daa29c58868c9c9c4d9fcc7ba1c016fac86b4014175048517775632:Delete event`,wt=$localize`:e00cf812605b14c9c2390da404d3cd3ea67f19a63151361020738293834: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ln=$localize`:ef2612559c447d8f4c218c06bb66af9de8edf3656975755512274629403: Catering `,Mn=$localize`:195b2f1c65301b0700459c9d0ae2ce407ed9c7bf4484880822148672471: Notes `,Bn=$localize`:e30ee857e7399db3f72ec7aa8aa9b56ce76fca963391582008093299175: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,Jt=$localize`:56c74224d22c7379fdbf9d0a00c8bf519a9ee6612772374745622574688:Edit event`,Ft=$localize`:ecb2e91e2775870da0ea8e51b4951994493672fb3974228098480354844:Delete Series`,W=$localize`:8fcf89a6df3c02c129a41d4b202221a4013f107c941732683947462971:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["menu","matMenu"],Ae,we,_e,de,Te,Pe,St,tt,wt,ln,Mn,Bn,Jt,Ft,W,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["binding","","mod","Bookings","bind","status",3,"modelChange","model","sys"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],[1,"flex","flex-col","leading-tight"],["class","opacity-30 text-xs",4,"ngIf"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]","space-y-2"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["class","flex items-center px-2 space-x-2",4,"ngIf"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","border-t","border-base-200","sm:border-none","flex","items-center","justify-between"],[1,"text-lg","font-medium"],["matRipple","","show-attendees","",1,"clear","text-xs","underline",3,"click"],[1,"flex","items-center","p-1"],[1,"flex","flex-col","flex-1","items-center","justify-center","space-y-1"],[1,"text-lg"],[1,"text-sm","uppercase"],[1,"mx-3","mt-2","pt-2","text-lg","font-medium","border-t","border-base-200"],["host","",1,"px-2","flex","items-center","space-x-2"],[3,"user"],[1,"text-sm","flex-1","w-px"],[1,"opacity-60","truncate","w-full",3,"title"],["map","",1,"mt-4","sm:mt-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","sm:dark:bg-neutral-700","m-2","flex-grow-[3]","min-w-1/3","p-2","w-[calc(100%-1rem)]","sm:w-[16rem]",3,"click"],["class","mt-4 sm:p-4 sm:bg-base-100 sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-base-200 flex-grow-[3] min-w-1/3 sm:w-[16rem]",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-neutral","text-white"],["class","absolute inset-0 z-50",4,"ngIf"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2","text-base","pr-2"],[1,"text-2xl","text-error"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],[1,"opacity-30","text-xs"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10",3,"bg-success","border-none","pointer-events-none","click",4,"ngIf"],["icon","","matRipple","","class","bg-secondary rounded text-white h-12 w-12",3,"matMenuTriggerFor",4,"ngIf"],["btn","","matRipple","",1,"flex-1","h-10",3,"click"],[1,"flex","items-center","space-x-2","justify-center"],[1,"text-2xl"],[1,"pr-4"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-12","w-12",3,"matMenuTriggerFor"],[1,"mx-3","my-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["order","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["order","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-3"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","opacity-60"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],["class","text-xs opacity-60 ml-4 font-normal",3,"matTooltip",4,"ngIf"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"rounded","bg-info","text-info-content","text-xs","px-2","py-1"],[1,"text-xs","opacity-60","ml-4","font-normal",3,"matTooltip"],[1,"pointer-events-none",3,"src","features","options"],[1,"mx-3","text-lg","font-medium","border-t","sm:border-none","border-base-200"],["notes","","class","mx-4 overflow-hidden max-w-full",3,"innerHTML",4,"ngIf"],["notes","",1,"mx-4","overflow-hidden","max-w-full",3,"innerHTML"],[1,"mx-3","pt-2","text-lg","font-medium"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"absolute","inset-0","z-50"],[3,"click","list","host"],["mat-menu-item","","mat-dialog-close","",3,"click","matTooltip","disabled"]]},template:function(we,_e){if(1&we){const de=n.RV6();n.j41(0,"div",16)(1,"div",17)(2,"i",18),n.mxI("modelChange",function(Pe){return n.eBV(de),n.DH7(_e.room_status,Pe)||(_e.room_status=Pe),n.Njj(Pe)}),n.k0s(),n.DNE(3,ne,1,0,"div",19)(4,U,2,1,"div",20),n.j41(5,"h3",21),n.EFF(6),n.k0s(),n.j41(7,"div",22)(8,"div",23)(9,"status-pill",24)(10,"div",25)(11,"div"),n.EFF(12),n.k0s(),n.DNE(13,c,2,1,"div",26),n.k0s()()(),n.DNE(14,J,3,2,"div",27),n.k0s()(),n.j41(15,"div",28)(16,"div",29)(17,"h3",30),n.pXf(18,1),n.k0s(),n.j41(19,"div",31)(20,"app-icon"),n.EFF(21,"event"),n.k0s(),n.j41(22,"div"),n.EFF(23),n.nI1(24,"date"),n.k0s()(),n.j41(25,"div",31)(26,"app-icon"),n.EFF(27,"schedule"),n.k0s(),n.j41(28,"div",25)(29,"div"),n.EFF(30),n.k0s(),n.DNE(31,z,2,1,"div",26),n.k0s()(),n.j41(32,"div",31)(33,"app-icon"),n.EFF(34,"map"),n.k0s(),n.j41(35,"div"),n.DNE(36,X,2,1,"ng-container",32),n.EFF(37),n.k0s()(),n.DNE(38,$,5,2,"div",33),n.k0s(),n.j41(39,"div",34)(40,"div",35)(41,"h3",36),n.pXf(42,2),n.k0s(),n.j41(43,"button",37),n.bIt("click",function(){return n.eBV(de),n.Njj(_e.show_attendees=!0)}),n.pXf(44,3),n.k0s()(),n.j41(45,"div",38)(46,"div",39)(47,"div",40),n.EFF(48),n.k0s(),n.j41(49,"div",41),n.pXf(50,4),n.k0s()(),n.j41(51,"div",39)(52,"div",40),n.EFF(53),n.k0s(),n.j41(54,"div",41),n.pXf(55,5),n.k0s()(),n.j41(56,"div",39)(57,"div",40),n.EFF(58),n.k0s(),n.j41(59,"div",41),n.pXf(60,6),n.k0s()()(),n.j41(61,"h3",42),n.pXf(62,7),n.k0s(),n.j41(63,"div",43),n.nrm(64,"a-user-avatar",44),n.j41(65,"div",45)(66,"div"),n.EFF(67),n.k0s(),n.j41(68,"div",46),n.EFF(69),n.k0s()()()(),n.DNE(70,ce,6,1,"ng-container",32),n.j41(71,"button",47),n.bIt("click",function(){return n.eBV(de),n.Njj(_e.viewLocation())}),n.DNE(72,le,2,4,"ng-container",32),n.k0s(),n.DNE(73,Q,4,1,"div",48)(74,H,6,2,"ng-container",32),n.j41(75,"button",49)(76,"app-icon"),n.EFF(77,"close"),n.k0s()(),n.DNE(78,fe,2,2,"div",50),n.k0s(),n.j41(79,"mat-menu",51,0),n.DNE(81,Ie,6,2,"button",52),n.j41(82,"button",53),n.bIt("click",function(){return n.eBV(de),n.Njj(_e.remove.emit())}),n.j41(83,"div",54)(84,"app-icon",55),n.EFF(85,"delete"),n.k0s(),n.j41(86,"div"),n.pXf(87,8),n.k0s()()(),n.DNE(88,Xe,6,0,"button",56)(89,bt,6,2,"button",57),n.k0s()()}2&we&&(n.R7$(2),n.R50("model",_e.room_status),n.Y8G("sys",null==_e.space?null:_e.space.id),n.R7$(),n.Y8G("ngIf",!(null!=_e.event&&null!=_e.event.system&&null!=_e.event.system.images&&_e.event.system.images.length)),n.R7$(),n.Y8G("ngIf",null==_e.event||null==_e.event.system||null==_e.event.system.images?null:_e.event.system.images.length),n.R7$(),n.AVh("pt-4",!(null!=_e.event&&null!=_e.event.system&&null!=_e.event.system.images&&_e.event.system.images.length)),n.R7$(),n.SpI(" ",_e.event.title," "),n.R7$(3),n.Y8G("status",_e.event_status),n.R7$(),n.AVh("pr-4",_e.timezone),n.R7$(2),n.JRh(_e.period),n.R7$(),n.Y8G("ngIf",_e.timezone),n.R7$(),n.Y8G("ngIf","done"!==_e.event.state),n.R7$(9),n.SpI(" ",n.i5U(24,34,_e.event.date,"EEEE, dd LLLL y")," "),n.R7$(7),n.JRh(_e.period),n.R7$(),n.Y8G("ngIf",_e.timezone),n.R7$(5),n.Y8G("ngIf",_e.level),n.R7$(),n.SpI(" ",(null==_e.event||null==_e.event.system?null:_e.event.system.display_name)||(null==_e.event||null==_e.event.system?null:_e.event.system.name)||(null==_e.event?null:_e.event.location)," "),n.R7$(),n.Y8G("ngIf",_e.building),n.R7$(10),n.JRh(_e.accept_count||0),n.R7$(5),n.JRh(_e.declined_count||0),n.R7$(5),n.JRh(_e.pending_count||0),n.R7$(6),n.Y8G("user",_e.event.organiser),n.R7$(3),n.JRh(null==_e.event.organiser?null:_e.event.organiser.name),n.R7$(),n.Y8G("title",_e.event.host),n.R7$(),n.SpI(" ",_e.event.host," "),n.R7$(),n.Y8G("ngIf",_e.has_catering),n.R7$(2),n.Y8G("ngIf",!_e.hide_map),n.R7$(),n.Y8G("ngIf",_e.body),n.R7$(),n.Y8G("ngIf",_e.has_assets),n.R7$(4),n.Y8G("ngIf",_e.show_attendees),n.R7$(3),n.Y8G("ngIf",!_e.hide_edit),n.R7$(7),n.Y8G("ngIf",_e.event.recurring_event_id),n.R7$(),n.Y8G("ngForOf",_e.custom_actions))},data:{animation:[k.Ft]}})}return ot})()},6266:(jt,Se,l)=>{"use strict";l.d(Se,{W:()=>_e});var t=l(467),n=l(2091),p=l(1038),v=l(9928),b=l(9714),E=l(696),M=l(4421),S=l(4670),u=l(2170),I=l(9090),k=l(5006),T=l(8712),w=l(1713),D=l(8728),f=l(3020),V=l(8841),K=l(3921),ne=l(522),U=l(3176),c=l(3601),Z=l(129),F=l(4273);function z(de,Te){const Pe=de.getFullYear()-Te.getFullYear()||de.getMonth()-Te.getMonth()||de.getDate()-Te.getDate()||de.getHours()-Te.getHours()||de.getMinutes()-Te.getMinutes()||de.getSeconds()-Te.getSeconds()||de.getMilliseconds()-Te.getMilliseconds();return Pe<0?-1:Pe>0?1:Pe}var $=l(7375),te=l(4233),G=l(8026),oe=l(5645),ce=l(6727),le=l(1416),ve=l(1761),Q=l(7141),R=l(4525),L=l(2671),H=l(8363),fe=l(1280),Ie=l(2011),Xe=l(5204),bt=l(3693),rt=l(6088),yt=l(3747),ot=l(3953),It=l(4006);const Ae=["book/rooms","book/spaces","book/meeting","schedule/view","confirm/success","upcoming"];let _e=(()=>{class de extends $.Tv{get options_value(){return this._options.getValue()}get is_multiday(){return this._event.getValue()?.duration>1440}get view(){return this._view.getValue()}get form(){return this._form}get event(){return this._event.getValue()}get favorite_spaces(){return this._settings.get("favourite_spaces")||[]}get has_calendar(){return!0!==this._settings.get("app.events.use_bookings")}constructor(Pe,St,tt,wt,ln,Mn){super(),this._org=Pe,this._router=St,this._payments=tt,this._settings=wt,this._assets=ln,this._dialog=Mn,this._view=new v.t("form"),this._options=new v.t({zone_ids:[],features:[]}),this._form=(0,ve.Ss)(void 0,this._settings),this._date=new v.t(Date.now()),this._event=new v.t(null),this._loading=new v.t(""),this._changed=new v.t(0),this.last_success=new ce.L(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_event")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.booking_rules=this._org.building_list.pipe((0,I.n)(Jt=>Promise.all(Jt.map(Ft=>(0,p.bpY)(Ft.id,"room_booking_rules").toPromise()))),(0,k.T)(Jt=>{const Ft={};for(const W of Jt)Ft[W.id]=W.details instanceof Array?W.details:[];return Ft}),(0,T.t)(1)),this.spaces=(0,b.zV)([this._options.pipe((0,w.w)("zone_ids")),this._org.active_region.pipe((0,D.p)(Jt=>!!Jt),(0,w.w)("id")),this._org.active_building.pipe((0,D.p)(Jt=>!!Jt),(0,w.w)("id"))]).pipe((0,f.B)(300),(0,V.M)(Jt=>this.unsubWith("bind:")),(0,I.n)(([{zone_ids:Jt}])=>{this._loading.next("Loading space list for location...");const Ft=this._settings.get("app.use_region");return Jt?.length||(Jt=[(Ft?this._org.region?.id:this._org.building?.id)||this._org.building?.id]),(0,E.p)(Jt.map(W=>(0,H.Ot)(W).pipe((0,K.W)(()=>(0,M.of)([])))))}),(0,k.T)(Jt=>(0,$.Bq)(Jt)),(0,V.M)(Jt=>this._loading.next("")),(0,T.t)(1)),this.features=this.spaces.pipe((0,k.T)(Jt=>(0,$.Am)((0,$.Bq)(Jt.map(Ft=>Ft.features))))),this.filtered_spaces=(0,b.zV)([this.spaces,this.options]).pipe((0,k.T)(([Jt,{show_fav:Ft,features:W,capacity:Me}])=>Jt.filter(ie=>{const pe=((0,$.Ny)()?.email||"@").split("@")[1],Be=(this._settings.get("app.events.restrict_spaces")||{})[pe],Tt=this._settings.get("app.events.limit_spaces")||{},Wt=Object.keys(Tt),vn=ie.zones.find(Pt=>Wt.includes(Pt));return ie.bookable&&(!Be||ie.zones.includes(Be))&&(!vn||Tt[vn]===pe)&&(!Ft||this.favorite_spaces.includes(ie.id))&&W.every(Pt=>ie.features.includes(Pt))&&ie.capacity>=Math.max(0,Me||0)}).slice(0,Math.min(100,Jt.length))),(0,T.t)(1)),this._space_bookings=(0,b.zV)([this.spaces,this.filtered_spaces]).pipe((0,ne.F)(([Jt],[Ft])=>Jt!==Ft),(0,I.n)(([Jt,Ft])=>(0,b.zV)((Ft||[]).map(W=>{const Me=(0,p.f_4)(W.id,"Bookings").binding("bookings"),ie=Me.listen().pipe((0,k.T)(pe=>(pe||[]).map(Be=>new ce.L(Be))));return this.hasSubscription(`bind:${W.id}`)||this.subscription(`bind:${W.id}`,Me.bind()),ie}))),(0,T.t)(1)),this.current_available_spaces=(0,b.zV)([this.filtered_spaces,this._space_bookings,this.booking_rules,(0,S.h)(this.form.valueChanges,(0,u.O)(1e3)),this._changed]).pipe((0,f.B)(300),(0,k.T)(([Jt,Ft,W])=>{this._loading.next("Updating available spaces...");let{ical_uid:Me,date:ie,duration:pe,all_day:Be}=this._form.getRawValue();return((Jt=(0,$.XE)(Jt,{date:ie,duration:pe,resource:null,host:(0,$.Ny)()},W[this._org.building?.id]||[]))||[]).filter((Tt,Wt)=>{const vn=Be?(0,c.o)(ie).valueOf():ie,Pt=vn+6e4*(Be?Math.max(1440,pe):pe);let dn=Ft[Wt]||[];return this.last_success?.system?.id===Tt.id&&(dn=[...dn,this.last_success]),(0,fe.U1)(vn,Pt,dn.filter(at=>at.ical_uid!==Me))}).sort((Tt,Wt)=>Tt.capacity-Wt.capacity)}),(0,V.M)(Jt=>this._loading.next("")),(0,T.t)(1)),this.future_available_spaces=(0,b.zV)([this.filtered_spaces,this.booking_rules,this.form.valueChanges.pipe((0,f.B)(400),(0,U.Z)({}))]).pipe((0,D.p)(()=>!this._loading.getValue()),(0,f.B)(500),(0,I.n)(([Jt,Ft])=>{if(!Jt.length)return(0,M.of)([]);this._loading.next("Retrieving available spaces...");let{date:W,duration:Me,all_day:ie}=this._form.getRawValue();return(this.has_calendar?le.UR:oe.kX)((Jt=(0,$.XE)(Jt,{date:W,duration:Me,resource:null,host:(0,$.Ny)()},Ft[this._org.building?.id]||[])).map(({id:Be})=>Be),ie?(0,c.o)(W).valueOf():W,ie?Math.max(1440,Me):Me,this?.event?.resources[0]?.id||this.event?.system?.id||this.event?.id||void 0,void 0,[this.event?.date,this.event?.duration]).pipe((0,k.T)(Be=>{var Tt=Jt.filter((Wt,vn)=>Be[vn]);return(0,$.XE)(Tt,{date:W,duration:Me,resource:null,host:(0,$.Ny)()},Ft[this._org.building?.id]||[])}),(0,K.W)(Be=>[]))}),(0,V.M)(Jt=>this._loading.next("")),(0,T.t)(1)),this.available_spaces=this._date.pipe((0,I.n)(Jt=>{const Ft=Math.abs(function J(de,Te){const Pe=(0,F.a)(de),St=(0,F.a)(Te),tt=z(Pe,St),wt=Math.abs((0,Z.m)(Pe,St));Pe.setDate(Pe.getDate()-tt*wt);const Mn=tt*(wt-+(z(Pe,St)===-tt));return 0===Mn?0:Mn}(Jt,Date.now()));return Ft<(this._settings.get("app.events.cache_duration_in_days")||14)?this.current_available_spaces:this.future_available_spaces}),(0,T.t)(1)),this.cancelPostForm=()=>this.unsub("post-event-form"),this._space_pipe=new Ie.J(this._org),this.subscription("router.events",this._router.events.subscribe(Jt=>{Jt instanceof n.wF&&!Ae.some(Ft=>Jt.url.includes(Ft))&&this.clearForm()}));const Bn={};this.subscription("form_change",this._form.valueChanges.subscribe(({date:Jt,duration:Ft})=>{(Jt&&Jt!==Bn.date||Ft&&Ft!==Bn.duration)&&(this._assets.setOptions({date:this.form.value.date,duration:this.form.value.duration}),Bn.date=Jt,Bn.duration=Ft),Jt&&Jt!==this._date.getValue()&&this._date.next(Jt),this.storeForm()}))}listenForStatusChanges(){this.subscription("status:rooms",this.available_spaces.subscribe())}setView(Pe){this.timeout("set_view",()=>this._view.next(Pe),50)}setOptions(Pe){this._options.next({...this._options.getValue(),...Pe})}newForm(Pe=new ce.L({all_day:this._settings.get("app.events.all_day_default")})){var St=this;return(0,t.A)(function*(){if(St._event.next(Pe),Pe.recurring_event_id){const tt=yield(0,le.ue)(Pe.recurring_event_id).toPromise().catch(wt=>null);tt&&(St._event.getValue().recurrence={...tt.recurrence,_pattern:tt.recurrence.pattern})}St._assets.setOptions({ignore:(0,$.Bq)(Pe.linked_bookings?.map(tt=>tt.asset_ids||[tt.asset_id])||[])});for(const tt in Pe.resources){const wt=Pe.resources[tt];Pe.resources[tt]=yield St._space_pipe.transform(wt.id||wt.email)}St._date.next(Pe.date),St.timeout("post-event-form",()=>{St._form.patchValue({date:Pe.date||St._form.value.date})},1e3),St.resetForm()})()}resetForm(){this._form.reset();const Pe=this._event.getValue()||{extension_data:{}};this._assets.setOptions({ignore:(0,$.Bq)(Pe.linked_bookings?.map(tt=>tt.asset_ids||[tt.asset_id])||[])});const St=!!Pe.extension_data.catering[0];this._form.patchValue({...Pe.extension_data,...Pe,duration:Pe.duration>=720?30:Pe.duration,organiser:Pe?.organiser||(0,$.Ny)()||new bt.KJ({email:Pe?.host}),catering_charge_code:Pe.extension_data.catering[0]?.charge_code||(Pe.id&&St?" ":""),assets:(Pe.extension_data.assets||[]).map(tt=>new yt.Y({...tt,event:Pe}))}),this._form.patchValue({date:Pe.date||this._form.value.date,date_end:Pe.date_end||this._form.value.date_end}),this._options.next({features:[]}),this.storeForm()}clearForm(){sessionStorage.removeItem("PLACEOS.event_form"),this.unsubWith("status:"),this.unsubWith("bind:"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.event_form",JSON.stringify(this._form.getRawValue()||{}))}loadForm(){if(!sessionStorage.getItem("PLACEOS.event_form"))return this.newForm();const Pe=JSON.parse(sessionStorage.getItem("PLACEOS.event_form")||"{}");Pe.id&&Pe.id!==this._event.getValue()?.id&&(0,le.ue)(Pe.id).subscribe(St=>{this._event.next(St),this._assets.setOptions({ignore:(0,$.Bq)(St.linked_bookings?.map(tt=>tt.asset_ids||[tt.asset_id])||[])})}),this._form.patchValue({...Pe})}openEventLinkModal(Pe=!1){const St=this._form;if(St.markAllAsTouched(),!St.valid&&!Pe)return;const tt=new ce.L({...St.getRawValue(),assets:[]});this._dialog.open(L.t,{data:tt}).afterClosed().subscribe(ln=>ln?this._router.navigate(["/"]):"")}postForm(Pe=!1,St=[],tt=!1){var wt=this;return new Promise(function(){var ln=(0,t.A)(function*(Mn,Bn){wt._loading.next("Creating event...");const Jt=wt._form;Jt.markAllAsTouched();const Ft=wt.event||new ce.L;if(!Jt.valid&&!Pe)return wt._loading.next(""),Bn(`Some form fields are invalid. [${(0,$.F7)(Jt).join(", ")}]`);const W=wt.event?.ical_uid;let Me=wt._form.getRawValue(),{id:ie,host:pe,date:Be,duration:Tt,creator:Wt,all_day:vn,assets:Pt,recurrence:dn}=Me,at=Jt.get("resources")?.value||[];St.length&&(at=at.filter(qt=>!St.includes(qt.email)&&!St.includes(qt.id)));let pt=Jt.get("catering")?.value||[];dn?._pattern&&"none"!==dn?._pattern&&(wt.form.patchValue({recurring:!0}),Me=wt._form.getRawValue());let Xt=!1,Gt=at.some(qt=>!Ft.resources?.find(un=>un.id===qt.id));(!ie||Be!==Ft.date||Tt!==Ft.duration)&&at.length&&(Xt=!0,yield wt.checkSelectedSpacesAreAvailable(at,vn?(0,c.o)(Be).valueOf():Be,vn?Math.max(1440,Tt):Tt,W||ie||"").catch(qt=>{throw wt._loading.next(""),Bn(qt),qt})),at=Jt.get("resources")?.value||[];const pn=pe===(0,$.Ny)()?.email||Wt===(0,$.Ny)()?.email;if(!at.length&&wt._settings.get("app.events.no_space_resource")){const qt=yield wt._space_pipe.transform(wt._settings.get("app.events.no_space_resource"));at.push(qt)}const nn=(0,$.Am)([...Me.attendees,Me.organiser||(0,$.Ny)()],"email");if(!at.length&&nn.find(qt=>qt.is_external)){wt._loading.next("");const qt="External attendees require a space to be booked";throw Bn(qt),qt}const xn=at[0]?.id,kn=ie?{system_id:wt.event?.resources[0]?.id||wt.event?.system?.id||xn}:{};if(pn&&!tt&&(kn.calendar=pe||Wt),wt._payments.payment_module&&at.length){const qt=yield wt._payments.makePayment({type:"space",resource_name:at[0].display_name||at[0].name,date:Be,duration:Tt,all_day:vn});if(!qt?.success)return wt._loading.next("");Me.extension_data={invoice:qt,invoice_id:qt.invoice_id}}const Gn=Me.date;for(const qt of pt)qt.notes=Me.catering_notes,qt.charge_code=Me.catering_charge_code;if(at.length){let[qt,un]=[0,0];for(const Qe of at){const je=wt._settings.get(`app.events.overflow.${Qe.id}`);je?.setup&&(qt=Math.max(qt,je.setup)),je?.breakdown&&(un=Math.max(un,je.breakdown))}Me.setup=Me.setup_time||qt,Me.breakdown=Me.breakdown_time||un,Me.setup_time=Me.setup_time||qt,Me.breakdown_time=Me.breakdown_time||un}const hi=(Pt||[]).map(qt=>new yt.Y(qt).toJSON()),Ht=yield wt._makeBooking(new ce.L({...Me,old_system:wt.event?.system,host:wt._settings.get("app.events.force_host")||(wt._settings.get("app.events.room_as_host")?Me.resources[0].email:"")||Me.host,title:Me.title||"Space Booking",attendees:nn.map(qt=>{const un={...qt};return delete un.visit_expected,un}),date:Gn,catering:pt,assets:hi,extension_data:wt._settings.get("app.events.force_host")||wt._settings.get("app.events.room_as_host")?{host_override:Me.host,department:Me.organiser?.department||(0,$.Ny)()?.department}:{department:Me.organiser?.department||(0,$.Ny)()?.department}}),kn).catch(qt=>{throw Bn(qt),wt._loading.next(""),qt}),dt=((0,$.Ny)()?.email||"@").split("@")[1],Vt=nn.filter(qt=>qt.is_external&&qt.email!==Ft.host&&!qt.email.includes(dt)&&qt.visit_expected);let ct=!1;const kt=function(){var qt=(0,t.A)(function*(un){if(wt.form.value.id){if(ct)return void(0,$.UG)(`Unable to update all asset requests for event.\n${un}`)}else yield(0,le.Nn)(Ht.id,at.length?{calendar:wt.form.value.host||(0,$.Ny)()?.email,system_id:at[0].id}:{}).toPromise(),console.warn("Couldn't update asset requests",un),(0,$.UG)(409===un?.status?"Some assets are already booked for the selected time":"Unable to book the selected assets.");throw wt._loading.next(""),un});return function(Qe){return qt.apply(this,arguments)}}();if(Vt.length&&(yield(0,oe.Kq)(Ht,"visitor",Vt).catch(kt)),Pt?.length||Ft.extension_data.assets?.length){ct=!0;const qt=yield(0,Xe.en)(Ht,{date:Be,duration:Tt,host:pe,all_day:vn,location_name:at[0]?.display_name||at[0]?.name||"",location_id:at[0]?.id||"",zones:(0,$.Am)([wt._org.organisation.id,wt._org.region?.id,wt._org.building?.id,...at[0]?.zones]).filter(un=>!!un),reset_state:Xt},Pt,Gt||Xt).catch(kt);if(!qt)throw"Unable to validate asset requests";yield qt(),ct=!1}wt.clearForm(),wt.last_success=Ht,sessionStorage.setItem("PLACEOS.last_booked_event",JSON.stringify(Ht)),wt.setView("success"),wt.timeout("post_finshed",()=>wt._changed.next(Date.now())),Mn(Ht),wt._loading.next("")});return function(Mn,Bn){return ln.apply(this,arguments)}}())}_makeBooking(Pe,St){var tt=this;return(0,t.A)(function*(){return tt._updateVisitorList(Pe.attendees),(tt.has_calendar?(0,le.Az)(Pe,St):(0,oe.X0)((0,Q.s8)({...Pe.toJSON(),status:tt._settings.get("app.bookings.no_approval")?"approved":"tentative"})).pipe((0,k.T)(wt=>(0,ve.Uv)(wt)))).toPromise()})()}checkSelectedSpacesAreAvailable(Pe,St,tt,wt){var ln=this;return(0,t.A)(function*(){if(!Pe?.length)return!0;if(ln.has_calendar){if(!(yield(0,le.UR)(Pe.map(({id:Bn})=>Bn),St,tt,ln?.event?.resources[0]?.id||ln.event?.system?.id||ln.event?.id||void 0,void 0,[ln.event?.date,ln.event?.duration]).toPromise()).every(Bn=>Bn))throw(Pe.length>1?"The selected space":"Some of the selected spaces")+" is not available at the selected time"}else if(!(yield(0,oe.kX)(Pe.map(Bn=>Bn.id),St,tt,wt).toPromise()).every(Bn=>Bn))throw(Pe.length>1?"The selected space":"Some of the selected spaces")+" are not available at the selected time";return!0})()}_updateVisitorList(Pe){const St=Pe.filter(wt=>wt.is_external);if(!St?.length)return;const tt=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",(0,$.Am)([...tt.filter(wt=>!wt.includes(wt.email)),...St.map(wt=>`${wt.email}|${wt.name}|${wt.organisation}`)]))}static#e=this.\u0275fac=function(St){return new(St||de)(ot.KVO(G.y),ot.KVO(n.Ix),ot.KVO(R.h),ot.KVO(te.h),ot.KVO(rt.R),ot.KVO(It.bZ))};static#t=this.\u0275prov=ot.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},2671:(jt,Se,l)=>{"use strict";l.d(Se,{t:()=>I});var t=l(4006),n=l(4571),v=(l(6727),l(7375)),b=l(3953),E=l(9434),M=l(6600),S=l(6781),u=l(4616);let I=(()=>{class k{constructor(w,D){this._event=w,this._dialog=D,this.outlook_link=(0,n.gP)(this._event),this.google_link=(0,n.dB)(this._event),this.ical_link=(0,n._V)(this._event),this.has_actioned=!1}close(){if(!this.has_actioned)return(0,v.UG)("You need to select a calendar option to finish creating this booking");this._dialog.close(!0)}static#e=this.\u0275fac=function(D){return new(D||k)(b.rXU(t.Vh),b.rXU(t.CP))};static#t=this.\u0275cmp=b.VBU({type:k,selectors:[["event-link-modal"]],decls:24,vars:13,consts:()=>{let w,D,f,V,K;return w=$localize`:29e3480e3d010232704522cde3ca29d23cc7725f5139383754155835256:Add event to your calendar`,D=$localize`:34c16b14ad0e33db574c8bea543e66e766aa3a014015832758698516701:Create in Outlook`,f=$localize`:f745484670e6b6bbb8a1c327c222e665fb25b8633788591245559456526:Create in Google Calendar`,V=$localize`:1af54061e7f4bcfb1048ffaa05c9b8f7c4b416794894641609416495396:Download iCal File`,K=$localize`:4dc1e9a4bbd21cf153990984cd4ecb44441170986327967827692127661: Close `,[w,D,f,V,K,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"click","href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["btn","","matRipple","",1,"w-64",3,"click"],["icon","","matRipple","",1,"absolute","top-2","right-0",3,"mat-dialog-close"]]},template:function(D,f){1&D&&(b.j41(0,"div",5),b.pXf(1,0),b.k0s(),b.j41(2,"div",6)(3,"a",7),b.nI1(4,"sanitize"),b.bIt("click",function(){return f.has_actioned=!0}),b.nrm(5,"img",8),b.j41(6,"span"),b.pXf(7,1),b.k0s()(),b.j41(8,"a",7),b.nI1(9,"sanitize"),b.bIt("click",function(){return f.has_actioned=!0}),b.nrm(10,"img",9),b.j41(11,"span"),b.pXf(12,2),b.k0s()(),b.j41(13,"a",7),b.nI1(14,"safe"),b.bIt("click",function(){return f.has_actioned=!0}),b.j41(15,"app-icon",10),b.EFF(16,"download"),b.k0s(),b.j41(17,"span"),b.pXf(18,3),b.k0s()(),b.j41(19,"button",11),b.bIt("click",function(){return f.close()}),b.pXf(20,4),b.k0s()(),b.j41(21,"button",12)(22,"app-icon"),b.EFF(23,"close"),b.k0s()()),2&D&&(b.R7$(3),b.Y8G("href",b.i5U(4,4,f.outlook_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(9,7,f.google_link,"url"),b.B4B),b.R7$(5),b.Y8G("href",b.i5U(14,10,f.ical_link,"url"),b.B4B),b.R7$(8),b.Y8G("mat-dialog-close",f.has_actioned))},dependencies:[t.tx,E.R,M.r6,S.m,u.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return k})()},6727:(jt,Se,l)=>{"use strict";l.d(Se,{L:()=>Z,i:()=>U});var t=l(7375),n=l(5987),p=l(9548),v=l(7926),b=l(2037),E=l(3601),M=l(4512),S=l(5818),u=l(4903),I=l(9255),k=l(9015),T=l(9824),w=l(5555),D=l(735),f=l(3693),V=l(1280),K=l(3747);let ne={id:"default",name:"Default User"};function U(F){F&&(ne=F)}const c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];class Z{get images(){return this.extension_data.images||[]}get is_all_day(){return this.all_day||this.duration>=720}get view_access(){return this.extension_data.view_access||"PRIVATE"}ext(J){return this.extension_data[J]}constructor(J={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=J.event_id||J.id||"",this.event_start=J.event_start||(0,n._)(J.date||(0,p.X)((0,v.z)(new Date,3),{nearestTo:5})),this.event_end=J.event_end||(0,n._)((0,v.z)(1e3*this.event_start,J.duration||30)),this.calendar=J.calendar||"",this.creator=(J.creator||ne.email)?.toLowerCase()||"",this.host=(J.host||this.creator||J.host_email||ne.email||"").toLowerCase();const z=J.attendees||[];this.attendees=z.filter(le=>!le.resource).map(le=>new f.KJ(le)),this.resources=(0,t.Am)(J.resources||z.filter(le=>le.resource).map(le=>new D.$(le)),"email")||[],this.title=J.title,this.body=J.body||"",this.private=!!J.private,this.all_day=!!J.all_day,this.date=1e3*this.event_start||this.date,this.date_end=1e3*this.event_end||this.date_end,this.duration=(0,b.o)(this.date_end,this.date),this.all_day&&(this.date=(0,E.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-1),this.date_end=(0,M.D)((0,v.z)(this.date,this.duration).valueOf()-1).getTime());const X=this.body.match(/\[ID\|([^\]]+)\]/),$=X?X[1]:null;this.timezone=J.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.meeting_url=J.meeting_url||J.online_meeting_url||"",this.meeting_id=$||J.meeting_id||J.online_meeting_id||"",this.meeting_provider=J.meeting_provider||J.online_meeting_provider||"",this.recurring=!!J.recurring,this.recurring_event_id=J.recurring_event_id||"",this.organiser=this.attendees.find(le=>le.email===this.host),this.from_bookings=J.from_bookings??!1,this.master=J.master?new Z(J.master):null,this.mailbox=J.mailbox||"",this.ical_uid=J.ical_uid,this.linked_bookings=J.linked_bookings||[],this.update_master=J.update_master??!1,this.recurrence=J.recurring?{start:1e3*this.event_start||new Date(1e3*J.recurrence.range_start).valueOf(),end:J.recurrence.end||new Date(1e3*J.recurrence.range_end).valueOf(),interval:J.recurrence.interval,pattern:J.recurrence.pattern,occurrences:J.recurrence.occurrences,days_of_week:J.recurrence.days_of_week?.map(le=>"number"==typeof le?le:c.indexOf(le))||[]}:{};const te=J.system;te?.email&&!this.resources.find(le=>le.email===te.email)&&this.resources.push(new D.$(te)),this.system=te||this.resources[0]||null,!te&&J.system_id&&(this.system={id:J.system_id}),this.old_system=J.old_system||J.system,this.is_system_event=this.body.includes("main_event_id"),this.attachments=J.attachments||[],this.extension_data=J.extension_data||{},this.status=(0,V.NU)({...J,...this})||"none",this.location=J.location||this.space?.display_name||this.space?.name||"",this.setup_time=J.setup_time||0,this.breakdown_time=J.breakdown_time||0,this.type="declined"===this.status?"cancelled":this.attendees.find(le=>le.is_external)?"external":"internal";for(const le in J)le in this||(this.extension_data[le]=J[le]||this.extension_data[le]);const G={date:this.date,duration:this.duration,date_end:this.date_end,all_day:this.all_day,space:this.space,organiser:this.organiser};this.extension_data.catering=(this.extension_data.catering||[]).map(le=>new w.M({...le,event:G}));const oe=this.linked_bookings.filter(le=>"asset-request"===le.booking_type).map(le=>le.extension_data?.request).filter(le=>!!le),ce=(oe.length?oe:this.extension_data.assets)||[];this.extension_data.images=this.extension_data.images||J.images||[],this.extension_data.assets=ce.map(le=>new K.Y({...le,event:G}))}get guests(){return this.attendees.filter(J=>!!J.is_external)}get space(){return this.resources[0]||null}get is_today(){return(0,S.r)(this.date,Date.now())}get valid_catering(){return(this.ext("catering")||[]).filter(J=>J.deliver_at<this.date_end)}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const J=this.linked_bookings;return this._valid_asset_cache=(this.ext("assets")||[]).map(z=>new K.Y({...z,event:this})).filter(z=>z.deliver_at<this.date_end).map(z=>{const X=J.find($=>$.extension_data.request_id===z.id);return X&&(z.state=X.approved?"approved":X.rejected?"rejected":"pending"),z}),this._valid_cache_expiry=(0,v.z)(Date.now(),5).valueOf(),this._valid_asset_cache}toJSON(){const J={...this},z=this.all_day?(0,E.o)(this.date):this.date,X=this.all_day?(0,M.D)(this.date_end).valueOf()+1:this.date_end;J.event_start=(0,n._)(z),J.event_end=(0,n._)(X);const $=this.attendees;this.recurring=this.recurrence?.pattern&&"none"!==this.recurrence._pattern,this.recurring&&(J.recurrence=(0,V.Ov)({...this.recurrence,start:this.date}),delete J.recurrence.start,delete J.recurrence.end),J.recurrence=J.recurrence&&Object.keys(J.recurrence).length?J.recurrence:null,J.attendees=(0,t.Am)([...$,...this.resources.map(te=>({...te,resource:!0}))],"email"),this.all_day&&(J.setup_time=0,J.breakdown_time=0,J.extension_data.all_day_date=(0,u.GP)(z,"yyyy-MM-dd")),J.extension_data.catering=J.extension_data.catering.map(te=>new w.M({...te,event:null})),J.extension_data.assets=J.extension_data.assets.map(te=>new K.Y({...te,event:null})),J.system_id=this.system?.id;for(const te of["catering","date","date_end","duration","status","linked_bookings","_valid_asset_cache","_valid_cache_expiry","type"])te in J&&delete J[te];return J.update_master||delete J.recurring_event_id,(0,t.Xm)(J),J}get state(){const J=new Date,z=this.date;return(0,I.Y)(J,(0,k.W)(z,{minutes:-15}))?"future":(0,I.Y)(J,z)?"upcoming":(0,I.Y)(J,(0,k.W)(z,{minutes:15}))?"started":(0,I.Y)(J,(0,k.W)(z,{minutes:this.duration}))?"in_progress":"done"}get can_check_in(){const J=new Date;return this.is_today||(0,T.d)(J,(0,v.z)(this.date,-5))&&(0,I.Y)(J,(0,v.z)(this.date,this.duration))}}},1416:(jt,Se,l)=>{"use strict";l.d(Se,{A5:()=>te,Az:()=>ne,Fk:()=>$,Nn:()=>U,OA:()=>z,S:()=>X,UR:()=>ce,UU:()=>w,ue:()=>f,zZ:()=>G});var t=l(1038),n=l(4421),p=l(9714),v=l(5006),b=l(3921),E=l(8385),M=l(3693),S=l(6727),u=l(7926),I=l(5987),k=l(6576);const T="/api/staff/v1/events";function w(le){const ve=(0,E.z)(le);return(0,t.JtY)(`${T}${ve?"?"+ve:""}`).pipe((0,v.T)(Q=>Q.map(R=>new S.L(R))),(0,b.W)(Q=>(0,n.of)([])))}function f(le,ve={}){const Q=(0,E.z)(ve);return(0,t.JtY)(`${T}/${encodeURIComponent(le)}${Q?"?"+Q:""}`).pipe((0,v.T)(R=>new S.L(R)))}const ne=(le,ve)=>{const Q=le.update_master&&le.recurring_event_id||le.id;return delete le?.status,Q?function K(le,ve,Q={},R="patch"){const L=(0,E.z)(Q);return("patch"===R?t.F6F:t.yJg)(`${T}/${encodeURIComponent(le)}${L?"?"+L:""}`,new S.L(ve).toJSON()).pipe((0,v.T)(H=>new S.L(H)))}(Q,{...le,id:Q},ve):function V(le){return(0,t.bEY)(`${T}`,new S.L(le).toJSON()).pipe((0,v.T)(ve=>new S.L(ve)))}(le)};function U(le,ve={}){const Q=(0,E.z)(ve);return(0,t.yHY)(`${T}/${encodeURIComponent(le)}${Q?"?"+Q:""}`,{response_type:"void"})}function z(le,ve,Q,R={}){const L=(0,E.z)({...R,state:Q});return(0,t.bEY)(`${T}/${encodeURIComponent(le)}/guests/${ve}/checkin${L?"?"+L:""}`,"").pipe((0,v.T)(H=>new M.So(H)))}function X(le,ve,Q={}){const R=(0,E.z)(Q);return(0,t.bEY)(`${T}/${encodeURIComponent(le)}/attendee${R?"?"+R:""}`,ve).pipe((0,v.T)(L=>new M.So(L)))}function $(le,ve,Q={}){const R=(0,E.z)(Q);return(0,t.yHY)(`${T}/${encodeURIComponent(le)}/attendee/${encodeURIComponent(ve.email)}${R?"?"+R:""}`).pipe((0,v.T)(L=>new M.So(L)))}function te(le,ve,Q={}){const R=(0,E.z)({...Q});return(0,t.JtY)(`${T}/${encodeURIComponent(le)}/metadata/${encodeURIComponent(ve)}${R?"?"+R:""}`).pipe((0,v.T)(L=>L))}function G(le,ve,Q,R={}){const L=(0,E.z)({...R});return(0,t.F6F)(`${T}/${encodeURIComponent(le)}/metadata/${encodeURIComponent(ve)}${L?"?"+L:""}`,Q).pipe((0,v.T)(H=>H))}function ce(le,ve,Q,R,L,H=[0,0]){const fe=(0,u.z)(ve,Q).valueOf();return(0,p.zV)([(0,k.Sh)({system_ids:le.join(),period_start:(0,I._)(ve),period_end:(0,I._)(fe)}).pipe((0,b.W)(Ie=>(0,n.of)([]))),R&&le.includes(R)?(0,k.Yj)({period_start:(0,I._)(ve),period_end:(0,I._)(fe),system_ids:R}):(0,n.of)([])]).pipe((0,v.T)(([Ie,Xe])=>{const bt=le.map(rt=>!!Ie.find(yt=>yt.id===rt||yt.resource?.id===rt));for(const rt of Xe){if(!le.includes(rt.id))continue;const yt=rt.availability.filter(ot=>!(ot.date===H[0]&&ot.duration===H[1]));bt[le.indexOf(rt.id)]=!yt.find(ot=>"free"!==ot.status)}return bt}))}},7758:(jt,Se,l)=>{"use strict";l.d(Se,{j:()=>It});var t=l(467),n=l(177),p=l(9417),v=l(8834),b=l(6600),E=l(5084),M=l(4006),S=l(3719),u=l(9631),I=l(9183),k=l(5951),T=l(2169),w=l(7327),D=l(827),f=l(3953);function V(Ae,we){if(1&Ae){const _e=f.RV6();f.j41(0,"button",8),f.bIt("click",function(){f.eBV(_e);const Te=f.XpG();return f.Njj(Te.close.emit())}),f.j41(1,"app-icon"),f.EFF(2,"arrow_back"),f.k0s()()}}function K(Ae,we){1&Ae&&f.nrm(0,"div",9)}function ne(Ae,we){1&Ae&&(f.j41(0,"div",18),f.EFF(1," Host "),f.k0s())}function U(Ae,we){if(1&Ae&&(f.j41(0,"div",11),f.nrm(1,"a-user-avatar",12),f.j41(2,"div",13)(3,"div",14),f.EFF(4),f.k0s(),f.DNE(5,ne,2,0,"div",15),f.k0s(),f.j41(6,"div",16),f.nrm(7,"div",17),f.k0s()()),2&Ae){const _e=f.XpG().$implicit,de=f.XpG();f.R7$(),f.Y8G("user",_e),f.R7$(3),f.JRh(_e.name),f.R7$(),f.Y8G("ngIf",de.host===_e.email),f.R7$(2),f.AVh("bg-success",_e.checked_in)("bg-pending",!_e.checked_in),f.Y8G("matTooltip",_e.checked_in?"Checked in":"Not checked in")}}function c(Ae,we){if(1&Ae&&(f.qex(0),f.DNE(1,U,8,8,"div",10),f.bVm()),2&Ae){const _e=we.$implicit,de=f.XpG();f.R7$(),f.Y8G("ngIf",!_e.resource&&(de.host!==_e.email||de.show_host))}}let Z=(()=>{class Ae{constructor(){this.host="",this.show_host=!0,this.list=[],this.hide_close=!1,this.custom_title="",this.close=new f.bkB}static#e=this.\u0275fac=function(de){return new(de||Ae)};static#t=this.\u0275cmp=f.VBU({type:Ae,selectors:[["attendee-list"]],inputs:{host:"host",show_host:"show_host",list:"list",hide_close:"hide_close",custom_title:"custom_title"},outputs:{close:"close"},decls:8,vars:5,consts:()=>{let _e;return _e=$localize`:c68a77fe1aa97a8e5588bafc6b5cb8ced3e3d2885922903057904788374: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[_e,[1,"w-full","h-full","overflow-hidden","flex","flex-col","bg-base-100"],[1,"flex","items-center","border-b","border-base-200","p-2","min-h-12"],["close","","icon","","matRipple","",3,"click",4,"ngIf"],[1,"flex-1","text-center","font-medium"],["class","w-12",4,"ngIf"],[1,"flex-1","w-full","overflow-auto"],[4,"ngFor","ngForOf"],["close","","icon","","matRipple","",3,"click"],[1,"w-12"],["attendee","","class","flex items-center p-2 space-x-2 hover:bg-base-200",4,"ngIf"],["attendee","",1,"flex","items-center","p-2","space-x-2","hover:bg-base-200"],[3,"user"],[1,"flex-1","w-1/2"],[1,"truncate"],["class","opacity-60 text-sm",4,"ngIf"],[1,"p-2"],[1,"h-3","w-3","rounded-full",3,"matTooltip"],[1,"opacity-60","text-sm"]]},template:function(de,Te){1&de&&(f.j41(0,"div",1)(1,"div",2),f.DNE(2,V,3,0,"button",3),f.j41(3,"div",4),f.pXf(4,0),f.k0s(),f.DNE(5,K,1,0,"div",5),f.k0s(),f.j41(6,"div",6),f.DNE(7,c,2,1,"ng-container",7),f.k0s()()),2&de&&(f.R7$(2),f.Y8G("ngIf",!Te.hide_close),f.R7$(2),f.uP7(Te.list.length)(Te.custom_title?Te.custom_title:1===Te.list.length?"Attendee":"Attendees"),f.nnv(4),f.R7$(),f.Y8G("ngIf",!Te.hide_close),f.R7$(2),f.Y8G("ngForOf",Te.list))}})}return Ae})();var F=l(1765),J=l(4035),X=(l(2671),l(711)),$=l(7535),te=l(5713),G=l(6727),oe=l(6202),ce=l(4046),le=l(9434),ve=l(1193),Q=l(4918),R=l(5277),L=l(907),H=l(3938),fe=l(9115),Ie=l(4823),Xe=l(4616),bt=l(3476),rt=l(3208),yt=l(2011);let It=(()=>{class Ae{ngOnInit(){return(0,t.A)(function*(){yield oe.U5.pipe((0,ce.$)(_e=>!!_e)).toPromise(),(0,G.i)((0,oe.Ny)())})()}static#e=this.\u0275fac=function(de){return new(de||Ae)};static#t=this.\u0275mod=f.$C({type:Ae});static#n=this.\u0275inj=f.G2t({providers:[p.X1],imports:[n.MD,p.YN,p.X1,k.Wk,u.fS,S.RG,E.X6,v.Hl,M.hM,I.D6,T.c,w.h,b.pZ,D.l]})}return Ae})();f.wjB(J.b,[n.Sq,n.bT,M.tx,le.R,ve.a,Q.S,R.H,L.F,H.J,fe.kk,fe.fb,fe.Cp,b.r6,Ie.oV,Z],[n.oe,n.vh,Xe.a]),f.wjB(Z,[n.Sq,n.bT,le.R,ve.a,b.r6,Ie.oV],[]),f.wjB(F.w,[n.Sq,n.bT,le.R,ve.a,L.F],[n.P9,n.vh]),f.wjB(X.N,[n.bT,p.BC,p.cb,p.j4,p.JD,M.tx,I.LG,bt.y,le.R,b.r6],[]),f.wjB(te.E,[n.bT,M.tx,le.R,Q.S,rt.U,fe.kk,fe.fb,fe.Cp,b.r6,Z],[n.Jj,n.vh,Xe.a,yt.J]),f.wjB($.T,[n.bT,le.R,rt.U,b.r6],[n.vh])},7535:(jt,Se,l)=>{"use strict";l.d(Se,{T:()=>Z});var t=l(467),n=l(7375),p=l(5713),v=l(2011),b=l(8026),M=(l(6727),l(3953)),S=l(4006);function u(F,J){if(1&F&&M.nrm(0,"img",15),2&F){const z=M.XpG(2);M.Y8G("source",z.event.images[0])}}function I(F,J){1&F&&(M.j41(0,"p",16),M.EFF(1," No description "),M.k0s())}function k(F,J){if(1&F&&(M.j41(0,"div"),M.EFF(1),M.k0s()),2&F){const z=M.XpG(2);M.R7$(),M.SpI(" ",z.space.display_name||z.space.name||""," ")}}function T(F,J){1&F&&(M.j41(0,"div",16),M.EFF(1," Room to be confirmed "),M.k0s())}function w(F,J){1&F&&(M.j41(0,"div",16),M.EFF(1," Remote event "),M.k0s())}function D(F,J){if(1&F){const z=M.RV6();M.j41(0,"button",2),M.bIt("click",function(){M.eBV(z);const $=M.XpG();return M.Njj($.viewDetails())}),M.j41(1,"div",3),M.DNE(2,u,1,1,"img",4),M.k0s(),M.j41(3,"div",5)(4,"div",6),M.EFF(5),M.nI1(6,"date"),M.nI1(7,"date"),M.k0s(),M.j41(8,"h2",7),M.EFF(9),M.k0s(),M.j41(10,"div",8)(11,"p",9),M.EFF(12),M.k0s(),M.DNE(13,I,2,0,"p",10),M.k0s(),M.j41(14,"div",11)(15,"app-icon",12),M.EFF(16,"place"),M.k0s(),M.DNE(17,k,2,1,"div",13)(18,T,2,0,"div",10)(19,w,2,0,"div",10),M.k0s(),M.j41(20,"div",11)(21,"app-icon",12),M.EFF(22,"people"),M.k0s(),M.j41(23,"div",14),M.EFF(24),M.k0s()()()()}if(2&F){const z=M.XpG();M.R7$(2),M.Y8G("ngIf",null==z.event.images?null:z.event.images.length),M.R7$(3),M.Lme(" ",M.i5U(6,11,z.event.date,"EEE d MMM"),", ",M.i5U(7,14,z.event.date,z.time_format)," "),M.R7$(3),M.Y8G("title",z.event.title),M.R7$(),M.SpI(" ",z.event.title," "),M.R7$(3),M.JRh(z.raw_description),M.R7$(),M.Y8G("ngIf",!z.raw_description.trim()),M.R7$(4),M.Y8G("ngIf",z.is_onsite&&z.has_space),M.R7$(),M.Y8G("ngIf",z.is_onsite&&!z.has_space),M.R7$(),M.Y8G("ngIf",!z.is_onsite),M.R7$(5),M.SpI(" ",(null==z.event.attendees?null:z.event.attendees.length)||"0"," attending ")}}function f(F,J){if(1&F&&M.nrm(0,"img",15),2&F){const z=M.XpG(2);M.Y8G("source",z.event.images[0])}}function V(F,J){1&F&&(M.j41(0,"p",16),M.EFF(1," No description "),M.k0s())}function K(F,J){if(1&F&&(M.j41(0,"div"),M.EFF(1),M.k0s()),2&F){const z=M.XpG(2);M.R7$(),M.SpI(" ",z.space.display_name||z.space.name||""," ")}}function ne(F,J){1&F&&(M.j41(0,"div",16),M.EFF(1," Room to be confirmed "),M.k0s())}function U(F,J){1&F&&(M.j41(0,"div",16),M.EFF(1," Remote event "),M.k0s())}function c(F,J){if(1&F){const z=M.RV6();M.j41(0,"button",17),M.bIt("click",function(){M.eBV(z);const $=M.XpG();return M.Njj($.viewDetails())}),M.j41(1,"div",18),M.DNE(2,f,1,1,"img",4),M.k0s(),M.j41(3,"div",19)(4,"app-icon",20),M.EFF(5,"star"),M.k0s(),M.j41(6,"div",21),M.EFF(7,"Featured"),M.k0s()(),M.j41(8,"div",22)(9,"div",23)(10,"div",24),M.EFF(11),M.nI1(12,"date"),M.k0s(),M.j41(13,"div",25),M.EFF(14),M.nI1(15,"date"),M.k0s()(),M.j41(16,"div",26)(17,"h3",27),M.EFF(18),M.k0s(),M.j41(19,"div",28),M.EFF(20),M.nI1(21,"date"),M.nI1(22,"date"),M.nI1(23,"date"),M.k0s(),M.j41(24,"div",29)(25,"p",30),M.EFF(26),M.k0s(),M.DNE(27,V,2,0,"p",10),M.k0s(),M.j41(28,"div",11)(29,"app-icon",12),M.EFF(30,"place"),M.k0s(),M.DNE(31,K,2,1,"div",13)(32,ne,2,0,"div",10)(33,U,2,0,"div",10),M.k0s(),M.j41(34,"div",11)(35,"app-icon",12),M.EFF(36,"people"),M.k0s(),M.j41(37,"div",14),M.EFF(38),M.k0s()()()(),M.j41(39,"div",31),M.EFF(40," View Details "),M.k0s()()}if(2&F){const z=M.XpG();M.R7$(2),M.Y8G("ngIf",null==z.event.images?null:z.event.images.length),M.R7$(9),M.SpI(" ",M.i5U(12,13,z.event.date,"MMM")," "),M.R7$(3),M.JRh(M.i5U(15,16,z.event.date,"d")),M.R7$(4),M.JRh(z.event.title),M.R7$(2),M.E5c(" ",M.i5U(21,19,z.event.date,"EEEE")," ",M.i5U(22,22,z.event.date,z.time_format)," - ",M.i5U(23,25,z.event.date+60*z.event.duration*1e3,z.time_format)," "),M.R7$(6),M.JRh(z.raw_description),M.R7$(),M.Y8G("ngIf",!z.raw_description.trim()),M.R7$(4),M.Y8G("ngIf",z.is_onsite&&z.has_space),M.R7$(),M.Y8G("ngIf",z.is_onsite&&!z.has_space),M.R7$(),M.Y8G("ngIf",!z.is_onsite),M.R7$(5),M.SpI(" ",(null==z.event.attendees?null:z.event.attendees.length)||"0"," attending ")}}let Z=(()=>{class F{get time_format(){return this._settings.time_format}get is_onsite(){return"ONLINE"!==this.event?.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event?.extension_data.attendance_type}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(z,X,$){this._settings=z,this._dialog=X,this._org=$,this.raw_description=""}ngOnInit(){var z=this;return(0,t.A)(function*(){const X=new v.J(z._org),$=z.event.resources.find(te=>te.email!==z.group_event_calendar);z.space=yield X.transform($?.id||$?.email),z.raw_description=z.removeHtmlTags(z.event.body)})()}removeHtmlTags(z){return(new DOMParser).parseFromString(z,"text/html").body.textContent||""}viewDetails(){this._dialog.open(p.E,{data:{event:this.event,concierge:!1}})}static#e=this.\u0275fac=function(X){return new(X||F)(M.rXU(n.h$),M.rXU(S.bZ),M.rXU(b.y))};static#t=this.\u0275cmp=M.VBU({type:F,selectors:[["group-event-card"]],inputs:{event:"event",featured:"featured"},decls:3,vars:2,consts:[["featured_card",""],["matRipple","","class","border border-base-300 hover:border-info flex flex-col bg-base-100 rounded-xl shadow hover:shadow-2xl overflow-hidden w-60 h-[20rem]",3,"click",4,"ngIf","ngIfElse"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","flex-col","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-60","h-[20rem]",3,"click"],[1,"relative","flex","items-center","justify-between","h-28","min-h-28","w-full","bg-base-200","overflow-hidden","border-b","border-base-200"],["auth","","class","absolute top-0 left-0 h-full w-full object-center object-cover",3,"source",4,"ngIf"],[1,"p-4","flex-1","h-1/2","w-full"],[1,"opacity-60","text-sm","text-left"],[1,"text-xl","mb-2","text-left","truncate","w-full",3,"title"],[1,"opacity-60","text-xs","flex-1","overflow-hidden","h-[4.5rem]","mb-2","text-left"],[1,"line-clamp-4"],["class","opacity-30",4,"ngIf"],[1,"flex","items-center","space-x-2","text-sm"],[1,"text-info"],[4,"ngIf"],[1,""],["auth","",1,"absolute","top-0","left-0","h-full","w-full","object-center","object-cover",3,"source"],[1,"opacity-30"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-[63rem]","max-w-full","h-56","mx-auto",3,"click"],[1,"relative","flex","items-center","justify-between","h-full","min-w-56","w-1/2","max-w-[20rem]","bg-base-200","overflow-hidden","border-r","border-base-200"],[1,"absolute","top-0","left-0","rounded-br-xl","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["details","",1,"flex","px-8","py-4","space-x-4"],[1,"flex","flex-col","items-center"],[1,"text-sm","opacity-30"],[1,"text-lg"],[1,"flex","flex-col","space-y-2"],[1,"text-left"],["time","",1,"text-sm","opacity-30","text-left"],[1,"h-20","overflow-hidden","text-left"],[1,"line-clamp-3"],[1,"absolute","top-4","right-4","bg-secondary","text-secondary-content","rounded","px-4","py-2","w-32","text-center","truncate"]],template:function(X,$){if(1&X&&M.DNE(0,D,25,17,"button",1)(1,c,41,28,"ng-template",null,0,M.C5r),2&X){const te=M.sdS(2);M.Y8G("ngIf",!$.featured)("ngIfElse",te)}},styles:["button[_ngcontent-%COMP%]{transition:box-shadow .3s,border .2s}"]})}return F})()},5713:(jt,Se,l)=>{"use strict";l.d(Se,{E:()=>z});var t=l(467),n=l(3953),p=l(4006),v=l(7375),b=l(8030),E=l(2185),M=l(2011),S=l(1416);function u(X,$){if(1&X&&n.nrm(0,"img",36),2&X){const te=n.XpG();n.Y8G("source",null==te.event.extension_data?null:te.event.extension_data.images[0])}}function I(X,$){1&X&&(n.j41(0,"div",37)(1,"app-icon",38),n.EFF(2,"star"),n.k0s(),n.j41(3,"div",39),n.EFF(4,"Featured"),n.k0s()())}function k(X,$){if(1&X&&(n.qex(0),n.j41(1,"div",40)(2,"app-icon"),n.EFF(3,"star"),n.k0s(),n.j41(4,"div",41),n.EFF(5),n.k0s()(),n.j41(6,"div",40)(7,"app-icon"),n.EFF(8,"help"),n.k0s(),n.j41(9,"div",41),n.EFF(10),n.k0s()(),n.bVm()),2&X){const te=n.XpG();n.R7$(),n.AVh("bg-base-200",!te.is_interested)("text-base-content",!te.is_interested)("opacity-30",!te.is_interested)("bg-success",te.is_interested)("text-success-content",te.is_interested)("opacity-100",te.is_interested),n.R7$(4),n.SpI(" ",te.is_interested?"":"Not ","Interested "),n.R7$(),n.AVh("bg-base-200",!te.is_going)("text-base-content",!te.is_going)("opacity-30",!te.is_going)("bg-success",te.is_going)("text-success-content",te.is_going)("opacity-100",te.is_going),n.R7$(4),n.SpI(" ",te.is_going?"":"Not ","Going ")}}function T(X,$){if(1&X&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&X){let te;const G=n.XpG();n.R7$(),n.SpI(" ",null==(te=n.bMT(3,3,n.bMT(2,1,G.system_id)))?null:te.display_name," ")}}function w(X,$){1&X&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function D(X,$){if(1&X&&(n.j41(0,"div",42),n.EFF(1),n.k0s()),2&X){const te=n.XpG();n.R7$(),n.SpI(" ",te.is_onsite?"Can be attended online":"Remote Event"," ")}}function f(X,$){1&X&&(n.j41(0,"span",42),n.EFF(1," No description "),n.k0s())}function V(X,$){if(1&X&&n.nrm(0,"interactive-map",50),2&X){const te=n.XpG(2);n.Y8G("src",null==te.level?null:te.level.map_id)("features",te.features)("styles",te.styles)}}function K(X,$){if(1&X&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&X){let te;const G=n.XpG(2);n.R7$(),n.SpI(" ",null==(te=n.bMT(3,3,n.bMT(2,1,G.system_id)))?null:te.display_name," ")}}function ne(X,$){1&X&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function U(X,$){if(1&X&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&X){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.building.display_name||te.building.name,", ",(null==te.level?null:te.level.display_name)||(null==te.level?null:te.level.name)," ")}}function c(X,$){1&X&&(n.j41(0,"span",42),n.EFF(1," No location set for this event "),n.k0s())}function Z(X,$){if(1&X&&(n.j41(0,"a",51),n.EFF(1),n.k0s()),2&X){const te=n.XpG(2);n.AVh("underline",te.event.meeting_url),n.Y8G("href",te.event.meeting_url,n.B4B),n.R7$(),n.SpI(" ",te.is_onsite?"Can be attended online":"Remote Event"," ")}}function F(X,$){if(1&X){const te=n.RV6();n.j41(0,"div",43)(1,"div",44)(2,"button",45),n.bIt("click",function(){n.eBV(te);const oe=n.XpG();return n.Njj(oe.viewLocation())}),n.DNE(3,V,1,3,"interactive-map",46),n.k0s(),n.j41(4,"div",47),n.DNE(5,K,4,5,"div",12)(6,ne,2,0,"div",30),n.j41(7,"div",48),n.DNE(8,U,2,2,"span",12)(9,c,2,0,"span",30),n.k0s(),n.DNE(10,Z,2,4,"a",49),n.k0s()()()}if(2&X){const te=n.XpG();n.R7$(3),n.Y8G("ngIf",!te.showing_map),n.R7$(2),n.Y8G("ngIf",te.is_onsite&&te.has_space),n.R7$(),n.Y8G("ngIf",te.is_onsite&&!te.has_space),n.R7$(2),n.Y8G("ngIf",te.building&&te.level),n.R7$(),n.Y8G("ngIf",!te.building||!te.level),n.R7$(),n.Y8G("ngIf",te.is_online)}}function J(X,$){if(1&X){const te=n.RV6();n.j41(0,"div",52)(1,"button",53),n.bIt("click",function(){n.eBV(te);const oe=n.XpG();return n.Njj(oe.show_attendees=!1)}),n.k0s(),n.j41(2,"div",54)(3,"attendee-list",55),n.bIt("click",function(){n.eBV(te);const oe=n.XpG();return n.Njj(oe.show_attendees=!1)}),n.k0s()()()}if(2&X){const te=n.XpG();n.R7$(3),n.Y8G("show_host",!1)("list",te.event.attendees)("host",te.event.user_email)}}let z=(()=>{class X{get time_format(){return this._settings.time_format}get featured(){return this.event.featured||this.event.extension_data?.featured}get is_onsite(){return"ONLINE"!==this.event.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event.extension_data.attendance_type}get body(){if(this.is_online)return this.event.body;let te=this.event.body;const G=['<div style="margin-bottom:24px; overflow:hidden; white-space:nowrap">________________________________________________________________________________</div>',"<p>________________________________________________________________________________</p>"];for(const oe of G){const ce=te.indexOf(oe),le=te.lastIndexOf(oe);te=te.substring(0,ce)+te.substring(le)}for(const oe of G)te=te.replace(oe,"");return te}get attendance(){return this.event.attendees?.filter(te=>te.checked_in)?.length||0}get is_interested(){return!!this.guest_details}get is_going(){return this.guest_details?.checked_in}get system_id(){return this.space?.id}get guest_details(){const te=(0,v.Ny)();return this.event.attendees?.find(G=>G.email===te.email)}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(te,G,oe,ce,le){this._data=te,this._org=G,this._settings=oe,this._dialog=ce,this._dialog_ref=le,this.edit=new n.bkB,this.remove=new n.bkB,this.event=this._data.event,this.concierge=this._data.concierge,this.features=[],this.locate="",this.showing_map=!1,this.show_attendees=!1,this.styles={},this.raw_description=""}ngOnInit(){var te=this;return(0,t.A)(function*(){const G=new M.J(te._org),oe=te.event.resources.find(Q=>Q.email!==te.group_event_calendar);te.space=yield G.transform(oe?.id||oe?.email);const ce=te.event.extension_data?.map_id,le=te.space?.map_id||ce;le&&(te.styles[`#${le}`]={fill:"green"},te.features=[{location:le,content:b.VT,data:{}}]);const ve=te.space?.zones||[];te.level=te._org.levelWithID(ve),te.building=te._org.buildings.find(Q=>ve.includes(Q.id))||te._org.building,te.locate=ce||"",te.raw_description=te.removeHtmlTags(te.event.body)})()}removeHtmlTags(te){return((new DOMParser).parseFromString(te,"text/html").body.textContent||"").trim()}viewLocation(){if(!this.space?.map_id)return(0,v.uA)("Unable to locate space on map.");this.showing_map=!0,this._dialog.open(b.VJ,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.showing_map=!1})}toggleInterest(){var te=this;return(0,t.A)(function*(){let G=te.guest_details;te.is_interested&&G?(yield(0,S.Fk)(te.event.id,(0,v.Ny)(),{system_id:te.event.system?.id}).toPromise(),te.event.attendees=(te.event.attendees||[]).filter(oe=>oe.email!==G.email)):(G=yield(0,S.S)(te.event.id,(0,v.Ny)(),{system_id:te.event.system?.id}).toPromise(),te.event.attendees=(0,v.Am)([...te.event.attendees||[],G],"email"))})()}toggleAttendance(){var te=this;return(0,t.A)(function*(){let G=te.guest_details;if(G||(G=yield(0,S.S)(te.event.id,(0,v.Ny)(),{system_id:te.event.system?.id}).toPromise(),te.event.attendees=(0,v.Am)([...te.event.attendees||[],G],"email")),G={...(0,v.Ny)(),...G||{}},!G.email)return;yield(0,S.OA)(te.event.id,G.email,!te.is_going,{system_id:te.event.system?.id}).toPromise();const oe=te.event.attendees.find(ce=>ce.email===G.email);oe&&(oe.checked_in=!te.is_going)})()}static#e=this.\u0275fac=function(G){return new(G||X)(n.rXU(p.Vh),n.rXU(E.yb),n.rXU(v.h$),n.rXU(p.bZ),n.rXU(p.CP))};static#t=this.\u0275cmp=n.VBU({type:X,selectors:[["group-event-details-modal"]],outputs:{edit:"edit",remove:"remove"},decls:101,vars:38,consts:[["concierge_menu","matMenu"],["menu","matMenu"],[1,"relative","w-[48rem]","max-w-[calc(100vw-1rem)]","max-h-[80vh]","overflow-hidden"],[1,"relative","flex","items-center","justify-between","h-52","w-full","bg-base-200","overflow-hidden"],["auth","","class","absolute top-1/2 left-1/2 min-h-full min-w-full object-cover -translate-x-1/2 -translate-y-1/2",3,"source",4,"ngIf"],["class","absolute top-0 left-0 rounded-br py-2 pl-2 pr-4 space-x-2 bg-info text-info-content flex items-center text-sm",4,"ngIf"],["icon","","mat-dialog-close","",1,"absolute","top-1","right-1","overflow-hidden"],[1,"absolute","inset-0","bg-base-100","opacity-30","z-0"],[1,"z-10"],[1,"flex","items-center","justify-between","py-4","px-8","border-b","border-base-200"],[1,"text-left","text-xl"],[1,"flex","items-center","space-x-2"],[4,"ngIf"],["btn","","matRipple","",1,"clear","bg-base-200","text-base-content","w-[2.75rem]",3,"disabled","matMenuTriggerFor"],[1,"text-2xl"],["mat-menu-item","",3,"disabled"],[1,"mr-2"],["mat-menu-item","","mat-dialog-close","",3,"click"],["mat-menu-item","",3,"click"],[1,"text-2xl","text-error"],["mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"flex","flex-1","max-h-[calc(80vh-18rem)]","overflow-y-auto","overflow-x-hidden","p-8","space-x-6"],[1,"flex","flex-1","flex-col","space-y-2","w-1/3"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","justify-center","w-10","h-10","bg-base-200","rounded-full"],[1,"font-medium","pt-4"],[1,"flex","flex-col"],[1,"text-sm"],[1,"text-sm","opacity-30"],[1,"flex","flex-col","text-sm"],["class","opacity-30",4,"ngIf"],["matRipple","",1,"flex","items-center","space-x-4","rounded","min-h-12",3,"click"],[1,"text-sm","pb-4"],["event-details","",3,"innerHTML"],["class","flex w-[20rem]",4,"ngIf"],["class","absolute inset-0 z-50",4,"ngIf"],["auth","",1,"absolute","top-1/2","left-1/2","min-h-full","min-w-full","object-cover","-translate-x-1/2","-translate-y-1/2",3,"source"],[1,"absolute","top-0","left-0","rounded-br","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["btn","",1,"flex","items-center","px-4","h-10","rounded","space-x-2"],[1,"pr-2"],[1,"opacity-30"],[1,"flex","w-[20rem]"],[1,"border","border-base-300","w-full"],["matRipple","",1,"relative","w-full","h-40","bg-base-200",3,"click"],[3,"src","features","styles",4,"ngIf"],[1,"p-4","space-y-2"],[1,"opacity-30","text-sm","!mt-0"],["class","opacity-30 mt-4","target","_blank","rel","noopener noreferrer",3,"underline","href",4,"ngIf"],[3,"src","features","styles"],["target","_blank","rel","noopener noreferrer",1,"opacity-30","mt-4",3,"href"],[1,"absolute","inset-0","z-50"],[1,"absolute","inset-0","bg-base-content","opacity-60",3,"click"],[1,"absolute","left-1/2","-translate-x-1/2","w-[24rem]","inset-y-8","rounded","shadow","overflow-hidden"],[3,"click","show_host","list","host"]],template:function(G,oe){if(1&G){const ce=n.RV6();n.j41(0,"div",2)(1,"div",3),n.DNE(2,u,1,1,"img",4),n.k0s(),n.DNE(3,I,5,0,"div",5),n.j41(4,"button",6),n.nrm(5,"div",7),n.j41(6,"app-icon",8),n.EFF(7,"close"),n.k0s()(),n.j41(8,"div",9)(9,"h3",10),n.EFF(10),n.k0s(),n.j41(11,"div",11),n.DNE(12,k,11,26,"ng-container",12),n.j41(13,"button",13)(14,"app-icon",14),n.EFF(15,"more_horiz"),n.k0s()(),n.j41(16,"mat-menu",null,0)(18,"button",15)(19,"div",11)(20,"app-icon",14),n.EFF(21," confirmation_number "),n.k0s(),n.j41(22,"div",16),n.EFF(23,"Promote Event"),n.k0s()()(),n.j41(24,"button",17),n.bIt("click",function(){return n.eBV(ce),n.Njj(oe.edit.emit())}),n.j41(25,"div",11)(26,"app-icon",14),n.EFF(27,"edit"),n.k0s(),n.j41(28,"div",16),n.EFF(29,"Edit Event"),n.k0s()()(),n.j41(30,"button",15)(31,"div",11)(32,"app-icon",14),n.EFF(33,"content_copy"),n.k0s(),n.j41(34,"div",16),n.EFF(35,"Copy URL"),n.k0s()()(),n.j41(36,"button",18),n.bIt("click",function(){return n.eBV(ce),n.Njj(oe.remove.emit())}),n.j41(37,"div",11)(38,"app-icon",19),n.EFF(39," delete "),n.k0s(),n.j41(40,"div",16),n.EFF(41,"Delete Event"),n.k0s()()()(),n.j41(42,"mat-menu",null,1)(44,"button",20),n.bIt("click",function(){return n.eBV(ce),n.Njj(oe.toggleInterest())}),n.j41(45,"div",11)(46,"app-icon"),n.EFF(47," star "),n.k0s(),n.j41(48,"span"),n.EFF(49),n.k0s()()(),n.j41(50,"button",18),n.bIt("click",function(){return n.eBV(ce),n.Njj(oe.toggleAttendance())}),n.j41(51,"div",11)(52,"app-icon"),n.EFF(53," help "),n.k0s(),n.j41(54,"span"),n.EFF(55),n.k0s()()()()()(),n.j41(56,"div",21)(57,"div",22)(58,"div",23)(59,"div",24)(60,"app-icon"),n.EFF(61,"person"),n.k0s()(),n.j41(62,"div"),n.EFF(63),n.k0s()(),n.j41(64,"h3",25),n.EFF(65,"When and where"),n.k0s(),n.j41(66,"div",23)(67,"div",24)(68,"app-icon"),n.EFF(69,"calendar_today"),n.k0s()(),n.j41(70,"div",26)(71,"div",27),n.EFF(72,"Date and Time"),n.k0s(),n.j41(73,"div",28),n.EFF(74),n.nI1(75,"date"),n.nI1(76,"date"),n.nI1(77,"date"),n.k0s()()(),n.j41(78,"div",23)(79,"div",24)(80,"app-icon"),n.EFF(81,"place"),n.k0s()(),n.j41(82,"div",29),n.DNE(83,T,4,5,"div",12)(84,w,2,0,"div",30)(85,D,2,1,"div",30),n.k0s()(),n.j41(86,"button",31),n.bIt("click",function(){return n.eBV(ce),n.Njj(oe.show_attendees=!0)}),n.j41(87,"div",24)(88,"app-icon"),n.EFF(89,"person"),n.k0s()(),n.j41(90,"div"),n.EFF(91),n.k0s()(),n.j41(92,"h3",25),n.EFF(93,"About this event"),n.k0s(),n.j41(94,"div",32),n.nrm(95,"span",33),n.nI1(96,"sanitize"),n.DNE(97,f,2,0,"span",30),n.k0s()(),n.j41(98,"div"),n.DNE(99,F,11,6,"div",34),n.k0s()()(),n.DNE(100,J,4,3,"div",35)}if(2&G){const ce=n.sdS(17),le=n.sdS(43);n.R7$(2),n.Y8G("ngIf",null==oe.event.extension_data||null==oe.event.extension_data.images?null:oe.event.extension_data.images.length),n.R7$(),n.Y8G("ngIf",oe.featured),n.R7$(7),n.SpI(" ",oe.event.title," "),n.R7$(2),n.Y8G("ngIf",!oe.concierge),n.R7$(),n.Y8G("disabled","done"===oe.event.state)("matMenuTriggerFor",oe.concierge?ce:le),n.R7$(5),n.Y8G("disabled",!0),n.R7$(12),n.Y8G("disabled",!0),n.R7$(16),n.AVh("text-error",oe.is_interested),n.R7$(3),n.SpI(" ",oe.is_interested?"Revoke":"Indicate"," Interest "),n.R7$(3),n.AVh("text-error",oe.is_going),n.R7$(3),n.SpI(" ",oe.is_going?"Revoke":"Indicate"," Going "),n.R7$(8),n.SpI(" Event by ",(null==oe.event.organiser?null:oe.event.organiser.name)||oe.event.host," "),n.R7$(11),n.E5c(" ",n.i5U(75,27,oe.event.date,"EEEE, d MMMM, yyyy")," . ",n.i5U(76,30,oe.event.date,oe.time_format)," - ",n.i5U(77,33,oe.event.date+60*oe.event.duration*1e3,oe.time_format)," "),n.R7$(9),n.Y8G("ngIf",oe.is_onsite&&oe.has_space),n.R7$(),n.Y8G("ngIf",oe.is_onsite&&!oe.has_space),n.R7$(),n.Y8G("ngIf",oe.is_online),n.R7$(6),n.Lme(" ",oe.attendance," going, ",null==oe.event.attendees?null:oe.event.attendees.length," interested "),n.R7$(4),n.Y8G("innerHTML",n.bMT(96,36,oe.body),n.npT),n.R7$(2),n.Y8G("ngIf",!oe.raw_description.trim()),n.R7$(2),n.Y8G("ngIf",oe.level),n.R7$(),n.Y8G("ngIf",oe.show_attendees)}}})}return X})()},1280:(jt,Se,l)=>{"use strict";l.d(Se,{NU:()=>K,qq:()=>U,Ov:()=>ne,U1:()=>Z});var t=l(906);function n(J,z){return(0,t.f)(J,7*z)}var v=l(5458),b=l(6299),E=l(5987),M=l(3601),S=l(4512),u=l(4903),I=l(7926),k=l(9824),T=l(2037),w=l(2357);function D(J,z){return+(0,w.c)(J)==+(0,w.c)(z)}const V=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function K(J){return"cancelled"===J.status?"declined":J.resources?.length?J.resources.every(z=>"accepted"===z.response_status||J.approved)?"approved":J.resources.some(z=>"tentative"===z.response_status||"needsAction"===z.response_status)?"tentative":"declined":"approved"}function ne(J){let z=J.start||1e3*J.range_start,X=J.end||J.range_end;if(J.occurrences>1)switch(J.pattern){case"daily":X=(0,t.f)(z||Date.now(),(J.occurrences-1)*J.interval).valueOf();break;case"weekly":X=n(z||Date.now(),(J.occurrences-1)*J.interval).valueOf();break;case"month_day":case"monthly":X=(0,v.P)(z||Date.now(),(J.occurrences-1)*J.interval).valueOf(),X=(0,t.f)(X,7).valueOf();break;case"yearly":X=(0,b.e)(z||Date.now(),(J.occurrences-1)*J.interval).valueOf()}return{range_start:(0,E._)((0,M.o)(z)),range_end:(0,E._)((0,S.D)(X)),interval:J.interval,pattern:J.pattern,days_of_week:J.days_of_week?.map($=>"number"==typeof $?V[$]:$)||[]}}function U({interval:J,pattern:z,start:X,end:$,occurrences:te}){let G="";if(J){switch(z){case"daily":G=G.concat(J>1?`Every ${J} days`:"Daily"),te>1&&($=(0,t.f)(X||Date.now(),(te-1)*J).valueOf());break;case"weekly":G=G.concat(J>1?`Every ${J} weeks`:"Weekly"),te>1&&($=n(X||Date.now(),(te-1)*J).valueOf());break;case"month_day":case"monthly":G=G.concat(J>1?`Every ${J} months`:"Monthly"),te>1&&($=(0,v.P)(X||Date.now(),(te-1)*J).valueOf());break;case"yearly":G=G.concat(J>1?`Every ${J} yeats`:"Yearly"),te>1&&($=(0,b.e)(X||Date.now(),(te-1)*J).valueOf())}te>=1&&(G=G.concat(`, until ${(0,u.GP)($,"MMM do, yyyy")}`))}return G}function Z(J,z,X,$=29){const te=function c(J,z=29){let X=new Date(0);const $=[];J.sort((G,oe)=>G.date-oe.date);for(const G of J){const oe=new Date((0,I.z)(G.date,-G.extension_data?.setup_time||0)),ce=(0,I.z)(G.date,G.duration+(G.extension_data?.breakdown_time||0));(0,k.d)(G.date,X)?(Math.abs((0,T.o)(oe,X))>=z&&$.push({start:X.valueOf(),end:G.date}),X=ce):D(X,G.date)&&(X=ce)}const te=X.valueOf();return $.push({start:te,end:10*(te||Date.now())}),$}(X,$);for(const G of te)if(J>=G.start&&J<G.end&&z>G.start&&z<=G.end)return!0;return!1}},711:(jt,Se,l)=>{"use strict";l.d(Se,{N:()=>w});var t=l(467),n=l(9417),p=l(4006),v=l(6727),b=l(1416),E=l(7375),M=l(3953);const S=()=>[5,10];function u(D,f){1&D&&(M.j41(0,"button",5)(1,"app-icon"),M.EFF(2,"close"),M.k0s()())}function I(D,f){if(1&D&&(M.j41(0,"main",6)(1,"div",7)(2,"label",8),M.EFF(3,"Setup Duration"),M.k0s(),M.nrm(4,"a-duration-field",9),M.k0s(),M.j41(5,"div",7)(6,"label",10),M.EFF(7,"Breakdown Duration"),M.k0s(),M.nrm(8,"a-duration-field",11),M.k0s()()),2&D){const V=M.XpG();M.Y8G("formGroup",V.form),M.R7$(4),M.Y8G("min",0)("custom_options",M.lJ4(5,S)),M.R7$(4),M.Y8G("min",0)("custom_options",M.lJ4(6,S))}}function k(D,f){if(1&D){const V=M.RV6();M.j41(0,"footer",12)(1,"button",13),M.bIt("click",function(){M.eBV(V);const ne=M.XpG();return M.Njj(ne.save())}),M.EFF(2,"Save Changes"),M.k0s()()}}function T(D,f){1&D&&(M.j41(0,"div",14),M.nrm(1,"mat-spinner",15),M.j41(2,"p",16),M.EFF(3," Saving setup and breakdown durations... "),M.k0s()()),2&D&&(M.R7$(),M.Y8G("diameter",32))}let w=(()=>{class D{constructor(V,K){this._event=V,this._dialog_ref=K,this.loading=!1,this.form=new n.gE({setup:new n.MJ(this._event.setup_time||0),breakdown:new n.MJ(this._event.breakdown_time||0)})}save(){var V=this;return(0,t.A)(function*(){V.loading=!0,V._dialog_ref.disableClose=!0;const U={system_id:V._event?.resources[0]?.id||V._event?.system?.id,ical_uid:V._event?.ical_uid};let c=yield(0,b.Az)(new v.L({...V._event,setup_time:V.form.value.setup,breakdown_time:V.form.value.breakdown}).toJSON(),U).toPromise().catch(Z=>null);if(c||(c=yield(0,b.zZ)(V._event.id,U.system_id,{...V._event.extension_data,setup_time:V.form.value.setup,breakdown_time:V.form.value.breakdown,setup:V.form.value.setup,breakdown:V.form.value.breakdown}).toPromise().catch(Z=>null)),!c)return V.loading=!1,V._dialog_ref.disableClose=!1,void(0,E.UG)("Error updating setup and breakdown.");(0,E.VX)("Succesfully updated setup and breakdown period."),V._dialog_ref.disableClose=!1,V.loading=!1,V._dialog_ref.close(c)})()}static#e=this.\u0275fac=function(K){return new(K||D)(M.rXU(p.Vh),M.rXU(p.CP))};static#t=this.\u0275cmp=M.VBU({type:D,selectors:[["setup-breakdown-modal"]],decls:8,vars:4,consts:[["load_state",""],[1,"space-x-4","min-h-16"],["btn","","icon","","mat-dialog-close","","matRipple","",4,"ngIf"],["class","p-4 min-w-[20rem] w-full",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4","min-w-[20rem]","w-full",3,"formGroup"],[1,"flex","flex-col","space-y-2"],["for","setup"],["name","setup","formControlName","setup",3,"min","custom_options"],["for","breakdown"],["name","breakdown","formControlName","breakdown",3,"min","custom_options"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","w-64"],[3,"diameter"],[1,"text-center","p-4"]],template:function(K,ne){if(1&K&&(M.j41(0,"header",1)(1,"h2"),M.EFF(2,"Set Event's Setup and Breakdown"),M.k0s(),M.DNE(3,u,3,0,"button",2),M.k0s(),M.DNE(4,I,9,7,"main",3)(5,k,3,0,"footer",4)(6,T,4,1,"ng-template",null,0,M.C5r)),2&K){const U=M.sdS(7);M.R7$(3),M.Y8G("ngIf",!ne.loading),M.R7$(),M.Y8G("ngIf",!ne.loading)("ngIfElse",U),M.R7$(),M.Y8G("ngIf",!ne.loading)}}})}return D})()},1761:(jt,Se,l)=>{"use strict";l.d(Se,{Ss:()=>K,Uv:()=>Z});var t=l(9417),n=l(9015),p=l(4273),E=l(5611),M=l(3601),S=l(9548),u=l(7926),I=l(2037),k=l(7375),T=l(6727),w=l(690),D=l(3693);(0,n.W)(function v(F,J){const z=(0,p.a)(F);return z.setMinutes(J),z}((0,E.a)(new Date,6),0),{days:-1});const V=F=>J=>F.value?.length&&!J.value?{catering_field:"Catering sub-fields are required"}:null;function K(F=new T.L,J){F||(F=new T.L);const z=new t.gE({id:new t.MJ(F.id),ical_uid:new t.MJ(F.ical_uid),host:new t.MJ(F.host||F.organiser?.email||(0,k.Ny)()?.email||"",[t.k0.required]),organiser:new t.MJ(F.organiser||new D.KJ({email:F.host||""})),creator:new t.MJ(F.creator||(0,k.Ny)()?.email),calendar:new t.MJ(F.calendar),attendees:new t.MJ(F.attendees||[]),resources:new t.MJ(F.resources||[]),title:new t.MJ(F.title),body:new t.MJ(F.body),private:new t.MJ(F.private),date:new t.MJ(F.date,[t.k0.required]),duration:new t.MJ(F.duration,[w.k]),all_day:new t.MJ(F.all_day),date_end:new t.MJ(F.date_end),recurring:new t.MJ(F.recurring),recurrence:new t.MJ(F.recurrence),recurring_event_id:new t.MJ(F.recurring_event_id),master:new t.MJ(F.master),attachments:new t.MJ(F.attachments),catering:new t.MJ(F.extension_data?.catering),catering_notes:new t.MJ(F.extension_data?.catering[0]?.notes||""),catering_charge_code:new t.MJ(F.extension_data?.catering[0]?.charge_code||""),setup_time:new t.MJ(F.setup_time||0),breakdown_time:new t.MJ(F.breakdown_time||0),assets:new t.MJ(F.extension_data?.assets),visitor_type:new t.MJ(F.extension_data?.visitor_type),location:new t.MJ(F.location),needs_space:new t.MJ(!0),needs_parking:new t.MJ(F.extension_data?.needs_parking||!1),event_type:new t.MJ(F.extension_data?.event_type||""),category:new t.MJ(F.extension_data?.category||""),tags:new t.MJ(F.extension_data?.tags||[]),update_master:new t.MJ(!1),system:new t.MJ(F.system),attendance_type:new t.MJ(F.extension_data?.attendance_type||"ONSITE"),timezone:new t.MJ(F.timezone||k.mx),shared_event:new t.MJ(F.extension_data?.shared_event||!1),view_access:new t.MJ(F.extension_data?.view_access||"PRIVATE"),images:new t.MJ(F.extension_data?.images||[]),featured:new t.MJ(F.extension_data?.featured||!1)});z.get("organiser").valueChanges.subscribe($=>z.controls.host.setValue($?.email)),z.get("resources").valueChanges.subscribe($=>{z.controls.system.setValue($?.length?$[0]:null),z.controls.assets[$?.length?"enable":"disable"]()});const X=()=>{!z.value.catering?.length||!z.getRawValue().date||z.patchValue({catering:z.value.catering.map($=>({...$,event:{date:z.value.all_day?(0,M.o)(z.getRawValue().date):z.getRawValue().date,duration:z.value.all_day?1440:z.value.duration}}))},{emitEvent:!1})};return z.valueChanges.subscribe($=>{z.getRawValue().date<Date.now()&&z.value.id?z.get("date")?.disable({emitEvent:!1}):z.get("date")?.enable({emitEvent:!1}),($.date||$.duration||$.all_day)&&X()}),z.controls.duration.valueChanges.subscribe($=>{z.patchValue({date_end:(0,S.X)((0,u.z)(z.getRawValue().date,$),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),X()}),z.controls.date_end.valueChanges.subscribe($=>{$<(0,u.z)(z.getRawValue().date,30).valueOf()?z.patchValue({date_end:(0,S.X)((0,u.z)(z.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):z.patchValue({duration:(0,I.o)($,z.getRawValue().date)},{emitEvent:!1}),X()}),z.controls.date.valueChanges.subscribe($=>{z.patchValue({date_end:(0,S.X)((0,u.z)($,z.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),$<Date.now()&&!z.value.id&&z.patchValue({date:(0,S.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),"custom_display"!==z.value.recurrence?._pattern&&"none"!==z.value.recurrence?._pattern&&z.patchValue({recurrence:{...z.value.recurrence,days_of_week:[new Date($).getDay()]}}),X()}),z.controls.catering.valueChanges.subscribe($=>{(z.getRawValue().catering||[])?.length&&(J?.get("app.events.catering_notes_required")||J.value("require_catering_notes"))?(z.get("catering_notes")?.setValidators([t.k0.required]),z.get("catering_notes").patchValue(z.value.catering_notes)):(z.get("catering_notes")?.clearValidators(),z.get("catering_notes").setErrors(null)),z.updateValueAndValidity()}),z.get("catering_charge_code").setValidators([V(z.get("catering"))]),F.id&&(z.get("host").disable(),z.get("organiser").disable()),"started"===F.state&&z.get("date").disable(),z}function Z(F){let J=[{id:F.user_id,name:F.user_name,email:F.user_email,organizer:!0}];return"visitor"===F.booking_type&&J.push(new D.KJ({name:F.asset_name||F.description,email:F.asset_id,checked_in:F.checked_in})),J=J.concat(F.attendees),new T.L({...F,...F.extension_data,attendees:J,id:F.id||F.extension_data.id,host:F.user_email,from_bookings:!0})}},690:(jt,Se,l)=>{"use strict";l.d(Se,{k:()=>p});var t=l(9824),n=l(7926);const p=b=>{const E=b.parent?.get("date");return E&&(0,t.d)(Date.now(),(0,n.z)(E.value,b.value))?{duration:!0}:null}},2035:(jt,Se,l)=>{"use strict";l.d(Se,{T:()=>S});var t=l(4006),n=l(4233);function p(u){var I=this;u="object"==typeof u?u:{},I.revision=3,I.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},I.toTable=u.toTable,I.domElement=I.toTable?document.createElement("div"):document.createElement("canvas"),I.url=u.url||"",I.size=u.size||280,I.qrc=!1,I.colorLight=u.colorLight||"#fff",I.colorDark=u.colorDark||"#000",I.ecclevel=u.ecclevel||1,I.noBorder=u.noBorder,I.borderSize=u.borderSize||4;var k,T,w,D,f,V,K,ne=[],U=[],c=[],Z=[],F=[],J=[],z=function(ve,Q){var R;ve>Q&&(R=ve,ve=Q,Q=R),R=Q,R*=Q,R+=Q,R>>=1,Z[R+=ve]=1},X=function(ve,Q){var R;for(c[ve+w*Q]=1,R=-2;R<2;R++)c[ve+R+w*(Q-2)]=1,c[ve-2+w*(Q+R+1)]=1,c[ve+2+w*(Q+R)]=1,c[ve+R+1+w*(Q+2)]=1;for(R=0;R<2;R++)z(ve-1,Q+R),z(ve+1,Q-R),z(ve-R,Q-1),z(ve+R,Q+1)},$=function(ve){for(;ve>=255;)ve=((ve-=255)>>8)+(255&ve);return ve},te=function(ve,Q,R,L){var H,fe,Ie,Xe=p.gexp,bt=p.glog;for(H=0;H<L;H++)ne[R+H]=0;for(H=0;H<Q;H++){if(255!=(Ie=bt[ne[ve+H]^ne[R]]))for(fe=1;fe<L;fe++)ne[R+fe-1]=ne[R+fe]^Xe[$(Ie+J[L-fe])];else for(fe=R;fe<R+L;fe++)ne[fe]=ne[fe+1];ne[R+L-1]=255==Ie?0:Xe[$(Ie+J[0])]}},G=function(ve,Q){var R;return ve>Q&&(R=ve,ve=Q,Q=R),R=Q,R+=Q*Q,R>>=1,Z[R+=ve]},oe=function(ve){var Q,R,L,H;switch(ve){case 0:for(R=0;R<w;R++)for(Q=0;Q<w;Q++)Q+R&1||G(Q,R)||(c[Q+R*w]^=1);break;case 1:for(R=0;R<w;R++)for(Q=0;Q<w;Q++)1&R||G(Q,R)||(c[Q+R*w]^=1);break;case 2:for(R=0;R<w;R++)for(L=0,Q=0;Q<w;Q++,L++)3==L&&(L=0),L||G(Q,R)||(c[Q+R*w]^=1);break;case 3:for(H=0,R=0;R<w;R++,H++)for(3==H&&(H=0),L=H,Q=0;Q<w;Q++,L++)3==L&&(L=0),L||G(Q,R)||(c[Q+R*w]^=1);break;case 4:for(R=0;R<w;R++)for(L=0,H=R>>1&1,Q=0;Q<w;Q++,L++)3==L&&(L=0,H=!H),H||G(Q,R)||(c[Q+R*w]^=1);break;case 5:for(H=0,R=0;R<w;R++,H++)for(3==H&&(H=0),L=0,Q=0;Q<w;Q++,L++)3==L&&(L=0),(Q&R&1)+!(!L|!H)||G(Q,R)||(c[Q+R*w]^=1);break;case 6:for(H=0,R=0;R<w;R++,H++)for(3==H&&(H=0),L=0,Q=0;Q<w;Q++,L++)3==L&&(L=0),(Q&R&1)+(L&&L==H)&1||G(Q,R)||(c[Q+R*w]^=1);break;case 7:for(H=0,R=0;R<w;R++,H++)for(3==H&&(H=0),L=0,Q=0;Q<w;Q++,L++)3==L&&(L=0),(L&&L==H)+(Q+R&1)&1||G(Q,R)||(c[Q+R*w]^=1)}},ce=function(ve){var Q,R=0;for(Q=0;Q<=ve;Q++)F[Q]>=5&&(R+=p.N1+F[Q]-5);for(Q=3;Q<ve-1;Q+=2)F[Q-2]==F[Q+2]&&F[Q+2]==F[Q-1]&&F[Q-1]==F[Q+1]&&3*F[Q-1]==F[Q]&&(0==F[Q-3]||Q+3>ve||3*F[Q-3]>=4*F[Q]||3*F[Q+3]>=4*F[Q])&&(R+=p.N3);return R},le=function(){var ve,Q,R,L,H,fe=0,Ie=0;for(Q=0;Q<w-1;Q++)for(ve=0;ve<w-1;ve++)(c[ve+w*Q]&&c[ve+1+w*Q]&&c[ve+w*(Q+1)]&&c[ve+1+w*(Q+1)]||!(c[ve+w*Q]||c[ve+1+w*Q]||c[ve+w*(Q+1)]||c[ve+1+w*(Q+1)]))&&(fe+=p.N2);for(Q=0;Q<w;Q++){for(F[0]=0,R=L=ve=0;ve<w;ve++)(H=c[ve+w*Q])==L?F[R]++:F[++R]=1,Ie+=(L=H)?1:-1;fe+=ce(R)}Ie<0&&(Ie=-Ie);var Xe=Ie,bt=0;for(Xe+=Xe<<2,Xe<<=1;Xe>w*w;)Xe-=w*w,bt++;for(fe+=bt*p.N4,ve=0;ve<w;ve++){for(F[0]=0,R=L=Q=0;Q<w;Q++)(H=c[ve+w*Q])==L?F[R]++:F[++R]=1,L=H;fe+=ce(R)}return fe};I.genframe=function(ve){var Q,R,L,H,fe,Ie,Xe,bt,rt=p.eccblocks,yt=p.gexp,ot=p.glog;H=ve.length,T=0;do{if(T++,L=4*(k-1)+16*(T-1),D=rt[L++],f=rt[L++],V=rt[L++],K=rt[L],H<=(L=V*(D+f)+f-3+(T<=9)))break}while(T<40);for(w=17+4*T,fe=V+(V+K)*(D+f)+f,H=0;H<fe;H++)U[H]=0;for(ne=ve.slice(0),H=0;H<w*w;H++)c[H]=0;for(H=0;H<(w*(w+1)+1)/2;H++)Z[H]=0;for(H=0;H<3;H++){for(L=0,R=0,1==H&&(L=w-7),2==H&&(R=w-7),c[R+3+w*(L+3)]=1,Q=0;Q<6;Q++)c[R+Q+w*L]=1,c[R+w*(L+Q+1)]=1,c[R+6+w*(L+Q)]=1,c[R+Q+1+w*(L+6)]=1;for(Q=1;Q<5;Q++)z(R+Q,L+1),z(R+1,L+Q+1),z(R+5,L+Q),z(R+Q+1,L+5);for(Q=2;Q<4;Q++)c[R+Q+w*(L+2)]=1,c[R+2+w*(L+Q+1)]=1,c[R+4+w*(L+Q)]=1,c[R+Q+1+w*(L+4)]=1}if(T>1)for(H=p.adelta[T],R=w-7;;){for(Q=w-7;Q>H-3&&(X(Q,R),!(Q<H));)Q-=H;if(R<=H+9)break;X(6,R-=H),X(R,6)}for(c[8+w*(w-8)]=1,R=0;R<7;R++)z(7,R),z(w-8,R),z(7,R+w-7);for(Q=0;Q<8;Q++)z(Q,7),z(Q+w-8,7),z(Q,w-8);for(Q=0;Q<9;Q++)z(Q,8);for(Q=0;Q<8;Q++)z(Q+w-8,8),z(8,Q);for(R=0;R<7;R++)z(8,R+w-7);for(Q=0;Q<w-14;Q++)1&Q?(z(8+Q,6),z(6,8+Q)):(c[8+Q+6*w]=1,c[6+w*(8+Q)]=1);if(T>6)for(H=p.vpat[T-7],L=17,Q=0;Q<6;Q++)for(R=0;R<3;R++,L--)1&(L>11?T>>L-12:H>>L)?(c[5-Q+w*(2-R+w-11)]=1,c[2-R+w-11+w*(5-Q)]=1):(z(5-Q,2-R+w-11),z(2-R+w-11,5-Q));for(R=0;R<w;R++)for(Q=0;Q<=R;Q++)c[Q+w*R]&&z(Q,R);for(fe=ne.length,Ie=0;Ie<fe;Ie++)U[Ie]=ne.charCodeAt(Ie);if(ne=U.slice(0),fe>=(Q=V*(D+f)+f)-2&&(fe=Q-2,T>9&&fe--),Ie=fe,T>9){for(ne[Ie+2]=0,ne[Ie+3]=0;Ie--;)ne[Ie+3]|=255&(H=ne[Ie])<<4,ne[Ie+2]=H>>4;ne[2]|=255&fe<<4,ne[1]=fe>>4,ne[0]=64|fe>>12}else{for(ne[Ie+1]=0,ne[Ie+2]=0;Ie--;)ne[Ie+2]|=255&(H=ne[Ie])<<4,ne[Ie+1]=H>>4;ne[1]|=255&fe<<4,ne[0]=64|fe>>4}for(Ie=fe+3-(T<10);Ie<Q;)ne[Ie++]=236,ne[Ie++]=17;for(J[0]=1,Ie=0;Ie<K;Ie++){for(J[Ie+1]=1,Xe=Ie;Xe>0;Xe--)J[Xe]=J[Xe]?J[Xe-1]^yt[$(ot[J[Xe]]+Ie)]:J[Xe-1];J[0]=yt[$(ot[J[0]]+Ie)]}for(Ie=0;Ie<=K;Ie++)J[Ie]=ot[J[Ie]];for(L=Q,R=0,Ie=0;Ie<D;Ie++)te(R,V,L,K),R+=V,L+=K;for(Ie=0;Ie<f;Ie++)te(R,V+1,L,K),R+=V+1,L+=K;for(R=0,Ie=0;Ie<V;Ie++){for(Xe=0;Xe<D;Xe++)U[R++]=ne[Ie+Xe*V];for(Xe=0;Xe<f;Xe++)U[R++]=ne[D*V+Ie+Xe*(V+1)]}for(Xe=0;Xe<f;Xe++)U[R++]=ne[D*V+Ie+Xe*(V+1)];for(Ie=0;Ie<K;Ie++)for(Xe=0;Xe<D+f;Xe++)U[R++]=ne[Q+Ie+Xe*K];for(ne=U,Q=R=w-1,L=fe=1,bt=(V+K)*(D+f)+f,Ie=0;Ie<bt;Ie++)for(H=ne[Ie],Xe=0;Xe<8;Xe++,H<<=1){128&H&&(c[Q+w*R]=1);do{fe?Q--:(Q++,L?0!=R?R--:(L=!L,6==(Q-=2)&&(Q--,R=9)):R!=w-1?R++:(L=!L,6==(Q-=2)&&(Q--,R-=8))),fe=!fe}while(G(Q,R))}for(ne=c.slice(0),H=0,R=3e4,L=0;L<8&&(oe(L),(Q=le())<R&&(R=Q,H=L),7!=H);L++)c=ne.slice(0);for(H!=L&&oe(H),R=p.fmtword[H+(k-1<<3)],L=0;L<8;L++,R>>=1)1&R&&(c[w-1-L+8*w]=1,L<6?c[8+w*L]=1:c[8+w*(L+1)]=1);for(L=0;L<7;L++,R>>=1)1&R&&(c[8+w*(w-7+L)]=1,L?c[6-L+8*w]=1:c[7+8*w]=1);return c},I.init=function(){k=I.ecclevel;var ve=I.genframe(I.url);I.toTable?I.tableWrite(ve,w):I.canvasWrite(ve,w)},I.init()}p.prototype={canvasWrite:function(u,I){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(u,I);var k=this.size,T=this.qrc;T.lineWidth=1;var w=k;w/=I+10,w=Math.round(w-.5);var D=4;this.noBorder?(T.canvas.width=T.canvas.height=w*I,D=0):T.canvas.width=T.canvas.height=k,T.clearRect(0,0,k,k),T.fillStyle=this.colorLight,T.fillRect(0,0,w*(I+8),w*(I+8)),T.fillStyle=this.colorDark;for(var f=0;f<I;f++)for(var V=0;V<I;V++)u[V*I+f]&&T.fillRect(w*(D+f),w*(D+V),w,w)},tableWrite:function(u,I){var k=this,T=Math.round(this.size/I-3.5)+"px",w=I+(k.noBorder?0:2*k.borderSize),D=k.borderSize,f="width:"+T+";height:"+T+";",V=k.colorLight,K=k.colorDark,ne=document.createElement("table");ne.style.cssText="border:0;border-collapse:collapse;";for(var U,c=document.createElement("tr"),Z=document.createElement("td"),F=function(){return Z.cloneNode()},J=function(){var ce=F();return ce.style.cssText=f+"background:"+V,ce},z=function(ce){for(var le=ce.firstChild,ve=0;ve<D;ve++)ce.insertBefore(J(),le),ce.appendChild(J())},X=0;X<I;X++){var $=c.cloneNode();ne.appendChild($);for(var te=0;te<I;te++)if(1===u[X*I+te]){var G=(U=void 0,(U=F()).style.cssText=f+"background:"+K,U);$.appendChild(G)}else{var oe=J();$.appendChild(oe)}k.noBorder||z($)}k.noBorder||function(ce){for(var le=ce.firstChild,ve=0;ve<k.borderSize;ve++){for(var Q=c.cloneNode(),R=0;R<w;R++){var L=J();Q.appendChild(L)}ce.appendChild(Q),ce.insertBefore(Q.cloneNode(!0),le)}}(ne),k.domElement.innerHTML="",k.domElement.appendChild(ne)},getContext:function(u){return u.getContext&&u.getContext("2d")?u.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(u){if(this.qrc){var I=this.imageTypes[u];if(!I)throw new Error(u+" is not a valid image type ");var k=new Image;return k.src=this.domElement.toDataURL(I),k}}},p.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],p.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],p.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],p.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],p.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],p.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],p.N1=3,p.N2=3,p.N3=40,p.N4=10;var b=l(3953),E=l(9434);let S=(()=>{class u{constructor(k,T){this._data=k,this._settings=T,this.space=this._data.space,this.qr_code=function v(u,I="#fff0",k="#000"){return new p({url:u||"Hello",size:360,colorLight:I,colorDark:k,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}static#e=this.\u0275fac=function(T){return new(T||u)(b.rXU(t.Vh),b.rXU(n.h))};static#t=this.\u0275cmp=b.VBU({type:u,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:()=>{let k;return k=$localize`:cbd43c9fe40f6bb5fd5497b1436b4dce15539dfb381017318285325317:Book - ${"\ufffd0\ufffd"}:INTERPOLATION:`,[k,[1,"truncate"],[1,"flex-1"],["icon","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]]},template:function(T,w){1&T&&(b.j41(0,"header")(1,"h2",1),b.pXf(2,0),b.k0s(),b.nrm(3,"div",2),b.j41(4,"button",3)(5,"app-icon"),b.EFF(6,"close"),b.k0s()()(),b.j41(7,"main",4),b.nrm(8,"img",5),b.k0s()),2&T&&(b.R7$(2),b.uP7(null==w.space?null:w.space.name),b.nnv(2),b.R7$(6),b.Y8G("src",w.qr_code,b.B4B))},dependencies:[E.R,t.tx]})}return u})()},6301:(jt,Se,l)=>{"use strict";l.d(Se,{t:()=>D});var t=l(467),n=l(4006),p=l(7375),v=l(6266),b=l(3953),E=l(2091);function M(f,V){1&f&&(b.j41(0,"button",10)(1,"app-icon"),b.EFF(2,"close"),b.k0s()())}function S(f,V){1&f&&(b.j41(0,"div",15)(1,"label",24),b.EFF(2,"Host"),b.j41(3,"span"),b.EFF(4,"*"),b.k0s(),b.EFF(5,":"),b.k0s(),b.nrm(6,"a-user-search-field",25),b.k0s())}function u(f,V){if(1&f&&(b.j41(0,"div",26)(1,"label"),b.pXf(2,5),b.k0s(),b.j41(3,"div",27),b.EFF(4),b.nI1(5,"date"),b.nI1(6,"date"),b.k0s()()),2&f){const K=b.XpG(3);b.R7$(4),b.Lme(" ",b.i5U(5,2,K.form.value.date,"mediumDate")," at ",b.i5U(6,5,K.form.value.date,K.time_format)," ")}}function I(f,V){if(1&f&&(b.j41(0,"div",28)(1,"label"),b.pXf(2,6),b.k0s(),b.nrm(3,"a-duration-field",29),b.k0s()),2&f){const K=b.XpG(3);b.R7$(3),b.Y8G("time",K.form.value.date)("max",K.max_duration)("use_24hr",K.use_24hr_time)}}function k(f,V){if(1&f&&(b.j41(0,"main",14)(1,"div",15)(2,"label",16),b.EFF(3,"Title"),b.j41(4,"span"),b.EFF(5,"*"),b.k0s(),b.EFF(6,":"),b.k0s(),b.j41(7,"mat-form-field",17),b.nrm(8,"input",18),b.j41(9,"mat-error"),b.pXf(10,3),b.k0s()()(),b.DNE(11,S,7,0,"div",19),b.j41(12,"div",15)(13,"label"),b.pXf(14,4),b.k0s(),b.j41(15,"div",20),b.EFF(16),b.k0s()(),b.j41(17,"div",21),b.DNE(18,u,7,8,"div",22)(19,I,4,3,"div",23),b.k0s()()),2&f){const K=b.XpG(2);b.Y8G("formGroup",K.form),b.R7$(11),b.Y8G("ngIf",K.can_book_for_others),b.R7$(5),b.SpI(" ",(null==K.form.controls.resources||null==K.form.controls.resources.value[0]?null:K.form.controls.resources.value[0].display_name)||(null==K.form.controls.resources||null==K.form.controls.resources.value[0]?null:K.form.controls.resources.value[0].name)," "),b.R7$(2),b.Y8G("ngIf",K.form.controls.date),b.R7$(),b.Y8G("ngIf",K.form.controls.duration)}}function T(f,V){if(1&f){const K=b.RV6();b.qex(0),b.DNE(1,k,20,5,"main",11),b.j41(2,"footer",12)(3,"button",13),b.bIt("click",function(){b.eBV(K);const U=b.XpG();return b.Njj(U.save())}),b.pXf(4,2),b.k0s()(),b.bVm()}if(2&f){const K=b.XpG();b.R7$(),b.Y8G("ngIf",K.form)}}function w(f,V){if(1&f&&(b.j41(0,"div",30),b.nrm(1,"mat-spinner",31),b.j41(2,"p"),b.EFF(3),b.nI1(4,"async"),b.k0s()()),2&f){const K=b.XpG();b.R7$(),b.Y8G("diameter",48),b.R7$(2),b.JRh(b.bMT(4,2,K.loading))}}let D=(()=>{class f{get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}get can_book_for_others(){return this._settings.get("app.events.can_book_for_others")}get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}get time_format(){return this._settings.time_format}constructor(K,ne,U,c,Z){this._data=K,this._settings=ne,this._event_form=U,this._dialog_ref=c,this._router=Z,this.loading=this._event_form.loading}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,p.Ny)().email,organiser:(0,p.Ny)()})}save(){var K=this;return(0,t.A)(function*(){yield K._event_form.postForm().catch(ne=>{throw(0,p.UG)(ne),ne}),K._settings.app_name.toLowerCase().includes("workplace")?K._router.navigate(["/book","meeting","success"]):(0,p.VX)("Successfully booked room."),K._dialog_ref.close()})()}static#e=this.\u0275fac=function(ne){return new(ne||f)(b.rXU(n.Vh),b.rXU(p.h$),b.rXU(v.W),b.rXU(n.CP),b.rXU(E.Ix))};static#t=this.\u0275cmp=b.VBU({type:f,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:()=>{let K,ne,U,c,Z,F,J;return K=$localize`:bd532c9813cc0577fcc3ff32640a61afef2bf40a6464057252608386690:New Booking`,ne=$localize`:2fa313c798ad138557539ba3c6a3bfdc426eaaa22367152680379951719: Save `,U=$localize`:5cf0071757dd8065e052662e4d191a210c7665792997066279074525950:Booking Title`,c=$localize`:35a900d9fa8e824539ca4b0d1a10bd2f7f8c11728953173802652113530:Booking title is required`,Z=$localize`:0f342dcd63b8732a5599eb91ce166b55335dbbc41329943553963489238:Space:`,F=$localize`:05fa0bded36de6e73a1fa44838b627349dace0446899410641137821757:Date:`,J=$localize`:e17a1d75189da843f541f7764f188f2b19a97df24220765745195024064:Duration:`,[["load_state",""],K,ne,c,Z,F,J,[1,"flex-1"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","matRipple","","mat-dialog-close",""],["class","p-4 max-w-[85vw]",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"p-4","max-w-[85vw]",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder",U],["class","flex flex-col",4,"ngIf"],["name","space",1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col flex-1 w-full sm:w-auto",4,"ngIf"],["class","flex flex-col w-full sm:w-auto",4,"ngIf"],["for","host"],["name","host","formControlName","organiser",1,"mb-4"],[1,"flex","flex-col","flex-1","w-full","sm:w-auto"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","flex-col","w-full","sm:w-auto"],["formControlName","duration",1,"w-full",3,"time","max","use_24hr"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]]},template:function(ne,U){if(1&ne&&(b.j41(0,"header")(1,"h2"),b.pXf(2,1),b.k0s(),b.nrm(3,"div",7),b.DNE(4,M,3,0,"button",8),b.nI1(5,"async"),b.k0s(),b.DNE(6,T,5,1,"ng-container",9),b.nI1(7,"async"),b.DNE(8,w,5,4,"ng-template",null,0,b.C5r)),2&ne){const c=b.sdS(9);b.R7$(4),b.Y8G("ngIf",!b.bMT(5,3,U.loading)),b.R7$(2),b.Y8G("ngIf",!b.bMT(7,5,U.loading))("ngIfElse",c)}},styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}"]})}return f})()},2882:(jt,Se,l)=>{"use strict";l.d(Se,{Y:()=>u});var t=l(4918),n=l(3953),p=l(177),v=l(2238);function b(I,k){if(1&I&&(n.j41(0,"p",9),n.EFF(1),n.k0s()),2&I){const T=n.XpG(2);n.R7$(),n.JRh(T.user)}}function E(I,k){if(1&I&&(n.j41(0,"p",10),n.EFF(1),n.k0s()),2&I){const T=n.XpG(2);n.R7$(),n.SpI(" ",T.department," ")}}function M(I,k){if(1&I&&(n.j41(0,"p",11),n.EFF(1),n.nI1(2,"date"),n.nI1(3,"date"),n.k0s()),2&I){const T=n.XpG(2);n.R7$(),n.Lme(" ",n.i5U(2,2,T.start,"shortTime")," \u2013 ",n.i5U(3,5,T.end,"shortTime")," ")}}function S(I,k){if(1&I&&(n.j41(0,"div",2),n.nrm(1,"div",3),n.j41(2,"div",4)(3,"h4",5),n.EFF(4),n.k0s(),n.DNE(5,b,2,1,"p",6)(6,E,2,1,"p",7)(7,M,4,8,"p",8),n.k0s()()),2&I){const T=n.XpG();n.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+T.x_pos+" "+T.y_pos),n.Y8G("id",T.map_id),n.R7$(4),n.SpI(" ",T.name||T.map_id||T.id," "),n.R7$(),n.Y8G("ngIf",T.user),n.R7$(),n.Y8G("ngIf",T.user&&T.department),n.R7$(),n.Y8G("ngIf",T.start)}}let u=(()=>{class I{constructor(T,w){this._details=T,this._element=w,this.id=this._details.id,this.map_id=this._details.map_id,this.name=this._details.name,this.user=this._details.user,this.start=this._details.start,this.end=this._details.end,this.status=this._details.status,this.department=this._details.department}ngOnInit(T=0){T>10||setTimeout(()=>{const w=this._element.nativeElement.parentElement?.parentElement;if(!w)return this.ngOnInit(++T);const D_y=parseInt(w.style.top,10)/100,D_x=parseInt(w.style.left,10)/100;this.y_pos=D_y>=.5?"bottom":"top",this.x_pos=D_x>=.5?"right":"left"},200)}get available_until(){return""}static#e=this.\u0275fac=function(w){return new(w||I)(n.rXU(t.N),n.rXU(n.aKT))};static#t=this.\u0275cmp=n.VBU({type:I,selectors:[["explore-desk-info"]],decls:3,vars:8,consts:[["desk_tooltip",""],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","z-20",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"arrow"],[1,"details"],["map-id","",1,"m-0","font-medium"],["user","","class","mt-2 text-sm",4,"ngIf"],["user","","class","mt-1 text-sm",4,"ngIf"],["start","","class","mt-1 text-sm",4,"ngIf"],["user","",1,"mt-2","text-sm"],["user","",1,"mt-1","text-sm"],["start","",1,"mt-1","text-sm"]],template:function(w,D){if(1&w&&(n.nrm(0,"div",1),n.DNE(1,S,8,7,"ng-template",null,0,n.C5r)),2&w){const f=n.sdS(2);n.Y8G("content",f)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),n.BMQ("id",D.id)("map_id",D.map_id)}},dependencies:[p.bT,v.I,p.vh],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[name=status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[name=status].busy[_ngcontent-%COMP%]{background-color:#e53935}[name=status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[name=status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return I})()},3207:(jt,Se,l)=>{"use strict";l.d(Se,{q:()=>v});var t=l(8030),n=l(3953),p=l(9434);let v=(()=>{class b{constructor(M){this._details=M,this.icon=this._details.icon||{content:"done"},this.color=this._details.color||"var(--in)",this.text_color=this._details.text_color||"var(--inc)"}static#e=this.\u0275fac=function(S){return new(S||b)(n.rXU(t.Nw))};static#t=this.\u0275cmp=n.VBU({type:b,selectors:[["explore-icon"]],decls:2,vars:5,consts:[[1,"flex","items-center","justify-center","h-8","w-8","shadow","rounded-full","border","border-base-200"],[1,"text-xl",3,"icon"]],template:function(S,u){1&S&&(n.j41(0,"div",0),n.nrm(1,"app-icon",1),n.k0s()),2&S&&(n.xc7("background-color",u.color)("color",u.text_color),n.R7$(),n.Y8G("icon",u.icon))},dependencies:[p.R],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;align-items:end;justify-content:end}"]})}return b})()},4810:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>M});var t=l(8030),n=l(795),p=l(3953),v=l(4006),b=l(2238);function E(S,u){if(1&S&&(p.j41(0,"div",3)(1,"h3",4),p.EFF(2),p.k0s(),p.j41(3,"p",5),p.EFF(4),p.k0s()()),2&S){const I=p.XpG();p.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+I.x_pos+" "+I.y_pos),p.Y8G("id",I.map_id),p.R7$(2),p.JRh(I.bank.name),p.R7$(2),p.Lme(" ",I.in_use_count," lockers in use of ",I.bank.lockers.length||1," ")}}let M=(()=>{class S{constructor(I,k,T){this._details=I,this._element=k,this._dialog=T,this.bank=this._details.bank,this.in_use_count=this._details.in_use_count}ngOnInit(I=0){I>10||setTimeout(()=>{const k=this._element.nativeElement.parentElement?.parentElement;if(!k)return this.ngOnInit(++I);const T_y=parseInt(k.style.top,10)/100,T_x=parseInt(k.style.left,10)/100;this.y_pos=T_y>=.5?"bottom":"top",this.x_pos=T_x>=.5?"right":"left"},200)}openBankModal(){this._dialog.open(n.c,{data:{...this._details}})}static#e=this.\u0275fac=function(k){return new(k||S)(p.rXU(t.Nw),p.rXU(p.aKT),p.rXU(v.bZ))};static#t=this.\u0275cmp=p.VBU({type:S,selectors:[["explore-locker-bank-info"]],decls:4,vars:6,consts:[["desk_tooltip",""],[1,"h-full","w-full","pointer-events-auto","relative",3,"click"],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"font-medium"],[1,"whitespace-nowrap","text-sm"]],template:function(k,T){if(1&k){const w=p.RV6();p.j41(0,"button",1),p.bIt("click",function(){return p.eBV(w),p.Njj(T.openBankModal())}),p.nrm(1,"div",2),p.k0s(),p.DNE(2,E,5,6,"ng-template",null,0,p.C5r)}if(2&k){const w=p.sdS(3);p.R7$(),p.Y8G("content",w)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3)}},dependencies:[b.I]})}return S})()},795:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>M});var t=l(4006),p=(l(8796),l(3953)),v=l(9434),b=l(6600),E=l(4854);let M=(()=>{class S{constructor(I){this._data=I,this.bank=this._data.bank,this.lockers=this._data.lockers.reduce((k,T)=>(k[T.id]="busy",k),{})}static#e=this.\u0275fac=function(k){return new(k||S)(p.rXU(t.Vh))};static#t=this.\u0275cmp=p.VBU({type:S,selectors:[["explore-locker-bank-modal"]],decls:8,vars:3,consts:[[1,"text-xl","font-medium"],["btn","","icon","","matRipple","","mat-dialog-close",""],[1,"h-[65vh]","overflow-hidden"],[3,"bank","bank_status"]],template:function(k,T){1&k&&(p.j41(0,"header")(1,"h2",0),p.EFF(2),p.k0s(),p.j41(3,"button",1)(4,"app-icon"),p.EFF(5,"close"),p.k0s()()(),p.j41(6,"main",2),p.nrm(7,"locker-grid",3),p.k0s()),2&k&&(p.R7$(2),p.JRh(T.bank.name),p.R7$(5),p.Y8G("bank",T.bank)("bank_status",T.lockers))},dependencies:[v.R,b.r6,t.tx,E.E]})}return S})()},8303:(jt,Se,l)=>{"use strict";l.d(Se,{x:()=>k});var t=l(8030),n=l(4233),p=l(3953);function v(T,w){if(1&T&&p.nrm(0,"img",18),2&T){const D=p.XpG(2);p.Y8G("source",D.space.images[0])}}function b(T,w){1&T&&p.nrm(0,"div",19)}function E(T,w){if(1&T&&(p.j41(0,"div",20),p.EFF(1),p.k0s()),2&T){const D=p.XpG(2);p.R7$(),p.SpI(" ",D.available_until," ")}}function M(T,w){if(1&T&&(p.j41(0,"div",21)(1,"span"),p.pXf(2,3),p.k0s(),p.EFF(3),p.k0s()),2&T){const D=p.XpG(2);p.R7$(3),p.Lme("",D.space.capacity," ",1===D.space.capacity?"person":"people"," ")}}function S(T,w){if(1&T&&(p.j41(0,"li",24),p.EFF(1),p.k0s()),2&T){const D=w.$implicit;p.R7$(),p.SpI(" ",D," ")}}function u(T,w){if(1&T&&(p.j41(0,"ul",22),p.DNE(1,S,2,1,"li",23),p.k0s()),2&T){const D=p.XpG(2);p.R7$(),p.Y8G("ngForOf",D.space.features)}}function I(T,w){if(1&T&&(p.j41(0,"div",5),p.nrm(1,"div",6),p.j41(2,"div",7)(3,"div",8),p.DNE(4,v,1,1,"img",9)(5,b,1,0,"div",10),p.k0s(),p.j41(6,"div",11)(7,"div",12),p.EFF(8," "),p.pXf(9,2),p.EFF(10," "),p.k0s(),p.DNE(11,E,2,1,"div",13),p.k0s(),p.j41(12,"div",14)(13,"h4",15),p.EFF(14),p.k0s(),p.DNE(15,M,4,2,"div",16)(16,u,2,1,"ul",17),p.k0s()()()),2&T){const D=p.XpG();p.AVh("-translate-x-full","end"===D.x_pos)("-translate-y-full","bottom"===D.y_pos),p.Y8G("id",null==D.space?null:D.space.id),p.R7$(3),p.AVh("bg-neutral",D.space.images[0])("h-32",D.space.images[0])("h-8",!D.space.images[0]),p.R7$(),p.Y8G("ngIf",D.space.images[0]),p.R7$(),p.Y8G("ngIf",D.space.images[0]),p.R7$(2),p.HbH("capitalize rounded p-1 px-2 text-light border border-white shadow "+D.status),p.R7$(2),p.uP7(D.status),p.nnv(9),p.R7$(2),p.Y8G("ngIf","not-bookable"!==D.status),p.R7$(3),p.SpI(" ",D.space.display_name||D.space.name," "),p.R7$(),p.Y8G("ngIf",D.space.capacity>=0),p.R7$(),p.Y8G("ngIf",(null==D.space.features?null:D.space.features.length)>0&&D.show_features)}}let k=(()=>{class T{get show_features(){return!this._settings.get("app.spaces.hide_features")}constructor(D,f,V){this._details=D,this._settings=f,this._element=V,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const D=this._element.nativeElement.getBoundingClientRect();this.x_pos=D.x<document.body.clientWidth/2?"start":"end",this.y_pos=D.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}static#e=this.\u0275fac=function(f){return new(f||T)(p.rXU(t.Nw),p.rXU(n.h),p.rXU(p.aKT))};static#t=this.\u0275cmp=p.VBU({type:T,selectors:[["explore-space-info"]],decls:4,vars:7,consts:()=>{let D,f;return D=$localize`:86e6b3a473ea3e05830d2aef91c81199de1b9d333658078071800974217:{VAR_SELECT, select, free {Free } busy {Busy } pending {Pending } reserved {Reserved } other {Not Bookable }}`,D=p.k04(D,{VAR_SELECT:"\ufffd0\ufffd"}),f=$localize`:36c2a5db33c6cfc9e239e589f975f5492bbb05502292396409867038415:Capacity: `,[["tooltip",""],["space_tooltip",""],D,f,["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","hidden","sm:block","cursor-pointer",3,"mouseenter","content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",1,"absolute","rounded","bg-base-100","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","overflow-hidden","flex","items-center","justify-center","relative","bg-opacity-20"],["auth","","class","object-cover min-h-full min-w-full",3,"source",4,"ngIf"],["class","absolute inset-0 bg-neutral",4,"ngIf"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],["auth","",1,"object-cover","min-h-full","min-w-full",3,"source"],[1,"absolute","inset-0","bg-neutral"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-base-200 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-base-200","font-medium"]]},template:function(f,V){if(1&f){const K=p.RV6();p.j41(0,"div",4,0),p.bIt("mouseenter",function(){return p.eBV(K),p.Njj(V.updateOffset())}),p.k0s(),p.DNE(2,I,17,20,"ng-template",null,1,p.C5r)}if(2&f){const K=p.sdS(3);p.Y8G("content",K)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),p.BMQ("id",(null==V.space?null:V.space.map_id)||(null==V.space?null:V.space.id))}},styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return T})()},5897:(jt,Se,l)=>{"use strict";l.d(Se,{U:()=>z,s:()=>X});var t=l(467),n=l(1038),p=l(8728),v=l(9090),b=l(3921),E=l(5006),M=l(8712),S=l(9493),u=l(4421),I=l(9714),k=l(7375),T=l(9525),w=l(735),D=l(6727),f=l(6266),V=l(8026),K=l(2455),ne=l(8303),U=l(6301),c=l(2035),Z=l(3207),F=l(3953),J=l(4006);const z={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};let X=(()=>{class $ extends k.Tv{constructor(G,oe,ce,le,ve){super(),this._state=G,this._settings=oe,this._event_form=ce,this._dialog=le,this._org=ve,this._bookings={},this._statuses={},this._presence={},this._panning=!0,this._last_action="",this.booking_rules=this._org.active_building.pipe((0,p.p)(Q=>!!Q),(0,v.n)(Q=>(0,n.bpY)(Q.id,"room_booking_rules").pipe((0,b.W)(()=>(0,u.of)({details:[]})))),(0,E.T)(Q=>Q?.details instanceof Array?Q.details:[]),(0,M.t)(1)),this._bind=(0,I.zV)([this._state.spaces,this._state.options]).pipe((0,p.p)(([Q,{is_public:R}])=>!R),(0,E.T)(([Q])=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this.unsubWith("c-"),this._statuses={},Q?.length){for(const R of Q){const L=(0,n.f_4)(R.id,"Bookings");let H=L.binding("bookings");this.subscription(`b-${R.id}`,H.listen().subscribe(fe=>this.handleBookingsChange(Q,R,fe))),this.subscription(`b-bind-${R.id}`,H.bind()),H=L.binding("status"),this.subscription(`s-${R.id}`,H.listen().subscribe(fe=>this.handleStatusChange(Q,R,fe))),this.subscription(`s-bind-${R.id}`,H.bind()),H=L.binding("presence"),this.subscription(`c-${R.id}`,H.listen().subscribe(fe=>this.handlePresenceChange(Q,R,fe))),this.subscription(`c-bind-${R.id}`,H.bind())}this.updateActions(Q),this._updateHoverElements(Q)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace(G,oe=!1){var ce=this;return(0,t.A)(function*(){if(ce._panning&&"down"===ce._last_action)return;const le=yield ce.booking_rules.pipe((0,S.s)(1)).toPromise(),{hidden:ve}=(0,k.RH)({date:Date.now(),duration:60,resource:G,host:(0,k.Ny)()},le)||{};return ve?(0,T.UG)("You do not have permission to book this space at this time."):"free"!==ce._statuses[G.id]&&!oe||!G.bookable?(0,T.UG)(`${G.display_name||G.name} is unavailable for the selected time and duration`):(ce._event_form.newForm(),ce._event_form.form.patchValue({host:(0,k.Ny)()?.email,resources:[G]}),ce._settings.get("app.events.booking_unavailable")?ce._event_form.openEventLinkModal():void ce._dialog.open(ce._settings.get("app.explore.show_booking_qr")?c.T:U.t,{data:{space:G}}))})()}handleBookingsChange(G,oe,ce){ce&&(this._bookings[oe.id]=ce.map(le=>new D.L(le)),this.timeout("update_hover_els",()=>this._updateHoverElements(G),100))}handleStatusChange(G,oe,ce){oe.bookable?this._statuses[oe.id]=ce||"free":delete this._statuses[oe.id],this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this._updateStatus(G),this._updateHoverElements(G)},100)}handlePresenceChange(G,oe,ce){this._presence[oe.id]=ce,this.timeout("update_icons",()=>this._updateIcons(G),100)}_updateStatus(G){var oe=this;return(0,t.A)(function*(){const ce={},le=oe._settings.get("app.explore.colors")||{};for(const ve of G){if(!oe._statuses[ve.id])continue;const Q=oe._statuses[ve.id];ce[`#${ve.map_id}`]={fill:le[`space-${Q}`]||le[`${Q}`]||z[`${Q}`],opacity:.6}}oe._state.setStyles("spaces",ce)})()}_updateHoverElements(G){const oe=[];for(const ce of G)ce.map_id&&oe.push({location:ce.map_id,full_size:!0,no_scale:!0,content:ne.x,z_index:10,data:{space:new w.$(ce),events:this._bookings[ce.id],status:this._statuses[ce.id]||"not-bookable"}});this._state.setFeatures("spaces",oe)}_updateIcons(G){if(!this._settings.get("app.show_presence_indicators"))return;const oe=[];for(const ce of G)ce.map_id&&oe.push({location:ce.map_id,content:Z.q,data:{icon:{class:"material-symbols-rounded",content:"sensor_occupied"},color:this._presence[ce.id]?"var(--su)":"var(--bc)",text_color:this._presence[ce.id]?"var(--suc)":"var(--b1)"},z_index:98});this._state.setFeatures("spaces-presence",oe)}updateActions(G){const oe=[];for(const ce of G)if(ce.map_id){for(const le of["mousedown","touchstart"])oe.push({id:ce.map_id,action:le,priority:5,callback:()=>{this._panning=!1,this.timeout("panning",()=>this._panning=!0,300),this._last_action="down"}});for(const le of["mouseup","touchend"])oe.push({id:ce.map_id,action:le,priority:5,callback:()=>{this.bookSpace(ce),this._last_action="up"}})}this.timeout("set-actions",()=>this._state.setActions("spaces",oe),50)}static#e=this.\u0275fac=function(oe){return new(oe||$)(F.KVO(K.O),F.KVO(k.h$),F.KVO(f.W),F.KVO(J.bZ),F.KVO(V.y))};static#t=this.\u0275prov=F.jDH({token:$,factory:$.\u0275fac})}return $})()},2455:(jt,Se,l)=>{"use strict";l.d(Se,{O:()=>ne});var t=l(467),n=l(1038),p=l(9928),v=l(9714),b=l(4421),E=l(8728),M=l(9090),S=l(5006),u=l(3921),I=l(8712),k=l(3020),T=l(4046),w=l(7375),D=l(8026),f=l(735),V=l(7401),K=l(3953);let ne=(()=>{class U extends w.Tv{get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}constructor(Z,F,J){super(),this._org=Z,this._spaces=F,this._settings=J,this._level=new p.t(null),this._positions=new p.t({zoom:1,center:{x:.5,y:.5}}),this._styles=new p.t({}),this._features=new p.t({}),this._actions=new p.t({}),this._labels=new p.t({}),this._options=new p.t({is_public:!1,disable:["zones","devices"]}),this._message=new p.t(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=(0,v.zV)([this._level,this._org.initialised]).pipe((0,E.p)(([z,X])=>X),(0,M.n)(([z])=>(0,n.BbB)({zone_id:z?.id||this._org.organisation.id,limit:50}).pipe((0,S.T)(({data:X})=>X.map($=>new f.$($))),(0,u.W)(X=>(0,b.of)([])))),(0,I.t)(1)),this.map_url=this._level.pipe((0,S.T)(z=>(z?z.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,v.zV)([this._features,this._options]).pipe((0,k.B)(200),(0,S.T)(([z,X])=>{let $=[];for(const te in z)X.disable?.includes(te)||X.disable_features?.includes(te)||"zones-canvas"===te&&X.disable?.includes("zones")||($=$.concat(z[te]));return $})),this.map_actions=(0,v.zV)([this._actions,this._options]).pipe((0,k.B)(200),(0,S.T)(([z,X])=>{let $=[];for(const te in z)X.disable?.includes(te)||X.disable_actions?.includes(te)||($=$.concat(z[te]));return $})),this.map_labels=(0,v.zV)([this._labels,this._options]).pipe((0,k.B)(200),(0,S.T)(([z,X])=>{let $=[];for(const te in z)X.disable?.includes(te)||X.disable_labels?.includes(te)||($=$.concat(z[te]));return $})),this.map_styles=(0,v.zV)([this._styles,this._options]).pipe((0,k.B)(200),(0,S.T)(([z,X])=>{let $={text:{display:"none"}};for(const te in z)X.disable?.includes(te)||X.disable_styles?.includes(te)||($={...$,...z[te]});return X.disable?.includes("zones")&&($["#zones"]={display:"none"},$["#Zones"]={display:"none"}),$})),this.options=this._options.asObservable(),this.init()}init(){var Z=this;return(0,t.A)(function*(){yield Z._org.initialised.pipe((0,T.$)(F=>F)).toPromise(),Z._org.active_levels.pipe((0,E.p)(F=>!!F)).subscribe(F=>{const J=Z._level.getValue();!F.find(X=>J?.id===X.id)&&F.length&&Z.setLevel(F[0].id),Z._settings.get("app.explore.disable_actions")&&Z.setOptions({disable_actions:Z._settings.get("app.explore.disable_actions")}),Z._settings.get("app.explore.disable_labels")&&Z.setOptions({disable_labels:Z._settings.get("app.explore.disable_labels")}),Z._settings.get("app.explore.disable_features")&&Z.setOptions({disable_features:Z._settings.get("app.explore.disable_features")}),Z._settings.get("app.explore.disable_styles")&&Z.setOptions({disable_styles:Z._settings.get("app.explore.disable_styles")})})})()}setOptions(Z){const F=this._options.getValue(),J=(0,w.Am)([...Z.disable||F.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),...Z,disable:J})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this._options.next({is_public:!1,disable:["zones","devices"]}),this.setPositions(1,{x:.5,y:.5})}setLevel(Z){const F=this._org.levelWithID([Z]);F&&this._level.next(F)}setStyles(Z,F){const J=this._styles.getValue();J[Z]=F,this._styles.next(J)}setFeatures(Z,F){const J=this._features.getValue();J[Z]=F,this._features.next(J)}setActions(Z,F){const J=this._actions.getValue();J[Z]=F,this._actions.next(J)}setLabels(Z,F){const J=this._labels.getValue();J[Z]=F,this._labels.next(J)}setPositions(Z,F){this._positions.next({zoom:Z,center:F})}has(Z,F,J=[]){if("style"===Z){const z=this._styles.getValue();for(const X in z){if(J.includes(X))continue;const $=z[X];if(F in $||`#${F}`in $)return!0}}else if("feature"===Z){const z=this._features.getValue();for(const X in z)if(!J.includes(X))for(const $ of z[X])if($.location===F)return!0}else if("action"===Z){const z=this._actions.getValue();for(const X in z)if(!J.includes(X))for(const $ of z[X])if($.id===F)return!0}else if("label"===Z){const z=this._labels.getValue();for(const X in z)if(!J.includes(X))for(const $ of z[X])if($.location===F)return!0}return!1}static#e=this.\u0275fac=function(F){return new(F||U)(K.KVO(D.y),K.KVO(V.b),K.KVO(w.h$))};static#t=this.\u0275prov=K.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},3046:(jt,Se,l)=>{"use strict";l.d(Se,{cQ:()=>t.c});var t=l(2169);l(5507),l(9608),l(3476),l(1413),l(840),l(8e3),l(6864)},5507:(jt,Se,l)=>{"use strict";l.d(Se,{s:()=>S});var t=l(3953),n=l(9417),p=l(177),v=l(6600),b=l(9434),E=l(2897);function M(u,I){if(1&u&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&u){const k=t.XpG();t.R7$(),t.SpI(" ",(k.render_fn?k.render_fn(k.value):k.value)||"0"," ")}}let S=(()=>{class u{constructor(){this.step=1,this.max=999,this.min=0,this.focused=!1}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(k){k<this.min&&(k=this.min),k>this.max&&(k=this.max),k/this.step%1!=0&&(k=Math.round(k*(1/this.step))/(1/this.step)),this.value=k,this._onChange&&this._onChange(k)}writeValue(k){this.value=k}registerOnChange(k){this._onChange=k}registerOnTouched(k){this._onTouch=k}static#e=this.\u0275fac=function(T){return new(T||u)};static#t=this.\u0275cmp=t.VBU({type:u,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>u),multi:!0}])],decls:10,vars:4,consts:[["counter","",1,"flex","items-center","text-base","space-x-2","p-2",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["decrease","","icon","","matRipple","","type","button",1,"border","border-error","text-error","rounded","h-10","w-10",3,"click","disabled"],["value","",1,"relative","p-1","flex","items-center","justify-center","w-16","h-10","rounded","border","border-base-300"],[4,"ngIf"],["type","text","limitInput","",1,"absolute","inset-0","opacity-0","focus:opacity-100","p-2",3,"ngModelChange","focus","blur","ngModel"],["increase","","icon","","matRipple","","type","button",1,"border","border-success","text-success","rounded","h-10","w-10",3,"click","disabled"]],template:function(T,w){1&T&&(t.j41(0,"div",0),t.bIt("keydown.shift",function(){return w.shift_key=!0},!1,t.tSv)("keydown.control",function(){return w.ctrl_key=!0},!1,t.tSv)("keydown.meta",function(){return w.ctrl_key=!0},!1,t.tSv)("keyup.shift",function(){return w.shift_key=!1},!1,t.tSv)("keyup.control",function(){return w.ctrl_key=!1},!1,t.tSv)("keyup.meta",function(){return w.ctrl_key=!1},!1,t.tSv),t.j41(1,"button",1),t.bIt("click",function(){return w.remove()}),t.j41(2,"app-icon"),t.EFF(3,"remove"),t.k0s()(),t.j41(4,"div",2),t.DNE(5,M,2,1,"span",3),t.j41(6,"input",4),t.mxI("ngModelChange",function(f){return t.DH7(w.value,f)||(w.value=f),f}),t.bIt("focus",function(){return w.focused=!0})("blur",function(){return w.setValue(+w.value),w.focused=!1}),t.k0s()(),t.j41(7,"button",5),t.bIt("click",function(){return w.add()}),t.j41(8,"app-icon"),t.EFF(9,"add"),t.k0s()()()),2&T&&(t.R7$(),t.Y8G("disabled",!w.value||w.value===w.min),t.R7$(4),t.Y8G("ngIf",!w.focused),t.R7$(),t.R50("ngModel",w.value),t.R7$(),t.Y8G("disabled",w.value===w.max))},dependencies:[p.bT,n.me,n.BC,n.vS,v.r6,b.R,E.B]})}return u})()},9608:(jt,Se,l)=>{"use strict";l.d(Se,{G:()=>Z});var t=l(3953),n=l(9417),p=l(2238),v=l(3601),b=l(4512),E=l(6299),M=l(1406),S=l(5354),u=l(7375),I=l(177);const k=["*"];function T(F,J){if(1&F&&(t.EFF(0),t.nI1(1,"date")),2&F){const z=t.XpG();t.SpI(" ",t.i5U(1,1,z.date,z.date_format)," ")}}function w(F,J){1&F&&(t.j41(0,"span",4),t.EFF(1,"No Date Selected"),t.k0s())}function D(F,J){if(1&F&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&F){const z=t.XpG(2);t.R7$(),t.JRh(z.start_of_day)}}function f(F,J){1&F&&(t.j41(0,"span"),t.EFF(1," - "),t.k0s())}function V(F,J){if(1&F&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&F){const z=t.XpG(2);t.R7$(),t.JRh(z.end_of_day)}}function K(F,J){if(1&F&&(t.j41(0,"div",9),t.DNE(1,D,2,1,"span",8)(2,f,2,0,"span",8)(3,V,2,1,"span",8),t.k0s()),2&F){const z=t.XpG();t.R7$(),t.Y8G("ngIf",2!==z.range),t.R7$(),t.Y8G("ngIf",0===z.range),t.R7$(),t.Y8G("ngIf",1!==z.range)}}function ne(F,J){1&F&&(t.j41(0,"span"),t.SdG(1),t.k0s())}function U(F,J){if(1&F){const z=t.RV6();t.j41(0,"div",10)(1,"date-calendar",11),t.bIt("ngModelChange",function($){t.eBV(z);const te=t.XpG();return t.Njj(te.setValue($))}),t.k0s()()}if(2&F){const z=t.XpG();t.R7$(),t.Y8G("ngModel",z.date||z.now)("from",z.from)("to",z.until)("offset_weekday",z.week_start)}}var c=function(F){return F[F.Both=0]="Both",F[F.Start=1]="Start",F[F.End=2]="End",F}(c||{});let Z=(()=>{class F extends S.T{get date_format(){return this.short?"MMM d, yyyy":"MMMM d, yyyy"}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get start_of_day(){const z=(0,v.o)(this.date).valueOf();return this._date_pipe.transform(z,`MMM d, ${this.time_format}${1===this.range?" (z)":""}`,this.tz)}get end_of_day(){const z=(0,b.D)(this.date).valueOf();return this._date_pipe.transform(z,`MMM d, ${this.time_format}${1===this.range?" (z)":""}`,this.tz)}get has_error(){return this._control?.invalid&&this._control?.touched}get tz(){const z=this.timezone;return z?(0,u.GF)(z):""}constructor(z){super(),this._injector=z,this.from_date=(0,v.o)(Date.now()).valueOf(),this.week_start=0,this.use_24hr=!1,this.short=!1,this.timezone="",this.range=c.Both,this.now=Date.now(),this._date_pipe=new I.vh("en")}get from(){return new Date(this.from_date)||(0,v.o)(new Date)}get until(){return new Date(this.to_date)||(0,E.e)((0,b.D)(new Date),1)}ngOnInit(){this._control=this._injector.get(n.vO),this.date=Date.now()}setValue(z){const X=new Date(this.date);let $=(0,M.h)(z,{hours:X.getHours(),minutes:X.getMinutes()}).valueOf();$<this.from.valueOf()&&($=this.from.valueOf()),this.date=$,this._onChange&&this._onChange($),this._tooltip?.close()}writeValue(z){this.date=z,this._tooltip?.close()}registerOnChange(z){this._onChange=z}registerOnTouched(z){this._onTouch=z}setDisabledState(z){this.disabled=z}static#e=this.\u0275fac=function(X){return new(X||F)(t.rXU(t.zZn))};static#t=this.\u0275cmp=t.VBU({type:F,selectors:[["a-date-field"]],viewQuery:function(X,$){if(1&X&&t.GBs(p.I,5),2&X){let te;t.mGM(te=t.lsd())&&($._tooltip=te.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",use_24hr:"use_24hr",disabled:"disabled",short:"short",timezone:"timezone",range:"range"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>F),multi:!0}]),t.Vt3],ngContentSelectors:k,decls:13,vars:7,consts:[["calendar_picker",""],["customTooltip","","yPosition","top","matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full",3,"content","disabled"],[1,"flex","flex-col","px-4","py-2","flex-1","truncate","w-1/2","text-left","leading-tight"],[1,"font-normal","text-base"],[1,"opacity-30"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"h-10","w-10","flex","items-center","justify-center","text-2xl"],[1,"error","h-5","p-1","text-xs","text-error"],[4,"ngIf"],[1,"text-xs","opacity-30","truncate"],[1,"relative","w-[18rem]","rounded","bg-base-100","px-2","py-4"],[3,"ngModelChange","ngModel","from","to","offset_weekday"]],template:function(X,$){if(1&X&&(t.NAR(),t.j41(0,"button",1)(1,"div",2)(2,"div",3),t.DNE(3,T,2,4)(4,w,2,0,"span",4),t.k0s(),t.DNE(5,K,4,3,"div",5),t.k0s(),t.j41(6,"div",6)(7,"app-icon"),t.EFF(8,"today"),t.k0s()()(),t.j41(9,"div",7),t.DNE(10,ne,2,0,"span",8),t.k0s(),t.DNE(11,U,2,4,"ng-template",null,0,t.C5r)),2&X){const te=t.sdS(12);t.AVh("opacity-30",$.disabled),t.Y8G("content",te)("disabled",$.disabled),t.R7$(3),t.vxM($.date?3:4),t.R7$(2),t.Y8G("ngIf",$.timezone),t.R7$(5),t.Y8G("ngIf",$.has_error)}}})}return F})()},3476:(jt,Se,l)=>{"use strict";l.d(Se,{y:()=>K});var t=l(3953),n=l(9417),p=l(7375),v=l(7926),b=l(2659),E=l(177),M=l(6600),S=l(3719),u=l(9434),I=l(9115);const k=["*"];function T(ne,U){if(1&ne&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&ne){const c=t.XpG();t.R7$(),t.SpI(" ",t.brH(2,1,null==c.selected?null:c.selected.date,c.time_format+" (z)",c.tz)," ")}}function w(ne,U){if(1&ne&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&ne){const c=t.XpG(2).$implicit,Z=t.XpG();t.R7$(),t.SpI(" ",t.brH(2,1,c.date,Z.time_format+" (z)",Z.tz)," ")}}function D(ne,U){if(1&ne&&(t.qex(0),t.j41(1,"div",13)(2,"div",3),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.DNE(5,w,3,5,"div",4),t.k0s(),t.bVm()),2&ne){const c=t.XpG().$implicit,Z=t.XpG();t.R7$(3),t.E5c(" ",c.date?t.i5U(4,4,c.date,c.id>=1440?"mediumDate":Z.time_format)+" (":"","",c.name,"",c.date?")":""," "),t.R7$(2),t.Y8G("ngIf",Z.timezone)}}function f(ne,U){1&ne&&(t.j41(0,"app-icon",14),t.EFF(1," done "),t.k0s())}function V(ne,U){if(1&ne){const c=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){const F=t.eBV(c).$implicit,J=t.XpG();return t.Njj(J.setValue(F.id))}),t.j41(1,"div",10),t.DNE(2,D,6,7,"ng-container",11),t.j41(3,"div"),t.EFF(4),t.k0s(),t.DNE(5,f,2,0,"app-icon",12),t.k0s()()}if(2&ne){const c=U.$implicit,Z=t.XpG();t.R7$(2),t.Y8G("ngIf",!Z.force),t.R7$(2),t.JRh(Z.force),t.R7$(),t.Y8G("ngIf",(null==Z.selected?null:Z.selected.id)===c.id)}}let K=(()=>{class ne{constructor(){this.max=240,this.min=30,this.step=15,this.custom_options=[],this.use_24hr=!1,this.timezone="",this.duration=60,this.duration_options=[]}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get selected(){return this.duration_options.find(c=>c.id===this.duration)}get tz(){const c=this.timezone;return c?(0,p.GF)(c):""}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption()}ngOnChanges(c){(c.max||c.min||c.step||c.time||c.custom_options)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption())}setValue(c){this.duration=c,this._onChange&&this._onChange(+c)}writeValue(c){this.duration=c,this._updateOption()}setDisabledState(c){this.disabled=c}registerOnChange(c){this._onChange=c}registerOnTouched(c){this._onTouch=c}generateDurationOptions(c,Z,F){const J=[];let z=Z;const X=this.time?this.time:null;for(const $ of this.custom_options)J.push({id:$,date:X?(0,v.z)(X,$).valueOf():void 0,name:$>=1440?`${(0,b.a)({days:Math.floor($/1440)})}`:`${(0,b.a)({hours:Math.floor($/60),minutes:$%60})}`});for(;z<=c;)J.push({id:z,date:X?(0,v.z)(X,z).valueOf():void 0,name:0===z?(0,b.a)({minutes:0},{zero:!0}):z>=1440?`${(0,b.a)({days:Math.floor(z/1440)})}`:`${(0,b.a)({hours:Math.floor(z/60),minutes:z%60})}`}),z+=F;return J.sort(($,te)=>$.id-te.id),J}_updateOption(){this.duration_options?.length&&this.duration_options.findIndex(Z=>Z.id===this.duration)<0&&this.setValue(this.min)}static#e=this.\u0275fac=function(Z){return new(Z||ne)};static#t=this.\u0275cmp=t.VBU({type:ne,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",custom_options:"custom_options",force:"force",use_24hr:"use_24hr",timezone:"timezone"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>ne),multi:!0}]),t.OA$],ngContentSelectors:k,decls:13,vars:12,consts:[["menu","matMenu"],["matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full","px-2",3,"disabled","matMenuTriggerFor"],[1,"flex","flex-col","leading-tight","px-2","text-left","flex-1","w-1/2"],[1,"truncate"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"text-2xl"],[1,"max-h-[15rem]","min-w-[18rem]"],["mat-menu-item","","class","text-left",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-30","truncate"],["mat-menu-item","",1,"text-left",3,"click"],[1,"flex","items-center","justify-between"],[4,"ngIf"],["class","text-2xl ml-2",4,"ngIf"],[1,"flex","flex-col","leading-tight"],[1,"text-2xl","ml-2"]],template:function(Z,F){if(1&Z&&(t.NAR(),t.j41(0,"button",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.DNE(5,T,3,5,"div",4),t.k0s(),t.j41(6,"app-icon",5),t.EFF(7,"arrow_drop_down"),t.k0s()(),t.j41(8,"mat-menu",6,0),t.DNE(10,V,6,3,"button",7),t.k0s(),t.j41(11,"mat-error"),t.SdG(12),t.k0s()),2&Z){const J=t.sdS(9);t.AVh("opacity-30",F.disabled),t.Y8G("disabled",F.disabled)("matMenuTriggerFor",J),t.R7$(3),t.E5c(" ",null!=F.selected&&F.selected.date?t.i5U(4,9,null==F.selected?null:F.selected.date,F.selected.id>=1440?"mediumDate":F.time_format)+" (":"","",null==F.selected?null:F.selected.name,"",null!=F.selected&&F.selected.date?")":""," "),t.R7$(2),t.Y8G("ngIf",F.timezone),t.R7$(5),t.Y8G("ngForOf",F.duration_options)}},dependencies:[E.Sq,E.bT,M.r6,S.TL,u.R,I.kk,I.fb,I.Cp,E.vh],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return ne})()},2169:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>hb});var t={};l.r(t),l.d(t,{Attributor:()=>gi,AttributorStore:()=>ll,BlockBlot:()=>Dc,ClassAttributor:()=>Za,ContainerBlot:()=>Sd,EmbedBlot:()=>dl,InlineBlot:()=>gs,LeafBlot:()=>ra,ParentBlot:()=>Tr,Registry:()=>Ho,Scope:()=>Xn,ScrollBlot:()=>qa,StyleAttributor:()=>Nl,TextBlot:()=>Md});var n=l(177),p=l(9417),v=l(3801),b=l(6471),E=l(6600),M=l(3719),S=l(9631),u=l(2798),I=l(850),k=l(4823),T=l(2765),w=l(5951),D=l(7327),f=l(3953),V=l(9434);l(5507);var c=l(9608),Z=l(3476),J=(l(1413),l(840)),z=l(8e3),X=l(7336);function $(A,y){if(1&A){const m=f.RV6();f.j41(0,"mat-chip-row",5),f.bIt("removed",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.remove(B))}),f.j41(1,"span",6),f.EFF(2),f.k0s(),f.j41(3,"button",7)(4,"app-icon"),f.EFF(5,"cancel"),f.k0s()()()}if(2&A){const m=y.$implicit;f.R7$(2),f.JRh(m),f.R7$(),f.BMQ("aria-label","Remove "+m)}}let oe=(()=>{class A{constructor(){this.separators=[X.Fm,X.KE],this.placeholder="",this.value=[],this.add=m=>function te(A,y){if(!A)return;const m=y.input,O=y.value,B=A.value;if(O.includes(",")){const ge=O.split(",");for(const $e of ge)($e||"").trim()&&(B.push($e.trim()),A.setValue(B))}else(O||"").trim()&&(B.push(O.trim()),A.setValue(B));m&&(m.value="")}({value:this.value,setValue:O=>this.setValue(O)},m),this.remove=m=>function G(A,y){if(!A)return;const m=A.value,O=m.indexOf(y);O>=0&&(m.splice(O,1),A.setValue(m))}({value:this.value,setValue:O=>this.setValue(O)},m)}setValue(m){this.value=m,this._onChange&&this._onChange(m)}writeValue(m){this.value=m}registerOnChange(m){this._onChange=m}registerOnTouched(m){this._onTouch=m}static#e=this.\u0275fac=function(O){return new(O||A)};static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["item-list-field"]],inputs:{separators:"separators",placeholder:"placeholder"},features:[f.Jv_([{provide:p.kq,useExisting:(0,f.Rfq)(()=>A),multi:!0}])],decls:5,vars:5,consts:[["chipList",""],["appearance","outline",1,"w-full"],["aria-label","Zone Tags"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]],template:function(O,B){if(1&O){const ge=f.RV6();f.j41(0,"mat-form-field",1)(1,"mat-chip-grid",2,0),f.DNE(3,$,6,2,"mat-chip-row",3),f.k0s(),f.j41(4,"input",4),f.bIt("matChipInputTokenEnd",function(Et){return f.eBV(ge),f.Njj(B.add(Et))}),f.k0s()()}if(2&O){const ge=f.sdS(2);f.R7$(3),f.Y8G("ngForOf",B.value),f.R7$(),f.Y8G("placeholder",B.placeholder||"User groups...")("matChipInputFor",ge)("matChipInputSeparatorKeyCodes",B.separators)("matChipInputAddOnBlur",!0)}},dependencies:[n.Sq,M.rl,b.HW,b.D7,b.Zv,b.jH,V.R]})}return A})();var ce=l(7375),R=(l(1604),l(2727),l(285),l(9183)),we=l(4233),_e=l(5752),de=l(2185),Te=l(9928),Pe=l(3020),St=l(4006);const tt=()=>({standalone:!0});function wt(A,y){if(1&A&&f.nrm(0,"img",30),2&A){const m=f.XpG().$implicit;f.Y8G("source",m.images[0])}}function ln(A,y){1&A&&f.nrm(0,"img",31)}function Mn(A,y){if(1&A){const m=f.RV6();f.j41(0,"div",18)(1,"div",19),f.DNE(2,wt,1,1,"img",20)(3,ln,1,0,"ng-template",null,0,f.C5r),f.k0s(),f.j41(5,"div",21)(6,"div",22),f.EFF(7),f.k0s(),f.j41(8,"div",23)(9,"app-icon",24),f.EFF(10,"place"),f.k0s(),f.j41(11,"p"),f.EFF(12),f.k0s()(),f.j41(13,"div",23)(14,"app-icon",24),f.EFF(15,"people"),f.k0s(),f.j41(16,"p"),f.pXf(17,6),f.k0s()(),f.j41(18,"div",25)(19,"button",26),f.bIt("click",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.changeSpaces(B))}),f.j41(20,"div",27),f.PLo(21,7),f.nrm(22,"app-icon"),f.YFu(),f.k0s()(),f.j41(23,"button",28),f.bIt("click",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.removeSpace(B))}),f.j41(24,"div",27),f.PLo(25,8),f.nrm(26,"app-icon"),f.YFu(),f.k0s()()()(),f.j41(27,"button",29),f.bIt("click",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.toggleFavourite(B))}),f.j41(28,"app-icon"),f.EFF(29),f.k0s()()()}if(2&A){let m;const O=y.$implicit,B=f.sdS(4),ge=f.XpG();f.R7$(2),f.Y8G("ngIf",null==O.images?null:O.images.length)("ngIfElse",B),f.R7$(5),f.SpI(" ",O.display_name||O.name||"Meeting Space"," "),f.R7$(5),f.SpI(" ",O.location||(null==(m=ge.level(O.zones))?null:m.display_name)||(null==(m=ge.level(O.zones))?null:m.name)," "),f.R7$(5),f.uP7(O.capacity<1?2:O.capacity)(O.capacity),f.nnv(17),f.R7$(10),f.AVh("text-blue-400",ge.favorites.includes(null==O?null:O.id)),f.R7$(2),f.JRh(ge.favorites.includes(null==O?null:O.id)?"favorite":"favorite_border")}}const Bn=[];let Jt=(()=>{class A{get favorites(){return this._settings.get("favourite_spaces")||Bn}constructor(m,O,B){this._settings=m,this._org=O,this._dialog=B,this.multiday=!1,this.room_size=4,this.spaces=new Te.t([]),this.space_list=this.spaces.pipe((0,Pe.B)(300)),this.disabled=!1,this.registerOnChange=ge=>this._onChange=ge,this.registerOnTouched=ge=>this._onTouch=ge,this.setDisabledState=ge=>this.disabled=ge}ngOnDestroy(){this._dialog_ref&&this._dialog_ref.close()}level(m){return this._org.levelWithID(m)}changeSpaces(){this._dialog_ref=this._dialog.open(_e.d,{data:{spaces:this.spaces.getValue(),options:{capacity:this.room_size},multiday:this.multiday}}),this._dialog_ref.afterClosed().subscribe(()=>{this.setValue(this._dialog_ref?.componentInstance?.selected),this._dialog_ref=void 0})}removeSpace(m){this.setValue(this.spaces.getValue().filter(O=>O.id!==m.id))}setValue(m){this.spaces.next(m||[]),this._onChange&&this._onChange(m||[])}writeValue(m){this.spaces.next(m||[])}toggleFavourite(m){if(!m?.id)return;const O=this.favorites;O.includes(m.id)?this._settings.saveUserSetting("favourite_spaces",O.filter(ge=>ge!==m.id)):this._settings.saveUserSetting("favourite_spaces",[...O,m.id])}static#e=this.\u0275fac=function(O){return new(O||A)(f.rXU(we.h),f.rXU(de.yb),f.rXU(St.bZ))};static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["space-list-field"]],inputs:{multiday:"multiday"},features:[f.Jv_([{provide:p.kq,useExisting:(0,f.Rfq)(()=>A),multi:!0}])],decls:23,vars:9,consts:()=>{let m,O,B,ge,$e,Et,an,Cn,zn;return m=$localize`:1b75f93ee5764eaf4e3e5b35f9142aa730286aba2378084019110582405:Select Room Size${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,O=$localize`:9a4b4695fcd5f591ff27d32d69654210c1edbce85941148565596549711: Min. 2 People `,B=$localize`:c08792b3fa94dc973ac18033a872580a83beded95844713600133557099: Min. 4 People `,ge=$localize`:94d037a05d336158339e193309f967a769878040694015482067564775: Min. 10 People `,$e=$localize`:2a4f48e169dc20ba9ed88d3bfe38f47ecc9204e64961016996305563664:Add Space`,Et=$localize`:ed210c8c0f2511082633f06a2c94b8410f6cd9bf426413428618668868:{VAR_PLURAL, plural, =1 {Person } other {People
                            }}`,Et=f.k04(Et,{VAR_PLURAL:"\ufffd1\ufffd"}),an=$localize`:ddc17cbb67fd49c13c14733c877b09fb9bd86d87686822217414553756: ${"\ufffd0\ufffd"}:INTERPOLATION: ${Et}:ICU: `,Cn=$localize`:ca9092fdbbb85e5828de77fdf85c49b918cec128559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,zn=$localize`:a386ba350cdee69beeb12a908d96f0724ddc20542582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],m,O,B,ge,$e,an,Cn,zn,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],[1,"flex","items-center"],["aria-label","Select Room Size",1,"space-x-4",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-space",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"sm:space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-space",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-space",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]]},template:function(O,B){1&O&&(f.j41(0,"div")(1,"div",9)(2,"div",10)(3,"label"),f.PLo(4,1),f.nrm(5,"span"),f.YFu(),f.k0s(),f.j41(6,"div",11)(7,"mat-radio-group",12),f.mxI("ngModelChange",function($e){return f.DH7(B.room_size,$e)||(B.room_size=$e),$e}),f.j41(8,"mat-radio-button",13),f.pXf(9,2),f.k0s(),f.j41(10,"mat-radio-button",13),f.pXf(11,3),f.k0s(),f.j41(12,"mat-radio-button",13),f.pXf(13,4),f.k0s()()()()()(),f.j41(14,"div",14),f.DNE(15,Mn,30,9,"div",15),f.nI1(16,"async"),f.k0s(),f.j41(17,"button",16),f.bIt("click",function(){return B.changeSpaces()}),f.j41(18,"div",17)(19,"app-icon"),f.EFF(20,"search"),f.k0s(),f.j41(21,"span"),f.pXf(22,5),f.k0s()()()),2&O&&(f.R7$(7),f.R50("ngModel",B.room_size),f.Y8G("ngModelOptions",f.lJ4(8,tt)),f.R7$(),f.Y8G("value",1),f.R7$(2),f.Y8G("value",4),f.R7$(2),f.Y8G("value",10),f.R7$(3),f.Y8G("ngForOf",f.bMT(16,6,B.space_list)))}})}return A})();const ie=function Me(A,y){return A===y||A!=A&&y!=y},Be=function pe(A,y){for(var m=A.length;m--;)if(ie(A[m][0],y))return m;return-1};var Wt=Array.prototype.splice;function nn(A){var y=-1,m=null==A?0:A.length;for(this.clear();++y<m;){var O=A[y];this.set(O[0],O[1])}}nn.prototype.clear=function Ft(){this.__data__=[],this.size=0},nn.prototype.delete=function vn(A){var y=this.__data__,m=Be(y,A);return!(m<0||(m==y.length-1?y.pop():Wt.call(y,m,1),--this.size,0))},nn.prototype.get=function dn(A){var y=this.__data__,m=Be(y,A);return m<0?void 0:y[m][1]},nn.prototype.has=function pt(A){return Be(this.__data__,A)>-1},nn.prototype.set=function Gt(A,y){var m=this.__data__,O=Be(m,A);return O<0?(++this.size,m.push([A,y])):m[O][1]=y,this};const xn=nn,un="object"==typeof global&&global&&global.Object===Object&&global;var Qe="object"==typeof self&&self&&self.Object===Object&&self;const ze=un||Qe||Function("return this")(),it=ze.Symbol;var We=Object.prototype,ht=We.hasOwnProperty,He=We.toString,Ke=it?it.toStringTag:void 0;var _n=Object.prototype.toString;var Mi=it?it.toStringTag:void 0;const Ki=function wi(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":Mi&&Mi in Object(A)?function Kt(A){var y=ht.call(A,Ke),m=A[Ke];try{A[Ke]=void 0;var O=!0}catch{}var B=He.call(A);return O&&(y?A[Ke]=m:delete A[Ke]),B}(A):function yn(A){return _n.call(A)}(A)},ts=function ji(A){var y=typeof A;return null!=A&&("object"==y||"function"==y)},Ut=function At(A){if(!ts(A))return!1;var y=Ki(A);return"[object Function]"==y||"[object GeneratorFunction]"==y||"[object AsyncFunction]"==y||"[object Proxy]"==y};var A,An=ze["__core-js_shared__"],_t=(A=/[^.]+$/.exec(An&&An.keys&&An.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";var mt=Function.prototype.toString;const Pn=function ut(A){if(null!=A){try{return mt.call(A)}catch{}try{return A+""}catch{}}return""};var Dn=/^\[object .+?Constructor\]$/,Ui=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const as=function es(A){return!(!ts(A)||function q(A){return!!_t&&_t in A}(A))&&(Ut(A)?Ui:Dn).test(Pn(A))},Ks=function Qi(A,y){var m=function ti(A,y){return A?.[y]}(A,y);return as(m)?m:void 0},zs=Ks(ze,"Map"),bs=Ks(Object,"create");var fa=Object.prototype.hasOwnProperty;var jr=Object.prototype.hasOwnProperty;function wo(A){var y=-1,m=null==A?0:A.length;for(this.clear();++y<m;){var O=A[y];this.set(O[0],O[1])}}wo.prototype.clear=function Ir(){this.__data__=bs?bs(null):{},this.size=0},wo.prototype.delete=function ro(A){var y=this.has(A)&&delete this.__data__[A];return this.size-=y?1:0,y},wo.prototype.get=function zo(A){var y=this.__data__;if(bs){var m=y[A];return"__lodash_hash_undefined__"===m?void 0:m}return fa.call(y,A)?y[A]:void 0},wo.prototype.has=function Ur(A){var y=this.__data__;return bs?void 0!==y[A]:jr.call(y,A)},wo.prototype.set=function ho(A,y){var m=this.__data__;return this.size+=this.has(A)?0:1,m[A]=bs&&void 0===y?"__lodash_hash_undefined__":y,this};const Ne=wo,Wi=function Ci(A,y){var m=A.__data__;return function Nn(A){var y=typeof A;return"string"==y||"number"==y||"symbol"==y||"boolean"==y?"__proto__"!==A:null===A}(y)?m["string"==typeof y?"string":"hash"]:m.map};function To(A){var y=-1,m=null==A?0:A.length;for(this.clear();++y<m;){var O=A[y];this.set(O[0],O[1])}}To.prototype.clear=function Bt(){this.size=0,this.__data__={hash:new Ne,map:new(zs||xn),string:new Ne}},To.prototype.delete=function ls(A){var y=Wi(this,A).delete(A);return this.size-=y?1:0,y},To.prototype.get=function ys(A){return Wi(this,A).get(A)},To.prototype.has=function Co(A){return Wi(this,A).has(A)},To.prototype.set=function to(A,y){var m=Wi(this,A),O=m.size;return m.set(A,y),this.size+=m.size==O?0:1,this};const xo=To;function no(A){var y=this.__data__=new xn(A);this.size=y.size}no.prototype.clear=function kn(){this.__data__=new xn,this.size=0},no.prototype.delete=function hi(A){var y=this.__data__,m=y.delete(A);return this.size=y.size,m},no.prototype.get=function dt(A){return this.__data__.get(A)},no.prototype.has=function ct(A){return this.__data__.has(A)},no.prototype.set=function di(A,y){var m=this.__data__;if(m instanceof xn){var O=m.__data__;if(!zs||O.length<199)return O.push([A,y]),this.size=++m.size,this;m=this.__data__=new xo(O)}return m.set(A,y),this.size=m.size,this};const sr=no;var Va=function(){try{var A=Ks(Object,"defineProperty");return A({},"",{}),A}catch{}}();const or=Va,rr=function Wo(A,y,m){"__proto__"==y&&or?or(A,y,{configurable:!0,enumerable:!0,value:m,writable:!0}):A[y]=m},Po=function Or(A,y,m){(void 0!==m&&!ie(A[y],m)||void 0===m&&!(y in A))&&rr(A,y,m)};var $s=function Vr(A){return function(y,m,O){for(var B=-1,ge=Object(y),$e=O(y),Et=$e.length;Et--;){var an=$e[A?Et:++B];if(!1===m(ge[an],an,ge))break}return y}}();const ar=$s;var Ka="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ao=Ka&&"object"==typeof module&&module&&!module.nodeType&&module,za=Ao&&Ao.exports===Ka?ze.Buffer:void 0,ps=za?za.allocUnsafe:void 0;const lo=function Ts(A,y){if(y)return A.slice();var m=A.length,O=ps?ps(m):new A.constructor(m);return A.copy(O),O},Gr=ze.Uint8Array,Xo=function $o(A){var y=new A.constructor(A.byteLength);return new Gr(y).set(new Gr(A)),y},Kr=function Ji(A,y){var m=y?Xo(A.buffer):A.buffer;return new A.constructor(m,A.byteOffset,A.length)},Wn=function Rt(A,y){var m=-1,O=A.length;for(y||(y=Array(O));++m<O;)y[m]=A[m];return y};var be=Object.create,Nt=function(){function A(){}return function(y){if(!ts(y))return{};if(be)return be(y);A.prototype=y;var m=new A;return A.prototype=void 0,m}}();const Ye=Nt,De=function sn(A,y){return function(m){return A(y(m))}},Ce=De(Object.getPrototypeOf,Object);var Mt=Object.prototype;const yi=function rn(A){var y=A&&A.constructor;return A===("function"==typeof y&&y.prototype||Mt)},Ns=function ss(A){return"function"!=typeof A.constructor||yi(A)?{}:Ye(Ce(A))},Hi=function Ri(A){return null!=A&&"object"==typeof A},Rl=function ml(A){return Hi(A)&&"[object Arguments]"==Ki(A)};var kl=Object.prototype,ns=kl.hasOwnProperty,Ta=kl.propertyIsEnumerable,qo=Rl(function(){return arguments}())?Rl:function(A){return Hi(A)&&ns.call(A,"callee")&&!Ta.call(A,"callee")};const wr=qo,sa=Array.isArray,Sa=function Wa(A){return"number"==typeof A&&A>-1&&A%1==0&&A<=9007199254740991},Xa=function Ma(A){return null!=A&&Sa(A.length)&&!Ut(A)};var Cr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ha=Cr&&"object"==typeof module&&module&&!module.nodeType&&module,ds=Ha&&Ha.exports===Cr?ze.Buffer:void 0;const Ys=(ds?ds.isBuffer:void 0)||function ql(){return!1};var As=Function.prototype.toString,ec=Object.prototype.hasOwnProperty,N=As.call(Object);var Ln={};Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Arguments]"]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object Boolean]"]=Ln["[object DataView]"]=Ln["[object Date]"]=Ln["[object Error]"]=Ln["[object Function]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln["[object Object]"]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object WeakMap]"]=!1;const Qs=function Es(A){return function(y){return A(y)}};var Zn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ss=Zn&&"object"==typeof module&&module&&!module.nodeType&&module,fo=Ss&&Ss.exports===Zn&&un.process;const zr=function(){try{return Ss&&Ss.require&&Ss.require("util").types||fo&&fo.binding&&fo.binding("util")}catch{}}();var li=zr&&zr.isTypedArray;const Pa=li?Qs(li):function Di(A){return Hi(A)&&Sa(A.length)&&!!Ln[Ki(A)]},oa=function rl(A,y){if(("constructor"!==y||"function"!=typeof A[y])&&"__proto__"!=y)return A[y]};var _r=Object.prototype.hasOwnProperty;const va=function La(A,y,m){var O=A[y];(!_r.call(A,y)||!ie(O,m)||void 0===m&&!(y in A))&&rr(A,y,m)},zc=function Cc(A,y,m,O){var B=!m;m||(m={});for(var ge=-1,$e=y.length;++ge<$e;){var Et=y[ge],an=O?O(m[Et],A[Et],Et,m,A):void 0;void 0===an&&(an=A[Et]),B?rr(m,Et,an):va(m,Et,an)}return m};var op=/^(?:0|[1-9]\d*)$/;const Hu=function bo(A,y){var m=typeof A;return!!(y=y??9007199254740991)&&("number"==m||"symbol"!=m&&op.test(A))&&A>-1&&A%1==0&&A<y};var Yu=Object.prototype.hasOwnProperty;const lr=function Mo(A,y){var m=sa(A),O=!m&&wr(A),B=!m&&!O&&Ys(A),ge=!m&&!O&&!B&&Pa(A),$e=m||O||B||ge,Et=$e?function Qa(A,y){for(var m=-1,O=Array(A);++m<A;)O[m]=y(m);return O}(A.length,String):[],an=Et.length;for(var Cn in A)(y||Yu.call(A,Cn))&&(!$e||!("length"==Cn||B&&("offset"==Cn||"parent"==Cn)||ge&&("buffer"==Cn||"byteLength"==Cn||"byteOffset"==Cn)||Hu(Cn,an)))&&Et.push(Cn);return Et};var al=Object.prototype.hasOwnProperty;const Ju=function Qu(A){if(!ts(A))return function Da(A){var y=[];if(null!=A)for(var m in Object(A))y.push(m);return y}(A);var y=yi(A),m=[];for(var O in A)"constructor"==O&&(y||!al.call(A,O))||m.push(O);return m},nc=function Zu(A){return Xa(A)?lr(A,!0):Ju(A)},Tc=function zh(A,y,m,O,B,ge,$e){var Et=oa(A,m),an=oa(y,m),Cn=$e.get(an);if(Cn)Po(A,m,Cn);else{var zn=ge?ge(Et,an,m+"",A,y,$e):void 0,ni=void 0===zn;if(ni){var Fi=sa(an),is=!Fi&&Ys(an),us=!Fi&&!is&&Pa(an);zn=an,Fi||is||us?sa(Et)?zn=Et:function yc(A){return Hi(A)&&Xa(A)}(Et)?zn=Wn(Et):is?(ni=!1,zn=lo(an,!0)):us?(ni=!1,zn=Kr(an,!0)):zn=[]:function ft(A){if(!Hi(A)||"[object Object]"!=Ki(A))return!1;var y=Ce(A);if(null===y)return!0;var m=ec.call(y,"constructor")&&y.constructor;return"function"==typeof m&&m instanceof m&&As.call(m)==N}(an)||wr(an)?(zn=Et,wr(Et)?zn=function ic(A){return zc(A,nc(A))}(Et):(!ts(Et)||Ut(Et))&&(zn=Ns(an))):ni=!1}ni&&($e.set(an,zn),B(zn,an,O,ge,$e),$e.delete(an)),Po(A,m,zn)}},Wr=function Wh(A,y,m,O,B){A!==y&&ar(y,function(ge,$e){if(B||(B=new sr),ts(ge))Tc(A,y,$e,m,Wh,O,B);else{var Et=O?O(oa(A,$e),ge,$e+"",A,y,B):void 0;void 0===Et&&(Et=ge),Po(A,$e,Et)}},nc)},Xr=function sc(A){return A};var cu=Math.max;const du=function mr(A){return function(){return A}};var ap=or?function(A,y){return or(A,"toString",{configurable:!0,enumerable:!1,value:du(y),writable:!0})}:Xr,Xc=Date.now,Ee=function Hc(A){var y=0,m=0;return function(){var O=Xc(),B=16-(O-m);if(m=O,B>0){if(++y>=800)return arguments[0]}else y=0;return A.apply(void 0,arguments)}}(ap);const ae=Ee,qe=function Oe(A,y){return ae(function rp(A,y,m){return y=cu(void 0===y?A.length-1:y,0),function(){for(var O=arguments,B=-1,ge=cu(O.length-y,0),$e=Array(ge);++B<ge;)$e[B]=O[y+B];B=-1;for(var Et=Array(y+1);++B<y;)Et[B]=O[B];return Et[y]=m($e),function Xh(A,y,m){switch(m.length){case 0:return A.call(y);case 1:return A.call(y,m[0]);case 2:return A.call(y,m[0],m[1]);case 3:return A.call(y,m[0],m[1],m[2])}return A.apply(y,m)}(A,this,Et)}}(A,y,Xr),A+"")};var bi=function In(A){return qe(function(y,m){var O=-1,B=m.length,ge=B>1?m[B-1]:void 0,$e=B>2?m[2]:void 0;for(ge=A.length>3&&"function"==typeof ge?(B--,ge):void 0,$e&&function Lt(A,y,m){if(!ts(m))return!1;var O=typeof y;return!!("number"==O?Xa(m)&&Hu(y,m.length):"string"==O&&y in m)&&ie(m[y],A)}(m[0],m[1],$e)&&(ge=B<3?void 0:ge,B=1),y=Object(y);++O<B;){var Et=m[O];Et&&A(y,Et,O,ge)}return y})}(function(A,y,m){Wr(A,y,m)});const oi=bi;var Xn=(A=>(A[A.TYPE=3]="TYPE",A[A.LEVEL=12]="LEVEL",A[A.ATTRIBUTE=13]="ATTRIBUTE",A[A.BLOT=14]="BLOT",A[A.INLINE=7]="INLINE",A[A.BLOCK=11]="BLOCK",A[A.BLOCK_BLOT=10]="BLOCK_BLOT",A[A.INLINE_BLOT=6]="INLINE_BLOT",A[A.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",A[A.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",A[A.ANY=15]="ANY",A))(Xn||{});class gi{constructor(y,m,O={}){this.attrName=y,this.keyName=m,this.scope=null!=O.scope?O.scope&Xn.LEVEL|Xn.TYPE&Xn.ATTRIBUTE:Xn.ATTRIBUTE,null!=O.whitelist&&(this.whitelist=O.whitelist)}static keys(y){return Array.from(y.attributes).map(m=>m.name)}add(y,m){return!!this.canAdd(y,m)&&(y.setAttribute(this.keyName,m),!0)}canAdd(y,m){return null==this.whitelist||("string"==typeof m?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1)}remove(y){y.removeAttribute(this.keyName)}value(y){const m=y.getAttribute(this.keyName);return this.canAdd(y,m)&&m?m:""}}class er extends Error{constructor(y){super(y="[Parchment] "+y),this.message=y,this.name=this.constructor.name}}let Ho=(()=>{let A=class jD{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(m,O=!1){if(null==m)return null;if(this.blots.has(m))return this.blots.get(m)||null;if(O){let B=null;try{B=m.parentNode}catch{return null}return this.find(B,O)}return null}create(m,O,B){const ge=this.query(O);if(null==ge)throw new er(`Unable to create ${O} blot`);const $e=ge,Et=O instanceof Node||O.nodeType===Node.TEXT_NODE?O:$e.create(B),an=new $e(m,Et,B);return jD.blots.set(an.domNode,an),an}find(m,O=!1){return jD.find(m,O)}query(m,O=Xn.ANY){let B;return"string"==typeof m?B=this.types[m]||this.attributes[m]:m instanceof Text||m.nodeType===Node.TEXT_NODE?B=this.types.text:"number"==typeof m?m&Xn.LEVEL&Xn.BLOCK?B=this.types.block:m&Xn.LEVEL&Xn.INLINE&&(B=this.types.inline):m instanceof Element&&((m.getAttribute("class")||"").split(/\s+/).some(ge=>(B=this.classes[ge],!!B)),B=B||this.tags[m.tagName]),null==B?null:"scope"in B&&O&Xn.LEVEL&B.scope&&O&Xn.TYPE&B.scope?B:null}register(...m){return m.map(O=>{const B="blotName"in O,ge="attrName"in O;if(!B&&!ge)throw new er("Invalid definition");if(B&&"abstract"===O.blotName)throw new er("Cannot register abstract class");return this.types[B?O.blotName:ge?O.attrName:void 0]=O,ge?"string"==typeof O.keyName&&(this.attributes[O.keyName]=O):B&&(O.className&&(this.classes[O.className]=O),O.tagName&&(O.tagName=Array.isArray(O.tagName)?O.tagName.map(Et=>Et.toUpperCase()):O.tagName.toUpperCase(),(Array.isArray(O.tagName)?O.tagName:[O.tagName]).forEach(Et=>{(null==this.tags[Et]||null==O.className)&&(this.tags[Et]=O)}))),O})}};return A.blots=new WeakMap,A})();function Oa(A,y){return(A.getAttribute("class")||"").split(/\s+/).filter(m=>0===m.indexOf(`${y}-`))}const Za=class Ll extends gi{static keys(y){return(y.getAttribute("class")||"").split(/\s+/).map(m=>m.split("-").slice(0,-1).join("-"))}add(y,m){return!!this.canAdd(y,m)&&(this.remove(y),y.classList.add(`${this.keyName}-${m}`),!0)}remove(y){Oa(y,this.keyName).forEach(m=>{y.classList.remove(m)}),0===y.classList.length&&y.removeAttribute("class")}value(y){const m=(Oa(y,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(y,m)?m:""}};function Yc(A){const y=A.split("-"),m=y.slice(1).map(O=>O[0].toUpperCase()+O.slice(1)).join("");return y[0]+m}const Nl=class qu extends gi{static keys(y){return(y.getAttribute("style")||"").split(";").map(m=>m.split(":")[0].trim())}add(y,m){return!!this.canAdd(y,m)&&(y.style[Yc(this.keyName)]=m,!0)}remove(y){y.style[Yc(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")}value(y){const m=y.style[Yc(this.keyName)];return this.canAdd(y,m)?m:""}},ll=class eh{constructor(y){this.attributes={},this.domNode=y,this.build()}attribute(y,m){m?y.add(this.domNode,m)&&(null!=y.value(this.domNode)?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])}build(){this.attributes={};const y=Ho.find(this.domNode);if(null==y)return;const m=gi.keys(this.domNode),O=Za.keys(this.domNode),B=Nl.keys(this.domNode);m.concat(O).concat(B).forEach(ge=>{const $e=y.scroll.query(ge,Xn.ATTRIBUTE);$e instanceof gi&&(this.attributes[$e.attrName]=$e)})}copy(y){Object.keys(this.attributes).forEach(m=>{const O=this.attributes[m].value(this.domNode);y.format(m,O)})}move(y){this.copy(y),Object.keys(this.attributes).forEach(m=>{this.attributes[m].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((y,m)=>(y[m]=this.attributes[m].value(this.domNode),y),{})}},uu=class{constructor(y,m){this.scroll=y,this.domNode=m,Ho.blots.set(m,this),this.prev=null,this.next=null}static create(y){if(null==this.tagName)throw new er("Blot definition missing tagName");let m,O;return Array.isArray(this.tagName)?("string"==typeof y?(O=y.toUpperCase(),parseInt(O,10).toString()===O&&(O=parseInt(O,10))):"number"==typeof y&&(O=y),m="number"==typeof O?document.createElement(this.tagName[O-1]):O&&this.tagName.indexOf(O)>-1?document.createElement(O):document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m}get statics(){return this.constructor}attach(){}clone(){const y=this.domNode.cloneNode(!1);return this.scroll.create(y)}detach(){null!=this.parent&&this.parent.removeChild(this),Ho.blots.delete(this.domNode)}deleteAt(y,m){this.isolate(y,m).remove()}formatAt(y,m,O,B){const ge=this.isolate(y,m);if(null!=this.scroll.query(O,Xn.BLOT)&&B)ge.wrap(O,B);else if(null!=this.scroll.query(O,Xn.ATTRIBUTE)){const $e=this.scroll.create(this.statics.scope);ge.wrap($e),$e.format(O,B)}}insertAt(y,m,O){const B=null==O?this.scroll.create("text",m):this.scroll.create(m,O),ge=this.split(y);this.parent.insertBefore(B,ge||void 0)}isolate(y,m){const O=this.split(y);if(null==O)throw new Error("Attempt to isolate at end");return O.split(m),O}length(){return 1}offset(y=this.parent){return null==this.parent||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)}optimize(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(y,m){const O="string"==typeof y?this.scroll.create(y,m):y;return null!=this.parent&&(this.parent.insertBefore(O,this.next||void 0),this.remove()),O}split(y,m){return 0===y?this:this.next}update(y,m){}wrap(y,m){const O="string"==typeof y?this.scroll.create(y,m):y;if(null!=this.parent&&this.parent.insertBefore(O,this.next||void 0),"function"!=typeof O.appendChild)throw new er(`Cannot wrap ${y}`);return O.appendChild(this),O}};uu.blotName="abstract";let rc=uu;const th=class extends rc{static value(y){return!0}index(y,m){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1}position(y,m){let O=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return y>0&&(O+=1),[this.parent.domNode,O]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};th.scope=Xn.INLINE_BLOT;const ra=th;class Qc{constructor(){this.head=null,this.tail=null,this.length=0}append(...y){if(this.insertBefore(y[0],null),y.length>1){const m=y.slice(1);this.append(...m)}}at(y){const m=this.iterator();let O=m();for(;O&&y>0;)y-=1,O=m();return O}contains(y){const m=this.iterator();let O=m();for(;O;){if(O===y)return!0;O=m()}return!1}indexOf(y){const m=this.iterator();let O=m(),B=0;for(;O;){if(O===y)return B;B+=1,O=m()}return-1}insertBefore(y,m){null!=y&&(this.remove(y),y.next=m,null!=m?(y.prev=m.prev,null!=m.prev&&(m.prev.next=y),m.prev=y,m===this.head&&(this.head=y)):null!=this.tail?(this.tail.next=y,y.prev=this.tail,this.tail=y):(y.prev=null,this.head=this.tail=y),this.length+=1)}offset(y){let m=0,O=this.head;for(;null!=O;){if(O===y)return m;m+=O.length(),O=O.next}return-1}remove(y){this.contains(y)&&(null!=y.prev&&(y.prev.next=y.next),null!=y.next&&(y.next.prev=y.prev),y===this.head&&(this.head=y.next),y===this.tail&&(this.tail=y.prev),this.length-=1)}iterator(y=this.head){return()=>{const m=y;return null!=y&&(y=y.next),m}}find(y,m=!1){const O=this.iterator();let B=O();for(;B;){const ge=B.length();if(y<ge||m&&y===ge&&(null==B.next||0!==B.next.length()))return[B,y];y-=ge,B=O()}return[null,0]}forEach(y){const m=this.iterator();let O=m();for(;O;)y(O),O=m()}forEachAt(y,m,O){if(m<=0)return;const[B,ge]=this.find(y);let $e=y-ge;const Et=this.iterator(B);let an=Et();for(;an&&$e<y+m;){const Cn=an.length();y>$e?O(an,y-$e,Math.min(m,$e+Cn-y)):O(an,0,Math.min(Cn,y+m-$e)),$e+=Cn,an=Et()}}map(y){return this.reduce((m,O)=>(m.push(y(O)),m),[])}reduce(y,m){const O=this.iterator();let B=O();for(;B;)m=y(m,B),B=O();return m}}function Td(A,y){const m=y.find(A);if(m)return m;try{return y.create(A)}catch{const O=y.create(Xn.INLINE);return Array.from(A.childNodes).forEach(B=>{O.domNode.appendChild(B)}),A.parentNode&&A.parentNode.replaceChild(O.domNode,A),O.attach(),O}}const Tr=(()=>{let A=class N_ extends rc{constructor(m,O){super(m,O),this.uiNode=null,this.build()}appendChild(m){this.insertBefore(m)}attach(){super.attach(),this.children.forEach(m=>{m.attach()})}attachUI(m){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=m,N_.uiClass&&this.uiNode.classList.add(N_.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Qc,Array.from(this.domNode.childNodes).filter(m=>m!==this.uiNode).reverse().forEach(m=>{try{const O=Td(m,this.scroll);this.insertBefore(O,this.children.head||void 0)}catch(O){if(O instanceof er)return;throw O}})}deleteAt(m,O){if(0===m&&O===this.length())return this.remove();this.children.forEachAt(m,O,(B,ge,$e)=>{B.deleteAt(ge,$e)})}descendant(m,O=0){const[B,ge]=this.children.find(O);return null==m.blotName&&m(B)||null!=m.blotName&&B instanceof m?[B,ge]:B instanceof N_?B.descendant(m,ge):[null,-1]}descendants(m,O=0,B=Number.MAX_VALUE){let ge=[],$e=B;return this.children.forEachAt(O,B,(Et,an,Cn)=>{(null==m.blotName&&m(Et)||null!=m.blotName&&Et instanceof m)&&ge.push(Et),Et instanceof N_&&(ge=ge.concat(Et.descendants(m,an,$e))),$e-=Cn}),ge}detach(){this.children.forEach(m=>{m.detach()}),super.detach()}enforceAllowedChildren(){let m=!1;this.children.forEach(O=>{m||this.statics.allowedChildren.some(B=>O instanceof B)||(O.statics.scope===Xn.BLOCK_BLOT?(null!=O.next&&this.splitAfter(O),null!=O.prev&&this.splitAfter(O.prev),O.parent.unwrap(),m=!0):O instanceof N_?O.unwrap():O.remove())})}formatAt(m,O,B,ge){this.children.forEachAt(m,O,($e,Et,an)=>{$e.formatAt(Et,an,B,ge)})}insertAt(m,O,B){const[ge,$e]=this.children.find(m);if(ge)ge.insertAt($e,O,B);else{const Et=null==B?this.scroll.create("text",O):this.scroll.create(O,B);this.appendChild(Et)}}insertBefore(m,O){null!=m.parent&&m.parent.children.remove(m);let B=null;this.children.insertBefore(m,O||null),m.parent=this,null!=O&&(B=O.domNode),(this.domNode.parentNode!==m.domNode||this.domNode.nextSibling!==B)&&this.domNode.insertBefore(m.domNode,B),m.attach()}length(){return this.children.reduce((m,O)=>m+O.length(),0)}moveChildren(m,O){this.children.forEach(B=>{m.insertBefore(B,O)})}optimize(m){if(super.optimize(m),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const O=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(O)}else this.remove()}path(m,O=!1){const[B,ge]=this.children.find(m,O),$e=[[this,m]];return B instanceof N_?$e.concat(B.path(ge,O)):(null!=B&&$e.push([B,ge]),$e)}removeChild(m){this.children.remove(m)}replaceWith(m,O){const B="string"==typeof m?this.scroll.create(m,O):m;return B instanceof N_&&this.moveChildren(B),super.replaceWith(B)}split(m,O=!1){if(!O){if(0===m)return this;if(m===this.length())return this.next}const B=this.clone();return this.parent&&this.parent.insertBefore(B,this.next||void 0),this.children.forEachAt(m,this.length(),(ge,$e,Et)=>{const an=ge.split($e,O);null!=an&&B.appendChild(an)}),B}splitAfter(m){const O=this.clone();for(;null!=m.next;)O.appendChild(m.next);return this.parent&&this.parent.insertBefore(O,this.next||void 0),O}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(m,O){const B=[],ge=[];m.forEach($e=>{$e.target===this.domNode&&"childList"===$e.type&&(B.push(...$e.addedNodes),ge.push(...$e.removedNodes))}),ge.forEach($e=>{if(null!=$e.parentNode&&"IFRAME"!==$e.tagName&&document.body.compareDocumentPosition($e)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const Et=this.scroll.find($e);null!=Et&&(null==Et.domNode.parentNode||Et.domNode.parentNode===this.domNode)&&Et.detach()}),B.filter($e=>$e.parentNode===this.domNode&&$e!==this.uiNode).sort(($e,Et)=>$e===Et?0:$e.compareDocumentPosition(Et)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach($e=>{let Et=null;null!=$e.nextSibling&&(Et=this.scroll.find($e.nextSibling));const an=Td($e,this.scroll);(an.next!==Et||null==an.next)&&(null!=an.parent&&an.parent.removeChild(this),this.insertBefore(an,Et||void 0))}),this.enforceAllowedChildren()}};return A.uiClass="",A})(),Mc=class o1 extends Tr{static create(y){return super.create(y)}static formats(y,m){const O=m.query(o1.blotName);if(null==O||y.tagName!==O.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()}}constructor(y,m){super(y,m),this.attributes=new ll(this.domNode)}format(y,m){if(y!==this.statics.blotName||m){const O=this.scroll.query(y,Xn.INLINE);if(null==O)return;O instanceof gi?this.attributes.attribute(O,m):m&&(y!==this.statics.blotName||this.formats()[y]!==m)&&this.replaceWith(y,m)}else this.children.forEach(O=>{O instanceof o1||(O=O.wrap(o1.blotName,!0)),this.attributes.copy(O)}),this.unwrap()}formats(){const y=this.attributes.values(),m=this.statics.formats(this.domNode,this.scroll);return null!=m&&(y[this.statics.blotName]=m),y}formatAt(y,m,O,B){null!=this.formats()[O]||this.scroll.query(O,Xn.ATTRIBUTE)?this.isolate(y,m).format(O,B):super.formatAt(y,m,O,B)}optimize(y){super.optimize(y);const m=this.formats();if(0===Object.keys(m).length)return this.unwrap();const O=this.next;O instanceof o1&&O.prev===this&&function bl(A,y){if(Object.keys(A).length!==Object.keys(y).length)return!1;for(const m in A)if(A[m]!==y[m])return!1;return!0}(m,O.formats())&&(O.moveChildren(this),O.remove())}replaceWith(y,m){const O=super.replaceWith(y,m);return this.attributes.copy(O),O}update(y,m){super.update(y,m),y.some(O=>O.target===this.domNode&&"attributes"===O.type)&&this.attributes.build()}wrap(y,m){const O=super.wrap(y,m);return O instanceof o1&&this.attributes.move(O),O}};Mc.allowedChildren=[Mc,ra],Mc.blotName="inline",Mc.scope=Xn.INLINE_BLOT,Mc.tagName="SPAN";const gs=Mc,Ar=class UD extends Tr{static create(y){return super.create(y)}static formats(y,m){const O=m.query(UD.blotName);if(null==O||y.tagName!==O.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()}}constructor(y,m){super(y,m),this.attributes=new ll(this.domNode)}format(y,m){const O=this.scroll.query(y,Xn.BLOCK);null!=O&&(O instanceof gi?this.attributes.attribute(O,m):y!==this.statics.blotName||m?m&&(y!==this.statics.blotName||this.formats()[y]!==m)&&this.replaceWith(y,m):this.replaceWith(UD.blotName))}formats(){const y=this.attributes.values(),m=this.statics.formats(this.domNode,this.scroll);return null!=m&&(y[this.statics.blotName]=m),y}formatAt(y,m,O,B){null!=this.scroll.query(O,Xn.BLOCK)?this.format(O,B):super.formatAt(y,m,O,B)}insertAt(y,m,O){if(null==O||null!=this.scroll.query(m,Xn.INLINE))super.insertAt(y,m,O);else{const B=this.split(y);if(null==B)throw new Error("Attempt to insertAt after block boundaries");{const ge=this.scroll.create(m,O);B.parent.insertBefore(ge,B)}}}replaceWith(y,m){const O=super.replaceWith(y,m);return this.attributes.copy(O),O}update(y,m){super.update(y,m),y.some(O=>O.target===this.domNode&&"attributes"===O.type)&&this.attributes.build()}};Ar.blotName="block",Ar.scope=Xn.BLOCK_BLOT,Ar.tagName="P",Ar.allowedChildren=[gs,Ar,ra];const Dc=Ar,Ic=class extends Tr{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(y,m){super.deleteAt(y,m),this.enforceAllowedChildren()}formatAt(y,m,O,B){super.formatAt(y,m,O,B),this.enforceAllowedChildren()}insertAt(y,m,O){super.insertAt(y,m,O),this.enforceAllowedChildren()}optimize(y){super.optimize(y),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ic.blotName="container",Ic.scope=Xn.BLOCK_BLOT;const Sd=Ic,dl=class Zc extends ra{static formats(y,m){}format(y,m){super.formatAt(0,this.length(),y,m)}formatAt(y,m,O,B){0===y&&m===this.length()?this.format(O,B):super.formatAt(y,m,O,B)}formats(){return this.statics.formats(this.domNode,this.scroll)}},lp={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Rr=class extends Tr{constructor(y,m){super(null,m),this.registry=y,this.scroll=this,this.build(),this.observer=new MutationObserver(O=>{this.update(O)}),this.observer.observe(this.domNode,lp),this.attach()}create(y,m){return this.registry.create(this,y,m)}find(y,m=!1){const O=this.registry.find(y,m);return O?O.scroll===this?O:m?this.find(O.scroll.domNode.parentNode,!0):null:null}query(y,m=Xn.ANY){return this.registry.query(y,m)}register(...y){return this.registry.register(...y)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(y,m){this.update(),0===y&&m===this.length()?this.children.forEach(O=>{O.remove()}):super.deleteAt(y,m)}formatAt(y,m,O,B){this.update(),super.formatAt(y,m,O,B)}insertAt(y,m,O){this.update(),super.insertAt(y,m,O)}optimize(y=[],m={}){super.optimize(m);const O=m.mutationsMap||new WeakMap;let B=Array.from(this.observer.takeRecords());for(;B.length>0;)y.push(B.pop());const ge=(an,Cn=!0)=>{null==an||an===this||null!=an.domNode.parentNode&&(O.has(an.domNode)||O.set(an.domNode,[]),Cn&&ge(an.parent))},$e=an=>{O.has(an.domNode)&&(an instanceof Tr&&an.children.forEach($e),O.delete(an.domNode),an.optimize(m))};let Et=y;for(let an=0;Et.length>0;an+=1){if(an>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(Et.forEach(Cn=>{const zn=this.find(Cn.target,!0);null!=zn&&(zn.domNode===Cn.target&&("childList"===Cn.type?(ge(this.find(Cn.previousSibling,!1)),Array.from(Cn.addedNodes).forEach(ni=>{const Fi=this.find(ni,!1);ge(Fi,!1),Fi instanceof Tr&&Fi.children.forEach(is=>{ge(is,!1)})})):"attributes"===Cn.type&&ge(zn.prev)),ge(zn))}),this.children.forEach($e),Et=Array.from(this.observer.takeRecords()),B=Et.slice();B.length>0;)y.push(B.pop())}}update(y,m={}){y=y||this.observer.takeRecords();const O=new WeakMap;y.map(B=>{const ge=this.find(B.target,!0);return null==ge?null:O.has(ge.domNode)?(O.get(ge.domNode).push(B),null):(O.set(ge.domNode,[B]),ge)}).forEach(B=>{null!=B&&B!==this&&O.has(B.domNode)&&B.update(O.get(B.domNode)||[],m)}),m.mutationsMap=O,O.has(this.domNode)&&super.update(O.get(this.domNode),m),this.optimize(y,m)}};Rr.blotName="scroll",Rr.defaultChild=Dc,Rr.allowedChildren=[Dc,Sd],Rr.scope=Xn.BLOCK_BLOT,Rr.tagName="DIV";const qa=Rr,jo=class xw extends ra{static create(y){return document.createTextNode(y)}static value(y){return y.data}constructor(y,m){super(y,m),this.text=this.statics.value(this.domNode)}deleteAt(y,m){this.domNode.data=this.text=this.text.slice(0,y)+this.text.slice(y+m)}index(y,m){return this.domNode===y?m:-1}insertAt(y,m,O){null==O?(this.text=this.text.slice(0,y)+m+this.text.slice(y),this.domNode.data=this.text):super.insertAt(y,m,O)}length(){return this.text.length}optimize(y){super.optimize(y),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof xw&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(y,m=!1){return[this.domNode,y]}split(y,m=!1){if(!m){if(0===y)return this;if(y===this.length())return this.next}const O=this.scroll.create(this.domNode.splitText(y));return this.parent.insertBefore(O,this.next||void 0),this.text=this.statics.value(this.domNode),O}update(y,m){y.some(O=>"characterData"===O.type&&O.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};jo.blotName="text",jo.scope=Xn.INLINE_BLOT;const Md=jo;var Ai=l(2577);const ih=De(Object.keys,Object);var nv=Object.prototype.hasOwnProperty;const sh=function dp(A){return Xa(A)?lr(A):function iv(A){if(!yi(A))return ih(A);var y=[];for(var m in Object(A))nv.call(A,m)&&"constructor"!=m&&y.push(m);return y}(A)},Lo=function yl(){return[]};var fu=Object.prototype.propertyIsEnumerable,No=Object.getOwnPropertySymbols,Sr=No?function(A){return null==A?[]:(A=Object(A),function Pi(A,y){for(var m=-1,O=null==A?0:A.length,B=0,ge=[];++m<O;){var $e=A[m];y($e,m,A)&&(ge[B++]=$e)}return ge}(No(A),function(y){return fu.call(A,y)}))}:Lo;const aa=Sr,Id=function j_(A,y){for(var m=-1,O=y.length,B=A.length;++m<O;)A[B+m]=y[m];return A};var td=Object.getOwnPropertySymbols?function(A){for(var y=[];A;)Id(y,aa(A)),A=Ce(A);return y}:Lo;const ul=td,ba=function U_(A,y,m){var O=y(A);return sa(A)?O:Id(O,m(A))},_o=function gr(A){return ba(A,sh,aa)},Qh=function Xi(A){return ba(A,nc,ul)},Pr=Ks(ze,"DataView"),wd=Ks(ze,"Promise"),xd=Ks(ze,"Set"),Lr=Ks(ze,"WeakMap");var Jh="[object Map]",_u="[object Promise]",vr="[object Set]",Oc="[object WeakMap]",Rd="[object DataView]",V_=Pn(Pr),Zh=Pn(zs),G_=Pn(wd),up=Pn(xd),wc=Pn(Lr),nr=Ki;(Pr&&nr(new Pr(new ArrayBuffer(1)))!=Rd||zs&&nr(new zs)!=Jh||wd&&nr(wd.resolve())!=_u||xd&&nr(new xd)!=vr||Lr&&nr(new Lr)!=Oc)&&(nr=function(A){var y=Ki(A),m="[object Object]"==y?A.constructor:void 0,O=m?Pn(m):"";if(O)switch(O){case V_:return Rd;case Zh:return Jh;case G_:return _u;case up:return vr;case wc:return Oc}return y});const mu=nr;var gu=Object.prototype.hasOwnProperty;var fp=/\w*$/;var id=it?it.prototype:void 0,Fd=id?id.valueOf:void 0;const la=function lh(A,y,m){var O=A.constructor;switch(y){case"[object ArrayBuffer]":return Xo(A);case"[object Boolean]":case"[object Date]":return new O(+A);case"[object DataView]":return function nd(A,y){var m=y?Xo(A.buffer):A.buffer;return new A.constructor(m,A.byteOffset,A.byteLength)}(A,m);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Kr(A,m);case"[object Map]":case"[object Set]":return new O;case"[object Number]":case"[object String]":return new O(A);case"[object RegExp]":return function vu(A){var y=new A.constructor(A.source,fp.exec(A));return y.lastIndex=A.lastIndex,y}(A);case"[object Symbol]":return function qh(A){return Fd?Object(Fd.call(A)):{}}(A)}};var wa=zr&&zr.isMap;const ch=wa?Qs(wa):function bu(A){return Hi(A)&&"[object Map]"==mu(A)};var sf=zr&&zr.isSet;const Ld=sf?Qs(sf):function dr(A){return Hi(A)&&"[object Set]"==mu(A)};var Y="[object Arguments]",Rn="[object Function]",fs="[object Object]",Bo={};Bo[Y]=Bo["[object Array]"]=Bo["[object ArrayBuffer]"]=Bo["[object DataView]"]=Bo["[object Boolean]"]=Bo["[object Date]"]=Bo["[object Float32Array]"]=Bo["[object Float64Array]"]=Bo["[object Int8Array]"]=Bo["[object Int16Array]"]=Bo["[object Int32Array]"]=Bo["[object Map]"]=Bo["[object Number]"]=Bo[fs]=Bo["[object RegExp]"]=Bo["[object Set]"]=Bo["[object String]"]=Bo["[object Symbol]"]=Bo["[object Uint8Array]"]=Bo["[object Uint8ClampedArray]"]=Bo["[object Uint16Array]"]=Bo["[object Uint32Array]"]=!0,Bo["[object Error]"]=Bo[Rn]=Bo["[object WeakMap]"]=!1;const $y=function lf(A,y,m,O,B,ge){var $e,Et=1&y,an=2&y,Cn=4&y;if(m&&($e=B?m(A,O,B,ge):m(A)),void 0!==$e)return $e;if(!ts(A))return A;var zn=sa(A);if(zn){if($e=function jl(A){var y=A.length,m=new A.constructor(y);return y&&"string"==typeof A[0]&&gu.call(A,"index")&&(m.index=A.index,m.input=A.input),m}(A),!Et)return Wn(A,$e)}else{var ni=mu(A),Fi=ni==Rn||"[object GeneratorFunction]"==ni;if(Ys(A))return lo(A,Et);if(ni==fs||ni==Y||Fi&&!B){if($e=an||Fi?{}:Ns(A),!Et)return an?function Bl(A,y){return zc(A,ul(A),y)}(A,function tr(A,y){return A&&zc(y,nc(y),A)}($e,A)):function _s(A,y){return zc(A,aa(A),y)}(A,function ac(A,y){return A&&zc(y,sh(y),A)}($e,A))}else{if(!Bo[ni])return B?A:{};$e=la(A,ni,Et)}}ge||(ge=new sr);var is=ge.get(A);if(is)return is;ge.set(A,$e),Ld(A)?A.forEach(function(mo){$e.add(lf(mo,y,m,mo,A,ge))}):ch(A)&&A.forEach(function(mo,ms){$e.set(ms,lf(mo,y,m,ms,A,ge))});var Vs=zn?void 0:(Cn?an?Qh:_o:an?nc:sh)(A);return function Hr(A,y){for(var m=-1,O=null==A?0:A.length;++m<O&&!1!==y(A[m],m,A););}(Vs||A,function(mo,ms){Vs&&(mo=A[ms=mo]),va($e,ms,lf(mo,y,m,ms,A,ge))}),$e},dh=function c1(A){return $y(A,5)};function ad(A){var y=-1,m=null==A?0:A.length;for(this.__data__=new xo;++y<m;)this.add(A[y])}ad.prototype.add=ad.prototype.push=function cc(A){return this.__data__.set(A,"__lodash_hash_undefined__"),this},ad.prototype.has=function Ac(A){return this.__data__.has(A)};const em=ad,jy=function Bd(A,y){for(var m=-1,O=null==A?0:A.length;++m<O;)if(y(A[m],m,A))return!0;return!1},hl=function Rc(A,y){return A.has(y)},hh=function Ds(A,y,m,O,B,ge){var $e=1&m,Et=A.length,an=y.length;if(Et!=an&&!($e&&an>Et))return!1;var Cn=ge.get(A),zn=ge.get(y);if(Cn&&zn)return Cn==y&&zn==A;var ni=-1,Fi=!0,is=2&m?new em:void 0;for(ge.set(A,y),ge.set(y,A);++ni<Et;){var us=A[ni],Vs=y[ni];if(O)var mo=$e?O(Vs,us,ni,y,A,ge):O(us,Vs,ni,A,y,ge);if(void 0!==mo){if(mo)continue;Fi=!1;break}if(is){if(!jy(y,function(ms,br){if(!hl(is,br)&&(us===ms||B(us,ms,m,O,ge)))return is.push(br)})){Fi=!1;break}}else if(us!==Vs&&!B(us,Vs,m,O,ge)){Fi=!1;break}}return ge.delete(A),ge.delete(y),Fi},av=function fh(A){var y=-1,m=Array(A.size);return A.forEach(function(O,B){m[++y]=[B,O]}),m},lv=function $d(A){var y=-1,m=Array(A.size);return A.forEach(function(O){m[++y]=O}),m};var Jr=it?it.prototype:void 0,nm=Jr?Jr.valueOf:void 0;var cf=Object.prototype.hasOwnProperty;var mh="[object Arguments]",om="[object Array]",Eu="[object Object]",uv=Object.prototype.hasOwnProperty;const Cl=function p1(A,y,m,O,B,ge){var $e=sa(A),Et=sa(y),an=$e?om:mu(A),Cn=Et?om:mu(y),zn=(an=an==mh?Eu:an)==Eu,ni=(Cn=Cn==mh?Eu:Cn)==Eu,Fi=an==Cn;if(Fi&&Ys(A)){if(!Ys(y))return!1;$e=!0,zn=!1}if(Fi&&!zn)return ge||(ge=new sr),$e||Pa(A)?hh(A,y,m,O,B,ge):function Dp(A,y,m,O,B,ge,$e){switch(m){case"[object DataView]":if(A.byteLength!=y.byteLength||A.byteOffset!=y.byteOffset)return!1;A=A.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=y.byteLength||!ge(new Gr(A),new Gr(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ie(+A,+y);case"[object Error]":return A.name==y.name&&A.message==y.message;case"[object RegExp]":case"[object String]":return A==y+"";case"[object Map]":var Et=av;case"[object Set]":if(Et||(Et=lv),A.size!=y.size&&!(1&O))return!1;var Cn=$e.get(A);if(Cn)return Cn==y;O|=2,$e.set(A,y);var zn=hh(Et(A),Et(y),O,B,ge,$e);return $e.delete(A),zn;case"[object Symbol]":if(nm)return nm.call(A)==nm.call(y)}return!1}(A,y,an,m,O,B,ge);if(!(1&m)){var is=zn&&uv.call(A,"__wrapped__"),us=ni&&uv.call(y,"__wrapped__");if(is||us){var Vs=is?A.value():A,mo=us?y.value():y;return ge||(ge=new sr),B(Vs,mo,m,O,ge)}}return!!Fi&&(ge||(ge=new sr),function sm(A,y,m,O,B,ge){var $e=1&m,Et=_o(A),an=Et.length;if(an!=_o(y).length&&!$e)return!1;for(var ni=an;ni--;){var Fi=Et[ni];if(!($e?Fi in y:cf.call(y,Fi)))return!1}var is=ge.get(A),us=ge.get(y);if(is&&us)return is==y&&us==A;var Vs=!0;ge.set(A,y),ge.set(y,A);for(var mo=$e;++ni<an;){var ms=A[Fi=Et[ni]],br=y[Fi];if(O)var hg=$e?O(br,ms,Fi,y,A,ge):O(ms,br,Fi,A,y,ge);if(!(void 0===hg?ms===br||B(ms,br,m,O,ge):hg)){Vs=!1;break}mo||(mo="constructor"==Fi)}if(Vs&&!mo){var vd=A.constructor,iu=y.constructor;vd!=iu&&"constructor"in A&&"constructor"in y&&!("function"==typeof vd&&vd instanceof vd&&"function"==typeof iu&&iu instanceof iu)&&(Vs=!1)}return ge.delete(A),ge.delete(y),Vs}(A,y,m,O,B,ge))},lm=function am(A,y,m,O,B){return A===y||(null==A||null==y||!Hi(A)&&!Hi(y)?A!=A&&y!=y:Cl(A,y,m,O,am,B))},Cu=function ld(A,y){return lm(A,y)},cd=(()=>{class A extends dl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return A.blotName="break",A.tagName="BR",A})();class tl extends Md{}function xp(A){return A.replace(/[&<>"']/g,y=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[y]))}const dc=(()=>{class A extends gs{static allowedChildren=[A,cd,dl,tl];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(m,O){const B=A.order.indexOf(m),ge=A.order.indexOf(O);return B>=0||ge>=0?B-ge:m===O?0:m<O?-1:1}formatAt(m,O,B,ge){if(A.compare(this.statics.blotName,B)<0&&this.scroll.query(B,Xn.BLOT)){const $e=this.isolate(m,O);ge&&$e.wrap(B,ge)}else super.formatAt(m,O,B,ge)}optimize(m){if(super.optimize(m),this.parent instanceof A&&A.compare(this.statics.blotName,this.parent.statics.blotName)>0){const O=this.parent.isolate(this.offset(),this.length());this.moveChildren(O),O.wrap(this)}}}return A})();let Na=(()=>{class A extends Dc{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=fv(this)),this.cache.delta}deleteAt(m,O){super.deleteAt(m,O),this.cache={}}formatAt(m,O,B,ge){O<=0||(this.scroll.query(B,Xn.BLOCK)?m+O===this.length()&&this.format(B,ge):super.formatAt(m,Math.min(O,this.length()-m-1),B,ge),this.cache={})}insertAt(m,O,B){if(null!=B)return super.insertAt(m,O,B),void(this.cache={});if(0===O.length)return;const ge=O.split("\n"),$e=ge.shift();$e.length>0&&(m<this.length()-1||null==this.children.tail?super.insertAt(Math.min(m,this.length()-1),$e):this.children.tail.insertAt(this.children.tail.length(),$e),this.cache={});let Et=this;ge.reduce((an,Cn)=>(Et=Et.split(an,!0),Et.insertAt(0,Cn),Cn.length),m+$e.length)}insertBefore(m,O){const{head:B}=this.children;super.insertBefore(m,O),B instanceof cd&&B.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(m,O){super.moveChildren(m,O),this.cache={}}optimize(m){super.optimize(m),this.cache={}}path(m){return super.path(m,!0)}removeChild(m){super.removeChild(m),this.cache={}}split(m){let O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(O&&(0===m||m>=this.length()-1)){const ge=this.clone();return 0===m?(this.parent.insertBefore(ge,this),this):(this.parent.insertBefore(ge,this.next),ge)}const B=super.split(m,O);return this.cache={},B}}return A.blotName="block",A.tagName="P",A.defaultChild=cd,A.allowedChildren=[cd,dc,dl,tl],A})();class Tl extends dl{attach(){super.attach(),this.attributes=new ll(this.domNode)}delta(){return(new Ai).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(y,m){const O=this.scroll.query(y,Xn.BLOCK_ATTRIBUTE);null!=O&&this.attributes.attribute(O,m)}formatAt(y,m,O,B){this.format(O,B)}insertAt(y,m,O){if(null!=O)return void super.insertAt(y,m,O);const B=m.split("\n"),ge=B.pop(),$e=B.map(an=>{const Cn=this.scroll.create(Na.blotName);return Cn.insertAt(0,an),Cn}),Et=this.split(y);$e.forEach(an=>{this.parent.insertBefore(an,Et)}),ge&&this.parent.insertBefore(this.scroll.create("text",ge),Et)}}function fv(A){let y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return A.descendants(ra).reduce((m,O)=>0===O.length()?m:m.insert(O.value(),Nr(O,{},y)),new Ai).insert("\n",Nr(A))}function Nr(A){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==A||("formats"in A&&"function"==typeof A.formats&&(y={...y,...A.formats()},m&&delete y["code-token"]),null==A.parent||"scroll"===A.parent.statics.blotName||A.parent.statics.scope!==A.statics.scope)?y:Nr(A.parent,y,m)}Tl.scope=Xn.BLOCK_BLOT;const dd=(()=>{class A extends dl{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(m,O,B){super(m,O),this.selection=B,this.textNode=document.createTextNode(A.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(m,O){if(0!==this.savedLength)return void super.format(m,O);let B=this,ge=0;for(;null!=B&&B.statics.scope!==Xn.BLOCK_BLOT;)ge+=B.offset(B.parent),B=B.parent;null!=B&&(this.savedLength=A.CONTENTS.length,B.optimize(),B.formatAt(ge,A.CONTENTS.length,m,O),this.savedLength=0)}index(m,O){return m===this.textNode?0:super.index(m,O)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const m=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const O=this.prev instanceof tl?this.prev:null,B=O?O.length():0,ge=this.next instanceof tl?this.next:null,$e=ge?ge.text:"",{textNode:Et}=this,an=Et.data.split(A.CONTENTS).join("");let Cn;if(Et.data=A.CONTENTS,O)Cn=O,(an||ge)&&(O.insertAt(O.length(),an+$e),ge&&ge.remove());else if(ge)Cn=ge,ge.insertAt(0,an);else{const zn=document.createTextNode(an);Cn=this.scroll.create(zn),this.parent.insertBefore(Cn,this)}if(this.remove(),m){const zn=(is,us)=>O&&is===O.domNode?us:is===Et?B+us-1:ge&&is===ge.domNode?B+an.length+us:null,ni=zn(m.start.node,m.start.offset),Fi=zn(m.end.node,m.end.offset);if(null!==ni&&null!==Fi)return{startNode:Cn.domNode,startOffset:ni,endNode:Cn.domNode,endOffset:Fi}}return null}update(m,O){if(m.some(B=>"characterData"===B.type&&B.target===this.textNode)){const B=this.restore();B&&(O.range=B)}}optimize(m){super.optimize(m);let{parent:O}=this;for(;O;){if("A"===O.domNode.tagName){this.savedLength=A.CONTENTS.length,O.isolate(this.offset(O),this.length()).unwrap(),this.savedLength=0;break}O=O.parent}}value(){return""}}return A})();var Ap=l(9280);const uc=new WeakMap,df=["error","warn","log","info"];let dm="warn";function um(A){if(dm&&df.indexOf(A)<=df.indexOf(dm)){for(var y=arguments.length,m=new Array(y>1?y-1:0),O=1;O<y;O++)m[O-1]=arguments[O];console[A](...m)}}function Rp(A){return df.reduce((y,m)=>(y[m]=um.bind(console,m,A),y),{})}Rp.level=A=>{dm=A},um.level=Rp.level;const ud=Rp,gh=ud("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(A=>{document.addEventListener(A,function(){for(var y=arguments.length,m=new Array(y),O=0;O<y;O++)m[O]=arguments[O];Array.from(document.querySelectorAll(".ql-container")).forEach(B=>{const ge=uc.get(B);ge&&ge.emitter&&ge.emitter.handleDOM(...m)})})});const $i=(()=>class A extends Ap{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",gh.error)}emit(){for(var m=arguments.length,O=new Array(m),B=0;B<m;B++)O[B]=arguments[B];return gh.log.call(gh,...O),super.emit(...O)}handleDOM(m){for(var O=arguments.length,B=new Array(O>1?O-1:0),ge=1;ge<O;ge++)B[ge-1]=arguments[ge];(this.domListeners[m.type]||[]).forEach($e=>{let{node:Et,handler:an}=$e;(m.target===Et||Et.contains(m.target))&&an(m,...B)})}listenDOM(m,O,B){this.domListeners[m]||(this.domListeners[m]=[]),this.domListeners[m].push({node:O,handler:B})}})(),hm=ud("quill:selection");class jd{constructor(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=y,this.length=m}}function Ud(A,y){return A.contains(y)}const Vl=class fm{constructor(y,m){this.emitter=m,this.scroll=y,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new jd(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$i.sources.USER),1)}),this.emitter.on($i.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const O=this.getNativeRange();null!=O&&O.start.node!==this.cursor.textNode&&this.emitter.once($i.events.SCROLL_UPDATE,(B,ge)=>{try{this.root.contains(O.start.node)&&this.root.contains(O.end.node)&&this.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset);const $e=ge.some(Et=>"characterData"===Et.type||"childList"===Et.type||"attributes"===Et.type&&Et.target===this.root);this.update($e?$i.sources.SILENT:B)}catch{}})}),this.emitter.on($i.events.SCROLL_OPTIMIZE,(O,B)=>{if(B.range){const{startNode:ge,startOffset:$e,endNode:Et,endOffset:an}=B.range;this.setNativeRange(ge,$e,Et,an),this.update($i.sources.SILENT)}}),this.update($i.sources.SILENT)}handleComposition(){this.emitter.on($i.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($i.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const y=this.cursor.restore();if(!y)return;setTimeout(()=>{this.setNativeRange(y.startNode,y.startOffset,y.endNode,y.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($i.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(y,m){this.scroll.update();const O=this.getNativeRange();if(null!=O&&O.native.collapsed&&!this.scroll.query(y,Xn.BLOCK)){if(O.start.node!==this.cursor.textNode){const B=this.scroll.find(O.start.node,!1);if(null==B)return;if(B instanceof ra){const ge=B.split(O.start.offset);B.parent.insertBefore(this.cursor,ge)}else B.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(y,m),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const O=this.scroll.length();y=Math.min(y,O-1),m=Math.min(y+m,O-1)-y;let B,[ge,$e]=this.scroll.leaf(y);if(null==ge)return null;if(m>0&&$e===ge.length()){const[zn]=this.scroll.leaf(y+1);if(zn){const[ni]=this.scroll.line(y),[Fi]=this.scroll.line(y+1);ni===Fi&&(ge=zn,$e=0)}}[B,$e]=ge.position($e,!0);const Et=document.createRange();if(m>0)return Et.setStart(B,$e),[ge,$e]=this.scroll.leaf(y+m),null==ge?null:([B,$e]=ge.position($e,!0),Et.setEnd(B,$e),Et.getBoundingClientRect());let Cn,an="left";if(B instanceof Text){if(!B.data.length)return null;$e<B.data.length?(Et.setStart(B,$e),Et.setEnd(B,$e+1)):(Et.setStart(B,$e-1),Et.setEnd(B,$e),an="right"),Cn=Et.getBoundingClientRect()}else{if(!(ge.domNode instanceof Element))return null;Cn=ge.domNode.getBoundingClientRect(),$e>0&&(an="right")}return{bottom:Cn.top+Cn.height,height:Cn.height,left:Cn[an],right:Cn[an],top:Cn.top,width:0}}getNativeRange(){const y=document.getSelection();if(null==y||y.rangeCount<=0)return null;const m=y.getRangeAt(0);if(null==m)return null;const O=this.normalizeNative(m);return hm.info("getNativeRange",O),O}getRange(){const y=this.scroll.domNode;if("isConnected"in y&&!y.isConnected)return[null,null];const m=this.getNativeRange();return null==m?[null,null]:[this.normalizedToRange(m),m]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&Ud(this.root,document.activeElement)}normalizedToRange(y){const m=[[y.start.node,y.start.offset]];y.native.collapsed||m.push([y.end.node,y.end.offset]);const O=m.map($e=>{const[Et,an]=$e,Cn=this.scroll.find(Et,!0),zn=Cn.offset(this.scroll);return 0===an?zn:Cn instanceof ra?zn+Cn.index(Et,an):zn+Cn.length()}),B=Math.min(Math.max(...O),this.scroll.length()-1),ge=Math.min(B,...O);return new jd(ge,B-ge)}normalizeNative(y){if(!Ud(this.root,y.startContainer)||!y.collapsed&&!Ud(this.root,y.endContainer))return null;const m={start:{node:y.startContainer,offset:y.startOffset},end:{node:y.endContainer,offset:y.endOffset},native:y};return[m.start,m.end].forEach(O=>{let{node:B,offset:ge}=O;for(;!(B instanceof Text)&&B.childNodes.length>0;)if(B.childNodes.length>ge)B=B.childNodes[ge],ge=0;else{if(B.childNodes.length!==ge)break;B=B.lastChild,ge=B instanceof Text?B.data.length:B.childNodes.length>0?B.childNodes.length:B.childNodes.length+1}O.node=B,O.offset=ge}),m}rangeToNative(y){const m=this.scroll.length(),O=(B,ge)=>{B=Math.min(m-1,B);const[$e,Et]=this.scroll.leaf(B);return $e?$e.position(Et,ge):[null,-1]};return[...O(y.index,!1),...O(y.index+y.length,!0)]}setNativeRange(y,m){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,ge=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(hm.info("setNativeRange",y,m,O,B),null!=y&&(null==this.root.parentNode||null==y.parentNode||null==O.parentNode))return;const $e=document.getSelection();if(null!=$e)if(null!=y){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:Et}=this.getNativeRange()||{};if(null==Et||ge||y!==Et.startContainer||m!==Et.startOffset||O!==Et.endContainer||B!==Et.endOffset){y instanceof Element&&"BR"===y.tagName&&(m=Array.from(y.parentNode.childNodes).indexOf(y),y=y.parentNode),O instanceof Element&&"BR"===O.tagName&&(B=Array.from(O.parentNode.childNodes).indexOf(O),O=O.parentNode);const an=document.createRange();an.setStart(y,m),an.setEnd(O,B),$e.removeAllRanges(),$e.addRange(an)}}else $e.removeAllRanges(),this.root.blur()}setRange(y){let m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$i.sources.API;if("string"==typeof m&&(O=m,m=!1),hm.info("setRange",y),null!=y){const B=this.rangeToNative(y);this.setNativeRange(...B,m)}else this.setNativeRange(null);this.update(O)}update(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i.sources.USER;const m=this.lastRange,[O,B]=this.getRange();if(this.lastRange=O,this.lastNative=B,null!=this.lastRange&&(this.savedRange=this.lastRange),!Cu(m,this.lastRange)){if(!this.composing&&null!=B&&B.native.collapsed&&B.start.node!==this.cursor.textNode){const $e=this.cursor.restore();$e&&this.setNativeRange($e.startNode,$e.startOffset,$e.endNode,$e.endOffset)}const ge=[$i.events.SELECTION_CHANGE,dh(this.lastRange),dh(m),y];this.emitter.emit($i.events.EDITOR_CHANGE,...ge),y!==$i.sources.SILENT&&this.emitter.emit(...ge)}}},Zr=/^[ -~]*$/;function Tu(A,y,m){if(0===A.length){const[is]=Fp(m.pop());return y<=0?`</li></${is}>`:`</li></${is}>${Tu([],y-1,m)}`}const[{child:O,offset:B,length:ge,indent:$e,type:Et},...an]=A,[Cn,zn]=Fp(Et);if($e>y)return m.push(Et),$e===y+1?`<${Cn}><li${zn}>${Su(O,B,ge)}${Tu(an,$e,m)}`:`<${Cn}><li>${Tu(A,y+1,m)}`;if($e===y&&Et===m[m.length-1])return`</li><li${zn}>${Su(O,B,ge)}${Tu(an,$e,m)}`;const[Fi]=Fp(m.pop());return`</li></${Fi}>${Tu(A,y-1,m)}`}function Su(A,y,m){let O=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in A&&"function"==typeof A.html)return A.html(y,m);if(A instanceof tl)return xp(A.value().slice(y,y+m));if(A instanceof Tr){if("list-container"===A.statics.blotName){const Cn=[];return A.children.forEachAt(y,m,(zn,ni,Fi)=>{const is="formats"in zn&&"function"==typeof zn.formats?zn.formats():{};Cn.push({child:zn,offset:ni,length:Fi,indent:is.indent||0,type:is.list})}),Tu(Cn,-1,[])}const B=[];if(A.children.forEachAt(y,m,(Cn,zn,ni)=>{B.push(Su(Cn,zn,ni))}),O||"list"===A.statics.blotName)return B.join("");const{outerHTML:ge,innerHTML:$e}=A.domNode,[Et,an]=ge.split(`>${$e}<`);return"<table"===Et?`<table style="border: 1px solid #000;">${B.join("")}<${an}`:`${Et}>${B.join("")}<${an}`}return A.domNode instanceof Element?A.domNode.outerHTML:""}function Vd(A,y){return Object.keys(y).reduce((m,O)=>{if(null==A[O])return m;const B=y[O];return m[O]=B===A[O]?B:Array.isArray(B)?B.indexOf(A[O])<0?B.concat([A[O]]):B:[B,A[O]],m},{})}function Fp(A){const y="ordered"===A?"ol":"ul";switch(A){case"checked":return[y,' data-list="checked"'];case"unchecked":return[y,' data-list="unchecked"'];default:return[y,""]}}function uf(A){return A.reduce((y,m)=>{if("string"==typeof m.insert){const O=m.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return y.insert(O,m.attributes)}return y.push(m)},new Ai)}function pm(A,y){let{index:m,length:O}=A;return new jd(m+y,O)}const Pp=class m1{constructor(y){this.scroll=y,this.delta=this.getDelta()}applyDelta(y){this.scroll.update();let m=this.scroll.length();this.scroll.batchStart();const O=uf(y),B=new Ai;return function _v(A){const y=[];return A.forEach(m=>{"string"==typeof m.insert?m.insert.split("\n").forEach((B,ge)=>{ge&&y.push({insert:"\n",attributes:m.attributes}),B&&y.push({insert:B,attributes:m.attributes})}):y.push(m)}),y}(O.ops.slice()).reduce(($e,Et)=>{const an=Ai.Op.length(Et);let Cn=Et.attributes||{},zn=!1,ni=!1;if(null!=Et.insert){if(B.retain(an),"string"==typeof Et.insert){const us=Et.insert;ni=!us.endsWith("\n")&&(m<=$e||!!this.scroll.descendant(Tl,$e)[0]),this.scroll.insertAt($e,us);const[Vs,mo]=this.scroll.line($e);let ms=oi({},Nr(Vs));if(Vs instanceof Na){const[br]=Vs.descendant(ra,mo);br&&(ms=oi(ms,Nr(br)))}Cn=Ai.AttributeMap.diff(ms,Cn)||{}}else if("object"==typeof Et.insert){const us=Object.keys(Et.insert)[0];if(null==us)return $e;const Vs=null!=this.scroll.query(us,Xn.INLINE);if(Vs)(m<=$e||this.scroll.descendant(Tl,$e)[0])&&(ni=!0);else if($e>0){const[mo,ms]=this.scroll.descendant(ra,$e-1);mo instanceof tl?"\n"!==mo.value()[ms]&&(zn=!0):mo instanceof dl&&mo.statics.scope===Xn.INLINE_BLOT&&(zn=!0)}if(this.scroll.insertAt($e,us,Et.insert[us]),Vs){const[mo]=this.scroll.descendant(ra,$e);if(mo){const ms=oi({},Nr(mo));Cn=Ai.AttributeMap.diff(ms,Cn)||{}}}}m+=an}else if(B.push(Et),null!==Et.retain&&"object"==typeof Et.retain){const us=Object.keys(Et.retain)[0];if(null==us)return $e;this.scroll.updateEmbedAt($e,us,Et.retain[us])}Object.keys(Cn).forEach(us=>{this.scroll.formatAt($e,an,us,Cn[us])});const Fi=zn?1:0,is=ni?1:0;return m+=Fi+is,B.retain(Fi),B.delete(is),$e+an+Fi+is},0),B.reduce(($e,Et)=>"number"==typeof Et.delete?(this.scroll.deleteAt($e,Et.delete),$e):$e+Ai.Op.length(Et),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(O)}deleteText(y,m){return this.scroll.deleteAt(y,m),this.update((new Ai).retain(y).delete(m))}formatLine(y,m){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(O).forEach(ge=>{this.scroll.lines(y,Math.max(m,1)).forEach($e=>{$e.format(ge,O[ge])})}),this.scroll.optimize();const B=(new Ai).retain(y).retain(m,dh(O));return this.update(B)}formatText(y,m){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(O).forEach(ge=>{this.scroll.formatAt(y,m,ge,O[ge])});const B=(new Ai).retain(y).retain(m,dh(O));return this.update(B)}getContents(y,m){return this.delta.slice(y,y+m)}getDelta(){return this.scroll.lines().reduce((y,m)=>y.concat(m.delta()),new Ai)}getFormat(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,O=[],B=[];0===m?this.scroll.path(y).forEach(Et=>{const[an]=Et;an instanceof Na?O.push(an):an instanceof ra&&B.push(an)}):(O=this.scroll.lines(y,m),B=this.scroll.descendants(ra,y,m));const[ge,$e]=[O,B].map(Et=>{const an=Et.shift();if(null==an)return{};let Cn=Nr(an);for(;Object.keys(Cn).length>0;){const zn=Et.shift();if(null==zn)return Cn;Cn=Vd(Nr(zn),Cn)}return Cn});return{...ge,...$e}}getHTML(y,m){const[O,B]=this.scroll.line(y);if(O){const ge=O.length();return O.length()>=B+m&&(0!==B||m!==ge)?Su(O,B,m,!0):Su(this.scroll,y,m,!0)}return""}getText(y,m){return this.getContents(y,m).filter(O=>"string"==typeof O.insert).map(O=>O.insert).join("")}insertContents(y,m){const O=uf(m),B=(new Ai).retain(y).concat(O);return this.scroll.insertContents(y,O),this.update(B)}insertEmbed(y,m,O){return this.scroll.insertAt(y,m,O),this.update((new Ai).retain(y).insert({[m]:O}))}insertText(y,m){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m=m.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(y,m),Object.keys(O).forEach(B=>{this.scroll.formatAt(y,m.length,B,O[B])}),this.update((new Ai).retain(y).insert(m,dh(O)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const y=this.scroll.children.head;return y?.statics.blotName===Na.blotName&&(!(y.children.length>1)&&y.children.head instanceof cd)}removeFormat(y,m){const O=this.getText(y,m),[B,ge]=this.scroll.line(y+m);let $e=0,Et=new Ai;null!=B&&($e=B.length()-ge,Et=B.delta().slice(ge,ge+$e-1).insert("\n"));const Cn=this.getContents(y,m+$e).diff((new Ai).insert(O).concat(Et)),zn=(new Ai).retain(y).concat(Cn);return this.applyDelta(zn)}update(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const B=this.delta;if(1===m.length&&"characterData"===m[0].type&&m[0].target.data.match(Zr)&&this.scroll.find(m[0].target)){const ge=this.scroll.find(m[0].target),$e=Nr(ge),Et=ge.offset(this.scroll),an=m[0].oldValue.replace(dd.CONTENTS,""),Cn=(new Ai).insert(an),zn=(new Ai).insert(ge.value()),ni=O&&{oldRange:pm(O.oldRange,-Et),newRange:pm(O.newRange,-Et)};y=(new Ai).retain(Et).concat(Cn.diff(zn,ni)).reduce((is,us)=>us.insert?is.insert(us.insert,$e):is.push(us),new Ai),this.delta=B.compose(y)}else this.delta=this.getDelta(),(!y||!Cu(B.compose(y),this.delta))&&(y=B.diff(this.delta,O));return y}},Sl=(()=>class A{static DEFAULTS={};constructor(m){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=m,this.options=O}})(),hf=class mm extends dl{constructor(y,m){super(y,m),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(O=>{this.contentNode.appendChild(O)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(y,m){return y===this.leftGuard?0:y===this.rightGuard?1:super.index(y,m)}restore(y){let O,m=null;const B=y.data.split("\ufeff").join("");if(y===this.leftGuard)if(this.prev instanceof tl){const ge=this.prev.length();this.prev.insertAt(ge,B),m={startNode:this.prev.domNode,startOffset:ge+B.length}}else O=document.createTextNode(B),this.parent.insertBefore(this.scroll.create(O),this),m={startNode:O,startOffset:B.length};else y===this.rightGuard&&(this.next instanceof tl?(this.next.insertAt(0,B),m={startNode:this.next.domNode,startOffset:B.length}):(O=document.createTextNode(B),this.parent.insertBefore(this.scroll.create(O),this.next),m={startNode:O,startOffset:B.length}));return y.data="\ufeff",m}update(y,m){y.forEach(O=>{if("characterData"===O.type&&(O.target===this.leftGuard||O.target===this.rightGuard)){const B=this.restore(O.target);B&&(m.range=B)}})}},g1=class gm{isComposing=!1;constructor(y,m){this.scroll=y,this.emitter=m,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",y=>{this.isComposing||this.handleCompositionStart(y)}),this.scroll.domNode.addEventListener("compositionend",y=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(y)})})}handleCompositionStart(y){const m=y.target instanceof Node?this.scroll.find(y.target,!0):null;m&&!(m instanceof hf)&&(this.emitter.emit($i.events.COMPOSITION_BEFORE_START,y),this.scroll.batchStart(),this.emitter.emit($i.events.COMPOSITION_START,y),this.isComposing=!0)}handleCompositionEnd(y){this.emitter.emit($i.events.COMPOSITION_BEFORE_END,y),this.scroll.batchEnd(),this.emitter.emit($i.events.COMPOSITION_END,y),this.isComposing=!1}},Np=(()=>{class A{static DEFAULTS={modules:{}};static themes={default:A};modules={};constructor(m,O){this.quill=m,this.options=O}init(){Object.keys(this.options.modules).forEach(m=>{null==this.modules[m]&&this.addModule(m)})}addModule(m){const O=this.quill.constructor.import(`modules/${m}`);return this.modules[m]=new O(this.quill,this.options.modules[m]||{}),this.modules[m]}}return A})(),Mu=A=>A.parentElement||A.getRootNode().host||null,Uy=A=>{const y=A.getBoundingClientRect(),m="offsetWidth"in A&&Math.abs(y.width)/A.offsetWidth||1,O="offsetHeight"in A&&Math.abs(y.height)/A.offsetHeight||1;return{top:y.top,right:y.left+A.clientWidth*m,bottom:y.top+A.clientHeight*O,left:y.left}},Bp=A=>{const y=parseInt(A,10);return Number.isNaN(y)?0:y},mv=(A,y,m,O,B,ge)=>A<m&&y>O?0:A<m?-(m-A+B):y>O?y-A>O-m?A+B-m:y-O+ge:0,b1=["block","break","cursor","inline","scroll","text"],Gd=ud("quill"),ff=new Ho;Tr.uiClass="ql-ui";class Qn{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ff,theme:"default"};static events=$i.events;static sources=$i.sources;static version="2.0.2";static imports={delta:Ai,parchment:t,"core/module":Sl,"core/theme":Np};static debug(y){!0===y&&(y="log"),ud.level(y)}static find(y){let m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uc.get(y)||ff.find(y,m)}static import(y){return null==this.imports[y]&&Gd.error(`Cannot import ${y}. Are you sure it was registered?`),this.imports[y]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const y=arguments.length<=0?void 0:arguments[0],m=!(arguments.length<=1||!arguments[1]),O="attrName"in y?y.attrName:y.blotName;"string"==typeof O?this.register(`formats/${O}`,y,m):Object.keys(y).forEach(B=>{this.register(B,y[B],m)})}else{const y=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1];null!=this.imports[y]&&!(!(arguments.length<=2)&&arguments[2])&&Gd.warn(`Overwriting ${y} with`,m),this.imports[y]=m,(y.startsWith("blots/")||y.startsWith("formats/"))&&m&&"boolean"!=typeof m&&"abstract"!==m.blotName&&ff.register(m),"function"==typeof m.register&&m.register(ff)}}constructor(y){if(this.options=function zy(A,y){const m=gv(A);if(!m)throw new Error("Invalid Quill container");const B=y.theme&&y.theme!==Qn.DEFAULTS.theme?Qn.import(`themes/${y.theme}`):Np;if(!B)throw new Error(`Invalid theme ${y.theme}. Did you register it?`);const{modules:ge,...$e}=Qn.DEFAULTS,{modules:Et,...an}=B.DEFAULTS;let Cn=vm(y.modules);null!=Cn&&Cn.toolbar&&Cn.toolbar.constructor!==Object&&(Cn={...Cn,toolbar:{container:Cn.toolbar}});const zn=oi({},vm(ge),vm(Et),Cn),ni={...$e,...Kd(an),...Kd(y)};let Fi=y.registry;return Fi?y.formats&&Gd.warn('Ignoring "formats" option because "registry" is specified'):Fi=y.formats?((A,y,m)=>{const O=new Ho;return b1.forEach(B=>{const ge=y.query(B);ge&&O.register(ge)}),A.forEach(B=>{let ge=y.query(B);ge||m.error(`Cannot register "${B}" specified in "formats" config. Are you sure it was registered?`);let $e=0;for(;ge;)if(O.register(ge),ge="blotName"in ge?ge.requiredContainer??null:null,$e+=1,$e>100){m.error(`Cycle detected in registering blot requiredContainer: "${B}"`);break}}),O})(y.formats,ni.registry,Gd):ni.registry,{...ni,registry:Fi,container:m,theme:B,modules:Object.entries(zn).reduce((is,us)=>{let[Vs,mo]=us;if(!mo)return is;const ms=Qn.import(`modules/${Vs}`);return null==ms?(Gd.error(`Cannot load ${Vs} module. Are you sure you registered it?`),is):{...is,[Vs]:oi({},ms.DEFAULTS||{},mo)}},{}),bounds:gv(ni.bounds)}}(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void Gd.error("Invalid Quill container",y);this.options.debug&&Qn.debug(this.options.debug);const O=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",uc.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $i;const B=qa.blotName,ge=this.options.registry.query(B);if(!ge||!("blotName"in ge))throw new Error(`Cannot initialize Quill without "${B}" blot`);if(this.scroll=new ge(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Pp(this.scroll),this.selection=new Vl(this.scroll,this.emitter),this.composition=new g1(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($i.events.EDITOR_CHANGE,$e=>{$e===$i.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($i.events.SCROLL_UPDATE,($e,Et)=>{const an=this.selection.lastRange,[Cn]=this.selection.getRange(),zn=an&&Cn?{oldRange:an,newRange:Cn}:void 0;kc.call(this,()=>this.editor.update(null,Et,zn),$e)}),this.emitter.on($i.events.SCROLL_EMBED_UPDATE,($e,Et)=>{const an=this.selection.lastRange,[Cn]=this.selection.getRange(),zn=an&&Cn?{oldRange:an,newRange:Cn}:void 0;kc.call(this,()=>{const ni=(new Ai).retain($e.offset(this)).retain({[$e.statics.blotName]:Et});return this.editor.update(ni,[],zn)},Qn.sources.USER)}),O){const $e=this.clipboard.convert({html:`${O}<p><br></p>`,text:"\n"});this.setContents($e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof y){const O=y;(y=document.createElement("div")).classList.add(O)}return this.container.insertBefore(y,m),y}blur(){this.selection.setRange(null)}deleteText(y,m,O){return[y,m,,O]=ya(y,m,O),kc.call(this,()=>this.editor.deleteText(y,m),O,y,-1*m)}disable(){this.enable(!1)}editReadOnly(y){this.allowReadOnlyEdits=!0;const m=y();return this.allowReadOnlyEdits=!1,m}enable(){let y=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(y),this.container.classList.toggle("ql-disabled",!y)}focus(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),y.preventScroll||this.scrollSelectionIntoView()}format(y,m){return kc.call(this,()=>{const B=this.getSelection(!0);let ge=new Ai;if(null==B)return ge;if(this.scroll.query(y,Xn.BLOCK))ge=this.editor.formatLine(B.index,B.length,{[y]:m});else{if(0===B.length)return this.selection.format(y,m),ge;ge=this.editor.formatText(B.index,B.length,{[y]:m})}return this.setSelection(B,$i.sources.SILENT),ge},arguments.length>2&&void 0!==arguments[2]?arguments[2]:$i.sources.API)}formatLine(y,m,O,B,ge){let $e;return[y,m,$e,ge]=ya(y,m,O,B,ge),kc.call(this,()=>this.editor.formatLine(y,m,$e),ge,y,0)}formatText(y,m,O,B,ge){let $e;return[y,m,$e,ge]=ya(y,m,O,B,ge),kc.call(this,()=>this.editor.formatText(y,m,$e),ge,y,0)}getBounds(y){let O=null;if(O="number"==typeof y?this.selection.getBounds(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(y.index,y.length),!O)return null;const B=this.container.getBoundingClientRect();return{bottom:O.bottom-B.top,height:O.height,left:O.left-B.left,right:O.right-B.left,top:O.top-B.top,width:O.width}}getContents(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-y;return[y,m]=ya(y,m),this.editor.getContents(y,m)}getFormat(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof y?this.editor.getFormat(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(y.index,y.length)}getIndex(y){return y.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(y){return this.scroll.leaf(y)}getLine(y){return this.scroll.line(y)}getLines(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof y?this.scroll.lines(y.index,y.length):this.scroll.lines(y,m)}getModule(y){return this.theme.modules[y]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,m=arguments.length>1?arguments[1]:void 0;return"number"==typeof y&&(m=m??this.getLength()-y),[y,m]=ya(y,m),this.editor.getHTML(y,m)}getText(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,m=arguments.length>1?arguments[1]:void 0;return"number"==typeof y&&(m=m??this.getLength()-y),[y,m]=ya(y,m),this.editor.getText(y,m)}hasFocus(){return this.selection.hasFocus()}insertEmbed(y,m,O){return kc.call(this,()=>this.editor.insertEmbed(y,m,O),arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qn.sources.API,y)}insertText(y,m,O,B,ge){let $e;return[y,,$e,ge]=ya(y,0,O,B,ge),kc.call(this,()=>this.editor.insertText(y,m,$e),ge,y,m.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(y,m,O){return[y,m,,O]=ya(y,m,O),kc.call(this,()=>this.editor.removeFormat(y,m),O,y)}scrollRectIntoView(y){((A,y)=>{const m=A.ownerDocument;let O=y,B=A;for(;B;){const ge=B===m.body,$e=ge?{top:0,right:window.visualViewport?.width??m.documentElement.clientWidth,bottom:window.visualViewport?.height??m.documentElement.clientHeight,left:0}:Uy(B),Et=getComputedStyle(B),an=mv(O.left,O.right,$e.left,$e.right,Bp(Et.scrollPaddingLeft),Bp(Et.scrollPaddingRight)),Cn=mv(O.top,O.bottom,$e.top,$e.bottom,Bp(Et.scrollPaddingTop),Bp(Et.scrollPaddingBottom));if(an||Cn)if(ge)m.defaultView?.scrollBy(an,Cn);else{const{scrollLeft:zn,scrollTop:ni}=B;Cn&&(B.scrollTop+=Cn),an&&(B.scrollLeft+=an);const Fi=B.scrollLeft-zn,is=B.scrollTop-ni;O={left:O.left-Fi,top:O.top-is,right:O.right-Fi,bottom:O.bottom-is}}B=ge||"fixed"===Et.position?null:Mu(B)}})(this.root,y)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const y=this.selection.lastRange,m=y&&this.selection.getBounds(y.index,y.length);m&&this.scrollRectIntoView(m)}setContents(y){return kc.call(this,()=>{y=new Ai(y);const O=this.getLength(),B=this.editor.deleteText(0,O),ge=this.editor.insertContents(0,y),$e=this.editor.deleteText(this.getLength()-1,1);return B.compose(ge).compose($e)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i.sources.API)}setSelection(y,m,O){null==y?this.selection.setRange(null,m||Qn.sources.API):([y,m,,O]=ya(y,m,O),this.selection.setRange(new jd(Math.max(0,y),m),O),O!==$i.sources.SILENT&&this.scrollSelectionIntoView())}setText(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i.sources.API;const O=(new Ai).insert(y);return this.setContents(O,m)}update(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i.sources.USER;const m=this.scroll.update(y);return this.selection.update(y),m}updateContents(y){return kc.call(this,()=>(y=new Ai(y),this.editor.applyDelta(y)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i.sources.API,!0)}}function gv(A){return"string"==typeof A?document.querySelector(A):A}function vm(A){return Object.entries(A??{}).reduce((y,m)=>{let[O,B]=m;return{...y,[O]:!0===B?{}:B}},{})}function Kd(A){return Object.fromEntries(Object.entries(A).filter(y=>void 0!==y[1]))}function kc(A,y,m,O){if(!this.isEnabled()&&y===$i.sources.USER&&!this.allowReadOnlyEdits)return new Ai;let B=null==m?null:this.getSelection();const ge=this.editor.delta,$e=A();if(null!=B&&(!0===m&&(m=B.index),null==O?B=vh(B,$e,y):0!==O&&(B=vh(B,m,O,y)),this.setSelection(B,$i.sources.SILENT)),$e.length()>0){const Et=[$i.events.TEXT_CHANGE,$e,ge,y];this.emitter.emit($i.events.EDITOR_CHANGE,...Et),y!==$i.sources.SILENT&&this.emitter.emit(...Et)}return $e}function ya(A,y,m,O,B){let ge={};return"number"==typeof A.index&&"number"==typeof A.length?"number"!=typeof y?(B=O,O=m,m=y,y=A.length,A=A.index):(y=A.length,A=A.index):"number"!=typeof y&&(B=O,O=m,m=y,y=0),"object"==typeof m?(ge=m,B=O):"string"==typeof m&&(null!=O?ge[m]=O:B=m),[A,y,ge,B=B||$i.sources.API]}function vh(A,y,m,O){const B="number"==typeof m?m:0;if(null==A)return null;let ge,$e;return[ge,$e]=[A.index,A.index+A.length].map(y&&"function"==typeof y.transformPosition?Et=>y.transformPosition(Et,O!==$i.sources.USER):Et=>Et<y||Et===y&&O===$i.sources.USER?Et:B>=0?Et+B:Math.max(y,Et+B)),new jd(ge,$e-ge)}const zd=class vv extends Sd{};function E1(A){return A instanceof Na||A instanceof Tl}function Du(A){return"function"==typeof A.updateContent}function bm(A,y,m){m.reduce((O,B)=>{const ge=Ai.Op.length(B);let $e=B.attributes||{};if(null!=B.insert)if("string"==typeof B.insert){A.insertAt(O,B.insert);const[an]=A.descendant(ra,O),Cn=Nr(an);$e=Ai.AttributeMap.diff(Cn,$e)||{}}else if("object"==typeof B.insert){const Et=Object.keys(B.insert)[0];if(null==Et)return O;if(A.insertAt(O,Et,B.insert[Et]),null!=A.scroll.query(Et,Xn.INLINE)){const[Cn]=A.descendant(ra,O),zn=Nr(Cn);$e=Ai.AttributeMap.diff(zn,$e)||{}}}return Object.keys($e).forEach(Et=>{A.formatAt(O,ge,Et,$e[Et])}),O+ge},y)}const Uo=(()=>class A extends qa{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Na;static allowedChildren=[Na,Tl,zd];constructor(m,O,B){let{emitter:ge}=B;super(m,O),this.emitter=ge,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",$e=>this.handleDragStart($e))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const m=this.batch;this.batch=!1,this.update(m)}emitMount(m){this.emitter.emit($i.events.SCROLL_BLOT_MOUNT,m)}emitUnmount(m){this.emitter.emit($i.events.SCROLL_BLOT_UNMOUNT,m)}emitEmbedUpdate(m,O){this.emitter.emit($i.events.SCROLL_EMBED_UPDATE,m,O)}deleteAt(m,O){const[B,ge]=this.line(m),[$e]=this.line(m+O);if(super.deleteAt(m,O),null!=$e&&B!==$e&&ge>0){if(B instanceof Tl||$e instanceof Tl)return void this.optimize();B.moveChildren($e,$e.children.head instanceof cd?null:$e.children.head),B.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(m,O,B,ge){super.formatAt(m,O,B,ge),this.optimize()}insertAt(m,O,B){if(m>=this.length())if(null==B||null==this.scroll.query(O,Xn.BLOCK)){const ge=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(ge),null==B&&O.endsWith("\n")?ge.insertAt(0,O.slice(0,-1),B):ge.insertAt(0,O,B)}else{const ge=this.scroll.create(O,B);this.appendChild(ge)}else super.insertAt(m,O,B);this.optimize()}insertBefore(m,O){if(m.statics.scope===Xn.INLINE_BLOT){const B=this.scroll.create(this.statics.defaultChild.blotName);B.appendChild(m),super.insertBefore(B,O)}else super.insertBefore(m,O)}insertContents(m,O){const B=this.deltaToRenderBlocks(O.concat((new Ai).insert("\n"))),ge=B.pop();if(null==ge)return;this.batchStart();const $e=B.shift();if($e){const Cn="block"===$e.type&&(0===$e.delta.length()||!this.descendant(Tl,m)[0]&&m<this.length()),zn="block"===$e.type?$e.delta:(new Ai).insert({[$e.key]:$e.value});bm(this,m,zn);const ni="block"===$e.type?1:0,Fi=m+zn.length()+ni;Cn&&this.insertAt(Fi-1,"\n");const is=Nr(this.line(m)[0]),us=Ai.AttributeMap.diff(is,$e.attributes)||{};Object.keys(us).forEach(Vs=>{this.formatAt(Fi-1,1,Vs,us[Vs])}),m=Fi}let[Et,an]=this.children.find(m);B.length&&(Et&&(Et=Et.split(an),an=0),B.forEach(Cn=>{if("block"===Cn.type)bm(this.createBlock(Cn.attributes,Et||void 0),0,Cn.delta);else{const zn=this.create(Cn.key,Cn.value);this.insertBefore(zn,Et||void 0),Object.keys(Cn.attributes).forEach(ni=>{zn.format(ni,Cn.attributes[ni])})}})),"block"===ge.type&&ge.delta.length()&&bm(this,Et?Et.offset(Et.scroll)+an:this.length(),ge.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(m){const O=this.path(m).pop();if(!O)return[null,-1];const[B,ge]=O;return B instanceof ra?[B,ge]:[null,-1]}line(m){return m===this.length()?this.line(m-1):this.descendant(E1,m)}lines(){const B=(ge,$e,Et)=>{let an=[],Cn=Et;return ge.children.forEachAt($e,Et,(zn,ni,Fi)=>{E1(zn)?an.push(zn):zn instanceof Sd&&(an=an.concat(B(zn,ni,Cn))),Cn-=Fi}),an};return B(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(m,O),m.length>0&&this.emitter.emit($i.events.SCROLL_OPTIMIZE,m,O))}path(m){return super.path(m).slice(1)}remove(){}update(m){if(this.batch)return void(Array.isArray(m)&&(this.batch=this.batch.concat(m)));let O=$i.sources.USER;"string"==typeof m&&(O=m),Array.isArray(m)||(m=this.observer.takeRecords()),(m=m.filter(B=>{let{target:ge}=B;const $e=this.find(ge,!0);return $e&&!Du($e)})).length>0&&this.emitter.emit($i.events.SCROLL_BEFORE_UPDATE,O,m),super.update(m.concat([])),m.length>0&&this.emitter.emit($i.events.SCROLL_UPDATE,O,m)}updateEmbedAt(m,O,B){const[ge]=this.descendant($e=>$e instanceof Tl,m);ge&&ge.statics.blotName===O&&Du(ge)&&ge.updateContent(B)}handleDragStart(m){m.preventDefault()}deltaToRenderBlocks(m){const O=[];let B=new Ai;return m.forEach(ge=>{const $e=ge?.insert;if($e)if("string"==typeof $e){const Et=$e.split("\n");Et.slice(0,-1).forEach(Cn=>{B.insert(Cn,ge.attributes),O.push({type:"block",delta:B,attributes:ge.attributes??{}}),B=new Ai});const an=Et[Et.length-1];an&&B.insert(an,ge.attributes)}else{const Et=Object.keys($e)[0];if(!Et)return;this.query(Et,Xn.INLINE)?B.push(ge):(B.length()&&O.push({type:"block",delta:B,attributes:{}}),B=new Ai,O.push({type:"blockEmbed",key:Et,value:$e[Et],attributes:ge.attributes??{}}))}}),B.length()&&O.push({type:"block",delta:B,attributes:{}}),O}createBlock(m,O){let B;const ge={};Object.entries(m).forEach(an=>{let[Cn,zn]=an;null!=this.query(Cn,Xn.BLOCK&Xn.BLOT)?B=Cn:ge[Cn]=zn});const $e=this.create(B||this.statics.defaultChild.blotName,B?m[B]:void 0);this.insertBefore($e,O||void 0);const Et=$e.length();return Object.entries(ge).forEach(an=>{let[Cn,zn]=an;$e.formatAt(0,Et,Cn,zn)}),$e}})(),$p={scope:Xn.BLOCK,whitelist:["right","center","justify"]},ym=new gi("align","align",$p),bv=new Za("align","ql-align",$p),C1=new Nl("align","text-align",$p);class _f extends Nl{value(y){let m=super.value(y);return m.startsWith("rgb(")?(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${m.split(",").map(B=>`00${parseInt(B,10).toString(16)}`.slice(-2)).join("")}`):m}}const yv=new Za("color","ql-color",{scope:Xn.INLINE}),jp=new _f("color","color",{scope:Xn.INLINE}),Em=new Za("background","ql-bg",{scope:Xn.INLINE}),Cm=new _f("background","background-color",{scope:Xn.INLINE});class Iu extends zd{static create(y){const m=super.create(y);return m.setAttribute("spellcheck","false"),m}code(y,m){return this.children.map(O=>O.length()<=1?"":O.domNode.innerText).join("\n").slice(y,y+m)}html(y,m){return`<pre>\n${xp(this.code(y,m))}\n</pre>`}}let Ra=(()=>class A extends Na{static TAB="  ";static register(){Qn.register(Iu)}})(),Ev=(()=>{class A extends dc{}return A.blotName="code",A.tagName="CODE",A})();Ra.blotName="code-block",Ra.className="ql-code-block",Ra.tagName="DIV",Iu.blotName="code-block-container",Iu.className="ql-code-block-container",Iu.tagName="DIV",Iu.allowedChildren=[Ra],Ra.allowedChildren=[tl,cd,dd],Ra.requiredContainer=Iu;const Gl={scope:Xn.BLOCK,whitelist:["rtl"]},Cv=new gi("direction","dir",Gl),mf=new Za("direction","ql-direction",Gl),Tv=new Nl("direction","direction",Gl),Sv={scope:Xn.INLINE,whitelist:["serif","monospace"]},T1=new Za("font","ql-font",Sv),S1=new class Wy extends Nl{value(y){return super.value(y).replace(/["']/g,"")}}("font","font-family",Sv),Mv=new Za("size","ql-size",{scope:Xn.INLINE,whitelist:["small","large","huge"]}),bh=new Nl("size","font-size",{scope:Xn.INLINE,whitelist:["10px","18px","32px"]}),yh=ud("quill:keyboard"),Dv=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Up extends Sl{static match(y,m){return!["altKey","ctrlKey","metaKey","shiftKey"].some(O=>!!m[O]!==y[O]&&null!==m[O])&&(m.key===y.key||m.key===y.which)}constructor(y,m){super(y,m),this.bindings={},Object.keys(this.options.bindings).forEach(O=>{this.options.bindings[O]&&this.addBinding(this.options.bindings[O])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const B=function gf(A){if("string"==typeof A||"number"==typeof A)A={key:A};else{if("object"!=typeof A)return null;A=dh(A)}return A.shortKey&&(A[Dv]=A.shortKey,delete A.shortKey),A}(y);null!=B?("function"==typeof m&&(m={handler:m}),"function"==typeof O&&(O={handler:O}),(Array.isArray(B.key)?B.key:[B.key]).forEach($e=>{const Et={...B,key:$e,...m,...O};this.bindings[Et.key]=this.bindings[Et.key]||[],this.bindings[Et.key].push(Et)})):yh.warn("Attempted to add invalid keyboard binding",B)}listen(){this.quill.root.addEventListener("keydown",y=>{if(y.defaultPrevented||y.isComposing||229===y.keyCode&&("Enter"===y.key||"Backspace"===y.key))return;const B=(this.bindings[y.key]||[]).concat(this.bindings[y.which]||[]).filter(ms=>Up.match(y,ms));if(0===B.length)return;const ge=Qn.find(y.target,!0);if(ge&&ge.scroll!==this.quill.scroll)return;const $e=this.quill.getSelection();if(null==$e||!this.quill.hasFocus())return;const[Et,an]=this.quill.getLine($e.index),[Cn,zn]=this.quill.getLeaf($e.index),[ni,Fi]=0===$e.length?[Cn,zn]:this.quill.getLeaf($e.index+$e.length),is=Cn instanceof Md?Cn.value().slice(0,zn):"",us=ni instanceof Md?ni.value().slice(Fi):"",Vs={collapsed:0===$e.length,empty:0===$e.length&&Et.length()<=1,format:this.quill.getFormat($e),line:Et,offset:an,prefix:is,suffix:us,event:y};B.some(ms=>{if(null!=ms.collapsed&&ms.collapsed!==Vs.collapsed||null!=ms.empty&&ms.empty!==Vs.empty||null!=ms.offset&&ms.offset!==Vs.offset)return!1;if(Array.isArray(ms.format)){if(ms.format.every(br=>null==Vs.format[br]))return!1}else if("object"==typeof ms.format&&!Object.keys(ms.format).every(br=>!0===ms.format[br]?null!=Vs.format[br]:!1===ms.format[br]?null==Vs.format[br]:Cu(ms.format[br],Vs.format[br])))return!1;return!(null!=ms.prefix&&!ms.prefix.test(Vs.prefix)||null!=ms.suffix&&!ms.suffix.test(Vs.suffix))&&!0!==ms.handler.call(this,$e,Vs,ms)})&&y.preventDefault()})}handleBackspace(y,m){const O=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(m.prefix)?2:1;if(0===y.index||this.quill.getLength()<=1)return;let B={};const[ge]=this.quill.getLine(y.index);let $e=(new Ai).retain(y.index-O).delete(O);if(0===m.offset){const[Et]=this.quill.getLine(y.index-1);if(Et&&!("block"===Et.statics.blotName&&Et.length()<=1)){const Cn=ge.formats(),zn=this.quill.getFormat(y.index-1,1);if(B=Ai.AttributeMap.diff(Cn,zn)||{},Object.keys(B).length>0){const ni=(new Ai).retain(y.index+ge.length()-2).retain(1,B);$e=$e.compose(ni)}}}this.quill.updateContents($e,Qn.sources.USER),this.quill.focus()}handleDelete(y,m){const O=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(m.suffix)?2:1;if(y.index>=this.quill.getLength()-O)return;let B={};const[ge]=this.quill.getLine(y.index);let $e=(new Ai).retain(y.index).delete(O);if(m.offset>=ge.length()-1){const[Et]=this.quill.getLine(y.index+1);if(Et){const an=ge.formats(),Cn=this.quill.getFormat(y.index,1);B=Ai.AttributeMap.diff(an,Cn)||{},Object.keys(B).length>0&&($e=$e.retain(Et.length()-1).retain(1,B))}}this.quill.updateContents($e,Qn.sources.USER),this.quill.focus()}handleDeleteRange(y){Ou({range:y,quill:this.quill}),this.quill.focus()}handleEnter(y,m){const O=Object.keys(m.format).reduce((ge,$e)=>(this.quill.scroll.query($e,Xn.BLOCK)&&!Array.isArray(m.format[$e])&&(ge[$e]=m.format[$e]),ge),{}),B=(new Ai).retain(y.index).delete(y.length).insert("\n",O);this.quill.updateContents(B,Qn.sources.USER),this.quill.setSelection(y.index+1,Qn.sources.SILENT),this.quill.focus()}}const Vp={bindings:{bold:Fc("bold"),italic:Fc("italic"),underline:Fc("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(A,y){return!(!y.collapsed||0===y.offset)||(this.quill.format("indent","+1",Qn.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(A,y){return!(!y.collapsed||0===y.offset)||(this.quill.format("indent","-1",Qn.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(A,y){null!=y.format.indent?this.quill.format("indent","-1",Qn.sources.USER):null!=y.format.list&&this.quill.format("list",!1,Qn.sources.USER)}},"indent code-block":Eh(!0),"outdent code-block":Eh(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(A){this.quill.deleteText(A.index-1,1,Qn.sources.USER)}},tab:{key:"Tab",handler(A,y){if(y.format.table)return!0;this.quill.history.cutoff();const m=(new Ai).retain(A.index).delete(A.length).insert("\t");return this.quill.updateContents(m,Qn.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(A.index+1,Qn.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Qn.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(A,y){const m={list:!1};y.format.indent&&(m.indent=!1),this.quill.formatLine(A.index,A.length,m,Qn.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(A){const[y,m]=this.quill.getLine(A.index),O={...y.formats(),list:"checked"},B=(new Ai).retain(A.index).insert("\n",O).retain(y.length()-m-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,Qn.sources.USER),this.quill.setSelection(A.index+1,Qn.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(A,y){const[m,O]=this.quill.getLine(A.index),B=(new Ai).retain(A.index).insert("\n",y.format).retain(m.length()-O-1).retain(1,{header:null});this.quill.updateContents(B,Qn.sources.USER),this.quill.setSelection(A.index+1,Qn.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(A){const y=this.quill.getModule("table");if(y){const[m,O,B,ge]=y.getTable(A),$e=function M1(A,y,m,O){return null==y.prev&&null==y.next?null==m.prev&&null==m.next?0===O?-1:1:null==m.prev?-1:1:null==y.prev?-1:null==y.next?1:null}(0,O,B,ge);if(null==$e)return;let Et=m.offset();if($e<0){const an=(new Ai).retain(Et).insert("\n");this.quill.updateContents(an,Qn.sources.USER),this.quill.setSelection(A.index+1,A.length,Qn.sources.SILENT)}else if($e>0){Et+=m.length();const an=(new Ai).retain(Et).insert("\n");this.quill.updateContents(an,Qn.sources.USER),this.quill.setSelection(Et,Qn.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(A,y){const{event:m,line:O}=y,B=O.offset(this.quill.scroll);this.quill.setSelection(m.shiftKey?B-1:B+O.length(),Qn.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(A,y){if(null==this.quill.scroll.query("list"))return!0;const{length:m}=y.prefix,[O,B]=this.quill.getLine(A.index);if(B>m)return!0;let ge;switch(y.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(A.index," ",Qn.sources.USER),this.quill.history.cutoff();const $e=(new Ai).retain(A.index-B).delete(m+1).retain(O.length()-2-B).retain(1,{list:ge});return this.quill.updateContents($e,Qn.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(A.index-m,Qn.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(A){const[y,m]=this.quill.getLine(A.index);let O=2,B=y;for(;null!=B&&B.length()<=1&&B.formats()["code-block"];)if(B=B.prev,O-=1,O<=0){const ge=(new Ai).retain(A.index+y.length()-m-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(ge,Qn.sources.USER),this.quill.setSelection(A.index-1,Qn.sources.SILENT),!1}return!0}},"embed left":Gp("ArrowLeft",!1),"embed left shift":Gp("ArrowLeft",!0),"embed right":Gp("ArrowRight",!1),"embed right shift":Gp("ArrowRight",!0),"table down":Tm(!1),"table up":Tm(!0)}};function Eh(A){return{key:"Tab",shiftKey:!A,format:{"code-block":!0},handler(y,m){let{event:O}=m;const B=this.quill.scroll.query("code-block"),{TAB:ge}=B;if(0===y.length&&!O.shiftKey)return this.quill.insertText(y.index,ge,Qn.sources.USER),void this.quill.setSelection(y.index+ge.length,Qn.sources.SILENT);const $e=0===y.length?this.quill.getLines(y.index,1):this.quill.getLines(y);let{index:Et,length:an}=y;$e.forEach((Cn,zn)=>{A?(Cn.insertAt(0,ge),0===zn?Et+=ge.length:an+=ge.length):Cn.domNode.textContent.startsWith(ge)&&(Cn.deleteAt(0,ge.length),0===zn?Et-=ge.length:an-=ge.length)}),this.quill.update(Qn.sources.USER),this.quill.setSelection(Et,an,Qn.sources.SILENT)}}}function Gp(A,y){return{key:A,shiftKey:y,altKey:null,["ArrowLeft"===A?"prefix":"suffix"]:/^$/,handler(O){let{index:B}=O;"ArrowRight"===A&&(B+=O.length+1);const[ge]=this.quill.getLeaf(B);return!(ge instanceof dl&&("ArrowLeft"===A?y?this.quill.setSelection(O.index-1,O.length+1,Qn.sources.USER):this.quill.setSelection(O.index-1,Qn.sources.USER):y?this.quill.setSelection(O.index,O.length+1,Qn.sources.USER):this.quill.setSelection(O.index+O.length+1,Qn.sources.USER),1))}}}function Fc(A){return{key:A[0],shortKey:!0,handler(y,m){this.quill.format(A,!m.format[A],Qn.sources.USER)}}}function Tm(A){return{key:A?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(y,m){const O=A?"prev":"next",B=m.line,ge=B.parent[O];if(null!=ge){if("table-row"===ge.statics.blotName){let $e=ge.children.head,Et=B;for(;null!=Et.prev;)Et=Et.prev,$e=$e.next;const an=$e.offset(this.quill.scroll)+Math.min(m.offset,$e.length()-1);this.quill.setSelection(an,0,Qn.sources.USER)}}else{const $e=B.table()[O];null!=$e&&this.quill.setSelection(A?$e.offset(this.quill.scroll)+$e.length()-1:$e.offset(this.quill.scroll),0,Qn.sources.USER)}return!1}}}function Ou(A){let{quill:y,range:m}=A;const O=y.getLines(m);let B={};if(O.length>1){const ge=O[0].formats(),$e=O[O.length-1].formats();B=Ai.AttributeMap.diff($e,ge)||{}}y.deleteText(m,Qn.sources.USER),Object.keys(B).length>0&&y.formatLine(m.index,1,B,Qn.sources.USER),y.setSelection(m.index,Qn.sources.SILENT)}Up.DEFAULTS=Vp;const Sm=/font-weight:\s*normal/,D1=["P","OL","UL"],Iv=A=>A&&D1.includes(A.tagName),Hy=/\bmso-list:[^;]*ignore/i,Ml=/\bmso-list:[^;]*\bl(\d+)/i,Dm=/\bmso-list:[^;]*\blevel(\d+)/i,RT=[function Yy(A){"urn:schemas-microsoft-com:office:word"===A.documentElement.getAttribute("xmlns:w")&&(A=>{const y=Array.from(A.querySelectorAll("[style*=mso-list]")),m=[],O=[];y.forEach($e=>{($e.getAttribute("style")||"").match(Hy)?m.push($e):O.push($e)}),m.forEach($e=>$e.parentNode?.removeChild($e));const B=A.documentElement.innerHTML,ge=O.map($e=>((A,y)=>{const m=A.getAttribute("style"),O=m?.match(Ml);if(!O)return null;const B=Number(O[1]),ge=m?.match(Dm),$e=ge?Number(ge[1]):1,Et=new RegExp(`@list l${B}:level${$e}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),an=y.match(Et);return{id:B,indent:$e,type:an&&"bullet"===an[1]?"bullet":"ordered",element:A}})($e,B)).filter($e=>$e);for(;ge.length;){const $e=[];let Et=ge.shift();for(;Et;)$e.push(Et),Et=ge.length&&ge[0]?.element===Et.element.nextElementSibling&&ge[0].id===Et.id?ge.shift():null;const an=document.createElement("ul");$e.forEach(ni=>{const Fi=document.createElement("li");Fi.setAttribute("data-list",ni.type),ni.indent>1&&Fi.setAttribute("class","ql-indent-"+(ni.indent-1)),Fi.innerHTML=ni.element.innerHTML,an.appendChild(Fi)});const Cn=$e[0]?.element,{parentNode:zn}=Cn??{};Cn&&zn?.replaceChild(an,Cn),$e.slice(1).forEach(ni=>{let{element:Fi}=ni;zn?.removeChild(Fi)})}})(A)},function Mm(A){A.querySelector('[id^="docs-internal-guid-"]')&&((A=>{Array.from(A.querySelectorAll('b[style*="font-weight"]')).filter(y=>y.getAttribute("style")?.match(Sm)).forEach(y=>{const m=A.createDocumentFragment();m.append(...y.childNodes),y.parentNode?.replaceChild(m,y)})})(A),(A=>{Array.from(A.querySelectorAll("br")).filter(y=>Iv(y.previousElementSibling)&&Iv(y.nextElementSibling)).forEach(y=>{y.parentNode?.removeChild(y)})})(A))}],wv=ud("quill:clipboard"),Om=[[Node.TEXT_NODE,function Qy(A,y,m){let O=A.data;if("O:P"===A.parentElement?.tagName)return y.insert(O.trim());if(!xv(A)){if(0===O.trim().length&&O.includes("\n")&&!function O1(A,y){return A.previousElementSibling&&A.nextElementSibling&&!pl(A.previousElementSibling,y)&&!pl(A.nextElementSibling,y)}(A,m))return y;const B=(ge,$e)=>{const Et=$e.replace(/[^\u00a0]/g,"");return Et.length<1&&ge?" ":Et};O=O.replace(/\r\n/g," ").replace(/\n/g," "),O=O.replace(/\s\s+/g,B.bind(B,!0)),(null==A.previousSibling&&null!=A.parentElement&&pl(A.parentElement,m)||A.previousSibling instanceof Element&&pl(A.previousSibling,m))&&(O=O.replace(/^\s+/,B.bind(B,!1))),(null==A.nextSibling&&null!=A.parentElement&&pl(A.parentElement,m)||A.nextSibling instanceof Element&&pl(A.nextSibling,m))&&(O=O.replace(/\s+$/,B.bind(B,!1)))}return y.insert(O)}],[Node.TEXT_NODE,Pv],["br",function Wp(A,y){return Kp(y,"\n")||y.insert("\n"),y}],[Node.ELEMENT_NODE,Pv],[Node.ELEMENT_NODE,function Av(A,y,m){const O=m.query(A);if(null==O)return y;if(O.prototype instanceof dl){const B={},ge=O.value(A);if(null!=ge)return B[O.blotName]=ge,(new Ai).insert(B,O.formats(A,m))}else if(O.prototype instanceof Dc&&!Kp(y,"\n")&&y.insert("\n"),"blotName"in O&&"formats"in O&&"function"==typeof O.formats)return hd(y,O.blotName,O.formats(A,m),m);return y}],[Node.ELEMENT_NODE,function Am(A,y,m){const O=gi.keys(A),B=Za.keys(A),ge=Nl.keys(A),$e={};return O.concat(B).concat(ge).forEach(Et=>{let an=m.query(Et,Xn.ATTRIBUTE);null!=an&&($e[an.attrName]=an.value(A),$e[an.attrName])||(an=Dl[Et],null!=an&&(an.attrName===Et||an.keyName===Et)&&($e[an.attrName]=an.value(A)||void 0),an=Ch[Et],null!=an&&(an.attrName===Et||an.keyName===Et)&&(an=Ch[Et],$e[an.attrName]=an.value(A)||void 0))}),Object.entries($e).reduce((Et,an)=>{let[Cn,zn]=an;return hd(Et,Cn,zn,m)},y)}],[Node.ELEMENT_NODE,function w1(A,y,m){const O={},B=A.style||{};return"italic"===B.fontStyle&&(O.italic=!0),"underline"===B.textDecoration&&(O.underline=!0),"line-through"===B.textDecoration&&(O.strike=!0),(B.fontWeight?.startsWith("bold")||parseInt(B.fontWeight,10)>=700)&&(O.bold=!0),y=Object.entries(O).reduce((ge,$e)=>{let[Et,an]=$e;return hd(ge,Et,an,m)},y),parseFloat(B.textIndent||0)>0?(new Ai).insert("\t").concat(y):y}],["li",function kv(A,y,m){const O=m.query(A);if(null==O||"list"!==O.blotName||!Kp(y,"\n"))return y;let B=-1,ge=A.parentNode;for(;null!=ge;)["OL","UL"].includes(ge.tagName)&&(B+=1),ge=ge.parentNode;return B<=0?y:y.reduce(($e,Et)=>Et.insert?Et.attributes&&"number"==typeof Et.attributes.indent?$e.push(Et):$e.insert(Et.insert,{indent:B,...Et.attributes||{}}):$e,new Ai)}],["ol, ul",function Fv(A,y,m){let B="OL"===A.tagName?"ordered":"bullet";const ge=A.getAttribute("data-checked");return ge&&(B="true"===ge?"checked":"unchecked"),hd(y,"list",B,m)}],["pre",function Rm(A,y,m){const O=m.query("code-block");return hd(y,"code-block",!O||!("formats"in O)||"function"!=typeof O.formats||O.formats(A,m),m)}],["tr",function Lv(A,y,m){const O="TABLE"===A.parentElement?.tagName?A.parentElement:A.parentElement?.parentElement;return null!=O?hd(y,"table",Array.from(O.querySelectorAll("tr")).indexOf(A)+1,m):y}],["b",bf("bold")],["i",bf("italic")],["strike",bf("strike")],["style",function Rv(){return new Ai}]],Dl=[ym,Cv].reduce((A,y)=>(A[y.keyName]=y,A),{}),Ch=[C1,Cm,jp,Tv,S1,bh].reduce((A,y)=>(A[y.keyName]=y,A),{});let wm=(()=>class A extends Sl{static DEFAULTS={matchers:[]};constructor(m,O){super(m,O),this.quill.root.addEventListener("copy",B=>this.onCaptureCopy(B,!1)),this.quill.root.addEventListener("cut",B=>this.onCaptureCopy(B,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Om.concat(this.options.matchers??[]).forEach(B=>{let[ge,$e]=B;this.addMatcher(ge,$e)})}addMatcher(m,O){this.matchers.push([m,O])}convert(m){let{html:O,text:B}=m,ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ge[Ra.blotName])return(new Ai).insert(B||"",{[Ra.blotName]:ge[Ra.blotName]});if(!O)return(new Ai).insert(B||"",ge);const $e=this.convertHTML(O);return Kp($e,"\n")&&(null==$e.ops[$e.ops.length-1].attributes||ge.table)?$e.compose((new Ai).retain($e.length()-1).delete(1)):$e}normalizeHTML(m){(A=>{A.documentElement&&RT.forEach(y=>{y(A)})})(m)}convertHTML(m){const O=(new DOMParser).parseFromString(m,"text/html");this.normalizeHTML(O);const B=O.body,ge=new WeakMap,[$e,Et]=this.prepareMatching(B,ge);return xm(this.quill.scroll,B,$e,Et,ge)}dangerouslyPasteHTML(m,O){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn.sources.API;if("string"==typeof m){const ge=this.convert({html:m,text:""});this.quill.setContents(ge,O),this.quill.setSelection(0,Qn.sources.SILENT)}else{const ge=this.convert({html:O,text:""});this.quill.updateContents((new Ai).retain(m).concat(ge),B),this.quill.setSelection(m+ge.length(),Qn.sources.SILENT)}}onCaptureCopy(m){let O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m.defaultPrevented)return;m.preventDefault();const[B]=this.quill.selection.getRange();if(null==B)return;const{html:ge,text:$e}=this.onCopy(B,O);m.clipboardData?.setData("text/plain",$e),m.clipboardData?.setData("text/html",ge),O&&Ou({range:B,quill:this.quill})}normalizeURIList(m){return m.split(/\r?\n/).filter(O=>"#"!==O[0]).join("\n")}onCapturePaste(m){if(m.defaultPrevented||!this.quill.isEnabled())return;m.preventDefault();const O=this.quill.getSelection(!0);if(null==O)return;const B=m.clipboardData?.getData("text/html");let ge=m.clipboardData?.getData("text/plain");if(!B&&!ge){const Et=m.clipboardData?.getData("text/uri-list");Et&&(ge=this.normalizeURIList(Et))}const $e=Array.from(m.clipboardData?.files||[]);if(!B&&$e.length>0)this.quill.uploader.upload(O,$e);else{if(B&&$e.length>0){const Et=(new DOMParser).parseFromString(B,"text/html");if(1===Et.body.childElementCount&&"IMG"===Et.body.firstElementChild?.tagName)return void this.quill.uploader.upload(O,$e)}this.onPaste(O,{html:B,text:ge})}}onCopy(m){const O=this.quill.getText(m);return{html:this.quill.getSemanticHTML(m),text:O}}onPaste(m,O){let{text:B,html:ge}=O;const $e=this.quill.getFormat(m.index),Et=this.convert({text:B,html:ge},$e);wv.log("onPaste",Et,{text:B,html:ge});const an=(new Ai).retain(m.index).delete(m.length).concat(Et);this.quill.updateContents(an,Qn.sources.USER),this.quill.setSelection(an.length()-m.length,Qn.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(m,O){const B=[],ge=[];return this.matchers.forEach($e=>{const[Et,an]=$e;switch(Et){case Node.TEXT_NODE:ge.push(an);break;case Node.ELEMENT_NODE:B.push(an);break;default:Array.from(m.querySelectorAll(Et)).forEach(Cn=>{O.has(Cn)?O.get(Cn)?.push(an):O.set(Cn,[an])})}}),[B,ge]}})();function hd(A,y,m,O){return O.query(y)?A.reduce((B,ge)=>ge.insert?ge.attributes&&ge.attributes[y]?B.push(ge):B.insert(ge.insert,{...m?{[y]:m}:{},...ge.attributes}):B,new Ai):A}function Kp(A,y){let m="";for(let O=A.ops.length-1;O>=0&&m.length<y.length;--O){const B=A.ops[O];if("string"!=typeof B.insert)break;m=B.insert+m}return m.slice(-1*y.length)===y}function pl(A,y){if(!(A instanceof Element))return!1;const m=y.query(A);return!(m&&m.prototype instanceof dl)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(A.tagName.toLowerCase())}const zp=new WeakMap;function xv(A){return null!=A&&(zp.has(A)||zp.set(A,"PRE"===A.tagName||xv(A.parentNode)),zp.get(A))}function xm(A,y,m,O,B){return y.nodeType===y.TEXT_NODE?O.reduce((ge,$e)=>$e(y,ge,A),new Ai):y.nodeType===y.ELEMENT_NODE?Array.from(y.childNodes||[]).reduce((ge,$e)=>{let Et=xm(A,$e,m,O,B);return $e.nodeType===y.ELEMENT_NODE&&(Et=m.reduce((an,Cn)=>Cn($e,an,A),Et),Et=(B.get($e)||[]).reduce((an,Cn)=>Cn($e,an,A),Et)),ge.concat(Et)},new Ai):new Ai}function bf(A){return(y,m,O)=>hd(m,A,!0,O)}function Pv(A,y,m){if(!Kp(y,"\n")){if(pl(A,m)&&(A.childNodes.length>0||A instanceof HTMLParagraphElement))return y.insert("\n");if(y.length()>0&&A.nextSibling){let O=A.nextSibling;for(;null!=O;){if(pl(O,m))return y.insert("\n");const B=m.query(O);if(B&&B.prototype instanceof Tl)return y.insert("\n");O=O.firstChild}}}return y}let x1=(()=>class A extends Sl{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(m,O){super(m,O),this.quill.on(Qn.events.EDITOR_CHANGE,(B,ge,$e,Et)=>{B===Qn.events.SELECTION_CHANGE?ge&&Et!==Qn.sources.SILENT&&(this.currentRange=ge):B===Qn.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&Et!==Qn.sources.USER?this.transform(ge):this.record(ge,$e)),this.currentRange=km(this.currentRange,ge))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",B=>{"historyUndo"===B.inputType?(this.undo(),B.preventDefault()):"historyRedo"===B.inputType&&(this.redo(),B.preventDefault())})}change(m,O){if(0===this.stack[m].length)return;const B=this.stack[m].pop();if(!B)return;const ge=this.quill.getContents(),$e=B.delta.invert(ge);this.stack[O].push({delta:$e,range:km(B.range,$e)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(B.delta,Qn.sources.USER),this.ignoreChange=!1,this.restoreSelection(B)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(m,O){if(0===m.ops.length)return;this.stack.redo=[];let B=m.invert(O),ge=this.currentRange;const $e=Date.now();if(this.lastRecorded+this.options.delay>$e&&this.stack.undo.length>0){const Et=this.stack.undo.pop();Et&&(B=B.compose(Et.delta),ge=Et.range)}else this.lastRecorded=$e;0!==B.length()&&(this.stack.undo.push({delta:B,range:ge}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(m){A1(this.stack.undo,m),A1(this.stack.redo,m)}undo(){this.change("undo","redo")}restoreSelection(m){if(m.range)this.quill.setSelection(m.range,Qn.sources.USER);else{const O=function Wd(A,y){const m=y.reduce((B,ge)=>B+(ge.delete||0),0);let O=y.length()-m;return function R1(A,y){const m=y.ops[y.ops.length-1];return null!=m&&(null!=m.insert?"string"==typeof m.insert&&m.insert.endsWith("\n"):null!=m.attributes&&Object.keys(m.attributes).some(O=>null!=A.query(O,Xn.BLOCK)))}(A,y)&&(O-=1),O}(this.quill.scroll,m.delta);this.quill.setSelection(O,Qn.sources.USER)}}})();function A1(A,y){let m=y;for(let O=A.length-1;O>=0;O-=1){const B=A[O];A[O]={delta:m.transform(B.delta,!0),range:B.range&&km(B.range,m)},m=B.delta.transform(m),0===A[O].delta.length()&&A.splice(O,1)}}function km(A,y){if(!A)return A;const m=y.transformPosition(A.index);return{index:m,length:y.transformPosition(A.index+A.length)-m}}const k1=(()=>{class A extends Sl{constructor(m,O){super(m,O),m.root.addEventListener("drop",B=>{B.preventDefault();let ge=null;if(document.caretRangeFromPoint)ge=document.caretRangeFromPoint(B.clientX,B.clientY);else if(document.caretPositionFromPoint){const Et=document.caretPositionFromPoint(B.clientX,B.clientY);ge=document.createRange(),ge.setStart(Et.offsetNode,Et.offset),ge.setEnd(Et.offsetNode,Et.offset)}const $e=ge&&m.selection.normalizeNative(ge);if($e){const Et=m.selection.normalizedToRange($e);B.dataTransfer?.files&&this.upload(Et,B.dataTransfer.files)}})}upload(m,O){const B=[];Array.from(O).forEach(ge=>{ge&&this.options.mimetypes?.includes(ge.type)&&B.push(ge)}),B.length>0&&this.options.handler.call(this,m,B)}}return A.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(y,m){if(!this.quill.scroll.query("image"))return;const O=m.map(B=>new Promise(ge=>{const $e=new FileReader;$e.onload=()=>{ge($e.result)},$e.readAsDataURL(B)}));Promise.all(O).then(B=>{const ge=B.reduce(($e,Et)=>$e.insert({image:Et}),(new Ai).retain(y.index).delete(y.length));this.quill.updateContents(ge,$i.sources.USER),this.quill.setSelection(y.index+B.length,$i.sources.SILENT)})}},A})(),wu=["insertText","insertReplacementText"],yf=/Mac/i.test(navigator.platform);Qn.register({"blots/block":Na,"blots/block/embed":Tl,"blots/break":cd,"blots/container":zd,"blots/cursor":dd,"blots/embed":hf,"blots/inline":dc,"blots/scroll":Uo,"blots/text":tl,"modules/clipboard":wm,"modules/history":x1,"modules/keyboard":Up,"modules/uploader":k1,"modules/input":class Fm extends Sl{constructor(y,m){super(y,m),y.root.addEventListener("beforeinput",O=>{this.handleBeforeInput(O)}),/Android/i.test(navigator.userAgent)||y.on(Qn.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(y){Ou({range:y,quill:this.quill})}replaceText(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===y.length)return!1;if(m){const O=this.quill.getFormat(y.index,1);this.deleteRange(y),this.quill.updateContents((new Ai).retain(y.index).insert(m,O),Qn.sources.USER)}else this.deleteRange(y);return this.quill.setSelection(y.index+m.length,0,Qn.sources.SILENT),!0}handleBeforeInput(y){if(this.quill.composition.isComposing||y.defaultPrevented||!wu.includes(y.inputType))return;const m=y.getTargetRanges?y.getTargetRanges()[0]:null;if(!m||!0===m.collapsed)return;const O=function Nv(A){return"string"==typeof A.data?A.data:A.dataTransfer?.types.includes("text/plain")?A.dataTransfer.getData("text/plain"):null}(y);if(null==O)return;const B=this.quill.selection.normalizeNative(m),ge=B?this.quill.selection.normalizedToRange(B):null;ge&&this.replaceText(ge,O)&&y.preventDefault()}handleCompositionStart(){const y=this.quill.getSelection();y&&this.replaceText(y)}},"modules/uiNode":class Ef extends Sl{isListening=!1;selectionChangeDeadline=0;constructor(y,m){super(y,m),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(y,m){let{line:O,event:B}=m;if(!(O instanceof Tr&&O.uiNode))return!0;const ge="rtl"===getComputedStyle(O.domNode).direction;return!!(ge&&"ArrowRight"!==B.key||!ge&&"ArrowLeft"!==B.key)||(this.quill.setSelection(y.index-1,y.length+(B.shiftKey?1:0),Qn.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",y=>{!y.defaultPrevented&&(A=>!!("ArrowLeft"===A.key||"ArrowRight"===A.key||"ArrowUp"===A.key||"ArrowDown"===A.key||"Home"===A.key||yf&&"a"===A.key&&!0===A.ctrlKey))(y)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const y=document.getSelection();if(!y)return;const m=y.getRangeAt(0);if(!0!==m.collapsed||0!==m.startOffset)return;const O=this.quill.scroll.find(m.startContainer);if(!(O instanceof Tr&&O.uiNode))return;const B=document.createRange();B.setStartAfter(O.uiNode),B.setEndAfter(O.uiNode),y.removeAllRanges(),y.addRange(B)}}});const Xp=Qn,P1=new class $v extends Za{add(y,m){let O=0;if("+1"===m||"-1"===m){const B=this.value(y)||0;O="+1"===m?B+1:B-1}else"number"==typeof m&&(O=m);return 0===O?(this.remove(y),!0):super.add(y,O.toString())}canAdd(y,m){return super.canAdd(y,m)||super.canAdd(y,parseInt(m,10))}value(y){return parseInt(super.value(y),10)||void 0}}("indent","ql-indent",{scope:Xn.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),FT=(()=>class A extends Na{static blotName="blockquote";static tagName="blockquote"})(),pd=(()=>class A extends Na{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(m){return this.tagName.indexOf(m.tagName)+1}})();let Hp=(()=>{class A extends zd{}return A.blotName="list-container",A.tagName="OL",A})(),Xd=(()=>{class A extends Na{static create(m){const O=super.create();return O.setAttribute("data-list",m),O}static formats(m){return m.getAttribute("data-list")||void 0}static register(){Qn.register(Hp)}constructor(m,O){super(m,O);const B=O.ownerDocument.createElement("span"),ge=$e=>{if(!m.isEnabled())return;const Et=this.statics.formats(O,m);"checked"===Et?(this.format("list","unchecked"),$e.preventDefault()):"unchecked"===Et&&(this.format("list","checked"),$e.preventDefault())};B.addEventListener("mousedown",ge),B.addEventListener("touchstart",ge),this.attachUI(B)}format(m,O){m===this.statics.blotName&&O?this.domNode.setAttribute("data-list",O):super.format(m,O)}}return A.blotName="list",A.tagName="LI",A})();Hp.allowedChildren=[Xd],Xd.requiredContainer=Hp;const Cf=(()=>class A extends dc{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(m){super.optimize(m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}})(),xu=(()=>class A extends Cf{static blotName="italic";static tagName=["EM","I"]})();let hc=(()=>class A extends dc{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(m){const O=super.create(m);return O.setAttribute("href",this.sanitize(m)),O.setAttribute("rel","noopener noreferrer"),O.setAttribute("target","_blank"),O}static formats(m){return m.getAttribute("href")}static sanitize(m){return Hd(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}format(m,O){m===this.statics.blotName&&O?this.domNode.setAttribute("href",this.constructor.sanitize(O)):super.format(m,O)}})();function Hd(A,y){const m=document.createElement("a");m.href=A;const O=m.href.slice(0,m.href.indexOf(":"));return y.indexOf(O)>-1}const Th=(()=>class A extends dc{static blotName="script";static tagName=["SUB","SUP"];static create(m){return"super"===m?document.createElement("sup"):"sub"===m?document.createElement("sub"):super.create(m)}static formats(m){return"SUB"===m.tagName?"sub":"SUP"===m.tagName?"super":void 0}})(),Ba=(()=>class A extends Cf{static blotName="strike";static tagName=["S","STRIKE"]})(),Yd=(()=>class A extends dc{static blotName="underline";static tagName="U"})(),Sf=(()=>class A extends hf{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(m){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const O=super.create(m);return"string"==typeof m&&(window.katex.render(m,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",m)),O}static value(m){return m.getAttribute("data-value")}html(){const{formula:m}=this.value();return`<span>${m}</span>`}})(),Sh=["alt","height","width"],Au=(()=>class A extends dl{static blotName="image";static tagName="IMG";static create(m){const O=super.create(m);return"string"==typeof m&&O.setAttribute("src",this.sanitize(m)),O}static formats(m){return Sh.reduce((O,B)=>(m.hasAttribute(B)&&(O[B]=m.getAttribute(B)),O),{})}static match(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}static sanitize(m){return Hd(m,["http","https","data"])?m:"//:0"}static value(m){return m.getAttribute("src")}format(m,O){Sh.indexOf(m)>-1?O?this.domNode.setAttribute(m,O):this.domNode.removeAttribute(m):super.format(m,O)}})(),Qd=["height","width"],Df=(()=>class A extends Tl{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(m){const O=super.create(m);return O.setAttribute("frameborder","0"),O.setAttribute("allowfullscreen","true"),O.setAttribute("src",this.sanitize(m)),O}static formats(m){return Qd.reduce((O,B)=>(m.hasAttribute(B)&&(O[B]=m.getAttribute(B)),O),{})}static sanitize(m){return hc.sanitize(m)}static value(m){return m.getAttribute("src")}format(m,O){Qd.indexOf(m)>-1?O?this.domNode.setAttribute(m,O):this.domNode.removeAttribute(m):super.format(m,O)}html(){const{video:m}=this.value();return`<a href="${m}">${m}</a>`}})(),If=new Za("code-token","hljs",{scope:Xn.INLINE});let Kl=(()=>{class A extends dc{static formats(m,O){for(;null!=m&&m!==O.domNode;){if(m.classList&&m.classList.contains(Ra.className))return super.formats(m,O);m=m.parentNode}}constructor(m,O,B){super(m,O,B),If.add(this.domNode,B)}format(m,O){m!==A.blotName?super.format(m,O):O?If.add(this.domNode,O):(If.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),If.value(this.domNode)||this.unwrap()}}return A.blotName="code-token",A.className="ql-token",A})();class Il extends Ra{static create(y){const m=super.create(y);return"string"==typeof y&&m.setAttribute("data-language",y),m}static formats(y){return y.getAttribute("data-language")||"plain"}static register(){}format(y,m){y===this.statics.blotName&&m?this.domNode.setAttribute("data-language",m):super.format(y,m)}replaceWith(y,m){return this.formatAt(0,this.length(),Kl.blotName,!1),super.replaceWith(y,m)}}let _d=(()=>{class A extends Iu{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(m,O){m===Il.blotName&&(this.forceNext=!0,this.children.forEach(B=>{B.format(m,O)}))}formatAt(m,O,B,ge){B===Il.blotName&&(this.forceNext=!0),super.formatAt(m,O,B,ge)}highlight(m){let O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const ge=`${Array.from(this.domNode.childNodes).filter(Et=>Et!==this.uiNode).map(Et=>Et.textContent).join("\n")}\n`,$e=Il.formats(this.children.head.domNode);if(O||this.forceNext||this.cachedText!==ge){if(ge.trim().length>0||null==this.cachedText){const Et=this.children.reduce((Cn,zn)=>Cn.concat(fv(zn,!1)),new Ai),an=m(ge,$e);Et.diff(an).reduce((Cn,zn)=>{let{retain:ni,attributes:Fi}=zn;return ni?(Fi&&Object.keys(Fi).forEach(is=>{[Il.blotName,Kl.blotName].includes(is)&&this.formatAt(Cn,ni,is,Fi[is])}),Cn+ni):Cn},0)}this.cachedText=ge,this.forceNext=!1}}html(m,O){const[B]=this.children.find(m);return`<pre data-language="${B?Il.formats(B.domNode):"plain"}">\n${xp(this.code(m,O))}\n</pre>`}optimize(m){if(super.optimize(m),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const O=Il.formats(this.children.head.domNode);O!==this.uiNode.value&&(this.uiNode.value=O)}}}return A.allowedChildren=[Il],A})();Il.requiredContainer=_d,Il.allowedChildren=[Kl,dd,tl,cd];class N1 extends Sl{static register(){Qn.register(Kl,!0),Qn.register(Il,!0),Qn.register(_d,!0)}constructor(y,m){if(super(y,m),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((O,B)=>{let{key:ge}=B;return O[ge]=!0,O},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Qn.events.SCROLL_BLOT_MOUNT,y=>{if(!(y instanceof _d))return;const m=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(O=>{let{key:B,label:ge}=O;const $e=m.ownerDocument.createElement("option");$e.textContent=ge,$e.setAttribute("value",B),m.appendChild($e)}),m.addEventListener("change",()=>{y.format(Il.blotName,m.value),this.quill.root.focus(),this.highlight(y,!0)}),null==y.uiNode&&(y.attachUI(m),y.children.head&&(m.value=Il.formats(y.children.head.domNode)))})}initTimer(){let y=null;this.quill.on(Qn.events.SCROLL_OPTIMIZE,()=>{y&&clearTimeout(y),y=setTimeout(()=>{this.highlight(),y=null},this.options.interval)})}highlight(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(Qn.sources.USER);const O=this.quill.getSelection();(null==y?this.quill.scroll.descendants(_d):[y]).forEach(ge=>{ge.highlight(this.highlightBlot,m)}),this.quill.update(Qn.sources.SILENT),null!=O&&this.quill.setSelection(O,Qn.sources.SILENT)}highlightBlot(y){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(m=this.languages[m]?m:"plain","plain"===m)return xp(y).split("\n").reduce((B,ge,$e)=>(0!==$e&&B.insert("\n",{[Ra.blotName]:m}),B.insert(ge)),new Ai);const O=this.quill.root.ownerDocument.createElement("div");return O.classList.add(Ra.className),O.innerHTML=((A,y,m)=>{if("string"==typeof A.versionString){const O=A.versionString.split(".")[0];if(parseInt(O,10)>=11)return A.highlight(m,{language:y}).value}return A.highlight(y,m).value})(this.options.hljs,m,y),xm(this.quill.scroll,O,[(B,ge)=>{const $e=If.value(B);return $e?ge.compose((new Ai).retain(ge.length(),{[Kl.blotName]:$e})):ge}],[(B,ge)=>B.data.split("\n").reduce(($e,Et,an)=>(0!==an&&$e.insert("\n",{[Ra.blotName]:m}),$e.insert(Et)),ge)],new WeakMap)}}N1.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let Jd=(()=>{class A extends Na{static blotName="table";static tagName="TD";static create(m){const O=super.create();return O.setAttribute("data-row",m||wf()),O}static formats(m){if(m.hasAttribute("data-row"))return m.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(m,O){m===A.blotName&&O?this.domNode.setAttribute("data-row",O):super.format(m,O)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return A})(),fc=(()=>class A extends zd{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const m=this.children.head.formats(),O=this.children.tail.formats(),B=this.next.children.head.formats(),ge=this.next.children.tail.formats();return m.table===O.table&&m.table===B.table&&m.table===ge.table}return!1}optimize(m){super.optimize(m),this.children.forEach(O=>{if(null==O.next)return;const B=O.formats(),ge=O.next.formats();if(B.table!==ge.table){const $e=this.splitAfter(O);$e&&$e.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}})(),Zd=(()=>class A extends zd{static blotName="table-body";static tagName="TBODY"})(),Mh=(()=>{class A extends zd{static blotName="table-container";static tagName="TABLE";balanceCells(){const m=this.descendants(fc),O=m.reduce((B,ge)=>Math.max(ge.children.length,B),0);m.forEach(B=>{new Array(O-B.children.length).fill(0).forEach(()=>{let ge;null!=B.children.head&&(ge=Jd.formats(B.children.head.domNode));const $e=this.scroll.create(Jd.blotName,ge);B.appendChild($e),$e.optimize()})})}cells(m){return this.rows().map(O=>O.children.at(m))}deleteColumn(m){const[O]=this.descendant(Zd);null==O||null==O.children.head||O.children.forEach(B=>{const ge=B.children.at(m);ge?.remove()})}insertColumn(m){const[O]=this.descendant(Zd);null==O||null==O.children.head||O.children.forEach(B=>{const ge=B.children.at(m),$e=Jd.formats(B.children.head.domNode),Et=this.scroll.create(Jd.blotName,$e);B.insertBefore(Et,ge)})}insertRow(m){const[O]=this.descendant(Zd);if(null==O||null==O.children.head)return;const B=wf(),ge=this.scroll.create(fc.blotName);O.children.head.children.forEach(()=>{const Et=this.scroll.create(Jd.blotName,B);ge.appendChild(Et)});const $e=O.children.at(m);O.insertBefore(ge,$e)}rows(){const m=this.children.head;return null==m?[]:m.children.map(O=>O)}}return A.allowedChildren=[Zd],A})();function wf(){return`row-${Math.random().toString(36).slice(2,6)}`}Zd.requiredContainer=Mh,Zd.allowedChildren=[fc],fc.requiredContainer=Zd,fc.allowedChildren=[Jd],Jd.requiredContainer=fc;const Dh=ud("quill:toolbar");let Zp=(()=>{class A extends Sl{constructor(m,O){if(super(m,O),Array.isArray(this.options.container)){const B=document.createElement("div");B.setAttribute("role","toolbar"),function Ru(A,y){Array.isArray(y[0])||(y=[y]),y.forEach(m=>{const O=document.createElement("span");O.classList.add("ql-formats"),m.forEach(B=>{if("string"==typeof B)xf(O,B);else{const ge=Object.keys(B)[0],$e=B[ge];Array.isArray($e)?function Vv(A,y,m){const O=document.createElement("select");O.classList.add(`ql-${y}`),m.forEach(B=>{const ge=document.createElement("option");!1!==B?ge.setAttribute("value",String(B)):ge.setAttribute("selected","selected"),O.appendChild(ge)}),A.appendChild(O)}(O,ge,$e):xf(O,ge,$e)}}),A.appendChild(O)})}(B,this.options.container),m.container?.parentNode?.insertBefore(B,m.container),this.container=B}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(B=>{const ge=this.options.handlers?.[B];ge&&this.addHandler(B,ge)}),Array.from(this.container.querySelectorAll("button, select")).forEach(B=>{this.attach(B)}),this.quill.on(Qn.events.EDITOR_CHANGE,()=>{const[B]=this.quill.selection.getRange();this.update(B)})):Dh.error("Container required for toolbar",this.options)}addHandler(m,O){this.handlers[m]=O}attach(m){let O=Array.from(m.classList).find(ge=>0===ge.indexOf("ql-"));O&&(O=O.slice(3),"BUTTON"===m.tagName&&m.setAttribute("type","button"),null!=this.handlers[O]||null!=this.quill.scroll.query(O)?(m.addEventListener("SELECT"===m.tagName?"change":"click",ge=>{let $e;if("SELECT"===m.tagName){if(m.selectedIndex<0)return;const an=m.options[m.selectedIndex];$e=!an.hasAttribute("selected")&&(an.value||!1)}else $e=!m.classList.contains("ql-active")&&(m.value||!m.hasAttribute("value")),ge.preventDefault();this.quill.focus();const[Et]=this.quill.selection.getRange();if(null!=this.handlers[O])this.handlers[O].call(this,$e);else if(this.quill.scroll.query(O).prototype instanceof dl){if($e=prompt(`Enter ${O}`),!$e)return;this.quill.updateContents((new Ai).retain(Et.index).delete(Et.length).insert({[O]:$e}),Qn.sources.USER)}else this.quill.format(O,$e,Qn.sources.USER);this.update(Et)}),this.controls.push([O,m])):Dh.warn("ignoring attaching to nonexistent format",O,m))}update(m){const O=null==m?{}:this.quill.getFormat(m);this.controls.forEach(B=>{const[ge,$e]=B;if("SELECT"===$e.tagName){let Et=null;if(null==m)Et=null;else if(null==O[ge])Et=$e.querySelector("option[selected]");else if(!Array.isArray(O[ge])){let an=O[ge];"string"==typeof an&&(an=an.replace(/"/g,'\\"')),Et=$e.querySelector(`option[value="${an}"]`)}null==Et?($e.value="",$e.selectedIndex=-1):Et.selected=!0}else if(null==m)$e.classList.remove("ql-active"),$e.setAttribute("aria-pressed","false");else if($e.hasAttribute("value")){const Et=O[ge],an=Et===$e.getAttribute("value")||null!=Et&&Et.toString()===$e.getAttribute("value")||null==Et&&!$e.getAttribute("value");$e.classList.toggle("ql-active",an),$e.setAttribute("aria-pressed",an.toString())}else{const Et=null!=O[ge];$e.classList.toggle("ql-active",Et),$e.setAttribute("aria-pressed",Et.toString())}})}}return A.DEFAULTS={},A})();function xf(A,y,m){const O=document.createElement("button");O.setAttribute("type","button"),O.classList.add(`ql-${y}`),O.setAttribute("aria-pressed","false"),null!=m?(O.value=m,O.setAttribute("aria-label",`${y}: ${m}`)):O.setAttribute("aria-label",y),A.appendChild(O)}Zp.DEFAULTS={container:null,handlers:{clean(){const A=this.quill.getSelection();if(null!=A)if(0===A.length){const y=this.quill.getFormat();Object.keys(y).forEach(m=>{null!=this.quill.scroll.query(m,Xn.INLINE)&&this.quill.format(m,!1,Qn.sources.USER)})}else this.quill.removeFormat(A.index,A.length,Qn.sources.USER)},direction(A){const{align:y}=this.quill.getFormat();"rtl"===A&&null==y?this.quill.format("align","right",Qn.sources.USER):!A&&"right"===y&&this.quill.format("align",!1,Qn.sources.USER),this.quill.format("direction",A,Qn.sources.USER)},indent(A){const y=this.quill.getSelection(),m=this.quill.getFormat(y),O=parseInt(m.indent||0,10);if("+1"===A||"-1"===A){let B="+1"===A?1:-1;"rtl"===m.direction&&(B*=-1),this.quill.format("indent",O+B,Qn.sources.USER)}},link(A){!0===A&&(A=prompt("Enter link URL:")),this.quill.format("link",A,Qn.sources.USER)},list(A){const y=this.quill.getSelection(),m=this.quill.getFormat(y);this.quill.format("list","check"===A?"checked"!==m.list&&"unchecked"!==m.list&&"unchecked":A,Qn.sources.USER)}}};const t_='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Bf={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:t_,"code-block":t_,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Xv=0;function Vm(A,y){A.setAttribute(y,`${"true"!==A.getAttribute(y)}`)}const Wl=class jf{constructor(y){this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",m=>{switch(m.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),m.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Vm(this.label,"aria-expanded"),Vm(this.options,"aria-hidden")}buildItem(y){const m=document.createElement("span");m.tabIndex="0",m.setAttribute("role","button"),m.classList.add("ql-picker-item");const O=y.getAttribute("value");return O&&m.setAttribute("data-value",O),y.textContent&&m.setAttribute("data-label",y.textContent),m.addEventListener("click",()=>{this.selectItem(m,!0)}),m.addEventListener("keydown",B=>{switch(B.key){case"Enter":this.selectItem(m,!0),B.preventDefault();break;case"Escape":this.escape(),B.preventDefault()}}),m}buildLabel(){const y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}buildOptions(){const y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id=`ql-picker-options-${Xv}`,Xv+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,Array.from(this.select.options).forEach(m=>{const O=this.buildItem(m);y.appendChild(O),!0===m.selected&&this.selectItem(O)}),this.container.appendChild(y)}buildPicker(){Array.from(this.select.attributes).forEach(y=>{this.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(y){let m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=this.container.querySelector(".ql-selected");y!==O&&(O?.classList.remove("ql-selected"),null!=y&&(y.classList.add("ql-selected"),this.select.selectedIndex=Array.from(y.parentNode.children).indexOf(y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),m&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let y;if(this.select.selectedIndex>-1){const O=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(O)}else this.selectItem(null);const m=null!=y&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",m)}},qd=class Fu extends Wl{constructor(y,m){super(y),this.label.innerHTML=m,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(O=>{O.classList.add("ql-primary")})}buildItem(y){const m=super.buildItem(y);return m.style.backgroundColor=y.getAttribute("value")||"",m}selectItem(y,m){super.selectItem(y,m);const O=this.label.querySelector(".ql-color-label"),B=y&&y.getAttribute("data-value")||"";O&&("line"===O.tagName?O.style.stroke=B:O.style.fill=B)}},Uf=class Gm extends Wl{constructor(y,m){super(y),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(O=>{O.innerHTML=m[O.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(y,m){super.selectItem(y,m);const O=y||this.defaultItem;if(null!=O){if(this.label.innerHTML===O.innerHTML)return;this.label.innerHTML=O.innerHTML}}},z1=class nE{constructor(y,m){this.quill=y,this.boundsContainer=m||document.body,this.root=y.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(A=>{const{overflowY:y}=getComputedStyle(A,null);return"visible"!==y&&"clip"!==y})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(y){const m=y.left+y.width/2-this.root.offsetWidth/2,O=y.bottom+this.quill.root.scrollTop;this.root.style.left=`${m}px`,this.root.style.top=`${O}px`,this.root.classList.remove("ql-flip");const B=this.boundsContainer.getBoundingClientRect(),ge=this.root.getBoundingClientRect();let $e=0;return ge.right>B.right&&($e=B.right-ge.right,this.root.style.left=`${m+$e}px`),ge.left<B.left&&($e=B.left-ge.left,this.root.style.left=`${m+$e}px`),ge.bottom>B.bottom&&(this.root.style.top=O-(y.bottom-y.top+(ge.bottom-ge.top))+"px",this.root.classList.add("ql-flip")),$e}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Km=[!1,"center","right","justify"],zm=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],W1=[!1,"serif","monospace"],$a=["1","2","3",!1],pc=["small",!1,"large","huge"];class gd extends Np{constructor(y,m){super(y,m);const O=B=>{document.body.contains(y.root)?(null!=this.tooltip&&!this.tooltip.root.contains(B.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(ge=>{ge.container.contains(B.target)||ge.close()})):document.body.removeEventListener("click",O)};y.emitter.listenDOM("click",document.body,O)}addModule(y){const m=super.addModule(y);return"toolbar"===y&&this.extendToolbar(m),m}buildButtons(y,m){Array.from(y).forEach(O=>{(O.getAttribute("class")||"").split(/\s+/).forEach(ge=>{if(ge.startsWith("ql-")&&(ge=ge.slice(3),null!=m[ge]))if("direction"===ge)O.innerHTML=m[ge][""]+m[ge].rtl;else if("string"==typeof m[ge])O.innerHTML=m[ge];else{const $e=O.value||"";null!=$e&&m[ge][$e]&&(O.innerHTML=m[ge][$e])}})})}buildPickers(y,m){this.pickers=Array.from(y).map(B=>{if(B.classList.contains("ql-align")&&(null==B.querySelector("option")&&Vf(B,Km),"object"==typeof m.align))return new Uf(B,m.align);if(B.classList.contains("ql-background")||B.classList.contains("ql-color")){const ge=B.classList.contains("ql-background")?"background":"color";return null==B.querySelector("option")&&Vf(B,zm,"background"===ge?"#ffffff":"#000000"),new qd(B,m[ge])}return null==B.querySelector("option")&&(B.classList.contains("ql-font")?Vf(B,W1):B.classList.contains("ql-header")?Vf(B,$a):B.classList.contains("ql-size")&&Vf(B,pc)),new Wl(B)}),this.quill.on($i.events.EDITOR_CHANGE,()=>{this.pickers.forEach(B=>{B.update()})})}}gd.DEFAULTS=oi({},Np.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let A=this.container.querySelector("input.ql-image[type=file]");null==A&&(A=document.createElement("input"),A.setAttribute("type","file"),A.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),A.classList.add("ql-image"),A.addEventListener("change",()=>{const y=this.quill.getSelection(!0);this.quill.uploader.upload(y,A.files),A.value=""}),this.container.appendChild(A)),A.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Hv extends z1{constructor(y,m){super(y,m),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",y=>{"Enter"===y.key?(this.save(),y.preventDefault()):"Escape"===y.key&&(this.cancel(),y.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=m?this.textbox.value=m:y!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const O=this.quill.getBounds(this.quill.selection.savedRange);null!=O&&this.position(O),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${y}`)||""),this.root.setAttribute("data-mode",y)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:y}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:m}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",y,$i.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",y,$i.sources.USER)),this.quill.root.scrollTop=m;break}case"video":y=function X1(A){let y=A.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||A.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return y?`${y[1]||"https"}://www.youtube.com/embed/${y[2]}?showinfo=0`:(y=A.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${y[1]||"https"}://player.vimeo.com/video/${y[2]}/`:A}(y);case"formula":{if(!y)break;const m=this.quill.getSelection(!0);if(null!=m){const O=m.index+m.length;this.quill.insertEmbed(O,this.root.getAttribute("data-mode"),y,$i.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(O+1," ",$i.sources.USER),this.quill.setSelection(O+2,$i.sources.USER)}break}}this.textbox.value="",this.hide()}}function Vf(A,y){let m=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y.forEach(O=>{const B=document.createElement("option");O===m?B.setAttribute("selected","selected"):B.setAttribute("value",String(O)),A.appendChild(B)})}const H1=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Yv extends Hv{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(y,m){super(y,m),this.quill.on($i.events.EDITOR_CHANGE,(O,B,ge,$e)=>{if(O===$i.events.SELECTION_CHANGE)if(null!=B&&B.length>0&&$e===$i.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Et=this.quill.getLines(B.index,B.length);if(1===Et.length){const an=this.quill.getBounds(B);null!=an&&this.position(an)}else{const an=Et[Et.length-1],Cn=this.quill.getIndex(an),zn=Math.min(an.length()-1,B.index+B.length-Cn),ni=this.quill.getBounds(new jd(Cn,zn));null!=ni&&this.position(ni)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($i.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const y=this.quill.getSelection();if(null!=y){const m=this.quill.getBounds(y);null!=m&&this.position(m)}},1)})}cancel(){this.show()}position(y){const m=super.position(y),O=this.root.querySelector(".ql-tooltip-arrow");return O.style.marginLeft="",0!==m&&(O.style.marginLeft=-1*m-O.offsetWidth/2+"px"),m}}class Wm extends gd{constructor(y,m){null!=m.modules.toolbar&&null==m.modules.toolbar.container&&(m.modules.toolbar.container=H1),super(y,m),this.quill.container.classList.add("ql-bubble")}extendToolbar(y){this.tooltip=new Yv(this.quill,this.options.bounds),null!=y.container&&(this.tooltip.root.appendChild(y.container),this.buildButtons(y.container.querySelectorAll("button"),Bf),this.buildPickers(y.container.querySelectorAll("select"),Bf))}}Wm.DEFAULTS=oi({},gd.DEFAULTS,{modules:{toolbar:{handlers:{link(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Qn.sources.USER)}}}}});const Y1=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Q1 extends Hv{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",y=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),y.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",y=>{if(null!=this.linkRange){const m=this.linkRange;this.restoreFocus(),this.quill.formatText(m,"link",!1,$i.sources.USER),delete this.linkRange}y.preventDefault(),this.hide()}),this.quill.on($i.events.SELECTION_CHANGE,(y,m,O)=>{if(null!=y){if(0===y.length&&O===$i.sources.USER){const[B,ge]=this.quill.scroll.descendant(hc,y.index);if(null!=B){this.linkRange=new jd(y.index-ge,B.length());const $e=hc.formats(B.domNode);this.preview.textContent=$e,this.preview.setAttribute("href",$e),this.show();const Et=this.quill.getBounds(this.linkRange);return void(null!=Et&&this.position(Et))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Xm extends gd{constructor(y,m){null!=m.modules.toolbar&&null==m.modules.toolbar.container&&(m.modules.toolbar.container=Y1),super(y,m),this.quill.container.classList.add("ql-snow")}extendToolbar(y){null!=y.container&&(y.container.classList.add("ql-snow"),this.buildButtons(y.container.querySelectorAll("button"),Bf),this.buildPickers(y.container.querySelectorAll("select"),Bf),this.tooltip=new Q1(this.quill,this.options.bounds),y.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(m,O)=>{y.handlers.link.call(y,!O.format.link)}))}}Xm.DEFAULTS=oi({},gd.DEFAULTS,{modules:{toolbar:{handlers:{link(A){if(A){const y=this.quill.getSelection();if(null==y||0===y.length)return;let m=this.quill.getText(y);/^\S+@\S+\.\S+$/.test(m)&&0!==m.indexOf("mailto:")&&(m=`mailto:${m}`);const{tooltip:O}=this.quill.theme;O.edit("link",m)}else this.quill.format("link",!1,Qn.sources.USER)}}}}});const i_=Xm;Xp.register({"attributors/attribute/direction":Cv,"attributors/class/align":bv,"attributors/class/background":Em,"attributors/class/color":yv,"attributors/class/direction":mf,"attributors/class/font":T1,"attributors/class/size":Mv,"attributors/style/align":C1,"attributors/style/background":Cm,"attributors/style/color":jp,"attributors/style/direction":Tv,"attributors/style/font":S1,"attributors/style/size":bh},!0),Xp.register({"formats/align":bv,"formats/direction":mf,"formats/indent":P1,"formats/background":Cm,"formats/color":jp,"formats/font":T1,"formats/size":Mv,"formats/blockquote":FT,"formats/code-block":Ra,"formats/header":pd,"formats/list":Xd,"formats/bold":Cf,"formats/code":Ev,"formats/italic":xu,"formats/link":hc,"formats/script":Th,"formats/strike":Ba,"formats/underline":Yd,"formats/formula":Sf,"formats/image":Au,"formats/video":Df,"modules/syntax":N1,"modules/table":class Nm extends Sl{static register(){Qn.register(Jd),Qn.register(fc),Qn.register(Zd),Qn.register(Mh)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Mh).forEach(y=>{y.balanceCells()})}deleteColumn(){const[y,,m]=this.getTable();null!=m&&(y.deleteColumn(m.cellOffset()),this.quill.update(Qn.sources.USER))}deleteRow(){const[,y]=this.getTable();null!=y&&(y.remove(),this.quill.update(Qn.sources.USER))}deleteTable(){const[y]=this.getTable();if(null==y)return;const m=y.offset();y.remove(),this.quill.update(Qn.sources.USER),this.quill.setSelection(m,Qn.sources.SILENT)}getTable(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==y)return[null,null,null,-1];const[m,O]=this.quill.getLine(y.index);if(null==m||m.statics.blotName!==Jd.blotName)return[null,null,null,-1];const B=m.parent;return[B.parent.parent,B,m,O]}insertColumn(y){const m=this.quill.getSelection();if(!m)return;const[O,B,ge]=this.getTable(m);if(null==ge)return;const $e=ge.cellOffset();O.insertColumn($e+y),this.quill.update(Qn.sources.USER);let Et=B.rowOffset();0===y&&(Et+=1),this.quill.setSelection(m.index+Et,m.length,Qn.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(y){const m=this.quill.getSelection();if(!m)return;const[O,B,ge]=this.getTable(m);if(null==ge)return;const $e=B.rowOffset();O.insertRow($e+y),this.quill.update(Qn.sources.USER),y>0?this.quill.setSelection(m,Qn.sources.SILENT):this.quill.setSelection(m.index+B.children.length,m.length,Qn.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(y,m){const O=this.quill.getSelection();if(null==O)return;const B=new Array(y).fill(0).reduce(ge=>{const $e=new Array(m).fill("\n").join("");return ge.insert($e,{table:wf()})},(new Ai).retain(O.index));this.quill.updateContents(B,Qn.sources.USER),this.quill.setSelection(O.index,Qn.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Qn.events.SCROLL_OPTIMIZE,y=>{y.some(m=>!!["TD","TR","TBODY","TABLE"].includes(m.target.tagName)&&(this.quill.once(Qn.events.TEXT_CHANGE,(O,B,ge)=>{ge===Qn.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":Zp,"themes/bubble":Wm,"themes/snow":i_,"ui/icons":Bf,"ui/picker":Wl,"ui/icon-picker":Uf,"ui/color-picker":qd,"ui/tooltip":z1},!0);const Qv=Xp,Ih=["container"],J1=["editor"];let eu=(()=>{class A extends ce.Tv{constructor(){super(...arguments),this.placeholder="",this.readonly=!1,this.images_allowed=!1,this._updateFn=()=>this.setValue(this._editor.root.innerHTML),this.registerOnChange=m=>this._onChange=m,this.registerOnTouched=m=>this._onTouch=m}ngOnChanges(m){m.images_allowed&&this.timeout("init",()=>this._initialiseEditor())}ngAfterViewInit(){this.timeout("init",()=>this._initialiseEditor())}setValue(m){this._onChange&&this._onChange(m)}writeValue(m){this.timeout("write",()=>{if(this._editor){const O=this._editor.clipboard.convert({html:m});this._editor.setContents(O,"silent")}else this.timeout("write",()=>this.writeValue(m))})}_initialiseEditor(){if(!this._editor_el?.nativeElement||!this._container_el?.nativeElement)return this.timeout("init",()=>this._initialiseEditor());const m=[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{align:[]}]];this.images_allowed&&m.push(["image","link"]),this._editor&&(this.unsub("changes"),this._editor_el.nativeElement.innerHTML="",delete this._editor),this._editor=new Qv(this._editor_el.nativeElement,{bounds:this._container_el.nativeElement,placeholder:this.placeholder,modules:{toolbar:{container:m,handlers:{image:()=>this._embedImage(),link:()=>this._embedAttachment()}}},readOnly:this.readonly,theme:"snow"}),this._editor.on("text-change",this._updateFn),this.subscription("changes",()=>this._editor.off("text-change",this._updateFn))}_embedImage(){if(!this._editor)return;const m=this._editor.getSelection();if(!m)return;const{index:O}=m;var B=document.createElement("input");B.setAttribute("type","file"),B.setAttribute("accept","image/*"),B.click(),B.onchange=()=>{(0,ce.QM)(B.files[0],!0).subscribe(({link:$e,progress:Et})=>{!$e||100!==Et||this._editor.insertEmbed(O,"image",$e)})}}_embedAttachment(){if(!this._editor)return;const m=this._editor.getSelection();if(m){var B=document.createElement("input");B.setAttribute("type","file"),B.click(),B.onchange=()=>{var ge=B.files[0];(0,ce.QM)(ge,!0).subscribe(({link:$e,progress:Et})=>{!$e||100!==Et||(this._editor.insertText(m.index,ge.name,"link",$e),this._editor.setSelection(m.index+ge.name.length))})}}}static#e=this.\u0275fac=(()=>{let m;return function(B){return(m||(m=f.xGo(A)))(B||A)}})();static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["rich-text-input"]],viewQuery:function(O,B){if(1&O&&(f.GBs(Ih,5),f.GBs(J1,5)),2&O){let ge;f.mGM(ge=f.lsd())&&(B._container_el=ge.first),f.mGM(ge=f.lsd())&&(B._editor_el=ge.first)}},inputs:{placeholder:"placeholder",readonly:"readonly",images_allowed:"images_allowed"},features:[f.Jv_([{provide:p.kq,useExisting:(0,f.Rfq)(()=>A),multi:!0}]),f.Vt3,f.OA$],decls:4,vars:0,consts:[["container",""],["editor",""],[1,"absolute","inset-0"],[1,"h-full"]],template:function(O,B){1&O&&(f.j41(0,"div",2,0),f.nrm(2,"div",3,1),f.k0s())},styles:["[_nghost-%COMP%]{display:block;position:relative;min-height:8rem;margin-bottom:4rem}"]})}return A})();var Hm=l(467),Pu=(l(2372),l(3693)),Oh=(l(6576),l(4421));l(4279),l(7354),l(762),l(7765),l(3004);var Jm=l(9090),o_=l(3921),e0=l(5006),r_=l(8712);l(9493);var t0=l(6864),tu=(l(1280),l(906));function n0(A,y){1&A&&(f.j41(0,"h2",24),f.EFF(1," Repeat on "),f.k0s())}function sE(A,y){if(1&A){const m=f.RV6();f.j41(0,"div",25)(1,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(0))}),f.EFF(2," S "),f.k0s(),f.j41(3,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(1))}),f.EFF(4," M "),f.k0s(),f.j41(5,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(2))}),f.EFF(6," T "),f.k0s(),f.j41(7,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(3))}),f.EFF(8," W "),f.k0s(),f.j41(9,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(4))}),f.EFF(10," T "),f.k0s(),f.j41(11,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(5))}),f.EFF(12," F "),f.k0s(),f.j41(13,"button",26),f.bIt("click",function(){f.eBV(m);const B=f.XpG();return f.Njj(B.toggleDayOfWeek(6))}),f.EFF(14," S "),f.k0s()()}if(2&A){const m=f.XpG();f.R7$(),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(0))),f.R7$(2),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(1))),f.R7$(2),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(2))),f.R7$(2),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(3))),f.R7$(2),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(4))),f.R7$(2),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(5))),f.R7$(2),f.AVh("inverse",!(null!=m.data.days_of_week&&m.data.days_of_week.includes(6)))}}let s0=(()=>{class A{constructor(m){this._data=m,this.data={...this._data.value,end:this._data.value.end||(0,tu.f)(new Date,7).valueOf(),interval:this._data.value.interval||1,pattern:this._data.value.pattern?this._data.value.pattern:"weekly",occurrences:this._data.value.occurrences||1},this.ends_key="never"}toggleDayOfWeek(m){this.data.days_of_week||(this.data.days_of_week=[]),this.data.days_of_week.includes(m)?this.data.days_of_week=this.data.days_of_week.filter(O=>O!==m):this.data.days_of_week.push(m)}static#e=this.\u0275fac=function(O){return new(O||A)(f.rXU(St.Vh))};static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["recurrence-modal"]],decls:42,vars:13,consts:[["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4"],[1,"flex","items-center","space-x-2","mb-4"],["appearance","outline",1,"w-16"],["matInput","","type","number",3,"ngModelChange","ngModel"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","month_day"],["for","repeat-on","class","mb-2",4,"ngIf"],["class","flex items-center space-x-2 mb-4","name","repeat-on",4,"ngIf"],["for","ends-at"],["name","ends-at",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["value","never",3,"click"],[1,"flex","items-center","space-x-2"],["value","on"],[3,"ngModelChange","ngModel","disabled"],["value","after"],["matInput","","type","number",3,"ngModelChange","ngModel","disabled"],["matSuffix",""],[1,"px-4","py-2","flex","items-center","justify-end","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click","mat-dialog-close"],["for","repeat-on",1,"mb-2"],["name","repeat-on",1,"flex","items-center","space-x-2","mb-4"],["btn","","matRipple","",1,"w-12",3,"click"]],template:function(O,B){1&O&&(f.j41(0,"header")(1,"h2"),f.EFF(2,"Custom Recurrence"),f.k0s(),f.j41(3,"button",0)(4,"app-icon"),f.EFF(5,"close"),f.k0s()()(),f.j41(6,"main",1)(7,"div",2)(8,"div"),f.EFF(9,"Repeat every"),f.k0s(),f.j41(10,"mat-form-field",3)(11,"input",4),f.mxI("ngModelChange",function($e){return f.DH7(B.data.interval,$e)||(B.data.interval=$e),$e}),f.k0s()(),f.j41(12,"mat-form-field",5)(13,"mat-select",6),f.mxI("ngModelChange",function($e){return f.DH7(B.data.pattern,$e)||(B.data.pattern=$e),$e}),f.j41(14,"mat-option",7),f.EFF(15),f.k0s(),f.j41(16,"mat-option",8),f.EFF(17),f.k0s(),f.j41(18,"mat-option",9),f.EFF(19),f.k0s()()()(),f.DNE(20,n0,2,0,"h2",10)(21,sE,15,14,"div",11),f.j41(22,"h2",12),f.EFF(23,"Ends"),f.k0s(),f.j41(24,"mat-radio-group",13),f.mxI("ngModelChange",function($e){return f.DH7(B.ends_key,$e)||(B.ends_key=$e),$e}),f.j41(25,"div",14)(26,"mat-radio-button",15),f.bIt("click",function(){return B.data.occurrences=0}),f.EFF(27," Never "),f.k0s()(),f.j41(28,"div",16)(29,"mat-radio-button",17),f.EFF(30,"On"),f.k0s(),f.j41(31,"a-date-field",18),f.mxI("ngModelChange",function($e){return f.DH7(B.data.end,$e)||(B.data.end=$e),$e}),f.k0s()(),f.j41(32,"div",16)(33,"mat-radio-button",19),f.EFF(34,"After"),f.k0s(),f.j41(35,"mat-form-field",5)(36,"input",20),f.mxI("ngModelChange",function($e){return f.DH7(B.data.occurrences,$e)||(B.data.occurrences=$e),$e}),f.k0s(),f.j41(37,"span",21),f.EFF(38,"occurences"),f.k0s()()()()(),f.j41(39,"footer",22)(40,"button",23),f.bIt("click",function(){return B.data.occurrences="never"===B.ends_key?0:B.data.occurrences}),f.EFF(41," Save "),f.k0s()()),2&O&&(f.R7$(11),f.R50("ngModel",B.data.interval),f.R7$(2),f.R50("ngModel",B.data.pattern),f.R7$(2),f.SpI(" day",1===B.data.interval?"":"s"," "),f.R7$(2),f.SpI(" week",1===B.data.interval?"":"s"," "),f.R7$(2),f.SpI(" month",1===B.data.interval?"":"s"," "),f.R7$(),f.Y8G("ngIf","weekly"===B.data.pattern),f.R7$(),f.Y8G("ngIf","weekly"===B.data.pattern),f.R7$(3),f.R50("ngModel",B.ends_key),f.R7$(7),f.R50("ngModel",B.data.end),f.Y8G("disabled","on"!==B.ends_key),f.R7$(5),f.R50("ngModel",B.data.occurrences),f.Y8G("disabled","after"!==B.ends_key),f.R7$(4),f.Y8G("mat-dialog-close",B.data))},styles:["mat-form-field[_ngcontent-%COMP%], a-date-field[_ngcontent-%COMP%]{height:3.25rem}mat-radio-button[_ngcontent-%COMP%]{width:8rem}"]})}return A})();var wh=l(4512);l(6299);var qm=l(8791),Xl=l(3601),eg=l(1406),c_=l(5458),d_=l(7793),u_=l(4273);function Lu(A){const y=(0,u_.a)(A);return y.setDate(1),y.setHours(0,0,0,0),y}var _l=l(9255);function h_(A,y){const m=(0,u_.a)(A),O=(0,u_.a)(y);return m.getFullYear()===O.getFullYear()&&m.getMonth()===O.getMonth()}function rb(A,y){if(1&A&&(f.j41(0,"div",10),f.EFF(1),f.nI1(2,"date"),f.k0s()),2&A){const m=y.$implicit;f.R7$(),f.SpI(" ",f.i5U(2,1,null==m?null:m.id,"EE")," ")}}function rE(A,y){1&A&&f.nrm(0,"div",14)}function ab(A,y){if(1&A){const m=f.RV6();f.j41(0,"button",11),f.bIt("click",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.setValue(B.id))}),f.EFF(1),f.nI1(2,"date"),f.DNE(3,rE,1,0,"div",12),f.nrm(4,"div",13),f.k0s()}if(2&A){const m=y.$implicit,O=f.XpG();f.AVh("hover:bg-base-100",m.id!==O.active_date)("!text-base-300",!m.is_month)("text-secondary-content",m.id===O.active_date)("text-base-content",m.id!==O.active_date)("bg-secondary",m.id===O.active_date)("font-normal",m.id!==O.active_date),f.Y8G("disabled",m.id<O.from||m.id>O.to),f.R7$(),f.SpI(" ",f.i5U(2,15,m.id,"d")," "),f.R7$(2),f.Y8G("ngIf",O.today===m.id)}}let tg=(()=>{class A extends ce.Tv{constructor(m){super(),this._settings=m,this.from=0,this.to=10*Date.now(),this.offset_weekday=0,this.today=(0,Xl.o)(Date.now()).valueOf(),this.date=Date.now(),this.active_date=(0,Xl.o)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.registerOnChange=O=>this._onChange=O,this.registerOnTouched=O=>this._onTouch=O}ngOnInit(){this.generateDates()}ngOnChanges(m){m.offset_weekday&&this.generateDates()}setValue(m){if(m<this.from||m>=this.to)return;const O=new Date(m);this.date=(0,eg.h)(this.date,{date:O.getDate(),month:O.getMonth(),year:O.getFullYear()}).valueOf(),this.active_date=(0,Xl.o)(this.date).valueOf(),this._onChange&&this._onChange(m)}writeValue(m){this.date=m,this.active_date=(0,Xl.o)(m).valueOf(),this.offset=0,this.generateDates()}changeMonth(m){this.offset+=m,this.generateDates()}generateDates(){const m=this._settings.get("app.week_start")||this.offset_weekday,O=(0,c_.P)(this.date,this.offset);let B=(0,d_.k)(Lu(O),{weekStartsOn:m});const ge=(0,Xl.o)(Date.now()),$e=[];for(;$e.length<42;)$e.push({id:B.valueOf(),is_past:(0,_l.Y)(B,ge),is_month:h_(B,O)}),B=(0,tu.f)(B,1);this.date_list=$e}static#e=this.\u0275fac=function(O){return new(O||A)(f.rXU(ce.h$))};static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["date-calendar"]],inputs:{from:"from",to:"to",offset_weekday:"offset_weekday"},features:[f.Jv_([{provide:p.kq,useExisting:(0,f.Rfq)(()=>A),multi:!0}]),f.Vt3,f.OA$],decls:17,vars:12,consts:[[1,"p-2"],[1,"flex","items-center","justify-between"],[1,"pl-1.5","pr-2","font-medium"],[1,"flex","items-center"],["icon","","matRipple","","name","schedule-next-month",3,"click","disabled"],["icon","","matRipple","","name","schedule-previous-month",3,"click","disabled"],[1,"flex","items-center","text-sm","mb-2","pb-2","border-b","border-base-200"],["class","flex-1 opacity-60 text-center",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","flex-wrap"],["icon","","name","schedule-set-date","class","min-w-[14%] w-9 h-9 relative overflow-visible my-0.5",3,"hover:bg-base-100","!text-base-300","text-secondary-content","text-base-content","bg-secondary","font-normal","disabled","click",4,"ngFor","ngForOf"],[1,"flex-1","opacity-60","text-center"],["icon","","name","schedule-set-date",1,"min-w-[14%]","w-9","h-9","relative","overflow-visible","my-0.5",3,"click","disabled"],["class","absolute -inset-[2px] border border-secondary rounded-full overflow-hidden","matRipple","",4,"ngIf"],["matRipple","",1,"absolute","inset-0","overflow-hidden","rounded-full"],["matRipple","",1,"absolute","-inset-[2px]","border","border-secondary","rounded-full","overflow-hidden"]],template:function(O,B){1&O&&(f.j41(0,"div",0)(1,"div",1)(2,"div",2),f.EFF(3),f.nI1(4,"date"),f.k0s(),f.j41(5,"div",3)(6,"button",4),f.bIt("click",function(){return B.changeMonth(-1)}),f.j41(7,"app-icon"),f.EFF(8,"chevron_left"),f.k0s()(),f.j41(9,"button",5),f.bIt("click",function(){return B.changeMonth(1)}),f.j41(10,"app-icon"),f.EFF(11,"chevron_right"),f.k0s()()()(),f.j41(12,"div",6),f.DNE(13,rb,3,4,"div",7),f.nI1(14,"slice"),f.k0s(),f.j41(15,"div",8),f.DNE(16,ab,5,18,"button",9),f.k0s()()),2&O&&(f.R7$(3),f.SpI(" ",f.i5U(4,5,(null==B.date_list[6]?null:B.date_list[6].id)||B.date,"LLLL YYYY")," "),f.R7$(3),f.Y8G("disabled",(null==B.date_list[0]?null:B.date_list[0].id)<B.from),f.R7$(3),f.Y8G("disabled",(null==B.date_list[34]?null:B.date_list[34].id)>B.to),f.R7$(4),f.Y8G("ngForOf",f.brH(14,8,B.date_list,0,7)),f.R7$(3),f.Y8G("ngForOf",B.date_list))},dependencies:[n.Sq,n.bT,E.r6,V.R,n.P9,n.vh]})}return A})();var ng=l(1038),aE=l(8728);const nu=()=>({standalone:!0});function _c(A,y){if(1&A&&(f.j41(0,"mat-option",26),f.EFF(1),f.k0s()),2&A){const m=y.$implicit;f.Y8G("value",m.id),f.R7$(),f.SpI(" ",m.display_name||m.name," ")}}function ig(A,y){1&A&&(f.j41(0,"mat-checkbox",27),f.EFF(1," Auto Approve Bookings "),f.k0s())}function lb(A,y){if(1&A&&(f.j41(0,"div",28)(1,"label",29),f.EFF(2),f.k0s(),f.nrm(3,"item-list-field",30),f.k0s()),2&A){const m=f.XpG();f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," Booking for Groups:")}}function Nu(A,y){1&A&&(f.j41(0,"div",28)(1,"label",31),f.EFF(2,"Locations:"),f.k0s(),f.nrm(3,"item-list-field",32),f.k0s())}function sg(A,y){if(1&A&&(f.j41(0,"div",2)(1,"label",35),f.EFF(2),f.k0s(),f.nrm(3,"a-duration-field",36),f.k0s()),2&A){const m=f.XpG(2);f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," booking with a minimum length of:"),f.R7$(),f.Y8G("min",15)("max",1440)("step",15)}}function o0(A,y){if(1&A&&(f.j41(0,"div",2)(1,"label",37),f.EFF(2),f.k0s(),f.nrm(3,"a-duration-field",38),f.k0s()),2&A){const m=f.XpG(2);f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," booking with a maximum length up to:"),f.R7$(),f.Y8G("min",m.form.value.conditions.min_length||15)("max",1440)("step",15)}}function og(A,y){if(1&A&&(f.j41(0,"div",33),f.DNE(1,sg,4,4,"div",34)(2,o0,4,4,"div",34),f.k0s()),2&A){const m=f.XpG();f.R7$(),f.Y8G("ngIf",m.available_conditions.includes("min_length")),f.R7$(),f.Y8G("ngIf",m.available_conditions.includes("max_length"))}}function f_(A,y){if(1&A&&(f.j41(0,"mat-option",26),f.EFF(1),f.k0s()),2&A){const m=y.$implicit;f.Y8G("value",m),f.R7$(),f.SpI(" ",m," ")}}function cb(A,y){if(1&A&&(f.j41(0,"div",28)(1,"label",39),f.EFF(2),f.k0s(),f.j41(3,"mat-form-field",40)(4,"mat-select",41),f.DNE(5,f_,2,2,"mat-option",7),f.k0s(),f.j41(6,"mat-error"),f.EFF(7,"A valid time is required"),f.k0s()()()),2&A){const m=f.XpG();f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," booking before:"),f.R7$(3),f.Y8G("ngForOf",m.duration_blocks)}}function r0(A,y){if(1&A&&(f.j41(0,"mat-option",26),f.EFF(1),f.k0s()),2&A){const m=y.$implicit;f.Y8G("value",m),f.R7$(),f.SpI(" ",m," ")}}function a0(A,y){if(1&A&&(f.j41(0,"div",28)(1,"label",42),f.EFF(2),f.k0s(),f.j41(3,"mat-form-field",40)(4,"mat-select",43),f.DNE(5,r0,2,2,"mat-option",7),f.k0s(),f.j41(6,"mat-error"),f.EFF(7,"A valid time is required"),f.k0s()()()),2&A){const m=f.XpG();f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," booking after:"),f.R7$(3),f.Y8G("ngForOf",m.duration_blocks)}}function db(A,y){if(1&A){const m=f.RV6();f.j41(0,"div",28)(1,"label",42),f.EFF(2),f.k0s(),f.j41(3,"div",1)(4,"a-date-field",44),f.bIt("ngModelChange",function(B){f.eBV(m);const ge=f.XpG();return f.Njj(ge.setIsPeriod(B,ge.form.value.conditions.is_period[1]))}),f.k0s(),f.j41(5,"a-date-field",45),f.bIt("ngModelChange",function(B){f.eBV(m);const ge=f.XpG();return f.Njj(ge.setIsPeriod(ge.form.value.conditions.is_period[0],B))}),f.k0s()()()}if(2&A){const m=f.XpG();f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," booking between dates:"),f.R7$(2),f.Y8G("ngModel",m.form.value.conditions.is_period[0])("ngModelOptions",f.lJ4(6,nu)),f.R7$(),f.Y8G("from",m.form.value.conditions.is_period[0])("ngModel",m.form.value.conditions.is_period[1])("ngModelOptions",f.lJ4(7,nu))}}function l0(A,y){if(1&A&&(f.j41(0,"mat-option",26),f.EFF(1),f.nI1(2,"date"),f.k0s()),2&A){const m=y.$implicit,O=f.XpG(2);f.Y8G("value",m.id),f.R7$(),f.SpI(" ",f.i5U(2,2,m.value,O.time_format)," ")}}function ub(A,y){if(1&A&&(f.j41(0,"mat-option",26),f.EFF(1),f.nI1(2,"date"),f.k0s()),2&A){const m=f.XpG().$implicit,O=f.XpG(2);f.Y8G("value",m.id),f.R7$(),f.SpI(" ",f.i5U(2,2,m.value,O.time_format)," ")}}function c0(A,y){if(1&A&&(f.qex(0),f.DNE(1,ub,3,5,"mat-option",51),f.bVm()),2&A){const m=y.$implicit,O=f.XpG(2);f.R7$(),f.Y8G("ngIf",m.id>(O.form.value.conditions.is_between[0]||6))}}function p_(A,y){if(1&A){const m=f.RV6();f.j41(0,"div",28)(1,"label",46),f.EFF(2),f.k0s(),f.j41(3,"div",47)(4,"mat-form-field",40)(5,"mat-select",48),f.bIt("ngModelChange",function(B){f.eBV(m);const ge=f.XpG();return f.Njj(ge.setIsBetween(B,ge.form.value.conditions.is_between[1]))}),f.DNE(6,l0,3,5,"mat-option",7),f.k0s()(),f.j41(7,"mat-form-field",40)(8,"mat-select",49),f.bIt("ngModelChange",function(B){f.eBV(m);const ge=f.XpG();return f.Njj(ge.setIsBetween(ge.form.value.conditions.is_between[0],B))}),f.DNE(9,c0,2,1,"ng-container",50),f.k0s(),f.j41(10,"mat-error"),f.EFF(11,"A valid end time is required"),f.k0s()()()()}if(2&A){const m=f.XpG();f.R7$(2),f.SpI("",m.form.value.rules.hidden?"Prevent":"Allow"," booking between:"),f.R7$(3),f.Y8G("ngModel",m.form.value.conditions.is_between[0]||6)("ngModelOptions",f.lJ4(7,nu)),f.R7$(),f.Y8G("ngForOf",m.time_blocks),f.R7$(2),f.Y8G("ngModel",m.form.value.conditions.is_between[1]||18)("ngModelOptions",f.lJ4(8,nu)),f.R7$(),f.Y8G("ngForOf",m.time_blocks)}}function rg(A,y){if(1&A&&(f.j41(0,"div",28)(1,"label",52),f.EFF(2),f.k0s(),f.nrm(3,"item-list-field",53),f.k0s()),2&A){const m=f.XpG();f.R7$(2),f.SpI(" ",m.form.value.rules.hidden?"Prevent":"Allow"," booking these resources: ")}}let ag=(()=>{class A{get time_format(){return this._settings.time_format}constructor(m,O){this._org=m,this._settings=O,this.save=!1,this.rulesetChange=new f.bkB,this.available_conditions=[],this.building_zones=this._org.active_building.pipe((0,aE.p)(B=>!!B),(0,Jm.n)(B=>(0,ng.smM)({parent_id:B.id}).pipe((0,o_.W)(()=>(0,Oh.of)({data:[]})))),(0,e0.T)(B=>B.data),(0,r_.t)(1)),this.time_blocks=new Array(96).fill(0).map((B,ge)=>{const $e=Math.floor(ge/4),Et=ge%4*15;return{id:$e+Et/60,value:(0,eg.h)(new Date,{hours:$e,minutes:Et})}}),this.duration_blocks=["1 Day","2 Days","3 Days","4 Days","5 Days","1 Week","2 Weeks","3 Weeks","4 Weeks","1 Month","2 Months","3 Months","4 Months","5 Months","6 Months"],this.form=new p.gE({id:new p.MJ(`ruleset-${(0,ce.DU)(8)}`),zone:new p.MJ("*",p.k0.required),name:new p.MJ("",p.k0.required),rules:new p.gE({auto_approve:new p.MJ(!1),hidden:new p.MJ(!1)}),conditions:new p.gE({groups:new p.MJ([]),locations:new p.MJ([]),min_length:new p.MJ(0),max_length:new p.MJ(1440),is_before:new p.MJ("1 Week"),is_after:new p.MJ("1 Day"),is_between:new p.MJ([6,18]),is_period:new p.MJ([(0,Xl.o)(Date.now()).valueOf(),(0,wh.D)(Date.now()).valueOf()]),resource_ids:new p.MJ([])})})}ngOnChanges(m){m.ruleset&&this.ruleset&&(this.available_conditions=Object.keys(this.ruleset.conditions||{}),this.form.patchValue(this.ruleset)),m.save&&this.save!==m.save.previousValue&&!m.save.firstChange&&this.post()}setIsBetween(m,O){!m||!O||(m>O&&(O=m+.25),this.form.patchValue({conditions:{is_between:[m,O]}}))}setIsPeriod(m,O){!m||!O||(m>O&&(O=m),this.form.patchValue({conditions:{is_period:[(0,Xl.o)(m).valueOf(),(0,wh.D)(O).valueOf()]}}))}post(){if(!this.form.valid)return(0,ce.UG)(`Some form fields are invalid. [${(0,ce.F7)(this.form).join(", ")}]`);const m=this.form.getRawValue(),O=Object.keys(m.conditions);for(const B of O)this.available_conditions.includes(B)||delete m.conditions[B];this.rulesetChange.emit(m)}static#e=this.\u0275fac=function(O){return new(O||A)(f.rXU(de.yb),f.rXU(ce.h$))};static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["booking-rules-form"]],inputs:{ruleset:"ruleset",save:"save"},outputs:{rulesetChange:"rulesetChange"},features:[f.OA$],decls:65,vars:16,consts:[[1,"flex","flex-col","space-y-2",3,"formGroup"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1"],["for","zone"],["appearance","outline"],["name","zone","formControlName","zone"],["value","*"],[3,"value",4,"ngFor","ngForOf"],["for","name"],["matInput","","name","name","formControlName","name","placeholder","Ruleset Name"],["formGroupName","rules",1,"flex","items-center","space-x-2"],["name","hidden","formControlName","hidden","matTooltip","Prevent user from booking the resource if the conditions match"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match",4,"ngIf"],[1,"flex","flex-col"],["name","zone","multiple","","placeholder","No Conditions. Match all resources in zone",3,"ngModelChange","ngModel","ngModelOptions"],["value","groups"],["value","locations"],["value","min_length"],["value","max_length"],["value","is_before"],["value","is_after"],["value","is_between"],["value","is_period"],["value","resource_ids"],["class","flex flex-col","formGroupName","conditions",4,"ngIf"],["class","flex items-center space-x-2","formGroupName","conditions",4,"ngIf"],[3,"value"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match"],["formGroupName","conditions",1,"flex","flex-col"],["for","groups"],["name","groups","formControlName","groups","placeholder","User groups"],["for","locations"],["name","locations","formControlName","locations","placeholder","Locations"],["formGroupName","conditions",1,"flex","items-center","space-x-2"],["class","flex flex-col flex-1",4,"ngIf"],["for","min_length"],["name","min_length","formControlName","min_length",3,"min","max","step"],["for","max_length"],["name","max_length","formControlName","max_length",3,"min","max","step"],["for","is-before"],["appearance","outline",1,"flex-1"],["name","is-before","formControlName","is_before"],["for","is-after"],["name","is-after","formControlName","is_after"],[1,"flex-1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex-1",3,"ngModelChange","from","ngModel","ngModelOptions"],["for","is_between"],[1,"flex","items-center","space-x-2","w-full"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["for","resource_ids"],["name","resource_ids","formControlName","resource_ids","placeholder","Resource IDs"]],template:function(O,B){1&O&&(f.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),f.EFF(4,"Zone"),f.j41(5,"span"),f.EFF(6,"*"),f.k0s(),f.EFF(7,":"),f.k0s(),f.j41(8,"mat-form-field",4)(9,"mat-select",5)(10,"mat-option",6),f.EFF(11,"Any Zone"),f.k0s(),f.DNE(12,_c,2,2,"mat-option",7),f.nI1(13,"async"),f.k0s(),f.j41(14,"mat-error"),f.EFF(15,"A valid zone is required"),f.k0s()()(),f.j41(16,"div",2)(17,"label",8),f.EFF(18,"Name"),f.j41(19,"span"),f.EFF(20,"*"),f.k0s(),f.EFF(21,":"),f.k0s(),f.j41(22,"mat-form-field",4),f.nrm(23,"input",9),f.j41(24,"mat-error"),f.EFF(25,"A valid name is required"),f.k0s()()()(),f.j41(26,"div",10)(27,"div",2)(28,"mat-checkbox",11),f.EFF(29," Prevent Bookings "),f.k0s()(),f.j41(30,"div",2),f.DNE(31,ig,2,0,"mat-checkbox",12),f.k0s()(),f.j41(32,"div",13)(33,"label",3),f.EFF(34,"Rule Conditions:"),f.k0s(),f.j41(35,"mat-form-field",4)(36,"mat-select",14),f.mxI("ngModelChange",function($e){return f.DH7(B.available_conditions,$e)||(B.available_conditions=$e),$e}),f.j41(37,"mat-option",15),f.EFF(38,"Groups"),f.k0s(),f.j41(39,"mat-option",16),f.EFF(40,"Locations"),f.k0s(),f.j41(41,"mat-option",17),f.EFF(42," Minimum Length "),f.k0s(),f.j41(43,"mat-option",18),f.EFF(44," Maximum Length "),f.k0s(),f.j41(45,"mat-option",19),f.EFF(46," Is Within Days "),f.k0s(),f.j41(47,"mat-option",20),f.EFF(48," Is After Days "),f.k0s(),f.j41(49,"mat-option",21),f.EFF(50," Is Between Hours "),f.k0s(),f.j41(51,"mat-option",22),f.EFF(52," Between Dates "),f.k0s(),f.j41(53,"mat-option",23),f.EFF(54,"Resources"),f.k0s()(),f.j41(55,"mat-error"),f.EFF(56,"A valid zone is required"),f.k0s()()(),f.DNE(57,lb,4,1,"div",24)(58,Nu,4,0,"div",24)(59,og,3,2,"div",25)(60,cb,8,2,"div",24)(61,a0,8,2,"div",24)(62,db,6,8,"div",24)(63,p_,12,9,"div",24)(64,rg,4,1,"div",24),f.k0s()),2&O&&(f.Y8G("formGroup",B.form),f.R7$(12),f.Y8G("ngForOf",f.bMT(13,13,B.building_zones)),f.R7$(19),f.Y8G("ngIf",!B.form.value.rules.hidden),f.R7$(5),f.R50("ngModel",B.available_conditions),f.Y8G("ngModelOptions",f.lJ4(15,nu)),f.R7$(21),f.Y8G("ngIf",B.available_conditions.includes("groups")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("locations")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("min_length")||B.available_conditions.includes("max_length")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("is_before")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("is_after")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("is_period")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("is_between")),f.R7$(),f.Y8G("ngIf",B.available_conditions.includes("resource_ids")))},styles:["[_nghost-%COMP%]{display:block;padding:.5rem}"]})}return A})();const d0=[],u0=new Pu.Gp;let __=(()=>{class A{transform(m){return(0,Hm.A)(function*(){if(!m)return u0;let O=d0.find(({id:B,email:ge})=>B===m||ge===m);return O||(O=yield(0,ng.VLL)(m).toPromise().catch(()=>null),O?(O=new Pu.Gp(O),d0.push(O),O):u0)})()}static#e=this.\u0275fac=function(O){return new(O||A)};static#t=this.\u0275pipe=f.EJ8({name:"placeuser",type:A,pure:!0})}return A})();var h0=l(8030);const Bu=["startDate"],lg=["endDate"],f0=[[["input","startDate",""]],[["input","endDate",""]]],zf=["input[startDate]","input[endDate]"];function lE(A,y){if(1&A){const m=f.RV6();f.j41(0,"div",5)(1,"date-range-calendar",6),f.bIt("startChange",function(B){f.eBV(m);const ge=f.XpG();return f.Njj(ge.setStartDate(B))})("endChange",function(B){f.eBV(m);const ge=f.XpG();return f.Njj(ge.setEndDate(B))}),f.k0s()()}if(2&A){const m=f.XpG();f.R7$(),f.Y8G("month",(null==m.start_date||null==m.start_date.control?null:m.start_date.control.value)||m.now)("from",m.from)("to",m.until)("offset_weekday",m.week_start)}}let m_=(()=>{class A extends ce.Tv{constructor(){super(...arguments),this.from_date=(0,Xl.o)(Date.now()).valueOf(),this.week_start=0,this.disabled=!1,this.short=!1,this.now=Date.now()}setStartDate(m){this.start_date&&this.start_date.control.setValue(m)}setEndDate(m){this._tooltip?.close(),this.end_date&&this.end_date.control.setValue(m)}static#e=this.\u0275fac=(()=>{let m;return function(B){return(m||(m=f.xGo(A)))(B||A)}})();static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["date-range-field"]],contentQueries:function(O,B,ge){if(1&O&&(f.wni(ge,Bu,5,p.vO),f.wni(ge,lg,5,p.vO)),2&O){let $e;f.mGM($e=f.lsd())&&(B.start_date=$e.first),f.mGM($e=f.lsd())&&(B.end_date=$e.first)}},viewQuery:function(O,B){if(1&O&&f.GBs(h0.In,5),2&O){let ge;f.mGM(ge=f.lsd())&&(B._tooltip=ge.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[f.Vt3],ngContentSelectors:zf,decls:16,vars:12,consts:[["calendar_picker",""],["matRipple","","type","button","role","date-picker","customTooltip","","yPosition","top",1,"flex","items-center","rounded","px-4","py-2","border","border-neutral","hover:border-base-content","focus:outline-2","outline-base-content","space-x-2","min-w-max",3,"content","disabled"],[1,"flex-1","whitespace-nowrap"],[1,"text-2xl"],[1,"hidden"],[1,"relative","w-[18.25rem]","rounded","bg-base-100","px-2","py-4"],[3,"startChange","endChange","month","from","to","offset_weekday"]],template:function(O,B){if(1&O&&(f.NAR(f0),f.j41(0,"button",1)(1,"div",2),f.EFF(2),f.nI1(3,"date"),f.k0s(),f.j41(4,"div"),f.EFF(5,"\u2013"),f.k0s(),f.j41(6,"div",2),f.EFF(7),f.nI1(8,"date"),f.k0s(),f.j41(9,"app-icon",3),f.EFF(10,"today"),f.k0s()(),f.j41(11,"div",4),f.SdG(12),f.SdG(13,1),f.k0s(),f.DNE(14,lE,2,4,"ng-template",null,0,f.C5r)),2&O){const ge=f.sdS(15);f.AVh("opacity-30",B.disabled),f.Y8G("content",ge)("disabled",B.disabled),f.R7$(2),f.SpI(" ",f.i5U(3,6,(null==B.start_date?null:B.start_date.value)||B.now,"MMM d, yyyy")," "),f.R7$(5),f.SpI(" ",f.i5U(8,9,(null==B.end_date?null:B.end_date.value)||B.now,"MMM d, yyyy")," ")}}})}return A})();var Wf=l(5818),Vo=l(9824);function Xf(A,y){if(1&A&&(f.j41(0,"div",8),f.EFF(1),f.nI1(2,"date"),f.k0s()),2&A){const m=y.$implicit;f.R7$(),f.SpI(" ",f.i5U(2,1,m,"EEE")," ")}}function p0(A,y){1&A&&f.nrm(0,"div",16)}function xh(A,y){1&A&&f.nrm(0,"div",17)}function $u(A,y){1&A&&f.nrm(0,"div",18)}function _0(A,y){1&A&&f.nrm(0,"div",19)}function cg(A,y){1&A&&f.nrm(0,"div",20)}function Hf(A,y){if(1&A){const m=f.RV6();f.j41(0,"button",9),f.bIt("click",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.selectDate(B.id))})("mouseenter",function(){const B=f.eBV(m).$implicit,ge=f.XpG();return f.Njj(ge.setHoveredDate(B.id))}),f.DNE(1,p0,1,0,"div",10)(2,xh,1,0,"div",11)(3,$u,1,0,"div",12)(4,_0,1,0,"div",13),f.j41(5,"div",14),f.EFF(6),f.nI1(7,"date"),f.k0s(),f.DNE(8,cg,1,0,"div",15),f.k0s()}if(2&A){const m=y.$implicit,O=f.XpG();f.AVh("text-secondary-content",m.is_start||m.is_end),f.Y8G("disabled",m.disabled),f.R7$(),f.Y8G("ngIf",m.is_selected&&!m.is_start&&!m.is_end),f.R7$(),f.Y8G("ngIf",m.is_start&&O.end_after_start),f.R7$(),f.Y8G("ngIf",m.is_end&&O.end_after_start),f.R7$(),f.Y8G("ngIf",m.is_start||m.is_end),f.R7$(),f.AVh("opacity-30",!m.is_month),f.R7$(),f.SpI(" ",f.i5U(7,11,m.id,"d")," "),f.R7$(2),f.Y8G("ngIf",m.is_today)}}let dg=(()=>{class A{constructor(){this.from_date=(0,Xl.o)(Date.now()).valueOf(),this.offset_weekday=0,this.month=(0,Xl.o)(Date.now()).valueOf(),this.startChange=new f.bkB,this.endChange=new f.bkB,this.hovered_date=null,this.weekdays=[],this.month_days=[]}get end_after_start(){return this.end&&this.end>this.start&&!(0,Wf.r)(this.end,this.start)}ngOnInit(){this._setWeekdays(),this._setMonthDays()}ngOnChanges(m){m.offset_weekday&&(this._setWeekdays(),this._setMonthDays()),m.start&&(this._setMonthDays(),this.month=this.start||Date.now()),m.month&&this._setMonthDays(),m.end&&this._setMonthDays()}selectDate(m){!this.start||m<this.start?(this.start=m,this.startChange.emit(m)):(this.end=m,this.endChange.emit(m)),this._setMonthDays()}setHoveredDate(m){this.start&&(this.end=m,this._setMonthDays())}trackByFn(m,O){return O.id}nextMonth(){this.month=(0,c_.P)(this.month,1).valueOf(),this._setMonthDays()}previousMonth(){this.month=(0,c_.P)(this.month,-1).valueOf(),this._setMonthDays()}_setMonthDays(){const m=(0,d_.k)(Lu(this.month),{weekStartsOn:this.offset_weekday});this.month_days=Array.from(Array(42).keys()).map(O=>{const B=(0,tu.f)(m,O).valueOf();return{id:B,disabled:this.from_date&&(0,_l.Y)(B,this.from_date)||this.to_date&&(0,Vo.d)(B,this.to_date),is_today:(0,Wf.r)(B,Date.now()),is_start:(0,Wf.r)(B,this.start),is_end:(0,Wf.r)(B,this.end),is_month:h_(B,this.month),is_selected:this.end&&B>=(0,Xl.o)(this.start).valueOf()&&B<=(0,wh.D)(this.end).valueOf()}})}_setWeekdays(){const m=(0,d_.k)(Date.now(),{weekStartsOn:this.offset_weekday});this.weekdays=Array.from(Array(7).keys()).map(O=>(0,tu.f)(m,O))}static#e=this.\u0275fac=function(O){return new(O||A)};static#t=this.\u0275cmp=f.VBU({type:A,selectors:[["date-range-calendar"]],inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],offset_weekday:"offset_weekday",start:"start",end:"end",month:"month"},outputs:{startChange:"startChange",endChange:"endChange"},features:[f.OA$],decls:15,vars:7,consts:[[1,"flex","items-center","justify-between"],["month","",1,"font-medium","px-2"],[1,"flex","items-center","space-x-2"],["icon","","matRipple","",3,"click"],[1,"grid","grid-cols-7","grid-rows-7","gap-1","w-[17.25rem]","h-[17.25rem]"],[1,"col-span-full","grid","grid-cols-7","border-b","border-base-200"],["weekday","","class","relative flex items-center justify-center text-sm opacity-60",4,"ngFor","ngForOf"],["class","relative h-9 w-9 hover:bg-base-200 rounded-full",3,"text-secondary-content","disabled","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["weekday","",1,"relative","flex","items-center","justify-center","text-sm","opacity-60"],[1,"relative","h-9","w-9","hover:bg-base-200","rounded-full",3,"click","mouseenter","disabled"],["class","absolute inset-y-0 -inset-x-0.5 border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -right-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -left-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-secondary rounded-full z-10",4,"ngIf"],["matRipple","",1,"absolute","inset-0","flex","items-center","justify-center","rounded-full","z-20"],["class","absolute -inset-[3px] flex items-center justify-center border border-secondary rounded-full z-10",4,"ngIf"],[1,"absolute","inset-y-0","-inset-x-0.5","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-right-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-left-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-secondary","rounded-full","z-10"],[1,"absolute","-inset-[3px]","flex","items-center","justify-center","border","border-secondary","rounded-full","z-10"]],template:function(O,B){1&O&&(f.j41(0,"div",0)(1,"div",1),f.EFF(2),f.nI1(3,"date"),f.k0s(),f.j41(4,"div",2)(5,"button",3),f.bIt("click",function(){return B.previousMonth()}),f.j41(6,"app-icon"),f.EFF(7,"chevron_left"),f.k0s()(),f.j41(8,"button",3),f.bIt("click",function(){return B.nextMonth()}),f.j41(9,"app-icon"),f.EFF(10,"chevron_right"),f.k0s()()()(),f.j41(11,"div",4)(12,"div",5),f.DNE(13,Xf,3,4,"div",6),f.k0s(),f.DNE(14,Hf,9,14,"button",7),f.k0s()),2&O&&(f.R7$(2),f.SpI(" ",f.i5U(3,4,B.month,"MMMM yyyy")," "),f.R7$(11),f.Y8G("ngForOf",B.weekdays),f.R7$(),f.Y8G("ngForOf",B.month_days)("ngForTrackBy",B.trackByFn))},dependencies:[n.Sq,n.bT,E.r6,V.R,n.vh]})}return A})();var g_=l(2238),v_=l(5080),ug=l(3208);let hb=(()=>{class A{static#e=this.\u0275fac=function(O){return new(O||A)};static#t=this.\u0275mod=f.$C({type:A});static#n=this.\u0275inj=f.G2t({imports:[n.MD,p.YN,p.X1,E.pZ,p.X1,M.RG,S.fS,u.Ve,I.jL,k.uc,T.g7,w.Wk,b.YN,v.FQ,D.h]})}return A})();f.wjB(c.G,[n.bT,p.BC,p.vS,E.r6,V.R,g_.I,tg],[n.vh]),f.wjB(m_,[E.r6,V.R,g_.I,dg],[n.vh]),f.wjB(J.T,[n.Sq,n.bT,p.me,p.BC,p.vS,E.r6,M.rl,M.yw,E.wT,I.$3,I.pN,I.Vn,k.oV,b.HW,b.D7,b.Zv,b.jH,V.R,R.LG],[n.Jj,__]),f.wjB(z.$,[n.Sq,n.bT,p.me,p.BC,p.vS,M.rl,M.JW,M.yw,S.fg,E.wT,I.$3,I.pN,V.R,v_.e,R.LG],[]),f.wjB(Jt,[n.Sq,n.bT,p.BC,p.vS,E.r6,w.VT,w._g,V.R,ug.U],[n.Jj]),f.wjB(t0.$,[n.Sq,n.bT,E.r6,M.rl,k.oV,b.HW,b.D7,b.Zv,b.jH,V.R,ug.U,R.LG],[n.Jj]),f.wjB(qm.c,[n.Sq,n.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,E.r6,M.rl,M.TL,S.fg,u.VO,E.wT,V.R,St.tx,R.LG,eu,t0.$],[n.Jj]),f.wjB(s0,[n.bT,p.me,p.Q0,p.BC,p.vS,E.r6,M.rl,M.yw,S.fg,u.VO,E.wT,w.VT,w._g,V.R,St.tx,c.G],[]),f.wjB(ag,[n.Sq,n.bT,p.me,p.BC,p.cb,p.vS,p.j4,p.JD,p.$R,M.rl,M.TL,S.fg,u.VO,E.wT,k.oV,T.So,c.G,Z.y,oe],[n.Jj,n.vh])},6864:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>J});var t=l(467),n=l(7336),p=l(3953),v=l(9417),b=l(9928),E=l(9714),M=l(5006),S=l(9493),u=l(7375),I=l(6821),k=l(3801),T=l(4006);const w=["image_list"],D=["file_input"];function f(z,X){if(1&z){const $=p.RV6();p.j41(0,"div",17),p.nrm(1,"img",18),p.j41(2,"div",19),p.nrm(3,"div",20),p.j41(4,"div",21)(5,"button",22),p.bIt("click",function(){const G=p.eBV($).$implicit,oe=p.XpG();return p.Njj(oe.copyLink(G))}),p.j41(6,"app-icon"),p.EFF(7,"link"),p.k0s()(),p.j41(8,"button",22),p.bIt("click",function(){const G=p.eBV($).$implicit,oe=p.XpG();return p.Njj(oe.viewImage(G))}),p.j41(9,"app-icon"),p.EFF(10,"visibility"),p.k0s()(),p.j41(11,"button",22),p.bIt("click",function(){const G=p.eBV($).$implicit,oe=p.XpG();return p.Njj(oe.removeImage(G))}),p.j41(12,"app-icon"),p.EFF(13,"close"),p.k0s()()()()()}if(2&z){const $=X.$implicit,te=p.XpG();p.xc7("transform","translate(-"+te.offset+"00%)"),p.R7$(),p.Y8G("source",$)}}function V(z,X){if(1&z&&p.nrm(0,"mat-progress-spinner",27),2&z){const $=p.XpG().$implicit;p.Y8G("value",$.progress)("diameter",64)}}function K(z,X){1&z&&(p.j41(0,"app-icon",28),p.EFF(1,"warning"),p.k0s())}function ne(z,X){1&z&&(p.j41(0,"div",29)(1,"app-icon",30),p.EFF(2,"refresh"),p.k0s()())}function U(z,X){if(1&z){const $=p.RV6();p.j41(0,"div",23),p.bIt("click",function(){const G=p.eBV($).$implicit,oe=p.XpG();return p.Njj(oe.retryUpload(G))}),p.DNE(1,V,1,2,"mat-progress-spinner",24)(2,K,2,0,"app-icon",25)(3,ne,3,0,"div",26),p.k0s()}if(2&z){const $=X.$implicit,te=p.XpG();p.xc7("transform","translate(-"+te.offset+"00%)"),p.Y8G("matTooltip",$.error),p.R7$(),p.Y8G("ngIf",!$.error),p.R7$(),p.Y8G("ngIf",$.error),p.R7$(),p.Y8G("ngIf",$.error)}}function c(z,X){if(1&z){const $=p.RV6();p.j41(0,"button",31),p.bIt("click",function(){p.eBV($);const G=p.XpG();return p.Njj(G.offset=G.offset-1)}),p.j41(1,"app-icon"),p.EFF(2,"chevron_left"),p.k0s()()}if(2&z){const $=p.XpG();p.Y8G("disabled",0===$.offset)}}function Z(z,X){if(1&z){const $=p.RV6();p.j41(0,"button",32),p.bIt("click",function(){p.eBV($);const G=p.XpG();return p.Njj(G.offset=G.offset+1)}),p.j41(1,"app-icon"),p.EFF(2,"chevron_right"),p.k0s()()}if(2&z){const $=p.XpG();p.Y8G("disabled",$.offset>=$.length-$.view_space)}}function F(z,X){if(1&z){const $=p.RV6();p.j41(0,"mat-chip-row",33),p.bIt("removed",function(){const G=p.eBV($).$implicit,oe=p.XpG();return p.Njj(oe.removeImage(G))}),p.j41(1,"div",34),p.EFF(2),p.k0s(),p.j41(3,"button",35)(4,"app-icon"),p.EFF(5,"cancel"),p.k0s()()()}if(2&z){const $=X.$implicit;p.R7$(2),p.JRh($),p.R7$(),p.BMQ("aria-label","Remove "+$)}}let J=(()=>{class z extends u.Tv{get length(){return this.list.length+this._upload_list.getValue().length+1}constructor($,te,G){super(),this._clipboard=$,this._uploads=te,this._dialog=G,this.list=[],this.upload_ids=new b.t([]),this._upload_list=new b.t([]),this.upload_list=this._upload_list.asObservable(),this.offset=0,this.view_space=0,this.separators=[n.KE,n.Fm],this.uploads=(0,E.zV)([this.upload_list,this.upload_ids]).pipe((0,M.T)(([oe,ce])=>oe.filter(le=>ce.includes(le.id)))),this.registerOnChange=oe=>this._onChange=oe,this.registerOnTouched=oe=>this._onTouch=oe}ngAfterViewInit(){this.timeout("init_view_space",()=>{const $=this._list_el.nativeElement.getBoundingClientRect();this.view_space=Math.floor($.width/152)},100),this.subscription("upload_changes",this.upload_list.subscribe($=>{const te=this.upload_ids.getValue();for(const G of te){const oe=$.find(ce=>ce.id===G);oe&&oe.progress>=100&&(this.addImageUrl(oe.link),this.upload_ids.next(this.upload_ids.getValue().filter(ce=>ce!==G)))}}))}copyLink($){this._clipboard.copy($),(0,u.uA)("Copied image URL to clipboard")}viewImage($){this._dialog.open(I.d,{data:$})}removeImage($){this.setValue(this.list.filter(te=>te!==$))}addImage($){$.value&&(this.setValue((0,u.Am)([...this.list,$.value])),$.chipInput.inputElement.value="")}addImageUrl($){this.setValue((0,u.Am)([...this.list,$]))}retryUpload($){$.error&&($.error=null,$.upload.resume())}uploadImages($){var te=this;return(0,t.A)(function*(){const G=$.target;if(G?.files){const oe=G.files;if(oe.length){te.interval("update_status",()=>te._updateUploadHistory());for(let ce=0;ce<oe.length;ce++){const le=yield te._uploads.uploadFileWithPermissions(oe[ce]);te.upload_ids.next([...te.upload_ids.getValue(),le]),te._file_input.nativeElement.value=""}}}})()}setValue($){this.list=$,this._onChange&&this._onChange($)}writeValue($){this.list=$||[]}_updateUploadHistory(){var $=this;return(0,t.A)(function*(){const te=$.upload_ids.getValue();if(0===te.length)return;const oe=(yield $._uploads.upload_list.pipe((0,S.s)(1)).toPromise()).filter(le=>te.find(ve=>ve===le.id)),ce=oe.filter(le=>le.progress>=100);$._upload_list.next(oe),ce.forEach(le=>delete le.upload),ce.length>=te.length&&$.clearInterval("update_status")})()}static#e=this.\u0275fac=function(te){return new(te||z)(p.rXU(k.B0),p.rXU(u.CS),p.rXU(T.bZ))};static#t=this.\u0275cmp=p.VBU({type:z,selectors:[["image-list-field"]],viewQuery:function(te,G){if(1&te&&(p.GBs(w,5),p.GBs(D,5)),2&te){let oe;p.mGM(oe=p.lsd())&&(G._list_el=oe.first),p.mGM(oe=p.lsd())&&(G._file_input=oe.first)}},features:[p.Jv_([{provide:v.kq,useExisting:(0,p.Rfq)(()=>z),multi:!0}]),p.Vt3],decls:19,vars:12,consts:()=>{let $,te;return $=$localize`:dc952a36d53a7092578b8706e3c6e28fd59866bf7586116958417863153:Add image via URL`,te=$localize`:3f0243e1118dafecaa05696a3dffcbfb83295f9b889671581456916004:Upload Image(s)`,[["image_list",""],["file_input",""],["chipList",""],te,["images","",1,"space-x-2","py-2","overflow-hidden","mb-2","w-full","flex","items-center","relative",3,"resize"],["image","",1,"relative","rounded","border-2","border-base-200","border-dashed","flex-shrink-0","flex","flex-col","items-center","justify-center","h-32","w-36","hover:bg-base-content/10",":bg-base-100/10","cursor-pointer"],[1,"text-4xl","opacity-60"],[1,"opacity-60"],["type","file",1,"absolute","inset-0","opacity-0","h-32","w-32","cursor-pointer",3,"change"],["image","","class","bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0 bg-base-200",3,"transform",4,"ngFor","ngForOf"],["image","","class","bg-center bg-cover h-32 w-36 rounded border border-base-content/10 /5 bg-base-200  flex items-center justify-center flex-shrink-0",3,"transform","matTooltip","click",4,"ngFor","ngForOf"],["icon","","matRipple","","class","absolute top-1/2 left-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["icon","","matRipple","","class","absolute top-1/2 right-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["appearance","outline",1,"w-full"],["aria-label","Image List"],[3,"removed",4,"ngFor","ngForOf"],["placeholder",$,3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["image","",1,"bg-center","bg-cover","h-32","w-36","relative","rounded","overflow-hidden","flex-shrink-0","bg-base-200"],["auth","",1,"object-contain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","z-10","pointer-events-none",3,"source"],["overlay","",1,"absolute","inset-0","text-base-100","z-20"],["bg","",1,"absolute","inset-0","opacity-0","bg-black"],["actions","",1,"absolute","top-0","left-0","right-0","flex","items-center","justify-center","space-x-2","opacity-0"],["icon","",3,"click"],["image","",1,"bg-center","bg-cover","h-32","w-36","rounded","border","border-base-content/10","/5","bg-base-200","flex","items-center","justify-center","flex-shrink-0",3,"click","matTooltip"],["mode","determinate",3,"value","diameter",4,"ngIf"],["class","text-error text-6xl",4,"ngIf"],["overlay","","class","absolute inset-0 hover:bg-base-content hover:bg-opacity-50 text-base-100 flex items-center justify-center",4,"ngIf"],["mode","determinate",3,"value","diameter"],[1,"text-error","text-6xl"],["overlay","",1,"absolute","inset-0","hover:bg-base-content","hover:bg-opacity-50","text-base-100","flex","items-center","justify-center"],[1,"text-3xl","opacity-0"],["icon","","matRipple","",1,"absolute","top-1/2","left-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],["icon","","matRipple","",1,"absolute","top-1/2","right-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]]},template:function(te,G){if(1&te){const oe=p.RV6();p.j41(0,"div",4,0),p.bIt("resize",function(){return p.eBV(oe),p.Njj(G.ngAfterViewInit())},!1,p.tSv),p.j41(2,"div",5)(3,"app-icon",6),p.EFF(4,"add"),p.k0s(),p.j41(5,"p",7),p.pXf(6,3),p.k0s(),p.j41(7,"input",8,1),p.bIt("change",function(le){return p.eBV(oe),p.Njj(G.uploadImages(le))}),p.k0s()(),p.DNE(9,f,14,3,"div",9)(10,U,4,6,"div",10),p.nI1(11,"async"),p.DNE(12,c,3,1,"button",11)(13,Z,3,1,"button",12),p.k0s(),p.j41(14,"mat-form-field",13)(15,"mat-chip-grid",14,2),p.DNE(17,F,6,2,"mat-chip-row",15),p.k0s(),p.j41(18,"input",16),p.bIt("matChipInputTokenEnd",function(le){return p.eBV(oe),p.Njj(G.addImage(le))}),p.k0s()()}if(2&te){const oe=p.sdS(16);p.R7$(2),p.xc7("transform","translate(-"+G.offset+"00%)"),p.R7$(7),p.Y8G("ngForOf",G.list),p.R7$(),p.Y8G("ngForOf",p.bMT(11,10,G.uploads)),p.R7$(2),p.Y8G("ngIf",G.length>G.view_space),p.R7$(),p.Y8G("ngIf",G.length>G.view_space),p.R7$(4),p.Y8G("ngForOf",G.list),p.R7$(),p.Y8G("matChipInputFor",oe)("matChipInputSeparatorKeyCodes",G.separators)("matChipInputAddOnBlur",!0)}},styles:["[_nghost-%COMP%]{width:100%}[overlay][_ngcontent-%COMP%]{transition:background .2s}[image][_ngcontent-%COMP%]:hover   [actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%]:hover > app-icon[_ngcontent-%COMP%]{opacity:1!important}[image][_ngcontent-%COMP%]:hover   [bg][_ngcontent-%COMP%]{opacity:.4!important}[actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{transition:opacity .2s}[image][_ngcontent-%COMP%]{transition:transform .2s}"]})}return z})()},8791:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>V});var t=l(467),n=l(9417),p=l(7375),v=l(2185),b=l(1038),E=l(3953),M=l(4006);function S(K,ne){if(1&K&&(E.j41(0,"mat-option",34),E.EFF(1),E.k0s()),2&K){const U=ne.$implicit;E.Y8G("value",U.display_name||U.name),E.R7$(),E.SpI(" ",U.display_name||U.name," ")}}function u(K,ne){if(1&K&&(E.j41(0,"mat-option",34),E.EFF(1),E.k0s()),2&K){const U=ne.$implicit;E.Y8G("value",(null==U?null:U.name)||U),E.R7$(),E.SpI(" ",U.name||U," ")}}function I(K,ne){if(1&K&&(E.j41(0,"div",24)(1,"label"),E.pXf(2,9),E.k0s(),E.j41(3,"mat-form-field",25)(4,"mat-select",35),E.DNE(5,u,2,2,"mat-option",27),E.k0s()()()),2&K){const U=E.XpG(2);E.R7$(5),E.Y8G("ngForOf",U.support_request_types)}}function k(K,ne){1&K&&(E.j41(0,"mat-error",36),E.pXf(1,10),E.k0s())}function T(K,ne){1&K&&(E.j41(0,"div")(1,"label",29),E.pXf(2,11),E.k0s(),E.nrm(3,"image-list-field",37),E.k0s())}function w(K,ne){if(1&K&&(E.j41(0,"main",17)(1,"form",18)(2,"div",19)(3,"div",20)(4,"label"),E.PLo(5,2),E.nrm(6,"span"),E.YFu(),E.k0s(),E.j41(7,"mat-form-field",21),E.nrm(8,"input",22),E.j41(9,"mat-error"),E.pXf(10,3),E.k0s()()(),E.j41(11,"div",20)(12,"label"),E.PLo(13,4),E.nrm(14,"span"),E.YFu(),E.k0s(),E.j41(15,"mat-form-field",21),E.nrm(16,"input",23),E.j41(17,"mat-error"),E.pXf(18,5),E.k0s()()()(),E.j41(19,"div",24)(20,"label"),E.pXf(21,6),E.k0s(),E.j41(22,"mat-form-field",25)(23,"mat-select",26),E.DNE(24,S,2,2,"mat-option",27),E.nI1(25,"async"),E.k0s()()(),E.DNE(26,I,6,1,"div",28),E.j41(27,"div")(28,"label",29),E.PLo(29,7),E.nrm(30,"span"),E.YFu(),E.k0s(),E.nrm(31,"rich-text-input",30),E.DNE(32,k,2,0,"mat-error",31),E.k0s(),E.DNE(33,T,4,0,"div",32),E.k0s(),E.j41(34,"div",33),E.pXf(35,8),E.k0s()()),2&K){const U=E.XpG();E.R7$(),E.Y8G("formGroup",U.form),E.R7$(23),E.Y8G("ngForOf",E.bMT(25,5,U.buildings)),E.R7$(2),E.Y8G("ngIf",null==U.support_request_types?null:U.support_request_types.length),E.R7$(6),E.Y8G("ngIf",U.desc_error),E.R7$(),E.Y8G("ngIf",U.allow_images)}}function D(K,ne){if(1&K){const U=E.RV6();E.j41(0,"footer",38)(1,"button",39),E.bIt("click",function(){E.eBV(U);const Z=E.XpG();return E.Njj(Z.submit())}),E.pXf(2,12),E.k0s()()}}function f(K,ne){1&K&&(E.j41(0,"main",40),E.nrm(1,"mat-spinner",41),E.j41(2,"p"),E.EFF(3,"Sending support ticket..."),E.k0s()()),2&K&&(E.R7$(),E.Y8G("diameter",32))}let V=(()=>{class K{get desc_error(){return!this.form.controls.description.valid&&this.form.controls.description.touched}get support_email(){return this._settings.get("app.support_email")||"support@place.tech"}get support_request_types(){return this._settings.get("app.support_issue_types")||[]}get allow_images(){return this._settings.get("app.allow_support_ticket_images")}constructor(U,c,Z){this._dialog_ref=U,this._org=c,this._settings=Z,this.loading=!1,this.form=new n.gE({name:new n.MJ("",[n.k0.required]),email:new n.MJ("",[n.k0.required]),location:new n.MJ(""),description:new n.MJ("",[n.k0.required]),issue_type:new n.MJ(""),images:new n.MJ([])}),this.buildings=this._org.building_list}ngOnInit(){const U=(0,p.Ny)();U&&this.form.patchValue({name:U.name,email:U.email}),this._org.building&&this.form.patchValue({location:this._org.building.display_name||this._org.building.name})}submit(){var U=this;return(0,t.A)(function*(){if(U.loading=!0,U.form.markAllAsTouched(),U.form.updateValueAndValidity(),U.form.valid){const c=U._org.binding("smtp");if(!c)return(0,p.UG)("Mailing system not configured for application.");const Z=(0,b.f_4)(c,"Mailer"),{name:F,email:J,location:z,description:X,images:$,issue_type:te}=U.form.value,G=U.support_request_types.find(oe=>oe.name===te)?.email||U.support_email;yield Z.execute("send_mail",[G,"Support Ticket from Workplace Application"+(te?" - "+te:""),`${F}\n${J}\n\n${z}\n\n${X.replace(/<[^>]+>/g,"")}\n\n${$.join("\n")}`,`<p>${F}</p><p>${J}</p><p>${z}</p><p>${X}</p>${$.join("<br>")}`,[],[],[],[],null,`${J}`]),U._dialog_ref.close(),U.loading=!1,(0,p.VX)("Successfully submitted support ticket")}})()}static#e=this.\u0275fac=function(c){return new(c||K)(E.rXU(M.CP),E.rXU(v.yb),E.rXU(p.h$))};static#t=this.\u0275cmp=E.VBU({type:K,selectors:[["support-ticket-modal"]],decls:10,vars:3,consts:()=>{let U,c,Z,F,J,z,X,$,te,G,oe,ce;return U=$localize`:b862b54c42ded9ebb47260f60b0f75985c5fab18270482714535552546:Raise a support ticket`,c=$localize`:84f7804a7a51f1144c5a3fda7b9b881af4212c4a5257092898921510014:Name${"\ufffd#6\ufffd"}:START_TAG_SPAN:*${"\ufffd/#6\ufffd"}:CLOSE_TAG_SPAN:`,Z=$localize`:5b752f143ab30faa45a2679b5e7a28bbf3fb246d3833692663709091545:Name is required`,F=$localize`:15032ab5f5dcf10cb837008e8ff61acb42e957db8600249315708032613:Email${"\ufffd#14\ufffd"}:START_TAG_SPAN:*${"\ufffd/#14\ufffd"}:CLOSE_TAG_SPAN:`,J=$localize`:9b2fd2a81342b5821f47ce0e6f2383b1403fd6598552587679160911578:Email is required`,z=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,X=$localize`:bd571e4b6aa662ccde3593b99728c60a9c4e27225204458475414246750: Issue Description${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,$=$localize`:860180fb81e0877ec8059acbf30938f5d31daede2365971609064887430: Completing this form will raise an incident in your support management platform `,te=$localize`:712648c55b8f81cc494ffeff1c304f275dcafc613187063371811307868:Issue Type`,G=$localize`:ae855fe6e11d47178c1051e1a3f9e78c5bb7fb4e124716140796903078: Description is required `,oe=$localize`:b73f7f5060fb22a1e9ec462b1bb02493fa3ab866414887388288176527:Images`,ce=$localize`:932802b79d36312ecbe949fc5b703fef638f41df1413112058430688330: Submit `,[["load_state",""],U,c,Z,F,J,z,X,$,te,G,oe,ce,[1,"flex","items-center","justify-between"],["icon","","mat-dialog-close",""],["class","w-[32rem] max-w-[85vw]",4,"ngIf","ngIfElse"],["class","p-2 border-t border-base-200 flex items-center justify-center",4,"ngIf"],[1,"w-[32rem]","max-w-[85vw]"],[1,"p-2",3,"formGroup"],[1,"flex","items-center","sm:space-x-2","flex-wrap"],[1,"flex","flex-col","flex-1"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Email","formControlName","email"],[1,"flex","flex-col"],["appearance","outline",1,"w-full"],["placeholder","Location","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngIf"],[1,"mb-4"],["placeholder","Issue Description","formControlName","description"],["class","text-xs my-2",4,"ngIf"],[4,"ngIf"],[1,"italic","text-center","text-xs","mb-2"],[3,"value"],["placeholder","Issue Type","formControlName","issue_type"],[1,"text-xs","my-2"],["formControlName","images"],[1,"p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"w-[32rem]","min-h-[24rem]","max-w-[100vw]","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"]]},template:function(c,Z){if(1&c&&(E.j41(0,"header",13)(1,"h2"),E.pXf(2,1),E.k0s(),E.j41(3,"button",14)(4,"app-icon"),E.EFF(5,"close"),E.k0s()()(),E.DNE(6,w,36,7,"main",15)(7,D,3,0,"footer",16)(8,f,4,1,"ng-template",null,0,E.C5r)),2&c){const F=E.sdS(9);E.R7$(6),E.Y8G("ngIf",!Z.loading)("ngIfElse",F),E.R7$(),E.Y8G("ngIf",!Z.loading)}},styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return K})()},1413:(jt,Se,l)=>{"use strict";l.d(Se,{t:()=>te});var t=l(3953),n=l(9417),p=l(7375),v=l(3601),b=l(4903),E=l(1406),M=l(2357),S=l(9548),u=l(5818),I=l(9824),k=l(4512),T=l(7926),w=l(177),D=l(6600),f=l(3719),V=l(9434),K=l(9115);const ne=["select"],U=["*"];function c(G,oe){if(1&G&&(t.j41(0,"div",9),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&G){const ce=t.XpG();t.R7$(),t.SpI(" ",t.brH(2,1,ce.active_time,ce.time_format+" (z)",ce.tz)," ")}}function Z(G,oe){if(1&G&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&G){const ce=t.XpG(2);t.R7$(),t.SpI(" ",t.brH(2,1,ce.force_time,ce.time_format+" (z)",ce.tz)," ")}}function F(G,oe){1&G&&(t.j41(0,"app-icon",17),t.EFF(1," done "),t.k0s())}function J(G,oe){if(1&G){const ce=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(ce);const ve=t.XpG();return t.Njj(ve.setValue(ve.force_time))}),t.j41(1,"div",11)(2,"div",12)(3,"div",13),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.DNE(6,Z,3,5,"div",14),t.k0s(),t.DNE(7,F,2,0,"app-icon",15),t.k0s()()}if(2&G){const ce=t.XpG();t.Y8G("value",ce.force_time),t.R7$(4),t.SpI(" ",t.i5U(5,4,ce.force_time,ce.time_format)," "),t.R7$(2),t.Y8G("ngIf",ce.timezone),t.R7$(),t.Y8G("ngIf",ce.active_time===ce.force_time)}}function z(G,oe){if(1&G&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&G){const ce=t.XpG().$implicit,le=t.XpG();t.R7$(),t.SpI(" ",t.brH(2,1,ce.date,le.time_format+" (z)",le.tz)," ")}}function X(G,oe){1&G&&(t.j41(0,"app-icon",17),t.EFF(1," done "),t.k0s())}function $(G,oe){if(1&G){const ce=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){const ve=t.eBV(ce).$implicit,Q=t.XpG();return t.Njj(Q.setValue(ve.id))}),t.j41(1,"div",11)(2,"div",12)(3,"div",13),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.DNE(6,z,3,5,"div",14),t.k0s(),t.DNE(7,X,2,0,"app-icon",15),t.k0s()()}if(2&G){const ce=oe.$implicit,le=t.XpG();t.Y8G("value",ce.id),t.R7$(4),t.Lme(" ",t.i5U(5,5,ce.date,le.time_format)," ",le.extra_info_fn(ce.date)," "),t.R7$(2),t.Y8G("ngIf",le.timezone),t.R7$(),t.Y8G("ngIf",le.active_time===ce.date)}}let te=(()=>{class G extends p.Tv{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.use_24hr=!1,this.extra_info_fn=ce=>"",this.from=(0,v.o)(Date.now()).valueOf(),this.timezone="",this.date=(new Date).valueOf(),this.time=(0,b.GP)(new Date,"HH:mm"),this.active_time=Date.now()}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get tz(){const ce=this.timezone;return ce?(0,p.GF)(ce):""}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1),this.active_time=this._time_options.find(ce=>ce.id===(0,b.GP)(this.date,"HH:mm"))?.date||this.active_time}ngOnChanges(ce){(ce.no_past_times||ce.step||ce.from)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const ce=(this.time||"00:00").split(":"),le=(0,E.h)(this.date,{hours:+ce[0],minutes:+ce[1]});return le.getMinutes()%15!=0&&!this._time_options.find(ve=>ve.id===(0,b.GP)(le,"HH:mm"))&&(this._time_options.push({date:le,id:(0,b.GP)(le,"HH:mm")}),this._time_options.sort((ve,Q)=>`${ve.id}`.localeCompare(`${Q.id}`))),this._time_options}setValue(ce){if(this.time=ce,this._onChange){const Q=(this.time||"00:00").split(":"),R=(0,M.c)((0,E.h)(this.date,{hours:+Q[0],minutes:+Q[1]}));this._onChange(R.valueOf())}const le=this.force_time||this.time,ve=(0,M.c)((0,E.h)(this.date,{hours:+le[0],minutes:+le[1]}));this.active_time=this._time_options.find(Q=>Q.id===le)?.date||ve}writeValue(ce){this.date=ce||this.date;let le=(0,M.c)(this.date);le=(0,S.X)(le,{nearestTo:5}),this.time=(0,b.GP)(le,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step);const ve=this.force_time||this.time;this.active_time=this._time_options.find(Q=>Q.id===ve)?.date||le}setDisabledState(ce){this.disabled=ce,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times||ce,this.step)}registerOnChange(ce){this._onChange=ce}registerOnTouched(ce){this._onTouch=ce}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(ce=>{ce||(this.show_select=!1)})))})}generateAvailableTimes(ce,le,ve=15){const Q=new Date(Math.max(this.from,Date.now()));let R=new Date(ce);const L=[];le||!(0,u.r)(R,Q)&&(0,I.d)(R,Q)?R=(0,v.o)(R):(0,I.d)(R,Q)&&(R=new Date(Q)),R=(0,S.X)(R,{nearestTo:ve});const H=(0,k.D)(R);for(;(0,I.d)(H,R);)L.push({date:R.valueOf(),id:(0,b.GP)(R,"HH:mm")}),R=(0,T.z)(R,ve);return L}static#e=this.\u0275fac=(()=>{let ce;return function(ve){return(ce||(ce=t.xGo(G)))(ve||G)}})();static#t=this.\u0275cmp=t.VBU({type:G,selectors:[["a-time-field"]],viewQuery:function(le,ve){if(1&le&&t.GBs(ne,5),2&le){let Q;t.mGM(Q=t.lsd())&&(ve.select_field=Q.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times",use_24hr:"use_24hr",force_time:"force_time",extra_info_fn:"extra_info_fn",from:"from",timezone:"timezone"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>G),multi:!0}]),t.Vt3,t.OA$],ngContentSelectors:U,decls:14,vars:11,consts:[["menu","matMenu"],["matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full","px-2",3,"disabled","matMenuTriggerFor"],[1,"flex","flex-col","leading-tight","px-2","text-left","flex-1","w-1/2"],[1,"truncate"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"text-2xl"],[1,"max-h-[15rem]","min-w-[18rem]"],["mat-menu-item","","class","text-left",3,"value","click",4,"ngIf"],["mat-menu-item","","class","text-left",3,"value","click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-30","truncate"],["mat-menu-item","",1,"text-left",3,"click","value"],[1,"flex","items-center","justify-between"],[1,"flex","flex-col","leading-tight"],[1,""],["class","text-xs opacity-30",4,"ngIf"],["class","text-2xl ml-2",4,"ngIf"],[1,"text-xs","opacity-30"],[1,"text-2xl","ml-2"]],template:function(le,ve){if(1&le&&(t.NAR(),t.j41(0,"button",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.DNE(5,c,3,5,"div",4),t.k0s(),t.j41(6,"app-icon",5),t.EFF(7,"arrow_drop_down"),t.k0s()(),t.j41(8,"mat-menu",6,0),t.DNE(10,J,8,7,"button",7)(11,$,8,8,"button",8),t.k0s(),t.j41(12,"mat-error"),t.SdG(13),t.k0s()),2&le){const Q=t.sdS(9);t.AVh("opacity-30",ve.disabled),t.Y8G("disabled",ve.disabled)("matMenuTriggerFor",Q),t.R7$(3),t.SpI(" ",t.i5U(4,8,ve.active_time,ve.time_format)," "),t.R7$(2),t.Y8G("ngIf",ve.timezone),t.R7$(5),t.Y8G("ngIf",ve.force_time),t.R7$(),t.Y8G("ngForOf",ve.time_options)}},dependencies:[w.Sq,w.bT,D.r6,f.TL,V.R,K.kk,K.fb,K.Cp,w.vh],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return G})()},840:(jt,Se,l)=>{"use strict";l.d(Se,{T:()=>le});var t=l(3953),n=l(9417),p=l(7375),v=l(5006),b=l(3020),E=l(9090),M=l(3921),S=l(8841),u=l(4046),I=l(7336),k=l(9928),T=l(9714),w=l(4421),D=l(1543),f=l(6039),V=l(2372),K=l(3693),ne=l(4129),U=l(1038),c=l(4006);const Z=["search_field"];function F(ve,Q){if(1&ve&&(t.j41(0,"app-icon",22),t.nI1(1,"placeuser"),t.nI1(2,"async"),t.EFF(3),t.nI1(4,"placeuser"),t.nI1(5,"async"),t.k0s()),2&ve){let R,L;const H=t.XpG().$implicit,fe=t.XpG();t.Y8G("matTooltip",null==(R=t.bMT(2,4,t.bMT(1,2,null==H?null:H.email)))?null:R.location_name_time(fe.time)),t.R7$(3),t.SpI(" ",null==(L=t.bMT(5,8,t.bMT(4,6,null==H?null:H.email)))?null:L.location_icon(fe.time)," ")}}function J(ve,Q){if(1&ve){const R=t.RV6();t.j41(0,"mat-chip-row",18),t.bIt("removed",function(){const H=t.eBV(R).$implicit,fe=t.XpG();return t.Njj(fe.removeUser(H))}),t.j41(1,"div",19)(2,"div"),t.EFF(3),t.k0s(),t.DNE(4,F,6,10,"app-icon",20),t.k0s(),t.j41(5,"button",21)(6,"app-icon"),t.EFF(7,"cancel"),t.k0s()()()}if(2&ve){const R=Q.$implicit;t.AVh("bg-warning",R.is_external),t.R7$(3),t.JRh(R.name||R.email),t.R7$(),t.Y8G("ngIf",!R.is_external),t.R7$(),t.BMQ("aria-label","Remove "+(R.name||R.email))}}function z(ve,Q){1&ve&&t.nrm(0,"mat-spinner",23)}function X(ve,Q){if(1&ve){const R=t.RV6();t.j41(0,"mat-option",24),t.bIt("click",function(){t.eBV(R);const H=t.XpG();return t.Njj(H.addUserFromEmail())}),t.pXf(1,4),t.k0s()}if(2&ve){const R=t.XpG();t.R7$(),t.uP7(R.search$.getValue()),t.nnv(1)}}function $(ve,Q){if(1&ve){const R=t.RV6();t.j41(0,"mat-option",25),t.bIt("click",function(){const H=t.eBV(R).$implicit,fe=t.XpG();return t.Njj(fe.addUser(H))}),t.EFF(1),t.nrm(2,"br"),t.j41(3,"span",26),t.EFF(4),t.k0s()()}if(2&ve){const R=Q.$implicit;t.R7$(),t.SpI(" ",R.name,""),t.R7$(3),t.JRh(R.email)}}function te(ve,Q){if(1&ve){const R=t.RV6();t.j41(0,"div",27)(1,"button",28),t.bIt("click",function(){t.eBV(R);const H=t.XpG();return t.Njj(H.openNewUserModal())}),t.PLo(2,5),t.j41(3,"div",29),t.nrm(4,"span",30),t.k0s(),t.YFu(),t.k0s(),t.j41(5,"button",31),t.PLo(6,6),t.j41(7,"div",29),t.nrm(8,"span",30),t.k0s(),t.j41(9,"input",32),t.bIt("change",function(H){t.eBV(R);const fe=t.XpG();return t.Njj(fe.addUsersFromFile(H))}),t.k0s(),t.YFu(),t.k0s(),t.j41(10,"button",33),t.bIt("click",function(){t.eBV(R);const H=t.XpG();return H.downloadCSVTemplate(),t.Njj(H.download.emit())}),t.PLo(11,7),t.j41(12,"div",29),t.nrm(13,"span",30),t.k0s(),t.YFu(),t.k0s()()}}function G(ve){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(ve)}const oe=["text/csv","text/plain"],ce=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];let le=(()=>{class ve extends p.Tv{searchStaff(R){return this._settings.get("app.basic_user_search")?(0,U.n1$)({q:R,authority_id:(0,U.kup)()?.id}).pipe((0,v.T)(L=>L.data.map(H=>new K.KJ(H)))):(0,V.N8)(R)}get search_valid_email(){return G(this.search$.getValue())}constructor(R,L){super(),this._dialog=R,this._settings=L,this.time=Date.now(),this.limit=3,this.guests=!1,this.guests_only=!1,this.hide_actions=!1,this.custom_template=!1,this.new_user=new t.bkB,this.download=new t.bkB,this.separatorKeysCodes=[I.Fm,I.KE],this.loading=!1,this.search$=new k.t(""),this.user_list$=this.search$.pipe((0,b.B)(300),(0,E.n)(H=>(this.loading=!0,(H?this.guests?(0,T.zV)([this.searchStaff(H),(0,f.qI)(H)]).pipe((0,v.T)(([fe,Ie])=>{this.guests_only&&(fe=[]);const Xe=[],bt=this._settings.get("visitor-invitees")||[];for(const rt of bt){const[yt,ot,It]=rt.split("|");Xe.push({email:yt,name:ot,company:It})}return(0,p.Am)(fe.concat(Ie).concat(Xe),"email")})):this.searchStaff(H):(0,w.of)([])).pipe((0,M.W)(fe=>(0,w.of)([]))))),(0,S.M)(H=>this.loading=!1)),this.active_list=[],this.validFn=H=>G(H),this.emptyClick=()=>this.openNewUserModal(new K.KJ)}updateSearch(R=""){this.timeout("search",()=>this.search$.next(R))}addUserFromEmail(R=""){if(R||(R=this.search$.getValue()),!G(R))return;const L=new K.KJ({id:R,email:R,name:R.split("@")[0]});this.addUser(L);const{name:H,organisation:fe}=L,Ie=`${R}|${H}|${fe}`,Xe=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",[...Xe.filter(bt=>!bt.includes(R)),Ie]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}addUser(R){const L=this.active_list?.filter(H=>H.id!==R.id)||[];this.setValue([...L,new K.KJ({...R,id:R.id||R.email,visit_expected:(R.id||!0===R.is_external?null:R.visit_expected)??!0})]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}removeUser(R){const L=this.active_list.filter(H=>H.id!==R.id);this.setValue(L)}addUsersFromFile(R){if(R.target){const L=R.target.files[0];if(L){if(!oe.includes(L.type)||ce.includes(L.type))return void(0,p.UG)("Only CSV files are supported");const H=new FileReader;H.readAsText(L,"UTF-8"),H.addEventListener("load",fe=>{this.processCsvData(fe.srcElement.result),R.target.value=""}),H.addEventListener("error",fe=>(0,p.UG)("Error reading file."))}}}processCsvData(R){const L=(0,p.a6)(R)||[],H=(0,p.Ny)()?.staff_id||"unknown";for(const fe of L){fe.name=fe.name||`${fe.first_name} ${fe.last_name}`;const Ie=(fe.name||`${Math.floor(99999999*Math.random())}`).split(" ").join("_").toLowerCase();fe.email||(fe.email=`${Ie}+${H}@guest.${ne.pd}`);const Xe=this._settings.get("app.bookings.internal_emails")||["place.tech"];fe.visit_expected=fe.visit_expected??!Xe.find(bt=>fe.email.endsWith(bt)),fe.phone=""+fe.phone,this.addUser(new K.KJ(fe))}}downloadCSVTemplate(){this.custom_template||(0,p.PE)("template.csv","Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true")}setValue(R){this.active_list=R,this._onChange&&this._onChange(R)}writeValue(R){this.active_list=R}setDisabledState(R){this.disabled=R}registerOnChange(R){this._onChange=R}registerOnTouched(R){this._onTouch=R}displayFn(R){return R?.name||""}openNewUserModal(R=new K.KJ){const L=this._dialog.open(D.a,{width:"auto",height:"auto",data:{user:R}});L.componentInstance?.event.pipe((0,u.$)(H=>"done"===H.reason)).subscribe(H=>{this.addUser(H.metadata),L.close()})}static#e=this.\u0275fac=function(L){return new(L||ve)(t.rXU(c.bZ),t.rXU(p.h$))};static#t=this.\u0275cmp=t.VBU({type:ve,selectors:[["a-user-list-field"]],viewQuery:function(L,H){if(1&L&&t.GBs(Z,5),2&L){let fe;t.mGM(fe=t.lsd())&&(H._search_el=fe.first)}},inputs:{time:"time",disabled:"disabled",limit:"limit",guests:"guests",guests_only:"guests_only",hide_actions:"hide_actions",custom_template:"custom_template",filter:"filter"},outputs:{new_user:"new_user",download:"download"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>ve),multi:!0}]),t.Vt3],decls:17,vars:14,consts:()=>{let R,L,H,fe,Ie;return R=$localize`:5ecf84665fa441ea616e171804e6652d010c9ed25361968336322693258:Type a name or email`,L=$localize`:8ddbc311625de88f24142f65336765837378c1ca2206723750290169400: Add external user with email "${"\ufffd0\ufffd"}:INTERPOLATION:" `,H=$localize`:Add new external attendeeafa9063944169ae2cd6bd8c0d5e943468ab77e90145038058737617323:${"\ufffd#3\ufffd"}:START_TAG_DIV: Add${"\ufffd#4\ufffd"}:START_TAG_SPAN:External${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_DIV:`,fe=$localize`:Upload attendee list from CSV file0115abeee77902eeda78bb11be738c011e8be9334462048288204440387:${"\ufffd#7\ufffd"}:START_TAG_DIV: Upload${"\ufffd#8\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#7\ufffd"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:TAG_INPUT:`,Ie=$localize`:Download template CSV filef761a83c085b86f026cdf949cf8015ee62d8ca8c6030611805365927572:${"\ufffd#12\ufffd"}:START_TAG_DIV:${"\ufffd#13\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN:Template ${"\ufffd/#12\ufffd"}:CLOSE_TAG_DIV:`,[["origin","matAutocompleteOrigin"],["chipList",""],["search_field",""],["auto","matAutocomplete"],L,H,fe,Ie,["form-field","",1,"mb-4"],["search",""],["appearance","outline","matAutocompleteOrigin","",1,"w-full"],["aria-label","User Seleciom"],["user","",3,"bg-warning","removed",4,"ngFor","ngForOf"],["placeholder",R,"name","user_email",3,"ngModelChange","matChipInputTokenEnd","ngModel","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["diameter","24","matSuffix","",4,"ngIf"],[3,"click",4,"ngIf"],["class","leading-tight",3,"click",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 -mt-4","actions","",4,"ngIf"],["user","",3,"removed"],[1,"flex","items-center","space-x-2"],[3,"matTooltip",4,"ngIf"],["matChipRemove","","remove",""],[3,"matTooltip"],["diameter","24","matSuffix",""],[3,"click"],[1,"leading-tight",3,"click"],[1,"text-xs"],["actions","",1,"flex","items-center","space-x-2","-mt-4"],["btn","","matRipple","","type","button","name","new-contact",1,"inverse","flex-1","sm:flex-none",3,"click"],[1,"flex","items-center","justify-center"],[1,"hidden","sm:inline"],["btn","","matRipple","","type","button","name","upload-csv",1,"relative","inverse","flex-1","sm:flex-none"],["type","file",1,"opacity-0","absolute","inset-0",3,"change"],["btn","","matRipple","","type","button","name","download-template",1,"inverse","flex-1","sm:flex-none",3,"click"]]},template:function(L,H){if(1&L){const fe=t.RV6();t.j41(0,"div",8)(1,"div",9)(2,"mat-form-field",10,0)(4,"mat-chip-grid",11,1),t.DNE(6,J,8,5,"mat-chip-row",12),t.k0s(),t.j41(7,"input",13,2),t.nI1(9,"async"),t.bIt("ngModelChange",function(Xe){return t.eBV(fe),t.Njj(H.updateSearch(Xe))})("matChipInputTokenEnd",function(Xe){return t.eBV(fe),t.Njj(H.addUserFromEmail(Xe.value))}),t.k0s(),t.DNE(10,z,1,0,"mat-spinner",14),t.k0s(),t.j41(11,"mat-autocomplete",null,3),t.DNE(13,X,2,1,"mat-option",15)(14,$,5,2,"mat-option",16),t.nI1(15,"async"),t.k0s()(),t.DNE(16,te,14,0,"div",17),t.k0s()}if(2&L){const fe=t.sdS(5),Ie=t.sdS(12);t.BMQ("disabled",H.disabled),t.R7$(6),t.Y8G("ngForOf",H.active_list),t.R7$(),t.Y8G("ngModel",t.bMT(9,10,H.search$))("matAutocomplete",Ie)("matChipInputFor",fe)("matChipInputSeparatorKeyCodes",H.separatorKeysCodes),t.R7$(3),t.Y8G("ngIf",H.loading),t.R7$(3),t.Y8G("ngIf",H.search_valid_email),t.R7$(),t.Y8G("ngForOf",t.bMT(15,12,H.user_list$)),t.R7$(2),t.Y8G("ngIf",!H.hide_actions)}}})}return ve})()},8e3:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>Z});var t=l(3953),n=l(9417),p=l(5286),v=l(4421),b=l(696),E=l(5006),M=l(3020),S=l(522),u=l(9090),I=l(3921),k=l(7375),T=l(6039),w=l(2372),D=l(3693),f=l(1038);const V=["input"];function K(F,J){1&F&&t.nrm(0,"mat-spinner",11)}function ne(F,J){if(1&F){const z=t.RV6();t.j41(0,"mat-option",12),t.bIt("click",function(){const $=t.eBV(z).$implicit,te=t.XpG();return te.setValue($),t.Njj(te.blurInput())}),t.j41(1,"div",13),t.EFF(2),t.k0s(),t.j41(3,"div",14),t.EFF(4),t.k0s()()}if(2&F){const z=J.$implicit;t.R7$(2),t.JRh(z.name),t.R7$(2),t.SpI(" ",z.email," ")}}function U(F,J){if(1&F){const z=t.RV6();t.j41(0,"mat-option",15)(1,"div",16),t.bIt("mousedown",function($){return t.eBV(z),$.stopPropagation(),t.Njj($.preventDefault())})("touchstart",function($){return t.eBV(z),$.stopPropagation(),t.Njj($.preventDefault())})("click",function($){t.eBV(z);const te=t.XpG();return te.setValue(te.search_str),$.stopPropagation(),t.Njj($.preventDefault())}),t.j41(2,"div",17),t.pXf(3,2),t.k0s()()()}if(2&F){const z=t.XpG();t.R7$(3),t.uP7(z.search_str),t.nnv(3)}}function c(F,J){if(1&F){const z=t.RV6();t.j41(0,"mat-option",18),t.bIt("click",function(){t.eBV(z);const $=t.XpG();return t.Njj($.empty_fn())}),t.EFF(1),t.k0s()}if(2&F){const z=t.XpG();t.Y8G("disabled",!z.empty_fn),t.R7$(),t.Lme(" ",z.search_str?"No users found.":""," ",z.error," ")}}let Z=(()=>{class F extends k.Tv{constructor(z){super(),this._settings=z,this.error="",this.query_fn=X=>this._settings.get("app.basic_user_search")?(0,f.n1$)({q:X,authority_id:(0,f.kup)()?.id}).pipe((0,E.T)($=>$.data.map(te=>new D.KJ(te)))):(0,w.N8)(X),this.search$=new p.B7,this.search_results$=this.search$.pipe((0,M.B)(400),(0,S.F)(),(0,u.n)(X=>(this.loading=!0,this.options&&this.options.length>0?(0,v.of)(this.options):X.length>=3?this.guests?(0,b.p)([(0,w.N8)(X),(0,T.qI)(X)]):this.query_fn(X):(0,v.of)([]))),(0,I.W)(X=>(0,v.of)([])),(0,E.T)(X=>{this.loading=!1,X=(0,k.Bq)(X);const $=(this.search_str||"").toLowerCase();return X.filter(te=>!this.filter||this.filter(te,$))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>this._input_el?.nativeElement?.blur())}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(z=>this.user_list=z)),this.resetSearchString()}resetSearchString(){this.timeout("reset",()=>this.search_str=this.active_user?.name||"",100)}setValue(z,X){if(!z)return;"string"==typeof z&&z===this.search_str&&(z=new D.KJ({name:(this.search_str||X||"").split("@")[0],email:this.search_str||X||""}));const $=z;!("name"in $)&&!("email"in $)||(this.active_user=$,this._onChange&&this._onChange($),this.resetSearchString())}writeValue(z){this.active_user=z,this.resetSearchString()}setDisabledState(z){this.disabled=z}registerOnChange(z){this._onChange=z}registerOnTouched(z){this._onTouch=z}static#e=this.\u0275fac=function(X){return new(X||F)(t.rXU(k.h$))};static#t=this.\u0275cmp=t.VBU({type:F,selectors:[["a-user-search-field"]],viewQuery:function(X,$){if(1&X&&t.GBs(V,5,t.aKT),2&X){let te;t.mGM(te=t.lsd())&&($._input_el=te.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[t.Jv_([{provide:n.kq,useExisting:(0,t.Rfq)(()=>F),multi:!0}]),t.Vt3],decls:11,vars:8,consts:()=>{let z;return z=$localize`:bda749fab8de2e52f25203a840d2aca70b8e5b4d1390235508766899631: Add external attendee "${"\ufffd0\ufffd"}:INTERPOLATION:" `,[["input",""],["auto","matAutocomplete"],z,["appearance","outline",1,"w-full","no-subscript"],["matInput","","keyboard","","name","user-search",3,"ngModelChange","keyup.enter","blur","focus","ngModel","disabled","placeholder","matAutocomplete"],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"click","disabled"]]},template:function(X,$){if(1&X){const te=t.RV6();t.j41(0,"mat-form-field",3)(1,"input",4,0),t.mxI("ngModelChange",function(oe){return t.eBV(te),t.DH7($.search_str,oe)||($.search_str=oe),t.Njj(oe)}),t.bIt("ngModelChange",function(oe){return t.eBV(te),t.Njj($.search$.next(oe||""))})("keyup.enter",function(){return t.eBV(te),t.Njj($.validate&&$.validate($.search_str)?$.setValue($.search_str):"")})("blur",function(){return t.eBV(te),t.Njj($.resetSearchString())})("focus",function(){return t.eBV(te),t.Njj($.cancelReset())}),t.k0s(),t.j41(3,"app-icon",5),t.EFF(4,"search"),t.k0s(),t.DNE(5,K,1,0,"mat-spinner",6),t.k0s(),t.j41(6,"mat-autocomplete",7,1),t.bIt("optionSelected",function(oe){return t.eBV(te),t.Njj($.setValue(oe.option.value))}),t.DNE(8,ne,5,2,"mat-option",8)(9,U,4,1,"mat-option",9)(10,c,2,3,"mat-option",10),t.k0s()}if(2&X){const te=t.sdS(7);t.R7$(),t.R50("ngModel",$.search_str),t.Y8G("disabled",$.disabled)("placeholder",$.placeholder||"Search for user...")("matAutocomplete",te),t.R7$(4),t.Y8G("ngIf",$.loading),t.R7$(3),t.Y8G("ngForOf",$.user_list),t.R7$(),t.Y8G("ngIf",$.search_str&&$.validate&&$.validate($.search_str)),t.R7$(),t.Y8G("ngIf",!(null!=$.user_list&&$.user_list.length)&&($.search_str||$.error))}},styles:["[_nghost-%COMP%]{display:block}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]})}return F})()},2185:(jt,Se,l)=>{"use strict";l.d(Se,{yb:()=>n.y,WS:()=>E}),l(6612);var n=l(8026),p=l(1038);function E(S,u){return S?S instanceof Object?(0,p.f_4)(S.system_id,S.module||u):(0,p.f_4)(S,u):null}l(7451)},5170:(jt,Se,l)=>{"use strict";l.d(Se,{t:()=>n});var t=l(602);class n{constructor(v={}){this.id=v.id||"",this.parent_id=v.parent_id||"",this.name=v.name||"";const b=v.settings||{};this.display_name=v.display_name,this.images=this.images||[];const E=b.discovery_info||b;this.zone_id=v.zone_id||v.zone,this.extras=(v.extras||E.extras||[]).map(S=>({id:S.extra_id||S.id,name:S.extra_name||S.name})),this.loan_items=(v.loan_items||E.loan_items||[]).map(S=>({id:S.extra_id||S.id,name:S.extra_name||S.name})),this.levels=(v.levels||E.levels||[]).map(S=>new t.P({...S,building_id:this.id})),this._roles=v.roles||E.roles||{},this._lockers=v.lockers||v.locker_structure||E.locker_structure||{},this._systems=v.systems||E.systems||{},this._phone_numbers=v.phone_numbers||E.phone_numbers||{},this.location=v.location||E.location||"0,0",this.room_configurations=v.room_configurations||E.room_configurations||[],this.attributes=v.attributes||E.attributes||[];const M=[];if(v.neighbourhoods)for(const S in v.neighbourhoods)if(S in v.neighbourhoods){const u=v.neighbourhoods[S]||{};for(const I in u)I in u&&M.push({id:u[I],name:I,level_id:S})}this.bindings=v.bindings||{},this.searchables=M,this.map_id=v.map_id||"",this.timezone=v.timezone||E.timezone||b.timezone||"",this.catering_hours=v.catering_hours||E.catering_hours||b.catering_hours||{start:7,end:20},this.visitor_space=v.visitor_space||E.visitor_space||b.visitor_space||"",this.holding_bay=v.holding_bay||E.holding_bay||b.holding_bay||"",this.code=v.code||E.code||b.code||"",this.address=v.address||E.address||b.address||"",this.orientations=v.orientations||E.orientations||b.orientations||{},this.booking_details=v.booking_details||E.booking_details||b.booking_details||null,this.catering_restricted_from=v.catering_restricted_from||E.catering_restricted_from||b.catering_restricted_from||-1440,this.currency=v.currency||E.currency||b.currency||"USD"}role(v){return[...this._roles[v]||[]]}get role_names(){return Object.keys(this._roles).filter(v=>v in this._roles)}get lockers(){return{...this._lockers||{}}}get systems(){return{...this._systems||{}}}get phone_numbers(){return{...this._phone_numbers||{}}}featuresForLevel(v){return(this.searchables||[]).filter(b=>b.level_id===v)}}},7451:(jt,Se,l)=>{"use strict";l.d(Se,{g:()=>p});var t=l(1038);const n=["zone","qr_code","toJSON"];class p{constructor(b={}){this.toJSON=()=>this.format(),this.id=b.id||"",this.map_id=b.map_id||b.id||"",this.name=b.name||"",this.bookable=b.bookable??!1,this.zone=b.zone||new t.kMc,this.groups=b.groups||[],this.qr_code=b.qr_code||"",this.features=b.features||[],this.images=b.images||[];for(const E in b)E in this||(this[E]=b[E])}format(){const b={...this};for(const E of n)delete b[E];return(0,t.jv5)(b,[void 0,null,[]]),b}}},602:(jt,Se,l)=>{"use strict";l.d(Se,{P:()=>t});class t{constructor(p={}){this.settings={},this.id=p.id||"",this.parent_id=p.parent_id||"",this.name=p.name||"",this.display_name=p.display_name||"",this.map_id=p.map_id||"",this.capacity=p.capacity||0,this.location=p.location||"",this.locations=p.locations||[],this.tags=p.tags||[],this.images=p.images||[];const v=this.display_name.split(" ");this.number=((v.length>=2?v[v.length-1]:this.display_name[0])?.toUpperCase()||"").substring(0,2)}}},6612:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>n});var t=l(4217);class n{constructor(v={}){this.id=v.id||"",this.name=v.name||"",this.description=v.description||"",this.tags=v.tags||[],this.count=v.count||0,this.capacity=v.capacity||0,this.bindings=v.bindings||{},this._settings=v.settings||{}}setting(v){const b=v.split(".");return(0,t.st)(b,this._settings)}}},8026:(jt,Se,l)=>{"use strict";l.d(Se,{y:()=>ec});var t=l(467),n=l(1038),p=l(9928),v=l(9714),b=l(4421),E=l(5006),M=l(8712),S=l(4046),u=l(8728),I=l(3020),k=l(3921),T=l(9525),w=l(4233),D=l(5170),f=l(602),V=l(6612);class K{constructor(ft){this.id=ft.id||"",this.name=ft.name||"",this.display_name=ft.display_name||"",this.timezone=ft.timezone||"",this.images=ft.images||[],this.bindings=ft.bindings||{},this.address=ft.address||""}}var ne=l(7375);function U(N){return typeof N>"u"||null===N}var le={isNothing:U,isObject:function c(N){return"object"==typeof N&&null!==N},toArray:function Z(N){return Array.isArray(N)?N:U(N)?[]:[N]},repeat:function J(N,ft){var Dt,et="";for(Dt=0;Dt<ft;Dt+=1)et+=N;return et},isNegativeZero:function z(N){return 0===N&&Number.NEGATIVE_INFINITY===1/N},extend:function F(N,ft){var et,Dt,Ot,en;if(ft)for(et=0,Dt=(en=Object.keys(ft)).length;et<Dt;et+=1)N[Ot=en[et]]=ft[Ot];return N}};function ve(N,ft){var et="",Dt=N.reason||"(unknown reason)";return N.mark?(N.mark.name&&(et+='in "'+N.mark.name+'" '),et+="("+(N.mark.line+1)+":"+(N.mark.column+1)+")",!ft&&N.mark.snippet&&(et+="\n\n"+N.mark.snippet),Dt+" "+et):Dt}function Q(N,ft){Error.call(this),this.name="YAMLException",this.reason=N,this.mark=ft,this.message=ve(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(Q.prototype=Object.create(Error.prototype)).constructor=Q,Q.prototype.toString=function(ft){return this.name+": "+ve(this,ft)};var R=Q;function L(N,ft,et,Dt,Ot){var en="",fn="",wn=Math.floor(Ot/2)-1;return Dt-ft>wn&&(ft=Dt-wn+(en=" ... ").length),et-Dt>wn&&(et=Dt+wn-(fn=" ...").length),{str:en+N.slice(ft,et).replace(/\t/g,"\u2192")+fn,pos:Dt-ft+en.length}}function H(N,ft){return le.repeat(" ",ft-N.length)+N}var Ie=function fe(N,ft){if(ft=Object.create(ft||null),!N.buffer)return null;ft.maxLength||(ft.maxLength=79),"number"!=typeof ft.indent&&(ft.indent=1),"number"!=typeof ft.linesBefore&&(ft.linesBefore=3),"number"!=typeof ft.linesAfter&&(ft.linesAfter=2);for(var en,et=/\r?\n|\r|\0/g,Dt=[0],Ot=[],fn=-1;en=et.exec(N.buffer);)Ot.push(en.index),Dt.push(en.index+en[0].length),N.position<=en.index&&fn<0&&(fn=Dt.length-2);fn<0&&(fn=Dt.length-1);var $n,ii,wn="",ki=Math.min(N.line+ft.linesAfter,Ot.length).toString().length,fi=ft.maxLength-(ft.indent+ki+3);for($n=1;$n<=ft.linesBefore&&!(fn-$n<0);$n++)ii=L(N.buffer,Dt[fn-$n],Ot[fn-$n],N.position-(Dt[fn]-Dt[fn-$n]),fi),wn=le.repeat(" ",ft.indent)+H((N.line-$n+1).toString(),ki)+" | "+ii.str+"\n"+wn;for(ii=L(N.buffer,Dt[fn],Ot[fn],N.position,fi),wn+=le.repeat(" ",ft.indent)+H((N.line+1).toString(),ki)+" | "+ii.str+"\n",wn+=le.repeat("-",ft.indent+ki+3+ii.pos)+"^\n",$n=1;$n<=ft.linesAfter&&!(fn+$n>=Ot.length);$n++)ii=L(N.buffer,Dt[fn+$n],Ot[fn+$n],N.position-(Dt[fn]-Dt[fn+$n]),fi),wn+=le.repeat(" ",ft.indent)+H((N.line+$n+1).toString(),ki)+" | "+ii.str+"\n";return wn.replace(/\n$/,"")},Xe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],bt=["scalar","sequence","mapping"],ot=function yt(N,ft){if(ft=ft||{},Object.keys(ft).forEach(function(et){if(-1===Xe.indexOf(et))throw new R('Unknown option "'+et+'" is met in definition of "'+N+'" YAML type.')}),this.options=ft,this.tag=N,this.kind=ft.kind||null,this.resolve=ft.resolve||function(){return!0},this.construct=ft.construct||function(et){return et},this.instanceOf=ft.instanceOf||null,this.predicate=ft.predicate||null,this.represent=ft.represent||null,this.representName=ft.representName||null,this.defaultStyle=ft.defaultStyle||null,this.multi=ft.multi||!1,this.styleAliases=function rt(N){var ft={};return null!==N&&Object.keys(N).forEach(function(et){N[et].forEach(function(Dt){ft[String(Dt)]=et})}),ft}(ft.styleAliases||null),-1===bt.indexOf(this.kind))throw new R('Unknown kind "'+this.kind+'" is specified for "'+N+'" YAML type.')};function It(N,ft){var et=[];return N[ft].forEach(function(Dt){var Ot=et.length;et.forEach(function(en,fn){en.tag===Dt.tag&&en.kind===Dt.kind&&en.multi===Dt.multi&&(Ot=fn)}),et[Ot]=Dt}),et}function we(N){return this.extend(N)}we.prototype.extend=function(ft){var et=[],Dt=[];if(ft instanceof ot)Dt.push(ft);else if(Array.isArray(ft))Dt=Dt.concat(ft);else{if(!ft||!Array.isArray(ft.implicit)&&!Array.isArray(ft.explicit))throw new R("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");ft.implicit&&(et=et.concat(ft.implicit)),ft.explicit&&(Dt=Dt.concat(ft.explicit))}et.forEach(function(en){if(!(en instanceof ot))throw new R("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(en.loadKind&&"scalar"!==en.loadKind)throw new R("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(en.multi)throw new R("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Dt.forEach(function(en){if(!(en instanceof ot))throw new R("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var Ot=Object.create(we.prototype);return Ot.implicit=(this.implicit||[]).concat(et),Ot.explicit=(this.explicit||[]).concat(Dt),Ot.compiledImplicit=It(Ot,"implicit"),Ot.compiledExplicit=It(Ot,"explicit"),Ot.compiledTypeMap=function Ae(){var ft,et,N={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function Dt(Ot){Ot.multi?(N.multi[Ot.kind].push(Ot),N.multi.fallback.push(Ot)):N[Ot.kind][Ot.tag]=N.fallback[Ot.tag]=Ot}for(ft=0,et=arguments.length;ft<et;ft+=1)arguments[ft].forEach(Dt);return N}(Ot.compiledImplicit,Ot.compiledExplicit),Ot};var St=new we({explicit:[new ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(N){return null!==N?N:""}}),new ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(N){return null!==N?N:[]}}),new ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(N){return null!==N?N:{}}})]}),Mn=new ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:function tt(N){if(null===N)return!0;var ft=N.length;return 1===ft&&"~"===N||4===ft&&("null"===N||"Null"===N||"NULL"===N)},construct:function wt(){return null},predicate:function ln(N){return null===N},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),W=new ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Bn(N){if(null===N)return!1;var ft=N.length;return 4===ft&&("true"===N||"True"===N||"TRUE"===N)||5===ft&&("false"===N||"False"===N||"FALSE"===N)},construct:function Jt(N){return"true"===N||"True"===N||"TRUE"===N},predicate:function Ft(N){return"[object Boolean]"===Object.prototype.toString.call(N)},represent:{lowercase:function(N){return N?"true":"false"},uppercase:function(N){return N?"TRUE":"FALSE"},camelcase:function(N){return N?"True":"False"}},defaultStyle:"lowercase"});function Me(N){return 48<=N&&N<=57||65<=N&&N<=70||97<=N&&N<=102}function ie(N){return 48<=N&&N<=55}function pe(N){return 48<=N&&N<=57}var vn=new ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Be(N){if(null===N)return!1;var Ot,ft=N.length,et=0,Dt=!1;if(!ft)return!1;if(("-"===(Ot=N[et])||"+"===Ot)&&(Ot=N[++et]),"0"===Ot){if(et+1===ft)return!0;if("b"===(Ot=N[++et])){for(et++;et<ft;et++)if("_"!==(Ot=N[et])){if("0"!==Ot&&"1"!==Ot)return!1;Dt=!0}return Dt&&"_"!==Ot}if("x"===Ot){for(et++;et<ft;et++)if("_"!==(Ot=N[et])){if(!Me(N.charCodeAt(et)))return!1;Dt=!0}return Dt&&"_"!==Ot}if("o"===Ot){for(et++;et<ft;et++)if("_"!==(Ot=N[et])){if(!ie(N.charCodeAt(et)))return!1;Dt=!0}return Dt&&"_"!==Ot}}if("_"===Ot)return!1;for(;et<ft;et++)if("_"!==(Ot=N[et])){if(!pe(N.charCodeAt(et)))return!1;Dt=!0}return!(!Dt||"_"===Ot)},construct:function Tt(N){var Dt,ft=N,et=1;if(-1!==ft.indexOf("_")&&(ft=ft.replace(/_/g,"")),("-"===(Dt=ft[0])||"+"===Dt)&&("-"===Dt&&(et=-1),Dt=(ft=ft.slice(1))[0]),"0"===ft)return 0;if("0"===Dt){if("b"===ft[1])return et*parseInt(ft.slice(2),2);if("x"===ft[1])return et*parseInt(ft.slice(2),16);if("o"===ft[1])return et*parseInt(ft.slice(2),8)}return et*parseInt(ft,10)},predicate:function Wt(N){return"[object Number]"===Object.prototype.toString.call(N)&&N%1==0&&!le.isNegativeZero(N)},represent:{binary:function(N){return N>=0?"0b"+N.toString(2):"-0b"+N.toString(2).slice(1)},octal:function(N){return N>=0?"0o"+N.toString(8):"-0o"+N.toString(8).slice(1)},decimal:function(N){return N.toString(10)},hexadecimal:function(N){return N>=0?"0x"+N.toString(16).toUpperCase():"-0x"+N.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Pt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),pt=/^[-+]?[0-9]+e/,pn=new ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:function dn(N){return!(null===N||!Pt.test(N)||"_"===N[N.length-1])},construct:function at(N){var ft,et;return et="-"===(ft=N.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(ft[0])>=0&&(ft=ft.slice(1)),".inf"===ft?1===et?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===ft?NaN:et*parseFloat(ft,10)},predicate:function Gt(N){return"[object Number]"===Object.prototype.toString.call(N)&&(N%1!=0||le.isNegativeZero(N))},represent:function Xt(N,ft){var et;if(isNaN(N))switch(ft){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===N)switch(ft){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===N)switch(ft){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(le.isNegativeZero(N))return"-0.0";return et=N.toString(10),pt.test(et)?et.replace("e",".e"):et},defaultStyle:"lowercase"}),xn=St.extend({implicit:[Mn,W,vn,pn]}),kn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Gn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Vt=new ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function hi(N){return null!==N&&(null!==kn.exec(N)||null!==Gn.exec(N))},construct:function Ht(N){var ft,et,Dt,Ot,en,fn,wn,si,$n=0,ii=null;if(null===(ft=kn.exec(N))&&(ft=Gn.exec(N)),null===ft)throw new Error("Date resolve error");if(et=+ft[1],Dt=+ft[2]-1,Ot=+ft[3],!ft[4])return new Date(Date.UTC(et,Dt,Ot));if(en=+ft[4],fn=+ft[5],wn=+ft[6],ft[7]){for($n=ft[7].slice(0,3);$n.length<3;)$n+="0";$n=+$n}return ft[9]&&(ii=6e4*(60*+ft[10]+ +(ft[11]||0)),"-"===ft[9]&&(ii=-ii)),si=new Date(Date.UTC(et,Dt,Ot,en,fn,wn,$n)),ii&&si.setTime(si.getTime()-ii),si},instanceOf:Date,represent:function dt(N){return N.toISOString()}}),kt=new ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function ct(N){return"<<"===N||null===N}}),qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",Re=new ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function un(N){if(null===N)return!1;var ft,et,Dt=0,Ot=N.length,en=qt;for(et=0;et<Ot;et++)if(!((ft=en.indexOf(N.charAt(et)))>64)){if(ft<0)return!1;Dt+=6}return Dt%8==0},construct:function Qe(N){var ft,et,Dt=N.replace(/[\r\n=]/g,""),Ot=Dt.length,en=qt,fn=0,wn=[];for(ft=0;ft<Ot;ft++)ft%4==0&&ft&&(wn.push(fn>>16&255),wn.push(fn>>8&255),wn.push(255&fn)),fn=fn<<6|en.indexOf(Dt.charAt(ft));return 0==(et=Ot%4*6)?(wn.push(fn>>16&255),wn.push(fn>>8&255),wn.push(255&fn)):18===et?(wn.push(fn>>10&255),wn.push(fn>>2&255)):12===et&&wn.push(fn>>4&255),new Uint8Array(wn)},predicate:function ze(N){return"[object Uint8Array]"===Object.prototype.toString.call(N)},represent:function je(N){var Dt,Ot,ft="",et=0,en=N.length,fn=qt;for(Dt=0;Dt<en;Dt++)Dt%3==0&&Dt&&(ft+=fn[et>>18&63],ft+=fn[et>>12&63],ft+=fn[et>>6&63],ft+=fn[63&et]),et=(et<<8)+N[Dt];return 0==(Ot=en%3)?(ft+=fn[et>>18&63],ft+=fn[et>>12&63],ft+=fn[et>>6&63],ft+=fn[63&et]):2===Ot?(ft+=fn[et>>10&63],ft+=fn[et>>4&63],ft+=fn[et<<2&63],ft+=fn[64]):1===Ot&&(ft+=fn[et>>2&63],ft+=fn[et<<4&63],ft+=fn[64],ft+=fn[64]),ft}}),it=Object.prototype.hasOwnProperty,We=Object.prototype.toString,Ke=new ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function ht(N){if(null===N)return!0;var et,Dt,Ot,en,fn,ft=[],wn=N;for(et=0,Dt=wn.length;et<Dt;et+=1){if(fn=!1,"[object Object]"!==We.call(Ot=wn[et]))return!1;for(en in Ot)if(it.call(Ot,en)){if(fn)return!1;fn=!0}if(!fn)return!1;if(-1!==ft.indexOf(en))return!1;ft.push(en)}return!0},construct:function He(N){return null!==N?N:[]}}),Kt=Object.prototype.toString,_n=new ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function gt(N){if(null===N)return!0;var ft,et,Dt,Ot,en,fn=N;for(en=new Array(fn.length),ft=0,et=fn.length;ft<et;ft+=1){if("[object Object]"!==Kt.call(Dt=fn[ft])||1!==(Ot=Object.keys(Dt)).length)return!1;en[ft]=[Ot[0],Dt[Ot[0]]]}return!0},construct:function Ct(N){if(null===N)return[];var ft,et,Dt,Ot,en,fn=N;for(en=new Array(fn.length),ft=0,et=fn.length;ft<et;ft+=1)Dt=fn[ft],Ot=Object.keys(Dt),en[ft]=[Ot[0],Dt[Ot[0]]];return en}}),yn=Object.prototype.hasOwnProperty,Oi=new ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:function Vn(N){if(null===N)return!0;var ft,et=N;for(ft in et)if(yn.call(et,ft)&&null!==et[ft])return!1;return!0},construct:function mi(N){return null!==N?N:{}}}),Mi=xn.extend({implicit:[Vt,kt],explicit:[Re,Ke,_n,Oi]}),wi=Object.prototype.hasOwnProperty,Ki=1,ji=2,ts=3,xs=4,Yi=1,jn=2,lt=3,At=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ut=/[\x85\u2028\u2029]/,An=/[,\[\]\{\}]/,ye=/^(?:!|!!|![a-z\-]+!)$/i,_t=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function q(N){return Object.prototype.toString.call(N)}function Ue(N){return 10===N||13===N}function Fe(N){return 9===N||32===N}function mt(N){return 9===N||32===N||10===N||13===N}function ut(N){return 44===N||91===N||93===N||123===N||125===N}function Pn(N){var ft;return 48<=N&&N<=57?N-48:97<=(ft=32|N)&&ft<=102?ft-97+10:-1}function Yt(N){return 120===N?2:117===N?4:85===N?8:0}function Dn(N){return 48<=N&&N<=57?N-48:-1}function Sn(N){return 48===N?"\0":97===N?"\x07":98===N?"\b":116===N||9===N?"\t":110===N?"\n":118===N?"\v":102===N?"\f":114===N?"\r":101===N?"\x1b":32===N?" ":34===N?'"':47===N?"/":92===N?"\\":78===N?"\x85":95===N?"\xa0":76===N?"\u2028":80===N?"\u2029":""}function Jn(N){return N<=65535?String.fromCharCode(N):String.fromCharCode(55296+(N-65536>>10),56320+(N-65536&1023))}for(var ci=new Array(256),Li=new Array(256),Ui=0;Ui<256;Ui++)ci[Ui]=Sn(Ui)?1:0,Li[Ui]=Sn(Ui);function es(N,ft){this.input=N,this.filename=ft.filename||null,this.schema=ft.schema||Mi,this.onWarning=ft.onWarning||null,this.legacy=ft.legacy||!1,this.json=ft.json||!1,this.listener=ft.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=N.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function as(N,ft){var et={name:N.filename,buffer:N.input.slice(0,-1),position:N.position,line:N.line,column:N.position-N.lineStart};return et.snippet=Ie(et),new R(ft,et)}function ti(N,ft){throw as(N,ft)}function qs(N,ft){N.onWarning&&N.onWarning.call(null,as(N,ft))}var Qi={YAML:function(ft,et,Dt){var Ot,en,fn;null!==ft.version&&ti(ft,"duplication of %YAML directive"),1!==Dt.length&&ti(ft,"YAML directive accepts exactly one argument"),null===(Ot=/^([0-9]+)\.([0-9]+)$/.exec(Dt[0]))&&ti(ft,"ill-formed argument of the YAML directive"),en=parseInt(Ot[1],10),fn=parseInt(Ot[2],10),1!==en&&ti(ft,"unacceptable YAML version of the document"),ft.version=Dt[0],ft.checkLineBreaks=fn<2,1!==fn&&2!==fn&&qs(ft,"unsupported YAML version of the document")},TAG:function(ft,et,Dt){var Ot,en;2!==Dt.length&&ti(ft,"TAG directive accepts exactly two arguments"),en=Dt[1],ye.test(Ot=Dt[0])||ti(ft,"ill-formed tag handle (first argument) of the TAG directive"),wi.call(ft.tagMap,Ot)&&ti(ft,'there is a previously declared suffix for "'+Ot+'" tag handle'),_t.test(en)||ti(ft,"ill-formed tag prefix (second argument) of the TAG directive");try{en=decodeURIComponent(en)}catch{ti(ft,"tag prefix is malformed: "+en)}ft.tagMap[Ot]=en}};function Ks(N,ft,et,Dt){var Ot,en,fn,wn;if(ft<et){if(wn=N.input.slice(ft,et),Dt)for(Ot=0,en=wn.length;Ot<en;Ot+=1)9===(fn=wn.charCodeAt(Ot))||32<=fn&&fn<=1114111||ti(N,"expected valid JSON character");else At.test(wn)&&ti(N,"the stream contains non-printable characters");N.result+=wn}}function vo(N,ft,et,Dt){var Ot,en,fn,wn;for(le.isObject(et)||ti(N,"cannot merge mappings; the provided source object is unacceptable"),fn=0,wn=(Ot=Object.keys(et)).length;fn<wn;fn+=1)wi.call(ft,en=Ot[fn])||(ft[en]=et[en],Dt[en]=!0)}function zs(N,ft,et,Dt,Ot,en,fn,wn,$n){var ii,ki;if(Array.isArray(Ot))for(ii=0,ki=(Ot=Array.prototype.slice.call(Ot)).length;ii<ki;ii+=1)Array.isArray(Ot[ii])&&ti(N,"nested arrays are not supported inside keys"),"object"==typeof Ot&&"[object Object]"===q(Ot[ii])&&(Ot[ii]="[object Object]");if("object"==typeof Ot&&"[object Object]"===q(Ot)&&(Ot="[object Object]"),Ot=String(Ot),null===ft&&(ft={}),"tag:yaml.org,2002:merge"===Dt)if(Array.isArray(en))for(ii=0,ki=en.length;ii<ki;ii+=1)vo(N,ft,en[ii],et);else vo(N,ft,en,et);else!N.json&&!wi.call(et,Ot)&&wi.call(ft,Ot)&&(N.line=fn||N.line,N.lineStart=wn||N.lineStart,N.position=$n||N.position,ti(N,"duplicated mapping key")),"__proto__"===Ot?Object.defineProperty(ft,Ot,{configurable:!0,enumerable:!0,writable:!0,value:en}):ft[Ot]=en,delete et[Ot];return ft}function Er(N){var ft;10===(ft=N.input.charCodeAt(N.position))?N.position++:13===ft?(N.position++,10===N.input.charCodeAt(N.position)&&N.position++):ti(N,"a line break is expected"),N.line+=1,N.lineStart=N.position,N.firstTabInLine=-1}function bs(N,ft,et){for(var Dt=0,Ot=N.input.charCodeAt(N.position);0!==Ot;){for(;Fe(Ot);)9===Ot&&-1===N.firstTabInLine&&(N.firstTabInLine=N.position),Ot=N.input.charCodeAt(++N.position);if(ft&&35===Ot)do{Ot=N.input.charCodeAt(++N.position)}while(10!==Ot&&13!==Ot&&0!==Ot);if(!Ue(Ot))break;for(Er(N),Ot=N.input.charCodeAt(N.position),Dt++,N.lineIndent=0;32===Ot;)N.lineIndent++,Ot=N.input.charCodeAt(++N.position)}return-1!==et&&0!==Dt&&N.lineIndent<et&&qs(N,"deficient indentation"),Dt}function Ir(N){var et,ft=N.position;return!(45!==(et=N.input.charCodeAt(ft))&&46!==et||et!==N.input.charCodeAt(ft+1)||et!==N.input.charCodeAt(ft+2)||(ft+=3,et=N.input.charCodeAt(ft),0!==et&&!mt(et)))}function ir(N,ft){1===ft?N.result+=" ":ft>1&&(N.result+=le.repeat("\n",ft-1))}function zo(N,ft){var et,$n,Dt=N.tag,Ot=N.anchor,en=[],wn=!1;if(-1!==N.firstTabInLine)return!1;for(null!==N.anchor&&(N.anchorMap[N.anchor]=en),$n=N.input.charCodeAt(N.position);0!==$n&&(-1!==N.firstTabInLine&&(N.position=N.firstTabInLine,ti(N,"tab characters must not be used in indentation")),45===$n&&mt(N.input.charCodeAt(N.position+1)));)if(wn=!0,N.position++,bs(N,!0,-1)&&N.lineIndent<=ft)en.push(null),$n=N.input.charCodeAt(N.position);else if(et=N.line,Do(N,ft,ts,!1,!0),en.push(N.result),bs(N,!0,-1),$n=N.input.charCodeAt(N.position),(N.line===et||N.lineIndent>ft)&&0!==$n)ti(N,"bad indentation of a sequence entry");else if(N.lineIndent<ft)break;return!!wn&&(N.tag=Dt,N.anchor=Ot,N.kind="sequence",N.result=en,!0)}function ta(N){var ft,Ot,en,fn,et=!1,Dt=!1;if(33!==(fn=N.input.charCodeAt(N.position)))return!1;if(null!==N.tag&&ti(N,"duplication of a tag property"),60===(fn=N.input.charCodeAt(++N.position))?(et=!0,fn=N.input.charCodeAt(++N.position)):33===fn?(Dt=!0,Ot="!!",fn=N.input.charCodeAt(++N.position)):Ot="!",ft=N.position,et){do{fn=N.input.charCodeAt(++N.position)}while(0!==fn&&62!==fn);N.position<N.length?(en=N.input.slice(ft,N.position),fn=N.input.charCodeAt(++N.position)):ti(N,"unexpected end of the stream within a verbatim tag")}else{for(;0!==fn&&!mt(fn);)33===fn&&(Dt?ti(N,"tag suffix cannot contain exclamation marks"):(Ot=N.input.slice(ft-1,N.position+1),ye.test(Ot)||ti(N,"named tag handle cannot contain such characters"),Dt=!0,ft=N.position+1)),fn=N.input.charCodeAt(++N.position);en=N.input.slice(ft,N.position),An.test(en)&&ti(N,"tag suffix cannot contain flow indicator characters")}en&&!_t.test(en)&&ti(N,"tag name cannot contain such characters: "+en);try{en=decodeURIComponent(en)}catch{ti(N,"tag name is malformed: "+en)}return et?N.tag=en:wi.call(N.tagMap,Ot)?N.tag=N.tagMap[Ot]+en:"!"===Ot?N.tag="!"+en:"!!"===Ot?N.tag="tag:yaml.org,2002:"+en:ti(N,'undeclared tag handle "'+Ot+'"'),!0}function jr(N){var ft,et;if(38!==(et=N.input.charCodeAt(N.position)))return!1;for(null!==N.anchor&&ti(N,"duplication of an anchor property"),et=N.input.charCodeAt(++N.position),ft=N.position;0!==et&&!mt(et)&&!ut(et);)et=N.input.charCodeAt(++N.position);return N.position===ft&&ti(N,"name of an anchor node must contain at least one character"),N.anchor=N.input.slice(ft,N.position),!0}function Do(N,ft,et,Dt,Ot){var en,fn,wn,fi,si,Zi,cs,rs,ao,$n=1,ii=!1,ki=!1;if(null!==N.listener&&N.listener("open",N),N.tag=null,N.anchor=null,N.kind=null,N.result=null,en=fn=wn=xs===et||ts===et,Dt&&bs(N,!0,-1)&&(ii=!0,N.lineIndent>ft?$n=1:N.lineIndent===ft?$n=0:N.lineIndent<ft&&($n=-1)),1===$n)for(;ta(N)||jr(N);)bs(N,!0,-1)?(ii=!0,wn=en,N.lineIndent>ft?$n=1:N.lineIndent===ft?$n=0:N.lineIndent<ft&&($n=-1)):wn=!1;if(wn&&(wn=ii||Ot),(1===$n||xs===et)&&(rs=Ki===et||ji===et?ft:ft+1,ao=N.position-N.lineStart,1===$n?wn&&(zo(N,ao)||function ea(N,ft,et){var Dt,Ot,en,fn,wn,$n,Rs,ii=N.tag,ki=N.anchor,fi={},si=Object.create(null),Zi=null,cs=null,rs=null,ao=!1,xr=!1;if(-1!==N.firstTabInLine)return!1;for(null!==N.anchor&&(N.anchorMap[N.anchor]=fi),Rs=N.input.charCodeAt(N.position);0!==Rs;){if(!ao&&-1!==N.firstTabInLine&&(N.position=N.firstTabInLine,ti(N,"tab characters must not be used in indentation")),Dt=N.input.charCodeAt(N.position+1),en=N.line,63!==Rs&&58!==Rs||!mt(Dt)){if(fn=N.line,wn=N.lineStart,$n=N.position,!Do(N,et,ji,!1,!0))break;if(N.line===en){for(Rs=N.input.charCodeAt(N.position);Fe(Rs);)Rs=N.input.charCodeAt(++N.position);if(58===Rs)mt(Rs=N.input.charCodeAt(++N.position))||ti(N,"a whitespace character is expected after the key-value separator within a block mapping"),ao&&(zs(N,fi,si,Zi,cs,null,fn,wn,$n),Zi=cs=rs=null),xr=!0,ao=!1,Ot=!1,Zi=N.tag,cs=N.result;else{if(!xr)return N.tag=ii,N.anchor=ki,!0;ti(N,"can not read an implicit mapping pair; a colon is missed")}}else{if(!xr)return N.tag=ii,N.anchor=ki,!0;ti(N,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===Rs?(ao&&(zs(N,fi,si,Zi,cs,null,fn,wn,$n),Zi=cs=rs=null),xr=!0,ao=!0,Ot=!0):ao?(ao=!1,Ot=!0):ti(N,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),N.position+=1,Rs=Dt;if((N.line===en||N.lineIndent>ft)&&(ao&&(fn=N.line,wn=N.lineStart,$n=N.position),Do(N,ft,xs,!0,Ot)&&(ao?cs=N.result:rs=N.result),ao||(zs(N,fi,si,Zi,cs,rs,fn,wn,$n),Zi=cs=rs=null),bs(N,!0,-1),Rs=N.input.charCodeAt(N.position)),(N.line===en||N.lineIndent>ft)&&0!==Rs)ti(N,"bad indentation of a mapping entry");else if(N.lineIndent<ft)break}return ao&&zs(N,fi,si,Zi,cs,null,fn,wn,$n),xr&&(N.tag=ii,N.anchor=ki,N.kind="mapping",N.result=fi),xr}(N,ao,rs))||function pr(N,ft){var Dt,Ot,en,wn,ki,fi,si,Zi,rs,ao,xr,Rs,et=!0,fn=N.tag,$n=N.anchor,cs=Object.create(null);if(91===(Rs=N.input.charCodeAt(N.position)))ki=93,Zi=!1,wn=[];else{if(123!==Rs)return!1;ki=125,Zi=!0,wn={}}for(null!==N.anchor&&(N.anchorMap[N.anchor]=wn),Rs=N.input.charCodeAt(++N.position);0!==Rs;){if(bs(N,!0,ft),(Rs=N.input.charCodeAt(N.position))===ki)return N.position++,N.tag=fn,N.anchor=$n,N.kind=Zi?"mapping":"sequence",N.result=wn,!0;et?44===Rs&&ti(N,"expected the node content, but found ','"):ti(N,"missed comma between flow collection entries"),xr=null,fi=si=!1,63===Rs&&mt(N.input.charCodeAt(N.position+1))&&(fi=si=!0,N.position++,bs(N,!0,ft)),Dt=N.line,Ot=N.lineStart,en=N.position,Do(N,ft,Ki,!1,!0),ao=N.tag,rs=N.result,bs(N,!0,ft),Rs=N.input.charCodeAt(N.position),(si||N.line===Dt)&&58===Rs&&(fi=!0,Rs=N.input.charCodeAt(++N.position),bs(N,!0,ft),Do(N,ft,Ki,!1,!0),xr=N.result),Zi?zs(N,wn,cs,ao,rs,xr,Dt,Ot,en):wn.push(fi?zs(N,null,cs,ao,rs,xr,Dt,Ot,en):rs),bs(N,!0,ft),44===(Rs=N.input.charCodeAt(N.position))?(et=!0,Rs=N.input.charCodeAt(++N.position)):et=!1}ti(N,"unexpected end of the stream within a flow collection")}(N,rs)?ki=!0:(fn&&function fa(N,ft){var et,Dt,ki,fi,Ot=Yi,en=!1,fn=!1,wn=ft,$n=0,ii=!1;if(124===(fi=N.input.charCodeAt(N.position)))Dt=!1;else{if(62!==fi)return!1;Dt=!0}for(N.kind="scalar",N.result="";0!==fi;)if(43===(fi=N.input.charCodeAt(++N.position))||45===fi)Yi===Ot?Ot=43===fi?lt:jn:ti(N,"repeat of a chomping mode identifier");else{if(!((ki=Dn(fi))>=0))break;0===ki?ti(N,"bad explicit indentation width of a block scalar; it cannot be less than one"):fn?ti(N,"repeat of an indentation width identifier"):(wn=ft+ki-1,fn=!0)}if(Fe(fi)){do{fi=N.input.charCodeAt(++N.position)}while(Fe(fi));if(35===fi)do{fi=N.input.charCodeAt(++N.position)}while(!Ue(fi)&&0!==fi)}for(;0!==fi;){for(Er(N),N.lineIndent=0,fi=N.input.charCodeAt(N.position);(!fn||N.lineIndent<wn)&&32===fi;)N.lineIndent++,fi=N.input.charCodeAt(++N.position);if(!fn&&N.lineIndent>wn&&(wn=N.lineIndent),Ue(fi))$n++;else{if(N.lineIndent<wn){Ot===lt?N.result+=le.repeat("\n",en?1+$n:$n):Ot===Yi&&en&&(N.result+="\n");break}for(Dt?Fe(fi)?(ii=!0,N.result+=le.repeat("\n",en?1+$n:$n)):ii?(ii=!1,N.result+=le.repeat("\n",$n+1)):0===$n?en&&(N.result+=" "):N.result+=le.repeat("\n",$n):N.result+=le.repeat("\n",en?1+$n:$n),en=!0,fn=!0,$n=0,et=N.position;!Ue(fi)&&0!==fi;)fi=N.input.charCodeAt(++N.position);Ks(N,et,N.position,!1)}}return!0}(N,rs)||function fr(N,ft){var et,Dt,Ot;if(39!==(et=N.input.charCodeAt(N.position)))return!1;for(N.kind="scalar",N.result="",N.position++,Dt=Ot=N.position;0!==(et=N.input.charCodeAt(N.position));)if(39===et){if(Ks(N,Dt,N.position,!0),39!==(et=N.input.charCodeAt(++N.position)))return!0;Dt=N.position,N.position++,Ot=N.position}else Ue(et)?(Ks(N,Dt,Ot,!0),ir(N,bs(N,!1,ft)),Dt=Ot=N.position):N.position===N.lineStart&&Ir(N)?ti(N,"unexpected end of the document within a single quoted scalar"):(N.position++,Ot=N.position);ti(N,"unexpected end of the stream within a single quoted scalar")}(N,rs)||function $r(N,ft){var et,Dt,Ot,en,fn,wn;if(34!==(wn=N.input.charCodeAt(N.position)))return!1;for(N.kind="scalar",N.result="",N.position++,et=Dt=N.position;0!==(wn=N.input.charCodeAt(N.position));){if(34===wn)return Ks(N,et,N.position,!0),N.position++,!0;if(92===wn){if(Ks(N,et,N.position,!0),Ue(wn=N.input.charCodeAt(++N.position)))bs(N,!1,ft);else if(wn<256&&ci[wn])N.result+=Li[wn],N.position++;else if((fn=Yt(wn))>0){for(Ot=fn,en=0;Ot>0;Ot--)(fn=Pn(wn=N.input.charCodeAt(++N.position)))>=0?en=(en<<4)+fn:ti(N,"expected hexadecimal character");N.result+=Jn(en),N.position++}else ti(N,"unknown escape sequence");et=Dt=N.position}else Ue(wn)?(Ks(N,et,Dt,!0),ir(N,bs(N,!1,ft)),et=Dt=N.position):N.position===N.lineStart&&Ir(N)?ti(N,"unexpected end of the document within a double quoted scalar"):(N.position++,Dt=N.position)}ti(N,"unexpected end of the stream within a double quoted scalar")}(N,rs)?ki=!0:function Ur(N){var ft,et,Dt;if(42!==(Dt=N.input.charCodeAt(N.position)))return!1;for(Dt=N.input.charCodeAt(++N.position),ft=N.position;0!==Dt&&!mt(Dt)&&!ut(Dt);)Dt=N.input.charCodeAt(++N.position);return N.position===ft&&ti(N,"name of an alias node must contain at least one character"),et=N.input.slice(ft,N.position),wi.call(N.anchorMap,et)||ti(N,'unidentified alias "'+et+'"'),N.result=N.anchorMap[et],bs(N,!0,-1),!0}(N)?(ki=!0,(null!==N.tag||null!==N.anchor)&&ti(N,"alias node should not have any properties")):function ro(N,ft,et){var Ot,en,fn,wn,$n,ii,ki,Zi,fi=N.kind,si=N.result;if(mt(Zi=N.input.charCodeAt(N.position))||ut(Zi)||35===Zi||38===Zi||42===Zi||33===Zi||124===Zi||62===Zi||39===Zi||34===Zi||37===Zi||64===Zi||96===Zi||(63===Zi||45===Zi)&&(mt(Ot=N.input.charCodeAt(N.position+1))||et&&ut(Ot)))return!1;for(N.kind="scalar",N.result="",en=fn=N.position,wn=!1;0!==Zi;){if(58===Zi){if(mt(Ot=N.input.charCodeAt(N.position+1))||et&&ut(Ot))break}else if(35===Zi){if(mt(N.input.charCodeAt(N.position-1)))break}else{if(N.position===N.lineStart&&Ir(N)||et&&ut(Zi))break;if(Ue(Zi)){if($n=N.line,ii=N.lineStart,ki=N.lineIndent,bs(N,!1,-1),N.lineIndent>=ft){wn=!0,Zi=N.input.charCodeAt(N.position);continue}N.position=fn,N.line=$n,N.lineStart=ii,N.lineIndent=ki;break}}wn&&(Ks(N,en,fn,!1),ir(N,N.line-$n),en=fn=N.position,wn=!1),Fe(Zi)||(fn=N.position+1),Zi=N.input.charCodeAt(++N.position)}return Ks(N,en,fn,!1),!!N.result||(N.kind=fi,N.result=si,!1)}(N,rs,Ki===et)&&(ki=!0,null===N.tag&&(N.tag="?")),null!==N.anchor&&(N.anchorMap[N.anchor]=N.result)):0===$n&&(ki=wn&&zo(N,ao))),null===N.tag)null!==N.anchor&&(N.anchorMap[N.anchor]=N.result);else if("?"===N.tag){for(null!==N.result&&"scalar"!==N.kind&&ti(N,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+N.kind+'"'),fi=0,si=N.implicitTypes.length;fi<si;fi+=1)if((cs=N.implicitTypes[fi]).resolve(N.result)){N.result=cs.construct(N.result),N.tag=cs.tag,null!==N.anchor&&(N.anchorMap[N.anchor]=N.result);break}}else if("!"!==N.tag){if(wi.call(N.typeMap[N.kind||"fallback"],N.tag))cs=N.typeMap[N.kind||"fallback"][N.tag];else for(cs=null,fi=0,si=(Zi=N.typeMap.multi[N.kind||"fallback"]).length;fi<si;fi+=1)if(N.tag.slice(0,Zi[fi].tag.length)===Zi[fi].tag){cs=Zi[fi];break}cs||ti(N,"unknown tag !<"+N.tag+">"),null!==N.result&&cs.kind!==N.kind&&ti(N,"unacceptable node kind for !<"+N.tag+'> tag; it should be "'+cs.kind+'", not "'+N.kind+'"'),cs.resolve(N.result,N.tag)?(N.result=cs.construct(N.result,N.tag),null!==N.anchor&&(N.anchorMap[N.anchor]=N.result)):ti(N,"cannot resolve a node with !<"+N.tag+"> explicit tag")}return null!==N.listener&&N.listener("close",N),null!==N.tag||null!==N.anchor||ki}function pa(N){var et,Dt,Ot,fn,ft=N.position,en=!1;for(N.version=null,N.checkLineBreaks=N.legacy,N.tagMap=Object.create(null),N.anchorMap=Object.create(null);0!==(fn=N.input.charCodeAt(N.position))&&(bs(N,!0,-1),fn=N.input.charCodeAt(N.position),!(N.lineIndent>0||37!==fn));){for(en=!0,fn=N.input.charCodeAt(++N.position),et=N.position;0!==fn&&!mt(fn);)fn=N.input.charCodeAt(++N.position);for(Ot=[],(Dt=N.input.slice(et,N.position)).length<1&&ti(N,"directive name must not be less than one character in length");0!==fn;){for(;Fe(fn);)fn=N.input.charCodeAt(++N.position);if(35===fn){do{fn=N.input.charCodeAt(++N.position)}while(0!==fn&&!Ue(fn));break}if(Ue(fn))break;for(et=N.position;0!==fn&&!mt(fn);)fn=N.input.charCodeAt(++N.position);Ot.push(N.input.slice(et,N.position))}0!==fn&&Er(N),wi.call(Qi,Dt)?Qi[Dt](N,Dt,Ot):qs(N,'unknown document directive "'+Dt+'"')}bs(N,!0,-1),0===N.lineIndent&&45===N.input.charCodeAt(N.position)&&45===N.input.charCodeAt(N.position+1)&&45===N.input.charCodeAt(N.position+2)?(N.position+=3,bs(N,!0,-1)):en&&ti(N,"directives end mark is expected"),Do(N,N.lineIndent-1,xs,!1,!0),bs(N,!0,-1),N.checkLineBreaks&&Ut.test(N.input.slice(ft,N.position))&&qs(N,"non-ASCII line breaks are interpreted as content"),N.documents.push(N.result),N.position===N.lineStart&&Ir(N)?46===N.input.charCodeAt(N.position)&&(N.position+=3,bs(N,!0,-1)):N.position<N.length-1&&ti(N,"end of the stream or a document separator is expected")}function ho(N,ft){ft=ft||{},0!==(N=String(N)).length&&(10!==N.charCodeAt(N.length-1)&&13!==N.charCodeAt(N.length-1)&&(N+="\n"),65279===N.charCodeAt(0)&&(N=N.slice(1)));var et=new es(N,ft),Dt=N.indexOf("\0");for(-1!==Dt&&(et.position=Dt,ti(et,"null byte is not allowed in input")),et.input+="\0";32===et.input.charCodeAt(et.position);)et.lineIndent+=1,et.position+=1;for(;et.position<et.length-1;)pa(et);return et.documents}function Wa(N,ft){return function(){throw new Error("Function yaml."+N+" is removed in js-yaml 4. Use yaml."+ft+" instead, which is now safe by default.")}}var il=function wo(N,ft){var et=ho(N,ft);if(0!==et.length){if(1===et.length)return et[0];throw new R("expected a single document in the stream, but found more")}};Wa("safeLoad","load"),Wa("safeLoadAll","loadAll"),Wa("safeDump","dump");var ol=l(3953),As=l(2091);let ec=(()=>{class N{get settings(){return this._settings}get region_settings(){return this._region_settings}get building_settings(){return this._building_settings}regionSettings(et=""){const Dt=this._active_region.getValue();return!et&&Dt&&(et=Dt?.id),this._region_settings&&this._region_settings[et]||{}}buildingSettings(et=""){return!et&&this.building&&(et=this.building?.id||this.buildings[0]?.id),this._building_settings&&this._building_settings[et]||{}}get organisation(){return this._organisation}get regions(){return this._regions.getValue()}get region(){return this._active_region.getValue()}set region(et){this.setRegion(et)}setRegion(et){var Dt=this;return(0,t.A)(function*(){et&&(Dt._active_region.next(et),yield Dt.loadRegionData(et),Dt._setBuildingFromTimezone(),Dt.building?.parent_id!==et.id&&Dt.buildingsForRegion(et).length?Dt.building=Dt.buildingsForRegion(et)[0]:Dt._updateSettingOverrides())})()}get buildings(){return this._buildings.getValue()||[]}get building(){return this._active_building.getValue()}set building(et){et&&(this._active_building.next(et),this._service.get("dont_load_metadata")||this.loadBuildingData(et).then(()=>this._updateSettingOverrides()),this.regions.length&&this.region?.id!==et.parent_id&&(this.region=this.regions.find(Dt=>Dt.id===this.building.parent_id)))}get timezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}get currency_code(){return this._service.get("app.currency")||this.building?.currency||"USD"}binding(et){return this.building?.bindings[et]||this._organisation?.bindings[et]}find(et){return this.buildings.find(Dt=>Dt.id===et)}get levels(){return this._levels.getValue()}constructor(et,Dt){this._service=et,this._router=Dt,this._initialised=new p.t(!1),this.initialised=this._initialised.asObservable(),this._regions=new p.t([]),this._active_region=new p.t(null),this._buildings=new p.t([]),this._active_building=new p.t(null),this._levels=new p.t([]),this._loaded_data=[],this.app_key=`${(this._service.app_name||"workplace").toLowerCase()}_app`,this.region_list=this._regions.asObservable(),this.building_list=this._buildings.asObservable(),this.level_list=this._levels.asObservable(),this.active_region=this._active_region.asObservable(),this.active_building=this._active_building.asObservable(),this.active_buildings=(0,v.zV)([this._buildings,this._active_region]).pipe((0,E.T)(([Ot,en])=>en?this.buildingsForRegion(en):this.buildings)),this.active_levels=(0,v.zV)([this._levels,this._active_building]).pipe((0,E.T)(([Ot,en])=>en?this.levelsForBuilding(en):[]),(0,M.t)(1)),this._settings=[],this._region_settings={},this._building_settings={},(0,n.XYg)().pipe((0,S.$)(Ot=>Ot)).subscribe(()=>setTimeout(()=>this.init(),1e3)),(0,v.zV)([this.active_region,this.active_building]).pipe((0,u.p)(([Ot,en])=>!!en),(0,I.B)(300)).subscribe(()=>this._updateSettingOverrides())}levelWithID(et){return this.levels.find(Dt=>et?.includes(Dt.id))}levelsForBuilding(et=this.building){return this.levels.filter(Dt=>Dt.parent_id&&Dt.parent_id===et?.id)}buildingsForRegion(et=this.region){return this.buildings.filter(Dt=>Dt.parent_id===et?.id)}levelsForRegion(et=this.region){const Dt=this.buildingsForRegion(et);return this.levels.filter(Ot=>Ot.parent_id&&Dt.find(en=>en.id===Ot.parent_id))}addZone(et){if(et.tags.includes("region")){const Dt=new K(et),Ot=this._regions.getValue().filter(en=>en.id!==Dt.id);Ot.push(Dt),this._regions.next(Ot)}else if(et.tags.includes("building")){const Dt=new D.t(et);let Ot=this._buildings.getValue().filter(en=>en.id!==Dt.id);Ot.push(Dt),Ot=Ot.sort((en,fn)=>(en.name||"").localeCompare(fn.name||"")),this._buildings.next(Ot)}else if(et.tags.includes("level")){const Dt=new f.P(et);let Ot=this._levels.getValue().filter(en=>en.id!==Dt.id);Ot.push(Dt),Ot=Ot.sort((en,fn)=>(en.name||"").localeCompare(fn.name||"")),this._levels.next(Ot)}else console.warn("Unable to add zone as it is missing the required tag.",et.id)}removeZone(et){if(et.tags.includes("region")){const Dt=this._regions.getValue().filter(Ot=>Ot.id!==et.id);this._regions.next(Dt)}else if(et.tags.includes("building")){const Dt=this._buildings.getValue().filter(Ot=>Ot.id!==et.id);this._buildings.next(Dt)}else if(et.tags.includes("level")){const Dt=this._levels.getValue().filter(Ot=>Ot.id!==et.id);this._levels.next(Dt)}else console.warn("Unable to remove zone as it is missing the required tag.",et.id)}init(et=0){var Dt=this;return(0,t.A)(function*(){Dt._initialised.next(!1),yield Dt.load().catch(Ot=>{throw(0,T.UG)("Error loading organisation data. Retrying..."),setTimeout(()=>Dt.init(et),Math.min(1e4,300*++et)),Ot}),Dt._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.orgs=Dt)})()}load(){var et=this;return(0,t.A)(function*(){if(yield et.loadOrganisation(),yield et.loadRegions(),et._regions.getValue().length)for(const Dt of et._regions.getValue()){const Ot=yield et.loadBuildings(Dt.id);if(Ot.length){et._buildings.next(Ot);break}}else et._buildings.next(yield et.loadBuildings());yield et.loadSettings(),et._buildings.getValue()?.length||(0,ne.Rm)("ORG","Unable to find any building zones"),yield et.loadLevels(),et._updateSettingOverrides()})()}loadOrganisation(){var et=this;return(0,t.A)(function*(){const Dt=yield(0,n.smM)({tags:"org"}).pipe((0,E.T)(Ot=>Ot.data)).toPromise();if(Dt.length){const Ot=(0,n.kup)(),en=Dt.find($n=>(0,n.TMs)()||$n.id===Ot?.config?.org_zone)||Dt[0],wn=(yield(et._service.get("dont_load_metadata")?(0,b.of)({details:{}}):(0,n.bpY)(en.id,"bindings")).toPromise())?.details;et._organisation=new V.B({...en,bindings:wn})}else(0,ne.Rm)("ORG","Unable to find organisation"),et._router.navigate(["/misconfigured"])})()}loadRegions(){var et=this;return(0,t.A)(function*(){const Dt=yield(0,n.smM)({tags:"region",parent_id:et._organisation?.id||"",limit:500}).pipe((0,E.T)(Ot=>Ot.data.map(en=>new K(en))),(0,k.W)(()=>(0,b.of)([]))).toPromise();et._regions.next(Dt)})()}loadRegionData(et){var Dt=this;return(0,t.A)(function*(){if(Dt._loaded_data[et.id])return;const Ot=!Dt._service.get("dont_load_metadata"),en=Ot?(0,n.bpY)(et.id,Dt.app_key):(0,b.of)(new n.Pdm),fn=Ot?(0,n.bpY)(et.id,"bindings"):(0,b.of)(new n.Pdm),[wn,$n,ii]=yield Promise.all([en.pipe((0,E.T)(ki=>ki?.details)).toPromise(),fn.pipe((0,E.T)(ki=>ki?.details)).toPromise(),Dt.loadBuildings(et.id)]);Dt._buildings.next((0,ne.Am)([...Dt._buildings.getValue(),...ii],"id")),Dt._loaded_data[et.id]=!0,et.bindings=$n,Dt._region_settings[et.id]=wn})()}loadBuildings(et=this._organisation?.id){return(0,t.A)(function*(){return yield(0,n.smM)({tags:"building",parent_id:et,limit:500}).pipe((0,E.T)(Ot=>Ot.data.map(en=>new D.t(en)))).toPromise()})()}loadBuildingData(et){var Dt=this;return(0,t.A)(function*(){if(!et||Dt._loaded_data[et.id])return;const[Ot,en,fn,wn]=yield Promise.all([(0,n.bpY)(et.id,Dt.app_key).pipe((0,E.T)($n=>$n?.details),(0,k.W)(()=>(0,b.of)({}))).toPromise(),(0,n.bpY)(et.id,"bindings").pipe((0,E.T)($n=>$n?.details),(0,k.W)(()=>(0,b.of)({}))).toPromise(),(0,n.bpY)(et.id,"booking_rules").pipe((0,E.T)($n=>$n?.details),(0,k.W)(()=>(0,b.of)({}))).toPromise(),(0,n.smE)({parent_id:et.id}).pipe((0,k.W)(()=>(0,b.of)({data:{}})),(0,E.T)($n=>{try{return il($n?.data.find(ii=>ii.encryption_level===n.cor.None)||{settings_string:""})}catch{return{}}})).toPromise()]);Dt._building_settings[et.id]={...wn||{},...Ot||{}},et.bindings=en,et.booking_rules=fn,Dt._loaded_data[et.id]=!0,Dt._updateSettingOverrides()})()}loadLevels(){var et=this;return(0,t.A)(function*(){let Dt=yield(0,n.smM)({tags:"level",authority_id:(0,n.kup)().id,limit:2500}).pipe((0,E.T)(en=>en.data)).toPromise();Dt=Dt.filter(en=>en.parent_id),Dt?.length||et._router.navigate(["/misconfigured"]);let Ot=Dt.map(en=>new f.P(en));Ot=Ot.sort((en,fn)=>(en.name||"").localeCompare(fn.name||"")),et._levels.next(Ot)})()}get available_room_configs(){return this.buildings.map(et=>[...et.room_configurations]).reduce((et,Dt)=>et.concat(Dt),[]).sort((et,Dt)=>et.name.localeCompare(Dt.name))}loadSettings(){var et=this;return(0,t.A)(function*(){if(et._organisation){if(!et._service.get("dont_load_metadata")){const Ot=(yield(0,n.bpY)(et._organisation?.id,et.app_key).toPromise())?.details,en=(yield(0,n.bpY)(et._organisation?.id,"settings").toPromise())?.details;et._settings=[en,Ot]}et._service.overrides=[...et._settings],yield et._initialiseActiveBuilding(),et._updateSettingOverrides()}})()}saveBuilding(et){const Dt=this._buildings.getValue().find(Ot=>Ot.id===et)?.parent_id;Dt&&Dt!==this._organisation.id&&sessionStorage.setItem("PLACEOS.region",Dt),sessionStorage.setItem("PLACEOS.building",et)}_initialiseActiveBuilding(){return new Promise(et=>{const Dt=sessionStorage.getItem("PLACEOS.building");if(Dt&&this.buildings.find(en=>en.id===Dt))return this.building=this.buildings.find(en=>en.id===Dt),et();this._service.get("app.use_geolocation")&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(en=>{const{latitude:fn,longitude:wn}=en.coords;let $n=null;for(const ii of this.buildings)if(ii.location&&"0,0"!==ii.location)if($n){const[ki,fi]=($n.location||"0,0").split(","),[si,Zi]=(ii.location||"0,0").split(",");Math.sqrt(Math.pow(fn-+si,2)+Math.pow(wn-+Zi,2))<Math.sqrt(Math.pow(fn-+ki,2)+Math.pow(wn-+fi,2))&&($n=ii)}else $n=ii;$n&&(this.building=$n),this.building?.id||this._setDefaultBuilding(),et()},()=>{this.building?.id||this._setDefaultBuilding(),et()}):this.building?.id||(this._setDefaultBuilding(),et())})}_setDefaultBuilding(){var et=this;return(0,t.A)(function*(){if(!et.buildings.length)return;const Dt=sessionStorage.getItem("PLACEOS.region");if(yield Dt?et.setRegion(et._regions.getValue().find(en=>en.id===Dt)):et._setRegionFromTimezone(),et._setBuildingFromTimezone(),et.building)return;const Ot=et._service.get("app.default_building");Ot&&(et.building=et.buildings.find(({id:en})=>en===Ot)),et.building||(et.building=et.buildings[0])})()}_setRegionFromTimezone(){var et=this;return(0,t.A)(function*(){const Dt=et.regions,Ot=et.timezone;for(const fn of Dt)if(fn.timezone===Ot)return yield et.setRegion(fn);const en=Ot.split("/")[0];for(const fn of Dt)if(fn.timezone.startsWith(en))return yield et.setRegion(fn)})()}_setBuildingFromTimezone(){const et=this.buildings.filter(en=>!this.region||en.parent_id===this.region?.id),Dt=this.timezone;for(const en of et)if(en.timezone===Dt)return void(this.building=en);const Ot=Dt.split("/")[0];for(const en of et)if(en.timezone.startsWith(Ot))return void(this.building=en)}_updateSettingOverrides(){setTimeout(()=>this._service.overrides=[this.buildingSettings(this.building?.id),this.regionSettings(this.region?.id),...this._settings],300)}static#e=this.\u0275fac=function(Dt){return new(Dt||N)(ol.KVO(w.h),ol.KVO(As.Ix))};static#t=this.\u0275prov=ol.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},5272:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>I});var t=l(467),n=l(3953),p=l(4006),v=l(8026);function b(k,T){if(1&k&&(n.PLo(0,3,1),n.eu8(1),n.nI1(2,"date"),n.nI1(3,"date"),n.YFu()),2&k){const w=n.XpG(3);n.R7$(3),n.uP7(n.i5U(2,2,w.details.date,"shortTime"))(n.i5U(3,5,w.details.date+60*w.details.duration*1e3,"shortTime")),n.nnv(0)}}function E(k,T){if(1&k){const w=n.RV6();n.qex(0),n.j41(1,"main",14)(2,"h2",15),n.pXf(3,2),n.k0s(),n.nrm(4,"img",16),n.j41(5,"p",17),n.PLo(6,3),n.nI1(7,"date"),n.DNE(8,b,4,8,"ng-container",18),n.YFu(),n.k0s(),n.j41(9,"p",19),n.pXf(10,4),n.k0s(),n.j41(11,"p",20)(12,"strong"),n.EFF(13),n.nI1(14,"currency"),n.k0s()(),n.j41(15,"card-input-field",21),n.mxI("ngModelChange",function(f){n.eBV(w);const V=n.XpG(2);return n.DH7(V.card_details,f)||(V.card_details=f),n.Njj(f)}),n.k0s()(),n.j41(16,"footer",22)(17,"button",23),n.bIt("click",function(){n.eBV(w);const f=n.XpG(2);return n.Njj(f.processPayment())}),n.pXf(18,5),n.k0s()(),n.j41(19,"button",24)(20,"i",25),n.EFF(21,"close"),n.k0s()(),n.bVm()}if(2&k){const w=n.XpG(2);n.R7$(8),n.Y8G("ngIf",!w.details.all_day),n.uP7(w.details.type)(w.details.resource_name)(n.i5U(7,6,w.details.date,"mediumDate")),n.nnv(6),n.R7$(5),n.JRh(n.i5U(14,9,w.details.amount/100,w.code)),n.R7$(2),n.R50("ngModel",w.card_details)}}function M(k,T){if(1&k&&(n.j41(0,"div",12),n.DNE(1,E,22,12,"ng-container",13),n.k0s()),2&k){const w=n.XpG(),D=n.sdS(5);n.R7$(),n.Y8G("ngIf",!w.success)("ngIfElse",D)}}function S(k,T){if(1&k&&(n.j41(0,"div",26),n.nrm(1,"mat-spinner",27),n.j41(2,"p"),n.EFF(3),n.nI1(4,"async"),n.k0s()()),2&k){const w=n.XpG();n.R7$(3),n.JRh(n.bMT(4,1,w.loading))}}function u(k,T){if(1&k&&(n.j41(0,"main",28)(1,"h2",15),n.pXf(2,6),n.k0s(),n.j41(3,"h3",29),n.EFF(4),n.k0s(),n.j41(5,"p"),n.pXf(6,7),n.nI1(7,"currency"),n.k0s(),n.j41(8,"p"),n.pXf(9,8),n.k0s(),n.j41(10,"p"),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"p"),n.pXf(14,9),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s()(),n.nrm(17,"img",30),n.j41(18,"footer",31)(19,"button",32),n.pXf(20,10),n.k0s()()),2&k){const w=n.XpG();n.R7$(4),n.SpI(" Ref #",w.transaction_id," "),n.R7$(3),n.uP7(n.i5U(7,6,w.details.amount/100,w.code)),n.nnv(6),n.R7$(2),n.uP7(w.details.resource_name),n.nnv(9),n.R7$(2),n.JRh(n.i5U(12,9,w.details.date,"mediumDate")),n.R7$(5),n.uP7(n.i5U(15,12,w.details.date,"shortTime"))(n.i5U(16,15,w.details.date+60*w.details.duration*1e3,"shortTime")),n.nnv(14)}}let I=(()=>{class k{get code(){return this._org.currency_code}constructor(w,D){this._data=w,this._org=D,this.event=new n.bkB,this.details=this._data,this.loading=this._data.loading,this.success=!1,this.transaction_id="12345678"}processPayment(){var w=this;return(0,t.A)(function*(){!w.card_details||!w._validCardDetails()||(w.event.emit(w.card_details),yield w._data.makePayment(w.card_details),w.success=!0)})()}_validCardDetails(){return(this.card_details?.cardholder.length||0)>0&&(this.card_details?.cvv.length||0)>=3}static#e=this.\u0275fac=function(D){return new(D||k)(n.rXU(p.Vh),n.rXU(v.y))};static#t=this.\u0275cmp=n.VBU({type:k,selectors:[["payment-modal"]],outputs:{event:"event"},decls:6,vars:4,consts:()=>{let w,D,f,V,K,ne,U,c,Z;return w=$localize`:4d64c520c43eead598939b50c326e665c6e88fa47177958266181561076:Booking Payment`,D=$localize`:00a4b4852357812c8f53bb8e5c7598d479bea1136612380128469929872: You are requesting a ${"\ufffd0\ufffd"}:INTERPOLATION: booking in ${"\ufffd1\ufffd"}:INTERPOLATION_1: for ${"\ufffd2\ufffd"}:INTERPOLATION_2: ${"\ufffd*8:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: between ${"\ufffd0:1\ufffd"}:INTERPOLATION_3: and ${"\ufffd1:1\ufffd"}:INTERPOLATION_4: ${"\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,f=$localize`:7a9510cbfdcb53b8dcac3f0bd7958196958333ff2305336913310307878:You booking will cost:`,V=$localize`:9069fc3477fe6107249755afedd9fe14140bb2018427617350792373644: Make Payment `,K=$localize`:dbbd5277093a2dbc265472510779d835afc39f458206804611071524488:Payment Successful`,ne=$localize`:bb02e353442d9b1ec8fc7d9875465cafb134f7e42765198892596811562:${"\ufffd0\ufffd"}:INTERPOLATION: paid.`,U=$localize`:931d5e8e4e517671212210e9d716fa2721c9e67c6374111499070607459:${"\ufffd0\ufffd"}:INTERPOLATION: booked.`,c=$localize`:e2ddd0e2db3568ac26e9f86a9e366f864a4e6e94783447026381975793: ${"\ufffd0\ufffd"}:INTERPOLATION: and ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,Z=$localize`:001127b263e7132960af8fa70cce4c2635980fbc8163835392610431386: Great, thanks. `,[["load_state",""],["success_state",""],w,D,f,V,K,ne,U,c,Z,["class","relative max-h-[100vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"relative","max-h-[100vh]","overflow-auto"],[4,"ngIf","ngIfElse"],[1,"px-4","pt-8","w-[24rem]","space-y-2","flex","flex-col","items-center","relative"],[1,"text-2xl","font-medium"],["src","assets/icons/cost.svg",1,"w-1/2"],[1,"text-sm","text-center","pb-2"],[4,"ngIf"],[1,"text-sm"],[1,"text-lg","font-medium","text-center"],[1,"w-full",3,"ngModelChange","ngModel"],[1,"p-4"],["matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","left-1"],[1,"material-icons","text-2xl"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","p-8"],["diameter","32"],[1,"px-8","pt-8","w-[24rem]","flex","flex-col","relative"],[1,"text-xl","font-medium","mb-2"],["src","assets/icons/payment-confirmed.svg",1,"w-full"],[1,"p-4","border-t","border-base-200"],["btn","","matRipple","","mat-dialog-close","",1,"w-full"]]},template:function(D,f){if(1&D&&(n.DNE(0,M,2,2,"div",11),n.nI1(1,"async"),n.DNE(2,S,5,3,"ng-template",null,0,n.C5r)(4,u,21,18,"ng-template",null,1,n.C5r)),2&D){const V=n.sdS(3);n.Y8G("ngIf",!n.bMT(1,2,f.loading))("ngIfElse",V)}}})}return k})()},4525:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>V});var t=l(467),n=l(1038),p=l(9928),v=l(4421),b=l(9090),E=l(8841),M=l(8712),S=l(4233),u=l(6202),I=l(8026),k=l(5272),T=l(3953),w=l(4006);const f="Payment";let V=(()=>{class K{get payment_module(){return this._org.binding("payments")}constructor(U,c,Z){this._org=U,this._settings=c,this._dialog=Z,this._loading=new p.t(""),this._active_card=new p.t(""),this.loading=this._loading.asObservable(),this.payment_sources=(0,v.of)(1).pipe((0,b.n)(()=>{const F=(0,n.f_4)(this.payment_module,f);return F?F.execute("list_payment_methods",["card"]):(0,v.of)([])}),(0,E.M)(F=>F[0]?this._active_card.next(F[0].id):""),(0,M.t)(1))}makePayment(U){var c=this;return(0,t.A)(function*(){if(!c.payment_module)throw"Payments not enabled";const[Z,F]=yield c._getCostOfProduct(U?.type).catch(oe=>[0,60]);if(console.log("Cost:",Z,F),Z<=0)return;let J=c._settings.get("STRIPE_Customer_ID");J||(J=yield c._newCustomerID()),c._settings.saveUserSetting("STRIPE_Customer_ID",J);const z=Z*(U.duration/F);let X;const $=function(){var oe=(0,t.A)(function*(ce){X=yield c._processPayment(z,J,ce).catch(le=>{throw c._loading.next(""),le})});return function(le){return oe.apply(this,arguments)}}(),te={...U,rate:`$${(Z/100).toFixed(2)} per hour`,amount:z,makePayment:$,loading:c.loading};return yield c._dialog.open(k.$,{data:te}).afterClosed().toPromise(),X})()}_addPaymentMethod(U){var c=this;return(0,t.A)(function*(){const Z=(0,n.f_4)(c.payment_module,f);if(!Z)throw"Unable to load module";const F=yield Z.execute("add_payment_method",["card",null,null,null,null,null,null,null,null,null,null,null,U]);return F.id||F})()}_getCostOfProduct(U){var c=this;return(0,t.A)(function*(){let Z=[0,60];const F=(0,n.f_4)(c.payment_module,f);if(!F)return Z;const J=yield F.execute("get_product_prices",[null,null,U]);return J.length?J:Z})()}_processPayment(U,c,Z){var F=this;return(0,t.A)(function*(){F._loading.next("Checking payment method..."),console.log("Getting payment method...");const J=Z?yield F._addPaymentMethod(Z):F._active_card.getValue();if(!J)throw"No payment source selected";F._loading.next("Processing payment..."),console.log("Processing payment...");const z=(0,n.f_4)(F.payment_module,f);if(!z)throw"Unable to load module";const X=yield z.execute("create_payment_intent",[U,F._org.building.currency||"USD",null,null,c,null,null,null,(0,u.Ny)()?.email]);if(!X)throw"Failed to create payment";return console.log("Confirming payment..."),yield z.execute("confirm_payment_intent",[X,J]),F._loading.next(""),{success:!0,state:"approved",invoice_id:X,amount:U,created_at:Date.now(),updated_at:Date.now()}})()}_newCustomerID(){var U=this;return(0,t.A)(function*(){const c=(0,n.f_4)(U.payment_module,f);if(!c)throw"Unable to load module";const Z=(0,u.Ny)();return yield c.execute("create_customer",[0,null,null,null,`${Z.id}|${Z.name}|FromPlaceOS`,Z.email])})()}static#e=this.\u0275fac=function(c){return new(c||K)(T.KVO(I.y),T.KVO(S.h),T.KVO(w.bZ))};static#t=this.\u0275prov=T.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},2168:(jt,Se,l)=>{"use strict";l.d(Se,{lx:()=>t.l,Jm:()=>b.J,bh:()=>p.b});var t=l(827),p=(l(8363),l(7401)),b=(l(5752),l(2011))},5752:(jt,Se,l)=>{"use strict";l.d(Se,{d:()=>S});var t=l(4006),n=l(7375),p=l(6266),v=l(3953);function b(u,I){if(1&u){const k=v.RV6();v.j41(0,"space-list",29),v.bIt("toggleFav",function(w){v.eBV(k);const D=v.XpG();return v.Njj(D.toggleFavourite(w))})("onSelect",function(w){v.eBV(k);const D=v.XpG();return v.Njj(D.displayed=w)}),v.k0s()}if(2&u){const k=v.XpG();v.Y8G("active",null==k.displayed?null:k.displayed.id)("selected",k.selected_ids)("favorites",k.favorites)}}function E(u,I){if(1&u){const k=v.RV6();v.j41(0,"button",30),v.bIt("click",function(){v.eBV(k);const w=v.XpG();return v.Njj(w.displayed=null)}),v.pXf(1,5),v.k0s()}}function M(u,I){if(1&u){const k=v.RV6();v.j41(0,"space-map",31),v.bIt("onSelect",function(w){v.eBV(k);const D=v.XpG();return v.Njj(D.displayed=w)}),v.k0s()}if(2&u){const k=v.XpG();v.Y8G("selected",k.selected_ids)("is_displayed",!!k.displayed)("active",null==k.displayed?null:k.displayed.id)}}let S=(()=>{class u{get selected_ids(){return this.selected.map(k=>k.id).join(",")}get favorites(){return this._settings.get("favourite_spaces")||[]}constructor(k,T,w,D){this._dialog_ref=k,this._settings=T,this._event_form=w,this._data=D,this.selected=[],this.view="list",this.multiday=!!this._data.multiday,this.selected=[...D.spaces||[]],this._event_form.setOptions(D.options)}isSelected(k){return k&&this.selected_ids.includes(k)}setSelected(k,T){const w=this.selected.filter(D=>D.id!==k.id);T&&w.push(k),this.selected=w,!this._settings.get("app.events.allow_multiple_spaces")&&T&&(this.selected=[k],this._dialog_ref.close([k]))}toggleFavourite(k){const T=this.favorites;T.includes(k.id)?this._settings.saveUserSetting("favourite_spaces",T.filter(D=>D!==k.id)):this._settings.saveUserSetting("favourite_spaces",[...T,k.id])}static#e=this.\u0275fac=function(T){return new(T||u)(v.rXU(t.CP),v.rXU(n.h$),v.rXU(p.W),v.rXU(t.Vh))};static#t=this.\u0275cmp=v.VBU({type:u,selectors:[["new-space-select-modal"]],decls:39,vars:29,consts:()=>{let k,T,w,D,f;return k=$localize`:2a8f5812e693119f28847362c97c1924c4b5e2ad3245405487284732016:Find Space`,T=$localize`:30d3439b0e0095fe69503245f3bd7a2e9498be7c8443571736703532556: View List `,w=$localize`:18843b85d1a4f17fefafd07bc5cde636dca44295819716823718458903:Back to form`,D=$localize`:7651117c4dcb18eb274657230a366a428c9a113b8164592885301950366: ${"\ufffd0\ufffd"}:INTERPOLATION: room(s) added `,f=$localize`:ccda1d41ca79703a85a3a598c1d97e040a32b766874721418273731876: Back `,[["map_view",""],k,T,w,D,f,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"multiday","hide_levels","viewing_map"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","flex","sm:flex-col","sm:max-w-[20rem]","z-20","bg-base-100",3,"activeChange","toggleFav","close","space","hide_map","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-spaces",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-space",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","spaces-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed","active"]]},template:function(T,w){if(1&T){const D=v.RV6();v.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),v.EFF(4,"close"),v.k0s()(),v.j41(5,"h3"),v.pXf(6,1),v.k0s(),v.j41(7,"div",9)(8,"button",10),v.bIt("click",function(){return v.eBV(D),v.Njj(w.view="map")}),v.EFF(9," Map "),v.k0s(),v.j41(10,"button",11),v.bIt("click",function(){return v.eBV(D),v.Njj(w.view="list")}),v.EFF(11," List "),v.k0s()()(),v.j41(12,"main",12),v.nrm(13,"space-filters",13),v.j41(14,"div",14)(15,"space-filters-display",15),v.mxI("viewChange",function(V){return v.eBV(D),v.DH7(w.view,V)||(w.view=V),v.Njj(V)}),v.k0s(),v.DNE(16,b,1,3,"space-list",16),v.k0s(),v.j41(17,"space-details",17),v.bIt("activeChange",function(V){return v.eBV(D),v.Njj(w.setSelected(w.displayed,V))})("toggleFav",function(){return v.eBV(D),v.Njj(w.toggleFavourite(w.displayed))})("close",function(){return v.eBV(D),v.Njj(w.displayed=null)}),v.k0s()(),v.j41(18,"footer",18),v.DNE(19,E,2,0,"button",19),v.j41(20,"button",20),v.pXf(21,2),v.k0s()(),v.j41(22,"footer",21)(23,"button",22)(24,"div",23)(25,"app-icon",24),v.EFF(26,"arrow_back"),v.k0s(),v.j41(27,"div",25),v.pXf(28,3),v.k0s()()(),v.j41(29,"p",26),v.pXf(30,4),v.k0s(),v.j41(31,"button",27),v.bIt("click",function(){return v.eBV(D),v.Njj(w.setSelected(w.displayed,!w.isSelected(null==w.displayed?null:w.displayed.id)))}),v.j41(32,"div",23)(33,"app-icon",24),v.EFF(34),v.k0s(),v.j41(35,"div",28),v.EFF(36),v.k0s()()()()(),v.DNE(37,M,1,3,"ng-template",null,0,v.C5r)}if(2&T){const D=v.sdS(38);v.R7$(8),v.AVh("inverse","map"!==w.view),v.R7$(2),v.AVh("inverse","list"!==w.view),v.R7$(3),v.Y8G("multiday",w.multiday)("hide_levels","list"!==w.view)("viewing_map","map"===w.view),v.R7$(2),v.R50("view",w.view),v.R7$(),v.Y8G("ngIf","list"===w.view)("ngIfElse",D),v.R7$(),v.AVh("hidden",!w.displayed)("inset-0",w.displayed),v.Y8G("space",w.displayed)("hide_map","map"===w.view)("active",w.selected_ids.includes(null==w.displayed?null:w.displayed.id))("fav",w.displayed&&w.favorites.includes(null==w.displayed?null:w.displayed.id)),v.R7$(2),v.Y8G("ngIf",w.displayed),v.R7$(),v.AVh("mb-2",w.displayed),v.Y8G("mat-dialog-close",w.selected),v.R7$(3),v.Y8G("mat-dialog-close",w.selected),v.R7$(7),v.uP7(w.selected.length),v.nnv(30),v.R7$(),v.AVh("inverse",w.isSelected(null==w.displayed?null:w.displayed.id)),v.Y8G("disabled",!w.displayed),v.R7$(3),v.JRh(w.isSelected(null==w.displayed?null:w.displayed.id)?"remove":"add"),v.R7$(2),v.SpI(" ",w.isSelected(null==w.displayed?null:w.displayed.id)?"Remove from Booking":"Add to booking"," ")}}})}return u})()},735:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>n});var t=l(602);class n{constructor(v={}){this.id=v.id||"",this.name=v.name||"",this.display_name=v.display_name||"",this.email=(v.email||"").toLowerCase(),this.capacity=v.capacity||-1,this.feature_list=v.feature_list||v.features||[],this.bookable=!!v.bookable,this.zones=v.zones||[],this.support_url=v.support_url||"",this.map_id=v.map_id||"",this.images=v.images||[],this.configurations=v.configurations||[],this.features=v.features||[],this.response_status=v.response_status,this.level=v.level||new t.P,this.availability=v.availability||[]}inUseAt(v,b){const E=v+60*b*1e3;return this.availability.filter(M=>M.date==v&&M.date+60*M.duration*1e3==E&&"free"!==M.status).length>0}}},2011:(jt,Se,l)=>{"use strict";l.d(Se,{J:()=>k,U:()=>I});var t=l(467),n=l(1038),p=l(8026),v=l(735),b=l(4046),E=l(3953);const M=[],S={},u=new v.$({email:"empty.space@place.os"});function I(T){for(const w of T)M.find(({id:D})=>D===w.id)||M.push(w)}setInterval(()=>{for(const T in S)S[T]=S[T]-1,S[T]<=0&&delete S[T]},1e4);let k=(()=>{class T{constructor(D){this._org=D}transform(D){var f=this;return(0,t.A)(function*(){f._org&&(yield f._org.initialised.pipe((0,b.$)(U=>U)).toPromise());const V=D?.includes("@");if(!D)return u;let K=M.find(({id:U,email:c})=>U===D||c===D);if(K)return K;if(S[D])return u;if(!V){const U=yield(0,n.V4n)(D).toPromise().catch(c=>null);if(U)return K=new v.$({...U,level:f._org?.levelWithID([...U.zones])}),M.push(K),K}const ne=(yield(0,n.Kfl)({in:D,zone_id:f._org?.organisation.id}).toPromise()).data;return 1===ne.length?(K=new v.$({...ne[0],level:f._org?.levelWithID([...ne[0].zones])}),M.push(K),K):u})()}updateSpaceList(D){I(D)}static#e=this.\u0275fac=function(f){return new(f||T)(E.rXU(p.y,24))};static#t=this.\u0275pipe=E.EJ8({name:"space",type:T,pure:!0})}return T})()},8363:(jt,Se,l)=>{"use strict";l.d(Se,{Ot:()=>D}),l(7375);var n=l(1038),p=l(4421),v=l(5006),b=l(8841),E=l(8712),S=(l(4129),l(735)),u=l(2011);const I={};function D(K){return K?(I[K]||(I[K]=(0,n.BbB)({zone_id:K,limit:500}).pipe((0,v.T)(ne=>(ne.data||[]).map(U=>new S.$(U))),(0,b.M)(ne=>(0,u.U)(ne)),(0,E.t)(1))),I[K]):(0,p.of)([])}},827:(jt,Se,l)=>{"use strict";l.d(Se,{l:()=>He});var t=l(177),n=l(9417),p=l(4006),v=l(6665),b=l(2765),E=l(7327),M=l(2169),S=l(5752),u=l(3953),I=l(1865),k=l(8026);const T=()=>({disable_pan:!0,disable_zoom:!0});function w(Ke,Kt){if(1&Ke&&u.nrm(0,"image-carousel",23),2&Ke){const gt=u.XpG(2);u.Y8G("images",gt.space.images)}}function D(Ke,Kt){if(1&Ke&&(u.j41(0,"div",16)(1,"p"),u.pXf(2,4),u.k0s()()),2&Ke){const gt=Kt.$implicit;u.R7$(2),u.uP7(gt),u.nnv(2)}}function f(Ke,Kt){if(1&Ke&&(u.j41(0,"section",24)(1,"h2",15),u.pXf(2,3),u.k0s(),u.DNE(3,D,3,1,"div",25),u.k0s()),2&Ke){const gt=u.XpG(2);u.R7$(3),u.Y8G("ngForOf",gt.space.features)}}function V(Ke,Kt){if(1&Ke&&(u.j41(0,"section",26),u.nrm(1,"interactive-map",27),u.k0s()),2&Ke){const gt=u.XpG(2);u.R7$(),u.Y8G("src",gt.map_url)("focus",gt.space.map_id)("features",gt.features)("options",u.lJ4(4,T))}}function K(Ke,Kt){if(1&Ke){const gt=u.RV6();u.qex(0),u.j41(1,"section",7),u.DNE(2,w,1,1,"image-carousel",8),u.j41(3,"button",9),u.bIt("click",function(){u.eBV(gt);const _n=u.XpG();return u.Njj(_n.close.emit())}),u.j41(4,"app-icon"),u.EFF(5,"arrow_back"),u.k0s()(),u.j41(6,"button",10),u.bIt("click",function(){u.eBV(gt);const _n=u.XpG();return u.Njj(_n.toggleFav.emit())}),u.j41(7,"app-icon"),u.EFF(8),u.k0s()()(),u.j41(9,"div",11)(10,"section",12)(11,"h2",13),u.EFF(12),u.k0s()(),u.nrm(13,"hr"),u.j41(14,"section",14)(15,"h2",15),u.pXf(16,1),u.k0s(),u.j41(17,"div",16)(18,"app-icon"),u.EFF(19,"people"),u.k0s(),u.j41(20,"p"),u.pXf(21,2),u.k0s()(),u.j41(22,"div",16)(23,"app-icon"),u.EFF(24,"meeting_room"),u.k0s(),u.j41(25,"p"),u.EFF(26),u.k0s()(),u.j41(27,"div",16)(28,"app-icon"),u.EFF(29,"place"),u.k0s(),u.j41(30,"p"),u.EFF(31),u.k0s()()(),u.nrm(32,"hr"),u.DNE(33,f,4,1,"section",17)(34,V,2,5,"section",18),u.k0s(),u.j41(35,"div",19)(36,"button",20),u.bIt("click",function(){u.eBV(gt);const _n=u.XpG();return _n.active=!_n.active,u.Njj(_n.activeChange.emit(_n.active))}),u.j41(37,"div",21)(38,"app-icon",22),u.EFF(39),u.k0s(),u.j41(40,"p"),u.EFF(41),u.k0s()()()(),u.bVm()}if(2&Ke){const gt=u.XpG();u.R7$(),u.AVh("sm:h-64",null==gt.space.images?null:gt.space.images.length)("h-40",null==gt.space.images?null:gt.space.images.length)("sm:h-0",!(null!=gt.space.images&&gt.space.images.length))("h-12",!(null!=gt.space.images&&gt.space.images.length))("!bg-transparent",!(null!=gt.space.images&&gt.space.images.length)),u.R7$(),u.Y8G("ngIf",null==gt.space.images?null:gt.space.images.length),u.R7$(4),u.AVh("text-white",!gt.fav)("text-blue-400",gt.fav),u.R7$(2),u.JRh(gt.fav?"favorite":"favorite_border"),u.R7$(4),u.SpI(" ",gt.space.display_name||gt.space.name," "),u.R7$(9),u.uP7(gt.space.capacity),u.nnv(21),u.R7$(5),u.SpI(" ",(null==gt.level?null:gt.level.display_name)||(null==gt.level?null:gt.level.name)," "),u.R7$(5),u.SpI(" ",(null==gt.building?null:gt.building.address)||(null==gt.building?null:gt.building.display_name)||(null==gt.building?null:gt.building.name)," "),u.R7$(2),u.Y8G("ngIf",null==gt.space.features?null:gt.space.features.length),u.R7$(),u.Y8G("ngIf",!gt.hide_map),u.R7$(2),u.AVh("inverse",gt.active),u.R7$(3),u.JRh(gt.active?"remove":"add"),u.R7$(2),u.SpI(" ",gt.active?"Remove this room":"Add this room"," ")}}function ne(Ke,Kt){1&Ke&&(u.j41(0,"div",28)(1,"p",29),u.pXf(2,5),u.k0s()())}let U=(()=>{class Ke{get level(){return this._org.levelWithID(this.space?.zones)||this.space?.level}get building(){return this._org.buildings.find(gt=>this.space?.zones.includes(gt.id))}constructor(gt){this._org=gt,this.fav=!1,this.active=!1,this.hide_map=!1,this.activeChange=new u.bkB,this.close=new u.bkB,this.toggleFav=new u.bkB,this.map_url="",this.features=[]}ngOnChanges(gt){gt.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:I.V}]}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(u.rXU(k.y))};static#t=this.\u0275cmp=u.VBU({type:Ke,selectors:[["space-details"]],inputs:{space:"space",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[u.OA$],decls:3,vars:2,consts:()=>{let gt,Ct,_n,yn,Vn;return gt=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,Ct=$localize`:2fe5caca246424da5e7fcee12a1fe341335e12862731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,_n=$localize`:45b5b90d7df8adeb648858761739fa700117c0d53223773701700202859:Room Facilities`,yn=$localize`:9a6f64944a2acf1f8315f9ffac43e3fe58bac31f1353747351482281557:${"\ufffd0\ufffd"}:INTERPOLATION:`,Vn=$localize`:02434c6ff0f41cc7f311ace51ce0787ae315e5fb5676660199414904214: Select a room to view it's details `,[["empty_state",""],gt,Ct,_n,yn,Vn,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-neutral"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-space-details",1,"absolute","top-2","left-2","bg-neutral","sm:hidden","text-white",3,"click"],["icon","","matRipple","","name","toggle-space-favourite-details",1,"absolute","top-2","right-2","bg-neutral",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-space-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(Ct,_n){if(1&Ct&&u.DNE(0,K,42,26,"ng-container",6)(1,ne,3,0,"ng-template",null,0,u.C5r),2&Ct){const yn=u.sdS(2);u.Y8G("ngIf",_n.space)("ngIfElse",yn)}},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return Ke})();var c=l(6266);function Z(Ke,Kt){1&Ke&&(u.j41(0,"div",24)(1,"app-icon"),u.EFF(2,"done"),u.k0s()())}function F(Ke,Kt){if(1&Ke&&u.nrm(0,"img",25),2&Ke){const gt=u.XpG().$implicit;u.Y8G("source",gt.images[0])}}function J(Ke,Kt){1&Ke&&u.nrm(0,"img",26)}function z(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"li",13)(1,"button",14),u.bIt("click",function(){const _n=u.eBV(gt).$implicit,yn=u.XpG(3);return u.Njj(yn.selectSpace(_n))}),u.j41(2,"div",15),u.DNE(3,Z,3,0,"div",16)(4,F,1,1,"img",17)(5,J,1,0,"ng-template",null,2,u.C5r),u.k0s(),u.j41(7,"div",18)(8,"div",19),u.EFF(9),u.k0s(),u.j41(10,"div",20)(11,"app-icon",21),u.EFF(12,"place"),u.k0s(),u.j41(13,"p",22),u.EFF(14),u.k0s()(),u.j41(15,"div",20)(16,"app-icon",21),u.EFF(17,"people"),u.k0s(),u.j41(18,"p"),u.pXf(19,4),u.k0s()()()(),u.j41(20,"button",23),u.bIt("click",function(){const _n=u.eBV(gt).$implicit,yn=u.XpG(3);return u.Njj(yn.toggleFav.emit(_n))}),u.j41(21,"app-icon"),u.EFF(22),u.k0s()()()}if(2&Ke){let gt;const Ct=Kt.$implicit,_n=u.sdS(6),yn=u.XpG(3);u.AVh("!border-info",yn.active===Ct.id),u.R7$(3),u.Y8G("ngIf",yn.selected.includes(Ct.id)),u.R7$(),u.Y8G("ngIf",null==Ct.images?null:Ct.images.length)("ngIfElse",_n),u.R7$(5),u.SpI(" ",Ct.display_name||Ct.name||"Meeting Space"," "),u.R7$(5),u.SpI(" ",Ct.location||(null==(gt=yn.level(Ct.zones))?null:gt.display_name)||(null==(gt=yn.level(Ct.zones))?null:gt.name)," "),u.R7$(5),u.uP7(Ct.capacity<1?2:Ct.capacity),u.nnv(19),u.R7$(),u.AVh("text-info",yn.isFavourite(Ct.id)),u.R7$(2),u.JRh(yn.isFavourite(Ct.id)?"favorite":"favorite_border")}}function X(Ke,Kt){if(1&Ke&&(u.j41(0,"ul",11),u.DNE(1,z,23,11,"li",12),u.nI1(2,"async"),u.k0s()),2&Ke){const gt=u.XpG(2);u.R7$(),u.Y8G("ngForOf",u.bMT(2,1,gt.available_spaces))}}function $(Ke,Kt){if(1&Ke&&(u.qex(0),u.DNE(1,X,3,3,"ul",10),u.nI1(2,"async"),u.bVm()),2&Ke){let gt;const Ct=u.XpG(),_n=u.sdS(8);u.R7$(),u.Y8G("ngIf",null==(gt=u.bMT(2,2,Ct.available_spaces))?null:gt.length)("ngIfElse",_n)}}function te(Ke,Kt){1&Ke&&(u.j41(0,"div",27)(1,"p",28),u.pXf(2,5),u.k0s()())}function G(Ke,Kt){1&Ke&&(u.j41(0,"div",29),u.nrm(1,"mat-spinner",30),u.j41(2,"p",31),u.pXf(3,6),u.k0s()()),2&Ke&&(u.R7$(),u.Y8G("diameter",32))}let oe=(()=>{class Ke{constructor(gt,Ct){this._event_form=gt,this._org=Ct,this.active="",this.selected="",this.favorites=[],this.onSelect=new u.bkB,this.toggleFav=new u.bkB,this.loading=this._event_form.loading,this.available_spaces=this._event_form.available_spaces}level(gt){return this._org.levelWithID(gt)}ngOnInit(){this._event_form.setView("find")}isFavourite(gt){return this.favorites.includes(gt)}selectSpace(gt){this.onSelect.emit(gt)}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(u.rXU(c.W),u.rXU(k.y))};static#t=this.\u0275cmp=u.VBU({type:Ke,selectors:[["space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let gt,Ct,_n,yn;return gt=$localize`:f3733dfad4477862079351d9f8cf60c7964cc3e32290177789691483092: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,Ct=$localize`:08719ea79f574b595da7d187fda2fa8c491b5de74552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,_n=$localize`:027c29534f5dc45741b226edfebb3f7f578384b03831747985282777621: No available spaces for selected time and/or filters `,yn=$localize`:8dad32dda6491a1051df9156e98031c0e634b413126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["space_placeholder",""],gt,Ct,_n,yn,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","name","select-space",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","min-w-[5rem]","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"truncate"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(Ct,_n){if(1&Ct&&(u.j41(0,"h3",7),u.EFF(1,"Results"),u.k0s(),u.j41(2,"p",8),u.pXf(3,3),u.nI1(4,"async"),u.k0s(),u.DNE(5,$,3,4,"ng-container",9),u.nI1(6,"async"),u.DNE(7,te,3,0,"ng-template",null,0,u.C5r)(9,G,4,1,"ng-template",null,1,u.C5r)),2&Ct){let yn;const Vn=u.sdS(10);u.R7$(4),u.uP7((null==(yn=u.bMT(4,3,_n.available_spaces))?null:yn.length)||0),u.nnv(3),u.R7$(),u.Y8G("ngIf",!u.bMT(6,5,_n.loading))("ngIfElse",Vn)}},styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return Ke})();var ce=l(467),le=l(7375),ve=l(3601),Q=l(4512),R=l(906),L=l(9714),H=l(5006),fe=l(9493),Ie=l(7401);const Xe=()=>({standalone:!0});function bt(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"button",32),u.bIt("click",function(){u.eBV(gt);const _n=u.XpG();return u.Njj(_n.close())}),u.j41(1,"app-icon"),u.EFF(2,"keyboard_arrow_left"),u.k0s()()}}function rt(Ke,Kt){if(1&Ke&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Ke){const gt=Kt.$implicit;u.Y8G("value",gt),u.R7$(),u.SpI(" ",gt.display_name||gt.name," ")}}function yt(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",34),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.setRegion(_n))}),u.DNE(2,rt,2,2,"mat-option",35),u.nI1(3,"async"),u.k0s()()}if(2&Ke){const gt=u.XpG();u.R7$(),u.Y8G("ngModel",gt.region)("ngModelOptions",u.lJ4(5,Xe)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,gt.regions))}}function ot(Ke,Kt){if(1&Ke&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Ke){const gt=Kt.$implicit;u.Y8G("value",gt),u.R7$(),u.SpI(" ",gt.display_name||gt.name," ")}}function It(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",37),u.nI1(2,"async"),u.nI1(3,"async"),u.nI1(4,"async"),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.setBuilding(_n))}),u.DNE(5,ot,2,2,"mat-option",35),u.nI1(6,"async"),u.k0s()()}if(2&Ke){let gt;const Ct=u.XpG();u.R7$(),u.Y8G("ngModel",u.bMT(2,4,Ct.building))("ngModelOptions",u.lJ4(12,Xe))("placeholder",(null==(gt=u.bMT(3,6,Ct.building))?null:gt.display_name)||(null==(gt=u.bMT(4,8,Ct.building))?null:gt.name)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,10,Ct.buildings))}}function Ae(Ke,Kt){if(1&Ke&&(u.j41(0,"div",41),u.EFF(1),u.nI1(2,"building"),u.j41(3,"span",42),u.EFF(4," - "),u.k0s()()),2&Ke){let gt;const Ct=u.XpG().$implicit;u.R7$(),u.SpI(" ",null==(gt=u.bMT(2,1,Ct.parent_id))?null:gt.display_name," ")}}function we(Ke,Kt){if(1&Ke&&(u.j41(0,"mat-option",36)(1,"div",39),u.DNE(2,Ae,5,3,"div",40),u.j41(3,"div"),u.EFF(4),u.k0s()()()),2&Ke){const gt=Kt.$implicit,Ct=u.XpG(2);u.Y8G("value",gt.id),u.R7$(2),u.Y8G("ngIf",Ct.use_region),u.R7$(2),u.SpI(" ",gt.display_name||gt.name," ")}}function _e(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",38),u.nI1(2,"async"),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.setOptions({zone_ids:_n}))}),u.DNE(3,we,5,3,"mat-option",35),u.nI1(4,"async"),u.k0s()()}if(2&Ke){let gt;const Ct=u.XpG();u.R7$(),u.Y8G("ngModel",null==(gt=u.bMT(2,4,Ct.options))?null:gt.zone_ids)("ngModelOptions",u.lJ4(8,Xe))("multiple",!0),u.R7$(2),u.Y8G("ngForOf",u.bMT(4,6,Ct.levels))}}function de(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"div",43)(1,"label",24),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.j41(6,"a-date-field",44),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.form.patchValue({date_end:_n}))}),u.EFF(7),u.nI1(8,"translate"),u.k0s()()}if(2&Ke){const gt=u.XpG();u.R7$(2),u.SpI(" ",u.bMT(3,9,"FORM.END_DATE"),""),u.R7$(4),u.Y8G("ngModel",gt.form.getRawValue().date_end)("ngModelOptions",u.lJ4(13,Xe))("from",gt.start_date)("to",gt.end_date)("short",!0)("timezone",gt.timezone)("range",2),u.R7$(),u.SpI(" ",u.bMT(8,11,"FORM.DATE_ERROR")," ")}}function Te(Ke,Kt){1&Ke&&(u.j41(0,"div",45)(1,"mat-checkbox",46),u.pXf(2,5),u.k0s()())}function Pe(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"div",48)(1,"label",52),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.j41(6,"a-time-field",53),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG(2);return u.Njj(yn.form.patchValue({date_end:_n}))}),u.k0s()()}if(2&Ke){let gt;const Ct=u.XpG(2);u.R7$(2),u.SpI(" ",u.bMT(3,6,"FORM.END_TIME"),""),u.R7$(4),u.Y8G("ngModel",Ct.form.value.date_end)("ngModelOptions",u.lJ4(8,Xe))("from",null==Ct.form||null==(gt=Ct.form.getRawValue())?null:gt.date)("use_24hr",Ct.use_24hr)("timezone",Ct.timezone)}}function St(Ke,Kt){if(1&Ke&&(u.j41(0,"div",48)(1,"label",52),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.nrm(6,"a-duration-field",54),u.k0s()),2&Ke){let gt;const Ct=u.XpG(2);u.R7$(2),u.SpI(" ",u.bMT(3,5,"FORM.END_TIME"),""),u.R7$(4),u.Y8G("time",null==Ct.form||null==(gt=Ct.form.getRawValue())?null:gt.date)("max",Ct.max_duration)("use_24hr",Ct.use_24hr)("timezone",Ct.timezone)}}function tt(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"div",47)(1,"div",48)(2,"label",49),u.PLo(3,6),u.nrm(4,"span"),u.YFu(),u.k0s(),u.j41(5,"a-time-field",50),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.form.patchValue({date:_n}))}),u.k0s()(),u.DNE(6,Pe,7,9,"div",51)(7,St,7,7,"div",51),u.k0s()}if(2&Ke){const gt=u.XpG();u.R7$(5),u.Y8G("ngModel",gt.form.getRawValue().date)("ngModelOptions",u.lJ4(6,Xe))("use_24hr",gt.use_24hr)("timezone",gt.timezone),u.R7$(),u.Y8G("ngIf",gt.multiday),u.R7$(),u.Y8G("ngIf",!gt.multiday)}}function wt(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"section",55)(1,"h2",56),u.pXf(2,7),u.nI1(3,"translate"),u.k0s(),u.j41(4,"div",57)(5,"div",58),u.pXf(6,8),u.nI1(7,"translate"),u.k0s(),u.j41(8,"mat-checkbox",59),u.nI1(9,"async"),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.setOptions({show_fav:_n}))}),u.k0s()()()}if(2&Ke){let gt;const Ct=u.XpG();u.R7$(3),u.uP7(u.bMT(3,4,"COMMON.FAVOURITES")),u.nnv(2),u.R7$(4),u.uP7(u.bMT(7,6,"ROOMS.SHOW_FAVOURITES")),u.nnv(6),u.R7$(),u.Y8G("ngModel",null==(gt=u.bMT(9,8,Ct.options))?null:gt.show_fav)("ngModelOptions",u.lJ4(10,Xe))}}function ln(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"div",57)(1,"div",63),u.EFF(2),u.k0s(),u.j41(3,"mat-checkbox",64),u.nI1(4,"async"),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG().$implicit,Vn=u.XpG(2);return u.Njj(Vn.toggleFeature(yn,_n))}),u.k0s()()}if(2&Ke){let gt;const Ct=u.XpG().$implicit,_n=u.XpG(2);u.R7$(2),u.SpI(" ",_n.feature_display[Ct]||Ct," "),u.R7$(),u.Y8G("ngModel",null==(gt=u.bMT(4,3,_n.options))||null==gt.features?null:gt.features.includes(Ct))("ngModelOptions",u.lJ4(5,Xe))}}function Mn(Ke,Kt){if(1&Ke&&(u.qex(0),u.DNE(1,ln,5,6,"div",62),u.bVm()),2&Ke){const gt=Kt.$implicit,Ct=u.XpG(2);u.R7$(),u.Y8G("ngIf",!Ct.hide_features.includes(gt))}}function Bn(Ke,Kt){if(1&Ke&&(u.j41(0,"section",60)(1,"h2",56),u.pXf(2,9),u.k0s(),u.DNE(3,Mn,2,1,"ng-container",61),u.nI1(4,"async"),u.k0s()),2&Ke){const gt=u.XpG();u.R7$(3),u.Y8G("ngForOf",u.bMT(4,1,gt.features))}}function Jt(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"div",65)(1,"button",66),u.bIt("click",function(){u.eBV(gt);const _n=u.XpG();return u.Njj(_n.close())}),u.pXf(2,10),u.k0s()()}}let Ft=(()=>{class Ke{get allow_all_day(){return!!this._settings.get("app.events.allow_all_day")}get use_region(){return!!this._settings.get("app.use_region")}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get bld(){return this._org.building}get region(){return this._org.region}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get feature_display(){return this._settings.get("app.events.feature_decriptions")||{}}get hide_features(){return this._settings.get("app.events.hide_features")||[]}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get start_date(){return(0,ve.o)(this.form.getRawValue().date).valueOf()}get end_date(){return(0,Q.D)((0,R.f)(Date.now(),this._settings.get("app.events.allowed_future_days")||180))}constructor(gt,Ct,_n,yn,Vn,mi){this._bsheet_ref=gt,this._settings=Ct,this._event_form=_n,this._org=yn,this._spaces=Vn,this._mapspeople=mi,this.can_close=!1,this.options=this._event_form.options,this.building=this._org.active_building,this.buildings=this._org.active_buildings,this.levels=(0,L.zV)([this._org.active_region,this._org.active_building]).pipe((0,H.T)(([Oi,Mi])=>(this.use_region?this._org.levelsForRegion(Oi):this._org.levelsForBuilding(Mi)).filter(ji=>!ji.tags.includes("parking")).sort((ji,ts)=>ji.parent_id.localeCompare(ts.parent_id)||(ji.display_name||"").localeCompare(ts.display_name||"")))),this.regions=this._org.region_list,this.using_mapspeople=this._mapspeople.available$,this.features=(0,L.zV)([this._spaces.features,this._event_form.available_spaces]).pipe((0,H.T)(([Oi,Mi])=>(0,le.Am)(Oi.concat((0,le.Bq)(Mi.map(wi=>wi.features)))))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Oi=>this._event_form.setOptions(Oi),this.can_close=!!this._bsheet_ref}setBuilding(gt){this._org.building=gt}setRegion(gt){this._org.region=gt}toggleFeature(gt,Ct){var _n=this;return(0,ce.A)(function*(){const{features:yn}=yield _n.options.pipe((0,fe.s)(1)).toPromise(),Vn=(yn||[]).filter(mi=>gt!==mi);Ct&&Vn.push(gt),_n.setOptions({features:Vn})})()}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(u.rXU(v.eN,8),u.rXU(le.h$),u.rXU(c.W),u.rXU(k.y),u.rXU(Ie.b),u.rXU(le._e))};static#t=this.\u0275cmp=u.VBU({type:Ke,selectors:[["space-filters"]],inputs:{multiday:"multiday",hide_levels:"hide_levels",viewing_map:"viewing_map"},decls:35,vars:31,consts:()=>{let gt,Ct,_n,yn,Vn,mi,Oi,Mi,wi,Ki,ji,ts,xs;return gt=$localize`:36173168a4643aa78634e9242a63f3a40862f1667173310086383878456:Space Filters`,Ct=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,_n=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,yn=$localize`:04cfb5fd033651743bc4b9408bd52ba4ee8940703158758063619980932:Date${"\ufffd#22\ufffd"}:START_TAG_SPAN:*${"\ufffd/#22\ufffd"}:CLOSE_TAG_SPAN:`,Vn=$localize`:beead5a3a21b1ca4abe67610030f8a520995de4e3894192522062036998: ${"\ufffd0\ufffd"}:INTERPOLATION: `,mi=$localize`:130845b58eba8e50c98f3fba117a0168cdba4f318264413387051126615:Any Region`,Oi=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,Mi=$localize`:d7f43e20f3a729fa3de32bc7a1f709ccd722eae5835486935962207481: All Day `,wi=$localize`:02d39ddac5bbf95c424df03d5f0d22cc257556bd4735431816432396893: Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ki=$localize`:bde3d9fd949ba4c6014b8e64c1362753bca1cf0c5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ji=$localize`:210742da6591a33630e0bfba757b95e6a1d99b201614226322496100282: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ts=$localize`:bf10c600bd861cfd0a23f4759562ee0ae9dbe19f1551920764795208868:Facilities`,xs=$localize`:c17e2cc448524a39eb83b2937cea3235a2e8bf372296888311792137027: Apply Filters `,[gt,Ct,_n,yn,Vn,Mi,wi,Ki,ji,ts,xs,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-space-filters",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex","items-center","flex-wrap","sm:space-x-2"],[1,"flex-1","min-w-[8rem]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to","short","timezone","range"],["class","flex-1 min-w-[8rem] relative",4,"ngIf"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","","class","space-y-2 pb-4",4,"ngIf"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-space-filters",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",mi,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",Oi,3,"ngModelChange","ngModel","ngModelOptions","multiple"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex-1","min-w-[8rem]","relative"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","from","to","short","timezone","range"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr","timezone"],["class","flex-1 w-1/3",4,"ngIf"],["for","end-time"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions","from","use_24hr","timezone"],["name","end-time","formControlName","duration",3,"time","max","use_24hr","timezone"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","",1,"space-y-2"],[4,"ngFor","ngForOf"],["class","flex items-center",4,"ngIf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-space-filters",1,"w-full",3,"click"]]},template:function(Ct,_n){if(1&Ct&&(u.j41(0,"div",11)(1,"div",12),u.DNE(2,bt,3,0,"button",13),u.k0s(),u.j41(3,"h3",14),u.pXf(4,0),u.k0s(),u.nrm(5,"div",15),u.k0s(),u.j41(6,"form",16)(7,"section",17)(8,"h2",18),u.pXf(9,1),u.k0s(),u.j41(10,"div",19)(11,"label",20),u.pXf(12,2),u.k0s(),u.DNE(13,yt,4,6,"mat-form-field",21),u.nI1(14,"async"),u.DNE(15,It,7,13,"mat-form-field",21),u.nI1(16,"async"),u.DNE(17,_e,5,9,"mat-form-field",21),u.k0s(),u.j41(18,"div",22)(19,"div",23)(20,"label",24),u.PLo(21,3),u.nrm(22,"span"),u.YFu(),u.k0s(),u.j41(23,"a-date-field",25),u.bIt("ngModelChange",function(Vn){return _n.form.patchValue({date:Vn})}),u.pXf(24,4),u.nI1(25,"translate"),u.k0s()(),u.DNE(26,de,9,14,"div",26),u.k0s(),u.DNE(27,Te,3,0,"div",27)(28,tt,8,7,"div",28),u.k0s(),u.DNE(29,wt,10,11,"section",29),u.nI1(30,"async"),u.DNE(31,Bn,5,3,"section",30),u.nI1(32,"async"),u.nI1(33,"async"),u.k0s(),u.DNE(34,Jt,3,0,"div",31)),2&Ct){let yn,Vn,mi;u.R7$(2),u.Y8G("ngIf",_n.can_close),u.R7$(4),u.Y8G("formGroup",_n.form),u.R7$(7),u.Y8G("ngIf",_n.use_region&&(null==(yn=u.bMT(14,18,_n.regions))?null:yn.length)),u.R7$(2),u.Y8G("ngIf",!_n.use_region&&(null==(Vn=u.bMT(16,20,_n.buildings))?null:Vn.length)>1),u.R7$(2),u.Y8G("ngIf",!_n.hide_levels),u.R7$(6),u.Y8G("ngModel",_n.form.getRawValue().date)("ngModelOptions",u.lJ4(30,Xe))("to",_n.end_date)("short",!0)("timezone",_n.timezone)("range",_n.multiday?1:0),u.R7$(2),u.uP7(u.bMT(25,22,"FORM.DATE_ERROR")),u.nnv(24),u.R7$(),u.Y8G("ngIf",_n.multiday),u.R7$(),u.Y8G("ngIf",_n.allow_all_day),u.R7$(),u.Y8G("ngIf",!_n.form.value.all_day),u.R7$(),u.Y8G("ngIf",!_n.viewing_map||!u.bMT(30,24,_n.using_mapspeople)),u.R7$(2),u.Y8G("ngIf",(null==(mi=u.bMT(32,26,_n.features))?null:mi.length)&&(!_n.viewing_map||!u.bMT(33,28,_n.using_mapspeople))),u.R7$(3),u.Y8G("ngIf",_n.can_close)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return Ke})();var W=l(9434),Me=l(6600);function ie(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"button",17),u.bIt("click",function(){u.eBV(gt);const _n=u.XpG();return u.Njj(_n.removeAllFeatures())}),u.EFF(1," Clear Filters "),u.k0s()}}function pe(Ke,Kt){if(1&Ke&&(u.j41(0,"div",18),u.EFF(1),u.k0s()),2&Ke){const gt=u.XpG();u.R7$(),u.SpI(" ",gt.location," ")}}function Be(Ke,Kt){if(1&Ke&&(u.qex(0),u.EFF(1),u.nI1(2,"date"),u.nI1(3,"date"),u.bVm()),2&Ke){const gt=u.XpG();u.R7$(),u.Lme(" ",u.i5U(2,2,gt.start,gt.time_format)," \u2014 ",u.i5U(3,5,gt.end,gt.time_format)," ")}}function Tt(Ke,Kt){1&Ke&&(u.qex(0),u.EFF(1,"All Day"),u.bVm())}function Wt(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"div",19)(1,"p",20),u.EFF(2),u.k0s(),u.j41(3,"button",21),u.bIt("click",function(){const _n=u.eBV(gt).$implicit,yn=u.XpG();return u.Njj(yn.removeFeature(_n))}),u.j41(4,"app-icon"),u.EFF(5,"close"),u.k0s()()()}if(2&Ke){const gt=Kt.$implicit;u.R7$(2),u.JRh(gt)}}let vn=(()=>{class Ke extends le.Tv{get all_day(){return this._event_form.form.value.all_day}get start(){return this._event_form.form.value.date}get end(){const{date:gt,duration:Ct}=this._event_form.form.value;return gt+60*Ct*1e3}get time_format(){return this._settings.time_format}constructor(gt,Ct,_n,yn){super(),this._bsheet=gt,this._event_form=Ct,this._org=_n,this._settings=yn,this.view="list",this.viewChange=new u.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(Ft)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:gt})=>this._updateLocation(gt)))}removeFeature(gt){var Ct=this;return(0,ce.A)(function*(){const _n=yield Ct._event_form.options.pipe((0,fe.s)(1)).toPromise();Ct._event_form.setOptions({..._n,features:(_n.features||[]).filter(yn=>yn!==gt)})})()}removeAllFeatures(){var gt=this;return(0,ce.A)(function*(){const Ct=yield gt._event_form.options.pipe((0,fe.s)(1)).toPromise();gt._event_form.setOptions({...Ct,features:[]})})()}_updateLocation(gt=[]){const _n=this._org.levelWithID(gt)||this._org.building;this.location=_n?.display_name||_n?.name||""}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(u.rXU(v.VK),u.rXU(c.W),u.rXU(k.y),u.rXU(le.h$))};static#t=this.\u0275cmp=u.VBU({type:Ke,selectors:[["space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[u.Vt3],decls:23,vars:20,consts:()=>{let gt,Ct,_n,yn;return gt=$localize`:19eaa5cd51d70d9ea957eecac78cfd811e9b93d85208858215712453646: Filters `,Ct=$localize`:992a9a6a193a56c5b8846dc972c5e1977ee5f1aa8553228906889869186: Map `,_n=$localize`:4b286e90831dd637c5cd3eb20544664ee71126697787942140742011951: List `,yn=$localize`:dfdd3d7879401ba6edca2e5198df414f15c112c25300384898733875729: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[gt,Ct,_n,yn,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["btn","","matRipple","","name","edit-space-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-space-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-space-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["btn","","matRipple","","name","clear-space-filters","class","min-h-[2rem] mb-2 mr-2",3,"click",4,"ngIf"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],[4,"ngIf"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["btn","","matRipple","","name","clear-space-filters",1,"min-h-[2rem]","mb-2","mr-2",3,"click"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],[1,"truncate"],["icon","","matRipple","","name","remove-space-filter",1,"-mr-4",3,"click"]]},template:function(Ct,_n){if(1&Ct&&(u.j41(0,"section",4)(1,"button",5),u.bIt("click",function(){return _n.editFilters()}),u.pXf(2,0),u.k0s(),u.j41(3,"div",6)(4,"button",7),u.bIt("click",function(){return _n.view="map",_n.viewChange.emit(_n.view)}),u.pXf(5,1),u.k0s(),u.j41(6,"button",8),u.bIt("click",function(){return _n.view="list",_n.viewChange.emit(_n.view)}),u.pXf(7,2),u.k0s()()(),u.j41(8,"section",9),u.DNE(9,ie,2,0,"button",10),u.nI1(10,"async"),u.DNE(11,pe,2,1,"div",11),u.j41(12,"div",12),u.EFF(13),u.nI1(14,"date"),u.k0s(),u.j41(15,"div",13),u.DNE(16,Be,4,8,"ng-container",14)(17,Tt,2,0,"ng-container",14),u.k0s(),u.j41(18,"div",15),u.pXf(19,3),u.nI1(20,"async"),u.k0s(),u.DNE(21,Wt,6,1,"div",16),u.nI1(22,"async"),u.k0s()),2&Ct){let yn,Vn,mi;u.R7$(4),u.AVh("inverse","map"!==_n.view),u.R7$(2),u.AVh("inverse","list"!==_n.view),u.R7$(3),u.Y8G("ngIf",(null==(yn=u.bMT(10,11,_n.options))||null==yn.features?null:yn.features.length)>1),u.R7$(2),u.Y8G("ngIf",_n.location),u.R7$(2),u.SpI(" ",u.i5U(14,13,_n.start,"mediumDate")," "),u.R7$(3),u.Y8G("ngIf",!_n.all_day),u.R7$(),u.Y8G("ngIf",_n.all_day),u.R7$(3),u.uP7((null==(Vn=u.bMT(20,16,_n.options))?null:Vn.capacity)||2),u.nnv(19),u.R7$(),u.Y8G("ngForOf",null==(mi=u.bMT(22,18,_n.options))?null:mi.features)}},dependencies:[t.Sq,t.bT,W.R,Me.r6,t.Jj,t.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;min-height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem;max-width:100%;text-align:center}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return Ke})();var Pt=l(9928),dn=l(3020),at=l(5897),pt=l(8030);function Xt(Ke,Kt){1&Ke&&u.nrm(0,"div",16)}function Gt(Ke,Kt){1&Ke&&(u.j41(0,"app-icon",17),u.EFF(1," done "),u.k0s())}let pn=(()=>{class Ke{get color(){return this.active?"#F4511E":this.selected?"#D32F2F":"#309251"}constructor(gt){this._data=gt,this.selected=!0===this._data.selected,this.active=!0===this._data.active}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(u.rXU(pt.Nw))};static#t=this.\u0275cmp=u.VBU({type:Ke,selectors:[["space-location-pin"]],decls:17,vars:3,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","44","height","60","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(Ct,_n){1&Ct&&(u.j41(0,"div",0),u.qSk(),u.j41(1,"svg",1)(2,"g",2),u.nrm(3,"path",3),u.k0s(),u.j41(4,"defs")(5,"filter",4),u.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),u.k0s()()(),u.joV(),u.j41(14,"div",13),u.DNE(15,Xt,1,0,"div",14)(16,Gt,2,0,"app-icon",15),u.k0s()()),2&Ct&&(u.R7$(3),u.BMQ("fill",_n.color),u.R7$(12),u.Y8G("ngIf",!_n.selected),u.R7$(),u.Y8G("ngIf",_n.selected))},dependencies:[t.bT,W.R],encapsulation:2})}return Ke})();const nn=()=>({controls:!0}),xn=()=>({standalone:!0});function kn(Ke,Kt){if(1&Ke&&(u.j41(0,"div",10),u.EFF(1),u.nI1(2,"building"),u.j41(3,"span",11),u.EFF(4," - "),u.k0s()()),2&Ke){let gt;const Ct=u.XpG().$implicit;u.R7$(),u.SpI(" ",null==(gt=u.bMT(2,1,Ct.parent_id))?null:gt.display_name," ")}}function Gn(Ke,Kt){if(1&Ke&&(u.j41(0,"mat-option",7)(1,"div",8),u.DNE(2,kn,5,3,"div",9),u.j41(3,"div"),u.EFF(4),u.k0s()()()),2&Ke){const gt=Kt.$implicit,Ct=u.XpG(2);u.Y8G("value",gt),u.R7$(2),u.Y8G("ngIf",Ct.use_region),u.R7$(2),u.SpI(" ",gt.display_name||gt.name," ")}}function hi(Ke,Kt){if(1&Ke){const gt=u.RV6();u.j41(0,"mat-form-field",4)(1,"mat-select",5),u.mxI("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.DH7(yn.level,_n)||(yn.level=_n),u.Njj(_n)}),u.bIt("ngModelChange",function(_n){u.eBV(gt);const yn=u.XpG();return u.Njj(yn.setOptions({zone_ids:[_n.id]}))}),u.DNE(2,Gn,5,3,"mat-option",6),u.nI1(3,"async"),u.k0s()()}if(2&Ke){const gt=u.XpG();u.R7$(),u.R50("ngModel",gt.level),u.Y8G("ngModelOptions",u.lJ4(5,xn)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,gt.levels))}}let Ht=(()=>{class Ke extends le.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(gt,Ct,_n){super(),this._event_form=gt,this._org=Ct,this._settings=_n,this.selected=[],this.is_displayed=!1,this.onSelect=new u.bkB,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._seletedSpace=yn=>()=>{this.onSelect.emit(yn),this._change.next(Date.now())},this.level=null,this._change=new Pt.t(0),this.levels=(0,L.zV)([this._org.active_region,this._org.active_building]).pipe((0,H.T)(([yn,Vn])=>(this.use_region?this._org.levelsForRegion(yn):this._org.levelsForBuilding(Vn)).filter(Mi=>!Mi.tags.includes("parking")).sort((Mi,wi)=>Mi.parent_id.localeCompare(wi.parent_id)||(Mi.display_name||"").localeCompare(wi.display_name||"")))),this.setOptions=yn=>this._event_form.setOptions(yn),this.features=(0,L.zV)([this._event_form.available_spaces,this._change]).pipe((0,dn.B)(300),(0,H.T)(([yn])=>yn.map(Vn=>({location:Vn.map_id,content:pn,data:{...Vn,active:this.active===Vn.id,selected:this.selected.includes(Vn.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,H.T)(yn=>yn.map(Vn=>({id:Vn.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(Vn)})))),this.styles=(0,L.zV)([this._event_form.spaces,this._event_form.available_spaces]).pipe((0,H.T)(([yn,Vn])=>yn.reduce((mi,Oi)=>{const Mi=this._settings.get("app.explore.colors")||{},wi=Vn.find(Ki=>Ki.id===Oi.id)?"free":"busy";return mi[`#${Oi.map_id||Oi.id}`]={fill:Mi[`space-${wi}`]||Mi[`${wi}`]||at.U[`${wi}`]},mi},{})))}ngOnInit(){this.subscription("levels_update",this._event_form.options.subscribe(({zone_ids:gt})=>{const Ct=this._org.levelWithID(gt);Ct&&(this.level=Ct)}))}setLevel(gt){this.setOptions({zone_ids:[gt?.id]});const Ct=this._org.buildings.find(_n=>_n.id===gt?.parent_id);if(Ct){const[_n,yn]=(gt.location||Ct.location).split(",").map(Vn=>parseFloat(Vn));this.coordinates={latitude:_n,longitude:yn}}this.level=gt}setZoom(gt){this.zoom=Math.max(.5,Math.min(10,gt))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(u.rXU(c.W),u.rXU(k.y),u.rXU(le.h$))};static#t=this.\u0275cmp=u.VBU({type:Ke,selectors:[["space-map"]],inputs:{selected:"selected",active:"active",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[u.Vt3],decls:8,vars:17,consts:()=>{let gt;return gt=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["appearance","outline",1,"w-full"],["name","location","placeholder",gt,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(Ct,_n){if(1&Ct&&(u.j41(0,"div",0),u.DNE(1,hi,4,6,"mat-form-field",1),u.nI1(2,"async"),u.k0s(),u.j41(3,"div",2)(4,"interactive-map",3),u.nI1(5,"async"),u.nI1(6,"async"),u.nI1(7,"async"),u.mxI("zoomChange",function(Vn){return u.DH7(_n.zoom,Vn)||(_n.zoom=Vn),Vn})("centerChange",function(Vn){return u.DH7(_n.center,Vn)||(_n.center=Vn),Vn}),u.k0s()()),2&Ct){let yn;u.R7$(),u.Y8G("ngIf",null==(yn=u.bMT(2,8,_n.levels))?null:yn.length),u.R7$(3),u.Y8G("src",_n.map_url),u.R50("zoom",_n.zoom)("center",_n.center),u.Y8G("styles",u.bMT(5,10,_n.styles))("features",u.bMT(6,12,_n.features))("actions",u.bMT(7,14,_n.actions))("options",u.lJ4(16,nn))}},styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return Ke})();l(2011);var Vt=l(4918),ct=l(5277),kt=l(3208),qt=l(9183),un=l(3719),Qe=l(2798),je=l(9608),ze=l(3476),Re=l(1413),it=l(6062),We=l(1780);let He=(()=>{class Ke{static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)};static#t=this.\u0275mod=u.$C({type:Ke});static#n=this.\u0275inj=u.G2t({imports:[t.MD,p.hM,E.h,M.c,v.vF,b.g7,n.YN,n.X1]})}return Ke})();u.wjB(S.d,[t.bT,p.tx,W.R,Me.r6,U,oe,Ft,vn,Ht],[]),u.wjB(U,[t.Sq,t.bT,W.R,Vt.S,ct.H,Me.r6],[]),u.wjB(oe,[t.Sq,t.bT,W.R,kt.U,Me.r6,qt.LG],[t.Jj]),u.wjB(Ft,[t.Sq,t.bT,W.R,Me.wT,un.rl,Qe.VO,Me.r6,b.So,je.G,ze.y,Re.t,n.qT,n.BC,n.cb,n.vS,n.j4,n.JD],[t.Jj,it.b,We.D9]),u.wjB(Ht,[t.Sq,t.bT,Vt.S,Me.wT,un.rl,Qe.VO,n.BC,n.vS],[t.Jj,it.b])},7401:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>T});var t=l(467),n=l(1038),p=l(5006),v=l(4046),b=l(9928),E=l(8026),M=l(735),S=l(7375),u=l(2011),I=l(3953);let k,T=(()=>{class w{get space_list(){return this._list.getValue()}constructor(f,V){this._org=f,this._settings=V,this._list=new b.t([]),this._initialised=new b.t(!1),this.initialised=this._initialised.asObservable(),this.list=this._list.asObservable(),this.features=this.list.pipe((0,p.T)(K=>(0,S.Am)((0,S.Bq)(K.map(ne=>ne.features))))),this._compare=K=>K.zones.includes(this._org.building.id),k=new u.J(f),this._init()}_init(){var f=this;return(0,t.A)(function*(){yield f._org.initialised.pipe((0,v.$)(V=>V)).toPromise(),f._settings.get("app.prevent_space_init")?f._initialised.next(!0):f.loadSpaces()})()}filter(f=this._compare){return this._list.getValue().filter(V=>f(V))}loadSpace(f){var V=this;return(0,t.A)(function*(){const K=yield(0,n.V4n)(f).toPromise(),ne=new M.$({...K,level:V._org.levelWithID([...K.zones])});k.updateSpaceList([ne])})()}find(f){return this._list.getValue().find(({id:V})=>f===V)}loadSpaces(){var f=this;return(0,t.A)(function*(){const ne=(yield(0,n.BbB)({zone_id:f._org.organisation.id,limit:5e3}).pipe((0,p.T)(U=>U.data)).toPromise()).map(U=>new M.$({...U,level:f._org.levelWithID([...U.zones])})).filter(U=>U.map_id);f._list.next(ne),k.updateSpaceList(ne),f._initialised.next(!0)})()}static#e=this.\u0275fac=function(V){return new(V||w)(I.KVO(E.y),I.KVO(S.h$))};static#t=this.\u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},8390:(jt,Se,l)=>{"use strict";l.d(Se,{So:()=>E.So,g8:()=>b,KJ:()=>E.KJ,Wq:()=>M.Wq,qc:()=>S.qc,SZ:()=>u.SZ}),l(1081),l(1543),l(8737);var v=l(5987);class b{constructor(k={}){this.type=k.type||k.location||"other",this.position=k.position||k.map_id||k.asset_id||{x:k.x/k.map_width||0,y:k.y/k.map_height||0},this.variance=k.variance||0,this.last_seen=k.last_seen||(0,v._)(new Date),this.level=k.level,this.building=k.building,this.at_location=!!k.at_location,this.coordinates_from=k.coordinates_from||"top-left"}}var E=l(3693),M=l(4129),S=l(6039),u=l(2372)},8737:(jt,Se,l)=>{"use strict";l.d(Se,{X:()=>ce});var t=l(4006),n=l(7375),p=l(5818),v=l(5987),b=l(3601),E=l(4512),M=l(4273);function S(le){return(0,M.a)(1e3*le)}var I=l(2037),k=l(7926),T=l(6576),w=l(9928),D=l(9714),f=l(4421),V=l(3020),K=l(9090),ne=l(3921),U=l(5006),c=l(7849),Z=l(8712),F=l(3953);const J=["container"],z=()=>[];function X(le,ve){if(1&le&&(F.j41(0,"div",32),F.EFF(1),F.k0s()),2&le){const Q=ve.index,R=F.XpG();F.xc7("left",-R.offset_x+"px"),F.BMQ("disabled",R.today&&R.current_hour>Q),F.R7$(),F.Lme(" ",Q%12==0?"12":Q%12,"",Q>=12?"pm":"am"," ")}}function $(le,ve){if(1&le){const Q=F.RV6();F.j41(0,"div",33),F.nrm(1,"a-user-avatar",12),F.j41(2,"div",34),F.EFF(3),F.k0s(),F.j41(4,"button",35),F.bIt("click",function(){const L=F.eBV(Q).$implicit,H=F.XpG();return F.Njj(H.removeUser(L))}),F.j41(5,"app-icon"),F.EFF(6,"close"),F.k0s()()()}if(2&le){const Q=ve.$implicit,R=F.XpG();F.xc7("top",-R.offset_y+"px"),F.R7$(),F.Y8G("user",Q),F.R7$(2),F.SpI(" ",Q.name||R.host.email," ")}}function te(le,ve){if(1&le&&F.nrm(0,"div",36),2&le){const Q=ve.index,R=F.XpG();F.xc7("left",-(R.offset_x+1)+"px"),F.BMQ("disabled",R.today&&R.current_hour>Q)}}function G(le,ve){if(1&le&&(F.j41(0,"div",37),F.EFF(1),F.nI1(2,"date"),F.k0s()),2&le){const Q=F.XpG();F.R7$(),F.SpI(" ",F.i5U(2,1,Q.date,"shortTime")," ")}}function oe(le,ve){if(1&le&&(F.nrm(0,"user-availability-list",25),F.nI1(1,"async"),F.nI1(2,"async")),2&le){const Q=ve.$implicit,R=F.XpG();F.Y8G("user",Q)("date",R.date)("availability",F.bMT(1,3,R.availability)?F.bMT(2,5,R.availability)[Q.email.toLowerCase()]:F.lJ4(7,z))}}let ce=(()=>{class le extends n.Tv{get today(){return(0,p.r)(this.date,Date.now())}get current_hour(){return(new Date).getHours()}get selection_left(){const Q=new Date(this.date);return 5*(Q.getHours()+Q.getMinutes()/60)}get selection_width(){return this.duration/60*5}constructor(Q,R,L){super(),this._data=Q,this._renderer=R,this._dialog_ref=L,this.users=new w.t([]),this.search="",this.date=this._data.date||Date.now(),this.duration=this._data.duration||60,this.offset_y=0,this.offset_x=0,this.host=this._data.host,this.hours=new Array(24).fill(0),this.on_change=new w.t(0),this.availability=(0,D.zV)([this.users,this.on_change]).pipe((0,V.B)(300),(0,K.n)(([H])=>(0,T.f6)({calendars:[this.host.email,...H.map(fe=>fe.email.toLowerCase())].join(","),period_start:(0,v._)((0,b.o)(this.date)),period_end:(0,v._)((0,E.D)(this.date))}).pipe((0,ne.W)(()=>(0,f.of)([])))),(0,U.T)(H=>{const fe={};for(const Ie of H)fe[Ie.id.toLowerCase()]=Ie.availability.filter(Xe=>"busy"===Xe.status).map(Xe=>{const bt=S(Xe.starts_at),rt=(0,I.o)(S(Xe.ends_at),S(Xe.starts_at));return{date:bt,duration:rt,start:(bt.getHours()+bt.getMinutes()/60)/24*100,size:rt/60/24*100}});return fe}),(0,c.U)({}),(0,Z.t)(1)),this.move_time=!1,this._start_time=0,this._move_last=0,this._move_size=1920,this.users.next([...this._data.users])}addUser(Q){this.users.next([...this.users.getValue().filter(R=>R.email!==Q.email),Q]),this.user=null}removeUser(Q){this.users.next(this.users.getValue().filter(R=>R.email!==Q.email)),this.user=null}closeAndUpdate(){this._dialog_ref.close(!0)}ngAfterViewInit(){const Q=new Date(this.date);this.timeout("init",()=>{const R=this._container_el.nativeElement.querySelector(`[hour="${Q.getHours()}"]`);if(R){const L=this._container_el.nativeElement.getBoundingClientRect(),H=R.getBoundingClientRect();this._container_el.nativeElement.scrollTo(H.left-128-L.left,0)}this.onScroll()},300)}onScroll(){this.offset_x=this._container_el.nativeElement.scrollLeft,this.offset_y=this._container_el.nativeElement.scrollTop}startMovePeriod(Q){Q.preventDefault(),Q.stopPropagation(),this._move_last=Q instanceof MouseEvent?Q.clientX:Q.touches[0].clientX,this.move_time=!0,this._start_time=this.date,Q instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",R=>this._onMovePeriod(R))):this.subscription("on_move",this._renderer.listen("window","touchmove",R=>this._onMovePeriod(R))),Q instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}startMoveDuration(Q){Q.preventDefault(),Q.stopPropagation(),this._move_last=Q instanceof MouseEvent?Q.clientX:Q.touches[0].clientX,this._start_time=this.duration,Q instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",R=>this._onMoveDuration(R))):this.subscription("on_move",this._renderer.listen("window","touchmove",R=>this._onMoveDuration(R))),Q instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}_onMovePeriod(Q){const R=this._move_last-(Q instanceof MouseEvent?Q.clientX:Q.touches[0].clientX),H=(R>0?-1:1)*Math.floor(Math.abs(R/this._move_size*24*60)/5)*5;if(H){const fe=this.date;this.date=(0,k.z)(this._start_time,H).valueOf(),this.date<Date.now()&&(this.date=fe)}}_onMoveDuration(Q){const R=this._move_last-(Q instanceof MouseEvent?Q.clientX:Q.touches[0].clientX),H=(R>0?-1:1)*Math.floor(Math.abs(R/this._move_size*24*60)/5)*5;H&&(this.duration=Math.max(30,this._start_time+H))}_onMoveEnd(){this.unsub("on_move"),this.unsub("on_move_end"),this._move_last=0,this.move_time=!1}static#e=this.\u0275fac=function(R){return new(R||le)(F.rXU(t.Vh),F.rXU(F.sFG),F.rXU(t.CP))};static#t=this.\u0275cmp=F.VBU({type:le,selectors:[["find-availability-modal"]],viewQuery:function(R,L){if(1&R&&F.GBs(J,7),2&R){let H;F.mGM(H=F.lsd())&&(L._container_el=H.first)}},features:[F.Vt3],decls:45,vars:31,consts:[["container",""],[1,"relative","flex","items-center","justify-center","p-4"],[1,"text-center"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1/2","left-1","-translate-y-1/2"],[1,"flex","flex-col","h-[calc(100vh-7rem)]","sm:h-[65vh]","overflow-hidden"],[1,"w-full","flex","flex-col","sm:flex-row","space-y-2","sm:space-y-0","sm:space-x-2","p-2"],[1,"max-h-[3.25rem]","flex-1",3,"ngModelChange","ngModel"],[1,"grid","flex-1","h-1/2","w-full","border-t","border-base-200","relative","overflow-hidden","divide-x","divide-y","divide-base-200","max-w-[100vw]","sm:max-w-[80vw]"],["times","",1,"col-start-2","h-10","flex","overflow-hidden","border-l","border-base-200"],["hour","","class","relative border-r border-base-200 h-10 min-w-[5rem] p-2",3,"left",4,"ngFor","ngForOf"],["users","",1,"row-start-2","w-24","overflow-hidden"],["host","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-2xl",3,"user"],[1,"text-xs","break-words","overflow-hidden","max-w-full","px-2","text-center"],["person","","class","flex flex-col items-center justify-center h-32 w-24 relative border-b border-base-200 py-2",3,"top",4,"ngFor","ngForOf"],["blocks","",1,"relative","row-start-2","overflow-hidden"],["fixed","",1,"absolute","inset-0","flex","overflow-hidden"],["divider","","class","relative h-full min-w-[5rem] border-l border-base-200",3,"left",4,"ngFor","ngForOf"],["selection","",1,"absolute","inset-y-0","!border-x-2","!border-info","z-20","cursor-grab","active:cursor-grabbing",3,"mousedown","touchstart"],[1,"absolute","inset-0","bg-info","opacity-30"],["handle","",1,"absolute","top-1/2","-left-px","-translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info"],["handle","",1,"absolute","top-1/2","-right-px","translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info","hover:h-4","hover:w-4","active:bg-secondary",3,"mousedown","touchstart"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-2","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"],["class","bg-base-100 border border-base-200 p-2 absolute top-12 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded",4,"ngIf"],["scroll","",1,"absolute","inset-0","overflow-auto",3,"scroll"],[1,"pointer-events-none",3,"user","date","availability"],["class","pointer-events-none",3,"user","date","availability",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],["hour","",1,"relative","border-r","border-base-200","h-10","min-w-[5rem]","p-2"],["person","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-xs","break-words","max-w-full","px-2","text-center"],["icon","",1,"absolute","-top-1","-left-1",3,"click"],["divider","",1,"relative","h-full","min-w-[5rem]","border-l","border-base-200"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-12","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"]],template:function(R,L){if(1&R){const H=F.RV6();F.j41(0,"header",1)(1,"h2",2),F.EFF(2,"Find Availability"),F.k0s(),F.j41(3,"button",3)(4,"app-icon"),F.EFF(5,"close"),F.k0s()()(),F.j41(6,"main",4)(7,"div",5)(8,"a-date-field",6),F.mxI("ngModelChange",function(Ie){return F.eBV(H),F.DH7(L.date,Ie)||(L.date=Ie),F.Njj(Ie)}),F.bIt("ngModelChange",function(){return F.eBV(H),F.Njj(L.on_change.next(L.on_change.getValue()+1))}),F.k0s(),F.j41(9,"a-user-search-field",6),F.mxI("ngModelChange",function(Ie){return F.eBV(H),F.DH7(L.user,Ie)||(L.user=Ie),F.Njj(Ie)}),F.bIt("ngModelChange",function(Ie){return F.eBV(H),F.Njj(L.addUser(Ie))}),F.k0s()(),F.j41(10,"div",7)(11,"div",8),F.DNE(12,X,2,5,"div",9),F.k0s(),F.j41(13,"div",10)(14,"div",11),F.nrm(15,"a-user-avatar",12),F.j41(16,"div",13),F.EFF(17),F.k0s()(),F.DNE(18,$,7,4,"div",14),F.nI1(19,"async"),F.k0s(),F.j41(20,"div",15)(21,"div",16),F.DNE(22,te,1,3,"div",17),F.j41(23,"div",18),F.bIt("mousedown",function(Ie){return F.eBV(H),F.Njj(L.startMovePeriod(Ie))})("touchstart",function(Ie){return F.eBV(H),F.Njj(L.startMovePeriod(Ie))}),F.nrm(24,"div",19)(25,"div",20),F.j41(26,"div",21),F.bIt("mousedown",function(Ie){return F.eBV(H),F.Njj(L.startMoveDuration(Ie))})("touchstart",function(Ie){return F.eBV(H),F.Njj(L.startMoveDuration(Ie))}),F.k0s(),F.j41(27,"div",22),F.EFF(28),F.nI1(29,"duration"),F.k0s(),F.DNE(30,G,3,4,"div",23),F.k0s()(),F.j41(31,"div",24,0),F.bIt("scroll",function(){return F.eBV(H),F.Njj(L.onScroll())}),F.nrm(33,"user-availability-list",25),F.nI1(34,"async"),F.nI1(35,"async"),F.DNE(36,oe,3,8,"user-availability-list",26),F.nI1(37,"async"),F.k0s()()()(),F.j41(38,"footer",27)(39,"button",28)(40,"div",29)(41,"app-icon",30),F.EFF(42,"arrow_back"),F.k0s(),F.j41(43,"div",31),F.EFF(44,"Back to form"),F.k0s()()()()}2&R&&(F.R7$(8),F.R50("ngModel",L.date),F.R7$(),F.R50("ngModel",L.user),F.R7$(3),F.Y8G("ngForOf",L.hours),F.R7$(2),F.xc7("top",-L.offset_y+"px"),F.R7$(),F.Y8G("user",L.host),F.R7$(2),F.SpI(" ",L.host.name||L.host.email," "),F.R7$(),F.Y8G("ngForOf",F.bMT(19,20,L.users)),F.R7$(4),F.Y8G("ngForOf",L.hours),F.R7$(),F.xc7("left","calc("+L.selection_left+"rem - "+L.offset_x+"px)")("width",L.selection_width+"rem"),F.R7$(5),F.SpI(" ",F.bMT(29,22,L.duration)," "),F.R7$(2),F.Y8G("ngIf",L.move_time),F.R7$(3),F.Y8G("user",L.host)("date",L.date)("availability",F.bMT(34,24,L.availability)?F.bMT(35,26,L.availability)[L.host.email]:F.lJ4(30,z)),F.R7$(3),F.Y8G("ngForOf",F.bMT(37,28,L.users)),F.R7$(3),F.Y8G("mat-dialog-close",!0))},styles:[".grid[_ngcontent-%COMP%]{grid-template-columns:6rem 1fr;grid-template-rows:2.5rem minmax(0,1fr)}[disabled=true][_ngcontent-%COMP%], [disabled=true][_ngcontent-%COMP%]   [header][_ngcontent-%COMP%]{background:var(--b3)!important;pointer-events:none}[disabled=true][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.3}"]})}return le})()},6039:(jt,Se,l)=>{"use strict";l.d(Se,{qI:()=>M,qc:()=>u});var t=l(1038),n=l(5006),v=(l(6727),l(8385)),b=l(3693);const E="/api/staff/v1/guests";function M(w){const D=(0,v.z)({q:w});return(0,t.JtY)(`${E}${w?"?"+D:""}`).pipe((0,n.T)(f=>f.map(V=>new b.So(V))))}function u(w){return(0,t.JtY)(`${E}/${encodeURIComponent(w)}`).pipe((0,n.T)(D=>new b.So(D)))}},1543:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>D});var t=l(3953),n=l(4006),p=l(7375),v=l(3693),b=l(4129),E=l(177),M=l(9434),S=l(6600),u=l(9183),I=l(7111);function k(f,V){if(1&f&&(t.j41(0,"main",6),t.nrm(1,"user-form",7),t.k0s()),2&f){const K=t.XpG();t.R7$(),t.Y8G("form",K.form)}}function T(f,V){if(1&f){const K=t.RV6();t.j41(0,"footer",8)(1,"button",9),t.EFF(2," Cancel "),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(K);const U=t.XpG();return t.Njj(U.saveChanges())}),t.EFF(4,"Save"),t.k0s()()}}function w(f,V){1&f&&(t.j41(0,"main",11),t.nrm(1,"mat-spinner",12),t.j41(2,"p"),t.EFF(3,"Saving attendee..."),t.k0s()())}let D=(()=>{class f extends p.Tv{constructor(K){super(),this._data=K,this.event=new t.bkB,this.form=(0,b.nu)(this.user||new v.KJ),this.loading=!1,this.user=this._data.user||{},this.form=(0,b.nu)(this.user)}ngOnInit(){}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const K=new v.KJ({...this.form.value,is_external:!0});this.event.emit({reason:"done",metadata:K})}}static#e=this.\u0275fac=function(ne){return new(ne||f)(t.rXU(n.Vh))};static#t=this.\u0275cmp=t.VBU({type:f,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[t.Vt3],decls:11,vars:4,consts:[["load_state",""],["mat-dialog-title","",1,"heading"],[1,"flex-1"],["icon","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-base-200 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-base-200","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(ne,U){if(1&ne&&(t.j41(0,"header")(1,"div",1),t.EFF(2),t.k0s(),t.nrm(3,"div",2),t.j41(4,"button",3)(5,"app-icon"),t.EFF(6,"close"),t.k0s()()(),t.DNE(7,k,2,1,"main",4)(8,T,5,0,"footer",5)(9,w,4,0,"ng-template",null,0,t.C5r)),2&ne){const c=t.sdS(10);t.R7$(2),t.SpI(" ",null!=U.user&&U.user.id?"Edit":"Add"," External Attendee "),t.R7$(5),t.Y8G("ngIf",!U.loading)("ngIfElse",c),t.R7$(),t.Y8G("ngIf",!U.loading)}},dependencies:[E.bT,n.tx,n.BI,M.R,S.r6,u.LG,I.f],styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]})}return f})()},2372:(jt,Se,l)=>{"use strict";l.d(Se,{N8:()=>E,SZ:()=>M});var t=l(1038),n=l(8385),p=l(5006),v=l(3693);const b="/api/staff/v1/people";function E(u){const I=(0,n.z)({q:u,fields:["id","name","email","username","organisation","department"].join(",")});return(0,t.JtY)(`${b}${u?"?"+I:""}`).pipe((0,p.T)(k=>k.map(T=>new v.Gp(T))))}function M(u){return(0,t.JtY)(`${b}/${encodeURIComponent(u)}`).pipe((0,p.T)(I=>new v.Gp(I)))}},7111:(jt,Se,l)=>{"use strict";l.d(Se,{f:()=>f});var t=l(3953),n=l(177),p=l(9417),v=l(3719),b=l(9631),E=l(2765),M=l(1780);function S(V,K){if(1&V&&(t.j41(0,"div",3)(1,"label",4),t.EFF(2," Name"),t.j41(3,"span"),t.EFF(4,"*"),t.k0s(),t.EFF(5,": "),t.k0s(),t.j41(6,"mat-form-field",5),t.nrm(7,"input",6),t.j41(8,"mat-error"),t.EFF(9,"Name is required"),t.k0s()()()),2&V){const ne=t.XpG(2);t.R7$(),t.AVh("error",ne.hasError("name"))}}function u(V,K){if(1&V&&(t.j41(0,"div",3)(1,"label",7),t.EFF(2," Email"),t.j41(3,"span"),t.EFF(4,"*"),t.k0s(),t.EFF(5,": "),t.k0s(),t.j41(6,"mat-form-field",5),t.nrm(7,"input",8),t.j41(8,"mat-error"),t.EFF(9,"A valid email is required"),t.k0s()()()),2&V){const ne=t.XpG(2);t.R7$(),t.AVh("error",ne.hasError("email"))}}function I(V,K){if(1&V&&(t.j41(0,"div",3)(1,"label",9),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"span"),t.EFF(5,"*"),t.k0s(),t.EFF(6,": "),t.k0s(),t.j41(7,"mat-form-field",5),t.nrm(8,"input",10),t.j41(9,"mat-error"),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&V){const ne=t.XpG(2);t.R7$(),t.AVh("error",ne.hasError("organisation")),t.R7$(),t.SpI(" ",t.bMT(3,4,"COMMON.ORGANISATION"),""),t.R7$(8),t.SpI(" ",t.bMT(11,6,"COMMON.ORGANISATION")," is required ")}}function k(V,K){if(1&V&&(t.j41(0,"div",3)(1,"label",11),t.EFF(2," Phone: "),t.k0s(),t.j41(3,"mat-form-field",5),t.nrm(4,"input",12),t.j41(5,"mat-error"),t.EFF(6,"Phone format is invalid"),t.k0s()()()),2&V){const ne=t.XpG(2);t.R7$(),t.AVh("error",ne.hasError("phone"))}}function T(V,K){1&V&&(t.j41(0,"div",3)(1,"mat-checkbox",13),t.EFF(2," Assistance required "),t.k0s()())}function w(V,K){1&V&&(t.j41(0,"div",3)(1,"mat-checkbox",14),t.EFF(2," Visit expected "),t.k0s()())}function D(V,K){if(1&V&&(t.j41(0,"form",1),t.DNE(1,S,10,2,"div",2)(2,u,10,2,"div",2)(3,I,12,8,"div",2)(4,k,7,2,"div",2)(5,T,3,0,"div",2)(6,w,3,0,"div",2),t.k0s()),2&V){const ne=t.XpG();t.Y8G("formGroup",ne.form),t.R7$(),t.Y8G("ngIf",ne.form.controls.name),t.R7$(),t.Y8G("ngIf",ne.form.controls.email),t.R7$(),t.Y8G("ngIf",ne.form.controls.organisation),t.R7$(),t.Y8G("ngIf",ne.form.controls.phone),t.R7$(),t.Y8G("ngIf",ne.form.controls.assistance_required),t.R7$(),t.Y8G("ngIf",ne.form.controls.visit_expected)}}let f=(()=>{class V{hasError(ne){const{invalid:U,touched:c}=this.form?.controls[ne]||{};return U&&c}static#e=this.\u0275fac=function(U){return new(U||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","","class","w-full",3,"formGroup",4,"ngIf"],["user-form","",1,"w-full",3,"formGroup"],["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","e.g. Conteso","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(U,c){1&U&&t.DNE(0,D,7,7,"form",0),2&U&&t.Y8G("ngIf",c.form)},dependencies:[n.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,v.rl,v.TL,b.fg,E.So,M.D9],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return V})()},3693:(jt,Se,l)=>{"use strict";l.d(Se,{Gp:()=>E,KJ:()=>v,So:()=>b});var t=l(4217),n=l(4129),p=l(4903);class v{constructor(S={}){this.id=S.id||S.email||`USER::${(0,t.DU)(8)}`,this.name=S.name||"",this.email=S.email||"",this.first_name=S.first_name||S.name||"",this.last_name=S.last_name||"",this.phone=S.phone||"",this.organisation=S.organisation||"",this.notes=S.notes||"",this.photo=S.photo||"",this.username=S.username||"",this.organizer=!!S.organizer,this.checked_in=!!S.checked_in,this.required=S.required??!0,this.resource=S.resource??!1,this.response_status=S.response_status||"";const u=S.groups||[];this.department=S.department??"",S.sys_admin&&u.push("placeos_admin"),S.support&&u.push("placeos_support"),S.department&&u.push(S.department),this.groups=u,this.extension_data=S.extension_data||{},this.extension_data.assistance_required=S.assistance_required||this.extension_data.assistance_required,this.is_external=!this.email?.endsWith(`${n.pd}`),this.visit_expected=S.visit_expected??!0,this.assistance_required=!!this.extension_data?.assistance_required;for(const I in S)I in this||(this.extension_data[I]=S[I])}}class b extends v{constructor(S={}){super(S),this.preferred_beverage=S.preferred_beverage||"",this.accepted_terms_conditions=S.accepted_terms_conditions||!1,this.attachments=S.extension_data?.attachments||S.attachments||[],this.status=S.booking?.approved?"approved":S.booking?.rejected?"declined":S.extension_data?.status||S.status||"pending",this.booking=S.booking,this.extension_data.event=S.event_metadata}}class E extends v{get location(){return this.location_time(Date.now())}work_preference(S){S||(S=Date.now());const u=new Date(S),I=u.getDay(),k=(0,p.GP)(u,"yyyy-MM-dd");if(this.work_overrides[k]?.blocks?.length)for(const T of this.work_overrides[k].blocks){const D=T.end_time;if(T.start_time<=u.getHours()+u.getMinutes()/60&&D>=u.getHours()+u.getMinutes()/60)return T}for(const T of this.work_preferences)if(T.day_of_week===I&&T.blocks?.length)for(const w of T.blocks)if(w.start_time<=u.getHours()+u.getMinutes()/60&&w.end_time>=u.getHours()+u.getMinutes()/60)return w}location_time(S=Date.now()){return this.work_preference(S)?.location||"wfo"}get location_name(){return this.location_name_time()}location_name_time(S=Date.now()){S||(S=Date.now());const u=this.location_time(S),I=this.in_hours_time(S);if(u.includes("w")&&!I)return"Outside working hours";switch(u){case"wfh":return"Working from Home";case"wfo":return"Working from Office";case"ooo":return"Out of Office";case"aol":return"Away on Leave";default:return"Unknown"}}outsideHours(S=Date.now()){const u=this.location_time(S),I=this.in_hours_time(S);return u.includes("w")&&!I}get in_hours(){return this.in_hours_time(Date.now())}location_icon(S){S||(S=Date.now());const u=this.location_time(S),I=this.in_hours_time(S);return"wfh"===u&&I?"home":"wfo"===u&&I?"business":"event_busy"}in_hours_time(S=Date.now()){return!!this.work_preference(S)}constructor(S={}){super(S),this.card_number=S.card_number||"",this.staff_id=S.staff_id||"",this.is_logged_in=!!S.is_logged_in,this.work_preferences=S.work_preferences||[],this.work_overrides=S.work_overrides||{}}}},4129:(jt,Se,l)=>{"use strict";l.d(Se,{Wq:()=>I,Z4:()=>E,nu:()=>u,pd:()=>b});var t=l(9417),p=(l(4217),l(3693));let b="@place.tech";function E(k){b=k}function u(k){if(!k)throw Error("No user passed");const T={name:new t.MJ(k.name||"",[t.k0.required]),email:new t.MJ(k.email||"",[t.k0.email,t.k0.required]),organisation:new t.MJ(k.organisation||"",t.k0.required),phone:new t.MJ(k.phone||"",t.k0.pattern(/^\+?(\d[\d\s\-\(\)]{5,13}\d)$/)),assistance_required:new t.MJ(k.assistance_required||!1),visit_expected:new t.MJ(k.visit_expected??!0)};return new t.gE(T)}function I(k=new p.So,T=""){const w={name:new t.MJ(k.name||""),email:new t.MJ(k.email||"",[t.k0.email,t.k0.required]),organisation:new t.MJ(k.organisation||"",t.k0.required),phone:new t.MJ(k.phone||""),host:new t.MJ(T||"",[t.k0.required])};return new t.gE(w)}},1081:(jt,Se,l)=>{"use strict";l.d(Se,{k:()=>Q});var t=l(177),n=l(9417),p=l(9183),v=l(9115),b=l(4006),E=l(2765),M=l(7327),S=l(2169),D=(l(1543),l(7111),l(467),l(6039),l(2372),l(3693)),f=l(3953);new D.KJ;var U=l(3022),c=l(8737);function Z(R,L){if(1&R&&(f.j41(0,"div",2)(1,"div",3),f.EFF(2),f.nI1(3,"date"),f.nI1(4,"date"),f.k0s()()),2&R){const H=L.$implicit;f.xc7("left",H.start+"%")("width",H.size+"%"),f.R7$(2),f.Lme(" ",f.i5U(3,6,H.date,"shortTime")," - ",f.i5U(4,9,H.date.valueOf()+60*H.duration*1e3,"shortTime")," ")}}let F=(()=>{class R{constructor(){this.availability=[],this.date=Date.now()}static#e=this.\u0275fac=function(fe){return new(fe||R)};static#t=this.\u0275cmp=f.VBU({type:R,selectors:[["user-availability-list"]],inputs:{user:"user",availability:"availability",date:"date"},decls:2,vars:1,consts:[[1,"relative","w-[120rem]","h-32","inset-y-0","border-b","border-base-200"],["event","","class","absolute inset-y-0 bg-error text-white p-2 overflow-hidden border border-red-700 rounded",3,"left","width",4,"ngFor","ngForOf"],["event","",1,"absolute","inset-y-0","bg-error","text-white","p-2","overflow-hidden","border","border-red-700","rounded"],[1,"text-xs","max-w-full"]],template:function(fe,Ie){1&fe&&(f.j41(0,"div",0),f.DNE(1,Z,5,12,"div",1),f.k0s()),2&fe&&(f.R7$(),f.Y8G("ngForOf",Ie.availability))},dependencies:[t.Sq,t.vh],styles:["[_nghost-%COMP%]{display:block}"]})}return R})();var J=l(1413),z=l(9434),X=l(6600),$=l(3719),te=l(2798),G=l(9608),oe=l(8e3),ce=l(1193),le=l(7022);let Q=(()=>{class R{static#e=this.\u0275fac=function(fe){return new(fe||R)};static#t=this.\u0275mod=f.$C({type:R});static#n=this.\u0275inj=f.G2t({imports:[t.MD,n.YN,n.X1,b.hM,S.c,M.h,E.g7,p.D6,v.Cn]})}return R})();f.wjB(U.$,[t.Sq,t.bT,n.BC,n.vS,b.tx,J.t,z.R,X.wT,$.rl,te.VO,X.r6,p.LG,E.So],[t.vh]),f.wjB(c.X,[t.Sq,t.bT,n.BC,n.vS,b.tx,G.G,oe.$,z.R,ce.a,X.r6,F],[t.Jj,t.vh,le.b])},3022:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>Z});var t=l(467),n=l(7375),p=l(2357),v=l(906),b=l(7793),E=l(1406),M=l(1038),S=l(3953),u=l(4006);function I(F,J){1&F&&(S.j41(0,"button",7)(1,"app-icon"),S.EFF(2,"close"),S.k0s()())}function k(F,J){if(1&F){const z=S.RV6();S.j41(0,"mat-checkbox",12),S.mxI("ngModelChange",function($){const te=S.eBV(z).$implicit,G=S.XpG(2);return S.DH7(G.weekdays_enabled[te.getDay()],$)||(G.weekdays_enabled[te.getDay()]=$),S.Njj($)}),S.bIt("ngModelChange",function($){const te=S.eBV(z).$implicit,G=S.XpG(2);return S.Njj($&&G.initialiseDay(te.getDay()))}),S.EFF(1),S.nI1(2,"date"),S.k0s()}if(2&F){const z=J.$implicit,X=S.XpG(2);S.R50("ngModel",X.weekdays_enabled[z.getDay()]),S.R7$(),S.SpI(" ",S.i5U(2,2,z,"EEE")," ")}}function T(F,J){if(1&F&&(S.j41(0,"mat-option",25),S.EFF(1),S.k0s()),2&F){const z=J.$implicit;S.Y8G("value",z.id),S.R7$(),S.SpI(" ",z.name," ")}}function w(F,J){if(1&F){const z=S.RV6();S.j41(0,"div",19)(1,"a-time-field",20),S.bIt("ngModelChange",function($){const te=S.eBV(z).$implicit,G=S.XpG(2).$implicit,oe=S.XpG(3);return S.Njj(oe.setStartTime(te,G.getDay(),$))}),S.k0s(),S.j41(2,"a-time-field",20),S.bIt("ngModelChange",function($){const te=S.eBV(z).$implicit,G=S.XpG(2).$implicit,oe=S.XpG(3);return S.Njj(oe.setEndTime(te,G.getDay(),$))}),S.k0s(),S.j41(3,"mat-form-field",21)(4,"mat-select",12),S.mxI("ngModelChange",function($){const te=S.eBV(z).$implicit;return S.DH7(te.location,$)||(te.location=$),S.Njj($)}),S.DNE(5,T,2,2,"mat-option",22),S.k0s()(),S.j41(6,"button",23),S.bIt("click",function(){const $=S.eBV(z).index,te=S.XpG(2).$implicit,G=S.XpG(3);return S.Njj(G.addBlock(G.settings[te.getDay()],$))}),S.j41(7,"app-icon"),S.EFF(8,"add"),S.k0s()(),S.j41(9,"button",24),S.bIt("click",function(){const $=S.eBV(z).index,te=S.XpG(2).$implicit,G=S.XpG(3);return S.Njj(G.removeBlock(G.settings[te.getDay()],$))}),S.j41(10,"app-icon"),S.EFF(11,"delete"),S.k0s()()()}if(2&F){let z;const X=J.$implicit,$=J.index,te=S.XpG(2).$implicit,G=S.XpG(3);S.R7$(),S.Y8G("ngModel",G.timeFrom(X.start_time))("from",G.timeFrom(($>0?null==(z=G.settings[te.getDay()].blocks[$-1])?null:z.end_time:0)||0)),S.R7$(),S.Y8G("ngModel",G.timeFrom(X.end_time))("from",G.timeFrom(X.start_time+.25)),S.R7$(2),S.R50("ngModel",X.location),S.R7$(),S.Y8G("ngForOf",G.options),S.R7$(),S.Y8G("disabled",G.settings[te.getDay()].blocks.length>2),S.R7$(3),S.AVh("opacity-0",0===$)("pointer-events-none",0===$)}}function D(F,J){if(1&F&&(S.qex(0),S.j41(1,"div",15)(2,"label",16),S.EFF(3),S.nI1(4,"date"),S.k0s(),S.j41(5,"div",17),S.DNE(6,w,12,11,"div",18),S.k0s()(),S.bVm()),2&F){const z=S.XpG().$implicit,X=S.XpG(3);S.R7$(3),S.SpI(" ",S.i5U(4,2,z,"EEE")," "),S.R7$(3),S.Y8G("ngForOf",X.settings[z.getDay()].blocks)}}function f(F,J){if(1&F&&(S.qex(0),S.DNE(1,D,7,5,"ng-container",14),S.bVm()),2&F){const z=J.$implicit,X=S.XpG(3);S.R7$(),S.Y8G("ngIf",X.weekdays_enabled[z.getDay()])}}function V(F,J){if(1&F&&(S.qex(0),S.DNE(1,f,2,1,"ng-container",13),S.bVm()),2&F){const z=S.XpG(2);S.R7$(),S.Y8G("ngForOf",z.days)}}function K(F,J){1&F&&(S.j41(0,"div",26),S.nrm(1,"img",27),S.j41(2,"p",28),S.EFF(3," No work days are currently set for this user "),S.k0s()())}function ne(F,J){if(1&F&&(S.j41(0,"main",8)(1,"h3"),S.EFF(2,"Working Days"),S.k0s(),S.j41(3,"div",9),S.DNE(4,k,3,5,"mat-checkbox",10),S.k0s(),S.j41(5,"h3"),S.EFF(6,"Work Hours"),S.k0s(),S.DNE(7,V,2,1,"ng-container",11)(8,K,4,0,"ng-template",null,1,S.C5r),S.k0s()),2&F){const z=S.sdS(9),X=S.XpG();S.R7$(4),S.Y8G("ngForOf",X.days),S.R7$(3),S.Y8G("ngIf",X.has_working_days)("ngIfElse",z)}}function U(F,J){if(1&F){const z=S.RV6();S.j41(0,"footer",29)(1,"button",30),S.bIt("click",function(){S.eBV(z);const $=S.XpG();return S.Njj($.saveChanges())}),S.EFF(2," Save "),S.k0s()()}}function c(F,J){1&F&&(S.j41(0,"div",31),S.nrm(1,"mat-spinner",32),S.j41(2,"p",28),S.EFF(3," Saving changes to work location settings... "),S.k0s()()),2&F&&(S.R7$(),S.Y8G("diameter",32))}let Z=(()=>{class F{get has_working_days(){return Object.keys(this.weekdays_enabled).some(z=>this.weekdays_enabled[z])}get option_name(){return this.options.find(z=>z.id===this.option)?.name||""}get now(){return(0,p.c)(Date.now()).getTime()}constructor(z){this._dialog_ref=z,this.options=[{id:"wfo",name:"Office"},{id:"wfh",name:"Home"},{id:"aol",name:"Leave"}],this.option=this.options[0].id,this.settings=[],this.weekdays_enabled={},this.changed=!1,this.loading=!1,this.available_weekdays=[],this.days=new Array(7).fill(0).map((X,$)=>(0,v.f)((0,b.k)((0,v.f)(Date.now(),30)),$))}ngOnInit(){const z=(0,n.Ny)();this.settings=[...(z.work_preferences||[]).map(X=>({...X,blocks:[...X?.blocks||[]]}))];for(const X of this.settings)X.blocks.length&&(this.weekdays_enabled[X.day_of_week]=!0)}timeFrom(z){return(0,p.c)((0,E.h)((0,v.f)(new Date,1),{hours:Math.floor(z),minutes:60*z%60})).getTime()}fromTime(z){const X=new Date(z);return X.getHours()+X.getMinutes()/60}initialiseDay(z){this.settings[z]||(this.settings[z]={day_of_week:z,blocks:[]}),this.settings[z].blocks||(this.settings[z].blocks=[]),0===this.settings[z].blocks.length&&this.addBlock(this.settings[z],0)}addBlock(z,X){z.blocks.splice(X+1,0,{start_time:9,end_time:17,location:"wfo"}),this.cleanupBlocks(z)}removeBlock(z,X){z.blocks.length<=1||z.blocks.splice(X,1)}setEndTime(z,X,$){setTimeout(()=>{z.end_time=this.fromTime($),this.cleanupBlocks(this.settings[X])},50)}setStartTime(z,X,$){setTimeout(()=>{z.start_time=this.fromTime($),this.cleanupBlocks(this.settings[X])},50)}cleanupBlocks(z){if(z?.blocks?.length)for(let X=0;X<z.blocks.length;X++){const $=z.blocks[X];X>0&&$.start_time<z.blocks[X-1].end_time&&($.start_time=z.blocks[X-1].end_time),$.end_time<=$.start_time&&($.end_time=$.start_time+1)}}saveChanges(z=!0){var X=this;return(0,t.A)(function*(){X.loading=!0,X._dialog_ref.disableClose=!0;const $=yield(0,M.VLL)("current").toPromise(),te=new Array(7).fill(0).map((G,oe)=>({day_of_week:oe,blocks:[]}));for(const G of X.days){const oe=G.getDay();X.weekdays_enabled[oe]&&(te[oe]={day_of_week:oe,blocks:X.settings[oe].blocks})}console.log("Update user..."),yield(0,M.TKu)($.id,{...$,groups:$.groups.filter(G=>!G.startsWith("placeos_")),work_preferences:te}).toPromise().catch(G=>{throw X.loading=!1,X._dialog_ref.disableClose=!1,(0,n.UG)("Unable to save user work preferences."),G}),console.log("Updated user"),X.loading=!1,X._dialog_ref.disableClose=!1,z&&((0,n.mj)(),console.log("Close WFH Modal"),X._dialog_ref.close())})()}static#e=this.\u0275fac=function(X){return new(X||F)(S.rXU(u.CP))};static#t=this.\u0275cmp=S.VBU({type:F,selectors:[["wfh-settings-modal"]],decls:8,vars:4,consts:[["load_state",""],["empty_state",""],[1,"relative","flex","items-center","justify-between"],[1,"font-medium","text-xl"],["icon","","matRipple","","mat-dialog-close","","class","bg-base-200",4,"ngIf"],["class","relative flex flex-col rounded w-[40rem] max-w-full p-4 space-y-2 max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"relative","flex","flex-col","rounded","w-[40rem]","max-w-full","p-4","space-y-2","max-h-[65vh]","overflow-auto"],[1,"flex","items-center","justify-between","w-full","pb-4","space-x-2"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","w-full","space-x-2","hover:bg-base-200","rounded","px-2","pt-1"],[1,"w-12","min-w-0","px-2","pt-3"],[1,"flex-1","w-1/2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/4","h-[3.25rem]",3,"ngModelChange","ngModel","from"],["appearance","outline",1,"flex-1","w-1/4","h-[3.25rem]"],[3,"value",4,"ngFor","ngForOf"],["icon","","matRipple","",3,"click","disabled"],["icon","","matRipple","",1,"text-error",3,"click"],[3,"value"],[1,"flex","flex-col","items-center","justify-center","px-8","py-16","space-y-4"],["src","assets/icons/no-results.svg",1,"m-auto"],[1,"opacity-30"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-48",3,"click"],["loading","",1,"relative","bg-base-100","flex","flex-col","justify-center","items-center","rounded","overflow-hidden","w-[24rem]","h-[18rem]","text-center","space-y-2"],[3,"diameter"]],template:function(X,$){if(1&X&&(S.j41(0,"header",2)(1,"h2",3),S.EFF(2,"Working Location Settings"),S.k0s(),S.DNE(3,I,3,0,"button",4),S.k0s(),S.DNE(4,ne,10,3,"main",5)(5,U,3,0,"footer",6)(6,c,4,1,"ng-template",null,0,S.C5r)),2&X){const te=S.sdS(7);S.R7$(3),S.Y8G("ngIf",!$.loading),S.R7$(),S.Y8G("ngIf",!$.loading)("ngIfElse",te),S.R7$(),S.Y8G("ngIf",!$.loading)}}})}return F})()},285:(jt,Se,l)=>{"use strict";l.d(Se,{LJ:()=>bt,Y9:()=>rt,Zn:()=>oe,jG:()=>w,xB:()=>ot,yF:()=>yt,yd:()=>te});var t=l(9928),n=l(4046),p=l(416);function v(It,Ae){for(var we=0;we<Ae.length;we++){var _e=Ae[we];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(It,_e.key,_e)}}function b(It,Ae,we){return Ae&&v(It.prototype,Ae),we&&v(It,we),It}function E(){return E=Object.assign||function(It){for(var Ae=1;Ae<arguments.length;Ae++){var we=arguments[Ae];for(var _e in we)Object.prototype.hasOwnProperty.call(we,_e)&&(It[_e]=we[_e])}return It},E.apply(this,arguments)}function M(It,Ae){It.prototype=Object.create(Ae.prototype),It.prototype.constructor=It,S(It,Ae)}function S(It,Ae){return(S=Object.setPrototypeOf||function(we,_e){return we.__proto__=_e,we})(It,Ae)}var u={},k="/api/engine/v2/uploads";function T(){return k}function w(It,Ae){void 0===Ae&&(Ae=!1);var we=Ae?1e3:1024;if(It<we)return It+(Ae?" iB":" B");var _e=Math.floor(Math.log(It)/Math.log(we)),de=(Ae?"kMGTPE":"KMGTPE").charAt(_e-1)+(Ae?"iB":"B");return(It/Math.pow(we,_e)).toFixed(1)+" "+de}function D(It){var Ae="";It.length%2>0&&(It="0"+It);for(var we=0,_e=It.length;we<_e;we+=2)Ae+=String.fromCharCode(parseInt(It.slice(we,we+2),16));return Ae}function f(It){var Ae="";if(It)for(var we in It)It.hasOwnProperty(we)&&null!=It[we]&&(Ae+=(Ae?"&":"")+we+"="+encodeURIComponent(It[we]));return Ae}var V="",K="",ne=function(){function It(we,_e){var de=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=we,this._endpoint=_e,this._abort_ctrl.signal.addEventListener("abort",function(){return de._dispose?de._dispose():""})}It.setToken=function(we){V=we},It.setApiKey=function(we){K=we};var Ae=It.prototype;return Ae.initialise=function(){try{var we,_e=this,de=_e._abort_ctrl.signal,Te=_e._upload,Pe=Te.file,St=Te.mime_type;_e._params.file_size=""+Pe.size,_e._params.file_name=Pe.name,St&&"binary/octet-stream"!==St&&(_e._params.file_mime=St),_e._params=E({},_e._params,_e._upload.params),(null==(we=Pe.dir_path)?void 0:we.length)>0&&(_e._params.file_path=Pe.dir_path);var tt=_e.base_request_headers,wt=f(_e._params);return Promise.resolve(fetch(_e._endpoint+"/new"+(wt?"?"+wt:""),{headers:tt,signal:de})).then(function(ln){return ln.json()})}catch(ln){return Promise.reject(ln)}},Ae.create=function(we){try{var _e=this,de=_e._abort_ctrl.signal,Te=_e.base_request_headers;return we.file_id&&(_e._params.file_id=we.file_id),_e._upload.mime_type&&(_e._params.file_mime=we.mime_type),we.parameters&&(_e._params.parameters=we.parameters),we.permissions&&(_e._params.permissions=we.permissions),we.public&&(_e._params.public=we.public),we.expires&&(_e._params.expires=we.expires||0),Promise.resolve(fetch(""+_e._endpoint,{body:JSON.stringify(_e._params),method:"POST",headers:Te,signal:de})).then(function(Pe){return Promise.resolve(Pe.json()).then(function(St){return _e.upload_id=St.upload_id,St})})}catch(Pe){return Promise.reject(Pe)}},Ae.sign=function(we,_e){void 0===_e&&(_e="");try{var de=this;if(!de.upload_id)throw new Error("Upload resource not initialised");var Te=de._abort_ctrl.signal,Pe=de.base_request_headers,St=new URLSearchParams;return St.set("part",we.toString()),_e&&St.set("file_id",encodeURIComponent(_e)),Promise.resolve(fetch(de._endpoint+"/"+de.encoded_id+"/edit?"+St.toString(),{method:"GET",headers:Pe,signal:Te})).then(function(tt){return Promise.resolve(tt.json())})}catch(tt){return Promise.reject(tt)}},Ae.update=function(we){void 0===we&&(we={});try{var _e=this;if(!_e.upload_id)throw new Error("Upload resource not initialised");var de=_e._abort_ctrl.signal,Te=_e.base_request_headers;return Promise.resolve(fetch(_e._endpoint+"/"+_e.encoded_id,{body:JSON.stringify(we),method:"PUT",headers:Te,signal:de})).then(function(Pe){return Promise.resolve(Pe.json())})}catch(Pe){return Promise.reject(Pe)}},Ae.signedRequest=function(we){try{return Promise.resolve(fetch(we.signature.url,{body:we.data,method:we.signature.verb,headers:we.signature.headers})).then(function(_e){return Promise.resolve(_e.text()).then(function(de){var Te={body:de,responseXML:null};try{Te.responseXML=(new window.DOMParser).parseFromString(Te.body,"text/xml")}catch{}return Te})})}catch(_e){return Promise.reject(_e)}},Ae.signNextChunk=function(we,_e,de,Te){void 0===Te&&(Te=null);try{var Pe=this;if(!Pe.upload_id)throw new Error("Upload resource not initialised");var St=Pe._abort_ctrl.signal,tt={part_list:de};Te&&(tt.part_data=Te);var wt=Pe.base_request_headers,ln=f({part:""+we,file_id:_e,file_mime:Pe._upload.mime_type});return Promise.resolve(fetch(Pe._endpoint+"/"+Pe.encoded_id+(ln?"?"+ln:""),{body:JSON.stringify(tt),method:Object.keys(tt).length>0?"PATCH":"PUT",headers:wt,signal:St})).then(function(Mn){return Promise.resolve(Mn.json())})}catch(Mn){return Promise.reject(Mn)}},Ae.signChunk=function(we,_e){void 0===_e&&(_e=null);try{var Te=this._abort_ctrl.signal,Pe=this.base_request_headers,St=f({part:""+we,file_id:_e});return Promise.resolve(fetch(this._endpoint+"/edit"+(St?"?"+St:""),{headers:Pe,signal:Te})).then(function(tt){return Promise.resolve(tt.json())})}catch(tt){return Promise.reject(tt)}},Ae.updateStatus=function(we){void 0===we&&(we={});try{var _e=this;if(!_e.upload_id)throw new Error("Upload resource not initialised");var de=_e._abort_ctrl.signal;return Promise.resolve(fetch(_e._endpoint+"/"+_e.encoded_id,{headers:_e.base_request_headers,method:Object.keys(we).length>0?"PATCH":"PUT",body:JSON.stringify(we),signal:de})).then(function(Te){return Promise.resolve(Te.json())})}catch(Te){return Promise.reject(Te)}},Ae.abort=function(){this._abort_ctrl.abort()},Ae.destroy=function(){this.abort();var we=new Headers;if(we.append("Accept","application/json"),V?we.append("Authorization","Bearer "+V):K&&we.append("X-API-Key",""+K),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:we,method:"DELETE"})},Ae.performSignedRequest=function(we,_e){var de=this;return void 0===_e&&(_e=function(){}),new Promise(function(Te,Pe){var St=new XMLHttpRequest;St.upload.addEventListener("progress",function(Mn){return _e(Mn)}),St.addEventListener("load",function(Mn){_e(Mn),St.status>=200&&St.status<300||St.status===we.expected?Te(St):Pe(St.status+": "+St.statusText)});var tt=function(Mn){de._upload.onError(Mn),Pe(Mn)};St.addEventListener("error",function(){return tt(St.status+": "+(St.statusText||"unknown error"))}),St.addEventListener("abort",function(){return tt(St.statusText||"browser aborted")}),St.open(we.signature.verb,we.signature.url,!0);var wt=we.signature.headers;for(var ln in wt)ln in wt&&St.setRequestHeader(ln,wt[ln]);de._dispose=function(){St.abort(),Pe("user aborted")},St.send(we.data||null)})},b(It,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var we=new Headers;return we.append("Accept","application/json"),we.append("Content-Type","application/json"),V?we.append("Authorization","Bearer "+V):K&&we.append("X-API-Key",""+K),we}}]),It}(),U=function(){function It(we,_e,de,Te,Pe){void 0===Te&&(Te={}),void 0===Pe&&(Pe=T()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new t.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=we,this.retries=_e,this.parallel=de,this.params=Te,this._endpoint=Pe,this.mime_type=we?.type||this.mime_type}var Ae=It.prototype;return Ae.setAccessUrl=function(we){this._access_url=we},Ae.onProgress=function(we){var _e=this._state.getValue();this._state.next(E({},_e,{status:"uploading",uploaded:we,progress:Math.floor(we/this.file.size*1e3)/10}))},Ae.onComplete=function(){var we=this._state.getValue();this._state.next(E({},we,{status:"complete",progress:100}))},Ae.onError=function(we){var _e=this._state.getValue();this._state.next(E({},_e,{status:"error",error:we}))},Ae.resume=function(we){try{var _e=this,de=_e._state.getValue(),Te=function(){if(!["complete","uploading","cancelled"].includes(de.status)){var Pe=function(){var tt;null==(tt=_e._provider)||tt.start()};we&&(_e.parallel=we);var St=function(){if(!_e._provider)return _e._request=new ne(_e,_e._endpoint),Promise.resolve(_e._request.initialise()).then(function(tt){var wt=u[tt.residence]||null;wt?(_e._provider=new wt(_e._request,_e),_e._state.next(E({},de,{status:"uploading"}))):_e.onError("No provider available to upload to")})}();return St&&St.then?St.then(Pe):Pe()}}();return Promise.resolve(Te&&Te.then?Te.then(function(){}):void 0)}catch(Pe){return Promise.reject(Pe)}},Ae.pause=function(){var we,_e=this._state.getValue();"uploading"===_e.status&&(null==(we=this._provider)||we.pause(),this._state.next(E({},_e,{status:"paused"})))},Ae.cancel=function(){var we,_e=this._state.getValue();["complete","cancelled"].includes(_e.status)||("uploading"===_e.status&&(null==(we=this._provider)||we.destroy()),this._state.next(E({},_e,{status:"cancelled"})))},b(It,[{key:"id",get:function(){var we;return null==(we=this._request)?void 0:we.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var we;return"waiting"===(null==(we=this._state.getValue())?void 0:we.status)}},{key:"in_progress",get:function(){var we;return"uploading"===(null==(we=this._state.getValue())?void 0:we.status)}},{key:"completed",get:function(){var we;return"complete"===(null==(we=this._state.getValue())?void 0:we.status)}}]),It}(),c=[],Z=-1;function F(){return Z+=1,c[Z%=3]}var J,It,z={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},X=z,$=[];function te(It){void 0===It&&(It={}),(X=E({},z,It)).endpoint&&(k=X.endpoint),function(Ae,we){var _e;void 0===Ae&&(Ae="/node_modules/ts-md5/dist/md5_worker.js"),(null==(_e=c)?void 0:_e.length)>0&&c.forEach(function(Te){return Te.terminate()}),c=[];for(var de=0;de<3;de+=1)c.push(new p.LL(Ae,we))}(X.worker_url,X.worker_options),X.token&&ne.setToken(X.token),X.api_key&&ne.setApiKey(X.api_key),function G(It){It.forEach(function(Ae){return function I(It,Ae){u[It]=Ae}(Ae.lookup,Ae)})}(X.providers)}function oe(It,Ae){if(void 0===Ae&&(Ae={}),!T())throw"No API endpoint set";var we=[];return It.forEach(function(_e){var de=new U(_e,X.retries,X.parallel,Ae);we.push(de),$.push(de),de.metadata=X.metadata,de.status.pipe((0,n.$)(function(Te){return"complete"===Te.status})).subscribe(function(Te){return function(Pe){var St=X.auto_start,tt=X.remove_after;X.auto_remove&&(tt?setTimeout(function(){return L(Pe)},tt):L(Pe));var wt=$.filter(function(ln){return ln.waiting});St&&wt.length&&Ie()&&wt[0].resume(X.parallel)}(de)}),X.auto_start&&Ie()&&de.resume(X.parallel)}),we}function L(It){It.cancel(),$=$.filter(function(Ae){return Ae!==It})}function Ie(){return $.filter(function(It){return It.in_progress}).length<X.simultaneous}(It=J||(J={}))[It.Paused=0]="Paused",It[It.Uploading=1]="Uploading",It[It.Completed=2]="Completed",It[It.Aborted=3]="Aborted";var Xe=function(){function It(we,_e){this._request=void 0,this._upload=void 0,this.state=J.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=we,this._upload=_e,this._file=this._upload.file,this.size=this._file.size}var Ae=It.prototype;return Ae.start=function(){this.state<J.Uploading&&(this._finalising?this._finalise():this._start())},Ae.pause=function(){for(var we in this._strategy&&this.state===J.Uploading&&!this._direct_upload?(this.state=J.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=J.Paused,this._request.abort(),this._restart()),this._progress)this._progress[we].loaded!==this._progress[we].total&&(this._progress[we].loaded=0);this._updateProgress()},Ae.destroy=function(){void 0!==this._strategy&&this.state<J.Completed&&(this._request.destroy(),this._restart(),this.state=J.Aborted)},Ae._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Ae._makeRequest=function(we,_e){var de=this;return _e.data=we.data,this._request.performSignedRequest(_e,function(Te){return de._onProgress(we.part,Te)})},Ae._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Ae._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Ae._completePart=function(we){this._current_parts=this._current_parts.filter(function(_e){return _e!==we})},Ae._isComplete=function(we){var _e=this._progress[we]||{},de=_e.loaded;return de&&de===_e.total},Ae._onProgress=function(we,_e){this._progress[we]=E({},_e),this._updateProgress()},Ae._onError=function(we){console.error("Error:",we),this.pause(),this._upload.onError(we)},Ae._updateProgress=function(){var we=0;for(var _e in this._progress)we+=this._progress[_e].loaded||0;this._upload.onProgress(we)},Ae._finalise=function(){try{var we=this;return we._request.updateStatus().then(function(){return we._upload.onComplete()},function(_e){return we._onError(_e)}),Promise.resolve()}catch(_e){return Promise.reject(_e)}},Ae._hashPart=function(we,_e,de){try{var Te=this,Pe=Te._memoization[we],St=_e();return Promise.resolve(Pe?{data:St,md5:Pe.md5,part:Pe.part}:de(St).then(function(tt){return Te._memoization[we]=tt,{data:St,md5:tt.md5,part:tt.part}}))}catch(tt){return Promise.reject(tt)}},Ae._getPartData=function(){var we=this,_e=this._currentParts().filter(function(Te){return"number"==typeof Te}),de=[];return _e.forEach(function(Te){var Pe=we._memoization[""+Te];Pe&&de.push(Pe)}),{part_list:_e,part_data:de}},It}(),bt=function(It){function Ae(){for(var _e,de=arguments.length,Te=new Array(de),Pe=0;Pe<de;Pe++)Te[Pe]=arguments[Pe];return(_e=It.call.apply(It,[this].concat(Te))||this)._part_size=5242880,_e}M(Ae,It);var we=Ae.prototype;return we._start=function(){try{var _e=this;return Promise.resolve(function(){if(void 0===_e._strategy)return _e.state=J.Uploading,_e._strategy=null,9999*_e._part_size<_e.size&&(_e._part_size=Math.floor(_e.size/9999),_e._part_size>5368709120)?(_e._upload.cancel(),void _e._onError("file exceeds maximum size")):Promise.resolve(_e._processPart(1).catch(function(de){return _e._onError(de)})).then(function(de){if(de&&_e.state===J.Uploading)return Promise.resolve(_e._request.create({file_id:window.btoa(D(de.md5))}).catch(function(Te){return _e._onError(Te)})).then(function(Te){Te&&(_e._strategy=Te.type,Te.signature&&_e._upload.setAccessUrl((Te.signature.url||"").split("?")[0]),"direct_upload"===Te.type?_e._direct(Te,de):_e._resume(Te,de))})});_e.state===J.Paused&&_e._resume()}())}catch(de){return Promise.reject(de)}},we._processPart=function(_e){var de=this;return this._hashPart(_e.toString(),function(){var Te,Pe;return de.size>de._part_size?((Pe=_e*de._part_size)>de.size&&(Pe=de.size),Te=de._file.slice((_e-1)*de._part_size,Pe)):Te=de._file,Te},function(Te){return F().hash(Te).then(function(Pe){return{md5:Pe,part:_e}})})},we._resume=function(_e,de){void 0===_e&&(_e=null),void 0===de&&(de=null);try{var Te,Pe=this;return Promise.resolve(function(){if(_e)return function(){if("parts"!==_e.type)return Promise.resolve(Pe._request.signedRequest(_e).catch(function(St){Pe._restart(),Pe._onError(St)})).then(function(St){if(St){var tt=St.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(Pe._request.updateStatus({resumable_id:tt,file_id:window.btoa(D(de.md5)),part:1}).catch(function(wt){Pe._restart(),Pe._onError(wt)})).then(function(wt){if(wt)for(Pe._nextPartIndex(),Pe._setPart(wt,de),Te=1;Te<Pe._upload.parallel;Te+=1)Pe._nextPart()})}});for(Pe._pending_parts=_e.part_list,_e.part_data&&(Pe._memoization=_e.part_data),Te=0;Te<Pe._upload.parallel;Te+=1)Pe._nextPart()}();for(Te=0;Te<Pe._upload.parallel;Te+=1)Pe._nextPart()}())}catch(St){return Promise.reject(St)}},we._generatePartManifest=function(){var _e,de,Te="<CompleteMultipartUpload>";for(_e=1;_e<1e4&&(de=this._memoization[_e]);_e+=1)Te+="<Part><PartNumber>"+_e+'</PartNumber><ETag>"'+de.md5+'"</ETag></Part>';return Te+"</CompleteMultipartUpload>"},we._nextPart=function(){var _e,de=this,Te=this._nextPartIndex();(Te-1)*this._part_size<this.size?this._processPart(Te).then(function(Pe){de.state===J.Uploading&&(_e=de._getPartData(),de._request.signNextChunk(Te,window.btoa(D(Pe.md5)),_e.part_list,_e.part_data).then(function(St){return de._setPart(St,Pe)},function(St){return de._onError(St)}))},function(Pe){return de._onError(Pe)}):1===this._currentParts().length&&this._currentParts()[0]===Te?(this._finishing=!0,this._request.sign("finish").then(function(Pe){Pe.data=de._generatePartManifest(),de._request.signedRequest(Pe).then(function(){return de._finalise()},function(St){return de._onError(St)})},function(Pe){return de._onError(Pe)})):this._finishing||(this._completePart(Te),(_e=this._getPartData()).part_update=!0,this._request.updateStatus(_e))},we._setPart=function(_e,de){var Te=this;this._makeRequest(de,_e).then(function(){Te._completePart(de?.part),Te._nextPart()},function(Pe){return Te._onError(Pe)})},we._direct=function(_e,de){var Te=this,Pe=this._makeRequest(de,_e);this._direct_upload=!0,Pe.then(function(){return Te._finalise()},function(St){return Te._onError(St)})},Ae}(Xe);bt.lookup="AmazonS3";var rt=function(It){function Ae(){for(var _e,de=arguments.length,Te=new Array(de),Pe=0;Pe<de;Pe++)Te[Pe]=arguments[Pe];return(_e=It.call.apply(It,[this].concat(Te))||this)._partSize=2097152,_e}M(Ae,It);var we=Ae.prototype;return we._start=function(){var _e=this;if(void 0===this._strategy){if(this.state=J.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(de){_e.state===J.Uploading&&_e._request.create({file_id:de.md5}).then(function(Te){_e._strategy=Te.type,"direct_upload"===Te.type?_e._direct(Te,de):_e._resume(Te,de)},_e._onError.bind(_e))},this._onError.bind(this))}else this.state===J.Paused&&this._resume()},we._processPart=function(_e){var de=this;return this._hashPart(_e.toString(),function(){var Te,Pe;return de.size>de._partSize?((Pe=_e*de._partSize)>de.size&&(Pe=de.size),Te=de._file.slice((_e-1)*de._partSize,Pe)):Te=de._file,Te},function(Te){return F().hash(Te).then(function(Pe){return{md5:window.btoa(D(Pe)),part:_e}})})},we._resume=function(_e,de){var Te,Pe=this;if(void 0===_e&&(_e=null),void 0===de&&(de=null),_e)if("parts"===_e.type)for(this._pending_parts=_e.part_list,Te=0;Te<this._upload.parallel;Te+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:de.md5,part:1}).then(function(St){for(Pe._nextPartIndex(),Pe._setPart(St,de),Te=1;Te<Pe._upload.parallel;Te+=1)Pe._nextPart()},function(St){this._restart(),this._onError(St)});else for(Te=0;Te<this._upload.parallel;Te+=1)this._nextPart()},we._generatePartManifest=function(){for(var _e='<?xml version="1.0" encoding="utf-8"?><BlockList>',de=0;de<5e4&&de*this._partSize<this.size;de+=1)_e+="<Latest>"+window.btoa(this._pad(de+1))+"</Latest>";return _e+"</BlockList>"},we._pad=function(_e){for(var de=_e.toString();de.length<6;)de="0"+de;return de},we._nextPart=function(){var _e=this,de=this._nextPartIndex();(de-1)*this._partSize<this.size?this._processPart(de).then(function(Te){_e.state===J.Uploading&&_e._request.signNextChunk(de,Te.md5,_e._currentParts()).then(function(Pe){_e._setPart(Pe,Te)},_e._onError.bind(_e))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===de?(this._finishing=!0,this._request.sign("finish").then(function(Te){Te.data=_e._generatePartManifest(),_e._request.signedRequest(Te).then(_e._finalise.bind(_e),_e._onError.bind(_e))},this._onError.bind(this))):this._finishing||(this._completePart(de),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},we._setPart=function(_e,de){var Te=this;this._makeRequest(de,_e).then(function(){Te._completePart(de.part),Te._nextPart()},this._onError.bind(this))},we._direct=function(_e,de){var Te=this,Pe=this._makeRequest(de,_e);this._direct_upload=!0,Pe.then(function(){return Te._finalise()},this._onError.bind(this))},Ae}(Xe);rt.lookup="MicrosoftAzure";var yt=function(It){function Ae(){return It.apply(this,arguments)||this}M(Ae,It);var we=Ae.prototype;return we._start=function(){var _e=this;void 0!==this._strategy&&this.state!==J.Paused||(this.state=J.Uploading,this._strategy=null,this._processPart(this._file).then(function(de){_e.state===J.Uploading&&_e._request.create({file_id:de.md5}).then(function(Te){_e._strategy=Te.type,"direct_upload"===Te.type?_e._direct(Te,de):_e._resume(Te,de)},_e._onError.bind(_e))},this._onError.bind(this)))},we._processPart=function(_e,de){return void 0===de&&(de=0),this._hashPart(de.toString(),function(){return _e},function(Te){return F().hash(Te).then(function(Pe){return{md5:window.btoa(D(Pe)),part:de}})})},we._resume=function(_e,de){var Te=this;this._request.signedRequest(_e).then(function(Pe){if("status"===_e.type)if(Pe.status===_e.expected){var St=parseInt(Pe.getResponseHeader("Range").split("-")[1],10)+1;Te._processPart(Te._file.slice(St),St).then(function(tt){Te.state===J.Uploading&&Te._request.signChunk(St,tt.md5).then(function(wt){Te._performUpload(wt,tt)},Te._onError.bind(Te))},Te._onError.bind(Te))}else Te._finalise();else Te._request.updateStatus({resumable_id:Te._getQueryParams(Pe.getResponseHeader("Location").split("?")[1]).upload_id,file_id:de.md5,part:0}).then(function(tt){return Te._performUpload(tt,de)},function(tt){this._restart(),this._onError(tt)})},this._onError.bind(this))},we._performUpload=function(_e,de){var Te=this;this._makeRequest(de,_e).then(function(){return Te._finalise()},this._onError.bind(this))},we._direct=function(_e,de){var Te=this,Pe=this._makeRequest(de,_e);this._direct_upload=!0,Pe.then(function(){Te._finalise()},this._onError.bind(this))},we._getQueryParams=function(_e){_e=_e.split("+").join(" ");for(var de,Te={},Pe=/[?&]?([^=]+)=([^&]*)/g;de=Pe.exec(_e);)Te[decodeURIComponent(de[1])]=decodeURIComponent(de[2]);return Te},Ae}(Xe);yt.lookup="GoogleCloudStorage";var ot=function(It){function Ae(){for(var _e,de=arguments.length,Te=new Array(de),Pe=0;Pe<de;Pe++)Te[Pe]=arguments[Pe];return(_e=It.call.apply(It,[this].concat(Te))||this)._partSize=2097152,_e}M(Ae,It);var we=Ae.prototype;return we._start=function(){var _e=this;if(void 0===this._strategy){if(this.state=J.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(de){_e.state===J.Uploading&&_e._request.create({file_id:de.md5}).then(function(Te){_e._strategy=Te.type,"direct_upload"===Te.type?_e._direct(Te,de):_e._resume(Te,de)},_e._onError.bind(_e))},this._onError.bind(this))}else this.state===J.Paused&&this._resume()},we._processPart=function(_e){var de=this;return this._hashPart(_e.toString(),function(){var Te,Pe;return de.size>de._partSize?((Pe=_e*de._partSize)>de.size&&(Pe=de.size),Te=de._file.slice((_e-1)*de._partSize,Pe)):Te=de._file,Te},function(Te){return F().hash(Te).then(function(Pe){return{md5:Pe,part:_e,size_bytes:Te.size}})})},we._resume=function(_e,de){var Te,Pe=this;if(void 0===_e&&(_e=null),void 0===de&&(de=null),_e)if("parts"===_e.type){if(this._pending_parts=_e.part_list,_e.part_data){var St;for(var tt in this._memoization=_e.part_data,this._memoization)this._memoization.hasOwnProperty(tt)&&((St=this._memoization[tt]).path||this._pending_parts.push(St.part));this._pending_parts=this._pending_parts.sort().filter(function(wt,ln,Mn){return!ln||wt!==Mn[ln-1]})}for(Te=0;Te<this._upload.parallel;Te+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:de.md5,part:1}).then(function(wt){for(Pe._nextPartIndex(),Pe._memoization[1].path=wt.path,Pe._setPart(wt,de),Te=1;Te<Pe._upload.parallel;Te+=1)Pe._nextPart()},function(wt){this._restart(),this._onError(wt)});else for(Te=0;Te<this._upload.parallel;Te+=1)this._nextPart()},we._generatePartManifest=function(){for(var _e,de=[],Te=1;Te<1e4&&(_e=this._memoization[Te]);Te+=1)de.push({path:_e.path,etag:_e.md5,size_bytes:_e.size_bytes});return JSON.stringify(de)},we._nextPart=function(){var _e,de=this,Te=this._nextPartIndex();(Te-1)*this._partSize<this.size?this._processPart(Te).then(function(Pe){de.state===J.Uploading&&(_e=de._getPartData(),de._request.signNextChunk(Te,Pe.md5,_e.part_list,_e.part_data).then(function(St){de._memoization[Te].path=St.path,de._setPart(St,Pe)},de._onError.bind(de)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Te?(this._finishing=!0,this._request.sign("finish").then(function(Pe){Pe.signature?(Pe.data=de._generatePartManifest(),de._request.signedRequest(Pe).then(de._finalise.bind(de),de._onError.bind(de))):de._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(Te),(_e=this._getPartData()).part_update=!0,this._request.updateStatus(_e))},we._setPart=function(_e,de){var Te=this;this._makeRequest(de,_e).then(function(){Te._completePart(de.part),Te._nextPart()},this._onError.bind(this))},we._direct=function(_e,de){var Te=this,Pe=this._makeRequest(de,_e);this._direct_upload=!0,Pe.then(function(){return Te._finalise()},this._onError.bind(this))},Ae}(Xe);ot.lookup="OpenStackSwift"},6511:(jt,Se,l)=>{"use strict";l.d(Se,{Of:()=>Gn,Rx:()=>Xt,tk:()=>fe,mn:()=>bt,b2:()=>kn,sM:()=>nn,Ay:()=>xn});var t=l(4337),n=l(9928),p=l(5286),v=l(3586),b=l(4670),E=l(8728),M=l(5006),S=l(3004);class I{constructor(dt,Vt){this.keySelector=dt,this.flushes=Vt}call(dt,Vt){return Vt.subscribe(new k(dt,this.keySelector,this.flushes))}}class k extends S.gn{constructor(dt,Vt,ct){super(dt),this.keySelector=Vt,this.values=new Set,ct&&this.add((0,S.tS)(ct,new S.zA(this)))}notifyNext(){this.values.clear()}notifyError(dt){this._error(dt)}_next(dt){this.keySelector?this._useKeySelector(dt):this._finalizeNext(dt,dt)}_useKeySelector(dt){let Vt;const{destination:ct}=this;try{Vt=this.keySelector(dt)}catch(kt){return void ct.error(kt)}this._finalizeNext(Vt,dt)}_finalizeNext(dt,Vt){const{values:ct}=this;ct.has(dt)||(ct.add(dt),this.destination.next(Vt))}}var T=l(416);function w(){return(w=Object.assign||function(Ht){for(var dt=1;dt<arguments.length;dt++){var Vt=arguments[dt];for(var ct in Vt)Object.prototype.hasOwnProperty.call(Vt,ct)&&(Ht[ct]=Vt[ct])}return Ht}).apply(this,arguments)}function D(Ht,dt){(null==dt||dt>Ht.length)&&(dt=Ht.length);for(var Vt=0,ct=new Array(dt);Vt<dt;Vt++)ct[Vt]=Ht[Vt];return ct}function f(Ht,dt){var Vt=typeof Symbol<"u"&&Ht[Symbol.iterator]||Ht["@@iterator"];if(Vt)return(Vt=Vt.call(Ht)).next.bind(Vt);if(Array.isArray(Ht)||(Vt=function(kt){if(kt){if("string"==typeof kt)return D(kt,void 0);var un=Object.prototype.toString.call(kt).slice(8,-1);return"Object"===un&&kt.constructor&&(un=kt.constructor.name),"Map"===un||"Set"===un?Array.from(kt):"Arguments"===un||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un)?D(kt,void 0):void 0}}(Ht))||dt&&Ht&&"number"==typeof Ht.length){Vt&&(Ht=Vt);var ct=0;return function(){return ct>=Ht.length?{done:!0}:{done:!1,value:Ht[ct++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var V={},K={};function ne(Ht,dt,Vt){if(void 0===Vt&&(Vt=300),!(Ht&&dt&&dt instanceof Function))throw new Error(Ht?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");U(Ht),V[Ht]=setTimeout(function(){dt(),delete V[Ht]},Vt)}function U(Ht){V[Ht]&&(clearTimeout(V[Ht]),delete V[Ht])}function c(Ht,dt){Z(Ht),K[Ht]=dt}function Z(Ht){K&&K[Ht]&&(K[Ht]instanceof t.y?K[Ht].unsubscribe():K[Ht](),delete K[Ht])}function F(Ht,dt,Vt,ct,kt,qt){if(void 0===ct&&(ct="debug"),void 0===kt&&(kt=!1),void 0===qt&&(qt="SVG VIEWER"),window.debug||kt){var un,Qe,je=["color: #E91E63","color: #ffb300","color: default"];Vt?(un=console)[ct].apply(un,["%c["+qt+"]%c["+Ht+"] %c"+dt].concat(je,[Vt])):(Qe=console)[ct].apply(Qe,["%c["+qt+"]%c["+Ht+"] %c"+dt].concat(je))}}function J(Ht){for(var dt,Vt=Ht.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),ct=f(Vt);!(dt=ct()).done;){var kt=dt.value;Vt.splice(Vt.indexOf(kt),1,[kt.replace(/^\\/g,"")])}return Vt.join(" ")}function z(Ht){return Ht?Ht instanceof MouseEvent?{x:Ht.clientX,y:Ht.clientY}:Ht.touches&&Ht.touches.length>0?{x:Ht.touches[0].clientX,y:Ht.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function $(Ht,dt,Vt,ct){var kt,qt;void 0===ct&&(ct=1);var un=null==(kt=Ht.element)?void 0:kt.querySelector(".svg-viewer__svg-overlays");if(null!=(qt=Ht.element)&&qt.querySelector("svg")&&un){var Qe=Vt||un?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(dt.x-Qe.left)/Qe.width*ct)),y:Math.max(0,Math.min(1,(dt.y-Qe.top)/Qe.height*ct))}}return F("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function G(Ht,dt){return Math.sqrt(Math.pow(Ht.x-dt.x,2)+Math.pow(Ht.y-dt.y,2))}function oe(Ht,dt,Vt){return{x:Ht.x+(dt.x-Ht.x)*Vt,y:Ht.y+(dt.y-Ht.y)*Vt}}function ce(Ht){if(!Ht)return"";var dt=w({},Ht);for(var Vt in dt)dt[Vt]instanceof Object&&(dt[Vt]=""+dt[Vt]);return dt}function le(Ht){return Ht<26?Ht+65:Ht<52?Ht+71:Ht<62?Ht-4:62===Ht?43:63===Ht?47:65}var ve={top:0,left:0,bottom:0,right:0,height:0,width:0},Q=function(){function Ht(dt){var Vt,ct,kt,qt,un,Qe,je;if(this.id=dt.id||"map-"+Math.floor(999999*Math.random()),this.url=dt.url||"local-"+T.VV.hashAsciiStr(dt.svg_data||""),this.element=dt.element||null,this.labels=dt.labels||[],this.features=dt.features||[],this.actions=dt.actions||[],this.styles=dt.styles||{},this.svg_data=dt.svg_data||"",this.content_ratio=dt.content_ratio||{x:1,y:1},this.zoom=dt.zoom||1,this.center={x:null!=(Vt=null==(ct=dt.center)?void 0:ct.x)?Vt:.5,y:null!=(kt=null==(qt=dt.center)?void 0:qt.y)?kt:.5},this.rotate=dt.rotate||0,this.ratio=dt.ratio||1,this.svg_ratio=dt.svg_ratio||1,this.max_resolution=dt.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=dt.focus||null,this.options=dt.options||{},this.mappings=dt.mappings||{},this.box={top:(dt.box||ve).top,left:(dt.box||ve).left,height:(dt.box||ve).height,width:(dt.box||ve).width},this.desired_zoom=dt.desired_zoom||dt.zoom||this.zoom,this.desired_center={x:(null==(un=dt.desired_center)?void 0:un.x)||this.center.x,y:(null==(Qe=dt.desired_center)?void 0:Qe.y)||this.center.y},this.updated_count=(dt.updated_count||0)+1,this.zoom!==this.desired_zoom){var ze=this.desired_zoom-this.zoom>=0?1:-1,Re=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),it=Math.round(Re/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===Re?this.zoom+ze*Re:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*it,y:this.center.y+(this.desired_center.y-this.center.y)*it}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var We=this.desired_center.x-this.center.x>=0?1:-1,ht=this.desired_center.y-this.center.y>=0?1:-1,He=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Ke=He/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+We*He,y:this.center.y+ht*Ke}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(je=dt?.use_gpu)||je}return Ht.prototype.contains=function(dt){this.svg_data.includes('id="'+dt+'"')},Ht}(),R=new n.t([]),L=new p.B7,H=L.pipe((0,E.p)(function(Ht){return"resize"===Ht}));function fe(Ht){return R.getValue().find(function(dt){return dt.id===Ht})}function Xe(Ht,dt){var Vt=yt();if(!((Ht=Vt.find(function(kt){return kt.id===(Ht instanceof Q?Ht.id:Ht)}))instanceof Q))return null;delete dt.url;var ct=new Q(w({},Ht,dt));return rt(ct),ct.needs_update&&ne(Ht.id+"_updating",function(){return Xe(ct,{})},16),ct}function bt(Ht){return R.pipe((0,E.p)(function(dt){return!!dt.find(function(Vt){return Vt.id===Ht})}),(0,M.T)(function(dt){return dt.find(function(Vt){return Vt.id===Ht})}),function u(Ht,dt){return Vt=>Vt.lift(new I(Ht,dt))}())}function rt(Ht){var dt=yt().filter(function(Vt){return Vt.id!==Ht.id});dt.push(Ht),R.next(dt)}function yt(){return R.getValue()}var ot,It,Ae,we,_e,de,Te,Pe=new n.t({}),St={},tt=!1,wt=!1,ln=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Mn=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],Bn=!1;function Jt(Ht,dt,Vt){if(void 0===Vt&&(Vt=ot),!tt){wt=!0;var ct=fe(Ht);if(ct){var kt=z(dt),qt={x:Math.max(0,Math.min(1,(kt.x-Vt.x)/ct.box.width/ct.desired_zoom/ct.svg_ratio+ct.center.x)),y:Math.max(0,Math.min(1,(kt.y-Vt.y)/ct.box.height/ct.desired_zoom/ct.svg_ratio+ct.center.y))};ot=kt,Xe(ct,{center:qt,desired_center:qt})}}}function Ft(){F("INPUT","Ending pinch/pan..."),U("pan_start"),tt=!1,wt=!1,we&&window.removeEventListener("mousemove",we),_e&&window.removeEventListener("mouseup",_e),de&&window.removeEventListener("touchmove",de),Te&&window.removeEventListener("touchend",Te),we=_e=de=Te=It=null}window.addEventListener("blur",function(){return Ft()});var W=function(Ht){try{return Promise.resolve(new Promise(function(dt){vn[Ht.id]||(vn[Ht.id]=[]),vn[Ht.id].push(dt),ne("resize-"+Ht.id,function(){var Vt=Ht.element;if(!Vt)throw new Error("No element set on viewer");var ct=Vt.querySelector(".svg-viewer__view-container"),kt=Vt.querySelector(".svg-viewer__svg-overlays"),qt=Vt.querySelector("#"+Ht.id),un=Vt.querySelector(".svg-viewer"),Qe=Vt.querySelector(".svg-viewer__svg-output"),je=Vt.querySelector("iframe"),ze=un?.getBoundingClientRect()||{},Re=ct?.getBoundingClientRect()||{};if(!(kt&&Qe&&je&&ct))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var it,We,ht=ze.height/ze.width,He=(null==(it=Qe.firstElementChild)||null==(We=it.viewBox)?void 0:We.baseVal)||{},Ke=He.height/He.width;Qe.firstElementChild&&(Qe.firstElementChild.style.width="200%");var Kt=(ze.width-32)*Math.min(1,ht/Ke),gt={width:Kt,height:Kt*Ke};kt.style.width=He.width+"px",kt.style.height=He.height+"px",ct.style.width=He.width+"px",ct.style.height=He.height+"px",je.style.width=He.width+"px",je.style.height=He.height+"px",je.width=""+He.width,je.height=""+He.height;var Ct=Math.min(ze.height/He.height,ze.width/He.width),_n=qt?.getBoundingClientRect(),yn=kt?.getBoundingClientRect(),Vn={x:1,y:1};_n&&yn&&(Vn={x:yn.width*Ct*.975/_n.width,y:yn.height*Ct*.975/_n.height}),Wt[Ht.id]="";var mi=Xe(Ht,{ratio:gt.height/gt.width,svg_ratio:Ct,box:Re,content_ratio:Vn});return mi?(Ht=mi,Promise.resolve(dn(Ht).catch(function(Oi){return console.warn(Oi),!1})).then(function(Oi){Oi&&(vn[Ht.id].forEach(function(Mi){return Mi()}),vn[Ht.id]=[])})):Promise.resolve()}catch(Oi){return Promise.reject(Oi)}})},100)}))}catch(dt){return Promise.reject(dt)}},Me={},ie={},pe={},Be={},Tt={},Wt={},vn={};function dn(Ht){return Me[Ht.id]||(Me[Ht.id]=new Promise(function(dt){var Vt=requestAnimationFrame(function(){if(Me[Ht.id]){var ct=Ht.element;if(!ct)throw new Error("No element set on viewer");var kt=ct.querySelector("style"),qt="",un=ct.querySelector(".svg-viewer__render-container"),Qe="scale("+Ht.zoom*Ht.svg_ratio+")";if(!un||!kt)throw new Error("Viewer is not setup yet.");var je=100*Ht.zoom*Ht.svg_ratio*(Ht.center.x-.5),ze=100*Ht.zoom*Ht.svg_ratio*(Ht.center.y-.5);un.style.transform=(Ht.use_gpu?"translate3d("+je+"%, "+ze+"%, 0)":"translate("+je+"%, "+ze+"%)")+" "+Qe+" rotate("+Ht.rotate+"deg)",qt+="#"+Ht.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+Ht.rotate+"deg) scale("+1/Ht.zoom*(1/Ht.svg_ratio)+"); }",kt.innerHTML=qt+="#"+Ht.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+Ht.rotate+"deg); height: 100%; width: 100%; }",function Re(it){try{if((JSON.stringify(w({},it.styles))||"").localeCompare(Wt[it.id])){var We=it.element;if(!We)throw new Error("No element set on viewer");var ht=We.querySelector(".svg-viewer__iframe");if(!ht)throw new Error("No iframe created for viewer");if(!ht.contentWindow)return ht.onload=function(){setTimeout(function(){return Re(it)},50),setTimeout(function(){return Re(it)},500)},Promise.resolve();var He={};He["[empty"+Math.floor(999999*Math.random())+"]"]={};var Ke=pt(w({},it.styles,He));ht.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Ke}),"*")}return Promise.resolve()}catch(Kt){return Promise.reject(Kt)}}(Ht),function(Re){var it=JSON.stringify(Re.focus);if(Re.focus&&it!==St[Re.id]){var We,ht=Math.max(.5,Math.min(10,Re.focus.zoom_level||1));We="string"==typeof Re.focus.location?function X(Ht,dt,Vt){var ct,kt,qt=null==(ct=Ht.element)?void 0:ct.querySelector(".svg-viewer__svg-overlays"),un=null==(kt=Ht.element)?void 0:kt.querySelector("svg"),Qe=un?.querySelector("#"+J(dt));if(Qe&&un&&qt){var je=Vt||qt?.getBoundingClientRect()||{},ze=Qe?.getBoundingClientRect()||{};return{x:(ze.left+ze.width/2-je.left)/je.width,y:(ze.top+ze.height/2-je.top)/je.height}}return F("DOM","Unable to find element with ID "+dt,void 0,"warn"),{x:-1,y:-1}}(Re,Re.focus.location):Re.focus.location,St[Re.id]=it;var He={x:1-We.x,y:1-We.y};Xe(Re,{center:He,desired_center:He,zoom:ht,desired_zoom:ht})}}(Ht),at(Ht),delete Me[Ht.id],cancelAnimationFrame(Vt),dt()}})})),Me[Ht.id]}function at(Ht){var dt,Vt,ct=null==(dt=Ht.element)?void 0:dt.querySelector("svg");if(Object.keys(Ht.mappings||{}).length){var kt=null==(Vt=Ht.element)?void 0:Vt.querySelector(".svg-viewer__svg-overlays");if(kt&&ct){if(!kt.getBoundingClientRect().width)return ne(Ht.id+"|render-overlays",function(){return at(Ht)},50);requestAnimationFrame(function(){(function(qt){var un=qt.labels.filter(function(mi){return!mi.zoom_level||mi.zoom_level<=qt.zoom}),Qe=JSON.stringify(un);if(Qe!==pe[qt.id]){var je,ze=null==(je=qt.element)?void 0:je.querySelector(".svg-viewer__svg-overlays");if(!ze)return;Array.from(ze.querySelectorAll("[label]")).filter(function(mi){return mi.parentNode}).forEach(function(mi){return ze.removeChild(mi)});for(var Re,it=f(un);!(Re=it()).done;){var We,ht,He,Ke=Re.value,Kt={x:0,y:0},gt="~Nothing~";"string"==typeof Ke.location?(Kt=qt.mappings[Ke.location]||Kt,gt="#"+Ke.location):(null!=(We=Ke.location)&&We.y||null!=(ht=Ke.location)&&ht.x)&&(gt="loc-"+(Kt=Ke.location).x+"-"+Kt.y);var Ct=document.createElement("div");Ct.setAttribute("label","true"),Ct.classList.add("svg-viewer__svg-overlay-item"),Ct.classList.add("label"),Ct.style.top=100*Kt.y+"%",Ct.style.left=100*Kt.x+"%";var _n,yn=document.createElement("div"),Vn=document.createElement("label");Vn.classList.add("svg-viewer__label"),Vn.setAttribute("for",gt),null!=(He=Ke.css_class)&&He.length&&(_n=Vn.classList).add.apply(_n,Ke.css_class),Ke.z_index&&(Ct.style.zIndex=""+Ke.z_index),Vn.textContent=Ke.content,yn.appendChild(Vn),Ct.appendChild(yn),ze.appendChild(Ct)}F("RENDER","Added "+qt.labels.length+" labels to view."),pe[qt.id]=Qe}})(Ht),function(qt){var un=JSON.stringify(qt.actions.map(function(Ke){return w({},Ke,{callback:""})}));if(un!==Tt[qt.id]){var Qe,je=null==(Qe=qt.element)?void 0:Qe.querySelector(".svg-viewer__svg-overlays");if(!je)return;Array.from(je.querySelectorAll(".action-zone")).filter(function(Ke){return Ke.parentNode&&je.contains(Ke.parentNode)}).forEach(function(Ke){return je.removeChild(Ke)});for(var ze,Re=f(qt.actions);!(ze=Re()).done;){var it=ze.value;if(it.action&&it.id&&"*"!==it.id&&!1!==it.zone){var We=document.createElement("button");We.id=""+it.id;var ht=qt.mappings[it.id]||{x:0,y:0},He=qt.mappings[it.id]||{w:0,h:0};We.classList.add("svg-viewer__svg-overlay-item"),We.classList.add("action-zone"),We.style.top=100*ht.y+"%",We.style.left=100*ht.x+"%",(He.w||He.h)&&(We.style.width=100*He.w+"%",We.style.height=100*He.h+"%",We.style.transform="translate(-50%, -50%)"),je.appendChild(We)}}Tt[qt.id]=un}}(Ht),function(qt){var un=JSON.stringify(qt.features.map(function(_n){return w({},_n,{content:"",data:ce(_n.data)})}));if(un!==Be[qt.id]){var Qe,je=null==(Qe=qt.element)?void 0:Qe.querySelector(".svg-viewer__svg-overlays");if(!je)return console.log("Unable to get overlay element.");var ze=je.querySelectorAll(".feature"),Re=[];window.overlay_el=je,ze.forEach(function(_n){if(_n.parentNode){var yn=_n.getAttribute("track-id");"none"!==yn&&qt.features.find(function(Vn){return Vn.track_id===yn})?Re.push(_n):je.removeChild(_n)}});for(var it,We=f(qt.features);!(it=We()).done;){var ht,He,Ke=it.value;if(Ke.content&&!Re.includes(Ke.content)){var Kt={x:0,y:0},gt={w:0,h:0},Ct=document.createElement("button");"string"==typeof Ke.location?(Ct.id=""+Ke.location,Kt=qt.mappings[Ke.location]||Kt,(Ke.hover||Ke.full_size)&&(gt=qt.mappings[Ke.location]||gt)):(null!=(ht=Ke.location)&&ht.y||null!=(He=Ke.location)&&He.x)&&(Kt=Ke.location),(Kt.x||Kt.y)&&(Ct.classList.add("svg-viewer__svg-overlay-item"),Ct.setAttribute("feature","true"),Ct.setAttribute("track-id",""+(Ke.track_id||"none")),Ct.classList.add("feature"),Ke.z_index&&(Ct.style.zIndex=""+Ke.z_index),Ke.hover&&Ct.classList.add("svg-viewer__svg-overlay-item__hover"),Ct.style.top=100*Kt.y+"%",Ct.style.left=100*Kt.x+"%",gt.w||gt.h?(Ct.style.width=100*gt.w+"%",Ct.style.height=100*gt.h+"%"):(Ct.style.width="1%",Ct.style.height=1/qt.ratio+"%"),Ct.style.transform="translate(-50%, -50%)",Ke.content instanceof Node&&Ct.appendChild(Ke.content),je.appendChild(Ct))}}F("RENDER","Added "+qt.features.length+" features to view."),Be[qt.id]=un}}(Ht)})}}}function pt(Ht){var dt="";for(var Vt in Ht)if(Ht[Vt]){var ct="";for(var kt in Ht[Vt])Ht[Vt][kt]&&(ct+=kt+": "+Ht[Vt][kt]+"; ");dt+="svg "+Vt.split(" ").map(function(qt){return J(qt)}).join(" ")+" { "+ct+" } "}return dt}c("on_resize",H.subscribe(function(){for(var Ht,dt=function(){var ct=Ht.value;try{ne("resize-"+ct.id,function(){return W(ct)})}catch(kt){console.warn(kt)}},Vt=f(yt());!(Ht=Vt()).done;)dt()}));var Xt=function(Ht){try{var dt=function(kt){return c((Vt=new Q(w({},Ht,{svg_data:kt}))).id+"-render",bt(Vt.id).subscribe(function(qt){return dn(qt).catch(function(un){return console.warn(un)})})),rt(Vt),Promise.resolve(function(qt){try{var un,Qe,je=qt.element;if(!je)throw new Error("No element set on viewer");var ze=document.createElement("div"),Re=document.createElement("style"),it=document.createElement("div"),We=document.createElement("div"),ht=document.createElement("div"),He=document.createElement("div"),Ke=document.createElement("iframe");We.appendChild(ht),We.appendChild(He),ze.appendChild(Re),ze.appendChild(it),it.appendChild(We),ze.classList.add("svg-viewer"),ze.id=qt.id,Re.id=qt.id,Ke.id="svg-display",Ke.classList.add("svg-viewer__iframe"),it.classList.add("svg-viewer__view-container"),We.classList.add("svg-viewer__render-container"),He.classList.add("svg-viewer__svg-overlays"),ht.classList.add("svg-viewer__svg-output"),ht.id="svg-output",ht.innerHTML=qt.svg_data;var Kt=(null==(un=ht.firstElementChild)||null==(Qe=un.viewBox)?void 0:Qe.baseVal)||{};it.style.width=Kt.width+"px",it.style.height=Kt.height+"px",He.style.width=Kt.width+"px",He.style.height=Kt.height+"px",He.appendChild(Ke),je.appendChild(ze);var gt=it?.getBoundingClientRect()||{},Ct=Xe(qt,{box:gt});return Ct?(qt=Ct,Promise.resolve(function _n(yn){return new Promise(function(Vn){requestAnimationFrame(function(){var mi,Oi=null==(mi=yn.element)?void 0:mi.querySelector("svg");if(!Oi||!Oi.clientWidth)return ne(yn.id+"-setup",function(){return _n(yn).then(function(wi){return Vn()})},100);var Mi=ie[yn.url]||function(wi){if(!wi)return{};var Ki={},ji=wi?.getBoundingClientRect()||{},ts=wi.querySelectorAll("[id]");return wi.id="svg-viewer-root",Ki["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},ts.forEach(function(xs){var Yi=xs?.getBoundingClientRect()||{};Ki[xs.id]={x:Math.floor((Yi.left+Yi.width/2-ji.left)/ji.width*1e5)/1e5,y:Math.floor((Yi.top+Yi.height/2-ji.top)/ji.height*1e5)/1e5,w:Math.floor(Yi.width/ji.width*1e5)/1e5,h:Math.floor(Yi.height/ji.height*1e5)/1e5}}),Ki}(Oi);ie[yn.url]=Mi,Xe(yn,{mappings:Mi}),Oi.style.display="none",function(wi){try{var Ki=JSON.stringify(w({},wi.styles))||"";if(Ki.localeCompare(Wt[wi.id])){var ji,ts,xs=wi.element;if(!xs)throw new Error("No element set on viewer");var Yi=xs.querySelector(".svg-viewer__iframe"),jn=xs.querySelector(".svg-viewer__svg-output");if(!Yi)throw new Error("No iframe created for viewer");var lt=(null==(ji=jn.firstElementChild)||null==(ts=ji.viewBox)?void 0:ts.baseVal)||{},At=""+wi.svg_data;At=/<svg[^>]*width="[^>]*>/.test(At)?At:At.replace("<svg",'<svg width="'+lt.width+'" height="'+lt.height+'" ');var Ut=function(An){for(var ye=2,_t="",q=An.length,Ue=0,Fe=0;Fe<q;Fe++)Fe>0&&4*Fe/3%76==0&&(_t+="\r\n"),Ue|=An[Fe]<<(16>>>(ye=Fe%3)&24),2!==ye&&An.length-Fe!=1||(_t+=String.fromCodePoint(le(Ue>>>18&63),le(Ue>>>12&63),le(Ue>>>6&63),le(63&Ue)),Ue=0);return _t.substr(0,_t.length-2+ye)+(2===ye?"":1===ye?"=":"==")}(function(An){for(var ye,_t,q=An.length,Ue=0,Fe=0;Fe<q;Fe++){var mt;(_t=null!=(mt=An.codePointAt(Fe))?mt:0)>65536&&Fe++,Ue+=_t<128?1:_t<2048?2:_t<65536?3:_t<2097152?4:_t<67108864?5:6}ye=new Uint8Array(Ue);for(var ut=0,Pn=0;ut<Ue;Pn++){var Yt;(_t=null!=(Yt=An.codePointAt(Pn))?Yt:0)<128?ye[ut++]=_t:_t<2048?(ye[ut++]=192+(_t>>>6),ye[ut++]=128+(63&_t)):_t<65536?(ye[ut++]=224+(_t>>>12),ye[ut++]=128+(_t>>>6&63),ye[ut++]=128+(63&_t)):_t<2097152?(ye[ut++]=240+(_t>>>18),ye[ut++]=128+(_t>>>12&63),ye[ut++]=128+(_t>>>6&63),ye[ut++]=128+(63&_t),Pn++):_t<67108864?(ye[ut++]=248+(_t>>>24),ye[ut++]=128+(_t>>>18&63),ye[ut++]=128+(_t>>>12&63),ye[ut++]=128+(_t>>>6&63),ye[ut++]=128+(63&_t),Pn++):(ye[ut++]=252+(_t>>>30),ye[ut++]=128+(_t>>>24&63),ye[ut++]=128+(_t>>>18&63),ye[ut++]=128+(_t>>>12&63),ye[ut++]=128+(_t>>>6&63),ye[ut++]=128+(63&_t),Pn++)}return ye}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+pt(w({},wi.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+At+"</body></html>"));Yi.src="data:text/html;base64,"+Ut,Wt[wi.id]=Ki}Promise.resolve()}catch(An){return Promise.reject(An)}}(yn),at(yn),Vn()})})}(qt)).then(function(){(function(_n,yn){void 0===yn&&(yn=ln);var Vn=Pe.getValue(),mi=_n.element;Vn[_n.id]&&Vn[_n.id].unsubscribe();for(var Oi,Mi=[],wi=function(){var ji=Oi.value;Mi.push((0,v.R)(mi,ji).pipe((0,M.T)(function(ts){return{id:_n.id,type:ji,event:ts}})))},Ki=f(yn);!(Oi=Ki()).done;)wi();Vn[_n.id]=b.h.apply(void 0,Mi).subscribe(function(ji){var ts,At,Ut,xs=ji.id,Yi=ji.type,jn=ji.event;switch(Mn.includes(Yi)&&jn.preventDefault(),function(lt){var At,Ut=lt.type,An=lt.event,ye=fe(lt.id);if(ye&&null!=(At=ye.actions)&&At.length){var _t=ye.actions.sort(function(q,Ue){return(Ue.priority||0)-(q.priority||0)}).find(function(q){var Ue;return q.action.includes(Ut)&&("*"===q.id||q.id===(null==(Ue=An.target)?void 0:Ue.id))});_t&&_t.callback(An,$(ye,z(An)))}}(ji),Yi){case"touchstart":case"mousedown":(null==(ts=jn.touches)?void 0:ts.length)>=2?function(lt,At){F("INPUT","Starting pinching..."),de&&window.removeEventListener("touchmove",de);var Ut=fe(lt);if(tt=!0,Ut&&!Ut.options.disable_zoom){var An=[{x:At.touches[0].clientX,y:At.touches[0].clientY},{x:At.touches[1].clientX,y:At.touches[1].clientY}],ye=An.map(function(q){return $(Ut,q)}),_t={x:(ye[0].x+ye[1].x)/2,y:(ye[0].y+ye[1].y)/2};It={x:1-_t.x,y:1-_t.y},Ae=G(An[0],An[1]),At instanceof MouseEvent||(de=function(q){return q.touches.length>=2?function(Ue,Fe,mt){void 0===mt&&(mt=Ae);var ut=fe(Ue);if(ut&&!ut.options.disable_zoom){var Pn=[{x:Fe.touches[0].clientX,y:Fe.touches[0].clientY},{x:Fe.touches[1].clientX,y:Fe.touches[1].clientY}],Yt=G(Pn[0],Pn[1]),Dn=Math.max(.5,Math.min(10,ut.zoom*Yt/mt)),Sn=Dn!=ut.zoom?oe(ut.center,It,1-ut.zoom/Dn):ut.center;Ae=Yt,Xe(ut,{zoom:Dn,center:Sn,desired_zoom:Dn,desired_center:Sn})}}(lt,q,Ae):""},window.addEventListener("touchmove",de))}}(xs,jn):function(lt,At){if(!tt){F("INPUT","Starting panning...");var Ut=fe(lt);we&&window.removeEventListener("mousemove",we),we&&window.removeEventListener("mouseup",_e),de&&window.removeEventListener("touchmove",de),de&&window.removeEventListener("touchend",Te),Ut&&!Ut.options.disable_pan&&(ot=z(At),At instanceof MouseEvent?(we=function(An){return Jt(lt,An,ot)},_e=function(){return Ft()},window.addEventListener("mousemove",we),window.addEventListener("mouseup",_e)):(de=function(An){return Jt(lt,An,ot)},Te=function(){return Ft()},window.addEventListener("touchmove",de),window.addEventListener("touchend",Te)),ne("pan_start",function(){return wt=!0},200))}}(xs,jn);break;case"touchend":case"mouseup":wt||tt||(At=jn,(Ut=fe(xs))&&F("INPUT","Clicked:",$(Ut,z(At)))),Ft();break;case"mousewheel":case"wheel":!function(lt,At){var Ut=fe(lt);if(Ut){var An=Math.min(10,Math.max(.5,Ut.zoom*(1+(At.deltaY>=0?-.02:.02)))),ye=$(Ut,z(At));It={x:1-ye.x,y:1-ye.y},ne("clear_action_start",function(){return It=null});var _t=An!=Ut.zoom?oe(Ut.center,It,1-Ut.zoom/An):Ut.center;Xe(Ut,{zoom:An,center:_t,desired_zoom:An,desired_center:_t})}}(xs,jn)}}),Pe.next(Vn)})(qt),Bn||(window.addEventListener("resize",function(){L.next("resize")}),window.addEventListener("blur",function(){return Ft()}),Bn=!0),W(qt)})):Promise.resolve()}catch(_n){return Promise.reject(_n)}}(Vt)).then(function(){return Vt.id})},Vt=yt().find(function(kt){return kt.url===Ht.url});if(Vt)return Promise.resolve(Vt.id);var ct=Ht.svg_data;return Promise.resolve(ct?dt(ct):Promise.resolve(function(kt){void 0===kt&&(kt="");try{var qt=new Headers;if(kt.startsWith(location.origin)||kt.startsWith("/"))for(var un in pn)qt.append(un,pn[un]);return Gt[kt]?Promise.resolve(Gt[kt]):Promise.resolve(fetch(kt,{headers:qt}).catch(function(Qe){return F("SVG VIEWER","Failed to load map",Qe,"error"),{text:function(){return Promise.resolve("")}}})).then(function(Qe){return Promise.resolve(Qe.text()).then(function(je){return Gt[kt]=je,je})})}catch(Qe){return Promise.reject(Qe)}}(Ht.url)).then(dt))}catch(kt){return Promise.reject(kt)}},Gt={},pn={};function nn(Ht){for(var dt in Ht)pn[dt.toLowerCase()]=Ht[dt]}function xn(Ht,dt){return Xe(Ht,dt)}function kn(Ht){var dt,Vt=fe(Ht);if(Vt){var ct,kt,qt,un=null==(dt=Vt.element)?void 0:dt.querySelector(".svg-viewer");un&&(Vt.element.removeChild(un),ct=Vt,kt=yt().filter(function(Qe){return Qe.id!==ct.id}),R.next(kt),qt=""+Ht,Object.keys(K).filter(function(Qe){return Qe.includes(qt)}).forEach(function(Qe){return Z(Qe)}))}}function Gn(){var Ht=document.getElementById("svg-viewer-global");Ht||((Ht=document.createElement("style")).id="svg-viewer-global",Ht.innerHTML=hi,document.head.appendChild(Ht),F("Styles","Added global viewer styles to document"))}var hi="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},1038:(jt,Se,l)=>{"use strict";function T(j,Y,Le,Ze){return new(Le||(Le=Promise))(function(on,Rn){function qn(fs){try{ri(Ze.next(fs))}catch(oo){Rn(oo)}}function Ni(fs){try{ri(Ze.throw(fs))}catch(oo){Rn(oo)}}function ri(fs){fs.done?on(fs.value):function Zt(on){return on instanceof Le?on:new Le(function(Rn){Rn(on)})}(fs.value).then(qn,Ni)}ri((Ze=Ze.apply(j,Y||[])).next())})}l.d(Se,{cor:()=>Cr,Pdm:()=>Rs,kMc:()=>Pl,Kz4:()=>es,kup:()=>zs,jv5:()=>Re,L2z:()=>ci,omv:()=>kt,yHY:()=>Vr,JtY:()=>Wo,f_4:()=>od,XTx:()=>ea,vWy:()=>fr,TMs:()=>bs,sc7:()=>Er,WsZ:()=>Es,rig:()=>jr,XYg:()=>ir,F6F:()=>Po,bEY:()=>rr,yJg:()=>Or,Pac:()=>$o,smE:()=>re,BbB:()=>Tn,Kfl:()=>bi,n1$:()=>Sd,smM:()=>jo,Be_:()=>qs,BCG:()=>Ui,mjH:()=>pr,bpY:()=>Fn,V4n:()=>oi,VLL:()=>Zc,_Ni:()=>ed,ShT:()=>ti,D58:()=>Ln,TKu:()=>lp}),"function"==typeof SuppressedError&&SuppressedError;var H=l(4526),fe=l(4421),pe=l(5817),Be=l(4337),Tt=l(4787);function Wt(j,Y={}){const{selector:Le}=Y,Ze=function rt(j,Y){var Le={};for(var Ze in j)Object.prototype.hasOwnProperty.call(j,Ze)&&Y.indexOf(Ze)<0&&(Le[Ze]=j[Ze]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var Zt=0;for(Ze=Object.getOwnPropertySymbols(j);Zt<Ze.length;Zt++)Y.indexOf(Ze[Zt])<0&&Object.prototype.propertyIsEnumerable.call(j,Ze[Zt])&&(Le[Ze[Zt]]=j[Ze[Zt]])}return Le}(Y,["selector"]);return new pe.c(Zt=>{const on=new AbortController,Rn=on.signal;let qn=!0,Ni=!1;const ri=new Be.y;let fs;if(ri.add(()=>{Ni=!0,qn&&on.abort()}),Ze){if(Ze.signal)if(Ze.signal.aborted)on.abort();else{const oo=Ze.signal,Js=()=>{Rn.aborted||on.abort()};oo.addEventListener("abort",Js),ri.add(()=>oo.removeEventListener("abort",Js))}fs=Object.assign({},Ze,{signal:Rn})}else fs={signal:Rn};return fetch(j,fs).then(oo=>{Le?ri.add((0,Tt.H)(Le(oo)).subscribe(Js=>Zt.next(Js),Js=>{qn=!1,Ni||Zt.error(Js)},()=>{qn=!1,Zt.complete()})):(qn=!1,Zt.next(oo),Zt.complete())}).catch(oo=>{qn=!1,Ni||Zt.error(oo)}),ri})}var vn=l(8728),Pt=l(9493),dn=l(9090),at=l(5286),pt=l(3004);class Gt{constructor(Y,Le){this.notifier=Y,this.source=Le}call(Y,Le){return Le.subscribe(new pn(Y,this.notifier,this.source))}}class pn extends pt.gn{constructor(Y,Le,Ze){super(Y),this.notifier=Le,this.source=Ze}error(Y){if(!this.isStopped){let Le=this.errors,Ze=this.retries,Zt=this.retriesSubscription;if(Ze)this.errors=void 0,this.retriesSubscription=void 0;else{Le=new at.B7;try{const{notifier:on}=this;Ze=on(Le)}catch(on){return super.error(on)}Zt=(0,pt.tS)(Ze,new pt.zA(this))}this._unsubscribeAndRecycle(),this.errors=Le,this.retries=Ze,this.retriesSubscription=Zt,Le.next(Y)}}_unsubscribe(){const{errors:Y,retriesSubscription:Le}=this;Y&&(Y.unsubscribe(),this.errors=void 0),Le&&(Le.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:Y}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=Y,this.source.subscribe(this)}}var nn=l(8456),xn=l(993),kn=l(1299),Gn=l(9928),hi=l(5006),Ht=l(416);function dt(j,Y,Le,Ze="debug",Zt){if(window.debug){const Rn=["color: #0288D1",`color:${Zt||"#009688"}`,"color: default"];Le?Vt()?console[Ze](`%c[PlaceOS]%c[${j}] %c${Y}`,...Rn,Le):console[Ze](`[PlaceOS][${j}] ${Y}`,Le):Vt()?console[Ze](`%c[PlaceOS]%c[${j}] %c${Y}`,...Rn):console[Ze](`[PlaceOS][${j}] ${Y}`)}}function Vt(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function ct(){var j,Y,Le,Ze,Zt,on;const Rn=null!==(j=window.location)&&void 0!==j&&j.hash?null===(Y=window.location)||void 0===Y?void 0:Y.hash.slice(1):(null===(Le=window.location)||void 0===Le?void 0:Le.href.split("#")[1])||"";let qn=null!==(Ze=window.location)&&void 0!==Ze&&Ze.search?null===(Zt=window.location)||void 0===Zt?void 0:Zt.search.slice(1):(null===(on=window.location)||void 0===on?void 0:on.href.split("?")[1])||"",Ni={};if(Rn)if(Rn.indexOf("?")>=0){const fs=Rn.split("?");Ni=kt(fs[0]),qn||(qn=fs[1])}else Ni=kt(Rn);let ri={};return qn&&(ri=kt(qn)),Object.assign(Object.assign({},Ni),ri)}function kt(j){const Y={},Le=j.split("&");for(const Ze of Le){const Zt=Ze.split("=");Zt[1]&&(Y[decodeURIComponent(Zt[0])]=decodeURIComponent(Zt[1]))}return Y}const qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Qe(j){var Y,Le,Ze,Zt,on;const Rn=((null===(Y=window.location)||void 0===Y?void 0:Y.hash)||"").replace(new RegExp(`${j}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),qn=((null===(Le=window.location)||void 0===Le?void 0:Le.search)||"").replace(new RegExp(`${j}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(Ze=window.history)&&void 0!==Ze&&Ze.replaceState&&(null===(Zt=window.history)||void 0===Zt||Zt.replaceState(null,"",`${null===(on=window.location)||void 0===on?void 0:on.pathname}${Rn}${qn}`))}function Re(j,Y){for(const Le in j)j.hasOwnProperty(Le)&&Y.indexOf(j[Le])>=0&&delete j[Le];return j}class He{abort(){dt("Stub","Aborted")}}function Ke(j){let Y="";if(j)for(const Le in j)j.hasOwnProperty(Le)&&null!=j[Le]&&(Y+=`${Y?"&":""}${Le}=${encodeURIComponent(j[Le])}`);return Y}const Kt={};function yn(j,Y,Le=300){if(!(j&&Y&&Y instanceof Function))throw new Error(j?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");Vn(j),Kt[j]=setTimeout(()=>{Y(),delete Kt[j]},Le)}function Vn(j){Kt[j]&&(clearTimeout(Kt[j]),delete Kt[j])}const Ki={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var ji=l(6299),ts=l(3368),xs=l(9255),Yi=l(1113);let Ut,An,At={};const ye={};let _t="",q="";const Ue=new Gn.t(""),Fe=new Gn.t("");let mt="/api/engine/v2";const ut=new Gn.t(!1),Pn=ut.asObservable();let Yt=0;function Dn(){var j,Y;return`${At.secure||(null===(j=window.location)||void 0===j?void 0:j.protocol.indexOf("https"))>=0?"https:":"http:"}//${At.host||(null===(Y=window.location)||void 0===Y?void 0:Y.host)}${Sn()}`}function Sn(){return"ACA Engine"===At.version?"/control/api":mt}function ci(){return _t}function Ui(j,Y=!0){Ut.setItem(`${_t}_x-api-key`,`${j}`),Ut.setItem("trusted",`${Y}`),function as(j,Y=(0,ts.L)(new Date,2).valueOf()){At.ignore_api_key&&"x-api-key"===j||(Ut.setItem(`${_t}_expires_at`,`${Y}`),Ut.setItem(`${_t}_access_token`,j))}("x-api-key",(0,ji.e)(new Date,5).valueOf())}function es(){return $r("x-api-key",!1)||""}function ti(j=!0){if(At.mock)return"mock-token";if(!Ut)return"";if(es()&&!At.ignore_api_key)return"x-api-key";const Y=Ut.getItem(`${_t}_expires_at`)||"",Le=Ue.getValue();return(0,xs.Y)(+Y,new Date)&&(dt("Auth","Token expired. Requesting new token..."),ea(),ye.load_authority||(Yt+=1,yn("re-authorise",()=>ta().catch(Ze=>dt("Auth",`Failed to get token: ${Ze}`)),200*Math.min(20,Yt))),!j)?"":Le||Ut.getItem(`${_t}_access_token`)||""}function qs(){return Fe.getValue()||Ut.getItem(`${_t}_refresh_token`)||""}function Qi(){var j;return At.host||(null===(j=window.location)||void 0===j?void 0:j.host)}function zs(){return An}function Er(){return ut.getValue()}function bs(){return!!At.mock}function ir(){return Pn}function ro(){return"true"===$r("trust")||"true"===$r("trusted")}function fr(){return!!es()&&!At.ignore_api_key||"true"===$r("fixed_device")}function $r(j,Y=!0){let Ze=ct()[j];if(Ut){const Zt=`${ci()}_${j}`;Ze=Ze||Ut.getItem(Zt)||Ut.getItem(j)||"",Y&&Ut.setItem(Zt,`${Ze}`)}return Ze}function pr(j){var Y;return At=j||At,At.token_header=null!==(Y=At.token_header)&&void 0!==Y?Y:function We(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=He),Ut="session"===At.storage?sessionStorage:localStorage,_t=Ht.VV.hashStr(At.redirect_uri,!1),Ur()}function zo(){return dt("Auth","Refreshing authorty."),An=void 0,Ur()}function ea(){dt("Auth","Invalidating tokens."),Ut.removeItem(`${_t}_access_token`),Ut.removeItem(`${_t}_expires_at`),Ue.getValue()&&Ue.next("")}function ta(j,Y=An){return ye.authorise||(ye.authorise=new Promise((Le,Ze)=>{if(!Y)return delete ye.authorise,Ze("Authority is not loaded");dt("Auth","Authorising user...");const Zt=()=>{if(ti(!1))dt("Auth","Valid token found."),delete ye.authorise,Le(ti());else{const on=[()=>{dt("Auth","Successfully generated token."),Le(ti()),delete ye.authorise},()=>{dt("Auth","Failed to generate token."),Ze("Failed to generate token"),setTimeout(()=>delete ye.authorise,200)}];At&&"password"===At.auth_type?(dt("Auth","Logging in with credentials."),function Ws(j){return ys(function Ci(j){return`${j.token_uri||"/auth/token"}?${Ke({grant_type:"password",client_id:_t,client_secret:j.client_secret,redirect_uri:j.redirect_uri,authority:An?.id,scope:j.scope,username:j.username,password:j.password})}`}(j))}(At).then(...on),Yt=0):q||qs()?(dt("Auth","Generating token with "+(q?"code":"refresh token")),ls().then(...on),Yt=0):Y.session?(dt("Auth","Users has session. Authorising application..."),function Do(j){return T(this,void 0,void 0,function*(){var Y;const Le=function Bt(j){const Y=function Co(){const j=function un(j=40){let Y="";for(let Le=0;Le<j;Le++)Y+=qt.charAt(Math.floor(Math.random()*qt.length));return Y}();return Ut.setItem(`${_t}_nonce`,j),j}();j=j?`${Y};${j}`:Y;const Le=!!At&&(At.auth_uri||"").indexOf("?")>=0,Ze=(At?At.auth_uri:null)||"/auth/oauth/authorize",Zt=ro()||"auth_code"===At.auth_type?"code":"token";let on=`${Ze}${Le?"&":"?"}response_type=${encodeURIComponent(Zt)}&client_id=${encodeURIComponent(_t)}&state=${encodeURIComponent(j)}&redirect_uri=${encodeURIComponent(At.redirect_uri)}&scope=${encodeURIComponent(At.scope)}`;if("auth_code"===At.auth_type){const{challenge:Rn,verify:qn}=function Nn(j=43){const Y=new Array(j).fill(0).map(()=>hn[Math.floor(Math.random()*hn.length)]).join(""),Le=xn.Kp(xn.Cw(Y));return{challenge:Y,verify:xn.if(kn.hash(Le)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${_t}_challenge`,Rn),on+="&code_challenge_method=S256",on+=`&code_challenge=${qn}`}return on}(j);if(At.use_iframe)return function pa(j){return ye.iframe_auth||(ye.iframe_auth=new Promise((Y,Le)=>{dt("Auth","Authorizing in an iFrame...");const Ze=document.createElement("iframe");Ze.style.position="absolute",Ze.style.top="0",Ze.style.left="0",Ze.style.height="1px",Ze.style.width="1px",Ze.style.zIndex="-1",Ze.id="place-authorize",Ze.src=`${j}`;const Zt=on=>{var Rn;if(on.origin===(null===(Rn=window.location)||void 0===Rn?void 0:Rn.origin)&&"place-os"===on.data.type){const qn=on.data;if(dt("Auth","Received credentials from iFrame..."),document.body.removeChild(Ze),Vn("iframe_auth"),window.removeEventListener("message",Zt),delete ye.iframe_auth,qn.token)return Y(),Xs(Object.assign({access_token:qn.token},qn));q=qn.code||"",ls().then(Ni=>Y(Ni),Ni=>Le(Ni))}};yn("iframe_auth",()=>{dt("Auth","Unable to resolve iFrame after 15 seconds..."),Le()},15e3),window.addEventListener("message",Zt),Ze.onerror=on=>{dt("Auth","iFrame error.",on),delete ye.iframe_auth,Le()},document.body.appendChild(Ze)})),ye.iframe_auth}(Le);null===(Y=window.location)||void 0===Y||Y.assign(Le)})}(j).then(...on)):(dt("Auth","No user session"),na(Y),Ze("No user session"),setTimeout(()=>delete ye.authorise,200))}};(function wo(){return ye.check_token||(ye.check_token=new Promise((j,Y)=>T(this,void 0,void 0,function*(){ti()?(dt("Auth","Valid token found."),j(ti())):(dt("Auth","No token. Checking URL for auth credentials..."),(yield function Ne(){return ye.check_params||(ye.check_params=new Promise(j=>{dt("Auth","Checking for auth parameters...");let Y=ct();if((!Y||Object.keys(Y).length<=0)&&sessionStorage&&(Y=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),Y&&(Y.code||Y.access_token||Y.refresh_token)){Y.code&&(q=Y.code,Qe("code")),Y.refresh_token&&(Ut.setItem(`${_t}_refresh_token`,Y.refresh_token),Qe("refresh_token"));const Le=Ut.getItem(`${_t}_nonce`)||"",Ze=(Y.state||"").split(";");Qe("state"),Qe("token_type"),Le===Ze[0]?(Xs(Y),j(!!Y.access_token)):j(!1)}else j(!1);yn("check_params_promise",()=>delete ye.check_params,50)})),ye.check_params}())?j(!0):Y()),delete ye.check_token}))),ye.check_token})().then(Zt,Zt)})),ye.authorise}function jr(){const j=()=>{for(let Le=0;Le<Ut.length;Le++){const Ze=Ut.key(Le);Ze&&Ze.indexOf(_t)>=0&&Ut.removeItem(Ze)}const Y=An?An.logout_url:"/logout";setTimeout(()=>{var Le;return null===(Le=window.location)||void 0===Le?void 0:Le.assign(Y)},300),ut.next(!1)};(function Wi(){return ye.revoke_token||(ye.revoke_token=new Promise((j,Y)=>{dt("Auth","Revoking token...");const Ze=Zt=>{dt("Auth","Error revoking token.",Zt),Y(Zt),delete ye.revoke_token};Wt(`${At.token_uri||"/auth/token"}?token=${ti()}`,{method:"POST"}).subscribe(Zt=>{if(!Zt.ok)return Ze(Zt);dt("Auth","Successfully revoked token."),Ue.next(""),Fe.next(""),Ut.removeItem(`${_t}_access_token`),Ut.removeItem(`${_t}_refresh_token`),j(),delete ye.revoke_token},Ze)})),ye.revoke_token})().then(j,j)}function Ur(j=0){return ye.load_authority||(ye.load_authority=new Promise(Y=>{var Le;if(ut.next(!1),At.mock)return An=Ki,dt("Auth","System in mock mode"),ut.next(!0),void Y();dt("Auth",`Fixed: ${fr()} | Trusted: ${ro()}`),dt("Auth","Loading authority...");const Ze=At.secure||(null===(Le=window.location)||void 0===Le?void 0:Le.protocol.indexOf("https"))>=0,Zt=on=>{dt("Auth",`Failed to load authority(${on})`),ut.next(!1),yn("load_authority",()=>{delete ye.load_authority,Ur(j).then(Rn=>Y())},300*Math.min(20,++j))};Wt(`${Ze?"https:":"http:"}//${Qi()}/auth/authority`,{credentials:"same-origin"}).subscribe(on=>T(this,void 0,void 0,function*(){if(!on.ok)return Zt(yield on.text().catch(qn=>qn));An=yield on.json(),mt=/[2-9]\.[0-9]+\.[0-9]+/g.test(An.version||"")?"/api/engine/v2":"/control/api",dt("Auth","Loaded authority.",[],"group"),An&&(dt("Auth",`Name: ${An.name}`),dt("Auth",`Version: ${An.version}`),dt("Auth",`Domain: ${An.domain}`),dt("Auth",`Session: ${An.session}`),dt("Auth",`Production: ${An.production}`),dt("Auth",`Config Keys: ${Object.keys(An.config||{}).length}`)),dt("Auth","",[],"groupEnd");const Rn=()=>{ut.next(!0),dt("Auth","Application set online."),Y()};delete ye.load_authority,ta("").then(Rn,Rn)}),Zt)})),ye.load_authority}let ho=!1;function na(j){var Y,Le;if(!1!==At.handle_login&&!ho){dt("Auth","Redirecting to login page...");const Ze=null===(Y=j.login_url)||void 0===Y?void 0:Y.replace("{{url}}",encodeURIComponent(null===(Le=window.location)||void 0===Le?void 0:Le.href));throw setTimeout(()=>{var Zt;return null===(Zt=window.location)||void 0===Zt?void 0:Zt.assign(Ze)},300),ho=!0,new Error("Redirecting to login page...")}dt("Auth","Login being handled locally."),delete ye.authorise}const hn="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function ls(){return ys(...function zi(){let Y=(At.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(_t)}`,Le="";if(Y+=`&redirect_uri=${encodeURIComponent(At.redirect_uri)}`,qs()){Y+=`&refresh_token=${encodeURIComponent(qs())}`,Y+="&grant_type=refresh_token";const Ze=Y.split("?");Y=Ze[0],Le=Ze[1]}else{Y+=`&code=${encodeURIComponent(q)}`,Y+="&grant_type=authorization_code";const Ze=sessionStorage.getItem(`${_t}_challenge`);Ze&&(Y+=`&code_verifier=${Ze}`,sessionStorage.removeItem(`${_t}_challenge`)),q=""}return[Y,Le]}())}function ys(j,Y=""){return ye.generate_tokens||(ye.generate_tokens=new Promise((Le,Ze)=>{dt("Auth","Generating new token...");const Zt=on=>{dt("Auth","Error generating new tokens.",on),Ut.removeItem(`${_t}_refresh_token`),Fe.next(""),Ze(),delete ye.generate_tokens};Wt(j,{method:"POST",body:Y,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(on=>T(this,void 0,void 0,function*(){if(!on.ok)return Zt(on);Xs(yield on.json()),Le(),delete ye.generate_tokens}),Zt)})),ye.generate_tokens}function Xs(j){const Y=function jn(j,Y){return(0,Yi.A)(j,1e3*Y)}(new Date,Math.max(60,parseInt(j.expires_in,10)-300));dt("Auth","Tokens generated storing..."),ro()&&(j.access_token&&(Ut.setItem(`${_t}_access_token`,j.access_token),Qe("access_token")),j.refresh_token&&(Ut.setItem(`${_t}_refresh_token`,j.refresh_token),Qe("refresh_token"))),j.expires_in&&(Ut.setItem(`${_t}_expires_at`,`${Y.valueOf()}`),Qe("expires_in")),ut.next(!0),Ue.next(j.access_token||""),Fe.next(j.refresh_token||"")}var Hs=l(8002);const to={};function Zo(j,Y,Le,Ze=to){const Zt=function di(j,Y,Le=to){const Zt=Y.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),on=Object.keys(Le).reduce((Rn,qn)=>(0===qn.indexOf(`${j}|`)&&Rn.push(Le[qn]),Rn),[]);for(const Rn of on)if(Rn.path_structure.length===Zt.length){let qn=!0;for(let Ni=0;Ni<Rn.path_structure.length;Ni++)if(!Rn.path_structure[Ni]&&Rn.path_parts[Ni]!==Zt[Ni]){qn=!1;break}if(qn)return Rn}return null}(j,Y,Ze);if(Zt){const on=function Io(j,Y,Le){const Ze=j.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Zt=Ze[0].replace(/^\//g,""),Rn=kt(Ze[1]||""),qn=Zt.split("/"),Ni={};for(const fs of Y.path_structure)fs&&(Ni[fs]=qn[Y.path_structure.indexOf(fs)]);const ri={url:j,path:Y.path,method:Y.method,metadata:Y.metadata,route_params:Ni,query_params:Rn,body:Le};return dt("HTTP(M)",`MATCHED ${ri.method}:`,ri),ri}(Y,Zt,Le);return function no(j,Y){const Le=j.callback?j.callback(Y):j.metadata,Ze=j.delay_variance||100,Zt=j.delay||300,on=Math.floor(Math.random()*Ze-Ze/2)+Zt;return dt("HTTP(M)",`RESP ${Y.method}:`,[Y.url,Le]),(0,Tt.H)([Le]).pipe((0,Hs.c)(Math.max(200,on)))}(Zt,on)}return null}const Va={};function Wo(j,Y,Le=ar){return Y||(Y={response_type:"json"}),Le("GET",j,Object.assign({response_type:"json"},Y))}function rr(j,Y,Le,Ze=ar){return Le||(Le={response_type:"json"}),Ze("POST",j,Object.assign({body:Y,response_type:"json"},Le))}function Or(j,Y,Le,Ze=ar){return Le||(Le={response_type:"json"}),Ze("PUT",j,Object.assign({body:Y,response_type:"json"},Le))}function Po(j,Y,Le,Ze=ar){return Le||(Le={response_type:"json"}),Ze("PATCH",j,Object.assign({body:Y,response_type:"json"},Le))}function Vr(j,Y,Le=ar){return Y||(Y={response_type:"void"}),Le("DELETE",j,Object.assign({response_type:"void"},Y))}function Ga(j,Y){return T(this,arguments,void 0,function*(Le,Ze,Zt=Va){if(Le.headers){const on={};Le.headers.forEach?Le.headers.forEach((Rn,qn)=>on[qn.toLowerCase()]=Rn):Object.keys(Le.headers).forEach(Rn=>on[Rn.toLowerCase()]=Le.headers[Rn]),Zt[Le.url||""]=on}switch(Ze){case"json":return yield Le.json().catch(()=>({}));case"text":return yield Le.text()}})}const $s=()=>{ea(),zo().then(()=>null,()=>setTimeout(()=>$s(),1e3))};function ar(j,Y,Le,Ze=bs,Zt=Zo,on=Ga){if(Ze()){const Rn=Zt(j,Y,Le?.body);if(Rn)return Rn}return Le.headers=Le.headers||{},Le.headers["Content-Type"]="application/json",function vo(){return Ue.pipe((0,hi.T)(j=>!!function Ks(){return!!ti()}()))}().pipe((0,vn.p)(Rn=>Rn),(0,Pt.s)(1),(0,dn.n)(Rn=>("x-api-key"===ti()?Le.headers["X-API-Key"]=es():Le.headers.Authorization=`Bearer ${ti()}`,Wt(Y,Object.assign(Object.assign({},Le),{body:JSON.stringify(Le.body),method:j,credentials:"same-origin"})))),(0,dn.n)(Rn=>Rn.ok?on(Rn,Le.response_type):(0,H.$)(Rn)),function Xt(j){return Y=>Y.lift(new Gt(j,Y))}(Rn=>Rn.pipe((0,nn.ZZ)((qn,Ni)=>511===qn.status?(na(zs()),(0,fe.of)(qn)):Ni+1>4||401!==qn.status?(0,H.$)(qn||{}):(dt("HTTP","Auth error",qn),$s(),(0,fe.of)(qn))))))}let ps={},Ts={},lo="";const _a=j=>j;function $o(j){const{query_params:Y,fn:Le,path:Ze,endpoint:Zt}=j,on=Ke(Y),Rn=`${Zt||Dn()}${Ze?"/"+Ze:""}${on?"?"+on:""}`;return Wo(Rn).pipe((0,hi.T)(qn=>{const Ni=function be(j,Y,Le){const Ze=function or(j,Y=Va){return Y[j]||{}}("/"===j[0]?`${location.origin}${j}`:j),Zt={total:0,next:null};if(Ze&&Ze["x-total-count"]){const on=+(Ze["x-total-count"]||0);(Y.length<2||Y.length<12&&Y.indexOf("offset=")>=0)&&(ps[Le]=on),Ts[Le]=on,Zt.total=on}return Ze&&Ze.link&&(lo=function ze(j){if(0===j.length)throw new Error("Input must not be of zero length");const Y=j.split(","),Le={};for(const Ze of Y){const Zt=Ze.split(";");if(2!==Zt.length)throw new Error("Section could not be split on ';'");const on=Zt[0].replace(/<(.*)>/,"$1").trim();Le[Zt[1].replace(/rel="(.*)"/,"$1").trim()]=on}return Le}(Ze.link||"").next,Zt.next=kt(lo.split("?")[1])),Zt}(Rn,on,Ze);return{total:Ni.total||0,next:Ni.next?()=>$o({query_params:Ni.next,fn:Le,endpoint:Zt,path:Ze}):null,data:qn&&qn instanceof Array?qn.map(ri=>(Le||_a)(ri)):!qn||qn instanceof Array||!qn.results?[]:qn.results.map(ri=>ri)}}))}function Xo(j){const{query_params:Y,id:Le,path:Ze,fn:Zt,options:on}=j,Rn=Ke(Y);return Wo(`${Dn()}/${Ze}/${Le}${Rn?"?"+Rn:""}`,on).pipe((0,hi.T)(Ni=>(Zt||_a)(Ni)))}function Rt(j){const{id:Y,query_params:Le,form_data:Ze,method:Zt,path:on,fn:Rn}=j,qn=Ke(Object.assign(Object.assign({},Le),{version:Ze.version||0}));return("put"===Zt?Or:Po)(`${Dn()}/${on}/${Y}${qn?"?"+qn:""}`,Ze).pipe((0,hi.T)(ri=>(Rn||_a)(ri)))}class Ye{constructor(Y={}){this.id=Y.id||"",this.name=Y.name||"",this.created_at=Y.created_at||0,this.updated_at=Y.updated_at||0,this.version=Y.version||0}toJSON(){const Y=Object.assign({},this);return Y.version=this.version,delete Y.created_at,Re(Y,[void 0,null,""])}}var Cr=function(j){return j[j.None=0]="None",j[j.Support=1]="Support",j[j.Admin=2]="Admin",j[j.NeverDisplay=3]="NeverDisplay",j}(Cr||{});class Ha extends Ye{get value(){return this.settings_string}constructor(Y={}){super(Y),this.parent_id=Y.parent_id||"",this.updated_at=Y.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=Y.settings_string||"",this.encryption_level=Y.encryption_level||Cr.None,this.keys=Y.keys||[],this.modified_by_id=Y.modified_by_id||""}}var sl=function(j){return j[j.SSH=0]="SSH",j[j.Device=1]="Device",j[j.Service=2]="Service",j[j.Websocket=3]="Websocket",j[j.Logic=99]="Logic",j}(sl||{});class ds extends Ye{constructor(Y={}){var Le;super(Y),this.description=Y.description||"",this.module_name=Y.module_name||"",this.role=null!==(Le=Y.role)&&void 0!==Le?Le:sl.Logic,this.default_uri=Y.default_uri||"",this.default_port=Y.default_port||1,this.ignore_connected=Y.ignore_connected||!1,this.class_name=Y.class_name||"",this.repository_id=Y.repository_id||"",this.file_name=Y.file_name||"",this.commit=Y.commit||"",this.update_available=Y.update_available||!1,this.update_info=Y.update_info,this.settings=Y.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Ze in Cr)!isNaN(Number(Ze))&&!this.settings[Ze]&&(this.settings[Ze]=new Ha({parent_id:this.id,encryption_level:+Ze}))}}class Rs{constructor(Y={}){this.id=Y.id||Y.parent_id||"",this.name=Y.name||"",this.description=Y.description||"";try{this.details=("string"==typeof Y.details?JSON.parse(Y.details):Y.details)||{}}catch{this.details=Y.details||{}}this.editors=Y.editors||[],this.schema=Y.schema||"",this.updated_at=1e3*(Y.updated_at||0)||Date.now(),this.modified_by_id=Y.modified_by_id||"",this.version=Y.version||0}}class tc extends Ye{get system_id(){return this.control_system_id}get actions(){const Y=this._actions;return{functions:(Y.functions||[]).map(Zt=>Object.assign(Object.assign({},Zt),{args:Object.assign({},Zt.args)})),mailers:(Y.mailers||[]).map(Zt=>Object.assign(Object.assign({},Zt),{emails:[...Zt.emails]}))}}get conditions(){const Y=this._conditions;return{comparisons:(Y.comparisons||[]).map(Zt=>Object.assign(Object.assign({},Zt),{left:"object"==typeof Zt.left?Object.assign({},Zt.left):Zt.left,right:"object"==typeof Zt.right?Object.assign({},Zt.right):Zt.right})),time_dependents:(Y.time_dependents||[]).map(Zt=>Object.assign({},Zt))}}constructor(Y={}){super(Y),this.description=Y.description||"",this._actions=Y.actions||{functions:[],mailers:[]},this._conditions=Y.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=Y.debounce_period||0,this.important=Y.important||!1,this.enabled=Y.enabled||!1,this.webhook_secret=Y.webhook_secret||"",this.control_system_id=Y.system_id||Y.control_system_id||"",this.zone_id=Y.zone_id||"",this.system_name=Y.system_name||(Y.control_system?Y.control_system.name:""),this.enable_webhook=Y.enable_webhook||!1,this.exec_enabled=Y.exec_enabled||!1,this.supported_methods=Y.supported_methods||["POST"],this.activated_count=Y.activated_count||Y.trigger_count||0,this.playlists=Y.playlists||[]}}class Pl extends Ye{constructor(Y={}){super(Y),this.settings=[null,null,null,null],this.trigger_list=[],this.description=Y.description||"",this.tags=Y.tags||[],this.triggers=Y.triggers||[],this.settings=Y.settings||[null,null,null,null],this.parent_id=Y.parent_id||"",this.location=Y.location||"",this.display_name=Y.display_name||"",this.code=Y.code||"",this.type=Y.type||"",this.count=Y.count||0,this.capacity=Y.capacity||0,this.map_id=Y.map_id||"",this.timezone=Y.timezone||"",this.images=Y.images||[],this.playlists=Y.playlists||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Le in Cr)!isNaN(Number(Le))&&!this.settings[Le]&&(this.settings[Le]=new Ha({parent_id:this.id,encryption_level:+Le}));Y.trigger_data&&Y.trigger_data instanceof Array&&(this.trigger_list=Y.trigger_data.map(Le=>new tc(Le)))}}class ue{constructor(Y={}){this.zone=new Pl(Y.zone),this.keys=Y.keys||[],this.metadata={};const Le=Y.metadata||{};for(const Ze of this.keys)this.metadata[Ze]=new Rs(Le[Ze])}}const vt="metadata";function ke(j){return new Rs(j)}function Fn(j,Y,Le={}){return Xo({id:j,query_params:Object.assign(Object.assign({},Le),{name:Y}),fn:Ze=>ke(Ze[Y]),path:vt})}function Ln(j,Y,Le="put"){return Rt({id:j,form_data:Y,query_params:{},method:Le,fn:ke,path:vt})}function Es(j,Y){return function Kr(j){const{id:Y,task_name:Le,form_data:Ze,method:Zt,path:on,callback:Rn}=j,qn=Ke(Ze),Ni=`${Dn()}/${on}/${Y}/${Le}`;return("post"!==Zt&&"put"!==Zt&&Zt?("del"===Zt?Vr:Wo)(`${Ni}${qn?"?"+qn:""}`,{response_type:"json"}):("put"===Zt?Or:rr)(Ni,Ze)).pipe((0,hi.T)(fs=>(Rn||(oo=>oo))(fs)))}({id:j,task_name:"children",form_data:Y,method:"get",callback:Le=>Le.map(Ze=>new ue(Object.assign(Object.assign({},Ze),{keys:Object.keys(Ze.metadata)}))),path:vt})}class Qs extends Ye{constructor(Y={}){var Le;super(Y),this.settings=[null,null,null,null],this.module_list=[],this.display_name=Y.display_name||"",this.description=Y.description||"",this.email=Y.email||"",this.code=Y.code||"",this.capacity=Y.capacity||0,this.features=Y.features||[],this.bookable=Y.bookable||!1,this.public=null!==(Le=Y.public)&&void 0!==Le&&Le,this.installed_ui_devices=Y.installed_ui_devices||0,this.support_url=Y.support_url||"",this.map_id=Y.map_id||"",this.modules=Y.modules||[],this.images=Y.images||[],this.zones=Y.zones||[],this.settings=Y.settings||[null,null,null,null],this.timezone=Y.timezone||"",this.signage=Y.signage||!1,this.playlists=Y.playlists||[],this.orientation=Y.orientation||"unspecified","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Ze in Cr)!isNaN(Number(Ze))&&!this.settings[Ze]&&(this.settings[Ze]=new Ha({parent_id:this.id,encryption_level:+Ze}));Y.module_data&&Y.module_data instanceof Array&&(this.module_list=Y.module_data.map(Ze=>new Zn(Ze)))}}class Zn extends Ye{get system_id(){return this.control_system_id}constructor(Y={}){var Le;super(Y),this.settings=[null,null,null,null],this.driver_id=Y.driver_id||Y.dependency_id||"",this.control_system_id=Y.control_system_id||"",this.edge_id=Y.edge_id||"",this.ip=Y.ip||"",this.tls=Y.tls||!1,this.udp=Y.udp||!1,this.port=Y.port||1,this.makebreak=Y.makebreak||!1,this.uri=Y.uri||"",this.custom_name=Y.custom_name||"",this.role=null!==(Le=Y.role)&&void 0!==Le?Le:sl.Logic,this.notes=Y.notes||"",this.ignore_connected=Y.ignore_connected||!1,this.connected=Y.connected,this.running=Y.running||!1,this.updated_at=Y.updated_at||0,this.system=new Qs(Y.control_system||Y.system),this.has_runtime_error=Y.has_runtime_error||!1,this.error_timestamp=Y.error_timestamp||0,this.driver=new ds(Y.dependency||Y.driver),this.settings=Y.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Ze in Cr)!isNaN(Number(Ze))&&!this.settings[Ze]&&(this.settings[Ze]=new Ha({parent_id:this.id,encryption_level:+Ze}))}toJSON(Y=!1){const Le=super.toJSON();return(Le.role!==sl.Logic&&!Y||!Le.control_system_id)&&delete Le.control_system_id,delete Le.driver,delete Le.system,delete Le.error_timestamp,delete Le.has_runtime_error,Le}}const Xc="settings";function Hc(j){return new Ha(j)}function re(j={}){return $o({query_params:j,fn:Hc,path:Xc})}const Qt="systems";function In(j){return new Qs(j)}function Tn(j={}){return $o({query_params:j,fn:In,path:Qt})}function bi(j={}){return $o({query_params:j,fn:In,path:`${Qt}/with_emails`})}function oi(j,Y={}){return Xo({id:j,query_params:Y,fn:In,path:Qt})}class Dc extends Ye{constructor(Y={}){super(Y),this.password="",this.confirm_password="",this.authority_id=Y.authority_id||"",this.email=Y.email||"",this.email_digest=Y.email_digest||"",this.phone=Y.phone||"",this.country=Y.country||"",this.building=Y.building||"",this.image=Y.image||"",this.metadata=Y.metadata||"",this.login_name=Y.login_name||"",this.staff_id=Y.staff_id||"",this.first_name=Y.first_name||"",this.last_name=Y.last_name||"",this.support=!!Y.support,this.sys_admin=!!Y.sys_admin,this.ui_theme=Y.ui_theme||"",this.card_number=Y.card_number||"",this.groups=Y.groups||[],this.department=Y.department||"",this.work_preferences=Y.work_preferences||[],this.work_overrides=Y.work_overrides||{}}}const Ic="users";function nh(j){return new Dc(j)}function Sd(j={}){return $o({query_params:j,fn:nh,path:Ic})}function Zc(j,Y={}){return Xo({id:j,query_params:Y,fn:nh,path:Ic})}function lp(j,Y,Le="patch"){return Rt({id:j,form_data:Y,query_params:{},method:Le,fn:nh,path:Ic})}const qc="zones";function qa(j){return new Pl(j)}function jo(j={}){return $o({query_params:j,fn:qa,path:qc})}function ed(j,Y={}){return Xo({id:j,query_params:Y,fn:qa,path:qc})}var _u=l(4119),vr=function(j){return j[j.PARSE_ERROR=0]="PARSE_ERROR",j[j.BAD_REQUEST=1]="BAD_REQUEST",j[j.ACCESS_DENIED=2]="ACCESS_DENIED",j[j.REQUEST_FAILED=3]="REQUEST_FAILED",j[j.UNKNOWN_CMD=4]="UNKNOWN_CMD",j[j.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",j[j.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",j[j.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",j}(vr||{}),Oc=function(j){return j.Info="info",j.Debug="debug",j.Warning="warn",j.Error="error",j.Fatal="fatal",j.Trace="trace",j}(Oc||{});const Rd={},up=15;let nr,wc=0,mu=0;const Yr={},gu={},jl={},kd={},nd=new Gn.t(!1);jl._place_os_status=nd.asObservable();const hp=new Gn.t([0,0]);jl._place_os_sync=hp.asObservable();let vu,Fd,fp=Date.now(),pp=0,id=null,qh=0;const oh=1e4,_p=new at.B7;function K_(){return Dn().indexOf("/control/")>=0?"/control/websocket":`${Sn()}/systems/control`}function rh(){return nd.getValue()}function mp(j,Y=0,Le=sd){return Le(Object.assign({id:++wc,cmd:"bind"},j),Y)}function sd(j,Y=oh,Le=0){const Ze=`${j.cmd}|${j.sys}|${j.mod}${j.index}|${j.name}|${j.args}|${function ht(j=Date.now(),Y=6e4){return Math.floor(j/Y)}()}`;if(Yr[Ze])dt("WS","Request already in progress. Waiting...",j);else{const Zt=Object.assign(Object.assign({},j),{key:Ze});Zt.promise=new Promise((on,Rn)=>{const qn=()=>{delete Yr[Ze],Yr[Ze]=null,sd(j,Y,Le).then(Ni=>on(Ni),Ni=>Rn(Ni))};if(nr&&rh()){bs()&&function H_(j,Y,Le){const Ze=`${j.sys}|${j.mod}_${j.index}|${j.name}`,Zt=function Zh(j){return Rd[j]}(j.sys),on=Zt&&Zt[j.mod]?Zt[j.mod][j.index-1||0]:null;if(on){switch(j.cmd){case"bind":Le[Ze]=on.listen(j.name).subscribe(Rn=>{setTimeout(()=>{Y.next({type:"notify",value:Rn,meta:j})},Math.floor(100*Math.random()+50))});break;case"unbind":Le[Ze]&&(Le[Ze].unsubscribe(),delete Le[Ze],Vn(`${Ze}`))}yn(`${j.id}-response`,()=>{const Rn={id:j.id,type:"success",value:"exec"===j.cmd?on.call(j.name,j.args):null};Y.next(Rn)},10)}else yn(`${j.id}-error`,()=>Y.next({id:j.id,type:"error",code:Zt?vr.SYS_NOT_FOUND:vr.MOD_NOT_FOUND}),10)}(j,nr,kd),Zt.resolve=on,Zt.reject=Rn;const Ni=`${j.sys}, ${j.mod}_${j.index}, ${j.name}`;dt("WS",`[${j.cmd.toUpperCase()}](${j.id}) ${Ni}`,j.args),nr.next(j),Y>0&&yn(`${Ze}`,()=>{Rn("Request timed out."),delete Yr[Ze],Yr[Ze]=null},Y)}else id?setTimeout(()=>qn(),1e3):Pd().then(()=>qn())}),Yr[Ze]=Zt}return Yr[Ze].promise}function El(j){if("pong"!==j&&j instanceof Object){if("notify"===j.type&&j.meta)!function so(j,Y,Le=gu,Ze=jl){const Zt=`${j.sys}|${j.mod}_${j.index}|${j.name}`;Le[Zt]||(Le[Zt]=new Gn.t(null),Ze[Zt]=Le[Zt].asObservable());dt("WS",`[NOTIFY] ${`${j.sys}, ${j.mod}_${j.index}, ${j.name}`} changed`,[Le[Zt].getValue(),"\u2192",Y]),Le[Zt].next(Y)}(j.meta,j.value);else if("success"===j.type)!function gp(j){const Y=Object.keys(Yr).map(Le=>Yr[Le]).find(Le=>Le?.id===j.id);dt("WS",`[SUCCESS](${j.id})`),Y&&Y.resolve&&(Y.resolve(j.value),delete Yr[Y.key])}(j);else if("debug"===j.type){dt("WS",`[DEBUG] ${j.mod}${j.klass||""} \u2192`,j.msg);const Y=j.meta||{mod:"",index:""};_p.next({mod_id:j.mod||"<empty>",module:`${Y.mod}_${Y.index}`,class_name:j.klass||"<empty>",message:j.msg||"<empty>",level:j.level||Oc.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===j.type?function vp(j){let Y="UNEXPECTED FAILURE";switch(j.code){case vr.ACCESS_DENIED:Y="ACCESS DENIED";break;case vr.BAD_REQUEST:Y="BAD REQUEST";break;case vr.MOD_NOT_FOUND:Y="MODULE NOT FOUND";break;case vr.SYS_NOT_FOUND:Y="SYSTEM NOT FOUND";break;case vr.PARSE_ERROR:Y="PARSE ERROR";break;case vr.REQUEST_FAILED:Y="REQUEST FAILED";break;case vr.UNKNOWN_CMD:Y="UNKNOWN COMMAND"}dt("WS",`[ERROR] ${Y}(${j.id}): ${j.msg}`,void 0,"error");const Le=Object.keys(Yr).map(Ze=>Yr[Ze]).filter(Ze=>Ze).find(Ze=>Ze.id===j.id);Le&&Le.reject&&(Le.reject(j),Vn(`${Le.key}`),delete Yr[Le.key])}(j):j.cmd||dt("WS","Invalid websocket message",j,"error");Vn(`${j.id}`)}else"pong"===j&&(qh=Date.now(),dt("WS","Pong!"))}function Pd(j=0){return null==id&&(id=new Promise(Y=>{if(j>40)return location.reload();pp++,fp=Date.now(),nr=bs()?function wa(){const j=new at.B7;return j.subscribe(Y=>El(Y)),j}():function lh(){if(!zs()||!ti())return null;const j=function Ir(){return!!At.secure}()||location.protocol.indexOf("https")>=0;let Y=`ws${j?"s":""}://${Qi()}${K_()}${fr()?"?fixed_device=true":""}`;const Le=ti();let Ze="x-api-key"===Le?`api-key=${es()}`:`bearer_token=${Le}`;return function Jn(){return!!At.token_header}()||function it(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(dt("WS","Authenticating through URL query parameter..."),Y+=`${Y.indexOf("?")>=0?"&":"?"}${Ze}`):(dt("WS","Authenticating through cookie..."),Ze+=`;max-age=120;path=${K_()};`,Ze+=(j?"secure;":"")+"samesite=strict",document.cookie=Ze,dt("WS","Cookies:",[document.cookie,Ze])),dt("WS",`Creating websocket connection to ws${j?"s":""}://${Qi()}${K_()}`),(0,_u.K)({url:Y,serializer:Zt=>"object"==typeof Zt?JSON.stringify(Zt):Zt,deserializer:Zt=>{let on=Zt.data;if("pong"===on)return on;try{return JSON.parse(Zt.data)}catch{return on}}})}(),nr?(dt("WS(Debug)","Authority:",[zs()]),dt("WS","Connecting to websocket..."),nr.subscribe(Le=>{nd.getValue()||(dt("WS","Connection established."),Y()),nd.next(!0),pp=0,xc(),El(Le)},Le=>{nr=void 0,id=null,ch(),xc(),function bu(j){nd.next(!1),dt("WS","Websocket error:",j,void 0,"error"),401===j.status&&ea(),zo(),la()}(Le)},()=>{nr=void 0,id=null,ch(),dt("WS","Connection closed by browser."),nd.next(!1),la()}),vu&&clearInterval(vu),qh=Date.now(),bp(),vu=setInterval(()=>bp(),1e3*up),xc(),mu+=1,Fd=setTimeout(()=>{dt("WS","Unhealthy connection. Reconnecting..."),nd.next(!1),id=null,la()},3e4)):(nr?dt("WS",`Waiting on auth(${j}). Retrying in ${1e3*Math.min(10,j+1)}ms...`,[!!ti(),!!zs()],"info"):dt("WS",`Failed to create websocket(${j}). Retrying in ${1e3*Math.min(10,j+1)}ms...`,void 0,"error"),setTimeout(()=>{id=null,Pd(j).then(Le=>Y(Le))},1e3*Math.min(10,++j)))})),id}function la(){hp.next([mu,Date.now()-fp]),nr&&rh()&&(nr.complete(),vu&&(clearInterval(vu),vu=void 0)),dt("WS",`Reconnecting in ${Math.min(5e3,300*pp||1e3)}ms...`),yn("reconnect",()=>Pd(),Math.min(5e3,300*(pp+1)||1e3))}function bp(){if(Date.now()-qh>4*up*1e3)return la();nr?.next("ping")}function xc(){Fd&&(clearTimeout(Fd),Fd=void 0)}function ch(){for(const j in Yr)Yr[j]&&delete Yr[j]}jl._place_os_debug_events=_p.asObservable();var Y_=l(522),dr=function(j){return j[j.NONE=0]="NONE",j[j.BIND=1]="BIND",j[j.UNBIND=2]="UNBIND",j}(dr||{});class yp{constructor(Y,Le){this._module=Y,this._pending=dr.NONE,this._binding_count=0,this._stale_bindings=0,this.name=Le,function z_(){return jl._place_os_status}().pipe((0,Y_.F)()).subscribe(Ze=>{Ze&&(this._stale_bindings||this._pending===dr.BIND)?(dt("VAR","Re-binding to status variable",this.binding()),this.rebind()):Ze||(Vn(`rebind:${JSON.stringify(this.binding())}`),dt("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function sv(j,Y=gu){const Le=`${j.sys}|${j.mod}_${j.index}|${j.name}`;if(Y[Le])return Y[Le].getValue()}(this.binding())}listen(){return function W_(j,Y=gu,Le=jl){const Ze=`${j.sys}|${j.mod}_${j.index}|${j.name}`;return Y[Ze]||(Y[Ze]=new Gn.t(void 0),Le[Ze]=Y[Ze].asObservable()),Le[Ze]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===dr.UNBIND)&&(this._pending=dr.BIND,mp(this.binding()).then(()=>{this._binding_count++,this._pending=dr.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===dr.NONE?(this._pending=dr.UNBIND,function ef(j,Y=0,Le=sd){return Le(Object.assign({id:++wc,cmd:"unbind"},j),Y)}(this.binding()).then(()=>{this._pending===dr.UNBIND&&(this._pending=dr.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return T(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==dr.BIND||yn(`rebind:${JSON.stringify(this.binding())}`,()=>T(this,void 0,void 0,function*(){yield mp(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class sf{constructor(Y,Le){this._system=Y,this._id=Le,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const Le=this._id.split("_").pop();return parseInt(Le||"",10)||1}get name(){const Y=this._id.split("_");return Y.pop(),Y.join("_")}binding(Y){return this._bindings[Y]||(this._bindings[Y]=new yp(this,Y)),this._bindings[Y]}execute(Y,Le,Ze=oh){return function tf(j,Y=oh,Le=sd){return Le(Object.assign({id:++wc,cmd:"exec"},j),Y)}({sys:this._system.id,mod:this.name,index:this.index,name:Y,args:Le},Ze)}}class Ep{constructor(Y){this._module_list={},this.id=Y}module(Y,Le=1){if(!Y)throw new Error("Invalid module ID");const Ze=Y.split("_");Ze.length>1&&Number.isInteger(+Ze[Ze.length-1])&&(Le=+Ze[Ze.length-1],Ze.pop()),Le<1&&(Le=1);const Zt=Ze.join("_");for(this._module_list[Zt]||(this._module_list[Zt]=[]);this._module_list[Zt].length<Le;)this._module_list[Zt].push(new sf(this,`${Zt}_${this._module_list[Zt].length+1}`));return this._module_list[Zt][Le-1]}}const Ld={};function od(j,Y,Le=1){return function rf(j){return Ld[j]||(Ld[j]=new Ep(j)),Ld[j]}(j).module(Y,Le)}},2727:(jt,Se,l)=>{"use strict";function f(U,c){return function p(U,c){U=U||[],"string"==typeof(c=c||{})&&(c={type:c});try{return new Blob(U,c)}catch(z){if("TypeError"!==z.name)throw z;for(var F=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),J=0;J<U.length;J+=1)F.append(U[J]);return F.getBlob(c.type)}}([U],c)}l.d(Se,{Ot:()=>f})},993:(jt,Se)=>{"use strict";Se.if=v,Se.Kp=function b(S){if(S.length%4!=0)throw new Error("Unable to parse base64 string.");var u=S.indexOf("=");if(-1!==u&&u<S.length-2)throw new Error("Unable to parse base64 string.");for(var w,I=S.endsWith("==")?2:S.endsWith("=")?1:0,k=S.length,T=new Uint8Array(k/4*3),D=0,f=0;D<k;D+=4,f+=3)w=p(S.charCodeAt(D))<<18|p(S.charCodeAt(D+1))<<12|p(S.charCodeAt(D+2))<<6|p(S.charCodeAt(D+3)),T[f]=w>>16,T[f+1]=w>>8&255,T[f+2]=255&w;return T.subarray(0,T.length-I)},Se.Cw=function E(S){return v((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(S))};var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function p(S){if(S>=n.length)throw new Error("Unable to parse base64 string.");var u=n[S];if(255===u)throw new Error("Unable to parse base64 string.");return u}function v(S){var I,u="",k=S.length;for(I=2;I<k;I+=3)u+=t[S[I-2]>>2],u+=t[(3&S[I-2])<<4|S[I-1]>>4],u+=t[(15&S[I-1])<<2|S[I]>>6],u+=t[63&S[I]];return I===k+1&&(u+=t[S[I-2]>>2],u+=t[(3&S[I-2])<<4],u+="=="),I===k&&(u+=t[S[I-2]>>2],u+=t[(3&S[I-2])<<4|S[I-1]>>4],u+=t[(15&S[I-1])<<2],u+="="),u}},8655:jt=>{var Se=-1,l=1,t=0;function n($,te,G,oe,ce){if($===te)return $?[[t,$]]:[];if(null!=G){var le=function z($,te,G){var oe="number"==typeof G?{index:G,length:0}:G.oldRange,ce="number"==typeof G?null:G.newRange,le=$.length,ve=te.length;if(0===oe.length&&(null===ce||0===ce.length)){var Q=oe.index,R=$.slice(0,Q),L=$.slice(Q),H=ce?ce.index:null,fe=Q+ve-le;if(!(null!==H&&H!==fe||fe<0||fe>ve)){var Ie=te.slice(0,fe);if((Xe=te.slice(fe))===L){var bt=Math.min(Q,fe);if((rt=R.slice(0,bt))===(yt=Ie.slice(0,bt)))return J(rt,R.slice(bt),Ie.slice(bt),L)}}if(null===H||H===Q){var Ae=Q,Xe=(Ie=te.slice(0,Ae),te.slice(Ae));if(Ie===R){var we=Math.min(le-Ae,ve-Ae);if((_e=L.slice(L.length-we))===(de=Xe.slice(Xe.length-we)))return J(R,L.slice(0,L.length-we),Xe.slice(0,Xe.length-we),_e)}}}if(oe.length>0&&ce&&0===ce.length){var rt=$.slice(0,oe.index),_e=$.slice(oe.index+oe.length);if(!(ve<(bt=rt.length)+(we=_e.length))){var yt=te.slice(0,bt),de=te.slice(ve-we);if(rt===yt&&_e===de)return J(rt,$.slice(bt,le-we),te.slice(bt,ve-we),_e)}}return null}($,te,G);if(le)return le}var ve=E($,te),Q=$.substring(0,ve);ve=S($=$.substring(ve),te=te.substring(ve));var R=$.substring($.length-ve),L=function p($,te){var G;if(!$)return[[l,te]];if(!te)return[[Se,$]];var oe=$.length>te.length?$:te,ce=$.length>te.length?te:$,le=oe.indexOf(ce);if(-1!==le)return G=[[l,oe.substring(0,le)],[t,ce],[l,oe.substring(le+ce.length)]],$.length>te.length&&(G[0][0]=G[2][0]=Se),G;if(1===ce.length)return[[Se,$],[l,te]];var ve=function u($,te){var G=$.length>te.length?$:te,oe=$.length>te.length?te:$;if(G.length<4||2*oe.length<G.length)return null;function ce(Xe,bt,rt){for(var Ae,we,_e,de,yt=Xe.substring(rt,rt+Math.floor(Xe.length/4)),ot=-1,It="";-1!==(ot=bt.indexOf(yt,ot+1));){var Te=E(Xe.substring(rt),bt.substring(ot)),Pe=S(Xe.substring(0,rt),bt.substring(0,ot));It.length<Pe+Te&&(It=bt.substring(ot-Pe,ot)+bt.substring(ot,ot+Te),Ae=Xe.substring(0,rt-Pe),we=Xe.substring(rt+Te),_e=bt.substring(0,ot-Pe),de=bt.substring(ot+Te))}return 2*It.length>=Xe.length?[Ae,we,_e,de,It]:null}var Q,R,L,H,fe,le=ce(G,oe,Math.ceil(G.length/4)),ve=ce(G,oe,Math.ceil(G.length/2));return le||ve?(Q=ve?le&&le[4].length>ve[4].length?le:ve:le,$.length>te.length?(R=Q[0],L=Q[1],H=Q[2],fe=Q[3]):(H=Q[0],fe=Q[1],R=Q[2],L=Q[3]),[R,L,H,fe,Q[4]]):null}($,te);if(ve){var R=ve[1],H=ve[3],fe=ve[4],Ie=n(ve[0],ve[2]),Xe=n(R,H);return Ie.concat([[t,fe]],Xe)}return function v($,te){for(var G=$.length,oe=te.length,ce=Math.ceil((G+oe)/2),le=ce,ve=2*ce,Q=new Array(ve),R=new Array(ve),L=0;L<ve;L++)Q[L]=-1,R[L]=-1;Q[le+1]=0,R[le+1]=0;for(var H=G-oe,fe=H%2!=0,Ie=0,Xe=0,bt=0,rt=0,yt=0;yt<ce;yt++){for(var ot=-yt+Ie;ot<=yt-Xe;ot+=2){for(var It=le+ot,we=(Ae=ot===-yt||ot!==yt&&Q[It-1]<Q[It+1]?Q[It+1]:Q[It-1]+1)-ot;Ae<G&&we<oe&&$.charAt(Ae)===te.charAt(we);)Ae++,we++;if(Q[It]=Ae,Ae>G)Xe+=2;else if(we>oe)Ie+=2;else if(fe&&(_e=le+H-ot)>=0&&_e<ve&&-1!==R[_e]&&Ae>=(de=G-R[_e]))return b($,te,Ae,we)}for(var Te=-yt+bt;Te<=yt-rt;Te+=2){for(var de,_e=le+Te,Pe=(de=Te===-yt||Te!==yt&&R[_e-1]<R[_e+1]?R[_e+1]:R[_e-1]+1)-Te;de<G&&Pe<oe&&$.charAt(G-de-1)===te.charAt(oe-Pe-1);)de++,Pe++;if(R[_e]=de,de>G)rt+=2;else if(Pe>oe)bt+=2;else if(!fe){var Ae;if((It=le+H-Te)>=0&&It<ve&&-1!==Q[It])if(we=le+(Ae=Q[It])-It,Ae>=(de=G-de))return b($,te,Ae,we)}}}return[[Se,$],[l,te]]}($,te)}($=$.substring(0,$.length-ve),te=te.substring(0,te.length-ve));return Q&&L.unshift([t,Q]),R&&L.push([t,R]),K(L,ce),oe&&function I($){for(var te=!1,G=[],oe=0,ce=null,le=0,ve=0,Q=0,R=0,L=0;le<$.length;)$[le][0]==t?(G[oe++]=le,ve=R,Q=L,R=0,L=0,ce=$[le][1]):($[le][0]==l?R+=$[le][1].length:L+=$[le][1].length,ce&&ce.length<=Math.max(ve,Q)&&ce.length<=Math.max(R,L)&&($.splice(G[oe-1],0,[Se,ce]),$[G[oe-1]+1][0]=l,oe--,le=--oe>0?G[oe-1]:-1,ve=0,Q=0,R=0,L=0,ce=null,te=!0)),le++;for(te&&K($),function V($){function te(Xe,bt){if(!Xe||!bt)return 6;var rt=Xe.charAt(Xe.length-1),yt=bt.charAt(0),ot=rt.match(k),It=yt.match(k),Ae=ot&&rt.match(T),we=It&&yt.match(T),_e=Ae&&rt.match(w),de=we&&yt.match(w),Te=_e&&Xe.match(D),Pe=de&&bt.match(f);return Te||Pe?5:_e||de?4:ot&&!Ae&&we?3:Ae||we?2:ot||It?1:0}for(var G=1;G<$.length-1;){if($[G-1][0]==t&&$[G+1][0]==t){var oe=$[G-1][1],ce=$[G][1],le=$[G+1][1],ve=S(oe,ce);if(ve){var Q=ce.substring(ce.length-ve);oe=oe.substring(0,oe.length-ve),ce=Q+ce.substring(0,ce.length-ve),le=Q+le}for(var R=oe,L=ce,H=le,fe=te(oe,ce)+te(ce,le);ce.charAt(0)===le.charAt(0);){oe+=ce.charAt(0),ce=ce.substring(1)+le.charAt(0),le=le.substring(1);var Ie=te(oe,ce)+te(ce,le);Ie>=fe&&(fe=Ie,R=oe,L=ce,H=le)}$[G-1][1]!=R&&(R?$[G-1][1]=R:($.splice(G-1,1),G--),$[G][1]=L,H?$[G+1][1]=H:($.splice(G+1,1),G--))}G++}}($),le=1;le<$.length;){if($[le-1][0]==Se&&$[le][0]==l){var H=$[le-1][1],fe=$[le][1],Ie=M(H,fe),Xe=M(fe,H);Ie>=Xe?(Ie>=H.length/2||Ie>=fe.length/2)&&($.splice(le,0,[t,fe.substring(0,Ie)]),$[le-1][1]=H.substring(0,H.length-Ie),$[le+1][1]=fe.substring(Ie),le++):(Xe>=H.length/2||Xe>=fe.length/2)&&($.splice(le,0,[t,H.substring(0,Xe)]),$[le-1][0]=l,$[le-1][1]=fe.substring(0,fe.length-Xe),$[le+1][0]=Se,$[le+1][1]=H.substring(Xe),le++),le++}le++}}(L),L}function b($,te,G,oe){var ce=$.substring(0,G),le=te.substring(0,oe),ve=$.substring(G),Q=te.substring(oe),R=n(ce,le),L=n(ve,Q);return R.concat(L)}function E($,te){if(!$||!te||$.charAt(0)!==te.charAt(0))return 0;for(var G=0,oe=Math.min($.length,te.length),ce=oe,le=0;G<ce;)$.substring(le,ce)==te.substring(le,ce)?le=G=ce:oe=ce,ce=Math.floor((oe-G)/2+G);return ne($.charCodeAt(ce-1))&&ce--,ce}function M($,te){var G=$.length,oe=te.length;if(0==G||0==oe)return 0;G>oe?$=$.substring(G-oe):G<oe&&(te=te.substring(0,G));var ce=Math.min(G,oe);if($==te)return ce;for(var le=0,ve=1;;){var Q=$.substring(ce-ve),R=te.indexOf(Q);if(-1==R)return le;ve+=R,(0==R||$.substring(ce-ve)==te.substring(0,ve))&&(le=ve,ve++)}}function S($,te){if(!$||!te||$.slice(-1)!==te.slice(-1))return 0;for(var G=0,oe=Math.min($.length,te.length),ce=oe,le=0;G<ce;)$.substring($.length-ce,$.length-le)==te.substring(te.length-ce,te.length-le)?le=G=ce:oe=ce,ce=Math.floor((oe-G)/2+G);return U($.charCodeAt($.length-ce))&&ce--,ce}var k=/[^a-zA-Z0-9]/,T=/\s/,w=/[\r\n]/,D=/\n\r?\n$/,f=/^\r?\n\r?\n/;function K($,te){$.push([t,""]);for(var Q,G=0,oe=0,ce=0,le="",ve="";G<$.length;)if(G<$.length-1&&!$[G][1])$.splice(G,1);else switch($[G][0]){case l:ce++,ve+=$[G][1],G++;break;case Se:oe++,le+=$[G][1],G++;break;case t:var R=G-ce-oe-1;if(te){if(R>=0&&Z($[R][1])){var L=$[R][1].slice(-1);if($[R][1]=$[R][1].slice(0,-1),le=L+le,ve=L+ve,!$[R][1]){$.splice(R,1),G--;var H=R-1;$[H]&&$[H][0]===l&&(ce++,ve=$[H][1]+ve,H--),$[H]&&$[H][0]===Se&&(oe++,le=$[H][1]+le,H--),R=H}}c($[G][1])&&(L=$[G][1].charAt(0),$[G][1]=$[G][1].slice(1),le+=L,ve+=L)}if(G<$.length-1&&!$[G][1]){$.splice(G,1);break}if(le.length>0||ve.length>0){le.length>0&&ve.length>0&&(0!==(Q=E(ve,le))&&(R>=0?$[R][1]+=ve.substring(0,Q):($.splice(0,0,[t,ve.substring(0,Q)]),G++),ve=ve.substring(Q),le=le.substring(Q)),0!==(Q=S(ve,le))&&($[G][1]=ve.substring(ve.length-Q)+$[G][1],ve=ve.substring(0,ve.length-Q),le=le.substring(0,le.length-Q)));var fe=ce+oe;0===le.length&&0===ve.length?($.splice(G-fe,fe),G-=fe):0===le.length?($.splice(G-fe,fe,[l,ve]),G=G-fe+1):0===ve.length?($.splice(G-fe,fe,[Se,le]),G=G-fe+1):($.splice(G-fe,fe,[Se,le],[l,ve]),G=G-fe+2)}0!==G&&$[G-1][0]===t?($[G-1][1]+=$[G][1],$.splice(G,1)):G++,ce=0,oe=0,le="",ve=""}""===$[$.length-1][1]&&$.pop();var Ie=!1;for(G=1;G<$.length-1;)$[G-1][0]===t&&$[G+1][0]===t&&($[G][1].substring($[G][1].length-$[G-1][1].length)===$[G-1][1]?($[G][1]=$[G-1][1]+$[G][1].substring(0,$[G][1].length-$[G-1][1].length),$[G+1][1]=$[G-1][1]+$[G+1][1],$.splice(G-1,1),Ie=!0):$[G][1].substring(0,$[G+1][1].length)==$[G+1][1]&&($[G-1][1]+=$[G+1][1],$[G][1]=$[G][1].substring($[G+1][1].length)+$[G+1][1],$.splice(G+1,1),Ie=!0)),G++;Ie&&K($,te)}function ne($){return $>=55296&&$<=56319}function U($){return $>=56320&&$<=57343}function c($){return U($.charCodeAt(0))}function Z($){return ne($.charCodeAt($.length-1))}function J($,te,G,oe){return Z($)||c(oe)?null:function F($){for(var te=[],G=0;G<$.length;G++)$[G][1].length>0&&te.push($[G]);return te}([[t,$],[Se,te],[l,G],[t,oe]])}function X($,te,G,oe){return n($,te,G,oe,!0)}X.INSERT=l,X.DELETE=Se,X.EQUAL=t,jt.exports=X},1299:function(jt,Se,l){var t;!function(){var v={};!function(n){"use strict";n.__esModule=!0,n.digestLength=32,n.blockSize=64;var p=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function v(w,D,f,V,K){for(var ne,U,c,Z,F,J,z,X,$,te,G,oe,ce;K>=64;){for(ne=D[0],U=D[1],c=D[2],Z=D[3],F=D[4],J=D[5],z=D[6],X=D[7],te=0;te<16;te++)w[te]=(255&f[G=V+4*te])<<24|(255&f[G+1])<<16|(255&f[G+2])<<8|255&f[G+3];for(te=16;te<64;te++)w[te]=((oe=(($=w[te-2])>>>17|$<<15)^($>>>19|$<<13)^$>>>10)+w[te-7]|0)+((ce=(($=w[te-15])>>>7|$<<25)^($>>>18|$<<14)^$>>>3)+w[te-16]|0);for(te=0;te<64;te++)oe=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&J^~F&z)|0)+(X+(p[te]+w[te]|0)|0)|0,ce=((ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10))+(ne&U^ne&c^U&c)|0,X=z,z=J,J=F,F=Z+oe|0,Z=c,c=U,U=ne,ne=oe+ce|0;D[0]+=ne,D[1]+=U,D[2]+=c,D[3]+=Z,D[4]+=F,D[5]+=J,D[6]+=z,D[7]+=X,V+=64,K-=64}return V}var b=function(){function w(){this.digestLength=n.digestLength,this.blockSize=n.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return w.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},w.prototype.clean=function(){for(var D=0;D<this.buffer.length;D++)this.buffer[D]=0;for(D=0;D<this.temp.length;D++)this.temp[D]=0;this.reset()},w.prototype.update=function(D,f){if(void 0===f&&(f=D.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var V=0;if(this.bytesHashed+=f,this.bufferLength>0){for(;this.bufferLength<64&&f>0;)this.buffer[this.bufferLength++]=D[V++],f--;64===this.bufferLength&&(v(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(f>=64&&(V=v(this.temp,this.state,D,V,f),f%=64);f>0;)this.buffer[this.bufferLength++]=D[V++],f--;return this},w.prototype.finish=function(D){if(!this.finished){var f=this.bytesHashed,V=this.bufferLength,K=f/536870912|0,ne=f<<3,U=f%64<56?64:128;this.buffer[V]=128;for(var c=V+1;c<U-8;c++)this.buffer[c]=0;this.buffer[U-8]=K>>>24&255,this.buffer[U-7]=K>>>16&255,this.buffer[U-6]=K>>>8&255,this.buffer[U-5]=K>>>0&255,this.buffer[U-4]=ne>>>24&255,this.buffer[U-3]=ne>>>16&255,this.buffer[U-2]=ne>>>8&255,this.buffer[U-1]=ne>>>0&255,v(this.temp,this.state,this.buffer,0,U),this.finished=!0}for(c=0;c<8;c++)D[4*c+0]=this.state[c]>>>24&255,D[4*c+1]=this.state[c]>>>16&255,D[4*c+2]=this.state[c]>>>8&255,D[4*c+3]=this.state[c]>>>0&255;return this},w.prototype.digest=function(){var D=new Uint8Array(this.digestLength);return this.finish(D),D},w.prototype._saveState=function(D){for(var f=0;f<this.state.length;f++)D[f]=this.state[f]},w.prototype._restoreState=function(D,f){for(var V=0;V<this.state.length;V++)this.state[V]=D[V];this.bytesHashed=f,this.finished=!1,this.bufferLength=0},w}();n.Hash=b;var E=function(){function w(D){this.inner=new b,this.outer=new b,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var f=new Uint8Array(this.blockSize);if(D.length>this.blockSize)(new b).update(D).finish(f).clean();else for(var V=0;V<D.length;V++)f[V]=D[V];for(V=0;V<f.length;V++)f[V]^=54;for(this.inner.update(f),V=0;V<f.length;V++)f[V]^=106;for(this.outer.update(f),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),V=0;V<f.length;V++)f[V]=0}return w.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},w.prototype.clean=function(){for(var D=0;D<this.istate.length;D++)this.ostate[D]=this.istate[D]=0;this.inner.clean(),this.outer.clean()},w.prototype.update=function(D){return this.inner.update(D),this},w.prototype.finish=function(D){return this.outer.finished?this.outer.finish(D):(this.inner.finish(D),this.outer.update(D,this.digestLength).finish(D)),this},w.prototype.digest=function(){var D=new Uint8Array(this.digestLength);return this.finish(D),D},w}();function M(w){var D=(new b).update(w),f=D.digest();return D.clean(),f}function S(w,D){var f=new E(w).update(D),V=f.digest();return f.clean(),V}function u(w,D,f,V){var K=V[0];if(0===K)throw new Error("hkdf: cannot expand more");D.reset(),K>1&&D.update(w),f&&D.update(f),D.update(V),D.finish(w),V[0]++}n.HMAC=E,n.hash=M,n.default=M,n.hmac=S;var I=new Uint8Array(n.digestLength);n.hkdf=function k(w,D,f,V){void 0===D&&(D=I),void 0===V&&(V=32);for(var K=new Uint8Array([1]),ne=S(D,w),U=new E(ne),c=new Uint8Array(U.digestLength),Z=c.length,F=new Uint8Array(V),J=0;J<V;J++)Z===c.length&&(u(c,U,f,K),Z=0),F[J]=c[Z++];return U.clean(),c.fill(0),K.fill(0),F},n.pbkdf2=function T(w,D,f,V){for(var K=new E(w),ne=K.digestLength,U=new Uint8Array(4),c=new Uint8Array(ne),Z=new Uint8Array(ne),F=new Uint8Array(V),J=0;J*ne<V;J++){var z=J+1;U[0]=z>>>24&255,U[1]=z>>>16&255,U[2]=z>>>8&255,U[3]=z>>>0&255,K.reset(),K.update(D),K.update(U),K.finish(Z);for(var X=0;X<ne;X++)c[X]=Z[X];for(X=2;X<=f;X++){K.reset(),K.update(Z).finish(Z);for(var $=0;$<ne;$++)c[$]^=Z[$]}for(X=0;X<ne&&J*ne+X<V;X++)F[J*ne+X]=c[X]}for(J=0;J<ne;J++)c[J]=Z[J]=0;for(J=0;J<4;J++)U[J]=0;return K.clean(),F}}(v);var b=v.default;for(var E in v)b[E]=v[E];"object"==typeof jt.exports?jt.exports=b:void 0!==(t=function(){return b}.call(v,l,v,jt))&&(jt.exports=t)}()},5947:(jt,Se,l)=>{jt=l.nmd(jt);var n="__lodash_hash_undefined__",p=9007199254740991,v="[object Arguments]",E="[object Boolean]",M="[object Date]",u="[object Function]",I="[object GeneratorFunction]",k="[object Map]",T="[object Number]",w="[object Object]",D="[object Promise]",f="[object RegExp]",V="[object Set]",K="[object String]",ne="[object Symbol]",U="[object WeakMap]",c="[object ArrayBuffer]",Z="[object DataView]",F="[object Float32Array]",J="[object Float64Array]",z="[object Int8Array]",X="[object Int16Array]",$="[object Int32Array]",te="[object Uint8Array]",G="[object Uint8ClampedArray]",oe="[object Uint16Array]",ce="[object Uint32Array]",ve=/\w*$/,Q=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,L={};L[v]=L["[object Array]"]=L[c]=L[Z]=L[E]=L[M]=L[F]=L[J]=L[z]=L[X]=L[$]=L[k]=L[T]=L[w]=L[f]=L[V]=L[K]=L[ne]=L[te]=L[G]=L[oe]=L[ce]=!0,L["[object Error]"]=L[u]=L[U]=!1;var H="object"==typeof global&&global&&global.Object===Object&&global,fe="object"==typeof self&&self&&self.Object===Object&&self,Ie=H||fe||Function("return this")(),Xe=Se&&!Se.nodeType&&Se,bt=Xe&&jt&&!jt.nodeType&&jt,rt=bt&&bt.exports===Xe;function yt(Ne,Bt){return Ne.set(Bt[0],Bt[1]),Ne}function ot(Ne,Bt){return Ne.add(Bt),Ne}function we(Ne,Bt,hn,Nn){var zi=-1,Ci=Ne?Ne.length:0;for(Nn&&Ci&&(hn=Ne[++zi]);++zi<Ci;)hn=Bt(hn,Ne[zi],zi,Ne);return hn}function Te(Ne){var Bt=!1;if(null!=Ne&&"function"!=typeof Ne.toString)try{Bt=!!(Ne+"")}catch{}return Bt}function Pe(Ne){var Bt=-1,hn=Array(Ne.size);return Ne.forEach(function(Nn,zi){hn[++Bt]=[zi,Nn]}),hn}function St(Ne,Bt){return function(hn){return Ne(Bt(hn))}}function tt(Ne){var Bt=-1,hn=Array(Ne.size);return Ne.forEach(function(Nn){hn[++Bt]=Nn}),hn}var Ne,wt=Array.prototype,ln=Function.prototype,Mn=Object.prototype,Bn=Ie["__core-js_shared__"],Jt=(Ne=/[^.]+$/.exec(Bn&&Bn.keys&&Bn.keys.IE_PROTO||""))?"Symbol(src)_1."+Ne:"",Ft=ln.toString,W=Mn.hasOwnProperty,Me=Mn.toString,ie=RegExp("^"+Ft.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=rt?Ie.Buffer:void 0,Be=Ie.Symbol,Tt=Ie.Uint8Array,Wt=St(Object.getPrototypeOf,Object),vn=Object.create,Pt=Mn.propertyIsEnumerable,dn=wt.splice,at=Object.getOwnPropertySymbols,pt=pe?pe.isBuffer:void 0,Xt=St(Object.keys,Object),Gt=ti(Ie,"DataView"),pn=ti(Ie,"Map"),nn=ti(Ie,"Promise"),xn=ti(Ie,"Set"),kn=ti(Ie,"WeakMap"),Gn=ti(Object,"create"),hi=ro(Gt),Ht=ro(pn),dt=ro(nn),Vt=ro(xn),ct=ro(kn),kt=Be?Be.prototype:void 0,qt=kt?kt.valueOf:void 0;function un(Ne){var Bt=-1,hn=Ne?Ne.length:0;for(this.clear();++Bt<hn;){var Nn=Ne[Bt];this.set(Nn[0],Nn[1])}}function We(Ne){var Bt=-1,hn=Ne?Ne.length:0;for(this.clear();++Bt<hn;){var Nn=Ne[Bt];this.set(Nn[0],Nn[1])}}function Ct(Ne){var Bt=-1,hn=Ne?Ne.length:0;for(this.clear();++Bt<hn;){var Nn=Ne[Bt];this.set(Nn[0],Nn[1])}}function Mi(Ne){this.__data__=new We(Ne)}function jn(Ne,Bt,hn){var Nn=Ne[Bt];(!W.call(Ne,Bt)||!$r(Nn,hn)||void 0===hn&&!(Bt in Ne))&&(Ne[Bt]=hn)}function lt(Ne,Bt){for(var hn=Ne.length;hn--;)if($r(Ne[hn][0],Bt))return hn;return-1}function Ut(Ne,Bt,hn,Nn,zi,Ci,Wi){var ls;if(Nn&&(ls=Ci?Nn(Ne,zi,Ci,Wi):Nn(Ne)),void 0!==ls)return ls;if(!Do(Ne))return Ne;var Ws=fa(Ne);if(Ws){if(ls=function Ks(Ne){var Bt=Ne.length,hn=Ne.constructor(Bt);return Bt&&"string"==typeof Ne[0]&&W.call(Ne,"index")&&(hn.index=Ne.index,hn.input=Ne.input),hn}(Ne),!Bt)return function ci(Ne,Bt){var hn=-1,Nn=Ne.length;for(Bt||(Bt=Array(Nn));++hn<Nn;)Bt[hn]=Ne[hn];return Bt}(Ne,ls)}else{var ys=Qi(Ne),Xs=ys==u||ys==I;if(ta(Ne))return function Fe(Ne,Bt){if(Bt)return Ne.slice();var hn=new Ne.constructor(Ne.length);return Ne.copy(hn),hn}(Ne,Bt);if(ys==w||ys==v||Xs&&!Ci){if(Te(Ne))return Ci?Ne:{};if(ls=function vo(Ne){return"function"!=typeof Ne.constructor||ir(Ne)?{}:function An(Ne){return Do(Ne)?vn(Ne):{}}(Wt(Ne))}(Xs?{}:Ne),!Bt)return function Ui(Ne,Bt){return Li(Ne,qs(Ne),Bt)}(Ne,function At(Ne,Bt){return Ne&&Li(Bt,ho(Bt),Ne)}(ls,Ne))}else{if(!L[ys])return Ci?Ne:{};ls=function zs(Ne,Bt,hn,Nn){var zi=Ne.constructor;switch(Bt){case c:return mt(Ne);case E:case M:return new zi(+Ne);case Z:return function ut(Ne,Bt){var hn=Bt?mt(Ne.buffer):Ne.buffer;return new Ne.constructor(hn,Ne.byteOffset,Ne.byteLength)}(Ne,Nn);case F:case J:case z:case X:case $:case te:case G:case oe:case ce:return function Jn(Ne,Bt){var hn=Bt?mt(Ne.buffer):Ne.buffer;return new Ne.constructor(hn,Ne.byteOffset,Ne.length)}(Ne,Nn);case k:return function Pn(Ne,Bt,hn){return we(Bt?hn(Pe(Ne),!0):Pe(Ne),yt,new Ne.constructor)}(Ne,Nn,hn);case T:case K:return new zi(Ne);case f:return function Yt(Ne){var Bt=new Ne.constructor(Ne.source,ve.exec(Ne));return Bt.lastIndex=Ne.lastIndex,Bt}(Ne);case V:return function Dn(Ne,Bt,hn){return we(Bt?hn(tt(Ne),!0):tt(Ne),ot,new Ne.constructor)}(Ne,Nn,hn);case ne:return function Sn(Ne){return qt?Object(qt.call(Ne)):{}}(Ne)}}(Ne,ys,Ut,Bt)}}Wi||(Wi=new Mi);var Co=Wi.get(Ne);if(Co)return Co;if(Wi.set(Ne,ls),!Ws)var Hs=hn?function es(Ne){return function ye(Ne,Bt,hn){var Nn=Bt(Ne);return fa(Ne)?Nn:function Ae(Ne,Bt){for(var hn=-1,Nn=Bt.length,zi=Ne.length;++hn<Nn;)Ne[zi+hn]=Bt[hn];return Ne}(Nn,hn(Ne))}(Ne,ho,qs)}(Ne):ho(Ne);return function It(Ne,Bt){for(var hn=-1,Nn=Ne?Ne.length:0;++hn<Nn&&!1!==Bt(Ne[hn],hn,Ne););}(Hs||Ne,function(to,Ls){Hs&&(to=Ne[Ls=to]),jn(ls,Ls,Ut(to,Bt,hn,Nn,Ls,Ne,Wi))}),ls}function mt(Ne){var Bt=new Ne.constructor(Ne.byteLength);return new Tt(Bt).set(new Tt(Ne)),Bt}function Li(Ne,Bt,hn,Nn){hn||(hn={});for(var zi=-1,Ci=Bt.length;++zi<Ci;){var Wi=Bt[zi],ls=Nn?Nn(hn[Wi],Ne[Wi],Wi,hn,Ne):void 0;jn(hn,Wi,void 0===ls?Ne[Wi]:ls)}return hn}function as(Ne,Bt){var hn=Ne.__data__;return function bs(Ne){var Bt=typeof Ne;return"string"==Bt||"number"==Bt||"symbol"==Bt||"boolean"==Bt?"__proto__"!==Ne:null===Ne}(Bt)?hn["string"==typeof Bt?"string":"hash"]:hn.map}function ti(Ne,Bt){var hn=function de(Ne,Bt){return Ne?.[Bt]}(Ne,Bt);return function q(Ne){return!(!Do(Ne)||function Ir(Ne){return!!Jt&&Jt in Ne}(Ne))&&(jr(Ne)||Te(Ne)?ie:Q).test(ro(Ne))}(hn)?hn:void 0}un.prototype.clear=function Qe(){this.__data__=Gn?Gn(null):{}},un.prototype.delete=function je(Ne){return this.has(Ne)&&delete this.__data__[Ne]},un.prototype.get=function ze(Ne){var Bt=this.__data__;if(Gn){var hn=Bt[Ne];return hn===n?void 0:hn}return W.call(Bt,Ne)?Bt[Ne]:void 0},un.prototype.has=function Re(Ne){var Bt=this.__data__;return Gn?void 0!==Bt[Ne]:W.call(Bt,Ne)},un.prototype.set=function it(Ne,Bt){return this.__data__[Ne]=Gn&&void 0===Bt?n:Bt,this},We.prototype.clear=function ht(){this.__data__=[]},We.prototype.delete=function He(Ne){var Bt=this.__data__,hn=lt(Bt,Ne);return!(hn<0||(hn==Bt.length-1?Bt.pop():dn.call(Bt,hn,1),0))},We.prototype.get=function Ke(Ne){var Bt=this.__data__,hn=lt(Bt,Ne);return hn<0?void 0:Bt[hn][1]},We.prototype.has=function Kt(Ne){return lt(this.__data__,Ne)>-1},We.prototype.set=function gt(Ne,Bt){var hn=this.__data__,Nn=lt(hn,Ne);return Nn<0?hn.push([Ne,Bt]):hn[Nn][1]=Bt,this},Ct.prototype.clear=function _n(){this.__data__={hash:new un,map:new(pn||We),string:new un}},Ct.prototype.delete=function yn(Ne){return as(this,Ne).delete(Ne)},Ct.prototype.get=function Vn(Ne){return as(this,Ne).get(Ne)},Ct.prototype.has=function mi(Ne){return as(this,Ne).has(Ne)},Ct.prototype.set=function Oi(Ne,Bt){return as(this,Ne).set(Ne,Bt),this},Mi.prototype.clear=function wi(){this.__data__=new We},Mi.prototype.delete=function Ki(Ne){return this.__data__.delete(Ne)},Mi.prototype.get=function ji(Ne){return this.__data__.get(Ne)},Mi.prototype.has=function ts(Ne){return this.__data__.has(Ne)},Mi.prototype.set=function xs(Ne,Bt){var hn=this.__data__;if(hn instanceof We){var Nn=hn.__data__;if(!pn||Nn.length<199)return Nn.push([Ne,Bt]),this;hn=this.__data__=new Ct(Nn)}return hn.set(Ne,Bt),this};var qs=at?St(at,Object):function na(){return[]},Qi=function _t(Ne){return Me.call(Ne)};function Er(Ne,Bt){return!!(Bt=Bt??p)&&("number"==typeof Ne||R.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Bt}function ir(Ne){var Bt=Ne&&Ne.constructor;return Ne===("function"==typeof Bt&&Bt.prototype||Mn)}function ro(Ne){if(null!=Ne){try{return Ft.call(Ne)}catch{}try{return Ne+""}catch{}}return""}function $r(Ne,Bt){return Ne===Bt||Ne!=Ne&&Bt!=Bt}(Gt&&Qi(new Gt(new ArrayBuffer(1)))!=Z||pn&&Qi(new pn)!=k||nn&&Qi(nn.resolve())!=D||xn&&Qi(new xn)!=V||kn&&Qi(new kn)!=U)&&(Qi=function(Ne){var Bt=Me.call(Ne),hn=Bt==w?Ne.constructor:void 0,Nn=hn?ro(hn):void 0;if(Nn)switch(Nn){case hi:return Z;case Ht:return k;case dt:return D;case Vt:return V;case ct:return U}return Bt});var fa=Array.isArray;function zo(Ne){return null!=Ne&&function Ur(Ne){return"number"==typeof Ne&&Ne>-1&&Ne%1==0&&Ne<=p}(Ne.length)&&!jr(Ne)}var ta=pt||function wo(){return!1};function jr(Ne){var Bt=Do(Ne)?Me.call(Ne):"";return Bt==u||Bt==I}function Do(Ne){var Bt=typeof Ne;return!!Ne&&("object"==Bt||"function"==Bt)}function ho(Ne){return zo(Ne)?function Yi(Ne,Bt){var hn=fa(Ne)||function pr(Ne){return function ea(Ne){return function pa(Ne){return!!Ne&&"object"==typeof Ne}(Ne)&&zo(Ne)}(Ne)&&W.call(Ne,"callee")&&(!Pt.call(Ne,"callee")||Me.call(Ne)==v)}(Ne)?function _e(Ne,Bt){for(var hn=-1,Nn=Array(Ne);++hn<Ne;)Nn[hn]=Bt(hn);return Nn}(Ne.length,String):[],Nn=hn.length,zi=!!Nn;for(var Ci in Ne)(Bt||W.call(Ne,Ci))&&(!zi||"length"!=Ci&&!Er(Ci,Nn))&&hn.push(Ci);return hn}(Ne):function Ue(Ne){if(!ir(Ne))return Xt(Ne);var Bt=[];for(var hn in Object(Ne))W.call(Ne,hn)&&"constructor"!=hn&&Bt.push(hn);return Bt}(Ne)}jt.exports=function fr(Ne){return Ut(Ne,!0,!0)}},5667:(jt,Se,l)=>{jt=l.nmd(jt);var n="__lodash_hash_undefined__",p=1,v=2,b=9007199254740991,E="[object Arguments]",M="[object Array]",S="[object AsyncFunction]",u="[object Boolean]",I="[object Date]",k="[object Error]",T="[object Function]",w="[object GeneratorFunction]",D="[object Map]",f="[object Number]",V="[object Null]",K="[object Object]",ne="[object Promise]",U="[object Proxy]",c="[object RegExp]",Z="[object Set]",F="[object String]",z="[object Undefined]",X="[object WeakMap]",$="[object ArrayBuffer]",te="[object DataView]",Ie=/^\[object .+?Constructor\]$/,Xe=/^(?:0|[1-9]\d*)$/,bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt[E]=bt[M]=bt[$]=bt[u]=bt[te]=bt[I]=bt[k]=bt[T]=bt[D]=bt[f]=bt[K]=bt[c]=bt[Z]=bt[F]=bt[X]=!1;var rt="object"==typeof global&&global&&global.Object===Object&&global,yt="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||yt||Function("return this")(),It=Se&&!Se.nodeType&&Se,Ae=It&&jt&&!jt.nodeType&&jt,we=Ae&&Ae.exports===It,_e=we&&rt.process,de=function(){try{return _e&&_e.binding&&_e.binding("util")}catch{}}(),Te=de&&de.isTypedArray;function tt(Ne,Bt){for(var hn=-1,Nn=null==Ne?0:Ne.length;++hn<Nn;)if(Bt(Ne[hn],hn,Ne))return!0;return!1}function Mn(Ne,Bt){return Ne.has(Bt)}function Jt(Ne){var Bt=-1,hn=Array(Ne.size);return Ne.forEach(function(Nn,zi){hn[++Bt]=[zi,Nn]}),hn}function W(Ne){var Bt=-1,hn=Array(Ne.size);return Ne.forEach(function(Nn){hn[++Bt]=Nn}),hn}var Ne,Me=Array.prototype,pe=Object.prototype,Be=ot["__core-js_shared__"],Tt=Function.prototype.toString,Wt=pe.hasOwnProperty,vn=(Ne=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||""))?"Symbol(src)_1."+Ne:"",Pt=pe.toString,dn=RegExp("^"+Tt.call(Wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=we?ot.Buffer:void 0,pt=ot.Symbol,Xt=ot.Uint8Array,Gt=pe.propertyIsEnumerable,pn=Me.splice,nn=pt?pt.toStringTag:void 0,xn=Object.getOwnPropertySymbols,kn=at?at.isBuffer:void 0,Gn=function Ft(Ne,Bt){return function(hn){return Ne(Bt(hn))}}(Object.keys,Object),hi=qs(ot,"DataView"),Ht=qs(ot,"Map"),dt=qs(ot,"Promise"),Vt=qs(ot,"Set"),ct=qs(ot,"WeakMap"),kt=qs(Object,"create"),qt=ro(hi),un=ro(Ht),Qe=ro(dt),je=ro(Vt),ze=ro(ct),Re=pt?pt.prototype:void 0,it=Re?Re.valueOf:void 0;function We(Ne){var Bt=-1,hn=null==Ne?0:Ne.length;for(this.clear();++Bt<hn;){var Nn=Ne[Bt];this.set(Nn[0],Nn[1])}}function Ct(Ne){var Bt=-1,hn=null==Ne?0:Ne.length;for(this.clear();++Bt<hn;){var Nn=Ne[Bt];this.set(Nn[0],Nn[1])}}function Mi(Ne){var Bt=-1,hn=null==Ne?0:Ne.length;for(this.clear();++Bt<hn;){var Nn=Ne[Bt];this.set(Nn[0],Nn[1])}}function Yi(Ne){var Bt=-1,hn=null==Ne?0:Ne.length;for(this.__data__=new Mi;++Bt<hn;)this.add(Ne[Bt])}function At(Ne){var Bt=this.__data__=new Ct(Ne);this.size=Bt.size}function Fe(Ne,Bt){for(var hn=Ne.length;hn--;)if(fr(Ne[hn][0],Bt))return hn;return-1}function ut(Ne){return null==Ne?void 0===Ne?z:V:nn&&nn in Object(Ne)?function Qi(Ne){var Bt=Wt.call(Ne,nn),hn=Ne[nn];try{Ne[nn]=void 0;var Nn=!0}catch{}var zi=Pt.call(Ne);return Nn&&(Bt?Ne[nn]=hn:delete Ne[nn]),zi}(Ne):function ir(Ne){return Pt.call(Ne)}(Ne)}function Pn(Ne){return Do(Ne)&&ut(Ne)==E}function Yt(Ne,Bt,hn,Nn,zi){return Ne===Bt||(null==Ne||null==Bt||!Do(Ne)&&!Do(Bt)?Ne!=Ne&&Bt!=Bt:function Dn(Ne,Bt,hn,Nn,zi,Ci){var Wi=pr(Ne),ls=pr(Bt),Ws=Wi?M:vo(Ne),ys=ls?M:vo(Bt),Xs=(Ws=Ws==E?K:Ws)==K,Co=(ys=ys==E?K:ys)==K,Hs=Ws==ys;if(Hs&&zo(Ne)){if(!zo(Bt))return!1;Wi=!0,Xs=!1}if(Hs&&!Xs)return Ci||(Ci=new At),Wi||pa(Ne)?Li(Ne,Bt,hn,Nn,zi,Ci):function Ui(Ne,Bt,hn,Nn,zi,Ci,Wi){switch(hn){case te:if(Ne.byteLength!=Bt.byteLength||Ne.byteOffset!=Bt.byteOffset)return!1;Ne=Ne.buffer,Bt=Bt.buffer;case $:return!(Ne.byteLength!=Bt.byteLength||!Ci(new Xt(Ne),new Xt(Bt)));case u:case I:case f:return fr(+Ne,+Bt);case k:return Ne.name==Bt.name&&Ne.message==Bt.message;case c:case F:return Ne==Bt+"";case D:var ls=Jt;case Z:if(ls||(ls=W),Ne.size!=Bt.size&&!(Nn&p))return!1;var ys=Wi.get(Ne);if(ys)return ys==Bt;Nn|=v,Wi.set(Ne,Bt);var Xs=Li(ls(Ne),ls(Bt),Nn,zi,Ci,Wi);return Wi.delete(Ne),Xs;case"[object Symbol]":if(it)return it.call(Ne)==it.call(Bt)}return!1}(Ne,Bt,Ws,hn,Nn,zi,Ci);if(!(hn&p)){var to=Xs&&Wt.call(Ne,"__wrapped__"),Ls=Co&&Wt.call(Bt,"__wrapped__");if(to||Ls){var To=to?Ne.value():Ne,xo=Ls?Bt.value():Bt;return Ci||(Ci=new At),zi(To,xo,hn,Nn,Ci)}}return!!Hs&&(Ci||(Ci=new At),function es(Ne,Bt,hn,Nn,zi,Ci){var Wi=hn&p,ls=as(Ne),Ws=ls.length;if(Ws!=as(Bt).length&&!Wi)return!1;for(var Co=Ws;Co--;){var Hs=ls[Co];if(!(Wi?Hs in Bt:Wt.call(Bt,Hs)))return!1}var to=Ci.get(Ne);if(to&&Ci.get(Bt))return to==Bt;var Ls=!0;Ci.set(Ne,Bt),Ci.set(Bt,Ne);for(var To=Wi;++Co<Ws;){var xo=Ne[Hs=ls[Co]],Zo=Bt[Hs];if(Nn)var di=Wi?Nn(Zo,xo,Hs,Bt,Ne,Ci):Nn(xo,Zo,Hs,Ne,Bt,Ci);if(!(void 0===di?xo===Zo||zi(xo,Zo,hn,Nn,Ci):di)){Ls=!1;break}To||(To="constructor"==Hs)}if(Ls&&!To){var Io=Ne.constructor,no=Bt.constructor;Io!=no&&"constructor"in Ne&&"constructor"in Bt&&!("function"==typeof Io&&Io instanceof Io&&"function"==typeof no&&no instanceof no)&&(Ls=!1)}return Ci.delete(Ne),Ci.delete(Bt),Ls}(Ne,Bt,hn,Nn,zi,Ci))}(Ne,Bt,hn,Nn,Yt,zi))}function Li(Ne,Bt,hn,Nn,zi,Ci){var Wi=hn&p,ls=Ne.length,Ws=Bt.length;if(ls!=Ws&&!(Wi&&Ws>ls))return!1;var ys=Ci.get(Ne);if(ys&&Ci.get(Bt))return ys==Bt;var Xs=-1,Co=!0,Hs=hn&v?new Yi:void 0;for(Ci.set(Ne,Bt),Ci.set(Bt,Ne);++Xs<ls;){var to=Ne[Xs],Ls=Bt[Xs];if(Nn)var To=Wi?Nn(Ls,to,Xs,Bt,Ne,Ci):Nn(to,Ls,Xs,Ne,Bt,Ci);if(void 0!==To){if(To)continue;Co=!1;break}if(Hs){if(!tt(Bt,function(xo,Zo){if(!Mn(Hs,Zo)&&(to===xo||zi(to,xo,hn,Nn,Ci)))return Hs.push(Zo)})){Co=!1;break}}else if(to!==Ls&&!zi(to,Ls,hn,Nn,Ci)){Co=!1;break}}return Ci.delete(Ne),Ci.delete(Bt),Co}function as(Ne){return function mt(Ne,Bt,hn){var Nn=Bt(Ne);return pr(Ne)?Nn:function St(Ne,Bt){for(var hn=-1,Nn=Bt.length,zi=Ne.length;++hn<Nn;)Ne[zi+hn]=Bt[hn];return Ne}(Nn,hn(Ne))}(Ne,ho,Ks)}function ti(Ne,Bt){var hn=Ne.__data__;return function Er(Ne){var Bt=typeof Ne;return"string"==Bt||"number"==Bt||"symbol"==Bt||"boolean"==Bt?"__proto__"!==Ne:null===Ne}(Bt)?hn["string"==typeof Bt?"string":"hash"]:hn.map}function qs(Ne,Bt){var hn=function Bn(Ne,Bt){return Ne?.[Bt]}(Ne,Bt);return function Sn(Ne){return!(!Ur(Ne)||function bs(Ne){return!!vn&&vn in Ne}(Ne))&&(ta(Ne)?dn:Ie).test(ro(Ne))}(hn)?hn:void 0}We.prototype.clear=function ht(){this.__data__=kt?kt(null):{},this.size=0},We.prototype.delete=function He(Ne){var Bt=this.has(Ne)&&delete this.__data__[Ne];return this.size-=Bt?1:0,Bt},We.prototype.get=function Ke(Ne){var Bt=this.__data__;if(kt){var hn=Bt[Ne];return hn===n?void 0:hn}return Wt.call(Bt,Ne)?Bt[Ne]:void 0},We.prototype.has=function Kt(Ne){var Bt=this.__data__;return kt?void 0!==Bt[Ne]:Wt.call(Bt,Ne)},We.prototype.set=function gt(Ne,Bt){var hn=this.__data__;return this.size+=this.has(Ne)?0:1,hn[Ne]=kt&&void 0===Bt?n:Bt,this},Ct.prototype.clear=function _n(){this.__data__=[],this.size=0},Ct.prototype.delete=function yn(Ne){var Bt=this.__data__,hn=Fe(Bt,Ne);return!(hn<0||(hn==Bt.length-1?Bt.pop():pn.call(Bt,hn,1),--this.size,0))},Ct.prototype.get=function Vn(Ne){var Bt=this.__data__,hn=Fe(Bt,Ne);return hn<0?void 0:Bt[hn][1]},Ct.prototype.has=function mi(Ne){return Fe(this.__data__,Ne)>-1},Ct.prototype.set=function Oi(Ne,Bt){var hn=this.__data__,Nn=Fe(hn,Ne);return Nn<0?(++this.size,hn.push([Ne,Bt])):hn[Nn][1]=Bt,this},Mi.prototype.clear=function wi(){this.size=0,this.__data__={hash:new We,map:new(Ht||Ct),string:new We}},Mi.prototype.delete=function Ki(Ne){var Bt=ti(this,Ne).delete(Ne);return this.size-=Bt?1:0,Bt},Mi.prototype.get=function ji(Ne){return ti(this,Ne).get(Ne)},Mi.prototype.has=function ts(Ne){return ti(this,Ne).has(Ne)},Mi.prototype.set=function xs(Ne,Bt){var hn=ti(this,Ne),Nn=hn.size;return hn.set(Ne,Bt),this.size+=hn.size==Nn?0:1,this},Yi.prototype.add=Yi.prototype.push=function jn(Ne){return this.__data__.set(Ne,n),this},Yi.prototype.has=function lt(Ne){return this.__data__.has(Ne)},At.prototype.clear=function Ut(){this.__data__=new Ct,this.size=0},At.prototype.delete=function An(Ne){var Bt=this.__data__,hn=Bt.delete(Ne);return this.size=Bt.size,hn},At.prototype.get=function ye(Ne){return this.__data__.get(Ne)},At.prototype.has=function _t(Ne){return this.__data__.has(Ne)},At.prototype.set=function q(Ne,Bt){var hn=this.__data__;if(hn instanceof Ct){var Nn=hn.__data__;if(!Ht||Nn.length<199)return Nn.push([Ne,Bt]),this.size=++hn.size,this;hn=this.__data__=new Mi(Nn)}return hn.set(Ne,Bt),this.size=hn.size,this};var Ks=xn?function(Ne){return null==Ne?[]:(Ne=Object(Ne),function Pe(Ne,Bt){for(var hn=-1,Nn=null==Ne?0:Ne.length,zi=0,Ci=[];++hn<Nn;){var Wi=Ne[hn];Bt(Wi,hn,Ne)&&(Ci[zi++]=Wi)}return Ci}(xn(Ne),function(Bt){return Gt.call(Ne,Bt)}))}:function na(){return[]},vo=ut;function zs(Ne,Bt){return!!(Bt=Bt??b)&&("number"==typeof Ne||Xe.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Bt}function ro(Ne){if(null!=Ne){try{return Tt.call(Ne)}catch{}try{return Ne+""}catch{}}return""}function fr(Ne,Bt){return Ne===Bt||Ne!=Ne&&Bt!=Bt}(hi&&vo(new hi(new ArrayBuffer(1)))!=te||Ht&&vo(new Ht)!=D||dt&&vo(dt.resolve())!=ne||Vt&&vo(new Vt)!=Z||ct&&vo(new ct)!=X)&&(vo=function(Ne){var Bt=ut(Ne),hn=Bt==K?Ne.constructor:void 0,Nn=hn?ro(hn):"";if(Nn)switch(Nn){case qt:return te;case un:return D;case Qe:return ne;case je:return Z;case ze:return X}return Bt});var $r=Pn(function(){return arguments}())?Pn:function(Ne){return Do(Ne)&&Wt.call(Ne,"callee")&&!Gt.call(Ne,"callee")},pr=Array.isArray,zo=kn||function wo(){return!1};function ta(Ne){if(!Ur(Ne))return!1;var Bt=ut(Ne);return Bt==T||Bt==w||Bt==S||Bt==U}function jr(Ne){return"number"==typeof Ne&&Ne>-1&&Ne%1==0&&Ne<=b}function Ur(Ne){var Bt=typeof Ne;return null!=Ne&&("object"==Bt||"function"==Bt)}function Do(Ne){return null!=Ne&&"object"==typeof Ne}var pa=Te?function ln(Ne){return function(Bt){return Ne(Bt)}}(Te):function Jn(Ne){return Do(Ne)&&jr(Ne.length)&&!!bt[ut(Ne)]};function ho(Ne){return function fa(Ne){return null!=Ne&&jr(Ne.length)&&!ta(Ne)}(Ne)?function Ue(Ne,Bt){var hn=pr(Ne),Nn=!hn&&$r(Ne),zi=!hn&&!Nn&&zo(Ne),Ci=!hn&&!Nn&&!zi&&pa(Ne),Wi=hn||Nn||zi||Ci,ls=Wi?function wt(Ne,Bt){for(var hn=-1,Nn=Array(Ne);++hn<Ne;)Nn[hn]=Bt(hn);return Nn}(Ne.length,String):[],Ws=ls.length;for(var ys in Ne)(Bt||Wt.call(Ne,ys))&&(!Wi||!("length"==ys||zi&&("offset"==ys||"parent"==ys)||Ci&&("buffer"==ys||"byteLength"==ys||"byteOffset"==ys)||zs(ys,Ws)))&&ls.push(ys);return ls}(Ne):function ci(Ne){if(!function Ir(Ne){var Bt=Ne&&Ne.constructor;return Ne===("function"==typeof Bt&&Bt.prototype||pe)}(Ne))return Gn(Ne);var Bt=[];for(var hn in Object(Ne))Wt.call(Ne,hn)&&"constructor"!=hn&&Bt.push(hn);return Bt}(Ne)}jt.exports=function ea(Ne,Bt){return Yt(Ne,Bt)}},1561:(jt,Se,l)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});const t=l(5947),n=l(5667);var p,v;(v=p||(p={})).compose=function b(u={},I={},k=!1){"object"!=typeof u&&(u={}),"object"!=typeof I&&(I={});let T=t(I);k||(T=Object.keys(T).reduce((w,D)=>(null!=T[D]&&(w[D]=T[D]),w),{}));for(const w in u)void 0!==u[w]&&void 0===I[w]&&(T[w]=u[w]);return Object.keys(T).length>0?T:void 0},v.diff=function E(u={},I={}){"object"!=typeof u&&(u={}),"object"!=typeof I&&(I={});const k=Object.keys(u).concat(Object.keys(I)).reduce((T,w)=>(n(u[w],I[w])||(T[w]=void 0===I[w]?null:I[w]),T),{});return Object.keys(k).length>0?k:void 0},v.invert=function M(u={},I={}){u=u||{};const k=Object.keys(I).reduce((T,w)=>(I[w]!==u[w]&&void 0!==u[w]&&(T[w]=I[w]),T),{});return Object.keys(u).reduce((T,w)=>(u[w]!==I[w]&&void 0===I[w]&&(T[w]=null),T),k)},v.transform=function S(u,I,k=!1){if("object"!=typeof u)return I;if("object"!=typeof I)return;if(!k)return I;const T=Object.keys(I).reduce((w,D)=>(void 0===u[D]&&(w[D]=I[D]),w),{});return Object.keys(T).length>0?T:void 0},Se.default=p},2577:(jt,Se,l)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0}),Se.AttributeMap=Se.OpIterator=Se.Op=void 0;const t=l(8655),n=l(5947),p=l(5667),v=l(1561);Se.AttributeMap=v.default;const b=l(8964);Se.Op=b.default;const E=l(6366);Se.OpIterator=E.default;const S=(I,k)=>{if("object"!=typeof I||null===I)throw new Error("cannot retain a "+typeof I);if("object"!=typeof k||null===k)throw new Error("cannot retain a "+typeof k);const T=Object.keys(I)[0];if(!T||T!==Object.keys(k)[0])throw new Error(`embed types not matched: ${T} != ${Object.keys(k)[0]}`);return[T,I[T],k[T]]};class u{constructor(k){this.ops=Array.isArray(k)?k:null!=k&&Array.isArray(k.ops)?k.ops:[]}static registerEmbed(k,T){this.handlers[k]=T}static unregisterEmbed(k){delete this.handlers[k]}static getHandler(k){const T=this.handlers[k];if(!T)throw new Error(`no handlers for embed type "${k}"`);return T}insert(k,T){const w={};return"string"==typeof k&&0===k.length?this:(w.insert=k,null!=T&&"object"==typeof T&&Object.keys(T).length>0&&(w.attributes=T),this.push(w))}delete(k){return k<=0?this:this.push({delete:k})}retain(k,T){if("number"==typeof k&&k<=0)return this;const w={retain:k};return null!=T&&"object"==typeof T&&Object.keys(T).length>0&&(w.attributes=T),this.push(w)}push(k){let T=this.ops.length,w=this.ops[T-1];if(k=n(k),"object"==typeof w){if("number"==typeof k.delete&&"number"==typeof w.delete)return this.ops[T-1]={delete:w.delete+k.delete},this;if("number"==typeof w.delete&&null!=k.insert&&(T-=1,w=this.ops[T-1],"object"!=typeof w))return this.ops.unshift(k),this;if(p(k.attributes,w.attributes)){if("string"==typeof k.insert&&"string"==typeof w.insert)return this.ops[T-1]={insert:w.insert+k.insert},"object"==typeof k.attributes&&(this.ops[T-1].attributes=k.attributes),this;if("number"==typeof k.retain&&"number"==typeof w.retain)return this.ops[T-1]={retain:w.retain+k.retain},"object"==typeof k.attributes&&(this.ops[T-1].attributes=k.attributes),this}}return T===this.ops.length?this.ops.push(k):this.ops.splice(T,0,k),this}chop(){const k=this.ops[this.ops.length-1];return k&&"number"==typeof k.retain&&!k.attributes&&this.ops.pop(),this}filter(k){return this.ops.filter(k)}forEach(k){this.ops.forEach(k)}map(k){return this.ops.map(k)}partition(k){const T=[],w=[];return this.forEach(D=>{(k(D)?T:w).push(D)}),[T,w]}reduce(k,T){return this.ops.reduce(k,T)}changeLength(){return this.reduce((k,T)=>T.insert?k+b.default.length(T):T.delete?k-T.delete:k,0)}length(){return this.reduce((k,T)=>k+b.default.length(T),0)}slice(k=0,T=1/0){const w=[],D=new E.default(this.ops);let f=0;for(;f<T&&D.hasNext();){let V;f<k?V=D.next(k-f):(V=D.next(T-f),w.push(V)),f+=b.default.length(V)}return new u(w)}compose(k){const T=new E.default(this.ops),w=new E.default(k.ops),D=[],f=w.peek();if(null!=f&&"number"==typeof f.retain&&null==f.attributes){let K=f.retain;for(;"insert"===T.peekType()&&T.peekLength()<=K;)K-=T.peekLength(),D.push(T.next());f.retain-K>0&&w.next(f.retain-K)}const V=new u(D);for(;T.hasNext()||w.hasNext();)if("insert"===w.peekType())V.push(w.next());else if("delete"===T.peekType())V.push(T.next());else{const K=Math.min(T.peekLength(),w.peekLength()),ne=T.next(K),U=w.next(K);if(U.retain){const c={};if("number"==typeof ne.retain)c.retain="number"==typeof U.retain?K:U.retain;else if("number"==typeof U.retain)null==ne.retain?c.insert=ne.insert:c.retain=ne.retain;else{const F=null==ne.retain?"insert":"retain",[J,z,X]=S(ne[F],U.retain),$=u.getHandler(J);c[F]={[J]:$.compose(z,X,"retain"===F)}}const Z=v.default.compose(ne.attributes,U.attributes,"number"==typeof ne.retain);if(Z&&(c.attributes=Z),V.push(c),!w.hasNext()&&p(V.ops[V.ops.length-1],c)){const F=new u(T.rest());return V.concat(F).chop()}}else"number"==typeof U.delete&&("number"==typeof ne.retain||"object"==typeof ne.retain&&null!==ne.retain)&&V.push(U)}return V.chop()}concat(k){const T=new u(this.ops.slice());return k.ops.length>0&&(T.push(k.ops[0]),T.ops=T.ops.concat(k.ops.slice(1))),T}diff(k,T){if(this.ops===k.ops)return new u;const w=[this,k].map(ne=>ne.map(U=>{if(null!=U.insert)return"string"==typeof U.insert?U.insert:"\0";throw new Error("diff() called "+(ne===k?"on":"with")+" non-document")}).join("")),D=new u,f=t(w[0],w[1],T,!0),V=new E.default(this.ops),K=new E.default(k.ops);return f.forEach(ne=>{let U=ne[1].length;for(;U>0;){let c=0;switch(ne[0]){case t.INSERT:c=Math.min(K.peekLength(),U),D.push(K.next(c));break;case t.DELETE:c=Math.min(U,V.peekLength()),V.next(c),D.delete(c);break;case t.EQUAL:c=Math.min(V.peekLength(),K.peekLength(),U);const Z=V.next(c),F=K.next(c);p(Z.insert,F.insert)?D.retain(c,v.default.diff(Z.attributes,F.attributes)):D.push(F).delete(c)}U-=c}}),D.chop()}eachLine(k,T="\n"){const w=new E.default(this.ops);let D=new u,f=0;for(;w.hasNext();){if("insert"!==w.peekType())return;const V=w.peek(),K=b.default.length(V)-w.peekLength(),ne="string"==typeof V.insert?V.insert.indexOf(T,K)-K:-1;if(ne<0)D.push(w.next());else if(ne>0)D.push(w.next(ne));else{if(!1===k(D,w.next(1).attributes||{},f))return;f+=1,D=new u}}D.length()>0&&k(D,{},f)}invert(k){const T=new u;return this.reduce((w,D)=>{if(D.insert)T.delete(b.default.length(D));else{if("number"==typeof D.retain&&null==D.attributes)return T.retain(D.retain),w+D.retain;if(D.delete||"number"==typeof D.retain){const f=D.delete||D.retain;return k.slice(w,w+f).forEach(K=>{D.delete?T.push(K):D.retain&&D.attributes&&T.retain(b.default.length(K),v.default.invert(D.attributes,K.attributes))}),w+f}if("object"==typeof D.retain&&null!==D.retain){const f=k.slice(w,w+1),V=new E.default(f.ops).next(),[K,ne,U]=S(D.retain,V.insert),c=u.getHandler(K);return T.retain({[K]:c.invert(ne,U)},v.default.invert(D.attributes,V.attributes)),w+1}}return w},0),T.chop()}transform(k,T=!1){if(T=!!T,"number"==typeof k)return this.transformPosition(k,T);const w=k,D=new E.default(this.ops),f=new E.default(w.ops),V=new u;for(;D.hasNext()||f.hasNext();)if("insert"!==D.peekType()||!T&&"insert"===f.peekType())if("insert"===f.peekType())V.push(f.next());else{const K=Math.min(D.peekLength(),f.peekLength()),ne=D.next(K),U=f.next(K);if(ne.delete)continue;if(U.delete)V.push(U);else{const c=ne.retain,Z=U.retain;let F="object"==typeof Z&&null!==Z?Z:K;if("object"==typeof c&&null!==c&&"object"==typeof Z&&null!==Z){const J=Object.keys(c)[0];if(J===Object.keys(Z)[0]){const z=u.getHandler(J);z&&(F={[J]:z.transform(c[J],Z[J],T)})}}V.retain(F,v.default.transform(ne.attributes,U.attributes,T))}}else V.retain(b.default.length(D.next()));return V.chop()}transformPosition(k,T=!1){T=!!T;const w=new E.default(this.ops);let D=0;for(;w.hasNext()&&D<=k;){const f=w.peekLength(),V=w.peekType();w.next(),"delete"!==V?("insert"===V&&(D<k||!T)&&(k+=f),D+=f):k-=Math.min(f,k-D)}return k}}u.Op=b.default,u.OpIterator=E.default,u.AttributeMap=v.default,u.handlers={},Se.default=u,jt.exports=u,jt.exports.default=u},8964:(jt,Se)=>{"use strict";var l;Object.defineProperty(Se,"__esModule",{value:!0}),(l||(l={})).length=function n(p){return"number"==typeof p.delete?p.delete:"number"==typeof p.retain?p.retain:"object"==typeof p.retain&&null!==p.retain?1:"string"==typeof p.insert?p.insert.length:1},Se.default=l},6366:(jt,Se,l)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});const t=l(8964);Se.default=class n{constructor(v){this.ops=v,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(v){v||(v=1/0);const b=this.ops[this.index];if(b){const E=this.offset,M=t.default.length(b);if(v>=M-E?(v=M-E,this.index+=1,this.offset=0):this.offset+=v,"number"==typeof b.delete)return{delete:v};{const S={};return b.attributes&&(S.attributes=b.attributes),"number"==typeof b.retain?S.retain=v:"object"==typeof b.retain&&null!==b.retain?S.retain=b.retain:S.insert="string"==typeof b.insert?b.insert.substr(E,v):b.insert,S}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const v=this.ops[this.index];return v?"number"==typeof v.delete?"delete":"number"==typeof v.retain||"object"==typeof v.retain&&null!==v.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const v=this.offset,b=this.index,E=this.next(),M=this.ops.slice(this.index);return this.offset=v,this.index=b,[E].concat(M)}}return[]}}},9280:jt=>{"use strict";var Se=Object.prototype.hasOwnProperty,l="~";function t(){}function n(E,M,S){this.fn=E,this.context=M,this.once=S||!1}function p(E,M,S,u,I){if("function"!=typeof S)throw new TypeError("The listener must be a function");var k=new n(S,u||E,I),T=l?l+M:M;return E._events[T]?E._events[T].fn?E._events[T]=[E._events[T],k]:E._events[T].push(k):(E._events[T]=k,E._eventsCount++),E}function v(E,M){0==--E._eventsCount?E._events=new t:delete E._events[M]}function b(){this._events=new t,this._eventsCount=0}Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(l=!1)),b.prototype.eventNames=function(){var S,u,M=[];if(0===this._eventsCount)return M;for(u in S=this._events)Se.call(S,u)&&M.push(l?u.slice(1):u);return Object.getOwnPropertySymbols?M.concat(Object.getOwnPropertySymbols(S)):M},b.prototype.listeners=function(M){var u=this._events[l?l+M:M];if(!u)return[];if(u.fn)return[u.fn];for(var I=0,k=u.length,T=new Array(k);I<k;I++)T[I]=u[I].fn;return T},b.prototype.listenerCount=function(M){var u=this._events[l?l+M:M];return u?u.fn?1:u.length:0},b.prototype.emit=function(M,S,u,I,k,T){var w=l?l+M:M;if(!this._events[w])return!1;var V,K,D=this._events[w],f=arguments.length;if(D.fn){switch(D.once&&this.removeListener(M,D.fn,void 0,!0),f){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,S),!0;case 3:return D.fn.call(D.context,S,u),!0;case 4:return D.fn.call(D.context,S,u,I),!0;case 5:return D.fn.call(D.context,S,u,I,k),!0;case 6:return D.fn.call(D.context,S,u,I,k,T),!0}for(K=1,V=new Array(f-1);K<f;K++)V[K-1]=arguments[K];D.fn.apply(D.context,V)}else{var U,ne=D.length;for(K=0;K<ne;K++)switch(D[K].once&&this.removeListener(M,D[K].fn,void 0,!0),f){case 1:D[K].fn.call(D[K].context);break;case 2:D[K].fn.call(D[K].context,S);break;case 3:D[K].fn.call(D[K].context,S,u);break;case 4:D[K].fn.call(D[K].context,S,u,I);break;default:if(!V)for(U=1,V=new Array(f-1);U<f;U++)V[U-1]=arguments[U];D[K].fn.apply(D[K].context,V)}}return!0},b.prototype.on=function(M,S,u){return p(this,M,S,u,!1)},b.prototype.once=function(M,S,u){return p(this,M,S,u,!0)},b.prototype.removeListener=function(M,S,u,I){var k=l?l+M:M;if(!this._events[k])return this;if(!S)return v(this,k),this;var T=this._events[k];if(T.fn)T.fn===S&&(!I||T.once)&&(!u||T.context===u)&&v(this,k);else{for(var w=0,D=[],f=T.length;w<f;w++)(T[w].fn!==S||I&&!T[w].once||u&&T[w].context!==u)&&D.push(T[w]);D.length?this._events[k]=1===D.length?D[0]:D:v(this,k)}return this},b.prototype.removeAllListeners=function(M){var S;return M?this._events[S=l?l+M:M]&&v(this,S):(this._events=new t,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=l,b.EventEmitter=b,jt.exports=b},9928:(jt,Se,l)=>{"use strict";l.d(Se,{t:()=>p});var t=l(5286),n=l(2145);class p extends t.B7{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const E=super._subscribe(b);return E&&!E.closed&&b.next(this._value),E}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.P;return this._value}next(b){super.next(this._value=b)}}},2351:(jt,Se,l)=>{"use strict";l.d(Se,{E:()=>b});var t=l(1235),n=l(4421),p=l(4526);class b{constructor(M,S,u){this.kind=M,this.value=S,this.error=u,this.hasValue="N"===M}observe(M){switch(this.kind){case"N":return M.next&&M.next(this.value);case"E":return M.error&&M.error(this.error);case"C":return M.complete&&M.complete()}}do(M,S,u){switch(this.kind){case"N":return M&&M(this.value);case"E":return S&&S(this.error);case"C":return u&&u()}}accept(M,S,u){return M&&"function"==typeof M.next?this.observe(M):this.do(M,S,u)}toObservable(){switch(this.kind){case"N":return(0,n.of)(this.value);case"E":return(0,p.$)(this.error);case"C":return(0,t.I)()}throw new Error("unexpected notification kind value")}static createNext(M){return typeof M<"u"?new b("N",M):b.undefinedValueNotification}static createError(M){return new b("E",void 0,M)}static createComplete(){return b.completeNotification}}b.completeNotification=new b("C"),b.undefinedValueNotification=new b("N",void 0)},5817:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>u});var t=l(762),p=l(91),v=l(178),E=l(5722),M=l(8167),S=l(614);let u=(()=>{class k{constructor(w){this._isScalar=!1,w&&(this._subscribe=w)}lift(w){const D=new k;return D.source=this,D.operator=w,D}subscribe(w,D,f){const{operator:V}=this,K=function b(k,T,w){if(k){if(k instanceof t.v)return k;if(k[p.D])return k[p.D]()}return k||T||w?new t.v(k,T,w):new t.v(v.I)}(w,D,f);if(K.add(V?V.call(K,this.source):this.source||S.$.useDeprecatedSynchronousErrorHandling&&!K.syncErrorThrowable?this._subscribe(K):this._trySubscribe(K)),S.$.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable&&(K.syncErrorThrowable=!1,K.syncErrorThrown))throw K.syncErrorValue;return K}_trySubscribe(w){try{return this._subscribe(w)}catch(D){S.$.useDeprecatedSynchronousErrorHandling&&(w.syncErrorThrown=!0,w.syncErrorValue=D),function n(k){for(;k;){const{closed:T,destination:w,isStopped:D}=k;if(T||D)return!1;k=w&&w instanceof t.v?w:null}return!0}(w)?w.error(D):console.warn(D)}}forEach(w,D){return new(D=I(D))((f,V)=>{let K;K=this.subscribe(ne=>{try{w(ne)}catch(U){V(U),K&&K.unsubscribe()}},V,f)})}_subscribe(w){const{source:D}=this;return D&&D.subscribe(w)}[E.s](){return this}pipe(...w){return 0===w.length?this:(0,M.m)(w)(this)}toPromise(w){return new(w=I(w))((D,f)=>{let V;this.subscribe(K=>V=K,K=>f(K),()=>D(V))})}}return k.create=T=>new k(T),k})();function I(k){if(k||(k=S.$.Promise||Promise),!k)throw new Error("no Promise impl found");return k}},178:(jt,Se,l)=>{"use strict";l.d(Se,{I:()=>p});var t=l(614),n=l(8253);const p={closed:!0,next(v){},error(v){if(t.$.useDeprecatedSynchronousErrorHandling)throw v;(0,n.T)(v)},complete(){}}},6607:(jt,Se,l)=>{"use strict";l.d(Se,{m:()=>K});var t=l(5286),n=l(8189),v=l(6228);const M=new class b extends v.q{}(class p extends n.R{constructor(c,Z){super(c,Z),this.scheduler=c,this.work=Z}schedule(c,Z=0){return Z>0?super.schedule(c,Z):(this.delay=Z,this.state=c,this.scheduler.flush(this),this)}execute(c,Z){return Z>0||this.closed?super.execute(c,Z):this._execute(c,Z)}requestAsyncId(c,Z,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(c,Z,F):c.flush(this)}});var S=l(4337),u=l(762),I=l(2351);class w extends u.v{constructor(c,Z,F=0){super(c),this.scheduler=Z,this.delay=F}static dispatch(c){const{notification:Z,destination:F}=c;Z.observe(F),this.unsubscribe()}scheduleMessage(c){this.destination.add(this.scheduler.schedule(w.dispatch,this.delay,new D(c,this.destination)))}_next(c){this.scheduleMessage(I.E.createNext(c))}_error(c){this.scheduleMessage(I.E.createError(c)),this.unsubscribe()}_complete(){this.scheduleMessage(I.E.createComplete()),this.unsubscribe()}}class D{constructor(c,Z){this.notification=c,this.destination=Z}}var f=l(2145),V=l(1259);class K extends t.B7{constructor(c=Number.POSITIVE_INFINITY,Z=Number.POSITIVE_INFINITY,F){super(),this.scheduler=F,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=c<1?1:c,this._windowTime=Z<1?1:Z,Z===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(c){if(!this.isStopped){const Z=this._events;Z.push(c),Z.length>this._bufferSize&&Z.shift()}super.next(c)}nextTimeWindow(c){this.isStopped||(this._events.push(new ne(this._getNow(),c)),this._trimBufferThenGetEvents()),super.next(c)}_subscribe(c){const Z=this._infiniteTimeWindow,F=Z?this._events:this._trimBufferThenGetEvents(),J=this.scheduler,z=F.length;let X;if(this.closed)throw new f.P;if(this.isStopped||this.hasError?X=S.y.EMPTY:(this.observers.push(c),X=new V.Y(this,c)),J&&c.add(c=new w(c,J)),Z)for(let $=0;$<z&&!c.closed;$++)c.next(F[$]);else for(let $=0;$<z&&!c.closed;$++)c.next(F[$].value);return this.hasError?c.error(this.thrownError):this.isStopped&&c.complete(),X}_getNow(){return(this.scheduler||M).now()}_trimBufferThenGetEvents(){const c=this._getNow(),Z=this._bufferSize,F=this._windowTime,J=this._events,z=J.length;let X=0;for(;X<z&&!(c-J[X].time<F);)X++;return z>Z&&(X=Math.max(X,z-Z)),X>0&&J.splice(0,X),J}}class ne{constructor(c,Z){this.time=c,this.value=Z}}},5286:(jt,Se,l)=>{"use strict";l.d(Se,{B7:()=>S,PJ:()=>M,kQ:()=>u});var t=l(5817),n=l(762),p=l(4337),v=l(2145),b=l(1259),E=l(91);class M extends n.v{constructor(k){super(k),this.destination=k}}let S=(()=>{class I extends t.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[E.D](){return new M(this)}lift(T){const w=new u(this,this);return w.operator=T,w}next(T){if(this.closed)throw new v.P;if(!this.isStopped){const{observers:w}=this,D=w.length,f=w.slice();for(let V=0;V<D;V++)f[V].next(T)}}error(T){if(this.closed)throw new v.P;this.hasError=!0,this.thrownError=T,this.isStopped=!0;const{observers:w}=this,D=w.length,f=w.slice();for(let V=0;V<D;V++)f[V].error(T);this.observers.length=0}complete(){if(this.closed)throw new v.P;this.isStopped=!0;const{observers:T}=this,w=T.length,D=T.slice();for(let f=0;f<w;f++)D[f].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(T){if(this.closed)throw new v.P;return super._trySubscribe(T)}_subscribe(T){if(this.closed)throw new v.P;return this.hasError?(T.error(this.thrownError),p.y.EMPTY):this.isStopped?(T.complete(),p.y.EMPTY):(this.observers.push(T),new b.Y(this,T))}asObservable(){const T=new t.c;return T.source=this,T}}return I.create=(k,T)=>new u(k,T),I})();class u extends S{constructor(k,T){super(),this.destination=k,this.source=T}next(k){const{destination:T}=this;T&&T.next&&T.next(k)}error(k){const{destination:T}=this;T&&T.error&&this.destination.error(k)}complete(){const{destination:k}=this;k&&k.complete&&this.destination.complete()}_subscribe(k){const{source:T}=this;return T?this.source.subscribe(k):p.y.EMPTY}}},1259:(jt,Se,l)=>{"use strict";l.d(Se,{Y:()=>n});var t=l(4337);class n extends t.y{constructor(v,b){super(),this.subject=v,this.subscriber=b,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const v=this.subject,b=v.observers;if(this.subject=null,!b||0===b.length||v.isStopped||v.closed)return;const E=b.indexOf(this.subscriber);-1!==E&&b.splice(E,1)}}},762:(jt,Se,l)=>{"use strict";l.d(Se,{v:()=>M});var t=l(8099),n=l(178),p=l(4337),v=l(91),b=l(614),E=l(8253);class M extends p.y{constructor(I,k,T){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.I;break;case 1:if(!I){this.destination=n.I;break}if("object"==typeof I){I instanceof M?(this.syncErrorThrowable=I.syncErrorThrowable,this.destination=I,I.add(this)):(this.syncErrorThrowable=!0,this.destination=new S(this,I));break}default:this.syncErrorThrowable=!0,this.destination=new S(this,I,k,T)}}[v.D](){return this}static create(I,k,T){const w=new M(I,k,T);return w.syncErrorThrowable=!1,w}next(I){this.isStopped||this._next(I)}error(I){this.isStopped||(this.isStopped=!0,this._error(I))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(I){this.destination.next(I)}_error(I){this.destination.error(I),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:I}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=I,this}}class S extends M{constructor(I,k,T,w){super(),this._parentSubscriber=I;let D,f=this;(0,t.T)(k)?D=k:k&&(D=k.next,T=k.error,w=k.complete,k!==n.I&&(f=Object.create(k),(0,t.T)(f.unsubscribe)&&this.add(f.unsubscribe.bind(f)),f.unsubscribe=this.unsubscribe.bind(this))),this._context=f,this._next=D,this._error=T,this._complete=w}next(I){if(!this.isStopped&&this._next){const{_parentSubscriber:k}=this;b.$.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,I)&&this.unsubscribe():this.__tryOrUnsub(this._next,I)}}error(I){if(!this.isStopped){const{_parentSubscriber:k}=this,{useDeprecatedSynchronousErrorHandling:T}=b.$;if(this._error)T&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,I),this.unsubscribe()):(this.__tryOrUnsub(this._error,I),this.unsubscribe());else if(k.syncErrorThrowable)T?(k.syncErrorValue=I,k.syncErrorThrown=!0):(0,E.T)(I),this.unsubscribe();else{if(this.unsubscribe(),T)throw I;(0,E.T)(I)}}}complete(){if(!this.isStopped){const{_parentSubscriber:I}=this;if(this._complete){const k=()=>this._complete.call(this._context);b.$.useDeprecatedSynchronousErrorHandling&&I.syncErrorThrowable?(this.__tryOrSetError(I,k),this.unsubscribe()):(this.__tryOrUnsub(k),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(I,k){try{I.call(this._context,k)}catch(T){if(this.unsubscribe(),b.$.useDeprecatedSynchronousErrorHandling)throw T;(0,E.T)(T)}}__tryOrSetError(I,k,T){if(!b.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,T)}catch(w){return b.$.useDeprecatedSynchronousErrorHandling?(I.syncErrorValue=w,I.syncErrorThrown=!0,!0):((0,E.T)(w),!0)}return!1}_unsubscribe(){const{_parentSubscriber:I}=this;this._context=null,this._parentSubscriber=null,I.unsubscribe()}}},4337:(jt,Se,l)=>{"use strict";l.d(Se,{y:()=>E});var t=l(7354),n=l(1456),p=l(8099);const b=(()=>{function S(u){return Error.call(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((I,k)=>`${k+1}) ${I.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u,this}return S.prototype=Object.create(Error.prototype),S})();class E{constructor(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}unsubscribe(){let u;if(this.closed)return;let{_parentOrParents:I,_ctorUnsubscribe:k,_unsubscribe:T,_subscriptions:w}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,I instanceof E)I.remove(this);else if(null!==I)for(let D=0;D<I.length;++D)I[D].remove(this);if((0,p.T)(T)){k&&(this._unsubscribe=void 0);try{T.call(this)}catch(D){u=D instanceof b?M(D.errors):[D]}}if((0,t.c)(w)){let D=-1,f=w.length;for(;++D<f;){const V=w[D];if((0,n.G)(V))try{V.unsubscribe()}catch(K){u=u||[],K instanceof b?u=u.concat(M(K.errors)):u.push(K)}}}if(u)throw new b(u)}add(u){let I=u;if(!u)return E.EMPTY;switch(typeof u){case"function":I=new E(u);case"object":if(I===this||I.closed||"function"!=typeof I.unsubscribe)return I;if(this.closed)return I.unsubscribe(),I;if(!(I instanceof E)){const w=I;I=new E,I._subscriptions=[w]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}let{_parentOrParents:k}=I;if(null===k)I._parentOrParents=this;else if(k instanceof E){if(k===this)return I;I._parentOrParents=[k,this]}else{if(-1!==k.indexOf(this))return I;k.push(this)}const T=this._subscriptions;return null===T?this._subscriptions=[I]:T.push(I),I}remove(u){const I=this._subscriptions;if(I){const k=I.indexOf(u);-1!==k&&I.splice(k,1)}}}var S;function M(S){return S.reduce((u,I)=>u.concat(I instanceof b?I.errors:I),[])}E.EMPTY=((S=new E).closed=!0,S)},614:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>n});let t=!1;const n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(p){if(p){const v=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+v.stack)}else t&&console.log("RxJS: Back to a better error behavior. Thank you. <3");t=p},get useDeprecatedSynchronousErrorHandling(){return t}}},3004:(jt,Se,l)=>{"use strict";l.d(Se,{gn:()=>E,tS:()=>S,zA:()=>v});var t=l(762),n=l(5817),p=l(135);class v extends t.v{constructor(I){super(),this.parent=I}_next(I){this.parent.notifyNext(I)}_error(I){this.parent.notifyError(I),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class E extends t.v{notifyNext(I){this.destination.next(I)}notifyError(I){this.destination.error(I)}notifyComplete(){this.destination.complete()}}function S(u,I){if(I.closed)return;if(u instanceof n.c)return u.subscribe(I);let k;try{k=(0,p.i)(u)(I)}catch(T){I.error(T)}return k}},4725:(jt,Se,l)=>{"use strict";l.d(Se,{G:()=>E,f:()=>M});var t=l(5286),n=l(5817),v=(l(762),l(4337)),b=l(3110);class E extends n.c{constructor(T,w){super(),this.source=T,this.subjectFactory=w,this._refCount=0,this._isComplete=!1}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let T=this._connection;return T||(this._isComplete=!1,T=this._connection=new v.y,T.add(this.source.subscribe(new S(this.getSubject(),this))),T.closed&&(this._connection=null,T=v.y.EMPTY)),T}refCount(){return(0,b.B)()(this)}}const M=(()=>{const k=E.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class S extends t.PJ{constructor(T,w){super(T),this.connectable=w}_error(T){this._unsubscribe(),super._error(T)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const T=this.connectable;if(T){this.connectable=null;const w=T._connection;T._refCount=0,T._subject=null,T._connection=null,w&&w.unsubscribe()}}}},9714:(jt,Se,l)=>{"use strict";l.d(Se,{zV:()=>k});var t=l(2234),n=l(7354),p=l(762);class v extends p.v{notifyNext(f,V,K,ne,U){this.destination.next(V)}notifyError(f,V){this.destination.error(f)}notifyComplete(f){this.destination.complete()}}class b extends p.v{constructor(f,V,K){super(),this.parent=f,this.outerValue=V,this.outerIndex=K,this.index=0}_next(f){this.parent.notifyNext(this.outerValue,f,this.outerIndex,this.index++,this)}_error(f){this.parent.notifyError(f,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var E=l(135),M=l(5817);function S(D,f,V,K,ne=new b(D,V,K)){if(!ne.closed)return f instanceof M.c?f.subscribe(ne):(0,E.i)(f)(ne)}var u=l(4279);const I={};function k(...D){let f,V;return(0,t.m)(D[D.length-1])&&(V=D.pop()),"function"==typeof D[D.length-1]&&(f=D.pop()),1===D.length&&(0,n.c)(D[0])&&(D=D[0]),(0,u.c)(D,V).lift(new T(f))}class T{constructor(f){this.resultSelector=f}call(f,V){return V.subscribe(new w(f,this.resultSelector))}}class w extends v{constructor(f,V){super(f),this.resultSelector=V,this.active=0,this.values=[],this.observables=[]}_next(f){this.values.push(I),this.observables.push(f)}_complete(){const f=this.observables,V=f.length;if(0===V)this.destination.complete();else{this.active=V,this.toRespond=V;for(let K=0;K<V;K++)this.add(S(this,f[K],void 0,K))}}notifyComplete(f){0==(this.active-=1)&&this.destination.complete()}notifyNext(f,V,K){const ne=this.values,c=this.toRespond?ne[K]===I?--this.toRespond:this.toRespond:0;ne[K]=V,0===c&&(this.resultSelector?this._tryResultSelector(ne):this.destination.next(ne.slice()))}_tryResultSelector(f){let V;try{V=this.resultSelector.apply(this,f)}catch(K){return void this.destination.error(K)}this.destination.next(V)}}},1639:(jt,Se,l)=>{"use strict";l.d(Se,{x:()=>v});var t=l(4421),n=l(6201);function v(...b){return function p(){return(0,n.U)(1)}()((0,t.of)(...b))}},9418:(jt,Se,l)=>{"use strict";l.d(Se,{v:()=>v});var t=l(5817),n=l(4787),p=l(1235);function v(b){return new t.c(E=>{let M;try{M=b()}catch(u){return void E.error(u)}return(M?(0,n.H)(M):(0,p.I)()).subscribe(E)})}},4119:(jt,Se,l)=>{"use strict";l.d(Se,{K:()=>u});var t=l(5286),n=l(762),p=l(5817),v=l(4337),b=l(6607);const E={url:"",deserializer:I=>JSON.parse(I.data),serializer:I=>JSON.stringify(I)};class S extends t.kQ{constructor(k,T){if(super(),k instanceof p.c)this.destination=T,this.source=k;else{const w=this._config=Object.assign({},E);if(this._output=new t.B7,"string"==typeof k)w.url=k;else for(let D in k)k.hasOwnProperty(D)&&(w[D]=k[D]);if(!w.WebSocketCtor&&WebSocket)w.WebSocketCtor=WebSocket;else if(!w.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new b.m}}lift(k){const T=new S(this._config,this.destination);return T.operator=k,T.source=this,T}_resetState(){this._socket=null,this.source||(this.destination=new b.m),this._output=new t.B7}multiplex(k,T,w){const D=this;return new p.c(f=>{try{D.next(k())}catch(K){f.error(K)}const V=D.subscribe(K=>{try{w(K)&&f.next(K)}catch(ne){f.error(ne)}},K=>f.error(K),()=>f.complete());return()=>{try{D.next(T())}catch(K){f.error(K)}V.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:k,protocol:T,url:w,binaryType:D}=this._config,f=this._output;let V=null;try{V=T?new k(w,T):new k(w),this._socket=V,D&&(this._socket.binaryType=D)}catch(ne){return void f.error(ne)}const K=new v.y(()=>{this._socket=null,V&&1===V.readyState&&V.close()});V.onopen=ne=>{const{_socket:U}=this;if(!U)return V.close(),void this._resetState();const{openObserver:c}=this._config;c&&c.next(ne);const Z=this.destination;this.destination=n.v.create(F=>{if(1===V.readyState)try{const{serializer:J}=this._config;V.send(J(F))}catch(J){this.destination.error(J)}},F=>{const{closingObserver:J}=this._config;J&&J.next(void 0),F&&F.code?V.close(F.code,F.reason):f.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:F}=this._config;F&&F.next(void 0),V.close(),this._resetState()}),Z&&Z instanceof b.m&&K.add(Z.subscribe(this.destination))},V.onerror=ne=>{this._resetState(),f.error(ne)},V.onclose=ne=>{this._resetState();const{closeObserver:U}=this._config;U&&U.next(ne),ne.wasClean?f.complete():f.error(ne)},V.onmessage=ne=>{try{const{deserializer:U}=this._config;f.next(U(ne))}catch(U){f.error(U)}}}_subscribe(k){const{source:T}=this;return T?T.subscribe(k):(this._socket||this._connectSocket(),this._output.subscribe(k),k.add(()=>{const{_socket:w}=this;0===this._output.observers.length&&(w&&1===w.readyState&&w.close(),this._resetState())}),k)}unsubscribe(){const{_socket:k}=this;k&&1===k.readyState&&k.close(),this._resetState(),super.unsubscribe()}}function u(I){return new S(I)}},1235:(jt,Se,l)=>{"use strict";l.d(Se,{I:()=>p,w:()=>n});var t=l(5817);const n=new t.c(b=>b.complete());function p(b){return b?function v(b){return new t.c(E=>b.schedule(()=>E.complete()))}(b):n}},696:(jt,Se,l)=>{"use strict";l.d(Se,{p:()=>E});var t=l(5817),n=l(7354),p=l(5006),v=l(1456),b=l(4787);function E(...S){if(1===S.length){const u=S[0];if((0,n.c)(u))return M(u,null);if((0,v.G)(u)&&Object.getPrototypeOf(u)===Object.prototype){const I=Object.keys(u);return M(I.map(k=>u[k]),I)}}if("function"==typeof S[S.length-1]){const u=S.pop();return M(S=1===S.length&&(0,n.c)(S[0])?S[0]:S,null).pipe((0,p.T)(I=>u(...I)))}return M(S,null)}function M(S,u){return new t.c(I=>{const k=S.length;if(0===k)return void I.complete();const T=new Array(k);let w=0,D=0;for(let f=0;f<k;f++){const V=(0,b.H)(S[f]);let K=!1;I.add(V.subscribe({next:ne=>{K||(K=!0,D++),T[f]=ne},error:ne=>I.error(ne),complete:()=>{w++,(w===k||!K)&&(D===k&&I.next(u?u.reduce((ne,U,c)=>(ne[U]=T[c],ne),{}):T),I.complete())}}))}})}},4787:(jt,Se,l)=>{"use strict";l.d(Se,{H:()=>f});var t=l(5817),n=l(135),p=l(4337),v=l(5722),M=l(2496),S=l(7765),k=l(5998),T=l(5253);function f(V,K){return K?function D(V,K){if(null!=V){if(function I(V){return V&&"function"==typeof V[v.s]}(V))return function b(V,K){return new t.c(ne=>{const U=new p.y;return U.add(K.schedule(()=>{const c=V[v.s]();U.add(c.subscribe({next(Z){U.add(K.schedule(()=>ne.next(Z)))},error(Z){U.add(K.schedule(()=>ne.error(Z)))},complete(){U.add(K.schedule(()=>ne.complete()))}}))})),U})}(V,K);if((0,k.y)(V))return function E(V,K){return new t.c(ne=>{const U=new p.y;return U.add(K.schedule(()=>V.then(c=>{U.add(K.schedule(()=>{ne.next(c),U.add(K.schedule(()=>ne.complete()))}))},c=>{U.add(K.schedule(()=>ne.error(c)))}))),U})}(V,K);if((0,T.X)(V))return(0,M.V)(V,K);if(function w(V){return V&&"function"==typeof V[S.lJ]}(V)||"string"==typeof V)return function u(V,K){if(!V)throw new Error("Iterable cannot be null");return new t.c(ne=>{const U=new p.y;let c;return U.add(()=>{c&&"function"==typeof c.return&&c.return()}),U.add(K.schedule(()=>{c=V[S.lJ](),U.add(K.schedule(function(){if(ne.closed)return;let Z,F;try{const J=c.next();Z=J.value,F=J.done}catch(J){return void ne.error(J)}F?ne.complete():(ne.next(Z),this.schedule())}))})),U})}(V,K)}throw new TypeError((null!==V&&typeof V||V)+" is not observable")}(V,K):V instanceof t.c?V:new t.c((0,n.i)(V))}},4279:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>v});var t=l(5817),n=l(4385),p=l(2496);function v(b,E){return E?(0,p.V)(b,E):new t.c((0,n.v)(b))}},3586:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>E});var t=l(5817),n=l(7354),p=l(8099),v=l(5006);function E(k,T,w,D){return(0,p.T)(w)&&(D=w,w=void 0),D?E(k,T,w).pipe((0,v.T)(f=>(0,n.c)(f)?D(...f):D(f))):new t.c(f=>{M(k,T,function V(K){f.next(arguments.length>1?Array.prototype.slice.call(arguments):K)},f,w)})}function M(k,T,w,D,f){let V;if(function I(k){return k&&"function"==typeof k.addEventListener&&"function"==typeof k.removeEventListener}(k)){const K=k;k.addEventListener(T,w,f),V=()=>K.removeEventListener(T,w,f)}else if(function u(k){return k&&"function"==typeof k.on&&"function"==typeof k.off}(k)){const K=k;k.on(T,w),V=()=>K.off(T,w)}else if(function S(k){return k&&"function"==typeof k.addListener&&"function"==typeof k.removeListener}(k)){const K=k;k.addListener(T,w),V=()=>K.removeListener(T,w)}else{if(!k||!k.length)throw new TypeError("Invalid event target");for(let K=0,ne=k.length;K<ne;K++)M(k[K],T,w,D,f)}D.add(V)}},4670:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>b});var t=l(5817),n=l(2234),p=l(6201),v=l(4279);function b(...E){let M=Number.POSITIVE_INFINITY,S=null,u=E[E.length-1];return(0,n.m)(u)?(S=E.pop(),E.length>1&&"number"==typeof E[E.length-1]&&(M=E.pop())):"number"==typeof u&&(M=E.pop()),null===S&&1===E.length&&E[0]instanceof t.c?E[0]:(0,p.U)(M)((0,v.c)(E,S))}},4421:(jt,Se,l)=>{"use strict";l.d(Se,{of:()=>v});var t=l(2234),n=l(4279),p=l(2496);function v(...b){let E=b[b.length-1];return(0,t.m)(E)?(b.pop(),(0,p.V)(b,E)):(0,n.c)(b)}},4526:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>n});var t=l(5817);function n(v,b){return new t.c(b?E=>b.schedule(p,0,{error:v,subscriber:E}):E=>E.error(v))}function p({error:v,subscriber:b}){b.error(v)}},2170:(jt,Se,l)=>{"use strict";l.d(Se,{O:()=>E});var t=l(5817),n=l(1080),p=l(7354);function v(S){return!(0,p.c)(S)&&S-parseFloat(S)+1>=0}var b=l(2234);function E(S=0,u,I){let k=-1;return v(u)?k=Number(u)<1?1:Number(u):(0,b.m)(u)&&(I=u),(0,b.m)(I)||(I=n.b),new t.c(T=>{const w=v(S)?S:+S-I.now();return I.schedule(M,w,{index:0,period:k,subscriber:T})})}function M(S){const{index:u,period:I,subscriber:k}=S;if(k.next(u),!k.closed){if(-1===I)return k.complete();S.index=u+1,this.schedule(S,I)}}},3921:(jt,Se,l)=>{"use strict";l.d(Se,{W:()=>n});var t=l(3004);function n(b){return function(M){const S=new p(b),u=M.lift(S);return S.caught=u}}class p{constructor(E){this.selector=E}call(E,M){return M.subscribe(new v(E,this.selector,this.caught))}}class v extends t.gn{constructor(E,M,S){super(E),this.selector=M,this.caught=S}error(E){if(!this.isStopped){let M;try{M=this.selector(E,this.caught)}catch(I){return void super.error(I)}this._unsubscribeAndRecycle();const S=new t.zA(this);this.add(S);const u=(0,t.tS)(M,S);u!==S&&this.add(u)}}}},3574:(jt,Se,l)=>{"use strict";l.d(Se,{H:()=>n});var t=l(8456);function n(p,v){return(0,t.ZZ)(p,v,1)}},3020:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>p});var t=l(762),n=l(1080);function p(M,S=n.b){return u=>u.lift(new v(M,S))}class v{constructor(S,u){this.dueTime=S,this.scheduler=u}call(S,u){return u.subscribe(new b(S,this.dueTime,this.scheduler))}}class b extends t.v{constructor(S,u,I){super(S),this.dueTime=u,this.scheduler=I,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(S){this.clearDebounce(),this.lastValue=S,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(E,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:S}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(S)}}clearDebounce(){const S=this.debouncedSubscription;null!==S&&(this.remove(S),S.unsubscribe(),this.debouncedSubscription=null)}}function E(M){M.debouncedNext()}},7849:(jt,Se,l)=>{"use strict";l.d(Se,{U:()=>n});var t=l(762);function n(b=null){return E=>E.lift(new p(b))}class p{constructor(E){this.defaultValue=E}call(E,M){return M.subscribe(new v(E,this.defaultValue))}}class v extends t.v{constructor(E,M){super(E),this.defaultValue=M,this.isEmpty=!0}_next(E){this.isEmpty=!1,this.destination.next(E)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8002:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>b});var t=l(1080),p=l(762),v=l(2351);function b(u,I=t.b){const T=function n(u){return u instanceof Date&&!isNaN(+u)}(u)?+u-I.now():Math.abs(u);return w=>w.lift(new E(T,I))}class E{constructor(I,k){this.delay=I,this.scheduler=k}call(I,k){return k.subscribe(new M(I,this.delay,this.scheduler))}}class M extends p.v{constructor(I,k,T){super(I),this.delay=k,this.scheduler=T,this.queue=[],this.active=!1,this.errored=!1}static dispatch(I){const k=I.source,T=k.queue,w=I.scheduler,D=I.destination;for(;T.length>0&&T[0].time-w.now()<=0;)T.shift().notification.observe(D);if(T.length>0){const f=Math.max(0,T[0].time-w.now());this.schedule(I,f)}else this.unsubscribe(),k.active=!1}_schedule(I){this.active=!0,this.destination.add(I.schedule(M.dispatch,this.delay,{source:this,destination:this.destination,scheduler:I}))}scheduleNotification(I){if(!0===this.errored)return;const k=this.scheduler,T=new S(k.now()+this.delay,I);this.queue.push(T),!1===this.active&&this._schedule(k)}_next(I){this.scheduleNotification(v.E.createNext(I))}_error(I){this.errored=!0,this.queue=[],this.destination.error(I),this.unsubscribe()}_complete(){this.scheduleNotification(v.E.createComplete()),this.unsubscribe()}}class S{constructor(I,k){this.time=I,this.notification=k}}},522:(jt,Se,l)=>{"use strict";l.d(Se,{F:()=>n});var t=l(762);function n(b,E){return M=>M.lift(new p(b,E))}class p{constructor(E,M){this.compare=E,this.keySelector=M}call(E,M){return M.subscribe(new v(E,this.compare,this.keySelector))}}class v extends t.v{constructor(E,M,S){super(E),this.keySelector=S,this.hasKey=!1,"function"==typeof M&&(this.compare=M)}compare(E,M){return E===M}_next(E){let M;try{const{keySelector:u}=this;M=u?u(E):E}catch(u){return this.destination.error(u)}let S=!1;if(this.hasKey)try{const{compare:u}=this;S=u(this.key,M)}catch(u){return this.destination.error(u)}else this.hasKey=!0;S||(this.key=M,this.destination.next(E))}}},1713:(jt,Se,l)=>{"use strict";l.d(Se,{w:()=>n});var t=l(522);function n(p,v){return(0,t.F)((b,E)=>v?v(b[p],E[p]):b[p]===E[p])}},8728:(jt,Se,l)=>{"use strict";l.d(Se,{p:()=>n});var t=l(762);function n(b,E){return function(S){return S.lift(new p(b,E))}}class p{constructor(E,M){this.predicate=E,this.thisArg=M}call(E,M){return M.subscribe(new v(E,this.predicate,this.thisArg))}}class v extends t.v{constructor(E,M,S){super(E),this.predicate=M,this.thisArg=S,this.count=0}_next(E){let M;try{M=this.predicate.call(this.thisArg,E,this.count++)}catch(S){return void this.destination.error(S)}M&&this.destination.next(E)}}},7312:(jt,Se,l)=>{"use strict";l.d(Se,{j:()=>p});var t=l(762),n=l(4337);function p(E){return M=>M.lift(new v(E))}class v{constructor(M){this.callback=M}call(M,S){return S.subscribe(new b(M,this.callback))}}class b extends t.v{constructor(M,S){super(M),this.add(new n.y(S))}}},4046:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>M});var t=l(9994),n=l(8728),p=l(9493),v=l(7849),b=l(3314),E=l(5241);function M(S,u){const I=arguments.length>=2;return k=>k.pipe(S?(0,n.p)((T,w)=>S(T,w,k)):E.D,(0,p.s)(1),I?(0,v.U)(u):(0,b.v)(()=>new t.G))}},5006:(jt,Se,l)=>{"use strict";l.d(Se,{T:()=>n});var t=l(762);function n(b,E){return function(S){if("function"!=typeof b)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return S.lift(new p(b,E))}}class p{constructor(E,M){this.project=E,this.thisArg=M}call(E,M){return M.subscribe(new v(E,this.project,this.thisArg))}}class v extends t.v{constructor(E,M,S){super(E),this.project=M,this.count=0,this.thisArg=S||this}_next(E){let M;try{M=this.project.call(this.thisArg,E,this.count++)}catch(S){return void this.destination.error(S)}this.destination.next(M)}}},6201:(jt,Se,l)=>{"use strict";l.d(Se,{U:()=>p});var t=l(8456),n=l(5241);function p(v=Number.POSITIVE_INFINITY){return(0,t.ZZ)(n.D,v)}},8456:(jt,Se,l)=>{"use strict";l.d(Se,{ZZ:()=>v});var t=l(5006),n=l(4787),p=l(3004);function v(S,u,I=Number.POSITIVE_INFINITY){return"function"==typeof u?k=>k.pipe(v((T,w)=>(0,n.H)(S(T,w)).pipe((0,t.T)((D,f)=>u(T,D,w,f))),I)):("number"==typeof u&&(I=u),k=>k.lift(new b(S,I)))}class b{constructor(u,I=Number.POSITIVE_INFINITY){this.project=u,this.concurrent=I}call(u,I){return I.subscribe(new E(u,this.project,this.concurrent))}}class E extends p.gn{constructor(u,I,k=Number.POSITIVE_INFINITY){super(u),this.project=I,this.concurrent=k,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(u){this.active<this.concurrent?this._tryNext(u):this.buffer.push(u)}_tryNext(u){let I;const k=this.index++;try{I=this.project(u,k)}catch(T){return void this.destination.error(T)}this.active++,this._innerSub(I)}_innerSub(u){const I=new p.zA(this),k=this.destination;k.add(I);const T=(0,p.tS)(u,I);T!==I&&k.add(T)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(u){this.destination.next(u)}notifyComplete(){const u=this.buffer;this.active--,u.length>0?this._next(u.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3110:(jt,Se,l)=>{"use strict";l.d(Se,{B:()=>n});var t=l(762);function n(){return function(E){return E.lift(new p(E))}}class p{constructor(E){this.connectable=E}call(E,M){const{connectable:S}=this;S._refCount++;const u=new v(E,S),I=M.subscribe(u);return u.closed||(u.connection=S.connect()),I}}class v extends t.v{constructor(E,M){super(E),this.connectable=M}_unsubscribe(){const{connectable:E}=this;if(!E)return void(this.connection=null);this.connectable=null;const M=E._refCount;if(M<=0)return void(this.connection=null);if(E._refCount=M-1,M>1)return void(this.connection=null);const{connection:S}=this,u=E._connection;this.connection=null,u&&(!S||u===S)&&u.unsubscribe()}}},8712:(jt,Se,l)=>{"use strict";l.d(Se,{t:()=>n});var t=l(6607);function n(v,b,E){let M;return M=v&&"object"==typeof v?v:{bufferSize:v,windowTime:b,refCount:!1,scheduler:E},S=>S.lift(function p({bufferSize:v=Number.POSITIVE_INFINITY,windowTime:b=Number.POSITIVE_INFINITY,refCount:E,scheduler:M}){let S,I,u=0,k=!1,T=!1;return function(D){let f;u++,!S||k?(k=!1,S=new t.m(v,b,M),f=S.subscribe(this),I=D.subscribe({next(V){S.next(V)},error(V){k=!0,S.error(V)},complete(){T=!0,I=void 0,S.complete()}}),T&&(I=void 0)):f=S.subscribe(this),this.add(()=>{u--,f.unsubscribe(),f=void 0,I&&!T&&E&&0===u&&(I.unsubscribe(),I=void 0,S=void 0)})}}(M))}},7753:(jt,Se,l)=>{"use strict";l.d(Se,{i:()=>n});var t=l(762);function n(b){return E=>E.lift(new p(b))}class p{constructor(E){this.total=E}call(E,M){return M.subscribe(new v(E,this.total))}}class v extends t.v{constructor(E,M){super(E),this.total=M,this.count=0}_next(E){++this.count>this.total&&this.destination.next(E)}}},3176:(jt,Se,l)=>{"use strict";l.d(Se,{Z:()=>p});var t=l(1639),n=l(2234);function p(...v){const b=v[v.length-1];return(0,n.m)(b)?(v.pop(),E=>(0,t.x)(v,E,b)):E=>(0,t.x)(v,E)}},9090:(jt,Se,l)=>{"use strict";l.d(Se,{n:()=>v});var t=l(5006),n=l(4787),p=l(3004);function v(M,S){return"function"==typeof S?u=>u.pipe(v((I,k)=>(0,n.H)(M(I,k)).pipe((0,t.T)((T,w)=>S(I,T,k,w))))):u=>u.lift(new b(M))}class b{constructor(S){this.project=S}call(S,u){return u.subscribe(new E(S,this.project))}}class E extends p.gn{constructor(S,u){super(S),this.project=u,this.index=0}_next(S){let u;const I=this.index++;try{u=this.project(S,I)}catch(k){return void this.destination.error(k)}this._innerSub(u)}_innerSub(S){const u=this.innerSubscription;u&&u.unsubscribe();const I=new p.zA(this),k=this.destination;k.add(I),this.innerSubscription=(0,p.tS)(S,I),this.innerSubscription!==I&&k.add(this.innerSubscription)}_complete(){const{innerSubscription:S}=this;(!S||S.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(S){this.destination.next(S)}}},9493:(jt,Se,l)=>{"use strict";l.d(Se,{s:()=>v});var t=l(762),n=l(434),p=l(1235);function v(M){return S=>0===M?(0,p.I)():S.lift(new b(M))}class b{constructor(S){if(this.total=S,this.total<0)throw new n.k}call(S,u){return u.subscribe(new E(S,this.total))}}class E extends t.v{constructor(S,u){super(S),this.total=u,this.count=0}_next(S){const u=this.total,I=++this.count;I<=u&&(this.destination.next(S),I===u&&(this.destination.complete(),this.unsubscribe()))}}},7605:(jt,Se,l)=>{"use strict";l.d(Se,{Q:()=>n});var t=l(3004);function n(b){return E=>E.lift(new p(b))}class p{constructor(E){this.notifier=E}call(E,M){const S=new v(E),u=(0,t.tS)(this.notifier,new t.zA(S));return u&&!S.seenValue?(S.add(u),M.subscribe(S)):S}}class v extends t.gn{constructor(E){super(E),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},1604:(jt,Se,l)=>{"use strict";l.d(Se,{v:()=>n});var t=l(762);function n(b,E=!1){return M=>M.lift(new p(b,E))}class p{constructor(E,M){this.predicate=E,this.inclusive=M}call(E,M){return M.subscribe(new v(E,this.predicate,this.inclusive))}}class v extends t.v{constructor(E,M,S){super(E),this.predicate=M,this.inclusive=S,this.index=0}_next(E){const M=this.destination;let S;try{S=this.predicate(E,this.index++)}catch(u){return void M.error(u)}this.nextOrComplete(E,S)}nextOrComplete(E,M){const S=this.destination;M?S.next(E):(this.inclusive&&S.next(E),S.complete())}}},8841:(jt,Se,l)=>{"use strict";l.d(Se,{M:()=>v});var t=l(762),n=l(8803),p=l(8099);function v(M,S,u){return function(k){return k.lift(new b(M,S,u))}}class b{constructor(S,u,I){this.nextOrObserver=S,this.error=u,this.complete=I}call(S,u){return u.subscribe(new E(S,this.nextOrObserver,this.error,this.complete))}}class E extends t.v{constructor(S,u,I,k){super(S),this._tapNext=n.l,this._tapError=n.l,this._tapComplete=n.l,this._tapError=I||n.l,this._tapComplete=k||n.l,(0,p.T)(u)?(this._context=this,this._tapNext=u):u&&(this._context=u,this._tapNext=u.next||n.l,this._tapError=u.error||n.l,this._tapComplete=u.complete||n.l)}_next(S){try{this._tapNext.call(this._context,S)}catch(u){return void this.destination.error(u)}this.destination.next(S)}_error(S){try{this._tapError.call(this._context,S)}catch(u){return void this.destination.error(u)}this.destination.error(S)}_complete(){try{this._tapComplete.call(this._context)}catch(S){return void this.destination.error(S)}return this.destination.complete()}}},3314:(jt,Se,l)=>{"use strict";l.d(Se,{v:()=>p});var t=l(9994),n=l(762);function p(M=E){return S=>S.lift(new v(M))}class v{constructor(S){this.errorFactory=S}call(S,u){return u.subscribe(new b(S,this.errorFactory))}}class b extends n.v{constructor(S,u){super(S),this.errorFactory=u,this.hasValue=!1}_next(S){this.hasValue=!0,this.destination.next(S)}_complete(){if(this.hasValue)return this.destination.complete();{let S;try{S=this.errorFactory()}catch(u){S=u}this.destination.error(S)}}}function E(){return new t.G}},2496:(jt,Se,l)=>{"use strict";l.d(Se,{V:()=>p});var t=l(5817),n=l(4337);function p(v,b){return new t.c(E=>{const M=new n.y;let S=0;return M.add(b.schedule(function(){S!==v.length?(E.next(v[S++]),E.closed||M.add(this.schedule())):E.complete()})),M})}},8189:(jt,Se,l)=>{"use strict";l.d(Se,{R:()=>p});var t=l(4337);class n extends t.y{constructor(b,E){super()}schedule(b,E=0){return this}}class p extends n{constructor(b,E){super(b,E),this.scheduler=b,this.work=E,this.pending=!1}schedule(b,E=0){if(this.closed)return this;this.state=b;const M=this.id,S=this.scheduler;return null!=M&&(this.id=this.recycleAsyncId(S,M,E)),this.pending=!0,this.delay=E,this.id=this.id||this.requestAsyncId(S,this.id,E),this}requestAsyncId(b,E,M=0){return setInterval(b.flush.bind(b,this),M)}recycleAsyncId(b,E,M=0){if(null!==M&&this.delay===M&&!1===this.pending)return E;clearInterval(E)}execute(b,E){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const M=this._execute(b,E);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(b,E){let S,M=!1;try{this.work(b)}catch(u){M=!0,S=!!u&&u||new Error(u)}if(M)return this.unsubscribe(),S}_unsubscribe(){const b=this.id,E=this.scheduler,M=E.actions,S=M.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==S&&M.splice(S,1),null!=b&&(this.id=this.recycleAsyncId(E,b,null)),this.delay=null}}},6228:(jt,Se,l)=>{"use strict";l.d(Se,{q:()=>n});let t=(()=>{class p{constructor(b,E=p.now){this.SchedulerAction=b,this.now=E}schedule(b,E=0,M){return new this.SchedulerAction(this,b).schedule(M,E)}}return p.now=()=>Date.now(),p})();class n extends t{constructor(v,b=t.now){super(v,()=>n.delegate&&n.delegate!==this?n.delegate.now():b()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(v,b=0,E){return n.delegate&&n.delegate!==this?n.delegate.schedule(v,b,E):super.schedule(v,b,E)}flush(v){const{actions:b}=this;if(this.active)return void b.push(v);let E;this.active=!0;do{if(E=v.execute(v.state,v.delay))break}while(v=b.shift());if(this.active=!1,E){for(;v=b.shift();)v.unsubscribe();throw E}}}},5516:(jt,Se,l)=>{"use strict";l.d(Se,{$:()=>k});let t=1;const n=Promise.resolve(),p={};function v(w){return w in p&&(delete p[w],!0)}const b={setImmediate(w){const D=t++;return p[D]=!0,n.then(()=>v(D)&&w()),D},clearImmediate(w){v(w)}};var M=l(8189),u=l(6228);const k=new class I extends u.q{flush(D){this.active=!0,this.scheduled=void 0;const{actions:f}=this;let V,K=-1,ne=f.length;D=D||f.shift();do{if(V=D.execute(D.state,D.delay))break}while(++K<ne&&(D=f.shift()));if(this.active=!1,V){for(;++K<ne&&(D=f.shift());)D.unsubscribe();throw V}}}(class S extends M.R{constructor(D,f){super(D,f),this.scheduler=D,this.work=f}requestAsyncId(D,f,V=0){return null!==V&&V>0?super.requestAsyncId(D,f,V):(D.actions.push(this),D.scheduled||(D.scheduled=b.setImmediate(D.flush.bind(D,null))))}recycleAsyncId(D,f,V=0){if(null!==V&&V>0||null===V&&this.delay>0)return super.recycleAsyncId(D,f,V);0===D.actions.length&&(b.clearImmediate(f),D.scheduled=void 0)}})},1080:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>v});var t=l(8189);const v=new(l(6228).q)(t.R)},7765:(jt,Se,l)=>{"use strict";l.d(Se,{lJ:()=>n});const n=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5722:(jt,Se,l)=>{"use strict";l.d(Se,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},91:(jt,Se,l)=>{"use strict";l.d(Se,{D:()=>t});const t="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},434:(jt,Se,l)=>{"use strict";l.d(Se,{k:()=>n});const n=(()=>{function p(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return p.prototype=Object.create(Error.prototype),p})()},9994:(jt,Se,l)=>{"use strict";l.d(Se,{G:()=>n});const n=(()=>{function p(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return p.prototype=Object.create(Error.prototype),p})()},2145:(jt,Se,l)=>{"use strict";l.d(Se,{P:()=>n});const n=(()=>{function p(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return p.prototype=Object.create(Error.prototype),p})()},8253:(jt,Se,l)=>{"use strict";function t(n){setTimeout(()=>{throw n},0)}l.d(Se,{T:()=>t})},5241:(jt,Se,l)=>{"use strict";function t(n){return n}l.d(Se,{D:()=>t})},7354:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>t});const t=Array.isArray||(n=>n&&"number"==typeof n.length)},5253:(jt,Se,l)=>{"use strict";l.d(Se,{X:()=>t});const t=n=>n&&"number"==typeof n.length&&"function"!=typeof n},8099:(jt,Se,l)=>{"use strict";function t(n){return"function"==typeof n}l.d(Se,{T:()=>t})},1456:(jt,Se,l)=>{"use strict";function t(n){return null!==n&&"object"==typeof n}l.d(Se,{G:()=>t})},8982:(jt,Se,l)=>{"use strict";l.d(Se,{A:()=>n});var t=l(5817);function n(p){return!!p&&(p instanceof t.c||"function"==typeof p.lift&&"function"==typeof p.subscribe)}},5998:(jt,Se,l)=>{"use strict";function t(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}l.d(Se,{y:()=>t})},2234:(jt,Se,l)=>{"use strict";function t(n){return n&&"function"==typeof n.schedule}l.d(Se,{m:()=>t})},8803:(jt,Se,l)=>{"use strict";function t(){}l.d(Se,{l:()=>t})},8167:(jt,Se,l)=>{"use strict";l.d(Se,{F:()=>n,m:()=>p});var t=l(5241);function n(...v){return p(v)}function p(v){return 0===v.length?t.D:1===v.length?v[0]:function(E){return v.reduce((M,S)=>S(M),E)}}},135:(jt,Se,l)=>{"use strict";l.d(Se,{i:()=>k});var t=l(4385),n=l(8253),v=l(7765),E=l(5722),S=l(5253),u=l(5998),I=l(1456);const k=T=>{if(T&&"function"==typeof T[E.s])return(T=>w=>{const D=T[E.s]();if("function"!=typeof D.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return D.subscribe(w)})(T);if((0,S.X)(T))return(0,t.v)(T);if((0,u.y)(T))return(T=>w=>(T.then(D=>{w.closed||(w.next(D),w.complete())},D=>w.error(D)).then(null,n.T),w))(T);if(T&&"function"==typeof T[v.lJ])return(T=>w=>{const D=T[v.lJ]();for(;;){let f;try{f=D.next()}catch(V){return w.error(V),w}if(f.done){w.complete();break}if(w.next(f.value),w.closed)break}return"function"==typeof D.return&&w.add(()=>{D.return&&D.return()}),w})(T);{const D=`You provided ${(0,I.G)(T)?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(D)}}},4385:(jt,Se,l)=>{"use strict";l.d(Se,{v:()=>t});const t=n=>p=>{for(let v=0,b=n.length;v<b&&!p.closed;v++)p.next(n[v]);p.complete()}},416:(jt,Se,l)=>{"use strict";l.d(Se,{VV:()=>t,LL:()=>p});class t{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(b,E=!1){return this.onePassHasher.start().appendStr(b).end(E)}static hashAsciiStr(b,E=!1){return this.onePassHasher.start().appendAsciiStr(b).end(E)}static _hex(b){const E=t.hexChars,M=t.hexOut;let S,u,I,k;for(k=0;k<4;k+=1)for(u=8*k,S=b[k],I=0;I<8;I+=2)M[u+1+I]=E.charAt(15&S),S>>>=4,M[u+0+I]=E.charAt(15&S),S>>>=4;return M.join("")}static _md5cycle(b,E){let M=b[0],S=b[1],u=b[2],I=b[3];M+=(S&u|~S&I)+E[0]-680876936|0,M=(M<<7|M>>>25)+S|0,I+=(M&S|~M&u)+E[1]-389564586|0,I=(I<<12|I>>>20)+M|0,u+=(I&M|~I&S)+E[2]+606105819|0,u=(u<<17|u>>>15)+I|0,S+=(u&I|~u&M)+E[3]-1044525330|0,S=(S<<22|S>>>10)+u|0,M+=(S&u|~S&I)+E[4]-176418897|0,M=(M<<7|M>>>25)+S|0,I+=(M&S|~M&u)+E[5]+1200080426|0,I=(I<<12|I>>>20)+M|0,u+=(I&M|~I&S)+E[6]-1473231341|0,u=(u<<17|u>>>15)+I|0,S+=(u&I|~u&M)+E[7]-45705983|0,S=(S<<22|S>>>10)+u|0,M+=(S&u|~S&I)+E[8]+1770035416|0,M=(M<<7|M>>>25)+S|0,I+=(M&S|~M&u)+E[9]-1958414417|0,I=(I<<12|I>>>20)+M|0,u+=(I&M|~I&S)+E[10]-42063|0,u=(u<<17|u>>>15)+I|0,S+=(u&I|~u&M)+E[11]-1990404162|0,S=(S<<22|S>>>10)+u|0,M+=(S&u|~S&I)+E[12]+1804603682|0,M=(M<<7|M>>>25)+S|0,I+=(M&S|~M&u)+E[13]-40341101|0,I=(I<<12|I>>>20)+M|0,u+=(I&M|~I&S)+E[14]-1502002290|0,u=(u<<17|u>>>15)+I|0,S+=(u&I|~u&M)+E[15]+1236535329|0,S=(S<<22|S>>>10)+u|0,M+=(S&I|u&~I)+E[1]-165796510|0,M=(M<<5|M>>>27)+S|0,I+=(M&u|S&~u)+E[6]-1069501632|0,I=(I<<9|I>>>23)+M|0,u+=(I&S|M&~S)+E[11]+643717713|0,u=(u<<14|u>>>18)+I|0,S+=(u&M|I&~M)+E[0]-373897302|0,S=(S<<20|S>>>12)+u|0,M+=(S&I|u&~I)+E[5]-701558691|0,M=(M<<5|M>>>27)+S|0,I+=(M&u|S&~u)+E[10]+38016083|0,I=(I<<9|I>>>23)+M|0,u+=(I&S|M&~S)+E[15]-660478335|0,u=(u<<14|u>>>18)+I|0,S+=(u&M|I&~M)+E[4]-405537848|0,S=(S<<20|S>>>12)+u|0,M+=(S&I|u&~I)+E[9]+568446438|0,M=(M<<5|M>>>27)+S|0,I+=(M&u|S&~u)+E[14]-1019803690|0,I=(I<<9|I>>>23)+M|0,u+=(I&S|M&~S)+E[3]-187363961|0,u=(u<<14|u>>>18)+I|0,S+=(u&M|I&~M)+E[8]+1163531501|0,S=(S<<20|S>>>12)+u|0,M+=(S&I|u&~I)+E[13]-1444681467|0,M=(M<<5|M>>>27)+S|0,I+=(M&u|S&~u)+E[2]-51403784|0,I=(I<<9|I>>>23)+M|0,u+=(I&S|M&~S)+E[7]+1735328473|0,u=(u<<14|u>>>18)+I|0,S+=(u&M|I&~M)+E[12]-1926607734|0,S=(S<<20|S>>>12)+u|0,M+=(S^u^I)+E[5]-378558|0,M=(M<<4|M>>>28)+S|0,I+=(M^S^u)+E[8]-2022574463|0,I=(I<<11|I>>>21)+M|0,u+=(I^M^S)+E[11]+1839030562|0,u=(u<<16|u>>>16)+I|0,S+=(u^I^M)+E[14]-35309556|0,S=(S<<23|S>>>9)+u|0,M+=(S^u^I)+E[1]-1530992060|0,M=(M<<4|M>>>28)+S|0,I+=(M^S^u)+E[4]+1272893353|0,I=(I<<11|I>>>21)+M|0,u+=(I^M^S)+E[7]-155497632|0,u=(u<<16|u>>>16)+I|0,S+=(u^I^M)+E[10]-1094730640|0,S=(S<<23|S>>>9)+u|0,M+=(S^u^I)+E[13]+681279174|0,M=(M<<4|M>>>28)+S|0,I+=(M^S^u)+E[0]-358537222|0,I=(I<<11|I>>>21)+M|0,u+=(I^M^S)+E[3]-722521979|0,u=(u<<16|u>>>16)+I|0,S+=(u^I^M)+E[6]+76029189|0,S=(S<<23|S>>>9)+u|0,M+=(S^u^I)+E[9]-640364487|0,M=(M<<4|M>>>28)+S|0,I+=(M^S^u)+E[12]-421815835|0,I=(I<<11|I>>>21)+M|0,u+=(I^M^S)+E[15]+530742520|0,u=(u<<16|u>>>16)+I|0,S+=(u^I^M)+E[2]-995338651|0,S=(S<<23|S>>>9)+u|0,M+=(u^(S|~I))+E[0]-198630844|0,M=(M<<6|M>>>26)+S|0,I+=(S^(M|~u))+E[7]+1126891415|0,I=(I<<10|I>>>22)+M|0,u+=(M^(I|~S))+E[14]-1416354905|0,u=(u<<15|u>>>17)+I|0,S+=(I^(u|~M))+E[5]-57434055|0,S=(S<<21|S>>>11)+u|0,M+=(u^(S|~I))+E[12]+1700485571|0,M=(M<<6|M>>>26)+S|0,I+=(S^(M|~u))+E[3]-1894986606|0,I=(I<<10|I>>>22)+M|0,u+=(M^(I|~S))+E[10]-1051523|0,u=(u<<15|u>>>17)+I|0,S+=(I^(u|~M))+E[1]-2054922799|0,S=(S<<21|S>>>11)+u|0,M+=(u^(S|~I))+E[8]+1873313359|0,M=(M<<6|M>>>26)+S|0,I+=(S^(M|~u))+E[15]-30611744|0,I=(I<<10|I>>>22)+M|0,u+=(M^(I|~S))+E[6]-1560198380|0,u=(u<<15|u>>>17)+I|0,S+=(I^(u|~M))+E[13]+1309151649|0,S=(S<<21|S>>>11)+u|0,M+=(u^(S|~I))+E[4]-145523070|0,M=(M<<6|M>>>26)+S|0,I+=(S^(M|~u))+E[11]-1120210379|0,I=(I<<10|I>>>22)+M|0,u+=(M^(I|~S))+E[2]+718787259|0,u=(u<<15|u>>>17)+I|0,S+=(I^(u|~M))+E[9]-343485551|0,S=(S<<21|S>>>11)+u|0,b[0]=M+b[0]|0,b[1]=S+b[1]|0,b[2]=u+b[2]|0,b[3]=I+b[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this}appendStr(b){const E=this._buffer8,M=this._buffer32;let u,I,S=this._bufferLength;for(I=0;I<b.length;I+=1){if(u=b.charCodeAt(I),u<128)E[S++]=u;else if(u<2048)E[S++]=192+(u>>>6),E[S++]=63&u|128;else if(u<55296||u>56319)E[S++]=224+(u>>>12),E[S++]=u>>>6&63|128,E[S++]=63&u|128;else{if(u=1024*(u-55296)+(b.charCodeAt(++I)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");E[S++]=240+(u>>>18),E[S++]=u>>>12&63|128,E[S++]=u>>>6&63|128,E[S++]=63&u|128}S>=64&&(this._dataLength+=64,t._md5cycle(this._state,M),S-=64,M[0]=M[16])}return this._bufferLength=S,this}appendAsciiStr(b){const E=this._buffer8,M=this._buffer32;let u,S=this._bufferLength,I=0;for(;;){for(u=Math.min(b.length-I,64-S);u--;)E[S++]=b.charCodeAt(I++);if(S<64)break;this._dataLength+=64,t._md5cycle(this._state,M),S=0}return this._bufferLength=S,this}appendByteArray(b){const E=this._buffer8,M=this._buffer32;let u,S=this._bufferLength,I=0;for(;;){for(u=Math.min(b.length-I,64-S);u--;)E[S++]=b[I++];if(S<64)break;this._dataLength+=64,t._md5cycle(this._state,M),S=0}return this._bufferLength=S,this}getState(){const b=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[b[0],b[1],b[2],b[3]]}}setState(b){const E=b.buffer,M=b.state,S=this._state;let u;for(this._dataLength=b.length,this._bufferLength=b.buflen,S[0]=M[0],S[1]=M[1],S[2]=M[2],S[3]=M[3],u=0;u<E.length;u+=1)this._buffer8[u]=E.charCodeAt(u)}end(b=!1){const E=this._bufferLength,M=this._buffer8,S=this._buffer32,u=1+(E>>2);this._dataLength+=E;const I=8*this._dataLength;if(M[E]=128,M[E+1]=M[E+2]=M[E+3]=0,S.set(t.buffer32Identity.subarray(u),u),E>55&&(t._md5cycle(this._state,S),S.set(t.buffer32Identity)),I<=4294967295)S[14]=I;else{const k=I.toString(16).match(/(.*?)(.{0,8})$/);if(null===k)return;const T=parseInt(k[2],16),w=parseInt(k[1],16)||0;S[14]=T,S[15]=w}return t._md5cycle(this._state,S),b?this._state:t._hex(this._state)}}if(t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,"5d41402abc4b2a76b9719d911017c592"!==t.hashStr("hello"))throw new Error("Md5 self test failed.");class p{constructor(b,E){this._queue=[],this._ready=!0;const M=this;Worker?(M._hashWorker=new Worker(b,E),M._hashWorker.onmessage=M._recievedMessage.bind(M),M._hashWorker.onerror=S=>{M._ready=!1,console.error("Hash worker failure",S)}):(M._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(b){const E=this;let M;return M=new Promise((S,u)=>{E._queue.push({blob:b,resolve:S,reject:u}),E._processNext()}),M}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(b){var E,M;const S=b.data;S.success?null===(E=this._processing)||void 0===E||E.resolve(S.result):null===(M=this._processing)||void 0===M||M.reject(S.result),this._processing=void 0,this._processNext()}}},9969:(jt,Se,l)=>{"use strict";l.d(Se,{FX:()=>$,If:()=>t,K2:()=>E,MA:()=>T,Os:()=>b,P:()=>D,hZ:()=>p,i0:()=>v,i7:()=>u,iF:()=>M,kY:()=>I,kp:()=>n,sf:()=>z,ui:()=>X,wk:()=>S});var t=function(te){return te[te.State=0]="State",te[te.Transition=1]="Transition",te[te.Sequence=2]="Sequence",te[te.Group=3]="Group",te[te.Animate=4]="Animate",te[te.Keyframes=5]="Keyframes",te[te.Style=6]="Style",te[te.Trigger=7]="Trigger",te[te.Reference=8]="Reference",te[te.AnimateChild=9]="AnimateChild",te[te.AnimateRef=10]="AnimateRef",te[te.Query=11]="Query",te[te.Stagger=12]="Stagger",te}(t||{});const n="*";function p(te,G){return{type:t.Trigger,name:te,definitions:G,options:{}}}function v(te,G=null){return{type:t.Animate,styles:G,timings:te}}function b(te,G=null){return{type:t.Group,steps:te,options:G}}function E(te,G=null){return{type:t.Sequence,steps:te,options:G}}function M(te){return{type:t.Style,styles:te,offset:null}}function S(te,G,oe){return{type:t.State,name:te,styles:G,options:oe}}function u(te){return{type:t.Keyframes,steps:te}}function I(te,G,oe=null){return{type:t.Transition,expr:te,animation:G,options:oe}}function T(te=null){return{type:t.AnimateChild,options:te}}function D(te,G,oe=null){return{type:t.Query,selector:te,animation:G,options:oe}}class z{constructor(G=0,oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=G+oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}onStart(G){this._originalOnStartFns.push(G),this._onStartFns.push(G)}onDone(G){this._originalOnDoneFns.push(G),this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(G=>G()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(G){this._position=this.totalTime?G*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(G){const oe="start"==G?this._onStartFns:this._onDoneFns;oe.forEach(ce=>ce()),oe.length=0}}class X{constructor(G){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=G;let oe=0,ce=0,le=0;const ve=this.players.length;0==ve?queueMicrotask(()=>this._onFinish()):this.players.forEach(Q=>{Q.onDone(()=>{++oe==ve&&this._onFinish()}),Q.onDestroy(()=>{++ce==ve&&this._onDestroy()}),Q.onStart(()=>{++le==ve&&this._onStart()})}),this.totalTime=this.players.reduce((Q,R)=>Math.max(Q,R.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}init(){this.players.forEach(G=>G.init())}onStart(G){this._onStartFns.push(G)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(G=>G()),this._onStartFns=[])}onDone(G){this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(G=>G.play())}pause(){this.players.forEach(G=>G.pause())}restart(){this.players.forEach(G=>G.restart())}finish(){this._onFinish(),this.players.forEach(G=>G.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(G=>G.destroy()),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this.players.forEach(G=>G.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(G){const oe=G*this.totalTime;this.players.forEach(ce=>{const le=ce.totalTime?Math.min(1,oe/ce.totalTime):1;ce.setPosition(le)})}getPosition(){const G=this.players.reduce((oe,ce)=>null===oe||ce.totalTime>oe.totalTime?ce:oe,null);return null!=G?G.getPosition():0}beforeDestroy(){this.players.forEach(G=>{G.beforeDestroy&&G.beforeDestroy()})}triggerCallback(G){const oe="start"==G?this._onStartFns:this._onDoneFns;oe.forEach(ce=>ce()),oe.length=0}}const $="!"},9888:(jt,Se,l)=>{"use strict";l.d(Se,{Pd:()=>it,Au:()=>H,vr:()=>ce,vR:()=>qt,kB:()=>ie,Bu:()=>fe,FN:()=>kt,GX:()=>Me,Q_:()=>Re,Z7:()=>we,Ai:()=>hi,px:()=>J,_G:()=>Pt,w6:()=>dn,Ae:()=>z});var t=l(177),n=l(3953),p=l(6860),v=l(5286),b=l(4337),M=(l(8982),l(4421)),S=l(9928),u=l(7336),I=l(8841),k=l(3020),T=l(8728),w=l(5006),f=(l(9493),l(7753)),V=l(522),K=l(7605),U=l(2318),c=l(4085),Z=l(9327);const F=" ";function J(We,ht,He){const Ke=X(We,ht);He=He.trim(),!Ke.some(Kt=>Kt.trim()===He)&&(Ke.push(He),We.setAttribute(ht,Ke.join(F)))}function z(We,ht,He){const Ke=X(We,ht);He=He.trim();const Kt=Ke.filter(gt=>gt!==He);Kt.length?We.setAttribute(ht,Kt.join(F)):We.removeAttribute(ht)}function X(We,ht){return We.getAttribute(ht)?.match(/\S+/g)??[]}const te="cdk-describedby-message",G="cdk-describedby-host";let oe=0,ce=(()=>{class We{constructor(He,Ke){this._platform=Ke,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+oe++,this._document=He,this._id=(0,n.WQX)(n.sZ2)+"-"+oe++}describe(He,Ke,Kt){if(!this._canBeDescribed(He,Ke))return;const gt=le(Ke,Kt);"string"!=typeof Ke?(ve(Ke,this._id),this._messageRegistry.set(gt,{messageElement:Ke,referenceCount:0})):this._messageRegistry.has(gt)||this._createMessageElement(Ke,Kt),this._isElementDescribedByMessage(He,gt)||this._addMessageReference(He,gt)}removeDescription(He,Ke,Kt){if(!Ke||!this._isElementNode(He))return;const gt=le(Ke,Kt);if(this._isElementDescribedByMessage(He,gt)&&this._removeMessageReference(He,gt),"string"==typeof Ke){const Ct=this._messageRegistry.get(gt);Ct&&0===Ct.referenceCount&&this._deleteMessageElement(gt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const He=this._document.querySelectorAll(`[${G}="${this._id}"]`);for(let Ke=0;Ke<He.length;Ke++)this._removeCdkDescribedByReferenceIds(He[Ke]),He[Ke].removeAttribute(G);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(He,Ke){const Kt=this._document.createElement("div");ve(Kt,this._id),Kt.textContent=He,Ke&&Kt.setAttribute("role",Ke),this._createMessagesContainer(),this._messagesContainer.appendChild(Kt),this._messageRegistry.set(le(He,Ke),{messageElement:Kt,referenceCount:0})}_deleteMessageElement(He){this._messageRegistry.get(He)?.messageElement?.remove(),this._messageRegistry.delete(He)}_createMessagesContainer(){if(this._messagesContainer)return;const He="cdk-describedby-message-container",Ke=this._document.querySelectorAll(`.${He}[platform="server"]`);for(let gt=0;gt<Ke.length;gt++)Ke[gt].remove();const Kt=this._document.createElement("div");Kt.style.visibility="hidden",Kt.classList.add(He),Kt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Kt.setAttribute("platform","server"),this._document.body.appendChild(Kt),this._messagesContainer=Kt}_removeCdkDescribedByReferenceIds(He){const Ke=X(He,"aria-describedby").filter(Kt=>0!=Kt.indexOf(te));He.setAttribute("aria-describedby",Ke.join(" "))}_addMessageReference(He,Ke){const Kt=this._messageRegistry.get(Ke);J(He,"aria-describedby",Kt.messageElement.id),He.setAttribute(G,this._id),Kt.referenceCount++}_removeMessageReference(He,Ke){const Kt=this._messageRegistry.get(Ke);Kt.referenceCount--,z(He,"aria-describedby",Kt.messageElement.id),He.removeAttribute(G)}_isElementDescribedByMessage(He,Ke){const Kt=X(He,"aria-describedby"),gt=this._messageRegistry.get(Ke),Ct=gt&&gt.messageElement.id;return!!Ct&&-1!=Kt.indexOf(Ct)}_canBeDescribed(He,Ke){if(!this._isElementNode(He))return!1;if(Ke&&"object"==typeof Ke)return!0;const Kt=null==Ke?"":`${Ke}`.trim(),gt=He.getAttribute("aria-label");return!(!Kt||gt&&gt.trim()===Kt)}_isElementNode(He){return He.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(t.qQ),n.KVO(p.OD))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function le(We,ht){return"string"==typeof We?`${ht||""}/${We}`:We}function ve(We,ht){We.id||(We.id=`${te}-${ht}-${oe++}`)}class R{constructor(ht,He){this._letterKeyStream=new v.B7,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new v.B7,this.selectedItem=this._selectedItem;const Ke="number"==typeof He?.debounceInterval?He.debounceInterval:200;He?.skipPredicate&&(this._skipPredicateFn=He.skipPredicate),this.setItems(ht),this._setupKeyHandler(Ke)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(ht){this._selectedItemIndex=ht}setItems(ht){this._items=ht}handleKey(ht){const He=ht.keyCode;ht.key&&1===ht.key.length?this._letterKeyStream.next(ht.key.toLocaleUpperCase()):(He>=u.A&&He<=u.Z||He>=u.f2&&He<=u.bn)&&this._letterKeyStream.next(String.fromCharCode(He))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(ht){this._letterKeyStream.pipe((0,I.M)(He=>this._pressedLetters.push(He)),(0,k.B)(ht),(0,T.p)(()=>this._pressedLetters.length>0),(0,w.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(He=>{for(let Ke=1;Ke<this._items.length+1;Ke++){const gt=this._items[(this._selectedItemIndex+Ke)%this._items.length];if(!this._skipPredicateFn?.(gt)&&0===gt.getLabel?.().toLocaleUpperCase().trim().indexOf(He)){this._selectedItem.next(gt);break}}this._pressedLetters=[]})}}class L{constructor(ht,He){this._items=ht,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=b.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ke=>Ke.disabled,this.tabOut=new v.B7,this.change=new v.B7,ht instanceof n.rOR?this._itemChangesSubscription=ht.changes.subscribe(Ke=>this._itemsChanged(Ke.toArray())):(0,n.Hps)(ht)&&(this._effectRef=(0,n.QZP)(()=>this._itemsChanged(ht()),{injector:He}))}skipPredicate(ht){return this._skipPredicateFn=ht,this}withWrap(ht=!0){return this._wrap=ht,this}withVerticalOrientation(ht=!0){return this._vertical=ht,this}withHorizontalOrientation(ht){return this._horizontal=ht,this}withAllowedModifierKeys(ht){return this._allowedModifierKeys=ht,this}withTypeAhead(ht=200){this._typeaheadSubscription.unsubscribe();const He=this._getItemsArray();return this._typeahead=new R(He,{debounceInterval:"number"==typeof ht?ht:void 0,skipPredicate:Ke=>this._skipPredicateFn(Ke)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Ke=>{this.setActiveItem(Ke)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(ht=!0){return this._homeAndEnd=ht,this}withPageUpDown(ht=!0,He=10){return this._pageUpAndDown={enabled:ht,delta:He},this}setActiveItem(ht){const He=this._activeItem;this.updateActiveItem(ht),this._activeItem!==He&&this.change.next(this._activeItemIndex)}onKeydown(ht){const He=ht.keyCode,Kt=["altKey","ctrlKey","metaKey","shiftKey"].every(gt=>!ht[gt]||this._allowedModifierKeys.indexOf(gt)>-1);switch(He){case u.wn:return void this.tabOut.next();case u.n6:if(this._vertical&&Kt){this.setNextItemActive();break}return;case u.i7:if(this._vertical&&Kt){this.setPreviousItemActive();break}return;case u.LE:if(this._horizontal&&Kt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case u.UQ:if(this._horizontal&&Kt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case u.yZ:if(this._homeAndEnd&&Kt){this.setFirstItemActive();break}return;case u.Kp:if(this._homeAndEnd&&Kt){this.setLastItemActive();break}return;case u.w_:if(this._pageUpAndDown.enabled&&Kt){const gt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(gt>0?gt:0,1);break}return;case u.dB:if(this._pageUpAndDown.enabled&&Kt){const gt=this._activeItemIndex+this._pageUpAndDown.delta,Ct=this._getItemsArray().length;this._setActiveItemByIndex(gt<Ct?gt:Ct-1,-1);break}return;default:return void((Kt||(0,u.rp)(ht,"shiftKey"))&&this._typeahead?.handleKey(ht))}this._typeahead?.reset(),ht.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ht){const He=this._getItemsArray(),Ke="number"==typeof ht?ht:He.indexOf(ht);this._activeItem=He[Ke]??null,this._activeItemIndex=Ke,this._typeahead?.setCurrentSelectedItemIndex(Ke)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(ht){this._wrap?this._setActiveInWrapMode(ht):this._setActiveInDefaultMode(ht)}_setActiveInWrapMode(ht){const He=this._getItemsArray();for(let Ke=1;Ke<=He.length;Ke++){const Kt=(this._activeItemIndex+ht*Ke+He.length)%He.length;if(!this._skipPredicateFn(He[Kt]))return void this.setActiveItem(Kt)}}_setActiveInDefaultMode(ht){this._setActiveItemByIndex(this._activeItemIndex+ht,ht)}_setActiveItemByIndex(ht,He){const Ke=this._getItemsArray();if(Ke[ht]){for(;this._skipPredicateFn(Ke[ht]);)if(!Ke[ht+=He])return;this.setActiveItem(ht)}}_getItemsArray(){return(0,n.Hps)(this._items)?this._items():this._items instanceof n.rOR?this._items.toArray():this._items}_itemsChanged(ht){if(this._typeahead?.setItems(ht),this._activeItem){const He=ht.indexOf(this._activeItem);He>-1&&He!==this._activeItemIndex&&(this._activeItemIndex=He,this._typeahead?.setCurrentSelectedItemIndex(He))}}}class H extends L{setActiveItem(ht){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ht),this.activeItem&&this.activeItem.setActiveStyles()}}class fe extends L{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ht){return this._origin=ht,this}setActiveItem(ht){super.setActiveItem(ht),this.activeItem&&this.activeItem.focus(this._origin)}}let we=(()=>{class We{constructor(He){this._platform=He}isDisabled(He){return He.hasAttribute("disabled")}isVisible(He){return function de(We){return!!(We.offsetWidth||We.offsetHeight||"function"==typeof We.getClientRects&&We.getClientRects().length)}(He)&&"visible"===getComputedStyle(He).visibility}isTabbable(He){if(!this._platform.isBrowser)return!1;const Ke=function _e(We){try{return We.frameElement}catch{return null}}(function Ft(We){return We.ownerDocument&&We.ownerDocument.defaultView||window}(He));if(Ke&&(-1===Mn(Ke)||!this.isVisible(Ke)))return!1;let Kt=He.nodeName.toLowerCase(),gt=Mn(He);return He.hasAttribute("contenteditable")?-1!==gt:!("iframe"===Kt||"object"===Kt||this._platform.WEBKIT&&this._platform.IOS&&!function Bn(We){let ht=We.nodeName.toLowerCase(),He="input"===ht&&We.type;return"text"===He||"password"===He||"select"===ht||"textarea"===ht}(He))&&("audio"===Kt?!!He.hasAttribute("controls")&&-1!==gt:"video"===Kt?-1!==gt&&(null!==gt||this._platform.FIREFOX||He.hasAttribute("controls")):He.tabIndex>=0)}isFocusable(He,Ke){return function Jt(We){return!function Pe(We){return function tt(We){return"input"==We.nodeName.toLowerCase()}(We)&&"hidden"==We.type}(We)&&(function Te(We){let ht=We.nodeName.toLowerCase();return"input"===ht||"select"===ht||"button"===ht||"textarea"===ht}(We)||function St(We){return function wt(We){return"a"==We.nodeName.toLowerCase()}(We)&&We.hasAttribute("href")}(We)||We.hasAttribute("contenteditable")||ln(We))}(He)&&!this.isDisabled(He)&&(Ke?.ignoreVisibility||this.isVisible(He))}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(p.OD))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function ln(We){if(!We.hasAttribute("tabindex")||void 0===We.tabIndex)return!1;let ht=We.getAttribute("tabindex");return!(!ht||isNaN(parseInt(ht,10)))}function Mn(We){if(!ln(We))return null;const ht=parseInt(We.getAttribute("tabindex")||"",10);return isNaN(ht)?-1:ht}class W{get enabled(){return this._enabled}set enabled(ht){this._enabled=ht,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ht,this._startAnchor),this._toggleAnchorTabIndex(ht,this._endAnchor))}constructor(ht,He,Ke,Kt,gt=!1,Ct){this._element=ht,this._checker=He,this._ngZone=Ke,this._document=Kt,this._injector=Ct,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,gt||this.attachAnchors()}destroy(){const ht=this._startAnchor,He=this._endAnchor;ht&&(ht.removeEventListener("focus",this.startAnchorListener),ht.remove()),He&&(He.removeEventListener("focus",this.endAnchorListener),He.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ht){return new Promise(He=>{this._executeOnStable(()=>He(this.focusInitialElement(ht)))})}focusFirstTabbableElementWhenReady(ht){return new Promise(He=>{this._executeOnStable(()=>He(this.focusFirstTabbableElement(ht)))})}focusLastTabbableElementWhenReady(ht){return new Promise(He=>{this._executeOnStable(()=>He(this.focusLastTabbableElement(ht)))})}_getRegionBoundary(ht){const He=this._element.querySelectorAll(`[cdk-focus-region-${ht}], [cdkFocusRegion${ht}], [cdk-focus-${ht}]`);return"start"==ht?He.length?He[0]:this._getFirstTabbableElement(this._element):He.length?He[He.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ht){const He=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(He){if(!this._checker.isFocusable(He)){const Ke=this._getFirstTabbableElement(He);return Ke?.focus(ht),!!Ke}return He.focus(ht),!0}return this.focusFirstTabbableElement(ht)}focusFirstTabbableElement(ht){const He=this._getRegionBoundary("start");return He&&He.focus(ht),!!He}focusLastTabbableElement(ht){const He=this._getRegionBoundary("end");return He&&He.focus(ht),!!He}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ht){if(this._checker.isFocusable(ht)&&this._checker.isTabbable(ht))return ht;const He=ht.children;for(let Ke=0;Ke<He.length;Ke++){const Kt=He[Ke].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(He[Ke]):null;if(Kt)return Kt}return null}_getLastTabbableElement(ht){if(this._checker.isFocusable(ht)&&this._checker.isTabbable(ht))return ht;const He=ht.children;for(let Ke=He.length-1;Ke>=0;Ke--){const Kt=He[Ke].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(He[Ke]):null;if(Kt)return Kt}return null}_createAnchor(){const ht=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ht),ht.classList.add("cdk-visually-hidden"),ht.classList.add("cdk-focus-trap-anchor"),ht.setAttribute("aria-hidden","true"),ht}_toggleAnchorTabIndex(ht,He){ht?He.setAttribute("tabindex","0"):He.removeAttribute("tabindex")}toggleAnchors(ht){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ht,this._startAnchor),this._toggleAnchorTabIndex(ht,this._endAnchor))}_executeOnStable(ht){this._injector?(0,n.mal)(ht,{injector:this._injector}):setTimeout(ht)}}let Me=(()=>{class We{constructor(He,Ke,Kt){this._checker=He,this._ngZone=Ke,this._injector=(0,n.WQX)(n.zZn),this._document=Kt}create(He,Ke=!1){return new W(He,this._checker,this._ngZone,this._document,Ke,this._injector)}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(we),n.KVO(n.SKi),n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),ie=(()=>{class We{get enabled(){return this.focusTrap?.enabled||!1}set enabled(He){this.focusTrap&&(this.focusTrap.enabled=He)}constructor(He,Ke,Kt){this._elementRef=He,this._focusTrapFactory=Ke,this._previouslyFocusedElement=null,(0,n.WQX)(p.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(He){const Ke=He.autoCapture;Ke&&!Ke.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,p.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.rXU(n.aKT),n.rXU(Me),n.rXU(t.qQ))};static#t=this.\u0275dir=n.FsC({type:We,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",n.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",n.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[n.GFd,n.OA$]})}return We})();function Pt(We){return 0===We.buttons||0===We.detail}function dn(We){const ht=We.touches&&We.touches[0]||We.changedTouches&&We.changedTouches[0];return!(!ht||-1!==ht.identifier||null!=ht.radiusX&&1!==ht.radiusX||null!=ht.radiusY&&1!==ht.radiusY)}const at=new n.nKC("cdk-input-modality-detector-options"),pt={ignoreKeys:[u.A$,u.W3,u.eg,u.Ge,u.FX]},Gt=(0,p.BQ)({passive:!0,capture:!0});let pn=(()=>{class We{get mostRecentModality(){return this._modality.value}constructor(He,Ke,Kt,gt){this._platform=He,this._mostRecentTarget=null,this._modality=new S.t(null),this._lastTouchMs=0,this._onKeydown=Ct=>{this._options?.ignoreKeys?.some(_n=>_n===Ct.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,p.Fb)(Ct))},this._onMousedown=Ct=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pt(Ct)?"keyboard":"mouse"),this._mostRecentTarget=(0,p.Fb)(Ct))},this._onTouchstart=Ct=>{dn(Ct)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,p.Fb)(Ct))},this._options={...pt,...gt},this.modalityDetected=this._modality.pipe((0,f.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,V.F)()),He.isBrowser&&Ke.runOutsideAngular(()=>{Kt.addEventListener("keydown",this._onKeydown,Gt),Kt.addEventListener("mousedown",this._onMousedown,Gt),Kt.addEventListener("touchstart",this._onTouchstart,Gt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gt),document.removeEventListener("mousedown",this._onMousedown,Gt),document.removeEventListener("touchstart",this._onTouchstart,Gt))}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(p.OD),n.KVO(n.SKi),n.KVO(t.qQ),n.KVO(at,8))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();const nn=new n.nKC("liveAnnouncerElement",{providedIn:"root",factory:function xn(){return null}}),kn=new n.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Gn=0,hi=(()=>{class We{constructor(He,Ke,Kt,gt){this._ngZone=Ke,this._defaultOptions=gt,this._document=Kt,this._liveElement=He||this._createLiveElement()}announce(He,...Ke){const Kt=this._defaultOptions;let gt,Ct;return 1===Ke.length&&"number"==typeof Ke[0]?Ct=Ke[0]:[gt,Ct]=Ke,this.clear(),clearTimeout(this._previousTimeout),gt||(gt=Kt&&Kt.politeness?Kt.politeness:"polite"),null==Ct&&Kt&&(Ct=Kt.duration),this._liveElement.setAttribute("aria-live",gt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(_n=>this._currentResolve=_n)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=He,"number"==typeof Ct&&(this._previousTimeout=setTimeout(()=>this.clear(),Ct)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const He="cdk-live-announcer-element",Ke=this._document.getElementsByClassName(He),Kt=this._document.createElement("div");for(let gt=0;gt<Ke.length;gt++)Ke[gt].remove();return Kt.classList.add(He),Kt.classList.add("cdk-visually-hidden"),Kt.setAttribute("aria-atomic","true"),Kt.setAttribute("aria-live","polite"),Kt.id="cdk-live-announcer-"+Gn++,this._document.body.appendChild(Kt),Kt}_exposeAnnouncerToModals(He){const Ke=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Kt=0;Kt<Ke.length;Kt++){const gt=Ke[Kt],Ct=gt.getAttribute("aria-owns");Ct?-1===Ct.indexOf(He)&&gt.setAttribute("aria-owns",Ct+" "+He):gt.setAttribute("aria-owns",He)}}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(nn,8),n.KVO(n.SKi),n.KVO(t.qQ),n.KVO(kn,8))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();var dt=function(We){return We[We.IMMEDIATE=0]="IMMEDIATE",We[We.EVENTUAL=1]="EVENTUAL",We}(dt||{});const Vt=new n.nKC("cdk-focus-monitor-default-options"),ct=(0,p.BQ)({passive:!0,capture:!0});let kt=(()=>{class We{constructor(He,Ke,Kt,gt,Ct){this._ngZone=He,this._platform=Ke,this._inputModalityDetector=Kt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.B7,this._rootNodeFocusAndBlurListener=_n=>{for(let Vn=(0,p.Fb)(_n);Vn;Vn=Vn.parentElement)"focus"===_n.type?this._onFocus(_n,Vn):this._onBlur(_n,Vn)},this._document=gt,this._detectionMode=Ct?.detectionMode||dt.IMMEDIATE}monitor(He,Ke=!1){const Kt=(0,c.i8)(He);if(!this._platform.isBrowser||1!==Kt.nodeType)return(0,M.of)();const gt=(0,p.KT)(Kt)||this._getDocument(),Ct=this._elementInfo.get(Kt);if(Ct)return Ke&&(Ct.checkChildren=!0),Ct.subject;const _n={checkChildren:Ke,subject:new v.B7,rootNode:gt};return this._elementInfo.set(Kt,_n),this._registerGlobalListeners(_n),_n.subject}stopMonitoring(He){const Ke=(0,c.i8)(He),Kt=this._elementInfo.get(Ke);Kt&&(Kt.subject.complete(),this._setClasses(Ke),this._elementInfo.delete(Ke),this._removeGlobalListeners(Kt))}focusVia(He,Ke,Kt){const gt=(0,c.i8)(He);gt===this._getDocument().activeElement?this._getClosestElementsInfo(gt).forEach(([_n,yn])=>this._originChanged(_n,Ke,yn)):(this._setOrigin(Ke),"function"==typeof gt.focus&&gt.focus(Kt))}ngOnDestroy(){this._elementInfo.forEach((He,Ke)=>this.stopMonitoring(Ke))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(He){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(He)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:He&&this._isLastInteractionFromInputLabel(He)?"mouse":"program"}_shouldBeAttributedToTouch(He){return this._detectionMode===dt.EVENTUAL||!!He?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(He,Ke){He.classList.toggle("cdk-focused",!!Ke),He.classList.toggle("cdk-touch-focused","touch"===Ke),He.classList.toggle("cdk-keyboard-focused","keyboard"===Ke),He.classList.toggle("cdk-mouse-focused","mouse"===Ke),He.classList.toggle("cdk-program-focused","program"===Ke)}_setOrigin(He,Ke=!1){this._ngZone.runOutsideAngular(()=>{this._origin=He,this._originFromTouchInteraction="touch"===He&&Ke,this._detectionMode===dt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(He,Ke){const Kt=this._elementInfo.get(Ke),gt=(0,p.Fb)(He);!Kt||!Kt.checkChildren&&Ke!==gt||this._originChanged(Ke,this._getFocusOrigin(gt),Kt)}_onBlur(He,Ke){const Kt=this._elementInfo.get(Ke);!Kt||Kt.checkChildren&&He.relatedTarget instanceof Node&&Ke.contains(He.relatedTarget)||(this._setClasses(Ke),this._emitOrigin(Kt,null))}_emitOrigin(He,Ke){He.subject.observers.length&&this._ngZone.run(()=>He.subject.next(Ke))}_registerGlobalListeners(He){if(!this._platform.isBrowser)return;const Ke=He.rootNode,Kt=this._rootNodeFocusListenerCount.get(Ke)||0;Kt||this._ngZone.runOutsideAngular(()=>{Ke.addEventListener("focus",this._rootNodeFocusAndBlurListener,ct),Ke.addEventListener("blur",this._rootNodeFocusAndBlurListener,ct)}),this._rootNodeFocusListenerCount.set(Ke,Kt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,K.Q)(this._stopInputModalityDetector)).subscribe(gt=>{this._setOrigin(gt,!0)}))}_removeGlobalListeners(He){const Ke=He.rootNode;if(this._rootNodeFocusListenerCount.has(Ke)){const Kt=this._rootNodeFocusListenerCount.get(Ke);Kt>1?this._rootNodeFocusListenerCount.set(Ke,Kt-1):(Ke.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ct),Ke.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ct),this._rootNodeFocusListenerCount.delete(Ke))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(He,Ke,Kt){this._setClasses(He,Ke),this._emitOrigin(Kt,Ke),this._lastFocusOrigin=Ke}_getClosestElementsInfo(He){const Ke=[];return this._elementInfo.forEach((Kt,gt)=>{(gt===He||Kt.checkChildren&&gt.contains(He))&&Ke.push([gt,Kt])}),Ke}_isLastInteractionFromInputLabel(He){const{_mostRecentTarget:Ke,mostRecentModality:Kt}=this._inputModalityDetector;if("mouse"!==Kt||!Ke||Ke===He||"INPUT"!==He.nodeName&&"TEXTAREA"!==He.nodeName||He.disabled)return!1;const gt=He.labels;if(gt)for(let Ct=0;Ct<gt.length;Ct++)if(gt[Ct].contains(Ke))return!0;return!1}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(n.SKi),n.KVO(p.OD),n.KVO(pn),n.KVO(t.qQ,8),n.KVO(Vt,8))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),qt=(()=>{class We{constructor(He,Ke){this._elementRef=He,this._focusMonitor=Ke,this._focusOrigin=null,this.cdkFocusChange=new n.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const He=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(He,1===He.nodeType&&He.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ke=>{this._focusOrigin=Ke,this.cdkFocusChange.emit(Ke)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.rXU(n.aKT),n.rXU(kt))};static#t=this.\u0275dir=n.FsC({type:We,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return We})();var un=function(We){return We[We.NONE=0]="NONE",We[We.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",We[We.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",We}(un||{});const Qe="cdk-high-contrast-black-on-white",je="cdk-high-contrast-white-on-black",ze="cdk-high-contrast-active";let Re=(()=>{class We{constructor(He,Ke){this._platform=He,this._document=Ke,this._breakpointSubscription=(0,n.WQX)(Z.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return un.NONE;const He=this._document.createElement("div");He.style.backgroundColor="rgb(1,2,3)",He.style.position="absolute",this._document.body.appendChild(He);const Ke=this._document.defaultView||window,Kt=Ke&&Ke.getComputedStyle?Ke.getComputedStyle(He):null,gt=(Kt&&Kt.backgroundColor||"").replace(/ /g,"");switch(He.remove(),gt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return un.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return un.BLACK_ON_WHITE}return un.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const He=this._document.body.classList;He.remove(ze,Qe,je),this._hasCheckedHighContrastMode=!0;const Ke=this.getHighContrastMode();Ke===un.BLACK_ON_WHITE?He.add(ze,Qe):Ke===un.WHITE_ON_BLACK&&He.add(ze,je)}}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(p.OD),n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),it=(()=>{class We{constructor(He){He._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Ke){return new(Ke||We)(n.KVO(Re))};static#t=this.\u0275mod=n.$C({type:We});static#n=this.\u0275inj=n.G2t({imports:[U.w5]})}return We})()},8203:(jt,Se,l)=>{"use strict";l.d(Se,{dS:()=>M,jI:()=>u});var t=l(3953),n=l(177);const p=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,t.WQX)(n.qQ)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let M=(()=>{class I{constructor(T){this.value="ltr",this.change=new t.bkB,T&&(this.value=function E(I){const k=I?.toLowerCase()||"";return"auto"===k&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===k?"rtl":"ltr"}((T.body?T.body.dir:null)||(T.documentElement?T.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(w){return new(w||I)(t.KVO(p,8))};static#t=this.\u0275prov=t.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),u=(()=>{class I{static#e=this.\u0275fac=function(w){return new(w||I)};static#t=this.\u0275mod=t.$C({type:I});static#n=this.\u0275inj=t.G2t({})}return I})()},3801:(jt,Se,l)=>{"use strict";l.d(Se,{B0:()=>v,FQ:()=>M});var t=l(177),n=l(3953);class p{constructor(u,I){this._document=I;const k=this._textarea=this._document.createElement("textarea"),T=k.style;T.position="fixed",T.top=T.opacity="0",T.left="-999em",k.setAttribute("aria-hidden","true"),k.value=u,k.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(k)}copy(){const u=this._textarea;let I=!1;try{if(u){const k=this._document.activeElement;u.select(),u.setSelectionRange(0,u.value.length),I=this._document.execCommand("copy"),k&&k.focus()}}catch{}return I}destroy(){const u=this._textarea;u&&(u.remove(),this._textarea=void 0)}}let v=(()=>{class S{constructor(I){this._document=I}copy(I){const k=this.beginCopy(I),T=k.copy();return k.destroy(),T}beginCopy(I){return new p(I,this._document)}static#e=this.\u0275fac=function(k){return new(k||S)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),M=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275mod=n.$C({type:S});static#n=this.\u0275inj=n.G2t({})}return S})()},4085:(jt,Se,l)=>{"use strict";l.d(Se,{FG:()=>b,OE:()=>p,a1:()=>E,he:()=>n,i8:()=>M,o1:()=>v});var t=l(3953);function n(u){return null!=u&&"false"!=`${u}`}function p(u,I=0){return v(u)?Number(u):2===arguments.length?I:0}function v(u){return!isNaN(parseFloat(u))&&!isNaN(Number(u))}function b(u){return Array.isArray(u)?u:[u]}function E(u){return null==u?"":"string"==typeof u?u:`${u}px`}function M(u){return u instanceof t.aKT?u.nativeElement:u}},5024:(jt,Se,l)=>{"use strict";l.d(Se,{CB:()=>w,DQ:()=>T,Q3:()=>u,hx:()=>S,qS:()=>E,sL:()=>I,xn:()=>k,y4:()=>M,zP:()=>f});var t=l(4725),n=l(8982),p=l(4421),v=l(5286),b=l(3953);class E{}function M(V){return V&&"function"==typeof V.connect&&!(V instanceof t.G)}class S extends E{constructor(K){super(),this._data=K}connect(){return(0,n.A)(this._data)?this._data:(0,p.of)(this._data)}disconnect(){}}var u=function(V){return V[V.REPLACED=0]="REPLACED",V[V.INSERTED=1]="INSERTED",V[V.MOVED=2]="MOVED",V[V.REMOVED=3]="REMOVED",V}(u||{});const I=new b.nKC("_ViewRepeater");class k{applyChanges(K,ne,U,c,Z){K.forEachOperation((F,J,z)=>{let X,$;if(null==F.previousIndex){const te=U(F,J,z);X=ne.createEmbeddedView(te.templateRef,te.context,te.index),$=u.INSERTED}else null==z?(ne.remove(J),$=u.REMOVED):(X=ne.get(J),ne.move(X,z),$=u.MOVED);Z&&Z({context:X?.context,operation:$,record:F})})}detach(){}}class T{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(K,ne,U,c,Z){K.forEachOperation((F,J,z)=>{let X,$;null==F.previousIndex?(X=this._insertView(()=>U(F,J,z),z,ne,c(F)),$=X?u.INSERTED:u.REPLACED):null==z?(this._detachAndCacheView(J,ne),$=u.REMOVED):(X=this._moveView(J,z,ne,c(F)),$=u.MOVED),Z&&Z({context:X?.context,operation:$,record:F})})}detach(){for(const K of this._viewCache)K.destroy();this._viewCache=[]}_insertView(K,ne,U,c){const Z=this._insertViewFromCache(ne,U);if(Z)return void(Z.context.$implicit=c);const F=K();return U.createEmbeddedView(F.templateRef,F.context,F.index)}_detachAndCacheView(K,ne){const U=ne.detach(K);this._maybeCacheView(U,ne)}_moveView(K,ne,U,c){const Z=U.get(K);return U.move(Z,ne),Z.context.$implicit=c,Z}_maybeCacheView(K,ne){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(K);else{const U=ne.indexOf(K);-1===U?K.destroy():ne.remove(U)}}_insertViewFromCache(K,ne){const U=this._viewCache.pop();return U&&ne.insert(U,K),U||null}}class w{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(K=!1,ne,U=!0,c){this._multiple=K,this._emitChanges=U,this.compareWith=c,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new v.B7,ne&&ne.length&&(K?ne.forEach(Z=>this._markSelected(Z)):this._markSelected(ne[0]),this._selectedToEmit.length=0)}select(...K){this._verifyValueAssignment(K),K.forEach(U=>this._markSelected(U));const ne=this._hasQueuedChanges();return this._emitChangeEvent(),ne}deselect(...K){this._verifyValueAssignment(K),K.forEach(U=>this._unmarkSelected(U));const ne=this._hasQueuedChanges();return this._emitChangeEvent(),ne}setSelection(...K){this._verifyValueAssignment(K);const ne=this.selected,U=new Set(K);K.forEach(Z=>this._markSelected(Z)),ne.filter(Z=>!U.has(this._getConcreteValue(Z,U))).forEach(Z=>this._unmarkSelected(Z));const c=this._hasQueuedChanges();return this._emitChangeEvent(),c}toggle(K){return this.isSelected(K)?this.deselect(K):this.select(K)}clear(K=!0){this._unmarkAll();const ne=this._hasQueuedChanges();return K&&this._emitChangeEvent(),ne}isSelected(K){return this._selection.has(this._getConcreteValue(K))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(K){this._multiple&&this.selected&&this._selected.sort(K)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(K){K=this._getConcreteValue(K),this.isSelected(K)||(this._multiple||this._unmarkAll(),this.isSelected(K)||this._selection.add(K),this._emitChanges&&this._selectedToEmit.push(K))}_unmarkSelected(K){K=this._getConcreteValue(K),this.isSelected(K)&&(this._selection.delete(K),this._emitChanges&&this._deselectedToEmit.push(K))}_unmarkAll(){this.isEmpty()||this._selection.forEach(K=>this._unmarkSelected(K))}_verifyValueAssignment(K){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(K,ne){if(this.compareWith){ne=ne??this._selection;for(let U of ne)if(this.compareWith(K,U))return U;return K}return K}}let f=(()=>{class V{constructor(){this._listeners=[]}notify(ne,U){for(let c of this._listeners)c(ne,U)}listen(ne){return this._listeners.push(ne),()=>{this._listeners=this._listeners.filter(U=>ne!==U)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(U){return new(U||V)};static#t=this.\u0275prov=b.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},2529:(jt,Se,l)=>{"use strict";l.d(Se,{Pe:()=>D,Ph:()=>$,lG:()=>z,sU:()=>V});var t=l(9888),n=l(7987),p=l(6860),v=l(6939),b=l(177),E=l(3953),M=l(7336),S=l(5286),u=l(9418),I=l(4421),k=l(8203),T=l(3176);function w(te,G){}class D{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let V=(()=>{class te extends v.lb{constructor(oe,ce,le,ve,Q,R,L,H){super(),this._elementRef=oe,this._focusTrapFactory=ce,this._config=ve,this._interactivityChecker=Q,this._ngZone=R,this._overlayRef=L,this._focusMonitor=H,this._platform=(0,E.WQX)(p.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,E.WQX)(E.gRc),this._injector=(0,E.WQX)(E.zZn),this._isDestroyed=!1,this.attachDomPortal=fe=>{this._portalOutlet.hasAttached();const Ie=this._portalOutlet.attachDomPortal(fe);return this._contentAttached(),Ie},this._document=le,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(oe){this._ariaLabelledByQueue.push(oe),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(oe){const ce=this._ariaLabelledByQueue.indexOf(oe);ce>-1&&(this._ariaLabelledByQueue.splice(ce,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(oe){this._portalOutlet.hasAttached();const ce=this._portalOutlet.attachComponentPortal(oe);return this._contentAttached(),ce}attachTemplatePortal(oe){this._portalOutlet.hasAttached();const ce=this._portalOutlet.attachTemplatePortal(oe);return this._contentAttached(),ce}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(oe,ce){this._interactivityChecker.isFocusable(oe)||(oe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const le=()=>{oe.removeEventListener("blur",le),oe.removeEventListener("mousedown",le),oe.removeAttribute("tabindex")};oe.addEventListener("blur",le),oe.addEventListener("mousedown",le)})),oe.focus(ce)}_focusByCssSelector(oe,ce){let le=this._elementRef.nativeElement.querySelector(oe);le&&this._forceFocus(le,ce)}_trapFocus(){this._isDestroyed||(0,E.mal)(()=>{const oe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||oe.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const oe=this._config.restoreFocus;let ce=null;if("string"==typeof oe?ce=this._document.querySelector(oe):"boolean"==typeof oe?ce=oe?this._elementFocusedBeforeDialogWasOpened:null:oe&&(ce=oe),this._config.restoreFocus&&ce&&"function"==typeof ce.focus){const le=(0,p.vc)(),ve=this._elementRef.nativeElement;(!le||le===this._document.body||le===ve||ve.contains(le))&&(this._focusMonitor?(this._focusMonitor.focusVia(ce,this._closeInteractionType),this._closeInteractionType=null):ce.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const oe=this._elementRef.nativeElement,ce=(0,p.vc)();return oe===ce||oe.contains(ce)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,p.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ce){return new(ce||te)(E.rXU(E.aKT),E.rXU(t.GX),E.rXU(b.qQ,8),E.rXU(D),E.rXU(t.Z7),E.rXU(E.SKi),E.rXU(n.yY),E.rXU(t.FN))};static#t=this.\u0275cmp=E.VBU({type:te,selectors:[["cdk-dialog-container"]],viewQuery:function(ce,le){if(1&ce&&E.GBs(v.I3,7),2&ce){let ve;E.mGM(ve=E.lsd())&&(le._portalOutlet=ve.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ce,le){2&ce&&E.BMQ("id",le._config.id||null)("role",le._config.role)("aria-modal",le._config.ariaModal)("aria-labelledby",le._config.ariaLabel?null:le._ariaLabelledByQueue[0])("aria-label",le._config.ariaLabel)("aria-describedby",le._config.ariaDescribedBy||null)},standalone:!0,features:[E.Vt3,E.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ce,le){1&ce&&E.DNE(0,w,0,0,"ng-template",0)},dependencies:[v.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return te})();class K{constructor(G,oe){this.overlayRef=G,this.config=oe,this.closed=new S.B7,this.disableClose=oe.disableClose,this.backdropClick=G.backdropClick(),this.keydownEvents=G.keydownEvents(),this.outsidePointerEvents=G.outsidePointerEvents(),this.id=oe.id,this.keydownEvents.subscribe(ce=>{ce.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(ce)&&(ce.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=G.detachments().subscribe(()=>{!1!==oe.closeOnOverlayDetachments&&this.close()})}close(G,oe){if(this.containerInstance){const ce=this.closed;this.containerInstance._closeInteractionType=oe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ce.next(G),ce.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(G="",oe=""){return this.overlayRef.updateSize({width:G,height:oe}),this}addPanelClass(G){return this.overlayRef.addPanelClass(G),this}removePanelClass(G){return this.overlayRef.removePanelClass(G),this}}const ne=new E.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const te=(0,E.WQX)(n.hJ);return()=>te.scrollStrategies.block()}}),U=new E.nKC("DialogData"),c=new E.nKC("DefaultDialogConfig");let J=0,z=(()=>{class te{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(oe,ce,le,ve,Q,R){this._overlay=oe,this._injector=ce,this._defaultOptions=le,this._parentDialog=ve,this._overlayContainer=Q,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.B7,this._afterOpenedAtThisLevel=new S.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,T.Z)(void 0))),this._scrollStrategy=R}open(oe,ce){(ce={...this._defaultOptions||new D,...ce}).id=ce.id||"cdk-dialog-"+J++,ce.id&&this.getDialogById(ce.id);const ve=this._getOverlayConfig(ce),Q=this._overlay.create(ve),R=new K(Q,ce),L=this._attachContainer(Q,R,ce);return R.containerInstance=L,this._attachDialogContent(oe,R,L,ce),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(R),R.closed.subscribe(()=>this._removeOpenDialog(R,!0)),this.afterOpened.next(R),R}closeAll(){X(this.openDialogs,oe=>oe.close())}getDialogById(oe){return this.openDialogs.find(ce=>ce.id===oe)}ngOnDestroy(){X(this._openDialogsAtThisLevel,oe=>{!1===oe.config.closeOnDestroy&&this._removeOpenDialog(oe,!1)}),X(this._openDialogsAtThisLevel,oe=>oe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(oe){const ce=new n.rR({positionStrategy:oe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:oe.scrollStrategy||this._scrollStrategy(),panelClass:oe.panelClass,hasBackdrop:oe.hasBackdrop,direction:oe.direction,minWidth:oe.minWidth,minHeight:oe.minHeight,maxWidth:oe.maxWidth,maxHeight:oe.maxHeight,width:oe.width,height:oe.height,disposeOnNavigation:oe.closeOnNavigation});return oe.backdropClass&&(ce.backdropClass=oe.backdropClass),ce}_attachContainer(oe,ce,le){const ve=le.injector||le.viewContainerRef?.injector,Q=[{provide:D,useValue:le},{provide:K,useValue:ce},{provide:n.yY,useValue:oe}];let R;le.container?"function"==typeof le.container?R=le.container:(R=le.container.type,Q.push(...le.container.providers(le))):R=V;const L=new v.A8(R,le.viewContainerRef,E.zZn.create({parent:ve||this._injector,providers:Q}),le.componentFactoryResolver);return oe.attach(L).instance}_attachDialogContent(oe,ce,le,ve){if(oe instanceof E.C4Q){const Q=this._createInjector(ve,ce,le,void 0);let R={$implicit:ve.data,dialogRef:ce};ve.templateContext&&(R={...R,..."function"==typeof ve.templateContext?ve.templateContext():ve.templateContext}),le.attachTemplatePortal(new v.VA(oe,null,R,Q))}else{const Q=this._createInjector(ve,ce,le,this._injector),R=le.attachComponentPortal(new v.A8(oe,ve.viewContainerRef,Q,ve.componentFactoryResolver));ce.componentRef=R,ce.componentInstance=R.instance}}_createInjector(oe,ce,le,ve){const Q=oe.injector||oe.viewContainerRef?.injector,R=[{provide:U,useValue:oe.data},{provide:K,useValue:ce}];return oe.providers&&("function"==typeof oe.providers?R.push(...oe.providers(ce,oe,le)):R.push(...oe.providers)),oe.direction&&(!Q||!Q.get(k.dS,null,{optional:!0}))&&R.push({provide:k.dS,useValue:{value:oe.direction,change:(0,I.of)()}}),E.zZn.create({parent:Q||ve,providers:R})}_removeOpenDialog(oe,ce){const le=this.openDialogs.indexOf(oe);le>-1&&(this.openDialogs.splice(le,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((ve,Q)=>{ve?Q.setAttribute("aria-hidden",ve):Q.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ce&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const oe=this._overlayContainer.getContainerElement();if(oe.parentElement){const ce=oe.parentElement.children;for(let le=ce.length-1;le>-1;le--){const ve=ce[le];ve!==oe&&"SCRIPT"!==ve.nodeName&&"STYLE"!==ve.nodeName&&!ve.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(ve,ve.getAttribute("aria-hidden")),ve.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const oe=this._parentDialog;return oe?oe._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ce){return new(ce||te)(E.KVO(n.hJ),E.KVO(E.zZn),E.KVO(c,8),E.KVO(te,12),E.KVO(n.Sf),E.KVO(ne))};static#t=this.\u0275prov=E.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();function X(te,G){let oe=te.length;for(;oe--;)G(te[oe])}let $=(()=>{class te{static#e=this.\u0275fac=function(ce){return new(ce||te)};static#t=this.\u0275mod=E.$C({type:te});static#n=this.\u0275inj=E.G2t({providers:[z],imports:[n.z_,v.jc,t.Pd,v.jc]})}return te})()},7336:(jt,Se,l)=>{"use strict";l.d(Se,{A:()=>Xe,A$:()=>S,FX:()=>E,Fm:()=>b,G_:()=>n,Ge:()=>Wt,KE:()=>Yi,Kp:()=>f,LE:()=>U,SJ:()=>z,UQ:()=>K,W3:()=>M,Z:()=>Tt,_f:()=>k,bn:()=>R,dB:()=>D,eg:()=>Fe,f2:()=>X,i7:()=>ne,n6:()=>c,rp:()=>mt,t6:()=>T,w_:()=>w,wn:()=>p,yZ:()=>V});const n=8,p=9,b=13,E=16,M=17,S=18,k=27,T=32,w=33,D=34,f=35,V=36,K=37,ne=38,U=39,c=40,z=46,X=48,R=57,Xe=65,Tt=90,Wt=91,Yi=188,Fe=224;function mt(ut,...Pn){return Pn.length?Pn.some(Yt=>ut[Yt]):ut.altKey||ut.shiftKey||ut.ctrlKey||ut.metaKey}},9327:(jt,Se,l)=>{"use strict";l.d(Se,{QP:()=>c,Rp:()=>F});var t=l(3953),n=l(4085),p=l(5286),v=l(9714),b=l(1639),E=l(5817),M=l(9493),S=l(7753),u=l(3020),I=l(5006),k=l(3176),T=l(7605),w=l(6860);const f=new Set;let V,K=(()=>{class J{constructor(X,$){this._platform=X,this._nonce=$,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):U}matchMedia(X){return(this._platform.WEBKIT||this._platform.BLINK)&&function ne(J,z){if(!f.has(J))try{V||(V=document.createElement("style"),z&&V.setAttribute("nonce",z),V.setAttribute("type","text/css"),document.head.appendChild(V)),V.sheet&&(V.sheet.insertRule(`@media ${J} {body{ }}`,0),f.add(J))}catch(X){console.error(X)}}(X,this._nonce),this._matchMedia(X)}static#e=this.\u0275fac=function($){return new($||J)(t.KVO(w.OD),t.KVO(t.BIS,8))};static#t=this.\u0275prov=t.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();function U(J){return{matches:"all"===J||""===J,media:J,addListener:()=>{},removeListener:()=>{}}}let c=(()=>{class J{constructor(X,$){this._mediaMatcher=X,this._zone=$,this._queries=new Map,this._destroySubject=new p.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(X){return Z((0,n.FG)(X)).some(te=>this._registerQuery(te).mql.matches)}observe(X){const te=Z((0,n.FG)(X)).map(oe=>this._registerQuery(oe).observable);let G=(0,v.zV)(te);return G=(0,b.x)(G.pipe((0,M.s)(1)),G.pipe((0,S.i)(1),(0,u.B)(0))),G.pipe((0,I.T)(oe=>{const ce={matches:!1,breakpoints:{}};return oe.forEach(({matches:le,query:ve})=>{ce.matches=ce.matches||le,ce.breakpoints[ve]=le}),ce}))}_registerQuery(X){if(this._queries.has(X))return this._queries.get(X);const $=this._mediaMatcher.matchMedia(X),G={observable:new E.c(oe=>{const ce=le=>this._zone.run(()=>oe.next(le));return $.addListener(ce),()=>{$.removeListener(ce)}}).pipe((0,k.Z)($),(0,I.T)(({matches:oe})=>({query:X,matches:oe})),(0,T.Q)(this._destroySubject)),mql:$};return this._queries.set(X,G),G}static#e=this.\u0275fac=function($){return new($||J)(t.KVO(K),t.KVO(t.SKi))};static#t=this.\u0275prov=t.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();function Z(J){return J.map(z=>z.split(",")).reduce((z,X)=>z.concat(X)).map(z=>z.trim())}const F={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(jt,Se,l)=>{"use strict";l.d(Se,{Wv:()=>k,w5:()=>T});var t=l(4085),n=l(3953),p=l(5817),v=l(5286),b=l(5006),E=l(8728),M=l(3020);let u=(()=>{class w{create(f){return typeof MutationObserver>"u"?null:new MutationObserver(f)}static#e=this.\u0275fac=function(V){return new(V||w)};static#t=this.\u0275prov=n.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),I=(()=>{class w{constructor(f){this._mutationObserverFactory=f,this._observedElements=new Map,this._ngZone=(0,n.WQX)(n.SKi)}ngOnDestroy(){this._observedElements.forEach((f,V)=>this._cleanupObserver(V))}observe(f){const V=(0,t.i8)(f);return new p.c(K=>{const U=this._observeElement(V).pipe((0,b.T)(c=>c.filter(Z=>!function S(w){if("characterData"===w.type&&w.target instanceof Comment)return!0;if("childList"===w.type){for(let D=0;D<w.addedNodes.length;D++)if(!(w.addedNodes[D]instanceof Comment))return!1;for(let D=0;D<w.removedNodes.length;D++)if(!(w.removedNodes[D]instanceof Comment))return!1;return!0}return!1}(Z))),(0,E.p)(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{K.next(c)})});return()=>{U.unsubscribe(),this._unobserveElement(V)}})}_observeElement(f){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(f))this._observedElements.get(f).count++;else{const V=new v.B7,K=this._mutationObserverFactory.create(ne=>V.next(ne));K&&K.observe(f,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(f,{observer:K,stream:V,count:1})}return this._observedElements.get(f).stream})}_unobserveElement(f){this._observedElements.has(f)&&(this._observedElements.get(f).count--,this._observedElements.get(f).count||this._cleanupObserver(f))}_cleanupObserver(f){if(this._observedElements.has(f)){const{observer:V,stream:K}=this._observedElements.get(f);V&&V.disconnect(),K.complete(),this._observedElements.delete(f)}}static#e=this.\u0275fac=function(V){return new(V||w)(n.KVO(u))};static#t=this.\u0275prov=n.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),k=(()=>{class w{get disabled(){return this._disabled}set disabled(f){this._disabled=f,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(f){this._debounce=(0,t.OE)(f),this._subscribe()}constructor(f,V){this._contentObserver=f,this._elementRef=V,this.event=new n.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const f=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?f.pipe((0,M.B)(this.debounce)):f).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(V){return new(V||w)(n.rXU(I),n.rXU(n.aKT))};static#t=this.\u0275dir=n.FsC({type:w,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",n.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[n.GFd]})}return w})(),T=(()=>{class w{static#e=this.\u0275fac=function(V){return new(V||w)};static#t=this.\u0275mod=n.$C({type:w});static#n=this.\u0275inj=n.G2t({providers:[u]})}return w})()},8170:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>u});var t=l(3953),n=l(5286),p=l(5817),v=l(8728),b=l(8712),E=l(7605);class S{constructor(k){this._box=k,this._destroyed=new n.B7,this._resizeSubject=new n.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(T=>this._resizeSubject.next(T)))}observe(k){return this._elementObservables.has(k)||this._elementObservables.set(k,new p.c(T=>{const w=this._resizeSubject.subscribe(T);return this._resizeObserver?.observe(k,{box:this._box}),()=>{this._resizeObserver?.unobserve(k),w.unsubscribe(),this._elementObservables.delete(k)}}).pipe((0,v.p)(T=>T.some(w=>w.target===k)),(0,b.t)({bufferSize:1,refCount:!0}),(0,E.Q)(this._destroyed))),this._elementObservables.get(k)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let u=(()=>{class I{constructor(){this._observers=new Map,this._ngZone=(0,t.WQX)(t.SKi)}ngOnDestroy(){for(const[,T]of this._observers)T.destroy();this._observers.clear()}observe(T,w){const D=w?.box||"content-box";return this._observers.has(D)||this._observers.set(D,new S(D)),this._observers.get(D).observe(T)}static#e=this.\u0275fac=function(w){return new(w||I)};static#t=this.\u0275prov=t.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},7987:(jt,Se,l)=>{"use strict";l.d(Se,{$Q:()=>tt,Sf:()=>R,WB:()=>wt,hJ:()=>Te,rR:()=>z,yY:()=>L,z_:()=>Bn});var t=l(494),n=l(177),p=l(3953),v=l(4085),b=l(6860),E=l(8728),M=l(7605),S=l(1604),u=l(8203),I=l(6939),k=l(5286),T=l(4337),w=l(4670),D=l(7336);const f=(0,b.CZ)();class V{constructor(W,Me){this._viewportRuler=W,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Me}attach(){}enable(){if(this._canBeEnabled()){const W=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=W.style.left||"",this._previousHTMLStyles.top=W.style.top||"",W.style.left=(0,v.a1)(-this._previousScrollPosition.left),W.style.top=(0,v.a1)(-this._previousScrollPosition.top),W.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const W=this._document.documentElement,ie=W.style,pe=this._document.body.style,Be=ie.scrollBehavior||"",Tt=pe.scrollBehavior||"";this._isEnabled=!1,ie.left=this._previousHTMLStyles.left,ie.top=this._previousHTMLStyles.top,W.classList.remove("cdk-global-scrollblock"),f&&(ie.scrollBehavior=pe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),f&&(ie.scrollBehavior=Be,pe.scrollBehavior=Tt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Me=this._document.body,ie=this._viewportRuler.getViewportSize();return Me.scrollHeight>ie.height||Me.scrollWidth>ie.width}}class ne{constructor(W,Me,ie,pe){this._scrollDispatcher=W,this._ngZone=Me,this._viewportRuler=ie,this._config=pe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(W){this._overlayRef=W}enable(){if(this._scrollSubscription)return;const W=this._scrollDispatcher.scrolled(0).pipe((0,E.p)(Me=>!Me||!this._overlayRef.overlayElement.contains(Me.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=W.subscribe(()=>{const Me=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Me-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=W.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class U{enable(){}disable(){}attach(){}}function c(Ft,W){return W.some(Me=>Ft.bottom<Me.top||Ft.top>Me.bottom||Ft.right<Me.left||Ft.left>Me.right)}function Z(Ft,W){return W.some(Me=>Ft.top<Me.top||Ft.bottom>Me.bottom||Ft.left<Me.left||Ft.right>Me.right)}class F{constructor(W,Me,ie,pe){this._scrollDispatcher=W,this._viewportRuler=Me,this._ngZone=ie,this._config=pe,this._scrollSubscription=null}attach(W){this._overlayRef=W}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Me=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ie,height:pe}=this._viewportRuler.getViewportSize();c(Me,[{width:ie,height:pe,bottom:pe,right:ie,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let J=(()=>{class Ft{constructor(Me,ie,pe,Be){this._scrollDispatcher=Me,this._viewportRuler=ie,this._ngZone=pe,this.noop=()=>new U,this.close=Tt=>new ne(this._scrollDispatcher,this._ngZone,this._viewportRuler,Tt),this.block=()=>new V(this._viewportRuler,this._document),this.reposition=Tt=>new F(this._scrollDispatcher,this._viewportRuler,this._ngZone,Tt),this._document=Be}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(t.R),p.KVO(t.Xj),p.KVO(p.SKi),p.KVO(n.qQ))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();class z{constructor(W){if(this.scrollStrategy=new U,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,W){const Me=Object.keys(W);for(const ie of Me)void 0!==W[ie]&&(this[ie]=W[ie])}}}class te{constructor(W,Me){this.connectionPair=W,this.scrollableViewProperties=Me}}let ce=(()=>{class Ft{constructor(Me){this._attachedOverlays=[],this._document=Me}ngOnDestroy(){this.detach()}add(Me){this.remove(Me),this._attachedOverlays.push(Me)}remove(Me){const ie=this._attachedOverlays.indexOf(Me);ie>-1&&this._attachedOverlays.splice(ie,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(n.qQ))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})(),le=(()=>{class Ft extends ce{constructor(Me,ie){super(Me),this._ngZone=ie,this._keydownListener=pe=>{const Be=this._attachedOverlays;for(let Tt=Be.length-1;Tt>-1;Tt--)if(Be[Tt]._keydownEvents.observers.length>0){const Wt=Be[Tt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Wt.next(pe)):Wt.next(pe);break}}}add(Me){super.add(Me),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(n.qQ),p.KVO(p.SKi,8))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})(),ve=(()=>{class Ft extends ce{constructor(Me,ie,pe){super(Me),this._platform=ie,this._ngZone=pe,this._cursorStyleIsSet=!1,this._pointerDownListener=Be=>{this._pointerDownEventTarget=(0,b.Fb)(Be)},this._clickListener=Be=>{const Tt=(0,b.Fb)(Be),Wt="click"===Be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Tt;this._pointerDownEventTarget=null;const vn=this._attachedOverlays.slice();for(let Pt=vn.length-1;Pt>-1;Pt--){const dn=vn[Pt];if(dn._outsidePointerEvents.observers.length<1||!dn.hasAttached())continue;if(Q(dn.overlayElement,Tt)||Q(dn.overlayElement,Wt))break;const at=dn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>at.next(Be)):at.next(Be)}}}add(Me){if(super.add(Me),!this._isAttached){const ie=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ie)):this._addEventListeners(ie),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ie.style.cursor,ie.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Me=this._document.body;Me.removeEventListener("pointerdown",this._pointerDownListener,!0),Me.removeEventListener("click",this._clickListener,!0),Me.removeEventListener("auxclick",this._clickListener,!0),Me.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Me.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Me){Me.addEventListener("pointerdown",this._pointerDownListener,!0),Me.addEventListener("click",this._clickListener,!0),Me.addEventListener("auxclick",this._clickListener,!0),Me.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(n.qQ),p.KVO(b.OD),p.KVO(p.SKi,8))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();function Q(Ft,W){const Me=typeof ShadowRoot<"u"&&ShadowRoot;let ie=W;for(;ie;){if(ie===Ft)return!0;ie=Me&&ie instanceof ShadowRoot?ie.host:ie.parentNode}return!1}let R=(()=>{class Ft{constructor(Me,ie){this._platform=ie,this._document=Me}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Me="cdk-overlay-container";if(this._platform.isBrowser||(0,b.v8)()){const pe=this._document.querySelectorAll(`.${Me}[platform="server"], .${Me}[platform="test"]`);for(let Be=0;Be<pe.length;Be++)pe[Be].remove()}const ie=this._document.createElement("div");ie.classList.add(Me),(0,b.v8)()?ie.setAttribute("platform","test"):this._platform.isBrowser||ie.setAttribute("platform","server"),this._document.body.appendChild(ie),this._containerElement=ie}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(n.qQ),p.KVO(b.OD))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();class L{constructor(W,Me,ie,pe,Be,Tt,Wt,vn,Pt,dn=!1,at){this._portalOutlet=W,this._host=Me,this._pane=ie,this._config=pe,this._ngZone=Be,this._keyboardDispatcher=Tt,this._document=Wt,this._location=vn,this._outsideClickDispatcher=Pt,this._animationsDisabled=dn,this._injector=at,this._backdropElement=null,this._backdropClick=new k.B7,this._attachments=new k.B7,this._detachments=new k.B7,this._locationChanges=T.y.EMPTY,this._backdropClickHandler=pt=>this._backdropClick.next(pt),this._backdropTransitionendHandler=pt=>{this._disposeBackdrop(pt.target)},this._keydownEvents=new k.B7,this._outsidePointerEvents=new k.B7,this._renders=new k.B7,pe.scrollStrategy&&(this._scrollStrategy=pe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=pe.positionStrategy,this._afterRenderRef=(0,p.O8t)(()=>(0,p.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(W){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Me=this._portalOutlet.attach(W);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,p.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Me?.onDestroy&&Me.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Me}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const W=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),W}dispose(){const W=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,W&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(W){W!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=W,this.hasAttached()&&(W.attach(this),this.updatePosition()))}updateSize(W){this._config={...this._config,...W},this._updateElementSize()}setDirection(W){this._config={...this._config,direction:W},this._updateElementDirection()}addPanelClass(W){this._pane&&this._toggleClasses(this._pane,W,!0)}removePanelClass(W){this._pane&&this._toggleClasses(this._pane,W,!1)}getDirection(){const W=this._config.direction;return W?"string"==typeof W?W:W.value:"ltr"}updateScrollStrategy(W){W!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=W,this.hasAttached()&&(W.attach(this),W.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const W=this._pane.style;W.width=(0,v.a1)(this._config.width),W.height=(0,v.a1)(this._config.height),W.minWidth=(0,v.a1)(this._config.minWidth),W.minHeight=(0,v.a1)(this._config.minHeight),W.maxWidth=(0,v.a1)(this._config.maxWidth),W.maxHeight=(0,v.a1)(this._config.maxHeight)}_togglePointerEvents(W){this._pane.style.pointerEvents=W?"":"none"}_attachBackdrop(){const W="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(W)})}):this._backdropElement.classList.add(W)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const W=this._backdropElement;if(W){if(this._animationsDisabled)return void this._disposeBackdrop(W);W.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{W.addEventListener("transitionend",this._backdropTransitionendHandler)}),W.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(W)},500))}}_toggleClasses(W,Me,ie){const pe=(0,v.FG)(Me||[]).filter(Be=>!!Be);pe.length&&(ie?W.classList.add(...pe):W.classList.remove(...pe))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const W=this._renders.pipe((0,M.Q)((0,w.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),W.unsubscribe())})})}_disposeScrollStrategy(){const W=this._scrollStrategy;W&&(W.disable(),W.detach&&W.detach())}_disposeBackdrop(W){W&&(W.removeEventListener("click",this._backdropClickHandler),W.removeEventListener("transitionend",this._backdropTransitionendHandler),W.remove(),this._backdropElement===W&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const H="cdk-overlay-connected-position-bounding-box",fe=/([A-Za-z%]+)$/;class Ie{get positions(){return this._preferredPositions}constructor(W,Me,ie,pe,Be){this._viewportRuler=Me,this._document=ie,this._platform=pe,this._overlayContainer=Be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k.B7,this._resizeSubscription=T.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(W)}attach(W){this._validatePositions(),W.hostElement.classList.add(H),this._overlayRef=W,this._boundingBox=W.hostElement,this._pane=W.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const W=this._originRect,Me=this._overlayRect,ie=this._viewportRect,pe=this._containerRect,Be=[];let Tt;for(let Wt of this._preferredPositions){let vn=this._getOriginPoint(W,pe,Wt),Pt=this._getOverlayPoint(vn,Me,Wt),dn=this._getOverlayFit(Pt,Me,ie,Wt);if(dn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Wt,vn);this._canFitWithFlexibleDimensions(dn,Pt,ie)?Be.push({position:Wt,origin:vn,overlayRect:Me,boundingBoxRect:this._calculateBoundingBoxRect(vn,Wt)}):(!Tt||Tt.overlayFit.visibleArea<dn.visibleArea)&&(Tt={overlayFit:dn,overlayPoint:Pt,originPoint:vn,position:Wt,overlayRect:Me})}if(Be.length){let Wt=null,vn=-1;for(const Pt of Be){const dn=Pt.boundingBoxRect.width*Pt.boundingBoxRect.height*(Pt.position.weight||1);dn>vn&&(vn=dn,Wt=Pt)}return this._isPushed=!1,void this._applyPosition(Wt.position,Wt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Tt.position,Tt.originPoint);this._applyPosition(Tt.position,Tt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(H),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const W=this._lastPosition;if(W){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Me=this._getOriginPoint(this._originRect,this._containerRect,W);this._applyPosition(W,Me)}else this.apply()}withScrollableContainers(W){return this._scrollables=W,this}withPositions(W){return this._preferredPositions=W,-1===W.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(W){return this._viewportMargin=W,this}withFlexibleDimensions(W=!0){return this._hasFlexibleDimensions=W,this}withGrowAfterOpen(W=!0){return this._growAfterOpen=W,this}withPush(W=!0){return this._canPush=W,this}withLockedPosition(W=!0){return this._positionLocked=W,this}setOrigin(W){return this._origin=W,this}withDefaultOffsetX(W){return this._offsetX=W,this}withDefaultOffsetY(W){return this._offsetY=W,this}withTransformOriginOn(W){return this._transformOriginSelector=W,this}_getOriginPoint(W,Me,ie){let pe,Be;if("center"==ie.originX)pe=W.left+W.width/2;else{const Tt=this._isRtl()?W.right:W.left,Wt=this._isRtl()?W.left:W.right;pe="start"==ie.originX?Tt:Wt}return Me.left<0&&(pe-=Me.left),Be="center"==ie.originY?W.top+W.height/2:"top"==ie.originY?W.top:W.bottom,Me.top<0&&(Be-=Me.top),{x:pe,y:Be}}_getOverlayPoint(W,Me,ie){let pe,Be;return pe="center"==ie.overlayX?-Me.width/2:"start"===ie.overlayX?this._isRtl()?-Me.width:0:this._isRtl()?0:-Me.width,Be="center"==ie.overlayY?-Me.height/2:"top"==ie.overlayY?0:-Me.height,{x:W.x+pe,y:W.y+Be}}_getOverlayFit(W,Me,ie,pe){const Be=rt(Me);let{x:Tt,y:Wt}=W,vn=this._getOffset(pe,"x"),Pt=this._getOffset(pe,"y");vn&&(Tt+=vn),Pt&&(Wt+=Pt);let pt=0-Wt,Xt=Wt+Be.height-ie.height,Gt=this._subtractOverflows(Be.width,0-Tt,Tt+Be.width-ie.width),pn=this._subtractOverflows(Be.height,pt,Xt),nn=Gt*pn;return{visibleArea:nn,isCompletelyWithinViewport:Be.width*Be.height===nn,fitsInViewportVertically:pn===Be.height,fitsInViewportHorizontally:Gt==Be.width}}_canFitWithFlexibleDimensions(W,Me,ie){if(this._hasFlexibleDimensions){const pe=ie.bottom-Me.y,Be=ie.right-Me.x,Tt=bt(this._overlayRef.getConfig().minHeight),Wt=bt(this._overlayRef.getConfig().minWidth);return(W.fitsInViewportVertically||null!=Tt&&Tt<=pe)&&(W.fitsInViewportHorizontally||null!=Wt&&Wt<=Be)}return!1}_pushOverlayOnScreen(W,Me,ie){if(this._previousPushAmount&&this._positionLocked)return{x:W.x+this._previousPushAmount.x,y:W.y+this._previousPushAmount.y};const pe=rt(Me),Be=this._viewportRect,Tt=Math.max(W.x+pe.width-Be.width,0),Wt=Math.max(W.y+pe.height-Be.height,0),vn=Math.max(Be.top-ie.top-W.y,0),Pt=Math.max(Be.left-ie.left-W.x,0);let dn=0,at=0;return dn=pe.width<=Be.width?Pt||-Tt:W.x<this._viewportMargin?Be.left-ie.left-W.x:0,at=pe.height<=Be.height?vn||-Wt:W.y<this._viewportMargin?Be.top-ie.top-W.y:0,this._previousPushAmount={x:dn,y:at},{x:W.x+dn,y:W.y+at}}_applyPosition(W,Me){if(this._setTransformOrigin(W),this._setOverlayElementStyles(Me,W),this._setBoundingBoxStyles(Me,W),W.panelClass&&this._addPanelClasses(W.panelClass),this._positionChanges.observers.length){const ie=this._getScrollVisibility();if(W!==this._lastPosition||!this._lastScrollVisibility||!function yt(Ft,W){return Ft===W||Ft.isOriginClipped===W.isOriginClipped&&Ft.isOriginOutsideView===W.isOriginOutsideView&&Ft.isOverlayClipped===W.isOverlayClipped&&Ft.isOverlayOutsideView===W.isOverlayOutsideView}(this._lastScrollVisibility,ie)){const pe=new te(W,ie);this._positionChanges.next(pe)}this._lastScrollVisibility=ie}this._lastPosition=W,this._isInitialRender=!1}_setTransformOrigin(W){if(!this._transformOriginSelector)return;const Me=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ie,pe=W.overlayY;ie="center"===W.overlayX?"center":this._isRtl()?"start"===W.overlayX?"right":"left":"start"===W.overlayX?"left":"right";for(let Be=0;Be<Me.length;Be++)Me[Be].style.transformOrigin=`${ie} ${pe}`}_calculateBoundingBoxRect(W,Me){const ie=this._viewportRect,pe=this._isRtl();let Be,Tt,Wt,dn,at,pt;if("top"===Me.overlayY)Tt=W.y,Be=ie.height-Tt+this._viewportMargin;else if("bottom"===Me.overlayY)Wt=ie.height-W.y+2*this._viewportMargin,Be=ie.height-Wt+this._viewportMargin;else{const Xt=Math.min(ie.bottom-W.y+ie.top,W.y),Gt=this._lastBoundingBoxSize.height;Be=2*Xt,Tt=W.y-Xt,Be>Gt&&!this._isInitialRender&&!this._growAfterOpen&&(Tt=W.y-Gt/2)}if("end"===Me.overlayX&&!pe||"start"===Me.overlayX&&pe)pt=ie.width-W.x+2*this._viewportMargin,dn=W.x-this._viewportMargin;else if("start"===Me.overlayX&&!pe||"end"===Me.overlayX&&pe)at=W.x,dn=ie.right-W.x;else{const Xt=Math.min(ie.right-W.x+ie.left,W.x),Gt=this._lastBoundingBoxSize.width;dn=2*Xt,at=W.x-Xt,dn>Gt&&!this._isInitialRender&&!this._growAfterOpen&&(at=W.x-Gt/2)}return{top:Tt,left:at,bottom:Wt,right:pt,width:dn,height:Be}}_setBoundingBoxStyles(W,Me){const ie=this._calculateBoundingBoxRect(W,Me);!this._isInitialRender&&!this._growAfterOpen&&(ie.height=Math.min(ie.height,this._lastBoundingBoxSize.height),ie.width=Math.min(ie.width,this._lastBoundingBoxSize.width));const pe={};if(this._hasExactPosition())pe.top=pe.left="0",pe.bottom=pe.right=pe.maxHeight=pe.maxWidth="",pe.width=pe.height="100%";else{const Be=this._overlayRef.getConfig().maxHeight,Tt=this._overlayRef.getConfig().maxWidth;pe.height=(0,v.a1)(ie.height),pe.top=(0,v.a1)(ie.top),pe.bottom=(0,v.a1)(ie.bottom),pe.width=(0,v.a1)(ie.width),pe.left=(0,v.a1)(ie.left),pe.right=(0,v.a1)(ie.right),pe.alignItems="center"===Me.overlayX?"center":"end"===Me.overlayX?"flex-end":"flex-start",pe.justifyContent="center"===Me.overlayY?"center":"bottom"===Me.overlayY?"flex-end":"flex-start",Be&&(pe.maxHeight=(0,v.a1)(Be)),Tt&&(pe.maxWidth=(0,v.a1)(Tt))}this._lastBoundingBoxSize=ie,Xe(this._boundingBox.style,pe)}_resetBoundingBoxStyles(){Xe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(W,Me){const ie={},pe=this._hasExactPosition(),Be=this._hasFlexibleDimensions,Tt=this._overlayRef.getConfig();if(pe){const dn=this._viewportRuler.getViewportScrollPosition();Xe(ie,this._getExactOverlayY(Me,W,dn)),Xe(ie,this._getExactOverlayX(Me,W,dn))}else ie.position="static";let Wt="",vn=this._getOffset(Me,"x"),Pt=this._getOffset(Me,"y");vn&&(Wt+=`translateX(${vn}px) `),Pt&&(Wt+=`translateY(${Pt}px)`),ie.transform=Wt.trim(),Tt.maxHeight&&(pe?ie.maxHeight=(0,v.a1)(Tt.maxHeight):Be&&(ie.maxHeight="")),Tt.maxWidth&&(pe?ie.maxWidth=(0,v.a1)(Tt.maxWidth):Be&&(ie.maxWidth="")),Xe(this._pane.style,ie)}_getExactOverlayY(W,Me,ie){let pe={top:"",bottom:""},Be=this._getOverlayPoint(Me,this._overlayRect,W);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,ie)),"bottom"===W.overlayY?pe.bottom=this._document.documentElement.clientHeight-(Be.y+this._overlayRect.height)+"px":pe.top=(0,v.a1)(Be.y),pe}_getExactOverlayX(W,Me,ie){let Tt,pe={left:"",right:""},Be=this._getOverlayPoint(Me,this._overlayRect,W);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,ie)),Tt=this._isRtl()?"end"===W.overlayX?"left":"right":"end"===W.overlayX?"right":"left","right"===Tt?pe.right=this._document.documentElement.clientWidth-(Be.x+this._overlayRect.width)+"px":pe.left=(0,v.a1)(Be.x),pe}_getScrollVisibility(){const W=this._getOriginRect(),Me=this._pane.getBoundingClientRect(),ie=this._scrollables.map(pe=>pe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Z(W,ie),isOriginOutsideView:c(W,ie),isOverlayClipped:Z(Me,ie),isOverlayOutsideView:c(Me,ie)}}_subtractOverflows(W,...Me){return Me.reduce((ie,pe)=>ie-Math.max(pe,0),W)}_getNarrowedViewportRect(){const W=this._document.documentElement.clientWidth,Me=this._document.documentElement.clientHeight,ie=this._viewportRuler.getViewportScrollPosition();return{top:ie.top+this._viewportMargin,left:ie.left+this._viewportMargin,right:ie.left+W-this._viewportMargin,bottom:ie.top+Me-this._viewportMargin,width:W-2*this._viewportMargin,height:Me-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(W,Me){return"x"===Me?null==W.offsetX?this._offsetX:W.offsetX:null==W.offsetY?this._offsetY:W.offsetY}_validatePositions(){}_addPanelClasses(W){this._pane&&(0,v.FG)(W).forEach(Me=>{""!==Me&&-1===this._appliedPanelClasses.indexOf(Me)&&(this._appliedPanelClasses.push(Me),this._pane.classList.add(Me))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(W=>{this._pane.classList.remove(W)}),this._appliedPanelClasses=[])}_getOriginRect(){const W=this._origin;if(W instanceof p.aKT)return W.nativeElement.getBoundingClientRect();if(W instanceof Element)return W.getBoundingClientRect();const Me=W.width||0,ie=W.height||0;return{top:W.y,bottom:W.y+ie,left:W.x,right:W.x+Me,height:ie,width:Me}}}function Xe(Ft,W){for(let Me in W)W.hasOwnProperty(Me)&&(Ft[Me]=W[Me]);return Ft}function bt(Ft){if("number"!=typeof Ft&&null!=Ft){const[W,Me]=Ft.split(fe);return Me&&"px"!==Me?null:parseFloat(W)}return Ft||null}function rt(Ft){return{top:Math.floor(Ft.top),right:Math.floor(Ft.right),bottom:Math.floor(Ft.bottom),left:Math.floor(Ft.left),width:Math.floor(Ft.width),height:Math.floor(Ft.height)}}const Ae="cdk-global-overlay-wrapper";class we{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(W){const Me=W.getConfig();this._overlayRef=W,this._width&&!Me.width&&W.updateSize({width:this._width}),this._height&&!Me.height&&W.updateSize({height:this._height}),W.hostElement.classList.add(Ae),this._isDisposed=!1}top(W=""){return this._bottomOffset="",this._topOffset=W,this._alignItems="flex-start",this}left(W=""){return this._xOffset=W,this._xPosition="left",this}bottom(W=""){return this._topOffset="",this._bottomOffset=W,this._alignItems="flex-end",this}right(W=""){return this._xOffset=W,this._xPosition="right",this}start(W=""){return this._xOffset=W,this._xPosition="start",this}end(W=""){return this._xOffset=W,this._xPosition="end",this}width(W=""){return this._overlayRef?this._overlayRef.updateSize({width:W}):this._width=W,this}height(W=""){return this._overlayRef?this._overlayRef.updateSize({height:W}):this._height=W,this}centerHorizontally(W=""){return this.left(W),this._xPosition="center",this}centerVertically(W=""){return this.top(W),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const W=this._overlayRef.overlayElement.style,Me=this._overlayRef.hostElement.style,ie=this._overlayRef.getConfig(),{width:pe,height:Be,maxWidth:Tt,maxHeight:Wt}=ie,vn=!("100%"!==pe&&"100vw"!==pe||Tt&&"100%"!==Tt&&"100vw"!==Tt),Pt=!("100%"!==Be&&"100vh"!==Be||Wt&&"100%"!==Wt&&"100vh"!==Wt),dn=this._xPosition,at=this._xOffset,pt="rtl"===this._overlayRef.getConfig().direction;let Xt="",Gt="",pn="";vn?pn="flex-start":"center"===dn?(pn="center",pt?Gt=at:Xt=at):pt?"left"===dn||"end"===dn?(pn="flex-end",Xt=at):("right"===dn||"start"===dn)&&(pn="flex-start",Gt=at):"left"===dn||"start"===dn?(pn="flex-start",Xt=at):("right"===dn||"end"===dn)&&(pn="flex-end",Gt=at),W.position=this._cssPosition,W.marginLeft=vn?"0":Xt,W.marginTop=Pt?"0":this._topOffset,W.marginBottom=this._bottomOffset,W.marginRight=vn?"0":Gt,Me.justifyContent=pn,Me.alignItems=Pt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const W=this._overlayRef.overlayElement.style,Me=this._overlayRef.hostElement,ie=Me.style;Me.classList.remove(Ae),ie.justifyContent=ie.alignItems=W.marginTop=W.marginBottom=W.marginLeft=W.marginRight=W.position="",this._overlayRef=null,this._isDisposed=!0}}let _e=(()=>{class Ft{constructor(Me,ie,pe,Be){this._viewportRuler=Me,this._document=ie,this._platform=pe,this._overlayContainer=Be}global(){return new we}flexibleConnectedTo(Me){return new Ie(Me,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(t.Xj),p.KVO(n.qQ),p.KVO(b.OD),p.KVO(R))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})(),de=0,Te=(()=>{class Ft{constructor(Me,ie,pe,Be,Tt,Wt,vn,Pt,dn,at,pt,Xt){this.scrollStrategies=Me,this._overlayContainer=ie,this._componentFactoryResolver=pe,this._positionBuilder=Be,this._keyboardDispatcher=Tt,this._injector=Wt,this._ngZone=vn,this._document=Pt,this._directionality=dn,this._location=at,this._outsideClickDispatcher=pt,this._animationsModuleType=Xt}create(Me){const ie=this._createHostElement(),pe=this._createPaneElement(ie),Be=this._createPortalOutlet(pe),Tt=new z(Me);return Tt.direction=Tt.direction||this._directionality.value,new L(Be,ie,pe,Tt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(p.uvJ))}position(){return this._positionBuilder}_createPaneElement(Me){const ie=this._document.createElement("div");return ie.id="cdk-overlay-"+de++,ie.classList.add("cdk-overlay-pane"),Me.appendChild(ie),ie}_createHostElement(){const Me=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Me),Me}_createPortalOutlet(Me){return this._appRef||(this._appRef=this._injector.get(p.o8S)),new I.aI(Me,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.KVO(J),p.KVO(R),p.KVO(p.OM3),p.KVO(_e),p.KVO(le),p.KVO(p.zZn),p.KVO(p.SKi),p.KVO(n.qQ),p.KVO(u.dS),p.KVO(n.aZ),p.KVO(ve),p.KVO(p.bc$,8))};static#t=this.\u0275prov=p.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();const Pe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],St=new p.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Ft=(0,p.WQX)(Te);return()=>Ft.scrollStrategies.reposition()}});let tt=(()=>{class Ft{constructor(Me){this.elementRef=Me}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:Ft,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ft})(),wt=(()=>{class Ft{get offsetX(){return this._offsetX}set offsetX(Me){this._offsetX=Me,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Me){this._offsetY=Me,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Me){this._disposeOnNavigation=Me}constructor(Me,ie,pe,Be,Tt){this._overlay=Me,this._dir=Tt,this._backdropSubscription=T.y.EMPTY,this._attachSubscription=T.y.EMPTY,this._detachSubscription=T.y.EMPTY,this._positionSubscription=T.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,p.WQX)(p.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new p.bkB,this.positionChange=new p.bkB,this.attach=new p.bkB,this.detach=new p.bkB,this.overlayKeydown=new p.bkB,this.overlayOutsideClick=new p.bkB,this._templatePortal=new I.VA(ie,pe),this._scrollStrategyFactory=Be,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Me){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Me.origin&&this.open&&this._position.apply()),Me.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Pe);const Me=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Me.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Me.detachments().subscribe(()=>this.detach.emit()),Me.keydownEvents().subscribe(ie=>{this.overlayKeydown.next(ie),ie.keyCode===D._f&&!this.disableClose&&!(0,D.rp)(ie)&&(ie.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ie=>{const pe=this._getOriginElement(),Be=(0,b.Fb)(ie);(!pe||pe!==Be&&!pe.contains(Be))&&this.overlayOutsideClick.next(ie)})}_buildConfig(){const Me=this._position=this.positionStrategy||this._createPositionStrategy(),ie=new z({direction:this._dir,positionStrategy:Me,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(ie.width=this.width),(this.height||0===this.height)&&(ie.height=this.height),(this.minWidth||0===this.minWidth)&&(ie.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ie.minHeight=this.minHeight),this.backdropClass&&(ie.backdropClass=this.backdropClass),this.panelClass&&(ie.panelClass=this.panelClass),ie}_updatePositionStrategy(Me){const ie=this.positions.map(pe=>({originX:pe.originX,originY:pe.originY,overlayX:pe.overlayX,overlayY:pe.overlayY,offsetX:pe.offsetX||this.offsetX,offsetY:pe.offsetY||this.offsetY,panelClass:pe.panelClass||void 0}));return Me.setOrigin(this._getOrigin()).withPositions(ie).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Me=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Me),Me}_getOrigin(){return this.origin instanceof tt?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof tt?this.origin.elementRef.nativeElement:this.origin instanceof p.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Me=>{this.backdropClick.emit(Me)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,S.v)(()=>this.positionChange.observers.length>0)).subscribe(Me=>{this._ngZone.run(()=>this.positionChange.emit(Me)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(ie){return new(ie||Ft)(p.rXU(Te),p.rXU(p.C4Q),p.rXU(p.c1b),p.rXU(St),p.rXU(u.dS,8))};static#t=this.\u0275dir=p.FsC({type:Ft,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",p.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",p.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",p.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",p.L39],push:[2,"cdkConnectedOverlayPush","push",p.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",p.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[p.GFd,p.OA$]})}return Ft})();const Mn={provide:St,deps:[Te],useFactory:function ln(Ft){return()=>Ft.scrollStrategies.reposition()}};let Bn=(()=>{class Ft{static#e=this.\u0275fac=function(ie){return new(ie||Ft)};static#t=this.\u0275mod=p.$C({type:Ft});static#n=this.\u0275inj=p.G2t({providers:[Te,Mn],imports:[u.jI,I.jc,t.E9,t.E9]})}return Ft})()},6860:(jt,Se,l)=>{"use strict";l.d(Se,{BD:()=>V,BQ:()=>k,CZ:()=>f,Fb:()=>Z,KT:()=>U,MU:()=>S,OD:()=>v,r5:()=>T,v8:()=>F,vc:()=>c});var t=l(3953),n=l(177);let p;try{p=typeof Intl<"u"&&Intl.v8BreakIterator}catch{p=!1}let E,v=(()=>{class J{constructor(X){this._platformId=X,this.isBrowser=this._platformId?(0,n.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!p)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function($){return new($||J)(t.KVO(t.Agw))};static#t=this.\u0275prov=t.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();const M=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function S(){if(E)return E;if("object"!=typeof document||!document)return E=new Set(M),E;let J=document.createElement("input");return E=new Set(M.filter(z=>(J.setAttribute("type",z),J.type===z))),E}let u;function k(J){return function I(){if(null==u&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>u=!0}))}finally{u=u||!1}return u}()?J:!!J.capture}var T=function(J){return J[J.NORMAL=0]="NORMAL",J[J.NEGATED=1]="NEGATED",J[J.INVERTED=2]="INVERTED",J}(T||{});let w,D,K;function f(){if(null==D){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return D=!1,D;if("scrollBehavior"in document.documentElement.style)D=!0;else{const J=Element.prototype.scrollTo;D=!!J&&!/\{\s*\[native code\]\s*\}/.test(J.toString())}}return D}function V(){if("object"!=typeof document||!document)return T.NORMAL;if(null==w){const J=document.createElement("div"),z=J.style;J.dir="rtl",z.width="1px",z.overflow="auto",z.visibility="hidden",z.pointerEvents="none",z.position="absolute";const X=document.createElement("div"),$=X.style;$.width="2px",$.height="1px",J.appendChild(X),document.body.appendChild(J),w=T.NORMAL,0===J.scrollLeft&&(J.scrollLeft=1,w=0===J.scrollLeft?T.NEGATED:T.INVERTED),J.remove()}return w}function U(J){if(function ne(){if(null==K){const J=typeof document<"u"?document.head:null;K=!(!J||!J.createShadowRoot&&!J.attachShadow)}return K}()){const z=J.getRootNode?J.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&z instanceof ShadowRoot)return z}return null}function c(){let J=typeof document<"u"&&document?document.activeElement:null;for(;J&&J.shadowRoot;){const z=J.shadowRoot.activeElement;if(z===J)break;J=z}return J}function Z(J){return J.composedPath?J.composedPath()[0]:J.target}function F(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(jt,Se,l)=>{"use strict";l.d(Se,{A8:()=>I,I3:()=>U,Qq:()=>ne,VA:()=>k,aI:()=>f,bV:()=>K,jc:()=>Z,lb:()=>w});var t=l(3953),n=l(177);class u{attach(z){return this._attachedHost=z,z.attach(this)}detach(){let z=this._attachedHost;null!=z&&(this._attachedHost=null,z.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(z){this._attachedHost=z}}class I extends u{constructor(z,X,$,te,G){super(),this.component=z,this.viewContainerRef=X,this.injector=$,this.componentFactoryResolver=te,this.projectableNodes=G}}class k extends u{constructor(z,X,$,te){super(),this.templateRef=z,this.viewContainerRef=X,this.context=$,this.injector=te}get origin(){return this.templateRef.elementRef}attach(z,X=this.context){return this.context=X,super.attach(z)}detach(){return this.context=void 0,super.detach()}}class T extends u{constructor(z){super(),this.element=z instanceof t.aKT?z.nativeElement:z}}class w{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(z){return z instanceof I?(this._attachedPortal=z,this.attachComponentPortal(z)):z instanceof k?(this._attachedPortal=z,this.attachTemplatePortal(z)):this.attachDomPortal&&z instanceof T?(this._attachedPortal=z,this.attachDomPortal(z)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(z){this._disposeFn=z}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class f extends w{constructor(z,X,$,te,G){super(),this.outletElement=z,this._componentFactoryResolver=X,this._appRef=$,this._defaultInjector=te,this.attachDomPortal=oe=>{const ce=oe.element,le=this._document.createComment("dom-portal");ce.parentNode.insertBefore(le,ce),this.outletElement.appendChild(ce),this._attachedPortal=oe,super.setDisposeFn(()=>{le.parentNode&&le.parentNode.replaceChild(ce,le)})},this._document=G}attachComponentPortal(z){const $=(z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(z.component);let te;return z.viewContainerRef?(te=z.viewContainerRef.createComponent($,z.viewContainerRef.length,z.injector||z.viewContainerRef.injector,z.projectableNodes||void 0),this.setDisposeFn(()=>te.destroy())):(te=$.create(z.injector||this._defaultInjector||t.zZn.NULL),this._appRef.attachView(te.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(te.hostView),te.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(te)),this._attachedPortal=z,te}attachTemplatePortal(z){let X=z.viewContainerRef,$=X.createEmbeddedView(z.templateRef,z.context,{injector:z.injector});return $.rootNodes.forEach(te=>this.outletElement.appendChild(te)),$.detectChanges(),this.setDisposeFn(()=>{let te=X.indexOf($);-1!==te&&X.remove(te)}),this._attachedPortal=z,$}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(z){return z.hostView.rootNodes[0]}}let K=(()=>{class J extends k{constructor(X,$){super(X,$)}static#e=this.\u0275fac=function($){return new($||J)(t.rXU(t.C4Q),t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:J,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[t.Vt3]})}return J})(),ne=(()=>{class J extends K{static#e=this.\u0275fac=(()=>{let X;return function(te){return(X||(X=t.xGo(J)))(te||J)}})();static#t=this.\u0275dir=t.FsC({type:J,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[t.Jv_([{provide:K,useExisting:J}]),t.Vt3]})}return J})(),U=(()=>{class J extends w{constructor(X,$,te){super(),this._componentFactoryResolver=X,this._viewContainerRef=$,this._isInitialized=!1,this.attached=new t.bkB,this.attachDomPortal=G=>{const oe=G.element,ce=this._document.createComment("dom-portal");G.setAttachedHost(this),oe.parentNode.insertBefore(ce,oe),this._getRootNode().appendChild(oe),this._attachedPortal=G,super.setDisposeFn(()=>{ce.parentNode&&ce.parentNode.replaceChild(oe,ce)})},this._document=te}get portal(){return this._attachedPortal}set portal(X){this.hasAttached()&&!X&&!this._isInitialized||(this.hasAttached()&&super.detach(),X&&super.attach(X),this._attachedPortal=X||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(X){X.setAttachedHost(this);const $=null!=X.viewContainerRef?X.viewContainerRef:this._viewContainerRef,G=(X.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(X.component),oe=$.createComponent(G,$.length,X.injector||$.injector,X.projectableNodes||void 0);return $!==this._viewContainerRef&&this._getRootNode().appendChild(oe.hostView.rootNodes[0]),super.setDisposeFn(()=>oe.destroy()),this._attachedPortal=X,this._attachedRef=oe,this.attached.emit(oe),oe}attachTemplatePortal(X){X.setAttachedHost(this);const $=this._viewContainerRef.createEmbeddedView(X.templateRef,X.context,{injector:X.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=X,this._attachedRef=$,this.attached.emit($),$}_getRootNode(){const X=this._viewContainerRef.element.nativeElement;return X.nodeType===X.ELEMENT_NODE?X:X.parentNode}static#e=this.\u0275fac=function($){return new($||J)(t.rXU(t.OM3),t.rXU(t.c1b),t.rXU(n.qQ))};static#t=this.\u0275dir=t.FsC({type:J,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[t.Vt3]})}return J})(),Z=(()=>{class J{static#e=this.\u0275fac=function($){return new($||J)};static#t=this.\u0275mod=t.$C({type:J});static#n=this.\u0275inj=t.G2t({})}return J})()},494:(jt,Se,l)=>{"use strict";l.d(Se,{yg:()=>yt,uv:()=>Ae,Gj:()=>Jt,E$:()=>ln,d6:()=>tt,R:()=>It,E9:()=>Ft,Xj:()=>_e});var t=l(4085),n=l(3953),p=l(5286),v=l(4421),b=l(5817),E=l(3586),M=l(8189),u=l(6228);const k=new class I extends u.q{flush(Me){this.active=!0,this.scheduled=void 0;const{actions:ie}=this;let pe,Be=-1,Tt=ie.length;Me=Me||ie.shift();do{if(pe=Me.execute(Me.state,Me.delay))break}while(++Be<Tt&&(Me=ie.shift()));if(this.active=!1,pe){for(;++Be<Tt&&(Me=ie.shift());)Me.unsubscribe();throw pe}}}(class S extends M.R{constructor(Me,ie){super(Me,ie),this.scheduler=Me,this.work=ie}requestAsyncId(Me,ie,pe=0){return null!==pe&&pe>0?super.requestAsyncId(Me,ie,pe):(Me.actions.push(this),Me.scheduled||(Me.scheduled=requestAnimationFrame(()=>Me.flush(null))))}recycleAsyncId(Me,ie,pe=0){if(null!==pe&&pe>0||null===pe&&this.delay>0)return super.recycleAsyncId(Me,ie,pe);0===Me.actions.length&&(cancelAnimationFrame(ie),Me.scheduled=void 0)}});var w=l(5516),D=l(4337),f=l(8982),V=l(522),K=l(1080),ne=l(3004);class c{constructor(Me){this.durationSelector=Me}call(Me,ie){return ie.subscribe(new Z(Me,this.durationSelector))}}class Z extends ne.gn{constructor(Me,ie){super(Me),this.durationSelector=ie,this.hasValue=!1}_next(Me){if(this.value=Me,this.hasValue=!0,!this.throttled){let ie;try{const{durationSelector:Be}=this;ie=Be(Me)}catch(Be){return this.destination.error(Be)}const pe=(0,ne.tS)(ie,new ne.zA(this));!pe||pe.closed?this.clearThrottle():this.add(this.throttled=pe)}}clearThrottle(){const{value:Me,hasValue:ie,throttled:pe}=this;pe&&(this.remove(pe),this.throttled=void 0,pe.unsubscribe()),ie&&(this.value=void 0,this.hasValue=!1,this.destination.next(Me))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var F=l(2170);function J(W,Me=K.b){return function U(W){return function(ie){return ie.lift(new c(W))}}(()=>(0,F.O)(W,Me))}var z=l(8728),X=l(7605),$=l(3176),te=l(762);class oe{call(Me,ie){return ie.subscribe(new ce(Me))}}class ce extends te.v{constructor(Me){super(Me),this.hasPrev=!1}_next(Me){let ie;this.hasPrev?ie=[this.prev,Me]:this.hasPrev=!0,this.prev=Me,ie&&this.destination.next(ie)}}var le=l(9090),ve=l(8712),Q=l(6860),R=l(177),L=l(8203),H=l(5024);const fe=["contentWrapper"],Ie=["*"],Xe=new n.nKC("VIRTUAL_SCROLL_STRATEGY");class bt{constructor(Me,ie,pe){this._scrolledIndexChange=new p.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,V.F)()),this._viewport=null,this._itemSize=Me,this._minBufferPx=ie,this._maxBufferPx=pe}attach(Me){this._viewport=Me,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Me,ie,pe){this._itemSize=Me,this._minBufferPx=ie,this._maxBufferPx=pe,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Me,ie){this._viewport&&this._viewport.scrollToOffset(Me*this._itemSize,ie)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Me=this._viewport.getRenderedRange(),ie={start:Me.start,end:Me.end},pe=this._viewport.getViewportSize(),Be=this._viewport.getDataLength();let Tt=this._viewport.measureScrollOffset(),Wt=this._itemSize>0?Tt/this._itemSize:0;if(ie.end>Be){const Pt=Math.ceil(pe/this._itemSize),dn=Math.max(0,Math.min(Wt,Be-Pt));Wt!=dn&&(Wt=dn,Tt=dn*this._itemSize,ie.start=Math.floor(Wt)),ie.end=Math.max(0,Math.min(Be,ie.start+Pt))}const vn=Tt-ie.start*this._itemSize;if(vn<this._minBufferPx&&0!=ie.start){const Pt=Math.ceil((this._maxBufferPx-vn)/this._itemSize);ie.start=Math.max(0,ie.start-Pt),ie.end=Math.min(Be,Math.ceil(Wt+(pe+this._minBufferPx)/this._itemSize))}else{const Pt=ie.end*this._itemSize-(Tt+pe);if(Pt<this._minBufferPx&&ie.end!=Be){const dn=Math.ceil((this._maxBufferPx-Pt)/this._itemSize);dn>0&&(ie.end=Math.min(Be,ie.end+dn),ie.start=Math.max(0,Math.floor(Wt-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(ie),this._viewport.setRenderedContentOffset(this._itemSize*ie.start),this._scrolledIndexChange.next(Math.floor(Wt))}}function rt(W){return W._scrollStrategy}let yt=(()=>{class W{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new bt(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(ie){this._itemSize=(0,t.OE)(ie)}get minBufferPx(){return this._minBufferPx}set minBufferPx(ie){this._minBufferPx=(0,t.OE)(ie)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(ie){this._maxBufferPx=(0,t.OE)(ie)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(pe){return new(pe||W)};static#t=this.\u0275dir=n.FsC({type:W,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[n.Jv_([{provide:Xe,useFactory:rt,deps:[(0,n.Rfq)(()=>W)]}]),n.OA$]})}return W})(),It=(()=>{class W{constructor(ie,pe,Be){this._ngZone=ie,this._platform=pe,this._scrolled=new p.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Be}register(ie){this.scrollContainers.has(ie)||this.scrollContainers.set(ie,ie.elementScrolled().subscribe(()=>this._scrolled.next(ie)))}deregister(ie){const pe=this.scrollContainers.get(ie);pe&&(pe.unsubscribe(),this.scrollContainers.delete(ie))}scrolled(ie=20){return this._platform.isBrowser?new b.c(pe=>{this._globalSubscription||this._addGlobalListener();const Be=ie>0?this._scrolled.pipe(J(ie)).subscribe(pe):this._scrolled.subscribe(pe);return this._scrolledCount++,()=>{Be.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ie,pe)=>this.deregister(pe)),this._scrolled.complete()}ancestorScrolled(ie,pe){const Be=this.getAncestorScrollContainers(ie);return this.scrolled(pe).pipe((0,z.p)(Tt=>!Tt||Be.indexOf(Tt)>-1))}getAncestorScrollContainers(ie){const pe=[];return this.scrollContainers.forEach((Be,Tt)=>{this._scrollableContainsElement(Tt,ie)&&pe.push(Tt)}),pe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ie,pe){let Be=(0,t.i8)(pe),Tt=ie.getElementRef().nativeElement;do{if(Be==Tt)return!0}while(Be=Be.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ie=this._getWindow();return(0,E.R)(ie.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(pe){return new(pe||W)(n.KVO(n.SKi),n.KVO(Q.OD),n.KVO(R.qQ,8))};static#t=this.\u0275prov=n.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Ae=(()=>{class W{constructor(ie,pe,Be,Tt){this.elementRef=ie,this.scrollDispatcher=pe,this.ngZone=Be,this.dir=Tt,this._destroyed=new p.B7,this._elementScrolled=new b.c(Wt=>this.ngZone.runOutsideAngular(()=>(0,E.R)(this.elementRef.nativeElement,"scroll").pipe((0,X.Q)(this._destroyed)).subscribe(Wt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ie){const pe=this.elementRef.nativeElement,Be=this.dir&&"rtl"==this.dir.value;null==ie.left&&(ie.left=Be?ie.end:ie.start),null==ie.right&&(ie.right=Be?ie.start:ie.end),null!=ie.bottom&&(ie.top=pe.scrollHeight-pe.clientHeight-ie.bottom),Be&&(0,Q.BD)()!=Q.r5.NORMAL?(null!=ie.left&&(ie.right=pe.scrollWidth-pe.clientWidth-ie.left),(0,Q.BD)()==Q.r5.INVERTED?ie.left=ie.right:(0,Q.BD)()==Q.r5.NEGATED&&(ie.left=ie.right?-ie.right:ie.right)):null!=ie.right&&(ie.left=pe.scrollWidth-pe.clientWidth-ie.right),this._applyScrollToOptions(ie)}_applyScrollToOptions(ie){const pe=this.elementRef.nativeElement;(0,Q.CZ)()?pe.scrollTo(ie):(null!=ie.top&&(pe.scrollTop=ie.top),null!=ie.left&&(pe.scrollLeft=ie.left))}measureScrollOffset(ie){const pe="left",Tt=this.elementRef.nativeElement;if("top"==ie)return Tt.scrollTop;if("bottom"==ie)return Tt.scrollHeight-Tt.clientHeight-Tt.scrollTop;const Wt=this.dir&&"rtl"==this.dir.value;return"start"==ie?ie=Wt?"right":pe:"end"==ie&&(ie=Wt?pe:"right"),Wt&&(0,Q.BD)()==Q.r5.INVERTED?ie==pe?Tt.scrollWidth-Tt.clientWidth-Tt.scrollLeft:Tt.scrollLeft:Wt&&(0,Q.BD)()==Q.r5.NEGATED?ie==pe?Tt.scrollLeft+Tt.scrollWidth-Tt.clientWidth:-Tt.scrollLeft:ie==pe?Tt.scrollLeft:Tt.scrollWidth-Tt.clientWidth-Tt.scrollLeft}static#e=this.\u0275fac=function(pe){return new(pe||W)(n.rXU(n.aKT),n.rXU(It),n.rXU(n.SKi),n.rXU(L.dS,8))};static#t=this.\u0275dir=n.FsC({type:W,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return W})(),_e=(()=>{class W{constructor(ie,pe,Be){this._platform=ie,this._change=new p.B7,this._changeListener=Tt=>{this._change.next(Tt)},this._document=Be,pe.runOutsideAngular(()=>{if(ie.isBrowser){const Tt=this._getWindow();Tt.addEventListener("resize",this._changeListener),Tt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ie=this._getWindow();ie.removeEventListener("resize",this._changeListener),ie.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ie={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ie}getViewportRect(){const ie=this.getViewportScrollPosition(),{width:pe,height:Be}=this.getViewportSize();return{top:ie.top,left:ie.left,bottom:ie.top+Be,right:ie.left+pe,height:Be,width:pe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ie=this._document,pe=this._getWindow(),Be=ie.documentElement,Tt=Be.getBoundingClientRect();return{top:-Tt.top||ie.body.scrollTop||pe.scrollY||Be.scrollTop||0,left:-Tt.left||ie.body.scrollLeft||pe.scrollX||Be.scrollLeft||0}}change(ie=20){return ie>0?this._change.pipe(J(ie)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ie=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ie.innerWidth,height:ie.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(pe){return new(pe||W)(n.KVO(Q.OD),n.KVO(n.SKi),n.KVO(R.qQ,8))};static#t=this.\u0275prov=n.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const de=new n.nKC("VIRTUAL_SCROLLABLE");let Te=(()=>{class W extends Ae{constructor(ie,pe,Be,Tt){super(ie,pe,Be,Tt)}measureViewportSize(ie){const pe=this.elementRef.nativeElement;return"horizontal"===ie?pe.clientWidth:pe.clientHeight}static#e=this.\u0275fac=function(pe){return new(pe||W)(n.rXU(n.aKT),n.rXU(It),n.rXU(n.SKi),n.rXU(L.dS,8))};static#t=this.\u0275dir=n.FsC({type:W,features:[n.Vt3]})}return W})();const St=typeof requestAnimationFrame<"u"?k:w.$;let tt=(()=>{class W extends Te{get orientation(){return this._orientation}set orientation(ie){this._orientation!==ie&&(this._orientation=ie,this._calculateSpacerSize())}constructor(ie,pe,Be,Tt,Wt,vn,Pt,dn){super(ie,vn,Be,Wt),this.elementRef=ie,this._changeDetectorRef=pe,this._scrollStrategy=Tt,this.scrollable=dn,this._platform=(0,n.WQX)(Q.OD),this._detachedSubject=new p.B7,this._renderedRangeSubject=new p.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new b.c(at=>this._scrollStrategy.scrolledIndexChange.subscribe(pt=>Promise.resolve().then(()=>this.ngZone.run(()=>at.next(pt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=D.y.EMPTY,this._injector=(0,n.WQX)(n.zZn),this._isDestroyed=!1,this._viewportChanges=Pt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,$.Z)(null),J(0,St),(0,X.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(ie){this.ngZone.runOutsideAngular(()=>{this._forOf=ie,this._forOf.dataStream.pipe((0,X.Q)(this._detachedSubject)).subscribe(pe=>{const Be=pe.length;Be!==this._dataLength&&(this._dataLength=Be,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(ie){return this.getElementRef().nativeElement.getBoundingClientRect()[ie]}setTotalContentSize(ie){this._totalContentSize!==ie&&(this._totalContentSize=ie,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(ie){(function Pe(W,Me){return W.start==Me.start&&W.end==Me.end})(this._renderedRange,ie)||(this.appendOnly&&(ie={start:0,end:Math.max(this._renderedRange.end,ie.end)}),this._renderedRangeSubject.next(this._renderedRange=ie),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(ie,pe="to-start"){ie=this.appendOnly&&"to-start"===pe?0:ie;const Tt="horizontal"==this.orientation,Wt=Tt?"X":"Y";let Pt=`translate${Wt}(${Number((Tt&&this.dir&&"rtl"==this.dir.value?-1:1)*ie)}px)`;this._renderedContentOffset=ie,"to-end"===pe&&(Pt+=` translate${Wt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Pt&&(this._renderedContentTransform=Pt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(ie,pe="auto"){const Be={behavior:pe};"horizontal"===this.orientation?Be.start=ie:Be.top=ie,this.scrollable.scrollTo(Be)}scrollToIndex(ie,pe="auto"){this._scrollStrategy.scrollToIndex(ie,pe)}measureScrollOffset(ie){let pe;return pe=this.scrollable==this?Be=>super.measureScrollOffset(Be):Be=>this.scrollable.measureScrollOffset(Be),Math.max(0,pe(ie??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(ie){let pe;const Wt="rtl"==this.dir?.value;pe="start"==ie?Wt?"right":"left":"end"==ie?Wt?"left":"right":ie||("horizontal"===this.orientation?"left":"top");const vn=this.scrollable.measureBoundingClientRectWithScrollOffset(pe);return this.elementRef.nativeElement.getBoundingClientRect()[pe]-vn}measureRenderedContentSize(){const ie=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?ie.offsetWidth:ie.offsetHeight}measureRangeSize(ie){return this._forOf?this._forOf.measureRangeSize(ie,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(ie){ie&&this._runAfterChangeDetection.push(ie),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,n.mal)(()=>{this._isChangeDetectionPending=!1;const ie=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const pe of ie)pe()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(pe){return new(pe||W)(n.rXU(n.aKT),n.rXU(n.gRc),n.rXU(n.SKi),n.rXU(Xe,8),n.rXU(L.dS,8),n.rXU(It),n.rXU(_e),n.rXU(de,8))};static#t=this.\u0275cmp=n.VBU({type:W,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(pe,Be){if(1&pe&&n.GBs(fe,7),2&pe){let Tt;n.mGM(Tt=n.lsd())&&(Be._contentWrapper=Tt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(pe,Be){2&pe&&n.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Be.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Be.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",n.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[n.Jv_([{provide:Ae,useFactory:(ie,pe)=>ie||pe,deps:[[new n.Xx1,new n.y_5(de)],W]}]),n.GFd,n.Vt3,n.aNF],ngContentSelectors:Ie,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(pe,Be){1&pe&&(n.NAR(),n.j41(0,"div",1,0),n.SdG(2),n.k0s(),n.nrm(3,"div",2)),2&pe&&(n.R7$(3),n.xc7("width",Be._totalContentWidth)("height",Be._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return W})();function wt(W,Me,ie){if(!ie.getBoundingClientRect)return 0;const Be=ie.getBoundingClientRect();return"horizontal"===W?"start"===Me?Be.left:Be.right:"start"===Me?Be.top:Be.bottom}let ln=(()=>{class W{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(ie){this._cdkVirtualForOf=ie,(0,H.y4)(ie)?this._dataSourceChanges.next(ie):this._dataSourceChanges.next(new H.hx((0,f.A)(ie)?ie:Array.from(ie||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(ie){this._needsUpdate=!0,this._cdkVirtualForTrackBy=ie?(pe,Be)=>ie(pe+(this._renderedRange?this._renderedRange.start:0),Be):void 0}set cdkVirtualForTemplate(ie){ie&&(this._needsUpdate=!0,this._template=ie)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(ie){this._viewRepeater.viewCacheSize=(0,t.OE)(ie)}constructor(ie,pe,Be,Tt,Wt,vn){this._viewContainerRef=ie,this._template=pe,this._differs=Be,this._viewRepeater=Tt,this._viewport=Wt,this.viewChange=new p.B7,this._dataSourceChanges=new p.B7,this.dataStream=this._dataSourceChanges.pipe((0,$.Z)(null),function G(){return W=>W.lift(new oe)}(),(0,le.n)(([Pt,dn])=>this._changeDataSource(Pt,dn)),(0,ve.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new p.B7,this.dataStream.subscribe(Pt=>{this._data=Pt,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,X.Q)(this._destroyed)).subscribe(Pt=>{this._renderedRange=Pt,this.viewChange.observers.length&&vn.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(ie,pe){if(ie.start>=ie.end)return 0;const Be=ie.start-this._renderedRange.start,Tt=ie.end-ie.start;let Wt,vn;for(let Pt=0;Pt<Tt;Pt++){const dn=this._viewContainerRef.get(Pt+Be);if(dn&&dn.rootNodes.length){Wt=vn=dn.rootNodes[0];break}}for(let Pt=Tt-1;Pt>-1;Pt--){const dn=this._viewContainerRef.get(Pt+Be);if(dn&&dn.rootNodes.length){vn=dn.rootNodes[dn.rootNodes.length-1];break}}return Wt&&vn?wt(pe,"end",vn)-wt(pe,"start",Wt):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const ie=this._differ.diff(this._renderedItems);ie?this._applyChanges(ie):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((ie,pe)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(ie,pe):pe)),this._needsUpdate=!0)}_changeDataSource(ie,pe){return ie&&ie.disconnect(this),this._needsUpdate=!0,pe?pe.connect(this):(0,v.of)()}_updateContext(){const ie=this._data.length;let pe=this._viewContainerRef.length;for(;pe--;){const Be=this._viewContainerRef.get(pe);Be.context.index=this._renderedRange.start+pe,Be.context.count=ie,this._updateComputedContextProperties(Be.context),Be.detectChanges()}}_applyChanges(ie){this._viewRepeater.applyChanges(ie,this._viewContainerRef,(Tt,Wt,vn)=>this._getEmbeddedViewArgs(Tt,vn),Tt=>Tt.item),ie.forEachIdentityChange(Tt=>{this._viewContainerRef.get(Tt.currentIndex).context.$implicit=Tt.item});const pe=this._data.length;let Be=this._viewContainerRef.length;for(;Be--;){const Tt=this._viewContainerRef.get(Be);Tt.context.index=this._renderedRange.start+Be,Tt.context.count=pe,this._updateComputedContextProperties(Tt.context)}}_updateComputedContextProperties(ie){ie.first=0===ie.index,ie.last=ie.index===ie.count-1,ie.even=ie.index%2==0,ie.odd=!ie.even}_getEmbeddedViewArgs(ie,pe){return{templateRef:this._template,context:{$implicit:ie.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:pe}}static#e=this.\u0275fac=function(pe){return new(pe||W)(n.rXU(n.c1b),n.rXU(n.C4Q),n.rXU(n._q3),n.rXU(H.sL),n.rXU(tt,4),n.rXU(n.SKi))};static#t=this.\u0275dir=n.FsC({type:W,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[n.Jv_([{provide:H.sL,useClass:H.DQ}])]})}return W})(),Jt=(()=>{class W{static#e=this.\u0275fac=function(pe){return new(pe||W)};static#t=this.\u0275mod=n.$C({type:W});static#n=this.\u0275inj=n.G2t({})}return W})(),Ft=(()=>{class W{static#e=this.\u0275fac=function(pe){return new(pe||W)};static#t=this.\u0275mod=n.$C({type:W});static#n=this.\u0275inj=n.G2t({imports:[L.jI,Jt,L.jI,Jt]})}return W})()},5887:(jt,Se,l)=>{"use strict";l.d(Se,{AL:()=>z,EZ:()=>U,I8:()=>fe,L_:()=>J,N0:()=>Wt,RT:()=>Jt,Rk:()=>Me,To:()=>ce,VP:()=>G,Y$:()=>Xe,ZM:()=>tt,c7:()=>te,cO:()=>Z,df:()=>L,hc:()=>bt,hi:()=>R,ki:()=>Be,lH:()=>Bn,lQ:()=>le,n5:()=>F,oh:()=>H,pe:()=>Mn,sY:()=>$,u4:()=>rt,wA:()=>Ie,yT:()=>ln});var t=l(8203),n=l(5024),p=l(6860),v=l(494),b=l(177),E=l(3953),M=l(5286),S=l(9928),u=l(8982),I=l(4421),k=l(7605);const T=[[["caption"]],[["colgroup"],["col"]],"*"],w=["caption","colgroup, col","*"];function D(Pt,dn){1&Pt&&E.SdG(0,2)}function f(Pt,dn){1&Pt&&(E.j41(0,"thead",0),E.eu8(1,1),E.k0s(),E.j41(2,"tbody",0),E.eu8(3,2)(4,3),E.k0s(),E.j41(5,"tfoot",0),E.eu8(6,4),E.k0s())}function V(Pt,dn){1&Pt&&E.eu8(0,1)(1,2)(2,3)(3,4)}function K(Pt,dn){if(1&Pt&&(E.j41(0,"th",3),E.EFF(1),E.k0s()),2&Pt){const at=E.XpG();E.xc7("text-align",at.justify),E.R7$(),E.SpI(" ",at.headerText," ")}}function ne(Pt,dn){if(1&Pt&&(E.j41(0,"td",4),E.EFF(1),E.k0s()),2&Pt){const at=dn.$implicit,pt=E.XpG();E.xc7("text-align",pt.justify),E.R7$(),E.SpI(" ",pt.dataAccessor(at,pt.name)," ")}}const U=new E.nKC("CDK_TABLE"),c=new E.nKC("text-column-options");let Z=(()=>{class Pt{constructor(at){this.template=at}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkCellDef",""]],standalone:!0})}return Pt})(),F=(()=>{class Pt{constructor(at){this.template=at}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Pt})(),J=(()=>{class Pt{constructor(at){this.template=at}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Pt})(),z=(()=>{class Pt{get name(){return this._name}set name(at){this._setNameInput(at)}get sticky(){return this._sticky}set sticky(at){at!==this._sticky&&(this._sticky=at,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(at){at!==this._stickyEnd&&(this._stickyEnd=at,this._hasStickyChanged=!0)}constructor(at){this._table=at,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const at=this._hasStickyChanged;return this.resetStickyChanged(),at}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(at){at&&(this._name=at,this.cssClassFriendlyName=at.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(U,8))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkColumnDef",""]],contentQueries:function(pt,Xt,Gt){if(1&pt&&(E.wni(Gt,Z,5),E.wni(Gt,F,5),E.wni(Gt,J,5)),2&pt){let pn;E.mGM(pn=E.lsd())&&(Xt.cell=pn.first),E.mGM(pn=E.lsd())&&(Xt.headerCell=pn.first),E.mGM(pn=E.lsd())&&(Xt.footerCell=pn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",E.L39],stickyEnd:[2,"stickyEnd","stickyEnd",E.L39]},standalone:!0,features:[E.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Pt}]),E.GFd]})}return Pt})();class X{constructor(dn,at){at.nativeElement.classList.add(...dn._columnCssClassName)}}let $=(()=>{class Pt extends X{constructor(at,pt){super(at,pt)}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(z),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[E.Vt3]})}return Pt})(),te=(()=>{class Pt extends X{constructor(at,pt){super(at,pt);const Xt=at._table?._getCellRole();Xt&&pt.nativeElement.setAttribute("role",Xt)}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(z),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[E.Vt3]})}return Pt})(),G=(()=>{class Pt extends X{constructor(at,pt){super(at,pt);const Xt=at._table?._getCellRole();Xt&&pt.nativeElement.setAttribute("role",Xt)}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(z),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[E.Vt3]})}return Pt})();class oe{constructor(){this.tasks=[],this.endTasks=[]}}const ce=new E.nKC("_COALESCED_STYLE_SCHEDULER");let le=(()=>{class Pt{constructor(at){this._currentSchedule=null,this._ngZone=(0,E.WQX)(E.SKi)}schedule(at){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(at)}scheduleEnd(at){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(at)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new oe,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const at=this._currentSchedule;this._currentSchedule=new oe;for(const pt of at.tasks)pt();for(const pt of at.endTasks)pt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.KVO(E.SKi))};static#t=this.\u0275prov=E.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})(),Q=(()=>{class Pt{constructor(at,pt){this.template=at,this._differs=pt}ngOnChanges(at){if(!this._columnsDiffer){const pt=at.columns&&at.columns.currentValue||[];this._columnsDiffer=this._differs.find(pt).create(),this._columnsDiffer.diff(pt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(at){return this instanceof R?at.headerCell.template:this instanceof L?at.footerCell.template:at.cell.template}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q),E.rXU(E._q3))};static#t=this.\u0275dir=E.FsC({type:Pt,features:[E.OA$]})}return Pt})(),R=(()=>{class Pt extends Q{get sticky(){return this._sticky}set sticky(at){at!==this._sticky&&(this._sticky=at,this._hasStickyChanged=!0)}constructor(at,pt,Xt){super(at,pt),this._table=Xt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(at){super.ngOnChanges(at)}hasStickyChanged(){const at=this._hasStickyChanged;return this.resetStickyChanged(),at}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q),E.rXU(E._q3),E.rXU(U,8))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",E.L39]},standalone:!0,features:[E.GFd,E.Vt3,E.OA$]})}return Pt})(),L=(()=>{class Pt extends Q{get sticky(){return this._sticky}set sticky(at){at!==this._sticky&&(this._sticky=at,this._hasStickyChanged=!0)}constructor(at,pt,Xt){super(at,pt),this._table=Xt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(at){super.ngOnChanges(at)}hasStickyChanged(){const at=this._hasStickyChanged;return this.resetStickyChanged(),at}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q),E.rXU(E._q3),E.rXU(U,8))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",E.L39]},standalone:!0,features:[E.GFd,E.Vt3,E.OA$]})}return Pt})(),H=(()=>{class Pt extends Q{constructor(at,pt,Xt){super(at,pt),this._table=Xt}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q),E.rXU(E._q3),E.rXU(U,8))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[E.Vt3]})}return Pt})(),fe=(()=>{class Pt{static#e=this.mostRecentCellOutlet=null;constructor(at){this._viewContainer=at,Pt.mostRecentCellOutlet=this}ngOnDestroy(){Pt.mostRecentCellOutlet===this&&(Pt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.c1b))};static#n=this.\u0275dir=E.FsC({type:Pt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Pt})(),Ie=(()=>{class Pt{static#e=this.\u0275fac=function(pt){return new(pt||Pt)};static#t=this.\u0275cmp=E.VBU({type:Pt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[E.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,Xt){1&pt&&E.eu8(0,0)},dependencies:[fe],encapsulation:2})}return Pt})(),Xe=(()=>{class Pt{static#e=this.\u0275fac=function(pt){return new(pt||Pt)};static#t=this.\u0275cmp=E.VBU({type:Pt,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[E.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,Xt){1&pt&&E.eu8(0,0)},dependencies:[fe],encapsulation:2})}return Pt})(),bt=(()=>{class Pt{static#e=this.\u0275fac=function(pt){return new(pt||Pt)};static#t=this.\u0275cmp=E.VBU({type:Pt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[E.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,Xt){1&pt&&E.eu8(0,0)},dependencies:[fe],encapsulation:2})}return Pt})(),rt=(()=>{class Pt{constructor(at){this.templateRef=at,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.C4Q))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Pt})();const yt=["top","bottom","left","right"];class ot{constructor(dn,at,pt,Xt,Gt=!0,pn=!0,nn){this._isNativeHtmlTable=dn,this._stickCellCss=at,this.direction=pt,this._coalescedStyleScheduler=Xt,this._isBrowser=Gt,this._needsPositionStickyOnElement=pn,this._positionListener=nn,this._cachedCellWidths=[],this._borderCellCss={top:`${at}-border-elem-top`,bottom:`${at}-border-elem-bottom`,left:`${at}-border-elem-left`,right:`${at}-border-elem-right`}}clearStickyPositioning(dn,at){const pt=[];for(const Xt of dn)if(Xt.nodeType===Xt.ELEMENT_NODE){pt.push(Xt);for(let Gt=0;Gt<Xt.children.length;Gt++)pt.push(Xt.children[Gt])}this._coalescedStyleScheduler.schedule(()=>{for(const Xt of pt)this._removeStickyStyle(Xt,at)})}updateStickyColumns(dn,at,pt,Xt=!0){dn.length&&this._isBrowser&&(at.some(Gt=>Gt)||pt.some(Gt=>Gt))?this._coalescedStyleScheduler.schedule(()=>{const Gt=dn[0],pn=Gt.children.length,nn=this._getCellWidths(Gt,Xt),xn=this._getStickyStartColumnPositions(nn,at),kn=this._getStickyEndColumnPositions(nn,pt),Gn=at.lastIndexOf(!0),hi=pt.indexOf(!0),Ht="rtl"===this.direction,dt=Ht?"right":"left",Vt=Ht?"left":"right";for(const ct of dn)for(let kt=0;kt<pn;kt++){const qt=ct.children[kt];at[kt]&&this._addStickyStyle(qt,dt,xn[kt],kt===Gn),pt[kt]&&this._addStickyStyle(qt,Vt,kn[kt],kt===hi)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Gn?[]:nn.slice(0,Gn+1).map((ct,kt)=>at[kt]?ct:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===hi?[]:nn.slice(hi).map((ct,kt)=>pt[kt+hi]?ct:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(dn,at,pt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const Xt="bottom"===pt?dn.slice().reverse():dn,Gt="bottom"===pt?at.slice().reverse():at,pn=[],nn=[],xn=[];for(let Gn=0,hi=0;Gn<Xt.length;Gn++){if(!Gt[Gn])continue;pn[Gn]=hi;const Ht=Xt[Gn];xn[Gn]=this._isNativeHtmlTable?Array.from(Ht.children):[Ht];const dt=Ht.getBoundingClientRect().height;hi+=dt,nn[Gn]=dt}const kn=Gt.lastIndexOf(!0);for(let Gn=0;Gn<Xt.length;Gn++){if(!Gt[Gn])continue;const hi=pn[Gn],Ht=Gn===kn;for(const dt of xn[Gn])this._addStickyStyle(dt,pt,hi,Ht)}"top"===pt?this._positionListener?.stickyHeaderRowsUpdated({sizes:nn,offsets:pn,elements:xn}):this._positionListener?.stickyFooterRowsUpdated({sizes:nn,offsets:pn,elements:xn})})}updateStickyFooterContainer(dn,at){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const pt=dn.querySelector("tfoot");pt&&(at.some(Xt=>!Xt)?this._removeStickyStyle(pt,["bottom"]):this._addStickyStyle(pt,"bottom",0,!1))})}_removeStickyStyle(dn,at){for(const Xt of at)dn.style[Xt]="",dn.classList.remove(this._borderCellCss[Xt]);yt.some(Xt=>-1===at.indexOf(Xt)&&dn.style[Xt])?dn.style.zIndex=this._getCalculatedZIndex(dn):(dn.style.zIndex="",this._needsPositionStickyOnElement&&(dn.style.position=""),dn.classList.remove(this._stickCellCss))}_addStickyStyle(dn,at,pt,Xt){dn.classList.add(this._stickCellCss),Xt&&dn.classList.add(this._borderCellCss[at]),dn.style[at]=`${pt}px`,dn.style.zIndex=this._getCalculatedZIndex(dn),this._needsPositionStickyOnElement&&(dn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(dn){const at={top:100,bottom:10,left:1,right:1};let pt=0;for(const Xt of yt)dn.style[Xt]&&(pt+=at[Xt]);return pt?`${pt}`:""}_getCellWidths(dn,at=!0){if(!at&&this._cachedCellWidths.length)return this._cachedCellWidths;const pt=[],Xt=dn.children;for(let Gt=0;Gt<Xt.length;Gt++)pt.push(Xt[Gt].getBoundingClientRect().width);return this._cachedCellWidths=pt,pt}_getStickyStartColumnPositions(dn,at){const pt=[];let Xt=0;for(let Gt=0;Gt<dn.length;Gt++)at[Gt]&&(pt[Gt]=Xt,Xt+=dn[Gt]);return pt}_getStickyEndColumnPositions(dn,at){const pt=[];let Xt=0;for(let Gt=dn.length;Gt>0;Gt--)at[Gt]&&(pt[Gt]=Xt,Xt+=dn[Gt]);return pt}}const tt=new E.nKC("CDK_SPL");let ln=(()=>{class Pt{constructor(at,pt){this.viewContainer=at,this.elementRef=pt;const Xt=(0,E.WQX)(U);Xt._rowOutlet=this,Xt._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.c1b),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","rowOutlet",""]],standalone:!0})}return Pt})(),Mn=(()=>{class Pt{constructor(at,pt){this.viewContainer=at,this.elementRef=pt;const Xt=(0,E.WQX)(U);Xt._headerRowOutlet=this,Xt._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.c1b),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Pt})(),Bn=(()=>{class Pt{constructor(at,pt){this.viewContainer=at,this.elementRef=pt;const Xt=(0,E.WQX)(U);Xt._footerRowOutlet=this,Xt._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.c1b),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Pt})(),Jt=(()=>{class Pt{constructor(at,pt){this.viewContainer=at,this.elementRef=pt;const Xt=(0,E.WQX)(U);Xt._noDataRowOutlet=this,Xt._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E.c1b),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:Pt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Pt})(),Me=(()=>{class Pt{_getCellRole(){if(void 0===this._cellRoleInternal){const at=this._elementRef.nativeElement.getAttribute("role"),pt="grid"===at||"treegrid"===at?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===pt?null:pt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(at){this._trackByFn=at}get dataSource(){return this._dataSource}set dataSource(at){this._dataSource!==at&&this._switchDataSource(at)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(at){this._multiTemplateDataRows=at,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(at){this._fixedLayout=at,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(at,pt,Xt,Gt,pn,nn,xn,kn,Gn,hi,Ht,dt){this._differs=at,this._changeDetectorRef=pt,this._elementRef=Xt,this._dir=pn,this._platform=xn,this._viewRepeater=kn,this._coalescedStyleScheduler=Gn,this._viewportRuler=hi,this._stickyPositioningListener=Ht,this._onDestroy=new M.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new E.bkB,this.viewChange=new S.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,E.WQX)(E.zZn),Gt||Xt.nativeElement.setAttribute("role","table"),this._document=nn,this._isServer=!xn.isBrowser,this._isNativeHtmlTable="TABLE"===Xt.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((at,pt)=>this.trackBy?this.trackBy(pt.dataIndex,pt.data):pt),this._viewportRuler.change().pipe((0,k.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(at=>{at?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const at=this._dataDiffer.diff(this._renderRows);if(!at)return this._updateNoDataRow(),void this.contentChanged.next();const pt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(at,pt,(Xt,Gt,pn)=>this._getEmbeddedViewArgs(Xt.item,pn),Xt=>Xt.item.data,Xt=>{Xt.operation===n.Q3.INSERTED&&Xt.context&&this._renderCellTemplateForItem(Xt.record.item.rowDef,Xt.context)}),this._updateRowIndexContext(),at.forEachIdentityChange(Xt=>{pt.get(Xt.currentIndex).context.$implicit=Xt.item.data}),this._updateNoDataRow(),(0,E.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(at){this._customColumnDefs.add(at)}removeColumnDef(at){this._customColumnDefs.delete(at)}addRowDef(at){this._customRowDefs.add(at)}removeRowDef(at){this._customRowDefs.delete(at)}addHeaderRowDef(at){this._customHeaderRowDefs.add(at),this._headerRowDefChanged=!0}removeHeaderRowDef(at){this._customHeaderRowDefs.delete(at),this._headerRowDefChanged=!0}addFooterRowDef(at){this._customFooterRowDefs.add(at),this._footerRowDefChanged=!0}removeFooterRowDef(at){this._customFooterRowDefs.delete(at),this._footerRowDefChanged=!0}setNoDataRow(at){this._customNoDataRow=at}updateStickyHeaderRowStyles(){const at=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const Xt=pe(this._headerRowOutlet,"thead");Xt&&(Xt.style.display=at.length?"":"none")}const pt=this._headerRowDefs.map(Xt=>Xt.sticky);this._stickyStyler.clearStickyPositioning(at,["top"]),this._stickyStyler.stickRows(at,pt,"top"),this._headerRowDefs.forEach(Xt=>Xt.resetStickyChanged())}updateStickyFooterRowStyles(){const at=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const Xt=pe(this._footerRowOutlet,"tfoot");Xt&&(Xt.style.display=at.length?"":"none")}const pt=this._footerRowDefs.map(Xt=>Xt.sticky);this._stickyStyler.clearStickyPositioning(at,["bottom"]),this._stickyStyler.stickRows(at,pt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,pt),this._footerRowDefs.forEach(Xt=>Xt.resetStickyChanged())}updateStickyColumnStyles(){const at=this._getRenderedRows(this._headerRowOutlet),pt=this._getRenderedRows(this._rowOutlet),Xt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...at,...pt,...Xt],["left","right"]),this._stickyColumnStylesNeedReset=!1),at.forEach((Gt,pn)=>{this._addStickyColumnStyles([Gt],this._headerRowDefs[pn])}),this._rowDefs.forEach(Gt=>{const pn=[];for(let nn=0;nn<pt.length;nn++)this._renderRows[nn].rowDef===Gt&&pn.push(pt[nn]);this._addStickyColumnStyles(pn,Gt)}),Xt.forEach((Gt,pn)=>{this._addStickyColumnStyles([Gt],this._footerRowDefs[pn])}),Array.from(this._columnDefsByName.values()).forEach(Gt=>Gt.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const pt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||pt,this._forceRecalculateCellWidths=pt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const at=[],pt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Xt=0;Xt<this._data.length;Xt++){let Gt=this._data[Xt];const pn=this._getRenderRowsForData(Gt,Xt,pt.get(Gt));this._cachedRenderRowsMap.has(Gt)||this._cachedRenderRowsMap.set(Gt,new WeakMap);for(let nn=0;nn<pn.length;nn++){let xn=pn[nn];const kn=this._cachedRenderRowsMap.get(xn.data);kn.has(xn.rowDef)?kn.get(xn.rowDef).push(xn):kn.set(xn.rowDef,[xn]),at.push(xn)}}return at}_getRenderRowsForData(at,pt,Xt){return this._getRowDefs(at,pt).map(pn=>{const nn=Xt&&Xt.has(pn)?Xt.get(pn):[];if(nn.length){const xn=nn.shift();return xn.dataIndex=pt,xn}return{data:at,rowDef:pn,dataIndex:pt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ie(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(pt=>{this._columnDefsByName.has(pt.name),this._columnDefsByName.set(pt.name,pt)})}_cacheRowDefs(){this._headerRowDefs=ie(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ie(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ie(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const at=this._rowDefs.filter(pt=>!pt.when);this._defaultRowDef=at[0]}_renderUpdatedColumns(){const at=(pn,nn)=>pn||!!nn.getColumnsDiff(),pt=this._rowDefs.reduce(at,!1);pt&&this._forceRenderDataRows();const Xt=this._headerRowDefs.reduce(at,!1);Xt&&this._forceRenderHeaderRows();const Gt=this._footerRowDefs.reduce(at,!1);return Gt&&this._forceRenderFooterRows(),pt||Xt||Gt}_switchDataSource(at){this._data=[],(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),at||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=at}_observeRenderChanges(){if(!this.dataSource)return;let at;(0,n.y4)(this.dataSource)?at=this.dataSource.connect(this):(0,u.A)(this.dataSource)?at=this.dataSource:Array.isArray(this.dataSource)&&(at=(0,I.of)(this.dataSource)),this._renderChangeSubscription=at.pipe((0,k.Q)(this._onDestroy)).subscribe(pt=>{this._data=pt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((at,pt)=>this._renderRow(this._headerRowOutlet,at,pt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((at,pt)=>this._renderRow(this._footerRowOutlet,at,pt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(at,pt){const Xt=Array.from(pt.columns||[]).map(nn=>this._columnDefsByName.get(nn)),Gt=Xt.map(nn=>nn.sticky),pn=Xt.map(nn=>nn.stickyEnd);this._stickyStyler.updateStickyColumns(at,Gt,pn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(at){const pt=[];for(let Xt=0;Xt<at.viewContainer.length;Xt++){const Gt=at.viewContainer.get(Xt);pt.push(Gt.rootNodes[0])}return pt}_getRowDefs(at,pt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Xt=[];if(this.multiTemplateDataRows)Xt=this._rowDefs.filter(Gt=>!Gt.when||Gt.when(pt,at));else{let Gt=this._rowDefs.find(pn=>pn.when&&pn.when(pt,at))||this._defaultRowDef;Gt&&Xt.push(Gt)}return Xt}_getEmbeddedViewArgs(at,pt){return{templateRef:at.rowDef.template,context:{$implicit:at.data},index:pt}}_renderRow(at,pt,Xt,Gt={}){const pn=at.viewContainer.createEmbeddedView(pt.template,Gt,Xt);return this._renderCellTemplateForItem(pt,Gt),pn}_renderCellTemplateForItem(at,pt){for(let Xt of this._getCellTemplates(at))fe.mostRecentCellOutlet&&fe.mostRecentCellOutlet._viewContainer.createEmbeddedView(Xt,pt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const at=this._rowOutlet.viewContainer;for(let pt=0,Xt=at.length;pt<Xt;pt++){const pn=at.get(pt).context;pn.count=Xt,pn.first=0===pt,pn.last=pt===Xt-1,pn.even=pt%2==0,pn.odd=!pn.even,this.multiTemplateDataRows?(pn.dataIndex=this._renderRows[pt].dataIndex,pn.renderIndex=pt):pn.index=this._renderRows[pt].dataIndex}}_getCellTemplates(at){return at&&at.columns?Array.from(at.columns,pt=>{const Xt=this._columnDefsByName.get(pt);return at.extractCellTemplate(Xt)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const at=(pt,Xt)=>pt||Xt.hasStickyChanged();this._headerRowDefs.reduce(at,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(at,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(at,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ot(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,I.of)()).pipe((0,k.Q)(this._onDestroy)).subscribe(pt=>{this._stickyStyler.direction=pt,this.updateStickyColumnStyles()})}_getOwnDefs(at){return at.filter(pt=>!pt._table||pt._table===this)}_updateNoDataRow(){const at=this._customNoDataRow||this._noDataRow;if(!at)return;const pt=0===this._rowOutlet.viewContainer.length;if(pt===this._isShowingNoDataRow)return;const Xt=this._noDataRowOutlet.viewContainer;if(pt){const Gt=Xt.createEmbeddedView(at.templateRef),pn=Gt.rootNodes[0];1===Gt.rootNodes.length&&pn?.nodeType===this._document.ELEMENT_NODE&&(pn.setAttribute("role","row"),pn.classList.add(at._contentClassName))}else Xt.clear();this._isShowingNoDataRow=pt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(E._q3),E.rXU(E.gRc),E.rXU(E.aKT),E.kS0("role"),E.rXU(t.dS,8),E.rXU(b.qQ),E.rXU(p.OD),E.rXU(n.sL),E.rXU(ce),E.rXU(v.Xj),E.rXU(tt,12),E.rXU(E.SKi,8))};static#t=this.\u0275cmp=E.VBU({type:Pt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(pt,Xt,Gt){if(1&pt&&(E.wni(Gt,rt,5),E.wni(Gt,z,5),E.wni(Gt,H,5),E.wni(Gt,R,5),E.wni(Gt,L,5)),2&pt){let pn;E.mGM(pn=E.lsd())&&(Xt._noDataRow=pn.first),E.mGM(pn=E.lsd())&&(Xt._contentColumnDefs=pn),E.mGM(pn=E.lsd())&&(Xt._contentRowDefs=pn),E.mGM(pn=E.lsd())&&(Xt._contentHeaderRowDefs=pn),E.mGM(pn=E.lsd())&&(Xt._contentFooterRowDefs=pn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(pt,Xt){2&pt&&E.AVh("cdk-table-fixed-layout",Xt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",E.L39],fixedLayout:[2,"fixedLayout","fixedLayout",E.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[E.Jv_([{provide:U,useExisting:Pt},{provide:n.sL,useClass:n.xn},{provide:ce,useClass:le},{provide:tt,useValue:null}]),E.GFd,E.aNF],ngContentSelectors:w,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(pt,Xt){1&pt&&(E.NAR(T),E.SdG(0),E.SdG(1,1),E.DNE(2,D,1,0)(3,f,7,0)(4,V,4,0)),2&pt&&(E.R7$(2),E.vxM(Xt._isServer?2:-1),E.R7$(),E.vxM(Xt._isNativeHtmlTable?3:4))},dependencies:[Mn,ln,Jt,Bn],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Pt})();function ie(Pt,dn){return Pt.concat(Array.from(dn))}function pe(Pt,dn){const at=dn.toUpperCase();let pt=Pt.viewContainer.element.nativeElement;for(;pt;){const Xt=1===pt.nodeType?pt.nodeName:null;if(Xt===at)return pt;if("TABLE"===Xt)break;pt=pt.parentNode}return null}let Be=(()=>{class Pt{get name(){return this._name}set name(at){this._name=at,this._syncColumnDefName()}constructor(at,pt){this._table=at,this._options=pt,this.justify="start",this._options=pt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((at,pt)=>at[pt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const at=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(at):at[0].toUpperCase()+at.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(pt){return new(pt||Pt)(E.rXU(Me,8),E.rXU(c,8))};static#t=this.\u0275cmp=E.VBU({type:Pt,selectors:[["cdk-text-column"]],viewQuery:function(pt,Xt){if(1&pt&&(E.GBs(z,7),E.GBs(Z,7),E.GBs(F,7)),2&pt){let Gt;E.mGM(Gt=E.lsd())&&(Xt.columnDef=Gt.first),E.mGM(Gt=E.lsd())&&(Xt.cell=Gt.first),E.mGM(Gt=E.lsd())&&(Xt.headerCell=Gt.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[E.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(pt,Xt){1&pt&&(E.qex(0,0),E.DNE(1,K,2,3,"th",1)(2,ne,2,3,"td",2),E.bVm())},dependencies:[z,F,$,Z,G],encapsulation:2})}return Pt})(),Wt=(()=>{class Pt{static#e=this.\u0275fac=function(pt){return new(pt||Pt)};static#t=this.\u0275mod=E.$C({type:Pt});static#n=this.\u0275inj=E.G2t({imports:[v.E9]})}return Pt})()},177:(jt,Se,l)=>{"use strict";l.d(Se,{AJ:()=>Wi,Jj:()=>bs,MD:()=>Ci,N0:()=>To,OI:()=>An,P9:()=>Nn,QT:()=>p,Sm:()=>V,Sq:()=>q,T3:()=>ti,UE:()=>Ws,VF:()=>b,Vy:()=>ys,Xr:()=>Co,YU:()=>Ut,ZD:()=>v,_b:()=>jn,aZ:()=>ne,bT:()=>mt,e1:()=>Sn,fG:()=>Jn,fw:()=>K,hb:()=>D,hj:()=>u,oe:()=>Ne,qQ:()=>M,ux:()=>Dn,vh:()=>zo});var t=l(3953);let n=null;function p(){return n}function v(ue){n??=ue}class b{}const M=new t.nKC("");let S=(()=>{class ue{historyGo(ke){throw new Error("")}static#e=this.\u0275fac=function(st){return new(st||ue)};static#t=this.\u0275prov=t.jDH({token:ue,factory:()=>(0,t.WQX)(I),providedIn:"platform"})}return ue})();const u=new t.nKC("");let I=(()=>{class ue extends S{constructor(){super(),this._doc=(0,t.WQX)(M),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return p().getBaseHref(this._doc)}onPopState(ke){const st=p().getGlobalEventTarget(this._doc,"window");return st.addEventListener("popstate",ke,!1),()=>st.removeEventListener("popstate",ke)}onHashChange(ke){const st=p().getGlobalEventTarget(this._doc,"window");return st.addEventListener("hashchange",ke,!1),()=>st.removeEventListener("hashchange",ke)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ke){this._location.pathname=ke}pushState(ke,st,tn){this._history.pushState(ke,st,tn)}replaceState(ke,st,tn){this._history.replaceState(ke,st,tn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ke=0){this._history.go(ke)}getState(){return this._history.state}static#e=this.\u0275fac=function(st){return new(st||ue)};static#t=this.\u0275prov=t.jDH({token:ue,factory:()=>new ue,providedIn:"platform"})}return ue})();function k(ue,vt){if(0==ue.length)return vt;if(0==vt.length)return ue;let ke=0;return ue.endsWith("/")&&ke++,vt.startsWith("/")&&ke++,2==ke?ue+vt.substring(1):1==ke?ue+vt:ue+"/"+vt}function T(ue){const vt=ue.match(/#|\?|$/),ke=vt&&vt.index||ue.length;return ue.slice(0,ke-("/"===ue[ke-1]?1:0))+ue.slice(ke)}function w(ue){return ue&&"?"!==ue[0]?"?"+ue:ue}let D=(()=>{class ue{historyGo(ke){throw new Error("")}static#e=this.\u0275fac=function(st){return new(st||ue)};static#t=this.\u0275prov=t.jDH({token:ue,factory:()=>(0,t.WQX)(V),providedIn:"root"})}return ue})();const f=new t.nKC("");let V=(()=>{class ue extends D{constructor(ke,st){super(),this._platformLocation=ke,this._removeListenerFns=[],this._baseHref=st??this._platformLocation.getBaseHrefFromDOM()??(0,t.WQX)(M).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ke){this._removeListenerFns.push(this._platformLocation.onPopState(ke),this._platformLocation.onHashChange(ke))}getBaseHref(){return this._baseHref}prepareExternalUrl(ke){return k(this._baseHref,ke)}path(ke=!1){const st=this._platformLocation.pathname+w(this._platformLocation.search),tn=this._platformLocation.hash;return tn&&ke?`${st}${tn}`:st}pushState(ke,st,tn,Fn){const Ln=this.prepareExternalUrl(tn+w(Fn));this._platformLocation.pushState(ke,st,Ln)}replaceState(ke,st,tn,Fn){const Ln=this.prepareExternalUrl(tn+w(Fn));this._platformLocation.replaceState(ke,st,Ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ke=0){this._platformLocation.historyGo?.(ke)}static#e=this.\u0275fac=function(st){return new(st||ue)(t.KVO(S),t.KVO(f,8))};static#t=this.\u0275prov=t.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),K=(()=>{class ue extends D{constructor(ke,st){super(),this._platformLocation=ke,this._baseHref="",this._removeListenerFns=[],null!=st&&(this._baseHref=st)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ke){this._removeListenerFns.push(this._platformLocation.onPopState(ke),this._platformLocation.onHashChange(ke))}getBaseHref(){return this._baseHref}path(ke=!1){const st=this._platformLocation.hash??"#";return st.length>0?st.substring(1):st}prepareExternalUrl(ke){const st=k(this._baseHref,ke);return st.length>0?"#"+st:st}pushState(ke,st,tn,Fn){let Ln=this.prepareExternalUrl(tn+w(Fn));0==Ln.length&&(Ln=this._platformLocation.pathname),this._platformLocation.pushState(ke,st,Ln)}replaceState(ke,st,tn,Fn){let Ln=this.prepareExternalUrl(tn+w(Fn));0==Ln.length&&(Ln=this._platformLocation.pathname),this._platformLocation.replaceState(ke,st,Ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ke=0){this._platformLocation.historyGo?.(ke)}static#e=this.\u0275fac=function(st){return new(st||ue)(t.KVO(S),t.KVO(f,8))};static#t=this.\u0275prov=t.jDH({token:ue,factory:ue.\u0275fac})}return ue})(),ne=(()=>{class ue{constructor(ke){this._subject=new t.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ke;const st=this._locationStrategy.getBaseHref();this._basePath=function F(ue){if(new RegExp("^(https?:)?//").test(ue)){const[,ke]=ue.split(/\/\/[^\/]+/);return ke}return ue}(T(Z(st))),this._locationStrategy.onPopState(tn=>{this._subject.emit({url:this.path(!0),pop:!0,state:tn.state,type:tn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ke=!1){return this.normalize(this._locationStrategy.path(ke))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ke,st=""){return this.path()==this.normalize(ke+w(st))}normalize(ke){return ue.stripTrailingSlash(function c(ue,vt){if(!ue||!vt.startsWith(ue))return vt;const ke=vt.substring(ue.length);return""===ke||["/",";","?","#"].includes(ke[0])?ke:vt}(this._basePath,Z(ke)))}prepareExternalUrl(ke){return ke&&"/"!==ke[0]&&(ke="/"+ke),this._locationStrategy.prepareExternalUrl(ke)}go(ke,st="",tn=null){this._locationStrategy.pushState(tn,"",ke,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(ke+w(st)),tn)}replaceState(ke,st="",tn=null){this._locationStrategy.replaceState(tn,"",ke,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(ke+w(st)),tn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ke=0){this._locationStrategy.historyGo?.(ke)}onUrlChange(ke){return this._urlChangeListeners.push(ke),this._urlChangeSubscription??=this.subscribe(st=>{this._notifyUrlChangeListeners(st.url,st.state)}),()=>{const st=this._urlChangeListeners.indexOf(ke);this._urlChangeListeners.splice(st,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ke="",st){this._urlChangeListeners.forEach(tn=>tn(ke,st))}subscribe(ke,st,tn){return this._subject.subscribe({next:ke,error:st,complete:tn})}static#e=this.normalizeQueryParams=w;static#t=this.joinWithSlash=k;static#n=this.stripTrailingSlash=T;static#i=this.\u0275fac=function(st){return new(st||ue)(t.KVO(D))};static#s=this.\u0275prov=t.jDH({token:ue,factory:()=>function U(){return new ne((0,t.KVO)(D))}(),providedIn:"root"})}return ue})();function Z(ue){return ue.replace(/\/index.html$/,"")}const J={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var z=function(ue){return ue[ue.Decimal=0]="Decimal",ue[ue.Percent=1]="Percent",ue[ue.Currency=2]="Currency",ue[ue.Scientific=3]="Scientific",ue}(z||{}),$=function(ue){return ue[ue.Format=0]="Format",ue[ue.Standalone=1]="Standalone",ue}($||{}),te=function(ue){return ue[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue}(te||{}),G=function(ue){return ue[ue.Short=0]="Short",ue[ue.Medium=1]="Medium",ue[ue.Long=2]="Long",ue[ue.Full=3]="Full",ue}(G||{});const oe={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ie(ue,vt){return tt((0,t.H5H)(ue)[t.KH2.DateFormat],vt)}function Xe(ue,vt){return tt((0,t.H5H)(ue)[t.KH2.TimeFormat],vt)}function bt(ue,vt){return tt((0,t.H5H)(ue)[t.KH2.DateTimeFormat],vt)}function rt(ue,vt){const ke=(0,t.H5H)(ue),st=ke[t.KH2.NumberSymbols][vt];if(typeof st>"u"){if(vt===oe.CurrencyDecimal)return ke[t.KH2.NumberSymbols][oe.Decimal];if(vt===oe.CurrencyGroup)return ke[t.KH2.NumberSymbols][oe.Group]}return st}function de(ue){if(!ue[t.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ue[t.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tt(ue,vt){for(let ke=vt;ke>-1;ke--)if(typeof ue[ke]<"u")return ue[ke];throw new Error("Locale data API: locale data undefined")}function wt(ue){const[vt,ke]=ue.split(":");return{hours:+vt,minutes:+ke}}const Jt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ft={},W=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Me=function(ue){return ue[ue.Short=0]="Short",ue[ue.ShortGMT=1]="ShortGMT",ue[ue.Long=2]="Long",ue[ue.Extended=3]="Extended",ue}(Me||{}),ie=function(ue){return ue[ue.FullYear=0]="FullYear",ue[ue.Month=1]="Month",ue[ue.Date=2]="Date",ue[ue.Hours=3]="Hours",ue[ue.Minutes=4]="Minutes",ue[ue.Seconds=5]="Seconds",ue[ue.FractionalSeconds=6]="FractionalSeconds",ue[ue.Day=7]="Day",ue}(ie||{}),pe=function(ue){return ue[ue.DayPeriods=0]="DayPeriods",ue[ue.Days=1]="Days",ue[ue.Months=2]="Months",ue[ue.Eras=3]="Eras",ue}(pe||{});function Be(ue,vt,ke,st){let tn=function un(ue){if(je(ue))return ue;if("number"==typeof ue&&!isNaN(ue))return new Date(ue);if("string"==typeof ue){if(ue=ue.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ue)){const[tn,Fn=1,Ln=1]=ue.split("-").map(Di=>+Di);return Tt(tn,Fn-1,Ln)}const ke=parseFloat(ue);if(!isNaN(ue-ke))return new Date(ke);let st;if(st=ue.match(Jt))return function Qe(ue){const vt=new Date(0);let ke=0,st=0;const tn=ue[8]?vt.setUTCFullYear:vt.setFullYear,Fn=ue[8]?vt.setUTCHours:vt.setHours;ue[9]&&(ke=Number(ue[9]+ue[10]),st=Number(ue[9]+ue[11])),tn.call(vt,Number(ue[1]),Number(ue[2])-1,Number(ue[3]));const Ln=Number(ue[4]||0)-ke,Di=Number(ue[5]||0)-st,So=Number(ue[6]||0),Es=Math.floor(1e3*parseFloat("0."+(ue[7]||0)));return Fn.call(vt,Ln,Di,So,Es),vt}(st)}const vt=new Date(ue);if(!je(vt))throw new Error(`Unable to convert "${ue}" into a date`);return vt}(ue);vt=Wt(ke,vt)||vt;let Di,Ln=[];for(;vt;){if(Di=W.exec(vt),!Di){Ln.push(vt);break}{Ln=Ln.concat(Di.slice(1));const Qs=Ln.pop();if(!Qs)break;vt=Qs}}let So=tn.getTimezoneOffset();st&&(So=ct(st,So),tn=function qt(ue,vt,ke){const st=ke?-1:1,tn=ue.getTimezoneOffset();return function kt(ue,vt){return(ue=new Date(ue.getTime())).setMinutes(ue.getMinutes()+vt),ue}(ue,st*(ct(vt,tn)-tn))}(tn,st,!0));let Es="";return Ln.forEach(Qs=>{const Zn=function Vt(ue){if(dt[ue])return dt[ue];let vt;switch(ue){case"G":case"GG":case"GGG":vt=Xt(pe.Eras,te.Abbreviated);break;case"GGGG":vt=Xt(pe.Eras,te.Wide);break;case"GGGGG":vt=Xt(pe.Eras,te.Narrow);break;case"y":vt=at(ie.FullYear,1,0,!1,!0);break;case"yy":vt=at(ie.FullYear,2,0,!0,!0);break;case"yyy":vt=at(ie.FullYear,3,0,!1,!0);break;case"yyyy":vt=at(ie.FullYear,4,0,!1,!0);break;case"Y":vt=Ht(1);break;case"YY":vt=Ht(2,!0);break;case"YYY":vt=Ht(3);break;case"YYYY":vt=Ht(4);break;case"M":case"L":vt=at(ie.Month,1,1);break;case"MM":case"LL":vt=at(ie.Month,2,1);break;case"MMM":vt=Xt(pe.Months,te.Abbreviated);break;case"MMMM":vt=Xt(pe.Months,te.Wide);break;case"MMMMM":vt=Xt(pe.Months,te.Narrow);break;case"LLL":vt=Xt(pe.Months,te.Abbreviated,$.Standalone);break;case"LLLL":vt=Xt(pe.Months,te.Wide,$.Standalone);break;case"LLLLL":vt=Xt(pe.Months,te.Narrow,$.Standalone);break;case"w":vt=hi(1);break;case"ww":vt=hi(2);break;case"W":vt=hi(1,!0);break;case"d":vt=at(ie.Date,1);break;case"dd":vt=at(ie.Date,2);break;case"c":case"cc":vt=at(ie.Day,1);break;case"ccc":vt=Xt(pe.Days,te.Abbreviated,$.Standalone);break;case"cccc":vt=Xt(pe.Days,te.Wide,$.Standalone);break;case"ccccc":vt=Xt(pe.Days,te.Narrow,$.Standalone);break;case"cccccc":vt=Xt(pe.Days,te.Short,$.Standalone);break;case"E":case"EE":case"EEE":vt=Xt(pe.Days,te.Abbreviated);break;case"EEEE":vt=Xt(pe.Days,te.Wide);break;case"EEEEE":vt=Xt(pe.Days,te.Narrow);break;case"EEEEEE":vt=Xt(pe.Days,te.Short);break;case"a":case"aa":case"aaa":vt=Xt(pe.DayPeriods,te.Abbreviated);break;case"aaaa":vt=Xt(pe.DayPeriods,te.Wide);break;case"aaaaa":vt=Xt(pe.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":vt=Xt(pe.DayPeriods,te.Abbreviated,$.Standalone,!0);break;case"bbbb":vt=Xt(pe.DayPeriods,te.Wide,$.Standalone,!0);break;case"bbbbb":vt=Xt(pe.DayPeriods,te.Narrow,$.Standalone,!0);break;case"B":case"BB":case"BBB":vt=Xt(pe.DayPeriods,te.Abbreviated,$.Format,!0);break;case"BBBB":vt=Xt(pe.DayPeriods,te.Wide,$.Format,!0);break;case"BBBBB":vt=Xt(pe.DayPeriods,te.Narrow,$.Format,!0);break;case"h":vt=at(ie.Hours,1,-12);break;case"hh":vt=at(ie.Hours,2,-12);break;case"H":vt=at(ie.Hours,1);break;case"HH":vt=at(ie.Hours,2);break;case"m":vt=at(ie.Minutes,1);break;case"mm":vt=at(ie.Minutes,2);break;case"s":vt=at(ie.Seconds,1);break;case"ss":vt=at(ie.Seconds,2);break;case"S":vt=at(ie.FractionalSeconds,1);break;case"SS":vt=at(ie.FractionalSeconds,2);break;case"SSS":vt=at(ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":vt=pn(Me.Short);break;case"ZZZZZ":vt=pn(Me.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":vt=pn(Me.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":vt=pn(Me.Long);break;default:return null}return dt[ue]=vt,vt}(Qs);Es+=Zn?Zn(tn,ke,So):"''"===Qs?"'":Qs.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Es}function Tt(ue,vt,ke){const st=new Date(0);return st.setFullYear(ue,vt,ke),st.setHours(0,0,0),st}function Wt(ue,vt){const ke=function le(ue){return(0,t.H5H)(ue)[t.KH2.LocaleId]}(ue);if(Ft[ke]??={},Ft[ke][vt])return Ft[ke][vt];let st="";switch(vt){case"shortDate":st=Ie(ue,G.Short);break;case"mediumDate":st=Ie(ue,G.Medium);break;case"longDate":st=Ie(ue,G.Long);break;case"fullDate":st=Ie(ue,G.Full);break;case"shortTime":st=Xe(ue,G.Short);break;case"mediumTime":st=Xe(ue,G.Medium);break;case"longTime":st=Xe(ue,G.Long);break;case"fullTime":st=Xe(ue,G.Full);break;case"short":const tn=Wt(ue,"shortTime"),Fn=Wt(ue,"shortDate");st=vn(bt(ue,G.Short),[tn,Fn]);break;case"medium":const Ln=Wt(ue,"mediumTime"),Di=Wt(ue,"mediumDate");st=vn(bt(ue,G.Medium),[Ln,Di]);break;case"long":const So=Wt(ue,"longTime"),Es=Wt(ue,"longDate");st=vn(bt(ue,G.Long),[So,Es]);break;case"full":const Qs=Wt(ue,"fullTime"),Zn=Wt(ue,"fullDate");st=vn(bt(ue,G.Full),[Qs,Zn])}return st&&(Ft[ke][vt]=st),st}function vn(ue,vt){return vt&&(ue=ue.replace(/\{([^}]+)}/g,function(ke,st){return null!=vt&&st in vt?vt[st]:ke})),ue}function Pt(ue,vt,ke="-",st,tn){let Fn="";(ue<0||tn&&ue<=0)&&(tn?ue=1-ue:(ue=-ue,Fn=ke));let Ln=String(ue);for(;Ln.length<vt;)Ln="0"+Ln;return st&&(Ln=Ln.slice(Ln.length-vt)),Fn+Ln}function at(ue,vt,ke=0,st=!1,tn=!1){return function(Fn,Ln){let Di=function pt(ue,vt){switch(ue){case ie.FullYear:return vt.getFullYear();case ie.Month:return vt.getMonth();case ie.Date:return vt.getDate();case ie.Hours:return vt.getHours();case ie.Minutes:return vt.getMinutes();case ie.Seconds:return vt.getSeconds();case ie.FractionalSeconds:return vt.getMilliseconds();case ie.Day:return vt.getDay();default:throw new Error(`Unknown DateType value "${ue}".`)}}(ue,Fn);if((ke>0||Di>-ke)&&(Di+=ke),ue===ie.Hours)0===Di&&-12===ke&&(Di=12);else if(ue===ie.FractionalSeconds)return function dn(ue,vt){return Pt(ue,3).substring(0,vt)}(Di,vt);const So=rt(Ln,oe.MinusSign);return Pt(Di,vt,So,st,tn)}}function Xt(ue,vt,ke=$.Format,st=!1){return function(tn,Fn){return function Gt(ue,vt,ke,st,tn,Fn){switch(ke){case pe.Months:return function R(ue,vt,ke){const st=(0,t.H5H)(ue),Fn=tt([st[t.KH2.MonthsFormat],st[t.KH2.MonthsStandalone]],vt);return tt(Fn,ke)}(vt,tn,st)[ue.getMonth()];case pe.Days:return function Q(ue,vt,ke){const st=(0,t.H5H)(ue),Fn=tt([st[t.KH2.DaysFormat],st[t.KH2.DaysStandalone]],vt);return tt(Fn,ke)}(vt,tn,st)[ue.getDay()];case pe.DayPeriods:const Ln=ue.getHours(),Di=ue.getMinutes();if(Fn){const Es=function Te(ue){const vt=(0,t.H5H)(ue);return de(vt),(vt[t.KH2.ExtraData][2]||[]).map(st=>"string"==typeof st?wt(st):[wt(st[0]),wt(st[1])])}(vt),Qs=function Pe(ue,vt,ke){const st=(0,t.H5H)(ue);de(st);const Fn=tt([st[t.KH2.ExtraData][0],st[t.KH2.ExtraData][1]],vt)||[];return tt(Fn,ke)||[]}(vt,tn,st),Zn=Es.findIndex(Ss=>{if(Array.isArray(Ss)){const[ks,fo]=Ss,ga=Ln>=ks.hours&&Di>=ks.minutes,zr=Ln<fo.hours||Ln===fo.hours&&Di<fo.minutes;if(ks.hours<fo.hours){if(ga&&zr)return!0}else if(ga||zr)return!0}else if(Ss.hours===Ln&&Ss.minutes===Di)return!0;return!1});if(-1!==Zn)return Qs[Zn]}return function ve(ue,vt,ke){const st=(0,t.H5H)(ue),Fn=tt([st[t.KH2.DayPeriodsFormat],st[t.KH2.DayPeriodsStandalone]],vt);return tt(Fn,ke)}(vt,tn,st)[Ln<12?0:1];case pe.Eras:return function L(ue,vt){return tt((0,t.H5H)(ue)[t.KH2.Eras],vt)}(vt,st)[ue.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ke}`)}}(tn,Fn,ue,vt,ke,st)}}function pn(ue){return function(vt,ke,st){const tn=-1*st,Fn=rt(ke,oe.MinusSign),Ln=tn>0?Math.floor(tn/60):Math.ceil(tn/60);switch(ue){case Me.Short:return(tn>=0?"+":"")+Pt(Ln,2,Fn)+Pt(Math.abs(tn%60),2,Fn);case Me.ShortGMT:return"GMT"+(tn>=0?"+":"")+Pt(Ln,1,Fn);case Me.Long:return"GMT"+(tn>=0?"+":"")+Pt(Ln,2,Fn)+":"+Pt(Math.abs(tn%60),2,Fn);case Me.Extended:return 0===st?"Z":(tn>=0?"+":"")+Pt(Ln,2,Fn)+":"+Pt(Math.abs(tn%60),2,Fn);default:throw new Error(`Unknown zone width "${ue}"`)}}}const nn=0,xn=4;function Gn(ue){const vt=ue.getDay(),ke=0===vt?-3:xn-vt;return Tt(ue.getFullYear(),ue.getMonth(),ue.getDate()+ke)}function hi(ue,vt=!1){return function(ke,st){let tn;if(vt){const Fn=new Date(ke.getFullYear(),ke.getMonth(),1).getDay()-1,Ln=ke.getDate();tn=1+Math.floor((Ln+Fn)/7)}else{const Fn=Gn(ke),Ln=function kn(ue){const vt=Tt(ue,nn,1).getDay();return Tt(ue,0,1+(vt<=xn?xn:xn+7)-vt)}(Fn.getFullYear()),Di=Fn.getTime()-Ln.getTime();tn=1+Math.round(Di/6048e5)}return Pt(tn,ue,rt(st,oe.MinusSign))}}function Ht(ue,vt=!1){return function(ke,st){return Pt(Gn(ke).getFullYear(),ue,rt(st,oe.MinusSign),vt)}}const dt={};function ct(ue,vt){ue=ue.replace(/:/g,"");const ke=Date.parse("Jan 01, 1970 00:00:00 "+ue)/6e4;return isNaN(ke)?vt:ke}function je(ue){return ue instanceof Date&&!isNaN(ue.valueOf())}const ze=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Re=22,it=".",We="0",ht=";",He=",",Ke="#";function _n(ue,vt,ke,st,tn){const Ln=function mi(ue,vt="-"){const ke={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},st=ue.split(ht),tn=st[0],Fn=st[1],Ln=-1!==tn.indexOf(it)?tn.split(it):[tn.substring(0,tn.lastIndexOf(We)+1),tn.substring(tn.lastIndexOf(We)+1)],Di=Ln[0],So=Ln[1]||"";ke.posPre=Di.substring(0,Di.indexOf(Ke));for(let Qs=0;Qs<So.length;Qs++){const Zn=So.charAt(Qs);Zn===We?ke.minFrac=ke.maxFrac=Qs+1:Zn===Ke?ke.maxFrac=Qs+1:ke.posSuf+=Zn}const Es=Di.split(He);if(ke.gSize=Es[1]?Es[1].length:0,ke.lgSize=Es[2]||Es[1]?(Es[2]||Es[1]).length:0,Fn){const Qs=tn.length-ke.posPre.length-ke.posSuf.length,Zn=Fn.indexOf(Ke);ke.negPre=Fn.substring(0,Zn).replace(/'/g,""),ke.negSuf=Fn.slice(Zn+Qs).replace(/'/g,"")}else ke.negPre=vt+ke.posPre,ke.negSuf=ke.posSuf;return ke}(function yt(ue,vt){return(0,t.H5H)(ue)[t.KH2.NumberFormats][vt]}(vt,z.Currency),rt(vt,oe.MinusSign));return Ln.minFrac=function Bn(ue){let vt;const ke=J[ue];return ke&&(vt=ke[2]),"number"==typeof vt?vt:2}(st),Ln.maxFrac=Ln.minFrac,function Ct(ue,vt,ke,st,tn,Fn,Ln=!1){let Di="",So=!1;if(isFinite(ue)){let Es=function Mi(ue){let st,tn,Fn,Ln,Di,vt=Math.abs(ue)+"",ke=0;for((tn=vt.indexOf(it))>-1&&(vt=vt.replace(it,"")),(Fn=vt.search(/e/i))>0?(tn<0&&(tn=Fn),tn+=+vt.slice(Fn+1),vt=vt.substring(0,Fn)):tn<0&&(tn=vt.length),Fn=0;vt.charAt(Fn)===We;Fn++);if(Fn===(Di=vt.length))st=[0],tn=1;else{for(Di--;vt.charAt(Di)===We;)Di--;for(tn-=Fn,st=[],Ln=0;Fn<=Di;Fn++,Ln++)st[Ln]=Number(vt.charAt(Fn))}return tn>Re&&(st=st.splice(0,Re-1),ke=tn-1,tn=1),{digits:st,exponent:ke,integerLen:tn}}(ue);Ln&&(Es=function Oi(ue){if(0===ue.digits[0])return ue;const vt=ue.digits.length-ue.integerLen;return ue.exponent?ue.exponent+=2:(0===vt?ue.digits.push(0,0):1===vt&&ue.digits.push(0),ue.integerLen+=2),ue}(Es));let Qs=vt.minInt,Zn=vt.minFrac,Ss=vt.maxFrac;if(Fn){const Ro=Fn.match(ze);if(null===Ro)throw new Error(`${Fn} is not a valid digit info`);const Pa=Ro[1],rl=Ro[3],oa=Ro[5];null!=Pa&&(Qs=Ki(Pa)),null!=rl&&(Zn=Ki(rl)),null!=oa?Ss=Ki(oa):null!=rl&&Zn>Ss&&(Ss=Zn)}!function wi(ue,vt,ke){if(vt>ke)throw new Error(`The minimum number of digits after fraction (${vt}) is higher than the maximum (${ke}).`);let st=ue.digits,tn=st.length-ue.integerLen;const Fn=Math.min(Math.max(vt,tn),ke);let Ln=Fn+ue.integerLen,Di=st[Ln];if(Ln>0){st.splice(Math.max(ue.integerLen,Ln));for(let Zn=Ln;Zn<st.length;Zn++)st[Zn]=0}else{tn=Math.max(0,tn),ue.integerLen=1,st.length=Math.max(1,Ln=Fn+1),st[0]=0;for(let Zn=1;Zn<Ln;Zn++)st[Zn]=0}if(Di>=5)if(Ln-1<0){for(let Zn=0;Zn>Ln;Zn--)st.unshift(0),ue.integerLen++;st.unshift(1),ue.integerLen++}else st[Ln-1]++;for(;tn<Math.max(0,Fn);tn++)st.push(0);let So=0!==Fn;const Es=vt+ue.integerLen,Qs=st.reduceRight(function(Zn,Ss,ks,fo){return fo[ks]=(Ss+=Zn)<10?Ss:Ss-10,So&&(0===fo[ks]&&ks>=Es?fo.pop():So=!1),Ss>=10?1:0},0);Qs&&(st.unshift(Qs),ue.integerLen++)}(Es,Zn,Ss);let ks=Es.digits,fo=Es.integerLen;const ga=Es.exponent;let zr=[];for(So=ks.every(Ro=>!Ro);fo<Qs;fo++)ks.unshift(0);for(;fo<0;fo++)ks.unshift(0);fo>0?zr=ks.splice(fo,ks.length):(zr=ks,ks=[0]);const li=[];for(ks.length>=vt.lgSize&&li.unshift(ks.splice(-vt.lgSize,ks.length).join(""));ks.length>vt.gSize;)li.unshift(ks.splice(-vt.gSize,ks.length).join(""));ks.length&&li.unshift(ks.join("")),Di=li.join(rt(ke,st)),zr.length&&(Di+=rt(ke,tn)+zr.join("")),ga&&(Di+=rt(ke,oe.Exponential)+"+"+ga)}else Di=rt(ke,oe.Infinity);return Di=ue<0&&!So?vt.negPre+Di+vt.negSuf:vt.posPre+Di+vt.posSuf,Di}(ue,Ln,vt,oe.CurrencyGroup,oe.CurrencyDecimal,tn).replace("\xa4",ke).replace("\xa4","").trim()}function Ki(ue){const vt=parseInt(ue);if(isNaN(vt))throw new Error("Invalid integer literal when parsing "+ue);return vt}function jn(ue,vt){vt=encodeURIComponent(vt);for(const ke of ue.split(";")){const st=ke.indexOf("="),[tn,Fn]=-1==st?[ke,""]:[ke.slice(0,st),ke.slice(st+1)];if(tn.trim()===vt)return decodeURIComponent(Fn)}return null}const lt=/\s+/,At=[];let Ut=(()=>{class ue{constructor(ke,st){this._ngEl=ke,this._renderer=st,this.initialClasses=At,this.stateMap=new Map}set klass(ke){this.initialClasses=null!=ke?ke.trim().split(lt):At}set ngClass(ke){this.rawClass="string"==typeof ke?ke.trim().split(lt):ke}ngDoCheck(){for(const st of this.initialClasses)this._updateState(st,!0);const ke=this.rawClass;if(Array.isArray(ke)||ke instanceof Set)for(const st of ke)this._updateState(st,!0);else if(null!=ke)for(const st of Object.keys(ke))this._updateState(st,!!ke[st]);this._applyStateDiff()}_updateState(ke,st){const tn=this.stateMap.get(ke);void 0!==tn?(tn.enabled!==st&&(tn.changed=!0,tn.enabled=st),tn.touched=!0):this.stateMap.set(ke,{enabled:st,changed:!0,touched:!0})}_applyStateDiff(){for(const ke of this.stateMap){const st=ke[0],tn=ke[1];tn.changed?(this._toggleClass(st,tn.enabled),tn.changed=!1):tn.touched||(tn.enabled&&this._toggleClass(st,!1),this.stateMap.delete(st)),tn.touched=!1}}_toggleClass(ke,st){(ke=ke.trim()).length>0&&ke.split(lt).forEach(tn=>{st?this._renderer.addClass(this._ngEl.nativeElement,tn):this._renderer.removeClass(this._ngEl.nativeElement,tn)})}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return ue})(),An=(()=>{class ue{constructor(ke){this._viewContainerRef=ke,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(ke){return void 0!==ke.ngComponentOutletNgModule||void 0!==ke.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(ke){return void 0!==ke.ngComponentOutlet||void 0!==ke.ngComponentOutletContent||void 0!==ke.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(ke)}ngOnChanges(ke){if(this._needToReCreateComponentInstance(ke)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const st=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(ke)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,t.w6W)(this.ngComponentOutletNgModule,ye(st)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(ye(st)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:st,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const ke of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(ke,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(ke){for(const[st,tn]of this._inputsUsed)tn?(ke.setInput(st,this.ngComponentOutletInputs[st]),this._inputsUsed.set(st,!1)):(ke.setInput(st,void 0),this._inputsUsed.delete(st))}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[t.OA$]})}return ue})();function ye(ue){return ue.get(t.Vns).injector}class _t{constructor(vt,ke,st,tn){this.$implicit=vt,this.ngForOf=ke,this.index=st,this.count=tn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let q=(()=>{class ue{set ngForOf(ke){this._ngForOf=ke,this._ngForOfDirty=!0}set ngForTrackBy(ke){this._trackByFn=ke}get ngForTrackBy(){return this._trackByFn}constructor(ke,st,tn){this._viewContainer=ke,this._template=st,this._differs=tn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ke){ke&&(this._template=ke)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ke=this._ngForOf;!this._differ&&ke&&(this._differ=this._differs.find(ke).create(this.ngForTrackBy))}if(this._differ){const ke=this._differ.diff(this._ngForOf);ke&&this._applyChanges(ke)}}_applyChanges(ke){const st=this._viewContainer;ke.forEachOperation((tn,Fn,Ln)=>{if(null==tn.previousIndex)st.createEmbeddedView(this._template,new _t(tn.item,this._ngForOf,-1,-1),null===Ln?void 0:Ln);else if(null==Ln)st.remove(null===Fn?void 0:Fn);else if(null!==Fn){const Di=st.get(Fn);st.move(Di,Ln),Ue(Di,tn)}});for(let tn=0,Fn=st.length;tn<Fn;tn++){const Di=st.get(tn).context;Di.index=tn,Di.count=Fn,Di.ngForOf=this._ngForOf}ke.forEachIdentityChange(tn=>{Ue(st.get(tn.currentIndex),tn)})}static ngTemplateContextGuard(ke,st){return!0}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return ue})();function Ue(ue,vt){ue.context.$implicit=vt.item}let mt=(()=>{class ue{constructor(ke,st){this._viewContainer=ke,this._context=new ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=st}set ngIf(ke){this._context.$implicit=this._context.ngIf=ke,this._updateView()}set ngIfThen(ke){Pn("ngIfThen",ke),this._thenTemplateRef=ke,this._thenViewRef=null,this._updateView()}set ngIfElse(ke){Pn("ngIfElse",ke),this._elseTemplateRef=ke,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ke,st){return!0}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.c1b),t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return ue})();class ut{constructor(){this.$implicit=null,this.ngIf=null}}function Pn(ue,vt){if(vt&&!vt.createEmbeddedView)throw new Error(`${ue} must be a TemplateRef, but received '${(0,t.Tbb)(vt)}'.`)}class Yt{constructor(vt,ke){this._viewContainerRef=vt,this._templateRef=ke,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(vt){vt&&!this._created?this.create():!vt&&this._created&&this.destroy()}}let Dn=(()=>{class ue{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ke){this._ngSwitch=ke,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ke){this._defaultViews.push(ke)}_matchCase(ke){const st=ke===this._ngSwitch;return this._lastCasesMatched||=st,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),st}_updateDefaultCases(ke){if(this._defaultViews.length>0&&ke!==this._defaultUsed){this._defaultUsed=ke;for(const st of this._defaultViews)st.enforceState(ke)}}static#e=this.\u0275fac=function(st){return new(st||ue)};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return ue})(),Sn=(()=>{class ue{constructor(ke,st,tn){this.ngSwitch=tn,tn._addCase(),this._view=new Yt(ke,st)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(Dn,9))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return ue})(),Jn=(()=>{class ue{constructor(ke,st,tn){tn._addDefault(new Yt(ke,st))}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(Dn,9))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return ue})(),ti=(()=>{class ue{constructor(ke){this._viewContainerRef=ke,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ke){if(this._shouldRecreateView(ke)){const st=this._viewContainerRef;if(this._viewRef&&st.remove(st.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const tn=this._createContextForwardProxy();this._viewRef=st.createEmbeddedView(this.ngTemplateOutlet,tn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ke){return!!ke.ngTemplateOutlet||!!ke.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ke,st,tn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,st,tn),get:(ke,st,tn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,st,tn)}})}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:ue,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.OA$]})}return ue})();function Qi(ue,vt){return new t.wOt(2100,!1)}class Ks{createSubscription(vt,ke){return(0,t.O8t)(()=>vt.subscribe({next:ke,error:st=>{throw st}}))}dispose(vt){(0,t.O8t)(()=>vt.unsubscribe())}}class vo{createSubscription(vt,ke){return vt.then(ke,st=>{throw st})}dispose(vt){}}const zs=new vo,Er=new Ks;let bs=(()=>{class ue{constructor(ke){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ke}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ke){if(!this._obj){if(ke)try{this.markForCheckOnValueUpdate=!1,this._subscribe(ke)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return ke!==this._obj?(this._dispose(),this.transform(ke)):this._latestValue}_subscribe(ke){this._obj=ke,this._strategy=this._selectStrategy(ke),this._subscription=this._strategy.createSubscription(ke,st=>this._updateLatestValue(ke,st))}_selectStrategy(ke){if((0,t.jNT)(ke))return zs;if((0,t.zjR)(ke))return Er;throw Qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ke,st){ke===this._obj&&(this._latestValue=st,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.gRc,16))};static#t=this.\u0275pipe=t.EJ8({name:"async",type:ue,pure:!1,standalone:!0})}return ue})();const pr=new t.nKC(""),fa=new t.nKC("");let zo=(()=>{class ue{constructor(ke,st,tn){this.locale=ke,this.defaultTimezone=st,this.defaultOptions=tn}transform(ke,st,tn,Fn){if(null==ke||""===ke||ke!=ke)return null;try{return Be(ke,st??this.defaultOptions?.dateFormat??"mediumDate",Fn||this.locale,tn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ln){throw Qi()}}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.xe9,16),t.rXU(pr,24),t.rXU(fa,24))};static#t=this.\u0275pipe=t.EJ8({name:"date",type:ue,pure:!0,standalone:!0})}return ue})(),Ne=(()=>{class ue{constructor(ke,st="USD"){this._locale=ke,this._defaultCurrencyCode=st}transform(ke,st=this._defaultCurrencyCode,tn="symbol",Fn,Ln){if(!function Bt(ue){return!(null==ue||""===ue||ue!=ue)}(ke))return null;Ln||=this._locale,"boolean"==typeof tn&&(tn=tn?"symbol":"code");let Di=st||this._defaultCurrencyCode;"code"!==tn&&(Di="symbol"===tn||"symbol-narrow"===tn?function ln(ue,vt,ke="en"){const st=function we(ue){return(0,t.H5H)(ue)[t.KH2.Currencies]}(ke)[ue]||J[ue]||[],tn=st[1];return"narrow"===vt&&"string"==typeof tn?tn:st[0]||ue}(Di,"symbol"===tn?"wide":"narrow",Ln):tn);try{return _n(function hn(ue){if("string"==typeof ue&&!isNaN(Number(ue)-parseFloat(ue)))return Number(ue);if("number"!=typeof ue)throw new Error(`${ue} is not a number`);return ue}(ke),Ln,Di,st,Fn)}catch(So){throw Qi()}}static#e=this.\u0275fac=function(st){return new(st||ue)(t.rXU(t.xe9,16),t.rXU(t.Ocv,16))};static#t=this.\u0275pipe=t.EJ8({name:"currency",type:ue,pure:!0,standalone:!0})}return ue})();let Nn=(()=>{class ue{transform(ke,st,tn){if(null==ke)return null;if(!this.supports(ke))throw Qi();return ke.slice(st,tn)}supports(ke){return"string"==typeof ke||Array.isArray(ke)}static#e=this.\u0275fac=function(st){return new(st||ue)};static#t=this.\u0275pipe=t.EJ8({name:"slice",type:ue,pure:!1,standalone:!0})}return ue})(),Ci=(()=>{class ue{static#e=this.\u0275fac=function(st){return new(st||ue)};static#t=this.\u0275mod=t.$C({type:ue});static#n=this.\u0275inj=t.G2t({})}return ue})();const Wi="browser",ls="server";function Ws(ue){return ue===Wi}function ys(ue){return ue===ls}let Co=(()=>{class ue{static#e=this.\u0275prov=(0,t.jDH)({token:ue,providedIn:"root",factory:()=>Ws((0,t.WQX)(t.Agw))?new Hs((0,t.WQX)(M),window):new Ls})}return ue})();class Hs{constructor(vt,ke){this.document=vt,this.window=ke,this.offset=()=>[0,0]}setOffset(vt){this.offset=Array.isArray(vt)?()=>vt:vt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(vt){this.window.scrollTo(vt[0],vt[1])}scrollToAnchor(vt){const ke=function to(ue,vt){const ke=ue.getElementById(vt)||ue.getElementsByName(vt)[0];if(ke)return ke;if("function"==typeof ue.createTreeWalker&&ue.body&&"function"==typeof ue.body.attachShadow){const st=ue.createTreeWalker(ue.body,NodeFilter.SHOW_ELEMENT);let tn=st.currentNode;for(;tn;){const Fn=tn.shadowRoot;if(Fn){const Ln=Fn.getElementById(vt)||Fn.querySelector(`[name="${vt}"]`);if(Ln)return Ln}tn=st.nextNode()}}return null}(this.document,vt);ke&&(this.scrollToElement(ke),ke.focus())}setHistoryScrollRestoration(vt){this.window.history.scrollRestoration=vt}scrollToElement(vt){const ke=vt.getBoundingClientRect(),st=ke.left+this.window.pageXOffset,tn=ke.top+this.window.pageYOffset,Fn=this.offset();this.window.scrollTo(st-Fn[0],tn-Fn[1])}}class Ls{setOffset(vt){}getScrollPosition(){return[0,0]}scrollToPosition(vt){}scrollToAnchor(vt){}setHistoryScrollRestoration(vt){}}class To{}},1626:(jt,Se,l)=>{"use strict";l.d(Se,{$R:()=>qt,Qq:()=>bt,Sx:()=>je,yz:()=>L});var t=l(467),n=l(3953),p=l(4421),v=l(5817),b=l(4787),E=l(3574),M=l(8728),S=l(5006),u=l(7312),I=l(9090),k=l(177);class T{}class w{}class D{constructor(_t){this.normalizedNames=new Map,this.lazyUpdate=null,_t?"string"==typeof _t?this.lazyInit=()=>{this.headers=new Map,_t.split("\n").forEach(q=>{const Ue=q.indexOf(":");if(Ue>0){const Fe=q.slice(0,Ue),mt=Fe.toLowerCase(),ut=q.slice(Ue+1).trim();this.maybeSetNormalizedName(Fe,mt),this.headers.has(mt)?this.headers.get(mt).push(ut):this.headers.set(mt,[ut])}})}:typeof Headers<"u"&&_t instanceof Headers?(this.headers=new Map,_t.forEach((q,Ue)=>{this.setHeaderEntries(Ue,q)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_t).forEach(([q,Ue])=>{this.setHeaderEntries(q,Ue)})}:this.headers=new Map}has(_t){return this.init(),this.headers.has(_t.toLowerCase())}get(_t){this.init();const q=this.headers.get(_t.toLowerCase());return q&&q.length>0?q[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_t){return this.init(),this.headers.get(_t.toLowerCase())||null}append(_t,q){return this.clone({name:_t,value:q,op:"a"})}set(_t,q){return this.clone({name:_t,value:q,op:"s"})}delete(_t,q){return this.clone({name:_t,value:q,op:"d"})}maybeSetNormalizedName(_t,q){this.normalizedNames.has(q)||this.normalizedNames.set(q,_t)}init(){this.lazyInit&&(this.lazyInit instanceof D?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_t=>this.applyUpdate(_t)),this.lazyUpdate=null))}copyFrom(_t){_t.init(),Array.from(_t.headers.keys()).forEach(q=>{this.headers.set(q,_t.headers.get(q)),this.normalizedNames.set(q,_t.normalizedNames.get(q))})}clone(_t){const q=new D;return q.lazyInit=this.lazyInit&&this.lazyInit instanceof D?this.lazyInit:this,q.lazyUpdate=(this.lazyUpdate||[]).concat([_t]),q}applyUpdate(_t){const q=_t.name.toLowerCase();switch(_t.op){case"a":case"s":let Ue=_t.value;if("string"==typeof Ue&&(Ue=[Ue]),0===Ue.length)return;this.maybeSetNormalizedName(_t.name,q);const Fe=("a"===_t.op?this.headers.get(q):void 0)||[];Fe.push(...Ue),this.headers.set(q,Fe);break;case"d":const mt=_t.value;if(mt){let ut=this.headers.get(q);if(!ut)return;ut=ut.filter(Pn=>-1===mt.indexOf(Pn)),0===ut.length?(this.headers.delete(q),this.normalizedNames.delete(q)):this.headers.set(q,ut)}else this.headers.delete(q),this.normalizedNames.delete(q)}}setHeaderEntries(_t,q){const Ue=(Array.isArray(q)?q:[q]).map(mt=>mt.toString()),Fe=_t.toLowerCase();this.headers.set(Fe,Ue),this.maybeSetNormalizedName(_t,Fe)}forEach(_t){this.init(),Array.from(this.normalizedNames.keys()).forEach(q=>_t(this.normalizedNames.get(q),this.headers.get(q)))}}class V{encodeKey(_t){return c(_t)}encodeValue(_t){return c(_t)}decodeKey(_t){return decodeURIComponent(_t)}decodeValue(_t){return decodeURIComponent(_t)}}const ne=/%(\d[a-f0-9])/gi,U={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function c(ye){return encodeURIComponent(ye).replace(ne,(_t,q)=>U[q]??_t)}function Z(ye){return`${ye}`}class F{constructor(_t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_t.encoder||new V,_t.fromString){if(_t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function K(ye,_t){const q=new Map;return ye.length>0&&ye.replace(/^\?/,"").split("&").forEach(Fe=>{const mt=Fe.indexOf("="),[ut,Pn]=-1==mt?[_t.decodeKey(Fe),""]:[_t.decodeKey(Fe.slice(0,mt)),_t.decodeValue(Fe.slice(mt+1))],Yt=q.get(ut)||[];Yt.push(Pn),q.set(ut,Yt)}),q}(_t.fromString,this.encoder)}else _t.fromObject?(this.map=new Map,Object.keys(_t.fromObject).forEach(q=>{const Ue=_t.fromObject[q],Fe=Array.isArray(Ue)?Ue.map(Z):[Z(Ue)];this.map.set(q,Fe)})):this.map=null}has(_t){return this.init(),this.map.has(_t)}get(_t){this.init();const q=this.map.get(_t);return q?q[0]:null}getAll(_t){return this.init(),this.map.get(_t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_t,q){return this.clone({param:_t,value:q,op:"a"})}appendAll(_t){const q=[];return Object.keys(_t).forEach(Ue=>{const Fe=_t[Ue];Array.isArray(Fe)?Fe.forEach(mt=>{q.push({param:Ue,value:mt,op:"a"})}):q.push({param:Ue,value:Fe,op:"a"})}),this.clone(q)}set(_t,q){return this.clone({param:_t,value:q,op:"s"})}delete(_t,q){return this.clone({param:_t,value:q,op:"d"})}toString(){return this.init(),this.keys().map(_t=>{const q=this.encoder.encodeKey(_t);return this.map.get(_t).map(Ue=>q+"="+this.encoder.encodeValue(Ue)).join("&")}).filter(_t=>""!==_t).join("&")}clone(_t){const q=new F({encoder:this.encoder});return q.cloneFrom=this.cloneFrom||this,q.updates=(this.updates||[]).concat(_t),q}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_t=>this.map.set(_t,this.cloneFrom.map.get(_t))),this.updates.forEach(_t=>{switch(_t.op){case"a":case"s":const q=("a"===_t.op?this.map.get(_t.param):void 0)||[];q.push(Z(_t.value)),this.map.set(_t.param,q);break;case"d":if(void 0===_t.value){this.map.delete(_t.param);break}{let Ue=this.map.get(_t.param)||[];const Fe=Ue.indexOf(Z(_t.value));-1!==Fe&&Ue.splice(Fe,1),Ue.length>0?this.map.set(_t.param,Ue):this.map.delete(_t.param)}}}),this.cloneFrom=this.updates=null)}}class z{constructor(){this.map=new Map}set(_t,q){return this.map.set(_t,q),this}get(_t){return this.map.has(_t)||this.map.set(_t,_t.defaultValue()),this.map.get(_t)}delete(_t){return this.map.delete(_t),this}has(_t){return this.map.has(_t)}keys(){return this.map.keys()}}function $(ye){return typeof ArrayBuffer<"u"&&ye instanceof ArrayBuffer}function te(ye){return typeof Blob<"u"&&ye instanceof Blob}function G(ye){return typeof FormData<"u"&&ye instanceof FormData}class ce{constructor(_t,q,Ue,Fe){let mt;if(this.url=q,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_t.toUpperCase(),function X(ye){switch(ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Fe?(this.body=void 0!==Ue?Ue:null,mt=Fe):mt=Ue,mt&&(this.reportProgress=!!mt.reportProgress,this.withCredentials=!!mt.withCredentials,mt.responseType&&(this.responseType=mt.responseType),mt.headers&&(this.headers=mt.headers),mt.context&&(this.context=mt.context),mt.params&&(this.params=mt.params),this.transferCache=mt.transferCache),this.headers??=new D,this.context??=new z,this.params){const ut=this.params.toString();if(0===ut.length)this.urlWithParams=q;else{const Pn=q.indexOf("?");this.urlWithParams=q+(-1===Pn?"?":Pn<q.length-1?"&":"")+ut}}else this.params=new F,this.urlWithParams=q}serializeBody(){return null===this.body?null:"string"==typeof this.body||$(this.body)||te(this.body)||G(this.body)||function oe(ye){return typeof URLSearchParams<"u"&&ye instanceof URLSearchParams}(this.body)?this.body:this.body instanceof F?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G(this.body)?null:te(this.body)?this.body.type||null:$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof F?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_t={}){const q=_t.method||this.method,Ue=_t.url||this.url,Fe=_t.responseType||this.responseType,mt=_t.transferCache??this.transferCache,ut=void 0!==_t.body?_t.body:this.body,Pn=_t.withCredentials??this.withCredentials,Yt=_t.reportProgress??this.reportProgress;let Dn=_t.headers||this.headers,Sn=_t.params||this.params;const Jn=_t.context??this.context;return void 0!==_t.setHeaders&&(Dn=Object.keys(_t.setHeaders).reduce((ci,Li)=>ci.set(Li,_t.setHeaders[Li]),Dn)),_t.setParams&&(Sn=Object.keys(_t.setParams).reduce((ci,Li)=>ci.set(Li,_t.setParams[Li]),Sn)),new ce(q,Ue,ut,{params:Sn,headers:Dn,context:Jn,reportProgress:Yt,responseType:Fe,withCredentials:Pn,transferCache:mt})}}var le=function(ye){return ye[ye.Sent=0]="Sent",ye[ye.UploadProgress=1]="UploadProgress",ye[ye.ResponseHeader=2]="ResponseHeader",ye[ye.DownloadProgress=3]="DownloadProgress",ye[ye.Response=4]="Response",ye[ye.User=5]="User",ye}(le||{});class ve{constructor(_t,q=200,Ue="OK"){this.headers=_t.headers||new D,this.status=void 0!==_t.status?_t.status:q,this.statusText=_t.statusText||Ue,this.url=_t.url||null,this.ok=this.status>=200&&this.status<300}}class Q extends ve{constructor(_t={}){super(_t),this.type=le.ResponseHeader}clone(_t={}){return new Q({headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class R extends ve{constructor(_t={}){super(_t),this.type=le.Response,this.body=void 0!==_t.body?_t.body:null}clone(_t={}){return new R({body:void 0!==_t.body?_t.body:this.body,headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class L extends ve{constructor(_t){super(_t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_t.url||"(unknown url)"}`:`Http failure response for ${_t.url||"(unknown url)"}: ${_t.status} ${_t.statusText}`,this.error=_t.error||null}}function Xe(ye,_t){return{body:_t,headers:ye.headers,context:ye.context,observe:ye.observe,params:ye.params,reportProgress:ye.reportProgress,responseType:ye.responseType,withCredentials:ye.withCredentials,transferCache:ye.transferCache}}let bt=(()=>{class ye{constructor(q){this.handler=q}request(q,Ue,Fe={}){let mt;if(q instanceof ce)mt=q;else{let Yt,Dn;Yt=Fe.headers instanceof D?Fe.headers:new D(Fe.headers),Fe.params&&(Dn=Fe.params instanceof F?Fe.params:new F({fromObject:Fe.params})),mt=new ce(q,Ue,void 0!==Fe.body?Fe.body:null,{headers:Yt,context:Fe.context,params:Dn,reportProgress:Fe.reportProgress,responseType:Fe.responseType||"json",withCredentials:Fe.withCredentials,transferCache:Fe.transferCache})}const ut=(0,p.of)(mt).pipe((0,E.H)(Yt=>this.handler.handle(Yt)));if(q instanceof ce||"events"===Fe.observe)return ut;const Pn=ut.pipe((0,M.p)(Yt=>Yt instanceof R));switch(Fe.observe||"body"){case"body":switch(mt.responseType){case"arraybuffer":return Pn.pipe((0,S.T)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yt.body}));case"blob":return Pn.pipe((0,S.T)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof Blob))throw new Error("Response is not a Blob.");return Yt.body}));case"text":return Pn.pipe((0,S.T)(Yt=>{if(null!==Yt.body&&"string"!=typeof Yt.body)throw new Error("Response is not a string.");return Yt.body}));default:return Pn.pipe((0,S.T)(Yt=>Yt.body))}case"response":return Pn;default:throw new Error(`Unreachable: unhandled observe type ${Fe.observe}}`)}}delete(q,Ue={}){return this.request("DELETE",q,Ue)}get(q,Ue={}){return this.request("GET",q,Ue)}head(q,Ue={}){return this.request("HEAD",q,Ue)}jsonp(q,Ue){return this.request("JSONP",q,{params:(new F).append(Ue,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(q,Ue={}){return this.request("OPTIONS",q,Ue)}patch(q,Ue,Fe={}){return this.request("PATCH",q,Xe(Fe,Ue))}post(q,Ue,Fe={}){return this.request("POST",q,Xe(Fe,Ue))}put(q,Ue,Fe={}){return this.request("PUT",q,Xe(Fe,Ue))}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(n.KVO(T))};static#t=this.\u0275prov=n.jDH({token:ye,factory:ye.\u0275fac})}return ye})();const rt=/^\)\]\}',?\n/;function ot(ye){if(ye.url)return ye.url;const _t="X-Request-URL".toLocaleLowerCase();return ye.headers.get(_t)}let It=(()=>{class ye{constructor(){this.fetchImpl=(0,n.WQX)(Ae,{optional:!0})?.fetch??((...q)=>globalThis.fetch(...q)),this.ngZone=(0,n.WQX)(n.SKi)}handle(q){return new v.c(Ue=>{const Fe=new AbortController;return this.doRequest(q,Fe.signal,Ue).then(we,mt=>Ue.error(new L({error:mt}))),()=>Fe.abort()})}doRequest(q,Ue,Fe){var mt=this;return(0,t.A)(function*(){const ut=mt.createRequestInit(q);let Pn;try{const Ui=mt.ngZone.runOutsideAngular(()=>mt.fetchImpl(q.urlWithParams,{signal:Ue,...ut}));(function _e(ye){ye.then(we,we)})(Ui),Fe.next({type:le.Sent}),Pn=yield Ui}catch(Ui){return void Fe.error(new L({error:Ui,status:Ui.status??0,statusText:Ui.statusText,url:q.urlWithParams,headers:Ui.headers}))}const Yt=new D(Pn.headers),Dn=Pn.statusText,Sn=ot(Pn)??q.urlWithParams;let Jn=Pn.status,ci=null;if(q.reportProgress&&Fe.next(new Q({headers:Yt,status:Jn,statusText:Dn,url:Sn})),Pn.body){const Ui=Pn.headers.get("content-length"),es=[],as=Pn.body.getReader();let qs,Qi,ti=0;const Ks=typeof Zone<"u"&&Zone.current;yield mt.ngZone.runOutsideAngular((0,t.A)(function*(){for(;;){const{done:zs,value:Er}=yield as.read();if(zs)break;if(es.push(Er),ti+=Er.length,q.reportProgress){Qi="text"===q.responseType?(Qi??"")+(qs??=new TextDecoder).decode(Er,{stream:!0}):void 0;const bs=()=>Fe.next({type:le.DownloadProgress,total:Ui?+Ui:void 0,loaded:ti,partialText:Qi});Ks?Ks.run(bs):bs()}}}));const vo=mt.concatChunks(es,ti);try{const zs=Pn.headers.get("Content-Type")??"";ci=mt.parseBody(q,vo,zs)}catch(zs){return void Fe.error(new L({error:zs,headers:new D(Pn.headers),status:Pn.status,statusText:Pn.statusText,url:ot(Pn)??q.urlWithParams}))}}0===Jn&&(Jn=ci?200:0),Jn>=200&&Jn<300?(Fe.next(new R({body:ci,headers:Yt,status:Jn,statusText:Dn,url:Sn})),Fe.complete()):Fe.error(new L({error:ci,headers:Yt,status:Jn,statusText:Dn,url:Sn}))})()}parseBody(q,Ue,Fe){switch(q.responseType){case"json":const mt=(new TextDecoder).decode(Ue).replace(rt,"");return""===mt?null:JSON.parse(mt);case"text":return(new TextDecoder).decode(Ue);case"blob":return new Blob([Ue],{type:Fe});case"arraybuffer":return Ue.buffer}}createRequestInit(q){const Ue={},Fe=q.withCredentials?"include":void 0;if(q.headers.forEach((mt,ut)=>Ue[mt]=ut.join(",")),q.headers.has("Accept")||(Ue.Accept="application/json, text/plain, */*"),!q.headers.has("Content-Type")){const mt=q.detectContentTypeHeader();null!==mt&&(Ue["Content-Type"]=mt)}return{body:q.serializeBody(),method:q.method,headers:Ue,credentials:Fe}}concatChunks(q,Ue){const Fe=new Uint8Array(Ue);let mt=0;for(const ut of q)Fe.set(ut,mt),mt+=ut.length;return Fe}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)};static#t=this.\u0275prov=n.jDH({token:ye,factory:ye.\u0275fac})}return ye})();class Ae{}function we(){}function de(ye,_t){return _t(ye)}function Te(ye,_t){return(q,Ue)=>_t.intercept(q,{handle:Fe=>ye(Fe,Ue)})}const St=new n.nKC(""),tt=new n.nKC(""),wt=new n.nKC(""),ln=new n.nKC("",{providedIn:"root",factory:()=>!0});function Mn(){let ye=null;return(_t,q)=>{null===ye&&(ye=((0,n.WQX)(St,{optional:!0})??[]).reduceRight(Te,de));const Ue=(0,n.WQX)(n.TgB);if((0,n.WQX)(ln)){const mt=Ue.add();return ye(_t,q).pipe((0,u.j)(()=>Ue.remove(mt)))}return ye(_t,q)}}let Ft=(()=>{class ye extends T{constructor(q,Ue){super(),this.backend=q,this.injector=Ue,this.chain=null,this.pendingTasks=(0,n.WQX)(n.TgB),this.contributeToStability=(0,n.WQX)(ln)}handle(q){if(null===this.chain){const Ue=Array.from(new Set([...this.injector.get(tt),...this.injector.get(wt,[])]));this.chain=Ue.reduceRight((Fe,mt)=>function Pe(ye,_t,q){return(Ue,Fe)=>(0,n.N4e)(q,()=>_t(Ue,mt=>ye(mt,Fe)))}(Fe,mt,this.injector),de)}if(this.contributeToStability){const Ue=this.pendingTasks.add();return this.chain(q,Fe=>this.backend.handle(Fe)).pipe((0,u.j)(()=>this.pendingTasks.remove(Ue)))}return this.chain(q,Ue=>this.backend.handle(Ue))}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(n.KVO(w),n.KVO(n.uvJ))};static#t=this.\u0275prov=n.jDH({token:ye,factory:ye.\u0275fac})}return ye})();const pt=/^\)\]\}',?\n/;let Gt=(()=>{class ye{constructor(q){this.xhrFactory=q}handle(q){if("JSONP"===q.method)throw new n.wOt(-2800,!1);const Ue=this.xhrFactory;return(Ue.\u0275loadImpl?(0,b.H)(Ue.\u0275loadImpl()):(0,p.of)(null)).pipe((0,I.n)(()=>new v.c(mt=>{const ut=Ue.build();if(ut.open(q.method,q.urlWithParams),q.withCredentials&&(ut.withCredentials=!0),q.headers.forEach((es,as)=>ut.setRequestHeader(es,as.join(","))),q.headers.has("Accept")||ut.setRequestHeader("Accept","application/json, text/plain, */*"),!q.headers.has("Content-Type")){const es=q.detectContentTypeHeader();null!==es&&ut.setRequestHeader("Content-Type",es)}if(q.responseType){const es=q.responseType.toLowerCase();ut.responseType="json"!==es?es:"text"}const Pn=q.serializeBody();let Yt=null;const Dn=()=>{if(null!==Yt)return Yt;const es=ut.statusText||"OK",as=new D(ut.getAllResponseHeaders()),ti=function Xt(ye){return"responseURL"in ye&&ye.responseURL?ye.responseURL:/^X-Request-URL:/m.test(ye.getAllResponseHeaders())?ye.getResponseHeader("X-Request-URL"):null}(ut)||q.url;return Yt=new Q({headers:as,status:ut.status,statusText:es,url:ti}),Yt},Sn=()=>{let{headers:es,status:as,statusText:ti,url:qs}=Dn(),Qi=null;204!==as&&(Qi=typeof ut.response>"u"?ut.responseText:ut.response),0===as&&(as=Qi?200:0);let Ks=as>=200&&as<300;if("json"===q.responseType&&"string"==typeof Qi){const vo=Qi;Qi=Qi.replace(pt,"");try{Qi=""!==Qi?JSON.parse(Qi):null}catch(zs){Qi=vo,Ks&&(Ks=!1,Qi={error:zs,text:Qi})}}Ks?(mt.next(new R({body:Qi,headers:es,status:as,statusText:ti,url:qs||void 0})),mt.complete()):mt.error(new L({error:Qi,headers:es,status:as,statusText:ti,url:qs||void 0}))},Jn=es=>{const{url:as}=Dn(),ti=new L({error:es,status:ut.status||0,statusText:ut.statusText||"Unknown Error",url:as||void 0});mt.error(ti)};let ci=!1;const Li=es=>{ci||(mt.next(Dn()),ci=!0);let as={type:le.DownloadProgress,loaded:es.loaded};es.lengthComputable&&(as.total=es.total),"text"===q.responseType&&ut.responseText&&(as.partialText=ut.responseText),mt.next(as)},Ui=es=>{let as={type:le.UploadProgress,loaded:es.loaded};es.lengthComputable&&(as.total=es.total),mt.next(as)};return ut.addEventListener("load",Sn),ut.addEventListener("error",Jn),ut.addEventListener("timeout",Jn),ut.addEventListener("abort",Jn),q.reportProgress&&(ut.addEventListener("progress",Li),null!==Pn&&ut.upload&&ut.upload.addEventListener("progress",Ui)),ut.send(Pn),mt.next({type:le.Sent}),()=>{ut.removeEventListener("error",Jn),ut.removeEventListener("abort",Jn),ut.removeEventListener("load",Sn),ut.removeEventListener("timeout",Jn),q.reportProgress&&(ut.removeEventListener("progress",Li),null!==Pn&&ut.upload&&ut.upload.removeEventListener("progress",Ui)),ut.readyState!==ut.DONE&&ut.abort()}})))}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(n.KVO(k.N0))};static#t=this.\u0275prov=n.jDH({token:ye,factory:ye.\u0275fac})}return ye})();const pn=new n.nKC(""),xn=new n.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gn=new n.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hi{}let Ht=(()=>{class ye{constructor(q,Ue,Fe){this.doc=q,this.platform=Ue,this.cookieName=Fe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const q=this.doc.cookie||"";return q!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,k._b)(q,this.cookieName),this.lastCookieString=q),this.lastToken}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(n.KVO(k.qQ),n.KVO(n.Agw),n.KVO(xn))};static#t=this.\u0275prov=n.jDH({token:ye,factory:ye.\u0275fac})}return ye})();function dt(ye,_t){const q=ye.url.toLowerCase();if(!(0,n.WQX)(pn)||"GET"===ye.method||"HEAD"===ye.method||q.startsWith("http://")||q.startsWith("https://"))return _t(ye);const Ue=(0,n.WQX)(hi).getToken(),Fe=(0,n.WQX)(Gn);return null!=Ue&&!ye.headers.has(Fe)&&(ye=ye.clone({headers:ye.headers.set(Fe,Ue)})),_t(ye)}var ct=function(ye){return ye[ye.Interceptors=0]="Interceptors",ye[ye.LegacyInterceptors=1]="LegacyInterceptors",ye[ye.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ye[ye.NoXsrfProtection=3]="NoXsrfProtection",ye[ye.JsonpSupport=4]="JsonpSupport",ye[ye.RequestsMadeViaParent=5]="RequestsMadeViaParent",ye[ye.Fetch=6]="Fetch",ye}(ct||{});function qt(...ye){const _t=[bt,Gt,Ft,{provide:T,useExisting:Ft},{provide:w,useFactory:()=>(0,n.WQX)(It,{optional:!0})??(0,n.WQX)(Gt)},{provide:tt,useValue:dt,multi:!0},{provide:pn,useValue:!0},{provide:hi,useClass:Ht}];for(const q of ye)_t.push(...q.\u0275providers);return(0,n.EmA)(_t)}const Qe=new n.nKC("");function je(){return function kt(ye,_t){return{\u0275kind:ye,\u0275providers:_t}}(ct.LegacyInterceptors,[{provide:Qe,useFactory:Mn},{provide:tt,useExisting:Qe,multi:!0}])}},3953:(jt,Se,l)=>{"use strict";function t(e,i){return Object.is(e,i)}l.d(Se,{bc$:()=>Xp,iLQ:()=>yT,sZ2:()=>yf,hnV:()=>AO,Hbi:()=>JR,o8S:()=>Kh,BIS:()=>$v,gRc:()=>XO,Ql9:()=>yR,OM3:()=>Bh,Ocv:()=>IR,Z63:()=>al,aKT:()=>yh,uvJ:()=>Ar,zcH:()=>Gl,bkB:()=>ya,y_5:()=>Ro,$GK:()=>si,nKC:()=>os,zZn:()=>ca,_q3:()=>PD,MKu:()=>LD,xe9:()=>OD,Co$:()=>OC,Vns:()=>yd,SKi:()=>Uo,Xx1:()=>Pa,Agw:()=>Ef,PLl:()=>Pm,rOR:()=>Vp,sFG:()=>IS,_9s:()=>$b,czy:()=>nu,WPN:()=>eu,kdw:()=>oa,C4Q:()=>Ph,NYb:()=>fR,giA:()=>wO,xvI:()=>UA,RxE:()=>EO,c1b:()=>Rg,gXe:()=>ic,mal:()=>H0,Tzd:()=>$C,L39:()=>Ok,EWP:()=>Ak,sbv:()=>XS,Ol2:()=>ry,w6W:()=>cM,oH4:()=>GO,QZP:()=>Ow,SmG:()=>LR,Rfq:()=>Xo,WQX:()=>Zn,Hps:()=>ey,QuC:()=>er,EmA:()=>qu,Udg:()=>wk,fpN:()=>QR,HJs:()=>Nk,N4e:()=>qc,vPA:()=>pC,O8t:()=>Rk,H3F:()=>CO,zAP:()=>vw,H8p:()=>Tr,KH2:()=>e1,TgB:()=>Kd,wOt:()=>di,WHO:()=>IO,e01:()=>OO,lNU:()=>Zo,h9k:()=>Qv,$MX:()=>jf,ZF7:()=>Pf,Kcf:()=>Lf,e5t:()=>tE,UyX:()=>qy,cWb:()=>Nf,osQ:()=>eE,H5H:()=>JM,Zy3:()=>Io,mq5:()=>II,JZv:()=>Ao,LfX:()=>Fl,plB:()=>$h,jNT:()=>SD,zjR:()=>xO,TL$:()=>Nv,Tbb:()=>lo,rcV:()=>md,nM4:()=>sy,Vt3:()=>Lg,GFd:()=>IC,OA$:()=>ah,Jv_:()=>N2,aNF:()=>B2,R7$:()=>ge,BMQ:()=>by,HbH:()=>Zg,ZvI:()=>_I,AVh:()=>Wu,vxM:()=>bI,wni:()=>d2,C6U:()=>p2,VBU:()=>Oe,FsC:()=>Tn,jDH:()=>ns,G2t:()=>qo,$C:()=>Qt,EJ8:()=>bi,rXU:()=>Et,nrm:()=>XM,eu8:()=>HM,bVm:()=>dT,qex:()=>cT,k0s:()=>lT,j41:()=>aT,RV6:()=>DI,xGo:()=>Tu,Mr5:()=>YM,pXf:()=>KI,nnv:()=>zI,YFu:()=>tD,uP7:()=>nD,k04:()=>WI,PLo:()=>eD,KVO:()=>Es,kS0:()=>uf,QTQ:()=>an,bIt:()=>iD,lsd:()=>f2,joV:()=>dv,qSk:()=>d1,XpG:()=>JI,nI1:()=>tO,bMT:()=>nO,i5U:()=>iO,brH:()=>sO,SdG:()=>qI,NAR:()=>ZI,Y8G:()=>yy,lJ4:()=>V2,eq3:()=>G2,l_i:()=>K2,sMw:()=>z2,ziG:()=>W2,s1E:()=>X2,sGs:()=>H2,lV:()=>Y2,NyB:()=>_2,mGM:()=>h2,sdS:()=>m2,Dyx:()=>TI,Z7z:()=>CI,fX1:()=>EI,Vm6:()=>yI,Njj:()=>Q_,tSv:()=>c_,eBV:()=>ov,npT:()=>Hm,B4B:()=>Pu,n$t:()=>Gf,wjB:()=>$2,Aen:()=>vc,xc7:()=>zu,Kam:()=>sD,zvX:()=>QM,DNE:()=>ay,C5r:()=>oO,EFF:()=>D2,JRh:()=>lD,SpI:()=>_T,Lme:()=>cD,E5c:()=>dD,LHq:()=>uD,DH7:()=>k2,mxI:()=>fD,R50:()=>hD,GBs:()=>u2});let n=null,p=!1,v=1;const b=Symbol("SIGNAL");function E(e){const i=n;return n=e,i}const I={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function k(e){if(p)throw new Error("");if(null===n)return;n.consumerOnSignalRead(e);const i=n.nextProducerIndex++;z(n),i<n.producerNode.length&&n.producerNode[i]!==e&&J(n)&&F(n.producerNode[i],n.producerIndexOfThis[i]),n.producerNode[i]!==e&&(n.producerNode[i]=e,n.producerIndexOfThis[i]=J(n)?Z(e,n,i):0),n.producerLastReadVersion[i]=e.version}function w(e){if((!J(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==v)){if(!e.producerMustRecompute(e)&&!U(e))return e.dirty=!1,void(e.lastCleanEpoch=v);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=v}}function D(e){if(void 0===e.liveConsumerNode)return;const i=p;p=!0;try{for(const s of e.liveConsumerNode)s.dirty||V(s)}finally{p=i}}function f(){return!1!==n?.consumerAllowSignalWrites}function V(e){e.dirty=!0,D(e),e.consumerMarkedDirty?.(e)}function K(e){return e&&(e.nextProducerIndex=0),E(e)}function ne(e,i){if(E(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(J(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)F(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function U(e){z(e);for(let i=0;i<e.producerNode.length;i++){const s=e.producerNode[i],d=e.producerLastReadVersion[i];if(d!==s.version||(w(s),d!==s.version))return!0}return!1}function c(e){if(z(e),J(e))for(let i=0;i<e.producerNode.length;i++)F(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Z(e,i,s){if(X(e),0===e.liveConsumerNode.length&&$(e))for(let d=0;d<e.producerNode.length;d++)e.producerIndexOfThis[d]=Z(e.producerNode[d],e,d);return e.liveConsumerIndexOfThis.push(s),e.liveConsumerNode.push(i)-1}function F(e,i){if(X(e),1===e.liveConsumerNode.length&&$(e))for(let d=0;d<e.producerNode.length;d++)F(e.producerNode[d],e.producerIndexOfThis[d]);const s=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[s],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[s],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const d=e.liveConsumerIndexOfThis[i],_=e.liveConsumerNode[i];z(_),_.producerIndexOfThis[d]=i}}function J(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function z(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function X(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function $(e){return void 0!==e.producerNode}function te(e){const i=Object.create(le);i.computation=e;const s=()=>{if(w(i),k(i),i.value===ce)throw i.error;return i.value};return s[b]=i,s}const G=Symbol("UNSET"),oe=Symbol("COMPUTING"),ce=Symbol("ERRORED"),le={...I,value:G,dirty:!0,error:null,equal:t,producerMustRecompute:e=>e.value===G||e.value===oe,producerRecomputeValue(e){if(e.value===oe)throw new Error("Detected cycle in computations.");const i=e.value;e.value=oe;const s=K(e);let d;try{d=e.computation()}catch(_){d=ce,e.error=_}finally{ne(e,s)}i!==G&&i!==ce&&d!==ce&&e.equal(i,d)?e.value=i:(e.value=d,e.version++)}};let Q=function ve(){throw new Error};function R(){Q()}let H=null;function bt(e,i){f()||R(),e.equal(e.value,i)||(e.value=i,function It(e){e.version++,function T(){v++}(),D(e),H?.()}(e))}const ot={...I,equal:t,value:void 0};const we=()=>{},_e={...I,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:we};var Te=l(9928),Pe=l(5286),St=l(4337),tt=l(5006);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Zo="https://g.co/ng/security#xss";class di extends Error{constructor(i,s){super(Io(i,s)),this.code=i}}function Io(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}function rr(e){return{toString:e}.toString()}const Po="__parameters__";function ar(e,i,s){return rr(()=>{const d=function $s(e){return function(...s){if(e){const d=e(...s);for(const _ in d)this[_]=d[_]}}}(i);function _(...C){if(this instanceof _)return d.apply(this,C),this;const P=new _(...C);return se.annotation=P,se;function se(he,Ge,nt){const zt=he.hasOwnProperty(Po)?he[Po]:Object.defineProperty(he,Po,{value:[]})[Po];for(;zt.length<=nt;)zt.push(null);return(zt[nt]=zt[nt]||[]).push(P),he}}return s&&(_.prototype=Object.create(s.prototype)),_.prototype.ngMetadataName=e,_.annotationCls=_,_})}const Ao=globalThis;function ps(e){for(let i in e)if(e[i]===ps)return i;throw Error("Could not find renamed property on target object.")}function Ts(e,i){for(const s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=i[s])}function lo(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(lo).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function _a(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const $o=ps({__forward_ref__:ps});function Xo(e){return e.__forward_ref__=Xo,e.toString=function(){return lo(this())},e}function Ji(e){return Kr(e)?e():e}function Kr(e){return"function"==typeof e&&e.hasOwnProperty($o)&&e.__forward_ref__===Xo}function Ye(e,i,s){e!=i&&function Ri(e,i,s,d){throw new Error(`ASSERTION ERROR: ${e}`+(null==d?"":` [Expected=> ${s} ${d} ${i} <=Actual]`))}(s,e,i,"==")}function ns(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qo(e){return{providers:e.providers||[],imports:e.imports||[]}}function wr(e){return sa(e,Sa)||sa(e,Xa)}function Fl(e){return null!==wr(e)}function sa(e,i){return e.hasOwnProperty(i)?e[i]:null}function Wa(e){return e&&(e.hasOwnProperty(Ma)||e.hasOwnProperty(yc))?e[Ma]:null}const Sa=ps({\u0275prov:ps}),Ma=ps({\u0275inj:ps}),Xa=ps({ngInjectableDef:ps}),yc=ps({ngInjectorDef:ps});class os{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ns({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ma(e){return e&&!!e.\u0275providers}const ol=ps({\u0275cmp:ps}),As=ps({\u0275dir:ps}),ec=ps({\u0275pipe:ps}),N=ps({\u0275mod:ps}),ft=ps({\u0275fac:ps}),et=ps({__NG_ELEMENT_ID__:ps}),Dt=ps({__NG_ENV_ID__:ps});function Ot(e){return"string"==typeof e?e:null==e?"":String(e)}function fi(e,i){throw new di(-201,!1)}var si=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(si||{});let Zi;function cs(){return Zi}function rs(e){const i=Zi;return Zi=e,i}function ao(e,i,s){const d=wr(e);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&si.Optional?null:void 0!==i?i:void fi()}const tc={},Pl="__NG_DI_FLAG__",ue="ngTempTokenPath",ke=/\n/gm,tn="__source";let Fn;function Di(e){const i=Fn;return Fn=e,i}function So(e,i=si.Default){if(void 0===Fn)throw new di(-203,!1);return null===Fn?ao(e,void 0,i):Fn.get(e,i&si.Optional?null:void 0,i)}function Es(e,i=si.Default){return(cs()||So)(Ji(e),i)}function Zn(e,i=si.Default){return Es(e,Ss(i))}function Ss(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ks(e){const i=[];for(let s=0;s<e.length;s++){const d=Ji(e[s]);if(Array.isArray(d)){if(0===d.length)throw new di(900,!1);let _,C=si.Default;for(let P=0;P<d.length;P++){const se=d[P],he=ga(se);"number"==typeof he?-1===he?_=se.token:C|=he:_=se}i.push(Es(_,C))}else i.push(Es(d))}return i}function fo(e,i){return e[Pl]=i,e.prototype[Pl]=i,e}function ga(e){return e[Pl]}const Ro=fo(ar("Inject",e=>({token:e})),-1),Pa=fo(ar("Optional"),8),oa=fo(ar("SkipSelf"),4);function _r(e,i){return e.hasOwnProperty(ft)?e[ft]:null}function Cc(e,i){e.forEach(s=>Array.isArray(s)?Cc(s,i):i(s))}function zc(e,i,s){i>=e.length?e.push(s):e.splice(i,0,s)}function Qa(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function Ja(e,i,s){let d=Mo(e,i);return d>=0?e[1|d]=s:(d=~d,function bo(e,i,s,d){let _=e.length;if(_==i)e.push(s,d);else if(1===_)e.push(d,e[0]),e[0]=s;else{for(_--,e.push(e[_-1],e[_]);_>i;)e[_]=e[_-2],_--;e[i]=s,e[i+1]=d}}(e,d,i,s)),d}function Yu(e,i){const s=Mo(e,i);if(s>=0)return e[1|s]}function Mo(e,i){return function Da(e,i,s){let d=0,_=e.length>>s;for(;_!==d;){const C=d+(_-d>>1),P=e[C<<s];if(i===P)return C<<s;P>i?_=C:d=C+1}return~(_<<s)}(e,i,1)}const Ia={},Us=[],al=new os(""),Qu=new os("",-1),Ju=new os("");class Zu{get(i,s=tc){if(s===tc){const d=new Error(`NullInjectorError: No provider for ${lo(i)}!`);throw d.name="NullInjectorError",d}return s}}var nc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(nc||{}),ic=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ic||{}),vl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(vl||{});function zh(e,i,s){let d=e.length;for(;;){const _=e.indexOf(i,s);if(-1===_)return _;if(0===_||e.charCodeAt(_-1)<=32){const C=i.length;if(_+C===d||e.charCodeAt(_+C)<=32)return _}s=_+1}}function Tc(e,i,s){let d=0;for(;d<s.length;){const _=s[d];if("number"==typeof _){if(0!==_)break;d++;const C=s[d++],P=s[d++],se=s[d++];e.setAttribute(i,P,se,C)}else{const C=_,P=s[++d];Wr(C)?e.setProperty(i,C,P):e.setAttribute(i,C,P),d++}}return d}function Wh(e){return 3===e||4===e||6===e}function Wr(e){return 64===e.charCodeAt(0)}function sc(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let s=-1;for(let d=0;d<i.length;d++){const _=i[d];"number"==typeof _?s=_:0===s||Xr(e,s,_,null,-1===s||2===s?i[++d]:null)}}return e}function Xr(e,i,s,d,_){let C=0,P=e.length;if(-1===i)P=-1;else for(;C<e.length;){const se=e[C++];if("number"==typeof se){if(se===i){P=-1;break}if(se>i){P=C-1;break}}}for(;C<e.length;){const se=e[C];if("number"==typeof se)break;if(se===s){if(null===d)return void(null!==_&&(e[C+1]=_));if(d===e[C+1])return void(e[C+2]=_)}C++,null!==d&&C++,null!==_&&C++}-1!==P&&(e.splice(P,0,i),C=P+1),e.splice(C++,0,s),null!==d&&e.splice(C++,0,d),null!==_&&e.splice(C++,0,_)}const Xh="ng-template";function Wc(e,i,s,d){let _=0;if(d){for(;_<i.length&&"string"==typeof i[_];_+=2)if("class"===i[_]&&-1!==zh(i[_+1].toLowerCase(),s,0))return!0}else if(cu(e))return!1;if(_=i.indexOf(1,_),_>-1){let C;for(;++_<i.length&&"string"==typeof(C=i[_]);)if(C.toLowerCase()===s)return!0}return!1}function cu(e){return 4===e.type&&e.value!==Xh}function rp(e,i,s){return i===(4!==e.type||s?e.value:Xh)}function oc(e,i,s){let d=4;const _=e.attrs,C=null!==_?function Sc(e){for(let i=0;i<e.length;i++)if(Wh(e[i]))return i;return e.length}(_):0;let P=!1;for(let se=0;se<i.length;se++){const he=i[se];if("number"!=typeof he){if(!P)if(4&d){if(d=2|1&d,""!==he&&!rp(e,he,s)||""===he&&1===i.length){if(mr(d))return!1;P=!0}}else if(8&d){if(null===_||!Wc(e,_,he,s)){if(mr(d))return!1;P=!0}}else{const Ge=i[++se],nt=du(he,_,cu(e),s);if(-1===nt){if(mr(d))return!1;P=!0;continue}if(""!==Ge){let zt;if(zt=nt>C?"":_[nt+1].toLowerCase(),2&d&&Ge!==zt){if(mr(d))return!1;P=!0}}}}else{if(!P&&!mr(d)&&!mr(he))return!1;if(P&&mr(he))continue;P=!1,d=he|1&d}}return mr(d)||P}function mr(e){return!(1&e)}function du(e,i,s,d){if(null===i)return-1;let _=0;if(d||!s){let C=!1;for(;_<i.length;){const P=i[_];if(P===e)return _;if(3===P||6===P)C=!0;else{if(1===P||2===P){let se=i[++_];for(;"string"==typeof se;)se=i[++_];continue}if(4===P)break;if(0===P){_+=4;continue}}_+=C?1:2}return-1}return function B_(e,i){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const d=e[s];if("number"==typeof d)return-1;if(d===i)return s;s++}return-1}(i,e)}function ap(e,i,s=!1){for(let d=0;d<i.length;d++)if(oc(e,i[d],s))return!0;return!1}function Xc(e,i){e:for(let s=0;s<i.length;s++){const d=i[s];if(e.length===d.length){for(let _=0;_<e.length;_++)if(e[_]!==d[_])continue e;return!0}}return!1}function Hc(e,i){return e?":not("+i.trim()+")":i}function re(e){let i=e[0],s=1,d=2,_="",C=!1;for(;s<e.length;){let P=e[s];if("string"==typeof P)if(2&d){const se=e[++s];_+="["+P+(se.length>0?'="'+se+'"':"")+"]"}else 8&d?_+="."+P:4&d&&(_+=" "+P);else""!==_&&!mr(P)&&(i+=Hc(C,_),_=""),d=P,C=C||!mr(d);s++}return""!==_&&(i+=Hc(C,_)),i}function Oe(e){return rr(()=>{const i=Ho(e),s={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===nc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ic.Emulated,styles:e.styles||Us,_:null,schemas:e.schemas||null,tView:null,id:""};Oa(s);const d=e.dependencies;return s.directiveDefs=Ll(d,!1),s.pipeDefs=Ll(d,!0),s.id=function Yc(e){let i=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const _ of s)i=Math.imul(31,i)+_.charCodeAt(0)|0;return i+=2147483648,"c"+i}(s),s})}function qe(e){return oi(e)||Xn(e)}function Lt(e){return null!==e}function Qt(e){return rr(()=>({type:e.type,bootstrap:e.bootstrap||Us,declarations:e.declarations||Us,imports:e.imports||Us,exports:e.exports||Us,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function In(e,i){if(null==e)return Ia;const s={};for(const d in e)if(e.hasOwnProperty(d)){const _=e[d];let C,P,se=vl.None;Array.isArray(_)?(se=_[0],C=_[1],P=_[2]??C):(C=_,P=_),i?(s[C]=se!==vl.None?[d,se]:d,i[C]=P):s[C]=d}return s}function Tn(e){return rr(()=>{const i=Ho(e);return Oa(i),i})}function bi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function oi(e){return e[ol]||null}function Xn(e){return e[As]||null}function gi(e){return e[ec]||null}function er(e){const i=oi(e)||Xn(e)||gi(e);return null!==i&&i.standalone}function po(e,i){const s=e[N]||null;if(!s&&!0===i)throw new Error(`Type ${lo(e)} does not have '\u0275mod' property.`);return s}function Ho(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Ia,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Us,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:In(e.inputs,i),outputs:In(e.outputs),debugInfo:null}}function Oa(e){e.features?.forEach(i=>i(e))}function Ll(e,i){if(!e)return null;const s=i?gi:qe;return()=>("function"==typeof e?e():e).map(d=>s(d)).filter(Lt)}function qu(e){return{\u0275providers:e}}function Nl(...e){return{\u0275providers:eh(0,e),\u0275fromNgModule:!0}}function eh(e,...i){const s=[],d=new Set;let _;const C=P=>{s.push(P)};return Cc(i,P=>{const se=P;uu(se,C,[],d)&&(_||=[],_.push(se))}),void 0!==_&&ll(_,C),s}function ll(e,i){for(let s=0;s<e.length;s++){const{ngModule:d,providers:_}=e[s];th(_,C=>{i(C,d)})}}function uu(e,i,s,d){if(!(e=Ji(e)))return!1;let _=null,C=Wa(e);const P=!C&&oi(e);if(C||P){if(P&&!P.standalone)return!1;_=e}else{const he=e.ngModule;if(C=Wa(he),!C)return!1;_=he}const se=d.has(_);if(P){if(se)return!1;if(d.add(_),P.dependencies){const he="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const Ge of he)uu(Ge,i,s,d)}}else{if(!C)return!1;{if(null!=C.imports&&!se){let Ge;d.add(_);try{Cc(C.imports,nt=>{uu(nt,i,s,d)&&(Ge||=[],Ge.push(nt))})}finally{}void 0!==Ge&&ll(Ge,i)}if(!se){const Ge=_r(_)||(()=>new _);i({provide:_,useFactory:Ge,deps:Us},_),i({provide:Ju,useValue:_,multi:!0},_),i({provide:al,useValue:()=>Es(_),multi:!0},_)}const he=C.providers;if(null!=he&&!se){const Ge=e;th(he,nt=>{i(nt,Ge)})}}}return _!==e&&void 0!==e.providers}function th(e,i){for(let s of e)ma(s)&&(s=s.\u0275providers),Array.isArray(s)?th(s,i):i(s)}const $_=ps({provide:String,useValue:ps});function ra(e){return null!==e&&"object"==typeof e&&$_ in e}function hu(e){return"function"==typeof e}const Tr=new os(""),bl={},Mc={};let cl;function gs(){return void 0===cl&&(cl=new Zu),cl}class Ar{}class Jc extends Ar{get destroyed(){return this._destroyed}constructor(i,s,d,_){super(),this.parent=s,this.source=d,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rr(i,P=>this.processProvider(P)),this.records.set(Qu,Zc(void 0,this)),_.has("environment")&&this.records.set(Ar,Zc(void 0,this));const C=this.records.get(Tr);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(Ju,Us,si.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=E(null);try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of s)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),E(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Di(this),d=rs(void 0);try{return i()}finally{Di(s),rs(d)}}get(i,s=tc,d=si.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Dt))return i[Dt](this);d=Ss(d);const C=Di(this),P=rs(void 0);try{if(!(d&si.SkipSelf)){let he=this.records.get(i);if(void 0===he){const Ge=function tv(e){return"function"==typeof e||"object"==typeof e&&e instanceof os}(i)&&wr(i);he=Ge&&this.injectableDefInScope(Ge)?Zc(Dc(i),bl):null,this.records.set(i,he)}if(null!=he)return this.hydrate(i,he)}return(d&si.Self?gs():this.parent).get(i,s=d&si.Optional&&s===tc?null:s)}catch(se){if("NullInjectorError"===se.name){if((se[ue]=se[ue]||[]).unshift(lo(i)),C)throw se;return function zr(e,i,s,d){const _=e[ue];throw i[tn]&&_.unshift(i[tn]),e.message=function li(e,i,s,d=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let _=lo(i);if(Array.isArray(i))_=i.map(lo).join(" -> ");else if("object"==typeof i){let C=[];for(let P in i)if(i.hasOwnProperty(P)){let se=i[P];C.push(P+":"+("string"==typeof se?JSON.stringify(se):lo(se)))}_=`{${C.join(", ")}}`}return`${s}${d?"("+d+")":""}[${_}]: ${e.replace(ke,"\n  ")}`}("\n"+e.message,_,s,d),e.ngTokenPath=_,e[ue]=null,e}(se,i,"R3InjectorError",this.source)}throw se}finally{rs(P),Di(C)}}resolveInjectorInitializers(){const i=E(null),s=Di(this),d=rs(void 0);try{const C=this.get(al,Us,si.Self);for(const P of C)P()}finally{Di(s),rs(d),E(i)}}toString(){const i=[],s=this.records;for(const d of s.keys())i.push(lo(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new di(205,!1)}processProvider(i){let s=hu(i=Ji(i))?i:Ji(i&&i.provide);const d=function nh(e){return ra(e)?Zc(void 0,e.useValue):Zc(Sd(e),bl)}(i);if(!hu(i)&&!0===i.multi){let _=this.records.get(s);_||(_=Zc(void 0,bl,!0),_.factory=()=>ks(_.multi),this.records.set(s,_)),s=i,_.multi.push(i)}this.records.set(s,d)}hydrate(i,s){const d=E(null);try{return s.value===bl&&(s.value=Mc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function lp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{E(d)}}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ji(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Dc(e){const i=wr(e),s=null!==i?i.factory:_r(e);if(null!==s)return s;if(e instanceof os)throw new di(204,!1);if(e instanceof Function)return function Ic(e){if(e.length>0)throw new di(204,!1);const s=function Kc(e){return e&&(e[Sa]||e[Xa])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new di(204,!1)}function Sd(e,i,s){let d;if(hu(e)){const _=Ji(e);return _r(_)||Dc(_)}if(ra(e))d=()=>Ji(e.useValue);else if(function Td(e){return!(!e||!e.useFactory)}(e))d=()=>e.useFactory(...ks(e.deps||[]));else if(function Qc(e){return!(!e||!e.useExisting)}(e))d=()=>Es(Ji(e.useExisting));else{const _=Ji(e&&(e.useClass||e.provide));if(!function dl(e){return!!e.deps}(e))return _r(_)||Dc(_);d=()=>new _(...ks(e.deps))}return d}function Zc(e,i,s=!1){return{factory:e,value:i,multi:s?[]:void 0}}function Rr(e,i){for(const s of e)Array.isArray(s)?Rr(s,i):s&&ma(s)?Rr(s.\u0275providers,i):i(s)}function qc(e,i){e instanceof Jc&&e.assertNotDestroyed();const d=Di(e),_=rs(void 0);try{return i()}finally{Di(d),rs(_)}}function qa(){return void 0!==cs()||null!=function Ln(){return Fn}()}function jo(e){if(!qa())throw new di(-203,!1)}const tr=0,ui=1,Pi=2,kr=3,yl=4,Lo=5,Fr=6,fu=7,No=8,Sr=9,aa=10,_s=11,js=12,j_=13,Id=14,io=15,td=16,ul=17,Bl=18,Od=19,U_=20,ba=21,gr=22,_o=23,Xi=25,Qh=1,Pr=7,wd=9,Mr=10;var xd=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(xd||{});function cr(e){return Array.isArray(e)&&"object"==typeof e[Qh]}function Lr(e){return Array.isArray(e)&&!0===e[Qh]}function Jh(e){return!!(4&e.flags)}function Ad(e){return e.componentOffset>-1}function _u(e){return!(1&~e.flags)}function vr(e){return!!e.template}function Oc(e){return!!(512&e[Pi])}class rh{constructor(i,s,d){this.previousValue=i,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function z_(e,i,s,d){null!==i?i.applyValueToInputSignal(i,d):e[s]=d}function ah(){return W_}function W_(e){return e.type.prototype.ngOnChanges&&(e.setInput=mp),sv}function sv(){const e=tf(this),i=e?.current;if(i){const s=e.previous;if(s===Ia)e.previous=i;else for(let d in i)s[d]=i[d];e.current=null,this.ngOnChanges(i)}}function mp(e,i,s,d,_){const C=this.declaredInputs[d],P=tf(e)||function X_(e,i){return e[ef]=i}(e,{previous:Ia,current:null}),se=P.current||(P.current={}),he=P.previous,Ge=he[C];se[C]=new rh(Ge&&Ge.currentValue,s,he===Ia),z_(e,i,_,s)}ah.ngInherit=!0;const ef="__ngSimpleChanges__";function tf(e){return e[ef]||null}const El=function(e,i,s){},gp="svg";function so(e){for(;Array.isArray(e);)e=e[tr];return e}function lh(e,i){return so(i[e])}function la(e,i){return so(i[e.index])}function bu(e,i){return e.data[i]}function xc(e,i){return e[i]}function wa(e,i){const s=i[e];return cr(s)?s:s[tr]}function ch(e){return!(128&~e[Pi])}function dr(e,i){return null==i?null:e[i]}function yp(e){e[ul]=0}function sf(e){1024&e[Pi]||(e[Pi]|=1024,ch(e)&&od(e))}function Ld(e){return!!(9216&e[Pi]||e[_o]?.dirty)}function rf(e){e[aa].changeDetectionScheduler?.notify(8),64&e[Pi]&&(e[Pi]|=1024),Ld(e)&&od(e)}function od(e){e[aa].changeDetectionScheduler?.notify(0);let i=Le(e);for(;null!==i&&!(8192&i[Pi])&&(i[Pi]|=8192,ch(i));)i=Le(i)}function j(e,i){if(!(256&~e[Pi]))throw new di(911,!1);null===e[ba]&&(e[ba]=[]),e[ba].push(i)}function Le(e){const i=e[kr];return Lr(i)?i[kr]:i}const Ze={lFrame:$d(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Rn=!1;function oo(){return Ze.bindingsEnabled}function Js(){return null!==Ze.skipHydrationRootTNode}function Kn(){return Ze.lFrame.lView}function Fs(){return Ze.lFrame.tView}function ov(e){return Ze.lFrame.contextLView=e,e[No]}function Q_(e){return Ze.lFrame.contextLView=null,e}function ko(){let e=J_();for(;null!==e&&64===e.type;)e=e.parent;return e}function J_(){return Ze.lFrame.currentTNode}function af(){const e=Ze.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}function Ul(e,i){const s=Ze.lFrame;s.currentTNode=e,s.isParent=i}function Z_(){return Ze.lFrame.isParent}function Bo(){Ze.lFrame.isParent=!1}function c1(){return Rn}function dh(e){Rn=e}function xa(){const e=Ze.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function cc(){return Ze.lFrame.bindingIndex}function Ac(){return Ze.lFrame.bindingIndex++}function Nd(e){const i=Ze.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,s}function em(e){Ze.lFrame.inI18n=e}function Bd(e,i){const s=Ze.lFrame;s.bindingIndex=s.bindingRootIndex=e,Rc(i)}function Rc(e){Ze.lFrame.currentDirectiveIndex=e}function hl(e){const i=Ze.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function uh(){return Ze.lFrame.currentQueryIndex}function Cp(e){Ze.lFrame.currentQueryIndex=e}function Ds(e){const i=e[ui];return 2===i.type?i.declTNode:1===i.type?e[Lo]:null}function hh(e,i,s){if(s&si.SkipSelf){let _=i,C=e;for(;!(_=_.parent,null!==_||s&si.Host||(_=Ds(C),null===_||(C=C[Id],10&_.type))););if(null===_)return!1;i=_,e=C}const d=Ze.lFrame=av();return d.currentTNode=i,d.lView=e,!0}function fh(e){const i=av(),s=e[ui];Ze.lFrame=i,i.currentTNode=s.firstChild,i.lView=e,i.tView=s,i.contextLView=e,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function av(){const e=Ze.lFrame,i=null===e?null:e.child;return null===i?$d(e):i}function $d(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function lv(){const e=Ze.lFrame;return Ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tp=lv;function cv(){const e=lv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Aa(){return Ze.lFrame.selectedIndex}function yu(e){Ze.lFrame.selectedIndex=e}function Yo(){const e=Ze.lFrame;return bu(e.tView,e.selectedIndex)}function d1(){Ze.lFrame.currentNamespace=gp}function dv(){!function h1(){Ze.lFrame.currentNamespace=null}()}let Mp=!0;function ph(){return Mp}function Jr(e){Mp=e}function Dp(e,i){for(let s=i.directiveStart,d=i.directiveEnd;s<d;s++){const C=e.data[s].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:se,ngAfterViewInit:he,ngAfterViewChecked:Ge,ngOnDestroy:nt}=C;P&&(e.contentHooks??=[]).push(-s,P),se&&((e.contentHooks??=[]).push(s,se),(e.contentCheckHooks??=[]).push(s,se)),he&&(e.viewHooks??=[]).push(-s,he),Ge&&((e.viewHooks??=[]).push(s,Ge),(e.viewCheckHooks??=[]).push(s,Ge)),null!=nt&&(e.destroyHooks??=[]).push(s,nt)}}function Ip(e,i,s){cf(e,i,3,s)}function Op(e,i,s,d){(3&e[Pi])===s&&cf(e,i,s,d)}function im(e,i){let s=e[Pi];(3&s)===i&&(s&=16383,s+=1,e[Pi]=s)}function cf(e,i,s,d){const C=d??-1,P=i.length-1;let se=0;for(let he=void 0!==d?65535&e[ul]:0;he<P;he++)if("number"==typeof i[he+1]){if(se=i[he],null!=d&&se>=d)break}else i[he]<0&&(e[ul]+=65536),(se<C||-1==C)&&(f1(e,s,i,he),e[ul]=(4294901760&e[ul])+he+2),he++}function sm(e,i){El(4,e,i);const s=E(null);try{i.call(e)}finally{E(s),El(5,e,i)}}function f1(e,i,s,d){const _=s[d]<0,C=s[d+1],se=e[_?-s[d]:s[d]];_?e[Pi]>>14<e[ul]>>16&&(3&e[Pi])===i&&(e[Pi]+=16384,sm(se,C)):sm(se,C)}const _h=-1;class mh{constructor(i,s,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}const lm={};class ld{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,d){d=Ss(d);const _=this.injector.get(i,lm,d);return _!==lm||s===lm?_:this.parentInjector.get(i,s,d)}}function Cu(e){return e!==_h}function wp(e){return 32767&e}function tl(e,i){let s=function cd(e){return e>>16}(e),d=i;for(;s>0;)d=d[Id],s--;return d}let hv=!0;function dc(e){const i=hv;return hv=e,i}const Na=255,Tl=5;let fv=0;const Nr={};function dd(e,i){const s=_1(e,i);if(-1!==s)return s;const d=i[ui];d.firstCreatePass&&(e.injectorIndex=i.length,Ap(d.data,e),Ap(i,null),Ap(d.blueprint,null));const _=uc(e,i),C=e.injectorIndex;if(Cu(_)){const P=wp(_),se=tl(_,i),he=se[ui].data;for(let Ge=0;Ge<8;Ge++)i[C+Ge]=se[P+Ge]|he[P+Ge]}return i[C+8]=_,C}function Ap(e,i){e.push(0,0,0,0,0,0,0,0,i)}function _1(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function uc(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,d=null,_=i;for(;null!==_;){if(d=Fp(_),null===d)return _h;if(s++,_=_[Id],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return _h}function df(e,i,s){!function Cs(e,i,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(et)&&(d=s[et]),null==d&&(d=s[et]=fv++);const _=d&Na;i.data[e+(_>>Tl)]|=1<<_}(e,i,s)}function um(e,i,s){if(s&si.Optional||void 0!==e)return e;fi()}function Rp(e,i,s,d){if(s&si.Optional&&void 0===d&&(d=null),!(s&(si.Self|si.Host))){const _=e[Sr],C=rs(void 0);try{return _?_.get(i,d,s&si.Optional):ao(i,d,s&si.Optional)}finally{rs(C)}}return um(d,0,s)}function ud(e,i,s,d=si.Default,_){if(null!==e){if(2048&i[Pi]&&!(d&si.Self)){const P=function Vd(e,i,s,d,_){let C=e,P=i;for(;null!==C&&null!==P&&2048&P[Pi]&&!(512&P[Pi]);){const se=gh(C,P,s,d|si.Self,Nr);if(se!==Nr)return se;let he=C.parent;if(!he){const Ge=P[U_];if(Ge){const nt=Ge.get(s,Nr,d);if(nt!==Nr)return nt}he=Fp(P),P=P[Id]}C=he}return _}(e,i,s,d,Nr);if(P!==Nr)return P}const C=gh(e,i,s,d,Nr);if(C!==Nr)return C}return Rp(i,s,d,_)}function gh(e,i,s,d,_){const C=function hm(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(et)?e[et]:void 0;return"number"==typeof i?i>=0?i&Na:m1:i}(s);if("function"==typeof C){if(!hh(i,e,d))return d&si.Host?um(_,0,d):Rp(i,s,d,_);try{let P;if(P=C(d),null!=P||d&si.Optional)return P;fi()}finally{Tp()}}else if("number"==typeof C){let P=null,se=_1(e,i),he=_h,Ge=d&si.Host?i[io][Lo]:null;for((-1===se||d&si.SkipSelf)&&(he=-1===se?uc(e,i):i[se+8],he!==_h&&fm(d,!1)?(P=i[ui],se=wp(he),i=tl(he,i)):se=-1);-1!==se;){const nt=i[ui];if(jd(C,se,nt.data)){const zt=pv(se,i,s,P,d,Ge);if(zt!==Nr)return zt}he=i[se+8],he!==_h&&fm(d,i[ui].data[se+8]===Ge)&&jd(C,se,i)?(P=nt,se=wp(he),i=tl(he,i)):se=-1}}return _}function pv(e,i,s,d,_,C){const P=i[ui],se=P.data[e+8],nt=kp(se,P,s,null==d?Ad(se)&&hv:d!=P&&!!(3&se.type),_&si.Host&&C===se);return null!==nt?$i(i,P,nt,se):Nr}function kp(e,i,s,d,_){const C=e.providerIndexes,P=i.data,se=1048575&C,he=e.directiveStart,nt=C>>20,cn=_?se+nt:e.directiveEnd;for(let gn=d?se:se+nt;gn<cn;gn++){const On=P[gn];if(gn<he&&s===On||gn>=he&&On.type===s)return gn}if(_){const gn=P[he];if(gn&&vr(gn)&&gn.type===s)return he}return null}function $i(e,i,s,d){let _=e[s];const C=i.data;if(function om(e){return e instanceof mh}(_)){const P=_;P.resolving&&function $n(e,i){throw i&&i.join(" > "),new di(-200,e)}(function en(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ot(e)}(C[s]));const se=dc(P.canSeeViewProviders);P.resolving=!0;const Ge=P.injectImpl?rs(P.injectImpl):null;hh(e,d,si.Default);try{_=e[s]=P.factory(void 0,C,e,d),i.firstCreatePass&&s>=d.directiveStart&&function nm(e,i,s){const{ngOnChanges:d,ngOnInit:_,ngDoCheck:C}=i.type.prototype;if(d){const P=W_(i);(s.preOrderHooks??=[]).push(e,P),(s.preOrderCheckHooks??=[]).push(e,P)}_&&(s.preOrderHooks??=[]).push(0-e,_),C&&((s.preOrderHooks??=[]).push(e,C),(s.preOrderCheckHooks??=[]).push(e,C))}(s,C[s],i)}finally{null!==Ge&&rs(Ge),dc(se),P.resolving=!1,Tp()}}return _}function jd(e,i,s){return!!(s[i+(e>>Tl)]&1<<e)}function fm(e,i){return!(e&si.Self||e&si.Host&&i)}class Zr{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,d){return ud(this._tNode,this._lView,i,Ss(d),s)}}function m1(){return new Zr(ko(),Kn())}function Tu(e){return rr(()=>{const i=e.prototype.constructor,s=i[ft]||Su(i),d=Object.prototype;let _=Object.getPrototypeOf(e.prototype).constructor;for(;_&&_!==d;){const C=_[ft]||Su(_);if(C&&C!==s)return C;_=Object.getPrototypeOf(_)}return C=>new C})}function Su(e){return Kr(e)?()=>{const i=Su(Ji(e));return i&&i()}:_r(e)}function Fp(e){const i=e[ui],s=i.type;return 2===s?i.declTNode:1===s?e[Lo]:null}function uf(e){return function dm(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const s=e.attrs;if(s){const d=s.length;let _=0;for(;_<d;){const C=s[_];if(Wh(C))break;if(0===C)_+=2;else if("number"==typeof C)for(_++;_<d&&"string"==typeof s[_];)_++;else{if(C===i)return s[_+1];_+=2}}}return null}(ko(),e)}function Bp(e,i=null,s=null,d){const _=mv(e,i,s,d);return _.resolveInjectorInitializers(),_}function mv(e,i=null,s=null,d,_=new Set){const C=[s||Us,Nl(e)];return d=d||("object"==typeof e?void 0:lo(e)),new Jc(C,i||gs(),d||null,_)}class ca{static#e=this.THROW_IF_NOT_FOUND=tc;static#t=this.NULL=new Zu;static create(i,s){if(Array.isArray(i))return Bp({name:""},s,i,"");{const d=i.name??"";return Bp({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=ns({token:ca,providedIn:"any",factory:()=>Es(Qu)});static#i=this.__NG_ELEMENT_ID__=-1}new os("").__NG_ELEMENT_ID__=e=>{const i=ko();if(null===i)throw new di(204,!1);if(2&i.type)return i.value;if(e&si.Optional)return null;throw new di(204,!1)};function Gd(e){return e.ngOriginalError}const ff=!0;let Qn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=vm;static#t=this.__NG_ENV_ID__=s=>s}return e})();class gv extends Qn{constructor(i){super(),this._lView=i}onDestroy(i){return j(this._lView,i),()=>function Y(e,i){if(null===e[ba])return;const s=e[ba].indexOf(i);-1!==s&&e[ba].splice(s,1)}(this._lView,i)}}function vm(){return new gv(Kn())}let Kd=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=ns({token:e,providedIn:"root",factory:()=>new e})}return e})();const ya=class kc extends Pe.B7{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,qa()&&(this.destroyRef=Zn(Qn,{optional:!0})??void 0,this.pendingTasks=Zn(Kd,{optional:!0})??void 0)}emit(i){const s=E(null);try{super.next(i)}finally{E(s)}}subscribe(i,s,d){let _=i,C=s||(()=>null),P=d;if(i&&"object"==typeof i){const he=i;_=he.next?.bind(he),C=he.error?.bind(he),P=he.complete?.bind(he)}this.__isAsync&&(C=this.wrapInTimeout(C),_&&(_=this.wrapInTimeout(_)),P&&(P=this.wrapInTimeout(P)));const se=super.subscribe({next:_,error:C,complete:P});return i instanceof St.y&&i.add(se),se}wrapInTimeout(i){return s=>{const d=this.pendingTasks?.add();setTimeout(()=>{i(s),void 0!==d&&this.pendingTasks?.remove(d)})}}};function vh(...e){}function vv(e){let i,s;function d(){e=vh;try{void 0!==s&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(s),void 0!==i&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{e(),d()}),"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(()=>{e(),d()})),()=>d()}function zd(e){return queueMicrotask(()=>e()),()=>{e=vh}}const Du="isAngularZone",pf=Du+"_ID";let bm=0;class Uo{constructor(i){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ya(!1),this.onMicrotaskEmpty=new ya(!1),this.onStable=new ya(!1),this.onError=new ya(!1);const{enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:_=!1,scheduleInRootZone:C=ff}=i;if(typeof Zone>"u")throw new di(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!_&&d,P.shouldCoalesceRunChangeDetection=_,P.callbackScheduled=!1,P.scheduleInRootZone=C,function C1(e){const i=()=>{!function bv(e){function i(){vv(()=>{e.callbackScheduled=!1,_f(e),e.isCheckStableRunning=!0,ym(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{i()}):e._outer.run(()=>{i()}),_f(e))}(e)},s=bm++;e._inner=e._inner.fork({name:"angular",properties:{[Du]:!0,[pf]:s,[pf+s]:!0},onInvokeTask:(d,_,C,P,se,he)=>{if(function Cm(e){return Ra(e,"__ignore_ng_zone__")}(he))return d.invokeTask(C,P,se,he);try{return yv(e),d.invokeTask(C,P,se,he)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===P.type||e.shouldCoalesceRunChangeDetection)&&i(),jp(e)}},onInvoke:(d,_,C,P,se,he,Ge)=>{try{return yv(e),d.invoke(C,P,se,he,Ge)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Iu(e){return Ra(e,"__scheduler_tick__")}(he)&&i(),jp(e)}},onHasTask:(d,_,C,P)=>{d.hasTask(C,P),_===C&&("microTask"==P.change?(e._hasPendingMicrotasks=P.microTask,_f(e),ym(e)):"macroTask"==P.change&&(e.hasPendingMacrotasks=P.macroTask))},onHandleError:(d,_,C,P)=>(d.handleError(C,P),e.runOutsideAngular(()=>e.onError.emit(P)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Du)}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new di(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new di(909,!1)}run(i,s,d){return this._inner.run(i,s,d)}runTask(i,s,d,_){const C=this._inner,P=C.scheduleEventTask("NgZoneEvent: "+_,i,$p,vh,vh);try{return C.runTask(P,s,d)}finally{C.cancelTask(P)}}runGuarded(i,s,d){return this._inner.runGuarded(i,s,d)}runOutsideAngular(i){return this._outer.run(i)}}const $p={};function ym(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _f(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function yv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jp(e){e._nesting--,ym(e)}class Em{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ya,this.onMicrotaskEmpty=new ya,this.onStable=new ya,this.onError=new ya}run(i,s,d){return i.apply(s,d)}runGuarded(i,s,d){return i.apply(s,d)}runOutsideAngular(i){return i()}runTask(i,s,d,_){return i.apply(s,d)}}function Ra(e,i){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[i]}class Gl{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Gd(i);for(;s&&Gd(s);)s=Gd(s);return s||null}}const Cv=new os("",{providedIn:"root",factory:()=>{const e=Zn(Uo),i=Zn(Gl);return s=>e.runOutsideAngular(()=>i.handleError(s))}});function Mv(){return bh(ko(),Kn())}function bh(e,i){return new yh(la(e,i))}let yh=(()=>{class e{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Mv}return e})();function Dv(e){return e instanceof yh?e.nativeElement:e}function Up(){return this._results[Symbol.iterator]()}class Vp{static#e=Symbol.iterator;get changes(){return this._changes??=new ya}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=Vp.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Up)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){this.dirty=!1;const d=function va(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function La(e,i,s){if(e.length!==i.length)return!1;for(let d=0;d<e.length;d++){let _=e[d],C=i[d];if(s&&(_=s(_),C=s(C)),C!==_)return!1}return!0}(this._results,d,s))&&(this._results=d,this.length=d.length,this.last=d[this.length-1],this.first=d[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function gf(e){return!(128&~e.flags)}const Sm=new Map;let D1=0;function Mm(e){Sm.delete(e[Od])}const Im="__ngContext__";function fl(e,i){cr(i)?(e[Im]=i[Od],function Xy(e){Sm.set(e[Od],e)}(i)):e[Im]=i}function bf(e){return Av(e[js])}function Am(e){return Av(e[yl])}function Av(e){for(;null!==e&&!Lr(e);)e=e[yl];return e}let Fm;function Nv(e){Fm=e}function fd(){if(void 0!==Fm)return Fm;if(typeof document<"u")return document;throw new di(210,!1)}const yf=new os("",{providedIn:"root",factory:()=>F1}),F1="ng",Pm=new os(""),Ef=new os("",{providedIn:"platform",factory:()=>"unknown"}),Xp=new os(""),$v=new os("",{providedIn:"root",factory:()=>fd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Sh=()=>null;function Qd(e,i,s=!1){return Sh(e,i,s)}const $m=new os("",{providedIn:"root",factory:()=>!1});let e_,kf;function Rf(e){return function t_(){if(void 0===e_&&(e_=null,Ao.trustedTypes))try{e_=Ao.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return e_}()?.createHTML(e)||e}function Kv(){if(void 0===kf&&(kf=null,Ao.trustedTypes))try{kf=Ao.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return kf}function Ff(e){return Kv()?.createHTML(e)||e}function zv(e){return Kv()?.createScriptURL(e)||e}class ku{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zo})`}}class $1 extends ku{getTypeName(){return"HTML"}}class j1 extends ku{getTypeName(){return"Style"}}class U1 extends ku{getTypeName(){return"Script"}}class Wv extends ku{getTypeName(){return"URL"}}class V1 extends ku{getTypeName(){return"ResourceURL"}}function md(e){return e instanceof ku?e.changingThisBreaksApplicationSecurity:e}function Pf(e,i){const s=function G1(e){return e instanceof ku&&e.getTypeName()||null}(e);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Zo})`)}return s===i}function Lf(e){return new $1(e)}function Nf(e){return new j1(e)}function qy(e){return new U1(e)}function eE(e){return new Wv(e)}function tE(e){return new V1(e)}function K1(e){const i=new $f(e);return function Xv(){try{return!!(new window.DOMParser).parseFromString(Rf(""),"text/html")}catch{return!1}}()?new Bf(i):i}class Bf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Rf(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.firstChild?.remove(),s)}catch{return null}}}class $f{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Rf(i),s}}const Vm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jf(e){return(e=String(e)).match(Vm)?e:"unsafe:"+e}function Wl(e){const i={};for(const s of e.split(","))i[s]=!0;return i}function Fu(...e){const i={};for(const s of e)for(const d in s)s.hasOwnProperty(d)&&(i[d]=!0);return i}const qd=Wl("area,br,col,hr,img,wbr"),Gm=Wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uf=Wl("rp,rt"),Km=Fu(qd,Fu(Gm,Wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fu(Uf,Wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fu(Uf,Gm)),zm=Wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pc=Fu(zm,Wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gd=Wl("script,style,template");class Hv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,d=!0,_=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)_.push(s),s=H1(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let C=Vf(s);if(C){s=C;break}s=_.pop()}return this.buf.join("")}startElement(i){const s=Yv(i).toLowerCase();if(!Km.hasOwnProperty(s))return this.sanitizedSomething=!0,!gd.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=i.attributes;for(let _=0;_<d.length;_++){const C=d.item(_),P=C.name,se=P.toLowerCase();if(!pc.hasOwnProperty(se)){this.sanitizedSomething=!0;continue}let he=C.value;zm[se]&&(he=jf(he)),this.buf.push(" ",P,'="',Xm(he),'"')}return this.buf.push(">"),!0}endElement(i){const s=Yv(i).toLowerCase();Km.hasOwnProperty(s)&&!qd.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Xm(i))}}function Vf(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw Wm(i);return i}function H1(e){const i=e.firstChild;if(i&&function X1(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw Wm(i);return i}function Yv(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function Wm(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Y1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q1=/([^\#-~ |!])/g;function Xm(e){return e.replace(/&/g,"&amp;").replace(Y1,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Q1,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let i_;function Qv(e,i){let s=null;try{i_=i_||K1(e);let d=i?String(i):"";s=i_.getInertBodyElement(d);let _=5,C=d;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,d=C,C=s.innerHTML,s=i_.getInertBodyElement(d)}while(d!==C);return Rf((new Hv).sanitizeChildren(Ih(s)||s))}finally{if(s){const d=Ih(s)||s;for(;d.firstChild;)d.firstChild.remove()}}}function Ih(e){return"content"in e&&function J1(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var eu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(eu||{});function Hm(e){const i=Kf();return i?Ff(i.sanitize(eu.HTML,e)||""):Pf(e,"HTML")?Ff(md(e)):Qv(fd(),Ot(e))}function Pu(e){const i=Kf();return i?i.sanitize(eu.URL,e)||"":Pf(e,"URL")?md(e):jf(Ot(e))}function Jv(e){const i=Kf();if(i)return zv(i.sanitize(eu.RESOURCE_URL,e)||"");if(Pf(e,"ResourceURL"))return zv(md(e));throw new di(904,!1)}function Gf(e,i,s){return function Zv(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?Jv:Pu}(i,s)(e)}function Kf(){const e=Kn();return e&&e[aa].sanitizer}const eb=/^>|^->|<!--|-->|--!>|<!-$/g,tb=/(<|>)/g,nb="\u200b$1\u200b";function c_(e){return e.ownerDocument.defaultView}function Hl(e){return e instanceof Function?e():e}function _l(e){return"browser"===(e??Zn(ca)).get(Ef)}var nu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(nu||{});let _c;function ig(e,i){return _c(e,i)}function Nu(e,i,s,d,_){if(null!=d){let C,P=!1;Lr(d)?C=d:cr(d)&&(P=!0,d=d[tr]);const se=so(d);0===e&&null!==s?null==_?lg(i,s,se):Bu(i,s,se,_||null,!0):1===e&&null!==s?Bu(i,s,se,_||null,!0):2===e?Hf(i,se,P):3===e&&i.destroyNode(se),null!=C&&function hb(e,i,s,d,_){const C=s[Pr];C!==so(s)&&Nu(i,e,d,C,_);for(let se=Mr;se<s.length;se++){const he=s[se];v_(he[ui],he,e,i,d,C)}}(i,e,C,s,_)}}function sg(e,i){return e.createText(i)}function o0(e,i,s){e.setValue(i,s)}function og(e,i){return e.createComment(function Qm(e){return e.replace(eb,i=>i.replace(tb,nb))}(i))}function f_(e,i,s){return e.createElement(i,s)}function a0(e,i){i[aa].changeDetectionScheduler?.notify(9),v_(e,i,i[_s],2,null,null)}function ub(e,i){const s=e[wd],d=i[kr];(cr(d)||i[io]!==d[kr][io])&&(e[Pi]|=xd.HasTransplantedViews),null===s?e[wd]=[i]:s.push(i)}function c0(e,i){const s=e[wd],d=s.indexOf(i);s.splice(d,1)}function p_(e,i){if(e.length<=Mr)return;const s=Mr+i,d=e[s];if(d){const _=d[td];null!==_&&_!==e&&c0(_,d),i>0&&(e[s-1][yl]=d[yl]);const C=Qa(e,Mr+i);!function cb(e,i){a0(e,i),i[tr]=null,i[Lo]=null}(d[ui],d);const P=C[Bl];null!==P&&P.detachView(C[ui]),d[kr]=null,d[yl]=null,d[Pi]&=-129}return d}function rg(e,i){if(!(256&i[Pi])){const s=i[_s];s.destroyNode&&v_(e,i,s,3,null,null),function db(e){let i=e[js];if(!i)return ag(e[ui],e);for(;i;){let s=null;if(cr(i))s=i[js];else{const d=i[Mr];d&&(s=d)}if(!s){for(;i&&!i[yl]&&i!==e;)cr(i)&&ag(i[ui],i),i=i[kr];null===i&&(i=e),cr(i)&&ag(i[ui],i),s=i&&i[yl]}i=s}}(i)}}function ag(e,i){if(256&i[Pi])return;const s=E(null);try{i[Pi]&=-129,i[Pi]|=256,i[_o]&&c(i[_o]),function u0(e,i){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let d=0;d<s.length;d+=2){const _=i[s[d]];if(!(_ instanceof mh)){const C=s[d+1];if(Array.isArray(C))for(let P=0;P<C.length;P+=2){const se=_[C[P]],he=C[P+1];El(4,se,he);try{he.call(se)}finally{El(5,se,he)}}else{El(4,_,C);try{C.call(_)}finally{El(5,_,C)}}}}}(e,i),function d0(e,i){const s=e.cleanup,d=i[fu];if(null!==s)for(let C=0;C<s.length-1;C+=2)if("string"==typeof s[C]){const P=s[C+3];P>=0?d[P]():d[-P].unsubscribe(),C+=2}else s[C].call(d[s[C+1]]);null!==d&&(i[fu]=null);const _=i[ba];if(null!==_){i[ba]=null;for(let C=0;C<_.length;C++)(0,_[C])()}}(e,i),1===i[ui].type&&i[_s].destroy();const d=i[td];if(null!==d&&Lr(i[kr])){d!==i[kr]&&c0(d,i);const _=i[Bl];null!==_&&_.detachView(e)}Mm(i)}finally{E(s)}}function __(e,i,s){return h0(e,i.parent,s)}function h0(e,i,s){let d=i;for(;null!==d&&168&d.type;)d=(i=d).parent;if(null===d)return s[tr];{const{componentOffset:_}=d;if(_>-1){const{encapsulation:C}=e.data[d.directiveStart+_];if(C===ic.None||C===ic.Emulated)return null}return la(d,s)}}function Bu(e,i,s,d,_){e.insertBefore(i,s,d,_)}function lg(e,i,s){e.appendChild(i,s)}function f0(e,i,s,d,_){null!==d?Bu(e,i,s,d,_):lg(e,i,s)}function zf(e,i){return e.parentNode(i)}function m_(e,i,s){return Vo(e,i,s)}function Wf(e,i,s){return 40&e.type?la(e,s):null}let Xf,Vo=Wf;function p0(e,i){Vo=e,Xf=i}function xh(e,i,s,d){const _=__(e,d,i),C=i[_s],se=m_(d.parent||i[Lo],d,i);if(null!=_)if(Array.isArray(s))for(let he=0;he<s.length;he++)f0(C,_,s[he],se,!1);else f0(C,_,s,se,!1);void 0!==Xf&&Xf(C,d,i,s,_)}function $u(e,i){if(null!==i){const s=i.type;if(3&s)return la(i,e);if(4&s)return cg(-1,e[i.index]);if(8&s){const d=i.child;if(null!==d)return $u(e,d);{const _=e[i.index];return Lr(_)?cg(-1,_):so(_)}}if(128&s)return $u(e,i.next);if(32&s)return ig(i,e)()||so(e[i.index]);{const d=_0(e,i);return null!==d?Array.isArray(d)?d[0]:$u(Le(e[io]),d):$u(e,i.next)}}return null}function _0(e,i){return null!==i?e[io][Lo].projection[i.projection]:null}function cg(e,i){const s=Mr+e+1;if(s<i.length){const d=i[s],_=d[ui].firstChild;if(null!==_)return $u(d,_)}return i[Pr]}function Hf(e,i,s){e.removeChild(null,i,s)}function g_(e,i,s,d,_,C,P){for(;null!=s;){if(128===s.type){s=s.next;continue}const se=d[s.index],he=s.type;if(P&&0===i&&(se&&fl(so(se),d),s.flags|=2),32&~s.flags)if(8&he)g_(e,i,s.child,d,_,C,!1),Nu(i,e,_,se,C);else if(32&he){const Ge=ig(s,d);let nt;for(;nt=Ge();)Nu(i,e,_,nt,C);Nu(i,e,_,se,C)}else 16&he?b_(e,i,d,s,_,C):Nu(i,e,_,se,C);s=P?s.projectionNext:s.next}}function v_(e,i,s,d,_,C){g_(s,d,e.firstChild,i,_,C,!1)}function b_(e,i,s,d,_,C){const P=s[io],he=P[Lo].projection[d.projection];if(Array.isArray(he))for(let Ge=0;Ge<he.length;Ge++)Nu(i,e,_,he[Ge],C);else{let Ge=he;const nt=P[kr];gf(d)&&(Ge.flags|=128),g_(e,i,Ge,nt,_,C,!0)}}function m(e,i,s){""===s?e.removeAttribute(i,"class"):e.setAttribute(i,"class",s)}function O(e,i,s){const{mergedAttrs:d,classes:_,styles:C}=s;null!==d&&Tc(e,i,d),null!==_&&m(e,i,_),null!==C&&function y(e,i,s){e.setAttribute(i,"style",s)}(e,i,C)}const B={};function ge(e=1){$e(Fs(),Kn(),Aa()+e,!1)}function $e(e,i,s,d){if(!d)if(3&~i[Pi]){const C=e.preOrderHooks;null!==C&&Op(i,C,0,s)}else{const C=e.preOrderCheckHooks;null!==C&&Ip(i,C,s)}yu(s)}function Et(e,i=si.Default){const s=Kn();return null===s?Es(e,i):ud(ko(),s,Ji(e),i)}function an(){throw new Error("invalid")}function Cn(e,i,s,d,_,C){const P=E(null);try{let se=null;_&vl.SignalBased&&(se=i[d][b]),null!==se&&void 0!==se.transformFn&&(C=se.transformFn(C)),_&vl.HasDecoratorInputTransform&&(C=e.inputTransforms[d].call(i,C)),null!==e.setInput?e.setInput(i,se,C,s,d):z_(i,se,d,C)}finally{E(P)}}function ni(e,i,s,d,_,C,P,se,he,Ge,nt){const zt=i.blueprint.slice();return zt[tr]=_,zt[Pi]=204|d,(null!==Ge||e&&2048&e[Pi])&&(zt[Pi]|=2048),yp(zt),zt[kr]=zt[Id]=e,zt[No]=s,zt[aa]=P||e&&e[aa],zt[_s]=se||e&&e[_s],zt[Sr]=he||e&&e[Sr]||null,zt[Lo]=C,zt[Od]=function Iv(){return D1++}(),zt[Fr]=nt,zt[U_]=Ge,zt[io]=2==i.type?e[io]:zt,zt}function Fi(e,i,s,d,_){let C=e.data[i];if(null===C)C=is(e,i,s,d,_),function ad(){return Ze.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=s,C.value=d,C.attrs=_;const P=af();C.injectorIndex=null===P?-1:P.injectorIndex}return Ul(C,!0),C}function is(e,i,s,d,_){const C=J_(),P=Z_(),he=e.data[i]=function cE(e,i,s,d,_,C){let P=i?i.injectorIndex:-1,se=0;return Js()&&(se|=128),{type:s,index:d,insertBeforeIndex:null,injectorIndex:P,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:se,providerIndexes:0,value:_,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?C:C&&C.parent,s,i,d,_);return null===e.firstChild&&(e.firstChild=he),null!==C&&(P?null==C.child&&null!==he.parent&&(C.child=he):null===C.next&&(C.next=he,he.prev=C)),he}function us(e,i,s,d){if(0===s)return-1;const _=i.length;for(let C=0;C<s;C++)i.push(d),e.blueprint.push(d),e.data.push(null);return _}function Vs(e,i,s,d,_){const C=Aa(),P=2&d;try{yu(-1),P&&i.length>Xi&&$e(e,i,Xi,!1),El(P?2:0,_),s(d,_)}finally{yu(C),El(P?3:1,_)}}function mo(e,i,s){if(Jh(i)){const d=E(null);try{const C=i.directiveEnd;for(let P=i.directiveStart;P<C;P++){const se=e.data[P];se.contentQueries&&se.contentQueries(1,s[P],P)}}finally{E(d)}}}function ms(e,i,s){oo()&&(function $T(e,i,s,d){const _=s.directiveStart,C=s.directiveEnd;Ad(s)&&function zT(e,i,s){const d=la(i,e),_=hg(s);let P=16;s.signals?P=4096:s.onPush&&(P=64);const se=ju(e,ni(e,_,null,P,d,i,null,e[aa].rendererFactory.createRenderer(d,s),null,null,null));e[i.index]=se}(i,s,e.data[_+s.componentOffset]),e.firstCreatePass||dd(s,i),fl(d,i);const P=s.initialInputs;for(let se=_;se<C;se++){const he=e.data[se],Ge=$i(i,e,se,s);fl(Ge,i),null!==P&&_E(0,se-_,Ge,he,0,P),vr(he)&&(wa(s.index,i)[No]=$i(i,e,se,s))}}(e,i,s,la(s,i)),!(64&~s.flags)&&pE(e,i,s))}function br(e,i,s=la){const d=i.localNames;if(null!==d){let _=i.index+1;for(let C=0;C<d.length;C+=2){const P=d[C+1],se=-1===P?s(i,e):e[P];e[_++]=se}}}function hg(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=vd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function vd(e,i,s,d,_,C,P,se,he,Ge,nt){const zt=Xi+d,cn=zt+_,gn=function iu(e,i){const s=[];for(let d=0;d<i;d++)s.push(d<e?null:B);return s}(zt,cn),On="function"==typeof Ge?Ge():Ge;return gn[ui]={type:e,blueprint:gn,template:s,queries:null,viewQuery:se,declTNode:i,data:gn.slice().fill(null,zt),bindingStartIndex:zt,expandoStartIndex:cn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:he,consts:On,incompleteFirstPass:!1,ssrId:nt}}let pb=()=>null;function mb(e,i,s,d,_){for(let C in i){if(!i.hasOwnProperty(C))continue;const P=i[C];if(void 0===P)continue;d??={};let se,he=vl.None;Array.isArray(P)?(se=P[0],he=P[1]):se=P;let Ge=C;if(null!==_){if(!_.hasOwnProperty(C))continue;Ge=_[C]}0===e?gb(d,s,Ge,se,he):gb(d,s,Ge,se)}return d}function gb(e,i,s,d,_){let C;e.hasOwnProperty(s)?(C=e[s]).push(i,d):C=e[s]=[i,d],void 0!==_&&C.push(_)}function Yl(e,i,s,d,_,C,P,se){const he=la(i,s);let nt,Ge=i.inputs;!se&&null!=Ge&&(nt=Ge[d])?(yb(e,s,nt,d,_),Ad(i)&&function BT(e,i){const s=wa(i,e);16&s[Pi]||(s[Pi]|=64)}(s,i.index)):3&i.type&&(d=function dE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(d),_=null!=P?P(_,i.value||"",d):_,C.setProperty(he,d,_))}function bb(e,i,s,d){if(oo()){const _=null===d?null:{"":-1},C=function UT(e,i){const s=e.directiveRegistry;let d=null,_=null;if(s)for(let C=0;C<s.length;C++){const P=s[C];if(ap(i,P.selectors,!1))if(d||(d=[]),vr(P))if(null!==P.findHostDirectiveDefs){const se=[];_=_||new Map,P.findHostDirectiveDefs(P,se,_),d.unshift(...se,P),C_(e,i,se.length)}else d.unshift(P),C_(e,i,0);else _=_||new Map,P.findHostDirectiveDefs?.(P,d,_),d.push(P)}return null===d?null:[d,_]}(e,s);let P,se;null===C?P=se=null:[P,se]=C,null!==P&&hE(e,i,s,P,_,se),_&&function VT(e,i,s){if(i){const d=e.localNames=[];for(let _=0;_<i.length;_+=2){const C=s[i[_+1]];if(null==C)throw new di(-301,!1);d.push(i[_],C)}}}(s,d,_)}s.mergedAttrs=sc(s.mergedAttrs,s.attrs)}function hE(e,i,s,d,_,C){for(let Ge=0;Ge<d.length;Ge++)df(dd(s,i),e,d[Ge].type);!function KT(e,i,s){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+s,e.providerIndexes=i}(s,e.data.length,d.length);for(let Ge=0;Ge<d.length;Ge++){const nt=d[Ge];nt.providersResolver&&nt.providersResolver(nt)}let P=!1,se=!1,he=us(e,i,d.length,null);for(let Ge=0;Ge<d.length;Ge++){const nt=d[Ge];s.mergedAttrs=sc(s.mergedAttrs,nt.hostAttrs),T_(e,s,i,he,nt),GT(he,nt,_),null!==nt.contentQueries&&(s.flags|=4),(null!==nt.hostBindings||null!==nt.hostAttrs||0!==nt.hostVars)&&(s.flags|=64);const zt=nt.type.prototype;!P&&(zt.ngOnChanges||zt.ngOnInit||zt.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),P=!0),!se&&(zt.ngOnChanges||zt.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),se=!0),he++}!function vb(e,i,s){const _=i.directiveEnd,C=e.data,P=i.attrs,se=[];let he=null,Ge=null;for(let nt=i.directiveStart;nt<_;nt++){const zt=C[nt],cn=s?s.get(zt):null,On=cn?cn.outputs:null;he=mb(0,zt.inputs,nt,he,cn?cn.inputs:null),Ge=mb(1,zt.outputs,nt,Ge,On);const Hn=null===he||null===P||cu(i)?null:WT(he,nt,P);se.push(Hn)}null!==he&&(he.hasOwnProperty("class")&&(i.flags|=8),he.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=se,i.inputs=he,i.outputs=Ge}(e,s,C)}function pE(e,i,s){const d=s.directiveStart,_=s.directiveEnd,C=s.index,P=function jy(){return Ze.lFrame.currentDirectiveIndex}();try{yu(C);for(let se=d;se<_;se++){const he=e.data[se],Ge=i[se];Rc(se),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&jT(he,Ge)}}finally{yu(-1),Rc(P)}}function jT(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function C_(e,i,s){i.componentOffset=s,(e.components??=[]).push(i.index)}function GT(e,i,s){if(s){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)s[i.exportAs[d]]=e;vr(i)&&(s[""]=e)}}function T_(e,i,s,d,_){e.data[d]=_;const C=_.factory||(_.factory=_r(_.type)),P=new mh(C,vr(_),Et);e.blueprint[d]=P,s[d]=P,function E_(e,i,s,d,_){const C=_.hostBindings;if(C){let P=e.hostBindingOpCodes;null===P&&(P=e.hostBindingOpCodes=[]);const se=~i.index;(function fE(e){let i=e.length;for(;i>0;){const s=e[--i];if("number"==typeof s&&s<0)return s}return 0})(P)!=se&&P.push(se),P.push(s,d,C)}}(e,i,d,us(e,s,_.hostVars,B),_)}function g0(e,i,s,d,_,C,P){if(null==C)e.removeAttribute(i,_,s);else{const se=null==P?Ot(C):P(C,d||"",_);e.setAttribute(i,_,se,s)}}function _E(e,i,s,d,_,C){const P=C[i];if(null!==P)for(let se=0;se<P.length;)Cn(d,s,P[se++],P[se++],P[se++],P[se++])}function WT(e,i,s){let d=null,_=0;for(;_<s.length;){const C=s[_];if(0!==C)if(5!==C){if("number"==typeof C)break;if(e.hasOwnProperty(C)){null===d&&(d=[]);const P=e[C];for(let se=0;se<P.length;se+=3)if(P[se]===i){d.push(C,P[se+1],P[se+2],s[_+1]);break}}_+=2}else _+=2;else _+=4}return d}function mE(e,i,s,d){return[e,!0,0,i,null,d,null,s,null,null]}function Ah(e,i){const s=e.contentQueries;if(null!==s){const d=E(null);try{for(let _=0;_<s.length;_+=2){const P=s[_+1];if(-1!==P){const se=e.data[P];Cp(s[_]),se.contentQueries(2,i[P],P)}}}finally{E(d)}}}function ju(e,i){return e[js]?e[j_][yl]=i:e[js]=i,e[j_]=i,i}function Rh(e,i,s){Cp(0);const d=E(null);try{i(e,s)}finally{E(d)}}function gE(e){return e[fu]??=[]}function vE(e){return e.cleanup??=[]}function bE(e,i,s){return(null===e||vr(e))&&(s=function Pd(e){for(;Array.isArray(e);){if("object"==typeof e[Qh])return e;e=e[tr]}return null}(s[i.index])),s[_s]}function v0(e,i){const s=e[Sr],d=s?s.get(Gl,null):null;d&&d.handleError(i)}function yb(e,i,s,d,_){for(let C=0;C<s.length;){const P=s[C++],se=s[C++],he=s[C++];Cn(e.data[P],i[P],d,se,he,_)}}function yo(e,i,s){const d=lh(i,e);o0(e[_s],d,s)}function XT(e,i){const s=wa(i,e),d=s[ui];!function S_(e,i){for(let s=i.length;s<e.blueprint.length;s++)i.push(e.blueprint[s])}(d,s);const _=s[tr];null!==_&&null===s[Fr]&&(s[Fr]=Qd(_,s[Sr])),Eb(d,s,s[No])}function Eb(e,i,s){fh(i);try{const d=e.viewQuery;null!==d&&Rh(1,d,s);const _=e.template;null!==_&&Vs(e,i,_,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),i[Bl]?.finishViewCreation(e),e.staticContentQueries&&Ah(e,i),e.staticViewQueries&&Rh(2,e.viewQuery,s);const C=e.components;null!==C&&function kh(e,i){for(let s=0;s<i.length;s++)XT(e,i[s])}(i,C)}catch(d){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),d}finally{i[Pi]&=-5,cv()}}function Ea(e,i,s,d){const _=E(null);try{const C=i.tView,he=ni(e,C,s,4096&e[Pi]?4096:16,null,i,null,null,d?.injector??null,d?.embeddedViewInjector??null,d?.dehydratedView??null);he[td]=e[i.index];const nt=e[Bl];return null!==nt&&(he[Bl]=nt.createEmbeddedView(C)),Eb(C,he,s),he}finally{E(_)}}function Yf(e,i){const s=Mr+i;if(s<e.length)return e[s]}function Fh(e,i){return!i||null===i.firstChild||gf(e)}function su(e,i,s,d=!0){const _=i[ui];if(function l0(e,i,s,d){const _=Mr+d,C=s.length;d>0&&(s[_-1][yl]=i),d<C-Mr?(i[yl]=s[_],zc(s,Mr+d,i)):(s.push(i),i[yl]=null),i[kr]=s;const P=i[td];null!==P&&s!==P&&ub(P,i);const se=i[Bl];null!==se&&se.insertView(e),rf(i),i[Pi]|=128}(_,i,e,s),d){const P=cg(s,e),se=i[_s],he=zf(se,e[Pr]);null!==he&&function r0(e,i,s,d,_,C){d[tr]=_,d[Lo]=i,v_(e,d,s,1,_,C)}(_,e[Lo],se,i,he,P)}const C=i[Fr];null!==C&&null!==C.firstChild&&(C.firstChild=null)}function b0(e,i){const s=p_(e,i);return void 0!==s&&rg(s[ui],s),s}function Qf(e,i,s,d,_=!1){for(;null!==s;){if(128===s.type){s=_?s.projectionNext:s.next;continue}const C=i[s.index];null!==C&&d.push(so(C)),Lr(C)&&pg(C,d);const P=s.type;if(8&P)Qf(e,i,s.child,d);else if(32&P){const se=ig(s,i);let he;for(;he=se();)d.push(he)}else if(16&P){const se=_0(i,s);if(Array.isArray(se))d.push(...se);else{const he=Le(i[io]);Qf(he[ui],he,se,d,!0)}}s=_?s.projectionNext:s.next}return d}function pg(e,i){for(let s=Mr;s<e.length;s++){const d=e[s],_=d[ui].firstChild;null!==_&&Qf(d[ui],d,_,i)}e[Pr]!==e[tr]&&i.push(e[Pr])}let Cb=[];const mc={...I,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{od(e.lView)},consumerOnSignalRead(){this.lView[_o]=this}},Tb={...I,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let i=Le(e.lView);for(;i&&!Sb(i[ui]);)i=Le(i);i&&sf(i)},consumerOnSignalRead(){this.lView[_o]=this}};function Sb(e){return 2!==e.type}const Mb=100;function y0(e,i=!0,s=0){const d=e[aa],_=d.rendererFactory;_.begin?.();try{!function TE(e,i){const s=c1();try{dh(!0),E0(e,i);let d=0;for(;Ld(e);){if(d===Mb)throw new di(103,!1);d++,E0(e,1)}}finally{dh(s)}}(e,s)}catch(P){throw i&&v0(e,P),P}finally{_.end?.(),d.inlineEffectRunner?.flush()}}function Ib(e,i,s,d){const _=i[Pi];if(!(256&~_))return;i[aa].inlineEffectRunner?.flush(),fh(i);let se=!0,he=null,Ge=null;Sb(e)?(Ge=function yE(e){return e[_o]??function EE(e){const i=Cb.pop()??Object.create(mc);return i.lView=e,i}(e)}(i),he=K(Ge)):null===function M(){return n}()?(se=!1,Ge=function HT(e){const i=e[_o]??Object.create(Tb);return i.lView=e,i}(i),he=K(Ge)):i[_o]&&(c(i[_o]),i[_o]=null);try{yp(i),function rv(e){return Ze.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&Vs(e,i,s,2,d);const nt=!(3&~_);if(nt){const gn=e.preOrderCheckHooks;null!==gn&&Ip(i,gn,null)}else{const gn=e.preOrderHooks;null!==gn&&Op(i,gn,0,null),im(i,0)}if(function ME(e){for(let i=bf(e);null!==i;i=Am(i)){if(!(i[Pi]&xd.HasTransplantedViews))continue;const s=i[wd];for(let d=0;d<s.length;d++)sf(s[d])}}(i),SE(i,0),null!==e.contentQueries&&Ah(e,i),nt){const gn=e.contentCheckHooks;null!==gn&&Ip(i,gn)}else{const gn=e.contentHooks;null!==gn&&Op(i,gn,1),im(i,1)}!function zn(e,i){const s=e.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const _=s[d];if(_<0)yu(~_);else{const C=_,P=s[++d],se=s[++d];Bd(P,C),se(2,i[C])}}}finally{yu(-1)}}(e,i);const zt=e.components;null!==zt&&Ob(i,zt,0);const cn=e.viewQuery;if(null!==cn&&Rh(2,cn,d),nt){const gn=e.viewCheckHooks;null!==gn&&Ip(i,gn)}else{const gn=e.viewHooks;null!==gn&&Op(i,gn,2),im(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[gr]){for(const gn of i[gr])gn();i[gr]=null}i[Pi]&=-73}catch(nt){throw od(i),nt}finally{null!==Ge&&(ne(Ge,he),se&&function CE(e){e.lView[_o]!==e&&(e.lView=null,Cb.push(e))}(Ge)),cv()}}function SE(e,i){for(let s=bf(e);null!==s;s=Am(s))for(let d=Mr;d<s.length;d++)DE(s[d],i)}function YT(e,i,s){DE(wa(i,e),s)}function DE(e,i){ch(e)&&E0(e,i)}function E0(e,i){const d=e[ui],_=e[Pi],C=e[_o];let P=!!(0===i&&16&_);if(P||=!!(64&_&&0===i),P||=!!(1024&_),P||=!(!C?.dirty||!U(C)),P||=!1,C&&(C.dirty=!1),e[Pi]&=-9217,P)Ib(d,e,d.template,e[No]);else if(8192&_){SE(e,1);const se=d.components;null!==se&&Ob(e,se,1)}}function Ob(e,i,s){for(let d=0;d<i.length;d++)YT(e,i[d],s)}function Jf(e,i){const s=c1()?64:1088;for(e[aa].changeDetectionScheduler?.notify(i);e;){e[Pi]|=s;const d=Le(e);if(Oc(e)&&!d)return e;e=d}return null}class _g{get rootNodes(){const i=this._lView,s=i[ui];return Qf(s,i,s.firstChild,[])}constructor(i,s,d=!0){this._lView=i,this._cdRefInjectingView=s,this.notifyErrorHandler=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[No]}set context(i){this._lView[No]=i}get destroyed(){return!(256&~this._lView[Pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[kr];if(Lr(i)){const s=i[8],d=s?s.indexOf(this):-1;d>-1&&(p_(i,d),Qa(s,d))}this._attachedToViewContainer=!1}rg(this._lView[ui],this._lView)}onDestroy(i){j(this._lView,i)}markForCheck(){Jf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pi]&=-129}reattach(){rf(this._lView),this._lView[Pi]|=128}detectChanges(){this._lView[Pi]|=1024,y0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new di(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=Oc(this._lView),s=this._lView[td];null!==s&&!i&&c0(s,this._lView),a0(this._lView[ui],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new di(902,!1);this._appRef=i;const s=Oc(this._lView),d=this._lView[td];null!==d&&!s&&ub(d,this._lView),rf(this._lView)}}let Ph=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Ps}return e})();const QT=Ph,eo=class extends QT{constructor(i,s,d){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,d){const _=Ea(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:d});return new _g(_)}};function Ps(){return ja(ko(),Kn())}function ja(e,i){return 4&e.type?new eo(i,e,bh(e,i)):null}function Ab(e,i,s){const d=i.insertBeforeIndex,_=Array.isArray(d)?d[0]:d;return null===_?Wf(e,0,s):so(s[_])}function RE(e,i,s,d,_){const C=i.insertBeforeIndex;if(Array.isArray(C)){let P=d,se=null;if(3&i.type||(se=P,P=_),null!==P&&-1===i.componentOffset)for(let he=1;he<C.length;he++)Bu(e,P,s[C[he]],se,!1)}}function kE(e,i){if(e.push(i),e.length>1)for(let s=e.length-2;s>=0;s--){const d=e[s];Rb(d)||nS(d,i)&&null===C0(d)&&Lh(d,i.index)}}function Rb(e){return!(64&e.type)}function nS(e,i){return Rb(i)||e.index>i.index}function C0(e){const i=e.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Lh(e,i){const s=e.insertBeforeIndex;Array.isArray(s)?s[0]=i:(p0(Ab,RE),e.insertBeforeIndex=i)}function bg(e,i){const s=e.data[i];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function sS(e,i,s){const d=is(e,s,64,null,null);return kE(i,d),d}function T0(e,i){const s=i[e.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function PE(e){return e>>>17}function LE(e){return(131070&e)>>>1}function Eg(e,i,s){e.index=0;const d=T0(i,s);e.removes=null!==d?i.remove[d]:Us}function Cg(e){if(e.index<e.removes.length){const i=e.removes[e.index++];return i>0?e.lView[i]:(e.stack.push(e.index,e.removes),Eg(e,e.lView[ui].data[~i],e.lView),Cg(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),Cg(e))}function oS(){const e={stack:[],index:-1};return function i(s,d){for(e.lView=d;e.stack.length;)e.stack.pop();return Eg(e,s.value,d),Cg.bind(null,e)}}let D0=()=>{},zE=()=>{},YE=()=>null;function ru(e,i){return YE(e,i)}class D_{}const Og=new os("",{providedIn:"root",factory:()=>!1}),QE=new os(""),Bb=new os("");class SS{}class JE{}class DS{resolveComponentFactory(i){throw function MS(e){const i=Error(`No component factory found for ${lo(e)}.`);return i.ngComponent=e,i}(i)}}class Bh{static#e=this.NULL=new DS}class $b{}let IS=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function OS(){const e=Kn(),s=wa(ko().index,e);return(cr(s)?s:e)[_s]}()}return e})(),jb=(()=>{class e{static#e=this.\u0275prov=ns({token:e,providedIn:"root",factory:()=>null})}return e})();function $h(e){return!!po(e)}function O_(e,i,s){let d=s?e.styles:null,_=s?e.classes:null,C=0;if(null!==i)for(let P=0;P<i.length;P++){const se=i[P];"number"==typeof se?C=se:1==C?_=_a(_,se):2==C&&(d=_a(d,se+": "+i[++P]+";"))}s?e.styles=d:e.stylesWithoutHost=d,s?e.classes=_:e.classesWithoutHost=_}class tC extends Bh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=oi(i);return new tp(s,this.ngModule)}}function Ub(e,i){const s=[];for(const d in e){if(!e.hasOwnProperty(d))continue;const _=e[d];if(void 0===_)continue;const C=Array.isArray(_),P=C?_[0]:_;s.push(i?{propName:P,templateName:d,isSignal:!!((C?_[1]:vl.None)&vl.SignalBased)}:{propName:P,templateName:d})}return s}class tp extends JE{get inputs(){const i=this.componentDef,s=i.inputTransforms,d=Ub(i.inputs,!0);if(null!==s)for(const _ of d)s.hasOwnProperty(_.propName)&&(_.transform=s[_.propName]);return d}get outputs(){return Ub(this.componentDef.outputs,!1)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Ee(e){return e.map(re).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,d,_){const C=E(null);try{let P=(_=_||this.ngModule)instanceof Ar?_:_?.injector;P&&null!==this.componentDef.getStandaloneInjector&&(P=this.componentDef.getStandaloneInjector(P)||P);const se=P?new ld(i,P):i,he=se.get($b,null);if(null===he)throw new di(407,!1);const zt={rendererFactory:he,sanitizer:se.get(jb,null),inlineEffectRunner:null,changeDetectionScheduler:se.get(D_,null)},cn=he.createRenderer(null,this.componentDef),gn=this.componentDef.selectors[0][0]||"div",On=d?function y_(e,i,s,d){const C=d.get($m,!1)||s===ic.ShadowDom,P=e.selectRootElement(i,C);return function fb(e){pb(e)}(P),P}(cn,d,this.componentDef.encapsulation,se):f_(cn,gn,function RS(e){const i=e.toLowerCase();return"svg"===i?gp:"math"===i?"math":null}(gn));let Hn=512;this.componentDef.signals?Hn|=4096:this.componentDef.onPush||(Hn|=16);let vi=null;null!==On&&(vi=Qd(On,se,!0));const Si=vd(0,null,null,1,0,null,null,null,null,null,null),Yn=ni(null,Si,null,Hn,null,null,zt,cn,se,null,vi);fh(Yn);let Bs,Eo,hr=null;try{const Fa=this.componentDef;let Gc,s1=null;Fa.findHostDirectiveDefs?(Gc=[],s1=new Map,Fa.findHostDirectiveDefs(Fa,Gc,s1),Gc.push(Fa)):Gc=[Fa];const ww=function iC(e,i){const s=e[ui],d=Xi;return e[d]=i,Fi(s,d,2,"#host",null)}(Yn,On);hr=function Vb(e,i,s,d,_,C,P){const se=_[ui];!function kS(e,i,s,d){for(const _ of e)i.mergedAttrs=sc(i.mergedAttrs,_.hostAttrs);null!==i.mergedAttrs&&(O_(i,i.mergedAttrs,!0),null!==s&&O(d,s,i))}(d,e,i,P);let he=null;null!==i&&(he=Qd(i,_[Sr]));const Ge=C.rendererFactory.createRenderer(i,s);let nt=16;s.signals?nt=4096:s.onPush&&(nt=64);const zt=ni(_,hg(s),null,nt,_[e.index],e,C,Ge,null,null,he);return se.firstCreatePass&&C_(se,e,d.length-1),ju(_,zt),_[e.index]=zt}(ww,On,Fa,Gc,Yn,zt,cn),Eo=bu(Si,Xi),On&&function FS(e,i,s,d){if(d)Tc(e,s,["ng-version","18.2.3"]);else{const{attrs:_,classes:C}=function ae(e){const i=[],s=[];let d=1,_=2;for(;d<e.length;){let C=e[d];if("string"==typeof C)2===_?""!==C&&i.push(C,e[++d]):8===_&&s.push(C);else{if(!mr(_))break;_=C}d++}return{attrs:i,classes:s}}(i.selectors[0]);_&&Tc(e,s,_),C&&C.length>0&&m(e,s,C.join(" "))}}(cn,Fa,On,d),void 0!==s&&function sC(e,i,s){const d=e.projection=[];for(let _=0;_<i.length;_++){const C=s[_];d.push(null!=C?Array.from(C):null)}}(Eo,this.ngContentSelectors,s),Bs=function Gb(e,i,s,d,_,C){const P=ko(),se=_[ui],he=la(P,_);hE(se,_,P,s,null,d);for(let nt=0;nt<s.length;nt++)fl($i(_,se,P.directiveStart+nt,P),_);pE(se,_,P),he&&fl(he,_);const Ge=$i(_,se,P.directiveStart+P.componentOffset,P);if(e[No]=_[No]=Ge,null!==C)for(const nt of C)nt(Ge,i);return mo(se,P,_),Ge}(hr,Fa,Gc,s1,Yn,[Kb]),Eb(Si,Yn,null)}catch(Fa){throw null!==hr&&Mm(hr),Mm(Yn),Fa}finally{cv()}return new nC(this.componentType,Bs,bh(Eo,Yn),Yn,Eo)}finally{E(C)}}}class nC extends SS{constructor(i,s,d,_,C){super(),this.location=d,this._rootLView=_,this._tNode=C,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new _g(_,void 0,!1),this.componentType=i}setInput(i,s){const d=this._tNode.inputs;let _;if(null!==d&&(_=d[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const C=this._rootLView;yb(C[ui],C,_,i,s),this.previousInputValues.set(i,s),Jf(wa(this._tNode.index,C),1)}}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Kb(){const e=ko();Dp(Kn()[ui],e)}let Rg=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=PS}return e})();function PS(){return rC(ko(),Kn())}const zb=Rg,A0=class extends zb{constructor(i,s,d){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=d}get element(){return bh(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){const i=uc(this._hostTNode,this._hostLView);if(Cu(i)){const s=tl(i,this._hostLView),d=wp(i);return new Zr(s[ui].data[d+8],s)}return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=oC(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(i,s,d){let _,C;"number"==typeof d?_=d:null!=d&&(_=d.index,C=d.injector);const P=ru(this._lContainer,i.ssrId),se=i.createEmbeddedViewImpl(s||{},C,P);return this.insertImpl(se,_,Fh(this._hostTNode,P)),se}createComponent(i,s,d,_,C){const P=i&&!function ih(e){return"function"==typeof e}(i);let se;if(P)se=s;else{const On=s||{};se=On.index,d=On.injector,_=On.projectableNodes,C=On.environmentInjector||On.ngModuleRef}const he=P?i:new tp(oi(i)),Ge=d||this.parentInjector;if(!C&&null==he.ngModule){const Hn=(P?Ge:this.parentInjector).get(Ar,null);Hn&&(C=Hn)}const nt=oi(he.componentType??{}),zt=ru(this._lContainer,nt?.id??null),gn=he.create(Ge,_,zt?.firstChild??null,C);return this.insertImpl(gn.hostView,se,Fh(this._hostTNode,zt)),gn}insert(i,s){return this.insertImpl(i,s,!0)}insertImpl(i,s,d){const _=i._lView;if(function Y_(e){return Lr(e[kr])}(_)){const se=this.indexOf(i);if(-1!==se)this.detach(se);else{const he=_[kr],Ge=new A0(he,he[Lo],he[kr]);Ge.detach(Ge.indexOf(i))}}const C=this._adjustIndex(s),P=this._lContainer;return su(P,_,C,d),i.attachToViewContainerRef(),zc(R0(P),C,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=oC(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),d=p_(this._lContainer,s);d&&(Qa(R0(this._lContainer),s),rg(d[ui],d))}detach(i){const s=this._adjustIndex(i,-1),d=p_(this._lContainer,s);return d&&null!=Qa(R0(this._lContainer),s)?new _g(d):null}_adjustIndex(i,s=0){return i??this.length+s}};function oC(e){return e[8]}function R0(e){return e[8]||(e[8]=[])}function rC(e,i){let s;const d=i[e.index];return Lr(d)?s=d:(s=mE(d,i,null,e),i[e.index]=s,ju(i,s)),aC(s,i,e,d),new A0(s,e,i)}let aC=function cC(e,i,s,d){if(e[Pr])return;let _;_=8&s.type?so(d):function LS(e,i){const s=e[_s],d=s.createComment(""),_=la(i,e);return Bu(s,zf(s,_),d,function lE(e,i){return e.nextSibling(i)}(s,_),!1),d}(i,s),e[Pr]=_},Wb=()=>!1;class k0{constructor(i){this.queryList=i,this.matches=null}clone(){return new k0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xb{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const d=null!==i.contentQueries?i.contentQueries[0]:s.length,_=[];for(let C=0;C<d;C++){const P=s.getByIndex(C);_.push(this.queries[P.indexInDeclarationView].clone())}return new Xb(_)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==L0(i,s).matches&&this.queries[s].setDirty()}}class dC{constructor(i,s,d=null){this.flags=s,this.read=d,this.predicate="string"==typeof i?function Fg(e){return e.split(",").map(i=>i.trim())}(i):i}}class Hb{constructor(i=[]){this.queries=i}elementStart(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let d=0;d<this.length;d++){const _=null!==s?s.length:0,C=this.getByIndex(d).embeddedTView(i,_);C&&(C.indexInDeclarationView=d,null!==s?s.push(C):s=[C])}return null!==s?new Hb(s):null}template(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Yb{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Yb(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let _=0;_<d.length;_++){const C=d[_];this.matchTNodeWithReadOption(i,s,F0(s,C)),this.matchTNodeWithReadOption(i,s,kp(s,i,C,!1,!1))}else d===Ph?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,kp(s,i,d,!1,!1))}matchTNodeWithReadOption(i,s,d){if(null!==d){const _=this.metadata.read;if(null!==_)if(_===yh||_===Rg||_===Ph&&4&s.type)this.addMatch(s.index,-2);else{const C=kp(s,i,_,!1,!1);null!==C&&this.addMatch(s.index,C)}else this.addMatch(s.index,d)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function F0(e,i){const s=e.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===i)return s[d+1];return null}function US(e,i,s,d){return-1===s?function jS(e,i){return 11&e.type?bh(e,i):4&e.type?ja(e,i):null}(i,e):-2===s?function VS(e,i,s){return s===yh?bh(i,e):s===Ph?ja(i,e):s===Rg?rC(i,e):void 0}(e,i,d):$i(e,e[ui],s,i)}function Qb(e,i,s,d){const _=i[Bl].queries[d];if(null===_.matches){const C=e.data,P=s.matches,se=[];for(let he=0;null!==P&&he<P.length;he+=2){const Ge=P[he];se.push(Ge<0?null:US(i,C[Ge],P[he+1],s.metadata.read))}_.matches=se}return _.matches}function w_(e,i,s,d){const _=e.queries.getByIndex(s),C=_.matches;if(null!==C){const P=Qb(e,i,_,s);for(let se=0;se<C.length;se+=2){const he=C[se];if(he>0)d.push(P[se/2]);else{const Ge=C[se+1],nt=i[-he];for(let zt=Mr;zt<nt.length;zt++){const cn=nt[zt];cn[td]===cn[kr]&&w_(cn[ui],cn,Ge,d)}if(null!==nt[wd]){const zt=nt[wd];for(let cn=0;cn<zt.length;cn++){const gn=zt[cn];w_(gn[ui],gn,Ge,d)}}}}}return d}function P0(e,i){return e[Bl].queries[i].queryList}function Jb(e,i,s){const d=new Vp(!(4&~s));return function m0(e,i,s,d){const _=gE(i);_.push(s),e.firstCreatePass&&vE(e).push(d,_.length-1)}(e,i,d,d.destroy),(i[Bl]??=new Xb).queries.push(new k0(d))-1}function Zb(e,i,s,d){const _=Fs();if(_.firstCreatePass){const C=ko();Gu(_,new dC(i,s,d),C.index),function qb(e,i){const s=e.contentQueries||(e.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,i)}(_,e),!(2&~s)&&(_.staticContentQueries=!0)}return Jb(_,Kn(),s)}function Gu(e,i,s){null===e.queries&&(e.queries=new Hb),e.queries.track(new Yb(i,s))}function L0(e,i){return e.queries.getByIndex(i)}function uC(e,i){const s=e[ui],d=L0(s,i);return d.crossesNgTemplate?w_(s,e,i,[]):Qb(s,e,d,i)}const hC=new Set;function Ua(e){hC.has(e)||(hC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ey(e){return"function"==typeof e&&void 0!==e[b]}function pC(e,i){Ua("NgSignals");const s=function fe(e){const i=Object.create(ot);i.value=e;const s=()=>(k(i),i.value);return s[b]=i,s}(e),d=s[b];return i?.equal&&(d.equal=i.equal),s.set=_=>bt(d,_),s.update=_=>function rt(e,i){f()||R(),bt(e,i(e.value))}(d,_),s.asReadonly=_C.bind(s),s}function _C(){const e=this[b];if(void 0===e.readonlyFn){const i=()=>this();i[b]=e,e.readonlyFn=i}return e.readonlyFn}function N0(e){return ey(e)&&"function"==typeof e.set}function ty(e,i){let s;const d=te(()=>{s._dirtyCounter();const _=function ny(e,i){const s=e._lView,d=e._queryIndex;if(void 0===s||void 0===d||4&s[Pi])return i?void 0:Us;const _=P0(s,d),C=uC(s,d);return _.reset(C,Dv),i?_.first:_._changesDetected||void 0===e._flatValue?e._flatValue=_.toArray():e._flatValue}(s,e);if(i&&void 0===_)throw new di(-951,!1);return _});return s=d[b],s._dirtyCounter=pC(0),s._flatValue=void 0,d}function bC(e,i){return function mC(){return ty(!0,!1)}()}const XS=(bC.required=function WS(e,i){return function B0(){return ty(!0,!0)}()},bC);function Lg(e){let i=function iy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const d=[e];for(;i;){let _;if(vr(e))_=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new di(903,!1);_=i.\u0275dir}if(_){if(s){d.push(_);const P=e;P.inputs=K0(e.inputs),P.inputTransforms=K0(e.inputTransforms),P.declaredInputs=K0(e.declaredInputs),P.outputs=K0(e.outputs);const se=_.hostBindings;se&&iM(e,se);const he=_.viewQuery,Ge=_.contentQueries;if(he&&Uh(e,he),Ge&&Ng(e,Ge),SC(e,_),Ts(e.outputs,_.outputs),vr(_)&&_.data.animation){const nt=e.data;nt.animation=(nt.animation||[]).concat(_.data.animation)}}const C=_.features;if(C)for(let P=0;P<C.length;P++){const se=C[P];se&&se.ngInherit&&se(e),se===Lg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function nM(e){let i=0,s=null;for(let d=e.length-1;d>=0;d--){const _=e[d];_.hostVars=i+=_.hostVars,_.hostAttrs=sc(_.hostAttrs,s=sc(s,_.hostAttrs))}}(d)}function SC(e,i){for(const s in i.inputs){if(!i.inputs.hasOwnProperty(s)||e.inputs.hasOwnProperty(s))continue;const d=i.inputs[s];if(void 0!==d&&(e.inputs[s]=d,e.declaredInputs[s]=i.declaredInputs[s],null!==i.inputTransforms)){const _=Array.isArray(d)?d[0]:d;if(!i.inputTransforms.hasOwnProperty(_))continue;e.inputTransforms??={},e.inputTransforms[_]=i.inputTransforms[_]}}}function K0(e){return e===Ia?{}:e===Us?[]:e}function Uh(e,i){const s=e.viewQuery;e.viewQuery=s?(d,_)=>{i(d,_),s(d,_)}:i}function Ng(e,i){const s=e.contentQueries;e.contentQueries=s?(d,_,C)=>{i(d,_,C),s(d,_,C)}:i}function iM(e,i){const s=e.hostBindings;e.hostBindings=s?(d,_)=>{i(d,_),s(d,_)}:i}function sy(e){const i=s=>{const d=(Array.isArray(e)?e:e()).map(_=>"function"==typeof _?{directive:Ji(_),inputs:Ia,outputs:Ia}:{directive:Ji(_.directive),inputs:Bg(_.inputs),outputs:Bg(_.outputs)});null===s.hostDirectives?(s.findHostDirectiveDefs=DC,s.hostDirectives=d):s.hostDirectives.unshift(...d)};return i.ngInherit=!0,i}function DC(e,i,s){if(null!==e.hostDirectives)for(const d of e.hostDirectives){const _=Xn(d.directive);rM(_.declaredInputs,d.inputs),DC(_,i,s),s.set(_,d),i.push(_)}}function Bg(e){if(void 0===e||0===e.length)return Ia;const i={};for(let s=0;s<e.length;s+=2)i[e[s]]=e[s+1];return i}function rM(e,i){for(const s in i)i.hasOwnProperty(s)&&(e[i[s]]=e[s])}function IC(e){const i=e.inputConfig,s={};for(const d in i)if(i.hasOwnProperty(d)){const _=i[d];Array.isArray(_)&&_[3]&&(s[d]=_[3])}e.inputTransforms=s}class yd{}class OC{}function cM(e,i){return new $g(e,i??null,[])}class $g extends yd{constructor(i,s,d,_=!0){super(),this.ngModuleType=i,this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tC(this);const C=po(i);this._bootstrapComponents=Hl(C.bootstrap),this._r3Injector=mv(i,s,[{provide:yd,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver},...d],lo(i),new Set(["environment"])),_&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class oy extends OC{constructor(i){super(),this.moduleType=i}create(i){return new $g(this.moduleType,i,[])}}class wC extends yd{constructor(i){super(),this.componentFactoryResolver=new tC(this),this.instance=null;const s=new Jc([...i.providers,{provide:yd,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],i.parent||gs(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ry(e,i,s=null){return new wC({providers:e,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}function jg(e){return!!Ug(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ug(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ka(e,i,s){return e[i]=s}function Nc(e,i){return e[i]}function yr(e,i,s){return!Object.is(e[i],s)&&(e[i]=s,!0)}function au(e,i,s,d){const _=yr(e,i,s);return yr(e,i+1,d)||_}function z0(e,i,s,d,_){const C=au(e,i,s,d);return yr(e,i+2,_)||C}function Bc(e,i,s,d,_,C){const P=au(e,i,s,d);return au(e,i+2,_,C)||P}function Vg(e,i,s,d,_,C,P,se,he,Ge){const nt=s+Xi,zt=i.firstCreatePass?function pM(e,i,s,d,_,C,P,se,he){const Ge=i.consts,nt=Fi(i,e,4,P||null,se||null);bb(i,s,nt,dr(Ge,he)),Dp(i,nt);const zt=nt.tView=vd(2,nt,d,_,C,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Ge,null);return null!==i.queries&&(i.queries.template(i,nt),zt.queries=i.queries.embeddedTView(nt)),nt}(nt,i,e,d,_,C,P,se,he):i.data[nt];Ul(zt,!1);const cn=AC(i,e,zt,s);ph()&&xh(i,e,cn,zt),fl(cn,e);const gn=mE(cn,e,cn,zt);return e[nt]=gn,ju(e,gn),function lC(e,i,s){return Wb(e,i,s)}(gn,zt,e),_u(zt)&&ms(i,e,zt),null!=he&&br(e,zt,Ge),zt}function ay(e,i,s,d,_,C,P,se){const he=Kn(),Ge=Fs();return Vg(he,Ge,e,i,s,d,_,dr(Ge.consts,C),P,se),ay}let AC=function RC(e,i,s,d){return Jr(!0),i[_s].createComment("")};var Ku=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ku||{});let BC=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=ns({token:e,providedIn:"root",factory:()=>new e})}return e})();class Wg{constructor(){this.ngZone=Zn(Uo),this.scheduler=Zn(D_),this.errorHandler=Zn(Gl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[Ku.EarlyRead,Ku.Write,Ku.MixedReadWrite,Ku.Read];execute(){this.executing=!0;for(const i of Wg.PHASES)for(const s of this.sequences)if(!s.erroredOrDestroyed&&s.hooks[i])try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>s.hooks[i](s.pipelinedValue))}catch(d){s.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&this.sequences.delete(i);for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(i){this.executing?this.deferredRegistrations.add(i):(this.sequences.add(i),this.scheduler.notify(6))}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}static#t=this.\u0275prov=ns({token:Wg,providedIn:"root",factory:()=>new Wg})}class lI{constructor(i,s,d,_){this.impl=i,this.hooks=s,this.once=d,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=_.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function $C(e,i){!i?.injector&&jo();const s=i?.injector??Zn(ca);return _l(s)?(Ua("NgAfterRender"),cy(e,s,i,!1)):jC}function H0(e,i){!i?.injector&&jo();const s=i?.injector??Zn(ca);return _l(s)?(Ua("NgAfterNextRender"),cy(e,s,i,!0)):jC}function cy(e,i,s,d){const _=i.get(BC);_.impl??=i.get(Wg);const P=new lI(_.impl,function vM(e,i){if(e instanceof Function){const s=[void 0,void 0,void 0,void 0];return s[i]=e,s}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,s?.phase??Ku.MixedReadWrite),d,i.get(Qn));return _.impl.register(P),P}const jC={destroy(){}};function by(e,i,s,d){const _=Kn();return yr(_,Ac(),i)&&(Fs(),function Pc(e,i,s,d,_,C){const P=la(e,i);g0(i[_s],P,C,e.value,s,d,_)}(Yo(),_,e,i,s,d)),by}function o(e,i,s,d){return yr(e,Ac(),s)?i+Ot(s)+d:B}function Bi(e,i){return e<<17|i<<2}function qi(e){return e>>17&32767}function Ti(e){return 2|e}function ei(e){return(131068&e)>>2}function Vi(e,i){return-131069&e|i<<2}function xi(e){return 1|e}function qr(e,i,s,d){const _=e[s+1],C=null===i;let P=d?qi(_):ei(_),se=!1;for(;0!==P&&(!1===se||C);){const Ge=e[P+1];ai(e[P],i)&&(se=!0,e[P+1]=d?xi(Ge):Ti(Ge)),P=d?qi(Ge):ei(Ge)}se&&(e[s+1]=d?Ti(_):xi(_))}function ai(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&Mo(e,i)>=0}const Ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ii(e){return e.substring(Ei.key,Ei.keyEnd)}function ws(e){return e.substring(Ei.value,Ei.valueEnd)}function Zl(e,i){const s=Ei.textEnd;return s===i?-1:(i=Ei.keyEnd=function Qg(e,i,s){for(;i<s&&e.charCodeAt(i)>32;)i++;return i}(e,Ei.key=i,s),Ed(e,i,s))}function gc(e,i){const s=Ei.textEnd;let d=Ei.key=Ed(e,i,s);return s===d?-1:(d=Ei.keyEnd=function Ca(e,i,s){let d;for(;i<s&&(45===(d=e.charCodeAt(i))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)i++;return i}(e,d,s),d=jc(e,d,s),d=Ei.value=Ed(e,d,s),d=Ei.valueEnd=function xl(e,i,s){let d=-1,_=-1,C=-1,P=i,se=P;for(;P<s;){const he=e.charCodeAt(P++);if(59===he)return se;34===he||39===he?se=P=lu(e,he,P,s):i===P-4&&85===C&&82===_&&76===d&&40===he?se=P=lu(e,41,P,s):he>32&&(se=P),C=_,_=d,d=-33&he}return se}(e,d,s),jc(e,d,s))}function Ko(e){Ei.key=0,Ei.keyEnd=0,Ei.value=0,Ei.valueEnd=0,Ei.textEnd=e.length}function Ed(e,i,s){for(;i<s&&e.charCodeAt(i)<=32;)i++;return i}function jc(e,i,s,d){return(i=Ed(e,i,s))<s&&i++,i}function lu(e,i,s,d){let _=-1,C=s;for(;C<d;){const P=e.charCodeAt(C++);if(P==i&&92!==_)return C;_=92==P&&92===_?0:P}throw new Error}function yy(e,i,s){const d=Kn();return yr(d,Ac(),i)&&Yl(Fs(),Yo(),d,e,i,d[_s],s,!1),yy}function Ey(e,i,s,d,_){const P=_?"class":"style";yb(e,s,i.inputs[P],P,d)}function zu(e,i,s){return Gs(e,i,s,!1),zu}function Wu(e,i){return Gs(e,i,null,!0),Wu}function vc(e){ha(uI,Cy,e,!1)}function Cy(e,i){for(let s=function wl(e){return Ko(e),gc(e,Ed(e,0,Ei.textEnd))}(i);s>=0;s=gc(i,s))uI(e,Ii(i),ws(i))}function Zg(e){ha(kw,Uc,e,!0)}function Uc(e,i){for(let s=function Jo(e){return Ko(e),Zl(e,Ed(e,0,Ei.textEnd))}(i);s>=0;s=Zl(i,s))Ja(e,Ii(i),!0)}function Gs(e,i,s,d){const _=Kn(),C=Fs(),P=Nd(2);C.firstUpdatePass&&Dr(C,e,P,d),i!==B&&yr(_,P,i)&&hI(C,C.data[Aa()],_,_[_s],e,_[P+1]=function Pw(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=lo(md(e)))),e}(i,s),d,P)}function ha(e,i,s,d){const _=Fs(),C=Nd(2);_.firstUpdatePass&&Dr(_,null,C,d);const P=Kn();if(s!==B&&yr(P,C,s)){const se=_.data[Aa()];if(pI(se,d)&&!go(_,C)){let he=d?se.classesWithoutHost:se.stylesWithoutHost;null!==he&&(s=_a(he,s||"")),Ey(_,se,P,s,d)}else!function Fw(e,i,s,d,_,C,P,se){_===B&&(_=Us);let he=0,Ge=0,nt=0<_.length?_[0]:null,zt=0<C.length?C[0]:null;for(;null!==nt||null!==zt;){const cn=he<_.length?_[he+1]:void 0,gn=Ge<C.length?C[Ge+1]:void 0;let Hn,On=null;nt===zt?(he+=2,Ge+=2,cn!==gn&&(On=zt,Hn=gn)):null===zt||null!==nt&&nt<zt?(he+=2,On=nt):(Ge+=2,On=zt,Hn=gn),null!==On&&hI(e,i,s,d,On,Hn,P,se),nt=he<_.length?_[he]:null,zt=Ge<C.length?C[Ge]:null}}(_,se,P,P[_s],P[C+1],P[C+1]=function Rw(e,i,s){if(null==s||""===s)return Us;const d=[],_=md(s);if(Array.isArray(_))for(let C=0;C<_.length;C++)e(d,_[C],!0);else if("object"==typeof _)for(const C in _)_.hasOwnProperty(C)&&e(d,C,_[C]);else"string"==typeof _&&i(d,_);return d}(e,i,s),d,C)}}function go(e,i){return i>=e.expandoStartIndex}function Dr(e,i,s,d){const _=e.data;if(null===_[s+1]){const C=_[Aa()],P=go(e,s);pI(C,d)&&null===i&&!P&&(i=!1),i=function Fo(e,i,s,d){const _=hl(e);let C=d?i.residualClasses:i.residualStyles;if(null===_)0===(d?i.classBindings:i.styleBindings)&&(s=Ty(s=GM(null,e,i,s,d),i.attrs,d),C=null);else{const P=i.directiveStylingLast;if(-1===P||e[P]!==_)if(s=GM(_,e,i,s,d),null===C){let he=function sp(e,i,s){const d=s?i.classBindings:i.styleBindings;if(0!==ei(d))return e[qi(d)]}(e,i,d);void 0!==he&&Array.isArray(he)&&(he=GM(null,e,i,he[1],d),he=Ty(he,i.attrs,d),function VM(e,i,s,d){e[qi(s?i.classBindings:i.styleBindings)]=d}(e,i,d,he))}else C=function Aw(e,i,s){let d;const _=i.directiveEnd;for(let C=1+i.directiveStylingLast;C<_;C++)d=Ty(d,e[C].hostAttrs,s);return Ty(d,i.attrs,s)}(e,i,d)}return void 0!==C&&(d?i.residualClasses=C:i.residualStyles=C),s}(_,C,i,d),function Go(e,i,s,d,_,C){let P=C?i.classBindings:i.styleBindings,se=qi(P),he=ei(P);e[d]=s;let nt,Ge=!1;if(Array.isArray(s)?(nt=s[1],(null===nt||Mo(s,nt)>0)&&(Ge=!0)):nt=s,_)if(0!==he){const cn=qi(e[se+1]);e[d+1]=Bi(cn,se),0!==cn&&(e[cn+1]=Vi(e[cn+1],d)),e[se+1]=function vs(e,i){return 131071&e|i<<17}(e[se+1],d)}else e[d+1]=Bi(se,0),0!==se&&(e[se+1]=Vi(e[se+1],d)),se=d;else e[d+1]=Bi(he,0),0===se?se=d:e[he+1]=Vi(e[he+1],d),he=d;Ge&&(e[d+1]=Ti(e[d+1])),qr(e,nt,d,!0),qr(e,nt,d,!1),function Qo(e,i,s,d,_){const C=_?e.residualClasses:e.residualStyles;null!=C&&"string"==typeof i&&Mo(C,i)>=0&&(s[d+1]=xi(s[d+1]))}(i,nt,e,d,C),P=Bi(se,he),C?i.classBindings=P:i.styleBindings=P}(_,C,i,s,P,d)}}function GM(e,i,s,d,_){let C=null;const P=s.directiveEnd;let se=s.directiveStylingLast;for(-1===se?se=s.directiveStart:se++;se<P&&(C=i[se],d=Ty(d,C.hostAttrs,_),C!==e);)se++;return null!==e&&(s.directiveStylingLast=se),d}function Ty(e,i,s){const d=s?1:2;let _=-1;if(null!==i)for(let C=0;C<i.length;C++){const P=i[C];"number"==typeof P?_=P:_===d&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ja(e,P,!!s||i[++C]))}return void 0===e?null:e}function uI(e,i,s){Ja(e,i,md(s))}function kw(e,i,s){const d=String(i);""!==d&&!d.includes(" ")&&Ja(e,d,s)}function hI(e,i,s,d,_,C,P,se){if(!(3&i.type))return;const he=e.data,Ge=he[se+1],nt=function Zs(e){return!(1&~e)}(Ge)?fI(he,i,s,_,ei(Ge),P):void 0;oT(nt)||(oT(C)||function Gi(e){return!(2&~e)}(Ge)&&(C=fI(he,null,s,_,se,P)),function A(e,i,s,d,_){if(i)_?e.addClass(s,d):e.removeClass(s,d);else{let C=-1===d.indexOf("-")?void 0:nu.DashCase;null==_?e.removeStyle(s,d,C):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),C|=nu.Important),e.setStyle(s,d,_,C))}}(d,P,lh(Aa(),s),_,C))}function fI(e,i,s,d,_,C){const P=null===i;let se;for(;_>0;){const he=e[_],Ge=Array.isArray(he),nt=Ge?he[1]:he,zt=null===nt;let cn=s[_+1];cn===B&&(cn=zt?Us:void 0);let gn=zt?Yu(cn,d):nt===d?cn:void 0;if(Ge&&!oT(gn)&&(gn=Yu(he,d)),oT(gn)&&(se=gn,P))return se;const On=e[_+1];_=P?qi(On):ei(On)}if(null!==i){let he=C?i.residualClasses:i.residualStyles;null!=he&&(se=Yu(he,d))}return se}function oT(e){return void 0!==e}function pI(e,i){return!!(e.flags&(i?8:16))}function _I(e,i,s){ha(Ja,Uc,o(Kn(),e,i,s),!0)}class zw{destroy(i){}updateValue(i,s){}swap(i,s){const d=Math.min(i,s),_=Math.max(i,s),C=this.detach(_);if(_-d>1){const P=this.detach(d);this.attach(d,C),this.attach(_,P)}else this.attach(d,C)}move(i,s){this.attach(s,this.detach(i))}}function KM(e,i,s,d,_){return e===s&&Object.is(i,d)?1:Object.is(_(e,i),_(s,d))?-1:0}function zM(e,i,s,d){return!(void 0===i||!i.has(d)||(e.attach(s,i.get(d)),i.delete(d),0))}function mI(e,i,s,d,_){if(zM(e,i,d,s(d,_)))e.updateValue(d,_);else{const C=e.create(d,_);e.attach(d,C)}}function gI(e,i,s,d){const _=new Set;for(let C=i;C<=s;C++)_.add(d(C,e.at(C)));return _}class vI{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const s=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(i,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,s){if(this.kvMap.has(i)){let d=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(d);)d=_.get(d);_.set(d,s)}else this.kvMap.set(i,s)}forEach(i){for(let[s,d]of this.kvMap)if(i(d,s),void 0!==this._vMap){const _=this._vMap;for(;_.has(d);)d=_.get(d),i(d,s)}}}function bI(e,i){Ua("NgControlFlow");const s=Kn(),d=Ac(),_=s[d]!==B?s[d]:-1,C=-1!==_?rT(s,Xi+_):void 0;if(yr(s,d,e)){const se=E(null);try{if(void 0!==C&&b0(C,0),-1!==e){const he=Xi+e,Ge=rT(s,he),nt=WM(s[ui],he),zt=ru(Ge,nt.tView.ssrId);su(Ge,Ea(s,nt,i,{dehydratedView:zt}),0,Fh(nt,zt))}}finally{E(se)}}else if(void 0!==C){const se=Yf(C,0);void 0!==se&&(se[No]=i)}}class Xw{constructor(i,s,d){this.lContainer=i,this.$implicit=s,this.$index=d}get $count(){return this.lContainer.length-Mr}}function yI(e){return e}function EI(e,i){return i}class Hw{constructor(i,s,d){this.hasEmptyBlock=i,this.trackByFn=s,this.liveCollection=d}}function CI(e,i,s,d,_,C,P,se,he,Ge,nt,zt,cn){Ua("NgControlFlow");const gn=Kn(),On=Fs(),Hn=void 0!==he,vi=Kn(),Si=se?P.bind(vi[io][No]):P,Yn=new Hw(Hn,Si);vi[Xi+e]=Yn,Vg(gn,On,e+1,i,s,d,_,dr(On.consts,C)),Hn&&Vg(gn,On,e+2,he,Ge,nt,zt,dr(On.consts,cn))}class Yw extends zw{constructor(i,s,d){super(),this.lContainer=i,this.hostLView=s,this.templateTNode=d,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Mr}at(i){return this.getLView(i)[No].$implicit}attach(i,s){const d=s[Fr];this.needsIndexUpdate||=i!==this.length,su(this.lContainer,s,i,Fh(this.templateTNode,d))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function Qw(e,i){return p_(e,i)}(this.lContainer,i)}create(i,s){const d=ru(this.lContainer,this.templateTNode.tView.ssrId),_=Ea(this.hostLView,this.templateTNode,new Xw(this.lContainer,s,i),{dehydratedView:d});return this.operationsCounter?.recordCreate(),_}destroy(i){rg(i[ui],i),this.operationsCounter?.recordDestroy()}updateValue(i,s){this.getLView(i)[No].$implicit=s}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[No].$index=i}getLView(i){return function Jw(e,i){return Yf(e,i)}(this.lContainer,i)}}function TI(e){const i=E(null),s=Aa();try{const d=Kn(),_=d[ui],C=d[s],P=s+1,se=rT(d,P);if(void 0===C.liveCollection){const Ge=WM(_,P);C.liveCollection=new Yw(se,d,Ge)}else C.liveCollection.reset();const he=C.liveCollection;if(function Ww(e,i,s){let d,_,C=0,P=e.length-1;if(Array.isArray(i)){let he=i.length-1;for(;C<=P&&C<=he;){const Ge=e.at(C),nt=i[C],zt=KM(C,Ge,C,nt,s);if(0!==zt){zt<0&&e.updateValue(C,nt),C++;continue}const cn=e.at(P),gn=i[he],On=KM(P,cn,he,gn,s);if(0!==On){On<0&&e.updateValue(P,gn),P--,he--;continue}const Hn=s(C,Ge),vi=s(P,cn),Si=s(C,nt);if(Object.is(Si,vi)){const Yn=s(he,gn);Object.is(Yn,Hn)?(e.swap(C,P),e.updateValue(P,gn),he--,P--):e.move(P,C),e.updateValue(C,nt),C++}else if(d??=new vI,_??=gI(e,C,P,s),zM(e,d,C,Si))e.updateValue(C,nt),C++,P++;else if(_.has(Si))d.set(Hn,e.detach(C)),P--;else{const Yn=e.create(C,i[C]);e.attach(C,Yn),C++,P++}}for(;C<=he;)mI(e,d,s,C,i[C]),C++}else if(null!=i){const he=i[Symbol.iterator]();let Ge=he.next();for(;!Ge.done&&C<=P;){const nt=e.at(C),zt=Ge.value,cn=KM(C,nt,C,zt,s);if(0!==cn)cn<0&&e.updateValue(C,zt),C++,Ge=he.next();else{d??=new vI,_??=gI(e,C,P,s);const gn=s(C,zt);if(zM(e,d,C,gn))e.updateValue(C,zt),C++,P++,Ge=he.next();else if(_.has(gn)){const On=s(C,nt);d.set(On,e.detach(C)),P--}else e.attach(C,e.create(C,zt)),C++,P++,Ge=he.next()}}for(;!Ge.done;)mI(e,d,s,e.length,Ge.value),Ge=he.next()}for(;C<=P;)e.destroy(e.detach(P--));d?.forEach(he=>{e.destroy(he)})}(he,e,C.trackByFn),he.updateIndexes(),C.hasEmptyBlock){const Ge=Ac(),nt=0===he.length;if(yr(d,Ge,nt)){const zt=s+2,cn=rT(d,zt);if(nt){const gn=WM(_,zt),On=ru(cn,gn.tView.ssrId);su(cn,Ea(d,gn,void 0,{dehydratedView:On}),0,Fh(gn,On))}else b0(cn,0)}}}finally{E(i)}}function rT(e,i){return e[i]}function WM(e,i){return bu(e,i)}function aT(e,i,s,d){const _=Kn(),C=Fs(),P=Xi+e,se=_[_s],he=C.firstCreatePass?function Zw(e,i,s,d,_,C){const P=i.consts,he=Fi(i,e,2,d,dr(P,_));return bb(i,s,he,dr(P,C)),null!==he.attrs&&O_(he,he.attrs,!1),null!==he.mergedAttrs&&O_(he,he.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,he),he}(P,C,_,i,s,d):C.data[P],Ge=SI(C,_,he,se,i,e);_[P]=Ge;const nt=_u(he);return Ul(he,!0),O(se,Ge,he),!function A_(e){return!(32&~e.flags)}(he)&&ph()&&xh(C,_,Ge,he),0===function Ni(){return Ze.lFrame.elementDepthCount}()&&fl(Ge,_),function ri(){Ze.lFrame.elementDepthCount++}(),nt&&(ms(C,_,he),mo(C,he,_)),null!==d&&br(_,he),aT}function lT(){let e=ko();Z_()?Bo():(e=e.parent,Ul(e,!1));const i=e;(function co(e){return Ze.skipHydrationRootTNode===e})(i)&&function rd(){Ze.skipHydrationRootTNode=null}(),function fs(){Ze.lFrame.elementDepthCount--}();const s=Fs();return s.firstCreatePass&&(Dp(s,e),Jh(e)&&s.queries.elementEnd(e)),null!=i.classesWithoutHost&&function uv(e){return!!(8&e.flags)}(i)&&Ey(s,i,Kn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function p1(e){return!!(16&e.flags)}(i)&&Ey(s,i,Kn(),i.stylesWithoutHost,!1),lT}function XM(e,i,s,d){return aT(e,i,s,d),lT(),XM}let SI=(e,i,s,d,_,C)=>(Jr(!0),f_(d,_,function tm(){return Ze.lFrame.currentNamespace}()));function cT(e,i,s){const d=Kn(),_=Fs(),C=e+Xi,P=_.firstCreatePass?function tx(e,i,s,d,_){const C=i.consts,P=dr(C,d),se=Fi(i,e,8,"ng-container",P);return null!==P&&O_(se,P,!0),bb(i,s,se,dr(C,_)),null!==i.queries&&i.queries.elementStart(i,se),se}(C,_,d,i,s):_.data[C];Ul(P,!0);const se=MI(_,d,P,e);return d[C]=se,ph()&&xh(_,d,se,P),fl(se,d),_u(P)&&(ms(_,d,P),mo(_,P,d)),null!=s&&br(d,P),cT}function dT(){let e=ko();const i=Fs();return Z_()?Bo():(e=e.parent,Ul(e,!1)),i.firstCreatePass&&(Dp(i,e),Jh(e)&&i.queries.elementEnd(e)),dT}function HM(e,i,s){return cT(e,i,s),dT(),HM}let MI=(e,i,s,d)=>(Jr(!0),og(i[_s],""));function DI(){return Kn()}function YM(e,i,s){const d=Kn();return yr(d,Ac(),i)&&Yl(Fs(),Yo(),d,e,i,d[_s],s,!0),YM}function QM(e,i,s){const d=Kn();if(yr(d,Ac(),i)){const C=Fs(),P=Yo();Yl(C,P,d,e,i,bE(hl(C.data),P,d),s,!0)}return QM}const qg=void 0;var ox=["en",[["a","p"],["AM","PM"],qg],[["AM","PM"],qg,qg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qg,"{1} 'at' {0}",qg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sx(e){const s=Math.floor(Math.abs(e)),d=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let q0={};function JM(e){const i=function rx(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=OI(i);if(s)return s;const d=i.split("-")[0];if(s=OI(d),s)return s;if("en"===d)return ox;throw new di(701,!1)}function II(e){return JM(e)[e1.PluralCase]}function OI(e){return e in q0||(q0[e]=Ao.ng&&Ao.ng.common&&Ao.ng.common.locales&&Ao.ng.common.locales[e]),q0[e]}var e1=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(e1||{});const ax=["zero","one","two","few","many"],uT="en-US",hT={marker:"element"},fT={marker:"ICU"};var Vc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Vc||{});let wI=uT,Sy=0,My=0;let Dy=(e,i,s,d)=>(Jr(!0),function xI(e,i,s){const d=e[_s];switch(s){case Node.COMMENT_NODE:return og(d,i);case Node.TEXT_NODE:return sg(d,i);case Node.ELEMENT_NODE:return f_(d,i,null)}}(e,s,d));function AI(e,i,s,d){const _=s[_s];let P,C=null;for(let se=0;se<i.length;se++){const he=i[se];if("string"==typeof he){const Ge=i[++se];null===s[Ge]&&(s[Ge]=Dy(s,Ge,he,Node.TEXT_NODE))}else if("number"==typeof he)switch(1&he){case 0:const Ge=PE(he);let nt,zt;if(null===C&&(C=Ge,P=zf(_,d)),Ge===C?(nt=d,zt=P):(nt=null,zt=so(s[Ge])),null!==zt){const Hn=LE(he);Bu(_,zt,s[Hn],nt,!1);const Si=bg(e,Hn);if(null!==Si&&"object"==typeof Si){const Yn=T0(Si,s);null!==Yn&&AI(e,Si.create[Yn],s,s[Si.anchorIdx])}}break;case 1:const gn=i[++se],On=i[++se];g0(_,lh(he>>>1,s),null,null,gn,On,null)}else switch(he){case fT:const Ge=i[++se],nt=i[++se];null===s[nt]&&fl(s[nt]=Dy(s,nt,Ge,Node.COMMENT_NODE),s);break;case hT:const zt=i[++se],cn=i[++se];null===s[cn]&&fl(s[cn]=Dy(s,cn,zt,Node.ELEMENT_NODE),s)}}}function RI(e,i,s,d,_){for(let C=0;C<s.length;C++){const P=s[C],se=s[++C];if(P&_){let he="";for(let Ge=C+1;Ge<=C+se;Ge++){const nt=s[Ge];if("string"==typeof nt)he+=nt;else if("number"==typeof nt)if(nt<0)he+=Ot(i[d-nt]);else{const zt=nt>>>2;switch(3&nt){case 1:const cn=s[++Ge],gn=s[++Ge],On=e.data[zt];"string"==typeof On?g0(i[_s],i[zt],null,On,cn,he,gn):Yl(e,On,i,cn,he,i[_s],gn,!1);break;case 0:const Hn=i[zt];null!==Hn&&o0(i[_s],Hn,he);break;case 2:gx(e,bg(e,zt),i,he);break;case 3:kI(e,bg(e,zt),d,i)}}}}else{const he=s[C+1];if(he>0&&!(3&~he)){const nt=bg(e,he>>>2);i[nt.currentCaseLViewIndex]<0&&kI(e,nt,d,i)}}C+=se}}function kI(e,i,s,d){let _=d[i.currentCaseLViewIndex];if(null!==_){let C=Sy;_<0&&(_=d[i.currentCaseLViewIndex]=~_,C=-1),RI(e,d,i.update[_],s,C)}}function gx(e,i,s,d){const _=function vx(e,i){let s=e.cases.indexOf(i);if(-1===s)switch(e.type){case 1:{const d=function lx(e,i){const s=II(i)(parseInt(e,10)),d=ax[s];return void 0!==d?d:"other"}(i,function ux(){return wI}());s=e.cases.indexOf(d),-1===s&&"other"!==d&&(s=e.cases.indexOf("other"));break}case 0:s=e.cases.indexOf("other")}return-1===s?null:s}(i,d);if(T0(i,s)!==_&&(FI(e,i,s),s[i.currentCaseLViewIndex]=null===_?null:~_,null!==_)){const P=s[i.anchorIdx];P&&AI(e,i.create[_],s,P),function gS(e,i,s){zE(e,i,s)}(s,i.anchorIdx,_)}}function FI(e,i,s){let d=T0(i,s);if(null!==d){const _=i.remove[d];for(let C=0;C<_.length;C++){const P=_[C];if(P>0){const se=lh(P,s);null!==se&&Hf(s[_s],se)}else FI(e,bg(e,~P),s)}}}const pT=/\ufffd(\d+):?\d*\ufffd/gi,yx=/\ufffd(\d+)\ufffd/,LI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Iy="\ufffd",Ex=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Cx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Tx=/\uE500/g;function NI(e,i,s,d,_,C,P){const se=us(e,d,1,null);let he=se<<Vc.SHIFT,Ge=af();i===Ge&&(Ge=null),null===Ge&&(he|=Vc.APPEND_EAGERLY),P&&(he|=Vc.COMMENT,function lb(e){void 0===_c&&(_c=e())}(oS)),_.push(he,null===C?"":C);const nt=is(e,se,P?32:1,null===C?"":C,null);kE(s,nt);const zt=nt.index;return Ul(nt,!1),null!==Ge&&i!==Ge&&function iS(e,i){let s=e.insertBeforeIndex;null===s?(p0(Ab,RE),s=e.insertBeforeIndex=[null,i]):(Ye(Array.isArray(s),!0,"Expecting array here"),s.push(i))}(Ge,zt),nt}function Dx(e,i,s,d,_,C,P,se){const he=se.match(pT),nt=NI(i,s,d,P,_,he?null:se,!1).index;he&&Oy(C,se,nt,null,0,null),e.push({kind:0,index:nt})}function Oy(e,i,s,d,_,C){const P=e.length,se=P+1;e.push(null,null);const he=P+2,Ge=i.split(pT);let nt=0;for(let zt=0;zt<Ge.length;zt++){const cn=Ge[zt];if(1&zt){const gn=_+parseInt(cn,10);e.push(-1-gn),nt|=BI(gn)}else""!==cn&&e.push(cn)}return e.push(s<<2|(d?1:0)),d&&e.push(d,C),e[P]=nt,e[se]=e.length-he,nt}function BI(e){return 1<<Math.min(e,31)}function $I(e){let i,C,s="",d=0,_=!1;for(;null!==(i=Ex.exec(e));)_?i[0]===`${Iy}/*${C}${Iy}`&&(d=i.index,_=!1):(s+=e.substring(d,i.index+i[0].length),C=i[1],_=!0);return s+=e.slice(d),s}function jI(e,i,s,d,_,C,P){let se=0;const he={type:C.type,currentCaseLViewIndex:us(i,s,1,null),anchorIdx:P,cases:[],create:[],remove:[],update:[]};(function kx(e,i,s){e.push(BI(i.mainBinding),2,-1-i.mainBinding,s<<2|2)})(d,C,P),function FE(e,i,s){const d=e.data[i];null===d?e.data[i]=s:d.value=s}(i,P,he);const Ge=C.values,nt=[];for(let zt=0;zt<Ge.length;zt++){const cn=Ge[zt],gn=[];for(let Hn=0;Hn<cn.length;Hn++){const vi=cn[Hn];if("string"!=typeof vi){const Si=gn.push(vi)-1;cn[Hn]=`\x3c!--\ufffd${Si}\ufffd--\x3e`}}const On=[];nt.push(On),se=Ax(On,i,he,s,d,_,C.cases[zt],cn.join(""),gn)|se}se&&function Fx(e,i,s){e.push(i,1,s<<2|3)}(d,se,P),e.push({kind:3,index:P,cases:nt,currentCaseLViewIndex:he.currentCaseLViewIndex})}function xx(e){const i=[],s=[];let d=1,_=0;const C=ZM(e=e.replace(LI,function(P,se,he){return d="select"===he?0:1,_=parseInt(se.slice(1),10),""}));for(let P=0;P<C.length;){let se=C[P++].trim();1===d&&(se=se.replace(/\s*(?:=)?(\w+)\s*/,"$1")),se.length&&i.push(se);const he=ZM(C[P++]);i.length>s.length&&s.push(he)}return{type:d,mainBinding:_,cases:i,values:s}}function ZM(e){if(!e)return[];let i=0;const s=[],d=[],_=/[{}]/g;let C;for(_.lastIndex=0;C=_.exec(e);){const se=C.index;if("}"==C[0]){if(s.pop(),0==s.length){const he=e.substring(i,se);LI.test(he)?d.push(xx(he)):d.push(he),i=se+1}}else{if(0==s.length){const he=e.substring(i,se);d.push(he),i=se+1}s.push("{")}}const P=e.substring(i);return d.push(P),d}function Ax(e,i,s,d,_,C,P,se,he){const Ge=[],nt=[],zt=[];s.cases.push(P),s.create.push(Ge),s.remove.push(nt),s.update.push(zt);const gn=K1(fd()).getInertBodyElement(se),On=Ih(gn)||gn;return On?UI(e,i,s,d,_,Ge,nt,zt,On,C,he,0):0}function UI(e,i,s,d,_,C,P,se,he,Ge,nt,zt){let cn=0,gn=he.firstChild;for(;gn;){const On=us(i,d,1,null);switch(gn.nodeType){case Node.ELEMENT_NODE:const Hn=gn,vi=Hn.tagName.toLowerCase();if(Km.hasOwnProperty(vi)){qM(C,hT,vi,Ge,On),i.data[On]=vi;const Eo=Hn.attributes;for(let Fa=0;Fa<Eo.length;Fa++){const Gc=Eo.item(Fa),s1=Gc.name.toLowerCase();Gc.value.match(pT)?pc.hasOwnProperty(s1)&&Oy(se,Gc.value,On,Gc.name,0,zm[s1]?jf:null):Px(C,On,Gc)}const hr={kind:1,index:On,children:[]};e.push(hr),cn=UI(hr.children,i,s,d,_,C,P,se,gn,On,nt,zt+1)|cn,VI(P,On,zt)}break;case Node.TEXT_NODE:const Si=gn.textContent||"",Yn=Si.match(pT);qM(C,null,Yn?"":Si,Ge,On),VI(P,On,zt),Yn&&(cn=Oy(se,Si,On,null,0,null)|cn),e.push({kind:0,index:On});break;case Node.COMMENT_NODE:const Bs=yx.exec(gn.textContent||"");if(Bs){const hr=nt[parseInt(Bs[1],10)];qM(C,fT,"",Ge,On),jI(e,i,d,_,Ge,hr,On),Rx(P,On,zt)}}gn=gn.nextSibling}return cn}function VI(e,i,s){0===s&&e.push(i)}function Rx(e,i,s){0===s&&(e.push(~i),e.push(i))}function qM(e,i,s,d,_){null!==i&&e.push(i),e.push(s,_,function S0(e,i,s){return e|i<<17|s<<1}(0,d,_))}function Px(e,i,s){e.push(i<<1|1,s.name,s.value)}const GI=0,Lx=/\[(\ufffd.+?\ufffd?)\]/,Nx=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Bx=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,$x=/{([A-Z0-9_]+)}/g,jx=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Ux=/\/\*/,Vx=/\d+\:(\d+)/;function eD(e,i,s=-1){const d=Fs(),_=Kn(),C=Xi+e,P=dr(d.consts,i),se=af();d.firstCreatePass&&function Mx(e,i,s,d,_,C){const P=af(),se=[],he=[],Ge=[[]],nt=[[]];_=function wx(e,i){if(function yg(e){return-1===e}(i))return $I(e);{const s=e.indexOf(`:${i}${Iy}`)+2+i.toString().length,d=e.search(new RegExp(`${Iy}\\/\\*\\d+:${i}${Iy}`));return $I(e.substring(s,d))}}(_,C);const zt=function Sx(e){return e.replace(Tx," ")}(_).split(Cx);for(let cn=0;cn<zt.length;cn++){let gn=zt[cn];if(1&cn){const On=47===gn.charCodeAt(0),Hn=gn.charCodeAt(On?1:0),vi=Xi+Number.parseInt(gn.substring(On?2:1));if(On)Ge.shift(),nt.shift(),Ul(af(),!1);else{const Si=sS(e,Ge[0],vi);Ge.unshift([]),Ul(Si,!0);const Yn={kind:2,index:vi,children:[],type:35===Hn?0:1};nt[0].push(Yn),nt.unshift(Yn.children)}}else{const On=ZM(gn);for(let Hn=0;Hn<On.length;Hn++){let vi=On[Hn];if(1&Hn){const Si=vi;if("object"!=typeof Si)throw new Error(`Unable to parse ICU expression in "${_}" message.`);const Bs=NI(e,P,Ge[0],s,se,"",!0).index;jI(nt[0],e,s,he,i,Si,Bs)}else""!==vi&&Dx(nt[0],e,P,Ge[0],se,he,s,vi)}}}e.data[d]={create:se,update:he,ast:nt[0],parentTNodeIndex:i}}(d,null===se?0:se.index,_,C,P,s),2===d.type?_[io][Pi]|=32:_[Pi]|=32;const he=d.data[C],nt=h0(d,se===_[Lo]?null:se,_),zt=se&&8&se.type?_[se.index]:null;(function hS(e,i,s,d){D0(e,i,s,d)})(_,C,se,s),function mx(e,i,s,d){const _=e[_s];for(let C=0;C<i.length;C++){const P=i[C++],Ge=(P&Vc.APPEND_EAGERLY)===Vc.APPEND_EAGERLY,nt=P>>>Vc.SHIFT;let zt=e[nt],cn=!1;null===zt&&(zt=e[nt]=Dy(e,nt,i[C],(P&Vc.COMMENT)===Vc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),cn=ph()),Ge&&null!==s&&cn&&Bu(_,s,zt,d,!1)}}(_,he.create,nt,zt),em(!0)}function tD(){em(!1)}function KI(e,i,s){eD(e,i,s),tD()}function nD(e){return function hx(e){e&&(Sy|=1<<Math.min(My,31)),My++}(yr(Kn(),Ac(),e)),nD}function zI(e){!function fx(e,i,s){if(My>0){const d=e.data[s];RI(e,i,Array.isArray(d)?d:d.update,cc()-My-1,Sy)}Sy=0,My=0}(Fs(),Kn(),e+Xi)}function WI(e,i={}){return function Gx(e,i={}){let s=e;if(Lx.test(e)){const d={},_=[GI];s=s.replace(Nx,(C,P,se)=>{const he=P||se,Ge=d[he]||[];if(Ge.length||(he.split("|").forEach(Hn=>{const vi=Hn.match(Vx),Si=vi?parseInt(vi[1],10):GI,Yn=Ux.test(Hn);Ge.push([Si,Yn,Hn])}),d[he]=Ge),!Ge.length)throw new Error(`i18n postprocess: unmatched placeholder - ${he}`);const nt=_[_.length-1];let zt=0;for(let Hn=0;Hn<Ge.length;Hn++)if(Ge[Hn][0]===nt){zt=Hn;break}const[cn,gn,On]=Ge[zt];return gn?_.pop():nt!==cn&&_.push(cn),Ge.splice(zt,1),On})}return Object.keys(i).length&&(s=s.replace(Bx,(d,_,C,P,se,he)=>i.hasOwnProperty(C)?`${_}${i[C]}${he}`:d),s=s.replace($x,(d,_)=>i.hasOwnProperty(_)?i[_]:d),s=s.replace(jx,(d,_)=>{if(i.hasOwnProperty(_)){const C=i[_];if(!C.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${_}`);return C.shift()}return d})),s}(e,i)}let XI=(e,i,s)=>{};function iD(e,i,s,d){const _=Kn(),C=Fs(),P=ko();return oD(C,_,_[_s],P,e,i,d),iD}function sD(e,i){const s=ko(),d=Kn(),_=Fs();return oD(_,d,bE(hl(_.data),s,d),s,e,i),sD}function oD(e,i,s,d,_,C,P){const se=_u(d),Ge=e.firstCreatePass&&vE(e),nt=i[No],zt=gE(i);let cn=!0;if(3&d.type||P){const Hn=la(d,i),vi=P?P(Hn):Hn,Si=zt.length,Yn=P?Eo=>P(so(Eo[d.index])):d.index;let Bs=null;if(!P&&se&&(Bs=function zx(e,i,s,d){const _=e.cleanup;if(null!=_)for(let C=0;C<_.length-1;C+=2){const P=_[C];if(P===s&&_[C+1]===d){const se=i[fu],he=_[C+2];return se.length>he?se[he]:null}"string"==typeof P&&(C+=2)}return null}(e,i,_,d.index)),null!==Bs)(Bs.__ngLastListenerFn__||Bs).__ngNextListenerFn__=C,Bs.__ngLastListenerFn__=C,cn=!1;else{C=QI(d,i,nt,C),XI(Hn,_,C);const Eo=s.listen(vi,_,C);zt.push(C,Eo),Ge&&Ge.push(_,Yn,Si,Si+1)}}else C=QI(d,i,nt,C);const gn=d.outputs;let On;if(cn&&null!==gn&&(On=gn[_])){const Hn=On.length;if(Hn)for(let vi=0;vi<Hn;vi+=2){const hr=i[On[vi]][On[vi+1]].subscribe(C),Fa=zt.length;zt.push(C,hr),Ge&&Ge.push(_,d.index,Fa,-(Fa+1))}}}function YI(e,i,s,d){const _=E(null);try{return El(6,i,s),!1!==s(d)}catch(C){return v0(e,C),!1}finally{El(7,i,s),E(_)}}function QI(e,i,s,d){return function _(C){if(C===Function)return d;Jf(e.componentOffset>-1?wa(e.index,i):i,5);let se=YI(i,s,d,C),he=_.__ngNextListenerFn__;for(;he;)se=YI(i,s,he,C)&&se,he=he.__ngNextListenerFn__;return se}}function JI(e=1){return function Sp(e){return(Ze.lFrame.contextLView=function Ep(e,i){for(;e>0;)i=i[Id],e--;return i}(e,Ze.lFrame.contextLView))[No]}(e)}function Wx(e,i){let s=null;const d=function Hh(e){const i=e.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(e);for(let _=0;_<i.length;_++){const C=i[_];if("*"!==C){if(null===d?ap(e,C,!0):Xc(d,C))return _}else s=_}return s}function ZI(e){const i=Kn()[io][Lo];if(!i.projection){const d=i.projection=function gl(e,i){const s=[];for(let d=0;d<e;d++)s.push(i);return s}(e?e.length:1,null),_=d.slice();let C=i.child;for(;null!==C;){if(128!==C.type){const P=e?Wx(C,e):0;null!==P&&(_[P]?_[P].projectionNext=C:d[P]=C,_[P]=C)}C=C.next}}}function qI(e,i=0,s,d,_,C){const P=Kn(),se=Fs(),he=d?e+1:null;null!==he&&Vg(P,se,he,d,_,C,null,s);const Ge=Fi(se,Xi+e,16,null,s||null);null===Ge.projection&&(Ge.projection=i),Bo();const zt=!P[Fr]||Js();null===P[io][Lo].projection[Ge.projection]&&null!==he?function Xx(e,i,s){const d=Xi+s,_=i.data[d],C=e[d],P=ru(C,_.tView.ssrId);su(C,Ea(e,_,void 0,{dehydratedView:P}),0,Fh(_,P))}(P,se,he):zt&&32&~Ge.flags&&function ug(e,i,s){b_(i[_s],0,i,s,__(e,s,i),m_(s.parent||i[Lo],s,i))}(se,P,Ge)}function d2(e,i,s,d){Zb(e,i,s,d)}function u2(e,i,s){!function kg(e,i,s){const d=Fs();return d.firstCreatePass&&(Gu(d,new dC(e,i,s),-1),!(2&~i)&&(d.staticViewQueries=!0)),Jb(d,Kn(),i)}(e,i,s)}function h2(e){const i=Kn(),s=Fs(),d=uh();Cp(d+1);const _=L0(s,d);if(e.dirty&&function H_(e){return!(4&~e[Pi])}(i)===!(2&~_.metadata.flags)){if(null===_.matches)e.reset([]);else{const C=uC(i,d);e.reset(C,Dv),e.notifyOnChanges()}return!0}return!1}function f2(){return P0(Kn(),uh())}function p2(e,i,s,d,_){!function vC(e,i){const s=e[b];s._lView=Kn(),s._queryIndex=i,s._queryList=P0(s._lView,i),s._queryList.onDirty(()=>s._dirtyCounter.update(d=>d+1))}(i,Zb(e,s,d,_))}function _2(e=1){Cp(uh()+e)}function m2(e){return xc(function lf(){return Ze.lFrame.contextLView}(),Xi+e)}function D2(e,i=""){const s=Kn(),d=Fs(),_=e+Xi,C=d.firstCreatePass?Fi(d,_,1,i,null):d.data[_],P=I2(d,s,C,i,e);s[_]=P,ph()&&xh(d,s,P,C),Ul(C,!1)}let I2=(e,i,s,d,_)=>(Jr(!0),sg(i[_s],d));function lD(e){return _T("",e,""),lD}function _T(e,i,s){const d=Kn(),_=o(d,e,i,s);return _!==B&&yo(d,Aa(),_),_T}function cD(e,i,s,d,_){const C=Kn(),P=function a(e,i,s,d,_,C){const se=au(e,cc(),s,_);return Nd(2),se?i+Ot(s)+d+Ot(_)+C:B}(C,e,i,s,d,_);return P!==B&&yo(C,Aa(),P),cD}function dD(e,i,s,d,_,C,P){const se=Kn(),he=function h(e,i,s,d,_,C,P,se){const Ge=z0(e,cc(),s,_,P);return Nd(3),Ge?i+Ot(s)+d+Ot(_)+C+Ot(P)+se:B}(se,e,i,s,d,_,C,P);return he!==B&&yo(se,Aa(),he),dD}function uD(e,i,s,d,_,C,P,se,he){const Ge=Kn(),nt=function g(e,i,s,d,_,C,P,se,he,Ge){const zt=Bc(e,cc(),s,_,P,he);return Nd(4),zt?i+Ot(s)+d+Ot(_)+C+Ot(P)+se+Ot(he)+Ge:B}(Ge,e,i,s,d,_,C,P,se,he);return nt!==B&&yo(Ge,Aa(),nt),uD}function hD(e,i,s){N0(i)&&(i=i());const d=Kn();return yr(d,Ac(),i)&&Yl(Fs(),Yo(),d,e,i,d[_s],s,!1),hD}function k2(e,i){const s=N0(e);return s&&e.set(i),s}function fD(e,i){const s=Kn(),d=Fs(),_=ko();return oD(d,s,s[_s],_,e,i),fD}function pD(e,i,s,d,_){if(e=Ji(e),Array.isArray(e))for(let C=0;C<e.length;C++)pD(e[C],i,s,d,_);else{const C=Fs(),P=Kn(),se=ko();let he=hu(e)?e:Ji(e.provide);const Ge=Sd(e),nt=1048575&se.providerIndexes,zt=se.directiveStart,cn=se.providerIndexes>>20;if(hu(e)||!e.multi){const gn=new mh(Ge,_,Et),On=mD(he,i,_?nt:nt+cn,zt);-1===On?(df(dd(se,P),C,he),_D(C,e,i.length),i.push(he),se.directiveStart++,se.directiveEnd++,_&&(se.providerIndexes+=1048576),s.push(gn),P.push(gn)):(s[On]=gn,P[On]=gn)}else{const gn=mD(he,i,nt+cn,zt),On=mD(he,i,nt,nt+cn),vi=On>=0&&s[On];if(_&&!vi||!_&&!(gn>=0&&s[gn])){df(dd(se,P),C,he);const Si=function uA(e,i,s,d,_){const C=new mh(e,s,Et);return C.multi=[],C.index=i,C.componentProviders=0,L2(C,_,d&&!s),C}(_?dA:cA,s.length,_,d,Ge);!_&&vi&&(s[On].providerFactory=Si),_D(C,e,i.length,0),i.push(he),se.directiveStart++,se.directiveEnd++,_&&(se.providerIndexes+=1048576),s.push(Si),P.push(Si)}else _D(C,e,gn>-1?gn:On,L2(s[_?On:gn],Ge,!_&&d));!_&&d&&vi&&s[On].componentProviders++}}}function _D(e,i,s,d){const _=hu(i),C=function Ny(e){return!!e.useClass}(i);if(_||C){const he=(C?Ji(i.useClass):i).prototype.ngOnDestroy;if(he){const Ge=e.destroyHooks||(e.destroyHooks=[]);if(!_&&i.multi){const nt=Ge.indexOf(s);-1===nt?Ge.push(s,[d,he]):Ge[nt+1].push(d,he)}else Ge.push(s,he)}}}function L2(e,i,s){return s&&e.componentProviders++,e.multi.push(i)-1}function mD(e,i,s,d){for(let _=s;_<d;_++)if(i[_]===e)return _;return-1}function cA(e,i,s,d){return gD(this.multi,[])}function dA(e,i,s,d){const _=this.multi;let C;if(this.providerFactory){const P=this.providerFactory.componentProviders,se=$i(s,s[ui],this.providerFactory.index,d);C=se.slice(0,P),gD(_,C);for(let he=P;he<se.length;he++)C.push(se[he])}else C=[],gD(_,C);return C}function gD(e,i){for(let s=0;s<e.length;s++)i.push((0,e[s])());return i}function N2(e,i=[]){return s=>{s.providersResolver=(d,_)=>function lA(e,i,s){const d=Fs();if(d.firstCreatePass){const _=vr(e);pD(s,d.data,d.blueprint,_,!0),pD(i,d.data,d.blueprint,_,!1)}}(d,_?_(e):e,i)}}let hA=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const d=eh(0,s.type),_=d.length>0?ry([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,_)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ns({token:e,providedIn:"environment",factory:()=>new e(Es(Ar))})}return e})();function B2(e){Ua("NgStandalone"),e.getStandaloneInjector=i=>i.get(hA).getOrCreateStandaloneInjector(e)}function $2(e,i,s){const d=e.\u0275cmp;d.directiveDefs=Ll(i,!1),d.pipeDefs=Ll(s,!0)}function V2(e,i,s){const d=xa()+e,_=Kn();return _[d]===B?ka(_,d,s?i.call(s):i()):Nc(_,d)}function G2(e,i,s,d){return Q2(Kn(),xa(),e,i,s,d)}function K2(e,i,s,d,_){return J2(Kn(),xa(),e,i,s,d,_)}function z2(e,i,s,d,_,C){return Z2(Kn(),xa(),e,i,s,d,_,C)}function W2(e,i,s,d,_,C,P){return function q2(e,i,s,d,_,C,P,se,he){const Ge=i+s;return Bc(e,Ge,_,C,P,se)?ka(e,Ge+4,he?d.call(he,_,C,P,se):d(_,C,P,se)):wy(e,Ge+4)}(Kn(),xa(),e,i,s,d,_,C,P)}function X2(e,i,s,d,_,C,P,se){const he=xa()+e,Ge=Kn(),nt=Bc(Ge,he,s,d,_,C);return yr(Ge,he+4,P)||nt?ka(Ge,he+5,se?i.call(se,s,d,_,C,P):i(s,d,_,C,P)):Nc(Ge,he+5)}function H2(e,i,s,d,_,C,P,se,he,Ge){const nt=xa()+e,zt=Kn();let cn=Bc(zt,nt,s,d,_,C);return z0(zt,nt+4,P,se,he)||cn?ka(zt,nt+7,Ge?i.call(Ge,s,d,_,C,P,se,he):i(s,d,_,C,P,se,he)):Nc(zt,nt+7)}function Y2(e,i,s,d,_,C,P,se,he,Ge,nt){const zt=xa()+e,cn=Kn(),gn=Bc(cn,zt,s,d,_,C);return Bc(cn,zt+4,P,se,he,Ge)||gn?ka(cn,zt+8,nt?i.call(nt,s,d,_,C,P,se,he,Ge):i(s,d,_,C,P,se,he,Ge)):Nc(cn,zt+8)}function wy(e,i){const s=e[i];return s===B?void 0:s}function Q2(e,i,s,d,_,C){const P=i+s;return yr(e,P,_)?ka(e,P+1,C?d.call(C,_):d(_)):wy(e,P+1)}function J2(e,i,s,d,_,C,P){const se=i+s;return au(e,se,_,C)?ka(e,se+2,P?d.call(P,_,C):d(_,C)):wy(e,se+2)}function Z2(e,i,s,d,_,C,P,se){const he=i+s;return z0(e,he,_,C,P)?ka(e,he+3,se?d.call(se,_,C,P):d(_,C,P)):wy(e,he+3)}function tO(e,i){const s=Fs();let d;const _=e+Xi;s.firstCreatePass?(d=function gA(e,i){if(i)for(let s=i.length-1;s>=0;s--){const d=i[s];if(e===d.name)return d}}(i,s.pipeRegistry),s.data[_]=d,d.onDestroy&&(s.destroyHooks??=[]).push(_,d.onDestroy)):d=s.data[_];const C=d.factory||(d.factory=_r(d.type)),se=rs(Et);try{const he=dc(!1),Ge=C();return dc(he),function aD(e,i,s,d){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),i[s]=d}(s,Kn(),_,Ge),Ge}finally{rs(se)}}function nO(e,i,s){const d=e+Xi,_=Kn(),C=xc(_,d);return xy(_,d)?Q2(_,xa(),i,C.transform,s,C):C.transform(s)}function iO(e,i,s,d){const _=e+Xi,C=Kn(),P=xc(C,_);return xy(C,_)?J2(C,xa(),i,P.transform,s,d,P):P.transform(s,d)}function sO(e,i,s,d,_){const C=e+Xi,P=Kn(),se=xc(P,C);return xy(P,C)?Z2(P,xa(),i,se.transform,s,d,_,se):se.transform(s,d,_)}function xy(e,i){return e[ui].data[i].pure}function oO(e,i){return ja(e,i)}class EO{constructor(i){this.full=i;const s=i.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}const UA=new EO("18.2.3");let CO=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const IO=new os(""),OO=new os("");let TD,fR=(()=>{class e{constructor(s,d,_){this._ngZone=s,this.registry=d,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,TD||(function pR(e){TD=e}(_),_.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,_){let C=-1;d&&d>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==C),s()},d)),this._callbacks.push({doneCb:s,timeoutId:C,updateCb:_})}whenStable(s,d,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,_),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,_){return[]}static#e=this.\u0275fac=function(d){return new(d||e)(Es(Uo),Es(wO),Es(OO))};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac})}return e})(),wO=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return TD?.findTestabilityInTree(this,s,d)??null}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function SD(e){return!!e&&"function"==typeof e.then}function xO(e){return!!e&&"function"==typeof e.subscribe}const AO=new os("");let RO=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,d)=>{this.resolve=s,this.reject=d}),this.appInits=Zn(AO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const _ of this.appInits){const C=_();if(SD(C))s.push(C);else if(xO(C)){const P=new Promise((se,he)=>{C.subscribe({complete:se,error:he})});s.push(P)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{d()}).catch(_=>{this.reject(_)}),0===s.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yT=new os("");function FO(e,i){return Array.isArray(i)?i.reduce(FO,e):{...e,...i}}let Kh=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zn(Cv),this.afterRenderManager=Zn(BC),this.zonelessEnabled=Zn(Og),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Pe.B7,this.afterTick=new Pe.B7,this.componentTypes=[],this.components=[],this.isStable=Zn(Kd).hasPendingTasks.pipe((0,tt.T)(s=>!s)),this._injector=Zn(Ar)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let s;return new Promise(d=>{s=this.isStable.subscribe({next:_=>{_&&d()}})}).finally(()=>{s.unsubscribe()})}get injector(){return this._injector}bootstrap(s,d){const _=s instanceof JE;if(!this._injector.get(RO).done)throw!_&&er(s),new di(405,!1);let P;P=_?s:this._injector.get(Bh).resolveComponentFactory(s),this.componentTypes.push(P.componentType);const se=function _R(e){return e.isBoundToModule}(P)?void 0:this._injector.get(yd),Ge=P.create(ca.NULL,[],d||P.selector,se),nt=Ge.location.nativeElement,zt=Ge.injector.get(IO,null);return zt?.registerApplication(nt),Ge.onDestroy(()=>{this.detachView(Ge.hostView),ET(this.components,Ge),zt?.unregisterApplication(nt)}),this._loadComponent(Ge),Ge}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new di(101,!1);const s=E(null);try{this._runningTick=!0,this.synchronize()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1,E(s),this.afterTick.next()}}synchronize(){let s=null;this._injector.destroyed||(s=this._injector.get($b,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let d=0;for(;0!==this.dirtyFlags&&d++<10;)this.synchronizeOnce(s)}synchronizeOnce(s){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const d=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(d);for(let{_lView:_,notifyErrorHandler:C}of this._views)vR(_,C,d,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else s?.begin?.(),s?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>Ld(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;ET(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(yT,[]);[...this._bootstrapListeners,...d].forEach(_=>_(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ET(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new di(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ET(e,i){const s=e.indexOf(i);s>-1&&e.splice(s,1)}function vR(e,i,s,d){(s||Ld(e))&&y0(e,i,s&&!d?0:1)}class bR{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let yR=(()=>{class e{compileModuleSync(s){return new oy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),C=Hl(po(s).declarations).reduce((P,se)=>{const he=oi(se);return he&&P.push(new tp(he)),P},[]);return new bR(d,C)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TR=(()=>{class e{constructor(){this.zone=Zn(Uo),this.changeDetectionScheduler=Zn(D_),this.applicationRef=Zn(Kh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MD({ngZoneFactory:e,ignoreChangesOutsideZone:i,scheduleInRootZone:s}){return e??=()=>new Uo({...DD(),scheduleInRootZone:s}),[{provide:Uo,useFactory:e},{provide:al,multi:!0,useFactory:()=>{const d=Zn(TR,{optional:!0});return()=>d.initialize()}},{provide:al,multi:!0,useFactory:()=>{const d=Zn(MR);return()=>{d.initialize()}}},!0===i?{provide:QE,useValue:!0}:[],{provide:Bb,useValue:s??ff}]}function DD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let MR=(()=>{class e{constructor(){this.subscription=new St.y,this.initialized=!1,this.zone=Zn(Uo),this.pendingTasks=Zn(Kd)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ky=(()=>{class e{constructor(){this.appRef=Zn(Kh),this.taskService=Zn(Kd),this.ngZone=Zn(Uo),this.zonelessEnabled=Zn(Og),this.disableScheduling=Zn(QE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new St.y,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Zn(Bb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Em||!this.zoneIsDefined)}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const d=this.useMicrotaskScheduler?zd:vv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(d){throw this.taskService.remove(s),d}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const s=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(s)}}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const OD=new os("",{providedIn:"root",factory:()=>Zn(OD,si.Optional|si.SkipSelf)||function DR(){return typeof $localize<"u"&&$localize.locale||uT}()}),IR=new os("",{providedIn:"root",factory:()=>"USD"}),wD=new os("");function TT(e){return!!e.platformInjector}let UO=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const _=d?.scheduleInRootZone,P=d?.ignoreChangesOutsideZone,se=[MD({ngZoneFactory:()=>function Ev(e="zone.js",i){return"noop"===e?new Em:"zone.js"===e?new Uo(i):e}(d?.ngZone,{...DD({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}),scheduleInRootZone:_}),ignoreChangesOutsideZone:P}),{provide:D_,useExisting:ky}],he=function dM(e,i,s){return new $g(e,i,s,!1)}(s.moduleType,this.injector,se);return function jO(e){const i=TT(e)?e.r3Injector:e.moduleRef.injector,s=i.get(Uo);return s.run(()=>{TT(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const d=i.get(Gl,null);let _;if(s.runOutsideAngular(()=>{_=s.onError.subscribe({next:C=>{d.handleError(C)}})}),TT(e)){const C=()=>i.destroy(),P=e.platformInjector.get(wD);P.add(C),i.onDestroy(()=>{_.unsubscribe(),P.delete(C)})}else e.moduleRef.onDestroy(()=>{ET(e.allPlatformModules,e.moduleRef),_.unsubscribe()});return function gR(e,i,s){try{const d=s();return SD(d)?d.catch(_=>{throw i.runOutsideAngular(()=>e.handleError(_)),_}):d}catch(d){throw i.runOutsideAngular(()=>e.handleError(d)),d}}(d,s,()=>{const C=i.get(RO);return C.runInitializers(),C.donePromise.then(()=>{if(function dx(e){"string"==typeof e&&(wI=e.toLowerCase().replace(/_/g,"-"))}(i.get(OD,uT)||uT),TT(e)){const se=i.get(Kh);return void 0!==e.rootComponent&&se.bootstrap(e.rootComponent),se}return function RR(e,i){const s=e.injector.get(Kh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(d=>s.bootstrap(d));else{if(!e.instance.ngDoBootstrap)throw new di(-403,!1);e.instance.ngDoBootstrap(s)}i.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:he,allPlatformModules:this._modules})}bootstrapModule(s,d=[]){const _=FO({},d);return function CR(e,i,s){const d=new oy(s);return Promise.resolve(d)}(0,0,s).then(C=>this.bootstrapModuleFactory(C,_))}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new di(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(wD,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||e)(Es(ca))};static#t=this.\u0275prov=ns({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),L_=null;const VO=new os("");function GO(e,i,s=[]){const d=`Platform: ${i}`,_=new os(d);return(C=[])=>{let P=xD();if(!P||P.injector.get(VO,!1)){const se=[...s,...C,{provide:_,useValue:!0}];e?e(se):function kR(e){if(L_&&!L_.get(VO,!1))throw new di(400,!1);(function kO(){!function L(e){Q=e}(()=>{throw new di(600,!1)})})(),L_=e;const i=e.get(UO);(function zO(e){e.get(Pm,null)?.forEach(s=>s())})(e)}(function KO(e=[],i){return ca.create({name:i,providers:[{provide:Tr,useValue:"platform"},{provide:wD,useValue:new Set([()=>L_=null])},...e]})}(se,d))}return function FR(){const i=xD();if(!i)throw new di(401,!1);return i}()}}function xD(){return L_?.get(UO)??null}function LR(){}let XO=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=NR}return e})();function NR(e){return function BR(e,i,s){if(Ad(e)&&!s){const d=wa(e.index,i);return new _g(d,d)}return 175&e.type?new _g(i[io],i):null}(ko(),Kn(),!(16&~e))}class JO{constructor(){}supports(i){return jg(i)}create(i){return new GR(i)}}const VR=(e,i)=>i;class GR{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||VR}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,d=this._removalsHead,_=0,C=null;for(;s||d;){const P=!d||s&&s.currentIndex<qO(d,_,C)?s:d,se=qO(P,_,C),he=P.currentIndex;if(P===d)_--,d=d._nextRemoved;else if(s=s._next,null==P.previousIndex)_++;else{C||(C=[]);const Ge=se-_,nt=he-_;if(Ge!=nt){for(let cn=0;cn<Ge;cn++){const gn=cn<C.length?C[cn]:C[cn]=0,On=gn+cn;nt<=On&&On<Ge&&(C[cn]=gn+1)}C[P.previousIndex]=nt-Ge}}se!==he&&i(P,se,he)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!jg(i))throw new di(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let _,C,P,s=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let se=0;se<this.length;se++)C=i[se],P=this._trackByFn(se,C),null!==s&&Object.is(s.trackById,P)?(d&&(s=this._verifyReinsertion(s,C,P,se)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,P,se),d=!0),s=s._next}else _=0,function fM(e,i){if(Array.isArray(e))for(let s=0;s<e.length;s++)i(e[s]);else{const s=e[Symbol.iterator]();let d;for(;!(d=s.next()).done;)i(d.value)}}(i,se=>{P=this._trackByFn(_,se),null!==s&&Object.is(s.trackById,P)?(d&&(s=this._verifyReinsertion(s,se,P,_)),Object.is(s.item,se)||this._addIdentityChange(s,se)):(s=this._mismatch(s,se,P,_),d=!0),s=s._next,_++}),this.length=_;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,d,_){let C;return null===i?C=this._itTail:(C=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,C,_)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,_))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,C,_)):i=this._addAfter(new KR(s,d),C,_),i}_verifyReinsertion(i,s,d,_){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==C?i=this._reinsertAfter(C,i._prev,_):i.currentIndex!=_&&(i.currentIndex=_,this._addToMoves(i,_)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const _=i._prevRemoved,C=i._nextRemoved;return null===_?this._removalsHead=C:_._nextRemoved=C,null===C?this._removalsTail=_:C._prevRemoved=_,this._insertAfter(i,s,d),this._addToMoves(i,d),i}_moveAfter(i,s,d){return this._unlink(i),this._insertAfter(i,s,d),this._addToMoves(i,d),i}_addAfter(i,s,d){return this._insertAfter(i,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,d){const _=null===s?this._itHead:s._next;return i._next=_,i._prev=s,null===_?this._itTail=i:_._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new ZO),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,d=i._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZO),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class KR{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zR{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const s=i._prevDup,d=i._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class ZO{constructor(){this.map=new Map}put(i){const s=i.trackById;let d=this.map.get(s);d||(d=new zR,this.map.set(s,d)),d.add(i)}get(i,s){const _=this.map.get(i);return _?_.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qO(e,i,s){const d=e.previousIndex;if(null===d)return d;let _=0;return s&&d<s.length&&(_=s[d]),d+i+_}class ew{constructor(){}supports(i){return i instanceof Map||Ug(i)}create(){return new WR}}class WR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Ug(i)))throw new di(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,_)=>{if(s&&s.key===_)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const C=this._getOrCreateRecordForKey(_,d);s=this._insertBeforeOrAppend(s,C)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const d=i._prev;return s._next=i,s._prev=d,i._prev=s,d&&(d._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const _=this._records.get(i);this._maybeAddToChanges(_,s);const C=_._prev,P=_._next;return C&&(C._next=P),P&&(P._prev=C),_._next=null,_._prev=null,_}const d=new XR(i);return this._records.set(i,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(d=>s(i[d],d))}}class XR{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tw(){return new PD([new JO])}let PD=(()=>{class e{static#e=this.\u0275prov=ns({token:e,providedIn:"root",factory:tw});constructor(s){this.factories=s}static create(s,d){if(null!=d){const _=d.factories.slice();s=s.concat(_)}return new e(s)}static extend(s){return{provide:e,useFactory:d=>e.create(s,d||tw()),deps:[[e,new oa,new Pa]]}}find(s){const d=this.factories.find(_=>_.supports(s));if(null!=d)return d;throw new di(901,!1)}}return e})();function nw(){return new LD([new ew])}let LD=(()=>{class e{static#e=this.\u0275prov=ns({token:e,providedIn:"root",factory:nw});constructor(s){this.factories=s}static create(s,d){if(d){const _=d.factories.slice();s=s.concat(_)}return new e(s)}static extend(s){return{provide:e,useFactory:d=>e.create(s,d||nw()),deps:[[e,new oa,new Pa]]}}find(s){const d=this.factories.find(_=>_.supports(s));if(d)return d;throw new di(901,!1)}}return e})();const QR=GO(null,"core",[]);let JR=(()=>{class e{constructor(s){}static#e=this.\u0275fac=function(d){return new(d||e)(Es(Kh))};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=qo({})}return e})();const vw=new os("");function Ok(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function wk(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function Ak(e,i){Ua("NgSignals");const s=te(e);return i?.equal&&(s[b].equal=i.equal),s}function Rk(e){const i=E(null);try{return e()}finally{E(i)}}const kk=new os("",{providedIn:"root",factory:()=>Zn(Fk)});let Fk=(()=>{class e{static#e=this.\u0275prov=ns({token:e,providedIn:"root",factory:()=>new Pk})}return e})();class Pk{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Zn(Kd),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const s=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(s),this.taskId=null})}}enqueue(i){const s=i.creationZone;this.queues.has(s)||this.queues.set(s,new Set);const d=this.queues.get(s);d.has(i)||(this.queuedEffectCount++,d.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,s]of this.queues)null===i?this.flushQueue(s):i.run(()=>this.flushQueue(s))}flushQueue(i){for(const s of i)i.delete(s),this.queuedEffectCount--,s.run()}}class Lk{constructor(i,s,d,_,C,P){this.scheduler=i,this.effectFn=s,this.creationZone=d,this.injector=C,this.watcher=function Ae(e,i,s){const d=Object.create(_e);s&&(d.consumerAllowSignalWrites=!0),d.fn=e,d.schedule=i;const _=he=>{d.cleanupFn=he};return d.ref={notify:()=>V(d),run:()=>{if(null===d.fn)return;if(function S(){return p}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(d.dirty=!1,d.hasRun&&!U(d))return;d.hasRun=!0;const he=K(d);try{d.cleanupFn(),d.cleanupFn=we,d.fn(_)}finally{ne(d,he)}},cleanup:()=>d.cleanupFn(),destroy:()=>function P(he){(function C(he){return null===he.fn&&null===he.schedule})(he)||(c(he),he.cleanupFn(),he.fn=null,he.schedule=null,he.cleanupFn=we)}(d),[b]:d},d.ref}(se=>this.runEffect(se),()=>this.schedule(),P),this.unregisterOnDestroy=_?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(s){this.injector.get(Gl,null,{optional:!0})?.handleError(s)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Ow(e,i){Ua("NgSignals"),!i?.injector&&jo();const s=i?.injector??Zn(ca),d=!0!==i?.manualCleanup?s.get(Qn):null,_=new Lk(s.get(kk),e,typeof Zone>"u"?null:Zone.current,d,s,i?.allowSignalWrites??!1),C=s.get(XO,null,{optional:!0});return C&&8&C._lView[Pi]?(C._lView[gr]??=[]).push(_.watcher.notify):_.watcher.notify(),_}function Nk(e){const i=oi(e);if(!i)return null;const s=new tp(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},9417:(jt,Se,l)=>{"use strict";l.d(Se,{$R:()=>Bt,BC:()=>ln,JD:()=>Wi,MJ:()=>es,Q0:()=>pr,X1:()=>sn,YN:()=>Ye,YS:()=>Po,cV:()=>ci,cb:()=>Mn,cz:()=>ne,gE:()=>He,j4:()=>wo,k0:()=>Z,kq:()=>u,me:()=>f,qT:()=>fr,tU:()=>Al,vO:()=>Pe,vS:()=>ro,xq:()=>Vr});var t=l(3953),n=l(177),p=l(4787),v=l(696),b=l(5286),E=l(5006);let M=(()=>{class De{constructor(Ce,Mt){this._renderer=Ce,this._elementRef=Mt,this.onChange=rn=>{},this.onTouched=()=>{}}setProperty(Ce,Mt){this._renderer.setProperty(this._elementRef.nativeElement,Ce,Mt)}registerOnTouched(Ce){this.onTouched=Ce}registerOnChange(Ce){this.onChange=Ce}setDisabledState(Ce){this.setProperty("disabled",Ce)}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:De})}return De})(),S=(()=>{class De extends M{static#e=this.\u0275fac=(()=>{let Ce;return function(rn){return(Ce||(Ce=t.xGo(De)))(rn||De)}})();static#t=this.\u0275dir=t.FsC({type:De,features:[t.Vt3]})}return De})();const u=new t.nKC(""),T={provide:u,useExisting:(0,t.Rfq)(()=>f),multi:!0},D=new t.nKC("");let f=(()=>{class De extends M{constructor(Ce,Mt,rn){super(Ce,Mt),this._compositionMode=rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w(){const De=(0,n.QT)()?(0,n.QT)().getUserAgent():"";return/android (\d+)/.test(De.toLowerCase())}())}writeValue(Ce){this.setProperty("value",Ce??"")}_handleInput(Ce){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Ce)}_compositionStart(){this._composing=!0}_compositionEnd(Ce){this._composing=!1,this._compositionMode&&this.onChange(Ce)}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(D,8))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Mt,rn){1&Mt&&t.bIt("input",function(ss){return rn._handleInput(ss.target.value)})("blur",function(){return rn.onTouched()})("compositionstart",function(){return rn._compositionStart()})("compositionend",function(ss){return rn._compositionEnd(ss.target.value)})},features:[t.Jv_([T]),t.Vt3]})}return De})();function V(De){return null==De||("string"==typeof De||Array.isArray(De))&&0===De.length}function K(De){return null!=De&&"number"==typeof De.length}const ne=new t.nKC(""),U=new t.nKC(""),c=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Z{static min(Ve){return function F(De){return Ve=>{if(V(Ve.value)||V(De))return null;const Ce=parseFloat(Ve.value);return!isNaN(Ce)&&Ce<De?{min:{min:De,actual:Ve.value}}:null}}(Ve)}static max(Ve){return function J(De){return Ve=>{if(V(Ve.value)||V(De))return null;const Ce=parseFloat(Ve.value);return!isNaN(Ce)&&Ce>De?{max:{max:De,actual:Ve.value}}:null}}(Ve)}static required(Ve){return z(Ve)}static requiredTrue(Ve){return X(Ve)}static email(Ve){return function $(De){return V(De.value)||c.test(De.value)?null:{email:!0}}(Ve)}static minLength(Ve){return function te(De){return Ve=>V(Ve.value)||!K(Ve.value)?null:Ve.value.length<De?{minlength:{requiredLength:De,actualLength:Ve.value.length}}:null}(Ve)}static maxLength(Ve){return G(Ve)}static pattern(Ve){return function oe(De){if(!De)return ce;let Ve,Ce;return"string"==typeof De?(Ce="","^"!==De.charAt(0)&&(Ce+="^"),Ce+=De,"$"!==De.charAt(De.length-1)&&(Ce+="$"),Ve=new RegExp(Ce)):(Ce=De.toString(),Ve=De),Mt=>{if(V(Mt.value))return null;const rn=Mt.value;return Ve.test(rn)?null:{pattern:{requiredPattern:Ce,actualValue:rn}}}}(Ve)}static nullValidator(Ve){return null}static compose(Ve){return fe(Ve)}static composeAsync(Ve){return Xe(Ve)}}function z(De){return V(De.value)?{required:!0}:null}function X(De){return!0===De.value?null:{required:!0}}function G(De){return Ve=>K(Ve.value)&&Ve.value.length>De?{maxlength:{requiredLength:De,actualLength:Ve.value.length}}:null}function ce(De){return null}function le(De){return null!=De}function ve(De){return(0,t.jNT)(De)?(0,p.H)(De):De}function Q(De){let Ve={};return De.forEach(Ce=>{Ve=null!=Ce?{...Ve,...Ce}:Ve}),0===Object.keys(Ve).length?null:Ve}function R(De,Ve){return Ve.map(Ce=>Ce(De))}function H(De){return De.map(Ve=>function L(De){return!De.validate}(Ve)?Ve:Ce=>Ve.validate(Ce))}function fe(De){if(!De)return null;const Ve=De.filter(le);return 0==Ve.length?null:function(Ce){return Q(R(Ce,Ve))}}function Ie(De){return null!=De?fe(H(De)):null}function Xe(De){if(!De)return null;const Ve=De.filter(le);return 0==Ve.length?null:function(Ce){const Mt=R(Ce,Ve).map(ve);return(0,v.p)(Mt).pipe((0,E.T)(Q))}}function bt(De){return null!=De?Xe(H(De)):null}function rt(De,Ve){return null===De?[Ve]:Array.isArray(De)?[...De,Ve]:[De,Ve]}function yt(De){return De._rawValidators}function ot(De){return De._rawAsyncValidators}function It(De){return De?Array.isArray(De)?De:[De]:[]}function Ae(De,Ve){return Array.isArray(De)?De.includes(Ve):De===Ve}function we(De,Ve){const Ce=It(Ve);return It(De).forEach(rn=>{Ae(Ce,rn)||Ce.push(rn)}),Ce}function _e(De,Ve){return It(Ve).filter(Ce=>!Ae(De,Ce))}class de{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ve){this._rawValidators=Ve||[],this._composedValidatorFn=Ie(this._rawValidators)}_setAsyncValidators(Ve){this._rawAsyncValidators=Ve||[],this._composedAsyncValidatorFn=bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ve){this._onDestroyCallbacks.push(Ve)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ve=>Ve()),this._onDestroyCallbacks=[]}reset(Ve=void 0){this.control&&this.control.reset(Ve)}hasError(Ve,Ce){return!!this.control&&this.control.hasError(Ve,Ce)}getError(Ve,Ce){return this.control?this.control.getError(Ve,Ce):null}}class Te extends de{get formDirective(){return null}get path(){return null}}class Pe extends de{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class St{constructor(Ve){this._cd=Ve}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ln=(()=>{class De extends St{constructor(Ce){super(Ce)}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(Pe,2))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Mt,rn){2&Mt&&t.AVh("ng-untouched",rn.isUntouched)("ng-touched",rn.isTouched)("ng-pristine",rn.isPristine)("ng-dirty",rn.isDirty)("ng-valid",rn.isValid)("ng-invalid",rn.isInvalid)("ng-pending",rn.isPending)},features:[t.Vt3]})}return De})(),Mn=(()=>{class De extends St{constructor(Ce){super(Ce)}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(Te,10))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Mt,rn){2&Mt&&t.AVh("ng-untouched",rn.isUntouched)("ng-touched",rn.isTouched)("ng-pristine",rn.isPristine)("ng-dirty",rn.isDirty)("ng-valid",rn.isValid)("ng-invalid",rn.isInvalid)("ng-pending",rn.isPending)("ng-submitted",rn.isSubmitted)},features:[t.Vt3]})}return De})();const nn="VALID",xn="INVALID",kn="PENDING",Gn="DISABLED";class hi{}class Ht extends hi{constructor(Ve,Ce){super(),this.value=Ve,this.source=Ce}}class dt extends hi{constructor(Ve,Ce){super(),this.pristine=Ve,this.source=Ce}}class Vt extends hi{constructor(Ve,Ce){super(),this.touched=Ve,this.source=Ce}}class ct extends hi{constructor(Ve,Ce){super(),this.status=Ve,this.source=Ce}}class kt extends hi{constructor(Ve){super(),this.source=Ve}}class qt extends hi{constructor(Ve){super(),this.source=Ve}}function un(De){return(Re(De)?De.validators:De)||null}function je(De,Ve){return(Re(Ve)?Ve.asyncValidators:De)||null}function Re(De){return null!=De&&!Array.isArray(De)&&"object"==typeof De}class ht{constructor(Ve,Ce){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,t.EWP)(()=>this.statusReactive()),this.statusReactive=(0,t.vPA)(void 0),this._pristine=(0,t.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,t.vPA)(!0),this._touched=(0,t.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,t.vPA)(!1),this._events=new b.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ve),this._assignAsyncValidators(Ce)}get validator(){return this._composedValidatorFn}set validator(Ve){this._rawValidators=this._composedValidatorFn=Ve}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ve){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ve}get parent(){return this._parent}get status(){return(0,t.O8t)(this.statusReactive)}set status(Ve){(0,t.O8t)(()=>this.statusReactive.set(Ve))}get valid(){return this.status===nn}get invalid(){return this.status===xn}get pending(){return this.status==kn}get disabled(){return this.status===Gn}get enabled(){return this.status!==Gn}get pristine(){return(0,t.O8t)(this.pristineReactive)}set pristine(Ve){(0,t.O8t)(()=>this.pristineReactive.set(Ve))}get dirty(){return!this.pristine}get touched(){return(0,t.O8t)(this.touchedReactive)}set touched(Ve){(0,t.O8t)(()=>this.touchedReactive.set(Ve))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ve){this._assignValidators(Ve)}setAsyncValidators(Ve){this._assignAsyncValidators(Ve)}addValidators(Ve){this.setValidators(we(Ve,this._rawValidators))}addAsyncValidators(Ve){this.setAsyncValidators(we(Ve,this._rawAsyncValidators))}removeValidators(Ve){this.setValidators(_e(Ve,this._rawValidators))}removeAsyncValidators(Ve){this.setAsyncValidators(_e(Ve,this._rawAsyncValidators))}hasValidator(Ve){return Ae(this._rawValidators,Ve)}hasAsyncValidator(Ve){return Ae(this._rawAsyncValidators,Ve)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ve={}){const Ce=!1===this.touched;this.touched=!0;const Mt=Ve.sourceControl??this;this._parent&&!Ve.onlySelf&&this._parent.markAsTouched({...Ve,sourceControl:Mt}),Ce&&!1!==Ve.emitEvent&&this._events.next(new Vt(!0,Mt))}markAllAsTouched(Ve={}){this.markAsTouched({onlySelf:!0,emitEvent:Ve.emitEvent,sourceControl:this}),this._forEachChild(Ce=>Ce.markAllAsTouched(Ve))}markAsUntouched(Ve={}){const Ce=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Mt=Ve.sourceControl??this;this._forEachChild(rn=>{rn.markAsUntouched({onlySelf:!0,emitEvent:Ve.emitEvent,sourceControl:Mt})}),this._parent&&!Ve.onlySelf&&this._parent._updateTouched(Ve,Mt),Ce&&!1!==Ve.emitEvent&&this._events.next(new Vt(!1,Mt))}markAsDirty(Ve={}){const Ce=!0===this.pristine;this.pristine=!1;const Mt=Ve.sourceControl??this;this._parent&&!Ve.onlySelf&&this._parent.markAsDirty({...Ve,sourceControl:Mt}),Ce&&!1!==Ve.emitEvent&&this._events.next(new dt(!1,Mt))}markAsPristine(Ve={}){const Ce=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Mt=Ve.sourceControl??this;this._forEachChild(rn=>{rn.markAsPristine({onlySelf:!0,emitEvent:Ve.emitEvent})}),this._parent&&!Ve.onlySelf&&this._parent._updatePristine(Ve,Mt),Ce&&!1!==Ve.emitEvent&&this._events.next(new dt(!0,Mt))}markAsPending(Ve={}){this.status=kn;const Ce=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new ct(this.status,Ce)),this.statusChanges.emit(this.status)),this._parent&&!Ve.onlySelf&&this._parent.markAsPending({...Ve,sourceControl:Ce})}disable(Ve={}){const Ce=this._parentMarkedDirty(Ve.onlySelf);this.status=Gn,this.errors=null,this._forEachChild(rn=>{rn.disable({...Ve,onlySelf:!0})}),this._updateValue();const Mt=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Ht(this.value,Mt)),this._events.next(new ct(this.status,Mt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ve,skipPristineCheck:Ce},this),this._onDisabledChange.forEach(rn=>rn(!0))}enable(Ve={}){const Ce=this._parentMarkedDirty(Ve.onlySelf);this.status=nn,this._forEachChild(Mt=>{Mt.enable({...Ve,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ve.emitEvent}),this._updateAncestors({...Ve,skipPristineCheck:Ce},this),this._onDisabledChange.forEach(Mt=>Mt(!1))}_updateAncestors(Ve,Ce){this._parent&&!Ve.onlySelf&&(this._parent.updateValueAndValidity(Ve),Ve.skipPristineCheck||this._parent._updatePristine({},Ce),this._parent._updateTouched({},Ce))}setParent(Ve){this._parent=Ve}getRawValue(){return this.value}updateValueAndValidity(Ve={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Mt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nn||this.status===kn)&&this._runAsyncValidator(Mt,Ve.emitEvent)}const Ce=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Ht(this.value,Ce)),this._events.next(new ct(this.status,Ce)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ve.onlySelf&&this._parent.updateValueAndValidity({...Ve,sourceControl:Ce})}_updateTreeValidity(Ve={emitEvent:!0}){this._forEachChild(Ce=>Ce._updateTreeValidity(Ve)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ve.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gn:nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ve,Ce){if(this.asyncValidator){this.status=kn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Ce};const Mt=ve(this.asyncValidator(this));this._asyncValidationSubscription=Mt.subscribe(rn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(rn,{emitEvent:Ce,shouldHaveEmitted:Ve})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ve=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ve}return!1}setErrors(Ve,Ce={}){this.errors=Ve,this._updateControlsErrors(!1!==Ce.emitEvent,this,Ce.shouldHaveEmitted)}get(Ve){let Ce=Ve;return null==Ce||(Array.isArray(Ce)||(Ce=Ce.split(".")),0===Ce.length)?null:Ce.reduce((Mt,rn)=>Mt&&Mt._find(rn),this)}getError(Ve,Ce){const Mt=Ce?this.get(Ce):this;return Mt&&Mt.errors?Mt.errors[Ve]:null}hasError(Ve,Ce){return!!this.getError(Ve,Ce)}get root(){let Ve=this;for(;Ve._parent;)Ve=Ve._parent;return Ve}_updateControlsErrors(Ve,Ce,Mt){this.status=this._calculateStatus(),Ve&&this.statusChanges.emit(this.status),(Ve||Mt)&&this._events.next(new ct(this.status,Ce)),this._parent&&this._parent._updateControlsErrors(Ve,Ce,Mt)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?Gn:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kn)?kn:this._anyControlsHaveStatus(xn)?xn:nn}_anyControlsHaveStatus(Ve){return this._anyControls(Ce=>Ce.status===Ve)}_anyControlsDirty(){return this._anyControls(Ve=>Ve.dirty)}_anyControlsTouched(){return this._anyControls(Ve=>Ve.touched)}_updatePristine(Ve,Ce){const Mt=!this._anyControlsDirty(),rn=this.pristine!==Mt;this.pristine=Mt,this._parent&&!Ve.onlySelf&&this._parent._updatePristine(Ve,Ce),rn&&this._events.next(new dt(this.pristine,Ce))}_updateTouched(Ve={},Ce){this.touched=this._anyControlsTouched(),this._events.next(new Vt(this.touched,Ce)),this._parent&&!Ve.onlySelf&&this._parent._updateTouched(Ve,Ce)}_registerOnCollectionChange(Ve){this._onCollectionChange=Ve}_setUpdateStrategy(Ve){Re(Ve)&&null!=Ve.updateOn&&(this._updateOn=Ve.updateOn)}_parentMarkedDirty(Ve){return!Ve&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ve){return null}_assignValidators(Ve){this._rawValidators=Array.isArray(Ve)?Ve.slice():Ve,this._composedValidatorFn=function Qe(De){return Array.isArray(De)?Ie(De):De||null}(this._rawValidators)}_assignAsyncValidators(Ve){this._rawAsyncValidators=Array.isArray(Ve)?Ve.slice():Ve,this._composedAsyncValidatorFn=function ze(De){return Array.isArray(De)?bt(De):De||null}(this._rawAsyncValidators)}}class He extends ht{constructor(Ve,Ce,Mt){super(un(Ce),je(Mt,Ce)),this.controls=Ve,this._initObservables(),this._setUpdateStrategy(Ce),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ve,Ce){return this.controls[Ve]?this.controls[Ve]:(this.controls[Ve]=Ce,Ce.setParent(this),Ce._registerOnCollectionChange(this._onCollectionChange),Ce)}addControl(Ve,Ce,Mt={}){this.registerControl(Ve,Ce),this.updateValueAndValidity({emitEvent:Mt.emitEvent}),this._onCollectionChange()}removeControl(Ve,Ce={}){this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),delete this.controls[Ve],this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}setControl(Ve,Ce,Mt={}){this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),delete this.controls[Ve],Ce&&this.registerControl(Ve,Ce),this.updateValueAndValidity({emitEvent:Mt.emitEvent}),this._onCollectionChange()}contains(Ve){return this.controls.hasOwnProperty(Ve)&&this.controls[Ve].enabled}setValue(Ve,Ce={}){(function We(De,Ve,Ce){De._forEachChild((Mt,rn)=>{if(void 0===Ce[rn])throw new t.wOt(1002,"")})})(this,0,Ve),Object.keys(Ve).forEach(Mt=>{(function it(De,Ve,Ce){const Mt=De.controls;if(!(Ve?Object.keys(Mt):Mt).length)throw new t.wOt(1e3,"");if(!Mt[Ce])throw new t.wOt(1001,"")})(this,!0,Mt),this.controls[Mt].setValue(Ve[Mt],{onlySelf:!0,emitEvent:Ce.emitEvent})}),this.updateValueAndValidity(Ce)}patchValue(Ve,Ce={}){null!=Ve&&(Object.keys(Ve).forEach(Mt=>{const rn=this.controls[Mt];rn&&rn.patchValue(Ve[Mt],{onlySelf:!0,emitEvent:Ce.emitEvent})}),this.updateValueAndValidity(Ce))}reset(Ve={},Ce={}){this._forEachChild((Mt,rn)=>{Mt.reset(Ve?Ve[rn]:null,{onlySelf:!0,emitEvent:Ce.emitEvent})}),this._updatePristine(Ce,this),this._updateTouched(Ce,this),this.updateValueAndValidity(Ce)}getRawValue(){return this._reduceChildren({},(Ve,Ce,Mt)=>(Ve[Mt]=Ce.getRawValue(),Ve))}_syncPendingControls(){let Ve=this._reduceChildren(!1,(Ce,Mt)=>!!Mt._syncPendingControls()||Ce);return Ve&&this.updateValueAndValidity({onlySelf:!0}),Ve}_forEachChild(Ve){Object.keys(this.controls).forEach(Ce=>{const Mt=this.controls[Ce];Mt&&Ve(Mt,Ce)})}_setUpControls(){this._forEachChild(Ve=>{Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ve){for(const[Ce,Mt]of Object.entries(this.controls))if(this.contains(Ce)&&Ve(Mt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ce,Mt,rn)=>((Mt.enabled||this.disabled)&&(Ce[rn]=Mt.value),Ce))}_reduceChildren(Ve,Ce){let Mt=Ve;return this._forEachChild((rn,yi)=>{Mt=Ce(Mt,rn,yi)}),Mt}_allControlsDisabled(){for(const Ve of Object.keys(this.controls))if(this.controls[Ve].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ve){return this.controls.hasOwnProperty(Ve)?this.controls[Ve]:null}}const yn=new t.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Vn}),Vn="always";function mi(De,Ve){return[...Ve.path,De]}function Oi(De,Ve,Ce=Vn){ji(De,Ve),Ve.valueAccessor.writeValue(De.value),(De.disabled||"always"===Ce)&&Ve.valueAccessor.setDisabledState?.(De.disabled),function xs(De,Ve){Ve.valueAccessor.registerOnChange(Ce=>{De._pendingValue=Ce,De._pendingChange=!0,De._pendingDirty=!0,"change"===De.updateOn&&jn(De,Ve)})}(De,Ve),function lt(De,Ve){const Ce=(Mt,rn)=>{Ve.valueAccessor.writeValue(Mt),rn&&Ve.viewToModelUpdate(Mt)};De.registerOnChange(Ce),Ve._registerOnDestroy(()=>{De._unregisterOnChange(Ce)})}(De,Ve),function Yi(De,Ve){Ve.valueAccessor.registerOnTouched(()=>{De._pendingTouched=!0,"blur"===De.updateOn&&De._pendingChange&&jn(De,Ve),"submit"!==De.updateOn&&De.markAsTouched()})}(De,Ve),function Ki(De,Ve){if(Ve.valueAccessor.setDisabledState){const Ce=Mt=>{Ve.valueAccessor.setDisabledState(Mt)};De.registerOnDisabledChange(Ce),Ve._registerOnDestroy(()=>{De._unregisterOnDisabledChange(Ce)})}}(De,Ve)}function Mi(De,Ve,Ce=!0){const Mt=()=>{};Ve.valueAccessor&&(Ve.valueAccessor.registerOnChange(Mt),Ve.valueAccessor.registerOnTouched(Mt)),ts(De,Ve),De&&(Ve._invokeOnDestroyCallbacks(),De._registerOnCollectionChange(()=>{}))}function wi(De,Ve){De.forEach(Ce=>{Ce.registerOnValidatorChange&&Ce.registerOnValidatorChange(Ve)})}function ji(De,Ve){const Ce=yt(De);null!==Ve.validator?De.setValidators(rt(Ce,Ve.validator)):"function"==typeof Ce&&De.setValidators([Ce]);const Mt=ot(De);null!==Ve.asyncValidator?De.setAsyncValidators(rt(Mt,Ve.asyncValidator)):"function"==typeof Mt&&De.setAsyncValidators([Mt]);const rn=()=>De.updateValueAndValidity();wi(Ve._rawValidators,rn),wi(Ve._rawAsyncValidators,rn)}function ts(De,Ve){let Ce=!1;if(null!==De){if(null!==Ve.validator){const rn=yt(De);if(Array.isArray(rn)&&rn.length>0){const yi=rn.filter(ss=>ss!==Ve.validator);yi.length!==rn.length&&(Ce=!0,De.setValidators(yi))}}if(null!==Ve.asyncValidator){const rn=ot(De);if(Array.isArray(rn)&&rn.length>0){const yi=rn.filter(ss=>ss!==Ve.asyncValidator);yi.length!==rn.length&&(Ce=!0,De.setAsyncValidators(yi))}}}const Mt=()=>{};return wi(Ve._rawValidators,Mt),wi(Ve._rawAsyncValidators,Mt),Ce}function jn(De,Ve){De._pendingDirty&&De.markAsDirty(),De.setValue(De._pendingValue,{emitModelToViewChange:!1}),Ve.viewToModelUpdate(De._pendingValue),De._pendingChange=!1}function At(De,Ve){ji(De,Ve)}function Fe(De,Ve){if(!De.hasOwnProperty("model"))return!1;const Ce=De.model;return!!Ce.isFirstChange()||!Object.is(Ve,Ce.currentValue)}function ut(De,Ve){De._syncPendingControls(),Ve.forEach(Ce=>{const Mt=Ce.control;"submit"===Mt.updateOn&&Mt._pendingChange&&(Ce.viewToModelUpdate(Mt._pendingValue),Mt._pendingChange=!1)})}function Pn(De,Ve){if(!Ve)return null;let Ce,Mt,rn;return Array.isArray(Ve),Ve.forEach(yi=>{yi.constructor===f?Ce=yi:function mt(De){return Object.getPrototypeOf(De.constructor)===S}(yi)?Mt=yi:rn=yi}),rn||Mt||Ce||null}const Sn={provide:Te,useExisting:(0,t.Rfq)(()=>ci)},Jn=Promise.resolve();let ci=(()=>{class De extends Te{get submitted(){return(0,t.O8t)(this.submittedReactive)}constructor(Ce,Mt,rn){super(),this.callSetDisabledState=rn,this._submitted=(0,t.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,t.vPA)(!1),this._directives=new Set,this.ngSubmit=new t.bkB,this.form=new He({},Ie(Ce),bt(Mt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Ce){Jn.then(()=>{const Mt=this._findContainer(Ce.path);Ce.control=Mt.registerControl(Ce.name,Ce.control),Oi(Ce.control,Ce,this.callSetDisabledState),Ce.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Ce)})}getControl(Ce){return this.form.get(Ce.path)}removeControl(Ce){Jn.then(()=>{const Mt=this._findContainer(Ce.path);Mt&&Mt.removeControl(Ce.name),this._directives.delete(Ce)})}addFormGroup(Ce){Jn.then(()=>{const Mt=this._findContainer(Ce.path),rn=new He({});At(rn,Ce),Mt.registerControl(Ce.name,rn),rn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Ce){Jn.then(()=>{const Mt=this._findContainer(Ce.path);Mt&&Mt.removeControl(Ce.name)})}getFormGroup(Ce){return this.form.get(Ce.path)}updateModel(Ce,Mt){Jn.then(()=>{this.form.get(Ce.path).setValue(Mt)})}setValue(Ce){this.control.setValue(Ce)}onSubmit(Ce){return this.submittedReactive.set(!0),ut(this.form,this._directives),this.ngSubmit.emit(Ce),"dialog"===Ce?.target?.method}onReset(){this.resetForm()}resetForm(Ce=void 0){this.form.reset(Ce),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Ce){return Ce.pop(),Ce.length?this.form.get(Ce):this.form}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(ne,10),t.rXU(U,10),t.rXU(yn,8))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Mt,rn){1&Mt&&t.bIt("submit",function(ss){return rn.onSubmit(ss)})("reset",function(){return rn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([Sn]),t.Vt3]})}return De})();function Li(De,Ve){const Ce=De.indexOf(Ve);Ce>-1&&De.splice(Ce,1)}function Ui(De){return"object"==typeof De&&null!==De&&2===Object.keys(De).length&&"value"in De&&"disabled"in De}const es=class extends ht{constructor(Ve=null,Ce,Mt){super(un(Ce),je(Mt,Ce)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ve),this._setUpdateStrategy(Ce),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Re(Ce)&&(Ce.nonNullable||Ce.initialValueIsDefault)&&(this.defaultValue=Ui(Ve)?Ve.value:Ve)}setValue(Ve,Ce={}){this.value=this._pendingValue=Ve,this._onChange.length&&!1!==Ce.emitModelToViewChange&&this._onChange.forEach(Mt=>Mt(this.value,!1!==Ce.emitViewToModelChange)),this.updateValueAndValidity(Ce)}patchValue(Ve,Ce={}){this.setValue(Ve,Ce)}reset(Ve=this.defaultValue,Ce={}){this._applyFormState(Ve),this.markAsPristine(Ce),this.markAsUntouched(Ce),this.setValue(this.value,Ce),this._pendingChange=!1}_updateValue(){}_anyControls(Ve){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ve){this._onChange.push(Ve)}_unregisterOnChange(Ve){Li(this._onChange,Ve)}registerOnDisabledChange(Ve){this._onDisabledChange.push(Ve)}_unregisterOnDisabledChange(Ve){Li(this._onDisabledChange,Ve)}_forEachChild(Ve){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ve){Ui(Ve)?(this.value=this._pendingValue=Ve.value,Ve.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ve}};let qs=(()=>{class De extends Te{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let Ce;return function(rn){return(Ce||(Ce=t.xGo(De)))(rn||De)}})();static#t=this.\u0275dir=t.FsC({type:De,features:[t.Vt3]})}return De})();const Ir={provide:Pe,useExisting:(0,t.Rfq)(()=>ro)},ir=Promise.resolve();let ro=(()=>{class De extends Pe{constructor(Ce,Mt,rn,yi,ss,Ns){super(),this._changeDetectorRef=ss,this.callSetDisabledState=Ns,this.control=new es,this._registered=!1,this.name="",this.update=new t.bkB,this._parent=Ce,this._setValidators(Mt),this._setAsyncValidators(rn),this.valueAccessor=Pn(0,yi)}ngOnChanges(Ce){if(this._checkForErrors(),!this._registered||"name"in Ce){if(this._registered&&(this._checkName(),this.formDirective)){const Mt=Ce.name.previousValue;this.formDirective.removeControl({name:Mt,path:this._getPath(Mt)})}this._setUpControl()}"isDisabled"in Ce&&this._updateDisabled(Ce),Fe(Ce,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Ce){this.viewModel=Ce,this.update.emit(Ce)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Ce){ir.then(()=>{this.control.setValue(Ce,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Ce){const Mt=Ce.isDisabled.currentValue,rn=0!==Mt&&(0,t.L39)(Mt);ir.then(()=>{rn&&!this.control.disabled?this.control.disable():!rn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Ce){return this._parent?mi(Ce,this._parent):[Ce]}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(Te,9),t.rXU(ne,10),t.rXU(U,10),t.rXU(u,10),t.rXU(t.gRc,8),t.rXU(yn,8))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.Jv_([Ir]),t.Vt3,t.OA$]})}return De})(),fr=(()=>{class De{static#e=this.\u0275fac=function(Mt){return new(Mt||De)};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return De})();const $r={provide:u,useExisting:(0,t.Rfq)(()=>pr),multi:!0};let pr=(()=>{class De extends S{writeValue(Ce){this.setProperty("value",Ce??"")}registerOnChange(Ce){this.onChange=Mt=>{Ce(""==Mt?null:parseFloat(Mt))}}static#e=this.\u0275fac=(()=>{let Ce;return function(rn){return(Ce||(Ce=t.xGo(De)))(rn||De)}})();static#t=this.\u0275dir=t.FsC({type:De,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Mt,rn){1&Mt&&t.bIt("input",function(ss){return rn.onChange(ss.target.value)})("blur",function(){return rn.onTouched()})},features:[t.Jv_([$r]),t.Vt3]})}return De})();const Do=new t.nKC(""),na={provide:Te,useExisting:(0,t.Rfq)(()=>wo)};let wo=(()=>{class De extends Te{get submitted(){return(0,t.O8t)(this._submittedReactive)}set submitted(Ce){this._submittedReactive.set(Ce)}constructor(Ce,Mt,rn){super(),this.callSetDisabledState=rn,this._submitted=(0,t.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,t.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.bkB,this._setValidators(Ce),this._setAsyncValidators(Mt)}ngOnChanges(Ce){this._checkFormPresent(),Ce.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ts(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Ce){const Mt=this.form.get(Ce.path);return Oi(Mt,Ce,this.callSetDisabledState),Mt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Ce),Mt}getControl(Ce){return this.form.get(Ce.path)}removeControl(Ce){Mi(Ce.control||null,Ce,!1),function Yt(De,Ve){const Ce=De.indexOf(Ve);Ce>-1&&De.splice(Ce,1)}(this.directives,Ce)}addFormGroup(Ce){this._setUpFormContainer(Ce)}removeFormGroup(Ce){this._cleanUpFormContainer(Ce)}getFormGroup(Ce){return this.form.get(Ce.path)}addFormArray(Ce){this._setUpFormContainer(Ce)}removeFormArray(Ce){this._cleanUpFormContainer(Ce)}getFormArray(Ce){return this.form.get(Ce.path)}updateModel(Ce,Mt){this.form.get(Ce.path).setValue(Mt)}onSubmit(Ce){return this._submittedReactive.set(!0),ut(this.form,this.directives),this.ngSubmit.emit(Ce),this.form._events.next(new kt(this.control)),"dialog"===Ce?.target?.method}onReset(){this.resetForm()}resetForm(Ce=void 0){this.form.reset(Ce),this._submittedReactive.set(!1),this.form._events.next(new qt(this.form))}_updateDomValue(){this.directives.forEach(Ce=>{const Mt=Ce.control,rn=this.form.get(Ce.path);Mt!==rn&&(Mi(Mt||null,Ce),(De=>De instanceof es)(rn)&&(Oi(rn,Ce,this.callSetDisabledState),Ce.control=rn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Ce){const Mt=this.form.get(Ce.path);At(Mt,Ce),Mt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Ce){if(this.form){const Mt=this.form.get(Ce.path);Mt&&function Ut(De,Ve){return ts(De,Ve)}(Mt,Ce)&&Mt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ji(this.form,this),this._oldForm&&ts(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(ne,10),t.rXU(U,10),t.rXU(yn,8))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","formGroup",""]],hostBindings:function(Mt,rn){1&Mt&&t.bIt("submit",function(ss){return rn.onSubmit(ss)})("reset",function(){return rn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([na]),t.Vt3,t.OA$]})}return De})();const Ne={provide:Te,useExisting:(0,t.Rfq)(()=>Bt)};let Bt=(()=>{class De extends qs{constructor(Ce,Mt,rn){super(),this.name=null,this._parent=Ce,this._setValidators(Mt),this._setAsyncValidators(rn)}_checkParentType(){zi(this._parent)}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(Te,13),t.rXU(ne,10),t.rXU(U,10))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[t.Jv_([Ne]),t.Vt3]})}return De})();const hn={provide:Te,useExisting:(0,t.Rfq)(()=>Nn)};let Nn=(()=>{class De extends Te{constructor(Ce,Mt,rn){super(),this.name=null,this._parent=Ce,this._setValidators(Mt),this._setAsyncValidators(rn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){zi(this._parent)}static#e=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(Te,13),t.rXU(ne,10),t.rXU(U,10))};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[t.Jv_([hn]),t.Vt3]})}return De})();function zi(De){return!(De instanceof Bt||De instanceof wo||De instanceof Nn)}const Ci={provide:Pe,useExisting:(0,t.Rfq)(()=>Wi)};let Wi=(()=>{class De extends Pe{set isDisabled(Ce){}static#e=this._ngModelWarningSentOnce=!1;constructor(Ce,Mt,rn,yi,ss){super(),this._ngModelWarningConfig=ss,this._added=!1,this.name=null,this.update=new t.bkB,this._ngModelWarningSent=!1,this._parent=Ce,this._setValidators(Mt),this._setAsyncValidators(rn),this.valueAccessor=Pn(0,yi)}ngOnChanges(Ce){this._added||this._setUpControl(),Fe(Ce,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Ce){this.viewModel=Ce,this.update.emit(Ce)}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Mt){return new(Mt||De)(t.rXU(Te,13),t.rXU(ne,10),t.rXU(U,10),t.rXU(u,10),t.rXU(Do,8))};static#n=this.\u0275dir=t.FsC({type:De,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[t.Jv_([Ci]),t.Vt3,t.OA$]})}return De})();let no=(()=>{class De{constructor(){this._validator=ce}ngOnChanges(Ce){if(this.inputName in Ce){const Mt=this.normalizeInput(Ce[this.inputName].currentValue);this._enabled=this.enabled(Mt),this._validator=this._enabled?this.createValidator(Mt):ce,this._onChange&&this._onChange()}}validate(Ce){return this._validator(Ce)}registerOnValidatorChange(Ce){this._onChange=Ce}enabled(Ce){return null!=Ce}static#e=this.\u0275fac=function(Mt){return new(Mt||De)};static#t=this.\u0275dir=t.FsC({type:De,features:[t.OA$]})}return De})();const rr={provide:ne,useExisting:(0,t.Rfq)(()=>Po),multi:!0},Or={provide:ne,useExisting:(0,t.Rfq)(()=>Vr),multi:!0};let Po=(()=>{class De extends no{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.L39,this.createValidator=Ce=>z}enabled(Ce){return Ce}static#e=this.\u0275fac=(()=>{let Ce;return function(rn){return(Ce||(Ce=t.xGo(De)))(rn||De)}})();static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Mt,rn){2&Mt&&t.BMQ("required",rn._enabled?"":null)},inputs:{required:"required"},features:[t.Jv_([rr]),t.Vt3]})}return De})(),Vr=(()=>{class De extends Po{constructor(){super(...arguments),this.createValidator=Ce=>X}static#e=this.\u0275fac=(()=>{let Ce;return function(rn){return(Ce||(Ce=t.xGo(De)))(rn||De)}})();static#t=this.\u0275dir=t.FsC({type:De,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Mt,rn){2&Mt&&t.BMQ("required",rn._enabled?"":null)},features:[t.Jv_([Or]),t.Vt3]})}return De})();const Ao={provide:ne,useExisting:(0,t.Rfq)(()=>Al),multi:!0};let Al=(()=>{class De extends no{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Ce=>function di(De){return"number"==typeof De?De:parseInt(De,10)}(Ce),this.createValidator=Ce=>G(Ce)}static#e=this.\u0275fac=(()=>{let Ce;return function(rn){return(Ce||(Ce=t.xGo(De)))(rn||De)}})();static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Mt,rn){2&Mt&&t.BMQ("maxlength",rn._enabled?rn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t.Jv_([Ao]),t.Vt3]})}return De})(),Gr=(()=>{class De{static#e=this.\u0275fac=function(Mt){return new(Mt||De)};static#t=this.\u0275mod=t.$C({type:De});static#n=this.\u0275inj=t.G2t({})}return De})(),Ye=(()=>{class De{static withConfig(Ce){return{ngModule:De,providers:[{provide:yn,useValue:Ce.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(Mt){return new(Mt||De)};static#t=this.\u0275mod=t.$C({type:De});static#n=this.\u0275inj=t.G2t({imports:[Gr]})}return De})(),sn=(()=>{class De{static withConfig(Ce){return{ngModule:De,providers:[{provide:Do,useValue:Ce.warnOnNgModelWithFormControl??"always"},{provide:yn,useValue:Ce.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(Mt){return new(Mt||De)};static#t=this.\u0275mod=t.$C({type:De});static#n=this.\u0275inj=t.G2t({imports:[Gr]})}return De})()},850:(jt,Se,l)=>{"use strict";l.d(Se,{$3:()=>fe,Vn:()=>Ie,jL:()=>Ae,pN:()=>It});var t=l(3953),n=l(6600),p=l(177),v=l(494),b=l(7987),E=l(9888),M=l(6860),S=l(9969),u=l(4337),I=l(5286),k=l(9418),T=l(4670),w=l(4421),D=l(3586),f=l(5817),V=l(7336),K=l(9327),ne=l(6939),U=l(9417),c=l(3719),Z=l(3176),F=l(9090),J=l(8728),z=l(5006),X=l(8841),$=l(8002),te=l(9493),G=l(8203);const oe=["panel"],ce=["*"];function le(we,_e){if(1&we){const de=t.RV6();t.j41(0,"div",1,0),t.bIt("@panelAnimation.done",function(Pe){t.eBV(de);const St=t.XpG();return t.Njj(St._animationDone.next(Pe))}),t.SdG(2),t.k0s()}if(2&we){const de=_e.id,Te=t.XpG();t.HbH(Te._classList),t.AVh("mat-mdc-autocomplete-visible",Te.showPanel)("mat-mdc-autocomplete-hidden",!Te.showPanel)("mat-primary","primary"===Te._color)("mat-accent","accent"===Te._color)("mat-warn","warn"===Te._color),t.Y8G("id",Te.id)("@panelAnimation",Te.isOpen?"visible":"hidden"),t.BMQ("aria-label",Te.ariaLabel||null)("aria-labelledby",Te._getPanelAriaLabelledby(de))}}const ve=(0,S.hZ)("panelAnimation",[(0,S.wk)("void, hidden",(0,S.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,S.kY)(":enter, hidden => visible",[(0,S.Os)([(0,S.i0)("0.03s linear",(0,S.iF)({opacity:1})),(0,S.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,S.iF)({transform:"scaleY(1)"}))])]),(0,S.kY)(":leave, visible => hidden",[(0,S.i0)("0.075s linear",(0,S.iF)({opacity:0}))])]);let Q=0;class R{constructor(_e,de){this.source=_e,this.option=de}}const L=new t.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function H(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let fe=(()=>{class we{get isOpen(){return this._isOpen&&this.showPanel}_setColor(de){this._color=de,this._changeDetectorRef.markForCheck()}set classList(de){this._classList=de,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(de){this._hideSingleSelectionIndicator=de,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const de of this.options)de._changeDetectorRef.markForCheck()}constructor(de,Te,Pe,St){this._changeDetectorRef=de,this._elementRef=Te,this._defaults=Pe,this._activeOptionChanges=u.y.EMPTY,this._animationDone=new t.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new t.bkB,this.opened=new t.bkB,this.closed=new t.bkB,this.optionActivated=new t.bkB,this.id="mat-autocomplete-"+Q++,this.inertGroups=St?.SAFARI||!1,this.autoActiveFirstOption=!!Pe.autoActiveFirstOption,this.autoSelectActiveOption=!!Pe.autoSelectActiveOption,this.requireSelection=!!Pe.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new E.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(de=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[de]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(de){this.panel&&(this.panel.nativeElement.scrollTop=de)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(de){const Te=new R(this,de);this.optionSelected.emit(Te)}_getPanelAriaLabelledby(de){return this.ariaLabel?null:this.ariaLabelledby?(de?de+" ":"")+this.ariaLabelledby:de}_skipPredicate(){return!1}static#e=this.\u0275fac=function(Te){return new(Te||we)(t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(L),t.rXU(M.OD))};static#t=this.\u0275cmp=t.VBU({type:we,selectors:[["mat-autocomplete"]],contentQueries:function(Te,Pe,St){if(1&Te&&(t.wni(St,n.wT,5),t.wni(St,n.QC,5)),2&Te){let tt;t.mGM(tt=t.lsd())&&(Pe.options=tt),t.mGM(tt=t.lsd())&&(Pe.optionGroups=tt)}},viewQuery:function(Te,Pe){if(1&Te&&(t.GBs(t.C4Q,7),t.GBs(oe,5)),2&Te){let St;t.mGM(St=t.lsd())&&(Pe.template=St.first),t.mGM(St=t.lsd())&&(Pe.panel=St.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",t.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",t.L39],requireSelection:[2,"requireSelection","requireSelection",t.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",t.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",t.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[t.Jv_([{provide:n.is,useExisting:we}]),t.GFd,t.aNF],ngContentSelectors:ce,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(Te,Pe){1&Te&&(t.NAR(),t.DNE(0,le,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ve]},changeDetection:0})}return we})(),Ie=(()=>{class we{constructor(de){this.elementRef=de}static#e=this.\u0275fac=function(Te){return new(Te||we)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:we,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return we})();const Xe={provide:U.kq,useExisting:(0,t.Rfq)(()=>It),multi:!0},rt=new t.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const we=(0,t.WQX)(b.hJ);return()=>we.scrollStrategies.reposition()}}),ot={provide:rt,deps:[b.hJ],useFactory:function yt(we){return()=>we.scrollStrategies.reposition()}};let It=(()=>{class we{constructor(de,Te,Pe,St,tt,wt,ln,Mn,Bn,Jt,Ft){this._element=de,this._overlay=Te,this._viewContainerRef=Pe,this._zone=St,this._changeDetectorRef=tt,this._dir=ln,this._formField=Mn,this._document=Bn,this._viewportRuler=Jt,this._defaults=Ft,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=u.y.EMPTY,this._breakpointObserver=(0,t.WQX)(K.QP),this._handsetLandscapeSubscription=u.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new I.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new I.B7,this._injector=(0,t.WQX)(t.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,k.v)(()=>{const W=this.autocomplete?this.autocomplete.options:null;return W?W.changes.pipe((0,Z.Z)(W),(0,F.n)(()=>(0,T.h)(...W.map(Me=>Me.onSelectionChange)))):this._initialized.pipe((0,F.n)(()=>this.optionSelections))}),this._handlePanelKeydown=W=>{(W.keyCode===V._f&&!(0,V.rp)(W)||W.keyCode===V.i7&&(0,V.rp)(W,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),W.stopPropagation(),W.preventDefault())},this._trackedModal=null,this._scrollStrategy=wt}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const de=this._getWindow();typeof de<"u"&&this._zone.runOutsideAngular(()=>de.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(de){de.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const de=this._getWindow();typeof de<"u"&&de.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,E.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,T.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,J.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,J.p)(()=>this._overlayAttached)):(0,w.of)()).pipe((0,z.T)(de=>de instanceof n.MI?de:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,T.h)((0,D.R)(this._document,"click"),(0,D.R)(this._document,"auxclick"),(0,D.R)(this._document,"touchend")).pipe((0,J.p)(de=>{const Te=(0,M.Fb)(de),Pe=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,St=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Te!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Pe||!Pe.contains(Te))&&(!St||!St.contains(Te))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Te)}))}writeValue(de){Promise.resolve(null).then(()=>this._assignOptionValue(de))}registerOnChange(de){this._onChange=de}registerOnTouched(de){this._onTouched=de}setDisabledState(de){this._element.nativeElement.disabled=de}_handleKeydown(de){const Te=de.keyCode,Pe=(0,V.rp)(de);if(Te===V._f&&!Pe&&de.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&Te===V.Fm&&this.panelOpen&&!Pe)this.activeOption._selectViaInteraction(),this._resetActiveItem(),de.preventDefault();else if(this.autocomplete){const St=this.autocomplete._keyManager.activeItem,tt=Te===V.i7||Te===V.n6;Te===V.wn||tt&&!Pe&&this.panelOpen?this.autocomplete._keyManager.onKeydown(de):tt&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(tt||this.autocomplete._keyManager.activeItem!==St)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(de){let Te=de.target,Pe=Te.value;if("number"===Te.type&&(Pe=""==Pe?null:parseFloat(Pe)),this._previousValue!==Pe){if(this._previousValue=Pe,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(Pe),Pe){if(this.panelOpen&&!this.autocomplete.requireSelection){const St=this.autocomplete.options?.find(tt=>tt.selected);St&&Pe!==this._getDisplayValue(St.value)&&St.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===de.target){const St=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(St)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(de=!1){this._formField&&"auto"===this._formField.floatLabel&&(de?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const de=new f.c(Pe=>{(0,t.mal)(()=>{Pe.next()},{injector:this._injector})}),Te=this.autocomplete.options.changes.pipe((0,X.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,$.c)(0));return(0,T.h)(de,Te).pipe((0,F.n)(()=>this._zone.run(()=>{const Pe=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Pe!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,te.s)(1)).subscribe(Pe=>this._setValueAndClose(Pe))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(de){const Te=this.autocomplete;return Te&&Te.displayWith?Te.displayWith(de):de}_assignOptionValue(de){const Te=this._getDisplayValue(de);null==de&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(Te??"")}_updateNativeInputValue(de){this._formField?this._formField._control.value=de:this._element.nativeElement.value=de,this._previousValue=de}_setValueAndClose(de){const Te=this.autocomplete,Pe=de?de.source:this._pendingAutoselectedOption;Pe?(this._clearPreviousSelectedOption(Pe),this._assignOptionValue(Pe.value),this._onChange(Pe.value),Te._emitSelectEvent(Pe),this._element.nativeElement.focus()):Te.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Te._animationDone?Te._animationDone.pipe((0,te.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(de,Te){this.autocomplete?.options?.forEach(Pe=>{Pe!==de&&Pe.selected&&Pe.deselect(Te)})}_openPanelInternal(de=this._element.nativeElement.value){this._attachOverlay(de),this._floatLabel(),this._trackedModal&&(0,E.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(de){let Te=this._overlayRef;Te?(this._positionStrategy.setOrigin(this._getConnectedElement()),Te.updateSize({width:this._getPanelWidth()})):(this._portal=new ne.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),Te=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Te,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Te&&Te.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(K.Rp.HandsetLandscape).subscribe(St=>{St.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),Te&&!Te.hasAttached()&&(Te.attach(this._portal),this._valueOnAttach=de,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const Pe=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&Pe!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const de=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=de.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=de.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new b.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const de=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(de),this._positionStrategy=de,de}_setStrategyPositions(de){const Te=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Pe=this._aboveClass,St=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Pe},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Pe}];let tt;tt="above"===this.position?St:"below"===this.position?Te:[...Te,...St],de.withPositions(tt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const de=this.autocomplete;if(de.autoActiveFirstOption){let Te=-1;for(let Pe=0;Pe<de.options.length;Pe++)if(!de.options.get(Pe).disabled){Te=Pe;break}de._keyManager.setActiveItem(Te)}else de._keyManager.setActiveItem(-1)}_canOpen(){const de=this._element.nativeElement;return!de.readOnly&&!de.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(de){const Te=this.autocomplete,Pe=(0,n.jb)(de,Te.options,Te.optionGroups);if(0===de&&1===Pe)Te._setScrollTop(0);else if(Te.panel){const St=Te.options.toArray()[de];if(St){const tt=St._getHostElement(),wt=(0,n.TL)(tt.offsetTop,tt.offsetHeight,Te._getScrollTop(),Te.panel.nativeElement.offsetHeight);Te._setScrollTop(wt)}}}_applyModalPanelOwnership(){const de=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!de)return;const Te=this.autocomplete.id;this._trackedModal&&(0,E.Ae)(this._trackedModal,"aria-owns",Te),(0,E.px)(de,"aria-owns",Te),this._trackedModal=de}_clearFromModal(){this._trackedModal&&((0,E.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Te){return new(Te||we)(t.rXU(t.aKT),t.rXU(b.hJ),t.rXU(t.c1b),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(rt),t.rXU(G.dS,8),t.rXU(c.xb,9),t.rXU(p.qQ,8),t.rXU(v.Xj),t.rXU(L,8))};static#t=this.\u0275dir=t.FsC({type:we,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Te,Pe){1&Te&&t.bIt("focusin",function(){return Pe._handleFocus()})("blur",function(){return Pe._onTouched()})("input",function(tt){return Pe._handleInput(tt)})("keydown",function(tt){return Pe._handleKeydown(tt)})("click",function(){return Pe._handleClick()}),2&Te&&t.BMQ("autocomplete",Pe.autocompleteAttribute)("role",Pe.autocompleteDisabled?null:"combobox")("aria-autocomplete",Pe.autocompleteDisabled?null:"list")("aria-activedescendant",Pe.panelOpen&&Pe.activeOption?Pe.activeOption.id:null)("aria-expanded",Pe.autocompleteDisabled?null:Pe.panelOpen.toString())("aria-controls",Pe.autocompleteDisabled||!Pe.panelOpen||null==Pe.autocomplete?null:Pe.autocomplete.id)("aria-haspopup",Pe.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",t.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[t.Jv_([Xe]),t.GFd,t.OA$]})}return we})(),Ae=(()=>{class we{static#e=this.\u0275fac=function(Te){return new(Te||we)};static#t=this.\u0275mod=t.$C({type:we});static#n=this.\u0275inj=t.G2t({providers:[ot],imports:[b.z_,n.Sy,n.yE,p.MD,v.Gj,n.Sy,n.yE]})}return we})()},6665:(jt,Se,l)=>{"use strict";l.d(Se,{VK:()=>F,eN:()=>c,vF:()=>J});var t=l(2529),n=l(6939),p=l(3953),v=l(6600),b=l(9888),E=l(9327),M=l(7987),S=l(177),u=l(9969),I=l(7336),k=l(5286),T=l(4670),w=l(8728),D=l(9493);function f(z,X){}const V={bottomSheetState:(0,u.hZ)("state",[(0,u.wk)("void, hidden",(0,u.iF)({transform:"translateY(100%)"})),(0,u.wk)("visible",(0,u.iF)({transform:"translateY(0%)"})),(0,u.kY)("visible => void, visible => hidden",(0,u.Os)([(0,u.i0)(`${v.ed.COMPLEX} ${v.r5.ACCELERATION_CURVE}`),(0,u.P)("@*",(0,u.MA)(),{optional:!0})])),(0,u.kY)("void => visible",(0,u.Os)([(0,u.i0)(`${v.ed.EXITING} ${v.r5.DECELERATION_CURVE}`),(0,u.P)("@*",(0,u.MA)(),{optional:!0})]))])};let K=(()=>{class z extends t.sU{constructor($,te,G,oe,ce,le,ve,Q,R){super($,te,G,oe,ce,le,ve,R),this._animationState="void",this._animationStateChanged=new p.bkB,this._breakpointSubscription=Q.observe([E.Rp.Medium,E.Rp.Large,E.Rp.XLarge]).subscribe(()=>{const L=this._elementRef.nativeElement.classList;L.toggle("mat-bottom-sheet-container-medium",Q.isMatched(E.Rp.Medium)),L.toggle("mat-bottom-sheet-container-large",Q.isMatched(E.Rp.Large)),L.toggle("mat-bottom-sheet-container-xlarge",Q.isMatched(E.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone($){"visible"===$.toState&&this._trapFocus(),this._animationStateChanged.emit($)}_onAnimationStart($){this._animationStateChanged.emit($)}_captureInitialFocus(){}static#e=this.\u0275fac=function(te){return new(te||z)(p.rXU(p.aKT),p.rXU(b.GX),p.rXU(S.qQ,8),p.rXU(t.Pe),p.rXU(b.Z7),p.rXU(p.SKi),p.rXU(M.yY),p.rXU(E.QP),p.rXU(b.FN))};static#t=this.\u0275cmp=p.VBU({type:z,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(te,G){1&te&&p.Kam("@state.start",function(ce){return G._onAnimationStart(ce)})("@state.done",function(ce){return G._onAnimationDone(ce)}),2&te&&(p.zvX("@state",G._animationState),p.BMQ("role",G._config.role)("aria-modal",G._config.ariaModal)("aria-label",G._config.ariaLabel))},standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(te,G){1&te&&p.DNE(0,f,0,0,"ng-template",0)},dependencies:[n.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color, var(--mat-app-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-app-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-app-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-app-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-app-body-large-tracking))}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[V.bottomSheetState]}})}return z})();const ne=new p.nKC("MatBottomSheetData");class U{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class c{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(X,$,te){this._ref=X,this._afterOpened=new k.B7,this.containerInstance=te,this.disableClose=$.disableClose,te._animationStateChanged.pipe((0,w.p)(G=>"done"===G.phaseName&&"visible"===G.toState),(0,D.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),te._animationStateChanged.pipe((0,w.p)(G=>"done"===G.phaseName&&"hidden"===G.toState),(0,D.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),X.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,T.h)(this.backdropClick(),this.keydownEvents().pipe((0,w.p)(G=>G.keyCode===I._f))).subscribe(G=>{!this.disableClose&&("keydown"!==G.type||!(0,I.rp)(G))&&(G.preventDefault(),this.dismiss())})}dismiss(X){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,w.p)($=>"start"===$.phaseName),(0,D.s)(1)).subscribe($=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},$.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=X,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Z=new p.nKC("mat-bottom-sheet-default-options");let F=(()=>{class z{get _openedBottomSheetRef(){const $=this._parentBottomSheet;return $?$._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef($){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=$:this._bottomSheetRefAtThisLevel=$}constructor($,te,G,oe){this._overlay=$,this._parentBottomSheet=G,this._defaultOptions=oe,this._bottomSheetRefAtThisLevel=null,this._dialog=te.get(t.lG)}open($,te){const G={...this._defaultOptions||new U,...te};let oe;return this._dialog.open($,{...G,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:K,scrollStrategy:G.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:oe}),providers:(ce,le,ve)=>(oe=new c(ce,G,ve),[{provide:c,useValue:oe},{provide:ne,useValue:G.data}])}),oe.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===oe&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>oe.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):oe.containerInstance.enter(),this._openedBottomSheetRef=oe,oe}dismiss($){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss($)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(te){return new(te||z)(p.KVO(M.hJ),p.KVO(p.zZn),p.KVO(z,12),p.KVO(Z,8))};static#t=this.\u0275prov=p.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),J=(()=>{class z{static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275mod=p.$C({type:z});static#n=this.\u0275inj=p.G2t({providers:[F],imports:[t.Ph,v.yE,n.jc,v.yE]})}return z})()},8834:(jt,Se,l)=>{"use strict";l.d(Se,{$z:()=>F,Hl:()=>Q,iY:()=>le});var t=l(6860),n=l(3953),p=l(9888),v=l(6600);const b=["mat-button",""],E=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],M=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],w=["mat-icon-button",""],D=["*"],V=new n.nKC("MAT_BUTTON_CONFIG"),ne=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let U=(()=>{class R{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(H){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,H)}get disableRipple(){return this._disableRipple}set disableRipple(H){this._disableRipple=H,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(H){this._disabled=H,this._updateRippleDisabled()}constructor(H,fe,Ie,Xe){this._elementRef=H,this._platform=fe,this._ngZone=Ie,this._animationMode=Xe,this._focusMonitor=(0,n.WQX)(p.FN),this._rippleLoader=(0,n.WQX)(v.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const bt=(0,n.WQX)(V,{optional:!0}),rt=H.nativeElement,yt=rt.classList;this.disabledInteractive=bt?.disabledInteractive??!1,this.color=bt?.color??null,this._rippleLoader?.configureRipple(rt,{className:"mat-mdc-button-ripple"});for(const{attribute:ot,mdcClasses:It}of ne)rt.hasAttribute(ot)&&yt.add(...It)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(H="program",fe){H?this._focusMonitor.focusVia(this._elementRef.nativeElement,H,fe):this._elementRef.nativeElement.focus(fe)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(fe){n.QTQ()};static#t=this.\u0275dir=n.FsC({type:R,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",n.L39],disabled:[2,"disabled","disabled",n.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",n.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",n.L39]},features:[n.GFd]})}return R})(),F=(()=>{class R extends U{constructor(H,fe,Ie,Xe){super(H,fe,Ie,Xe)}static#e=this.\u0275fac=function(fe){return new(fe||R)(n.rXU(n.aKT),n.rXU(t.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:R,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(fe,Ie){2&fe&&(n.BMQ("disabled",Ie._getDisabledAttribute())("aria-disabled",Ie._getAriaDisabled()),n.HbH(Ie.color?"mat-"+Ie.color:""),n.AVh("mat-mdc-button-disabled",Ie.disabled)("mat-mdc-button-disabled-interactive",Ie.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Ie._animationMode)("mat-unthemed",!Ie.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:b,ngContentSelectors:M,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(fe,Ie){1&fe&&(n.NAR(E),n.nrm(0,"span",0),n.SdG(1),n.j41(2,"span",1),n.SdG(3,1),n.k0s(),n.SdG(4,2),n.nrm(5,"span",2)(6,"span",3)),2&fe&&n.AVh("mdc-button__ripple",!Ie._isFab)("mdc-fab__ripple",Ie._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return R})(),le=(()=>{class R extends U{constructor(H,fe,Ie,Xe){super(H,fe,Ie,Xe),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(fe){return new(fe||R)(n.rXU(n.aKT),n.rXU(t.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:R,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(fe,Ie){2&fe&&(n.BMQ("disabled",Ie._getDisabledAttribute())("aria-disabled",Ie._getAriaDisabled()),n.HbH(Ie.color?"mat-"+Ie.color:""),n.AVh("mat-mdc-button-disabled",Ie.disabled)("mat-mdc-button-disabled-interactive",Ie.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Ie._animationMode)("mat-unthemed",!Ie.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:w,ngContentSelectors:D,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(fe,Ie){1&fe&&(n.NAR(),n.nrm(0,"span",0),n.SdG(1),n.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return R})(),Q=(()=>{class R{static#e=this.\u0275fac=function(fe){return new(fe||R)};static#t=this.\u0275mod=n.$C({type:R});static#n=this.\u0275inj=n.G2t({imports:[v.yE,v.pZ,v.yE]})}return R})()},2765:(jt,Se,l)=>{"use strict";l.d(Se,{So:()=>D,g7:()=>ne});var t=l(3953),n=l(9417),p=l(6600);const v=["input"],b=["label"],E=["*"],M=new t.nKC("mat-checkbox-default-options",{providedIn:"root",factory:S});function S(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var u=function(U){return U[U.Init=0]="Init",U[U.Checked=1]="Checked",U[U.Unchecked=2]="Unchecked",U[U.Indeterminate=3]="Indeterminate",U}(u||{});const I={provide:n.kq,useExisting:(0,t.Rfq)(()=>D),multi:!0};class k{}let T=0;const w=S();let D=(()=>{class U{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(Z){const F=new k;return F.source=this,F.checked=Z,F}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Z,F,J,z,X,$){this._elementRef=Z,this._changeDetectorRef=F,this._ngZone=J,this._animationMode=X,this._options=$,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new t.bkB,this.indeterminateChange=new t.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=u.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||w,this.color=this._options.color||w.color,this.tabIndex=parseInt(z)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++T,this.disabledInteractive=$?.disabledInteractive??!1}ngOnChanges(Z){Z.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(Z){Z!=this.checked&&(this._checked=Z,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Z){Z!==this.disabled&&(this._disabled=Z,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(Z){const F=Z!=this._indeterminate;this._indeterminate=Z,F&&(this._transitionCheckState(this._indeterminate?u.Indeterminate:this.checked?u.Checked:u.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(Z){this.checked=!!Z}registerOnChange(Z){this._controlValueAccessorChangeFn=Z}registerOnTouched(Z){this._onTouched=Z}setDisabledState(Z){this.disabled=Z}validate(Z){return this.required&&!0!==Z.value?{required:!0}:null}registerOnValidatorChange(Z){this._validatorChangeFn=Z}_transitionCheckState(Z){let F=this._currentCheckState,J=this._getAnimationTargetElement();if(F!==Z&&J&&(this._currentAnimationClass&&J.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(F,Z),this._currentCheckState=Z,this._currentAnimationClass.length>0)){J.classList.add(this._currentAnimationClass);const z=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{J.classList.remove(z)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const Z=this._options?.clickAction;this.disabled||"noop"===Z?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===Z)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==Z&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?u.Checked:u.Unchecked),this._emitChangeEvent())}_onInteractionEvent(Z){Z.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(Z,F){if("NoopAnimations"===this._animationMode)return"";switch(Z){case u.Init:if(F===u.Checked)return this._animationClasses.uncheckedToChecked;if(F==u.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case u.Unchecked:return F===u.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case u.Checked:return F===u.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case u.Indeterminate:return F===u.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(Z){const F=this._inputElement;F&&(F.nativeElement.indeterminate=Z)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(Z){Z.target&&this._labelElement.nativeElement.contains(Z.target)&&Z.stopPropagation()}static#e=this.\u0275fac=function(F){return new(F||U)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.kS0("tabindex"),t.rXU(t.bc$,8),t.rXU(M,8))};static#t=this.\u0275cmp=t.VBU({type:U,selectors:[["mat-checkbox"]],viewQuery:function(F,J){if(1&F&&(t.GBs(v,5),t.GBs(b,5),t.GBs(p.r6,5)),2&F){let z;t.mGM(z=t.lsd())&&(J._inputElement=z.first),t.mGM(z=t.lsd())&&(J._labelElement=z.first),t.mGM(z=t.lsd())&&(J.ripple=z.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(F,J){2&F&&(t.Mr5("id",J.id),t.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),t.HbH(J.color?"mat-"+J.color:"mat-accent"),t.AVh("_mat-animation-noopable","NoopAnimations"===J._animationMode)("mdc-checkbox--disabled",J.disabled)("mat-mdc-checkbox-disabled",J.disabled)("mat-mdc-checkbox-checked",J.checked)("mat-mdc-checkbox-disabled-interactive",J.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",t.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",t.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?void 0:(0,t.Udg)(Z)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",t.L39],checked:[2,"checked","checked",t.L39],disabled:[2,"disabled","disabled",t.L39],indeterminate:[2,"indeterminate","indeterminate",t.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[t.Jv_([I,{provide:n.cz,useExisting:U,multi:!0}]),t.GFd,t.OA$,t.aNF],ngContentSelectors:E,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(F,J){if(1&F){const z=t.RV6();t.NAR(),t.j41(0,"div",3),t.bIt("click",function($){return t.eBV(z),t.Njj(J._preventBubblingFromLabel($))}),t.j41(1,"div",4,0)(3,"div",5),t.bIt("click",function(){return t.eBV(z),t.Njj(J._onTouchTargetClick())}),t.k0s(),t.j41(4,"input",6,1),t.bIt("blur",function(){return t.eBV(z),t.Njj(J._onBlur())})("click",function(){return t.eBV(z),t.Njj(J._onInputClick())})("change",function($){return t.eBV(z),t.Njj(J._onInteractionEvent($))}),t.k0s(),t.nrm(6,"div",7),t.j41(7,"div",8),t.qSk(),t.j41(8,"svg",9),t.nrm(9,"path",10),t.k0s(),t.joV(),t.nrm(10,"div",11),t.k0s(),t.nrm(11,"div",12),t.k0s(),t.j41(12,"label",13,2),t.SdG(14),t.k0s()()}if(2&F){const z=t.sdS(2);t.Y8G("labelPosition",J.labelPosition),t.R7$(4),t.AVh("mdc-checkbox--selected",J.checked),t.Y8G("checked",J.checked)("indeterminate",J.indeterminate)("disabled",J.disabled&&!J.disabledInteractive)("id",J.inputId)("required",J.required)("tabIndex",J.disabled&&!J.disabledInteractive?-1:J.tabIndex),t.BMQ("aria-label",J.ariaLabel||null)("aria-labelledby",J.ariaLabelledby)("aria-describedby",J.ariaDescribedby)("aria-checked",J.indeterminate?"mixed":null)("aria-disabled",!(!J.disabled||!J.disabledInteractive)||null)("name",J.name)("value",J.value),t.R7$(7),t.Y8G("matRippleTrigger",z)("matRippleDisabled",J.disableRipple||J.disabled)("matRippleCentered",!0),t.R7$(),t.Y8G("for",J.inputId)}},dependencies:[p.r6,p.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return U})(),ne=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275mod=t.$C({type:U});static#n=this.\u0275inj=t.G2t({imports:[D,p.yE,p.yE]})}return U})()},6471:(jt,Se,l)=>{"use strict";l.d(Se,{D7:()=>ln,HW:()=>tt,YN:()=>Bn,Zv:()=>bt,jH:()=>we});var t=l(9888),n=l(7336),p=l(177),v=l(3953),b=l(6600),E=l(5286),M=l(4670),S=l(7605),u=l(3176),I=l(9090),k=l(8203),T=l(9417),w=l(3719);const D=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],f=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function V(Jt,Ft){1&Jt&&(v.j41(0,"span",3),v.SdG(1,1),v.k0s())}function K(Jt,Ft){1&Jt&&(v.j41(0,"span",6),v.SdG(1,2),v.k0s())}const Z=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],F=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function J(Jt,Ft){1&Jt&&v.nrm(0,"span",0)}function z(Jt,Ft){1&Jt&&(v.j41(0,"span",2),v.SdG(1),v.k0s())}function X(Jt,Ft){1&Jt&&v.SdG(0,1)}function $(Jt,Ft){1&Jt&&v.nrm(0,"span",7)}function te(Jt,Ft){if(1&Jt&&v.DNE(0,X,1,0)(1,$,1,0,"span",7),2&Jt){const W=v.XpG();v.vxM(W.contentEditInput?0:1)}}function G(Jt,Ft){1&Jt&&v.SdG(0,2)}function oe(Jt,Ft){1&Jt&&(v.j41(0,"span",5),v.SdG(1,3),v.k0s())}const ce=["*"],ve=new v.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[n.Fm]})}),Q=new v.nKC("MatChipAvatar"),R=new v.nKC("MatChipTrailingIcon"),L=new v.nKC("MatChipRemove"),H=new v.nKC("MatChip");let fe=(()=>{class Jt{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(W){this._disabled=W}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(W,Me){this._elementRef=W,this._parentChip=Me,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===W.nativeElement.nodeName&&W.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(W){!this.disabled&&this.isInteractive&&this._isPrimary&&(W.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(W){(W.keyCode===n.Fm||W.keyCode===n.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(W.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.aKT),v.rXU(H))};static#t=this.\u0275dir=v.FsC({type:Jt,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(Me,ie){1&Me&&v.bIt("click",function(Be){return ie._handleClick(Be)})("keydown",function(Be){return ie._handleKeydown(Be)}),2&Me&&(v.BMQ("tabindex",ie._getTabindex())("disabled",ie._getDisabledAttribute())("aria-disabled",ie.disabled),v.AVh("mdc-evolution-chip__action--primary",ie._isPrimary)("mdc-evolution-chip__action--presentational",!ie.isInteractive)("mdc-evolution-chip__action--trailing",!ie._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",v.L39],tabIndex:[2,"tabIndex","tabIndex",W=>null==W?-1:(0,v.Udg)(W)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[v.GFd]})}return Jt})(),bt=(()=>{class Jt extends fe{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(W){this.disabled||(W.stopPropagation(),W.preventDefault(),this._parentChip.remove())}_handleKeydown(W){(W.keyCode===n.Fm||W.keyCode===n.t6)&&!this.disabled&&(W.stopPropagation(),W.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let W;return function(ie){return(W||(W=v.xGo(Jt)))(ie||Jt)}})();static#t=this.\u0275dir=v.FsC({type:Jt,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(Me,ie){2&Me&&v.BMQ("aria-hidden",null)},standalone:!0,features:[v.Jv_([{provide:L,useExisting:Jt}]),v.Vt3]})}return Jt})(),rt=0,yt=(()=>{class Jt{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(W){this._value=W}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(W){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,W)}constructor(W,Me,ie,pe,Be,Tt,Wt){this._changeDetectorRef=W,this._elementRef=Me,this._ngZone=ie,this._focusMonitor=pe,this._globalRippleOptions=Wt,this._onFocus=new E.B7,this._onBlur=new E.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+rt++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.removed=new v.bkB,this.destroyed=new v.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,v.WQX)(b.Ej),this._injector=(0,v.WQX)(v.zZn),this._document=Be,this._animationsDisabled="NoopAnimations"===Tt,this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const W=this._elementRef.nativeElement;this._isBasicChip=W.hasAttribute(this.basicChipAttrName)||W.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,M.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(W){(W.keyCode===n.G_&&!W.repeat||W.keyCode===n.SJ)&&(W.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(W){return this._getActions().find(Me=>{const ie=Me._elementRef.nativeElement;return ie===W||ie.contains(W)})}_getActions(){const W=[];return this.primaryAction&&W.push(this.primaryAction),this.removeIcon&&W.push(this.removeIcon),this.trailingIcon&&W.push(this.trailingIcon),W}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(W=>{const Me=null!==W;Me!==this._hasFocusInternal&&(this._hasFocusInternal=Me,Me?this._onFocus.next({chip:this}):(0,v.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(t.FN),v.rXU(p.qQ),v.rXU(v.bc$,8),v.rXU(b.$E,8))};static#t=this.\u0275cmp=v.VBU({type:Jt,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Me,ie,pe){if(1&Me&&(v.wni(pe,Q,5),v.wni(pe,R,5),v.wni(pe,L,5),v.wni(pe,Q,5),v.wni(pe,R,5),v.wni(pe,L,5)),2&Me){let Be;v.mGM(Be=v.lsd())&&(ie.leadingIcon=Be.first),v.mGM(Be=v.lsd())&&(ie.trailingIcon=Be.first),v.mGM(Be=v.lsd())&&(ie.removeIcon=Be.first),v.mGM(Be=v.lsd())&&(ie._allLeadingIcons=Be),v.mGM(Be=v.lsd())&&(ie._allTrailingIcons=Be),v.mGM(Be=v.lsd())&&(ie._allRemoveIcons=Be)}},viewQuery:function(Me,ie){if(1&Me&&v.GBs(fe,5),2&Me){let pe;v.mGM(pe=v.lsd())&&(ie.primaryAction=pe.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(Me,ie){1&Me&&v.bIt("keydown",function(Be){return ie._handleKeydown(Be)}),2&Me&&(v.Mr5("id",ie.id),v.BMQ("role",ie.role)("aria-label",ie.ariaLabel),v.HbH("mat-"+(ie.color||"primary")),v.AVh("mdc-evolution-chip",!ie._isBasicChip)("mdc-evolution-chip--disabled",ie.disabled)("mdc-evolution-chip--with-trailing-action",ie._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",ie.leadingIcon)("mdc-evolution-chip--with-primary-icon",ie.leadingIcon)("mdc-evolution-chip--with-avatar",ie.leadingIcon)("mat-mdc-chip-with-avatar",ie.leadingIcon)("mat-mdc-chip-highlighted",ie.highlighted)("mat-mdc-chip-disabled",ie.disabled)("mat-mdc-basic-chip",ie._isBasicChip)("mat-mdc-standard-chip",!ie._isBasicChip)("mat-mdc-chip-with-trailing-icon",ie._hasTrailingIcon())("_mat-animation-noopable",ie._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",v.L39],highlighted:[2,"highlighted","highlighted",v.L39],disableRipple:[2,"disableRipple","disableRipple",v.L39],disabled:[2,"disabled","disabled",v.L39]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[v.Jv_([{provide:H,useExisting:Jt}]),v.GFd,v.aNF],ngContentSelectors:f,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Me,ie){1&Me&&(v.NAR(D),v.nrm(0,"span",0),v.j41(1,"span",1)(2,"span",2),v.DNE(3,V,2,0,"span",3),v.j41(4,"span",4),v.SdG(5),v.nrm(6,"span",5),v.k0s()()(),v.DNE(7,K,2,0,"span",6)),2&Me&&(v.R7$(2),v.Y8G("isInteractive",!1),v.R7$(),v.vxM(ie.leadingIcon?3:-1),v.R7$(4),v.vxM(ie._hasTrailingIcon()?7:-1))},dependencies:[fe],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Jt})(),Ae=(()=>{class Jt{constructor(W,Me){this._elementRef=W,this._document=Me}initialize(W){this.getNativeElement().focus(),this.setValue(W)}getNativeElement(){return this._elementRef.nativeElement}setValue(W){this.getNativeElement().textContent=W,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const W=this._document.createRange();W.selectNodeContents(this.getNativeElement()),W.collapse(!1);const Me=window.getSelection();Me.removeAllRanges(),Me.addRange(W)}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.aKT),v.rXU(p.qQ))};static#t=this.\u0275dir=v.FsC({type:Jt,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return Jt})(),we=(()=>{class Jt extends yt{constructor(W,Me,ie,pe,Be,Tt,Wt,vn){super(W,Me,ie,pe,Be,Tt,Wt),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new v.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,S.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(W){W.keyCode!==n.Fm||this.disabled?this._isEditing?W.stopPropagation():super._handleKeydown(W):this._isEditing?(W.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(W)}_handleDoubleclick(W){!this.disabled&&this.editable&&this._startEditing(W)}_startEditing(W){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(W.target)===this.removeIcon)return;const Me=this.value;this._isEditing=this._editStartPending=!0,(0,v.mal)(()=>{this._getEditInput().initialize(Me),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(t.FN),v.rXU(p.qQ),v.rXU(v.bc$,8),v.rXU(b.$E,8),v.kS0("tabindex"))};static#t=this.\u0275cmp=v.VBU({type:Jt,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(Me,ie,pe){if(1&Me&&v.wni(pe,Ae,5),2&Me){let Be;v.mGM(Be=v.lsd())&&(ie.contentEditInput=Be.first)}},viewQuery:function(Me,ie){if(1&Me&&v.GBs(Ae,5),2&Me){let pe;v.mGM(pe=v.lsd())&&(ie.defaultEditInput=pe.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(Me,ie){1&Me&&v.bIt("focus",function(Be){return ie._handleFocus(Be)})("dblclick",function(Be){return ie._handleDoubleclick(Be)}),2&Me&&(v.Mr5("id",ie.id),v.BMQ("tabindex",ie.disabled?null:-1)("aria-label",null)("aria-description",null)("role",ie.role),v.AVh("mat-mdc-chip-with-avatar",ie.leadingIcon)("mat-mdc-chip-disabled",ie.disabled)("mat-mdc-chip-editing",ie._isEditing)("mat-mdc-chip-editable",ie.editable)("mdc-evolution-chip--disabled",ie.disabled)("mdc-evolution-chip--with-trailing-action",ie._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",ie.leadingIcon)("mdc-evolution-chip--with-primary-icon",ie.leadingIcon)("mdc-evolution-chip--with-avatar",ie.leadingIcon)("mat-mdc-chip-highlighted",ie.highlighted)("mat-mdc-chip-with-trailing-icon",ie._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[v.Jv_([{provide:yt,useExisting:Jt},{provide:H,useExisting:Jt}]),v.Vt3,v.aNF],ngContentSelectors:F,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(Me,ie){1&Me&&(v.NAR(Z),v.DNE(0,J,1,0,"span",0),v.j41(1,"span",1),v.DNE(2,z,2,0,"span",2),v.j41(3,"span",3),v.DNE(4,te,2,1)(5,G,1,0),v.nrm(6,"span",4),v.k0s()(),v.DNE(7,oe,2,0,"span",5),v.j41(8,"span",6),v.EFF(9),v.k0s()),2&Me&&(v.vxM(ie._isEditing?-1:0),v.R7$(),v.Y8G("disabled",ie.disabled),v.BMQ("aria-label",ie.ariaLabel)("aria-describedby",ie._ariaDescriptionId),v.R7$(),v.vxM(ie.leadingIcon?2:-1),v.R7$(2),v.vxM(ie._isEditing?4:5),v.R7$(3),v.vxM(ie._hasTrailingIcon()?7:-1),v.R7$(),v.Y8G("id",ie._ariaDescriptionId),v.R7$(),v.JRh(ie.ariaDescription))},dependencies:[fe,Ae],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Jt})(),_e=(()=>{class Jt{get chipFocusChanges(){return this._getChipStream(W=>W._onFocus)}get chipDestroyedChanges(){return this._getChipStream(W=>W.destroyed)}get chipRemovedChanges(){return this._getChipStream(W=>W.removed)}get disabled(){return this._disabled}set disabled(W){this._disabled=W,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(W){this._explicitRole=W}get focused(){return this._hasFocusedChip()}constructor(W,Me,ie){this._elementRef=W,this._changeDetectorRef=Me,this._dir=ie,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new E.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new v.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(W=>W._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(W=>{W.disabled=this._disabled,W._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(W){this._originatesFromChip(W)&&this._keyManager.onKeydown(W)}_isValidIndex(W){return W>=0&&W<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const W=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=W,this._changeDetectorRef.markForCheck()})}}_getChipStream(W){return this._chips.changes.pipe((0,u.Z)(null),(0,I.n)(()=>(0,M.h)(...this._chips.map(W))))}_originatesFromChip(W){let Me=W.target;for(;Me&&Me!==this._elementRef.nativeElement;){if(Me.classList.contains("mat-mdc-chip"))return!0;Me=Me.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,u.Z)(this._chips)).subscribe(W=>{const Me=[];W.forEach(ie=>ie._getActions().forEach(pe=>Me.push(pe))),this._chipActions.reset(Me),this._chipActions.notifyOnChanges()}),this._keyManager=new t.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(W=>this._skipPredicate(W)),this.chipFocusChanges.pipe((0,S.Q)(this._destroyed)).subscribe(({chip:W})=>{const Me=W._getSourceAction(document.activeElement);Me&&this._keyManager.updateActiveItem(Me)}),this._dir?.change.pipe((0,S.Q)(this._destroyed)).subscribe(W=>this._keyManager.withHorizontalOrientation(W))}_skipPredicate(W){return!W.isInteractive||W.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,u.Z)(null),(0,S.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,S.Q)(this._destroyed)).subscribe(W=>{const ie=this._chips.toArray().indexOf(W.chip);this._isValidIndex(ie)&&W.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=ie)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const W=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),Me=this._chips.toArray()[W];Me.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():Me.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.aKT),v.rXU(v.gRc),v.rXU(k.dS,8))};static#t=this.\u0275cmp=v.VBU({type:Jt,selectors:[["mat-chip-set"]],contentQueries:function(Me,ie,pe){if(1&Me&&v.wni(pe,yt,5),2&Me){let Be;v.mGM(Be=v.lsd())&&(ie._chips=Be)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(Me,ie){1&Me&&v.bIt("keydown",function(Be){return ie._handleKeydown(Be)}),2&Me&&v.BMQ("role",ie.role)},inputs:{disabled:[2,"disabled","disabled",v.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",W=>null==W?0:(0,v.Udg)(W)]},standalone:!0,features:[v.GFd,v.aNF],ngContentSelectors:ce,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Me,ie){1&Me&&(v.NAR(),v.j41(0,"div",0),v.SdG(1),v.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return Jt})();class St{constructor(Ft,W){this.source=Ft,this.value=W}}let tt=(()=>{class Jt extends _e{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(W){this._disabled=W,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(W){this._placeholder=W,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(T.k0.required)??!1}set required(W){this._required=W,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(W){this._value=W}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(W){this._errorStateTracker.matcher=W}get chipBlurChanges(){return this._getChipStream(W=>W._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(W){this._errorStateTracker.errorState=W}constructor(W,Me,ie,pe,Be,Tt,Wt){super(W,Me,ie),this.ngControl=Wt,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new v.bkB,this.valueChange=new v.bkB,this._chips=void 0,this.stateChanges=new E.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new b.X0(Tt,Wt,Be,pe,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,S.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,M.h)(this.chipFocusChanges,this._chips.changes).pipe((0,S.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(W){this._chipInput=W,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(W){!this.disabled&&!this._originatesFromChip(W)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(W){this._ariaDescribedbyIds=W,this._chipInput?.setDescribedByIds(W)}writeValue(W){this._value=W}registerOnChange(W){this._onChange=W}registerOnTouched(W){this._onTouched=W}setDisabledState(W){this.disabled=W,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(W){const Me=W.keyCode,ie=this._keyManager.activeItem;if(Me===n.wn)this._chipInput.focused&&(0,n.rp)(W,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(W.preventDefault(),ie?this._keyManager.setActiveItem(ie):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(Me!==n.i7&&Me!==n.n6||!ie)super._handleKeydown(W);else{const pe=this._chipActions.filter(Wt=>Wt._isPrimary===ie._isPrimary&&!this._skipPredicate(Wt)),Be=pe.indexOf(ie),Tt=W.keyCode===n.i7?-1:1;W.preventDefault(),Be>-1&&this._isValidIndex(Be+Tt)&&this._keyManager.setActiveItem(pe[Be+Tt])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const W=this._chips.length?this._chips.toArray().map(Me=>Me.value):[];this._value=W,this.change.emit(new St(this,W)),this.valueChange.emit(W),this._onChange(W),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.aKT),v.rXU(v.gRc),v.rXU(k.dS,8),v.rXU(T.cV,8),v.rXU(T.j4,8),v.rXU(b.es),v.rXU(T.vO,10))};static#t=this.\u0275cmp=v.VBU({type:Jt,selectors:[["mat-chip-grid"]],contentQueries:function(Me,ie,pe){if(1&Me&&v.wni(pe,we,5),2&Me){let Be;v.mGM(Be=v.lsd())&&(ie._chips=Be)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(Me,ie){1&Me&&v.bIt("focus",function(){return ie.focus()})("blur",function(){return ie._blur()}),2&Me&&(v.BMQ("role",ie.role)("tabindex",ie.disabled||ie._chips&&0===ie._chips.length?-1:ie.tabIndex)("aria-disabled",ie.disabled.toString())("aria-invalid",ie.errorState),v.AVh("mat-mdc-chip-list-disabled",ie.disabled)("mat-mdc-chip-list-invalid",ie.errorState)("mat-mdc-chip-list-required",ie.required))},inputs:{disabled:[2,"disabled","disabled",v.L39],placeholder:"placeholder",required:[2,"required","required",v.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[v.Jv_([{provide:w.qT,useExisting:Jt}]),v.GFd,v.Vt3,v.aNF],ngContentSelectors:ce,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Me,ie){1&Me&&(v.NAR(),v.j41(0,"div",0),v.SdG(1),v.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return Jt})(),wt=0,ln=(()=>{class Jt{get chipGrid(){return this._chipGrid}set chipGrid(W){W&&(this._chipGrid=W,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(W){this._disabled=W}get empty(){return!this.inputElement.value}constructor(W,Me,ie){this._elementRef=W,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new v.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+wt++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=Me.separatorKeyCodes,ie&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(W){this.empty&&W.keyCode===n.G_?(W.repeat||this._chipGrid._focusLastChip(),W.preventDefault()):this._emitChipEnd(W)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(W){(!W||this._isSeparatorKey(W))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),W?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(W){const Me=this._elementRef.nativeElement;W.length?Me.setAttribute("aria-describedby",W.join(" ")):Me.removeAttribute("aria-describedby")}_isSeparatorKey(W){return!(0,n.rp)(W)&&new Set(this.separatorKeyCodes).has(W.keyCode)}static#e=this.\u0275fac=function(Me){return new(Me||Jt)(v.rXU(v.aKT),v.rXU(ve),v.rXU(w.xb,8))};static#t=this.\u0275dir=v.FsC({type:Jt,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(Me,ie){1&Me&&v.bIt("keydown",function(Be){return ie._keydown(Be)})("blur",function(){return ie._blur()})("focus",function(){return ie._focus()})("input",function(){return ie._onInput()}),2&Me&&(v.Mr5("id",ie.id),v.BMQ("disabled",ie.disabled||null)("placeholder",ie.placeholder||null)("aria-invalid",ie._chipGrid&&ie._chipGrid.ngControl?ie._chipGrid.ngControl.invalid:null)("aria-required",ie._chipGrid&&ie._chipGrid.required||null)("required",ie._chipGrid&&ie._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",v.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",v.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[v.GFd,v.OA$]})}return Jt})(),Bn=(()=>{class Jt{static#e=this.\u0275fac=function(Me){return new(Me||Jt)};static#t=this.\u0275mod=v.$C({type:Jt});static#n=this.\u0275inj=v.G2t({providers:[b.es,{provide:ve,useValue:{separatorKeyCodes:[n.Fm]}}],imports:[b.yE,b.pZ,b.yE]})}return Jt})()},6600:(jt,Se,l)=>{"use strict";l.d(Se,{r5:()=>Z,ed:()=>F,MJ:()=>Ie,es:()=>de,de:()=>Xe,QC:()=>Xt,is:()=>at,$E:()=>Tt,yE:()=>X,D7:()=>Gt,wT:()=>xn,Sy:()=>hi,MI:()=>nn,wg:()=>Pt,r6:()=>Wt,Ej:()=>un,pZ:()=>vn,Ex:()=>wt,X0:()=>Q,tO:()=>Qe,jb:()=>kn,TL:()=>Gn});var t=l(3953),n=l(9888),p=l(8203),b=l(177),E=l(6860),M=l(4085),S=l(5286),u=l(7336);const I=["*",[["mat-option"],["ng-container"]]],k=["*","mat-option, ng-container"],T=["text"],w=[[["mat-icon"]],"*"],D=["mat-icon","*"];function f(je,ze){if(1&je&&t.nrm(0,"mat-pseudo-checkbox",1),2&je){const Re=t.XpG();t.Y8G("disabled",Re.disabled)("state",Re.selected?"checked":"unchecked")}}function V(je,ze){if(1&je&&t.nrm(0,"mat-pseudo-checkbox",3),2&je){const Re=t.XpG();t.Y8G("disabled",Re.disabled)}}function K(je,ze){if(1&je&&(t.j41(0,"span",4),t.EFF(1),t.k0s()),2&je){const Re=t.XpG();t.R7$(),t.SpI("(",Re.group.label,")")}}const ne=["mat-internal-form-field",""],U=["*"];let Z=(()=>{class je{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return je})(),F=(()=>{class je{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return je})();const z=new t.nKC("mat-sanity-checks",{providedIn:"root",factory:function J(){return!0}});let X=(()=>{class je{constructor(Re,it,We){this._sanityChecks=it,this._document=We,this._hasDoneGlobalChecks=!1,Re._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Re){return!(0,E.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Re])}static#e=this.\u0275fac=function(it){return new(it||je)(t.KVO(n.Q_),t.KVO(z,8),t.KVO(b.qQ))};static#t=this.\u0275mod=t.$C({type:je});static#n=this.\u0275inj=t.G2t({imports:[p.jI,p.jI]})}return je})();class Q{constructor(ze,Re,it,We,ht){this._defaultMatcher=ze,this.ngControl=Re,this._parentFormGroup=it,this._parentForm=We,this._stateChanges=ht,this.errorState=!1}updateErrorState(){const ze=this.errorState,Re=this._parentFormGroup||this._parentForm,it=this.matcher||this._defaultMatcher,We=this.ngControl?this.ngControl.control:null,ht=it?.isErrorState(We,Re)??!1;ht!==ze&&(this.errorState=ht,this._stateChanges.next())}}class Ie{constructor(){this._localeChanges=new S.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(ze){return this.isDateInstance(ze)&&this.isValid(ze)?ze:null}deserialize(ze){return null==ze||this.isDateInstance(ze)&&this.isValid(ze)?ze:this.invalid()}setLocale(ze){this.locale=ze,this._localeChanges.next()}compareDate(ze,Re){return this.getYear(ze)-this.getYear(Re)||this.getMonth(ze)-this.getMonth(Re)||this.getDate(ze)-this.getDate(Re)}sameDate(ze,Re){if(ze&&Re){let it=this.isValid(ze),We=this.isValid(Re);return it&&We?!this.compareDate(ze,Re):it==We}return ze==Re}clampDate(ze,Re,it){return Re&&this.compareDate(ze,Re)<0?Re:it&&this.compareDate(ze,it)>0?it:ze}}const Xe=new t.nKC("mat-date-formats");let de=(()=>{class je{isErrorState(Re,it){return!!(Re&&Re.invalid&&(Re.touched||it&&it.submitted))}static#e=this.\u0275fac=function(it){return new(it||je)};static#t=this.\u0275prov=t.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();var wt=function(je){return je[je.FADING_IN=0]="FADING_IN",je[je.VISIBLE=1]="VISIBLE",je[je.FADING_OUT=2]="FADING_OUT",je[je.HIDDEN=3]="HIDDEN",je}(wt||{});class ln{constructor(ze,Re,it,We=!1){this._renderer=ze,this.element=Re,this.config=it,this._animationForciblyDisabledThroughCss=We,this.state=wt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mn=(0,E.BQ)({passive:!0,capture:!0});class Bn{constructor(){this._events=new Map,this._delegateEventHandler=ze=>{const Re=(0,E.Fb)(ze);Re&&this._events.get(ze.type)?.forEach((it,We)=>{(We===Re||We.contains(Re))&&it.forEach(ht=>ht.handleEvent(ze))})}}addHandler(ze,Re,it,We){const ht=this._events.get(Re);if(ht){const He=ht.get(it);He?He.add(We):ht.set(it,new Set([We]))}else this._events.set(Re,new Map([[it,new Set([We])]])),ze.runOutsideAngular(()=>{document.addEventListener(Re,this._delegateEventHandler,Mn)})}removeHandler(ze,Re,it){const We=this._events.get(ze);if(!We)return;const ht=We.get(Re);ht&&(ht.delete(it),0===ht.size&&We.delete(Re),0===We.size&&(this._events.delete(ze),document.removeEventListener(ze,this._delegateEventHandler,Mn)))}}const Jt={enterDuration:225,exitDuration:150},W=(0,E.BQ)({passive:!0,capture:!0}),Me=["mousedown","touchstart"],ie=["mouseup","mouseleave","touchend","touchcancel"];class pe{static#e=this._eventManager=new Bn;constructor(ze,Re,it,We){this._target=ze,this._ngZone=Re,this._platform=We,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,We.isBrowser&&(this._containerElement=(0,M.i8)(it))}fadeInRipple(ze,Re,it={}){const We=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ht={...Jt,...it.animation};it.centered&&(ze=We.left+We.width/2,Re=We.top+We.height/2);const He=it.radius||function Be(je,ze,Re){const it=Math.max(Math.abs(je-Re.left),Math.abs(je-Re.right)),We=Math.max(Math.abs(ze-Re.top),Math.abs(ze-Re.bottom));return Math.sqrt(it*it+We*We)}(ze,Re,We),Ke=ze-We.left,Kt=Re-We.top,gt=ht.enterDuration,Ct=document.createElement("div");Ct.classList.add("mat-ripple-element"),Ct.style.left=Ke-He+"px",Ct.style.top=Kt-He+"px",Ct.style.height=2*He+"px",Ct.style.width=2*He+"px",null!=it.color&&(Ct.style.backgroundColor=it.color),Ct.style.transitionDuration=`${gt}ms`,this._containerElement.appendChild(Ct);const _n=window.getComputedStyle(Ct),Vn=_n.transitionDuration,mi="none"===_n.transitionProperty||"0s"===Vn||"0s, 0s"===Vn||0===We.width&&0===We.height,Oi=new ln(this,Ct,it,mi);Ct.style.transform="scale3d(1, 1, 1)",Oi.state=wt.FADING_IN,it.persistent||(this._mostRecentTransientRipple=Oi);let Mi=null;return!mi&&(gt||ht.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wi=()=>{Mi&&(Mi.fallbackTimer=null),clearTimeout(ji),this._finishRippleTransition(Oi)},Ki=()=>this._destroyRipple(Oi),ji=setTimeout(Ki,gt+100);Ct.addEventListener("transitionend",wi),Ct.addEventListener("transitioncancel",Ki),Mi={onTransitionEnd:wi,onTransitionCancel:Ki,fallbackTimer:ji}}),this._activeRipples.set(Oi,Mi),(mi||!gt)&&this._finishRippleTransition(Oi),Oi}fadeOutRipple(ze){if(ze.state===wt.FADING_OUT||ze.state===wt.HIDDEN)return;const Re=ze.element,it={...Jt,...ze.config.animation};Re.style.transitionDuration=`${it.exitDuration}ms`,Re.style.opacity="0",ze.state=wt.FADING_OUT,(ze._animationForciblyDisabledThroughCss||!it.exitDuration)&&this._finishRippleTransition(ze)}fadeOutAll(){this._getActiveRipples().forEach(ze=>ze.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ze=>{ze.config.persistent||ze.fadeOut()})}setupTriggerEvents(ze){const Re=(0,M.i8)(ze);!this._platform.isBrowser||!Re||Re===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Re,Me.forEach(it=>{pe._eventManager.addHandler(this._ngZone,it,Re,this)}))}handleEvent(ze){"mousedown"===ze.type?this._onMousedown(ze):"touchstart"===ze.type?this._onTouchStart(ze):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ie.forEach(Re=>{this._triggerElement.addEventListener(Re,this,W)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ze){ze.state===wt.FADING_IN?this._startFadeOutTransition(ze):ze.state===wt.FADING_OUT&&this._destroyRipple(ze)}_startFadeOutTransition(ze){const Re=ze===this._mostRecentTransientRipple,{persistent:it}=ze.config;ze.state=wt.VISIBLE,!it&&(!Re||!this._isPointerDown)&&ze.fadeOut()}_destroyRipple(ze){const Re=this._activeRipples.get(ze)??null;this._activeRipples.delete(ze),this._activeRipples.size||(this._containerRect=null),ze===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ze.state=wt.HIDDEN,null!==Re&&(ze.element.removeEventListener("transitionend",Re.onTransitionEnd),ze.element.removeEventListener("transitioncancel",Re.onTransitionCancel),null!==Re.fallbackTimer&&clearTimeout(Re.fallbackTimer)),ze.element.remove()}_onMousedown(ze){const Re=(0,n._G)(ze),it=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Re&&!it&&(this._isPointerDown=!0,this.fadeInRipple(ze.clientX,ze.clientY,this._target.rippleConfig))}_onTouchStart(ze){if(!this._target.rippleDisabled&&!(0,n.w6)(ze)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Re=ze.changedTouches;if(Re)for(let it=0;it<Re.length;it++)this.fadeInRipple(Re[it].clientX,Re[it].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ze=>{!ze.config.persistent&&(ze.state===wt.VISIBLE||ze.config.terminateOnPointerUp&&ze.state===wt.FADING_IN)&&ze.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ze=this._triggerElement;ze&&(Me.forEach(Re=>pe._eventManager.removeHandler(Re,ze,this)),this._pointerUpEventsRegistered&&(ie.forEach(Re=>ze.removeEventListener(Re,this,W)),this._pointerUpEventsRegistered=!1))}}const Tt=new t.nKC("mat-ripple-global-options");let Wt=(()=>{class je{get disabled(){return this._disabled}set disabled(Re){Re&&this.fadeOutAllNonPersistent(),this._disabled=Re,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Re){this._trigger=Re,this._setupTriggerEventsIfEnabled()}constructor(Re,it,We,ht,He){this._elementRef=Re,this._animationMode=He,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ht||{},this._rippleRenderer=new pe(this,it,Re,We)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Re,it=0,We){return"number"==typeof Re?this._rippleRenderer.fadeInRipple(Re,it,{...this.rippleConfig,...We}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Re})}static#e=this.\u0275fac=function(it){return new(it||je)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(E.OD),t.rXU(Tt,8),t.rXU(t.bc$,8))};static#t=this.\u0275dir=t.FsC({type:je,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(it,We){2&it&&t.AVh("mat-ripple-unbounded",We.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return je})(),vn=(()=>{class je{static#e=this.\u0275fac=function(it){return new(it||je)};static#t=this.\u0275mod=t.$C({type:je});static#n=this.\u0275inj=t.G2t({imports:[X,X]})}return je})(),Pt=(()=>{class je{constructor(Re){this._animationMode=Re,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(it){return new(it||je)(t.rXU(t.bc$,8))};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(it,We){2&it&&t.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===We.state)("mat-pseudo-checkbox-checked","checked"===We.state)("mat-pseudo-checkbox-disabled",We.disabled)("mat-pseudo-checkbox-minimal","minimal"===We.appearance)("mat-pseudo-checkbox-full","full"===We.appearance)("_mat-animation-noopable","NoopAnimations"===We._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(it,We){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return je})(),dn=(()=>{class je{static#e=this.\u0275fac=function(it){return new(it||je)};static#t=this.\u0275mod=t.$C({type:je});static#n=this.\u0275inj=t.G2t({imports:[X]})}return je})();const at=new t.nKC("MAT_OPTION_PARENT_COMPONENT");let pt=0;const Xt=new t.nKC("MatOptgroup");let Gt=(()=>{class je{constructor(Re){this.disabled=!1,this._labelId="mat-optgroup-label-"+pt++,this._inert=Re?.inertGroups??!1}static#e=this.\u0275fac=function(it){return new(it||je)(t.rXU(at,8))};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(it,We){2&it&&t.BMQ("role",We._inert?null:"group")("aria-disabled",We._inert?null:We.disabled.toString())("aria-labelledby",We._inert?null:We._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",t.L39]},exportAs:["matOptgroup"],standalone:!0,features:[t.Jv_([{provide:Xt,useExisting:je}]),t.GFd,t.aNF],ngContentSelectors:k,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(it,We){1&it&&(t.NAR(I),t.j41(0,"span",0)(1,"span",1),t.EFF(2),t.SdG(3),t.k0s()(),t.SdG(4,1)),2&it&&(t.AVh("mdc-list-item--disabled",We.disabled),t.Y8G("id",We._labelId),t.R7$(2),t.SpI("",We.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return je})(),pn=0;class nn{constructor(ze,Re=!1){this.source=ze,this.isUserInput=Re}}let xn=(()=>{class je{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Re){this._disabled=Re}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Re,it,We,ht){this._element=Re,this._changeDetectorRef=it,this._parent=We,this.group=ht,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+pn++,this.onSelectionChange=new t.bkB,this._stateChanges=new S.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Re=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Re&&this._emitSelectionChangeEvent())}deselect(Re=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Re&&this._emitSelectionChangeEvent())}focus(Re,it){const We=this._getHostElement();"function"==typeof We.focus&&We.focus(it)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Re){(Re.keyCode===u.Fm||Re.keyCode===u.t6)&&!(0,u.rp)(Re)&&(this._selectViaInteraction(),Re.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Re=this.viewValue;Re!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Re)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Re=!1){this.onSelectionChange.emit(new nn(this,Re))}static#e=this.\u0275fac=function(it){return new(it||je)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(at,8),t.rXU(Xt,8))};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["mat-option"]],viewQuery:function(it,We){if(1&it&&t.GBs(T,7),2&it){let ht;t.mGM(ht=t.lsd())&&(We._text=ht.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(it,We){1&it&&t.bIt("click",function(){return We._selectViaInteraction()})("keydown",function(He){return We._handleKeydown(He)}),2&it&&(t.Mr5("id",We.id),t.BMQ("aria-selected",We.selected)("aria-disabled",We.disabled.toString()),t.AVh("mdc-list-item--selected",We.selected)("mat-mdc-option-multiple",We.multiple)("mat-mdc-option-active",We.active)("mdc-list-item--disabled",We.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",t.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[t.GFd,t.aNF],ngContentSelectors:D,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(it,We){1&it&&(t.NAR(w),t.DNE(0,f,1,2,"mat-pseudo-checkbox",1),t.SdG(1),t.j41(2,"span",2,0),t.SdG(4,1),t.k0s(),t.DNE(5,V,1,1,"mat-pseudo-checkbox",3)(6,K,2,1,"span",4),t.nrm(7,"div",5)),2&it&&(t.vxM(We.multiple?0:-1),t.R7$(5),t.vxM(We.multiple||!We.selected||We.hideSingleSelectionIndicator?-1:5),t.R7$(),t.vxM(We.group&&We.group._inert?6:-1),t.R7$(),t.Y8G("matRippleTrigger",We._getHostElement())("matRippleDisabled",We.disabled||We.disableRipple))},dependencies:[Pt,Wt],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return je})();function kn(je,ze,Re){if(Re.length){let it=ze.toArray(),We=Re.toArray(),ht=0;for(let He=0;He<je+1;He++)it[He].group&&it[He].group===We[ht]&&ht++;return ht}return 0}function Gn(je,ze,Re,it){return je<Re?je:je+ze>Re+it?Math.max(0,je-it+ze):Re}let hi=(()=>{class je{static#e=this.\u0275fac=function(it){return new(it||je)};static#t=this.\u0275mod=t.$C({type:je});static#n=this.\u0275inj=t.G2t({imports:[vn,X,dn]})}return je})();const Ht={capture:!0},dt=["focus","mousedown","mouseenter","touchstart"],Vt="mat-ripple-loader-uninitialized",ct="mat-ripple-loader-class-name",kt="mat-ripple-loader-centered",qt="mat-ripple-loader-disabled";let un=(()=>{class je{constructor(){this._document=(0,t.WQX)(b.qQ,{optional:!0}),this._animationMode=(0,t.WQX)(t.bc$,{optional:!0}),this._globalRippleOptions=(0,t.WQX)(Tt,{optional:!0}),this._platform=(0,t.WQX)(E.OD),this._ngZone=(0,t.WQX)(t.SKi),this._hosts=new Map,this._onInteraction=Re=>{const it=(0,E.Fb)(Re);if(it instanceof HTMLElement){const We=it.closest(`[${Vt}="${this._globalRippleOptions?.namespace??""}"]`);We&&this._createRipple(We)}},this._ngZone.runOutsideAngular(()=>{for(const Re of dt)this._document?.addEventListener(Re,this._onInteraction,Ht)})}ngOnDestroy(){const Re=this._hosts.keys();for(const it of Re)this.destroyRipple(it);for(const it of dt)this._document?.removeEventListener(it,this._onInteraction,Ht)}configureRipple(Re,it){Re.setAttribute(Vt,this._globalRippleOptions?.namespace??""),(it.className||!Re.hasAttribute(ct))&&Re.setAttribute(ct,it.className||""),it.centered&&Re.setAttribute(kt,""),it.disabled&&Re.setAttribute(qt,"")}getRipple(Re){return this._hosts.get(Re)||this._createRipple(Re)}setDisabled(Re,it){const We=this._hosts.get(Re);We?We.disabled=it:it?Re.setAttribute(qt,""):Re.removeAttribute(qt)}_createRipple(Re){if(!this._document)return;const it=this._hosts.get(Re);if(it)return it;Re.querySelector(".mat-ripple")?.remove();const We=this._document.createElement("span");We.classList.add("mat-ripple",Re.getAttribute(ct)),Re.append(We);const ht=new Wt(new t.aKT(We),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return ht._isInitialized=!0,ht.trigger=Re,ht.centered=Re.hasAttribute(kt),ht.disabled=Re.hasAttribute(qt),this.attachRipple(Re,ht),ht}attachRipple(Re,it){Re.removeAttribute(Vt),this._hosts.set(Re,it)}destroyRipple(Re){const it=this._hosts.get(Re);it&&(it.ngOnDestroy(),this._hosts.delete(Re))}static#e=this.\u0275fac=function(it){return new(it||je)};static#t=this.\u0275prov=t.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),Qe=(()=>{class je{static#e=this.\u0275fac=function(it){return new(it||je)};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(it,We){2&it&&t.AVh("mdc-form-field--align-end","before"===We.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[t.aNF],attrs:ne,ngContentSelectors:U,decls:1,vars:0,template:function(it,We){1&it&&(t.NAR(),t.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return je})()},5084:(jt,Se,l)=>{"use strict";l.d(Se,{X6:()=>An});var t=l(9888),n=l(7987),p=l(6939),v=l(177),b=l(3953),E=l(8834),M=l(494),S=l(6600),u=l(5286),I=l(4337),k=l(4421),T=l(4670),w=l(7336),D=l(8203),f=l(6860),V=l(3176),K=l(9969);l(9417),l(3719),l(9631);const Z=["mat-calendar-body",""];function F(ye,_t){return this._trackRow(_t)}const J=(ye,_t)=>_t.id;function z(ye,_t){if(1&ye&&(b.j41(0,"tr",0)(1,"td",3),b.EFF(2),b.k0s()()),2&ye){const q=b.XpG();b.R7$(),b.xc7("padding-top",q._cellPadding)("padding-bottom",q._cellPadding),b.BMQ("colspan",q.numCols),b.R7$(),b.SpI(" ",q.label," ")}}function X(ye,_t){if(1&ye&&(b.j41(0,"td",3),b.EFF(1),b.k0s()),2&ye){const q=b.XpG(2);b.xc7("padding-top",q._cellPadding)("padding-bottom",q._cellPadding),b.BMQ("colspan",q._firstRowOffset),b.R7$(),b.SpI(" ",q._firstRowOffset>=q.labelMinRequiredCells?q.label:""," ")}}function $(ye,_t){if(1&ye){const q=b.RV6();b.j41(0,"td",6)(1,"button",7),b.bIt("click",function(Fe){const mt=b.eBV(q).$implicit,ut=b.XpG(2);return b.Njj(ut._cellClicked(mt,Fe))})("focus",function(Fe){const mt=b.eBV(q).$implicit,ut=b.XpG(2);return b.Njj(ut._emitActiveDateChange(mt,Fe))}),b.j41(2,"span",8),b.EFF(3),b.k0s(),b.nrm(4,"span",9),b.k0s()()}if(2&ye){const q=_t.$implicit,Ue=_t.$index,Fe=b.XpG().$index,mt=b.XpG();b.xc7("width",mt._cellWidth)("padding-top",mt._cellPadding)("padding-bottom",mt._cellPadding),b.BMQ("data-mat-row",Fe)("data-mat-col",Ue),b.R7$(),b.AVh("mat-calendar-body-disabled",!q.enabled)("mat-calendar-body-active",mt._isActiveCell(Fe,Ue))("mat-calendar-body-range-start",mt._isRangeStart(q.compareValue))("mat-calendar-body-range-end",mt._isRangeEnd(q.compareValue))("mat-calendar-body-in-range",mt._isInRange(q.compareValue))("mat-calendar-body-comparison-bridge-start",mt._isComparisonBridgeStart(q.compareValue,Fe,Ue))("mat-calendar-body-comparison-bridge-end",mt._isComparisonBridgeEnd(q.compareValue,Fe,Ue))("mat-calendar-body-comparison-start",mt._isComparisonStart(q.compareValue))("mat-calendar-body-comparison-end",mt._isComparisonEnd(q.compareValue))("mat-calendar-body-in-comparison-range",mt._isInComparisonRange(q.compareValue))("mat-calendar-body-preview-start",mt._isPreviewStart(q.compareValue))("mat-calendar-body-preview-end",mt._isPreviewEnd(q.compareValue))("mat-calendar-body-in-preview",mt._isInPreview(q.compareValue)),b.Y8G("ngClass",q.cssClasses)("tabindex",mt._isActiveCell(Fe,Ue)?0:-1),b.BMQ("aria-label",q.ariaLabel)("aria-disabled",!q.enabled||null)("aria-pressed",mt._isSelected(q.compareValue))("aria-current",mt.todayValue===q.compareValue?"date":null)("aria-describedby",mt._getDescribedby(q.compareValue)),b.R7$(),b.AVh("mat-calendar-body-selected",mt._isSelected(q.compareValue))("mat-calendar-body-comparison-identical",mt._isComparisonIdentical(q.compareValue))("mat-calendar-body-today",mt.todayValue===q.compareValue),b.R7$(),b.SpI(" ",q.displayValue," ")}}function te(ye,_t){if(1&ye&&(b.j41(0,"tr",1),b.DNE(1,X,2,6,"td",4),b.Z7z(2,$,5,48,"td",5,J),b.k0s()),2&ye){const q=_t.$implicit,Ue=_t.$index,Fe=b.XpG();b.R7$(),b.vxM(0===Ue&&Fe._firstRowOffset?1:-1),b.R7$(),b.Dyx(q)}}function G(ye,_t){if(1&ye&&(b.j41(0,"th",2)(1,"span",6),b.EFF(2),b.k0s(),b.j41(3,"span",3),b.EFF(4),b.k0s()()),2&ye){const q=_t.$implicit;b.R7$(2),b.JRh(q.long),b.R7$(2),b.JRh(q.narrow)}}const oe=["*"];function ce(ye,_t){}function le(ye,_t){if(1&ye){const q=b.RV6();b.j41(0,"mat-month-view",4),b.mxI("activeDateChange",function(Fe){b.eBV(q);const mt=b.XpG();return b.DH7(mt.activeDate,Fe)||(mt.activeDate=Fe),b.Njj(Fe)}),b.bIt("_userSelection",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._dateSelected(Fe))})("dragStarted",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._dragStarted(Fe))})("dragEnded",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._dragEnded(Fe))}),b.k0s()}if(2&ye){const q=b.XpG();b.R50("activeDate",q.activeDate),b.Y8G("selected",q.selected)("dateFilter",q.dateFilter)("maxDate",q.maxDate)("minDate",q.minDate)("dateClass",q.dateClass)("comparisonStart",q.comparisonStart)("comparisonEnd",q.comparisonEnd)("startDateAccessibleName",q.startDateAccessibleName)("endDateAccessibleName",q.endDateAccessibleName)("activeDrag",q._activeDrag)}}function ve(ye,_t){if(1&ye){const q=b.RV6();b.j41(0,"mat-year-view",5),b.mxI("activeDateChange",function(Fe){b.eBV(q);const mt=b.XpG();return b.DH7(mt.activeDate,Fe)||(mt.activeDate=Fe),b.Njj(Fe)}),b.bIt("monthSelected",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._monthSelectedInYearView(Fe))})("selectedChange",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._goToDateInView(Fe,"month"))}),b.k0s()}if(2&ye){const q=b.XpG();b.R50("activeDate",q.activeDate),b.Y8G("selected",q.selected)("dateFilter",q.dateFilter)("maxDate",q.maxDate)("minDate",q.minDate)("dateClass",q.dateClass)}}function Q(ye,_t){if(1&ye){const q=b.RV6();b.j41(0,"mat-multi-year-view",6),b.mxI("activeDateChange",function(Fe){b.eBV(q);const mt=b.XpG();return b.DH7(mt.activeDate,Fe)||(mt.activeDate=Fe),b.Njj(Fe)}),b.bIt("yearSelected",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._yearSelectedInMultiYearView(Fe))})("selectedChange",function(Fe){b.eBV(q);const mt=b.XpG();return b.Njj(mt._goToDateInView(Fe,"year"))}),b.k0s()}if(2&ye){const q=b.XpG();b.R50("activeDate",q.activeDate),b.Y8G("selected",q.selected)("dateFilter",q.dateFilter)("maxDate",q.maxDate)("minDate",q.minDate)("dateClass",q.dateClass)}}function R(ye,_t){}const L=["button"],H=[[["","matDatepickerToggleIcon",""]]],fe=["[matDatepickerToggleIcon]"];function Ie(ye,_t){1&ye&&(b.qSk(),b.j41(0,"svg",2),b.nrm(1,"path",3),b.k0s())}let ot=(()=>{class ye{constructor(){this.changes=new u.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(q,Ue){return`${q} \u2013 ${Ue}`}formatYearRangeLabel(q,Ue){return`${q} to ${Ue}`}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)};static#t=this.\u0275prov=b.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),It=0;class Ae{constructor(_t,q,Ue,Fe,mt={},ut=_t,Pn){this.value=_t,this.displayValue=q,this.ariaLabel=Ue,this.enabled=Fe,this.cssClasses=mt,this.compareValue=ut,this.rawValue=Pn,this.id=It++}}let we=1;const _e=(0,f.BQ)({passive:!1,capture:!0}),de=(0,f.BQ)({passive:!0,capture:!0}),Te=(0,f.BQ)({passive:!0});let Pe=(()=>{class ye{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(q,Ue){this._elementRef=q,this._ngZone=Ue,this._platform=(0,b.WQX)(f.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new b.bkB,this.previewChange=new b.bkB,this.activeDateChange=new b.bkB,this.dragStarted=new b.bkB,this.dragEnded=new b.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,b.WQX)(b.zZn),this._trackRow=Fe=>Fe,this._enterHandler=Fe=>{if(this._skipNextFocus&&"focus"===Fe.type)this._skipNextFocus=!1;else if(Fe.target&&this.isRange){const mt=this._getCellFromElement(Fe.target);mt&&this._ngZone.run(()=>this.previewChange.emit({value:mt.enabled?mt:null,event:Fe}))}},this._touchmoveHandler=Fe=>{if(!this.isRange)return;const mt=Bn(Fe),ut=mt?this._getCellFromElement(mt):null;mt!==Fe.target&&(this._didDragSinceMouseDown=!0),tt(Fe.target)&&Fe.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:ut?.enabled?ut:null,event:Fe}))},this._leaveHandler=Fe=>{null!==this.previewEnd&&this.isRange&&("blur"!==Fe.type&&(this._didDragSinceMouseDown=!0),Fe.target&&this._getCellFromElement(Fe.target)&&(!Fe.relatedTarget||!this._getCellFromElement(Fe.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Fe})))},this._mousedownHandler=Fe=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const mt=Fe.target&&this._getCellFromElement(Fe.target);!mt||!this._isInRange(mt.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:mt.rawValue,event:Fe})})},this._mouseupHandler=Fe=>{if(!this.isRange)return;const mt=tt(Fe.target);mt?mt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const ut=this._getCellFromElement(mt);this.dragEnded.emit({value:ut?.rawValue??null,event:Fe})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:Fe})})},this._touchendHandler=Fe=>{const mt=Bn(Fe);mt&&this._mouseupHandler({target:mt})},this._id="mat-calendar-body-"+we++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ue.runOutsideAngular(()=>{const Fe=q.nativeElement;Fe.addEventListener("touchmove",this._touchmoveHandler,_e),Fe.addEventListener("mouseenter",this._enterHandler,de),Fe.addEventListener("focus",this._enterHandler,de),Fe.addEventListener("mouseleave",this._leaveHandler,de),Fe.addEventListener("blur",this._leaveHandler,de),Fe.addEventListener("mousedown",this._mousedownHandler,Te),Fe.addEventListener("touchstart",this._mousedownHandler,Te),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(q,Ue){this._didDragSinceMouseDown||q.enabled&&this.selectedValueChange.emit({value:q.value,event:Ue})}_emitActiveDateChange(q,Ue){q.enabled&&this.activeDateChange.emit({value:q.value,event:Ue})}_isSelected(q){return this.startValue===q||this.endValue===q}ngOnChanges(q){const Ue=q.numCols,{rows:Fe,numCols:mt}=this;(q.rows||Ue)&&(this._firstRowOffset=Fe&&Fe.length&&Fe[0].length?mt-Fe[0].length:0),(q.cellAspectRatio||Ue||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/mt+"%"),(Ue||!this._cellWidth)&&(this._cellWidth=100/mt+"%")}ngOnDestroy(){const q=this._elementRef.nativeElement;q.removeEventListener("touchmove",this._touchmoveHandler,_e),q.removeEventListener("mouseenter",this._enterHandler,de),q.removeEventListener("focus",this._enterHandler,de),q.removeEventListener("mouseleave",this._leaveHandler,de),q.removeEventListener("blur",this._leaveHandler,de),q.removeEventListener("mousedown",this._mousedownHandler,Te),q.removeEventListener("touchstart",this._mousedownHandler,Te),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(q,Ue){let Fe=q*this.numCols+Ue;return q&&(Fe-=this._firstRowOffset),Fe==this.activeCell}_focusActiveCell(q=!0){(0,b.mal)(()=>{setTimeout(()=>{const Ue=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ue&&(q||(this._skipNextFocus=!0),Ue.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(q){return wt(q,this.startValue,this.endValue)}_isRangeEnd(q){return ln(q,this.startValue,this.endValue)}_isInRange(q){return Mn(q,this.startValue,this.endValue,this.isRange)}_isComparisonStart(q){return wt(q,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(q,Ue,Fe){if(!this._isComparisonStart(q)||this._isRangeStart(q)||!this._isInRange(q))return!1;let mt=this.rows[Ue][Fe-1];if(!mt){const ut=this.rows[Ue-1];mt=ut&&ut[ut.length-1]}return mt&&!this._isRangeEnd(mt.compareValue)}_isComparisonBridgeEnd(q,Ue,Fe){if(!this._isComparisonEnd(q)||this._isRangeEnd(q)||!this._isInRange(q))return!1;let mt=this.rows[Ue][Fe+1];if(!mt){const ut=this.rows[Ue+1];mt=ut&&ut[0]}return mt&&!this._isRangeStart(mt.compareValue)}_isComparisonEnd(q){return ln(q,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(q){return Mn(q,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(q){return this.comparisonStart===this.comparisonEnd&&q===this.comparisonStart}_isPreviewStart(q){return wt(q,this.previewStart,this.previewEnd)}_isPreviewEnd(q){return ln(q,this.previewStart,this.previewEnd)}_isInPreview(q){return Mn(q,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(q){return this.isRange?this.startValue===q&&this.endValue===q?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===q?this._startDateLabelId:this.endValue===q?this._endDateLabelId:null:null}_getCellFromElement(q){const Ue=tt(q);if(Ue){const Fe=Ue.getAttribute("data-mat-row"),mt=Ue.getAttribute("data-mat-col");if(Fe&&mt)return this.rows[parseInt(Fe)][parseInt(mt)]}return null}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(b.aKT),b.rXU(b.SKi))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[b.OA$,b.aNF],attrs:Z,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Ue,Fe){1&Ue&&(b.DNE(0,z,3,6,"tr",0),b.Z7z(1,te,4,1,"tr",1,F,!0),b.j41(3,"label",2),b.EFF(4),b.k0s(),b.j41(5,"label",2),b.EFF(6),b.k0s()),2&Ue&&(b.vxM(Fe._firstRowOffset<Fe.labelMinRequiredCells?0:-1),b.R7$(),b.Dyx(Fe.rows),b.R7$(2),b.Y8G("id",Fe._startDateLabelId),b.R7$(),b.SpI(" ",Fe.startDateAccessibleName,"\n"),b.R7$(),b.Y8G("id",Fe._endDateLabelId),b.R7$(),b.SpI(" ",Fe.endDateAccessibleName,"\n"))},dependencies:[v.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return ye})();function St(ye){return"TD"===ye?.nodeName}function tt(ye){let _t;return St(ye)?_t=ye:St(ye.parentNode)?_t=ye.parentNode:St(ye.parentNode?.parentNode)&&(_t=ye.parentNode.parentNode),null!=_t?.getAttribute("data-mat-row")?_t:null}function wt(ye,_t,q){return null!==q&&_t!==q&&ye<q&&ye===_t}function ln(ye,_t,q){return null!==_t&&_t!==q&&ye>=_t&&ye===q}function Mn(ye,_t,q,Ue){return Ue&&null!==_t&&null!==q&&_t!==q&&ye>=_t&&ye<=q}function Bn(ye){const _t=ye.changedTouches[0];return document.elementFromPoint(_t.clientX,_t.clientY)}class Jt{constructor(_t,q){this.start=_t,this.end=q}}let Ft=(()=>{class ye{constructor(q,Ue){this.selection=q,this._adapter=Ue,this._selectionChanged=new u.B7,this.selectionChanged=this._selectionChanged,this.selection=q}updateSelection(q,Ue){const Fe=this.selection;this.selection=q,this._selectionChanged.next({selection:q,source:Ue,oldValue:Fe})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(q){return this._adapter.isDateInstance(q)&&this._adapter.isValid(q)}static#e=this.\u0275fac=function(Ue){b.QTQ()};static#t=this.\u0275prov=b.jDH({token:ye,factory:ye.\u0275fac})}return ye})(),W=(()=>{class ye extends Ft{constructor(q){super(null,q)}add(q){super.updateSelection(q,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const q=new ye(this._adapter);return q.updateSelection(this.selection,this),q}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.KVO(S.MJ))};static#t=this.\u0275prov=b.jDH({token:ye,factory:ye.\u0275fac})}return ye})();const pe={provide:Ft,deps:[[new b.Xx1,new b.kdw,Ft],S.MJ],useFactory:function ie(ye,_t){return ye||new W(_t)}},Wt=new b.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let pt=0,Xt=(()=>{class ye{get activeDate(){return this._activeDate}set activeDate(q){const Ue=this._activeDate,Fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Fe,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ue,this._activeDate)||this._init()}get selected(){return this._selected}set selected(q){this._selected=q instanceof Jt?q:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(q){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get maxDate(){return this._maxDate}set maxDate(q){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}constructor(q,Ue,Fe,mt,ut){this._changeDetectorRef=q,this._dateFormats=Ue,this._dateAdapter=Fe,this._dir=mt,this._rangeStrategy=ut,this._rerenderSubscription=I.y.EMPTY,this.activeDrag=null,this.selectedChange=new b.bkB,this._userSelection=new b.bkB,this.dragStarted=new b.bkB,this.dragEnded=new b.bkB,this.activeDateChange=new b.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,V.Z)(null)).subscribe(()=>this._init())}ngOnChanges(q){const Ue=q.comparisonStart||q.comparisonEnd;Ue&&!Ue.firstChange&&this._setRanges(this.selected),q.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(q){const Ue=q.value,Fe=this._getDateFromDayOfMonth(Ue);let mt,ut;this._selected instanceof Jt?(mt=this._getDateInCurrentMonth(this._selected.start),ut=this._getDateInCurrentMonth(this._selected.end)):mt=ut=this._getDateInCurrentMonth(this._selected),(mt!==Ue||ut!==Ue)&&this.selectedChange.emit(Fe),this._userSelection.emit({value:Fe,event:q.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(q){const Fe=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(q.value),this._dateAdapter.compareDate(Fe,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(q){const Ue=this._activeDate,Fe=this._isRtl();switch(q.keyCode){case w.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Fe?1:-1);break;case w.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Fe?-1:1);break;case w.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case w.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case w.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case w.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case w.w_:this.activeDate=q.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case w.dB:this.activeDate=q.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case w.Fm:case w.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&q.preventDefault());case w._f:return void(null!=this._previewEnd&&!(0,w.rp)(q)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:q}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:q})),q.preventDefault(),q.stopPropagation()));default:return}this._dateAdapter.compareDate(Ue,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),q.preventDefault()}_handleCalendarBodyKeyup(q){(q.keyCode===w.t6||q.keyCode===w.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:q}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let q=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(q)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(q){this._matCalendarBody._focusActiveCell(q)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:q,value:Ue}){if(this._rangeStrategy){const Fe=Ue?Ue.rawValue:null,mt=this._rangeStrategy.createPreview(Fe,this.selected,q);if(this._previewStart=this._getCellCompareValue(mt.start),this._previewEnd=this._getCellCompareValue(mt.end),this.activeDrag&&Fe){const ut=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,Fe,q);ut&&(this._previewStart=this._getCellCompareValue(ut.start),this._previewEnd=this._getCellCompareValue(ut.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(q){if(this.activeDrag)if(q.value){const Ue=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,q.value,q.event);this.dragEnded.emit({value:Ue??null,event:q.event})}else this.dragEnded.emit({value:null,event:q.event})}_getDateFromDayOfMonth(q){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),q)}_initWeekdays(){const q=this._dateAdapter.getFirstDayOfWeek(),Ue=this._dateAdapter.getDayOfWeekNames("narrow");let mt=this._dateAdapter.getDayOfWeekNames("long").map((ut,Pn)=>({long:ut,narrow:Ue[Pn],id:pt++}));this._weekdays=mt.slice(q).concat(mt.slice(0,q))}_createWeekCells(){const q=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ue=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Fe=0,mt=this._firstWeekOffset;Fe<q;Fe++,mt++){7==mt&&(this._weeks.push([]),mt=0);const ut=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Fe+1),Pn=this._shouldEnableDate(ut),Yt=this._dateAdapter.format(ut,this._dateFormats.display.dateA11yLabel),Dn=this.dateClass?this.dateClass(ut,"month"):void 0;this._weeks[this._weeks.length-1].push(new Ae(Fe+1,Ue[Fe],Yt,Pn,Dn,this._getCellCompareValue(ut),ut))}}_shouldEnableDate(q){return!!q&&(!this.minDate||this._dateAdapter.compareDate(q,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(q,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(q))}_getDateInCurrentMonth(q){return q&&this._hasSameMonthAndYear(q,this.activeDate)?this._dateAdapter.getDate(q):null}_hasSameMonthAndYear(q,Ue){return!(!q||!Ue||this._dateAdapter.getMonth(q)!=this._dateAdapter.getMonth(Ue)||this._dateAdapter.getYear(q)!=this._dateAdapter.getYear(Ue))}_getCellCompareValue(q){if(q){const Ue=this._dateAdapter.getYear(q),Fe=this._dateAdapter.getMonth(q),mt=this._dateAdapter.getDate(q);return new Date(Ue,Fe,mt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(q){q instanceof Jt?(this._rangeStart=this._getCellCompareValue(q.start),this._rangeEnd=this._getCellCompareValue(q.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(q),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(q){return!this.dateFilter||this.dateFilter(q)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(b.gRc),b.rXU(S.de,8),b.rXU(S.MJ,8),b.rXU(D.dS,8),b.rXU(Wt,8))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-month-view"]],viewQuery:function(Ue,Fe){if(1&Ue&&b.GBs(Pe,5),2&Ue){let mt;b.mGM(mt=b.lsd())&&(Fe._matCalendarBody=mt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[b.OA$,b.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(Ue,Fe){1&Ue&&(b.j41(0,"table",0)(1,"thead",1)(2,"tr"),b.Z7z(3,G,5,2,"th",2,J),b.k0s(),b.j41(5,"tr",3),b.nrm(6,"th",4),b.k0s()(),b.j41(7,"tbody",5),b.bIt("selectedValueChange",function(ut){return Fe._dateSelected(ut)})("activeDateChange",function(ut){return Fe._updateActiveDate(ut)})("previewChange",function(ut){return Fe._previewChanged(ut)})("dragStarted",function(ut){return Fe.dragStarted.emit(ut)})("dragEnded",function(ut){return Fe._dragEnded(ut)})("keyup",function(ut){return Fe._handleCalendarBodyKeyup(ut)})("keydown",function(ut){return Fe._handleCalendarBodyKeydown(ut)}),b.k0s()()),2&Ue&&(b.R7$(3),b.Dyx(Fe._weekdays),b.R7$(4),b.Y8G("label",Fe._monthLabel)("rows",Fe._weeks)("todayValue",Fe._todayDate)("startValue",Fe._rangeStart)("endValue",Fe._rangeEnd)("comparisonStart",Fe._comparisonRangeStart)("comparisonEnd",Fe._comparisonRangeEnd)("previewStart",Fe._previewStart)("previewEnd",Fe._previewEnd)("isRange",Fe._isRange)("labelMinRequiredCells",3)("activeCell",Fe._dateAdapter.getDate(Fe.activeDate)-1)("startDateAccessibleName",Fe.startDateAccessibleName)("endDateAccessibleName",Fe.endDateAccessibleName))},dependencies:[Pe],encapsulation:2,changeDetection:0})}return ye})();const Gt=24;let nn=(()=>{class ye{get activeDate(){return this._activeDate}set activeDate(q){let Ue=this._activeDate;const Fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Fe,this.minDate,this.maxDate),xn(this._dateAdapter,Ue,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(q){this._selected=q instanceof Jt?q:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q)),this._setSelectedYear(q)}get minDate(){return this._minDate}set minDate(q){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get maxDate(){return this._maxDate}set maxDate(q){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}constructor(q,Ue,Fe){this._changeDetectorRef=q,this._dateAdapter=Ue,this._dir=Fe,this._rerenderSubscription=I.y.EMPTY,this.selectedChange=new b.bkB,this.yearSelected=new b.bkB,this.activeDateChange=new b.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,V.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ue=this._dateAdapter.getYear(this._activeDate)-kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Fe=0,mt=[];Fe<Gt;Fe++)mt.push(Ue+Fe),4==mt.length&&(this._years.push(mt.map(ut=>this._createCellForYear(ut))),mt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(q){const Ue=q.value,Fe=this._dateAdapter.createDate(Ue,0,1),mt=this._getDateFromYear(Ue);this.yearSelected.emit(Fe),this.selectedChange.emit(mt)}_updateActiveDate(q){const Fe=this._activeDate;this.activeDate=this._getDateFromYear(q.value),this._dateAdapter.compareDate(Fe,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(q){const Ue=this._activeDate,Fe=this._isRtl();switch(q.keyCode){case w.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Fe?1:-1);break;case w.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Fe?-1:1);break;case w.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case w.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case w.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case w.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Gt-kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case w.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,q.altKey?10*-Gt:-Gt);break;case w.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,q.altKey?10*Gt:Gt);break;case w.Fm:case w.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ue,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),q.preventDefault()}_handleCalendarBodyKeyup(q){(q.keyCode===w.t6||q.keyCode===w.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:q}),this._selectionKeyPressed=!1)}_getActiveCell(){return kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(q){const Ue=this._dateAdapter.getMonth(this.activeDate),Fe=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(q,Ue,1));return this._dateAdapter.createDate(q,Ue,Math.min(this._dateAdapter.getDate(this.activeDate),Fe))}_createCellForYear(q){const Ue=this._dateAdapter.createDate(q,0,1),Fe=this._dateAdapter.getYearName(Ue),mt=this.dateClass?this.dateClass(Ue,"multi-year"):void 0;return new Ae(q,Fe,Fe,this._shouldEnableYear(q),mt)}_shouldEnableYear(q){if(null==q||this.maxDate&&q>this._dateAdapter.getYear(this.maxDate)||this.minDate&&q<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Fe=this._dateAdapter.createDate(q,0,1);this._dateAdapter.getYear(Fe)==q;Fe=this._dateAdapter.addCalendarDays(Fe,1))if(this.dateFilter(Fe))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(q){if(this._selectedYear=null,q instanceof Jt){const Ue=q.start||q.end;Ue&&(this._selectedYear=this._dateAdapter.getYear(Ue))}else q&&(this._selectedYear=this._dateAdapter.getYear(q))}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(b.gRc),b.rXU(S.MJ,8),b.rXU(D.dS,8))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-multi-year-view"]],viewQuery:function(Ue,Fe){if(1&Ue&&b.GBs(Pe,5),2&Ue){let mt;b.mGM(mt=b.lsd())&&(Fe._matCalendarBody=mt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[b.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(Ue,Fe){1&Ue&&(b.j41(0,"table",0)(1,"thead",1)(2,"tr"),b.nrm(3,"th",2),b.k0s()(),b.j41(4,"tbody",3),b.bIt("selectedValueChange",function(ut){return Fe._yearSelected(ut)})("activeDateChange",function(ut){return Fe._updateActiveDate(ut)})("keyup",function(ut){return Fe._handleCalendarBodyKeyup(ut)})("keydown",function(ut){return Fe._handleCalendarBodyKeydown(ut)}),b.k0s()()),2&Ue&&(b.R7$(4),b.Y8G("rows",Fe._years)("todayValue",Fe._todayYear)("startValue",Fe._selectedYear)("endValue",Fe._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Fe._getActiveCell()))},dependencies:[Pe],encapsulation:2,changeDetection:0})}return ye})();function xn(ye,_t,q,Ue,Fe){const mt=ye.getYear(_t),ut=ye.getYear(q),Pn=Gn(ye,Ue,Fe);return Math.floor((mt-Pn)/Gt)===Math.floor((ut-Pn)/Gt)}function kn(ye,_t,q,Ue){return function hi(ye,_t){return(ye%_t+_t)%_t}(ye.getYear(_t)-Gn(ye,q,Ue),Gt)}function Gn(ye,_t,q){let Ue=0;return q?Ue=ye.getYear(q)-Gt+1:_t&&(Ue=ye.getYear(_t)),Ue}let Ht=(()=>{class ye{get activeDate(){return this._activeDate}set activeDate(q){let Ue=this._activeDate;const Fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Fe,this.minDate,this.maxDate),this._dateAdapter.getYear(Ue)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(q){this._selected=q instanceof Jt?q:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q)),this._setSelectedMonth(q)}get minDate(){return this._minDate}set minDate(q){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get maxDate(){return this._maxDate}set maxDate(q){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}constructor(q,Ue,Fe,mt){this._changeDetectorRef=q,this._dateFormats=Ue,this._dateAdapter=Fe,this._dir=mt,this._rerenderSubscription=I.y.EMPTY,this.selectedChange=new b.bkB,this.monthSelected=new b.bkB,this.activeDateChange=new b.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,V.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(q){const Ue=q.value,Fe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ue,1);this.monthSelected.emit(Fe);const mt=this._getDateFromMonth(Ue);this.selectedChange.emit(mt)}_updateActiveDate(q){const Fe=this._activeDate;this.activeDate=this._getDateFromMonth(q.value),this._dateAdapter.compareDate(Fe,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(q){const Ue=this._activeDate,Fe=this._isRtl();switch(q.keyCode){case w.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Fe?1:-1);break;case w.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Fe?-1:1);break;case w.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case w.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case w.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case w.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case w.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,q.altKey?-10:-1);break;case w.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,q.altKey?10:1);break;case w.Fm:case w.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ue,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),q.preventDefault()}_handleCalendarBodyKeyup(q){(q.keyCode===w.t6||q.keyCode===w.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:q}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let q=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ue=>Ue.map(Fe=>this._createCellForMonth(Fe,q[Fe]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(q){return q&&this._dateAdapter.getYear(q)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(q):null}_getDateFromMonth(q){const Ue=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),q,1),Fe=this._dateAdapter.getNumDaysInMonth(Ue);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),q,Math.min(this._dateAdapter.getDate(this.activeDate),Fe))}_createCellForMonth(q,Ue){const Fe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),q,1),mt=this._dateAdapter.format(Fe,this._dateFormats.display.monthYearA11yLabel),ut=this.dateClass?this.dateClass(Fe,"year"):void 0;return new Ae(q,Ue.toLocaleUpperCase(),mt,this._shouldEnableMonth(q),ut)}_shouldEnableMonth(q){const Ue=this._dateAdapter.getYear(this.activeDate);if(null==q||this._isYearAndMonthAfterMaxDate(Ue,q)||this._isYearAndMonthBeforeMinDate(Ue,q))return!1;if(!this.dateFilter)return!0;for(let mt=this._dateAdapter.createDate(Ue,q,1);this._dateAdapter.getMonth(mt)==q;mt=this._dateAdapter.addCalendarDays(mt,1))if(this.dateFilter(mt))return!0;return!1}_isYearAndMonthAfterMaxDate(q,Ue){if(this.maxDate){const Fe=this._dateAdapter.getYear(this.maxDate),mt=this._dateAdapter.getMonth(this.maxDate);return q>Fe||q===Fe&&Ue>mt}return!1}_isYearAndMonthBeforeMinDate(q,Ue){if(this.minDate){const Fe=this._dateAdapter.getYear(this.minDate),mt=this._dateAdapter.getMonth(this.minDate);return q<Fe||q===Fe&&Ue<mt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(q){this._selectedMonth=q instanceof Jt?this._getMonthInCurrentYear(q.start)||this._getMonthInCurrentYear(q.end):this._getMonthInCurrentYear(q)}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(b.gRc),b.rXU(S.de,8),b.rXU(S.MJ,8),b.rXU(D.dS,8))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-year-view"]],viewQuery:function(Ue,Fe){if(1&Ue&&b.GBs(Pe,5),2&Ue){let mt;b.mGM(mt=b.lsd())&&(Fe._matCalendarBody=mt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[b.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(Ue,Fe){1&Ue&&(b.j41(0,"table",0)(1,"thead",1)(2,"tr"),b.nrm(3,"th",2),b.k0s()(),b.j41(4,"tbody",3),b.bIt("selectedValueChange",function(ut){return Fe._monthSelected(ut)})("activeDateChange",function(ut){return Fe._updateActiveDate(ut)})("keyup",function(ut){return Fe._handleCalendarBodyKeyup(ut)})("keydown",function(ut){return Fe._handleCalendarBodyKeydown(ut)}),b.k0s()()),2&Ue&&(b.R7$(4),b.Y8G("label",Fe._yearLabel)("rows",Fe._months)("todayValue",Fe._todayMonth)("startValue",Fe._selectedMonth)("endValue",Fe._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Fe._dateAdapter.getMonth(Fe.activeDate)))},dependencies:[Pe],encapsulation:2,changeDetection:0})}return ye})(),dt=1,Vt=(()=>{class ye{constructor(q,Ue,Fe,mt,ut){this._intl=q,this.calendar=Ue,this._dateAdapter=Fe,this._dateFormats=mt,this._id="mat-calendar-header-"+dt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>ut.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Gt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Gt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(q,Ue){return"month"==this.calendar.currentView?this._dateAdapter.getYear(q)==this._dateAdapter.getYear(Ue)&&this._dateAdapter.getMonth(q)==this._dateAdapter.getMonth(Ue):"year"==this.calendar.currentView?this._dateAdapter.getYear(q)==this._dateAdapter.getYear(Ue):xn(this._dateAdapter,q,Ue,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ue=this._dateAdapter.getYear(this.calendar.activeDate)-kn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Fe=Ue+Gt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ue,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(Fe,0,1))]}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(ot),b.rXU((0,b.Rfq)(()=>ct)),b.rXU(S.MJ,8),b.rXU(S.de,8),b.rXU(b.gRc))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[b.aNF],ngContentSelectors:oe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(Ue,Fe){1&Ue&&(b.NAR(),b.j41(0,"div",0)(1,"div",1)(2,"label",2),b.EFF(3),b.k0s(),b.j41(4,"button",3),b.bIt("click",function(){return Fe.currentPeriodClicked()}),b.j41(5,"span",4),b.EFF(6),b.k0s(),b.qSk(),b.j41(7,"svg",5),b.nrm(8,"polygon",6),b.k0s()(),b.joV(),b.nrm(9,"div",7),b.SdG(10),b.j41(11,"button",8),b.bIt("click",function(){return Fe.previousClicked()}),b.k0s(),b.j41(12,"button",9),b.bIt("click",function(){return Fe.nextClicked()}),b.k0s()()()),2&Ue&&(b.R7$(2),b.Y8G("id",Fe._periodButtonLabelId),b.R7$(),b.JRh(Fe.periodButtonDescription),b.R7$(),b.BMQ("aria-label",Fe.periodButtonLabel)("aria-describedby",Fe._periodButtonLabelId),b.R7$(2),b.JRh(Fe.periodButtonText),b.R7$(),b.AVh("mat-calendar-invert","month"!==Fe.calendar.currentView),b.R7$(4),b.Y8G("disabled",!Fe.previousEnabled()),b.BMQ("aria-label",Fe.prevButtonLabel),b.R7$(),b.Y8G("disabled",!Fe.nextEnabled()),b.BMQ("aria-label",Fe.nextButtonLabel))},dependencies:[E.$z,E.iY],encapsulation:2,changeDetection:0})}return ye})(),ct=(()=>{class ye{get startAt(){return this._startAt}set startAt(q){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get selected(){return this._selected}set selected(q){this._selected=q instanceof Jt?q:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get minDate(){return this._minDate}set minDate(q){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get maxDate(){return this._maxDate}set maxDate(q){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(q))}get activeDate(){return this._clampedActiveDate}set activeDate(q){this._clampedActiveDate=this._dateAdapter.clampDate(q,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(q){const Ue=this._currentView!==q?q:null;this._currentView=q,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ue&&this.viewChanged.emit(Ue)}constructor(q,Ue,Fe,mt){this._dateAdapter=Ue,this._dateFormats=Fe,this._changeDetectorRef=mt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new b.bkB,this.yearSelected=new b.bkB,this.monthSelected=new b.bkB,this.viewChanged=new b.bkB(!0),this._userSelection=new b.bkB,this._userDragDrop=new b.bkB,this._activeDrag=null,this.stateChanges=new u.B7,this._intlChanges=q.changes.subscribe(()=>{mt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new p.A8(this.headerComponent||Vt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(q){const Ue=q.minDate&&!this._dateAdapter.sameDate(q.minDate.previousValue,q.minDate.currentValue)?q.minDate:void 0,Fe=q.maxDate&&!this._dateAdapter.sameDate(q.maxDate.previousValue,q.maxDate.currentValue)?q.maxDate:void 0,mt=Ue||Fe||q.dateFilter;if(mt&&!mt.firstChange){const ut=this._getCurrentViewComponent();ut&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),ut._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(q){const Ue=q.value;(this.selected instanceof Jt||Ue&&!this._dateAdapter.sameDate(Ue,this.selected))&&this.selectedChange.emit(Ue),this._userSelection.emit(q)}_yearSelectedInMultiYearView(q){this.yearSelected.emit(q)}_monthSelectedInYearView(q){this.monthSelected.emit(q)}_goToDateInView(q,Ue){this.activeDate=q,this.currentView=Ue}_dragStarted(q){this._activeDrag=q}_dragEnded(q){this._activeDrag&&(q.value&&this._userDragDrop.emit(q),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(ot),b.rXU(S.MJ,8),b.rXU(S.de,8),b.rXU(b.gRc))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-calendar"]],viewQuery:function(Ue,Fe){if(1&Ue&&(b.GBs(Xt,5),b.GBs(Ht,5),b.GBs(nn,5)),2&Ue){let mt;b.mGM(mt=b.lsd())&&(Fe.monthView=mt.first),b.mGM(mt=b.lsd())&&(Fe.yearView=mt.first),b.mGM(mt=b.lsd())&&(Fe.multiYearView=mt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[b.Jv_([pe]),b.OA$,b.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(Ue,Fe){if(1&Ue&&(b.DNE(0,ce,0,0,"ng-template",0),b.j41(1,"div",1),b.DNE(2,le,1,11,"mat-month-view",2)(3,ve,1,6,"mat-year-view",3)(4,Q,1,6,"mat-multi-year-view",3),b.k0s()),2&Ue){let mt;b.Y8G("cdkPortalOutlet",Fe._calendarHeaderPortal),b.R7$(2),b.vxM("month"===(mt=Fe.currentView)?2:"year"===mt?3:"multi-year"===mt?4:-1)}},dependencies:[p.I3,t.vR,Xt,Ht,nn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ye})();const kt={transformPanel:(0,K.hZ)("transformPanel",[(0,K.kY)("void => enter-dropdown",(0,K.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,K.i7)([(0,K.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,K.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,K.kY)("void => enter-dialog",(0,K.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,K.i7)([(0,K.iF)({opacity:0,transform:"scale(0.7)"}),(0,K.iF)({transform:"none",opacity:1})]))),(0,K.kY)("* => void",(0,K.i0)("100ms linear",(0,K.iF)({opacity:0})))]),fadeInCalendar:(0,K.hZ)("fadeInCalendar",[(0,K.wk)("void",(0,K.iF)({opacity:0})),(0,K.wk)("enter",(0,K.iF)({opacity:1})),(0,K.kY)("void => *",(0,K.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},je={provide:new b.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const ye=(0,b.WQX)(n.hJ);return()=>ye.scrollStrategies.reposition()}}),deps:[n.hJ],useFactory:function Qe(ye){return()=>ye.scrollStrategies.reposition()}};let ze=(()=>{class ye{constructor(q,Ue,Fe,mt,ut,Pn){this._elementRef=q,this._changeDetectorRef=Ue,this._globalModel=Fe,this._dateAdapter=mt,this._rangeSelectionStrategy=ut,this._subscriptions=new I.y,this._animationDone=new u.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Pn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(q){const Ue=this._model.selection,Fe=q.value,mt=Ue instanceof Jt;if(mt&&this._rangeSelectionStrategy){const ut=this._rangeSelectionStrategy.selectionFinished(Fe,Ue,q.event);this._model.updateSelection(ut,this)}else Fe&&(mt||!this._dateAdapter.sameDate(Fe,Ue))&&this._model.add(Fe);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(q){this._model.updateSelection(q.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(q){this._isAnimating="start"===q.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(q,Ue){this._model=q?this._globalModel.clone():this._globalModel,this._actionsPortal=q,Ue&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(b.aKT),b.rXU(b.gRc),b.rXU(Ft),b.rXU(S.MJ),b.rXU(Wt,8),b.rXU(ot))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-datepicker-content"]],viewQuery:function(Ue,Fe){if(1&Ue&&b.GBs(ct,5),2&Ue){let mt;b.mGM(mt=b.lsd())&&(Fe._calendar=mt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(Ue,Fe){1&Ue&&b.Kam("@transformPanel.start",function(ut){return Fe._handleAnimationEvent(ut)})("@transformPanel.done",function(ut){return Fe._handleAnimationEvent(ut)}),2&Ue&&(b.zvX("@transformPanel",Fe._animationState),b.HbH(Fe.color?"mat-"+Fe.color:""),b.AVh("mat-datepicker-content-touch",Fe.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[b.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(Ue,Fe){if(1&Ue&&(b.j41(0,"div",0)(1,"mat-calendar",1),b.bIt("yearSelected",function(ut){return Fe.datepicker._selectYear(ut)})("monthSelected",function(ut){return Fe.datepicker._selectMonth(ut)})("viewChanged",function(ut){return Fe.datepicker._viewChanged(ut)})("_userSelection",function(ut){return Fe._handleUserSelection(ut)})("_userDragDrop",function(ut){return Fe._handleUserDragDrop(ut)}),b.k0s(),b.DNE(2,R,0,0,"ng-template",2),b.j41(3,"button",3),b.bIt("focus",function(){return Fe._closeButtonFocused=!0})("blur",function(){return Fe._closeButtonFocused=!1})("click",function(){return Fe.datepicker.close()}),b.EFF(4),b.k0s()()),2&Ue){let mt;b.AVh("mat-datepicker-content-container-with-custom-header",Fe.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Fe._actionsPortal),b.BMQ("aria-modal",!0)("aria-labelledby",null!==(mt=Fe._dialogLabelId)&&void 0!==mt?mt:void 0),b.R7$(),b.HbH(Fe.datepicker.panelClass),b.Y8G("id",Fe.datepicker.id)("startAt",Fe.datepicker.startAt)("startView",Fe.datepicker.startView)("minDate",Fe.datepicker._getMinDate())("maxDate",Fe.datepicker._getMaxDate())("dateFilter",Fe.datepicker._getDateFilter())("headerComponent",Fe.datepicker.calendarHeaderComponent)("selected",Fe._getSelected())("dateClass",Fe.datepicker.dateClass)("comparisonStart",Fe.comparisonStart)("comparisonEnd",Fe.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Fe.startDateAccessibleName)("endDateAccessibleName",Fe.endDateAccessibleName),b.R7$(),b.Y8G("cdkPortalOutlet",Fe._actionsPortal),b.R7$(),b.AVh("cdk-visually-hidden",!Fe._closeButtonFocused),b.Y8G("color",Fe.color||"primary"),b.R7$(),b.JRh(Fe._closeButtonText)}},dependencies:[t.kB,ct,p.I3,E.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[kt.transformPanel,kt.fadeInCalendar]},changeDetection:0})}return ye})(),Ct=(()=>{class ye{static#e=this.\u0275fac=function(Ue){return new(Ue||ye)};static#t=this.\u0275dir=b.FsC({type:ye,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return ye})(),_n=(()=>{class ye{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(q){this._disabled=q}constructor(q,Ue,Fe){this._intl=q,this._changeDetectorRef=Ue,this._stateChanges=I.y.EMPTY;const mt=Number(Fe);this.tabIndex=mt||0===mt?mt:null}ngOnChanges(q){q.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(q){this.datepicker&&!this.disabled&&(this.datepicker.open(),q.stopPropagation())}_watchStateChanges(){const q=this.datepicker?this.datepicker.stateChanges:(0,k.of)(),Ue=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,k.of)(),Fe=this.datepicker?(0,T.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,k.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,T.h)(this._intl.changes,q,Ue,Fe).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Ue){return new(Ue||ye)(b.rXU(ot),b.rXU(b.gRc),b.kS0("tabindex"))};static#t=this.\u0275cmp=b.VBU({type:ye,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Ue,Fe,mt){if(1&Ue&&b.wni(mt,Ct,5),2&Ue){let ut;b.mGM(ut=b.lsd())&&(Fe._customIcon=ut.first)}},viewQuery:function(Ue,Fe){if(1&Ue&&b.GBs(L,5),2&Ue){let mt;b.mGM(mt=b.lsd())&&(Fe._button=mt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Ue,Fe){1&Ue&&b.bIt("click",function(ut){return Fe._open(ut)}),2&Ue&&(b.BMQ("tabindex",null)("data-mat-calendar",Fe.datepicker?Fe.datepicker.id:null),b.AVh("mat-datepicker-toggle-active",Fe.datepicker&&Fe.datepicker.opened)("mat-accent",Fe.datepicker&&"accent"===Fe.datepicker.color)("mat-warn",Fe.datepicker&&"warn"===Fe.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",b.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[b.GFd,b.OA$,b.aNF],ngContentSelectors:fe,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Ue,Fe){1&Ue&&(b.NAR(H),b.j41(0,"button",1,0),b.DNE(2,Ie,2,0,":svg:svg",2),b.SdG(3),b.k0s()),2&Ue&&(b.Y8G("disabled",Fe.disabled)("disableRipple",Fe.disableRipple),b.BMQ("aria-haspopup",Fe.datepicker?"dialog":null)("aria-label",Fe.ariaLabel||Fe._intl.openCalendarLabel)("tabindex",Fe.disabled?-1:Fe.tabIndex),b.R7$(2),b.vxM(Fe._customIcon?-1:2))},dependencies:[E.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return ye})(),An=(()=>{class ye{static#e=this.\u0275fac=function(Ue){return new(Ue||ye)};static#t=this.\u0275mod=b.$C({type:ye});static#n=this.\u0275inj=b.G2t({providers:[ot,je],imports:[v.MD,E.Hl,n.z_,t.Pd,p.jc,S.yE,ze,_n,Vt,M.Gj]})}return ye})()},4006:(jt,Se,l)=>{"use strict";l.d(Se,{BI:()=>rt,CP:()=>oe,Vh:()=>le,bZ:()=>fe,hM:()=>we,tx:()=>Xe});var t=l(7987),n=l(177),p=l(3953),v=l(9888),b=l(2529),E=l(4085),M=l(6939),S=l(5286),u=l(4670),I=l(9418),k=l(8728),T=l(9493),w=l(3176),D=l(7336),V=(l(494),l(6600));function ne(Te,Pe){}l(9969);class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const c="mdc-dialog--open",Z="mdc-dialog--opening",F="mdc-dialog--closing";let X=(()=>{class Te extends b.sU{constructor(St,tt,wt,ln,Mn,Bn,Jt,Ft,W){super(St,tt,wt,ln,Mn,Bn,Jt,W),this._animationMode=Ft,this._animationStateChanged=new p.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?te(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?te(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Z,c)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(c),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(c),this._animationsEnabled?(this._hostElement.style.setProperty($,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(F)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(St){this._actionSectionCount+=St,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Z,F)}_waitForAnimationToComplete(St,tt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(tt,St)}_requestAnimationFrame(St){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(St):St()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(St){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:St})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(St){const tt=super.attachComponentPortal(St);return tt.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),tt}static#e=this.\u0275fac=function(tt){return new(tt||Te)(p.rXU(p.aKT),p.rXU(v.GX),p.rXU(n.qQ,8),p.rXU(U),p.rXU(v.Z7),p.rXU(p.SKi),p.rXU(t.yY),p.rXU(p.bc$,8),p.rXU(v.FN))};static#t=this.\u0275cmp=p.VBU({type:Te,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(tt,wt){2&tt&&(p.Mr5("id",wt._config.id),p.BMQ("aria-modal",wt._config.ariaModal)("role",wt._config.role)("aria-labelledby",wt._config.ariaLabel?null:wt._ariaLabelledByQueue[0])("aria-label",wt._config.ariaLabel)("aria-describedby",wt._config.ariaDescribedBy||null),p.AVh("_mat-animation-noopable",!wt._animationsEnabled)("mat-mdc-dialog-container-with-actions",wt._actionSectionCount>0))},standalone:!0,features:[p.Vt3,p.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(tt,wt){1&tt&&(p.j41(0,"div",0)(1,"div",1),p.DNE(2,ne,0,0,"ng-template",2),p.k0s()())},dependencies:[M.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Te})();const $="--mat-dialog-transition-duration";function te(Te){return null==Te?null:"number"==typeof Te?Te:Te.endsWith("ms")?(0,E.OE)(Te.substring(0,Te.length-2)):Te.endsWith("s")?1e3*(0,E.OE)(Te.substring(0,Te.length-1)):"0"===Te?0:null}var G=function(Te){return Te[Te.OPEN=0]="OPEN",Te[Te.CLOSING=1]="CLOSING",Te[Te.CLOSED=2]="CLOSED",Te}(G||{});class oe{constructor(Pe,St,tt){this._ref=Pe,this._containerInstance=tt,this._afterOpened=new S.B7,this._beforeClosed=new S.B7,this._state=G.OPEN,this.disableClose=St.disableClose,this.id=Pe.id,Pe.addPanelClass("mat-mdc-dialog-panel"),tt._animationStateChanged.pipe((0,k.p)(wt=>"opened"===wt.state),(0,T.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),tt._animationStateChanged.pipe((0,k.p)(wt=>"closed"===wt.state),(0,T.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Pe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,u.h)(this.backdropClick(),this.keydownEvents().pipe((0,k.p)(wt=>wt.keyCode===D._f&&!this.disableClose&&!(0,D.rp)(wt)))).subscribe(wt=>{this.disableClose||(wt.preventDefault(),ce(this,"keydown"===wt.type?"keyboard":"mouse"))})}close(Pe){this._result=Pe,this._containerInstance._animationStateChanged.pipe((0,k.p)(St=>"closing"===St.state),(0,T.s)(1)).subscribe(St=>{this._beforeClosed.next(Pe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),St.totalTime+100)}),this._state=G.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Pe){let St=this._ref.config.positionStrategy;return Pe&&(Pe.left||Pe.right)?Pe.left?St.left(Pe.left):St.right(Pe.right):St.centerHorizontally(),Pe&&(Pe.top||Pe.bottom)?Pe.top?St.top(Pe.top):St.bottom(Pe.bottom):St.centerVertically(),this._ref.updatePosition(),this}updateSize(Pe="",St=""){return this._ref.updateSize(Pe,St),this}addPanelClass(Pe){return this._ref.addPanelClass(Pe),this}removePanelClass(Pe){return this._ref.removePanelClass(Pe),this}getState(){return this._state}_finishDialogClose(){this._state=G.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function ce(Te,Pe,St){return Te._closeInteractionType=Pe,Te.close(St)}const le=new p.nKC("MatMdcDialogData"),ve=new p.nKC("mat-mdc-dialog-default-options"),Q=new p.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Te=(0,p.WQX)(t.hJ);return()=>Te.scrollStrategies.block()}});let H=0,fe=(()=>{class Te{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const St=this._parentDialog;return St?St._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(St,tt,wt,ln,Mn,Bn,Jt,Ft){this._overlay=St,this._defaultOptions=ln,this._scrollStrategy=Mn,this._parentDialog=Bn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.B7,this._afterOpenedAtThisLevel=new S.B7,this.dialogConfigClass=U,this.afterAllClosed=(0,I.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,w.Z)(void 0))),this._dialog=tt.get(b.lG),this._dialogRefConstructor=oe,this._dialogContainerType=X,this._dialogDataToken=le}open(St,tt){let wt;(tt={...this._defaultOptions||new U,...tt}).id=tt.id||"mat-mdc-dialog-"+H++,tt.scrollStrategy=tt.scrollStrategy||this._scrollStrategy();const ln=this._dialog.open(St,{...tt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:tt},{provide:b.Pe,useValue:tt}]},templateContext:()=>({dialogRef:wt}),providers:(Mn,Bn,Jt)=>(wt=new this._dialogRefConstructor(Mn,tt,Jt),wt.updatePosition(tt?.position),[{provide:this._dialogContainerType,useValue:Jt},{provide:this._dialogDataToken,useValue:Bn.data},{provide:this._dialogRefConstructor,useValue:wt}])});return wt.componentRef=ln.componentRef,wt.componentInstance=ln.componentInstance,this.openDialogs.push(wt),this.afterOpened.next(wt),wt.afterClosed().subscribe(()=>{const Mn=this.openDialogs.indexOf(wt);Mn>-1&&(this.openDialogs.splice(Mn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),wt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(St){return this.openDialogs.find(tt=>tt.id===St)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(St){let tt=St.length;for(;tt--;)St[tt].close()}static#e=this.\u0275fac=function(tt){return new(tt||Te)(p.KVO(t.hJ),p.KVO(p.zZn),p.KVO(n.aZ,8),p.KVO(ve,8),p.KVO(Q),p.KVO(Te,12),p.KVO(t.Sf),p.KVO(p.bc$,8))};static#t=this.\u0275prov=p.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),Ie=0,Xe=(()=>{class Te{constructor(St,tt,wt){this.dialogRef=St,this._elementRef=tt,this._dialog=wt,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=It(this._elementRef,this._dialog.openDialogs))}ngOnChanges(St){const tt=St._matDialogClose||St._matDialogCloseResult;tt&&(this.dialogResult=tt.currentValue)}_onButtonClick(St){ce(this.dialogRef,0===St.screenX&&0===St.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(tt){return new(tt||Te)(p.rXU(oe,8),p.rXU(p.aKT),p.rXU(fe))};static#t=this.\u0275dir=p.FsC({type:Te,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(tt,wt){1&tt&&p.bIt("click",function(Mn){return wt._onButtonClick(Mn)}),2&tt&&p.BMQ("aria-label",wt.ariaLabel||null)("type",wt.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[p.OA$]})}return Te})(),bt=(()=>{class Te{constructor(St,tt,wt){this._dialogRef=St,this._elementRef=tt,this._dialog=wt}ngOnInit(){this._dialogRef||(this._dialogRef=It(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(tt){return new(tt||Te)(p.rXU(oe,8),p.rXU(p.aKT),p.rXU(fe))};static#t=this.\u0275dir=p.FsC({type:Te,standalone:!0})}return Te})(),rt=(()=>{class Te extends bt{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Ie++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let St;return function(wt){return(St||(St=p.xGo(Te)))(wt||Te)}})();static#t=this.\u0275dir=p.FsC({type:Te,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(tt,wt){2&tt&&p.Mr5("id",wt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[p.Vt3]})}return Te})();function It(Te,Pe){let St=Te.nativeElement.parentElement;for(;St&&!St.classList.contains("mat-mdc-dialog-container");)St=St.parentElement;return St?Pe.find(tt=>tt.id===St.id):null}let we=(()=>{class Te{static#e=this.\u0275fac=function(tt){return new(tt||Te)};static#t=this.\u0275mod=p.$C({type:Te});static#n=this.\u0275inj=p.G2t({providers:[fe],imports:[b.Ph,t.z_,M.jc,V.yE,V.yE]})}return Te})()},3719:(jt,Se,l)=>{"use strict";l.d(Se,{JW:()=>we,RG:()=>at,TL:()=>yt,qT:()=>Jt,rl:()=>dn,xb:()=>ie,yw:()=>de});var t=l(3953),n=l(8203),p=l(4085),v=l(6860),b=l(177),E=l(4337),M=l(5286),S=l(4670),u=l(7605),I=l(8170),k=l(9969),T=l(2318),w=l(6600);const D=["notch"],f=["matFormFieldNotchedOutline",""],V=["*"],K=["textField"],ne=["iconPrefixContainer"],U=["textPrefixContainer"],c=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Z=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function F(pt,Xt){1&pt&&t.nrm(0,"span",19)}function J(pt,Xt){if(1&pt&&(t.j41(0,"label",18),t.SdG(1,1),t.DNE(2,F,1,0,"span",19),t.k0s()),2&pt){const Gt=t.XpG(2);t.Y8G("floating",Gt._shouldLabelFloat())("monitorResize",Gt._hasOutline())("id",Gt._labelId),t.BMQ("for",Gt._control.disableAutomaticLabeling?null:Gt._control.id),t.R7$(2),t.vxM(!Gt.hideRequiredMarker&&Gt._control.required?2:-1)}}function z(pt,Xt){if(1&pt&&t.DNE(0,J,3,5,"label",18),2&pt){const Gt=t.XpG();t.vxM(Gt._hasFloatingLabel()?0:-1)}}function X(pt,Xt){1&pt&&t.nrm(0,"div",5)}function $(pt,Xt){}function te(pt,Xt){if(1&pt&&t.DNE(0,$,0,0,"ng-template",11),2&pt){t.XpG(2);const Gt=t.sdS(1);t.Y8G("ngTemplateOutlet",Gt)}}function G(pt,Xt){if(1&pt&&(t.j41(0,"div",7),t.DNE(1,te,1,1,null,11),t.k0s()),2&pt){const Gt=t.XpG();t.Y8G("matFormFieldNotchedOutlineOpen",Gt._shouldLabelFloat()),t.R7$(),t.vxM(Gt._forceDisplayInfixLabel()?-1:1)}}function oe(pt,Xt){1&pt&&(t.j41(0,"div",8,2),t.SdG(2,2),t.k0s())}function ce(pt,Xt){1&pt&&(t.j41(0,"div",9,3),t.SdG(2,3),t.k0s())}function le(pt,Xt){}function ve(pt,Xt){if(1&pt&&t.DNE(0,le,0,0,"ng-template",11),2&pt){t.XpG();const Gt=t.sdS(1);t.Y8G("ngTemplateOutlet",Gt)}}function Q(pt,Xt){1&pt&&(t.j41(0,"div",12),t.SdG(1,4),t.k0s())}function R(pt,Xt){1&pt&&(t.j41(0,"div",13),t.SdG(1,5),t.k0s())}function L(pt,Xt){1&pt&&t.nrm(0,"div",14)}function H(pt,Xt){if(1&pt&&(t.j41(0,"div",16),t.SdG(1,6),t.k0s()),2&pt){const Gt=t.XpG();t.Y8G("@transitionMessages",Gt._subscriptAnimationState)}}function fe(pt,Xt){if(1&pt&&(t.j41(0,"mat-hint",20),t.EFF(1),t.k0s()),2&pt){const Gt=t.XpG(2);t.Y8G("id",Gt._hintLabelId),t.R7$(),t.JRh(Gt.hintLabel)}}function Ie(pt,Xt){if(1&pt&&(t.j41(0,"div",17),t.DNE(1,fe,2,2,"mat-hint",20),t.SdG(2,7),t.nrm(3,"div",21),t.SdG(4,8),t.k0s()),2&pt){const Gt=t.XpG();t.Y8G("@transitionMessages",Gt._subscriptAnimationState),t.R7$(),t.vxM(Gt.hintLabel?1:-1)}}let Xe=(()=>{class pt{static#e=this.\u0275fac=function(pn){return new(pn||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["mat-label"]],standalone:!0})}return pt})(),bt=0;const rt=new t.nKC("MatError");let yt=(()=>{class pt{constructor(Gt,pn){this.id="mat-mdc-error-"+bt++,Gt||pn.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(pn){return new(pn||pt)(t.kS0("aria-live"),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(pn,nn){2&pn&&t.Mr5("id",nn.id)},inputs:{id:"id"},standalone:!0,features:[t.Jv_([{provide:rt,useExisting:pt}])]})}return pt})(),ot=0,It=(()=>{class pt{constructor(){this.align="start",this.id="mat-mdc-hint-"+ot++}static#e=this.\u0275fac=function(pn){return new(pn||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(pn,nn){2&pn&&(t.Mr5("id",nn.id),t.BMQ("align",null),t.AVh("mat-mdc-form-field-hint-end","end"===nn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return pt})();const Ae=new t.nKC("MatPrefix");let we=(()=>{class pt{constructor(){this._isText=!1}set _isTextSelector(Gt){this._isText=!0}static#e=this.\u0275fac=function(pn){return new(pn||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[t.Jv_([{provide:Ae,useExisting:pt}])]})}return pt})();const _e=new t.nKC("MatSuffix");let de=(()=>{class pt{constructor(){this._isText=!1}set _isTextSelector(Gt){this._isText=!0}static#e=this.\u0275fac=function(pn){return new(pn||pt)};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[t.Jv_([{provide:_e,useExisting:pt}])]})}return pt})();const Te=new t.nKC("FloatingLabelParent");let Pe=(()=>{class pt{get floating(){return this._floating}set floating(Gt){this._floating=Gt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Gt){this._monitorResize=Gt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Gt){this._elementRef=Gt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,t.WQX)(I.a),this._ngZone=(0,t.WQX)(t.SKi),this._parent=(0,t.WQX)(Te),this._resizeSubscription=new E.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function St(pt){if(null!==pt.offsetParent)return pt.scrollWidth;const Gt=pt.cloneNode(!0);Gt.style.setProperty("position","absolute"),Gt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Gt);const pn=Gt.scrollWidth;return Gt.remove(),pn}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(pn){return new(pn||pt)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(pn,nn){2&pn&&t.AVh("mdc-floating-label--float-above",nn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return pt})();const tt="mdc-line-ripple--active",wt="mdc-line-ripple--deactivating";let ln=(()=>{class pt{constructor(Gt,pn){this._elementRef=Gt,this._handleTransitionEnd=nn=>{const xn=this._elementRef.nativeElement.classList,kn=xn.contains(wt);"opacity"===nn.propertyName&&kn&&xn.remove(tt,wt)},pn.runOutsideAngular(()=>{Gt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Gt=this._elementRef.nativeElement.classList;Gt.remove(wt),Gt.add(tt)}deactivate(){this._elementRef.nativeElement.classList.add(wt)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(pn){return new(pn||pt)(t.rXU(t.aKT),t.rXU(t.SKi))};static#t=this.\u0275dir=t.FsC({type:pt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return pt})(),Mn=(()=>{class pt{constructor(Gt,pn){this._elementRef=Gt,this._ngZone=pn,this.open=!1}ngAfterViewInit(){const Gt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Gt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Gt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Gt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Gt){this._notch.nativeElement.style.width=this.open&&Gt?`calc(${Gt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(pn){return new(pn||pt)(t.rXU(t.aKT),t.rXU(t.SKi))};static#t=this.\u0275cmp=t.VBU({type:pt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(pn,nn){if(1&pn&&t.GBs(D,5),2&pn){let xn;t.mGM(xn=t.lsd())&&(nn._notch=xn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(pn,nn){2&pn&&t.AVh("mdc-notched-outline--notched",nn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[t.aNF],attrs:f,ngContentSelectors:V,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(pn,nn){1&pn&&(t.NAR(),t.nrm(0,"div",1),t.j41(1,"div",2,0),t.SdG(3),t.k0s(),t.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return pt})();const Bn={transitionMessages:(0,k.hZ)("transitionMessages",[(0,k.wk)("enter",(0,k.iF)({opacity:1,transform:"translateY(0%)"})),(0,k.kY)("void => enter",[(0,k.iF)({opacity:0,transform:"translateY(-5px)"}),(0,k.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Jt=(()=>{class pt{static#e=this.\u0275fac=function(pn){return new(pn||pt)};static#t=this.\u0275dir=t.FsC({type:pt})}return pt})();const ie=new t.nKC("MatFormField"),pe=new t.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Be=0,dn=(()=>{class pt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Gt){this._hideRequiredMarker=(0,p.he)(Gt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Gt){Gt!==this._floatLabel&&(this._floatLabel=Gt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Gt){const pn=this._appearance;this._appearance=Gt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==pn&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Gt){this._subscriptSizing=Gt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Gt){this._hintLabel=Gt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Gt){this._explicitFormFieldControl=Gt}constructor(Gt,pn,nn,xn,kn,Gn,hi,Ht){this._elementRef=Gt,this._changeDetectorRef=pn,this._dir=xn,this._platform=kn,this._defaults=Gn,this._animationMode=hi,this._labelChild=(0,t.sbv)(Xe),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Be++,this._hintLabelId="mat-mdc-hint-"+Be++,this._subscriptAnimationState="",this._destroyed=new M.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,t.WQX)(t.zZn),this.getLabelId=(0,t.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,t.EWP)(()=>!!this._labelChild()),Gn&&(Gn.appearance&&(this.appearance=Gn.appearance),this._hideRequiredMarker=!!Gn?.hideRequiredMarker,Gn.color&&(this.color=Gn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(Gt){const pn=this._control,nn="mat-mdc-form-field-type-";Gt&&this._elementRef.nativeElement.classList.remove(nn+Gt.controlType),pn.controlType&&this._elementRef.nativeElement.classList.add(nn+pn.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=pn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),pn.ngControl&&pn.ngControl.valueChanges&&(this._valueChanges=pn.ngControl.valueChanges.pipe((0,u.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Gt=>!Gt._isText),this._hasTextPrefix=!!this._prefixChildren.find(Gt=>Gt._isText),this._hasIconSuffix=!!this._suffixChildren.find(Gt=>!Gt._isText),this._hasTextSuffix=!!this._suffixChildren.find(Gt=>Gt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,S.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,t.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,u.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Gt){const pn=this._control?this._control.ngControl:null;return pn&&pn[Gt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Gt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Gt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const pn=this._hintChildren?this._hintChildren.find(xn=>"start"===xn.align):null,nn=this._hintChildren?this._hintChildren.find(xn=>"end"===xn.align):null;pn?Gt.push(pn.id):this._hintLabel&&Gt.push(this._hintLabelId),nn&&Gt.push(nn.id)}else this._errorChildren&&Gt.push(...this._errorChildren.map(pn=>pn.id));this._control.setDescribedByIds(Gt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Gt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Gt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const pn=this._iconPrefixContainer?.nativeElement,nn=this._textPrefixContainer?.nativeElement,xn=pn?.getBoundingClientRect().width??0,kn=nn?.getBoundingClientRect().width??0;Gt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${xn+kn}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Gt=this._elementRef.nativeElement;if(Gt.getRootNode){const pn=Gt.getRootNode();return pn&&pn!==Gt}return document.documentElement.contains(Gt)}static#e=this.\u0275fac=function(pn){return new(pn||pt)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(n.dS),t.rXU(v.OD),t.rXU(pe,8),t.rXU(t.bc$,8),t.rXU(b.qQ))};static#t=this.\u0275cmp=t.VBU({type:pt,selectors:[["mat-form-field"]],contentQueries:function(pn,nn,xn){if(1&pn&&(t.C6U(xn,nn._labelChild,Xe,5),t.wni(xn,Jt,5),t.wni(xn,Ae,5),t.wni(xn,_e,5),t.wni(xn,rt,5),t.wni(xn,It,5)),2&pn){let kn;t.NyB(),t.mGM(kn=t.lsd())&&(nn._formFieldControl=kn.first),t.mGM(kn=t.lsd())&&(nn._prefixChildren=kn),t.mGM(kn=t.lsd())&&(nn._suffixChildren=kn),t.mGM(kn=t.lsd())&&(nn._errorChildren=kn),t.mGM(kn=t.lsd())&&(nn._hintChildren=kn)}},viewQuery:function(pn,nn){if(1&pn&&(t.GBs(K,5),t.GBs(ne,5),t.GBs(U,5),t.GBs(Pe,5),t.GBs(Mn,5),t.GBs(ln,5)),2&pn){let xn;t.mGM(xn=t.lsd())&&(nn._textField=xn.first),t.mGM(xn=t.lsd())&&(nn._iconPrefixContainer=xn.first),t.mGM(xn=t.lsd())&&(nn._textPrefixContainer=xn.first),t.mGM(xn=t.lsd())&&(nn._floatingLabel=xn.first),t.mGM(xn=t.lsd())&&(nn._notchedOutline=xn.first),t.mGM(xn=t.lsd())&&(nn._lineRipple=xn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(pn,nn){2&pn&&t.AVh("mat-mdc-form-field-label-always-float",nn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",nn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",nn._hasIconSuffix)("mat-form-field-invalid",nn._control.errorState)("mat-form-field-disabled",nn._control.disabled)("mat-form-field-autofilled",nn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===nn._animationMode)("mat-form-field-appearance-fill","fill"==nn.appearance)("mat-form-field-appearance-outline","outline"==nn.appearance)("mat-form-field-hide-placeholder",nn._hasFloatingLabel()&&!nn._shouldLabelFloat())("mat-focused",nn._control.focused)("mat-primary","accent"!==nn.color&&"warn"!==nn.color)("mat-accent","accent"===nn.color)("mat-warn","warn"===nn.color)("ng-untouched",nn._shouldForward("untouched"))("ng-touched",nn._shouldForward("touched"))("ng-pristine",nn._shouldForward("pristine"))("ng-dirty",nn._shouldForward("dirty"))("ng-valid",nn._shouldForward("valid"))("ng-invalid",nn._shouldForward("invalid"))("ng-pending",nn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[t.Jv_([{provide:ie,useExisting:pt},{provide:Te,useExisting:pt}]),t.aNF],ngContentSelectors:Z,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(pn,nn){if(1&pn){const xn=t.RV6();t.NAR(c),t.DNE(0,z,1,1,"ng-template",null,0,t.C5r),t.j41(2,"div",4,1),t.bIt("click",function(Gn){return t.eBV(xn),t.Njj(nn._control.onContainerClick(Gn))}),t.DNE(4,X,1,0,"div",5),t.j41(5,"div",6),t.DNE(6,G,2,2,"div",7)(7,oe,3,0,"div",8)(8,ce,3,0,"div",9),t.j41(9,"div",10),t.DNE(10,ve,1,1,null,11),t.SdG(11),t.k0s(),t.DNE(12,Q,2,0,"div",12)(13,R,2,0,"div",13),t.k0s(),t.DNE(14,L,1,0,"div",14),t.k0s(),t.j41(15,"div",15),t.DNE(16,H,2,1,"div",16)(17,Ie,5,2,"div",17),t.k0s()}if(2&pn){let xn;t.R7$(2),t.AVh("mdc-text-field--filled",!nn._hasOutline())("mdc-text-field--outlined",nn._hasOutline())("mdc-text-field--no-label",!nn._hasFloatingLabel())("mdc-text-field--disabled",nn._control.disabled)("mdc-text-field--invalid",nn._control.errorState),t.R7$(2),t.vxM(nn._hasOutline()||nn._control.disabled?-1:4),t.R7$(2),t.vxM(nn._hasOutline()?6:-1),t.R7$(),t.vxM(nn._hasIconPrefix?7:-1),t.R7$(),t.vxM(nn._hasTextPrefix?8:-1),t.R7$(2),t.vxM(!nn._hasOutline()||nn._forceDisplayInfixLabel()?10:-1),t.R7$(2),t.vxM(nn._hasTextSuffix?12:-1),t.R7$(),t.vxM(nn._hasIconSuffix?13:-1),t.R7$(),t.vxM(nn._hasOutline()?-1:14),t.R7$(),t.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===nn.subscriptSizing),t.R7$(),t.vxM("error"===(xn=nn._getDisplayedMessages())?16:"hint"===xn?17:-1)}},dependencies:[Pe,Mn,b.T3,ln,It],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Bn.transitionMessages]},changeDetection:0})}return pt})(),at=(()=>{class pt{static#e=this.\u0275fac=function(pn){return new(pn||pt)};static#t=this.\u0275mod=t.$C({type:pt});static#n=this.\u0275inj=t.G2t({imports:[w.yE,b.MD,T.w5,w.yE]})}return pt})()},9631:(jt,Se,l)=>{"use strict";l.d(Se,{Oh:()=>f,fg:()=>ne,fS:()=>U});var t=l(4085),n=l(6860),p=l(3953),v=l(1235),b=l(5286);const E=(0,n.BQ)({passive:!0});let M=(()=>{class c{constructor(F,J){this._platform=F,this._ngZone=J,this._monitoredElements=new Map}monitor(F){if(!this._platform.isBrowser)return v.w;const J=(0,t.i8)(F),z=this._monitoredElements.get(J);if(z)return z.subject;const X=new b.B7,$="cdk-text-field-autofilled",te=G=>{"cdk-text-field-autofill-start"!==G.animationName||J.classList.contains($)?"cdk-text-field-autofill-end"===G.animationName&&J.classList.contains($)&&(J.classList.remove($),this._ngZone.run(()=>X.next({target:G.target,isAutofilled:!1}))):(J.classList.add($),this._ngZone.run(()=>X.next({target:G.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{J.addEventListener("animationstart",te,E),J.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(J,{subject:X,unlisten:()=>{J.removeEventListener("animationstart",te,E)}}),X}stopMonitoring(F){const J=(0,t.i8)(F),z=this._monitoredElements.get(J);z&&(z.unlisten(),z.subject.complete(),J.classList.remove("cdk-text-field-autofill-monitored"),J.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(J))}ngOnDestroy(){this._monitoredElements.forEach((F,J)=>this.stopMonitoring(J))}static#e=this.\u0275fac=function(J){return new(J||c)(p.KVO(n.OD),p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),I=(()=>{class c{static#e=this.\u0275fac=function(J){return new(J||c)};static#t=this.\u0275mod=p.$C({type:c});static#n=this.\u0275inj=p.G2t({})}return c})();var k=l(9417),T=l(6600),w=l(3719);const f=new p.nKC("MAT_INPUT_VALUE_ACCESSOR"),V=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let K=0,ne=(()=>{class c{get disabled(){return this._disabled}set disabled(F){this._disabled=(0,t.he)(F),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(F){this._id=F||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(k.k0.required)??!1}set required(F){this._required=(0,t.he)(F)}get type(){return this._type}set type(F){this._type=F||"text",this._validateType(),!this._isTextarea&&(0,n.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(F){this._errorStateTracker.matcher=F}get value(){return this._inputValueAccessor.value}set value(F){F!==this.value&&(this._inputValueAccessor.value=F,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(F){this._readonly=(0,t.he)(F)}get errorState(){return this._errorStateTracker.errorState}set errorState(F){this._errorStateTracker.errorState=F}constructor(F,J,z,X,$,te,G,oe,ce,le){this._elementRef=F,this._platform=J,this.ngControl=z,this._autofillMonitor=oe,this._ngZone=ce,this._formField=le,this._uid="mat-input-"+K++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new b.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>(0,n.MU)().has(R)),this._iOSKeyupListener=R=>{const L=R.target;!L.value&&0===L.selectionStart&&0===L.selectionEnd&&(L.setSelectionRange(1,1),L.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const ve=this._elementRef.nativeElement,Q=ve.nodeName.toLowerCase();this._inputValueAccessor=G||ve,this._previousNativeValue=this.value,this.id=this.id,J.IOS&&ce.runOutsideAngular(()=>{F.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new T.X0(te,z,$,X,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Q,this._isTextarea="textarea"===Q,this._isInFormField=!!le,this._isNativeSelect&&(this.controlType=ve.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(F=>{this.autofilled=F.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(F){this._elementRef.nativeElement.focus(F)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(F){F!==this.focused&&(this.focused=F,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const F=this._elementRef.nativeElement.value;this._previousNativeValue!==F&&(this._previousNativeValue=F,this.stateChanges.next())}_dirtyCheckPlaceholder(){const F=this._getPlaceholder();if(F!==this._previousPlaceholder){const J=this._elementRef.nativeElement;this._previousPlaceholder=F,F?J.setAttribute("placeholder",F):J.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let F=this._elementRef.nativeElement.validity;return F&&F.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const F=this._elementRef.nativeElement,J=F.options[0];return this.focused||F.multiple||!this.empty||!!(F.selectedIndex>-1&&J&&J.label)}return this.focused||!this.empty}setDescribedByIds(F){F.length?this._elementRef.nativeElement.setAttribute("aria-describedby",F.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const F=this._elementRef.nativeElement;return this._isNativeSelect&&(F.multiple||F.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(J){return new(J||c)(p.rXU(p.aKT),p.rXU(n.OD),p.rXU(k.vO,10),p.rXU(k.cV,8),p.rXU(k.j4,8),p.rXU(T.es),p.rXU(f,10),p.rXU(M),p.rXU(p.SKi),p.rXU(w.xb,8))};static#t=this.\u0275dir=p.FsC({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(J,z){1&J&&p.bIt("focus",function(){return z._focusChanged(!0)})("blur",function(){return z._focusChanged(!1)})("input",function(){return z._onInput()}),2&J&&(p.Mr5("id",z.id)("disabled",z.disabled)("required",z.required),p.BMQ("name",z.name||null)("readonly",z.readonly&&!z._isNativeSelect||null)("aria-invalid",z.empty&&z.required?null:z.errorState)("aria-required",z.required)("id",z.id),p.AVh("mat-input-server",z._isServer)("mat-mdc-form-field-textarea-control",z._isInFormField&&z._isTextarea)("mat-mdc-form-field-input-control",z._isInFormField)("mdc-text-field__input",z._isInFormField)("mat-mdc-native-select-inline",z._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[p.Jv_([{provide:w.qT,useExisting:c}]),p.OA$]})}return c})(),U=(()=>{class c{static#e=this.\u0275fac=function(J){return new(J||c)};static#t=this.\u0275mod=p.$C({type:c});static#n=this.\u0275inj=p.G2t({imports:[T.yE,w.RG,w.RG,I,T.yE]})}return c})()},9115:(jt,Se,l)=>{"use strict";l.d(Se,{Cn:()=>Te,Cp:()=>de,fb:()=>ce,kk:()=>yt});var t=l(3953),n=l(9888),p=l(7336),v=l(5286),b=l(4670),E=l(4337),M=l(4421),S=l(5516),u=l(3176),I=l(9090),k=l(7605),T=l(8728),w=l(9493),D=l(8002),f=l(177),V=l(6600),K=l(6939),ne=l(9969),U=l(8203),c=l(7987),Z=l(6860),F=l(494);const J=["mat-menu-item",""],z=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],X=["mat-icon, [matMenuItemIcon]","*"];function $(Pe,St){1&Pe&&(t.qSk(),t.j41(0,"svg",2),t.nrm(1,"polygon",3),t.k0s())}const te=["*"];function G(Pe,St){if(1&Pe){const tt=t.RV6();t.j41(0,"div",0),t.bIt("keydown",function(ln){t.eBV(tt);const Mn=t.XpG();return t.Njj(Mn._handleKeydown(ln))})("click",function(){t.eBV(tt);const ln=t.XpG();return t.Njj(ln.closed.emit("click"))})("@transformMenu.start",function(ln){t.eBV(tt);const Mn=t.XpG();return t.Njj(Mn._onAnimationStart(ln))})("@transformMenu.done",function(ln){t.eBV(tt);const Mn=t.XpG();return t.Njj(Mn._onAnimationDone(ln))}),t.j41(1,"div",1),t.SdG(2),t.k0s()()}if(2&Pe){const tt=t.XpG();t.HbH(tt._classList),t.Y8G("id",tt.panelId)("@transformMenu",tt._panelAnimationState),t.BMQ("aria-label",tt.ariaLabel||null)("aria-labelledby",tt.ariaLabelledby||null)("aria-describedby",tt.ariaDescribedby||null)}}const oe=new t.nKC("MAT_MENU_PANEL");let ce=(()=>{class Pe{constructor(tt,wt,ln,Mn,Bn){this._elementRef=tt,this._document=wt,this._focusMonitor=ln,this._parentMenu=Mn,this._changeDetectorRef=Bn,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new v.B7,this._focused=new v.B7,this._highlighted=!1,this._triggersSubmenu=!1,Mn?.addItem?.(this)}focus(tt,wt){this._focusMonitor&&tt?this._focusMonitor.focusVia(this._getHostElement(),tt,wt):this._getHostElement().focus(wt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(tt){this.disabled&&(tt.preventDefault(),tt.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const tt=this._elementRef.nativeElement.cloneNode(!0),wt=tt.querySelectorAll("mat-icon, .material-icons");for(let ln=0;ln<wt.length;ln++)wt[ln].remove();return tt.textContent?.trim()||""}_setHighlighted(tt){this._highlighted=tt,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(tt){this._triggersSubmenu=tt,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(wt){return new(wt||Pe)(t.rXU(t.aKT),t.rXU(f.qQ),t.rXU(n.FN),t.rXU(oe,8),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:Pe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(wt,ln){1&wt&&t.bIt("click",function(Bn){return ln._checkDisabled(Bn)})("mouseenter",function(){return ln._handleMouseEnter()}),2&wt&&(t.BMQ("role",ln.role)("tabindex",ln._getTabIndex())("aria-disabled",ln.disabled)("disabled",ln.disabled||null),t.AVh("mat-mdc-menu-item-highlighted",ln._highlighted)("mat-mdc-menu-item-submenu-trigger",ln._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",t.L39],disableRipple:[2,"disableRipple","disableRipple",t.L39]},exportAs:["matMenuItem"],standalone:!0,features:[t.GFd,t.aNF],attrs:J,ngContentSelectors:X,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(wt,ln){1&wt&&(t.NAR(z),t.SdG(0),t.j41(1,"span",0),t.SdG(2,1),t.k0s(),t.nrm(3,"div",1),t.DNE(4,$,2,0,":svg:svg",2)),2&wt&&(t.R7$(3),t.Y8G("matRippleDisabled",ln.disableRipple||ln.disabled)("matRippleTrigger",ln._getHostElement()),t.R7$(),t.vxM(ln._triggersSubmenu?4:-1))},dependencies:[V.r6],encapsulation:2,changeDetection:0})}return Pe})();const R=new t.nKC("MatMenuContent"),H={transformMenu:(0,ne.hZ)("transformMenu",[(0,ne.wk)("void",(0,ne.iF)({opacity:0,transform:"scale(0.8)"})),(0,ne.kY)("void => enter",(0,ne.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ne.iF)({opacity:1,transform:"scale(1)"}))),(0,ne.kY)("* => void",(0,ne.i0)("100ms 25ms linear",(0,ne.iF)({opacity:0})))]),fadeInItems:(0,ne.hZ)("fadeInItems",[(0,ne.wk)("showing",(0,ne.iF)({opacity:1})),(0,ne.kY)("void => *",[(0,ne.iF)({opacity:0}),(0,ne.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Xe=0;const bt=new t.nKC("mat-menu-default-options",{providedIn:"root",factory:function rt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let yt=(()=>{class Pe{get xPosition(){return this._xPosition}set xPosition(tt){this._xPosition=tt,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(tt){this._yPosition=tt,this.setPositionClasses()}set panelClass(tt){const wt=this._previousPanelClass,ln={...this._classList};wt&&wt.length&&wt.split(" ").forEach(Mn=>{ln[Mn]=!1}),this._previousPanelClass=tt,tt&&tt.length&&(tt.split(" ").forEach(Mn=>{ln[Mn]=!0}),this._elementRef.nativeElement.className=""),this._classList=ln}get classList(){return this.panelClass}set classList(tt){this.panelClass=tt}constructor(tt,wt,ln,Mn){this._elementRef=tt,this._changeDetectorRef=Mn,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new t.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new v.B7,this.closed=new t.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Xe++,this._injector=(0,t.WQX)(t.zZn),this.overlayPanelClass=ln.overlayPanelClass||"",this._xPosition=ln.xPosition,this._yPosition=ln.yPosition,this.backdropClass=ln.backdropClass,this.overlapTrigger=ln.overlapTrigger,this.hasBackdrop=ln.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new n.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,u.Z)(this._directDescendantItems),(0,I.n)(tt=>(0,b.h)(...tt.map(wt=>wt._focused)))).subscribe(tt=>this._keyManager.updateActiveItem(tt)),this._directDescendantItems.changes.subscribe(tt=>{const wt=this._keyManager;if("enter"===this._panelAnimationState&&wt.activeItem?._hasFocus()){const ln=tt.toArray(),Mn=Math.max(0,Math.min(ln.length-1,wt.activeItemIndex||0));ln[Mn]&&!ln[Mn].disabled?wt.setActiveItem(Mn):wt.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,u.Z)(this._directDescendantItems),(0,I.n)(wt=>(0,b.h)(...wt.map(ln=>ln._hovered))))}addItem(tt){}removeItem(tt){}_handleKeydown(tt){const wt=tt.keyCode,ln=this._keyManager;switch(wt){case p._f:(0,p.rp)(tt)||(tt.preventDefault(),this.closed.emit("keydown"));break;case p.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case p.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(wt===p.i7||wt===p.n6)&&ln.setFocusOrigin("keyboard"),void ln.onKeydown(tt)}tt.stopPropagation()}focusFirstItem(tt="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,t.mal)(()=>{let wt=null;if(this._directDescendantItems.length&&(wt=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!wt||!wt.contains(document.activeElement)){const ln=this._keyManager;ln.setFocusOrigin(tt).setFirstItemActive(),!ln.activeItem&&wt&&wt.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(tt){if(null===this._baseElevation){const Jt=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Jt)}const wt=Math.min(this._baseElevation+tt,24),ln=`${this._elevationPrefix}${wt}`,Mn=Object.keys(this._classList).find(Bn=>Bn.startsWith(this._elevationPrefix));if(!Mn||Mn===this._previousElevation){const Bn={...this._classList};this._previousElevation&&(Bn[this._previousElevation]=!1),Bn[ln]=!0,this._previousElevation=ln,this._classList=Bn}}setPositionClasses(tt=this.xPosition,wt=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===tt,"mat-menu-after":"after"===tt,"mat-menu-above":"above"===wt,"mat-menu-below":"below"===wt},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(tt){this._animationDone.next(tt),this._isAnimating=!1}_onAnimationStart(tt){this._isAnimating=!0,"enter"===tt.toState&&0===this._keyManager.activeItemIndex&&(tt.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,u.Z)(this._allItems)).subscribe(tt=>{this._directDescendantItems.reset(tt.filter(wt=>wt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(wt){return new(wt||Pe)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(bt),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:Pe,selectors:[["mat-menu"]],contentQueries:function(wt,ln,Mn){if(1&wt&&(t.wni(Mn,R,5),t.wni(Mn,ce,5),t.wni(Mn,ce,4)),2&wt){let Bn;t.mGM(Bn=t.lsd())&&(ln.lazyContent=Bn.first),t.mGM(Bn=t.lsd())&&(ln._allItems=Bn),t.mGM(Bn=t.lsd())&&(ln.items=Bn)}},viewQuery:function(wt,ln){if(1&wt&&t.GBs(t.C4Q,5),2&wt){let Mn;t.mGM(Mn=t.lsd())&&(ln.templateRef=Mn.first)}},hostVars:3,hostBindings:function(wt,ln){2&wt&&t.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",t.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",tt=>null==tt?null:(0,t.L39)(tt)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[t.Jv_([{provide:oe,useExisting:Pe}]),t.GFd,t.aNF],ngContentSelectors:te,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(wt,ln){1&wt&&(t.NAR(),t.DNE(0,G,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[H.transformMenu,H.fadeInItems]},changeDetection:0})}return Pe})();const ot=new t.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const Pe=(0,t.WQX)(c.hJ);return()=>Pe.scrollStrategies.reposition()}}),Ae={provide:ot,deps:[c.hJ],useFactory:function It(Pe){return()=>Pe.scrollStrategies.reposition()}},we=(0,Z.BQ)({passive:!0});let de=(()=>{class Pe{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(tt){this.menu=tt}get menu(){return this._menu}set menu(tt){tt!==this._menu&&(this._menu=tt,this._menuCloseSubscription.unsubscribe(),tt&&(this._menuCloseSubscription=tt.close.subscribe(wt=>{this._destroyMenu(wt),("click"===wt||"tab"===wt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(wt)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(tt,wt,ln,Mn,Bn,Jt,Ft,W,Me){this._overlay=tt,this._element=wt,this._viewContainerRef=ln,this._menuItemInstance=Jt,this._dir=Ft,this._focusMonitor=W,this._ngZone=Me,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=E.y.EMPTY,this._hoverSubscription=E.y.EMPTY,this._menuCloseSubscription=E.y.EMPTY,this._changeDetectorRef=(0,t.WQX)(t.gRc),this._handleTouchStart=ie=>{(0,n.w6)(ie)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new t.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new t.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Mn,this._parentMaterialMenu=Bn instanceof yt?Bn:void 0,wt.nativeElement.addEventListener("touchstart",this._handleTouchStart,we)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,we),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const tt=this.menu;if(this._menuOpen||!tt)return;const wt=this._createOverlay(tt),ln=wt.getConfig(),Mn=ln.positionStrategy;this._setPosition(tt,Mn),ln.hasBackdrop=null==tt.hasBackdrop?!this.triggersSubmenu():tt.hasBackdrop,wt.attach(this._getPortal(tt)),tt.lazyContent&&tt.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(tt),tt instanceof yt&&(tt._startAnimation(),tt._directDescendantItems.changes.pipe((0,k.Q)(tt.close)).subscribe(()=>{Mn.withLockedPosition(!1).reapplyLastPosition(),Mn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(tt,wt){this._focusMonitor&&tt?this._focusMonitor.focusVia(this._element,tt,wt):this._element.nativeElement.focus(wt)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(tt){if(!this._overlayRef||!this.menuOpen)return;const wt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===tt||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,wt instanceof yt?(wt._resetAnimation(),wt.lazyContent?wt._animationDone.pipe((0,T.p)(ln=>"void"===ln.toState),(0,w.s)(1),(0,k.Q)(wt.lazyContent._attached)).subscribe({next:()=>wt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),wt?.lazyContent?.detach())}_initMenu(tt){tt.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,tt.direction=this.dir,this._setMenuElevation(tt),tt.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(tt){if(tt.setElevation){let wt=0,ln=tt.parentMenu;for(;ln;)wt++,ln=ln.parentMenu;tt.setElevation(wt)}}_setIsMenuOpen(tt){tt!==this._menuOpen&&(this._menuOpen=tt,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(tt),this._changeDetectorRef.markForCheck())}_createOverlay(tt){if(!this._overlayRef){const wt=this._getOverlayConfig(tt);this._subscribeToPositions(tt,wt.positionStrategy),this._overlayRef=this._overlay.create(wt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(tt){return new c.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:tt.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:tt.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(tt,wt){tt.setPositionClasses&&wt.positionChanges.subscribe(ln=>{const Mn="start"===ln.connectionPair.overlayX?"after":"before",Bn="top"===ln.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>tt.setPositionClasses(Mn,Bn)):tt.setPositionClasses(Mn,Bn)})}_setPosition(tt,wt){let[ln,Mn]="before"===tt.xPosition?["end","start"]:["start","end"],[Bn,Jt]="above"===tt.yPosition?["bottom","top"]:["top","bottom"],[Ft,W]=[Bn,Jt],[Me,ie]=[ln,Mn],pe=0;if(this.triggersSubmenu()){if(ie=ln="before"===tt.xPosition?"start":"end",Mn=Me="end"===ln?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Be=this._parentMaterialMenu.items.first;this._parentInnerPadding=Be?Be._getHostElement().offsetTop:0}pe="bottom"===Bn?this._parentInnerPadding:-this._parentInnerPadding}}else tt.overlapTrigger||(Ft="top"===Bn?"bottom":"top",W="top"===Jt?"bottom":"top");wt.withPositions([{originX:ln,originY:Ft,overlayX:Me,overlayY:Bn,offsetY:pe},{originX:Mn,originY:Ft,overlayX:ie,overlayY:Bn,offsetY:pe},{originX:ln,originY:W,overlayX:Me,overlayY:Jt,offsetY:-pe},{originX:Mn,originY:W,overlayX:ie,overlayY:Jt,offsetY:-pe}])}_menuClosingActions(){const tt=this._overlayRef.backdropClick(),wt=this._overlayRef.detachments(),ln=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,M.of)(),Mn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,T.p)(Bn=>Bn!==this._menuItemInstance),(0,T.p)(()=>this._menuOpen)):(0,M.of)();return(0,b.h)(tt,ln,Mn,wt)}_handleMousedown(tt){(0,n._G)(tt)||(this._openedBy=0===tt.button?"mouse":void 0,this.triggersSubmenu()&&tt.preventDefault())}_handleKeydown(tt){const wt=tt.keyCode;(wt===p.Fm||wt===p.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(wt===p.LE&&"ltr"===this.dir||wt===p.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(tt){this.triggersSubmenu()?(tt.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,T.p)(tt=>tt===this._menuItemInstance&&!tt.disabled),(0,D.c)(0,S.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof yt&&this.menu._isAnimating?this.menu._animationDone.pipe((0,w.s)(1),(0,D.c)(0,S.$),(0,k.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(tt){return(!this._portal||this._portal.templateRef!==tt.templateRef)&&(this._portal=new K.VA(tt.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(wt){return new(wt||Pe)(t.rXU(c.hJ),t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(ot),t.rXU(oe,8),t.rXU(ce,10),t.rXU(U.dS,8),t.rXU(n.FN),t.rXU(t.SKi))};static#t=this.\u0275dir=t.FsC({type:Pe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(wt,ln){1&wt&&t.bIt("click",function(Bn){return ln._handleClick(Bn)})("mousedown",function(Bn){return ln._handleMousedown(Bn)})("keydown",function(Bn){return ln._handleKeydown(Bn)}),2&wt&&t.BMQ("aria-haspopup",ln.menu?"menu":null)("aria-expanded",ln.menuOpen)("aria-controls",ln.menuOpen?ln.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return Pe})(),Te=(()=>{class Pe{static#e=this.\u0275fac=function(wt){return new(wt||Pe)};static#t=this.\u0275mod=t.$C({type:Pe});static#n=this.\u0275inj=t.G2t({providers:[Ae],imports:[f.MD,V.pZ,V.yE,c.z_,F.Gj,V.yE]})}return Pe})()},6695:(jt,Se,l)=>{"use strict";l.d(Se,{Ou:()=>J,iy:()=>F});var t=l(3953),n=l(5286),p=l(6607),v=l(8834),b=l(2798),E=l(4823),M=l(6600),S=l(3719);function u(z,X){if(1&z&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&z){const $=X.$implicit;t.Y8G("value",$),t.R7$(),t.SpI(" ",$," ")}}function I(z,X){if(1&z){const $=t.RV6();t.j41(0,"mat-form-field",14)(1,"mat-select",16,0),t.bIt("selectionChange",function(G){t.eBV($);const oe=t.XpG(2);return t.Njj(oe._changePageSize(G.value))}),t.Z7z(3,u,2,2,"mat-option",17,t.fX1),t.k0s(),t.j41(5,"div",18),t.bIt("click",function(){t.eBV($);const G=t.sdS(2);return t.Njj(G.open())}),t.k0s()()}if(2&z){const $=t.XpG(2);t.Y8G("appearance",$._formFieldAppearance)("color",$.color),t.R7$(),t.Y8G("value",$.pageSize)("disabled",$.disabled)("aria-labelledby",$._pageSizeLabelId)("panelClass",$.selectConfig.panelClass||"")("disableOptionCentering",$.selectConfig.disableOptionCentering),t.R7$(2),t.Dyx($._displayedPageSizeOptions)}}function k(z,X){if(1&z&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&z){const $=t.XpG(2);t.R7$(),t.JRh($.pageSize)}}function T(z,X){if(1&z&&(t.j41(0,"div",3)(1,"div",13),t.EFF(2),t.k0s(),t.DNE(3,I,6,7,"mat-form-field",14)(4,k,2,1,"div",15),t.k0s()),2&z){const $=t.XpG();t.R7$(),t.BMQ("id",$._pageSizeLabelId),t.R7$(),t.SpI(" ",$._intl.itemsPerPageLabel," "),t.R7$(),t.vxM($._displayedPageSizeOptions.length>1?3:-1),t.R7$(),t.vxM($._displayedPageSizeOptions.length<=1?4:-1)}}function w(z,X){if(1&z){const $=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV($);const G=t.XpG();return t.Njj(G.firstPage())}),t.qSk(),t.j41(1,"svg",8),t.nrm(2,"path",20),t.k0s()()}if(2&z){const $=t.XpG();t.Y8G("matTooltip",$._intl.firstPageLabel)("matTooltipDisabled",$._previousButtonsDisabled())("matTooltipPosition","above")("disabled",$._previousButtonsDisabled()),t.BMQ("aria-label",$._intl.firstPageLabel)}}function D(z,X){if(1&z){const $=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV($);const G=t.XpG();return t.Njj(G.lastPage())}),t.qSk(),t.j41(1,"svg",8),t.nrm(2,"path",22),t.k0s()()}if(2&z){const $=t.XpG();t.Y8G("matTooltip",$._intl.lastPageLabel)("matTooltipDisabled",$._nextButtonsDisabled())("matTooltipPosition","above")("disabled",$._nextButtonsDisabled()),t.BMQ("aria-label",$._intl.lastPageLabel)}}let f=(()=>{class z{constructor(){this.changes=new n.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=($,te,G)=>{if(0==G||0==te)return`0 of ${G}`;const oe=$*te;return`${oe+1} \u2013 ${oe<(G=Math.max(G,0))?Math.min(oe+te,G):oe+te} of ${G}`}}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=t.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const K={provide:f,deps:[[new t.Xx1,new t.kdw,f]],useFactory:function V(z){return z||new f}},c=new t.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let Z=0,F=(()=>{class z{get pageIndex(){return this._pageIndex}set pageIndex($){this._pageIndex=Math.max($||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length($){this._length=$||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize($){this._pageSize=Math.max($||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions($){this._pageSizeOptions=($||[]).map(te=>(0,t.Udg)(te,0)),this._updateDisplayedPageSizeOptions()}constructor($,te,G){if(this._intl=$,this._changeDetectorRef=te,this._pageSizeLabelId="mat-paginator-page-size-label-"+Z++,this._isInitialized=!1,this._initializedStream=new p.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new t.bkB,this.initialized=this._initializedStream,this._intlChanges=$.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),G){const{pageSize:oe,pageSizeOptions:ce,hidePageSize:le,showFirstLastButtons:ve}=G;null!=oe&&(this._pageSize=oe),null!=ce&&(this._pageSizeOptions=ce),null!=le&&(this.hidePageSize=le),null!=ve&&(this.showFirstLastButtons=ve)}this._formFieldAppearance=G?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent($)}previousPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent($)}firstPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=0,this._emitPageEvent($)}lastPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent($)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const $=this.getNumberOfPages()-1;return this.pageIndex<$&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize($){const G=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/$)||0,this.pageSize=$,this._emitPageEvent(G)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(($,te)=>$-te),this._changeDetectorRef.markForCheck())}_emitPageEvent($){this.page.emit({previousPageIndex:$,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(te){return new(te||z)(t.rXU(f),t.rXU(t.gRc),t.rXU(c,8))};static#t=this.\u0275cmp=t.VBU({type:z,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",t.Udg],length:[2,"length","length",t.Udg],pageSize:[2,"pageSize","pageSize",t.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",t.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",t.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",t.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[t.GFd,t.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(te,G){1&te&&(t.j41(0,"div",1)(1,"div",2),t.DNE(2,T,5,4,"div",3),t.j41(3,"div",4)(4,"div",5),t.EFF(5),t.k0s(),t.DNE(6,w,3,5,"button",6),t.j41(7,"button",7),t.bIt("click",function(){return G.previousPage()}),t.qSk(),t.j41(8,"svg",8),t.nrm(9,"path",9),t.k0s()(),t.joV(),t.j41(10,"button",10),t.bIt("click",function(){return G.nextPage()}),t.qSk(),t.j41(11,"svg",8),t.nrm(12,"path",11),t.k0s()(),t.DNE(13,D,3,5,"button",12),t.k0s()()()),2&te&&(t.R7$(2),t.vxM(G.hidePageSize?-1:2),t.R7$(3),t.SpI(" ",G._intl.getRangeLabel(G.pageIndex,G.pageSize,G.length)," "),t.R7$(),t.vxM(G.showFirstLastButtons?6:-1),t.R7$(),t.Y8G("matTooltip",G._intl.previousPageLabel)("matTooltipDisabled",G._previousButtonsDisabled())("matTooltipPosition","above")("disabled",G._previousButtonsDisabled()),t.BMQ("aria-label",G._intl.previousPageLabel),t.R7$(3),t.Y8G("matTooltip",G._intl.nextPageLabel)("matTooltipDisabled",G._nextButtonsDisabled())("matTooltipPosition","above")("disabled",G._nextButtonsDisabled()),t.BMQ("aria-label",G._intl.nextPageLabel),t.R7$(3),t.vxM(G.showFirstLastButtons?13:-1))},dependencies:[S.rl,b.VO,M.wT,v.iY,E.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return z})(),J=(()=>{class z{static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275mod=t.$C({type:z});static#n=this.\u0275inj=t.G2t({providers:[K],imports:[v.Hl,b.Ve,E.uc,F]})}return z})()},7575:(jt,Se,l)=>{"use strict";l.d(Se,{HM:()=>S,PO:()=>I});var t=l(3953),p=(l(177),l(6600));function v(k,T){1&k&&t.nrm(0,"div",2)}const b=new t.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let S=(()=>{class k{constructor(w,D,f,V,K){this._elementRef=w,this._ngZone=D,this._changeDetectorRef=f,this._animationMode=V,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new t.bkB,this._mode="determinate",this._transitionendHandler=ne=>{0===this.animationEnd.observers.length||!ne.target||!ne.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===V,K&&(K.color&&(this.color=this._defaultColor=K.color),this.mode=K.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(w){this._color=w}get value(){return this._value}set value(w){this._value=u(w||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(w){this._bufferValue=u(w||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(w){this._mode=w,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(D){return new(D||k)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.bc$,8),t.rXU(b,8))};static#t=this.\u0275cmp=t.VBU({type:k,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(D,f){2&D&&(t.BMQ("aria-valuenow",f._isIndeterminate()?null:f.value)("mode",f.mode),t.HbH("mat-"+f.color),t.AVh("_mat-animation-noopable",f._isNoopAnimation)("mdc-linear-progress--animation-ready",!f._isNoopAnimation)("mdc-linear-progress--indeterminate",f._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",t.Udg],bufferValue:[2,"bufferValue","bufferValue",t.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[t.GFd,t.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(D,f){1&D&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.DNE(2,v,1,0,"div",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"span",4),t.k0s(),t.j41(5,"div",5),t.nrm(6,"span",4),t.k0s()),2&D&&(t.R7$(),t.xc7("flex-basis",f._getBufferBarFlexBasis()),t.R7$(),t.vxM("buffer"===f.mode?2:-1),t.R7$(),t.xc7("transform",f._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return k})();function u(k,T=0,w=100){return Math.max(T,Math.min(w,k))}let I=(()=>{class k{static#e=this.\u0275fac=function(D){return new(D||k)};static#t=this.\u0275mod=t.$C({type:k});static#n=this.\u0275inj=t.G2t({imports:[p.yE]})}return k})()},9183:(jt,Se,l)=>{"use strict";l.d(Se,{D6:()=>T,LG:()=>I});var t=l(3953),n=l(177),p=l(6600);const v=["determinateSpinner"];function b(w,D){if(1&w&&(t.qSk(),t.j41(0,"svg",11),t.nrm(1,"circle",12),t.k0s()),2&w){const f=t.XpG();t.BMQ("viewBox",f._viewBox()),t.R7$(),t.xc7("stroke-dasharray",f._strokeCircumference(),"px")("stroke-dashoffset",f._strokeCircumference()/2,"px")("stroke-width",f._circleStrokeWidth(),"%"),t.BMQ("r",f._circleRadius())}}const E=new t.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function M(){return{diameter:S}}}),S=100;let I=(()=>{class w{get color(){return this._color||this._defaultColor}set color(f){this._color=f}constructor(f,V,K){this._elementRef=f,this._defaultColor="primary",this._value=0,this._diameter=S,this._noopAnimations="NoopAnimations"===V&&!!K&&!K._forceAnimations,this.mode="mat-spinner"===f.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",K&&(K.color&&(this.color=this._defaultColor=K.color),K.diameter&&(this.diameter=K.diameter),K.strokeWidth&&(this.strokeWidth=K.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(f){this._value=Math.max(0,Math.min(100,f||0))}get diameter(){return this._diameter}set diameter(f){this._diameter=f||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(f){this._strokeWidth=f||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const f=2*this._circleRadius()+this.strokeWidth;return`0 0 ${f} ${f}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(V){return new(V||w)(t.rXU(t.aKT),t.rXU(t.bc$,8),t.rXU(E))};static#t=this.\u0275cmp=t.VBU({type:w,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(V,K){if(1&V&&t.GBs(v,5),2&V){let ne;t.mGM(ne=t.lsd())&&(K._determinateCircle=ne.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(V,K){2&V&&(t.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===K.mode?K.value:null)("mode",K.mode),t.HbH("mat-"+K.color),t.xc7("width",K.diameter,"px")("height",K.diameter,"px")("--mdc-circular-progress-size",K.diameter+"px")("--mdc-circular-progress-active-indicator-width",K.diameter+"px"),t.AVh("_mat-animation-noopable",K._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===K.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",t.Udg],diameter:[2,"diameter","diameter",t.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",t.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[t.GFd,t.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(V,K){if(1&V&&(t.DNE(0,b,2,8,"ng-template",null,0,t.C5r),t.j41(2,"div",2,1),t.qSk(),t.j41(4,"svg",3),t.nrm(5,"circle",4),t.k0s()(),t.joV(),t.j41(6,"div",5)(7,"div",6)(8,"div",7),t.eu8(9,8),t.k0s(),t.j41(10,"div",9),t.eu8(11,8),t.k0s(),t.j41(12,"div",10),t.eu8(13,8),t.k0s()()()),2&V){const ne=t.sdS(1);t.R7$(4),t.BMQ("viewBox",K._viewBox()),t.R7$(),t.xc7("stroke-dasharray",K._strokeCircumference(),"px")("stroke-dashoffset",K._strokeDashOffset(),"px")("stroke-width",K._circleStrokeWidth(),"%"),t.BMQ("r",K._circleRadius()),t.R7$(4),t.Y8G("ngTemplateOutlet",ne),t.R7$(2),t.Y8G("ngTemplateOutlet",ne),t.R7$(2),t.Y8G("ngTemplateOutlet",ne)}},dependencies:[n.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return w})(),T=(()=>{class w{static#e=this.\u0275fac=function(V){return new(V||w)};static#t=this.\u0275mod=t.$C({type:w});static#n=this.\u0275inj=t.G2t({imports:[n.MD,p.yE]})}return w})()},5951:(jt,Se,l)=>{"use strict";l.d(Se,{VT:()=>V,Wk:()=>ne,_g:()=>K});var t=l(9888),n=l(5024),p=l(3953),v=l(9417),b=l(6600),E=l(177);const M=["input"],S=["formField"],u=["*"];let I=0;class k{constructor(c,Z){this.source=c,this.value=Z}}const T={provide:v.kq,useExisting:(0,p.Rfq)(()=>V),multi:!0},w=new p.nKC("MatRadioGroup"),D=new p.nKC("mat-radio-default-options",{providedIn:"root",factory:function f(){return{color:"accent",disabledInteractive:!1}}});let V=(()=>{class U{get name(){return this._name}set name(Z){this._name=Z,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(Z){this._labelPosition="before"===Z?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(Z){this._value!==Z&&(this._value=Z,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(Z){this._selected=Z,this.value=Z?Z.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(Z){this._disabled=Z,this._markRadiosForCheck()}get required(){return this._required}set required(Z){this._required=Z,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(Z){this._disabledInteractive=Z,this._markRadiosForCheck()}constructor(Z){this._changeDetector=Z,this._value=null,this._name="mat-radio-group-"+I++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new p.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(Z=>Z===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(Z=>{Z.name=this.name,Z._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(F=>{F.checked=this.value===F.value,F.checked&&(this._selected=F)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new k(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(Z=>Z._markForCheck())}writeValue(Z){this.value=Z,this._changeDetector.markForCheck()}registerOnChange(Z){this._controlValueAccessorChangeFn=Z}registerOnTouched(Z){this.onTouched=Z}setDisabledState(Z){this.disabled=Z,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(p.gRc))};static#t=this.\u0275dir=p.FsC({type:U,selectors:[["mat-radio-group"]],contentQueries:function(F,J,z){if(1&F&&p.wni(z,K,5),2&F){let X;p.mGM(X=p.lsd())&&(J._radios=X)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",p.L39],required:[2,"required","required",p.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",p.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[p.Jv_([T,{provide:w,useExisting:U}]),p.GFd]})}return U})(),K=(()=>{class U{get checked(){return this._checked}set checked(Z){this._checked!==Z&&(this._checked=Z,Z&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!Z&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),Z&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(Z){this._value!==Z&&(this._value=Z,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===Z),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(Z){this._labelPosition=Z}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(Z){this._setDisabled(Z)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(Z){this._required=Z}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(Z){this._color=Z}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(Z){this._disabledInteractive=Z}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Z,F,J,z,X,$,te,G){this._elementRef=F,this._changeDetector=J,this._focusMonitor=z,this._radioDispatcher=X,this._defaultOptions=te,this._ngZone=(0,p.WQX)(p.SKi),this._uniqueId="mat-radio-"+ ++I,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new p.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,p.WQX)(p.zZn),this._onInputClick=oe=>{this.disabled&&this.disabledInteractive&&oe.preventDefault()},this.radioGroup=Z,this._noopAnimations="NoopAnimations"===$,this._disabledInteractive=te?.disabledInteractive??!1,G&&(this.tabIndex=(0,p.Udg)(G,0))}focus(Z,F){F?this._focusMonitor.focusVia(this._inputElement,F,Z):this._inputElement.nativeElement.focus(Z)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((Z,F)=>{Z!==this.id&&F===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(Z=>{!Z&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new k(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(Z){if(Z.stopPropagation(),!this.checked&&!this.disabled){const F=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),F&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(Z){this._onInputInteraction(Z),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(Z){this._disabled!==Z&&(this._disabled=Z,this._changeDetector.markForCheck())}_updateTabIndex(){const Z=this.radioGroup;let F;if(F=Z&&Z.selected&&!this.disabled?Z.selected===this?this.tabIndex:-1:this.tabIndex,F!==this._previousTabIndex){const J=this._inputElement?.nativeElement;J&&(J.setAttribute("tabindex",F+""),this._previousTabIndex=F,(0,p.mal)(()=>{queueMicrotask(()=>{Z&&Z.selected&&Z.selected!==this&&document.activeElement===J&&(Z.selected?._inputElement.nativeElement.focus(),document.activeElement===J&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(w,8),p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(t.FN),p.rXU(n.zP),p.rXU(p.bc$,8),p.rXU(D,8),p.kS0("tabindex"))};static#t=this.\u0275cmp=p.VBU({type:U,selectors:[["mat-radio-button"]],viewQuery:function(F,J){if(1&F&&(p.GBs(M,5),p.GBs(S,7,p.aKT)),2&F){let z;p.mGM(z=p.lsd())&&(J._inputElement=z.first),p.mGM(z=p.lsd())&&(J._rippleTrigger=z.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(F,J){1&F&&p.bIt("focus",function(){return J._inputElement.nativeElement.focus()}),2&F&&(p.BMQ("id",J.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),p.AVh("mat-primary","primary"===J.color)("mat-accent","accent"===J.color)("mat-warn","warn"===J.color)("mat-mdc-radio-checked",J.checked)("mat-mdc-radio-disabled",J.disabled)("mat-mdc-radio-disabled-interactive",J.disabledInteractive)("_mat-animation-noopable",J._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",p.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?0:(0,p.Udg)(Z)],checked:[2,"checked","checked",p.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",p.L39],required:[2,"required","required",p.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",p.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:u,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(F,J){if(1&F){const z=p.RV6();p.NAR(),p.j41(0,"div",2,0)(2,"div",3)(3,"div",4),p.bIt("click",function($){return p.eBV(z),p.Njj(J._onTouchTargetClick($))}),p.k0s(),p.j41(4,"input",5,1),p.bIt("change",function($){return p.eBV(z),p.Njj(J._onInputInteraction($))}),p.k0s(),p.j41(6,"div",6),p.nrm(7,"div",7)(8,"div",8),p.k0s(),p.j41(9,"div",9),p.nrm(10,"div",10),p.k0s()(),p.j41(11,"label",11),p.SdG(12),p.k0s()()}2&F&&(p.Y8G("labelPosition",J.labelPosition),p.R7$(2),p.AVh("mdc-radio--disabled",J.disabled),p.R7$(2),p.Y8G("id",J.inputId)("checked",J.checked)("disabled",J.disabled&&!J.disabledInteractive)("required",J.required),p.BMQ("name",J.name)("value",J.value)("aria-label",J.ariaLabel)("aria-labelledby",J.ariaLabelledby)("aria-describedby",J.ariaDescribedby)("aria-disabled",J.disabled&&J.disabledInteractive?"true":null),p.R7$(5),p.Y8G("matRippleTrigger",J._rippleTrigger.nativeElement)("matRippleDisabled",J._isRippleDisabled())("matRippleCentered",!0),p.R7$(2),p.Y8G("for",J.inputId))},dependencies:[b.r6,b.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return U})(),ne=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275mod=p.$C({type:U});static#n=this.\u0275inj=p.G2t({imports:[b.yE,E.MD,b.pZ,K,b.yE]})}return U})()},2798:(jt,Se,l)=>{"use strict";l.d(Se,{$2:()=>It,VO:()=>ot,Ve:()=>Ae});var t=l(7987),n=l(177),p=l(3953),v=l(6600),b=l(3719),E=l(494),M=l(9888),S=l(8203),u=l(5024),I=l(7336),k=l(9417),T=l(5286),w=l(9418),D=l(4670),f=l(3176),V=l(9090),K=l(8728),ne=l(5006),U=l(522),c=l(7605),Z=l(9493),F=l(9969);const J=["trigger"],z=["panel"],X=[[["mat-select-trigger"]],"*"],$=["mat-select-trigger","*"];function te(we,_e){if(1&we&&(p.j41(0,"span",4),p.EFF(1),p.k0s()),2&we){const de=p.XpG();p.R7$(),p.JRh(de.placeholder)}}function G(we,_e){1&we&&p.SdG(0)}function oe(we,_e){if(1&we&&(p.j41(0,"span",11),p.EFF(1),p.k0s()),2&we){const de=p.XpG(2);p.R7$(),p.JRh(de.triggerValue)}}function ce(we,_e){if(1&we&&(p.j41(0,"span",5),p.DNE(1,G,1,0)(2,oe,2,1,"span",11),p.k0s()),2&we){const de=p.XpG();p.R7$(),p.vxM(de.customTrigger?1:2)}}function le(we,_e){if(1&we){const de=p.RV6();p.j41(0,"div",12,1),p.bIt("@transformPanel.done",function(Pe){p.eBV(de);const St=p.XpG();return p.Njj(St._panelDoneAnimatingStream.next(Pe.toState))})("keydown",function(Pe){p.eBV(de);const St=p.XpG();return p.Njj(St._handleKeydown(Pe))}),p.SdG(2,1),p.k0s()}if(2&we){const de=p.XpG();p.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",de._getPanelTheme(),""),p.Y8G("ngClass",de.panelClass)("@transformPanel","showing"),p.BMQ("id",de.id+"-panel")("aria-multiselectable",de.multiple)("aria-label",de.ariaLabel||null)("aria-labelledby",de._getPanelAriaLabelledby())}}const ve={transformPanelWrap:(0,F.hZ)("transformPanelWrap",[(0,F.kY)("* => void",(0,F.P)("@transformPanel",[(0,F.MA)()],{optional:!0}))]),transformPanel:(0,F.hZ)("transformPanel",[(0,F.wk)("void",(0,F.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,F.kY)("void => showing",(0,F.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,F.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,F.kY)("* => void",(0,F.i0)("100ms linear",(0,F.iF)({opacity:0})))])};let H=0;const fe=new p.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const we=(0,p.WQX)(t.hJ);return()=>we.scrollStrategies.reposition()}}),Xe=new p.nKC("MAT_SELECT_CONFIG"),bt={provide:fe,deps:[t.hJ],useFactory:function Ie(we){return()=>we.scrollStrategies.reposition()}},rt=new p.nKC("MatSelectTrigger");class yt{constructor(_e,de){this.source=_e,this.value=de}}let ot=(()=>{class we{_scrollOptionIntoView(de){const Te=this.options.toArray()[de];if(Te){const Pe=this.panel.nativeElement,St=(0,v.jb)(de,this.options,this.optionGroups),tt=Te._getHostElement();Pe.scrollTop=0===de&&1===St?0:(0,v.TL)(tt.offsetTop,tt.offsetHeight,Pe.scrollTop,Pe.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(de){return new yt(this,de)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(de){this._hideSingleSelectionIndicator=de,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(de){this._placeholder=de,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(k.k0.required)??!1}set required(de){this._required=de,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(de){this._multiple=de}get compareWith(){return this._compareWith}set compareWith(de){this._compareWith=de,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(de){this._assignValue(de)&&this._onChange(de)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(de){this._errorStateTracker.matcher=de}get id(){return this._id}set id(de){this._id=de||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(de){this._errorStateTracker.errorState=de}constructor(de,Te,Pe,St,tt,wt,ln,Mn,Bn,Jt,Ft,W,Me,ie){this._viewportRuler=de,this._changeDetectorRef=Te,this._elementRef=tt,this._dir=wt,this._parentFormField=Bn,this.ngControl=Jt,this._liveAnnouncer=Me,this._defaultOptions=ie,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(pe,Be)=>pe===Be,this._uid="mat-select-"+H++,this._triggerAriaLabelledBy=null,this._destroy=new T.B7,this.stateChanges=new T.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+H++,this._panelDoneAnimatingStream=new T.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new T.B7,this.optionSelectionChanges=(0,w.v)(()=>{const pe=this.options;return pe?pe.changes.pipe((0,f.Z)(pe),(0,V.n)(()=>(0,D.h)(...pe.map(Be=>Be.onSelectionChange)))):this._initialized.pipe((0,V.n)(()=>this.optionSelectionChanges))}),this.openedChange=new p.bkB,this._openedStream=this.openedChange.pipe((0,K.p)(pe=>pe),(0,ne.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,K.p)(pe=>!pe),(0,ne.T)(()=>{})),this.selectionChange=new p.bkB,this.valueChange=new p.bkB,this._trackedModal=null,this._skipPredicate=pe=>!this.panelOpen&&pe.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ie?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=ie.typeaheadDebounceInterval),this._errorStateTracker=new v.X0(St,Jt,Mn,ln,this.stateChanges),this._scrollStrategyFactory=W,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ft)||0,this.id=this.id}ngOnInit(){this._selectionModel=new u.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,U.F)(),(0,c.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,c.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,c.Q)(this._destroy)).subscribe(de=>{de.added.forEach(Te=>Te.select()),de.removed.forEach(Te=>Te.deselect())}),this.options.changes.pipe((0,f.Z)(null),(0,c.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const de=this._getTriggerAriaLabelledby(),Te=this.ngControl;if(de!==this._triggerAriaLabelledBy){const Pe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=de,de?Pe.setAttribute("aria-labelledby",de):Pe.removeAttribute("aria-labelledby")}Te&&(this._previousControl!==Te.control&&(void 0!==this._previousControl&&null!==Te.disabled&&Te.disabled!==this.disabled&&(this.disabled=Te.disabled),this._previousControl=Te.control),this.updateErrorState())}ngOnChanges(de){(de.disabled||de.userAriaDescribedBy)&&this.stateChanges.next(),de.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const de=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!de)return;const Te=`${this.id}-panel`;this._trackedModal&&(0,M.Ae)(this._trackedModal,"aria-owns",Te),(0,M.px)(de,"aria-owns",Te),this._trackedModal=de}_clearFromModal(){this._trackedModal&&((0,M.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(de){this._assignValue(de)}registerOnChange(de){this._onChange=de}registerOnTouched(de){this._onTouched=de}setDisabledState(de){this.disabled=de,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const de=this._selectionModel.selected.map(Te=>Te.viewValue);return this._isRtl()&&de.reverse(),de.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(de){this.disabled||(this.panelOpen?this._handleOpenKeydown(de):this._handleClosedKeydown(de))}_handleClosedKeydown(de){const Te=de.keyCode,Pe=Te===I.n6||Te===I.i7||Te===I.UQ||Te===I.LE,St=Te===I.Fm||Te===I.t6,tt=this._keyManager;if(!tt.isTyping()&&St&&!(0,I.rp)(de)||(this.multiple||de.altKey)&&Pe)de.preventDefault(),this.open();else if(!this.multiple){const wt=this.selected;tt.onKeydown(de);const ln=this.selected;ln&&wt!==ln&&this._liveAnnouncer.announce(ln.viewValue,1e4)}}_handleOpenKeydown(de){const Te=this._keyManager,Pe=de.keyCode,St=Pe===I.n6||Pe===I.i7,tt=Te.isTyping();if(St&&de.altKey)de.preventDefault(),this.close();else if(tt||Pe!==I.Fm&&Pe!==I.t6||!Te.activeItem||(0,I.rp)(de))if(!tt&&this._multiple&&Pe===I.A&&de.ctrlKey){de.preventDefault();const wt=this.options.some(ln=>!ln.disabled&&!ln.selected);this.options.forEach(ln=>{ln.disabled||(wt?ln.select():ln.deselect())})}else{const wt=Te.activeItemIndex;Te.onKeydown(de),this._multiple&&St&&de.shiftKey&&Te.activeItem&&Te.activeItemIndex!==wt&&Te.activeItem._selectViaInteraction()}else de.preventDefault(),Te.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Z.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(de){if(this.options.forEach(Te=>Te.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&de)Array.isArray(de),de.forEach(Te=>this._selectOptionByValue(Te)),this._sortValues();else{const Te=this._selectOptionByValue(de);Te?this._keyManager.updateActiveItem(Te):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(de){const Te=this.options.find(Pe=>{if(this._selectionModel.isSelected(Pe))return!1;try{return null!=Pe.value&&this._compareWith(Pe.value,de)}catch{return!1}});return Te&&this._selectionModel.select(Te),Te}_assignValue(de){return!!(de!==this._value||this._multiple&&Array.isArray(de))&&(this.options&&this._setSelectionByValue(de),this._value=de,!0)}_getOverlayWidth(de){return"auto"===this.panelWidth?(de instanceof t.$Q?de.elementRef:de||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const de of this.options)de._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new M.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const de=(0,D.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,c.Q)(de)).subscribe(Te=>{this._onSelect(Te.source,Te.isUserInput),Te.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,D.h)(...this.options.map(Te=>Te._stateChanges)).pipe((0,c.Q)(de)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(de,Te){const Pe=this._selectionModel.isSelected(de);null!=de.value||this._multiple?(Pe!==de.selected&&(de.selected?this._selectionModel.select(de):this._selectionModel.deselect(de)),Te&&this._keyManager.setActiveItem(de),this.multiple&&(this._sortValues(),Te&&this.focus())):(de.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(de.value)),Pe!==this._selectionModel.isSelected(de)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const de=this.options.toArray();this._selectionModel.sort((Te,Pe)=>this.sortComparator?this.sortComparator(Te,Pe,de):de.indexOf(Te)-de.indexOf(Pe)),this.stateChanges.next()}}_propagateChanges(de){let Te;Te=this.multiple?this.selected.map(Pe=>Pe.value):this.selected?this.selected.value:de,this._value=Te,this.valueChange.emit(Te),this._onChange(Te),this.selectionChange.emit(this._getChangeEvent(Te)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let de=-1;for(let Te=0;Te<this.options.length;Te++)if(!this.options.get(Te).disabled){de=Te;break}this._keyManager.setActiveItem(de)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(de){this._elementRef.nativeElement.focus(de)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const de=this._parentFormField?.getLabelId();return this.ariaLabelledby?(de?de+" ":"")+this.ariaLabelledby:de}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const de=this._parentFormField?.getLabelId();let Te=(de?de+" ":"")+this._valueId;return this.ariaLabelledby&&(Te+=" "+this.ariaLabelledby),Te}_panelDoneAnimating(de){this.openedChange.emit(de)}setDescribedByIds(de){de.length?this._elementRef.nativeElement.setAttribute("aria-describedby",de.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Te){return new(Te||we)(p.rXU(E.Xj),p.rXU(p.gRc),p.rXU(p.SKi),p.rXU(v.es),p.rXU(p.aKT),p.rXU(S.dS,8),p.rXU(k.cV,8),p.rXU(k.j4,8),p.rXU(b.xb,8),p.rXU(k.vO,10),p.kS0("tabindex"),p.rXU(fe),p.rXU(M.Ai),p.rXU(Xe,8))};static#t=this.\u0275cmp=p.VBU({type:we,selectors:[["mat-select"]],contentQueries:function(Te,Pe,St){if(1&Te&&(p.wni(St,rt,5),p.wni(St,v.wT,5),p.wni(St,v.QC,5)),2&Te){let tt;p.mGM(tt=p.lsd())&&(Pe.customTrigger=tt.first),p.mGM(tt=p.lsd())&&(Pe.options=tt),p.mGM(tt=p.lsd())&&(Pe.optionGroups=tt)}},viewQuery:function(Te,Pe){if(1&Te&&(p.GBs(J,5),p.GBs(z,5),p.GBs(t.WB,5)),2&Te){let St;p.mGM(St=p.lsd())&&(Pe.trigger=St.first),p.mGM(St=p.lsd())&&(Pe.panel=St.first),p.mGM(St=p.lsd())&&(Pe._overlayDir=St.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Te,Pe){1&Te&&p.bIt("keydown",function(tt){return Pe._handleKeydown(tt)})("focus",function(){return Pe._onFocus()})("blur",function(){return Pe._onBlur()}),2&Te&&(p.BMQ("id",Pe.id)("tabindex",Pe.disabled?-1:Pe.tabIndex)("aria-controls",Pe.panelOpen?Pe.id+"-panel":null)("aria-expanded",Pe.panelOpen)("aria-label",Pe.ariaLabel||null)("aria-required",Pe.required.toString())("aria-disabled",Pe.disabled.toString())("aria-invalid",Pe.errorState)("aria-activedescendant",Pe._getAriaActiveDescendant()),p.AVh("mat-mdc-select-disabled",Pe.disabled)("mat-mdc-select-invalid",Pe.errorState)("mat-mdc-select-required",Pe.required)("mat-mdc-select-empty",Pe.empty)("mat-mdc-select-multiple",Pe.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",p.L39],disableRipple:[2,"disableRipple","disableRipple",p.L39],tabIndex:[2,"tabIndex","tabIndex",de=>null==de?0:(0,p.Udg)(de)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",p.L39],placeholder:"placeholder",required:[2,"required","required",p.L39],multiple:[2,"multiple","multiple",p.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",p.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",p.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[p.Jv_([{provide:b.qT,useExisting:we},{provide:v.is,useExisting:we}]),p.GFd,p.OA$,p.aNF],ngContentSelectors:$,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Te,Pe){if(1&Te){const St=p.RV6();p.NAR(X),p.j41(0,"div",2,0),p.bIt("click",function(){return p.eBV(St),p.Njj(Pe.open())}),p.j41(3,"div",3),p.DNE(4,te,2,1,"span",4)(5,ce,3,1,"span",5),p.k0s(),p.j41(6,"div",6)(7,"div",7),p.qSk(),p.j41(8,"svg",8),p.nrm(9,"path",9),p.k0s()()()(),p.DNE(10,le,3,9,"ng-template",10),p.bIt("backdropClick",function(){return p.eBV(St),p.Njj(Pe.close())})("attach",function(){return p.eBV(St),p.Njj(Pe._onAttached())})("detach",function(){return p.eBV(St),p.Njj(Pe.close())})}if(2&Te){const St=p.sdS(1);p.R7$(3),p.BMQ("id",Pe._valueId),p.R7$(),p.vxM(Pe.empty?4:5),p.R7$(6),p.Y8G("cdkConnectedOverlayPanelClass",Pe._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Pe._scrollStrategy)("cdkConnectedOverlayOrigin",Pe._preferredOverlayOrigin||St)("cdkConnectedOverlayOpen",Pe.panelOpen)("cdkConnectedOverlayPositions",Pe._positions)("cdkConnectedOverlayWidth",Pe._overlayWidth)}},dependencies:[t.$Q,t.WB,n.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[ve.transformPanel]},changeDetection:0})}return we})(),It=(()=>{class we{static#e=this.\u0275fac=function(Te){return new(Te||we)};static#t=this.\u0275dir=p.FsC({type:we,selectors:[["mat-select-trigger"]],standalone:!0,features:[p.Jv_([{provide:rt,useExisting:we}])]})}return we})(),Ae=(()=>{class we{static#e=this.\u0275fac=function(Te){return new(Te||we)};static#t=this.\u0275mod=p.$C({type:we});static#n=this.\u0275inj=p.G2t({providers:[bt],imports:[n.MD,t.z_,v.Sy,v.yE,E.Gj,b.RG,v.Sy,v.yE]})}return we})()},450:(jt,Se,l)=>{"use strict";l.d(Se,{mV:()=>V,sG:()=>T});var t=l(3953),n=l(9417),p=l(9888),v=l(6600);const b=["switch"],E=["*"];function M(K,ne){1&K&&(t.j41(0,"span",10),t.qSk(),t.j41(1,"svg",12),t.nrm(2,"path",13),t.k0s(),t.j41(3,"svg",14),t.nrm(4,"path",15),t.k0s()())}const S=new t.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),u={provide:n.kq,useExisting:(0,t.Rfq)(()=>T),multi:!0};class I{constructor(ne,U){this.source=ne,this.checked=U}}let k=0,T=(()=>{class K{_createChangeEvent(U){return new I(this,U)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(U){this._checked=U,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(U,c,Z,F,J,z){this._elementRef=U,this._focusMonitor=c,this._changeDetectorRef=Z,this.defaults=J,this._onChange=X=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new t.bkB,this.toggleChange=new t.bkB,this.tabIndex=parseInt(F)||0,this.color=J.color||"accent",this._noopAnimations="NoopAnimations"===z,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++k,this.hideIcon=J.hideIcon??!1,this.disabledInteractive=J.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(U=>{"keyboard"===U||"program"===U?(this._focused=!0,this._changeDetectorRef.markForCheck()):U||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(U){U.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(U){this.checked=!!U}registerOnChange(U){this._onChange=U}registerOnTouched(U){this._onTouched=U}validate(U){return this.required&&!0!==U.value?{required:!0}:null}registerOnValidatorChange(U){this._validatorOnChange=U}setDisabledState(U){this.disabled=U,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new I(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(c){return new(c||K)(t.rXU(t.aKT),t.rXU(p.FN),t.rXU(t.gRc),t.kS0("tabindex"),t.rXU(S),t.rXU(t.bc$,8))};static#t=this.\u0275cmp=t.VBU({type:K,selectors:[["mat-slide-toggle"]],viewQuery:function(c,Z){if(1&c&&t.GBs(b,5),2&c){let F;t.mGM(F=t.lsd())&&(Z._switchElement=F.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(c,Z){2&c&&(t.Mr5("id",Z.id),t.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),t.HbH(Z.color?"mat-"+Z.color:""),t.AVh("mat-mdc-slide-toggle-focused",Z._focused)("mat-mdc-slide-toggle-checked",Z.checked)("_mat-animation-noopable",Z._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",t.L39],color:"color",disabled:[2,"disabled","disabled",t.L39],disableRipple:[2,"disableRipple","disableRipple",t.L39],tabIndex:[2,"tabIndex","tabIndex",U=>null==U?0:(0,t.Udg)(U)],checked:[2,"checked","checked",t.L39],hideIcon:[2,"hideIcon","hideIcon",t.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",t.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[t.Jv_([u,{provide:n.cz,useExisting:K,multi:!0}]),t.GFd,t.OA$,t.aNF],ngContentSelectors:E,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(c,Z){if(1&c){const F=t.RV6();t.NAR(),t.j41(0,"div",1)(1,"button",2,0),t.bIt("click",function(){return t.eBV(F),t.Njj(Z._handleClick())}),t.nrm(3,"span",3),t.j41(4,"span",4)(5,"span",5)(6,"span",6),t.nrm(7,"span",7),t.k0s(),t.j41(8,"span",8),t.nrm(9,"span",9),t.k0s(),t.DNE(10,M,5,0,"span",10),t.k0s()()(),t.j41(11,"label",11),t.bIt("click",function(z){return t.eBV(F),t.Njj(z.stopPropagation())}),t.SdG(12),t.k0s()()}if(2&c){const F=t.sdS(2);t.Y8G("labelPosition",Z.labelPosition),t.R7$(),t.AVh("mdc-switch--selected",Z.checked)("mdc-switch--unselected",!Z.checked)("mdc-switch--checked",Z.checked)("mdc-switch--disabled",Z.disabled)("mat-mdc-slide-toggle-disabled-interactive",Z.disabledInteractive),t.Y8G("tabIndex",Z.disabled&&!Z.disabledInteractive?-1:Z.tabIndex)("disabled",Z.disabled&&!Z.disabledInteractive),t.BMQ("id",Z.buttonId)("name",Z.name)("aria-label",Z.ariaLabel)("aria-labelledby",Z._getAriaLabelledBy())("aria-describedby",Z.ariaDescribedby)("aria-required",Z.required||null)("aria-checked",Z.checked)("aria-disabled",Z.disabled&&Z.disabledInteractive?"true":null),t.R7$(8),t.Y8G("matRippleTrigger",F)("matRippleDisabled",Z.disableRipple||Z.disabled)("matRippleCentered",!0),t.R7$(),t.vxM(Z.hideIcon?-1:10),t.R7$(),t.Y8G("for",Z.buttonId),t.BMQ("id",Z._labelId)}},dependencies:[v.r6,v.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return K})(),V=(()=>{class K{static#e=this.\u0275fac=function(c){return new(c||K)};static#t=this.\u0275mod=t.$C({type:K});static#n=this.\u0275inj=t.G2t({imports:[T,v.yE,v.yE]})}return K})()},3881:(jt,Se,l)=>{"use strict";l.d(Se,{Ez:()=>le,IV:()=>z,OU:()=>oe});var t=l(8203),n=l(6860),p=l(3953),v=l(6600),b=l(9417),E=l(5286);const M=["knob"],S=["valueIndicatorContainer"];function u(ve,Q){if(1&ve&&(p.j41(0,"div",2,1)(2,"div",5)(3,"span",6),p.EFF(4),p.k0s()()()),2&ve){const R=p.XpG();p.R7$(4),p.JRh(R.valueIndicatorText)}}const I=["trackActive"],k=["*"];function T(ve,Q){if(1&ve&&p.nrm(0,"div"),2&ve){const R=Q.$implicit,L=Q.$index,H=p.XpG(3);p.HbH(0===R?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),p.xc7("transform",H._calcTickMarkTransform(L))}}function w(ve,Q){if(1&ve&&p.Z7z(0,T,1,4,"div",8,p.Vm6),2&ve){const R=p.XpG(2);p.Dyx(R._tickMarks)}}function D(ve,Q){if(1&ve&&(p.j41(0,"div",6,1),p.DNE(2,w,2,0),p.k0s()),2&ve){const R=p.XpG();p.R7$(2),p.vxM(R._cachedWidth?2:-1)}}function f(ve,Q){if(1&ve&&p.nrm(0,"mat-slider-visual-thumb",7),2&ve){const R=p.XpG();p.Y8G("discrete",R.discrete)("thumbPosition",1)("valueIndicatorText",R.startValueIndicatorText)}}var V=function(ve){return ve[ve.START=1]="START",ve[ve.END=2]="END",ve}(V||{}),K=function(ve){return ve[ve.ACTIVE=0]="ACTIVE",ve[ve.INACTIVE=1]="INACTIVE",ve}(K||{});const ne=new p.nKC("_MatSlider"),U=new p.nKC("_MatSliderThumb"),c=new p.nKC("_MatSliderRangeThumb"),Z=new p.nKC("_MatSliderVisualThumb");let J=(()=>{class ve{constructor(R,L,H,fe){this._cdr=R,this._ngZone=L,this._slider=fe,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,p.WQX)(n.OD),this._onPointerMove=Ie=>{if(this._sliderInput._isFocused)return;const Xe=this._hostElement.getBoundingClientRect(),bt=this._slider._isCursorOnSliderThumb(Ie,Xe);this._isHovered=bt,bt?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Ie=>{0===Ie.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=H.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const R=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{R.addEventListener("pointermove",this._onPointerMove),R.addEventListener("pointerdown",this._onDragStart),R.addEventListener("pointerup",this._onDragEnd),R.addEventListener("pointerleave",this._onMouseLeave),R.addEventListener("focus",this._onFocus),R.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const R=this._sliderInputEl;R&&(R.removeEventListener("pointermove",this._onPointerMove),R.removeEventListener("pointerdown",this._onDragStart),R.removeEventListener("pointerup",this._onDragEnd),R.removeEventListener("pointerleave",this._onMouseLeave),R.removeEventListener("focus",this._onFocus),R.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(R){return R?.state===v.Ex.FADING_IN||R?.state===v.Ex.VISIBLE}_showRipple(R,L){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===V.START?V.END:V.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||L))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:R,centered:!0,persistent:!0})}_hideRipple(R){if(R?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const L=this._getSibling();L._isShowingAnyRipple()||(this._hideValueIndicator(),L._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===V.START?V.END:V.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(L){return new(L||ve)(p.rXU(p.gRc),p.rXU(p.SKi),p.rXU(p.aKT),p.rXU(ne))};static#t=this.\u0275cmp=p.VBU({type:ve,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(L,H){if(1&L&&(p.GBs(v.r6,5),p.GBs(M,5),p.GBs(S,5)),2&L){let fe;p.mGM(fe=p.lsd())&&(H._ripple=fe.first),p.mGM(fe=p.lsd())&&(H._knob=fe.first),p.mGM(fe=p.lsd())&&(H._valueIndicatorContainer=fe.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[p.Jv_([{provide:Z,useExisting:ve}]),p.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(L,H){1&L&&(p.DNE(0,u,5,1,"div",2),p.nrm(1,"div",3,0)(3,"div",4)),2&L&&(p.vxM(H.discrete?0:-1),p.R7$(3),p.Y8G("matRippleDisabled",!0))},dependencies:[v.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return ve})(),z=(()=>{class ve{get disabled(){return this._disabled}set disabled(R){this._disabled=R;const L=this._getInput(V.END),H=this._getInput(V.START);L&&(L.disabled=this._disabled),H&&(H.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(R){this._discrete=R,this._updateValueIndicatorUIs()}get min(){return this._min}set min(R){const L=isNaN(R)?this._min:R;this._min!==L&&this._updateMin(L)}_updateMin(R){const L=this._min;this._min=R,this._isRange?this._updateMinRange({old:L,new:R}):this._updateMinNonRange(R),this._onMinMaxOrStepChange()}_updateMinRange(R){const L=this._getInput(V.END),H=this._getInput(V.START),fe=L.value,Ie=H.value;H.min=R.new,L.min=Math.max(R.new,H.value),H.max=Math.min(L.max,L.value),H._updateWidthInactive(),L._updateWidthInactive(),R.new<R.old?this._onTranslateXChangeBySideEffect(L,H):this._onTranslateXChangeBySideEffect(H,L),fe!==L.value&&this._onValueChange(L),Ie!==H.value&&this._onValueChange(H)}_updateMinNonRange(R){const L=this._getInput(V.END);if(L){const H=L.value;L.min=R,L._updateThumbUIByValue(),this._updateTrackUI(L),H!==L.value&&this._onValueChange(L)}}get max(){return this._max}set max(R){const L=isNaN(R)?this._max:R;this._max!==L&&this._updateMax(L)}_updateMax(R){const L=this._max;this._max=R,this._isRange?this._updateMaxRange({old:L,new:R}):this._updateMaxNonRange(R),this._onMinMaxOrStepChange()}_updateMaxRange(R){const L=this._getInput(V.END),H=this._getInput(V.START),fe=L.value,Ie=H.value;L.max=R.new,H.max=Math.min(R.new,L.value),L.min=H.value,L._updateWidthInactive(),H._updateWidthInactive(),R.new>R.old?this._onTranslateXChangeBySideEffect(H,L):this._onTranslateXChangeBySideEffect(L,H),fe!==L.value&&this._onValueChange(L),Ie!==H.value&&this._onValueChange(H)}_updateMaxNonRange(R){const L=this._getInput(V.END);if(L){const H=L.value;L.max=R,L._updateThumbUIByValue(),this._updateTrackUI(L),H!==L.value&&this._onValueChange(L)}}get step(){return this._step}set step(R){const L=isNaN(R)?this._step:R;this._step!==L&&this._updateStep(L)}_updateStep(R){this._step=R,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const R=this._getInput(V.END),L=this._getInput(V.START),H=R.value,fe=L.value,Ie=L.value;R.min=this._min,L.max=this._max,R.step=this._step,L.step=this._step,this._platform.SAFARI&&(R.value=R.value,L.value=L.value),R.min=Math.max(this._min,L.value),L.max=Math.min(this._max,R.value),L._updateWidthInactive(),R._updateWidthInactive(),R.value<Ie?this._onTranslateXChangeBySideEffect(L,R):this._onTranslateXChangeBySideEffect(R,L),H!==R.value&&this._onValueChange(R),fe!==L.value&&this._onValueChange(L)}_updateStepNonRange(){const R=this._getInput(V.END);if(R){const L=R.value;R.step=this._step,this._platform.SAFARI&&(R.value=R.value),R._updateThumbUIByValue(),L!==R.value&&this._onValueChange(R)}}constructor(R,L,H,fe,Ie,Xe){this._ngZone=R,this._cdr=L,this._elementRef=H,this._dir=fe,this._globalRippleOptions=Ie,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=bt=>`${bt}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,p.WQX)(n.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===Xe,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const R=this._getInput(V.END),L=this._getInput(V.START);this._isRange=!!R&&!!L,this._cdr.detectChanges();const H=this._getThumb(V.END);this._rippleRadius=H._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(R,L):this._initUINonRange(R),this._updateTrackUI(R),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(R){R.initProps(),R.initUI(),this._updateValueIndicatorUI(R),this._hasViewInitialized=!0,R._updateThumbUIByValue()}_initUIRange(R,L){R.initProps(),R.initUI(),L.initProps(),L.initUI(),R._updateMinMax(),L._updateMinMax(),R._updateStaticStyles(),L._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,R._updateThumbUIByValue(),L._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const R=this._getInput(V.END),L=this._getInput(V.START);R._setIsLeftThumb(),L._setIsLeftThumb(),R.translateX=R._calcTranslateXByValue(),L.translateX=L._calcTranslateXByValue(),R._updateStaticStyles(),L._updateStaticStyles(),R._updateWidthInactive(),L._updateWidthInactive(),R._updateThumbUIByValue(),L._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(V.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(V.START)._isActive||this._getThumb(V.END)._isActive}_getValue(R=V.END){const L=this._getInput(R);return L?L.value:this.min}_skipUpdate(){return!(!this._getInput(V.START)?._skipUIUpdate&&!this._getInput(V.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(R){const L=this._trackActive.nativeElement.style;L.left=R.left,L.right=R.right,L.transformOrigin=R.transformOrigin,L.transform=R.transform}_calcTickMarkTransform(R){return`translateX(${R*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(R){this._hasViewInitialized&&(this._updateThumbUI(R),this._updateTrackUI(R),this._updateOverlappingThumbUI(R))}_onTranslateXChangeBySideEffect(R,L){this._hasViewInitialized&&(R._updateThumbUIByValue(),L._updateThumbUIByValue())}_onValueChange(R){this._hasViewInitialized&&(this._updateValueIndicatorUI(R),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const R=this._getInput(V.END),L=this._getInput(V.START);R._updateThumbUIByValue(),L._updateThumbUIByValue(),R._updateStaticStyles(),L._updateStaticStyles(),R._updateMinMax(),L._updateMinMax(),R._updateWidthInactive(),L._updateWidthInactive()}else{const R=this._getInput(V.END);R&&R._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const R=this._getInput(V.START),L=this._getInput(V.END);return!(!R||!L)&&L.translateX-R.translateX<20}_updateOverlappingThumbClassNames(R){const L=R.getSibling(),H=this._getThumb(R.thumbPosition);this._getThumb(L.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),H._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(R){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(R))}_updateThumbUI(R){this._skipUpdate()||(this._getThumb(R.thumbPosition===V.END?V.END:V.START)._hostElement.style.transform=`translateX(${R.translateX}px)`)}_updateValueIndicatorUI(R){if(this._skipUpdate())return;const L=this.displayWith(R.value);if(this._hasViewInitialized?R._valuetext.set(L):R._hostElement.setAttribute("aria-valuetext",L),this.discrete){R.thumbPosition===V.START?this.startValueIndicatorText=L:this.endValueIndicatorText=L;const H=this._getThumb(R.thumbPosition);L.length<3?H._hostElement.classList.add("mdc-slider__thumb--short-value"):H._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const R=this._getInput(V.END),L=this._getInput(V.START);R&&this._updateValueIndicatorUI(R),L&&this._updateValueIndicatorUI(L)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const R=this._step&&this._step>0?this._step:1,H=(Math.floor(this.max/R)*R-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*H-6}_updateTrackUI(R){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(R):this._updateTrackUINonRange(R))}_updateTrackUIRange(R){const L=R.getSibling();if(!L||!this._cachedWidth)return;const H=Math.abs(L.translateX-R.translateX)/this._cachedWidth;this._setTrackActiveStyles(R._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-L.translateX+"px",transformOrigin:"right",transform:`scaleX(${H})`}:{left:`${L.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${H})`})}_updateTrackUINonRange(R){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-R.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${R.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const R=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(R):this._updateTickMarkUINonRange(R),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(R){const L=this._getValue();let H=Math.max(Math.round((L-this.min)/R),0),fe=Math.max(Math.round((this.max-L)/R),0);this._isRtl?H++:fe++,this._tickMarks=Array(H).fill(K.ACTIVE).concat(Array(fe).fill(K.INACTIVE))}_updateTickMarkUIRange(R){const L=this._getValue(),H=this._getValue(V.START),fe=Math.max(Math.round((H-this.min)/R),0),Ie=Math.max(Math.round((L-H)/R)+1,0),Xe=Math.max(Math.round((this.max-L)/R),0);this._tickMarks=Array(fe).fill(K.INACTIVE).concat(Array(Ie).fill(K.ACTIVE),Array(Xe).fill(K.INACTIVE))}_getInput(R){return R===V.END&&this._input?this._input:this._inputs?.length?R===V.START?this._inputs.first:this._inputs.last:void 0}_getThumb(R){return R===V.END?this._thumbs?.last:this._thumbs?.first}_setTransition(R){this._hasAnimation=!this._platform.IOS&&R&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(R,L){const H=L.width/2,bt=R.clientY-(L.y+H);return Math.pow(R.clientX-(L.x+H),2)+Math.pow(bt,2)<Math.pow(H,2)}static#e=this.\u0275fac=function(L){return new(L||ve)(p.rXU(p.SKi),p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(t.dS,8),p.rXU(v.$E,8),p.rXU(p.bc$,8))};static#t=this.\u0275cmp=p.VBU({type:ve,selectors:[["mat-slider"]],contentQueries:function(L,H,fe){if(1&L&&(p.wni(fe,U,5),p.wni(fe,c,4)),2&L){let Ie;p.mGM(Ie=p.lsd())&&(H._input=Ie.first),p.mGM(Ie=p.lsd())&&(H._inputs=Ie)}},viewQuery:function(L,H){if(1&L&&(p.GBs(I,5),p.GBs(Z,5)),2&L){let fe;p.mGM(fe=p.lsd())&&(H._trackActive=fe.first),p.mGM(fe=p.lsd())&&(H._thumbs=fe)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(L,H){2&L&&(p.HbH("mat-"+(H.color||"primary")),p.AVh("mdc-slider--range",H._isRange)("mdc-slider--disabled",H.disabled)("mdc-slider--discrete",H.discrete)("mdc-slider--tick-marks",H.showTickMarks)("_mat-animation-noopable",H._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",p.L39],discrete:[2,"discrete","discrete",p.L39],showTickMarks:[2,"showTickMarks","showTickMarks",p.L39],min:[2,"min","min",p.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",p.L39],max:[2,"max","max",p.Udg],step:[2,"step","step",p.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[p.Jv_([{provide:ne,useExisting:ve}]),p.GFd,p.aNF],ngContentSelectors:k,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(L,H){1&L&&(p.NAR(),p.SdG(0),p.j41(1,"div",2),p.nrm(2,"div",3),p.j41(3,"div",4),p.nrm(4,"div",5,0),p.k0s(),p.DNE(6,D,3,1,"div",6),p.k0s(),p.DNE(7,f,1,3,"mat-slider-visual-thumb",7),p.nrm(8,"mat-slider-visual-thumb",7)),2&L&&(p.R7$(6),p.vxM(H.showTickMarks?6:-1),p.R7$(),p.vxM(H._isRange?7:-1),p.R7$(),p.Y8G("discrete",H.discrete)("thumbPosition",2)("valueIndicatorText",H.endValueIndicatorText))},dependencies:[J],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ve})();const te={provide:b.kq,useExisting:(0,p.Rfq)(()=>oe),multi:!0};let oe=(()=>{class ve{get value(){return(0,p.Udg)(this._hostElement.value,0)}set value(R){const L=(R=isNaN(R)?0:R)+"";this._hasSetInitialValue?this._isActive||this._setValue(L):this._initialValue=L}_setValue(R){this._hostElement.value=R,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(R){this._translateX=R}get min(){return(0,p.Udg)(this._hostElement.min,0)}set min(R){this._hostElement.min=R+"",this._cdr.detectChanges()}get max(){return(0,p.Udg)(this._hostElement.max,0)}set max(R){this._hostElement.max=R+"",this._cdr.detectChanges()}get step(){return(0,p.Udg)(this._hostElement.step,0)}set step(R){this._hostElement.step=R+"",this._cdr.detectChanges()}get disabled(){return(0,p.L39)(this._hostElement.disabled)}set disabled(R){this._hostElement.disabled=R,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(R){this._isFocused=R}constructor(R,L,H,fe){this._ngZone=R,this._elementRef=L,this._cdr=H,this._slider=fe,this.valueChange=new p.bkB,this.dragStart=new p.bkB,this.dragEnd=new p.bkB,this.thumbPosition=V.END,this._valuetext=(0,p.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new E.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,p.WQX)(n.OD),this._hostElement=L.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(R){if(!this.disabled&&0===R.button){if(this._platform.IOS){const L=this._slider._isCursorOnSliderThumb(R,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=L,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(R,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(R),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(R){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(R)},0)}_fixValue(R){const L=R.clientX-this._slider._cachedLeft,H=this._slider._cachedWidth,fe=0===this._slider.step?1:this._slider.step,Ie=Math.floor((this._slider.max-this._slider.min)/fe),rt=Math.round((this._slider._isRtl?1-L/H:L/H)*Ie)/Ie*(this._slider.max-this._slider.min)+this._slider.min,yt=Math.round(rt/fe)*fe;if(yt===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(R,{withAnimation:this._slider._hasAnimation}));this.value=yt,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(R,{withAnimation:this._slider._hasAnimation})}_onPointerMove(R){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(R)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(R){const L=this._tickMarkOffset;return Math.max(Math.min(R,this._slider._cachedWidth-this._tickMarkOffset),L)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(R){return R.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(R){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(R)}_updateThumbUIByPointerEvent(R,L){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(R)),this._updateThumbUI(L)}_updateThumbUI(R){this._slider._setTransition(!!R?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(R){(this._isControlInitialized||null!==R)&&(this.value=R)}registerOnChange(R){this._onChangeFn=R,this._isControlInitialized=!0}registerOnTouched(R){this._onTouchedFn=R}setDisabledState(R){this.disabled=R}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(L){return new(L||ve)(p.rXU(p.SKi),p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(ne))};static#t=this.\u0275dir=p.FsC({type:ve,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(L,H){1&L&&p.bIt("change",function(){return H._onChange()})("input",function(){return H._onInput()})("blur",function(){return H._onBlur()})("focus",function(){return H._onFocus()}),2&L&&p.BMQ("aria-valuetext",H._valuetext())},inputs:{value:[2,"value","value",p.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[p.Jv_([te,{provide:U,useExisting:ve}]),p.GFd]})}return ve})(),le=(()=>{class ve{static#e=this.\u0275fac=function(L){return new(L||ve)};static#t=this.\u0275mod=p.$C({type:ve});static#n=this.\u0275inj=p.G2t({imports:[v.yE,v.pZ]})}return ve})()},5416:(jt,Se,l)=>{"use strict";l.d(Se,{UG:()=>oe,_T:()=>le});var t=l(3953),n=l(8834),p=l(5286),v=l(177),b=l(9969),E=l(6939),M=l(6860),S=l(9888),u=l(9327),I=l(7987),k=l(7605),T=l(6600);function w(ve,Q){if(1&ve){const R=t.RV6();t.j41(0,"div",1)(1,"button",2),t.bIt("click",function(){t.eBV(R);const H=t.XpG();return t.Njj(H.action())}),t.EFF(2),t.k0s()()}if(2&ve){const R=t.XpG();t.R7$(2),t.SpI(" ",R.data.action," ")}}const D=["label"];function f(ve,Q){}const V=Math.pow(2,31)-1;class K{constructor(Q,R){this._overlayRef=R,this._afterDismissed=new p.B7,this._afterOpened=new p.B7,this._onAction=new p.B7,this._dismissedByAction=!1,this.containerInstance=Q,Q._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Q){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Q,V))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const ne=new t.nKC("MatSnackBarData");class U{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let c=(()=>{class ve{static#e=this.\u0275fac=function(L){return new(L||ve)};static#t=this.\u0275dir=t.FsC({type:ve,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return ve})(),Z=(()=>{class ve{static#e=this.\u0275fac=function(L){return new(L||ve)};static#t=this.\u0275dir=t.FsC({type:ve,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return ve})(),F=(()=>{class ve{static#e=this.\u0275fac=function(L){return new(L||ve)};static#t=this.\u0275dir=t.FsC({type:ve,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return ve})(),J=(()=>{class ve{constructor(R,L){this.snackBarRef=R,this.data=L}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(L){return new(L||ve)(t.rXU(K),t.rXU(ne))};static#t=this.\u0275cmp=t.VBU({type:ve,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(L,H){1&L&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.DNE(2,w,3,1,"div",1)),2&L&&(t.R7$(),t.SpI(" ",H.data.message,"\n"),t.R7$(),t.vxM(H.hasAction?2:-1))},dependencies:[n.$z,c,Z,F],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ve})();const z={snackBarState:(0,b.hZ)("state",[(0,b.wk)("void, hidden",(0,b.iF)({transform:"scale(0.8)",opacity:0})),(0,b.wk)("visible",(0,b.iF)({transform:"scale(1)",opacity:1})),(0,b.kY)("* => visible",(0,b.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,b.kY)("* => void, * => hidden",(0,b.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,b.iF)({opacity:0})))])};let X=0,$=(()=>{class ve extends E.lb{constructor(R,L,H,fe,Ie){super(),this._ngZone=R,this._elementRef=L,this._changeDetectorRef=H,this._platform=fe,this.snackBarConfig=Ie,this._document=(0,t.WQX)(v.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new p.B7,this._onExit=new p.B7,this._onEnter=new p.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+X++,this.attachDomPortal=Xe=>{this._assertNotAttached();const bt=this._portalOutlet.attachDomPortal(Xe);return this._afterPortalAttached(),bt},this._live="assertive"!==Ie.politeness||Ie.announcementMessage?"off"===Ie.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(R){this._assertNotAttached();const L=this._portalOutlet.attachComponentPortal(R);return this._afterPortalAttached(),L}attachTemplatePortal(R){this._assertNotAttached();const L=this._portalOutlet.attachTemplatePortal(R);return this._afterPortalAttached(),L}onAnimationEnd(R){const{fromState:L,toState:H}=R;if(("void"===H&&"void"!==L||"hidden"===H)&&this._completeExit(),"visible"===H){const fe=this._onEnter;this._ngZone.run(()=>{fe.next(),fe.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const R=this._elementRef.nativeElement,L=this.snackBarConfig.panelClass;L&&(Array.isArray(L)?L.forEach(Ie=>R.classList.add(Ie)):R.classList.add(L)),this._exposeToModals();const H=this._label.nativeElement,fe="mdc-snackbar__label";H.classList.toggle(fe,!H.querySelector(`.${fe}`))}_exposeToModals(){const R=this._liveElementId,L=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let H=0;H<L.length;H++){const fe=L[H],Ie=fe.getAttribute("aria-owns");this._trackedModals.add(fe),Ie?-1===Ie.indexOf(R)&&fe.setAttribute("aria-owns",Ie+" "+R):fe.setAttribute("aria-owns",R)}}_clearFromModals(){this._trackedModals.forEach(R=>{const L=R.getAttribute("aria-owns");if(L){const H=L.replace(this._liveElementId,"").trim();H.length>0?R.setAttribute("aria-owns",H):R.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const R=this._elementRef.nativeElement.querySelector("[aria-hidden]"),L=this._elementRef.nativeElement.querySelector("[aria-live]");if(R&&L){let H=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&R.contains(document.activeElement)&&(H=document.activeElement),R.removeAttribute("aria-hidden"),L.appendChild(R),H?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(L){return new(L||ve)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(M.OD),t.rXU(U))};static#t=this.\u0275cmp=t.VBU({type:ve,selectors:[["mat-snack-bar-container"]],viewQuery:function(L,H){if(1&L&&(t.GBs(E.I3,7),t.GBs(D,7)),2&L){let fe;t.mGM(fe=t.lsd())&&(H._portalOutlet=fe.first),t.mGM(fe=t.lsd())&&(H._label=fe.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(L,H){1&L&&t.Kam("@state.done",function(Ie){return H.onAnimationEnd(Ie)}),2&L&&t.zvX("@state",H._animationState)},standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(L,H){1&L&&(t.j41(0,"div",1)(1,"div",2,0)(3,"div",3),t.DNE(4,f,0,0,"ng-template",4),t.k0s(),t.nrm(5,"div"),t.k0s()()),2&L&&(t.R7$(5),t.BMQ("aria-live",H._live)("role",H._role)("id",H._liveElementId))},dependencies:[E.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[z.snackBarState]}})}return ve})();const G=new t.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function te(){return new U}});let oe=(()=>{class ve{get _openedSnackBarRef(){const R=this._parentSnackBar;return R?R._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(R){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=R:this._snackBarRefAtThisLevel=R}constructor(R,L,H,fe,Ie,Xe){this._overlay=R,this._live=L,this._injector=H,this._breakpointObserver=fe,this._parentSnackBar=Ie,this._defaultConfig=Xe,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=J,this.snackBarContainerComponent=$,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(R,L){return this._attach(R,L)}openFromTemplate(R,L){return this._attach(R,L)}open(R,L="",H){const fe={...this._defaultConfig,...H};return fe.data={message:R,action:L},fe.announcementMessage===R&&(fe.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,fe)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(R,L){const fe=t.zZn.create({parent:L&&L.viewContainerRef&&L.viewContainerRef.injector||this._injector,providers:[{provide:U,useValue:L}]}),Ie=new E.A8(this.snackBarContainerComponent,L.viewContainerRef,fe),Xe=R.attach(Ie);return Xe.instance.snackBarConfig=L,Xe.instance}_attach(R,L){const H={...new U,...this._defaultConfig,...L},fe=this._createOverlay(H),Ie=this._attachSnackBarContainer(fe,H),Xe=new K(Ie,fe);if(R instanceof t.C4Q){const bt=new E.VA(R,null,{$implicit:H.data,snackBarRef:Xe});Xe.instance=Ie.attachTemplatePortal(bt)}else{const bt=this._createInjector(H,Xe),rt=new E.A8(R,void 0,bt),yt=Ie.attachComponentPortal(rt);Xe.instance=yt.instance}return this._breakpointObserver.observe(u.Rp.HandsetPortrait).pipe((0,k.Q)(fe.detachments())).subscribe(bt=>{fe.overlayElement.classList.toggle(this.handsetCssClass,bt.matches)}),H.announcementMessage&&Ie._onAnnounce.subscribe(()=>{this._live.announce(H.announcementMessage,H.politeness)}),this._animateSnackBar(Xe,H),this._openedSnackBarRef=Xe,this._openedSnackBarRef}_animateSnackBar(R,L){R.afterDismissed().subscribe(()=>{this._openedSnackBarRef==R&&(this._openedSnackBarRef=null),L.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{R.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):R.containerInstance.enter(),L.duration&&L.duration>0&&R.afterOpened().subscribe(()=>R._dismissAfter(L.duration))}_createOverlay(R){const L=new I.rR;L.direction=R.direction;let H=this._overlay.position().global();const fe="rtl"===R.direction,Ie="left"===R.horizontalPosition||"start"===R.horizontalPosition&&!fe||"end"===R.horizontalPosition&&fe,Xe=!Ie&&"center"!==R.horizontalPosition;return Ie?H.left("0"):Xe?H.right("0"):H.centerHorizontally(),"top"===R.verticalPosition?H.top("0"):H.bottom("0"),L.positionStrategy=H,this._overlay.create(L)}_createInjector(R,L){return t.zZn.create({parent:R&&R.viewContainerRef&&R.viewContainerRef.injector||this._injector,providers:[{provide:K,useValue:L},{provide:ne,useValue:R.data}]})}static#e=this.\u0275fac=function(L){return new(L||ve)(t.KVO(I.hJ),t.KVO(S.Ai),t.KVO(t.zZn),t.KVO(u.QP),t.KVO(ve,12),t.KVO(G))};static#t=this.\u0275prov=t.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),le=(()=>{class ve{static#e=this.\u0275fac=function(L){return new(L||ve)};static#t=this.\u0275mod=t.$C({type:ve});static#n=this.\u0275inj=t.G2t({providers:[oe],imports:[I.z_,E.jc,n.Hl,T.yE,J,T.yE]})}return ve})()},2042:(jt,Se,l)=>{"use strict";l.d(Se,{B4:()=>K,NQ:()=>X,aE:()=>z});var t=l(3953),n=l(9888),p=l(7336),v=l(6607),b=l(5286),E=l(4670),M=l(9969),S=l(6600);const u=["mat-sort-header",""],I=["*"];function k($,te){if(1&$){const G=t.RV6();t.j41(0,"div",2),t.bIt("@arrowPosition.start",function(){t.eBV(G);const ce=t.XpG();return t.Njj(ce._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){t.eBV(G);const ce=t.XpG();return t.Njj(ce._disableViewStateAnimation=!1)}),t.nrm(1,"div",3),t.j41(2,"div",4),t.nrm(3,"div",5)(4,"div",6)(5,"div",7),t.k0s()()}if(2&$){const G=t.XpG();t.Y8G("@arrowOpacity",G._getArrowViewState())("@arrowPosition",G._getArrowViewState())("@allowChildren",G._getArrowDirectionState()),t.R7$(2),t.Y8G("@indicator",G._getArrowDirectionState()),t.R7$(),t.Y8G("@leftPointer",G._getArrowDirectionState()),t.R7$(),t.Y8G("@rightPointer",G._getArrowDirectionState())}}const V=new t.nKC("MAT_SORT_DEFAULT_OPTIONS");let K=(()=>{class ${get direction(){return this._direction}set direction(G){this._direction=G}constructor(G){this._defaultOptions=G,this._initializedStream=new v.m(1),this.sortables=new Map,this._stateChanges=new b.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new t.bkB,this.initialized=this._initializedStream}register(G){this.sortables.set(G.id,G)}deregister(G){this.sortables.delete(G.id)}sort(G){this.active!=G.id?(this.active=G.id,this.direction=G.start?G.start:this.start):this.direction=this.getNextSortDirection(G),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(G){if(!G)return"";let ce=function ne($,te){let G=["asc","desc"];return"desc"==$&&G.reverse(),te||G.push(""),G}(G.start||this.start,G?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),le=ce.indexOf(this.direction)+1;return le>=ce.length&&(le=0),ce[le]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(oe){return new(oe||$)(t.rXU(V,8))};static#t=this.\u0275dir=t.FsC({type:$,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",t.L39],disabled:[2,"matSortDisabled","disabled",t.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[t.GFd,t.OA$]})}return $})();const U=S.ed.ENTERING+" "+S.r5.STANDARD_CURVE,c={indicator:(0,M.hZ)("indicator",[(0,M.wk)("active-asc, asc",(0,M.iF)({transform:"translateY(0px)"})),(0,M.wk)("active-desc, desc",(0,M.iF)({transform:"translateY(10px)"})),(0,M.kY)("active-asc <=> active-desc",(0,M.i0)(U))]),leftPointer:(0,M.hZ)("leftPointer",[(0,M.wk)("active-asc, asc",(0,M.iF)({transform:"rotate(-45deg)"})),(0,M.wk)("active-desc, desc",(0,M.iF)({transform:"rotate(45deg)"})),(0,M.kY)("active-asc <=> active-desc",(0,M.i0)(U))]),rightPointer:(0,M.hZ)("rightPointer",[(0,M.wk)("active-asc, asc",(0,M.iF)({transform:"rotate(45deg)"})),(0,M.wk)("active-desc, desc",(0,M.iF)({transform:"rotate(-45deg)"})),(0,M.kY)("active-asc <=> active-desc",(0,M.i0)(U))]),arrowOpacity:(0,M.hZ)("arrowOpacity",[(0,M.wk)("desc-to-active, asc-to-active, active",(0,M.iF)({opacity:1})),(0,M.wk)("desc-to-hint, asc-to-hint, hint",(0,M.iF)({opacity:.54})),(0,M.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,M.iF)({opacity:0})),(0,M.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,M.i0)("0ms")),(0,M.kY)("* <=> *",(0,M.i0)(U))]),arrowPosition:(0,M.hZ)("arrowPosition",[(0,M.kY)("* => desc-to-hint, * => desc-to-active",(0,M.i0)(U,(0,M.i7)([(0,M.iF)({transform:"translateY(-25%)"}),(0,M.iF)({transform:"translateY(0)"})]))),(0,M.kY)("* => hint-to-desc, * => active-to-desc",(0,M.i0)(U,(0,M.i7)([(0,M.iF)({transform:"translateY(0)"}),(0,M.iF)({transform:"translateY(25%)"})]))),(0,M.kY)("* => asc-to-hint, * => asc-to-active",(0,M.i0)(U,(0,M.i7)([(0,M.iF)({transform:"translateY(25%)"}),(0,M.iF)({transform:"translateY(0)"})]))),(0,M.kY)("* => hint-to-asc, * => active-to-asc",(0,M.i0)(U,(0,M.i7)([(0,M.iF)({transform:"translateY(0)"}),(0,M.iF)({transform:"translateY(-25%)"})]))),(0,M.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,M.iF)({transform:"translateY(0)"})),(0,M.wk)("hint-to-desc, active-to-desc, desc",(0,M.iF)({transform:"translateY(-25%)"})),(0,M.wk)("hint-to-asc, active-to-asc, asc",(0,M.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,M.hZ)("allowChildren",[(0,M.kY)("* <=> *",[(0,M.P)("@*",(0,M.MA)(),{optional:!0})])])};let Z=(()=>{class ${constructor(){this.changes=new b.B7}static#e=this.\u0275fac=function(oe){return new(oe||$)};static#t=this.\u0275prov=t.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const J={provide:Z,deps:[[new t.Xx1,new t.kdw,Z]],useFactory:function F($){return $||new Z}};let z=(()=>{class ${get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(G){this._updateSortActionDescription(G)}constructor(G,oe,ce,le,ve,Q,R,L){this._intl=G,this._changeDetectorRef=oe,this._sort=ce,this._columnDef=le,this._focusMonitor=ve,this._elementRef=Q,this._ariaDescriber=R,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",L?.arrowPosition&&(this.arrowPosition=L?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(G=>{const oe=!!G;oe!==this._showIndicatorHint&&(this._setIndicatorHintVisible(oe),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(G){this._isDisabled()&&G||(this._showIndicatorHint=G,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(G){this._viewState=G||{},this._disableViewStateAnimation&&(this._viewState={toState:G.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(G){!this._isDisabled()&&(G.keyCode===p.t6||G.keyCode===p.Fm)&&(G.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const G=this._viewState.fromState;return(G?`${G}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(G){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,G)),this._sortActionDescription=G}_handleStateChanges(){this._rerenderSubscription=(0,E.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(oe){return new(oe||$)(t.rXU(Z),t.rXU(t.gRc),t.rXU(K,8),t.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),t.rXU(n.FN),t.rXU(t.aKT),t.rXU(n.vr,8),t.rXU(V,8))};static#t=this.\u0275cmp=t.VBU({type:$,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(oe,ce){1&oe&&t.bIt("click",function(){return ce._handleClick()})("keydown",function(ve){return ce._handleKeydown(ve)})("mouseenter",function(){return ce._setIndicatorHintVisible(!0)})("mouseleave",function(){return ce._setIndicatorHintVisible(!1)}),2&oe&&(t.BMQ("aria-sort",ce._getAriaSortAttribute()),t.AVh("mat-sort-header-disabled",ce._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",t.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",t.L39]},exportAs:["matSortHeader"],standalone:!0,features:[t.GFd,t.aNF],attrs:u,ngContentSelectors:I,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(oe,ce){1&oe&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s(),t.DNE(3,k,6,6,"div",2),t.k0s()),2&oe&&(t.AVh("mat-sort-header-sorted",ce._isSorted())("mat-sort-header-position-before","before"===ce.arrowPosition),t.BMQ("tabindex",ce._isDisabled()?null:0)("role",ce._isDisabled()?null:"button"),t.R7$(3),t.vxM(ce._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[c.indicator,c.leftPointer,c.rightPointer,c.arrowOpacity,c.arrowPosition,c.allowChildren]},changeDetection:0})}return $})(),X=(()=>{class ${static#e=this.\u0275fac=function(oe){return new(oe||$)};static#t=this.\u0275mod=t.$C({type:$});static#n=this.\u0275inj=t.G2t({providers:[J],imports:[S.yE]})}return $})()},4823:(jt,Se,l)=>{"use strict";l.d(Se,{oV:()=>ce,uc:()=>Q});var t=l(7605),n=l(4085),p=l(7336),v=l(3953),b=l(177),E=l(6860),M=l(9888),S=l(8203),u=l(7987),I=l(494),k=l(6939),T=l(5286),D=(l(9969),l(6600));const f=["tooltip"],ne=new v.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const R=(0,v.WQX)(u.hJ);return()=>R.scrollStrategies.reposition({scrollThrottle:20})}}),c={provide:ne,deps:[u.hJ],useFactory:function U(R){return()=>R.scrollStrategies.reposition({scrollThrottle:20})}},F=new v.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function Z(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),z="tooltip-panel",X=(0,E.BQ)({passive:!0});let ce=(()=>{class R{get position(){return this._position}set position(H){H!==this._position&&(this._position=H,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(H){this._positionAtOrigin=(0,n.he)(H),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(H){const fe=(0,n.he)(H);this._disabled!==fe&&(this._disabled=fe,fe?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(H){this._showDelay=(0,n.OE)(H)}get hideDelay(){return this._hideDelay}set hideDelay(H){this._hideDelay=(0,n.OE)(H),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(H){const fe=this._message;this._message=null!=H?String(H).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(fe)}get tooltipClass(){return this._tooltipClass}set tooltipClass(H){this._tooltipClass=H,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(H,fe,Ie,Xe,bt,rt,yt,ot,It,Ae,we,_e){this._overlay=H,this._elementRef=fe,this._scrollDispatcher=Ie,this._viewContainerRef=Xe,this._ngZone=bt,this._platform=rt,this._ariaDescriber=yt,this._focusMonitor=ot,this._dir=Ae,this._defaultOptions=we,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=le,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new T.B7,this._injector=(0,v.WQX)(v.zZn),this._scrollStrategy=It,this._document=_e,we&&(this._showDelay=we.showDelay,this._hideDelay=we.hideDelay,we.position&&(this.position=we.position),we.positionAtOrigin&&(this.positionAtOrigin=we.positionAtOrigin),we.touchGestures&&(this.touchGestures=we.touchGestures),we.tooltipClass&&(this.tooltipClass=we.tooltipClass)),Ae.change.pipe((0,t.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,t.Q)(this._destroyed)).subscribe(H=>{H?"keyboard"===H&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const H=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([fe,Ie])=>{H.removeEventListener(fe,Ie,X)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(H,this.message,"tooltip"),this._focusMonitor.stopMonitoring(H)}show(H=this.showDelay,fe){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Ie=this._createOverlay(fe);this._detach(),this._portal=this._portal||new k.A8(this._tooltipComponent,this._viewContainerRef);const Xe=this._tooltipInstance=Ie.attach(this._portal).instance;Xe._triggerElement=this._elementRef.nativeElement,Xe._mouseLeaveHideDelay=this._hideDelay,Xe.afterHidden().pipe((0,t.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Xe.show(H)}hide(H=this.hideDelay){const fe=this._tooltipInstance;fe&&(fe.isVisible()?fe.hide(H):(fe._cancelPendingAnimations(),this._detach()))}toggle(H){this._isTooltipVisible()?this.hide():this.show(void 0,H)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(H){if(this._overlayRef){const Xe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!H)&&Xe._origin instanceof v.aKT)return this._overlayRef;this._detach()}const fe=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Ie=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&H||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(fe);return Ie.positionChanges.pipe((0,t.Q)(this._destroyed)).subscribe(Xe=>{this._updateCurrentPositionClass(Xe.connectionPair),this._tooltipInstance&&Xe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Ie,panelClass:`${this._cssClassPrefix}-${z}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,t.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,t.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,t.Q)(this._destroyed)).subscribe(Xe=>{this._isTooltipVisible()&&Xe.keyCode===p._f&&!(0,p.rp)(Xe)&&(Xe.preventDefault(),Xe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(H){const fe=H.getConfig().positionStrategy,Ie=this._getOrigin(),Xe=this._getOverlayPosition();fe.withPositions([this._addOffset({...Ie.main,...Xe.main}),this._addOffset({...Ie.fallback,...Xe.fallback})])}_addOffset(H){const Ie=!this._dir||"ltr"==this._dir.value;return"top"===H.originY?H.offsetY=-8:"bottom"===H.originY?H.offsetY=8:"start"===H.originX?H.offsetX=Ie?-8:8:"end"===H.originX&&(H.offsetX=Ie?8:-8),H}_getOrigin(){const H=!this._dir||"ltr"==this._dir.value,fe=this.position;let Ie;"above"==fe||"below"==fe?Ie={originX:"center",originY:"above"==fe?"top":"bottom"}:"before"==fe||"left"==fe&&H||"right"==fe&&!H?Ie={originX:"start",originY:"center"}:("after"==fe||"right"==fe&&H||"left"==fe&&!H)&&(Ie={originX:"end",originY:"center"});const{x:Xe,y:bt}=this._invertPosition(Ie.originX,Ie.originY);return{main:Ie,fallback:{originX:Xe,originY:bt}}}_getOverlayPosition(){const H=!this._dir||"ltr"==this._dir.value,fe=this.position;let Ie;"above"==fe?Ie={overlayX:"center",overlayY:"bottom"}:"below"==fe?Ie={overlayX:"center",overlayY:"top"}:"before"==fe||"left"==fe&&H||"right"==fe&&!H?Ie={overlayX:"end",overlayY:"center"}:("after"==fe||"right"==fe&&H||"left"==fe&&!H)&&(Ie={overlayX:"start",overlayY:"center"});const{x:Xe,y:bt}=this._invertPosition(Ie.overlayX,Ie.overlayY);return{main:Ie,fallback:{overlayX:Xe,overlayY:bt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,v.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(H){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=H,this._tooltipInstance._markForCheck())}_invertPosition(H,fe){return"above"===this.position||"below"===this.position?"top"===fe?fe="bottom":"bottom"===fe&&(fe="top"):"end"===H?H="start":"start"===H&&(H="end"),{x:H,y:fe}}_updateCurrentPositionClass(H){const{overlayY:fe,originX:Ie,originY:Xe}=H;let bt;if(bt="center"===fe?this._dir&&"rtl"===this._dir.value?"end"===Ie?"left":"right":"start"===Ie?"left":"right":"bottom"===fe&&"top"===Xe?"above":"below",bt!==this._currentPosition){const rt=this._overlayRef;if(rt){const yt=`${this._cssClassPrefix}-${z}-`;rt.removePanelClass(yt+this._currentPosition),rt.addPanelClass(yt+bt)}this._currentPosition=bt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",H=>{let fe;this._setupPointerExitEventsIfNeeded(),void 0!==H.x&&void 0!==H.y&&(fe=H),this.show(void 0,fe)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",H=>{const fe=H.targetTouches?.[0],Ie=fe?{x:fe.clientX,y:fe.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,Ie)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const H=[];if(this._platformSupportsMouseEvents())H.push(["mouseleave",fe=>{const Ie=fe.relatedTarget;(!Ie||!this._overlayRef?.overlayElement.contains(Ie))&&this.hide()}],["wheel",fe=>this._wheelListener(fe)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const fe=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};H.push(["touchend",fe],["touchcancel",fe])}this._addListeners(H),this._passiveListeners.push(...H)}_addListeners(H){H.forEach(([fe,Ie])=>{this._elementRef.nativeElement.addEventListener(fe,Ie,X)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(H){if(this._isTooltipVisible()){const fe=this._document.elementFromPoint(H.clientX,H.clientY),Ie=this._elementRef.nativeElement;fe!==Ie&&!Ie.contains(fe)&&this.hide()}}_disableNativeGesturesIfNecessary(){const H=this.touchGestures;if("off"!==H){const fe=this._elementRef.nativeElement,Ie=fe.style;("on"===H||"INPUT"!==fe.nodeName&&"TEXTAREA"!==fe.nodeName)&&(Ie.userSelect=Ie.msUserSelect=Ie.webkitUserSelect=Ie.MozUserSelect="none"),("on"===H||!fe.draggable)&&(Ie.webkitUserDrag="none"),Ie.touchAction="none",Ie.webkitTapHighlightColor="transparent"}}_syncAriaDescription(H){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,H,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#e=this.\u0275fac=function(fe){return new(fe||R)(v.rXU(u.hJ),v.rXU(v.aKT),v.rXU(I.R),v.rXU(v.c1b),v.rXU(v.SKi),v.rXU(E.OD),v.rXU(M.vr),v.rXU(M.FN),v.rXU(ne),v.rXU(S.dS),v.rXU(F,8),v.rXU(b.qQ))};static#t=this.\u0275dir=v.FsC({type:R,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(fe,Ie){2&fe&&v.AVh("mat-mdc-tooltip-disabled",Ie.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return R})(),le=(()=>{class R{constructor(H,fe,Ie){this._changeDetectorRef=H,this._elementRef=fe,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new T.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===Ie}show(H){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},H)}hide(H){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},H)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:H}){(!H||!this._triggerElement.contains(H))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const H=this._elementRef.nativeElement.getBoundingClientRect();return H.height>24&&H.width>=200}_handleAnimationEnd({animationName:H}){(H===this._showAnimation||H===this._hideAnimation)&&this._finalizeAnimation(H===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(H){H?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(H){const fe=this._tooltip.nativeElement,Ie=this._showAnimation,Xe=this._hideAnimation;if(fe.classList.remove(H?Xe:Ie),fe.classList.add(H?Ie:Xe),this._isVisible!==H&&(this._isVisible=H,this._changeDetectorRef.markForCheck()),H&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const bt=getComputedStyle(fe);("0s"===bt.getPropertyValue("animation-duration")||"none"===bt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}H&&this._onShow(),this._animationsDisabled&&(fe.classList.add("_mat-animation-noopable"),this._finalizeAnimation(H))}static#e=this.\u0275fac=function(fe){return new(fe||R)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.bc$,8))};static#t=this.\u0275cmp=v.VBU({type:R,selectors:[["mat-tooltip-component"]],viewQuery:function(fe,Ie){if(1&fe&&v.GBs(f,7),2&fe){let Xe;v.mGM(Xe=v.lsd())&&(Ie._tooltip=Xe.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(fe,Ie){1&fe&&v.bIt("mouseleave",function(bt){return Ie._handleMouseLeave(bt)})},standalone:!0,features:[v.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(fe,Ie){if(1&fe){const Xe=v.RV6();v.j41(0,"div",1,0),v.bIt("animationend",function(rt){return v.eBV(Xe),v.Njj(Ie._handleAnimationEnd(rt))}),v.j41(2,"div",2),v.EFF(3),v.k0s()()}2&fe&&(v.AVh("mdc-tooltip--multiline",Ie._isMultiline),v.Y8G("ngClass",Ie.tooltipClass),v.R7$(3),v.JRh(Ie.message))},dependencies:[b.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return R})(),Q=(()=>{class R{static#e=this.\u0275fac=function(fe){return new(fe||R)};static#t=this.\u0275mod=v.$C({type:R});static#n=this.\u0275inj=v.G2t({providers:[c],imports:[M.Pd,b.MD,u.z_,D.yE,D.yE,I.Gj]})}return R})()},345:(jt,Se,l)=>{"use strict";l.d(Se,{B7:()=>X,Bb:()=>St,hE:()=>ln,sG:()=>_e,up:()=>at});var t=l(177),n=l(3953);class p extends t.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends p{static makeCurrent(){(0,t.ZD)(new v)}onAndCancel(Vt,ct,kt){return Vt.addEventListener(ct,kt),()=>{Vt.removeEventListener(ct,kt)}}dispatchEvent(Vt,ct){Vt.dispatchEvent(ct)}remove(Vt){Vt.remove()}createElement(Vt,ct){return(ct=ct||this.getDefaultDocument()).createElement(Vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Vt){return Vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Vt){return Vt instanceof DocumentFragment}getGlobalEventTarget(Vt,ct){return"window"===ct?window:"document"===ct?Vt:"body"===ct?Vt.body:null}getBaseHref(Vt){const ct=function E(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==ct?null:function M(dt){return new URL(dt,document.baseURI).pathname}(ct)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(Vt){return(0,t._b)(document.cookie,Vt)}}let b=null,u=(()=>{class dt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(kt){return new(kt||dt)};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})();const I=new n.nKC("");let k=(()=>{class dt{constructor(ct,kt){this._zone=kt,this._eventNameToPlugin=new Map,ct.forEach(qt=>{qt.manager=this}),this._plugins=ct.slice().reverse()}addEventListener(ct,kt,qt){return this._findPluginFor(kt).addEventListener(ct,kt,qt)}getZone(){return this._zone}_findPluginFor(ct){let kt=this._eventNameToPlugin.get(ct);if(kt)return kt;if(kt=this._plugins.find(un=>un.supports(ct)),!kt)throw new n.wOt(5101,!1);return this._eventNameToPlugin.set(ct,kt),kt}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(I),n.KVO(n.SKi))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})();class T{constructor(Vt){this._doc=Vt}}const w="ng-app-id";let D=(()=>{class dt{constructor(ct,kt,qt,un={}){this.doc=ct,this.appId=kt,this.nonce=qt,this.platformId=un,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.Vy)(un),this.resetHostNodes()}addStyles(ct){for(const kt of ct)1===this.changeUsageCount(kt,1)&&this.onStyleAdded(kt)}removeStyles(ct){for(const kt of ct)this.changeUsageCount(kt,-1)<=0&&this.onStyleRemoved(kt)}ngOnDestroy(){const ct=this.styleNodesInDOM;ct&&(ct.forEach(kt=>kt.remove()),ct.clear());for(const kt of this.getAllStyles())this.onStyleRemoved(kt);this.resetHostNodes()}addHost(ct){this.hostNodes.add(ct);for(const kt of this.getAllStyles())this.addStyleToHost(ct,kt)}removeHost(ct){this.hostNodes.delete(ct)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ct){for(const kt of this.hostNodes)this.addStyleToHost(kt,ct)}onStyleRemoved(ct){const kt=this.styleRef;kt.get(ct)?.elements?.forEach(qt=>qt.remove()),kt.delete(ct)}collectServerRenderedStyles(){const ct=this.doc.head?.querySelectorAll(`style[${w}="${this.appId}"]`);if(ct?.length){const kt=new Map;return ct.forEach(qt=>{null!=qt.textContent&&kt.set(qt.textContent,qt)}),kt}return null}changeUsageCount(ct,kt){const qt=this.styleRef;if(qt.has(ct)){const un=qt.get(ct);return un.usage+=kt,un.usage}return qt.set(ct,{usage:kt,elements:[]}),kt}getStyleElement(ct,kt){const qt=this.styleNodesInDOM,un=qt?.get(kt);if(un?.parentNode===ct)return qt.delete(kt),un.removeAttribute(w),un;{const Qe=this.doc.createElement("style");return this.nonce&&Qe.setAttribute("nonce",this.nonce),Qe.textContent=kt,this.platformIsServer&&Qe.setAttribute(w,this.appId),ct.appendChild(Qe),Qe}}addStyleToHost(ct,kt){const qt=this.getStyleElement(ct,kt),un=this.styleRef,Qe=un.get(kt)?.elements;Qe?Qe.push(qt):un.set(kt,{elements:[qt],usage:1})}resetHostNodes(){const ct=this.hostNodes;ct.clear(),ct.add(this.doc.head)}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(t.qQ),n.KVO(n.sZ2),n.KVO(n.BIS,8),n.KVO(n.Agw))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})();const f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},V=/%COMP%/g,K="%COMP%",ne=`_nghost-${K}`,U=`_ngcontent-${K}`,Z=new n.nKC("",{providedIn:"root",factory:()=>!0});function z(dt,Vt){return Vt.map(ct=>ct.replace(V,dt))}let X=(()=>{class dt{constructor(ct,kt,qt,un,Qe,je,ze,Re=null){this.eventManager=ct,this.sharedStylesHost=kt,this.appId=qt,this.removeStylesOnCompDestroy=un,this.doc=Qe,this.platformId=je,this.ngZone=ze,this.nonce=Re,this.rendererByCompId=new Map,this.platformIsServer=(0,t.Vy)(je),this.defaultRenderer=new $(ct,Qe,ze,this.platformIsServer)}createRenderer(ct,kt){if(!ct||!kt)return this.defaultRenderer;this.platformIsServer&&kt.encapsulation===n.gXe.ShadowDom&&(kt={...kt,encapsulation:n.gXe.Emulated});const qt=this.getOrCreateRenderer(ct,kt);return qt instanceof ve?qt.applyToHost(ct):qt instanceof le&&qt.applyStyles(),qt}getOrCreateRenderer(ct,kt){const qt=this.rendererByCompId;let un=qt.get(kt.id);if(!un){const Qe=this.doc,je=this.ngZone,ze=this.eventManager,Re=this.sharedStylesHost,it=this.removeStylesOnCompDestroy,We=this.platformIsServer;switch(kt.encapsulation){case n.gXe.Emulated:un=new ve(ze,Re,kt,this.appId,it,Qe,je,We);break;case n.gXe.ShadowDom:return new ce(ze,Re,ct,kt,Qe,je,this.nonce,We);default:un=new le(ze,Re,kt,it,Qe,je,We)}qt.set(kt.id,un)}return un}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(k),n.KVO(D),n.KVO(n.sZ2),n.KVO(Z),n.KVO(t.qQ),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(n.BIS))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})();class ${constructor(Vt,ct,kt,qt){this.eventManager=Vt,this.doc=ct,this.ngZone=kt,this.platformIsServer=qt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Vt,ct){return ct?this.doc.createElementNS(f[ct]||ct,Vt):this.doc.createElement(Vt)}createComment(Vt){return this.doc.createComment(Vt)}createText(Vt){return this.doc.createTextNode(Vt)}appendChild(Vt,ct){(oe(Vt)?Vt.content:Vt).appendChild(ct)}insertBefore(Vt,ct,kt){Vt&&(oe(Vt)?Vt.content:Vt).insertBefore(ct,kt)}removeChild(Vt,ct){ct.remove()}selectRootElement(Vt,ct){let kt="string"==typeof Vt?this.doc.querySelector(Vt):Vt;if(!kt)throw new n.wOt(-5104,!1);return ct||(kt.textContent=""),kt}parentNode(Vt){return Vt.parentNode}nextSibling(Vt){return Vt.nextSibling}setAttribute(Vt,ct,kt,qt){if(qt){ct=qt+":"+ct;const un=f[qt];un?Vt.setAttributeNS(un,ct,kt):Vt.setAttribute(ct,kt)}else Vt.setAttribute(ct,kt)}removeAttribute(Vt,ct,kt){if(kt){const qt=f[kt];qt?Vt.removeAttributeNS(qt,ct):Vt.removeAttribute(`${kt}:${ct}`)}else Vt.removeAttribute(ct)}addClass(Vt,ct){Vt.classList.add(ct)}removeClass(Vt,ct){Vt.classList.remove(ct)}setStyle(Vt,ct,kt,qt){qt&(n.czy.DashCase|n.czy.Important)?Vt.style.setProperty(ct,kt,qt&n.czy.Important?"important":""):Vt.style[ct]=kt}removeStyle(Vt,ct,kt){kt&n.czy.DashCase?Vt.style.removeProperty(ct):Vt.style[ct]=""}setProperty(Vt,ct,kt){null!=Vt&&(Vt[ct]=kt)}setValue(Vt,ct){Vt.nodeValue=ct}listen(Vt,ct,kt){if("string"==typeof Vt&&!(Vt=(0,t.QT)().getGlobalEventTarget(this.doc,Vt)))throw new Error(`Unsupported event target ${Vt} for event ${ct}`);return this.eventManager.addEventListener(Vt,ct,this.decoratePreventDefault(kt))}decoratePreventDefault(Vt){return ct=>{if("__ngUnwrap__"===ct)return Vt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Vt(ct)):Vt(ct))&&ct.preventDefault()}}}function oe(dt){return"TEMPLATE"===dt.tagName&&void 0!==dt.content}class ce extends ${constructor(Vt,ct,kt,qt,un,Qe,je,ze){super(Vt,un,Qe,ze),this.sharedStylesHost=ct,this.hostEl=kt,this.shadowRoot=kt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Re=z(qt.id,qt.styles);for(const it of Re){const We=document.createElement("style");je&&We.setAttribute("nonce",je),We.textContent=it,this.shadowRoot.appendChild(We)}}nodeOrShadowRoot(Vt){return Vt===this.hostEl?this.shadowRoot:Vt}appendChild(Vt,ct){return super.appendChild(this.nodeOrShadowRoot(Vt),ct)}insertBefore(Vt,ct,kt){return super.insertBefore(this.nodeOrShadowRoot(Vt),ct,kt)}removeChild(Vt,ct){return super.removeChild(null,ct)}parentNode(Vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Vt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class le extends ${constructor(Vt,ct,kt,qt,un,Qe,je,ze){super(Vt,un,Qe,je),this.sharedStylesHost=ct,this.removeStylesOnCompDestroy=qt,this.styles=ze?z(ze,kt.styles):kt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ve extends le{constructor(Vt,ct,kt,qt,un,Qe,je,ze){const Re=qt+"-"+kt.id;super(Vt,ct,kt,un,Qe,je,ze,Re),this.contentAttr=function F(dt){return U.replace(V,dt)}(Re),this.hostAttr=function J(dt){return ne.replace(V,dt)}(Re)}applyToHost(Vt){this.applyStyles(),this.setAttribute(Vt,this.hostAttr,"")}createElement(Vt,ct){const kt=super.createElement(Vt,ct);return super.setAttribute(kt,this.contentAttr,""),kt}}let Q=(()=>{class dt extends T{constructor(ct){super(ct)}supports(ct){return!0}addEventListener(ct,kt,qt){return ct.addEventListener(kt,qt,!1),()=>this.removeEventListener(ct,kt,qt)}removeEventListener(ct,kt,qt){return ct.removeEventListener(kt,qt)}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})(),R=(()=>{class dt extends T{constructor(ct){super(ct),this.delegate=(0,n.WQX)(n.zAP,{optional:!0})}supports(ct){return!!this.delegate&&this.delegate.supports(ct)}addEventListener(ct,kt,qt){return this.delegate.addEventListener(ct,kt,qt)}removeEventListener(ct,kt,qt){return this.delegate.removeEventListener(ct,kt,qt)}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})();const L=["alt","control","meta","shift"],H={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:dt=>dt.altKey,control:dt=>dt.ctrlKey,meta:dt=>dt.metaKey,shift:dt=>dt.shiftKey};let Ie=(()=>{class dt extends T{constructor(ct){super(ct)}supports(ct){return null!=dt.parseEventName(ct)}addEventListener(ct,kt,qt){const un=dt.parseEventName(kt),Qe=dt.eventCallback(un.fullKey,qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.QT)().onAndCancel(ct,un.domEventName,Qe))}static parseEventName(ct){const kt=ct.toLowerCase().split("."),qt=kt.shift();if(0===kt.length||"keydown"!==qt&&"keyup"!==qt)return null;const un=dt._normalizeKey(kt.pop());let Qe="",je=kt.indexOf("code");if(je>-1&&(kt.splice(je,1),Qe="code."),L.forEach(Re=>{const it=kt.indexOf(Re);it>-1&&(kt.splice(it,1),Qe+=Re+".")}),Qe+=un,0!=kt.length||0===un.length)return null;const ze={};return ze.domEventName=qt,ze.fullKey=Qe,ze}static matchEventFullKeyCode(ct,kt){let qt=H[ct.key]||ct.key,un="";return kt.indexOf("code.")>-1&&(qt=ct.code,un="code."),!(null==qt||!qt)&&(qt=qt.toLowerCase()," "===qt?qt="space":"."===qt&&(qt="dot"),L.forEach(Qe=>{Qe!==qt&&(0,fe[Qe])(ct)&&(un+=Qe+".")}),un+=qt,un===kt)}static eventCallback(ct,kt,qt){return un=>{dt.matchEventFullKeyCode(un,ct)&&qt.runGuarded(()=>kt(un))}}static _normalizeKey(ct){return"esc"===ct?"escape":ct}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac})}return dt})();const _e=(0,n.oH4)(n.fpN,"browser",[{provide:n.Agw,useValue:t.AJ},{provide:n.PLl,useValue:function ot(){v.makeCurrent()},multi:!0},{provide:t.qQ,useFactory:function Ae(){return(0,n.TL$)(document),document},deps:[]}]),de=new n.nKC(""),Te=[{provide:n.e01,useClass:class S{addToWindow(Vt){n.JZv.getAngularTestability=(kt,qt=!0)=>{const un=Vt.findTestabilityInTree(kt,qt);if(null==un)throw new n.wOt(5103,!1);return un},n.JZv.getAllAngularTestabilities=()=>Vt.getAllTestabilities(),n.JZv.getAllAngularRootElements=()=>Vt.getAllRootElements(),n.JZv.frameworkStabilizers||(n.JZv.frameworkStabilizers=[]),n.JZv.frameworkStabilizers.push(kt=>{const qt=n.JZv.getAllAngularTestabilities();let un=qt.length;const Qe=function(){un--,0==un&&kt()};qt.forEach(je=>{je.whenStable(Qe)})})}findTestabilityInTree(Vt,ct,kt){return null==ct?null:Vt.getTestability(ct)??(kt?(0,t.QT)().isShadowRoot(ct)?this.findTestabilityInTree(Vt,ct.host,!0):this.findTestabilityInTree(Vt,ct.parentElement,!0):null)}},deps:[]},{provide:n.WHO,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]},{provide:n.NYb,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]}],Pe=[{provide:n.H8p,useValue:"root"},{provide:n.zcH,useFactory:function It(){return new n.zcH},deps:[]},{provide:I,useClass:Q,multi:!0,deps:[t.qQ,n.SKi,n.Agw]},{provide:I,useClass:Ie,multi:!0,deps:[t.qQ]},{provide:I,useClass:R,multi:!0},X,D,k,{provide:n._9s,useExisting:X},{provide:t.N0,useClass:u,deps:[]},[]];let St=(()=>{class dt{constructor(ct){}static withServerTransition(ct){return{ngModule:dt,providers:[{provide:n.sZ2,useValue:ct.appId}]}}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(de,12))};static#t=this.\u0275mod=n.$C({type:dt});static#n=this.\u0275inj=n.G2t({providers:[...Pe,...Te],imports:[t.MD,n.Hbi]})}return dt})(),ln=(()=>{class dt{constructor(ct){this._doc=ct}getTitle(){return this._doc.title}setTitle(ct){this._doc.title=ct||""}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),at=(()=>{class dt{static#e=this.\u0275fac=function(kt){return new(kt||dt)};static#t=this.\u0275prov=n.jDH({token:dt,factory:function(kt){let qt=null;return qt=kt?new(kt||dt):n.KVO(pt),qt},providedIn:"root"})}return dt})(),pt=(()=>{class dt extends at{constructor(ct){super(),this._doc=ct}sanitize(ct,kt){if(null==kt)return null;switch(ct){case n.WPN.NONE:return kt;case n.WPN.HTML:return(0,n.ZF7)(kt,"HTML")?(0,n.rcV)(kt):(0,n.h9k)(this._doc,String(kt)).toString();case n.WPN.STYLE:return(0,n.ZF7)(kt,"Style")?(0,n.rcV)(kt):kt;case n.WPN.SCRIPT:if((0,n.ZF7)(kt,"Script"))return(0,n.rcV)(kt);throw new n.wOt(5200,!1);case n.WPN.URL:return(0,n.ZF7)(kt,"URL")?(0,n.rcV)(kt):(0,n.$MX)(String(kt));case n.WPN.RESOURCE_URL:if((0,n.ZF7)(kt,"ResourceURL"))return(0,n.rcV)(kt);throw new n.wOt(5201,!1);default:throw new n.wOt(5202,!1)}}bypassSecurityTrustHtml(ct){return(0,n.Kcf)(ct)}bypassSecurityTrustStyle(ct){return(0,n.cWb)(ct)}bypassSecurityTrustScript(ct){return(0,n.UyX)(ct)}bypassSecurityTrustUrl(ct){return(0,n.osQ)(ct)}bypassSecurityTrustResourceUrl(ct){return(0,n.e5t)(ct)}static#e=this.\u0275fac=function(kt){return new(kt||dt)(n.KVO(t.qQ))};static#t=this.\u0275prov=n.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})()},2091:(jt,Se,l)=>{"use strict";l.d(Se,{nX:()=>Xs,j5:()=>ci,wF:()=>Dn,L6:()=>Ui,Z:()=>Yt,gx:()=>Qi,Ix:()=>Ro,Wk:()=>oa,iI:()=>Xr,n3:()=>Io});var t=l(3953),n=l(8982),p=l(4787),v=l(4421),b=l(9928),E=l(9714),M=l(9994),S=l(1639),u=l(9418),I=l(8167),k=l(4526),T=l(1235),w=l(4725),D=l(5286),f=l(4337),V=l(177),K=l(5006),ne=l(9090),U=l(9493),c=l(3176),Z=l(8728),F=l(8456),J=l(4046),z=l(3574),X=l(8841),$=l(3921),te=l(762);class oe{constructor(Ee,ae,Oe=!1){this.accumulator=Ee,this.seed=ae,this.hasSeed=Oe}call(Ee,ae){return ae.subscribe(new ce(Ee,this.accumulator,this.seed,this.hasSeed))}}class ce extends te.v{constructor(Ee,ae,Oe,qe){super(Ee),this.accumulator=ae,this._seed=Oe,this.hasSeed=qe,this.index=0}get seed(){return this._seed}set seed(Ee){this.hasSeed=!0,this._seed=Ee}_next(Ee){if(this.hasSeed)return this._tryNext(Ee);this.seed=Ee,this.destination.next(Ee)}_tryNext(Ee){const ae=this.index++;let Oe;try{Oe=this.accumulator(this.seed,Ee,ae)}catch(qe){this.destination.error(qe)}this.seed=Oe,this.destination.next(Oe)}}var le=l(7849),ve=l(434);function Q(re){return function(ae){return 0===re?(0,T.I)():ae.lift(new R(re))}}class R{constructor(Ee){if(this.total=Ee,this.total<0)throw new ve.k}call(Ee,ae){return ae.subscribe(new L(Ee,this.total))}}class L extends te.v{constructor(Ee,ae){super(Ee),this.total=ae,this.ring=new Array,this.count=0}_next(Ee){const ae=this.ring,Oe=this.total,qe=this.count++;ae.length<Oe?ae.push(Ee):ae[qe%Oe]=Ee}_complete(){const Ee=this.destination;let ae=this.count;if(ae>0){const Oe=this.count>=this.total?this.total:this.count,qe=this.ring;for(let Lt=0;Lt<Oe;Lt++){const Qt=ae++%Oe;Ee.next(qe[Qt])}}Ee.complete()}}var H=l(3314),fe=l(5241);class bt{constructor(Ee){this.value=Ee}call(Ee,ae){return ae.subscribe(new rt(Ee,this.value))}}class rt extends te.v{constructor(Ee,ae){super(Ee),this.value=ae}_next(Ee){this.destination.next(this.value)}}var yt=l(7312),ot=l(3110),It=l(7605),Ae=l(6201),we=l(345);const _e="primary",de=Symbol("RouteTitle");class Te{constructor(Ee){this.params=Ee||{}}has(Ee){return Object.prototype.hasOwnProperty.call(this.params,Ee)}get(Ee){if(this.has(Ee)){const ae=this.params[Ee];return Array.isArray(ae)?ae[0]:ae}return null}getAll(Ee){if(this.has(Ee)){const ae=this.params[Ee];return Array.isArray(ae)?ae:[ae]}return[]}get keys(){return Object.keys(this.params)}}function Pe(re){return new Te(re)}function St(re,Ee,ae){const Oe=ae.path.split("/");if(Oe.length>re.length||"full"===ae.pathMatch&&(Ee.hasChildren()||Oe.length<re.length))return null;const qe={};for(let Lt=0;Lt<Oe.length;Lt++){const Qt=Oe[Lt],In=re[Lt];if(":"===Qt[0])qe[Qt.substring(1)]=In;else if(Qt!==In.path)return null}return{consumed:re.slice(0,Oe.length),posParams:qe}}function wt(re,Ee){const ae=re?ln(re):void 0,Oe=Ee?ln(Ee):void 0;if(!ae||!Oe||ae.length!=Oe.length)return!1;let qe;for(let Lt=0;Lt<ae.length;Lt++)if(qe=ae[Lt],!Mn(re[qe],Ee[qe]))return!1;return!0}function ln(re){return[...Object.keys(re),...Object.getOwnPropertySymbols(re)]}function Mn(re,Ee){if(Array.isArray(re)&&Array.isArray(Ee)){if(re.length!==Ee.length)return!1;const ae=[...re].sort(),Oe=[...Ee].sort();return ae.every((qe,Lt)=>Oe[Lt]===qe)}return re===Ee}function Bn(re){return re.length>0?re[re.length-1]:null}function Jt(re){return(0,n.A)(re)?re:(0,t.jNT)(re)?(0,p.H)(Promise.resolve(re)):(0,v.of)(re)}const Ft={exact:function pe(re,Ee,ae){if(!Xt(re.segments,Ee.segments)||!vn(re.segments,Ee.segments,ae)||re.numberOfChildren!==Ee.numberOfChildren)return!1;for(const Oe in Ee.children)if(!re.children[Oe]||!pe(re.children[Oe],Ee.children[Oe],ae))return!1;return!0},subset:Tt},W={exact:function ie(re,Ee){return wt(re,Ee)},subset:function Be(re,Ee){return Object.keys(Ee).length<=Object.keys(re).length&&Object.keys(Ee).every(ae=>Mn(re[ae],Ee[ae]))},ignored:()=>!0};function Me(re,Ee,ae){return Ft[ae.paths](re.root,Ee.root,ae.matrixParams)&&W[ae.queryParams](re.queryParams,Ee.queryParams)&&!("exact"===ae.fragment&&re.fragment!==Ee.fragment)}function Tt(re,Ee,ae){return Wt(re,Ee,Ee.segments,ae)}function Wt(re,Ee,ae,Oe){if(re.segments.length>ae.length){const qe=re.segments.slice(0,ae.length);return!(!Xt(qe,ae)||Ee.hasChildren()||!vn(qe,ae,Oe))}if(re.segments.length===ae.length){if(!Xt(re.segments,ae)||!vn(re.segments,ae,Oe))return!1;for(const qe in Ee.children)if(!re.children[qe]||!Tt(re.children[qe],Ee.children[qe],Oe))return!1;return!0}{const qe=ae.slice(0,re.segments.length),Lt=ae.slice(re.segments.length);return!!(Xt(re.segments,qe)&&vn(re.segments,qe,Oe)&&re.children[_e])&&Wt(re.children[_e],Ee,Lt,Oe)}}function vn(re,Ee,ae){return Ee.every((Oe,qe)=>W[ae](re[qe].parameters,Oe.parameters))}class Pt{constructor(Ee=new dn([],{}),ae={},Oe=null){this.root=Ee,this.queryParams=ae,this.fragment=Oe}get queryParamMap(){return this._queryParamMap??=Pe(this.queryParams),this._queryParamMap}toString(){return xn.serialize(this)}}class dn{constructor(Ee,ae){this.segments=Ee,this.children=ae,this.parent=null,Object.values(ae).forEach(Oe=>Oe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kn(this)}}class at{constructor(Ee,ae){this.path=Ee,this.parameters=ae}get parameterMap(){return this._parameterMap??=Pe(this.parameters),this._parameterMap}toString(){return qt(this)}}function Xt(re,Ee){return re.length===Ee.length&&re.every((ae,Oe)=>ae.path===Ee[Oe].path)}let pn=(()=>{class re{static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:()=>new nn,providedIn:"root"})}return re})();class nn{parse(Ee){const ae=new Kt(Ee);return new Pt(ae.parseRootSegment(),ae.parseQueryParams(),ae.parseFragment())}serialize(Ee){const ae=`/${Gn(Ee.root,!0)}`,Oe=function Qe(re){const Ee=Object.entries(re).map(([ae,Oe])=>Array.isArray(Oe)?Oe.map(qe=>`${Ht(ae)}=${Ht(qe)}`).join("&"):`${Ht(ae)}=${Ht(Oe)}`).filter(ae=>ae);return Ee.length?`?${Ee.join("&")}`:""}(Ee.queryParams);return`${ae}${Oe}${"string"==typeof Ee.fragment?`#${function dt(re){return encodeURI(re)}(Ee.fragment)}`:""}`}}const xn=new nn;function kn(re){return re.segments.map(Ee=>qt(Ee)).join("/")}function Gn(re,Ee){if(!re.hasChildren())return kn(re);if(Ee){const ae=re.children[_e]?Gn(re.children[_e],!1):"",Oe=[];return Object.entries(re.children).forEach(([qe,Lt])=>{qe!==_e&&Oe.push(`${qe}:${Gn(Lt,!1)}`)}),Oe.length>0?`${ae}(${Oe.join("//")})`:ae}{const ae=function Gt(re,Ee){let ae=[];return Object.entries(re.children).forEach(([Oe,qe])=>{Oe===_e&&(ae=ae.concat(Ee(qe,Oe)))}),Object.entries(re.children).forEach(([Oe,qe])=>{Oe!==_e&&(ae=ae.concat(Ee(qe,Oe)))}),ae}(re,(Oe,qe)=>qe===_e?[Gn(re.children[_e],!1)]:[`${qe}:${Gn(Oe,!1)}`]);return 1===Object.keys(re.children).length&&null!=re.children[_e]?`${kn(re)}/${ae[0]}`:`${kn(re)}/(${ae.join("//")})`}}function hi(re){return encodeURIComponent(re).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ht(re){return hi(re).replace(/%3B/gi,";")}function Vt(re){return hi(re).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(re){return decodeURIComponent(re)}function kt(re){return ct(re.replace(/\+/g,"%20"))}function qt(re){return`${Vt(re.path)}${function un(re){return Object.entries(re).map(([Ee,ae])=>`;${Vt(Ee)}=${Vt(ae)}`).join("")}(re.parameters)}`}const je=/^[^\/()?;#]+/;function ze(re){const Ee=re.match(je);return Ee?Ee[0]:""}const Re=/^[^\/()?;=#]+/,We=/^[^=?&#]+/,He=/^[^&#]+/;class Kt{constructor(Ee){this.url=Ee,this.remaining=Ee}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const Ee={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ee)}while(this.consumeOptional("&"));return Ee}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ee=[];for(this.peekStartsWith("(")||Ee.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ee.push(this.parseSegment());let ae={};this.peekStartsWith("/(")&&(this.capture("/"),ae=this.parseParens(!0));let Oe={};return this.peekStartsWith("(")&&(Oe=this.parseParens(!1)),(Ee.length>0||Object.keys(ae).length>0)&&(Oe[_e]=new dn(Ee,ae)),Oe}parseSegment(){const Ee=ze(this.remaining);if(""===Ee&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(Ee),new at(ct(Ee),this.parseMatrixParams())}parseMatrixParams(){const Ee={};for(;this.consumeOptional(";");)this.parseParam(Ee);return Ee}parseParam(Ee){const ae=function it(re){const Ee=re.match(Re);return Ee?Ee[0]:""}(this.remaining);if(!ae)return;this.capture(ae);let Oe="";if(this.consumeOptional("=")){const qe=ze(this.remaining);qe&&(Oe=qe,this.capture(Oe))}Ee[ct(ae)]=ct(Oe)}parseQueryParam(Ee){const ae=function ht(re){const Ee=re.match(We);return Ee?Ee[0]:""}(this.remaining);if(!ae)return;this.capture(ae);let Oe="";if(this.consumeOptional("=")){const Qt=function Ke(re){const Ee=re.match(He);return Ee?Ee[0]:""}(this.remaining);Qt&&(Oe=Qt,this.capture(Oe))}const qe=kt(ae),Lt=kt(Oe);if(Ee.hasOwnProperty(qe)){let Qt=Ee[qe];Array.isArray(Qt)||(Qt=[Qt],Ee[qe]=Qt),Qt.push(Lt)}else Ee[qe]=Lt}parseParens(Ee){const ae={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Oe=ze(this.remaining),qe=this.remaining[Oe.length];if("/"!==qe&&")"!==qe&&";"!==qe)throw new t.wOt(4010,!1);let Lt;Oe.indexOf(":")>-1?(Lt=Oe.slice(0,Oe.indexOf(":")),this.capture(Lt),this.capture(":")):Ee&&(Lt=_e);const Qt=this.parseChildren();ae[Lt]=1===Object.keys(Qt).length?Qt[_e]:new dn([],Qt),this.consumeOptional("//")}return ae}peekStartsWith(Ee){return this.remaining.startsWith(Ee)}consumeOptional(Ee){return!!this.peekStartsWith(Ee)&&(this.remaining=this.remaining.substring(Ee.length),!0)}capture(Ee){if(!this.consumeOptional(Ee))throw new t.wOt(4011,!1)}}function gt(re){return re.segments.length>0?new dn([],{[_e]:re}):re}function Ct(re){const Ee={};for(const[Oe,qe]of Object.entries(re.children)){const Lt=Ct(qe);if(Oe===_e&&0===Lt.segments.length&&Lt.hasChildren())for(const[Qt,In]of Object.entries(Lt.children))Ee[Qt]=In;else(Lt.segments.length>0||Lt.hasChildren())&&(Ee[Oe]=Lt)}return function _n(re){if(1===re.numberOfChildren&&re.children[_e]){const Ee=re.children[_e];return new dn(re.segments.concat(Ee.segments),Ee.children)}return re}(new dn(re.segments,Ee))}function yn(re){return re instanceof Pt}function mi(re){let Ee;const qe=gt(function ae(Lt){const Qt={};for(const Tn of Lt.children){const bi=ae(Tn);Qt[Tn.outlet]=bi}const In=new dn(Lt.url,Qt);return Lt===re&&(Ee=In),In}(re.root));return Ee??qe}function Oi(re,Ee,ae,Oe){let qe=re;for(;qe.parent;)qe=qe.parent;if(0===Ee.length)return Ki(qe,qe,qe,ae,Oe);const Lt=function xs(re){if("string"==typeof re[0]&&1===re.length&&"/"===re[0])return new ts(!0,0,re);let Ee=0,ae=!1;const Oe=re.reduce((qe,Lt,Qt)=>{if("object"==typeof Lt&&null!=Lt){if(Lt.outlets){const In={};return Object.entries(Lt.outlets).forEach(([Tn,bi])=>{In[Tn]="string"==typeof bi?bi.split("/"):bi}),[...qe,{outlets:In}]}if(Lt.segmentPath)return[...qe,Lt.segmentPath]}return"string"!=typeof Lt?[...qe,Lt]:0===Qt?(Lt.split("/").forEach((In,Tn)=>{0==Tn&&"."===In||(0==Tn&&""===In?ae=!0:".."===In?Ee++:""!=In&&qe.push(In))}),qe):[...qe,Lt]},[]);return new ts(ae,Ee,Oe)}(Ee);if(Lt.toRoot())return Ki(qe,qe,new dn([],{}),ae,Oe);const Qt=function jn(re,Ee,ae){if(re.isAbsolute)return new Yi(Ee,!0,0);if(!ae)return new Yi(Ee,!1,NaN);if(null===ae.parent)return new Yi(ae,!0,0);const Oe=Mi(re.commands[0])?0:1;return function lt(re,Ee,ae){let Oe=re,qe=Ee,Lt=ae;for(;Lt>qe;){if(Lt-=qe,Oe=Oe.parent,!Oe)throw new t.wOt(4005,!1);qe=Oe.segments.length}return new Yi(Oe,!1,qe-Lt)}(ae,ae.segments.length-1+Oe,re.numberOfDoubleDots)}(Lt,qe,re),In=Qt.processChildren?An(Qt.segmentGroup,Qt.index,Lt.commands):Ut(Qt.segmentGroup,Qt.index,Lt.commands);return Ki(qe,Qt.segmentGroup,In,ae,Oe)}function Mi(re){return"object"==typeof re&&null!=re&&!re.outlets&&!re.segmentPath}function wi(re){return"object"==typeof re&&null!=re&&re.outlets}function Ki(re,Ee,ae,Oe,qe){let Qt,Lt={};Oe&&Object.entries(Oe).forEach(([Tn,bi])=>{Lt[Tn]=Array.isArray(bi)?bi.map(oi=>`${oi}`):`${bi}`}),Qt=re===Ee?ae:ji(re,Ee,ae);const In=gt(Ct(Qt));return new Pt(In,Lt,qe)}function ji(re,Ee,ae){const Oe={};return Object.entries(re.children).forEach(([qe,Lt])=>{Oe[qe]=Lt===Ee?ae:ji(Lt,Ee,ae)}),new dn(re.segments,Oe)}class ts{constructor(Ee,ae,Oe){if(this.isAbsolute=Ee,this.numberOfDoubleDots=ae,this.commands=Oe,Ee&&Oe.length>0&&Mi(Oe[0]))throw new t.wOt(4003,!1);const qe=Oe.find(wi);if(qe&&qe!==Bn(Oe))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yi{constructor(Ee,ae,Oe){this.segmentGroup=Ee,this.processChildren=ae,this.index=Oe}}function Ut(re,Ee,ae){if(re??=new dn([],{}),0===re.segments.length&&re.hasChildren())return An(re,Ee,ae);const Oe=function ye(re,Ee,ae){let Oe=0,qe=Ee;const Lt={match:!1,pathIndex:0,commandIndex:0};for(;qe<re.segments.length;){if(Oe>=ae.length)return Lt;const Qt=re.segments[qe],In=ae[Oe];if(wi(In))break;const Tn=`${In}`,bi=Oe<ae.length-1?ae[Oe+1]:null;if(qe>0&&void 0===Tn)break;if(Tn&&bi&&"object"==typeof bi&&void 0===bi.outlets){if(!Fe(Tn,bi,Qt))return Lt;Oe+=2}else{if(!Fe(Tn,{},Qt))return Lt;Oe++}qe++}return{match:!0,pathIndex:qe,commandIndex:Oe}}(re,Ee,ae),qe=ae.slice(Oe.commandIndex);if(Oe.match&&Oe.pathIndex<re.segments.length){const Lt=new dn(re.segments.slice(0,Oe.pathIndex),{});return Lt.children[_e]=new dn(re.segments.slice(Oe.pathIndex),re.children),An(Lt,0,qe)}return Oe.match&&0===qe.length?new dn(re.segments,{}):Oe.match&&!re.hasChildren()?_t(re,Ee,ae):Oe.match?An(re,0,qe):_t(re,Ee,ae)}function An(re,Ee,ae){if(0===ae.length)return new dn(re.segments,{});{const Oe=function At(re){return wi(re[0])?re[0].outlets:{[_e]:re}}(ae),qe={};if(Object.keys(Oe).some(Lt=>Lt!==_e)&&re.children[_e]&&1===re.numberOfChildren&&0===re.children[_e].segments.length){const Lt=An(re.children[_e],Ee,ae);return new dn(re.segments,Lt.children)}return Object.entries(Oe).forEach(([Lt,Qt])=>{"string"==typeof Qt&&(Qt=[Qt]),null!==Qt&&(qe[Lt]=Ut(re.children[Lt],Ee,Qt))}),Object.entries(re.children).forEach(([Lt,Qt])=>{void 0===Oe[Lt]&&(qe[Lt]=Qt)}),new dn(re.segments,qe)}}function _t(re,Ee,ae){const Oe=re.segments.slice(0,Ee);let qe=0;for(;qe<ae.length;){const Lt=ae[qe];if(wi(Lt)){const Tn=q(Lt.outlets);return new dn(Oe,Tn)}if(0===qe&&Mi(ae[0])){Oe.push(new at(re.segments[Ee].path,Ue(ae[0]))),qe++;continue}const Qt=wi(Lt)?Lt.outlets[_e]:`${Lt}`,In=qe<ae.length-1?ae[qe+1]:null;Qt&&In&&Mi(In)?(Oe.push(new at(Qt,Ue(In))),qe+=2):(Oe.push(new at(Qt,{})),qe++)}return new dn(Oe,{})}function q(re){const Ee={};return Object.entries(re).forEach(([ae,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(Ee[ae]=_t(new dn([],{}),0,Oe))}),Ee}function Ue(re){const Ee={};return Object.entries(re).forEach(([ae,Oe])=>Ee[ae]=`${Oe}`),Ee}function Fe(re,Ee,ae){return re==ae.path&&wt(Ee,ae.parameters)}const mt="imperative";var ut=function(re){return re[re.NavigationStart=0]="NavigationStart",re[re.NavigationEnd=1]="NavigationEnd",re[re.NavigationCancel=2]="NavigationCancel",re[re.NavigationError=3]="NavigationError",re[re.RoutesRecognized=4]="RoutesRecognized",re[re.ResolveStart=5]="ResolveStart",re[re.ResolveEnd=6]="ResolveEnd",re[re.GuardsCheckStart=7]="GuardsCheckStart",re[re.GuardsCheckEnd=8]="GuardsCheckEnd",re[re.RouteConfigLoadStart=9]="RouteConfigLoadStart",re[re.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",re[re.ChildActivationStart=11]="ChildActivationStart",re[re.ChildActivationEnd=12]="ChildActivationEnd",re[re.ActivationStart=13]="ActivationStart",re[re.ActivationEnd=14]="ActivationEnd",re[re.Scroll=15]="Scroll",re[re.NavigationSkipped=16]="NavigationSkipped",re}(ut||{});class Pn{constructor(Ee,ae){this.id=Ee,this.url=ae}}class Yt extends Pn{constructor(Ee,ae,Oe="imperative",qe=null){super(Ee,ae),this.type=ut.NavigationStart,this.navigationTrigger=Oe,this.restoredState=qe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dn extends Pn{constructor(Ee,ae,Oe){super(Ee,ae),this.urlAfterRedirects=Oe,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Sn=function(re){return re[re.Redirect=0]="Redirect",re[re.SupersededByNewNavigation=1]="SupersededByNewNavigation",re[re.NoDataFromResolver=2]="NoDataFromResolver",re[re.GuardRejected=3]="GuardRejected",re}(Sn||{}),Jn=function(re){return re[re.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",re[re.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",re}(Jn||{});class ci extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.reason=Oe,this.code=qe,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Li extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.reason=Oe,this.code=qe,this.type=ut.NavigationSkipped}}class Ui extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.error=Oe,this.target=qe,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class es extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.urlAfterRedirects=Oe,this.state=qe,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.urlAfterRedirects=Oe,this.state=qe,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Pn{constructor(Ee,ae,Oe,qe,Lt){super(Ee,ae),this.urlAfterRedirects=Oe,this.state=qe,this.shouldActivate=Lt,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qs extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.urlAfterRedirects=Oe,this.state=qe,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends Pn{constructor(Ee,ae,Oe,qe){super(Ee,ae),this.urlAfterRedirects=Oe,this.state=qe,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ks{constructor(Ee){this.route=Ee,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vo{constructor(Ee){this.route=Ee,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zs{constructor(Ee){this.snapshot=Ee,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(Ee){this.snapshot=Ee,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(Ee){this.snapshot=Ee,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(Ee){this.snapshot=Ee,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(Ee,ae,Oe){this.routerEvent=Ee,this.position=ae,this.anchor=Oe,this.type=ut.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ro{}class fr{constructor(Ee,ae){this.url=Ee,this.navigationBehaviorOptions=ae}}function ho(re){return re.outlet||_e}function wo(re){if(!re)return null;if(re.routeConfig?._injector)return re.routeConfig._injector;for(let Ee=re.parent;Ee;Ee=Ee.parent){const ae=Ee.routeConfig;if(ae?._loadedInjector)return ae._loadedInjector;if(ae?._injector)return ae._injector}return null}class Ne{get injector(){return wo(this.route?.snapshot)??this.rootInjector}set injector(Ee){}constructor(Ee){this.rootInjector=Ee,this.outlet=null,this.route=null,this.children=new Bt(this.rootInjector),this.attachRef=null}}let Bt=(()=>{class re{constructor(ae){this.rootInjector=ae,this.contexts=new Map}onChildOutletCreated(ae,Oe){const qe=this.getOrCreateContext(ae);qe.outlet=Oe,this.contexts.set(ae,qe)}onChildOutletDestroyed(ae){const Oe=this.getContext(ae);Oe&&(Oe.outlet=null,Oe.attachRef=null)}onOutletDeactivated(){const ae=this.contexts;return this.contexts=new Map,ae}onOutletReAttached(ae){this.contexts=ae}getOrCreateContext(ae){let Oe=this.getContext(ae);return Oe||(Oe=new Ne(this.rootInjector),this.contexts.set(ae,Oe)),Oe}getContext(ae){return this.contexts.get(ae)||null}static#e=this.\u0275fac=function(Oe){return new(Oe||re)(t.KVO(t.uvJ))};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();class hn{constructor(Ee){this._root=Ee}get root(){return this._root.value}parent(Ee){const ae=this.pathFromRoot(Ee);return ae.length>1?ae[ae.length-2]:null}children(Ee){const ae=Nn(Ee,this._root);return ae?ae.children.map(Oe=>Oe.value):[]}firstChild(Ee){const ae=Nn(Ee,this._root);return ae&&ae.children.length>0?ae.children[0].value:null}siblings(Ee){const ae=zi(Ee,this._root);return ae.length<2?[]:ae[ae.length-2].children.map(qe=>qe.value).filter(qe=>qe!==Ee)}pathFromRoot(Ee){return zi(Ee,this._root).map(ae=>ae.value)}}function Nn(re,Ee){if(re===Ee.value)return Ee;for(const ae of Ee.children){const Oe=Nn(re,ae);if(Oe)return Oe}return null}function zi(re,Ee){if(re===Ee.value)return[Ee];for(const ae of Ee.children){const Oe=zi(re,ae);if(Oe.length)return Oe.unshift(Ee),Oe}return[]}class Ci{constructor(Ee,ae){this.value=Ee,this.children=ae}toString(){return`TreeNode(${this.value})`}}function Wi(re){const Ee={};return re&&re.children.forEach(ae=>Ee[ae.value.outlet]=ae),Ee}class ls extends hn{constructor(Ee,ae){super(Ee),this.snapshot=ae,Ls(this,Ee)}toString(){return this.snapshot.toString()}}function Ws(re){const Ee=function ys(re){const Lt=new Hs([],{},{},"",{},_e,re,null,{});return new to("",new Ci(Lt,[]))}(re),ae=new b.t([new at("",{})]),Oe=new b.t({}),qe=new b.t({}),Lt=new b.t({}),Qt=new b.t(""),In=new Xs(ae,Oe,Lt,Qt,qe,_e,re,Ee.root);return In.snapshot=Ee.root,new ls(new Ci(In,[]),Ee)}class Xs{constructor(Ee,ae,Oe,qe,Lt,Qt,In,Tn){this.urlSubject=Ee,this.paramsSubject=ae,this.queryParamsSubject=Oe,this.fragmentSubject=qe,this.dataSubject=Lt,this.outlet=Qt,this.component=In,this._futureSnapshot=Tn,this.title=this.dataSubject?.pipe((0,K.T)(bi=>bi[de]))??(0,v.of)(void 0),this.url=Ee,this.params=ae,this.queryParams=Oe,this.fragment=qe,this.data=Lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,K.T)(Ee=>Pe(Ee))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,K.T)(Ee=>Pe(Ee))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Co(re,Ee,ae="emptyOnly"){let Oe;const{routeConfig:qe}=re;return Oe=null===Ee||"always"!==ae&&""!==qe?.path&&(Ee.component||Ee.routeConfig?.loadComponent)?{params:{...re.params},data:{...re.data},resolve:{...re.data,...re._resolvedData??{}}}:{params:{...Ee.params,...re.params},data:{...Ee.data,...re.data},resolve:{...re.data,...Ee.data,...qe?.data,...re._resolvedData}},qe&&di(qe)&&(Oe.resolve[de]=qe.title),Oe}class Hs{get title(){return this.data?.[de]}constructor(Ee,ae,Oe,qe,Lt,Qt,In,Tn,bi){this.url=Ee,this.params=ae,this.queryParams=Oe,this.fragment=qe,this.data=Lt,this.outlet=Qt,this.component=In,this.routeConfig=Tn,this._resolve=bi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Oe=>Oe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class to extends hn{constructor(Ee,ae){super(ae),this.url=Ee,Ls(this,ae)}toString(){return To(this._root)}}function Ls(re,Ee){Ee.value._routerState=re,Ee.children.forEach(ae=>Ls(re,ae))}function To(re){const Ee=re.children.length>0?` { ${re.children.map(To).join(", ")} } `:"";return`${re.value}${Ee}`}function xo(re){if(re.snapshot){const Ee=re.snapshot,ae=re._futureSnapshot;re.snapshot=ae,wt(Ee.queryParams,ae.queryParams)||re.queryParamsSubject.next(ae.queryParams),Ee.fragment!==ae.fragment&&re.fragmentSubject.next(ae.fragment),wt(Ee.params,ae.params)||re.paramsSubject.next(ae.params),function tt(re,Ee){if(re.length!==Ee.length)return!1;for(let ae=0;ae<re.length;++ae)if(!wt(re[ae],Ee[ae]))return!1;return!0}(Ee.url,ae.url)||re.urlSubject.next(ae.url),wt(Ee.data,ae.data)||re.dataSubject.next(ae.data)}else re.snapshot=re._futureSnapshot,re.dataSubject.next(re._futureSnapshot.data)}function Zo(re,Ee){const ae=wt(re.params,Ee.params)&&function pt(re,Ee){return Xt(re,Ee)&&re.every((ae,Oe)=>wt(ae.parameters,Ee[Oe].parameters))}(re.url,Ee.url);return ae&&!(!re.parent!=!Ee.parent)&&(!re.parent||Zo(re.parent,Ee.parent))}function di(re){return"string"==typeof re.title||null===re.title}let Io=(()=>{class re{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(Bt),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.inputBinder=(0,t.WQX)(sr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ae){if(ae.name){const{firstChange:Oe,previousValue:qe}=ae.name;if(Oe)return;this.isTrackedInParentContexts(qe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(qe)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ae){return this.parentContexts.getContext(ae)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ae=this.parentContexts.getContext(this.name);ae?.route&&(ae.attachRef?this.attach(ae.attachRef,ae.route):this.activateWith(ae.route,ae.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const ae=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ae.instance),ae}attach(ae,Oe){this.activated=ae,this._activatedRoute=Oe,this.location.insert(ae.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ae.instance)}deactivate(){if(this.activated){const ae=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ae)}}activateWith(ae,Oe){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=ae;const qe=this.location,Qt=ae.snapshot.component,In=this.parentContexts.getOrCreateContext(this.name).children,Tn=new no(ae,In,qe.injector);this.activated=qe.createComponent(Qt,{index:qe.length,injector:Tn,environmentInjector:Oe}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275dir=t.FsC({type:re,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}return re})();class no{__ngOutletInjector(Ee){return new no(this.route,this.childContexts,Ee)}constructor(Ee,ae,Oe){this.route=Ee,this.childContexts=ae,this.parent=Oe}get(Ee,ae){return Ee===Xs?this.route:Ee===Bt?this.childContexts:this.parent.get(Ee,ae)}}const sr=new t.nKC("");let Va=(()=>{class re{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ae){this.unsubscribeFromRouteData(ae),this.subscribeToRouteData(ae)}unsubscribeFromRouteData(ae){this.outletDataSubscriptions.get(ae)?.unsubscribe(),this.outletDataSubscriptions.delete(ae)}subscribeToRouteData(ae){const{activatedRoute:Oe}=ae,qe=(0,E.zV)([Oe.queryParams,Oe.params,Oe.data]).pipe((0,ne.n)(([Lt,Qt,In],Tn)=>(In={...Lt,...Qt,...In},0===Tn?(0,v.of)(In):Promise.resolve(In)))).subscribe(Lt=>{if(!ae.isActivated||!ae.activatedComponentRef||ae.activatedRoute!==Oe||null===Oe.component)return void this.unsubscribeFromRouteData(ae);const Qt=(0,t.HJs)(Oe.component);if(Qt)for(const{templateName:In}of Qt.inputs)ae.activatedComponentRef.setInput(In,Lt[In]);else this.unsubscribeFromRouteData(ae)});this.outletDataSubscriptions.set(ae,qe)}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac})}return re})();function Wo(re,Ee,ae){if(ae&&re.shouldReuseRoute(Ee.value,ae.value.snapshot)){const Oe=ae.value;Oe._futureSnapshot=Ee.value;const qe=function rr(re,Ee,ae){return Ee.children.map(Oe=>{for(const qe of ae.children)if(re.shouldReuseRoute(Oe.value,qe.value.snapshot))return Wo(re,Oe,qe);return Wo(re,Oe)})}(re,Ee,ae);return new Ci(Oe,qe)}{if(re.shouldAttach(Ee.value)){const Lt=re.retrieve(Ee.value);if(null!==Lt){const Qt=Lt.route;return Qt.value._futureSnapshot=Ee.value,Qt.children=Ee.children.map(In=>Wo(re,In)),Qt}}const Oe=function Or(re){return new Xs(new b.t(re.url),new b.t(re.params),new b.t(re.queryParams),new b.t(re.fragment),new b.t(re.data),re.outlet,re.component,re)}(Ee.value),qe=Ee.children.map(Lt=>Wo(re,Lt));return new Ci(Oe,qe)}}class Po{constructor(Ee,ae){this.redirectTo=Ee,this.navigationBehaviorOptions=ae}}const Vr="ngNavigationCancelingError";function Ga(re,Ee){const{redirectTo:ae,navigationBehaviorOptions:Oe}=yn(Ee)?{redirectTo:Ee,navigationBehaviorOptions:void 0}:Ee,qe=$s(!1,Sn.Redirect);return qe.url=ae,qe.navigationBehaviorOptions=Oe,qe}function $s(re,Ee){const ae=new Error(`NavigationCancelingError: ${re||""}`);return ae[Vr]=!0,ae.cancellationCode=Ee,ae}function Ka(re){return!!re&&re[Vr]}class za{constructor(Ee,ae,Oe,qe,Lt){this.routeReuseStrategy=Ee,this.futureState=ae,this.currState=Oe,this.forwardEvent=qe,this.inputBindingEnabled=Lt}activate(Ee){const ae=this.futureState._root,Oe=this.currState?this.currState._root:null;this.deactivateChildRoutes(ae,Oe,Ee),xo(this.futureState.root),this.activateChildRoutes(ae,Oe,Ee)}deactivateChildRoutes(Ee,ae,Oe){const qe=Wi(ae);Ee.children.forEach(Lt=>{const Qt=Lt.value.outlet;this.deactivateRoutes(Lt,qe[Qt],Oe),delete qe[Qt]}),Object.values(qe).forEach(Lt=>{this.deactivateRouteAndItsChildren(Lt,Oe)})}deactivateRoutes(Ee,ae,Oe){const qe=Ee.value,Lt=ae?ae.value:null;if(qe===Lt)if(qe.component){const Qt=Oe.getContext(qe.outlet);Qt&&this.deactivateChildRoutes(Ee,ae,Qt.children)}else this.deactivateChildRoutes(Ee,ae,Oe);else Lt&&this.deactivateRouteAndItsChildren(ae,Oe)}deactivateRouteAndItsChildren(Ee,ae){Ee.value.component&&this.routeReuseStrategy.shouldDetach(Ee.value.snapshot)?this.detachAndStoreRouteSubtree(Ee,ae):this.deactivateRouteAndOutlet(Ee,ae)}detachAndStoreRouteSubtree(Ee,ae){const Oe=ae.getContext(Ee.value.outlet),qe=Oe&&Ee.value.component?Oe.children:ae,Lt=Wi(Ee);for(const Qt of Object.values(Lt))this.deactivateRouteAndItsChildren(Qt,qe);if(Oe&&Oe.outlet){const Qt=Oe.outlet.detach(),In=Oe.children.onOutletDeactivated();this.routeReuseStrategy.store(Ee.value.snapshot,{componentRef:Qt,route:Ee,contexts:In})}}deactivateRouteAndOutlet(Ee,ae){const Oe=ae.getContext(Ee.value.outlet),qe=Oe&&Ee.value.component?Oe.children:ae,Lt=Wi(Ee);for(const Qt of Object.values(Lt))this.deactivateRouteAndItsChildren(Qt,qe);Oe&&(Oe.outlet&&(Oe.outlet.deactivate(),Oe.children.onOutletDeactivated()),Oe.attachRef=null,Oe.route=null)}activateChildRoutes(Ee,ae,Oe){const qe=Wi(ae);Ee.children.forEach(Lt=>{this.activateRoutes(Lt,qe[Lt.value.outlet],Oe),this.forwardEvent(new Ir(Lt.value.snapshot))}),Ee.children.length&&this.forwardEvent(new Er(Ee.value.snapshot))}activateRoutes(Ee,ae,Oe){const qe=Ee.value,Lt=ae?ae.value:null;if(xo(qe),qe===Lt)if(qe.component){const Qt=Oe.getOrCreateContext(qe.outlet);this.activateChildRoutes(Ee,ae,Qt.children)}else this.activateChildRoutes(Ee,ae,Oe);else if(qe.component){const Qt=Oe.getOrCreateContext(qe.outlet);if(this.routeReuseStrategy.shouldAttach(qe.snapshot)){const In=this.routeReuseStrategy.retrieve(qe.snapshot);this.routeReuseStrategy.store(qe.snapshot,null),Qt.children.onOutletReAttached(In.contexts),Qt.attachRef=In.componentRef,Qt.route=In.route.value,Qt.outlet&&Qt.outlet.attach(In.componentRef,In.route.value),xo(In.route.value),this.activateChildRoutes(Ee,null,Qt.children)}else Qt.attachRef=null,Qt.route=qe,Qt.outlet&&Qt.outlet.activateWith(qe,Qt.injector),this.activateChildRoutes(Ee,null,Qt.children)}else this.activateChildRoutes(Ee,null,Oe)}}class ps{constructor(Ee){this.path=Ee,this.route=this.path[this.path.length-1]}}class Ts{constructor(Ee,ae){this.component=Ee,this.route=ae}}function lo(re,Ee,ae){const Oe=re._root;return $o(Oe,Ee?Ee._root:null,ae,[Oe.value])}function Gr(re,Ee){const ae=Symbol(),Oe=Ee.get(re,ae);return Oe===ae?"function"!=typeof re||(0,t.LfX)(re)?Ee.get(re):re:Oe}function $o(re,Ee,ae,Oe,qe={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=Wi(Ee);return re.children.forEach(Qt=>{(function Xo(re,Ee,ae,Oe,qe={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=re.value,Qt=Ee?Ee.value:null,In=ae?ae.getContext(re.value.outlet):null;if(Qt&&Lt.routeConfig===Qt.routeConfig){const Tn=function Ji(re,Ee,ae){if("function"==typeof ae)return ae(re,Ee);switch(ae){case"pathParamsChange":return!Xt(re.url,Ee.url);case"pathParamsOrQueryParamsChange":return!Xt(re.url,Ee.url)||!wt(re.queryParams,Ee.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zo(re,Ee)||!wt(re.queryParams,Ee.queryParams);default:return!Zo(re,Ee)}}(Qt,Lt,Lt.routeConfig.runGuardsAndResolvers);Tn?qe.canActivateChecks.push(new ps(Oe)):(Lt.data=Qt.data,Lt._resolvedData=Qt._resolvedData),$o(re,Ee,Lt.component?In?In.children:null:ae,Oe,qe),Tn&&In&&In.outlet&&In.outlet.isActivated&&qe.canDeactivateChecks.push(new Ts(In.outlet.component,Qt))}else Qt&&Kr(Ee,In,qe),qe.canActivateChecks.push(new ps(Oe)),$o(re,null,Lt.component?In?In.children:null:ae,Oe,qe)})(Qt,Lt[Qt.value.outlet],ae,Oe.concat([Qt.value]),qe),delete Lt[Qt.value.outlet]}),Object.entries(Lt).forEach(([Qt,In])=>Kr(In,ae.getContext(Qt),qe)),qe}function Kr(re,Ee,ae){const Oe=Wi(re),qe=re.value;Object.entries(Oe).forEach(([Lt,Qt])=>{Kr(Qt,qe.component?Ee?Ee.children.getContext(Lt):null:Ee,ae)}),ae.canDeactivateChecks.push(new Ts(qe.component&&Ee&&Ee.outlet&&Ee.outlet.isActivated?Ee.outlet.component:null,qe))}function Rt(re){return"function"==typeof re}function Ve(re){return re instanceof M.G||"EmptyError"===re?.name}const Ce=Symbol("INITIAL_VALUE");function Mt(){return(0,ne.n)(re=>(0,E.zV)(re.map(Ee=>Ee.pipe((0,U.s)(1),(0,c.Z)(Ce)))).pipe((0,K.T)(Ee=>{for(const ae of Ee)if(!0!==ae){if(ae===Ce)return Ce;if(!1===ae||rn(ae))return ae}return!0}),(0,Z.p)(Ee=>Ee!==Ce),(0,U.s)(1)))}function rn(re){return yn(re)||re instanceof Po}function ns(re){return(0,I.F)((0,X.M)(Ee=>{if("boolean"!=typeof Ee)throw Ga(0,Ee)}),(0,K.T)(Ee=>!0===Ee))}class qo{constructor(Ee){this.segmentGroup=Ee||null}}class wr extends Error{constructor(Ee){super(),this.urlTree=Ee}}function Fl(re){return(0,k.$)(new qo(re))}class Sa{constructor(Ee,ae){this.urlSerializer=Ee,this.urlTree=ae}lineralizeSegments(Ee,ae){let Oe=[],qe=ae.root;for(;;){if(Oe=Oe.concat(qe.segments),0===qe.numberOfChildren)return(0,v.of)(Oe);if(qe.numberOfChildren>1||!qe.children[_e])return(0,k.$)(new t.wOt(4e3,!1));qe=qe.children[_e]}}applyRedirectCommands(Ee,ae,Oe,qe,Lt){if("string"!=typeof ae){const In=ae,{queryParams:Tn,fragment:bi,routeConfig:oi,url:Xn,outlet:gi,params:er,data:po,title:Ho}=qe,Oa=(0,t.N4e)(Lt,()=>In({params:er,data:po,queryParams:Tn,fragment:bi,routeConfig:oi,url:Xn,outlet:gi,title:Ho}));if(Oa instanceof Pt)throw new wr(Oa);ae=Oa}const Qt=this.applyRedirectCreateUrlTree(ae,this.urlSerializer.parse(ae),Ee,Oe);if("/"===ae[0])throw new wr(Qt);return Qt}applyRedirectCreateUrlTree(Ee,ae,Oe,qe){const Lt=this.createSegmentGroup(Ee,ae.root,Oe,qe);return new Pt(Lt,this.createQueryParams(ae.queryParams,this.urlTree.queryParams),ae.fragment)}createQueryParams(Ee,ae){const Oe={};return Object.entries(Ee).forEach(([qe,Lt])=>{if("string"==typeof Lt&&":"===Lt[0]){const In=Lt.substring(1);Oe[qe]=ae[In]}else Oe[qe]=Lt}),Oe}createSegmentGroup(Ee,ae,Oe,qe){const Lt=this.createSegments(Ee,ae.segments,Oe,qe);let Qt={};return Object.entries(ae.children).forEach(([In,Tn])=>{Qt[In]=this.createSegmentGroup(Ee,Tn,Oe,qe)}),new dn(Lt,Qt)}createSegments(Ee,ae,Oe,qe){return ae.map(Lt=>":"===Lt.path[0]?this.findPosParam(Ee,Lt,qe):this.findOrReturn(Lt,Oe))}findPosParam(Ee,ae,Oe){const qe=Oe[ae.path.substring(1)];if(!qe)throw new t.wOt(4001,!1);return qe}findOrReturn(Ee,ae){let Oe=0;for(const qe of ae){if(qe.path===Ee.path)return ae.splice(Oe),qe;Oe++}return Ee}}const Ma={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xa(re,Ee,ae,Oe,qe){const Lt=yc(re,Ee,ae);return Lt.matched?(Oe=function pr(re,Ee){return re.providers&&!re._injector&&(re._injector=(0,t.Ol2)(re.providers,Ee,`Route: ${re.path}`)),re._injector??Ee}(Ee,Oe),function Ta(re,Ee,ae,Oe){const qe=Ee.canMatch;if(!qe||0===qe.length)return(0,v.of)(!0);const Lt=qe.map(Qt=>{const In=Gr(Qt,re);return Jt(function De(re){return re&&Rt(re.canMatch)}(In)?In.canMatch(Ee,ae):(0,t.N4e)(re,()=>In(Ee,ae)))});return(0,v.of)(Lt).pipe(Mt(),ns())}(Oe,Ee,ae).pipe((0,K.T)(Qt=>!0===Qt?Lt:{...Ma}))):(0,v.of)(Lt)}function yc(re,Ee,ae){if("**"===Ee.path)return function os(re){return{matched:!0,parameters:re.length>0?Bn(re).parameters:{},consumedSegments:re,remainingSegments:[],positionalParamSegments:{}}}(ae);if(""===Ee.path)return"full"===Ee.pathMatch&&(re.hasChildren()||ae.length>0)?{...Ma}:{matched:!0,consumedSegments:[],remainingSegments:ae,parameters:{},positionalParamSegments:{}};const qe=(Ee.matcher||St)(ae,re,Ee);if(!qe)return{...Ma};const Lt={};Object.entries(qe.posParams??{}).forEach(([In,Tn])=>{Lt[In]=Tn.path});const Qt=qe.consumed.length>0?{...Lt,...qe.consumed[qe.consumed.length-1].parameters}:Lt;return{matched:!0,consumedSegments:qe.consumed,remainingSegments:ae.slice(qe.consumed.length),parameters:Qt,positionalParamSegments:qe.posParams??{}}}function ql(re,Ee,ae,Oe){return ae.length>0&&function Ha(re,Ee,ae){return ae.some(Oe=>ds(re,Ee,Oe)&&ho(Oe)!==_e)}(re,ae,Oe)?{segmentGroup:new dn(Ee,Cr(Oe,new dn(ae,re.children))),slicedSegments:[]}:0===ae.length&&function sl(re,Ee,ae){return ae.some(Oe=>ds(re,Ee,Oe))}(re,ae,Oe)?{segmentGroup:new dn(re.segments,il(re,ae,Oe,re.children)),slicedSegments:ae}:{segmentGroup:new dn(re.segments,re.children),slicedSegments:ae}}function il(re,Ee,ae,Oe){const qe={};for(const Lt of ae)if(ds(re,Ee,Lt)&&!Oe[ho(Lt)]){const Qt=new dn([],{});qe[ho(Lt)]=Qt}return{...Oe,...qe}}function Cr(re,Ee){const ae={};ae[_e]=Ee;for(const Oe of re)if(""===Oe.path&&ho(Oe)!==_e){const qe=new dn([],{});ae[ho(Oe)]=qe}return ae}function ds(re,Ee,ae){return(!(re.hasChildren()||Ee.length>0)||"full"!==ae.pathMatch)&&""===ae.path}class Ec{}class ma{constructor(Ee,ae,Oe,qe,Lt,Qt,In){this.injector=Ee,this.configLoader=ae,this.rootComponentType=Oe,this.config=qe,this.urlTree=Lt,this.paramsInheritanceStrategy=Qt,this.urlSerializer=In,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ee){return new t.wOt(4002,`'${Ee.segmentGroup}'`)}recognize(){const Ee=ql(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ee).pipe((0,K.T)(({children:ae,rootSnapshot:Oe})=>{const qe=new Ci(Oe,ae),Lt=new to("",qe),Qt=function Vn(re,Ee,ae=null,Oe=null){return Oi(mi(re),Ee,ae,Oe)}(Oe,[],this.urlTree.queryParams,this.urlTree.fragment);return Qt.queryParams=this.urlTree.queryParams,Lt.url=this.urlSerializer.serialize(Qt),{state:Lt,tree:Qt}}))}match(Ee){const ae=new Hs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Ee,_e,ae).pipe((0,K.T)(Oe=>({children:Oe,rootSnapshot:ae})),(0,$.W)(Oe=>{if(Oe instanceof wr)return this.urlTree=Oe.urlTree,this.match(Oe.urlTree.root);throw Oe instanceof qo?this.noMatchError(Oe):Oe}))}processSegmentGroup(Ee,ae,Oe,qe,Lt){return 0===Oe.segments.length&&Oe.hasChildren()?this.processChildren(Ee,ae,Oe,Lt):this.processSegment(Ee,ae,Oe,Oe.segments,qe,!0,Lt).pipe((0,K.T)(Qt=>Qt instanceof Ci?[Qt]:[]))}processChildren(Ee,ae,Oe,qe){const Lt=[];for(const Qt of Object.keys(Oe.children))"primary"===Qt?Lt.unshift(Qt):Lt.push(Qt);return(0,p.H)(Lt).pipe((0,z.H)(Qt=>{const In=Oe.children[Qt],Tn=function na(re,Ee){const ae=re.filter(Oe=>ho(Oe)===Ee);return ae.push(...re.filter(Oe=>ho(Oe)!==Ee)),ae}(ae,Qt);return this.processSegmentGroup(Ee,Tn,In,Qt,qe)}),function G(re,Ee){let ae=!1;return arguments.length>=2&&(ae=!0),function(qe){return qe.lift(new oe(re,Ee,ae))}}((Qt,In)=>(Qt.push(...In),Qt)),(0,le.U)(null),function Ie(re,Ee){const ae=arguments.length>=2;return Oe=>Oe.pipe(re?(0,Z.p)((qe,Lt)=>re(qe,Lt,Oe)):fe.D,Q(1),ae?(0,le.U)(Ee):(0,H.v)(()=>new M.G))}(),(0,F.ZZ)(Qt=>{if(null===Qt)return Fl(Oe);const In=ec(Qt);return function ol(re){re.sort((Ee,ae)=>Ee.value.outlet===_e?-1:ae.value.outlet===_e?1:Ee.value.outlet.localeCompare(ae.value.outlet))}(In),(0,v.of)(In)}))}processSegment(Ee,ae,Oe,qe,Lt,Qt,In){return(0,p.H)(ae).pipe((0,z.H)(Tn=>this.processSegmentAgainstRoute(Tn._injector??Ee,ae,Tn,Oe,qe,Lt,Qt,In).pipe((0,$.W)(bi=>{if(bi instanceof qo)return(0,v.of)(null);throw bi}))),(0,J.$)(Tn=>!!Tn),(0,$.W)(Tn=>{if(Ve(Tn))return function Oo(re,Ee,ae){return 0===Ee.length&&!re.children[ae]}(Oe,qe,Lt)?(0,v.of)(new Ec):Fl(Oe);throw Tn}))}processSegmentAgainstRoute(Ee,ae,Oe,qe,Lt,Qt,In,Tn){return ho(Oe)===Qt||Qt!==_e&&ds(qe,Lt,Oe)?void 0===Oe.redirectTo?this.matchSegmentAgainstRoute(Ee,qe,Oe,Lt,Qt,Tn):this.allowRedirects&&In?this.expandSegmentAgainstRouteUsingRedirect(Ee,qe,ae,Oe,Lt,Qt,Tn):Fl(qe):Fl(qe)}expandSegmentAgainstRouteUsingRedirect(Ee,ae,Oe,qe,Lt,Qt,In){const{matched:Tn,parameters:bi,consumedSegments:oi,positionalParamSegments:Xn,remainingSegments:gi}=yc(ae,qe,Lt);if(!Tn)return Fl(ae);"string"==typeof qe.redirectTo&&"/"===qe.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const er=new Hs(Lt,bi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ft(qe),ho(qe),qe.component??qe._loadedComponent??null,qe,et(qe)),po=Co(er,In,this.paramsInheritanceStrategy);er.params=Object.freeze(po.params),er.data=Object.freeze(po.data);const Ho=this.applyRedirects.applyRedirectCommands(oi,qe.redirectTo,Xn,er,Ee);return this.applyRedirects.lineralizeSegments(qe,Ho).pipe((0,F.ZZ)(Oa=>this.processSegment(Ee,Oe,ae,Oa.concat(gi),Qt,!1,In)))}matchSegmentAgainstRoute(Ee,ae,Oe,qe,Lt,Qt){const In=Xa(ae,Oe,qe,Ee);return"**"===Oe.path&&(ae.children={}),In.pipe((0,ne.n)(Tn=>Tn.matched?this.getChildConfig(Ee=Oe._injector??Ee,Oe,qe).pipe((0,ne.n)(({routes:bi})=>{const oi=Oe._loadedInjector??Ee,{parameters:Xn,consumedSegments:gi,remainingSegments:er}=Tn,po=new Hs(gi,Xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ft(Oe),ho(Oe),Oe.component??Oe._loadedComponent??null,Oe,et(Oe)),Ho=Co(po,Qt,this.paramsInheritanceStrategy);po.params=Object.freeze(Ho.params),po.data=Object.freeze(Ho.data);const{segmentGroup:Oa,slicedSegments:Ll}=ql(ae,gi,er,bi);if(0===Ll.length&&Oa.hasChildren())return this.processChildren(oi,bi,Oa,po).pipe((0,K.T)(Yc=>new Ci(po,Yc)));if(0===bi.length&&0===Ll.length)return(0,v.of)(new Ci(po,[]));const Za=ho(Oe)===Lt;return this.processSegment(oi,bi,Oa,Ll,Za?_e:Lt,!0,po).pipe((0,K.T)(Yc=>new Ci(po,Yc instanceof Ci?[Yc]:[])))})):Fl(ae)))}getChildConfig(Ee,ae,Oe){return ae.children?(0,v.of)({routes:ae.children,injector:Ee}):ae.loadChildren?void 0!==ae._loadedRoutes?(0,v.of)({routes:ae._loadedRoutes,injector:ae._loadedInjector}):function kl(re,Ee,ae,Oe){const qe=Ee.canLoad;if(void 0===qe||0===qe.length)return(0,v.of)(!0);const Lt=qe.map(Qt=>{const In=Gr(Qt,re);return Jt(function be(re){return re&&Rt(re.canLoad)}(In)?In.canLoad(Ee,ae):(0,t.N4e)(re,()=>In(Ee,ae)))});return(0,v.of)(Lt).pipe(Mt(),ns())}(Ee,ae,Oe).pipe((0,F.ZZ)(qe=>qe?this.configLoader.loadChildren(Ee,ae).pipe((0,X.M)(Lt=>{ae._loadedRoutes=Lt.routes,ae._loadedInjector=Lt.injector})):function Wa(){return(0,k.$)($s(!1,Sn.GuardRejected))}())):(0,v.of)({routes:[],injector:Ee})}}function As(re){const Ee=re.value.routeConfig;return Ee&&""===Ee.path}function ec(re){const Ee=[],ae=new Set;for(const Oe of re){if(!As(Oe)){Ee.push(Oe);continue}const qe=Ee.find(Lt=>Oe.value.routeConfig===Lt.value.routeConfig);void 0!==qe?(qe.children.push(...Oe.children),ae.add(qe)):Ee.push(Oe)}for(const Oe of ae){const qe=ec(Oe.children);Ee.push(new Ci(Oe.value,qe))}return Ee.filter(Oe=>!ae.has(Oe))}function ft(re){return re.data||{}}function et(re){return re.resolve||{}}function en(re){const Ee=re.children.map(ae=>en(ae)).flat();return[re,...Ee]}function ii(re){return(0,ne.n)(Ee=>{const ae=re(Ee);return ae?(0,p.H)(ae).pipe((0,K.T)(()=>Ee)):(0,v.of)(Ee)})}let ki=(()=>{class re{buildTitle(ae){let Oe,qe=ae.root;for(;void 0!==qe;)Oe=this.getResolvedTitleForRoute(qe)??Oe,qe=qe.children.find(Lt=>Lt.outlet===_e);return Oe}getResolvedTitleForRoute(ae){return ae.data[de]}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:()=>(0,t.WQX)(fi),providedIn:"root"})}return re})(),fi=(()=>{class re extends ki{constructor(ae){super(),this.title=ae}updateTitle(ae){const Oe=this.buildTitle(ae);void 0!==Oe&&this.title.setTitle(Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||re)(t.KVO(we.hE))};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const si=new t.nKC("",{providedIn:"root",factory:()=>({})});let Zi=(()=>{class re{static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275cmp=t.VBU({type:re,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(Oe,qe){1&Oe&&t.nrm(0,"router-outlet")},dependencies:[Io],encapsulation:2})}return re})();function cs(re){const Ee=re.children&&re.children.map(cs),ae=Ee?{...re,children:Ee}:{...re};return!ae.component&&!ae.loadComponent&&(Ee||ae.loadChildren)&&ae.outlet&&ae.outlet!==_e&&(ae.component=Zi),ae}const rs=new t.nKC("");let ao=(()=>{class re{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(ae){if(this.componentLoaders.get(ae))return this.componentLoaders.get(ae);if(ae._loadedComponent)return(0,v.of)(ae._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ae);const Oe=Jt(ae.loadComponent()).pipe((0,K.T)(tc),(0,X.M)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(ae),ae._loadedComponent=Lt}),(0,yt.j)(()=>{this.componentLoaders.delete(ae)})),qe=new w.G(Oe,()=>new D.B7).pipe((0,ot.B)());return this.componentLoaders.set(ae,qe),qe}loadChildren(ae,Oe){if(this.childrenLoaders.get(Oe))return this.childrenLoaders.get(Oe);if(Oe._loadedRoutes)return(0,v.of)({routes:Oe._loadedRoutes,injector:Oe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Oe);const Lt=function xr(re,Ee,ae,Oe){return Jt(re.loadChildren()).pipe((0,K.T)(tc),(0,F.ZZ)(qe=>qe instanceof t.Co$||Array.isArray(qe)?(0,v.of)(qe):(0,p.H)(Ee.compileModuleAsync(qe))),(0,K.T)(qe=>{Oe&&Oe(re);let Lt,Qt,In=!1;return Array.isArray(qe)?(Qt=qe,!0):(Lt=qe.create(ae).injector,Qt=Lt.get(rs,[],{optional:!0,self:!0}).flat()),{routes:Qt.map(cs),injector:Lt}}))}(Oe,this.compiler,ae,this.onLoadEndListener).pipe((0,yt.j)(()=>{this.childrenLoaders.delete(Oe)})),Qt=new w.G(Lt,()=>new D.B7).pipe((0,ot.B)());return this.childrenLoaders.set(Oe,Qt),Qt}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();function tc(re){return function Rs(re){return re&&"object"==typeof re&&"default"in re}(re)?re.default:re}let Pl=(()=>{class re{static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:()=>(0,t.WQX)(ue),providedIn:"root"})}return re})(),ue=(()=>{class re{shouldProcessUrl(ae){return!0}extract(ae){return ae}merge(ae,Oe){return ae}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const vt=new t.nKC(""),ke=new t.nKC("");function st(re,Ee,ae){const Oe=re.get(ke),qe=re.get(V.qQ);return re.get(t.SKi).runOutsideAngular(()=>{if(!qe.startViewTransition||Oe.skipNextTransition)return Oe.skipNextTransition=!1,new Promise(bi=>setTimeout(bi));let Lt;const Qt=new Promise(bi=>{Lt=bi}),In=qe.startViewTransition(()=>(Lt(),function tn(re){return new Promise(Ee=>{(0,t.mal)({read:()=>setTimeout(Ee)},{injector:re})})}(re))),{onViewTransitionCreated:Tn}=Oe;return Tn&&(0,t.N4e)(re,()=>Tn({transition:In,from:Ee,to:ae})),Qt})}const Fn=new t.nKC("");let Ln=(()=>{class re{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new D.B7,this.transitionAbortSubject=new D.B7,this.configLoader=(0,t.WQX)(ao),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(pn),this.rootContexts=(0,t.WQX)(Bt),this.location=(0,t.WQX)(V.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(sr,{optional:!0}),this.titleStrategy=(0,t.WQX)(ki),this.options=(0,t.WQX)(si,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(Pl),this.createViewTransition=(0,t.WQX)(vt,{optional:!0}),this.navigationErrorHandler=(0,t.WQX)(Fn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,v.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=qe=>this.events.next(new vo(qe)),this.configLoader.onLoadStartListener=qe=>this.events.next(new Ks(qe))}complete(){this.transitions?.complete()}handleNavigationRequest(ae){const Oe=++this.navigationId;this.transitions?.next({...this.transitions.value,...ae,id:Oe})}setupNavigations(ae,Oe,qe){return this.transitions=new b.t({id:0,currentUrlTree:Oe,currentRawUrl:Oe,extractedUrl:this.urlHandlingStrategy.extract(Oe),urlAfterRedirects:this.urlHandlingStrategy.extract(Oe),rawUrl:Oe,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:mt,restoredState:null,currentSnapshot:qe.snapshot,targetSnapshot:null,currentRouterState:qe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Z.p)(Lt=>0!==Lt.id),(0,K.T)(Lt=>({...Lt,extractedUrl:this.urlHandlingStrategy.extract(Lt.rawUrl)})),(0,ne.n)(Lt=>{let Qt=!1,In=!1;return(0,v.of)(Lt).pipe((0,ne.n)(Tn=>{if(this.navigationId>Lt.id)return this.cancelNavigationTransition(Lt,"",Sn.SupersededByNewNavigation),T.w;this.currentTransition=Lt,this.currentNavigation={id:Tn.id,initialUrl:Tn.rawUrl,extractedUrl:Tn.extractedUrl,targetBrowserUrl:"string"==typeof Tn.extras.browserUrl?this.urlSerializer.parse(Tn.extras.browserUrl):Tn.extras.browserUrl,trigger:Tn.source,extras:Tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const bi=!ae.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!bi&&"reload"!==(Tn.extras.onSameUrlNavigation??ae.onSameUrlNavigation)){const Xn="";return this.events.next(new Li(Tn.id,this.urlSerializer.serialize(Tn.rawUrl),Xn,Jn.IgnoredSameUrlNavigation)),Tn.resolve(!1),T.w}if(this.urlHandlingStrategy.shouldProcessUrl(Tn.rawUrl))return(0,v.of)(Tn).pipe((0,ne.n)(Xn=>{const gi=this.transitions?.getValue();return this.events.next(new Yt(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),Xn.source,Xn.restoredState)),gi!==this.transitions?.getValue()?T.w:Promise.resolve(Xn)}),function Dt(re,Ee,ae,Oe,qe,Lt){return(0,F.ZZ)(Qt=>function Ys(re,Ee,ae,Oe,qe,Lt,Qt="emptyOnly"){return new ma(re,Ee,ae,Oe,qe,Qt,Lt).recognize()}(re,Ee,ae,Oe,Qt.extractedUrl,qe,Lt).pipe((0,K.T)(({state:In,tree:Tn})=>({...Qt,targetSnapshot:In,urlAfterRedirects:Tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ae.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,X.M)(Xn=>{Lt.targetSnapshot=Xn.targetSnapshot,Lt.urlAfterRedirects=Xn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Xn.urlAfterRedirects};const gi=new es(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects),Xn.targetSnapshot);this.events.next(gi)}));if(bi&&this.urlHandlingStrategy.shouldProcessUrl(Tn.currentRawUrl)){const{id:Xn,extractedUrl:gi,source:er,restoredState:po,extras:Ho}=Tn,Oa=new Yt(Xn,this.urlSerializer.serialize(gi),er,po);this.events.next(Oa);const Ll=Ws(this.rootComponentType).snapshot;return this.currentTransition=Lt={...Tn,targetSnapshot:Ll,urlAfterRedirects:gi,extras:{...Ho,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=gi,(0,v.of)(Lt)}{const Xn="";return this.events.next(new Li(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),Xn,Jn.IgnoredByUrlHandlingStrategy)),Tn.resolve(!1),T.w}}),(0,X.M)(Tn=>{const bi=new as(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(bi)}),(0,K.T)(Tn=>(this.currentTransition=Lt={...Tn,guards:lo(Tn.targetSnapshot,Tn.currentSnapshot,this.rootContexts)},Lt)),function yi(re,Ee){return(0,F.ZZ)(ae=>{const{targetSnapshot:Oe,currentSnapshot:qe,guards:{canActivateChecks:Lt,canDeactivateChecks:Qt}}=ae;return 0===Qt.length&&0===Lt.length?(0,v.of)({...ae,guardsResult:!0}):function ss(re,Ee,ae,Oe){return(0,p.H)(re).pipe((0,F.ZZ)(qe=>function Rl(re,Ee,ae,Oe,qe){const Lt=Ee&&Ee.routeConfig?Ee.routeConfig.canDeactivate:null;if(!Lt||0===Lt.length)return(0,v.of)(!0);const Qt=Lt.map(In=>{const Tn=wo(Ee)??qe,bi=Gr(In,Tn);return Jt(function sn(re){return re&&Rt(re.canDeactivate)}(bi)?bi.canDeactivate(re,Ee,ae,Oe):(0,t.N4e)(Tn,()=>bi(re,Ee,ae,Oe))).pipe((0,J.$)())});return(0,v.of)(Qt).pipe(Mt())}(qe.component,qe.route,ae,Ee,Oe)),(0,J.$)(qe=>!0!==qe,!0))}(Qt,Oe,qe,re).pipe((0,F.ZZ)(In=>In&&function Wn(re){return"boolean"==typeof re}(In)?function Ns(re,Ee,ae,Oe){return(0,p.H)(Ee).pipe((0,z.H)(qe=>(0,S.x)(function Hi(re,Ee){return null!==re&&Ee&&Ee(new zs(re)),(0,v.of)(!0)}(qe.route.parent,Oe),function Ri(re,Ee){return null!==re&&Ee&&Ee(new bs(re)),(0,v.of)(!0)}(qe.route,Oe),function ml(re,Ee,ae){const Oe=Ee[Ee.length-1],Lt=Ee.slice(0,Ee.length-1).reverse().map(Qt=>function _a(re){const Ee=re.routeConfig?re.routeConfig.canActivateChild:null;return Ee&&0!==Ee.length?{node:re,guards:Ee}:null}(Qt)).filter(Qt=>null!==Qt).map(Qt=>(0,u.v)(()=>{const In=Qt.guards.map(Tn=>{const bi=wo(Qt.node)??ae,oi=Gr(Tn,bi);return Jt(function Ye(re){return re&&Rt(re.canActivateChild)}(oi)?oi.canActivateChild(Oe,re):(0,t.N4e)(bi,()=>oi(Oe,re))).pipe((0,J.$)())});return(0,v.of)(In).pipe(Mt())}));return(0,v.of)(Lt).pipe(Mt())}(re,qe.path,ae),function ia(re,Ee,ae){const Oe=Ee.routeConfig?Ee.routeConfig.canActivate:null;if(!Oe||0===Oe.length)return(0,v.of)(!0);const qe=Oe.map(Lt=>(0,u.v)(()=>{const Qt=wo(Ee)??ae,In=Gr(Lt,Qt);return Jt(function Nt(re){return re&&Rt(re.canActivate)}(In)?In.canActivate(Ee,re):(0,t.N4e)(Qt,()=>In(Ee,re))).pipe((0,J.$)())}));return(0,v.of)(qe).pipe(Mt())}(re,qe.route,ae))),(0,J.$)(qe=>!0!==qe,!0))}(Oe,Lt,re,Ee):(0,v.of)(In)),(0,K.T)(In=>({...ae,guardsResult:In})))})}(this.environmentInjector,Tn=>this.events.next(Tn)),(0,X.M)(Tn=>{if(Lt.guardsResult=Tn.guardsResult,Tn.guardsResult&&"boolean"!=typeof Tn.guardsResult)throw Ga(0,Tn.guardsResult);const bi=new ti(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot,!!Tn.guardsResult);this.events.next(bi)}),(0,Z.p)(Tn=>!!Tn.guardsResult||(this.cancelNavigationTransition(Tn,"",Sn.GuardRejected),!1)),ii(Tn=>{if(Tn.guards.canActivateChecks.length)return(0,v.of)(Tn).pipe((0,X.M)(bi=>{const oi=new qs(bi.id,this.urlSerializer.serialize(bi.extractedUrl),this.urlSerializer.serialize(bi.urlAfterRedirects),bi.targetSnapshot);this.events.next(oi)}),(0,ne.n)(bi=>{let oi=!1;return(0,v.of)(bi).pipe(function Ot(re,Ee){return(0,F.ZZ)(ae=>{const{targetSnapshot:Oe,guards:{canActivateChecks:qe}}=ae;if(!qe.length)return(0,v.of)(ae);const Lt=new Set(qe.map(Tn=>Tn.route)),Qt=new Set;for(const Tn of Lt)if(!Qt.has(Tn))for(const bi of en(Tn))Qt.add(bi);let In=0;return(0,p.H)(Qt).pipe((0,z.H)(Tn=>Lt.has(Tn)?function fn(re,Ee,ae,Oe){const qe=re.routeConfig,Lt=re._resolve;return void 0!==qe?.title&&!di(qe)&&(Lt[de]=qe.title),function wn(re,Ee,ae,Oe){const qe=ln(re);if(0===qe.length)return(0,v.of)({});const Lt={};return(0,p.H)(qe).pipe((0,F.ZZ)(Qt=>function $n(re,Ee,ae,Oe){const qe=wo(Ee)??Oe,Lt=Gr(re,qe);return Jt(Lt.resolve?Lt.resolve(Ee,ae):(0,t.N4e)(qe,()=>Lt(Ee,ae)))}(re[Qt],Ee,ae,Oe).pipe((0,J.$)(),(0,X.M)(In=>{if(In instanceof Po)throw Ga(new nn,In);Lt[Qt]=In}))),Q(1),function Xe(re){return Ee=>Ee.lift(new bt(re))}(Lt),(0,$.W)(Qt=>Ve(Qt)?T.w:(0,k.$)(Qt)))}(Lt,re,Ee,Oe).pipe((0,K.T)(Qt=>(re._resolvedData=Qt,re.data=Co(re,re.parent,ae).resolve,null)))}(Tn,Oe,re,Ee):(Tn.data=Co(Tn,Tn.parent,re).resolve,(0,v.of)(void 0))),(0,X.M)(()=>In++),Q(1),(0,F.ZZ)(Tn=>In===Qt.size?(0,v.of)(ae):T.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,X.M)({next:()=>oi=!0,complete:()=>{oi||this.cancelNavigationTransition(bi,"",Sn.NoDataFromResolver)}}))}),(0,X.M)(bi=>{const oi=new Qi(bi.id,this.urlSerializer.serialize(bi.extractedUrl),this.urlSerializer.serialize(bi.urlAfterRedirects),bi.targetSnapshot);this.events.next(oi)}))}),ii(Tn=>{const bi=oi=>{const Xn=[];oi.routeConfig?.loadComponent&&!oi.routeConfig._loadedComponent&&Xn.push(this.configLoader.loadComponent(oi.routeConfig).pipe((0,X.M)(gi=>{oi.component=gi}),(0,K.T)(()=>{})));for(const gi of oi.children)Xn.push(...bi(gi));return Xn};return(0,E.zV)(bi(Tn.targetSnapshot.root)).pipe((0,le.U)(null),(0,U.s)(1))}),ii(()=>this.afterPreactivation()),(0,ne.n)(()=>{const{currentSnapshot:Tn,targetSnapshot:bi}=Lt,oi=this.createViewTransition?.(this.environmentInjector,Tn.root,bi.root);return oi?(0,p.H)(oi).pipe((0,K.T)(()=>Lt)):(0,v.of)(Lt)}),(0,K.T)(Tn=>{const bi=function or(re,Ee,ae){const Oe=Wo(re,Ee._root,ae?ae._root:void 0);return new ls(Oe,Ee)}(ae.routeReuseStrategy,Tn.targetSnapshot,Tn.currentRouterState);return this.currentTransition=Lt={...Tn,targetRouterState:bi},this.currentNavigation.targetRouterState=bi,Lt}),(0,X.M)(()=>{this.events.next(new ro)}),((re,Ee,ae,Oe)=>(0,K.T)(qe=>(new za(Ee,qe.targetRouterState,qe.currentRouterState,ae,Oe).activate(re),qe)))(this.rootContexts,ae.routeReuseStrategy,Tn=>this.events.next(Tn),this.inputBindingEnabled),(0,U.s)(1),(0,X.M)({next:Tn=>{Qt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Tn.targetRouterState.snapshot),Tn.resolve(!0)},complete:()=>{Qt=!0}}),(0,It.Q)(this.transitionAbortSubject.pipe((0,X.M)(Tn=>{throw Tn}))),(0,yt.j)(()=>{!Qt&&!In&&this.cancelNavigationTransition(Lt,"",Sn.SupersededByNewNavigation),this.currentTransition?.id===Lt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,$.W)(Tn=>{if(In=!0,Ka(Tn))this.events.next(new ci(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Tn.message,Tn.cancellationCode)),function ar(re){return Ka(re)&&yn(re.url)}(Tn)?this.events.next(new fr(Tn.url,Tn.navigationBehaviorOptions)):Lt.resolve(!1);else{const bi=new Ui(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Tn,Lt.targetSnapshot??void 0);try{const oi=(0,t.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(bi));if(oi instanceof Po){const{message:Xn,cancellationCode:gi}=Ga(0,oi);this.events.next(new ci(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Xn,gi)),this.events.next(new fr(oi.redirectTo,oi.navigationBehaviorOptions))}else{this.events.next(bi);const Xn=ae.errorHandler(Tn);Lt.resolve(!!Xn)}}catch(oi){this.options.resolveNavigationPromiseOnError?Lt.resolve(!1):Lt.reject(oi)}}return T.w}))}))}cancelNavigationTransition(ae,Oe,qe){const Lt=new ci(ae.id,this.urlSerializer.serialize(ae.extractedUrl),Oe,qe);this.events.next(Lt),ae.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const ae=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Oe=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return ae.toString()!==Oe?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();function Di(re){return re!==mt}let So=(()=>{class re{static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:()=>(0,t.WQX)(Qs),providedIn:"root"})}return re})();class Es{shouldDetach(Ee){return!1}store(Ee,ae){}shouldAttach(Ee){return!1}retrieve(Ee){return null}shouldReuseRoute(Ee,ae){return Ee.routeConfig===ae.routeConfig}}let Qs=(()=>{class re extends Es{static#e=this.\u0275fac=(()=>{let ae;return function(qe){return(ae||(ae=t.xGo(re)))(qe||re)}})();static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})(),Zn=(()=>{class re{static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:()=>(0,t.WQX)(Ss),providedIn:"root"})}return re})(),Ss=(()=>{class re extends Zn{constructor(){super(...arguments),this.location=(0,t.WQX)(V.aZ),this.urlSerializer=(0,t.WQX)(pn),this.options=(0,t.WQX)(si,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(Pl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ws(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(ae){return this.location.subscribe(Oe=>{"popstate"===Oe.type&&ae(Oe.url,Oe.state)})}handleRouterEvent(ae,Oe){if(ae instanceof Yt)this.stateMemento=this.createStateMemento();else if(ae instanceof Li)this.rawUrlTree=Oe.initialUrl;else if(ae instanceof es){if("eager"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange){const qe=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl);this.setBrowserUrl(Oe.targetBrowserUrl??qe,Oe)}}else ae instanceof ro?(this.currentUrlTree=Oe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange&&this.setBrowserUrl(Oe.targetBrowserUrl??this.rawUrlTree,Oe)):ae instanceof ci&&(ae.code===Sn.GuardRejected||ae.code===Sn.NoDataFromResolver)?this.restoreHistory(Oe):ae instanceof Ui?this.restoreHistory(Oe,!0):ae instanceof Dn&&(this.lastSuccessfulId=ae.id,this.currentPageId=this.browserPageId)}setBrowserUrl(ae,Oe){const qe=ae instanceof Pt?this.urlSerializer.serialize(ae):ae;if(this.location.isCurrentPathEqualTo(qe)||Oe.extras.replaceUrl){const Qt={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId)};this.location.replaceState(qe,"",Qt)}else{const Lt={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId+1)};this.location.go(qe,"",Lt)}}restoreHistory(ae,Oe=!1){if("computed"===this.canceledNavigationResolution){const Lt=this.currentPageId-this.browserPageId;0!==Lt?this.location.historyGo(Lt):this.currentUrlTree===ae.finalUrl&&0===Lt&&(this.resetState(ae),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Oe&&this.resetState(ae),this.resetUrlToCurrentUrlTree())}resetState(ae){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ae.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ae,Oe){return"computed"===this.canceledNavigationResolution?{navigationId:ae,\u0275routerPageId:Oe}:{navigationId:ae}}static#e=this.\u0275fac=(()=>{let ae;return function(qe){return(ae||(ae=t.xGo(re)))(qe||re)}})();static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();var ks=function(re){return re[re.COMPLETE=0]="COMPLETE",re[re.FAILED=1]="FAILED",re[re.REDIRECTING=2]="REDIRECTING",re}(ks||{});function fo(re,Ee){re.events.pipe((0,Z.p)(ae=>ae instanceof Dn||ae instanceof ci||ae instanceof Ui||ae instanceof Li),(0,K.T)(ae=>ae instanceof Dn||ae instanceof Li?ks.COMPLETE:ae instanceof ci&&(ae.code===Sn.Redirect||ae.code===Sn.SupersededByNewNavigation)?ks.REDIRECTING:ks.FAILED),(0,Z.p)(ae=>ae!==ks.REDIRECTING),(0,U.s)(1)).subscribe(()=>{Ee()})}function ga(re){throw re}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ro=(()=>{class re{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(Zn),this.options=(0,t.WQX)(si,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(Ln),this.urlSerializer=(0,t.WQX)(pn),this.location=(0,t.WQX)(V.aZ),this.urlHandlingStrategy=(0,t.WQX)(Pl),this._events=new D.B7,this.errorHandler=this.options.errorHandler||ga,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(So),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(rs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(sr,{optional:!0}),this.eventsSubscription=new f.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ae=>{this.console.warn(ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const ae=this.navigationTransitions.events.subscribe(Oe=>{try{const qe=this.navigationTransitions.currentTransition,Lt=this.navigationTransitions.currentNavigation;if(null!==qe&&null!==Lt)if(this.stateManager.handleRouterEvent(Oe,Lt),Oe instanceof ci&&Oe.code!==Sn.Redirect&&Oe.code!==Sn.SupersededByNewNavigation)this.navigated=!0;else if(Oe instanceof Dn)this.navigated=!0;else if(Oe instanceof fr){const Qt=Oe.navigationBehaviorOptions,In=this.urlHandlingStrategy.merge(Oe.url,qe.currentRawUrl),Tn={browserUrl:qe.extras.browserUrl,info:qe.extras.info,skipLocationChange:qe.extras.skipLocationChange,replaceUrl:qe.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Di(qe.source),...Qt};this.scheduleNavigation(In,mt,null,Tn,{resolve:qe.resolve,reject:qe.reject,promise:qe.promise})}(function rl(re){return!(re instanceof ro||re instanceof fr)})(Oe)&&this._events.next(Oe)}catch(qe){this.navigationTransitions.transitionAbortSubject.next(qe)}});this.eventsSubscription.add(ae)}resetRootComponentType(ae){this.routerState.root.component=ae,this.navigationTransitions.rootComponentType=ae}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((ae,Oe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(ae,"popstate",Oe)},0)})}navigateToSyncWithBrowser(ae,Oe,qe){const Lt={replaceUrl:!0},Qt=qe?.navigationId?qe:null;if(qe){const Tn={...qe};delete Tn.navigationId,delete Tn.\u0275routerPageId,0!==Object.keys(Tn).length&&(Lt.state=Tn)}const In=this.parseUrl(ae);this.scheduleNavigation(In,Oe,Qt,Lt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ae){this.config=ae.map(cs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(ae,Oe={}){const{relativeTo:qe,queryParams:Lt,fragment:Qt,queryParamsHandling:In,preserveFragment:Tn}=Oe,bi=Tn?this.currentUrlTree.fragment:Qt;let Xn,oi=null;switch(In??this.options.defaultQueryParamsHandling){case"merge":oi={...this.currentUrlTree.queryParams,...Lt};break;case"preserve":oi=this.currentUrlTree.queryParams;break;default:oi=Lt||null}null!==oi&&(oi=this.removeEmptyProps(oi));try{Xn=mi(qe?qe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ae[0]||"/"!==ae[0][0])&&(ae=[]),Xn=this.currentUrlTree.root}return Oi(Xn,ae,oi,bi??null)}navigateByUrl(ae,Oe={skipLocationChange:!1}){const qe=yn(ae)?ae:this.parseUrl(ae),Lt=this.urlHandlingStrategy.merge(qe,this.rawUrlTree);return this.scheduleNavigation(Lt,mt,null,Oe)}navigate(ae,Oe={skipLocationChange:!1}){return function Pa(re){for(let Ee=0;Ee<re.length;Ee++)if(null==re[Ee])throw new t.wOt(4008,!1)}(ae),this.navigateByUrl(this.createUrlTree(ae,Oe),Oe)}serializeUrl(ae){return this.urlSerializer.serialize(ae)}parseUrl(ae){try{return this.urlSerializer.parse(ae)}catch{return this.urlSerializer.parse("/")}}isActive(ae,Oe){let qe;if(qe=!0===Oe?{...zr}:!1===Oe?{...li}:Oe,yn(ae))return Me(this.currentUrlTree,ae,qe);const Lt=this.parseUrl(ae);return Me(this.currentUrlTree,Lt,qe)}removeEmptyProps(ae){return Object.entries(ae).reduce((Oe,[qe,Lt])=>(null!=Lt&&(Oe[qe]=Lt),Oe),{})}scheduleNavigation(ae,Oe,qe,Lt,Qt){if(this.disposed)return Promise.resolve(!1);let In,Tn,bi;Qt?(In=Qt.resolve,Tn=Qt.reject,bi=Qt.promise):bi=new Promise((Xn,gi)=>{In=Xn,Tn=gi});const oi=this.pendingTasks.add();return fo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(oi))}),this.navigationTransitions.handleNavigationRequest({source:Oe,restoredState:qe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ae,extras:Lt,resolve:In,reject:Tn,promise:bi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bi.catch(Xn=>Promise.reject(Xn))}static#e=this.\u0275fac=function(Oe){return new(Oe||re)};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})(),oa=(()=>{class re{constructor(ae,Oe,qe,Lt,Qt,In){this.router=ae,this.route=Oe,this.tabIndexAttribute=qe,this.renderer=Lt,this.el=Qt,this.locationStrategy=In,this.href=null,this.onChanges=new D.B7,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Tn=Qt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tn||"area"===Tn,this.isAnchorElement?this.subscription=ae.events.subscribe(bi=>{bi instanceof Dn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ae){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ae)}ngOnChanges(ae){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ae){null==ae?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=yn(ae)||Array.isArray(ae)?ae:[ae],this.setTabIndexIfNotOnNativeEl("0"))}onClick(ae,Oe,qe,Lt,Qt){const In=this.urlTree;return!!(null===In||this.isAnchorElement&&(0!==ae||Oe||qe||Lt||Qt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(In,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ae=this.urlTree;this.href=null!==ae&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ae)):null;const Oe=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Oe)}applyAttributeValue(ae,Oe){const qe=this.renderer,Lt=this.el.nativeElement;null!==Oe?qe.setAttribute(Lt,ae,Oe):qe.removeAttribute(Lt,ae)}get urlTree(){return null===this.routerLinkInput?null:yn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Oe){return new(Oe||re)(t.rXU(Ro),t.rXU(Xs),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(V.hb))};static#t=this.\u0275dir=t.FsC({type:re,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Oe,qe){1&Oe&&t.bIt("click",function(Qt){return qe.onClick(Qt.button,Qt.ctrlKey,Qt.shiftKey,Qt.altKey,Qt.metaKey)}),2&Oe&&t.BMQ("target",qe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[2,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}return re})();class La{}let zc=(()=>{class re{constructor(ae,Oe,qe,Lt,Qt){this.router=ae,this.injector=qe,this.preloadingStrategy=Lt,this.loader=Qt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Z.p)(ae=>ae instanceof Dn),(0,z.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ae,Oe){const qe=[];for(const Lt of Oe){Lt.providers&&!Lt._injector&&(Lt._injector=(0,t.Ol2)(Lt.providers,ae,`Route: ${Lt.path}`));const Qt=Lt._injector??ae,In=Lt._loadedInjector??Qt;(Lt.loadChildren&&!Lt._loadedRoutes&&void 0===Lt.canLoad||Lt.loadComponent&&!Lt._loadedComponent)&&qe.push(this.preloadConfig(Qt,Lt)),(Lt.children||Lt._loadedRoutes)&&qe.push(this.processRoutes(In,Lt.children??Lt._loadedRoutes))}return(0,p.H)(qe).pipe((0,Ae.U)())}preloadConfig(ae,Oe){return this.preloadingStrategy.preload(Oe,()=>{let qe;qe=Oe.loadChildren&&void 0===Oe.canLoad?this.loader.loadChildren(ae,Oe):(0,v.of)(null);const Lt=qe.pipe((0,F.ZZ)(Qt=>null===Qt?(0,v.of)(void 0):(Oe._loadedRoutes=Qt.routes,Oe._loadedInjector=Qt.injector,this.processRoutes(Qt.injector??ae,Qt.routes))));if(Oe.loadComponent&&!Oe._loadedComponent){const Qt=this.loader.loadComponent(Oe);return(0,p.H)([Lt,Qt]).pipe((0,Ae.U)())}return Lt})}static#e=this.\u0275fac=function(Oe){return new(Oe||re)(t.KVO(Ro),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(La),t.KVO(ao))};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const Qa=new t.nKC("");let gl=(()=>{class re{constructor(ae,Oe,qe,Lt,Qt={}){this.urlSerializer=ae,this.transitions=Oe,this.viewportScroller=qe,this.zone=Lt,this.options=Qt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Qt.scrollPositionRestoration||="disabled",Qt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ae=>{ae instanceof Yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ae.navigationTrigger,this.restoredId=ae.restoredState?ae.restoredState.navigationId:0):ae instanceof Dn?(this.lastId=ae.id,this.scheduleScrollEvent(ae,this.urlSerializer.parse(ae.urlAfterRedirects).fragment)):ae instanceof Li&&ae.code===Jn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ae,this.urlSerializer.parse(ae.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ae=>{ae instanceof ir&&(ae.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ae.position):ae.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ae.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ae,Oe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ir(ae,"popstate"===this.lastSource?this.store[this.restoredId]:null,Oe))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Oe){t.QTQ()};static#t=this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac})}return re})();function bo(re,Ee){return{\u0275kind:re,\u0275providers:Ee}}function lr(){const re=(0,t.WQX)(t.zZn);return Ee=>{const ae=re.get(t.o8S);if(Ee!==ae.components[0])return;const Oe=re.get(Ro),qe=re.get(Da);1===re.get(Ia)&&Oe.initialNavigation(),re.get(Ju,null,t.$GK.Optional)?.setUpPreloading(),re.get(Qa,null,t.$GK.Optional)?.init(),Oe.resetRootComponentType(ae.componentTypes[0]),qe.closed||(qe.next(),qe.complete(),qe.unsubscribe())}}const Da=new t.nKC("",{factory:()=>new D.B7}),Ia=new t.nKC("",{providedIn:"root",factory:()=>1}),Ju=new t.nKC("");function Zu(re){return bo(0,[{provide:Ju,useExisting:zc},{provide:La,useExisting:re}])}function Tc(re){return bo(9,[{provide:vt,useValue:st},{provide:ke,useValue:{skipNextTransition:!!re?.skipInitialTransition,...re}}])}const Wr=new t.nKC("ROUTER_FORROOT_GUARD"),sc=[V.aZ,{provide:pn,useClass:nn},Ro,Bt,{provide:Xs,useFactory:function op(re){return re.routerState.root},deps:[Ro]},ao,[]];let Xr=(()=>{class re{constructor(ae){}static forRoot(ae,Oe){return{ngModule:re,providers:[sc,[],{provide:rs,multi:!0,useValue:ae},{provide:Wr,useFactory:rp,deps:[[Ro,new t.Xx1,new t.kdw]]},{provide:si,useValue:Oe||{}},Oe?.useHash?{provide:V.hb,useClass:V.fw}:{provide:V.hb,useClass:V.Sm},{provide:Qa,useFactory:()=>{const re=(0,t.WQX)(V.Xr),Ee=(0,t.WQX)(t.SKi),ae=(0,t.WQX)(si),Oe=(0,t.WQX)(Ln),qe=(0,t.WQX)(pn);return ae.scrollOffset&&re.setOffset(ae.scrollOffset),new gl(qe,Oe,re,Ee,ae)}},Oe?.preloadingStrategy?Zu(Oe.preloadingStrategy).\u0275providers:[],Oe?.initialNavigation?oc(Oe):[],Oe?.bindToComponentInputs?bo(8,[Va,{provide:sr,useExisting:Va}]).\u0275providers:[],Oe?.enableViewTransitions?Tc().\u0275providers:[],[{provide:mr,useFactory:lr},{provide:t.iLQ,multi:!0,useExisting:mr}]]}}static forChild(ae){return{ngModule:re,providers:[{provide:rs,multi:!0,useValue:ae}]}}static#e=this.\u0275fac=function(Oe){return new(Oe||re)(t.KVO(Wr,8))};static#t=this.\u0275mod=t.$C({type:re});static#n=this.\u0275inj=t.G2t({})}return re})();function rp(re){return"guarded"}function oc(re){return["disabled"===re.initialNavigation?bo(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const Ee=(0,t.WQX)(Ro);return()=>{Ee.setUpLocationChangeListener()}}},{provide:Ia,useValue:2}]).\u0275providers:[],"enabledBlocking"===re.initialNavigation?bo(2,[{provide:Ia,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:Ee=>{const ae=Ee.get(V.hj,Promise.resolve());return()=>ae.then(()=>new Promise(Oe=>{const qe=Ee.get(Ro),Lt=Ee.get(Da);fo(qe,()=>{Oe(!0)}),Ee.get(Ln).afterPreactivation=()=>(Oe(!0),Lt.closed?(0,v.of)(void 0):Lt),qe.initialNavigation()}))}}]).\u0275providers:[]]}const mr=new t.nKC("")},1780:(jt,Se,l)=>{"use strict";l.d(Se,{D9:()=>le,Wr:()=>T,c$:()=>oe,h:()=>ve});var t=l(3953),n=l(4421),p=l(8982),v=l(696),b=l(1639),E=l(9418),M=l(9493),S=l(8712),u=l(5006),I=l(3574),k=l(9090);class T{}let w=(()=>{class Q extends T{getTranslation(L){return(0,n.of)({})}}return Q.\u0275fac=(()=>{let R;return function(H){return(R||(R=t.xGo(Q)))(H||Q)}})(),Q.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac}),Q})();class D{}let f=(()=>{class Q{handle(L){return L.key}}return Q.\u0275fac=function(L){return new(L||Q)},Q.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac}),Q})();function V(Q,R){if(Q===R)return!0;if(null===Q||null===R)return!1;if(Q!=Q&&R!=R)return!0;let fe,Ie,Xe,L=typeof Q;if(L==typeof R&&"object"==L){if(!Array.isArray(Q)){if(Array.isArray(R))return!1;for(Ie in Xe=Object.create(null),Q){if(!V(Q[Ie],R[Ie]))return!1;Xe[Ie]=!0}for(Ie in R)if(!(Ie in Xe)&&typeof R[Ie]<"u")return!1;return!0}if(!Array.isArray(R))return!1;if((fe=Q.length)==R.length){for(Ie=0;Ie<fe;Ie++)if(!V(Q[Ie],R[Ie]))return!1;return!0}}return!1}function K(Q){return typeof Q<"u"&&null!==Q}function ne(Q){return Q&&"object"==typeof Q&&!Array.isArray(Q)}function U(Q,R){let L=Object.assign({},Q);return ne(Q)&&ne(R)&&Object.keys(R).forEach(H=>{ne(R[H])?H in Q?L[H]=U(Q[H],R[H]):Object.assign(L,{[H]:R[H]}):Object.assign(L,{[H]:R[H]})}),L}class c{}let Z=(()=>{class Q extends c{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(L,H){let fe;return fe="string"==typeof L?this.interpolateString(L,H):"function"==typeof L?this.interpolateFunction(L,H):L,fe}getValue(L,H){let fe="string"==typeof H?H.split("."):[H];H="";do{H+=fe.shift(),!K(L)||!K(L[H])||"object"!=typeof L[H]&&fe.length?fe.length?H+=".":L=void 0:(L=L[H],H="")}while(fe.length);return L}interpolateFunction(L,H){return L(H)}interpolateString(L,H){return H?L.replace(this.templateMatcher,(fe,Ie)=>{let Xe=this.getValue(H,Ie);return K(Xe)?Xe:fe}):L}}return Q.\u0275fac=(()=>{let R;return function(H){return(R||(R=t.xGo(Q)))(H||Q)}})(),Q.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac}),Q})();class F{}let J=(()=>{class Q extends F{compile(L,H){return L}compileTranslations(L,H){return L}}return Q.\u0275fac=(()=>{let R;return function(H){return(R||(R=t.xGo(Q)))(H||Q)}})(),Q.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac}),Q})();class z{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.bkB,this.onLangChange=new t.bkB,this.onDefaultLangChange=new t.bkB}}const X=new t.nKC("USE_STORE"),$=new t.nKC("USE_DEFAULT_LANG"),te=new t.nKC("DEFAULT_LANGUAGE"),G=new t.nKC("USE_EXTEND");let oe=(()=>{class Q{constructor(L,H,fe,Ie,Xe,bt=!0,rt=!1,yt=!1,ot){this.store=L,this.currentLoader=H,this.compiler=fe,this.parser=Ie,this.missingTranslationHandler=Xe,this.useDefaultLang=bt,this.isolate=rt,this.extend=yt,this.pending=!1,this._onTranslationChange=new t.bkB,this._onLangChange=new t.bkB,this._onDefaultLangChange=new t.bkB,this._langs=[],this._translations={},this._translationRequests={},ot&&this.setDefaultLang(ot)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(L){this.isolate?this._defaultLang=L:this.store.defaultLang=L}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(L){this.isolate?this._currentLang=L:this.store.currentLang=L}get langs(){return this.isolate?this._langs:this.store.langs}set langs(L){this.isolate?this._langs=L:this.store.langs=L}get translations(){return this.isolate?this._translations:this.store.translations}set translations(L){this.isolate?this._translations=L:this.store.translations=L}setDefaultLang(L){if(L===this.defaultLang)return;let H=this.retrieveTranslations(L);typeof H<"u"?(null==this.defaultLang&&(this.defaultLang=L),H.pipe((0,M.s)(1)).subscribe(fe=>{this.changeDefaultLang(L)})):this.changeDefaultLang(L)}getDefaultLang(){return this.defaultLang}use(L){if(L===this.currentLang)return(0,n.of)(this.translations[L]);let H=this.retrieveTranslations(L);return typeof H<"u"?(this.currentLang||(this.currentLang=L),H.pipe((0,M.s)(1)).subscribe(fe=>{this.changeLang(L)}),H):(this.changeLang(L),(0,n.of)(this.translations[L]))}retrieveTranslations(L){let H;return(typeof this.translations[L]>"u"||this.extend)&&(this._translationRequests[L]=this._translationRequests[L]||this.getTranslation(L),H=this._translationRequests[L]),H}getTranslation(L){this.pending=!0;const H=this.currentLoader.getTranslation(L).pipe((0,S.t)(1),(0,M.s)(1));return this.loadingTranslations=H.pipe((0,u.T)(fe=>this.compiler.compileTranslations(fe,L)),(0,S.t)(1),(0,M.s)(1)),this.loadingTranslations.subscribe({next:fe=>{this.translations[L]=this.extend&&this.translations[L]?{...fe,...this.translations[L]}:fe,this.updateLangs(),this.pending=!1},error:fe=>{this.pending=!1}}),H}setTranslation(L,H,fe=!1){H=this.compiler.compileTranslations(H,L),this.translations[L]=(fe||this.extend)&&this.translations[L]?U(this.translations[L],H):H,this.updateLangs(),this.onTranslationChange.emit({lang:L,translations:this.translations[L]})}getLangs(){return this.langs}addLangs(L){L.forEach(H=>{-1===this.langs.indexOf(H)&&this.langs.push(H)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(L,H,fe){let Ie;if(H instanceof Array){let Xe={},bt=!1;for(let rt of H)Xe[rt]=this.getParsedResult(L,rt,fe),(0,p.A)(Xe[rt])&&(bt=!0);if(bt){const rt=H.map(yt=>(0,p.A)(Xe[yt])?Xe[yt]:(0,n.of)(Xe[yt]));return(0,v.p)(rt).pipe((0,u.T)(yt=>{let ot={};return yt.forEach((It,Ae)=>{ot[H[Ae]]=It}),ot}))}return Xe}if(L&&(Ie=this.parser.interpolate(this.parser.getValue(L,H),fe)),typeof Ie>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ie=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],H),fe)),typeof Ie>"u"){let Xe={key:H,translateService:this};typeof fe<"u"&&(Xe.interpolateParams=fe),Ie=this.missingTranslationHandler.handle(Xe)}return typeof Ie<"u"?Ie:H}get(L,H){if(!K(L)||!L.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,I.H)(fe=>(fe=this.getParsedResult(fe,L,H),(0,p.A)(fe)?fe:(0,n.of)(fe))));{let fe=this.getParsedResult(this.translations[this.currentLang],L,H);return(0,p.A)(fe)?fe:(0,n.of)(fe)}}getStreamOnTranslationChange(L,H){if(!K(L)||!L.length)throw new Error('Parameter "key" required');return(0,b.x)((0,E.v)(()=>this.get(L,H)),this.onTranslationChange.pipe((0,k.n)(fe=>{const Ie=this.getParsedResult(fe.translations,L,H);return"function"==typeof Ie.subscribe?Ie:(0,n.of)(Ie)})))}stream(L,H){if(!K(L)||!L.length)throw new Error('Parameter "key" required');return(0,b.x)((0,E.v)(()=>this.get(L,H)),this.onLangChange.pipe((0,k.n)(fe=>{const Ie=this.getParsedResult(fe.translations,L,H);return(0,p.A)(Ie)?Ie:(0,n.of)(Ie)})))}instant(L,H){if(!K(L)||!L.length)throw new Error('Parameter "key" required');let fe=this.getParsedResult(this.translations[this.currentLang],L,H);if((0,p.A)(fe)){if(L instanceof Array){let Ie={};return L.forEach((Xe,bt)=>{Ie[L[bt]]=L[bt]}),Ie}return L}return fe}set(L,H,fe=this.currentLang){this.translations[fe][L]=this.compiler.compile(H,fe),this.updateLangs(),this.onTranslationChange.emit({lang:fe,translations:this.translations[fe]})}changeLang(L){this.currentLang=L,this.onLangChange.emit({lang:L,translations:this.translations[L]}),null==this.defaultLang&&this.changeDefaultLang(L)}changeDefaultLang(L){this.defaultLang=L,this.onDefaultLangChange.emit({lang:L,translations:this.translations[L]})}reloadLang(L){return this.resetLang(L),this.getTranslation(L)}resetLang(L){this._translationRequests[L]=void 0,this.translations[L]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let L=window.navigator.languages?window.navigator.languages[0]:null;return L=L||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof L>"u"?void 0:(-1!==L.indexOf("-")&&(L=L.split("-")[0]),-1!==L.indexOf("_")&&(L=L.split("_")[0]),L)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let L=window.navigator.languages?window.navigator.languages[0]:null;return L=L||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,L}}return Q.\u0275fac=function(L){return new(L||Q)(t.KVO(z),t.KVO(T),t.KVO(F),t.KVO(c),t.KVO(D),t.KVO($),t.KVO(X),t.KVO(G),t.KVO(te))},Q.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac}),Q})(),le=(()=>{class Q{constructor(L,H){this.translate=L,this._ref=H,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(L,H,fe){let Ie=Xe=>{this.value=void 0!==Xe?Xe:L,this.lastKey=L,this._ref.markForCheck()};if(fe){let Xe=this.translate.getParsedResult(fe,L,H);(0,p.A)(Xe.subscribe)?Xe.subscribe(Ie):Ie(Xe)}this.translate.get(L,H).subscribe(Ie)}transform(L,...H){if(!L||!L.length)return L;if(V(L,this.lastKey)&&V(H,this.lastParams))return this.value;let fe;if(K(H[0])&&H.length)if("string"==typeof H[0]&&H[0].length){let Ie=H[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{fe=JSON.parse(Ie)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${H[0]}`)}}else"object"==typeof H[0]&&!Array.isArray(H[0])&&(fe=H[0]);return this.lastKey=L,this.lastParams=H,this.updateValue(L,fe),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ie=>{this.lastKey&&Ie.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(L,fe,Ie.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ie=>{this.lastKey&&(this.lastKey=null,this.updateValue(L,fe,Ie.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(L,fe))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Q.\u0275fac=function(L){return new(L||Q)(t.rXU(oe,16),t.rXU(t.gRc,16))},Q.\u0275pipe=t.EJ8({name:"translate",type:Q,pure:!1}),Q.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac}),Q})(),ve=(()=>{class Q{static forRoot(L={}){return{ngModule:Q,providers:[L.loader||{provide:T,useClass:w},L.compiler||{provide:F,useClass:J},L.parser||{provide:c,useClass:Z},L.missingTranslationHandler||{provide:D,useClass:f},z,{provide:X,useValue:L.isolate},{provide:$,useValue:L.useDefaultLang},{provide:G,useValue:L.extend},{provide:te,useValue:L.defaultLanguage},oe]}}static forChild(L={}){return{ngModule:Q,providers:[L.loader||{provide:T,useClass:w},L.compiler||{provide:F,useClass:J},L.parser||{provide:c,useClass:Z},L.missingTranslationHandler||{provide:D,useClass:f},{provide:X,useValue:L.isolate},{provide:$,useValue:L.useDefaultLang},{provide:G,useValue:L.extend},{provide:te,useValue:L.defaultLanguage},oe]}}}return Q.\u0275fac=function(L){return new(L||Q)},Q.\u0275mod=t.$C({type:Q}),Q.\u0275inj=t.G2t({}),Q})()},1666:(jt,Se,l)=>{"use strict";l.d(Se,{q:()=>n});let t={};function n(){return t}},8488:(jt,Se,l)=>{"use strict";l.d(Se,{m:()=>v});const t=(b,E)=>{switch(b){case"P":return E.date({width:"short"});case"PP":return E.date({width:"medium"});case"PPP":return E.date({width:"long"});default:return E.date({width:"full"})}},n=(b,E)=>{switch(b){case"p":return E.time({width:"short"});case"pp":return E.time({width:"medium"});case"ppp":return E.time({width:"long"});default:return E.time({width:"full"})}},v={p:n,P:(b,E)=>{const M=b.match(/(P+)(p+)?/)||[],S=M[1],u=M[2];if(!u)return t(b,E);let I;switch(S){case"P":I=E.dateTime({width:"short"});break;case"PP":I=E.dateTime({width:"medium"});break;case"PPP":I=E.dateTime({width:"long"});break;default:I=E.dateTime({width:"full"})}return I.replace("{{date}}",t(S,E)).replace("{{time}}",n(u,E))}}},6708:(jt,Se,l)=>{"use strict";function t(n){return p=>{const b=(n?Math[n]:Math.trunc)(p);return 0===b?0:b}}l.d(Se,{u:()=>t})},5872:(jt,Se,l)=>{"use strict";l.d(Se,{G:()=>n});var t=l(4273);function n(p){const v=(0,t.a)(p),b=new Date(Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds()));return b.setUTCFullYear(v.getFullYear()),+p-+b}},7195:(jt,Se,l)=>{"use strict";l.d(Se,{Ss:()=>E,ef:()=>v,xM:()=>b});const t=/^D+$/,n=/^Y+$/,p=["D","DD","YY","YYYY"];function v(S){return t.test(S)}function b(S){return n.test(S)}function E(S,u,I){const k=function M(S,u,I){const k="Y"===S[0]?"years":"days of the month";return`Use \`${S.toLowerCase()}\` instead of \`${S}\` (in \`${u}\`) for formatting ${k} to the input \`${I}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(S,u,I);if(console.warn(k),p.includes(S))throw new RangeError(k)}},9015:(jt,Se,l)=>{"use strict";l.d(Se,{W:()=>b});var t=l(906),n=l(5458),p=l(7729),v=l(4273);function b(M,S){const{years:u=0,months:I=0,weeks:k=0,days:T=0,hours:w=0,minutes:D=0,seconds:f=0}=S,V=(0,v.a)(M),K=I||u?(0,n.P)(V,I+12*u):V,ne=T||k?(0,t.f)(K,T+7*k):K,Z=1e3*(f+60*(D+60*w));return(0,p.w)(M,ne.getTime()+Z)}},906:(jt,Se,l)=>{"use strict";l.d(Se,{f:()=>p});var t=l(4273),n=l(7729);function p(b,E){const M=(0,t.a)(b);return isNaN(E)?(0,n.w)(b,NaN):(E&&M.setDate(M.getDate()+E),M)}},3368:(jt,Se,l)=>{"use strict";l.d(Se,{L:()=>p});var t=l(1113),n=l(9857);function p(b,E){return(0,t.A)(b,E*n.s0)}},1113:(jt,Se,l)=>{"use strict";l.d(Se,{A:()=>p});var t=l(4273),n=l(7729);function p(b,E){const M=+(0,t.a)(b);return(0,n.w)(b,M+E)}},7926:(jt,Se,l)=>{"use strict";l.d(Se,{z:()=>p});var t=l(1113),n=l(9857);function p(b,E){return(0,t.A)(b,E*n.Cg)}},5458:(jt,Se,l)=>{"use strict";l.d(Se,{P:()=>p});var t=l(4273),n=l(7729);function p(b,E){const M=(0,t.a)(b);if(isNaN(E))return(0,n.w)(b,NaN);if(!E)return M;const S=M.getDate(),u=(0,n.w)(b,M.getTime());return u.setMonth(M.getMonth()+E+1,0),S>=u.getDate()?u:(M.setFullYear(u.getFullYear(),u.getMonth(),S),M)}},6299:(jt,Se,l)=>{"use strict";l.d(Se,{e:()=>n});var t=l(5458);function n(v,b){return(0,t.P)(v,12*b)}},9857:(jt,Se,l)=>{"use strict";l.d(Se,{Cg:()=>M,F6:()=>T,Nw:()=>k,_m:()=>u,my:()=>b,s0:()=>S,w4:()=>E}),Math.pow(10,8);const b=6048e5,E=864e5,M=6e4,S=36e5,u=1e3,k=43200,T=1440},7729:(jt,Se,l)=>{"use strict";function t(p,v){return p instanceof Date?new p.constructor(v):new Date(v)}l.d(Se,{w:()=>t})},129:(jt,Se,l)=>{"use strict";l.d(Se,{m:()=>v});var t=l(9857),n=l(3601),p=l(5872);function v(E,M){const S=(0,n.o)(E),u=(0,n.o)(M),I=+S-(0,p.G)(S),k=+u-(0,p.G)(u);return Math.round((I-k)/t.w4)}},4812:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>n});var t=l(4273);function n(v,b){return+(0,t.a)(v)-+(0,t.a)(b)}},2037:(jt,Se,l)=>{"use strict";l.d(Se,{o:()=>v});var t=l(6708),n=l(9857),p=l(4812);function v(E,M,S){const u=(0,p.b)(E,M)/n.Cg;return(0,t.u)(S?.roundingMethod)(u)}},4512:(jt,Se,l)=>{"use strict";l.d(Se,{D:()=>n});var t=l(4273);function n(v){const b=(0,t.a)(v);return b.setHours(23,59,59,999),b}},350:(jt,Se,l)=>{"use strict";l.d(Se,{V:()=>n});var t=l(4273);function n(v){const b=(0,t.a)(v);return b.setSeconds(59,999),b}},4903:(jt,Se,l)=>{"use strict";l.d(Se,{GP:()=>ve});var t=l(3501),n=l(1666),p=l(129),v=l(4273),b=l(7729);var I=l(6453),k=l(910),T=l(7012),w=l(6045);function D(L,H){return(L<0?"-":"")+Math.abs(L).toString().padStart(H,"0")}const f={y(L,H){const fe=L.getFullYear(),Ie=fe>0?fe:1-fe;return D("yy"===H?Ie%100:Ie,H.length)},M(L,H){const fe=L.getMonth();return"M"===H?String(fe+1):D(fe+1,2)},d:(L,H)=>D(L.getDate(),H.length),a(L,H){const fe=L.getHours()/12>=1?"pm":"am";switch(H){case"a":case"aa":return fe.toUpperCase();case"aaa":return fe;case"aaaaa":return fe[0];default:return"am"===fe?"a.m.":"p.m."}},h:(L,H)=>D(L.getHours()%12||12,H.length),H:(L,H)=>D(L.getHours(),H.length),m:(L,H)=>D(L.getMinutes(),H.length),s:(L,H)=>D(L.getSeconds(),H.length),S(L,H){const fe=H.length,Ie=L.getMilliseconds();return D(Math.trunc(Ie*Math.pow(10,fe-3)),H.length)}},K={G:function(L,H,fe){const Ie=L.getFullYear()>0?1:0;switch(H){case"G":case"GG":case"GGG":return fe.era(Ie,{width:"abbreviated"});case"GGGGG":return fe.era(Ie,{width:"narrow"});default:return fe.era(Ie,{width:"wide"})}},y:function(L,H,fe){if("yo"===H){const Ie=L.getFullYear();return fe.ordinalNumber(Ie>0?Ie:1-Ie,{unit:"year"})}return f.y(L,H)},Y:function(L,H,fe,Ie){const Xe=(0,w.h)(L,Ie),bt=Xe>0?Xe:1-Xe;return"YY"===H?D(bt%100,2):"Yo"===H?fe.ordinalNumber(bt,{unit:"year"}):D(bt,H.length)},R:function(L,H){return D((0,k.p)(L),H.length)},u:function(L,H){return D(L.getFullYear(),H.length)},Q:function(L,H,fe){const Ie=Math.ceil((L.getMonth()+1)/3);switch(H){case"Q":return String(Ie);case"QQ":return D(Ie,2);case"Qo":return fe.ordinalNumber(Ie,{unit:"quarter"});case"QQQ":return fe.quarter(Ie,{width:"abbreviated",context:"formatting"});case"QQQQQ":return fe.quarter(Ie,{width:"narrow",context:"formatting"});default:return fe.quarter(Ie,{width:"wide",context:"formatting"})}},q:function(L,H,fe){const Ie=Math.ceil((L.getMonth()+1)/3);switch(H){case"q":return String(Ie);case"qq":return D(Ie,2);case"qo":return fe.ordinalNumber(Ie,{unit:"quarter"});case"qqq":return fe.quarter(Ie,{width:"abbreviated",context:"standalone"});case"qqqqq":return fe.quarter(Ie,{width:"narrow",context:"standalone"});default:return fe.quarter(Ie,{width:"wide",context:"standalone"})}},M:function(L,H,fe){const Ie=L.getMonth();switch(H){case"M":case"MM":return f.M(L,H);case"Mo":return fe.ordinalNumber(Ie+1,{unit:"month"});case"MMM":return fe.month(Ie,{width:"abbreviated",context:"formatting"});case"MMMMM":return fe.month(Ie,{width:"narrow",context:"formatting"});default:return fe.month(Ie,{width:"wide",context:"formatting"})}},L:function(L,H,fe){const Ie=L.getMonth();switch(H){case"L":return String(Ie+1);case"LL":return D(Ie+1,2);case"Lo":return fe.ordinalNumber(Ie+1,{unit:"month"});case"LLL":return fe.month(Ie,{width:"abbreviated",context:"standalone"});case"LLLLL":return fe.month(Ie,{width:"narrow",context:"standalone"});default:return fe.month(Ie,{width:"wide",context:"standalone"})}},w:function(L,H,fe,Ie){const Xe=(0,T.N)(L,Ie);return"wo"===H?fe.ordinalNumber(Xe,{unit:"week"}):D(Xe,H.length)},I:function(L,H,fe){const Ie=(0,I.s)(L);return"Io"===H?fe.ordinalNumber(Ie,{unit:"week"}):D(Ie,H.length)},d:function(L,H,fe){return"do"===H?fe.ordinalNumber(L.getDate(),{unit:"date"}):f.d(L,H)},D:function(L,H,fe){const Ie=function S(L){const H=(0,v.a)(L);return(0,p.m)(H,function E(L){const H=(0,v.a)(L),fe=(0,b.w)(L,0);return fe.setFullYear(H.getFullYear(),0,1),fe.setHours(0,0,0,0),fe}(H))+1}(L);return"Do"===H?fe.ordinalNumber(Ie,{unit:"dayOfYear"}):D(Ie,H.length)},E:function(L,H,fe){const Ie=L.getDay();switch(H){case"E":case"EE":case"EEE":return fe.day(Ie,{width:"abbreviated",context:"formatting"});case"EEEEE":return fe.day(Ie,{width:"narrow",context:"formatting"});case"EEEEEE":return fe.day(Ie,{width:"short",context:"formatting"});default:return fe.day(Ie,{width:"wide",context:"formatting"})}},e:function(L,H,fe,Ie){const Xe=L.getDay(),bt=(Xe-Ie.weekStartsOn+8)%7||7;switch(H){case"e":return String(bt);case"ee":return D(bt,2);case"eo":return fe.ordinalNumber(bt,{unit:"day"});case"eee":return fe.day(Xe,{width:"abbreviated",context:"formatting"});case"eeeee":return fe.day(Xe,{width:"narrow",context:"formatting"});case"eeeeee":return fe.day(Xe,{width:"short",context:"formatting"});default:return fe.day(Xe,{width:"wide",context:"formatting"})}},c:function(L,H,fe,Ie){const Xe=L.getDay(),bt=(Xe-Ie.weekStartsOn+8)%7||7;switch(H){case"c":return String(bt);case"cc":return D(bt,H.length);case"co":return fe.ordinalNumber(bt,{unit:"day"});case"ccc":return fe.day(Xe,{width:"abbreviated",context:"standalone"});case"ccccc":return fe.day(Xe,{width:"narrow",context:"standalone"});case"cccccc":return fe.day(Xe,{width:"short",context:"standalone"});default:return fe.day(Xe,{width:"wide",context:"standalone"})}},i:function(L,H,fe){const Ie=L.getDay(),Xe=0===Ie?7:Ie;switch(H){case"i":return String(Xe);case"ii":return D(Xe,H.length);case"io":return fe.ordinalNumber(Xe,{unit:"day"});case"iii":return fe.day(Ie,{width:"abbreviated",context:"formatting"});case"iiiii":return fe.day(Ie,{width:"narrow",context:"formatting"});case"iiiiii":return fe.day(Ie,{width:"short",context:"formatting"});default:return fe.day(Ie,{width:"wide",context:"formatting"})}},a:function(L,H,fe){const Xe=L.getHours()/12>=1?"pm":"am";switch(H){case"a":case"aa":return fe.dayPeriod(Xe,{width:"abbreviated",context:"formatting"});case"aaa":return fe.dayPeriod(Xe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return fe.dayPeriod(Xe,{width:"narrow",context:"formatting"});default:return fe.dayPeriod(Xe,{width:"wide",context:"formatting"})}},b:function(L,H,fe){const Ie=L.getHours();let Xe;switch(Xe=12===Ie?"noon":0===Ie?"midnight":Ie/12>=1?"pm":"am",H){case"b":case"bb":return fe.dayPeriod(Xe,{width:"abbreviated",context:"formatting"});case"bbb":return fe.dayPeriod(Xe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return fe.dayPeriod(Xe,{width:"narrow",context:"formatting"});default:return fe.dayPeriod(Xe,{width:"wide",context:"formatting"})}},B:function(L,H,fe){const Ie=L.getHours();let Xe;switch(Xe=Ie>=17?"evening":Ie>=12?"afternoon":Ie>=4?"morning":"night",H){case"B":case"BB":case"BBB":return fe.dayPeriod(Xe,{width:"abbreviated",context:"formatting"});case"BBBBB":return fe.dayPeriod(Xe,{width:"narrow",context:"formatting"});default:return fe.dayPeriod(Xe,{width:"wide",context:"formatting"})}},h:function(L,H,fe){if("ho"===H){let Ie=L.getHours()%12;return 0===Ie&&(Ie=12),fe.ordinalNumber(Ie,{unit:"hour"})}return f.h(L,H)},H:function(L,H,fe){return"Ho"===H?fe.ordinalNumber(L.getHours(),{unit:"hour"}):f.H(L,H)},K:function(L,H,fe){const Ie=L.getHours()%12;return"Ko"===H?fe.ordinalNumber(Ie,{unit:"hour"}):D(Ie,H.length)},k:function(L,H,fe){let Ie=L.getHours();return 0===Ie&&(Ie=24),"ko"===H?fe.ordinalNumber(Ie,{unit:"hour"}):D(Ie,H.length)},m:function(L,H,fe){return"mo"===H?fe.ordinalNumber(L.getMinutes(),{unit:"minute"}):f.m(L,H)},s:function(L,H,fe){return"so"===H?fe.ordinalNumber(L.getSeconds(),{unit:"second"}):f.s(L,H)},S:function(L,H){return f.S(L,H)},X:function(L,H,fe){const Ie=L.getTimezoneOffset();if(0===Ie)return"Z";switch(H){case"X":return U(Ie);case"XXXX":case"XX":return c(Ie);default:return c(Ie,":")}},x:function(L,H,fe){const Ie=L.getTimezoneOffset();switch(H){case"x":return U(Ie);case"xxxx":case"xx":return c(Ie);default:return c(Ie,":")}},O:function(L,H,fe){const Ie=L.getTimezoneOffset();switch(H){case"O":case"OO":case"OOO":return"GMT"+ne(Ie,":");default:return"GMT"+c(Ie,":")}},z:function(L,H,fe){const Ie=L.getTimezoneOffset();switch(H){case"z":case"zz":case"zzz":return"GMT"+ne(Ie,":");default:return"GMT"+c(Ie,":")}},t:function(L,H,fe){return D(Math.trunc(L.getTime()/1e3),H.length)},T:function(L,H,fe){return D(L.getTime(),H.length)}};function ne(L,H=""){const fe=L>0?"-":"+",Ie=Math.abs(L),Xe=Math.trunc(Ie/60),bt=Ie%60;return 0===bt?fe+String(Xe):fe+String(Xe)+H+D(bt,2)}function U(L,H){return L%60==0?(L>0?"-":"+")+D(Math.abs(L)/60,2):c(L,H)}function c(L,H=""){const fe=L>0?"-":"+",Ie=Math.abs(L);return fe+D(Math.trunc(Ie/60),2)+H+D(Ie%60,2)}var Z=l(8488),F=l(7195);const te=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oe=/^'([^]*?)'?$/,ce=/''/g,le=/[a-zA-Z]/;function ve(L,H,fe){const Ie=(0,n.q)(),Xe=fe?.locale??Ie.locale??t.c,bt=fe?.firstWeekContainsDate??fe?.locale?.options?.firstWeekContainsDate??Ie.firstWeekContainsDate??Ie.locale?.options?.firstWeekContainsDate??1,rt=fe?.weekStartsOn??fe?.locale?.options?.weekStartsOn??Ie.weekStartsOn??Ie.locale?.options?.weekStartsOn??0,yt=(0,v.a)(L);if(!function X(L){if(!function J(L){return L instanceof Date||"object"==typeof L&&"[object Date]"===Object.prototype.toString.call(L)}(L)&&"number"!=typeof L)return!1;const H=(0,v.a)(L);return!isNaN(Number(H))}(yt))throw new RangeError("Invalid time value");let ot=H.match(G).map(Ae=>{const we=Ae[0];return"p"===we||"P"===we?(0,Z.m[we])(Ae,Xe.formatLong):Ae}).join("").match(te).map(Ae=>{if("''"===Ae)return{isToken:!1,value:"'"};const we=Ae[0];if("'"===we)return{isToken:!1,value:Q(Ae)};if(K[we])return{isToken:!0,value:Ae};if(we.match(le))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");return{isToken:!1,value:Ae}});Xe.localize.preprocessor&&(ot=Xe.localize.preprocessor(yt,ot));const It={firstWeekContainsDate:bt,weekStartsOn:rt,locale:Xe};return ot.map(Ae=>{if(!Ae.isToken)return Ae.value;const we=Ae.value;return(!fe?.useAdditionalWeekYearTokens&&(0,F.xM)(we)||!fe?.useAdditionalDayOfYearTokens&&(0,F.ef)(we))&&(0,F.Ss)(we,H,String(L)),(0,K[we[0]])(yt,we,Xe.localize,It)}).join("")}function Q(L){const H=L.match(oe);return H?H[1].replace(ce,"'"):L}},6863:(jt,Se,l)=>{"use strict";l.d(Se,{m:()=>$});var t=l(7729),v=l(4273);function b(G,oe){const ce=(0,v.a)(G),le=(0,v.a)(oe),ve=ce.getTime()-le.getTime();return ve<0?-1:ve>0?1:ve}var M=l(9857),I=l(4512);function f(G,oe){const ce=(0,v.a)(G),le=(0,v.a)(oe),ve=b(ce,le),Q=Math.abs(function S(G,oe){const ce=(0,v.a)(G),le=(0,v.a)(oe);return 12*(ce.getFullYear()-le.getFullYear())+(ce.getMonth()-le.getMonth())}(ce,le));let R;if(Q<1)R=0;else{1===ce.getMonth()&&ce.getDate()>27&&ce.setDate(30),ce.setMonth(ce.getMonth()-ve*Q);let L=b(ce,le)===-ve;(function w(G){const oe=(0,v.a)(G);return+(0,I.D)(oe)==+function k(G){const oe=(0,v.a)(G),ce=oe.getMonth();return oe.setFullYear(oe.getFullYear(),ce+1,0),oe.setHours(23,59,59,999),oe}(oe)})((0,v.a)(G))&&1===Q&&1===b(G,le)&&(L=!1),R=ve*(Q-Number(L))}return 0===R?0:R}var K=l(6708),ne=l(4812),Z=l(3501),F=l(1666),J=l(5872);function $(G,oe){return function z(G,oe,ce){const le=(0,F.q)(),ve=ce?.locale??le.locale??Z.c,R=b(G,oe);if(isNaN(R))throw new RangeError("Invalid time value");const L=Object.assign({},ce,{addSuffix:ce?.addSuffix,comparison:R});let H,fe;R>0?(H=(0,v.a)(oe),fe=(0,v.a)(G)):(H=(0,v.a)(G),fe=(0,v.a)(oe));const Ie=function U(G,oe,ce){const le=(0,ne.b)(G,oe)/1e3;return(0,K.u)(ce?.roundingMethod)(le)}(fe,H),Xe=((0,J.G)(fe)-(0,J.G)(H))/1e3,bt=Math.round((Ie-Xe)/60);let rt;if(bt<2)return ce?.includeSeconds?Ie<5?ve.formatDistance("lessThanXSeconds",5,L):Ie<10?ve.formatDistance("lessThanXSeconds",10,L):Ie<20?ve.formatDistance("lessThanXSeconds",20,L):Ie<40?ve.formatDistance("halfAMinute",0,L):ve.formatDistance(Ie<60?"lessThanXMinutes":"xMinutes",1,L):0===bt?ve.formatDistance("lessThanXMinutes",1,L):ve.formatDistance("xMinutes",bt,L);if(bt<45)return ve.formatDistance("xMinutes",bt,L);if(bt<90)return ve.formatDistance("aboutXHours",1,L);if(bt<M.F6){const yt=Math.round(bt/60);return ve.formatDistance("aboutXHours",yt,L)}if(bt<2520)return ve.formatDistance("xDays",1,L);if(bt<M.Nw){const yt=Math.round(bt/M.F6);return ve.formatDistance("xDays",yt,L)}if(bt<2*M.Nw)return rt=Math.round(bt/M.Nw),ve.formatDistance("aboutXMonths",rt,L);if(rt=f(fe,H),rt<12){const yt=Math.round(bt/M.Nw);return ve.formatDistance("xMonths",yt,L)}{const yt=rt%12,ot=Math.trunc(rt/12);return yt<3?ve.formatDistance("aboutXYears",ot,L):yt<9?ve.formatDistance("overXYears",ot,L):ve.formatDistance("almostXYears",ot+1,L)}}(G,function n(G){return(0,t.w)(G,Date.now())}(G),oe)}},2659:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>v});var t=l(3501),n=l(1666);const p=["years","months","weeks","days","hours","minutes","seconds"];function v(E,M){const S=(0,n.q)(),u=M?.locale??S.locale??t.c,I=M?.format??p,k=M?.zero??!1,T=M?.delimiter??" ";return u.formatDistance?I.reduce((D,f)=>{const V=`x${f.replace(/(^.)/,ne=>ne.toUpperCase())}`,K=E[f];return void 0!==K&&(k||E[f])?D.concat(u.formatDistance(V,K)):D},[]).join(T):""}},6453:(jt,Se,l)=>{"use strict";l.d(Se,{s:()=>S});var t=l(9857),n=l(8152),p=l(910),v=l(7729),M=l(4273);function S(I){const k=(0,M.a)(I),T=+(0,n.b)(k)-+function b(I){const k=(0,p.p)(I),T=(0,v.w)(I,0);return T.setFullYear(k,0,4),T.setHours(0,0,0,0),(0,n.b)(T)}(k);return Math.round(T/t.my)+1}},910:(jt,Se,l)=>{"use strict";l.d(Se,{p:()=>v});var t=l(7729),n=l(8152),p=l(4273);function v(E){const M=(0,p.a)(E),S=M.getFullYear(),u=(0,t.w)(E,0);u.setFullYear(S+1,0,4),u.setHours(0,0,0,0);const I=(0,n.b)(u),k=(0,t.w)(E,0);k.setFullYear(S,0,4),k.setHours(0,0,0,0);const T=(0,n.b)(k);return M.getTime()>=I.getTime()?S+1:M.getTime()>=T.getTime()?S:S-1}},5987:(jt,Se,l)=>{"use strict";l.d(Se,{_:()=>n});var t=l(4273);function n(v){return Math.trunc(+(0,t.a)(v)/1e3)}},7012:(jt,Se,l)=>{"use strict";l.d(Se,{N:()=>u});var t=l(9857),n=l(7793),p=l(7729),v=l(6045),b=l(1666),S=l(4273);function u(k,T){const w=(0,S.a)(k),D=+(0,n.k)(w,T)-+function E(k,T){const w=(0,b.q)(),D=T?.firstWeekContainsDate??T?.locale?.options?.firstWeekContainsDate??w.firstWeekContainsDate??w.locale?.options?.firstWeekContainsDate??1,f=(0,v.h)(k,T),V=(0,p.w)(k,0);return V.setFullYear(f,0,D),V.setHours(0,0,0,0),(0,n.k)(V,T)}(w,T);return Math.round(D/t.my)+1}},6045:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>b});var t=l(7729),n=l(7793),p=l(4273),v=l(1666);function b(M,S){const u=(0,p.a)(M),I=u.getFullYear(),k=(0,v.q)(),T=S?.firstWeekContainsDate??S?.locale?.options?.firstWeekContainsDate??k.firstWeekContainsDate??k.locale?.options?.firstWeekContainsDate??1,w=(0,t.w)(M,0);w.setFullYear(I+1,0,T),w.setHours(0,0,0,0);const D=(0,n.k)(w,S),f=(0,t.w)(M,0);f.setFullYear(I,0,T),f.setHours(0,0,0,0);const V=(0,n.k)(f,S);return u.getTime()>=D.getTime()?I+1:u.getTime()>=V.getTime()?I:I-1}},9824:(jt,Se,l)=>{"use strict";l.d(Se,{d:()=>n});var t=l(4273);function n(v,b){const E=(0,t.a)(v),M=(0,t.a)(b);return E.getTime()>M.getTime()}},9255:(jt,Se,l)=>{"use strict";l.d(Se,{Y:()=>n});var t=l(4273);function n(v,b){return+(0,t.a)(v)<+(0,t.a)(b)}},5818:(jt,Se,l)=>{"use strict";l.d(Se,{r:()=>n});var t=l(3601);function n(v,b){return+(0,t.o)(v)==+(0,t.o)(b)}},3501:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>H});const t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function p(Ie){return(Xe={})=>{const bt=Xe.width?String(Xe.width):Ie.defaultWidth;return Ie.formats[bt]||Ie.formats[Ie.defaultWidth]}}const M={date:p({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:p({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:p({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},S={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function I(Ie){return(Xe,bt)=>{let yt;if("formatting"===(bt?.context?String(bt.context):"standalone")&&Ie.formattingValues){const It=Ie.defaultFormattingWidth||Ie.defaultWidth,Ae=bt?.width?String(bt.width):It;yt=Ie.formattingValues[Ae]||Ie.formattingValues[It]}else{const It=Ie.defaultWidth,Ae=bt?.width?String(bt.width):Ie.defaultWidth;yt=Ie.values[Ae]||Ie.values[It]}return yt[Ie.argumentCallback?Ie.argumentCallback(Xe):Xe]}}function U(Ie){return(Xe,bt={})=>{const rt=bt.width,ot=Xe.match(rt&&Ie.matchPatterns[rt]||Ie.matchPatterns[Ie.defaultMatchWidth]);if(!ot)return null;const It=ot[0],Ae=rt&&Ie.parsePatterns[rt]||Ie.parsePatterns[Ie.defaultParseWidth],we=Array.isArray(Ae)?function Z(Ie,Xe){for(let bt=0;bt<Ie.length;bt++)if(Xe(Ie[bt]))return bt}(Ae,Te=>Te.test(It)):function c(Ie,Xe){for(const bt in Ie)if(Object.prototype.hasOwnProperty.call(Ie,bt)&&Xe(Ie[bt]))return bt}(Ae,Te=>Te.test(It));let _e;return _e=Ie.valueCallback?Ie.valueCallback(we):we,_e=bt.valueCallback?bt.valueCallback(_e):_e,{value:_e,rest:Xe.slice(It.length)}}}const H={code:"en-US",formatDistance:(Ie,Xe,bt)=>{let rt;const yt=t[Ie];return rt="string"==typeof yt?yt:1===Xe?yt.one:yt.other.replace("{{count}}",Xe.toString()),bt?.addSuffix?bt.comparison&&bt.comparison>0?"in "+rt:rt+" ago":rt},formatLong:M,formatRelative:(Ie,Xe,bt,rt)=>S[Ie],localize:{ordinalNumber:(Ie,Xe)=>{const bt=Number(Ie),rt=bt%100;if(rt>20||rt<10)switch(rt%10){case 1:return bt+"st";case 2:return bt+"nd";case 3:return bt+"rd"}return bt+"th"},era:I({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:I({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:Ie=>Ie-1}),month:I({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:I({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:I({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function F(Ie){return(Xe,bt={})=>{const rt=Xe.match(Ie.matchPattern);if(!rt)return null;const yt=rt[0],ot=Xe.match(Ie.parsePattern);if(!ot)return null;let It=Ie.valueCallback?Ie.valueCallback(ot[0]):ot[0];return It=bt.valueCallback?bt.valueCallback(It):It,{value:It,rest:Xe.slice(yt.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:Ie=>parseInt(Ie,10)}),era:U({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:U({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:Ie=>Ie+1}),month:U({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:U({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:U({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9548:(jt,Se,l)=>{"use strict";l.d(Se,{X:()=>v});var t=l(6708),n=l(7729),p=l(4273);function v(E,M){const S=M?.nearestTo??1;if(S<1||S>30)return(0,n.w)(E,NaN);const u=(0,p.a)(E),I=u.getSeconds()/60,k=u.getMilliseconds()/1e3/60,T=u.getMinutes()+I+k,f=(0,t.u)(M?.roundingMethod??"round")(T/S)*S,V=(0,n.w)(E,u);return V.setMinutes(f,0,0),V}},1406:(jt,Se,l)=>{"use strict";l.d(Se,{h:()=>v});var t=l(7729),n=l(2596),p=l(4273);function v(E,M){let S=(0,p.a)(E);return isNaN(+S)?(0,t.w)(E,NaN):(null!=M.year&&S.setFullYear(M.year),null!=M.month&&(S=(0,n.Z)(S,M.month)),null!=M.date&&S.setDate(M.date),null!=M.hours&&S.setHours(M.hours),null!=M.minutes&&S.setMinutes(M.minutes),null!=M.seconds&&S.setSeconds(M.seconds),null!=M.milliseconds&&S.setMilliseconds(M.milliseconds),S)}},5611:(jt,Se,l)=>{"use strict";l.d(Se,{a:()=>n});var t=l(4273);function n(v,b){const E=(0,t.a)(v);return E.setHours(b),E}},2596:(jt,Se,l)=>{"use strict";l.d(Se,{Z:()=>b});var t=l(7729),n=l(4273);function b(M,S){const u=(0,n.a)(M),I=u.getFullYear(),k=u.getDate(),T=(0,t.w)(M,0);T.setFullYear(I,S,15),T.setHours(0,0,0,0);const w=function p(M){const S=(0,n.a)(M),u=S.getFullYear(),I=S.getMonth(),k=(0,t.w)(M,0);return k.setFullYear(u,I+1,0),k.setHours(0,0,0,0),k.getDate()}(T);return u.setMonth(S,Math.min(k,w)),u}},3601:(jt,Se,l)=>{"use strict";l.d(Se,{o:()=>n});var t=l(4273);function n(v){const b=(0,t.a)(v);return b.setHours(0,0,0,0),b}},8152:(jt,Se,l)=>{"use strict";l.d(Se,{b:()=>n});var t=l(7793);function n(v){return(0,t.k)(v,{weekStartsOn:1})}},2357:(jt,Se,l)=>{"use strict";l.d(Se,{c:()=>n});var t=l(4273);function n(v){const b=(0,t.a)(v);return b.setSeconds(0,0),b}},7793:(jt,Se,l)=>{"use strict";l.d(Se,{k:()=>p});var t=l(4273),n=l(1666);function p(b,E){const M=(0,n.q)(),S=E?.weekStartsOn??E?.locale?.options?.weekStartsOn??M.weekStartsOn??M.locale?.options?.weekStartsOn??0,u=(0,t.a)(b),I=u.getDay(),k=(I<S?7:0)+I-S;return u.setDate(u.getDate()-k),u.setHours(0,0,0,0),u}},3901:(jt,Se,l)=>{"use strict";l.d(Se,{O:()=>n});var t=l(3368);function n(v,b){return(0,t.L)(v,-b)}},4273:(jt,Se,l)=>{"use strict";function t(p){const v=Object.prototype.toString.call(p);return p instanceof Date||"object"==typeof p&&"[object Date]"===v?new p.constructor(+p):"number"==typeof p||"[object Number]"===v||"string"==typeof p||"[object String]"===v?new Date(p):new Date(NaN)}l.d(Se,{a:()=>t})},222:(jt,Se,l)=>{"use strict";l.d(Se,{qg:()=>ct,xI:()=>kn});let n={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function p(un){n=un}const v=/[&<>"']/,b=new RegExp(v.source,"g"),E=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,M=new RegExp(E.source,"g"),S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=un=>S[un];function I(un,Qe){if(Qe){if(v.test(un))return un.replace(b,u)}else if(E.test(un))return un.replace(M,u);return un}const k=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,w=/(^|[^\[])\^/g;function D(un,Qe){let je="string"==typeof un?un:un.source;Qe=Qe||"";const ze={replace:(Re,it)=>{let We="string"==typeof it?it:it.source;return We=We.replace(w,"$1"),je=je.replace(Re,We),ze},getRegex:()=>new RegExp(je,Qe)};return ze}function f(un){try{un=encodeURI(un).replace(/%25/g,"%")}catch{return null}return un}const V={exec:()=>null};function K(un,Qe){const ze=un.replace(/\|/g,(it,We,ht)=>{let He=!1,Ke=We;for(;--Ke>=0&&"\\"===ht[Ke];)He=!He;return He?"|":" |"}).split(/ \|/);let Re=0;if(ze[0].trim()||ze.shift(),ze.length>0&&!ze[ze.length-1].trim()&&ze.pop(),Qe)if(ze.length>Qe)ze.splice(Qe);else for(;ze.length<Qe;)ze.push("");for(;Re<ze.length;Re++)ze[Re]=ze[Re].trim().replace(/\\\|/g,"|");return ze}function ne(un,Qe,je){const ze=un.length;if(0===ze)return"";let Re=0;for(;Re<ze;){const it=un.charAt(ze-Re-1);if(it!==Qe||je){if(it===Qe||!je)break;Re++}else Re++}return un.slice(0,ze-Re)}function c(un,Qe,je,ze){const Re=Qe.href,it=Qe.title?I(Qe.title):null,We=un[1].replace(/\\([\[\]])/g,"$1");if("!"!==un[0].charAt(0)){ze.state.inLink=!0;const ht={type:"link",raw:je,href:Re,title:it,text:We,tokens:ze.inlineTokens(We)};return ze.state.inLink=!1,ht}return{type:"image",raw:je,href:Re,title:it,text:I(We)}}class F{options;rules;lexer;constructor(Qe){this.options=Qe||n}space(Qe){const je=this.rules.block.newline.exec(Qe);if(je&&je[0].length>0)return{type:"space",raw:je[0]}}code(Qe){const je=this.rules.block.code.exec(Qe);if(je){const ze=je[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:je[0],codeBlockStyle:"indented",text:this.options.pedantic?ze:ne(ze,"\n")}}}fences(Qe){const je=this.rules.block.fences.exec(Qe);if(je){const ze=je[0],Re=function Z(un,Qe){const je=un.match(/^(\s+)(?:```)/);if(null===je)return Qe;const ze=je[1];return Qe.split("\n").map(Re=>{const it=Re.match(/^\s+/);if(null===it)return Re;const[We]=it;return We.length>=ze.length?Re.slice(ze.length):Re}).join("\n")}(ze,je[3]||"");return{type:"code",raw:ze,lang:je[2]?je[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):je[2],text:Re}}}heading(Qe){const je=this.rules.block.heading.exec(Qe);if(je){let ze=je[2].trim();if(/#$/.test(ze)){const Re=ne(ze,"#");(this.options.pedantic||!Re||/ $/.test(Re))&&(ze=Re.trim())}return{type:"heading",raw:je[0],depth:je[1].length,text:ze,tokens:this.lexer.inline(ze)}}}hr(Qe){const je=this.rules.block.hr.exec(Qe);if(je)return{type:"hr",raw:ne(je[0],"\n")}}blockquote(Qe){const je=this.rules.block.blockquote.exec(Qe);if(je){let ze=ne(je[0],"\n").split("\n"),Re="",it="";const We=[];for(;ze.length>0;){let ht=!1;const He=[];let Ke;for(Ke=0;Ke<ze.length;Ke++)if(/^ {0,3}>/.test(ze[Ke]))He.push(ze[Ke]),ht=!0;else{if(ht)break;He.push(ze[Ke])}ze=ze.slice(Ke);const Kt=He.join("\n"),gt=Kt.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");Re=Re?`${Re}\n${Kt}`:Kt,it=it?`${it}\n${gt}`:gt;const Ct=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(gt,We,!0),this.lexer.state.top=Ct,0===ze.length)break;const _n=We[We.length-1];if("code"===_n?.type)break;if("blockquote"===_n?.type){const yn=_n,Vn=yn.raw+"\n"+ze.join("\n"),mi=this.blockquote(Vn);We[We.length-1]=mi,Re=Re.substring(0,Re.length-yn.raw.length)+mi.raw,it=it.substring(0,it.length-yn.text.length)+mi.text;break}if("list"!==_n?.type);else{const yn=_n,Vn=yn.raw+"\n"+ze.join("\n"),mi=this.list(Vn);We[We.length-1]=mi,Re=Re.substring(0,Re.length-_n.raw.length)+mi.raw,it=it.substring(0,it.length-yn.raw.length)+mi.raw,ze=Vn.substring(We[We.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:Re,tokens:We,text:it}}}list(Qe){let je=this.rules.block.list.exec(Qe);if(je){let ze=je[1].trim();const Re=ze.length>1,it={type:"list",raw:"",ordered:Re,start:Re?+ze.slice(0,-1):"",loose:!1,items:[]};ze=Re?`\\d{1,9}\\${ze.slice(-1)}`:`\\${ze}`,this.options.pedantic&&(ze=Re?ze:"[*+-]");const We=new RegExp(`^( {0,3}${ze})((?:[\t ][^\\n]*)?(?:\\n|$))`);let ht=!1;for(;Qe;){let He=!1,Ke="",Kt="";if(!(je=We.exec(Qe))||this.rules.block.hr.test(Qe))break;Ke=je[0],Qe=Qe.substring(Ke.length);let gt=je[2].split("\n",1)[0].replace(/^\t+/,Oi=>" ".repeat(3*Oi.length)),Ct=Qe.split("\n",1)[0],_n=!gt.trim(),yn=0;if(this.options.pedantic?(yn=2,Kt=gt.trimStart()):_n?yn=je[1].length+1:(yn=je[2].search(/[^ ]/),yn=yn>4?1:yn,Kt=gt.slice(yn),yn+=je[1].length),_n&&/^ *$/.test(Ct)&&(Ke+=Ct+"\n",Qe=Qe.substring(Ct.length+1),He=!0),!He){const Oi=new RegExp(`^ {0,${Math.min(3,yn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Mi=new RegExp(`^ {0,${Math.min(3,yn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),wi=new RegExp(`^ {0,${Math.min(3,yn-1)}}(?:\`\`\`|~~~)`),Ki=new RegExp(`^ {0,${Math.min(3,yn-1)}}#`);for(;Qe;){const ji=Qe.split("\n",1)[0];if(Ct=ji,this.options.pedantic&&(Ct=Ct.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),wi.test(Ct)||Ki.test(Ct)||Oi.test(Ct)||Mi.test(Qe))break;if(Ct.search(/[^ ]/)>=yn||!Ct.trim())Kt+="\n"+Ct.slice(yn);else{if(_n||gt.search(/[^ ]/)>=4||wi.test(gt)||Ki.test(gt)||Mi.test(gt))break;Kt+="\n"+Ct}!_n&&!Ct.trim()&&(_n=!0),Ke+=ji+"\n",Qe=Qe.substring(ji.length+1),gt=Ct.slice(yn)}}it.loose||(ht?it.loose=!0:/\n *\n *$/.test(Ke)&&(ht=!0));let mi,Vn=null;this.options.gfm&&(Vn=/^\[[ xX]\] /.exec(Kt),Vn&&(mi="[ ] "!==Vn[0],Kt=Kt.replace(/^\[[ xX]\] +/,""))),it.items.push({type:"list_item",raw:Ke,task:!!Vn,checked:mi,loose:!1,text:Kt,tokens:[]}),it.raw+=Ke}it.items[it.items.length-1].raw=it.items[it.items.length-1].raw.trimEnd(),it.items[it.items.length-1].text=it.items[it.items.length-1].text.trimEnd(),it.raw=it.raw.trimEnd();for(let He=0;He<it.items.length;He++)if(this.lexer.state.top=!1,it.items[He].tokens=this.lexer.blockTokens(it.items[He].text,[]),!it.loose){const Ke=it.items[He].tokens.filter(gt=>"space"===gt.type),Kt=Ke.length>0&&Ke.some(gt=>/\n.*\n/.test(gt.raw));it.loose=Kt}if(it.loose)for(let He=0;He<it.items.length;He++)it.items[He].loose=!0;return it}}html(Qe){const je=this.rules.block.html.exec(Qe);if(je)return{type:"html",block:!0,raw:je[0],pre:"pre"===je[1]||"script"===je[1]||"style"===je[1],text:je[0]}}def(Qe){const je=this.rules.block.def.exec(Qe);if(je){const ze=je[1].toLowerCase().replace(/\s+/g," "),Re=je[2]?je[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",it=je[3]?je[3].substring(1,je[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):je[3];return{type:"def",tag:ze,raw:je[0],href:Re,title:it}}}table(Qe){const je=this.rules.block.table.exec(Qe);if(!je||!/[:|]/.test(je[2]))return;const ze=K(je[1]),Re=je[2].replace(/^\||\| *$/g,"").split("|"),it=je[3]&&je[3].trim()?je[3].replace(/\n[ \t]*$/,"").split("\n"):[],We={type:"table",raw:je[0],header:[],align:[],rows:[]};if(ze.length===Re.length){for(const ht of Re)/^ *-+: *$/.test(ht)?We.align.push("right"):/^ *:-+: *$/.test(ht)?We.align.push("center"):/^ *:-+ *$/.test(ht)?We.align.push("left"):We.align.push(null);for(let ht=0;ht<ze.length;ht++)We.header.push({text:ze[ht],tokens:this.lexer.inline(ze[ht]),header:!0,align:We.align[ht]});for(const ht of it)We.rows.push(K(ht,We.header.length).map((He,Ke)=>({text:He,tokens:this.lexer.inline(He),header:!1,align:We.align[Ke]})));return We}}lheading(Qe){const je=this.rules.block.lheading.exec(Qe);if(je)return{type:"heading",raw:je[0],depth:"="===je[2].charAt(0)?1:2,text:je[1],tokens:this.lexer.inline(je[1])}}paragraph(Qe){const je=this.rules.block.paragraph.exec(Qe);if(je){const ze="\n"===je[1].charAt(je[1].length-1)?je[1].slice(0,-1):je[1];return{type:"paragraph",raw:je[0],text:ze,tokens:this.lexer.inline(ze)}}}text(Qe){const je=this.rules.block.text.exec(Qe);if(je)return{type:"text",raw:je[0],text:je[0],tokens:this.lexer.inline(je[0])}}escape(Qe){const je=this.rules.inline.escape.exec(Qe);if(je)return{type:"escape",raw:je[0],text:I(je[1])}}tag(Qe){const je=this.rules.inline.tag.exec(Qe);if(je)return!this.lexer.state.inLink&&/^<a /i.test(je[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(je[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(je[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(je[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:je[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:je[0]}}link(Qe){const je=this.rules.inline.link.exec(Qe);if(je){const ze=je[2].trim();if(!this.options.pedantic&&/^</.test(ze)){if(!/>$/.test(ze))return;const We=ne(ze.slice(0,-1),"\\");if((ze.length-We.length)%2==0)return}else{const We=function U(un,Qe){if(-1===un.indexOf(Qe[1]))return-1;let je=0;for(let ze=0;ze<un.length;ze++)if("\\"===un[ze])ze++;else if(un[ze]===Qe[0])je++;else if(un[ze]===Qe[1]&&(je--,je<0))return ze;return-1}(je[2],"()");if(We>-1){const He=(0===je[0].indexOf("!")?5:4)+je[1].length+We;je[2]=je[2].substring(0,We),je[0]=je[0].substring(0,He).trim(),je[3]=""}}let Re=je[2],it="";if(this.options.pedantic){const We=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);We&&(Re=We[1],it=We[3])}else it=je[3]?je[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(Re=this.options.pedantic&&!/>$/.test(ze)?Re.slice(1):Re.slice(1,-1)),c(je,{href:Re&&Re.replace(this.rules.inline.anyPunctuation,"$1"),title:it&&it.replace(this.rules.inline.anyPunctuation,"$1")},je[0],this.lexer)}}reflink(Qe,je){let ze;if((ze=this.rules.inline.reflink.exec(Qe))||(ze=this.rules.inline.nolink.exec(Qe))){const it=je[(ze[2]||ze[1]).replace(/\s+/g," ").toLowerCase()];if(!it){const We=ze[0].charAt(0);return{type:"text",raw:We,text:We}}return c(ze,it,ze[0],this.lexer)}}emStrong(Qe,je,ze=""){let Re=this.rules.inline.emStrongLDelim.exec(Qe);if(!(!Re||Re[3]&&ze.match(/[\p{L}\p{N}]/u))&&(!Re[1]&&!Re[2]||!ze||this.rules.inline.punctuation.exec(ze))){const We=[...Re[0]].length-1;let ht,He,Ke=We,Kt=0;const gt="*"===Re[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(gt.lastIndex=0,je=je.slice(-1*Qe.length+We);null!=(Re=gt.exec(je));){if(ht=Re[1]||Re[2]||Re[3]||Re[4]||Re[5]||Re[6],!ht)continue;if(He=[...ht].length,Re[3]||Re[4]){Ke+=He;continue}if((Re[5]||Re[6])&&We%3&&!((We+He)%3)){Kt+=He;continue}if(Ke-=He,Ke>0)continue;He=Math.min(He,He+Ke+Kt);const Ct=[...Re[0]][0].length,_n=Qe.slice(0,We+Re.index+Ct+He);if(Math.min(We,He)%2){const Vn=_n.slice(1,-1);return{type:"em",raw:_n,text:Vn,tokens:this.lexer.inlineTokens(Vn)}}const yn=_n.slice(2,-2);return{type:"strong",raw:_n,text:yn,tokens:this.lexer.inlineTokens(yn)}}}}codespan(Qe){const je=this.rules.inline.code.exec(Qe);if(je){let ze=je[2].replace(/\n/g," ");const Re=/[^ ]/.test(ze),it=/^ /.test(ze)&&/ $/.test(ze);return Re&&it&&(ze=ze.substring(1,ze.length-1)),ze=I(ze,!0),{type:"codespan",raw:je[0],text:ze}}}br(Qe){const je=this.rules.inline.br.exec(Qe);if(je)return{type:"br",raw:je[0]}}del(Qe){const je=this.rules.inline.del.exec(Qe);if(je)return{type:"del",raw:je[0],text:je[2],tokens:this.lexer.inlineTokens(je[2])}}autolink(Qe){const je=this.rules.inline.autolink.exec(Qe);if(je){let ze,Re;return"@"===je[2]?(ze=I(je[1]),Re="mailto:"+ze):(ze=I(je[1]),Re=ze),{type:"link",raw:je[0],text:ze,href:Re,tokens:[{type:"text",raw:ze,text:ze}]}}}url(Qe){let je;if(je=this.rules.inline.url.exec(Qe)){let ze,Re;if("@"===je[2])ze=I(je[0]),Re="mailto:"+ze;else{let it;do{it=je[0],je[0]=this.rules.inline._backpedal.exec(je[0])?.[0]??""}while(it!==je[0]);ze=I(je[0]),Re="www."===je[1]?"http://"+je[0]:je[0]}return{type:"link",raw:je[0],text:ze,href:Re,tokens:[{type:"text",raw:ze,text:ze}]}}}inlineText(Qe){const je=this.rules.inline.text.exec(Qe);if(je){let ze;return ze=this.lexer.state.inRawBlock?je[0]:I(je[0]),{type:"text",raw:je[0],text:ze}}}}const $=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,G=/(?:[*+-]|\d{1,9}[.)])/,oe=D(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,G).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ce=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ve=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Q=D(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ve).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),R=D(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,G).getRegex(),L="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",H=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fe=D("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",H).replace("tag",L).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ie=D(ce).replace("hr",$).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L).getRegex(),bt={blockquote:D(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ie).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Q,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:$,html:fe,lheading:oe,list:R,newline:/^(?: *(?:\n|$))+/,paragraph:Ie,table:V,text:/^[^\n]+/},rt=D("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L).getRegex(),yt={...bt,table:rt,paragraph:D(ce).replace("hr",$).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L).getRegex()},ot={...bt,html:D("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",H).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:D(ce).replace("hr",$).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},It=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,we=/^( {2,}|\\)\n(?!\s*$)/,de="\\p{P}\\p{S}",Te=D(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,de).getRegex(),St=D(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,de).getRegex(),tt=D("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,de).getRegex(),wt=D("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,de).getRegex(),ln=D(/\\([punct])/,"gu").replace(/punct/g,de).getRegex(),Mn=D(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Bn=D(H).replace("(?:--\x3e|$)","--\x3e").getRegex(),Jt=D("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Bn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ft=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W=D(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ft).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Me=D(/^!?\[(label)\]\[(ref)\]/).replace("label",Ft).replace("ref",ve).getRegex(),ie=D(/^!?\[(ref)\](?:\[\])?/).replace("ref",ve).getRegex(),Be={_backpedal:V,anyPunctuation:ln,autolink:Mn,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:we,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:V,emStrongLDelim:St,emStrongRDelimAst:tt,emStrongRDelimUnd:wt,escape:It,link:W,nolink:ie,punctuation:Te,reflink:Me,reflinkSearch:D("reflink|nolink(?!\\()","g").replace("reflink",Me).replace("nolink",ie).getRegex(),tag:Jt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:V},Tt={...Be,link:D(/^!?\[(label)\]\((.*?)\)/).replace("label",Ft).getRegex(),reflink:D(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ft).getRegex()},Wt={...Be,escape:D(It).replace("])","~|])").getRegex(),url:D(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},vn={...Wt,br:D(we).replace("{2,}","*").getRegex(),text:D(Wt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Pt={normal:bt,gfm:yt,pedantic:ot},dn={normal:Be,gfm:Wt,breaks:vn,pedantic:Tt};class at{tokens;options;state;tokenizer;inlineQueue;constructor(Qe){this.tokens=[],this.tokens.links=Object.create(null),this.options=Qe||n,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const je={block:Pt.normal,inline:dn.normal};this.options.pedantic?(je.block=Pt.pedantic,je.inline=dn.pedantic):this.options.gfm&&(je.block=Pt.gfm,je.inline=this.options.breaks?dn.breaks:dn.gfm),this.tokenizer.rules=je}static get rules(){return{block:Pt,inline:dn}}static lex(Qe,je){return new at(je).lex(Qe)}static lexInline(Qe,je){return new at(je).inlineTokens(Qe)}lex(Qe){Qe=Qe.replace(/\r\n|\r/g,"\n"),this.blockTokens(Qe,this.tokens);for(let je=0;je<this.inlineQueue.length;je++){const ze=this.inlineQueue[je];this.inlineTokens(ze.src,ze.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Qe,je=[],ze=!1){let Re,it,We;for(Qe=this.options.pedantic?Qe.replace(/\t/g,"    ").replace(/^ +$/gm,""):Qe.replace(/^( *)(\t+)/gm,(ht,He,Ke)=>He+"    ".repeat(Ke.length));Qe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ht=>!!(Re=ht.call({lexer:this},Qe,je))&&(Qe=Qe.substring(Re.raw.length),je.push(Re),!0)))){if(Re=this.tokenizer.space(Qe)){Qe=Qe.substring(Re.raw.length),1===Re.raw.length&&je.length>0?je[je.length-1].raw+="\n":je.push(Re);continue}if(Re=this.tokenizer.code(Qe)){Qe=Qe.substring(Re.raw.length),it=je[je.length-1],!it||"paragraph"!==it.type&&"text"!==it.type?je.push(Re):(it.raw+="\n"+Re.raw,it.text+="\n"+Re.text,this.inlineQueue[this.inlineQueue.length-1].src=it.text);continue}if(Re=this.tokenizer.fences(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.heading(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.hr(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.blockquote(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.list(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.html(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.def(Qe)){Qe=Qe.substring(Re.raw.length),it=je[je.length-1],!it||"paragraph"!==it.type&&"text"!==it.type?this.tokens.links[Re.tag]||(this.tokens.links[Re.tag]={href:Re.href,title:Re.title}):(it.raw+="\n"+Re.raw,it.text+="\n"+Re.raw,this.inlineQueue[this.inlineQueue.length-1].src=it.text);continue}if(Re=this.tokenizer.table(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(Re=this.tokenizer.lheading(Qe)){Qe=Qe.substring(Re.raw.length),je.push(Re);continue}if(We=Qe,this.options.extensions&&this.options.extensions.startBlock){let ht=1/0;const He=Qe.slice(1);let Ke;this.options.extensions.startBlock.forEach(Kt=>{Ke=Kt.call({lexer:this},He),"number"==typeof Ke&&Ke>=0&&(ht=Math.min(ht,Ke))}),ht<1/0&&ht>=0&&(We=Qe.substring(0,ht+1))}if(this.state.top&&(Re=this.tokenizer.paragraph(We))){it=je[je.length-1],ze&&"paragraph"===it?.type?(it.raw+="\n"+Re.raw,it.text+="\n"+Re.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=it.text):je.push(Re),ze=We.length!==Qe.length,Qe=Qe.substring(Re.raw.length);continue}if(Re=this.tokenizer.text(Qe)){Qe=Qe.substring(Re.raw.length),it=je[je.length-1],it&&"text"===it.type?(it.raw+="\n"+Re.raw,it.text+="\n"+Re.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=it.text):je.push(Re);continue}if(Qe){const ht="Infinite loop on byte: "+Qe.charCodeAt(0);if(this.options.silent){console.error(ht);break}throw new Error(ht)}}return this.state.top=!0,je}inline(Qe,je=[]){return this.inlineQueue.push({src:Qe,tokens:je}),je}inlineTokens(Qe,je=[]){let ze,Re,it,ht,He,Ke,We=Qe;if(this.tokens.links){const Kt=Object.keys(this.tokens.links);if(Kt.length>0)for(;null!=(ht=this.tokenizer.rules.inline.reflinkSearch.exec(We));)Kt.includes(ht[0].slice(ht[0].lastIndexOf("[")+1,-1))&&(We=We.slice(0,ht.index)+"["+"a".repeat(ht[0].length-2)+"]"+We.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(ht=this.tokenizer.rules.inline.blockSkip.exec(We));)We=We.slice(0,ht.index)+"["+"a".repeat(ht[0].length-2)+"]"+We.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(ht=this.tokenizer.rules.inline.anyPunctuation.exec(We));)We=We.slice(0,ht.index)+"++"+We.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Qe;)if(He||(Ke=""),He=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Kt=>!!(ze=Kt.call({lexer:this},Qe,je))&&(Qe=Qe.substring(ze.raw.length),je.push(ze),!0)))){if(ze=this.tokenizer.escape(Qe)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(ze=this.tokenizer.tag(Qe)){Qe=Qe.substring(ze.raw.length),Re=je[je.length-1],Re&&"text"===ze.type&&"text"===Re.type?(Re.raw+=ze.raw,Re.text+=ze.text):je.push(ze);continue}if(ze=this.tokenizer.link(Qe)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(ze=this.tokenizer.reflink(Qe,this.tokens.links)){Qe=Qe.substring(ze.raw.length),Re=je[je.length-1],Re&&"text"===ze.type&&"text"===Re.type?(Re.raw+=ze.raw,Re.text+=ze.text):je.push(ze);continue}if(ze=this.tokenizer.emStrong(Qe,We,Ke)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(ze=this.tokenizer.codespan(Qe)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(ze=this.tokenizer.br(Qe)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(ze=this.tokenizer.del(Qe)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(ze=this.tokenizer.autolink(Qe)){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(!this.state.inLink&&(ze=this.tokenizer.url(Qe))){Qe=Qe.substring(ze.raw.length),je.push(ze);continue}if(it=Qe,this.options.extensions&&this.options.extensions.startInline){let Kt=1/0;const gt=Qe.slice(1);let Ct;this.options.extensions.startInline.forEach(_n=>{Ct=_n.call({lexer:this},gt),"number"==typeof Ct&&Ct>=0&&(Kt=Math.min(Kt,Ct))}),Kt<1/0&&Kt>=0&&(it=Qe.substring(0,Kt+1))}if(ze=this.tokenizer.inlineText(it)){Qe=Qe.substring(ze.raw.length),"_"!==ze.raw.slice(-1)&&(Ke=ze.raw.slice(-1)),He=!0,Re=je[je.length-1],Re&&"text"===Re.type?(Re.raw+=ze.raw,Re.text+=ze.text):je.push(ze);continue}if(Qe){const Kt="Infinite loop on byte: "+Qe.charCodeAt(0);if(this.options.silent){console.error(Kt);break}throw new Error(Kt)}}return je}}class pt{options;parser;constructor(Qe){this.options=Qe||n}space(Qe){return""}code({text:Qe,lang:je,escaped:ze}){const Re=(je||"").match(/^\S*/)?.[0],it=Qe.replace(/\n$/,"")+"\n";return Re?'<pre><code class="language-'+I(Re)+'">'+(ze?it:I(it,!0))+"</code></pre>\n":"<pre><code>"+(ze?it:I(it,!0))+"</code></pre>\n"}blockquote({tokens:Qe}){return`<blockquote>\n${this.parser.parse(Qe)}</blockquote>\n`}html({text:Qe}){return Qe}heading({tokens:Qe,depth:je}){return`<h${je}>${this.parser.parseInline(Qe)}</h${je}>\n`}hr(Qe){return"<hr>\n"}list(Qe){const je=Qe.ordered,ze=Qe.start;let Re="";for(let ht=0;ht<Qe.items.length;ht++)Re+=this.listitem(Qe.items[ht]);const it=je?"ol":"ul";return"<"+it+(je&&1!==ze?' start="'+ze+'"':"")+">\n"+Re+"</"+it+">\n"}listitem(Qe){let je="";if(Qe.task){const ze=this.checkbox({checked:!!Qe.checked});Qe.loose?Qe.tokens.length>0&&"paragraph"===Qe.tokens[0].type?(Qe.tokens[0].text=ze+" "+Qe.tokens[0].text,Qe.tokens[0].tokens&&Qe.tokens[0].tokens.length>0&&"text"===Qe.tokens[0].tokens[0].type&&(Qe.tokens[0].tokens[0].text=ze+" "+Qe.tokens[0].tokens[0].text)):Qe.tokens.unshift({type:"text",raw:ze+" ",text:ze+" "}):je+=ze+" "}return je+=this.parser.parse(Qe.tokens,!!Qe.loose),`<li>${je}</li>\n`}checkbox({checked:Qe}){return"<input "+(Qe?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Qe}){return`<p>${this.parser.parseInline(Qe)}</p>\n`}table(Qe){let je="",ze="";for(let it=0;it<Qe.header.length;it++)ze+=this.tablecell(Qe.header[it]);je+=this.tablerow({text:ze});let Re="";for(let it=0;it<Qe.rows.length;it++){const We=Qe.rows[it];ze="";for(let ht=0;ht<We.length;ht++)ze+=this.tablecell(We[ht]);Re+=this.tablerow({text:ze})}return Re&&(Re=`<tbody>${Re}</tbody>`),"<table>\n<thead>\n"+je+"</thead>\n"+Re+"</table>\n"}tablerow({text:Qe}){return`<tr>\n${Qe}</tr>\n`}tablecell(Qe){const je=this.parser.parseInline(Qe.tokens),ze=Qe.header?"th":"td";return(Qe.align?`<${ze} align="${Qe.align}">`:`<${ze}>`)+je+`</${ze}>\n`}strong({tokens:Qe}){return`<strong>${this.parser.parseInline(Qe)}</strong>`}em({tokens:Qe}){return`<em>${this.parser.parseInline(Qe)}</em>`}codespan({text:Qe}){return`<code>${Qe}</code>`}br(Qe){return"<br>"}del({tokens:Qe}){return`<del>${this.parser.parseInline(Qe)}</del>`}link({href:Qe,title:je,tokens:ze}){const Re=this.parser.parseInline(ze),it=f(Qe);if(null===it)return Re;let We='<a href="'+(Qe=it)+'"';return je&&(We+=' title="'+je+'"'),We+=">"+Re+"</a>",We}image({href:Qe,title:je,text:ze}){const Re=f(Qe);if(null===Re)return ze;let it=`<img src="${Qe=Re}" alt="${ze}"`;return je&&(it+=` title="${je}"`),it+=">",it}text(Qe){return"tokens"in Qe&&Qe.tokens?this.parser.parseInline(Qe.tokens):Qe.text}}class Xt{strong({text:Qe}){return Qe}em({text:Qe}){return Qe}codespan({text:Qe}){return Qe}del({text:Qe}){return Qe}html({text:Qe}){return Qe}text({text:Qe}){return Qe}link({text:Qe}){return""+Qe}image({text:Qe}){return""+Qe}br(){return""}}class Gt{options;renderer;textRenderer;constructor(Qe){this.options=Qe||n,this.options.renderer=this.options.renderer||new pt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Xt}static parse(Qe,je){return new Gt(je).parse(Qe)}static parseInline(Qe,je){return new Gt(je).parseInline(Qe)}parse(Qe,je=!0){let ze="";for(let Re=0;Re<Qe.length;Re++){const it=Qe[Re];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[it.type]){const ht=it,He=this.options.extensions.renderers[ht.type].call({parser:this},ht);if(!1!==He||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ht.type)){ze+=He||"";continue}}const We=it;switch(We.type){case"space":ze+=this.renderer.space(We);continue;case"hr":ze+=this.renderer.hr(We);continue;case"heading":ze+=this.renderer.heading(We);continue;case"code":ze+=this.renderer.code(We);continue;case"table":ze+=this.renderer.table(We);continue;case"blockquote":ze+=this.renderer.blockquote(We);continue;case"list":ze+=this.renderer.list(We);continue;case"html":ze+=this.renderer.html(We);continue;case"paragraph":ze+=this.renderer.paragraph(We);continue;case"text":{let ht=We,He=this.renderer.text(ht);for(;Re+1<Qe.length&&"text"===Qe[Re+1].type;)ht=Qe[++Re],He+="\n"+this.renderer.text(ht);ze+=je?this.renderer.paragraph({type:"paragraph",raw:He,text:He,tokens:[{type:"text",raw:He,text:He}]}):He;continue}default:{const ht='Token with "'+We.type+'" type was not found.';if(this.options.silent)return console.error(ht),"";throw new Error(ht)}}}return ze}parseInline(Qe,je){je=je||this.renderer;let ze="";for(let Re=0;Re<Qe.length;Re++){const it=Qe[Re];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[it.type]){const ht=this.options.extensions.renderers[it.type].call({parser:this},it);if(!1!==ht||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(it.type)){ze+=ht||"";continue}}const We=it;switch(We.type){case"escape":case"text":ze+=je.text(We);break;case"html":ze+=je.html(We);break;case"link":ze+=je.link(We);break;case"image":ze+=je.image(We);break;case"strong":ze+=je.strong(We);break;case"em":ze+=je.em(We);break;case"codespan":ze+=je.codespan(We);break;case"br":ze+=je.br(We);break;case"del":ze+=je.del(We);break;default:{const ht='Token with "'+We.type+'" type was not found.';if(this.options.silent)return console.error(ht),"";throw new Error(ht)}}}return ze}}class pn{options;constructor(Qe){this.options=Qe||n}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Qe){return Qe}postprocess(Qe){return Qe}processAllTokens(Qe){return Qe}}const xn=new class nn{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(at.lex,Gt.parse);parseInline=this.#t(at.lexInline,Gt.parseInline);Parser=Gt;Renderer=pt;TextRenderer=Xt;Lexer=at;Tokenizer=F;Hooks=pn;constructor(...Qe){this.use(...Qe)}walkTokens(Qe,je){let ze=[];for(const Re of Qe)switch(ze=ze.concat(je.call(this,Re)),Re.type){case"table":{const it=Re;for(const We of it.header)ze=ze.concat(this.walkTokens(We.tokens,je));for(const We of it.rows)for(const ht of We)ze=ze.concat(this.walkTokens(ht.tokens,je));break}case"list":ze=ze.concat(this.walkTokens(Re.items,je));break;default:{const it=Re;this.defaults.extensions?.childTokens?.[it.type]?this.defaults.extensions.childTokens[it.type].forEach(We=>{const ht=it[We].flat(1/0);ze=ze.concat(this.walkTokens(ht,je))}):it.tokens&&(ze=ze.concat(this.walkTokens(it.tokens,je)))}}return ze}use(...Qe){const je=this.defaults.extensions||{renderers:{},childTokens:{}};return Qe.forEach(ze=>{const Re={...ze};if(Re.async=this.defaults.async||Re.async||!1,ze.extensions&&(ze.extensions.forEach(it=>{if(!it.name)throw new Error("extension name required");if("renderer"in it){const We=je.renderers[it.name];je.renderers[it.name]=We?function(...ht){let He=it.renderer.apply(this,ht);return!1===He&&(He=We.apply(this,ht)),He}:it.renderer}if("tokenizer"in it){if(!it.level||"block"!==it.level&&"inline"!==it.level)throw new Error("extension level must be 'block' or 'inline'");const We=je[it.level];We?We.unshift(it.tokenizer):je[it.level]=[it.tokenizer],it.start&&("block"===it.level?je.startBlock?je.startBlock.push(it.start):je.startBlock=[it.start]:"inline"===it.level&&(je.startInline?je.startInline.push(it.start):je.startInline=[it.start]))}"childTokens"in it&&it.childTokens&&(je.childTokens[it.name]=it.childTokens)}),Re.extensions=je),ze.renderer){const it=this.defaults.renderer||new pt(this.defaults);for(const We in ze.renderer){if(!(We in it))throw new Error(`renderer '${We}' does not exist`);if(["options","parser"].includes(We))continue;const ht=We;let He=ze.renderer[ht];ze.useNewRenderer||(He=this.#e(He,ht,it));const Ke=it[ht];it[ht]=(...Kt)=>{let gt=He.apply(it,Kt);return!1===gt&&(gt=Ke.apply(it,Kt)),gt||""}}Re.renderer=it}if(ze.tokenizer){const it=this.defaults.tokenizer||new F(this.defaults);for(const We in ze.tokenizer){if(!(We in it))throw new Error(`tokenizer '${We}' does not exist`);if(["options","rules","lexer"].includes(We))continue;const He=ze.tokenizer[We],Ke=it[We];it[We]=(...Kt)=>{let gt=He.apply(it,Kt);return!1===gt&&(gt=Ke.apply(it,Kt)),gt}}Re.tokenizer=it}if(ze.hooks){const it=this.defaults.hooks||new pn;for(const We in ze.hooks){if(!(We in it))throw new Error(`hook '${We}' does not exist`);if("options"===We)continue;const He=ze.hooks[We],Ke=it[We];it[We]=pn.passThroughHooks.has(We)?Kt=>{if(this.defaults.async)return Promise.resolve(He.call(it,Kt)).then(Ct=>Ke.call(it,Ct));const gt=He.call(it,Kt);return Ke.call(it,gt)}:(...Kt)=>{let gt=He.apply(it,Kt);return!1===gt&&(gt=Ke.apply(it,Kt)),gt}}Re.hooks=it}if(ze.walkTokens){const it=this.defaults.walkTokens,We=ze.walkTokens;Re.walkTokens=function(ht){let He=[];return He.push(We.call(this,ht)),it&&(He=He.concat(it.call(this,ht))),He}}this.defaults={...this.defaults,...Re}}),this}#e(Qe,je,ze){switch(je){case"heading":return function(Re){return Re.type&&Re.type===je?Qe.call(this,ze.parser.parseInline(Re.tokens),Re.depth,function T(un){return un.replace(k,(Qe,je)=>"colon"===(je=je.toLowerCase())?":":"#"===je.charAt(0)?"x"===je.charAt(1)?String.fromCharCode(parseInt(je.substring(2),16)):String.fromCharCode(+je.substring(1)):"")}(ze.parser.parseInline(Re.tokens,ze.parser.textRenderer))):Qe.apply(this,arguments)};case"code":return function(Re){return Re.type&&Re.type===je?Qe.call(this,Re.text,Re.lang,!!Re.escaped):Qe.apply(this,arguments)};case"table":return function(Re){if(!Re.type||Re.type!==je)return Qe.apply(this,arguments);let it="",We="";for(let He=0;He<Re.header.length;He++)We+=this.tablecell({text:Re.header[He].text,tokens:Re.header[He].tokens,header:!0,align:Re.align[He]});it+=this.tablerow({text:We});let ht="";for(let He=0;He<Re.rows.length;He++){const Ke=Re.rows[He];We="";for(let Kt=0;Kt<Ke.length;Kt++)We+=this.tablecell({text:Ke[Kt].text,tokens:Ke[Kt].tokens,header:!1,align:Re.align[Kt]});ht+=this.tablerow({text:We})}return Qe.call(this,it,ht)};case"blockquote":return function(Re){if(!Re.type||Re.type!==je)return Qe.apply(this,arguments);const it=this.parser.parse(Re.tokens);return Qe.call(this,it)};case"list":return function(Re){if(!Re.type||Re.type!==je)return Qe.apply(this,arguments);const it=Re.ordered,We=Re.start,ht=Re.loose;let He="";for(let Ke=0;Ke<Re.items.length;Ke++){const Kt=Re.items[Ke],gt=Kt.checked,Ct=Kt.task;let _n="";if(Kt.task){const yn=this.checkbox({checked:!!gt});ht?Kt.tokens.length>0&&"paragraph"===Kt.tokens[0].type?(Kt.tokens[0].text=yn+" "+Kt.tokens[0].text,Kt.tokens[0].tokens&&Kt.tokens[0].tokens.length>0&&"text"===Kt.tokens[0].tokens[0].type&&(Kt.tokens[0].tokens[0].text=yn+" "+Kt.tokens[0].tokens[0].text)):Kt.tokens.unshift({type:"text",text:yn+" "}):_n+=yn+" "}_n+=this.parser.parse(Kt.tokens,ht),He+=this.listitem({type:"list_item",raw:_n,text:_n,task:Ct,checked:!!gt,loose:ht,tokens:Kt.tokens})}return Qe.call(this,He,it,We)};case"html":return function(Re){return Re.type&&Re.type===je?Qe.call(this,Re.text,Re.block):Qe.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(Re){return Re.type&&Re.type===je?Qe.call(this,this.parser.parseInline(Re.tokens)):Qe.apply(this,arguments)};case"escape":case"codespan":case"text":return function(Re){return Re.type&&Re.type===je?Qe.call(this,Re.text):Qe.apply(this,arguments)};case"link":return function(Re){return Re.type&&Re.type===je?Qe.call(this,Re.href,Re.title,this.parser.parseInline(Re.tokens)):Qe.apply(this,arguments)};case"image":return function(Re){return Re.type&&Re.type===je?Qe.call(this,Re.href,Re.title,Re.text):Qe.apply(this,arguments)}}return Qe}setOptions(Qe){return this.defaults={...this.defaults,...Qe},this}lexer(Qe,je){return at.lex(Qe,je??this.defaults)}parser(Qe,je){return Gt.parse(Qe,je??this.defaults)}#t(Qe,je){return(ze,Re)=>{const it={...Re},We={...this.defaults,...it};!0===this.defaults.async&&!1===it.async&&(We.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),We.async=!0);const ht=this.#n(!!We.silent,!!We.async);if(typeof ze>"u"||null===ze)return ht(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof ze)return ht(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ze)+", string expected"));if(We.hooks&&(We.hooks.options=We),We.async)return Promise.resolve(We.hooks?We.hooks.preprocess(ze):ze).then(He=>Qe(He,We)).then(He=>We.hooks?We.hooks.processAllTokens(He):He).then(He=>We.walkTokens?Promise.all(this.walkTokens(He,We.walkTokens)).then(()=>He):He).then(He=>je(He,We)).then(He=>We.hooks?We.hooks.postprocess(He):He).catch(ht);try{We.hooks&&(ze=We.hooks.preprocess(ze));let He=Qe(ze,We);We.hooks&&(He=We.hooks.processAllTokens(He)),We.walkTokens&&this.walkTokens(He,We.walkTokens);let Ke=je(He,We);return We.hooks&&(Ke=We.hooks.postprocess(Ke)),Ke}catch(He){return ht(He)}}}#n(Qe,je){return ze=>{if(ze.message+="\nPlease report this to https://github.com/markedjs/marked.",Qe){const Re="<p>An error occurred:</p><pre>"+I(ze.message+"",!0)+"</pre>";return je?Promise.resolve(Re):Re}if(je)return Promise.reject(ze);throw ze}}};function kn(un,Qe){return xn.parse(un,Qe)}kn.options=kn.setOptions=function(un){return xn.setOptions(un),p(kn.defaults=xn.defaults),kn},kn.getDefaults=function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},kn.defaults=n,kn.use=function(...un){return xn.use(...un),p(kn.defaults=xn.defaults),kn},kn.walkTokens=function(un,Qe){return xn.walkTokens(un,Qe)},kn.parseInline=xn.parseInline,kn.Parser=Gt,kn.parser=Gt.parse,kn.Renderer=pt,kn.TextRenderer=Xt,kn.Lexer=at,kn.lexer=at.lex,kn.Tokenizer=F,kn.Hooks=pn,kn.parse=kn;const ct=kn},467:(jt,Se,l)=>{"use strict";function t(p,v,b,E,M,S,u){try{var I=p[S](u),k=I.value}catch(T){return void b(T)}I.done?v(k):Promise.resolve(k).then(E,M)}function n(p){return function(){var v=this,b=arguments;return new Promise(function(E,M){var S=p.apply(v,b);function u(k){t(S,E,M,u,I,"next",k)}function I(k){t(S,E,M,u,I,"throw",k)}u(void 0)})}}l.d(Se,{A:()=>n})}},jt=>{jt(jt.s=8367)}]);