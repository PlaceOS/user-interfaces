(self.webpackChunkworkplace=self.webpackChunkworkplace||[]).push([[179],{8711:(Je,K,t)=>{"use strict";t.d(K,{o:()=>_});var e=t(8368),n=t(6725),y=t(6353),T=t(6895),v=t(4006),O=t(5306),C=t(7732),E=t(6066);function i(l,m){if(1&l){const h=y.EpF();y.TgZ(0,"div",6)(1,"div",7)(2,"app-icon",8),y._uU(3,"mode_night"),y.qZA()(),y.TgZ(4,"div",9),y.SDv(5,13),y.qZA(),y.TgZ(6,"mat-slide-toggle",11),y.NdJ("ngModelChange",function(c){y.CHM(h);const a=y.oxw();return y.KtG(a.applySetting("dark_mode",c))}),y.qZA()()}if(2&l){const h=y.oxw();y.xp6(6),y.Q6J("ngModel",h.dark_mode)}}function f(l,m){if(1&l){const h=y.EpF();y.ynx(0),y.TgZ(1,"div",14),y.SDv(2,15),y.qZA(),y.TgZ(3,"div",16)(4,"span",17),y._uU(5,"A"),y.qZA(),y.TgZ(6,"mat-slider",18),y.NdJ("ngModelChange",function(c){y.CHM(h);const a=y.oxw();return y.KtG(a.applySetting("font_size",c))}),y.qZA(),y.TgZ(7,"span",2),y._uU(8,"A"),y.qZA()(),y.BQk()}if(2&l){const h=y.oxw();y.xp6(6),y.Q6J("min",10)("max",22)("ngModel",h.font_size)("step",2)}}class _{constructor(m,h){this._data=m,this._settings=h,this.applySetting=(d,c)=>this._settings.saveUserSetting(d,c),this.close=()=>this._data?.close()}get dark_mode(){return!!this._settings.get("dark_mode")}get can_change_dark_mode(){return!!this._settings.get("app.general.dark_mode")}get accessible(){return!!this._settings.get("accessible")}get font_size(){return this._settings.get("font_size")||16}}_.\u0275fac=function(m){return new(m||_)(y.Y36(n.LE),y.Y36(e.gb))},_.\u0275cmp=y.Xpm({type:_,selectors:[["accessibility-tooltip"]],decls:15,vars:3,consts:function(){let l,m,h,d;return l=$localize`:␟d22b673a92b43eabbdebd80b1539a553703c84f6␟6572705143012462182:Display & Accessibility`,m=$localize`:␟0f027c150c7e9465a5cdf64c4d07c33aca92384d␟127744830115363320:Large Accessibility Sizes`,h=$localize`:␟c943d5ecc32b916a210d7c984fe5f55771ad0b1a␟3279636347259347513:Dark Mode`,d=$localize`:␟3fc32876e34616b005d861eafe737cf4d2793184␟8609643488577372847: Adjust your preferred reading size below. `,[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-white","shadow","relative","-top-12","-right-1","overflow-hidden","dark:bg-neutral-700","dark:text-white"],[1,"flex","items-center","space-x-2","p-2",3,"click"],[1,"text-2xl"],[1,""],l,["action","","class","flex items-center space-x-2 w-full text-left h-auto px-4",4,"ngIf"],["action","",1,"flex","items-center","space-x-2","w-full","text-left","h-auto","px-4"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-gray-200","dark:bg-neutral-800","my-2"],[1,"text-xl"],[1,"flex-1","text-sm"],m,[3,"ngModel","ngModelChange"],[4,"ngIf"],h,[1,"px-8","py-4","bg-gray-200","dark:bg-neutral-600","text-center"],d,[1,"flex","items-center","px-4","space-x-4"],[1,"text-sm"],[1,"flex-1","w-1/2",3,"min","max","ngModel","step","ngModelChange"]]},template:function(m,h){1&m&&(y.TgZ(0,"div",0)(1,"div",1),y.NdJ("click",function(){return h.close()}),y.TgZ(2,"app-icon",2),y._uU(3,"arrow_back"),y.qZA(),y.TgZ(4,"div",3),y.SDv(5,4),y.qZA()(),y.YNc(6,i,7,1,"div",5),y.TgZ(7,"div",6)(8,"div",7)(9,"app-icon",8),y._uU(10,"playlist_add"),y.qZA()(),y.TgZ(11,"div",9),y.SDv(12,10),y.qZA(),y.TgZ(13,"mat-slide-toggle",11),y.NdJ("ngModelChange",function(c){return h.applySetting("accessible",c)}),y.qZA()(),y.YNc(14,f,9,4,"ng-container",12),y.qZA()),2&m&&(y.xp6(6),y.Q6J("ngIf",h.can_change_dark_mode),y.xp6(7),y.Q6J("ngModel",h.accessible),y.xp6(1),y.Q6J("ngIf",h.accessible))},dependencies:[T.O5,v.JJ,v.On,O.o,C.iZ,E.ST],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%] > [action][_ngcontent-%COMP%]{border-top:1px solid #ccc}"]})},7818:(Je,K,t)=>{"use strict";t.d(K,{s:()=>i});var e=t(6725),n=t(6221),y=t(6353),T=t(6895),v=t(4006),O=t(5306),C=t(4454);function E(f,_){if(1&f){const l=y.EpF();y.TgZ(0,"mat-radio-button",8),y.NdJ("click",function(){const d=y.CHM(l).$implicit,c=y.oxw();return y.KtG(c.setBuilding(d))}),y._uU(1),y.qZA()}if(2&f){const l=_.$implicit;y.Q6J("value",l.id),y.xp6(1),y.hij(" ",l.display_name||l.name," ")}}class i{constructor(_,l){this._data=_,this._org=l,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.setBuilding=m=>{this._org.building=m,this._data?.close()},this.close=()=>this._data?.close()}}i.\u0275fac=function(_){return new(_||i)(y.Y36(e.LE),y.Y36(n.w7))},i.\u0275cmp=y.Xpm({type:i,selectors:[["building-select"]],decls:14,vars:11,consts:function(){let f;return f=$localize`:␟f6bc545a20f571c426f74d4d3522b71334f2b845␟4543839253815117286: Select a building location `,[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-white","shadow","p-2","relative","-top-12","-right-1","dark:bg-neutral-700","dark:text-white",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],f,[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]]},template:function(_,l){if(1&_&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return l.close()}),y.TgZ(1,"div",1)(2,"app-icon",2),y._uU(3,"arrow_back"),y.qZA(),y.TgZ(4,"div",3),y._uU(5),y.ALo(6,"async"),y.ALo(7,"async"),y.qZA()(),y.TgZ(8,"div",4),y.SDv(9,5),y.qZA(),y.TgZ(10,"mat-radio-group",6),y.ALo(11,"async"),y.YNc(12,E,2,2,"mat-radio-button",7),y.ALo(13,"async"),y.qZA()()),2&_){let m,h;y.xp6(5),y.hij(" ",(null==(m=y.lcZ(6,3,l.building))?null:m.display_name)||(null==(m=y.lcZ(7,5,l.building))?null:m.name)," "),y.xp6(5),y.Q6J("ngModel",null==(h=y.lcZ(11,7,l.building))?null:h.id),y.xp6(2),y.Q6J("ngForOf",y.lcZ(13,9,l.buildings))}},dependencies:[T.sg,v.JJ,v.On,O.o,C.OY,C.vy,T.Ov]})},4038:(Je,K,t)=>{"use strict";t.d(K,{q:()=>a});var e=t(6353),n=t(8368),y=t(1764),v=t(6895);const O=["overlay"];function C(s,r){if(1&s&&(e.TgZ(0,"div",15)(1,"span"),e._uU(2),e.qZA()()),2&s){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.short)}}function E(s,r){if(1&s&&(e.TgZ(0,"div",13),e.YNc(1,C,3,1,"div",14),e.qZA()),2&s){const o=r.$implicit;e.xp6(1),e.Q6J("ngIf",o.hour)}}function i(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){const x=e.CHM(o).$implicit,P=e.oxw();return e.KtG(P.setTime(x))}),e._UZ(1,"div",17),e.qZA()}if(2&s){const o=r.$implicit;e.ekj("unavailable",o.unavailable),e.xp6(1),e.ekj("hour",o.hour)("divider",o.divider)}}function f(s,r){if(1&s&&e._UZ(0,"div",18),2&s){const o=e.oxw();e.Udp("left",o.vertical?"":100*o.model.today+"%")("top",o.vertical?100*o.model.today+"%":"")}}function _(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e.NdJ("mousedown",function(){e.CHM(o);const I=e.oxw();return e.KtG(I.setMove("start"))})("touchstart",function(){e.CHM(o);const I=e.oxw();return e.KtG(I.setMove("start"))}),e.qZA(),e.TgZ(2,"div",21),e.NdJ("mousedown",function(){e.CHM(o);const I=e.oxw();return e.KtG(I.setMove("start"))})("touchstart",function(){e.CHM(o);const I=e.oxw();return e.KtG(I.setMove("start"))}),e.qZA(),e.TgZ(3,"div",22),e.NdJ("mousedown",function(){e.CHM(o);const I=e.oxw();return e.KtG(I.setMove("end"))})("touchstart",function(){e.CHM(o);const I=e.oxw();return e.KtG(I.setMove("end"))}),e.qZA()()}if(2&s){const o=e.oxw();e.Udp("left",o.vertical?"":100*o.model.start_time+"%")("top",o.vertical?100*o.model.start_time+"%":"")("width",o.vertical?"":100*o.model.duration+"%")("height",o.vertical?100*o.model.duration+"%":"")}}function l(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",26),e.NdJ("click",function(){e.CHM(o);const I=e.oxw().$implicit;return e.KtG(I.remove())}),e.TgZ(1,"i",27),e._uU(2,"close"),e.qZA()()}}function m(s,r){if(1&s&&(e.TgZ(0,"div",29)(1,"div",24),e._uU(2),e.qZA()()),2&s){const o=r.$implicit,S=e.oxw(3);e.Udp("width",S.vertical?"":o.duration/5*100+"%")("height",S.vertical?o.duration/5*100+"%":""),e.xp6(2),e.Oqu(o.text)}}function h(s,r){if(1&s&&(e.TgZ(0,"div",13),e.YNc(1,m,3,5,"div",28),e.qZA()),2&s){const o=r.$implicit;e.xp6(1),e.Q6J("ngForOf",o.events)}}function d(s,r){if(1&s&&(e.TgZ(0,"div",23)(1,"div",2)(2,"div",24),e._uU(3),e.qZA(),e.YNc(4,l,3,0,"div",25),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,h,2,1,"div",4),e.qZA()()),2&s){const o=r.$implicit;e.ekj("divider",o.divider),e.xp6(3),e.Oqu(o.name),e.xp6(1),e.Q6J("ngIf",o.remove),e.xp6(2),e.Q6J("ngForOf",o.blocks)}}const c=function(){return[]};class a extends n.KG{constructor(){super(...arguments),this.date=y().valueOf(),this.duration=30,this.can_select=!0,this.dateChange=new e.vpe,this.durationChange=new e.vpe,this.groupsChange=new e.vpe,this.vertical=!1,this.model={}}ngOnInit(){this.model.start=y(this.date).hour(6).minute(30),this.model.end=y(this.date).hour(21).minute(30),this.generateBlocks(),this.updateTime(),this.interval("timer",()=>this.updateTime(),6e4);const r=y(),o=y().add(1,"d").startOf("d");this.timeout("update_date",()=>{this.updateStartEnd(),this.interval("update_date",()=>this.updateStartEnd(),864e5)},Math.floor(o.diff(r,"s")))}ngOnChanges(r){r.groups&&this.processGroups(),(r.date||r.duration)&&this.updateStartEnd()}updateStartEnd(){this.model.start=y(this.date).hour(6).minute(30),this.model.end=y(this.date).hour(21).minute(30),this.updatePeriod(),this.updateTime()}generateBlocks(){const o=this.model.end,S=[];for(let I=y(this.model.start);I.isBefore(o);I=I.add(5,"m"))S.push({id:I.format("HH:mm"),display:I.format("hh:00 a"),short:I.format("hh a"),hour:0===I.minute(),divider:I.minute()%30==0});this.model.blocks=S}processGroups(){this.timeout("process",()=>{this.model.groups=[];const r=y(this.model.start),o=this.model.end;for(const S of this.groups||[]){const I=[];for(let x=y(r);x.isBefore(o);x=x.add(5,"m")){const P=y(x).add(5,"m");let g=[];S.events&&(g=S.events.filter(u=>{const M=y(this.date).hour(Math.floor(u.start)).minute(Math.floor(60*u.start%60));return(M.isAfter(x,"m")||M.isSame(x,"m"))&&M.isBefore(P,"m")})),I.push({id:x.format("HH:mm"),events:g})}this.model.groups.push({...S,blocks:I})}this.checkInUseBlocks()},20)}checkInUseBlocks(){if(!this.model.blocks)return;const r=this.model.blocks.map(o=>({...o,unavailable:!1}));for(const o of this.model.groups)for(const S of o.events||[]){const I=this.hoursToDate(S.start),x=y(I).add(S.duration,"m");for(let P=y(I);P.isBefore(x);P=P.add(5,"m")){const g=P.format("HH:mm"),u=r.find(M=>M.id===g);u&&(u.unavailable=!0)}}this.model.blocks=r}hoursToDate(r){let o=y().startOf("d").hour(Math.floor(r)).minute(Math.floor(60*r%60));return o=o.minute(5*Math.floor(o.minute()/5)),o}timeToDate(r){const o=r.split(":");let S=y().startOf("d").hour(+o[0]).minute(+o[1]);return S=S.minute(5*Math.floor(S.minute()/5)),S}updatePeriod(){const r=y(this.date).startOf("m"),o=this.model.end.diff(this.model.start,"m")/60;this.model.start_time=r.diff(this.model.start,"m")/60/o,this.model.duration=this.duration/60/o}updateTime(){const r=y().startOf("m"),o=this.model.end.diff(this.model.start,"m")/60;this.model.today=r.diff(this.model.start,"m")/60/o}resetMove(){this.model.move=""}setMove(r){this.model.move=r}setTime(r){if(!r)return;const o=r.id.split(":"),S=y(this.date).hour(+o[0]).minute(+o[1]);this.date=S.valueOf(),this.dateChange.emit(this.date),this.updatePeriod()}move(r){this.timeout("move",()=>{if(this.model.move&&this.content){const o={x:r.touches&&r.touches.length>0&&r.touches[0].clientX||r.clientX,y:r.touches&&r.touches.length>0&&r.touches[0].clientY||r.clientY},S=this.content.nativeElement.getBoundingClientRect(),I=(o.x-S.left)/S.width,x=(o.y-S.top)/S.height,P=this.vertical?x:I,g=this.model.start.hour()+this.model.start.minute()/60,M=this.model.end.hour()+this.model.end.minute()/60-g,R=15,w=Math.ceil((M*P+g)*(60/R))/(60/R);if("end"===this.model.move){let F=y(this.date);const B=y(this.date).hour(Math.floor(w)).minute(Math.floor(60*w%60));if(B.isSame(F,"m")||B.isBefore(F,"m"))F=y(B).add(-this.duration,"m"),this.date=F.valueOf();else{const H=Math.floor(B.diff(F,"m"));this.duration=Math.max(60,H||R),this.durationChange.emit(this.duration)}}else if("start"===this.model.move){const F=y(this.date).hour(Math.floor(w)).minute(Math.floor(60*w%60));this.date=F.valueOf()}this.dateChange.emit(this.date),this.updatePeriod()}},10)}}a.\u0275fac=function(){let s;return function(o){return(s||(s=e.n5z(a)))(o||a)}}(),a.\u0275cmp=e.Xpm({type:a,selectors:[["event-timeline"]],viewQuery:function(r,o){if(1&r&&e.Gf(O,5),2&r){let S;e.iGM(S=e.CRH())&&(o.content=S.first)}},inputs:{groups:"groups",date:"date",duration:"duration",can_select:"can_select",klass:"klass"},outputs:{dateChange:"dateChange",durationChange:"durationChange",groupsChange:"groupsChange"},features:[e.qOj,e.TTD],decls:15,vars:10,consts:[[1,"times",3,"mouseup","touchend"],[1,"row","divider"],[1,"header"],[1,"line"],["class","mini-block",4,"ngFor","ngForOf"],[1,"content"],[1,"overlay","row"],[1,"line",3,"mousemove","touchmove"],["overlay",""],["class","mini-block",3,"unavailable","click",4,"ngFor","ngForOf"],["class","current-time",3,"left","top",4,"ngIf"],["class","selected-time",3,"left","top","width","height",4,"ngIf"],["class","row",3,"divider",4,"ngFor","ngForOf"],[1,"mini-block"],["class","time",4,"ngIf"],[1,"time"],[1,"mini-block",3,"click"],[1,"bar"],[1,"current-time"],[1,"selected-time"],[1,"inner",3,"mousedown","touchstart"],[1,"knob","start",3,"mousedown","touchstart"],[1,"knob","end",3,"mousedown","touchstart"],[1,"row"],[1,"text"],["class","icon",3,"click",4,"ngIf"],[1,"icon",3,"click"],[1,"material-icons"],["class","item",3,"width","height",4,"ngFor","ngForOf"],[1,"item"]],template:function(r,o){1&r&&(e.TgZ(0,"div")(1,"div",0),e.NdJ("mouseup",function(){return o.resetMove()},!1,e.Jf7)("touchend",function(){return o.resetMove()},!1,e.Jf7),e.TgZ(2,"div",1),e._UZ(3,"div",2),e.TgZ(4,"div",3),e.YNc(5,E,2,1,"div",4),e.qZA()()(),e.TgZ(6,"div",5)(7,"div",6),e._UZ(8,"div",2),e.TgZ(9,"div",7,8),e.NdJ("mousemove",function(I){return o.move(I)})("touchmove",function(I){return o.move(I)}),e.YNc(11,i,2,6,"div",9),e.YNc(12,f,1,4,"div",10),e.YNc(13,_,4,8,"div",11),e.qZA()(),e.YNc(14,d,7,5,"div",12),e.qZA()()),2&r&&(e.Tol("event-timeline"+(o.klass?" "+o.klass:"")),e.xp6(5),e.Q6J("ngForOf",o.model.blocks||e.DdM(7,c)),e.xp6(6),e.Q6J("ngForOf",o.model.blocks||e.DdM(8,c)),e.xp6(1),e.Q6J("ngIf",o.model.today>0),e.xp6(1),e.Q6J("ngIf",o.can_select),e.xp6(1),e.Q6J("ngForOf",o.model.groups||e.DdM(9,c)))},dependencies:[v.sg,v.O5],styles:["[_nghost-%COMP%]{height:100%;width:100%}.times[_ngcontent-%COMP%]{position:sticky;top:0;left:0;overflow:auto;border:1px solid #ccc}.content[_ngcontent-%COMP%]{position:relative;overflow:auto;border:1px solid #ccc;border-top:none}.content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-top:1px solid #ccc}.content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-child{border-top:none}.content[_ngcontent-%COMP%]   .ovrelay[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{overflow:auto}.row[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;min-width:100%;min-height:2.5em;z-index:0}.row.divider[_ngcontent-%COMP%]{background-color:#f0f0f0;z-index:2}.overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;pointer-events:none;background:none;border:none;z-index:1}.overlay[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]{pointer-events:auto}.overlay[_ngcontent-%COMP%]   .mini-block.unavailable[_ngcontent-%COMP%]{background-color:#0000000d}.overlay[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]:first-child{opacity:0}.overlay[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:100%}.overlay[_ngcontent-%COMP%]   .bar.hour[_ngcontent-%COMP%]{border-left-style:solid}.overlay[_ngcontent-%COMP%]   .bar.divider[_ngcontent-%COMP%]{border-left:1px dashed rgba(0,0,0,.05)}.line[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1;min-width:10em;height:100%;overflow:hidden;pointer-events:none}.time[_ngcontent-%COMP%]{position:absolute;left:0;bottom:.5em;transform:translate(-50%);display:flex;align-items:center;white-space:nowrap}.header[_ngcontent-%COMP%]{position:sticky;display:flex;align-items:center;top:0;left:0;bottom:0;width:10em;border-right:1px solid #ccc;min-height:2.5em}.header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:.5em}.vertical[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;min-width:0;min-height:100%}.vertical[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]{min-height:4px;min-width:2.5em}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]{inset:auto 0;border:none;border-top:2px solid var(--primary);border-bottom:2px solid var(--primary);pointer-events:auto}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{position:absolute;top:0;left:1em;transform:translateY(calc(-50% - 1px));cursor:ns-resize}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]   .knob.end[_ngcontent-%COMP%]{inset:auto 1em 0 auto;transform:translateY(calc(50% + 1px))}.vertical[_ngcontent-%COMP%]   .curent-time[_ngcontent-%COMP%]{inset:auto 0;width:auto;height:2px;background-color:var(--primary)}.mini-block[_ngcontent-%COMP%]{position:relative;min-width:4px;min-height:2.5em;height:100%;flex:1}.item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff;position:absolute;top:0;left:0;bottom:0;background-color:rgba(var(--primary),.54);border:1px solid rgba(255,255,255,.87)}.icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:1.2em;width:1.2em}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:1em;max-width:1em}.selected-time[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;background-color:rgba(var(--primary),.2);border-left:2px solid var(--primary);border-right:2px solid var(--primary);pointer-events:auto}.selected-time[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%;width:100%;cursor:grab}.selected-time[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{position:absolute;top:1em;left:0;height:12px;width:12px;border-radius:100%;background-color:var(--primary);transform:translate(calc(-50% - 1px));box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;cursor:ew-resize}.selected-time[_ngcontent-%COMP%]   .knob.end[_ngcontent-%COMP%]{inset:auto 0 1em auto;transform:translate(calc(50% + 1px))}.current-time[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:2px;background-color:var(--primary-dark)}"]})},6012:(Je,K,t)=>{"use strict";t.d(K,{i:()=>u});var e=t(8368),n=t(6353),y=t(6895),T=t(6581),v=t(5306),O=t(3238),C=t(1532);const E=function(){return["/book","meeting"]},i=function(){return["/book","spaces"]};function f(M,R){if(1&M&&(n.TgZ(0,"a",7)(1,"div",8)(2,"app-icon",9),n._uU(3,"meeting_room"),n.qZA(),n.TgZ(4,"app-icon",10),n._uU(5,"meeting_room"),n.qZA()(),n.TgZ(6,"div",11),n.SDv(7,12),n.qZA()()),2&M){const w=n.oxw(2);n.Q6J("routerLink",w.new_features?n.DdM(1,E):n.DdM(2,i))}}const _=function(){return["/book","newdesk"]},l=function(){return["/book","desks"]};function m(M,R){if(1&M&&(n.TgZ(0,"a",7)(1,"div",8)(2,"app-icon",13),n.O4$(),n.TgZ(3,"svg",14)(4,"defs")(5,"style"),n._uU(6," .cls-1 { fill: currentColor; } "),n.qZA()(),n._UZ(7,"polygon",15),n.qZA()()(),n.kcU(),n.TgZ(8,"div",11),n.SDv(9,16),n.qZA()()),2&M){const w=n.oxw(2);n.Q6J("routerLink",w.new_features?n.DdM(1,_):n.DdM(2,l))}}const h=function(){return["/book","parking"]};function d(M,R){1&M&&(n.TgZ(0,"a",7)(1,"div",8)(2,"app-icon",9),n._uU(3,"directions_car"),n.qZA(),n.TgZ(4,"app-icon",10),n._uU(5,"directions_car"),n.qZA()(),n.TgZ(6,"div",11),n.SDv(7,17),n.qZA()()),2&M&&n.Q6J("routerLink",n.DdM(1,h))}const c=function(){return["/book","visitor"]};function a(M,R){1&M&&(n.TgZ(0,"a",7)(1,"div",8)(2,"app-icon",9),n._uU(3,"person_add"),n.qZA(),n.TgZ(4,"app-icon",10),n._uU(5,"person_add"),n.qZA()(),n.TgZ(6,"div",11),n.SDv(7,18),n.qZA()()),2&M&&n.Q6J("routerLink",n.DdM(1,c))}const s=function(){return["/your-bookings"]},r=function(){return["/schedule"]};function o(M,R){if(1&M&&(n.TgZ(0,"a",7)(1,"div",8)(2,"app-icon",9),n._uU(3,"today"),n.qZA(),n.TgZ(4,"app-icon",10),n._uU(5,"today"),n.qZA()(),n.TgZ(6,"div",11),n.SDv(7,19),n.qZA()()),2&M){const w=n.oxw(2);n.Q6J("routerLink",w.new_features?n.DdM(1,s):n.DdM(2,r))}}function S(M,R){if(1&M){const w=n.EpF();n.TgZ(0,"div",3),n.NdJ("click",function(){n.CHM(w);const B=n.oxw();return n.KtG(B.show_book_items=!1)}),n.TgZ(1,"div",4),n.YNc(2,f,8,3,"a",5),n.YNc(3,m,10,3,"a",5),n.YNc(4,d,8,2,"a",5),n.YNc(5,a,8,2,"a",5),n.YNc(6,o,8,3,"a",6),n.qZA()()}if(2&M){const w=n.oxw();n.uIk("dark",w.dark_mode),n.xp6(2),n.Q6J("ngIf",w.features.includes("spaces")),n.xp6(1),n.Q6J("ngIf",w.features.includes("desks")),n.xp6(1),n.Q6J("ngIf",w.features.includes("parking")),n.xp6(1),n.Q6J("ngIf",w.features.includes("visitor-invite")),n.xp6(1),n.Q6J("ngIf",w.features.includes("schedule"))}}const I=function(M){return[M]},x=function(){return["/explore"]};function P(M,R){if(1&M){const w=n.EpF();n.TgZ(0,"div",20)(1,"a",21)(2,"app-icon",22),n._uU(3,"home"),n.qZA(),n.TgZ(4,"app-icon",23),n._uU(5,"home"),n.qZA(),n.TgZ(6,"span",24),n.SDv(7,25),n.qZA()(),n.TgZ(8,"button",26),n.NdJ("click",function(){n.CHM(w);const B=n.oxw();return n.KtG(B.show_book_items=!B.show_book_items)}),n.TgZ(9,"app-icon",27),n._uU(10),n.qZA()(),n.TgZ(11,"a",21)(12,"app-icon",22),n._uU(13,"place"),n.qZA(),n.TgZ(14,"app-icon",23),n._uU(15,"place"),n.qZA(),n.TgZ(16,"span",24),n.SDv(17,28),n.qZA()(),n.TgZ(18,"div",29),n._UZ(19,"div",30),n.qZA()()}if(2&M){const w=n.oxw();n.uIk("dark",w.dark_mode),n.xp6(1),n.Q6J("routerLink",n.VKq(10,I,w.default_page)),n.xp6(7),n.ekj("bg-primary",w.show_book_items)("text-white",w.show_book_items)("bg-gray-300",!w.show_book_items),n.xp6(2),n.Oqu(w.show_book_items?"close":"add"),n.xp6(1),n.Q6J("routerLink",n.DdM(12,x))}}function g(M,R){1&M&&(n.TgZ(0,"div",20),n._UZ(1,"top-menu"),n.qZA())}class u{constructor(R){this._settings=R,this.show_book_items=!1}get default_page(){return this._settings.get("app.default_route")||"/dashboard"}get features(){return this._settings.get("app.features")||[]}get new_features(){return!!this._settings.get("app.new_features")}get dark_mode(){return!!this._settings.get("dark_mode")}}u.\u0275fac=function(R){return new(R||u)(n.Y36(e.gb))},u.\u0275cmp=n.Xpm({type:u,selectors:[["footer-menu"]],decls:4,vars:3,consts:function(){let M,R,w,F,B,H,$;return M=$localize`:␟a5fe7eda1ba37d634cc5c1dbce2a7bff7eb1dec5␟6490748841654176702:Book Meeting`,R=$localize`:␟59d710613ed33fdb662fd7ee88c4de696e139289␟8276275930819312928:Book Desk`,w=$localize`:␟6e9db23d216950394505312f93b287dde96b0990␟6055616164538866874:Book Car Space`,F=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,B=$localize`:␟cb6378e0658b04a6da5f440c47dbeb7f71584e72␟8703365535684640863:Your Bookings`,H=$localize`:␟92eee6be6de0b11c924e3ab27db30257159c0a7c␟2821179408673282599:Home`,$=$localize`:␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,[["class","fixed z-20 inset-0 bottom-16 bg-black/75 text-white",3,"click",4,"ngIf"],["class","flex items-center justify-center bg-white dark:bg-neutral-700 border-t border-gray-200 dark:border-neutral-500 shadow relative h-16 w-full sm:hidden z-40",4,"ngIf","ngIfElse"],["simple_state",""],[1,"fixed","z-20","inset-0","bottom-16","bg-black/75","text-white",3,"click"],[1,"absolute","inset-x-0","bottom-0","flex","flex-wrap","items-end","justify-center","p-4"],["matRipple","","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 text-base w-1/3  m-2",3,"routerLink",4,"ngIf"],["matRipple","","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","text-base","w-1/3","m-2",3,"routerLink"],[1,"bg-white","rounded-full","h-12","w-12","text-black","text-2xl","flex","items-center","justify-center"],["filled","",1,"text-neutral-500"],["outline","","className","material-icons-outlined"],[1,"text-xs"],M,[1,"text-neutral-500"],["id","Layer_1","data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 26 26",2,"font-size","1em","height","1em"],["points","24.999 7 0.999 7 0.999 9 2.999 9 2.999 22 4.999 22 4.999 12 20.999 12 20.999 22 22.999 22 22.999 9 24.999 9 24.999 7",1,"cls-1"],R,w,F,B,[1,"flex","items-center","justify-center","bg-white","dark:bg-neutral-700","border-t","border-gray-200","dark:border-neutral-500","shadow","relative","h-16","w-full","sm:hidden","z-40"],["matRipple","","routerLinkActive","text-primary active",1,"flex","flex-col","items-center","justify-center","relative","flex-1",3,"routerLink"],["filled","",1,"text-2xl"],["outline","","className","material-icons-outlined",1,"text-2xl","!m-0"],[1,"text-sm"],H,["matRipple","",1,"flex","items-center","justify-center","w-12","h-12","mb-4","rounded-full","z-10","dark:bg-neutral-800",3,"click"],[1,"text-2xl"],$,[1,"overflow-hidden","absolute","top-0","left-1/2","-translate-x-1/2","-translate-y-full","w-24","h-2"],[1,"w-16","h-16","rounded-full","bg-white","dark:bg-neutral-700","shadow","mx-auto","border-t","border-gray-200","dark:border-neutral-500"]]},template:function(R,w){if(1&R&&(n.YNc(0,S,7,6,"div",0),n.YNc(1,P,20,13,"div",1),n.YNc(2,g,2,0,"ng-template",null,2,n.W1O)),2&R){const F=n.MAs(3);n.Q6J("ngIf",w.show_book_items),n.xp6(1),n.Q6J("ngIf",w.features.length>3)("ngIfElse",F)}},dependencies:[y.O5,T.rH,T.Od,v.o,O.wG,C.z],styles:["a.active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--primary)!important}a.active[_ngcontent-%COMP%]{font-weight:500}a[_ngcontent-%COMP%]:not(.active)   [filled][_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]   [outline][_ngcontent-%COMP%]{display:none}"]})},6082:(Je,K,t)=>{"use strict";t.d(K,{v:()=>I});var e=t(8368),n=t(3874),y=t(6353),T=t(6895),v=t(6581),O=t(4006),C=t(5306),E=t(9818),i=t(1343),f=t(3238);const _=["input"];function l(x,P){1&x&&y._UZ(0,"mat-spinner",11),2&x&&y.Q6J("diameter",32)}function m(x,P){1&x&&(y.TgZ(0,"div",12),y.SDv(1,13),y.qZA())}const h=function(){return["/explore"]},d=function(x){return{space:x}},c=function(x){return{user:x}};function a(x,P){if(1&x&&(y.TgZ(0,"a",15)(1,"div",16)(2,"div",17),y._uU(3),y.qZA(),y.TgZ(4,"div",18),y._uU(5),y.qZA()(),y.TgZ(6,"div",19),y._uU(7),y.qZA()()),2&x){const g=P.$implicit;y.Q6J("routerLink",y.DdM(5,h))("queryParams","space"===g.type?y.VKq(6,d,g.id):y.VKq(8,c,g.id)),y.xp6(3),y.hij(" ",g.name," "),y.xp6(2),y.hij(" ",g.description," "),y.xp6(2),y.hij(" ",g.type," ")}}function s(x,P){if(1&x&&(y.ynx(0),y.YNc(1,a,8,10,"a",14),y.ALo(2,"slice"),y.ALo(3,"async"),y.BQk()),2&x){const g=y.oxw();y.xp6(1),y.Q6J("ngForOf",y.Dn7(2,1,y.lcZ(3,5,g.results),0,5))}}function r(x,P){1&x&&(y.TgZ(0,"div",12),y.SDv(1,21),y.qZA())}function o(x,P){if(1&x&&(y.YNc(0,r,2,0,"div",20),y.ALo(1,"async")),2&x){const g=y.oxw();let u;y.Q6J("ngIf",!(null!=(u=y.lcZ(1,1,g.results))&&u.length))}}const S=function(x,P,g,u,M){return{"w-[32rem]":x,"w-px":P,"opacity-100":g,"opacity-0":u,"pointer-events-none":M}};class I extends e.KG{constructor(P){super(),this._service=P,this.results=this._service.search_results,this.loading=this._service.loading,this.show=!1,this.filter_str="",this.setFilter=g=>g instanceof Object?this.filter_str="":this._service.setFilter(g)}showInput(){this.show=!0,this._input_el.nativeElement.focus(),this.clearTimeout("close")}hideInput(){this.timeout("close",()=>this.show=!1)}}I.\u0275fac=function(P){return new(P||I)(y.Y36(n.Pu))},I.\u0275cmp=y.Xpm({type:I,selectors:[["global-search"]],viewQuery:function(P,g){if(1&P&&y.Gf(_,5),2&P){let u;y.iGM(u=y.CRH())&&(g._input_el=u.first)}},features:[y.qOj],decls:18,vars:25,consts:function(){let x,P;return x=$localize`:␟868d77dc4a964d6ed72a5a17df93c700ed77012a␟7546564659170523657: No matches found. `,P=$localize`:␟7a9f8c3d66e397b8bc1a089e3c3a5ed2db5fdb17␟7365185463219571764: Start typing to search... `,[[1,"h-full","w-12","relative"],["mat-icon-button","",1,"text-black","h-10","w-10","rounded-full","bg-gray-200","dark:bg-neutral-800","dark:text-white",3,"click"],[1,"text-2xl"],["search","",1,"flex","items-center","absolute","top-1/2","right-2","-translate-y-1/2","max-w-[calc(100vw-4rem)]","bg-white","shadow","h-12","px-2","text-black","rounded-[24px]","space-x-2","dark:bg-neutral-700","dark:text-white","border-2","border-neutral-600","dark:border-neutral-300","z-50",3,"ngClass","click"],["placeholder","Search for people or spaces...",1,"flex-1","w-1/2","py-2","outline-none",3,"ngModel","ngModelChange","blur"],["input",""],[3,"diameter",4,"ngIf"],["search","",1,"flex","flex-col","items-center","absolute","bottom-0","right-2","translate-y-[calc(100%-1rem)]","max-w-[calc(100vw-4rem)]","bg-white","shadow","text-black","rounded-b","dark:bg-neutral-700","dark:text-white","pt-4","overflow-hidden","border","border-neutral-200","dark:border-neutral-600",3,"ngClass"],["empty","","class","p-4 w-full text-center opacity-60",4,"ngIf","ngIfElse"],[4,"ngIf"],["empty_state",""],[3,"diameter"],["empty","",1,"p-4","w-full","text-center","opacity-60"],x,["matRipple","","class","w-full h-full flex items-center leading-tight p-4 hover:bg-black/5 dark:hover:bg-white/5",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["matRipple","",1,"w-full","h-full","flex","items-center","leading-tight","p-4","hover:bg-black/5","dark:hover:bg-white/5",3,"routerLink","queryParams"],[1,"flex-1","overflow-hidden"],[1,"truncate","w-full"],[1,"text-xs"],[1,"text-xs","font-bold","p-2","capitalize","text-white","bg-gray-500","rounded"],["empty","","class","p-4 w-full text-center opacity-60",4,"ngIf"],P]},template:function(P,g){if(1&P&&(y.TgZ(0,"div",0)(1,"button",1),y.NdJ("click",function(){return g.showInput()}),y.TgZ(2,"app-icon",2),y._uU(3,"search"),y.qZA()(),y.TgZ(4,"div",3),y.NdJ("click",function(){return g.showInput()}),y.TgZ(5,"app-icon",2),y._uU(6,"search"),y.qZA(),y.TgZ(7,"input",4,5),y.NdJ("ngModelChange",function(M){return g.filter_str=M})("ngModelChange",function(M){return g.setFilter(M)})("blur",function(){return g.hideInput()}),y.qZA(),y.YNc(9,l,1,1,"mat-spinner",6),y.ALo(10,"async"),y.qZA(),y.TgZ(11,"div",7),y.YNc(12,m,2,0,"div",8),y.ALo(13,"async"),y.YNc(14,s,4,7,"ng-container",9),y.ALo(15,"async"),y.qZA()(),y.YNc(16,o,2,3,"ng-template",null,10,y.W1O)),2&P){const u=y.MAs(17);let M;y.xp6(4),y.Q6J("ngClass",y.qbA(13,S,g.show,!g.show,g.show,!g.show,!g.show)),y.xp6(3),y.Q6J("ngModel",g.filter_str),y.xp6(2),y.Q6J("ngIf",y.lcZ(10,7,g.loading)),y.xp6(2),y.Q6J("ngClass",y.qbA(19,S,g.show,!g.show,g.show,!g.show,!g.show)),y.xp6(1),y.Q6J("ngIf",!(null!=(M=y.lcZ(13,9,g.results))&&M.length)&&g.filter_str)("ngIfElse",u),y.xp6(2),y.Q6J("ngIf",!y.lcZ(15,11,g.loading)&&g.filter_str)}},dependencies:[T.mk,T.sg,T.O5,v.rH,O.Fj,O.JJ,O.On,C.o,E.eB,i.sN,f.wG,T.Ov,T.OU],styles:["[search][_ngcontent-%COMP%]{transition:width .2s,opacity .2s}"]})},7188:(Je,K,t)=>{"use strict";t.d(K,{o:()=>E});var e=t(8368),n=t(6725),y=t(6353),T=t(6895),v=t(5306),O=t(9818);function C(i,f){if(1&i&&(y.TgZ(0,"a",6)(1,"div",7)(2,"div",8),y._UZ(3,"app-icon",9),y.qZA(),y.TgZ(4,"div",10),y._uU(5),y.qZA()()()),2&i){const _=f.$implicit;y.Q6J("href",_.link,y.LSH),y.xp6(3),y.Q6J("icon",_.icon),y.xp6(2),y.Oqu(_.name)}}class E{constructor(f,_){this._data=f,this._settings=_,this.close=()=>this._data?.close()}get tiles(){return this._settings.get("app.help.tiles")||[]}}E.\u0275fac=function(f){return new(f||E)(y.Y36(n.LE),y.Y36(e.gb))},E.\u0275cmp=y.Xpm({type:E,selectors:[["help-tooltip"]],decls:7,vars:1,consts:function(){let i;return i=$localize`:␟258586f2141d5b6c98ef28c38ac6f55a81a301b2␟7393197899734735120:Help & Support`,[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-white","shadow","relative","-top-12","-right-1","dark:bg-neutral-700","dark:text-white","divide-y","divide-gray-300","dark:divide-neutral-500",3,"click"],[1,"flex","items-center","space-x-2","p-2","border-b","dark:border-neutral-500"],[1,"text-2xl"],[1,""],i,["button","","mat-button","","class","clear w-full text-left h-auto",3,"href",4,"ngFor","ngForOf"],["button","","mat-button","",1,"clear","w-full","text-left","h-auto",3,"href"],[1,"flex","items-center","space-x-2","dark:text-white","py-2"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-gray-200","dark:bg-neutral-800"],[1,"text-xl",3,"icon"],[1,"flex-1"]]},template:function(f,_){1&f&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return _.close()}),y.TgZ(1,"div",1)(2,"app-icon",2),y._uU(3,"arrow_back"),y.qZA(),y.TgZ(4,"div",3),y.SDv(5,4),y.qZA()(),y.YNc(6,C,6,3,"a",5),y.qZA()),2&f&&(y.xp6(6),y.Q6J("ngForOf",_.tiles))},dependencies:[T.sg,v.o,O.Nr],styles:["a[_ngcontent-%COMP%]:not(:last-child){border-bottom-width:1px!important;border-bottom-style:solid!important;border-radius:0}"]})},1814:(Je,K,t)=>{"use strict";t.d(K,{n:()=>E});var e=t(8368),n=t(6725),y=t(6353),T=t(9383),v=t(6895),O=t(5306);function C(i,f){if(1&i){const _=y.EpF();y.TgZ(0,"button",6),y.NdJ("click",function(){const h=y.CHM(_).$implicit,d=y.oxw();return y.KtG(d.setLocale(h.id))}),y._uU(1),y.qZA()}if(2&i){const _=f.$implicit;y.xp6(1),y.AsE(" ",_.name," - ",_.flag," ")}}class E{constructor(f,_,l){this._data=f,this._settings=_,this._translation=l,this.setLocale=m=>{this._translation.use(m),localStorage.setItem("PLACEOS.locale",m)},this.close=()=>this._data?.close()}get locales(){return this._settings.get("app.locales")||[]}}E.\u0275fac=function(f){return new(f||E)(y.Y36(n.LE),y.Y36(e.gb),y.Y36(T.sK))},E.\u0275cmp=y.Xpm({type:E,selectors:[["language-select"]],decls:11,vars:7,consts:[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-white","shadow","relative","-top-12","-right-1","dark:bg-neutral-700","dark:text-white",3,"click"],[1,"flex","items-center","space-x-2","p-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2","p-4"],["class","w-full p-4 border-t border-gray-200 dark:border-neutral-500 text-left",3,"click",4,"ngFor","ngForOf"],[1,"w-full","p-4","border-t","border-gray-200","dark:border-neutral-500","text-left",3,"click"]],template:function(f,_){1&f&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return _.close()}),y.TgZ(1,"div",1)(2,"app-icon",2),y._uU(3,"arrow_back"),y.qZA(),y.TgZ(4,"div",3),y._uU(5),y.ALo(6,"translate"),y.qZA()(),y.TgZ(7,"div",4),y._uU(8),y.ALo(9,"translate"),y.qZA(),y.YNc(10,C,2,2,"button",5),y.qZA()),2&f&&(y.xp6(5),y.Oqu(y.lcZ(6,3,"COMMON.LANGUAGE")),y.xp6(3),y.hij(" ",y.lcZ(9,5,"COMMON.LANGUAGE_SELECT")," "),y.xp6(2),y.Q6J("ngForOf",_.locales))},dependencies:[v.sg,O.o,T.X$]})},8653:(Je,K,t)=>{"use strict";t.d(K,{V:()=>i});var e=t(6725),n=t(6221),y=t(6353),T=t(6895),v=t(4006),O=t(5306),C=t(4454);function E(f,_){if(1&f){const l=y.EpF();y.TgZ(0,"mat-radio-button",8),y.NdJ("click",function(){const d=y.CHM(l).$implicit,c=y.oxw();return y.KtG(c.setRegion(d))}),y._uU(1),y.qZA()}if(2&f){const l=_.$implicit;y.Q6J("value",l.id),y.xp6(1),y.hij(" ",l.display_name||l.name," ")}}class i{constructor(_,l){this._data=_,this._org=l,this.regions=this._org.region_list,this.region=this._org.active_region,this.setRegion=m=>{this._org.region=m,this._data?.close()},this.close=()=>this._data?.close()}}i.\u0275fac=function(_){return new(_||i)(y.Y36(e.LE),y.Y36(n.w7))},i.\u0275cmp=y.Xpm({type:i,selectors:[["region-select"]],decls:14,vars:11,consts:function(){let f;return f=$localize`:␟96e0d9aef9c65611cc8b10821bcbea685574dc59␟3950667667227142601: Select a region `,[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-white","shadow","p-2","relative","-top-12","-right-1","dark:bg-neutral-700","dark:text-white",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],f,[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]]},template:function(_,l){if(1&_&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return l.close()}),y.TgZ(1,"div",1)(2,"app-icon",2),y._uU(3,"arrow_back"),y.qZA(),y.TgZ(4,"div",3),y._uU(5),y.ALo(6,"async"),y.ALo(7,"async"),y.qZA()(),y.TgZ(8,"div",4),y.SDv(9,5),y.qZA(),y.TgZ(10,"mat-radio-group",6),y.ALo(11,"async"),y.YNc(12,E,2,2,"mat-radio-button",7),y.ALo(13,"async"),y.qZA()()),2&_){let m,h;y.xp6(5),y.hij(" ",(null==(m=y.lcZ(6,3,l.region))?null:m.display_name)||(null==(m=y.lcZ(7,5,l.region))?null:m.name)," "),y.xp6(5),y.Q6J("ngModel",null==(h=y.lcZ(11,7,l.region))?null:h.id),y.xp6(2),y.Q6J("ngForOf",y.lcZ(13,9,l.regions))}},dependencies:[T.sg,v.JJ,v.On,O.o,C.OY,C.vy,T.Ov]})},4322:(Je,K,t)=>{"use strict";t.d(K,{v:()=>bn});var e=t(6895),n=t(4006),y=t(4226),T=t(9818),v=t(6581),O=t(6725),C=t(9816),E=t(1299),i=t(5001),f=t(5559),_=t(8455),l=t(9203),m=t(1343),h=t(6289),d=t(9923),c=t(3238),a=t(6255),s=t(74),r=t(3026),o=t(2542),S=t(4454),I=t(1256),x=t(6353);let w=(()=>{class rn{}return rn.\u0275fac=function(Qt){return new(Qt||rn)},rn.\u0275mod=x.oAB({type:rn}),rn.\u0275inj=x.cJS({}),rn})();var F=t(4080);t(7340);let Ye=(()=>{class rn{}return rn.\u0275fac=function(Qt){return new(Qt||rn)},rn.\u0275mod=x.oAB({type:rn}),rn.\u0275inj=x.cJS({imports:[e.ez,c.BQ,w,F.eL]}),rn})();var et=t(2687);let fe=(()=>{class rn{}return rn.\u0275fac=function(Qt){return new(Qt||rn)},rn.\u0275mod=x.oAB({type:rn}),rn.\u0275inj=x.cJS({imports:[et.rt,c.BQ,c.BQ]}),rn})();var Z=t(6066),ee=t(7732),pt=(t(6082),t(4187),t(8368)),Ze=t(1022),ft=t(7303),Dt=t(9697);function At(rn,Yt){1&rn&&(x.TgZ(0,"div")(1,"label",14),x.tHW(2,15),x.TgZ(3,"strong"),x._UZ(4,"span"),x.qZA(),x.N_p(),x.qZA(),x._UZ(5,"a-user-search-field",16),x.qZA())}function Wt(rn,Yt){if(1&rn&&(x.TgZ(0,"div")(1,"div")(2,"label"),x.tHW(3,4),x.TgZ(4,"strong"),x._UZ(5,"span"),x.qZA(),x.N_p(),x.qZA(),x.TgZ(6,"mat-form-field",5),x._UZ(7,"input",6),x.qZA()(),x.YNc(8,At,6,0,"div",1),x.TgZ(9,"div")(10,"label",7),x.tHW(11,8),x.TgZ(12,"strong"),x._UZ(13,"span"),x.qZA(),x.N_p(),x.qZA(),x._UZ(14,"a-time-field",9),x.qZA(),x.TgZ(15,"div",10)(16,"label",11),x.tHW(17,12),x.TgZ(18,"strong"),x._UZ(19,"span"),x.qZA(),x.N_p(),x.qZA(),x._UZ(20,"a-duration-field",13),x.qZA()()),2&rn){const Qt=x.oxw();x.xp6(8),x.Q6J("ngIf",Qt.form.controls.organiser)}}function Et(rn,Yt){1&rn&&x._UZ(0,"input",17)}function nt(rn,Yt){1&rn&&(x.TgZ(0,"div")(1,"label",14),x.tHW(2,18),x.TgZ(3,"strong"),x._UZ(4,"span"),x.qZA(),x.N_p(),x.qZA(),x.TgZ(5,"mat-form-field",5),x._UZ(6,"input",19),x.qZA()())}class ct extends pt.KG{}ct.\u0275fac=function(){let rn;return function(Qt){return(rn||(rn=x.n5z(ct)))(Qt||ct)}}(),ct.\u0275cmp=x.Xpm({type:ct,selectors:[["a-booking-form-modal"]],inputs:{first_form:"first_form",form:"form"},features:[x.qOj],decls:5,vars:5,consts:function(){let rn,Yt,Qt,An,Bn;return rn=$localize`:␟bc048c6e4a50ee32f99e6dde36d0aeddc1b10aa6␟47150407903341827:${"\ufffd#4\ufffd"}:START_TAG_STRONG:Meeting Subject:${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#4\ufffd"}:CLOSE_TAG_STRONG:`,Yt=$localize`:␟ce447fc705bc53e3d42bb15464a2a859a959bf31␟2161658396966958746:${"\ufffd#12\ufffd"}:START_TAG_STRONG:Time:${"\ufffd#13\ufffd"}:START_TAG_SPAN:*${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#12\ufffd"}:CLOSE_TAG_STRONG:`,Qt=$localize`:␟b2094d15f81ed5876830e8af27a79a7dfdfb1674␟8260914583977558664:${"\ufffd#18\ufffd"}:START_TAG_STRONG:Duration:${"\ufffd#19\ufffd"}:START_TAG_SPAN:*${"\ufffd/#19\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#18\ufffd"}:CLOSE_TAG_STRONG:`,An=$localize`:␟3078c53ed5bb3aa6b41718467607a76be54a5594␟2000344151019832903:${"\ufffd#3\ufffd"}:START_TAG_STRONG:Host:${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_STRONG:`,Bn=$localize`:␟3d8cf895dbf823bec6129c8d50a6ffdb3cd16110␟314609108888854870:${"\ufffd#3\ufffd"}:START_TAG_STRONG:Estimated Headcount:${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_STRONG:`,[[1,"booking-form",3,"formGroup"],[4,"ngIf"],[3,"hidden"],["class","notes","matInput","","name","notes","placeholder","Add notes here...","formControlName","notes",4,"ngIf"],rn,["appearance","outline"],["matInput","","name","title","placeholder","Enter here","formControlName","title"],["for","start-time"],Yt,["name","start-time","formControlName","date"],[2,"margin-top","1.5em"],["for","duration"],Qt,["name","duration","formControlName","duration"],["for","organiser"],An,["name","organiser","formControlName","organiser"],["matInput","","name","notes","placeholder","Add notes here...","formControlName","notes",1,"notes"],Bn,["matInput","","name","headcount","placeholder","Expected attendees here..","formControlName","head_count"]]},template:function(Yt,Qt){1&Yt&&(x.TgZ(0,"div",0),x.YNc(1,Wt,21,1,"div",1),x.TgZ(2,"div",2),x.YNc(3,Et,1,0,"input",3),x.YNc(4,nt,7,0,"div",1),x.qZA()()),2&Yt&&(x.Q6J("formGroup",Qt.form),x.xp6(1),x.Q6J("ngIf",Qt.first_form),x.xp6(1),x.Q6J("hidden",Qt.first_form),x.xp6(1),x.Q6J("ngIf",Qt.form.controls.notes),x.xp6(1),x.Q6J("ngIf",Qt.form.controls.head_count))},dependencies:[e.O5,n.Fj,n.JJ,n.JL,n.sg,n.u,_.v_,l.k0,Ze.B,ft.N,Dt.d],styles:[".field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.notes[_ngcontent-%COMP%]{padding-bottom:150px;width:100%;background-color:#d3d3d3;border:solid 1px rgba(black,.5);margin-bottom:50px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t(4038),t(9646),t(1532),t(6012),t(1420),t(7818),t(7188),t(8711),t(9890);var Tt=t(9638),zt=t(2886),cn=t(265),an=t(5361),vn=t(7978),Dn=t(4363);const Tn=["input"];function Pn(rn,Yt){if(1&rn&&x._UZ(0,"img",27),2&rn){const Qt=x.oxw();x.Q6J("src","assets/icons/"+Qt.card_type+".svg",x.LSH)}}function Rn(rn,Yt){if(1&rn&&(x.TgZ(0,"mat-option",28),x._uU(1),x.qZA()),2&rn){const Qt=Yt.$implicit;x.Q6J("value",Qt[0]),x.xp6(1),x.AsE(" ",Qt[1]," (",Qt[0],") ")}}function wt(rn,Yt){if(1&rn&&(x.TgZ(0,"mat-option",28),x._uU(1),x.qZA()),2&rn){const Qt=Yt.$implicit;x.Q6J("value",Qt),x.xp6(1),x.Oqu(Qt)}}const St={card_number:"                ",cardholder:"",cvv:""},_t=new e.uU("en-us","");class Lt extends pt.KG{constructor(){super(...arguments),this.details=new n.cw({card_number:new n.NI(Array(16).fill("X").join()),cardholder:new n.NI(""),exp_month:new n.NI(""),exp_year:new n.NI(""),cvv:new n.NI("",[n.kI.minLength(3),n.kI.maxLength(4)])}),this.disabled=!1,this.months=Array(12).fill(0).map((Yt,Qt)=>[_t.transform((0,an.Z)(Date.now(),Qt),"MM"),_t.transform((0,an.Z)(Date.now(),Qt),"MMM")]),this.years=Array(12).fill(0).map((Yt,Qt)=>_t.transform((0,vn.Z)(Date.now(),Qt),"yyyy")),this.digits=Array(16).fill(0),this._index=0,this.registerOnChange=Yt=>this._onChange=Yt,this.registerOnTouched=Yt=>this._onTouch=Yt,this.setDisabledState=Yt=>this.disabled=Yt}get is_amex(){return(this.details.value?.card_number||"").startsWith("3")}get card_type(){const Yt=this.details.value?.card_number||"";return Yt.startsWith("3")?"amex":Yt.startsWith("4")?"visa":Yt.startsWith("5")?"mastercard":""}get card_display(){let Yt=this.details.value?.card_number||"";return this.card_focused&&(Yt=Yt.substring(0,this._index)+"\u2bd0"+Yt.substring(this._index+1)),this.is_amex?`${Yt.substring(0,4)}-${Yt.substring(4,10)}-${Yt.substring(10)}`:`${Yt.substring(0,4)}-${Yt.substring(4,8)}-${Yt.substring(8,12)}-${Yt.substring(12)}`}get card_focused(){return document.activeElement===this._input_el.nativeElement||document.activeElement===this._input_el.nativeElement.parentElement}ngOnInit(){this.subscription("changes",this.details.valueChanges.subscribe(Yt=>this.timeout("update",()=>this.setValue(this.details.getRawValue()))))}focusInput(){this._input_el.nativeElement.focus(),this._index=this._input_el.nativeElement.selectionStart||0}onInput(Yt){if(!Yt||!this.card_focused)return;const Qt=this._index;if(Qt<0||Qt>16)return;let An=this.details.value.card_number;if((Yt.code.startsWith("Digit")||Yt.code.startsWith("Numpad"))&&Qt<(this.is_amex?15:16))An=An.substring(0,Qt)+Yt.key+An.substring(Qt+1),this.details.patchValue({card_number:An}),this._focusChange(Qt,1);else if("Backspace"===Yt.code&&Qt>0){let Bn=this.details.value.card_number;Bn=Bn.substring(0,Qt)+" "+Bn.substring(Qt+1),this.details.patchValue({card_number:Bn}),this._focusChange(Qt,-1)}else"ArrowLeft"===Yt.code?this._focusChange(Qt,-1):"ArrowRight"===Yt.code&&" "!==An[Qt]&&this._focusChange(Qt,1)}_focusChange(Yt,Qt){this._index=Math.min(16,Math.max(0,Yt+Qt))}setValue(Yt){this._onChange&&this._onChange(Yt)}writeValue(Yt){this.details.patchValue(Yt||St)}}Lt.\u0275fac=function(){let rn;return function(Qt){return(rn||(rn=x.n5z(Lt)))(Qt||Lt)}}(),Lt.\u0275cmp=x.Xpm({type:Lt,selectors:[["card-input-field"]],viewQuery:function(Yt,Qt){if(1&Yt&&x.Gf(Tn,7),2&Yt){let An;x.iGM(An=x.CRH())&&(Qt._input_el=An.first)}},features:[x._Bn([{provide:n.JU,useExisting:(0,x.Gpc)(()=>Lt),multi:!0}]),x.qOj],decls:41,vars:6,consts:function(){let rn,Yt,Qt,An,Bn,Wn,$n;return rn=$localize`:␟c51ae86488666fc691751bf76d88811b37505c00␟1085309836704157602:Card Number`,Yt=$localize`:␟cc927e92ada1f250e8c5ea7884d0b1294be56635␟4148395957159016439:Name on Card`,Qt=$localize`:␟6402e768a1ac6a5f86edf0daccf05b3d9d63f465␟598947732489453783:Cardholder name is required`,An=$localize`:␟48b5a0234304bd29aeaab8f2793b8245517a7102␟7043163776563263056:Expiry Month`,Bn=$localize`:␟28b0c8359cc099ef3dcaddac4c1357d45751ac9d␟1539914853150581191:Expiry month is required`,Wn=$localize`:␟84a41ff903da0de49f3172fef0d0528701065d6e␟6698859483517525075:Expiry year is required`,$n=$localize`:␟11a0ab2762b4af425c3d20aa211a751e4785e04e␟203544573091191988:Invalid security code`,[[3,"formGroup","keyup"],[1,"flex","flex-col"],["for","card-number"],rn,["tabindex","0",1,"border","border-gray-200","p-2","h-12","mb-4","focus-within:shadow","focus-within:border-black","flex","items-center","font-mono","w-full","rounded","relative",3,"focus"],[1,"flex-1"],["type","tel","maxlength","17",1,"hidden","absolute",3,"value","keydown"],["input",""],["class","h-8",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-1"],["for","cardholder"],Yt,["appearance","outline"],["name","cardholder","matInput","","placeholder","Mr John Smith","formControlName","cardholder"],Qt,[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1","w-1/4"],An,["placeholder","MM","formControlName","exp_month"],[3,"value",4,"ngFor","ngForOf"],Bn,["placeholder","YYYY","formControlName","exp_year"],Wn,["for","cvv"],["appearance","outline",1,"w-20"],["name","cvv","matInput","","formControlName","cvv","maxlength","4"],$n,[1,"h-8",3,"src"],[3,"value"]]},template:function(Yt,Qt){1&Yt&&(x.TgZ(0,"form",0),x.NdJ("keyup",function(Bn){return Qt.onInput(Bn)},!1,x.Jf7),x.TgZ(1,"div",1)(2,"label",2),x.SDv(3,3),x.qZA(),x.TgZ(4,"div",4),x.NdJ("focus",function(){return Qt.focusInput()}),x.TgZ(5,"pre",5),x._uU(6),x.qZA(),x.TgZ(7,"input",6,7),x.NdJ("keydown",function(){return!1}),x.qZA(),x.YNc(9,Pn,1,1,"img",8),x.qZA()(),x.TgZ(10,"div",9)(11,"label",10),x.SDv(12,11),x.qZA(),x.TgZ(13,"mat-form-field",12),x._UZ(14,"input",13),x.TgZ(15,"mat-error"),x.SDv(16,14),x.qZA()()(),x.TgZ(17,"div",15)(18,"div",16)(19,"label",10),x.SDv(20,17),x.qZA(),x.TgZ(21,"mat-form-field",12)(22,"mat-select",18),x.YNc(23,Rn,2,3,"mat-option",19),x.qZA(),x.TgZ(24,"mat-error"),x.SDv(25,20),x.qZA()()(),x.TgZ(26,"div",16)(27,"label",10),x._uU(28,"Expiry Year"),x.qZA(),x.TgZ(29,"mat-form-field",12)(30,"mat-select",21),x.YNc(31,wt,2,2,"mat-option",19),x.qZA(),x.TgZ(32,"mat-error"),x.SDv(33,22),x.qZA()()(),x.TgZ(34,"div",1)(35,"label",23),x._uU(36,"CVV"),x.qZA(),x.TgZ(37,"mat-form-field",24),x._UZ(38,"input",25),x.TgZ(39,"mat-error"),x.SDv(40,26),x.qZA()()()()()),2&Yt&&(x.Q6J("formGroup",Qt.details),x.xp6(6),x.Oqu(Qt.card_display),x.xp6(1),x.Q6J("value",null==Qt.details.value.card_number?null:Qt.details.value.card_number.trim()),x.xp6(2),x.Q6J("ngIf",Qt.card_type),x.xp6(14),x.Q6J("ngForOf",Qt.months),x.xp6(8),x.Q6J("ngForOf",Qt.years))},dependencies:[e.sg,e.O5,_.nI,_.v_,l.k0,n._Y,n.Fj,n.JJ,n.JL,n.nD,n.sg,n.u,h.x8,Dn.CK],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}"]});class En{}En.\u0275fac=function(Yt){return new(Yt||En)},En.\u0275mod=x.oAB({type:En}),En.\u0275inj=x.cJS({imports:[e.ez,_.wp,l.x4,f.yj,n.u5,n.UX,T.yu,h.uw,m.UK]}),x.B6R(cn.k,[e.O5,f.aO,n.JJ,n.On,T.eB,m.sN,Lt],[e.Ov,e.H9,e.uU]),t(8871),t(1814),t(8653);const Zt=[T.yu,i.y,f.yj,_.wp,l.x4,m.UK,I.jc,y.D8,h.uw,d.yD,c.si,a.jT,s.Zh,Ye,r.Nn,fe,o.AA,S.Xo,ee.Wd,Z.XF];class bn{}bn.\u0275fac=function(Yt){return new(Yt||bn)},bn.\u0275mod=x.oAB({type:bn}),bn.\u0275inj=x.cJS({imports:[e.ez,v.Bz.forChild([]),n.u5,n.UX,O.Kk,C.W9,E.cn,Tt.EP,zt.YR,En,Zt,O.Kk,C.W9,E.cn,Tt.EP,zt.YR,En,T.yu,i.y,f.yj,_.wp,l.x4,m.UK,I.jc,y.D8,h.uw,d.yD,c.si,a.jT,s.Zh,Ye,r.Nn,fe,o.AA,S.Xo,ee.Wd,Z.XF]})},9890:(Je,K,t)=>{"use strict";t.d(K,{M:()=>c});var e=t(4006),n=t(8368),y=t(6221),T=t(6353),v=t(5559),O=t(6895),C=t(5306),E=t(4363),i=t(8455),f=t(6289),_=t(9818),l=t(9203),m=t(3780);function h(a,s){if(1&a&&(T.TgZ(0,"mat-option",28),T._uU(1),T.qZA()),2&a){const r=s.$implicit;T.Q6J("value",r.display_name||r.name),T.xp6(1),T.hij(" ",r.display_name||r.name," ")}}function d(a,s){1&a&&(T.TgZ(0,"mat-error",29),T.SDv(1,30),T.qZA())}class c{constructor(s,r){this._dialog_ref=s,this._org=r,this.form=new e.cw({name:new e.NI("",[e.kI.required]),email:new e.NI("",[e.kI.required]),location:new e.NI(""),description:new e.NI("",[e.kI.required])}),this.buildings=this._org.building_list}get desc_error(){return!this.form.controls.description.valid&&this.form.controls.description.touched}ngOnInit(){const s=(0,n.ar)();s&&this.form.patchValue({name:s.name,email:s.email}),this._org.building&&this.form.patchValue({location:this._org.building.display_name||this._org.building.name})}submit(){this.form.markAllAsTouched(),this.form.updateValueAndValidity(),this.form.valid&&(this._dialog_ref.close(),(0,n.t5)("Successfully submitted support ticket"))}}c.\u0275fac=function(s){return new(s||c)(T.Y36(v.hV),T.Y36(y.w7))},c.\u0275cmp=T.Xpm({type:c,selectors:[["support-ticket-modal"]],decls:43,vars:5,consts:function(){let a,s,r,o,S,I,x,P,g,u;return a=$localize`:␟b862b54c42ded9ebb47260f60b0f75985c5fab18␟270482714535552546:Raise a support ticket`,s=$localize`:␟84f7804a7a51f1144c5a3fda7b9b881af4212c4a␟5257092898921510014:Name${"\ufffd#12\ufffd"}:START_TAG_SPAN:*${"\ufffd/#12\ufffd"}:CLOSE_TAG_SPAN:`,r=$localize`:␟5b752f143ab30faa45a2679b5e7a28bbf3fb246d␟3833692663709091545:Name is required`,o=$localize`:␟15032ab5f5dcf10cb837008e8ff61acb42e957db␟8600249315708032613:Email${"\ufffd#20\ufffd"}:START_TAG_SPAN:*${"\ufffd/#20\ufffd"}:CLOSE_TAG_SPAN:`,S=$localize`:␟9b2fd2a81342b5821f47ce0e6f2383b1403fd659␟8552587679160911578:Email is required`,I=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,x=$localize`:␟a76481138e28700e7e3c8ecbf53cbfd0fbbbac1e␟6524972135691873889:Issue Description${"\ufffd#35\ufffd"}:START_TAG_SPAN:*${"\ufffd/#35\ufffd"}:CLOSE_TAG_SPAN:`,P=$localize`:␟860180fb81e0877ec8059acbf30938f5d31daede␟2365971609064887430: Completing this form will raise an incident in your support management platform `,g=$localize`:␟71c77bb8cecdf11ec3eead24dd1ba506573fa9cd␟935187492052582731:Submit`,u=$localize`:␟ae855fe6e11d47178c1051e1a3f9e78c5bb7fb4e␟124716140796903078: Description is required `,[[1,"flex","items-center","justify-between"],a,["mat-icon-button","","mat-dialog-close",""],[1,"w-[32rem]","max-w-[100vw]"],[1,"p-2",3,"formGroup"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1"],s,["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],r,o,["matInput","","placeholder","Email","formControlName","email"],S,[1,"flex","flex-col"],I,["appearance","outline",1,"w-full"],["placeholder","Location","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-4"],x,["placeholder","Issue Description","formControlName","description"],["class","text-xs my-2",4,"ngIf"],[1,"italic","text-center","text-xs","mb-2"],P,[1,"p-2","border-t","border-gray-200","flex","items-center","justify-center"],["mat-button","",1,"w-32",3,"click"],g,[3,"value"],[1,"text-xs","my-2"],u]},template:function(s,r){1&s&&(T.TgZ(0,"header",0)(1,"h2"),T.SDv(2,1),T.qZA(),T.TgZ(3,"button",2)(4,"app-icon"),T._uU(5,"close"),T.qZA()()(),T.TgZ(6,"main",3)(7,"form",4)(8,"div",5)(9,"div",6)(10,"label"),T.tHW(11,7),T._UZ(12,"span"),T.N_p(),T.qZA(),T.TgZ(13,"mat-form-field",8),T._UZ(14,"input",9),T.TgZ(15,"mat-error"),T.SDv(16,10),T.qZA()()(),T.TgZ(17,"div",6)(18,"label"),T.tHW(19,11),T._UZ(20,"span"),T.N_p(),T.qZA(),T.TgZ(21,"mat-form-field",8),T._UZ(22,"input",12),T.TgZ(23,"mat-error"),T.SDv(24,13),T.qZA()()()(),T.TgZ(25,"div",14)(26,"label"),T.SDv(27,15),T.qZA(),T.TgZ(28,"mat-form-field",16)(29,"mat-select",17),T.YNc(30,h,2,2,"mat-option",18),T.ALo(31,"async"),T.qZA()()(),T.TgZ(32,"div")(33,"label",19),T.tHW(34,20),T._UZ(35,"span"),T.N_p(),T.qZA(),T._UZ(36,"rich-text-input",21),T.YNc(37,d,2,0,"mat-error",22),T.qZA()(),T.TgZ(38,"div",23),T.SDv(39,24),T.qZA()(),T.TgZ(40,"footer",25)(41,"button",26),T.NdJ("click",function(){return r.submit()}),T.SDv(42,27),T.qZA()()),2&s&&(T.xp6(7),T.Q6J("formGroup",r.form),T.xp6(23),T.Q6J("ngForOf",T.lcZ(31,3,r.buildings)),T.xp6(7),T.Q6J("ngIf",r.desc_error))},dependencies:[O.sg,O.O5,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,C.o,E.CK,i.nI,i.v_,f.x8,_.eB,v.aO,l.k0,m.n,O.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})},1532:(Je,K,t)=>{"use strict";t.d(K,{z:()=>$});var e=t(8368),n=t(6221),y=t(6353),T=t(6581),v=t(6895),O=t(5306),C=t(3238),E=t(2542);function i(j,V){1&j&&(y.TgZ(0,"span",12),y._uU(1,"Home"),y.qZA())}function f(j,V){1&j&&(y.TgZ(0,"span",12),y._uU(1,"Book Room"),y.qZA())}const _=function(){return["/book","meeting"]},l=function(){return["/book","spaces"]};function m(j,V){if(1&j&&(y.TgZ(0,"a",13)(1,"app-icon",2),y._uU(2,"meeting_room"),y.qZA(),y.TgZ(3,"app-icon",3),y._uU(4,"meeting_room"),y.qZA(),y.YNc(5,f,2,0,"span",4),y._UZ(6,"div",5),y.qZA()),2&j){const Q=y.oxw();y.Q6J("routerLink",Q.new_features?y.DdM(2,_):y.DdM(3,l)),y.xp6(5),y.Q6J("ngIf",Q.show_text)}}function h(j,V){1&j&&(y.O4$(),y.kcU(),y.TgZ(0,"span",12),y.SDv(1,17),y.qZA())}const d=function(){return["/book","newdesk"]},c=function(){return["/book","desks"]};function a(j,V){if(1&j&&(y.TgZ(0,"a",14)(1,"div"),y.O4$(),y.TgZ(2,"svg",15),y._UZ(3,"path",16),y.qZA()(),y.YNc(4,h,2,0,"span",4),y.kcU(),y._UZ(5,"div",5),y.qZA()),2&j){const Q=y.oxw();y.Q6J("routerLink",Q.new_features?y.DdM(2,d):y.DdM(3,c)),y.xp6(4),y.Q6J("ngIf",Q.show_text)}}function s(j,V){1&j&&(y.TgZ(0,"span",12),y.SDv(1,19),y.qZA())}const r=function(){return["/book","new-parking"]},o=function(){return["/book","parking"]};function S(j,V){if(1&j&&(y.TgZ(0,"a",18)(1,"app-icon",2),y._uU(2,"directions_car"),y.qZA(),y.TgZ(3,"app-icon",3),y._uU(4,"directions_car"),y.qZA(),y.YNc(5,s,2,0,"span",4),y._UZ(6,"div",5),y.qZA()),2&j){const Q=y.oxw();y.Q6J("routerLink",Q.new_features?y.DdM(2,r):y.DdM(3,o)),y.xp6(5),y.Q6J("ngIf",Q.show_text)}}function I(j,V){1&j&&(y.TgZ(0,"span",12),y.SDv(1,21),y.qZA())}const x=function(){return["/book","visitor"]};function P(j,V){if(1&j&&(y.TgZ(0,"a",20)(1,"app-icon",2),y._uU(2,"person_add"),y.qZA(),y.TgZ(3,"app-icon",3),y._uU(4,"person_add"),y.qZA(),y.YNc(5,I,2,0,"span",4),y._UZ(6,"div",5),y.qZA()),2&j){const Q=y.oxw();y.Q6J("routerLink",y.DdM(2,x)),y.xp6(5),y.Q6J("ngIf",Q.show_text)}}function g(j,V){1&j&&(y.TgZ(0,"span",12),y.SDv(1,23),y.qZA())}const u=function(){return["/explore"]};function M(j,V){if(1&j&&(y.TgZ(0,"a",22)(1,"app-icon",2),y._uU(2,"place"),y.qZA(),y.TgZ(3,"app-icon",3),y._uU(4,"place"),y.qZA(),y.YNc(5,g,2,0,"span",4),y._UZ(6,"div",5),y.qZA()),2&j){const Q=y.oxw();y.Q6J("routerLink",y.DdM(2,u)),y.xp6(5),y.Q6J("ngIf",Q.show_text)}}function R(j,V){1&j&&(y.TgZ(0,"span",12),y.SDv(1,25),y.qZA())}const w=function(){return["/your-bookings"]},F=function(){return["/schedule"]};function B(j,V){if(1&j&&(y.TgZ(0,"a",24)(1,"app-icon",2),y._uU(2,"event"),y.qZA(),y.TgZ(3,"app-icon",3),y._uU(4,"event"),y.qZA(),y.YNc(5,R,2,0,"span",4),y._UZ(6,"div",5),y.qZA()),2&j){const Q=y.oxw();y.Q6J("routerLink",Q.new_features?y.DdM(2,w):y.DdM(3,F)),y.xp6(5),y.Q6J("ngIf",Q.show_text)}}const H=function(j){return[j]};class ${constructor(V,Q,ie){this._settings=V,this._org=Q,this._router=ie,this.buildings=this._org.building_list,this.building=this._org.active_building,this.setBuilding=ye=>this._org.building=ye}get show_text(){return this.features.length<=5}get features(){return this._settings.get("app.features")||[]}get default_page(){return this._settings.get("app.default_route")||"/dashboard"}get new_features(){return!!this._settings.get("app.new_features")}get type(){const V=this._router.url;return V.includes("dashboard")?"home":V.includes("book/spaces")?"spaces":V.includes("book/desks")?"desks":V.includes("book/parking")?"parking":V.includes("explore")?"explore":V.includes("schedule")?"schedule":""}}$.\u0275fac=function(V){return new(V||$)(y.Y36(e.gb),y.Y36(n.w7),y.Y36(T.F0))},$.\u0275cmp=y.Xpm({type:$,selectors:[["top-menu"]],decls:14,vars:10,consts:function(){let j,V,Q,ie,ye;return j=$localize`:␟59d710613ed33fdb662fd7ee88c4de696e139289␟8276275930819312928:Book Desk`,V=$localize`:␟6e9db23d216950394505312f93b287dde96b0990␟6055616164538866874:Book Car Space`,Q=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,ie=$localize`:␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,ye=$localize`:␟cb6378e0658b04a6da5f440c47dbeb7f71584e72␟8703365535684640863:Your Bookings`,[["menu","",1,"flex","items-center","justify-center","h-full","w-full","overflow-hidden"],["matRipple","","routerLinkActive","text-primary active","matTooltip","Home","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],["filled","",1,"text-xl"],["outline","","className","material-icons-outlined",1,"text-xl","!m-0"],["class","truncate hidden xl:block",4,"ngIf"],["bar","",1,"absolute","bottom-0","inset-x-0","h-0.5","bg-primary"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-primary active","matTooltip","Book Room","matTooltipPosition","below",3,"routerLink",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-primary active","matTooltip","Book Desk","matTooltipPosition","below",3,"routerLink",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-primary active","matTooltip","Book Car Space","matTooltipPosition","below",3,"routerLink",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-primary active","matTooltip","Invite Visitor","matTooltipPosition","below",3,"routerLink",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-primary active","matTooltip","Spaces","matTooltipPosition","below",3,"routerLink",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-primary active","matTooltip","Your Bookings","matTooltipPosition","below",3,"routerLink",4,"ngIf"],[1,"truncate","hidden","xl:block"],["matRipple","","routerLinkActive","text-primary active","matTooltip","Book Room","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],["matRipple","","routerLinkActive","text-primary active","matTooltip","Book Desk","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","22.106","height","15.251","viewBox","0 0 22.106 15.251"],["id","Desk_Name","d","M21.809,82.031l-4.434-4.292a.85.85,0,0,0-.6-.239H5.246a.878.878,0,0,0-.6.239L.22,82.031a.838.838,0,0,0-.194.924.854.854,0,0,0,.791.526H2.293V91.9A.853.853,0,0,0,4,91.9V83.485H5.224v3.444a.853.853,0,0,0,1.706,0V83.485h8.178v3.444a.853.853,0,0,0,1.706,0V83.485h1.224V91.9a.853.853,0,0,0,1.706,0V83.485h1.476a.858.858,0,0,0,.791-.526A.874.874,0,0,0,21.809,82.031ZM5.595,79.193H16.434l2.683,2.6H2.912Z","transform","translate(0.038 -77.5)","fill","currentColor"],j,["matRipple","","routerLinkActive","text-primary active","matTooltip","Book Car Space","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],V,["matRipple","","routerLinkActive","text-primary active","matTooltip","Invite Visitor","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],Q,["matRipple","","routerLinkActive","text-primary active","matTooltip","Spaces","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],ie,["matRipple","","routerLinkActive","text-primary active","matTooltip","Your Bookings","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"routerLink"],ye]},template:function(V,Q){1&V&&(y.TgZ(0,"div",0)(1,"a",1)(2,"app-icon",2),y._uU(3,"home"),y.qZA(),y.TgZ(4,"app-icon",3),y._uU(5,"home"),y.qZA(),y.YNc(6,i,2,0,"span",4),y._UZ(7,"div",5),y.qZA(),y.YNc(8,m,7,4,"a",6),y.YNc(9,a,6,4,"a",7),y.YNc(10,S,7,4,"a",8),y.YNc(11,P,7,3,"a",9),y.YNc(12,M,7,3,"a",10),y.YNc(13,B,7,4,"a",11),y.qZA()),2&V&&(y.xp6(1),y.Q6J("routerLink",y.VKq(8,H,Q.default_page)),y.xp6(5),y.Q6J("ngIf",Q.show_text),y.xp6(2),y.Q6J("ngIf",Q.features.includes("spaces")),y.xp6(1),y.Q6J("ngIf",Q.features.includes("desks")),y.xp6(1),y.Q6J("ngIf",Q.features.includes("parking")),y.xp6(1),y.Q6J("ngIf",Q.features.includes("visitor-invite")),y.xp6(1),y.Q6J("ngIf",Q.features.includes("explore")),y.xp6(1),y.Q6J("ngIf",Q.features.includes("schedule")))},dependencies:[v.O5,T.rH,T.Od,O.o,C.wG,E.Kd],styles:["[menu][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:3.5rem;flex-shrink:1}[bar][_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%] > [bar][_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]:not(.active) > [filled][_ngcontent-%COMP%], a.active[_ngcontent-%COMP%] > [outline][_ngcontent-%COMP%]{display:none}"]})},4187:(Je,K,t)=>{"use strict";t.d(K,{o:()=>S});var e=t(8368),n=t(1420),y=t(6353),T=t(6895),v=t(6581),O=t(5306),C=t(3970),E=t(6255),i=t(3238),f=t(6082),_=t(1532);function l(I,x){if(1&I&&y._UZ(0,"img",11),2&I){const P=y.oxw();y.ekj("dark:hidden",P.title),y.Q6J("src",P.logo_dark.src,y.LSH)}}function m(I,x){if(1&I&&y._UZ(0,"img",12),2&I){const P=y.oxw();y.ekj("hidden",P.title),y.Q6J("src",P.logo.src,y.LSH)}}function h(I,x){if(1&I&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&I){const P=y.oxw();y.xp6(1),y.Oqu(P.title)}}function d(I,x){1&I&&y._UZ(0,"global-search")}const c=function(){return["/your-bookings"]},a=function(){return["/schedule"]};function s(I,x){if(1&I&&(y.TgZ(0,"button",13)(1,"div",14)(2,"app-icon",15),y._uU(3,"event"),y.qZA(),y.TgZ(4,"div"),y.SDv(5,16),y.qZA()()()),2&I){const P=y.oxw();y.Q6J("routerLink",P.new_features?y.DdM(1,c):y.DdM(2,a))}}const r=function(){return["/-"]},o=[];class S{constructor(x){this._settings=x,this.user_controls=n.k}get logo(){return this._settings.get("app.logo_light")}get logo_dark(){return this._settings.get("app.logo_dark")}get title(){return this._settings.value("page_title")}get search(){return!1!==this._settings.get("app.general.search")}get new_features(){return!!this._settings.get("app.new_features")}get user(){return(0,e.ar)()}get features(){return this._settings.get("app.features")||o}}S.\u0275fac=function(x){return new(x||S)(y.Y36(e.gb))},S.\u0275cmp=y.Xpm({type:S,selectors:[["topbar"]],decls:15,vars:8,consts:function(){let I;return I=$localize`:␟4e733970f3650862fe68ed9f67e1a00a682aa6e2␟3065103332695605390:My Day`,[["topbar","",1,"flex","items-center","justify-between","h-[3.5rem]","bg-white","border-b","border-gray-200","dark:border-neutral-700","text-black","z-50","shadow","relative","dark:bg-[#1F2021]","dark:text-white"],["logo","",1,"p-2","h-full","flex","items-center","flex-1",3,"routerLink"],["class","h-10 hidden dark:block sm:dark:block",3,"dark:hidden","src",4,"ngIf"],["class","h-10 dark:hidden sm:block",3,"hidden","src",4,"ngIf"],[4,"ngIf"],[1,"flex-3","items-center","justify-center","h-full","w-1/2","hidden","sm:flex"],[1,"flex-1","flex","items-center","justify-end"],["matRipple","","avatar","","customTooltip","",1,"h-10","w-10","rounded-full","mr-2","bg-gray-200","dark:bg-neutral-800","flex","items-center","justify-center",3,"content"],[1,"text-2xl"],["menu","matMenu"],["mat-menu-item","","routerLinkActive","text-primary",3,"routerLink",4,"ngIf"],[1,"h-10","hidden","dark:block","sm:dark:block",3,"src"],[1,"h-10","dark:hidden","sm:block",3,"src"],["mat-menu-item","","routerLinkActive","text-primary",3,"routerLink"],[1,"flex","items-center","space-x-2"],[1,"text-xl"],I]},template:function(x,P){1&x&&(y.TgZ(0,"div",0)(1,"a",1),y.YNc(2,l,1,3,"img",2),y.YNc(3,m,1,3,"img",3),y.YNc(4,h,2,1,"span",4),y.qZA(),y.TgZ(5,"div",5),y._UZ(6,"top-menu"),y.qZA(),y.TgZ(7,"div",6),y.YNc(8,d,1,0,"global-search",4),y.TgZ(9,"button",7)(10,"app-icon",8),y._uU(11,"person"),y.qZA()()()(),y.TgZ(12,"mat-menu",null,9),y.YNc(14,s,6,3,"button",10),y.qZA()),2&x&&(y.xp6(1),y.Q6J("routerLink",y.DdM(7,r)),y.xp6(1),y.Q6J("ngIf",P.logo_dark),y.xp6(1),y.Q6J("ngIf",P.logo),y.xp6(1),y.Q6J("ngIf",P.title),y.xp6(4),y.Q6J("ngIf",P.search),y.xp6(1),y.Q6J("content",P.user_controls),y.xp6(5),y.Q6J("ngIf",null==P.features?null:P.features.includes("schedule")))},dependencies:[T.O5,v.rH,v.Od,O.o,C.X,E.W0,E.tN,i.wG,f.v,_.z],styles:[".flex-3[_ngcontent-%COMP%]{flex:3 3 0%}"]})},1420:(Je,K,t)=>{"use strict";t.d(K,{k:()=>u});var e=t(9671),n=t(8368),y=t(6725),T=t(6221),v=t(4351),O=t(5236),C=t(8711),E=t(7818),i=t(7188),f=t(1814),_=t(8653),l=t(9890),m=t(6353),h=t(5559),d=t(6895),c=t(5306),a=t(9685),s=t(3970),r=t(9818),o=t(2542),S=t(9383);function I(M,R){if(1&M&&(m.TgZ(0,"div",6)(1,"button",7)(2,"div",8)(3,"div",9)(4,"app-icon"),m._uU(5,"layers"),m.qZA()(),m.TgZ(6,"div",10),m._uU(7),m.ALo(8,"async"),m.ALo(9,"async"),m.qZA(),m.TgZ(10,"app-icon",11),m._uU(11," chevron_right "),m.qZA()()()()),2&M){const w=m.oxw();let F;m.Q6J("content",w.region_select),m.xp6(7),m.hij(" ",(null==(F=m.lcZ(8,2,w.region))?null:F.display_name)||(null==(F=m.lcZ(9,4,w.region))?null:F.name)," ")}}function x(M,R){if(1&M&&(m.TgZ(0,"div",14)(1,"button",7)(2,"div",8)(3,"div",9)(4,"app-icon"),m._uU(5,"help"),m.qZA()(),m.TgZ(6,"div",10),m.SDv(7,25),m.qZA(),m.TgZ(8,"app-icon",11),m._uU(9,"chevron_right"),m.qZA()()()()),2&M){const w=m.oxw();m.Q6J("content",w.help_tooltip)}}function P(M,R){if(1&M){const w=m.EpF();m.TgZ(0,"div")(1,"button",17),m.NdJ("click",function(){m.CHM(w);const B=m.oxw();return m.KtG(B.openWfhModal())}),m.TgZ(2,"div",8)(3,"div",9)(4,"app-icon"),m._uU(5,"share_location"),m.qZA()(),m.TgZ(6,"div",10),m.SDv(7,26),m.qZA(),m.TgZ(8,"app-icon",11),m._uU(9,"chevron_right"),m.qZA()()()()}}function g(M,R){if(1&M&&(m.TgZ(0,"div",27)(1,"button",7)(2,"div",8)(3,"div",9)(4,"app-icon"),m._uU(5,"mode_night"),m.qZA()(),m.TgZ(6,"div",10),m.SDv(7,28),m.ALo(8,"translate"),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"app-icon",11),m._uU(11,"chevron_right"),m.qZA()()()()),2&M){const w=m.oxw();m.Q6J("content",w.language_tooltip),m.xp6(9),m.pQV(m.lcZ(8,3,"COMMON.LANGUAGE_LABEL"))(m.lcZ(9,5,"COMMON.LANGUAGE")),m.QtT(7)}}class u{constructor(R,w,F){this._settings=R,this._org=w,this._dialog=F,this.building=this._org.active_building,this.region=this._org.active_region,this.regions=this._org.region_list,this.region_select=_.V,this.building_select=E.s,this.help_tooltip=i.o,this.accessibility_tooltip=C.o,this.language_tooltip=f.n}get user(){return(0,n.ar)()}get groups(){return this.user.groups.join("\n")}get version(){return n.q4}get features(){return this._settings.get("app.features")||[]}get locales(){return this._settings.get("app.locales")||[]}logout(){(0,v.kSL)(),location.href="/logout"}openSupportTicketModal(){this._dialog.open(l.M)}openWfhModal(){this._dialog.open(O.J)}viewChangelog(){var R=this;return(0,e.Z)(function*(){const w=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();R._dialog.open(y.nI,{data:{changelog:w}})})()}}u.\u0275fac=function(R){return new(R||u)(m.Y36(n.gb),m.Y36(T.w7),m.Y36(h.on))},u.\u0275cmp=m.Xpm({type:u,selectors:[["user-controls"]],decls:53,vars:28,consts:function(){let M,R,w,F,B,H,$;return M=$localize`:␟d22b673a92b43eabbdebd80b1539a553703c84f6␟6572705143012462182:Display & Accessibility`,R=$localize`:␟b862b54c42ded9ebb47260f60b0f75985c5fab18␟270482714535552546:Raise a support ticket`,w=$localize`:␟de21fde115b878ab3229aa59f4b17e6135948643␟1170408430566646699: Sign Out `,F=$localize`:␟0b1694897c27c2a5bbdf582a7f7d2bac898f3505␟6267525301152196009:Version: `,B=$localize`:␟258586f2141d5b6c98ef28c38ac6f55a81a301b2␟7393197899734735120:Help & Support`,H=$localize`:␟e97c857b4582bee9a86c573ca8e2e17150ae003a␟6974851687339955511:Work Location Settings`,$=$localize`:␟5a0db2e7be57ba081264f141f3ee4a8b683f1f6e␟6210988327734808594: ${"\ufffd0\ufffd"}:INTERPOLATION:: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"rounded","bg-white","dark:bg-neutral-700","dark:text-white","shadow","mt-1","flex","flex-col","relative","divide-y","divide-gray-300","dark:divide-neutral-500"],["avatar","",1,"flex","flex-col","items-center","p-2","w-[18rem]"],[1,"text-2xl",3,"user","matTooltip"],[1,""],[1,"text-xs","opacity-60","truncate"],["customTooltip","","class","relative",3,"content",4,"ngIf"],["customTooltip","",1,"relative",3,"content"],["mat-button","",1,"clear","w-full","text-left","h-[3.5rem]"],[1,"flex","items-center","space-x-2","dark:text-white"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-gray-200","dark:bg-neutral-800"],[1,"flex-1"],[1,"opacity-60","text-2xl"],["customTooltip","",3,"content",4,"ngIf"],[4,"ngIf"],["customTooltip","",3,"content"],M,["customTooltip","","class","!border-b",3,"content",4,"ngIf"],["mat-button","",1,"clear","w-full","text-left","h-[3.5rem]",3,"click"],R,[1,"flex","flex-col","items-center","p-4"],["mat-button","",1,"inverse","mb-4",3,"click"],w,[1,"text-xs","opacity-60","w-full"],F,[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],B,H,["customTooltip","",1,"!border-b",3,"content"],$]},template:function(R,w){if(1&R&&(m.TgZ(0,"div",0)(1,"div",1),m._UZ(2,"a-user-avatar",2),m.TgZ(3,"div",3),m._uU(4),m.qZA(),m.TgZ(5,"div",4),m._uU(6),m.qZA()(),m.YNc(7,I,12,6,"div",5),m.ALo(8,"async"),m.TgZ(9,"div",6)(10,"button",7)(11,"div",8)(12,"div",9)(13,"app-icon"),m._uU(14,"business"),m.qZA()(),m.TgZ(15,"div",10),m._uU(16),m.ALo(17,"async"),m.ALo(18,"async"),m.qZA(),m.TgZ(19,"app-icon",11),m._uU(20," chevron_right "),m.qZA()()()(),m.YNc(21,x,10,1,"div",12),m.YNc(22,P,10,0,"div",13),m.TgZ(23,"div",14)(24,"button",7)(25,"div",8)(26,"div",9)(27,"app-icon"),m._uU(28,"mode_night"),m.qZA()(),m.TgZ(29,"div",10),m.SDv(30,15),m.qZA(),m.TgZ(31,"app-icon",11),m._uU(32,"chevron_right"),m.qZA()()()(),m.YNc(33,g,12,7,"div",16),m.TgZ(34,"button",17),m.NdJ("click",function(){return w.openSupportTicketModal()}),m.TgZ(35,"div",8)(36,"div",9)(37,"app-icon"),m._uU(38,"support_agent"),m.qZA()(),m.TgZ(39,"div",10),m.SDv(40,18),m.qZA()()(),m.TgZ(41,"div",19)(42,"button",20),m.NdJ("click",function(){return w.logout()}),m.SDv(43,21),m.qZA(),m.TgZ(44,"div",22),m.ynx(45),m.SDv(46,23),m.BQk(),m.TgZ(47,"button",24),m.NdJ("click",function(){return w.viewChangelog()}),m._uU(48),m.qZA()(),m.TgZ(49,"div",22),m._uU(50),m.ALo(51,"date"),m.ALo(52,"date"),m.qZA()()()),2&R){let F;m.xp6(2),m.Q6J("user",w.user)("matTooltip",w.groups),m.xp6(2),m.Oqu(null==w.user?null:w.user.name),m.xp6(2),m.Oqu(null==w.user?null:w.user.email),m.xp6(1),m.Q6J("ngIf",m.lcZ(8,16,w.regions).length),m.xp6(2),m.Q6J("content",w.building_select),m.xp6(7),m.hij(" ",(null==(F=m.lcZ(17,18,w.building))?null:F.display_name)||(null==(F=m.lcZ(18,20,w.building))?null:F.name)," "),m.xp6(5),m.Q6J("ngIf",w.features.includes("help")),m.xp6(1),m.Q6J("ngIf",w.features.includes("wfh")),m.xp6(1),m.ekj("!border-b",!(null!=w.locales&&w.locales.length)),m.Q6J("content",w.accessibility_tooltip),m.xp6(10),m.Q6J("ngIf",null==w.locales?null:w.locales.length),m.xp6(15),m.hij(" ",w.version.hash," "),m.xp6(2),m.AsE(" ",m.xi3(51,22,w.version.time,"longDate")," (",m.xi3(52,25,w.version.time,"shortTime"),") ")}},dependencies:[d.O5,c.o,a.k,s.X,r.eB,o.Kd,d.Ov,d.uU,S.X$]})},9646:(Je,K,t)=>{"use strict";t.d(K,{T:()=>l});var e=t(6353),n=t(9833),y=t(8368),T=t(1764),O=t(6895);const C=["block"],E=["time"];function i(m,h){if(1&m&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&m){const d=e.oxw().$implicit;e.xp6(1),e.Oqu(d.display)}}function f(m,h){if(1&m&&(e.TgZ(0,"div",12),e.YNc(1,i,2,1,"div",13),e.qZA()),2&m){const d=h.$implicit;e.xp6(1),e.Q6J("ngIf",d.hour)}}function _(m,h){if(1&m&&e._UZ(0,"div",12),2&m){const d=h.$implicit;e.ekj("shown-block",d.show)("hour",d.hour)("disabled",d.disabled)("unavailable",d.unavailable)}}class l extends y.KG{constructor(){super(...arguments),this.offset={x:0,y:0},this.dateChange=new e.vpe,this.durationChange=new e.vpe,this.groupsChange=new e.vpe}ngOnInit(){this.generateBlocks()}ngOnChanges(h){h.groups&&this.checkInUseBlocks(),(h.date||h.duration)&&this.updateStartEnd()}get timeline_start(){return T(this.date).startOf("d")}get timeline_end(){return T(this.date).endOf("d")}generateBlocks(){this.blocks=[];const h=this.timeline_start,d=this.timeline_end,c=T();for(let a=h;a.isBefore(d,"m");a=a.add(5,"m"))this.blocks.push({id:a.format("HH:mm"),display:a.format("HH:mm"),hour:0===a.minute(),show:a.minute()%30==0,disabled:a.isBefore(c,"m")});this.checkInUseBlocks()}get display(){const h=T(this.date),d=T(this.date).add(this.duration,"m"),c=(0,n.Z)({minutes:this.duration});return`${h.format("hh:mm A")} - ${d.format("hh:mm A")} (${c})`}move(h){this.timeout("move",()=>{if(this.active_move&&this.block){const d={x:h.touches&&h.touches.length>0&&h.touches[0].clientX||h.clientX,y:h.touches&&h.touches.length>0&&h.touches[0].clientY||h.clientY},c="bottom"===this.active_move?{x:0,y:0}:this.offset,a=this.block.nativeElement.getBoundingClientRect(),o=(d.y-c.y-a.top)/a.height,S=this.timeline_start.hour()+this.timeline_start.minute()/60,x=this.timeline_end.hour()+this.timeline_end.minute()/60-S,P=15,g=Math.ceil((x*o+S)*(60/P))/(60/P);if("bottom"===this.active_move){let u=T(this.date);const M=T(this.date).hour(Math.floor(g)).minute(Math.floor(60*g%60));if(M.isSame(u,"m")||M.isBefore(u,"m"))u=T(M).add(-this.duration,"m"),this.date=u.valueOf();else{const R=Math.floor(M.diff(u,"m"));this.duration=Math.max(60,R||P),this.durationChange.emit(this.duration)}}else if("top"===this.active_move){const u=T(this.date).hour(Math.floor(g)).minute(Math.floor(60*g%60));this.date=u.valueOf()}this.dateChange.emit(this.date),this.updateStartEnd()}},10)}setMove(h){this.active_move=h}checkInUseBlocks(){if(!this.blocks||!this.groups)return;const h=this.blocks.map(d=>({...d,unavailable:!1}));for(const d of this.groups)for(const c of d.events||[]){const a=this.hoursToDate(c.start),s=T(a).add(c.duration,"m");for(let r=T(a);r.isBefore(s);r=r.add(5,"m")){const o=r.format("HH:mm"),S=h.find(I=>I.id===o);S&&(S.unavailable=!0)}}this.blocks=h}hoursToDate(h){let d=T().startOf("d").hour(Math.floor(h)).minute(Math.floor(60*h%60));return d=d.minute(5*Math.floor(d.minute()/5)),d}updateStartEnd(){this.updatePeriod()}resetMove(){this.active_move=""}updatePeriod(){const h=T(this.date).startOf("m"),d=this.timeline_end.diff(this.timeline_start,"m")/60;this.active_start=h.diff(this.timeline_start,"m")/60/d,this.active_length=this.duration/60/d}}l.\u0275fac=function(){let m;return function(d){return(m||(m=e.n5z(l)))(d||l)}}(),l.\u0275cmp=e.Xpm({type:l,selectors:[["vertical-timeline"]],viewQuery:function(h,d){if(1&h&&(e.Gf(C,5),e.Gf(E,5)),2&h){let c;e.iGM(c=e.CRH())&&(d.block=c.first),e.iGM(c=e.CRH())&&(d.time=c.first)}},inputs:{date:"date",duration:"duration",groups:"groups"},outputs:{dateChange:"dateChange",durationChange:"durationChange",groupsChange:"groupsChange"},features:[e.qOj,e.TTD],decls:13,vars:7,consts:[[1,"timeline",3,"mouseup","touchend"],[1,"content",3,"mousemove","touchmove"],[1,"timeblocks"],["class","blk",4,"ngFor","ngForOf"],[1,"eventblocks"],["block",""],["class","blk",3,"shown-block","hour","disabled","unavailable",4,"ngFor","ngForOf"],[1,"selected-time"],["time",""],[1,"inner",3,"mousedown","touchstart"],[1,"handle","top",3,"mousedown","touchstart"],[1,"handle","bottom",3,"mousedown","touchstart"],[1,"blk"],["class","text",4,"ngIf"],[1,"text"]],template:function(h,d){1&h&&(e.TgZ(0,"div",0),e.NdJ("mouseup",function(){return d.resetMove()},!1,e.Jf7)("touchend",function(){return d.resetMove()},!1,e.Jf7),e.TgZ(1,"div",1),e.NdJ("mousemove",function(a){return d.move(a)})("touchmove",function(a){return d.move(a)}),e.TgZ(2,"div",2),e.YNc(3,f,2,1,"div",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,_,1,8,"div",6),e.TgZ(7,"div",7,8)(9,"div",9),e.NdJ("mousedown",function(){return d.setMove("top")})("touchstart",function(){return d.setMove("top")}),e._uU(10),e.qZA(),e.TgZ(11,"div",10),e.NdJ("mousedown",function(){return d.setMove("top")})("touchstart",function(){return d.setMove("top")}),e.qZA(),e.TgZ(12,"div",11),e.NdJ("mousedown",function(){return d.setMove("bottom")})("touchstart",function(){return d.setMove("bottom")}),e.qZA()()()()()),2&h&&(e.xp6(3),e.Q6J("ngForOf",d.blocks),e.xp6(3),e.Q6J("ngForOf",d.blocks),e.xp6(1),e.Udp("top",100*d.active_start+"%")("height",100*d.active_length+"%"),e.xp6(3),e.hij(" ",d.display," "))},dependencies:[O.sg,O.O5],styles:[".timeline[_ngcontent-%COMP%]{position:relative;width:100%;padding:1em;display:flex;align-items:center;justify-content:center;overflow:auto}.timeline[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;margin:auto;width:100%}.timeblocks[_ngcontent-%COMP%], .eventblocks[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.timeblocks[_ngcontent-%COMP%]{width:3em}.eventblocks[_ngcontent-%COMP%]{position:relative;flex:1;border:1px solid #ccc;width:50%;overflow:hidden}.eventblocks[_ngcontent-%COMP%]   .blk[_ngcontent-%COMP%]{position:relative}.blk[_ngcontent-%COMP%]{position:relative;min-height:.3em;flex:1;width:100%}.blk.shown-block[_ngcontent-%COMP%]{border-top:1px dashed #ccc}.blk.shown-block.hour[_ngcontent-%COMP%]{border-top:1px solid #ccc}.blk.shown-block[_ngcontent-%COMP%]:first-child{border:none}.blk[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:0;right:.5em;transform:translateY(-50%)}.blk.unavailable[_ngcontent-%COMP%]{background-color:rgba(var(--error),.1);pointer-events:none}.blk.disabled[_ngcontent-%COMP%]{background-color:#0000000d;pointer-events:none}.selected-time[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;border:2px solid var(--primary);background-color:var(--primary);color:#fff;z-index:100;touch-action:none;transition:top .1s,height .1s}.selected-time[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%;width:100%;padding:.25em 1em}.selected-time[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{position:absolute;height:1em;width:1em;border-radius:100%;background-color:var(--primary);box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f}.selected-time[_ngcontent-%COMP%]   .handle.top[_ngcontent-%COMP%]{top:0;right:1em;transform:translateY(-50%)}.selected-time[_ngcontent-%COMP%]   .handle.bottom[_ngcontent-%COMP%]{bottom:0;left:1em;transform:translateY(50%)}"]})},2839:(Je,K,t)=>{"use strict";var e=t(1481),n=t(6353),y=t(7340);function v(U){return new n.vHH(3e3,!1)}function Me(){return typeof window<"u"&&typeof window.document<"u"}function Fe(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ve(U){switch(U.length){case 0:return new y.ZN;case 1:return U[0];default:return new y.ZE(U)}}function Pe(U,A,N,z,re=new Map,ve=new Map){const qe=[],mt=[];let Rt=-1,Ut=null;if(z.forEach(un=>{const fn=un.get("offset"),qn=fn==Rt,fi=qn&&Ut||new Map;un.forEach((Gn,li)=>{let Ki=li,to=Gn;if("offset"!==li)switch(Ki=A.normalizePropertyName(Ki,qe),to){case y.k1:to=re.get(li);break;case y.l3:to=ve.get(li);break;default:to=A.normalizeStyleValue(li,Ki,to,qe)}fi.set(Ki,to)}),qn||mt.push(fi),Ut=fi,Rt=fn}),qe.length)throw function w(U){return new n.vHH(3502,!1)}();return mt}function xe(U,A,N,z){switch(A){case"start":U.onStart(()=>z(N&&be(N,"start",U)));break;case"done":U.onDone(()=>z(N&&be(N,"done",U)));break;case"destroy":U.onDestroy(()=>z(N&&be(N,"destroy",U)))}}function be(U,A,N){const ve=Ue(U.element,U.triggerName,U.fromState,U.toState,A||U.phaseName,N.totalTime??U.totalTime,!!N.disabled),qe=U._data;return null!=qe&&(ve._data=qe),ve}function Ue(U,A,N,z,re="",ve=0,qe){return{element:U,triggerName:A,fromState:N,toState:z,phaseName:re,totalTime:ve,disabled:!!qe}}function He(U,A,N){let z=U.get(A);return z||U.set(A,z=N),z}function it(U){const A=U.indexOf(":");return[U.substring(1,A),U.slice(A+1)]}let je=(U,A)=>!1,Be=(U,A,N)=>[],lt=null;function Ye(U){const A=U.parentNode||U.host;return A===lt?null:A}(Fe()||typeof Element<"u")&&(Me()?(lt=(()=>document.documentElement)(),je=(U,A)=>{for(;A;){if(A===U)return!0;A=Ye(A)}return!1}):je=(U,A)=>U.contains(A),Be=(U,A,N)=>{if(N)return Array.from(U.querySelectorAll(A));const z=U.querySelector(A);return z?[z]:[]});let ge=null,we=!1;const ee=je,ue=Be;let pt=(()=>{class U{validateStyleProperty(N){return function me(U){ge||(ge=function Z(){return typeof document<"u"?document.body:null}()||{},we=!!ge.style&&"WebkitAppearance"in ge.style);let A=!0;return ge.style&&!function ot(U){return"ebkit"==U.substring(1,6)}(U)&&(A=U in ge.style,!A&&we&&(A="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in ge.style)),A}(N)}matchesElement(N,z){return!1}containsElement(N,z){return ee(N,z)}getParentElement(N){return Ye(N)}query(N,z,re){return ue(N,z,re)}computeStyle(N,z,re){return re||""}animate(N,z,re,ve,qe,mt=[],Rt){return new y.ZN(re,ve)}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275prov=n.Yz7({token:U,factory:U.\u0275fac}),U})(),Ze=(()=>{class U{}return U.NOOP=new pt,U})();const Wt="ng-enter",Et="ng-leave",nt="ng-trigger",ct=".ng-trigger",Xe="ng-animating",Ke=".ng-animating";function rt(U){if("number"==typeof U)return U;const A=U.match(/^(-?[\.\d]+)(m?s)/);return!A||A.length<2?0:le(parseFloat(A[1]),A[2])}function le(U,A){return"s"===A?1e3*U:U}function te(U,A,N){return U.hasOwnProperty("duration")?U:function J(U,A,N){let re,ve=0,qe="";if("string"==typeof U){const mt=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===mt)return A.push(v()),{duration:0,delay:0,easing:""};re=le(parseFloat(mt[1]),mt[2]);const Rt=mt[3];null!=Rt&&(ve=le(parseFloat(Rt),mt[4]));const Ut=mt[5];Ut&&(qe=Ut)}else re=U;if(!N){let mt=!1,Rt=A.length;re<0&&(A.push(function O(){return new n.vHH(3100,!1)}()),mt=!0),ve<0&&(A.push(function C(){return new n.vHH(3101,!1)}()),mt=!0),mt&&A.splice(Rt,0,v())}return{duration:re,delay:ve,easing:qe}}(U,A,N)}function ne(U,A={}){return Object.keys(U).forEach(N=>{A[N]=U[N]}),A}function $e(U){const A=new Map;return Object.keys(U).forEach(N=>{A.set(N,U[N])}),A}function zt(U,A=new Map,N){if(N)for(let[z,re]of N)A.set(z,re);for(let[z,re]of U)A.set(z,re);return A}function cn(U,A,N){return N?A+":"+N+";":""}function an(U){let A="";for(let N=0;N<U.style.length;N++){const z=U.style.item(N);A+=cn(0,z,U.style.getPropertyValue(z))}for(const N in U.style)U.style.hasOwnProperty(N)&&!N.startsWith("_")&&(A+=cn(0,En(N),U.style[N]));U.setAttribute("style",A)}function vn(U,A,N){U.style&&(A.forEach((z,re)=>{const ve=en(re);N&&!N.has(re)&&N.set(re,U.style[ve]),U.style[ve]=z}),Fe()&&an(U))}function Dn(U,A){U.style&&(A.forEach((N,z)=>{const re=en(z);U.style[re]=""}),Fe()&&an(U))}function Tn(U){return Array.isArray(U)?1==U.length?U[0]:(0,y.vP)(U):U}const Rn=new RegExp("{{\\s*(.+?)\\s*}}","g");function wt(U){let A=[];if("string"==typeof U){let N;for(;N=Rn.exec(U);)A.push(N[1]);Rn.lastIndex=0}return A}function St(U,A,N){const z=U.toString(),re=z.replace(Rn,(ve,qe)=>{let mt=A[qe];return null==mt&&(N.push(function i(U){return new n.vHH(3003,!1)}()),mt=""),mt.toString()});return re==z?U:re}function _t(U){const A=[];let N=U.next();for(;!N.done;)A.push(N.value),N=U.next();return A}const Lt=/-+([a-z0-9])/g;function en(U){return U.replace(Lt,(...A)=>A[1].toUpperCase())}function En(U){return U.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vt(U,A,N){switch(A.type){case 7:return U.visitTrigger(A,N);case 0:return U.visitState(A,N);case 1:return U.visitTransition(A,N);case 2:return U.visitSequence(A,N);case 3:return U.visitGroup(A,N);case 4:return U.visitAnimate(A,N);case 5:return U.visitKeyframes(A,N);case 6:return U.visitStyle(A,N);case 8:return U.visitReference(A,N);case 9:return U.visitAnimateChild(A,N);case 10:return U.visitAnimateRef(A,N);case 11:return U.visitQuery(A,N);case 12:return U.visitStagger(A,N);default:throw function f(U){return new n.vHH(3004,!1)}()}}function sn(U,A){return window.getComputedStyle(U)[A]}function $n(U,A){const N=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(z=>function yn(U,A,N){if(":"==U[0]){const Rt=function Fn(U,A){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(N,z)=>parseFloat(z)>parseFloat(N);case":decrement":return(N,z)=>parseFloat(z)<parseFloat(N);default:return A.push(function g(U){return new n.vHH(3016,!1)}()),"* => *"}}(U,N);if("function"==typeof Rt)return void A.push(Rt);U=Rt}const z=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==z||z.length<4)return N.push(function P(U){return new n.vHH(3015,!1)}()),A;const re=z[1],ve=z[2],qe=z[3];A.push(ci(re,qe));"<"==ve[0]&&!("*"==re&&"*"==qe)&&A.push(ci(qe,re))}(z,N,A)):N.push(U),N}const ti=new Set(["true","1"]),ei=new Set(["false","0"]);function ci(U,A){const N=ti.has(U)||ei.has(U),z=ti.has(A)||ei.has(A);return(re,ve)=>{let qe="*"==U||U==re,mt="*"==A||A==ve;return!qe&&N&&"boolean"==typeof re&&(qe=re?ti.has(U):ei.has(U)),!mt&&z&&"boolean"==typeof ve&&(mt=ve?ti.has(A):ei.has(A)),qe&&mt}}const hn=new RegExp("s*:selfs*,?","g");function Kn(U,A,N,z){return new Mi(U).build(A,N,z)}class Mi{constructor(A){this._driver=A}build(A,N,z){const re=new Gi(N);return this._resetContextStyleTimingState(re),vt(this,Tn(A),re)}_resetContextStyleTimingState(A){A.currentQuerySelector="",A.collectedStyles=new Map,A.collectedStyles.set("",new Map),A.currentTime=0}visitTrigger(A,N){let z=N.queryCount=0,re=N.depCount=0;const ve=[],qe=[];return"@"==A.name.charAt(0)&&N.errors.push(function l(){return new n.vHH(3006,!1)}()),A.definitions.forEach(mt=>{if(this._resetContextStyleTimingState(N),0==mt.type){const Rt=mt,Ut=Rt.name;Ut.toString().split(/\s*,\s*/).forEach(un=>{Rt.name=un,ve.push(this.visitState(Rt,N))}),Rt.name=Ut}else if(1==mt.type){const Rt=this.visitTransition(mt,N);z+=Rt.queryCount,re+=Rt.depCount,qe.push(Rt)}else N.errors.push(function m(){return new n.vHH(3007,!1)}())}),{type:7,name:A.name,states:ve,transitions:qe,queryCount:z,depCount:re,options:null}}visitState(A,N){const z=this.visitStyle(A.styles,N),re=A.options&&A.options.params||null;if(z.containsDynamicStyles){const ve=new Set,qe=re||{};z.styles.forEach(mt=>{mt instanceof Map&&mt.forEach(Rt=>{wt(Rt).forEach(Ut=>{qe.hasOwnProperty(Ut)||ve.add(Ut)})})}),ve.size&&(_t(ve.values()),N.errors.push(function h(U,A){return new n.vHH(3008,!1)}()))}return{type:0,name:A.name,style:z,options:re?{params:re}:null}}visitTransition(A,N){N.queryCount=0,N.depCount=0;const z=vt(this,Tn(A.animation),N);return{type:1,matchers:$n(A.expr,N.errors),animation:z,queryCount:N.queryCount,depCount:N.depCount,options:tt(A.options)}}visitSequence(A,N){return{type:2,steps:A.steps.map(z=>vt(this,z,N)),options:tt(A.options)}}visitGroup(A,N){const z=N.currentTime;let re=0;const ve=A.steps.map(qe=>{N.currentTime=z;const mt=vt(this,qe,N);return re=Math.max(re,N.currentTime),mt});return N.currentTime=re,{type:3,steps:ve,options:tt(A.options)}}visitAnimate(A,N){const z=function Ht(U,A){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return bt(te(U,A).duration,0,"");const N=U;if(N.split(/\s+/).some(ve=>"{"==ve.charAt(0)&&"{"==ve.charAt(1))){const ve=bt(0,0,"");return ve.dynamic=!0,ve.strValue=N,ve}const re=te(N,A);return bt(re.duration,re.delay,re.easing)}(A.timings,N.errors);N.currentAnimateTimings=z;let re,ve=A.styles?A.styles:(0,y.oB)({});if(5==ve.type)re=this.visitKeyframes(ve,N);else{let qe=A.styles,mt=!1;if(!qe){mt=!0;const Ut={};z.easing&&(Ut.easing=z.easing),qe=(0,y.oB)(Ut)}N.currentTime+=z.duration+z.delay;const Rt=this.visitStyle(qe,N);Rt.isEmptyStep=mt,re=Rt}return N.currentAnimateTimings=null,{type:4,timings:z,style:re,options:null}}visitStyle(A,N){const z=this._makeStyleAst(A,N);return this._validateStyleAst(z,N),z}_makeStyleAst(A,N){const z=[],re=Array.isArray(A.styles)?A.styles:[A.styles];for(let mt of re)"string"==typeof mt?mt===y.l3?z.push(mt):N.errors.push(new n.vHH(3002,!1)):z.push($e(mt));let ve=!1,qe=null;return z.forEach(mt=>{if(mt instanceof Map&&(mt.has("easing")&&(qe=mt.get("easing"),mt.delete("easing")),!ve))for(let Rt of mt.values())if(Rt.toString().indexOf("{{")>=0){ve=!0;break}}),{type:6,styles:z,easing:qe,offset:A.offset,containsDynamicStyles:ve,options:null}}_validateStyleAst(A,N){const z=N.currentAnimateTimings;let re=N.currentTime,ve=N.currentTime;z&&ve>0&&(ve-=z.duration+z.delay),A.styles.forEach(qe=>{"string"!=typeof qe&&qe.forEach((mt,Rt)=>{const Ut=N.collectedStyles.get(N.currentQuerySelector),un=Ut.get(Rt);let fn=!0;un&&(ve!=re&&ve>=un.startTime&&re<=un.endTime&&(N.errors.push(function a(U,A,N,z,re){return new n.vHH(3010,!1)}()),fn=!1),ve=un.startTime),fn&&Ut.set(Rt,{startTime:ve,endTime:re}),N.options&&function Pn(U,A,N){const z=A.params||{},re=wt(U);re.length&&re.forEach(ve=>{z.hasOwnProperty(ve)||N.push(function E(U){return new n.vHH(3001,!1)}())})}(mt,N.options,N.errors)})})}visitKeyframes(A,N){const z={type:5,styles:[],options:null};if(!N.currentAnimateTimings)return N.errors.push(function s(){return new n.vHH(3011,!1)}()),z;let ve=0;const qe=[];let mt=!1,Rt=!1,Ut=0;const un=A.steps.map(to=>{const Ho=this._makeStyleAst(to,N);let Ar=null!=Ho.offset?Ho.offset:function jt(U){if("string"==typeof U)return null;let A=null;if(Array.isArray(U))U.forEach(N=>{if(N instanceof Map&&N.has("offset")){const z=N;A=parseFloat(z.get("offset")),z.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const N=U;A=parseFloat(N.get("offset")),N.delete("offset")}return A}(Ho.styles),ir=0;return null!=Ar&&(ve++,ir=Ho.offset=Ar),Rt=Rt||ir<0||ir>1,mt=mt||ir<Ut,Ut=ir,qe.push(ir),Ho});Rt&&N.errors.push(function r(){return new n.vHH(3012,!1)}()),mt&&N.errors.push(function o(){return new n.vHH(3200,!1)}());const fn=A.steps.length;let qn=0;ve>0&&ve<fn?N.errors.push(function S(){return new n.vHH(3202,!1)}()):0==ve&&(qn=1/(fn-1));const fi=fn-1,Gn=N.currentTime,li=N.currentAnimateTimings,Ki=li.duration;return un.forEach((to,Ho)=>{const Ar=qn>0?Ho==fi?1:qn*Ho:qe[Ho],ir=Ar*Ki;N.currentTime=Gn+li.delay+ir,li.duration=ir,this._validateStyleAst(to,N),to.offset=Ar,z.styles.push(to)}),z}visitReference(A,N){return{type:8,animation:vt(this,Tn(A.animation),N),options:tt(A.options)}}visitAnimateChild(A,N){return N.depCount++,{type:9,options:tt(A.options)}}visitAnimateRef(A,N){return{type:10,animation:this.visitReference(A.animation,N),options:tt(A.options)}}visitQuery(A,N){const z=N.currentQuerySelector,re=A.options||{};N.queryCount++,N.currentQuery=A;const[ve,qe]=function Ui(U){const A=!!U.split(/\s*,\s*/).find(N=>":self"==N);return A&&(U=U.replace(hn,"")),U=U.replace(/@\*/g,ct).replace(/@\w+/g,N=>ct+"-"+N.slice(1)).replace(/:animating/g,Ke),[U,A]}(A.selector);N.currentQuerySelector=z.length?z+" "+ve:ve,He(N.collectedStyles,N.currentQuerySelector,new Map);const mt=vt(this,Tn(A.animation),N);return N.currentQuery=null,N.currentQuerySelector=z,{type:11,selector:ve,limit:re.limit||0,optional:!!re.optional,includeSelf:qe,animation:mt,originalSelector:A.selector,options:tt(A.options)}}visitStagger(A,N){N.currentQuery||N.errors.push(function I(){return new n.vHH(3013,!1)}());const z="full"===A.timings?{duration:0,delay:0,easing:"full"}:te(A.timings,N.errors,!0);return{type:12,animation:vt(this,Tn(A.animation),N),timings:z,options:null}}}class Gi{constructor(A){this.errors=A,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tt(U){return U?(U=ne(U)).params&&(U.params=function di(U){return U?ne(U):null}(U.params)):U={},U}function bt(U,A,N){return{duration:U,delay:A,easing:N}}function kt(U,A,N,z,re,ve,qe=null,mt=!1){return{type:1,element:U,keyframes:A,preStyleProps:N,postStyleProps:z,duration:re,delay:ve,totalTime:re+ve,easing:qe,subTimeline:mt}}class nn{constructor(){this._map=new Map}get(A){return this._map.get(A)||[]}append(A,N){let z=this._map.get(A);z||this._map.set(A,z=[]),z.push(...N)}has(A){return this._map.has(A)}clear(){this._map.clear()}}const ii=new RegExp(":enter","g"),Ri=new RegExp(":leave","g");function no(U,A,N,z,re,ve=new Map,qe=new Map,mt,Rt,Ut=[]){return(new br).buildKeyframes(U,A,N,z,re,ve,qe,mt,Rt,Ut)}class br{buildKeyframes(A,N,z,re,ve,qe,mt,Rt,Ut,un=[]){Ut=Ut||new nn;const fn=new Oi(A,N,Ut,re,ve,un,[]);fn.options=Rt;const qn=Rt.delay?rt(Rt.delay):0;fn.currentTimeline.delayNextStep(qn),fn.currentTimeline.setStyles([qe],null,fn.errors,Rt),vt(this,z,fn);const fi=fn.timelines.filter(Gn=>Gn.containsAnimation());if(fi.length&&mt.size){let Gn;for(let li=fi.length-1;li>=0;li--){const Ki=fi[li];if(Ki.element===N){Gn=Ki;break}}Gn&&!Gn.allowOnlyTimelineStyles()&&Gn.setStyles([mt],null,fn.errors,Rt)}return fi.length?fi.map(Gn=>Gn.buildKeyframes()):[kt(N,[],[],[],0,qn,"",!1)]}visitTrigger(A,N){}visitState(A,N){}visitTransition(A,N){}visitAnimateChild(A,N){const z=N.subInstructions.get(N.element);if(z){const re=N.createSubContext(A.options),ve=N.currentTimeline.currentTime,qe=this._visitSubInstructions(z,re,re.options);ve!=qe&&N.transformIntoNewTimeline(qe)}N.previousNode=A}visitAnimateRef(A,N){const z=N.createSubContext(A.options);z.transformIntoNewTimeline(),this._applyAnimationRefDelays([A.options,A.animation.options],N,z),this.visitReference(A.animation,z),N.transformIntoNewTimeline(z.currentTimeline.currentTime),N.previousNode=A}_applyAnimationRefDelays(A,N,z){for(const re of A){const ve=re?.delay;if(ve){const qe="number"==typeof ve?ve:rt(St(ve,re?.params??{},N.errors));z.delayNextStep(qe)}}}_visitSubInstructions(A,N,z){let ve=N.currentTimeline.currentTime;const qe=null!=z.duration?rt(z.duration):null,mt=null!=z.delay?rt(z.delay):null;return 0!==qe&&A.forEach(Rt=>{const Ut=N.appendInstructionToTimeline(Rt,qe,mt);ve=Math.max(ve,Ut.duration+Ut.delay)}),ve}visitReference(A,N){N.updateOptions(A.options,!0),vt(this,A.animation,N),N.previousNode=A}visitSequence(A,N){const z=N.subContextCount;let re=N;const ve=A.options;if(ve&&(ve.params||ve.delay)&&(re=N.createSubContext(ve),re.transformIntoNewTimeline(),null!=ve.delay)){6==re.previousNode.type&&(re.currentTimeline.snapshotCurrentStyles(),re.previousNode=Ao);const qe=rt(ve.delay);re.delayNextStep(qe)}A.steps.length&&(A.steps.forEach(qe=>vt(this,qe,re)),re.currentTimeline.applyStylesToKeyframe(),re.subContextCount>z&&re.transformIntoNewTimeline()),N.previousNode=A}visitGroup(A,N){const z=[];let re=N.currentTimeline.currentTime;const ve=A.options&&A.options.delay?rt(A.options.delay):0;A.steps.forEach(qe=>{const mt=N.createSubContext(A.options);ve&&mt.delayNextStep(ve),vt(this,qe,mt),re=Math.max(re,mt.currentTimeline.currentTime),z.push(mt.currentTimeline)}),z.forEach(qe=>N.currentTimeline.mergeTimelineCollectedStyles(qe)),N.transformIntoNewTimeline(re),N.previousNode=A}_visitTiming(A,N){if(A.dynamic){const z=A.strValue;return te(N.params?St(z,N.params,N.errors):z,N.errors)}return{duration:A.duration,delay:A.delay,easing:A.easing}}visitAnimate(A,N){const z=N.currentAnimateTimings=this._visitTiming(A.timings,N),re=N.currentTimeline;z.delay&&(N.incrementTime(z.delay),re.snapshotCurrentStyles());const ve=A.style;5==ve.type?this.visitKeyframes(ve,N):(N.incrementTime(z.duration),this.visitStyle(ve,N),re.applyStylesToKeyframe()),N.currentAnimateTimings=null,N.previousNode=A}visitStyle(A,N){const z=N.currentTimeline,re=N.currentAnimateTimings;!re&&z.hasCurrentStyleProperties()&&z.forwardFrame();const ve=re&&re.easing||A.easing;A.isEmptyStep?z.applyEmptyStep(ve):z.setStyles(A.styles,ve,N.errors,N.options),N.previousNode=A}visitKeyframes(A,N){const z=N.currentAnimateTimings,re=N.currentTimeline.duration,ve=z.duration,mt=N.createSubContext().currentTimeline;mt.easing=z.easing,A.styles.forEach(Rt=>{mt.forwardTime((Rt.offset||0)*ve),mt.setStyles(Rt.styles,Rt.easing,N.errors,N.options),mt.applyStylesToKeyframe()}),N.currentTimeline.mergeTimelineCollectedStyles(mt),N.transformIntoNewTimeline(re+ve),N.previousNode=A}visitQuery(A,N){const z=N.currentTimeline.currentTime,re=A.options||{},ve=re.delay?rt(re.delay):0;ve&&(6===N.previousNode.type||0==z&&N.currentTimeline.hasCurrentStyleProperties())&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Ao);let qe=z;const mt=N.invokeQuery(A.selector,A.originalSelector,A.limit,A.includeSelf,!!re.optional,N.errors);N.currentQueryTotal=mt.length;let Rt=null;mt.forEach((Ut,un)=>{N.currentQueryIndex=un;const fn=N.createSubContext(A.options,Ut);ve&&fn.delayNextStep(ve),Ut===N.element&&(Rt=fn.currentTimeline),vt(this,A.animation,fn),fn.currentTimeline.applyStylesToKeyframe(),qe=Math.max(qe,fn.currentTimeline.currentTime)}),N.currentQueryIndex=0,N.currentQueryTotal=0,N.transformIntoNewTimeline(qe),Rt&&(N.currentTimeline.mergeTimelineCollectedStyles(Rt),N.currentTimeline.snapshotCurrentStyles()),N.previousNode=A}visitStagger(A,N){const z=N.parentContext,re=N.currentTimeline,ve=A.timings,qe=Math.abs(ve.duration),mt=qe*(N.currentQueryTotal-1);let Rt=qe*N.currentQueryIndex;switch(ve.duration<0?"reverse":ve.easing){case"reverse":Rt=mt-Rt;break;case"full":Rt=z.currentStaggerTime}const un=N.currentTimeline;Rt&&un.delayNextStep(Rt);const fn=un.currentTime;vt(this,A.animation,N),N.previousNode=A,z.currentStaggerTime=re.currentTime-fn+(re.startTime-z.currentTimeline.startTime)}}const Ao={};class Oi{constructor(A,N,z,re,ve,qe,mt,Rt){this._driver=A,this.element=N,this.subInstructions=z,this._enterClassName=re,this._leaveClassName=ve,this.errors=qe,this.timelines=mt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ao,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Rt||new rr(this._driver,N,0),mt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(A,N){if(!A)return;const z=A;let re=this.options;null!=z.duration&&(re.duration=rt(z.duration)),null!=z.delay&&(re.delay=rt(z.delay));const ve=z.params;if(ve){let qe=re.params;qe||(qe=this.options.params={}),Object.keys(ve).forEach(mt=>{(!N||!qe.hasOwnProperty(mt))&&(qe[mt]=St(ve[mt],qe,this.errors))})}}_copyOptions(){const A={};if(this.options){const N=this.options.params;if(N){const z=A.params={};Object.keys(N).forEach(re=>{z[re]=N[re]})}}return A}createSubContext(A=null,N,z){const re=N||this.element,ve=new Oi(this._driver,re,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(re,z||0));return ve.previousNode=this.previousNode,ve.currentAnimateTimings=this.currentAnimateTimings,ve.options=this._copyOptions(),ve.updateOptions(A),ve.currentQueryIndex=this.currentQueryIndex,ve.currentQueryTotal=this.currentQueryTotal,ve.parentContext=this,this.subContextCount++,ve}transformIntoNewTimeline(A){return this.previousNode=Ao,this.currentTimeline=this.currentTimeline.fork(this.element,A),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(A,N,z){const re={duration:N??A.duration,delay:this.currentTimeline.currentTime+(z??0)+A.delay,easing:""},ve=new sr(this._driver,A.element,A.keyframes,A.preStyleProps,A.postStyleProps,re,A.stretchStartingKeyframe);return this.timelines.push(ve),re}incrementTime(A){this.currentTimeline.forwardTime(this.currentTimeline.duration+A)}delayNextStep(A){A>0&&this.currentTimeline.delayNextStep(A)}invokeQuery(A,N,z,re,ve,qe){let mt=[];if(re&&mt.push(this.element),A.length>0){A=(A=A.replace(ii,"."+this._enterClassName)).replace(Ri,"."+this._leaveClassName);let Ut=this._driver.query(this.element,A,1!=z);0!==z&&(Ut=z<0?Ut.slice(Ut.length+z,Ut.length):Ut.slice(0,z)),mt.push(...Ut)}return!ve&&0==mt.length&&qe.push(function x(U){return new n.vHH(3014,!1)}()),mt}}class rr{constructor(A,N,z,re){this._driver=A,this.element=N,this.startTime=z,this._elementTimelineStylesLookup=re,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(N),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(N,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(A){const N=1===this._keyframes.size&&this._pendingStyles.size;this.duration||N?(this.forwardTime(this.currentTime+A),N&&this.snapshotCurrentStyles()):this.startTime+=A}fork(A,N){return this.applyStylesToKeyframe(),new rr(this._driver,A,N||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(A){this.applyStylesToKeyframe(),this.duration=A,this._loadKeyframe()}_updateStyle(A,N){this._localTimelineStyles.set(A,N),this._globalTimelineStyles.set(A,N),this._styleSummary.set(A,{time:this.currentTime,value:N})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(A){A&&this._previousKeyframe.set("easing",A);for(let[N,z]of this._globalTimelineStyles)this._backFill.set(N,z||y.l3),this._currentKeyframe.set(N,y.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(A,N,z,re){N&&this._previousKeyframe.set("easing",N);const ve=re&&re.params||{},qe=function xt(U,A){const N=new Map;let z;return U.forEach(re=>{if("*"===re){z=z||A.keys();for(let ve of z)N.set(ve,y.l3)}else zt(re,N)}),N}(A,this._globalTimelineStyles);for(let[mt,Rt]of qe){const Ut=St(Rt,ve,z);this._pendingStyles.set(mt,Ut),this._localTimelineStyles.has(mt)||this._backFill.set(mt,this._globalTimelineStyles.get(mt)??y.l3),this._updateStyle(mt,Ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((A,N)=>{this._currentKeyframe.set(N,A)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((A,N)=>{this._currentKeyframe.has(N)||this._currentKeyframe.set(N,A)}))}snapshotCurrentStyles(){for(let[A,N]of this._localTimelineStyles)this._pendingStyles.set(A,N),this._updateStyle(A,N)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const A=[];for(let N in this._currentKeyframe)A.push(N);return A}mergeTimelineCollectedStyles(A){A._styleSummary.forEach((N,z)=>{const re=this._styleSummary.get(z);(!re||N.time>re.time)&&this._updateStyle(z,N.value)})}buildKeyframes(){this.applyStylesToKeyframe();const A=new Set,N=new Set,z=1===this._keyframes.size&&0===this.duration;let re=[];this._keyframes.forEach((mt,Rt)=>{const Ut=zt(mt,new Map,this._backFill);Ut.forEach((un,fn)=>{un===y.k1?A.add(fn):un===y.l3&&N.add(fn)}),z||Ut.set("offset",Rt/this.duration),re.push(Ut)});const ve=A.size?_t(A.values()):[],qe=N.size?_t(N.values()):[];if(z){const mt=re[0],Rt=new Map(mt);mt.set("offset",0),Rt.set("offset",1),re=[mt,Rt]}return kt(this.element,re,ve,qe,this.duration,this.startTime,this.easing,!1)}}class sr extends rr{constructor(A,N,z,re,ve,qe,mt=!1){super(A,N,qe.delay),this.keyframes=z,this.preStyleProps=re,this.postStyleProps=ve,this._stretchStartingKeyframe=mt,this.timings={duration:qe.duration,delay:qe.delay,easing:qe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let A=this.keyframes,{delay:N,duration:z,easing:re}=this.timings;if(this._stretchStartingKeyframe&&N){const ve=[],qe=z+N,mt=N/qe,Rt=zt(A[0]);Rt.set("offset",0),ve.push(Rt);const Ut=zt(A[0]);Ut.set("offset",Yo(mt)),ve.push(Ut);const un=A.length-1;for(let fn=1;fn<=un;fn++){let qn=zt(A[fn]);const fi=qn.get("offset");qn.set("offset",Yo((N+fi*z)/qe)),ve.push(qn)}z=qe,N=0,re="",A=ve}return kt(this.element,A,this.preStyleProps,this.postStyleProps,z,N,re,!0)}}function Yo(U,A=3){const N=Math.pow(10,A-1);return Math.round(U*N)/N}class se{}const yt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pt extends se{normalizePropertyName(A,N){return en(A)}normalizeStyleValue(A,N,z,re){let ve="";const qe=z.toString().trim();if(yt.has(N)&&0!==z&&"0"!==z)if("number"==typeof z)ve="px";else{const mt=z.match(/^[+-]?[\d\.]+([a-z]*)$/);mt&&0==mt[1].length&&re.push(function _(U,A){return new n.vHH(3005,!1)}())}return qe+ve}}function gn(U,A,N,z,re,ve,qe,mt,Rt,Ut,un,fn,qn){return{type:0,element:U,triggerName:A,isRemovalTransition:re,fromState:N,fromStyles:ve,toState:z,toStyles:qe,timelines:mt,queriedElements:Rt,preStyleProps:Ut,postStyleProps:un,totalTime:fn,errors:qn}}const oi={};class Yi{constructor(A,N,z){this._triggerName=A,this.ast=N,this._stateStyles=z}match(A,N,z,re){return function Zi(U,A,N,z,re){return U.some(ve=>ve(A,N,z,re))}(this.ast.matchers,A,N,z,re)}buildStyles(A,N,z){let re=this._stateStyles.get("*");return void 0!==A&&(re=this._stateStyles.get(A?.toString())||re),re?re.buildStyles(N,z):new Map}build(A,N,z,re,ve,qe,mt,Rt,Ut,un){const fn=[],qn=this.ast.options&&this.ast.options.params||oi,Gn=this.buildStyles(z,mt&&mt.params||oi,fn),li=Rt&&Rt.params||oi,Ki=this.buildStyles(re,li,fn),to=new Set,Ho=new Map,Ar=new Map,ir="void"===re,Il={params:ar(li,qn),delay:this.ast.options?.delay},js=un?[]:no(A,N,this.ast.animation,ve,qe,Gn,Ki,Il,Ut,fn);let vr=0;if(js.forEach($s=>{vr=Math.max($s.duration+$s.delay,vr)}),fn.length)return gn(N,this._triggerName,z,re,ir,Gn,Ki,[],[],Ho,Ar,vr,fn);js.forEach($s=>{const Ws=$s.element,jc=He(Ho,Ws,new Set);$s.preStyleProps.forEach(ua=>jc.add(ua));const $c=He(Ar,Ws,new Set);$s.postStyleProps.forEach(ua=>$c.add(ua)),Ws!==N&&to.add(Ws)});const ca=_t(to.values());return gn(N,this._triggerName,z,re,ir,Gn,Ki,js,ca,Ho,Ar,vr)}}function ar(U,A){const N=ne(A);for(const z in U)U.hasOwnProperty(z)&&null!=U[z]&&(N[z]=U[z]);return N}class lr{constructor(A,N,z){this.styles=A,this.defaultParams=N,this.normalizer=z}buildStyles(A,N){const z=new Map,re=ne(this.defaultParams);return Object.keys(A).forEach(ve=>{const qe=A[ve];null!==qe&&(re[ve]=qe)}),this.styles.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((qe,mt)=>{qe&&(qe=St(qe,re,N));const Rt=this.normalizer.normalizePropertyName(mt,N);qe=this.normalizer.normalizeStyleValue(mt,Rt,qe,N),z.set(mt,qe)})}),z}}class Co{constructor(A,N,z){this.name=A,this.ast=N,this._normalizer=z,this.transitionFactories=[],this.states=new Map,N.states.forEach(re=>{this.states.set(re.name,new lr(re.style,re.options&&re.options.params||{},z))}),Lr(this.states,"true","1"),Lr(this.states,"false","0"),N.transitions.forEach(re=>{this.transitionFactories.push(new Yi(A,re,this.states))}),this.fallbackTransition=function wr(U,A,N){return new Yi(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(qe,mt)=>!0],options:null,queryCount:0,depCount:0},A)}(A,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(A,N,z,re){return this.transitionFactories.find(qe=>qe.match(A,N,z,re))||null}matchStyles(A,N,z){return this.fallbackTransition.buildStyles(A,N,z)}}function Lr(U,A,N){U.has(A)?U.has(N)||U.set(N,U.get(A)):U.has(N)&&U.set(A,U.get(N))}const Er=new nn;class Uo{constructor(A,N,z){this.bodyNode=A,this._driver=N,this._normalizer=z,this._animations=new Map,this._playersById=new Map,this.players=[]}register(A,N){const z=[],ve=Kn(this._driver,N,z,[]);if(z.length)throw function F(U){return new n.vHH(3503,!1)}();this._animations.set(A,ve)}_buildPlayer(A,N,z){const re=A.element,ve=Pe(0,this._normalizer,0,A.keyframes,N,z);return this._driver.animate(re,ve,A.duration,A.delay,A.easing,[],!0)}create(A,N,z={}){const re=[],ve=this._animations.get(A);let qe;const mt=new Map;if(ve?(qe=no(this._driver,N,ve,Wt,Et,new Map,new Map,z,Er,re),qe.forEach(un=>{const fn=He(mt,un.element,new Map);un.postStyleProps.forEach(qn=>fn.set(qn,null))})):(re.push(function B(){return new n.vHH(3300,!1)}()),qe=[]),re.length)throw function H(U){return new n.vHH(3504,!1)}();mt.forEach((un,fn)=>{un.forEach((qn,fi)=>{un.set(fi,this._driver.computeStyle(fn,fi,y.l3))})});const Ut=Ve(qe.map(un=>{const fn=mt.get(un.element);return this._buildPlayer(un,new Map,fn)}));return this._playersById.set(A,Ut),Ut.onDestroy(()=>this.destroy(A)),this.players.push(Ut),Ut}destroy(A){const N=this._getPlayer(A);N.destroy(),this._playersById.delete(A);const z=this.players.indexOf(N);z>=0&&this.players.splice(z,1)}_getPlayer(A){const N=this._playersById.get(A);if(!N)throw function $(U){return new n.vHH(3301,!1)}();return N}listen(A,N,z,re){const ve=Ue(N,"","","");return xe(this._getPlayer(A),z,ve,re),()=>{}}command(A,N,z,re){if("register"==z)return void this.register(A,re[0]);if("create"==z)return void this.create(A,N,re[0]||{});const ve=this._getPlayer(A);switch(z){case"play":ve.play();break;case"pause":ve.pause();break;case"reset":ve.reset();break;case"restart":ve.restart();break;case"finish":ve.finish();break;case"init":ve.init();break;case"setPosition":ve.setPosition(parseFloat(re[0]));break;case"destroy":this.destroy(A)}}}const os="ng-animate-queued",Cr="ng-animate-disabled",As=[],ws={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vi="__ng_removed";class Or{constructor(A,N=""){this.namespaceId=N;const z=A&&A.hasOwnProperty("value");if(this.value=function Xo(U){return U??null}(z?A.value:A),z){const ve=ne(A);delete ve.value,this.options=ve}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(A){const N=A.params;if(N){const z=this.options.params;Object.keys(N).forEach(re=>{null==z[re]&&(z[re]=N[re])})}}}const Qo="void",ur=new Or(Qo);class go{constructor(A,N,z){this.id=A,this.hostElement=N,this._engine=z,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+A,Wi(N,this._hostClassName)}listen(A,N,z,re){if(!this._triggers.has(N))throw function j(U,A){return new n.vHH(3302,!1)}();if(null==z||0==z.length)throw function V(U){return new n.vHH(3303,!1)}();if(!function Nr(U){return"start"==U||"done"==U}(z))throw function Q(U,A){return new n.vHH(3400,!1)}();const ve=He(this._elementListeners,A,[]),qe={name:N,phase:z,callback:re};ve.push(qe);const mt=He(this._engine.statesByElement,A,new Map);return mt.has(N)||(Wi(A,nt),Wi(A,nt+"-"+N),mt.set(N,ur)),()=>{this._engine.afterFlush(()=>{const Rt=ve.indexOf(qe);Rt>=0&&ve.splice(Rt,1),this._triggers.has(N)||mt.delete(N)})}}register(A,N){return!this._triggers.has(A)&&(this._triggers.set(A,N),!0)}_getTrigger(A){const N=this._triggers.get(A);if(!N)throw function ie(U){return new n.vHH(3401,!1)}();return N}trigger(A,N,z,re=!0){const ve=this._getTrigger(N),qe=new Vo(this.id,N,A);let mt=this._engine.statesByElement.get(A);mt||(Wi(A,nt),Wi(A,nt+"-"+N),this._engine.statesByElement.set(A,mt=new Map));let Rt=mt.get(N);const Ut=new Or(z,this.id);if(!(z&&z.hasOwnProperty("value"))&&Rt&&Ut.absorbOptions(Rt.options),mt.set(N,Ut),Rt||(Rt=ur),Ut.value!==Qo&&Rt.value===Ut.value){if(!function kr(U,A){const N=Object.keys(U),z=Object.keys(A);if(N.length!=z.length)return!1;for(let re=0;re<N.length;re++){const ve=N[re];if(!A.hasOwnProperty(ve)||U[ve]!==A[ve])return!1}return!0}(Rt.params,Ut.params)){const li=[],Ki=ve.matchStyles(Rt.value,Rt.params,li),to=ve.matchStyles(Ut.value,Ut.params,li);li.length?this._engine.reportError(li):this._engine.afterFlush(()=>{Dn(A,Ki),vn(A,to)})}return}const qn=He(this._engine.playersByElement,A,[]);qn.forEach(li=>{li.namespaceId==this.id&&li.triggerName==N&&li.queued&&li.destroy()});let fi=ve.matchTransition(Rt.value,Ut.value,A,Ut.params),Gn=!1;if(!fi){if(!re)return;fi=ve.fallbackTransition,Gn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:A,triggerName:N,transition:fi,fromState:Rt,toState:Ut,player:qe,isFallbackTransition:Gn}),Gn||(Wi(A,os),qe.onStart(()=>{xi(A,os)})),qe.onDone(()=>{let li=this.players.indexOf(qe);li>=0&&this.players.splice(li,1);const Ki=this._engine.playersByElement.get(A);if(Ki){let to=Ki.indexOf(qe);to>=0&&Ki.splice(to,1)}}),this.players.push(qe),qn.push(qe),qe}deregister(A){this._triggers.delete(A),this._engine.statesByElement.forEach(N=>N.delete(A)),this._elementListeners.forEach((N,z)=>{this._elementListeners.set(z,N.filter(re=>re.name!=A))})}clearElementCache(A){this._engine.statesByElement.delete(A),this._elementListeners.delete(A);const N=this._engine.playersByElement.get(A);N&&(N.forEach(z=>z.destroy()),this._engine.playersByElement.delete(A))}_signalRemovalForInnerTriggers(A,N){const z=this._engine.driver.query(A,ct,!0);z.forEach(re=>{if(re[Vi])return;const ve=this._engine.fetchNamespacesByElement(re);ve.size?ve.forEach(qe=>qe.triggerLeaveAnimation(re,N,!1,!0)):this.clearElementCache(re)}),this._engine.afterFlushAnimationsDone(()=>z.forEach(re=>this.clearElementCache(re)))}triggerLeaveAnimation(A,N,z,re){const ve=this._engine.statesByElement.get(A),qe=new Map;if(ve){const mt=[];if(ve.forEach((Rt,Ut)=>{if(qe.set(Ut,Rt.value),this._triggers.has(Ut)){const un=this.trigger(A,Ut,Qo,re);un&&mt.push(un)}}),mt.length)return this._engine.markElementAsRemoved(this.id,A,!0,N,qe),z&&Ve(mt).onDone(()=>this._engine.processLeaveNode(A)),!0}return!1}prepareLeaveAnimationListeners(A){const N=this._elementListeners.get(A),z=this._engine.statesByElement.get(A);if(N&&z){const re=new Set;N.forEach(ve=>{const qe=ve.name;if(re.has(qe))return;re.add(qe);const Rt=this._triggers.get(qe).fallbackTransition,Ut=z.get(qe)||ur,un=new Or(Qo),fn=new Vo(this.id,qe,A);this._engine.totalQueuedPlayers++,this._queue.push({element:A,triggerName:qe,transition:Rt,fromState:Ut,toState:un,player:fn,isFallbackTransition:!0})})}}removeNode(A,N){const z=this._engine;if(A.childElementCount&&this._signalRemovalForInnerTriggers(A,N),this.triggerLeaveAnimation(A,N,!0))return;let re=!1;if(z.totalAnimations){const ve=z.players.length?z.playersByQueriedElement.get(A):[];if(ve&&ve.length)re=!0;else{let qe=A;for(;qe=qe.parentNode;)if(z.statesByElement.get(qe)){re=!0;break}}}if(this.prepareLeaveAnimationListeners(A),re)z.markElementAsRemoved(this.id,A,!1,N);else{const ve=A[Vi];(!ve||ve===ws)&&(z.afterFlush(()=>this.clearElementCache(A)),z.destroyInnerAnimations(A),z._onRemovalComplete(A,N))}}insertNode(A,N){Wi(A,this._hostClassName)}drainQueuedTransitions(A){const N=[];return this._queue.forEach(z=>{const re=z.player;if(re.destroyed)return;const ve=z.element,qe=this._elementListeners.get(ve);qe&&qe.forEach(mt=>{if(mt.name==z.triggerName){const Rt=Ue(ve,z.triggerName,z.fromState.value,z.toState.value);Rt._data=A,xe(z.player,mt.phase,Rt,mt.callback)}}),re.markedForDestroy?this._engine.afterFlush(()=>{re.destroy()}):N.push(z)}),this._queue=[],N.sort((z,re)=>{const ve=z.transition.ast.depCount,qe=re.transition.ast.depCount;return 0==ve||0==qe?ve-qe:this._engine.driver.containsElement(z.element,re.element)?1:-1})}destroy(A){this.players.forEach(N=>N.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,A)}elementContainsData(A){let N=!1;return this._elementListeners.has(A)&&(N=!0),N=!!this._queue.find(z=>z.element===A)||N,N}}class Jo{constructor(A,N,z){this.bodyNode=A,this.driver=N,this._normalizer=z,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(re,ve)=>{}}_onRemovalComplete(A,N){this.onRemovalComplete(A,N)}get queuedPlayers(){const A=[];return this._namespaceList.forEach(N=>{N.players.forEach(z=>{z.queued&&A.push(z)})}),A}createNamespace(A,N){const z=new go(A,N,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,N)?this._balanceNamespaceList(z,N):(this.newHostElements.set(N,z),this.collectEnterElement(N)),this._namespaceLookup[A]=z}_balanceNamespaceList(A,N){const z=this._namespaceList,re=this.namespacesByHostElement;if(z.length-1>=0){let qe=!1,mt=this.driver.getParentElement(N);for(;mt;){const Rt=re.get(mt);if(Rt){const Ut=z.indexOf(Rt);z.splice(Ut+1,0,A),qe=!0;break}mt=this.driver.getParentElement(mt)}qe||z.unshift(A)}else z.push(A);return re.set(N,A),A}register(A,N){let z=this._namespaceLookup[A];return z||(z=this.createNamespace(A,N)),z}registerTrigger(A,N,z){let re=this._namespaceLookup[A];re&&re.register(N,z)&&this.totalAnimations++}destroy(A,N){if(!A)return;const z=this._fetchNamespace(A);this.afterFlush(()=>{this.namespacesByHostElement.delete(z.hostElement),delete this._namespaceLookup[A];const re=this._namespaceList.indexOf(z);re>=0&&this._namespaceList.splice(re,1)}),this.afterFlushAnimationsDone(()=>z.destroy(N))}_fetchNamespace(A){return this._namespaceLookup[A]}fetchNamespacesByElement(A){const N=new Set,z=this.statesByElement.get(A);if(z)for(let re of z.values())if(re.namespaceId){const ve=this._fetchNamespace(re.namespaceId);ve&&N.add(ve)}return N}trigger(A,N,z,re){if(Tr(N)){const ve=this._fetchNamespace(A);if(ve)return ve.trigger(N,z,re),!0}return!1}insertNode(A,N,z,re){if(!Tr(N))return;const ve=N[Vi];if(ve&&ve.setForRemoval){ve.setForRemoval=!1,ve.setForMove=!0;const qe=this.collectedLeaveElements.indexOf(N);qe>=0&&this.collectedLeaveElements.splice(qe,1)}if(A){const qe=this._fetchNamespace(A);qe&&qe.insertNode(N,z)}re&&this.collectEnterElement(N)}collectEnterElement(A){this.collectedEnterElements.push(A)}markElementAsDisabled(A,N){N?this.disabledNodes.has(A)||(this.disabledNodes.add(A),Wi(A,Cr)):this.disabledNodes.has(A)&&(this.disabledNodes.delete(A),xi(A,Cr))}removeNode(A,N,z,re){if(Tr(N)){const ve=A?this._fetchNamespace(A):null;if(ve?ve.removeNode(N,re):this.markElementAsRemoved(A,N,!1,re),z){const qe=this.namespacesByHostElement.get(N);qe&&qe.id!==A&&qe.removeNode(N,re)}}else this._onRemovalComplete(N,re)}markElementAsRemoved(A,N,z,re,ve){this.collectedLeaveElements.push(N),N[Vi]={namespaceId:A,setForRemoval:re,hasAnimation:z,removedBeforeQueried:!1,previousTriggersValues:ve}}listen(A,N,z,re,ve){return Tr(N)?this._fetchNamespace(A).listen(N,z,re,ve):()=>{}}_buildInstruction(A,N,z,re,ve){return A.transition.build(this.driver,A.element,A.fromState.value,A.toState.value,z,re,A.fromState.options,A.toState.options,N,ve)}destroyInnerAnimations(A){let N=this.driver.query(A,ct,!0);N.forEach(z=>this.destroyActiveAnimationsForElement(z)),0!=this.playersByQueriedElement.size&&(N=this.driver.query(A,Ke,!0),N.forEach(z=>this.finishActiveQueriedAnimationOnElement(z)))}destroyActiveAnimationsForElement(A){const N=this.playersByElement.get(A);N&&N.forEach(z=>{z.queued?z.markedForDestroy=!0:z.destroy()})}finishActiveQueriedAnimationOnElement(A){const N=this.playersByQueriedElement.get(A);N&&N.forEach(z=>z.finish())}whenRenderingDone(){return new Promise(A=>{if(this.players.length)return Ve(this.players).onDone(()=>A());A()})}processLeaveNode(A){const N=A[Vi];if(N&&N.setForRemoval){if(A[Vi]=ws,N.namespaceId){this.destroyInnerAnimations(A);const z=this._fetchNamespace(N.namespaceId);z&&z.clearElementCache(A)}this._onRemovalComplete(A,N.setForRemoval)}A.classList?.contains(Cr)&&this.markElementAsDisabled(A,!1),this.driver.query(A,".ng-animate-disabled",!0).forEach(z=>{this.markElementAsDisabled(z,!1)})}flush(A=-1){let N=[];if(this.newHostElements.size&&(this.newHostElements.forEach((z,re)=>this._balanceNamespaceList(z,re)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let z=0;z<this.collectedEnterElements.length;z++)Wi(this.collectedEnterElements[z],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const z=[];try{N=this._flushAnimations(z,A)}finally{for(let re=0;re<z.length;re++)z[re]()}}else for(let z=0;z<this.collectedLeaveElements.length;z++)this.processLeaveNode(this.collectedLeaveElements[z]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(z=>z()),this._flushFns=[],this._whenQuietFns.length){const z=this._whenQuietFns;this._whenQuietFns=[],N.length?Ve(N).onDone(()=>{z.forEach(re=>re())}):z.forEach(re=>re())}}reportError(A){throw function ye(U){return new n.vHH(3402,!1)}()}_flushAnimations(A,N){const z=new nn,re=[],ve=new Map,qe=[],mt=new Map,Rt=new Map,Ut=new Map,un=new Set;this.disabledNodes.forEach(Yn=>{un.add(Yn);const ni=this.driver.query(Yn,".ng-animate-queued",!0);for(let _i=0;_i<ni.length;_i++)un.add(ni[_i])});const fn=this.bodyNode,qn=Array.from(this.statesByElement.keys()),fi=Un(qn,this.collectedEnterElements),Gn=new Map;let li=0;fi.forEach((Yn,ni)=>{const _i=Wt+li++;Gn.set(ni,_i),Yn.forEach(Li=>Wi(Li,_i))});const Ki=[],to=new Set,Ho=new Set;for(let Yn=0;Yn<this.collectedLeaveElements.length;Yn++){const ni=this.collectedLeaveElements[Yn],_i=ni[Vi];_i&&_i.setForRemoval&&(Ki.push(ni),to.add(ni),_i.hasAnimation?this.driver.query(ni,".ng-star-inserted",!0).forEach(Li=>to.add(Li)):Ho.add(ni))}const Ar=new Map,ir=Un(qn,Array.from(to));ir.forEach((Yn,ni)=>{const _i=Et+li++;Ar.set(ni,_i),Yn.forEach(Li=>Wi(Li,_i))}),A.push(()=>{fi.forEach((Yn,ni)=>{const _i=Gn.get(ni);Yn.forEach(Li=>xi(Li,_i))}),ir.forEach((Yn,ni)=>{const _i=Ar.get(ni);Yn.forEach(Li=>xi(Li,_i))}),Ki.forEach(Yn=>{this.processLeaveNode(Yn)})});const Il=[],js=[];for(let Yn=this._namespaceList.length-1;Yn>=0;Yn--)this._namespaceList[Yn].drainQueuedTransitions(N).forEach(_i=>{const Li=_i.player,Go=_i.element;if(Il.push(Li),this.collectedEnterElements.length){const ko=Go[Vi];if(ko&&ko.setForMove){if(ko.previousTriggersValues&&ko.previousTriggersValues.has(_i.triggerName)){const Na=ko.previousTriggersValues.get(_i.triggerName),Zr=this.statesByElement.get(_i.element);if(Zr&&Zr.has(_i.triggerName)){const Al=Zr.get(_i.triggerName);Al.value=Na,Zr.set(_i.triggerName,Al)}}return void Li.destroy()}}const Ks=!fn||!this.driver.containsElement(fn,Go),yr=Ar.get(Go),ns=Gn.get(Go),oo=this._buildInstruction(_i,z,ns,yr,Ks);if(oo.errors&&oo.errors.length)return void js.push(oo);if(Ks)return Li.onStart(()=>Dn(Go,oo.fromStyles)),Li.onDestroy(()=>vn(Go,oo.toStyles)),void re.push(Li);if(_i.isFallbackTransition)return Li.onStart(()=>Dn(Go,oo.fromStyles)),Li.onDestroy(()=>vn(Go,oo.toStyles)),void re.push(Li);const Rl=[];oo.timelines.forEach(ko=>{ko.stretchStartingKeyframe=!0,this.disabledNodes.has(ko.element)||Rl.push(ko)}),oo.timelines=Rl,z.append(Go,oo.timelines),qe.push({instruction:oo,player:Li,element:Go}),oo.queriedElements.forEach(ko=>He(mt,ko,[]).push(Li)),oo.preStyleProps.forEach((ko,Na)=>{if(ko.size){let Zr=Rt.get(Na);Zr||Rt.set(Na,Zr=new Set),ko.forEach((Al,sc)=>Zr.add(sc))}}),oo.postStyleProps.forEach((ko,Na)=>{let Zr=Ut.get(Na);Zr||Ut.set(Na,Zr=new Set),ko.forEach((Al,sc)=>Zr.add(sc))})});if(js.length){const Yn=[];js.forEach(ni=>{Yn.push(function _e(U,A){return new n.vHH(3505,!1)}())}),Il.forEach(ni=>ni.destroy()),this.reportError(Yn)}const vr=new Map,ca=new Map;qe.forEach(Yn=>{const ni=Yn.element;z.has(ni)&&(ca.set(ni,ni),this._beforeAnimationBuild(Yn.player.namespaceId,Yn.instruction,vr))}),re.forEach(Yn=>{const ni=Yn.element;this._getPreviousPlayers(ni,!1,Yn.namespaceId,Yn.triggerName,null).forEach(Li=>{He(vr,ni,[]).push(Li),Li.destroy()})});const $s=Ki.filter(Yn=>So(Yn,Rt,Ut)),Ws=new Map;ke(Ws,this.driver,Ho,Ut,y.l3).forEach(Yn=>{So(Yn,Rt,Ut)&&$s.push(Yn)});const $c=new Map;fi.forEach((Yn,ni)=>{ke($c,this.driver,new Set(Yn),Rt,y.k1)}),$s.forEach(Yn=>{const ni=Ws.get(Yn),_i=$c.get(Yn);Ws.set(Yn,new Map([...Array.from(ni?.entries()??[]),...Array.from(_i?.entries()??[])]))});const ua=[],Hd=[],Dh={};qe.forEach(Yn=>{const{element:ni,player:_i,instruction:Li}=Yn;if(z.has(ni)){if(un.has(ni))return _i.onDestroy(()=>vn(ni,Li.toStyles)),_i.disabled=!0,_i.overrideTotalTime(Li.totalTime),void re.push(_i);let Go=Dh;if(ca.size>1){let yr=ni;const ns=[];for(;yr=yr.parentNode;){const oo=ca.get(yr);if(oo){Go=oo;break}ns.push(yr)}ns.forEach(oo=>ca.set(oo,Go))}const Ks=this._buildAnimation(_i.namespaceId,Li,vr,ve,$c,Ws);if(_i.setRealPlayer(Ks),Go===Dh)ua.push(_i);else{const yr=this.playersByElement.get(Go);yr&&yr.length&&(_i.parentPlayer=Ve(yr)),re.push(_i)}}else Dn(ni,Li.fromStyles),_i.onDestroy(()=>vn(ni,Li.toStyles)),Hd.push(_i),un.has(ni)&&re.push(_i)}),Hd.forEach(Yn=>{const ni=ve.get(Yn.element);if(ni&&ni.length){const _i=Ve(ni);Yn.setRealPlayer(_i)}}),re.forEach(Yn=>{Yn.parentPlayer?Yn.syncPlayerEvents(Yn.parentPlayer):Yn.destroy()});for(let Yn=0;Yn<Ki.length;Yn++){const ni=Ki[Yn],_i=ni[Vi];if(xi(ni,Et),_i&&_i.hasAnimation)continue;let Li=[];if(mt.size){let Ks=mt.get(ni);Ks&&Ks.length&&Li.push(...Ks);let yr=this.driver.query(ni,Ke,!0);for(let ns=0;ns<yr.length;ns++){let oo=mt.get(yr[ns]);oo&&oo.length&&Li.push(...oo)}}const Go=Li.filter(Ks=>!Ks.destroyed);Go.length?lo(this,ni,Go):this.processLeaveNode(ni)}return Ki.length=0,ua.forEach(Yn=>{this.players.push(Yn),Yn.onDone(()=>{Yn.destroy();const ni=this.players.indexOf(Yn);this.players.splice(ni,1)}),Yn.play()}),ua}elementContainsData(A,N){let z=!1;const re=N[Vi];return re&&re.setForRemoval&&(z=!0),this.playersByElement.has(N)&&(z=!0),this.playersByQueriedElement.has(N)&&(z=!0),this.statesByElement.has(N)&&(z=!0),this._fetchNamespace(A).elementContainsData(N)||z}afterFlush(A){this._flushFns.push(A)}afterFlushAnimationsDone(A){this._whenQuietFns.push(A)}_getPreviousPlayers(A,N,z,re,ve){let qe=[];if(N){const mt=this.playersByQueriedElement.get(A);mt&&(qe=mt)}else{const mt=this.playersByElement.get(A);if(mt){const Rt=!ve||ve==Qo;mt.forEach(Ut=>{Ut.queued||!Rt&&Ut.triggerName!=re||qe.push(Ut)})}}return(z||re)&&(qe=qe.filter(mt=>!(z&&z!=mt.namespaceId||re&&re!=mt.triggerName))),qe}_beforeAnimationBuild(A,N,z){const ve=N.element,qe=N.isRemovalTransition?void 0:A,mt=N.isRemovalTransition?void 0:N.triggerName;for(const Rt of N.timelines){const Ut=Rt.element,un=Ut!==ve,fn=He(z,Ut,[]);this._getPreviousPlayers(Ut,un,qe,mt,N.toState).forEach(fi=>{const Gn=fi.getRealPlayer();Gn.beforeDestroy&&Gn.beforeDestroy(),fi.destroy(),fn.push(fi)})}Dn(ve,N.fromStyles)}_buildAnimation(A,N,z,re,ve,qe){const mt=N.triggerName,Rt=N.element,Ut=[],un=new Set,fn=new Set,qn=N.timelines.map(Gn=>{const li=Gn.element;un.add(li);const Ki=li[Vi];if(Ki&&Ki.removedBeforeQueried)return new y.ZN(Gn.duration,Gn.delay);const to=li!==Rt,Ho=function Ln(U){const A=[];return Mn(U,A),A}((z.get(li)||As).map(vr=>vr.getRealPlayer())).filter(vr=>!!vr.element&&vr.element===li),Ar=ve.get(li),ir=qe.get(li),Il=Pe(0,this._normalizer,0,Gn.keyframes,Ar,ir),js=this._buildPlayer(Gn,Il,Ho);if(Gn.subTimeline&&re&&fn.add(li),to){const vr=new Vo(A,mt,li);vr.setRealPlayer(js),Ut.push(vr)}return js});Ut.forEach(Gn=>{He(this.playersByQueriedElement,Gn.element,[]).push(Gn),Gn.onDone(()=>function wo(U,A,N){let z=U.get(A);if(z){if(z.length){const re=z.indexOf(N);z.splice(re,1)}0==z.length&&U.delete(A)}return z}(this.playersByQueriedElement,Gn.element,Gn))}),un.forEach(Gn=>Wi(Gn,Xe));const fi=Ve(qn);return fi.onDestroy(()=>{un.forEach(Gn=>xi(Gn,Xe)),vn(Rt,N.toStyles)}),fn.forEach(Gn=>{He(re,Gn,[]).push(fi)}),fi}_buildPlayer(A,N,z){return N.length>0?this.driver.animate(A.element,N,A.duration,A.delay,A.easing,z):new y.ZN(A.duration,A.delay)}}class Vo{constructor(A,N,z){this.namespaceId=A,this.triggerName=N,this.element=z,this._player=new y.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(A){this._containsRealPlayer||(this._player=A,this._queuedCallbacks.forEach((N,z)=>{N.forEach(re=>xe(A,z,void 0,re))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(A.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(A){this.totalTime=A}syncPlayerEvents(A){const N=this._player;N.triggerCallback&&A.onStart(()=>N.triggerCallback("start")),A.onDone(()=>this.finish()),A.onDestroy(()=>this.destroy())}_queueEvent(A,N){He(this._queuedCallbacks,A,[]).push(N)}onDone(A){this.queued&&this._queueEvent("done",A),this._player.onDone(A)}onStart(A){this.queued&&this._queueEvent("start",A),this._player.onStart(A)}onDestroy(A){this.queued&&this._queueEvent("destroy",A),this._player.onDestroy(A)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(A){this.queued||this._player.setPosition(A)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(A){const N=this._player;N.triggerCallback&&N.triggerCallback(A)}}function Tr(U){return U&&1===U.nodeType}function Fr(U,A){const N=U.style.display;return U.style.display=A??"none",N}function ke(U,A,N,z,re){const ve=[];N.forEach(Rt=>ve.push(Fr(Rt)));const qe=[];z.forEach((Rt,Ut)=>{const un=new Map;Rt.forEach(fn=>{const qn=A.computeStyle(Ut,fn,re);un.set(fn,qn),(!qn||0==qn.length)&&(Ut[Vi]=Sr,qe.push(Ut))}),U.set(Ut,un)});let mt=0;return N.forEach(Rt=>Fr(Rt,ve[mt++])),qe}function Un(U,A){const N=new Map;if(U.forEach(mt=>N.set(mt,[])),0==A.length)return N;const re=new Set(A),ve=new Map;function qe(mt){if(!mt)return 1;let Rt=ve.get(mt);if(Rt)return Rt;const Ut=mt.parentNode;return Rt=N.has(Ut)?Ut:re.has(Ut)?1:qe(Ut),ve.set(mt,Rt),Rt}return A.forEach(mt=>{const Rt=qe(mt);1!==Rt&&N.get(Rt).push(mt)}),N}function Wi(U,A){U.classList?.add(A)}function xi(U,A){U.classList?.remove(A)}function lo(U,A,N){Ve(N).onDone(()=>U.processLeaveNode(A))}function Mn(U,A){for(let N=0;N<U.length;N++){const z=U[N];z instanceof y.ZE?Mn(z.players,A):A.push(z)}}function So(U,A,N){const z=N.get(U);if(!z)return!1;let re=A.get(U);return re?z.forEach(ve=>re.add(ve)):A.set(U,z),N.delete(U),!0}class Ii{constructor(A,N,z){this.bodyNode=A,this._driver=N,this._normalizer=z,this._triggerCache={},this.onRemovalComplete=(re,ve)=>{},this._transitionEngine=new Jo(A,N,z),this._timelineEngine=new Uo(A,N,z),this._transitionEngine.onRemovalComplete=(re,ve)=>this.onRemovalComplete(re,ve)}registerTrigger(A,N,z,re,ve){const qe=A+"-"+re;let mt=this._triggerCache[qe];if(!mt){const Rt=[],un=Kn(this._driver,ve,Rt,[]);if(Rt.length)throw function R(U,A){return new n.vHH(3404,!1)}();mt=function ps(U,A,N){return new Co(U,A,N)}(re,un,this._normalizer),this._triggerCache[qe]=mt}this._transitionEngine.registerTrigger(N,re,mt)}register(A,N){this._transitionEngine.register(A,N)}destroy(A,N){this._transitionEngine.destroy(A,N)}onInsert(A,N,z,re){this._transitionEngine.insertNode(A,N,z,re)}onRemove(A,N,z,re){this._transitionEngine.removeNode(A,N,re||!1,z)}disableAnimations(A,N){this._transitionEngine.markElementAsDisabled(A,N)}process(A,N,z,re){if("@"==z.charAt(0)){const[ve,qe]=it(z);this._timelineEngine.command(ve,N,qe,re)}else this._transitionEngine.trigger(A,N,z,re)}listen(A,N,z,re,ve){if("@"==z.charAt(0)){const[qe,mt]=it(z);return this._timelineEngine.listen(qe,N,mt,ve)}return this._transitionEngine.listen(A,N,z,re,ve)}flush(A=-1){this._transitionEngine.flush(A)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Br=(()=>{class U{constructor(N,z,re){this._element=N,this._startStyles=z,this._endStyles=re,this._state=0;let ve=U.initialStylesByElement.get(N);ve||U.initialStylesByElement.set(N,ve=new Map),this._initialStyles=ve}start(){this._state<1&&(this._startStyles&&vn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vn(this._element,this._initialStyles),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(Dn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dn(this._element,this._endStyles),this._endStyles=null),vn(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function zn(U){let A=null;return U.forEach((N,z)=>{(function Qi(U){return"display"===U||"position"===U})(z)&&(A=A||new Map,A.set(z,N))}),A}class Mr{constructor(A,N,z,re){this.element=A,this.keyframes=N,this.options=z,this._specialStyles=re,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=z.duration,this._delay=z.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(A=>A()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const A=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,A,this.options),this._finalKeyframe=A.length?A[A.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(A){const N=[];return A.forEach(z=>{N.push(Object.fromEntries(z))}),N}_triggerWebAnimation(A,N,z){return A.animate(this._convertKeyframesToObject(N),z)}onStart(A){this._originalOnStartFns.push(A),this._onStartFns.push(A)}onDone(A){this._originalOnDoneFns.push(A),this._onDoneFns.push(A)}onDestroy(A){this._onDestroyFns.push(A)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(A=>A()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(A=>A()),this._onDestroyFns=[])}setPosition(A){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=A*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const A=new Map;this.hasStarted()&&this._finalKeyframe.forEach((z,re)=>{"offset"!==re&&A.set(re,this._finished?z:sn(this.element,re))}),this.currentSnapshot=A}triggerCallback(A){const N="start"===A?this._onStartFns:this._onDoneFns;N.forEach(z=>z()),N.length=0}}class Lo{validateStyleProperty(A){return!0}validateAnimatableStyleProperty(A){return!0}matchesElement(A,N){return!1}containsElement(A,N){return ee(A,N)}getParentElement(A){return Ye(A)}query(A,N,z){return ue(A,N,z)}computeStyle(A,N,z){return window.getComputedStyle(A)[N]}animate(A,N,z,re,ve,qe=[]){const Rt={duration:z,delay:re,fill:0==re?"both":"forwards"};ve&&(Rt.easing=ve);const Ut=new Map,un=qe.filter(fi=>fi instanceof Mr);(function Ft(U,A){return 0===U||0===A})(z,re)&&un.forEach(fi=>{fi.currentSnapshot.forEach((Gn,li)=>Ut.set(li,Gn))});let fn=function Qe(U){return U.length?U[0]instanceof Map?U:U.map(A=>$e(A)):[]}(N).map(fi=>zt(fi));fn=function Bt(U,A,N){if(N.size&&A.length){let z=A[0],re=[];if(N.forEach((ve,qe)=>{z.has(qe)||re.push(qe),z.set(qe,ve)}),re.length)for(let ve=1;ve<A.length;ve++){let qe=A[ve];re.forEach(mt=>qe.set(mt,sn(U,mt)))}}return A}(A,fn,Ut);const qn=function ms(U,A){let N=null,z=null;return Array.isArray(A)&&A.length?(N=zn(A[0]),A.length>1&&(z=zn(A[A.length-1]))):A instanceof Map&&(N=zn(A)),N||z?new Br(U,N,z):null}(A,fn);return new Mr(A,fn,Rt,qn)}}var Oo=t(6895);let dr=(()=>{class U extends y._j{constructor(N,z){super(),this._nextAnimationId=0,this._renderer=N.createRenderer(z.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(N){const z=this._nextAnimationId.toString();this._nextAnimationId++;const re=Array.isArray(N)?(0,y.vP)(N):N;return Oe(this._renderer,null,z,"register",[re]),new No(z,this._renderer)}}return U.\u0275fac=function(N){return new(N||U)(n.LFG(n.FYo),n.LFG(Oo.K0))},U.\u0275prov=n.Yz7({token:U,factory:U.\u0275fac}),U})();class No extends y.LC{constructor(A,N){super(),this._id=A,this._renderer=N}create(A,N){return new De(this._id,A,N||{},this._renderer)}}class De{constructor(A,N,z,re){this.id=A,this.element=N,this._renderer=re,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",z)}_listen(A,N){return this._renderer.listen(this.element,`@@${this.id}:${A}`,N)}_command(A,...N){return Oe(this._renderer,this.element,this.id,A,N)}onDone(A){this._listen("done",A)}onStart(A){this._listen("start",A)}onDestroy(A){this._listen("destroy",A)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(A){this._command("setPosition",A)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Oe(U,A,N,z,re){return U.setProperty(A,`@@${N}:${z}`,re)}const ht="@.disabled";let on=(()=>{class U{constructor(N,z,re){this.delegate=N,this.engine=z,this._zone=re,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),z.onRemovalComplete=(ve,qe)=>{const mt=qe?.parentNode(ve);mt&&qe.removeChild(mt,ve)}}createRenderer(N,z){const ve=this.delegate.createRenderer(N,z);if(!(N&&z&&z.data&&z.data.animation)){let un=this._rendererCache.get(ve);return un||(un=new Nn("",ve,this.engine,()=>this._rendererCache.delete(ve)),this._rendererCache.set(ve,un)),un}const qe=z.id,mt=z.id+"-"+this._currentId;this._currentId++,this.engine.register(mt,N);const Rt=un=>{Array.isArray(un)?un.forEach(Rt):this.engine.registerTrigger(qe,mt,N,un.name,un)};return z.data.animation.forEach(Rt),new Ji(this,mt,ve,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(N,z,re){N>=0&&N<this._microtaskId?this._zone.run(()=>z(re)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ve=>{const[qe,mt]=ve;qe(mt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([z,re]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(N){return new(N||U)(n.LFG(n.FYo),n.LFG(Ii),n.LFG(n.R0b))},U.\u0275prov=n.Yz7({token:U,factory:U.\u0275fac}),U})();class Nn{constructor(A,N,z,re){this.namespaceId=A,this.delegate=N,this.engine=z,this._onDestroy=re,this.destroyNode=this.delegate.destroyNode?ve=>N.destroyNode(ve):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(A,N){return this.delegate.createElement(A,N)}createComment(A){return this.delegate.createComment(A)}createText(A){return this.delegate.createText(A)}appendChild(A,N){this.delegate.appendChild(A,N),this.engine.onInsert(this.namespaceId,N,A,!1)}insertBefore(A,N,z,re=!0){this.delegate.insertBefore(A,N,z),this.engine.onInsert(this.namespaceId,N,A,re)}removeChild(A,N,z){this.engine.onRemove(this.namespaceId,N,this.delegate,z)}selectRootElement(A,N){return this.delegate.selectRootElement(A,N)}parentNode(A){return this.delegate.parentNode(A)}nextSibling(A){return this.delegate.nextSibling(A)}setAttribute(A,N,z,re){this.delegate.setAttribute(A,N,z,re)}removeAttribute(A,N,z){this.delegate.removeAttribute(A,N,z)}addClass(A,N){this.delegate.addClass(A,N)}removeClass(A,N){this.delegate.removeClass(A,N)}setStyle(A,N,z,re){this.delegate.setStyle(A,N,z,re)}removeStyle(A,N,z){this.delegate.removeStyle(A,N,z)}setProperty(A,N,z){"@"==N.charAt(0)&&N==ht?this.disableAnimations(A,!!z):this.delegate.setProperty(A,N,z)}setValue(A,N){this.delegate.setValue(A,N)}listen(A,N,z){return this.delegate.listen(A,N,z)}disableAnimations(A,N){this.engine.disableAnimations(A,N)}}class Ji extends Nn{constructor(A,N,z,re,ve){super(N,z,re,ve),this.factory=A,this.namespaceId=N}setProperty(A,N,z){"@"==N.charAt(0)?"."==N.charAt(1)&&N==ht?this.disableAnimations(A,z=void 0===z||!!z):this.engine.process(this.namespaceId,A,N.slice(1),z):this.delegate.setProperty(A,N,z)}listen(A,N,z){if("@"==N.charAt(0)){const re=function To(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(A);let ve=N.slice(1),qe="";return"@"!=ve.charAt(0)&&([ve,qe]=function Gr(U){const A=U.indexOf(".");return[U.substring(0,A),U.slice(A+1)]}(ve)),this.engine.listen(this.namespaceId,re,ve,qe,mt=>{this.factory.scheduleListenerCallback(mt._data||-1,z,mt)})}return this.delegate.listen(A,N,z)}}const _s=[{provide:y._j,useClass:dr},{provide:se,useFactory:function _n(){return new Pt}},{provide:Ii,useClass:(()=>{class U extends Ii{constructor(N,z,re,ve){super(N.body,z,re)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(N){return new(N||U)(n.LFG(Oo.K0),n.LFG(Ze),n.LFG(se),n.LFG(n.z2F))},U.\u0275prov=n.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:n.FYo,useFactory:function Ti(U,A,N){return new on(U,A,N)},deps:[e.se,Ii,n.R0b]}],Ur=[{provide:Ze,useFactory:()=>new Lo},{provide:n.QbO,useValue:"BrowserAnimations"},..._s],Ni=[{provide:Ze,useClass:pt},{provide:n.QbO,useValue:"NoopAnimations"},..._s];let Fo=(()=>{class U{static withConfig(N){return{ngModule:U,providers:N.disableAnimations?Ni:Ur}}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=n.oAB({type:U}),U.\u0275inj=n.cJS({providers:Ur,imports:[e.b2]}),U})();var Xi=t(4006),fo=t(6581),xr=t(8514),as=t(1737),ro=t(3753),Mo=t(1086),Gs=t(1221),Vr=t(8929),$o=t(6498),Ls=t(7876);const Wo=new $o.y(Ls.Z);var Qr=t(6787),pr=t(4850),ho=t(2198),ls=t(7545),qo=t(2536),Dr=t(2986),xo=t(2994),Le=t(8583);const Ge="Service workers are disabled or not supported by this browser";class Ct{constructor(A){if(this.serviceWorker=A,A){const z=(0,ro.R)(A,"controllerchange").pipe((0,pr.U)(()=>A.controller)),re=(0,xr.P)(()=>(0,Mo.of)(A.controller)),ve=(0,Gs.z)(re,z);this.worker=ve.pipe((0,ho.h)(un=>!!un)),this.registration=this.worker.pipe((0,ls.w)(()=>A.getRegistration()));const Ut=(0,ro.R)(A,"message").pipe((0,pr.U)(un=>un.data)).pipe((0,ho.h)(un=>un&&un.type)).pipe(function vi(U){return U?(0,qo.O)(()=>new Vr.xQ,U):(0,qo.O)(new Vr.xQ)}());Ut.connect(),this.events=Ut}else this.worker=this.events=this.registration=function Gt(U){return(0,xr.P)(()=>(0,as._)(new Error(U)))}(Ge)}postMessage(A,N){return this.worker.pipe((0,Dr.q)(1),(0,xo.b)(z=>{z.postMessage({action:A,...N})})).toPromise().then(()=>{})}postMessageWithOperation(A,N,z){const re=this.waitForOperationCompleted(z),ve=this.postMessage(A,N);return Promise.all([ve,re]).then(([,qe])=>qe)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(A){let N;return N="string"==typeof A?z=>z.type===A:z=>A.includes(z.type),this.events.pipe((0,ho.h)(N))}nextEventOfType(A){return this.eventsOfType(A).pipe((0,Dr.q)(1))}waitForOperationCompleted(A){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ho.h)(N=>N.nonce===A),(0,Dr.q)(1),(0,pr.U)(N=>{if(void 0!==N.result)return N.result;throw new Error(N.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Xt=(()=>{class U{constructor(N){if(this.sw=N,this.subscriptionChanges=new Vr.xQ,!N.isEnabled)return this.messages=Wo,this.notificationClicks=Wo,void(this.subscription=Wo);this.messages=this.sw.eventsOfType("PUSH").pipe((0,pr.U)(re=>re.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,pr.U)(re=>re.data)),this.pushManager=this.sw.registration.pipe((0,pr.U)(re=>re.pushManager));const z=this.pushManager.pipe((0,ls.w)(re=>re.getSubscription()));this.subscription=(0,Qr.T)(z,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(N){if(!this.sw.isEnabled)return Promise.reject(new Error(Ge));const z={userVisibleOnly:!0};let re=this.decodeBase64(N.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),ve=new Uint8Array(new ArrayBuffer(re.length));for(let qe=0;qe<re.length;qe++)ve[qe]=re.charCodeAt(qe);return z.applicationServerKey=ve,this.pushManager.pipe((0,ls.w)(qe=>qe.subscribe(z)),(0,Dr.q)(1)).toPromise().then(qe=>(this.subscriptionChanges.next(qe),qe))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Dr.q)(1),(0,ls.w)(z=>{if(null===z)throw new Error("Not subscribed to push notifications.");return z.unsubscribe().then(re=>{if(!re)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ge))}decodeBase64(N){return atob(N)}}return U.\u0275fac=function(N){return new(N||U)(n.LFG(Ct))},U.\u0275prov=n.Yz7({token:U,factory:U.\u0275fac}),U})(),Cn=(()=>{class U{constructor(N){if(this.sw=N,!N.isEnabled)return this.versionUpdates=Wo,this.available=Wo,this.activated=Wo,void(this.unrecoverable=Wo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,ho.h)(z=>"VERSION_READY"===z.type),(0,pr.U)(z=>({type:"UPDATE_AVAILABLE",current:z.currentVersion,available:z.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ge));const N=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:N},N)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ge));const N=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:N},N)}}return U.\u0275fac=function(N){return new(N||U)(n.LFG(Ct))},U.\u0275prov=n.Yz7({token:U,factory:U.\u0275fac}),U})();class wn{}const xn=new n.OlP("NGSW_REGISTER_SCRIPT");function ui(U,A,N,z){return()=>{if(!(0,Oo.NF)(z)||!("serviceWorker"in navigator)||!1===N.enabled)return;let re;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof N.registrationStrategy)re=N.registrationStrategy();else{const[qe,...mt]=(N.registrationStrategy||"registerWhenStable:30000").split(":");switch(qe){case"registerImmediately":re=(0,Mo.of)(null);break;case"registerWithDelay":re=Jn(+mt[0]||0);break;case"registerWhenStable":re=mt[0]?(0,Qr.T)(cs(U),Jn(+mt[0])):cs(U);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${N.registrationStrategy}`)}}U.get(n.R0b).runOutsideAngular(()=>re.pipe((0,Dr.q)(1)).subscribe(()=>navigator.serviceWorker.register(A,{scope:N.scope}).catch(qe=>console.error("Service worker registration failed with:",qe))))}}function Jn(U){return(0,Mo.of)(null).pipe((0,Le.g)(U))}function cs(U){return U.get(n.z2F).isStable.pipe((0,ho.h)(N=>N))}function ma(U,A){return new Ct((0,Oo.NF)(A)&&!1!==U.enabled?navigator.serviceWorker:void 0)}let he=(()=>{class U{static register(N,z={}){return{ngModule:U,providers:[{provide:xn,useValue:N},{provide:wn,useValue:z},{provide:Ct,useFactory:ma,deps:[wn,n.Lbi]},{provide:n.ip1,useFactory:ui,deps:[n.zs3,xn,wn,n.Lbi],multi:!0}]}}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=n.oAB({type:U}),U.\u0275inj=n.cJS({providers:[Xt,Cn]}),U})();var ze=t(5001),Se=t(3238),st=t(529),Nt=t(9383);class tn{constructor(A,N="/assets/i18n/",z=".json"){this.http=A,this.prefix=N,this.suffix=z}getTranslation(A){return this.http.get(`${this.prefix}${A}${this.suffix}`)}}var ln=t(9671),jn=t(7224),Si=t(4351),Ai=t(9358),Zn=t(8368),mi=t(565),so=t(9375),ji=t(3902),Di=t(2732);const Ko=["debug","info","warn","error","log","assert","trace"];function Jr(U){if(!("console"in Di.n2))return U();const A=Di.n2.console,N={};Ko.forEach(z=>{const re=A[z]&&A[z].__sentry_original__;z in A&&re&&(N[z]=A[z],A[z]=re)});try{return U()}finally{Object.keys(N).forEach(z=>{A[z]=N[z]})}}function jr(){let U=!1;const A={enable:()=>{U=!0},disable:()=>{U=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Ko.forEach(N=>{A[N]=(...z)=>{U&&Jr(()=>{Di.n2.console[N](`Sentry Logger [${N}]:`,...z)})}}):Ko.forEach(N=>{A[N]=()=>{}}),A}let ri;ri=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?(0,Di.YO)("logger",jr):jr();const vs=Object.prototype.toString;function Ns(U){switch(vs.call(U)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return co(U,Error)}}function Pr(U,A){return vs.call(U)===`[object ${A}]`}function ys(U){return Pr(U,"ErrorEvent")}function bs(U){return Pr(U,"DOMError")}function $r(U){return Pr(U,"String")}function Va(U){return null===U||"object"!=typeof U&&"function"!=typeof U}function Xr(U){return Pr(U,"Object")}function Ys(U){return typeof Event<"u"&&co(U,Event)}function Es(U){return Boolean(U&&U.then&&"function"==typeof U.then)}function co(U,A){try{return U instanceof A}catch{return!1}}const $a=(0,Di.Rf)();function Qs(U,A={}){try{let N=U;const z=5,re=[];let ve=0,qe=0;const mt=" > ",Rt=mt.length;let Ut;const un=Array.isArray(A)?A:A.keyAttrs,fn=!Array.isArray(A)&&A.maxStringLength||80;for(;N&&ve++<z&&(Ut=Fl(N,un),!("html"===Ut||ve>1&&qe+re.length*Rt+Ut.length>=fn));)re.push(Ut),qe+=Ut.length,N=N.parentNode;return re.reverse().join(mt)}catch{return"<unknown>"}}function Fl(U,A){const N=U,z=[];let re,ve,qe,mt,Rt;if(!N||!N.tagName)return"";z.push(N.tagName.toLowerCase());const Ut=A&&A.length?A.filter(fn=>N.getAttribute(fn)).map(fn=>[fn,N.getAttribute(fn)]):null;if(Ut&&Ut.length)Ut.forEach(fn=>{z.push(`[${fn[0]}="${fn[1]}"]`)});else if(N.id&&z.push(`#${N.id}`),re=N.className,re&&$r(re))for(ve=re.split(/\s+/),Rt=0;Rt<ve.length;Rt++)z.push(`.${ve[Rt]}`);const un=["type","name","title","alt"];for(Rt=0;Rt<un.length;Rt++)qe=un[Rt],mt=N.getAttribute(qe),mt&&z.push(`[${qe}="${mt}"]`);return z.join("")}function _a(U,A=0){return"string"!=typeof U||0===A||U.length<=A?U:`${U.substr(0,A)}...`}function dl(U,A){if(!Array.isArray(U))return"";const N=[];for(let z=0;z<U.length;z++){const re=U[z];try{N.push(String(re))}catch{N.push("[value cannot be serialized]")}}return N.join(A)}function va(U,A=[],N=!1){return A.some(z=>function ga(U,A,N=!1){return!!$r(U)&&(function vo(U){return Pr(U,"RegExp")}(A)?A.test(U):!!$r(A)&&(N?U===A:U.includes(A)))}(U,z,N))}function uo(U,A,N){if(!(A in U))return;const z=U[A],re=N(z);if("function"==typeof re)try{hc(re,z)}catch{}U[A]=re}function Cs(U,A,N){Object.defineProperty(U,A,{value:N,writable:!0,configurable:!0})}function hc(U,A){U.prototype=A.prototype=A.prototype||{},Cs(U,"__sentry_original__",A)}function us(U){return U.__sentry_original__}function Os(U){if(Ns(U))return{message:U.message,name:U.name,stack:U.stack,...Bl(U)};if(Ys(U)){const A={type:U.type,target:ks(U.target),currentTarget:ks(U.currentTarget),...Bl(U)};return typeof CustomEvent<"u"&&co(U,CustomEvent)&&(A.detail=U.detail),A}return U}function ks(U){try{return function ja(U){return typeof Element<"u"&&co(U,Element)}(U)?Qs(U):Object.prototype.toString.call(U)}catch{return"<unknown>"}}function Bl(U){if("object"==typeof U&&null!==U){const A={};for(const N in U)Object.prototype.hasOwnProperty.call(U,N)&&(A[N]=U[N]);return A}return{}}function Ka(U,A=40){const N=Object.keys(Os(U));if(N.sort(),!N.length)return"[object has no keys]";if(N[0].length>=A)return _a(N[0],A);for(let z=N.length;z>0;z--){const re=N.slice(0,z).join(", ");if(!(re.length>A))return z===N.length?re:_a(re,A)}return""}function Ts(U){return Ir(U,new Map)}function Ir(U,A){if(Xr(U)){const N=A.get(U);if(void 0!==N)return N;const z={};A.set(U,z);for(const re of Object.keys(U))typeof U[re]<"u"&&(z[re]=Ir(U[re],A));return z}if(Array.isArray(U)){const N=A.get(U);if(void 0!==N)return N;const z=[];return A.set(U,z),U.forEach(re=>{z.push(Ir(re,A))}),z}return U}function qr(){const U=Di.n2,A=U.crypto||U.msCrypto;if(A&&A.randomUUID)return A.randomUUID().replace(/-/g,"");const N=A&&A.getRandomValues?()=>A.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,z=>(z^(15&N())>>z/4).toString(16))}function Js(U){return U.exception&&U.exception.values?U.exception.values[0]:void 0}function mr(U){const{message:A,event_id:N}=U;if(A)return A;const z=Js(U);return z?z.type&&z.value?`${z.type}: ${z.value}`:z.type||z.value||N||"<unknown>":N||"<unknown>"}function ya(U,A,N){const z=U.exception=U.exception||{},re=z.values=z.values||[],ve=re[0]=re[0]||{};ve.value||(ve.value=A||""),ve.type||(ve.type=N||"Error")}function es(U,A){const N=Js(U);if(!N)return;const re=N.mechanism;if(N.mechanism={type:"generic",handled:!0,...re,...A},A&&"data"in A){const ve={...re&&re.data,...A.data};N.mechanism.data=ve}}function ki(U){if(U&&U.__sentry_captured__)return!0;try{Cs(U,"__sentry_captured__",!0)}catch{}return!1}function fl(U){return Array.isArray(U)?U:[U]}const po=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class zo{static __initStatic(){this.id="InboundFilters"}__init(){this.name=zo.id}constructor(A={}){this._options=A,zo.prototype.__init.call(this)}setupOnce(A,N){const z=re=>{const ve=N();if(ve){const qe=ve.getIntegration(zo);if(qe){const mt=ve.getClient(),Rt=mt?mt.getOptions():{},Ut=function ru(U={},A={}){return{allowUrls:[...U.allowUrls||[],...A.allowUrls||[]],denyUrls:[...U.denyUrls||[],...A.denyUrls||[]],ignoreErrors:[...U.ignoreErrors||[],...A.ignoreErrors||[],...po],ignoreInternal:void 0===U.ignoreInternal||U.ignoreInternal}}(qe._options,Rt);return function Ul(U,A){return A.ignoreInternal&&function cu(U){try{return"SentryError"===U.exception.values[0].type}catch{}return!1}(U)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${mr(U)}`),!0):function su(U,A){return!(!A||!A.length)&&function lu(U){if(U.message)return[U.message];if(U.exception)try{const{type:A="",value:N=""}=U.exception.values&&U.exception.values[0]||{};return[`${N}`,`${A}: ${N}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error(`Cannot extract message for event ${mr(U)}`),[]}return[]}(U).some(N=>va(N,A))}(U,A.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${mr(U)}`),!0):function au(U,A){if(!A||!A.length)return!1;const N=qs(U);return!!N&&va(N,A)}(U,A.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${mr(U)}.\nUrl: ${qs(U)}`),!0):!function Ea(U,A){if(!A||!A.length)return!0;const N=qs(U);return!N||va(N,A)}(U,A.allowUrls)&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${mr(U)}.\nUrl: ${qs(U)}`),!0)}(re,Ut)?null:re}}return re};z.id=this.name,A(z)}}function qs(U){try{let A;try{A=U.exception.values[0].stacktrace.frames}catch{}return A?function mo(U=[]){for(let A=U.length-1;A>=0;A--){const N=U[A];if(N&&"<anonymous>"!==N.filename&&"[native code]"!==N.filename)return N.filename||null}return null}(A):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error(`Cannot extract url for event ${mr(U)}`),null}}let ea;zo.__initStatic();class ta{constructor(){ta.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=ta.id}setupOnce(){ea=Function.prototype.toString,Function.prototype.toString=function(...A){const N=us(this)||this;return ea.apply(N,A)}}}ta.__initStatic();var oe,U,Do=t(3967),na=t(723);function ae(U){return new pe(A=>{A(U)})}function Y(U){return new pe((A,N)=>{N(U)})}(U=oe||(oe={}))[U.PENDING=0]="PENDING",U[U.RESOLVED=1]="RESOLVED",U[U.REJECTED=2]="REJECTED";class pe{__init(){this._state=oe.PENDING}__init2(){this._handlers=[]}constructor(A){pe.prototype.__init.call(this),pe.prototype.__init2.call(this),pe.prototype.__init3.call(this),pe.prototype.__init4.call(this),pe.prototype.__init5.call(this),pe.prototype.__init6.call(this);try{A(this._resolve,this._reject)}catch(N){this._reject(N)}}then(A,N){return new pe((z,re)=>{this._handlers.push([!1,ve=>{if(A)try{z(A(ve))}catch(qe){re(qe)}else z(ve)},ve=>{if(N)try{z(N(ve))}catch(qe){re(qe)}else re(ve)}]),this._executeHandlers()})}catch(A){return this.then(N=>N,A)}finally(A){return new pe((N,z)=>{let re,ve;return this.then(qe=>{ve=!1,re=qe,A&&A()},qe=>{ve=!0,re=qe,A&&A()}).then(()=>{ve?z(re):N(re)})})}__init3(){this._resolve=A=>{this._setResult(oe.RESOLVED,A)}}__init4(){this._reject=A=>{this._setResult(oe.REJECTED,A)}}__init5(){this._setResult=(A,N)=>{if(this._state===oe.PENDING){if(Es(N))return void N.then(this._resolve,this._reject);this._state=A,this._value=N,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===oe.PENDING)return;const A=this._handlers.slice();this._handlers=[],A.forEach(N=>{N[0]||(this._state===oe.RESOLVED&&N[1](this._value),this._state===oe.REJECTED&&N[2](this._value),N[0]=!0)})}}}function at(U,A={}){if(A.user&&(!U.ipAddress&&A.user.ip_address&&(U.ipAddress=A.user.ip_address),!U.did&&!A.did&&(U.did=A.user.id||A.user.email||A.user.username)),U.timestamp=A.timestamp||(0,Do.ph)(),A.ignoreDuration&&(U.ignoreDuration=A.ignoreDuration),A.sid&&(U.sid=32===A.sid.length?A.sid:qr()),void 0!==A.init&&(U.init=A.init),!U.did&&A.did&&(U.did=`${A.did}`),"number"==typeof A.started&&(U.started=A.started),U.ignoreDuration)U.duration=void 0;else if("number"==typeof A.duration)U.duration=A.duration;else{const N=U.timestamp-U.started;U.duration=N>=0?N:0}A.release&&(U.release=A.release),A.environment&&(U.environment=A.environment),!U.ipAddress&&A.ipAddress&&(U.ipAddress=A.ipAddress),!U.userAgent&&A.userAgent&&(U.userAgent=A.userAgent),"number"==typeof A.errors&&(U.errors=A.errors),A.status&&(U.status=A.status)}class kn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(A){const N=new kn;return A&&(N._breadcrumbs=[...A._breadcrumbs],N._tags={...A._tags},N._extra={...A._extra},N._contexts={...A._contexts},N._user=A._user,N._level=A._level,N._span=A._span,N._session=A._session,N._transactionName=A._transactionName,N._fingerprint=A._fingerprint,N._eventProcessors=[...A._eventProcessors],N._requestSession=A._requestSession,N._attachments=[...A._attachments],N._sdkProcessingMetadata={...A._sdkProcessingMetadata}),N}addScopeListener(A){this._scopeListeners.push(A)}addEventProcessor(A){return this._eventProcessors.push(A),this}setUser(A){return this._user=A||{},this._session&&at(this._session,{user:A}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(A){return this._requestSession=A,this}setTags(A){return this._tags={...this._tags,...A},this._notifyScopeListeners(),this}setTag(A,N){return this._tags={...this._tags,[A]:N},this._notifyScopeListeners(),this}setExtras(A){return this._extra={...this._extra,...A},this._notifyScopeListeners(),this}setExtra(A,N){return this._extra={...this._extra,[A]:N},this._notifyScopeListeners(),this}setFingerprint(A){return this._fingerprint=A,this._notifyScopeListeners(),this}setLevel(A){return this._level=A,this._notifyScopeListeners(),this}setTransactionName(A){return this._transactionName=A,this._notifyScopeListeners(),this}setContext(A,N){return null===N?delete this._contexts[A]:this._contexts[A]=N,this._notifyScopeListeners(),this}setSpan(A){return this._span=A,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const A=this.getSpan();return A&&A.transaction}setSession(A){return A?this._session=A:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(A){if(!A)return this;if("function"==typeof A){const N=A(this);return N instanceof kn?N:this}return A instanceof kn?(this._tags={...this._tags,...A._tags},this._extra={...this._extra,...A._extra},this._contexts={...this._contexts,...A._contexts},A._user&&Object.keys(A._user).length&&(this._user=A._user),A._level&&(this._level=A._level),A._fingerprint&&(this._fingerprint=A._fingerprint),A._requestSession&&(this._requestSession=A._requestSession)):Xr(A)&&(this._tags={...this._tags,...A.tags},this._extra={...this._extra,...A.extra},this._contexts={...this._contexts,...A.contexts},A.user&&(this._user=A.user),A.level&&(this._level=A.level),A.fingerprint&&(this._fingerprint=A.fingerprint),A.requestSession&&(this._requestSession=A.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(A,N){const z="number"==typeof N?N:100;if(z<=0)return this;const re={timestamp:(0,Do.yW)(),...A};return this._breadcrumbs=[...this._breadcrumbs,re].slice(-z),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(A){return this._attachments.push(A),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(A,N={}){if(this._extra&&Object.keys(this._extra).length&&(A.extra={...this._extra,...A.extra}),this._tags&&Object.keys(this._tags).length&&(A.tags={...this._tags,...A.tags}),this._user&&Object.keys(this._user).length&&(A.user={...this._user,...A.user}),this._contexts&&Object.keys(this._contexts).length&&(A.contexts={...this._contexts,...A.contexts}),this._level&&(A.level=this._level),this._transactionName&&(A.transaction=this._transactionName),this._span){A.contexts={trace:this._span.getTraceContext(),...A.contexts};const z=this._span.transaction&&this._span.transaction.name;z&&(A.tags={transaction:z,...A.tags})}return this._applyFingerprint(A),A.breadcrumbs=[...A.breadcrumbs||[],...this._breadcrumbs],A.breadcrumbs=A.breadcrumbs.length>0?A.breadcrumbs:void 0,A.sdkProcessingMetadata={...A.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Qn(),...this._eventProcessors],A,N)}setSDKProcessingMetadata(A){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...A},this}_notifyEventProcessors(A,N,z,re=0){return new pe((ve,qe)=>{const mt=A[re];if(null===N||"function"!=typeof mt)ve(N);else{const Rt=mt({...N},z);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&mt.id&&null===Rt&&ri.log(`Event processor "${mt.id}" dropped event`),Es(Rt)?Rt.then(Ut=>this._notifyEventProcessors(A,Ut,z,re+1).then(ve)).then(null,qe):this._notifyEventProcessors(A,Rt,z,re+1).then(ve).then(null,qe)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(A=>{A(this)}),this._notifyingListeners=!1)}_applyFingerprint(A){A.fingerprint=A.fingerprint?fl(A.fingerprint):[],this._fingerprint&&(A.fingerprint=A.fingerprint.concat(this._fingerprint)),A.fingerprint&&!A.fingerprint.length&&delete A.fingerprint}}function Qn(){return(0,Di.YO)("globalEventProcessors",()=>[])}function wi(U){Qn().push(U)}const Ms=100;class _r{__init(){this._stack=[{}]}constructor(A,N=new kn,z=4){this._version=z,_r.prototype.__init.call(this),this.getStackTop().scope=N,A&&this.bindClient(A)}isOlderThan(A){return this._version<A}bindClient(A){this.getStackTop().client=A,A&&A.setupIntegrations&&A.setupIntegrations()}pushScope(){const A=kn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:A}),A}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(A){const N=this.pushScope();try{A(N)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(A,N){const z=this._lastEventId=N&&N.event_id?N.event_id:qr(),re=new Error("Sentry syntheticException");return this._withClient((ve,qe)=>{ve.captureException(A,{originalException:A,syntheticException:re,...N,event_id:z},qe)}),z}captureMessage(A,N,z){const re=this._lastEventId=z&&z.event_id?z.event_id:qr(),ve=new Error(A);return this._withClient((qe,mt)=>{qe.captureMessage(A,N,{originalException:A,syntheticException:ve,...z,event_id:re},mt)}),re}captureEvent(A,N){const z=N&&N.event_id?N.event_id:qr();return"transaction"!==A.type&&(this._lastEventId=z),this._withClient((re,ve)=>{re.captureEvent(A,{...N,event_id:z},ve)}),z}lastEventId(){return this._lastEventId}addBreadcrumb(A,N){const{scope:z,client:re}=this.getStackTop();if(!z||!re)return;const{beforeBreadcrumb:ve=null,maxBreadcrumbs:qe=Ms}=re.getOptions&&re.getOptions()||{};if(qe<=0)return;const Rt={timestamp:(0,Do.yW)(),...A},Ut=ve?Jr(()=>ve(Rt,N)):Rt;null!==Ut&&z.addBreadcrumb(Ut,qe)}setUser(A){const N=this.getScope();N&&N.setUser(A)}setTags(A){const N=this.getScope();N&&N.setTags(A)}setExtras(A){const N=this.getScope();N&&N.setExtras(A)}setTag(A,N){const z=this.getScope();z&&z.setTag(A,N)}setExtra(A,N){const z=this.getScope();z&&z.setExtra(A,N)}setContext(A,N){const z=this.getScope();z&&z.setContext(A,N)}configureScope(A){const{scope:N,client:z}=this.getStackTop();N&&z&&A(N)}run(A){const N=yo(this);try{A(this)}finally{yo(N)}}getIntegration(A){const N=this.getClient();if(!N)return null;try{return N.getIntegration(A)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Cannot retrieve integration ${A.id} from the current Hub`),null}}startTransaction(A,N){return this._callExtensionMethod("startTransaction",A,N)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(A=!1){if(A)return this.endSession();this._sendSessionUpdate()}endSession(){const A=this.getStackTop(),N=A&&A.scope,z=N&&N.getSession();z&&function gt(U,A){let N={};A?N={status:A}:"ok"===U.status&&(N={status:"exited"}),at(U,N)}(z),this._sendSessionUpdate(),N&&N.setSession()}startSession(A){const{scope:N,client:z}=this.getStackTop(),{release:re,environment:ve}=z&&z.getOptions()||{},{userAgent:qe}=Di.n2.navigator||{},mt=function Ae(U){const A=(0,Do.ph)(),N={sid:qr(),init:!0,timestamp:A,started:A,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function Vt(U){return Ts({sid:`${U.sid}`,init:U.init,started:new Date(1e3*U.started).toISOString(),timestamp:new Date(1e3*U.timestamp).toISOString(),status:U.status,errors:U.errors,did:"number"==typeof U.did||"string"==typeof U.did?`${U.did}`:void 0,duration:U.duration,attrs:{release:U.release,environment:U.environment,ip_address:U.ipAddress,user_agent:U.userAgent}})}(N)};return U&&at(N,U),N}({release:re,environment:ve,...N&&{user:N.getUser()},...qe&&{userAgent:qe},...A});if(N){const Rt=N.getSession&&N.getSession();Rt&&"ok"===Rt.status&&at(Rt,{status:"exited"}),this.endSession(),N.setSession(mt)}return mt}shouldSendDefaultPii(){const A=this.getClient(),N=A&&A.getOptions();return Boolean(N&&N.sendDefaultPii)}_sendSessionUpdate(){const{scope:A,client:N}=this.getStackTop();if(!A)return;const z=A.getSession();z&&N&&N.captureSession&&N.captureSession(z)}_withClient(A){const{scope:N,client:z}=this.getStackTop();z&&A(z,N)}_callExtensionMethod(A,...N){const re=Wr().__SENTRY__;if(re&&re.extensions&&"function"==typeof re.extensions[A])return re.extensions[A].apply(this,N);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Extension method ${A} couldn't be found, doing nothing.`)}}function Wr(){return Di.n2.__SENTRY__=Di.n2.__SENTRY__||{extensions:{},hub:void 0},Di.n2}function yo(U){const A=Wr(),N=ds(A);return Sa(A,U),N}function $i(){const U=Wr();return(!ia(U)||ds(U).isOlderThan(4))&&Sa(U,new _r),(0,na.KV)()?function Ca(U){try{const A=Wr().__SENTRY__,N=A&&A.extensions&&A.extensions.domain&&A.extensions.domain.active;if(!N)return ds(U);if(!ia(N)||ds(N).isOlderThan(4)){const z=ds(U).getStackTop();Sa(N,new _r(z.client,kn.clone(z.scope)))}return ds(N)}catch{return ds(U)}}(U):ds(U)}function ia(U){return!!(U&&U.__SENTRY__&&U.__SENTRY__.hub)}function ds(U){return(0,Di.YO)("hub",()=>new _r,U)}function Sa(U,A){return!!U&&((U.__SENTRY__=U.__SENTRY__||{}).hub=A,!0)}const mc=[];function Oa(U){const A=U.defaultIntegrations||[],N=U.integrations;let z;A.forEach(qe=>{qe.isDefaultInstance=!0}),z=Array.isArray(N)?[...A,...N]:"function"==typeof N?fl(N(A)):A;const re=function hl(U){const A={};return U.forEach(N=>{const{name:z}=N,re=A[z];re&&!re.isDefaultInstance&&N.isDefaultInstance||(A[z]=N)}),Object.values(A)}(z),ve=re.findIndex(qe=>"Debug"===qe.name);if(-1!==ve){const[qe]=re.splice(ve,1);re.push(qe)}return re}class Po extends Error{constructor(A,N="warn"){super(A),this.message=A,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=N}}const uu=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Vl(U,A=!1){const{host:N,path:z,pass:re,port:ve,projectId:qe,protocol:mt,publicKey:Rt}=U;return`${mt}://${Rt}${A&&re?`:${re}`:""}@${N}${ve?`:${ve}`:""}/${z&&`${z}/`}${qe}`}function Ta(U){return{protocol:U.protocol,publicKey:U.publicKey||"",pass:U.pass||"",host:U.host,port:U.port||"",path:U.path||"",projectId:U.projectId}}function du(U){const A="string"==typeof U?function Ha(U){const A=uu.exec(U);if(!A)throw new Po(`Invalid Sentry Dsn: ${U}`);const[N,z,re="",ve,qe="",mt]=A.slice(1);let Rt="",Ut=mt;const un=Ut.split("/");if(un.length>1&&(Rt=un.slice(0,-1).join("/"),Ut=un.pop()),Ut){const fn=Ut.match(/^\d+/);fn&&(Ut=fn[0])}return Ta({host:ve,pass:re,path:Rt,projectId:Ut,port:qe,protocol:N,publicKey:z})}(U):Ta(U);return function jl(U){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:A,projectId:N,protocol:z}=U;if(["protocol","publicKey","host","projectId"].forEach(ve=>{if(!U[ve])throw new Po(`Invalid Sentry Dsn: ${ve} missing`)}),!N.match(/^\d+$/))throw new Po(`Invalid Sentry Dsn: Invalid projectId ${N}`);if(!function rd(U){return"http"===U||"https"===U}(z))throw new Po(`Invalid Sentry Dsn: Invalid protocol ${z}`);if(A&&isNaN(parseInt(A,10)))throw new Po(`Invalid Sentry Dsn: Invalid port ${A}`)}(A),A}function pl(U){return`${U.protocol?`${U.protocol}:`:""}//${U.host}${U.port?`:${U.port}`:""}${U.path?`/${U.path}`:""}/api/`}function Ga(U,A={}){const z="string"!=typeof A&&A._metadata?A._metadata.sdk:void 0;return("string"==typeof A?A:A.tunnel)||`${function sd(U){return`${pl(U)}${U.projectId}/envelope/`}(U)}?${function Kr(U,A){return function Ss(U){return Object.keys(U).map(A=>`${encodeURIComponent(A)}=${encodeURIComponent(U[A])}`).join("&")}({sentry_key:U.publicKey,sentry_version:"7",...A&&{sentry_client:`${A.name}/${A.version}`}})}(U,z)}`}function Wl(...U){const A=U.sort((N,z)=>N[0]-z[0]).map(N=>N[1]);return(N,z=0)=>{const re=[];for(const ve of N.split("\n").slice(z)){const qe=ve.replace(/\(error: (.*)\)/,"$1");for(const mt of A){const Rt=mt(qe);if(Rt){re.push(Rt);break}}}return function gc(U){if(!U.length)return[];let A=U;const N=A[0].function||"",z=A[A.length-1].function||"";return(-1!==N.indexOf("captureMessage")||-1!==N.indexOf("captureException"))&&(A=A.slice(1)),-1!==z.indexOf("sentryWrapped")&&(A=A.slice(0,-1)),A.slice(0,50).map(re=>({...re,filename:re.filename||A[0].filename,function:re.function||"?"})).reverse()}(re)}}function ad(U){return Array.isArray(U)?Wl(...U):U}const oa="<anonymous>";function Hi(U){try{return U&&"function"==typeof U&&U.name||oa}catch{return oa}}const Zo=(0,Di.Rf)();function Us(){if(!("fetch"in Zo))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function xs(U){return U&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(U.toString())}const qi=(0,Di.Rf)(),Ma={},gl={};function fs(U,A){Ma[U]=Ma[U]||[],Ma[U].push(A),function vc(U){if(!gl[U])switch(gl[U]=!0,U){case"console":!function hs(){"console"in qi&&Ko.forEach(function(U){U in qi.console&&uo(qi.console,U,function(A){return function(...N){zr("console",{args:N,level:U}),A&&A.apply(qi.console,N)}})})}();break;case"dom":!function qa(){if(!("document"in qi))return;const U=zr.bind(null,"dom"),A=tr(U,!0);qi.document.addEventListener("click",A,!1),qi.document.addEventListener("keypress",A,!1),["EventTarget","Node"].forEach(N=>{const z=qi[N]&&qi[N].prototype;!z||!z.hasOwnProperty||!z.hasOwnProperty("addEventListener")||(uo(z,"addEventListener",function(re){return function(ve,qe,mt){if("click"===ve||"keypress"==ve)try{const Rt=this,Ut=Rt.__sentry_instrumentation_handlers__=Rt.__sentry_instrumentation_handlers__||{},un=Ut[ve]=Ut[ve]||{refCount:0};if(!un.handler){const fn=tr(U);un.handler=fn,re.call(this,ve,fn,mt)}un.refCount++}catch{}return re.call(this,ve,qe,mt)}}),uo(z,"removeEventListener",function(re){return function(ve,qe,mt){if("click"===ve||"keypress"==ve)try{const Rt=this,Ut=Rt.__sentry_instrumentation_handlers__||{},un=Ut[ve];un&&(un.refCount--,un.refCount<=0&&(re.call(this,ve,un.handler,mt),un.handler=void 0,delete Ut[ve]),0===Object.keys(Ut).length&&delete Rt.__sentry_instrumentation_handlers__)}catch{}return re.call(this,ve,qe,mt)}}))})}();break;case"xhr":!function Kl(){if(!("XMLHttpRequest"in qi))return;const U=XMLHttpRequest.prototype;uo(U,"open",function(A){return function(...N){const z=this,re=N[1],ve=z.__sentry_xhr__={method:$r(N[0])?N[0].toUpperCase():N[0],url:N[1]};$r(re)&&"POST"===ve.method&&re.match(/sentry_key/)&&(z.__sentry_own_request__=!0);const qe=function(){if(4===z.readyState){try{ve.status_code=z.status}catch{}zr("xhr",{args:N,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:z})}};return"onreadystatechange"in z&&"function"==typeof z.onreadystatechange?uo(z,"onreadystatechange",function(mt){return function(...Rt){return qe(),mt.apply(z,Rt)}}):z.addEventListener("readystatechange",qe),A.apply(z,N)}}),uo(U,"send",function(A){return function(...N){return this.__sentry_xhr__&&void 0!==N[0]&&(this.__sentry_xhr__.body=N[0]),zr("xhr",{args:N,startTimestamp:Date.now(),xhr:this}),A.apply(this,N)}})}();break;case"fetch":!function cd(){!function _l(){if(!Us())return!1;if(xs(Zo.fetch))return!0;let U=!1;const A=Zo.document;if(A&&"function"==typeof A.createElement)try{const N=A.createElement("iframe");N.hidden=!0,A.head.appendChild(N),N.contentWindow&&N.contentWindow.fetch&&(U=xs(N.contentWindow.fetch)),A.head.removeChild(N)}catch(N){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",N)}return U}()||uo(qi,"fetch",function(U){return function(...A){const N={args:A,fetchData:{method:ud(A),url:xa(A)},startTimestamp:Date.now()};return zr("fetch",{...N}),U.apply(qi,A).then(z=>(zr("fetch",{...N,endTimestamp:Date.now(),response:z}),z),z=>{throw zr("fetch",{...N,endTimestamp:Date.now(),error:z}),z})}})}();break;case"history":!function hu(){if(!function fu(){const U=Zo.chrome;return!(U&&U.app&&U.app.runtime||!("history"in Zo)||!Zo.history.pushState||!Zo.history.replaceState)}())return;const U=qi.onpopstate;function A(N){return function(...z){const re=z.length>2?z[2]:void 0;if(re){const ve=Da,qe=String(re);Da=qe,zr("history",{from:ve,to:qe})}return N.apply(this,z)}}qi.onpopstate=function(...N){const z=qi.location.href,re=Da;if(Da=z,zr("history",{from:re,to:z}),U)try{return U.apply(this,N)}catch{}},uo(qi.history,"pushState",A),uo(qi.history,"replaceState",A)}();break;case"error":!function Zl(){vl=qi.onerror,qi.onerror=function(U,A,N,z,re){return zr("error",{column:z,error:re,line:N,msg:U,url:A}),!!vl&&vl.apply(this,arguments)}}();break;case"unhandledrejection":!function nr(){Io=qi.onunhandledrejection,qi.onunhandledrejection=function(U){return zr("unhandledrejection",U),!Io||Io.apply(this,arguments)}}();break;default:return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("unknown instrumentation type:",U))}}(U)}function zr(U,A){if(U&&Ma[U])for(const N of Ma[U]||[])try{N(A)}catch(z){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error(`Error while triggering instrumentation handler.\nType: ${U}\nName: ${Hi(N)}\nError:`,z)}}function ud(U=[]){return"Request"in qi&&co(U[0],Request)&&U[0].method?String(U[0].method).toUpperCase():U[1]&&U[1].method?String(U[1].method).toUpperCase():"GET"}function xa(U=[]){return"string"==typeof U[0]?U[0]:"Request"in qi&&co(U[0],Request)?U[0].url:String(U[0])}let Da,Pa,Xa;function tr(U,A=!1){return N=>{if(!N||Xa===N||function yc(U){if("keypress"!==U.type)return!1;try{const A=U.target;if(!A||!A.tagName)return!0;if("INPUT"===A.tagName||"TEXTAREA"===A.tagName||A.isContentEditable)return!1}catch{}return!0}(N))return;const z="keypress"===N.type?"input":N.type;(void 0===Pa||function zl(U,A){if(!U||U.type!==A.type)return!0;try{if(U.target!==A.target)return!0}catch{}return!1}(Xa,N))&&(U({event:N,name:z,global:A}),Xa=N),clearTimeout(Pa),Pa=qi.setTimeout(()=>{Pa=void 0},1e3)}}let vl=null,Io=null;function Vs(U,A=1/0,N=1/0){try{return Hl("",U,A,N)}catch(z){return{ERROR:`**non-serializable** (${z})`}}}function el(U,A=3,N=102400){const z=Vs(U,A);return function ce(U){return function X(U){return~-encodeURI(U).split(/%..|./).length}(JSON.stringify(U))}(z)>N?el(U,A-1,N):z}function Hl(U,A,N=1/0,z=1/0,re=function Ec(){const U="function"==typeof WeakSet,A=U?new WeakSet:[];return[function N(re){if(U)return!!A.has(re)||(A.add(re),!1);for(let ve=0;ve<A.length;ve++)if(A[ve]===re)return!0;return A.push(re),!1},function z(re){if(U)A.delete(re);else for(let ve=0;ve<A.length;ve++)if(A[ve]===re){A.splice(ve,1);break}}]}()){const[ve,qe]=re;if(null===A||["number","boolean","string"].includes(typeof A)&&!function fc(U){return"number"==typeof U&&U!=U}(A))return A;const mt=function Cc(U,A){try{return"domain"===U&&A&&"object"==typeof A&&A._events?"[Domain]":"domainEmitter"===U?"[DomainEmitter]":typeof global<"u"&&A===global?"[Global]":typeof window<"u"&&A===window?"[Window]":typeof document<"u"&&A===document?"[Document]":function Nl(U){return Xr(U)&&"nativeEvent"in U&&"preventDefault"in U&&"stopPropagation"in U}(A)?"[SyntheticEvent]":"number"==typeof A&&A!=A?"[NaN]":void 0===A?"[undefined]":"function"==typeof A?`[Function: ${Hi(A)}]`:"symbol"==typeof A?`[${String(A)}]`:"bigint"==typeof A?`[BigInt: ${String(A)}]`:`[object ${Object.getPrototypeOf(A).constructor.name}]`}catch(N){return`**non-serializable** (${N})`}}(U,A);if(!mt.startsWith("[object "))return mt;if(A.__sentry_skip_normalization__)return A;if(0===N)return mt.replace("object ","");if(ve(A))return"[Circular ~]";const Rt=A;if(Rt&&"function"==typeof Rt.toJSON)try{return Hl("",Rt.toJSON(),N-1,z,re)}catch{}const Ut=Array.isArray(A)?[]:{};let un=0;const fn=Os(A);for(const qn in fn)if(Object.prototype.hasOwnProperty.call(fn,qn)){if(un>=z){Ut[qn]="[MaxProperties ~]";break}Ut[qn]=Hl(qn,fn[qn],N-1,z,re),un++}return qe(A),Ut}function Re(U,A=[]){return[U,A]}function ut(U,A){const[N,z]=U;return[N,[...z,A]]}function Ot(U,A){U[1].forEach(z=>{A(z,z[0].type)})}function It(U,A){return(A||new TextEncoder).encode(U)}function Jt(U,A){const[N,z]=U;let re=JSON.stringify(N);function ve(qe){"string"==typeof re?re="string"==typeof qe?re+qe:[It(re,A),qe]:re.push("string"==typeof qe?It(qe,A):qe)}for(const qe of z){const[mt,Rt]=qe;if(ve(`\n${JSON.stringify(mt)}\n`),"string"==typeof Rt||Rt instanceof Uint8Array)ve(Rt);else{let Ut;try{Ut=JSON.stringify(Rt)}catch{Ut=JSON.stringify(Vs(Rt))}ve(Ut)}}return"string"==typeof re?re:function mn(U){const A=U.reduce((re,ve)=>re+ve.length,0),N=new Uint8Array(A);let z=0;for(const re of U)N.set(re,z),z+=re.length;return N}(re)}function Hn(U,A){const N="string"==typeof U.data?It(U.data,A):U.data;return[Ts({type:"attachment",length:N.length,filename:U.filename,content_type:U.contentType,attachment_type:U.attachmentType}),N]}const On={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile"};function yi(U){return On[U]}function Bi(U){if(!U||!U.sdk)return;const{name:A,version:N}=U.sdk;return{name:A,version:N}}const dd="Not capturing exception because it's already been captured.";class Ia{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(A){if(Ia.prototype.__init.call(this),Ia.prototype.__init2.call(this),Ia.prototype.__init3.call(this),Ia.prototype.__init4.call(this),this._options=A,A.dsn){this._dsn=du(A.dsn);const N=Ga(this._dsn,A);this._transport=A.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...A.transportOptions,url:N})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("No DSN provided, client will not do anything.")}captureException(A,N,z){if(ki(A))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log(dd));let re=N&&N.event_id;return this._process(this.eventFromException(A,N).then(ve=>this._captureEvent(ve,N,z)).then(ve=>{re=ve})),re}captureMessage(A,N,z,re){let ve=z&&z.event_id;const qe=Va(A)?this.eventFromMessage(String(A),N,z):this.eventFromException(A,z);return this._process(qe.then(mt=>this._captureEvent(mt,z,re)).then(mt=>{ve=mt})),ve}captureEvent(A,N,z){if(N&&N.originalException&&ki(N.originalException))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log(dd));let re=N&&N.event_id;return this._process(this._captureEvent(A,N,z).then(ve=>{re=ve})),re}captureSession(A){this._isEnabled()?"string"!=typeof A.release?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("Discarded session because of missing or non-string release"):(this.sendSession(A),at(A,{init:!1})):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(A){const N=this._transport;return N?this._isClientDoneProcessing(A).then(z=>N.flush(A).then(re=>z&&re)):ae(!0)}close(A){return this.flush(A).then(N=>(this.getOptions().enabled=!1,N))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function za(U){const A={};return U.forEach(N=>{A[N.name]=N,-1===mc.indexOf(N.name)&&(N.setupOnce(wi,$i),mc.push(N.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log(`Integration installed: ${N.name}`))}),A}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(A){return this._integrations[A]}getIntegration(A){try{return this._integrations[A.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Cannot retrieve integration ${A.id} from the current Client`),null}}sendEvent(A,N={}){if(this._dsn){let z=function Ds(U,A,N,z){const re=Bi(N),ve=U.type||"event";!function si(U,A){A&&(U.sdk=U.sdk||{},U.sdk.name=U.sdk.name||A.name,U.sdk.version=U.sdk.version||A.version,U.sdk.integrations=[...U.sdk.integrations||[],...A.integrations||[]],U.sdk.packages=[...U.sdk.packages||[],...A.packages||[]])}(U,N&&N.sdk);const qe=function yl(U,A,N,z){const re=U.sdkProcessingMetadata&&U.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:U.event_id,sent_at:(new Date).toISOString(),...A&&{sdk:A},...!!N&&{dsn:Vl(z)},..."transaction"===U.type&&re&&{trace:Ts({...re})}}}(U,re,z,A);return delete U.sdkProcessingMetadata,Re(qe,[[{type:ve},U]])}(A,this._dsn,this._options._metadata,this._options.tunnel);for(const re of N.attachments||[])z=ut(z,Hn(re,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(z)}}sendSession(A){if(this._dsn){const N=function eo(U,A,N,z){const re=Bi(N);return Re({sent_at:(new Date).toISOString(),...re&&{sdk:re},...!!z&&{dsn:Vl(A)}},["aggregates"in U?[{type:"sessions"},U]:[{type:"session"},U]])}(A,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(N)}}recordDroppedEvent(A,N,z){if(this._options.sendClientReports){const re=`${A}:${N}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log(`Adding outcome: "${re}"`),this._outcomes[re]=this._outcomes[re]+1||1}}_updateSessionFromEvent(A,N){let z=!1,re=!1;const ve=N.exception&&N.exception.values;if(ve){re=!0;for(const Rt of ve){const Ut=Rt.mechanism;if(Ut&&!1===Ut.handled){z=!0;break}}}const qe="ok"===A.status;(qe&&0===A.errors||qe&&z)&&(at(A,{...z&&{status:"crashed"},errors:A.errors||Number(re||z)}),this.captureSession(A))}_isClientDoneProcessing(A){return new pe(N=>{let z=0;const ve=setInterval(()=>{0==this._numProcessing?(clearInterval(ve),N(!0)):(z+=1,A&&z>=A&&(clearInterval(ve),N(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(A,N,z){const{normalizeDepth:re=3,normalizeMaxBreadth:ve=1e3}=this.getOptions(),qe={...A,event_id:A.event_id||N.event_id||qr(),timestamp:A.timestamp||(0,Do.yW)()};this._applyClientOptions(qe),this._applyIntegrationsMetadata(qe);let mt=z;N.captureContext&&(mt=kn.clone(mt).update(N.captureContext));let Rt=ae(qe);if(mt&&mt.getAttachments){const Ut=[...N.attachments||[],...mt.getAttachments()];Ut.length&&(N.attachments=Ut),Rt=mt.applyToEvent(qe,N)}return Rt.then(Ut=>"number"==typeof re&&re>0?this._normalizeEvent(Ut,re,ve):Ut)}_normalizeEvent(A,N,z){if(!A)return null;const re={...A,...A.breadcrumbs&&{breadcrumbs:A.breadcrumbs.map(ve=>({...ve,...ve.data&&{data:Vs(ve.data,N,z)}}))},...A.user&&{user:Vs(A.user,N,z)},...A.contexts&&{contexts:Vs(A.contexts,N,z)},...A.extra&&{extra:Vs(A.extra,N,z)}};return A.contexts&&A.contexts.trace&&re.contexts&&(re.contexts.trace=A.contexts.trace,A.contexts.trace.data&&(re.contexts.trace.data=Vs(A.contexts.trace.data,N,z))),A.spans&&(re.spans=A.spans.map(ve=>(ve.data&&(ve.data=Vs(ve.data,N,z)),ve))),re}_applyClientOptions(A){const N=this.getOptions(),{environment:z,release:re,dist:ve,maxValueLength:qe=250}=N;"environment"in A||(A.environment="environment"in N?z:"production"),void 0===A.release&&void 0!==re&&(A.release=re),void 0===A.dist&&void 0!==ve&&(A.dist=ve),A.message&&(A.message=_a(A.message,qe));const mt=A.exception&&A.exception.values&&A.exception.values[0];mt&&mt.value&&(mt.value=_a(mt.value,qe));const Rt=A.request;Rt&&Rt.url&&(Rt.url=_a(Rt.url,qe))}_applyIntegrationsMetadata(A){const N=Object.keys(this._integrations);N.length>0&&(A.sdk=A.sdk||{},A.sdk.integrations=[...A.sdk.integrations||[],...N])}_captureEvent(A,N={},z){return this._processEvent(A,N,z).then(re=>re.event_id,re=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const ve=re;"log"===ve.logLevel?ri.log(ve.message):ri.warn(ve)}})}_processEvent(A,N,z){const re=this.getOptions(),{sampleRate:ve}=re;if(!this._isEnabled())return Y(new Po("SDK not enabled, will not capture event.","log"));const qe="transaction"===A.type,mt=qe?"beforeSendTransaction":"beforeSend",Rt=re[mt];return!qe&&"number"==typeof ve&&Math.random()>ve?(this.recordDroppedEvent("sample_rate","error",A),Y(new Po(`Discarding event because it's not included in the random sample (sampling rate = ${ve})`,"log"))):this._prepareEvent(A,N,z).then(Ut=>{if(null===Ut)throw this.recordDroppedEvent("event_processor",A.type||"error",A),new Po("An event processor returned `null`, will not send event.","log");return N.data&&!0===N.data.__sentry__||!Rt?Ut:function Tf(U,A){const N=`\`${A}\` must return \`null\` or a valid event.`;if(Es(U))return U.then(z=>{if(!Xr(z)&&null!==z)throw new Po(N);return z},z=>{throw new Po(`\`${A}\` rejected with ${z}`)});if(!Xr(U)&&null!==U)throw new Po(N);return U}(Rt(Ut,N),mt)}).then(Ut=>{if(null===Ut)throw this.recordDroppedEvent("before_send",A.type||"error",A),new Po(`\`${mt}\` returned \`null\`, will not send event.`,"log");const un=z&&z.getSession();!qe&&un&&this._updateSessionFromEvent(un,Ut);const fn=Ut.transaction_info;if(qe&&fn&&Ut.transaction!==A.transaction){const qn="custom";Ut.transaction_info={...fn,source:qn,changes:[...fn.changes,{source:qn,timestamp:Ut.timestamp,propagations:fn.propagations}]}}return this.sendEvent(Ut,N),Ut}).then(null,Ut=>{throw Ut instanceof Po?Ut:(this.captureException(Ut,{data:{__sentry__:!0},originalException:Ut}),new Po(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${Ut}`))})}_process(A){this._numProcessing++,A.then(N=>(this._numProcessing--,N),N=>(this._numProcessing--,N))}_sendEnvelope(A){this._transport&&this._dsn?this._transport.send(A).then(null,N=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("Error while sending event:",N)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("Transport disabled")}_clearOutcomes(){const A=this._outcomes;return this._outcomes={},Object.keys(A).map(N=>{const[z,re]=N.split(":");return{reason:z,category:re,quantity:A[N]}})}}const Sc="7.25.0";function fd(U,A){const N=Oc(U,A),z={type:A&&A.name,value:gu(A)};return N.length&&(z.stacktrace={frames:N}),void 0===z.type&&""===z.value&&(z.value="Unrecoverable error caught"),z}function mu(U,A){return{exception:{values:[fd(U,A)]}}}function Oc(U,A){const N=A.stacktrace||A.stack||"",z=function hd(U){if(U){if("number"==typeof U.framesToPop)return U.framesToPop;if(_u.test(U.message))return 1}return 0}(A);try{return U(N,z)}catch{}return[]}const _u=/Minified React error #\d+;/i;function gu(U){const A=U&&U.message;return A?A.error&&"string"==typeof A.error.message?A.error.message:A:"No error message"}function Tc(U,A,N,z,re){let ve;if(ys(A)&&A.error)return mu(U,A.error);if(bs(A)||function Fs(U){return Pr(U,"DOMException")}(A)){const qe=A;if("stack"in A)ve=mu(U,A);else{const mt=qe.name||(bs(qe)?"DOMError":"DOMException"),Rt=qe.message?`${mt}: ${qe.message}`:mt;ve=Mc(U,Rt,N,z),ya(ve,Rt)}return"code"in qe&&(ve.tags={...ve.tags,"DOMException.code":`${qe.code}`}),ve}return Ns(A)?mu(U,A):Xr(A)||Ys(A)?(ve=function xf(U,A,N,z){const ve=$i().getClient(),qe=ve&&ve.getOptions().normalizeDepth,mt={exception:{values:[{type:Ys(A)?A.constructor.name:z?"UnhandledRejection":"Error",value:`Non-Error ${z?"promise rejection":"exception"} captured with keys: ${Ka(A)}`}]},extra:{__serialized__:el(A,qe)}};if(N){const Rt=Oc(U,N);Rt.length&&(mt.exception.values[0].stacktrace={frames:Rt})}return mt}(U,A,N,re),es(ve,{synthetic:!0}),ve):(ve=Mc(U,A,N,z),ya(ve,`${A}`,void 0),es(ve,{synthetic:!0}),ve)}function Mc(U,A,N,z){const re={message:A};if(z&&N){const ve=Oc(U,N);ve.length&&(re.exception={values:[{value:A,stacktrace:{frames:ve}}]})}return re}function Ra(U,A){return $i().captureException(U,{captureContext:A})}function md(U){$i().withScope(U)}const Pi=Di.n2;let Dc=0;function Pc(){return Dc>0}function yu(){Dc++,setTimeout(()=>{Dc--})}function Aa(U,A={},N){if("function"!=typeof U)return U;try{const re=U.__sentry_wrapped__;if(re)return re;if(us(U))return U}catch{return U}const z=function(){const re=Array.prototype.slice.call(arguments);try{N&&"function"==typeof N&&N.apply(this,arguments);const ve=re.map(qe=>Aa(qe,A));return U.apply(this,ve)}catch(ve){throw yu(),md(qe=>{qe.addEventProcessor(mt=>(A.mechanism&&(ya(mt,void 0,void 0),es(mt,A.mechanism)),mt.extra={...mt.extra,arguments:re},mt)),Ra(ve)}),ve}};try{for(const re in U)Object.prototype.hasOwnProperty.call(U,re)&&(z[re]=U[re])}catch{}hc(z,U),Cs(U,"__sentry_wrapped__",z);try{Object.getOwnPropertyDescriptor(z,"name").configurable&&Object.defineProperty(z,"name",{get:()=>U.name})}catch{}return z}const Gl=["fatal","error","warning","log","info","debug"];function bu(U){return"warn"===U?"warning":Gl.includes(U)?U:"log"}function Eu(U){if(!U)return{};const A=U.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return A?{host:A[4],path:A[5],protocol:A[2],relative:A[5]+(A[6]||"")+(A[8]||"")}:{}}const Cu="Breadcrumbs";class wa{static __initStatic(){this.id=Cu}__init(){this.name=wa.id}constructor(A){wa.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...A}}setupOnce(){this.options.console&&fs("console",tl),this.options.dom&&fs("dom",function Su(U){return function A(N){let z,re="object"==typeof U?U.serializeAttribute:void 0,ve="object"==typeof U&&"number"==typeof U.maxStringLength?U.maxStringLength:void 0;ve&&ve>1024&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${ve} was configured. Sentry will use 1024 instead.`),ve=1024),"string"==typeof re&&(re=[re]);try{z=Qs(N.event.target?N.event.target:N.event,{keyAttrs:re,maxStringLength:ve})}catch{z="<unknown>"}0!==z.length&&$i().addBreadcrumb({category:`ui.${N.name}`,message:z},{event:N.event,name:N.name,global:N.global})}}(this.options.dom)),this.options.xhr&&fs("xhr",Ff),this.options.fetch&&fs("fetch",kf),this.options.history&&fs("history",Zp)}addSentryBreadcrumb(A){this.options.sentry&&$i().addBreadcrumb({category:"sentry."+("transaction"===A.type?"transaction":"event"),event_id:A.event_id,level:A.level,message:mr(A)},{event:A})}}function tl(U){for(let N=0;N<U.args.length;N++)if("ref=Ref<"===U.args[N]){U.args[N+1]="viewRef";break}const A={category:"console",data:{arguments:U.args,logger:"console"},level:bu(U.level),message:dl(U.args," ")};if("assert"===U.level){if(!1!==U.args[0])return;A.message=`Assertion failed: ${dl(U.args.slice(1)," ")||"console.assert"}`,A.data.arguments=U.args.slice(1)}$i().addBreadcrumb(A,{input:U.args,level:U.level})}function Ff(U){if(U.endTimestamp){if(U.xhr.__sentry_own_request__)return;const{method:A,url:N,status_code:z,body:re}=U.xhr.__sentry_xhr__||{};$i().addBreadcrumb({category:"xhr",data:{method:A,url:N,status_code:z},type:"http"},{xhr:U.xhr,input:re})}}function kf(U){!U.endTimestamp||U.fetchData.url.match(/sentry_key/)&&"POST"===U.fetchData.method||(U.error?$i().addBreadcrumb({category:"fetch",data:U.fetchData,level:"error",type:"http"},{data:U.error,input:U.args}):$i().addBreadcrumb({category:"fetch",data:{...U.fetchData,status_code:U.response.status},type:"http"},{input:U.args,response:U.response}))}function Zp(U){let A=U.from,N=U.to;const z=Eu(Pi.location.href);let re=Eu(A);const ve=Eu(N);re.path||(re=z),z.protocol===ve.protocol&&z.host===ve.host&&(N=ve.relative),z.protocol===re.protocol&&z.host===re.host&&(A=re.relative),$i().addBreadcrumb({category:"navigation",data:{from:A,to:N}})}wa.__initStatic();class Bf extends Ia{constructor(A){A._metadata=A._metadata||{},A._metadata.sdk=A._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Sc}],version:Sc},super(A),A.sendClientReports&&Pi.document&&Pi.document.addEventListener("visibilitychange",()=>{"hidden"===Pi.document.visibilityState&&this._flushOutcomes()})}eventFromException(A,N){return function Df(U,A,N,z){const ve=Tc(U,A,N&&N.syntheticException||void 0,z);return es(ve),ve.level="error",N&&N.event_id&&(ve.event_id=N.event_id),ae(ve)}(this._options.stackParser,A,N,this._options.attachStacktrace)}eventFromMessage(A,N="info",z){return function Pf(U,A,N="info",z,re){const qe=Mc(U,A,z&&z.syntheticException||void 0,re);return qe.level=N,z&&z.event_id&&(qe.event_id=z.event_id),ae(qe)}(this._options.stackParser,A,N,z,this._options.attachStacktrace)}sendEvent(A,N){(function bc(U){let A,N=U[0],z=1;for(;z<U.length;){const re=U[z],ve=U[z+1];if(z+=2,("optionalAccess"===re||"optionalCall"===re)&&null==N)return;"access"===re||"optionalAccess"===re?(A=N,N=ve(N)):("call"===re||"optionalCall"===re)&&(N=ve((...qe)=>N.call(A,...qe)),A=void 0)}})([this.getIntegrationById(Cu),"optionalAccess",re=>re.addSentryBreadcrumb,"optionalCall",re=>re(A)]),super.sendEvent(A,N)}_prepareEvent(A,N,z){return A.platform=A.platform||"javascript",super._prepareEvent(A,N,z)}_flushOutcomes(){const A=this._clearOutcomes();if(0===A.length)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log("No outcomes to send"));if(!this._dsn)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log("No dsn provided, will not send outcomes"));(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log("Sending outcomes:",A);const N=Ga(this._dsn,this._options),z=function Mf(U,A,N){return Re(A?{dsn:A}:{},[[{type:"client_report"},{timestamp:N||(0,Do.yW)(),discarded_events:U}]])}(A,this._options.tunnel&&Vl(this._dsn));try{"[object Navigator]"!==Object.prototype.toString.call(Pi&&Pi.navigator)||"function"!=typeof Pi.navigator.sendBeacon||this._options.transportOptions?this._sendEnvelope(z):Pi.navigator.sendBeacon.bind(Pi.navigator)(N,Jt(z))}catch(re){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error(re)}}}function bl(U,A,N,z){const re={filename:U,function:A,in_app:!0};return void 0!==N&&(re.lineno=N),void 0!==z&&(re.colno=z),re}const vd=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nl=/\((\S*)(?::(\d+))(?::(\d+))\)/,jf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,$f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,El=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Hf=Wl([30,U=>{const A=vd.exec(U);if(A){if(A[2]&&0===A[2].indexOf("eval")){const ve=nl.exec(A[2]);ve&&(A[2]=ve[1],A[3]=ve[2],A[4]=ve[3])}const[z,re]=yd(A[1]||"?",A[2]);return bl(re,z,A[3]?+A[3]:void 0,A[4]?+A[4]:void 0)}}],[50,U=>{const A=jf.exec(U);if(A){if(A[3]&&A[3].indexOf(" > eval")>-1){const ve=$f.exec(A[3]);ve&&(A[1]=A[1]||"eval",A[3]=ve[1],A[4]=ve[2],A[5]="")}let z=A[3],re=A[1]||"?";return[re,z]=yd(re,z),bl(z,re,A[4]?+A[4]:void 0,A[5]?+A[5]:void 0)}}],[40,U=>{const A=El.exec(U);return A?bl(A[2],A[1]||"?",+A[3],A[4]?+A[4]:void 0):void 0}]),yd=(U,A)=>{const N=-1!==U.indexOf("safari-extension"),z=-1!==U.indexOf("safari-web-extension");return N||z?[-1!==U.indexOf("@")?U.split("@")[0]:"?",N?`safari-extension:${A}`:`safari-web-extension:${A}`]:[U,A]},Rc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class ts{static __initStatic(){this.id="TryCatch"}__init(){this.name=ts.id}constructor(A){ts.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...A}}setupOnce(){this._options.setTimeout&&uo(Pi,"setTimeout",Cl),this._options.setInterval&&uo(Pi,"setInterval",Cl),this._options.requestAnimationFrame&&uo(Pi,"requestAnimationFrame",bd),this._options.XMLHttpRequest&&"XMLHttpRequest"in Pi&&uo(XMLHttpRequest.prototype,"send",Ed);const A=this._options.eventTarget;A&&(Array.isArray(A)?A:Rc).forEach(Cd)}}function Cl(U){return function(...A){return A[0]=Aa(A[0],{mechanism:{data:{function:Hi(U)},handled:!0,type:"instrument"}}),U.apply(this,A)}}function bd(U){return function(A){return U.apply(this,[Aa(A,{mechanism:{data:{function:"requestAnimationFrame",handler:Hi(U)},handled:!0,type:"instrument"}})])}}function Ed(U){return function(...A){const N=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(re=>{re in N&&"function"==typeof N[re]&&uo(N,re,function(ve){const qe={mechanism:{data:{function:re,handler:Hi(ve)},handled:!0,type:"instrument"}},mt=us(ve);return mt&&(qe.mechanism.data.handler=Hi(mt)),Aa(ve,qe)})}),U.apply(this,A)}}function Cd(U){const N=Pi[U]&&Pi[U].prototype;!N||!N.hasOwnProperty||!N.hasOwnProperty("addEventListener")||(uo(N,"addEventListener",function(z){return function(re,ve,qe){try{"function"==typeof ve.handleEvent&&(ve.handleEvent=Aa(ve.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Hi(ve),target:U},handled:!0,type:"instrument"}}))}catch{}return z.apply(this,[re,Aa(ve,{mechanism:{data:{function:"addEventListener",handler:Hi(ve),target:U},handled:!0,type:"instrument"}}),qe])}}),uo(N,"removeEventListener",function(z){return function(re,ve,qe){const mt=ve;try{const Rt=mt&&mt.__sentry_wrapped__;Rt&&z.call(this,re,Rt,qe)}catch{}return z.call(this,re,mt,qe)}}))}ts.__initStatic();class il{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=il.id}__init2(){this._installFunc={onerror:em,onunhandledrejection:tm}}constructor(A){il.prototype.__init.call(this),il.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...A}}setupOnce(){Error.stackTraceLimit=50;const A=this._options;for(const N in A){const z=this._installFunc[N];z&&A[N]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.log(`Global Handler attached: ${N}`),z(),this._installFunc[N]=void 0)}}}function em(){fs("error",U=>{const[A,N,z]=Sd();if(!A.getIntegration(il))return;const{msg:re,url:ve,line:qe,column:mt,error:Rt}=U;if(Pc()||Rt&&Rt.__sentry_own_request__)return;const Ut=void 0===Rt&&$r(re)?function Mu(U,A,N,z){let ve=ys(U)?U.message:U,qe="Error";const mt=ve.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return mt&&(qe=mt[1],ve=mt[2]),Gf({exception:{values:[{type:qe,value:ve}]}},A,N,z)}(re,ve,qe,mt):Gf(Tc(N,Rt||re,void 0,z,!1),ve,qe,mt);Ut.level="error",xu(A,Rt,Ut,"onerror")})}function tm(){fs("unhandledrejection",U=>{const[A,N,z]=Sd();if(!A.getIntegration(il))return;let re=U;try{"reason"in U?re=U.reason:"detail"in U&&"reason"in U.detail&&(re=U.detail.reason)}catch{}if(Pc()||re&&re.__sentry_own_request__)return!0;const ve=Va(re)?function Tu(U){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(U)}`}]}}}(re):Tc(N,re,void 0,z,!0);ve.level="error",xu(A,re,ve,"onunhandledrejection")})}function Gf(U,A,N,z){const re=U.exception=U.exception||{},ve=re.values=re.values||[],qe=ve[0]=ve[0]||{},mt=qe.stacktrace=qe.stacktrace||{},Rt=mt.frames=mt.frames||[],Ut=isNaN(parseInt(z,10))?void 0:z,un=isNaN(parseInt(N,10))?void 0:N,fn=$r(A)&&A.length>0?A:function ul(){try{return $a.document.location.href}catch{return""}}();return 0===Rt.length&&Rt.push({colno:Ut,filename:fn,function:"?",in_app:!0,lineno:un}),U}function xu(U,A,N,z){es(N,{handled:!1,type:z}),U.captureEvent(N,{originalException:A})}function Sd(){const U=$i(),A=U.getClient(),N=A&&A.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[U,N.stackParser,N.attachStacktrace]}il.__initStatic();class Sl{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Sl.id}constructor(A={}){Sl.prototype.__init.call(this),this._key=A.key||"cause",this._limit=A.limit||5}setupOnce(){const A=$i().getClient();!A||wi((N,z)=>{const re=$i().getIntegration(Sl);return re?function Od(U,A,N,z,re){if(!(z.exception&&z.exception.values&&re&&co(re.originalException,Error)))return z;const ve=Ql(U,N,re.originalException,A);return z.exception.values=[...ve,...z.exception.values],z}(A.getOptions().stackParser,re._key,re._limit,N,z):N})}}function Ql(U,A,N,z,re=[]){if(!co(N[z],Error)||re.length+1>=A)return re;const ve=fd(U,N[z]);return Ql(U,A,N[z],z,[ve,...re])}Sl.__initStatic();class ol{constructor(){ol.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ol.id}setupOnce(A,N){const z=re=>{const ve=N().getIntegration(ol);if(ve){try{if(function Du(U,A){return!(!A||!function Jf(U,A){const N=U.message,z=A.message;return!(!N&&!z||N&&!z||!N&&z||N!==z||!Td(U,A)||!Pu(U,A))}(U,A)&&!function bo(U,A){const N=Ac(A),z=Ac(U);return!!(N&&z&&N.type===z.type&&N.value===z.value&&Td(U,A)&&Pu(U,A))}(U,A))}(re,ve._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return ve._previousEvent=re}return ve._previousEvent=re}return re};z.id=this.name,A(z)}}function Pu(U,A){let N=Iu(U),z=Iu(A);if(!N&&!z)return!0;if(N&&!z||!N&&z||z.length!==N.length)return!1;for(let re=0;re<z.length;re++){const ve=z[re],qe=N[re];if(ve.filename!==qe.filename||ve.lineno!==qe.lineno||ve.colno!==qe.colno||ve.function!==qe.function)return!1}return!0}function Td(U,A){let N=U.fingerprint,z=A.fingerprint;if(!N&&!z)return!0;if(N&&!z||!N&&z)return!1;try{return N.join("")===z.join("")}catch{return!1}}function Ac(U){return U.exception&&U.exception.values&&U.exception.values[0]}function Iu(U){const A=U.exception;if(A)try{return A.values[0].stacktrace.frames}catch{return}}ol.__initStatic();class Ol{constructor(){Ol.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Ol.id}setupOnce(){wi(A=>{if($i().getIntegration(Ol)){if(!Pi.navigator&&!Pi.location&&!Pi.document)return A;const N=A.request&&A.request.url||Pi.location&&Pi.location.href,{referrer:z}=Pi.document||{},{userAgent:re}=Pi.navigator||{},qe={...N&&{url:N},headers:{...A.request&&A.request.headers,...z&&{Referer:z},...re&&{"User-Agent":re}}};return{...A,request:qe}}return A})}}function wc(U,A,N=function Xf(U){const A=[];function z(qe){return A.splice(A.indexOf(qe),1)[0]}return{$:A,add:function re(qe){if(!function N(){return void 0===U||A.length<U}())return Y(new Po("Not adding Promise because buffer limit was reached."));const mt=qe();return-1===A.indexOf(mt)&&A.push(mt),mt.then(()=>z(mt)).then(null,()=>z(mt).then(null,()=>{})),mt},drain:function ve(qe){return new pe((mt,Rt)=>{let Ut=A.length;if(!Ut)return mt(!0);const un=setTimeout(()=>{qe&&qe>0&&mt(!1)},qe);A.forEach(fn=>{ae(fn).then(()=>{--Ut||(clearTimeout(un),mt(!0))},Rt)})})}}}(U.bufferSize||30)){let z={};return{send:function ve(qe){const mt=[];if(Ot(qe,(fn,qn)=>{const fi=yi(qn);if(function im(U,A,N=Date.now()){return function Md(U,A){return U[A]||U.all||0}(U,A)>N}(z,fi)){const Gn=Ru(fn,qn);U.recordDroppedEvent("ratelimit_backoff",fi,Gn)}else mt.push(fn)}),0===mt.length)return ae();const Rt=Re(qe[0],mt),Ut=fn=>{Ot(Rt,(qn,fi)=>{const Gn=Ru(qn,fi);U.recordDroppedEvent(fn,yi(fi),Gn)})};return N.add(()=>A({body:Jt(Rt,U.textEncoder)}).then(fn=>{void 0!==fn.statusCode&&(fn.statusCode<200||fn.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn(`Sentry responded with status code ${fn.statusCode} to sent event.`),z=function om(U,{statusCode:A,headers:N},z=Date.now()){const re={...U},ve=N&&N["x-sentry-rate-limits"],qe=N&&N["retry-after"];if(ve)for(const mt of ve.trim().split(",")){const[Rt,Ut]=mt.split(":",2),un=parseInt(Rt,10),fn=1e3*(isNaN(un)?60:un);if(Ut)for(const qn of Ut.split(";"))re[qn]=z+fn;else re.all=z+fn}else qe?re.all=z+function eh(U,A=Date.now()){const N=parseInt(`${U}`,10);if(!isNaN(N))return 1e3*N;const z=Date.parse(`${U}`);return isNaN(z)?6e4:z-A}(qe,z):429===A&&(re.all=z+6e4);return re}(z,fn)},fn=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("Failed while sending event:",fn),Ut("network_error")})).then(fn=>fn,fn=>{if(fn instanceof Po)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("Skipped sending event because buffer is full."),Ut("queue_overflow"),ae();throw fn})},flush:qe=>N.drain(qe)}}function Ru(U,A){if("event"===A||"transaction"===A)return Array.isArray(U)?U[1]:void 0}let Tl;function nh(U,A=function xd(){if(Tl)return Tl;if(xs(Pi.fetch))return Tl=Pi.fetch.bind(Pi);const U=Pi.document;let A=Pi.fetch;if(U&&"function"==typeof U.createElement)try{const N=U.createElement("iframe");N.hidden=!0,U.head.appendChild(N);const z=N.contentWindow;z&&z.fetch&&(A=z.fetch),U.head.removeChild(N)}catch(N){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",N)}return Tl=A.bind(Pi)}()){return wc(U,function N(z){const re={body:z.body,method:"POST",referrerPolicy:"origin",headers:U.headers,keepalive:z.body.length<=65536,...U.fetchOptions};try{return A(U.url,re).then(ve=>({statusCode:ve.status,headers:{"x-sentry-rate-limits":ve.headers.get("X-Sentry-Rate-Limits"),"retry-after":ve.headers.get("Retry-After")}}))}catch(ve){return function th(){Tl=void 0}(),Y(ve)}})}function Pd(U){return wc(U,function A(N){return new pe((z,re)=>{const ve=new XMLHttpRequest;ve.onerror=re,ve.onreadystatechange=()=>{4===ve.readyState&&z({statusCode:ve.status,headers:{"x-sentry-rate-limits":ve.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":ve.getResponseHeader("Retry-After")}})},ve.open("POST",U.url);for(const qe in U.headers)Object.prototype.hasOwnProperty.call(U.headers,qe)&&ve.setRequestHeader(qe,U.headers[qe]);ve.send(N.body)})})}Ol.__initStatic();const Au=[new zo,new ta,new ts,new wa,new il,new Sl,new ol,new Ol];function Lc(U){U.startSession({ignoreDuration:!0}),U.captureSession()}var rh=t(2654);const Fc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function sh(U){U._metadata=U._metadata||{},U._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:Sc}],version:Sc},function ah(){const U=n.q4F&&n.q4F.major?parseInt(n.q4F.major,10):void 0;U&&(U<10&&Fc&&ri.warn(`The Sentry SDK does not officially support Angular ${U}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function xc(U,A){$i().setContext(U,A)}("angular",{version:U}))}(),function rm(U={}){void 0===U.defaultIntegrations&&(U.defaultIntegrations=Au),void 0===U.release&&("string"==typeof __SENTRY_RELEASE__&&(U.release=__SENTRY_RELEASE__),Pi.SENTRY_RELEASE&&Pi.SENTRY_RELEASE.id&&(U.release=Pi.SENTRY_RELEASE.id)),void 0===U.autoSessionTracking&&(U.autoSessionTracking=!0),void 0===U.sendClientReports&&(U.sendClientReports=!0);const A={...U,stackParser:ad(U.stackParser||Hf),integrations:Oa(U),transport:U.transport||(Us()?nh:Pd)};(function Za(U,A){!0===A.debug&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?ri.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const N=$i(),z=N.getScope();z&&z.update(A.initialScope);const re=new U(A);N.bindClient(re)})(Bf,A),U.autoSessionTracking&&function Nc(){if(typeof Pi.document>"u")return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const U=$i();!U.captureSession||(Lc(U),fs("history",({from:A,to:N})=>{void 0===A||A===N||Lc($i())}))}()}(U)}const Rd=typeof Zone<"u"&&!!Zone.current;function sl(U){return Rd?Zone.root.run(U):U()}let ch=(()=>{class U{constructor(N){this._options=Object.assign({logErrors:!0},N)}handleError(N){const z=this._extractError(N)||"Handled unknown error",re=sl(()=>Ra(z,ve=>(ve.addEventProcessor(qe=>(es(qe,{type:"angular",handled:!1}),qe)),ve)));this._options.logErrors&&console.error(z),this._options.showDialog&&function wu(U={},A=$i()){if(!Pi.document)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("Global document not defined in showReportDialog call"));const{client:N,scope:z}=A.getStackTop(),re=U.dsn||N&&N.getDsn();if(!re)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("DSN not configured for showReportDialog call"));z&&(U.user={...z.getUser(),...U.user}),U.eventId||(U.eventId=A.lastEventId());const ve=Pi.document.createElement("script");ve.async=!0,ve.src=function ml(U,A){const N=du(U),z=`${pl(N)}embed/error-page/`;let re=`dsn=${Vl(N)}`;for(const ve in A)if("dsn"!==ve)if("user"===ve){const qe=A.user;if(!qe)continue;qe.name&&(re+=`&name=${encodeURIComponent(qe.name)}`),qe.email&&(re+=`&email=${encodeURIComponent(qe.email)}`)}else re+=`&${encodeURIComponent(ve)}=${encodeURIComponent(A[ve])}`;return`${z}?${re}`}(re,U),U.onLoad&&(ve.onload=U.onLoad);const qe=Pi.document.head||Pi.document.body;qe?qe.appendChild(ve):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ri.error("Not injecting report dialog. No injection point found in HTML")}(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:re}))}_extractError(N){if(this._options.extractor){const z=this._defaultExtractor.bind(this);return this._options.extractor(N,z)}return this._defaultExtractor(N)}_defaultExtractor(N){const z=function lh(U){return U&&U.ngOriginalError?U.ngOriginalError:U}(N);return"string"==typeof z||z instanceof Error?z:z instanceof st.UA?z.error instanceof Error?z.error:z.error instanceof ErrorEvent&&z.error.message?z.error.message:"string"==typeof z.error?`Server returned code ${z.status} with body "${z.error}"`:z.message:null}}return U.\u0275fac=function(N){return new(N||U)(n.LFG("errorHandlerOptions"))},U.\u0275prov=n.Yz7({factory:function(){return new U(n.LFG("errorHandlerOptions"))},token:U,providedIn:"root"}),U})();function Bc(){const U=$i();if(U){const A=U.getScope();if(A)return A.getTransaction()}}let fh=(()=>{class U{constructor(N){this._router=N,this.navStart$=this._router.events.pipe((0,ho.h)(z=>z instanceof fo.OD),(0,xo.b)(z=>{Fc&&ri.error("Angular integration has tracing enabled, but Tracing integration is not configured")})),this.resEnd$=this._router.events.pipe((0,ho.h)(z=>z instanceof fo.Av),(0,xo.b)(z=>{const re=ku(z.state.root),ve=Bc();ve&&"url"===ve.metadata.source&&ve.setName(re,"route")})),this.navEnd$=this._router.events.pipe((0,ho.h)(z=>z instanceof fo.m2),(0,xo.b)(()=>{this._routingSpan&&(sl(()=>{this._routingSpan.finish()}),this._routingSpan=null)})),this._routingSpan=null,this._subscription=new rh.w,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}}return U.\u0275fac=function(N){return new(N||U)(n.LFG(fo.F0))},U.\u0275prov=n.Yz7({factory:function(){return new U(n.LFG(fo.F0))},token:U,providedIn:"root"}),U})();function ku(U){const A=U&&U.firstChild&&U.firstChild.routeConfig&&U.firstChild.routeConfig.path;return A?`/${A}${ku(U&&U.firstChild)}`:"/"}const hh={};var tc=t(9149),ph=t(8940),wd=t(4025),Ld=t(6790),Bu=t(2097),Uu=t(4119);function mh(U,A){1&U&&n._UZ(0,"debug-console")}ph.StylesManager.applyTheme("modern"),window.global=window;class aa extends Zn.KG{constructor(A,N,z,re,ve,qe,mt,Rt){super(),this._settings=A,this._org=N,this._cache=z,this._snackbar=re,this._hotkey=ve,this._clipboard=qe,this._route=mt,this._translate=Rt}get debug(){return window.debug}ngOnInit(){var A=this;return(0,ln.Z)(function*(){(0,Zn.cM)("APP","MOCKS:",hh),A._hotkey.listen(["Control","Alt","Shift","KeyM"],()=>{localStorage.setItem("mock",`${"true"!==localStorage.getItem("mock")}`),location.reload()}),A._hotkey.listen(["Control","Alt","Shift","KeyD"],()=>{A._settings.saveUserSetting("dark_mode",!A._settings.get("dark_mode")),(0,Zn.t5)("Toggled dark mode.")}),A._hotkey.listen(["Control","Alt","Shift","KeyC"],()=>{A._clipboard.copy(`${(0,Si.rao)()}|${(0,Si.g$u)()}`),(0,Zn.t5)("Successfully copied token.")}),A._hotkey.listen(["Control","Alt","Shift","KeyV"],()=>{navigator.clipboard?.readText().then(z=>{const re=z.split("|"),ve=(0,Si.I4i)();localStorage.setItem(`${ve}_access_token`,`${re[0]}`),localStorage.setItem(`${ve}_refresh_token`,`${re[1]}`),localStorage.setItem(`${ve}_expires_at`,`${(0,Ai.Z)(new Date,6).valueOf()}`),(0,Zn.t5)("Successfully pasted token."),setTimeout(()=>location.reload(),2e3)})}),A._initLocale(),A._route.queryParamMap.subscribe(z=>{if(z.has("hide_nav")&&localStorage.setItem("PlaceOS.hide_nav","true"),z.has("lang")){const re=z.get("lang");A._translate?.use(re),localStorage.setItem("PLACEOS.locale",re)}}),(0,Zn.SI)(A._snackbar),yield A._settings.initialised.pipe((0,jn.P)(z=>z)).toPromise(),(0,Zn.kW)(A._settings.get("app.short_name"));const N=A._settings.get("composer")||{};N.mock=!!A._settings.get("mock")||location.origin.includes("demo.place.tech"),yield(0,Zn.c_)(N).catch(z=>console.error(z)),(0,Zn.v8)(A._cache),N.local_login||A.timeout("wait_for_user",()=>A.onInitError(),3e4),yield Zn.pN.pipe((0,jn.P)(z=>!!z)).toPromise(),A.clearTimeout("wait_for_user"),(0,ji.q)((0,Zn.ar)()),(0,so.ZJ)(A._settings.get("app.general.internal_user_domain")||`@${(0,Zn.ar)()?.email?.split("@")[1]}`),function Vu(U,A=.2){!U||sh({dsn:U,tracesSampleRate:A})}(A._settings.get("app.sentry_dsn")),A._settings.get("app.has_uploads")&&A.timeout("init_uploads",()=>{(0,tc.eI)({auto_start:!0,token:(0,Si.rao)(),endpoint:"/api/files/v1/uploads",worker_url:"assets/md5_worker.js",providers:[tc.xB,tc.kn,tc.ie,tc.C9]})})})()}onInitError(){(0,Si.y7C)()||(0,Zn.ar)()?.is_logged_in||((0,Si.Ogr)(),location.reload())}_initLocale(){let A=localStorage.getItem("PLACEOS.locale");const N=this._settings.get("app.locales")||[];if(this._translate?.addLangs(N.map(z=>z.id)),A)this._translate?.use(A);else{const z=navigator.languages;for(const re of z)if(A=N.find(ve=>ve.id===re),A||(A=N.find(ve=>re.includes(ve.id))),A){this._translate?.use(re),localStorage.setItem("PLACEOS.locale",re);break}}}}aa.\u0275fac=function(A){return new(A||aa)(n.Y36(Zn.gb),n.Y36(mi.w),n.Y36(Cn),n.Y36(ze.pl),n.Y36(Zn.tm),n.Y36(wd.TU),n.Y36(fo.gz),n.Y36(Nt.sK,8))},aa.\u0275cmp=n.Xpm({type:aa,selectors:[["app-root"]],features:[n.qOj],decls:5,vars:1,consts:[[1,"flex-1","w-full","relative","h-1/2"],[4,"ngIf"]],template:function(A,N){1&A&&(n._UZ(0,"global-banner"),n.TgZ(1,"div",0),n._UZ(2,"router-outlet"),n.qZA(),n._UZ(3,"global-loading"),n.YNc(4,mh,1,0,"debug-console",1)),2&A&&(n.xp6(4),n.Q6J("ngIf",N.debug))},dependencies:[Oo.O5,fo.lC,Ld.G,Bu.T,Uu.x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}"]});var Eo=t(6725);const _h=[{path:"-",component:Eo.et},{path:"unauthorised",component:Eo.JD},{path:"misconfigured",component:Eo.A2},{path:"dashboard",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>Promise.all([t.e(592),t.e(571)]).then(t.bind(t,4571)).then(U=>U.DashboardModule)},{path:"landing",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>Promise.all([t.e(592),t.e(368)]).then(t.bind(t,368)).then(U=>U.AppLandingModule)},{path:"book",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>t.e(595).then(t.bind(t,6595)).then(U=>U.BookModule)},{path:"explore",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>t.e(37).then(t.bind(t,3037)).then(U=>U.ExploreModule)},{path:"control",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>t.e(671).then(t.bind(t,4671)).then(U=>U.ControlModule)},{path:"directory",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>t.e(27).then(t.bind(t,6027)).then(U=>U.DirectoryModule)},{path:"your-bookings",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>Promise.all([t.e(592),t.e(720)]).then(t.bind(t,4720)).then(U=>U.AppScheduleModule)},{path:"schedule",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>Promise.all([t.e(592),t.e(326)]).then(t.bind(t,6326)).then(U=>U.AppScheduleModule)},{path:"whats-on",canActivate:[Eo.mk],canLoad:[Eo.mk],loadChildren:()=>t.e(723).then(t.bind(t,404)).then(U=>U.WhatsOnModule)},{path:"**",redirectTo:"-",pathMatch:"full"}];class xl{}xl.\u0275fac=function(A){return new(A||xl)},xl.\u0275mod=n.oAB({type:xl}),xl.\u0275inj=n.cJS({imports:[fo.Bz.forRoot(_h,{useHash:!0}),fo.Bz]});var gr=t(5559),nc=t(5306),ju=t(9818);const Dl=function(){return{type:"icon",class:"material-icons",content:"perm_identity"}};function la(U,A){if(1&U&&(n.TgZ(0,"div"),n._UZ(1,"app-icon",0),n.TgZ(2,"label"),n._uU(3),n.qZA(),n.TgZ(4,"a",4),n._uU(5),n.qZA()()),2&U){const N=A.$implicit;n.xp6(1),n.Q6J("icon",n.DdM(4,Dl)),n.xp6(2),n.Oqu(N.name),n.xp6(1),n.MGl("href","mailto:",N.email,"",n.LSH),n.xp6(1),n.Oqu(N.email)}}const gh=function(){return{type:"icon",class:"material-icons",content:"people_outline"}};class ic extends Zn.KG{constructor(A){super(),this._data=A}ngOnChanges(){}ngOnInit(){this.attendees=this._data.attendees}}function dm(U,A){if(1&U&&(n.ynx(0),n.TgZ(1,"label"),n._uU(2),n.qZA(),n.TgZ(3,"label",1),n._uU(4),n.qZA(),n.BQk()),2&U){const N=A.$implicit;n.xp6(2),n.hij(" ",N.item," "),n.xp6(2),n.hij(" ",N.qty," ")}}ic.\u0275fac=function(A){return new(A||ic)(n.Y36(gr.eJ))},ic.\u0275cmp=n.Xpm({type:ic,selectors:[["schedule-view-attendees"]],features:[n.qOj,n.TTD],decls:11,vars:3,consts:[[3,"icon"],[1,"body"],[4,"ngFor","ngForOf"],["mat-button","","mat-dialog-close","",1,"inverse"],[3,"href"]],template:function(A,N){1&A&&(n.TgZ(0,"header"),n._UZ(1,"app-icon",0),n.TgZ(2,"h1"),n._uU(3,"Attendees"),n.qZA()(),n.TgZ(4,"mat-dialog-content")(5,"div",1),n.YNc(6,la,6,5,"div",2),n.qZA()(),n.TgZ(7,"mat-dialog-actions")(8,"footer")(9,"button",3),n._uU(10,"Close"),n.qZA()()()),2&A&&(n.xp6(1),n.Q6J("icon",n.DdM(2,gh)),n.xp6(5),n.Q6J("ngForOf",N.attendees))},dependencies:[Oo.sg,nc.o,ju.eB,gr.aO,gr.Rb,gr.ev],styles:['.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.5em}.body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;grid-template-columns:3em 1fr;grid-template-rows:1fr 1fr;grid-template-areas:"icon name" "icon email";margin-bottom:.5em;align-items:center}.body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{margin:auto;grid-area:icon;font-size:2em}.body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{grid-area:name}.body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{grid-area:email}']});class Vc extends Zn.KG{constructor(A,N,z){super(),this._data=A,this._router=N,this._dialog=z,this.catering_items_total=0}ngOnInit(){this._data&&(this.catering=this._data.catering,this.catering_note=this._data.catering_note,this.catering_items_total=this.catering.reduce((N,z)=>z.quantity+N,0))}edit(){this._dialog.closeAll(),this._router.navigate(["/catering/"])}}Vc.\u0275fac=function(A){return new(A||Vc)(n.Y36(gr.eJ),n.Y36(fo.F0),n.Y36(gr.on))},Vc.\u0275cmp=n.Xpm({type:Vc,selectors:[["view-catering-modal"]],features:[n.qOj],decls:24,vars:3,consts:[[1,"body"],[1,"qty"],[4,"ngFor","ngForOf"],[1,"total"],[1,"note-label"],[1,"note-box"],["mat-dialog-close",""],[1,"black",3,"click"]],template:function(A,N){1&A&&(n.TgZ(0,"header")(1,"app-icon"),n._uU(2,"room_service"),n.qZA(),n.TgZ(3,"h1"),n._uU(4,"Catering"),n.qZA()(),n.TgZ(5,"div",0)(6,"strong"),n._uU(7,"Item"),n.qZA(),n.TgZ(8,"strong",1),n._uU(9,"Quantity"),n.qZA(),n.YNc(10,dm,5,2,"ng-container",2),n.TgZ(11,"strong",3),n._uU(12,"Total Items"),n.qZA(),n.TgZ(13,"strong",1),n._uU(14),n.qZA(),n.TgZ(15,"strong",4),n._uU(16," Note: "),n.qZA(),n.TgZ(17,"div",5),n._uU(18),n.qZA()(),n.TgZ(19,"footer")(20,"button",6),n._uU(21,"Close"),n.qZA(),n.TgZ(22,"button",7),n.NdJ("click",function(){return N.edit()}),n._uU(23,"Edit"),n.qZA()()),2&A&&(n.xp6(10),n.Q6J("ngForOf",N.catering),n.xp6(4),n.Oqu(N.catering_items_total),n.xp6(4),n.hij(" ",N.catering_note," "))},dependencies:[Oo.sg,nc.o,gr.aO],styles:[".body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;row-gap:.5em}.body[_ngcontent-%COMP%]   .note-box[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{grid-column:1/-1}.body[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{margin-top:.5em}.body[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right}"]});var Fd=t(4363),fm=t(8455),kd=t(6289),$u=t(1343),Bd=t(2329);function Ud(U,A){if(1&U&&(n.TgZ(0,"mat-option",14),n._uU(1),n.qZA()),2&U){const N=A.$implicit;n.Q6J("value",N),n.xp6(1),n.hij(" ",N.name," ")}}const vh=function(){return{standalone:!0}};function yh(U,A){if(1&U){const N=n.EpF();n.TgZ(0,"div",9)(1,"label",10),n._uU(2,"Period: "),n.qZA(),n.TgZ(3,"mat-form-field",11)(4,"mat-select",12),n.NdJ("ngModelChange",function(re){n.CHM(N);const ve=n.oxw(3);return n.KtG(ve.selected_pattern=re)})("ngModelChange",function(re){n.CHM(N);const ve=n.oxw(3);return n.KtG(ve.changePattern(re))}),n.YNc(5,Ud,2,2,"mat-option",13),n.qZA()()()}if(2&U){const N=n.oxw(3);n.xp6(4),n.Q6J("ngModel",N.selected_pattern)("ngModelOptions",n.DdM(3,vh)),n.xp6(1),n.Q6J("ngForOf",N.patterns)}}function Ps(U,A){if(1&U&&(n.TgZ(0,"div",9)(1,"label",15),n._uU(2," End Date"),n.TgZ(3,"span"),n._uU(4,"*"),n.qZA(),n._uU(5,": "),n.qZA(),n.TgZ(6,"a-date-field",16),n._uU(7," End date needs to be in the future "),n.qZA()()),2&U){const N=n.oxw(3);n.xp6(1),n.ekj("error",N.form.controls.end.errors&&N.form.controls.end.touched),n.xp6(5),n.Q6J("from",N.date)}}function bh(U,A){if(1&U&&(n.TgZ(0,"form",7),n.YNc(1,yh,6,4,"div",8),n.YNc(2,Ps,8,3,"div",8),n.qZA()),2&U){const N=n.oxw(2);n.Q6J("formGroup",N.form),n.xp6(1),n.Q6J("ngIf",N.form.controls.pattern&&N.patterns.length>1),n.xp6(1),n.Q6J("ngIf",N.form.controls.end)}}function Vd(U,A){if(1&U&&(n.TgZ(0,"main",5),n.YNc(1,bh,3,3,"form",6),n.qZA()),2&U){const N=n.oxw();n.xp6(1),n.Q6J("ngIf",N.form)}}function Eh(U,A){if(1&U){const N=n.EpF();n.TgZ(0,"footer")(1,"button",17),n.NdJ("click",function(){n.CHM(N);const re=n.oxw();return n.KtG(re.save())}),n._uU(2," Add to Booking "),n.qZA()()}}function Ch(U,A){if(1&U&&(n.TgZ(0,"main")(1,"div",18),n._UZ(2,"mat-spinner",19),n.TgZ(3,"p"),n._uU(4),n.qZA()()()),2&U){const N=n.oxw();n.xp6(4),n.Oqu(N.loading)}}class oc extends Zn.KG{constructor(A){super(),this._data=A,this.event=new n.vpe,this.form=new Xi.cw({pattern:new Xi.NI(this._data.details?.pattern),interval:new Xi.NI(this._data.details?.interval),end:new Xi.NI(this._data.details?.end||this._data.date,[Xi.kI.required])}),this.patterns=[{id:"",name:"None"},{id:"daily",name:"Daily",interval:1,pattern:"daily"},{id:"weekly",name:"Weekly",interval:1,pattern:"weekly"},{id:"monthly",name:"Every 4 weeks",interval:4,pattern:"weekly"}]}ngOnInit(){this.date=this._data.date;const A=this._data.details;this.selected_pattern=this.patterns.find(N=>N.interval===A?.interval&&N.pattern===A?.pattern)}changePattern(A){this.form.patchValue({pattern:A.pattern,interval:A.interval})}save(){this.form.markAllAsTouched(),this.form.valid&&(this.loading="Adding recurrence data to booking...",this.event.emit({reason:"done",metadata:{...this._data.details,...this.form.value}}))}}oc.\u0275fac=function(A){return new(A||oc)(n.Y36(gr.eJ))},oc.\u0275cmp=n.Xpm({type:oc,selectors:[["recurrence-modal"]],outputs:{event:"event"},features:[n.qOj],decls:10,vars:3,consts:[["mat-dialog-title","",1,"heading"],["mat-icon-button","","mat-dialog-close",""],["class","p-4",4,"ngIf","ngIfElse"],[4,"ngIf"],["load_state",""],[1,"p-4"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],["for","period"],["appearance","outline",1,"w-full"],["name","interval","placeholder","None",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","end",1,"mb"],["name","end","formControlName","end",1,"w-full",3,"from"],["mat-button","",1,"w-32",3,"click"],[1,"flex","flex-col","items-center","justify-center","space-y-2","p-8"],["diameter","32"]],template:function(A,N){if(1&A&&(n.TgZ(0,"header")(1,"div",0),n._uU(2,"Booking Recurrence"),n.qZA(),n.TgZ(3,"button",1)(4,"app-icon"),n._uU(5,"close"),n.qZA()()(),n.YNc(6,Vd,2,1,"main",2),n.YNc(7,Eh,3,0,"footer",3),n.YNc(8,Ch,5,1,"ng-template",null,4,n.W1O)),2&A){const z=n.MAs(9);n.xp6(6),n.Q6J("ngIf",!N.loading)("ngIfElse",z),n.xp6(1),n.Q6J("ngIf",!N.loading)}},dependencies:[Oo.sg,Oo.O5,Xi._Y,Xi.JJ,Xi.JL,Xi.On,Xi.sg,Xi.u,nc.o,Fd.CK,fm.v_,kd.x8,ju.eB,gr.aO,gr.YS,$u.sN,Bd.Q]});var jd=t(591),Sh=t(13),Oh=t(8115),Th=t(2722),bi=t(1764),$d=t(1299),Wd=t(9646),Kd=t(4038);function Mh(U,A){if(1&U){const N=n.EpF();n.ynx(0),n.TgZ(1,"div",9)(2,"vertical-timeline",10),n.NdJ("dateChange",function(re){n.CHM(N);const ve=n.oxw();return n.KtG(ve.date=re)})("durationChange",function(re){n.CHM(N);const ve=n.oxw();return n.KtG(ve.duration=re)})("groupsChange",function(re){n.CHM(N);const ve=n.oxw();return n.KtG(ve.groups=re)}),n.qZA()(),n.TgZ(3,"div",11)(4,"event-timeline",10),n.NdJ("dateChange",function(re){n.CHM(N);const ve=n.oxw();return n.KtG(ve.date=re)})("durationChange",function(re){n.CHM(N);const ve=n.oxw();return n.KtG(ve.duration=re)})("groupsChange",function(re){n.CHM(N);const ve=n.oxw();return n.KtG(ve.groups=re)}),n.qZA()(),n.BQk()}if(2&U){const N=n.oxw();n.xp6(2),n.Q6J("date",N.date)("duration",N.duration)("groups",N.groups),n.xp6(2),n.Q6J("date",N.date)("duration",N.duration)("groups",N.groups)}}function xh(U,A){1&U&&(n.TgZ(0,"div",12),n._UZ(1,"mat-spinner",13),n.qZA())}const zd=function(){return{type:"icon",class:"material-icons",content:"close"}};class rc extends Zn.KG{constructor(A){super(),this._data=A,this.event=new n.vpe,this.date=(new Date).valueOf(),this.date$=new jd.X(this.date)}ngOnInit(){this.users=this._data.users,this.date=this._data.date,this.duration=this._data.duration,this.loadAvailability(),this.date$.pipe((0,Sh.b)(500),(0,ls.w)(()=>this.loadAvailability())).subscribe(A=>{this.groups=A})}loadAvailability(){var A=this;return(0,ln.Z)(function*(){A.loading=!0;const N=Math.floor((0,Oh.Z)(A.date).valueOf()/1e3),z=Math.floor((0,Th.Z)(A.date).valueOf()/1e3),re=yield Promise.all(A.users.map(function(){var ve=(0,ln.Z)(function*(qe){return{name:qe.name,events:yield(0,$d.u$)({period_start:N,period_end:z,calendars:qe.email}).toPromise().then(mt=>mt.map(Rt=>({start:bi(Rt.date).hour(),duration:Rt.duration}))).catch(mt=>[])}});return function(qe){return ve.apply(this,arguments)}}()));return A.loading=!1,re})()}changeDate(A){const N=bi(this.date);this.date=bi(A).hour(N.hour()).minute(N.minute()).valueOf(),this.date$.next(this.date)}get is_past(){return bi(this.date).isBefore(bi())}save(){this.is_past||this.event.emit({reason:"done",metadata:{date:this.date,duration:this.duration}})}}rc.\u0275fac=function(A){return new(A||rc)(n.Y36(gr.eJ))},rc.\u0275cmp=n.Xpm({type:rc,selectors:[["app-user-availability-modal"]],outputs:{event:"event"},features:[n.qOj],decls:18,vars:6,consts:[["mat-dialog-title","",1,"heading"],["mat-icon-button","","mat-dialog-close",""],[3,"icon"],[1,"date"],["name","date",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["mat-button","","mat-dialog-close","",1,"inverse"],["mat-flat-button","","color","primary",3,"disabled","click"],["loader",""],[1,"mobile-only"],[3,"date","duration","groups","dateChange","durationChange","groupsChange"],[1,"not-mobile"],[1,"spinner"],["diameter","32"]],template:function(A,N){if(1&A&&(n.TgZ(0,"header")(1,"div",0),n._uU(2," Attendees Availability "),n.qZA(),n.TgZ(3,"button",1),n._UZ(4,"app-icon",2),n.qZA()(),n.TgZ(5,"mat-dialog-content")(6,"main")(7,"div",3)(8,"a-date-field",4),n.NdJ("ngModelChange",function(re){return N.changeDate(re)}),n.qZA()(),n.YNc(9,Mh,5,6,"ng-container",5),n.qZA()(),n.TgZ(10,"mat-dialog-actions")(11,"footer")(12,"button",6),n._uU(13," Cancel "),n.qZA(),n.TgZ(14,"button",7),n.NdJ("click",function(){return N.save()}),n._uU(15," Save "),n.qZA()()(),n.YNc(16,xh,2,0,"ng-template",null,8,n.W1O)),2&A){const z=n.MAs(17);n.xp6(4),n.Q6J("icon",n.DdM(5,zd)),n.xp6(4),n.Q6J("ngModel",N.date),n.xp6(1),n.Q6J("ngIf",!N.loading)("ngIfElse",z),n.xp6(5),n.Q6J("disabled",N.is_past)}},dependencies:[Oo.O5,Xi.JJ,Xi.On,Wd.T,Kd.q,nc.o,ju.eB,gr.aO,gr.YS,gr.Rb,gr.ev,$u.sN,Bd.Q],styles:[".heading[_ngcontent-%COMP%]{flex:1;text-align:center}@media screen and (max-width: 639px){.not-mobile[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 640px){.mobile-only[_ngcontent-%COMP%]{display:none}}.date[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:3em}"]});var Wu=t(4322);class Pl{}Pl.\u0275fac=function(A){return new(A||Pl)},Pl.\u0275mod=n.oAB({type:Pl}),Pl.\u0275inj=n.cJS({imports:[Oo.ez,Xi.u5,Xi.UX,Wu.v]});var mm=t(9638);class al{}al.\u0275fac=function(A){return new(A||al)},al.\u0275mod=n.oAB({type:al,bootstrap:[aa]}),al.\u0275inj=n.cJS({providers:[{provide:n.qLn,useValue:function uh(U){return new ch(U)}({showDialog:!1})},{provide:fh,deps:[fo.F0]}],imports:[e.b2,Fo,xl,he.register("ngsw-worker.js",{enabled:true}),st.JF,Xi.u5,Pl,Wu.v,Se.XK,ze.y,mm.EP,Nt.aw.forRoot({defaultLanguage:"en",loader:{provide:Nt.Zw,useFactory:function Zd(U){return new tn(U,"./assets/locale/",".json")},deps:[st.eN]}})]}),(0,n.G48)(),e.q6().bootstrapModule(al).catch(U=>console.error(U))},8560:(Je,K,t)=>{"use strict";t.d(K,{v:()=>O});var e=t(5559),n=t(8368),y=t(6353);function T(C,E){if(1&C){const i=y.EpF();y.TgZ(0,"button",20),y.NdJ("click",function(){y.CHM(i);const _=y.oxw();return y.KtG(_.displayed=null)}),y._uU(1," Back "),y.qZA()}}const v=[];class O{constructor(E,i){this._settings=E,this._items=i,this.displayed=null,this.selected=[...this._items||[]]}get favorites(){return this._settings.get("favourite_assets")||v}get selected_ids(){return this.selected.map(E=>E.id).join(",")}get count(){return this.selected.reduce((E,i)=>E+i.amount,0)}isSelected(E){return E&&this.selected_ids.includes(E)}setSelected(E,i){const f=this.selected.filter(_=>_.id!==E.id);i&&f.push(E),this.selected=f}toggleFavourite(E){const i=this.favorites;i.includes(E.id)?this._settings.saveUserSetting("favourite_assets",i.filter(_=>_!==E.id)):this._settings.saveUserSetting("favourite_assets",[...i,E.id])}}O.\u0275fac=function(E){return new(E||O)(y.Y36(n.gb),y.Y36(e.eJ))},O.\u0275cmp=y.Xpm({type:O,selectors:[["asset-select-modal"]],decls:32,vars:20,consts:[[1,"absolute","inset-0","sm:relative","sm:inset-none","flex","flex-col","bg-white","dark:bg-neutral-700"],[1,"flex","items-center","space-x-4","w-full"],["mat-icon-button","","mat-dialog-close","",1,"bg-black/20"],[1,"flex-1","flex","items-center","divide-x","divide-gray-200","dark:divide-neutral-500","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:block"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:min-w-[20rem]","sm:h-[65vh]"],[1,"w-full","border-b","border-gray-200","dark:border-neutral-500","dark:bg-neutral-700"],[1,"flex-1","h-1/2","w-full","overflow-hidden",3,"selected","favorites","toggleFav","onSelect"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","bg-white","dark:bg-neutral-700","z-20",3,"item","active","fav","activeChange","toggleFav","close"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-gray-200","dark:border-neutral-500w-full"],["mat-button","","back-btn","","class","inverse sm:hidden w-full sm:w-auto",3,"click",4,"ngIf"],["mat-button","","save","",1,"w-full","sm:w-auto","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","",1,"clear","text-primary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["mat-button","",3,"disabled","click"],[1,"mr-1"],["mat-button","","back-btn","",1,"inverse","sm:hidden","w-full","sm:w-auto",3,"click"]],template:function(E,i){1&E&&(y.TgZ(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),y._uU(4,"close"),y.qZA()(),y.TgZ(5,"h3"),y._uU(6,"Add Assets"),y.qZA()(),y.TgZ(7,"main",3),y._UZ(8,"asset-filters",4),y.TgZ(9,"div",5),y._UZ(10,"asset-filters-display",6),y.TgZ(11,"asset-list",7),y.NdJ("toggleFav",function(_){return i.toggleFavourite(_)})("onSelect",function(_){return i.displayed=_}),y.qZA()(),y.TgZ(12,"asset-details",8),y.NdJ("activeChange",function(_){return i.setSelected(i.displayed,_)})("toggleFav",function(){return i.toggleFavourite(i.displayed)})("close",function(){return i.displayed=null}),y.qZA()(),y.TgZ(13,"footer",9),y.YNc(14,T,2,0,"button",10),y.TgZ(15,"button",11),y._uU(16," View List "),y.qZA()(),y.TgZ(17,"footer",12)(18,"button",13)(19,"div",14)(20,"app-icon",15),y._uU(21,"arrow_back"),y.qZA(),y.TgZ(22,"div",16),y._uU(23,"Back to form"),y.qZA()()(),y.TgZ(24,"p",17),y._uU(25),y.qZA(),y.TgZ(26,"button",18),y.NdJ("click",function(){return i.setSelected(i.displayed,!i.isSelected(null==i.displayed?null:i.displayed.id))}),y.TgZ(27,"div",14)(28,"app-icon",15),y._uU(29),y.qZA(),y.TgZ(30,"div",19),y._uU(31),y.qZA()()()()()),2&E&&(y.xp6(11),y.Q6J("selected",i.selected_ids)("favorites",i.favorites),y.xp6(1),y.ekj("hidden",!i.displayed)("inset-0",i.displayed),y.Q6J("item",i.displayed)("active",i.selected_ids.includes((null==i.displayed?null:i.displayed.id)||""))("fav",!!i.displayed&&i.favorites.includes((null==i.displayed?null:i.displayed.id)||"")),y.xp6(2),y.Q6J("ngIf",i.displayed),y.xp6(1),y.ekj("mb-2",i.displayed),y.Q6J("mat-dialog-close",i.selected),y.xp6(3),y.Q6J("mat-dialog-close",i.selected),y.xp6(7),y.hij("",i.count," assets(s) added"),y.xp6(1),y.ekj("inverse",i.isSelected(null==i.displayed?null:i.displayed.id)),y.Q6J("disabled",!i.displayed),y.xp6(3),y.Oqu(i.isSelected(null==i.displayed?null:i.displayed.id)?"remove":"add"),y.xp6(2),y.hij(" ",i.isSelected(null==i.displayed?null:i.displayed.id)?"Remove from Booking":"Add to booking"," "))}})},9638:(Je,K,t)=>{"use strict";t.d(K,{$N:()=>He.$,fy:()=>Ue.f,HA:()=>me,Bi:()=>Ie.B,EP:()=>be,FD:()=>je.FD,gV:()=>it.gV,F2:()=>je.F2,FP:()=>je.FP,pv:()=>je.pv,Fo:()=>je.Fo});var e=t(6895),n=t(4006),y=t(9818),T=t(74),v=t(8897),O=t(5559),C=t(8455),E=t(9203),i=t(1343),f=t(4454),_=t(4693),l=t(5844),d=(t(4088),t(8883),t(6353)),c=t(8368),a=t(2329),s=t(9697);function r(fe,Z){1&fe&&(d.TgZ(0,"button",5)(1,"i",6),d._uU(2,"close"),d.qZA()())}function o(fe,Z){if(1&fe){const ee=d.EpF();d.TgZ(0,"div",18)(1,"label"),d.SDv(2,19),d.qZA(),d.TgZ(3,"a-user-search-field",20),d.NdJ("ngModelChange",function(Ce){d.CHM(ee);const pt=d.oxw(2);return d.KtG(pt.host=Ce)}),d.qZA()()}if(2&fe){const ee=d.oxw(2);d.xp6(3),d.Q6J("ngModel",ee.host)}}function S(fe,Z){if(1&fe&&(d.TgZ(0,"div"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&fe){const ee=d.oxw(2);d.xp6(1),d.hij(" ",d.xi3(2,1,ee.date,"mediumDate")," ")}}function I(fe,Z){if(1&fe){const ee=d.EpF();d.TgZ(0,"a-date-field",20),d.NdJ("ngModelChange",function(Ce){d.CHM(ee);const pt=d.oxw(2);return d.KtG(pt.date=Ce)}),d.qZA()}if(2&fe){const ee=d.oxw(2);d.Q6J("ngModel",ee.date)}}function x(fe,Z){if(1&fe){const ee=d.EpF();d.TgZ(0,"div",21)(1,"label"),d.SDv(2,22),d.qZA(),d.TgZ(3,"mat-form-field",23)(4,"input",24),d.NdJ("ngModelChange",function(Ce){d.CHM(ee);const pt=d.oxw(2);return d.KtG(pt.reason=Ce)}),d.qZA()()()}if(2&fe){const ee=d.oxw(2);d.xp6(4),d.Q6J("ngModel",ee.reason)}}function P(fe,Z){if(1&fe){const ee=d.EpF();d.ynx(0),d.TgZ(1,"main",7),d.YNc(2,o,4,1,"div",8),d.TgZ(3,"div",9)(4,"label"),d.SDv(5,10),d.qZA(),d.YNc(6,S,3,4,"div",11),d.YNc(7,I,1,1,"a-date-field",12),d.qZA(),d.YNc(8,x,5,1,"div",13),d.TgZ(9,"p"),d.SDv(10,14),d.qZA()(),d.TgZ(11,"footer",15)(12,"button",16),d.NdJ("click",function(){d.CHM(ee);const Ce=d.oxw();return d.KtG(Ce.confirm())}),d.SDv(13,17),d.qZA()(),d.BQk()}if(2&fe){const ee=d.oxw();d.xp6(2),d.Q6J("ngIf",ee.can_set_host),d.xp6(4),d.Q6J("ngIf",!ee.can_set_date),d.xp6(1),d.Q6J("ngIf",ee.can_set_date),d.xp6(1),d.Q6J("ngIf",!ee.hide_reason),d.xp6(2),d.pQV(1===ee.desks.length?"":"s")(ee.desk_list)((null==ee.level?null:ee.level.display_name)||(null==ee.level?null:ee.level.name)),d.QtT(10)}}function g(fe,Z){if(1&fe&&(d.TgZ(0,"main",25),d._UZ(1,"mat-spinner",26),d.TgZ(2,"p"),d._uU(3),d.qZA()()),2&fe){const ee=d.oxw();d.xp6(1),d.Q6J("diameter",48),d.xp6(2),d.Oqu(ee.loading)}}class u{constructor(Z,ee){this._data=Z,this._settings=ee,this.event=new d.vpe,this.desks=this._data.desks||[],this.date=this._data.date,this.host=this._data.host,this.can_set_date=this._data.can_set_date,this.reason=this._data.reason,this.level=this._data.level}get desk_list(){return this.desks.map(Z=>Z.name).join(", ")}get hide_reason(){return!!this._settings.get("app.desks.hide_reason")}get can_set_host(){return!!this._settings.get("app.desks.can_book_for_others")}confirm(){this.loading="Requesting desk booking...",this.event.emit({reason:"done"})}}u.\u0275fac=function(Z){return new(Z||u)(d.Y36(O.eJ),d.Y36(c.gb))},u.\u0275cmp=d.Xpm({type:u,selectors:[["desk-flow-confirm-modal-component"]],outputs:{event:"event"},decls:8,vars:3,consts:function(){let fe,Z,ee,ue,Ce,pt;return fe=$localize`:␟d513554c23b779e029147a285f1f84f1479488fc␟1554073776118278895:Confirm Booking`,Z=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,ee=$localize`:␟5012a6a10d31e79f5865c2fc7f680b84a14accca␟4161419473863623687: Your desk${"\ufffd0\ufffd"}:INTERPOLATION: will be ${"\ufffd1\ufffd"}:INTERPOLATION_1: on ${"\ufffd2\ufffd"}:INTERPOLATION_2: `,ue=$localize`:␟68e710782ccb5398b3acb8844caf0b199da2c3da␟9178182467454450952:Confirm`,Ce=$localize`:␟fe22ca53e651df951dac25b67c17894b0980f767␟6641024648411549335:Host`,pt=$localize`:␟4ba250869daa372b54d24fafc0ea934769ee4076␟4775550080689015987:Reason`,[fe,[1,"flex-1"],["mat-icon-button","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["load_state",""],["mat-icon-button","","mat-dialog-close",""],[1,"material-icons"],[1,"p-4"],["host","","class","flex flex-col",4,"ngIf"],["date","",1,"mb-4"],Z,[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["reason","","class","flex flex-col mb-4",4,"ngIf"],ee,[1,"flex","items-center","justify-center","p-2"],["mat-button","",3,"click"],ue,["host","",1,"flex","flex-col"],Ce,[3,"ngModel","ngModelChange"],["reason","",1,"flex","flex-col","mb-4"],pt,["appearance","outline"],["matInput","","placeholder","Reason",3,"ngModel","ngModelChange"],["load","",1,"flex","flex-col","p-12","items-center","justify-center"],[1,"mb-4",3,"diameter"]]},template:function(Z,ee){if(1&Z&&(d.TgZ(0,"header")(1,"h2"),d.SDv(2,0),d.qZA(),d._UZ(3,"div",1),d.YNc(4,r,3,0,"button",2),d.qZA(),d.YNc(5,P,14,7,"ng-container",3),d.YNc(6,g,4,2,"ng-template",null,4,d.W1O)),2&Z){const ue=d.MAs(7);d.xp6(4),d.Q6J("ngIf",!ee.loading),d.xp6(1),d.Q6J("ngIf",!ee.loading)("ngIfElse",ue)}},dependencies:[e.O5,n.Fj,n.JJ,n.On,C.v_,E.k0,y.eB,O.aO,i.sN,a.Q,s.d,e.uU],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}"]});var M=t(4282),Ie=(t(5417),t(2075),t(8297),t(9921),t(718),t(6485),t(9761),t(9727),t(5652),t(647),t(4688),t(5260),t(4468),t(7304)),Pe=(t(1474),t(321),t(4367),t(4226));class be{}be.\u0275fac=function(Z){return new(Z||be)},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({providers:[n.UX],imports:[e.ez,n.u5,n.UX,f.Xo,E.x4,C.wp,v.FA,y.yu,O.yj,i.UK,T.Zh,Pe.D8,l.W,_.K]});var Ue=t(2084),He=t(6962),it=t(1980),je=t(354),Be=t(9671),lt=t(6221),Ye=t(9972),et=t(8115),ot=t(2722),ge=t(7224),we=t(4850);class me{constructor(Z,ee){this._org=Z,this._dialog=ee,this.can_set_date=!0,this.error_on_host=!0}bookDesk({desks:Z,host:ee,reason:ue,attendees:Ce,date:pt}){var Ze=this;return(0,Be.Z)(function*(){if(Ze.error_on_host&&!ee)return(0,c.cB)("You need to select a host to book a desk.");ee=ee||(0,c.ar)(),ue=ue||"";const ft=Ze._org.levelWithID(Z[0].zone instanceof Array?Z[0].zone:[Z[0].zone?.id]);let Dt=Ze._dialog.open(M.I),At=yield Promise.race([Dt.componentInstance.event.pipe((0,ge.P)(ct=>"done"===ct.reason)).toPromise(),Dt.afterClosed().pipe((0,we.U)(ct=>null)).toPromise()]);if(!At||(Dt.close(),Dt=Ze._dialog.open(u,{data:{host:ee,desks:Z,date:pt?new Date(pt):new Date,reason:ue,level:ft,can_set_date:Ze.can_set_date}}),At=yield Promise.race([Dt.componentInstance.event.pipe((0,ge.P)(ct=>"done"===ct.reason)).toPromise(),Dt.afterClosed().pipe((0,we.U)(ct=>null)).toPromise()]),!At))return;if(pt=Dt.componentInstance.date||pt,ue=Dt.componentInstance.reason||ue,!(ee=Dt.componentInstance.host||ee))return Dt.close(),(0,c.cB)("You need to select a host to book a desk. ");if(Dt.componentInstance.loading="Checking for existing desk bookings...",(yield(0,je.F2)({type:"desk",period_start:(0,Ye.Z)((0,et.Z)(pt||new Date)),period_end:(0,Ye.Z)((0,ot.Z)(pt||new Date))}).toPromise()).filter(ct=>ct.user_email.toLowerCase()===ee.email.toLowerCase())?.length)return Dt.close(),(0,c.cB)("You currently already have a desk booked for the selected date.");Dt.componentInstance.loading="Booking desk...";const nt=[ee,...Ce||[]];return yield Promise.all([Z.map((ct,Xe)=>Ze.makeDeskBooking(ct,ee,pt.valueOf()||(new Date).valueOf(),ue,nt[Xe]))]),(0,c.t5)("Successfully booked desk"),Dt.close(),!0})()}makeDeskBooking(Z,ee,ue,Ce,pt=null){var Ze=this;return(0,Be.Z)(function*(){const ft=`${Z.zone?.name}-${Z.id}`,Dt=Ze._org.levelWithID(Z.zone instanceof Array?Z.zone:[Z.zone?.id]),At=Z.zone?.id?[Z.zone?.id,Dt?.parent_id]:[Dt?.parent_id],Wt={booking_start:(0,Ye.Z)((0,et.Z)(ue)),user_id:pt?.id||ee.id,user_name:pt?.name||ee.name,user_email:pt?.email||ee.email,booking_end:Math.floor((0,ot.Z)(ue).valueOf()/1e3),asset_id:Z.id,asset_name:Z.name,title:Ce,description:ft,zones:At,booking_type:"desk",extension_data:{map_id:Z?.map_id||Z?.id,groups:Z.groups,for_user:pt?.email}};return(0,je.km)(Wt).toPromise()})()}}me.\u0275fac=function(Z){return new(Z||me)(d.LFG(lt.w7),d.LFG(O.on))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})},4088:(Je,K,t)=>{"use strict";t.d(K,{E:()=>I});var e=t(6353),y=(t(6962),t(8883)),T=t(8939),v=t(565),O=t(2641),C=t(6308),E=t(9756),i=t(9833),f=t(5559),_=t(6581),l=t(6895),m=t(5306);function h(x,P){if(1&x&&(e.TgZ(0,"span",6),e._uU(1),e.qZA()),2&x){const g=e.oxw(2);e.xp6(1),e.hij("",g.day,", ")}}function d(x,P){if(1&x&&(e.TgZ(0,"h4",3),e.YNc(1,h,2,1,"span",4),e._uU(2),e.ALo(3,"date"),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&x){const g=e.oxw();e.xp6(1),e.Q6J("ngIf",g.show_day),e.xp6(1),e.hij(" ",e.xi3(3,3,null==g.booking?null:g.booking.date,"h:mm a")," "),e.xp6(3),e.hij("(",e.xi3(6,6,null==g.booking?null:g.booking.date,"z"),")")}}function c(x,P){if(1&x&&(e.TgZ(0,"app-icon"),e._uU(1),e.qZA()),2&x){const g=e.oxw(2);e.xp6(1),e.Oqu(g.type)}}function a(x,P){if(1&x&&(e.TgZ(0,"div",15)(1,"app-icon"),e._uU(2,"place"),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.qZA()()),2&x){const g=e.oxw(2);e.xp6(4),e.Oqu(g.location)}}const s=function(){return["./"]},r=function(x){return{booking:x}};function o(x,P){if(1&x){const g=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(){e.CHM(g);const M=e.oxw();return e.KtG(M.viewDetails())}),e.TgZ(1,"div",8)(2,"h4",9),e._uU(3),e.qZA(),e.TgZ(4,"div",10)(5,"div",11)(6,"div",12)(7,"app-icon"),e._uU(8),e.qZA()(),e.TgZ(9,"div",13),e._uU(10),e.qZA()()(),e.TgZ(11,"div",14)(12,"div",15),e.YNc(13,c,2,1,"app-icon",16),e.TgZ(14,"div",17),e._uU(15),e.qZA()(),e.YNc(16,a,5,1,"div",18),e.qZA(),e.TgZ(17,"app-icon",19),e._uU(18," chevron_right "),e.qZA()()()}if(2&x){const g=e.oxw(),u=e.MAs(3);e.Q6J("routerLink",e.DdM(25,s))("queryParams",e.VKq(26,r,null==g.booking?null:g.booking.id)),e.xp6(3),e.Oqu(null==g.booking?null:g.booking.title),e.xp6(2),e.ekj("bg-green-600",!g.booking.is_done&&"approved"===(null==g.booking?null:g.booking.status))("bg-yellow-500",!g.booking.is_done&&"tentative"===(null==g.booking?null:g.booking.status))("bg-red-600",!g.booking.is_done&&"declined"===(null==g.booking?null:g.booking.status))("bg-gray-300",g.booking.is_done),e.xp6(1),e.ekj("bg-success",!g.booking.is_done&&"approved"===(null==g.booking?null:g.booking.status))("text-pending",!g.booking.is_done&&"tentative"===(null==g.booking?null:g.booking.status))("bg-error",!g.booking.is_done&&"declined"===(null==g.booking?null:g.booking.status))("text-neutral-600",g.booking.is_done),e.xp6(2),e.hij(" ",g.booking.is_done?"not_interested":"approved"===(null==g.booking?null:g.booking.status)?"done":"tentative"===(null==g.booking?null:g.booking.status)?"warning":"close"," "),e.xp6(2),e.Oqu(g.period),e.xp6(3),e.Q6J("ngIf","desk"!==g.type)("ngIfElse",u),e.xp6(2),e.hij(" ",(null==g.booking?null:g.booking.description)||(null==g.booking?null:g.booking.asset_id)," "),e.xp6(1),e.Q6J("ngIf",g.location)}}function S(x,P){1&x&&e._UZ(0,"img",20)}class I extends T.K{constructor(P,g,u){super(),this._dialog=P,this._route=g,this._org=u,this.show_day=!1,this.edit=new e.vpe,this.remove=new e.vpe}ngOnInit(){this.subscription("route.query",this._route.queryParamMap.subscribe(P=>P.has("booking")&&this.booking?.id===P.get("event")?this.viewDetails():""))}get type(){return"desk"===this.booking?.type?"desk":"parking"===this.booking?.type?"drive_eta":"book"}get day(){const P=this.booking?.date||Date.now();return`${(0,O.Z)(Date.now(),P)?"Today":(0,C.Z)(P,"EEEE")}`}get location(){const P=this._org.levelWithID(this.booking?.zones||[]);return`${P?.display_name||P?.name||""}`}get period(){const P=this.booking?.date||Date.now(),g=this.booking?.duration||60,u=(0,E.Z)(P,g),M=(0,i.Z)({hours:Math.floor(g/60),minutes:g%60}).replace(" hour","hr").replace(" minute","min");return`${(0,C.Z)(P,"h:mm a")} - ${(0,C.Z)(u,"h:mm a")} (${M})`}viewDetails(){!this.booking||this.timeout("open",()=>{const P=this._dialog.open(y.q,{data:this.booking});this.subscription("edit",P.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",P.componentInstance.remove.subscribe(()=>this.remove.emit()))})}}I.\u0275fac=function(P){return new(P||I)(e.Y36(f.on),e.Y36(_.gz),e.Y36(v.w))},I.\u0275cmp=e.Xpm({type:I,selectors:[["booking-card"]],inputs:{booking:"booking",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[e.qOj],decls:4,vars:2,consts:[["class","mb-2 flex items-center",4,"ngIf"],["matRippleColor","","details","","class","w-full",3,"routerLink","queryParams","click",4,"ngIf"],["desk_icon",""],[1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["matRippleColor","","details","",1,"w-full",3,"routerLink","queryParams","click"],[1,"w-full","bg-white","dark:bg-[#1F2021]","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[1,"flex","items-center","bg-opacity-30","rounded-2xl","p-1","text-base","space-x-2","pr-2","font-medium"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center","text-white"],[1,"pr-1"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-neutral-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[4,"ngIf","ngIfElse"],[1,"mx-2","truncate"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["src","assets/icons/desk-outline.svg",1,"w-5","h-5"]],template:function(P,g){1&P&&(e.YNc(0,d,7,9,"h4",0),e.YNc(1,o,19,28,"a",1),e.YNc(2,S,1,0,"ng-template",null,2,e.W1O)),2&P&&(e.Q6J("ngIf",g.booking),e.xp6(1),e.Q6J("ngIf",g.booking))},dependencies:[l.O5,m.o,l.uU],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})},8883:(Je,K,t)=>{"use strict";t.d(K,{q:()=>P});var e=t(9671),n=t(6353),y=t(5559),T=t(8368),v=t(6725),O=t(6221),C=t(9756),E=t(9833),i=t(6308),_=(t(6962),t(354)),l=t(6895),m=t(9818),h=t(1343),d=t(5306),c=t(9136),a=t(2581),s=t(6255);function r(g,u){if(1&g&&(n.TgZ(0,"div",22),n._UZ(1,"image-carousel",23),n.qZA()),2&g){const M=n.oxw();n.xp6(1),n.Q6J("images",null==M.booking||null==M.booking.extension_data?null:M.booking.extension_data.images)}}function o(g,u){if(1&g&&(n.TgZ(0,"div",29)(1,"app-icon"),n._uU(2),n.qZA(),n.TgZ(3,"div",30),n._uU(4),n.qZA()()),2&g){const M=n.oxw(2);n.xp6(2),n.Oqu(M.booking.checked_in?"done":"arrow_back"),n.xp6(2),n.hij(" ",M.booking.checked_in?"Checked in":"Not checked in"," ")}}function S(g,u){1&g&&n._UZ(0,"mat-spinner",31),2&g&&n.Q6J("diameter",32)}function I(g,u){if(1&g){const M=n.EpF();n.TgZ(0,"div",24)(1,"button",25),n.NdJ("click",function(){n.CHM(M);const w=n.oxw();return n.KtG(w.toggleCheckedIn())}),n.YNc(2,o,5,2,"div",26),n.YNc(3,S,1,1,"ng-template",null,27,n.W1O),n.qZA(),n.TgZ(5,"button",28)(6,"app-icon"),n._uU(7,"more_horiz"),n.qZA()()()}if(2&g){const M=n.MAs(4),R=n.oxw(),w=n.MAs(45);n.xp6(1),n.ekj("inverse",R.booking.checked_in),n.Q6J("disabled",R.checking_in),n.xp6(1),n.Q6J("ngIf",!R.checking_in)("ngIfElse",M),n.xp6(3),n.Q6J("matMenuTriggerFor",w)}}const x=function(){return{disable_pan:!0,disable_zoom:!0}};class P{constructor(u,M){this._booking=u,this._org=M,this.edit=new n.vpe,this.remove=new n.vpe,this.booking=this._booking,this.checking_in=!1,this.features=[{location:this.booking?.asset_id,content:v.qL}]}get level(){return this._org.levelWithID(this.booking?.zones||[])}get building(){return this._org.buildings.find(u=>(this.booking?.zones||[]).includes(u.id))}get period(){const u=this.booking?.date||Date.now(),M=this.booking?.duration||60,R=(0,C.Z)(u,M),w=(0,E.Z)({hours:Math.floor(M/60),minutes:M%60}).replace(" hour","hr").replace(" minute","min");return`${(0,i.Z)(u,"h:mm a")} - ${(0,i.Z)(R,"h:mm a")} (${w})`}toggleCheckedIn(){var u=this;return(0,e.Z)(function*(){u.checking_in=!0,yield(0,_.FD)(u.booking.id,!u.booking.checked_in).toPromise(),u.booking.checked_in=!u.booking.checked_in,(0,T.t5)("Successfully "+(u.booking.checked_in?"checked in":"checked out")),u.checking_in=!1})()}}P.\u0275fac=function(u){return new(u||P)(n.Y36(y.eJ),n.Y36(O.w7))},P.\u0275cmp=n.Xpm({type:P,selectors:[["booking-details-modal"]],outputs:{edit:"edit",remove:"remove"},decls:51,vars:36,consts:function(){let g,u;return g=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,u=$localize`:␟55883ef2b67c24d30f999a5ade421493fdc9e14a␟1139994899162365077:Delete booking`,[[1,"absolute","inset-0","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:max-h-[80vh]","bg-white","sm:bg-gray-100","sm:dark:bg-neutral-600","dark:bg-neutral-700","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-white","dark:bg-neutral-700","border-gray-300","dark:border-neutral-500"],["class","bg-black/20 dark:bg-white/20 w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[1,"flex","items-center","bg-opacity-30","rounded-2xl","p-1","text-sm","space-x-2","pr-2","font-medium"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center","text-white"],[1,"pr-1"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-white","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-gray-200","dark:border-neutral-500","flex-grow-[4]","min-w-1/3","sm:w-[16rem]"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],g,[1,"flex","items-center","px-2","space-x-2"],["map","",1,"mt-4","sm:my-2","h-64","sm:h-48","relative","border","border-gray-200","dark:border-neutral-500","overflow-hidden","rounded","sm:bg-white","m-2","flex-grow-[3]","min-w-1/3","p-2","sm:w-[16rem]"],[1,"pointer-events-none",3,"src","features","options"],["mat-icon-button","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-black/30","text-white"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",1,"flex","items-center","space-x-2","text-base",3,"click"],u,[1,"bg-black/20","dark:bg-white/20","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["mat-button","",1,"flex-1","h-10",3,"disabled","click"],["class","flex items-center space-x-2 justify-center",4,"ngIf","ngIfElse"],["loading_state",""],["mat-icon-button","",1,"bg-primary","rounded","text-white","h-10","w-10",3,"matMenuTriggerFor"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],[1,"mx-auto",3,"diameter"]]},template:function(u,M){1&u&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,r,2,1,"div",2),n.TgZ(3,"h3",3),n._uU(4),n.qZA(),n.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"app-icon"),n._uU(10),n.qZA()(),n.TgZ(11,"div",8),n._uU(12),n.qZA()()(),n.YNc(13,I,8,6,"div",9),n.qZA()(),n.TgZ(14,"div",10)(15,"div",11)(16,"h3",12),n.SDv(17,13),n.qZA(),n.TgZ(18,"div",14)(19,"app-icon"),n._uU(20,"event"),n.qZA(),n.TgZ(21,"div"),n._uU(22),n.ALo(23,"date"),n.qZA()(),n.TgZ(24,"div",14)(25,"app-icon"),n._uU(26,"schedule"),n.qZA(),n.TgZ(27,"div"),n._uU(28),n.qZA()(),n.TgZ(29,"div",14)(30,"app-icon"),n._uU(31,"map"),n.qZA(),n.TgZ(32,"div"),n._uU(33),n.qZA()(),n.TgZ(34,"div",14)(35,"app-icon"),n._uU(36,"place"),n.qZA(),n.TgZ(37,"div"),n._uU(38),n.qZA()()(),n.TgZ(39,"div",15),n._UZ(40,"interactive-map",16),n.qZA()(),n.TgZ(41,"button",17)(42,"app-icon"),n._uU(43,"close"),n.qZA()()(),n.TgZ(44,"mat-menu",18,19)(46,"button",20),n.NdJ("click",function(){return M.remove.emit()}),n.TgZ(47,"app-icon"),n._uU(48,"delete"),n.qZA(),n.TgZ(49,"div"),n.SDv(50,21),n.qZA()()()),2&u&&(n.xp6(2),n.Q6J("ngIf",null==M.booking||null==M.booking.extension_data||null==M.booking.extension_data.images?null:M.booking.extension_data.images.length),n.xp6(1),n.ekj("pt-4",!(null!=M.booking&&null!=M.booking.extension_data&&M.booking.extension_data.images)),n.xp6(1),n.hij(" ",M.booking.title," "),n.xp6(3),n.ekj("bg-green-600",!M.booking.is_done&&"approved"===(null==M.booking?null:M.booking.status))("bg-yellow-500",!M.booking.is_done&&"tentative"===(null==M.booking?null:M.booking.status))("bg-red-600",!M.booking.is_done&&"declined"===(null==M.booking?null:M.booking.status))("bg-gray-300",M.booking.is_done),n.xp6(1),n.ekj("bg-success",!M.booking.is_done&&"approved"===(null==M.booking?null:M.booking.status))("text-pending",!M.booking.is_done&&"tentative"===(null==M.booking?null:M.booking.status))("bg-error",!M.booking.is_done&&"declined"===(null==M.booking?null:M.booking.status))("text-neutral-600",M.booking.is_done),n.xp6(2),n.hij(" ",M.booking.is_done?"not_interested":"approved"===(null==M.booking?null:M.booking.status)?"done":"tentative"===(null==M.booking?null:M.booking.status)?"warning":"close"," "),n.xp6(2),n.Oqu(M.period),n.xp6(1),n.Q6J("ngIf",!M.booking.is_done),n.xp6(9),n.Oqu(n.xi3(23,32,M.booking.date,"EEEE, dd LLLL y")),n.xp6(6),n.Oqu(M.period),n.xp6(5),n.AsE(" ",(null==M.level?null:M.level.display_name)||(null==M.level?null:M.level.name),", ",M.booking.asset_name||M.booking.asset_id," "),n.xp6(5),n.AsE(" ",(null==M.building?null:M.building.display_name)||(null==M.building?null:M.building.name)," ",null!=M.building&&M.building.address?", "+M.building.address:""," "),n.xp6(2),n.Q6J("src",null==M.level?null:M.level.map_id)("features",M.features)("options",n.DdM(35,x)))},dependencies:[l.O5,m.eB,y.aO,h.sN,d.o,c.p,a.K,s.W0,s.tN,s.D8,l.uU]})},2084:(Je,K,t)=>{"use strict";t.d(K,{f:()=>B});var e=t(9671),n=t(6581),y=t(8368),T=t(4351),v=t(9972),O=t(9756),C=t(6308),E=t(3337),i=t(591),f=t(1086),_=t(3426),l=t(5154),m=t(13),h=t(9184),d=t(7545),c=t(2994),a=t(4850),s=t(2198),r=t(7224),o=t(2986),S=t(565),I=t(6962),x=t(1980),P=t(354),g=t(4282),u=t(8871),M=t(4367),R=t(6353),w=t(5559);const F=["book/desks","book/parking","book/newdesk","book/new-parking"];class B extends y.KG{constructor($,j,V,Q,ie){super(),this._router=$,this._settings=j,this._org=V,this._dialog=Q,this._payments=ie,this._view=new i.X("form"),this._options=new i.X({type:"desk"}),this._form=new i.X((0,x.PR)()),this._booking=new i.X(null),this._loading=new i.X(""),this.last_success=new I.$(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_booking")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.pipe((0,l.d)(1)),this.assets=this.options.pipe((0,m.b)(300),(0,h.g)("type"),(0,d.w)(({type:ye})=>{if(!this._org.building)return(0,f.of)([]);switch(ye){case"desk":return this._loading.next("Loading desks..."),this.loadAssets("desks");case"parking":return this._loading.next("Loading parking spaces..."),this.loadAssets("parking_spaces")}return(0,f.of)([])}),(0,c.b)(()=>this._loading.next("")),(0,l.d)(1)),this.features=this.assets.pipe((0,a.U)(ye=>{const G=[];for(const{features:_e}of ye)_e instanceof Array&&_e.forEach(Ie=>G.push(Ie));return(0,y.Tw)(G).sort((_e,Ie)=>_e.localeCompare(Ie))}),(0,l.d)(1)),this.available_assets=(0,_.aj)([this.options,this.assets,this._form]).pipe((0,s.h)(([ye,G,_e])=>_e.getRawValue().date>0&&_e.getRawValue().duration>0),(0,m.b)(500),(0,c.b)(([{type:ye}])=>this._loading.next(`Checking ${ye} availability...`)),(0,d.w)(([ye,G,_e])=>(0,P.F2)({period_start:(0,v.Z)(_e.getRawValue().date),period_end:(0,v.Z)((0,O.Z)(_e.getRawValue().date,_e.getRawValue().duration||1440)),type:ye.type,zones:ye.zone_id}).pipe((0,a.U)(Ie=>G.filter(Me=>!1!==Me.bookable&&(!ye.features||ye.features?.every(Fe=>Me.features.includes(Fe)))&&(!ye.zone_id||ye.zone_id===Me.zone?.id||ye.zone_id===Me.zone?.parent_id)&&!Ie.find(Fe=>Fe.asset_id===Me.id&&"declined"!==Fe.status))))),(0,c.b)(()=>this._loading.next("")),(0,l.d)(1)),this.grouped_availability=(0,_.aj)([this.options,this.available_assets]).pipe((0,a.U)(([ye,G])=>{const _e=[],Ie=[...G].sort((Fe,Ve)=>Fe.zone?.id?.localeCompare(Ve.zone?.id)),Me=ye.members?.length?ye.members:[(0,y.ar)()];for(;Ie.length;){const Fe=[];let Ve=Ie.pop();for(;Fe.length<Me.length&&(!Fe.length||Fe.find(Pe=>Pe.zone?.id===Ve.zone?.id));)Fe.push(Ve),Ve=Ie.pop();Fe.length<Me.length||_e.push(Fe)}return _e})),this.subscription("router.bookings",this._router.events.subscribe(ye=>{ye instanceof n.m2&&!F.find(G=>ye.url.includes(G))&&this.clearForm()})),this._org.initialised.pipe((0,r.P)(ye=>ye)).subscribe(()=>this.setOptions({}))}get view(){return this._view.getValue()}get form(){return this._form.getValue()}get booking(){return this._booking.getValue()}newForm($=new I.$){this._form.next((0,x.PR)($)),this.subscription("form_change",this._form.getValue().valueChanges.subscribe(()=>this.storeForm())),this._booking.next($),this._options.next({type:this._options.getValue().type})}setView($){this._view.next($)}setOptions($){this._options.next({...this._options.getValue(),...$})}setFeature($,j){if(!$?.length)return;const V=this._options.getValue()?.features||[];j&&!V.includes($)&&V.push($),!j&&V.includes($)&&V.splice(V.findIndex(Q=>Q===$),1),this.setOptions({features:V})}resetForm(){this._form.getValue()||this.newForm();const $=this._booking.getValue();this._form.getValue().patchValue({...$||{},...$?.extension_data||{}}),this._options.next({type:this._options.getValue().type})}clearForm(){sessionStorage.removeItem("PLACEOS.booking_form"),sessionStorage.removeItem("PLACEOS.booking_form_options"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.booking_form",JSON.stringify(this._form.getValue()?.getRawValue()||{})),sessionStorage.setItem("PLACEOS.booking_form_filters",JSON.stringify(this._options.getValue()||{}))}loadForm(){this._form.getValue()||this.newForm(),this._form.getValue().patchValue({...JSON.parse(sessionStorage.getItem("PLACEOS.booking_form")||"{}")}),this.setOptions({zone_id:this._org.building?.id,...JSON.parse(sessionStorage.getItem("PLACEOS.booking_form_filters")||"{}")})}openBookingLinkModal($=!1){const j=this._form.getValue();if(j.markAllAsTouched(),!j.valid&&!$)return;const V=new I.$({...this.booking,...j.getRawValue()});this._dialog.open(M.w,{data:V})}confirmPost(){var $=this;return(0,e.Z)(function*(){yield $.checkQuestions();const j=$._options.getValue(),Q=$._form.getValue().getRawValue();let ie=`Would you like to book the ${j.type} ${Q.asset_name} for ${(0,C.Z)(Q.date,"dd MMM yyyy")}${Q.duration<720?" at "+(0,C.Z)(Q.date,"h:mm a"):""}`;j.group&&(ie=`${ie}.<br>You group members will be assigned desks nearby your selected desk.`);const ye=yield(0,y._5)({title:`Book ${j.type}`,content:ie,icon:{content:"event_available"}},$._dialog);if("done"!==ye?.reason)throw"User cancelled";ye.loading("Performing booking request..."),j.group?yield $.postFormForGroup().catch(G=>{throw(0,y.cB)(G),ye.close(),G}):yield $.postForm().catch(G=>{throw(0,y.cB)(G),ye.close(),G}),ye.close()})()}postForm($=!1){var j=this;return(0,e.Z)(function*(){const V=j._form.getValue();if(!V)throw"No form for booking";if(!V.valid)throw`Some form fields are invalid. [${(0,y.RD)(V).join(", ")}]`;V.patchValue({booking_type:V.getRawValue().booking_type||j._options.getValue().type});const Q=V.getRawValue();if($||(yield j.checkResourceAvailable(Q,j._options.getValue().type)),(Q.duration>=720||Q.all_day)&&V.patchValue({date:(0,E.Z)(Q.date,{hours:11,minutes:59}).valueOf(),duration:720}),j._payments.payment_module){const G=yield j._payments.makePayment({type:j._options.getValue().type,resource_name:Q.asset_name,date:Q.date,duration:Q.duration,all_day:Q.all_day});if(!G?.success)return;Q.extension_data={invoice:G,invoice_id:G.invoice_id}}j._loading.next("Saving booking");const ie=yield(0,P.km)(new I.$({...j._options.getValue(),...Q,approved:!!j._settings.get("app.bookings.no_approval")})).toPromise();j._loading.next("");const{booking_type:ye}=Q;return j.clearForm(),V?.patchValue({booking_type:ye}),j.last_success=ie,sessionStorage.setItem("PLACEOS.last_booked_booking",JSON.stringify(ie)),j.setView("success"),ie})()}postFormForGroup(){var $=this;return(0,e.Z)(function*(){const{members:j,group:V,type:Q}=$._options.getValue();if(!V)throw"No group available to book for";const ie=j.filter(Ve=>Ve.email!==(0,y.ar)().email);if(ie.length<=0)throw"No members in your group to book for.";const ye=$._form.getValue().value,G=yield $.available_assets.pipe((0,o.q)(1)).toPromise(),_e=G.find(Ve=>Ve.id===ye.asset_id||Ve.map_id===ye.asset_id),Ie=$._org.levelWithID([_e.zone?.id]),Me=[_e,...yield $._getNearbyResources(Ie.map_id,ye.asset_id,G,ie.length)],Fe=[(0,y.ar)(),...ie];yield Promise.all(Fe.map((Ve,Pe)=>$.checkResourceAvailable({...ye,asset_id:Me[Pe].map_id||Me[Pe].id,user_email:Ve.email},Q)));for(let Ve=0;Ve<Fe.length;Ve++){const Pe=Fe[Ve],xe=Me[Ve];$._form.getValue().patchValue({...ye,user:Pe,asset_id:xe?.id,asset_name:xe.name,map_id:xe?.map_id||xe?.id,description:xe.name,zones:xe.zone?[xe.zone?.parent_id,xe.zone?.id]:[]}),$.postForm(!0)}})()}checkQuestions(){var $=this;return(0,e.Z)(function*(){if(!1!==$._settings.get("app.desks.ignore_questions"))return;const j=$._dialog.open(g.I);if("done"!==(yield Promise.race([j.componentInstance.event.pipe((0,r.P)(ie=>"done"===ie.reason)).toPromise(),j.afterClosed().toPromise()]))?.reason)throw"User cancelled";const Q=j.componentInstance.form.getRawValue();for(const ie in Q)if(Q[ie])throw"User failed questionaire";j.close()})()}checkResourceAvailable({asset_id:$,date:j,duration:V,user_email:Q,all_day:ie},ye){var G=this;return(0,e.Z)(function*(){V=ie?720:V||60;const _e=yield(0,P.F2)({period_start:(0,v.Z)(j),period_end:(0,v.Z)(j+60*V*1e3),type:ye}).toPromise();if(_e.find(Me=>Me.asset_id===$))throw $.includes("@")?`${$} already has an invite for the selected time`:`${$} is not available at the selected time`;const Ie=G._settings.get(`app.booking.allowed_daily_${ye}_count`)??1;if(Ie>0&&_e.filter(Me=>Me.user_email===(Q||(0,y.ar)()?.email)&&"declined"!==Me.status).length>=Ie){const Me=Q===(0,y.ar)()?.email;throw`${Me?"You":Q} already ${Me?"have":"has"} a ${ye} booked`}return!0})()}loadAssets($){return(0,T.BW_)(this._org.building.id,{name:$}).pipe((0,a.U)(j=>(0,y.xH)(j.map(V=>(V.metadata[$]?.details instanceof Array?V.metadata[$]?.details:[]).map(Q=>({...Q,zone:V.zone}))))))}_getNearbyResources($,j,V,Q){return(0,e.Z)(function*(){const ie=[];let ye=V.filter(G=>G.id!==j&&G.map_id!==j);for(let G=0;G<Q;G++){const _e=yield(0,x.gV)($,j,ye.map(Ie=>Ie.map_id||Ie.id));_e&&(ie.push(V.find(Ie=>Ie.id===_e||Ie.map_id===_e)),ye=ye.filter(Ie=>Ie.id!==_e&&Ie.map_id!==_e))}return ie})()}}B.\u0275fac=function($){return new($||B)(R.LFG(n.F0),R.LFG(y.gb),R.LFG(S.w),R.LFG(w.on),R.LFG(u.c))},B.\u0275prov=R.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})},4367:(Je,K,t)=>{"use strict";t.d(K,{w:()=>f});var e=t(5559),n=t(719),y=t(9497),v=(t(6962),t(6353)),O=t(9818),C=t(5306),E=t(158),i=t(7202);class f{constructor(l,m){this._event=l,this._settings=m,this.outlook_link=(0,y.Y$)(this._event),this.google_link=(0,y.T$)(this._event),this.ical_link=(0,y.KS)(this._event)}}f.\u0275fac=function(l){return new(l||f)(v.Y36(e.eJ),v.Y36(n.g))},f.\u0275cmp=v.Xpm({type:f,selectors:[["booking-link-modal"]],decls:22,vars:12,consts:function(){let _,l,m;return _=$localize`:␟34c16b14ad0e33db574c8bea543e66e766aa3a01␟4015832758698516701:Create in Outlook`,l=$localize`:␟f745484670e6b6bbb8a1c327c222e665fb25b863␟3788591245559456526:Create in Google Calendar`,m=$localize`:␟1af54061e7f4bcfb1048ffaa05c9b8f7c4b41679␟4894641609416495396:Download iCal File`,[[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["button","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"href"],["src","assets/icons/outlook.svg",1,"w-6"],_,["src","assets/icons/gcal.svg",1,"w-6"],l,[1,"text-xl"],m,["mat-icon-button","","mat-dialog-close","",1,"absolute","top-2","right-0"]]},template:function(l,m){1&l&&(v.TgZ(0,"div",0),v._uU(1," Add event to your calendar "),v.qZA(),v.TgZ(2,"div",1)(3,"a",2),v.ALo(4,"sanitize"),v._UZ(5,"img",3),v.TgZ(6,"span"),v.SDv(7,4),v.qZA()(),v.TgZ(8,"a",2),v.ALo(9,"sanitize"),v._UZ(10,"img",5),v.TgZ(11,"span"),v.SDv(12,6),v.qZA()(),v.TgZ(13,"a",2),v.ALo(14,"safe"),v.TgZ(15,"app-icon",7),v._uU(16,"download"),v.qZA(),v.TgZ(17,"span"),v.SDv(18,8),v.qZA()()(),v.TgZ(19,"button",9)(20,"app-icon"),v._uU(21,"close"),v.qZA()()),2&l&&(v.xp6(3),v.Q6J("href",v.xi3(4,3,m.outlook_link,"url"),v.LSH),v.xp6(5),v.Q6J("href",v.xi3(9,6,m.google_link,"url"),v.LSH),v.xp6(5),v.Q6J("href",v.xi3(14,9,m.ical_link,"url"),v.LSH))},dependencies:[O.eB,e.aO,C.o,E.y,i.n],styles:["[_nghost-%COMP%]{position:relative}"]})},6962:(Je,K,t)=>{"use strict";t.d(K,{$:()=>f});var e=t(8368),n=t(9972),y=t(8749),T=t(9756),v=t(3494),O=t(2641),C=t(9358),E=t(1390);const i=["user","booked_by","resources","assets"];class f{constructor(l={}){this.id=l.id||"",this.asset_id=l.asset_id||"",this.asset_name=l.asset_name||l.extension_data?.asset_name||l.extension_data?.name||l.description||"",this.zones=l.zones||[],this.booking_start=l.date/1e3||l.booking_start||(0,n.Z)((0,y.Z)((0,T.Z)(Date.now(),5),{nearestTo:5})),this.booking_end=l.date/1e3+60*l.duration||l.booking_end||(0,n.Z)((0,T.Z)(1e3*this.booking_start,l.duration||60)),this.booking_type=l.booking_type||"",this.type=l.type||l.booking_type||"booking",this.date=l.date||1e3*this.booking_start,this.duration=l.duration||Math.abs((0,v.Z)(1e3*this.booking_start,1e3*this.booking_end)),this.timezone=l.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.user_email=l.user_email||"",this.user_id=l.user_id||"",this.user_name=l.user_name||"",this.title=l.title||this.booking_type?`${(0,e.fm)(this.booking_type)} Booking`:"",this.description=l.description||"",this.checked_in=!!l.checked_in,this.rejected=!!l.rejected,this.approved=!!l.approved,this.deleted=!!l.deleted,this.booked_by_id=l.booked_by_id||"",this.booked_by_name=l.booked_by_name||"",this.booked_by_email=l.booked_by_email||"",this.approver_id=l.approver_id||"",this.approver_email=l.approver_email||"",this.approver_name=l.approver_name||"",this.extension_data=l.extension_data||{},this.access=!!l.extension_data?.access,this.event_id=l.event_id,this.attendees=l.attendees||[],this.all_day=l.all_day??this.duration>720,this.status=this.rejected?"declined":this.approved?"approved":"tentative";for(const m in l)!(m in this)&&!i.includes(m)&&l[m]&&(this.extension_data[m]=l[m]||this.extension_data[m])}toJSON(){const l={...this};return this.id||delete l.id,delete l.date,delete l.duration,(0,e.DD)(l),l}get location(){return this.description}get is_today(){return(0,O.Z)(this.date,new Date)}get is_done(){const l=new Date,m=this.all_day?(0,C.Z)(this.date,24):(0,T.Z)(this.date,this.duration);return(0,E.Z)(l,m)}}},1980:(Je,K,t)=>{"use strict";t.d(K,{PR:()=>C,gV:()=>E,kz:()=>f});var e=t(9671),n=t(4006),y=t(8368),T=t(2662),v=t(1228),O=t(6962);function C(_=new O.$){const l=new n.cw({id:new n.NI(_.id||""),date:new n.NI(_.date,[n.kI.required]),all_day:new n.NI(_.all_day??!1),name:new n.NI(_.extension_data.name||_.asset_name||""),duration:new n.NI(_.duration,[T.W]),booking_type:new n.NI(_.booking_type),zones:new n.NI(_.zones),title:new n.NI(_.title),description:new n.NI(_.description),booking_asset:new n.NI(null),resources:new n.NI([]),company:new n.NI(""),asset_id:new n.NI(_.asset_id,[n.kI.required]),asset_name:new n.NI(_.description),assets:new n.NI(_.extension_data?.assets||[]),attendees:new n.NI(_.attendees||[]),map_id:new n.NI(_.extension_data?.map_id),user:new n.NI((0,y.ar)()),user_id:new n.NI(_.user_id),user_email:new n.NI(_.user_email),booked_by:new n.NI((0,y.ar)()),booked_by_id:new n.NI(_.booked_by_id),booked_by_email:new n.NI(_.booked_by_email),secondary_resource:new n.NI(_.extension_data?.other_asset_type||_.extension_data?.secondary_resource)});return l.valueChanges.subscribe(m=>{const h=m.user,d=m.booked_by;(d||h)&&l.patchValue({user_id:h.id||d.id,user_email:h.email||d.id,booked_by_id:d.id,booked_by_email:d.email},{emitEvent:!1})}),l.controls.all_day.valueChanges.subscribe(m=>{m?l.controls.duration.disable():l.controls.duration.enable()}),l}function E(_,l){return i.apply(this,arguments)}function i(){return(i=(0,e.Z)(function*(_,l,m=[]){const h=document.createElement("div");h.style.position="absolute",h.style.top="-9999px",h.style.width="1000px",h.style.height="1000px",document.body.appendChild(h);const d=yield(0,v.i9)({url:_,element:h}),c=(0,v.gA)(d),a=("string"==typeof l?c.mappings[l]:l)||{x:.5,y:.5};let s=10,r="";for(const o of m){const{x:S,y:I}=c.mappings[o]||{x:2,y:2},x=Math.sqrt((S-a.x)*(S-a.x)+(I-a.y)*(I-a.y));x<s&&(s=x,r=o)}return document.body.removeChild(h),(0,v.hX)(d),r})).apply(this,arguments)}function f(_){return new O.$({id:_.id,user_email:_.host,asset_id:_.system?.id,asset_name:_.system?.display_name||_.system?.name,booking_type:"room",approved:"approved"===_.status,extension_data:{..._}})}},354:(Je,K,t)=>{"use strict";t.d(K,{F2:()=>i,FD:()=>a,FP:()=>c,Fo:()=>f,e0:()=>r,km:()=>m,pv:()=>h});var e=t(4351),n=t(1086),y=t(4850),T=t(7221),v=t(5038),O=t(6962);t(5197);const E="/api/staff/v1/bookings";function i(o){const S=(0,v.U)(o);return(0,e.U2M)(`${E}${S?"?"+S:""}`).pipe((0,y.U)(I=>I.map(x=>new O.$(x))),(0,T.K)(I=>(0,n.of)([])))}function f(o){return(0,e.U2M)(`${E}/${encodeURIComponent(o)}`).pipe((0,y.U)(S=>new O.$(S)))}const m=o=>o.id?function l(o,S,I="patch"){return("patch"===I?e.r$K:e.gzd)(`${E}/${encodeURIComponent(o)}`,S).pipe((0,y.U)(x=>new O.$(x)))}(o.id,o):function _(o){return(0,e.v_Q)(`${E}`,o).pipe((0,y.U)(S=>new O.$(S)))}(o);function h(o){return(0,e.IVX)(`${E}/${encodeURIComponent(o)}`,{response_type:"void"})}function c(o){return(0,e.v_Q)(`${E}/${encodeURIComponent(o)}/reject`,"").pipe((0,y.U)(S=>new O.$(S)))}function a(o,S){const I=(0,v.U)({state:S});return(0,e.v_Q)(`${E}/${encodeURIComponent(o)}/check_in?${I}`,"").pipe((0,y.U)(x=>new O.$(x)))}function r(o,S,I){return i(S).pipe((0,y.U)(x=>o.filter(P=>!x.find(g=>g.asset_id===P&&(!I||I!==g.id)))))}},321:(Je,K,t)=>{"use strict";t.d(K,{A:()=>s});var e=t(6353),n=t(4006),y=t(719),T=t(6485),v=t(5559),O=t(6895),C=t(9818),E=t(74),i=t(5306);const f=function(){return[]},_=function(){return{standalone:!0}};function l(r,o){if(1&r){const S=e.EpF();e.TgZ(0,"mat-checkbox",28),e.NdJ("ngModelChange",function(x){const g=e.CHM(S).$implicit,u=e.oxw(3);return e.KtG(u.setFeature(g,x))}),e._uU(1),e.qZA()}if(2&r){const S=o.$implicit,I=e.oxw(3);e.Q6J("ngModel",(I.selected_features||e.DdM(3,f)).includes(S))("ngModelOptions",e.DdM(4,_)),e.xp6(1),e.hij(" ",S," ")}}function m(r,o){if(1&r&&(e.TgZ(0,"div",24)(1,"label",25),e._uU(2,"Type"),e.qZA(),e.TgZ(3,"div",26),e.YNc(4,l,2,5,"mat-checkbox",27),e.qZA()()),2&r){const S=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",S.features)}}function h(r,o){if(1&r&&e._UZ(0,"img",29),2&r){const S=e.oxw().$implicit;e.Q6J("src",S.images[0],e.LSH)}}function d(r,o){1&r&&e._UZ(0,"img",30)}function c(r,o){if(1&r){const S=e.EpF();e.TgZ(0,"div",7),e.YNc(1,m,5,1,"div",8),e.TgZ(2,"div",9),e.YNc(3,h,1,1,"img",10),e.YNc(4,d,1,0,"ng-template",null,11,e.W1O),e.qZA(),e.TgZ(6,"div",12)(7,"div",13),e._uU(8),e.qZA(),e.TgZ(9,"div",14)(10,"app-icon",15),e._uU(11,"place"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA()(),e.TgZ(14,"div",14)(15,"app-icon",15),e._uU(16,"people"),e.qZA(),e.TgZ(17,"p"),e.SDv(18,16),e.qZA()(),e.TgZ(19,"div",17)(20,"button",18),e.NdJ("click",function(){const P=e.CHM(S).$implicit,g=e.oxw();return e.KtG(g.changeResources(P))}),e.TgZ(21,"div",19),e.tHW(22,20),e._UZ(23,"app-icon"),e.N_p(),e.qZA()(),e.TgZ(24,"button",21),e.NdJ("click",function(){const P=e.CHM(S).$implicit,g=e.oxw();return e.KtG(g.removeResource(P))}),e.TgZ(25,"div",19),e.tHW(26,22),e._UZ(27,"app-icon"),e.N_p(),e.qZA()()()(),e.TgZ(28,"button",23),e.NdJ("click",function(){e.CHM(S);const x=e.oxw();return e.KtG(x.toggleFavourite(x.asset))}),e.TgZ(29,"app-icon"),e._uU(30),e.qZA()()()}if(2&r){const S=o.$implicit,I=e.MAs(5),x=e.oxw();e.xp6(1),e.Q6J("ngIf",null==x.features?null:x.features.length),e.xp6(2),e.Q6J("ngIf",null==S.images?null:S.images.length)("ngIfElse",I),e.xp6(5),e.hij(" ",S.name||"Desk"," "),e.xp6(5),e.Oqu(S.location),e.xp6(5),e.pQV(S.capacity<1?2:S.capacity),e.QtT(18),e.xp6(10),e.ekj("text-blue-400",x.favorites.includes(null==x.asset?null:x.asset.id)),e.xp6(2),e.Oqu(x.favorites.includes(null==x.asset?null:x.asset.id)?"favorite":"favorite_border")}}const a=[];class s{constructor(o,S){this._settings=o,this._dialog=S,this.features=[],this.room_size=3,this.items=[],this.disabled=!1,this.selected_features=[],this.registerOnChange=I=>this._onChange=I,this.registerOnTouched=I=>this._onTouch=I,this.setDisabledState=I=>this.disabled=I}get favorites(){return this._settings.get(T.v)||a}changeResources(){const o=this._dialog.open(T.t,{data:{items:this.items,options:{capacity:this.room_size}}});o.afterClosed().subscribe(S=>{S||(S=o.componentInstance.selected),this.setValue(S)})}removeResource(o){this.setValue(this.items.filter(S=>S.id!==o.id))}setValue(o){this.items=o,this._onChange&&this._onChange(this.items)}writeValue(o){this.items=o||[]}toggleFavourite(o){const S=this.favorites;S.includes(o.id)?this._settings.saveUserSetting(T.v,S.filter(x=>x!==o.id)):this._settings.saveUserSetting(T.v,[...S,o.id])}}s.\u0275fac=function(o){return new(o||s)(e.Y36(y.g),e.Y36(v.on))},s.\u0275cmp=e.Xpm({type:s,selectors:[["desk-list-field"]],inputs:{features:"features"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}])],decls:10,vars:1,consts:function(){let r,o,S,I;return r=$localize`:␟76b072e559d819bff20d8a487e73f64b3afe4f86␟1087109089519255800:Add Desk`,o=$localize`:␟ef596c1811415f22a8da54fbd300591bfec063bf␟6121920531225815371: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,S=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#23\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#23\ufffd"}:CLOSE_TAG_APP_ICON: Change `,I=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#27\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#27\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["list","",1,"space-y-2"],["desk","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200",4,"ngFor","ngForOf"],["mat-button","","add-desk","",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],r,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["desk","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-gray-200"],["class","flex flex-col",4,"ngIf"],[1,"w-24","h-24","rounded-xl","bg-black/20","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","min-h-full object-cover",3,"src",4,"ngIf","ngIfElse"],["placeholder",""],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],o,[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["mat-button","","edit-desk","",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],S,["mat-button","","remove-desk","",1,"clear",3,"click"],I,["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"flex","flex-col"],["for","title"],["features","",1,"flex","items-center","flex-wrap","space-x-2"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"min-h-full","object-cover",3,"src"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"]]},template:function(o,S){1&o&&(e.TgZ(0,"div",0),e.YNc(1,c,31,9,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return S.changeResources()}),e.TgZ(3,"div",3)(4,"app-icon"),e._uU(5,"search"),e.qZA(),e.TgZ(6,"span"),e.SDv(7,4),e.qZA()()(),e.TgZ(8,"div",5),e._UZ(9,"div",6),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",S.items))},dependencies:[O.sg,O.O5,n.JJ,n.On,C.eB,E.FC,i.o]})},4282:(Je,K,t)=>{"use strict";t.d(K,{I:()=>f});var e=t(6353),n=t(4006),T=(t(8368),t(6895)),v=t(4454),O=t(9818),C=t(5559);function E(_,l){if(1&_){const m=e.EpF();e.TgZ(0,"div",2)(1,"h2",3),e.SDv(2,4),e.qZA(),e.TgZ(3,"main",5)(4,"div",6)(5,"label"),e.tHW(6,7),e._UZ(7,"span"),e.N_p(),e.qZA(),e.TgZ(8,"mat-radio-group",8)(9,"mat-radio-button",9),e._uU(10,"Yes"),e.qZA(),e.TgZ(11,"mat-radio-button",9),e._uU(12,"No"),e.qZA()()(),e.TgZ(13,"div",6)(14,"label"),e.tHW(15,10),e._UZ(16,"span"),e.N_p(),e.qZA(),e.TgZ(17,"mat-radio-group",11)(18,"mat-radio-button",9),e._uU(19,"Yes"),e.qZA(),e.TgZ(20,"mat-radio-button",9),e._uU(21,"No"),e.qZA()()(),e.TgZ(22,"div",12)(23,"label"),e.tHW(24,13),e._UZ(25,"span"),e.N_p(),e.qZA(),e.TgZ(26,"mat-radio-group",14)(27,"mat-radio-button",9),e._uU(28,"Yes"),e.qZA(),e.TgZ(29,"mat-radio-button",9),e._uU(30,"No"),e.qZA()()()(),e.TgZ(31,"footer",15)(32,"button",16),e.NdJ("click",function(){e.CHM(m);const d=e.oxw();return e.KtG(d.submit())}),e.SDv(33,17),e.qZA()(),e.TgZ(34,"button",18)(35,"i",19),e._uU(36,"close"),e.qZA()()()}if(2&_){const m=e.oxw();e.xp6(3),e.Q6J("formGroup",m.form),e.xp6(6),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(7),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(7),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1)}}function i(_,l){1&_&&(e.TgZ(0,"main",20)(1,"p",21),e.SDv(2,22),e.qZA(),e.TgZ(3,"button",18)(4,"i",19),e._uU(5,"close"),e.qZA()()())}class f{constructor(){this.event=new e.vpe,this.form=new n.cw({travelled:new n.NI(!1),unwell:new n.NI(!1),contact:new n.NI(!1)})}submit(){this.form.markAllAsTouched(),Object.keys(this.form.value).find(l=>!0===this.form.value[l]||"true"===this.form.value[l])?this.failure=!0:this.event.emit({reason:"done"})}}f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["desk-question-modal"]],outputs:{event:"event"},decls:3,vars:2,consts:function(){let _,l,m,h,d,c;return _=$localize`:␟02006a13b8e6aacb7a6e15bafd8004ed529f5d81␟877348132538805077:COVID-19 Questionnaire`,l=$localize`:␟dad7efbd2320e5ea935aef911f18cbcb24690133␟1650520403092579087: Have you travelled overseas within the last 14 days?${"\ufffd#7\ufffd"}:START_TAG_SPAN:*${"\ufffd/#7\ufffd"}:CLOSE_TAG_SPAN:`,m=$localize`:␟cf50bf8de6c6db836da440c89a375631f7ba3fb0␟1182497320820036810: Are you unwell or experiencing any cold or flu-like symptoms?${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,h=$localize`:␟273153c91358de15d124ff2966859d9949080f4c␟737527639567676154: Have you had contact with anyone with suspected COVID-19?${"\ufffd#25\ufffd"}:START_TAG_SPAN:*${"\ufffd/#25\ufffd"}:CLOSE_TAG_SPAN:`,d=$localize`:␟71c77bb8cecdf11ec3eead24dd1ba506573fa9cd␟935187492052582731:Submit`,c=$localize`:␟17d62f424c2c025579e1ec0e3f5ad971f57681df␟4401678084033805848: Your request to work from the office has been rejected based on your response to the compulsory Covid-19 questions. Please feel free to submit a new request when circumstances change in a way that changes your answer to the questions. `,[["class","relative",4,"ngIf","ngIfElse"],["fail_state",""],[1,"relative"],[1,"p-4","text-xl"],_,[1,"p-4",3,"formGroup"],[1,"flex","flex-col","mb-4"],l,["formControlName","travelled",1,"space-x-2"],[3,"value"],m,["formControlName","unwell",1,"space-x-2"],[1,"flex","flex-col"],h,["formControlName","contact",1,"space-x-2"],[1,"flex","justify-center","items-center","p-2"],["mat-button","",3,"click"],d,["close","","mat-icon-button","","mat-dialog-close",""],[1,"material-icons"],["failure","",1,"pt-8","relative"],[1,"p-4"],c]},template:function(l,m){if(1&l&&(e.YNc(0,E,37,7,"div",0),e.YNc(1,i,6,0,"ng-template",null,1,e.W1O)),2&l){const h=e.MAs(2);e.Q6J("ngIf",!m.failure)("ngIfElse",h)}},dependencies:[T.O5,n.JJ,n.JL,n.sg,n.u,v.OY,v.vy,O.eB,C.aO],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}[close][_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}"]})},5417:(Je,K,t)=>{"use strict";t.d(K,{v:()=>d});var e=t(6353),n=t(4702),y=t(6895),T=t(9818),v=t(5306),O=t(9136),C=t(2581);function E(c,a){if(1&c&&e._UZ(0,"image-carousel",21),2&c){const s=e.oxw(2);e.Q6J("images",s.desk.images)}}function i(c,a){if(1&c&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2),e.qZA()()),2&c){const s=a.$implicit;e.xp6(2),e.Oqu(s)}}const f=function(){return[]};function _(c,a){if(1&c&&(e.TgZ(0,"section",22)(1,"h2",10),e.SDv(2,23),e.qZA(),e.YNc(3,i,3,1,"div",24),e.qZA()),2&c){const s=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",s.desk.features||e.DdM(1,f))}}const l=function(){return{disable_pan:!0,disable_zoom:!0}};function m(c,a){if(1&c){const s=e.EpF();e.ynx(0),e.TgZ(1,"section",2),e.YNc(2,E,1,1,"image-carousel",3),e.TgZ(3,"button",4),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.close.emit())}),e.TgZ(4,"app-icon"),e._uU(5,"arrow_back"),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.toggleFav.emit())}),e.TgZ(7,"app-icon"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",6)(10,"section",7)(11,"h2",8),e._uU(12),e.qZA()(),e.TgZ(13,"section",9)(14,"h2",10),e._uU(15,"Details"),e.qZA(),e.TgZ(16,"div",11)(17,"app-icon"),e._uU(18,"person"),e.qZA(),e.TgZ(19,"p"),e.SDv(20,12),e.qZA()(),e.TgZ(21,"div",11)(22,"app-icon"),e._uU(23,"desk"),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA()(),e.TgZ(26,"div",11)(27,"app-icon"),e._uU(28,"place"),e.qZA(),e.TgZ(29,"p"),e._uU(30),e.qZA()()(),e.YNc(31,_,4,2,"section",13),e.TgZ(32,"section",14),e._UZ(33,"interactive-map",15),e.qZA()(),e.TgZ(34,"div",16)(35,"button",17),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return o.active=!o.active,e.KtG(o.activeChange.emit(o.active))}),e.TgZ(36,"div",18)(37,"app-icon",19),e._uU(38),e.qZA(),e.TgZ(39,"p"),e.SDv(40,20),e.qZA()()()(),e.BQk()}if(2&c){const s=e.oxw();e.xp6(1),e.ekj("sm:h-40",null==s.desk.images?null:s.desk.images.length)("h-64",null==s.desk.images?null:s.desk.images.length)("sm:h-0",!(null!=s.desk.images&&s.desk.images.length))("h-12",!(null!=s.desk.images&&s.desk.images.length))("!bg-transparent",!(null!=s.desk.images&&s.desk.images.length)),e.xp6(1),e.Q6J("ngIf",null==s.desk.images?null:s.desk.images.length),e.xp6(4),e.ekj("text-white",!s.fav)("text-blue-400",s.fav),e.xp6(2),e.Oqu(s.fav?"favorite":"favorite_border"),e.xp6(4),e.hij(" ",s.desk.display_name||s.desk.name||s.desk.id," "),e.xp6(13),e.hij(" ",s.desk.display_name||s.desk.name||s.desk.id," "),e.xp6(5),e.Oqu((null==s.desk.zone?null:s.desk.zone.display_name)||(null==s.desk.zone?null:s.desk.zone.name)),e.xp6(1),e.Q6J("ngIf",null==s.desk.features?null:s.desk.features.length),e.xp6(2),e.Q6J("src",s.map_url)("features",s.features)("options",e.DdM(27,l)),e.xp6(2),e.ekj("inverse",s.active),e.xp6(3),e.Oqu(s.active?"remove":"add"),e.xp6(2),e.pQV(s.active),e.QtT(40)}}function h(c,a){1&c&&(e.TgZ(0,"div",27)(1,"p",28),e.SDv(2,29),e.qZA()())}class d{constructor(){this.fav=!1,this.active=!1,this.close=new e.vpe,this.toggleFav=new e.vpe,this.activeChange=new e.vpe,this.map_url="",this.features=[]}ngOnChanges(a){a.desk&&this.desk&&this.updateFeature()}updateFeature(){this.map_url=this.desk.zone.map_id,this.features=[{location:this.desk.map_id||this.desk.id,content:n.q}]}}d.\u0275fac=function(a){return new(a||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["desk-details"]],inputs:{desk:"desk",fav:"fav",active:"active"},outputs:{close:"close",toggleFav:"toggleFav",activeChange:"activeChange"},features:[e.TTD],decls:3,vars:2,consts:function(){let c,a,s,r,o;return c=$localize`:␟f3cd229363e020d7ceb13bb351bb87f86dda78ef␟6431414344811875961:Single desk`,a=$localize`:␟193cbdbbcae6ad83fa2f2ac8d7dcb6b41c384a89␟2952235329246771628:{VAR_SELECT, select, true {Remove from booking } false {Add to booking }}`,a=e.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),s=$localize`:␟fc6b8194e480db3111367487d3a97bdf5a6333a7␟5607930927273386767: ${a}:ICU: `,r=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,o=$localize`:␟c6efe811f5410838382ce9adb2636cb75d783ebc␟4621791550614740403: Select a desk to view it's details `,[[4,"ngIf","ngIfElse"],["emptyState",""],["image","",1,"relative","w-full","bg-black/20"],["class","absolute inset-0",3,"images",4,"ngIf"],["mat-icon-button","","close","",1,"absolute","top-2","left-2","bg-black/40","sm:hidden","text-white",3,"click"],["mat-icon-button","","fav","",1,"absolute","top-2","right-2","bg-black/40",3,"click"],[1,"p-2","space-y-2","flex-1","h-[calc(100%-19.75rem)]","overflow-auto"],["actions","",1,"z-0","pb-2","border-b"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2","pb-2","border-b","dark:border-neutral-500"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],c,["facilities","","class","space-y-2 pb-2 border-b dark:border-neutral-500",4,"ngIf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-gray-200","dark:border-neutral-500","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","features","options"],[1,"p-2","border-t","border-gray-200","dark:border-neutral-500","shadow","sm:hidden"],["mat-button","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],s,[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2","pb-2","border-b","dark:border-neutral-500"],r,["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],o]},template:function(a,s){if(1&a&&(e.YNc(0,m,41,28,"ng-container",0),e.YNc(1,h,3,0,"ng-template",null,1,e.W1O)),2&a){const r=e.MAs(2);e.Q6J("ngIf",s.desk)("ngIfElse",r)}},dependencies:[y.sg,y.O5,T.eB,v.o,O.p,C.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh;background:white}"]})},2075:(Je,K,t)=>{"use strict";t.d(K,{x:()=>l});var e=t(6353),n=t(8368),y=t(8297),T=t(2084),v=t(8242),O=t(6895),C=t(9818),E=t(5306);function i(m,h){if(1&m){const d=e.EpF();e.TgZ(0,"div",13)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",14),e.NdJ("click",function(){const s=e.CHM(d).$implicit,r=e.oxw();return e.KtG(r.setFeature(s,!1))}),e.TgZ(4,"app-icon"),e._uU(5,"close"),e.qZA()()()}if(2&m){const d=h.$implicit;e.xp6(2),e.Oqu(d)}}function f(m,h){if(1&m){const d=e.EpF();e.TgZ(0,"div",15)(1,"span"),e.SDv(2,16),e.qZA(),e.TgZ(3,"button",14),e.NdJ("click",function(){e.CHM(d);const a=e.oxw();return e.KtG(a.setOptions({show_fav:!1}))}),e.TgZ(4,"app-icon"),e._uU(5,"close"),e.qZA()()()}}const _=function(){return[]};class l extends n.KG{constructor(h,d){super(),this._bsheet=h,this._state=d,this.view="list",this.viewChange=new e.vpe,this.options=this._state.options,this.setOptions=c=>this._state.setOptions(c),this.setFeature=(c,a)=>this._state.setFeature(c,a),this.editFilter=()=>this._bsheet.open(y.o)}get start(){return this._state.form.value.date}get end(){const{date:h,duration:d}=this._state.form.value;return h+60*d*1e3}}l.\u0275fac=function(h){return new(h||l)(e.Y36(v.ch),e.Y36(T.f))},l.\u0275cmp=e.Xpm({type:l,selectors:[["desk-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[e.qOj],decls:20,vars:23,consts:function(){let m,h,d,c;return m=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,h=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,d=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,c=$localize`:␟d6ad8326be48837fe776a268abc758d1c7ba4f05␟1305804744685886428:Favourites Only`,[["actions","",1,"sm:hidden","space-x-2","flex","flex-row","items-center","p-2"],["mat-button","","filters","",1,"flex-1","w-1/2",3,"click"],m,[1,"flex","items-center"],["mat-button","","map","",1,"rounded-l","rounded-r-none",3,"click"],h,["mat-button","","list","",1,"rounded-r","rounded-l-none",3,"click"],d,["filters","",1,"flex","items-center","flex-wrap","p-2"],["filter-item","","date",""],["filter-item","","time",""],["filter-item","","features","",4,"ngFor","ngForOf"],["filter-item","",4,"ngIf"],["filter-item","","features",""],["mat-icon-button","",1,"-mr-4",3,"click"],["filter-item",""],c]},template:function(h,d){if(1&h&&(e.TgZ(0,"section",0)(1,"button",1),e.NdJ("click",function(){return d.editFilter()}),e.SDv(2,2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return d.view="map",d.viewChange.emit(d.view)}),e.SDv(5,5),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return d.view="list",d.viewChange.emit(d.view)}),e.SDv(7,7),e.qZA()()(),e.TgZ(8,"section",8)(9,"div",9),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"div",10),e._uU(13),e.ALo(14,"date"),e.ALo(15,"date"),e.qZA(),e.YNc(16,i,6,1,"div",11),e.ALo(17,"async"),e.YNc(18,f,6,0,"div",12),e.ALo(19,"async"),e.qZA()),2&h){let c,a;e.xp6(4),e.ekj("inverse","map"!==d.view),e.xp6(2),e.ekj("inverse","list"!==d.view),e.xp6(4),e.Oqu(e.xi3(11,9,d.start,"mediumDate")),e.xp6(3),e.AsE(" ",e.xi3(14,12,d.start,"shortTime")," \u2014 ",e.xi3(15,15,d.end,"shortTime")," "),e.xp6(3),e.Q6J("ngForOf",(null==(c=e.lcZ(17,18,d.options))?null:c.features)||e.DdM(22,_)),e.xp6(2),e.Q6J("ngIf",null==(a=e.lcZ(19,20,d.options))?null:a.show_fav)}},dependencies:[O.sg,O.O5,C.eB,E.o,O.Ov,O.uU],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.1)}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})},8297:(Je,K,t)=>{"use strict";t.d(K,{o:()=>F});var e=t(8368),n=t(2722),y=t(5650),T=t(565),v=t(2084),O=t(6353),C=t(8242),E=t(6895),i=t(4006),f=t(8455),_=t(9818),l=t(74),m=t(4363),h=t(2329),d=t(1022),c=t(7303),a=t(5306),s=t(6289);function r(B,H){if(1&B){const $=O.EpF();O.TgZ(0,"button",30),O.NdJ("click",function(){O.CHM($);const V=O.oxw();return O.KtG(V.close())}),O.TgZ(1,"app-icon"),O._uU(2,"keyboard_arrow_left"),O.qZA()()}}function o(B,H){if(1&B&&(O.TgZ(0,"mat-option",36),O._uU(1),O.qZA()),2&B){const $=H.$implicit;O.Q6J("value",$),O.xp6(1),O.hij(" ",$.display_name||$.name," ")}}const S=function(){return{standalone:!0}};function I(B,H){if(1&B){const $=O.EpF();O.TgZ(0,"div",31)(1,"label"),O.SDv(2,32),O.qZA(),O.TgZ(3,"mat-form-field",33)(4,"mat-select",34),O.NdJ("ngModelChange",function(V){O.CHM($);const Q=O.oxw();return O.KtG(Q.building=V)})("ngModelChange",function(V){O.CHM($);const Q=O.oxw();return O.KtG(Q.setOptions({zone_id:null==V?null:V.id}))}),O.YNc(5,o,2,2,"mat-option",35),O.ALo(6,"async"),O.qZA()()()}if(2&B){const $=O.oxw();O.xp6(4),O.Q6J("ngModel",$.building)("ngModelOptions",O.DdM(5,S)),O.xp6(1),O.Q6J("ngForOf",O.lcZ(6,3,$.buildings))}}function x(B,H){if(1&B&&(O.TgZ(0,"mat-option",36),O._uU(1),O.qZA()),2&B){const $=H.$implicit;O.Q6J("value",$.id),O.xp6(1),O.hij(" ",$.display_name||$.name," ")}}function P(B,H){if(1&B){const $=O.EpF();O.TgZ(0,"div",31)(1,"label"),O._uU(2,"Level"),O.qZA(),O.TgZ(3,"mat-form-field",37)(4,"mat-select",38),O.NdJ("ngModelChange",function(V){O.CHM($);const Q=O.oxw();return O.KtG(Q.setOptions({zone_id:V||Q.building.id}))}),O.YNc(5,x,2,2,"mat-option",35),O.ALo(6,"async"),O.qZA()()()}if(2&B){const $=O.oxw();O.xp6(4),O.Q6J("disabled",!$.building)("ngModelOptions",O.DdM(5,S)),O.xp6(1),O.Q6J("ngForOf",O.lcZ(6,3,$.levels))}}function g(B,H){1&B&&(O.TgZ(0,"div",39)(1,"mat-checkbox",40),O.SDv(2,41),O.qZA()())}const u=function(){return[]};function M(B,H){if(1&B){const $=O.EpF();O.TgZ(0,"div",45)(1,"div",46),O._uU(2),O.qZA(),O.TgZ(3,"mat-checkbox",47),O.NdJ("ngModelChange",function(V){const ie=O.CHM($).$implicit,ye=O.oxw(2);return O.KtG(ye.setFeature(ie,V))}),O.ALo(4,"async"),O.qZA()()}if(2&B){const $=H.$implicit,j=O.oxw(2);let V;O.xp6(2),O.Oqu($),O.xp6(1),O.Q6J("ngModel",((null==(V=O.lcZ(4,3,j.options))?null:V.features)||O.DdM(5,u)).includes($))("ngModelOptions",O.DdM(6,S))}}function R(B,H){if(1&B&&(O.TgZ(0,"section",42)(1,"h2",8),O.SDv(2,43),O.qZA(),O.YNc(3,M,5,7,"div",44),O.ALo(4,"async"),O.qZA()),2&B){const $=O.oxw();O.xp6(3),O.Q6J("ngForOf",O.lcZ(4,1,$.features))}}function w(B,H){if(1&B){const $=O.EpF();O.TgZ(0,"div",48)(1,"button",49),O.NdJ("click",function(){O.CHM($);const V=O.oxw();return O.KtG(V.close())}),O.SDv(2,50),O.qZA()()}}class F{constructor(H,$,j,V){this._bsheet_ref=H,this._state=$,this._org=j,this._settings=V,this.can_close=!1,this.options=this._state.options,this.features=this._state.features,this.buildings=this._org.active_buildings,this.levels=this._org.active_levels,this.form=this._state.form,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Q=>this._state.setOptions(Q),this.setFeature=(Q,ie)=>this._state.setFeature(Q,ie),this.setLevel=Q=>{},this.can_close=!!this._bsheet_ref}get building(){return this._org.building}set building(H){this._org.building=H}get allow_time_changes(){return!!this._settings.get("app.desks.allow_time_changes")}get allow_all_day(){return this.allow_time_changes&&!!this._settings.get("app.desks.allow_all_day")}get book_until(){return(0,n.Z)((0,y.Z)(Date.now(),this._settings.get("app.desks.available_period")||90))}}F.\u0275fac=function(H){return new(H||F)(O.Y36(C.oL,8),O.Y36(v.f),O.Y36(T.w),O.Y36(e.gb))},F.\u0275cmp=O.Xpm({type:F,selectors:[["desk-filters"]],decls:40,vars:27,consts:function(){let B,H,$,j,V,Q,ie,ye,G,_e,Ie,Me;return B=$localize`:␟a42190bd19b1cc93828e70bd0ef7a119f4c22aca␟7734428352389083660:Desk Filters`,H=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,$=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,j=$localize`:␟e06c2195d60fdee7b259bd3ff16eb3d594c42b2b␟608708688936992021: Date and time must be in the future `,V=$localize`:␟7c0a71d337783e527c1c8e91e433b301c5b1d8a8␟4204880191779081093:Start Time`,Q=$localize`:␟e1f10d9bf4d3c37490cd5bf82007444ae7af46b1␟3845185958891849368:End Time`,ie=$localize`:␟62ab0c2bf8d16ce7baf2c8b1da2c561d99522256␟4158925728608139729:Favourites`,ye=$localize`:␟2328718fd68d07fd6a09afab5f6b849a2491c272␟4440618015486078043: Only show favourite desks `,G=$localize`:␟6e8be3c170a661414dbcf0e4be5ce2ba65f62615␟5782981899482871069:Building`,_e=$localize`:␟d7f43e20f3a729fa3de32bc7a1f709ccd722eae5␟835486935962207481: All Day `,Ie=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,Me=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[[1,"flex","rounded-t-md","items-center","border-b","border-gray-200","dark:border-neutral-500","pb-2","sm:p-4"],[1,"flex-1","pl-2"],["mat-icon-button","","close","","class","sm:hidden",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],B,[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-gray-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],H,["class","flex-1 min-w-[256px] flex flex-col",4,"ngIf"],[1,"flex-1","min-w-[256px]"],$,["formControlName","date",3,"to"],j,[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],V,["name","start-time",3,"ngModel","ngModelOptions","ngModelChange"],Q,["formControlName","duration",3,"time","max","min","step","disabled"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],ie,[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],ye,["name","fav",3,"ngModel","ngModelOptions","ngModelChange"],["class","space-y-2","features","",4,"ngIf"],["class","px-2 py-2 w-full border-t border-gray-200",4,"ngIf"],["mat-icon-button","","close","",1,"sm:hidden",3,"click"],[1,"flex-1","min-w-[256px]","flex","flex-col"],G,["appearance","outline",1,"w-full"],["name","building","placeholder","Select building",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","outline"],["placeholder","Any Level","ngModel","",3,"disabled","ngModelOptions","ngModelChange"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],_e,["features","",1,"space-y-2"],Ie,["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"px-2","py-2","w-full","border-t","border-gray-200"],["mat-button","","close","",1,"w-full",3,"click"],Me]},template:function(H,$){if(1&H&&(O.TgZ(0,"div",0)(1,"div",1),O.YNc(2,r,3,0,"button",2),O.qZA(),O.TgZ(3,"h3",3),O.SDv(4,4),O.qZA(),O._UZ(5,"div",5),O.qZA(),O.TgZ(6,"form",6)(7,"section",7)(8,"h2",8),O.SDv(9,9),O.qZA(),O.YNc(10,I,7,6,"div",10),O.ALo(11,"async"),O.YNc(12,P,7,6,"div",10),O.ALo(13,"async"),O.TgZ(14,"div",11)(15,"label"),O.SDv(16,12),O.qZA(),O.TgZ(17,"a-date-field",13),O.SDv(18,14),O.qZA()(),O.TgZ(19,"div",15)(20,"div",16)(21,"label"),O.SDv(22,17),O.qZA(),O.TgZ(23,"a-time-field",18),O.NdJ("ngModelChange",function(V){return $.form.patchValue({date:V})}),O.qZA()(),O.TgZ(24,"div",16)(25,"label"),O.SDv(26,19),O.qZA(),O._UZ(27,"a-duration-field",20),O.qZA()(),O.YNc(28,g,3,0,"div",21),O.qZA(),O.TgZ(29,"section",22)(30,"h2",8),O.SDv(31,23),O.qZA(),O.TgZ(32,"div",24)(33,"div",25),O.SDv(34,26),O.qZA(),O.TgZ(35,"mat-checkbox",27),O.NdJ("ngModelChange",function(V){return $.setOptions({show_fav:V})}),O.ALo(36,"async"),O.qZA()()(),O.YNc(37,R,5,3,"section",28),O.ALo(38,"async"),O.qZA(),O.YNc(39,w,3,0,"div",29)),2&H){let j,V,Q,ie,ye;O.xp6(2),O.Q6J("ngIf",$.can_close),O.xp6(4),O.Q6J("formGroup",$.form),O.xp6(4),O.Q6J("ngIf",null==(j=O.lcZ(11,17,$.buildings))?null:j.length),O.xp6(2),O.Q6J("ngIf",(null==(V=O.lcZ(13,19,$.levels))?null:V.length)>1),O.xp6(5),O.Q6J("to",$.book_until),O.xp6(6),O.Q6J("ngModel",$.form.value.date)("ngModelOptions",O.DdM(25,S)),O.xp6(4),O.Q6J("time",null==(Q=$.form.get("date"))?null:Q.value)("max",720)("min",60)("step",60)("disabled",$.form.value.all_day),O.xp6(1),O.Q6J("ngIf",$.allow_all_day),O.xp6(7),O.Q6J("ngModel",null==(ie=O.lcZ(36,21,$.options))?null:ie.show_fav)("ngModelOptions",O.DdM(26,S)),O.xp6(2),O.Q6J("ngIf",null==(ye=O.lcZ(38,23,$.features))?null:ye.length),O.xp6(2),O.Q6J("ngIf",$.can_close)}},dependencies:[E.sg,E.O5,i._Y,i.JJ,i.JL,i.On,i.sg,i.u,f.v_,_.eB,l.FC,m.CK,h.Q,d.B,c.N,a.o,s.x8,E.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})},9921:(Je,K,t)=>{"use strict";t.d(K,{D:()=>a});var e=t(6353),n=t(3426),y=t(4850),T=t(2084),v=t(6895),O=t(9818),C=t(1343),E=t(5306);function i(s,r){1&s&&(e.TgZ(0,"div",22)(1,"app-icon"),e._uU(2,"done"),e.qZA()())}function f(s,r){if(1&s&&e._UZ(0,"img",23),2&s){const o=e.oxw().$implicit;e.Q6J("src",o.images[0],e.LSH)}}function _(s,r){1&s&&e._UZ(0,"img",24)}function l(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"li",10)(1,"button",11),e.NdJ("click",function(){const x=e.CHM(o).$implicit,P=e.oxw(3);return e.KtG(P.selectDesk(x))}),e.TgZ(2,"div",12),e.YNc(3,i,3,0,"div",13),e.YNc(4,f,1,1,"img",14),e.YNc(5,_,1,0,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(7,"div",16)(8,"span",17),e._uU(9),e.qZA(),e.TgZ(10,"div",18)(11,"app-icon",19),e._uU(12,"place"),e.qZA(),e.TgZ(13,"p",20),e._uU(14),e.qZA()()()(),e.TgZ(15,"button",21),e.NdJ("click",function(){const x=e.CHM(o).$implicit,P=e.oxw(3);return e.KtG(P.toggleFav.emit(x))}),e.TgZ(16,"app-icon"),e._uU(17),e.qZA()()()}if(2&s){const o=r.$implicit,S=e.MAs(6),I=e.oxw(3);e.xp6(3),e.Q6J("ngIf",I.selected.includes(o.id)),e.xp6(1),e.Q6J("ngIf",null==o.images?null:o.images.length)("ngIfElse",S),e.xp6(5),e.hij(" ",o.name||o.id||"Desk"," "),e.xp6(5),e.hij(" ",(null==o.zone?null:o.zone.display_name)||(null==o.zone?null:o.zone.name)||"<No Level>"," "),e.xp6(1),e.ekj("text-blue-400",I.isFavourite(o.id)),e.xp6(2),e.Oqu(I.isFavourite(o.id)?"favorite":"favorite_border")}}function m(s,r){if(1&s&&(e.TgZ(0,"ul",8),e.YNc(1,l,18,8,"li",9),e.ALo(2,"async"),e.qZA()),2&s){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.desks))}}function h(s,r){if(1&s&&(e.ynx(0),e.YNc(1,m,3,3,"ul",7),e.ALo(2,"async"),e.BQk()),2&s){const o=e.oxw(),S=e.MAs(10);let I;e.xp6(1),e.Q6J("ngIf",null==(I=e.lcZ(2,2,o.desks))?null:I.length)("ngIfElse",S)}}function d(s,r){1&s&&(e.TgZ(0,"div",25),e._UZ(1,"mat-spinner",26),e.TgZ(2,"p",27),e._uU(3,"Finding available desks..."),e.qZA()()),2&s&&(e.xp6(1),e.Q6J("diameter",32))}function c(s,r){1&s&&(e.TgZ(0,"div",28)(1,"p",29),e._uU(2," No available desk for selected time and/or filters "),e.qZA()())}class a{constructor(r){this._state=r,this.selected="",this.favorites=[],this.onSelect=new e.vpe,this.toggleFav=new e.vpe,this.desks=(0,n.aj)([this._state.options,this._state.available_assets]).pipe((0,y.U)(([{show_fav:o},S])=>S.filter(I=>!o||this.isFavourite(I.id)))),this.loading=this._state.loading}isFavourite(r){return this.favorites.includes(r)}selectDesk(r){this.onSelect.emit(r)}}a.\u0275fac=function(r){return new(r||a)(e.Y36(T.f))},a.\u0275cmp=e.Xpm({type:a,selectors:[["desk-list"]],inputs:{selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:function(){let s,r;return s=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,r=$localize`:␟99a2ae2a83b9fba5f9d4547746782447904ccf7b␟1931205204318295377: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,[[1,"font-bold"],s,["count","",1,"text-sm","opacity-60","mb-4"],r,[4,"ngIf","ngIfElse"],["load_state",""],["empty_state",""],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["desk","","class","relative rounded-lg w-full shadow border bg-white dark:bg-neutral-600 border-gray-200 dark:border-neutral-500 overflow-hidden",4,"ngFor","ngForOf"],["desk","",1,"relative","rounded-lg","w-full","shadow","border","bg-white","dark:bg-neutral-600","border-gray-200","dark:border-neutral-500","overflow-hidden"],["select","","matRipple","",1,"w-full","h-full","flex","p-2",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-black/20","mr-4","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["class","object-cover h-full",3,"src",4,"ngIf","ngIfElse"],["placeholder",""],[1,"space-y-2","pt-2","flex-1","text-left"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"text-xs"],["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-white","bg-black/50","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],[1,"object-cover","h-full",3,"src"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(r,o){if(1&r&&(e.TgZ(0,"h3",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"p",2),e.SDv(3,3),e.ALo(4,"async"),e.qZA(),e.YNc(5,h,3,4,"ng-container",4),e.ALo(6,"async"),e.YNc(7,d,4,1,"ng-template",null,5,e.W1O),e.YNc(9,c,3,0,"ng-template",null,6,e.W1O)),2&r){const S=e.MAs(8);let I,x;e.xp6(4),e.pQV((null==(I=e.lcZ(4,3,o.desks))?null:I.length)||0),e.QtT(3),e.xp6(1),e.Q6J("ngIf",!(null!=(x=e.lcZ(6,5,o.loading))&&x.length))("ngIfElse",S)}},dependencies:[v.sg,v.O5,O.eB,C.sN,E.o,v.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;background:rgba(0,0,0,.05);overflow-y:auto}"]})},718:(Je,K,t)=>{"use strict";t.d(K,{p:()=>c});var e=t(6353),n=t(8368),y=t(4850),T=t(2084),v=t(6895),O=t(4006),C=t(8455),E=t(9818),i=t(4363),f=t(5306),_=t(9136),l=t(6289);function m(a,s){if(1&a){const r=e.EpF();e.TgZ(0,"i-map",10),e.NdJ("zoomChange",function(S){e.CHM(r);const I=e.oxw();return e.KtG(I.zoom=S)})("centerChange",function(S){e.CHM(r);const I=e.oxw();return e.KtG(I.center=S)}),e.ALo(1,"async"),e.ALo(2,"async"),e.qZA()}if(2&a){const r=e.oxw();e.Q6J("src",r.map_url)("zoom",r.zoom)("center",r.center)("features",e.lcZ(1,5,r.features))("actions",e.lcZ(2,7,r.actions))}}function h(a,s){if(1&a&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&a){const r=s.$implicit;e.Q6J("value",r),e.xp6(1),e.hij(" ",r.display_name||r.name," ")}}const d=function(){return{standalone:!0}};class c extends n.KG{constructor(s){super(),this._state=s,this.is_displayed=!1,this.onSelect=new e.vpe,this.desks=this._state.available_assets,this.loading=this._state.loading,this.zoom=1,this.center={x:.5,y:.5},this.setOptions=r=>this._state.setOptions(r),this.levels=this._state.available_assets.pipe((0,y.U)(r=>(0,n.Tw)(r.map(o=>o.zone),"id"))),this.actions=this._state.available_assets.pipe((0,y.U)(r=>r.map(o=>({id:o.map_id||o.id,action:["touchend","mouseup"],callback:()=>this.selectDesk(o)})))),this.features=this._state.available_assets.pipe((0,y.U)(r=>r.map(o=>({location:o.map_id||o.id,content:'<span class="flex h-4 w-4 rounded-full absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 border-[3px] shadow" >\n                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-800 opacity-75"></span>\n                            <span class="relative inline-flex rounded-full h-full w-full bg-green-800"></span>\n                        </span>'}))))}get map_url(){return this.level?.map_id||""}ngOnInit(){this.subscription("levels_update",this.levels.subscribe(s=>{s.find(r=>r.id===this.level?.id)||(this.level=s[0])}))}selectDesk(s){this.onSelect.emit(s)}setZoom(s){this.zoom=Math.max(.5,Math.min(10,s))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}}c.\u0275fac=function(s){return new(s||c)(e.Y36(T.f))},c.\u0275cmp=e.Xpm({type:c,selectors:[["desk-map"]],inputs:{is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[e.qOj],decls:18,vars:7,consts:[[3,"src","zoom","center","features","actions","zoomChange","centerChange",4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-white","p-2","border-b","border-gray-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["zoom","",1,"absolute","bottom-2","right-2","rounded-lg","border","border-gray-200","bg-white","flex","flex-col","overflow-hidden"],["zoom-in","","mat-icon-button","",3,"click"],[1,"border-t","border-gray-200","w-full"],["zoom-out","","mat-icon-button","",3,"click"],["reset","","mat-icon-button","",3,"click"],[3,"src","zoom","center","features","actions","zoomChange","centerChange"],[3,"value"]],template:function(s,r){1&s&&(e.YNc(0,m,3,9,"i-map",0),e.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),e.NdJ("ngModelChange",function(S){return r.level=S}),e.YNc(4,h,2,2,"mat-option",4),e.ALo(5,"async"),e.qZA()()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return r.setZoom(1.1*r.zoom)}),e.TgZ(8,"app-icon"),e._uU(9,"zoom_in"),e.qZA()(),e._UZ(10,"div",7),e.TgZ(11,"button",8),e.NdJ("click",function(){return r.setZoom(r.zoom*(1/1.1))}),e.TgZ(12,"app-icon"),e._uU(13,"zoom_out"),e.qZA()(),e._UZ(14,"div",7),e.TgZ(15,"button",9),e.NdJ("click",function(){return r.resetMap()}),e.TgZ(16,"app-icon"),e._uU(17,"refresh"),e.qZA()()()),2&s&&(e.Q6J("ngIf",!r.is_displayed),e.xp6(3),e.Q6J("ngModel",r.level)("ngModelOptions",e.DdM(6,d)),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,4,r.levels)))},dependencies:[v.sg,v.O5,O.JJ,O.On,C.v_,E.eB,i.CK,f.o,_.p,l.x8,v.Ov],styles:["[_nghost-%COMP%]{position:relative;background:rgba(0,0,0,.05);padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})},6485:(Je,K,t)=>{"use strict";t.d(K,{t:()=>a,v:()=>c});var e=t(5559),n=t(8368),y=t(2084),T=t(6353),v=t(6895),O=t(9818),C=t(5306),E=t(5417),i=t(8297),f=t(2075),_=t(9921),l=t(718);function m(s,r){if(1&s){const o=T.EpF();T.TgZ(0,"desk-list",29),T.NdJ("toggleFav",function(I){T.CHM(o);const x=T.oxw();return T.KtG(x.toggleFavourite(I))})("onSelect",function(I){T.CHM(o);const x=T.oxw();return T.KtG(x.displayed=I)}),T.qZA()}if(2&s){const o=T.oxw();T.Q6J("selected",o.selected_ids)("favorites",o.favorites),T.uIk("active",null==o.displayed?null:o.displayed.id)}}function h(s,r){if(1&s){const o=T.EpF();T.TgZ(0,"button",30),T.NdJ("click",function(){T.CHM(o);const I=T.oxw();return T.KtG(I.displayed=null)}),T.SDv(1,31),T.qZA()}}function d(s,r){if(1&s){const o=T.EpF();T.TgZ(0,"desk-map",32),T.NdJ("onSelect",function(I){T.CHM(o);const x=T.oxw();return T.KtG(x.displayed=I)}),T.qZA()}if(2&s){const o=T.oxw();T.Q6J("is_displayed",!!o.displayed)}}const c="favourite_desks";class a{constructor(r,o,S,I){this._dialog_ref=r,this._settings=o,this._event_form=S,this._data=I,this.selected=[],this.view="list",this.selected=[...I.items||[]],this._event_form.setOptions(I.options)}get selected_ids(){return this.selected.map(r=>r.id).join(",")}get favorites(){return this._settings.get(c)||[]}isSelected(r){return r&&this.selected_ids.includes(r)}setSelected(r,o){const S=this.selected.filter(I=>I.id!==r.id);o&&S.push(r),this.selected=S,!this._data.options.group&&o&&this._dialog_ref.close([r])}toggleFavourite(r){const o=this.favorites;o.includes(r.id)?this._settings.saveUserSetting(c,o.filter(I=>I!==r.id)):this._settings.saveUserSetting(c,[...o,r.id])}}a.\u0275fac=function(r){return new(r||a)(T.Y36(e.hV),T.Y36(n.gb),T.Y36(y.f),T.Y36(e.eJ))},a.\u0275cmp=T.Xpm({type:a,selectors:[["desk-select-modal"]],decls:39,vars:25,consts:function(){let s,r,o,S,I,x,P;return s=$localize`:␟4221741642af22ed8e17ee106c326def85e70c61␟1749010714240797250:Find Desk`,r=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,o=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,S=$localize`:␟f566e50852be3f327b040870cbf63b59ea3b8d8c␟3611851363359647609: ${"\ufffd0\ufffd"}:INTERPOLATION: desk(s) added `,I=$localize`:␟27f17589e5c467663bd808c261561f395e6cd88b␟3584287470563179139:{VAR_SELECT, select, true {Remove
                            from Booking } false {Add to booking }}`,I=T.Zx4(I,{VAR_SELECT:"\ufffd0\ufffd"}),x=$localize`:␟fd4e325d03af7c5cfe3f7443e4a114fce95645c4␟5856375877313433069: ${I}:ICU: `,P=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[[1,"absolute","inset-0","sm:relative","sm:inset-none","flex","flex-col","bg-white","dark:bg-neutral-700"],[1,"flex","items-center","space-x-4","w-full"],["mat-icon-button","","mat-dialog-close","",1,"bg-black/20"],s,[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["mat-button","","map","",1,"rounded-l","rounded-r-none",3,"click"],["mat-button","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-gray-200","dark:divide-neutral-500","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-gray-200","dark:border-neutral-500",3,"view","viewChange"],["class","flex-1 h-1/2 bg-black/5 dark:bg-white/10",3,"selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-white","dark:bg-neutral-600","block",3,"desk","active","fav","activeChange","toggleFav","close"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["mat-button","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],r,[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","",1,"clear","text-primary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],o,[1,"opacity-60","text-sm"],S,["mat-button","",3,"disabled","click"],[1,"mr-1"],x,["map_view",""],[1,"flex-1","h-1/2","bg-black/5","dark:bg-white/10",3,"selected","favorites","toggleFav","onSelect"],["mat-button","","return","",1,"inverse","sm:hidden","w-full",3,"click"],P,[1,"flex-1","h-1/2","w-full",3,"is_displayed","onSelect"]]},template:function(r,o){if(1&r&&(T.TgZ(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),T._uU(4,"close"),T.qZA()(),T.TgZ(5,"h3"),T.SDv(6,3),T.qZA(),T.TgZ(7,"div",4)(8,"button",5),T.NdJ("click",function(){return o.view="map"}),T._uU(9," Map "),T.qZA(),T.TgZ(10,"button",6),T.NdJ("click",function(){return o.view="list"}),T._uU(11," List "),T.qZA()()(),T.TgZ(12,"main",7),T._UZ(13,"desk-filters",8),T.TgZ(14,"div",9)(15,"desk-filters-display",10),T.NdJ("viewChange",function(I){return o.view=I}),T.qZA(),T.YNc(16,m,1,3,"desk-list",11),T.qZA(),T.TgZ(17,"desk-details",12),T.NdJ("activeChange",function(I){return o.setSelected(o.displayed,I)})("toggleFav",function(){return o.toggleFavourite(o.displayed)})("close",function(){return o.displayed=null}),T.qZA()(),T.TgZ(18,"footer",13),T.YNc(19,h,2,0,"button",14),T.TgZ(20,"button",15),T.SDv(21,16),T.qZA()(),T.TgZ(22,"footer",17)(23,"button",18)(24,"div",19)(25,"app-icon",20),T._uU(26,"arrow_back"),T.qZA(),T.TgZ(27,"div",21),T.SDv(28,22),T.qZA()()(),T.TgZ(29,"p",23),T.SDv(30,24),T.qZA(),T.TgZ(31,"button",25),T.NdJ("click",function(){return o.setSelected(o.displayed,!o.isSelected(null==o.displayed?null:o.displayed.id))}),T.TgZ(32,"div",19)(33,"app-icon",20),T._uU(34),T.qZA(),T.TgZ(35,"div",26),T.SDv(36,27),T.qZA()()()()(),T.YNc(37,d,1,1,"ng-template",null,28,T.W1O)),2&r){const S=T.MAs(38);T.xp6(8),T.ekj("inverse","map"!==o.view),T.xp6(2),T.ekj("inverse","list"!==o.view),T.xp6(5),T.Q6J("view",o.view),T.xp6(1),T.Q6J("ngIf","list"===o.view)("ngIfElse",S),T.xp6(1),T.ekj("hidden",!o.displayed)("inset-0",o.displayed),T.Q6J("desk",o.displayed)("active",o.selected_ids.includes(null==o.displayed?null:o.displayed.id))("fav",o.displayed&&o.favorites.includes(null==o.displayed?null:o.displayed.id)),T.xp6(2),T.Q6J("ngIf",o.displayed),T.xp6(1),T.ekj("mb-2",o.displayed),T.Q6J("mat-dialog-close",o.selected),T.xp6(3),T.Q6J("mat-dialog-close",o.selected),T.xp6(7),T.pQV(o.selected.length),T.QtT(30),T.xp6(1),T.ekj("inverse",o.isSelected(null==o.displayed?null:o.displayed.id)),T.Q6J("disabled",!o.displayed),T.xp6(3),T.Oqu(o.isSelected(null==o.displayed?null:o.displayed.id)?"remove":"add"),T.xp6(2),T.pQV(o.isSelected(null==o.displayed?null:o.displayed.id)),T.QtT(36)}},dependencies:[v.O5,O.eB,e.aO,C.o,E.v,i.o,f.x,_.D,l.p],encapsulation:2})},9761:(Je,K,t)=>{"use strict";t.d(K,{C:()=>H});var e=t(9671),n=t(6353),y=t(4006),T=t(7224),v=t(8296),O=t(3245),C=t(565),E=t(2084),i=t(8368),f=t(3149),_=t(6895),l=t(8455),m=t(9203),h=t(9818),d=t(1343),c=t(4226),a=t(4363),s=t(2329),r=t(1022),o=t(7303),S=t(6289);function I($,j){if(1&$&&(n.TgZ(0,"mat-option",46),n._uU(1),n.qZA()),2&$){const V=j.$implicit;n.Q6J("value",V.id),n.xp6(1),n.hij(" ",V.display_name||V.name," ")}}const x=function(){return{standalone:!0}};function P($,j){if(1&$){const V=n.EpF();n.TgZ(0,"div",14)(1,"label",42),n.tHW(2,43),n._UZ(3,"span"),n.N_p(),n.qZA(),n.TgZ(4,"mat-form-field",28)(5,"mat-select",44),n.NdJ("ngModelChange",function(ie){n.CHM(V);const ye=n.oxw(4);return n.KtG(ye.form.patchValue({zones:[ie]}))}),n.YNc(6,I,2,2,"mat-option",45),n.ALo(7,"async"),n.qZA()()()}if(2&$){const V=n.oxw(4);n.xp6(5),n.Q6J("ngModel",V.form.value.zones[0])("ngModelOptions",n.DdM(5,x)),n.xp6(1),n.Q6J("ngForOf",n.lcZ(7,3,V.buildings))}}function g($,j){if(1&$){const V=n.EpF();n.TgZ(0,"mat-option",47),n.NdJ("click",function(){const ye=n.CHM(V).$implicit,G=n.oxw(4);return n.KtG(G.setVisitor(ye))}),n.TgZ(1,"div",48)(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div",49),n._uU(5),n.qZA()()()}if(2&$){const V=j.$implicit;n.Q6J("value",V.name),n.xp6(3),n.Oqu(V.name),n.xp6(2),n.AsE(" ",V.email," ",V.company?"| "+V.company:""," ")}}function u($,j){if(1&$){const V=n.EpF();n.TgZ(0,"mat-option",47),n.NdJ("click",function(){const ye=n.CHM(V).$implicit,G=n.oxw(4);return n.KtG(G.setVisitor(ye))}),n.TgZ(1,"div",48)(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div",49),n._uU(5),n.qZA()()()}if(2&$){const V=j.$implicit;n.Q6J("value",V.email),n.xp6(3),n.Oqu(V.name),n.xp6(2),n.AsE(" ",V.email," ",V.company?"| "+V.company:""," ")}}function M($,j){if(1&$){const V=n.EpF();n.TgZ(0,"form",12),n.YNc(1,P,8,6,"div",13),n.TgZ(2,"div",14)(3,"label",15),n.tHW(4,16),n._UZ(5,"span"),n.N_p(),n.qZA(),n._UZ(6,"a-date-field",17),n.qZA(),n.TgZ(7,"div",18)(8,"div",19)(9,"label",20),n.tHW(10,21),n._UZ(11,"span"),n.N_p(),n.qZA(),n._UZ(12,"a-time-field",22),n.qZA(),n.TgZ(13,"div",19)(14,"label",23),n.tHW(15,24),n._UZ(16,"span"),n.N_p(),n.qZA(),n._UZ(17,"a-duration-field",25),n.qZA()(),n.TgZ(18,"div",14)(19,"label",26),n.tHW(20,27),n._UZ(21,"span"),n.N_p(),n.qZA(),n.TgZ(22,"mat-form-field",28)(23,"input",29),n.NdJ("focus",function(){n.CHM(V);const ie=n.oxw(3);return n.KtG(ie.filterVisitors(ie.form.value.asset_name))}),n.qZA()(),n.TgZ(24,"mat-autocomplete",null,30),n.YNc(26,g,6,4,"mat-option",31),n.qZA()(),n.TgZ(27,"div",14)(28,"label",32),n.tHW(29,33),n._UZ(30,"span"),n.N_p(),n.qZA(),n.TgZ(31,"mat-form-field",28)(32,"input",34),n.NdJ("focus",function(){n.CHM(V);const ie=n.oxw(3);return n.KtG(ie.filterVisitors(ie.form.value.asset_id))}),n.qZA(),n.TgZ(33,"mat-error"),n.SDv(34,35),n.qZA()(),n.TgZ(35,"mat-autocomplete",null,36),n.YNc(37,u,6,4,"mat-option",31),n.qZA()(),n.TgZ(38,"div",14)(39,"label",26),n.SDv(40,37),n.qZA(),n.TgZ(41,"mat-form-field",28),n._UZ(42,"input",38),n.qZA()(),n.TgZ(43,"div",14)(44,"label",39),n.SDv(45,40),n.qZA(),n.TgZ(46,"mat-form-field",28),n._UZ(47,"input",41),n.qZA()()()}if(2&$){const V=n.MAs(25),Q=n.MAs(36),ie=n.oxw(3);n.Q6J("formGroup",ie.form),n.xp6(1),n.Q6J("ngIf",(null==ie.buildings?null:ie.buildings.length)>1),n.xp6(16),n.Q6J("time",ie.form.value.date),n.xp6(6),n.Q6J("matAutocomplete",V),n.xp6(3),n.Q6J("ngForOf",ie.filtered_visitors),n.xp6(6),n.Q6J("matAutocomplete",Q),n.xp6(5),n.Q6J("ngForOf",ie.filtered_visitors)}}function R($,j){if(1&$){const V=n.EpF();n.TgZ(0,"div",4)(1,"div",5)(2,"h2",6),n.SDv(3,7),n.qZA()(),n.YNc(4,M,48,7,"form",8),n.TgZ(5,"div",9)(6,"button",10),n.NdJ("click",function(){n.CHM(V);const ie=n.oxw(2);return n.KtG(ie.sendInvite())}),n.SDv(7,11),n.qZA()()()}if(2&$){const V=n.oxw(2);n.xp6(4),n.Q6J("ngIf",V.form)}}function w($,j){if(1&$&&(n.ynx(0),n.YNc(1,R,8,1,"div",3),n.ALo(2,"async"),n.BQk()),2&$){const V=n.oxw(),Q=n.MAs(4);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,V.loading))("ngIfElse",Q)}}function F($,j){if(1&$){const V=n.EpF();n.TgZ(0,"div",50)(1,"div",51)(2,"h2",52),n.SDv(3,53),n.qZA(),n._UZ(4,"img",54),n.TgZ(5,"p"),n.tHW(6,55),n._UZ(7,"i"),n.ALo(8,"date"),n.ALo(9,"date"),n.N_p(),n.qZA()(),n.TgZ(10,"div",56)(11,"div",57)(12,"button",58),n.NdJ("click",function(){n.CHM(V);const ie=n.oxw();return n.KtG(ie.onDone())}),n.SDv(13,59),n.qZA(),n.TgZ(14,"button",58),n.NdJ("click",function(){n.CHM(V);const ie=n.oxw();return n.KtG(ie.sent=!1)}),n.SDv(15,60),n.qZA()()()()}if(2&$){const V=n.oxw();n.xp6(3),n.pQV((null==V.last_success?null:V.last_success.asset_name)||(null==V.last_success?null:V.last_success.asset_id)),n.QtT(3),n.xp6(6),n.pQV((null==V.last_success?null:V.last_success.asset_name)||(null==V.last_success?null:V.last_success.asset_id))((null==V.building?null:V.building.display_name)||(null==V.building?null:V.building.name))(n.xi3(8,5,null==V.last_success?null:V.last_success.date,"mediumDate"))(n.xi3(9,8,null==V.last_success?null:V.last_success.date,"shortTime")),n.QtT(6)}}function B($,j){1&$&&(n.TgZ(0,"div",61),n._UZ(1,"mat-spinner",62),n.TgZ(2,"p"),n.SDv(3,63),n.qZA()()),2&$&&(n.xp6(1),n.Q6J("diameter",32))}class H extends i.KG{constructor(j,V,Q){super(),this._service=j,this._settings=V,this._org=Q,this.done=new n.vpe,this.sent=!1,this.loading=this._service.loading,this.buildings=this._org.active_buildings,this.last_success=this._service.last_success,this.visitors=[],this.filtered_visitors=[]}get building(){return this._org.building}get form(){return this._service.form}ngOnInit(){var j=this;return(0,e.Z)(function*(){j.sent=!1,yield j.initFormZone(),j.form.get("asset_id").setValidators([y.kI.required,y.kI.email]);const V=j._settings.get("visitor-invitees")||[];for(const Q of V){const[ie,ye,G]=Q.split("|");j.visitors.push({email:ie,name:ye,company:G})}j.filterVisitors(""),j.subscription("email",j.form.get("asset_id").valueChanges.subscribe(Q=>j.filterVisitors(Q))),j.subscription("name",j.form.get("asset_name").valueChanges.subscribe(Q=>j.filterVisitors(Q)))})()}setVisitor(j){this.form.patchValue({asset_id:j.email,asset_name:j.name,company:j.company})}filterVisitors(j){const V=j.toLowerCase();this.filtered_visitors=this.visitors.filter(({email:Q,name:ie,company:ye})=>Q.toLowerCase().includes(V)||ie.toLowerCase().includes(V)||ye.toLowerCase().includes(V))}onDone(){this.done.emit(),this.sent=!1}sendInvite(){var j=this;return(0,e.Z)(function*(){if(j.form.markAllAsTouched(),!j.form.valid)return(0,v.cB)(`Some fields are invalid. [${(0,O.RD)(j.form)}]`);const{asset_id:V,asset_name:Q,company:ie}=j.form.value,ye=`${V}|${Q}|${ie}`,G=j._settings.get("visitor-invitees")||[];j._settings.saveUserSetting("visitor-invitees",[...G.filter(Ie=>!Ie.includes(V)),ye]);const _e=j.form.value;j.form.patchValue({name:_e.asset_name,attendees:[new f.n5({name:_e.asset_name,email:_e.asset_id,organisation:_e.company})]}),j.booking=yield j._service.postForm().catch(Ie=>{throw(0,v.cB)(Ie),Ie}),yield j.initFormZone(),j.sent=!0})()}initFormZone(){var j=this;return(0,e.Z)(function*(){yield j._org.initialised.pipe((0,T.P)(V=>V)).toPromise(),j._service.setOptions({type:"visitor"}),j.form.patchValue({zones:[j._org.building?.id]})})()}}H.\u0275fac=function(j){return new(j||H)(n.Y36(E.f),n.Y36(i.gb),n.Y36(C.w))},H.\u0275cmp=n.Xpm({type:H,selectors:[["invite-visitor-form"]],outputs:{done:"done"},features:[n.qOj],decls:5,vars:2,consts:function(){let $,j,V,Q,ie,ye,G,_e,Ie,Me,Fe,Ve,Pe,xe,be,Ue,He;return $=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,j=$localize`:␟207022d8123aa7a8693ff4c53cd28fea3d5bdff2␟994966389368964414: Send Visitor Invite `,V=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,Q=$localize`:␟eac10bd97a4b6b06a0221c661de781836b7a1e1c␟145741817832495807: Start Time${"\ufffd#11\ufffd"}:START_TAG_SPAN:*${"\ufffd/#11\ufffd"}:CLOSE_TAG_SPAN:`,ie=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,ye=$localize`:␟cf671ca02377cd191d8b3c68c7befb5984469f16␟4464638374806874490:Visitor Name${"\ufffd#21\ufffd"}:START_TAG_SPAN:*${"\ufffd/#21\ufffd"}:CLOSE_TAG_SPAN:`,G=$localize`:␟6d94427b2307c85d5a1179f6bd7dfdd6b65813ec␟8511396184262742071: Visitor Email${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,_e=$localize`:␟66a4553914df830f0bc1dd1f0a42c57fd85864de␟6407494155279173358:A valid email is required`,Ie=$localize`:␟6ef0619a37140118b9e640c6cc36ee4e9fb4372a␟1826215573205981970:Company`,Me=$localize`:␟8aaaa9966e2e05be99e9b239f3b257767366b8bf␟495507623260232513:Reason for visit`,Fe=$localize`:␟029554be61f13a5f5f40b24ff6a076e8cf3ce232␟5030059473688609624:Building${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,Ve=$localize`:␟a2a7f73f9ff1df08f9f055ead8f1b25a91c060a3␟4333771954088602266:Select building`,Pe=$localize`:␟b48da24e0c6d5c2a77da5e461d6617fb0bf29443␟3601699416285298060: Visitor invite sent to ${"\ufffd0\ufffd"}:INTERPOLATION: `,xe=$localize`:␟947d16f767358cd30c3747bc33d7202b1d4c7f34␟7358174424653803527: Invite has been sent to ${"\ufffd#7\ufffd"}:START_ITALIC_TEXT:${"\ufffd0\ufffd"}:INTERPOLATION:${"\ufffd/#7\ufffd"}:CLOSE_ITALIC_TEXT: to attend ${"\ufffd1\ufffd"}:INTERPOLATION_1: from ${"\ufffd2\ufffd"}:INTERPOLATION_2: at ${"\ufffd3\ufffd"}:INTERPOLATION_3: `,be=$localize`:␟af6a082ad33b2635f588016703e454c8fb7f7e0f␟7858372686370953213: Great, thanks `,Ue=$localize`:␟63356c3f7d6177e1e29a68e272010f75eacb3c97␟3676425961094889121: Book Another Visitor `,He=$localize`:␟59c7bf21621b0422b39735ebc6af2ccb26d894e3␟6183159301460846057:Sending invitation...`,[[4,"ngIf","ngIfElse"],["send_state",""],["load_state",""],["class","relative flex flex-col bg-white dark:bg-neutral-700 overflow-auto max-h-full",4,"ngIf","ngIfElse"],[1,"relative","flex","flex-col","bg-white","dark:bg-neutral-700","overflow-auto","max-h-full"],[1,"w-full","border-b","border-gray-200","dark:border-neutral-500","px-4","py-2"],[1,"text-2xl"],$,["class","p-4",3,"formGroup",4,"ngIf"],[1,"sticky","p-4","border-t","bg-white","border-gray-200","dark:border-neutral-500","bottom-0"],["mat-button","","send","",1,"w-full","sm:w-auto",3,"click"],j,[1,"p-4",3,"formGroup"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],["for","date"],V,["name","date","formControlName","date"],[1,"flex","items-center","space-x-2"],[1,"flex-1","flex","flex-col","w-1/3"],["for","start-time"],Q,["name","start-time","formControlName","date"],["for","end-time"],ie,["name","end-time","formControlName","duration",3,"time"],["for","visitor-name"],ye,["appearance","outline"],["matInput","","name","visitor-name","formControlName","asset_name","placeholder","Name of the visitor",3,"matAutocomplete","focus"],["name_auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["for","visitor-email"],G,["matInput","","name","visitor-email","type","email","formControlName","asset_id","placeholder","Email of the visitor",3,"matAutocomplete","focus"],_e,["email_auto","matAutocomplete"],Ie,["matInput","","name","company","formControlName","company","placeholder","Company of the visitor"],["for","reason"],Me,["name","reason","matInput","","formControlName","description","placeholder","e.g. Meeting Catchup"],["for","building"],Fe,["name","building","placeholder",Ve,3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"value","click"],[1,"flex","flex-col","leading-tight"],[1,"text-xs","opacity-60"],["sent","",1,"absolute","inset-0","bg-white","dark:bg-neutral-700","flex","flex-col","items-center","justify-center","text-center"],[1,"w-full","max-w-[32rem]","flex-1","h-1/2","space-y-2","m-8"],[1,"text-3xl"],Pe,["src","assets/icons/sent.svg",1,"mx-auto"],xe,[1,"w-full","p-2","border-t","border-gray-200","dark:border-neutral-500"],[1,"mx-auto","flex","items-center","space-x-2","w-full","max-w-[32rem]"],["mat-button","",1,"flex-1",3,"click"],be,Ue,["loading","",1,"relative","flex","flex-col","items-center","justify-center","rounded","overflow-hidden","w-full","h-full","min-h-[18rem]"],[3,"diameter"],He]},template:function(j,V){if(1&j&&(n.YNc(0,w,3,4,"ng-container",0),n.YNc(1,F,16,11,"ng-template",null,1,n.W1O),n.YNc(3,B,4,1,"ng-template",null,2,n.W1O)),2&j){const Q=n.MAs(2);n.Q6J("ngIf",!V.sent)("ngIfElse",Q)}},dependencies:[_.sg,_.O5,y._Y,y.Fj,y.JJ,y.JL,y.On,y.sg,y.u,l.nI,l.v_,m.k0,h.eB,d.sN,c.VN,c.QJ,a.CK,s.Q,r.B,o.N,S.x8,_.Ov,_.uU]})},9727:(Je,K,t)=>{"use strict";t.d(K,{J:()=>m});var e=t(6353),n=t(6725),y=t(6221),T=t(6895),v=t(9818),O=t(5306),C=t(9136),E=t(2581);function i(h,d){if(1&h&&e._UZ(0,"image-carousel",25),2&h){const c=e.oxw(2);e.Q6J("images",c.space.images)}}const f=function(){return{disable_pan:!0,disable_zoom:!0}};function _(h,d){if(1&h){const c=e.EpF();e.ynx(0),e.TgZ(1,"section",2),e.YNc(2,i,1,1,"image-carousel",3),e.TgZ(3,"button",4),e.NdJ("click",function(){e.CHM(c);const s=e.oxw();return e.KtG(s.close.emit())}),e.TgZ(4,"app-icon"),e._uU(5,"arrow_back"),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(c);const s=e.oxw();return e.KtG(s.toggleFav.emit())}),e.TgZ(7,"app-icon"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",6)(10,"section",7)(11,"h2",8),e._uU(12),e.qZA()(),e._UZ(13,"hr"),e.TgZ(14,"section",9)(15,"h2",10),e.SDv(16,11),e.qZA(),e.TgZ(17,"div",12)(18,"app-icon"),e._uU(19,"people"),e.qZA(),e.TgZ(20,"p"),e.SDv(21,13),e.qZA()(),e.TgZ(22,"div",12)(23,"app-icon"),e._uU(24,"meeting_room"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.qZA()(),e.TgZ(27,"div",12)(28,"app-icon"),e._uU(29,"place"),e.qZA(),e.TgZ(30,"p"),e._uU(31),e.qZA()()(),e._UZ(32,"hr"),e.TgZ(33,"section",14)(34,"h2",10),e.SDv(35,15),e.qZA(),e.TgZ(36,"div",12)(37,"app-icon"),e._uU(38,"people"),e.qZA(),e.TgZ(39,"p"),e.SDv(40,16),e.qZA()(),e.TgZ(41,"div",12)(42,"app-icon"),e._uU(43,"restaurant"),e.qZA(),e.TgZ(44,"p"),e.SDv(45,17),e.qZA()(),e.TgZ(46,"div",12)(47,"app-icon"),e._uU(48,"edit"),e.qZA(),e.TgZ(49,"p"),e.SDv(50,18),e.qZA()()(),e.TgZ(51,"section",19),e._UZ(52,"interactive-map",20),e.qZA()(),e.TgZ(53,"div",21)(54,"button",22),e.NdJ("click",function(){e.CHM(c);const s=e.oxw();return s.active=!s.active,e.KtG(s.activeChange.emit(s.active))}),e.TgZ(55,"div",23)(56,"app-icon",24),e._uU(57),e.qZA(),e.TgZ(58,"p"),e._uU(59),e.qZA()()()(),e.BQk()}if(2&h){const c=e.oxw();e.xp6(1),e.ekj("sm:h-40",null==c.space.images?null:c.space.images.length)("h-64",null==c.space.images?null:c.space.images.length)("sm:h-0",!(null!=c.space.images&&c.space.images.length))("h-12",!(null!=c.space.images&&c.space.images.length))("!bg-transparent",!(null!=c.space.images&&c.space.images.length)),e.xp6(1),e.Q6J("ngIf",null==c.space.images?null:c.space.images.length),e.xp6(4),e.ekj("text-white",!c.fav)("text-blue-400",c.fav),e.xp6(2),e.Oqu(c.fav?"favorite":"favorite_border"),e.xp6(4),e.hij(" ",c.space.display_name||c.space.name," "),e.xp6(9),e.pQV(c.space.capacity),e.QtT(21),e.xp6(5),e.hij(" ",(null==c.level?null:c.level.display_name)||(null==c.level?null:c.level.name)," "),e.xp6(5),e.hij(" ",(null==c.building?null:c.building.address)||(null==c.building?null:c.building.display_name)||(null==c.building?null:c.building.name)," "),e.xp6(21),e.Q6J("src",c.map_url)("features",c.features)("options",e.DdM(27,f)),e.xp6(2),e.ekj("inverse",c.active),e.xp6(3),e.Oqu(c.active?"remove":"add"),e.xp6(2),e.hij(" ",c.active?"Remove this room":"Add this room"," ")}}function l(h,d){1&h&&(e.TgZ(0,"div",26)(1,"p",27),e.SDv(2,28),e.qZA()())}class m{constructor(d){this._org=d,this.fav=!1,this.active=!1,this.activeChange=new e.vpe,this.close=new e.vpe,this.toggleFav=new e.vpe,this.map_url="",this.features=[]}get level(){return this._org.levelWithID([this.space?.zone.id])||this.space?.zone}get building(){return this._org.buildings.find(d=>this.space?.zone.id===d.id||this.space?.zone.parent_id===d.id)}ngOnChanges(d){d.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:n.qL}]}}m.\u0275fac=function(d){return new(d||m)(e.Y36(y.w7))},m.\u0275cmp=e.Xpm({type:m,selectors:[["parking-space-details"]],inputs:{space:"space",fav:"fav",active:"active"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[e.TTD],decls:3,vars:2,consts:function(){let h,d,c,a,s,r,o;return h=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,d=$localize`:␟2fe5caca246424da5e7fcee12a1fe341335e1286␟2731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,c=$localize`:␟45b5b90d7df8adeb648858761739fa700117c0d5␟3223773701700202859:Room Facilities`,a=$localize`:␟49db2433248cbe017b956cb5baefb0196dd788f1␟2658260878259066313:WiFi Available`,s=$localize`:␟551b6a6b5ecee7d32448ac4ef3a1fb883dd8e13c␟8309048761278776852:Catering Available`,r=$localize`:␟9169207ff2581dc7ac8b9125088b0cb3dc789824␟3473226617663475632:Whiteboard`,o=$localize`:␟2d39d1ca65d735d7f800e458ce54af6a25652395␟7182911930527299079: Select a space to view it's details `,[[4,"ngIf","ngIfElse"],["empty_state",""],["image","",1,"relative","w-full","bg-black/20"],["class","absolute inset-0",3,"images",4,"ngIf"],["mat-icon-button","","close","",1,"absolute","top-2","left-2","bg-black/40","sm:hidden","text-white",3,"click"],["mat-icon-button","","fav","",1,"absolute","top-2","right-2","bg-black/40",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],h,[1,"flex","items-center","space-x-2"],d,["facilities","",1,"space-y-2"],c,a,s,r,["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-gray-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","features","options"],[1,"p-2","border-t","border-gray-200","shadow","sm:hidden"],["mat-button","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],o]},template:function(d,c){if(1&d&&(e.YNc(0,_,60,28,"ng-container",0),e.YNc(1,l,3,0,"ng-template",null,1,e.W1O)),2&d){const a=e.MAs(2);e.Q6J("ngIf",c.space)("ngIfElse",a)}},dependencies:[T.O5,v.eB,O.o,C.p,E.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})},5652:(Je,K,t)=>{"use strict";t.d(K,{i:()=>h});var e=t(9671),n=t(6353),y=t(8368),T=t(1299),v=t(6221),O=t(2986),C=t(647),E=t(8242),i=t(6895),f=t(9818),_=t(5306);function l(d,c){if(1&d&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&d){const a=n.oxw();n.xp6(1),n.hij(" ",a.location," ")}}function m(d,c){if(1&d){const a=n.EpF();n.TgZ(0,"div",16)(1,"p"),n._uU(2),n.qZA(),n.TgZ(3,"button",17),n.NdJ("click",function(){const o=n.CHM(a).$implicit,S=n.oxw();return n.KtG(S.removeFeature(o))}),n.TgZ(4,"app-icon"),n._uU(5,"close"),n.qZA()()()}if(2&d){const a=c.$implicit;n.xp6(2),n.Oqu(a)}}class h extends y.KG{constructor(c,a,s){super(),this._bsheet=c,this._event_form=a,this._org=s,this.view="list",this.viewChange=new n.vpe,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(C.k)}get start(){return this._event_form.form.value.date}get end(){const{date:c,duration:a}=this._event_form.form.value;return c+60*a*1e3}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:c})=>this._updateLocation(c)))}removeFeature(c){var a=this;return(0,e.Z)(function*(){const s=yield a._event_form.options.pipe((0,O.q)(1)).toPromise();a._event_form.setOptions({...s,features:(s.features||[]).filter(r=>r!==c)})})()}_updateLocation(c=[]){const s=this._org.levelWithID(c)||this._org.building;this.location=s?.display_name||s?.name||""}}h.\u0275fac=function(c){return new(c||h)(n.Y36(E.ch),n.Y36(T.MH),n.Y36(v.w7))},h.\u0275cmp=n.Xpm({type:h,selectors:[["parking-space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[n.qOj],decls:22,vars:23,consts:function(){let d,c,a,s;return d=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,c=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,a=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,s=$localize`:␟e1bcafb95323d9492bfdfa190a129131e6255cdb␟7211304359187007121: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["mat-button","","filters","",1,"flex-1","w-1/2",3,"click"],d,[1,"flex","items-center"],["mat-button","","map","",1,"rounded-l","rounded-r-none",3,"click"],c,["mat-button","","list","",1,"rounded-r","rounded-l-none",3,"click"],a,["filters","",1,"flex","items-center","flex-wrap","p-2"],["filter-item","","zone","","class","dark:border-neutral-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-neutral-500"],["filter-item","","time","",1,"dark:border-neutral-500"],["filter-item","","count","",1,"dark:border-neutral-500"],s,["filter-item","",4,"ngFor","ngForOf"],["filter-item","","zone","",1,"dark:border-neutral-500"],["filter-item",""],["mat-icon-button","",1,"-mr-4","dark:border-neutral-500",3,"click"]]},template:function(c,a){if(1&c&&(n.TgZ(0,"section",0)(1,"button",1),n.NdJ("click",function(){return a.editFilters()}),n.SDv(2,2),n.qZA(),n.TgZ(3,"div",3)(4,"button",4),n.NdJ("click",function(){return a.view="map",a.viewChange.emit(a.view)}),n.SDv(5,5),n.qZA(),n.TgZ(6,"button",6),n.NdJ("click",function(){return a.view="list",a.viewChange.emit(a.view)}),n.SDv(7,7),n.qZA()()(),n.TgZ(8,"section",8),n.YNc(9,l,2,1,"div",9),n.TgZ(10,"div",10),n._uU(11),n.ALo(12,"date"),n.qZA(),n.TgZ(13,"div",11),n._uU(14),n.ALo(15,"date"),n.ALo(16,"date"),n.qZA(),n.TgZ(17,"div",12),n.SDv(18,13),n.ALo(19,"async"),n.qZA(),n.YNc(20,m,6,1,"div",14),n.ALo(21,"async"),n.qZA()),2&c){let s,r;n.xp6(4),n.ekj("inverse","map"!==a.view),n.xp6(2),n.ekj("inverse","list"!==a.view),n.xp6(3),n.Q6J("ngIf",a.location),n.xp6(2),n.hij(" ",n.xi3(12,10,a.start,"mediumDate")," "),n.xp6(3),n.AsE(" ",n.xi3(15,13,a.start,"shortTime")," \u2014 ",n.xi3(16,16,a.end,"shortTime")," "),n.xp6(5),n.pQV((null==(s=n.lcZ(19,19,a.options))?null:s.capcaity)||2),n.QtT(18),n.xp6(1),n.Q6J("ngForOf",null==(r=n.lcZ(21,21,a.options))?null:r.features)}},dependencies:[i.sg,i.O5,f.eB,_.o,i.Ov,i.uU],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.1)}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})},647:(Je,K,t)=>{"use strict";t.d(K,{k:()=>u});var e=t(9671),n=t(8368),y=t(6221),T=t(4850),v=t(2986),O=t(2084),C=t(6353),E=t(8242),i=t(6895),f=t(4006),_=t(8455),l=t(9818),m=t(74),h=t(4363),d=t(2329),c=t(1022),a=t(7303),s=t(5306),r=t(6289);function o(M,R){if(1&M){const w=C.EpF();C.TgZ(0,"button",37),C.NdJ("click",function(){C.CHM(w);const B=C.oxw();return C.KtG(B.close())}),C.TgZ(1,"app-icon"),C._uU(2,"keyboard_arrow_left"),C.qZA()()}}function S(M,R){if(1&M&&(C.TgZ(0,"mat-option",38),C._uU(1),C.qZA()),2&M){const w=R.$implicit;C.Q6J("value",w.id),C.xp6(1),C.AsE(" ",w.bld,", ",w.display_name||w.name," ")}}const I=function(){return{standalone:!0}};function x(M,R){if(1&M){const w=C.EpF();C.TgZ(0,"div",31)(1,"div",42),C._uU(2),C.qZA(),C.TgZ(3,"mat-checkbox",43),C.NdJ("ngModelChange",function(B){const $=C.CHM(w).$implicit,j=C.oxw(2);return C.KtG(j.toggleFeature($,B))}),C.ALo(4,"async"),C.qZA()()}if(2&M){const w=R.$implicit,F=C.oxw(2);let B;C.xp6(2),C.Oqu(w),C.xp6(1),C.Q6J("ngModel",null==(B=C.lcZ(4,3,F.options))||null==B.features?null:B.features.includes(w))("ngModelOptions",C.DdM(5,I))}}function P(M,R){if(1&M&&(C.TgZ(0,"section",39)(1,"h2",8),C.SDv(2,40),C.qZA(),C.YNc(3,x,5,6,"div",41),C.ALo(4,"async"),C.qZA()),2&M){const w=C.oxw();C.xp6(3),C.Q6J("ngForOf",C.lcZ(4,1,w.features))}}function g(M,R){if(1&M){const w=C.EpF();C.TgZ(0,"div",44)(1,"button",45),C.NdJ("click",function(){C.CHM(w);const B=C.oxw();return C.KtG(B.close())}),C.SDv(2,46),C.qZA()()}}class u{constructor(R,w,F,B){this._bsheet_ref=R,this._settings=w,this._form=F,this._org=B,this.can_close=!1,this.options=this._form.options,this.levels=this._org.level_list.pipe((0,T.U)(H=>{for(const $ of H){const j=this._org.buildings.find(V=>V.id===$.parent_id);$.bld=j?.display_name||j?.name||""}return H})),this.features=this._form.features,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=H=>this._form.setOptions(H),this.can_close=!!this._bsheet_ref}get bld(){return this._org.building}get form(){return this._form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}toggleFeature(R,w){var F=this;return(0,e.Z)(function*(){const{features:B}=yield F.options.pipe((0,v.q)(1)).toPromise(),H=(B||[]).filter($=>R!==$);w&&H.push(R),F.setOptions({features:H})})()}}u.\u0275fac=function(R){return new(R||u)(C.Y36(E.oL,8),C.Y36(n.gb),C.Y36(O.f),C.Y36(y.w7))},u.\u0275cmp=C.Xpm({type:u,selectors:[["parking-space-filters"]],decls:46,vars:26,consts:function(){let M,R,w,F,B,H,$,j,V,Q,ie;return M=$localize`:␟36173168a4643aa78634e9242a63f3a40862f166␟7173310086383878456:Space Filters`,R=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,w=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,F=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#21\ufffd"}:START_TAG_SPAN:*${"\ufffd/#21\ufffd"}:CLOSE_TAG_SPAN:`,B=$localize`:␟e06c2195d60fdee7b259bd3ff16eb3d594c42b2b␟608708688936992021: Date and time must be in the future `,H=$localize`:␟34a7595cdc15925514038224946986bfd90dc0ed␟3039786638368843634:Start Time${"\ufffd#28\ufffd"}:START_TAG_SPAN:*${"\ufffd/#28\ufffd"}:CLOSE_TAG_SPAN:`,$=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#33\ufffd"}:START_TAG_SPAN:*${"\ufffd/#33\ufffd"}:CLOSE_TAG_SPAN:`,j=$localize`:␟62ab0c2bf8d16ce7baf2c8b1da2c561d99522256␟4158925728608139729:Favourites`,V=$localize`:␟ac378c0b437746af89a84b4909ab5b83c5ff55a3␟165958440274527719: Only show favourite spaces `,Q=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,ie=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[[1,"flex","items-center","border-b","border-gray-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["mat-icon-button","","close","",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],M,[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-gray-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],R,[1,"flex-1","min-w-[256px]","flex","flex-col"],["for","location"],w,["appearance","outline",1,"w-full"],["name","location",3,"ngModel","ngModelOptions","placeholder","multiple","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-1","min-w-[256px]"],["for","date"],F,["name","date","formControlName","date"],B,[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],H,["name","start-time",3,"ngModel","ngModelOptions","ngModelChange"],["for","end-time"],$,["name","end-time","formControlName","duration",3,"time","max"],["favs","",1,"space-y-2","pb-4"],j,[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],V,["name","fav",3,"ngModel","ngModelOptions","ngModelChange"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-gray-200",4,"ngIf"],["mat-icon-button","","close","",3,"click"],[3,"value"],["features","",1,"space-y-2"],Q,["class","flex items-center",4,"ngFor","ngForOf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModel","ngModelOptions","ngModelChange"],[1,"px-2","pt-2","w-full","border-t","border-gray-200"],["mat-button","","close","",1,"w-full",3,"click"],ie]},template:function(R,w){if(1&R&&(C.TgZ(0,"div",0)(1,"div",1),C.YNc(2,o,3,0,"button",2),C.qZA(),C.TgZ(3,"h3",3),C.SDv(4,4),C.qZA(),C._UZ(5,"div",5),C.qZA(),C.TgZ(6,"form",6)(7,"section",7)(8,"h2",8),C.SDv(9,9),C.qZA(),C.TgZ(10,"div",10)(11,"label",11),C.SDv(12,12),C.qZA(),C.TgZ(13,"mat-form-field",13)(14,"mat-select",14),C.NdJ("ngModelChange",function(B){return w.setOptions({zone_ids:B})}),C.ALo(15,"async"),C.YNc(16,S,2,3,"mat-option",15),C.ALo(17,"async"),C.qZA()()(),C.TgZ(18,"div",16)(19,"label",17),C.tHW(20,18),C._UZ(21,"span"),C.N_p(),C.qZA(),C.TgZ(22,"a-date-field",19),C.SDv(23,20),C.qZA()(),C.TgZ(24,"div",21)(25,"div",22)(26,"label",23),C.tHW(27,24),C._UZ(28,"span"),C.N_p(),C.qZA(),C.TgZ(29,"a-time-field",25),C.NdJ("ngModelChange",function(B){return w.form.patchValue({date:B})}),C.qZA()(),C.TgZ(30,"div",22)(31,"label",26),C.tHW(32,27),C._UZ(33,"span"),C.N_p(),C.qZA(),C._UZ(34,"a-duration-field",28),C.qZA()()(),C.TgZ(35,"section",29)(36,"h2",8),C.SDv(37,30),C.qZA(),C.TgZ(38,"div",31)(39,"div",32),C.SDv(40,33),C.qZA(),C.TgZ(41,"mat-checkbox",34),C.NdJ("ngModelChange",function(B){return w.setOptions({show_fav:B})}),C.ALo(42,"async"),C.qZA()()(),C.YNc(43,P,5,3,"section",35),C.ALo(44,"async"),C.qZA(),C.YNc(45,g,3,0,"div",36)),2&R){let F,B,H;C.xp6(2),C.Q6J("ngIf",w.can_close),C.xp6(4),C.Q6J("formGroup",w.form),C.xp6(8),C.Q6J("ngModel",null==(F=C.lcZ(15,15,w.options))?null:F.zone_ids)("ngModelOptions",C.DdM(23,I))("placeholder",(null==w.bld?null:w.bld.display_name)||(null==w.bld?null:w.bld.name))("multiple",!0),C.xp6(2),C.Q6J("ngForOf",C.lcZ(17,17,w.levels)),C.xp6(13),C.Q6J("ngModel",w.form.value.date)("ngModelOptions",C.DdM(24,I)),C.xp6(5),C.Q6J("time",null==w.form||null==w.form.value?null:w.form.value.date)("max",w.max_duration),C.xp6(7),C.Q6J("ngModel",null==(B=C.lcZ(42,19,w.options))?null:B.show_fav)("ngModelOptions",C.DdM(25,I)),C.xp6(2),C.Q6J("ngIf",null==(H=C.lcZ(44,21,w.features))?null:H.length),C.xp6(2),C.Q6J("ngIf",w.can_close)}},dependencies:[i.sg,i.O5,f._Y,f.JJ,f.JL,f.On,f.sg,f.u,_.v_,l.eB,m.FC,h.CK,d.Q,c.B,a.N,s.o,r.x8,i.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})},4688:(Je,K,t)=>{"use strict";t.d(K,{_:()=>a});var e=t(6353),n=t(3426),y=t(4850),T=t(2084),v=t(6895),O=t(9818),C=t(1343),E=t(5306);function i(s,r){1&s&&(e.TgZ(0,"div",22)(1,"app-icon"),e._uU(2,"done"),e.qZA()())}function f(s,r){if(1&s&&e._UZ(0,"img",23),2&s){const o=e.oxw().$implicit;e.Q6J("src",o.images[0],e.LSH)}}function _(s,r){1&s&&e._UZ(0,"img",24)}function l(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"li",10)(1,"button",11),e.NdJ("click",function(){const x=e.CHM(o).$implicit,P=e.oxw(3);return e.KtG(P.selectSpace(x))}),e.TgZ(2,"div",12),e.YNc(3,i,3,0,"div",13),e.YNc(4,f,1,1,"img",14),e.YNc(5,_,1,0,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(7,"div",16)(8,"div",17),e._uU(9),e.qZA(),e.TgZ(10,"div",18)(11,"app-icon",19),e._uU(12,"place"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA()(),e.TgZ(15,"div",18)(16,"app-icon",19),e._uU(17,"people"),e.qZA(),e.TgZ(18,"p"),e.SDv(19,20),e.qZA()()()(),e.TgZ(20,"button",21),e.NdJ("click",function(){const x=e.CHM(o).$implicit,P=e.oxw(3);return e.KtG(P.toggleFav.emit(x))}),e.TgZ(21,"app-icon"),e._uU(22),e.qZA()()()}if(2&s){const o=r.$implicit,S=e.MAs(6),I=e.oxw(3);e.ekj("!border-blue-400",I.active===o.id),e.xp6(3),e.Q6J("ngIf",I.selected.includes(o.id)),e.xp6(1),e.Q6J("ngIf",null==o.images?null:o.images.length)("ngIfElse",S),e.xp6(5),e.hij(" ",o.name||"Meeting Space"," "),e.xp6(5),e.hij(" ",o.location||(null==o.level?null:o.level.display_name)||(null==o.level?null:o.level.name)," "),e.xp6(5),e.pQV(o.capacity<1?2:o.capacity),e.QtT(19),e.xp6(1),e.ekj("text-blue-400",I.isFavourite(o.id)),e.xp6(2),e.Oqu(I.isFavourite(o.id)?"favorite":"favorite_border")}}function m(s,r){if(1&s&&(e.TgZ(0,"ul",8),e.YNc(1,l,23,11,"li",9),e.ALo(2,"async"),e.qZA()),2&s){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.assets))}}function h(s,r){if(1&s&&(e.ynx(0),e.YNc(1,m,3,3,"ul",7),e.ALo(2,"async"),e.BQk()),2&s){const o=e.oxw(),S=e.MAs(8);let I;e.xp6(1),e.Q6J("ngIf",null==(I=e.lcZ(2,2,o.assets))?null:I.length)("ngIfElse",S)}}function d(s,r){1&s&&(e.TgZ(0,"div",25)(1,"p",26),e.SDv(2,27),e.qZA()())}function c(s,r){1&s&&(e.TgZ(0,"div",28),e._UZ(1,"mat-spinner",29),e.TgZ(2,"p",30),e.SDv(3,31),e.qZA()()),2&s&&(e.xp6(1),e.Q6J("diameter",32))}class a{constructor(r){this._form=r,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.vpe,this.toggleFav=new e.vpe,this.assets=(0,n.aj)([this._form.options,this._form.available_assets]).pipe((0,y.U)(([{show_fav:o},S])=>S.filter(I=>!o||this.isFavourite(I.id)))),this.loading=this._form.loading}isFavourite(r){return this.favorites.includes(r)}selectSpace(r){this.onSelect.emit(r)}}a.\u0275fac=function(r){return new(r||a)(e.Y36(T.f))},a.\u0275cmp=e.Xpm({type:a,selectors:[["parking-space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:function(){let s,r,o,S,I;return s=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,r=$localize`:␟dd662afda8b27e3c6818b705321ddcc36bd571c0␟4264834071624535187: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,o=$localize`:␟08719ea79f574b595da7d187fda2fa8c491b5de7␟4552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,S=$localize`:␟027c29534f5dc45741b226edfebb3f7f578384b0␟3831747985282777621: No available spaces for selected time and/or filters `,I=$localize`:␟8dad32dda6491a1051df9156e98031c0e634b413␟126579492602011343:Finding available spaces...`,[[1,"font-bold"],s,["count","",1,"text-sm","opacity-60","mb-4"],r,[4,"ngIf","ngIfElse"],["empty_state",""],["load_state",""],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-white dark:bg-neutral-700 border-gray-200 dark:border-neutral-500",3,"!border-blue-400",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-white","dark:bg-neutral-700","border-gray-200","dark:border-neutral-500"],["matRipple","","select","",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-black/20","dark:bg-white/30","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["class","object-cover h-full",3,"src",4,"ngIf","ngIfElse"],["placeholder",""],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],o,["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-white","bg-black/50","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],[1,"object-cover","h-full",3,"src"],["src","assets/icons/car-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],S,["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],I]},template:function(r,o){if(1&r&&(e.TgZ(0,"h3",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"p",2),e.SDv(3,3),e.ALo(4,"async"),e.qZA(),e.YNc(5,h,3,4,"ng-container",4),e.ALo(6,"async"),e.YNc(7,d,3,0,"ng-template",null,5,e.W1O),e.YNc(9,c,4,1,"ng-template",null,6,e.W1O)),2&r){const S=e.MAs(10);let I;e.xp6(4),e.pQV((null==(I=e.lcZ(4,3,o.assets))?null:I.length)||0),e.QtT(3),e.xp6(1),e.Q6J("ngIf",!e.lcZ(6,5,o.loading))("ngIfElse",S)}},dependencies:[v.sg,v.O5,O.eB,C.sN,E.o,v.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})},5260:(Je,K,t)=>{"use strict";t.d(K,{s:()=>C});var e=t(6725),n=t(6353),y=t(6895),T=t(5306);function v(E,i){1&E&&n._UZ(0,"div",16)}function O(E,i){1&E&&(n.TgZ(0,"app-icon",17),n._uU(1," done "),n.qZA())}class C{constructor(i){this._data=i}get selected(){return!0===this._data.selected}}C.\u0275fac=function(i){return new(i||C)(n.Y36(e.ui))},C.\u0275cmp=n.Xpm({type:C,selectors:[["parking-space-location-pin"]],decls:17,vars:2,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","66","height","80","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","fill","#309251","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-white border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-white","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(i,f){1&i&&(n.TgZ(0,"div",0),n.O4$(),n.TgZ(1,"svg",1)(2,"g",2),n._UZ(3,"path",3),n.qZA(),n.TgZ(4,"defs")(5,"filter",4),n._UZ(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),n.qZA()()(),n.kcU(),n.TgZ(14,"div",13),n.YNc(15,v,1,0,"div",14),n.YNc(16,O,2,0,"app-icon",15),n.qZA()()),2&i&&(n.xp6(15),n.Q6J("ngIf",!f.selected),n.xp6(1),n.Q6J("ngIf",f.selected))},dependencies:[y.O5,T.o],encapsulation:2})},4468:(Je,K,t)=>{"use strict";t.d(K,{I:()=>a});var e=t(6353),n=t(8368),y=t(1299),T=t(4850),v=t(13),O=t(5260),C=t(6895),E=t(4006),i=t(8455),f=t(9818),_=t(4363),l=t(5306),m=t(9136),h=t(6289);function d(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"i-map",10),e.NdJ("zoomChange",function(I){e.CHM(o);const x=e.oxw();return e.KtG(x.zoom=I)})("centerChange",function(I){e.CHM(o);const x=e.oxw();return e.KtG(x.center=I)}),e.ALo(1,"async"),e.ALo(2,"async"),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("src",o.map_url)("features",e.lcZ(1,5,o.features))("actions",e.lcZ(2,7,o.actions))("zoom",o.zoom)("center",o.center)}}function c(s,r){if(1&s&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&s){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.display_name||o.name," ")}}class a extends n.KG{constructor(r){super(),this._event_form=r,this.selected=[],this.is_displayed=!1,this.onSelect=new e.vpe,this.zoom=1,this.center={x:.5,y:.5},this._seletedSpace=o=>()=>this.onSelect.emit(o),this.level=null,this.levels=this._event_form.available_spaces.pipe((0,T.U)(o=>(0,n.Tw)(o.map(({level:S})=>S)))),this.features=this._event_form.available_spaces.pipe((0,v.b)(1e3),(0,T.U)(o=>o.map(S=>({location:S.map_id,content:O.s,data:{...S,selected:this.selected.includes(S.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,T.U)(o=>o.map(S=>({id:S.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(S)}))))}get map_url(){return this.level?.map_id||""}ngOnInit(){this.subscription("spaces",this._event_form.available_spaces.subscribe(r=>{!this.level&&r.length&&(this.level=r[0].level)}))}setZoom(r){this.zoom=Math.max(.5,Math.min(10,r))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}}a.\u0275fac=function(r){return new(r||a)(e.Y36(y.MH))},a.\u0275cmp=e.Xpm({type:a,selectors:[["parking-space-map"]],inputs:{selected:"selected",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[e.qOj],decls:18,vars:5,consts:[[3,"src","features","actions","zoom","center","zoomChange","centerChange",4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-white","p-2","border-b","border-gray-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["zoom","",1,"absolute","bottom-2","right-2","rounded-lg","border","border-gray-200","bg-white","flex","flex-col","overflow-hidden"],["zoom-in","","mat-icon-button","",3,"click"],[1,"border-t","border-gray-200","w-full"],["zoom-out","","mat-icon-button","",3,"click"],["reset","","mat-icon-button","",3,"click"],[3,"src","features","actions","zoom","center","zoomChange","centerChange"],[3,"value"]],template:function(r,o){1&r&&(e.YNc(0,d,3,9,"i-map",0),e.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),e.NdJ("ngModelChange",function(I){return o.level=I}),e.YNc(4,c,2,2,"mat-option",4),e.ALo(5,"async"),e.qZA()()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return o.setZoom(1.1*o.zoom)}),e.TgZ(8,"app-icon"),e._uU(9,"zoom_in"),e.qZA()(),e._UZ(10,"div",7),e.TgZ(11,"button",8),e.NdJ("click",function(){return o.setZoom(o.zoom*(1/1.1))}),e.TgZ(12,"app-icon"),e._uU(13,"zoom_out"),e.qZA()(),e._UZ(14,"div",7),e.TgZ(15,"button",9),e.NdJ("click",function(){return o.resetMap()}),e.TgZ(16,"app-icon"),e._uU(17,"refresh"),e.qZA()()()),2&r&&(e.Q6J("ngIf",!o.is_displayed),e.xp6(3),e.Q6J("ngModel",o.level),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,3,o.levels)))},dependencies:[C.sg,C.O5,E.JJ,E.On,i.v_,f.eB,_.CK,l.o,m.p,h.x8,C.Ov],styles:["[_nghost-%COMP%]{position:relative;background:rgba(0,0,0,.05);padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})},7304:(Je,K,t)=>{"use strict";t.d(K,{B:()=>c,l:()=>a});var e=t(5559),n=t(8368),y=t(2084),T=t(6353),v=t(6895),O=t(9818),C=t(5306),E=t(647),i=t(5652),f=t(4688),_=t(4468),l=t(9727);function m(s,r){if(1&s){const o=T.EpF();T.TgZ(0,"parking-space-list",25),T.NdJ("toggleFav",function(I){T.CHM(o);const x=T.oxw();return T.KtG(x.toggleFavourite(I))})("onSelect",function(I){T.CHM(o);const x=T.oxw();return T.KtG(x.displayed=I)}),T.qZA()}if(2&s){const o=T.oxw();T.Q6J("active",null==o.displayed?null:o.displayed.id)("selected",o.selected_ids)("favorites",o.favorites)}}function h(s,r){if(1&s){const o=T.EpF();T.TgZ(0,"button",26),T.NdJ("click",function(){T.CHM(o);const I=T.oxw();return T.KtG(I.displayed=null)}),T.SDv(1,27),T.qZA()}}function d(s,r){if(1&s){const o=T.EpF();T.TgZ(0,"parking-space-map",28),T.NdJ("onSelect",function(I){T.CHM(o);const x=T.oxw();return T.KtG(x.displayed=I)}),T.qZA()}if(2&s){const o=T.oxw();T.Q6J("selected",o.selected_ids)("is_displayed",!!o.displayed)}}const c="favourite_parking_spaces";class a{constructor(r,o,S,I){this._dialog_ref=r,this._settings=o,this._event_form=S,this._data=I,this.selected=[],this.view="list",this.selected=[...I.spaces||[]],this._event_form.setOptions(I.options)}get selected_ids(){return this.selected.map(r=>r.id).join(",")}get favorites(){return this._settings.get(c)||[]}isSelected(r){return r&&this.selected_ids.includes(r)}setSelected(r,o){const S=this.selected.filter(I=>I.id!==r.id);o&&S.push(r),this.selected=S,!this._data.options.group&&o&&this._dialog_ref.close([r])}toggleFavourite(r){const o=this.favorites;o.includes(r.id)?this._settings.saveUserSetting(c,o.filter(I=>I!==r.id)):this._settings.saveUserSetting(c,[...o,r.id])}}a.\u0275fac=function(r){return new(r||a)(T.Y36(e.hV),T.Y36(n.gb),T.Y36(y.f),T.Y36(e.eJ))},a.\u0275cmp=T.Xpm({type:a,selectors:[["parking-space-select-modal"]],decls:34,vars:21,consts:function(){let s,r,o,S,I;return s=$localize`:␟8db1ccf77dfb75785bcf8e9090ad65ea6ab69884␟6275162452894389177:Find Parking Space`,r=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,o=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,S=$localize`:␟f5e618f8255889ca7743db771c50b6181b8eb362␟7685760017883569970: ${"\ufffd0\ufffd"}:INTERPOLATION: bay(s) added `,I=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[[1,"absolute","inset-0","sm:relative","sm:inset-none","flex","flex-col","bg-white","dark:bg-neutral-700"],[1,"flex","items-center","space-x-4","w-full"],["mat-icon-button","","mat-dialog-close","",1,"bg-black/20"],s,[1,"flex-1","flex","items-center","divide-x","divide-gray-200","dark:divide-neutral-500","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-gray-200","dark:border-neutral-500",3,"view","viewChange"],["class","flex-1 h-1/2 bg-black/5 dark:bg-white/10",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-white","dark:bg-neutral-600","block",3,"space","active","fav","activeChange","toggleFav","close"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["mat-button","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],r,[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","",1,"clear","text-primary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],o,[1,"opacity-60","text-sm"],S,["mat-button","",3,"disabled","click"],[1,"mr-1"],["map_view",""],[1,"flex-1","h-1/2","bg-black/5","dark:bg-white/10",3,"active","selected","favorites","toggleFav","onSelect"],["mat-button","","return","",1,"inverse","sm:hidden","w-full",3,"click"],I,[1,"flex-1","h-1/2","w-full",3,"selected","is_displayed","onSelect"]]},template:function(r,o){if(1&r&&(T.TgZ(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),T._uU(4,"close"),T.qZA()(),T.TgZ(5,"h3"),T.SDv(6,3),T.qZA()(),T.TgZ(7,"main",4),T._UZ(8,"parking-space-filters",5),T.TgZ(9,"div",6)(10,"parking-space-filters-display",7),T.NdJ("viewChange",function(I){return o.view=I}),T.qZA(),T.YNc(11,m,1,3,"parking-space-list",8),T.qZA(),T.TgZ(12,"parking-space-details",9),T.NdJ("activeChange",function(I){return o.setSelected(o.displayed,I)})("toggleFav",function(){return o.toggleFavourite(o.displayed)})("close",function(){return o.displayed=null}),T.qZA()(),T.TgZ(13,"footer",10),T.YNc(14,h,2,0,"button",11),T.TgZ(15,"button",12),T.SDv(16,13),T.qZA()(),T.TgZ(17,"footer",14)(18,"button",15)(19,"div",16)(20,"app-icon",17),T._uU(21,"arrow_back"),T.qZA(),T.TgZ(22,"div",18),T.SDv(23,19),T.qZA()()(),T.TgZ(24,"p",20),T.SDv(25,21),T.qZA(),T.TgZ(26,"button",22),T.NdJ("click",function(){return o.setSelected(o.displayed,!o.isSelected(null==o.displayed?null:o.displayed.id))}),T.TgZ(27,"div",16)(28,"app-icon",17),T._uU(29),T.qZA(),T.TgZ(30,"div",23),T._uU(31),T.qZA()()()()(),T.YNc(32,d,1,2,"ng-template",null,24,T.W1O)),2&r){const S=T.MAs(33);T.xp6(10),T.Q6J("view",o.view),T.xp6(1),T.Q6J("ngIf","list"===o.view)("ngIfElse",S),T.xp6(1),T.ekj("hidden",!o.displayed)("inset-0",o.displayed),T.Q6J("space",o.displayed)("active",o.selected_ids.includes(null==o.displayed?null:o.displayed.id))("fav",o.displayed&&o.favorites.includes(null==o.displayed?null:o.displayed.id)),T.xp6(2),T.Q6J("ngIf",o.displayed),T.xp6(1),T.ekj("mb-2",o.displayed),T.Q6J("mat-dialog-close",o.selected),T.xp6(3),T.Q6J("mat-dialog-close",o.selected),T.xp6(7),T.pQV(o.selected.length),T.QtT(25),T.xp6(1),T.ekj("inverse",o.isSelected(null==o.displayed?null:o.displayed.id)),T.Q6J("disabled",!o.displayed),T.xp6(3),T.Oqu(o.isSelected(null==o.displayed?null:o.displayed.id)?"remove":"add"),T.xp6(2),T.hij(" ",o.isSelected(null==o.displayed?null:o.displayed.id)?"Remove from Booking":"Add to booking"," ")}},dependencies:[v.O5,O.eB,e.aO,C.o,E.k,i.i,f._,_.I,l.J]})},1474:(Je,K,t)=>{"use strict";t.d(K,{h:()=>m});var e=t(6353),n=t(4006),y=t(719),T=t(7304),v=t(5559),O=t(6895),C=t(9818),E=t(5306);function i(h,d){if(1&h&&e._UZ(0,"img",23),2&h){const c=e.oxw().$implicit;e.Q6J("src",c.images[0],e.LSH)}}function f(h,d){1&h&&e._UZ(0,"img",24)}function _(h,d){if(1&h){const c=e.EpF();e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,i,1,1,"img",9),e.YNc(3,f,1,0,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(5,"div",11)(6,"div",12),e._uU(7),e.qZA(),e.TgZ(8,"div",13)(9,"app-icon",14),e._uU(10,"place"),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"div",13)(14,"app-icon",14),e._uU(15,"people"),e.qZA(),e.TgZ(16,"p"),e.SDv(17,15),e.qZA()(),e.TgZ(18,"div",16)(19,"button",17),e.NdJ("click",function(){const r=e.CHM(c).$implicit,o=e.oxw();return e.KtG(o.changeResources(r))}),e.TgZ(20,"div",18),e.tHW(21,19),e._UZ(22,"app-icon"),e.N_p(),e.qZA()(),e.TgZ(23,"button",20),e.NdJ("click",function(){const r=e.CHM(c).$implicit,o=e.oxw();return e.KtG(o.removeResource(r))}),e.TgZ(24,"div",18),e.tHW(25,21),e._UZ(26,"app-icon"),e.N_p(),e.qZA()()()(),e.TgZ(27,"button",22),e.NdJ("click",function(){e.CHM(c);const s=e.oxw();return e.KtG(s.toggleFavourite(s.asset))}),e.TgZ(28,"app-icon"),e._uU(29),e.qZA()()()}if(2&h){const c=d.$implicit,a=e.MAs(4),s=e.oxw();e.xp6(2),e.Q6J("ngIf",null==c.images?null:c.images.length)("ngIfElse",a),e.xp6(5),e.hij(" ",c.name||"Meeting Resource"," "),e.xp6(5),e.Oqu(c.location),e.xp6(5),e.pQV(c.capacity<1?2:c.capacity)(c.capacity),e.QtT(17),e.xp6(10),e.ekj("text-blue-400",s.favorites.includes(null==s.asset?null:s.asset.id)),e.xp6(2),e.Oqu(s.favorites.includes(null==s.asset?null:s.asset.id)?"favorite":"favorite_border")}}const l=[];class m{constructor(d,c){this._settings=d,this._dialog=c,this.room_size=3,this.spaces=[],this.disabled=!1,this.registerOnChange=a=>this._onChange=a,this.registerOnTouched=a=>this._onTouch=a,this.setDisabledState=a=>this.disabled=a}get favorites(){return this._settings.get("favourite_spaces")||l}changeResources(){this._dialog.open(T.l,{data:{spaces:this.spaces,options:{capacity:this.room_size}}}).afterClosed().subscribe(c=>{!c||this.setValue(c)})}removeResource(d){this.setValue(this.spaces.filter(c=>c.id!==d.id))}setValue(d){this.spaces=d,this._onChange&&this._onChange(this.spaces)}writeValue(d){this.spaces=d||[]}toggleFavourite(d){const c=this.favorites;c.includes(d.id)?this._settings.saveUserSetting(T.B,c.filter(s=>s!==d.id)):this._settings.saveUserSetting(T.B,[...c,d.id])}}m.\u0275fac=function(d){return new(d||m)(e.Y36(y.g),e.Y36(v.on))},m.\u0275cmp=e.Xpm({type:m,selectors:[["parking-space-list-field"]],features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>m),multi:!0}])],decls:10,vars:1,consts:function(){let h,d,c,a,s;return h=$localize`:␟45491a2ead2b592aec7b4d19300c0715230f334d␟1439078713747050312:Add Parking Resource`,d=$localize`:␟6cbafde89d13f6008a07c9f57f0574ade94fed3d␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,d=e.Zx4(d,{VAR_PLURAL:"\ufffd1\ufffd"}),c=$localize`:␟e1e4c2a0dba5f709fdad678e044a52d78609e215␟3638941587687955611: ${"\ufffd0\ufffd"}:INTERPOLATION: ${d}:ICU: `,a=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,s=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200",4,"ngFor","ngForOf"],["mat-button","","add-space","",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],h,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-gray-200"],[1,"w-24","h-24","rounded-xl","bg-black/20","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","object-cover h-full",3,"src",4,"ngIf","ngIfElse"],["placeholder",""],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],c,[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["mat-button","","edit-space","",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],a,["mat-button","","remove-space","",1,"clear",3,"click"],s,["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"object-cover","h-full",3,"src"],["src","assets/icons/car-placeholder.svg",1,"m-auto"]]},template:function(d,c){1&d&&(e.TgZ(0,"div",0),e.YNc(1,_,30,9,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return c.changeResources()}),e.TgZ(3,"div",3)(4,"app-icon"),e._uU(5,"search"),e.qZA(),e.TgZ(6,"span"),e.SDv(7,4),e.qZA()()(),e.TgZ(8,"div",5),e._UZ(9,"div",6),e.qZA()),2&d&&(e.xp6(1),e.Q6J("ngForOf",c.spaces))},dependencies:[O.sg,O.O5,C.eB,E.o]})},4603:(Je,K,t)=>{"use strict";t.d(K,{f:()=>y});var e=t(3494),n=t(656);class y{constructor(v={}){this.id=v.id||"",this.name=v.name||"",this.primary=!!v.primary,this.summary=v.summary||"",this.can_edit=!!v.can_edit,this.resource=new n.T(v.resource||v.system),this.availability=(v.availability||[]).map(({starts_at:O,ends_at:C,date:E,duration:i,status:f})=>({date:new Date(E,O).valueOf(),duration:i||(0,e.Z)(C,O),status:f})),this.hidden=!!v.hidden}}},6217:(Je,K,t)=>{"use strict";t.d(K,{mD:()=>f,tS:()=>_,v7:()=>E,yJ:()=>C});var e=t(4351),n=t(4850),y=t(8368),T=t(656),v=t(4603);const O="/api/staff/v1/calendars";function C(){return(0,e.U2M)(O).pipe((0,n.U)(l=>l.map(m=>new v.f(m))))}function E(l){const m=(0,y.UK)(l);return(0,e.U2M)(`${O}/availability${m?"?"+m:""}`).pipe((0,n.U)(h=>h.map(d=>new v.f(d))))}const i=l=>(0,n.U)(m=>m.filter(h=>!!h.resource).map(h=>new T.T({...h.resource,level:l?.levelWithID(h.resource.zones),availability:h.availability})).filter(h=>h.bookable));function f(l,m){return E(l).pipe(i(m))}function _(l,m){const h=(0,y.UK)(l);return(0,e.U2M)(`${O}/free_busy${h?"?"+h:""}`).pipe((0,n.U)(d=>d.map(c=>new v.f(c))),i(m))}},2962:(Je,K,t)=>{"use strict";t.d(K,{U:()=>e});class e{constructor(y={}){this.id=y.id||"",this.name=y.name||y.id||"",this.category=y.category||"",this.unit_price=y.unit_price||0,this.description=y.description||"",this.quantity=y.quantity||0,this.discount_cap=y.discount_cap||0,this.accept_points=!!y.accept_points,this.tags=y.tags||[],this.images=y.images||[],this.options=y.options||[],this.option_list=this.options.filter(T=>!0===T.active),console.log("Options:",this.name,this.options,this.option_list,this.options.filter(T=>!0===T.active)),this.hide_for_zones=y.hide_for_zones||[],this.unit_price_with_options=this.unit_price+this.option_list.map(T=>T.unit_price||0).reduce((T,v)=>T+v,0),this.total_cost=this.unit_price_with_options*this.quantity,this.options_string=this.options?.map(T=>T.id||"").sort((T,v)=>T.localeCompare(v)).join(",")||""}get custom_id(){const y=this.option_list.map(T=>T.id).join("+");return`${this.id}[${y}]`}}},5163:(Je,K,t)=>{"use strict";t.d(K,{G:()=>y});var e=t(8368),n=t(2962);class y{constructor(v={}){this.id=v.id||`order-${(0,e.Iy)(9999999,1e6)}`,this.system_id=v.system_id||"",this.event_id=v.event_id||v.event?.id||"",this.items=(v.items||[]).map(O=>new n.U(O)),this.item_count=this.items.reduce((O,C)=>O+C.quantity,0),this.total_cost=this.items.reduce((O,C)=>O+(C.total_cost||0),0),this.charge_code=v.charge_code||"",this.status=v.status||"accepted",this.invoice_number=v.invoice_number||"",this.event=v.event||null,this.notes=v.notes||"",this.deliver_at=v.deliver_at||v.date||this.event?.date||(new Date).getTime()}}},8368:(Je,K,t)=>{"use strict";t.d(K,{X7:()=>m,KG:()=>e.K,tm:()=>v.t,gb:()=>O.g,q4:()=>f.q,fm:()=>d.fm,n5:()=>d.n5,ar:()=>M.a,pN:()=>M.p,Sv:()=>d.Sv,xH:()=>d.xH,IO:()=>x,RD:()=>d.RD,cM:()=>d.cM,cB:()=>c.cB,QD:()=>c.QD,t5:()=>c.t5,Zd:()=>c.Zd,_5:()=>d._5,Iy:()=>d.Iy,DD:()=>d.DD,kW:()=>d.kW,SI:()=>c.SI,v8:()=>s,c_:()=>P,hI:()=>d.hI,MZ:()=>d.MZ,UK:()=>h.U,Tw:()=>d.Tw});var e=t(8939),n=t(6353),y=t(1481);class T{constructor(Q){var ie,ye,G,Me,Fe;this.title=Q,this.enabled=!0,this.app_name="GA_APP",this.timers={},window.ga||(ie=window,ye=document,G="script",ie.GoogleAnalyticsObject="ga",ie.ga=ie.ga||function(){(ie.ga.q=ie.ga.q||[]).push(arguments)},ie.ga.l=1*new Date,Me=ye.createElement(G),Fe=ye.getElementsByTagName(G)[0],Me.async=1,Me.src="https://www.google-analytics.com/analytics.js",Fe.parentNode.insertBefore(Me,Fe),console.log("Service","Injected Google Analytics into page")),this.service=window.ga}load(Q){if(!this.enabled)throw new Error("Google Analytics needs to be enabled before being initialised");if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");console.log("Service",`Setup with tracking ID: ${Q}`),this.service("create",Q,"auto"),this.service("send","pageview")}setUser(Q){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`user|${Q}`,()=>{console.log("Service",`Set user ID: ${Q}`),this.service("set","userId",Q),this.event("authentication","user-id available")},100)}event(Q,ie,ye,G){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`event|${Q}|${ie}|${ye}|${G}`,()=>{console.log("Service",`Event: ${Q}, ${ie}${ye?", "+ye:""}${G?", "+G:""}`),this.service("send","event",`${this.app_prefix?this.app_prefix+"_":""}${Q}`,ie,ye,G)},100)}screen(Q,ie){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");Q&&this.enabled&&this.timeout(`event|${Q}|${ie||this.app_name}`,()=>{console.log("Service",`Screen: ${Q}${ie?", "+ie:""}`),this.service("send","screenview",{appName:ie||this.app_name,screenName:Q})},100)}page(Q,ie=!1){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&(this.last_route=Q||"/",this.timeout(`page|${Q}`,()=>{console.log("Service",`Page: ${Q}`),this.service("send","pageview",`${ie?location.origin:""}${Q}`)},100))}timing(Q,ie,ye,G){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`page|${Q}|${ie}|${ye}|${G}`,()=>{console.log("Service",`Timing: ${Q}, ${ie}, ${ye}${G?", "+G:""}`),this.service("send","timing",Q,ie,ye,G)},100)}timeout(Q,ie,ye=300){this.timers[Q]&&(clearTimeout(this.timers[Q]),delete this.timers[Q]),this.timers[Q]=setTimeout(()=>{ie instanceof Function&&ie(),delete this.timers[Q]},ye)}}T.\u0275fac=function(Q){return new(Q||T)(n.LFG(y.Dx))},T.\u0275prov=n.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"});var v=t(8460),O=t(719),C=t(9671),E=t(4351);class i extends e.K{constructor(Q){super(),this._settings=Q,this.load()}load(){var Q=this;return(0,C.Z)(function*(){const ie=Q._settings.get("app.vorlon.system");if(ie){const ye=(0,E.rTZ)(ie,"Vorlon");if(ye){const G=ye.binding("enabled");Q.subscription("binding",G.bind()),Q.subscription("binding_value",G.listen().subscribe(_e=>{_e?Q.injectVorlonScript():Q.removeVorlonScript()}))}}})()}injectVorlonScript(){this.removeVorlonScript(),this._script=document.createElement("script");const Q=this._settings.get("app.vorlon.url");this._script.src=Q||"./assets/vorlon.js",document.head.appendChild(this._script)}removeVorlonScript(){this._script&&(this._script.parentNode.removeChild(this._script),delete this._script,this._script=null)}}i.\u0275fac=function(Q){return new(Q||i)(n.LFG(O.g))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"});var f=t(4209),_=t(7340);(0,_.X$)("show",[(0,_.eR)(":enter",[(0,_.oB)({opacity:0,height:0}),(0,_.jt)(300,(0,_.oB)({opacity:1,height:"*"}))]),(0,_.eR)(":leave",[(0,_.oB)({opacity:1,height:"*"}),(0,_.jt)(300,(0,_.oB)({opacity:0,height:0}))])]);const m=(0,_.X$)("show",[(0,_.SB)("show",(0,_.oB)({opacity:1,height:"*"})),(0,_.SB)("hide",(0,_.oB)({opacity:0,height:0,"pointer-events":"none"})),(0,_.eR)("show <=> hide",(0,_.jt)("200ms ease-in"))]);var h=t(5038),d=t(3245),c=t(8296);let a;function s(V,Q=3e5){V.isEnabled&&(a&&clearInterval(a),a=setInterval(()=>{(0,d.cM)("CACHE","Checking for updates..."),function o(V){S.apply(this,arguments)}(V)},Q))}function S(){return(S=(0,C.Z)(function*(V){if(V.isEnabled&&(yield V.checkForUpdate())){if((0,d.cM)("CACHE","Activating changes to the cache..."),!(yield V.activateUpdate()))return;(0,c.QD)("Newer version of the application is available","Refresh",()=>location.reload())}})).apply(this,arguments)}var I=t(6308);function x(V){let Q=V.pattern||"";return Q=Q.charAt(0).toUpperCase()+Q.slice(1),Q?`${Q} until ${(0,I.Z)(new Date(V.end),"do MMM yyyy")}`:"<No Recurrence>"}function P(V){return g.apply(this,arguments)}function g(){return(g=(0,C.Z)(function*(V){const Q=V.protocol||location.protocol,ie=V.domain||location.hostname,ye=V.port||location.port,G=V.use_domain?`${Q}//${ie}:${ye}`:location.origin,_e=(location.pathname+"/").replace("//","/"),Ie=V.mock||location.href.includes("mock=true")||"true"===localStorage.getItem("mock"),Me={auth_type:"auth_code",scope:"public",host:`${ie}${ye?":"+ye:""}`,auth_uri:`${G}/auth/oauth/authorize`,token_uri:`${G}/auth/oauth/token`,redirect_uri:`${location.origin}${_e}oauth-resp.html`,handle_login:!V.local_login,use_iframe:!0,mock:Ie};return localStorage&&localStorage.setItem("mock",`${!!Ie&&!location.href.includes("mock=false")}`),Ie&&(0,c.QD)("Application in mock mode."),(0,E.cYp)(Me)})).apply(this,arguments)}t(3215);var M=t(8928),R=t(7224),w=t(6221),F=t(6581);class H{constructor(Q,ie,ye){this._router=Q,this._settings=ie,this._org=ye}canActivate(){var Q=this;return(0,C.Z)(function*(){return Q.checkFeature()})()}canLoad(){var Q=this;return(0,C.Z)(function*(){return Q.checkFeature()})()}checkFeature(){var Q=this;return(0,C.Z)(function*(){yield Q._org.initialised.pipe((0,R.P)(G=>G)).toPromise(),yield Q._settings.initialised.pipe((0,R.P)(G=>G)).toPromise();const ye=!(Q._settings.get("app.disabled_features")||[]).find(G=>Q._router.url.includes(G));return ye||Q._router.navigate(["/"]),!!ye})()}}H.\u0275fac=function(Q){return new(Q||H)(n.LFG(F.F0),n.LFG(O.g),n.LFG(w.w7))},H.\u0275prov=n.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),t(1738),t(794)},5038:(Je,K,t)=>{"use strict";function e(n){let y="";if(n)for(const T in n)T in n&&null!=n[T]&&(y+=`${y?"&":""}${T}=${encodeURIComponent(n[T])}`);return y}t.d(K,{U:()=>e})},8939:(Je,K,t)=>{"use strict";t.d(K,{K:()=>T});var e=t(591),n=t(2654),y=t(6353);class T{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new e.X(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const O in this._timers)O in this._timers&&this.clearTimeout(O);for(const O in this._intervals)O in this._intervals&&this.clearInterval(O);for(const O in this._subscriptions)O in this._subscriptions&&this.unsub(O)}timeout(O,C,E=300){if(!(O&&C&&C instanceof Function))throw new Error(O?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(O),this._timers[O]=setTimeout(()=>{C(),delete this._timers[O]},E)}clearTimeout(O){this._timers[O]&&(clearTimeout(this._timers[O]),delete this._timers[O])}interval(O,C,E=300){if(!(O&&C&&C instanceof Function))throw new Error(O?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(O),this._intervals[O]=setInterval(()=>C(),E)}clearInterval(O){this._intervals[O]&&(clearInterval(this._intervals[O]),delete this._intervals[O])}subscription(O,C){this.unsub(O),this._subscriptions[O]=C}hasSubscription(O){return this._subscriptions[O]instanceof n.w||!!this._subscriptions[O]}unsub(O){O in this._subscriptions&&(this._subscriptions[O]instanceof n.w?this._subscriptions[O].unsubscribe():this._subscriptions[O]&&this._subscriptions[O](),delete this._subscriptions[O])}unsubWith(O){const C=Object.keys(this._subscriptions).filter(E=>E.includes(O));for(const E of C)this.unsub(E)}}T.\u0275fac=function(O){return new(O||T)},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})},9497:(Je,K,t)=>{"use strict";t.d(K,{KS:()=>E,T$:()=>i,Y$:()=>f});var e=t(6308),n=t(9756),y=t(5038),T=t(794),v=t(3245);function O(l){const m=(0,T.fC)(l,"UTC");return`${(0,e.Z)(m,"yyyyMMdd")}T${(0,e.Z)(m,"HHmmss")}Z`}function C(l){return`${(0,e.Z)(l,"yyyyMMdd")}`}function E(l){const m=[],h=_(`${l.body}`),d=_(`${l.location}`);m.push(["BEGIN","VCALENDAR"]),m.push(["VERSION","2.0"]),m.push(["BEGIN","VEVENT"]),m.push(["URL",`${l.meeting_url}`]),m.push(["DTSTART",`${new Date(l.date).toISOString()}`]),m.push(["DTEND",`${(0,n.Z)(l.date,l.duration??60).toISOString()}`]),m.push(["SUMMARY",`${l.title}`]),m.push(["DESCRIPTION",h]),m.push(["LOCATION",d]);const c=l.organiser?.name||l.host?.split("@")||l.user_name||"User";return m.push(["ORGANIZER",`CN=${c}:MAILTO:${l.host||l.user_email}`]),`data:text/calendar;charset=utf8,${m.map(([s,r])=>`${s}:${encodeURIComponent(r)}`).join("\n")}`}function i(l){const m=l.all_day?C:O,h={action:"TEMPLATE",text:l.title,details:l.body,location:l.location,trp:!1,dates:`${m(l.date)}/${m((0,n.Z)(l.date,l.duration??60))}`},d=(l.attendees||[]).map(a=>a.email||a),c=((l.resources?.length?l.resources:null)||[l.system]).map(a=>a?.email||a);return(d.length||c.length)&&(h.add=(0,v.Tw)([...d,...c]).join()),`https://calendar.google.com/calendar/render?${(0,y.U)(h)}`}function f(l,m="outlook"){l.date||(l.date=Date.now());const h={path:"/calendar/action/compose",rru:"addevent",startdt:new Date(l.date).toISOString(),enddt:(0,n.Z)(l.date,l.duration??60).toISOString(),subject:l.title,body:l.body,location:l.location,allday:l.all_day??!1},d=(l.attendees||[]).map(a=>a.email||a),c=((l.resources?.length?l.resources:null)||[l.system]).map(a=>a?.email||a);return(d.length||c.length)&&(h.to=(0,v.Tw)([...d,...c]).join()),"office"===m?`https://outlook.office.com/calendar/0/deeplink/compose?${(0,y.U)(h)}`:`https://outlook.live.com/calendar/0/deeplink/compose?${(0,y.U)(h)}`}function _(l){return l.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")}},3245:(Je,K,t)=>{"use strict";t.d(K,{DD:()=>F,Iy:()=>f,MZ:()=>S,RD:()=>w,Sv:()=>s,Tw:()=>i,Wn:()=>E,_5:()=>m,cM:()=>C,fm:()=>B,hI:()=>M,kW:()=>O,n5:()=>d,xH:()=>o});var e=t(9671),n=t(4006),y=t(7224),T=t(2401);let v="APP";function O(H){v=H}function C(H,$,j,V="debug",Q=!1,ie=v){if(!window.jest&&(window.debug||Q)){const ye=["color: #E91E63","color: #3F51B5","color: default"];j?console[V](`%c[${ie}]%c[${H}] %c${$}`,...ye,j):console[V](`%c[${ie}]%c[${H}] %c${$}`,...ye)}}function E(H,$){const j=H[0];return $&&j in $?H.length>1?E(H.slice(1),$[j]||{}):$[j]:null}function i(H=[],$=""){return H.filter((j,V,Q)=>Q.indexOf(Q.find($?ie=>ie[$]===j[$]:ie=>ie===j))===V)}function f(H,$=0){return Math.floor(Math.random()*(H-$))+$}function m(H,$){return h.apply(this,arguments)}function h(){return(h=(0,e.Z)(function*(H,$){const j=$.open(T.z,{...T.t,data:H});return{...yield Promise.race([j.componentInstance.event.pipe((0,y.P)(V=>"done"===V.reason)).toPromise(),j.afterClosed().toPromise()]),loading:V=>j.componentInstance.loading=V,close:()=>j.close()}})).apply(this,arguments)}function d(H,$=","){const j=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi");let V=null;const Q=[[]];for(;V=j.exec(H);)V[1].length&&","!==V[1]&&Q.push([]),Q[Q.length-1].push(V[2]?V[2].replace(new RegExp('""',"g"),'"'):V[3]);const ie=Q.splice(0,1)[0];return Q.map(G=>{const _e={};for(let Ie=0;Ie<G.length;Ie++){const Me=(ie[Ie]||"").split(" ").join("_").toLowerCase();try{_e[Me]=JSON.parse(G[Ie])}catch{_e[Me]=G[Ie]||""}("TRUE"===_e[Me]||"FALSE"===_e[Me])&&(_e[Me]="TRUE"===_e[Me])}return _e})}function s(H,$){const j=document.createElement("a");j.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent($)),j.setAttribute("download",H),j.style.display="none",document.body.appendChild(j),j.click(),document.body.removeChild(j)}function o(H){const $=[...H],j=[];for(;$.length;){const V=$.pop();Array.isArray(V)?$.push(...V):j.push(V)}return j.reverse()}function S(H,$,j,V){return H>=j&&H<V||$>j&&$<V||j>=H&&j<$||V>H&&V<=$}function M(){return function R(){const $=(new Date).toLocaleTimeString(document.querySelector("html").getAttribute("lang")||navigator.language).toLowerCase();return $.indexOf("am")<0&&$.indexOf("pm")<0}()?"HH:mm":"h:mm a"}function w(H,$=""){let j=[];for(const V in H.controls)H.controls[V]instanceof n.cw?j=[...j,...w(H.controls[V],`${V}.`)]:H.controls[V].valid||j.push(`${$}${V}`);return j}function F(H){for(const $ in H)(null==H[$]||""===H[$])&&delete H[$]}function B(H){return`${H[0].toUpperCase()}${H.substring(1)}`}!function g(H){let $=1779033703^H.length;for(let j=0;j<H.length;j++)$=Math.imul($^H.charCodeAt(j),3432918353),$=$<<13|$>>>19;return function(){return $=Math.imul($^$>>>16,2246822507),$=Math.imul($^$>>>13,3266489909),($^=$>>>16)>>>0}}("PlaceOS")()},8460:(Je,K,t)=>{"use strict";t.d(K,{t:()=>v});var e=t(591),n=t(3245),y=t(6353);const T=["control","shift","alt","meta","os"];class v{constructor(){this.keydown_states={},this.keydown_observers={},this.combo_end=[],this.registered_combos=[],this.counter=0,window.addEventListener("keydown",C=>{const E=this.mapKey((C.code||"").toLowerCase());this.last_down!==E&&(this.keydown_states[E]||(this.keydown_states[E]=new e.X(null),this.keydown_observers[E]=this.keydown_states[E].asObservable()),this.keydown_states[E].next(++this.counter),this.combo_end.indexOf(E)>=0&&C.preventDefault(),this.last_down=E)}),window.addEventListener("keyup",C=>{const E=this.mapKey((C.code||"").toLowerCase());this.keydown_states[E].next(null),this.last_down===E&&(this.last_down=null)})}listen(C,E){const i=(C=C instanceof Array?C:C.split("+")).map(f=>this.mapKey(f.toLowerCase()));if(i.length>0&&this.validCombination(i)){this.registered_combos.push(i);const f=i[i.length-1];return this.keydown_states[f]||(this.keydown_states[f]=new e.X(null),this.keydown_observers[f]=this.keydown_states[f].asObservable()),this.updateCombinationEndList(),this.keydown_observers[f].subscribe(_=>{if(_){const l=[];if(i.length>0){for(const h of i){const d=this.keydown_states[h];l.push(d&&d.getValue()||-1)}for(let h=0;h<i.length-1;h++)if(l[h]>l[h+1])return}l.reduce((h,d)=>h+(d>0?1:-1),0)>=i.length&&E()}})}return null}mapKey(C){return C.indexOf("alt")>=0||C.indexOf("shift")>=0||C.indexOf("control")>=0?C.replace("left","").replace("right",""):C}updateCombinationEndList(){for(const E of this.registered_combos)this.combo_end.push(E[E.length-1]);this.combo_end=(0,n.Tw)([])}validCombination(C){let E=0;for(const i of C)T.indexOf(i)<0&&E++;return E>0}}v.\u0275fac=function(C){return new(C||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})},8296:(Je,K,t)=>{"use strict";let e;function n(E){e=E}function y(E,i,f="OK",_,l={}){if(!e)return!window.jest&&console.warn("Snackbar service hasn't been initialised");const m=e.open(i,f,{panelClass:[E],duration:5e3,...l});f&&(_=_||(()=>m.dismiss()),m.onAction().subscribe(()=>_()))}function T(E,i,f,_={}){!window.jest&&console.debug(E),y("success",E,i,f,_)}function v(E,i,f,_={}){!window.jest&&console.error(E),y("error",E,i,f,_)}function O(E,i,f,_={}){!window.jest&&console.warn(E),y("warn",E,i,f,_)}function C(E,i,f,_={}){!window.jest&&console.info(E),y("info",E,i,f,_)}t.d(K,{QD:()=>C,SI:()=>n,Zd:()=>O,cB:()=>v,t5:()=>T})},1738:(Je,K,t)=>{"use strict";t.d(K,{V:()=>h});var e=t(4351),n=t(591),y=t(8929),T=t(3426),v=t(1086),O=t(5154),C=t(2198),E=t(7545),i=t(4850),f=t(8939),_=t(3245),l=t(6353);function m(d,c,a){var s=d[c];return d[c]=(...r)=>{a(r),s.call(d,...r)},s}class h extends f.K{constructor(){super(),this._system_id=new n.X(""),this._events=new y.xQ,this._event_history=this._events.pipe((0,O.d)(1e3)),this._logging_bindings=this._system_id.pipe((0,C.h)(c=>!!c),(0,E.w)(c=>(0,T.aj)([(0,v.of)(c),this._bindTo(c,"enabled")])),(0,C.h)(([c,a])=>!!a),(0,i.U)(([c])=>this.subscription("post_events",this._event_history.subscribe(a=>(0,e.rTZ)(c,"Logger").execute("post_event",[a]))))),this.history=this._event_history,this._patchConsoleMethods(),this._logging_bindings.subscribe()}setSystem(c){this._system_id.next(c)}_patchConsoleMethods(){const c=["log","debug","info","warn","error"];for(const a of c)m(console,a,(...s)=>this._handleEvent(a,s))}_handleEvent(c,a,s="console"){a[0]="string"==typeof a[0]?a[0].replace(/%c/g,""):a[0],this._events.next({id:`${s}-${(0,_.Iy)(9999999999)}`,type:s,subtype:c,timestamp:Date.now(),data:a.filter(r=>"string"!=typeof r||!r.startsWith("color:"))})}_bindTo(c,a,s="Logger"){const r=(0,e.rTZ)(c,s).binding(a);return this.subscription(`bind:${a}`,r.bind()),r.listen()}}h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})},719:(Je,K,t)=>{"use strict";t.d(K,{g:()=>d});var e=t(9671),n=t(591),y=t(4351),T=t(2641),v=t(6308),O=t(7224),C=t(3245),E=t(3215),i=t(8939),f=t(4209),_=t(8928),l=t(8368),m=t(6353),h=t(1481);class d extends i.K{constructor(a){super(),this._title=a,this._app_name="PlaceOS",this._overrides=new n.X([]),this._user_settings=new n.X({}),this._subjects={},this._observables={},this._pending_settings={};const s=new Date,r=new Date(f.q.time),o=(0,T.Z)(s,r)?`Today at ${(0,v.Z)(r,"h:mma")}`:(0,v.Z)(r,"do MMM yyyy, h:mma");(0,C.cM)("CORE",`${f.q.semver}`,null,"debug",!0),(0,C.cM)("APP",`${f.q.hash} | Built: ${o}`,null,"debug",!0),this.init()}set overrides(a){this._overrides.next(a),this._applyCssVariables()}listen(a){return this._observables[a]||(this._subjects[a]=new n.X(null),this._observables[a]=this._subjects[a].asObservable()),this._observables[a]}post(a,s){this._observables[a]||(this._subjects[a]=new n.X(null),this._observables[a]=this._subjects[a].asObservable()),this._subjects[a].next(s)}value(a){return this._observables[a]?this._subjects[a].getValue():null}get title(){return this._title.getTitle()}set title(a){this._title.setTitle(`${a} | ${this.get("app.name")||this._app_name}`)}init(){var a=this;return(0,e.Z)(function*(){a._setDarkMode(),a.get("debug")&&(window.debug=!0),a.get("app")?.name&&(a._app_name=a.get("app").name),a._app_name=location.pathname.replace(/[\\\/]/g,"").trim()||a._app_name,(0,C.kW)(a._app_name.split("-").join("_").toUpperCase()),(0,C.cM)("Settings","Successfully loaded settings"),a._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.settings=a),a.subscription("user_settings",a._user_settings.subscribe(o=>a._applyUserSettings(o)));const s=yield l.pN.pipe((0,O.P)(o=>!!o)).toPromise(),r=yield(0,y.rlq)(s.id,"settings").toPromise();a._user_settings.next(r.details||{}),a._setDarkMode(),a._setFontSize()})()}get app_name(){return this._app_name}get(a){const s=a.split(".");if("app"!==s[0])return(0,C.Wn)(s,this._pending_settings)??(0,C.Wn)(s,this._user_settings.getValue())??(0,C.Wn)(s,E.Z);const r=[...this._overrides.getValue()];for(const o of r){const S=(0,C.Wn)(s.slice(1),o);if(null!=S)return S}return(0,C.Wn)(s,E.Z)}saveUserSetting(a,s){this._pending_settings[a]=s,"dark_mode"===a&&this._setDarkMode(),"font_size"===a&&this._setFontSize(),this.timeout("save_settings",()=>this._savePendingChanges(),5e3)}_applyCssVariables(){const a=this.get("app.css_variables")||{};let s="body { ";for(const o in a)s+=`--${o}: ${a[o]}; `;s+="}";let r=document.getElementById("css-var-overrides");r||(r=document.createElement("style"),r.id="css-var-overrides",document.head.appendChild(r)),r.innerText=s}_savePendingChanges(){var a=this;return(0,e.Z)(function*(){const s=(0,_.a)();!s?.id||!Object.keys(a._pending_settings).length||(yield(0,y.Ymr)(s.id,{name:"settings",description:"",details:{...a._user_settings.getValue(),...a._pending_settings}}).toPromise(),a._user_settings.next({...a._user_settings.getValue(),...a._pending_settings}),a._pending_settings={})})()}_applyUserSettings(a){return(0,e.Z)(function*(){})()}_setFontSize(){this.get("font_size")&&(document.body.parentElement.style.fontSize=`${this.get("font_size")}px`,document.body.style.fontSize=`${this.get("font_size")}px`)}_setDarkMode(){this.get("dark_mode")?document.body.classList.add("dark"):document.body.classList.remove("dark")}}d.\u0275fac=function(a){return new(a||d)(m.LFG(h.Dx))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},3215:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>i});const i={debug:!0,composer:{domain:"",route:"/staff",protocol:"",port:"",use_domain:!1,local_login:!1},app:{name:"Workplace",title:"Workplace Application",description:"PlaceOS Workplace UI written with Angular Framework",short_name:"STAFF",logo_light:{type:"img",src:"assets/logo-light.svg"},logo_dark:{type:"img",src:"assets/logo-dark.svg"},locales:[{id:"en",name:"English",flag:"\u{1f1e6}\u{1f1fa}"},{id:"fr",name:"French",flag:"\u{1f1eb}\u{1f1f7}"}],features:["spaces","desks","explore","parking","help","schedule","wfh","payments"],currency:"",default_route:"/landing",use_geolocation:!1,new_features:!0,can_deliver:!0,no_user_calendar:!1,no_maps:!0,general:{banner:{id:"2",type:"info",content:""},search:!0,copyright:"PlaceOS",position:"right",dark_mode:!0},help:{tiles:[{name:"About PlaceOS",link:"https://place.technology/resources",icon:{type:"icon",class:"material-icons",content:"dns"},background:"https://static1.squarespace.com/static/52142586e4b0c09536a144ad/5c8ed203a4222fa1927bbab3/5cb7cba66e9a7f63584b4d39/1555549341622/too-many-buttons.jpg?format=2500w"},{name:"General Enquiries",link:"mailto:equiries@place.technology?subject=Staff%20App%20Demo",icon:{type:"icon",class:"material-icons",content:"mail"},background:"assets/img/it-banner.jpg"},{name:"Contact PlaceOS",link:"https://place.technology/contact-1",icon:{type:"icon",class:"material-icons",content:"call"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569984759306-M6ZOKD64OG009U68MYUL/ke17ZwdGBToddI8pDm48kCX-V5vw-8h9IBXN10-_8XN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0p4Wyba38KfG317vYluk45_zZdtnDCZTLKcP2mivxmYi50xvY5saIGKMgOza9mH4XA/image-asset.jpeg?format=2500w"},{name:"About Us",link:"https://place.technology/",icon:{type:"icon",class:"material-icons",content:"business"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569985184499-QF839PTJ2EV30KIZF59X/ke17ZwdGBToddI8pDm48kLkXF2pIyv_F2eUT9F60jBl7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0iyqMbMesKd95J-X4EagrgU9L3Sa3U8cogeb0tjXbfawd0urKshkc5MgdBeJmALQKw/image-asset.jpeg?format=2500w"}],columns:2},events:{multiple_spaces:!1,desk_start:9,breakdown:15,can_book_for_others:!1,has_catering:!0,has_assets:!1,catering_enabled:"bld-01",allow_all_day:!0,hide_notes:!1,hide_attendees:!1,features_label:"",features_on_form:!1,booking_unavailable:!1,allow_externals:!0},space_display:{show_images:!1},directory:{show_avatars:!0,min_search_length:3},explore:{colors:{"space-free":"#43a047","space-pending":"#ffb300","space-busy":"#e53935","space-not-bookable":"#ccc","space-unknown":"#000","zone-low":"#43a047","zone-medium":"#ffb300","zone-high":"#e53935"},can_select_building:!0,show_legend_group_names:!0,show_legend:!0,legend:[["Available","#43a047"],["In Use","#e53935"],["Pending","#ffb300"],["Signs of Life","#1565c0"]]},bookings:{no_approval:!1},booking:{allowed_daily_visitor_count:100},desks:{can_book_lockers:!0,can_book_for_others:!0,allow_groups:!0,auto_allocation:!1,show_calendar_links:!0,hide_map:!1},analytics:{enabled:!0,tracking_id:""},hide_contacts:!1,schedule:{use_websocket:!0,legend:[{name:"Accepted",color:"#21A453"},{name:"Pending",color:"#ffbf1f"},{name:"Rejected",color:"#f44336"}]}}}},794:(Je,K,t)=>{"use strict";t.d(K,{fC:()=>v});var e=t(1201),n=t(298);const T=Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone||"Australia/Sydney";function v(C,E=T){const i=(0,n.getTimezoneOffset)(E)-(0,n.getTimezoneOffset)(T);return(0,e.Z)(C,i).valueOf()}},8928:(Je,K,t)=>{"use strict";t.d(K,{a:()=>m,p:()=>l});var e=t(4351),n=t(591),y=t(8583),T=t(3489);class O{constructor(d,c){this.count=d,this.source=c}call(d,c){return c.subscribe(new C(d,this.count,this.source))}}class C extends T.L{constructor(d,c,a){super(d),this.count=c,this.source=a}error(d){if(!this.isStopped){const{source:c,count:a}=this;if(0===a)return super.error(d);a>-1&&(this.count=a-1),c.subscribe(this._unsubscribeAndRecycle())}}}var E=t(4850),i=t(5197);const f=new i.mO,_=new n.X(null),l=_.asObservable();function m(){return _.getValue()||f}setTimeout(()=>{try{if(jest)return}catch{}(0,e.q$s)("current").pipe((0,y.g)(1e3),function v(h=-1){return d=>d.lift(new O(h,d))}(10),(0,E.U)(h=>new i.mO(h))).subscribe(h=>_.next(h))},300)},4209:(Je,K,t)=>{"use strict";t.d(K,{q:()=>e});const e={dirty:!0,raw:"v1.12.0-267-gabb8a5233-dirty",hash:"gabb8a5233",distance:267,tag:"v1.12.0",semver:{options:{loose:!1,includePrerelease:!1},loose:!1,raw:"v1.12.0",major:1,minor:12,patch:0,prerelease:[],build:[],version:"1.12.0"},suffix:"267-gabb8a5233-dirty",semverString:"1.12.0+267.gabb8a5233",version:"1.12.0",time:1671692108857}},6725:(Je,K,t)=>{"use strict";t.d(K,{mk:()=>Ie,nI:()=>Q.n,Kk:()=>e.K,LE:()=>M.L,ui:()=>S.u,p6:()=>$.p,qL:()=>I.q,A2:()=>P,et:()=>V.e,JD:()=>r});var e=t(4693),O=(t(1637),t(3352),t(2401),t(5306),t(9671)),C=t(4006),E=t(8368),i=t(7224),f=t(6353);const _=["pass_field"];function l(Me,Fe){if(1&Me&&(f.TgZ(0,"i"),f._uU(1),f.qZA()),2&Me){const Ve=f.oxw();f.Tol(Ve.logo.class),f.xp6(1),f.hij(" ",Ve.logo.content," ")}}function m(Me,Fe){if(1&Me&&(f._UZ(0,"img",9),f.ALo(1,"safe")),2&Me){const Ve=f.oxw();f.Q6J("src",f.xi3(1,1,Ve.logo.src,"resource"),f.LSH)}}function h(Me,Fe){if(1&Me){const Ve=f.EpF();f.ynx(0),f.TgZ(1,"div",10)(2,"label",11),f._uU(3," Username "),f.qZA(),f.TgZ(4,"mat-form-field",12)(5,"input",13,14),f.NdJ("keyup.enter",function(){f.CHM(Ve);const xe=f.oxw();return f.KtG(xe.toPassword())}),f.qZA()()(),f.TgZ(7,"div",10)(8,"label",15),f._uU(9,"Password"),f.qZA(),f.TgZ(10,"mat-form-field",12)(11,"input",16,17),f.NdJ("keyup.enter",function(){f.CHM(Ve);const xe=f.oxw();return f.KtG(xe.login())}),f.qZA(),f.TgZ(13,"mat-error"),f._uU(14,"Invalid username or password"),f.qZA()()(),f.BQk()}if(2&Me){const Ve=f.MAs(6),Pe=f.oxw();f.xp6(2),f.ekj("focused",Ve||"username"===Pe.focus)("in-focus","username"===Pe.focus)}}function d(Me,Fe){if(1&Me){const Ve=f.EpF();f.TgZ(0,"div",18)(1,"button",19),f.NdJ("click",function(){f.CHM(Ve);const xe=f.oxw();return f.KtG(xe.login())}),f._uU(2," Login "),f.qZA()()}}function c(Me,Fe){1&Me&&(f.TgZ(0,"div",20),f._UZ(1,"mat-spinner",21),f.TgZ(2,"p"),f._uU(3,"Checking user credentials..."),f.qZA()())}class a{constructor(Fe){this._settings=Fe,this.form=new C.cw({username:new C.NI("",[C.kI.required]),password:new C.NI("",[C.kI.required])})}get logo(){return this._settings.get("app.logo_dark")||{type:"icon"}}ngOnInit(){var Fe=this;return(0,O.Z)(function*(){Fe.loading=!0,yield Fe._settings.initialised.pipe((0,i.P)(Ve=>Ve)).toPromise(),Fe.loading=!1})()}toPassword(){this.pwd_field&&this.pwd_field.nativeElement&&this.pwd_field.nativeElement.focus()}login(){this.loading=!0,this.form.setErrors({password:"Invalid username or password"})}}a.\u0275fac=function(Fe){return new(Fe||a)(f.Y36(E.gb))},a.\u0275cmp=f.Xpm({type:a,selectors:[["app-login"]],viewQuery:function(Fe,Ve){if(1&Fe&&f.Gf(_,7),2&Fe){let Pe;f.iGM(Pe=f.CRH())&&(Ve.pwd_field=Pe.first)}},decls:10,vars:7,consts:[[1,"fixed","inset-0","overflow-auto"],[1,"flex","flex-col","items-center","overflow-hidden","mx-auto","my-4","bg-white","rounded","shadow","p-4"],[1,"flex","items-center","justify-center"],[3,"class",4,"ngIf"],[3,"src",4,"ngIf"],[1,"w-full","relative","h-1/3","flex-1"],[4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full",4,"ngIf"],["loading_state",""],[3,"src"],[1,"flex","flex-col"],["for","username"],["appearance","outline"],["formControlName","username",3,"keyup.enter"],["username",""],["for","password"],["formControlName","password",3,"keyup.enter"],["pass_field",""],[1,"flex","items-center","justify-center","w-full"],["mat-button","","color","primary",3,"click"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","64"]],template:function(Fe,Ve){if(1&Fe&&(f.TgZ(0,"div",0)(1,"form",1)(2,"div",2),f.YNc(3,l,2,3,"i",3),f.YNc(4,m,2,4,"img",4),f.qZA(),f.TgZ(5,"div",5),f.YNc(6,h,15,4,"ng-container",6),f.qZA(),f.YNc(7,d,3,0,"div",7),f.qZA()(),f.YNc(8,c,4,0,"ng-template",null,8,f.W1O)),2&Fe){const Pe=f.MAs(9);f.xp6(2),f.Udp("background-color",null==Ve.logo?null:Ve.logo.background),f.xp6(1),f.Q6J("ngIf","icon"===(null==Ve.logo?null:Ve.logo.type)),f.xp6(1),f.Q6J("ngIf","img"===(null==Ve.logo?null:Ve.logo.type)),f.xp6(2),f.Q6J("ngIf",!Ve.loading)("ngIfElse",Pe),f.xp6(1),f.Q6J("ngIf",!Ve.loading)}},styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{background-color:#f0f0f0;background-image:url(\"data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0-2c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zm33.414-6l5.95-5.95L45.95.636 40 6.586 34.05.636 32.636 2.05 38.586 8l-5.95 5.95 1.414 1.414L40 9.414l5.95 5.95 1.414-1.414L41.414 8zM40 48c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0-2c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zM9.414 40l5.95-5.95-1.414-1.414L8 38.586l-5.95-5.95L.636 34.05 6.586 40l-5.95 5.95 1.414 1.414L8 41.414l5.95 5.95 1.414-1.414L9.414 40z' fill='%23ad1457' fill-opacity='0.2' fill-rule='evenodd'/%3E%3C/svg%3E\")}form[_ngcontent-%COMP%]{width:20rem;max-width:calc(100vw - 2rem)}img[_ngcontent-%COMP%]{max-height:3.75rem;max-width:15rem}"]}),t(9067);class r{}r.\u0275fac=function(Fe){return new(Fe||r)},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-unauthorised"]],decls:9,vars:0,consts:function(){let Me,Fe,Ve;return Me=$localize`:␟56a20d819b6e59b0de025988a3f9ed7d6a1bc08c␟4136336337692896315:Access forbidden.`,Fe=$localize`:␟7afe2eb69e486929c5a29d67e6f24975f97604c4␟8887025903012875176: You do not have permission to view this page and your access attempt has been recorded. `,Ve=$localize`:␟1520ecc736c82366b62d64a515b1c3b222c9e1df␟1824441478452454363: Contact your Administrator if you feel that you should have access. `,[[1,"unauthorised","rounded","m-4","text-center","bg-white","text-black","border","border-gray-400","p-4","shadow"],[1,"text-4xl"],[1,"text-2xl"],Me,[1,"py-4"],Fe,Ve]},template:function(Fe,Ve){1&Fe&&(f.TgZ(0,"div",0)(1,"h1",1),f._uU(2,"403"),f.qZA(),f.TgZ(3,"h3",2),f.SDv(4,3),f.qZA(),f.TgZ(5,"p",4),f.SDv(6,5),f.qZA(),f.TgZ(7,"p"),f.SDv(8,6),f.qZA()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.unauthorised[_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){.unauthorised[_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]}),t(9685);var S=t(9136),I=t(4702);t(3159);class P{}P.\u0275fac=function(Fe){return new(Fe||P)},P.\u0275cmp=f.Xpm({type:P,selectors:[["app-misconfigured"]],decls:7,vars:0,consts:function(){let Me,Fe,Ve;return Me=$localize`:@@forbiddenLabel␟182e7b1880a89160c510e11db17c3137d00fed03␟6873959187081594674: Application Misconfigured. `,Fe=$localize`:@@invalidPermissionLabel␟8ae6c247ea026216ce78c84ad733caad125e7429␟8256914760043331527: This application requires a zone of type org, building and level to operate. `,Ve=$localize`:@@contactAdminLabel␟511dd82ef95cf509a8d011fa1191ee690b27114c␟5752634679579289146: If this issue persists please contact your administrator. `,[["content","",1,"rounded","m-4","text-center","bg-white","text-black","border","border-gray-400","p-4","shadow"],[1,"text-2xl"],Me,[1,"py-4"],Fe,Ve]},template:function(Fe,Ve){1&Fe&&(f.TgZ(0,"div",0)(1,"h3",1),f.SDv(2,2),f.qZA(),f.TgZ(3,"p",3),f.SDv(4,4),f.qZA(),f.TgZ(5,"p"),f.SDv(6,5),f.qZA()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}[content][_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){[content][_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]}),t(9823),t(5302);var M=t(3970),$=(t(9649),t(158),t(7202),t(4618),t(6790),t(8261)),V=(t(2581),t(4071)),Q=t(8298),ie=t(4351),ye=t(6581);class G{constructor(Fe){this._router=Fe}canActivate(Fe,Ve){var Pe=this;return(0,O.Z)(function*(){return Pe.checkUser()})()}canLoad(Fe,Ve){var Pe=this;return(0,O.Z)(function*(){return Pe.checkUser()})()}checkUser(){var Fe=this;return(0,O.Z)(function*(){yield(0,ie.ttN)().pipe((0,i.P)(xe=>xe)).toPromise();const Ve=yield E.pN.pipe((0,i.P)(xe=>!!xe)).toPromise(),Pe=Ve&&Ve.groups.includes("placeos_admin");return Pe||Fe._router.navigate(["/unauthorised"]),Pe})()}}G.\u0275fac=function(Fe){return new(Fe||G)(f.LFG(ye.F0))},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"});class _e{}class Ie{constructor(Fe,Ve){this._router=Fe,this._access=Ve}canActivate(Fe,Ve){var Pe=this;return(0,O.Z)(function*(){return Pe.checkUser()})()}canLoad(Fe,Ve){var Pe=this;return(0,O.Z)(function*(){return Pe.checkUser()})()}checkUser(){var Fe=this;return(0,O.Z)(function*(){yield(0,ie.ttN)().pipe((0,i.P)(xe=>xe)).toPromise();const Ve=yield E.pN.pipe((0,i.P)(xe=>!!xe)).toPromise(),Pe=!(!Ve||Fe._access?.group&&!Ve.groups.includes(Fe._access.group));return Pe||Fe._router.navigate(["/unauthorised"]),!!Pe})()}}Ie.\u0275fac=function(Fe){return new(Fe||Ie)(f.LFG(ye.F0),f.LFG(_e,8))},Ie.\u0275prov=f.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})},1637:(Je,K,t)=>{"use strict";t.d(K,{m:()=>i});var e=t(6353),n=t(6895),y=t(9818),T=t(1343),v=t(5306);function O(f,_){if(1&f&&(e.TgZ(0,"div")(1,"app-icon"),e._uU(2),e.qZA()()),2&f){const l=e.oxw();e.Tol("state center "+l.state),e.xp6(2),e.hij(" ","success"===l.state?"done":"close"," ")}}function C(f,_){1&f&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner",5),e.qZA()),2&f&&(e.xp6(1),e.Q6J("diameter",16))}class i{constructor(){this.className="material-icons",this.state=""}}i.\u0275fac=function(_){return new(_||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["action-icon"]],inputs:{icon:"icon",className:"className",content:"content",loading:"loading",disabled:"disabled",state:"state"},ngContentSelectors:["*"],decls:6,vars:8,consts:[["mat-icon-button","","title","",1,"relative","flex","items-center","justify-center","h-8","w-8",3,"disabled"],["root","",3,"className","icon"],[3,"class",4,"ngIf"],["class","loader center",4,"ngIf"],[1,"loader","center"],[3,"diameter"]],template:function(_,l){1&_&&(e.F$t(),e.TgZ(0,"button",0)(1,"app-icon",1),e._uU(2),e.Hsn(3),e.qZA(),e.YNc(4,O,3,3,"div",2),e.YNc(5,C,2,1,"div",3),e.qZA()),2&_&&(e.ekj("success","success"===l.state),e.Q6J("disabled",l.loading||l.disabled),e.xp6(1),e.Q6J("className",l.className)("icon",l.icon),e.xp6(1),e.hij(" ",l.content," "),e.xp6(2),e.Q6J("ngIf",!l.loading&&l.state),e.xp6(1),e.Q6J("ngIf",l.loading))},dependencies:[n.O5,y.eB,T.sN,v.o],styles:[".action-icon.fade[_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{opacity:.35}[center][_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.success[_ngcontent-%COMP%]{pointer-events:none}.success[_ngcontent-%COMP%]   app-icon[root][_ngcontent-%COMP%]{opacity:.2}.state.success[_ngcontent-%COMP%]{color:#388e3c}.state.error[_ngcontent-%COMP%]{color:#e53935}"]})},3352:(Je,K,t)=>{"use strict";t.d(K,{D:()=>O});var e=t(6353),n=t(4351),y=t(8368),T=t(7224),v=t(2198);class O extends y.KG{constructor(E,i){super(),this._element=E,this._renderer=i,this.sys="",this.mod="",this.index=1,this.bind="",this.exec="",this.on_event="",this.params=[],this.model=null,this.modelChange=new e.vpe,this._binding=!1}ngOnInit(){(0,n.ttN)()?.pipe((0,T.P)(E=>E)).subscribe(E=>this.bindVariable())}ngOnChanges(E){(E.sys||E.mod||E.bind)&&this.bindVariable(),E.model&&E.model.previousValue!==this.model&&null!=this.model&&this.execute(),E.on_event&&this.on_event&&this.subscription("on_event",this._renderer.listen(this._element.nativeElement,this.on_event,()=>this.execute()))}bindVariable(){(0,n.N9E)()&&this.bind&&this.sys&&this.mod&&!this._binding&&this.timeout("bind",()=>{const i=(0,n.rTZ)(this.sys,this.mod,this.index).binding(this.bind);this._binding=!0,this.subscription("binding",i.bind()),this.subscription("on_changes",i.listen().pipe((0,v.h)(f=>null!=f)).subscribe(f=>{setTimeout(()=>{this._binding=!1,this.clearTimeout("bound"),this.model=f,this.modelChange.emit(this.model)},10)})),this.timeout("bound",()=>this._binding=!1,200)},20)}execute(){if((0,n.N9E)()&&this.exec&&this.sys&&this.mod){const E=(0,n.rTZ)(this.sys,this.mod,this.index);this.bind&&(this.params=this.params||[this.model]),E.execute(this.exec,this.params).then(i=>{this.bind||(this.model=i,this.modelChange.emit(this.model))})}}writeValue(E){this.model=E,this.modelChange.emit(this.model),this.execute()}}O.\u0275fac=function(E){return new(E||O)(e.Y36(e.SBq),e.Y36(e.Qsj))},O.\u0275dir=e.lG2({type:O,selectors:[["i","bind",""],["","binding",""],["co-bind"]],inputs:{sys:"sys",mod:"mod",index:"index",bind:"bind",exec:"exec",on_event:["onEvent","on_event"],params:"params",model:"model"},outputs:{modelChange:"modelChange"},features:[e.qOj,e.TTD]})},8298:(Je,K,t)=>{"use strict";t.d(K,{n:()=>me});var e=t(5559);let y={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const v=/[&<>"']/,O=new RegExp(v.source,"g"),C=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,E=new RegExp(C.source,"g"),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=fe=>i[fe];function _(fe,Z){if(Z){if(v.test(fe))return fe.replace(O,f)}else if(C.test(fe))return fe.replace(E,f);return fe}const l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function m(fe){return fe.replace(l,(Z,ee)=>"colon"===(ee=ee.toLowerCase())?":":"#"===ee.charAt(0)?"x"===ee.charAt(1)?String.fromCharCode(parseInt(ee.substring(2),16)):String.fromCharCode(+ee.substring(1)):"")}const h=/(^|[^\[])\^/g;function d(fe,Z){fe="string"==typeof fe?fe:fe.source,Z=Z||"";const ee={replace:(ue,Ce)=>(Ce=(Ce=Ce.source||Ce).replace(h,"$1"),fe=fe.replace(ue,Ce),ee),getRegex:()=>new RegExp(fe,Z)};return ee}const c=/[^\w:]/g,a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function s(fe,Z,ee){if(fe){let ue;try{ue=decodeURIComponent(m(ee)).replace(c,"").toLowerCase()}catch{return null}if(0===ue.indexOf("javascript:")||0===ue.indexOf("vbscript:")||0===ue.indexOf("data:"))return null}Z&&!a.test(ee)&&(ee=function x(fe,Z){r[" "+fe]||(r[" "+fe]=o.test(fe)?fe+"/":M(fe,"/",!0));const ee=-1===(fe=r[" "+fe]).indexOf(":");return"//"===Z.substring(0,2)?ee?Z:fe.replace(S,"$1")+Z:"/"===Z.charAt(0)?ee?Z:fe.replace(I,"$1")+Z:fe+Z}(Z,ee));try{ee=encodeURI(ee).replace(/%25/g,"%")}catch{return null}return ee}const r={},o=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,I=/^([^:]+:\/*[^/]*)[\s\S]*$/,P={exec:function(){}};function g(fe){let ee,ue,Z=1;for(;Z<arguments.length;Z++)for(ue in ee=arguments[Z],ee)Object.prototype.hasOwnProperty.call(ee,ue)&&(fe[ue]=ee[ue]);return fe}function u(fe,Z){const ue=fe.replace(/\|/g,(pt,Ze,ft)=>{let Dt=!1,At=Ze;for(;--At>=0&&"\\"===ft[At];)Dt=!Dt;return Dt?"|":" |"}).split(/ \|/);let Ce=0;if(ue[0].trim()||ue.shift(),ue.length>0&&!ue[ue.length-1].trim()&&ue.pop(),ue.length>Z)ue.splice(Z);else for(;ue.length<Z;)ue.push("");for(;Ce<ue.length;Ce++)ue[Ce]=ue[Ce].trim().replace(/\\\|/g,"|");return ue}function M(fe,Z,ee){const ue=fe.length;if(0===ue)return"";let Ce=0;for(;Ce<ue;){const pt=fe.charAt(ue-Ce-1);if(pt!==Z||ee){if(pt===Z||!ee)break;Ce++}else Ce++}return fe.slice(0,ue-Ce)}function w(fe){fe&&fe.sanitize&&!fe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function F(fe,Z){if(Z<1)return"";let ee="";for(;Z>1;)1&Z&&(ee+=fe),Z>>=1,fe+=fe;return ee+fe}function B(fe,Z,ee,ue){const Ce=Z.href,pt=Z.title?_(Z.title):null,Ze=fe[1].replace(/\\([\[\]])/g,"$1");if("!"!==fe[0].charAt(0)){ue.state.inLink=!0;const ft={type:"link",raw:ee,href:Ce,title:pt,text:Ze,tokens:ue.inlineTokens(Ze)};return ue.state.inLink=!1,ft}return{type:"image",raw:ee,href:Ce,title:pt,text:_(Ze)}}class ${constructor(Z){this.options=Z||y}space(Z){const ee=this.rules.block.newline.exec(Z);if(ee&&ee[0].length>0)return{type:"space",raw:ee[0]}}code(Z){const ee=this.rules.block.code.exec(Z);if(ee){const ue=ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ee[0],codeBlockStyle:"indented",text:this.options.pedantic?ue:M(ue,"\n")}}}fences(Z){const ee=this.rules.block.fences.exec(Z);if(ee){const ue=ee[0],Ce=function H(fe,Z){const ee=fe.match(/^(\s+)(?:```)/);if(null===ee)return Z;const ue=ee[1];return Z.split("\n").map(Ce=>{const pt=Ce.match(/^\s+/);if(null===pt)return Ce;const[Ze]=pt;return Ze.length>=ue.length?Ce.slice(ue.length):Ce}).join("\n")}(ue,ee[3]||"");return{type:"code",raw:ue,lang:ee[2]?ee[2].trim().replace(this.rules.inline._escapes,"$1"):ee[2],text:Ce}}}heading(Z){const ee=this.rules.block.heading.exec(Z);if(ee){let ue=ee[2].trim();if(/#$/.test(ue)){const Ce=M(ue,"#");(this.options.pedantic||!Ce||/ $/.test(Ce))&&(ue=Ce.trim())}return{type:"heading",raw:ee[0],depth:ee[1].length,text:ue,tokens:this.lexer.inline(ue)}}}hr(Z){const ee=this.rules.block.hr.exec(Z);if(ee)return{type:"hr",raw:ee[0]}}blockquote(Z){const ee=this.rules.block.blockquote.exec(Z);if(ee){const ue=ee[0].replace(/^ *>[ \t]?/gm,""),Ce=this.lexer.state.top;this.lexer.state.top=!0;const pt=this.lexer.blockTokens(ue);return this.lexer.state.top=Ce,{type:"blockquote",raw:ee[0],tokens:pt,text:ue}}}list(Z){let ee=this.rules.block.list.exec(Z);if(ee){let ue,Ce,pt,Ze,ft,Dt,At,Wt,Et,nt,ct,Xe,Ke=ee[1].trim();const rt=Ke.length>1,le={type:"list",raw:"",ordered:rt,start:rt?+Ke.slice(0,-1):"",loose:!1,items:[]};Ke=rt?`\\d{1,9}\\${Ke.slice(-1)}`:`\\${Ke}`,this.options.pedantic&&(Ke=rt?Ke:"[*+-]");const te=new RegExp(`^( {0,3}${Ke})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;Z&&(Xe=!1,(ee=te.exec(Z))&&!this.rules.block.hr.test(Z));){if(ue=ee[0],Z=Z.substring(ue.length),Wt=ee[2].split("\n",1)[0],Et=Z.split("\n",1)[0],this.options.pedantic?(Ze=2,ct=Wt.trimLeft()):(Ze=ee[2].search(/[^ ]/),Ze=Ze>4?1:Ze,ct=Wt.slice(Ze),Ze+=ee[1].length),Dt=!1,!Wt&&/^ *$/.test(Et)&&(ue+=Et+"\n",Z=Z.substring(Et.length+1),Xe=!0),!Xe){const ne=new RegExp(`^ {0,${Math.min(3,Ze-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),$e=new RegExp(`^ {0,${Math.min(3,Ze-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Qe=new RegExp(`^ {0,${Math.min(3,Ze-1)}}(?:\`\`\`|~~~)`),Tt=new RegExp(`^ {0,${Math.min(3,Ze-1)}}#`);for(;Z&&(nt=Z.split("\n",1)[0],Wt=nt,this.options.pedantic&&(Wt=Wt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Qe.test(Wt)||Tt.test(Wt)||ne.test(Wt)||$e.test(Z)));){if(Wt.search(/[^ ]/)>=Ze||!Wt.trim())ct+="\n"+Wt.slice(Ze);else{if(Dt)break;ct+="\n"+Wt}!Dt&&!Wt.trim()&&(Dt=!0),ue+=nt+"\n",Z=Z.substring(nt.length+1)}}le.loose||(At?le.loose=!0:/\n *\n *$/.test(ue)&&(At=!0)),this.options.gfm&&(Ce=/^\[[ xX]\] /.exec(ct),Ce&&(pt="[ ] "!==Ce[0],ct=ct.replace(/^\[[ xX]\] +/,""))),le.items.push({type:"list_item",raw:ue,task:!!Ce,checked:pt,loose:!1,text:ct}),le.raw+=ue}le.items[le.items.length-1].raw=ue.trimRight(),le.items[le.items.length-1].text=ct.trimRight(),le.raw=le.raw.trimRight();const J=le.items.length;for(ft=0;ft<J;ft++)if(this.lexer.state.top=!1,le.items[ft].tokens=this.lexer.blockTokens(le.items[ft].text,[]),!le.loose){const ne=le.items[ft].tokens.filter(Qe=>"space"===Qe.type),$e=ne.length>0&&ne.some(Qe=>/\n.*\n/.test(Qe.raw));le.loose=$e}if(le.loose)for(ft=0;ft<J;ft++)le.items[ft].loose=!0;return le}}html(Z){const ee=this.rules.block.html.exec(Z);if(ee){const ue={type:"html",raw:ee[0],pre:!this.options.sanitizer&&("pre"===ee[1]||"script"===ee[1]||"style"===ee[1]),text:ee[0]};if(this.options.sanitize){const Ce=this.options.sanitizer?this.options.sanitizer(ee[0]):_(ee[0]);ue.type="paragraph",ue.text=Ce,ue.tokens=this.lexer.inline(Ce)}return ue}}def(Z){const ee=this.rules.block.def.exec(Z);if(ee){const ue=ee[1].toLowerCase().replace(/\s+/g," "),Ce=ee[2]?ee[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",pt=ee[3]?ee[3].substring(1,ee[3].length-1).replace(this.rules.inline._escapes,"$1"):ee[3];return{type:"def",tag:ue,raw:ee[0],href:Ce,title:pt}}}table(Z){const ee=this.rules.block.table.exec(Z);if(ee){const ue={type:"table",header:u(ee[1]).map(Ce=>({text:Ce})),align:ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ee[3]&&ee[3].trim()?ee[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(ue.header.length===ue.align.length){ue.raw=ee[0];let pt,Ze,ft,Dt,Ce=ue.align.length;for(pt=0;pt<Ce;pt++)ue.align[pt]=/^ *-+: *$/.test(ue.align[pt])?"right":/^ *:-+: *$/.test(ue.align[pt])?"center":/^ *:-+ *$/.test(ue.align[pt])?"left":null;for(Ce=ue.rows.length,pt=0;pt<Ce;pt++)ue.rows[pt]=u(ue.rows[pt],ue.header.length).map(At=>({text:At}));for(Ce=ue.header.length,Ze=0;Ze<Ce;Ze++)ue.header[Ze].tokens=this.lexer.inline(ue.header[Ze].text);for(Ce=ue.rows.length,Ze=0;Ze<Ce;Ze++)for(Dt=ue.rows[Ze],ft=0;ft<Dt.length;ft++)Dt[ft].tokens=this.lexer.inline(Dt[ft].text);return ue}}}lheading(Z){const ee=this.rules.block.lheading.exec(Z);if(ee)return{type:"heading",raw:ee[0],depth:"="===ee[2].charAt(0)?1:2,text:ee[1],tokens:this.lexer.inline(ee[1])}}paragraph(Z){const ee=this.rules.block.paragraph.exec(Z);if(ee){const ue="\n"===ee[1].charAt(ee[1].length-1)?ee[1].slice(0,-1):ee[1];return{type:"paragraph",raw:ee[0],text:ue,tokens:this.lexer.inline(ue)}}}text(Z){const ee=this.rules.block.text.exec(Z);if(ee)return{type:"text",raw:ee[0],text:ee[0],tokens:this.lexer.inline(ee[0])}}escape(Z){const ee=this.rules.inline.escape.exec(Z);if(ee)return{type:"escape",raw:ee[0],text:_(ee[1])}}tag(Z){const ee=this.rules.inline.tag.exec(Z);if(ee)return!this.lexer.state.inLink&&/^<a /i.test(ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):_(ee[0]):ee[0]}}link(Z){const ee=this.rules.inline.link.exec(Z);if(ee){const ue=ee[2].trim();if(!this.options.pedantic&&/^</.test(ue)){if(!/>$/.test(ue))return;const Ze=M(ue.slice(0,-1),"\\");if((ue.length-Ze.length)%2==0)return}else{const Ze=function R(fe,Z){if(-1===fe.indexOf(Z[1]))return-1;const ee=fe.length;let ue=0,Ce=0;for(;Ce<ee;Ce++)if("\\"===fe[Ce])Ce++;else if(fe[Ce]===Z[0])ue++;else if(fe[Ce]===Z[1]&&(ue--,ue<0))return Ce;return-1}(ee[2],"()");if(Ze>-1){const Dt=(0===ee[0].indexOf("!")?5:4)+ee[1].length+Ze;ee[2]=ee[2].substring(0,Ze),ee[0]=ee[0].substring(0,Dt).trim(),ee[3]=""}}let Ce=ee[2],pt="";if(this.options.pedantic){const Ze=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ce);Ze&&(Ce=Ze[1],pt=Ze[3])}else pt=ee[3]?ee[3].slice(1,-1):"";return Ce=Ce.trim(),/^</.test(Ce)&&(Ce=this.options.pedantic&&!/>$/.test(ue)?Ce.slice(1):Ce.slice(1,-1)),B(ee,{href:Ce&&Ce.replace(this.rules.inline._escapes,"$1"),title:pt&&pt.replace(this.rules.inline._escapes,"$1")},ee[0],this.lexer)}}reflink(Z,ee){let ue;if((ue=this.rules.inline.reflink.exec(Z))||(ue=this.rules.inline.nolink.exec(Z))){let Ce=(ue[2]||ue[1]).replace(/\s+/g," ");if(Ce=ee[Ce.toLowerCase()],!Ce){const pt=ue[0].charAt(0);return{type:"text",raw:pt,text:pt}}return B(ue,Ce,ue[0],this.lexer)}}emStrong(Z,ee,ue=""){let Ce=this.rules.inline.emStrong.lDelim.exec(Z);if(!Ce||Ce[3]&&ue.match(/[\p{L}\p{N}]/u))return;const pt=Ce[1]||Ce[2]||"";if(!pt||pt&&(""===ue||this.rules.inline.punctuation.exec(ue))){const Ze=Ce[0].length-1;let ft,Dt,At=Ze,Wt=0;const Et="*"===Ce[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Et.lastIndex=0,ee=ee.slice(-1*Z.length+Ze);null!=(Ce=Et.exec(ee));){if(ft=Ce[1]||Ce[2]||Ce[3]||Ce[4]||Ce[5]||Ce[6],!ft)continue;if(Dt=ft.length,Ce[3]||Ce[4]){At+=Dt;continue}if((Ce[5]||Ce[6])&&Ze%3&&!((Ze+Dt)%3)){Wt+=Dt;continue}if(At-=Dt,At>0)continue;Dt=Math.min(Dt,Dt+At+Wt);const nt=Z.slice(0,Ze+Ce.index+(Ce[0].length-ft.length)+Dt);if(Math.min(Ze,Dt)%2){const Xe=nt.slice(1,-1);return{type:"em",raw:nt,text:Xe,tokens:this.lexer.inlineTokens(Xe)}}const ct=nt.slice(2,-2);return{type:"strong",raw:nt,text:ct,tokens:this.lexer.inlineTokens(ct)}}}}codespan(Z){const ee=this.rules.inline.code.exec(Z);if(ee){let ue=ee[2].replace(/\n/g," ");const Ce=/[^ ]/.test(ue),pt=/^ /.test(ue)&&/ $/.test(ue);return Ce&&pt&&(ue=ue.substring(1,ue.length-1)),ue=_(ue,!0),{type:"codespan",raw:ee[0],text:ue}}}br(Z){const ee=this.rules.inline.br.exec(Z);if(ee)return{type:"br",raw:ee[0]}}del(Z){const ee=this.rules.inline.del.exec(Z);if(ee)return{type:"del",raw:ee[0],text:ee[2],tokens:this.lexer.inlineTokens(ee[2])}}autolink(Z,ee){const ue=this.rules.inline.autolink.exec(Z);if(ue){let Ce,pt;return"@"===ue[2]?(Ce=_(this.options.mangle?ee(ue[1]):ue[1]),pt="mailto:"+Ce):(Ce=_(ue[1]),pt=Ce),{type:"link",raw:ue[0],text:Ce,href:pt,tokens:[{type:"text",raw:Ce,text:Ce}]}}}url(Z,ee){let ue;if(ue=this.rules.inline.url.exec(Z)){let Ce,pt;if("@"===ue[2])Ce=_(this.options.mangle?ee(ue[0]):ue[0]),pt="mailto:"+Ce;else{let Ze;do{Ze=ue[0],ue[0]=this.rules.inline._backpedal.exec(ue[0])[0]}while(Ze!==ue[0]);Ce=_(ue[0]),pt="www."===ue[1]?"http://"+ue[0]:ue[0]}return{type:"link",raw:ue[0],text:Ce,href:pt,tokens:[{type:"text",raw:Ce,text:Ce}]}}}inlineText(Z,ee){const ue=this.rules.inline.text.exec(Z);if(ue){let Ce;return Ce=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ue[0]):_(ue[0]):ue[0]:_(this.options.smartypants?ee(ue[0]):ue[0]),{type:"text",raw:ue[0],text:Ce}}}}const j={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:P,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};j.def=d(j.def).replace("label",j._label).replace("title",j._title).getRegex(),j.bullet=/(?:[*+-]|\d{1,9}[.)])/,j.listItemStart=d(/^( *)(bull) */).replace("bull",j.bullet).getRegex(),j.list=d(j.list).replace(/bull/g,j.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+j.def.source+")").getRegex(),j._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,j.html=d(j.html,"i").replace("comment",j._comment).replace("tag",j._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),j.paragraph=d(j._paragraph).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j._tag).getRegex(),j.blockquote=d(j.blockquote).replace("paragraph",j.paragraph).getRegex(),j.normal=g({},j),j.gfm=g({},j.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),j.gfm.table=d(j.gfm.table).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j._tag).getRegex(),j.gfm.paragraph=d(j._paragraph).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",j.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j._tag).getRegex(),j.pedantic=g({},j.normal,{html:d("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",j._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:P,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:d(j.normal._paragraph).replace("hr",j.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",j.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const V={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:P,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:P,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Q(fe){return fe.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ie(fe){let ee,ue,Z="";const Ce=fe.length;for(ee=0;ee<Ce;ee++)ue=fe.charCodeAt(ee),Math.random()>.5&&(ue="x"+ue.toString(16)),Z+="&#"+ue+";";return Z}V._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",V.punctuation=d(V.punctuation).replace(/punctuation/g,V._punctuation).getRegex(),V.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,V.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,V._comment=d(j._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),V.emStrong.lDelim=d(V.emStrong.lDelim).replace(/punct/g,V._punctuation).getRegex(),V.emStrong.rDelimAst=d(V.emStrong.rDelimAst,"g").replace(/punct/g,V._punctuation).getRegex(),V.emStrong.rDelimUnd=d(V.emStrong.rDelimUnd,"g").replace(/punct/g,V._punctuation).getRegex(),V._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,V._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,V._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,V.autolink=d(V.autolink).replace("scheme",V._scheme).replace("email",V._email).getRegex(),V._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,V.tag=d(V.tag).replace("comment",V._comment).replace("attribute",V._attribute).getRegex(),V._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,V._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,V._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,V.link=d(V.link).replace("label",V._label).replace("href",V._href).replace("title",V._title).getRegex(),V.reflink=d(V.reflink).replace("label",V._label).replace("ref",j._label).getRegex(),V.nolink=d(V.nolink).replace("ref",j._label).getRegex(),V.reflinkSearch=d(V.reflinkSearch,"g").replace("reflink",V.reflink).replace("nolink",V.nolink).getRegex(),V.normal=g({},V),V.pedantic=g({},V.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",V._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",V._label).getRegex()}),V.gfm=g({},V.normal,{escape:d(V.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),V.gfm.url=d(V.gfm.url,"i").replace("email",V.gfm._extended_email).getRegex(),V.breaks=g({},V.gfm,{br:d(V.br).replace("{2,}","*").getRegex(),text:d(V.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ye{constructor(Z){this.tokens=[],this.tokens.links=Object.create(null),this.options=Z||y,this.options.tokenizer=this.options.tokenizer||new $,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ee={block:j.normal,inline:V.normal};this.options.pedantic?(ee.block=j.pedantic,ee.inline=V.pedantic):this.options.gfm&&(ee.block=j.gfm,ee.inline=this.options.breaks?V.breaks:V.gfm),this.tokenizer.rules=ee}static get rules(){return{block:j,inline:V}}static lex(Z,ee){return new ye(ee).lex(Z)}static lexInline(Z,ee){return new ye(ee).inlineTokens(Z)}lex(Z){let ee;for(Z=Z.replace(/\r\n|\r/g,"\n"),this.blockTokens(Z,this.tokens);ee=this.inlineQueue.shift();)this.inlineTokens(ee.src,ee.tokens);return this.tokens}blockTokens(Z,ee=[]){let ue,Ce,pt,Ze;for(Z=this.options.pedantic?Z.replace(/\t/g,"    ").replace(/^ +$/gm,""):Z.replace(/^( *)(\t+)/gm,(ft,Dt,At)=>Dt+"    ".repeat(At.length));Z;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ft=>!!(ue=ft.call({lexer:this},Z,ee))&&(Z=Z.substring(ue.raw.length),ee.push(ue),!0)))){if(ue=this.tokenizer.space(Z)){Z=Z.substring(ue.raw.length),1===ue.raw.length&&ee.length>0?ee[ee.length-1].raw+="\n":ee.push(ue);continue}if(ue=this.tokenizer.code(Z)){Z=Z.substring(ue.raw.length),Ce=ee[ee.length-1],!Ce||"paragraph"!==Ce.type&&"text"!==Ce.type?ee.push(ue):(Ce.raw+="\n"+ue.raw,Ce.text+="\n"+ue.text,this.inlineQueue[this.inlineQueue.length-1].src=Ce.text);continue}if(ue=this.tokenizer.fences(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.heading(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.hr(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.blockquote(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.list(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.html(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.def(Z)){Z=Z.substring(ue.raw.length),Ce=ee[ee.length-1],!Ce||"paragraph"!==Ce.type&&"text"!==Ce.type?this.tokens.links[ue.tag]||(this.tokens.links[ue.tag]={href:ue.href,title:ue.title}):(Ce.raw+="\n"+ue.raw,Ce.text+="\n"+ue.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ce.text);continue}if(ue=this.tokenizer.table(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.lheading(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(pt=Z,this.options.extensions&&this.options.extensions.startBlock){let ft=1/0;const Dt=Z.slice(1);let At;this.options.extensions.startBlock.forEach(function(Wt){At=Wt.call({lexer:this},Dt),"number"==typeof At&&At>=0&&(ft=Math.min(ft,At))}),ft<1/0&&ft>=0&&(pt=Z.substring(0,ft+1))}if(this.state.top&&(ue=this.tokenizer.paragraph(pt))){Ce=ee[ee.length-1],Ze&&"paragraph"===Ce.type?(Ce.raw+="\n"+ue.raw,Ce.text+="\n"+ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ce.text):ee.push(ue),Ze=pt.length!==Z.length,Z=Z.substring(ue.raw.length);continue}if(ue=this.tokenizer.text(Z)){Z=Z.substring(ue.raw.length),Ce=ee[ee.length-1],Ce&&"text"===Ce.type?(Ce.raw+="\n"+ue.raw,Ce.text+="\n"+ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ce.text):ee.push(ue);continue}if(Z){const ft="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(ft);break}throw new Error(ft)}}return this.state.top=!0,ee}inline(Z,ee=[]){return this.inlineQueue.push({src:Z,tokens:ee}),ee}inlineTokens(Z,ee=[]){let ue,Ce,pt,ft,Dt,At,Ze=Z;if(this.tokens.links){const Wt=Object.keys(this.tokens.links);if(Wt.length>0)for(;null!=(ft=this.tokenizer.rules.inline.reflinkSearch.exec(Ze));)Wt.includes(ft[0].slice(ft[0].lastIndexOf("[")+1,-1))&&(Ze=Ze.slice(0,ft.index)+"["+F("a",ft[0].length-2)+"]"+Ze.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(ft=this.tokenizer.rules.inline.blockSkip.exec(Ze));)Ze=Ze.slice(0,ft.index)+"["+F("a",ft[0].length-2)+"]"+Ze.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(ft=this.tokenizer.rules.inline.escapedEmSt.exec(Ze));)Ze=Ze.slice(0,ft.index+ft[0].length-2)+"++"+Ze.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Z;)if(Dt||(At=""),Dt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Wt=>!!(ue=Wt.call({lexer:this},Z,ee))&&(Z=Z.substring(ue.raw.length),ee.push(ue),!0)))){if(ue=this.tokenizer.escape(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.tag(Z)){Z=Z.substring(ue.raw.length),Ce=ee[ee.length-1],Ce&&"text"===ue.type&&"text"===Ce.type?(Ce.raw+=ue.raw,Ce.text+=ue.text):ee.push(ue);continue}if(ue=this.tokenizer.link(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.reflink(Z,this.tokens.links)){Z=Z.substring(ue.raw.length),Ce=ee[ee.length-1],Ce&&"text"===ue.type&&"text"===Ce.type?(Ce.raw+=ue.raw,Ce.text+=ue.text):ee.push(ue);continue}if(ue=this.tokenizer.emStrong(Z,Ze,At)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.codespan(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.br(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.del(Z)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(ue=this.tokenizer.autolink(Z,ie)){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(!this.state.inLink&&(ue=this.tokenizer.url(Z,ie))){Z=Z.substring(ue.raw.length),ee.push(ue);continue}if(pt=Z,this.options.extensions&&this.options.extensions.startInline){let Wt=1/0;const Et=Z.slice(1);let nt;this.options.extensions.startInline.forEach(function(ct){nt=ct.call({lexer:this},Et),"number"==typeof nt&&nt>=0&&(Wt=Math.min(Wt,nt))}),Wt<1/0&&Wt>=0&&(pt=Z.substring(0,Wt+1))}if(ue=this.tokenizer.inlineText(pt,Q)){Z=Z.substring(ue.raw.length),"_"!==ue.raw.slice(-1)&&(At=ue.raw.slice(-1)),Dt=!0,Ce=ee[ee.length-1],Ce&&"text"===Ce.type?(Ce.raw+=ue.raw,Ce.text+=ue.text):ee.push(ue);continue}if(Z){const Wt="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(Wt);break}throw new Error(Wt)}}return ee}}class G{constructor(Z){this.options=Z||y}code(Z,ee,ue){const Ce=(ee||"").match(/\S*/)[0];if(this.options.highlight){const pt=this.options.highlight(Z,Ce);null!=pt&&pt!==Z&&(ue=!0,Z=pt)}return Z=Z.replace(/\n$/,"")+"\n",Ce?'<pre><code class="'+this.options.langPrefix+_(Ce)+'">'+(ue?Z:_(Z,!0))+"</code></pre>\n":"<pre><code>"+(ue?Z:_(Z,!0))+"</code></pre>\n"}blockquote(Z){return`<blockquote>\n${Z}</blockquote>\n`}html(Z){return Z}heading(Z,ee,ue,Ce){return this.options.headerIds?`<h${ee} id="${this.options.headerPrefix+Ce.slug(ue)}">${Z}</h${ee}>\n`:`<h${ee}>${Z}</h${ee}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(Z,ee,ue){const Ce=ee?"ol":"ul";return"<"+Ce+(ee&&1!==ue?' start="'+ue+'"':"")+">\n"+Z+"</"+Ce+">\n"}listitem(Z){return`<li>${Z}</li>\n`}checkbox(Z){return"<input "+(Z?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(Z){return`<p>${Z}</p>\n`}table(Z,ee){return ee&&(ee=`<tbody>${ee}</tbody>`),"<table>\n<thead>\n"+Z+"</thead>\n"+ee+"</table>\n"}tablerow(Z){return`<tr>\n${Z}</tr>\n`}tablecell(Z,ee){const ue=ee.header?"th":"td";return(ee.align?`<${ue} align="${ee.align}">`:`<${ue}>`)+Z+`</${ue}>\n`}strong(Z){return`<strong>${Z}</strong>`}em(Z){return`<em>${Z}</em>`}codespan(Z){return`<code>${Z}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(Z){return`<del>${Z}</del>`}link(Z,ee,ue){if(null===(Z=s(this.options.sanitize,this.options.baseUrl,Z)))return ue;let Ce='<a href="'+Z+'"';return ee&&(Ce+=' title="'+ee+'"'),Ce+=">"+ue+"</a>",Ce}image(Z,ee,ue){if(null===(Z=s(this.options.sanitize,this.options.baseUrl,Z)))return ue;let Ce=`<img src="${Z}" alt="${ue}"`;return ee&&(Ce+=` title="${ee}"`),Ce+=this.options.xhtml?"/>":">",Ce}text(Z){return Z}}class _e{strong(Z){return Z}em(Z){return Z}codespan(Z){return Z}del(Z){return Z}html(Z){return Z}text(Z){return Z}link(Z,ee,ue){return""+ue}image(Z,ee,ue){return""+ue}br(){return""}}class Ie{constructor(){this.seen={}}serialize(Z){return Z.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(Z,ee){let ue=Z,Ce=0;if(this.seen.hasOwnProperty(ue)){Ce=this.seen[Z];do{Ce++,ue=Z+"-"+Ce}while(this.seen.hasOwnProperty(ue))}return ee||(this.seen[Z]=Ce,this.seen[ue]=0),ue}slug(Z,ee={}){const ue=this.serialize(Z);return this.getNextSafeSlug(ue,ee.dryrun)}}class Me{constructor(Z){this.options=Z||y,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _e,this.slugger=new Ie}static parse(Z,ee){return new Me(ee).parse(Z)}static parseInline(Z,ee){return new Me(ee).parseInline(Z)}parse(Z,ee=!0){let Ce,pt,Ze,ft,Dt,At,Wt,Et,nt,ct,Xe,Ke,rt,le,te,J,ne,$e,Qe,ue="";const Tt=Z.length;for(Ce=0;Ce<Tt;Ce++)if(ct=Z[Ce],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ct.type]&&(Qe=this.options.extensions.renderers[ct.type].call({parser:this},ct),!1!==Qe||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ct.type)))ue+=Qe||"";else switch(ct.type){case"space":continue;case"hr":ue+=this.renderer.hr();continue;case"heading":ue+=this.renderer.heading(this.parseInline(ct.tokens),ct.depth,m(this.parseInline(ct.tokens,this.textRenderer)),this.slugger);continue;case"code":ue+=this.renderer.code(ct.text,ct.lang,ct.escaped);continue;case"table":for(Et="",Wt="",ft=ct.header.length,pt=0;pt<ft;pt++)Wt+=this.renderer.tablecell(this.parseInline(ct.header[pt].tokens),{header:!0,align:ct.align[pt]});for(Et+=this.renderer.tablerow(Wt),nt="",ft=ct.rows.length,pt=0;pt<ft;pt++){for(At=ct.rows[pt],Wt="",Dt=At.length,Ze=0;Ze<Dt;Ze++)Wt+=this.renderer.tablecell(this.parseInline(At[Ze].tokens),{header:!1,align:ct.align[Ze]});nt+=this.renderer.tablerow(Wt)}ue+=this.renderer.table(Et,nt);continue;case"blockquote":nt=this.parse(ct.tokens),ue+=this.renderer.blockquote(nt);continue;case"list":for(Xe=ct.ordered,Ke=ct.start,rt=ct.loose,ft=ct.items.length,nt="",pt=0;pt<ft;pt++)te=ct.items[pt],J=te.checked,ne=te.task,le="",te.task&&($e=this.renderer.checkbox(J),rt?te.tokens.length>0&&"paragraph"===te.tokens[0].type?(te.tokens[0].text=$e+" "+te.tokens[0].text,te.tokens[0].tokens&&te.tokens[0].tokens.length>0&&"text"===te.tokens[0].tokens[0].type&&(te.tokens[0].tokens[0].text=$e+" "+te.tokens[0].tokens[0].text)):te.tokens.unshift({type:"text",text:$e}):le+=$e),le+=this.parse(te.tokens,rt),nt+=this.renderer.listitem(le,ne,J);ue+=this.renderer.list(nt,Xe,Ke);continue;case"html":ue+=this.renderer.html(ct.text);continue;case"paragraph":ue+=this.renderer.paragraph(this.parseInline(ct.tokens));continue;case"text":for(nt=ct.tokens?this.parseInline(ct.tokens):ct.text;Ce+1<Tt&&"text"===Z[Ce+1].type;)ct=Z[++Ce],nt+="\n"+(ct.tokens?this.parseInline(ct.tokens):ct.text);ue+=ee?this.renderer.paragraph(nt):nt;continue;default:{const zt='Token with "'+ct.type+'" type was not found.';if(this.options.silent)return void console.error(zt);throw new Error(zt)}}return ue}parseInline(Z,ee){ee=ee||this.renderer;let Ce,pt,Ze,ue="";const ft=Z.length;for(Ce=0;Ce<ft;Ce++)if(pt=Z[Ce],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pt.type]&&(Ze=this.options.extensions.renderers[pt.type].call({parser:this},pt),!1!==Ze||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(pt.type)))ue+=Ze||"";else switch(pt.type){case"escape":case"text":ue+=ee.text(pt.text);break;case"html":ue+=ee.html(pt.text);break;case"link":ue+=ee.link(pt.href,pt.title,this.parseInline(pt.tokens,ee));break;case"image":ue+=ee.image(pt.href,pt.title,pt.text);break;case"strong":ue+=ee.strong(this.parseInline(pt.tokens,ee));break;case"em":ue+=ee.em(this.parseInline(pt.tokens,ee));break;case"codespan":ue+=ee.codespan(pt.text);break;case"br":ue+=ee.br();break;case"del":ue+=ee.del(this.parseInline(pt.tokens,ee));break;default:{const Dt='Token with "'+pt.type+'" type was not found.';if(this.options.silent)return void console.error(Dt);throw new Error(Dt)}}return ue}}function Fe(fe,Z,ee){if(typeof fe>"u"||null===fe)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof fe)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(fe)+", string expected");if("function"==typeof Z&&(ee=Z,Z=null),w(Z=g({},Fe.defaults,Z||{})),ee){const Ce=Z.highlight;let pt;try{pt=ye.lex(fe,Z)}catch(Dt){return ee(Dt)}const Ze=function(Dt){let At;if(!Dt)try{Z.walkTokens&&Fe.walkTokens(pt,Z.walkTokens),At=Me.parse(pt,Z)}catch(Wt){Dt=Wt}return Z.highlight=Ce,Dt?ee(Dt):ee(null,At)};if(!Ce||Ce.length<3||(delete Z.highlight,!pt.length))return Ze();let ft=0;return Fe.walkTokens(pt,function(Dt){"code"===Dt.type&&(ft++,setTimeout(()=>{Ce(Dt.text,Dt.lang,function(At,Wt){if(At)return Ze(At);null!=Wt&&Wt!==Dt.text&&(Dt.text=Wt,Dt.escaped=!0),ft--,0===ft&&Ze()})},0))}),void(0===ft&&Ze())}function ue(Ce){if(Ce.message+="\nPlease report this to https://github.com/markedjs/marked.",Z.silent)return"<p>An error occurred:</p><pre>"+_(Ce.message+"",!0)+"</pre>";throw Ce}try{const Ce=ye.lex(fe,Z);if(Z.walkTokens){if(Z.async)return Promise.all(Fe.walkTokens(Ce,Z.walkTokens)).then(()=>Me.parse(Ce,Z)).catch(ue);Fe.walkTokens(Ce,Z.walkTokens)}return Me.parse(Ce,Z)}catch(Ce){ue(Ce)}}Fe.options=Fe.setOptions=function(fe){return g(Fe.defaults,fe),function T(fe){y=fe}(Fe.defaults),Fe},Fe.getDefaults=function n(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Fe.defaults=y,Fe.use=function(...fe){const Z=Fe.defaults.extensions||{renderers:{},childTokens:{}};fe.forEach(ee=>{const ue=g({},ee);if(ue.async=Fe.defaults.async||ue.async,ee.extensions&&(ee.extensions.forEach(Ce=>{if(!Ce.name)throw new Error("extension name required");if(Ce.renderer){const pt=Z.renderers[Ce.name];Z.renderers[Ce.name]=pt?function(...Ze){let ft=Ce.renderer.apply(this,Ze);return!1===ft&&(ft=pt.apply(this,Ze)),ft}:Ce.renderer}if(Ce.tokenizer){if(!Ce.level||"block"!==Ce.level&&"inline"!==Ce.level)throw new Error("extension level must be 'block' or 'inline'");Z[Ce.level]?Z[Ce.level].unshift(Ce.tokenizer):Z[Ce.level]=[Ce.tokenizer],Ce.start&&("block"===Ce.level?Z.startBlock?Z.startBlock.push(Ce.start):Z.startBlock=[Ce.start]:"inline"===Ce.level&&(Z.startInline?Z.startInline.push(Ce.start):Z.startInline=[Ce.start]))}Ce.childTokens&&(Z.childTokens[Ce.name]=Ce.childTokens)}),ue.extensions=Z),ee.renderer){const Ce=Fe.defaults.renderer||new G;for(const pt in ee.renderer){const Ze=Ce[pt];Ce[pt]=(...ft)=>{let Dt=ee.renderer[pt].apply(Ce,ft);return!1===Dt&&(Dt=Ze.apply(Ce,ft)),Dt}}ue.renderer=Ce}if(ee.tokenizer){const Ce=Fe.defaults.tokenizer||new $;for(const pt in ee.tokenizer){const Ze=Ce[pt];Ce[pt]=(...ft)=>{let Dt=ee.tokenizer[pt].apply(Ce,ft);return!1===Dt&&(Dt=Ze.apply(Ce,ft)),Dt}}ue.tokenizer=Ce}if(ee.walkTokens){const Ce=Fe.defaults.walkTokens;ue.walkTokens=function(pt){let Ze=[];return Ze.push(ee.walkTokens.call(this,pt)),Ce&&(Ze=Ze.concat(Ce.call(this,pt))),Ze}}Fe.setOptions(ue)})},Fe.walkTokens=function(fe,Z){let ee=[];for(const ue of fe)switch(ee=ee.concat(Z.call(Fe,ue)),ue.type){case"table":for(const Ce of ue.header)ee=ee.concat(Fe.walkTokens(Ce.tokens,Z));for(const Ce of ue.rows)for(const pt of Ce)ee=ee.concat(Fe.walkTokens(pt.tokens,Z));break;case"list":ee=ee.concat(Fe.walkTokens(ue.items,Z));break;default:Fe.defaults.extensions&&Fe.defaults.extensions.childTokens&&Fe.defaults.extensions.childTokens[ue.type]?Fe.defaults.extensions.childTokens[ue.type].forEach(function(Ce){ee=ee.concat(Fe.walkTokens(ue[Ce],Z))}):ue.tokens&&(ee=ee.concat(Fe.walkTokens(ue.tokens,Z)))}return ee},Fe.parseInline=function(fe,Z){if(typeof fe>"u"||null===fe)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof fe)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(fe)+", string expected");w(Z=g({},Fe.defaults,Z||{}));try{const ee=ye.lexInline(fe,Z);return Z.walkTokens&&Fe.walkTokens(ee,Z.walkTokens),Me.parseInline(ee,Z)}catch(ee){if(ee.message+="\nPlease report this to https://github.com/markedjs/marked.",Z.silent)return"<p>An error occurred:</p><pre>"+_(ee.message+"",!0)+"</pre>";throw ee}},Fe.Parser=Me,Fe.parser=Me.parse,Fe.Renderer=G,Fe.TextRenderer=_e,Fe.Lexer=ye,Fe.lexer=ye.lex,Fe.Tokenizer=$,Fe.Slugger=Ie,Fe.parse=Fe;var Be=t(6353),lt=t(6895),Ye=t(9818),et=t(5306),ot=t(158);function ge(fe,Z){if(1&fe&&(Be._UZ(0,"main",4),Be.ALo(1,"safe")),2&fe){const ee=Be.oxw();Be.Q6J("innerHTML",Be.xi3(1,1,ee.changelog,"html"),Be.oJD)}}function we(fe,Z){1&fe&&(Be.TgZ(0,"div",5)(1,"app-icon",6),Be._uU(2,"close"),Be.qZA(),Be.TgZ(3,"div",7),Be._uU(4,"No changelog"),Be.qZA()())}class me{constructor(Z){this._data=Z}get changelog(){return Fe(this._data.changelog||"")}}me.\u0275fac=function(Z){return new(Z||me)(Be.Y36(e.eJ))},me.\u0275cmp=Be.Xpm({type:me,selectors:[["changelog-modal"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close",""],["class","p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto",3,"innerHTML",4,"ngIf","ngIfElse"],["empty_state",""],[1,"p-4","markdown","max-h-[65vh]","max-w-[80vw]","overflow-auto",3,"innerHTML"],[1,"flex","items-center","justify-center","flex-col","space-y-2"],[1,"text-3xl"],[1,"text"]],template:function(Z,ee){if(1&Z&&(Be.TgZ(0,"header")(1,"h3",0),Be._uU(2,"Changelog"),Be.qZA(),Be.TgZ(3,"button",1)(4,"app-icon"),Be._uU(5,"close"),Be.qZA()()(),Be.YNc(6,ge,2,4,"main",2),Be.YNc(7,we,5,0,"ng-template",null,3,Be.W1O)),2&Z){const ue=Be.MAs(8);Be.xp6(6),Be.Q6J("ngIf",ee.changelog)("ngIfElse",ue)}},dependencies:[lt.O5,Ye.eB,e.aO,e.YS,et.o,ot.y]})},4693:(Je,K,t)=>{"use strict";t.d(K,{K:()=>je});var e=t(6895),n=t(4006),y=t(5559),T=t(9818),v=t(6255),O=t(8455),C=t(6289),E=t(4226),i=t(8897),f=t(9203),_=t(9923),l=t(1343),m=t(4025),h=t(1597),d=t(5013),c=t(4080),a=t(529),s=t(9383),S=(t(3352),t(1637),t(5306)),g=(t(9067),t(9685),t(2401),t(9136)),B=(t(4702),t(3159),t(9823),t(9649),t(158),t(7202)),$=(t(5302),t(3970)),Q=(t(4618),t(6790),t(470)),G=(t(9627),t(2097),t(8261)),Fe=(t(2581),t(2193),t(4071),t(4119)),Ve=t(3476),be=(t(5074),t(8298),t(6353));const Ue=[E.D8,v.jT,O.wp,C.uw,T.yu,E.D8,C.uw,y.yj,i.FA,f.x4,m.Iq,l.UK,_.yD,h.gf,d.HT,c.eL,Q.JX,Ve.Cl];class je{}je.\u0275fac=function(lt){return new(lt||je)},je.\u0275mod=be.oAB({type:je}),je.\u0275inj=be.cJS({providers:[{provide:g.u,useValue:{}}],imports:[e.ez,n.u5,n.UX,a.JF,Ue,E.D8,v.jT,O.wp,C.uw,T.yu,E.D8,C.uw,y.yj,i.FA,f.x4,m.Iq,l.UK,_.yD,h.gf,d.HT,c.eL,Q.JX,Ve.Cl,s.aw]}),be.B6R(G.p,[e.O5,T.eB,y.aO,l.sN,S.o,g.p],[]),be.B6R(Fe.x,[e.sg,e.O5,e.RF,e.n9,e.ED,n.Fj,n.JJ,n.On,Ve.xd,Ve.x0,Ve.N7,$.X],[e.Ov,e.uU,B.n])},2401:(Je,K,t)=>{"use strict";t.d(K,{t:()=>f,z:()=>_});var e=t(6353),n=t(5559),y=t(6895),T=t(9818),v=t(1343),O=t(5306);function C(l,m){if(1&l&&(e.TgZ(0,"main",4),e._UZ(1,"app-icon",5)(2,"p",6),e.qZA()),2&l){const h=e.oxw();e.xp6(1),e.Q6J("icon",h.icon),e.xp6(1),e.Q6J("innerHTML",h.content,e.oJD)}}function E(l,m){if(1&l){const h=e.EpF();e.TgZ(0,"footer",7)(1,"button",8),e._uU(2),e.qZA(),e.TgZ(3,"button",9),e.NdJ("click",function(){e.CHM(h);const c=e.oxw();return e.KtG(c.onConfirm())}),e._uU(4),e.qZA()()}if(2&l){const h=e.oxw();e.xp6(2),e.hij(" ",h.cancel_text," "),e.xp6(2),e.hij(" ",h.confirm_text," ")}}function i(l,m){if(1&l&&(e.TgZ(0,"main",10)(1,"div",11),e._UZ(2,"mat-spinner",12),e.TgZ(3,"p"),e._uU(4),e.qZA()()()),2&l){const h=e.oxw();e.xp6(4),e.Oqu(h.loading)}}const f={height:"auto",width:"24em",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)"};class _{constructor(m,h){this._dialog_ref=m,this._data=h,this.event=new e.vpe,this.title=this._data.title||"Confirm",this.content=this._data.content||"Are you sure?",this.confirm_text=this._data.confirm_text||"Accept",this.cancel_text=this._data.cancel_text||"Cancel",this.icon=this._data.icon||{class:"material-icons",content:"done"},this.disableClose=()=>this._dialog_ref.disableClose=!0,this.enableClose=()=>this._dialog_ref.disableClose=!1}onConfirm(){this.event.emit({reason:"done"})}}_.\u0275fac=function(m){return new(m||_)(e.Y36(n.hV),e.Y36(n.eJ))},_.\u0275cmp=e.Xpm({type:_,selectors:[["confirm-modal"]],outputs:{event:"event"},decls:7,vars:4,consts:[["mat-dialog-title",""],["class","flex flex-col items-center space-y-2 p-4",4,"ngIf","ngIfElse"],["class","flex items-center justify-center p-2 space-x-2",4,"ngIf"],["load_state",""],[1,"flex","flex-col","items-center","space-y-2","p-4"],[1,"text-5xl",3,"icon"],["content","",1,"text-center","text-sm","w-[22rem]",3,"innerHTML"],[1,"flex","items-center","justify-center","p-2","space-x-2"],["mat-button","","mat-dialog-close","",1,"inverse","w-32"],["mat-button","","name","accept",1,"w-32",3,"click"],["loading",""],[1,"w-full","h-48","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(m,h){if(1&m&&(e.TgZ(0,"header")(1,"h3",0),e._uU(2),e.qZA()(),e.YNc(3,C,3,2,"main",1),e.YNc(4,E,5,2,"footer",2),e.YNc(5,i,5,1,"ng-template",null,3,e.W1O)),2&m){const d=e.MAs(6);e.xp6(2),e.Oqu(h.title),e.xp6(1),e.Q6J("ngIf",!h.loading)("ngIfElse",d),e.xp6(1),e.Q6J("ngIf",!h.loading)}},dependencies:[y.O5,T.eB,n.aO,n.YS,v.sN,O.o]})},5302:(Je,K,t)=>{"use strict";t.d(K,{C:()=>rt});var e=t(6353),n=t(1597),y=t(470),T=t(5013),v=t(5017),O=t(591),C=t(8929),E=t(6787),i=t(1086),f=t(3426),_=t(1281),l=t(4850);class ie extends v.o2{constructor(te=[]){super(),this._renderData=new O.X([]),this._filter=new O.X(""),this._internalPageChanges=new C.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(J,ne)=>{const $e=J[ne];if((0,_.t6)($e)){const Qe=Number($e);return Qe<9007199254740991?Qe:$e}return $e},this.sortData=(J,ne)=>{const $e=ne.active,Qe=ne.direction;return $e&&""!=Qe?J.sort((Tt,zt)=>{let cn=this.sortingDataAccessor(Tt,$e),an=this.sortingDataAccessor(zt,$e);const vn=typeof cn,Dn=typeof an;vn!==Dn&&("number"===vn&&(cn+=""),"number"===Dn&&(an+=""));let Tn=0;return null!=cn&&null!=an?cn>an?Tn=1:cn<an&&(Tn=-1):null!=cn?Tn=1:null!=an&&(Tn=-1),Tn*("asc"==Qe?1:-1)}):J},this.filterPredicate=(J,ne)=>{const $e=Object.keys(J).reduce((Tt,zt)=>Tt+J[zt]+"\u25ec","").toLowerCase(),Qe=ne.trim().toLowerCase();return-1!=$e.indexOf(Qe)},this._data=new O.X(te),this._updateChangeSubscription()}get data(){return this._data.value}set data(te){te=Array.isArray(te)?te:[],this._data.next(te),this._renderChangesSubscription||this._filterData(te)}get filter(){return this._filter.value}set filter(te){this._filter.next(te),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(te){this._sort=te,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(te){this._paginator=te,this._updateChangeSubscription()}_updateChangeSubscription(){const te=this._sort?(0,E.T)(this._sort.sortChange,this._sort.initialized):(0,i.of)(null),J=this._paginator?(0,E.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,i.of)(null),$e=(0,f.aj)([this._data,this._filter]).pipe((0,l.U)(([zt])=>this._filterData(zt))),Qe=(0,f.aj)([$e,te]).pipe((0,l.U)(([zt])=>this._orderData(zt))),Tt=(0,f.aj)([Qe,J]).pipe((0,l.U)(([zt])=>this._pageData(zt)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Tt.subscribe(zt=>this._renderData.next(zt))}_filterData(te){return this.filteredData=null==this.filter||""===this.filter?te:te.filter(J=>this.filterPredicate(J,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(te){return this.sort?this.sortData(te.slice(),this.sort):te}_pageData(te){if(!this.paginator)return te;const J=this.paginator.pageIndex*this.paginator.pageSize;return te.slice(J,J+this.paginator.pageSize)}_updatePaginator(te){Promise.resolve().then(()=>{const J=this.paginator;if(J&&(J.length=te,J.pageIndex>0)){const ne=Math.ceil(J.length/J.pageSize)-1||0,$e=Math.min(J.pageIndex,ne);$e!==J.pageIndex&&(J.pageIndex=$e,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class ee extends ie{}var ue=t(8368),Ce=t(6498),pt=t(6895);function Ze(le,te){if(1&le&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&le){const J=e.oxw(),ne=J.index,$e=J.$implicit,Qe=e.oxw();e.Udp("width",(Qe.column_size[ne]||"8")+"em")("flex","flex"===Qe.column_size[ne]?"1":""),e.xp6(1),e.hij(" ",Qe.display_column[ne]||$e," ")}}function ft(le,te){if(1&le&&(e.ynx(0),e._uU(1),e.BQk()),2&le){const J=e.oxw().$implicit,ne=e.oxw().$implicit;e.xp6(1),e.Oqu(J[ne])}}function Dt(le,te){1&le&&e.GkF(0)}const At=function(le,te,J){return{data:le,row:te,key:J}};function Wt(le,te){if(1&le&&e.YNc(0,Dt,1,0,"ng-container",14),2&le){const J=e.oxw().$implicit,ne=e.oxw().$implicit,$e=e.oxw();e.Q6J("ngTemplateOutlet",$e.template[ne])("ngTemplateOutletContext",e.kEZ(2,At,J[ne],J,ne))}}function Et(le,te){if(1&le&&(e.TgZ(0,"div",11),e.YNc(1,ft,2,1,"ng-container",12),e.YNc(2,Wt,1,6,"ng-template",null,13,e.W1O),e.qZA()),2&le){const J=te.$implicit,ne=e.MAs(3),$e=e.oxw(),Qe=$e.index,Tt=$e.$implicit,zt=e.oxw();e.Udp("width",(zt.column_size[Qe]||"8")+"em")("flex","flex"===zt.column_size[Qe]?"1":""),e.Q6J("title",J[Tt]),e.xp6(1),e.Q6J("ngIf",!zt.template[Tt])("ngIfElse",ne)}}function nt(le,te){if(1&le&&(e.ynx(0)(1,7),e.YNc(2,Ze,2,5,"div",8),e.YNc(3,Et,4,7,"div",9),e.BQk()()),2&le){const J=te.$implicit;e.xp6(1),e.Q6J("cdkColumnDef",J)}}function ct(le,te){1&le&&e._UZ(0,"cdk-header-row",15)}function Xe(le,te){if(1&le){const J=e.EpF();e.TgZ(0,"cdk-row",16),e.NdJ("click",function(){const Qe=e.CHM(J).$implicit,Tt=e.oxw();return e.KtG(Tt.row_clicked.emit(Qe))}),e.qZA()}}function Ke(le,te){if(1&le&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&le){const J=e.oxw();e.xp6(1),e.hij(" ",J.empty||"No data to display"," ")}}class rt extends ue.KG{constructor(){super(...arguments),this.pagination=!1,this.page_size=7,this.column_size=[],this.template={},this.row_clicked=new e.vpe,this.data_source=new ee([])}ngAfterViewInit(){this.data_source.sort=this._sort,this.data_source.paginator=this.pagination?this._paginator:null,this.data_source.filterPredicate=(te,J)=>{for(const ne in te){if("string"==typeof te[ne]&&te[ne].toLowerCase().includes(J.toLowerCase()))return!0;if(te[ne]===J)return!0}return!1}}ngOnChanges(te){te.dataSource&&this.dataSource&&(this.dataSource instanceof Ce.y?this.subscription("data",this.dataSource.subscribe(J=>this.data_source.data=J)):this.data_source.data=this.dataSource),te.pagination&&(this.data_source.paginator=this.pagination?this._paginator:null),te.filter&&(this.data_source.filter=(this.filter||"").trim().toLowerCase()),te.columns&&this.columns&&(this.display_column=this.columns.map((J,ne)=>(this.display_column||[])[ne]||J.split("_").join(" "))),this.column_size||(this.column_size=[])}}rt.\u0275fac=function(){let le;return function(J){return(le||(le=e.n5z(rt)))(J||rt)}}(),rt.\u0275cmp=e.Xpm({type:rt,selectors:[["custom-table"]],viewQuery:function(te,J){if(1&te&&(e.Gf(n.cl,5),e.Gf(y.YE,5)),2&te){let ne;e.iGM(ne=e.CRH())&&(J._paginator=ne.first),e.iGM(ne=e.CRH())&&(J._sort=ne.first)}},inputs:{dataSource:"dataSource",pagination:"pagination",page_size:"page_size",filter:"filter",display_column:"display_column",columns:"columns",column_size:"column_size",empty:"empty",template:"template"},outputs:{row_clicked:"row_clicked"},features:[e.qOj,e.TTD],decls:7,vars:8,consts:[["matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["class","sticky flex items-center bg-white dark:bg-neutral-700 top-0 z-10 border-b border-gray-300 dark:border-neutral-400",4,"cdkHeaderRowDef"],["row","","class","flex z-0 relative hover:bg-black/5 dark:hover:bg-white/5 border-b border-gray-200 dark:border-neutral-500",3,"click",4,"cdkRowDef","cdkRowDefColumns"],["cdkNoDataRow",""],["footer","",3,"hidden"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[3,"cdkColumnDef"],["cdk-header-cell","","class","capitalize p-2","mat-sort-header","",3,"width","flex",4,"cdkHeaderCellDef"],["cdk-cell","","class","p-2 truncate flex items-center",3,"width","flex","title",4,"cdkCellDef"],["cdk-header-cell","","mat-sort-header","",1,"capitalize","p-2"],["cdk-cell","",1,"p-2","truncate","flex","items-center",3,"title"],[4,"ngIf","ngIfElse"],["cell_outlet",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sticky","flex","items-center","bg-white","dark:bg-neutral-700","top-0","z-10","border-b","border-gray-300","dark:border-neutral-400"],["row","",1,"flex","z-0","relative","hover:bg-black/5","dark:hover:bg-white/5","border-b","border-gray-200","dark:border-neutral-500",3,"click"],[1,"w-full","p-4","text-center","opacity-30"]],template:function(te,J){1&te&&(e.TgZ(0,"cdk-table",0),e.YNc(1,nt,4,1,"ng-container",1),e.YNc(2,ct,1,0,"cdk-header-row",2),e.YNc(3,Xe,1,0,"cdk-row",3),e.YNc(4,Ke,2,1,"ng-template",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"mat-paginator",6),e.qZA()),2&te&&(e.Q6J("dataSource",J.data_source),e.xp6(1),e.Q6J("ngForOf",J.columns),e.xp6(1),e.Q6J("cdkHeaderRowDef",J.columns),e.xp6(1),e.Q6J("cdkRowDefColumns",J.columns),e.xp6(2),e.Q6J("hidden",!J.pagination),e.xp6(1),e.Q6J("pageSize",J.page_size)("hidePageSize",!0)("showFirstLastButtons",!0))},dependencies:[pt.sg,pt.O5,pt.tP,n.cl,T.zC,T.Sq,T.O_,T.D5,T.fo,T._J,T.xN,T.s$,T.r2,y.YE,y.nU],styles:["cdk-header-row[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize;min-height:3rem}"]})},3970:(Je,K,t)=>{"use strict";t.d(K,{L:()=>d,X:()=>c});var e=t(4080),n=t(6353),y=t(8368),T=t(8184),v=t(6895),O=t(7202);function E(a,s){1&a&&n.GkF(0)}function i(a,s){if(1&a&&(n.ynx(0),n.YNc(1,E,1,0,"ng-container",4),n.BQk()),2&a){const r=n.oxw(2);n.xp6(1),n.Q6J("ngComponentOutlet",r.content)("ngComponentOutletInjector",r.injector)}}function f(a,s){if(1&a&&(n.ynx(0),n._UZ(1,"div",5),n.ALo(2,"sanitize"),n.BQk()),2&a){const r=n.oxw(2);n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,1,r.content),n.oJD)}}function _(a,s){1&a&&n.GkF(0)}function l(a,s){if(1&a&&(n.ynx(0),n.YNc(1,_,1,0,"ng-container",6),n.BQk()),2&a){const r=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",r.content)("ngTemplateOutletContext",r.data)}}function m(a,s){if(1&a&&(n.TgZ(0,"div",1),n.YNc(1,i,2,2,"ng-container",2),n.YNc(2,f,3,3,"ng-container",2),n.YNc(3,l,2,2,"ng-container",3),n.qZA()),2&a){const r=n.oxw();n.Q6J("ngSwitch",r.type),n.xp6(1),n.Q6J("ngSwitchCase","component"),n.xp6(1),n.Q6J("ngSwitchCase","html")}}class d{constructor(s){this.data=s.data,this.close=s.close||(()=>null)}}d.\u0275fac=function(s){n.$Z()},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac});class c extends y.KG{constructor(s,r,o){super(),this._element=s,this._overlay=r,this._injector=o,this.backdrop=!0,this.hover=!1,this.type="template",this._overlay_ref=null,this.onClick=()=>this.open(),this.onTouch=()=>this.open(),this.onEnter=()=>this.hover?this.open():"",this.onLeave=()=>this.hover?this.close():""}ngOnChanges(s){this._updateInjector(),this._overlay_ref&&(s.x_pos||s.y_pos||s.content)&&this.open()}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){!this.content||this.timeout("open",()=>{this._updateType(),this._overlay_ref&&this.close(),this._portal&&(this._element.nativeElement.getBoundingClientRect(),this._overlay_ref=this._overlay.create({hasBackdrop:!!this.backdrop,positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withPositions([{originX:this.x_pos||"end",originY:("top"===this.y_pos?"bottom":"bottom"==this.y_pos?"top":this.y_pos)||"top",overlayX:this.x_pos||"end",overlayY:this.y_pos||"top"}])}),this._overlay_ref.attach(this._portal),this.backdrop&&this.subscription("backdrop",this._overlay_ref.backdropClick().subscribe(()=>this.close())))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}_updateType(){this.type="string"==typeof this.content?"html":this.content instanceof n.Rgc?"template":"component"}_updateInjector(){this.injector=n.zs3.create({providers:[{provide:d,useValue:{data:this.data,close:()=>this.close()}}],parent:this._injector})}}c.\u0275fac=function(s){return new(s||c)(n.Y36(n.SBq),n.Y36(T.aV),n.Y36(n.zs3))},c.\u0275cmp=n.Xpm({type:c,selectors:[["","customTooltip",""]],viewQuery:function(s,r){if(1&s&&n.Gf(e.ig,5),2&s){let o;n.iGM(o=n.CRH())&&(r._portal=o.first)}},hostBindings:function(s,r){1&s&&n.NdJ("click",function(){return r.onClick()})("touchend",function(){return r.onTouch()})("mouseenter",function(){return r.onEnter()})("mouseleave",function(){return r.onLeave()})},inputs:{x_pos:["xPosition","x_pos"],y_pos:["yPosition","y_pos"],content:"content",data:"data",backdrop:"backdrop",hover:"hover"},features:[n.qOj,n.TTD],attrs:["customTooltip",""],ngContentSelectors:["*"],decls:2,vars:0,consts:[["cdk-portal",""],["custom-tooltip","",1,"relative",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,r){1&s&&(n.F$t(),n.Hsn(0),n.YNc(1,m,4,3,"ng-template",0))},dependencies:[v.$G,v.tP,v.RF,v.n9,v.ED,e.bH,O.n],encapsulation:2})},4119:(Je,K,t)=>{"use strict";t.d(K,{x:()=>s});var e=t(591),n=t(3426),y=t(4850),T=t(8460),v=t(8939),O=t(1738),C=t(5074),E=t(6353);function i(r,o){if(1&r&&(E.ynx(0),E.TgZ(1,"a",16),E.ALo(2,"sanitize"),E._uU(3),E.qZA(),E.BQk()),2&r){const S=E.oxw().$implicit;E.xp6(1),E.Q6J("href",E.lcZ(2,2,S),E.LSH),E.xp6(2),E.Oqu(S)}}function f(r,o){if(1&r&&(E.ynx(0),E._uU(1," ["),E.TgZ(2,"span",17),E._uU(3,"Object"),E.qZA(),E._uU(4,"] "),E.BQk()),2&r){const S=E.oxw().$implicit,I=E.oxw(3);E.xp6(2),E.Q6J("content",I.json_tooltip)("data",S)("hover",!0)("backdrop",!1)}}function _(r,o){if(1&r&&(E.ynx(0),E._uU(1),E.BQk()),2&r){const S=E.oxw().$implicit;E.xp6(1),E.Oqu(S)}}function l(r,o){if(1&r&&(E.TgZ(0,"div",12),E.ynx(1,13),E.YNc(2,i,4,4,"ng-container",14),E.YNc(3,f,5,4,"ng-container",14),E.YNc(4,_,2,1,"ng-container",15),E.BQk(),E.qZA()),2&r){const S=o.$implicit,I=E.oxw(3);E.uIk("data-type",I.type(S)),E.xp6(1),E.Q6J("ngSwitch",I.type(S)),E.xp6(1),E.Q6J("ngSwitchCase","link"),E.xp6(1),E.Q6J("ngSwitchCase","object")}}function m(r,o){if(1&r&&(E.TgZ(0,"div",9)(1,"div",10),E._uU(2),E.ALo(3,"date"),E.qZA(),E.TgZ(4,"div"),E._uU(5),E.qZA(),E.TgZ(6,"div"),E._uU(7),E.qZA(),E.YNc(8,l,5,4,"div",11),E.qZA()),2&r){const S=o.$implicit,I=E.oxw(2);E.xp6(2),E.hij(" ",E.xi3(3,8,S.timestamp,"MMM d HH:mm:ss")," "),E.xp6(2),E.Tol("uppercase text-xs p-1 "+I.colors[S.type]+" rounded font-mono"),E.xp6(1),E.hij(" ",S.type," "),E.xp6(1),E.Tol("capitalize text-xs p-1 "+I.colors[S.subtype]+" rounded font-mono w-16 text-center"),E.xp6(1),E.hij(" ",S.subtype," "),E.xp6(1),E.Q6J("ngForOf",S.data)}}function h(r,o){if(1&r&&(E.TgZ(0,"span",12),E._uU(1),E.ALo(2,"async"),E.qZA()),2&r){const S=E.oxw(2);let I;E.xp6(1),E.hij(" ",(null==(I=E.lcZ(2,1,S.filtered_logs))?null:I.length)||"0"," of ")}}function d(r,o){if(1&r){const S=E.EpF();E.TgZ(0,"div",1)(1,"cdk-virtual-scroll-viewport",2),E.YNc(2,m,9,11,"div",3),E.ALo(3,"async"),E.qZA(),E.TgZ(4,"div",4)(5,"input",5,6),E.NdJ("ngModelChange",function(x){E.CHM(S);const P=E.oxw();return E.KtG(P.filter.next(x))}),E.ALo(7,"async"),E.qZA(),E.TgZ(8,"div",7),E.YNc(9,h,3,3,"span",8),E.ALo(10,"async"),E._uU(11),E.ALo(12,"async"),E.qZA()()()}if(2&r){const S=E.oxw();let I,x;E.xp6(2),E.Q6J("cdkVirtualForOf",E.lcZ(3,5,S.filtered_logs))("cdkVirtualForTrackBy",S.trackByFn),E.xp6(3),E.Q6J("ngModel",E.lcZ(7,7,S.filter)),E.xp6(4),E.Q6J("ngIf",null==(I=E.lcZ(10,9,S.filter))?null:I.length),E.xp6(2),E.hij(" ",null==(x=E.lcZ(12,11,S.logs))?null:x.length," ")}}const c={console:"bg-purple-600/30",network:"bg-green-600/30",dom:"bg-indigo-600/30",log:"bg-cyan-600/50",info:"bg-blue-600/50",warn:"bg-orange-600/50",debug:"bg-gray-600/50",error:"bg-red-600/50"},a=["tel:","mailto:","http:","https:","ftp:","ws:","wss:"];class s extends v.K{constructor(o,S){super(),this._logs=o,this._hotkey=S,this.show=!1,this.colors=c,this.json_tooltip=C.M,this.filter=new e.X(""),this.logs=new e.X([]),this.filtered_logs=(0,n.aj)([this.filter,this.logs]).pipe((0,y.U)(([I,x])=>x.filter(P=>P.type.toLowerCase().includes(I.toLowerCase())||P.subtype.toLowerCase().includes(I.toLowerCase())||`${P.data}`.toLowerCase().includes(I.toLowerCase()))))}ngOnInit(){this.subscription("logs",this._logs.history.subscribe(o=>this.logs.next([...this.logs.getValue(),o]))),this.subscription("toggle",this._hotkey.listen(["Control","Backquote"],()=>this.show=!this.show))}type(o){return"string"==typeof o&&a.find(S=>o.startsWith(S))?"link":o instanceof Object?"object":"string"}trackByFn(o,S){return S?.timestamp}}s.\u0275fac=function(o){return new(o||s)(E.Y36(O.V),E.Y36(T.t))},s.\u0275cmp=E.Xpm({type:s,selectors:[["debug-console"]],inputs:{show:"show"},features:[E.qOj],decls:1,vars:1,consts:[["class","absolute bottom-2 inset-x-2 bg-black/80 text-white shadow rounded overflow-hidden h-[32rem] max-h-65vh flex flex-col z-[998]",4,"ngIf"],[1,"absolute","bottom-2","inset-x-2","bg-black/80","text-white","shadow","rounded","overflow-hidden","h-[32rem]","max-h-65vh","flex","flex-col","z-[998]"],["itemSize","32",1,"flex-1","h-[30rem]","max-h-full","w-full"],["class","font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-white/10 space-x-1",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"absolute","bottom-0","right-2","rounded-t-lg","bg-black/90","p-2","flex","items-center","space-x-2","w-[20rem]"],["name","log-filter","placeholder","Filter logs...",1,"border-none","bg-white/10","flex-1","text-sm","px-2","py-1","font-mono","rounded",3,"ngModel","ngModelChange"],["search_input",""],[1,"font-mono","text-xs","px-2","text-center"],["class","font-mono",4,"ngIf"],[1,"font-mono","h-8","truncate","p-2","text-sm","flex","items-center","max-w-full","hover:bg-white/10","space-x-1"],[1,"uppercase","text-xs","p-1","bg-white/10","rounded","font-mono"],["class","font-mono",4,"ngFor","ngForOf"],[1,"font-mono"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","noopener noreferer",1,"font-mono",3,"href"],["customTooltip","","xPosition","center","yPosition","bottom",1,"underline","font-mono","hover:text-blue-500",3,"content","data","hover","backdrop"]],template:function(o,S){1&o&&E.YNc(0,d,13,13,"div",0),2&o&&E.Q6J("ngIf",S.show)}})},2193:(Je,K,t)=>{"use strict";t.d(K,{u:()=>y});var e=t(9833),n=t(6353);class y{transform(v,O=!1){let C=(0,e.Z)({hours:Math.floor(v/60),minutes:v%60});return O&&(C=C.replace("hour","h").replace("minute","m").replace(/s/gi,"")),C}}y.\u0275fac=function(v){return new(v||y)},y.\u0275pipe=n.Yjl({name:"duration",type:y,pure:!0})},9649:(Je,K,t)=>{"use strict";t.d(K,{J:()=>n});var e=t(6353);class n{transform(T,v=2){return T.toFixed(v)}}n.\u0275fac=function(T){return new(T||n)},n.\u0275pipe=e.Yjl({name:"toFixed",type:n,pure:!0})},2097:(Je,K,t)=>{"use strict";t.d(K,{T:()=>C});var e=t(8368),n=t(6353),y=t(6895),T=t(9818),v=t(5306);function O(E,i){if(1&E){const f=n.EpF();n.TgZ(0,"div",1)(1,"div",2),n._uU(2),n.qZA(),n.TgZ(3,"button",3),n.NdJ("click",function(){n.CHM(f);const l=n.oxw();return n.KtG(l.close())}),n.TgZ(4,"app-icon"),n._uU(5,"close"),n.qZA()()()}if(2&E){const f=n.oxw();n.ekj("bg-blue-600","info"===f.banner.type||!f.banner.type)("bg-pending","warn"===f.banner.type)("bg-error","error"===f.banner.type),n.xp6(2),n.Oqu(null==f.banner?null:f.banner.content)}}class C{constructor(i){this._settings=i}get has_viewed(){return!this.banner?.content||localStorage.getItem("PLACE.last_banner")===this.banner.id}get banner(){return this._settings.get("app.general.banner")}close(){localStorage.setItem("PLACE.last_banner",this.banner?.id||"")}}C.\u0275fac=function(i){return new(i||C)(n.Y36(e.gb))},C.\u0275cmp=n.Xpm({type:C,selectors:[["global-banner"]],decls:1,vars:1,consts:[["class","flex items-center w-full text-white p-4 space-x-4",3,"bg-blue-600","bg-pending","bg-error",4,"ngIf"],[1,"flex","items-center","w-full","text-white","p-4","space-x-4"],[1,"flex-1"],["mat-icon-button","",3,"click"]],template:function(i,f){1&i&&n.YNc(0,O,6,7,"div",0),2&i&&n.Q6J("ngIf",!f.has_viewed)},dependencies:[y.O5,T.eB,v.o],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})},6790:(Je,K,t)=>{"use strict";t.d(K,{G:()=>_});var e=t(9671),n=t(7224),y=t(4351),T=t(8368),v=t(565),O=t(6353),C=t(6895),E=t(1343);function i(l,m){1&l&&(O.TgZ(0,"div",2),O._uU(1," Unable to reach server... Some features may not work. "),O.qZA())}function f(l,m){1&l&&(O.TgZ(0,"div",3),O._UZ(1,"mat-spinner",4),O.qZA()),2&l&&(O.xp6(1),O.Q6J("diameter",64))}class _ extends T.KG{constructor(m,h){super(),this._org=m,this._settings=h}get online(){return(0,y.Ggh)()}ngOnInit(){var m=this;return(0,e.Z)(function*(){m.loading=!0,yield m._org.initialised.pipe((0,n.P)(h=>h)).toPromise(),yield m._settings.initialised.pipe((0,n.P)(h=>h)).toPromise(),m.interval("has_token",()=>{(0,y.rao)()&&(m.loading=!1,m.clearInterval("has_token"))},1e3)})()}}_.\u0275fac=function(m){return new(m||_)(O.Y36(v.w),O.Y36(T.gb))},_.\u0275cmp=O.Xpm({type:_,selectors:[["global-loading"]],features:[O.qOj],decls:2,vars:2,consts:[["class","fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs",4,"ngIf"],["loader","","class","fixed inset-0 flex items-center justify-center pointer-events-auto bg-white dark:bg-neutral-600",4,"ngIf"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2","shadow","rounded-3xl","px-4","py-2","bg-error","text-white","text-xs"],["loader","",1,"fixed","inset-0","flex","items-center","justify-center","pointer-events-auto","bg-white","dark:bg-neutral-600"],[3,"diameter"]],template:function(m,h){1&m&&(O.YNc(0,i,2,0,"div",0),O.YNc(1,f,2,1,"div",1)),2&m&&(O.Q6J("ngIf",!h.online),O.xp6(1),O.Q6J("ngIf",h.loading))},dependencies:[C.O5,E.sN],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%] > [loader][_ngcontent-%COMP%]{z-index:997;background-image:url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\")}"]})},5306:(Je,K,t)=>{"use strict";t.d(K,{o:()=>C});var e=t(6353),n=t(6895),y=t(158);function T(E,i){if(1&E&&(e.TgZ(0,"i"),e._uU(1),e.Hsn(2),e.qZA()),2&E){const f=e.oxw();e.Tol((null==f.icon?null:f.icon.class)||f.className),e.xp6(1),e.hij(" ",null==f.icon?null:f.icon.content," ")}}function v(E,i){if(1&E&&(e._UZ(0,"img",3),e.ALo(1,"safe")),2&E){const f=e.oxw();e.Q6J("src",e.xi3(1,1,f.icon.src,"resource"),e.LSH)}}class C{constructor(){this.className="material-icons"}}C.\u0275fac=function(i){return new(i||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-icon"],["icon"]],inputs:{className:"className",icon:"icon"},ngContentSelectors:["*"],decls:3,vars:2,consts:[[1,"flex","items-center","justify-center","h-[1.25em]","w-[1.25em]"],[3,"class",4,"ngIf"],["class","h-[1em] w-[1em]",3,"src",4,"ngIf"],[1,"h-[1em]","w-[1em]",3,"src"]],template:function(i,f){1&i&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,T,3,3,"i",1),e.YNc(2,v,2,4,"img",2),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",!f.icon||"img"!==f.icon.type),e.xp6(1),e.Q6J("ngIf",f.icon&&"img"===f.icon.type))},dependencies:[n.O5,y.y],styles:["i[_ngcontent-%COMP%]{font-size:1em}"]})},2581:(Je,K,t)=>{"use strict";t.d(K,{K:()=>_});var e=t(6353),n=t(6895),y=t(5306);function T(l,m){if(1&l&&e._UZ(0,"img",8),2&l){const h=e.oxw().$implicit;e.Q6J("src",h.url||h,e.LSH)}}function v(l,m){if(1&l&&(e.TgZ(0,"div",6),e.YNc(1,T,1,1,"img",7),e.qZA()),2&l){const h=m.$implicit,d=e.oxw();e.Udp("transform","translateX(-"+100*d.offset+"%)"),e.xp6(1),e.Q6J("ngIf",h)}}function O(l,m){1&l&&(e.TgZ(0,"div",9)(1,"app-icon",10),e._uU(2,"image_not_supported"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"No images"),e.qZA()())}function C(l,m){if(1&l){const h=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(h);const c=e.oxw();return e.KtG(c.offset=c.offset-1)}),e.TgZ(1,"app-icon",12),e._uU(2,"chevron_left"),e.qZA()()}if(2&l){const h=e.oxw();e.Q6J("disabled",0===h.offset)}}function E(l,m){if(1&l){const h=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(h);const c=e.oxw();return e.KtG(c.offset=c.offset+1)}),e.TgZ(1,"app-icon",12),e._uU(2,"chevron_right"),e.qZA()()}if(2&l){const h=e.oxw();e.Q6J("disabled",h.offset>=(null==h.images?null:h.images.length)-1)}}function i(l,m){if(1&l&&e._UZ(0,"button",16),2&l){const h=m.index,d=e.oxw(2);e.ekj("!bg-white",d.offset===h)}}function f(l,m){if(1&l&&(e.TgZ(0,"div",14),e.YNc(1,i,1,2,"button",15),e.qZA()),2&l){const h=e.oxw();e.xp6(1),e.Q6J("ngForOf",h.images)}}class _{constructor(){this.images=[],this.offset=0}}_.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["image-carousel"]],inputs:{images:"images"},decls:6,vars:5,consts:[[1,"h-full","w-full","relative","overflow-hidden","flex"],["image","","class","h-full min-w-full relative flex items-center justify-center overflow-hidden",3,"transform",4,"ngFor","ngForOf"],["class","h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-black/60 text-white",3,"disabled","click",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-black/60 text-white",3,"disabled","click",4,"ngIf"],["class","absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2",4,"ngIf"],["image","",1,"h-full","min-w-full","relative","flex","items-center","justify-center","overflow-hidden"],["class","h-full object-contain",3,"src",4,"ngIf"],[1,"h-full","object-contain",3,"src"],[1,"h-full","w-full","relative","flex","flex-col","items-center","justify-center","opacity-30","space-y-2"],[1,"text-5xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","left-0","inset-y-0","w-1/3","bg-black/60","text-white",3,"disabled","click"],[1,"text-4xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","right-0","inset-y-0","w-1/3","bg-black/60","text-white",3,"disabled","click"],[1,"absolute","bottom-1","left-1/2","-translate-x-1/2","text-sm","opacity-30","space-x-2"],["matRipple","","class","h-4 w-4 rounded-full bg-gray-400 shadow",3,"!bg-white",4,"ngFor","ngForOf"],["matRipple","",1,"h-4","w-4","rounded-full","bg-gray-400","shadow"]],template:function(m,h){1&m&&(e.TgZ(0,"div",0),e.YNc(1,v,2,3,"div",1),e.YNc(2,O,5,0,"div",2),e.YNc(3,C,3,1,"button",3),e.YNc(4,E,3,1,"button",4),e.YNc(5,f,2,1,"div",5),e.qZA()),2&m&&(e.xp6(1),e.Q6J("ngForOf",h.images),e.xp6(1),e.Q6J("ngIf",!(null!=h.images&&h.images.length)),e.xp6(1),e.Q6J("ngIf",null==h.images?null:h.images.length),e.xp6(1),e.Q6J("ngIf",null==h.images?null:h.images.length),e.xp6(1),e.Q6J("ngIf",null==h.images?null:h.images.length))},dependencies:[n.sg,n.O5,y.o],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[image][_ngcontent-%COMP%]{transition:transform .3s}"]})},9136:(Je,K,t)=>{"use strict";t.d(K,{p:()=>P,u:()=>x});var e=t(9671),n=t(6353),y=t(8368),T=t(1228),v=t(591),O=t(4850),C=t(6895),E=t(1343),i=t(7202);const f=["outlet"],_=["feature"];function l(g,u){1&g&&n._UZ(0,"mat-spinner",6),2&g&&n.Q6J("diameter",48)}function m(g,u){if(1&g&&(n.ynx(0),n.YNc(1,l,1,1,"mat-spinner",5),n.BQk()),2&g){const M=n.oxw();n.xp6(1),n.Q6J("ngIf",!M.viewer||M.loading)}}function h(g,u){1&g&&n.GkF(0)}function d(g,u){if(1&g&&(n.ynx(0),n.YNc(1,h,1,0,"ng-container",14),n.BQk()),2&g){const M=n.oxw(2),R=M.$implicit,w=M.index,F=n.oxw(2);n.xp6(1),n.Q6J("ngComponentOutlet",R.content)("ngComponentOutletInjector",F.injectors[w])}}function c(g,u){if(1&g&&(n.ynx(0),n._UZ(1,"div",15),n.ALo(2,"sanitize"),n.BQk()),2&g){const M=n.oxw(2).$implicit;n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,1,M.content),n.oJD)}}function a(g,u){1&g&&n.GkF(0)}function s(g,u){if(1&g&&(n.ynx(0),n.YNc(1,a,1,0,"ng-container",16),n.BQk()),2&g){const M=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngTemplateOutlet",M.content)("ngTemplateOutletContext",M.data)}}function r(g,u){if(1&g&&(n.TgZ(0,"div")(1,"div",10,11),n.YNc(3,d,2,2,"ng-container",12),n.YNc(4,c,3,3,"ng-container",12),n.YNc(5,s,2,2,"ng-container",13),n.qZA()()),2&g){const M=n.oxw().$implicit,R=n.oxw(2);n.xp6(1),n.Q6J("ngSwitch",R.type(M.content)),n.uIk("no-scale",M.no_scale)("el-id",M.location)("track-id",M.track_id)("view-id",R.viewer),n.xp6(2),n.Q6J("ngSwitchCase","component"),n.xp6(1),n.Q6J("ngSwitchCase","html")}}function o(g,u){if(1&g&&(n.ynx(0),n.YNc(1,r,6,7,"div",9),n.BQk()),2&g){const M=u.$implicit;n.xp6(1),n.Q6J("ngIf",M)}}function S(g,u){if(1&g&&(n.TgZ(0,"div",7),n.YNc(1,o,2,1,"ng-container",8),n.qZA()),2&g){const M=n.oxw();n.xp6(1),n.Q6J("ngForOf",M.features)("ngForTrackBy",M.trackByFn)}}function I(g,u){1&g&&(n.TgZ(0,"div",17)(1,"div",18),n._uU(2,"No map"),n.qZA()())}const x=new n.OlP("Data for Map Features");class P extends y.KG{constructor(u){super(),this._injector=u,this.zoom=1,this.center={x:.5,y:.5},this.injectors=[],this.feature_list=[],this._on_changes=new v.X(null),this._extra_data={ratio$:this._on_changes.pipe((0,O.U)(M=>M.ratio)),svg_ratio$:this._on_changes.pipe((0,O.U)(M=>M.svg_ratio)),zoom$:this._on_changes.pipe((0,O.U)(M=>M.zoom)),position:this._on_changes.pipe((0,O.U)(M=>M.center))}}onResize(){this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay()}type(u){return"string"==typeof u?"html":u instanceof n.Rgc?"template":"component"}ngOnInit(){(0,T.lL)()}ngOnDestroy(){this.viewer&&(0,T.hX)(this.viewer)}ngOnChanges(u){u.src&&this.src&&this.createView(),u.features&&this.updateInjectors(),this.viewer&&(u.focus&&this.focus?this.focusOn(this.focus):(u.zoom||u.center)&&this.updateDisplay(),(u.styles||u.features||u.labels||u.actions)&&this.timeout("update_view",()=>this.updateView()))}ngAfterViewInit(){this.createView()}updateView(){try{if(!(0,T.gA)(this.viewer)||this.loading)return this.timeout("update_view",()=>this.updateView());this.updateFeatureList(),(0,T.We)(this.viewer,{styles:this.styles,features:this.feature_list,labels:this.labels,actions:this.actions,options:this.options})}catch{}}updateDisplay(){try{(0,T.We)(this.viewer,{zoom:this.zoom,desired_zoom:this.zoom,center:this.center,desired_center:this.center,options:this.options})}catch{}}createView(){var u=this;return(0,e.Z)(function*(){u.src&&u._outlet_el?.nativeElement&&!u.loading?(u.loading=!0,u.viewer&&((0,T.We)(u.viewer,{styles:u.styles,features:[],labels:u.labels,actions:u.actions,options:u.options}),(0,T.hX)(u.viewer)),u.updateFeatureList(),u.viewer=yield(0,T.i9)({element:u._outlet_el?.nativeElement,url:u.src,styles:u.styles,zoom:u.zoom,desired_zoom:u.zoom,center:u.center,features:u.feature_list,labels:u.labels,actions:u.actions,options:u.options}),u.loading=!1,u.subscription("view_changes",(0,T.ih)(u.viewer)?.subscribe(M=>{u._outlet_el.nativeElement.getBoundingClientRect(),u._on_changes.next({...M})})),u.focus&&u.focusOn(u.focus)):(u.src&&!u._outlet_el?.nativeElement||u.loading)&&u.timeout("create_view",()=>u.createView())})()}focusOn(u){if(!u||!this.viewer)return;const M=(0,T.gA)(this.viewer);if(!M)return;const R=M.mappings[u];!R||(this.center={x:1-(R.x+R.w/2),y:1-(R.y+R.h/4)},this.updateDisplay())}trackByFn(u,M){return M?.track_id||JSON.stringify({...M})}updateFeatureList(){this.feature_list=(this.features||[]).map((u,M)=>({...u,content:this._feature_list.toArray()[M]?.nativeElement})).filter(u=>u.content)}updateInjectors(){const u=this.injectors||[];this.injectors=(this.features||[]).map(M=>u.find(R=>R.get(x)?.track_id&&R.get(x)?.track_id===M.track_id)||n.zs3.create({providers:[{provide:x,useValue:{track_id:M.track_id,...M.data,...this._extra_data}}],parent:this._injector}))}}P.\u0275fac=function(u){return new(u||P)(n.Y36(n.zs3))},P.\u0275cmp=n.Xpm({type:P,selectors:[["i-map"],["interactive-map"]],viewQuery:function(u,M){if(1&u&&(n.Gf(f,5),n.Gf(_,5)),2&u){let R;n.iGM(R=n.CRH())&&(M._outlet_el=R.first),n.iGM(R=n.CRH())&&(M._feature_list=R)}},hostBindings:function(u,M){1&u&&n.NdJ("resize",function(){return M.onResize()},!1,n.Jf7)},inputs:{src:"src",styles:"styles",zoom:"zoom",center:"center",features:"features",labels:"labels",actions:"actions",options:"options",focus:"focus"},features:[n.qOj,n.TTD],decls:6,vars:5,consts:[["tabindex","0","role","map",1,"absolute","inset-0"],["outlet",""],[4,"ngIf","ngIfElse"],["hidden","",4,"ngIf"],["empty_state",""],["class","absolute",3,"diameter",4,"ngIf"],[1,"absolute",3,"diameter"],["hidden",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"pointer-events-none",3,"ngSwitch"],["feature",""],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"opacity-30"]],template:function(u,M){if(1&u&&(n._UZ(0,"div",0,1),n.YNc(2,m,2,1,"ng-container",2),n.YNc(3,S,2,2,"div",3),n.YNc(4,I,3,0,"ng-template",null,4,n.W1O)),2&u){const R=n.MAs(5);n.ekj("hidden",!M.src),n.xp6(2),n.Q6J("ngIf",M.src)("ngIfElse",R),n.xp6(1),n.Q6J("ngIf",null==M.injectors?null:M.injectors.length)}},dependencies:[C.$G,C.sg,C.O5,C.tP,C.RF,C.n9,C.ED,E.sN,i.n],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})},5074:(Je,K,t)=>{"use strict";t.d(K,{M:()=>y});var e=t(3970),n=t(6353);class y{constructor(v){this.json=v?.data||"",this._updateFormatting()}ngOnChanges(v){v.json&&this._updateFormatting()}_updateFormatting(){this.formatted_json=JSON.stringify(this.json,void 0,4)}}y.\u0275fac=function(v){return new(v||y)(n.Y36(e.L,8))},y.\u0275cmp=n.Xpm({type:y,selectors:[["json-display"]],inputs:{json:"json"},features:[n.TTD],decls:3,vars:1,consts:[[1,"bg-white","dark:bg-neutral-600","shadow","rounded","overflow-auto","max-w-[80vw]","max-h-[80vh]","p-2"],[1,"font-mono","text-sm","bg-black/10","p-2"]],template:function(v,O){1&v&&(n.TgZ(0,"div",0)(1,"pre",1),n._uU(2),n.qZA()()),2&v&&(n.xp6(2),n.Oqu(O.formatted_json))},encapsulation:2})},8261:(Je,K,t)=>{"use strict";t.d(K,{p:()=>C});var e=t(6353),n=t(5559),y=t(8368),T=t(565),v=t(4702);function O(E,i){if(1&E&&(e.TgZ(0,"div",5)(1,"i-map",6),e._UZ(2,"mat-spinner",7),e.qZA(),e.TgZ(3,"div",8),e._uU(4),e.qZA()()),2&E){const f=e.oxw();e.xp6(1),e.Q6J("src",f.level.map_id)("styles",f.style_map)("features",f.features),e.xp6(3),e.hij(" ",null==f.level?null:f.level.name," ")}}class C extends y.KG{constructor(i,f){super(),this._data=i,this._org=f,this.event=new e.vpe,this.item=this._data.item,this.style_map={}}get level(){return this.item.level||this._org.levelWithID(this.item.zones||[])}ngOnInit(){this.timeout("init",()=>{this.processFeature(),this.processStyles()},1e3)}processStyles(){const i={};this.item?.map_id&&(i["#zones"]={display:"none"},i["#Zones"]={display:"none"}),this.style_map=i}processFeature(){if(!this.item)return null;this.features=[{location:this.item.map_id,track_id:"focus_item",content:v.q,data:{name:this.item.name},z_index:99,zoom:100}]}}C.\u0275fac=function(i){return new(i||C)(e.Y36(n.eJ),e.Y36(T.w))},C.\u0275cmp=e.Xpm({type:C,selectors:[["map-locate-modal"]],outputs:{event:"event"},features:[e.qOj],decls:9,vars:2,consts:[[1,"h-12","px-2"],[1,"ml-2"],["body","","class","relative overflow-hidden pointer-events-none",4,"ngIf"],[1,"w-full","border-t","border-gray-200","flex","items-center","justify-center","p-2"],["mat-button","","mat-dialog-close","",1,"inverse","w-32"],["body","",1,"relative","overflow-hidden","pointer-events-none"],[3,"src","styles","features"],["diameter","64"],[1,"absolute","top-2","right-2","py-2","px-4","bg-white","rounded-3xl","shadow"]],template:function(i,f){1&i&&(e.TgZ(0,"header",0)(1,"app-icon"),e._uU(2,"place"),e.qZA(),e.TgZ(3,"h1",1),e._uU(4),e.qZA()(),e.YNc(5,O,5,4,"div",2),e.TgZ(6,"footer",3)(7,"button",4),e._uU(8," Close "),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(f.item.name),e.xp6(1),e.Q6J("ngIf",f.level))},styles:["[body][_ngcontent-%COMP%]{min-width:80vw!important;width:80vw;height:65vh}"]})},4702:(Je,K,t)=>{"use strict";t.d(K,{q:()=>C});var e=t(9136),n=t(6353),y=t(6895);function v(E,i){if(1&E&&(n.TgZ(0,"div",2),n._uU(1),n.qZA()),2&E){const f=n.oxw();n.xp6(1),n.hij(" ",f.message," ")}}function O(E,i){if(1&E){const f=n.EpF();n.O4$(),n.TgZ(0,"svg",3),n.NdJ("click",function(){n.CHM(f);const l=n.oxw();return n.KtG(l.action())}),n.TgZ(1,"g"),n._UZ(2,"path",4),n.qZA()()}if(2&E){const f=n.oxw();n.ekj("action",f.action),n.xp6(2),n.Udp("fill",f.fill)("stroke",f.stroke)}}class C{constructor(i){this._details=i,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#fff",this.action=this._details.action||null}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}}C.\u0275fac=function(i){return new(i||C)(n.Y36(e.u))},C.\u0275cmp=n.Xpm({type:C,selectors:[["","map-pin",""]],attrs:["map-pin",""],decls:2,vars:2,consts:[["name","message","class","p-2 m-2 rounded bg-white text-gray-700 shadow",4,"ngIf"],["name","pin","viewBox","0 0 380 560",3,"action","click",4,"ngIf"],["name","message",1,"p-2","m-2","rounded","bg-white","text-gray-700","shadow"],["name","pin","viewBox","0 0 380 560",3,"click"],["stroke-width","25","d","M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"]],template:function(i,f){1&i&&(n.YNc(0,v,2,1,"div",0),n.YNc(1,O,3,6,"svg",1)),2&i&&(n.Q6J("ngIf",f.message&&f.show_message),n.xp6(1),n.Q6J("ngIf",f.show))},dependencies:[y.O5],styles:["[_nghost-%COMP%]{position:absolute;bottom:0;left:50%;width:24rem;display:flex;flex-direction:column;align-items:center;transform:translate(-50%);z-index:-1}div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-top 1s}.action[_ngcontent-%COMP%]{pointer-events:auto}svg[_ngcontent-%COMP%]{width:2rem;animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}"]})},9627:(Je,K,t)=>{"use strict";t.d(K,{i:()=>v});var e=t(8368),n=t(9136),y=t(6353);class v extends e.KG{constructor(C,E){super(),this._details=C,this._cdr=E,this.name=this._details.name,this.fill=`${this._details.color||"#e53935"}88`,this.stroke=this._details.color||"#e53935",this.padding=32,this.width=1,this.height=1,this.svg_scale=20,this.points=`0,0 0,${this.height} ${this.width},${this.height} ${this.width},0`,this.point_list=[]}get scale(){return this._details.svg_ratio||1}get zoom(){return this._details.zoom_value||1}ngOnInit(){this._details.data$&&this.subscription("data",this._details.data$.subscribe(C=>{this.name=C.name,this.fill=`${C.color||"#e53935"}88`,this.stroke=C.color||"#e53935",this.processPoints(C.points)})),this.subscription("ratio",this._details.ratio$?.subscribe(C=>{this._details.ratio=C,this.processPoints(this._details.points)})),this.subscription("zoom",this._details.zoom$?.subscribe(C=>this._details.zoom_value=C)),this.subscription("svg_ratio",this._details.svg_ratio$?.subscribe(C=>this._details.svg_ratio=C)),this.processPoints(this._details.points)}processPoints(C){const E=C.reduce((_,[l,m])=>({x_min:l<_.x_min?l:_.x_min,x_max:l>_.x_max?l:_.x_max,y_min:m<_.y_min?m:_.y_min,y_max:m>_.y_max?m:_.y_max}),{x_min:100,x_max:-100,y_min:100,y_max:-100}),i_x=E.x_max-E.x_min,i_y=E.y_max-E.y_min,{ratio:f}=this._details;this.width=100*i_x,this.height=100*i_y*(f||1),this.width=Math.floor(100*this.width),this.height=Math.floor(100*this.height),this.points=C.reduce((_,[l,m])=>`${_}${_?" ":""}${(l-E.x_min)/i_x*this.width/20},${(m-E.y_min)/i_y*this.height/20}`,"").replace(/NaN/g,"0"),this.point_list=C.map(([_,l])=>[(_-E.x_min)/i_x*this.width/20,(l-E.y_min)/i_y*this.height/20]),this._cdr.detectChanges()}}v.\u0275fac=function(C){return new(C||v)(y.Y36(n.u),y.Y36(y.sBO))},v.\u0275cmp=y.Xpm({type:v,selectors:[["","map-polygon",""]],features:[y.qOj],attrs:["map-polygon",""],decls:6,vars:13,consts:[["polygon","",1,"absolute","w-full","h-full","transform","-translate-x-1/2","-translate-y-1/2","-top-1","-left-1"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"],["preserveAspectRatio","none",1,"relative","w-full","h-full"],["text","",1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-shadow","text-white","text-xl","text-center","whitespace-pre-line"]],template:function(C,E){1&C&&(y.TgZ(0,"div",0)(1,"div",1),y.O4$(),y.TgZ(2,"svg",2),y._UZ(3,"polygon"),y.qZA()()(),y.kcU(),y.TgZ(4,"div",3),y._uU(5),y.qZA()),2&C&&(y.Udp("transform","scale("+E.scale*E.zoom+")"),y.xp6(1),y.Udp("width",E.width+"%")("height",E.height+"%"),y.xp6(1),y.uIk("viewBox","0 0 "+(E.width/20||1)+" "+(E.height/20||1)),y.xp6(1),y.Udp("fill",E.fill)("stroke",E.stroke),y.uIk("points",E.points),y.xp6(2),y.hij(" ",E.name," "))},styles:["[polygon][_ngcontent-%COMP%]{will-change:transform}polygon[_ngcontent-%COMP%]{stroke-width:2}circle[_ngcontent-%COMP%]{stroke-width:2}[text][_ngcontent-%COMP%]{width:32rem;max-width:65vw}"]})},3159:(Je,K,t)=>{"use strict";t.d(K,{n:()=>i});var e=t(3228),n=t(9136),y=t(6353),T=t(6895);function O(f,_){if(1&f&&(y.TgZ(0,"span",6),y._uU(1),y.qZA()),2&f){const l=y.oxw(3);y.xp6(1),y.hij(" Last updated: ",l.last_seen_at," ")}}function C(f,_){if(1&f&&(y.TgZ(0,"div",4),y._uU(1),y.YNc(2,O,2,1,"span",5),y.qZA()),2&f){const l=y.oxw(2);y.Udp("top","-"+l.radius/2*l.zoom+"px"),y.xp6(1),y.hij(" ",l.message," "),y.xp6(1),y.Q6J("ngIf",l.last_seen)}}function E(f,_){if(1&f){const l=y.EpF();y.ynx(0,1),y.NdJ("resize",function(){y.CHM(l);const h=y.oxw();return y.KtG(h.updateRadius())},!1,y.Jf7),y._UZ(1,"div",2),y.YNc(2,C,3,4,"div",3),y.BQk()}if(2&f){const l=y.oxw();y.xp6(1),y.Udp("border-color",l.stroke)("background-color",l.fill+"40")("width",l.radius*l.zoom+"px")("height",l.radius*l.zoom+"px"),y.xp6(1),y.Q6J("ngIf",l.message&&l.show_message)}}class i{constructor(_,l){this._details=_,this._el=l,this.zoom=1,this.radius=this._details.radius||10,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#e53935",this.last_seen=this._details.last_seen||0,this._details.zoom$?.subscribe(m=>Math.max(.5,this.zoom=m||1))}get last_seen_at(){return(0,e.Z)(1e3*this.last_seen)+" ago"}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}ngAfterViewInit(){this.updateRadius()}updateRadius(){const _=this._el.nativeElement.getBoundingClientRect();if(!_.width)return setTimeout(()=>this.updateRadius(),300);this.radius=Math.max(64,(this._details.radius||10)*(_.width||10))}}i.\u0275fac=function(_){return new(_||i)(y.Y36(n.u),y.Y36(y.SBq))},i.\u0275cmp=y.Xpm({type:i,selectors:[["","map-radius",""]],attrs:["map-radius",""],decls:1,vars:1,consts:[[3,"resize",4,"ngIf"],[3,"resize"],["radius","",1,"center","border-4","rounded-full","border-dashed"],["message","","class","p-2 m-2 rounded bg-white text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64",3,"top",4,"ngIf"],["message","",1,"p-2","m-2","rounded","bg-white","text-gray-700","shadow","absolute","top-0","whitespace-no-wrap","flex","flex-col","w-64"],["class","text-xs",4,"ngIf"],[1,"text-xs"]],template:function(_,l){1&_&&y.YNc(0,E,3,9,"ng-container",0),2&_&&y.Q6J("ngIf",l.show&&l.radius)},dependencies:[T.O5],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:100%}[message][_ngcontent-%COMP%]{transform:translate(-50%,-120%);animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translate(-50%,-220%)}to{opacity:1;transform:translate(-50%,-120%)}}"]})},9067:(Je,K,t)=>{"use strict";t.d(K,{J:()=>C});var e=t(6353),n=t(8368),y=t(6895),T=t(9818),v=t(5306);function O(E,i){if(1&E){const f=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){const m=e.CHM(f).$implicit,h=e.oxw();return h.action.emit(m.id),e.KtG(h.show=!1)}),e._UZ(1,"app-icon",3),e.qZA()}if(2&E){const f=i.$implicit,_=i.index,l=e.oxw();e.Udp("top",l.show?-110*_-60+"%":""),e.xp6(1),e.Q6J("icon",f)}}class C extends n.KG{constructor(){super(...arguments),this.actions=[],this.action=new e.vpe}close(){this.timeout("close",()=>this.show=!1)}}C.\u0275fac=function(){let E;return function(f){return(E||(E=e.n5z(C)))(f||C)}}(),C.\u0275cmp=e.Xpm({type:C,selectors:[["a-popout-menu"]],inputs:{actions:"actions"},outputs:{action:"action"},features:[e.qOj],decls:4,vars:4,consts:[["mat-icon-button","","class","small absolute text-base center shadow",3,"top","click",4,"ngFor","ngForOf"],["name","root","mat-icon-button","",3,"click"],["mat-icon-button","",1,"small","absolute","text-base","center","shadow",3,"click"],[3,"icon"]],template:function(i,f){1&i&&(e.YNc(0,O,2,3,"button",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return f.show=!f.show})("click",function(){return f.show?f.close():""},!1,e.Jf7),e.TgZ(2,"app-icon"),e._uU(3),e.qZA()()),2&i&&(e.Q6J("ngForOf",f.actions),e.xp6(1),e.ekj("show",f.show),e.xp6(2),e.Oqu(f.show?"add":"more_vert"))},dependencies:[y.sg,T.eB,v.o],styles:["[_nghost-%COMP%]{position:relative}app-icon[_ngcontent-%COMP%]{transition:transform .2s}button[_ngcontent-%COMP%]{background-color:#fff;color:rgba(#000,.85);font-size:1.25rem;height:2.5em;width:2.5em}button.show[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}button.small[_ngcontent-%COMP%]{transition:top .2s,left .2s}"]})},4071:(Je,K,t)=>{"use strict";t.d(K,{e:()=>C});var e=t(9671),n=t(7224),y=t(8368),T=t(565),v=t(6353),O=t(6581);class C{constructor(i,f,_){this._settings=i,this._org=f,this._router=_}ngOnInit(){var i=this;return(0,e.Z)(function*(){yield i._settings.initialised.pipe((0,n.P)(f=>f)).toPromise(),yield i._org.initialised.pipe((0,n.P)(f=>f)).toPromise(),i._settings.get("app.default_route")&&i._router.navigate(i._settings.get("app.default_route").split("/"))})()}}C.\u0275fac=function(i){return new(i||C)(v.Y36(y.gb),v.Y36(T.w),v.Y36(O.F0))},C.\u0275cmp=v.Xpm({type:C,selectors:[["page-redirect"]],decls:0,vars:0,template:function(i,f){}})},158:(Je,K,t)=>{"use strict";t.d(K,{y:()=>y});var e=t(6353),n=t(1481);class y{constructor(v){this.sanitizer=v}transform(v,O="html"){switch(O){case"resource":return this.sanitizer.bypassSecurityTrustResourceUrl(v);case"url":return this.sanitizer.bypassSecurityTrustUrl(v);case"script":return this.sanitizer.bypassSecurityTrustScript(v);case"style":return this.sanitizer.bypassSecurityTrustStyle(v);default:return this.sanitizer.bypassSecurityTrustHtml(v)}}}y.\u0275fac=function(v){return new(v||y)(e.Y36(n.H7,16))},y.\u0275pipe=e.Yjl({name:"safe",type:y,pure:!0})},7202:(Je,K,t)=>{"use strict";t.d(K,{n:()=>T});var e=t(6353),n=t(1481),y=(()=>{return(v=y||(y={}))[v.NONE=0]="NONE",v[v.HTML=1]="HTML",v[v.STYLE=2]="STYLE",v[v.SCRIPT=3]="SCRIPT",v[v.URL=4]="URL",v[v.RESOURCE_URL=5]="RESOURCE_URL",y;var v})();class T{constructor(O){this.sanitizer=O}transform(O,C="html"){switch(C){case"resource":return this.sanitizer.sanitize(y.RESOURCE_URL,O);case"url":return this.sanitizer.sanitize(y.URL,O);case"script":return this.sanitizer.sanitize(y.SCRIPT,O);case"style":return this.sanitizer.sanitize(y.STYLE,O);default:return this.sanitizer.sanitize(y.HTML,O)}}}T.\u0275fac=function(O){return new(O||T)(e.Y36(n.H7,16))},T.\u0275pipe=e.Yjl({name:"sanitize",type:T,pure:!0})},9823:(Je,K,t)=>{"use strict";t.d(K,{b:()=>m});var e=t(6353),n=t(6895),y=t(9818),T=t(1343),v=t(5306);function O(h,d){1&h&&(e.ynx(0),e.Hsn(1),e.BQk())}const C=function(h){return[h]};function E(h,d){if(1&h&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&h){const c=d.$implicit;e.Q6J("routerLink",e.VKq(2,C,c.route)),e.xp6(1),e.hij(" ",c.name," ")}}function i(h,d){if(1&h&&(e.ynx(0),e.TgZ(1,"div",4)(2,"app-icon"),e._uU(3),e.qZA()(),e.TgZ(4,"div",5),e.YNc(5,O,2,0,"ng-container",1),e.qZA(),e.TgZ(6,"div",6),e.YNc(7,E,2,4,"a",7),e.qZA(),e.BQk()),2&h){const c=e.oxw(),a=e.MAs(3);e.xp6(1),e.ekj("text-success",!c.error)("text-error",c.error),e.xp6(2),e.Oqu(c.error?"close":"done"),e.xp6(2),e.Q6J("ngIf",!c.error)("ngIfElse",a),e.xp6(2),e.Q6J("ngForOf",c.links)}}function f(h,d){if(1&h&&(e.TgZ(0,"p",9),e._uU(1),e.qZA()),2&h){const c=e.oxw();e.xp6(1),e.Oqu(c.error)}}function _(h,d){if(1&h&&(e._UZ(0,"mat-spinner",10),e.TgZ(1,"p",11),e._uU(2),e.qZA()),2&h){const c=e.oxw();e.Q6J("diameter",32),e.xp6(2),e.Oqu(c.loading)}}class m{constructor(){this.loading="",this.error="",this.links=[]}}m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["status-overlay"]],inputs:{loading:"loading",error:"error",links:"links"},ngContentSelectors:["*"],decls:6,vars:2,consts:[["status-overlay","",1,"fixed","inset-0","flex","flex-col","bg-secondary","items-center","justify-center","z-50","text-white"],[4,"ngIf","ngIfElse"],["error_msg",""],["load_state",""],[1,"text-4xl","rounded-full","bg-white","mb-4"],[1,"text-center","text-lg","mb-4"],[1,"flex","items-center","space-x-2"],["button","","mat-button","","class","w-32",3,"routerLink",4,"ngFor","ngForOf"],["button","","mat-button","",1,"w-32",3,"routerLink"],["error",""],[1,"mb-4",3,"diameter"],["loading","",1,"text-center","text-lg"]],template:function(d,c){if(1&d&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,i,8,8,"ng-container",1),e.qZA(),e.YNc(2,f,2,1,"ng-template",null,2,e.W1O),e.YNc(4,_,3,2,"ng-template",null,3,e.W1O)),2&d){const a=e.MAs(5);e.xp6(1),e.Q6J("ngIf",!c.loading)("ngIfElse",a)}},dependencies:[n.sg,n.O5,y.Nr,T.sN,v.o]})},9685:(Je,K,t)=>{"use strict";t.d(K,{k:()=>E}),t(5197);var n=t(6353),y=t(6895),T=t(158);function v(i,f){if(1&i&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&i){const _=n.oxw(2);n.xp6(1),n.hij(" ",_.initials," ")}}function O(i,f){if(1&i&&(n.TgZ(0,"div",2),n.YNc(1,v,2,1,"div",3),n.qZA()),2&i){const _=n.oxw(),l=n.MAs(2);n.uIk("user-id",_.user.id),n.xp6(1),n.Q6J("ngIf",!_.user.photo)("ngIfElse",l)}}function C(i,f){if(1&i&&(n._UZ(0,"img",5),n.ALo(1,"safe")),2&i){const _=n.oxw();n.Q6J("src",n.xi3(1,1,_.user.photo,"resource"),n.LSH)}}class E{get initials(){if(!this.user)return"NA";const f=this.user.name||"",_=f.replace(/[()[\]\-+=\\/]+/gi,"").split(" ");return _.length>1?`${_[0][0]}${_[_.length-1][0]}`:f.slice(0,2)}}E.\u0275fac=function(f){return new(f||E)},E.\u0275cmp=n.Xpm({type:E,selectors:[["a-user-avatar"]],inputs:{user:"user"},decls:3,vars:1,consts:[["class","flex items-center justify-center rounded-full overflow-hidden border-2 border-white",4,"ngIf"],["image_state",""],[1,"flex","items-center","justify-center","rounded-full","overflow-hidden","border-2","border-white"],["initials","","class","text-white text-opacity-80 uppercase",4,"ngIf","ngIfElse"],["initials","",1,"text-white","text-opacity-80","uppercase"],[1,"h-full","w-full",3,"src"]],template:function(f,_){1&f&&(n.YNc(0,O,2,3,"div",0),n.YNc(1,C,2,4,"ng-template",null,1,n.W1O)),2&f&&n.Q6J("ngIf",_.user)},dependencies:[y.O5,T.y],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:2.5em;width:2.5em;background-color:var(--secondary);overflow:hidden;border:2px solid white}.initials[_ngcontent-%COMP%]{font-size:1em}"]})},4618:(Je,K,t)=>{"use strict";t.d(K,{U:()=>m});var e=t(4080),n=t(8368),y=t(6353),T=t(8184),v=t(6895);function C(h,d){if(1&h&&y._UZ(0,"div",7),2&h){const c=y.oxw(4);y.ekj("bg-success","shift"===c.state)}}function E(h,d){if(1&h){const c=y.EpF();y.ynx(0),y.TgZ(1,"div",5),y.NdJ("focus",function(){y.CHM(c);const s=y.oxw(3);return y.KtG(s.focusInput())})("click",function(){const r=y.CHM(c).$implicit,o=y.oxw(3);return y.KtG(o.handleKeyPress(r))}),y._uU(2),y.YNc(3,C,1,2,"div",6),y.qZA(),y.BQk()}if(2&h){const c=d.$implicit;y.xp6(1),y.ekj("special","{"===c[0]&&c.length>1)("space","{space}"===c),y.uIk("key",c),y.xp6(1),y.hij(" ","{space}"===c?"Space":"{caps}"===c?"Caps Lock":"{backspace}"===c?"Backspace":c," "),y.xp6(1),y.Q6J("ngIf","{caps}"===c)}}function i(h,d){if(1&h&&(y.TgZ(0,"div",3),y.YNc(1,E,4,7,"ng-container",4),y.qZA()),2&h){const c=d.$implicit;y.xp6(1),y.Q6J("ngForOf",c)}}function f(h,d){if(1&h&&(y.TgZ(0,"div",1),y.YNc(1,i,2,1,"div",2),y.qZA()),2&h){const c=y.oxw();y.xp6(1),y.Q6J("ngForOf",c.keyset)}}const l=["0123456789".split(""),"qwertyuiop".split(""),"asdfghjkl".split(""),"zxcvbnm".split(""),["{caps}","{space}","{backspace}"]];class m extends n.KG{constructor(d,c){super(),this._element=d,this._overlay=c,this.keyset=l,this.state="normal",this._overlay_ref=null,this.onFocus=()=>{!m.enabled||(this.open(),this.clearTimeout("blur"))},this.onBlur=()=>this.timeout("blur",()=>this.close())}ngOnDestroy(){super.ngOnDestroy(),this.close()}focusInput(){this._element?.nativeElement?.blur(),this._element?.nativeElement?.focus()}open(){this._overlay_ref||!this._portal||(this._overlay_ref=this._overlay.create({positionStrategy:this._overlay.position().global().bottom().centerHorizontally()}),this._overlay_ref.attach(this._portal))}close(){this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}handleKeyPress(d){let c=this._element.nativeElement.selectionStart;const a=this._element.nativeElement.value||"";switch(d.toLowerCase()){case"{caps}":case"{shift}":this.state="shift";break;case"{backspace}":this._element.nativeElement.value=`${a.substr(0,c-1)}${a.substr(c,a.length)}`,c=Math.max(0,c-1);break;case"{space}":this._element.nativeElement.value=`${a.substr(0,c)} ${a.substr(c,a.length)}`,c+=1;break;default:"shift"===this.state&&(this.state="normal"),this._element.nativeElement.value=`${a.substr(0,c)}${d}${a.substr(c,a.length)}`,c+=1}this._element.nativeElement.dispatchEvent(new InputEvent("input")),this.updateKeyState(),this.timeout("focus",()=>{this.focusInput(),this._element.nativeElement.selectionStart=c,this._element.nativeElement.selectionEnd=c},50)}updateKeyState(){this.keyset=this.keyset.map(d=>d.map(c=>c.length>1?c:c["normal"!==this.state?"toUpperCase":"toLowerCase"]()))}}m.\u0275fac=function(d){return new(d||m)(y.Y36(y.SBq),y.Y36(T.aV))},m.\u0275cmp=y.Xpm({type:m,selectors:[["input","keyboard",""],["textarea","keyboard",""]],viewQuery:function(d,c){if(1&d&&y.Gf(e.ig,5),2&d){let a;y.iGM(a=y.CRH())&&(c._portal=a.first)}},hostBindings:function(d,c){1&d&&y.NdJ("focus",function(){return c.onFocus()})("blur",function(){return c.onBlur()})},inputs:{keyset:"keyset"},features:[y.qOj],attrs:["keyboard",""],ngContentSelectors:["*"],decls:2,vars:0,consts:[["cdk-portal",""],["keyboard-view","",1,"w-screen","flex","flex-col","space-y-4","bg-gray-200","p-2","border-t","border-gray-400"],["row","","class","flex items-center justify-center space-x-2",4,"ngFor","ngForOf"],["row","",1,"flex","items-center","justify-center","space-x-2"],[4,"ngFor","ngForOf"],["tabindex","0",1,"rounded-xl","p-2","border","border-gray-300","relative","cursor-pointer","bg-white",3,"focus","click"],["dot","","class","absolute top-2 right-2 h-2 w-2 rounded-full bg-gray-300",3,"bg-success",4,"ngIf"],["dot","",1,"absolute","top-2","right-2","h-2","w-2","rounded-full","bg-gray-300"]],template:function(d,c){1&d&&(y.F$t(),y.Hsn(0),y.YNc(1,f,2,1,"ng-template",0))},dependencies:[v.sg,v.O5,e.bH],styles:["[key][_ngcontent-%COMP%]{height:3.5rem;width:4rem;transition:box-shadow .2s,top .2s;box-shadow:0 4px 0 .04px #0000001a}[key].special[_ngcontent-%COMP%]{width:10rem}[key].space[_ngcontent-%COMP%]{flex:1;min-width:10rem;max-width:25rem}[key][_ngcontent-%COMP%]:hover{top:2px;box-shadow:0 2px 0 .04px #0000001a}[key][_ngcontent-%COMP%]:active{top:4px;box-shadow:0 0 0 .04px #0000001a}"]})},1299:(Je,K,t)=>{"use strict";t.d(K,{ym:()=>n.y,MH:()=>e.M,cn:()=>H,rq:()=>y.rq,Yd:()=>v.kv,u$:()=>y.u$,xC:()=>y.xC,Vh:()=>y.Vh});var e=t(5804),n=t(3902),y=t(4211),v=(t(95),t(2906)),O=t(6895),C=t(4006),E=t(9818),i=t(8897),f=t(5559),_=t(8455),l=t(9203),m=t(1343),h=t(4454),d=t(5844),c=t(4693),a=t(6353);function s($,j){1&$&&(a.TgZ(0,"span"),a.SDv(1,12),a.qZA())}function r($,j){if(1&$&&(a.TgZ(0,"div",7),a._UZ(1,"a-user-avatar",8),a.TgZ(2,"div",9)(3,"div"),a._uU(4),a.qZA(),a.TgZ(5,"div",10),a.YNc(6,s,2,0,"span",11),a.qZA()()()),2&$){const V=j.$implicit,Q=a.oxw();a.xp6(1),a.Q6J("user",V),a.xp6(3),a.Oqu(V.name),a.xp6(2),a.Q6J("ngIf",Q.host===V.email)}}class o{constructor(){this.host="",this.list=[],this.close=new a.vpe}}o.\u0275fac=function(j){return new(j||o)},o.\u0275cmp=a.Xpm({type:o,selectors:[["attendee-list"]],inputs:{host:"host",list:"list"},outputs:{close:"close"},decls:9,vars:3,consts:function(){let $,j,V;return $=$localize`:␟6b6e2954a54d1e4442e01bf0bb6ed40ac421e99e␟2881938321285403712:{VAR_PLURAL, plural, =1 {Attendee } other {Attendees }}`,$=a.Zx4($,{VAR_PLURAL:"\ufffd1\ufffd"}),j=$localize`:␟272c5e08002aac7115372022721d07c4bc86a3d0␟2071525641083081260: ${"\ufffd0\ufffd"}:INTERPOLATION: ${$}:ICU: `,V=$localize`:␟fe22ca53e651df951dac25b67c17894b0980f767␟6641024648411549335:Host`,[[1,"w-full","h-full","overflow-hidden","flex","flex-col","bg-white","dark:bg-neutral-700"],[1,"flex","items-center","border-b","border-gray-200","dark:border-neutral-500","p-2"],["close","","mat-icon-button","",3,"click"],[1,"flex-1","text-center","pr-12","font-medium"],j,[1,"flex-1","w-full","overflow-auto"],["attendee","","class","flex items-center p-2 space-x-2",4,"ngFor","ngForOf"],["attendee","",1,"flex","items-center","p-2","space-x-2"],[3,"user"],[1,""],[1,"opacity-60"],[4,"ngIf"],V]},template:function(j,V){1&j&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return V.close.emit()}),a.TgZ(3,"app-icon"),a._uU(4,"arrow_back"),a.qZA()(),a.TgZ(5,"div",3),a.SDv(6,4),a.qZA()(),a.TgZ(7,"div",5),a.YNc(8,r,7,3,"div",6),a.qZA()()),2&j&&(a.xp6(6),a.pQV(V.list.length)(V.list.length),a.QtT(6),a.xp6(2),a.Q6J("ngForOf",V.list))}});var S=t(2551),I=t(5815),P=(t(9137),t(5306)),g=t(9685),u=t(9136),M=t(2581),R=t(3352),w=t(6255),F=t(7202);class H{}H.\u0275fac=function(j){return new(j||H)},H.\u0275mod=a.oAB({type:H}),H.\u0275inj=a.cJS({providers:[C.UX],imports:[O.ez,C.u5,C.UX,h.Xo,l.x4,_.wp,i.FA,E.yu,f.yj,m.UK,d.W,c.K]}),a.B6R(I.$,[O.sg,O.O5,E.eB,f.aO,P.o,g.k,u.p,M.K,R.D,w.W0,w.tN,w.D8,o],[O.uU,F.n]),a.B6R(o,[O.sg,O.O5,E.eB,P.o,g.k],[]),a.B6R(S.j,[O.sg,O.O5,P.o,g.k],[O.OU,O.uU])},2551:(Je,K,t)=>{"use strict";t.d(K,{j:()=>S});var e=t(6353),n=t(2641),y=t(6308),T=t(9756),v=t(9833),O=t(8368),E=(t(3902),t(5815)),i=t(565),f=t(5559),_=t(6581);function l(I,x){if(1&I&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&I){const P=e.oxw(2);e.xp6(1),e.hij("",P.day,", ")}}function m(I,x){if(1&I&&(e.TgZ(0,"h4",2),e.YNc(1,l,2,1,"span",3),e._uU(2),e.ALo(3,"date"),e.TgZ(4,"span",4),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&I){const P=e.oxw();e.xp6(1),e.Q6J("ngIf",P.show_day),e.xp6(1),e.hij(" ",e.xi3(3,3,null==P.event?null:P.event.date,"h:mm a")," "),e.xp6(3),e.hij("(",e.xi3(6,6,null==P.event?null:P.event.date,"z"),")")}}function h(I,x){1&I&&(e.TgZ(0,"div",14)(1,"app-icon"),e._uU(2,"restaurant"),e.qZA(),e.TgZ(3,"div",16),e._uU(4,"Catered"),e.qZA()())}function d(I,x){if(1&I&&(e.TgZ(0,"div",23),e._UZ(1,"a-user-avatar",24),e.qZA()),2&I){const P=x.$implicit;e.xp6(1),e.Q6J("user",P)}}function c(I,x){if(1&I&&(e.TgZ(0,"div",23)(1,"div",25),e._uU(2),e.qZA()()),2&I){const P=e.oxw(3);e.xp6(2),e.hij(" +",(null==P.event||null==P.event.attendees?null:P.event.attendees.length)-5," ")}}function a(I,x){if(1&I&&(e.TgZ(0,"div",20),e.YNc(1,d,2,1,"div",21),e.ALo(2,"slice"),e.YNc(3,c,3,1,"div",22),e.qZA()),2&I){const P=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,null==P.event?null:P.event.attendees,0,6===(null==P.event||null==P.event.attendees?null:P.event.attendees.length)?6:5)),e.xp6(2),e.Q6J("ngIf",(null==P.event||null==P.event.attendees?null:P.event.attendees.length)>6)}}const s=function(){return["./"]},r=function(I){return{event:I}};function o(I,x){if(1&I){const P=e.EpF();e.TgZ(0,"a",6),e.NdJ("click",function(){e.CHM(P);const u=e.oxw();return e.KtG(u.viewDetails())}),e.TgZ(1,"div",7)(2,"h4",8),e._uU(3),e.qZA(),e.TgZ(4,"div",9)(5,"div",10)(6,"div",11)(7,"app-icon"),e._uU(8),e.qZA()(),e.TgZ(9,"div",12),e._uU(10),e.qZA()()(),e.TgZ(11,"div",13)(12,"div",14)(13,"app-icon"),e._uU(14,"meeting_room"),e.qZA(),e.TgZ(15,"div",15),e._uU(16),e.qZA()(),e.TgZ(17,"div",14)(18,"app-icon"),e._uU(19,"person_outline"),e.qZA(),e.TgZ(20,"div",16),e._uU(21),e.qZA()(),e.YNc(22,h,5,0,"div",17),e.TgZ(23,"div",14)(24,"app-icon"),e._uU(25,"people"),e.qZA(),e.TgZ(26,"div",16),e._uU(27),e.qZA()()(),e.TgZ(28,"app-icon",18),e._uU(29," chevron_right "),e.qZA(),e.YNc(30,a,4,6,"div",19),e.qZA()()}if(2&I){const P=e.oxw();let g;e.Q6J("routerLink",e.DdM(27,s))("queryParams",e.VKq(28,r,null==P.event?null:P.event.id)),e.xp6(3),e.Oqu(null==P.event?null:P.event.title),e.xp6(2),e.ekj("bg-green-600","done"!==P.event.state&&"approved"===(null==P.event?null:P.event.status))("bg-yellow-500","done"!==P.event.state&&"tentative"===(null==P.event?null:P.event.status))("bg-red-600","done"!==P.event.state&&"declined"===(null==P.event?null:P.event.status))("bg-gray-300","done"===P.event.state),e.xp6(1),e.ekj("bg-success","done"!==P.event.state&&"approved"===(null==P.event?null:P.event.status))("text-pending","done"!==P.event.state&&"tentative"===(null==P.event?null:P.event.status))("bg-error","done"!==P.event.state&&"declined"===(null==P.event?null:P.event.status))("text-neutral-600","done"===P.event.state),e.xp6(2),e.hij(" ","done"===P.event.state?"not_interested":"approved"===(null==P.event?null:P.event.status)?"done":"tentative"===(null==P.event?null:P.event.status)?"warning":"close"," "),e.xp6(2),e.Oqu(P.period),e.xp6(6),e.hij(" ",P.location," "),e.xp6(5),e.hij(" ",(null==P.event||null==P.event.organiser?null:P.event.organiser.name)||(null==P.event||null==P.event.organiser?null:P.event.organiser.email)," "),e.xp6(1),e.Q6J("ngIf",null==P.event||null==(g=P.event.ext("catering"))?null:g.length),e.xp6(5),e.AsE(" ",null==P.event||null==P.event.attendees?null:P.event.attendees.length," ",1===(null==P.event||null==P.event.attendees?null:P.event.attendees.length)?"Person":"People"," "),e.xp6(3),e.Q6J("ngIf",null==P.event||null==P.event.attendees?null:P.event.attendees.length)}}class S extends O.KG{constructor(x,P,g){super(),this._dialog=x,this._route=P,this._org=g,this.show_day=!1,this.edit=new e.vpe,this.remove=new e.vpe}ngOnInit(){this.subscription("route.query",this._route.queryParamMap.subscribe(x=>x.has("event")&&this.event?.id===x.get("event")?this.viewDetails():""))}get day(){const x=this.event?.date||Date.now();return`${(0,n.Z)(Date.now(),x)?"Today":(0,y.Z)(x,"EEEE")}`}get location(){const x=this.event?.space?.zones||this.event?.system?.zones||[],P=this._org.levelWithID(x)||this._org.buildings.find(g=>x.includes(g.id));return`${P?(P.display_name||P.name)+", ":""} ${this.event.space?.display_name||this.event.space?.name}`}get period(){const x=this.event?.date||Date.now(),P=this.event?.duration||60,g=(0,T.Z)(x,P),u=(0,v.Z)({hours:Math.floor(P/60),minutes:P%60}).replace(" hour","hr").replace(" minute","min");return`${(0,y.Z)(x,"h:mm a")} - ${(0,y.Z)(g,"h:mm a")} (${u})`}viewDetails(){!this.event||this.timeout("open",()=>{const x=this._dialog.open(E.$,{data:this.event});this.subscription("edit",x.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",x.componentInstance.remove.subscribe(()=>this.remove.emit()))})}}S.\u0275fac=function(x){return new(x||S)(e.Y36(f.on),e.Y36(_.gz),e.Y36(i.w))},S.\u0275cmp=e.Xpm({type:S,selectors:[["event-card"]],inputs:{event:"event",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[e.qOj],decls:2,vars:2,consts:[["class","mb-2 flex items-center","date","",4,"ngIf"],["matRippleColor","","details","","class","w-full",3,"routerLink","queryParams","click",4,"ngIf"],["date","",1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["matRippleColor","","details","",1,"w-full",3,"routerLink","queryParams","click"],[1,"w-full","bg-white","dark:bg-[#1F2021]","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[1,"flex","items-center","bg-opacity-30","rounded-2xl","p-1","text-base","space-x-2","pr-2","font-medium"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center","text-white"],[1,"pr-1"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-neutral-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"mx-2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4",4,"ngIf"],[1,"absolute","bottom-2","right-2","sm:bottom-auto","sm:top-2","text-sm","sm:text-base","flex","items-center","pr-4"],["class","h-10 w-6",4,"ngFor","ngForOf"],["class","h-10 w-6",4,"ngIf"],[1,"h-10","w-6"],[3,"user"],[1,"bg-secondary","rounded-full","h-10","w-10","border-2","border-white","flex","items-center","justify-center","text-white"]],template:function(x,P){1&x&&(e.YNc(0,m,7,9,"h4",0),e.YNc(1,o,31,30,"a",1)),2&x&&(e.Q6J("ngIf",P.event),e.xp6(1),e.Q6J("ngIf",P.event))},styles:["[_nghost-%COMP%]{display:block;width:100%}"]})},5815:(Je,K,t)=>{"use strict";t.d(K,{$:()=>R});var e=t(9671),n=t(6353),y=t(5559),T=t(9756),v=t(9833),O=t(6308),C=t(9972),i=(t(3902),t(4702)),f=t(565),_=t(6198),l=t(4425),m=t(6367),h=t(8368),d=t(656),c=t(4351);function a(w,F){if(1&w&&(n.TgZ(0,"div",48),n._UZ(1,"image-carousel",49),n.qZA()),2&w){const B=n.oxw();n.xp6(1),n.Q6J("images",null==B.event||null==B.event.system?null:B.event.system.images)}}function s(w,F){if(1&w){const B=n.EpF();n.TgZ(0,"button",53),n.NdJ("click",function(){n.CHM(B);const $=n.oxw(2);return n.KtG($.checkin())}),n.TgZ(1,"div",54)(2,"app-icon"),n._uU(3),n.qZA(),n.TgZ(4,"div",55),n.SDv(5,56),n.qZA()()()}if(2&w){const B=n.oxw(2);n.ekj("bg-green-600","pending"!==B.room_status)("border-none","pending"!==B.room_status)("pointer-events-none","pending"!==B.room_status),n.xp6(3),n.Oqu("pending"===B.room_status?"arrow_back":"done"),n.xp6(2),n.pQV("pending"===B.room_status?"Check in":"Checked in"),n.QtT(5)}}function r(w,F){if(1&w&&(n.TgZ(0,"button",57)(1,"app-icon"),n._uU(2,"more_horiz"),n.qZA()()),2&w){n.oxw(2);const B=n.MAs(82);n.Q6J("matMenuTriggerFor",B)}}function o(w,F){if(1&w&&(n.TgZ(0,"div",50),n.YNc(1,s,6,8,"button",51),n.YNc(2,r,3,1,"button",52),n.qZA()),2&w){const B=n.oxw();n.xp6(1),n.Q6J("ngIf",B.event.can_check_in&&"free"!==B.room_status),n.xp6(1),n.Q6J("ngIf",B.allow_edit)}}function S(w,F){if(1&w&&(n.TgZ(0,"div",65),n._uU(1),n.qZA()),2&w){const B=F.$implicit;n.xp6(1),n.hij(" ",B.name," ")}}function I(w,F){if(1&w&&(n.TgZ(0,"div",61)(1,"div",62),n._uU(2),n.qZA(),n.TgZ(3,"div",63)(4,"div",33),n._uU(5),n.qZA(),n.YNc(6,S,2,1,"div",64),n.qZA()()),2&w){const B=F.$implicit;n.xp6(2),n.hij(" ",B.quantity," "),n.xp6(3),n.Oqu(B.name),n.xp6(1),n.Q6J("ngForOf",B.options)}}function x(w,F){if(1&w&&(n.ynx(0),n.TgZ(1,"div",16)(2,"h3",29),n.SDv(3,58),n.qZA(),n.TgZ(4,"div",59),n.YNc(5,I,7,3,"div",60),n.qZA()(),n.BQk()),2&w){const B=n.oxw();n.xp6(5),n.Q6J("ngForOf",B.event.ext("catering")[0].items)}}function P(w,F){1&w&&(n.TgZ(0,"h3",66),n.SDv(1,67),n.qZA())}function g(w,F){if(1&w&&(n._UZ(0,"div",68),n.ALo(1,"sanitize")),2&w){const B=n.oxw();n.Q6J("innerHTML",n.lcZ(1,1,B.event.body),n.oJD)}}function u(w,F){if(1&w){const B=n.EpF();n.TgZ(0,"div",69)(1,"attendee-list",70),n.NdJ("click",function(){n.CHM(B);const $=n.oxw();return n.KtG($.show_attendees=!1)}),n.qZA()()}if(2&w){const B=n.oxw();n.xp6(1),n.Q6J("list",B.event.attendees)("host",B.event.host)}}const M=function(){return{disable_pan:!0,disable_zoom:!0}};class R{constructor(F,B,H,$){this._event=F,this._org=B,this._space_pipe=H,this._settings=$,this.edit=new n.vpe,this.remove=new n.vpe,this.room_status="",this.show_attendees=!1,this.event=this._event,this.features=[{location:this.event?.system?.map_id,content:i.q}],this.has_catering=this.event?.ext("catering")?.length>0,this.level=new m.Y,this.building=new l.N,this.space=new d.T,this.accept_count=this._event.attendees.reduce((j,V)=>j+("accepted"===V.response_status?1:0),0),this.declined_count=this._event.attendees.reduce((j,V)=>j+("declined"===V.response_status?1:0),0),this.pending_count=this._event.attendees.reduce((j,V)=>j+("tentative"===V.response_status||"needsAction"===V.response_status?1:0),0),this._load().then()}get allow_edit(){return!this._settings.get("app.events.booking_unavailable")}get period(){const F=this.event?.date||Date.now(),B=this.event?.duration||60,H=(0,T.Z)(F,B),$=(0,v.Z)({hours:Math.floor(B/60),minutes:B%60}).replace(" hour","hr").replace(" minute","min");return`${(0,O.Z)(F,"h:mm a")} - ${(0,O.Z)(H,"h:mm a")} (${$})`}checkin(){var F=this;return(0,e.Z)(function*(){const B=(0,c.rTZ)(F.space?.id,"Bookings");!B||(yield B.execute("checkin",[(0,C.Z)(F.event.date)]).catch(H=>(0,h.cB)(`Error checking in booking. ${H}`)))})()}_load(){var F=this;return(0,e.Z)(function*(){F.space=yield F._space_pipe.transform(F._event.system?.id||F._event.system?.email),F.level=F._org.levelWithID(F.space.zones),F.building=F._org.buildings.find(B=>F.space.zones.includes(B.id)),F.features=[{location:F.space.map_id,content:i.q}]})()}}R.\u0275fac=function(F){return new(F||R)(n.Y36(y.eJ),n.Y36(f.w),n.Y36(_.X),n.Y36(h.gb))},R.\u0275cmp=n.Xpm({type:R,selectors:[["event-details-modal"]],outputs:{edit:"edit",remove:"remove"},features:[n._Bn([_.X])],decls:93,vars:48,consts:function(){let w,F,B,H,$,j,V,Q,ie,ye,G,_e;return w=$localize`:␟2c8ce65c566300dc9063f69c615fda2e3a6b896a␟2102851380219026584: Details `,F=$localize`:␟dc34e61df786db36347c8dc09510fa3d5d4c6253␟8291262399353359697:Attendees`,B=$localize`:␟8ee85ef5a3693fb53511af55f66b8543941a5968␟5528514721268144968: See All `,H=$localize`:␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`,$=$localize`:␟3d3ae7deebc5949b0c1c78b9847886a94321d9fd␟3542042671420335679:No`,j=$localize`:␟e6a27066251ca1e04c5be86ad758380856df2506␟4416413576346763682:Pending`,V=$localize`:␟01072150a2c93fe7032783804ebfa5a1e41f3685␟6139423482037031714: Host `,Q=$localize`:␟56c74224d22c7379fdbf9d0a00c8bf519a9ee661␟2772374745622574688:Edit event`,ie=$localize`:␟e634daa29c58868c9c9c4d9fcc7ba1c016fac86b␟4014175048517775632:Delete event`,ye=$localize`:␟e00cf812605b14c9c2390da404d3cd3ea67f19a6␟3151361020738293834: ${"\ufffd0\ufffd"}:INTERPOLATION: `,G=$localize`:␟ef2612559c447d8f4c218c06bb66af9de8edf365␟6975755512274629403: Catering `,_e=$localize`:␟195b2f1c65301b0700459c9d0ae2ce407ed9c7bf␟4484880822148672471: Notes `,[[1,"absolute","inset-0","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:max-h-[80vh]","bg-white","sm:bg-gray-100","sm:dark:bg-neutral-600","dark:bg-neutral-700","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-white","dark:bg-neutral-700","border-gray-300","dark:border-neutral-500"],["binding","","mod","Bookings","bind","status",3,"model","sys","modelChange"],["class","bg-black/20 dark:bg-white/20 w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[1,"flex","items-center","bg-opacity-30","rounded-2xl","p-1","text-sm","space-x-2","pr-2","font-medium"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center","text-white"],[1,"pr-1"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-white","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-gray-200","dark:border-neutral-500","flex-grow-[3]","min-w-1/3","sm:w-[16rem]","space-y-2"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],w,[1,"flex","items-center","px-2","space-x-2"],[1,"mt-4","sm:p-4","sm:bg-white","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-gray-200","dark:border-neutral-500","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","border-t","border-gray-300","sm:border-none","dark:border-neutral-500","flex","items-center","justify-between"],[1,"text-lg","font-medium"],F,["mat-button","","show-attendees","",1,"clear","text-xs","underline",3,"click"],B,[1,"flex","items-center","p-1"],[1,"flex","flex-col","flex-1","items-center","justify-center","space-y-1"],[1,"text-lg"],[1,"text-sm","uppercase"],H,$,j,[1,"mx-3","mt-2","pt-2","text-lg","font-medium","border-t","border-gray-300","dark:border-neutral-500"],V,["host","",1,"px-2","flex","items-center","space-x-2"],[3,"user"],[1,"text-sm"],[1,"opacity-60"],[4,"ngIf"],["map","",1,"mt-4","sm:mt-2","h-64","sm:h-48","relative","border","border-gray-200","dark:border-neutral-500","overflow-hidden","rounded","sm:bg-white","sm:dark:bg-neutral-700","m-2","flex-grow-[3]","min-w-1/3","p-2","sm:w-[16rem]"],[1,"pointer-events-none",3,"src","features","options"],["class","mx-3 text-lg font-medium border-t sm:border-none border-gray-300 dark:border-neutral-500",4,"ngIf"],["notes","","class","mx-4 overflow-hidden max-w-full",3,"innerHTML",4,"ngIf"],["mat-icon-button","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-black/30","text-white"],["class","absolute inset-0 z-50",4,"ngIf"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","","mat-dialog-close","",1,"flex","items-center","space-x-2","text-base",3,"click"],Q,["mat-menu-item","",1,"flex","items-center","space-x-2","text-base",3,"click"],ie,[1,"bg-black/20","dark:bg-white/20","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["mat-button","","class","flex-1 h-10",3,"bg-green-600","border-none","pointer-events-none","click",4,"ngIf"],["mat-icon-button","","class","bg-primary rounded text-white h-10 w-10",3,"matMenuTriggerFor",4,"ngIf"],["mat-button","",1,"flex-1","h-10",3,"click"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],ye,["mat-icon-button","",1,"bg-primary","rounded","text-white","h-10","w-10",3,"matMenuTriggerFor"],G,[1,"flex","flex-col","px-4","space-y-2"],["catering-item","","class","flex space-x-2",4,"ngFor","ngForOf"],["catering-item","",1,"flex","space-x-2"],["count","",1,"flex","items-center","justify-center","h-6","w-6","rounded-full","bg-gray-200","text-sm","font-medium"],["details","",1,"pt-0.5"],["class","text-xs opacity-40",4,"ngFor","ngForOf"],[1,"text-xs","opacity-40"],[1,"mx-3","text-lg","font-medium","border-t","sm:border-none","border-gray-300","dark:border-neutral-500"],_e,["notes","",1,"mx-4","overflow-hidden","max-w-full",3,"innerHTML"],[1,"absolute","inset-0","z-50"],[3,"list","host","click"]]},template:function(F,B){1&F&&(n.TgZ(0,"div",0)(1,"div",1)(2,"i",2),n.NdJ("modelChange",function($){return B.room_status=$}),n.qZA(),n.YNc(3,a,2,1,"div",3),n.TgZ(4,"h3",4),n._uU(5),n.qZA(),n.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"app-icon"),n._uU(11),n.qZA()(),n.TgZ(12,"div",9),n._uU(13),n.qZA()()(),n.YNc(14,o,3,2,"div",10),n.qZA()(),n.TgZ(15,"div",11)(16,"div",12)(17,"h3",13),n.SDv(18,14),n.qZA(),n.TgZ(19,"div",15)(20,"app-icon"),n._uU(21,"event"),n.qZA(),n.TgZ(22,"div"),n._uU(23),n.ALo(24,"date"),n.qZA()(),n.TgZ(25,"div",15)(26,"app-icon"),n._uU(27,"schedule"),n.qZA(),n.TgZ(28,"div"),n._uU(29),n.qZA()(),n.TgZ(30,"div",15)(31,"app-icon"),n._uU(32,"map"),n.qZA(),n.TgZ(33,"div"),n._uU(34),n.qZA()(),n.TgZ(35,"div",15)(36,"app-icon"),n._uU(37,"place"),n.qZA(),n.TgZ(38,"div"),n._uU(39),n.qZA()()(),n.TgZ(40,"div",16)(41,"div",17)(42,"h3",18),n.SDv(43,19),n.qZA(),n.TgZ(44,"button",20),n.NdJ("click",function(){return B.show_attendees=!0}),n.SDv(45,21),n.qZA()(),n.TgZ(46,"div",22)(47,"div",23)(48,"div",24),n._uU(49),n.qZA(),n.TgZ(50,"div",25),n.SDv(51,26),n.qZA()(),n.TgZ(52,"div",23)(53,"div",24),n._uU(54),n.qZA(),n.TgZ(55,"div",25),n.SDv(56,27),n.qZA()(),n.TgZ(57,"div",23)(58,"div",24),n._uU(59),n.qZA(),n.TgZ(60,"div",25),n.SDv(61,28),n.qZA()()(),n.TgZ(62,"h3",29),n.SDv(63,30),n.qZA(),n.TgZ(64,"div",31),n._UZ(65,"a-user-avatar",32),n.TgZ(66,"div",33)(67,"div"),n._uU(68),n.qZA(),n.TgZ(69,"div",34),n._uU(70),n.qZA()()()(),n.YNc(71,x,6,1,"ng-container",35),n.TgZ(72,"div",36),n._UZ(73,"interactive-map",37),n.qZA(),n.TgZ(74,"div",16),n.YNc(75,P,2,0,"h3",38),n.YNc(76,g,2,3,"div",39),n.qZA(),n.TgZ(77,"button",40)(78,"app-icon"),n._uU(79,"close"),n.qZA()(),n.YNc(80,u,2,2,"div",41),n.qZA(),n.TgZ(81,"mat-menu",42,43)(83,"button",44),n.NdJ("click",function(){return B.edit.emit(B.space)}),n.TgZ(84,"app-icon"),n._uU(85,"edit"),n.qZA(),n.TgZ(86,"div"),n.SDv(87,45),n.qZA()(),n.TgZ(88,"button",46),n.NdJ("click",function(){return B.remove.emit()}),n.TgZ(89,"app-icon"),n._uU(90,"delete"),n.qZA(),n.TgZ(91,"div"),n.SDv(92,47),n.qZA()()()()),2&F&&(n.xp6(2),n.Q6J("model",B.room_status)("sys",null==B.event.system?null:B.event.system.id),n.xp6(1),n.Q6J("ngIf",null==B.event||null==B.event.system||null==B.event.system.images?null:B.event.system.images.length),n.xp6(1),n.ekj("pt-4",!(null!=B.event&&null!=B.event.system&&null!=B.event.system.images&&B.event.system.images.length)),n.xp6(1),n.hij(" ",B.event.title," "),n.xp6(3),n.ekj("bg-green-600","done"!==B.event.state&&"approved"===(null==B.event?null:B.event.status))("bg-yellow-500","done"!==B.event.state&&"tentative"===(null==B.event?null:B.event.status))("bg-red-600","done"!==B.event.state&&"declined"===(null==B.event?null:B.event.status))("bg-gray-300","done"===B.event.state),n.xp6(1),n.ekj("bg-success","done"!==B.event.state&&"approved"===(null==B.event?null:B.event.status))("text-pending","done"!==B.event.state&&"tentative"===(null==B.event?null:B.event.status))("bg-error","done"!==B.event.state&&"declined"===(null==B.event?null:B.event.status))("text-neutral-600","done"===B.event.state),n.xp6(2),n.hij(" ","done"===B.event.state?"not_interested":"approved"===(null==B.event?null:B.event.status)?"done":"tentative"===(null==B.event?null:B.event.status)?"warning":"close"," "),n.xp6(2),n.Oqu(B.period),n.xp6(1),n.Q6J("ngIf","done"!==B.event.state),n.xp6(9),n.Oqu(n.xi3(24,44,B.event.date,"EEEE, dd LLLL y")),n.xp6(6),n.Oqu(B.period),n.xp6(5),n.AsE(" ",(null==B.level?null:B.level.display_name)||(null==B.level?null:B.level.name),", ",(null==B.event||null==B.event.system?null:B.event.system.display_name)||(null==B.event||null==B.event.system?null:B.event.system.name)," "),n.xp6(5),n.AsE(" ",(null==B.building?null:B.building.display_name)||(null==B.building?null:B.building.name),", ",null==B.building?null:B.building.address," "),n.xp6(10),n.Oqu(B.accept_count||0),n.xp6(5),n.Oqu(B.declined_count||0),n.xp6(5),n.Oqu(B.pending_count||0),n.xp6(6),n.Q6J("user",B.event.organiser),n.xp6(3),n.Oqu(null==B.event.organiser?null:B.event.organiser.name),n.xp6(2),n.Oqu(B.event.host),n.xp6(1),n.Q6J("ngIf",B.has_catering),n.xp6(2),n.Q6J("src",null==B.level?null:B.level.map_id)("features",B.features)("options",n.DdM(47,M)),n.xp6(2),n.Q6J("ngIf",B.event.body),n.xp6(1),n.Q6J("ngIf",B.event.body),n.xp6(4),n.Q6J("ngIf",B.show_attendees))}})},5804:(Je,K,t)=>{"use strict";t.d(K,{M:()=>xe});var e=t(9671),n=t(6581),y=t(4351),T=t(591),v=t(3426),O=t(567),C=t(1086),E=t(9184),i=t(2198),f=t(13),_=t(2994),l=t(7545),m=t(4850),h=t(5154),d=t(5778),c=t(7221),a=t(9972),s=t(953),r=t(9868),o=t(8115),S=t(833),I=864e5;function x(be,Ue){(0,S.Z)(2,arguments);var He=(0,o.Z)(be),it=(0,o.Z)(Ue),je=He.getTime()-(0,r.Z)(He),Be=it.getTime()-(0,r.Z)(it);return Math.round((je-Be)/I)}function P(be,Ue){var He=be.getFullYear()-Ue.getFullYear()||be.getMonth()-Ue.getMonth()||be.getDate()-Ue.getDate()||be.getHours()-Ue.getHours()||be.getMinutes()-Ue.getMinutes()||be.getSeconds()-Ue.getSeconds()||be.getMilliseconds()-Ue.getMilliseconds();return He<0?-1:He>0?1:He}var u=t(4960),M=t(8368),R=t(565),w=t(354),F=t(6217),B=t(3902),H=t(4211),$=t(2906),j=t(1980),V=t(8871),Q=t(5163),ie=t(9137),ye=t(8840),G=t(95),_e=t(6198),Ie=t(4006),Me=t(6353),Fe=t(5559);const Ve=["book/spaces","book/meeting","schedule/view","confirm/success","upcoming"];class xe extends M.KG{constructor(Ue,He,it,je,Be){super(),this._org=Ue,this._router=He,this._payments=it,this._settings=je,this._dialog=Be,this._view=new T.X("form"),this._options=new T.X({zone_ids:[],features:[]}),this._form=(0,$.r7)(),this._date=new T.X(Date.now()),this._event=new T.X(null),this._loading=new T.X(""),this.last_success=new B.y(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_event")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.spaces=(0,v.aj)([this._options.pipe((0,E.g)("zone_ids")),this._org.active_building.pipe((0,i.h)(Ye=>!!Ye),(0,E.g)("id"))]).pipe((0,f.b)(300),(0,_.b)(Ye=>this.unsubWith("bind:")),(0,l.w)(([{zone_ids:Ye}])=>(this._loading.next("Loading space list for location..."),Ye?.length||(Ye=[this._org.building?.id]),(0,O.D)(Ye.map(et=>(0,ye.u)(et))))),(0,m.U)(Ye=>(0,M.xH)(Ye)),(0,_.b)(Ye=>this._loading.next("")),(0,h.d)(1)),this.features=this.spaces.pipe((0,m.U)(Ye=>(0,M.Tw)((0,M.xH)(Ye.map(et=>et.features))))),this.filtered_spaces=(0,v.aj)([this.spaces,this.options]).pipe((0,m.U)(([Ye,{show_fav:et,features:ot,capacity:ge}])=>Ye.filter(we=>{const me=((0,M.ar)()?.email||"@").split("@")[1],fe=(this._settings.get("app.events.restrict_spaces")||{})[me],Z=this._settings.get("app.events.limit_spaces")||{},ee=Object.keys(Z),ue=we.zones.find(Ce=>ee.includes(Ce));return we.bookable&&(!fe||we.zones.includes(fe))&&(!ue||Z[ue]===me)&&(!et||this.favorite_spaces.includes(we.id))&&ot.every(Ce=>we.features.includes(Ce))&&we.capacity>=Math.max(0,ge||0)}).slice(0,Math.min(100,Ye.length))),(0,h.d)(1)),this._space_bookings=(0,v.aj)([this.spaces,this.filtered_spaces]).pipe((0,d.x)(([Ye],[et])=>Ye!==et),(0,l.w)(([Ye,et])=>(0,v.aj)((et||[]).map(ot=>{const ge=(0,y.rTZ)(ot.id,"Bookings").binding("bookings"),we=ge.listen().pipe((0,m.U)(me=>(me||[]).map(fe=>new B.y(fe))));return this.hasSubscription(`bind:${ot.id}`)||this.subscription(`bind:${ot.id}`,ge.bind()),we}))),(0,h.d)(1)),this.current_available_spaces=(0,v.aj)([this.filtered_spaces,this._space_bookings]).pipe((0,m.U)(([Ye,et])=>{const{date:ot,duration:ge}=this._form.getRawValue();return(Ye||[]).filter((we,me)=>(0,G.x0)(ot,ot+6e4*ge,et[me]||[])).sort((we,me)=>we.capacity-me.capacity)}),(0,h.d)(1)),this.future_available_spaces=(0,v.aj)([this.filtered_spaces]).pipe((0,i.h)(()=>!this._loading.getValue()),(0,f.b)(300),(0,l.w)(([Ye])=>{if(!Ye.length)return(0,C.of)([]);this._loading.next("Retrieving available spaces...");const{date:et,duration:ot}=this._form.getRawValue(),ge={period_start:(0,a.Z)(et),period_end:(0,a.Z)(et+6e4*ot)};return(this.has_calendar?(0,F.mD)({...ge,system_ids:Ye.map(({id:we})=>we).join(",")},this._org):(0,w.e0)(Ye.map(({id:we})=>we),{...ge,type:"room"}).pipe((0,m.U)(we=>we.map(me=>Ye.find(fe=>me===fe.id))))).pipe((0,m.U)(we=>we.map(({id:me})=>Ye.find(fe=>me===fe.id))),(0,c.K)(we=>[]))}),(0,m.U)(Ye=>Ye.filter(et=>!et.availability?.length||et.availability?.find(ot=>"busy"!==ot.status))),(0,_.b)(Ye=>this._loading.next("")),(0,h.d)(1)),this.available_spaces=this._date.pipe((0,l.w)(Ye=>Math.abs(function g(be,Ue){(0,S.Z)(2,arguments);var He=(0,s.Z)(be),it=(0,s.Z)(Ue),je=P(He,it),Be=Math.abs(x(He,it));He.setDate(He.getDate()-je*Be);var lt=Number(P(He,it)===-je),Ye=je*(Be-lt);return 0===Ye?0:Ye}(Ye,Date.now()))<14?this.current_available_spaces:this.future_available_spaces)),this.cancelPostForm=()=>this.unsub("post-event-form"),this._space_pipe=new _e.X(this._org),this.subscription("router.events",this._router.events.subscribe(Ye=>{Ye instanceof n.m2&&!Ve.some(et=>Ye.url.includes(et))&&this.clearForm()})),this.subscription("form_change",this._form.valueChanges.subscribe(({date:Ye})=>{Ye&&Ye!==this._date.getValue()&&this._date.next(Ye),this.storeForm()}));let lt=0;this.interval("catering",()=>{const Ye=this._form.value.catering;lt!==Ye?.length&&(lt=Ye?.length,Ye?.length&&(this._settings.get("app.events.catering_notes_required")||this._settings.value("require_catering_notes"))?(this._form.get("catering_notes")?.setValidators([Ie.kI.required]),this._form.get("catering_notes").patchValue(this._form.value.catering_notes)):(this._form.get("catering_notes")?.clearValidators(),this._form.get("catering_notes").setErrors(null)),this._form.updateValueAndValidity())},500)}get view(){return this._view.getValue()}get form(){return this._form}get event(){return this._event.getValue()}get favorite_spaces(){return this._settings.get("favourite_spaces")||[]}get has_calendar(){return!0!==this._settings.get("app.events.use_bookings")}listenForStatusChanges(){this.subscription("status:rooms",this.available_spaces.subscribe())}setView(Ue){this._view.next(Ue)}setOptions(Ue){this._options.next({...this._options.getValue(),...Ue})}newForm(Ue=new B.y){this._event.next(Ue),this._date.next(Ue.date),this.resetForm()}resetForm(){this._form.reset();const Ue=this._event.getValue()||{};this._form.patchValue({...Ue,...Ue.extension_data,date:!Ue.id&&(0,u.Z)(Ue.date||0,Date.now())?Date.now():Ue.date,host:Ue?.host||(0,M.ar)().email}),this._options.next({features:[]}),this.storeForm()}clearForm(){sessionStorage.removeItem("PLACEOS.event_form"),this.unsubWith("status:"),this.unsubWith("bind:"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.event_form",JSON.stringify(this._form.getRawValue()||{}))}loadForm(){this._form||this.newForm(),this._form.patchValue({...JSON.parse(sessionStorage.getItem("PLACEOS.event_form")||"{}")})}openEventLinkModal(Ue=!1){const He=this._form;if(He.markAllAsTouched(),!He.valid&&!Ue)return;const it=new B.y({...He.getRawValue()});this._dialog.open(ie.N,{data:it}).afterClosed().subscribe(Be=>Be?this._router.navigate(["/"]):"")}postForm(Ue=!1){var He=this;return new Promise(function(){var it=(0,e.Z)(function*(je,Be){He._loading.next("Creating event...");const lt=He._form;lt.markAllAsTouched();const Ye=He.event||new B.y;if(!lt.valid&&!Ue)return He._loading.next(""),Be(`Some form fields are invalid. [${(0,M.RD)(lt).join(", ")}]`);const{id:et,host:ot,date:ge,duration:we,creator:me,all_day:fe}=lt.getRawValue(),Z=lt.get("resources")?.value||[];let ee=lt.get("catering")?.value||[];if((!et||ge!==Ye.date||we!==Ye.duration)&&Z.length){const Wt=(0,a.Z)(Ye.date);yield He.checkSelectedSpacesAreAvailable(Z,ge,we,et?{start:Wt,end:Wt+60*Ye.duration}:void 0,et||"").catch(Et=>{throw He._loading.next(""),Be(Et),Et})}const ue=ot===(0,M.ar)()?.email||me===(0,M.ar)()?.email,Ce=Z[0]?.id,pt=et?ue?{calendar:ot||me}:{system_id:Ce}:{},Ze=He._form.getRawValue();if(console.log("Payments:",He._payments.payment_module,Z.length),He._payments.payment_module&&Z.length){console.log("Make Payment...");const Wt=yield He._payments.makePayment({type:"space",resource_name:Z[0].display_name||Z[0].name,date:ge,duration:we,all_day:fe});if(!Wt?.success)return He._loading.next("");Ze.extension_data={invoice:Wt,invoice_id:Wt.invoice_id},console.log("Payment success.",Wt)}const ft=Ze.all_day?(0,o.Z)(Ze.date).valueOf():Ze.date;ee.length&&!("items"in ee[0])?ee=[new Q.G({items:ee,notes:Ze.catering_notes,charge_code:Ze.catering_charge_code})]:(ee.notes=Ze.catering_notes,ee.charge_code=Ze.catering_charge_code);const Dt=(0,M.Tw)([...Ze.attendees,Ze.organiser||(0,M.ar)()],"email"),At=yield He._makeBooking(new B.y({...Ze,host:He._settings.get("app.events.force_host")||(He._settings.get("app.events.room_as_host")?Ze.resources[0].email:"")||Ze.host,attendees:Dt,date:ft,catering:ee}),pt).catch(Wt=>{throw Be(Wt),He._loading.next(""),Wt});He.clearForm(),He.last_success=At,sessionStorage.setItem("PLACEOS.last_booked_event",JSON.stringify(At)),He.setView("success"),je(At),He._loading.next("")});return function(je,Be){return it.apply(this,arguments)}}())}_makeBooking(Ue,He){var it=this;return(0,e.Z)(function*(){return(it.has_calendar?(0,H.ry)(Ue.toJSON(),He):(0,w.km)((0,j.kz)({...Ue.toJSON(),status:it._settings.get("app.bookings.no_approval")?"approved":"tentative"})).pipe((0,m.U)(je=>(0,$.kv)(je)))).toPromise()})()}checkSelectedSpacesAreAvailable(Ue,He,it,je,Be){var lt=this;return(0,e.Z)(function*(){const Ye=(yield Promise.all(Ue.map(ge=>lt._space_pipe.transform(ge.id||ge.email)))).map(ge=>ge.id),et={period_start:(0,a.Z)(He),period_end:(0,a.Z)(He+60*it*1e3)};je&&(et.exclude_range=`${je.start}...${je.end}`);const ot=Ue.length?yield(lt.has_calendar?(0,F.mD)({...et,system_ids:Ye.join(",")}):(0,w.e0)(Ye,{...et,type:"room",ignore:Be})).toPromise():[];if(ot.length!==Ue.length)throw Ue.length-ot.length+" space(s) are not available at the selected time";return!0})()}}xe.\u0275fac=function(Ue){return new(Ue||xe)(Me.LFG(R.w),Me.LFG(n.F0),Me.LFG(V.c),Me.LFG(M.gb),Me.LFG(Fe.on))},xe.\u0275prov=Me.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})},9137:(Je,K,t)=>{"use strict";t.d(K,{N:()=>f});var e=t(5559),n=t(9497),T=(t(3902),t(8368)),v=t(6353),O=t(9818),C=t(5306),E=t(158),i=t(7202);class f{constructor(l,m){this._event=l,this._dialog=m,this.outlook_link=(0,n.Y$)(this._event),this.google_link=(0,n.T$)(this._event),this.ical_link=(0,n.KS)(this._event),this.has_actioned=!1}close(){if(!this.has_actioned)return(0,T.cB)("You need to select a calendar option to finish creating this booking");this._dialog.close(!0)}}f.\u0275fac=function(l){return new(l||f)(v.Y36(e.eJ),v.Y36(e.hV))},f.\u0275cmp=v.Xpm({type:f,selectors:[["event-link-modal"]],decls:24,vars:13,consts:function(){let _,l,m,h,d;return _=$localize`:␟29e3480e3d010232704522cde3ca29d23cc7725f␟5139383754155835256:Add event to your calendar`,l=$localize`:␟34c16b14ad0e33db574c8bea543e66e766aa3a01␟4015832758698516701:Create in Outlook`,m=$localize`:␟f745484670e6b6bbb8a1c327c222e665fb25b863␟3788591245559456526:Create in Google Calendar`,h=$localize`:␟1af54061e7f4bcfb1048ffaa05c9b8f7c4b41679␟4894641609416495396:Download iCal File`,d=$localize`:␟4dc1e9a4bbd21cf153990984cd4ecb4444117098␟6327967827692127661: Close `,[[1,"p-4","w-full","pb-2"],_,[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["button","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"href","click"],["src","assets/icons/outlook.svg",1,"w-6"],l,["src","assets/icons/gcal.svg",1,"w-6"],m,[1,"text-xl"],h,["mat-button","",1,"w-64",3,"click"],d,["mat-icon-button","",1,"absolute","top-2","right-0",3,"mat-dialog-close"]]},template:function(l,m){1&l&&(v.TgZ(0,"div",0),v.SDv(1,1),v.qZA(),v.TgZ(2,"div",2)(3,"a",3),v.NdJ("click",function(){return m.has_actioned=!0}),v.ALo(4,"sanitize"),v._UZ(5,"img",4),v.TgZ(6,"span"),v.SDv(7,5),v.qZA()(),v.TgZ(8,"a",3),v.NdJ("click",function(){return m.has_actioned=!0}),v.ALo(9,"sanitize"),v._UZ(10,"img",6),v.TgZ(11,"span"),v.SDv(12,7),v.qZA()(),v.TgZ(13,"a",3),v.NdJ("click",function(){return m.has_actioned=!0}),v.ALo(14,"safe"),v.TgZ(15,"app-icon",8),v._uU(16,"download"),v.qZA(),v.TgZ(17,"span"),v.SDv(18,9),v.qZA()(),v.TgZ(19,"button",10),v.NdJ("click",function(){return m.close()}),v.SDv(20,11),v.qZA()(),v.TgZ(21,"button",12)(22,"app-icon"),v._uU(23,"close"),v.qZA()()),2&l&&(v.xp6(3),v.Q6J("href",v.xi3(4,4,m.outlook_link,"url"),v.LSH),v.xp6(5),v.Q6J("href",v.xi3(9,7,m.google_link,"url"),v.LSH),v.xp6(5),v.Q6J("href",v.xi3(14,10,m.ical_link,"url"),v.LSH),v.xp6(8),v.Q6J("mat-dialog-close",m.has_actioned))},dependencies:[O.eB,e.aO,C.o,E.y,i.n],styles:["[_nghost-%COMP%]{position:relative}"]})},3902:(Je,K,t)=>{"use strict";t.d(K,{q:()=>c,y:()=>a});var e=t(8368),n=t(9972),y=t(8749),T=t(9756),v=t(3494),O=t(2641),C=t(3337),E=t(4960),i=t(8666),f=t(1390),_=t(5163),l=t(656),m=t(5197),h=t(95);let d={id:"default",name:"Default User"};function c(s){s&&(d=s)}class a{constructor(r={}){this.id=r.id||"",this.event_start=r.event_start||(0,n.Z)(r.date||(0,y.Z)((0,T.Z)(new Date,3),{nearestTo:5})),this.event_end=r.event_end||(0,n.Z)((0,T.Z)(1e3*this.event_start,r.duration||30)),this.calendar=r.calendar||"",this.creator=(r.creator||d.email)?.toLowerCase()||"",this.host=(r.host||this.creator||d.email||"").toLowerCase();const o=r.attendees||[];this.attendees=o.filter(I=>!I.resource).map(I=>new m.n5(I)),this.resources=(0,e.Tw)(r.resources||o.filter(I=>I.resource).map(I=>new l.T(I)),"email")||[],this.title=r.title||"Space Booking",this.body=r.body||"",this.private=!!r.private,this.all_day=!!r.all_day,this.date=1e3*this.event_start||this.date,this.duration=this.all_day?1440:r.duration||(0,v.Z)(1e3*r.event_end,this.date)||30,this.timezone=r.timezone||"",this.meeting_url=r.meeting_url||r.online_meeting_url||"",this.meeting_id=r.meeting_id||r.online_meeting_id||"",this.meeting_provider=r.meeting_provider||r.online_meeting_provider||"",this.recurring=!!r.recurring,this.recurring_master_id=r.recurring_master_id||"",this.organiser=this.attendees.find(I=>I.email===this.host),this.from_bookings=r.from_bookings??!1,this.master=r.master?new a(r.master):null,this.recurrence=r.recurring?{start:1e3*this.event_start||new Date(1e3*r.recurrence.range_start).valueOf(),end:r.recurrence.end||new Date(1e3*r.recurrence.range_end).valueOf(),interval:r.recurrence.interval,pattern:r.recurrence.pattern,days_of_week:r.recurrence.days_of_week}:{};const S=r.system;S?.email&&!this.resources.find(I=>I.email===S.email)&&this.resources.push(new l.T(S)),this.system=S||this.resources[0]||null,this.old_system=r.old_system||r.system,this.attachments=r.attachments||[],this.extension_data=r.extension_data||{},this.status=(0,h.kv)({...r,...this})||"none",this.location=r.location||this.space?.display_name||this.space?.name||"",this.type="declined"===this.status?"cancelled":this.attendees.find(I=>I.is_external)?"external":"internal";for(const I in r)I in this||(this.extension_data[I]=r[I]||this.extension_data[I]);this.extension_data.catering=(this.extension_data.catering||[]).map(I=>new _.G({...I,event:this}))}ext(r){return this.extension_data[r]}get guests(){return this.attendees.filter(r=>!!r.is_external)}get space(){return this.resources[0]||null}get is_today(){return(0,O.Z)(new Date(this.date),new Date)}toJSON(){const r={...this},o=(0,n.Z)((0,T.Z)(this.date,this.duration)),S=this.all_day?(0,C.Z)(this.date,{hours:12}):this.date;r.event_start=(0,n.Z)(S),r.event_end=o;const I=this.attendees;return this.recurring&&(r.recurrence={...this.recurrence,range_start:r.event_start,range_end:(0,n.Z)(this.recurrence.end)}),r.recurrence=r.recurrence&&Object.keys(r.recurrence).length?r.recurrence:null,r.attendees=(0,e.Tw)([...I,...this.resources.map(x=>({...x,resource:!0}))],"email"),this.all_day||(r.extension_data.breakdown=15),r.extension_data.catering=r.extension_data.catering.map(x=>new _.G({...x,event:null})),r.system_id=this.system?.id,delete r.catering,delete r.date,delete r.duration,delete r.status,(0,e.DD)(r),r}get state(){const r=new Date,o=this.date;return(0,E.Z)(r,(0,i.Z)(o,{minutes:-15}))?"future":(0,E.Z)(r,o)?"upcoming":(0,E.Z)(r,(0,i.Z)(o,{minutes:15}))?"started":(0,E.Z)(r,(0,i.Z)(o,{minutes:this.duration}))?"in_progress":"done"}get can_check_in(){const r=new Date;return this.is_today||(0,f.Z)(r,this.date)&&(0,E.Z)(r,(0,T.Z)(this.date,this.duration))}}},4211:(Je,K,t)=>{"use strict";t.d(K,{Vh:()=>f,rq:()=>s,ry:()=>m,u$:()=>i,xC:()=>h});var e=t(4351),n=t(1086),y=t(4850),T=t(7221),v=t(5038),O=t(5197),C=t(3902);const E="/api/staff/v1/events";function i(r){const o=(0,v.U)(r);return(0,e.U2M)(`${E}${o?"?"+o:""}`).pipe((0,y.U)(S=>S.map(I=>new C.y(I))),(0,T.K)(S=>(0,n.of)([])))}function f(r,o={}){const S=(0,v.U)(o);return(0,e.U2M)(`${E}/${encodeURIComponent(r)}${S?"?"+S:""}`).pipe((0,y.U)(I=>new C.y(I)))}const m=(r,o)=>(delete r?.status,r.id?function l(r,o,S={},I="patch"){const x=(0,v.U)(S);return("patch"===I?e.r$K:e.gzd)(`${E}/${encodeURIComponent(r)}${x?"?"+x:""}`,"patch"===I?o:new C.y(o).toJSON()).pipe((0,y.U)(P=>new C.y(P)))}(r.id,r,o):function _(r){return(0,e.v_Q)(`${E}`,new C.y(r).toJSON()).pipe((0,y.U)(o=>new C.y(o)))}(r));function h(r,o={}){const S=(0,v.U)(o);return(0,e.IVX)(`${E}/${encodeURIComponent(r)}${S?"?"+S:""}`,{response_type:"void"})}function s(r,o,S,I={}){const x=(0,v.U)({...I,state:S});return(0,e.v_Q)(`${E}/${encodeURIComponent(r)}/guests/${o}/checkin${x?"?"+x:""}`,"").pipe((0,y.U)(P=>new O.OO(P)))}},95:(Je,K,t)=>{"use strict";t.d(K,{kv:()=>E,TJ:()=>I,x0:()=>_,H1:()=>o});var e=t(9756),n=t(1390),y=t(3494),T=t(7552),v=t(833);function O(g,u){(0,v.Z)(2,arguments);var M=(0,T.Z)(g),R=(0,T.Z)(u);return M.getTime()===R.getTime()}var C=t(4960);function E(g){return g.resources?.length?g.resources.every(u=>"accepted"===u.response_status||g.approved)?"approved":g.resources.some(u=>"tentative"===u.response_status||"needsAction"===u.response_status)?"tentative":"declined":"approved"}function _(g,u,M,R=30){const w=function f(g,u=30){let M=new Date(0);const R=[];g.sort((F,B)=>F.date-B.date);for(const F of g){const B=new Date(F.date),H=(0,e.Z)(F.date,F.duration);(0,n.Z)(F.date,M)?(Math.abs((0,y.Z)(B,M))>=u&&R.push({start:M.valueOf(),end:F.date}),M=H):O(M,F.date)&&(M=H)}const w=M.valueOf();return R.push({start:w,end:10*(w||Date.now())}),R}(M,R);for(const F of w)if(g>=F.start&&g<F.end&&u>F.start&&u<=F.end)return!0;return!1}const s={month:43200,months:43200,week:10080,weeks:10080,day:1440,days:1440,hour:60,hours:60,minute:1,minutes:1},r={auto_approve:!0,hidden:!1};function o(g){const u=(g||"").split(" ");return u.length>1?+u[0]*s[u[1]]:0}function S(g,u=new Date){return(0,e.Z)(u,o(g))}function I(g,u,M){return g.filter(R=>!function x(g,u){const{space:M}=g;for(const R of M.zones)if(u[R]?.length)for(const w of u[R])if(w&&P(g,w))return{...r,...w.rules};return r}({...u,space:R},M)?.hidden)}function P({date:g,duration:u,host:M},R){let w=0;const{conditions:F}=R;return!F||(F.groups instanceof Array&&F.groups.every(B=>M?.groups?.includes(B))&&(w+=1),F.is_before&&(0,C.Z)((0,e.Z)(g,u),S(F.is_before))&&(w+=1),F.is_after&&(0,n.Z)(g,S(F.is_after))&&(w+=1),F.min_length&&o(F.min_length)<=u&&(w+=1),F.max_length&&o(F.max_length)>=u&&(w+=1),w>=Object.keys(F).length)}},2906:(Je,K,t)=>{"use strict";t.d(K,{r7:()=>d,kv:()=>r});var e=t(4006),n=t(8666),y=t(1998),T=t(953),v=t(833),C=t(3413),E=t(8368),i=t(3902),f=t(2662),l=(t(95),t(5197));(0,n.Z)(function O(o,S){(0,v.Z)(2,arguments);var I=(0,T.Z)(o),x=(0,y.Z)(S);return I.setMinutes(x),I}((0,C.Z)(new Date,6),0),{days:-1});const h=o=>S=>o.value?.length&&!S.value?{catering_field:"Catering sub-fields are required"}:null;function d(o=new i.y){o||(o=new i.y);const S=new e.cw({id:new e.NI(o.id),host:new e.NI(o.host||o.organiser?.email||(0,E.ar)()?.email||"",[e.kI.required]),organiser:new e.NI(o.organiser||new l.n5({email:o.host||""})),creator:new e.NI(o.creator,[e.kI.required]),calendar:new e.NI(o.calendar),attendees:new e.NI(o.attendees||[]),resources:new e.NI(o.resources||[]),title:new e.NI(o.title,[e.kI.required]),body:new e.NI(o.body),private:new e.NI(o.private),date:new e.NI(o.date,[e.kI.required]),duration:new e.NI(o.duration,[f.W]),all_day:new e.NI(o.all_day),recurring:new e.NI(o.recurring),recurrence:new e.NI(o.recurrence),recurring_master_id:new e.NI(o.recurring_master_id),master:new e.NI(o.master),attachments:new e.NI(o.attachments),catering:new e.NI(o.extension_data?.catering[0]?.items||[]),catering_notes:new e.NI(o.extension_data?.catering[0]?.notes||""),catering_charge_code:new e.NI(o.extension_data?.catering[0]?.charge_code||""),assets:new e.NI(o.extension_data?.assets||[]),visitor_type:new e.NI(o.extension_data?.visitor_type),location:new e.NI(o.location),needs_space:new e.NI(!0),needs_parking:new e.NI(o.extension_data?.needs_parking||!1),system:new e.NI(o.system)});return S.get("organiser").valueChanges.subscribe(I=>S.controls.host.setValue(I?.email)),S.get("resources").valueChanges.subscribe(I=>S.controls.system.setValue(I?.length?I[0]:null)),S.controls.all_day.valueChanges.subscribe(I=>{I?S.controls.duration.disable():S.controls.duration.enable()}),S.get("catering_charge_code").setValidators([h(S.get("catering"))]),o.id&&(S.get("host").disable(),S.get("organiser").disable()),"started"===o.state&&S.get("date").disable(),S}function r(o){let S=[{id:o.user_id,name:o.user_name,email:o.user_email,organizer:!0}];return"visitor"===o.booking_type&&S.push(new l.n5({name:o.asset_name||o.description,email:o.asset_id})),S=S.concat(o.attendees),new i.y({...o,...o.extension_data,attendees:S,id:o.id||o.extension_data.id,host:o.user_email,from_booking:!0})}},2662:(Je,K,t)=>{"use strict";t.d(K,{W:()=>y});var e=t(1390),n=t(9756);const y=v=>v.parent?.get("date")&&(0,e.Z)(new Date,(0,n.Z)(v.parent.get("date").value,v.value))?{duration:!0}:null},3874:(Je,K,t)=>{"use strict";t.d(K,{pi:()=>lt.p,Pu:()=>M,ck:()=>je.c,P2:()=>Ue});var e=t(6895),n=t(4006),y=t(6725),T=t(7732),v=t(8184),O=t(4080),C=t(5844),f=(t(8741),t(7848),t(8368)),_=t(9671),l=t(4351),m=t(591),h=t(1086),d=t(3426),c=t(13),a=t(2994),s=t(7545),r=t(7221),o=t(4850),S=t(5154),I=t(7224),x=t(656),P=t(9012),g=t(565),u=t(6353);class M{constructor(et){this._org=et,this._emergency_contacts=new m.X([]),this._filter=new m.X(""),this._loading=new m.X(!1),this.emergency_contacts=this._emergency_contacts.asObservable(),this._user_search=this._filter.pipe((0,c.b)(400),(0,a.b)(()=>this._loading.next(!0)),(0,s.w)(ot=>ot?.length>2?this.search_fn(ot):(0,h.of)([])),(0,r.K)(()=>[])),this._space_search=this._filter.pipe((0,c.b)(400),(0,a.b)(()=>this._loading.next(!0)),(0,s.w)(ot=>ot?.length>2?(0,l.vIL)({q:ot}).pipe((0,o.U)(({data:ge})=>ge.filter(we=>we.map_id).map(we=>new x.T({...we,level:this._org.levelWithID(we.zones)})))):(0,h.of)([])),(0,r.K)(()=>[])),this.search_results=(0,d.aj)([this._space_search,this._user_search,this._emergency_contacts,this._filter]).pipe((0,o.U)(([ot,ge,we,me])=>{const fe=me.toLowerCase(),Z=(0,f.Tw)([...ot.filter(ee=>ee.email.toLowerCase().includes(fe)||ee.name.toLowerCase().includes(fe)||ee.display_name.toLowerCase().includes(fe)).map(ee=>({id:ee.id,type:"space",name:ee.display_name||ee.name,description:`Capacity: ${ee.capacity} `})),...we.map(ee=>({id:ee.email,type:ee.type||"contact",name:ee.name,description:ee.email})).filter(ee=>ee.name.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.type.toLowerCase().includes(fe)),...ge.map(ee=>({id:ee.email,type:"user",name:ee.name,description:ee.email}))],"id");return Z.sort((ee,ue)=>ee.name.localeCompare(ue.name)),Z}),(0,a.b)(()=>this._loading.next(!1)),(0,S.d)(1)),this.loading=this._loading.asObservable(),this.search_fn=ot=>(0,P.VE)(ot),this.search_results.subscribe(),this.init()}init(){var et=this;return(0,_.Z)(function*(){yield et._org.initialised.pipe((0,I.P)(we=>we)).toPromise();let ot=et._org.binding("location_services");if(!ot)return;const ge=(0,l.rTZ)(ot,"LocationServices");if(ge){const we=ge.binding("emergency_contacts");we.listen().subscribe(me=>{const fe=[];for(const Z in me)for(const ee of me[Z])fe.push({...ee,type:Z});et._emergency_contacts.next(fe)}),we.bind()}})()}setFilter(et){this._filter.next(et)}}M.\u0275fac=function(et){return new(et||M)(u.LFG(g.w))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"});var R=t(6581),w=t(5306),F=t(4618),B=t(4226),H=t(4363),$=t(1343);const j=["input"];function V(Ye,et){1&Ye&&u._UZ(0,"mat-spinner",9),2&Ye&&u.Q6J("diameter",32)}function Q(Ye,et){1&Ye&&(u.TgZ(0,"mat-option",12),u.SDv(1,13),u.qZA())}function ie(Ye,et){if(1&Ye&&(u.TgZ(0,"mat-option",14)(1,"div",15)(2,"div",16)(3,"div",17),u._uU(4),u.qZA(),u.TgZ(5,"div",18),u._uU(6),u.qZA()(),u.TgZ(7,"div",19),u._uU(8),u.qZA()()()),2&Ye){const ot=et.$implicit;u.Q6J("value",ot),u.xp6(4),u.Oqu(ot.name),u.xp6(2),u.Oqu(ot.description),u.xp6(2),u.hij(" ",ot.type," ")}}function ye(Ye,et){if(1&Ye&&(u.ynx(0),u.YNc(1,Q,2,0,"mat-option",10),u.ALo(2,"async"),u.YNc(3,ie,9,4,"mat-option",11),u.ALo(4,"slice"),u.ALo(5,"async"),u.BQk()),2&Ye){const ot=u.oxw();let ge;u.xp6(1),u.Q6J("ngIf",!(null!=(ge=u.lcZ(2,2,ot.results))&&ge.length)),u.xp6(2),u.Q6J("ngForOf",u.Dn7(4,4,u.lcZ(5,8,ot.results),0,5))}}class G extends f.KG{constructor(et,ot,ge,we){super(),this._el=et,this._search=ot,this._router=ge,this._route=we,this.show=!1,this.search_str="",this.results=this._search.search_results,this.loading=this._search.loading,this.setFilter=me=>this._search.setFilter(me),this.setItem=me=>me instanceof Object?this.select(me):this.setFilter(me),this.onTouch=me=>this.checkClick(me)}checkClick(et){this._el?.nativeElement?.contains(et.target)||(this.show=!1,this._input_el?.nativeElement?.blur())}showSearch(){this.show=!0,this._input_el?.nativeElement&&this.timeout("focus",()=>this._input_el.nativeElement.focus(),300)}closeSearch(et){this.show=!1,this.search_str="",this.setFilter(""),this._input_el?.nativeElement&&(this._input_el.nativeElement.focus(),this._input_el.nativeElement.blur())}select(et){this.search_str=et.name;const ot={};ot["space"===et.type?"space":"feature"===et.type?"feature":"user"]=et.id,this._router.navigate([],{relativeTo:this._route,queryParams:ot})}}G.\u0275fac=function(et){return new(et||G)(u.Y36(u.SBq),u.Y36(M),u.Y36(R.F0),u.Y36(R.gz))},G.\u0275cmp=u.Xpm({type:G,selectors:[["explore-search"]],viewQuery:function(et,ot){if(1&et&&u.Gf(j,5),2&et){let ge;u.iGM(ge=u.CRH())&&(ot._input_el=ge.first)}},hostBindings:function(et,ot){1&et&&u.NdJ("click",function(we){return ot.checkClick(we)},!1,u.evT)("touchstart",function(we){return ot.onTouch(we)},!1,u.evT)},features:[u.qOj],decls:13,vars:12,consts:function(){let Ye,et;return Ye=$localize`:␟7a428104a6c33787961fda306f9c518f89fb0261␟6939663044582448373:Search for...`,et=$localize`:␟0c720c4e60410fcfcd8582a32297bdd397620830␟3411517965707112535: No matches found `,[["role","search","tabindex","0","matRipple","",1,"bg-white","m-2","flex","items-center","z-10","relative","overflow-hidden","outline-none"],["tabindex","0",1,"text-2xl","outline-none",3,"click"],["keyboard","","placeholder",Ye,1,"flex-1","text-base","border-none","outline-none",3,"ngModel","matAutocomplete","matAutocompleteConnectedTo","ngModelChange","blur"],["input",""],["class","mr-2",3,"diameter",4,"ngIf"],["matAutocompleteOrigin","",1,"absolute","bottom-0","left-8","right-8","min-w-[20rem]"],["origin","matAutocompleteOrigin"],["auto","matAutocomplete"],[4,"ngIf"],[1,"mr-2",3,"diameter"],["class","pointer-events-none",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"pointer-events-none"],et,[3,"value"],[1,"flex","items-center","leading-tight"],[1,"flex-1","overflow-hidden"],[1,"truncate","w-full"],[1,"text-xs"],[1,"text-xs","font-bold","p-2","capitalize","text-white","bg-gray-500","rounded"]]},template:function(et,ot){if(1&et&&(u.TgZ(0,"div",0)(1,"app-icon",1),u.NdJ("click",function(we){return ot.show?ot.closeSearch(we):ot.showSearch()}),u._uU(2),u.qZA(),u.TgZ(3,"input",2,3),u.NdJ("ngModelChange",function(we){return ot.search_str=we})("ngModelChange",function(we){return ot.setItem(we)})("blur",function(){return ot.show=!!ot.search_str}),u.qZA(),u.YNc(5,V,1,1,"mat-spinner",4),u.ALo(6,"async"),u._UZ(7,"div",5,6),u.qZA(),u.TgZ(9,"mat-autocomplete",null,7),u.YNc(11,ye,6,10,"ng-container",8),u.ALo(12,"async"),u.qZA()),2&et){const ge=u.MAs(8),we=u.MAs(10);u.ekj("show",ot.show||ot.search_str),u.xp6(2),u.hij(" ",ot.show||ot.search_str?"close":"search"," "),u.xp6(1),u.Q6J("ngModel",ot.search_str)("matAutocomplete",we)("matAutocompleteConnectedTo",ge),u.xp6(2),u.Q6J("ngIf",u.lcZ(6,8,ot.loading)),u.xp6(6),u.Q6J("ngIf",!0!==u.lcZ(12,10,ot.loading)&&(ot.show||ot.search_str))}},dependencies:[e.sg,e.O5,w.o,F.U,B.VN,B.QJ,B.$C,H.CK,$.sN,n.Fj,n.JJ,n.On,e.Ov,e.OU],styles:["[_nghost-%COMP%]{z-index:99}[role=search][_ngcontent-%COMP%]{height:3.125rem;width:3.125rem;border-radius:1.5rem;border:1px solid #ccc;transition:width .2s}app-icon[_ngcontent-%COMP%]{margin:.55rem}[role=search].show[_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 1rem);border-color:#1e88e5}"]}),t(9275),t(8461),t(1359),t(1718),t(1838),t(3764),t(7801);class Ue{}Ue.\u0275fac=function(et){return new(et||Ue)},Ue.\u0275mod=u.oAB({type:Ue}),Ue.\u0275inj=u.cJS({imports:[e.ez,y.Kk,n.u5,n.UX,T.Wd,v.U8,O.eL,C.W]}),t(2825),t(6888);var je=t(6667),lt=(t(9209),t(12))},7801:(Je,K,t)=>{"use strict";t.d(K,{m:()=>i});var e=t(5559),n=t(719);function y(f){var _=this;f="object"==typeof f?f:{},_.revision=3,_.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},_.toTable=f.toTable,_.domElement=_.toTable?document.createElement("div"):document.createElement("canvas"),_.url=f.url||"",_.size=f.size||280,_.qrc=!1,_.colorLight=f.colorLight||"#fff",_.colorDark=f.colorDark||"#000",_.ecclevel=f.ecclevel||1,_.noBorder=f.noBorder,_.borderSize=f.borderSize||4;var l,m,h,d,c,a,s,r=[],o=[],S=[],I=[],x=[],P=[],g=function($,j){var V;$>j&&(V=$,$=j,j=V),V=j,V*=j,V+=j,V>>=1,I[V+=$]=1},u=function($,j){var V;for(S[$+h*j]=1,V=-2;V<2;V++)S[$+V+h*(j-2)]=1,S[$-2+h*(j+V+1)]=1,S[$+2+h*(j+V)]=1,S[$+V+1+h*(j+2)]=1;for(V=0;V<2;V++)g($-1,j+V),g($+1,j-V),g($-V,j-1),g($+V,j+1)},M=function($){for(;$>=255;)$=(($-=255)>>8)+(255&$);return $},R=function($,j,V,Q){var ie,ye,G,_e=y.gexp,Ie=y.glog;for(ie=0;ie<Q;ie++)r[V+ie]=0;for(ie=0;ie<j;ie++){if(255!=(G=Ie[r[$+ie]^r[V]]))for(ye=1;ye<Q;ye++)r[V+ye-1]=r[V+ye]^_e[M(G+P[Q-ye])];else for(ye=V;ye<V+Q;ye++)r[ye]=r[ye+1];r[V+Q-1]=255==G?0:_e[M(G+P[0])]}},w=function($,j){var V;return $>j&&(V=$,$=j,j=V),V=j,V+=j*j,V>>=1,I[V+=$]},F=function($){var j,V,Q,ie;switch($){case 0:for(V=0;V<h;V++)for(j=0;j<h;j++)j+V&1||w(j,V)||(S[j+V*h]^=1);break;case 1:for(V=0;V<h;V++)for(j=0;j<h;j++)1&V||w(j,V)||(S[j+V*h]^=1);break;case 2:for(V=0;V<h;V++)for(Q=0,j=0;j<h;j++,Q++)3==Q&&(Q=0),Q||w(j,V)||(S[j+V*h]^=1);break;case 3:for(ie=0,V=0;V<h;V++,ie++)for(3==ie&&(ie=0),Q=ie,j=0;j<h;j++,Q++)3==Q&&(Q=0),Q||w(j,V)||(S[j+V*h]^=1);break;case 4:for(V=0;V<h;V++)for(Q=0,ie=V>>1&1,j=0;j<h;j++,Q++)3==Q&&(Q=0,ie=!ie),ie||w(j,V)||(S[j+V*h]^=1);break;case 5:for(ie=0,V=0;V<h;V++,ie++)for(3==ie&&(ie=0),Q=0,j=0;j<h;j++,Q++)3==Q&&(Q=0),(j&V&1)+!(!Q|!ie)||w(j,V)||(S[j+V*h]^=1);break;case 6:for(ie=0,V=0;V<h;V++,ie++)for(3==ie&&(ie=0),Q=0,j=0;j<h;j++,Q++)3==Q&&(Q=0),(j&V&1)+(Q&&Q==ie)&1||w(j,V)||(S[j+V*h]^=1);break;case 7:for(ie=0,V=0;V<h;V++,ie++)for(3==ie&&(ie=0),Q=0,j=0;j<h;j++,Q++)3==Q&&(Q=0),(Q&&Q==ie)+(j+V&1)&1||w(j,V)||(S[j+V*h]^=1)}},B=function($){var j,V=0;for(j=0;j<=$;j++)x[j]>=5&&(V+=y.N1+x[j]-5);for(j=3;j<$-1;j+=2)x[j-2]==x[j+2]&&x[j+2]==x[j-1]&&x[j-1]==x[j+1]&&3*x[j-1]==x[j]&&(0==x[j-3]||j+3>$||3*x[j-3]>=4*x[j]||3*x[j+3]>=4*x[j])&&(V+=y.N3);return V},H=function(){var $,j,V,Q,ie,ye=0,G=0;for(j=0;j<h-1;j++)for($=0;$<h-1;$++)(S[$+h*j]&&S[$+1+h*j]&&S[$+h*(j+1)]&&S[$+1+h*(j+1)]||!(S[$+h*j]||S[$+1+h*j]||S[$+h*(j+1)]||S[$+1+h*(j+1)]))&&(ye+=y.N2);for(j=0;j<h;j++){for(x[0]=0,V=Q=$=0;$<h;$++)(ie=S[$+h*j])==Q?x[V]++:x[++V]=1,G+=(Q=ie)?1:-1;ye+=B(V)}G<0&&(G=-G);var _e=G,Ie=0;for(_e+=_e<<2,_e<<=1;_e>h*h;)_e-=h*h,Ie++;for(ye+=Ie*y.N4,$=0;$<h;$++){for(x[0]=0,V=Q=j=0;j<h;j++)(ie=S[$+h*j])==Q?x[V]++:x[++V]=1,Q=ie;ye+=B(V)}return ye};_.genframe=function($){var j,V,Q,ie,ye,G,_e,Ie,Me=y.eccblocks,Fe=y.gexp,Ve=y.glog;ie=$.length,m=0;do{if(m++,Q=4*(l-1)+16*(m-1),d=Me[Q++],c=Me[Q++],a=Me[Q++],s=Me[Q],ie<=(Q=a*(d+c)+c-3+(m<=9)))break}while(m<40);for(h=17+4*m,ye=a+(a+s)*(d+c)+c,ie=0;ie<ye;ie++)o[ie]=0;for(r=$.slice(0),ie=0;ie<h*h;ie++)S[ie]=0;for(ie=0;ie<(h*(h+1)+1)/2;ie++)I[ie]=0;for(ie=0;ie<3;ie++){for(Q=0,V=0,1==ie&&(Q=h-7),2==ie&&(V=h-7),S[V+3+h*(Q+3)]=1,j=0;j<6;j++)S[V+j+h*Q]=1,S[V+h*(Q+j+1)]=1,S[V+6+h*(Q+j)]=1,S[V+j+1+h*(Q+6)]=1;for(j=1;j<5;j++)g(V+j,Q+1),g(V+1,Q+j+1),g(V+5,Q+j),g(V+j+1,Q+5);for(j=2;j<4;j++)S[V+j+h*(Q+2)]=1,S[V+2+h*(Q+j+1)]=1,S[V+4+h*(Q+j)]=1,S[V+j+1+h*(Q+4)]=1}if(m>1)for(ie=y.adelta[m],V=h-7;;){for(j=h-7;j>ie-3&&(u(j,V),!(j<ie));)j-=ie;if(V<=ie+9)break;u(6,V-=ie),u(V,6)}for(S[8+h*(h-8)]=1,V=0;V<7;V++)g(7,V),g(h-8,V),g(7,V+h-7);for(j=0;j<8;j++)g(j,7),g(j+h-8,7),g(j,h-8);for(j=0;j<9;j++)g(j,8);for(j=0;j<8;j++)g(j+h-8,8),g(8,j);for(V=0;V<7;V++)g(8,V+h-7);for(j=0;j<h-14;j++)1&j?(g(8+j,6),g(6,8+j)):(S[8+j+6*h]=1,S[6+h*(8+j)]=1);if(m>6)for(ie=y.vpat[m-7],Q=17,j=0;j<6;j++)for(V=0;V<3;V++,Q--)1&(Q>11?m>>Q-12:ie>>Q)?(S[5-j+h*(2-V+h-11)]=1,S[2-V+h-11+h*(5-j)]=1):(g(5-j,2-V+h-11),g(2-V+h-11,5-j));for(V=0;V<h;V++)for(j=0;j<=V;j++)S[j+h*V]&&g(j,V);for(ye=r.length,G=0;G<ye;G++)o[G]=r.charCodeAt(G);if(r=o.slice(0),ye>=(j=a*(d+c)+c)-2&&(ye=j-2,m>9&&ye--),G=ye,m>9){for(r[G+2]=0,r[G+3]=0;G--;)r[G+3]|=255&(ie=r[G])<<4,r[G+2]=ie>>4;r[2]|=255&ye<<4,r[1]=ye>>4,r[0]=64|ye>>12}else{for(r[G+1]=0,r[G+2]=0;G--;)r[G+2]|=255&(ie=r[G])<<4,r[G+1]=ie>>4;r[1]|=255&ye<<4,r[0]=64|ye>>4}for(G=ye+3-(m<10);G<j;)r[G++]=236,r[G++]=17;for(P[0]=1,G=0;G<s;G++){for(P[G+1]=1,_e=G;_e>0;_e--)P[_e]=P[_e]?P[_e-1]^Fe[M(Ve[P[_e]]+G)]:P[_e-1];P[0]=Fe[M(Ve[P[0]]+G)]}for(G=0;G<=s;G++)P[G]=Ve[P[G]];for(Q=j,V=0,G=0;G<d;G++)R(V,a,Q,s),V+=a,Q+=s;for(G=0;G<c;G++)R(V,a+1,Q,s),V+=a+1,Q+=s;for(V=0,G=0;G<a;G++){for(_e=0;_e<d;_e++)o[V++]=r[G+_e*a];for(_e=0;_e<c;_e++)o[V++]=r[d*a+G+_e*(a+1)]}for(_e=0;_e<c;_e++)o[V++]=r[d*a+G+_e*(a+1)];for(G=0;G<s;G++)for(_e=0;_e<d+c;_e++)o[V++]=r[j+G+_e*s];for(r=o,j=V=h-1,Q=ye=1,Ie=(a+s)*(d+c)+c,G=0;G<Ie;G++)for(ie=r[G],_e=0;_e<8;_e++,ie<<=1){128&ie&&(S[j+h*V]=1);do{ye?j--:(j++,Q?0!=V?V--:(Q=!Q,6==(j-=2)&&(j--,V=9)):V!=h-1?V++:(Q=!Q,6==(j-=2)&&(j--,V-=8))),ye=!ye}while(w(j,V))}for(r=S.slice(0),ie=0,V=3e4,Q=0;Q<8&&(F(Q),(j=H())<V&&(V=j,ie=Q),7!=ie);Q++)S=r.slice(0);for(ie!=Q&&F(ie),V=y.fmtword[ie+(l-1<<3)],Q=0;Q<8;Q++,V>>=1)1&V&&(S[h-1-Q+8*h]=1,Q<6?S[8+h*Q]=1:S[8+h*(Q+1)]=1);for(Q=0;Q<7;Q++,V>>=1)1&V&&(S[8+h*(h-7+Q)]=1,Q?S[6-Q+8*h]=1:S[7+8*h]=1);return S},_.init=function(){l=_.ecclevel;var $=_.genframe(_.url);_.toTable?_.tableWrite($,h):_.canvasWrite($,h)},_.init()}y.prototype={canvasWrite:function(f,_){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(f,_);var l=this.size,m=this.qrc;m.lineWidth=1;var h=l;h/=_+10,h=Math.round(h-.5);var d=4;this.noBorder?(m.canvas.width=m.canvas.height=h*_,d=0):m.canvas.width=m.canvas.height=l,m.clearRect(0,0,l,l),m.fillStyle=this.colorLight,m.fillRect(0,0,h*(_+8),h*(_+8)),m.fillStyle=this.colorDark;for(var c=0;c<_;c++)for(var a=0;a<_;a++)f[a*_+c]&&m.fillRect(h*(d+c),h*(d+a),h,h)},tableWrite:function(f,_){var l=this,m=Math.round(this.size/_-3.5)+"px",h=_+(l.noBorder?0:2*l.borderSize),d=l.borderSize,c="width:"+m+";height:"+m+";",a=l.colorLight,s=l.colorDark,r=document.createElement("table");r.style.cssText="border:0;border-collapse:collapse;";for(var o,S=document.createElement("tr"),I=document.createElement("td"),x=function(){return I.cloneNode()},P=function(){var B=x();return B.style.cssText=c+"background:"+a,B},g=function(B){for(var H=B.firstChild,$=0;$<d;$++)B.insertBefore(P(),H),B.appendChild(P())},u=0;u<_;u++){var M=S.cloneNode();r.appendChild(M);for(var R=0;R<_;R++)if(1===f[u*_+R]){var w=(o=void 0,(o=x()).style.cssText=c+"background:"+s,o);M.appendChild(w)}else{var F=P();M.appendChild(F)}l.noBorder||g(M)}l.noBorder||function(B){for(var H=B.firstChild,$=0;$<l.borderSize;$++){for(var j=S.cloneNode(),V=0;V<h;V++){var Q=P();j.appendChild(Q)}B.appendChild(j),B.insertBefore(j.cloneNode(!0),H)}}(r),l.domElement.innerHTML="",l.domElement.appendChild(r)},getContext:function(f){return f.getContext&&f.getContext("2d")?f.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(f){if(this.qrc){var _=this.imageTypes[f];if(!_)throw new Error(f+" is not a valid image type ");var l=new Image;return l.src=this.domElement.toDataURL(_),l}}},y.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],y.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],y.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],y.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],y.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],y.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],y.N1=3,y.N2=3,y.N3=40,y.N4=10;var v=t(6353),O=t(5306),C=t(9818);class i{constructor(_,l){this._data=_,this._settings=l,this.space=this._data.space,this.qr_code=function T(f,_="#fff0",l="#000"){return new y({url:f||"Hello",size:360,colorLight:_,colorDark:l,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}}i.\u0275fac=function(_){return new(_||i)(v.Y36(e.eJ),v.Y36(n.g))},i.\u0275cmp=v.Xpm({type:i,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:function(){let f;return f=$localize`:␟cbd43c9fe40f6bb5fd5497b1436b4dce15539dfb␟381017318285325317:Book - ${"\ufffd0\ufffd"}:INTERPOLATION:`,[[1,"truncate"],f,[1,"flex-1"],["mat-icon-button","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]]},template:function(_,l){1&_&&(v.TgZ(0,"header")(1,"h2",0),v.SDv(2,1),v.qZA(),v._UZ(3,"div",2),v.TgZ(4,"button",3)(5,"app-icon"),v._uU(6,"close"),v.qZA()()(),v.TgZ(7,"main",4),v._UZ(8,"img",5),v.qZA()),2&_&&(v.xp6(2),v.pQV(null==l.space?null:l.space.name),v.QtT(2),v.xp6(6),v.Q6J("src",l.qr_code,v.LSH))},dependencies:[O.o,C.eB,e.aO]})},1718:(Je,K,t)=>{"use strict";t.d(K,{w:()=>S});var e=t(9671),n=t(5559),y=t(8368),T=t(5804),v=t(6353),O=t(6581),C=t(6895),E=t(5306),i=t(8455),f=t(9818),_=t(9203),l=t(1343),m=t(4006),h=t(1022);function d(I,x){1&I&&(v.TgZ(0,"button",5)(1,"app-icon"),v._uU(2,"close"),v.qZA()())}function c(I,x){if(1&I&&(v.TgZ(0,"div",11)(1,"label"),v.SDv(2,20),v.qZA(),v.TgZ(3,"div",21),v._uU(4),v.ALo(5,"date"),v.qZA()()),2&I){const P=v.oxw(3);v.xp6(4),v.hij(" ",v.xi3(5,1,null==P.form.controls.date?null:P.form.controls.date.value,"medium")," ")}}function a(I,x){if(1&I&&(v.TgZ(0,"div",11)(1,"label"),v.SDv(2,22),v.qZA(),v._UZ(3,"a-duration-field",23),v.qZA()),2&I){const P=v.oxw(3);v.xp6(3),v.Q6J("time",P.form.value.date)("max",P.max_duration)}}function s(I,x){if(1&I&&(v.TgZ(0,"main",10)(1,"div",11)(2,"label",12),v._uU(3,"Title"),v.TgZ(4,"span"),v._uU(5,"*"),v.qZA(),v._uU(6,":"),v.qZA(),v.TgZ(7,"mat-form-field",13),v._UZ(8,"input",14),v.TgZ(9,"mat-error"),v.SDv(10,15),v.qZA()()(),v.TgZ(11,"div",11)(12,"label"),v.SDv(13,16),v.qZA(),v.TgZ(14,"div",17),v._uU(15),v.qZA()(),v.TgZ(16,"div",18),v.YNc(17,c,6,4,"div",19),v.YNc(18,a,4,2,"div",19),v.qZA()()),2&I){const P=v.oxw(2);v.Q6J("formGroup",P.form),v.xp6(15),v.hij(" ",(null==P.form.controls.resources||null==P.form.controls.resources.value[0]?null:P.form.controls.resources.value[0].display_name)||(null==P.form.controls.resources||null==P.form.controls.resources.value[0]?null:P.form.controls.resources.value[0].name)," "),v.xp6(2),v.Q6J("ngIf",P.form.controls.date),v.xp6(1),v.Q6J("ngIf",P.form.controls.duration)}}function r(I,x){if(1&I){const P=v.EpF();v.ynx(0),v.YNc(1,s,19,4,"main",6),v.TgZ(2,"footer",7)(3,"button",8),v.NdJ("click",function(){v.CHM(P);const u=v.oxw();return v.KtG(u.save())}),v.SDv(4,9),v.qZA()(),v.BQk()}if(2&I){const P=v.oxw();v.xp6(1),v.Q6J("ngIf",P.form)}}function o(I,x){if(1&I&&(v.TgZ(0,"div",24),v._UZ(1,"mat-spinner",25),v.TgZ(2,"p"),v._uU(3),v.ALo(4,"async"),v.qZA()()),2&I){const P=v.oxw();v.xp6(1),v.Q6J("diameter",48),v.xp6(2),v.Oqu(v.lcZ(4,2,P.loading))}}class S{constructor(x,P,g,u,M){this._data=x,this._settings=P,this._event_form=g,this._dialog_ref=u,this._router=M,this.loading=this._event_form.loading}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,y.ar)().email,organiser:(0,y.ar)()})}save(){var x=this;return(0,e.Z)(function*(){yield x._event_form.postForm(),x._router.navigate(["/book","meeting","success"]),x._dialog_ref.close()})()}}S.\u0275fac=function(x){return new(x||S)(v.Y36(n.eJ),v.Y36(y.gb),v.Y36(T.M),v.Y36(n.hV),v.Y36(O.F0))},S.\u0275cmp=v.Xpm({type:S,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:function(){let I,x,P,g,u,M,R;return I=$localize`:␟bd532c9813cc0577fcc3ff32640a61afef2bf40a␟6464057252608386690:New Booking`,x=$localize`:␟52c9a103b812f258bcddc3d90a6e3f46871d25fe␟3768927257183755959:Save`,P=$localize`:␟5cf0071757dd8065e052662e4d191a210c766579␟2997066279074525950:Booking Title`,g=$localize`:␟35a900d9fa8e824539ca4b0d1a10bd2f7f8c1172␟8953173802652113530:Booking title is required`,u=$localize`:␟0f342dcd63b8732a5599eb91ce166b55335dbbc4␟1329943553963489238:Space:`,M=$localize`:␟05fa0bded36de6e73a1fa44838b627349dace044␟6899410641137821757:Date:`,R=$localize`:␟e17a1d75189da843f541f7764f188f2b19a97df2␟4220765745195024064:Duration:`,[I,[1,"flex-1"],["mat-icon-button","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["load_state",""],["mat-icon-button","","mat-dialog-close",""],["class","p-4",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-gray-200"],["mat-button","",3,"click"],x,[1,"p-4",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder",P],g,u,["name","space",1,"sm:mt-4","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col",4,"ngIf"],M,[1,"sm:mt-4","mb-4"],R,["formControlName","duration",3,"time","max"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]]},template:function(x,P){if(1&x&&(v.TgZ(0,"header")(1,"h2"),v.SDv(2,0),v.qZA(),v._UZ(3,"div",1),v.YNc(4,d,3,0,"button",2),v.ALo(5,"async"),v.qZA(),v.YNc(6,r,5,1,"ng-container",3),v.ALo(7,"async"),v.YNc(8,o,5,4,"ng-template",null,4,v.W1O)),2&x){const g=v.MAs(9);v.xp6(4),v.Q6J("ngIf",!v.lcZ(5,3,P.loading)),v.xp6(2),v.Q6J("ngIf",!v.lcZ(7,5,P.loading))("ngIfElse",g)}},dependencies:[C.O5,E.o,i.nI,i.v_,f.eB,n.aO,_.k0,l.sN,m.Fj,m.JJ,m.JL,m.sg,m.u,h.B,C.Ov,C.uU],styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}"]})},1838:(Je,K,t)=>{"use strict";t.d(K,{c:()=>E});var e=t(9136),n=t(6353),y=t(6895),T=t(3970);function v(i,f){if(1&i&&(n.TgZ(0,"p",8),n._uU(1),n.qZA()),2&i){const _=n.oxw(2);n.xp6(1),n.Oqu(_.user)}}function O(i,f){if(1&i&&(n.TgZ(0,"p",9),n._uU(1),n.ALo(2,"date"),n.ALo(3,"date"),n.qZA()),2&i){const _=n.oxw(2);n.xp6(1),n.AsE(" ",n.xi3(2,2,_.start,"shortTime")," \u2013 ",n.xi3(3,5,_.end,"shortTime")," ")}}function C(i,f){if(1&i&&(n.TgZ(0,"div",2),n._UZ(1,"div",3),n.TgZ(2,"div",4)(3,"h4",5),n._uU(4),n.qZA(),n.YNc(5,v,2,1,"p",6),n.YNc(6,O,4,8,"p",7),n.qZA()()),2&i){const _=n.oxw();n.Tol("absolute rounded bg-white dark:bg-neutral-800 p-4 top-0 left-0 shadow pointer-events-none "+_.x_pos+" "+_.y_pos),n.Q6J("id",_.map_id),n.xp6(4),n.hij(" ",_.name||_.map_id||_.id," "),n.xp6(1),n.Q6J("ngIf",_.user),n.xp6(1),n.Q6J("ngIf",_.start)}}class E{constructor(f,_){this._details=f,this._element=_,this.id=this._details.id,this.map_id=this._details.map_id,this.name=this._details.name,this.user=this._details.user,this.start=this._details.start,this.end=this._details.end}ngOnInit(f=0){f>10||setTimeout(()=>{const _=this._element.nativeElement.parentElement?.parentElement;if(!_)return this.ngOnInit(++f);const l_y=parseInt(_.style.top,10)/100,l_x=parseInt(_.style.left,10)/100;this.y_pos=l_y>=.5?"bottom":"top",this.x_pos=l_x>=.5?"right":"left"},200)}get available_until(){return""}}E.\u0275fac=function(f){return new(f||E)(n.Y36(e.u),n.Y36(n.SBq))},E.\u0275cmp=n.Xpm({type:E,selectors:[["explore-desk-info"]],decls:3,vars:7,consts:[["customTooltip","",1,"hidden","sm:block","h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover"],["desk_tooltip",""],["name","space-info",3,"id"],[1,"arrow"],[1,"details"],["map-id","",1,"m-0","font-medium"],["user","","class","mt-2 text-sm",4,"ngIf"],["start","","class","mt-1 text-sm",4,"ngIf"],["user","",1,"mt-2","text-sm"],["start","",1,"mt-1","text-sm"]],template:function(f,_){if(1&f&&(n._UZ(0,"div",0),n.YNc(1,C,7,6,"ng-template",null,1,n.W1O)),2&f){const l=n.MAs(2);n.Q6J("content",l)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0),n.uIk("id",_.id)("map_id",_.map_id)}},dependencies:[y.O5,T.X,y.uU],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[name=status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[name=status].busy[_ngcontent-%COMP%]{background-color:#e53935}[name=status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[name=status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})},2825:(Je,K,t)=>{"use strict";t.d(K,{X:()=>u});var e=t(9671),n=t(4351),y=t(9972),T=t(8115),v=t(2722),O=t(5650),C=t(591),E=t(3426),i=t(7545),f=t(5154),_=t(4850),l=t(7221),m=t(7224),h=t(2084),d=t(354),c=t(8368),a=t(565),s=t(9502),r=t(3764),o=t(1838),S=t(1359),I=t(6888),x=t(6667),P=t(6353),g=t(5559);class u extends c.KG{constructor(R,w,F,B,H){super(),this._state=R,this._org=w,this._settings=F,this._bookings=B,this._dialog=H,this._in_use=new C.X([]),this._options=new C.X({}),this._presence=new C.X([]),this._signs_of_life=new C.X([]),this._statuses={},this._users={},this._poll=new C.X(0),this._checked_in=new C.X([]),this._desk_bookings=(0,E.aj)([this._state.level,this._poll]).pipe((0,i.w)(([$])=>(0,d.F2)({period_start:(0,y.Z)((0,T.Z)(new Date)),period_end:(0,y.Z)((0,v.Z)(new Date)),type:"desk",zones:$.id})),(0,f.d)(1)),this.desk_list=this._state.level.pipe((0,i.w)($=>(0,n.rlq)($.id,"desks").pipe((0,_.U)(j=>(j.details instanceof Array?j.details:[]).map(V=>new s.n({...V,zone:$}))))),(0,l.K)($=>[]),(0,f.d)(1)),this._bind=this._state.level.pipe((0,_.U)($=>{if(this._statuses={},this.unsubWith("lvl"),!$)return;const j=this._org.binding("area_management");if(!j)return;let V=(0,n.rTZ)(j,"AreaManagement").binding($.id);this.subscription("lvl-in_use",V.listen().subscribe(Q=>this.processBindingChange(Q||{},j))),this.subscription("lvl-in_use_bind",V.bind())})),this._state_change=(0,E.aj)([this.desk_list,this._in_use,this._presence,this._checked_in,this._signs_of_life,this._options]).pipe((0,_.U)(([$,j,V,Q,ie])=>{this._statuses={};for(const{id:ye,bookable:G}of $){const _e=j.some(Ve=>ye===Ve),Ie=V.some(Ve=>ye===Ve),Me=ie.some(Ve=>ye===Ve),Fe=Q.some(Ve=>ye===Ve);this._statuses[ye]=G?_e||Ie||Fe?Ie||Fe?"busy":"pending":Me?"signs-of-life":"free":"not-bookable"}this.processDesks($)})),this.init()}init(){var R=this;return(0,e.Z)(function*(){yield R._org.initialised.pipe((0,m.P)(w=>w)).toPromise(),R.setOptions({enable_booking:!1!==R._settings.get("app.desks.enable_maps")}),R.subscription("bind",R._bind.subscribe()),R.subscription("changes",R._state_change.subscribe()),R.subscription("desks",R.desk_list.subscribe(w=>R.processDesks(w)))})()}startPolling(R=1e4){return this.subscription("desks_in_use_bookings",this._desk_bookings.subscribe(w=>{const F=w.filter(B=>!(B.rejected||B.deleted||"ended"===B.extension_data.current_state||B.is_done));this._in_use.next(F.map(B=>B.asset_id)),this._checked_in.next(F.filter(B=>B.checked_in).map(B=>B.asset_id))})),this.interval("poll",()=>this._poll.next((new Date).valueOf()),R),()=>this.stopPolling()}stopPolling(){this.clearInterval("poll")}setOptions(R){this._options.next({...this._options.getValue(),...R})}processBindingChange({value:R},w){const F=(R||[]).filter(H=>!["desk","booking"].includes(H.location)),B=(R||[]).filter(H=>"desk"===H.location||"booking"===H.location&&"desk"===H.type);this._presence.next(B.filter(H=>H.at_location).map(H=>H.map_id||H.asset_id)),this._signs_of_life.next(B.filter(H=>H.signs_of_life).map(H=>H.map_id||H.asset_id)),this.processDevices(F,w),this.timeout("update",()=>this.updateStatus(),100)}updateStatus(){const R={},w=this._settings.get("app.explore.colors")||{};for(const F in this._statuses)!this._statuses[F]||(R[`#${F}`]={fill:w[`desk-${this._statuses[F]}`]||w[`${this._statuses[F]}`]||I.y[`${this._statuses[F]}`]});this._state.setStyles("desks",R)}processDevices(R,w){const F=[];for(const B of R){const H=B.x/B.map_width,$=B.y/B.map_height;F.push({location:{x:B.coordinates_from?.includes("right")?1-H:H,y:B.coordinates_from?.includes("bottom")?1-$:$},content:S.j,z_index:20,data:{...B,system:w}})}this._state.setFeatures("devices",F)}processDesks(R){var w=this;const F=[],B=[],H=this._options.getValue();for(const $ of R){if(F.push({location:$.id,content:o.c,full_size:!0,no_scale:!0,data:{id:$.map_id||$.id,map_id:$.name,name:$.name||$.map_id,user:this._users[$.map_id]||$.staff_name,status:this._statuses[$.map_id]},z_index:20}),!$.bookable)continue;const j=function(){var V=(0,e.Z)(function*(){w._bookings.newForm(),w._bookings.setOptions({type:"desk"});const{date:Q,duration:ie}=yield w._setBookingTime(w._bookings.form.value.date,w._bookings.form.value.duration);w._bookings.form.patchValue({asset_id:$.id,asset_name:$.name,date:Q,duration:ie,map_id:$?.map_id||$?.id,description:$.name,user:H.host||(0,c.ar)(),booking_type:"desk",zones:$.zone?[$.zone?.parent_id,$.zone?.id]:[]}),yield w._bookings.confirmPost(),w._users[$.map_id]=(H.host||(0,c.ar)())?.name,(0,c.t5)(`Successfull booked desk ${$.name||$.id}`)});return function(){return V.apply(this,arguments)}}();B.push({id:$.id,action:"click",callback:j}),B.push({id:$.id,action:"touchend",callback:j})}this._state.setActions("desks",this._options.getValue().enable_booking?B:[]),this._state.setFeatures("desks",F),this.timeout("update",()=>this.updateStatus(),100)}_setBookingTime(R,w){var F=this;return(0,e.Z)(function*(){if(F._settings.get("app.desks.allow_time_changes")){const B=(0,v.Z)((0,O.Z)(Date.now(),F._settings.get("app.desks.available_period")||90)),$=yield F._dialog.open(r.h,{data:{date:R,duration:w,until:B}}).afterClosed().toPromise();if(!$)throw"User cancelled";R=$.date,w=$.duration}return{date:R,duration:w}})()}}u.\u0275fac=function(R){return new(R||u)(P.LFG(x.c),P.LFG(a.w),P.LFG(c.gb),P.LFG(h.f),P.LFG(g.on))},u.\u0275prov=P.Yz7({token:u,factory:u.\u0275fac})},1359:(Je,K,t)=>{"use strict";t.d(K,{j:()=>s});var e=t(9671),n=t(4351),y=t(3228),T=t(3494),v=t(8368),O=t(9136),C=t(6353),E=t(6895),i=t(3970);function _(r,o){if(1&r&&(C.TgZ(0,"p",18)(1,"label"),C.SDv(2,19),C.qZA(),C._uU(3),C.qZA()),2&r){const S=C.oxw(2);C.xp6(3),C.hij(" ",S.manufacturer," ")}}function l(r,o){if(1&r&&(C.TgZ(0,"p",20)(1,"label"),C.SDv(2,21),C.qZA(),C._uU(3),C.qZA()),2&r){const S=C.oxw(2);C.xp6(3),C.hij(" ",S.os," ")}}function m(r,o){if(1&r&&(C.TgZ(0,"p",22)(1,"label"),C.SDv(2,23),C.qZA(),C._uU(3),C.qZA()),2&r){const S=C.oxw(2);C.xp6(3),C.hij(" ",S.ssid," ")}}function h(r,o){if(1&r&&(C.TgZ(0,"p",24)(1,"label"),C.SDv(2,25),C.qZA(),C._uU(3),C.qZA()),2&r){const S=C.oxw(2);C.xp6(3),C.hij(" ",(null==S.user?null:S.user.name)||(null==S.user?null:S.user.username)||S.username," ")}}function d(r,o){if(1&r&&(C.TgZ(0,"p",26)(1,"label"),C.SDv(2,27),C.qZA(),C._uU(3),C.qZA()),2&r){const S=C.oxw(2);C.xp6(3),C.hij(" ",S.user.type," ")}}function c(r,o){if(1&r){const S=C.EpF();C.TgZ(0,"div",6),C.NdJ("mouseleave",function(){C.CHM(S);const x=C.oxw();return C.KtG(x.close())}),C._UZ(1,"div",7),C.TgZ(2,"div",8)(3,"p",9)(4,"label"),C.SDv(5,10),C.qZA(),C._uU(6),C.qZA(),C.TgZ(7,"p")(8,"label"),C.SDv(9,11),C.qZA(),C._uU(10),C.qZA(),C.TgZ(11,"p")(12,"label"),C.SDv(13,12),C.qZA(),C._uU(14),C.qZA(),C.YNc(15,_,4,1,"p",13),C.YNc(16,l,4,1,"p",14),C.YNc(17,m,4,1,"p",15),C.YNc(18,h,4,1,"p",16),C.YNc(19,d,4,1,"p",17),C.qZA()()}if(2&r){const S=C.oxw();C.xp6(6),C.hij(" ",S.mac,""),C.xp6(4),C.hij(" ",S.variance,"m"),C.xp6(4),C.hij(" ",S.last_seen,""),C.xp6(1),C.Q6J("ngIf",S.manufacturer&&!S.hide_fields.includes("manufacturer")),C.xp6(1),C.Q6J("ngIf",S.os&&!S.hide_fields.includes("os")),C.xp6(1),C.Q6J("ngIf",S.ssid&&!S.hide_fields.includes("ssid")),C.xp6(1),C.Q6J("ngIf",S.username&&!S.hide_fields.includes("username")),C.xp6(1),C.Q6J("ngIf",S.user&&!S.hide_fields.includes("user"))}}const a=[];class s extends v.KG{constructor(o,S,I){super(),this._details=o,this._settings=S,this._element=I,this.username="",this.user=this._details.user,this.mac=this._details.mac,this.manufacturer=this._details.manufacturer,this.os=this._details.os,this.ssid=this._details.ssid,this.variance=this._details.variance?.toFixed(2),this.bg_color=this._details.bg_color||this.distance_color,this.zoom=1}get hide_fields(){return this._settings.get("app.explore.hide_device_fields")||a}get last_seen(){return(0,y.Z)(1e3*(this._details.last_seen||0),{addSuffix:!0})}get diameter(){return 100*this._details.variance*this.zoom}get distance(){return Math.abs((0,T.Z)(1e3*(this._details.last_seen||0),new Date))}get distance_color(){return this.distance<10?"#43a047":this.distance<20?"#ffb300":"#e53935"}ngOnInit(o=0){o>10||setTimeout(()=>{const S=this._element.nativeElement.parentElement?.parentElement;if(!S)return this.ngOnInit(++o);const I_y=parseInt(S.style.top,10)/100,I_x=parseInt(S.style.left,10)/100;this.y_pos=I_y>=.5?"bottom":"top",this.x_pos=I_x>=.5?"end":"start",this.subscription("zoom",this._details.zoom$.subscribe(x=>this.zoom=x))},200)}loadUser(){var o=this;return(0,e.Z)(function*(){if(o.username)return;const S=(0,n.rTZ)(o._details.system,"LocationServices");if(!S)return;o.username="Loading...";const I=yield S.execute("check_ownership_of",[o.mac]).catch(x=>null);o.username=I&&I.assigned_to?I.assigned_to:""})()}}s.\u0275fac=function(o){return new(o||s)(C.Y36(O.u),C.Y36(v.gb),C.Y36(C.SBq))},s.\u0275cmp=C.Xpm({type:s,selectors:[["","explore-device-info",""]],features:[C.qOj],attrs:["explore-device-info",""],decls:7,vars:9,consts:function(){let r,o,S,I,x,P,g,u;return r=$localize`:␟14802d5580219b4522c9c50e1a9f401aee191e1e␟5080596488336446120:MAC:`,o=$localize`:␟4e79bc7b2a23c2e4e80d256c8167411cf124bd20␟1921442792032576180:Accuracy:`,S=$localize`:␟1c564bebf178f9c70f2c66a80393137bfa0d2ea8␟5291488112436395082:Last Seen:`,I=$localize`:␟a082daef9c0b66268ce56dfa8d96d47a04d2c4b1␟6296767522110275448:Manufacturer:`,x=$localize`:␟5544405b325c518c94412239610d44250d5a223a␟2346706060395913038:OS:`,P=$localize`:␟afd0fc7b37f54299537ba2abc9babf749adf383e␟4345272263810420547:SSID:`,g=$localize`:␟67fc3fe0566f8700b84a908c35497759db78addc␟140822705245800362:Username:`,u=$localize`:␟e78c0d60ac39787f62c9159646fe0b3c1ed55a1d␟2736556170366900089:Type:`,[["name","radius",1,"radius","absolute","center","bg-blue-600","bg-opacity-25","border-8","border-dashed","border-blue-600","rounded-full"],["shadow","",1,"absolute","center","bg-black/40","h-8","w-8","rounded-full"],["name","dot",1,"h-3","w-3","absolute","center","rounded-full","shadow","border-2","border-white"],["dot",""],["customTooltip","",1,"absolute","inset-0","pointer-events-auto",3,"content","backdrop","xPosition","yPosition","hover","mouseenter"],["device_tooltip",""],["name","device-info",1,"w-64","rounded","bg-white","dark:bg-neutral-800","p-4","top-0","left-0","shadow","pointer-events-none","mx-2",3,"mouseleave"],[1,"arrow"],[1,"details"],[1,"break-words"],r,o,S,["type","",4,"ngIf"],["os","",4,"ngIf"],["ssid","",4,"ngIf"],["username","",4,"ngIf"],["user","",4,"ngIf"],["type",""],I,["os",""],x,["ssid",""],P,["username",""],g,["user",""],u]},template:function(o,S){if(1&o&&(C._UZ(0,"div",0)(1,"div",1)(2,"div",2,3),C.TgZ(4,"div",4),C.NdJ("mouseenter",function(){return S.loadUser()}),C.qZA(),C.YNc(5,c,20,8,"ng-template",null,5,C.W1O)),2&o){const I=C.MAs(6);C.Akn("height: "+S.diameter+"%; width: "+S.diameter+"%;"),C.xp6(2),C.Udp("background-color",S.bg_color),C.xp6(2),C.Q6J("content",I)("backdrop",!1)("xPosition",S.x_pos)("yPosition",S.y_pos)("hover",!0)}},dependencies:[E.O5,i.X],styles:["[_nghost-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > [name=dot][_ngcontent-%COMP%]{background-color:#616161}[_nghost-%COMP%]:hover > [name=radius][_ngcontent-%COMP%]{opacity:1}[name=radius][_ngcontent-%COMP%]{opacity:0;transition:opacity .2s;pointer-events:none}"]})},8741:(Je,K,t)=>{"use strict";t.d(K,{Y:()=>a});var e=t(9671),n=t(8368),y=t(7224),T=t(565),v=t(6667),O=t(6353),C=t(6581),E=t(6895),i=t(4363),f=t(8455),_=t(6289),l=t(4006);function m(s,r){if(1&s&&(O.TgZ(0,"mat-option",6),O._uU(1),O.qZA()),2&s){const o=r.$implicit;O.Q6J("value",o),O.xp6(1),O.hij(" ",o.display_name||o.name," ")}}function h(s,r){if(1&s){const o=O.EpF();O.TgZ(0,"mat-form-field",3)(1,"mat-select",4),O.NdJ("ngModelChange",function(I){O.CHM(o);const x=O.oxw();return O.KtG(x.setBuilding(I))}),O.ALo(2,"async"),O.YNc(3,m,2,2,"mat-option",5),O.ALo(4,"async"),O.qZA()()}if(2&s){const o=O.oxw();O.xp6(1),O.Q6J("ngModel",O.lcZ(2,2,o.building)),O.xp6(2),O.Q6J("ngForOf",O.lcZ(4,4,o.buildings))}}function d(s,r){if(1&s&&(O.TgZ(0,"mat-option",6),O._uU(1),O.qZA()),2&s){const o=r.$implicit;O.Q6J("value",o),O.xp6(1),O.hij(" ",o.display_name||o.name," ")}}function c(s,r){if(1&s){const o=O.EpF();O.TgZ(0,"mat-form-field",7),O.ALo(1,"async"),O.TgZ(2,"mat-select",8),O.NdJ("ngModelChange",function(I){O.CHM(o);const x=O.oxw();return O.KtG(x.setLevel(I))}),O.ALo(3,"async"),O.YNc(4,d,2,2,"mat-option",5),O.ALo(5,"async"),O.qZA()()}if(2&s){const o=O.oxw();let S;O.uIk("has-bld",(null==(S=O.lcZ(1,3,o.buildings))?null:S.length)>1),O.xp6(2),O.Q6J("ngModel",O.lcZ(3,5,o.level)),O.xp6(2),O.Q6J("ngForOf",O.lcZ(5,7,o.levels))}}class a extends n.KG{constructor(r,o,S,I){super(),this._org=r,this._state=o,this._router=S,this._route=I,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.levels=this._org.active_levels,this.level=this._state.level,this.setLevel=x=>{this._state.setFeatures("_located",[]),this.timeout("set_level",()=>this._router.navigate([],{relativeTo:this._route,queryParams:{zone:x.id}}),201)},this.setBuilding=x=>this._org.building=x}ngOnInit(){var r=this;return(0,e.Z)(function*(){yield r._org.initialised.pipe((0,y.P)(o=>o)).toPromise(),r.subscription("route.query",r._route.queryParamMap.subscribe(o=>o.has("zone")?r._state.setLevel(o.get("zone")):""))})()}}a.\u0275fac=function(r){return new(r||a)(O.Y36(T.w),O.Y36(v.c),O.Y36(C.F0),O.Y36(C.gz))},a.\u0275cmp=O.Xpm({type:a,selectors:[["explore-map-controls"]],features:[O.qOj],decls:5,vars:6,consts:function(){let s,r;return s=$localize`:␟dea1f8bc2b32584fadf07ef815709b946d3726ff␟1533056789917995243:Select Building...`,r=$localize`:␟025373b97845a8c2b54d2eb17d9c479f64207b11␟7854898325453225869:Select Level...`,[[1,"flex","space-x-2"],["overlay","","buildings","","class","flex-1","has-bld","true","appearance","outline",4,"ngIf"],["overlay","","levels","","class","flex-1","appearance","outline",4,"ngIf"],["overlay","","buildings","","has-bld","true","appearance","outline",1,"flex-1"],["placeholder",s,3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["overlay","","levels","","appearance","outline",1,"flex-1"],["placeholder",r,3,"ngModel","ngModelChange"]]},template:function(r,o){if(1&r&&(O.TgZ(0,"div",0),O.YNc(1,h,5,6,"mat-form-field",1),O.ALo(2,"async"),O.YNc(3,c,6,9,"mat-form-field",2),O.ALo(4,"async"),O.qZA()),2&r){let S,I;O.xp6(1),O.Q6J("ngIf",(null==(S=O.lcZ(2,2,o.buildings))?null:S.length)>1),O.xp6(2),O.Q6J("ngIf",null==(I=O.lcZ(4,4,o.levels))?null:I.length)}},dependencies:[E.sg,E.O5,i.CK,f.v_,_.x8,l.JJ,l.On,E.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{min-width:12rem;height:3.5rem}mat-form-field[has-bld=true][_ngcontent-%COMP%]{max-width:calc(50vw - 2.5rem)}[full][_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:calc(50% - 2.5rem)}"]})},7848:(Je,K,t)=>{"use strict";t.d(K,{T:()=>R});var e=t(9671),n=t(4351),y=t(2986),T=t(7224),v=t(8368),O=t(3149),C=t(73),E=t(4702),i=t(3159),f=t(565),_=t(6198),l=t(6667),m=t(6888),h=t(9209),d=t(2825),c=t(12),a=t(6353),s=t(6581),r=t(6895),o=t(9136),S=t(4006),I=t(7732),x=t(8741),P=t(8461);function g(w,F){if(1&w&&(a.TgZ(0,"div",3),a._UZ(1,"div",12),a.TgZ(2,"div",13),a._uU(3),a.qZA()()),2&w){const B=F.$implicit;a.xp6(1),a.Udp("background-color",B[1]),a.xp6(2),a.Oqu(B[0])}}function u(w,F){if(1&w&&(a.TgZ(0,"div",8)(1,"h3",9),a.SDv(2,10),a.qZA(),a.YNc(3,g,4,3,"div",11),a.qZA()),2&w){const B=a.oxw();a.xp6(3),a.Q6J("ngForOf",B.legend)}}const M=[];class R extends v.KG{constructor(F,B,H,$,j,V,Q,ie,ye,G){super(),this._state=F,this._s=B,this._desks=H,this._zones=$,this._route=j,this._router=V,this._spaces=Q,this._org=ie,this._settings=ye,this._space_pipe=G,this.url=this._state.map_url,this.styles=this._state.map_styles,this.positions=this._state.map_positions,this.features=this._state.map_features,this.actions=this._state.map_actions,this.labels=this._state.map_labels,this.options=this._state.options,this.message=this._state.message,this.setOptions=_e=>this._state.setOptions(_e)}toggleZones(F){var B=this;return(0,e.Z)(function*(){const H=yield B.options.pipe((0,y.q)(1)).toPromise(),$=F?H.disable?.filter(j=>"zones"!==j&&"devices"!==j)||[]:(0,v.Tw)([...H.disable||[],"zones","devices"]);B.setOptions({disable:$})})()}get show_legend(){return!!this._settings.get("app.explore.show_legend")}get legend(){return this._settings.get("app.explore.legend")||M}ngOnInit(){var F=this;return(0,e.Z)(function*(){F._state.reset(),yield F._spaces.initialised.pipe((0,T.P)(B=>B)).toPromise(),F.toggleZones(!1),F.subscription("desks",F._desks.startPolling()),F.subscription("route.query",F._route.queryParamMap.subscribe(function(){var B=(0,e.Z)(function*(H){if(H.has("level")&&F._state.setLevel(H.get("level")),F._state.setFeatures("_located",[]),H.has("space"))F.locateSpace(H.get("space"));else if(H.has("user")){let $=F._settings.value("last_search");if((!$||H.get("user")!==$.email)&&($=null,$=yield(0,O.w0)(H.get("user")).toPromise()),!$)return(0,v.cB)(`Unable to user details for ${H.get("user")}`);F.locateUser($ instanceof Array?$[0]:$).catch(j=>{(0,v.cB)(`Unable to locate ${H.get("user")}`),F._router.navigate([],{relativeTo:F._route,queryParams:{}})})}else H.has("locate")?F._locateFeature(H.get("locate"),H.get("name")):F.timeout("update_location",()=>{F._state.setFeatures("_located",[])})});return function(H){return B.apply(this,arguments)}}()))})()}_locateFeature(F,B=""){const H=F.includes(","),$=F.split(","),j={track_id:`locate-${F}`,location:H?{x:parseFloat($[0]),y:parseFloat($[1])}:F,content:E.q,z_index:99,data:{message:B}};this.timeout("update_location",()=>this._state.setFeatures("_located",[j]))}locateSpace(F){var B=this;return(0,e.Z)(function*(){const H=yield B._space_pipe.transform(F);if(!H)return;B._state.setLevel(B._org.levelWithID(H.zones)?.id);const $={track_id:`locate-${H.id}`,location:H.map_id,content:E.q,z_index:99,data:{message:`${H.display_name||H.name} is here`}};B.timeout("update_location",()=>B._state.setFeatures("_located",[$]))})()}locateUser(F){var B=this;return(0,e.Z)(function*(){let H=B._org.binding("location_services");if(!H)return;"string"==typeof H&&(H={system_id:H,module:"LocationServices"});const j=(yield(0,n.rTZ)(H.system_id,H.module).execute("locate_user",[F.email,F.username||F.id])).map(ye=>new O.Y(ye));if(j.sort((ye,G)=>H.priority.indexOf(ye.type)-H.priority.indexOf(G.type)),!j?.length)throw"No locations for the given user";B._state.setLevel(B._org.levelWithID([j[0]?.level])?.id);const V=j[0].position,{coordinates_from:Q}=j[0],ie={track_id:`locate-${F.id}`,location:"wireless"===j[0].type?{x:Q?.includes("right")?1-V.x:V.x,y:Q?.includes("bottom")?1-V.y:V.y}:V,content:"wireless"===j[0].type?i.n:E.q,z_index:99,data:{message:`${F.name} is here`,radius:j[0].variance,last_seen:j[0].last_seen}};B.timeout("update_location",()=>{B._state.setFeatures("_located",[ie])})})()}}R.\u0275fac=function(F){return new(F||R)(a.Y36(l.c),a.Y36(m.a),a.Y36(d.X),a.Y36(h.D),a.Y36(s.gz),a.Y36(s.F0),a.Y36(C.s),a.Y36(f.w),a.Y36(v.gb),a.Y36(_.X))},R.\u0275cmp=a.Xpm({type:R,selectors:[["explore-map-view"]],features:[a._Bn([m.a,d.X,h.D,c.p,_.X]),a.qOj],decls:17,vars:25,consts:function(){let w,F;return w=$localize`:␟dab9a30ea9f109a7395ec84fe144c4f70d50c32d␟4377629928032707348:Zones`,F=$localize`:␟5c5419db944ed6a96f9515a2ac0ee390ec8cf3b5␟7297822327994766046:Legend`,[[3,"src","zoom","center","styles","features","actions","labels"],[1,"absolute","bottom-2","right-2"],["controls","",1,"absolute","top-2","left-2","bg-white","dark:bg-neutral-800","border","border-gray-200","dark:border-neutral-500","rounded","p-2","space-y-2"],[1,"flex","items-center","space-x-2"],["name","zones",1,"ml-2",3,"ngModel","ngModelChange"],["for","zones",1,"mb-0"],w,["legend","","class","absolute bottom-2 left-2 p-2 rounded bg-white dark:bg-neutral-800 border border-gray-300",4,"ngIf"],["legend","",1,"absolute","bottom-2","left-2","p-2","rounded","bg-white","dark:bg-neutral-800","border","border-gray-300"],[1,"mb-2","font-medium"],F,["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"w-3","h-3","rounded-full","border","border-gray-400"],[1,"text-sm"]]},template:function(F,B){if(1&F&&(a._UZ(0,"i-map",0),a.ALo(1,"async"),a.ALo(2,"async"),a.ALo(3,"async"),a.ALo(4,"async"),a.ALo(5,"async"),a.ALo(6,"async"),a.ALo(7,"async"),a._UZ(8,"explore-zoom-controls",1),a.TgZ(9,"div",2),a._UZ(10,"explore-map-controls"),a.TgZ(11,"div",3)(12,"mat-slide-toggle",4),a.NdJ("ngModelChange",function($){return B.toggleZones($)}),a.ALo(13,"async"),a.qZA(),a.TgZ(14,"label",5),a.SDv(15,6),a.qZA()()(),a.YNc(16,u,4,1,"div",7)),2&F){let H,$,j;a.Q6J("src",a.lcZ(1,9,B.url))("zoom",null==(H=a.lcZ(2,11,B.positions))?null:H.zoom)("center",null==($=a.lcZ(3,13,B.positions))?null:$.center)("styles",a.lcZ(4,15,B.styles))("features",a.lcZ(5,17,B.features))("actions",a.lcZ(6,19,B.actions))("labels",a.lcZ(7,21,B.labels)),a.xp6(12),a.Q6J("ngModel",!(null!=(j=a.lcZ(13,23,B.options))&&null!=j.disable&&j.disable.includes("zones"))),a.xp6(4),a.Q6J("ngIf",B.show_legend&&B.legend.length)}},dependencies:[r.sg,r.O5,o.p,S.JJ,S.On,I.iZ,x.Y,P.s,r.Ov],styles:["[_nghost-%COMP%]{height:100%;width:100%}[zones][_ngcontent-%COMP%]{top:3.5rem}"]})},12:(Je,K,t)=>{"use strict";t.d(K,{p:()=>r});var e=t(8368),n=t(4351),y=t(8115),T=t(9972),v=t(2722),O=t(5650),C=t(2641),E=t(591),i=t(3426),f=t(567),_=t(4850),l=t(7545),m=t(5154),h=t(565),d=t(354),c=t(6667),a=t(6888),s=t(6353);class r extends e.KG{constructor(S,I,x){super(),this._org=S,this._state=I,this._settings=x,this._options=new E.X({date:(0,y.Z)(Date.now()).valueOf()}),this._poll=new E.X(0),this.options=this._options.asObservable(),this.levels=this._org.active_levels.pipe((0,_.U)(P=>P.filter(g=>g.tags.includes("parking")))),this.events=(0,i.aj)([this._org.active_building,this._options,this._poll]).pipe((0,l.w)(([P,g])=>(0,d.F2)({period_start:(0,T.Z)((0,y.Z)(g.date)),period_end:(0,T.Z)((0,v.Z)(g.date)),type:"parking",zones:P?.id})),(0,m.d)(1)),this.existing_event=(0,i.aj)([this._options]).pipe((0,l.w)(([P])=>(0,d.F2)({period_start:(0,T.Z)((0,y.Z)(P.date)),period_end:(0,T.Z)((0,v.Z)(P.date)),type:"parking",email:P?.user||(0,e.ar)()?.email})),(0,m.d)(1)),this.week_events=(0,i.aj)([this._org.active_building,this._options]).pipe((0,l.w)(([P,g])=>(0,d.F2)({period_start:(0,T.Z)((0,y.Z)(g.date)),period_end:(0,T.Z)((0,O.Z)((0,v.Z)(g.date),6)),type:"parking",zones:P?.id})),(0,m.d)(1)),this.spaces=this.levels.pipe((0,l.w)(P=>(0,f.D)(P.map(g=>(0,n.rlq)(g.id,"parking-spaces").pipe((0,_.U)(u=>u.details.map(M=>({...M,zone_id:g.id}))))))),(0,_.U)(P=>(0,e.xH)(P)),(0,m.d)(1)),this.available_spaces=(0,i.aj)([this.events,this.spaces,this._state.level]).pipe((0,_.U)(([P,g,u])=>g.filter(M=>M.zone_id===u?.id&&!P.find(R=>R.asset_id===M.id)))),this.week_availablility=(0,i.aj)([this.week_events,this.spaces,this._options]).pipe((0,_.U)(([P,g,{date:u}])=>{const M={};for(let R=0;R<7;R++){const w=(0,O.Z)(u,R),F=P.filter(B=>(0,C.Z)(w,B.date));M[w.valueOf()]=g.filter(B=>!F.find(H=>H.asset_id===B.id)).length}return M})),this.subscription("spaces",(0,i.aj)([this.spaces,this.available_spaces]).subscribe(([P,g])=>this._updateParkingSpaces(P,g))),this.interval("poll",()=>this._poll.next(Date.now()),1e4)}setOptions(S){this._options.next({...this._options.getValue(),...S})}_updateParkingSpaces(S,I){const x={},P=[],g=this._settings.get("app.explore.colors")||{};for(const u of S){const M=!!I.find(w=>w.id===u.id),R=M?"free":"busy";x[`#${u.map_id}`]={fill:g[`desk-${R}`]||g[`${R}`]||a.y[`${R}`],opacity:.6},M&&P.push({location:`${u.map_id}`,content:`${u.name}\nFree`})}this._state.setStyles("parking",x),this._state.setLabels("parking",P)}}r.\u0275fac=function(S){return new(S||r)(s.LFG(h.w),s.LFG(c.c),s.LFG(e.gb))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac})},9275:(Je,K,t)=>{"use strict";t.d(K,{i:()=>m});var e=t(719),n=t(9136),y=t(6353),T=t(6895),v=t(3970);function O(h,d){if(1&h&&y._UZ(0,"img",17),2&h){const c=y.oxw(2);y.Q6J("src",c.space.images[0],y.LSH)}}function C(h,d){1&h&&y._UZ(0,"div",18)}function E(h,d){if(1&h&&(y.TgZ(0,"div",19),y._uU(1),y.qZA()),2&h){const c=y.oxw(2);y.xp6(1),y.hij(" ",c.available_until," ")}}function i(h,d){if(1&h&&(y.TgZ(0,"div",20)(1,"span"),y.SDv(2,21),y.qZA(),y._uU(3),y.qZA()),2&h){const c=y.oxw(2);y.xp6(3),y.AsE("",c.space.capacity," ",1===c.space.capacity?"person":"people"," ")}}function f(h,d){if(1&h&&(y.TgZ(0,"li",24),y._uU(1),y.qZA()),2&h){const c=d.$implicit;y.xp6(1),y.hij(" ",c," ")}}function _(h,d){if(1&h&&(y.TgZ(0,"ul",22),y.YNc(1,f,2,1,"li",23),y.qZA()),2&h){const c=y.oxw(2);y.xp6(1),y.Q6J("ngForOf",c.space.features)}}function l(h,d){if(1&h&&(y.TgZ(0,"div",3),y._UZ(1,"div",4),y.TgZ(2,"div",5)(3,"div",6),y.YNc(4,O,1,1,"img",7),y.YNc(5,C,1,0,"div",8),y.qZA(),y.TgZ(6,"div",9)(7,"div",10),y._uU(8," "),y.SDv(9,11),y._uU(10," "),y.qZA(),y.YNc(11,E,2,1,"div",12),y.qZA(),y.TgZ(12,"div",13)(13,"h4",14),y._uU(14),y.qZA(),y.YNc(15,i,4,2,"div",15),y.YNc(16,_,2,1,"ul",16),y.qZA()()()),2&h){const c=y.oxw();y.ekj("-translate-x-full","end"===c.x_pos)("-translate-y-full","bottom"===c.y_pos),y.Q6J("id",null==c.space?null:c.space.id),y.xp6(3),y.ekj("bg-black",c.space.images[0])("h-32",c.space.images[0])("h-8",!c.space.images[0]),y.xp6(1),y.Q6J("ngIf",c.space.images[0]),y.xp6(1),y.Q6J("ngIf",c.space.images[0]),y.xp6(2),y.Tol("capitalize rounded p-1 px-2 text-light border border-white shadow "+c.status),y.xp6(2),y.pQV(c.status),y.QtT(9),y.xp6(2),y.Q6J("ngIf","not-bookable"!==c.status),y.xp6(3),y.hij(" ",c.space.display_name||c.space.name," "),y.xp6(1),y.Q6J("ngIf",c.space.capacity>=0),y.xp6(1),y.Q6J("ngIf",(null==c.space.features?null:c.space.features.length)>0&&c.show_features)}}class m{constructor(d,c,a){this._details=d,this._settings=c,this._element=a,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}get show_features(){return!this._settings.get("app.spaces.hide_features")}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const d=this._element.nativeElement.getBoundingClientRect();this.x_pos=d.x<document.body.clientWidth/2?"start":"end",this.y_pos=d.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}}m.\u0275fac=function(d){return new(d||m)(y.Y36(n.u),y.Y36(e.g),y.Y36(y.SBq))},m.\u0275cmp=y.Xpm({type:m,selectors:[["explore-space-info"]],decls:4,vars:6,consts:function(){let h,d;return h=$localize`:␟86e6b3a473ea3e05830d2aef91c81199de1b9d33␟3658078071800974217:{VAR_SELECT, select, free {Free } busy {Busy } pending {Pending } reserved {Reserved } other {Not Bookable }}`,h=y.Zx4(h,{VAR_SELECT:"\ufffd0\ufffd"}),d=$localize`:␟36c2a5db33c6cfc9e239e589f975f5492bbb0550␟2292396409867038415:Capacity: `,[["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover","mouseenter"],["tooltip",""],["space_tooltip",""],["name","space-info",1,"absolute","rounded","bg-white","dark:bg-neutral-800","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","overflow-hidden","flex","items-center","justify-center","relative","bg-opacity-20"],["class","object-cover min-h-full min-w-full",3,"src",4,"ngIf"],["class","absolute inset-0 bg-black/30",4,"ngIf"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],h,["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],[1,"object-cover","min-h-full","min-w-full",3,"src"],[1,"absolute","inset-0","bg-black/30"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],d,[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-gray-200 dark:bg-neutral-600 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-gray-200","dark:bg-neutral-600","font-medium"]]},template:function(d,c){if(1&d&&(y.TgZ(0,"div",0,1),y.NdJ("mouseenter",function(){return c.updateOffset()}),y.qZA(),y.YNc(2,l,17,20,"ng-template",null,2,y.W1O)),2&d){const a=y.MAs(3);y.Q6J("content",a)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0),y.uIk("id",(null==c.space?null:c.space.map_id)||(null==c.space?null:c.space.id))}},dependencies:[T.sg,T.O5,v.X],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})},6888:(Je,K,t)=>{"use strict";t.d(K,{a:()=>d,y:()=>h});var e=t(4351),n=t(4850),y=t(8368),T=t(8296),v=t(656),O=t(3902),C=t(6667),E=t(9275),i=t(1718),f=t(7801),_=t(5804),l=t(6353),m=t(5559);const h={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};class d extends y.KG{constructor(a,s,r,o){super(),this._state=a,this._settings=s,this._event_form=r,this._dialog=o,this._bookings={},this._statuses={},this._bind=this._state.spaces.pipe((0,n.U)(S=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this._statuses={},S?.length){for(const I of S){const x=(0,e.rTZ)(I.id,"Bookings");let P=x.binding("bookings");this.subscription(`b-${I.id}`,P.listen().subscribe(g=>this.handleBookingsChange(S,I,g))),this.subscription(`b-bind-${I.id}`,P.bind()),P=x.binding("status"),this.subscription(`s-${I.id}`,P.listen().subscribe(g=>this.handleStatusChange(S,I,g))),this.subscription(`s-bind-${I.id}`,P.bind())}this.updateActions(S),this.updateHoverElements(S)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace(a){return"busy"!==this._statuses[a.id]&&a.bookable?(this._event_form.newForm(),this._event_form.form.patchValue({host:(0,y.ar)()?.email,resources:[a]}),this._settings.get("app.events.booking_unavailable")?this._event_form.openEventLinkModal():void this._dialog.open(this._settings.get("app.explore.show_booking_qr")?f.m:i.w,{data:{space:a}})):(0,T.cB)(`${a.display_name||a.name} is unavailable at the current time`)}handleBookingsChange(a,s,r){!r||(this._bookings[s.id]=r.map(o=>new O.y(o)),this.timeout("update_hover_els",()=>this.updateHoverElements(a),100))}handleStatusChange(a,s,r){this._statuses[s.id]=s.bookable?r||"free":"not-bookable",this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this.updateStatus(a),this.updateHoverElements(a)},100)}updateStatus(a){const s={},r=this._settings.get("app.explore.colors")||{};for(const o of a){const S=this._statuses[o.id]||"not-bookable";s[`#${o.map_id}`]={fill:r[`space-${S}`]||r[`${S}`]||h[`${S}`],opacity:.6}}this._state.setStyles("spaces",s)}updateHoverElements(a){const s=[];for(const r of a)!r.map_id||s.push({location:r.map_id,full_size:!0,no_scale:!0,content:E.i,data:{space:new v.T(r),events:this._bookings[r.id],status:this._statuses[r.id]}});this._state.setFeatures("spaces",s)}updateActions(a){const s=[];for(const r of a)!r.map_id||(s.push({id:r.map_id,action:"click",callback:()=>this.bookSpace(r)}),s.push({id:r.map_id,action:"touchend",callback:()=>this.bookSpace(r)}));this._state.setActions("spaces",s)}}d.\u0275fac=function(a){return new(a||d)(l.LFG(C.c),l.LFG(y.gb),l.LFG(_.M),l.LFG(m.on))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac})},6667:(Je,K,t)=>{"use strict";t.d(K,{c:()=>s});var e=t(9671),n=t(4351),y=t(591),T=t(1086),v=t(3426),O=t(7545),C=t(4850),E=t(7221),i=t(5154),f=t(13),_=t(7224),l=t(2198),m=t(8368),h=t(565),d=t(656),c=t(73),a=t(6353);class s extends m.KG{constructor(o,S,I){super(),this._org=o,this._spaces=S,this._settings=I,this._level=new y.X(null),this._positions=new y.X({zoom:1,center:{x:.5,y:.5}}),this._styles=new y.X({}),this._features=new y.X({}),this._actions=new y.X({}),this._labels=new y.X({}),this._options=new y.X({disable:["zones","devices"]}),this._message=new y.X(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=this._level.pipe((0,O.w)(x=>(0,n.vIL)({zone_id:x?.id,limit:50}).pipe((0,C.U)(({data:P})=>P.map(g=>new d.T(g))),(0,E.K)(P=>(0,T.of)([])))),(0,i.d)(1)),this.map_url=this._level.pipe((0,C.U)(x=>(x?x.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,v.aj)([this._features,this._options]).pipe((0,f.b)(200),(0,C.U)(([x,P])=>{let g=[];for(const u in x)P.disable?.includes(u)||P.disable_features?.includes(u)||(g=g.concat(x[u]));return g})),this.map_actions=(0,v.aj)([this._actions,this._options]).pipe((0,f.b)(200),(0,C.U)(([x,P])=>{let g=[];for(const u in x)P.disable?.includes(u)||P.disable_actions?.includes(u)||(g=g.concat(x[u]));return g})),this.map_labels=(0,v.aj)([this._labels,this._options]).pipe((0,f.b)(200),(0,C.U)(([x,P])=>{let g=[];for(const u in x)P.disable?.includes(u)||P.disable_labels?.includes(u)||(g=g.concat(x[u]));return g})),this.map_styles=(0,v.aj)([this._styles,this._options]).pipe((0,f.b)(200),(0,C.U)(([x,P])=>{let g={text:{display:"none"}};for(const u in x)P.disable?.includes(u)||P.disable_styles?.includes(u)||(g={...g,...x[u]});return P.disable?.includes("zones")&&(g["#zones"]={display:"none"},g["#Zones"]={display:"none"}),g})),this.options=this._options.asObservable(),this.init()}get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}init(){var o=this;return(0,e.Z)(function*(){yield o._org.initialised.pipe((0,_.P)(S=>S)).toPromise(),o._org.active_building.pipe((0,l.h)(S=>!!S)).subscribe(S=>{const I=o._level.getValue(),x=o._org.levelsForBuilding(S);!x.find(g=>I?.id===g.id)&&x.length&&o.setLevel(x[0].id),o._settings.get("app.explore.disable_actions")&&o.setOptions({disable_actions:o._settings.get("app.explore.disable_actions")}),o._settings.get("app.explore.disable_labels")&&o.setOptions({disable_labels:o._settings.get("app.explore.disable_labels")}),o._settings.get("app.explore.disable_features")&&o.setOptions({disable_features:o._settings.get("app.explore.disable_features")}),o._settings.get("app.explore.disable_styles")&&o.setOptions({disable_styles:o._settings.get("app.explore.disable_styles")})})})()}setOptions(o){const S=this._options.getValue(),I=(0,m.Tw)([...o.disable||S.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),...o,disable:I})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this.setPositions(1,{x:.5,y:.5})}setLevel(o){const S=this._org.levelWithID([o]);S&&this._level.next(S)}setStyles(o,S){const I=this._styles.getValue();I[o]=S,this._styles.next(I)}setFeatures(o,S){const I=this._features.getValue();I[o]=S,this._features.next(I)}setActions(o,S){const I=this._actions.getValue();I[o]=S,this._actions.next(I)}setLabels(o,S){const I=this._labels.getValue();I[o]=S,this._labels.next(I)}setPositions(o,S){this._positions.next({zoom:o,center:S})}}s.\u0275fac=function(o){return new(o||s)(a.LFG(h.w),a.LFG(c.s),a.LFG(m.gb))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},9209:(Je,K,t)=>{"use strict";t.d(K,{D:()=>l});var e=t(9671),n=t(4351),y=t(4850),T=t(7224),v=t(8368),O=t(565),C=t(6667),E=t(6888),i=t(9627),f=t(6353);class l extends v.KG{constructor(d,c,a){super(),this._state=d,this._org=c,this._settings=a,this._statuses={},this._labels={},this._location={},this._capacity={},this._draw={},this._points={},this._bind=this._state.level.pipe((0,y.U)(s=>{if(!s)return;this._statuses={};let r=this._org.binding("area_management");if(!r)return;const o=(0,n.rTZ)(r,"AreaManagement").binding(`${s.id}:areas`);this.subscription("zones",o.listen().subscribe(S=>this.parseData(S))),this.subscription("binding",o.bind())})),this.init()}init(){var d=this;return(0,e.Z)(function*(){yield d._org.initialised.pipe((0,T.P)(a=>a)).toPromise();const c=yield Promise.all(d._org.levels.map(a=>(0,n.rlq)(a.id,"map_regions").toPromise()));for(const a of c){const s=a?.details?.areas;if(s)for(const r of s){const{capacity:o,hide_label:S,label_location:I,draw_polygon:x}=r.properties||{},{coordinates:P}=r.geometry||{};d._capacity[r.id]=o||100,d._location[r.id]=!1===S?I||(P?.length?m(P):null):null,d._draw[r.id]=!!x,d._points[r.id]=P||[]}}d.updateStatus(),d.subscription("bind",d._bind.subscribe())})()}parseData(d){const c=d?.value||[],a=[];for(const s of c){const r=s.count/(this._capacity[s.area_id]||100);if(this._statuses[s.area_id]=r<.4?"free":r<.75?"pending":"busy",!this._location[s.area_id])continue;let o="";s.count&&(o+=`${s.count||0} User Device${1===s.count?"":"s"}\n`),s.temperature&&(o+=`Temperature: ${s.temperature} \u02daC\n`),s.people_count>0&&(o+=`${s.people_count_sum} ${1===s.people_count_sum?"Person":"People"}\n`),s.humidity&&(o+=`Humidity: ${s.humidity}%\n`),s.queue_size&&(o+=`Queue Size: ${s.queue_size}%\n`),s.counter&&(o+=`Count: ${s.counter}\n`),this._labels[s.area_id]={location:this._location[s.area_id],content:o,z_index:100},a.push(this._labels[s.area_id])}this._state.setLabels("zones",a),this.updateStatus()}updateStatus(){const d={},c=[],a=this._settings.get("app.explore.colors")||{};for(const s in this._statuses){const r=a[`zone-${this._statuses[s]}`]||a[`${this._statuses[s]}`]||E.y[`${this._statuses[s]}`];this._draw[s]?c.push({location:m(this._points[s]),content:i.i,data:{color:r,points:this._points[s]},z_index:10}):d[`#${s}`]={fill:r,opacity:.6}}this._state.setFeatures("zones",c),this._state.setStyles("zones",d)}}function m(h){const d=(h||[]).reduce((c,[a,s])=>({x_min:a<c.x_min?a:c.x_min,x_max:a>c.x_max?a:c.x_max,y_min:s<c.y_min?s:c.y_min,y_max:s>c.y_max?s:c.y_max}),{x_min:100,x_max:-100,y_min:100,y_max:-100});return{x:d.x_min+(d.x_max-d.x_min)/2,y:d.y_min+(d.y_max-d.y_min)/2}}l.\u0275fac=function(d){return new(d||l)(f.LFG(C.c),f.LFG(O.w),f.LFG(v.gb))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac})},8461:(Je,K,t)=>{"use strict";t.d(K,{s:()=>v});var e=t(6667),n=t(6353),y=t(5306),T=t(9818);class v{constructor(C){this._state=C,this.zoomIn=()=>this._state.setPositions(Math.min(10,1.2*this._state.positions.zoom),this._state.positions.center),this.zoomOut=()=>this._state.setPositions(Math.max(1,this._state.positions.zoom*(1/1.2)),this._state.positions.center),this.reset=()=>this._state.setPositions(1,{x:.5,y:.5})}}v.\u0275fac=function(C){return new(C||v)(n.Y36(e.c))},v.\u0275cmp=n.Xpm({type:v,selectors:[["explore-zoom-controls"]],decls:9,vars:0,consts:function(){let O,C,E;return O=$localize`:␟34fb6028a6630cf3a7308084b31e86e89d057965␟1470758907984185227:Zoom In`,C=$localize`:␟677ce9c57b5558cb10f0b39327d5a965bfb21dc5␟1356460275822781324:Zoom Out`,E=$localize`:␟77981432124895c410e5b9157b3deb948831ffc6␟5016012668378976433:Reset Zoom & Center`,[["z-in","","mat-icon-button","","matTooltip",O,1,"bg-white","dark:bg-neutral-800",3,"click"],["z-out","","mat-icon-button","","matTooltip",C,1,"bg-white","dark:bg-neutral-800",3,"click"],["reset","","mat-icon-button","","matTooltip",E,1,"bg-white","dark:bg-neutral-800",3,"click"]]},template:function(C,E){1&C&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return E.zoomIn()}),n.TgZ(1,"app-icon"),n._uU(2,"add"),n.qZA()(),n.TgZ(3,"button",1),n.NdJ("click",function(){return E.zoomOut()}),n.TgZ(4,"app-icon"),n._uU(5,"remove"),n.qZA()(),n.TgZ(6,"button",2),n.NdJ("click",function(){return E.reset()}),n.TgZ(7,"app-icon"),n._uU(8,"autorenew"),n.qZA()())},dependencies:[y.o,T.eB],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border:1px solid #9998;border-radius:0}button[_ngcontent-%COMP%]:first-child{border-radius:.25rem .25rem 0 0;border-bottom:none}button[_ngcontent-%COMP%]:last-child{border-radius:0 0 .25rem .25rem;border-top:none}"]})},3764:(Je,K,t)=>{"use strict";t.d(K,{h:()=>l});var e=t(4006),n=t(5559),y=t(6353),T=t(6895),v=t(5306),O=t(9818),C=t(2329),E=t(1022),i=t(7303);const f=function(){return{standalone:!0}};function _(m,h){if(1&m){const d=y.EpF();y.TgZ(0,"main",5)(1,"div",6)(2,"div",7)(3,"label"),y._uU(4,"Date"),y.qZA(),y.TgZ(5,"a-date-field",8),y._uU(6," Date and time must be in the future "),y.qZA()()(),y.TgZ(7,"div",6)(8,"div",9)(9,"label"),y._uU(10,"Start Time"),y.qZA(),y.TgZ(11,"a-time-field",10),y.NdJ("ngModelChange",function(a){y.CHM(d);const s=y.oxw();return y.KtG(s.form.patchValue({date:a}))}),y.qZA()(),y.TgZ(12,"div",9)(13,"label"),y._uU(14,"End Time"),y.qZA(),y._UZ(15,"a-duration-field",11),y.qZA()()()}if(2&m){const d=y.oxw();let c;y.Q6J("formGroup",d.form),y.xp6(5),y.Q6J("to",d.book_until),y.xp6(6),y.Q6J("ngModel",d.form.value.date)("ngModelOptions",y.DdM(8,f)),y.xp6(4),y.Q6J("time",null==(c=d.form.get("date"))?null:c.value)("max",720)("min",60)("step",60)}}class l{constructor(h){this._data=h,this.form=new e.cw({date:new e.NI(this._data.date),duration:new e.NI(this._data.duration)}),this.book_until=this._data.until}}l.\u0275fac=function(h){return new(h||l)(y.Y36(n.eJ))},l.\u0275cmp=y.Xpm({type:l,selectors:[["set-datetime-modal"]],decls:10,vars:2,consts:[["classs","flex items-center justify-between"],["mat-icon-button","","mat-dialog-close",""],["class","w-[24rem] pt-4",3,"formGroup",4,"ngIf"],[1,"w-full","p-2","border-t","border-gray-200","flex","items-center","justify-center"],["mat-button","",1,"w-32",3,"mat-dialog-close"],[1,"w-[24rem]","pt-4",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","space-x-0","sm:space-x-2","w-[640px]","max-w-[calc(100%-2rem)]","mx-auto"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/4"],["formControlName","date",3,"to"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/3"],[3,"ngModel","ngModelOptions","ngModelChange"],["formControlName","duration",3,"time","max","min","step"]],template:function(h,d){1&h&&(y.TgZ(0,"header",0)(1,"h2"),y._uU(2,"Set date and time"),y.qZA(),y.TgZ(3,"button",1)(4,"app-icon"),y._uU(5,"close"),y.qZA()()(),y.YNc(6,_,16,9,"main",2),y.TgZ(7,"footer",3)(8,"button",4),y._uU(9,"Continue"),y.qZA()()),2&h&&(y.xp6(6),y.Q6J("ngIf",d.form),y.xp6(2),y.Q6J("mat-dialog-close",d.form.value))},dependencies:[T.O5,v.o,O.eB,n.aO,e.JJ,e.JL,e.On,e.sg,e.u,C.Q,E.B,i.N]})},9816:(Je,K,t)=>{"use strict";t.d(K,{W9:()=>e.W});var e=t(5844);t(6817),t(2793),t(2329),t(1022),t(7303),t(6471),t(9697),t(3670)},6817:(Je,K,t)=>{"use strict";t.d(K,{s:()=>T});var e=t(6353),n=t(5306);class T{constructor(){this.on_action=new e.vpe,this.show_tooltip=!1}performAction(){this.show_tooltip=!this.show_tooltip,this.on_action.emit()}}T.\u0275fac=function(O){return new(O||T)},T.\u0275cmp=e.Xpm({type:T,selectors:[["an-action-field"]],inputs:{name:"name",disabled:"disabled"},outputs:{on_action:"onAction"},ngContentSelectors:["*"],decls:5,vars:3,consts:[["role","button","form-field","","tabindex","0",1,"flex","items-center","rounded","p-2","border","border-gray-300","hover:border-black",3,"keydown.enter"],["placeholder","",1,"flex-1","w-0","truncate",3,"click"],[1,"text-xl",3,"click"]],template:function(O,C){1&O&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("keydown.enter",function(){return C.performAction()}),e.TgZ(1,"div",1),e.NdJ("click",function(){return C.performAction()}),e.Hsn(2),e.qZA(),e.TgZ(3,"app-icon",2),e.NdJ("click",function(){return C.performAction()}),e._uU(4),e.qZA()()),2&O&&(e.uIk("disabled",C.disabled)("name",C.name),e.xp6(4),e.hij(" arrow_drop_",C.show_tooltip?"up":"down"," "))},dependencies:[n.o],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 1px #000}"]})},1360:(Je,K,t)=>{"use strict";t.d(K,{k:()=>_});var e=t(6353),n=t(4006),y=t(719),T=t(8560),v=t(5559),O=t(6895),C=t(5306),E=t(9818);function i(l,m){if(1&l){const h=e.EpF();e.TgZ(0,"div",4),e._UZ(1,"div",5),e.TgZ(2,"div",6)(3,"div",7),e._uU(4),e.qZA(),e.TgZ(5,"div"),e.SDv(6,8),e.qZA(),e.TgZ(7,"div",9)(8,"button",10),e.NdJ("click",function(){const a=e.CHM(h).$implicit,s=e.oxw();return e.KtG(s.addAssets(a))}),e.TgZ(9,"div",11),e.tHW(10,12),e._UZ(11,"app-icon"),e.N_p(),e.qZA()(),e.TgZ(12,"button",13),e.NdJ("click",function(){const a=e.CHM(h).$implicit,s=e.oxw();return e.KtG(s.removeAsset(a))}),e.TgZ(13,"div",11),e.tHW(14,14),e._UZ(15,"app-icon"),e.N_p(),e.qZA()()()(),e.TgZ(16,"button",15),e.NdJ("click",function(){const a=e.CHM(h).$implicit,s=e.oxw();return e.KtG(s.toggleFavourite(a))}),e.TgZ(17,"app-icon"),e._uU(18),e.qZA()()()}if(2&l){const h=m.$implicit,d=e.oxw();e.xp6(4),e.hij(" ",h.name||"Asset"," "),e.xp6(2),e.pQV(h.amount),e.QtT(6),e.xp6(10),e.ekj("text-blue-400",d.favorites.includes(h.id)),e.xp6(2),e.Oqu(d.favorites.includes(h.id)?"favorite":"favorite_border")}}const f=[];class _{constructor(m,h){this._settings=m,this._dialog=h,this.items=[],this.disabled=!1,this.selected=[],this.registerOnChange=d=>this._onChange=d,this.registerOnTouched=d=>this._onTouch=d,this.setDisabledState=d=>this.disabled=d}get favorites(){return this._settings.get("favourite_assets")||f}setValue(m){this.items=m,this._onChange&&this._onChange(this.items)}writeValue(m){this.items=m||[]}removeAsset(m){const h=this.items.filter(d=>d.id!==m.id);this.setValue(h)}addAssets(m){this._dialog.open(T.v,{data:this.items}).afterClosed().subscribe(d=>{!d||this.setValue(d)})}toggleFavourite(m){const h=this.favorites;h.includes(m.id)?this._settings.saveUserSetting("favourite_assets",h.filter(c=>c!==m.id)):this._settings.saveUserSetting("favourite_assets",[...h,m.id])}}_.\u0275fac=function(m){return new(m||_)(e.Y36(y.g),e.Y36(v.on))},_.\u0275cmp=e.Xpm({type:_,selectors:[["asset-list-field"]],features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>_),multi:!0}])],decls:8,vars:1,consts:function(){let l,m,h;return l=$localize`:␟c77e9049d16cc4f0ece3531dfaaee372ddd15ecd␟2242077690307761508:${"\ufffd0\ufffd"}:INTERPOLATION: requested`,m=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#11\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#11\ufffd"}:CLOSE_TAG_APP_ICON: Change `,h=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#15\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#15\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200",4,"ngFor","ngForOf"],["mat-button","","add-space","",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-gray-200"],[1,"w-16","h-16","rounded-xl","bg-black/20","mr-4"],[1,"pb-4"],[1,"font-medium"],l,[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["mat-button","","edit-space","",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],m,["mat-button","","remove-space","",1,"clear",3,"click"],h,["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"]]},template:function(m,h){1&m&&(e.TgZ(0,"div",0),e.YNc(1,i,19,5,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return h.addAssets()}),e.TgZ(3,"div",3)(4,"app-icon"),e._uU(5,"search"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Add Asset"),e.qZA()()()),2&m&&(e.xp6(1),e.Q6J("ngForOf",h.items))},dependencies:[O.sg,C.o,E.eB]})},2793:(Je,K,t)=>{"use strict";t.d(K,{R:()=>v});var e=t(6353),n=t(4006),y=t(5306),T=t(9818);class v{constructor(){this.step=1,this.max=10,this.min=0}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(C){this.value=C,this._onChange&&this._onChange(C)}writeValue(C){this.value=C}registerOnChange(C){this._onChange=C}registerOnTouched(C){this._onTouch=C}}v.\u0275fac=function(C){return new(C||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>v),multi:!0}])],decls:9,vars:3,consts:[["counter","",1,"flex","items-center","text-base",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["mat-icon-button","","name","remove","type","button",3,"disabled","click"],["value","",1,"p-1","text-center"],["mat-icon-button","","name","add","type","button",3,"disabled","click"]],template:function(C,E){1&C&&(e.TgZ(0,"div",0),e.NdJ("keydown.shift",function(){return E.shift_key=!0},!1,e.Jf7)("keydown.control",function(){return E.ctrl_key=!0},!1,e.Jf7)("keydown.meta",function(){return E.ctrl_key=!0},!1,e.Jf7)("keyup.shift",function(){return E.shift_key=!1},!1,e.Jf7)("keyup.control",function(){return E.ctrl_key=!1},!1,e.Jf7)("keyup.meta",function(){return E.ctrl_key=!1},!1,e.Jf7),e.TgZ(1,"button",1),e.NdJ("click",function(){return E.remove()}),e.TgZ(2,"app-icon"),e._uU(3,"remove"),e.qZA()(),e.TgZ(4,"div",2),e._uU(5),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return E.add()}),e.TgZ(7,"app-icon"),e._uU(8,"add"),e.qZA()()()),2&C&&(e.xp6(1),e.Q6J("disabled",!E.value||E.value===E.min),e.xp6(4),e.Oqu((E.render_fn?E.render_fn(E.value):E.value)||"0"),e.xp6(1),e.Q6J("disabled",E.value===E.max))},dependencies:[y.o,T.eB],styles:["[value][_ngcontent-%COMP%]{min-width:3em}"]})},2329:(Je,K,t)=>{"use strict";t.d(K,{Q:()=>o});var e=t(6353),n=t(4006),y=t(3238),T=t(6308),v=t(8115),O=t(7978),C=t(2722),E=t(3337),i=t(953),f=t(3331),_=t(833);function l(S,I){var x,P;(0,_.Z)(1,arguments);var g=(0,i.Z)(S);if(isNaN(g.getTime()))throw new RangeError("Invalid time value");var u=String(null!==(x=I?.format)&&void 0!==x?x:"extended"),M=String(null!==(P=I?.representation)&&void 0!==P?P:"complete");if("extended"!==u&&"basic"!==u)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==M&&"time"!==M&&"complete"!==M)throw new RangeError("representation must be 'date', 'time', or 'complete'");var R="",w="",F="extended"===u?"-":"",B="extended"===u?":":"";if("time"!==M){var H=(0,f.Z)(g.getDate(),2),$=(0,f.Z)(g.getMonth()+1,2),j=(0,f.Z)(g.getFullYear(),4);R="".concat(j).concat(F).concat($).concat(F).concat(H)}if("date"!==M){var V=g.getTimezoneOffset();if(0!==V){var Q=Math.abs(V),ie=(0,f.Z)(Math.floor(Q/60),2),ye=(0,f.Z)(Q%60,2),G=V<0?"+":"-";w="".concat(G).concat(ie,":").concat(ye)}else w="Z";var _e=(0,f.Z)(g.getHours(),2),Ie=(0,f.Z)(g.getMinutes(),2),Me=(0,f.Z)(g.getSeconds(),2),Fe=""===R?"":"T",Ve=[_e,Ie,Me].join(B);R="".concat(R).concat(Fe).concat(Ve).concat(w)}return R}var m=t(8939),h=t(8455),d=t(9203),c=t(8897);class s extends y.LF{format(I,x){return(0,T.Z)(I,"input"===x?"MMMM d, yyyy":"MMM yyyy")}}s.\u0275fac=function(){let S;return function(x){return(S||(S=e.n5z(s)))(x||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac});class o extends m.K{constructor(){super(...arguments),this._from=(new Date).valueOf(),this.position="right",this.offset="bottom"}get from(){return new Date(this._from)||(0,v.Z)(new Date)}get until(){return new Date(this._to)||(0,O.Z)((0,C.Z)(new Date),1)}get date_string(){return(0,T.Z)(new Date(this.date),"DD MMM YYYY")}ngOnInit(){this.date=(new Date).toISOString()}setValue(I){const x=new Date(this.date);let P=(0,E.Z)(I,{hours:x.getHours(),minutes:x.getMinutes()}).valueOf();P<this.from.valueOf()&&(P=this.from.valueOf()),this.date=l(P||new Date),this._onChange&&this._onChange(P),this.show_tooltip=!1}writeValue(I){this.date=l(I||new Date),this.show_tooltip=!1}registerOnChange(I){this._onChange=I}registerOnTouched(I){this._onTouch=I}setDisabledState(I){this.disabled=I}}o.\u0275fac=function(){let S;return function(x){return(S||(S=e.n5z(o)))(x||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["a-date-field"]],inputs:{_from:["from","_from"],_to:["to","_to"],position:"position",offset:"offset",disabled:"disabled"},features:[e._Bn([{provide:y._A,useClass:s},{provide:y.sG,useValue:{parse:{dateInput:"LL"},display:{dateInput:"input",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},{provide:n.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}]),e.qOj],ngContentSelectors:["*"],decls:7,vars:6,consts:[["appearance","outline",3,"click"],["matInput","",3,"ngModel","disabled","min","max","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker",""]],template:function(I,x){if(1&I){const P=e.EpF();e.F$t(),e.TgZ(0,"mat-form-field",0),e.NdJ("click",function(){e.CHM(P);const u=e.MAs(4);return e.KtG(u.open())}),e.TgZ(1,"input",1),e.NdJ("ngModelChange",function(u){return x.setValue(u)}),e.qZA(),e._UZ(2,"mat-datepicker-toggle",2)(3,"mat-datepicker",null,3),e.TgZ(5,"mat-error"),e.Hsn(6),e.qZA()()}if(2&I){const P=e.MAs(4);e.xp6(1),e.Q6J("ngModel",x.date)("disabled",x.disabled)("min",x.from)("max",x.until)("matDatepicker",P),e.xp6(1),e.Q6J("for",P)}},dependencies:[n.Fj,n.JJ,n.On,h.nI,h.v_,h.nX,d.k0,c.Mq,c.hl,c.nW],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})},1022:(Je,K,t)=>{"use strict";t.d(K,{B:()=>l});var e=t(6353),n=t(4006),y=t(9833),T=t(1764),O=t(6895),C=t(8455),E=t(6289),i=t(4363);function f(m,h){if(1&m&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&m){const d=h.$implicit;e.Q6J("value",d.id),e.xp6(1),e.hij(" ",d.name," ")}}class l{constructor(){this.max=240,this.min=30,this.step=15,this.custom_options=[],this.duration=60}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption()}ngOnChanges(h){(h.max||h.min||h.step||h.time)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption())}setValue(h){this.duration=h,this._onChange&&this._onChange(+h)}writeValue(h){this.duration=h,this._updateOption()}setDisabledState(h){this.disabled=h}registerOnChange(h){this._onChange=h}registerOnTouched(h){this._onTouch=h}generateDurationOptions(h,d,c){const a=[];let s=d;const r=this.time?T(this.time):null;for(const o of this.custom_options)a.push({id:o,name:r?`${r.add(o,"m").format("h:mm A")} (${(0,y.Z)({hours:Math.floor(o/60),minutes:o%60})})`:`${(0,y.Z)({hours:Math.floor(o/60),minutes:o%60})}`});for(;s<=h;)a.push({id:s,name:r?`${r.add(s,"m").format("h:mm A")} (${(0,y.Z)({hours:Math.floor(s/60),minutes:s%60})})`:`${(0,y.Z)({hours:Math.floor(s/60),minutes:s%60})}`}),s+=c;return a}_updateOption(){this.duration_options?.length&&this.duration_options.findIndex(d=>d.id===this.duration)<0&&this.setValue(this.min)}}l.\u0275fac=function(h){return new(h||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",custom_options:"custom_options"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0}]),e.TTD],ngContentSelectors:["*"],decls:7,vars:5,consts:[[1,"duration-field"],["appearance","outline"],[3,"value","disabled","placeholder","valueChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(h,d){1&h&&(e.F$t(),e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2,3),e.NdJ("valueChange",function(a){return d.setValue(a)}),e.YNc(4,f,2,2,"mat-option",4),e.qZA(),e.TgZ(5,"mat-error"),e.Hsn(6),e.qZA()()()),2&h&&(e.uIk("disabled",d.disabled),e.xp6(2),e.Q6J("value",d.duration)("disabled",d.disabled)("placeholder",d.duration+" minutes"),e.xp6(2),e.Q6J("ngForOf",d.duration_options))},dependencies:[O.sg,C.nI,C.v_,E.x8,i.CK],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})},5844:(Je,K,t)=>{"use strict";t.d(K,{W:()=>Be});var e=t(6895),n=t(4006),y=t(8455),T=t(9203),v=t(6289),O=t(4226),C=t(2542),E=t(74),i=t(4454),f=t(4693),a=(t(6817),t(2793),t(2329),t(1022),t(7303),t(6471),t(9697)),s=t(6353),r=t(9521),o=t(9923),S=t(5306);function I(lt,Ye){if(1&lt){const et=s.EpF();s.TgZ(0,"mat-chip",5),s.NdJ("removed",function(){const we=s.CHM(et).$implicit,me=s.oxw();return s.KtG(me.remove(we))}),s._uU(1),s.TgZ(2,"app-icon",6),s._uU(3,"close"),s.qZA()()}if(2&lt){const et=Ye.$implicit;s.Q6J("selectable",!0)("removable",!0),s.xp6(1),s.hij(" ",et," ")}}class g{constructor(){this.separators=[r.K5,r.OC,r.L_],this.placeholder="",this.value=[],this.add=Ye=>function x(lt,Ye){if(!lt)return;const et=Ye.input,ot=Ye.value,ge=lt.value;(ot||"").trim()&&(ge.push(ot),lt.setValue(ge)),et&&(et.value="")}({value:this.value,setValue:et=>this.setValue(et)},Ye),this.remove=Ye=>function P(lt,Ye){if(!lt)return;const et=lt.value,ot=et.indexOf(Ye);ot>=0&&(et.splice(ot,1),lt.setValue(et))}({value:this.value,setValue:et=>this.setValue(et)},Ye)}setValue(Ye){this.value=Ye,this._onChange&&this._onChange(Ye)}writeValue(Ye){this.value=Ye}registerOnChange(Ye){this._onChange=Ye}registerOnTouched(Ye){this._onTouch=Ye}}g.\u0275fac=function(Ye){return new(Ye||g)},g.\u0275cmp=s.Xpm({type:g,selectors:[["item-list-field"]],inputs:{separators:"separators",placeholder:"placeholder"},features:[s._Bn([{provide:n.JU,useExisting:(0,s.Gpc)(()=>g),multi:!0}])],decls:5,vars:5,consts:[["appearance","outline",1,"w-full"],["aria-label","Zone Tags"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"selectable","removable","removed"],["matChipRemove",""]],template:function(Ye,et){if(1&Ye&&(s.TgZ(0,"mat-form-field",0)(1,"mat-chip-list",1,2),s.YNc(3,I,4,3,"mat-chip",3),s.TgZ(4,"input",4),s.NdJ("matChipInputTokenEnd",function(ge){return et.add(ge)}),s.qZA()()()),2&Ye){const ot=s.MAs(2);s.xp6(3),s.Q6J("ngForOf",et.value),s.xp6(1),s.Q6J("placeholder",et.placeholder||"User groups...")("matChipInputFor",ot)("matChipInputSeparatorKeyCodes",et.separators)("matChipInputAddOnBlur",!0)}},dependencies:[e.sg,y.v_,o.ir,o.lw,o.IP,o.Y6,S.o]});var u=t(8368),M=t(4290),R=t(3776),w=t(9149),F=t(9818),B=t(1343);function H(lt,Ye){if(1&lt&&(s.ynx(0),s.TgZ(1,"div",20),s._UZ(2,"mat-progress-spinner",21),s.TgZ(3,"div",22),s._uU(4),s.qZA()(),s.BQk()),2&lt){const et=s.oxw().$implicit;s.xp6(2),s.Q6J("diameter",32)("value",et.progress),s.xp6(2),s.hij(" ",et.progress," ")}}function $(lt,Ye){if(1&lt&&(s.TgZ(0,"a",23)(1,"app-icon"),s._uU(2,"link"),s.qZA()()),2&lt){const et=s.oxw().$implicit;s.Q6J("href",et.url,s.LSH)}}function j(lt,Ye){if(1&lt){const et=s.EpF();s.TgZ(0,"div",15)(1,"div",16),s._uU(2),s.qZA(),s.YNc(3,H,5,3,"ng-container",17),s.YNc(4,$,3,1,"a",18),s.TgZ(5,"button",19),s.NdJ("click",function(){const we=s.CHM(et).$implicit,me=s.oxw(2);return s.KtG(me.removeFile(we))}),s.TgZ(6,"app-icon"),s._uU(7,"close"),s.qZA()()()}if(2&lt){const et=Ye.$implicit;s.ekj("!bg-red-600",et.progress<1)("!bg-opacity-20",et.progress<1),s.xp6(2),s.hij(" ",et.name," "),s.xp6(1),s.Q6J("ngIf",et.progress>=0&&et.progress<100),s.xp6(1),s.Q6J("ngIf",et.progress>=100)}}function V(lt,Ye){if(1&lt&&(s.TgZ(0,"div",13),s.YNc(1,j,8,7,"div",14),s.qZA()),2&lt){const et=s.oxw();s.xp6(1),s.Q6J("ngForOf",et.list)}}function Q(lt,Ye){1&lt&&(s.TgZ(0,"div",24)(1,"p",25),s.SDv(2,26),s.qZA()())}class ie{constructor(){this.list=[],this.registerOnChange=Ye=>this._onChange=Ye,this.registerOnTouched=Ye=>this._onTouch=Ye}setValue(Ye){this.list=Ye.filter(et=>et.url&&et.progress>=100),this._onChange&&this._onChange(this.list)}writeValue(Ye){this.list=Ye.map(et=>({id:`file-${(0,u.Iy)(999999999)}`,...et}))}removeFile(Ye){this.list=this.list.filter(et=>et.id!==Ye.id)}onFileEvent(Ye){const et=Ye.target;if(!et?.files?.length)return;const ot=et.files,ge=we=>{this.list=[...(this.list||[]).filter(me=>me.id!==we.id)].sort((me,fe)=>me.created_at-fe.created_at),this.setValue(this.list)};for(let we=0;we<ot.length;we++)this._uploadFile(ot[we],ge)}_uploadFile(Ye,et){const ot=new FileReader;ot.addEventListener("loadend",ge=>{const me=R.PP(ge.target.result,Ye.type),Z=(0,w.IL)([me],{file_name:Ye.name})[0],ee={id:`${(0,u.Iy)(999999999999)}`,name:Ye.name,progress:0,size:Ye.size,created_at:Date.now(),url:""};Z.status.pipe((0,M.o)(ue=>"complete"!==ue.status,!0)).subscribe(ue=>{Z.access_url&&(ee.url=Z.access_url),ee.progress=ue.progress,"error"===ue.status&&(ee.progress=-1),et(ee)}),et(ee)}),ot.readAsArrayBuffer(Ye)}}function ye(lt,Ye){if(1&lt&&(s.ynx(0),s.TgZ(1,"div",9),s._UZ(2,"mat-progress-spinner",10),s.TgZ(3,"div",11),s._uU(4),s.qZA()(),s.BQk()),2&lt){const et=s.oxw(2);s.xp6(2),s.Q6J("diameter",32)("value",et.item.progress),s.xp6(2),s.hij(" ",et.item.progress," ")}}function G(lt,Ye){if(1&lt&&(s.TgZ(0,"a",12)(1,"app-icon"),s._uU(2,"link"),s.qZA()()),2&lt){const et=s.oxw(2);s.Q6J("href",et.item.url,s.LSH)}}function _e(lt,Ye){if(1&lt){const et=s.EpF();s.TgZ(0,"div",4)(1,"div",5),s._uU(2),s.qZA(),s.YNc(3,ye,5,3,"ng-container",6),s.YNc(4,G,3,1,"a",7),s.TgZ(5,"button",8),s.NdJ("click",function(){s.CHM(et);const ge=s.oxw();return s.KtG(ge.writeValue(null))}),s.TgZ(6,"app-icon"),s._uU(7,"close"),s.qZA()()()}if(2&lt){const et=s.oxw();s.ekj("!bg-red-600",et.item.progress<1)("!bg-opacity-20",et.item.progress<1),s.xp6(2),s.hij(" ",et.item.name," "),s.xp6(1),s.Q6J("ngIf",et.item.progress>=0&&et.item.progress<100),s.xp6(1),s.Q6J("ngIf",et.item.progress>=100)}}function Ie(lt,Ye){1&lt&&(s.TgZ(0,"div",13)(1,"p",14),s.SDv(2,15),s.qZA()())}ie.\u0275fac=function(Ye){return new(Ye||ie)},ie.\u0275cmp=s.Xpm({type:ie,selectors:[["upload-list"]],features:[s._Bn([{provide:n.JU,useExisting:(0,s.Gpc)(()=>ie),multi:!0}])],decls:15,vars:2,consts:function(){let lt,Ye,et,ot;return lt=$localize`:␟23f1ffc24dd64fff388b73d7a0fd774ccdcb016c␟8563959152643174307:Drop files`,Ye=$localize`:␟053e81597467a642e04109eebe934c84e6a1f467␟6627551976444260400:or`,et=$localize`:␟2c7dc726e93bcf3ca2f316bbebe96fa1e5288ba0␟787163983066183218:Browse`,ot=$localize`:␟5d00f53d21b24330adb70a4f0579ee811f589bd4␟7718554075744605971:No uploaded files`,[[1,"flex","items-center","space-x-2"],[1,"w-52","h-48","relative","border-2","border-dashed","border-gray-300","flex","flex-col","items-center","justify-center","rounded","hover:bg-black/5","cursor-pointer"],[1,"text-3xl","mb-2"],[1,"text-center"],lt,[1,"text-center","text-xs","my-1"],Ye,["mat-button","",1,"w-28"],et,["multiple","true","type","file",1,"absolute","inset-0","opacity-0","max-w-full",3,"change"],[1,"w-1/2","h-48","flex-1","flex","flex-col","items-center"],["list","","class","space-y-2 w-full h-full overflow-auto",4,"ngIf","ngIfElse"],["empty_state",""],["list","",1,"space-y-2","w-full","h-full","overflow-auto"],["item","","class","w-full flex items-center border border-gray-200 rounded bg-white hover:bg-gray-100",3,"!bg-red-600","!bg-opacity-20",4,"ngFor","ngForOf"],["item","",1,"w-full","flex","items-center","border","border-gray-200","rounded","bg-white","hover:bg-gray-100"],[1,"flex-1","w-px","font-mono","truncate","px-2","text-sm"],[4,"ngIf"],["mat-icon-button","","target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"relative","mx-1"],["mode","determinate",3,"diameter","value"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-sm","font-bold"],["mat-icon-button","","target","_blank","rel","noopener noreferrer",3,"href"],[1,"h-full","w-full","flex","flex-col","justify-center","items-center"],[1,"opacity-30"],ot]},template:function(Ye,et){if(1&Ye&&(s.TgZ(0,"div",0)(1,"div",1)(2,"app-icon",2),s._uU(3,"upload_file"),s.qZA(),s.TgZ(4,"p",3),s.SDv(5,4),s.qZA(),s.TgZ(6,"p",5),s.SDv(7,6),s.qZA(),s.TgZ(8,"button",7),s.SDv(9,8),s.qZA(),s.TgZ(10,"input",9),s.NdJ("change",function(ge){return et.onFileEvent(ge)}),s.qZA()(),s.TgZ(11,"div",10),s.YNc(12,V,2,1,"div",11),s.qZA()(),s.YNc(13,Q,3,0,"ng-template",null,12,s.W1O)),2&Ye){const ot=s.MAs(14);s.xp6(12),s.Q6J("ngIf",null==et.list?null:et.list.length)("ngIfElse",ot)}},dependencies:[e.sg,e.O5,S.o,F.eB,F.Nr,B.sN]});class Me{constructor(){this.registerOnChange=Ye=>this._onChange=Ye,this.registerOnTouched=Ye=>this._onTouch=Ye}setValue(Ye){this.item=Ye,this._onChange&&this._onChange(this.item)}writeValue(Ye){this.item=Ye}onFileEvent(Ye){const et=Ye.target;et?.files?.length&&this._uploadFile(et.files[0],we=>{this.item=we,this.setValue(this.item)})}_uploadFile(Ye,et){const ot=new FileReader;ot.addEventListener("loadend",ge=>{const me=R.PP(ge.target.result,Ye.type),Z=(0,w.IL)([me],{file_name:Ye.name})[0],ee={id:`${(0,u.Iy)(999999999999)}`,name:Ye.name,progress:0,size:Ye.size,created_at:Date.now(),url:""};Z.status.pipe((0,M.o)(ue=>"complete"!==ue.status,!0)).subscribe(ue=>{Z.access_url&&(ee.url=Z.access_url),ee.progress=ue.progress,"error"===ue.status&&(ee.progress=-1),et(ee)}),et(ee)}),ot.readAsArrayBuffer(Ye)}}Me.\u0275fac=function(Ye){return new(Ye||Me)},Me.\u0275cmp=s.Xpm({type:Me,selectors:[["upload-file"]],features:[s._Bn([{provide:n.JU,useExisting:(0,s.Gpc)(()=>Me),multi:!0}])],decls:5,vars:2,consts:function(){let lt;return lt=$localize`:␟1004d86509270a6dd320fdb33686c5c48dcb5208␟7812370821534854890:Drop file or click to upload file`,[[1,"bg-gray-50","hover:bg-gray-100","cursor-pointer","p-2","rounded","border","border-gray-200","w-full","relative"],["type","file",1,"absolute","inset-0","opacity-0","max-w-full","z-10",3,"change"],["item","","class","w-full flex items-center border border-gray-200 rounded bg-white hover:bg-gray-100 relative z-50",3,"!bg-red-600","!bg-opacity-20",4,"ngIf","ngIfElse"],["empty_state",""],["item","",1,"w-full","flex","items-center","border","border-gray-200","rounded","bg-white","hover:bg-gray-100","relative","z-50"],[1,"flex-1","w-px","font-mono","truncate","px-2","text-sm"],[4,"ngIf"],["mat-icon-button","","target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"relative","mx-1"],["mode","determinate",3,"diameter","value"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-sm","font-bold"],["mat-icon-button","","target","_blank","rel","noopener noreferrer",3,"href"],[1,"h-full","w-full","flex","flex-col","justify-center","items-center","z-0"],[1,"opacity-30"],lt]},template:function(Ye,et){if(1&Ye&&(s.TgZ(0,"div",0)(1,"input",1),s.NdJ("change",function(ge){return et.onFileEvent(ge)}),s.qZA(),s.YNc(2,_e,8,7,"div",2),s.qZA(),s.YNc(3,Ie,3,0,"ng-template",null,3,s.W1O)),2&Ye){const ot=s.MAs(4);s.xp6(2),s.Q6J("ngIf",et.item)("ngIfElse",ot)}},dependencies:[e.O5,S.o,F.eB,F.Nr,B.sN]}),t(1360),t(6813),t(3780),t(1789),t(3670);var Ue=t(4025),He=t(4363),it=t(4618);class Be{}Be.\u0275fac=function(Ye){return new(Ye||Be)},Be.\u0275mod=s.oAB({type:Be}),Be.\u0275inj=s.cJS({imports:[e.ez,n.u5,n.UX,y.wp,T.x4,v.uw,O.D8,C.AA,E.Zh,i.Xo,o.yD,Ue.Iq,f.K]}),s.B6R(a.d,[e.sg,e.O5,n.Fj,n.JJ,n.On,y.v_,y.g4,y.nX,T.k0,He.CK,O.VN,O.QJ,S.o,it.U,B.sN],[])},1789:(Je,K,t)=>{"use strict";t.d(K,{d:()=>R});var e=t(6353),n=t(4006),y=t(8368),T=t(9012),v=t(6217),O=t(1086),C=t(3009),E=t(6688),i=t(3489),f=t(5430),_=t(1177);class m{constructor(F){this.resultSelector=F}call(F,B){return B.subscribe(new h(F,this.resultSelector))}}class h extends i.L{constructor(F,B,H=Object.create(null)){super(F),this.resultSelector=B,this.iterators=[],this.active=0,this.resultSelector="function"==typeof B?B:void 0}_next(F){const B=this.iterators;(0,E.k)(F)?B.push(new c(F)):B.push("function"==typeof F[f.hZ]?new d(F[f.hZ]()):new a(this.destination,this,F))}_complete(){const F=this.iterators,B=F.length;if(this.unsubscribe(),0!==B){this.active=B;for(let H=0;H<B;H++){let $=F[H];$.stillUnsubscribed?this.destination.add($.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const F=this.iterators,B=F.length,H=this.destination;for(let V=0;V<B;V++){let Q=F[V];if("function"==typeof Q.hasValue&&!Q.hasValue())return}let $=!1;const j=[];for(let V=0;V<B;V++){let Q=F[V],ie=Q.next();if(Q.hasCompleted()&&($=!0),ie.done)return void H.complete();j.push(ie.value)}this.resultSelector?this._tryresultSelector(j):H.next(j),$&&H.complete()}_tryresultSelector(F){let B;try{B=this.resultSelector.apply(this,F)}catch(H){return void this.destination.error(H)}this.destination.next(B)}}class d{constructor(F){this.iterator=F,this.nextResult=F.next()}hasValue(){return!0}next(){const F=this.nextResult;return this.nextResult=this.iterator.next(),F}hasCompleted(){const F=this.nextResult;return Boolean(F&&F.done)}}class c{constructor(F){this.array=F,this.index=0,this.length=0,this.length=F.length}[f.hZ](){return this}next(F){const B=this.index++;return B<this.length?{value:this.array[B],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class a extends _.Ds{constructor(F,B,H){super(F),this.parent=B,this.observable=H,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[f.hZ](){return this}next(){const F=this.buffer;return 0===F.length&&this.isComplete?{value:null,done:!0}:{value:F.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(F){this.buffer.push(F),this.parent.checkIterators()}subscribe(){return(0,_.ft)(this.observable,new _.IY(this))}}var s=t(7545),r=t(7221),o=t(4850),S=t(5154),I=t(6895),x=t(8455),P=t(6289),g=t(4363);function u(w,F){if(1&w&&(e.TgZ(0,"mat-option",5)(1,"div",6)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"span",7),e._uU(5,"\xa0|\xa0"),e.qZA(),e.TgZ(6,"div",8),e._uU(7),e.qZA()()()),2&w){const B=F.$implicit;e.Q6J("value",B),e.xp6(3),e.Oqu(B.name),e.xp6(4),e.Oqu(B.email)}}function M(w,F){1&w&&e.GkF(0)}class R{constructor(){this.users=(0,O.of)(1).pipe((0,s.w)(()=>(0,v.yJ)().pipe((0,r.K)(F=>(0,O.of)([])))),(0,s.w)(F=>function l(...w){const F=w[w.length-1];return"function"==typeof F&&w.pop(),(0,C.n)(w,void 0).lift(new m(F))}(...F.map(B=>(0,T.w0)(B.id).pipe((0,r.K)(H=>(0,O.of)(null)))))),(0,o.U)(F=>(0,y.Tw)([(0,y.ar)(),...F],"email")),(0,S.d)(1)),this.disabled=!1,this.registerOnChange=F=>this._onChange=F,this.registerOnTouched=F=>this._onTouch=F,this.setDisabledState=F=>this.disabled=F}setValue(F){this.item=F,this._onChange&&this._onChange(this.item)}writeValue(F){this.item=F,F?.email||(this.item=(0,y.ar)())}}R.\u0275fac=function(F){return new(F||R)},R.\u0275cmp=e.Xpm({type:R,selectors:[["host-select-field"]],features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>R),multi:!0}])],decls:8,vars:8,consts:function(){let w,F;return w=$localize`:␟a615549343394de250a778d2849dac7fc25191f0␟6512577477761923709:Select host`,F=$localize`:␟1cdb1c4c30b26c94c19e88ecdbde0e55665504d4␟5838187330179805553:Host is required`,[["appearance","outline",1,"w-full"],["placeholder",w,3,"ngModel","disabled","ngModelChange"],["class","leading-tight",3,"value",4,"ngFor","ngForOf"],F,[4,"ngIf"],[1,"leading-tight",3,"value"],[1,"flex","flex-col"],[1,"hidden"],[1,"text-xs","opacity-60"]]},template:function(F,B){1&F&&(e.TgZ(0,"mat-form-field",0)(1,"mat-select",1),e.NdJ("ngModelChange",function($){return B.setValue($)}),e.YNc(2,u,8,3,"mat-option",2),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"mat-error"),e.SDv(5,3),e.qZA()(),e.YNc(6,M,1,0,"ng-container",4),e.ALo(7,"async")),2&F&&(e.xp6(1),e.Q6J("ngModel",B.item)("disabled",B.disabled),e.xp6(1),e.Q6J("ngForOf",e.lcZ(3,4,B.users)),e.xp6(4),e.Q6J("ngIf",e.lcZ(7,6,B.users)))},dependencies:[I.sg,I.O5,n.JJ,n.On,x.nI,x.v_,P.x8,g.CK,I.Ov]})},3670:(Je,K,t)=>{"use strict";t.d(K,{h:()=>F});var e=t(9671),n=t(9521),y=t(6353),T=t(4006),v=t(9149),O=t(8368),C=t(6498),E=t(591),i=t(3426),f=t(4290),_=t(4850),l=t(3776),m=t(4025),h=t(6895),d=t(8455),c=t(2542),a=t(9923),s=t(5306),r=t(9818),o=t(1343);const S=["image_list"];function I(B,H){if(1&B){const $=y.EpF();y.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"button",18),y.NdJ("click",function(){const Q=y.CHM($).$implicit,ie=y.oxw();return y.KtG(ie.copyLink(Q))}),y.TgZ(4,"app-icon"),y._uU(5,"link"),y.qZA()(),y.TgZ(6,"button",18),y.NdJ("click",function(){const Q=y.CHM($).$implicit,ie=y.oxw();return y.KtG(ie.viewImage(Q))}),y.TgZ(7,"app-icon"),y._uU(8,"visibility"),y.qZA()(),y.TgZ(9,"button",18),y.NdJ("click",function(){const Q=y.CHM($).$implicit,ie=y.oxw();return y.KtG(ie.removeImage(Q))}),y.TgZ(10,"app-icon"),y._uU(11,"close"),y.qZA()()()()()}if(2&B){const $=H.$implicit,j=y.oxw();y.Udp("transform","translate(-"+j.offset+"00%)")("background-image","url("+$+")")}}function x(B,H){if(1&B&&y._UZ(0,"mat-progress-spinner",23),2&B){const $=y.oxw().$implicit;y.Q6J("value",$.progress)("diameter",64)}}function P(B,H){1&B&&(y.TgZ(0,"app-icon",24),y._uU(1,"warning"),y.qZA())}function g(B,H){1&B&&(y.TgZ(0,"div",25)(1,"app-icon",26),y._uU(2,"retry"),y.qZA()())}function u(B,H){if(1&B){const $=y.EpF();y.TgZ(0,"div",19),y.NdJ("click",function(){const Q=y.CHM($).$implicit,ie=y.oxw();return y.KtG(ie.retryUpload(Q))}),y.YNc(1,x,1,2,"mat-progress-spinner",20),y.YNc(2,P,2,0,"app-icon",21),y.YNc(3,g,3,0,"div",22),y.qZA()}if(2&B){const $=H.$implicit,j=y.oxw();y.Udp("transform","translate(-"+j.offset+"00%)"),y.Q6J("matTooltip",$.error),y.xp6(1),y.Q6J("ngIf",!$.error),y.xp6(1),y.Q6J("ngIf",$.error),y.xp6(1),y.Q6J("ngIf",$.error)}}function M(B,H){if(1&B){const $=y.EpF();y.TgZ(0,"button",27),y.NdJ("click",function(){y.CHM($);const V=y.oxw();return y.KtG(V.offset=V.offset-1)}),y.TgZ(1,"app-icon"),y._uU(2,"chevron_left"),y.qZA()()}if(2&B){const $=y.oxw();y.Q6J("disabled",0===$.offset)}}function R(B,H){if(1&B){const $=y.EpF();y.TgZ(0,"button",28),y.NdJ("click",function(){y.CHM($);const V=y.oxw();return y.KtG(V.offset=V.offset+1)}),y.TgZ(1,"app-icon"),y._uU(2,"chevron_right"),y.qZA()()}if(2&B){const $=y.oxw();y.Q6J("disabled",$.offset>=$.length-$.view_space)}}class F extends O.KG{constructor(H){super(),this._clipboard=H,this.list=[],this.upload_ids=new E.X([]),this._upload_list=new E.X([]),this.upload_list=this._upload_list.asObservable(),this.offset=0,this.view_space=0,this.separators=[n.OC,n.K5],this.uploads=(0,i.aj)([this.upload_list,this.upload_ids]).pipe((0,_.U)(([$,j])=>$.filter(V=>j.includes(V.id)))),this.registerOnChange=$=>this._onChange=$,this.registerOnTouched=$=>this._onTouch=$}get length(){return this.list.length+this._upload_list.getValue().length+1}ngAfterViewInit(){const H=this._list_el.nativeElement.getBoundingClientRect();this.view_space=Math.floor(H.width/152),this.subscription("upload_changes",this.upload_list.subscribe($=>{const j=this.upload_ids.getValue();for(const V of j){const Q=$.find(ie=>ie.id===V);Q&&Q.progress>=100&&(this.addImageUrl(Q.link),this.upload_ids.next(this.upload_ids.getValue().filter(ie=>ie!==V)))}}))}copyLink(H){this._clipboard.copy(H),(0,O.QD)("Copied image URL to clipboard")}viewImage(H){}removeImage(H){this.setValue(this.list.filter($=>$!==H))}addImage(H){!H.value||(this.setValue((0,O.Tw)([...this.list,H.value])),H.chipInput.inputElement.value="")}addImageUrl(H){this.setValue((0,O.Tw)([...this.list,H]))}uploadImages(H){var $=this;return(0,e.Z)(function*(){const j=H.target;if(j?.files){const V=j.files;if(V.length)for(let Q=0;Q<V.length;Q++){const ie=yield $.uploadFile(V[Q]);$.upload_ids.next([...$.upload_ids.getValue(),ie])}}})()}setValue(H){this.list=H,this._onChange&&this._onChange(H)}writeValue(H){this.list=H}uploadFile(H){return new Promise($=>{let j=!1;const V=Q=>{j||($(Q.id),j=!0),this._upload_list.next([...this._upload_list.getValue().filter(ie=>ie.id!==Q.id),Q])};(function w(B){return new C.y(H=>{const $=new FileReader;$.addEventListener("loadend",j=>{const V=j.target.result,Q={id:(0,O.Iy)(999999999999),name:B.name,progress:0,link:"",formatted_size:(0,v.VD)(B.size),size:B.size,upload:null},ie=l.PP(V,B.type),G=(0,v.IL)([ie],{file_name:B.name})[0];Q.upload=G,G.status.pipe((0,f.o)(_e=>"complete"!==_e.status,!0)).subscribe(_e=>{G.access_url&&(Q.link=G.access_url),Q.progress=_e.progress,H.next(Q),"error"===_e.status&&H.error({...Q,error:_e.error}),"complete"===_e.status&&H.complete()},_e=>Q.error=_e),H.next(Q)}),$.readAsArrayBuffer(B)})})(H).subscribe(V,V,()=>{this._updateUploadHistory()})})}_updateUploadHistory(){const H=this._upload_list.getValue().filter($=>$.progress>=100);H.forEach($=>delete $.upload),localStorage&&localStorage.setItem("CONCIERGE.uploads",JSON.stringify(H))}}F.\u0275fac=function(H){return new(H||F)(y.Y36(m.TU))},F.\u0275cmp=y.Xpm({type:F,selectors:[["image-list-field"]],viewQuery:function(H,$){if(1&H&&y.Gf(S,5),2&H){let j;y.iGM(j=y.CRH())&&($._list_el=j.first)}},features:[y._Bn([{provide:T.JU,useExisting:(0,y.Gpc)(()=>F),multi:!0}]),y.qOj],decls:17,vars:11,consts:function(){let B,H;return B=$localize`:␟3f0243e1118dafecaa05696a3dffcbfb83295f9b␟889671581456916004:Upload Image(s)`,H=$localize`:␟dc952a36d53a7092578b8706e3c6e28fd59866bf␟7586116958417863153:Add image via URL`,[["images","",1,"space-x-2","py-2","overflow-hidden","mb-2","w-full","flex","items-center","relative",3,"resize"],["image_list",""],["image","",1,"relative","rounded","border-2","border-gray-200","dark:border-neutral-500","border-dashed","flex-shrink-0","flex","flex-col","items-center","justify-center","h-32","w-36","hover:bg-black/10","dark:hover:bg-white/10","cursor-pointer"],[1,"text-4xl","opacity-60"],[1,"opacity-60"],B,["type","file",1,"absolute","inset-0","opacity-0","h-32","w-32","cursor-pointer",3,"change"],["image","","class","bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0",3,"transform","background-image",4,"ngFor","ngForOf"],["image","","class","bg-center bg-cover h-32 w-36 rounded border bg-black/10 dark:bg-white/5 border-gray-200 dark:border-neutral-500 flex items-center justify-center flex-shrink-0",3,"transform","matTooltip","click",4,"ngFor","ngForOf"],["mat-icon-button","","class","absolute top-1/2 left-0 transform -translate-y-1/2 bg-white",3,"disabled","click",4,"ngIf"],["mat-icon-button","","class","absolute top-1/2 right-0 transform -translate-y-1/2 bg-white",3,"disabled","click",4,"ngIf"],["appearance","outline",1,"w-full"],["aria-label","Editor Groups"],["chipList",""],["placeholder",H,3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["image","",1,"bg-center","bg-cover","h-32","w-36","relative","rounded","overflow-hidden","flex-shrink-0"],["overlay","",1,"absolute","inset-0","hover:bg-black/50","text-white"],["actions","",1,"absolute","top-0","left-0","right-0","flex","items-center","justify-center","space-x-2","opacity-0"],["mat-icon-button","",3,"click"],["image","",1,"bg-center","bg-cover","h-32","w-36","rounded","border","bg-black/10","dark:bg-white/5","border-gray-200","dark:border-neutral-500","flex","items-center","justify-center","flex-shrink-0",3,"matTooltip","click"],["mode","determinate",3,"value","diameter",4,"ngIf"],["class","text-error text-6xl",4,"ngIf"],["overlay","","class","absolute inset-0 hover:bg-black hover:bg-opacity-50 text-white flex items-center justify-center",4,"ngIf"],["mode","determinate",3,"value","diameter"],[1,"text-error","text-6xl"],["overlay","",1,"absolute","inset-0","hover:bg-black","hover:bg-opacity-50","text-white","flex","items-center","justify-center"],[1,"text-3xl","opacity-0"],["mat-icon-button","",1,"absolute","top-1/2","left-0","transform","-translate-y-1/2","bg-white",3,"disabled","click"],["mat-icon-button","",1,"absolute","top-1/2","right-0","transform","-translate-y-1/2","bg-white",3,"disabled","click"]]},template:function(H,$){if(1&H&&(y.TgZ(0,"div",0,1),y.NdJ("resize",function(){return $.ngAfterViewInit()},!1,y.Jf7),y.TgZ(2,"div",2)(3,"app-icon",3),y._uU(4,"add"),y.qZA(),y.TgZ(5,"p",4),y.SDv(6,5),y.qZA(),y.TgZ(7,"input",6),y.NdJ("change",function(V){return $.uploadImages(V)}),y.qZA()(),y.YNc(8,I,12,4,"div",7),y.YNc(9,u,4,6,"div",8),y.ALo(10,"async"),y.YNc(11,M,3,1,"button",9),y.YNc(12,R,3,1,"button",10),y.qZA(),y.TgZ(13,"mat-form-field",11)(14,"mat-chip-list",12,13)(16,"input",14),y.NdJ("matChipInputTokenEnd",function(V){return $.addImage(V)}),y.qZA()()()),2&H){const j=y.MAs(15);y.xp6(2),y.Udp("transform","translate(-"+$.offset+"00%)"),y.xp6(6),y.Q6J("ngForOf",$.list),y.xp6(1),y.Q6J("ngForOf",y.lcZ(10,9,$.uploads)),y.xp6(2),y.Q6J("ngIf",$.length>$.view_space),y.xp6(1),y.Q6J("ngIf",$.length>$.view_space),y.xp6(4),y.Q6J("matChipInputFor",j)("matChipInputSeparatorKeyCodes",$.separators)("matChipInputAddOnBlur",!0)}},dependencies:[h.sg,h.O5,d.v_,c.Kd,a.ir,a.IP,s.o,r.eB,o.sN,h.Ov],styles:["[_nghost-%COMP%]{width:100%}[overlay][_ngcontent-%COMP%]{transition:background .2s}[overlay][_ngcontent-%COMP%]:hover   [actions][_ngcontent-%COMP%], [overlay][_ngcontent-%COMP%]:hover > app-icon[_ngcontent-%COMP%]{opacity:1!important}[actions][_ngcontent-%COMP%], [overlay][_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{transition:opacity .2s}[image][_ngcontent-%COMP%]{transition:transform .2s}"]})},3780:(Je,K,t)=>{"use strict";t.d(K,{n:()=>E});var e=t(6353),n=t(4006),y=t(8368),T=t(9971);const O=["container"],C=["editor"];class E extends y.KG{constructor(){super(...arguments),this.placeholder="",this.readonly=!1,this._updateFn=()=>this.setValue(this._editor.root.innerHTML),this.registerOnChange=f=>this._onChange=f,this.registerOnTouched=f=>this._onTouch=f}ngOnChanges(f){}ngAfterViewInit(){this._initialiseEditor()}setValue(f){this._onChange&&this._onChange(f)}writeValue(f){if(this._editor){const _=this._editor.clipboard.convert(f);this._editor.setContents(_,"silent")}else this.timeout("write",()=>this.writeValue(f))}_initialiseEditor(){this._editor=new T(this._editor_el.nativeElement,{bounds:this._container_el.nativeElement,placeholder:this.placeholder,readOnly:this.readonly,theme:"snow"}),this._editor.on("text-change",this._updateFn),this.subscription("changes",()=>this._editor.off("text-change",this._updateFn))}}E.\u0275fac=function(){let i;return function(_){return(i||(i=e.n5z(E)))(_||E)}}(),E.\u0275cmp=e.Xpm({type:E,selectors:[["rich-text-input"]],viewQuery:function(f,_){if(1&f&&(e.Gf(O,5),e.Gf(C,5)),2&f){let l;e.iGM(l=e.CRH())&&(_._container_el=l.first),e.iGM(l=e.CRH())&&(_._editor_el=l.first)}},inputs:{placeholder:"placeholder",readonly:"readonly"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>E),multi:!0}]),e.qOj,e.TTD],decls:4,vars:0,consts:[["container",""],["editor",""]],template:function(f,_){1&f&&(e.TgZ(0,"div",null,0),e._UZ(2,"div",null,1),e.qZA())}})},6813:(Je,K,t)=>{"use strict";t.d(K,{M:()=>c});var e=t(6353),n=t(4006),y=t(719),T=t(9164),v=t(6221),O=t(5559),C=t(6895),E=t(4454),i=t(5306),f=t(9818);function _(a,s){if(1&a&&e._UZ(0,"img",30),2&a){const r=e.oxw().$implicit;e.Q6J("src",r.images[0],e.LSH)}}function l(a,s){1&a&&e._UZ(0,"img",31)}function m(a,s){if(1&a){const r=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e.YNc(2,_,1,1,"img",16),e.YNc(3,l,1,0,"ng-template",null,17,e.W1O),e.qZA(),e.TgZ(5,"div",18)(6,"div",19),e._uU(7),e.qZA(),e.TgZ(8,"div",20)(9,"app-icon",21),e._uU(10,"place"),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"div",20)(14,"app-icon",21),e._uU(15,"people"),e.qZA(),e.TgZ(16,"p"),e.SDv(17,22),e.qZA()(),e.TgZ(18,"div",23)(19,"button",24),e.NdJ("click",function(){const I=e.CHM(r).$implicit,x=e.oxw();return e.KtG(x.changeSpaces(I))}),e.TgZ(20,"div",25),e.tHW(21,26),e._UZ(22,"app-icon"),e.N_p(),e.qZA()(),e.TgZ(23,"button",27),e.NdJ("click",function(){const I=e.CHM(r).$implicit,x=e.oxw();return e.KtG(x.removeSpace(I))}),e.TgZ(24,"div",25),e.tHW(25,28),e._UZ(26,"app-icon"),e.N_p(),e.qZA()()()(),e.TgZ(27,"button",29),e.NdJ("click",function(){e.CHM(r);const S=e.oxw();return e.KtG(S.toggleFavourite(S.asset))}),e.TgZ(28,"app-icon"),e._uU(29),e.qZA()()()}if(2&a){const r=s.$implicit,o=e.MAs(4),S=e.oxw();let I;e.xp6(2),e.Q6J("ngIf",null==r.images?null:r.images.length)("ngIfElse",o),e.xp6(5),e.hij(" ",r.display_name||r.name||"Meeting Space"," "),e.xp6(5),e.Oqu(r.location||(null==(I=S.level(r.zones))?null:I.display_name)||(null==(I=S.level(r.zones))?null:I.name)),e.xp6(5),e.pQV(r.capacity<1?2:r.capacity)(r.capacity),e.QtT(17),e.xp6(10),e.ekj("text-blue-400",S.favorites.includes(null==S.asset?null:S.asset.id)),e.xp6(2),e.Oqu(S.favorites.includes(null==S.asset?null:S.asset.id)?"favorite":"favorite_border")}}const h=function(){return{standalone:!0}},d=[];class c{constructor(s,r,o){this._settings=s,this._org=r,this._dialog=o,this.room_size=4,this.spaces=[],this.disabled=!1,this.registerOnChange=S=>this._onChange=S,this.registerOnTouched=S=>this._onTouch=S,this.setDisabledState=S=>this.disabled=S}get favorites(){return this._settings.get("favourite_spaces")||d}level(s){return this._org.levelWithID(s)}changeSpaces(){const s=this._dialog.open(T.$,{data:{spaces:this.spaces,options:{capacity:this.room_size}}});s.afterClosed().subscribe(r=>{r||(r=s.componentInstance.selected),this.setValue(r)})}removeSpace(s){this.setValue(this.spaces.filter(r=>r.id!==s.id))}setValue(s){this.spaces=s,this._onChange&&this._onChange(this.spaces)}writeValue(s){this.spaces=s||[]}toggleFavourite(s){const r=this.favorites;r.includes(s.id)?this._settings.saveUserSetting("favourite_spaces",r.filter(S=>S!==s.id)):this._settings.saveUserSetting("favourite_spaces",[...r,s.id])}}c.\u0275fac=function(s){return new(s||c)(e.Y36(y.g),e.Y36(v.w7),e.Y36(O.on))},c.\u0275cmp=e.Xpm({type:c,selectors:[["space-list-field"]],features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>c),multi:!0}])],decls:22,vars:7,consts:function(){let a,s,r,o,S,I,x,P,g;return a=$localize`:␟1b75f93ee5764eaf4e3e5b35f9142aa730286aba␟2378084019110582405:Select Room Size${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,s=$localize`:␟9a4b4695fcd5f591ff27d32d69654210c1edbce8␟5941148565596549711: Min. 2 People `,r=$localize`:␟c08792b3fa94dc973ac18033a872580a83beded9␟5844713600133557099: Min. 4 People `,o=$localize`:␟94d037a05d336158339e193309f967a769878040␟694015482067564775: Min. 10 People `,S=$localize`:␟2a4f48e169dc20ba9ed88d3bfe38f47ecc9204e6␟4961016996305563664:Add Space`,I=$localize`:␟6cbafde89d13f6008a07c9f57f0574ade94fed3d␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,I=e.Zx4(I,{VAR_PLURAL:"\ufffd1\ufffd"}),x=$localize`:␟e1e4c2a0dba5f709fdad678e044a52d78609e215␟3638941587687955611: ${"\ufffd0\ufffd"}:INTERPOLATION: ${I}:ICU: `,P=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,g=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],a,[1,"flex","items-center"],["aria-label","Select Room Size",1,"space-x-4",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"],s,r,o,["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200",4,"ngFor","ngForOf"],["mat-button","","add-space","",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],S,["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-gray-200"],[1,"w-24","h-24","rounded-xl","bg-black/20","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","min-h-full object-cover",3,"src",4,"ngIf","ngIfElse"],["placeholder",""],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],x,[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["mat-button","","edit-space","",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],P,["mat-button","","remove-space","",1,"clear",3,"click"],g,["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"min-h-full","object-cover",3,"src"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]]},template:function(s,r){1&s&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"label"),e.tHW(4,2),e._UZ(5,"span"),e.N_p(),e.qZA(),e.TgZ(6,"div",3)(7,"mat-radio-group",4),e.NdJ("ngModelChange",function(S){return r.room_size=S}),e.TgZ(8,"mat-radio-button",5),e.SDv(9,6),e.qZA(),e.TgZ(10,"mat-radio-button",5),e.SDv(11,7),e.qZA(),e.TgZ(12,"mat-radio-button",5),e.SDv(13,8),e.qZA()()()()()(),e.TgZ(14,"div",9),e.YNc(15,m,30,9,"div",10),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){return r.changeSpaces()}),e.TgZ(17,"div",12)(18,"app-icon"),e._uU(19,"search"),e.qZA(),e.TgZ(20,"span"),e.SDv(21,13),e.qZA()()()),2&s&&(e.xp6(7),e.Q6J("ngModel",r.room_size)("ngModelOptions",e.DdM(6,h)),e.xp6(1),e.Q6J("value",1),e.xp6(2),e.Q6J("value",4),e.xp6(2),e.Q6J("value",10),e.xp6(3),e.Q6J("ngForOf",r.spaces))},dependencies:[C.sg,C.O5,n.JJ,n.On,E.OY,E.vy,i.o,f.eB]})},7303:(Je,K,t)=>{"use strict";t.d(K,{N:()=>P});var e=t(6353),n=t(4006),y=t(8368),T=t(6308),v=t(3337),O=t(7552),C=t(8749),E=t(2641),i=t(1390),f=t(8115),_=t(2722),l=t(9756),m=t(6895),h=t(8455),d=t(9203),c=t(6289),a=t(4363),s=t(5306),r=t(9818);const o=["select"];function S(g,u){if(1&g&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&g){const M=u.$implicit;e.Q6J("value",M.id),e.xp6(1),e.hij(" ",M.name," ")}}function I(g,u){if(1&g){const M=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-select",6,7),e.NdJ("valueChange",function(w){e.CHM(M);const F=e.oxw();return e.KtG(F.setValue(w))}),e.YNc(3,S,2,2,"mat-option",8),e.qZA()()}if(2&g){const M=e.oxw();e.xp6(1),e.Q6J("value",M.time)("disabled",M.disabled),e.xp6(2),e.Q6J("ngForOf",M.time_options)}}class P extends y.KG{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.date=(new Date).valueOf(),this.time=(0,T.Z)(new Date,"HH:mm")}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1)}ngOnChanges(u){(u.no_past_times||u.step)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const u=(this.time||"00:00").split(":"),M=(0,v.Z)(this.date,{hours:+u[0],minutes:+u[1]});return M.getMinutes()%15!=0&&!this._time_options.find(R=>R.id===(0,T.Z)(M,"HH:mm"))&&(this._time_options.push({name:`${(0,T.Z)(M,(0,y.hI)())}`,id:(0,T.Z)(M,"HH:mm")}),this._time_options.sort((R,w)=>`${R.id}`.localeCompare(`${w.id}`))),this._time_options}setValue(u){if(this.time=u,this._onChange){const M=(this.time||"00:00").split(":"),R=(0,O.Z)((0,v.Z)(this.date,{hours:+M[0],minutes:+M[1]}));this._onChange(R.valueOf())}}writeValue(u){this.date=u||this.date;let M=(0,O.Z)(this.date);M=(0,C.Z)(M,{nearestTo:5}),this.time=(0,T.Z)(M,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step)}setDisabledState(u){this.disabled=u}registerOnChange(u){this._onChange=u}registerOnTouched(u){this._onTouch=u}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(u=>{u||(this.show_select=!1)})))})}generateAvailableTimes(u,M,R=15){const w=new Date;let F=new Date(u);const B=[];M||!(0,E.Z)(F,w)&&(0,i.Z)(F,w)?F=(0,f.Z)(F):(0,i.Z)(F,w)&&(F=w),F=(0,C.Z)(F,{nearestTo:R});const H=(0,_.Z)(F);for(;(0,i.Z)(H,F);)B.push({name:`${(0,T.Z)(F,(0,y.hI)())}`,id:(0,T.Z)(F,"HH:mm")}),F=(0,l.Z)(F,R);return B}}P.\u0275fac=function(){let g;return function(M){return(g||(g=e.n5z(P)))(M||P)}}(),P.\u0275cmp=e.Xpm({type:P,selectors:[["a-time-field"]],viewQuery:function(u,M){if(1&u&&e.Gf(o,5),2&u){let R;e.iGM(R=e.CRH())&&(M.select_field=R.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>P),multi:!0}]),e.qOj,e.TTD],ngContentSelectors:["*"],decls:8,vars:5,consts:[["appearance","outline",3,"keydown.enter"],["matInput","","type","time",3,"disabled","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",1,"relative","top-1","-right-1",3,"click"],[1,"text-2xl","text-opacity-50"],["appearance","outline",4,"ngIf"],["appearance","outline"],[3,"value","disabled","valueChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(u,M){1&u&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e.NdJ("keydown.enter",function(){return M.showSelect()}),e.TgZ(1,"input",1),e.NdJ("ngModelChange",function(w){return M.setValue(w)}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return M.showSelect()}),e.TgZ(3,"app-icon",3),e._uU(4," arrow_drop_down "),e.qZA()(),e.TgZ(5,"mat-error"),e.Hsn(6),e.qZA()(),e.YNc(7,I,4,3,"mat-form-field",4)),2&u&&(e.Udp("display",M.show_select?"none":""),e.xp6(1),e.Q6J("disabled",M.disabled)("ngModel",M.time),e.xp6(6),e.Q6J("ngIf",M.show_select))},dependencies:[m.sg,m.O5,n.Fj,n.JJ,n.On,h.nI,h.v_,h.nX,d.k0,c.x8,a.CK,s.o,r.eB],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})},6471:(Je,K,t)=>{"use strict";t.d(K,{E:()=>V});var e=t(6353),n=t(4006),y=t(8368),T=t(13),v=t(7545),O=t(4850),C=t(7221),E=t(2994),i=t(7224),f=t(9521),_=t(591),l=t(3426),m=t(1086),h=t(9645),d=t(4283),c=t(9012),a=t(5197),s=t(9375),r=t(5559),o=t(6895),S=t(8455),I=t(4363),x=t(4226),P=t(9923),g=t(5306),u=t(9818),M=t(1343);const R=["search_field"];function w(Q,ie){if(1&Q){const ye=e.EpF();e.TgZ(0,"mat-chip",14),e.NdJ("removed",function(){const Ie=e.CHM(ye).$implicit,Me=e.oxw();return e.KtG(Me.removeUser(Ie))}),e.TgZ(1,"app-icon",15),e._uU(2,"business"),e.qZA(),e._uU(3),e.TgZ(4,"button",16)(5,"app-icon"),e._uU(6,"cancel"),e.qZA()()()}if(2&Q){const ye=ie.$implicit;e.xp6(3),e.hij(" ",ye.name||ye.email," ")}}function F(Q,ie){1&Q&&e._UZ(0,"mat-spinner",17)}function B(Q,ie){if(1&Q){const ye=e.EpF();e.TgZ(0,"mat-option",18),e.NdJ("click",function(){e.CHM(ye);const _e=e.oxw();return e.KtG(_e.addUserFromEmail())}),e.SDv(1,19),e.qZA()}if(2&Q){const ye=e.oxw();e.xp6(1),e.pQV(ye.search$.getValue()),e.QtT(1)}}function H(Q,ie){if(1&Q){const ye=e.EpF();e.TgZ(0,"mat-option",20),e.NdJ("click",function(){const Ie=e.CHM(ye).$implicit,Me=e.oxw();return e.KtG(Me.addUser(Ie))}),e._uU(1),e._UZ(2,"br"),e.TgZ(3,"span",21),e._uU(4),e.qZA()()}if(2&Q){const ye=ie.$implicit;e.xp6(1),e.hij(" ",ye.name,""),e.xp6(3),e.Oqu(ye.email)}}function $(Q,ie){if(1&Q){const ye=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(ye);const _e=e.oxw();return e.KtG(_e.openNewUserModal())}),e.tHW(2,24),e.TgZ(3,"div",25),e._UZ(4,"span",26),e.qZA(),e.N_p(),e.qZA(),e.TgZ(5,"button",27),e.tHW(6,28),e.TgZ(7,"div",25),e._UZ(8,"span",26),e.qZA(),e.TgZ(9,"input",29),e.NdJ("change",function(_e){e.CHM(ye);const Ie=e.oxw();return e.KtG(Ie.addUsersFromFile(_e))}),e.qZA(),e.N_p(),e.qZA(),e.TgZ(10,"button",30),e.NdJ("click",function(){e.CHM(ye);const _e=e.oxw();return _e.downloadCSVTemplate(),e.KtG(_e.download.emit())}),e.tHW(11,31),e.TgZ(12,"div",25),e._UZ(13,"span",26),e.qZA(),e.N_p(),e.qZA()()}}function j(Q){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(Q)}class V extends y.KG{constructor(ie,ye){super(),this._dialog=ie,this._settings=ye,this.limit=3,this.guests=!1,this.hide_actions=!1,this.custom_template=!1,this.new_user=new e.vpe,this.download=new e.vpe,this.separatorKeysCodes=[f.K5,f.OC],this.loading=!1,this.search$=new _.X(""),this.user_list$=this.search$.pipe((0,T.b)(300),(0,v.w)(G=>(this.loading=!0,(G?this.guests?(0,l.aj)([(0,c.VE)(G),(0,d.jf)(G)]).pipe((0,O.U)(([_e,Ie])=>{const Me=[],Fe=this._settings.get("visitor-invitees")||[];for(const Ve of Fe){const[Pe,xe,be]=Ve.split("|");Me.push({email:Pe,name:xe,company:be})}return(0,y.Tw)(_e.concat(Ie).concat(Me),"email")})):(0,c.VE)(G):(0,m.of)([])).pipe((0,C.K)(_e=>(0,m.of)([]))))),(0,E.b)(G=>this.loading=!1)),this.active_list=[],this.validFn=G=>j(G),this.emptyClick=()=>this.openNewUserModal(new a.n5)}get search_valid_email(){return j(this.search$.getValue())}updateSearch(ie=""){this.timeout("search",()=>this.search$.next(ie))}addUserFromEmail(ie=""){if(ie||(ie=this.search$.getValue()),!j(ie))return;const ye=new a.n5({id:ie,email:ie,name:ie.split("@")[0]});this.addUser(ye);const{name:G,organisation:_e}=ye,Ie=`${ie}|${G}|${_e}`,Me=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",[...Me.filter(Fe=>!Fe.includes(ie)),Ie]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}addUser(ie){const ye=this.active_list.filter(G=>G.email!==ie.email);this.setValue([...ye,new a.n5({...ie,id:ie.id||ie.email,visit_expected:(ie.id||!0===ie.is_external?null:ie.visit_expected)??!0})]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}removeUser(ie){const ye=this.active_list.filter(G=>G.email!==ie.email);this.setValue(ye)}addUsersFromFile(ie){if(ie.target){const ye=ie.target.files[0];if(ye){const G=new FileReader;G.readAsText(ye,"UTF-8"),G.addEventListener("load",_e=>{this.processCsvData(_e.srcElement.result),ie.target.value=""}),G.addEventListener("error",_e=>(0,y.cB)("Error reading file."))}}}processCsvData(ie){const ye=(0,y.n5)(ie)||[],G=(0,y.ar)()?.staff_id||"unknown";for(const _e of ye){_e.name=_e.name||`${_e.first_name} ${_e.last_name}`;const Ie=(_e.name||`${Math.floor(99999999*Math.random())}`).split(" ").join("_").toLowerCase();_e.email||(_e.email=`${Ie}+${G}@guest.${s.U9}`);const Me=this._settings.get("app.booking.internal_emails")||["place.tech"];_e.visit_expected=_e.visit_expected??!Me.find(Fe=>_e.email.endsWith(Fe)),_e.phone=""+_e.phone,this.addUser(new a.n5(_e))}}downloadCSVTemplate(){this.custom_template||(0,y.Sv)("template.csv","Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true")}setValue(ie){this.active_list=ie,this._onChange&&this._onChange(ie)}writeValue(ie){this.active_list=ie}setDisabledState(ie){this.disabled=ie}registerOnChange(ie){this._onChange=ie}registerOnTouched(ie){this._onTouch=ie}displayFn(ie){return ie?.name||""}openNewUserModal(ie=new a.n5){const ye=this._dialog.open(h.r,{width:"auto",height:"auto",data:{user:ie}});ye.componentInstance?.event.pipe((0,i.P)(G=>"done"===G.reason)).subscribe(G=>{this.addUser(G.metadata),ye.close()})}}V.\u0275fac=function(ie){return new(ie||V)(e.Y36(r.on),e.Y36(y.gb))},V.\u0275cmp=e.Xpm({type:V,selectors:[["a-user-list-field"]],viewQuery:function(ie,ye){if(1&ie&&e.Gf(R,5),2&ie){let G;e.iGM(G=e.CRH())&&(ye._search_el=G.first)}},inputs:{disabled:"disabled",limit:"limit",guests:"guests",hide_actions:["hideActions","hide_actions"],custom_template:"custom_template",filter:"filter"},outputs:{new_user:"new_user",download:"download"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>V),multi:!0}]),e.qOj],decls:17,vars:14,consts:function(){let Q,ie,ye,G,_e;return Q=$localize`:␟5ecf84665fa441ea616e171804e6652d010c9ed2␟5361968336322693258:Type a name or email`,ie=$localize`:␟8ddbc311625de88f24142f65336765837378c1ca␟2206723750290169400: Add external user with email "${"\ufffd0\ufffd"}:INTERPOLATION:" `,ye=$localize`:Add new external attendee␟afa9063944169ae2cd6bd8c0d5e943468ab77e90␟145038058737617323:${"\ufffd#3\ufffd"}:START_TAG_DIV: Add ${"\ufffd#4\ufffd"}:START_TAG_SPAN:External${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_DIV:`,G=$localize`:Upload attendee list from CSV file␟0115abeee77902eeda78bb11be738c011e8be933␟4462048288204440387:${"\ufffd#7\ufffd"}:START_TAG_DIV: Upload ${"\ufffd#8\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#7\ufffd"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:TAG_INPUT:`,_e=$localize`:Download template CSV file␟f761a83c085b86f026cdf949cf8015ee62d8ca8c␟6030611805365927572:${"\ufffd#12\ufffd"}:START_TAG_DIV:${"\ufffd#13\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN: Template ${"\ufffd/#12\ufffd"}:CLOSE_TAG_DIV:`,[["form-field","",1,"mb-4"],["search",""],["appearance","outline","matAutocompleteOrigin","",1,"w-full"],["origin","matAutocompleteOrigin"],["aria-label","User selection"],["chipList",""],["user","",3,"removed",4,"ngFor","ngForOf"],["placeholder",Q,"name","user_email",3,"ngModel","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","ngModelChange","matChipInputTokenEnd"],["search_field",""],["diameter","24","matSuffix","",4,"ngIf"],["auto","matAutocomplete"],[3,"click",4,"ngIf"],["class","leading-tight",3,"click",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 -mt-4","actions","",4,"ngIf"],["user","",3,"removed"],[1,"mr-2"],["remove","","matChipRemove",""],["diameter","24","matSuffix",""],[3,"click"],ie,[1,"leading-tight",3,"click"],[1,"text-xs"],["actions","",1,"flex","items-center","space-x-2","-mt-4"],["mat-button","","type","button","name","new-contact",1,"inverse","flex-1","sm:flex-none",3,"click"],ye,[1,"flex","items-center","justify-center"],[1,"hidden","sm:inline"],["mat-button","","type","button","name","upload-csv",1,"inverse","flex-1","sm:flex-none"],G,["type","file",1,"opacity-0","absolute","inset-0",3,"change"],["mat-button","","type","button","name","download-template",1,"inverse","flex-1","sm:flex-none",3,"click"],_e]},template:function(ie,ye){if(1&ie&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2,3)(4,"mat-chip-list",4,5),e.YNc(6,w,7,1,"mat-chip",6),e.TgZ(7,"input",7,8),e.NdJ("ngModelChange",function(_e){return ye.updateSearch(_e)})("matChipInputTokenEnd",function(_e){return ye.addUserFromEmail(_e.value)}),e.ALo(9,"async"),e.qZA(),e.YNc(10,F,1,0,"mat-spinner",9),e.qZA()(),e.TgZ(11,"mat-autocomplete",null,10),e.YNc(13,B,2,1,"mat-option",11),e.YNc(14,H,5,2,"mat-option",12),e.ALo(15,"async"),e.qZA()(),e.YNc(16,$,14,0,"div",13),e.qZA()),2&ie){const G=e.MAs(5),_e=e.MAs(12);e.uIk("disabled",ye.disabled),e.xp6(6),e.Q6J("ngForOf",ye.active_list),e.xp6(1),e.Q6J("ngModel",e.lcZ(9,10,ye.search$))("matAutocomplete",_e)("matChipInputFor",G)("matChipInputSeparatorKeyCodes",ye.separatorKeysCodes),e.xp6(3),e.Q6J("ngIf",ye.loading),e.xp6(3),e.Q6J("ngIf",ye.search_valid_email),e.xp6(1),e.Q6J("ngForOf",e.lcZ(15,12,ye.user_list$)),e.xp6(2),e.Q6J("ngIf",!ye.hide_actions)}},dependencies:[o.sg,o.O5,n.Fj,n.JJ,n.On,S.v_,S.nX,I.CK,x.VN,x.QJ,x.$C,P.ir,P.lw,P.IP,P.Y6,g.o,u.eB,M.sN,o.Ov]})},9697:(Je,K,t)=>{"use strict";t.d(K,{d:()=>o});var e=t(6353),n=t(4006),y=t(8929),T=t(1086),v=t(567),O=t(13),C=t(5778),E=t(7545),i=t(7221),f=t(4850),_=t(8368),l=t(4283),m=t(9012),h=t(5197);const d=["input"];function c(S,I){1&S&&e._UZ(0,"mat-spinner",11)}function a(S,I){if(1&S){const x=e.EpF();e.TgZ(0,"mat-option",12),e.NdJ("click",function(){const u=e.CHM(x).$implicit,M=e.oxw();return M.setValue(u),e.KtG(M.blurInput())}),e.TgZ(1,"div",13),e._uU(2),e.qZA(),e.TgZ(3,"div",14),e._uU(4),e.qZA()()}if(2&S){const x=I.$implicit;e.xp6(2),e.Oqu(x.name),e.xp6(2),e.hij(" ",x.email," ")}}function s(S,I){if(1&S){const x=e.EpF();e.TgZ(0,"mat-option",15)(1,"div",16),e.NdJ("mousedown",function(g){return g.stopPropagation(),g.preventDefault()})("touchstart",function(g){return g.stopPropagation(),g.preventDefault()})("click",function(g){e.CHM(x);const u=e.oxw();return u.setValue(u.search_str),g.stopPropagation(),e.KtG(g.preventDefault())}),e.TgZ(2,"div",17),e.SDv(3,18),e.qZA()()()}if(2&S){const x=e.oxw();e.xp6(3),e.pQV(x.search_str),e.QtT(3)}}function r(S,I){if(1&S){const x=e.EpF();e.TgZ(0,"mat-option",19),e.NdJ("click",function(){e.CHM(x);const g=e.oxw();return e.KtG(g.empty_fn())}),e._uU(1),e.qZA()}if(2&S){const x=e.oxw();e.Q6J("disabled",!x.empty_fn),e.xp6(1),e.AsE(" ",x.search_str?"No users found.":""," ",x.error," ")}}class o extends _.KG{constructor(){super(...arguments),this.error="",this.query_fn=I=>(0,m.VE)(I),this.search$=new y.xQ,this.search_results$=this.search$.pipe((0,O.b)(400),(0,C.x)(),(0,E.w)(I=>(this.loading=!0,this.options&&this.options.length>0?(0,T.of)(this.options):I.length>=3?this.guests?(0,v.D)([(0,m.VE)(I),(0,l.jf)(I)]):this.query_fn(I):(0,T.of)([]))),(0,i.K)(I=>(0,T.of)([])),(0,f.U)(I=>{this.loading=!1,I=(0,_.xH)(I);const x=(this.search_str||"").toLowerCase();return I.filter(P=>!this.filter||this.filter(P,x))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>this._input_el?.nativeElement?.blur())}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(I=>this.user_list=I))}resetSearchString(){this.timeout("reset",()=>this.search_str=this.active_user?.name||"",100)}setValue(I,x){"string"==typeof I&&I===this.search_str&&(I=new h.n5({name:(this.search_str||x||"").split("@")[0],email:this.search_str||x||""})),I instanceof h.n5&&(this.active_user=I,this._onChange&&this._onChange(I),this.resetSearchString())}writeValue(I){this.active_user=I,this.resetSearchString()}setDisabledState(I){this.disabled=I}registerOnChange(I){this._onChange=I}registerOnTouched(I){this._onTouch=I}}o.\u0275fac=function(){let S;return function(x){return(S||(S=e.n5z(o)))(x||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["a-user-search-field"]],viewQuery:function(I,x){if(1&I&&e.Gf(d,5,e.SBq),2&I){let P;e.iGM(P=e.CRH())&&(x._input_el=P.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}]),e.qOj],decls:12,vars:8,consts:function(){let S;return S=$localize`:␟27716a7b219c38733d3998f0a742dc0adf455d3d␟4284308487304616875: Add external attendee "${"\ufffd0\ufffd"}:INTERPOLATION:" `,[["form-field","",1,"user-search-field"],["appearance","outline"],["matInput","","keyboard","","name","user-search",3,"ngModel","disabled","placeholder","matAutocomplete","ngModelChange","keyup.enter","blur","focus"],["input",""],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],S,[3,"disabled","click"]]},template:function(I,x){if(1&I&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"input",2,3),e.NdJ("ngModelChange",function(g){return x.search_str=g})("ngModelChange",function(g){return x.search$.next(g||"")})("keyup.enter",function(){return x.validate&&x.validate(x.search_str)?x.setValue(x.search_str):""})("blur",function(){return x.resetSearchString()})("focus",function(){return x.cancelReset()}),e.qZA(),e.TgZ(4,"app-icon",4),e._uU(5,"search"),e.qZA(),e.YNc(6,c,1,0,"mat-spinner",5),e.qZA(),e.TgZ(7,"mat-autocomplete",6,7),e.NdJ("optionSelected",function(g){return x.setValue(g.option.value)}),e.YNc(9,a,5,2,"mat-option",8),e.YNc(10,s,4,1,"mat-option",9),e.YNc(11,r,2,3,"mat-option",10),e.qZA()()),2&I){const P=e.MAs(8);e.xp6(2),e.Q6J("ngModel",x.search_str)("disabled",x.disabled)("placeholder",x.placeholder||"Search for user...")("matAutocomplete",P),e.xp6(4),e.Q6J("ngIf",x.loading),e.xp6(3),e.Q6J("ngForOf",x.user_list),e.xp6(1),e.Q6J("ngIf",x.search_str&&x.validate&&x.validate(x.search_str)),e.xp6(1),e.Q6J("ngIf",!(null!=x.user_list&&x.user_list.length)&&(x.search_str||x.error))}},styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]})},6221:(Je,K,t)=>{"use strict";t.d(K,{Yo:()=>e.Y,nk:()=>T.n,w7:()=>y.w});var e=t(6367),y=(t(6545),t(565)),T=t(9502)},4425:(Je,K,t)=>{"use strict";t.d(K,{N:()=>n});var e=t(6367);class n{constructor(T={}){this.id=T.id||"",this.parent_id=T.parent_id||"",this.name=T.name||"";const v=T.settings||{};this.display_name=T.display_name,this.images=this.images||[];const O=v.discovery_info||v;this.zone_id=T.zone_id||T.zone,this.extras=(T.extras||O.extras||[]).map(E=>({id:E.extra_id||E.id,name:E.extra_name||E.name})),this.loan_items=(T.loan_items||O.loan_items||[]).map(E=>({id:E.extra_id||E.id,name:E.extra_name||E.name})),this.levels=(T.levels||O.levels||[]).map(E=>new e.Y({...E,building_id:this.id})),this._roles=T.roles||O.roles||{},this._lockers=T.lockers||T.locker_structure||O.locker_structure||{},this._systems=T.systems||O.systems||{},this._phone_numbers=T.phone_numbers||O.phone_numbers||{},this.location=T.location||O.location||"0,0",this.room_configurations=T.room_configurations||O.room_configurations||[],this.attributes=T.attributes||O.attributes||[];const C=[];if(T.neighbourhoods)for(const E in T.neighbourhoods)if(E in T.neighbourhoods){const i=T.neighbourhoods[E]||{};for(const f in i)f in i&&C.push({id:i[f],name:f,level_id:E})}this.bindings=T.bindings||{},this.searchables=C,this.timezone=T.timezone||O.timezone||v.timezone||"",this.catering_hours=T.catering_hours||O.catering_hours||v.catering_hours||{start:7,end:20},this.visitor_space=T.visitor_space||O.visitor_space||v.visitor_space||"",this.holding_bay=T.holding_bay||O.holding_bay||v.holding_bay||"",this.code=T.code||O.code||v.code||"",this.address=T.address||O.address||v.address||"",this.orientations=T.orientations||O.orientations||v.orientations||{},this.booking_details=T.booking_details||O.booking_details||v.booking_details||null,this.booking_rules=T.booking_rules||O.booking_rules||v.booking_rules||{},this.catering_restricted_from=T.catering_restricted_from||O.catering_restricted_from||v.catering_restricted_from||-1440,this.currency=T.currency||O.currency||v.currency||"USD"}role(T){return[...this._roles[T]||[]]}get role_names(){return Object.keys(this._roles).filter(T=>T in this._roles)}get lockers(){return{...this._lockers||{}}}get systems(){return{...this._systems||{}}}get phone_numbers(){return{...this._phone_numbers||{}}}featuresForLevel(T){return(this.searchables||[]).filter(v=>v.level_id===T)}}},9502:(Je,K,t)=>{"use strict";t.d(K,{n:()=>n});var e=t(4351);class n{constructor(T={}){this.toJSON=()=>this.format(),this.id=T.id||"",this.map_id=T.map_id||T.id||"",this.name=T.name||"",this.bookable=T.bookable??!1,this.zone=T.zone||new e.TT8,this.groups=T.groups||[],this.qr_code=T.qr_code||"",this.features=T.features||[],this.images=T.images||[]}format(){const{id:T,name:v,bookable:O,groups:C,features:E}=this;return{id:T,name:v,bookable:O,groups:C,features:E}}}},6367:(Je,K,t)=>{"use strict";t.d(K,{Y:()=>e});class e{constructor(y={}){this.settings={},this.id=y.id||"",this.parent_id=y.parent_id||"",this.name=y.name||"",this.display_name=y.display_name||"",this.map_id=y.map_id||"",this.capacity=y.capacity||0,this.locations=y.locations||[],this.tags=y.tags||[],this.images=y.images||[];const T=this.display_name.split(" ");this.number=(T.length>=2?T[T.length-1]:this.display_name[0])?.toUpperCase()||""}}},6545:(Je,K,t)=>{"use strict";t.d(K,{Y:()=>n});var e=t(3245);class n{constructor(T={}){this.id=T.id||"",this.name=T.name||"",this.description=T.description||"",this.tags=T.tags||[],this.count=T.count||0,this.capacity=T.capacity||0,this.bindings=T.bindings||{},this._settings=T.settings||{}}setting(T){const v=T.split(".");return(0,e.Wn)(v,this._settings)}}},565:(Je,K,t)=>{"use strict";t.d(K,{w:()=>a});var e=t(9671),n=t(4351),y=t(591),T=t(3426),v=t(1086),O=t(4850),C=t(7224),E=t(7221),i=t(8296),f=t(719),_=t(4425),l=t(6367),m=t(6545),h=t(8368),d=t(6353),c=t(6581);class a{constructor(r,o){this._service=r,this._router=o,this._initialised=new y.X(!1),this.initialised=this._initialised.asObservable(),this._regions=new y.X([]),this._active_region=new y.X(null),this._buildings=new y.X([]),this._active_building=new y.X(null),this._levels=new y.X([]),this.region_list=this._regions.asObservable(),this.building_list=this._buildings.asObservable(),this.level_list=this._levels.asObservable(),this.active_region=this._active_region.asObservable(),this.active_building=this._active_building.asObservable(),this.active_buildings=(0,T.aj)([this._buildings,this._active_region]).pipe((0,O.U)(([S,I])=>I?this.buildingsForRegion(I):this.buildings)),this.active_levels=(0,T.aj)([this._levels,this._active_building]).pipe((0,O.U)(([S,I])=>I?this.levelsForBuilding(I):[])),this._settings=[],this._region_settings={},this._building_settings={},(0,n.ttN)().pipe((0,C.P)(S=>S)).subscribe(()=>setTimeout(()=>this.init(),1e3)),this.active_building.subscribe(S=>{S&&(this._service.overrides=[...this._settings,this.buildingSettings(S.id)])})}get settings(){return this._settings}get region_settings(){return this._region_settings}get building_settings(){return this._building_settings}regionSettings(r=""){const o=this._active_region.getValue();return!r&&o&&(r=o?.id),this._region_settings&&this._region_settings[r]||{}}buildingSettings(r=""){return!r&&this.building&&(r=this.building?.id),this._building_settings&&this._building_settings[r]||{}}get organisation(){return this._organisation}get regions(){return this._regions.getValue()}get region(){return this._active_region.getValue()}set region(r){!r||(this._active_region.next(r),this.building?.parent_id!==r.id&&this.buildingsForRegion(r).length?this.building=this.buildingsForRegion(r)[0]:this._updateSettingOverrides())}get buildings(){return this._buildings.getValue()}get building(){return this._active_building.getValue()}set building(r){this._active_building.next(r),this._updateSettingOverrides(),this.regions.length&&this.region?.id!==r.parent_id&&(this.region=this.regions.find(o=>o.id===this.building.parent_id))}get timezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}get currency_code(){return this._service.get("app.currency")||this.building.currency||"USD"}binding(r){return this.building?.bindings[r]||this._organisation?.bindings[r]}find(r){return this.buildings.find(o=>o.id===r)}get levels(){return this._levels.getValue()}levelWithID(r){return this.levels.find(o=>r?.includes(o.id))}levelsForBuilding(r=this.building){return this.levels.filter(o=>o.parent_id===r?.id)}buildingsForRegion(r=this.region){return this.buildings.filter(o=>o.parent_id===r?.id)}init(r=0){var o=this;return(0,e.Z)(function*(){o._initialised.next(!1),yield o.load().catch(S=>{throw(0,i.cB)("Error loading organisation data. Retrying..."),setTimeout(()=>o.init(r),Math.min(1e4,300*++r)),S}),o._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.orgs=o)})()}load(){var r=this;return(0,e.Z)(function*(){yield r.loadOrganisation(),yield r.loadRegions(),r._regions.getValue().length?r._buildings.next((0,h.xH)(yield Promise.all(r._regions.getValue().map(o=>r.loadBuildings(o.id))))):r._buildings.next(yield r.loadBuildings()),r._buildings.getValue()?.length||((0,h.cM)("ORG","Unable to find any building zones"),r._router.navigate(["/misconfigured"])),yield r.loadLevels(),yield r.loadSettings()})()}loadOrganisation(){var r=this;return(0,e.Z)(function*(){const o=yield(0,n.I0G)({tags:"org"}).pipe((0,O.U)(S=>S.data)).toPromise();if(o.length){const S=(0,n.N9E)(),I=o.find(P=>(0,n.y7C)()||P.id===S?.config?.org_zone)||o[0],x=(yield(0,n.rlq)(I.id,"bindings").toPromise())?.details;r._organisation=new m.Y({...I,bindings:x})}else(0,h.cM)("ORG","Unable to find organisation"),r._router.navigate(["/misconfigured"])})()}loadRegions(){var r=this;return(0,e.Z)(function*(){const o=yield(0,n.I0G)({tags:"region",parent_id:r._organisation?.id||"",limit:500}).pipe((0,O.U)(I=>I.data),(0,E.K)(()=>(0,v.of)([]))).toPromise(),S=[];for(const I of o){const x=(yield(0,n.rlq)(I.id,"bindings").toPromise())?.details;S.push(new _.N({...I,bindings:x}))}r._regions.next(S)})()}loadBuildings(r=this._organisation?.id){return(0,e.Z)(function*(){const o=yield(0,n.I0G)({tags:"building",parent_id:r,limit:500}).pipe((0,O.U)(I=>I.data)).toPromise(),S=[];for(const I of o){const x=(yield(0,n.rlq)(I.id,"bindings").toPromise())?.details;S.push(new _.N({...I,bindings:x}))}return S})()}loadLevels(){var r=this;return(0,e.Z)(function*(){const o=yield(0,n.I0G)({tags:"level",limit:2500}).pipe((0,O.U)(I=>I.data)).toPromise();o?.length||r._router.navigate(["/misconfigured"]);const S=o.filter(I=>!!r.buildings.find(x=>x.id===I.parent_id)).map(I=>new l.Y(I));S.sort((I,x)=>(I.name||"").localeCompare(x.name||"")),r._levels.next(S)})()}get available_room_configs(){return this.buildings.map(r=>[...r.room_configurations]).reduce((r,o)=>r.concat(o),[]).sort((r,o)=>r.name.localeCompare(o.name))}loadSettings(){var r=this;return(0,e.Z)(function*(){if(!r._organisation)return;const o=`${(r._service.app_name||"workplace").toLowerCase()}_app`,S=(yield(0,n.rlq)(r._organisation?.id,o).toPromise())?.details,I=(yield(0,n.rlq)(r._organisation?.id,"settings").toPromise())?.details;r._settings=[I,S];const x=r.regions;for(const g of x)r._region_settings[g.id]=(yield(0,n.rlq)(g.id,o).toPromise())?.details;const P=r.buildings;for(const g of P)r._building_settings[g.id]=(yield(0,n.rlq)(g.id,o).toPromise())?.details;r._service.overrides=[...r._settings],yield r._initialiseActiveBuilding(),r._updateSettingOverrides()})()}saveBuilding(r){localStorage.setItem("PLACEOS.building",r)}_initialiseActiveBuilding(){return new Promise(r=>{const o=localStorage.getItem("PLACEOS.building");if(o&&this.buildings.find(I=>I.id===o))return this._active_building.next(this.buildings.find(I=>I.id===o)),r();this._service.get("app.use_geolocation")&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(I=>{const{latitude:x,longitude:P}=I.coords;let g=null;for(const u of this.buildings)if(u.location&&"0,0"!==u.location)if(g){const[M,R]=(g.location||"0,0").split(","),[w,F]=(u.location||"0,0").split(",");Math.sqrt(Math.pow(x-+w,2)+Math.pow(P-+F,2))<Math.sqrt(Math.pow(x-+M,2)+Math.pow(P-+R,2))&&(g=u)}else g=u;g&&(this.building=g),this.building?.id||this._setDefaultBuilding(),r()},()=>{this.building?.id||this._setDefaultBuilding(),r()}):this.building?.id||(this._setDefaultBuilding(),r())})}_setDefaultBuilding(){if(!this.buildings.length)return;const r=this._service.get("app.default_building");if(r)this.building=this.buildings.find(({id:o})=>o===r);else{const o=this.timezone;for(const I of this.buildings)if(I.timezone===o){this.building=I;break}if(this.building)return;const S=o.split("/")[0];for(const I of this.buildings)if(I.timezone.startsWith(S)){this.building=I;break}}this.building||(this.building=this.buildings[0])}_updateSettingOverrides(){this._service.overrides=[...this._settings,this.regionSettings(this.region?.id),this.buildingSettings(this.building?.id)]}}a.\u0275fac=function(r){return new(r||a)(d.LFG(f.g),d.LFG(c.F0))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})},265:(Je,K,t)=>{"use strict";t.d(K,{k:()=>f});var e=t(9671),n=t(6353),y=t(5559),T=t(6221);function v(_,l){if(1&_&&(n.tHW(0,10,1),n.GkF(1),n.ALo(2,"date"),n.ALo(3,"date"),n.N_p()),2&_){const m=n.oxw(3);n.xp6(3),n.pQV(n.xi3(2,2,m.details.date,"shortTime"))(n.xi3(3,5,m.details.date+60*m.details.duration*1e3,"shortTime")),n.QtT(0)}}function O(_,l){if(1&_){const m=n.EpF();n.ynx(0),n.TgZ(1,"main",5)(2,"h2",6),n.SDv(3,7),n.qZA(),n._UZ(4,"img",8),n.TgZ(5,"p",9),n.tHW(6,10),n.ALo(7,"date"),n.YNc(8,v,4,8,"ng-container",11),n.N_p(),n.qZA(),n.TgZ(9,"p",12),n.SDv(10,13),n.qZA(),n.TgZ(11,"p",14)(12,"strong"),n._uU(13),n.ALo(14,"currency"),n.qZA()(),n.TgZ(15,"card-input-field",15),n.NdJ("ngModelChange",function(d){n.CHM(m);const c=n.oxw(2);return n.KtG(c.card_details=d)}),n.qZA()(),n.TgZ(16,"footer",16)(17,"button",17),n.NdJ("click",function(){n.CHM(m);const d=n.oxw(2);return n.KtG(d.processPayment())}),n.SDv(18,18),n.qZA()(),n.TgZ(19,"button",19)(20,"i",20),n._uU(21,"close"),n.qZA()(),n.BQk()}if(2&_){const m=n.oxw(2);n.xp6(8),n.Q6J("ngIf",!m.details.all_day),n.pQV(m.details.type)(m.details.resource_name)(n.xi3(7,6,m.details.date,"mediumDate")),n.QtT(6),n.xp6(5),n.Oqu(n.xi3(14,9,m.details.amount/100,m.code)),n.xp6(2),n.Q6J("ngModel",m.card_details)}}function C(_,l){if(1&_&&(n.TgZ(0,"div",3),n.YNc(1,O,22,12,"ng-container",4),n.qZA()),2&_){const m=n.oxw(),h=n.MAs(5);n.xp6(1),n.Q6J("ngIf",!m.success)("ngIfElse",h)}}function E(_,l){if(1&_&&(n.TgZ(0,"div",21),n._UZ(1,"mat-spinner",22),n.TgZ(2,"p"),n._uU(3),n.ALo(4,"async"),n.qZA()()),2&_){const m=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,1,m.loading))}}function i(_,l){if(1&_&&(n.TgZ(0,"main",23)(1,"h2",6),n.SDv(2,24),n.qZA(),n.TgZ(3,"h3",25),n._uU(4),n.qZA(),n.TgZ(5,"p"),n.SDv(6,26),n.ALo(7,"currency"),n.qZA(),n.TgZ(8,"p"),n.SDv(9,27),n.qZA(),n.TgZ(10,"p"),n._uU(11),n.ALo(12,"date"),n.qZA(),n.TgZ(13,"p"),n.SDv(14,28),n.ALo(15,"date"),n.ALo(16,"date"),n.qZA()(),n._UZ(17,"img",29),n.TgZ(18,"footer",30)(19,"button",31),n.SDv(20,32),n.qZA()()),2&_){const m=n.oxw();n.xp6(4),n.hij("Ref #",m.transaction_id,""),n.xp6(3),n.pQV(n.xi3(7,6,m.details.amount/100,m.code)),n.QtT(6),n.xp6(2),n.pQV(m.details.resource_name),n.QtT(9),n.xp6(2),n.Oqu(n.xi3(12,9,m.details.date,"mediumDate")),n.xp6(5),n.pQV(n.xi3(15,12,m.details.date,"shortTime"))(n.xi3(16,15,m.details.date+60*m.details.duration*1e3,"shortTime")),n.QtT(14)}}class f{constructor(l,m){this._data=l,this._org=m,this.event=new n.vpe,this.details=this._data,this.loading=this._data.loading,this.success=!1,this.transaction_id="12345678"}get code(){return this._org.currency_code}processPayment(){var l=this;return(0,e.Z)(function*(){!l.card_details||!l._validCardDetails()||(l.event.emit(l.card_details),yield l._data.makePayment(l.card_details),l.success=!0)})()}_validCardDetails(){return(this.card_details?.cardholder.length||0)>0&&(this.card_details?.cvv.length||0)>=3}}f.\u0275fac=function(l){return new(l||f)(n.Y36(y.eJ),n.Y36(T.w7))},f.\u0275cmp=n.Xpm({type:f,selectors:[["payment-modal"]],outputs:{event:"event"},decls:6,vars:4,consts:function(){let _,l,m,h,d,c,a,s,r;return _=$localize`:␟4d64c520c43eead598939b50c326e665c6e88fa4␟7177958266181561076:Booking Payment`,l=$localize`:␟7a9510cbfdcb53b8dcac3f0bd7958196958333ff␟2305336913310307878:You booking will cost:`,m=$localize`:␟9069fc3477fe6107249755afedd9fe14140bb201␟8427617350792373644: Make Payment `,h=$localize`:␟00a4b4852357812c8f53bb8e5c7598d479bea113␟6612380128469929872: You are requesting a ${"\ufffd0\ufffd"}:INTERPOLATION: booking in ${"\ufffd1\ufffd"}:INTERPOLATION_1: for ${"\ufffd2\ufffd"}:INTERPOLATION_2: ${"\ufffd*8:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: between ${"\ufffd0:1\ufffd"}:INTERPOLATION_3: and ${"\ufffd1:1\ufffd"}:INTERPOLATION_4: ${"\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,d=$localize`:␟dbbd5277093a2dbc265472510779d835afc39f45␟8206804611071524488:Payment Successful`,c=$localize`:␟3f4848caf9f21adf98ff724941082234e909506c␟2782130144739812373:${"\ufffd0\ufffd"}:INTERPOLATION: paid.`,a=$localize`:␟931d5e8e4e517671212210e9d716fa2721c9e67c␟6374111499070607459:${"\ufffd0\ufffd"}:INTERPOLATION: booked.`,s=$localize`:␟e2ddd0e2db3568ac26e9f86a9e366f864a4e6e94␟783447026381975793: ${"\ufffd0\ufffd"}:INTERPOLATION: and ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,r=$localize`:␟001127b263e7132960af8fa70cce4c2635980fbc␟8163835392610431386: Great, thanks. `,[["class","relative max-h-[100vh] overflow-auto",4,"ngIf","ngIfElse"],["load_state",""],["success_state",""],[1,"relative","max-h-[100vh]","overflow-auto"],[4,"ngIf","ngIfElse"],[1,"px-4","pt-8","w-[24rem]","space-y-2","flex","flex-col","items-center","relative"],[1,"text-2xl","font-medium"],_,["src","assets/icons/cost.svg",1,"w-1/2"],[1,"text-sm","text-center","pb-2"],h,[4,"ngIf"],[1,"text-sm"],l,[1,"text-lg","font-medium","text-center"],[1,"w-full",3,"ngModel","ngModelChange"],[1,"p-4"],["mat-button","",1,"w-full",3,"click"],m,["mat-icon-button","","mat-dialog-close","",1,"absolute","top-1","left-1"],[1,"material-icons","text-2xl"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","p-8"],["diameter","32"],[1,"px-8","pt-8","w-[24rem]","flex","flex-col","relative"],d,[1,"text-xl","font-medium","mb-2"],c,a,s,["src","assets/icons/payment-confirmed.svg",1,"w-full"],[1,"p-4","border-t","border-gray-200"],["mat-button","","mat-dialog-close","",1,"w-full"],r]},template:function(l,m){if(1&l&&(n.YNc(0,C,2,2,"div",0),n.ALo(1,"async"),n.YNc(2,E,5,3,"ng-template",null,1,n.W1O),n.YNc(4,i,21,18,"ng-template",null,2,n.W1O)),2&l){const h=n.MAs(3);n.Q6J("ngIf",!n.lcZ(1,2,m.loading))("ngIfElse",h)}}})},8871:(Je,K,t)=>{"use strict";t.d(K,{c:()=>d});var e=t(9671),n=t(8368),y=t(6221),T=t(4351),v=t(591),O=t(1086),C=t(7545),E=t(2994),i=t(5154),f=t(265),_=t(6353),l=t(5559);const h="Payment";class d{constructor(a,s,r){this._org=a,this._settings=s,this._dialog=r,this._loading=new v.X(""),this._active_card=new v.X(""),this.loading=this._loading.asObservable(),this.payment_sources=(0,O.of)(1).pipe((0,C.w)(()=>{const o=(0,T.rTZ)(this.payment_module,h);return o?o.execute("list_payment_methods",["card"]):(0,O.of)([])}),(0,E.b)(o=>o[0]?this._active_card.next(o[0].id):""),(0,i.d)(1))}get payment_module(){return this._org.binding("payments")}makePayment(a){var s=this;return(0,e.Z)(function*(){if(!s.payment_module)throw"Payments not enabled";const[r,o]=yield s._getCostOfProduct(a?.type).catch(M=>[0,60]);if(console.log("Cost:",r,o),r<=0)return;let S=s._settings.get("STRIPE_Customer_ID");S||(S=yield s._newCustomerID()),s._settings.saveUserSetting("STRIPE_Customer_ID",S);const I=r*(a.duration/o);let x;const P=function(){var M=(0,e.Z)(function*(R){x=yield s._processPayment(I,S,R).catch(w=>{throw s._loading.next(""),w})});return function(w){return M.apply(this,arguments)}}(),g={...a,rate:`$${(r/100).toFixed(2)} per hour`,amount:I,makePayment:P,loading:s.loading};return yield s._dialog.open(f.k,{data:g}).afterClosed().toPromise(),x})()}_addPaymentMethod(a){var s=this;return(0,e.Z)(function*(){const r=(0,T.rTZ)(s.payment_module,h);if(!r)throw"Unable to load module";const o=yield r.execute("add_payment_method",["card",null,null,null,null,null,null,null,null,null,null,null,a]);return o.id||o})()}_getCostOfProduct(a){var s=this;return(0,e.Z)(function*(){let r=[0,60];const o=(0,T.rTZ)(s.payment_module,h);if(!o)return r;const S=yield o.execute("get_product_prices",[null,null,a]);return S.length?S:r})()}_processPayment(a,s,r){var o=this;return(0,e.Z)(function*(){o._loading.next("Checking payment method..."),console.log("Getting payment method...");const S=r?yield o._addPaymentMethod(r):o._active_card.getValue();if(!S)throw"No payment source selected";o._loading.next("Processing payment..."),console.log("Processing payment...");const I=(0,T.rTZ)(o.payment_module,h);if(!I)throw"Unable to load module";const x=yield I.execute("create_payment_intent",[a,o._org.building.currency||"USD",null,null,s,null,null,null,(0,n.ar)()?.email]);if(!x)throw"Failed to create payment";return console.log("Confirming payment..."),yield I.execute("confirm_payment_intent",[x,S]),o._loading.next(""),{success:!0,state:"approved",invoice_id:x,amount:a,created_at:Date.now(),updated_at:Date.now()}})()}_newCustomerID(){var a=this;return(0,e.Z)(function*(){const s=(0,T.rTZ)(a.payment_module,h);if(!s)throw"Unable to load module";const r=(0,n.ar)();return yield s.execute("create_customer",[0,null,null,null,`${r.id}|${r.name}|FromPlaceOS`,r.email])})()}}d.\u0275fac=function(a){return new(a||d)(_.LFG(y.w7),_.LFG(n.gb),_.LFG(l.on))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},2886:(Je,K,t)=>{"use strict";t.d(K,{YR:()=>en,sK:()=>Et.s,u2:()=>En.u});var e=t(6895),n=t(4006),y=t(5559),T=t(8242),v=t(74),O=t(4693),C=t(5844),E=t(9164),i=t(6353),_=(t(656),t(5306)),l=t(9818);function m(Ft,Bt){if(1&Ft&&(i.TgZ(0,"div",8)(1,"app-icon"),i._uU(2,"account_circle"),i.qZA(),i.TgZ(3,"div"),i._uU(4),i.qZA()()),2&Ft){const vt=i.oxw(2);i.xp6(4),i.Oqu(vt.space.capacity)}}function h(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw(2);return i.KtG(Zt.action.emit())}),i.TgZ(1,"app-icon"),i._uU(2),i.qZA()()}if(2&Ft){const vt=i.oxw(2);i.xp6(2),i.Oqu("available"===vt.type?"add":"close")}}function d(Ft,Bt){if(1&Ft&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()(),i.YNc(6,m,5,1,"div",6),i.YNc(7,h,3,1,"button",7),i.qZA()),2&Ft){const vt=i.oxw(),sn=i.MAs(2);i.xp6(3),i.Oqu(vt.space.name),i.xp6(2),i.hij(" ",(null==vt.space.level?null:vt.space.level.display_name)||(null==vt.space.level?null:vt.space.level.name)," "),i.xp6(1),i.Q6J("ngIf",-1!==vt.space.capacity),i.xp6(1),i.Q6J("ngIf",vt.multiple)("ngIfElse",sn)}}function c(Ft,Bt){if(1&Ft&&(i.TgZ(0,"button",10),i._uU(1),i.qZA()),2&Ft){const vt=i.oxw();i.ekj("request",vt.space.by_request),i.xp6(1),i.hij(" ",vt.space.by_request?"Request":"Book"," ")}}class a{constructor(){this.action=new i.vpe}}a.\u0275fac=function(Bt){return new(Bt||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["a-space-select-item"]],inputs:{space:"space",type:"type",multiple:"multiple"},outputs:{action:"action"},decls:3,vars:1,consts:[["space","","class","w-full flex items-center p-2 space-x-2 border-b border-gray-100",4,"ngIf"],["single_button",""],["space","",1,"w-full","flex","items-center","p-2","space-x-2","border-b","border-gray-100"],[1,"flex-1","w-1/2"],[1,"text-base","truncate"],[1,"text-xs"],["class","flex items-center",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf","ngIfElse"],[1,"flex","items-center"],["mat-icon-button","",3,"click"],["mat-button","",1,"w-32"]],template:function(Bt,vt){1&Bt&&(i.YNc(0,d,8,5,"div",0),i.YNc(1,c,2,3,"ng-template",null,1,i.W1O)),2&Bt&&i.Q6J("ngIf",vt.space)},dependencies:[e.O5,_.o,l.eB]});var s=t(591),r=t(3426),o=t(7545),S=t(5154),I=t(4850),x=t(2994),P=t(9972),g=t(9756),u=t(8368),M=t(6221),R=t(95),w=t(6217),F=t(4363),B=t(8455),H=t(6289),$=t(1343);function j(Ft,Bt){if(1&Ft&&(i.TgZ(0,"mat-option",13),i._uU(1),i.qZA()),2&Ft){const vt=Bt.$implicit;i.Q6J("value",vt),i.xp6(1),i.hij(" ",vt.display_name||vt.name," ")}}function V(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"mat-form-field",10)(1,"mat-select",11),i.NdJ("ngModelChange",function(Zt){i.CHM(vt);const bn=i.oxw();return i.KtG(bn.building.next(Zt))}),i.YNc(2,j,2,2,"mat-option",12),i.qZA()()}if(2&Ft){const vt=i.oxw();i.xp6(1),i.Q6J("ngModel",vt.building.getValue()),i.xp6(1),i.Q6J("ngForOf",vt.buildings)}}function Q(Ft,Bt){if(1&Ft&&(i.TgZ(0,"mat-option",13),i._uU(1),i.qZA()),2&Ft){const vt=Bt.$implicit;i.Q6J("value",vt.id),i.xp6(1),i.hij(" ",vt.name," ")}}function ie(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"mat-form-field",10)(1,"mat-select",14),i.NdJ("ngModelChange",function(Zt){i.CHM(vt);const bn=i.oxw();return i.KtG(bn.type=Zt)}),i.YNc(2,Q,2,2,"mat-option",12),i.qZA()()}if(2&Ft){const vt=i.oxw();i.xp6(1),i.Q6J("ngModel",vt.type),i.xp6(1),i.Q6J("ngForOf",vt.space_types)}}function ye(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"a-space-select-item",17),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw().$implicit,bn=i.oxw(3);return i.KtG(bn.spaceSelected(Zt))}),i.qZA()}if(2&Ft){const vt=i.oxw().$implicit,sn=i.oxw(3);i.Q6J("space",vt)("multiple",sn.multiple)}}function G(Ft,Bt){if(1&Ft&&(i.ynx(0),i.YNc(1,ye,1,2,"a-space-select-item",16),i.BQk()),2&Ft){const vt=Bt.$implicit,sn=i.oxw(3);i.xp6(1),i.Q6J("ngIf",!sn.space_map[vt.id])}}function _e(Ft,Bt){if(1&Ft&&(i.ynx(0),i.YNc(1,G,2,1,"ng-container",15),i.ALo(2,"async"),i.BQk()),2&Ft){const vt=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,vt.filtered_spaces))}}function Ie(Ft,Bt){if(1&Ft&&(i.ynx(0),i.YNc(1,_e,3,3,"ng-container",5),i.ALo(2,"async"),i.BQk()),2&Ft){const vt=i.oxw(),sn=i.MAs(16);let Zt;i.xp6(1),i.Q6J("ngIf",null==(Zt=i.lcZ(2,2,vt.filtered_spaces))?null:Zt.length)("ngIfElse",sn)}}function Me(Ft,Bt){if(1&Ft&&i._UZ(0,"a-space-select-item",20),2&Ft){const vt=Bt.$implicit,sn=i.oxw(3);i.Q6J("space",vt)("multiple",sn.multiple)}}function Fe(Ft,Bt){if(1&Ft&&(i.ynx(0),i.YNc(1,Me,1,2,"a-space-select-item",19),i.BQk()),2&Ft){const vt=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",vt.spaces)}}function Ve(Ft,Bt){if(1&Ft&&(i.TgZ(0,"div",18),i.YNc(1,Fe,2,1,"ng-container",5),i.qZA()),2&Ft){const vt=i.oxw(),sn=i.MAs(16);i.ekj("show",vt.show_selected),i.xp6(1),i.Q6J("ngIf",vt.spaces&&vt.spaces.length)("ngIfElse",sn)}}function Pe(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"footer")(1,"button",21),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw();return i.KtG(Zt.save())}),i._uU(2),i.qZA()()}if(2&Ft){const vt=i.oxw();i.xp6(2),i.hij(" Save selected spaces(",vt.spaces.length||"0",") ")}}function xe(Ft,Bt){1&Ft&&(i.TgZ(0,"div",22)(1,"app-icon",0),i._uU(2,"close"),i.qZA(),i.TgZ(3,"p"),i._uU(4,"No spaces"),i.qZA()())}function be(Ft,Bt){1&Ft&&(i.TgZ(0,"div",23),i._UZ(1,"mat-spinner",24),i.TgZ(2,"p"),i._uU(3,"Finding available spaces..."),i.qZA()())}class Ue extends u.KG{constructor(Bt,vt,sn){super(),this._org=Bt,this._settings=vt,this._data=sn,this.event=new i.vpe,this.spaces=[...this._data.spaces||[]],this.building=new s.X(null),this.space_types=[],this.available_spaces=(0,r.aj)([this.building]).pipe((0,o.w)(([Zt])=>(this.loading=!0,(0,w.mD)({zone_ids:Zt?.id,period_start:(0,P.Z)(this._data.date),period_end:(0,P.Z)((0,g.Z)(this._data.date,this._data.duration))}))),(0,S.d)(1)),this.filtered_spaces=this.available_spaces.pipe((0,I.U)(Zt=>(0,R.TJ)(Zt,{...this._data,host:(0,u.ar)()},this._org.building.booking_rules)),(0,x.b)(()=>this.loading=!1))}get buildings(){return this._org.buildings}get multiple(){return!!this._settings.get("app.events.multiple_spaces")}get space_map(){const Bt={};return this.spaces.forEach(vt=>Bt[vt.id]=!0),Bt}ngOnInit(){this.building.next(this._org.building||this.buildings[0]),this.subscription("spaces",this.filtered_spaces.subscribe(Bt=>Bt))}spaceSelected(Bt){this.multiple?this.space_map[Bt.id]||this.spaces.push(Bt):(this.spaces=[Bt],this.save())}save(){this.event.emit({reason:"done",metadata:this.spaces})}}Ue.\u0275fac=function(Bt){return new(Bt||Ue)(i.Y36(M.w7),i.Y36(u.gb),i.Y36(y.eJ))},Ue.\u0275cmp=i.Xpm({type:Ue,selectors:[["a-space-select-modal"]],outputs:{event:"event"},features:[i.qOj],decls:19,vars:7,consts:[[1,"text-3xl"],[1,"text-xl","font-semibold","flex-1"],["mat-icon-button","","mat-dialog-close",""],["appearance","outline",4,"ngIf"],[1,"body",2,"width","32rem"],[4,"ngIf","ngIfElse"],["class","space-list",3,"show",4,"ngIf"],[4,"ngIf"],["empty_state",""],["load_state",""],["appearance","outline"],["name","booking-type","placeholder","Select building",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","booking-type","placeholder","Any space type",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","available",3,"space","multiple","click",4,"ngIf"],["type","available",3,"space","multiple","click"],[1,"space-list"],["type","selected",3,"space","multiple",4,"ngFor","ngForOf"],["type","selected",3,"space","multiple"],["mat-button","",3,"click"],["empty","",1,"p-16","flex","flex-col","items-center","space-y-2"],["load","",1,"p-16","flex","flex-col","items-center","space-y-2"],["diameter","48"]],template:function(Bt,vt){if(1&Bt&&(i.TgZ(0,"header")(1,"app-icon",0),i._uU(2,"place"),i.qZA(),i.TgZ(3,"div",1),i._uU(4),i.qZA(),i.TgZ(5,"button",2)(6,"app-icon",0),i._uU(7,"close"),i.qZA()()(),i.TgZ(8,"main"),i.YNc(9,V,3,2,"mat-form-field",3),i.YNc(10,ie,3,2,"mat-form-field",3),i.TgZ(11,"div",4),i.YNc(12,Ie,3,4,"ng-container",5),i.YNc(13,Ve,2,4,"div",6),i.qZA(),i.YNc(14,Pe,3,1,"footer",7),i.YNc(15,xe,5,0,"ng-template",null,8,i.W1O),i.YNc(17,be,4,0,"ng-template",null,9,i.W1O),i.qZA()),2&Bt){const sn=i.MAs(18);i.xp6(4),i.hij(" Select space",vt.multiple?"s":""," "),i.xp6(5),i.Q6J("ngIf",vt.buildings&&vt.buildings.length>1),i.xp6(1),i.Q6J("ngIf",vt.space_types&&vt.space_types.length>1),i.xp6(2),i.Q6J("ngIf",!vt.loading)("ngIfElse",sn),i.xp6(1),i.Q6J("ngIf",vt.multiple),i.xp6(1),i.Q6J("ngIf",vt.multiple)}},dependencies:[e.sg,e.O5,y.aO,_.o,F.CK,B.v_,H.x8,l.eB,$.sN,n.JJ,n.On,a,e.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.5em;width:100%;padding:0 .25em}.body[_ngcontent-%COMP%]{min-width:20rem;max-width:calc(100vw - 2rem);max-height:65vh;overflow:auto}"]});var He=t(6725),it=t(9136),je=t(2581);function Be(Ft,Bt){if(1&Ft&&i._UZ(0,"image-carousel",21),2&Ft){const vt=i.oxw(2);i.Q6J("images",vt.space.images)}}function lt(Ft,Bt){if(1&Ft&&(i.TgZ(0,"div",12)(1,"p"),i.SDv(2,25),i.qZA()()),2&Ft){const vt=Bt.$implicit;i.xp6(2),i.pQV(vt),i.QtT(2)}}function Ye(Ft,Bt){if(1&Ft&&(i.TgZ(0,"section",22)(1,"h2",10),i.SDv(2,23),i.qZA(),i.YNc(3,lt,3,1,"div",24),i.qZA()),2&Ft){const vt=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",vt.space.features)}}const et=function(){return{disable_pan:!0,disable_zoom:!0}};function ot(Ft,Bt){if(1&Ft){const vt=i.EpF();i.ynx(0),i.TgZ(1,"section",2),i.YNc(2,Be,1,1,"image-carousel",3),i.TgZ(3,"button",4),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw();return i.KtG(Zt.close.emit())}),i.TgZ(4,"app-icon"),i._uU(5,"arrow_back"),i.qZA()(),i.TgZ(6,"button",5),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw();return i.KtG(Zt.toggleFav.emit())}),i.TgZ(7,"app-icon"),i._uU(8),i.qZA()()(),i.TgZ(9,"div",6)(10,"section",7)(11,"h2",8),i._uU(12),i.qZA()(),i._UZ(13,"hr"),i.TgZ(14,"section",9)(15,"h2",10),i.SDv(16,11),i.qZA(),i.TgZ(17,"div",12)(18,"app-icon"),i._uU(19,"people"),i.qZA(),i.TgZ(20,"p"),i.SDv(21,13),i.qZA()(),i.TgZ(22,"div",12)(23,"app-icon"),i._uU(24,"meeting_room"),i.qZA(),i.TgZ(25,"p"),i._uU(26),i.qZA()(),i.TgZ(27,"div",12)(28,"app-icon"),i._uU(29,"place"),i.qZA(),i.TgZ(30,"p"),i._uU(31),i.qZA()()(),i._UZ(32,"hr"),i.YNc(33,Ye,4,1,"section",14),i.TgZ(34,"section",15),i._UZ(35,"interactive-map",16),i.qZA()(),i.TgZ(36,"div",17)(37,"button",18),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw();return Zt.active=!Zt.active,i.KtG(Zt.activeChange.emit(Zt.active))}),i.TgZ(38,"div",19)(39,"app-icon",20),i._uU(40),i.qZA(),i.TgZ(41,"p"),i._uU(42),i.qZA()()()(),i.BQk()}if(2&Ft){const vt=i.oxw();i.xp6(1),i.ekj("sm:h-40",null==vt.space.images?null:vt.space.images.length)("h-64",null==vt.space.images?null:vt.space.images.length)("sm:h-0",!(null!=vt.space.images&&vt.space.images.length))("h-12",!(null!=vt.space.images&&vt.space.images.length))("!bg-transparent",!(null!=vt.space.images&&vt.space.images.length)),i.xp6(1),i.Q6J("ngIf",null==vt.space.images?null:vt.space.images.length),i.xp6(4),i.ekj("text-white",!vt.fav)("text-blue-400",vt.fav),i.xp6(2),i.Oqu(vt.fav?"favorite":"favorite_border"),i.xp6(4),i.hij(" ",vt.space.display_name||vt.space.name," "),i.xp6(9),i.pQV(vt.space.capacity),i.QtT(21),i.xp6(5),i.hij(" ",(null==vt.level?null:vt.level.display_name)||(null==vt.level?null:vt.level.name)," "),i.xp6(5),i.hij(" ",(null==vt.building?null:vt.building.address)||(null==vt.building?null:vt.building.display_name)||(null==vt.building?null:vt.building.name)," "),i.xp6(2),i.Q6J("ngIf",null==vt.space.features?null:vt.space.features.length),i.xp6(2),i.Q6J("src",vt.map_url)("features",vt.features)("options",i.DdM(28,et)),i.xp6(2),i.ekj("inverse",vt.active),i.xp6(3),i.Oqu(vt.active?"remove":"add"),i.xp6(2),i.hij(" ",vt.active?"Remove this room":"Add this room"," ")}}function ge(Ft,Bt){1&Ft&&(i.TgZ(0,"div",26)(1,"p",27),i.SDv(2,28),i.qZA()())}class we{constructor(Bt){this._org=Bt,this.fav=!1,this.active=!1,this.activeChange=new i.vpe,this.close=new i.vpe,this.toggleFav=new i.vpe,this.map_url="",this.features=[]}get level(){return this._org.levelWithID(this.space?.zones)||this.space?.level}get building(){return this._org.buildings.find(Bt=>this.space?.zones.includes(Bt.id))}ngOnChanges(Bt){Bt.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:He.qL}]}}we.\u0275fac=function(Bt){return new(Bt||we)(i.Y36(M.w7))},we.\u0275cmp=i.Xpm({type:we,selectors:[["space-details"]],inputs:{space:"space",fav:"fav",active:"active"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[i.TTD],decls:3,vars:2,consts:function(){let Ft,Bt,vt,sn,Zt;return Ft=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,Bt=$localize`:␟2fe5caca246424da5e7fcee12a1fe341335e1286␟2731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,vt=$localize`:␟45b5b90d7df8adeb648858761739fa700117c0d5␟3223773701700202859:Room Facilities`,sn=$localize`:␟9a6f64944a2acf1f8315f9ffac43e3fe58bac31f␟1353747351482281557:${"\ufffd0\ufffd"}:INTERPOLATION:`,Zt=$localize`:␟02434c6ff0f41cc7f311ace51ce0787ae315e5fb␟5676660199414904214: Select a room to view it's details `,[[4,"ngIf","ngIfElse"],["empty_state",""],["image","",1,"relative","w-full","bg-black/20"],["class","absolute inset-0",3,"images",4,"ngIf"],["mat-icon-button","","close","",1,"absolute","top-2","left-2","bg-black/40","sm:hidden","text-white",3,"click"],["mat-icon-button","","fav","",1,"absolute","top-2","right-2","bg-black/40",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],Ft,[1,"flex","items-center","space-x-2"],Bt,["facilities","","class","space-y-2",4,"ngIf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-gray-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","features","options"],[1,"p-2","border-t","border-gray-200","shadow","sm:hidden"],["mat-button","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2"],vt,["class","flex items-center space-x-2",4,"ngFor","ngForOf"],sn,["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],Zt]},template:function(Bt,vt){if(1&Bt&&(i.YNc(0,ot,43,29,"ng-container",0),i.YNc(1,ge,3,0,"ng-template",null,1,i.W1O)),2&Bt){const sn=i.MAs(2);i.Q6J("ngIf",vt.space)("ngIfElse",sn)}},dependencies:[e.sg,e.O5,_.o,it.p,je.K,l.eB],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]});var me=t(1299);function fe(Ft,Bt){1&Ft&&(i.TgZ(0,"div",21)(1,"app-icon"),i._uU(2,"done"),i.qZA()())}function Z(Ft,Bt){if(1&Ft&&i._UZ(0,"img",22),2&Ft){const vt=i.oxw().$implicit;i.Q6J("src",vt.images[0],i.LSH)}}function ee(Ft,Bt){1&Ft&&i._UZ(0,"img",23)}function ue(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"li",9)(1,"button",10),i.NdJ("click",function(){const bn=i.CHM(vt).$implicit,rn=i.oxw(3);return i.KtG(rn.selectSpace(bn))}),i.TgZ(2,"div",11),i.YNc(3,fe,3,0,"div",12),i.YNc(4,Z,1,1,"img",13),i.YNc(5,ee,1,0,"ng-template",null,14,i.W1O),i.qZA(),i.TgZ(7,"div",15)(8,"div",16),i._uU(9),i.qZA(),i.TgZ(10,"div",17)(11,"app-icon",18),i._uU(12,"place"),i.qZA(),i.TgZ(13,"p"),i._uU(14),i.qZA()(),i.TgZ(15,"div",17)(16,"app-icon",18),i._uU(17,"people"),i.qZA(),i.TgZ(18,"p"),i.SDv(19,19),i.qZA()()()(),i.TgZ(20,"button",20),i.NdJ("click",function(){const bn=i.CHM(vt).$implicit,rn=i.oxw(3);return i.KtG(rn.toggleFav.emit(bn))}),i.TgZ(21,"app-icon"),i._uU(22),i.qZA()()()}if(2&Ft){const vt=Bt.$implicit,sn=i.MAs(6),Zt=i.oxw(3);let bn;i.ekj("!border-blue-400",Zt.active===vt.id),i.xp6(3),i.Q6J("ngIf",Zt.selected.includes(vt.id)),i.xp6(1),i.Q6J("ngIf",null==vt.images?null:vt.images.length)("ngIfElse",sn),i.xp6(5),i.hij(" ",vt.display_name||vt.name||"Meeting Space"," "),i.xp6(5),i.hij(" ",vt.location||(null==(bn=Zt.level(vt.zones))?null:bn.display_name)||(null==(bn=Zt.level(vt.zones))?null:bn.name)," "),i.xp6(5),i.pQV(vt.capacity<1?2:vt.capacity),i.QtT(19),i.xp6(1),i.ekj("text-blue-400",Zt.isFavourite(vt.id)),i.xp6(2),i.Oqu(Zt.isFavourite(vt.id)?"favorite":"favorite_border")}}function Ce(Ft,Bt){if(1&Ft&&(i.TgZ(0,"ul",7),i.YNc(1,ue,23,11,"li",8),i.ALo(2,"async"),i.qZA()),2&Ft){const vt=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,vt.available_spaces))}}function pt(Ft,Bt){if(1&Ft&&(i.ynx(0),i.YNc(1,Ce,3,3,"ul",6),i.ALo(2,"async"),i.BQk()),2&Ft){const vt=i.oxw(),sn=i.MAs(8);let Zt;i.xp6(1),i.Q6J("ngIf",null==(Zt=i.lcZ(2,2,vt.available_spaces))?null:Zt.length)("ngIfElse",sn)}}function Ze(Ft,Bt){1&Ft&&(i.TgZ(0,"div",24)(1,"p",25),i.SDv(2,26),i.qZA()())}function ft(Ft,Bt){1&Ft&&(i.TgZ(0,"div",27),i._UZ(1,"mat-spinner",28),i.TgZ(2,"p",29),i.SDv(3,30),i.qZA()()),2&Ft&&(i.xp6(1),i.Q6J("diameter",32))}class Dt{constructor(Bt,vt){this._event_form=Bt,this._org=vt,this.active="",this.selected="",this.favorites=[],this.onSelect=new i.vpe,this.toggleFav=new i.vpe,this.loading=this._event_form.loading,this.available_spaces=this._event_form.available_spaces}level(Bt){return this._org.levelWithID(Bt)}ngOnInit(){this._event_form.setView("find")}isFavourite(Bt){return this.favorites.includes(Bt)}selectSpace(Bt){this.onSelect.emit(Bt)}}Dt.\u0275fac=function(Bt){return new(Bt||Dt)(i.Y36(me.MH),i.Y36(M.w7))},Dt.\u0275cmp=i.Xpm({type:Dt,selectors:[["space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:function(){let Ft,Bt,vt,sn;return Ft=$localize`:␟f3733dfad4477862079351d9f8cf60c7964cc3e3␟2290177789691483092: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,Bt=$localize`:␟08719ea79f574b595da7d187fda2fa8c491b5de7␟4552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,vt=$localize`:␟027c29534f5dc45741b226edfebb3f7f578384b0␟3831747985282777621: No available spaces for selected time and/or filters `,sn=$localize`:␟8dad32dda6491a1051df9156e98031c0e634b413␟126579492602011343:Finding available spaces...`,[[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],Ft,[4,"ngIf","ngIfElse"],["empty_state",""],["load_state",""],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-white dark:bg-neutral-700 border-gray-200 dark:border-neutral-500",3,"!border-blue-400",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-white","dark:bg-neutral-700","border-gray-200","dark:border-neutral-500"],["matRipple","","select","",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-black/20","dark:bg-white/30","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["class","object-cover h-full",3,"src",4,"ngIf","ngIfElse"],["space_placeholder",""],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],Bt,["mat-icon-button","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-white","bg-black/50","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],[1,"object-cover","h-full",3,"src"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],vt,["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],sn]},template:function(Bt,vt){if(1&Bt&&(i.TgZ(0,"h3",0),i._uU(1,"Results"),i.qZA(),i.TgZ(2,"p",1),i.SDv(3,2),i.ALo(4,"async"),i.qZA(),i.YNc(5,pt,3,4,"ng-container",3),i.ALo(6,"async"),i.YNc(7,Ze,3,0,"ng-template",null,4,i.W1O),i.YNc(9,ft,4,1,"ng-template",null,5,i.W1O)),2&Bt){const sn=i.MAs(10);let Zt;i.xp6(4),i.pQV((null==(Zt=i.lcZ(4,3,vt.available_spaces))?null:Zt.length)||0),i.QtT(3),i.xp6(1),i.Q6J("ngIf",!i.lcZ(6,5,vt.loading))("ngIfElse",sn)}},dependencies:[e.sg,e.O5,_.o,l.eB,$.sN,e.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]});var At=t(9671),Wt=t(2986),Et=t(73),nt=t(2329),ct=t(1022),Xe=t(7303);function Ke(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"button",38),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw();return i.KtG(Zt.close())}),i.TgZ(1,"app-icon"),i._uU(2,"keyboard_arrow_left"),i.qZA()()}}function rt(Ft,Bt){if(1&Ft&&(i.TgZ(0,"mat-option",40),i._uU(1),i.qZA()),2&Ft){const vt=Bt.$implicit;i.Q6J("value",vt),i.xp6(1),i.hij(" ",vt.display_name||vt.name," ")}}const le=function(){return{standalone:!0}};function te(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"mat-form-field",14)(1,"mat-select",39),i.NdJ("ngModelChange",function(Zt){i.CHM(vt);const bn=i.oxw();return i.KtG(bn.setBuilding(Zt))}),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.YNc(5,rt,2,2,"mat-option",16),i.ALo(6,"async"),i.qZA()()}if(2&Ft){const vt=i.oxw();let sn;i.xp6(1),i.Q6J("ngModel",i.lcZ(2,4,vt.building))("ngModelOptions",i.DdM(12,le))("placeholder",(null==(sn=i.lcZ(3,6,vt.building))?null:sn.display_name)||(null==(sn=i.lcZ(4,8,vt.building))?null:sn.name)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(6,10,vt.buildings))}}function J(Ft,Bt){if(1&Ft&&(i.TgZ(0,"mat-option",40),i._uU(1),i.qZA()),2&Ft){const vt=Bt.$implicit;i.Q6J("value",vt.id),i.xp6(1),i.hij(" ",vt.display_name||vt.name," ")}}function ne(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"div",32)(1,"div",44),i._uU(2),i.qZA(),i.TgZ(3,"mat-checkbox",45),i.NdJ("ngModelChange",function(Zt){const rn=i.CHM(vt).$implicit,Yt=i.oxw(2);return i.KtG(Yt.toggleFeature(rn,Zt))}),i.ALo(4,"async"),i.qZA()()}if(2&Ft){const vt=Bt.$implicit,sn=i.oxw(2);let Zt;i.xp6(2),i.Oqu(vt),i.xp6(1),i.Q6J("ngModel",null==(Zt=i.lcZ(4,3,sn.options))||null==Zt.features?null:Zt.features.includes(vt))("ngModelOptions",i.DdM(5,le))}}function $e(Ft,Bt){if(1&Ft&&(i.TgZ(0,"section",41)(1,"h2",8),i.SDv(2,42),i.qZA(),i.YNc(3,ne,5,6,"div",43),i.ALo(4,"async"),i.qZA()),2&Ft){const vt=i.oxw();i.xp6(3),i.Q6J("ngForOf",i.lcZ(4,1,vt.features))}}function Qe(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"div",46)(1,"button",47),i.NdJ("click",function(){i.CHM(vt);const Zt=i.oxw();return i.KtG(Zt.close())}),i.SDv(2,48),i.qZA()()}}class Tt{constructor(Bt,vt,sn,Zt,bn){this._bsheet_ref=Bt,this._settings=vt,this._event_form=sn,this._org=Zt,this._spaces=bn,this.can_close=!1,this.options=this._event_form.options,this.building=this._org.active_building,this.buildings=this._org.active_buildings,this.levels=this._org.active_levels,this.features=(0,r.aj)([this._spaces.features,this._event_form.available_spaces]).pipe((0,I.U)(([rn,Yt])=>(0,u.Tw)(rn.concat((0,u.xH)(Yt.map(Qt=>Qt.features)))))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=rn=>this._event_form.setOptions(rn),this.can_close=!!this._bsheet_ref}get bld(){return this._org.building}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}setBuilding(Bt){this._org.building=Bt}toggleFeature(Bt,vt){var sn=this;return(0,At.Z)(function*(){const{features:Zt}=yield sn.options.pipe((0,Wt.q)(1)).toPromise(),bn=(Zt||[]).filter(rn=>Bt!==rn);vt&&bn.push(Bt),sn.setOptions({features:bn})})()}}function zt(Ft,Bt){if(1&Ft&&(i.TgZ(0,"div",15),i._uU(1),i.qZA()),2&Ft){const vt=i.oxw();i.xp6(1),i.hij(" ",vt.location," ")}}function cn(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"div",16)(1,"p"),i._uU(2),i.qZA(),i.TgZ(3,"button",17),i.NdJ("click",function(){const bn=i.CHM(vt).$implicit,rn=i.oxw();return i.KtG(rn.removeFeature(bn))}),i.TgZ(4,"app-icon"),i._uU(5,"close"),i.qZA()()()}if(2&Ft){const vt=Bt.$implicit;i.xp6(2),i.Oqu(vt)}}Tt.\u0275fac=function(Bt){return new(Bt||Tt)(i.Y36(T.oL,8),i.Y36(u.gb),i.Y36(me.MH),i.Y36(M.w7),i.Y36(Et.s))},Tt.\u0275cmp=i.Xpm({type:Tt,selectors:[["space-filters"]],decls:48,vars:28,consts:function(){let Ft,Bt,vt,sn,Zt,bn,rn,Yt,Qt,An,Bn,Wn;return Ft=$localize`:␟36173168a4643aa78634e9242a63f3a40862f166␟7173310086383878456:Space Filters`,Bt=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,vt=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,sn=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,Zt=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#23\ufffd"}:START_TAG_SPAN:*${"\ufffd/#23\ufffd"}:CLOSE_TAG_SPAN:`,bn=$localize`:␟e06c2195d60fdee7b259bd3ff16eb3d594c42b2b␟608708688936992021: Date and time must be in the future `,rn=$localize`:␟34a7595cdc15925514038224946986bfd90dc0ed␟3039786638368843634:Start Time${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,Yt=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#35\ufffd"}:START_TAG_SPAN:*${"\ufffd/#35\ufffd"}:CLOSE_TAG_SPAN:`,Qt=$localize`:␟62ab0c2bf8d16ce7baf2c8b1da2c561d99522256␟4158925728608139729:Favourites`,An=$localize`:␟64dc5274bb451e0bc87364fdef63900f455761b5␟2590702019173151412: Only show favourite rooms `,Bn=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,Wn=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[[1,"flex","items-center","border-b","border-gray-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["mat-icon-button","","close","",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],Ft,[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-gray-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],Bt,[1,"flex-1","min-w-[256px]","flex","flex-col"],["for","location"],vt,["appearance","outline","class","w-full",4,"ngIf"],["appearance","outline",1,"w-full"],["name","location","placeholder",sn,3,"ngModel","ngModelOptions","multiple","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-1","min-w-[256px]"],["for","date"],Zt,["name","date","formControlName","date"],bn,[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],rn,["name","start-time",3,"ngModel","ngModelOptions","ngModelChange"],["for","end-time"],Yt,["name","end-time","formControlName","duration",3,"time","max"],["favs","",1,"space-y-2","pb-4"],Qt,[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],An,["name","fav",3,"ngModel","ngModelOptions","ngModelChange"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-gray-200",4,"ngIf"],["mat-icon-button","","close","",3,"click"],["name","building",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value"],["features","",1,"space-y-2"],Bn,["class","flex items-center",4,"ngFor","ngForOf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModel","ngModelOptions","ngModelChange"],[1,"px-2","pt-2","w-full","border-t","border-gray-200"],["mat-button","","close","",1,"w-full",3,"click"],Wn]},template:function(Bt,vt){if(1&Bt&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,Ke,3,0,"button",2),i.qZA(),i.TgZ(3,"h3",3),i.SDv(4,4),i.qZA(),i._UZ(5,"div",5),i.qZA(),i.TgZ(6,"form",6)(7,"section",7)(8,"h2",8),i.SDv(9,9),i.qZA(),i.TgZ(10,"div",10)(11,"label",11),i.SDv(12,12),i.qZA(),i.YNc(13,te,7,13,"mat-form-field",13),i.ALo(14,"async"),i.TgZ(15,"mat-form-field",14)(16,"mat-select",15),i.NdJ("ngModelChange",function(Zt){return vt.setOptions({zone_ids:Zt})}),i.ALo(17,"async"),i.YNc(18,J,2,2,"mat-option",16),i.ALo(19,"async"),i.qZA()()(),i.TgZ(20,"div",17)(21,"label",18),i.tHW(22,19),i._UZ(23,"span"),i.N_p(),i.qZA(),i.TgZ(24,"a-date-field",20),i.SDv(25,21),i.qZA()(),i.TgZ(26,"div",22)(27,"div",23)(28,"label",24),i.tHW(29,25),i._UZ(30,"span"),i.N_p(),i.qZA(),i.TgZ(31,"a-time-field",26),i.NdJ("ngModelChange",function(Zt){return vt.form.patchValue({date:Zt})}),i.qZA()(),i.TgZ(32,"div",23)(33,"label",27),i.tHW(34,28),i._UZ(35,"span"),i.N_p(),i.qZA(),i._UZ(36,"a-duration-field",29),i.qZA()()(),i.TgZ(37,"section",30)(38,"h2",8),i.SDv(39,31),i.qZA(),i.TgZ(40,"div",32)(41,"div",33),i.SDv(42,34),i.qZA(),i.TgZ(43,"mat-checkbox",35),i.NdJ("ngModelChange",function(Zt){return vt.setOptions({show_fav:Zt})}),i.ALo(44,"async"),i.qZA()()(),i.YNc(45,$e,5,3,"section",36),i.ALo(46,"async"),i.qZA(),i.YNc(47,Qe,3,0,"div",37)),2&Bt){let sn,Zt,bn,rn;i.xp6(2),i.Q6J("ngIf",vt.can_close),i.xp6(4),i.Q6J("formGroup",vt.form),i.xp6(7),i.Q6J("ngIf",(null==(sn=i.lcZ(14,15,vt.buildings))?null:sn.length)>1),i.xp6(3),i.Q6J("ngModel",null==(Zt=i.lcZ(17,17,vt.options))?null:Zt.zone_ids)("ngModelOptions",i.DdM(25,le))("multiple",!0),i.xp6(2),i.Q6J("ngForOf",i.lcZ(19,19,vt.levels)),i.xp6(13),i.Q6J("ngModel",vt.form.value.date)("ngModelOptions",i.DdM(26,le)),i.xp6(5),i.Q6J("time",null==vt.form||null==vt.form.value?null:vt.form.value.date)("max",vt.max_duration),i.xp6(7),i.Q6J("ngModel",null==(bn=i.lcZ(44,21,vt.options))?null:bn.show_fav)("ngModelOptions",i.DdM(27,le)),i.xp6(2),i.Q6J("ngIf",null==(rn=i.lcZ(46,23,vt.features))?null:rn.length),i.xp6(2),i.Q6J("ngIf",vt.can_close)}},dependencies:[e.sg,e.O5,_.o,F.CK,B.v_,H.x8,l.eB,nt.Q,ct.B,Xe.N,v.FC,n._Y,n.JJ,n.JL,n.On,n.sg,n.u,e.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]});class an extends u.KG{constructor(Bt,vt,sn){super(),this._bsheet=Bt,this._event_form=vt,this._org=sn,this.view="list",this.viewChange=new i.vpe,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(Tt)}get start(){return this._event_form.form.value.date}get end(){const{date:Bt,duration:vt}=this._event_form.form.value;return Bt+60*vt*1e3}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:Bt})=>this._updateLocation(Bt)))}removeFeature(Bt){var vt=this;return(0,At.Z)(function*(){const sn=yield vt._event_form.options.pipe((0,Wt.q)(1)).toPromise();vt._event_form.setOptions({...sn,features:(sn.features||[]).filter(Zt=>Zt!==Bt)})})()}_updateLocation(Bt=[]){const sn=this._org.levelWithID(Bt)||this._org.building;this.location=sn?.display_name||sn?.name||""}}an.\u0275fac=function(Bt){return new(Bt||an)(i.Y36(T.ch),i.Y36(me.MH),i.Y36(M.w7))},an.\u0275cmp=i.Xpm({type:an,selectors:[["space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[i.qOj],decls:22,vars:23,consts:function(){let Ft,Bt,vt,sn;return Ft=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,Bt=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,vt=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,sn=$localize`:␟dfdd3d7879401ba6edca2e5198df414f15c112c2␟5300384898733875729: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["mat-button","","filters","",1,"flex-1","w-1/2",3,"click"],Ft,[1,"flex","items-center"],["mat-button","","map","",1,"rounded-l","rounded-r-none",3,"click"],Bt,["mat-button","","list","",1,"rounded-r","rounded-l-none",3,"click"],vt,["filters","",1,"flex","items-center","flex-wrap","p-2"],["filter-item","","zone","","class","dark:border-neutral-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-neutral-500"],["filter-item","","time","",1,"dark:border-neutral-500"],["filter-item","","count","",1,"dark:border-neutral-500"],sn,["filter-item","",4,"ngFor","ngForOf"],["filter-item","","zone","",1,"dark:border-neutral-500"],["filter-item",""],["mat-icon-button","",1,"-mr-4","dark:border-neutral-500",3,"click"]]},template:function(Bt,vt){if(1&Bt&&(i.TgZ(0,"section",0)(1,"button",1),i.NdJ("click",function(){return vt.editFilters()}),i.SDv(2,2),i.qZA(),i.TgZ(3,"div",3)(4,"button",4),i.NdJ("click",function(){return vt.view="map",vt.viewChange.emit(vt.view)}),i.SDv(5,5),i.qZA(),i.TgZ(6,"button",6),i.NdJ("click",function(){return vt.view="list",vt.viewChange.emit(vt.view)}),i.SDv(7,7),i.qZA()()(),i.TgZ(8,"section",8),i.YNc(9,zt,2,1,"div",9),i.TgZ(10,"div",10),i._uU(11),i.ALo(12,"date"),i.qZA(),i.TgZ(13,"div",11),i._uU(14),i.ALo(15,"date"),i.ALo(16,"date"),i.qZA(),i.TgZ(17,"div",12),i.SDv(18,13),i.ALo(19,"async"),i.qZA(),i.YNc(20,cn,6,1,"div",14),i.ALo(21,"async"),i.qZA()),2&Bt){let sn,Zt;i.xp6(4),i.ekj("inverse","map"!==vt.view),i.xp6(2),i.ekj("inverse","list"!==vt.view),i.xp6(3),i.Q6J("ngIf",vt.location),i.xp6(2),i.hij(" ",i.xi3(12,10,vt.start,"mediumDate")," "),i.xp6(3),i.AsE(" ",i.xi3(15,13,vt.start,"shortTime")," \u2014 ",i.xi3(16,16,vt.end,"shortTime")," "),i.xp6(5),i.pQV((null==(sn=i.lcZ(19,19,vt.options))?null:sn.capacity)||2),i.QtT(18),i.xp6(1),i.Q6J("ngForOf",null==(Zt=i.lcZ(21,21,vt.options))?null:Zt.features)}},dependencies:[e.sg,e.O5,_.o,l.eB,e.Ov,e.uU],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.1)}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]});var vn=t(13);function Dn(Ft,Bt){1&Ft&&i._UZ(0,"div",16)}function Tn(Ft,Bt){1&Ft&&(i.TgZ(0,"app-icon",17),i._uU(1," done "),i.qZA())}class Pn{constructor(Bt){this._data=Bt}get selected(){return!0===this._data.selected}}function Rn(Ft,Bt){if(1&Ft){const vt=i.EpF();i.TgZ(0,"i-map",10),i.NdJ("zoomChange",function(Zt){i.CHM(vt);const bn=i.oxw();return i.KtG(bn.zoom=Zt)})("centerChange",function(Zt){i.CHM(vt);const bn=i.oxw();return i.KtG(bn.center=Zt)}),i.ALo(1,"async"),i.ALo(2,"async"),i.qZA()}if(2&Ft){const vt=i.oxw();i.Q6J("src",vt.map_url)("features",i.lcZ(1,5,vt.features))("actions",i.lcZ(2,7,vt.actions))("zoom",vt.zoom)("center",vt.center)}}function wt(Ft,Bt){if(1&Ft&&(i.TgZ(0,"mat-option",11),i._uU(1),i.qZA()),2&Ft){const vt=Bt.$implicit;i.Q6J("value",vt),i.xp6(1),i.hij(" ",vt.display_name||vt.name," ")}}Pn.\u0275fac=function(Bt){return new(Bt||Pn)(i.Y36(He.ui))},Pn.\u0275cmp=i.Xpm({type:Pn,selectors:[["space-location-pin"]],decls:17,vars:2,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","66","height","80","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","fill","#309251","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-white border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-white","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(Bt,vt){1&Bt&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1)(2,"g",2),i._UZ(3,"path",3),i.qZA(),i.TgZ(4,"defs")(5,"filter",4),i._UZ(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),i.qZA()()(),i.kcU(),i.TgZ(14,"div",13),i.YNc(15,Dn,1,0,"div",14),i.YNc(16,Tn,2,0,"app-icon",15),i.qZA()()),2&Bt&&(i.xp6(15),i.Q6J("ngIf",!vt.selected),i.xp6(1),i.Q6J("ngIf",vt.selected))},dependencies:[e.O5,_.o],encapsulation:2});class St extends u.KG{constructor(Bt,vt){super(),this._event_form=Bt,this._org=vt,this.selected=[],this.is_displayed=!1,this.onSelect=new i.vpe,this.zoom=1,this.center={x:.5,y:.5},this._seletedSpace=sn=>()=>this.onSelect.emit(sn),this.level=null,this.levels=this._event_form.available_spaces.pipe((0,I.U)(sn=>(0,u.Tw)(sn.map(({zones:Zt})=>this._org.levelWithID(Zt)),"id")),(0,x.b)(sn=>this.level=this.level?this.level:sn[0])),this.features=this._event_form.available_spaces.pipe((0,vn.b)(1e3),(0,I.U)(sn=>sn.map(Zt=>({location:Zt.map_id,content:Pn,data:{...Zt,selected:this.selected.includes(Zt.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,I.U)(sn=>sn.map(Zt=>({id:Zt.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(Zt)}))))}get map_url(){return this.level?.map_id||""}ngOnInit(){this.subscription("levels_update",this.levels.subscribe(Bt=>{Bt.find(vt=>vt.id===this.level?.id)||(this.level=Bt[0])}))}setZoom(Bt){this.zoom=Math.max(.5,Math.min(10,Bt))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}}St.\u0275fac=function(Bt){return new(Bt||St)(i.Y36(me.MH),i.Y36(M.w7))},St.\u0275cmp=i.Xpm({type:St,selectors:[["space-map"]],inputs:{selected:"selected",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[i.qOj],decls:18,vars:5,consts:[[3,"src","features","actions","zoom","center","zoomChange","centerChange",4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-white","p-2","border-b","border-gray-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["zoom","",1,"absolute","bottom-2","right-2","rounded-lg","border","border-gray-200","bg-white","flex","flex-col","overflow-hidden"],["zoom-in","","mat-icon-button","",3,"click"],[1,"border-t","border-gray-200","w-full"],["zoom-out","","mat-icon-button","",3,"click"],["reset","","mat-icon-button","",3,"click"],[3,"src","features","actions","zoom","center","zoomChange","centerChange"],[3,"value"]],template:function(Bt,vt){1&Bt&&(i.YNc(0,Rn,3,9,"i-map",0),i.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),i.NdJ("ngModelChange",function(Zt){return vt.level=Zt}),i.YNc(4,wt,2,2,"mat-option",4),i.ALo(5,"async"),i.qZA()()(),i.TgZ(6,"div",5)(7,"button",6),i.NdJ("click",function(){return vt.setZoom(1.1*vt.zoom)}),i.TgZ(8,"app-icon"),i._uU(9,"zoom_in"),i.qZA()(),i._UZ(10,"div",7),i.TgZ(11,"button",8),i.NdJ("click",function(){return vt.setZoom(vt.zoom*(1/1.1))}),i.TgZ(12,"app-icon"),i._uU(13,"zoom_out"),i.qZA()(),i._UZ(14,"div",7),i.TgZ(15,"button",9),i.NdJ("click",function(){return vt.resetMap()}),i.TgZ(16,"app-icon"),i._uU(17,"refresh"),i.qZA()()()),2&Bt&&(i.Q6J("ngIf",!vt.is_displayed),i.xp6(3),i.Q6J("ngModel",vt.level),i.xp6(1),i.Q6J("ngForOf",i.lcZ(5,3,vt.levels)))},dependencies:[e.sg,e.O5,_.o,it.p,F.CK,B.v_,H.x8,l.eB,n.JJ,n.On,e.Ov],styles:["[_nghost-%COMP%]{position:relative;background:rgba(0,0,0,.05);padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]}),t(6198);class en{}en.\u0275fac=function(Bt){return new(Bt||en)},en.\u0275mod=i.oAB({type:en}),en.\u0275inj=i.cJS({imports:[e.ez,y.yj,O.K,C.W,T._r,v.Zh,n.u5,n.UX]}),i.B6R(E.$,[e.O5,y.aO,_.o,l.eB,we,Dt,Tt,an,St],[]);var En=t(8840)},9164:(Je,K,t)=>{"use strict";t.d(K,{$:()=>E});var e=t(5559),n=t(8368),y=t(5804),T=t(6353);function v(i,f){if(1&i){const _=T.EpF();T.TgZ(0,"space-list",29),T.NdJ("toggleFav",function(m){T.CHM(_);const h=T.oxw();return T.KtG(h.toggleFavourite(m))})("onSelect",function(m){T.CHM(_);const h=T.oxw();return T.KtG(h.displayed=m)}),T.qZA()}if(2&i){const _=T.oxw();T.Q6J("active",null==_.displayed?null:_.displayed.id)("selected",_.selected_ids)("favorites",_.favorites)}}function O(i,f){if(1&i){const _=T.EpF();T.TgZ(0,"button",30),T.NdJ("click",function(){T.CHM(_);const m=T.oxw();return T.KtG(m.displayed=null)}),T.SDv(1,31),T.qZA()}}function C(i,f){if(1&i){const _=T.EpF();T.TgZ(0,"space-map",32),T.NdJ("onSelect",function(m){T.CHM(_);const h=T.oxw();return T.KtG(h.displayed=m)}),T.qZA()}if(2&i){const _=T.oxw();T.Q6J("selected",_.selected_ids)("is_displayed",!!_.displayed)}}class E{constructor(f,_,l,m){this._dialog_ref=f,this._settings=_,this._event_form=l,this.selected=[],this.view="list",this.selected=[...m.spaces||[]],this._event_form.setOptions(m.options)}get selected_ids(){return this.selected.map(f=>f.id).join(",")}get favorites(){return this._settings.get("favourite_spaces")||[]}isSelected(f){return f&&this.selected_ids.includes(f)}setSelected(f,_){const l=this.selected.filter(m=>m.id!==f.id);_&&l.push(f),this.selected=l,!this._settings.get("app.events.allow_multiple_spaces")&&_&&this._dialog_ref.close([f])}toggleFavourite(f){const _=this.favorites;_.includes(f.id)?this._settings.saveUserSetting("favourite_spaces",_.filter(m=>m!==f.id)):this._settings.saveUserSetting("favourite_spaces",[..._,f.id])}}E.\u0275fac=function(f){return new(f||E)(T.Y36(e.hV),T.Y36(n.gb),T.Y36(y.M),T.Y36(e.eJ))},E.\u0275cmp=T.Xpm({type:E,selectors:[["new-space-select-modal"]],decls:41,vars:25,consts:function(){let i,f,_,l,m,h;return i=$localize`:␟2a8f5812e693119f28847362c97c1924c4b5e2ad␟3245405487284732016:Find Space`,f=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,_=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,l=$localize`:␟7651117c4dcb18eb274657230a366a428c9a113b␟8164592885301950366: ${"\ufffd0\ufffd"}:INTERPOLATION: room(s) added `,m=$localize`:␟dcc99390d584222c26c42dcc780283ec695f2a20␟3584287470563179139:{VAR_SELECT, select, true {Remove
                            from Booking } false {Add to booking }}`,m=T.Zx4(m,{VAR_SELECT:"\ufffd0\ufffd"}),h=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[[1,"absolute","inset-0","sm:relative","sm:inset-none","flex","flex-col","bg-white","dark:bg-neutral-700"],[1,"flex","items-center","space-x-4","w-full"],["mat-icon-button","","mat-dialog-close","",1,"bg-black/20"],i,[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["mat-button","","map","",1,"rounded-l","rounded-r-none",3,"click"],["mat-button","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-gray-200","dark:divide-neutral-500","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-gray-200","dark:border-neutral-500",3,"view","viewChange"],["class","flex-1 h-1/2 bg-black/5 dark:bg-white/10",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-white","dark:bg-neutral-600","block",3,"space","active","fav","activeChange","toggleFav","close"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["mat-button","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],f,[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","",1,"clear","text-primary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],_,[1,"opacity-60","text-sm"],l,["mat-button","",3,"disabled","click"],["s","",1,"mr-1"],m,["map_view",""],[1,"flex-1","h-1/2","bg-black/5","dark:bg-white/10",3,"active","selected","favorites","toggleFav","onSelect"],["mat-button","","return","",1,"inverse","sm:hidden","w-full",3,"click"],h,[1,"flex-1","h-1/2","w-full",3,"selected","is_displayed","onSelect"]]},template:function(f,_){if(1&f&&(T.TgZ(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),T._uU(4,"close"),T.qZA()(),T.TgZ(5,"h3"),T.SDv(6,3),T.qZA(),T.TgZ(7,"div",4)(8,"button",5),T.NdJ("click",function(){return _.view="map"}),T._uU(9," Map "),T.qZA(),T.TgZ(10,"button",6),T.NdJ("click",function(){return _.view="list"}),T._uU(11," List "),T.qZA()()(),T.TgZ(12,"main",7),T._UZ(13,"space-filters",8),T.TgZ(14,"div",9)(15,"space-filters-display",10),T.NdJ("viewChange",function(m){return _.view=m}),T.qZA(),T.YNc(16,v,1,3,"space-list",11),T.qZA(),T.TgZ(17,"space-details",12),T.NdJ("activeChange",function(m){return _.setSelected(_.displayed,m)})("toggleFav",function(){return _.toggleFavourite(_.displayed)})("close",function(){return _.displayed=null}),T.qZA()(),T.TgZ(18,"footer",13),T.YNc(19,O,2,0,"button",14),T.TgZ(20,"button",15),T.SDv(21,16),T.qZA()(),T.TgZ(22,"footer",17)(23,"button",18)(24,"div",19)(25,"app-icon",20),T._uU(26,"arrow_back"),T.qZA(),T.TgZ(27,"div",21),T.SDv(28,22),T.qZA()()(),T.TgZ(29,"p",23),T.SDv(30,24),T.qZA(),T.TgZ(31,"button",25),T.NdJ("click",function(){return _.setSelected(_.displayed,!_.isSelected(null==_.displayed?null:_.displayed.id))}),T.TgZ(32,"div",19)(33,"app-icon",20),T._uU(34),T.qZA(),T.TgZ(35,"div",26),T._uU(36," "),T.SDv(37,27),T._uU(38," "),T.qZA()()()()(),T.YNc(39,C,1,2,"ng-template",null,28,T.W1O)),2&f){const l=T.MAs(40);T.xp6(8),T.ekj("inverse","map"!==_.view),T.xp6(2),T.ekj("inverse","list"!==_.view),T.xp6(5),T.Q6J("view",_.view),T.xp6(1),T.Q6J("ngIf","list"===_.view)("ngIfElse",l),T.xp6(1),T.ekj("hidden",!_.displayed)("inset-0",_.displayed),T.Q6J("space",_.displayed)("active",_.selected_ids.includes(null==_.displayed?null:_.displayed.id))("fav",_.displayed&&_.favorites.includes(null==_.displayed?null:_.displayed.id)),T.xp6(2),T.Q6J("ngIf",_.displayed),T.xp6(1),T.ekj("mb-2",_.displayed),T.Q6J("mat-dialog-close",_.selected),T.xp6(3),T.Q6J("mat-dialog-close",_.selected),T.xp6(7),T.pQV(_.selected.length),T.QtT(30),T.xp6(1),T.ekj("inverse",_.isSelected(null==_.displayed?null:_.displayed.id)),T.Q6J("disabled",!_.displayed),T.xp6(3),T.Oqu(_.isSelected(null==_.displayed?null:_.displayed.id)?"remove":"add"),T.xp6(3),T.pQV(_.isSelected(null==_.displayed?null:_.displayed.id)),T.QtT(37)}}})},656:(Je,K,t)=>{"use strict";t.d(K,{T:()=>n});var e=t(6221);class n{constructor(T={}){this.id=T.id||"",this.name=T.name||"",this.display_name=T.display_name||"",this.email=(T.email||"").toLowerCase(),this.capacity=T.capacity||-1,this.feature_list=T.feature_list||T.features||[],this.bookable=!!T.bookable,this.zones=T.zones||[],this.support_url=T.support_url||"",this.map_id=T.map_id||"",this.images=T.images||[],this.configurations=T.configurations||[],this.features=T.features||[],this.response_status=T.response_status,this.level=T.level||new e.Yo,this.availability=T.availability||[]}}},6198:(Je,K,t)=>{"use strict";t.d(K,{X:()=>i,z:()=>E});var e=t(9671),n=t(4351),y=t(565),T=t(656),v=t(6353);const O=[],C=new T.T;function E(f){for(const _ of f)O.find(({id:l})=>l===_.id)||O.push(_)}class i{constructor(_){this._org=_}transform(_){var l=this;return(0,e.Z)(function*(){const m=_?.includes("@");if(!_)return C;let h=O.find(({id:c,email:a})=>c===_||a===_);if(h)return h;if(!m){const c=yield(0,n.hMA)(_).toPromise().catch(a=>null);if(c)return h=new T.T({...c,level:l._org.levelWithID([...c.zones])}),O.push(h),h}const d=(yield(0,n.vIL)({q:_}).toPromise()).data;return 1===d.length?(h=new T.T({...d[0],level:l._org.levelWithID([...d[0].zones])}),O.push(h),h):C})()}updateSpaceList(_){E(_)}}i.\u0275fac=function(_){return new(_||i)(v.Y36(y.w,16))},i.\u0275pipe=v.Yjl({name:"space",type:i,pure:!0})},8840:(Je,K,t)=>{"use strict";t.d(K,{u:()=>f}),t(8368);var n=t(4351),y=t(4850),T=t(2994),v=t(5154),C=(t(9375),t(656)),E=t(6198);const i={};function f(m){return i[m]||(i[m]=(0,n.vIL)({zone_id:m,limit:500}).pipe((0,y.U)(h=>(h.data||[]).map(d=>new C.T(d))),(0,T.b)(h=>(0,E.z)(h)),(0,v.d)(1))),i[m]}},73:(Je,K,t)=>{"use strict";t.d(K,{s:()=>l});var e=t(9671),n=t(4351),y=t(4850),T=t(7224),v=t(591),O=t(6221),C=t(656),E=t(8368),i=t(6198),f=t(6353);let _;class l{constructor(h,d){this._org=h,this._settings=d,this._list=new v.X([]),this._initialised=new v.X(!1),this.initialised=this._initialised.asObservable(),this.list=this._list.asObservable(),this.features=this.list.pipe((0,y.U)(c=>(0,E.Tw)((0,E.xH)(c.map(a=>a.features))))),this._compare=c=>c.zones.includes(this._org.building.id),_=new i.X(h),this._init()}get space_list(){return this._list.getValue()}_init(){var h=this;return(0,e.Z)(function*(){yield h._org.initialised.pipe((0,T.P)(d=>d)).toPromise(),h._settings.get("app.prevent_space_init")?h._initialised.next(!0):h.loadSpaces()})()}filter(h=this._compare){return this._list.getValue().filter(d=>h(d))}loadSpace(h){var d=this;return(0,e.Z)(function*(){const c=yield(0,n.hMA)(h).toPromise(),a=new C.T({...c,level:d._org.levelWithID([...c.zones])});_.updateSpaceList([a])})()}find(h){return this._list.getValue().find(({id:d})=>h===d)}loadSpaces(){var h=this;return(0,e.Z)(function*(){const a=(yield(0,n.vIL)({zone_id:h._org.organisation.id,limit:5e3}).pipe((0,y.U)(s=>s.data)).toPromise()).map(s=>new C.T({...s,level:h._org.levelWithID([...s.zones])})).filter(s=>s.map_id);h._list.next(a),_.updateSpaceList(a),h._initialised.next(!0)})()}}l.\u0275fac=function(h){return new(h||l)(f.LFG(O.w7),f.LFG(E.gb))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})},3149:(Je,K,t)=>{"use strict";t.d(K,{u:()=>S,Y:()=>Me,PP:()=>_e,n5:()=>w.n5,VE:()=>Pe.VE,w0:()=>Pe.w0});var e=t(6895),n=t(4006),y=t(1343),T=t(6255),v=t(5559),O=t(74),C=t(4693),E=t(5844),l=(t(9645),t(9036),t(1060),t(5236)),m=t(8368),h=t(2641),d=t(9756),c=t(6353);const a=["container"];function s(xe,be){if(1&xe&&(c.TgZ(0,"div",26),c._UZ(1,"a-user-avatar",11),c.TgZ(2,"div",27),c._uU(3),c.qZA(),c.TgZ(4,"button",28)(5,"app-icon"),c._uU(6,"close"),c.qZA()(),c._UZ(7,"user-availability-list",13),c.qZA()),2&xe){const Ue=be.$implicit,He=c.oxw();c.xp6(1),c.Q6J("user",He.host),c.xp6(2),c.hij(" ",Ue.name||He.host.email," "),c.xp6(4),c.Q6J("user",Ue)("date",He.date)("offset",He.offset)("width",He.width)}}function r(xe,be){if(1&xe&&(c.TgZ(0,"div",29)(1,"div",30),c._uU(2),c.qZA()()),2&xe){const Ue=be.index,He=c.oxw();c.uIk("hour",Ue)("disabled",He.today&&Ue<He.current_hour),c.xp6(2),c.AsE(" ",Ue%12?Ue%12:"12","",Ue>=12?"pm":"am"," ")}}function o(xe,be){if(1&xe&&(c.TgZ(0,"div",31),c._uU(1),c.ALo(2,"date"),c.qZA()),2&xe){const Ue=c.oxw();c.xp6(1),c.hij(" ",c.xi3(2,1,Ue.date,"shortTime")," ")}}class S extends m.KG{constructor(be,Ue,He){super(),this._data=be,this._renderer=Ue,this._dialog_ref=He,this.search="",this.date=this._data.date||Date.now(),this.duration=this._data.duration||60,this.users=[...this._data.users],this.offset=0,this.width=0,this.host=this._data.host,this.hours=new Array(24).fill(0),this.move_time=!1,this._start_time=0,this._move_last=0,this._move_size=0}get today(){return(0,h.Z)(this.date,Date.now())}get current_hour(){return(new Date).getHours()}get selection_left(){const be=new Date(this.date);return 5*(be.getHours()+be.getMinutes()/60)+6}get selection_width(){return this.duration/60*5}addUser(be){this.users=[...this.users.filter(Ue=>Ue.email!==be.email),be],this.user=null}closeAndUpdate(){this._dialog_ref.close(!0)}ngAfterViewInit(){const be=new Date(this.date);this.timeout("init",()=>{const Ue=this._container_el.nativeElement.querySelector(`[hour="${be.getHours()}"]`);if(Ue){const He=this._container_el.nativeElement.getBoundingClientRect(),it=Ue.getBoundingClientRect();this._container_el.nativeElement.scrollTo(it.left-128-He.left,0)}this.updateWidth(),this.updateScroll()},300)}updateWidth(){const be=this._container_el.nativeElement.getBoundingClientRect().width,Ue=this._container_el.nativeElement.querySelector("[users]").getBoundingClientRect().width;this.width=Math.floor(be-Ue),this._move_size=24*this._container_el.nativeElement.querySelector("[hour]").getBoundingClientRect().width}updateScroll(){this.offset=this._container_el.nativeElement.scrollLeft}startMovePeriod(be){be.preventDefault(),be.stopPropagation(),this.updateWidth(),this._move_last=be instanceof MouseEvent?be.clientX:be.touches[0].clientX,this.move_time=!0,this._start_time=this.date,be instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",Ue=>this._onMovePeriod(Ue))):this.subscription("on_move",this._renderer.listen("window","touchmove",Ue=>this._onMovePeriod(Ue))),be instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}startMoveDuration(be){be.preventDefault(),be.stopPropagation(),this.updateWidth(),this._move_last=be instanceof MouseEvent?be.clientX:be.touches[0].clientX,this._start_time=this.duration,be instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",Ue=>this._onMoveDuration(Ue))):this.subscription("on_move",this._renderer.listen("window","touchmove",Ue=>this._onMoveDuration(Ue))),be instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}_onMovePeriod(be){const Ue=this._move_last-(be instanceof MouseEvent?be.clientX:be.touches[0].clientX),it=(Ue>0?-1:1)*Math.floor(Math.abs(Ue/this._move_size*24*60)/5)*5;if(it){const je=this.date;this.date=(0,d.Z)(this._start_time,it).valueOf(),this.date<Date.now()&&(this.date=je)}}_onMoveDuration(be){const Ue=this._move_last-(be instanceof MouseEvent?be.clientX:be.touches[0].clientX),it=(Ue>0?-1:1)*Math.floor(Math.abs(Ue/this._move_size*24*60)/5)*5;it&&(this.duration=Math.max(30,this._start_time+it))}_onMoveEnd(){this.unsub("on_move"),this.unsub("on_move_end"),this._move_last=0,this.move_time=!1}}S.\u0275fac=function(be){return new(be||S)(c.Y36(v.eJ),c.Y36(c.Qsj),c.Y36(v.hV))},S.\u0275cmp=c.Xpm({type:S,selectors:[["find-availability-modal"]],viewQuery:function(be,Ue){if(1&be&&c.Gf(a,7),2&be){let He;c.iGM(He=c.CRH())&&(Ue._container_el=He.first)}},features:[c.qOj],decls:35,vars:19,consts:[[1,"relative","flex","items-center","justify-center","p-4"],[1,"text-center"],["mat-icon-button","","mat-dialog-close","",1,"absolute","top-1/2","left-1","-translate-y-1/2"],[1,"flex","flex-col","h-[calc(100vh-7rem)]","sm:h-[65vh]",3,"resize"],[1,"w-full","flex","flex-col","sm:flex-row","space-y-2","sm:space-y-0","sm:space-x-2","p-2"],[1,"max-h-[3.25rem]","flex-1",3,"ngModel","ngModelChange"],[1,"flex","flex-1","h-1/2","w-full","border-t","border-gray-300","dark:border-neutral-500","relative","overflow-auto","divide-x","divide-gray-300","dark:divide-neutral-500","max-w-[100vw]","sm:max-w-[80vw]",3,"scroll"],["container",""],["users","",1,"sticky","left-0","min-h-full","bg-white","dark:bg-neutral-700","border-r","border-gray-300","dark:border-neutral-500","z-30"],["header","",1,"h-10","w-[6rem]","border-b","border-gray-300","dark:border-neutral-500"],["host","",1,"flex","flex-col","items-center","justify-center","h-32","w-[6rem]","relative","border-b","border-gray-300","dark:border-neutral-500","py-2"],[1,"text-2xl",3,"user"],[1,"text-xs","break-words","overflow-hidden","max-w-full","px-2","text-center"],[1,"absolute","top-0","-bottom-px","left-full","pointer-events-none",3,"user","date","offset","width"],["person","","class","flex flex-col items-center justify-center h-32 w-[6rem] relative border-b border-gray-300 dark:border-neutral-500 py-2",4,"ngFor","ngForOf"],["class","min-w-[5rem] bg-gray-50 dark:bg-neutral-600 min-h-full pointer-events-none",4,"ngFor","ngForOf"],["selection","",1,"absolute","top-10","bottom-0","!border-x-2","!border-blue-500","bg-blue-500/30","z-20","cursor-grab","active:cursor-grabbing",3,"mousedown","touchstart"],["handle","",1,"absolute","top-1/2","-left-px","-translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-blue-500"],["handle","",1,"absolute","top-1/2","-right-px","translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-blue-500","hover:h-4","hover:w-4","active:bg-primary",3,"mousedown","touchstart"],[1,"bg-white","dark:bg-neutral-600","border","border-gray-300","dark:border-neutral-500","p-2","absolute","top-2","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"],["class","bg-white dark:bg-neutral-600 border border-gray-300 dark:border-neutral-500 p-2 absolute top-12 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded",4,"ngIf"],[1,"flex","items-center","justify-between","p-2","border-t","border-gray-200","dark:border-neutral-500","w-full"],["mat-button","",1,"clear","text-primary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],["person","",1,"flex","flex-col","items-center","justify-center","h-32","w-[6rem]","relative","border-b","border-gray-300","dark:border-neutral-500","py-2"],[1,"text-xs","break-words","max-w-full","px-2","text-center"],["mat-icon-button","",1,"absolute","-top-1","-left-1"],[1,"min-w-[5rem]","bg-gray-50","dark:bg-neutral-600","min-h-full","pointer-events-none"],["header","",1,"h-10","border-b","border-gray-300","dark:border-neutral-500","p-2"],[1,"bg-white","dark:bg-neutral-600","border","border-gray-300","dark:border-neutral-500","p-2","absolute","top-12","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"]],template:function(be,Ue){1&be&&(c.TgZ(0,"header",0)(1,"h2",1),c._uU(2,"Find Availability"),c.qZA(),c.TgZ(3,"button",2)(4,"app-icon"),c._uU(5,"close"),c.qZA()()(),c.TgZ(6,"main",3),c.NdJ("resize",function(){return Ue.updateWidth()},!1,c.Jf7),c.TgZ(7,"div",4)(8,"a-date-field",5),c.NdJ("ngModelChange",function(it){return Ue.date=it}),c.qZA(),c.TgZ(9,"a-user-search-field",5),c.NdJ("ngModelChange",function(it){return Ue.user=it})("ngModelChange",function(it){return Ue.addUser(it)}),c.qZA()(),c.TgZ(10,"div",6,7),c.NdJ("scroll",function(){return Ue.updateScroll()}),c.TgZ(12,"div",8),c._UZ(13,"div",9),c.TgZ(14,"div",10),c._UZ(15,"a-user-avatar",11),c.TgZ(16,"div",12),c._uU(17),c.qZA(),c._UZ(18,"user-availability-list",13),c.qZA(),c.YNc(19,s,8,6,"div",14),c.qZA(),c.YNc(20,r,3,4,"div",15),c.TgZ(21,"div",16),c.NdJ("mousedown",function(it){return Ue.startMovePeriod(it)})("touchstart",function(it){return Ue.startMovePeriod(it)}),c._UZ(22,"div",17),c.TgZ(23,"div",18),c.NdJ("mousedown",function(it){return Ue.startMoveDuration(it)})("touchstart",function(it){return Ue.startMoveDuration(it)}),c.qZA(),c.TgZ(24,"div",19),c._uU(25),c.ALo(26,"duration"),c.qZA(),c.YNc(27,o,3,4,"div",20),c.qZA()()(),c.TgZ(28,"footer",21)(29,"button",22)(30,"div",23)(31,"app-icon",24),c._uU(32,"arrow_back"),c.qZA(),c.TgZ(33,"div",25),c._uU(34,"Back to form"),c.qZA()()()()),2&be&&(c.xp6(8),c.Q6J("ngModel",Ue.date),c.xp6(1),c.Q6J("ngModel",Ue.user),c.xp6(6),c.Q6J("user",Ue.host),c.xp6(2),c.hij(" ",Ue.host.name||Ue.host.email," "),c.xp6(1),c.Q6J("user",Ue.host)("date",Ue.date)("offset",Ue.offset)("width",Ue.width),c.xp6(1),c.Q6J("ngForOf",Ue.users),c.xp6(1),c.Q6J("ngForOf",Ue.hours),c.xp6(1),c.Udp("left",Ue.selection_left+"rem")("width",Ue.selection_width+"rem"),c.xp6(4),c.hij(" ",c.lcZ(26,17,Ue.duration)," "),c.xp6(2),c.Q6J("ngIf",Ue.move_time),c.xp6(2),c.Q6J("mat-dialog-close",!0))},styles:["[disabled=true][_ngcontent-%COMP%]{background:rgba(0,0,0,.05)!important;pointer-events:none}[disabled=true][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#0000004d}"]});var I=t(8115),x=t(2722),P=t(591),g=t(2198),u=t(7545),M=t(4850),R=t(5154),w=t(5197),F=t(4211);function B(xe,be){if(1&xe&&(c.TgZ(0,"div",3)(1,"div"),c._uU(2,"Unavailable"),c.qZA(),c.TgZ(3,"div"),c._uU(4),c.ALo(5,"date"),c.ALo(6,"date"),c.qZA()()),2&xe){const Ue=be.$implicit;c.Udp("left",Ue.start+"%")("width",Ue.size+"%"),c.xp6(4),c.AsE(" ",c.xi3(5,6,Ue.date,"shortTime")," - ",c.xi3(6,9,Ue.date+60*Ue.duration*1e3,"shortTime")," ")}}class H{constructor(){this.date=Date.now(),this.offset=0,this.width=0,this._user$=new P.X(null),this.availability=this._user$.pipe((0,g.h)(be=>be),(0,u.w)(be=>(0,F.u$)({calendars:be.email,period_start:(0,I.Z)(this.date).valueOf(),period_end:(0,x.Z)(this.date).valueOf()})),(0,M.U)(be=>be.map(Ue=>({date:Ue.date,duration:Ue.duration,start:(new Date(Ue.date).getHours()+new Date(Ue.date).getMinutes()/60)/24,size:Ue.duration/60/24}))),(0,R.d)(1))}ngOnChanges(be){be.user&&this.user&&this._user$.next(this.user)}}H.\u0275fac=function(be){return new(be||H)},H.\u0275cmp=c.Xpm({type:H,selectors:[["user-availability-list"]],inputs:{user:"user",date:"date",offset:"offset",width:"width"},features:[c.TTD],decls:4,vars:5,consts:[[1,"overflow-hidden","relative","border-b","border-gray-300","dark:border-neutral-500","h-full","pointer-events-none"],[1,"w-[120rem]","h-px"],["event","","class","absolute inset-y-0 bg-primary rounded-lg text-white",3,"left","width",4,"ngFor","ngForOf"],["event","",1,"absolute","inset-y-0","bg-primary","rounded-lg","text-white"]],template:function(be,Ue){1&be&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.YNc(2,B,7,12,"div",2),c.ALo(3,"async"),c.qZA()),2&be&&(c.Udp("width",Ue.width+"px"),c.xp6(2),c.Q6J("ngForOf",c.lcZ(3,3,Ue.availability)))},dependencies:[e.sg,e.Ov,e.uU]});var $=t(5306),j=t(9685),V=t(9818),Q=t(2329),ie=t(9697),ye=t(2193);class _e{}_e.\u0275fac=function(be){return new(be||_e)},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({imports:[e.ez,n.u5,n.UX,v.yj,E.W,C.K,O.Zh,y.UK,T.jT]}),c.B6R(l.J,[e.sg,e.O5,n.JJ,n.On,v.aO,$.o,j.k,T.W0,T.tN,T.D8,V.eB,y.sN,O.FC],[e.uU]),c.B6R(S,[e.sg,e.O5,n.JJ,n.On,v.aO,Q.Q,ie.d,$.o,j.k,V.eB,H],[e.uU,ye.u]);var Ie=t(9972);class Me{constructor(be={}){this.type=be.type||be.location||"other",this.position=be.position||be.map_id||be.asset_id||{x:be.x/be.map_width||0,y:be.y/be.map_height||0},this.variance=be.variance||0,this.last_seen=be.last_seen||(0,Ie.Z)(new Date),this.level=be.level,this.building=be.building,this.at_location=!!be.at_location,this.coordinates_from=be.coordinates_from||"top-left"}}t(9375),t(4283);var Pe=t(9012)},4283:(Je,K,t)=>{"use strict";t.d(K,{jf:()=>C,pP:()=>i});var e=t(4351),n=t(4850),T=(t(3902),t(5038)),v=t(5197);const O="/api/staff/v1/guests";function C(m){const h=(0,T.U)({q:m});return(0,e.U2M)(`${O}${m?"?"+h:""}`).pipe((0,n.U)(d=>d.map(c=>new v.OO(c))))}function i(m){return(0,e.U2M)(`${O}/${encodeURIComponent(m)}`).pipe((0,n.U)(h=>new v.OO(h)))}},9645:(Je,K,t)=>{"use strict";t.d(K,{r:()=>h});var e=t(6353),n=t(5559),y=t(8368),T=t(5197),v=t(9375),O=t(6895),C=t(5306),E=t(9818),i=t(1343),f=t(9036);function _(d,c){if(1&d&&(e.TgZ(0,"main",6),e._UZ(1,"user-form",7),e.qZA()),2&d){const a=e.oxw();e.xp6(1),e.Q6J("form",a.form)}}function l(d,c){if(1&d){const a=e.EpF();e.TgZ(0,"footer",8)(1,"button",9),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(a);const r=e.oxw();return e.KtG(r.saveChanges())}),e._uU(4,"Save"),e.qZA()()}}function m(d,c){1&d&&(e.TgZ(0,"main",11),e._UZ(1,"mat-spinner",12),e.TgZ(2,"p"),e._uU(3,"Saving attendee..."),e.qZA()())}class h extends y.KG{constructor(c){super(),this._data=c,this.event=new e.vpe,this.form=(0,v.HO)(this.user||new T.n5),this.loading=!1,this.user=this._data.user||{},this.form=(0,v.HO)(this.user)}ngOnInit(){}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const c=new T.n5({...this.form.value,is_external:!0});this.event.emit({reason:"done",metadata:c})}}}h.\u0275fac=function(c){return new(c||h)(e.Y36(n.eJ))},h.\u0275cmp=e.Xpm({type:h,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[e.qOj],decls:11,vars:4,consts:[["mat-dialog-title","",1,"heading"],[1,"flex-1"],["mat-icon-button","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-gray-300 space-x-2",4,"ngIf"],["load_state",""],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-gray-300","space-x-2"],["mat-button","","mat-dialog-close","",1,"inverse"],["mat-button","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(c,a){if(1&c&&(e.TgZ(0,"header")(1,"div",0),e._uU(2),e.qZA(),e._UZ(3,"div",1),e.TgZ(4,"button",2)(5,"app-icon"),e._uU(6,"close"),e.qZA()()(),e.YNc(7,_,2,1,"main",3),e.YNc(8,l,5,0,"footer",4),e.YNc(9,m,4,0,"ng-template",null,5,e.W1O)),2&c){const s=e.MAs(10);e.xp6(2),e.hij(" ",null!=a.user&&a.user.id?"Edit":"Add"," External Attendee "),e.xp6(5),e.Q6J("ngIf",!a.loading)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",!a.loading)}},dependencies:[O.O5,n.aO,n.YS,C.o,E.eB,i.sN,f.m],styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]})},9012:(Je,K,t)=>{"use strict";t.d(K,{VE:()=>O,w0:()=>C});var e=t(4351),n=t(5038),y=t(4850),T=t(5197);const v="/api/staff/v1/people";function O(i){const f=(0,n.U)({q:i});return(0,e.U2M)(`${v}${i?"?"+f:""}`).pipe((0,y.U)(_=>_.map(l=>new T.mO(l))))}function C(i){return(0,e.U2M)(`${v}/${encodeURIComponent(i)}`).pipe((0,y.U)(f=>new T.mO(f)))}},9036:(Je,K,t)=>{"use strict";t.d(K,{m:()=>h});var e=t(6353),n=t(6895),y=t(4006),T=t(8455),v=t(9203),O=t(74);function C(d,c){if(1&d&&(e.TgZ(0,"div",3)(1,"label",4),e._uU(2," Name"),e.TgZ(3,"span"),e._uU(4,"*"),e.qZA(),e._uU(5,": "),e.qZA(),e.TgZ(6,"mat-form-field",5),e._UZ(7,"input",6),e.TgZ(8,"mat-error"),e._uU(9,"Name is required"),e.qZA()()()),2&d){const a=e.oxw(2);e.xp6(1),e.ekj("error",a.hasError("name"))}}function E(d,c){if(1&d&&(e.TgZ(0,"div",3)(1,"label",7),e._uU(2," Email"),e.TgZ(3,"span"),e._uU(4,"*"),e.qZA(),e._uU(5,": "),e.qZA(),e.TgZ(6,"mat-form-field",5),e._UZ(7,"input",8),e.TgZ(8,"mat-error"),e._uU(9,"A valid email is required"),e.qZA()()()),2&d){const a=e.oxw(2);e.xp6(1),e.ekj("error",a.hasError("email"))}}function i(d,c){if(1&d&&(e.TgZ(0,"div",3)(1,"label",9),e._uU(2," Organisation"),e.TgZ(3,"span"),e._uU(4,"*"),e.qZA(),e._uU(5,": "),e.qZA(),e.TgZ(6,"mat-form-field",5),e._UZ(7,"input",10),e.TgZ(8,"mat-error"),e._uU(9,"Organisation is required"),e.qZA()()()),2&d){const a=e.oxw(2);e.xp6(1),e.ekj("error",a.hasError("organisation"))}}function f(d,c){if(1&d&&(e.TgZ(0,"div",3)(1,"label",11),e._uU(2," Phone: "),e.qZA(),e.TgZ(3,"mat-form-field",5),e._UZ(4,"input",12),e.TgZ(5,"mat-error"),e._uU(6,"Phone format is invalid"),e.qZA()()()),2&d){const a=e.oxw(2);e.xp6(1),e.ekj("error",a.hasError("phone"))}}function _(d,c){1&d&&(e.TgZ(0,"div",3)(1,"mat-checkbox",13),e._uU(2," Assistance required "),e.qZA()())}function l(d,c){1&d&&(e.TgZ(0,"div",3)(1,"mat-checkbox",14),e._uU(2," Visit expected "),e.qZA()())}function m(d,c){if(1&d&&(e.TgZ(0,"form",1),e.YNc(1,C,10,2,"div",2),e.YNc(2,E,10,2,"div",2),e.YNc(3,i,10,2,"div",2),e.YNc(4,f,7,2,"div",2),e.YNc(5,_,3,0,"div",2),e.YNc(6,l,3,0,"div",2),e.qZA()),2&d){const a=e.oxw();e.Q6J("formGroup",a.form),e.xp6(1),e.Q6J("ngIf",a.form.controls.name),e.xp6(1),e.Q6J("ngIf",a.form.controls.email),e.xp6(1),e.Q6J("ngIf",a.form.controls.organisation),e.xp6(1),e.Q6J("ngIf",a.form.controls.phone),e.xp6(1),e.Q6J("ngIf",a.form.controls.assistance_required),e.xp6(1),e.Q6J("ngIf",a.form.controls.visit_expected)}}class h{hasError(c){const{invalid:a,touched:s}=this.form?.controls[c]||{};return a&&s}}h.\u0275fac=function(c){return new(c||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","",3,"formGroup",4,"ngIf"],["user-form","",3,"formGroup"],["class","field",4,"ngIf"],[1,"field"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","Organisation","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(c,a){1&c&&e.YNc(0,m,7,7,"form",0),2&c&&e.Q6J("ngIf",a.form)},dependencies:[n.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,T.nI,T.v_,v.k0,O.FC],styles:[".field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})},5197:(Je,K,t)=>{"use strict";t.d(K,{OO:()=>y,mO:()=>T,n5:()=>n});var e=t(9375);class n{constructor(O={}){this.id=O.id||"",this.name=O.name||"",this.email=O.email||"",this.first_name=O.first_name||O.name||"",this.last_name=O.last_name||"",this.phone=O.phone||"",this.organisation=O.organisation||"",this.notes=O.notes||"",this.photo=O.photo||"",this.username=O.username||"",this.organizer=!!O.organizer,this.checked_in=!!O.checked_in,this.required=O.required??!0,this.resource=O.resource??!1,this.response_status=O.response_status||"";const C=O.groups||[];O.sys_admin&&C.push("placeos_admin"),O.support&&C.push("placeos_support"),O.department&&C.push(O.department),this.groups=C,this.extension_data=O.extension_data||{},this.extension_data.assistance_required=O.assistance_required||this.extension_data.assistance_required,this.is_external=!this.email?.endsWith(`${e.U9}`),this.visit_expected=O.visit_expected??!0,this.assistance_required=!!this.extension_data?.assistance_required;for(const E in O)E in this||(this.extension_data[E]=O[E])}}class y extends n{constructor(O={}){super(O),this.preferred_beverage=O.preferred_beverage||"",this.accepted_terms_conditions=O.accepted_terms_conditions||!1,this.attachments=O.extension_data?.attachments||O.attachments||[],this.status=O.extension_data?.status||O.status||"pending"}}class T extends n{constructor(O={}){super(O),this.card_number=O.card_number||"",this.staff_id=O.staff_id||"",this.location=O.location||{},this.is_logged_in=!!O.is_logged_in}}},1060:(Je,K,t)=>{"use strict";t.d(K,{d:()=>E});var e=t(9671),n=t(4283),y=t(9012),T=t(5197),v=t(6353);const O=[],C=new T.n5;class E{transform(f){return(0,e.Z)(function*(){if(!f)return C;let _=O.find(({id:l,email:m})=>l===f||m===f);return _||(_=yield(0,y.w0)(f).toPromise(),_||(_=yield(0,n.pP)(f).toPromise(),_)?(O.push(_),_):C)})()}}E.\u0275fac=function(f){return new(f||E)},E.\u0275pipe=v.Yjl({name:"user",type:E,pure:!0})},9375:(Je,K,t)=>{"use strict";t.d(K,{HO:()=>i,U9:()=>v,ZJ:()=>O});var e=t(4006);t(3245),t(5197);let v="@place.tech";function O(_){v=_}function i(_){if(!_)throw Error("No user passed");const l={name:new e.NI(_.name||""),email:new e.NI(_.email||"",[e.kI.email,e.kI.required]),organisation:new e.NI(_.organisation||"",e.kI.required),phone:new e.NI(_.phone||"",e.kI.pattern(/[+\-()0-9]{1,24}/g)),assistance_required:new e.NI(_.assistance_required||!1),visit_expected:new e.NI(_.visit_expected??!0)};return new e.cw(l)}},5236:(Je,K,t)=>{"use strict";t.d(K,{J:()=>S});var e=t(9671),n=t(8368),y=t(5650),T=t(953),v=t(1998),O=t(833),C=t(8370),i=t(9972),f=t(8115),_=t(2722),l=t(6962),m=t(354),h=t(6353),d=t(5559);function c(I,x){if(1&I){const P=h.EpF();h.TgZ(0,"div",23)(1,"div",24),h._uU(2),h.ALo(3,"date"),h.qZA(),h.TgZ(4,"div",25)(5,"mat-checkbox",26),h.NdJ("ngModelChange",function(u){const R=h.CHM(P).index,w=h.oxw(2);return h.KtG(w.settings[w.available_weekdays[R]]=u)})("ngModelChange",function(){h.CHM(P);const u=h.oxw(2);return h.KtG(u.changed=!0)}),h.qZA()()()}if(2&I){const P=x.$implicit,g=x.index,u=h.oxw(2);h.xp6(2),h.hij(" ",h.xi3(3,2,P,"EEE")," "),h.xp6(3),h.Q6J("ngModel",u.settings[u.available_weekdays[g]])}}function a(I,x){if(1&I){const P=h.EpF();h.TgZ(0,"div",4)(1,"div",5),h._UZ(2,"a-user-avatar",6),h.TgZ(3,"div"),h._uU(4),h.qZA(),h.TgZ(5,"div",7),h._uU(6),h.qZA(),h.TgZ(7,"div",7),h._uU(8),h.qZA()(),h.TgZ(9,"div",8)(10,"h3",9),h._uU(11," Today's Working Location "),h.qZA(),h.TgZ(12,"button",10)(13,"div",11)(14,"div",12),h._uU(15),h.qZA(),h.TgZ(16,"app-icon",13),h._uU(17,"arrow_drop_down"),h.qZA()()(),h.TgZ(18,"div",14)(19,"div",15)(20,"app-icon"),h._uU(21,"home"),h.qZA()(),h.TgZ(22,"div",16),h._uU(23," Today is a working from home day. Available for online meetings. "),h.qZA()()(),h.TgZ(24,"div",17)(25,"h3",9),h._uU(26," Default Office Days "),h.qZA(),h.TgZ(27,"div",18),h.YNc(28,c,6,5,"div",19),h.qZA()(),h.TgZ(29,"div",20)(30,"button",21),h.NdJ("click",function(){h.CHM(P);const u=h.oxw();return h.KtG(u.saveChanges())}),h._uU(31," Update "),h.qZA()(),h.TgZ(32,"button",22)(33,"app-icon"),h._uU(34,"close"),h.qZA()()()}if(2&I){const P=h.oxw(),g=h.MAs(2);h.xp6(2),h.Q6J("user",P.user),h.xp6(2),h.Oqu(P.user.name),h.xp6(2),h.Oqu(P.user.email),h.xp6(2),h.Oqu(P.user.phone),h.xp6(4),h.Q6J("matMenuTriggerFor",g),h.xp6(3),h.Oqu(P.option),h.xp6(13),h.Q6J("ngForOf",P.weekdays),h.xp6(2),h.Q6J("disabled",!P.changed)}}function s(I,x){if(1&I){const P=h.EpF();h.TgZ(0,"button",27),h.NdJ("click",function(){const M=h.CHM(P).$implicit,R=h.oxw();return R.option=M.id,h.KtG(R.changed=!0)}),h._uU(1),h.qZA()}if(2&I){const P=x.$implicit;h.uIk("id",P.id),h.xp6(1),h.hij(" ",P.name," ")}}function r(I,x){1&I&&(h.TgZ(0,"div",28),h._UZ(1,"mat-spinner",29),h.TgZ(2,"p"),h._uU(3,"Saving changes to work location settings..."),h.qZA()()),2&I&&(h.xp6(1),h.Q6J("diameter",32))}const o="wfh-days";class S{constructor(x,P){this._settings=x,this._dialog_ref=P,this.options=[{id:"wfo",name:"Work from office (WFO)"},{id:"wfh",name:"Work from home (WFH)"},{id:"aol",name:"Away on Leave (AOL)"}],this.option=this.options[0].id,this.settings=[!0,!0,!0,!0,!0,!0,!0],this.weekdays=[],this.changed=!1,this.loading=!1,this.available_weekdays=[1,2,3,4,5],this._booking=new l.$({type:"wfh-settings",asset_id:this.options[0].id})}ngOnInit(){this.settings=this._settings.get(o)||[!0,!0,!0,!0,!0,!0,!0],this._initWeekdays(),this._loadOptionForToday()}get user(){return(0,n.ar)()}saveChanges(){var x=this;return(0,e.Z)(function*(){x.loading=!0,x._dialog_ref.disableClose=!0,x.option!==x.options[0].id&&x.option!==x._booking.asset_id&&(yield(0,m.km)(new l.$({...x._booking,asset_id:x.option})).toPromise().catch(P=>{throw x._dialog_ref.disableClose=!1,x.loading=!1,P})),x._settings.saveUserSetting(o,x.settings),x.loading=!1,x._dialog_ref.close()})()}_initWeekdays(){let x=new Date;this.weekdays=this.available_weekdays.map(P=>function E(I,x,P){var g,u,M,R,w,F,B,H;(0,O.Z)(2,arguments);var $=(0,C.j)(),j=(0,v.Z)(null!==(g=null!==(u=null!==(M=null!==(R=P?.weekStartsOn)&&void 0!==R?R:null==P||null===(w=P.locale)||void 0===w||null===(F=w.options)||void 0===F?void 0:F.weekStartsOn)&&void 0!==M?M:$.weekStartsOn)&&void 0!==u?u:null===(B=$.locale)||void 0===B||null===(H=B.options)||void 0===H?void 0:H.weekStartsOn)&&void 0!==g?g:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var V=(0,T.Z)(I),Q=(0,v.Z)(x),ie=V.getDay(),G=(Q%7+7)%7,_e=7-j;return(0,y.Z)(V,Q<0||Q>6?Q-(ie+_e)%7:(G+_e)%7-(ie+_e)%7)}(x,P).valueOf())}_loadOptionForToday(){var x=this;return(0,e.Z)(function*(){const P=yield(0,m.F2)({type:"wfh-setting",period_start:(0,i.Z)((0,f.Z)(Date.now())),period_end:(0,i.Z)((0,_.Z)(Date.now()))}).toPromise();P.length&&(x.option=P[0].asset_id,x._booking=P[0])})()}}S.\u0275fac=function(x){return new(x||S)(h.Y36(n.gb),h.Y36(d.hV))},S.\u0275cmp=h.Xpm({type:S,selectors:[["wfh-settings-modal"]],decls:6,vars:3,consts:[["class","relative flex flex-col rounded overflow-hidden w-[18rem]",4,"ngIf","ngIfElse"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["load_state",""],[1,"relative","flex","flex-col","rounded","overflow-hidden","w-[18rem]"],[1,"w-full","px-4","py-8","flex","flex-col","items-center","border-b","border-gray-200"],[3,"user"],[1,"text-xs","opacity-30"],[1,"w-full","p-4","flex","flex-col","border-b","border-gray-200"],[1,"-mt-2","mb-2","text-sm","font-medium"],["mat-button","","today-location","",1,"inverse","rounded-3xl","w-auto",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-between"],[1,"uppercase"],[1,"text-2xl"],[1,"flex","items-center","pt-4","space-x-2"],[1,"h-8","w-8","rounded-full","bg-gray-300","dark:bg-neutral-800","flex","items-center","justify-center"],[1,"flex-1","w-1/2","text-sm"],[1,"w-full","p-4","flex","flex-col"],[1,"border","border-gray-200","rounded","flex","items-center","justify-between","px-2","pt-2"],["class","flex flex-col items-center",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","px-4","pb-4"],["mat-button","","save","",3,"disabled","click"],["mat-icon-button","","mat-dialog-close","",1,"absolute","top-0","left-0"],[1,"flex","flex-col","items-center"],[1,"text-sm","font-light"],[1,"h-8","w-8","flex","items-center","justify-center","pr-2"],[3,"ngModel","ngModelChange"],["mat-menu-item","",3,"click"],["loading","",1,"relative","bg-white","flex","flex-col","justify-center","items-center","rounded","overflow-hidden","w-[18rem]","h-[18rem]"],[3,"diameter"]],template:function(x,P){if(1&x&&(h.YNc(0,a,35,8,"div",0),h.TgZ(1,"mat-menu",null,1),h.YNc(3,s,2,2,"button",2),h.qZA(),h.YNc(4,r,4,1,"ng-template",null,3,h.W1O)),2&x){const g=h.MAs(5);h.Q6J("ngIf",!P.loading)("ngIfElse",g),h.xp6(3),h.Q6J("ngForOf",P.options)}}})},9149:(Je,K,t)=>{"use strict";t.d(K,{C9:()=>Ie,IL:()=>M,VD:()=>_,eI:()=>g,ie:()=>_e,kn:()=>G,xB:()=>ye});var e=t(591),n=t(7224),y=t(8759);function T(){return T=Object.assign||function(Me){for(var Fe=1;Fe<arguments.length;Fe++){var Ve=arguments[Fe];for(var Pe in Ve)Object.prototype.hasOwnProperty.call(Ve,Pe)&&(Me[Pe]=Ve[Pe])}return Me},T.apply(this,arguments)}function v(Me,Fe){Me.prototype=Object.create(Fe.prototype),Me.prototype.constructor=Me,O(Me,Fe)}function O(Me,Fe){return(O=Object.setPrototypeOf||function(Ve,Pe){return Ve.__proto__=Pe,Ve})(Me,Fe)}var C={},i="/api/files/v1/uploads";function f(){return i}function _(Me,Fe){void 0===Fe&&(Fe=!1);var Ve=Fe?1e3:1024;if(Me<Ve)return Me+(Fe?" iB":" B");var Pe=Math.floor(Math.log(Me)/Math.log(Ve)),xe=(Fe?"kMGTPE":"KMGTPE").charAt(Pe-1)+(Fe?"iB":"B");return(Me/Math.pow(Ve,Pe)).toFixed(1)+" "+xe}function l(Me){var Fe="";Me.length%2>0&&(Me="0"+Me);for(var Ve=0,Pe=Me.length;Ve<Pe;Ve+=2)Fe+=String.fromCharCode(parseInt(Me.slice(Ve,Ve+2),16));return Fe}function m(Me){var Fe="";if(Me)for(var Ve in Me)Me.hasOwnProperty(Ve)&&null!=Me[Ve]&&(Fe+=(Fe?"&":"")+Ve+"="+encodeURIComponent(Me[Ve]));return Fe}var h="",d="",c=function(){function Me(Ve,Pe){var xe=this;this._upload=void 0,this._endpoint=void 0,this._upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=Ve,this._endpoint=Pe,this._abort_ctrl.signal.addEventListener("abort",function(){return xe._dispose?xe._dispose():""})}Me.setToken=function(Ve){h=Ve},Me.setApiKey=function(Ve){d=Ve};var Fe=Me.prototype;return Fe.initialiseSignedRequest=function(){try{var Ve,Pe=this,xe=Pe._abort_ctrl.signal,be=Pe._upload,Ue=be.file,He=be.mime_type;Pe._params.file_size=""+Ue.size,Pe._params.file_name=Ue.name,He&&"binary/octet-stream"!==He&&(Pe._params.file_mime=He),Pe._params=T({},Pe._params,Pe._upload.params),(null==(Ve=Ue.dir_path)?void 0:Ve.length)>0&&(Pe._params.file_path=Ue.dir_path);var it=new Headers;it.append("Accept","application/json"),it.append("Content-Type","application/json"),h?it.append("Authorization","Bearer "+h):d&&it.append("X-API-Key",""+d);var je=m(Pe._params);return Promise.resolve(fetch(Pe._endpoint+"/new"+(je?"?"+je:""),{headers:it,signal:xe})).then(function(Be){return Be.json()})}catch(Be){return Promise.reject(Be)}},Fe.signUpload=function(Ve){try{var Pe=this,xe=Pe._abort_ctrl.signal,be=new Headers;return be.append("Accept","application/json"),be.append("Content-Type","application/json"),h?be.append("Authorization","Bearer "+h):d&&be.append("X-API-Key",""+d),Ve.file_id&&(Pe._params.file_id=Ve.file_id),Pe._upload.mime_type&&(Pe._params.file_mime=Ve.mime_type),Ve.parameters&&(Pe._params.parameters=Ve.parameters),Promise.resolve(fetch(Pe._endpoint,{body:JSON.stringify(Pe._params),method:"POST",headers:be,signal:xe})).then(function(Ue){return Promise.resolve(Ue.json()).then(function(He){return Pe._upload_id=He.upload_id,He})})}catch(Ue){return Promise.reject(Ue)}},Fe.signNextChunk=function(Ve,Pe,xe,be){void 0===be&&(be=null);try{var He=this._abort_ctrl.signal,it=new Headers,je={part_list:xe};be&&(je.part_data=be);var Be=m({part:""+Ve,file_id:Pe,file_mime:this._upload.mime_type});return Promise.resolve(fetch(this._endpoint+(Be?"?"+Be:""),{body:JSON.stringify(je),method:"PUT",headers:it,signal:He})).then(function(lt){return lt.json()})}catch(lt){return Promise.reject(lt)}},Fe.signChunk=function(Ve,Pe){void 0===Pe&&(Pe=null);try{var xe=this._abort_ctrl.signal,be=new Headers;be.append("Accept","application/json"),h?be.append("Authorization","Bearer "+h):d&&be.append("X-API-Key",""+d);var Ue=m({part:""+Ve,file_id:Pe});return Promise.resolve(fetch(this._endpoint+"/edit"+(Ue?"?"+Ue:""),{headers:be,signal:xe})).then(function(He){return He.json()})}catch(He){return Promise.reject(He)}},Fe.updateStatus=function(Ve){void 0===Ve&&(Ve={});try{var xe=this._abort_ctrl.signal,be=new Headers;return be.append("Accept","application/json"),be.append("Content-Type","application/json"),h?be.append("Authorization","Bearer "+h):d&&be.append("X-API-Key",""+d),Promise.resolve(fetch(this._endpoint+"/"+encodeURIComponent(this._upload_id),{headers:be,method:"PUT",body:JSON.stringify(Ve),signal:xe})).then(function(Ue){return Ue.text()})}catch(Ue){return Promise.reject(Ue)}},Fe.abort=function(){this._abort_ctrl.abort()},Fe.destroy=function(){this.abort();var Ve=new Headers;if(Ve.append("Accept","application/json"),h?Ve.append("Authorization","Bearer "+h):d&&Ve.append("X-API-Key",""+d),this._upload_id)return fetch(this._endpoint+"/"+encodeURIComponent(this._upload_id),{headers:Ve,method:"DELETE"})},Fe.performSignedRequest=function(Ve,Pe){var xe=this;return void 0===Pe&&(Pe=function(){}),new Promise(function(be,Ue){var He=new XMLHttpRequest;He.upload.addEventListener("progress",function(lt){return Pe(lt)}),He.addEventListener("load",function(lt){Pe(lt),He.status>=200&&He.status<300||He.status===Ve.expected?be(He):Ue(He.status+": "+He.statusText)});var it=function(lt){xe._upload.onError(lt),Ue(lt)};He.addEventListener("error",function(){return it(He.status+": "+(He.statusText||"unknown error"))}),He.addEventListener("abort",function(){return it(He.statusText||"browser aborted")}),He.open(Ve.signature.verb,Ve.signature.url,!0);var je=Ve.signature.headers;for(var Be in je)Be in je&&He.setRequestHeader(Be,je[Be]);xe._dispose=function(){He.abort(),Ue("user aborted")},He.send(Ve.data||null)})},Me}(),a=function(){function Me(Pe,xe,be,Ue,He){void 0===Ue&&(Ue={}),void 0===He&&(He=f()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new e.X({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=Pe,this.retries=xe,this.parallel=be,this.params=Ue,this._endpoint=He,this.mime_type=Pe?.type||this.mime_type}var Fe,Ve=Me.prototype;return Ve.setAccessUrl=function(Pe){this._access_url=Pe},Ve.onProgress=function(Pe){var xe=this._state.getValue();this._state.next(T({},xe,{status:"uploading",uploaded:Pe,progress:Math.floor(Pe/this.file.size*1e3)/10}))},Ve.onComplete=function(){var Pe=this._state.getValue();this._state.next(T({},Pe,{status:"complete",progress:100}))},Ve.onError=function(Pe){var xe=this._state.getValue();this._state.next(T({},xe,{status:"error",error:Pe}))},Ve.resume=function(Pe){try{var xe=this,be=xe._state.getValue(),Ue=function(){if(!["complete","uploading","cancelled"].includes(be.status)){var He=function(){var je;null==(je=xe._provider)||je.start()};Pe&&(xe.parallel=Pe);var it=function(){if(!xe._provider)return xe._request=new c(xe,xe._endpoint),Promise.resolve(xe._request.initialiseSignedRequest()).then(function(je){var Be=C[je.residence]||null;Be?(xe._provider=new Be(xe._request,xe),xe._state.next(T({},be,{status:"uploading"}))):xe.onError("No provider available to upload to")})}();return it&&it.then?it.then(He):He()}}();return Promise.resolve(Ue&&Ue.then?Ue.then(function(){}):void 0)}catch(He){return Promise.reject(He)}},Ve.pause=function(){var Pe,xe=this._state.getValue();"uploading"===xe.status&&(null==(Pe=this._provider)||Pe.pause(),this._state.next(T({},xe,{status:"paused"})))},Ve.cancel=function(){var Pe,xe=this._state.getValue();["complete","cancelled"].includes(xe.status)||("uploading"===xe.status&&(null==(Pe=this._provider)||Pe.destroy()),this._state.next(T({},xe,{status:"cancelled"})))},(Fe=[{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var Pe;return"waiting"===(null==(Pe=this._state.getValue())?void 0:Pe.status)}},{key:"in_progress",get:function(){var Pe;return"uploading"===(null==(Pe=this._state.getValue())?void 0:Pe.status)}},{key:"completed",get:function(){var Pe;return"complete"===(null==(Pe=this._state.getValue())?void 0:Pe.status)}}])&&function(Pe,xe){for(var be=0;be<xe.length;be++){var Ue=xe[be];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Pe,Ue.key,Ue)}}(Me.prototype,Fe),Me}(),s=[],r=-1;function o(){return r+=1,s[r%=3]}var S,Me,I={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},x=I,P=[];function g(Me){void 0===Me&&(Me={}),(x=T({},I,Me)).endpoint&&(i=x.endpoint),function(Fe,Ve){var Pe;void 0===Fe&&(Fe="/node_modules/ts-md5/dist/md5_worker.js"),(null==(Pe=s)?void 0:Pe.length)>0&&s.forEach(function(be){return be.terminate()}),s=[];for(var xe=0;xe<3;xe+=1)s.push(new y.Me(Fe,Ve))}(x.worker_url,x.worker_options),x.token&&c.setToken(x.token),x.api_key&&c.setApiKey(x.api_key),function u(Me){Me.forEach(function(Fe){return function E(Me,Fe){C[Me]=Fe}(Fe.lookup,Fe)})}(x.providers)}function M(Me,Fe){if(void 0===Fe&&(Fe={}),!f())throw"No API endpoint set";var Ve=[];return Me.forEach(function(Pe){var xe=new a(Pe,x.retries,x.parallel,Fe);Ve.push(xe),P.push(xe),xe.metadata=x.metadata,xe.status.pipe((0,n.P)(function(be){return"complete"===be.status})).subscribe(function(be){return function(Ue){var He=x.auto_start,it=x.remove_after;x.auto_remove&&(it?setTimeout(function(){return $(Ue)},it):$(Ue));var je=P.filter(function(Be){return Be.waiting});He&&je.length&&Q()&&je[0].resume(x.parallel)}(xe)}),x.auto_start&&Q()&&xe.resume(x.parallel)}),Ve}function $(Me){Me.cancel(),P=P.filter(function(Fe){return Fe!==Me})}function Q(){return P.filter(function(Me){return Me.in_progress}).length<x.simultaneous}(Me=S||(S={}))[Me.Paused=0]="Paused",Me[Me.Uploading=1]="Uploading",Me[Me.Completed=2]="Completed",Me[Me.Aborted=3]="Aborted";var ie=function(){function Me(Ve,Pe){this._request=void 0,this._upload=void 0,this.state=S.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=void 0,this._memoization={},this._finishing=!1,this._request=Ve,this._upload=Pe,this._file=this._upload.file,this.size=this._file.size}var Fe=Me.prototype;return Fe.start=function(){this.state<S.Uploading&&(this._finalising?this._finalise():this._start())},Fe.pause=function(){for(var Ve in this._strategy&&this.state===S.Uploading&&!this._direct_upload?(this.state=S.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=S.Paused,this._request.abort(),this._restart()),this._progress)this._progress[Ve].loaded!==this._progress[Ve].total&&(this._progress[Ve].loaded=0);this._updateProgress()},Fe.destroy=function(){void 0!==this._strategy&&this.state<S.Completed&&(this._request.destroy(),this._restart(),this.state=S.Aborted)},Fe._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Fe._makeRequest=function(Ve,Pe){var xe=this;return Pe.data=Ve.data,this._request.performSignedRequest(Pe,function(be){return xe._onProgress(Ve.part,be)})},Fe._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Fe._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Fe._completePart=function(Ve){this._current_parts=this._current_parts.filter(function(Pe){return Pe!==Ve})},Fe._isComplete=function(Ve){var Pe=this._progress[Ve]||{},xe=Pe.loaded;return xe&&xe===Pe.total},Fe._onProgress=function(Ve,Pe){this._progress[Ve]=T({},Pe),this._updateProgress()},Fe._onError=function(Ve){this.pause(),this._upload.onError(Ve)},Fe._updateProgress=function(){var Ve=0;for(var Pe in this._progress)Ve+=this._progress[Pe].loaded||0;this._upload.onProgress(Ve)},Fe._finalise=function(){try{var Ve=this;return Ve._request.updateStatus().then(function(){return Ve._upload.onComplete()},function(Pe){return Ve._onError(Pe)}),Promise.resolve()}catch(Pe){return Promise.reject(Pe)}},Fe._hashPart=function(Ve,Pe,xe){try{var be=this,Ue=be._memoization[Ve],He=Pe();return Promise.resolve(Ue?{data:He,md5:Ue.md5,part:Ue.part}:xe(He).then(function(it){return be._memoization[Ve]=it,{data:He,md5:it.md5,part:it.part}}))}catch(it){return Promise.reject(it)}},Fe._getPartData=function(){var Ve=this,Pe=this._currentParts(),xe=[];return Pe.forEach(function(be){var Ue=Ve._memoization[""+be];Ue&&xe.push(Ue)}),{part_list:Pe,part_data:xe}},Me}(),ye=function(Me){function Fe(){for(var Pe,xe=arguments.length,be=new Array(xe),Ue=0;Ue<xe;Ue++)be[Ue]=arguments[Ue];return(Pe=Me.call.apply(Me,[this].concat(be))||this)._part_size=5242880,Pe}v(Fe,Me);var Ve=Fe.prototype;return Ve._start=function(){var Pe=this;if(void 0===this._strategy){if(this.state=S.Uploading,this._strategy=null,9999*this._part_size<this.size&&(this._part_size=Math.floor(this.size/9999),this._part_size>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(xe){Pe.state===S.Uploading&&Pe._request.signUpload({file_id:window.btoa(l(xe.md5))}).then(function(be){Pe._strategy=be.type,be.signature&&Pe._upload.setAccessUrl((be.signature.url||"").split("?")[0]),"direct_upload"===be.type?Pe._direct(be,xe):Pe._resume(be,xe)},function(be){return Pe._onError(be)})},function(xe){return Pe._onError(xe)})}else this.state===S.Paused&&this._resume()},Ve._processPart=function(Pe){var xe=this;return this._hashPart(Pe.toString(),function(){var be,Ue;return xe.size>xe._part_size?((Ue=Pe*xe._part_size)>xe.size&&(Ue=xe.size),be=xe._file.slice((Pe-1)*xe._part_size,Ue)):be=xe._file,be},function(be){return o().hash(be).then(function(Ue){return{md5:Ue,part:Pe}})})},Ve._resume=function(Pe,xe){var be,Ue=this;if(void 0===Pe&&(Pe=null),void 0===xe&&(xe=null),Pe)if("parts"===Pe.type)for(this._pending_parts=Pe.part_list,Pe.part_data&&(this._memoization=Pe.part_data),be=0;be<this._upload.parallel;be+=1)this._nextPart();else this._request.signUpload(Pe).then(function(He){var it=He.responseXML.getElementsByTagName("UploadId")[0].textContent;Ue._request.updateStatus({resumable_id:it,file_id:window.btoa(l(xe.md5)),part:1}).then(function(je){for(Ue._nextPartIndex(),Ue._setPart(je,xe),be=1;be<Ue._upload.parallel;be+=1)Ue._nextPart()},function(je){Ue._restart(),Ue._onError(je)})},function(He){Ue._restart(),Ue._onError(He)});else for(be=0;be<this._upload.parallel;be+=1)this._nextPart()},Ve._generatePartManifest=function(){var Pe,xe,be="<CompleteMultipartUpload>";for(Pe=1;Pe<1e4&&(xe=this._memoization[Pe]);Pe+=1)be+="<Part><PartNumber>"+Pe+'</PartNumber><ETag>"'+xe.md5+'"</ETag></Part>';return be+"</CompleteMultipartUpload>"},Ve._nextPart=function(){var Pe,xe=this,be=this._nextPartIndex();(be-1)*this._part_size<this.size?this._processPart(be).then(function(Ue){xe.state===S.Uploading&&(Pe=xe._getPartData(),xe._request.signNextChunk(be,window.btoa(l(Ue.md5)),Pe.part_list,Pe.part_data).then(function(He){xe._setPart(He,Ue)},function(He){return xe._onError(He)}))},function(Ue){return xe._onError(Ue)}):1===this._currentParts.length&&this._currentParts[0]===be?(this._finishing=!0,this._request.signChunk("finish").then(function(Ue){Ue.data=xe._generatePartManifest(),xe._request.signUpload(Ue).then(function(){return xe._finalise()},function(He){return xe._onError(He)})},function(Ue){return xe._onError(Ue)})):this._finishing||(this._completePart(be),(Pe=this._getPartData()).part_update=!0,this._request.updateStatus(Pe))},Ve._setPart=function(Pe,xe){var be=this;this._makeRequest(xe,Pe).then(function(){return be._nextPart()},function(Ue){return be._onError(Ue)})},Ve._direct=function(Pe,xe){var be=this,Ue=this._makeRequest(xe,Pe);this._direct_upload=!0,Ue.then(function(){return be._finalise()},function(He){return be._onError(He)})},Fe}(ie);ye.lookup="AmazonS3";var G=function(Me){function Fe(){for(var Pe,xe=arguments.length,be=new Array(xe),Ue=0;Ue<xe;Ue++)be[Ue]=arguments[Ue];return(Pe=Me.call.apply(Me,[this].concat(be))||this)._partSize=2097152,Pe}v(Fe,Me);var Ve=Fe.prototype;return Ve._start=function(){var Pe=this;if(void 0===this._strategy){if(this.state=S.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(xe){Pe.state===S.Uploading&&Pe._request.signUpload({file_id:xe.md5}).then(function(be){Pe._strategy=be.type,"direct_upload"===be.type?Pe._direct(be,xe):Pe._resume(be,xe)},Pe._onError.bind(Pe))},this._onError.bind(this))}else this.state===S.Paused&&this._resume()},Ve._processPart=function(Pe){var xe=this;return this._hashPart(Pe.toString(),function(){var be,Ue;return xe.size>xe._partSize?((Ue=Pe*xe._partSize)>xe.size&&(Ue=xe.size),be=xe._file.slice((Pe-1)*xe._partSize,Ue)):be=xe._file,be},function(be){return o().hash(be).then(function(Ue){return{md5:window.btoa(l(Ue)),part:Pe}})})},Ve._resume=function(Pe,xe){var be,Ue=this;if(void 0===Pe&&(Pe=null),void 0===xe&&(xe=null),Pe)if("parts"===Pe.type)for(this._pending_parts=Pe.part_list,be=0;be<this._upload.parallel;be+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:xe.md5,part:1}).then(function(He){for(Ue._nextPartIndex(),Ue._setPart(He,xe),be=1;be<Ue._upload.parallel;be+=1)Ue._nextPart()},function(He){this._restart(),this._onError(He)});else for(be=0;be<this._upload.parallel;be+=1)this._nextPart()},Ve._generatePartManifest=function(){for(var Pe='<?xml version="1.0" encoding="utf-8"?><BlockList>',xe=0;xe<5e4&&xe*this._partSize<this.size;xe+=1)Pe+="<Latest>"+window.btoa(this._pad(xe+1))+"</Latest>";return Pe+"</BlockList>"},Ve._pad=function(Pe){for(var xe=Pe.toString();xe.length<6;)xe="0"+xe;return xe},Ve._nextPart=function(){var Pe=this,xe=this._nextPartIndex();(xe-1)*this._partSize<this.size?this._processPart(xe).then(function(be){Pe.state===S.Uploading&&Pe._request.signNextChunk(xe,be.md5,Pe._currentParts()).then(function(Ue){Pe._setPart(Ue,be)},Pe._onError.bind(Pe))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===xe?(this._finishing=!0,this._request.signChunk("finish").then(function(be){be.data=Pe._generatePartManifest(),Pe._request.signUpload(be).then(Pe._finalise.bind(Pe),Pe._onError.bind(Pe))},this._onError.bind(this))):this._finishing||(this._completePart(xe),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},Ve._setPart=function(Pe,xe){var be=this;this._makeRequest(xe,Pe).then(function(){be._completePart(xe.part),be._nextPart()},this._onError.bind(this))},Ve._direct=function(Pe,xe){var be=this,Ue=this._makeRequest(xe,Pe);this._direct_upload=!0,Ue.then(function(){return be._finalise()},this._onError.bind(this))},Fe}(ie);G.lookup="MicrosoftAzure";var _e=function(Me){function Fe(){return Me.apply(this,arguments)||this}v(Fe,Me);var Ve=Fe.prototype;return Ve._start=function(){var Pe=this;void 0!==this._strategy&&this.state!==S.Paused||(this.state=S.Uploading,this._strategy=null,this._processPart(this._file).then(function(xe){Pe.state===S.Uploading&&Pe._request.signUpload({file_id:xe.md5}).then(function(be){Pe._strategy=be.type,"direct_upload"===be.type?Pe._direct(be,xe):Pe._resume(be,xe)},Pe._onError.bind(Pe))},this._onError.bind(this)))},Ve._processPart=function(Pe,xe){return void 0===xe&&(xe=0),this._hashPart(xe.toString(),function(){return Pe},function(be){return o().hash(be).then(function(Ue){return{md5:window.btoa(l(Ue)),part:xe}})})},Ve._resume=function(Pe,xe){var be=this;this._request.signUpload(Pe).then(function(Ue){if("status"===Pe.type)if(Ue.status===Pe.expected){var He=parseInt(Ue.getResponseHeader("Range").split("-")[1],10)+1;be._processPart(be._file.slice(He),He).then(function(it){be.state===S.Uploading&&be._request.signChunk(He,it.md5).then(function(je){be._performUpload(je,it)},be._onError.bind(be))},be._onError.bind(be))}else be._finalise();else be._request.updateStatus({resumable_id:be._getQueryParams(Ue.getResponseHeader("Location").split("?")[1]).upload_id,file_id:xe.md5,part:0}).then(function(it){return be._performUpload(it,xe)},function(it){this._restart(),this._onError(it)})},this._onError.bind(this))},Ve._performUpload=function(Pe,xe){var be=this;this._makeRequest(xe,Pe).then(function(){return be._finalise()},this._onError.bind(this))},Ve._direct=function(Pe,xe){var be=this,Ue=this._makeRequest(xe,Pe);this._direct_upload=!0,Ue.then(function(){be._finalise()},this._onError.bind(this))},Ve._getQueryParams=function(Pe){Pe=Pe.split("+").join(" ");for(var xe,be={},Ue=/[?&]?([^=]+)=([^&]*)/g;xe=Ue.exec(Pe);)be[decodeURIComponent(xe[1])]=decodeURIComponent(xe[2]);return be},Fe}(ie);_e.lookup="GoogleCloudStorage";var Ie=function(Me){function Fe(){for(var Pe,xe=arguments.length,be=new Array(xe),Ue=0;Ue<xe;Ue++)be[Ue]=arguments[Ue];return(Pe=Me.call.apply(Me,[this].concat(be))||this)._partSize=2097152,Pe}v(Fe,Me);var Ve=Fe.prototype;return Ve._start=function(){var Pe=this;if(void 0===this._strategy){if(this.state=S.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(xe){Pe.state===S.Uploading&&Pe._request.signUpload({file_id:xe.md5}).then(function(be){Pe._strategy=be.type,"direct_upload"===be.type?Pe._direct(be,xe):Pe._resume(be,xe)},Pe._onError.bind(Pe))},this._onError.bind(this))}else this.state===S.Paused&&this._resume()},Ve._processPart=function(Pe){var xe=this;return this._hashPart(Pe.toString(),function(){var be,Ue;return xe.size>xe._partSize?((Ue=Pe*xe._partSize)>xe.size&&(Ue=xe.size),be=xe._file.slice((Pe-1)*xe._partSize,Ue)):be=xe._file,be},function(be){return o().hash(be).then(function(Ue){return{md5:Ue,part:Pe,size_bytes:be.size}})})},Ve._resume=function(Pe,xe){var be,Ue=this;if(void 0===Pe&&(Pe=null),void 0===xe&&(xe=null),Pe)if("parts"===Pe.type){if(this._pending_parts=Pe.part_list,Pe.part_data){var He;for(var it in this._memoization=Pe.part_data,this._memoization)this._memoization.hasOwnProperty(it)&&((He=this._memoization[it]).path||this._pending_parts.push(He.part));this._pending_parts=this._pending_parts.sort().filter(function(je,Be,lt){return!Be||je!==lt[Be-1]})}for(be=0;be<this._upload.parallel;be+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:xe.md5,part:1}).then(function(je){for(Ue._nextPartIndex(),Ue._memoization[1].path=je.path,Ue._setPart(je,xe),be=1;be<Ue._upload.parallel;be+=1)Ue._nextPart()},function(je){this._restart(),this._onError(je)});else for(be=0;be<this._upload.parallel;be+=1)this._nextPart()},Ve._generatePartManifest=function(){for(var Pe,xe=[],be=1;be<1e4&&(Pe=this._memoization[be]);be+=1)xe.push({path:Pe.path,etag:Pe.md5,size_bytes:Pe.size_bytes});return JSON.stringify(xe)},Ve._nextPart=function(){var Pe,xe=this,be=this._nextPartIndex();(be-1)*this._partSize<this.size?this._processPart(be).then(function(Ue){xe.state===S.Uploading&&(Pe=xe._getPartData(),xe._request.signNextChunk(be,Ue.md5,Pe.part_list,Pe.part_data).then(function(He){xe._memoization[be].path=He.path,xe._setPart(He,Ue)},xe._onError.bind(xe)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===be?(this._finishing=!0,this._request.signChunk("finish").then(function(Ue){Ue.signature?(Ue.data=xe._generatePartManifest(),xe._request.signUpload(Ue).then(xe._finalise.bind(xe),xe._onError.bind(xe))):xe._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(be),(Pe=this._getPartData()).part_update=!0,this._request.updateStatus(Pe))},Ve._setPart=function(Pe,xe){var be=this;this._makeRequest(xe,Pe).then(function(){be._completePart(xe.part),be._nextPart()},this._onError.bind(this))},Ve._direct=function(Pe,xe){var be=this,Ue=this._makeRequest(xe,Pe);this._direct_upload=!0,Ue.then(function(){return be._finalise()},this._onError.bind(this))},Fe}(ie);Ie.lookup="OpenStackSwift"},1228:(Je,K,t)=>{"use strict";t.d(K,{lL:()=>ct,i9:()=>At,gA:()=>ie,ih:()=>G,hX:()=>nt,We:()=>Et});var e=t(2654),n=t(591),y=t(8929),T=t(3753),v=t(6787),O=t(2198),C=t(4850),E=t(1177);class f{constructor(rt,le){this.keySelector=rt,this.flushes=le}call(rt,le){return le.subscribe(new _(rt,this.keySelector,this.flushes))}}class _ extends E.Ds{constructor(rt,le,te){super(rt),this.keySelector=le,this.values=new Set,te&&this.add((0,E.ft)(te,new E.IY(this)))}notifyNext(){this.values.clear()}notifyError(rt){this._error(rt)}_next(rt){this.keySelector?this._useKeySelector(rt):this._finalizeNext(rt,rt)}_useKeySelector(rt){let le;const{destination:te}=this;try{le=this.keySelector(rt)}catch(J){return void te.error(J)}this._finalizeNext(le,rt)}_finalizeNext(rt,le){const{values:te}=this;te.has(rt)||(te.add(rt),this.destination.next(le))}}var l=t(8759);function m(){return(m=Object.assign||function(Ke){for(var rt=1;rt<arguments.length;rt++){var le=arguments[rt];for(var te in le)Object.prototype.hasOwnProperty.call(le,te)&&(Ke[te]=le[te])}return Ke}).apply(this,arguments)}function h(Ke,rt){(null==rt||rt>Ke.length)&&(rt=Ke.length);for(var le=0,te=new Array(rt);le<rt;le++)te[le]=Ke[le];return te}function d(Ke,rt){var le=typeof Symbol<"u"&&Ke[Symbol.iterator]||Ke["@@iterator"];if(le)return(le=le.call(Ke)).next.bind(le);if(Array.isArray(Ke)||(le=function(J,ne){if(J){if("string"==typeof J)return h(J,void 0);var $e=Object.prototype.toString.call(J).slice(8,-1);return"Object"===$e&&J.constructor&&($e=J.constructor.name),"Map"===$e||"Set"===$e?Array.from(J):"Arguments"===$e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e)?h(J,void 0):void 0}}(Ke))||rt&&Ke&&"number"==typeof Ke.length){le&&(Ke=le);var te=0;return function(){return te>=Ke.length?{done:!0}:{done:!1,value:Ke[te++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c={},a={};function s(Ke,rt,le){if(void 0===le&&(le=300),!(Ke&&rt&&rt instanceof Function))throw new Error(Ke?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");r(Ke),c[Ke]=setTimeout(function(){rt(),delete c[Ke]},le)}function r(Ke){c[Ke]&&(clearTimeout(c[Ke]),delete c[Ke])}function o(Ke,rt){S(Ke),a[Ke]=rt}function S(Ke){a&&a[Ke]&&(a[Ke]instanceof e.w?a[Ke].unsubscribe():a[Ke](),delete a[Ke])}function I(Ke,rt,le,te,J,ne){if(void 0===te&&(te="debug"),void 0===J&&(J=!1),void 0===ne&&(ne="SVG VIEWER"),window.debug||J){var $e,Qe,Tt=["color: #E91E63","color: #ffb300","color: default"];le?($e=console)[te].apply($e,["%c["+ne+"]%c["+Ke+"] %c"+rt].concat(Tt,[le])):(Qe=console)[te].apply(Qe,["%c["+ne+"]%c["+Ke+"] %c"+rt].concat(Tt))}}function x(Ke){for(var rt,le=Ke.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),te=d(le);!(rt=te()).done;){var J=rt.value;le.splice(le.indexOf(J),1,[J.replace(/^\\/g,"")])}return le.join(" ")}function P(Ke){return Ke?Ke instanceof MouseEvent?{x:Ke.clientX,y:Ke.clientY}:Ke.touches&&Ke.touches.length>0?{x:Ke.touches[0].clientX,y:Ke.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function u(Ke,rt,le,te){var J,ne;void 0===te&&(te=1);var $e=null==(J=Ke.element)?void 0:J.querySelector(".svg-viewer__svg-overlays");if((null==(ne=Ke.element)?void 0:ne.querySelector("svg"))&&$e){var Qe=le||$e?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(rt.x-Qe.left)/Qe.width*te)),y:Math.max(0,Math.min(1,(rt.y-Qe.top)/Qe.height*te))}}return I("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function R(Ke,rt){return Math.sqrt(Math.pow(Ke.x-rt.x,2)+Math.pow(Ke.y-rt.y,2))}function w(Ke,rt,le){return{x:Ke.x+(rt.x-Ke.x)*le,y:Ke.y+(rt.y-Ke.y)*le}}function F(Ke){if(!Ke)return"";var rt=m({},Ke);for(var le in rt)rt[le]instanceof Object&&(rt[le]=""+rt[le]);return rt}function B(Ke){return Ke<26?Ke+65:Ke<52?Ke+71:Ke<62?Ke-4:62===Ke?43:63===Ke?47:65}var H={top:0,left:0,bottom:0,right:0,height:0,width:0},$=function(){function Ke(rt){var le,te,J,ne,$e,Qe,Tt;if(this.id=rt.id||"map-"+Math.floor(999999*Math.random()),this.url=rt.url||"local-"+l.V8.hashAsciiStr(rt.svg_data||""),this.element=rt.element||null,this.labels=rt.labels||[],this.features=rt.features||[],this.actions=rt.actions||[],this.styles=rt.styles||{},this.svg_data=rt.svg_data||"",this.content_ratio=rt.content_ratio||{x:1,y:1},this.zoom=rt.zoom||1,this.center={x:null!=(le=null==(te=rt.center)?void 0:te.x)?le:.5,y:null!=(J=null==(ne=rt.center)?void 0:ne.y)?J:.5},this.rotate=rt.rotate||0,this.ratio=rt.ratio||1,this.svg_ratio=rt.svg_ratio||1,this.max_resolution=rt.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=rt.focus||null,this.options=rt.options||{},this.mappings=rt.mappings||{},this.box={top:(rt.box||H).top,left:(rt.box||H).left,height:(rt.box||H).height,width:(rt.box||H).width},this.desired_zoom=rt.desired_zoom||rt.zoom||this.zoom,this.desired_center={x:(null==($e=rt.desired_center)?void 0:$e.x)||this.center.x,y:(null==(Qe=rt.desired_center)?void 0:Qe.y)||this.center.y},this.updated_count=(rt.updated_count||0)+1,this.zoom!==this.desired_zoom){var zt=this.desired_zoom-this.zoom>=0?1:-1,cn=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),an=Math.round(cn/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===cn?this.zoom+zt*cn:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*an,y:this.center.y+(this.desired_center.y-this.center.y)*an}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var vn=this.desired_center.x-this.center.x>=0?1:-1,Dn=this.desired_center.y-this.center.y>=0?1:-1,Tn=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Pn=Tn/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+vn*Tn,y:this.center.y+Dn*Pn}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(Tt=rt?.use_gpu)||Tt}return Ke.prototype.contains=function(rt){this.svg_data.includes('id="'+rt+'"')},Ke}(),j=new n.X([]),V=new y.xQ,Q=V.pipe((0,O.h)(function(Ke){return"resize"===Ke}));function ie(Ke){return j.getValue().find(function(rt){return rt.id===Ke})}function ye(Ke,rt){var le=Ie();if(!((Ke=le.find(function(J){return J.id===(Ke instanceof $?Ke.id:Ke)}))instanceof $))return null;delete rt.url;var te=new $(m({},Ke,rt));return _e(te),te.needs_update&&s(Ke.id+"_updating",function(){return ye(te,{})},16),te}function G(Ke){return j.pipe((0,O.h)(function(rt){return!!rt.find(function(le){return le.id===Ke})}),(0,C.U)(function(rt){return rt.find(function(le){return le.id===Ke})}),function i(Ke,rt){return le=>le.lift(new f(Ke,rt))}())}function _e(Ke){var rt=Ie().filter(function(le){return le.id!==Ke.id});rt.push(Ke),j.next(rt)}function Ie(){return j.getValue()}var Me,Fe,Ve,Pe,xe,be,Ue,He=new n.X({}),it={},je=!1,Be=!1,lt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Ye=!1;function et(Ke,rt,le){if(void 0===le&&(le=Me),!je){Be=!0;var te=ie(Ke);if(te){var J=P(rt),ne={x:Math.max(0,Math.min(1,(J.x-le.x)/te.box.width/te.desired_zoom/te.svg_ratio+te.center.x)),y:Math.max(0,Math.min(1,(J.y-le.y)/te.box.height/te.desired_zoom/te.svg_ratio+te.center.y))};Me=J,ye(te,{center:ne,desired_center:ne})}}}function ot(){I("INPUT","Ending pinch/pan..."),r("pan_start"),je=!1,Be=!1,Pe&&window.removeEventListener("mousemove",Pe),xe&&window.removeEventListener("mouseup",xe),be&&window.removeEventListener("touchmove",be),Ue&&window.removeEventListener("touchend",Ue),Pe=xe=be=Ue=Fe=null}window.addEventListener("blur",function(){return ot()});var ge=function(Ke){try{return Promise.resolve(new Promise(function(rt){Ce[Ke.id]||(Ce[Ke.id]=[]),Ce[Ke.id].push(rt),s("resize-"+Ke.id,function(){var le=Ke.element;if(!le)throw new Error("No element set on viewer");var te=le.querySelector(".svg-viewer__view-container"),J=le.querySelector(".svg-viewer__svg-overlays"),ne=le.querySelector("#"+Ke.id),$e=le.querySelector(".svg-viewer"),Qe=le.querySelector(".svg-viewer__svg-output"),Tt=le.querySelector("iframe"),zt=$e?.getBoundingClientRect()||{},cn=te?.getBoundingClientRect()||{};if(!(J&&Qe&&Tt&&te))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var an,vn,Dn=zt.height/zt.width,Tn=(null==(an=Qe.firstElementChild)||null==(vn=an.viewBox)?void 0:vn.baseVal)||{},Pn=Tn.height/Tn.width;Qe.firstElementChild&&(Qe.firstElementChild.style.width="200%");var Rn=(zt.width-32)*Math.min(1,Dn/Pn),wt={width:Rn,height:Rn*Pn};J.style.width=Tn.width+"px",J.style.height=Tn.height+"px",te.style.width=Tn.width+"px",te.style.height=Tn.height+"px",Tt.style.width=Tn.width+"px",Tt.style.height=Tn.height+"px",Tt.width=""+Tn.width,Tt.height=""+Tn.height;var St=Math.min(zt.height/Tn.height,zt.width/Tn.width),_t=ne?.getBoundingClientRect(),Lt=J?.getBoundingClientRect(),en={x:1,y:1};_t&&Lt&&(en={x:Lt.width*St*.975/_t.width,y:Lt.height*St*.975/_t.height}),ue[Ke.id]="";var En=ye(Ke,{ratio:wt.height/wt.width,svg_ratio:St,box:cn,content_ratio:en});return En?(Ke=En,Promise.resolve(Ze(Ke)).then(function(){Ce[Ke.id].forEach(function(Ft){return Ft()}),Ce[Ke.id]=[]})):Promise.resolve()}catch(Ft){return Promise.reject(Ft)}})},100)}))}catch(rt){return Promise.reject(rt)}},we={},me={},fe={},Z={},ee={},ue={},Ce={};function Ze(Ke){return we[Ke.id]||(we[Ke.id]=new Promise(function(rt){var le=requestAnimationFrame(function(){if(we[Ke.id]){var te=Ke.element;if(!te)throw new Error("No element set on viewer");var J=te.querySelector("style"),ne="",$e=te.querySelector(".svg-viewer__render-container"),Qe="scale("+Ke.zoom*Ke.svg_ratio+")";if(!$e||!J)throw new Error("Viewer is not setup yet.");var Tt=100*Ke.zoom*Ke.svg_ratio*(Ke.center.x-.5),zt=100*Ke.zoom*Ke.svg_ratio*(Ke.center.y-.5);$e.style.transform=(Ke.use_gpu?"translate3d("+Tt+"%, "+zt+"%, 0)":"translate("+Tt+"%, "+zt+"%)")+" "+Qe+" rotate("+Ke.rotate+"deg)",ne+="#"+Ke.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+Ke.rotate+"deg) scale("+1/Ke.zoom*(1/Ke.svg_ratio)+"); }",J.innerHTML=ne+="#"+Ke.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+Ke.rotate+"deg); height: 100%; width: 100%; }",function cn(an){try{if((JSON.stringify(m({},an.styles))||"").localeCompare(ue[an.id])){var vn=an.element;if(!vn)throw new Error("No element set on viewer");var Dn=vn.querySelector(".svg-viewer__iframe");if(!Dn)throw new Error("No iframe created for viewer");if(!Dn.contentWindow)return Dn.onload=function(){setTimeout(function(){return cn(an)},50),setTimeout(function(){return cn(an)},500)},Promise.resolve();var Tn={};Tn["[empty"+Math.floor(999999*Math.random())+"]"]={};var Pn=Dt(m({},an.styles,Tn));Dn.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Pn}),"*")}return Promise.resolve()}catch(Rn){return Promise.reject(Rn)}}(Ke),function(cn){var an=JSON.stringify(cn.focus);if(cn.focus&&an!==it[cn.id]){var vn,Dn=Math.max(.5,Math.min(10,cn.focus.zoom_level||1));vn="string"==typeof cn.focus.location?function g(Ke,rt,le){var te,J,ne=null==(te=Ke.element)?void 0:te.querySelector(".svg-viewer__svg-overlays"),$e=null==(J=Ke.element)?void 0:J.querySelector("svg"),Qe=$e?.querySelector("#"+x(rt));if(Qe&&$e&&ne){var Tt=le||ne?.getBoundingClientRect()||{},zt=Qe?.getBoundingClientRect()||{};return{x:(zt.left+zt.width/2-Tt.left)/Tt.width,y:(zt.top+zt.height/2-Tt.top)/Tt.height}}return I("DOM","Unable to find element with ID "+rt,void 0,"warn"),{x:-1,y:-1}}(cn,cn.focus.location):cn.focus.location,it[cn.id]=an;var Tn={x:1-vn.x,y:1-vn.y};ye(cn,{center:Tn,desired_center:Tn,zoom:Dn,desired_zoom:Dn})}}(Ke),ft(Ke),delete we[Ke.id],cancelAnimationFrame(le),rt()}})})),we[Ke.id]}function ft(Ke){var rt,le,te=null==(rt=Ke.element)?void 0:rt.querySelector("svg");if(Object.keys(Ke.mappings||{}).length){var J=null==(le=Ke.element)?void 0:le.querySelector(".svg-viewer__svg-overlays");if(J&&te){if(!J.getBoundingClientRect().width)return s(Ke.id+"|render-overlays",function(){return ft(Ke)},50);requestAnimationFrame(function(){(function(ne){var $e=ne.labels.filter(function(En){return!En.zoom_level||En.zoom_level<=ne.zoom}),Qe=JSON.stringify($e);if(Qe!==fe[ne.id]){var Tt,zt=null==(Tt=ne.element)?void 0:Tt.querySelector(".svg-viewer__svg-overlays");if(!zt)return;Array.from(zt.querySelectorAll("[label]")).filter(function(En){return En.parentNode}).forEach(function(En){return zt.removeChild(En)});for(var cn,an=d($e);!(cn=an()).done;){var vn,Dn,Tn,Pn=cn.value,Rn={x:0,y:0},wt="~Nothing~";"string"==typeof Pn.location?(Rn=ne.mappings[Pn.location]||Rn,wt="#"+Pn.location):(null!=(vn=Pn.location)&&vn.y||null!=(Dn=Pn.location)&&Dn.x)&&(wt="loc-"+(Rn=Pn.location).x+"-"+Rn.y);var St=document.createElement("div");St.setAttribute("label","true"),St.classList.add("svg-viewer__svg-overlay-item"),St.classList.add("label"),St.style.top=100*Rn.y+"%",St.style.left=100*Rn.x+"%";var _t,Lt=document.createElement("div"),en=document.createElement("label");en.classList.add("svg-viewer__label"),en.setAttribute("for",wt),null!=(Tn=Pn.css_class)&&Tn.length&&(_t=en.classList).add.apply(_t,Pn.css_class),Pn.z_index&&(St.style.zIndex=""+Pn.z_index),en.textContent=Pn.content,Lt.appendChild(en),St.appendChild(Lt),zt.appendChild(St)}I("RENDER","Added "+ne.labels.length+" labels to view."),fe[ne.id]=Qe}})(Ke),function(ne){var $e=JSON.stringify(ne.actions.map(function(Pn){return m({},Pn,{callback:""})}));if($e!==ee[ne.id]){var Qe,Tt=null==(Qe=ne.element)?void 0:Qe.querySelector(".svg-viewer__svg-overlays");if(!Tt)return;Array.from(Tt.querySelectorAll(".action-zone")).filter(function(Pn){return Pn.parentNode&&Tt.contains(Pn.parentNode)}).forEach(function(Pn){return Tt.removeChild(Pn)});for(var zt,cn=d(ne.actions);!(zt=cn()).done;){var an=zt.value;if(an.action&&an.id&&"*"!==an.id&&!1!==an.zone){var vn=document.createElement("button");vn.id=""+an.id;var Dn=ne.mappings[an.id]||{x:0,y:0},Tn=ne.mappings[an.id]||{w:0,h:0};vn.classList.add("svg-viewer__svg-overlay-item"),vn.classList.add("action-zone"),vn.style.top=100*Dn.y+"%",vn.style.left=100*Dn.x+"%",(Tn.w||Tn.h)&&(vn.style.width=100*Tn.w+"%",vn.style.height=100*Tn.h+"%",vn.style.transform="translate(-50%, -50%)"),Tt.appendChild(vn)}}ee[ne.id]=$e}}(Ke),function(ne){var $e=JSON.stringify(ne.features.map(function(_t){return m({},_t,{content:"",data:F(_t.data)})}));if($e!==Z[ne.id]){var Qe,Tt=null==(Qe=ne.element)?void 0:Qe.querySelector(".svg-viewer__svg-overlays");if(!Tt)return console.log("Unable to get overlay element.");var zt=Tt.querySelectorAll(".feature"),cn=[];window.overlay_el=Tt,zt.forEach(function(_t){if(_t.parentNode){var Lt=_t.getAttribute("track-id");"none"!==Lt&&ne.features.find(function(en){return en.track_id===Lt})?cn.push(_t):Tt.removeChild(_t)}});for(var an,vn=d(ne.features);!(an=vn()).done;){var Dn,Tn,Pn=an.value;if(Pn.content&&!cn.includes(Pn.content)){var Rn={x:0,y:0},wt={w:0,h:0},St=document.createElement("div");"string"==typeof Pn.location?(St.id=""+Pn.location,Rn=ne.mappings[Pn.location]||Rn,(Pn.hover||Pn.full_size)&&(wt=ne.mappings[Pn.location]||wt)):(null!=(Dn=Pn.location)&&Dn.y||null!=(Tn=Pn.location)&&Tn.x)&&(Rn=Pn.location),(Rn.x||Rn.y)&&(St.classList.add("svg-viewer__svg-overlay-item"),St.setAttribute("feature","true"),St.setAttribute("track-id",""+(Pn.track_id||"none")),St.classList.add("feature"),Pn.z_index&&(St.style.zIndex=""+Pn.z_index),Pn.hover&&St.classList.add("svg-viewer__svg-overlay-item__hover"),St.style.top=100*Rn.y+"%",St.style.left=100*Rn.x+"%",wt.w||wt.h?(St.style.width=100*wt.w+"%",St.style.height=100*wt.h+"%"):(St.style.width="1%",St.style.height=1/ne.ratio+"%"),St.style.transform="translate(-50%, -50%)",Pn.content instanceof Node&&St.appendChild(Pn.content),Tt.appendChild(St))}}I("RENDER","Added "+ne.features.length+" features to view."),Z[ne.id]=$e}}(Ke)})}}}function Dt(Ke){var rt="";for(var le in Ke)if(Ke[le]){var te="";for(var J in Ke[le])Ke[le][J]&&(te+=J+": "+Ke[le][J]+"; ");rt+="svg "+le.split(" ").map(function(ne){return x(ne)}).join(" ")+" { "+te+" } "}return rt}o("on_resize",Q.subscribe(function(){for(var Ke,rt=function(){var te=Ke.value;s("resize-"+te.id,function(){return ge(te)})},le=d(Ie());!(Ke=le()).done;)rt()}));var At=function(Ke){try{var rt=function(J){return o((le=new $(m({},Ke,{svg_data:J}))).id+"-render",G(le.id).subscribe(function(ne){return Ze(ne)})),_e(le),Promise.resolve(function(ne){try{var $e,Qe,Tt=ne.element;if(!Tt)throw new Error("No element set on viewer");var zt=document.createElement("div"),cn=document.createElement("style"),an=document.createElement("div"),vn=document.createElement("div"),Dn=document.createElement("div"),Tn=document.createElement("div"),Pn=document.createElement("iframe");vn.appendChild(Dn),vn.appendChild(Tn),zt.appendChild(cn),zt.appendChild(an),an.appendChild(vn),zt.classList.add("svg-viewer"),zt.id=ne.id,cn.id=ne.id,Pn.id="svg-display",Pn.classList.add("svg-viewer__iframe"),an.classList.add("svg-viewer__view-container"),vn.classList.add("svg-viewer__render-container"),Tn.classList.add("svg-viewer__svg-overlays"),Dn.classList.add("svg-viewer__svg-output"),Dn.id="svg-output",Dn.innerHTML=ne.svg_data;var Rn=(null==($e=Dn.firstElementChild)||null==(Qe=$e.viewBox)?void 0:Qe.baseVal)||{};an.style.width=Rn.width+"px",an.style.height=Rn.height+"px",Tn.style.width=Rn.width+"px",Tn.style.height=Rn.height+"px",Tn.appendChild(Pn),Tt.appendChild(zt);var wt=an?.getBoundingClientRect()||{},St=ye(ne,{box:wt});return St?(ne=St,Promise.resolve(function _t(Lt){return new Promise(function(en){requestAnimationFrame(function(){var En,Ft=null==(En=Lt.element)?void 0:En.querySelector("svg");if(!Ft||!Ft.clientWidth)return s(Lt.id+"-setup",function(){return _t(Lt).then(function(vt){return en()})},100);var Bt=me[Lt.url]||function(vt){if(!vt)return{};var sn={},Zt=vt?.getBoundingClientRect()||{},bn=vt.querySelectorAll("[id]");return vt.id="svg-viewer-root",sn["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},bn.forEach(function(rn){var Yt=rn?.getBoundingClientRect()||{};sn[rn.id]={x:Math.floor((Yt.left+Yt.width/2-Zt.left)/Zt.width*1e5)/1e5,y:Math.floor((Yt.top+Yt.height/2-Zt.top)/Zt.height*1e5)/1e5,w:Math.floor(Yt.width/Zt.width*1e5)/1e5,h:Math.floor(Yt.height/Zt.height*1e5)/1e5}}),sn}(Ft);me[Lt.url]=Bt,ye(Lt,{mappings:Bt}),Ft.style.display="none",function(vt){try{var sn=JSON.stringify(m({},vt.styles))||"";if(sn.localeCompare(ue[vt.id])){var Zt,bn,rn=vt.element;if(!rn)throw new Error("No element set on viewer");var Yt=rn.querySelector(".svg-viewer__iframe"),Qt=rn.querySelector(".svg-viewer__svg-output");if(!Yt)throw new Error("No iframe created for viewer");var An=(null==(Zt=Qt.firstElementChild)||null==(bn=Zt.viewBox)?void 0:bn.baseVal)||{},Bn=""+vt.svg_data;Bn=/<svg[^>]*width="[^>]*>/.test(Bn)?Bn:Bn.replace("<svg",'<svg width="'+An.width+'" height="'+An.height+'" ');var Wn=function($n){for(var yn=2,Fn="",ti=$n.length,ei=0,ci=0;ci<ti;ci++)ci>0&&4*ci/3%76==0&&(Fn+="\r\n"),ei|=$n[ci]<<(16>>>(yn=ci%3)&24),2!==yn&&$n.length-ci!=1||(Fn+=String.fromCodePoint(B(ei>>>18&63),B(ei>>>12&63),B(ei>>>6&63),B(63&ei)),ei=0);return Fn.substr(0,Fn.length-2+yn)+(2===yn?"":1===yn?"=":"==")}(function($n){for(var yn,Fn,ti=$n.length,ei=0,ci=0;ci<ti;ci++){var Fi;(Fn=null!=(Fi=$n.codePointAt(ci))?Fi:0)>65536&&ci++,ei+=Fn<128?1:Fn<2048?2:Fn<65536?3:Fn<2097152?4:Fn<67108864?5:6}yn=new Uint8Array(ei);for(var hn=0,Kn=0;hn<ei;Kn++){var pi;(Fn=null!=(pi=$n.codePointAt(Kn))?pi:0)<128?yn[hn++]=Fn:Fn<2048?(yn[hn++]=192+(Fn>>>6),yn[hn++]=128+(63&Fn)):Fn<65536?(yn[hn++]=224+(Fn>>>12),yn[hn++]=128+(Fn>>>6&63),yn[hn++]=128+(63&Fn)):Fn<2097152?(yn[hn++]=240+(Fn>>>18),yn[hn++]=128+(Fn>>>12&63),yn[hn++]=128+(Fn>>>6&63),yn[hn++]=128+(63&Fn),Kn++):Fn<67108864?(yn[hn++]=248+(Fn>>>24),yn[hn++]=128+(Fn>>>18&63),yn[hn++]=128+(Fn>>>12&63),yn[hn++]=128+(Fn>>>6&63),yn[hn++]=128+(63&Fn),Kn++):(yn[hn++]=252+(Fn>>>30),yn[hn++]=128+(Fn>>>24&63),yn[hn++]=128+(Fn>>>18&63),yn[hn++]=128+(Fn>>>12&63),yn[hn++]=128+(Fn>>>6&63),yn[hn++]=128+(63&Fn),Kn++)}return yn}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+Dt(m({},vt.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+Bn+"</body></html>"));Yt.src="data:text/html;base64,"+Wn,ue[vt.id]=sn}Promise.resolve()}catch($n){return Promise.reject($n)}}(Lt),ft(Lt),en()})})}(ne)).then(function(){(function(_t,Lt){void 0===Lt&&(Lt=lt);var en=He.getValue(),En=_t.element;en[_t.id]&&en[_t.id].unsubscribe();for(var Ft,Bt=[],vt=function(){var Zt=Ft.value;Bt.push((0,T.R)(En,Zt).pipe((0,C.U)(function(bn){return{id:_t.id,type:Zt,event:bn}})))},sn=d(Lt);!(Ft=sn()).done;)vt();en[_t.id]=v.T.apply(void 0,Bt).subscribe(function(Zt){var bn,Bn,Wn,rn=Zt.id,Yt=Zt.type,Qt=Zt.event;switch(Qt.preventDefault(),function(An){var Bn,Wn=An.type,$n=An.event,yn=ie(An.id);if(yn&&null!=(Bn=yn.actions)&&Bn.length){var Fn=yn.actions.find(function(ti){var ei;return ti.action.includes(Wn)&&("*"===ti.id||ti.id===(null==(ei=$n.target)?void 0:ei.id))});Fn&&Fn.callback($n,u(yn,P($n)))}}(Zt),Yt){case"touchstart":case"mousedown":(null==(bn=Qt.touches)?void 0:bn.length)>=2?function(An,Bn){I("INPUT","Starting pinching..."),be&&window.removeEventListener("touchmove",be);var Wn=ie(An);if(je=!0,Wn&&!Wn.options.disable_zoom){var $n=[{x:Bn.touches[0].clientX,y:Bn.touches[0].clientY},{x:Bn.touches[1].clientX,y:Bn.touches[1].clientY}],yn=$n.map(function(ti){return u(Wn,ti)}),Fn={x:(yn[0].x+yn[1].x)/2,y:(yn[0].y+yn[1].y)/2};Fe={x:1-Fn.x,y:1-Fn.y},Ve=R($n[0],$n[1]),Bn instanceof MouseEvent||(be=function(ti){return ti.touches.length>=2?function(ei,ci,Fi){void 0===Fi&&(Fi=Ve);var hn=ie(ei);if(hn&&!hn.options.disable_zoom){var Kn=[{x:ci.touches[0].clientX,y:ci.touches[0].clientY},{x:ci.touches[1].clientX,y:ci.touches[1].clientY}],pi=R(Kn[0],Kn[1]),Mi=Math.max(.5,Math.min(10,hn.zoom*pi/Fi)),Ui=Mi!=hn.zoom?w(hn.center,Fe,1-hn.zoom/Mi):hn.center;Ve=pi,ye(hn,{zoom:Mi,center:Ui,desired_zoom:Mi,desired_center:Ui})}}(An,ti,Ve):""},window.addEventListener("touchmove",be))}}(rn,Qt):function(An,Bn){if(!je){I("INPUT","Starting panning...");var Wn=ie(An);Pe&&window.removeEventListener("mousemove",Pe),Pe&&window.removeEventListener("mouseup",xe),be&&window.removeEventListener("touchmove",be),be&&window.removeEventListener("touchend",Ue),Wn&&!Wn.options.disable_pan&&(Me=P(Bn),Bn instanceof MouseEvent?(Pe=function($n){return et(An,$n,Me)},xe=function(){return ot()},window.addEventListener("mousemove",Pe),window.addEventListener("mouseup",xe)):(be=function($n){return et(An,$n,Me)},Ue=function(){return ot()},window.addEventListener("touchmove",be),window.addEventListener("touchend",Ue)),s("pan_start",function(){return Be=!0},200))}}(rn,Qt);break;case"touchend":case"mouseup":Be||je||(Bn=Qt,(Wn=ie(rn))&&I("INPUT","Clicked:",u(Wn,P(Bn)))),ot();break;case"mousewheel":case"wheel":!function(An,Bn){var Wn=ie(An);if(Wn){var $n=Math.min(10,Math.max(.5,Wn.zoom*(1+(Bn.deltaY>=0?-.02:.02)))),yn=u(Wn,P(Bn));Fe={x:1-yn.x,y:1-yn.y},s("clear_action_start",function(){return Fe=null});var Fn=$n!=Wn.zoom?w(Wn.center,Fe,1-Wn.zoom/$n):Wn.center;ye(Wn,{zoom:$n,center:Fn,desired_zoom:$n,desired_center:Fn})}}(rn,Qt)}}),He.next(en)})(ne),Ye||(window.addEventListener("resize",function(){V.next("resize")}),window.addEventListener("blur",function(){return ot()}),Ye=!0),ge(ne)})):Promise.resolve()}catch(_t){return Promise.reject(_t)}}(le)).then(function(){return le.id})},le=Ie().find(function(J){return J.url===Ke.url});if(le)return Promise.resolve(le.id);var te=Ke.svg_data;return Promise.resolve(te?rt(te):Promise.resolve(function(J){void 0===J&&(J="");try{var ne=function($e){return Promise.resolve($e.text()).then(function(Qe){return Wt[J]=Qe,Qe})};return Promise.resolve(Wt[J]?ne({text:function(){try{return Promise.resolve(Wt[J])}catch($e){return Promise.reject($e)}}}):Promise.resolve(fetch(J)).then(ne))}catch($e){return Promise.reject($e)}}(Ke.url)).then(rt))}catch(J){return Promise.reject(J)}},Wt={};function Et(Ke,rt){return ye(Ke,rt)}function nt(Ke){var rt,le=ie(Ke);if(le){var te,J,ne,$e=null==(rt=le.element)?void 0:rt.querySelector(".svg-viewer");$e&&(le.element.removeChild($e),te=le,J=Ie().filter(function(Qe){return Qe.id!==te.id}),j.next(J),ne=""+Ke,Object.keys(a).filter(function(Qe){return Qe.includes(ne)}).forEach(function(Qe){return S(Qe)}))}}function ct(){var Ke=document.getElementById("svg-viewer-global");Ke||((Ke=document.createElement("style")).id="svg-viewer-global",Ke.innerHTML=Xe,document.head.appendChild(Ke),I("Styles","Added global viewer styles to document"))}var Xe="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},4351:(Je,K,t)=>{"use strict";function E(X,ce,Re,ut){return new(Re||(Re=Promise))(function(It,Jt){function mn(yi){try{On(ut.next(yi))}catch(Bi){Jt(Bi)}}function Hn(yi){try{On(ut.throw(yi))}catch(Bi){Jt(Bi)}}function On(yi){yi.done?It(yi.value):function Ot(It){return It instanceof Re?It:new Re(function(Jt){Jt(It)})}(yi.value).then(mn,Hn)}On((ut=ut.apply(X,ce||[])).next())})}t.d(K,{TT8:()=>ma,N9E:()=>bt,I4i:()=>hn,IVX:()=>Jo,U2M:()=>Or,rTZ:()=>Cc,Ogr:()=>Oi,y7C:()=>nn,Ggh:()=>kt,BW_:()=>Ai,kSL:()=>sr,ttN:()=>Ei,r$K:()=>go,v_Q:()=>Qo,gzd:()=>ur,vIL:()=>ru,I0G:()=>Za,g$u:()=>Gi,cYp:()=>no,rlq:()=>tn,hMA:()=>Ul,q$s:()=>ia,rao:()=>di,Ymr:()=>ln});var R=t(1737),w=t(1086),Ye=t(6498),et=t(2654),ot=t(5254);function ge(X,ce={}){const{selector:Re}=ce,ut=function $(X,ce){var Re={};for(var ut in X)Object.prototype.hasOwnProperty.call(X,ut)&&ce.indexOf(ut)<0&&(Re[ut]=X[ut]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ot=0;for(ut=Object.getOwnPropertySymbols(X);Ot<ut.length;Ot++)ce.indexOf(ut[Ot])<0&&Object.prototype.propertyIsEnumerable.call(X,ut[Ot])&&(Re[ut[Ot]]=X[ut[Ot]])}return Re}(ce,["selector"]);return new Ye.y(Ot=>{const It=new AbortController,Jt=It.signal;let mn=!0,Hn=!1;const On=new et.w;let yi;if(On.add(()=>{Hn=!0,mn&&It.abort()}),ut){if(ut.signal)if(ut.signal.aborted)It.abort();else{const Bi=ut.signal,si=()=>{Jt.aborted||It.abort()};Bi.addEventListener("abort",si),On.add(()=>Bi.removeEventListener("abort",si))}yi=Object.assign({},ut,{signal:Jt})}else yi={signal:Jt};return fetch(X,yi).then(Bi=>{Re?On.add((0,ot.D)(Re(Bi)).subscribe(si=>Ot.next(si),si=>{mn=!1,Hn||Ot.error(si)},()=>{mn=!1,Ot.complete()})):(mn=!1,Ot.next(Bi),Ot.complete())}).catch(Bi=>{mn=!1,Hn||Ot.error(Bi)}),On})}var we=t(2198),me=t(2986),fe=t(7545),Z=t(8929),ee=t(1177);class Ce{constructor(ce,Re){this.notifier=ce,this.source=Re}call(ce,Re){return Re.subscribe(new pt(ce,this.notifier,this.source))}}class pt extends ee.Ds{constructor(ce,Re,ut){super(ce),this.notifier=Re,this.source=ut}error(ce){if(!this.isStopped){let Re=this.errors,ut=this.retries,Ot=this.retriesSubscription;if(ut)this.errors=void 0,this.retriesSubscription=void 0;else{Re=new Z.xQ;try{const{notifier:It}=this;ut=It(Re)}catch(It){return super.error(It)}Ot=(0,ee.ft)(ut,new ee.IY(this))}this._unsubscribeAndRecycle(),this.errors=Re,this.retries=ut,this.retriesSubscription=Ot,Re.next(ce)}}_unsubscribe(){const{errors:ce,retriesSubscription:Re}=this;ce&&(ce.unsubscribe(),this.errors=void 0),Re&&(Re.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:ce}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=ce,this.source.subscribe(this)}}var Ze=t(1709),ft=t(8761),Dt=t(4960),At=t(1998),Wt=t(1201),Et=t(833),ct=t(1302),Xe=t(591),Ke=t(4850),rt=t(8759);function le(X,ce,Re,ut="debug",Ot){if(window.debug){const Jt=["color: #0288D1",`color:${Ot||"#009688"}`,"color: default"];Re?te()?console[ut](`%c[PlaceOS]%c[${X}] %c${ce}`,...Jt,Re):console[ut](`[PlaceOS][${X}] ${ce}`,Re):te()?console[ut](`%c[PlaceOS]%c[${X}] %c${ce}`,...Jt):console[ut](`[PlaceOS][${X}] ${ce}`)}}function te(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function J(){var X,ce,Re,ut,Ot,It;const Jt=null!==(X=window.location)&&void 0!==X&&X.hash?null===(ce=window.location)||void 0===ce?void 0:ce.hash.slice(1):(null===(Re=window.location)||void 0===Re?void 0:Re.href.split("#")[1])||"";let mn=null!==(ut=window.location)&&void 0!==ut&&ut.search?null===(Ot=window.location)||void 0===Ot?void 0:Ot.search.slice(1):(null===(It=window.location)||void 0===It?void 0:It.href.split("?")[1])||"",Hn={};if(Jt)if(Jt.indexOf("?")>=0){const yi=Jt.split("?");Hn=ne(yi[0]),mn||(mn=yi[1])}else Hn=ne(Jt);let On={};return mn&&(On=ne(mn)),Object.assign(Object.assign({},Hn),On)}function ne(X){const ce={},Re=X.split("&");for(const ut of Re){const Ot=ut.split("=");Ot[1]&&(ce[decodeURIComponent(Ot[0])]=decodeURIComponent(Ot[1]))}return ce}const $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Tt(X){var ce,Re,ut,Ot,It;const Jt=((null===(ce=window.location)||void 0===ce?void 0:ce.hash)||"").replace(new RegExp(`${X}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),mn=((null===(Re=window.location)||void 0===Re?void 0:Re.search)||"").replace(new RegExp(`${X}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(ut=window.history)&&void 0!==ut&&ut.replaceState&&(null===(Ot=window.history)||void 0===Ot||Ot.replaceState(null,"",`${null===(It=window.location)||void 0===It?void 0:It.pathname}${Jt}${mn}`))}class Tn{abort(){le("Stub","Aborted")}}function Pn(X){let ce="";if(X)for(const Re in X)X.hasOwnProperty(Re)&&null!=X[Re]&&(ce+=`${ce?"&":""}${Re}=${encodeURIComponent(X[Re])}`);return ce}const Rn={};function Lt(X,ce,Re=300){if(!(X&&ce&&ce instanceof Function))throw new Error(X?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");en(X),Rn[X]=setTimeout(()=>{ce(),delete Rn[X]},Re)}function en(X){Rn[X]&&(clearTimeout(Rn[X]),delete Rn[X])}const sn={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};let bn,rn,Zt={};const Yt={};let Qt="",An="";const Bn=new Xe.X(""),Wn=new Xe.X("");let $n="/api/engine/v2";const yn=new Xe.X(!1),Fn=yn.asObservable();let ti=0;function ei(){var X,ce;return`${Zt.secure||(null===(X=window.location)||void 0===X?void 0:X.protocol.indexOf("https"))>=0?"https:":"http:"}//${Zt.host||(null===(ce=window.location)||void 0===ce?void 0:ce.host)}${ci()}`}function ci(){return"ACA Engine"===Zt.version?"/control/api":$n}function hn(){return Qt}function Mi(){return Ri("x-api-key",!1)||""}function di(X=!0){if(Zt.mock)return"mock-token";if(!bn)return"";if(Mi())return"x-api-key";const ce=bn.getItem(`${Qt}_expires_at`)||"",Re=Bn.getValue();return(0,Dt.Z)(+ce,new Date)&&(le("Auth","Token expired. Requesting new token..."),Oi(),Yt.load_authority||(ti+=1,Lt("re-authorise",()=>rr(),200*Math.min(20,ti))),!X)?"":Re||bn.getItem(`${Qt}_access_token`)||""}function Gi(){return Wn.getValue()||bn.getItem(`${Qt}_refresh_token`)||""}function jt(){var X;return Zt.host||(null===(X=window.location)||void 0===X?void 0:X.host)}function bt(){return rn}function kt(){return yn.getValue()}function nn(){return!!Zt.mock}function Ei(){return Fn}function ii(){return"true"===Ri("trust")||"true"===Ri("trusted")}function ao(){return"true"===Ri("fixed_device")}function Ri(X,ce=!0){let ut=J()[X];if(bn){const Ot=`${hn()}_${X}`;ut=ut||bn.getItem(Ot)||bn.getItem(X)||"",ce&&bn.setItem(Ot,`${ut}`)}return ut}function no(X){var ce;return Zt=X||Zt,Zt.token_header=null!==(ce=Zt.token_header)&&void 0!==ce?ce:function Dn(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=Tn),bn="session"===Zt.storage?sessionStorage:localStorage,Qt=rt.V8.hashStr(Zt.redirect_uri,!1),Yo()}function Ao(){return le("Auth","Refreshing authorty."),rn=void 0,Yo()}function Oi(){le("Auth","Invalidating tokens."),bn.removeItem(`${Qt}_access_token`),bn.removeItem(`${Qt}_expires_at`),Bn.getValue()&&Bn.next("")}function rr(X,ce=rn){return Yt.authorise||(Yt.authorise=new Promise((Re,ut)=>{if(!ce)return delete Yt.authorise,ut("Authority is not loaded");le("Auth","Authorising user...");const Ot=()=>{if(di(!1))le("Auth","Valid token found."),delete Yt.authorise,Re(di());else{const It=[()=>{le("Auth","Successfully generated token."),Re(di()),delete Yt.authorise},()=>{le("Auth","Failed to generate token."),ut("Failed to generate token"),setTimeout(()=>delete Yt.authorise,200)}];Zt&&"password"===Zt.auth_type?(le("Auth","Logging in with credentials."),function ps(X){return Co(function Zi(X){return`${X.token_uri||"/auth/token"}?${Pn({grant_type:"password",client_id:Qt,client_secret:X.client_secret,redirect_uri:X.redirect_uri,authority:rn?.id,scope:X.scope,username:X.username,password:X.password})}`}(X))}(Zt).then(...It),ti=0):An||Gi()?(le("Auth","Generating token with "+(An?"code":"refresh token")),lr().then(...It),ti=0):ce.session?(le("Auth","Users has session. Authorising application..."),function xt(X){var ce;return E(this,void 0,void 0,function*(){const Re=function gn(X){const ce=function Lr(){const X=function Qe(X=40){let ce="";for(let Re=0;Re<X;Re++)ce+=$e.charAt(Math.floor(Math.random()*$e.length));return ce}();return bn.setItem(`${Qt}_nonce`,X),X}();X=X?`${ce};${X}`:ce;const Re=!!Zt&&(Zt.auth_uri||"").indexOf("?")>=0,ut=(Zt?Zt.auth_uri:null)||"/auth/oauth/authorize",Ot=ii()||"auth_code"===Zt.auth_type?"code":"token";let It=`${ut}${Re?"&":"?"}response_type=${encodeURIComponent(Ot)}&client_id=${encodeURIComponent(Qt)}&state=${encodeURIComponent(X)}&redirect_uri=${encodeURIComponent(Zt.redirect_uri)}&scope=${encodeURIComponent(Zt.scope)}`;if("auth_code"===Zt.auth_type){const{challenge:Jt,verify:mn}=function Yi(X=43){const ce=new Array(X).fill(0).map(()=>oi[Math.floor(Math.random()*oi.length)]).join(""),Re=ft.K9(ft.m(ce));return{challenge:ce,verify:ft.J2(ct.hash(Re)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${Qt}_challenge`,Jt),It+="&code_challenge_method=S256",It+=`&code_challenge=${mn}`}return It}(X);if(Zt.use_iframe)return function Kt(X){return Yt.iframe_auth||(Yt.iframe_auth=new Promise((ce,Re)=>{le("Auth","Authorizing in an iFrame...");const ut=document.createElement("iframe");ut.style.position="absolute",ut.style.top="0",ut.style.left="0",ut.style.height="1px",ut.style.width="1px",ut.style.zIndex="-1",ut.id="place-authorize",ut.src=`${X}`;const Ot=It=>{var Jt;if(It.origin===(null===(Jt=window.location)||void 0===Jt?void 0:Jt.origin)&&"place-os"===It.data.type){const mn=It.data;if(le("Auth","Received credentials from iFrame..."),document.body.removeChild(ut),en("iframe_auth"),window.removeEventListener("message",Ot),delete Yt.iframe_auth,mn.token)return ce(),wr(Object.assign({access_token:mn.token},mn));An=mn.code||"",lr().then(Hn=>ce(Hn),Hn=>Re(Hn))}};Lt("iframe_auth",()=>{le("Auth","Unable to resolve iFrame after 15 seconds..."),Re()},15e3),window.addEventListener("message",Ot),ut.onerror=It=>{le("Auth","iFrame error.",It),delete Yt.iframe_auth,Re()},document.body.appendChild(ut)})),Yt.iframe_auth}(Re);null===(ce=window.location)||void 0===ce||ce.assign(Re)})}(X).then(...It)):(le("Auth","No user session"),function Ne(X){var ce,Re;if(!1!==Zt.handle_login&&!se){le("Auth","Redirecting to login page...");const ut=null===(ce=X.login_url)||void 0===ce?void 0:ce.replace("{{url}}",encodeURIComponent(null===(Re=window.location)||void 0===Re?void 0:Re.href));throw setTimeout(()=>{var Ot;return null===(Ot=window.location)||void 0===Ot?void 0:Ot.assign(ut)},300),se=!0,new Error("Redirecting to login page...")}le("Auth","Login being handled locally."),delete Yt.authorise}(ce),ut("No user session"),setTimeout(()=>delete Yt.authorise,200))}};(function yt(){return Yt.check_token||(Yt.check_token=new Promise((X,ce)=>E(this,void 0,void 0,function*(){di()?(le("Auth","Valid token found."),X(di())):(le("Auth","No token. Checking URL for auth credentials..."),(yield function Pt(){return Yt.check_params||(Yt.check_params=new Promise(X=>{le("Auth","Checking for auth parameters...");let ce=J();if((!ce||Object.keys(ce).length<=0)&&sessionStorage&&(ce=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),ce&&(ce.code||ce.access_token||ce.refresh_token)){ce.code&&(An=ce.code,Tt("code")),ce.refresh_token&&(bn.setItem(`${Qt}_refresh_token`,ce.refresh_token),Tt("refresh_token"));const Re=bn.getItem(`${Qt}_nonce`)||"",ut=(ce.state||"").split(";");Tt("state"),Tt("token_type"),Re===ut[0]?(wr(ce),X(!!ce.access_token)):X(!1)}else X(!1);Lt("check_params_promise",()=>delete Yt.check_params,50)})),Yt.check_params}())?X(!0):ce()),delete Yt.check_token}))),Yt.check_token})().then(Ot,Ot)})),Yt.authorise}function sr(){const X=()=>{for(let Re=0;Re<bn.length;Re++){const ut=bn.key(Re);ut&&ut.indexOf(Qt)>=0&&bn.removeItem(ut)}const ce=rn?rn.logout_url:"/logout";setTimeout(()=>{var Re;return null===(Re=window.location)||void 0===Re?void 0:Re.assign(ce)},300),yn.next(!1)};(function ar(){return Yt.revoke_token||(Yt.revoke_token=new Promise((X,ce)=>{le("Auth","Revoking token...");const ut=Ot=>{le("Auth","Error revoking token.",Ot),ce(Ot),delete Yt.revoke_token};ge(`${Zt.token_uri||"/auth/token"}?token=${di()}`,{method:"POST"}).subscribe(Ot=>{if(!Ot.ok)return ut(Ot);le("Auth","Successfully revoked token."),Bn.next(""),Wn.next(""),bn.removeItem(`${Qt}_access_token`),bn.removeItem(`${Qt}_refresh_token`),X(),delete Yt.revoke_token},ut)})),Yt.revoke_token})().then(X,X)}function Yo(X=0){return Yt.load_authority||(Yt.load_authority=new Promise(ce=>{var Re;if(yn.next(!1),Zt.mock)return rn=sn,le("Auth","System in mock mode"),yn.next(!0),void ce();le("Auth",`Fixed: ${ao()} | Trusted: ${ii()}`),le("Auth","Loading authority...");const ut=Zt.secure||(null===(Re=window.location)||void 0===Re?void 0:Re.protocol.indexOf("https"))>=0,Ot=It=>{le("Auth",`Failed to load authority(${It})`),yn.next(!1),Lt("load_authority",()=>{delete Yt.load_authority,Yo(X).then(Jt=>ce())},300*Math.min(20,++X))};ge(`${ut?"https:":"http:"}//${jt()}/auth/authority`,{credentials:"same-origin"}).subscribe(It=>E(this,void 0,void 0,function*(){if(!It.ok)return Ot(yield It.text().catch(mn=>mn));rn=yield It.json(),$n=/[2-9]\.[0-9]+\.[0-9]+/g.test(rn.version||"")?"/api/engine/v2":"/control/api",le("Auth","Loaded authority.",rn);const Jt=()=>{yn.next(!0),le("Auth","Application set online."),ce()};delete Yt.load_authority,rr("").then(Jt,Jt)}),Ot)})),Yt.load_authority}let se=!1;const oi="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function lr(){return Co(...function zi(){let ce=(Zt.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(Qt)}`,Re="";if(ce+=`&redirect_uri=${encodeURIComponent(Zt.redirect_uri)}`,Gi()){ce+=`&refresh_token=${encodeURIComponent(Gi())}`,ce+="&grant_type=refresh_token";const ut=ce.split("?");ce=ut[0],Re=ut[1]}else{ce+=`&code=${encodeURIComponent(An)}`,ce+="&grant_type=authorization_code";const ut=sessionStorage.getItem(`${Qt}_challenge`);ut&&(ce+=`&code_verifier=${ut}`,sessionStorage.removeItem(`${Qt}_challenge`)),An=""}return[ce,Re]}())}function Co(X,ce=""){return Yt.generate_tokens||(Yt.generate_tokens=new Promise((Re,ut)=>{le("Auth","Generating new token...");const Ot=It=>{le("Auth","Error generating new tokens.",It),bn.removeItem(`${Qt}_refresh_token`),Wn.next(""),ut(),delete Yt.generate_tokens};ge(X,{method:"POST",body:ce,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(It=>E(this,void 0,void 0,function*(){if(!It.ok)return Ot(It);wr(yield It.json()),Re(),delete Yt.generate_tokens}),Ot)})),Yt.generate_tokens}function wr(X){const ce=function nt(X,ce){(0,Et.Z)(2,arguments);var Re=(0,At.Z)(ce);return(0,Wt.Z)(X,1e3*Re)}(new Date,Math.max(60,parseInt(X.expires_in,10)-300));le("Auth","Tokens generated storing..."),ii()&&(X.access_token&&(bn.setItem(`${Qt}_access_token`,X.access_token),Tt("access_token")),X.refresh_token&&(bn.setItem(`${Qt}_refresh_token`,X.refresh_token),Tt("refresh_token"))),X.expires_in&&(bn.setItem(`${Qt}_expires_at`,`${ce.valueOf()}`),Tt("expires_in")),yn.next(!0),Bn.next(X.access_token||""),Wn.next(X.refresh_token||"")}var Er=t(8583);const Uo={};function ss(X,ce,Re,ut=Uo){const Ot=function Rs(X,ce,Re=Uo){const Ot=ce.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),It=Object.keys(Re).reduce((Jt,mn)=>(0===mn.indexOf(`${X}|`)&&Jt.push(Re[mn]),Jt),[]);for(const Jt of It)if(Jt.path_structure.length===Ot.length){let mn=!0;for(let Hn=0;Hn<Jt.path_structure.length;Hn++)if(!Jt.path_structure[Hn]&&Jt.path_parts[Hn]!==Ot[Hn]){mn=!1;break}if(mn)return Jt}return null}(X,ce,ut);if(Ot){const It=function cr(X,ce,Re){const ut=X.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Ot=ut[0].replace(/^\//g,""),Jt=ne(ut[1]||""),mn=Ot.split("/"),Hn={};for(const yi of ce.path_structure)yi&&(Hn[yi]=mn[ce.path_structure.indexOf(yi)]);const On={url:X,path:ce.path,method:ce.method,metadata:ce.metadata,route_params:Hn,query_params:Jt,body:Re};return le("HTTP(M)",`MATCHED ${On.method}:`,On),On}(ce,Ot,Re);return function As(X,ce){const Re=X.callback?X.callback(ce):X.metadata,ut=X.delay_variance||100,Ot=X.delay||300,It=Math.floor(Math.random()*ut-ut/2)+Ot;return le("HTTP(M)",`RESP ${ce.method}:`,[ce.url,Re]),(0,ot.D)([Re]).pipe((0,Er.g)(Math.max(200,It)))}(Ot,It)}return null}const Sr={};function Or(X,ce,Re=Xo){return ce||(ce={response_type:"json"}),Re("GET",X,Object.assign({response_type:"json"},ce))}function Qo(X,ce,Re,ut=Xo){return Re||(Re={response_type:"json"}),ut("POST",X,Object.assign({body:ce,response_type:"json"},Re))}function ur(X,ce,Re,ut=Xo){return Re||(Re={response_type:"json"}),ut("PUT",X,Object.assign({body:ce,response_type:"json"},Re))}function go(X,ce,Re,ut=Xo){return Re||(Re={response_type:"json"}),ut("PATCH",X,Object.assign({body:ce,response_type:"json"},Re))}function Jo(X,ce,Re=Xo){return ce||(ce={response_type:"void"}),Re("DELETE",X,Object.assign({response_type:"void"},ce))}function Vo(X,ce,Re=Sr){return E(this,void 0,void 0,function*(){if(X.headers){const ut={};X.headers.forEach?X.headers.forEach((Ot,It)=>ut[It.toLowerCase()]=Ot):Object.keys(X.headers).forEach(Ot=>ut[Ot.toLowerCase()]=X.headers[Ot]),Re[X.url||""]=ut}switch(ce){case"json":return yield X.json().catch(()=>({}));case"text":return X.text()}})}const wo=()=>{Oi(),Ao().then(()=>null,()=>setTimeout(()=>wo(),1e3))};function Xo(X,ce,Re,ut=nn,Ot=ss,It=Vo){if(ut()){const Jt=Ot(X,ce,Re?.body);if(Jt)return Jt}return Re.headers=Re.headers||{},Re.headers["Content-Type"]="application/json",function tt(){return Bn.pipe((0,Ke.U)(X=>!!function Ht(){return!!di()}()))}().pipe((0,we.h)(Jt=>Jt),(0,me.q)(1),(0,fe.w)(Jt=>("x-api-key"===di()?Re.headers["X-API-Key"]=Mi():Re.headers.Authorization=`Bearer ${di()}`,ge(ce,Object.assign(Object.assign({},Re),{body:JSON.stringify(Re.body),method:X,credentials:"same-origin"})))),(0,fe.w)(Jt=>Jt.ok?It(Jt,Re.response_type):(0,R._)(Jt)),function ue(X){return ce=>ce.lift(new Ce(X,ce))}(Jt=>Jt.pipe((0,Ze.zg)((mn,Hn)=>Hn+1>4||401!==mn.status?(0,R._)(mn||{}):(le("HTTP","Auth error",mn),wo(),(0,w.of)(mn))))))}let Un={},Wi={},xi="";const lo=X=>X;function Mn(X){const{query_params:ce,fn:Re,path:ut}=X,Ot=Pn(ce),It=`${ei()}/${ut}${Ot?"?"+Ot:""}`;return Or(It).pipe((0,Ke.U)(Jt=>{const mn=function zn(X,ce,Re){const ut=function Vi(X,ce=Sr){return ce[X]||{}}(X),Ot={total:0,next:null};if(ut&&ut["x-total-count"]){const It=+(ut["x-total-count"]||0);(ce.length<2||ce.length<12&&ce.indexOf("offset=")>=0)&&(Un[Re]=It),Wi[Re]=It,Ot.total=It}return ut&&ut.link&&(xi=function cn(X){if(0===X.length)throw new Error("Input must not be of zero length");const ce=X.split(","),Re={};for(const ut of ce){const Ot=ut.split(";");if(2!==Ot.length)throw new Error("Section could not be split on ';'");const It=Ot[0].replace(/<(.*)>/,"$1").trim();Re[Ot[1].replace(/rel="(.*)"/,"$1").trim()]=It}return Re}(ut.link||"").next,Ot.next=ne(xi.split("?")[1])),Ot}(It,Ot,ut);return{total:mn.total||0,next:mn.next?()=>Mn({query_params:mn.next,fn:Re,path:ut}):null,data:Jt&&Jt instanceof Array?Jt.map(Hn=>(Re||lo)(Hn)):!Jt||Jt instanceof Array||!Jt.results?[]:Jt.results.map(Hn=>Hn)}}))}function kr(X){const{query_params:ce,id:Re,path:ut,fn:Ot}=X,It=Pn(ce);return Or(`${ei()}/${ut}/${Re}${It?"?"+It:""}`).pipe((0,Ke.U)(mn=>(Ot||lo)(mn)))}class wn{constructor(ce={}){this.id=ce.id||ce.parent_id||"",this.name=ce.name||"",this.description=ce.description||"";try{this.details=("string"==typeof ce.details?JSON.parse(ce.details):ce.details)||{}}catch{this.details=ce.details||{}}this.editors=ce.editors||[],this.schema=ce.schema||"",this.updated_at=1e3*(ce.updated_at||0)||Date.now(),this.modified_by_id=ce.modified_by_id||"",this.version=ce.version||0}}class xn{constructor(ce={}){this.id=ce.id||"",this.name=ce.name||"",this.created_at=ce.created_at||0,this.updated_at=ce.updated_at||0,this.version=ce.version||0}toJSON(){const ce=Object.assign({},this);return ce.version=this.version,delete ce.created_at,function an(X,ce){for(const Re in X)X.hasOwnProperty(Re)&&ce.indexOf(X[Re])>=0&&delete X[Re];return X}(ce,[void 0,null,""])}}var ui=(()=>{return(X=ui||(ui={}))[X.None=0]="None",X[X.Support=1]="Support",X[X.Admin=2]="Admin",X[X.NeverDisplay=3]="NeverDisplay",ui;var X})();class Jn extends xn{constructor(ce={}){super(ce),this.parent_id=ce.parent_id||"",this.updated_at=ce.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=ce.settings_string||"",this.encryption_level=ce.encryption_level||ui.None,this.keys=ce.keys||[],this.modified_by_id=ce.modified_by_id||""}get value(){return this.settings_string}}class cs extends xn{constructor(ce={}){super(ce),this.description=ce.description||"",this._actions=ce.actions||{functions:[],mailers:[]},this._conditions=ce.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=ce.debounce_period||0,this.important=ce.important||!1,this.enabled=ce.enabled||!1,this.webhook_secret=ce.webhook_secret||"",this.control_system_id=ce.system_id||ce.control_system_id||"",this.zone_id=ce.zone_id||"",this.system_name=ce.system_name||(ce.control_system?ce.control_system.name:""),this.enable_webhook=ce.enable_webhook||!1,this.exec_enabled=ce.exec_enabled||!1,this.supported_methods=ce.supported_methods||["POST"],this.activated_count=ce.activated_count||ce.trigger_count||0}get system_id(){return this.control_system_id}get actions(){const ce=this._actions;return{functions:(ce.functions||[]).map(Ot=>Object.assign(Object.assign({},Ot),{args:Object.assign({},Ot.args)})),mailers:(ce.mailers||[]).map(Ot=>Object.assign(Object.assign({},Ot),{emails:[...Ot.emails]}))}}get conditions(){const ce=this._conditions;return{comparisons:(ce.comparisons||[]).map(Ot=>Object.assign(Object.assign({},Ot),{left:"object"==typeof Ot.left?Object.assign({},Ot.left):Ot.left,right:"object"==typeof Ot.right?Object.assign({},Ot.right):Ot.right})),time_dependents:(ce.time_dependents||[]).map(Ot=>Object.assign({},Ot))}}}class ma extends xn{constructor(ce={}){super(ce),this.settings=[null,null,null,null],this.trigger_list=[],this.description=ce.description||"",this.tags=ce.tags||[],this.triggers=ce.triggers||[],this.settings=ce.settings||[null,null,null,null],this.parent_id=ce.parent_id||"",this.location=ce.location||"",this.display_name=ce.display_name||"",this.code=ce.code||"",this.type=ce.type||"",this.count=ce.count||0,this.capacity=ce.capacity||0,this.map_id=ce.map_id||"",this.timezone=ce.timezone||"",this.images=ce.images||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Re in ui)!isNaN(Number(Re))&&!this.settings[Re]&&(this.settings[Re]=new Jn({parent_id:this.id,encryption_level:+Re}));ce.trigger_data&&ce.trigger_data instanceof Array&&(this.trigger_list=ce.trigger_data.map(Re=>new cs(Re)))}}class he{constructor(ce={}){this.zone=new ma(ce.zone),this.keys=ce.keys||[],this.metadata={};const Re=ce.metadata||{};for(const ut of this.keys)this.metadata[ut]=new wn(Re[ut])}}const ze="metadata";function Se(X){return new wn(X)}function tn(X,ce,Re={}){return kr({id:X,query_params:Object.assign(Object.assign({},Re),{name:ce}),fn:ut=>Se(ut[ce]),path:ze})}function ln(X,ce,Re="put"){return function ms(X){const{id:ce,query_params:Re,form_data:ut,method:Ot,path:It,fn:Jt}=X,mn=Pn(Object.assign(Object.assign({},Re),{version:ut.version||0}));return("put"===Ot?ur:go)(`${ei()}/${It}/${ce}${mn?"?"+mn:""}`,ut).pipe((0,Ke.U)(On=>(Jt||lo)(On)))}({id:X,form_data:ce,query_params:{},method:Re,fn:Se,path:ze})}function Ai(X,ce){return function Ii(X){const{id:ce,task_name:Re,form_data:ut,method:Ot,path:It,callback:Jt}=X,mn=Pn(ut),Hn=`${ei()}/${It}/${ce}/${Re}`;return("post"!==Ot&&"put"!==Ot&&Ot?("del"===Ot?Jo:Or)(`${Hn}${mn?"?"+mn:""}`,{response_type:"json"}):("put"===Ot?ur:Qo)(Hn,ut)).pipe((0,Ke.U)(yi=>(Jt||(Bi=>Bi))(yi)))}({id:X,task_name:"children",form_data:ce,method:"get",callback:Re=>Re.map(ut=>new he(Object.assign(Object.assign({},ut),{keys:Object.keys(ut.metadata)}))),path:ze})}var ba=(()=>{return(X=ba||(ba={}))[X.SSH=0]="SSH",X[X.Device=1]="Device",X[X.Service=2]="Service",X[X.Websocket=3]="Websocket",X[X.Logic=99]="Logic",ba;var X})();class pc extends xn{constructor(ce={}){var Re;super(ce),this.description=ce.description||"",this.module_name=ce.module_name||"",this.role=null!==(Re=ce.role)&&void 0!==Re?Re:ba.Logic,this.default_uri=ce.default_uri||"",this.default_port=ce.default_port||1,this.ignore_connected=ce.ignore_connected||!1,this.class_name=ce.class_name||"",this.repository_id=ce.repository_id||"",this.file_name=ce.file_name||"",this.commit=ce.commit||"",this.settings=ce.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ut in ui)!isNaN(Number(ut))&&!this.settings[ut]&&(this.settings[ut]=new Jn({parent_id:this.id,encryption_level:+ut}))}}class ki extends xn{constructor(ce={}){var Re;super(ce),this.settings=[null,null,null,null],this.driver_id=ce.driver_id||ce.dependency_id||"",this.control_system_id=ce.control_system_id||"",this.edge_id=ce.edge_id||"",this.ip=ce.ip||"",this.tls=ce.tls||!1,this.udp=ce.udp||!1,this.port=ce.port||1,this.makebreak=ce.makebreak||!1,this.uri=ce.uri||"",this.custom_name=ce.custom_name||"",this.role=null!==(Re=ce.role)&&void 0!==Re?Re:ba.Logic,this.notes=ce.notes||"",this.ignore_connected=ce.ignore_connected||!1,this.connected=ce.connected,this.running=ce.running||!1,this.updated_at=ce.updated_at||0,this.system=new fl(ce.control_system||ce.system),this.driver=new pc(ce.dependency||ce.driver),this.settings=ce.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ut in ui)!isNaN(Number(ut))&&!this.settings[ut]&&(this.settings[ut]=new Jn({parent_id:this.id,encryption_level:+ut}))}get system_id(){return this.control_system_id}toJSON(ce=!1){const Re=super.toJSON();return(Re.role!==ba.Logic&&!ce||!Re.control_system_id)&&delete Re.control_system_id,delete Re.driver,delete Re.system,Re}}class fl extends xn{constructor(ce={}){super(ce),this.settings=[null,null,null,null],this.module_list=[],this.display_name=ce.display_name||"",this.description=ce.description||"",this.email=ce.email||"",this.capacity=ce.capacity||0,this.features=ce.features||[],this.bookable=ce.bookable||!1,this.installed_ui_devices=ce.installed_ui_devices||0,this.support_url=ce.support_url||"",this.map_id=ce.map_id||"",this.modules=ce.modules||[],this.images=ce.images||[],this.zones=ce.zones||[],this.settings=ce.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Re in ui)!isNaN(Number(Re))&&!this.settings[Re]&&(this.settings[Re]=new Jn({parent_id:this.id,encryption_level:+Re}));ce.module_data&&ce.module_data instanceof Array&&(this.module_list=ce.module_data.map(Re=>new ki(Re)))}}const po="systems";function zo(X){return new fl(X)}function ru(X={}){return Mn({query_params:X,fn:zo,path:po})}function Ul(X,ce={}){return kr({id:X,query_params:ce,fn:zo,path:po})}class Wr extends xn{constructor(ce={}){super(ce),this.password="",this.confirm_password="",this.authority_id=ce.authority_id||"",this.email=ce.email||"",this.email_digest=ce.email_digest||"",this.phone=ce.phone||"",this.country=ce.country||"",this.building=ce.building||"",this.image=ce.image||"",this.metadata=ce.metadata||"",this.login_name=ce.login_name||"",this.staff_id=ce.staff_id||"",this.first_name=ce.first_name||"",this.last_name=ce.last_name||"",this.support=!!ce.support,this.sys_admin=!!ce.sys_admin,this.ui_theme=ce.ui_theme||"",this.card_number=ce.card_number||"",this.groups=ce.groups||[]}}function $i(X){return new Wr(X)}function ia(X,ce={}){return kr({id:X,query_params:ce,fn:$i,path:"users"})}function za(X){return new ma(X)}function Za(X={}){return Mn({query_params:X,fn:za,path:"zones"})}var Ta=t(3489),jl=t(6831);const du={url:"",deserializer:X=>JSON.parse(X.data),serializer:X=>JSON.stringify(X)};class pl extends Z.ug{constructor(ce,Re){if(super(),ce instanceof Ye.y)this.destination=Re,this.source=ce;else{const ut=this._config=Object.assign({},du);if(this._output=new Z.xQ,"string"==typeof ce)ut.url=ce;else for(let Ot in ce)ce.hasOwnProperty(Ot)&&(ut[Ot]=ce[Ot]);if(!ut.WebSocketCtor&&WebSocket)ut.WebSocketCtor=WebSocket;else if(!ut.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new jl.t}}lift(ce){const Re=new pl(this._config,this.destination);return Re.operator=ce,Re.source=this,Re}_resetState(){this._socket=null,this.source||(this.destination=new jl.t),this._output=new Z.xQ}multiplex(ce,Re,ut){const Ot=this;return new Ye.y(It=>{try{Ot.next(ce())}catch(mn){It.error(mn)}const Jt=Ot.subscribe(mn=>{try{ut(mn)&&It.next(mn)}catch(Hn){It.error(Hn)}},mn=>It.error(mn),()=>It.complete());return()=>{try{Ot.next(Re())}catch(mn){It.error(mn)}Jt.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:ce,protocol:Re,url:ut,binaryType:Ot}=this._config,It=this._output;let Jt=null;try{Jt=Re?new ce(ut,Re):new ce(ut),this._socket=Jt,Ot&&(this._socket.binaryType=Ot)}catch(Hn){return void It.error(Hn)}const mn=new et.w(()=>{this._socket=null,Jt&&1===Jt.readyState&&Jt.close()});Jt.onopen=Hn=>{const{_socket:On}=this;if(!On)return Jt.close(),void this._resetState();const{openObserver:yi}=this._config;yi&&yi.next(Hn);const Bi=this.destination;this.destination=Ta.L.create(si=>{if(1===Jt.readyState)try{const{serializer:eo}=this._config;Jt.send(eo(si))}catch(eo){this.destination.error(eo)}},si=>{const{closingObserver:eo}=this._config;eo&&eo.next(void 0),si&&si.code?Jt.close(si.code,si.reason):It.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:si}=this._config;si&&si.next(void 0),Jt.close(),this._resetState()}),Bi&&Bi instanceof jl.t&&mn.add(Bi.subscribe(this.destination))},Jt.onerror=Hn=>{this._resetState(),It.error(Hn)},Jt.onclose=Hn=>{this._resetState();const{closeObserver:On}=this._config;On&&On.next(Hn),Hn.wasClean?It.complete():It.error(Hn)},Jt.onmessage=Hn=>{try{const{deserializer:On}=this._config;It.next(On(Hn))}catch(On){It.error(On)}}}_subscribe(ce){const{source:Re}=this;return Re?Re.subscribe(ce):(this._socket||this._connectSocket(),this._output.subscribe(ce),ce.add(()=>{const{_socket:ut}=this;0===this._output.observers.length&&(ut&&1===ut.readyState&&ut.close(),this._resetState())}),ce)}unsubscribe(){const{_socket:ce}=this;ce&&1===ce.readyState&&ce.close(),this._resetState(),super.unsubscribe()}}var Kr=(()=>{return(X=Kr||(Kr={}))[X.PARSE_ERROR=0]="PARSE_ERROR",X[X.BAD_REQUEST=1]="BAD_REQUEST",X[X.ACCESS_DENIED=2]="ACCESS_DENIED",X[X.REQUEST_FAILED=3]="REQUEST_FAILED",X[X.UNKNOWN_CMD=4]="UNKNOWN_CMD",X[X.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",X[X.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",X[X.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",Kr;var X})(),Ga=(()=>{return(X=Ga||(Ga={})).Info="info",X.Debug="debug",X.Warning="warn",X.Error="error",X.Fatal="fatal",X.Trace="trace",Ga;var X})();const ml={};let Hi,oa=0;const Rr={},Ya={},Zo={},Qa={},ra=new Xe.X(!1);Zo._place_os_status=ra.asObservable();let Ja,_l,Us=0,xs=null;const ld=new Z.xQ;function fu(){return ei().indexOf("/control/")>=0?"/control/websocket":`${ci()}/systems/control`}function qi(){return ra.getValue()}function fs(X,ce=xa){return ce(Object.assign({id:++oa,cmd:"bind"},X))}function xa(X,ce=0){const Re=`${X.cmd}|${X.sys}|${X.mod}${X.index}|${X.name}|${X.args}`;if(!Rr[Re]){const ut=Object.assign(Object.assign({},X),{key:Re});ut.promise=new Promise((Ot,It)=>{const Jt=()=>{delete Rr[Re],Rr[Re]=null,xa(X,ce).then(mn=>Ot(mn),mn=>It(mn))};if(Hi&&qi()){nn()&&function Zl(X,ce,Re){const ut=`${X.sys}|${X.mod}_${X.index}|${X.name}`,Ot=function Wl(X){return ml[X]}(X.sys),It=Ot&&Ot[X.mod]?Ot[X.mod][X.index-1||0]:null;if(It){switch(X.cmd){case"bind":Re[ut]=It.listen(X.name).subscribe(Jt=>{setTimeout(()=>{ce.next({type:"notify",value:Jt,meta:X})},Math.floor(100*Math.random()+50))});break;case"unbind":Re[ut]&&(Re[ut].unsubscribe(),delete Re[ut])}setTimeout(()=>{const Jt={id:X.id,type:"success",value:"exec"===X.cmd?It.call(X.name,X.args):null};ce.next(Jt)},10)}else setTimeout(()=>ce.next({id:X.id,type:"error",code:Ot?Kr.SYS_NOT_FOUND:Kr.MOD_NOT_FOUND}),10)}(X,Hi,Qa),ut.resolve=Ot,ut.reject=It;const mn=`${X.sys}, ${X.mod}_${X.index}, ${X.name}`;le("WS",`[${X.cmd.toUpperCase()}](${X.id}) ${mn}`,X.args),Hi.next(X)}else xs?setTimeout(()=>Jt(),1e3):Pa().then(()=>Jt())}),Rr[Re]=ut}return Rr[Re].promise}function Kl(X){if("pong"!==X&&X instanceof Object)if("notify"===X.type&&X.meta)!function pu(X,ce,Re=Ya,ut=Zo){const Ot=`${X.sys}|${X.mod}_${X.index}|${X.name}`;Re[Ot]||(Re[Ot]=new Xe.X(null),ut[Ot]=Re[Ot].asObservable()),le("WS",`[NOTIFY] ${X.sys}, ${X.mod}_${X.index}, ${X.name} changed`,[Re[Ot].getValue(),"\u2192",ce]),Re[Ot].next(ce)}(X.meta,X.value);else if("success"===X.type)!function Da(X){const ce=Object.keys(Rr).map(Re=>Rr[Re]).find(Re=>Re.id===X.id);le("WS",`[SUCCESS](${X.id})`),ce&&ce.resolve&&(ce.resolve(X.value),delete Rr[ce.key])}(X);else if("debug"===X.type){le("WS",`[DEBUG] ${X.mod}${X.klass||""} \u2192`,X.msg);const ce=X.meta||{mod:"",index:""};ld.next({mod_id:X.mod||"<empty>",module:`${ce.mod}_${ce.index}`,class_name:X.klass||"<empty>",message:X.msg||"<empty>",level:X.level||Ga.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===X.type?function hu(X){let ce="UNEXPECTED FAILURE";switch(X.code){case Kr.ACCESS_DENIED:ce="ACCESS DENIED";break;case Kr.BAD_REQUEST:ce="BAD REQUEST";break;case Kr.MOD_NOT_FOUND:ce="MODULE NOT FOUND";break;case Kr.SYS_NOT_FOUND:ce="SYSTEM NOT FOUND";break;case Kr.PARSE_ERROR:ce="PARSE ERROR";break;case Kr.REQUEST_FAILED:ce="REQUEST FAILED";break;case Kr.UNKNOWN_CMD:ce="UNKNOWN COMMAND"}le("WS",`[ERROR] ${ce}(${X.id}): ${X.msg}`,void 0,"error");const Re=Object.keys(Rr).map(ut=>Rr[ut]).find(ut=>ut.id===X.id);Re&&Re.reject&&(Re.reject(X),delete Rr[Re.key])}(X):X.cmd||le("WS","Invalid websocket message",X,"error")}function Pa(X=0){return null==xs&&(xs=new Promise(ce=>{if(X>40)return location.reload();Us++,Hi=nn()?function vl(){const X=new Z.xQ;return X.subscribe(ce=>Kl(ce)),X}():function Xa(){if(!bt()||!di())return null;const X=function ai(){return!!Zt.secure}()||location.protocol.indexOf("https")>=0;let ce=`ws${X?"s":""}://${jt()}${fu()}${ao()?"?fixed_device=true":""}`;const Re=di();let ut="x-api-key"===Re?`api-key=${Mi()}`:`bearer_token=${Re}`;return function Fi(){return!!Zt.token_header}()||function vn(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(le("WS","Authenticating through URL query parameter..."),ce+=`${ce.indexOf("?")>=0?"&":"?"}${ut}`):(le("WS","Authenticating through cookie..."),ut+=`;max-age=120;path=${ci()};`,ut+=(X?"secure;":"")+"samesite=strict",document.cookie=ut,le("WS","Cookies:",[document.cookie,ut])),le("WS",`Creating websocket connection to ws${X?"s":""}://${jt()}${fu()}`),function sd(X){return new pl(X)}({url:ce,serializer:Ot=>"object"==typeof Ot?JSON.stringify(Ot):Ot,deserializer:Ot=>{let It=Ot.data;try{It=JSON.parse(Ot.data)}catch{}return It}})}(),Hi?(le("WS(Debug)","Authority:",[bt()]),le("WS","Connecting to websocket..."),Hi.subscribe(Re=>{ra.getValue()||(le("WS","Connection established."),ce()),ra.next(!0),Us=0,qa(),Kl(Re)},Re=>{Hi=void 0,xs=null,qa(),function tr(X){ra.next(!1),le("WS","Websocket error:",X,void 0,"error"),401===X.status&&Oi(),Ao(),zl()}(Re)},()=>{Hi=void 0,xs=null,le("WS","Connection closed by browser."),ra.next(!1),zl()}),Ja&&clearInterval(Ja),yc(),Ja=setInterval(()=>yc(),15e3),qa(),_l=setTimeout(()=>{le("WS","Unhealthy connection. Reconnecting..."),ra.next(!1),xs=null,zl()},3e4)):(Hi?le("WS",`Waiting on auth(${X}). Retrying in ${1e3*Math.min(10,X+1)}ms...`,[!!di(),!!bt()],"info"):le("WS",`Failed to create websocket(${X}). Retrying in ${1e3*Math.min(10,X+1)}ms...`,void 0,"error"),setTimeout(()=>{xs=null,Pa(X).then(Re=>ce(Re))},1e3*Math.min(10,++X)))})),xs}function zl(){Hi&&qi()&&(Hi.complete(),Ja&&(clearInterval(Ja),Ja=void 0)),le("WS",`Reconnecting in ${Math.min(5e3,300*Us||1e3)}ms...`),setTimeout(()=>Pa(),Math.min(5e3,300*Us||1e3))}function yc(){Hi?.next("ping")}function qa(){_l&&(clearTimeout(_l),_l=void 0)}Zo._place_os_debug_events=ld.asObservable();var Io=t(5778),nr=(()=>{return(X=nr||(nr={}))[X.NONE=0]="NONE",X[X.BIND=1]="BIND",X[X.UNBIND=2]="UNBIND",nr;var X})();class bc{constructor(ce,Re){this._module=ce,this._pending=nr.NONE,this._binding_count=0,this._stale_bindings=0,this.name=Re,function Ma(){return Zo._place_os_status}().pipe((0,Io.x)()).subscribe(ut=>{ut&&this._stale_bindings?(le("VAR","Re-binding to status variable",this.binding()),this.rebind()):ut||(en(`rebind:${JSON.stringify(this.binding())}`),le("VAR","Setting binding as stale",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function vc(X,ce=Ya){const Re=`${X.sys}|${X.mod}_${X.index}|${X.name}`;if(ce[Re])return ce[Re].getValue()}(this.binding())}listen(){return function gl(X,ce=Ya,Re=Zo){const ut=`${X.sys}|${X.mod}_${X.index}|${X.name}`;return ce[ut]||(ce[ut]=new Xe.X(null),Re[ut]=ce[ut].asObservable()),Re[ut]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===nr.UNBIND)&&(this._pending=nr.BIND,fs(this.binding()).then(()=>{this._binding_count++,this._pending=nr.NONE})),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===nr.NONE?(this._pending=nr.UNBIND,function zr(X,ce=xa){return ce(Object.assign({id:++oa,cmd:"unbind"},X))}(this.binding()).then(()=>{this._pending===nr.UNBIND&&(this._pending=nr.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return E(this,void 0,void 0,function*(){!this._stale_bindings||Lt(`rebind:${JSON.stringify(this.binding())}`,()=>E(this,void 0,void 0,function*(){yield fs(this.binding()),this._binding_count=this._stale_bindings,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Ec{constructor(ce,Re){this._system=ce,this._id=Re,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const Re=this._id.split("_").pop();return parseInt(Re||"",10)||1}get name(){const ce=this._id.split("_");return ce.pop(),ce.join("_")}binding(ce){return this._bindings[ce]||(this._bindings[ce]=new bc(this,ce)),this._bindings[ce]}execute(ce,Re){return function hs(X,ce=xa){return ce(Object.assign({id:++oa,cmd:"exec"},X))}({sys:this._system.id,mod:this.name,index:this.index,name:ce,args:Re})}}class Vs{constructor(ce){this._module_list={},this.id=ce}module(ce,Re=1){if(!ce)throw new Error("Invalid module ID");const ut=ce.split("_");ut.length>1&&Number.isInteger(+ut[ut.length-1])&&(Re=+ut[ut.length-1],ut.pop()),Re<1&&(Re=1);const Ot=ut.join("_");for(this._module_list[Ot]||(this._module_list[Ot]=[]);this._module_list[Ot].length<Re;)this._module_list[Ot].push(new Ec(this,`${Ot}_${this._module_list[Ot].length+1}`));return this._module_list[Ot][Re-1]}}const el={};function Cc(X,ce,Re=1){return function Hl(X){return el[X]||(el[X]=new Vs(X)),el[X]}(X).module(ce,Re)}},723:(Je,K,t)=>{"use strict";function n(){return!function e(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}function y(v,O){return v.require(O)}t.d(K,{l$:()=>y,KV:()=>n}),Je=t.hmd(Je)},3967:(Je,K,t)=>{"use strict";t.d(K,{ph:()=>f,yW:()=>i});var e=t(723),n=t(2732);Je=t.hmd(Je);const y=(0,n.Rf)(),T={nowSeconds:()=>Date.now()/1e3},C=(0,e.KV)()?function O(){try{return(0,e.l$)(Je,"perf_hooks").performance}catch{return}}():function v(){const{performance:d}=y;if(d&&d.now)return{now:()=>d.now(),timeOrigin:Date.now()-d.now()}}(),E=void 0===C?T:{nowSeconds:()=>(C.timeOrigin+C.now())/1e3},i=T.nowSeconds.bind(T),f=E.nowSeconds.bind(E);let m;(()=>{const{performance:d}=y;if(!d||!d.now)return void(m="none");const c=36e5,a=d.now(),s=Date.now(),r=d.timeOrigin?Math.abs(d.timeOrigin+a-s):c,o=r<c,S=d.timing&&d.timing.navigationStart,x="number"==typeof S?Math.abs(S+a-s):c;m=o||x<c?r<=x?"timeOrigin":"navigationStart":"dateNow"})()},2732:(Je,K,t)=>{"use strict";function e(v){return v&&v.Math==Math?v:void 0}t.d(K,{Rf:()=>y,YO:()=>T,n2:()=>n});const n="object"==typeof globalThis&&e(globalThis)||"object"==typeof window&&e(window)||"object"==typeof self&&e(self)||"object"==typeof global&&e(global)||function(){return this}()||{};function y(){return n}function T(v,O,C){const E=C||n,i=E.__SENTRY__=E.__SENTRY__||{};return i[v]||(i[v]=O())}},3776:(Je,K,t)=>{"use strict";function d(r,o){return function y(r,o){r=r||[],"string"==typeof(o=o||{})&&(o={type:o});try{return new Blob(r,o)}catch(P){if("TypeError"!==P.name)throw P;for(var I=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),x=0;x<r.length;x+=1)I.append(r[x]);return I.getBlob(o.type)}}([r],o)}t.d(K,{PP:()=>d})},8761:(Je,K)=>{"use strict";K.J2=T,K.K9=function v(E){if(E.length%4!=0)throw new Error("Unable to parse base64 string.");var i=E.indexOf("=");if(-1!==i&&i<E.length-2)throw new Error("Unable to parse base64 string.");for(var m,f=E.endsWith("==")?2:E.endsWith("=")?1:0,_=E.length,l=new Uint8Array(_/4*3),h=0,d=0;h<_;h+=4,d+=3)m=y(E.charCodeAt(h))<<18|y(E.charCodeAt(h+1))<<12|y(E.charCodeAt(h+2))<<6|y(E.charCodeAt(h+3)),l[d]=m>>16,l[d+1]=m>>8&255,l[d+2]=255&m;return l.subarray(0,l.length-f)},K.m=function O(E){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder;return T(i.encode(E))};var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function y(E){if(E>=n.length)throw new Error("Unable to parse base64 string.");var i=n[E];if(255===i)throw new Error("Unable to parse base64 string.");return i}function T(E){var f,i="",_=E.length;for(f=2;f<_;f+=3)i+=e[E[f-2]>>2],i+=e[(3&E[f-2])<<4|E[f-1]>>4],i+=e[(15&E[f-1])<<2|E[f]>>6],i+=e[63&E[f]];return f===_+1&&(i+=e[E[f-2]>>2],i+=e[(3&E[f-2])<<4],i+="=="),f===_&&(i+=e[E[f-2]>>2],i+=e[(3&E[f-2])<<4|E[f-1]>>4],i+=e[(15&E[f-1])<<2],i+="="),i}},152:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e,n){for(var y=e<0?"-":"",T=Math.abs(e).toString();T.length<n;)T="0"+T;return y+T},Je.exports=K.default},2963:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e,n){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y]);return e},Je.exports=K.default},2926:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function y(T){return(0,e.default)({},T)};var e=function n(T){return T&&T.__esModule?T:{default:T}}(t(2963));Je.exports=K.default},3514:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=function n(T){return T&&T.__esModule?T:{default:T}}(t(3338));K.default=e.default,Je.exports=K.default},150:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.getDefaultOptions=function e(){return t},K.setDefaultOptions=function n(y){t=y};var t={}},1635:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=E(t(448)),n=E(t(1074)),y=E(t(3122)),T=E(t(8622)),v=E(t(8450)),O=E(t(152)),C=E(t(1393));function E(d){return d&&d.__esModule?d:{default:d}}function _(d,c){var a=d>0?"-":"+",s=Math.abs(d),r=Math.floor(s/60),o=s%60;if(0===o)return a+String(r);var S=c||"";return a+String(r)+S+(0,O.default)(o,2)}function l(d,c){return d%60==0?(d>0?"-":"+")+(0,O.default)(Math.abs(d)/60,2):m(d,c)}function m(d,c){var a=c||"",s=d>0?"-":"+",r=Math.abs(d);return s+(0,O.default)(Math.floor(r/60),2)+a+(0,O.default)(r%60,2)}K.default={G:function(c,a,s){var r=c.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});default:return s.era(r,{width:"wide"})}},y:function(c,a,s){if("yo"===a){var r=c.getUTCFullYear();return s.ordinalNumber(r>0?r:1-r,{unit:"year"})}return C.default.y(c,a)},Y:function(c,a,s,r){var o=(0,v.default)(c,r),S=o>0?o:1-o;return"YY"===a?(0,O.default)(S%100,2):"Yo"===a?s.ordinalNumber(S,{unit:"year"}):(0,O.default)(S,a.length)},R:function(c,a){var s=(0,y.default)(c);return(0,O.default)(s,a.length)},u:function(c,a){var s=c.getUTCFullYear();return(0,O.default)(s,a.length)},Q:function(c,a,s){var r=Math.ceil((c.getUTCMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return(0,O.default)(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(c,a,s){var r=Math.ceil((c.getUTCMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return(0,O.default)(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(c,a,s){var r=c.getUTCMonth();switch(a){case"M":case"MM":return C.default.M(c,a);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(c,a,s){var r=c.getUTCMonth();switch(a){case"L":return String(r+1);case"LL":return(0,O.default)(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(c,a,s,r){var o=(0,T.default)(c,r);return"wo"===a?s.ordinalNumber(o,{unit:"week"}):(0,O.default)(o,a.length)},I:function(c,a,s){var r=(0,n.default)(c);return"Io"===a?s.ordinalNumber(r,{unit:"week"}):(0,O.default)(r,a.length)},d:function(c,a,s){return"do"===a?s.ordinalNumber(c.getUTCDate(),{unit:"date"}):C.default.d(c,a)},D:function(c,a,s){var r=(0,e.default)(c);return"Do"===a?s.ordinalNumber(r,{unit:"dayOfYear"}):(0,O.default)(r,a.length)},E:function(c,a,s){var r=c.getUTCDay();switch(a){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(c,a,s,r){var o=c.getUTCDay(),S=(o-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(S);case"ee":return(0,O.default)(S,2);case"eo":return s.ordinalNumber(S,{unit:"day"});case"eee":return s.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"});default:return s.day(o,{width:"wide",context:"formatting"})}},c:function(c,a,s,r){var o=c.getUTCDay(),S=(o-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(S);case"cc":return(0,O.default)(S,a.length);case"co":return s.ordinalNumber(S,{unit:"day"});case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"});default:return s.day(o,{width:"wide",context:"standalone"})}},i:function(c,a,s){var r=c.getUTCDay(),o=0===r?7:r;switch(a){case"i":return String(o);case"ii":return(0,O.default)(o,a.length);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(c,a,s){var o=c.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(c,a,s){var o,r=c.getUTCHours();switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",a){case"b":case"bb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(c,a,s){var o,r=c.getUTCHours();switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",a){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(c,a,s){if("ho"===a){var r=c.getUTCHours()%12;return 0===r&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return C.default.h(c,a)},H:function(c,a,s){return"Ho"===a?s.ordinalNumber(c.getUTCHours(),{unit:"hour"}):C.default.H(c,a)},K:function(c,a,s){var r=c.getUTCHours()%12;return"Ko"===a?s.ordinalNumber(r,{unit:"hour"}):(0,O.default)(r,a.length)},k:function(c,a,s){var r=c.getUTCHours();return 0===r&&(r=24),"ko"===a?s.ordinalNumber(r,{unit:"hour"}):(0,O.default)(r,a.length)},m:function(c,a,s){return"mo"===a?s.ordinalNumber(c.getUTCMinutes(),{unit:"minute"}):C.default.m(c,a)},s:function(c,a,s){return"so"===a?s.ordinalNumber(c.getUTCSeconds(),{unit:"second"}):C.default.s(c,a)},S:function(c,a){return C.default.S(c,a)},X:function(c,a,s,r){var S=(r._originalDate||c).getTimezoneOffset();if(0===S)return"Z";switch(a){case"X":return l(S);case"XXXX":case"XX":return m(S);default:return m(S,":")}},x:function(c,a,s,r){var S=(r._originalDate||c).getTimezoneOffset();switch(a){case"x":return l(S);case"xxxx":case"xx":return m(S);default:return m(S,":")}},O:function(c,a,s,r){var S=(r._originalDate||c).getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+_(S,":");default:return"GMT"+m(S,":")}},z:function(c,a,s,r){var S=(r._originalDate||c).getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+_(S,":");default:return"GMT"+m(S,":")}},t:function(c,a,s,r){var S=Math.floor((r._originalDate||c).getTime()/1e3);return(0,O.default)(S,a.length)},T:function(c,a,s,r){var S=(r._originalDate||c).getTime();return(0,O.default)(S,a.length)}},Je.exports=K.default},1393:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=function n(v){return v&&v.__esModule?v:{default:v}}(t(152));K.default={y:function(O,C){var E=O.getUTCFullYear(),i=E>0?E:1-E;return(0,e.default)("yy"===C?i%100:i,C.length)},M:function(O,C){var E=O.getUTCMonth();return"M"===C?String(E+1):(0,e.default)(E+1,2)},d:function(O,C){return(0,e.default)(O.getUTCDate(),C.length)},a:function(O,C){var E=O.getUTCHours()/12>=1?"pm":"am";switch(C){case"a":case"aa":return E.toUpperCase();case"aaa":return E;case"aaaaa":return E[0];default:return"am"===E?"a.m.":"p.m."}},h:function(O,C){return(0,e.default)(O.getUTCHours()%12||12,C.length)},H:function(O,C){return(0,e.default)(O.getUTCHours(),C.length)},m:function(O,C){return(0,e.default)(O.getUTCMinutes(),C.length)},s:function(O,C){return(0,e.default)(O.getUTCSeconds(),C.length)},S:function(O,C){var E=C.length,i=O.getUTCMilliseconds(),f=Math.floor(i*Math.pow(10,E-3));return(0,e.default)(f,C.length)}},Je.exports=K.default},5852:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var t=function(O,C){switch(O){case"P":return C.date({width:"short"});case"PP":return C.date({width:"medium"});case"PPP":return C.date({width:"long"});default:return C.date({width:"full"})}},e=function(O,C){switch(O){case"p":return C.time({width:"short"});case"pp":return C.time({width:"medium"});case"ppp":return C.time({width:"long"});default:return C.time({width:"full"})}};K.default={p:e,P:function(O,C){var _,E=O.match(/(P+)(p+)?/)||[],i=E[1],f=E[2];if(!f)return t(O,C);switch(i){case"P":_=C.dateTime({width:"short"});break;case"PP":_=C.dateTime({width:"medium"});break;case"PPP":_=C.dateTime({width:"long"});break;default:_=C.dateTime({width:"full"})}return _.replace("{{date}}",t(i,C)).replace("{{time}}",e(f,C))}},Je.exports=K.default},7664:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()},Je.exports=K.default},448:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O){(0,n.default)(1,arguments);var C=(0,e.default)(O),E=C.getTime();C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0);var i=C.getTime(),f=E-i;return Math.floor(f/T)+1};var e=y(t(798)),n=y(t(1886));function y(O){return O&&O.__esModule?O:{default:O}}var T=864e5;Je.exports=K.default},1074:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function C(E){(0,T.default)(1,arguments);var i=(0,e.default)(E),f=(0,n.default)(i).getTime()-(0,y.default)(i).getTime();return Math.round(f/O)+1};var e=v(t(798)),n=v(t(6729)),y=v(t(525)),T=v(t(1886));function v(E){return E&&E.__esModule?E:{default:E}}var O=6048e5;Je.exports=K.default},3122:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O){(0,n.default)(1,arguments);var C=(0,e.default)(O),E=C.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(E+1,0,4),i.setUTCHours(0,0,0,0);var f=(0,y.default)(i),_=new Date(0);_.setUTCFullYear(E,0,4),_.setUTCHours(0,0,0,0);var l=(0,y.default)(_);return C.getTime()>=f.getTime()?E+1:C.getTime()>=l.getTime()?E:E-1};var e=T(t(798)),n=T(t(1886)),y=T(t(6729));function T(O){return O&&O.__esModule?O:{default:O}}Je.exports=K.default},8622:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function C(E,i){(0,T.default)(1,arguments);var f=(0,e.default)(E),_=(0,n.default)(f,i).getTime()-(0,y.default)(f,i).getTime();return Math.round(_/O)+1};var e=v(t(798)),n=v(t(8314)),y=v(t(2447)),T=v(t(1886));function v(E){return E&&E.__esModule?E:{default:E}}var O=6048e5;Je.exports=K.default},8450:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function C(E,i){var f,_,l,m,h,d,c,a;(0,n.default)(1,arguments);var s=(0,e.default)(E),r=s.getUTCFullYear(),o=(0,v.getDefaultOptions)(),S=(0,T.default)(null!==(f=null!==(_=null!==(l=null!==(m=i?.firstWeekContainsDate)&&void 0!==m?m:null==i||null===(h=i.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:o.firstWeekContainsDate)&&void 0!==_?_:null===(c=o.locale)||void 0===c||null===(a=c.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==f?f:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=new Date(0);I.setUTCFullYear(r+1,0,S),I.setUTCHours(0,0,0,0);var x=(0,y.default)(I,i),P=new Date(0);P.setUTCFullYear(r,0,S),P.setUTCHours(0,0,0,0);var g=(0,y.default)(P,i);return s.getTime()>=x.getTime()?r+1:s.getTime()>=g.getTime()?r:r-1};var e=O(t(798)),n=O(t(1886)),y=O(t(8314)),T=O(t(6092)),v=t(150);function O(E){return E&&E.__esModule?E:{default:E}}Je.exports=K.default},183:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.isProtectedDayOfYearToken=function n(v){return-1!==t.indexOf(v)},K.isProtectedWeekYearToken=function y(v){return-1!==e.indexOf(v)},K.throwProtectedError=function T(v,O,C){if("YYYY"===v)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(O,"`) for formatting years to the input `").concat(C,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===v)throw new RangeError("Use `yy` instead of `YY` (in `".concat(O,"`) for formatting years to the input `").concat(C,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===v)throw new RangeError("Use `d` instead of `D` (in `".concat(O,"`) for formatting days of the month to the input `").concat(C,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===v)throw new RangeError("Use `dd` instead of `DD` (in `".concat(O,"`) for formatting days of the month to the input `").concat(C,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var t=["D","DD"],e=["YY","YYYY"]},1886:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")},Je.exports=K.default},6729:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function T(v){(0,n.default)(1,arguments);var O=1,C=(0,e.default)(v),E=C.getUTCDay(),i=(E<O?7:0)+E-O;return C.setUTCDate(C.getUTCDate()-i),C.setUTCHours(0,0,0,0),C};var e=y(t(798)),n=y(t(1886));function y(v){return v&&v.__esModule?v:{default:v}}Je.exports=K.default},525:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O){(0,y.default)(1,arguments);var C=(0,e.default)(O),E=new Date(0);E.setUTCFullYear(C,0,4),E.setUTCHours(0,0,0,0);var i=(0,n.default)(E);return i};var e=T(t(3122)),n=T(t(6729)),y=T(t(1886));function T(O){return O&&O.__esModule?O:{default:O}}Je.exports=K.default},8314:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function O(C,E){var i,f,_,l,m,h,d,c;(0,n.default)(1,arguments);var a=(0,T.getDefaultOptions)(),s=(0,y.default)(null!==(i=null!==(f=null!==(_=null!==(l=E?.weekStartsOn)&&void 0!==l?l:null==E||null===(m=E.locale)||void 0===m||null===(h=m.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==_?_:a.weekStartsOn)&&void 0!==f?f:null===(d=a.locale)||void 0===d||null===(c=d.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==i?i:0);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var r=(0,e.default)(C),o=r.getUTCDay(),S=(o<s?7:0)+o-s;return r.setUTCDate(r.getUTCDate()-S),r.setUTCHours(0,0,0,0),r};var e=v(t(798)),n=v(t(1886)),y=v(t(6092)),T=t(150);function v(C){return C&&C.__esModule?C:{default:C}}Je.exports=K.default},2447:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function C(E,i){var f,_,l,m,h,d,c,a;(0,n.default)(1,arguments);var s=(0,v.getDefaultOptions)(),r=(0,T.default)(null!==(f=null!==(_=null!==(l=null!==(m=i?.firstWeekContainsDate)&&void 0!==m?m:null==i||null===(h=i.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:s.firstWeekContainsDate)&&void 0!==_?_:null===(c=s.locale)||void 0===c||null===(a=c.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==f?f:1),o=(0,e.default)(E,i),S=new Date(0);S.setUTCFullYear(o,0,r),S.setUTCHours(0,0,0,0);var I=(0,y.default)(S,i);return I};var e=O(t(8450)),n=O(t(1886)),y=O(t(8314)),T=O(t(6092)),v=t(150);function O(E){return E&&E.__esModule?E:{default:E}}Je.exports=K.default},6092:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e){if(null===e||!0===e||!1===e)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)},Je.exports=K.default},405:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O,C){(0,y.default)(2,arguments);var E=(0,n.default)(O).getTime(),i=(0,e.default)(C);return new Date(E+i)};var e=T(t(6092)),n=T(t(798)),y=T(t(1886));function T(O){return O&&O.__esModule?O:{default:O}}Je.exports=K.default},3331:(Je,K,t)=>{"use strict";function e(n,y){for(var T=n<0?"-":"",v=Math.abs(n).toString();v.length<y;)v="0"+v;return T+v}t.d(K,{Z:()=>e})},8293:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>Fe});var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function T(Ve){return function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},xe=Pe.width?String(Pe.width):Ve.defaultWidth,be=Ve.formats[xe]||Ve.formats[Ve.defaultWidth];return be}}var E={date:T({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:T({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:T({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},f={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function m(Ve){return function(Pe,xe){var Ue;if("formatting"===(null!=xe&&xe.context?String(xe.context):"standalone")&&Ve.formattingValues){var He=Ve.defaultFormattingWidth||Ve.defaultWidth,it=null!=xe&&xe.width?String(xe.width):He;Ue=Ve.formattingValues[it]||Ve.formattingValues[He]}else{var je=Ve.defaultWidth,Be=null!=xe&&xe.width?String(xe.width):Ve.defaultWidth;Ue=Ve.values[Be]||Ve.values[je]}return Ue[Ve.argumentCallback?Ve.argumentCallback(Pe):Pe]}}function x(Ve){return function(Pe){var xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},be=xe.width,Ue=be&&Ve.matchPatterns[be]||Ve.matchPatterns[Ve.defaultMatchWidth],He=Pe.match(Ue);if(!He)return null;var lt,it=He[0],je=be&&Ve.parsePatterns[be]||Ve.parsePatterns[Ve.defaultParseWidth],Be=Array.isArray(je)?g(je,function(et){return et.test(it)}):P(je,function(et){return et.test(it)});lt=Ve.valueCallback?Ve.valueCallback(Be):Be,lt=xe.valueCallback?xe.valueCallback(lt):lt;var Ye=Pe.slice(it.length);return{value:lt,rest:Ye}}}function P(Ve,Pe){for(var xe in Ve)if(Ve.hasOwnProperty(xe)&&Pe(Ve[xe]))return xe}function g(Ve,Pe){for(var xe=0;xe<Ve.length;xe++)if(Pe(Ve[xe]))return xe}const Fe={code:"en-US",formatDistance:function(Pe,xe,be){var Ue,He=e[Pe];return Ue="string"==typeof He?He:1===xe?He.one:He.other.replace("{{count}}",xe.toString()),null!=be&&be.addSuffix?be.comparison&&be.comparison>0?"in "+Ue:Ue+" ago":Ue},formatLong:E,formatRelative:function(Pe,xe,be,Ue){return f[Pe]},localize:{ordinalNumber:function(Pe,xe){var be=Number(Pe),Ue=be%100;if(Ue>20||Ue<10)switch(Ue%10){case 1:return be+"st";case 2:return be+"nd";case 3:return be+"rd"}return be+"th"},era:m({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:m({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(Pe){return Pe-1}}),month:m({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:m({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:m({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function u(Ve){return function(Pe){var xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},be=Pe.match(Ve.matchPattern);if(!be)return null;var Ue=be[0],He=Pe.match(Ve.parsePattern);if(!He)return null;var it=Ve.valueCallback?Ve.valueCallback(He[0]):He[0];it=xe.valueCallback?xe.valueCallback(it):it;var je=Pe.slice(Ue.length);return{value:it,rest:je}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(Pe){return parseInt(Pe,10)}}),era:x({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:x({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(Pe){return Pe+1}}),month:x({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:x({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},8370:(Je,K,t)=>{"use strict";t.d(K,{j:()=>n});var e={};function n(){return e}},9868:(Je,K,t)=>{"use strict";function e(n){var y=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return y.setUTCFullYear(n.getFullYear()),n.getTime()-y.getTime()}t.d(K,{Z:()=>e})},833:(Je,K,t)=>{"use strict";function e(n,y){if(y.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+y.length+" present")}t.d(K,{Z:()=>e})},3958:(Je,K,t)=>{"use strict";t.d(K,{u:()=>y});var e={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(v){return v<0?Math.ceil(v):Math.floor(v)}};function y(T){return T?e[T]:e.trunc}},1998:(Je,K,t)=>{"use strict";function e(n){if(null===n||!0===n||!1===n)return NaN;var y=Number(n);return isNaN(y)?y:y<0?Math.ceil(y):Math.floor(y)}t.d(K,{Z:()=>e})},8666:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>C});var e=t(5650),n=t(5866),y=t(953),T=t(833),v=t(1998);function O(E){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(E)}function C(E,i){if((0,T.Z)(2,arguments),!i||"object"!==O(i))return new Date(NaN);var f=i.years?(0,v.Z)(i.years):0,_=i.months?(0,v.Z)(i.months):0,l=i.weeks?(0,v.Z)(i.weeks):0,m=i.days?(0,v.Z)(i.days):0,h=i.hours?(0,v.Z)(i.hours):0,d=i.minutes?(0,v.Z)(i.minutes):0,c=i.seconds?(0,v.Z)(i.seconds):0,a=(0,y.Z)(E),s=_||f?(0,n.Z)(a,_+12*f):a,r=m||l?(0,e.Z)(s,m+7*l):s,o=d+60*h,S=c+60*o,I=1e3*S,x=new Date(r.getTime()+I);return x}},5650:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(1998),n=t(953),y=t(833);function T(v,O){(0,y.Z)(2,arguments);var C=(0,n.Z)(v),E=(0,e.Z)(O);return isNaN(E)?new Date(NaN):(E&&C.setDate(C.getDate()+E),C)}},9358:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>v});var e=t(1998),n=t(1201),y=t(833),T=36e5;function v(O,C){(0,y.Z)(2,arguments);var E=(0,e.Z)(C);return(0,n.Z)(O,E*T)}},1201:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(1998),n=t(953),y=t(833);function T(v,O){(0,y.Z)(2,arguments);var C=(0,n.Z)(v).getTime(),E=(0,e.Z)(O);return new Date(C+E)}},9756:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>v});var e=t(1998),n=t(1201),y=t(833);function v(O,C){(0,y.Z)(2,arguments);var E=(0,e.Z)(C);return(0,n.Z)(O,6e4*E)}},5866:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(1998),n=t(953),y=t(833);function T(v,O){(0,y.Z)(2,arguments);var C=(0,n.Z)(v),E=(0,e.Z)(O);if(isNaN(E))return new Date(NaN);if(!E)return C;var i=C.getDate(),f=new Date(C.getTime());f.setMonth(C.getMonth()+E+1,0);var _=f.getDate();return i>=_?f:(C.setFullYear(f.getFullYear(),f.getMonth(),i),C)}},7978:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(1998),n=t(5866),y=t(833);function T(v,O){(0,y.Z)(2,arguments);var C=(0,e.Z)(O);return(0,n.Z)(v,12*C)}},2194:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(953),n=t(833);function y(T,v){return(0,n.Z)(2,arguments),(0,e.Z)(T).getTime()-(0,e.Z)(v).getTime()}},3494:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>I}),Math.pow(10,8);var r=t(2194),o=t(833),S=t(3958);function I(x,P,g){(0,o.Z)(2,arguments);var u=(0,r.Z)(x,P)/6e4;return(0,S.u)(g?.roundingMethod)(u)}},2722:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(953),n=t(833);function y(T){(0,n.Z)(1,arguments);var v=(0,e.Z)(T);return v.setHours(23,59,59,999),v}},6308:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>Ue});var e=t(833);function n(it){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Be){return typeof Be}:function(Be){return Be&&"function"==typeof Symbol&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be})(it)}function y(it){return(0,e.Z)(1,arguments),it instanceof Date||"object"===n(it)&&"[object Date]"===Object.prototype.toString.call(it)}var T=t(953);function v(it){if((0,e.Z)(1,arguments),!y(it)&&"number"!=typeof it)return!1;var je=(0,T.Z)(it);return!isNaN(Number(je))}var O=t(1201),C=t(1998);function E(it,je){(0,e.Z)(2,arguments);var Be=(0,C.Z)(je);return(0,O.Z)(it,-Be)}var i=864e5;function _(it){(0,e.Z)(1,arguments);var je=1,Be=(0,T.Z)(it),lt=Be.getUTCDay(),Ye=(lt<je?7:0)+lt-je;return Be.setUTCDate(Be.getUTCDate()-Ye),Be.setUTCHours(0,0,0,0),Be}function l(it){(0,e.Z)(1,arguments);var je=(0,T.Z)(it),Be=je.getUTCFullYear(),lt=new Date(0);lt.setUTCFullYear(Be+1,0,4),lt.setUTCHours(0,0,0,0);var Ye=_(lt),et=new Date(0);et.setUTCFullYear(Be,0,4),et.setUTCHours(0,0,0,0);var ot=_(et);return je.getTime()>=Ye.getTime()?Be+1:je.getTime()>=ot.getTime()?Be:Be-1}function m(it){(0,e.Z)(1,arguments);var je=l(it),Be=new Date(0);Be.setUTCFullYear(je,0,4),Be.setUTCHours(0,0,0,0);var lt=_(Be);return lt}var h=6048e5,c=t(8370);function a(it,je){var Be,lt,Ye,et,ot,ge,we,me;(0,e.Z)(1,arguments);var fe=(0,c.j)(),Z=(0,C.Z)(null!==(Be=null!==(lt=null!==(Ye=null!==(et=je?.weekStartsOn)&&void 0!==et?et:null==je||null===(ot=je.locale)||void 0===ot||null===(ge=ot.options)||void 0===ge?void 0:ge.weekStartsOn)&&void 0!==Ye?Ye:fe.weekStartsOn)&&void 0!==lt?lt:null===(we=fe.locale)||void 0===we||null===(me=we.options)||void 0===me?void 0:me.weekStartsOn)&&void 0!==Be?Be:0);if(!(Z>=0&&Z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ee=(0,T.Z)(it),ue=ee.getUTCDay(),Ce=(ue<Z?7:0)+ue-Z;return ee.setUTCDate(ee.getUTCDate()-Ce),ee.setUTCHours(0,0,0,0),ee}function s(it,je){var Be,lt,Ye,et,ot,ge,we,me;(0,e.Z)(1,arguments);var fe=(0,T.Z)(it),Z=fe.getUTCFullYear(),ee=(0,c.j)(),ue=(0,C.Z)(null!==(Be=null!==(lt=null!==(Ye=null!==(et=je?.firstWeekContainsDate)&&void 0!==et?et:null==je||null===(ot=je.locale)||void 0===ot||null===(ge=ot.options)||void 0===ge?void 0:ge.firstWeekContainsDate)&&void 0!==Ye?Ye:ee.firstWeekContainsDate)&&void 0!==lt?lt:null===(we=ee.locale)||void 0===we||null===(me=we.options)||void 0===me?void 0:me.firstWeekContainsDate)&&void 0!==Be?Be:1);if(!(ue>=1&&ue<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ce=new Date(0);Ce.setUTCFullYear(Z+1,0,ue),Ce.setUTCHours(0,0,0,0);var pt=a(Ce,je),Ze=new Date(0);Ze.setUTCFullYear(Z,0,ue),Ze.setUTCHours(0,0,0,0);var ft=a(Ze,je);return fe.getTime()>=pt.getTime()?Z+1:fe.getTime()>=ft.getTime()?Z:Z-1}function r(it,je){var Be,lt,Ye,et,ot,ge,we,me;(0,e.Z)(1,arguments);var fe=(0,c.j)(),Z=(0,C.Z)(null!==(Be=null!==(lt=null!==(Ye=null!==(et=je?.firstWeekContainsDate)&&void 0!==et?et:null==je||null===(ot=je.locale)||void 0===ot||null===(ge=ot.options)||void 0===ge?void 0:ge.firstWeekContainsDate)&&void 0!==Ye?Ye:fe.firstWeekContainsDate)&&void 0!==lt?lt:null===(we=fe.locale)||void 0===we||null===(me=we.options)||void 0===me?void 0:me.firstWeekContainsDate)&&void 0!==Be?Be:1),ee=s(it,je),ue=new Date(0);ue.setUTCFullYear(ee,0,Z),ue.setUTCHours(0,0,0,0);var Ce=a(ue,je);return Ce}var o=6048e5,I=t(3331);const P_y=function(je,Be){var lt=je.getUTCFullYear(),Ye=lt>0?lt:1-lt;return(0,I.Z)("yy"===Be?Ye%100:Ye,Be.length)},P_M=function(je,Be){var lt=je.getUTCMonth();return"M"===Be?String(lt+1):(0,I.Z)(lt+1,2)},P_d=function(je,Be){return(0,I.Z)(je.getUTCDate(),Be.length)},P_h=function(je,Be){return(0,I.Z)(je.getUTCHours()%12||12,Be.length)},P_H=function(je,Be){return(0,I.Z)(je.getUTCHours(),Be.length)},P_m=function(je,Be){return(0,I.Z)(je.getUTCMinutes(),Be.length)},P_s=function(je,Be){return(0,I.Z)(je.getUTCSeconds(),Be.length)},P_S=function(je,Be){var lt=Be.length,Ye=je.getUTCMilliseconds(),et=Math.floor(Ye*Math.pow(10,lt-3));return(0,I.Z)(et,Be.length)};function M(it,je){var Be=it>0?"-":"+",lt=Math.abs(it),Ye=Math.floor(lt/60),et=lt%60;if(0===et)return Be+String(Ye);var ot=je||"";return Be+String(Ye)+ot+(0,I.Z)(et,2)}function R(it,je){return it%60==0?(it>0?"-":"+")+(0,I.Z)(Math.abs(it)/60,2):w(it,je)}function w(it,je){var Be=je||"",lt=it>0?"-":"+",Ye=Math.abs(it);return lt+(0,I.Z)(Math.floor(Ye/60),2)+Be+(0,I.Z)(Ye%60,2)}const F={G:function(je,Be,lt){var Ye=je.getUTCFullYear()>0?1:0;switch(Be){case"G":case"GG":case"GGG":return lt.era(Ye,{width:"abbreviated"});case"GGGGG":return lt.era(Ye,{width:"narrow"});default:return lt.era(Ye,{width:"wide"})}},y:function(je,Be,lt){if("yo"===Be){var Ye=je.getUTCFullYear();return lt.ordinalNumber(Ye>0?Ye:1-Ye,{unit:"year"})}return P_y(je,Be)},Y:function(je,Be,lt,Ye){var et=s(je,Ye),ot=et>0?et:1-et;return"YY"===Be?(0,I.Z)(ot%100,2):"Yo"===Be?lt.ordinalNumber(ot,{unit:"year"}):(0,I.Z)(ot,Be.length)},R:function(je,Be){var lt=l(je);return(0,I.Z)(lt,Be.length)},u:function(je,Be){var lt=je.getUTCFullYear();return(0,I.Z)(lt,Be.length)},Q:function(je,Be,lt){var Ye=Math.ceil((je.getUTCMonth()+1)/3);switch(Be){case"Q":return String(Ye);case"QQ":return(0,I.Z)(Ye,2);case"Qo":return lt.ordinalNumber(Ye,{unit:"quarter"});case"QQQ":return lt.quarter(Ye,{width:"abbreviated",context:"formatting"});case"QQQQQ":return lt.quarter(Ye,{width:"narrow",context:"formatting"});default:return lt.quarter(Ye,{width:"wide",context:"formatting"})}},q:function(je,Be,lt){var Ye=Math.ceil((je.getUTCMonth()+1)/3);switch(Be){case"q":return String(Ye);case"qq":return(0,I.Z)(Ye,2);case"qo":return lt.ordinalNumber(Ye,{unit:"quarter"});case"qqq":return lt.quarter(Ye,{width:"abbreviated",context:"standalone"});case"qqqqq":return lt.quarter(Ye,{width:"narrow",context:"standalone"});default:return lt.quarter(Ye,{width:"wide",context:"standalone"})}},M:function(je,Be,lt){var Ye=je.getUTCMonth();switch(Be){case"M":case"MM":return P_M(je,Be);case"Mo":return lt.ordinalNumber(Ye+1,{unit:"month"});case"MMM":return lt.month(Ye,{width:"abbreviated",context:"formatting"});case"MMMMM":return lt.month(Ye,{width:"narrow",context:"formatting"});default:return lt.month(Ye,{width:"wide",context:"formatting"})}},L:function(je,Be,lt){var Ye=je.getUTCMonth();switch(Be){case"L":return String(Ye+1);case"LL":return(0,I.Z)(Ye+1,2);case"Lo":return lt.ordinalNumber(Ye+1,{unit:"month"});case"LLL":return lt.month(Ye,{width:"abbreviated",context:"standalone"});case"LLLLL":return lt.month(Ye,{width:"narrow",context:"standalone"});default:return lt.month(Ye,{width:"wide",context:"standalone"})}},w:function(je,Be,lt,Ye){var et=function S(it,je){(0,e.Z)(1,arguments);var Be=(0,T.Z)(it),lt=a(Be,je).getTime()-r(Be,je).getTime();return Math.round(lt/o)+1}(je,Ye);return"wo"===Be?lt.ordinalNumber(et,{unit:"week"}):(0,I.Z)(et,Be.length)},I:function(je,Be,lt){var Ye=function d(it){(0,e.Z)(1,arguments);var je=(0,T.Z)(it),Be=_(je).getTime()-m(je).getTime();return Math.round(Be/h)+1}(je);return"Io"===Be?lt.ordinalNumber(Ye,{unit:"week"}):(0,I.Z)(Ye,Be.length)},d:function(je,Be,lt){return"do"===Be?lt.ordinalNumber(je.getUTCDate(),{unit:"date"}):P_d(je,Be)},D:function(je,Be,lt){var Ye=function f(it){(0,e.Z)(1,arguments);var je=(0,T.Z)(it),Be=je.getTime();je.setUTCMonth(0,1),je.setUTCHours(0,0,0,0);var lt=je.getTime();return Math.floor((Be-lt)/i)+1}(je);return"Do"===Be?lt.ordinalNumber(Ye,{unit:"dayOfYear"}):(0,I.Z)(Ye,Be.length)},E:function(je,Be,lt){var Ye=je.getUTCDay();switch(Be){case"E":case"EE":case"EEE":return lt.day(Ye,{width:"abbreviated",context:"formatting"});case"EEEEE":return lt.day(Ye,{width:"narrow",context:"formatting"});case"EEEEEE":return lt.day(Ye,{width:"short",context:"formatting"});default:return lt.day(Ye,{width:"wide",context:"formatting"})}},e:function(je,Be,lt,Ye){var et=je.getUTCDay(),ot=(et-Ye.weekStartsOn+8)%7||7;switch(Be){case"e":return String(ot);case"ee":return(0,I.Z)(ot,2);case"eo":return lt.ordinalNumber(ot,{unit:"day"});case"eee":return lt.day(et,{width:"abbreviated",context:"formatting"});case"eeeee":return lt.day(et,{width:"narrow",context:"formatting"});case"eeeeee":return lt.day(et,{width:"short",context:"formatting"});default:return lt.day(et,{width:"wide",context:"formatting"})}},c:function(je,Be,lt,Ye){var et=je.getUTCDay(),ot=(et-Ye.weekStartsOn+8)%7||7;switch(Be){case"c":return String(ot);case"cc":return(0,I.Z)(ot,Be.length);case"co":return lt.ordinalNumber(ot,{unit:"day"});case"ccc":return lt.day(et,{width:"abbreviated",context:"standalone"});case"ccccc":return lt.day(et,{width:"narrow",context:"standalone"});case"cccccc":return lt.day(et,{width:"short",context:"standalone"});default:return lt.day(et,{width:"wide",context:"standalone"})}},i:function(je,Be,lt){var Ye=je.getUTCDay(),et=0===Ye?7:Ye;switch(Be){case"i":return String(et);case"ii":return(0,I.Z)(et,Be.length);case"io":return lt.ordinalNumber(et,{unit:"day"});case"iii":return lt.day(Ye,{width:"abbreviated",context:"formatting"});case"iiiii":return lt.day(Ye,{width:"narrow",context:"formatting"});case"iiiiii":return lt.day(Ye,{width:"short",context:"formatting"});default:return lt.day(Ye,{width:"wide",context:"formatting"})}},a:function(je,Be,lt){var et=je.getUTCHours()/12>=1?"pm":"am";switch(Be){case"a":case"aa":return lt.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"aaa":return lt.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return lt.dayPeriod(et,{width:"narrow",context:"formatting"});default:return lt.dayPeriod(et,{width:"wide",context:"formatting"})}},b:function(je,Be,lt){var et,Ye=je.getUTCHours();switch(et=12===Ye?"noon":0===Ye?"midnight":Ye/12>=1?"pm":"am",Be){case"b":case"bb":return lt.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"bbb":return lt.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return lt.dayPeriod(et,{width:"narrow",context:"formatting"});default:return lt.dayPeriod(et,{width:"wide",context:"formatting"})}},B:function(je,Be,lt){var et,Ye=je.getUTCHours();switch(et=Ye>=17?"evening":Ye>=12?"afternoon":Ye>=4?"morning":"night",Be){case"B":case"BB":case"BBB":return lt.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"BBBBB":return lt.dayPeriod(et,{width:"narrow",context:"formatting"});default:return lt.dayPeriod(et,{width:"wide",context:"formatting"})}},h:function(je,Be,lt){if("ho"===Be){var Ye=je.getUTCHours()%12;return 0===Ye&&(Ye=12),lt.ordinalNumber(Ye,{unit:"hour"})}return P_h(je,Be)},H:function(je,Be,lt){return"Ho"===Be?lt.ordinalNumber(je.getUTCHours(),{unit:"hour"}):P_H(je,Be)},K:function(je,Be,lt){var Ye=je.getUTCHours()%12;return"Ko"===Be?lt.ordinalNumber(Ye,{unit:"hour"}):(0,I.Z)(Ye,Be.length)},k:function(je,Be,lt){var Ye=je.getUTCHours();return 0===Ye&&(Ye=24),"ko"===Be?lt.ordinalNumber(Ye,{unit:"hour"}):(0,I.Z)(Ye,Be.length)},m:function(je,Be,lt){return"mo"===Be?lt.ordinalNumber(je.getUTCMinutes(),{unit:"minute"}):P_m(je,Be)},s:function(je,Be,lt){return"so"===Be?lt.ordinalNumber(je.getUTCSeconds(),{unit:"second"}):P_s(je,Be)},S:function(je,Be){return P_S(je,Be)},X:function(je,Be,lt,Ye){var ot=(Ye._originalDate||je).getTimezoneOffset();if(0===ot)return"Z";switch(Be){case"X":return R(ot);case"XXXX":case"XX":return w(ot);default:return w(ot,":")}},x:function(je,Be,lt,Ye){var ot=(Ye._originalDate||je).getTimezoneOffset();switch(Be){case"x":return R(ot);case"xxxx":case"xx":return w(ot);default:return w(ot,":")}},O:function(je,Be,lt,Ye){var ot=(Ye._originalDate||je).getTimezoneOffset();switch(Be){case"O":case"OO":case"OOO":return"GMT"+M(ot,":");default:return"GMT"+w(ot,":")}},z:function(je,Be,lt,Ye){var ot=(Ye._originalDate||je).getTimezoneOffset();switch(Be){case"z":case"zz":case"zzz":return"GMT"+M(ot,":");default:return"GMT"+w(ot,":")}},t:function(je,Be,lt,Ye){var ot=Math.floor((Ye._originalDate||je).getTime()/1e3);return(0,I.Z)(ot,Be.length)},T:function(je,Be,lt,Ye){var ot=(Ye._originalDate||je).getTime();return(0,I.Z)(ot,Be.length)}};var B=function(je,Be){switch(je){case"P":return Be.date({width:"short"});case"PP":return Be.date({width:"medium"});case"PPP":return Be.date({width:"long"});default:return Be.date({width:"full"})}},H=function(je,Be){switch(je){case"p":return Be.time({width:"short"});case"pp":return Be.time({width:"medium"});case"ppp":return Be.time({width:"long"});default:return Be.time({width:"full"})}};const V={p:H,P:function(je,Be){var ot,lt=je.match(/(P+)(p+)?/)||[],Ye=lt[1],et=lt[2];if(!et)return B(je,Be);switch(Ye){case"P":ot=Be.dateTime({width:"short"});break;case"PP":ot=Be.dateTime({width:"medium"});break;case"PPP":ot=Be.dateTime({width:"long"});break;default:ot=Be.dateTime({width:"full"})}return ot.replace("{{date}}",B(Ye,Be)).replace("{{time}}",H(et,Be))}};var Q=t(9868),ie=["D","DD"],ye=["YY","YYYY"];function G(it){return-1!==ie.indexOf(it)}function _e(it){return-1!==ye.indexOf(it)}function Ie(it,je,Be){if("YYYY"===it)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(je,"`) for formatting years to the input `").concat(Be,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===it)throw new RangeError("Use `yy` instead of `YY` (in `".concat(je,"`) for formatting years to the input `").concat(Be,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===it)throw new RangeError("Use `d` instead of `D` (in `".concat(je,"`) for formatting days of the month to the input `").concat(Be,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===it)throw new RangeError("Use `dd` instead of `DD` (in `".concat(je,"`) for formatting days of the month to the input `").concat(Be,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Me=t(8293),Fe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pe=/^'([^]*?)'?$/,xe=/''/g,be=/[a-zA-Z]/;function Ue(it,je,Be){var lt,Ye,et,ot,ge,we,me,fe,Z,ee,ue,Ce,pt,Ze,ft,Dt,At,Wt;(0,e.Z)(2,arguments);var Et=String(je),nt=(0,c.j)(),ct=null!==(lt=null!==(Ye=Be?.locale)&&void 0!==Ye?Ye:nt.locale)&&void 0!==lt?lt:Me.Z,Xe=(0,C.Z)(null!==(et=null!==(ot=null!==(ge=null!==(we=Be?.firstWeekContainsDate)&&void 0!==we?we:null==Be||null===(me=Be.locale)||void 0===me||null===(fe=me.options)||void 0===fe?void 0:fe.firstWeekContainsDate)&&void 0!==ge?ge:nt.firstWeekContainsDate)&&void 0!==ot?ot:null===(Z=nt.locale)||void 0===Z||null===(ee=Z.options)||void 0===ee?void 0:ee.firstWeekContainsDate)&&void 0!==et?et:1);if(!(Xe>=1&&Xe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ke=(0,C.Z)(null!==(ue=null!==(Ce=null!==(pt=null!==(Ze=Be?.weekStartsOn)&&void 0!==Ze?Ze:null==Be||null===(ft=Be.locale)||void 0===ft||null===(Dt=ft.options)||void 0===Dt?void 0:Dt.weekStartsOn)&&void 0!==pt?pt:nt.weekStartsOn)&&void 0!==Ce?Ce:null===(At=nt.locale)||void 0===At||null===(Wt=At.options)||void 0===Wt?void 0:Wt.weekStartsOn)&&void 0!==ue?ue:0);if(!(Ke>=0&&Ke<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ct.localize)throw new RangeError("locale must contain localize property");if(!ct.formatLong)throw new RangeError("locale must contain formatLong property");var rt=(0,T.Z)(it);if(!v(rt))throw new RangeError("Invalid time value");var le=(0,Q.Z)(rt),te=E(rt,le),J={firstWeekContainsDate:Xe,weekStartsOn:Ke,locale:ct,_originalDate:rt},ne=Et.match(Ve).map(function($e){var Qe=$e[0];return"p"===Qe||"P"===Qe?(0,V[Qe])($e,ct.formatLong):$e}).join("").match(Fe).map(function($e){if("''"===$e)return"'";var Qe=$e[0];if("'"===Qe)return He($e);var Tt=F[Qe];if(Tt)return!(null!=Be&&Be.useAdditionalWeekYearTokens)&&_e($e)&&Ie($e,je,String(it)),!(null!=Be&&Be.useAdditionalDayOfYearTokens)&&G($e)&&Ie($e,je,String(it)),Tt(te,$e,ct.localize,J);if(Qe.match(be))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Qe+"`");return $e}).join("");return ne}function He(it){var je=it.match(Pe);return je?je[1].replace(xe,"'"):it}},3228:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>I});var e=t(8370),n=t(953),y=t(833);function T(x,P){(0,y.Z)(2,arguments);var g=(0,n.Z)(x),u=(0,n.Z)(P),M=g.getTime()-u.getTime();return M<0?-1:M>0?1:M}function v(x,P){(0,y.Z)(2,arguments);var g=(0,n.Z)(x),u=(0,n.Z)(P),M=g.getFullYear()-u.getFullYear(),R=g.getMonth()-u.getMonth();return 12*M+R}var O=t(2722);function C(x){(0,y.Z)(1,arguments);var P=(0,n.Z)(x),g=P.getMonth();return P.setFullYear(P.getFullYear(),g+1,0),P.setHours(23,59,59,999),P}function E(x){(0,y.Z)(1,arguments);var P=(0,n.Z)(x);return(0,O.Z)(P).getTime()===C(P).getTime()}function i(x,P){(0,y.Z)(2,arguments);var w,g=(0,n.Z)(x),u=(0,n.Z)(P),M=T(g,u),R=Math.abs(v(g,u));if(R<1)w=0;else{1===g.getMonth()&&g.getDate()>27&&g.setDate(30),g.setMonth(g.getMonth()-M*R);var F=T(g,u)===-M;E((0,n.Z)(x))&&1===R&&1===T(x,u)&&(F=!1),w=M*(R-Number(F))}return 0===w?0:w}var f=t(2194),_=t(3958);function l(x,P,g){(0,y.Z)(2,arguments);var u=(0,f.Z)(x,P)/1e3;return(0,_.u)(g?.roundingMethod)(u)}var m=t(8293);function h(x,P){if(null==x)throw new TypeError("assign requires that input parameter not be null or undefined");for(var g in P)Object.prototype.hasOwnProperty.call(P,g)&&(x[g]=P[g]);return x}function d(x){return h({},x)}var c=t(9868),a=1440,r=43200;function S(x,P,g){var u,M;(0,y.Z)(2,arguments);var R=(0,e.j)(),w=null!==(u=null!==(M=g?.locale)&&void 0!==M?M:R.locale)&&void 0!==u?u:m.Z;if(!w.formatDistance)throw new RangeError("locale must contain formatDistance property");var F=T(x,P);if(isNaN(F))throw new RangeError("Invalid time value");var H,$,B=h(d(g),{addSuffix:Boolean(g?.addSuffix),comparison:F});F>0?(H=(0,n.Z)(P),$=(0,n.Z)(x)):(H=(0,n.Z)(x),$=(0,n.Z)(P));var ie,j=l($,H),V=((0,c.Z)($)-(0,c.Z)(H))/1e3,Q=Math.round((j-V)/60);if(Q<2)return null!=g&&g.includeSeconds?j<5?w.formatDistance("lessThanXSeconds",5,B):j<10?w.formatDistance("lessThanXSeconds",10,B):j<20?w.formatDistance("lessThanXSeconds",20,B):j<40?w.formatDistance("halfAMinute",0,B):w.formatDistance(j<60?"lessThanXMinutes":"xMinutes",1,B):0===Q?w.formatDistance("lessThanXMinutes",1,B):w.formatDistance("xMinutes",Q,B);if(Q<45)return w.formatDistance("xMinutes",Q,B);if(Q<90)return w.formatDistance("aboutXHours",1,B);if(Q<a){var ye=Math.round(Q/60);return w.formatDistance("aboutXHours",ye,B)}if(Q<2520)return w.formatDistance("xDays",1,B);if(Q<r){var G=Math.round(Q/a);return w.formatDistance("xDays",G,B)}if(Q<86400)return ie=Math.round(Q/r),w.formatDistance("aboutXMonths",ie,B);if((ie=i($,H))<12){var _e=Math.round(Q/r);return w.formatDistance("xMonths",_e,B)}var Ie=ie%12,Me=Math.floor(ie/12);return Ie<3?w.formatDistance("aboutXYears",Me,B):Ie<9?w.formatDistance("overXYears",Me,B):w.formatDistance("almostXYears",Me+1,B)}function I(x,P){return(0,y.Z)(1,arguments),S(x,Date.now(),P)}},9833:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(8370),n=t(8293),y=["years","months","weeks","days","hours","minutes","seconds"];function T(v,O){var C,E,i,f,_;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var l=(0,e.j)(),m=null!==(C=null!==(E=O?.locale)&&void 0!==E?E:l.locale)&&void 0!==C?C:n.Z,h=null!==(i=O?.format)&&void 0!==i?i:y,d=null!==(f=O?.zero)&&void 0!==f&&f,c=null!==(_=O?.delimiter)&&void 0!==_?_:" ";if(!m.formatDistance)return"";var a=h.reduce(function(s,r){var o="x".concat(r.replace(/(^.)/,function(I){return I.toUpperCase()})),S=v[r];return"number"==typeof S&&(d||v[r])?s.concat(m.formatDistance(o,S)):s},[]).join(c);return a}},9972:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(953),n=t(833);function y(v){(0,n.Z)(1,arguments);var O=(0,e.Z)(v),C=O.getTime();return C}function T(v){return(0,n.Z)(1,arguments),Math.floor(y(v)/1e3)}},1390:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(953),n=t(833);function y(T,v){(0,n.Z)(2,arguments);var O=(0,e.Z)(T),C=(0,e.Z)(v);return O.getTime()>C.getTime()}},4960:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(953),n=t(833);function y(T,v){(0,n.Z)(2,arguments);var O=(0,e.Z)(T),C=(0,e.Z)(v);return O.getTime()<C.getTime()}},2641:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(8115),n=t(833);function y(T,v){(0,n.Z)(2,arguments);var O=(0,e.Z)(T),C=(0,e.Z)(v);return O.getTime()===C.getTime()}},8749:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(953),n=t(3958),y=t(1998);function T(v,O){var C;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var E=(0,y.Z)(null!==(C=O?.nearestTo)&&void 0!==C?C:1);if(E<1||E>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var i=(0,e.Z)(v),f=i.getSeconds(),_=i.getMinutes()+f/60,l=(0,n.u)(O?.roundingMethod),m=l(_/E)*E,h=_%E,d=Math.round(h/E)*E;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),m+d)}},3337:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>O});var e=t(953),n=t(5361),y=t(1998),T=t(833);function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(C)}function O(C,E){if((0,T.Z)(2,arguments),"object"!==v(E)||null===E)throw new RangeError("values parameter must be an object");var i=(0,e.Z)(C);return isNaN(i.getTime())?new Date(NaN):(null!=E.year&&i.setFullYear(E.year),null!=E.month&&(i=(0,n.Z)(i,E.month)),null!=E.date&&i.setDate((0,y.Z)(E.date)),null!=E.hours&&i.setHours((0,y.Z)(E.hours)),null!=E.minutes&&i.setMinutes((0,y.Z)(E.minutes)),null!=E.seconds&&i.setSeconds((0,y.Z)(E.seconds)),null!=E.milliseconds&&i.setMilliseconds((0,y.Z)(E.milliseconds)),i)}},3413:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>T});var e=t(1998),n=t(953),y=t(833);function T(v,O){(0,y.Z)(2,arguments);var C=(0,n.Z)(v),E=(0,e.Z)(O);return C.setHours(E),C}},5361:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>v});var e=t(1998),n=t(953),y=t(833);function T(O){(0,y.Z)(1,arguments);var C=(0,n.Z)(O),E=C.getFullYear(),i=C.getMonth(),f=new Date(0);return f.setFullYear(E,i+1,0),f.setHours(0,0,0,0),f.getDate()}function v(O,C){(0,y.Z)(2,arguments);var E=(0,n.Z)(O),i=(0,e.Z)(C),f=E.getFullYear(),_=E.getDate(),l=new Date(0);l.setFullYear(f,i,15),l.setHours(0,0,0,0);var m=T(l);return E.setMonth(i,Math.min(_,m)),E}},8115:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(953),n=t(833);function y(T){(0,n.Z)(1,arguments);var v=(0,e.Z)(T);return v.setHours(0,0,0,0),v}},7552:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(953),n=t(833);function y(T){(0,n.Z)(1,arguments);var v=(0,e.Z)(T);return v.setSeconds(0,0),v}},953:(Je,K,t)=>{"use strict";t.d(K,{Z:()=>y});var e=t(833);function n(T){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(T)}function y(T){(0,e.Z)(1,arguments);var v=Object.prototype.toString.call(T);return T instanceof Date||"object"===n(T)&&"[object Date]"===v?new Date(T.getTime()):"number"==typeof T||"[object Number]"===v?new Date(T):(("string"==typeof T||"[object String]"===v)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},7868:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function s(o,S,I){var x,P,g,u,M,R,w,F,B,H,$,j,V,Q,ie,ye,G,_e;(0,i.default)(2,arguments);var Ie=String(S),Me=(0,f.getDefaultOptions)(),Fe=null!==(x=null!==(P=I?.locale)&&void 0!==P?P:Me.locale)&&void 0!==x?x:_.default,Ve=(0,E.default)(null!==(g=null!==(u=null!==(M=null!==(R=I?.firstWeekContainsDate)&&void 0!==R?R:null==I||null===(w=I.locale)||void 0===w||null===(F=w.options)||void 0===F?void 0:F.firstWeekContainsDate)&&void 0!==M?M:Me.firstWeekContainsDate)&&void 0!==u?u:null===(B=Me.locale)||void 0===B||null===(H=B.options)||void 0===H?void 0:H.firstWeekContainsDate)&&void 0!==g?g:1);if(!(Ve>=1&&Ve<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Pe=(0,E.default)(null!==($=null!==(j=null!==(V=null!==(Q=I?.weekStartsOn)&&void 0!==Q?Q:null==I||null===(ie=I.locale)||void 0===ie||null===(ye=ie.options)||void 0===ye?void 0:ye.weekStartsOn)&&void 0!==V?V:Me.weekStartsOn)&&void 0!==j?j:null===(G=Me.locale)||void 0===G||null===(_e=G.options)||void 0===_e?void 0:_e.weekStartsOn)&&void 0!==$?$:0);if(!(Pe>=0&&Pe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Fe.localize)throw new RangeError("locale must contain localize property");if(!Fe.formatLong)throw new RangeError("locale must contain formatLong property");var xe=(0,y.default)(o);if(!(0,e.default)(xe))throw new RangeError("Invalid time value");var be=(0,O.default)(xe),Ue=(0,n.default)(xe,be),He={firstWeekContainsDate:Ve,weekStartsOn:Pe,locale:Fe,_originalDate:xe},it=Ie.match(h).map(function(je){var Be=je[0];return"p"===Be||"P"===Be?(0,v.default[Be])(je,Fe.formatLong):je}).join("").match(m).map(function(je){if("''"===je)return"'";var Be=je[0];if("'"===Be)return r(je);var lt=T.default[Be];if(lt)return!(null!=I&&I.useAdditionalWeekYearTokens)&&(0,C.isProtectedWeekYearToken)(je)&&(0,C.throwProtectedError)(je,S,String(o)),!(null!=I&&I.useAdditionalDayOfYearTokens)&&(0,C.isProtectedDayOfYearToken)(je)&&(0,C.throwProtectedError)(je,S,String(o)),lt(Ue,je,Fe.localize,He);if(Be.match(a))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Be+"`");return je}).join("");return it};var e=l(t(8830)),n=l(t(5726)),y=l(t(798)),T=l(t(1635)),v=l(t(5852)),O=l(t(7664)),C=t(183),E=l(t(6092)),i=l(t(1886)),f=t(150),_=l(t(3514));function l(o){return o&&o.__esModule?o:{default:o}}var m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d=/^'([^]*?)'?$/,c=/''/g,a=/[a-zA-Z]/;function r(o){var S=o.match(d);return S?S[1].replace(c,"'"):o}Je.exports=K.default},3085:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function T(v){return(0,e.default)(1,arguments),v instanceof Date||"object"===y(v)&&"[object Date]"===Object.prototype.toString.call(v)};var e=function n(v){return v&&v.__esModule?v:{default:v}}(t(1886));function y(v){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(v)}Je.exports=K.default},8830:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O){if((0,y.default)(1,arguments),!(0,e.default)(O)&&"number"!=typeof O)return!1;var C=(0,n.default)(O);return!isNaN(Number(C))};var e=T(t(3085)),n=T(t(798)),y=T(t(1886));function T(O){return O&&O.__esModule?O:{default:O}}Je.exports=K.default},8995:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=n.width?String(n.width):e.defaultWidth,T=e.formats[y]||e.formats[e.defaultWidth];return T}},Je.exports=K.default},7579:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e){return function(n,y){var v;if("formatting"===(null!=y&&y.context?String(y.context):"standalone")&&e.formattingValues){var O=e.defaultFormattingWidth||e.defaultWidth,C=null!=y&&y.width?String(y.width):O;v=e.formattingValues[C]||e.formattingValues[O]}else{var E=e.defaultWidth,i=null!=y&&y.width?String(y.width):e.defaultWidth;v=e.values[i]||e.values[E]}return v[e.argumentCallback?e.argumentCallback(n):n]}},Je.exports=K.default},4728:(Je,K)=>{"use strict";function e(y,T){for(var v in y)if(y.hasOwnProperty(v)&&T(y[v]))return v}function n(y,T){for(var v=0;v<y.length;v++)if(T(y[v]))return v}Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(y){return function(T){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=v.width,C=O&&y.matchPatterns[O]||y.matchPatterns[y.defaultMatchWidth],E=T.match(C);if(!E)return null;var l,i=E[0],f=O&&y.parsePatterns[O]||y.parsePatterns[y.defaultParseWidth],_=Array.isArray(f)?n(f,function(h){return h.test(i)}):e(f,function(h){return h.test(i)});l=y.valueCallback?y.valueCallback(_):_,l=v.valueCallback?v.valueCallback(l):l;var m=T.slice(i.length);return{value:l,rest:m}}},Je.exports=K.default},7223:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e){return function(n){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=n.match(e.matchPattern);if(!T)return null;var v=T[0],O=n.match(e.parsePattern);if(!O)return null;var C=e.valueCallback?e.valueCallback(O[0]):O[0];C=y.valueCallback?y.valueCallback(C):C;var E=n.slice(v.length);return{value:C,rest:E}}},Je.exports=K.default},9563:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};K.default=function(T,v,O){var C,E=t[T];return C="string"==typeof E?E:1===v?E.one:E.other.replace("{{count}}",v.toString()),null!=O&&O.addSuffix?O.comparison&&O.comparison>0?"in "+C:C+" ago":C},Je.exports=K.default},6929:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=function n(E){return E&&E.__esModule?E:{default:E}}(t(8995)),O={date:(0,e.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,e.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,e.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};K.default=O,Je.exports=K.default},1656:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};K.default=function(T,v,O,C){return t[T]},Je.exports=K.default},1098:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=function n(l){return l&&l.__esModule?l:{default:l}}(t(7579)),f={ordinalNumber:function(m,h){var d=Number(m),c=d%100;if(c>20||c<10)switch(c%10){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd"}return d+"th"},era:(0,e.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,e.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(m){return m-1}}),month:(0,e.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,e.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,e.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};K.default=f,Je.exports=K.default},3239:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=y(t(4728));function y(s){return s&&s.__esModule?s:{default:s}}var c={ordinalNumber:(0,y(t(7223)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(r){return parseInt(r,10)}}),era:(0,e.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,e.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:(0,e.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,e.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,e.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};K.default=c,Je.exports=K.default},3338:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=O(t(9563)),n=O(t(6929)),y=O(t(1656)),T=O(t(1098)),v=O(t(3239));function O(i){return i&&i.__esModule?i:{default:i}}K.default={code:"en-US",formatDistance:e.default,formatLong:n.default,formatRelative:y.default,localize:T.default,match:v.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},Je.exports=K.default},5726:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O,C){(0,n.default)(2,arguments);var E=(0,y.default)(C);return(0,e.default)(O,-E)};var e=T(t(405)),n=T(t(1886)),y=T(t(6092));function T(O){return O&&O.__esModule?O:{default:O}}Je.exports=K.default},798:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function T(v){(0,e.default)(1,arguments);var O=Object.prototype.toString.call(v);return v instanceof Date||"object"===y(v)&&"[object Date]"===O?new Date(v.getTime()):"number"==typeof v||"[object Number]"===O?new Date(v):(("string"==typeof v||"[object String]"===O)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var e=function n(v){return v&&v.__esModule?v:{default:v}}(t(1886));function y(v){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(v)}Je.exports=K.default},1764:function(Je){Je.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",y="second",T="minute",v="hour",O="day",C="week",E="month",i="quarter",f="year",_="date",l="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var M=["th","st","nd","rd"],R=u%100;return"["+u+(M[(R-20)%10]||M[R]||M[0])+"]"}},c=function(u,M,R){var w=String(u);return!w||w.length>=M?u:""+Array(M+1-w.length).join(R)+u},a={s:c,z:function(u){var M=-u.utcOffset(),R=Math.abs(M),w=Math.floor(R/60),F=R%60;return(M<=0?"+":"-")+c(w,2,"0")+":"+c(F,2,"0")},m:function u(M,R){if(M.date()<R.date())return-u(R,M);var w=12*(R.year()-M.year())+(R.month()-M.month()),F=M.clone().add(w,E),B=R-F<0,H=M.clone().add(w+(B?-1:1),E);return+(-(w+(R-F)/(B?F-H:H-F))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:E,y:f,w:C,d:O,D:_,h:v,m:T,s:y,ms:n,Q:i}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return void 0===u}},s="en",r={};r[s]=d;var o=function(u){return u instanceof P},S=function u(M,R,w){var F;if(!M)return s;if("string"==typeof M){var B=M.toLowerCase();r[B]&&(F=B),R&&(r[B]=R,F=B);var H=M.split("-");if(!F&&H.length>1)return u(H[0])}else{var $=M.name;r[$]=M,F=$}return!w&&F&&(s=F),F||!w&&s},I=function(u,M){if(o(u))return u.clone();var R="object"==typeof M?M:{};return R.date=u,R.args=arguments,new P(R)},x=a;x.l=S,x.i=o,x.w=function(u,M){return I(u,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var P=function(){function u(R){this.$L=S(R.locale,null,!0),this.parse(R)}var M=u.prototype;return M.parse=function(R){this.$d=function(w){var F=w.date,B=w.utc;if(null===F)return new Date(NaN);if(x.u(F))return new Date;if(F instanceof Date)return new Date(F);if("string"==typeof F&&!/Z$/i.test(F)){var H=F.match(m);if(H){var $=H[2]-1||0,j=(H[7]||"0").substring(0,3);return B?new Date(Date.UTC(H[1],$,H[3]||1,H[4]||0,H[5]||0,H[6]||0,j)):new Date(H[1],$,H[3]||1,H[4]||0,H[5]||0,H[6]||0,j)}}return new Date(F)}(R),this.$x=R.x||{},this.init()},M.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},M.$utils=function(){return x},M.isValid=function(){return this.$d.toString()!==l},M.isSame=function(R,w){var F=I(R);return this.startOf(w)<=F&&F<=this.endOf(w)},M.isAfter=function(R,w){return I(R)<this.startOf(w)},M.isBefore=function(R,w){return this.endOf(w)<I(R)},M.$g=function(R,w,F){return x.u(R)?this[w]:this.set(F,R)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(R,w){var F=this,B=!!x.u(w)||w,H=x.p(R),$=function(Ie,Me){var Fe=x.w(F.$u?Date.UTC(F.$y,Me,Ie):new Date(F.$y,Me,Ie),F);return B?Fe:Fe.endOf(O)},j=function(Ie,Me){return x.w(F.toDate()[Ie].apply(F.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Me)),F)},V=this.$W,Q=this.$M,ie=this.$D,ye="set"+(this.$u?"UTC":"");switch(H){case f:return B?$(1,0):$(31,11);case E:return B?$(1,Q):$(0,Q+1);case C:var G=this.$locale().weekStart||0,_e=(V<G?V+7:V)-G;return $(B?ie-_e:ie+(6-_e),Q);case O:case _:return j(ye+"Hours",0);case v:return j(ye+"Minutes",1);case T:return j(ye+"Seconds",2);case y:return j(ye+"Milliseconds",3);default:return this.clone()}},M.endOf=function(R){return this.startOf(R,!1)},M.$set=function(R,w){var F,B=x.p(R),H="set"+(this.$u?"UTC":""),$=(F={},F[O]=H+"Date",F[_]=H+"Date",F[E]=H+"Month",F[f]=H+"FullYear",F[v]=H+"Hours",F[T]=H+"Minutes",F[y]=H+"Seconds",F[n]=H+"Milliseconds",F)[B],j=B===O?this.$D+(w-this.$W):w;if(B===E||B===f){var V=this.clone().set(_,1);V.$d[$](j),V.init(),this.$d=V.set(_,Math.min(this.$D,V.daysInMonth())).$d}else $&&this.$d[$](j);return this.init(),this},M.set=function(R,w){return this.clone().$set(R,w)},M.get=function(R){return this[x.p(R)]()},M.add=function(R,w){var F,B=this;R=Number(R);var H=x.p(w),$=function(Q){var ie=I(B);return x.w(ie.date(ie.date()+Math.round(Q*R)),B)};if(H===E)return this.set(E,this.$M+R);if(H===f)return this.set(f,this.$y+R);if(H===O)return $(1);if(H===C)return $(7);var j=(F={},F[T]=t,F[v]=e,F[y]=1e3,F)[H]||1,V=this.$d.getTime()+R*j;return x.w(V,this)},M.subtract=function(R,w){return this.add(-1*R,w)},M.format=function(R){var w=this,F=this.$locale();if(!this.isValid())return F.invalidDate||l;var B=R||"YYYY-MM-DDTHH:mm:ssZ",H=x.z(this),$=this.$H,j=this.$m,V=this.$M,Q=F.weekdays,ie=F.months,ye=function(Me,Fe,Ve,Pe){return Me&&(Me[Fe]||Me(w,B))||Ve[Fe].slice(0,Pe)},G=function(Me){return x.s($%12||12,Me,"0")},_e=F.meridiem||function(Me,Fe,Ve){var Pe=Me<12?"AM":"PM";return Ve?Pe.toLowerCase():Pe},Ie={YY:String(this.$y).slice(-2),YYYY:this.$y,M:V+1,MM:x.s(V+1,2,"0"),MMM:ye(F.monthsShort,V,ie,3),MMMM:ye(ie,V),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:ye(F.weekdaysMin,this.$W,Q,2),ddd:ye(F.weekdaysShort,this.$W,Q,3),dddd:Q[this.$W],H:String($),HH:x.s($,2,"0"),h:G(1),hh:G(2),a:_e($,j,!0),A:_e($,j,!1),m:String(j),mm:x.s(j,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:H};return B.replace(h,function(Me,Fe){return Fe||Ie[Me]||H.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(R,w,F){var B,H=x.p(w),$=I(R),j=($.utcOffset()-this.utcOffset())*t,V=this-$,Q=x.m(this,$);return Q=(B={},B[f]=Q/12,B[E]=Q,B[i]=Q/3,B[C]=(V-j)/6048e5,B[O]=(V-j)/864e5,B[v]=V/e,B[T]=V/t,B[y]=V/1e3,B)[H]||V,F?Q:x.a(Q)},M.daysInMonth=function(){return this.endOf(E).$D},M.$locale=function(){return r[this.$L]},M.locale=function(R,w){if(!R)return this.$L;var F=this.clone(),B=S(R,w,!0);return B&&(F.$L=B),F},M.clone=function(){return x.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},u}(),g=P.prototype;return I.prototype=g,[["$ms",n],["$s",y],["$m",T],["$H",v],["$W",O],["$M",E],["$y",f],["$D",_]].forEach(function(u){g[u[1]]=function(M){return this.$g(M,u[0],u[1])}}),I.extend=function(u,M){return u.$i||(u(M,P,I),u.$i=!0),I},I.locale=S,I.isDayjs=o,I.unix=function(u){return I(1e3*u)},I.en=r[s],I.Ls=r,I.p={},I}()},1302:function(Je,K,t){var e;!function(n,y){var T={};!function(n){"use strict";n.__esModule=!0,n.digestLength=32,n.blockSize=64;var y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function T(m,h,d,c,a){for(var s,r,o,S,I,x,P,g,u,M,R,w,F;a>=64;){for(s=h[0],r=h[1],o=h[2],S=h[3],I=h[4],x=h[5],P=h[6],g=h[7],M=0;M<16;M++)m[M]=(255&d[R=c+4*M])<<24|(255&d[R+1])<<16|(255&d[R+2])<<8|255&d[R+3];for(M=16;M<64;M++)m[M]=((w=((u=m[M-2])>>>17|u<<15)^(u>>>19|u<<13)^u>>>10)+m[M-7]|0)+((F=((u=m[M-15])>>>7|u<<25)^(u>>>18|u<<14)^u>>>3)+m[M-16]|0);for(M=0;M<64;M++)w=(((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&x^~I&P)|0)+(g+(y[M]+m[M]|0)|0)|0,F=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&r^s&o^r&o)|0,g=P,P=x,x=I,I=S+w|0,S=o,o=r,r=s,s=w+F|0;h[0]+=s,h[1]+=r,h[2]+=o,h[3]+=S,h[4]+=I,h[5]+=x,h[6]+=P,h[7]+=g,c+=64,a-=64}return c}var v=function(){function m(){this.digestLength=n.digestLength,this.blockSize=n.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return m.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},m.prototype.clean=function(){for(var h=0;h<this.buffer.length;h++)this.buffer[h]=0;for(h=0;h<this.temp.length;h++)this.temp[h]=0;this.reset()},m.prototype.update=function(h,d){if(void 0===d&&(d=h.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var c=0;if(this.bytesHashed+=d,this.bufferLength>0){for(;this.bufferLength<64&&d>0;)this.buffer[this.bufferLength++]=h[c++],d--;64===this.bufferLength&&(T(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(d>=64&&(c=T(this.temp,this.state,h,c,d),d%=64);d>0;)this.buffer[this.bufferLength++]=h[c++],d--;return this},m.prototype.finish=function(h){if(!this.finished){var d=this.bytesHashed,c=this.bufferLength,a=d/536870912|0,s=d<<3,r=d%64<56?64:128;this.buffer[c]=128;for(var o=c+1;o<r-8;o++)this.buffer[o]=0;this.buffer[r-8]=a>>>24&255,this.buffer[r-7]=a>>>16&255,this.buffer[r-6]=a>>>8&255,this.buffer[r-5]=a>>>0&255,this.buffer[r-4]=s>>>24&255,this.buffer[r-3]=s>>>16&255,this.buffer[r-2]=s>>>8&255,this.buffer[r-1]=s>>>0&255,T(this.temp,this.state,this.buffer,0,r),this.finished=!0}for(o=0;o<8;o++)h[4*o+0]=this.state[o]>>>24&255,h[4*o+1]=this.state[o]>>>16&255,h[4*o+2]=this.state[o]>>>8&255,h[4*o+3]=this.state[o]>>>0&255;return this},m.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},m.prototype._saveState=function(h){for(var d=0;d<this.state.length;d++)h[d]=this.state[d]},m.prototype._restoreState=function(h,d){for(var c=0;c<this.state.length;c++)this.state[c]=h[c];this.bytesHashed=d,this.finished=!1,this.bufferLength=0},m}();n.Hash=v;var O=function(){function m(h){this.inner=new v,this.outer=new v,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var d=new Uint8Array(this.blockSize);if(h.length>this.blockSize)(new v).update(h).finish(d).clean();else for(var c=0;c<h.length;c++)d[c]=h[c];for(c=0;c<d.length;c++)d[c]^=54;for(this.inner.update(d),c=0;c<d.length;c++)d[c]^=106;for(this.outer.update(d),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),c=0;c<d.length;c++)d[c]=0}return m.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},m.prototype.clean=function(){for(var h=0;h<this.istate.length;h++)this.ostate[h]=this.istate[h]=0;this.inner.clean(),this.outer.clean()},m.prototype.update=function(h){return this.inner.update(h),this},m.prototype.finish=function(h){return this.outer.finished?this.outer.finish(h):(this.inner.finish(h),this.outer.update(h,this.digestLength).finish(h)),this},m.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},m}();function C(m){var h=(new v).update(m),d=h.digest();return h.clean(),d}function E(m,h){var d=new O(m).update(h),c=d.digest();return d.clean(),c}function i(m,h,d,c){var a=c[0];if(0===a)throw new Error("hkdf: cannot expand more");h.reset(),a>1&&h.update(m),d&&h.update(d),h.update(c),h.finish(m),c[0]++}n.HMAC=O,n.hash=C,n.default=C,n.hmac=E;var f=new Uint8Array(n.digestLength);n.hkdf=function _(m,h,d,c){void 0===h&&(h=f),void 0===c&&(c=32);for(var a=new Uint8Array([1]),s=E(h,m),r=new O(s),o=new Uint8Array(r.digestLength),S=o.length,I=new Uint8Array(c),x=0;x<c;x++)S===o.length&&(i(o,r,d,a),S=0),I[x]=o[S++];return r.clean(),o.fill(0),a.fill(0),I},n.pbkdf2=function l(m,h,d,c){for(var a=new O(m),s=a.digestLength,r=new Uint8Array(4),o=new Uint8Array(s),S=new Uint8Array(s),I=new Uint8Array(c),x=0;x*s<c;x++){var P=x+1;r[0]=P>>>24&255,r[1]=P>>>16&255,r[2]=P>>>8&255,r[3]=P>>>0&255,a.reset(),a.update(h),a.update(r),a.finish(S);for(var g=0;g<s;g++)o[g]=S[g];for(g=2;g<=d;g++){a.reset(),a.update(S).finish(S);for(var u=0;u<s;u++)o[u]^=S[u]}for(g=0;g<s&&x*s+g<c;g++)I[x*s+g]=o[g]}for(x=0;x<s;x++)o[x]=S[x]=0;for(x=0;x<4;x++)r[x]=0;return a.clean(),I}}(T);var v=T.default;for(var O in T)v[O]=T[O];"object"==typeof Je.exports?Je.exports=v:void 0!==(e=function(){return v}.call(T,t,T,Je))&&(Je.exports=e)}()},9971:function(Je){typeof self<"u"&&self,Je.exports=function(K){var t={};function e(n){if(t[n])return t[n].exports;var y=t[n]={i:n,l:!1,exports:{}};return K[n].call(y.exports,y,y.exports,e),y.l=!0,y.exports}return e.m=K,e.c=t,e.d=function(n,y,T){e.o(n,y)||Object.defineProperty(n,y,{configurable:!1,enumerable:!0,get:T})},e.n=function(n){var y=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(y,"a",y),y},e.o=function(n,y){return Object.prototype.hasOwnProperty.call(n,y)},e.p="",e(e.s=109)}([function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(17),y=e(18),T=e(19),v=e(45),O=e(46),C=e(47),E=e(48),i=e(49),f=e(12),_=e(32),l=e(33),m=e(31),h=e(1);t.default={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:n.default,Format:y.default,Leaf:T.default,Embed:E.default,Scroll:v.default,Block:C.default,Inline:O.default,Text:i.default,Attributor:{Attribute:f.default,Class:_.default,Style:l.default,Store:m.default}}},function(K,t,e){"use strict";var m,n=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)d.hasOwnProperty(c)&&(h[c]=d[c])},function(h,d){function c(){this.constructor=h}m(h,d),h.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0});var y=function(m){function h(d){var c=this;return(c=m.call(this,d="[Parchment] "+d)||this).message=d,c.name=c.constructor.name,c}return n(h,m),h}(Error);t.ParchmentError=y;var E,T={},v={},O={},C={};function _(m,h){var d;if(void 0===h&&(h=E.ANY),"string"==typeof m)d=C[m]||T[m];else if(m instanceof Text||m.nodeType===Node.TEXT_NODE)d=C.text;else if("number"==typeof m)m&E.LEVEL&E.BLOCK?d=C.block:m&E.LEVEL&E.INLINE&&(d=C.inline);else if(m instanceof HTMLElement){var c=(m.getAttribute("class")||"").split(/\s+/);for(var a in c)if(d=v[c[a]])break;d=d||O[m.tagName]}return null==d?null:h&E.LEVEL&d.scope&&h&E.TYPE&d.scope?d:null}t.DATA_KEY="__blot",function(m){m[m.TYPE=3]="TYPE",m[m.LEVEL=12]="LEVEL",m[m.ATTRIBUTE=13]="ATTRIBUTE",m[m.BLOT=14]="BLOT",m[m.INLINE=7]="INLINE",m[m.BLOCK=11]="BLOCK",m[m.BLOCK_BLOT=10]="BLOCK_BLOT",m[m.INLINE_BLOT=6]="INLINE_BLOT",m[m.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",m[m.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",m[m.ANY=15]="ANY"}(E=t.Scope||(t.Scope={})),t.create=function i(m,h){var d=_(m);if(null==d)throw new y("Unable to create "+m+" blot");var c=d,a=m instanceof Node||m.nodeType===Node.TEXT_NODE?m:c.create(h);return new c(a,h)},t.find=function f(m,h){return void 0===h&&(h=!1),null==m?null:null!=m[t.DATA_KEY]?m[t.DATA_KEY].blot:h?f(m.parentNode,h):null},t.query=_,t.register=function l(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];if(m.length>1)return m.map(function(a){return l(a)});var d=m[0];if("string"!=typeof d.blotName&&"string"!=typeof d.attrName)throw new y("Invalid definition");if("abstract"===d.blotName)throw new y("Cannot register abstract class");return C[d.blotName||d.attrName]=d,"string"==typeof d.keyName?T[d.keyName]=d:(null!=d.className&&(v[d.className]=d),null!=d.tagName&&(d.tagName=Array.isArray(d.tagName)?d.tagName.map(function(a){return a.toUpperCase()}):d.tagName.toUpperCase(),(Array.isArray(d.tagName)?d.tagName:[d.tagName]).forEach(function(a){(null==O[a]||null==d.className)&&(O[a]=d)}))),d}},function(K,t,e){var n=e(51),y=e(11),T=e(3),v=e(20),O=String.fromCharCode(0),C=function(E){this.ops=Array.isArray(E)?E:null!=E&&Array.isArray(E.ops)?E.ops:[]};C.prototype.insert=function(E,i){var f={};return 0===E.length?this:(f.insert=E,null!=i&&"object"==typeof i&&Object.keys(i).length>0&&(f.attributes=i),this.push(f))},C.prototype.delete=function(E){return E<=0?this:this.push({delete:E})},C.prototype.retain=function(E,i){if(E<=0)return this;var f={retain:E};return null!=i&&"object"==typeof i&&Object.keys(i).length>0&&(f.attributes=i),this.push(f)},C.prototype.push=function(E){var i=this.ops.length,f=this.ops[i-1];if(E=T(!0,{},E),"object"==typeof f){if("number"==typeof E.delete&&"number"==typeof f.delete)return this.ops[i-1]={delete:f.delete+E.delete},this;if("number"==typeof f.delete&&null!=E.insert&&"object"!=typeof(f=this.ops[(i-=1)-1]))return this.ops.unshift(E),this;if(y(E.attributes,f.attributes)){if("string"==typeof E.insert&&"string"==typeof f.insert)return this.ops[i-1]={insert:f.insert+E.insert},"object"==typeof E.attributes&&(this.ops[i-1].attributes=E.attributes),this;if("number"==typeof E.retain&&"number"==typeof f.retain)return this.ops[i-1]={retain:f.retain+E.retain},"object"==typeof E.attributes&&(this.ops[i-1].attributes=E.attributes),this}}return i===this.ops.length?this.ops.push(E):this.ops.splice(i,0,E),this},C.prototype.chop=function(){var E=this.ops[this.ops.length-1];return E&&E.retain&&!E.attributes&&this.ops.pop(),this},C.prototype.filter=function(E){return this.ops.filter(E)},C.prototype.forEach=function(E){this.ops.forEach(E)},C.prototype.map=function(E){return this.ops.map(E)},C.prototype.partition=function(E){var i=[],f=[];return this.forEach(function(_){(E(_)?i:f).push(_)}),[i,f]},C.prototype.reduce=function(E,i){return this.ops.reduce(E,i)},C.prototype.changeLength=function(){return this.reduce(function(E,i){return i.insert?E+v.length(i):i.delete?E-i.delete:E},0)},C.prototype.length=function(){return this.reduce(function(E,i){return E+v.length(i)},0)},C.prototype.slice=function(E,i){E=E||0,"number"!=typeof i&&(i=1/0);for(var f=[],_=v.iterator(this.ops),l=0;l<i&&_.hasNext();){var m;l<E?m=_.next(E-l):(m=_.next(i-l),f.push(m)),l+=v.length(m)}return new C(f)},C.prototype.compose=function(E){var i=v.iterator(this.ops),f=v.iterator(E.ops),_=[],l=f.peek();if(null!=l&&"number"==typeof l.retain&&null==l.attributes){for(var m=l.retain;"insert"===i.peekType()&&i.peekLength()<=m;)m-=i.peekLength(),_.push(i.next());l.retain-m>0&&f.next(l.retain-m)}for(var h=new C(_);i.hasNext()||f.hasNext();)if("insert"===f.peekType())h.push(f.next());else if("delete"===i.peekType())h.push(i.next());else{var d=Math.min(i.peekLength(),f.peekLength()),c=i.next(d),a=f.next(d);if("number"==typeof a.retain){var s={};"number"==typeof c.retain?s.retain=d:s.insert=c.insert;var r=v.attributes.compose(c.attributes,a.attributes,"number"==typeof c.retain);if(r&&(s.attributes=r),h.push(s),!f.hasNext()&&y(h.ops[h.ops.length-1],s)){var o=new C(i.rest());return h.concat(o).chop()}}else"number"==typeof a.delete&&"number"==typeof c.retain&&h.push(a)}return h.chop()},C.prototype.concat=function(E){var i=new C(this.ops.slice());return E.ops.length>0&&(i.push(E.ops[0]),i.ops=i.ops.concat(E.ops.slice(1))),i},C.prototype.diff=function(E,i){if(this.ops===E.ops)return new C;var f=[this,E].map(function(d){return d.map(function(c){if(null!=c.insert)return"string"==typeof c.insert?c.insert:O;throw new Error("diff() called "+(d===E?"on":"with")+" non-document")}).join("")}),_=new C,l=n(f[0],f[1],i),m=v.iterator(this.ops),h=v.iterator(E.ops);return l.forEach(function(d){for(var c=d[1].length;c>0;){var a=0;switch(d[0]){case n.INSERT:a=Math.min(h.peekLength(),c),_.push(h.next(a));break;case n.DELETE:a=Math.min(c,m.peekLength()),m.next(a),_.delete(a);break;case n.EQUAL:a=Math.min(m.peekLength(),h.peekLength(),c);var s=m.next(a),r=h.next(a);y(s.insert,r.insert)?_.retain(a,v.attributes.diff(s.attributes,r.attributes)):_.push(r).delete(a)}c-=a}}),_.chop()},C.prototype.eachLine=function(E,i){i=i||"\n";for(var f=v.iterator(this.ops),_=new C,l=0;f.hasNext();){if("insert"!==f.peekType())return;var m=f.peek(),h=v.length(m)-f.peekLength(),d="string"==typeof m.insert?m.insert.indexOf(i,h)-h:-1;if(d<0)_.push(f.next());else if(d>0)_.push(f.next(d));else{if(!1===E(_,f.next(1).attributes||{},l))return;l+=1,_=new C}}_.length()>0&&E(_,{},l)},C.prototype.transform=function(E,i){if(i=!!i,"number"==typeof E)return this.transformPosition(E,i);for(var f=v.iterator(this.ops),_=v.iterator(E.ops),l=new C;f.hasNext()||_.hasNext();)if("insert"!==f.peekType()||!i&&"insert"===_.peekType())if("insert"===_.peekType())l.push(_.next());else{var m=Math.min(f.peekLength(),_.peekLength()),h=f.next(m),d=_.next(m);if(h.delete)continue;d.delete?l.push(d):l.retain(m,v.attributes.transform(h.attributes,d.attributes,i))}else l.retain(v.length(f.next()));return l.chop()},C.prototype.transformPosition=function(E,i){i=!!i;for(var f=v.iterator(this.ops),_=0;f.hasNext()&&_<=E;){var l=f.peekLength(),m=f.peekType();f.next(),"delete"!==m?("insert"===m&&(_<E||!i)&&(E+=l),_+=l):E-=Math.min(l,E-_)}return E},K.exports=C},function(K,t){"use strict";var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,y=Object.defineProperty,T=Object.getOwnPropertyDescriptor,v=function(f){return"function"==typeof Array.isArray?Array.isArray(f):"[object Array]"===n.call(f)},O=function(f){if(!f||"[object Object]"!==n.call(f))return!1;var m,_=e.call(f,"constructor"),l=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!_&&!l)return!1;for(m in f);return typeof m>"u"||e.call(f,m)},C=function(f,_){y&&"__proto__"===_.name?y(f,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):f[_.name]=_.newValue},E=function(f,_){if("__proto__"===_){if(!e.call(f,_))return;if(T)return T(f,_).value}return f[_]};K.exports=function i(){var f,_,l,m,h,d,c=arguments[0],a=1,s=arguments.length,r=!1;for("boolean"==typeof c&&(r=c,c=arguments[1]||{},a=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});a<s;++a)if(null!=(f=arguments[a]))for(_ in f)l=E(c,_),c!==(m=E(f,_))&&(r&&m&&(O(m)||(h=v(m)))?(h?(h=!1,d=l&&v(l)?l:[]):d=l&&O(l)?l:{},C(c,{name:_,newValue:i(r,d,m)})):typeof m<"u"&&C(c,{name:_,newValue:m}));return c}},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function P(g,u){for(var M=0;M<u.length;M++){var R=u[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(g,R.key,R)}}return function(g,u,M){return u&&P(g.prototype,u),M&&P(g,M),g}}(),y=function P(g,u,M){null===g&&(g=Function.prototype);var R=Object.getOwnPropertyDescriptor(g,u);if(void 0===R){var w=Object.getPrototypeOf(g);return null===w?void 0:P(w,u,M)}if("value"in R)return R.value;var F=R.get;return void 0===F?void 0:F.call(M)},v=c(e(3)),C=c(e(2)),i=c(e(0)),_=c(e(16)),m=c(e(6)),d=c(e(7));function c(P){return P&&P.__esModule?P:{default:P}}function a(P,g){if(!(P instanceof g))throw new TypeError("Cannot call a class as a function")}function s(P,g){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?P:g}function r(P,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);P.prototype=Object.create(g&&g.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(P,g):P.__proto__=g)}var S=function(P){function g(){return a(this,g),s(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return r(g,P),n(g,[{key:"attach",value:function(){y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new C.default).insert(this.value(),(0,v.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,R){var w=i.default.query(M,i.default.Scope.BLOCK_ATTRIBUTE);null!=w&&this.attributes.attribute(w,R)}},{key:"formatAt",value:function(M,R,w,F){this.format(w,F)}},{key:"insertAt",value:function(M,R,w){if("string"==typeof R&&R.endsWith("\n")){var F=i.default.create(I.blotName);this.parent.insertBefore(F,0===M?this:this.next),F.insertAt(0,R.slice(0,-1))}else y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertAt",this).call(this,M,R,w)}}]),g}(i.default.Embed);S.scope=i.default.Scope.BLOCK_BLOT;var I=function(P){function g(u){a(this,g);var M=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,u));return M.cache={},M}return r(g,P),n(g,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(M,R){return 0===R.length()?M:M.insert(R.value(),x(R))},new C.default).insert("\n",x(this))),this.cache.delta}},{key:"deleteAt",value:function(M,R){y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"deleteAt",this).call(this,M,R),this.cache={}}},{key:"formatAt",value:function(M,R,w,F){R<=0||(i.default.query(w,i.default.Scope.BLOCK)?M+R===this.length()&&this.format(w,F):y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,M,Math.min(R,this.length()-M-1),w,F),this.cache={})}},{key:"insertAt",value:function(M,R,w){if(null!=w)return y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertAt",this).call(this,M,R,w);if(0!==R.length){var F=R.split("\n"),B=F.shift();B.length>0&&(M<this.length()-1||null==this.children.tail?y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),B):this.children.tail.insertAt(this.children.tail.length(),B),this.cache={});var H=this;F.reduce(function($,j){return(H=H.split($,!0)).insertAt(0,j),j.length},M+B.length)}}},{key:"insertBefore",value:function(M,R){var w=this.children.head;y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertBefore",this).call(this,M,R),w instanceof _.default&&w.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(M,R){y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"moveChildren",this).call(this,M,R),this.cache={}}},{key:"optimize",value:function(M){y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var R=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(R&&(0===M||M>=this.length()-1)){var w=this.clone();return 0===M?(this.parent.insertBefore(w,this),this):(this.parent.insertBefore(w,this.next),w)}var F=y(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"split",this).call(this,M,R);return this.cache={},F}}]),g}(i.default.Block);function x(P){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==P||("function"==typeof P.formats&&(g=(0,v.default)(g,P.formats())),null==P.parent||"scroll"==P.parent.blotName||P.parent.statics.scope!==P.statics.scope)?g:x(P.parent,g)}I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[m.default,i.default.Embed,d.default],t.bubbleFormats=x,t.BlockEmbed=S,t.default=I},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},y=function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function H($,j){var V=[],Q=!0,ie=!1,ye=void 0;try{for(var _e,G=$[Symbol.iterator]();!(Q=(_e=G.next()).done)&&(V.push(_e.value),!j||V.length!==j);Q=!0);}catch(Ie){ie=!0,ye=Ie}finally{try{!Q&&G.return&&G.return()}finally{if(ie)throw ye}}return V}($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=function(){function H($,j){for(var V=0;V<j.length;V++){var Q=j[V];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}}return function($,j,V){return j&&H($.prototype,j),V&&H($,V),$}}();e(50);var O=x(e(2)),E=x(e(14)),f=x(e(8)),l=x(e(9)),h=x(e(0)),d=e(15),c=x(d),s=x(e(3)),o=x(e(10)),I=x(e(34));function x(H){return H&&H.__esModule?H:{default:H}}function P(H,$,j){return $ in H?Object.defineProperty(H,$,{value:j,enumerable:!0,configurable:!0,writable:!0}):H[$]=j,H}function g(H,$){if(!(H instanceof $))throw new TypeError("Cannot call a class as a function")}var u=(0,o.default)("quill"),M=function(){function H($){var j=this,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(this,H),this.options=R($,V),this.container=this.options.container,null==this.container)return u.error("Invalid Quill container",$);this.options.debug&&H.debug(this.options.debug);var Q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=h.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new E.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(ye){ye===f.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(ye,G){var _e=j.selection.lastRange,Ie=_e&&0===_e.length?_e.index:void 0;w.call(j,function(){return j.editor.update(null,G,Ie)},ye)});var ie=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+Q+"<p><br></p></div>");this.setContents(ie),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return T(H,null,[{key:"debug",value:function(j){!0===j&&(j="log"),o.default.level(j)}},{key:"find",value:function(j){return j.__quill||h.default.find(j)}},{key:"import",value:function(j){return null==this.imports[j]&&u.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,V){var Q=this,ie=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof j){var ye=j.attrName||j.blotName;"string"==typeof ye?this.register("formats/"+ye,j,V):Object.keys(j).forEach(function(G){Q.register(G,j[G],V)})}else null!=this.imports[j]&&!ie&&u.warn("Overwriting "+j+" with",V),this.imports[j]=V,(j.startsWith("blots/")||j.startsWith("formats/"))&&"abstract"!==V.blotName?h.default.register(V):j.startsWith("modules")&&"function"==typeof V.register&&V.register()}}]),T(H,[{key:"addContainer",value:function(j){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof j){var Q=j;(j=document.createElement("div")).classList.add(Q)}return this.container.insertBefore(j,V),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,V,Q){var ie=this,ye=F(j,V,Q),G=y(ye,4);return w.call(this,function(){return ie.editor.deleteText(j,V)},Q=G[3],j=G[0],-1*(V=G[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,V){var Q=this;return w.call(this,function(){var ye=Q.getSelection(!0),G=new O.default;if(null==ye)return G;if(h.default.query(j,h.default.Scope.BLOCK))G=Q.editor.formatLine(ye.index,ye.length,P({},j,V));else{if(0===ye.length)return Q.selection.format(j,V),G;G=Q.editor.formatText(ye.index,ye.length,P({},j,V))}return Q.setSelection(ye,f.default.sources.SILENT),G},arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API)}},{key:"formatLine",value:function(j,V,Q,ie,ye){var _e,G=this,Ie=F(j,V,Q,ie,ye),Me=y(Ie,4);return V=Me[1],_e=Me[2],w.call(this,function(){return G.editor.formatLine(j,V,_e)},ye=Me[3],j=Me[0],0)}},{key:"formatText",value:function(j,V,Q,ie,ye){var _e,G=this,Ie=F(j,V,Q,ie,ye),Me=y(Ie,4);return V=Me[1],_e=Me[2],w.call(this,function(){return G.editor.formatText(j,V,_e)},ye=Me[3],j=Me[0],0)}},{key:"getBounds",value:function(j){var Q=void 0;Q="number"==typeof j?this.selection.getBounds(j,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(j.index,j.length);var ie=this.container.getBoundingClientRect();return{bottom:Q.bottom-ie.top,height:Q.height,left:Q.left-ie.left,right:Q.right-ie.left,top:Q.top-ie.top,width:Q.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-j,Q=F(j,V),ie=y(Q,2);return this.editor.getContents(j=ie[0],V=ie[1])}},{key:"getFormat",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof j?this.editor.getFormat(j,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof j?this.scroll.lines(j.index,j.length):this.scroll.lines(j,V)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-j,Q=F(j,V),ie=y(Q,2);return this.editor.getText(j=ie[0],V=ie[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,V,Q){var ie=this;return w.call(this,function(){return ie.editor.insertEmbed(j,V,Q)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.sources.API,j)}},{key:"insertText",value:function(j,V,Q,ie,ye){var _e,G=this,Ie=F(j,0,Q,ie,ye),Me=y(Ie,4);return _e=Me[2],w.call(this,function(){return G.editor.insertText(j,V,_e)},ye=Me[3],j=Me[0],V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,V,Q){this.clipboard.dangerouslyPasteHTML(j,V,Q)}},{key:"removeFormat",value:function(j,V,Q){var ie=this,ye=F(j,V,Q),G=y(ye,4);return V=G[1],w.call(this,function(){return ie.editor.removeFormat(j,V)},Q=G[3],j=G[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var V=this;return w.call(this,function(){j=new O.default(j);var ie=V.getLength(),ye=V.editor.deleteText(0,ie),G=V.editor.applyDelta(j),_e=G.ops[G.ops.length-1];return null!=_e&&"string"==typeof _e.insert&&"\n"===_e.insert[_e.insert.length-1]&&(V.editor.deleteText(V.getLength()-1,1),G.delete(1)),ye.compose(G)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API)}},{key:"setSelection",value:function(j,V,Q){if(null==j)this.selection.setRange(null,V||H.sources.API);else{var ie=F(j,V,Q),ye=y(ie,4);Q=ye[3],this.selection.setRange(new d.Range(j=ye[0],V=ye[1]),Q),Q!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API,Q=(new O.default).insert(j);return this.setContents(Q,V)}},{key:"update",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,V=this.scroll.update(j);return this.selection.update(j),V}},{key:"updateContents",value:function(j){var V=this,Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return w.call(this,function(){return j=new O.default(j),V.editor.applyDelta(j,Q)},Q,!0)}}]),H}();function R(H,$){if(($=(0,s.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},$)).theme&&$.theme!==M.DEFAULTS.theme){if($.theme=M.import("themes/"+$.theme),null==$.theme)throw new Error("Invalid theme "+$.theme+". Did you register it?")}else $.theme=I.default;var j=(0,s.default)(!0,{},$.theme.DEFAULTS);[j,$].forEach(function(ie){ie.modules=ie.modules||{},Object.keys(ie.modules).forEach(function(ye){!0===ie.modules[ye]&&(ie.modules[ye]={})})});var Q=Object.keys(j.modules).concat(Object.keys($.modules)).reduce(function(ie,ye){var G=M.import("modules/"+ye);return null==G?u.error("Cannot load "+ye+" module. Are you sure you registered it?"):ie[ye]=G.DEFAULTS||{},ie},{});return null!=$.modules&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,s.default)(!0,{},M.DEFAULTS,{modules:Q},j,$),["bounds","container","scrollingContainer"].forEach(function(ie){"string"==typeof $[ie]&&($[ie]=document.querySelector($[ie]))}),$.modules=Object.keys($.modules).reduce(function(ie,ye){return $.modules[ye]&&(ie[ye]=$.modules[ye]),ie},{}),$}function w(H,$,j,V){if(this.options.strict&&!this.isEnabled()&&$===f.default.sources.USER)return new O.default;var Q=null==j?null:this.getSelection(),ie=this.editor.delta,ye=H();if(null!=Q&&(!0===j&&(j=Q.index),null==V?Q=B(Q,ye,$):0!==V&&(Q=B(Q,j,V,$)),this.setSelection(Q,f.default.sources.SILENT)),ye.length()>0){var G,Ie,_e=[f.default.events.TEXT_CHANGE,ye,ie,$];(G=this.emitter).emit.apply(G,[f.default.events.EDITOR_CHANGE].concat(_e)),$!==f.default.sources.SILENT&&(Ie=this.emitter).emit.apply(Ie,_e)}return ye}function F(H,$,j,V,Q){var ie={};return"number"==typeof H.index&&"number"==typeof H.length?"number"!=typeof $?(Q=V,V=j,j=$,$=H.length,H=H.index):($=H.length,H=H.index):"number"!=typeof $&&(Q=V,V=j,j=$,$=0),"object"===(typeof j>"u"?"undefined":n(j))?(ie=j,Q=V):"string"==typeof j&&(null!=V?ie[j]=V:Q=j),[H,$,ie,Q=Q||f.default.sources.API]}function B(H,$,j,V){if(null==H)return null;var Q=void 0,ie=void 0;if($ instanceof O.default){var ye=[H.index,H.index+H.length].map(function(Me){return $.transformPosition(Me,V!==f.default.sources.USER)}),G=y(ye,2);Q=G[0],ie=G[1]}else{var _e=[H.index,H.index+H.length].map(function(Me){return Me<$||Me===$&&V===f.default.sources.USER?Me:j>=0?Me+j:Math.max($,Me+j)}),Ie=y(_e,2);Q=Ie[0],ie=Ie[1]}return new d.Range(Q,ie-Q)}M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=f.default.events,M.sources=f.default.sources,M.version="1.3.7",M.imports={delta:O.default,parchment:h.default,"core/module":l.default,"core/theme":I.default},t.expandConfig=R,t.overload=F,t.default=M},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function m(h,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}return function(h,d,c){return d&&m(h.prototype,d),c&&m(h,c),h}}(),y=function m(h,d,c){null===h&&(h=Function.prototype);var a=Object.getOwnPropertyDescriptor(h,d);if(void 0===a){var s=Object.getPrototypeOf(h);return null===s?void 0:m(s,d,c)}if("value"in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(c)},v=E(e(7)),C=E(e(0));function E(m){return m&&m.__esModule?m:{default:m}}function i(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function f(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?m:h}var l=function(m){function h(){return i(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function _(m,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}(h,m),n(h,[{key:"formatAt",value:function(c,a,s,r){if(h.compare(this.statics.blotName,s)<0&&C.default.query(s,C.default.Scope.BLOT)){var o=this.isolate(c,a);r&&o.wrap(s,r)}else y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,c,a,s,r)}},{key:"optimize",value:function(c){if(y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,c),this.parent instanceof h&&h.compare(this.statics.blotName,this.parent.statics.blotName)>0){var a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}}],[{key:"compare",value:function(c,a){var s=h.order.indexOf(c),r=h.order.indexOf(a);return s>=0||r>=0?s-r:c===a?0:c<a?-1:1}}]),h}(C.default.Inline);l.allowedChildren=[l,C.default.Embed,v.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(K,t,e){"use strict";function v(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function O(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}Object.defineProperty(t,"__esModule",{value:!0});var E=function(i){function f(){return v(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function C(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),f}(function T(i){return i&&i.__esModule?i:{default:i}}(e(0)).default.Text);t.default=E},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(c,a){for(var s=0;s<a.length;s++){var r=a[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(c,r.key,r)}}return function(c,a,s){return a&&d(c.prototype,a),s&&d(c,s),c}}(),y=function d(c,a,s){null===c&&(c=Function.prototype);var r=Object.getOwnPropertyDescriptor(c,a);if(void 0===r){var o=Object.getPrototypeOf(c);return null===o?void 0:d(o,a,s)}if("value"in r)return r.value;var S=r.get;return void 0===S?void 0:S.call(s)},v=E(e(54));function E(d){return d&&d.__esModule?d:{default:d}}var l=(0,E(e(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(d){document.addEventListener(d,function(){for(var c=arguments.length,a=Array(c),s=0;s<c;s++)a[s]=arguments[s];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(r){var o;r.__quill&&r.__quill.emitter&&(o=r.__quill.emitter).handleDOM.apply(o,a)})})});var h=function(d){function c(){!function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);var a=function f(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?d:c}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return a.listeners={},a.on("error",l.error),a}return function _(d,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}(c,d),n(c,[{key:"emit",value:function(){l.log.apply(l,arguments),y(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(s){for(var r=arguments.length,o=Array(r>1?r-1:0),S=1;S<r;S++)o[S-1]=arguments[S];(this.listeners[s.type]||[]).forEach(function(I){var x=I.node,P=I.handler;(s.target===x||x.contains(s.target))&&P.apply(void 0,[s].concat(o))})}},{key:"listenDOM",value:function(s,r,o){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push({node:r,handler:o})}}]),c}(v.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},t.default=h},function(K,t,e){"use strict";function n(T,v){if(!(T instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var y=function T(v){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,T),this.quill=v,this.options=O};y.DEFAULTS={},t.default=y},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],y="warn";function T(O){if(n.indexOf(O)<=n.indexOf(y)){for(var C,E=arguments.length,i=Array(E>1?E-1:0),f=1;f<E;f++)i[f-1]=arguments[f];(C=console)[O].apply(C,i)}}function v(O){return n.reduce(function(C,E){return C[E]=T.bind(console,E,O),C},{})}T.level=v.level=function(O){y=O},t.default=v},function(K,t,e){var n=Array.prototype.slice,y=e(52),T=e(53),v=K.exports=function(i,f,_){return _||(_={}),i===f||(i instanceof Date&&f instanceof Date?i.getTime()===f.getTime():!i||!f||"object"!=typeof i&&"object"!=typeof f?_.strict?i===f:i==f:function E(i,f,_){var l,m;if(O(i)||O(f)||i.prototype!==f.prototype)return!1;if(T(i))return!!T(f)&&(i=n.call(i),f=n.call(f),v(i,f,_));if(C(i)){if(!C(f)||i.length!==f.length)return!1;for(l=0;l<i.length;l++)if(i[l]!==f[l])return!1;return!0}try{var h=y(i),d=y(f)}catch{return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),l=h.length-1;l>=0;l--)if(h[l]!=d[l])return!1;for(l=h.length-1;l>=0;l--)if(!v(i[m=h[l]],f[m],_))return!1;return typeof i==typeof f}(i,f,_))};function O(i){return null==i}function C(i){return!(!i||"object"!=typeof i||"number"!=typeof i.length||"function"!=typeof i.copy||"function"!=typeof i.slice||i.length>0&&"number"!=typeof i[0])}},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(1),y=function(){function T(v,O,C){void 0===C&&(C={}),this.attrName=v,this.keyName=O,this.scope=null!=C.scope?C.scope&n.Scope.LEVEL|n.Scope.TYPE&n.Scope.ATTRIBUTE:n.Scope.ATTRIBUTE,null!=C.whitelist&&(this.whitelist=C.whitelist)}return T.keys=function(v){return[].map.call(v.attributes,function(O){return O.name})},T.prototype.add=function(v,O){return!!this.canAdd(v,O)&&(v.setAttribute(this.keyName,O),!0)},T.prototype.canAdd=function(v,O){return null!=n.query(v,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof O?this.whitelist.indexOf(O.replace(/["']/g,""))>-1:this.whitelist.indexOf(O)>-1))},T.prototype.remove=function(v){v.removeAttribute(this.keyName)},T.prototype.value=function(v){var O=v.getAttribute(this.keyName);return this.canAdd(v,O)&&O?O:""},T}();t.default=y},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function S(I,x){var P=[],g=!0,u=!1,M=void 0;try{for(var w,R=I[Symbol.iterator]();!(g=(w=R.next()).done)&&(P.push(w.value),!x||P.length!==x);g=!0);}catch(F){u=!0,M=F}finally{try{!g&&R.return&&R.return()}finally{if(u)throw M}}return P}(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=function(){function S(I,x){for(var P=0;P<x.length;P++){var g=x[P];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(I,g.key,g)}}return function(I,x,P){return x&&S(I.prototype,x),P&&S(I,P),I}}(),T=function S(I,x,P){null===I&&(I=Function.prototype);var g=Object.getOwnPropertyDescriptor(I,x);if(void 0===g){var u=Object.getPrototypeOf(I);return null===u?void 0:S(u,x,P)}if("value"in g)return g.value;var M=g.get;return void 0===M?void 0:M.call(P)},O=d(e(2)),E=d(e(0)),f=d(e(4)),l=d(e(6)),h=d(e(7));function d(S){return S&&S.__esModule?S:{default:S}}function c(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function a(S,I){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?S:I}function s(S,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);S.prototype=Object.create(I&&I.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(S,I):S.__proto__=I)}var r=function(S){function I(){return c(this,I),a(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,S),I}(l.default);r.blotName="code",r.tagName="CODE";var o=function(S){function I(){return c(this,I),a(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,S),y(I,[{key:"delta",value:function(){var P=this,g=this.domNode.textContent;return g.endsWith("\n")&&(g=g.slice(0,-1)),g.split("\n").reduce(function(u,M){return u.insert(M).insert("\n",P.formats())},new O.default)}},{key:"format",value:function(P,g){if(P!==this.statics.blotName||!g){var u=this.descendant(h.default,this.length()-1),R=n(u,1)[0];R?.deleteAt(R.length()-1,1),T(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,g)}}},{key:"formatAt",value:function(P,g,u,M){if(0!==g&&null!=E.default.query(u,E.default.Scope.BLOCK)&&(u!==this.statics.blotName||M!==this.statics.formats(this.domNode))){var R=this.newlineIndex(P);if(!(R<0||R>=P+g)){var w=this.newlineIndex(P,!0)+1,F=R-w+1,B=this.isolate(w,F),H=B.next;B.format(u,M),H instanceof I&&H.formatAt(0,P-w+g-F,u,M)}}}},{key:"insertAt",value:function(P,g,u){if(null==u){var M=this.descendant(h.default,P),R=n(M,2);R[0].insertAt(R[1],g)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?P:P+1}},{key:"newlineIndex",value:function(P){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,P).lastIndexOf("\n");var u=this.domNode.textContent.slice(P).indexOf("\n");return u>-1?P+u:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith("\n")||this.appendChild(E.default.create("text","\n")),T(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var g=this.next;null!=g&&g.prev===this&&g.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===g.statics.formats(g.domNode)&&(g.optimize(P),g.moveChildren(this),g.remove())}},{key:"replace",value:function(P){T(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(g){var u=E.default.find(g);null==u?g.parentNode.removeChild(g):u instanceof E.default.Embed?u.remove():u.unwrap()})}}],[{key:"create",value:function(P){var g=T(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return g.setAttribute("spellcheck",!1),g}},{key:"formats",value:function(){return!0}}]),I}(f.default);o.blotName="code-block",o.tagName="PRE",o.TAB="  ",t.Code=r,t.default=o},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},y=function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function H($,j){var V=[],Q=!0,ie=!1,ye=void 0;try{for(var _e,G=$[Symbol.iterator]();!(Q=(_e=G.next()).done)&&(V.push(_e.value),!j||V.length!==j);Q=!0);}catch(Ie){ie=!0,ye=Ie}finally{try{!Q&&G.return&&G.return()}finally{if(ie)throw ye}}return V}($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=function(){function H($,j){for(var V=0;V<j.length;V++){var Q=j[V];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty($,Q.key,Q)}}return function($,j,V){return j&&H($.prototype,j),V&&H($,V),$}}(),O=g(e(2)),E=g(e(20)),f=g(e(0)),l=g(e(13)),h=g(e(24)),d=e(4),c=g(d),s=g(e(16)),o=g(e(21)),I=g(e(11)),P=g(e(3));function g(H){return H&&H.__esModule?H:{default:H}}var R=/^[ -~]*$/,w=function(){function H($){(function M(H,$){if(!(H instanceof $))throw new TypeError("Cannot call a class as a function")})(this,H),this.scroll=$,this.delta=this.getDelta()}return T(H,[{key:"applyDelta",value:function(j){var V=this,Q=!1;this.scroll.update();var ie=this.scroll.length();return this.scroll.batchStart(),(j=function B(H){return H.reduce(function($,j){if(1===j.insert){var V=(0,o.default)(j.attributes);return delete V.image,$.insert({image:j.attributes.image},V)}if(null!=j.attributes&&(!0===j.attributes.list||!0===j.attributes.bullet)&&((j=(0,o.default)(j)).attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),"string"==typeof j.insert){var Q=j.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return $.insert(Q,j.attributes)}return $.push(j)},new O.default)}(j)).reduce(function(ye,G){var _e=G.retain||G.delete||G.insert.length||1,Ie=G.attributes||{};if(null!=G.insert){if("string"==typeof G.insert){var Me=G.insert;Me.endsWith("\n")&&Q&&(Q=!1,Me=Me.slice(0,-1)),ye>=ie&&!Me.endsWith("\n")&&(Q=!0),V.scroll.insertAt(ye,Me);var Fe=V.scroll.line(ye),Ve=y(Fe,2),Pe=Ve[0],xe=Ve[1],be=(0,P.default)({},(0,d.bubbleFormats)(Pe));if(Pe instanceof c.default){var Ue=Pe.descendant(f.default.Leaf,xe),He=y(Ue,1);be=(0,P.default)(be,(0,d.bubbleFormats)(He[0]))}Ie=E.default.attributes.diff(be,Ie)||{}}else if("object"===n(G.insert)){var je=Object.keys(G.insert)[0];if(null==je)return ye;V.scroll.insertAt(ye,je,G.insert[je])}ie+=_e}return Object.keys(Ie).forEach(function(Be){V.scroll.formatAt(ye,_e,Be,Ie[Be])}),ye+_e},0),j.reduce(function(ye,G){return"number"==typeof G.delete?(V.scroll.deleteAt(ye,G.delete),ye):ye+(G.retain||G.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,V){return this.scroll.deleteAt(j,V),this.update((new O.default).retain(j).delete(V))}},{key:"formatLine",value:function(j,V){var Q=this,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ie).forEach(function(ye){if(null==Q.scroll.whitelist||Q.scroll.whitelist[ye]){var G=Q.scroll.lines(j,Math.max(V,1)),_e=V;G.forEach(function(Ie){var Me=Ie.length();if(Ie instanceof l.default){var Fe=j-Ie.offset(Q.scroll),Ve=Ie.newlineIndex(Fe+_e)-Fe+1;Ie.formatAt(Fe,Ve,ye,ie[ye])}else Ie.format(ye,ie[ye]);_e-=Me})}}),this.scroll.optimize(),this.update((new O.default).retain(j).retain(V,(0,o.default)(ie)))}},{key:"formatText",value:function(j,V){var Q=this,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ie).forEach(function(ye){Q.scroll.formatAt(j,V,ye,ie[ye])}),this.update((new O.default).retain(j).retain(V,(0,o.default)(ie)))}},{key:"getContents",value:function(j,V){return this.delta.slice(j,j+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,V){return j.concat(V.delta())},new O.default)}},{key:"getFormat",value:function(j){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=[],ie=[];0===V?this.scroll.path(j).forEach(function(G){var Ie=y(G,1)[0];Ie instanceof c.default?Q.push(Ie):Ie instanceof f.default.Leaf&&ie.push(Ie)}):(Q=this.scroll.lines(j,V),ie=this.scroll.descendants(f.default.Leaf,j,V));var ye=[Q,ie].map(function(G){if(0===G.length)return{};for(var _e=(0,d.bubbleFormats)(G.shift());Object.keys(_e).length>0;){var Ie=G.shift();if(null==Ie)return _e;_e=F((0,d.bubbleFormats)(Ie),_e)}return _e});return P.default.apply(P.default,ye)}},{key:"getText",value:function(j,V){return this.getContents(j,V).filter(function(Q){return"string"==typeof Q.insert}).map(function(Q){return Q.insert}).join("")}},{key:"insertEmbed",value:function(j,V,Q){return this.scroll.insertAt(j,V,Q),this.update((new O.default).retain(j).insert(function u(H,$,j){return $ in H?Object.defineProperty(H,$,{value:j,enumerable:!0,configurable:!0,writable:!0}):H[$]=j,H}({},V,Q)))}},{key:"insertText",value:function(j,V){var Q=this,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return V=V.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(j,V),Object.keys(ie).forEach(function(ye){Q.scroll.formatAt(j,V.length,ye,ie[ye])}),this.update((new O.default).retain(j).insert(V,(0,o.default)(ie)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return!(j.statics.blotName!==c.default.blotName||j.children.length>1)&&j.children.head instanceof s.default}},{key:"removeFormat",value:function(j,V){var Q=this.getText(j,V),ie=this.scroll.line(j+V),ye=y(ie,2),G=ye[0],_e=ye[1],Ie=0,Me=new O.default;null!=G&&(Ie=G instanceof l.default?G.newlineIndex(_e)-_e+1:G.length()-_e,Me=G.delta().slice(_e,_e+Ie-1).insert("\n"));var Ve=this.getContents(j,V+Ie).diff((new O.default).insert(Q).concat(Me)),Pe=(new O.default).retain(j).concat(Ve);return this.applyDelta(Pe)}},{key:"update",value:function(j){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ie=this.delta;if(1===V.length&&"characterData"===V[0].type&&V[0].target.data.match(R)&&f.default.find(V[0].target)){var ye=f.default.find(V[0].target),G=(0,d.bubbleFormats)(ye),_e=ye.offset(this.scroll),Ie=V[0].oldValue.replace(h.default.CONTENTS,""),Me=(new O.default).insert(Ie),Fe=(new O.default).insert(ye.value());j=(new O.default).retain(_e).concat(Me.diff(Fe,Q)).reduce(function(Pe,xe){return xe.insert?Pe.insert(xe.insert,G):Pe.push(xe)},new O.default),this.delta=ie.compose(j)}else this.delta=this.getDelta(),(!j||!(0,I.default)(ie.compose(j),this.delta))&&(j=ie.diff(this.delta,Q));return j}}]),H}();function F(H,$){return Object.keys($).reduce(function(j,V){return null==H[V]||($[V]===H[V]?j[V]=$[V]:Array.isArray($[V])?$[V].indexOf(H[V])<0&&(j[V]=$[V].concat([H[V]])):j[V]=[$[V],H[V]]),j},{})}t.default=w},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function S(I,x){var P=[],g=!0,u=!1,M=void 0;try{for(var w,R=I[Symbol.iterator]();!(g=(w=R.next()).done)&&(P.push(w.value),!x||P.length!==x);g=!0);}catch(F){u=!0,M=F}finally{try{!g&&R.return&&R.return()}finally{if(u)throw M}}return P}(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=function(){function S(I,x){for(var P=0;P<x.length;P++){var g=x[P];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(I,g.key,g)}}return function(I,x,P){return x&&S(I.prototype,x),P&&S(I,P),I}}(),v=h(e(0)),C=h(e(21)),i=h(e(11)),_=h(e(8));function h(S){return S&&S.__esModule?S:{default:S}}function d(S){if(Array.isArray(S)){for(var I=0,x=Array(S.length);I<S.length;I++)x[I]=S[I];return x}return Array.from(S)}function c(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}var a=(0,h(e(10)).default)("quill:selection"),s=function S(I){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,S),this.index=I,this.length=x},r=function(){function S(I,x){var P=this;c(this,S),this.emitter=x,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=v.default.create("cursor",this),this.lastRange=this.savedRange=new s(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(g,u){g===_.default.events.TEXT_CHANGE&&u.length()>0&&P.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var g=P.getNativeRange();null!=g&&g.start.node!==P.cursor.textNode&&P.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(g.start.node,g.start.offset,g.end.node,g.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(g,u){if(u.range){var M=u.range;P.setNativeRange(M.startNode,M.startOffset,M.endNode,M.endOffset)}}),this.update(_.default.sources.SILENT)}return y(S,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var P=x.cursor.restore();if(!P)return;setTimeout(function(){x.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,P){if(null==this.scroll.whitelist||this.scroll.whitelist[x]){this.scroll.update();var g=this.getNativeRange();if(null!=g&&g.native.collapsed&&!v.default.query(x,v.default.Scope.BLOCK)){if(g.start.node!==this.cursor.textNode){var u=v.default.find(g.start.node,!1);if(null==u)return;if(u instanceof v.default.Leaf){var M=u.split(g.start.offset);u.parent.insertBefore(this.cursor,M)}else u.insertBefore(this.cursor,g.start.node);this.cursor.attach()}this.cursor.format(x,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=this.scroll.length();x=Math.min(x,g-1),P=Math.min(x+P,g-1)-x;var u=void 0,M=this.scroll.leaf(x),R=n(M,2),w=R[0],F=R[1];if(null==w)return null;var B=w.position(F,!0),H=n(B,2);u=H[0],F=H[1];var $=document.createRange();if(P>0){$.setStart(u,F);var j=this.scroll.leaf(x+P),V=n(j,2);if(null==(w=V[0]))return null;var Q=w.position(F=V[1],!0),ie=n(Q,2);return $.setEnd(u=ie[0],F=ie[1]),$.getBoundingClientRect()}var ye="left",G=void 0;return u instanceof Text?(F<u.data.length?($.setStart(u,F),$.setEnd(u,F+1)):($.setStart(u,F-1),$.setEnd(u,F),ye="right"),G=$.getBoundingClientRect()):(G=w.domNode.getBoundingClientRect(),F>0&&(ye="right")),{bottom:G.top+G.height,height:G.height,left:G[ye],right:G[ye],top:G.top,width:0}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(null==x||x.rangeCount<=0)return null;var P=x.getRangeAt(0);if(null==P)return null;var g=this.normalizeNative(P);return a.info("getNativeRange",g),g}},{key:"getRange",value:function(){var x=this.getNativeRange();return null==x?[null,null]:[this.normalizedToRange(x),x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var P=this,g=[[x.start.node,x.start.offset]];x.native.collapsed||g.push([x.end.node,x.end.offset]);var u=g.map(function(w){var F=n(w,2),B=F[0],H=F[1],$=v.default.find(B,!0),j=$.offset(P.scroll);return 0===H?j:$ instanceof v.default.Container?j+$.length():j+$.index(B,H)}),M=Math.min(Math.max.apply(Math,d(u)),this.scroll.length()-1),R=Math.min.apply(Math,[M].concat(d(u)));return new s(R,M-R)}},{key:"normalizeNative",value:function(x){if(!o(this.root,x.startContainer)||!x.collapsed&&!o(this.root,x.endContainer))return null;var P={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[P.start,P.end].forEach(function(g){for(var u=g.node,M=g.offset;!(u instanceof Text)&&u.childNodes.length>0;)if(u.childNodes.length>M)u=u.childNodes[M],M=0;else{if(u.childNodes.length!==M)break;M=(u=u.lastChild)instanceof Text?u.data.length:u.childNodes.length+1}g.node=u,g.offset=M}),P}},{key:"rangeToNative",value:function(x){var P=this,g=x.collapsed?[x.index]:[x.index,x.index+x.length],u=[],M=this.scroll.length();return g.forEach(function(R,w){R=Math.min(M-1,R);var B=P.scroll.leaf(R),H=n(B,2),j=H[1],V=H[0].position(j,0!==w),Q=n(V,2);u.push(Q[0],j=Q[1])}),u.length<2&&(u=u.concat(u)),u}},{key:"scrollIntoView",value:function(x){var P=this.lastRange;if(null!=P){var g=this.getBounds(P.index,P.length);if(null!=g){var u=this.scroll.length()-1,M=this.scroll.line(Math.min(P.index,u)),w=n(M,1)[0],F=w;if(P.length>0){var B=this.scroll.line(Math.min(P.index+P.length,u));F=n(B,1)[0]}if(null!=w&&null!=F){var $=x.getBoundingClientRect();g.top<$.top?x.scrollTop-=$.top-g.top:g.bottom>$.bottom&&(x.scrollTop+=g.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(x,P){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P,M=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(a.info("setNativeRange",x,P,g,u),null==x||null!=this.root.parentNode&&null!=x.parentNode&&null!=g.parentNode){var R=document.getSelection();if(null!=R)if(null!=x){this.hasFocus()||this.root.focus();var w=(this.getNativeRange()||{}).native;if(null==w||M||x!==w.startContainer||P!==w.startOffset||g!==w.endContainer||u!==w.endOffset){"BR"==x.tagName&&(P=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),"BR"==g.tagName&&(u=[].indexOf.call(g.parentNode.childNodes,g),g=g.parentNode);var F=document.createRange();F.setStart(x,P),F.setEnd(g,u),R.removeAllRanges(),R.addRange(F)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var P=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.default.sources.API;if("string"==typeof P&&(g=P,P=!1),a.info("setRange",x),null!=x){var u=this.rangeToNative(x);this.setNativeRange.apply(this,d(u).concat([P]))}else this.setNativeRange(null);this.update(g)}},{key:"update",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.default.sources.USER,P=this.lastRange,g=this.getRange(),u=n(g,2),R=u[1];if(this.lastRange=u[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,i.default)(P,this.lastRange)){var w;!this.composing&&null!=R&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var B,F=[_.default.events.SELECTION_CHANGE,(0,C.default)(this.lastRange),(0,C.default)(P),x];(w=this.emitter).emit.apply(w,[_.default.events.EDITOR_CHANGE].concat(F)),x!==_.default.sources.SILENT&&(B=this.emitter).emit.apply(B,F)}}}]),S}();function o(S,I){return I instanceof Text&&(I=I.parentNode),S.contains(I)}t.Range=s,t.default=r},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function _(l,m){for(var h=0;h<m.length;h++){var d=m[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,m,h){return m&&_(l.prototype,m),h&&_(l,h),l}}(),y=function _(l,m,h){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,m);if(void 0===d){var c=Object.getPrototypeOf(l);return null===c?void 0:_(c,m,h)}if("value"in d)return d.value;var a=d.get;return void 0===a?void 0:a.call(h)};function C(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}function E(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?_:l}var f=function(_){function l(){return C(this,l),E(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}(l,_),n(l,[{key:"insertInto",value:function(h,d){0===h.children.length?y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"insertInto",this).call(this,h,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),l}(function O(_){return _&&_.__esModule?_:{default:_}}(e(0)).default.Embed);f.blotName="break",f.tagName="BR",t.default=f},function(K,t,e){"use strict";var E,n=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var _ in f)f.hasOwnProperty(_)&&(i[_]=f[_])},function(i,f){function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(44),T=e(30),v=e(1),O=function(E){function i(f){var _=E.call(this,f)||this;return _.build(),_}return n(i,E),i.prototype.appendChild=function(f){this.insertBefore(f)},i.prototype.attach=function(){E.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},i.prototype.build=function(){var f=this;this.children=new y.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var l=C(_);f.insertBefore(l,f.children.head||void 0)}catch(m){if(m instanceof v.ParchmentError)return;throw m}})},i.prototype.deleteAt=function(f,_){if(0===f&&_===this.length())return this.remove();this.children.forEachAt(f,_,function(l,m,h){l.deleteAt(m,h)})},i.prototype.descendant=function(f,_){var l=this.children.find(_),m=l[0],h=l[1];return null==f.blotName&&f(m)||null!=f.blotName&&m instanceof f?[m,h]:m instanceof i?m.descendant(f,h):[null,-1]},i.prototype.descendants=function(f,_,l){void 0===_&&(_=0),void 0===l&&(l=Number.MAX_VALUE);var m=[],h=l;return this.children.forEachAt(_,l,function(d,c,a){(null==f.blotName&&f(d)||null!=f.blotName&&d instanceof f)&&m.push(d),d instanceof i&&(m=m.concat(d.descendants(f,c,h))),h-=a}),m},i.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),E.prototype.detach.call(this)},i.prototype.formatAt=function(f,_,l,m){this.children.forEachAt(f,_,function(h,d,c){h.formatAt(d,c,l,m)})},i.prototype.insertAt=function(f,_,l){var m=this.children.find(f),h=m[0];if(h)h.insertAt(m[1],_,l);else{var c=null==l?v.create("text",_):v.create(_,l);this.appendChild(c)}},i.prototype.insertBefore=function(f,_){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(l){return f instanceof l}))throw new v.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,_)},i.prototype.length=function(){return this.children.reduce(function(f,_){return f+_.length()},0)},i.prototype.moveChildren=function(f,_){this.children.forEach(function(l){f.insertBefore(l,_)})},i.prototype.optimize=function(f){if(E.prototype.optimize.call(this,f),0===this.children.length)if(null!=this.statics.defaultChild){var _=v.create(this.statics.defaultChild);this.appendChild(_),_.optimize(f)}else this.remove()},i.prototype.path=function(f,_){void 0===_&&(_=!1);var l=this.children.find(f,_),m=l[0],h=l[1],d=[[this,f]];return m instanceof i?d.concat(m.path(h,_)):(null!=m&&d.push([m,h]),d)},i.prototype.removeChild=function(f){this.children.remove(f)},i.prototype.replace=function(f){f instanceof i&&f.moveChildren(this),E.prototype.replace.call(this,f)},i.prototype.split=function(f,_){if(void 0===_&&(_=!1),!_){if(0===f)return this;if(f===this.length())return this.next}var l=this.clone();return this.parent.insertBefore(l,this.next),this.children.forEachAt(f,this.length(),function(m,h,d){m=m.split(h,_),l.appendChild(m)}),l},i.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},i.prototype.update=function(f,_){var l=this,m=[],h=[];f.forEach(function(d){d.target===l.domNode&&"childList"===d.type&&(m.push.apply(m,d.addedNodes),h.push.apply(h,d.removedNodes))}),h.forEach(function(d){if(!(null!=d.parentNode&&"IFRAME"!==d.tagName&&document.body.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var c=v.find(d);null!=c&&(null==c.domNode.parentNode||c.domNode.parentNode===l.domNode)&&c.detach()}}),m.filter(function(d){return d.parentNode==l.domNode}).sort(function(d,c){return d===c?0:d.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(d){var c=null;null!=d.nextSibling&&(c=v.find(d.nextSibling));var a=C(d);(a.next!=c||null==a.next)&&(null!=a.parent&&a.parent.removeChild(l),l.insertBefore(a,c||void 0))})},i}(T.default);function C(E){var i=v.find(E);if(null==i)try{i=v.create(E)}catch{i=v.create(v.Scope.INLINE),[].slice.call(E.childNodes).forEach(function(_){i.domNode.appendChild(_)}),E.parentNode&&E.parentNode.replaceChild(i.domNode,E),i.attach()}return i}t.default=O},function(K,t,e){"use strict";var E,n=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var _ in f)f.hasOwnProperty(_)&&(i[_]=f[_])},function(i,f){function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(12),T=e(31),v=e(17),O=e(1),C=function(E){function i(f){var _=E.call(this,f)||this;return _.attributes=new T.default(_.domNode),_}return n(i,E),i.formats=function(f){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?f.tagName.toLowerCase():void 0)},i.prototype.format=function(f,_){var l=O.query(f);l instanceof y.default?this.attributes.attribute(l,_):_&&null!=l&&(f!==this.statics.blotName||this.formats()[f]!==_)&&this.replaceWith(f,_)},i.prototype.formats=function(){var f=this.attributes.values(),_=this.statics.formats(this.domNode);return null!=_&&(f[this.statics.blotName]=_),f},i.prototype.replaceWith=function(f,_){var l=E.prototype.replaceWith.call(this,f,_);return this.attributes.copy(l),l},i.prototype.update=function(f,_){var l=this;E.prototype.update.call(this,f,_),f.some(function(m){return m.target===l.domNode&&"attributes"===m.type})&&this.attributes.build()},i.prototype.wrap=function(f,_){var l=E.prototype.wrap.call(this,f,_);return l instanceof i&&l.statics.scope===this.statics.scope&&this.attributes.move(l),l},i}(v.default);t.default=C},function(K,t,e){"use strict";var O,n=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var i in E)E.hasOwnProperty(i)&&(C[i]=E[i])},function(C,E){function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(30),T=e(1),v=function(O){function C(){return null!==O&&O.apply(this,arguments)||this}return n(C,O),C.value=function(E){return!0},C.prototype.index=function(E,i){return this.domNode===E||this.domNode.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(i,1):-1},C.prototype.position=function(E,i){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return E>0&&(f+=1),[this.parent.domNode,f]},C.prototype.value=function(){var E;return(E={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,E},C.scope=T.Scope.INLINE_BLOT,C}(y.default);t.default=v},function(K,t,e){var n=e(11),y=e(3),T={attributes:{compose:function(O,C,E){"object"!=typeof O&&(O={}),"object"!=typeof C&&(C={});var i=y(!0,{},C);for(var f in E||(i=Object.keys(i).reduce(function(_,l){return null!=i[l]&&(_[l]=i[l]),_},{})),O)void 0!==O[f]&&void 0===C[f]&&(i[f]=O[f]);return Object.keys(i).length>0?i:void 0},diff:function(O,C){"object"!=typeof O&&(O={}),"object"!=typeof C&&(C={});var E=Object.keys(O).concat(Object.keys(C)).reduce(function(i,f){return n(O[f],C[f])||(i[f]=void 0===C[f]?null:C[f]),i},{});return Object.keys(E).length>0?E:void 0},transform:function(O,C,E){if("object"!=typeof O)return C;if("object"==typeof C){if(!E)return C;var i=Object.keys(C).reduce(function(f,_){return void 0===O[_]&&(f[_]=C[_]),f},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(O){return new v(O)},length:function(O){return"number"==typeof O.delete?O.delete:"number"==typeof O.retain?O.retain:"string"==typeof O.insert?O.insert.length:1}};function v(O){this.ops=O,this.index=0,this.offset=0}v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(O){O||(O=1/0);var C=this.ops[this.index];if(C){var E=this.offset,i=T.length(C);if(O>=i-E?(O=i-E,this.index+=1,this.offset=0):this.offset+=O,"number"==typeof C.delete)return{delete:O};var f={};return C.attributes&&(f.attributes=C.attributes),"number"==typeof C.retain?f.retain=O:f.insert="string"==typeof C.insert?C.insert.substr(E,O):C.insert,f}return{retain:1/0}},v.prototype.peek=function(){return this.ops[this.index]},v.prototype.peekLength=function(){return this.ops[this.index]?T.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},v.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var O=this.offset,C=this.index,E=this.next(),i=this.ops.slice(this.index);return this.offset=O,this.index=C,[E].concat(i)}return[]},K.exports=T},function(K,t){var e=function(){"use strict";function n(l,m){return null!=m&&l instanceof m}var y,T,v;try{y=Map}catch{y=function(){}}try{T=Set}catch{T=function(){}}try{v=Promise}catch{v=function(){}}function O(l,m,h,d,c){"object"==typeof m&&(h=m.depth,d=m.prototype,c=m.includeNonEnumerable,m=m.circular);var a=[],s=[],r=typeof Buffer<"u";return typeof m>"u"&&(m=!0),typeof h>"u"&&(h=1/0),function o(S,I){if(null===S)return null;if(0===I)return S;var x,P;if("object"!=typeof S)return S;if(n(S,y))x=new y;else if(n(S,T))x=new T;else if(n(S,v))x=new v(function($,j){S.then(function(V){$(o(V,I-1))},function(V){j(o(V,I-1))})});else if(O.__isArray(S))x=[];else if(O.__isRegExp(S))x=new RegExp(S.source,_(S)),S.lastIndex&&(x.lastIndex=S.lastIndex);else if(O.__isDate(S))x=new Date(S.getTime());else{if(r&&Buffer.isBuffer(S))return x=Buffer.allocUnsafe?Buffer.allocUnsafe(S.length):new Buffer(S.length),S.copy(x),x;n(S,Error)?x=Object.create(S):typeof d>"u"?(P=Object.getPrototypeOf(S),x=Object.create(P)):(x=Object.create(d),P=d)}if(m){var g=a.indexOf(S);if(-1!=g)return s[g];a.push(S),s.push(x)}for(var u in n(S,y)&&S.forEach(function($,j){var V=o(j,I-1),Q=o($,I-1);x.set(V,Q)}),n(S,T)&&S.forEach(function($){var j=o($,I-1);x.add(j)}),S){var M;P&&(M=Object.getOwnPropertyDescriptor(P,u)),(!M||null!=M.set)&&(x[u]=o(S[u],I-1))}if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);for(u=0;u<R.length;u++){var w=R[u];(F=Object.getOwnPropertyDescriptor(S,w))&&!F.enumerable&&!c||(x[w]=o(S[w],I-1),F.enumerable||Object.defineProperty(x,w,{enumerable:!1}))}}if(c){var B=Object.getOwnPropertyNames(S);for(u=0;u<B.length;u++){var F,H=B[u];(F=Object.getOwnPropertyDescriptor(S,H))&&F.enumerable||(x[H]=o(S[H],I-1),Object.defineProperty(x,H,{enumerable:!1}))}}return x}(l,h)}function C(l){return Object.prototype.toString.call(l)}function _(l){var m="";return l.global&&(m+="g"),l.ignoreCase&&(m+="i"),l.multiline&&(m+="m"),m}return O.clonePrototype=function(m){if(null===m)return null;var h=function(){};return h.prototype=m,new h},O.__objToStr=C,O.__isDate=function E(l){return"object"==typeof l&&"[object Date]"===C(l)},O.__isArray=function i(l){return"object"==typeof l&&"[object Array]"===C(l)},O.__isRegExp=function f(l){return"object"==typeof l&&"[object RegExp]"===C(l)},O.__getRegExpFlags=_,O}();"object"==typeof K&&K.exports&&(K.exports=e)},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(P,g){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function x(P,g){var u=[],M=!0,R=!1,w=void 0;try{for(var B,F=P[Symbol.iterator]();!(M=(B=F.next()).done)&&(u.push(B.value),!g||u.length!==g);M=!0);}catch(H){R=!0,w=H}finally{try{!M&&F.return&&F.return()}finally{if(R)throw w}}return u}(P,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=function(){function x(P,g){for(var u=0;u<g.length;u++){var M=g[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,g,u){return g&&x(P.prototype,g),u&&x(P,u),P}}(),T=function x(P,g,u){null===P&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,g);if(void 0===M){var R=Object.getPrototypeOf(P);return null===R?void 0:x(R,g,u)}if("value"in M)return M.value;var w=M.get;return void 0===w?void 0:w.call(u)},O=a(e(0)),E=a(e(8)),i=e(4),f=a(i),l=a(e(16)),h=a(e(13)),c=a(e(25));function a(x){return x&&x.__esModule?x:{default:x}}function S(x){return x instanceof f.default||x instanceof i.BlockEmbed}var I=function(x){function P(g,u){!function s(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var M=function r(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,g));return M.emitter=u.emitter,Array.isArray(u.whitelist)&&(M.whitelist=u.whitelist.reduce(function(R,w){return R[w]=!0,R},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return function o(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(P,x),y(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(u,M){var R=this.line(u),w=n(R,2),F=w[0],B=w[1],H=this.line(u+M),j=n(H,1)[0];if(T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,u,M),null!=j&&F!==j&&B>0){if(F instanceof i.BlockEmbed||j instanceof i.BlockEmbed)return void this.optimize();if(F instanceof h.default){var V=F.newlineIndex(F.length(),!0);if(V>-1&&(F=F.split(V+1))===j)return void this.optimize()}else if(j instanceof h.default){var Q=j.newlineIndex(0);Q>-1&&j.split(Q+1)}F.moveChildren(j,j.children.head instanceof l.default?null:j.children.head),F.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(u,M,R,w){null!=this.whitelist&&!this.whitelist[R]||(T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,u,M,R,w),this.optimize())}},{key:"insertAt",value:function(u,M,R){if(null==R||null==this.whitelist||this.whitelist[M]){if(u>=this.length())if(null==R||null==O.default.query(M,O.default.Scope.BLOCK)){var w=O.default.create(this.statics.defaultChild);this.appendChild(w),null==R&&M.endsWith("\n")&&(M=M.slice(0,-1)),w.insertAt(0,M,R)}else{var F=O.default.create(M,R);this.appendChild(F)}else T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,u,M,R);this.optimize()}}},{key:"insertBefore",value:function(u,M){if(u.statics.scope===O.default.Scope.INLINE_BLOT){var R=O.default.create(this.statics.defaultChild);R.appendChild(u),u=R}T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,u,M)}},{key:"leaf",value:function(u){return this.path(u).pop()||[null,-1]}},{key:"line",value:function(u){return u===this.length()?this.line(u-1):this.descendant(S,u)}},{key:"lines",value:function(){return function w(F,B,H){var $=[],j=H;return F.children.forEachAt(B,H,function(V,Q,ie){S(V)?$.push(V):V instanceof O.default.Container&&($=$.concat(w(V,Q,j))),j-=ie}),$}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,u,M),u.length>0&&this.emitter.emit(E.default.events.SCROLL_OPTIMIZE,u,M))}},{key:"path",value:function(u){return T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,u).slice(1)}},{key:"update",value:function(u){if(!0!==this.batch){var M=E.default.sources.USER;"string"==typeof u&&(M=u),Array.isArray(u)||(u=this.observer.takeRecords()),u.length>0&&this.emitter.emit(E.default.events.SCROLL_BEFORE_UPDATE,M,u),T(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,u.concat([])),u.length>0&&this.emitter.emit(E.default.events.SCROLL_UPDATE,M,u)}}}]),P}(O.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[f.default,i.BlockEmbed,c.default],t.default=I},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},y=function(_e,Ie){if(Array.isArray(_e))return _e;if(Symbol.iterator in Object(_e))return function G(_e,Ie){var Me=[],Fe=!0,Ve=!1,Pe=void 0;try{for(var be,xe=_e[Symbol.iterator]();!(Fe=(be=xe.next()).done)&&(Me.push(be.value),!Ie||Me.length!==Ie);Fe=!0);}catch(Ue){Ve=!0,Pe=Ue}finally{try{!Fe&&xe.return&&xe.return()}finally{if(Ve)throw Pe}}return Me}(_e,Ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=function(){function G(_e,Ie){for(var Me=0;Me<Ie.length;Me++){var Fe=Ie[Me];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(_e,Fe.key,Fe)}}return function(_e,Ie,Me){return Ie&&G(_e.prototype,Ie),Me&&G(_e,Me),_e}}(),O=x(e(21)),E=x(e(11)),f=x(e(3)),l=x(e(2)),h=x(e(20)),c=x(e(0)),s=x(e(5)),o=x(e(10)),I=x(e(9));function x(G){return G&&G.__esModule?G:{default:G}}function P(G,_e,Ie){return _e in G?Object.defineProperty(G,_e,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):G[_e]=Ie,G}var R=(0,o.default)("quill:keyboard"),w=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(G){function _e(Ie,Me){!function g(G,_e){if(!(G instanceof _e))throw new TypeError("Cannot call a class as a function")}(this,_e);var Fe=function u(G,_e){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_e||"object"!=typeof _e&&"function"!=typeof _e?G:_e}(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this,Ie,Me));return Fe.bindings={},Object.keys(Fe.options.bindings).forEach(function(Ve){"list autofill"===Ve&&null!=Ie.scroll.whitelist&&!Ie.scroll.whitelist.list||Fe.options.bindings[Ve]&&Fe.addBinding(Fe.options.bindings[Ve])}),Fe.addBinding({key:_e.keys.ENTER,shiftKey:null},V),Fe.addBinding({key:_e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Fe.addBinding({key:_e.keys.BACKSPACE},{collapsed:!0},H),Fe.addBinding({key:_e.keys.DELETE},{collapsed:!0},$)):(Fe.addBinding({key:_e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),Fe.addBinding({key:_e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),Fe.addBinding({key:_e.keys.BACKSPACE},{collapsed:!1},j),Fe.addBinding({key:_e.keys.DELETE},{collapsed:!1},j),Fe.addBinding({key:_e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),Fe.listen(),Fe}return function M(G,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);G.prototype=Object.create(_e&&_e.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(G,_e):G.__proto__=_e)}(_e,G),T(_e,null,[{key:"match",value:function(Me,Fe){return Fe=ye(Fe),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ve){return!!Fe[Ve]!==Me[Ve]&&null!==Fe[Ve]})&&Fe.key===(Me.which||Me.keyCode)}}]),T(_e,[{key:"addBinding",value:function(Me){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Pe=ye(Me);if(null==Pe||null==Pe.key)return R.warn("Attempted to add invalid keyboard binding",Pe);"function"==typeof Fe&&(Fe={handler:Fe}),"function"==typeof Ve&&(Ve={handler:Ve}),Pe=(0,f.default)(Pe,Fe,Ve),this.bindings[Pe.key]=this.bindings[Pe.key]||[],this.bindings[Pe.key].push(Pe)}},{key:"listen",value:function(){var Me=this;this.quill.root.addEventListener("keydown",function(Fe){if(!Fe.defaultPrevented){var Pe=(Me.bindings[Fe.which||Fe.keyCode]||[]).filter(function(ue){return _e.match(Fe,ue)});if(0!==Pe.length){var xe=Me.quill.getSelection();if(null!=xe&&Me.quill.hasFocus()){var be=Me.quill.getLine(xe.index),Ue=y(be,2),He=Ue[0],it=Ue[1],je=Me.quill.getLeaf(xe.index),Be=y(je,2),lt=Be[0],Ye=Be[1],et=0===xe.length?[lt,Ye]:Me.quill.getLeaf(xe.index+xe.length),ot=y(et,2),ge=ot[0],we=ot[1],me=lt instanceof c.default.Text?lt.value().slice(0,Ye):"",fe=ge instanceof c.default.Text?ge.value().slice(we):"",Z={collapsed:0===xe.length,empty:0===xe.length&&He.length()<=1,format:Me.quill.getFormat(xe),offset:it,prefix:me,suffix:fe};Pe.some(function(ue){if(null!=ue.collapsed&&ue.collapsed!==Z.collapsed||null!=ue.empty&&ue.empty!==Z.empty||null!=ue.offset&&ue.offset!==Z.offset)return!1;if(Array.isArray(ue.format)){if(ue.format.every(function(Ce){return null==Z.format[Ce]}))return!1}else if("object"===n(ue.format)&&!Object.keys(ue.format).every(function(Ce){return!0===ue.format[Ce]?null!=Z.format[Ce]:!1===ue.format[Ce]?null==Z.format[Ce]:(0,E.default)(ue.format[Ce],Z.format[Ce])}))return!1;return!(null!=ue.prefix&&!ue.prefix.test(Z.prefix)||null!=ue.suffix&&!ue.suffix.test(Z.suffix))&&!0!==ue.handler.call(Me,xe,Z)})&&Fe.preventDefault()}}}})}}]),_e}(I.default);function B(G,_e){var Ie;return P(Ie={key:G,shiftKey:_e,altKey:null},G===F.keys.LEFT?"prefix":"suffix",/^$/),P(Ie,"handler",function(Ve){var Pe=Ve.index;G===F.keys.RIGHT&&(Pe+=Ve.length+1);var xe=this.quill.getLeaf(Pe);return!(y(xe,1)[0]instanceof c.default.Embed&&(G===F.keys.LEFT?_e?this.quill.setSelection(Ve.index-1,Ve.length+1,s.default.sources.USER):this.quill.setSelection(Ve.index-1,s.default.sources.USER):_e?this.quill.setSelection(Ve.index,Ve.length+1,s.default.sources.USER):this.quill.setSelection(Ve.index+Ve.length+1,s.default.sources.USER),1))}),Ie}function H(G,_e){if(!(0===G.index||this.quill.getLength()<=1)){var Ie=this.quill.getLine(G.index),Fe=y(Ie,1)[0],Ve={};if(0===_e.offset){var Pe=this.quill.getLine(G.index-1),be=y(Pe,1)[0];if(null!=be&&be.length()>1){var Ue=Fe.formats(),He=this.quill.getFormat(G.index-1,1);Ve=h.default.attributes.diff(Ue,He)||{}}}var it=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(_e.prefix)?2:1;this.quill.deleteText(G.index-it,it,s.default.sources.USER),Object.keys(Ve).length>0&&this.quill.formatLine(G.index-it,it,Ve,s.default.sources.USER),this.quill.focus()}}function $(G,_e){var Ie=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(_e.suffix)?2:1;if(!(G.index>=this.quill.getLength()-Ie)){var Me={},Fe=0,Ve=this.quill.getLine(G.index),xe=y(Ve,1)[0];if(_e.offset>=xe.length()-1){var be=this.quill.getLine(G.index+1),He=y(be,1)[0];if(He){var it=xe.formats(),je=this.quill.getFormat(G.index,1);Me=h.default.attributes.diff(it,je)||{},Fe=He.length()}}this.quill.deleteText(G.index,Ie,s.default.sources.USER),Object.keys(Me).length>0&&this.quill.formatLine(G.index+Fe-1,Ie,Me,s.default.sources.USER)}}function j(G){var _e=this.quill.getLines(G),Ie={};if(_e.length>1){var Me=_e[0].formats(),Fe=_e[_e.length-1].formats();Ie=h.default.attributes.diff(Fe,Me)||{}}this.quill.deleteText(G,s.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(G.index,1,Ie,s.default.sources.USER),this.quill.setSelection(G.index,s.default.sources.SILENT),this.quill.focus()}function V(G,_e){var Ie=this;G.length>0&&this.quill.scroll.deleteAt(G.index,G.length);var Me=Object.keys(_e.format).reduce(function(Fe,Ve){return c.default.query(Ve,c.default.Scope.BLOCK)&&!Array.isArray(_e.format[Ve])&&(Fe[Ve]=_e.format[Ve]),Fe},{});this.quill.insertText(G.index,"\n",Me,s.default.sources.USER),this.quill.setSelection(G.index+1,s.default.sources.SILENT),this.quill.focus(),Object.keys(_e.format).forEach(function(Fe){null==Me[Fe]&&(Array.isArray(_e.format[Fe])||"link"!==Fe&&Ie.quill.format(Fe,_e.format[Fe],s.default.sources.USER))})}function Q(G){return{key:F.keys.TAB,shiftKey:!G,format:{"code-block":!0},handler:function(Ie){var Me=c.default.query("code-block"),Fe=Ie.index,Ve=Ie.length,Pe=this.quill.scroll.descendant(Me,Fe),xe=y(Pe,2),be=xe[0],Ue=xe[1];if(null!=be){var He=this.quill.getIndex(be),it=be.newlineIndex(Ue,!0)+1,je=be.newlineIndex(He+Ue+Ve),Be=be.domNode.textContent.slice(it,je).split("\n");Ue=0,Be.forEach(function(lt,Ye){G?(be.insertAt(it+Ue,Me.TAB),Ue+=Me.TAB.length,0===Ye?Fe+=Me.TAB.length:Ve+=Me.TAB.length):lt.startsWith(Me.TAB)&&(be.deleteAt(it+Ue,Me.TAB.length),Ue-=Me.TAB.length,0===Ye?Fe-=Me.TAB.length:Ve-=Me.TAB.length),Ue+=lt.length+1}),this.quill.update(s.default.sources.USER),this.quill.setSelection(Fe,Ve,s.default.sources.SILENT)}}}}function ie(G){return{key:G[0].toUpperCase(),shortKey:!0,handler:function(Ie,Me){this.quill.format(G,!Me.format[G],s.default.sources.USER)}}}function ye(G){if("string"==typeof G||"number"==typeof G)return ye({key:G});if("object"===(typeof G>"u"?"undefined":n(G))&&(G=(0,O.default)(G,!1)),"string"==typeof G.key)if(null!=F.keys[G.key.toUpperCase()])G.key=F.keys[G.key.toUpperCase()];else{if(1!==G.key.length)return null;G.key=G.key.toUpperCase().charCodeAt(0)}return G.shortKey&&(G[w]=G.shortKey,delete G.shortKey),G}F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:ie("bold"),italic:ie("italic"),underline:ie("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(_e,Ie){if(Ie.collapsed&&0!==Ie.offset)return!0;this.quill.format("indent","+1",s.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(_e,Ie){if(Ie.collapsed&&0!==Ie.offset)return!0;this.quill.format("indent","-1",s.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(_e,Ie){null!=Ie.format.indent?this.quill.format("indent","-1",s.default.sources.USER):null!=Ie.format.list&&this.quill.format("list",!1,s.default.sources.USER)}},"indent code-block":Q(!0),"outdent code-block":Q(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(_e){this.quill.deleteText(_e.index-1,1,s.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(_e){this.quill.history.cutoff();var Ie=(new l.default).retain(_e.index).delete(_e.length).insert("\t");this.quill.updateContents(Ie,s.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(_e.index+1,s.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(_e,Ie){this.quill.format("list",!1,s.default.sources.USER),Ie.format.indent&&this.quill.format("indent",!1,s.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(_e){var Ie=this.quill.getLine(_e.index),Me=y(Ie,2),Fe=Me[0],Ve=Me[1],Pe=(0,f.default)({},Fe.formats(),{list:"checked"}),xe=(new l.default).retain(_e.index).insert("\n",Pe).retain(Fe.length()-Ve-1).retain(1,{list:"unchecked"});this.quill.updateContents(xe,s.default.sources.USER),this.quill.setSelection(_e.index+1,s.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(_e,Ie){var Me=this.quill.getLine(_e.index),Fe=y(Me,2),Ve=Fe[0],Pe=Fe[1],xe=(new l.default).retain(_e.index).insert("\n",Ie.format).retain(Ve.length()-Pe-1).retain(1,{header:null});this.quill.updateContents(xe,s.default.sources.USER),this.quill.setSelection(_e.index+1,s.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(_e,Ie){var Me=Ie.prefix.length,Fe=this.quill.getLine(_e.index),Ve=y(Fe,2),Pe=Ve[0],xe=Ve[1];if(xe>Me)return!0;var be=void 0;switch(Ie.prefix.trim()){case"[]":case"[ ]":be="unchecked";break;case"[x]":be="checked";break;case"-":case"*":be="bullet";break;default:be="ordered"}this.quill.insertText(_e.index," ",s.default.sources.USER),this.quill.history.cutoff();var Ue=(new l.default).retain(_e.index-xe).delete(Me+1).retain(Pe.length()-2-xe).retain(1,{list:be});this.quill.updateContents(Ue,s.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(_e.index-Me,s.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(_e){var Ie=this.quill.getLine(_e.index),Me=y(Ie,2),Fe=Me[0],Ve=Me[1],Pe=(new l.default).retain(_e.index+Fe.length()-Ve-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Pe,s.default.sources.USER)}},"embed left":B(F.keys.LEFT,!1),"embed left shift":B(F.keys.LEFT,!0),"embed right":B(F.keys.RIGHT,!1),"embed right shift":B(F.keys.RIGHT,!0)}},t.default=F,t.SHORTKEY=w},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(d,c){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return function h(d,c){var a=[],s=!0,r=!1,o=void 0;try{for(var I,S=d[Symbol.iterator]();!(s=(I=S.next()).done)&&(a.push(I.value),!c||a.length!==c);s=!0);}catch(x){r=!0,o=x}finally{try{!s&&S.return&&S.return()}finally{if(r)throw o}}return a}(d,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=function h(d,c,a){null===d&&(d=Function.prototype);var s=Object.getOwnPropertyDescriptor(d,c);if(void 0===s){var r=Object.getPrototypeOf(d);return null===r?void 0:h(r,c,a)}if("value"in s)return s.value;var o=s.get;return void 0===o?void 0:o.call(a)},T=function(){function h(d,c){for(var a=0;a<c.length;a++){var s=c[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}return function(d,c,a){return c&&h(d.prototype,c),a&&h(d,a),d}}(),O=i(e(0)),E=i(e(7));function i(h){return h&&h.__esModule?h:{default:h}}var m=function(h){function d(c,a){!function f(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}(this,d);var s=function _(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?h:d}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,c));return s.selection=a,s.textNode=document.createTextNode(d.CONTENTS),s.domNode.appendChild(s.textNode),s._length=0,s}return function l(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}(d,h),T(d,null,[{key:"value",value:function(){}}]),T(d,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(a,s){if(0!==this._length)return y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,a,s);for(var r=this,o=0;null!=r&&r.statics.scope!==O.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=d.CONTENTS.length,r.optimize(),r.formatAt(o,d.CONTENTS.length,a,s),this._length=0)}},{key:"index",value:function(a,s){return a===this.textNode?0:y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"index",this).call(this,a,s)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var a=this.textNode,s=this.selection.getNativeRange(),r=void 0,o=void 0,S=void 0;if(null!=s&&s.start.node===a&&s.end.node===a){var I=[a,s.start.offset,s.end.offset];r=I[0],o=I[1],S=I[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==d.CONTENTS){var x=this.textNode.data.split(d.CONTENTS).join("");this.next instanceof E.default?(r=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=d.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(O.default.create(this.textNode),this),this.textNode=document.createTextNode(d.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var P=[o,S].map(function(u){return Math.max(0,Math.min(r.data.length,u-1))}),g=n(P,2);return{startNode:r,startOffset:o=g[0],endNode:r,endOffset:S=g[1]}}}}},{key:"update",value:function(a,s){var r=this;if(a.some(function(S){return"characterData"===S.type&&S.target===r.textNode})){var o=this.restore();o&&(s.range=o)}}},{key:"value",value:function(){return""}}]),d}(O.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\ufeff",t.default=m},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=O(e(0)),T=e(4),v=O(T);function O(_){return _&&_.__esModule?_:{default:_}}function C(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}function E(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?_:l}var f=function(_){function l(){return C(this,l),E(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}(l,_),l}(y.default.Container);f.allowedChildren=[v.default,T.BlockEmbed,f],t.default=f},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n=function(){function m(h,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}return function(h,d,c){return d&&m(h.prototype,d),c&&m(h,c),h}}(),y=function m(h,d,c){null===h&&(h=Function.prototype);var a=Object.getOwnPropertyDescriptor(h,d);if(void 0===a){var s=Object.getPrototypeOf(h);return null===s?void 0:m(s,d,c)}if("value"in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(c)},v=function O(m){return m&&m.__esModule?m:{default:m}}(e(0));function C(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function E(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?m:h}var f=function(m){function h(){return C(this,h),E(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function i(m,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}(h,m),n(h,[{key:"value",value:function(c){var a=y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,c);return a.startsWith("rgb(")?"#"+(a=a.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(s){return("00"+parseInt(s).toString(16)).slice(-2)}).join(""):a}}]),h}(v.default.Attributor.Style),_=new v.default.Attributor.Class("color","ql-color",{scope:v.default.Scope.INLINE}),l=new f("color","color",{scope:v.default.Scope.INLINE});t.ColorAttributor=f,t.ColorClass=_,t.ColorStyle=l},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n=function(){function l(m,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}return function(m,h,d){return h&&l(m.prototype,h),d&&l(m,d),m}}(),y=function l(m,h,d){null===m&&(m=Function.prototype);var c=Object.getOwnPropertyDescriptor(m,h);if(void 0===c){var a=Object.getPrototypeOf(m);return null===a?void 0:l(a,h,d)}if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(d)};function C(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}function E(l,m){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?l:m}var f=function(l){function m(){return C(this,m),E(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function i(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);l.prototype=Object.create(m&&m.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(l,m):l.__proto__=m)}(m,l),n(m,[{key:"format",value:function(d,c){if(d!==this.statics.blotName||!c)return y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,d,c);c=this.constructor.sanitize(c),this.domNode.setAttribute("href",c)}}],[{key:"create",value:function(d){var c=y(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,d);return d=this.sanitize(d),c.setAttribute("href",d),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return _(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),m}(function O(l){return l&&l.__esModule?l:{default:l}}(e(6)).default);function _(l,m){var h=document.createElement("a");h.href=l;var d=h.href.slice(0,h.href.indexOf(":"));return m.indexOf(d)>-1}f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=f,t.sanitize=_},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},y=function(){function m(h,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}return function(h,d,c){return d&&m(h.prototype,d),c&&m(h,c),h}}(),v=E(e(23)),C=E(e(107));function E(m){return m&&m.__esModule?m:{default:m}}var f=0;function _(m,h){m.setAttribute(h,"true"!==m.getAttribute(h))}var l=function(){function m(h){var d=this;(function i(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.select=h,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){d.togglePicker()}),this.label.addEventListener("keydown",function(c){switch(c.keyCode){case v.default.keys.ENTER:d.togglePicker();break;case v.default.keys.ESCAPE:d.escape(),c.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return y(m,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(d){var c=this,a=document.createElement("span");return a.tabIndex="0",a.setAttribute("role","button"),a.classList.add("ql-picker-item"),d.hasAttribute("value")&&a.setAttribute("data-value",d.getAttribute("value")),d.textContent&&a.setAttribute("data-label",d.textContent),a.addEventListener("click",function(){c.selectItem(a,!0)}),a.addEventListener("keydown",function(s){switch(s.keyCode){case v.default.keys.ENTER:c.selectItem(a,!0),s.preventDefault();break;case v.default.keys.ESCAPE:c.escape(),s.preventDefault()}}),a}},{key:"buildLabel",value:function(){var d=document.createElement("span");return d.classList.add("ql-picker-label"),d.innerHTML=C.default,d.tabIndex="0",d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),this.container.appendChild(d),d}},{key:"buildOptions",value:function(){var d=this,c=document.createElement("span");c.classList.add("ql-picker-options"),c.setAttribute("aria-hidden","true"),c.tabIndex="-1",c.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",c.id),this.options=c,[].slice.call(this.select.options).forEach(function(a){var s=d.buildItem(a);c.appendChild(s),!0===a.selected&&d.selectItem(s)}),this.container.appendChild(c)}},{key:"buildPicker",value:function(){var d=this;[].slice.call(this.select.attributes).forEach(function(c){d.container.setAttribute(c.name,c.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var d=this;this.close(),setTimeout(function(){return d.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(d){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.container.querySelector(".ql-selected");if(d!==a&&(a?.classList.remove("ql-selected"),null!=d&&(d.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(d.parentNode.children,d),d.hasAttribute("data-value")?this.label.setAttribute("data-value",d.getAttribute("data-value")):this.label.removeAttribute("data-value"),d.hasAttribute("data-label")?this.label.setAttribute("data-label",d.getAttribute("data-label")):this.label.removeAttribute("data-label"),c))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":n(Event))){var s=document.createEvent("Event");s.initEvent("change",!0,!0),this.select.dispatchEvent(s)}this.close()}}},{key:"update",value:function(){var d=void 0;if(this.select.selectedIndex>-1){var c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];d=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);var a=null!=d&&d!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",a)}}]),m}();t.default=l},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=R(e(0)),v=R(e(5)),O=e(4),C=R(O),i=R(e(16)),_=R(e(25)),m=R(e(24)),d=R(e(35)),a=R(e(6)),r=R(e(22)),S=R(e(7)),x=R(e(55)),g=R(e(42)),M=R(e(23));function R(w){return w&&w.__esModule?w:{default:w}}v.default.register({"blots/block":C.default,"blots/block/embed":O.BlockEmbed,"blots/break":i.default,"blots/container":_.default,"blots/cursor":m.default,"blots/embed":d.default,"blots/inline":a.default,"blots/scroll":r.default,"blots/text":S.default,"modules/clipboard":x.default,"modules/history":g.default,"modules/keyboard":M.default}),y.default.register(C.default,i.default,m.default,a.default,r.default,S.default),t.default=v.default},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(1),y=function(){function T(v){this.domNode=v,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(T.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),T.create=function(v){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var O;return Array.isArray(this.tagName)?("string"==typeof v&&(v=v.toUpperCase(),parseInt(v).toString()===v&&(v=parseInt(v))),O="number"==typeof v?document.createElement(this.tagName[v-1]):this.tagName.indexOf(v)>-1?document.createElement(v):document.createElement(this.tagName[0])):O=document.createElement(this.tagName),this.className&&O.classList.add(this.className),O},T.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},T.prototype.clone=function(){var v=this.domNode.cloneNode(!1);return n.create(v)},T.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},T.prototype.deleteAt=function(v,O){this.isolate(v,O).remove()},T.prototype.formatAt=function(v,O,C,E){var i=this.isolate(v,O);if(null!=n.query(C,n.Scope.BLOT)&&E)i.wrap(C,E);else if(null!=n.query(C,n.Scope.ATTRIBUTE)){var f=n.create(this.statics.scope);i.wrap(f),f.format(C,E)}},T.prototype.insertAt=function(v,O,C){var E=null==C?n.create("text",O):n.create(O,C),i=this.split(v);this.parent.insertBefore(E,i)},T.prototype.insertInto=function(v,O){void 0===O&&(O=null),null!=this.parent&&this.parent.children.remove(this);var C=null;v.children.insertBefore(this,O),null!=O&&(C=O.domNode),(this.domNode.parentNode!=v.domNode||this.domNode.nextSibling!=C)&&v.domNode.insertBefore(this.domNode,C),this.parent=v,this.attach()},T.prototype.isolate=function(v,O){var C=this.split(v);return C.split(O),C},T.prototype.length=function(){return 1},T.prototype.offset=function(v){return void 0===v&&(v=this.parent),null==this.parent||this==v?0:this.parent.children.offset(this)+this.parent.offset(v)},T.prototype.optimize=function(v){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},T.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},T.prototype.replace=function(v){null!=v.parent&&(v.parent.insertBefore(this,v.next),v.remove())},T.prototype.replaceWith=function(v,O){var C="string"==typeof v?n.create(v,O):v;return C.replace(this),C},T.prototype.split=function(v,O){return 0===v?this:this.next},T.prototype.update=function(v,O){},T.prototype.wrap=function(v,O){var C="string"==typeof v?n.create(v,O):v;return null!=this.parent&&this.parent.insertBefore(C,this.next),C.appendChild(this),C},T.blotName="abstract",T}();t.default=y},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(12),y=e(32),T=e(33),v=e(1),O=function(){function C(E){this.attributes={},this.domNode=E,this.build()}return C.prototype.attribute=function(E,i){i?E.add(this.domNode,i)&&(null!=E.value(this.domNode)?this.attributes[E.attrName]=E:delete this.attributes[E.attrName]):(E.remove(this.domNode),delete this.attributes[E.attrName])},C.prototype.build=function(){var E=this;this.attributes={};var i=n.default.keys(this.domNode),f=y.default.keys(this.domNode),_=T.default.keys(this.domNode);i.concat(f).concat(_).forEach(function(l){var m=v.query(l,v.Scope.ATTRIBUTE);m instanceof n.default&&(E.attributes[m.attrName]=m)})},C.prototype.copy=function(E){var i=this;Object.keys(this.attributes).forEach(function(f){var _=i.attributes[f].value(i.domNode);E.format(f,_)})},C.prototype.move=function(E){var i=this;this.copy(E),Object.keys(this.attributes).forEach(function(f){i.attributes[f].remove(i.domNode)}),this.attributes={}},C.prototype.values=function(){var E=this;return Object.keys(this.attributes).reduce(function(i,f){return i[f]=E.attributes[f].value(E.domNode),i},{})},C}();t.default=O},function(K,t,e){"use strict";var O,n=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var i in E)E.hasOwnProperty(i)&&(C[i]=E[i])},function(C,E){function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)});function T(O,C){return(O.getAttribute("class")||"").split(/\s+/).filter(function(i){return 0===i.indexOf(C+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var v=function(O){function C(){return null!==O&&O.apply(this,arguments)||this}return n(C,O),C.keys=function(E){return(E.getAttribute("class")||"").split(/\s+/).map(function(i){return i.split("-").slice(0,-1).join("-")})},C.prototype.add=function(E,i){return!!this.canAdd(E,i)&&(this.remove(E),E.classList.add(this.keyName+"-"+i),!0)},C.prototype.remove=function(E){T(E,this.keyName).forEach(function(f){E.classList.remove(f)}),0===E.classList.length&&E.removeAttribute("class")},C.prototype.value=function(E){var f=(T(E,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(E,f)?f:""},C}(e(12).default);t.default=v},function(K,t,e){"use strict";var O,n=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var i in E)E.hasOwnProperty(i)&&(C[i]=E[i])},function(C,E){function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)});function T(O){var C=O.split("-"),E=C.slice(1).map(function(i){return i[0].toUpperCase()+i.slice(1)}).join("");return C[0]+E}Object.defineProperty(t,"__esModule",{value:!0});var v=function(O){function C(){return null!==O&&O.apply(this,arguments)||this}return n(C,O),C.keys=function(E){return(E.getAttribute("style")||"").split(";").map(function(i){return i.split(":")[0].trim()})},C.prototype.add=function(E,i){return!!this.canAdd(E,i)&&(E.style[T(this.keyName)]=i,!0)},C.prototype.remove=function(E){E.style[T(this.keyName)]="",E.getAttribute("style")||E.removeAttribute("style")},C.prototype.value=function(E){var i=E.style[T(this.keyName)];return this.canAdd(E,i)?i:""},C}(e(12).default);t.default=v},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function v(O,C){for(var E=0;E<C.length;E++){var i=C[E];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(O,i.key,i)}}return function(O,C,E){return C&&v(O.prototype,C),E&&v(O,E),O}}();var T=function(){function v(O,C){(function y(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")})(this,v),this.quill=O,this.options=C,this.modules={}}return n(v,[{key:"init",value:function(){var C=this;Object.keys(this.options.modules).forEach(function(E){null==C.modules[E]&&C.addModule(E)})}},{key:"addModule",value:function(C){var E=this.quill.constructor.import("modules/"+C);return this.modules[C]=new E(this.quill,this.options.modules[C]||{}),this.modules[C]}}]),v}();T.DEFAULTS={modules:{}},T.themes={default:T},t.default=T},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function h(d,c){for(var a=0;a<c.length;a++){var s=c[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}return function(d,c,a){return c&&h(d.prototype,c),a&&h(d,a),d}}(),y=function h(d,c,a){null===d&&(d=Function.prototype);var s=Object.getOwnPropertyDescriptor(d,c);if(void 0===s){var r=Object.getPrototypeOf(d);return null===r?void 0:h(r,c,a)}if("value"in s)return s.value;var o=s.get;return void 0===o?void 0:o.call(a)},v=E(e(0)),C=E(e(7));function E(h){return h&&h.__esModule?h:{default:h}}var l="\ufeff",m=function(h){function d(c){!function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}(this,d);var a=function f(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?h:d}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,c));return a.contentNode=document.createElement("span"),a.contentNode.setAttribute("contenteditable",!1),[].slice.call(a.domNode.childNodes).forEach(function(s){a.contentNode.appendChild(s)}),a.leftGuard=document.createTextNode(l),a.rightGuard=document.createTextNode(l),a.domNode.appendChild(a.leftGuard),a.domNode.appendChild(a.contentNode),a.domNode.appendChild(a.rightGuard),a}return function _(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}(d,h),n(d,[{key:"index",value:function(a,s){return a===this.leftGuard?0:a===this.rightGuard?1:y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"index",this).call(this,a,s)}},{key:"restore",value:function(a){var s=void 0,r=void 0,o=a.data.split(l).join("");if(a===this.leftGuard)if(this.prev instanceof C.default){var S=this.prev.length();this.prev.insertAt(S,o),s={startNode:this.prev.domNode,startOffset:S+o.length}}else r=document.createTextNode(o),this.parent.insertBefore(v.default.create(r),this),s={startNode:r,startOffset:o.length};else a===this.rightGuard&&(this.next instanceof C.default?(this.next.insertAt(0,o),s={startNode:this.next.domNode,startOffset:o.length}):(r=document.createTextNode(o),this.parent.insertBefore(v.default.create(r),this.next),s={startNode:r,startOffset:o.length}));return a.data=l,s}},{key:"update",value:function(a,s){var r=this;a.forEach(function(o){if("characterData"===o.type&&(o.target===r.leftGuard||o.target===r.rightGuard)){var S=r.restore(o.target);S&&(s.range=S)}})}}]),d}(v.default.Embed);t.default=m},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var y=function T(i){return i&&i.__esModule?i:{default:i}}(e(0));var v={scope:y.default.Scope.BLOCK,whitelist:["right","center","justify"]},O=new y.default.Attributor.Attribute("align","align",v),C=new y.default.Attributor.Class("align","ql-align",v),E=new y.default.Attributor.Style("align","text-align",v);t.AlignAttribute=O,t.AlignClass=C,t.AlignStyle=E},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var y=function v(E){return E&&E.__esModule?E:{default:E}}(e(0)),T=e(26);var O=new y.default.Attributor.Class("background","ql-bg",{scope:y.default.Scope.INLINE}),C=new T.ColorAttributor("background","background-color",{scope:y.default.Scope.INLINE});t.BackgroundClass=O,t.BackgroundStyle=C},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var y=function T(i){return i&&i.__esModule?i:{default:i}}(e(0));var v={scope:y.default.Scope.BLOCK,whitelist:["rtl"]},O=new y.default.Attributor.Attribute("direction","dir",v),C=new y.default.Attributor.Class("direction","ql-direction",v),E=new y.default.Attributor.Style("direction","direction",v);t.DirectionAttribute=O,t.DirectionClass=C,t.DirectionStyle=E},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n=function(){function h(d,c){for(var a=0;a<c.length;a++){var s=c[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}return function(d,c,a){return c&&h(d.prototype,c),a&&h(d,a),d}}(),y=function h(d,c,a){null===d&&(d=Function.prototype);var s=Object.getOwnPropertyDescriptor(d,c);if(void 0===s){var r=Object.getPrototypeOf(d);return null===r?void 0:h(r,c,a)}if("value"in s)return s.value;var o=s.get;return void 0===o?void 0:o.call(a)},v=function O(h){return h&&h.__esModule?h:{default:h}}(e(0));function C(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function E(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?h:d}var f={scope:v.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new v.default.Attributor.Class("font","ql-font",f),l=function(h){function d(){return C(this,d),E(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function i(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}(d,h),n(d,[{key:"value",value:function(a){return y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,a).replace(/["']/g,"")}}]),d}(v.default.Attributor.Style),m=new l("font","font-family",f);t.FontStyle=m,t.FontClass=_},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var y=function T(C){return C&&C.__esModule?C:{default:C}}(e(0));var v=new y.default.Attributor.Class("size","ql-size",{scope:y.default.Scope.INLINE,whitelist:["small","large","huge"]}),O=new y.default.Attributor.Style("size","font-size",{scope:y.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=v,t.SizeStyle=O},function(K,t,e){"use strict";K.exports={align:{"":e(76),center:e(77),right:e(78),justify:e(79)},background:e(80),blockquote:e(81),bold:e(82),clean:e(83),code:e(58),"code-block":e(58),color:e(84),direction:{"":e(85),rtl:e(86)},float:{center:e(87),full:e(88),left:e(89),right:e(90)},formula:e(91),header:{1:e(92),2:e(93)},italic:e(94),image:e(95),indent:{"+1":e(96),"-1":e(97)},link:e(98),list:{ordered:e(99),bullet:e(100),check:e(101)},script:{sub:e(102),super:e(103)},strike:e(104),underline:e(105),video:e(106)}},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function c(a,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,s,r){return s&&c(a.prototype,s),r&&c(a,r),a}}(),T=i(e(0)),O=i(e(5));function i(c){return c&&c.__esModule?c:{default:c}}var m=function(c){function a(s,r){!function f(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function _(c,a){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?c:a}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s,r));return o.lastRecorded=0,o.ignoreChange=!1,o.clear(),o.quill.on(O.default.events.EDITOR_CHANGE,function(S,I,x,P){S!==O.default.events.TEXT_CHANGE||o.ignoreChange||(o.options.userOnly&&P!==O.default.sources.USER?o.transform(I):o.record(I,x))}),o.quill.keyboard.addBinding({key:"Z",shortKey:!0},o.undo.bind(o)),o.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},o.redo.bind(o)),/Win/i.test(navigator.platform)&&o.quill.keyboard.addBinding({key:"Y",shortKey:!0},o.redo.bind(o)),o}return function l(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}(a,c),n(a,[{key:"change",value:function(r,o){if(0!==this.stack[r].length){var S=this.stack[r].pop();this.stack[o].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[r],O.default.sources.USER),this.ignoreChange=!1;var I=d(S[r]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(r,o){if(0!==r.ops.length){this.stack.redo=[];var S=this.quill.getContents().diff(o),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var x=this.stack.undo.pop();S=S.compose(x.undo),r=x.redo.compose(r)}else this.lastRecorded=I;this.stack.undo.push({redo:r,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(r){this.stack.undo.forEach(function(o){o.undo=r.transform(o.undo,!0),o.redo=r.transform(o.redo,!0)}),this.stack.redo.forEach(function(o){o.undo=r.transform(o.undo,!0),o.redo=r.transform(o.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),a}(i(e(9)).default);function d(c){var a=c.reduce(function(r,o){return r+(o.delete||0)},0),s=c.length()-a;return function h(c){var a=c.ops[c.ops.length-1];return null!=a&&(null!=a.insert?"string"==typeof a.insert&&a.insert.endsWith("\n"):null!=a.attributes&&Object.keys(a.attributes).some(function(s){return null!=T.default.query(s,T.default.Scope.BLOCK)}))}(c)&&(s-=1),s}m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=m,t.getLastChangeIndex=d},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function V(Q,ie){for(var ye=0;ye<ie.length;ye++){var G=ie[ye];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(Q,G.key,G)}}return function(Q,ie,ye){return ie&&V(Q.prototype,ie),ye&&V(Q,ye),Q}}(),y=function V(Q,ie,ye){null===Q&&(Q=Function.prototype);var G=Object.getOwnPropertyDescriptor(Q,ie);if(void 0===G){var _e=Object.getPrototypeOf(Q);return null===_e?void 0:V(_e,ie,ye)}if("value"in G)return G.value;var Ie=G.get;return void 0===Ie?void 0:Ie.call(ye)},v=I(e(3)),C=I(e(2)),i=I(e(8)),_=I(e(23)),m=I(e(34)),d=I(e(59)),a=I(e(60)),r=I(e(28)),S=I(e(61));function I(V){return V&&V.__esModule?V:{default:V}}function x(V,Q){if(!(V instanceof Q))throw new TypeError("Cannot call a class as a function")}function P(V,Q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Q||"object"!=typeof Q&&"function"!=typeof Q?V:Q}function g(V,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);V.prototype=Object.create(Q&&Q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Q):V.__proto__=Q)}var u=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],R=[!1,"serif","monospace"],w=["1","2","3",!1],F=["small",!1,"large","huge"],B=function(V){function Q(ie,ye){x(this,Q);var G=P(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ie,ye));return ie.emitter.listenDOM("click",document.body,function Ie(Me){if(!document.body.contains(ie.root))return document.body.removeEventListener("click",Ie);null!=G.tooltip&&!G.tooltip.root.contains(Me.target)&&document.activeElement!==G.tooltip.textbox&&!G.quill.hasFocus()&&G.tooltip.hide(),null!=G.pickers&&G.pickers.forEach(function(Fe){Fe.container.contains(Me.target)||Fe.close()})}),G}return g(Q,V),n(Q,[{key:"addModule",value:function(ye){var G=y(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"addModule",this).call(this,ye);return"toolbar"===ye&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(ye,G){ye.forEach(function(_e){(_e.getAttribute("class")||"").split(/\s+/).forEach(function(Me){if(Me.startsWith("ql-")&&(Me=Me.slice(3),null!=G[Me]))if("direction"===Me)_e.innerHTML=G[Me][""]+G[Me].rtl;else if("string"==typeof G[Me])_e.innerHTML=G[Me];else{var Fe=_e.value||"";null!=Fe&&G[Me][Fe]&&(_e.innerHTML=G[Me][Fe])}})})}},{key:"buildPickers",value:function(ye,G){var _e=this;this.pickers=ye.map(function(Me){if(Me.classList.contains("ql-align"))return null==Me.querySelector("option")&&j(Me,u),new a.default(Me,G.align);if(Me.classList.contains("ql-background")||Me.classList.contains("ql-color")){var Fe=Me.classList.contains("ql-background")?"background":"color";return null==Me.querySelector("option")&&j(Me,M,"background"===Fe?"#ffffff":"#000000"),new d.default(Me,G[Fe])}return null==Me.querySelector("option")&&(Me.classList.contains("ql-font")?j(Me,R):Me.classList.contains("ql-header")?j(Me,w):Me.classList.contains("ql-size")&&j(Me,F)),new r.default(Me)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){_e.pickers.forEach(function(Fe){Fe.update()})})}}]),Q}(m.default);B.DEFAULTS=(0,v.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Q=this,ie=this.container.querySelector("input.ql-image[type=file]");null==ie&&((ie=document.createElement("input")).setAttribute("type","file"),ie.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ie.classList.add("ql-image"),ie.addEventListener("change",function(){if(null!=ie.files&&null!=ie.files[0]){var ye=new FileReader;ye.onload=function(G){var _e=Q.quill.getSelection(!0);Q.quill.updateContents((new C.default).retain(_e.index).delete(_e.length).insert({image:G.target.result}),i.default.sources.USER),Q.quill.setSelection(_e.index+1,i.default.sources.SILENT),ie.value=""},ye.readAsDataURL(ie.files[0])}}),this.container.appendChild(ie)),ie.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(V){function Q(ie,ye){x(this,Q);var G=P(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ie,ye));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return g(Q,V),n(Q,[{key:"listen",value:function(){var ye=this;this.textbox.addEventListener("keydown",function(G){_.default.match(G,"enter")?(ye.save(),G.preventDefault()):_.default.match(G,"escape")&&(ye.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=G?this.textbox.value=G:ye!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ye)||""),this.root.setAttribute("data-mode",ye)}},{key:"restoreFocus",value:function(){var ye=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ye}},{key:"save",value:function(){var ye=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var G=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ye,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ye,i.default.sources.USER)),this.quill.root.scrollTop=G;break;case"video":ye=function $(V){var Q=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Q?(Q[1]||"https")+"://www.youtube.com/embed/"+Q[2]+"?showinfo=0":(Q=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Q[1]||"https")+"://player.vimeo.com/video/"+Q[2]+"/":V}(ye);case"formula":if(!ye)break;var _e=this.quill.getSelection(!0);if(null!=_e){var Ie=_e.index+_e.length;this.quill.insertEmbed(Ie,this.root.getAttribute("data-mode"),ye,i.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Ie+1," ",i.default.sources.USER),this.quill.setSelection(Ie+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),Q}(S.default);function j(V,Q){var ie=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Q.forEach(function(ye){var G=document.createElement("option");ye===ie?G.setAttribute("selected","selected"):G.setAttribute("value",ye),V.appendChild(G)})}t.BaseTooltip=H,t.default=B},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function y(){this.head=this.tail=null,this.length=0}return y.prototype.append=function(){for(var T=[],v=0;v<arguments.length;v++)T[v]=arguments[v];this.insertBefore(T[0],null),T.length>1&&this.append.apply(this,T.slice(1))},y.prototype.contains=function(T){for(var v,O=this.iterator();v=O();)if(v===T)return!0;return!1},y.prototype.insertBefore=function(T,v){!T||(T.next=v,null!=v?(T.prev=v.prev,null!=v.prev&&(v.prev.next=T),v.prev=T,v===this.head&&(this.head=T)):null!=this.tail?(this.tail.next=T,T.prev=this.tail,this.tail=T):(T.prev=null,this.head=this.tail=T),this.length+=1)},y.prototype.offset=function(T){for(var v=0,O=this.head;null!=O;){if(O===T)return v;v+=O.length(),O=O.next}return-1},y.prototype.remove=function(T){!this.contains(T)||(null!=T.prev&&(T.prev.next=T.next),null!=T.next&&(T.next.prev=T.prev),T===this.head&&(this.head=T.next),T===this.tail&&(this.tail=T.prev),this.length-=1)},y.prototype.iterator=function(T){return void 0===T&&(T=this.head),function(){var v=T;return null!=T&&(T=T.next),v}},y.prototype.find=function(T,v){void 0===v&&(v=!1);for(var O,C=this.iterator();O=C();){var E=O.length();if(T<E||v&&T===E&&(null==O.next||0!==O.next.length()))return[O,T];T-=E}return[null,0]},y.prototype.forEach=function(T){for(var v,O=this.iterator();v=O();)T(v)},y.prototype.forEachAt=function(T,v,O){if(!(v<=0))for(var f,C=this.find(T),_=T-C[1],l=this.iterator(C[0]);(f=l())&&_<T+v;){var m=f.length();T>_?O(f,T-_,Math.min(v,_+m-T)):O(f,0,Math.min(m,T+v-_)),_+=m}},y.prototype.map=function(T){return this.reduce(function(v,O){return v.push(T(O)),v},[])},y.prototype.reduce=function(T,v){for(var O,C=this.iterator();O=C();)v=T(v,O);return v},y}();t.default=n},function(K,t,e){"use strict";var E,n=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var _ in f)f.hasOwnProperty(_)&&(i[_]=f[_])},function(i,f){function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(17),T=e(1),v={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},C=function(E){function i(f){var _=E.call(this,f)||this;return _.scroll=_,_.observer=new MutationObserver(function(l){_.update(l)}),_.observer.observe(_.domNode,v),_.attach(),_}return n(i,E),i.prototype.detach=function(){E.prototype.detach.call(this),this.observer.disconnect()},i.prototype.deleteAt=function(f,_){this.update(),0===f&&_===this.length()?this.children.forEach(function(l){l.remove()}):E.prototype.deleteAt.call(this,f,_)},i.prototype.formatAt=function(f,_,l,m){this.update(),E.prototype.formatAt.call(this,f,_,l,m)},i.prototype.insertAt=function(f,_,l){this.update(),E.prototype.insertAt.call(this,f,_,l)},i.prototype.optimize=function(f,_){var l=this;void 0===f&&(f=[]),void 0===_&&(_={}),E.prototype.optimize.call(this,_);for(var m=[].slice.call(this.observer.takeRecords());m.length>0;)f.push(m.pop());for(var h=function(s,r){void 0===r&&(r=!0),null!=s&&s!==l&&null!=s.domNode.parentNode&&(null==s.domNode[T.DATA_KEY].mutations&&(s.domNode[T.DATA_KEY].mutations=[]),r&&h(s.parent))},d=function(s){null==s.domNode[T.DATA_KEY]||null==s.domNode[T.DATA_KEY].mutations||(s instanceof y.default&&s.children.forEach(d),s.optimize(_))},c=f,a=0;c.length>0;a+=1){if(a>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(s){var r=T.find(s.target,!0);null!=r&&(r.domNode===s.target&&("childList"===s.type?(h(T.find(s.previousSibling,!1)),[].forEach.call(s.addedNodes,function(o){var S=T.find(o,!1);h(S,!1),S instanceof y.default&&S.children.forEach(function(I){h(I,!1)})})):"attributes"===s.type&&h(r.prev)),h(r))}),this.children.forEach(d),m=(c=[].slice.call(this.observer.takeRecords())).slice();m.length>0;)f.push(m.pop())}},i.prototype.update=function(f,_){var l=this;void 0===_&&(_={}),(f=f||this.observer.takeRecords()).map(function(m){var h=T.find(m.target,!0);return null==h?null:null==h.domNode[T.DATA_KEY].mutations?(h.domNode[T.DATA_KEY].mutations=[m],h):(h.domNode[T.DATA_KEY].mutations.push(m),null)}).forEach(function(m){null==m||m===l||null==m.domNode[T.DATA_KEY]||m.update(m.domNode[T.DATA_KEY].mutations||[],_)}),null!=this.domNode[T.DATA_KEY].mutations&&E.prototype.update.call(this,this.domNode[T.DATA_KEY].mutations,_),this.optimize(f,_)},i.blotName="scroll",i.defaultChild="block",i.scope=T.Scope.BLOCK_BLOT,i.tagName="DIV",i}(y.default);t.default=C},function(K,t,e){"use strict";var C,n=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,i){E.__proto__=i}||function(E,i){for(var f in i)i.hasOwnProperty(f)&&(E[f]=i[f])},function(E,i){function f(){this.constructor=E}C(E,i),E.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(18),T=e(1);var O=function(C){function E(){return null!==C&&C.apply(this,arguments)||this}return n(E,C),E.formats=function(i){if(i.tagName!==E.tagName)return C.formats.call(this,i)},E.prototype.format=function(i,f){var _=this;i!==this.statics.blotName||f?C.prototype.format.call(this,i,f):(this.children.forEach(function(l){l instanceof y.default||(l=l.wrap(E.blotName,!0)),_.attributes.copy(l)}),this.unwrap())},E.prototype.formatAt=function(i,f,_,l){null!=this.formats()[_]||T.query(_,T.Scope.ATTRIBUTE)?this.isolate(i,f).format(_,l):C.prototype.formatAt.call(this,i,f,_,l)},E.prototype.optimize=function(i){C.prototype.optimize.call(this,i);var f=this.formats();if(0===Object.keys(f).length)return this.unwrap();var _=this.next;_ instanceof E&&_.prev===this&&function v(C,E){if(Object.keys(C).length!==Object.keys(E).length)return!1;for(var i in C)if(C[i]!==E[i])return!1;return!0}(f,_.formats())&&(_.moveChildren(this),_.remove())},E.blotName="inline",E.scope=T.Scope.INLINE_BLOT,E.tagName="SPAN",E}(y.default);t.default=O},function(K,t,e){"use strict";var O,n=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var i in E)E.hasOwnProperty(i)&&(C[i]=E[i])},function(C,E){function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(18),T=e(1),v=function(O){function C(){return null!==O&&O.apply(this,arguments)||this}return n(C,O),C.formats=function(E){var i=T.query(C.blotName).tagName;if(E.tagName!==i)return O.formats.call(this,E)},C.prototype.format=function(E,i){null!=T.query(E,T.Scope.BLOCK)&&(E!==this.statics.blotName||i?O.prototype.format.call(this,E,i):this.replaceWith(C.blotName))},C.prototype.formatAt=function(E,i,f,_){null!=T.query(f,T.Scope.BLOCK)?this.format(f,_):O.prototype.formatAt.call(this,E,i,f,_)},C.prototype.insertAt=function(E,i,f){if(null==f||null!=T.query(i,T.Scope.INLINE))O.prototype.insertAt.call(this,E,i,f);else{var _=this.split(E),l=T.create(i,f);_.parent.insertBefore(l,_)}},C.prototype.update=function(E,i){navigator.userAgent.match(/Trident/)?this.build():O.prototype.update.call(this,E,i)},C.blotName="block",C.scope=T.Scope.BLOCK_BLOT,C.tagName="P",C}(y.default);t.default=v},function(K,t,e){"use strict";var v,n=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,C){O.__proto__=C}||function(O,C){for(var E in C)C.hasOwnProperty(E)&&(O[E]=C[E])},function(O,C){function E(){this.constructor=O}v(O,C),O.prototype=null===C?Object.create(C):(E.prototype=C.prototype,new E)});Object.defineProperty(t,"__esModule",{value:!0});var T=function(v){function O(){return null!==v&&v.apply(this,arguments)||this}return n(O,v),O.formats=function(C){},O.prototype.format=function(C,E){v.prototype.formatAt.call(this,0,this.length(),C,E)},O.prototype.formatAt=function(C,E,i,f){0===C&&E===this.length()?this.format(i,f):v.prototype.formatAt.call(this,C,E,i,f)},O.prototype.formats=function(){return this.statics.formats(this.domNode)},O}(e(19).default);t.default=T},function(K,t,e){"use strict";var O,n=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var i in E)E.hasOwnProperty(i)&&(C[i]=E[i])},function(C,E){function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var y=e(19),T=e(1),v=function(O){function C(E){var i=O.call(this,E)||this;return i.text=i.statics.value(i.domNode),i}return n(C,O),C.create=function(E){return document.createTextNode(E)},C.value=function(E){var i=E.data;return i.normalize&&(i=i.normalize()),i},C.prototype.deleteAt=function(E,i){this.domNode.data=this.text=this.text.slice(0,E)+this.text.slice(E+i)},C.prototype.index=function(E,i){return this.domNode===E?i:-1},C.prototype.insertAt=function(E,i,f){null==f?(this.text=this.text.slice(0,E)+i+this.text.slice(E),this.domNode.data=this.text):O.prototype.insertAt.call(this,E,i,f)},C.prototype.length=function(){return this.text.length},C.prototype.optimize=function(E){O.prototype.optimize.call(this,E),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof C&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},C.prototype.position=function(E,i){return void 0===i&&(i=!1),[this.domNode,E]},C.prototype.split=function(E,i){if(void 0===i&&(i=!1),!i){if(0===E)return this;if(E===this.length())return this.next}var f=T.create(this.domNode.splitText(E));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},C.prototype.update=function(E,i){var f=this;E.some(function(_){return"characterData"===_.type&&_.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},C.prototype.value=function(){return this.text},C.blotName="text",C.scope=T.Scope.INLINE_BLOT,C}(y.default);t.default=v},function(K,t,e){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var y=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(T,v){return arguments.length>1&&!this.contains(T)==!v?v:y.call(this,T)}}String.prototype.startsWith||(String.prototype.startsWith=function(T,v){return this.substr(v=v||0,T.length)===T}),String.prototype.endsWith||(String.prototype.endsWith=function(T,v){var O=this.toString();("number"!=typeof v||!isFinite(v)||Math.floor(v)!==v||v>O.length)&&(v=O.length);var C=O.indexOf(T,v-=T.length);return-1!==C&&C===v}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(v){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof v)throw new TypeError("predicate must be a function");for(var i,O=Object(this),C=O.length>>>0,E=arguments[1],f=0;f<C;f++)if(v.call(E,i=O[f],f,O))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(K,t){var e=-1;function T(a,s,r){if(a==s)return a?[[0,a]]:[];(r<0||a.length<r)&&(r=null);var o=E(a,s),S=a.substring(0,o);o=i(a=a.substring(o),s=s.substring(o));var I=a.substring(a.length-o),x=function v(a,s){var r;if(!a)return[[1,s]];if(!s)return[[e,a]];var o=a.length>s.length?a:s,S=a.length>s.length?s:a,I=o.indexOf(S);if(-1!=I)return r=[[1,o.substring(0,I)],[0,S],[1,o.substring(I+S.length)]],a.length>s.length&&(r[0][0]=r[2][0]=e),r;if(1==S.length)return[[e,a],[1,s]];var x=function f(a,s){var r=a.length>s.length?a:s,o=a.length>s.length?s:a;if(r.length<4||2*o.length<r.length)return null;function S(F,B,H){for(var Q,ie,ye,G,$=F.substring(H,H+Math.floor(F.length/4)),j=-1,V="";-1!=(j=B.indexOf($,j+1));){var _e=E(F.substring(H),B.substring(j)),Ie=i(F.substring(0,H),B.substring(0,j));V.length<Ie+_e&&(V=B.substring(j-Ie,j)+B.substring(j,j+_e),Q=F.substring(0,H-Ie),ie=F.substring(H+_e),ye=B.substring(0,j-Ie),G=B.substring(j+_e))}return 2*V.length>=F.length?[Q,ie,ye,G,V]:null}var P,g,u,M,R,I=S(r,o,Math.ceil(r.length/4)),x=S(r,o,Math.ceil(r.length/2));return I||x?(P=x?I&&I[4].length>x[4].length?I:x:I,a.length>s.length?(g=P[0],u=P[1],M=P[2],R=P[3]):(M=P[0],R=P[1],g=P[2],u=P[3]),[g,u,M,R,P[4]]):null}(a,s);if(x){var g=x[1],M=x[3],R=x[4],w=T(x[0],x[2]),F=T(g,M);return w.concat([[0,R]],F)}return function O(a,s){for(var r=a.length,o=s.length,S=Math.ceil((r+o)/2),I=S,x=2*S,P=new Array(x),g=new Array(x),u=0;u<x;u++)P[u]=-1,g[u]=-1;P[I+1]=0,g[I+1]=0;for(var M=r-o,R=M%2!=0,w=0,F=0,B=0,H=0,$=0;$<S;$++){for(var j=-$+w;j<=$-F;j+=2){for(var V=I+j,ie=(Q=j==-$||j!=$&&P[V-1]<P[V+1]?P[V+1]:P[V-1]+1)-j;Q<r&&ie<o&&a.charAt(Q)==s.charAt(ie);)Q++,ie++;if(P[V]=Q,Q>r)F+=2;else if(ie>o)w+=2;else if(R&&(ye=I+M-j)>=0&&ye<x&&-1!=g[ye]&&Q>=(G=r-g[ye]))return C(a,s,Q,ie)}for(var _e=-$+B;_e<=$-H;_e+=2){for(var G,ye=I+_e,Ie=(G=_e==-$||_e!=$&&g[ye-1]<g[ye+1]?g[ye+1]:g[ye-1]+1)-_e;G<r&&Ie<o&&a.charAt(r-G-1)==s.charAt(o-Ie-1);)G++,Ie++;if(g[ye]=G,G>r)H+=2;else if(Ie>o)B+=2;else if(!R){var Q;if((V=I+M-_e)>=0&&V<x&&-1!=P[V]&&(ie=I+(Q=P[V])-V,Q>=(G=r-G)))return C(a,s,Q,ie)}}}return[[e,a],[1,s]]}(a,s)}(a=a.substring(0,a.length-o),s=s.substring(0,s.length-o));return S&&x.unshift([0,S]),I&&x.push([0,I]),_(x),null!=r&&(x=function h(a,s){var r=function m(a,s){if(0===s)return[0,a];for(var r=0,o=0;o<a.length;o++){var S=a[o];if(S[0]===e||0===S[0]){var I=r+S[1].length;if(s===I)return[o+1,a];if(s<I){a=a.slice();var x=s-r,P=[S[0],S[1].slice(0,x)],g=[S[0],S[1].slice(x)];return a.splice(o,1,P,g),[o+1,a]}r=I}}throw new Error("cursor_pos is out of bounds!")}(a,s),o=r[1],S=r[0],I=o[S],x=o[S+1];if(null==I)return a;if(0!==I[0])return a;if(null!=x&&I[1]+x[1]===x[1]+I[1])return o.splice(S,2,x,I),c(o,S,2);if(null!=x&&0===x[1].indexOf(I[1])){o.splice(S,2,[x[0],I[1]],[0,I[1]]);var P=x[1].slice(I[1].length);return P.length>0&&o.splice(S+2,0,[x[0],P]),c(o,S,3)}return a}(x,r)),function d(a){for(var s=!1,r=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},o=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},S=2;S<a.length;S+=1)0===a[S-2][0]&&o(a[S-2][1])&&a[S-1][0]===e&&r(a[S-1][1])&&1===a[S][0]&&r(a[S][1])&&(s=!0,a[S-1][1]=a[S-2][1].slice(-1)+a[S-1][1],a[S][1]=a[S-2][1].slice(-1)+a[S][1],a[S-2][1]=a[S-2][1].slice(0,-1));if(!s)return a;var I=[];for(S=0;S<a.length;S+=1)a[S][1].length>0&&I.push(a[S]);return I}(x)}function C(a,s,r,o){var S=a.substring(0,r),I=s.substring(0,o),x=a.substring(r),P=s.substring(o),g=T(S,I),u=T(x,P);return g.concat(u)}function E(a,s){if(!a||!s||a.charAt(0)!=s.charAt(0))return 0;for(var r=0,o=Math.min(a.length,s.length),S=o,I=0;r<S;)a.substring(I,S)==s.substring(I,S)?I=r=S:o=S,S=Math.floor((o-r)/2+r);return S}function i(a,s){if(!a||!s||a.charAt(a.length-1)!=s.charAt(s.length-1))return 0;for(var r=0,o=Math.min(a.length,s.length),S=o,I=0;r<S;)a.substring(a.length-S,a.length-I)==s.substring(s.length-S,s.length-I)?I=r=S:o=S,S=Math.floor((o-r)/2+r);return S}function _(a){a.push([0,""]);for(var x,s=0,r=0,o=0,S="",I="";s<a.length;)switch(a[s][0]){case 1:o++,I+=a[s][1],s++;break;case e:r++,S+=a[s][1],s++;break;case 0:r+o>1?(0!==r&&0!==o&&(0!==(x=E(I,S))&&(s-r-o>0&&0==a[s-r-o-1][0]?a[s-r-o-1][1]+=I.substring(0,x):(a.splice(0,0,[0,I.substring(0,x)]),s++),I=I.substring(x),S=S.substring(x)),0!==(x=i(I,S))&&(a[s][1]=I.substring(I.length-x)+a[s][1],I=I.substring(0,I.length-x),S=S.substring(0,S.length-x))),0===r?a.splice(s-o,r+o,[1,I]):0===o?a.splice(s-r,r+o,[e,S]):a.splice(s-r-o,r+o,[e,S],[1,I]),s=s-r-o+(r?1:0)+(o?1:0)+1):0!==s&&0==a[s-1][0]?(a[s-1][1]+=a[s][1],a.splice(s,1)):s++,o=0,r=0,S="",I=""}""===a[a.length-1][1]&&a.pop();var P=!1;for(s=1;s<a.length-1;)0==a[s-1][0]&&0==a[s+1][0]&&(a[s][1].substring(a[s][1].length-a[s-1][1].length)==a[s-1][1]?(a[s][1]=a[s-1][1]+a[s][1].substring(0,a[s][1].length-a[s-1][1].length),a[s+1][1]=a[s-1][1]+a[s+1][1],a.splice(s-1,1),P=!0):a[s][1].substring(0,a[s+1][1].length)==a[s+1][1]&&(a[s-1][1]+=a[s+1][1],a[s][1]=a[s][1].substring(a[s+1][1].length)+a[s+1][1],a.splice(s+1,1),P=!0)),s++;P&&_(a)}var l=T;function c(a,s,r){for(var o=s+r-1;o>=0&&o>=s-1;o--)if(o+1<a.length){var S=a[o],I=a[o+1];S[0]===I[1]&&a.splice(o,2,[S[0],S[1]+I[1]])}return a}l.INSERT=1,l.DELETE=e,l.EQUAL=0,K.exports=l},function(K,t){function e(n){var y=[];for(var T in n)y.push(T);return y}(K.exports="function"==typeof Object.keys?Object.keys:e).shim=e},function(K,t){var e="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(T){return"[object Arguments]"==Object.prototype.toString.call(T)}function y(T){return T&&"object"==typeof T&&"number"==typeof T.length&&Object.prototype.hasOwnProperty.call(T,"callee")&&!Object.prototype.propertyIsEnumerable.call(T,"callee")||!1}(t=K.exports=e?n:y).supported=n,t.unsupported=y},function(K,t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function y(){}function T(O,C,E){this.fn=O,this.context=C,this.once=E||!1}function v(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(n=!1)),v.prototype.eventNames=function(){var E,i,C=[];if(0===this._eventsCount)return C;for(i in E=this._events)e.call(E,i)&&C.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(E)):C},v.prototype.listeners=function(C,E){var f=this._events[n?n+C:C];if(E)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var _=0,l=f.length,m=new Array(l);_<l;_++)m[_]=f[_].fn;return m},v.prototype.emit=function(C,E,i,f,_,l){var m=n?n+C:C;if(!this._events[m])return!1;var c,a,h=this._events[m],d=arguments.length;if(h.fn){switch(h.once&&this.removeListener(C,h.fn,void 0,!0),d){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,E),!0;case 3:return h.fn.call(h.context,E,i),!0;case 4:return h.fn.call(h.context,E,i,f),!0;case 5:return h.fn.call(h.context,E,i,f,_),!0;case 6:return h.fn.call(h.context,E,i,f,_,l),!0}for(a=1,c=new Array(d-1);a<d;a++)c[a-1]=arguments[a];h.fn.apply(h.context,c)}else{var r,s=h.length;for(a=0;a<s;a++)switch(h[a].once&&this.removeListener(C,h[a].fn,void 0,!0),d){case 1:h[a].fn.call(h[a].context);break;case 2:h[a].fn.call(h[a].context,E);break;case 3:h[a].fn.call(h[a].context,E,i);break;case 4:h[a].fn.call(h[a].context,E,i,f);break;default:if(!c)for(r=1,c=new Array(d-1);r<d;r++)c[r-1]=arguments[r];h[a].fn.apply(h[a].context,c)}}return!0},v.prototype.on=function(C,E,i){var f=new T(E,i||this),_=n?n+C:C;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],f]:this._events[_].push(f):(this._events[_]=f,this._eventsCount++),this},v.prototype.once=function(C,E,i){var f=new T(E,i||this,!0),_=n?n+C:C;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],f]:this._events[_].push(f):(this._events[_]=f,this._eventsCount++),this},v.prototype.removeListener=function(C,E,i,f){var _=n?n+C:C;if(!this._events[_])return this;if(!E)return 0==--this._eventsCount?this._events=new y:delete this._events[_],this;var l=this._events[_];if(l.fn)l.fn===E&&(!f||l.once)&&(!i||l.context===i)&&(0==--this._eventsCount?this._events=new y:delete this._events[_]);else{for(var m=0,h=[],d=l.length;m<d;m++)(l[m].fn!==E||f&&!l[m].once||i&&l[m].context!==i)&&h.push(l[m]);h.length?this._events[_]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new y:delete this._events[_]}return this},v.prototype.removeAllListeners=function(C){var E;return C?this._events[E=n?n+C:C]&&(0==--this._eventsCount?this._events=new y:delete this._events[E]):(this._events=new y,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prototype.setMaxListeners=function(){return this},v.prefixed=n,v.EventEmitter=v,typeof K<"u"&&(K.exports=v)},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},y=function(Be,lt){if(Array.isArray(Be))return Be;if(Symbol.iterator in Object(Be))return function je(Be,lt){var Ye=[],et=!0,ot=!1,ge=void 0;try{for(var me,we=Be[Symbol.iterator]();!(et=(me=we.next()).done)&&(Ye.push(me.value),!lt||Ye.length!==lt);et=!0);}catch(fe){ot=!0,ge=fe}finally{try{!et&&we.return&&we.return()}finally{if(ot)throw ge}}return Ye}(Be,lt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=function(){function je(Be,lt){for(var Ye=0;Ye<lt.length;Ye++){var et=lt[Ye];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Be,et.key,et)}}return function(Be,lt,Ye){return lt&&je(Be.prototype,lt),Ye&&je(Be,Ye),Be}}(),O=g(e(3)),E=g(e(2)),f=g(e(0)),l=g(e(5)),h=g(e(10)),c=g(e(9)),a=e(36),s=e(37),o=g(e(13)),S=e(26),I=e(38),x=e(39),P=e(40);function g(je){return je&&je.__esModule?je:{default:je}}function u(je,Be,lt){return Be in je?Object.defineProperty(je,Be,{value:lt,enumerable:!0,configurable:!0,writable:!0}):je[Be]=lt,je}var F=(0,h.default)("quill:clipboard"),B="__ql-matcher",H=[[Node.TEXT_NODE,it],[Node.TEXT_NODE,be],["br",function Ve(je,Be){return ye(Be,"\n")||Be.insert("\n"),Be}],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,Fe],[Node.ELEMENT_NODE,Ue],[Node.ELEMENT_NODE,Me],[Node.ELEMENT_NODE,function He(je,Be){var lt={},Ye=je.style||{};return Ye.fontStyle&&"italic"===ie(je).fontStyle&&(lt.italic=!0),Ye.fontWeight&&(ie(je).fontWeight.startsWith("bold")||parseInt(ie(je).fontWeight)>=700)&&(lt.bold=!0),Object.keys(lt).length>0&&(Be=Q(Be,lt)),parseFloat(Ye.textIndent||0)>0&&(Be=(new E.default).insert("\t").concat(Be)),Be}],["li",function xe(je,Be){var lt=f.default.query(je);if(null==lt||"list-item"!==lt.blotName||!ye(Be,"\n"))return Be;for(var Ye=-1,et=je.parentNode;!et.classList.contains("ql-clipboard");)"list"===(f.default.query(et)||{}).blotName&&(Ye+=1),et=et.parentNode;return Ye<=0?Be:Be.compose((new E.default).retain(Be.length()-1).retain(1,{indent:Ye}))}],["b",Ie.bind(Ie,"bold")],["i",Ie.bind(Ie,"italic")],["style",function Pe(){return new E.default}]],$=[a.AlignAttribute,I.DirectionAttribute].reduce(function(je,Be){return je[Be.keyName]=Be,je},{}),j=[a.AlignStyle,s.BackgroundStyle,S.ColorStyle,I.DirectionStyle,x.FontStyle,P.SizeStyle].reduce(function(je,Be){return je[Be.keyName]=Be,je},{}),V=function(je){function Be(lt,Ye){!function M(je,Be){if(!(je instanceof Be))throw new TypeError("Cannot call a class as a function")}(this,Be);var et=function R(je,Be){if(!je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Be||"object"!=typeof Be&&"function"!=typeof Be?je:Be}(this,(Be.__proto__||Object.getPrototypeOf(Be)).call(this,lt,Ye));return et.quill.root.addEventListener("paste",et.onPaste.bind(et)),et.container=et.quill.addContainer("ql-clipboard"),et.container.setAttribute("contenteditable",!0),et.container.setAttribute("tabindex",-1),et.matchers=[],H.concat(et.options.matchers).forEach(function(ot){var ge=y(ot,2),me=ge[1];!Ye.matchVisual&&me===Ue||et.addMatcher(ge[0],me)}),et}return function w(je,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Super expression must either be null or a function, not "+typeof Be);je.prototype=Object.create(Be&&Be.prototype,{constructor:{value:je,enumerable:!1,writable:!0,configurable:!0}}),Be&&(Object.setPrototypeOf?Object.setPrototypeOf(je,Be):je.__proto__=Be)}(Be,je),T(Be,[{key:"addMatcher",value:function(Ye,et){this.matchers.push([Ye,et])}},{key:"convert",value:function(Ye){if("string"==typeof Ye)return this.container.innerHTML=Ye.replace(/\>\r?\n +\</g,"><"),this.convert();var et=this.quill.getFormat(this.quill.selection.savedRange.index);if(et[o.default.blotName]){var ot=this.container.innerText;return this.container.innerHTML="",(new E.default).insert(ot,u({},o.default.blotName,et[o.default.blotName]))}var ge=this.prepareMatching(),we=y(ge,2),Z=_e(this.container,we[0],we[1]);return ye(Z,"\n")&&null==Z.ops[Z.ops.length-1].attributes&&(Z=Z.compose((new E.default).retain(Z.length()-1).delete(1))),F.log("convert",this.container.innerHTML,Z),this.container.innerHTML="",Z}},{key:"dangerouslyPasteHTML",value:function(Ye,et){var ot=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof Ye)this.quill.setContents(this.convert(Ye),et),this.quill.setSelection(0,l.default.sources.SILENT);else{var ge=this.convert(et);this.quill.updateContents((new E.default).retain(Ye).concat(ge),ot),this.quill.setSelection(Ye+ge.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(Ye){var et=this;if(!Ye.defaultPrevented&&this.quill.isEnabled()){var ot=this.quill.getSelection(),ge=(new E.default).retain(ot.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){ge=ge.concat(et.convert()).delete(ot.length),et.quill.updateContents(ge,l.default.sources.USER),et.quill.setSelection(ge.length()-ot.length,l.default.sources.SILENT),et.quill.scrollingContainer.scrollTop=we,et.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ye=this,et=[],ot=[];return this.matchers.forEach(function(ge){var we=y(ge,2),me=we[0],fe=we[1];switch(me){case Node.TEXT_NODE:ot.push(fe);break;case Node.ELEMENT_NODE:et.push(fe);break;default:[].forEach.call(Ye.container.querySelectorAll(me),function(Z){Z[B]=Z[B]||[],Z[B].push(fe)})}}),[et,ot]}}]),Be}(c.default);function Q(je,Be,lt){return"object"===(typeof Be>"u"?"undefined":n(Be))?Object.keys(Be).reduce(function(Ye,et){return Q(Ye,et,Be[et])},je):je.reduce(function(Ye,et){return et.attributes&&et.attributes[Be]?Ye.push(et):Ye.insert(et.insert,(0,O.default)({},u({},Be,lt),et.attributes))},new E.default)}function ie(je){if(je.nodeType!==Node.ELEMENT_NODE)return{};var Be="__ql-computed-style";return je[Be]||(je[Be]=window.getComputedStyle(je))}function ye(je,Be){for(var lt="",Ye=je.ops.length-1;Ye>=0&&lt.length<Be.length;--Ye){var et=je.ops[Ye];if("string"!=typeof et.insert)break;lt=et.insert+lt}return lt.slice(-1*Be.length)===Be}function G(je){if(0===je.childNodes.length)return!1;var Be=ie(je);return["block","list-item"].indexOf(Be.display)>-1}function _e(je,Be,lt){return je.nodeType===je.TEXT_NODE?lt.reduce(function(Ye,et){return et(je,Ye)},new E.default):je.nodeType===je.ELEMENT_NODE?[].reduce.call(je.childNodes||[],function(Ye,et){var ot=_e(et,Be,lt);return et.nodeType===je.ELEMENT_NODE&&(ot=Be.reduce(function(ge,we){return we(et,ge)},ot),ot=(et[B]||[]).reduce(function(ge,we){return we(et,ge)},ot)),Ye.concat(ot)},new E.default):new E.default}function Ie(je,Be,lt){return Q(lt,je,!0)}function Me(je,Be){var lt=f.default.Attributor.Attribute.keys(je),Ye=f.default.Attributor.Class.keys(je),et=f.default.Attributor.Style.keys(je),ot={};return lt.concat(Ye).concat(et).forEach(function(ge){var we=f.default.query(ge,f.default.Scope.ATTRIBUTE);null!=we&&(ot[we.attrName]=we.value(je),ot[we.attrName])||(null!=(we=$[ge])&&(we.attrName===ge||we.keyName===ge)&&(ot[we.attrName]=we.value(je)||void 0),null!=(we=j[ge])&&(we.attrName===ge||we.keyName===ge)&&(ot[(we=j[ge]).attrName]=we.value(je)||void 0))}),Object.keys(ot).length>0&&(Be=Q(Be,ot)),Be}function Fe(je,Be){var lt=f.default.query(je);if(null==lt)return Be;if(lt.prototype instanceof f.default.Embed){var Ye={},et=lt.value(je);null!=et&&(Ye[lt.blotName]=et,Be=(new E.default).insert(Ye,lt.formats(je)))}else"function"==typeof lt.formats&&(Be=Q(Be,lt.blotName,lt.formats(je)));return Be}function be(je,Be){return ye(Be,"\n")||(G(je)||Be.length()>0&&je.nextSibling&&G(je.nextSibling))&&Be.insert("\n"),Be}function Ue(je,Be){if(G(je)&&null!=je.nextElementSibling&&!ye(Be,"\n\n")){var lt=je.offsetHeight+parseFloat(ie(je).marginTop)+parseFloat(ie(je).marginBottom);je.nextElementSibling.offsetTop>je.offsetTop+1.5*lt&&Be.insert("\n")}return Be}function it(je,Be){var lt=je.data;if("O:P"===je.parentNode.tagName)return Be.insert(lt.trim());if(0===lt.trim().length&&je.parentNode.classList.contains("ql-clipboard"))return Be;if(!ie(je.parentNode).whiteSpace.startsWith("pre")){var Ye=function(ot,ge){return(ge=ge.replace(/[^\u00a0]/g,"")).length<1&&ot?" ":ge};lt=(lt=lt.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Ye.bind(Ye,!0)),(null==je.previousSibling&&G(je.parentNode)||null!=je.previousSibling&&G(je.previousSibling))&&(lt=lt.replace(/^\s+/,Ye.bind(Ye,!1))),(null==je.nextSibling&&G(je.parentNode)||null!=je.nextSibling&&G(je.nextSibling))&&(lt=lt.replace(/\s+$/,Ye.bind(Ye,!1)))}return Be.insert(lt)}V.DEFAULTS={matchers:[],matchVisual:!0},t.default=V,t.matchAttributor=Me,t.matchBlot=Fe,t.matchNewline=be,t.matchSpacing=Ue,t.matchText=it},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function _(l,m){for(var h=0;h<m.length;h++){var d=m[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,m,h){return m&&_(l.prototype,m),h&&_(l,h),l}}(),y=function _(l,m,h){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,m);if(void 0===d){var c=Object.getPrototypeOf(l);return null===c?void 0:_(c,m,h)}if("value"in d)return d.value;var a=d.get;return void 0===a?void 0:a.call(h)};function C(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}function E(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?_:l}var f=function(_){function l(){return C(this,l),E(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}(l,_),n(l,[{key:"optimize",value:function(h){y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,h),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return y(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),l}(function O(_){return _&&_.__esModule?_:{default:_}}(e(6)).default);f.blotName="bold",f.tagName=["STRONG","B"],t.default=f},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(g,u){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return function P(g,u){var M=[],R=!0,w=!1,F=void 0;try{for(var H,B=g[Symbol.iterator]();!(R=(H=B.next()).done)&&(M.push(H.value),!u||M.length!==u);R=!0);}catch($){w=!0,F=$}finally{try{!R&&B.return&&B.return()}finally{if(w)throw F}}return M}(g,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=function(){function P(g,u){for(var M=0;M<u.length;M++){var R=u[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(g,R.key,R)}}return function(g,u,M){return u&&P(g.prototype,u),M&&P(g,M),g}}(),v=h(e(2)),C=h(e(0)),i=h(e(5)),_=h(e(10)),m=h(e(9));function h(P){return P&&P.__esModule?P:{default:P}}function a(P,g){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?P:g}var r=(0,_.default)("quill:toolbar"),o=function(P){function g(u,M){!function c(P,g){if(!(P instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g);var F,R=a(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,u,M));if(Array.isArray(R.options.container)){var w=document.createElement("div");I(w,R.options.container),u.container.parentNode.insertBefore(w,u.container),R.container=w}else R.container="string"==typeof R.options.container?document.querySelector(R.options.container):R.options.container;return R.container instanceof HTMLElement?(R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(B){R.addHandler(B,R.options.handlers[B])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(B){R.attach(B)}),R.quill.on(i.default.events.EDITOR_CHANGE,function(B,H){B===i.default.events.SELECTION_CHANGE&&R.update(H)}),R.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var B=R.quill.selection.getRange(),H=n(B,1);R.update(H[0])}),R):(F=r.error("Container required for toolbar",R.options),a(R,F))}return function s(P,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);P.prototype=Object.create(g&&g.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(P,g):P.__proto__=g)}(g,P),y(g,[{key:"addHandler",value:function(M,R){this.handlers[M]=R}},{key:"attach",value:function(M){var R=this,w=[].find.call(M.classList,function(B){return 0===B.indexOf("ql-")});if(w){if(w=w.slice(3),"BUTTON"===M.tagName&&M.setAttribute("type","button"),null==this.handlers[w]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[w])return void r.warn("ignoring attaching to disabled format",w,M);if(null==C.default.query(w))return void r.warn("ignoring attaching to nonexistent format",w,M)}M.addEventListener("SELECT"===M.tagName?"change":"click",function(B){var H=void 0;if("SELECT"===M.tagName){if(M.selectedIndex<0)return;var $=M.options[M.selectedIndex];H=!$.hasAttribute("selected")&&($.value||!1)}else H=!M.classList.contains("ql-active")&&(M.value||!M.hasAttribute("value")),B.preventDefault();R.quill.focus();var j=R.quill.selection.getRange(),Q=n(j,1)[0];if(null!=R.handlers[w])R.handlers[w].call(R,H);else if(C.default.query(w).prototype instanceof C.default.Embed){if(!(H=prompt("Enter "+w)))return;R.quill.updateContents((new v.default).retain(Q.index).delete(Q.length).insert(function d(P,g,u){return g in P?Object.defineProperty(P,g,{value:u,enumerable:!0,configurable:!0,writable:!0}):P[g]=u,P}({},w,H)),i.default.sources.USER)}else R.quill.format(w,H,i.default.sources.USER);R.update(Q)}),this.controls.push([w,M])}}},{key:"update",value:function(M){var R=null==M?{}:this.quill.getFormat(M);this.controls.forEach(function(w){var F=n(w,2),B=F[0],H=F[1];if("SELECT"===H.tagName){var $=void 0;if(null==M)$=null;else if(null==R[B])$=H.querySelector("option[selected]");else if(!Array.isArray(R[B])){var j=R[B];"string"==typeof j&&(j=j.replace(/\"/g,'\\"')),$=H.querySelector('option[value="'+j+'"]')}null==$?(H.value="",H.selectedIndex=-1):$.selected=!0}else if(null==M)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var V=R[B]===H.getAttribute("value")||null!=R[B]&&R[B].toString()===H.getAttribute("value")||null==R[B]&&!H.getAttribute("value");H.classList.toggle("ql-active",V)}else H.classList.toggle("ql-active",null!=R[B])})}}]),g}(m.default);function S(P,g,u){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+g),null!=u&&(M.value=u),P.appendChild(M)}function I(P,g){Array.isArray(g[0])||(g=[g]),g.forEach(function(u){var M=document.createElement("span");M.classList.add("ql-formats"),u.forEach(function(R){if("string"==typeof R)S(M,R);else{var w=Object.keys(R)[0],F=R[w];Array.isArray(F)?function x(P,g,u){var M=document.createElement("select");M.classList.add("ql-"+g),u.forEach(function(R){var w=document.createElement("option");!1!==R?w.setAttribute("value",R):w.setAttribute("selected","selected"),M.appendChild(w)}),P.appendChild(M)}(M,w,F):S(M,w,F)}}),P.appendChild(M)})}o.DEFAULTS={},o.DEFAULTS={container:null,handlers:{clean:function(){var g=this,u=this.quill.getSelection();if(null!=u)if(0==u.length){var M=this.quill.getFormat();Object.keys(M).forEach(function(R){null!=C.default.query(R,C.default.Scope.INLINE)&&g.quill.format(R,!1)})}else this.quill.removeFormat(u,i.default.sources.USER)},direction:function(g){var u=this.quill.getFormat().align;"rtl"===g&&null==u?this.quill.format("align","right",i.default.sources.USER):!g&&"right"===u&&this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",g,i.default.sources.USER)},indent:function(g){var u=this.quill.getSelection(),M=this.quill.getFormat(u),R=parseInt(M.indent||0);if("+1"===g||"-1"===g){var w="+1"===g?1:-1;"rtl"===M.direction&&(w*=-1),this.quill.format("indent",R+w,i.default.sources.USER)}},link:function(g){!0===g&&(g=prompt("Enter link URL:")),this.quill.format("link",g,i.default.sources.USER)},list:function(g){var u=this.quill.getSelection(),M=this.quill.getFormat(u);this.quill.format("list","check"===g?"checked"!==M.list&&"unchecked"!==M.list&&"unchecked":g,i.default.sources.USER)}}},t.default=o,t.addControls=I},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function _(l,m){for(var h=0;h<m.length;h++){var d=m[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,m,h){return m&&_(l.prototype,m),h&&_(l,h),l}}(),y=function _(l,m,h){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,m);if(void 0===d){var c=Object.getPrototypeOf(l);return null===c?void 0:_(c,m,h)}if("value"in d)return d.value;var a=d.get;return void 0===a?void 0:a.call(h)};var f=function(_){function l(m,h){!function C(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var d=function E(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?_:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,m));return d.label.innerHTML=h,d.container.classList.add("ql-color-picker"),[].slice.call(d.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),d}return function i(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}(l,_),n(l,[{key:"buildItem",value:function(h){var d=y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildItem",this).call(this,h);return d.style.backgroundColor=h.getAttribute("value")||"",d}},{key:"selectItem",value:function(h,d){y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,h,d);var c=this.label.querySelector(".ql-color-label"),a=h&&h.getAttribute("data-value")||"";c&&("line"===c.tagName?c.style.stroke=a:c.style.fill=a)}}]),l}(function O(_){return _&&_.__esModule?_:{default:_}}(e(28)).default);t.default=f},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function _(l,m){for(var h=0;h<m.length;h++){var d=m[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,m,h){return m&&_(l.prototype,m),h&&_(l,h),l}}(),y=function _(l,m,h){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,m);if(void 0===d){var c=Object.getPrototypeOf(l);return null===c?void 0:_(c,m,h)}if("value"in d)return d.value;var a=d.get;return void 0===a?void 0:a.call(h)};var f=function(_){function l(m,h){!function C(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var d=function E(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?_:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,m));return d.container.classList.add("ql-icon-picker"),[].forEach.call(d.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=h[c.getAttribute("data-value")||""]}),d.defaultItem=d.container.querySelector(".ql-selected"),d.selectItem(d.defaultItem),d}return function i(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}(l,_),n(l,[{key:"selectItem",value:function(h,d){y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,h,d),this.label.innerHTML=(h=h||this.defaultItem).innerHTML}}]),l}(function O(_){return _&&_.__esModule?_:{default:_}}(e(28)).default);t.default=f},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function v(O,C){for(var E=0;E<C.length;E++){var i=C[E];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(O,i.key,i)}}return function(O,C,E){return C&&v(O.prototype,C),E&&v(O,E),O}}();var T=function(){function v(O,C){var E=this;(function y(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")})(this,v),this.quill=O,this.boundsContainer=C||document.body,this.root=O.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){E.root.style.marginTop=-1*E.quill.root.scrollTop+"px"}),this.hide()}return n(v,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(C){var E=C.left+C.width/2-this.root.offsetWidth/2,i=C.bottom+this.quill.root.scrollTop;this.root.style.left=E+"px",this.root.style.top=i+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),l=0;return _.right>f.right&&(this.root.style.left=E+(l=f.right-_.right)+"px"),_.left<f.left&&(this.root.style.left=E+(l=f.left-_.left)+"px"),_.bottom>f.bottom&&(this.root.style.top=i-(C.bottom-C.top+(_.bottom-_.top))+"px",this.root.classList.add("ql-flip")),l}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),v}();t.default=T},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(P,g){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function x(P,g){var u=[],M=!0,R=!1,w=void 0;try{for(var B,F=P[Symbol.iterator]();!(M=(B=F.next()).done)&&(u.push(B.value),!g||u.length!==g);M=!0);}catch(H){R=!0,w=H}finally{try{!M&&F.return&&F.return()}finally{if(R)throw w}}return u}(P,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=function x(P,g,u){null===P&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,g);if(void 0===M){var R=Object.getPrototypeOf(P);return null===R?void 0:x(R,g,u)}if("value"in M)return M.value;var w=M.get;return void 0===w?void 0:w.call(u)},T=function(){function x(P,g){for(var u=0;u<g.length;u++){var M=g[u];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,g,u){return g&&x(P.prototype,g),u&&x(P,u),P}}(),O=c(e(3)),E=c(e(8)),i=e(43),f=c(i),l=c(e(27)),m=e(15),d=c(e(41));function c(x){return x&&x.__esModule?x:{default:x}}function a(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}function s(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}function r(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}var o=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(x){function P(g,u){a(this,P),null!=u.modules.toolbar&&null==u.modules.toolbar.container&&(u.modules.toolbar.container=o);var M=s(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,g,u));return M.quill.container.classList.add("ql-snow"),M}return r(P,x),T(P,[{key:"extendToolbar",value:function(u){u.container.classList.add("ql-snow"),this.buildButtons([].slice.call(u.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(u.container.querySelectorAll("select")),d.default),this.tooltip=new I(this.quill,this.options.bounds),u.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,R){u.handlers.link.call(u,!R.format.link)})}}]),P}(f.default);S.DEFAULTS=(0,O.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var g=this.quill.getSelection();if(null==g||0==g.length)return;var u=this.quill.getText(g);/^\S+@\S+\.\S+$/.test(u)&&0!==u.indexOf("mailto:")&&(u="mailto:"+u),this.quill.theme.tooltip.edit("link",u)}else this.quill.format("link",!1)}}}}});var I=function(x){function P(g,u){a(this,P);var M=s(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,g,u));return M.preview=M.root.querySelector("a.ql-preview"),M}return r(P,x),T(P,[{key:"listen",value:function(){var u=this;y(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){u.root.classList.contains("ql-editing")?u.save():u.edit("link",u.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(null!=u.linkRange){var R=u.linkRange;u.restoreFocus(),u.quill.formatText(R,"link",!1,E.default.sources.USER),delete u.linkRange}M.preventDefault(),u.hide()}),this.quill.on(E.default.events.SELECTION_CHANGE,function(M,R,w){if(null!=M){if(0===M.length&&w===E.default.sources.USER){var F=u.quill.scroll.descendant(l.default,M.index),B=n(F,2),H=B[0];if(null!=H){u.linkRange=new m.Range(M.index-B[1],H.length());var j=l.default.formats(H.domNode);return u.preview.textContent=j,u.preview.setAttribute("href",j),u.show(),void u.position(u.quill.getBounds(u.linkRange))}}else delete u.linkRange;u.hide()}})}},{key:"show",value:function(){y(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(i.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=S},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=et(e(29)),T=e(36),v=e(38),O=e(64),E=et(e(65)),f=et(e(66)),_=e(67),l=et(_),m=e(37),h=e(26),d=e(39),c=e(40),s=et(e(56)),o=et(e(68)),I=et(e(27)),P=et(e(69)),u=et(e(70)),R=et(e(71)),F=et(e(72)),H=et(e(73)),$=e(13),j=et($),Q=et(e(74)),ye=et(e(75)),_e=et(e(57)),Me=et(e(41)),Ve=et(e(28)),xe=et(e(59)),Ue=et(e(60)),it=et(e(61)),Be=et(e(108)),Ye=et(e(62));function et(ot){return ot&&ot.__esModule?ot:{default:ot}}y.default.register({"attributors/attribute/direction":v.DirectionAttribute,"attributors/class/align":T.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":v.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":c.SizeClass,"attributors/style/align":T.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":v.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":c.SizeStyle},!0),y.default.register({"formats/align":T.AlignClass,"formats/direction":v.DirectionClass,"formats/indent":O.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":d.FontClass,"formats/size":c.SizeClass,"formats/blockquote":E.default,"formats/code-block":j.default,"formats/header":f.default,"formats/list":l.default,"formats/bold":s.default,"formats/code":$.Code,"formats/italic":o.default,"formats/link":I.default,"formats/script":P.default,"formats/strike":u.default,"formats/underline":R.default,"formats/image":F.default,"formats/video":H.default,"formats/list/item":_.ListItem,"modules/formula":Q.default,"modules/syntax":ye.default,"modules/toolbar":_e.default,"themes/bubble":Be.default,"themes/snow":Ye.default,"ui/icons":Me.default,"ui/picker":Ve.default,"ui/icon-picker":Ue.default,"ui/color-picker":xe.default,"ui/tooltip":it.default},!0),t.default=y.default},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n=function(){function l(m,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}return function(m,h,d){return h&&l(m.prototype,h),d&&l(m,d),m}}(),y=function l(m,h,d){null===m&&(m=Function.prototype);var c=Object.getOwnPropertyDescriptor(m,h);if(void 0===c){var a=Object.getPrototypeOf(m);return null===a?void 0:l(a,h,d)}if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(d)},v=function O(l){return l&&l.__esModule?l:{default:l}}(e(0));function C(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}function E(l,m){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?l:m}var f=function(l){function m(){return C(this,m),E(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function i(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);l.prototype=Object.create(m&&m.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(l,m):l.__proto__=m)}(m,l),n(m,[{key:"add",value:function(d,c){if("+1"===c||"-1"===c){var a=this.value(d)||0;c="+1"===c?a+1:a-1}return 0===c?(this.remove(d),!0):y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"add",this).call(this,d,c)}},{key:"canAdd",value:function(d,c){return y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,d,c)||y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,d,parseInt(c))}},{key:"value",value:function(d){return parseInt(y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,d))||void 0}}]),m}(v.default.Attributor.Class),_=new f("indent","ql-indent",{scope:v.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=_},function(K,t,e){"use strict";function v(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function O(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}Object.defineProperty(t,"__esModule",{value:!0});var E=function(i){function f(){return v(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function C(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),f}(function T(i){return i&&i.__esModule?i:{default:i}}(e(4)).default);E.blotName="blockquote",E.tagName="blockquote",t.default=E},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function f(_,l){for(var m=0;m<l.length;m++){var h=l[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(_,h.key,h)}}return function(_,l,m){return l&&f(_.prototype,l),m&&f(_,m),_}}();function O(f,_){if(!(f instanceof _))throw new TypeError("Cannot call a class as a function")}function C(f,_){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?f:_}var i=function(f){function _(){return O(this,_),C(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return function E(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);f.prototype=Object.create(_&&_.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(f,_):f.__proto__=_)}(_,f),n(_,null,[{key:"formats",value:function(m){return this.tagName.indexOf(m.tagName)+1}}]),_}(function v(f){return f&&f.__esModule?f:{default:f}}(e(4)).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function a(s,r){for(var o=0;o<r.length;o++){var S=r[o];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(s,S.key,S)}}return function(s,r,o){return r&&a(s.prototype,r),o&&a(s,o),s}}(),y=function a(s,r,o){null===s&&(s=Function.prototype);var S=Object.getOwnPropertyDescriptor(s,r);if(void 0===S){var I=Object.getPrototypeOf(s);return null===I?void 0:a(I,r,o)}if("value"in S)return S.value;var x=S.get;return void 0===x?void 0:x.call(o)},v=f(e(0)),C=f(e(4)),i=f(e(25));function f(a){return a&&a.__esModule?a:{default:a}}function l(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function m(a,s){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?a:s}function h(a,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(a,s):a.__proto__=s)}var d=function(a){function s(){return l(this,s),m(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return h(s,a),n(s,[{key:"format",value:function(o,S){o!==c.blotName||S?y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,o,S):this.replaceWith(v.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(o,S){return this.parent.isolate(this.offset(this.parent),this.length()),o===this.parent.statics.blotName?(this.parent.replaceWith(o,S),this):(this.parent.unwrap(),y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"replaceWith",this).call(this,o,S))}}],[{key:"formats",value:function(o){return o.tagName===this.tagName?void 0:y(s.__proto__||Object.getPrototypeOf(s),"formats",this).call(this,o)}}]),s}(C.default);d.blotName="list-item",d.tagName="LI";var c=function(a){function s(r){l(this,s);var o=m(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,r)),S=function(x){if(x.target.parentNode===r){var P=o.statics.formats(r),g=v.default.find(x.target);"checked"===P?g.format("list","unchecked"):"unchecked"===P&&g.format("list","checked")}};return r.addEventListener("touchstart",S),r.addEventListener("mousedown",S),o}return h(s,a),n(s,null,[{key:"create",value:function(o){var S="ordered"===o?"OL":"UL",I=y(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,S);return("checked"===o||"unchecked"===o)&&I.setAttribute("data-checked","checked"===o),I}},{key:"formats",value:function(o){return"OL"===o.tagName?"ordered":"UL"===o.tagName?o.hasAttribute("data-checked")?"true"===o.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(s,[{key:"format",value:function(o,S){this.children.length>0&&this.children.tail.format(o,S)}},{key:"formats",value:function(){return function _(a,s,r){return s in a?Object.defineProperty(a,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[s]=r,a}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(o,S){if(o instanceof d)y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"insertBefore",this).call(this,o,S);else{var I=null==S?this.length():S.offset(this),x=this.split(I);x.parent.insertBefore(o,x)}}},{key:"optimize",value:function(o){y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"optimize",this).call(this,o);var S=this.next;null!=S&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(o){if(o.statics.blotName!==this.statics.blotName){var S=v.default.create(this.statics.defaultChild);o.moveChildren(S),this.appendChild(S)}y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"replace",this).call(this,o)}}]),s}(i.default);c.blotName="list",c.scope=v.default.Scope.BLOCK_BLOT,c.tagName=["OL","UL"],c.defaultChild="list-item",c.allowedChildren=[d],t.ListItem=d,t.default=c},function(K,t,e){"use strict";function v(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function O(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}Object.defineProperty(t,"__esModule",{value:!0});var E=function(i){function f(){return v(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function C(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),f}(function T(i){return i&&i.__esModule?i:{default:i}}(e(56)).default);E.blotName="italic",E.tagName=["EM","I"],t.default=E},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function _(l,m){for(var h=0;h<m.length;h++){var d=m[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,m,h){return m&&_(l.prototype,m),h&&_(l,h),l}}(),y=function _(l,m,h){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,m);if(void 0===d){var c=Object.getPrototypeOf(l);return null===c?void 0:_(c,m,h)}if("value"in d)return d.value;var a=d.get;return void 0===a?void 0:a.call(h)};function C(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}function E(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?_:l}var f=function(_){function l(){return C(this,l),E(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}(l,_),n(l,null,[{key:"create",value:function(h){return"super"===h?document.createElement("sup"):"sub"===h?document.createElement("sub"):y(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,h)}},{key:"formats",value:function(h){return"SUB"===h.tagName?"sub":"SUP"===h.tagName?"super":void 0}}]),l}(function O(_){return _&&_.__esModule?_:{default:_}}(e(6)).default);f.blotName="script",f.tagName=["SUB","SUP"],t.default=f},function(K,t,e){"use strict";function v(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function O(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}Object.defineProperty(t,"__esModule",{value:!0});var E=function(i){function f(){return v(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function C(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),f}(function T(i){return i&&i.__esModule?i:{default:i}}(e(6)).default);E.blotName="strike",E.tagName="S",t.default=E},function(K,t,e){"use strict";function v(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function O(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}Object.defineProperty(t,"__esModule",{value:!0});var E=function(i){function f(){return v(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function C(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),f}(function T(i){return i&&i.__esModule?i:{default:i}}(e(6)).default);E.blotName="underline",E.tagName="U",t.default=E},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function m(h,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}return function(h,d,c){return d&&m(h.prototype,d),c&&m(h,c),h}}(),y=function m(h,d,c){null===h&&(h=Function.prototype);var a=Object.getOwnPropertyDescriptor(h,d);if(void 0===a){var s=Object.getPrototypeOf(h);return null===s?void 0:m(s,d,c)}if("value"in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(c)},v=function C(m){return m&&m.__esModule?m:{default:m}}(e(0)),O=e(27);function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function i(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?m:h}var _=["alt","height","width"],l=function(m){function h(){return E(this,h),i(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function f(m,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}(h,m),n(h,[{key:"format",value:function(c,a){_.indexOf(c)>-1?a?this.domNode.setAttribute(c,a):this.domNode.removeAttribute(c):y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,c,a)}}],[{key:"create",value:function(c){var a=y(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,c);return"string"==typeof c&&a.setAttribute("src",this.sanitize(c)),a}},{key:"formats",value:function(c){return _.reduce(function(a,s){return c.hasAttribute(s)&&(a[s]=c.getAttribute(s)),a},{})}},{key:"match",value:function(c){return/\.(jpe?g|gif|png)$/.test(c)||/^data:image\/.+;base64/.test(c)}},{key:"sanitize",value:function(c){return(0,O.sanitize)(c,["http","https","data"])?c:"//:0"}},{key:"value",value:function(c){return c.getAttribute("src")}}]),h}(v.default.Embed);l.blotName="image",l.tagName="IMG",t.default=l},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function m(h,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}return function(h,d,c){return d&&m(h.prototype,d),c&&m(h,c),h}}(),y=function m(h,d,c){null===h&&(h=Function.prototype);var a=Object.getOwnPropertyDescriptor(h,d);if(void 0===a){var s=Object.getPrototypeOf(h);return null===s?void 0:m(s,d,c)}if("value"in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(c)},T=e(4),O=function C(m){return m&&m.__esModule?m:{default:m}}(e(27));function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function i(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?m:h}var _=["height","width"],l=function(m){function h(){return E(this,h),i(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function f(m,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}(h,m),n(h,[{key:"format",value:function(c,a){_.indexOf(c)>-1?a?this.domNode.setAttribute(c,a):this.domNode.removeAttribute(c):y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,c,a)}}],[{key:"create",value:function(c){var a=y(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,c);return a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("src",this.sanitize(c)),a}},{key:"formats",value:function(c){return _.reduce(function(a,s){return c.hasAttribute(s)&&(a[s]=c.getAttribute(s)),a},{})}},{key:"sanitize",value:function(c){return O.default.sanitize(c)}},{key:"value",value:function(c){return c.getAttribute("src")}}]),h}(T.BlockEmbed);l.blotName="video",l.className="ql-video",l.tagName="IFRAME",t.default=l},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function c(a,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,s,r){return s&&c(a.prototype,s),r&&c(a,r),a}}(),y=function c(a,s,r){null===a&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,s);if(void 0===o){var S=Object.getPrototypeOf(a);return null===S?void 0:c(S,s,r)}if("value"in o)return o.value;var I=o.get;return void 0===I?void 0:I.call(r)},v=f(e(35)),C=f(e(5)),i=f(e(9));function f(c){return c&&c.__esModule?c:{default:c}}function _(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}function l(c,a){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?c:a}function m(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var h=function(c){function a(){return _(this,a),l(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,c),n(a,null,[{key:"create",value:function(r){var o=y(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,r);return"string"==typeof r&&(window.katex.render(r,o,{throwOnError:!1,errorColor:"#f00"}),o.setAttribute("data-value",r)),o}},{key:"value",value:function(r){return r.getAttribute("data-value")}}]),a}(v.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var d=function(c){function a(){_(this,a);var s=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return s}return m(a,c),n(a,null,[{key:"register",value:function(){C.default.register(h,!0)}}]),a}(i.default);t.FormulaBlot=h,t.default=d},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function r(o,S){for(var I=0;I<S.length;I++){var x=S[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(o,x.key,x)}}return function(o,S,I){return S&&r(o.prototype,S),I&&r(o,I),o}}(),y=function r(o,S,I){null===o&&(o=Function.prototype);var x=Object.getOwnPropertyDescriptor(o,S);if(void 0===x){var P=Object.getPrototypeOf(o);return null===P?void 0:r(P,S,I)}if("value"in x)return x.value;var g=x.get;return void 0===g?void 0:g.call(I)},v=l(e(0)),C=l(e(5)),i=l(e(9));function l(r){return r&&r.__esModule?r:{default:r}}function m(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function h(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}function d(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var c=function(r){function o(){return m(this,o),h(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return d(o,r),n(o,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),y(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=I(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),o}(l(e(13)).default);c.className="ql-syntax";var a=new v.default.Attributor.Class("token","hljs",{scope:v.default.Scope.INLINE}),s=function(r){function o(S,I){m(this,o);var x=h(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,S,I));if("function"!=typeof x.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return x.quill.on(C.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){x.highlight(),P=null},x.options.interval)}),x.highlight(),x}return d(o,r),n(o,null,[{key:"register",value:function(){C.default.register(a,!0),C.default.register(c,!0)}}]),n(o,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(C.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(P){P.highlight(I.options.highlight)}),this.quill.update(C.default.sources.SILENT),null!=x&&this.quill.setSelection(x,C.default.sources.SILENT)}}}]),o}(i.default);s.DEFAULTS={highlight:null==window.hljs?null:function(r){return window.hljs.highlightAuto(r).value},interval:1e3},t.CodeBlock=c,t.CodeToken=a,t.default=s},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(K,t){K.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(K,t){K.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(K,t){K.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(K,t){K.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(K,t){K.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(K,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function o(S,I,x){null===S&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,I);if(void 0===P){var g=Object.getPrototypeOf(S);return null===g?void 0:o(g,I,x)}if("value"in P)return P.value;var u=P.get;return void 0===u?void 0:u.call(x)},y=function(){function o(S,I){for(var x=0;x<I.length;x++){var P=I[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,I,x){return I&&o(S.prototype,I),x&&o(S,x),S}}(),v=m(e(3)),C=m(e(8)),E=e(43),i=m(E),f=e(15),l=m(e(41));function m(o){return o&&o.__esModule?o:{default:o}}function h(o,S){if(!(o instanceof S))throw new TypeError("Cannot call a class as a function")}function d(o,S){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?o:S}function c(o,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);o.prototype=Object.create(S&&S.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(o,S):o.__proto__=S)}var a=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],s=function(o){function S(I,x){h(this,S),null!=x.modules.toolbar&&null==x.modules.toolbar.container&&(x.modules.toolbar.container=a);var P=d(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I,x));return P.quill.container.classList.add("ql-bubble"),P}return c(S,o),y(S,[{key:"extendToolbar",value:function(x){this.tooltip=new r(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),l.default)}}]),S}(i.default);s.DEFAULTS=(0,v.default)(!0,{},i.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var r=function(o){function S(I,x){h(this,S);var P=d(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I,x));return P.quill.on(C.default.events.EDITOR_CHANGE,function(g,u,M,R){if(g===C.default.events.SELECTION_CHANGE)if(null!=u&&u.length>0&&R===C.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var w=P.quill.getLines(u.index,u.length);if(1===w.length)P.position(P.quill.getBounds(u));else{var F=w[w.length-1],B=P.quill.getIndex(F),H=Math.min(F.length()-1,u.index+u.length-B),$=P.quill.getBounds(new f.Range(B,H));P.position($)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return c(S,o),y(S,[{key:"listen",value:function(){var x=this;n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(C.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var P=x.quill.getSelection();null!=P&&x.position(x.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var P=n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,x),g=this.root.querySelector(".ql-tooltip-arrow");if(g.style.marginLeft="",0===P)return P;g.style.marginLeft=-1*P-g.offsetWidth/2+"px"}}]),S}(E.BaseTooltip);r.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=r,t.default=s},function(K,t,e){K.exports=e(63)}]).default},591:(Je,K,t)=>{"use strict";t.d(K,{X:()=>y});var e=t(8929),n=t(5279);class y extends e.xQ{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const O=super._subscribe(v);return O&&!O.closed&&v.next(this._value),O}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.N;return this._value}next(v){super.next(this._value=v)}}},9312:(Je,K,t)=>{"use strict";t.d(K,{P:()=>v});var e=t(8896),n=t(1086),y=t(1737);class v{constructor(C,E,i){this.kind=C,this.value=E,this.error=i,this.hasValue="N"===C}observe(C){switch(this.kind){case"N":return C.next&&C.next(this.value);case"E":return C.error&&C.error(this.error);case"C":return C.complete&&C.complete()}}do(C,E,i){switch(this.kind){case"N":return C&&C(this.value);case"E":return E&&E(this.error);case"C":return i&&i()}}accept(C,E,i){return C&&"function"==typeof C.next?this.observe(C):this.do(C,E,i)}toObservable(){switch(this.kind){case"N":return(0,n.of)(this.value);case"E":return(0,y._)(this.error);case"C":return(0,e.c)()}throw new Error("unexpected notification kind value")}static createNext(C){return typeof C<"u"?new v("N",C):v.undefinedValueNotification}static createError(C){return new v("E",void 0,C)}static createComplete(){return v.completeNotification}}v.completeNotification=new v("C"),v.undefinedValueNotification=new v("N",void 0)},6498:(Je,K,t)=>{"use strict";t.d(K,{y:()=>i});var e=t(3489),y=t(7668),T=t(3292),O=t(3821),C=t(4843),E=t(2830);let i=(()=>{class _{constructor(m){this._isScalar=!1,m&&(this._subscribe=m)}lift(m){const h=new _;return h.source=this,h.operator=m,h}subscribe(m,h,d){const{operator:c}=this,a=function v(_,l,m){if(_){if(_ instanceof e.L)return _;if(_[y.b])return _[y.b]()}return _||l||m?new e.L(_,l,m):new e.L(T.c)}(m,h,d);if(a.add(c?c.call(a,this.source):this.source||E.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),E.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(m){try{return this._subscribe(m)}catch(h){E.v.useDeprecatedSynchronousErrorHandling&&(m.syncErrorThrown=!0,m.syncErrorValue=h),function n(_){for(;_;){const{closed:l,destination:m,isStopped:h}=_;if(l||h)return!1;_=m&&m instanceof e.L?m:null}return!0}(m)?m.error(h):console.warn(h)}}forEach(m,h){return new(h=f(h))((d,c)=>{let a;a=this.subscribe(s=>{try{m(s)}catch(r){c(r),a&&a.unsubscribe()}},c,d)})}_subscribe(m){const{source:h}=this;return h&&h.subscribe(m)}[O.L](){return this}pipe(...m){return 0===m.length?this:(0,C.U)(m)(this)}toPromise(m){return new(m=f(m))((h,d)=>{let c;this.subscribe(a=>c=a,a=>d(a),()=>h(c))})}}return _.create=l=>new _(l),_})();function f(_){if(_||(_=E.v.Promise||Promise),!_)throw new Error("no Promise impl found");return _}},3292:(Je,K,t)=>{"use strict";t.d(K,{c:()=>y});var e=t(2830),n=t(2782);const y={closed:!0,next(T){},error(T){if(e.v.useDeprecatedSynchronousErrorHandling)throw T;(0,n.z)(T)},complete(){}}},6831:(Je,K,t)=>{"use strict";t.d(K,{t:()=>a});var e=t(8929),n=t(6686),T=t(2268);const C=new class v extends T.v{}(class y extends n.o{constructor(o,S){super(o,S),this.scheduler=o,this.work=S}schedule(o,S=0){return S>0?super.schedule(o,S):(this.delay=S,this.state=o,this.scheduler.flush(this),this)}execute(o,S){return S>0||this.closed?super.execute(o,S):this._execute(o,S)}requestAsyncId(o,S,I=0){return null!==I&&I>0||null===I&&this.delay>0?super.requestAsyncId(o,S,I):o.flush(this)}});var E=t(2654),i=t(3489),f=t(9312);class m extends i.L{constructor(o,S,I=0){super(o),this.scheduler=S,this.delay=I}static dispatch(o){const{notification:S,destination:I}=o;S.observe(I),this.unsubscribe()}scheduleMessage(o){this.destination.add(this.scheduler.schedule(m.dispatch,this.delay,new h(o,this.destination)))}_next(o){this.scheduleMessage(f.P.createNext(o))}_error(o){this.scheduleMessage(f.P.createError(o)),this.unsubscribe()}_complete(){this.scheduleMessage(f.P.createComplete()),this.unsubscribe()}}class h{constructor(o,S){this.notification=o,this.destination=S}}var d=t(5279),c=t(5283);class a extends e.xQ{constructor(o=Number.POSITIVE_INFINITY,S=Number.POSITIVE_INFINITY,I){super(),this.scheduler=I,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=o<1?1:o,this._windowTime=S<1?1:S,S===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(o){if(!this.isStopped){const S=this._events;S.push(o),S.length>this._bufferSize&&S.shift()}super.next(o)}nextTimeWindow(o){this.isStopped||(this._events.push(new s(this._getNow(),o)),this._trimBufferThenGetEvents()),super.next(o)}_subscribe(o){const S=this._infiniteTimeWindow,I=S?this._events:this._trimBufferThenGetEvents(),x=this.scheduler,P=I.length;let g;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?g=E.w.EMPTY:(this.observers.push(o),g=new c.W(this,o)),x&&o.add(o=new m(o,x)),S)for(let u=0;u<P&&!o.closed;u++)o.next(I[u]);else for(let u=0;u<P&&!o.closed;u++)o.next(I[u].value);return this.hasError?o.error(this.thrownError):this.isStopped&&o.complete(),g}_getNow(){return(this.scheduler||C).now()}_trimBufferThenGetEvents(){const o=this._getNow(),S=this._bufferSize,I=this._windowTime,x=this._events,P=x.length;let g=0;for(;g<P&&!(o-x[g].time<I);)g++;return P>S&&(g=Math.max(g,P-S)),g>0&&x.splice(0,g),x}}class s{constructor(o,S){this.time=o,this.value=S}}},8929:(Je,K,t)=>{"use strict";t.d(K,{Yc:()=>C,ug:()=>i,xQ:()=>E});var e=t(6498),n=t(3489),y=t(2654),T=t(5279),v=t(5283),O=t(7668);class C extends n.L{constructor(_){super(_),this.destination=_}}let E=(()=>{class f extends e.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[O.b](){return new C(this)}lift(l){const m=new i(this,this);return m.operator=l,m}next(l){if(this.closed)throw new T.N;if(!this.isStopped){const{observers:m}=this,h=m.length,d=m.slice();for(let c=0;c<h;c++)d[c].next(l)}}error(l){if(this.closed)throw new T.N;this.hasError=!0,this.thrownError=l,this.isStopped=!0;const{observers:m}=this,h=m.length,d=m.slice();for(let c=0;c<h;c++)d[c].error(l);this.observers.length=0}complete(){if(this.closed)throw new T.N;this.isStopped=!0;const{observers:l}=this,m=l.length,h=l.slice();for(let d=0;d<m;d++)h[d].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(l){if(this.closed)throw new T.N;return super._trySubscribe(l)}_subscribe(l){if(this.closed)throw new T.N;return this.hasError?(l.error(this.thrownError),y.w.EMPTY):this.isStopped?(l.complete(),y.w.EMPTY):(this.observers.push(l),new v.W(this,l))}asObservable(){const l=new e.y;return l.source=this,l}}return f.create=(_,l)=>new i(_,l),f})();class i extends E{constructor(_,l){super(),this.destination=_,this.source=l}next(_){const{destination:l}=this;l&&l.next&&l.next(_)}error(_){const{destination:l}=this;l&&l.error&&this.destination.error(_)}complete(){const{destination:_}=this;_&&_.complete&&this.destination.complete()}_subscribe(_){const{source:l}=this;return l?this.source.subscribe(_):y.w.EMPTY}}},5283:(Je,K,t)=>{"use strict";t.d(K,{W:()=>n});var e=t(2654);class n extends e.w{constructor(T,v){super(),this.subject=T,this.subscriber=v,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const T=this.subject,v=T.observers;if(this.subject=null,!v||0===v.length||T.isStopped||T.closed)return;const O=v.indexOf(this.subscriber);-1!==O&&v.splice(O,1)}}},3489:(Je,K,t)=>{"use strict";t.d(K,{L:()=>C});var e=t(7043),n=t(3292),y=t(2654),T=t(7668),v=t(2830),O=t(2782);class C extends y.w{constructor(f,_,l){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.c;break;case 1:if(!f){this.destination=n.c;break}if("object"==typeof f){f instanceof C?(this.syncErrorThrowable=f.syncErrorThrowable,this.destination=f,f.add(this)):(this.syncErrorThrowable=!0,this.destination=new E(this,f));break}default:this.syncErrorThrowable=!0,this.destination=new E(this,f,_,l)}}[T.b](){return this}static create(f,_,l){const m=new C(f,_,l);return m.syncErrorThrowable=!1,m}next(f){this.isStopped||this._next(f)}error(f){this.isStopped||(this.isStopped=!0,this._error(f))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(f){this.destination.next(f)}_error(f){this.destination.error(f),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:f}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=f,this}}class E extends C{constructor(f,_,l,m){super(),this._parentSubscriber=f;let h,d=this;(0,e.m)(_)?h=_:_&&(h=_.next,l=_.error,m=_.complete,_!==n.c&&(d=Object.create(_),(0,e.m)(d.unsubscribe)&&this.add(d.unsubscribe.bind(d)),d.unsubscribe=this.unsubscribe.bind(this))),this._context=d,this._next=h,this._error=l,this._complete=m}next(f){if(!this.isStopped&&this._next){const{_parentSubscriber:_}=this;v.v.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable?this.__tryOrSetError(_,this._next,f)&&this.unsubscribe():this.__tryOrUnsub(this._next,f)}}error(f){if(!this.isStopped){const{_parentSubscriber:_}=this,{useDeprecatedSynchronousErrorHandling:l}=v.v;if(this._error)l&&_.syncErrorThrowable?(this.__tryOrSetError(_,this._error,f),this.unsubscribe()):(this.__tryOrUnsub(this._error,f),this.unsubscribe());else if(_.syncErrorThrowable)l?(_.syncErrorValue=f,_.syncErrorThrown=!0):(0,O.z)(f),this.unsubscribe();else{if(this.unsubscribe(),l)throw f;(0,O.z)(f)}}}complete(){if(!this.isStopped){const{_parentSubscriber:f}=this;if(this._complete){const _=()=>this._complete.call(this._context);v.v.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable?(this.__tryOrSetError(f,_),this.unsubscribe()):(this.__tryOrUnsub(_),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(f,_){try{f.call(this._context,_)}catch(l){if(this.unsubscribe(),v.v.useDeprecatedSynchronousErrorHandling)throw l;(0,O.z)(l)}}__tryOrSetError(f,_,l){if(!v.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{_.call(this._context,l)}catch(m){return v.v.useDeprecatedSynchronousErrorHandling?(f.syncErrorValue=m,f.syncErrorThrown=!0,!0):((0,O.z)(m),!0)}return!1}_unsubscribe(){const{_parentSubscriber:f}=this;this._context=null,this._parentSubscriber=null,f.unsubscribe()}}},2654:(Je,K,t)=>{"use strict";t.d(K,{w:()=>O});var e=t(6688),n=t(7830),y=t(7043);const v=(()=>{function E(i){return Error.call(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((f,_)=>`${_+1}) ${f.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i,this}return E.prototype=Object.create(Error.prototype),E})();class O{constructor(i){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,i&&(this._ctorUnsubscribe=!0,this._unsubscribe=i)}unsubscribe(){let i;if(this.closed)return;let{_parentOrParents:f,_ctorUnsubscribe:_,_unsubscribe:l,_subscriptions:m}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,f instanceof O)f.remove(this);else if(null!==f)for(let h=0;h<f.length;++h)f[h].remove(this);if((0,y.m)(l)){_&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){i=h instanceof v?C(h.errors):[h]}}if((0,e.k)(m)){let h=-1,d=m.length;for(;++h<d;){const c=m[h];if((0,n.K)(c))try{c.unsubscribe()}catch(a){i=i||[],a instanceof v?i=i.concat(C(a.errors)):i.push(a)}}}if(i)throw new v(i)}add(i){let f=i;if(!i)return O.EMPTY;switch(typeof i){case"function":f=new O(i);case"object":if(f===this||f.closed||"function"!=typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;if(!(f instanceof O)){const m=f;f=new O,f._subscriptions=[m]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.")}let{_parentOrParents:_}=f;if(null===_)f._parentOrParents=this;else if(_ instanceof O){if(_===this)return f;f._parentOrParents=[_,this]}else{if(-1!==_.indexOf(this))return f;_.push(this)}const l=this._subscriptions;return null===l?this._subscriptions=[f]:l.push(f),f}remove(i){const f=this._subscriptions;if(f){const _=f.indexOf(i);-1!==_&&f.splice(_,1)}}}var E;function C(E){return E.reduce((i,f)=>i.concat(f instanceof v?f.errors:f),[])}O.EMPTY=((E=new O).closed=!0,E)},2830:(Je,K,t)=>{"use strict";t.d(K,{v:()=>n});let e=!1;const n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(y){if(y){const T=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+T.stack)}else e&&console.log("RxJS: Back to a better error behavior. Thank you. <3");e=y},get useDeprecatedSynchronousErrorHandling(){return e}}},1177:(Je,K,t)=>{"use strict";t.d(K,{Ds:()=>O,IY:()=>T,ft:()=>E});var e=t(3489),n=t(6498),y=t(9249);class T extends e.L{constructor(f){super(),this.parent=f}_next(f){this.parent.notifyNext(f)}_error(f){this.parent.notifyError(f),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class O extends e.L{notifyNext(f){this.destination.next(f)}notifyError(f){this.destination.error(f)}notifyComplete(){this.destination.complete()}}function E(i,f){if(f.closed)return;if(i instanceof n.y)return i.subscribe(f);let _;try{_=(0,y.s)(i)(f)}catch(l){f.error(l)}return _}},1762:(Je,K,t)=>{"use strict";t.d(K,{N:()=>O,c:()=>v});var e=t(8929),n=t(6498),y=t(2654),T=t(4327);class v extends n.y{constructor(_,l){super(),this.source=_,this.subjectFactory=l,this._refCount=0,this._isComplete=!1}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let _=this._connection;return _||(this._isComplete=!1,_=this._connection=new y.w,_.add(this.source.subscribe(new C(this.getSubject(),this))),_.closed&&(this._connection=null,_=y.w.EMPTY)),_}refCount(){return(0,T.x)()(this)}}const O=(()=>{const f=v.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}}})();class C extends e.Yc{constructor(_,l){super(_),this.connectable=l}_error(_){this._unsubscribe(),super._error(_)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const _=this.connectable;if(_){this.connectable=null;const l=_._connection;_._refCount=0,_._subject=null,_._connection=null,l&&l.unsubscribe()}}}},3426:(Je,K,t)=>{"use strict";t.d(K,{aj:()=>_});var e=t(2866),n=t(6688),y=t(3489);class T extends y.L{notifyNext(d,c,a,s,r){this.destination.next(c)}notifyError(d,c){this.destination.error(d)}notifyComplete(d){this.destination.complete()}}class v extends y.L{constructor(d,c,a){super(),this.parent=d,this.outerValue=c,this.outerIndex=a,this.index=0}_next(d){this.parent.notifyNext(this.outerValue,d,this.outerIndex,this.index++,this)}_error(d){this.parent.notifyError(d,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var O=t(9249),C=t(6498);function E(h,d,c,a,s=new v(h,c,a)){if(!s.closed)return d instanceof C.y?d.subscribe(s):(0,O.s)(d)(s)}var i=t(3009);const f={};function _(...h){let d,c;return(0,e.K)(h[h.length-1])&&(c=h.pop()),"function"==typeof h[h.length-1]&&(d=h.pop()),1===h.length&&(0,n.k)(h[0])&&(h=h[0]),(0,i.n)(h,c).lift(new l(d))}class l{constructor(d){this.resultSelector=d}call(d,c){return c.subscribe(new m(d,this.resultSelector))}}class m extends T{constructor(d,c){super(d),this.resultSelector=c,this.active=0,this.values=[],this.observables=[]}_next(d){this.values.push(f),this.observables.push(d)}_complete(){const d=this.observables,c=d.length;if(0===c)this.destination.complete();else{this.active=c,this.toRespond=c;for(let a=0;a<c;a++)this.add(E(this,d[a],void 0,a))}}notifyComplete(d){0==(this.active-=1)&&this.destination.complete()}notifyNext(d,c,a){const s=this.values,o=this.toRespond?s[a]===f?--this.toRespond:this.toRespond:0;s[a]=c,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(d){let c;try{c=this.resultSelector.apply(this,d)}catch(a){return void this.destination.error(a)}this.destination.next(c)}}},1221:(Je,K,t)=>{"use strict";t.d(K,{z:()=>T});var e=t(1086),n=t(9146);function T(...v){return function y(){return(0,n.J)(1)}()((0,e.of)(...v))}},8514:(Je,K,t)=>{"use strict";t.d(K,{P:()=>T});var e=t(6498),n=t(5254),y=t(8896);function T(v){return new e.y(O=>{let C;try{C=v()}catch(i){return void O.error(i)}return(C?(0,n.D)(C):(0,y.c)()).subscribe(O)})}},8896:(Je,K,t)=>{"use strict";t.d(K,{E:()=>n,c:()=>y});var e=t(6498);const n=new e.y(v=>v.complete());function y(v){return v?function T(v){return new e.y(O=>v.schedule(()=>O.complete()))}(v):n}},567:(Je,K,t)=>{"use strict";t.d(K,{D:()=>O});var e=t(6498),n=t(6688),y=t(4850),T=t(7830),v=t(5254);function O(...E){if(1===E.length){const i=E[0];if((0,n.k)(i))return C(i,null);if((0,T.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const f=Object.keys(i);return C(f.map(_=>i[_]),f)}}if("function"==typeof E[E.length-1]){const i=E.pop();return C(E=1===E.length&&(0,n.k)(E[0])?E[0]:E,null).pipe((0,y.U)(f=>i(...f)))}return C(E,null)}function C(E,i){return new e.y(f=>{const _=E.length;if(0===_)return void f.complete();const l=new Array(_);let m=0,h=0;for(let d=0;d<_;d++){const c=(0,v.D)(E[d]);let a=!1;f.add(c.subscribe({next:s=>{a||(a=!0,h++),l[d]=s},error:s=>f.error(s),complete:()=>{m++,(m===_||!a)&&(h===_&&f.next(i?i.reduce((s,r,o)=>(s[r]=l[o],s),{}):l),f.complete())}}))}})}},5254:(Je,K,t)=>{"use strict";t.d(K,{D:()=>d});var e=t(6498),n=t(9249),y=t(2654),T=t(3821),C=t(6454),E=t(5430),_=t(8955),l=t(8515);function d(c,a){return a?function h(c,a){if(null!=c){if(function f(c){return c&&"function"==typeof c[T.L]}(c))return function v(c,a){return new e.y(s=>{const r=new y.w;return r.add(a.schedule(()=>{const o=c[T.L]();r.add(o.subscribe({next(S){r.add(a.schedule(()=>s.next(S)))},error(S){r.add(a.schedule(()=>s.error(S)))},complete(){r.add(a.schedule(()=>s.complete()))}}))})),r})}(c,a);if((0,_.t)(c))return function O(c,a){return new e.y(s=>{const r=new y.w;return r.add(a.schedule(()=>c.then(o=>{r.add(a.schedule(()=>{s.next(o),r.add(a.schedule(()=>s.complete()))}))},o=>{r.add(a.schedule(()=>s.error(o)))}))),r})}(c,a);if((0,l.z)(c))return(0,C.r)(c,a);if(function m(c){return c&&"function"==typeof c[E.hZ]}(c)||"string"==typeof c)return function i(c,a){if(!c)throw new Error("Iterable cannot be null");return new e.y(s=>{const r=new y.w;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(a.schedule(()=>{o=c[E.hZ](),r.add(a.schedule(function(){if(s.closed)return;let S,I;try{const x=o.next();S=x.value,I=x.done}catch(x){return void s.error(x)}I?s.complete():(s.next(S),this.schedule())}))})),r})}(c,a)}throw new TypeError((null!==c&&typeof c||c)+" is not observable")}(c,a):c instanceof e.y?c:new e.y((0,n.s)(c))}},3009:(Je,K,t)=>{"use strict";t.d(K,{n:()=>T});var e=t(6498),n=t(3650),y=t(6454);function T(v,O){return O?(0,y.r)(v,O):new e.y((0,n.V)(v))}},3753:(Je,K,t)=>{"use strict";t.d(K,{R:()=>O});var e=t(6498),n=t(6688),y=t(7043),T=t(4850);function O(_,l,m,h){return(0,y.m)(m)&&(h=m,m=void 0),h?O(_,l,m).pipe((0,T.U)(d=>(0,n.k)(d)?h(...d):h(d))):new e.y(d=>{C(_,l,function c(a){d.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},d,m)})}function C(_,l,m,h,d){let c;if(function f(_){return _&&"function"==typeof _.addEventListener&&"function"==typeof _.removeEventListener}(_)){const a=_;_.addEventListener(l,m,d),c=()=>a.removeEventListener(l,m,d)}else if(function i(_){return _&&"function"==typeof _.on&&"function"==typeof _.off}(_)){const a=_;_.on(l,m),c=()=>a.off(l,m)}else if(function E(_){return _&&"function"==typeof _.addListener&&"function"==typeof _.removeListener}(_)){const a=_;_.addListener(l,m),c=()=>a.removeListener(l,m)}else{if(!_||!_.length)throw new TypeError("Invalid event target");for(let a=0,s=_.length;a<s;a++)C(_[a],l,m,h,d)}h.add(c)}},6787:(Je,K,t)=>{"use strict";t.d(K,{T:()=>v});var e=t(6498),n=t(2866),y=t(9146),T=t(3009);function v(...O){let C=Number.POSITIVE_INFINITY,E=null,i=O[O.length-1];return(0,n.K)(i)?(E=O.pop(),O.length>1&&"number"==typeof O[O.length-1]&&(C=O.pop())):"number"==typeof i&&(C=O.pop()),null===E&&1===O.length&&O[0]instanceof e.y?O[0]:(0,y.J)(C)((0,T.n)(O,E))}},1086:(Je,K,t)=>{"use strict";t.d(K,{of:()=>T});var e=t(2866),n=t(3009),y=t(6454);function T(...v){let O=v[v.length-1];return(0,e.K)(O)?(v.pop(),(0,y.r)(v,O)):(0,n.n)(v)}},1737:(Je,K,t)=>{"use strict";t.d(K,{_:()=>n});var e=t(6498);function n(T,v){return new e.y(v?O=>v.schedule(y,0,{error:T,subscriber:O}):O=>O.error(T))}function y({error:T,subscriber:v}){v.error(T)}},7739:(Je,K,t)=>{"use strict";t.d(K,{H:()=>O});var e=t(6498),n=t(353),y=t(6688);function T(E){return!(0,y.k)(E)&&E-parseFloat(E)+1>=0}var v=t(2866);function O(E=0,i,f){let _=-1;return T(i)?_=Number(i)<1?1:Number(i):(0,v.K)(i)&&(f=i),(0,v.K)(f)||(f=n.P),new e.y(l=>{const m=T(E)?E:+E-f.now();return f.schedule(C,m,{index:0,period:_,subscriber:l})})}function C(E){const{index:i,period:f,subscriber:_}=E;if(_.next(i),!_.closed){if(-1===f)return _.complete();E.index=i+1,this.schedule(E,f)}}},7221:(Je,K,t)=>{"use strict";t.d(K,{K:()=>n});var e=t(1177);function n(v){return function(C){const E=new y(v),i=C.lift(E);return E.caught=i}}class y{constructor(O){this.selector=O}call(O,C){return C.subscribe(new T(O,this.selector,this.caught))}}class T extends e.Ds{constructor(O,C,E){super(O),this.selector=C,this.caught=E}error(O){if(!this.isStopped){let C;try{C=this.selector(O,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const E=new e.IY(this);this.add(E);const i=(0,e.ft)(C,E);i!==E&&this.add(i)}}}},1406:(Je,K,t)=>{"use strict";t.d(K,{b:()=>n});var e=t(1709);function n(y,T){return(0,e.zg)(y,T,1)}},13:(Je,K,t)=>{"use strict";t.d(K,{b:()=>y});var e=t(3489),n=t(353);function y(C,E=n.P){return i=>i.lift(new T(C,E))}class T{constructor(E,i){this.dueTime=E,this.scheduler=i}call(E,i){return i.subscribe(new v(E,this.dueTime,this.scheduler))}}class v extends e.L{constructor(E,i,f){super(E),this.dueTime=i,this.scheduler=f,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(E){this.clearDebounce(),this.lastValue=E,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(O,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:E}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(E)}}clearDebounce(){const E=this.debouncedSubscription;null!==E&&(this.remove(E),E.unsubscribe(),this.debouncedSubscription=null)}}function O(C){C.debouncedNext()}},7314:(Je,K,t)=>{"use strict";t.d(K,{d:()=>n});var e=t(3489);function n(v=null){return O=>O.lift(new y(v))}class y{constructor(O){this.defaultValue=O}call(O,C){return C.subscribe(new T(O,this.defaultValue))}}class T extends e.L{constructor(O,C){super(O),this.defaultValue=C,this.isEmpty=!0}_next(O){this.isEmpty=!1,this.destination.next(O)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8583:(Je,K,t)=>{"use strict";t.d(K,{g:()=>v});var e=t(353),y=t(3489),T=t(9312);function v(i,f=e.P){const l=function n(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-f.now():Math.abs(i);return m=>m.lift(new O(l,f))}class O{constructor(f,_){this.delay=f,this.scheduler=_}call(f,_){return _.subscribe(new C(f,this.delay,this.scheduler))}}class C extends y.L{constructor(f,_,l){super(f),this.delay=_,this.scheduler=l,this.queue=[],this.active=!1,this.errored=!1}static dispatch(f){const _=f.source,l=_.queue,m=f.scheduler,h=f.destination;for(;l.length>0&&l[0].time-m.now()<=0;)l.shift().notification.observe(h);if(l.length>0){const d=Math.max(0,l[0].time-m.now());this.schedule(f,d)}else this.unsubscribe(),_.active=!1}_schedule(f){this.active=!0,this.destination.add(f.schedule(C.dispatch,this.delay,{source:this,destination:this.destination,scheduler:f}))}scheduleNotification(f){if(!0===this.errored)return;const _=this.scheduler,l=new E(_.now()+this.delay,f);this.queue.push(l),!1===this.active&&this._schedule(_)}_next(f){this.scheduleNotification(T.P.createNext(f))}_error(f){this.errored=!0,this.queue=[],this.destination.error(f),this.unsubscribe()}_complete(){this.scheduleNotification(T.P.createComplete()),this.unsubscribe()}}class E{constructor(f,_){this.time=f,this.notification=_}}},5778:(Je,K,t)=>{"use strict";t.d(K,{x:()=>n});var e=t(3489);function n(v,O){return C=>C.lift(new y(v,O))}class y{constructor(O,C){this.compare=O,this.keySelector=C}call(O,C){return C.subscribe(new T(O,this.compare,this.keySelector))}}class T extends e.L{constructor(O,C,E){super(O),this.keySelector=E,this.hasKey=!1,"function"==typeof C&&(this.compare=C)}compare(O,C){return O===C}_next(O){let C;try{const{keySelector:i}=this;C=i?i(O):O}catch(i){return this.destination.error(i)}let E=!1;if(this.hasKey)try{const{compare:i}=this;E=i(this.key,C)}catch(i){return this.destination.error(i)}else this.hasKey=!0;E||(this.key=C,this.destination.next(O))}}},9184:(Je,K,t)=>{"use strict";t.d(K,{g:()=>n});var e=t(5778);function n(y,T){return(0,e.x)((v,O)=>T?T(v[y],O[y]):v[y]===O[y])}},2198:(Je,K,t)=>{"use strict";t.d(K,{h:()=>n});var e=t(3489);function n(v,O){return function(E){return E.lift(new y(v,O))}}class y{constructor(O,C){this.predicate=O,this.thisArg=C}call(O,C){return C.subscribe(new T(O,this.predicate,this.thisArg))}}class T extends e.L{constructor(O,C,E){super(O),this.predicate=C,this.thisArg=E,this.count=0}_next(O){let C;try{C=this.predicate.call(this.thisArg,O,this.count++)}catch(E){return void this.destination.error(E)}C&&this.destination.next(O)}}},7224:(Je,K,t)=>{"use strict";t.d(K,{P:()=>C});var e=t(4450),n=t(2198),y=t(2986),T=t(7314),v=t(4907),O=t(5379);function C(E,i){const f=arguments.length>=2;return _=>_.pipe(E?(0,n.h)((l,m)=>E(l,m,_)):O.y,(0,y.q)(1),f?(0,T.d)(i):(0,v.T)(()=>new e.K))}},4850:(Je,K,t)=>{"use strict";t.d(K,{U:()=>n});var e=t(3489);function n(v,O){return function(E){if("function"!=typeof v)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return E.lift(new y(v,O))}}class y{constructor(O,C){this.project=O,this.thisArg=C}call(O,C){return C.subscribe(new T(O,this.project,this.thisArg))}}class T extends e.L{constructor(O,C,E){super(O),this.project=C,this.count=0,this.thisArg=E||this}_next(O){let C;try{C=this.project.call(this.thisArg,O,this.count++)}catch(E){return void this.destination.error(E)}this.destination.next(C)}}},9146:(Je,K,t)=>{"use strict";t.d(K,{J:()=>y});var e=t(1709),n=t(5379);function y(T=Number.POSITIVE_INFINITY){return(0,e.zg)(n.y,T)}},1709:(Je,K,t)=>{"use strict";t.d(K,{zg:()=>T});var e=t(4850),n=t(5254),y=t(1177);function T(E,i,f=Number.POSITIVE_INFINITY){return"function"==typeof i?_=>_.pipe(T((l,m)=>(0,n.D)(E(l,m)).pipe((0,e.U)((h,d)=>i(l,h,m,d))),f)):("number"==typeof i&&(f=i),_=>_.lift(new v(E,f)))}class v{constructor(i,f=Number.POSITIVE_INFINITY){this.project=i,this.concurrent=f}call(i,f){return f.subscribe(new O(i,this.project,this.concurrent))}}class O extends y.Ds{constructor(i,f,_=Number.POSITIVE_INFINITY){super(i),this.project=f,this.concurrent=_,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(i){this.active<this.concurrent?this._tryNext(i):this.buffer.push(i)}_tryNext(i){let f;const _=this.index++;try{f=this.project(i,_)}catch(l){return void this.destination.error(l)}this.active++,this._innerSub(f)}_innerSub(i){const f=new y.IY(this),_=this.destination;_.add(f);const l=(0,y.ft)(i,f);l!==f&&_.add(l)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(i){this.destination.next(i)}notifyComplete(){const i=this.buffer;this.active--,i.length>0?this._next(i.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(Je,K,t)=>{"use strict";t.d(K,{O:()=>n});var e=t(1762);function n(T,v){return function(C){let E;if(E="function"==typeof T?T:function(){return T},"function"==typeof v)return C.lift(new y(E,v));const i=Object.create(C,e.N);return i.source=C,i.subjectFactory=E,i}}class y{constructor(v,O){this.subjectFactory=v,this.selector=O}call(v,O){const{selector:C}=this,E=this.subjectFactory(),i=C(E).subscribe(v);return i.add(O.subscribe(E)),i}}},4327:(Je,K,t)=>{"use strict";t.d(K,{x:()=>n});var e=t(3489);function n(){return function(O){return O.lift(new y(O))}}class y{constructor(O){this.connectable=O}call(O,C){const{connectable:E}=this;E._refCount++;const i=new T(O,E),f=C.subscribe(i);return i.closed||(i.connection=E.connect()),f}}class T extends e.L{constructor(O,C){super(O),this.connectable=C}_unsubscribe(){const{connectable:O}=this;if(!O)return void(this.connection=null);this.connectable=null;const C=O._refCount;if(C<=0)return void(this.connection=null);if(O._refCount=C-1,C>1)return void(this.connection=null);const{connection:E}=this,i=O._connection;this.connection=null,i&&(!E||i===E)&&i.unsubscribe()}}},5154:(Je,K,t)=>{"use strict";t.d(K,{d:()=>n});var e=t(6831);function n(T,v,O){let C;return C=T&&"object"==typeof T?T:{bufferSize:T,windowTime:v,refCount:!1,scheduler:O},E=>E.lift(function y({bufferSize:T=Number.POSITIVE_INFINITY,windowTime:v=Number.POSITIVE_INFINITY,refCount:O,scheduler:C}){let E,f,i=0,_=!1,l=!1;return function(h){let d;i++,!E||_?(_=!1,E=new e.t(T,v,C),d=E.subscribe(this),f=h.subscribe({next(c){E.next(c)},error(c){_=!0,E.error(c)},complete(){l=!0,f=void 0,E.complete()}}),l&&(f=void 0)):d=E.subscribe(this),this.add(()=>{i--,d.unsubscribe(),d=void 0,f&&!l&&O&&0===i&&(f.unsubscribe(),f=void 0,E=void 0)})}}(C))}},1307:(Je,K,t)=>{"use strict";t.d(K,{T:()=>n});var e=t(3489);function n(v){return O=>O.lift(new y(v))}class y{constructor(O){this.total=O}call(O,C){return C.subscribe(new T(O,this.total))}}class T extends e.L{constructor(O,C){super(O),this.total=C,this.count=0}_next(O){++this.count>this.total&&this.destination.next(O)}}},1059:(Je,K,t)=>{"use strict";t.d(K,{O:()=>y});var e=t(1221),n=t(2866);function y(...T){const v=T[T.length-1];return(0,n.K)(v)?(T.pop(),O=>(0,e.z)(T,O,v)):O=>(0,e.z)(T,O)}},7545:(Je,K,t)=>{"use strict";t.d(K,{w:()=>T});var e=t(4850),n=t(5254),y=t(1177);function T(C,E){return"function"==typeof E?i=>i.pipe(T((f,_)=>(0,n.D)(C(f,_)).pipe((0,e.U)((l,m)=>E(f,l,_,m))))):i=>i.lift(new v(C))}class v{constructor(E){this.project=E}call(E,i){return i.subscribe(new O(E,this.project))}}class O extends y.Ds{constructor(E,i){super(E),this.project=i,this.index=0}_next(E){let i;const f=this.index++;try{i=this.project(E,f)}catch(_){return void this.destination.error(_)}this._innerSub(i)}_innerSub(E){const i=this.innerSubscription;i&&i.unsubscribe();const f=new y.IY(this),_=this.destination;_.add(f),this.innerSubscription=(0,y.ft)(E,f),this.innerSubscription!==f&&_.add(this.innerSubscription)}_complete(){const{innerSubscription:E}=this;(!E||E.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(E){this.destination.next(E)}}},2986:(Je,K,t)=>{"use strict";t.d(K,{q:()=>T});var e=t(3489),n=t(4231),y=t(8896);function T(C){return E=>0===C?(0,y.c)():E.lift(new v(C))}class v{constructor(E){if(this.total=E,this.total<0)throw new n.W}call(E,i){return i.subscribe(new O(E,this.total))}}class O extends e.L{constructor(E,i){super(E),this.total=i,this.count=0}_next(E){const i=this.total,f=++this.count;f<=i&&(this.destination.next(E),f===i&&(this.destination.complete(),this.unsubscribe()))}}},7625:(Je,K,t)=>{"use strict";t.d(K,{R:()=>n});var e=t(1177);function n(v){return O=>O.lift(new y(v))}class y{constructor(O){this.notifier=O}call(O,C){const E=new T(O),i=(0,e.ft)(this.notifier,new e.IY(E));return i&&!E.seenValue?(E.add(i),C.subscribe(E)):E}}class T extends e.Ds{constructor(O){super(O),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(Je,K,t)=>{"use strict";t.d(K,{o:()=>n});var e=t(3489);function n(v,O=!1){return C=>C.lift(new y(v,O))}class y{constructor(O,C){this.predicate=O,this.inclusive=C}call(O,C){return C.subscribe(new T(O,this.predicate,this.inclusive))}}class T extends e.L{constructor(O,C,E){super(O),this.predicate=C,this.inclusive=E,this.index=0}_next(O){const C=this.destination;let E;try{E=this.predicate(O,this.index++)}catch(i){return void C.error(i)}this.nextOrComplete(O,E)}nextOrComplete(O,C){const E=this.destination;Boolean(C)?E.next(O):(this.inclusive&&E.next(O),E.complete())}}},2994:(Je,K,t)=>{"use strict";t.d(K,{b:()=>T});var e=t(3489),n=t(7876),y=t(7043);function T(C,E,i){return function(_){return _.lift(new v(C,E,i))}}class v{constructor(E,i,f){this.nextOrObserver=E,this.error=i,this.complete=f}call(E,i){return i.subscribe(new O(E,this.nextOrObserver,this.error,this.complete))}}class O extends e.L{constructor(E,i,f,_){super(E),this._tapNext=n.Z,this._tapError=n.Z,this._tapComplete=n.Z,this._tapError=f||n.Z,this._tapComplete=_||n.Z,(0,y.m)(i)?(this._context=this,this._tapNext=i):i&&(this._context=i,this._tapNext=i.next||n.Z,this._tapError=i.error||n.Z,this._tapComplete=i.complete||n.Z)}_next(E){try{this._tapNext.call(this._context,E)}catch(i){return void this.destination.error(i)}this.destination.next(E)}_error(E){try{this._tapError.call(this._context,E)}catch(i){return void this.destination.error(i)}this.destination.error(E)}_complete(){try{this._tapComplete.call(this._context)}catch(E){return void this.destination.error(E)}return this.destination.complete()}}},4907:(Je,K,t)=>{"use strict";t.d(K,{T:()=>y});var e=t(4450),n=t(3489);function y(C=O){return E=>E.lift(new T(C))}class T{constructor(E){this.errorFactory=E}call(E,i){return i.subscribe(new v(E,this.errorFactory))}}class v extends n.L{constructor(E,i){super(E),this.errorFactory=i,this.hasValue=!1}_next(E){this.hasValue=!0,this.destination.next(E)}_complete(){if(this.hasValue)return this.destination.complete();{let E;try{E=this.errorFactory()}catch(i){E=i}this.destination.error(E)}}}function O(){return new e.K}},6454:(Je,K,t)=>{"use strict";t.d(K,{r:()=>y});var e=t(6498),n=t(2654);function y(T,v){return new e.y(O=>{const C=new n.w;let E=0;return C.add(v.schedule(function(){E!==T.length?(O.next(T[E++]),O.closed||C.add(this.schedule())):O.complete()})),C})}},6686:(Je,K,t)=>{"use strict";t.d(K,{o:()=>y});var e=t(2654);class n extends e.w{constructor(v,O){super()}schedule(v,O=0){return this}}class y extends n{constructor(v,O){super(v,O),this.scheduler=v,this.work=O,this.pending=!1}schedule(v,O=0){if(this.closed)return this;this.state=v;const C=this.id,E=this.scheduler;return null!=C&&(this.id=this.recycleAsyncId(E,C,O)),this.pending=!0,this.delay=O,this.id=this.id||this.requestAsyncId(E,this.id,O),this}requestAsyncId(v,O,C=0){return setInterval(v.flush.bind(v,this),C)}recycleAsyncId(v,O,C=0){if(null!==C&&this.delay===C&&!1===this.pending)return O;clearInterval(O)}execute(v,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const C=this._execute(v,O);if(C)return C;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(v,O){let E,C=!1;try{this.work(v)}catch(i){C=!0,E=!!i&&i||new Error(i)}if(C)return this.unsubscribe(),E}_unsubscribe(){const v=this.id,O=this.scheduler,C=O.actions,E=C.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==E&&C.splice(E,1),null!=v&&(this.id=this.recycleAsyncId(O,v,null)),this.delay=null}}},2268:(Je,K,t)=>{"use strict";t.d(K,{v:()=>n});let e=(()=>{class y{constructor(v,O=y.now){this.SchedulerAction=v,this.now=O}schedule(v,O=0,C){return new this.SchedulerAction(this,v).schedule(C,O)}}return y.now=()=>Date.now(),y})();class n extends e{constructor(T,v=e.now){super(T,()=>n.delegate&&n.delegate!==this?n.delegate.now():v()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(T,v=0,O){return n.delegate&&n.delegate!==this?n.delegate.schedule(T,v,O):super.schedule(T,v,O)}flush(T){const{actions:v}=this;if(this.active)return void v.push(T);let O;this.active=!0;do{if(O=T.execute(T.state,T.delay))break}while(T=v.shift());if(this.active=!1,O){for(;T=v.shift();)T.unsubscribe();throw O}}}},8139:(Je,K,t)=>{"use strict";t.d(K,{E:()=>_});let e=1;const n=Promise.resolve(),y={};function T(m){return m in y&&(delete y[m],!0)}const v={setImmediate(m){const h=e++;return y[h]=!0,n.then(()=>T(h)&&m()),h},clearImmediate(m){T(m)}};var C=t(6686),i=t(2268);const _=new class f extends i.v{flush(h){this.active=!0,this.scheduled=void 0;const{actions:d}=this;let c,a=-1,s=d.length;h=h||d.shift();do{if(c=h.execute(h.state,h.delay))break}while(++a<s&&(h=d.shift()));if(this.active=!1,c){for(;++a<s&&(h=d.shift());)h.unsubscribe();throw c}}}(class E extends C.o{constructor(h,d){super(h,d),this.scheduler=h,this.work=d}requestAsyncId(h,d,c=0){return null!==c&&c>0?super.requestAsyncId(h,d,c):(h.actions.push(this),h.scheduled||(h.scheduled=v.setImmediate(h.flush.bind(h,null))))}recycleAsyncId(h,d,c=0){if(null!==c&&c>0||null===c&&this.delay>0)return super.recycleAsyncId(h,d,c);0===h.actions.length&&(v.clearImmediate(d),h.scheduled=void 0)}})},353:(Je,K,t)=>{"use strict";t.d(K,{P:()=>T});var e=t(6686);const T=new(t(2268).v)(e.o)},5430:(Je,K,t)=>{"use strict";t.d(K,{hZ:()=>n});const n=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Je,K,t)=>{"use strict";t.d(K,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Je,K,t)=>{"use strict";t.d(K,{b:()=>e});const e="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Je,K,t)=>{"use strict";t.d(K,{W:()=>n});const n=(()=>{function y(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return y.prototype=Object.create(Error.prototype),y})()},4450:(Je,K,t)=>{"use strict";t.d(K,{K:()=>n});const n=(()=>{function y(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return y.prototype=Object.create(Error.prototype),y})()},5279:(Je,K,t)=>{"use strict";t.d(K,{N:()=>n});const n=(()=>{function y(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return y.prototype=Object.create(Error.prototype),y})()},2782:(Je,K,t)=>{"use strict";function e(n){setTimeout(()=>{throw n},0)}t.d(K,{z:()=>e})},5379:(Je,K,t)=>{"use strict";function e(n){return n}t.d(K,{y:()=>e})},6688:(Je,K,t)=>{"use strict";t.d(K,{k:()=>e});const e=Array.isArray||(n=>n&&"number"==typeof n.length)},8515:(Je,K,t)=>{"use strict";t.d(K,{z:()=>e});const e=n=>n&&"number"==typeof n.length&&"function"!=typeof n},7043:(Je,K,t)=>{"use strict";function e(n){return"function"==typeof n}t.d(K,{m:()=>e})},7830:(Je,K,t)=>{"use strict";function e(n){return null!==n&&"object"==typeof n}t.d(K,{K:()=>e})},4715:(Je,K,t)=>{"use strict";t.d(K,{b:()=>n});var e=t(6498);function n(y){return!!y&&(y instanceof e.y||"function"==typeof y.lift&&"function"==typeof y.subscribe)}},8955:(Je,K,t)=>{"use strict";function e(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}t.d(K,{t:()=>e})},2866:(Je,K,t)=>{"use strict";function e(n){return n&&"function"==typeof n.schedule}t.d(K,{K:()=>e})},7876:(Je,K,t)=>{"use strict";function e(){}t.d(K,{Z:()=>e})},4843:(Je,K,t)=>{"use strict";t.d(K,{U:()=>y,z:()=>n});var e=t(5379);function n(...T){return y(T)}function y(T){return 0===T.length?e.y:1===T.length?T[0]:function(O){return T.reduce((C,E)=>E(C),O)}}},9249:(Je,K,t)=>{"use strict";t.d(K,{s:()=>_});var e=t(3650),n=t(2782),T=t(5430),O=t(3821),E=t(8515),i=t(8955),f=t(7830);const _=l=>{if(l&&"function"==typeof l[O.L])return(l=>m=>{const h=l[O.L]();if("function"!=typeof h.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return h.subscribe(m)})(l);if((0,E.z)(l))return(0,e.V)(l);if((0,i.t)(l))return(l=>m=>(l.then(h=>{m.closed||(m.next(h),m.complete())},h=>m.error(h)).then(null,n.z),m))(l);if(l&&"function"==typeof l[T.hZ])return(l=>m=>{const h=l[T.hZ]();for(;;){let d;try{d=h.next()}catch(c){return m.error(c),m}if(d.done){m.complete();break}if(m.next(d.value),m.closed)break}return"function"==typeof h.return&&m.add(()=>{h.return&&h.return()}),m})(l);{const h=`You provided ${(0,f.K)(l)?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(h)}}},3650:(Je,K,t)=>{"use strict";t.d(K,{V:()=>e});const e=n=>y=>{for(let T=0,v=n.length;T<v&&!y.closed;T++)y.next(n[T]);y.complete()}},8940:function(Je){Je.exports=function(K){var t={};function e(n){if(t[n])return t[n].exports;var y=t[n]={i:n,l:!1,exports:{}};return K[n].call(y.exports,y,y.exports,e),y.l=!0,y.exports}return e.m=K,e.c=t,e.d=function(n,y,T){e.o(n,y)||Object.defineProperty(n,y,{enumerable:!0,get:T})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,y){if(1&y&&(n=e(n)),8&y||4&y&&"object"==typeof n&&n&&n.__esModule)return n;var T=Object.create(null);if(e.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:n}),2&y&&"string"!=typeof n)for(var v in n)e.d(T,v,function(O){return n[O]}.bind(null,v));return T},e.n=function(n){var y=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(y,"a",y),y},e.o=function(n,y){return Object.prototype.hasOwnProperty.call(n,y)},e.p="",e(e.s="./src/entries/core.ts")}({"./node_modules/process/browser.js":function(K,t){var n,y,e=K.exports={};function T(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function O(c){if(n===setTimeout)return setTimeout(c,0);if((n===T||!n)&&setTimeout)return n=setTimeout,setTimeout(c,0);try{return n(c,0)}catch{try{return n.call(null,c,0)}catch{return n.call(this,c,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:T}catch{n=T}try{y="function"==typeof clearTimeout?clearTimeout:v}catch{y=v}}();var f,E=[],i=!1,_=-1;function l(){!i||!f||(i=!1,f.length?E=f.concat(E):_=-1,E.length&&m())}function m(){if(!i){var c=O(l);i=!0;for(var a=E.length;a;){for(f=E,E=[];++_<a;)f&&f[_].run();_=-1,a=E.length}f=null,i=!1,function C(c){if(y===clearTimeout)return clearTimeout(c);if((y===v||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(c);try{return y(c)}catch{try{return y.call(null,c)}catch{return y.call(this,c)}}}(c)}}function h(c,a){this.fun=c,this.array=a}function d(){}e.nextTick=function(c){var a=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)a[s-1]=arguments[s];E.push(new h(c,a)),1===E.length&&!i&&O(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.prependListener=d,e.prependOnceListener=d,e.listeners=function(c){return[]},e.binding=function(c){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(c){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(K,t,e){(function(n,y){!function(T,v){"use strict";if(!T.setImmediate){var f,O=1,C={},E=!1,i=T.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(T);S=S&&S.setTimeout?S:T,"[object process]"==={}.toString.call(T.process)?function d(){f=function(I){y.nextTick(function(){h(I)})}}():function c(){if(T.postMessage&&!T.importScripts){var I=!0,x=T.onmessage;return T.onmessage=function(){I=!1},T.postMessage("","*"),T.onmessage=x,I}}()?function a(){var I="setImmediate$"+Math.random()+"$",x=function(P){P.source===T&&"string"==typeof P.data&&0===P.data.indexOf(I)&&h(+P.data.slice(I.length))};T.addEventListener?T.addEventListener("message",x,!1):T.attachEvent("onmessage",x),f=function(P){T.postMessage(I+P,"*")}}():T.MessageChannel?function s(){var I=new MessageChannel;I.port1.onmessage=function(x){h(x.data)},f=function(x){I.port2.postMessage(x)}}():i&&"onreadystatechange"in i.createElement("script")?function r(){var I=i.documentElement;f=function(x){var P=i.createElement("script");P.onreadystatechange=function(){h(x),P.onreadystatechange=null,I.removeChild(P),P=null},I.appendChild(P)}}():function o(){f=function(I){setTimeout(h,0,I)}}(),S.setImmediate=function _(I){"function"!=typeof I&&(I=new Function(""+I));for(var x=new Array(arguments.length-1),P=0;P<x.length;P++)x[P]=arguments[P+1];return C[O]={callback:I,args:x},f(O),O++},S.clearImmediate=l}function l(I){delete C[I]}function h(I){if(E)setTimeout(h,0,I);else{var x=C[I];if(x){E=!0;try{!function m(I){var x=I.callback,P=I.args;switch(P.length){case 0:x();break;case 1:x(P[0]);break;case 2:x(P[0],P[1]);break;case 3:x(P[0],P[1],P[2]);break;default:x.apply(void 0,P)}}(x)}finally{l(I),E=!1}}}}}(typeof self>"u"?typeof n>"u"?this:n:self)}).call(this,e("./node_modules/webpack/buildin/global.js"),e("./node_modules/process/browser.js"))},"./node_modules/signature_pad/dist/signature_pad.mjs":function(K,t,e){"use strict";function n(O,C,E){this.x=O,this.y=C,this.time=E||(new Date).getTime()}function y(O,C,E,i){this.startPoint=O,this.control1=C,this.control2=E,this.endPoint=i}function v(O,C){var E=this,i=C||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this._strokeMoveUpdate=this.throttle?function T(O,C,E){var i,f,_,l=null,m=0;E||(E={});var h=function(){m=!1===E.leading?0:Date.now(),l=null,_=O.apply(i,f),l||(i=f=null)};return function(){var d=Date.now();!m&&!1===E.leading&&(m=d);var c=C-(d-m);return i=this,f=arguments,c<=0||c>C?(l&&(clearTimeout(l),l=null),m=d,_=O.apply(i,f),l||(i=f=null)):!l&&!1!==E.trailing&&(l=setTimeout(h,c)),_}}(v.prototype._strokeUpdate,this.throttle):v.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=O,this._ctx=O.getContext("2d"),this.clear(),this._handleMouseDown=function(f){1===f.which&&(E._mouseButtonDown=!0,E._strokeBegin(f))},this._handleMouseMove=function(f){E._mouseButtonDown&&E._strokeMoveUpdate(f)},this._handleMouseUp=function(f){1===f.which&&E._mouseButtonDown&&(E._mouseButtonDown=!1,E._strokeEnd(f))},this._handleTouchStart=function(f){1===f.targetTouches.length&&E._strokeBegin(f.changedTouches[0])},this._handleTouchMove=function(f){f.preventDefault(),E._strokeMoveUpdate(f.targetTouches[0])},this._handleTouchEnd=function(f){f.target===E._canvas&&(f.preventDefault(),E._strokeEnd(f))},this.on()}e.r(t),n.prototype.velocityFrom=function(O){return this.time!==O.time?this.distanceTo(O)/(this.time-O.time):1},n.prototype.distanceTo=function(O){return Math.sqrt(Math.pow(this.x-O.x,2)+Math.pow(this.y-O.y,2))},n.prototype.equals=function(O){return this.x===O.x&&this.y===O.y&&this.time===O.time},y.prototype.length=function(){for(var C=0,E=void 0,i=void 0,f=0;f<=10;f+=1){var _=f/10,l=this._point(_,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),m=this._point(_,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(f>0){var h=l-E,d=m-i;C+=Math.sqrt(h*h+d*d)}E=l,i=m}return C},y.prototype._point=function(O,C,E,i,f){return C*(1-O)*(1-O)*(1-O)+3*E*(1-O)*(1-O)*O+3*i*(1-O)*O*O+f*O*O*O},v.prototype.clear=function(){var O=this._ctx,C=this._canvas;O.fillStyle=this.backgroundColor,O.clearRect(0,0,C.width,C.height),O.fillRect(0,0,C.width,C.height),this._data=[],this._reset(),this._isEmpty=!0},v.prototype.fromDataURL=function(O){var C=this,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,f=E.ratio||window.devicePixelRatio||1,_=E.width||this._canvas.width/f,l=E.height||this._canvas.height/f;this._reset(),i.src=O,i.onload=function(){C._ctx.drawImage(i,0,0,_,l)},this._isEmpty=!1},v.prototype.toDataURL=function(O){var C;if("image/svg+xml"===O)return this._toSVG();for(var E=arguments.length,i=Array(E>1?E-1:0),f=1;f<E;f++)i[f-1]=arguments[f];return(C=this._canvas).toDataURL.apply(C,[O].concat(i))},v.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},v.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},v.prototype.isEmpty=function(){return this._isEmpty},v.prototype._strokeBegin=function(O){this._data.push([]),this._reset(),this._strokeUpdate(O),"function"==typeof this.onBegin&&this.onBegin(O)},v.prototype._strokeUpdate=function(O){var i=this._createPoint(O.clientX,O.clientY),f=this._data[this._data.length-1],_=f&&f[f.length-1],l=_&&i.distanceTo(_)<this.minDistance;if(!_||!l){var m=this._addPoint(i),h=m.curve,d=m.widths;h&&d&&this._drawCurve(h,d.start,d.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},v.prototype._strokeEnd=function(O){var E=this.points[0];if(!(this.points.length>2)&&E&&this._drawDot(E),E){var i=this._data[this._data.length-1];E.equals(i[i.length-1])||i.push({x:E.x,y:E.y,time:E.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(O)},v.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},v.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},v.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},v.prototype._createPoint=function(O,C,E){var i=this._canvas.getBoundingClientRect();return new n(O-i.left,C-i.top,E||(new Date).getTime())},v.prototype._addPoint=function(O){var C=this.points,E=void 0;if(C.push(O),C.length>2){3===C.length&&C.unshift(C[0]);var i=(E=this._calculateCurveControlPoints(C[0],C[1],C[2])).c2;E=this._calculateCurveControlPoints(C[1],C[2],C[3]);var _=new y(C[1],i,E.c1,C[2]),l=this._calculateCurveWidths(_);return C.shift(),{curve:_,widths:l}}return{}},v.prototype._calculateCurveControlPoints=function(O,C,E){var i=O.x-C.x,f=O.y-C.y,_=C.x-E.x,l=C.y-E.y,m_x=(O.x+C.x)/2,m_y=(O.y+C.y)/2,h_x=(C.x+E.x)/2,h_y=(C.y+E.y)/2,d=Math.sqrt(i*i+f*f),c=Math.sqrt(_*_+l*l),r=c/(d+c),S=C.x-(h_x+(m_x-h_x)*r),I=C.y-(h_y+(m_y-h_y)*r);return{c1:new n(m_x+S,m_y+I),c2:new n(h_x+S,h_y+I)}},v.prototype._calculateCurveWidths=function(O){var i={start:null,end:null},f=this.velocityFilterWeight*O.endPoint.velocityFrom(O.startPoint)+(1-this.velocityFilterWeight)*this._lastVelocity,_=this._strokeWidth(f);return i.start=this._lastWidth,i.end=_,this._lastVelocity=f,this._lastWidth=_,i},v.prototype._strokeWidth=function(O){return Math.max(this.maxWidth/(O+1),this.minWidth)},v.prototype._drawPoint=function(O,C,E){var i=this._ctx;i.moveTo(O,C),i.arc(O,C,E,0,2*Math.PI,!1),this._isEmpty=!1},v.prototype._drawCurve=function(O,C,E){var i=this._ctx,f=E-C,_=Math.floor(O.length());i.beginPath();for(var l=0;l<_;l+=1){var m=l/_,h=m*m,d=h*m,c=1-m,a=c*c,s=a*c,r=s*O.startPoint.x;r+=3*a*m*O.control1.x,r+=3*c*h*O.control2.x;var o=s*O.startPoint.y;o+=3*a*m*O.control1.y,o+=3*c*h*O.control2.y,this._drawPoint(r+=d*O.endPoint.x,o+=d*O.endPoint.y,C+d*f)}i.closePath(),i.fill()},v.prototype._drawDot=function(O){var C=this._ctx,E="function"==typeof this.dotSize?this.dotSize():this.dotSize;C.beginPath(),this._drawPoint(O.x,O.y,E),C.closePath(),C.fill()},v.prototype._fromData=function(O,C,E){for(var i=0;i<O.length;i+=1){var f=O[i];if(f.length>1)for(var _=0;_<f.length;_+=1){var l=f[_],m=new n(l.x,l.y,l.time),h=l.color;if(0===_)this.penColor=h,this._reset(),this._addPoint(m);else if(_!==f.length-1){var d=this._addPoint(m),c=d.curve,a=d.widths;c&&a&&C(c,a,h)}}else this._reset(),E(f[0])}},v.prototype._toSVG=function(){var O=this,C=this._data,E=this._canvas,i=Math.max(window.devicePixelRatio||1,1),l=E.width/i,m=E.height/i,h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttributeNS(null,"width",E.width),h.setAttributeNS(null,"height",E.height),this._fromData(C,function(x,P,g){var u=document.createElement("path");if(!(isNaN(x.control1.x)||isNaN(x.control1.y)||isNaN(x.control2.x)||isNaN(x.control2.y))){var M="M "+x.startPoint.x.toFixed(3)+","+x.startPoint.y.toFixed(3)+" C "+x.control1.x.toFixed(3)+","+x.control1.y.toFixed(3)+" "+x.control2.x.toFixed(3)+","+x.control2.y.toFixed(3)+" "+x.endPoint.x.toFixed(3)+","+x.endPoint.y.toFixed(3);u.setAttribute("d",M),u.setAttribute("stroke-width",(2.25*P.end).toFixed(3)),u.setAttribute("stroke",g),u.setAttribute("fill","none"),u.setAttribute("stroke-linecap","round"),h.appendChild(u)}},function(x){var P=document.createElement("circle"),g="function"==typeof O.dotSize?O.dotSize():O.dotSize;P.setAttribute("r",g),P.setAttribute("cx",x.x),P.setAttribute("cy",x.y),P.setAttribute("fill",x.color),h.appendChild(P)});var c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+l+" "+m+'" width="'+l+'" height="'+m+'">',a=h.innerHTML;if(void 0===a){var s=document.createElement("dummy"),r=h.childNodes;s.innerHTML="";for(var o=0;o<r.length;o+=1)s.appendChild(r[o].cloneNode(!0));a=s.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+a+"</svg>")},v.prototype.fromData=function(O){var C=this;this.clear(),this._fromData(O,function(E,i){return C._drawCurve(E,i.start,i.end)},function(E){return C._drawDot(E)}),this._data=O},v.prototype.toData=function(){return this._data},t.default=v},"./node_modules/timers-browserify/main.js":function(K,t,e){(function(n){var y=typeof n<"u"&&n||typeof self<"u"&&self||window,T=Function.prototype.apply;function v(O,C){this._id=O,this._clearFn=C}t.setTimeout=function(){return new v(T.call(setTimeout,y,arguments),clearTimeout)},t.setInterval=function(){return new v(T.call(setInterval,y,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(O){O&&O.close()},v.prototype.unref=v.prototype.ref=function(){},v.prototype.close=function(){this._clearFn.call(y,this._id)},t.enroll=function(O,C){clearTimeout(O._idleTimeoutId),O._idleTimeout=C},t.unenroll=function(O){clearTimeout(O._idleTimeoutId),O._idleTimeout=-1},t._unrefActive=t.active=function(O){clearTimeout(O._idleTimeoutId);var C=O._idleTimeout;C>=0&&(O._idleTimeoutId=setTimeout(function(){O._onTimeout&&O._onTimeout()},C))},e("./node_modules/setimmediate/setImmediate.js"),t.setImmediate=typeof self<"u"&&self.setImmediate||typeof n<"u"&&n.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof n<"u"&&n.clearImmediate||this&&this.clearImmediate}).call(this,e("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(K,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}K.exports=e},"./src/actions/action.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"createDropdownActionModel",function(){return _}),e.d(t,"createDropdownActionModelAdvanced",function(){return l}),e.d(t,"Action",function(){return m}),e.d(t,"ActionDropdownViewModel",function(){return h});var d,n=e("./src/base.ts"),y=e("./src/surveyStrings.ts"),T=e("./src/jsonobject.ts"),v=e("./src/list.ts"),O=e("./src/popup.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=e("./src/actions/container.ts"),i=(d=function(c,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=c}d(c,a),c.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}),f=function(d,c,a,s){var S,r=arguments.length,o=r<3?c:null===s?s=Object.getOwnPropertyDescriptor(c,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(d,c,a,s);else for(var I=d.length-1;I>=0;I--)(S=d[I])&&(o=(r<3?S(o):r>3?S(c,a,o):S(c,a))||o);return r>3&&o&&Object.defineProperty(c,a,o),o};function _(d,c,a){return l(d,c,c,a)}function l(d,c,a,s){var r=new v.ListModel(c.items,function(x){c.onSelectionChanged(x),o.toggleVisibility()},c.allowSelection,c.selectedItem,c.onFilterStringChangedCallback);r.locOwner=s;var o=new O.PopupModel("sv-list",{model:r},a?.verticalPosition,a?.horizontalPosition,a?.showPointer,a?.isModal,a?.onCancel,a?.onApply,a?.onHide,a?.onShow,a?.cssClass,a?.title);o.displayMode=a?.displayMode;var S=Object.assign({},d,{component:"sv-action-bar-item-dropdown",popupModel:o,action:function(){d.action&&d.action(),o.toggleVisibility()}}),I=new m(S);return I.data=r,I}var m=function(d){function c(a){var s=d.call(this)||this;if(s.innerItem=a,s.iconSize=24,s.locTitleChanged=function(){s.setPropertyValue("title",s.locTitle.renderedHtml||void 0)},s.locTitle=a?a.locTitle:null,a)for(var r in a)s[r]=a[r];return s.locTitleName&&s.locTitleChanged(),s.locStrChangedInPopupModel(),s}return i(c,d),c.prototype.raiseUpdate=function(){this.updateCallback&&this.updateCallback()},c.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(c.prototype,"locTitle",{get:function(){return this.locTitleValue},set:function(a){!a&&!this.locTitleValue&&(a=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=a,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(a){this.locTitle.localizationName=a},enumerable:!1,configurable:!0}),c.prototype.locStrsChanged=function(){d.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},c.prototype.locStrChangedInPopupModel=function(){if(this.popupModel&&this.popupModel.contentComponentData&&this.popupModel.contentComponentData.model){var a=this.popupModel.contentComponentData.model;Array.isArray(a.actions)&&a.actions.forEach(function(r){r.locStrsChanged&&r.locStrsChanged()})}},c.prototype.locTooltipChanged=function(){!this.locTooltipName||(this.tooltip=y.surveyLocalization.getString(this.locTooltipName,this.locTitle.locale))},Object.defineProperty(c.prototype,"cssClasses",{get:function(){return this.cssClassesValue||E.defaultActionBarCss},set:function(a){this.cssClassesValue=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"disabled",{get:function(){return void 0!==this.enabled&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasTitle",{get:function(){return("small"!=this.mode&&(this.showTitle||void 0===this.showTitle)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isVisible",{get:function(){return this.visible&&"popup"!==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),c.prototype.getActionRootCss=function(){return(new C.CssClassBuilder).append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},c.prototype.getActionBarItemTitleCss=function(){return(new C.CssClassBuilder).append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},c.prototype.getActionBarItemCss=function(){return(new C.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},c.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},c.prototype.getMarkdownHtml=function(a,s){return this.owner?this.owner.getMarkdownHtml(a,s):void 0},c.prototype.getProcessedText=function(a){return this.owner?this.owner.getProcessedText(a):a},c.prototype.getRenderer=function(a){return this.owner?this.owner.getRenderer(a):null},c.prototype.getRendererContext=function(a){return this.owner?this.owner.getRendererContext(a):a},f([Object(T.property)()],c.prototype,"id",void 0),f([Object(T.property)()],c.prototype,"iconName",void 0),f([Object(T.property)()],c.prototype,"iconSize",void 0),f([Object(T.property)({defaultValue:!0,onSet:function(a,s){s.raiseUpdate()}})],c.prototype,"visible",void 0),f([Object(T.property)()],c.prototype,"tooltip",void 0),f([Object(T.property)({onSet:function(a,s){s.locTooltipChanged()}})],c.prototype,"locTooltipName",void 0),f([Object(T.property)()],c.prototype,"enabled",void 0),f([Object(T.property)()],c.prototype,"showTitle",void 0),f([Object(T.property)()],c.prototype,"action",void 0),f([Object(T.property)()],c.prototype,"css",void 0),f([Object(T.property)()],c.prototype,"innerCss",void 0),f([Object(T.property)()],c.prototype,"data",void 0),f([Object(T.property)()],c.prototype,"popupModel",void 0),f([Object(T.property)()],c.prototype,"needSeparator",void 0),f([Object(T.property)()],c.prototype,"active",void 0),f([Object(T.property)()],c.prototype,"pressed",void 0),f([Object(T.property)()],c.prototype,"template",void 0),f([Object(T.property)()],c.prototype,"component",void 0),f([Object(T.property)()],c.prototype,"items",void 0),f([Object(T.property)()],c.prototype,"visibleIndex",void 0),f([Object(T.property)({defaultValue:"large"})],c.prototype,"mode",void 0),f([Object(T.property)()],c.prototype,"disableTabStop",void 0),f([Object(T.property)()],c.prototype,"disableShrink",void 0),f([Object(T.property)()],c.prototype,"disableHide",void 0),f([Object(T.property)({defaultValue:!1})],c.prototype,"needSpace",void 0),f([Object(T.property)()],c.prototype,"ariaChecked",void 0),f([Object(T.property)({defaultValue:"button"})],c.prototype,"ariaRole",void 0),f([Object(T.property)({onSet:function(a,s){s.locTitleValue.text!==a&&(s.locTitleValue.text=a)}})],c.prototype,"title",void 0),c}(n.Base),h=function(){function d(c){this.item=c,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return d.prototype.setupPopupCallbacks=function(){var c=this,a=this.popupModel=this.item.popupModel;!a||a.registerPropertyChangedHandlers(["isVisible"],function(){c.item.pressed=!!a.isVisible},this.funcKey)},d.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},d.prototype.dispose=function(){this.removePopupCallbacks()},d}()},"./src/actions/adaptive-container.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"AdaptiveActionContainer",function(){return C});var E,n=e("./src/utils/responsivity-manager.ts"),y=e("./src/actions/action.ts"),T=e("./src/actions/container.ts"),v=e("./src/surveyStrings.ts"),O=(E=function(i,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,l){_.__proto__=l}||function(_,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(_[m]=l[m])})(i,f)},function(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),C=function(E){function i(){var f=E.call(this)||this;return f.minVisibleItemsCount=0,f.isResponsivenessDisabled=!1,f.dotsItem=Object(y.createDropdownActionModelAdvanced)({id:"dotsItem-id"+i.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:v.surveyLocalization.getString("more")},{items:[],onSelectionChanged:function(_){f.hiddenItemSelected(_)},allowSelection:!1}),f}return O(i,E),i.prototype.hideItemsGreaterN=function(f){var _=this.visibleActions.filter(function(m){return!m.disableHide});f=Math.max(f,this.minVisibleItemsCount)-(this.visibleActions.length-_.length);var l=[];_.forEach(function(m){f<=0&&(m.mode="popup",l.push(m.innerItem)),f--}),this.hiddenItemsListModel.setItems(l)},i.prototype.getVisibleItemsCount=function(f){for(var _=this.visibleActions.map(function(h){return h.minDimension}),l=0,m=0;m<_.length;m++)if((l+=_[m])>f)return m;return m},i.prototype.updateItemMode=function(f,_){for(var l=this.visibleActions,m=l.length-1;m>=0;m--)_>f&&!l[m].disableShrink?(_-=l[m].maxDimension-l[m].minDimension,l[m].mode="small"):l[m].mode="large"},Object.defineProperty(i.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),i.prototype.hiddenItemSelected=function(f){f&&"function"==typeof f.action&&f.action()},i.prototype.onSet=function(){var f=this;this.actions.forEach(function(_){return _.updateCallback=function(){return f.raiseUpdate(!1)}}),E.prototype.onSet.call(this)},i.prototype.onPush=function(f){var _=this;f.updateCallback=function(){return _.raiseUpdate(!1)},E.prototype.onPush.call(this,f)},i.prototype.getRenderedActions=function(){return 1===this.actions.length&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},i.prototype.raiseUpdate=function(f){this.isResponsivenessDisabled||E.prototype.raiseUpdate.call(this,f)},i.prototype.fit=function(f,_){if(!(f<=0)){this.dotsItem.visible=!1;var l=0,m=0;this.visibleActions.forEach(function(d){l+=d.minDimension,m+=d.maxDimension}),f>=m?this.setActionsMode("large"):f<l?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(f-_)),this.dotsItem.visible=!0):this.updateItemMode(f,m)}},i.prototype.initResponsivityManager=function(f){this.responsivityManager=new n.ResponsivityManager(f,this,".sv-action:not(.sv-dots)>.sv-action__content")},i.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},i.prototype.setActionsMode=function(f){this.actions.forEach(function(_){return _.mode=f})},i.prototype.dispose=function(){E.prototype.dispose.call(this),this.resetResponsivityManager()},i.ContainerID=1,i}(T.ActionContainer)},"./src/actions/container.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"defaultActionBarCss",function(){return i}),e.d(t,"ActionContainer",function(){return f});var _,n=e("./src/jsonobject.ts"),y=e("./src/base.ts"),T=e("./src/actions/action.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=e("./src/utils/utils.ts"),C=(_=function(l,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(h[c]=d[c])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function h(){this.constructor=l}_(l,m),l.prototype=null===m?Object.create(m):(h.prototype=m.prototype,new h)}),E=function(_,l,m,h){var a,d=arguments.length,c=d<3?l:null===h?h=Object.getOwnPropertyDescriptor(l,m):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(_,l,m,h);else for(var s=_.length-1;s>=0;s--)(a=_[s])&&(c=(d<3?a(c):d>3?a(l,m,c):a(l,m))||c);return d>3&&c&&Object.defineProperty(l,m,c),c},i={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},f=function(_){function l(){var m=null!==_&&_.apply(this,arguments)||this;return m.sizeMode="default",m}return C(l,_),l.prototype.getMarkdownHtml=function(m,h){return this.locOwner?this.locOwner.getMarkdownHtml(m,h):void 0},l.prototype.getRenderer=function(m){return this.locOwner?this.locOwner.getRenderer(m):null},l.prototype.getRendererContext=function(m){return this.locOwner?this.locOwner.getRendererContext(m):m},l.prototype.getProcessedText=function(m){return this.locOwner?this.locOwner.getProcessedText(m):m},l.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},l.prototype.getRenderedActions=function(){return this.actions},l.prototype.locStrsChanged=function(){_.prototype.locStrsChanged.call(this),this.actions.forEach(function(m){return m.locStrsChanged()})},l.prototype.raiseUpdate=function(m){this.isEmpty=!this.actions.some(function(h){return h.visible}),this.updateCallback&&this.updateCallback(m)},l.prototype.onSet=function(){var m=this;this.actions.forEach(function(h){m.setActionCssClasses(h)}),this.raiseUpdate(!0)},l.prototype.onPush=function(m){this.setActionCssClasses(m),m.owner=this,this.raiseUpdate(!0)},l.prototype.onRemove=function(m){m.owner=null,this.raiseUpdate(!0)},l.prototype.setActionCssClasses=function(m){m.cssClasses=this.cssClasses},Object.defineProperty(l.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visibleActions",{get:function(){return this.actions.filter(function(m){return!1!==m.visible})},enumerable:!1,configurable:!0}),l.prototype.getRootCss=function(){var m="small"===this.sizeMode?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return(new v.CssClassBuilder).append(this.cssClasses.root+(m?" "+m:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},l.prototype.getDefaultCssClasses=function(){return i},Object.defineProperty(l.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(m){var h=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Object(O.mergeValues)(m,this.cssClasses),this.actions.forEach(function(d){h.setActionCssClasses(d)})},enumerable:!1,configurable:!0}),l.prototype.createAction=function(m){return m instanceof T.Action?m:new T.Action(m)},l.prototype.addAction=function(m,h){void 0===h&&(h=!0);var d=this.createAction(m);return this.actions.push(d),this.sortItems(),d},l.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(m){return void 0===m.visibleIndex||m.visibleIndex>=0})).sort(function(m,h){return m.visibleIndex-h.visibleIndex})},l.prototype.setItems=function(m,h){var d=this;void 0===h&&(h=!0),this.actions=m.map(function(c){return d.createAction(c)}),h&&this.sortItems()},l.prototype.initResponsivityManager=function(m){},l.prototype.resetResponsivityManager=function(){},l.prototype.getActionById=function(m){for(var h=0;h<this.actions.length;h++)if(this.actions[h].id===m)return this.actions[h];return null},E([Object(n.propertyArray)({onSet:function(m,h){h.onSet()},onPush:function(m,h,d){d.onPush(m)},onRemove:function(m,h,d){d.onRemove(m)}})],l.prototype,"actions",void 0),E([Object(n.property)({defaultValue:!1})],l.prototype,"isEmpty",void 0),l}(y.Base)},"./src/base.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"Bindings",function(){return f}),e.d(t,"Dependencies",function(){return _}),e.d(t,"ComputedUpdater",function(){return l}),e.d(t,"Base",function(){return m}),e.d(t,"ArrayChanges",function(){return h}),e.d(t,"Event",function(){return d}),e.d(t,"EventBase",function(){return c});var a,n=e("./src/localizablestring.ts"),y=e("./src/helpers.ts"),T=e("./src/jsonobject.ts"),v=e("./src/settings.ts"),O=e("./src/conditions.ts"),C=e("./src/surveyStrings.ts"),E=(a=function(s,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,S){o.__proto__=S}||function(o,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(o[I]=S[I])})(s,r)},function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=s}a(s,r),s.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),i=function(a,s,r){if(r||2===arguments.length)for(var I,o=0,S=s.length;o<S;o++)(I||!(o in s))&&(I||(I=Array.prototype.slice.call(s,0,o)),I[o]=s[o]);return a.concat(I||Array.prototype.slice.call(s))},f=function(){function a(s){this.obj=s,this.properties=null,this.values=null}return a.prototype.getType=function(){return"bindings"},a.prototype.getNames=function(){var s=[];this.fillProperties();for(var r=0;r<this.properties.length;r++)this.properties[r].isVisible("",this.obj)&&s.push(this.properties[r].name);return s},a.prototype.getProperties=function(){var s=[];this.fillProperties();for(var r=0;r<this.properties.length;r++)s.push(this.properties[r]);return s},a.prototype.setBinding=function(s,r){this.values||(this.values={});var o=this.getJson();o!==r&&(r?this.values[s]=r:(delete this.values[s],0==Object.keys(this.values).length&&(this.values=null)),this.onChangedJSON(o))},a.prototype.clearBinding=function(s){this.setBinding(s,"")},a.prototype.isEmpty=function(){if(!this.values)return!0;for(var s in this.values)return!1;return!0},a.prototype.getValueNameByPropertyName=function(s){if(this.values)return this.values[s]},a.prototype.getPropertiesByValueName=function(s){if(!this.values)return[];var r=[];for(var o in this.values)this.values[o]==s&&r.push(o);return r},a.prototype.getJson=function(){if(!this.isEmpty()){var s={};for(var r in this.values)s[r]=this.values[r];return s}},a.prototype.setJson=function(s){var r=this.getJson();if(this.values=null,s)for(var o in this.values={},s)this.values[o]=s[o];this.onChangedJSON(r)},a.prototype.fillProperties=function(){if(null===this.properties){this.properties=[];for(var s=T.Serializer.getPropertiesByObj(this.obj),r=0;r<s.length;r++)s[r].isBindable&&this.properties.push(s[r])}},a.prototype.onChangedJSON=function(s){this.obj&&this.obj.onBindingChanged(s,this.getJson())},a}(),_=function(){function a(s,r,o){this.currentDependency=s,this.target=r,this.property=o,this.dependencies=[],this.id=""+ ++a.DependenciesCount}return a.prototype.addDependency=function(s,r){this.target===s&&this.property===r||this.dependencies.some(function(o){return o.obj===s&&o.prop===r})||(this.dependencies.push({obj:s,prop:r,id:this.id}),s.registerPropertyChangedHandlers([r],this.currentDependency,this.id))},a.prototype.dispose=function(){this.dependencies.forEach(function(s){s.obj.unregisterPropertyChangedHandlers([s.prop],s.id)})},a.DependenciesCount=0,a}(),l=function(){function a(s){this._updater=s,this.dependencies=void 0,this.type=a.ComputedUpdaterType}return Object.defineProperty(a.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),a.prototype.setDependencies=function(s){this.clearDependencies(),this.dependencies=s},a.prototype.getDependencies=function(){return this.dependencies},a.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},a.prototype.dispose=function(){this.clearDependencies()},a.ComputedUpdaterType="__dependency_computed",a}(),m=function(){function a(){this.propertyHash={},this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new f(this),T.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return a.finishCollectDependencies=function(){var s=a.currentDependencis;return a.currentDependencis=void 0,s},a.startCollectDependencies=function(s,r,o){if(void 0!==a.currentDependencis)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");a.currentDependencis=new _(s,r,o)},a.collectDependency=function(s,r){void 0!==a.currentDependencis&&a.currentDependencis.addDependency(s,r)},Object.defineProperty(a,"commentPrefix",{get:function(){return v.settings.commentPrefix},set:function(s){v.settings.commentPrefix=s},enumerable:!1,configurable:!0}),a.prototype.isValueEmpty=function(s,r){return void 0===r&&(r=!0),r&&(s=this.trimValue(s)),y.Helpers.isValueEmpty(s)},a.prototype.trimValue=function(s){return s&&("string"==typeof s||s instanceof String)?s.trim():s},a.prototype.isPropertyEmpty=function(s){return""!==s&&this.isValueEmpty(s)},a.prototype.dispose=function(){for(var s=0;s<this.eventList.length;s++)this.eventList[s].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0},Object.defineProperty(a.prototype,"isDisposed",{get:function(){return!0===this.isDisposedValue},enumerable:!1,configurable:!0}),a.prototype.addEvent=function(){var s=new c;return this.eventList.push(s),s},a.prototype.onBaseCreating=function(){},a.prototype.getType=function(){return"base"},a.prototype.isDescendantOf=function(s){return T.Serializer.isDescendantOf(this.getType(),s)},a.prototype.getSurvey=function(s){return void 0===s&&(s=!1),null},Object.defineProperty(a.prototype,"isDesignMode",{get:function(){var s=this.getSurvey();return!!s&&s.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),a.prototype.checkBindings=function(s,r){},a.prototype.updateBindings=function(s,r){var o=this.bindings.getValueNameByPropertyName(s);o&&this.updateBindingValue(o,r)},a.prototype.updateBindingValue=function(s,r){},a.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(a.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),a.prototype.getIsLoadingFromJson=function(){return!(!this.loadingOwner||!this.loadingOwner.isLoadingFromJson)||this.isLoadingFromJsonValue},a.prototype.startLoadingFromJson=function(s){this.isLoadingFromJsonValue=!0},a.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},a.prototype.toJSON=function(){return(new T.JsonObject).toJsonObject(this)},a.prototype.fromJSON=function(s){(new T.JsonObject).toObject(s,this),this.onSurveyLoad()},a.prototype.onSurveyLoad=function(){},a.prototype.clone=function(){var s=T.Serializer.createClass(this.getType());return s.fromJSON(this.toJSON()),s},a.prototype.getPropertyByName=function(s){return T.Serializer.findProperty(this.getType(),s)},a.prototype.isPropertyVisible=function(s){var r=this.getPropertyByName(s);return!!r&&r.isVisible("",this)},a.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},a.prototype.getProgressInfo=function(){return a.createProgressInfo()},a.prototype.localeChanged=function(){},a.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var s in this.arraysInfo)if((r=this.arraysInfo[s])&&r.isItemValues){var o=this.getPropertyValue(s);o&&a.itemValueLocStrChanged&&a.itemValueLocStrChanged(o)}if(this.localizableStrings)for(var s in this.localizableStrings){var r;(r=this.getLocalizableString(s))&&r.strChanged()}},a.prototype.getPropertyValue=function(s,r){void 0===r&&(r=null);var o=this.getPropertyValueCore(this.propertyHash,s);if(this.isPropertyEmpty(o)){if(null!=r)return r;var S=T.Serializer.findProperty(this.getType(),s);if(S&&(!S.isCustom||!this.isCreating)){if(!this.isPropertyEmpty(S.defaultValue)&&!Array.isArray(S.defaultValue))return S.defaultValue;if("boolean"==S.type||"switch"==S.type)return!1;if(S.isCustom&&S.onGetValue)return S.onGetValue(this)}}return o},a.prototype.getPropertyValueCore=function(s,r){return a.collectDependency(this,r),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(s,r):s[r]},a.prototype.geValueFromHash=function(){return this.propertyHash.value},a.prototype.setPropertyValueCore=function(s,r,o){this.setPropertyValueCoreHandler?this.isDisposedValue?console.warn("Attempt to set property '"+r+"' of a disposed object '"+this.getType()+"'"):this.setPropertyValueCoreHandler(s,r,o):s[r]=o},Object.defineProperty(a.prototype,"isEditingSurveyElement",{get:function(){var s=this.getSurvey();return!!s&&s.isEditingSurveyElement},enumerable:!1,configurable:!0}),a.prototype.iteratePropertiesHash=function(s){var r=this,o=[];for(var S in this.propertyHash)"value"===S&&this.isEditingSurveyElement&&Array.isArray(this.value)||o.push(S);o.forEach(function(I){return s(r.propertyHash,I)})},a.prototype.setPropertyValue=function(s,r){if(!this.isLoadingFromJson){var o=this.getPropertyByName(s);o&&(r=o.settingValue(this,r))}var S=this.getPropertyValue(s);if(S&&Array.isArray(S)&&this.arraysInfo&&(!r||Array.isArray(r))){if(this.isTwoValueEquals(S,r))return;this.setArrayPropertyDirectly(s,r)}else this.setPropertyValueDirectly(s,r),!this.isDisposedValue&&!this.isTwoValueEquals(S,r)&&this.propertyValueChanged(s,S,r)},a.prototype.setArrayPropertyDirectly=function(s,r,o){void 0===o&&(o=!0);var S=this.arraysInfo[s];this.setArray(s,this.getPropertyValue(s),r,!!S&&S.isItemValues,S?o&&S.onPush:null)},a.prototype.setPropertyValueDirectly=function(s,r){this.setPropertyValueCore(this.propertyHash,s,r)},a.prototype.clearPropertyValue=function(s){this.setPropertyValueCore(this.propertyHash,s,null),delete this.propertyHash[s]},a.prototype.onPropertyValueChangedCallback=function(s,r,o,S,I){},a.prototype.itemValuePropertyChanged=function(s,r,o,S){this.onItemValuePropertyChanged.fire(this,{obj:s,name:r,oldValue:o,newValue:S,propertyName:s.ownerPropertyName})},a.prototype.onPropertyValueChanged=function(s,r,o){},a.prototype.propertyValueChanged=function(s,r,o,S,I){if(!this.isLoadingFromJson&&(this.updateBindings(s,o),this.onPropertyValueChanged(s,r,o),this.onPropertyChanged.fire(this,{name:s,oldValue:r,newValue:o}),this.doPropertyValueChangedCallback(s,r,o,S,this),this.checkConditionPropertyChanged(s),this.onPropChangeFunctions))for(var x=0;x<this.onPropChangeFunctions.length;x++)this.onPropChangeFunctions[x].name==s&&this.onPropChangeFunctions[x].func(o)},a.prototype.onBindingChanged=function(s,r){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",s,r)},Object.defineProperty(a.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.doPropertyValueChangedCallback=function(s,r,o,S,I){if(!this.isInternal){I||(I=this);var x=this.getSurvey();x||(x=this),x.onPropertyValueChangedCallback&&x.onPropertyValueChangedCallback(s,r,o,I,S),x!==this&&this.onPropertyValueChangedCallback&&this.onPropertyValueChangedCallback(s,r,o,I,S)}},a.prototype.addExpressionProperty=function(s,r,o){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[s]={onExecute:r,canRun:o}},a.prototype.getDataFilteredValues=function(){return{}},a.prototype.getDataFilteredProperties=function(){return{}},a.prototype.runConditionCore=function(s,r){if(this.expressionInfo)for(var o in this.expressionInfo)this.runConditionItemCore(o,s,r)},a.prototype.canRunConditions=function(){return!this.isDesignMode},a.prototype.checkConditionPropertyChanged=function(s){!this.expressionInfo||!this.expressionInfo[s]||!this.canRunConditions()||this.runConditionItemCore(s,this.getDataFilteredValues(),this.getDataFilteredProperties())},a.prototype.runConditionItemCore=function(s,r,o){var S=this,I=this.expressionInfo[s],x=this.getPropertyValue(s);!x||I.canRun&&!I.canRun(this)||(I.runner||(I.runner=new O.ExpressionRunner(x),I.runner.onRunComplete=function(P){I.onExecute(S,P)}),I.runner.expression=x,I.runner.run(r,o))},a.prototype.registerPropertyChangedHandlers=function(s,r,o){void 0===o&&(o=null);for(var S=0;S<s.length;S++)this.registerFunctionOnPropertyValueChanged(s[S],r,o)},a.prototype.unregisterPropertyChangedHandlers=function(s,r){void 0===r&&(r=null);for(var o=0;o<s.length;o++)this.unRegisterFunctionOnPropertyValueChanged(s[o],r)},a.prototype.registerFunctionOnPropertyValueChanged=function(s,r,o){if(void 0===o&&(o=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),o)for(var S=0;S<this.onPropChangeFunctions.length;S++){var I=this.onPropChangeFunctions[S];if(I.name==s&&I.key==o)return void(I.func=r)}this.onPropChangeFunctions.push({name:s,func:r,key:o})},a.prototype.registerFunctionOnPropertiesValueChanged=function(s,r,o){void 0===o&&(o=null),this.registerPropertyChangedHandlers(s,r,o)},a.prototype.unRegisterFunctionOnPropertyValueChanged=function(s,r){if(void 0===r&&(r=null),this.onPropChangeFunctions)for(var o=0;o<this.onPropChangeFunctions.length;o++){var S=this.onPropChangeFunctions[o];if(S.name==s&&S.key==r)return void this.onPropChangeFunctions.splice(o,1)}},a.prototype.unRegisterFunctionOnPropertiesValueChanged=function(s,r){void 0===r&&(r=null),this.unregisterPropertyChangedHandlers(s,r)},a.prototype.createCustomLocalizableObj=function(s){this.getLocalizableString(s)||this.createLocalizableString(s,this,!1,!0)},a.prototype.getLocale=function(){var s=this.getSurvey();return s?s.getLocale():""},a.prototype.getLocalizationString=function(s){return C.surveyLocalization.getString(s,this.getLocale())},a.prototype.getLocalizationFormatString=function(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var S=this.getLocalizationString(s);return S&&S.format?S.format.apply(S,r):""},a.prototype.createLocalizableString=function(s,r,o,S){var I=this;void 0===o&&(o=!1),void 0===S&&(S=!1);var x=new n.LocalizableString(r,o,s);return S&&(x.localizationName=!0===S?s:S),x.onStrChanged=function(P,g){I.propertyValueChanged(s,P,g)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[s]=x,x},a.prototype.getLocalizableString=function(s){return this.localizableStrings?this.localizableStrings[s]:null},a.prototype.getLocalizableStringText=function(s,r){void 0===r&&(r=""),a.collectDependency(this,s);var o=this.getLocalizableString(s);return o?o.text||r:""},a.prototype.setLocalizableStringText=function(s,r){var o=this.getLocalizableString(s);o&&o.text!=r&&(o.text=r)},a.prototype.addUsedLocales=function(s){if(this.localizableStrings)for(var r in this.localizableStrings)(o=this.getLocalizableString(r))&&this.AddLocStringToUsedLocales(o,s);if(this.arraysInfo)for(var r in this.arraysInfo){var S=this.getPropertyValue(r);if(S&&S.length)for(var I=0;I<S.length;I++){var o;(o=S[I])&&o.addUsedLocales&&o.addUsedLocales(s)}}},a.prototype.searchText=function(s,r){var o=[];this.getSearchableLocalizedStrings(o);for(var S=0;S<o.length;S++)o[S].setFindText(s)&&r.push({element:this,str:o[S]})},a.prototype.getSearchableLocalizedStrings=function(s){if(this.localizableStrings){var r=[];this.getSearchableLocKeys(r);for(var o=0;o<r.length;o++){var S=this.getLocalizableString(r[o]);S&&s.push(S)}}if(this.arraysInfo){var I=[];for(this.getSearchableItemValueKeys(I),o=0;o<I.length;o++){var x=this.getPropertyValue(I[o]);if(x)for(var P=0;P<x.length;P++)s.push(x[P].locText)}}},a.prototype.getSearchableLocKeys=function(s){},a.prototype.getSearchableItemValueKeys=function(s){},a.prototype.AddLocStringToUsedLocales=function(s,r){for(var o=s.getLocales(),S=0;S<o.length;S++)r.indexOf(o[S])<0&&r.push(o[S])},a.prototype.createItemValues=function(s){var r=this,o=this.createNewArray(s,function(S){if(S.locOwner=r,S.ownerPropertyName=s,"function"==typeof S.getSurvey){var I=S.getSurvey();I&&"function"==typeof I.makeReactive&&I.makeReactive(S)}});return this.arraysInfo[s].isItemValues=!0,o},a.prototype.notifyArrayChanged=function(s,r){s.onArrayChanged&&s.onArrayChanged(r)},a.prototype.createNewArrayCore=function(s){var r=null;return this.createArrayCoreHandler&&(r=this.createArrayCoreHandler(this.propertyHash,s)),r||(r=new Array,this.setPropertyValueCore(this.propertyHash,s,r)),r},a.prototype.ensureArray=function(s,r,o){if(void 0===r&&(r=null),void 0===o&&(o=null),!this.arraysInfo||!this.arraysInfo[s])return this.createNewArray(s,r,o)},a.prototype.createNewArray=function(s,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var S=this.createNewArrayCore(s);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[s]={onPush:r,isItemValues:!1};var I=this;return S.push=function(x){var P=Object.getPrototypeOf(S).push.call(S,x);if(!I.isDisposedValue){r&&r(x,S.length-1);var g=new h(S.length-1,0,[x],[]);I.propertyValueChanged(s,S,S,g),I.notifyArrayChanged(S,g)}return P},S.shift=function(){var x=Object.getPrototypeOf(S).shift.call(S);if(!I.isDisposedValue&&x){o&&o(x);var P=new h(S.length-1,1,[],[]);I.propertyValueChanged(s,S,S,P),I.notifyArrayChanged(S,P)}return x},S.unshift=function(x){var P=Object.getPrototypeOf(S).unshift.call(S,x);if(!I.isDisposedValue){r&&r(x,S.length-1);var g=new h(0,0,[x],[]);I.propertyValueChanged(s,S,S,g),I.notifyArrayChanged(S,g)}return P},S.pop=function(){var x=Object.getPrototypeOf(S).pop.call(S);if(!I.isDisposedValue){o&&o(x);var P=new h(S.length-1,1,[],[]);I.propertyValueChanged(s,S,S,P),I.notifyArrayChanged(S,P)}return x},S.splice=function(x,P){for(var g,u=[],M=2;M<arguments.length;M++)u[M-2]=arguments[M];x||(x=0),P||(P=0);var R=(g=Object.getPrototypeOf(S).splice).call.apply(g,i([S,x,P],u,!1));if(u||(u=[]),!I.isDisposedValue){if(o&&R)for(var w=0;w<R.length;w++)o(R[w]);if(r)for(w=0;w<u.length;w++)r(u[w],x+w);var F=new h(x,P,u,R);I.propertyValueChanged(s,S,S,F),I.notifyArrayChanged(S,F)}return R},S},a.prototype.getItemValueType=function(){},a.prototype.setArray=function(s,r,o,S,I){var x=[].concat(r);if(Object.getPrototypeOf(r).splice.call(r,0,r.length),o)for(var P=0;P<o.length;P++){var g=o[P];S&&a.createItemValue&&(g=a.createItemValue(g,this.getItemValueType())),Object.getPrototypeOf(r).push.call(r,g),I&&I(r[P])}var u=new h(0,x.length,r,x);this.propertyValueChanged(s,x,r,u),this.notifyArrayChanged(r,u)},a.prototype.isTwoValueEquals=function(s,r,o,S){return void 0===o&&(o=!1),void 0===S&&(S=!1),y.Helpers.isTwoValueEquals(s,r,!1,!o,S)},a.copyObject=function(s,r){for(var o in r){var S=r[o];"object"==typeof S&&this.copyObject(S={},r[o]),s[o]=S}},a.prototype.copyCssClasses=function(s,r){!r||("string"==typeof r||r instanceof String?s.root=r:a.copyObject(s,r))},a.prototype.getValueInLowCase=function(s){return s&&"string"==typeof s?s.toLowerCase():s},a.prototype.getElementsInDesign=function(s){return void 0===s&&(s=!1),[]},a.currentDependencis=void 0,a}(),h=function a(s,r,o,S){this.index=s,this.deleteCount=r,this.itemsToAdd=o,this.deletedItems=S},d=function(){function a(){}return Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),a.prototype.fireByCreatingOptions=function(s,r){if(this.callbacks)for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](s,r()),!this.callbacks)return},a.prototype.fire=function(s,r){if(this.callbacks)for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](s,r),!this.callbacks)return},a.prototype.clear=function(){this.callbacks=void 0},a.prototype.add=function(s){this.hasFunc(s)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(s),this.fireCallbackChanged())},a.prototype.remove=function(s){if(this.hasFunc(s)){var r=this.callbacks.indexOf(s,0);this.callbacks.splice(r,1),this.fireCallbackChanged()}},a.prototype.hasFunc=function(s){return null!=this.callbacks&&this.callbacks.indexOf(s,0)>-1},a.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},a}(),c=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return E(s,a),s}(d)},"./src/calculatedValue.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"CalculatedValue",function(){return C});var E,n=e("./src/helpers.ts"),y=e("./src/base.ts"),T=e("./src/conditions.ts"),v=e("./src/jsonobject.ts"),O=(E=function(i,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,l){_.__proto__=l}||function(_,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(_[m]=l[m])})(i,f)},function(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),C=function(E){function i(f,_){void 0===f&&(f=null),void 0===_&&(_=null);var l=E.call(this)||this;return l.expressionIsRunning=!1,l.isCalculated=!1,f&&(l.name=f),_&&(l.expression=_),l}return O(i,E),i.prototype.setOwner=function(f){this.data=f,this.rerunExpression()},i.prototype.getType=function(){return"calculatedvalue"},i.prototype.getSurvey=function(f){return void 0===f&&(f=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(i.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(f){this.setPropertyValue("name",f)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult",!1)},set:function(f){this.setPropertyValue("includeIntoResult",f)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(f){this.setPropertyValue("expression",f),this.rerunExpression()},enumerable:!1,configurable:!0}),i.prototype.locCalculation=function(){this.expressionIsRunning=!0},i.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},i.prototype.resetCalculation=function(){this.isCalculated=!1},i.prototype.doCalculation=function(f,_,l){this.isCalculated||(this.runExpressionCore(f,_,l),this.isCalculated=!0)},i.prototype.runExpression=function(f,_){this.runExpressionCore(null,f,_)},Object.defineProperty(i.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),i.prototype.setValue=function(f){!this.data||this.data.setVariable(this.name,f)},Object.defineProperty(i.prototype,"canRunExpression",{get:function(){return!(!this.data||this.isLoadingFromJson||!this.expression||this.expressionIsRunning||!this.name)},enumerable:!1,configurable:!0}),i.prototype.rerunExpression=function(){!this.canRunExpression||this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},i.prototype.runExpressionCore=function(f,_,l){!this.canRunExpression||(this.ensureExpression(_),this.locCalculation(),f&&this.runDependentExpressions(f,_,l),this.expressionRunner.run(_,l))},i.prototype.runDependentExpressions=function(f,_,l){var m=this.expressionRunner.getVariables();if(m)for(var h=0;h<f.length;h++){var d=f[h];d===this||m.indexOf(d.name)<0||(d.doCalculation(f,_,l),_[d.name]=d.value)}},i.prototype.ensureExpression=function(f){var _=this;this.expressionRunner||(this.expressionRunner=new T.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(l){n.Helpers.isTwoValueEquals(l,_.value)||_.setValue(l),_.unlocCalculation()})},i}(y.Base);v.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new C},"base")},"./src/choicesRestful.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ChoicesRestful",function(){return i}),e.d(t,"ChoicesRestfull",function(){return f});var _,n=e("./src/base.ts"),y=e("./src/itemvalue.ts"),T=e("./src/jsonobject.ts"),v=e("./src/error.ts"),O=e("./src/settings.ts"),C=(_=function(l,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(h[c]=d[c])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function h(){this.constructor=l}_(l,m),l.prototype=null===m?Object.create(m):(h.prototype=m.prototype,new h)}),E=function(){function _(){this.parser=new DOMParser}return _.prototype.assignValue=function(l,m,h){Array.isArray(l[m])?l[m].push(h):l[m]=void 0!==l[m]?[l[m]].concat(h):"object"==typeof h&&1===Object.keys(h).length&&Object.keys(h)[0]===m?h[m]:h},_.prototype.xml2Json=function(l,m){if(l.children&&l.children.length>0)for(var h=0;h<l.children.length;h++){var d=l.children[h],c={};this.xml2Json(d,c),this.assignValue(m,d.nodeName,c)}else this.assignValue(m,l.nodeName,l.textContent)},_.prototype.parseXmlString=function(l){var m=this.parser.parseFromString(l,"text/xml"),h={};return this.xml2Json(m,h),h},_}(),i=function(_){function l(){var m=_.call(this)||this;return m.lastObjHash="",m.isRunningValue=!1,m.processedUrl="",m.processedPath="",m.isUsingCacheFromUrl=void 0,m.error=null,m.createItemValue=function(h){return new y.ItemValue(h)},m}return C(l,_),Object.defineProperty(l,"EncodeParameters",{get:function(){return O.settings.webserviceEncodeParameters},set:function(m){O.settings.webserviceEncodeParameters=m},enumerable:!1,configurable:!0}),l.clearCache=function(){l.itemsResult={},l.sendingSameRequests={}},l.addSameRequest=function(m){if(!m.isUsingCache)return!1;var d=l.sendingSameRequests[m.objHash];return d?(d.push(m),m.isRunningValue=!0,!0):(l.sendingSameRequests[m.objHash]=[],!1)},l.unregisterSameRequests=function(m,h){if(m.isUsingCache){var d=l.sendingSameRequests[m.objHash];if(delete l.sendingSameRequests[m.objHash],d)for(var c=0;c<d.length;c++)d[c].isRunningValue=!1,d[c].getResultCallback&&d[c].getResultCallback(h)}},l.getCachedItemsResult=function(m){var d=l.itemsResult[m.objHash];return!!d&&(m.getResultCallback&&m.getResultCallback(d),!0)},l.prototype.getSurvey=function(m){return void 0===m&&(m=!1),this.owner?this.owner.survey:null},l.prototype.run=function(m){if(void 0===m&&(m=null),this.url&&this.getResultCallback){if(this.processedText(m),!this.processedUrl)return this.doEmptyResultCallback({}),void(this.lastObjHash=this.objHash);this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(l.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(l.prototype,"isUsingCache",{get:function(){return!0===this.isUsingCacheFromUrl||!1!==this.isUsingCacheFromUrl&&O.settings.useCachingForChoicesRestful},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),l.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(l.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),l.prototype.useChangedItemsResults=function(){return l.getCachedItemsResult(this)},l.prototype.doEmptyResultCallback=function(m){var h=[];this.updateResultCallback&&(h=this.updateResultCallback(h,m)),this.getResultCallback(h)},l.prototype.processedText=function(m){var h=this.url;if(h&&(h=h.replace(l.cacheText,"").replace(l.noCacheText,"")),m){var d=m.processTextEx(h,!1,O.settings.webserviceEncodeParameters),c=m.processTextEx(this.path,!1,O.settings.webserviceEncodeParameters);d.hasAllValuesOnLastRun&&c.hasAllValuesOnLastRun?(this.processedUrl=d.text,this.processedPath=c.text):(this.processedUrl="",this.processedPath="")}else this.processedUrl=h,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},l.prototype.parseResponse=function(m){var h;if(m&&"function"==typeof m.indexOf&&0===m.indexOf("<"))h=(new E).parseXmlString(m);else try{h=JSON.parse(m)}catch{h=(m||"").split("\n").map(function(a){return a.trim(" ")}).filter(function(a){return!!a})}return h},l.prototype.sendRequest=function(){var m=new XMLHttpRequest;m.open("GET",this.processedUrl),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var h=this,d=this.objHash;m.onload=function(){h.beforeLoadRequest(),200===m.status?h.onLoad(h.parseResponse(m.response),d):h.onError(m.statusText,m.responseText)};var c={request:m};l.onBeforeSendRequest&&l.onBeforeSendRequest(this,c),this.beforeSendRequest(),c.request.send()},l.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(l.prototype,"isEmpty",{get:function(){return!(this.url||this.path||this.valueName||this.titleName||this.imageLinkName)},enumerable:!1,configurable:!0}),l.prototype.getCustomPropertiesNames=function(){for(var m=this.getCustomProperties(),h=new Array,d=0;d<m.length;d++)h.push(this.getCustomPropertyName(m[d].name));return h},l.prototype.getCustomPropertyName=function(m){return m+"Name"},l.prototype.getCustomProperties=function(){for(var m=T.Serializer.getProperties(this.itemValueType),h=[],d=0;d<m.length;d++)"value"===m[d].name||"text"===m[d].name||"visibleIf"===m[d].name||"enableIf"===m[d].name||h.push(m[d]);return h},l.prototype.setData=function(m){this.clear(),m.url&&(this.url=m.url),m.path&&(this.path=m.path),m.valueName&&(this.valueName=m.valueName),m.titleName&&(this.titleName=m.titleName),m.imageLinkName&&(this.imageLinkName=m.imageLinkName),void 0!==m.allowEmptyResponse&&(this.allowEmptyResponse=m.allowEmptyResponse),void 0!==m.attachOriginalItems&&(this.attachOriginalItems=m.attachOriginalItems);for(var h=this.getCustomPropertiesNames(),d=0;d<h.length;d++)m[h[d]]&&(this[h[d]]=m[h[d]])},l.prototype.getData=function(){if(this.isEmpty)return null;var m={};this.url&&(m.url=this.url),this.path&&(m.path=this.path),this.valueName&&(m.valueName=this.valueName),this.titleName&&(m.titleName=this.titleName),this.imageLinkName&&(m.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(m.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(m.attachOriginalItems=this.attachOriginalItems);for(var h=this.getCustomPropertiesNames(),d=0;d<h.length;d++)this[h[d]]&&(m[h[d]]=this[h[d]]);return m},Object.defineProperty(l.prototype,"url",{get:function(){return this.getPropertyValue("url","")},set:function(m){this.setPropertyValue("url",m),this.isUsingCacheFromUrl=void 0,m&&(m.indexOf(l.cacheText)>-1?this.isUsingCacheFromUrl=!0:m.indexOf(l.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.getPropertyValue("path","")},set:function(m){this.setPropertyValue("path",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(m){this.setPropertyValue("valueName",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(m){this.setPropertyValue("titleName",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(m){this.setPropertyValue("imageLinkName",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(m){this.setPropertyValue("allowEmptyResponse",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(m){this.setPropertyValue("attachOriginalItems",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var m=T.Serializer.findProperty(this.owner.getType(),"choices");return m&&"itemvalue[]"!=m.type?m.type:"itemvalue"},enumerable:!1,configurable:!0}),l.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName="",this.imageLinkName="";for(var m=this.getCustomPropertiesNames(),h=0;h<m.length;h++)this[m[h]]&&(this[m[h]]="")},l.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},l.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},l.prototype.onLoad=function(m,h){void 0===h&&(h=null),h||(h=this.objHash);var d=new Array,c=this.getResultAfterPath(m);if(c&&c.length)for(var a=0;a<c.length;a++){var s=c[a];if(s){var r=this.getItemValueCallback?this.getItemValueCallback(s):this.getValue(s),o=this.createItemValue(r);this.setTitle(o,s),this.setCustomProperties(o,s),this.attachOriginalItems&&(o.originalItem=s);var S=this.getImageLink(s);S&&(o.imageLink=S),d.push(o)}}else this.allowEmptyResponse||(this.error=new v.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(d=this.updateResultCallback(d,m)),this.isUsingCache&&(l.itemsResult[h]=d),this.callResultCallback(d,h),l.unregisterSameRequests(this,d)},l.prototype.callResultCallback=function(m,h){h==this.objHash&&this.getResultCallback(m)},l.prototype.setCustomProperties=function(m,h){for(var d=this.getCustomProperties(),c=0;c<d.length;c++){var a=d[c],s=this.getValueCore(h,this.getPropertyBinding(a.name));this.isValueEmpty(s)||(m[a.name]=s)}},l.prototype.getPropertyBinding=function(m){return this[this.getCustomPropertyName(m)]?this[this.getCustomPropertyName(m)]:this[m]?this[m]:m},l.prototype.onError=function(m,h){this.error=new v.WebRequestError(m,h,this.owner),this.doEmptyResultCallback(h),l.unregisterSameRequests(this,[])},l.prototype.getResultAfterPath=function(m){if(!m||!this.processedPath)return m;for(var h=this.getPathes(),d=0;d<h.length;d++)if(!(m=m[h[d]]))return null;return m},l.prototype.getPathes=function(){var m=[];return 0==(m=this.processedPath.indexOf(";")>-1?this.path.split(";"):this.processedPath.split(",")).length&&m.push(this.processedPath),m},l.prototype.getValue=function(m){return m?this.valueName?this.getValueCore(m,this.valueName):m instanceof Object?Object.keys(m).length<1?null:m[Object.keys(m)[0]]:m:null},l.prototype.setTitle=function(m,h){var c=this.getValueCore(h,this.titleName?this.titleName:"title");!c||("string"==typeof c?m.text=c:m.locText.setJson(c))},l.prototype.getImageLink=function(m){return this.getValueCore(m,this.imageLinkName?this.imageLinkName:"imageLink")},l.prototype.getValueCore=function(m,h){if(!m)return null;if(h.indexOf(".")<0)return m[h];for(var d=h.split("."),c=0;c<d.length;c++)if(!(m=m[d[c]]))return null;return m},Object.defineProperty(l.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),l.cacheText="{CACHE}",l.noCacheText="{NOCACHE}",l.itemsResult={},l.sendingSameRequests={},l}(n.Base),f=function(_){function l(){return null!==_&&_.apply(this,arguments)||this}return C(l,_),Object.defineProperty(l,"EncodeParameters",{get:function(){return i.EncodeParameters},set:function(m){i.EncodeParameters=m},enumerable:!1,configurable:!0}),l.clearCache=function(){i.clearCache()},Object.defineProperty(l,"onBeforeSendRequest",{get:function(){return i.onBeforeSendRequest},set:function(m){i.onBeforeSendRequest=m},enumerable:!1,configurable:!0}),l}(i);T.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(_){return!!_&&!!_.owner&&"imagepicker"==_.owner.getType()}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new i})},"./src/conditionProcessValue.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ProcessValue",function(){return T});var n=e("./src/helpers.ts"),y="@survey",T=function(){function v(){this.values=null,this.properties=null}return v.prototype.getFirstName=function(O,C){if(void 0===C&&(C=null),!O)return O;var E="";if(C&&(E=this.getFirstPropertyName(O,C)))return E;for(var i=0;i<O.length;i++){var f=O[i];if("."==f||"["==f)break;E+=f}return E},v.prototype.hasValue=function(O,C){return void 0===C&&(C=null),C||(C=this.values),this.getValueCore(O,C).hasValue},v.prototype.getValue=function(O,C){return void 0===C&&(C=null),C||(C=this.values),this.getValueCore(O,C).value},v.prototype.setValue=function(O,C,E){if(C){var i=this.getNonNestedObject(O,C,!0);!i||(C=i.text,(O=i.value)&&C&&(O[C]=E))}},v.prototype.getValueInfo=function(O){if(O.path)return O.value=this.getValueFromPath(O.path,this.values),O.hasValue=null!==O.value&&!n.Helpers.isValueEmpty(O.value),void(!O.hasValue&&O.path.length>1&&"length"==O.path[O.path.length-1]&&(O.hasValue=!0,O.value=0));var C=this.getValueCore(O.name,this.values);O.value=C.value,O.hasValue=C.hasValue,O.path=C.hasValue?C.path:null},v.prototype.getValueFromPath=function(O,C){if(2===O.length&&O[0]===y)return this.getValueFromSurvey(O[1]);for(var E=0;C&&E<O.length;){var i=O[E];if(n.Helpers.isNumber(i)&&Array.isArray(C)&&i>=C.length)return null;C=C[i],E++}return C},v.prototype.getValueCore=function(O,C){var E=this.getQuestionDirectly(O);if(E)return{hasValue:!0,value:E.value,path:[O]};var i=this.getValueFromValues(O,C);if(O&&!i.hasValue){var f=this.getValueFromSurvey(O);void 0!==f&&(i.hasValue=!0,i.value=f,i.path=[y,O])}return i},v.prototype.getQuestionDirectly=function(O){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(O)},v.prototype.getValueFromSurvey=function(O){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(O.toLocaleLowerCase())},v.prototype.getValueFromValues=function(O,C){var E={hasValue:!1,value:null,path:null},i=C;if(!i&&0!==i&&!1!==i)return E;O&&O.lastIndexOf(".length")>-1&&O.lastIndexOf(".length")===O.length-7&&(E.value=0,E.hasValue=!0);var f=this.getNonNestedObject(i,O,!1);return f&&(E.path=f.path,E.value=f.text?this.getObjectValue(f.value,f.text):f.value,E.hasValue=!n.Helpers.isValueEmpty(E.value)),E},v.prototype.getNonNestedObject=function(O,C,E){for(var i=this.getFirstPropertyName(C,O,E),f=i?[i]:null;C!=i&&O;){if("["==C[0]){var l=this.getObjInArray(O,C);if(!l)return null;O=l.value,C=l.text,f.push(l.index)}else{if(!i&&C==this.getFirstName(C))return{value:O,text:C,path:f};if(O=this.getObjectValue(O,i),n.Helpers.isValueEmpty(O)&&!E)return null;C=C.substring(i.length)}!!C&&"."==C[0]&&(C=C.substring(1)),(i=this.getFirstPropertyName(C,O,E))&&f.push(i)}return{value:O,text:C,path:f}},v.prototype.getObjInArray=function(O,C){if(!Array.isArray(O))return null;for(var E=1,i="";E<C.length&&"]"!=C[E];)i+=C[E],E++;return C=E<C.length?C.substring(E+1):"",(E=this.getIntValue(i))<0||E>=O.length?null:{value:O[E],text:C,index:E}},v.prototype.getFirstPropertyName=function(O,C,E){if(void 0===E&&(E=!1),!O||(C||(C={}),C.hasOwnProperty(O)))return O;var i=O.toLowerCase(),f=i[0],_=f.toUpperCase();for(var l in C){var m=l[0];if(m===_||m===f){var h=l.toLowerCase();if(h==i)return l;if(i.length<=h.length)continue;var d=i[h.length];if("."!=d&&"["!=d)continue;if(h==i.substring(0,h.length))return l}}if(E&&"["!==O[0]){var c=O.indexOf(".");return c>-1&&(C[O=O.substring(0,c)]={}),O}return""},v.prototype.getObjectValue=function(O,C){return C?O[C]:null},v.prototype.getIntValue=function(O){return"0"==O||(0|O)>0&&O%1==0?Number(O):-1},v}()},"./src/conditions.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ExpressionExecutor",function(){return v}),e.d(t,"ExpressionRunnerBase",function(){return O}),e.d(t,"ConditionRunner",function(){return C}),e.d(t,"ExpressionRunner",function(){return E});var i,n=e("./src/conditionProcessValue.ts"),y=e("./src/conditionsParser.ts"),T=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),v=function(){function i(f){this.processValue=new n.ProcessValue,this.parser=new y.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(f)}return Object.defineProperty(i.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),i.prototype.setExpression=function(f){this.expression!==f&&(this.expressionValue=f,this.operand=this.parser.parseExpression(f),this.hasFunctionValue=!!this.canRun()&&this.operand.hasFunction(),this.isAsyncValue=!!this.hasFunction()&&this.operand.hasAsyncFunction())},i.prototype.getVariables=function(){if(!this.operand)return[];var f=[];return this.operand.setVariables(f),f},i.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(i.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),i.prototype.canRun=function(){return!!this.operand},i.prototype.run=function(f,_){var l=this;if(void 0===_&&(_=null),!this.operand)return null;if(this.processValue.values=f,this.processValue.properties=_,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var m=0;m<this.asyncFuncList.length;m++)this.asyncFuncList[m].onAsyncReady=function(){l.doAsyncFunctionReady()};for(m=0;m<this.asyncFuncList.length;m++)this.asyncFuncList[m].evaluateAsync(this.processValue);return!1},i.prototype.doAsyncFunctionReady=function(){for(var f=0;f<this.asyncFuncList.length;f++)if(!this.asyncFuncList[f].isReady)return;this.runValues()},i.prototype.runValues=function(){var f=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(f),f},i.createExpressionExecutor=function(f){return new i(f)},i}(),O=function(){function i(f){this.expression=f}return Object.defineProperty(i.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(f){var _=this;this.expressionExecutor&&f===this.expression||(this.expressionExecutor=v.createExpressionExecutor(f),this.expressionExecutor.onComplete=function(l){_.doOnComplete(l)})},enumerable:!1,configurable:!0}),i.prototype.getVariables=function(){return this.expressionExecutor.getVariables()},i.prototype.hasFunction=function(){return this.expressionExecutor.hasFunction()},Object.defineProperty(i.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),i.prototype.canRun=function(){return this.expressionExecutor.canRun()},i.prototype.runCore=function(f,_){return void 0===_&&(_=null),this.expressionExecutor.run(f,_)},i.prototype.doOnComplete=function(f){},i}(),C=function(i){function f(){return null!==i&&i.apply(this,arguments)||this}return T(f,i),f.prototype.run=function(_,l){return void 0===l&&(l=null),1==this.runCore(_,l)},f.prototype.doOnComplete=function(_){this.onRunComplete&&this.onRunComplete(1==_)},f}(O),E=function(i){function f(){return null!==i&&i.apply(this,arguments)||this}return T(f,i),f.prototype.run=function(_,l){return void 0===l&&(l=null),this.runCore(_,l)},f.prototype.doOnComplete=function(_){this.onRunComplete&&this.onRunComplete(_)},f}(O)},"./src/conditionsParser.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ConditionsParserError",function(){return y}),e.d(t,"ConditionsParser",function(){return T});var n=e("./src/expressions/expressionParser.ts"),y=function v(O,C){this.at=O,this.code=C},T=function(){function v(){}return v.prototype.patchExpression=function(O){return O.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},v.prototype.createCondition=function(O){return this.parseExpression(O)},v.prototype.parseExpression=function(O){try{var C=v.parserCache[O];return void 0===C&&((C=Object(n.parse)(this.patchExpression(O))).hasAsyncFunction()||(v.parserCache[O]=C)),C}catch(E){E instanceof n.SyntaxError&&(this.conditionError=new y(E.location.start.offset,E.message))}},Object.defineProperty(v.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),v.parserCache={},v}()},"./src/defaultCss/cssbootstrap.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"defaultBootstrapCss",function(){return y});var n=e("./src/defaultCss/cssstandard.ts"),y={root:"sv_main sv_bootstrap_css",container:"sv_container",header:"panel-heading card-header",body:"panel-body card-block mt-4",bodyEmpty:"panel-body card-block mt-4 sv_body_empty",footer:"panel-footer card-footer",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"btn sv_nav_btn",completedPage:"",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"progress center-block mx-auto mb-4",progressBar:"progress-bar",progressTextUnderBar:"sv-hidden",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"",title:"",description:"small"},pageTitle:"",pageDescription:"small",row:"sv_row",question:{mainRoot:"sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",title:"",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"small",descriptionUnderInput:"small",requiredText:"sv_q_required_text",comment:"form-control",required:"",titleRequired:"",hasError:"has-error",indent:20,formGroup:"form-group",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"small sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qbln form-inline checkbox",rootRadio:"sv_qbln form-inline checkbox",item:"sv-boolean",control:"sv-visuallyhidden",controlCheckbox:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator",itemDecorator:"sv-item__svg sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbc sv_qcbx form-inline",item:"checkbox",itemChecked:"checked",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemInline:"sv_q_checkbox_inline",itemControl:"",itemDecorator:"sv-hidden",label:"",labelChecked:"",controlLabel:"",materialDecorator:"checkbox-material",other:"sv_q_checkbox_other form-control",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"form-control",dropdown:{root:"sv_q_dd_root",selectWrapper:"sv_q_dd_select_wrapper",control:"form-control sv_q_dd_control",controlValue:"sv_q_dd_value",other:"sv_q_dd_other form-control",cleanButton:"sv_q_dd_clean-button",cleanButtonSvg:"sv_q_dd_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv_q_dd_filter-string-input"},tagbox:{root:"sv_q_dd_root",selectWrapper:"sv_q_dd_select_wrapper",control:"form-control sv_q_dd_control",controlValue:"sv_q_dd_value",other:"sv_q_dd_other form-control",cleanButton:"sv_q_dd_clean-button",cleanButtonSvg:"sv_q_dd_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv_q_dd_filter-string-input"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"table sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected bg-primary",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"table",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"table",button:"button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"",navigation:"sv-paneldynamic__navigation",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",title:"sv-title sv-question__title",button:"button",buttonAdd:"button sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"button sv-paneldynamic__remove-btn--right",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt table",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",itemLabel:"sv_q_mt_label",row:"form-group bmd-form-group",itemValue:"sv_q_mt_item_value form-control"},radiogroup:{root:"sv_qcbc form-inline",item:"radio",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",label:"",labelChecked:"",itemControl:"",itemDecorator:"sv-hidden",controlLabel:"",materialDecorator:"circle",other:"sv_q_radiogroup_other form-control",clearButton:"sv_q_radiogroup_clear button",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",itemInline:"sv_q_imagepicker_inline",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"btn-group",item:"btn btn-default btn-secondary",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"form-control",expression:"form-control",file:{root:"sv_q_file",placeholderInput:"sv_q_file_placeholder",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv_q_file_input",removeFile:"sv_q_file_remove",fileDecorator:"sv-hidden",fileSign:"sv_q_file_sign",removeButtonBottom:"sv-hidden",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"alert alert-info",error:"alert alert-danger",success:"alert alert-success",saveAgainButton:""},window:{root:"modal-content",body:"modal-body",header:{root:"modal-header panel-title",title:"pull-left",button:"glyphicon pull-right",buttonExpanded:"glyphicon pull-right glyphicon-chevron-up",buttonCollapsed:"glyphicon pull-right glyphicon-chevron-down"}}};n.surveyCss.bootstrap=y},"./src/defaultCss/cssbootstrapmaterial.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"defaultBootstrapMaterialCss",function(){return y});var n=e("./src/defaultCss/cssstandard.ts"),y={root:"sv_main sv_bootstrapmaterial_css",container:"sv_container",header:"card-heading",body:"card-body",bodyEmpty:"card-body sv_body_empty",footer:"card-footer",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"btn-primary sv_nav_btn",completedPage:"",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"progress center-block mx-auto mb-4",progressBar:"progress-bar",progressTextUnderBar:"sv-hidden",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"",title:"",description:"small"},pageTitle:"",pageDescription:"small",row:"sv_row",question:{mainRoot:"sv_qstn form-group bmd-form-group",flowRoot:"sv_q_flow form-group bmd-form-group",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"small",descriptionUnderInput:"small",comment:"form-control",required:"",titleRequired:"",hasError:"has-error",indent:20,formGroup:"form-group bmd-form-group",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"small sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qbln checkbox",rootRadio:"sv_qbln form-inline checkbox",item:"sv-boolean",control:"sv-visuallyhidden",controlCheckbox:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator",itemDecorator:"sv-item__svg sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbx",item:"checkbox",itemChecked:"checked",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemInline:"sv_q_checkbox_inline",itemDecorator:"sv-hidden",itemControl:"",label:"",labelChecked:"",controlLabel:"",materialDecorator:"checkbox-decorator",other:"sv_q_checkbox_other form-control",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"form-control",dropdown:{root:"sv_q_dd_root",selectWrapper:"sv_q_dd_select_wrapper",control:"form-control sv_q_dd_control",controlValue:"sv_q_dd_value",other:"sv_q_dd_other form-control",cleanButton:"sv_q_dd_clean-button",cleanButtonSvg:"sv_q_dd_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv_q_dd_filter-string-input"},tagbox:{root:"sv_q_dd_root",selectWrapper:"sv_q_dd_select_wrapper",control:"form-control sv_q_dd_control",controlValue:"sv_q_dd_value",other:"sv_q_dd_other form-control",cleanButton:"sv_q_dd_clean-button",cleanButtonSvg:"sv_q_dd_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv_q_dd_filter-string-input"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"table sv_q_matrix",row:"form-group bmd-form-group",label:"sv_q_m_label radio-inline",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected bg-primary",cellLabel:"sv_q_m_cell_label",itemValue:"form-control",itemChecked:"checked",itemDecorator:"sv-hidden",materialDecorator:"bmd-radio",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"table",itemValue:"form-group bmd-form-group",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{mainRoot:"sv_qstn",flowRoot:"sv_q_flow",root:"table",button:"btn btn-primary",itemValue:"form-group bmd-form-group",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"",navigation:"sv-paneldynamic__navigation",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",title:"sv-title sv-question__title",button:"button",buttonAdd:"button sv-paneldynamic__add-btn btn btn-primary",buttonRemove:"button sv-paneldynamic__remove-btn btn btn-primary",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",progressBtnIcon:"icon-progressbutton",footer:""},multipletext:{root:"sv_q_mt table",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",itemLabel:"sv_q_mt_label",row:"form-group bmd-form-group",itemValue:"sv_q_mt_item_value form-control"},radiogroup:{root:"",item:"radio",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"",labelChecked:"",itemControl:"",controlLabel:"sv_q_radiogroup_control_label",materialDecorator:"bmd-radio",other:"sv_q_radiogroup_other form-control",clearButton:"sv_q_radiogroup_clear button btn btn-primary",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",itemInline:"sv_q_imagepicker_inline",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"btn-group",item:"btn btn-default btn-secondary",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"form-control",expression:"form-control",file:{root:"form-group bmd-form-group is-fileinput sv_q_file",placeholderInput:"",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv_q_file_input",fileSign:"sv_q_file_sign",removeFile:"sv_q_file_remove",fileDecorator:"sv-hidden",removeButtonBottom:"sv-hidden",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"alert alert-info",error:"alert alert-danger",success:"alert alert-success",saveAgainButton:""},window:{root:"modal-content",body:"modal-body",header:{root:"modal-header card-title",title:"pull-left",button:"glyphicon pull-right",buttonExpanded:"glyphicon pull-right glyphicon-chevron-up",buttonCollapsed:"glyphicon pull-right glyphicon-chevron-down"}}};n.surveyCss.bootstrapmaterial=y},"./src/defaultCss/cssmodern.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"modernCss",function(){return y});var n=e("./src/defaultCss/cssstandard.ts"),y={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component"},tagbox:{root:"",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-hidden",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component"},comment:{root:"sv-comment",small:"sv-row__question--small"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-modern-mark"}};n.surveyCss.modern=y},"./src/defaultCss/cssstandard.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"surveyCss",function(){return n}),e.d(t,"defaultStandardCss",function(){return y});var n={currentType:"",getCss:function(){var T=this.currentType?this[this.currentType]:y;return T||(T=y),T}},y={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"",dropdown:{root:"",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text"},text:"sv_q_text_root",expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-default-mark"},tagbox:{root:"",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input"}};n.standard=y},"./src/defaultCss/defaultV2Css.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"defaultV2Css",function(){return y});var n=e("./src/defaultCss/cssstandard.ts"),y={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",rootReadOnly:"sd-root--readonly",container:"sd-container-modern",header:"sd-title sd-container-modern__title",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",navigationButton:""},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder"},progress:"sd-progress sd-body__progress",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",pageRow:"sd-page__row",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentLeft:"sd-question__content--left",titleLeftRoot:"sd-question--left",titleOnAnswer:"sd-question__title--answer",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",formGroup:"sd-question__form-group",hasError:"sd-question--error",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex",disabled:"sd-question--disabled"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-question__erbox",icon:"",item:"",tooltip:"sd-question__erbox--tooltip",outsideQuestion:"sd-question__erbox--outside-question",aboveQuestion:"sd-question__erbox--above-question",belowQuestion:"sd-question__erbox--below-question",locationTop:"sd-question__erbox--location--top",locationBottom:"sd-question__erbox--location--bottom"},checkbox:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",label:"sd-boolean__label",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-checkbox--disabled",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",row:"sd-multipletext__row",cell:"sd-multipletext__cell"},dropdown:{root:"sd-selectbase",small:"sd-row__question--small",selectWrapper:"",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"#icon-no-image",column:"sd-selectbase__column sd-imagepicker__column"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix",root:"sd-table sd-matrix__table",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",actionsCell:"sd-table__cell sd-table__cell--actions",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",cell:"sd-table__cell",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",actionsCell:"sd-table__cell sd-table__cell--actions",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-scrollable-container sd-rating sd-rating--wrappable",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",control:"sd-input sd-dropdown",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",onError:"sd-input--error"},expression:"",file:{root:"sd-file",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-context-btn sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn sd-context-btn--negative sd-file__btn sd-file__clean-btn",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootDesignMode:"sv-ranking--design-mode",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",imagepickerGapBetweenItems:"--sd-imagepicker-gap",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",small:"sd-row__question--small",selectWrapper:"",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator"}};n.surveyCss.defaultV2=y},"./src/defaultTitle.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DefaultTitleModel",function(){return y});var n=e("./src/utils/cssClassBuilder.ts"),y=function(){function T(){}return T.getIconCss=function(v,O){return(new n.CssClassBuilder).append(v.icon).append(v.iconExpanded,!O).toString()},T}()},"./src/dragdrop/choices.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragDropChoices",function(){return T});var v,n=e("./src/dragdrop/core.ts"),y=(v=function(O,C){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,i){E.__proto__=i}||function(E,i){for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(E[f]=i[f])})(O,C)},function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function E(){this.constructor=O}v(O,C),O.prototype=null===C?Object.create(C):(E.prototype=C.prototype,new E)}),T=function(v){function O(){var C=null!==v&&v.apply(this,arguments)||this;return C.doDragOver=function(){"imagepicker"!==C.parentElement.getType()&&(C.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="grabbing")},C.doBanDropHere=function(){"imagepicker"!==C.parentElement.getType()&&(C.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="not-allowed")},C}return y(O,v),Object.defineProperty(O.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),O.prototype.createDraggedElementShortcut=function(C,E,i){if("imagepicker"===this.parentElement.getType())return this.createImagePickerShortcut(this.draggedElement,C,E,i);var f=document.createElement("div");f.style.cssText=' \n          cursor: grabbing;\n          position: absolute;\n          z-index: 1000;\n          font-family: "Open Sans";\n        ';var l=E.closest("[data-sv-drop-target-item-value]").cloneNode(!0);l.style.cssText="\n      min-width: 100px;\n      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);\n      background-color: var(--background, white);\n      border-radius: 36px;\n      padding-right: 16px;\n      margin-left: 0;\n    ",l.querySelector(".svc-item-value-controls__drag-icon").style.visibility="visible",l.querySelector(".svc-item-value-controls__remove").style.backgroundColor="transparent",l.classList.remove("svc-item-value--moveup"),l.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,f.appendChild(l);var d=E.getBoundingClientRect();return f.shortcutXOffset=i.clientX-d.x,f.shortcutYOffset=i.clientY-d.y,this.isBottom=null,f},O.prototype.createImagePickerShortcut=function(C,E,i,f){var _=document.createElement("div");_.style.cssText=" \n      cursor: grabbing;\n      position: absolute;\n      z-index: 1000;\n      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);\n      padding: 4px;\n      border-radius: 4px;\n      background: white;\n    ";var l=i.closest("[data-sv-drop-target-item-value]"),m=l.querySelector(".svc-image-item-value-controls"),h=l.querySelector(".sd-imagepicker__image-container"),d=l.querySelector(C.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return m.style.display="none",h.style.width=d.width+"px",h.style.height=d.height+"px",d.style.objectFit="cover",d.style.borderRadius="4px",_.appendChild(d),_},O.prototype.findDropTargetNodeByDragOverNode=function(C){return C.closest(this.dropTargetDataAttributeName)},O.prototype.getDropTargetByDataAttributeValue=function(C){return this.parentElement.choices.filter(function(i){return""+i.value==C})[0]},O.prototype.getVisibleChoices=function(){var C=this.parentElement;return"ranking"===C.getType()?C.rankingChoices:C.visibleChoices},O.prototype.isDropTargetValid=function(C){var E=this.getVisibleChoices();if("imagepicker"!==this.parentElement.getType()){var i=E.indexOf(this.dropTarget),f=E.indexOf(this.draggedElement);if(f>i&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(f<i&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return-1!==E.indexOf(C)},O.prototype.calculateIsBottom=function(C){var E=this.getVisibleChoices();return E.indexOf(this.dropTarget)-E.indexOf(this.draggedElement)>0},O.prototype.afterDragOver=function(C){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var E=this.getVisibleChoices(),i=E.indexOf(this.dropTarget),f=E.indexOf(this.draggedElement);E.splice(f,1),E.splice(i,0,this.draggedElement),"imagepicker"!==this.parentElement.getType()&&(f!==i&&(C.classList.remove("svc-item-value--moveup"),C.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),f>i&&(this.dropTarget.isDragDropMoveDown=!0),f<i&&(this.dropTarget.isDragDropMoveUp=!0),v.prototype.ghostPositionChanged.call(this))}},O.prototype.doDrop=function(){var C=this.parentElement.choices,E=this.getVisibleChoices().filter(function(_){return-1!==C.indexOf(_)}),i=C.indexOf(this.draggedElement),f=E.indexOf(this.draggedElement);return C.splice(i,1),C.splice(f,0,this.draggedElement),this.parentElement},O.prototype.doClear=function(){this.updateVisibleChoices()},O.prototype.updateVisibleChoices=function(){var C=this.parentElement;"ranking"===this.parentElement.getType()?C.updateRankingChoices():C.updateVisibleChoices()},O}(n.DragDropCore)},"./src/dragdrop/core.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragDropCore",function(){return E});var i,n=e("./src/base.ts"),y=e("./src/jsonobject.ts"),T=e("./src/utils/utils.ts"),v=e("./src/utils/devices.ts"),O=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)});typeof window<"u"&&window.addEventListener("touchmove",function(i){!E.PreventScrolling||i.preventDefault()},{passive:!1});var E=function(i){function f(_,l,m){var h=i.call(this)||this;return h.surveyValue=_,h.creator=l,h.longTap=m,h.onGhostPositionChanged=new n.EventBase,h.onBeforeDrop=new n.EventBase,h.onAfterDrop=new n.EventBase,h.draggedElement=null,h.dropTarget=null,h.prevDropTarget=null,h.draggedElementShortcut=null,h.scrollIntervalId=null,h.allowDropHere=!1,h.stopLongTapIfMoveEnough=function(d){d.preventDefault(),h.currentX=d.pageX,h.currentY=d.pageY,!h.isMicroMovement&&(document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select",""),h.stopLongTap())},h.stopLongTap=function(d){clearTimeout(h.timeoutID),h.timeoutID=null,document.removeEventListener("pointerup",h.stopLongTap),document.removeEventListener("pointermove",h.stopLongTapIfMoveEnough)},h.onContextMenu=function(d){d.preventDefault(),d.stopPropagation()},h.dragOver=function(d){h.moveShortcutElement(d),h.draggedElementShortcut.style.cursor="grabbing";var c=h.findDropTargetNodeFromPoint(d.clientX,d.clientY);if(c){h.dropTarget=h.getDropTargetByNode(c,d);var a=h.isDropTargetValid(h.dropTarget,c);if(h.doDragOver(c,d),a){var s=h.calculateIsBottom(d.clientY,c);h.allowDropHere=!0,!h.isDropTargetDoesntChanged(s)&&(h.isBottom=null,h.isBottom=s,h.afterDragOver(c,d),h.prevDropTarget=h.dropTarget)}else h.banDropHere()}else h.banDropHere()},h.drop=function(){if(h.allowDropHere){h.onBeforeDrop.fire(h,null);var d=h.doDrop();h.onAfterDrop.fire(h,{draggedElement:d})}h.clear()},h.handlePointerCancel=function(d){h.clear()},h.handleEscapeButton=function(d){27==d.keyCode&&h.clear()},h.banDropHere=function(){h.allowDropHere=!1,h.doBanDropHere(),h.dropTarget=null,h.draggedElementShortcut.style.cursor="not-allowed",h.isBottom=null},h.doBanDropHere=function(){},h.clear=function(){cancelAnimationFrame(h.scrollIntervalId),document.removeEventListener("pointermove",h.dragOver),document.removeEventListener("pointercancel",h.handlePointerCancel),document.removeEventListener("keydown",h.handleEscapeButton),document.removeEventListener("pointerup",h.drop),h.draggedElementShortcut.removeEventListener("pointerup",h.drop),v.IsTouch&&h.draggedElementShortcut.removeEventListener("contextmenu",h.onContextMenu),document.body.removeChild(h.draggedElementShortcut),h.doClear(),h.dropTarget=null,h.draggedElementShortcut=null,h.draggedElement=null,h.isBottom=null,h.parentElement=null,h.scrollIntervalId=null,v.IsTouch&&(h.savedTargetNode&&document.body.removeChild(h.savedTargetNode),f.PreventScrolling=!1),document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select","")},h}return O(f,i),f.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(f.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-".concat(this.draggedElementType,"]")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),f.prototype.startDrag=function(_,l,m,h,d){void 0===d&&(d=!1),v.IsTouch?this.startLongTapProcessing(_,l,m,h,d):this.doStartDrag(_,l,m,h)},f.prototype.startLongTapProcessing=function(_,l,m,h,d){var c=this;void 0===d&&(d=!1),this.startX=_.pageX,this.startY=_.pageY,document.body.style.setProperty("touch-action","none","important"),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),this.timeoutID=setTimeout(function(){c.doStartDrag(_,l,m,h),d||(c.savedTargetNode=_.target,c.savedTargetNode.style.cssText="\n          position: absolute;\n          height: 1px!important;\n          width: 1px!important;\n          overflow: hidden;\n          clip: rect(1px 1px 1px 1px);\n          clip: rect(1px, 1px, 1px, 1px);\n        ",document.body.appendChild(c.savedTargetNode)),c.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},Object.defineProperty(f.prototype,"isMicroMovement",{get:function(){var l=Math.abs(this.currentX-this.startX),m=Math.abs(this.currentY-this.startY);return l<5&&m<5},enumerable:!1,configurable:!0}),f.prototype.doStartDrag=function(_,l,m,h){if(v.IsTouch&&(f.PreventScrolling=!0),3!==_.which){this.draggedElement=l,this.parentElement=m,this.onStartDrag();var d=this.getShortcutText(this.draggedElement);this.draggedElementShortcut=this.createDraggedElementShortcut(d,h,_),document.body.append(this.draggedElementShortcut),this.moveShortcutElement(_),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),v.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop)}},f.prototype.isDropTargetDoesntChanged=function(_){return this.dropTarget===this.prevDropTarget&&_===this.isBottom},f.prototype.onStartDrag=function(){},f.prototype.getShortcutText=function(_){return _.shortcutText},f.prototype.createDraggedElementShortcut=function(_,l,m){var h=document.createElement("div");return h.innerText=_,h.className=this.getDraggedElementClass(),h},f.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},f.prototype.doDragOver=function(_,l){},f.prototype.afterDragOver=function(_,l){},f.prototype.getGhostPosition=function(_){return this.dropTarget!==_?null:this.isBottom?"bottom":"top"},f.prototype.moveShortcutElement=function(_){this.doScroll(_.clientY,_.clientX);var l=this.draggedElementShortcut.offsetHeight,m=this.draggedElementShortcut.offsetWidth,h=this.draggedElementShortcut.shortcutXOffset||m/2,d=this.draggedElementShortcut.shortcutYOffset||l/2;0!==document.querySelectorAll("[dir='rtl']").length&&(h=m/2,d=l/2);var c=document.documentElement.clientHeight,a=document.documentElement.clientWidth,s=this.getShortcutBottomCoordinate(_.clientY,l,d);return this.getShortcutRightCoordinate(_.clientX,m,h)>=a?(this.draggedElementShortcut.style.left=_.pageX-_.clientX+a-m+"px",void(this.draggedElementShortcut.style.top=_.pageY-d+"px")):_.clientX-h<=0?(this.draggedElementShortcut.style.left=_.pageX-_.clientX+"px",void(this.draggedElementShortcut.style.top=_.pageY-d+"px")):s>=c?(this.draggedElementShortcut.style.left=_.pageX-h+"px",void(this.draggedElementShortcut.style.top=_.pageY-_.clientY+c-l+"px")):_.clientY-d<=0?(this.draggedElementShortcut.style.left=_.pageX-h+"px",void(this.draggedElementShortcut.style.top=_.pageY-_.clientY+"px")):(this.draggedElementShortcut.style.left=_.pageX-h+"px",void(this.draggedElementShortcut.style.top=_.pageY-d+"px"))},f.prototype.getShortcutBottomCoordinate=function(_,l,m){return _+l-m},f.prototype.getShortcutRightCoordinate=function(_,l,m){return _+l-m},f.prototype.doScroll=function(_,l){var m=this;cancelAnimationFrame(this.scrollIntervalId);this.draggedElementShortcut.hidden=!0;var d=document.elementFromPoint(l,_);this.draggedElementShortcut.hidden=!1;var a,s,r,o,c=Object(T.findScrollableParent)(d);"HTML"===c.tagName?(a=0,s=document.documentElement.clientHeight,r=0,o=document.documentElement.clientWidth):(a=c.getBoundingClientRect().top,s=c.getBoundingClientRect().bottom,r=c.getBoundingClientRect().left,o=c.getBoundingClientRect().right);var S=function(){_-a<=50?c.scrollTop-=15:s-_<=50?c.scrollTop+=15:o-l<=50?c.scrollLeft+=15:l-r<=50&&(c.scrollLeft-=15),m.scrollIntervalId=requestAnimationFrame(S)};this.scrollIntervalId=requestAnimationFrame(S)},f.prototype.getDataAttributeValueByNode=function(_){var l=this,m="svDropTarget";return this.draggedElementType.split("-").forEach(function(d){m+=l.capitalizeFirstLetter(d)}),_.dataset[m]},f.prototype.getDropTargetByNode=function(_,l){var m=this.getDataAttributeValueByNode(_);return this.getDropTargetByDataAttributeValue(m,_,l)},f.prototype.capitalizeFirstLetter=function(_){return _.charAt(0).toUpperCase()+_.slice(1)},f.prototype.calculateVerticalMiddleOfHTMLElement=function(_){var l=_.getBoundingClientRect();return l.y+l.height/2},f.prototype.calculateHorizontalMiddleOfHTMLElement=function(_){var l=_.getBoundingClientRect();return l.x+l.width/2},f.prototype.findDropTargetNodeFromPoint=function(_,l){this.draggedElementShortcut.hidden=!0;var m=document.elementFromPoint(_,l);return this.draggedElementShortcut.hidden=!1,m?this.findDropTargetNodeByDragOverNode(m):null},f.prototype.findDropTargetNodeByDragOverNode=function(_){return _.querySelector(this.dropTargetDataAttributeName)||_.closest(this.dropTargetDataAttributeName)},f.prototype.doClear=function(){},f.PreventScrolling=!1,function(i,f,_,l){var d,m=arguments.length,h=m<3?f:null===l?l=Object.getOwnPropertyDescriptor(f,_):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(i,f,_,l);else for(var c=i.length-1;c>=0;c--)(d=i[c])&&(h=(m<3?d(h):m>3?d(f,_,h):d(f,_))||h);m>3&&h&&Object.defineProperty(f,_,h)}([Object(y.property)({defaultValue:null,onSet:function(_,l){l.ghostPositionChanged()}})],f.prototype,"isBottom",void 0),f}(n.Base)},"./src/dragdrop/matrix-rows.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragDropMatrixRows",function(){return T});var v,n=e("./src/dragdrop/core.ts"),y=(v=function(O,C){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,i){E.__proto__=i}||function(E,i){for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(E[f]=i[f])})(O,C)},function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function E(){this.constructor=O}v(O,C),O.prototype=null===C?Object.create(C):(E.prototype=C.prototype,new E)}),T=function(v){function O(){var C=null!==v&&v.apply(this,arguments)||this;return C.fromIndex=null,C.toIndex=null,C.doDrop=function(){return C.parentElement.moveRowByIndex(C.fromIndex,C.toIndex),C.parentElement},C}return y(O,v),Object.defineProperty(O.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),O.prototype.createDraggedElementShortcut=function(C,E,i){var f=this,_=document.createElement("div");_.style.cssText=' \n          cursor: grabbing;\n          position: absolute;\n          z-index: 1000;\n          font-family: "Open Sans";\n        ';var m=E.closest("[data-sv-drop-target-matrix-row]"),h=m.cloneNode(!0);h.style.cssText="\n      box-shadow: rgb(0 0 0 / 10%) 0px 8px 16px;\n      background-color: white;\n      display: flex;\n      flex-grow: 0;\n      flex-shrink: 0;\n      align-items: center;\n      line-height: 0;\n      width: ".concat(m.offsetWidth,"px;\n    "),h.classList.remove("sv-matrix__drag-drop--moveup"),h.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,_.appendChild(h);var d=E.getBoundingClientRect();return _.shortcutXOffset=i.clientX-d.x,_.shortcutYOffset=i.clientY-d.y,this.parentElement.renderedTable.rows.forEach(function(a,s){a.row===f.draggedElement&&(a.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),_},O.prototype.getDropTargetByDataAttributeValue=function(C){return this.parentElement.renderedTable.rows.filter(function(f){return f.row.id===C})[0].row},O.prototype.isDropTargetValid=function(C){return!0},O.prototype.findDropTargetNodeByDragOverNode=function(C){return C.closest(this.dropTargetDataAttributeName)},O.prototype.calculateIsBottom=function(C){var i=this.parentElement.renderedTable.rows.map(function(f){return f.row});return i.indexOf(this.dropTarget)-i.indexOf(this.draggedElement)>0},O.prototype.afterDragOver=function(C){var E=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var i,f,_,l=this.parentElement.renderedTable.rows;l.forEach(function(m,h){m.row===E.dropTarget&&(i=h),m.row===E.draggedElement&&(f=h,(_=m).isGhostRow=!0)}),l.splice(f,1),l.splice(i,0,_),this.toIndex=i,v.prototype.ghostPositionChanged.call(this)}},O.prototype.doClear=function(){this.parentElement.resetRenderedTable(),this.fromIndex=null,this.toIndex=null},O}(n.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragDropRankingChoices",function(){return O});var C,n=e("./src/dragdrop/choices.ts"),y=e("./src/utils/cssClassBuilder.ts"),T=e("./src/utils/devices.ts"),v=(C=function(E,i){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(f[l]=_[l])})(E,i)},function(E,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function f(){this.constructor=E}C(E,i),E.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)}),O=function(C){function E(){var i=null!==C&&C.apply(this,arguments)||this;return i.isDragOverRootNode=!1,i.doDragOver=function(){i.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="grabbing"},i.doBanDropHere=function(){i.isDragOverRootNode?i.allowDropHere=!0:i.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="not-allowed"},i.doDrop=function(){return i.parentElement.setValue(),i.parentElement},i.doClear=function(){i.parentElement.dropTargetNodeMove=null,i.parentElement.updateRankingChoices(!0)},i}return v(E,C),Object.defineProperty(E.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),E.prototype.createDraggedElementShortcut=function(i,f,_){var l=document.createElement("div");l.className=this.shortcutClass+" sv-ranking-shortcut",l.style.cssText=' \n          cursor: grabbing;\n          position: absolute;\n          z-index: 1000;\n          border-radius: 36px;\n          min-width: 100px;\n          box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);\n          background-color: var(--background, white);\n          padding-right: 16px;\n          padding-left: 20px;\n          font-family: "Open Sans";\n        ';var h=f.cloneNode(!0);l.appendChild(h);var d=f.getBoundingClientRect();return l.shortcutXOffset=_.clientX-d.x,l.shortcutYOffset=_.clientY-d.y,l},Object.defineProperty(E.prototype,"shortcutClass",{get:function(){return(new y.CssClassBuilder).append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,T.IsMobile).toString()},enumerable:!1,configurable:!0}),E.prototype.getDropTargetByDataAttributeValue=function(i){return this.parentElement.rankingChoices[i]},E.prototype.findDropTargetNodeByDragOverNode=function(i){return this.isDragOverRootNode=this.getIsDragOverRootNode(i),i.closest(this.dropTargetDataAttributeName)},E.prototype.getIsDragOverRootNode=function(i){return"string"==typeof i.className&&-1!==i.className.indexOf("sv-ranking")},E.prototype.isDropTargetValid=function(i,f){var _=this.parentElement.rankingChoices,l=_.indexOf(this.dropTarget),m=_.indexOf(this.draggedElement);return m>l&&f.classList.contains("sv-dragdrop-moveup")||m<l&&f.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):-1!==_.indexOf(i)},E.prototype.calculateIsBottom=function(i){var f=this.parentElement.rankingChoices;return f.indexOf(this.dropTarget)-f.indexOf(this.draggedElement)>0},E.prototype.afterDragOver=function(i){var f=this.parentElement.rankingChoices,_=f.indexOf(this.dropTarget),l=f.indexOf(this.draggedElement);f.splice(l,1),f.splice(_,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",f),this.updateDraggedElementShortcut(_+1),l!==_&&(i.classList.remove("sv-dragdrop-moveup"),i.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),l>_&&(this.parentElement.dropTargetNodeMove="down"),l<_&&(this.parentElement.dropTargetNodeMove="up")},E.prototype.updateDraggedElementShortcut=function(i){var f=i+"";this.draggedElementShortcut.querySelector(".sv-ranking-item__index").innerText=f},E.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,C.prototype.ghostPositionChanged.call(this)},E}(n.DragDropChoices)},"./src/dragdrop/survey-elements.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragDropSurveyElements",function(){return O});var C,n=e("./src/survey-element.ts"),y=e("./src/jsonobject.ts"),T=e("./src/dragdrop/core.ts"),v=(C=function(E,i){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(f[l]=_[l])})(E,i)},function(E,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function f(){this.constructor=E}C(E,i),E.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)}),O=function(C){function E(){var i=null!==C&&C.apply(this,arguments)||this;return i.isEdge=!1,i.prevIsEdge=null,i.ghostSurveyElement=null,i.isDraggedElementSelected=!1,i.doBanDropHere=function(){i.removeGhostElementFromSurvey(),i.isEdge=null},i.doDrop=function(){return i.dropTarget?(document.activeElement.blur(),i.insertRealElementIntoSurvey()):null},i.doClear=function(){i.removeGhostElementFromSurvey(),i.isEdge=null,i.ghostSurveyElement=null,i.draggedElement&&(i.draggedElement.isDragMe=!1),i.isRight=null},i}return v(E,C),Object.defineProperty(E.prototype,"draggedElementType",{get:function(){return"survey-element"},enumerable:!1,configurable:!0}),E.prototype.startDragToolboxItem=function(i,f,_){var m=this.createElementFromJson(f);m.toolboxItemTitle=_,this.startDrag(i,m,null,null,!0)},E.prototype.startDragSurveyElement=function(i,f,_){this.isDraggedElementSelected=_,this.startDrag(i,f)},E.prototype.getShortcutText=function(i){return i.toolboxItemTitle||C.prototype.getShortcutText.call(this,i)},E.prototype.createDraggedElementShortcut=function(i,f,_){var l=document.createElement("div"),m=document.createElement("span");return m.className="svc-dragged-element-shortcut__text",m.innerText=i,l.appendChild(this.createDraggedElementIcon()),l.appendChild(m),l.className=this.getDraggedElementClass(),l},E.prototype.createDraggedElementIcon=function(){var i=document.createElement("span"),f=this.draggedElement.getType(),_='<svg class="sv-svg-icon" role="img" style="width: 24px; height: 24px;"><use xlink:href="#icon-'.concat(f,'"></use></svg>');return i.className="svc-dragged-element-shortcut__icon",i.innerHTML=_,i},E.prototype.getDraggedElementClass=function(){var i="svc-dragged-element-shortcut";return this.isDraggedElementSelected&&(i+=" svc-dragged-element-shortcut--selected"),i},E.prototype.createElementFromJson=function(i){var f=this.createNewElement(i);return f.setSurveyImpl?f.setSurveyImpl(this.survey):f.setData(this.survey),f.renderWidth="100%",f},E.prototype.createNewElement=function(i){var f=y.Serializer.createClass(i.type);return(new y.JsonObject).toObject(i,f),f},E.prototype.getDropTargetByDataAttributeValue=function(i,f,_){if(this.isEdge=this.calculateIsEdge(f,_.clientY),!i){var l=f.parentElement.closest(this.dropTargetDataAttributeName);i=this.getDataAttributeValueByNode(l)}if(!i)throw new Error("Can't find drop target survey element name");if(i===E.ghostSurveyElementName)return this.prevDropTarget;if("newGhostPage"===i)return E.newGhostPage;var h,d,m=this.survey.getPageByName(i);if(m)return 0!==m.elements.length?null:m;if(this.survey.pages.forEach(function(s){(d=s.getElementByName(i))&&(h=d)}),"paneldynamic"===h.getType()&&!this.isEdge&&(h=h.template),"matrixdropdown"!==h.getType()&&"matrixdynamic"!==h.getType()||"none"===h.detailPanelMode||this.isEdge?h.isPanel&&(h=this.getPanelDropTarget(f,h,_)):h=h.detailPanel,!h.page){var c=f.parentElement.closest("[data-sv-drop-target-page]"),a=this.survey.getPageByName(i=c.dataset.svDropTargetPage);h.__page=a}return h},E.prototype.isDropTargetValid=function(){return!(!this.dropTarget||this.dropTarget===this.draggedElement||"paneldynamic"===this.draggedElement.getType()&&this.dropTarget===this.draggedElement.template||E.restrictDragQuestionBetweenPages&&this.shouldRestricDragQuestionBetweenPages(this.dropTarget))},E.prototype.calculateIsBottom=function(i,f){return this.getDataAttributeValueByNode(f)===E.ghostSurveyElementName?this.isBottom:i>=this.calculateVerticalMiddleOfHTMLElement(f)},E.prototype.calculateIsRight=function(i,f){return this.getDataAttributeValueByNode(f)===E.ghostSurveyElementName?this.isRight:i>=this.calculateHorizontalMiddleOfHTMLElement(f)},E.prototype.isDropTargetDoesntChanged=function(i){return this.dropTarget===this.ghostSurveyElement||this.dropTarget===this.prevDropTarget&&i===this.isBottom&&this.isEdge===this.prevIsEdge&&this.isRight===this.prevIsRight},E.prototype.shouldRestricDragQuestionBetweenPages=function(i){var f=this.draggedElement.page;return f&&f!==(i.isPage?i:i.page)},E.prototype.getPanelDropTarget=function(i,f,_){return!this.isEdge&&0!==f.questions.length&&(i=this.findDeepestDropTargetChild(i),f=this.getDropTargetByNode(i,_)),f},E.prototype.findDeepestDropTargetChild=function(i){for(var f=this.dropTargetDataAttributeName,_=i;i;)_=i,i=i.querySelector(f);return _},E.prototype.calculateIsEdge=function(i,f){var _=i.getBoundingClientRect();return f-_.top<=E.edgeHeight||_.bottom-f<=E.edgeHeight},E.prototype.doDragOver=function(i,f){this.isRight=this.calculateIsRight(f.clientX,i)},E.prototype.afterDragOver=function(i,f){this.prevIsEdge=this.isEdge,this.prevIsRight=this.isRight,this.insertGhostElementIntoSurvey()},E.prototype.onStartDrag=function(){this.ghostSurveyElement=this.createGhostSurveyElement(),this.draggedElement.isDragMe=!0},E.prototype.insertGhostElementIntoSurvey=function(){this.removeGhostElementFromSurvey();var i=this.calcTargetRowMultiple();if(this.ghostSurveyElement=this.createGhostSurveyElement(i),this.ghostSurveyElement.name=E.ghostSurveyElementName,this.parentElement=this.dropTarget.isPage?this.dropTarget:this.dropTarget.page||this.dropTarget.__page,this.isDragOverInsideEmptyPanel())this.dropTarget.dragTypeOverMe=n.DragTypeOverMeEnum.InsideEmptyPanel;else{if(this.isEdge||!i)return this.parentElement.dragDropStart(this.draggedElement,this.ghostSurveyElement,E.nestedPanelDepth),this.parentElement.dragDropMoveTo(this.dropTarget,i?this.isRight:this.isBottom,this.isEdge);this.dropTarget.dragTypeOverMe=this.isRight?n.DragTypeOverMeEnum.MultilineRight:n.DragTypeOverMeEnum.MultilineLeft}},E.prototype.calcTargetRowMultiple=function(){var i=this.getTargetParent(this.dropTarget),f=this.getTargetRow(this.dropTarget),_=f&&f.elements.length>1;return this.isEdge&&_&&(!i.isPanel||i.name)?(i.__page=this.dropTarget.page||this.dropTarget.__page,this.dropTarget=i,!1):_},E.prototype.getTargetParent=function(i){var f=i.isPage||i.isPanel?i:i.parent;return"paneldynamic"===i.getType()&&(f=i.templateValue),f},E.prototype.getTargetRow=function(i){var _;return this.getTargetParent(i).rows.forEach(function(l){-1!==l.elements.indexOf(i)&&(_=l)}),_},E.prototype.isDragOverInsideEmptyPanel=function(){return this.dropTarget.isPanel&&0===this.dropTarget.questions.length&&!this.isEdge},E.prototype.removeGhostElementFromSurvey=function(){var i=this.prevDropTarget||this.dropTarget;i&&(i.dragTypeOverMe=null),this.parentElement&&this.parentElement.dragDropFinish(!0)},E.prototype.insertRealElementIntoSurvey=function(){this.removeGhostElementFromSurvey();var i=this.calcTargetRowMultiple();this.dropTarget.isPage&&this.dropTarget._isGhost&&this.dropTarget._addGhostPageViewModel();var f=(new y.JsonObject).toJsonObject(this.draggedElement);f.type=this.draggedElement.getType();var _=this.createFakeTargetElement(this.draggedElement.name,f);return this.parentElement.dragDropStart(this.draggedElement,_,E.nestedPanelDepth),this.parentElement.dragDropMoveTo(this.dropTarget,i?this.isRight:this.isBottom,this.isEdge),this.parentElement.dragDropFinish()},E.prototype.createFakeTargetElement=function(i,f){if(!i||!f)return null;var _=null;return _=y.Serializer.createClass(f.type),(new y.JsonObject).toObject(f,_),_.name=i,_.setSurveyImpl?_.setSurveyImpl(this.survey):_.setData(this.survey),_.renderWidth="100%",_},E.prototype.createGhostSurveyElement=function(i){void 0===i&&(i=!1);var f="sv-drag-drop-ghost",_="300px";i&&(_="4px",f+=" sv-drag-drop-ghost--vertical");var l={type:"html",minWidth:_,name:E.ghostSurveyElementName,html:'<div class="'.concat(f,'"></div>')},m=this.createElementFromJson(l);return m.startWithNewLine=!i,i&&(m.maxWidth="4px",m.renderWidth="0px",m.paddingRight="0px",m.paddingLeft="0px"),m},E.newGhostPage=null,E.restrictDragQuestionBetweenPages=!1,E.edgeHeight=30,E.nestedPanelDepth=-1,E.ghostSurveyElementName="sv-drag-drop-ghost-survey-element-name",E}(T.DragDropCore)},"./src/dropdownListModel.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DropdownListModel",function(){return f});var _,n=e("./src/actions/action.ts"),y=e("./src/base.ts"),T=e("./src/jsonobject.ts"),v=e("./src/list.ts"),O=e("./src/popup.ts"),C=e("./src/utils/utils.ts"),E=(_=function(l,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(h[c]=d[c])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function h(){this.constructor=l}_(l,m),l.prototype=null===m?Object.create(m):(h.prototype=m.prototype,new h)}),i=function(_,l,m,h){var a,d=arguments.length,c=d<3?l:null===h?h=Object.getOwnPropertyDescriptor(l,m):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(_,l,m,h);else for(var s=_.length-1;s>=0;s--)(a=_[s])&&(c=(d<3?a(c):d>3?a(l,m,c):a(l,m))||c);return d>3&&c&&Object.defineProperty(l,m,c),c},f=function(_){function l(m,h){var d=_.call(this)||this;return d.question=m,d.onSelectionChanged=h,d.minPageSize=25,d.loadingItemHeight=40,d.focusFirstInputSelector=".sv-list__item--selected",d.itemsSettings={skip:0,take:0,totalCount:0,items:[]},d.isRunningLoadQuestionChoices=!1,d.popupCssClasses="sv-single-select-list",d.listModel=d.createListModel(),d.updateAfterListModelCreated(d.listModel),d.setSearchEnabled(d.question.searchEnabled),d.createPopup(),d.resetItemsSettings(),d}return E(l,_),l.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},l.prototype.updateListItems=function(){this.listModel.setItems(this.getAvailableItems())},l.prototype.setItems=function(m,h){this.itemsSettings.items=[].concat(this.itemsSettings.items,m),this.question.choices=this.itemsSettings.items,this.itemsSettings.totalCount=h,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.question.choices.length==this.itemsSettings.totalCount,this.updateListItems()},l.prototype.updateQuestionChoices=function(m){var h=this;this.isRunningLoadQuestionChoices||(!this.itemsSettings.skip||this.itemsSettings.skip+1<this.itemsSettings.totalCount)&&(this.isRunningLoadQuestionChoices=!0,this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(c,a){h.isRunningLoadQuestionChoices=!1,h.setItems(c||[],a||0),h.popupRecalculatePosition(h.itemsSettings.skip===h.itemsSettings.take),m&&m()}}),this.itemsSettings.skip+=this.itemsSettings.take)},l.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=!this.listModel.showFilter&&this.question.value?this.focusFirstInputSelector:""},l.prototype.createPopup=function(){var m=this;this._popupModel=new O.PopupModel("sv-list",{model:this.listModel},"bottom","center",!1),this._popupModel.positionMode="fixed",this._popupModel.isFocusedContent=!1,this._popupModel.setWidthByTarget=!0,this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){m.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(h,d){d.isVisible&&m.question.choicesLazyLoadEnabled&&(m.listModel.actions=[],m.updateQuestionChoices()),d.isVisible&&!!m.question.onOpenedCallBack&&(m.updatePopupFocusFirstInputSelector(),m.question.onOpenedCallBack()),d.isVisible||(m.onHidePopup(),m.question.choicesLazyLoadEnabled&&m.resetItemsSettings())})},l.prototype.setFilterStringToListModel=function(m){this.listModel.filterString=m,(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},l.prototype.popupRecalculatePosition=function(m){var h=this;setTimeout(function(){h.popupModel.recalculatePosition(m)},1)},l.prototype.onHidePopup=function(){this.resetFilterString(),this.listModel.refresh()},l.prototype.getAvailableItems=function(){var m=this;return this.question.visibleChoices.map(function(h){return new n.Action({id:h.value,data:h,locTitle:h.locText,component:new y.ComputedUpdater(function(){return m.question.itemComponent}),visible:new y.ComputedUpdater(function(){return h.isVisible}),enabled:new y.ComputedUpdater(function(){return h.isEnabled})})})},l.prototype.createListModel=function(){var m=this,h=this.getAvailableItems(),d=this.onSelectionChanged;return d||(d=function(c){m.question.value=c.id,m._popupModel.toggleVisibility()}),new v.ListModel(h,d,!0,this.question.selectedItem)},l.prototype.updateAfterListModelCreated=function(m){var h=this;m.locOwner=this.question,m.onPropertyChanged.add(function(d,c){"hasVerticalScroller"==c.name&&(h.hasScroll=c.newValue)}),m.isAllDataLoaded=!this.question.choicesLazyLoadEnabled},l.prototype.updateListCssClasses=function(m){this.listModel.cssClasses=m},l.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},l.prototype.onSetFilterString=function(){var m=this;!!this.filterString&&!this.popupModel.isVisible&&(this.popupModel.isVisible=!0),this.setInputHasValue(!!this.filterString);var h=function(){m.setFilterStringToListModel(m.filterString),m.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(h)):h()},l.prototype.setInputHasValue=function(m){this.question.inputHasValue=m},Object.defineProperty(l.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inputReadOnly",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),l.prototype.setSearchEnabled=function(m){this.listModel.searchEnabled=!1,this.searchEnabled=m},l.prototype.updateItems=function(){this.updateListItems()},l.prototype.onClick=function(m){if(this._popupModel.toggleVisibility(),this.listModel.focusNextVisibleItem(),this.searchEnabled&&m&&m.target){var h=m.target.querySelector("input");h&&h.focus()}},l.prototype.onClear=function(m){this.question.clearValue(),this.resetFilterString(),this.listModel.selectedItem=void 0,m.preventDefault(),m.stopPropagation()},l.prototype.getSelectedAction=function(){var m=this;return this.question.selectedItem?this.listModel.actions.filter(function(h){return m.question.selectedItem.value===h.id})[0]:null},l.prototype.keyHandler=function(m){var h=m.which||m.keyCode;this.popupModel.isVisible&&38===m.keyCode?(this.listModel.focusPrevVisibleItem(),this.scrollToFocusedItem(),m.preventDefault(),m.stopPropagation()):40===m.keyCode?(this.popupModel.isVisible||this.popupModel.toggleVisibility(),this.listModel.focusNextVisibleItem(),this.scrollToFocusedItem(),m.preventDefault(),m.stopPropagation()):!this.popupModel.isVisible||13!==m.keyCode&&32!==m.keyCode?46===h?this.onClear(m):27===m.keyCode?this.popupModel.isVisible=!1:((38===m.keyCode||40===m.keyCode||32===m.keyCode)&&(m.preventDefault(),m.stopPropagation()),Object(C.doKey2ClickUp)(m,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})):(this.listModel.selectFocusedItem(),m.preventDefault(),m.stopPropagation())},l.prototype.onScroll=function(m){var h=m.target;h.scrollHeight-(h.scrollTop+h.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},l.prototype.onBlur=function(m){this.popupModel.isVisible&&this.listModel.selectFocusedItem(),this.resetFilterString(),this._popupModel.isVisible=!1,this.setInputHasValue(!1),Object(C.doKey2ClickBlur)(m)},l.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},i([Object(T.property)({defaultValue:!0})],l.prototype,"searchEnabled",void 0),i([Object(T.property)({defaultValue:"",onSet:function(m,h){h.onSetFilterString()}})],l.prototype,"filterString",void 0),i([Object(T.property)({defaultValue:!1,onSet:function(m,h){m?h.listModel.addScrollEventListener(function(d){h.onScroll(d)}):h.listModel.removeScrollEventListener()}})],l.prototype,"hasScroll",void 0),l}(y.Base)},"./src/dropdownMultiSelectListModel.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DropdownMultiSelectListModel",function(){return E});var i,n=e("./src/dropdownListModel.ts"),y=e("./src/itemvalue.ts"),T=e("./src/jsonobject.ts"),v=e("./src/multiSelectListModel.ts"),O=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),C=function(i,f,_,l){var d,m=arguments.length,h=m<3?f:null===l?l=Object.getOwnPropertyDescriptor(f,_):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(i,f,_,l);else for(var c=i.length-1;c>=0;c--)(d=i[c])&&(h=(m<3?d(h):m>3?d(f,_,h):d(f,_))||h);return m>3&&h&&Object.defineProperty(f,_,h),h},E=function(i){function f(_,l){var m=i.call(this,_,l)||this;return m.setHideSelectedItems(_.hideSelectedItems),m.syncFilterStringPlaceholder(),m.closeOnSelect=_.closeOnSelect,m}return O(f,i),f.prototype.syncFilterStringPlaceholder=function(_){var l=_||this.getSelectedActions();this.filterStringPlaceholder=l.length||this.question.selectedItems.length?void 0:this.question.placeholder},f.prototype.getSelectedActions=function(_){var l=this;return(_||this.listModel.actions).filter(function(m){return l.question.isAllSelected&&"selectall"===m.id||!!y.ItemValue.getItemByValue(l.question.selectedItems,m.id)})},f.prototype.syncSelectedItemsFromQuestion=function(){var _=this.getSelectedActions();this.listModel.setSelectedItems(_),this.syncFilterStringPlaceholder(_)},f.prototype.createListModel=function(){var _=this,l=this.getAvailableItems(),m=this.onSelectionChanged;return m||(m=function(h,d){_.resetFilterString(),"selectall"===h.id?_.selectAllItems():"added"===d&&"none"==h.id?_.selectNoneItem():"added"===d?_.selectItem(h.id):"removed"===d&&_.deselectItem(h.id),_.popupRecalculatePosition(!1),_.closeOnSelect&&(_.popupModel.isVisible=!1)}),new v.MultiSelectListModel(l,m,!0,this.getSelectedActions(l))},f.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.syncSelectedItemsFromQuestion()},f.prototype.selectNoneItem=function(){this.question.renderedValue=["none"],this.syncSelectedItemsFromQuestion()},f.prototype.selectItem=function(_){var l=[].concat(this.question.renderedValue||[]);l.push(_),this.question.renderedValue=l,this.syncSelectedItemsFromQuestion()},f.prototype.deselectItem=function(_){var l=[].concat(this.question.renderedValue||[]);l.splice(l.indexOf(_),1),this.question.renderedValue=l,this.syncSelectedItemsFromQuestion()},f.prototype.onClear=function(_){i.prototype.onClear.call(this,_),this.syncSelectedItemsFromQuestion()},f.prototype.setHideSelectedItems=function(_){this.listModel.hideSelectedItems=_,this.syncSelectedItemsFromQuestion()},f.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},f.prototype.inputKeyHandler=function(_){8===_.keyCode&&!this.filterString&&(this.removeLastSelectedItem(),_.preventDefault(),_.stopPropagation())},C([Object(T.property)({defaultValue:""})],f.prototype,"filterStringPlaceholder",void 0),C([Object(T.property)({defaultValue:!0})],f.prototype,"closeOnSelect",void 0),f}(n.DropdownListModel)},"./src/dxSurveyService.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"dxSurveyService",function(){return y});var n=e("./src/settings.ts"),y=function(){function T(){}return Object.defineProperty(T,"serviceUrl",{get:function(){return n.settings.surveyServiceUrl},set:function(v){n.settings.surveyServiceUrl=v},enumerable:!1,configurable:!0}),T.prototype.loadSurvey=function(v,O){var C=new XMLHttpRequest;C.open("GET",T.serviceUrl+"/getSurvey?surveyId="+v),C.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),C.onload=function(){var E=JSON.parse(C.response);O(200==C.status,E,C.response)},C.send()},T.prototype.getSurveyJsonAndIsCompleted=function(v,O,C){var E=new XMLHttpRequest;E.open("GET",T.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+v+"&clientId="+O),E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.onload=function(){var i=JSON.parse(E.response);C(200==E.status,i?i.survey:null,i?i.isCompleted:null,E.response)},E.send()},T.prototype.sendResult=function(v,O,C,E,i){void 0===E&&(E=null),void 0===i&&(i=!1);var f=new XMLHttpRequest;f.open("POST",T.serviceUrl+"/post/"),f.setRequestHeader("Content-Type","application/json; charset=utf-8");var _={postId:v,surveyResult:JSON.stringify(O)};E&&(_.clientId=E),i&&(_.isPartialCompleted=!0);var l=JSON.stringify(_);f.onload=f.onerror=function(){!C||C(200===f.status,f.response,f)},f.send(l)},T.prototype.sendFile=function(v,O,C){var E=new XMLHttpRequest;E.onload=E.onerror=function(){!C||C(200==E.status,JSON.parse(E.response))},E.open("POST",T.serviceUrl+"/upload/",!0);var i=new FormData;i.append("file",O),i.append("postId",v),E.send(i)},T.prototype.getResult=function(v,O,C){var E=new XMLHttpRequest;E.open("GET",T.serviceUrl+"/getResult?resultId="+v+"&name="+O),E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.onload=function(){var _=null,l=null;if(200==E.status)for(var m in l=[],(_=JSON.parse(E.response)).QuestionResult)l.push({name:m,value:_.QuestionResult[m]});C(200==E.status,_,l,E.response)},E.send()},T.prototype.isCompleted=function(v,O,C){var E=new XMLHttpRequest;E.open("GET",T.serviceUrl+"/isCompleted?resultId="+v+"&clientId="+O),E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.onload=function(){var _=null;200==E.status&&(_=JSON.parse(E.response)),C(200==E.status,_,E.response)},E.send()},T}()},"./src/element-helper.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ElementHelper",function(){return n});var n=function(){function y(){}return y.focusElement=function(T){T&&T.focus()},y.visibility=function(T){var v=window.getComputedStyle(T);return"none"!==v.display&&"hidden"!==v.visibility&&(!T.parentElement||this.visibility(T.parentElement))},y.getNextElementPreorder=function(T){var v=T.nextElementSibling?T.nextElementSibling:T.parentElement.firstElementChild;return this.visibility(v)?v:this.getNextElementPreorder(v)},y.getNextElementPostorder=function(T){var v=T.previousElementSibling?T.previousElementSibling:T.parentElement.lastElementChild;return this.visibility(v)?v:this.getNextElementPostorder(v)},y.hasHorizontalScroller=function(T){return!!T&&T.scrollWidth>T.offsetWidth},y.hasVerticalScroller=function(T){return!!T&&T.scrollHeight>T.offsetHeight},y}()},"./src/entries/chunks/model.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"Version",function(){return cn}),e.d(t,"checkLibraryVersion",function(){return an});var n=e("./src/settings.ts");e.d(t,"settings",function(){return n.settings});var y=e("./src/helpers.ts");e.d(t,"Helpers",function(){return y.Helpers});var T=e("./src/validator.ts");e.d(t,"AnswerCountValidator",function(){return T.AnswerCountValidator}),e.d(t,"EmailValidator",function(){return T.EmailValidator}),e.d(t,"NumericValidator",function(){return T.NumericValidator}),e.d(t,"RegexValidator",function(){return T.RegexValidator}),e.d(t,"SurveyValidator",function(){return T.SurveyValidator}),e.d(t,"TextValidator",function(){return T.TextValidator}),e.d(t,"ValidatorResult",function(){return T.ValidatorResult}),e.d(t,"ExpressionValidator",function(){return T.ExpressionValidator}),e.d(t,"ValidatorRunner",function(){return T.ValidatorRunner});var v=e("./src/itemvalue.ts");e.d(t,"ItemValue",function(){return v.ItemValue});var O=e("./src/base.ts");e.d(t,"Base",function(){return O.Base}),e.d(t,"Event",function(){return O.Event}),e.d(t,"EventBase",function(){return O.EventBase}),e.d(t,"ArrayChanges",function(){return O.ArrayChanges}),e.d(t,"ComputedUpdater",function(){return O.ComputedUpdater});var C=e("./src/survey-error.ts");e.d(t,"SurveyError",function(){return C.SurveyError});var E=e("./src/survey-element.ts");e.d(t,"SurveyElementCore",function(){return E.SurveyElementCore}),e.d(t,"SurveyElement",function(){return E.SurveyElement}),e.d(t,"DragTypeOverMeEnum",function(){return E.DragTypeOverMeEnum});var i=e("./src/calculatedValue.ts");e.d(t,"CalculatedValue",function(){return i.CalculatedValue});var f=e("./src/error.ts");e.d(t,"CustomError",function(){return f.CustomError}),e.d(t,"AnswerRequiredError",function(){return f.AnswerRequiredError}),e.d(t,"OneAnswerRequiredError",function(){return f.OneAnswerRequiredError}),e.d(t,"RequreNumericError",function(){return f.RequreNumericError}),e.d(t,"ExceedSizeError",function(){return f.ExceedSizeError});var _=e("./src/localizablestring.ts");e.d(t,"LocalizableString",function(){return _.LocalizableString}),e.d(t,"LocalizableStrings",function(){return _.LocalizableStrings});var l=e("./src/expressionItems.ts");e.d(t,"HtmlConditionItem",function(){return l.HtmlConditionItem}),e.d(t,"UrlConditionItem",function(){return l.UrlConditionItem});var m=e("./src/choicesRestful.ts");e.d(t,"ChoicesRestful",function(){return m.ChoicesRestful}),e.d(t,"ChoicesRestfull",function(){return m.ChoicesRestfull});var h=e("./src/functionsfactory.ts");e.d(t,"FunctionFactory",function(){return h.FunctionFactory}),e.d(t,"registerFunction",function(){return h.registerFunction});var d=e("./src/conditions.ts");e.d(t,"ConditionRunner",function(){return d.ConditionRunner}),e.d(t,"ExpressionRunner",function(){return d.ExpressionRunner}),e.d(t,"ExpressionExecutor",function(){return d.ExpressionExecutor});var c=e("./src/expressions/expressions.ts");e.d(t,"Operand",function(){return c.Operand}),e.d(t,"Const",function(){return c.Const}),e.d(t,"BinaryOperand",function(){return c.BinaryOperand}),e.d(t,"Variable",function(){return c.Variable}),e.d(t,"FunctionOperand",function(){return c.FunctionOperand}),e.d(t,"ArrayOperand",function(){return c.ArrayOperand}),e.d(t,"UnaryOperand",function(){return c.UnaryOperand});var a=e("./src/conditionsParser.ts");e.d(t,"ConditionsParser",function(){return a.ConditionsParser});var s=e("./src/conditionProcessValue.ts");e.d(t,"ProcessValue",function(){return s.ProcessValue});var r=e("./src/jsonobject.ts");e.d(t,"JsonError",function(){return r.JsonError}),e.d(t,"JsonIncorrectTypeError",function(){return r.JsonIncorrectTypeError}),e.d(t,"JsonMetadata",function(){return r.JsonMetadata}),e.d(t,"JsonMetadataClass",function(){return r.JsonMetadataClass}),e.d(t,"JsonMissingTypeError",function(){return r.JsonMissingTypeError}),e.d(t,"JsonMissingTypeErrorBase",function(){return r.JsonMissingTypeErrorBase}),e.d(t,"JsonObject",function(){return r.JsonObject}),e.d(t,"JsonObjectProperty",function(){return r.JsonObjectProperty}),e.d(t,"JsonRequiredPropertyError",function(){return r.JsonRequiredPropertyError}),e.d(t,"JsonUnknownPropertyError",function(){return r.JsonUnknownPropertyError}),e.d(t,"Serializer",function(){return r.Serializer}),e.d(t,"property",function(){return r.property}),e.d(t,"propertyArray",function(){return r.propertyArray});var o=e("./src/question_matrixdropdownbase.ts");e.d(t,"MatrixDropdownCell",function(){return o.MatrixDropdownCell}),e.d(t,"MatrixDropdownRowModelBase",function(){return o.MatrixDropdownRowModelBase}),e.d(t,"QuestionMatrixDropdownModelBase",function(){return o.QuestionMatrixDropdownModelBase});var S=e("./src/question_matrixdropdowncolumn.ts");e.d(t,"MatrixDropdownColumn",function(){return S.MatrixDropdownColumn}),e.d(t,"matrixDropdownColumnTypes",function(){return S.matrixDropdownColumnTypes});var I=e("./src/question_matrixdropdownrendered.ts");e.d(t,"QuestionMatrixDropdownRenderedCell",function(){return I.QuestionMatrixDropdownRenderedCell}),e.d(t,"QuestionMatrixDropdownRenderedRow",function(){return I.QuestionMatrixDropdownRenderedRow}),e.d(t,"QuestionMatrixDropdownRenderedTable",function(){return I.QuestionMatrixDropdownRenderedTable});var x=e("./src/question_matrixdropdown.ts");e.d(t,"MatrixDropdownRowModel",function(){return x.MatrixDropdownRowModel}),e.d(t,"QuestionMatrixDropdownModel",function(){return x.QuestionMatrixDropdownModel});var P=e("./src/question_matrixdynamic.ts");e.d(t,"MatrixDynamicRowModel",function(){return P.MatrixDynamicRowModel}),e.d(t,"QuestionMatrixDynamicModel",function(){return P.QuestionMatrixDynamicModel});var g=e("./src/question_matrix.ts");e.d(t,"MatrixRowModel",function(){return g.MatrixRowModel}),e.d(t,"MatrixCells",function(){return g.MatrixCells}),e.d(t,"QuestionMatrixModel",function(){return g.QuestionMatrixModel});var u=e("./src/martixBase.ts");e.d(t,"QuestionMatrixBaseModel",function(){return u.QuestionMatrixBaseModel});var M=e("./src/question_multipletext.ts");e.d(t,"MultipleTextItemModel",function(){return M.MultipleTextItemModel}),e.d(t,"QuestionMultipleTextModel",function(){return M.QuestionMultipleTextModel});var R=e("./src/panel.ts");e.d(t,"PanelModel",function(){return R.PanelModel}),e.d(t,"PanelModelBase",function(){return R.PanelModelBase}),e.d(t,"QuestionRowModel",function(){return R.QuestionRowModel});var w=e("./src/flowpanel.ts");e.d(t,"FlowPanelModel",function(){return w.FlowPanelModel});var F=e("./src/page.ts");e.d(t,"PageModel",function(){return F.PageModel}),e("./src/template-renderer.ts");var H=e("./src/defaultTitle.ts");e.d(t,"DefaultTitleModel",function(){return H.DefaultTitleModel});var $=e("./src/question.ts");e.d(t,"Question",function(){return $.Question});var j=e("./src/questionnonvalue.ts");e.d(t,"QuestionNonValue",function(){return j.QuestionNonValue});var V=e("./src/question_empty.ts");e.d(t,"QuestionEmptyModel",function(){return V.QuestionEmptyModel});var Q=e("./src/question_baseselect.ts");e.d(t,"QuestionCheckboxBase",function(){return Q.QuestionCheckboxBase}),e.d(t,"QuestionSelectBase",function(){return Q.QuestionSelectBase});var ie=e("./src/question_checkbox.ts");e.d(t,"QuestionCheckboxModel",function(){return ie.QuestionCheckboxModel});var ye=e("./src/question_tagbox.ts");e.d(t,"QuestionTagboxModel",function(){return ye.QuestionTagboxModel});var G=e("./src/question_ranking.ts");e.d(t,"QuestionRankingModel",function(){return G.QuestionRankingModel});var _e=e("./src/question_comment.ts");e.d(t,"QuestionCommentModel",function(){return _e.QuestionCommentModel});var Ie=e("./src/question_dropdown.ts");e.d(t,"QuestionDropdownModel",function(){return Ie.QuestionDropdownModel});var Me=e("./src/questionfactory.ts");e.d(t,"QuestionFactory",function(){return Me.QuestionFactory}),e.d(t,"ElementFactory",function(){return Me.ElementFactory});var Fe=e("./src/question_file.ts");e.d(t,"QuestionFileModel",function(){return Fe.QuestionFileModel});var Ve=e("./src/question_html.ts");e.d(t,"QuestionHtmlModel",function(){return Ve.QuestionHtmlModel});var Pe=e("./src/question_radiogroup.ts");e.d(t,"QuestionRadiogroupModel",function(){return Pe.QuestionRadiogroupModel});var xe=e("./src/question_rating.ts");e.d(t,"QuestionRatingModel",function(){return xe.QuestionRatingModel}),e.d(t,"RenderedRatingItem",function(){return xe.RenderedRatingItem});var be=e("./src/question_expression.ts");e.d(t,"QuestionExpressionModel",function(){return be.QuestionExpressionModel});var Ue=e("./src/question_textbase.ts");e.d(t,"QuestionTextBase",function(){return Ue.QuestionTextBase});var He=e("./src/question_text.ts");e.d(t,"QuestionTextModel",function(){return He.QuestionTextModel});var it=e("./src/question_boolean.ts");e.d(t,"QuestionBooleanModel",function(){return it.QuestionBooleanModel});var je=e("./src/question_imagepicker.ts");e.d(t,"QuestionImagePickerModel",function(){return je.QuestionImagePickerModel}),e.d(t,"ImageItemValue",function(){return je.ImageItemValue});var Be=e("./src/question_image.ts");e.d(t,"QuestionImageModel",function(){return Be.QuestionImageModel});var lt=e("./src/question_signaturepad.ts");e.d(t,"QuestionSignaturePadModel",function(){return lt.QuestionSignaturePadModel});var Ye=e("./src/question_paneldynamic.ts");e.d(t,"QuestionPanelDynamicModel",function(){return Ye.QuestionPanelDynamicModel}),e.d(t,"QuestionPanelDynamicItem",function(){return Ye.QuestionPanelDynamicItem});var et=e("./src/surveytimer.ts");e.d(t,"SurveyTimer",function(){return et.SurveyTimer});var ot=e("./src/surveyTimerModel.ts");e.d(t,"SurveyTimerModel",function(){return ot.SurveyTimerModel});var ge=e("./src/surveyProgress.ts");e.d(t,"SurveyProgressModel",function(){return ge.SurveyProgressModel});var we=e("./src/surveyProgressButtons.ts");e.d(t,"SurveyProgressButtonsModel",function(){return we.SurveyProgressButtonsModel});var me=e("./src/survey.ts");e.d(t,"SurveyModel",function(){return me.SurveyModel});var fe=e("./src/trigger.ts");e.d(t,"SurveyTrigger",function(){return fe.SurveyTrigger}),e.d(t,"SurveyTriggerComplete",function(){return fe.SurveyTriggerComplete}),e.d(t,"SurveyTriggerSetValue",function(){return fe.SurveyTriggerSetValue}),e.d(t,"SurveyTriggerVisible",function(){return fe.SurveyTriggerVisible}),e.d(t,"SurveyTriggerCopyValue",function(){return fe.SurveyTriggerCopyValue}),e.d(t,"SurveyTriggerRunExpression",function(){return fe.SurveyTriggerRunExpression}),e.d(t,"Trigger",function(){return fe.Trigger});var Z=e("./src/popup-survey.ts");e.d(t,"PopupSurveyModel",function(){return Z.PopupSurveyModel}),e.d(t,"SurveyWindowModel",function(){return Z.SurveyWindowModel});var ee=e("./src/textPreProcessor.ts");e.d(t,"TextPreProcessor",function(){return ee.TextPreProcessor});var ue=e("./src/dxSurveyService.ts");e.d(t,"dxSurveyService",function(){return ue.dxSurveyService});var Ce=e("./src/localization/english.ts");e.d(t,"englishStrings",function(){return Ce.englishStrings});var pt=e("./src/surveyStrings.ts");e.d(t,"surveyLocalization",function(){return pt.surveyLocalization}),e.d(t,"surveyStrings",function(){return pt.surveyStrings});var Ze=e("./src/questionCustomWidgets.ts");e.d(t,"QuestionCustomWidget",function(){return Ze.QuestionCustomWidget}),e.d(t,"CustomWidgetCollection",function(){return Ze.CustomWidgetCollection});var ft=e("./src/question_custom.ts");e.d(t,"QuestionCustomModel",function(){return ft.QuestionCustomModel}),e.d(t,"QuestionCompositeModel",function(){return ft.QuestionCompositeModel}),e.d(t,"ComponentQuestionJSON",function(){return ft.ComponentQuestionJSON}),e.d(t,"ComponentCollection",function(){return ft.ComponentCollection});var Dt=e("./src/stylesmanager.ts");e.d(t,"StylesManager",function(){return Dt.StylesManager});var At=e("./src/list.ts");e.d(t,"ListModel",function(){return At.ListModel});var Wt=e("./src/multiSelectListModel.ts");e.d(t,"MultiSelectListModel",function(){return Wt.MultiSelectListModel});var Et=e("./src/popup.ts");e.d(t,"PopupModel",function(){return Et.PopupModel}),e.d(t,"createDialogOptions",function(){return Et.createDialogOptions});var nt=e("./src/popup-view-model.ts");e.d(t,"PopupBaseViewModel",function(){return nt.PopupBaseViewModel});var ct=e("./src/popup-dropdown-view-model.ts");e.d(t,"PopupDropdownViewModel",function(){return ct.PopupDropdownViewModel});var Xe=e("./src/popup-modal-view-model.ts");e.d(t,"PopupModalViewModel",function(){return Xe.PopupModalViewModel});var Ke=e("./src/popup-utils.ts");e.d(t,"createPopupViewModel",function(){return Ke.createPopupViewModel}),e.d(t,"createPopupModalViewModel",function(){return Ke.createPopupModalViewModel});var rt=e("./src/dropdownListModel.ts");e.d(t,"DropdownListModel",function(){return rt.DropdownListModel});var le=e("./src/dropdownMultiSelectListModel.ts");e.d(t,"DropdownMultiSelectListModel",function(){return le.DropdownMultiSelectListModel});var te=e("./src/question_buttongroup.ts");e.d(t,"QuestionButtonGroupModel",function(){return te.QuestionButtonGroupModel}),e.d(t,"ButtonGroupItemModel",function(){return te.ButtonGroupItemModel}),e.d(t,"ButtonGroupItemValue",function(){return te.ButtonGroupItemValue});var J=e("./src/utils/devices.ts");e.d(t,"IsMobile",function(){return J.IsMobile}),e.d(t,"IsTouch",function(){return J.IsTouch});var ne=e("./src/utils/utils.ts");e.d(t,"confirmAction",function(){return ne.confirmAction}),e.d(t,"detectIEOrEdge",function(){return ne.detectIEOrEdge}),e.d(t,"doKey2ClickUp",function(){return ne.doKey2ClickUp}),e.d(t,"doKey2ClickDown",function(){return ne.doKey2ClickDown}),e.d(t,"doKey2ClickBlur",function(){return ne.doKey2ClickBlur}),e.d(t,"loadFileFromBase64",function(){return ne.loadFileFromBase64}),e.d(t,"increaseHeightByContent",function(){return ne.increaseHeightByContent}),e.d(t,"createSvg",function(){return ne.createSvg}),e.d(t,"sanitizeEditableContent",function(){return ne.sanitizeEditableContent});var $e=e("./src/utils/cssClassBuilder.ts");e.d(t,"CssClassBuilder",function(){return $e.CssClassBuilder});var Qe=e("./src/defaultCss/cssstandard.ts");e.d(t,"surveyCss",function(){return Qe.surveyCss});var Tt=e("./src/dragdrop/survey-elements.ts");e.d(t,"DragDropSurveyElements",function(){return Tt.DragDropSurveyElements});var cn,zt=e("./src/dragdrop/choices.ts");function an(vn,Dn){cn!=vn&&console.error("survey-core has version '"+cn+"' and "+Dn+" has version '"+vn+"'. SurveyJS libraries should have the same versions to work correctly.")}e.d(t,"DragDropChoices",function(){return zt.DragDropChoices}),cn="".concat("1.9.64")},"./src/entries/core-wo-model.ts":function(K,t,e){"use strict";e.r(t);var n=e("./src/entries/chunks/model.ts");e.d(t,"Version",function(){return n.Version}),e.d(t,"checkLibraryVersion",function(){return n.checkLibraryVersion}),e.d(t,"settings",function(){return n.settings}),e.d(t,"Helpers",function(){return n.Helpers}),e.d(t,"AnswerCountValidator",function(){return n.AnswerCountValidator}),e.d(t,"EmailValidator",function(){return n.EmailValidator}),e.d(t,"NumericValidator",function(){return n.NumericValidator}),e.d(t,"RegexValidator",function(){return n.RegexValidator}),e.d(t,"SurveyValidator",function(){return n.SurveyValidator}),e.d(t,"TextValidator",function(){return n.TextValidator}),e.d(t,"ValidatorResult",function(){return n.ValidatorResult}),e.d(t,"ExpressionValidator",function(){return n.ExpressionValidator}),e.d(t,"ValidatorRunner",function(){return n.ValidatorRunner}),e.d(t,"ItemValue",function(){return n.ItemValue}),e.d(t,"Base",function(){return n.Base}),e.d(t,"Event",function(){return n.Event}),e.d(t,"EventBase",function(){return n.EventBase}),e.d(t,"ArrayChanges",function(){return n.ArrayChanges}),e.d(t,"ComputedUpdater",function(){return n.ComputedUpdater}),e.d(t,"SurveyError",function(){return n.SurveyError}),e.d(t,"SurveyElementCore",function(){return n.SurveyElementCore}),e.d(t,"SurveyElement",function(){return n.SurveyElement}),e.d(t,"DragTypeOverMeEnum",function(){return n.DragTypeOverMeEnum}),e.d(t,"CalculatedValue",function(){return n.CalculatedValue}),e.d(t,"CustomError",function(){return n.CustomError}),e.d(t,"AnswerRequiredError",function(){return n.AnswerRequiredError}),e.d(t,"OneAnswerRequiredError",function(){return n.OneAnswerRequiredError}),e.d(t,"RequreNumericError",function(){return n.RequreNumericError}),e.d(t,"ExceedSizeError",function(){return n.ExceedSizeError}),e.d(t,"LocalizableString",function(){return n.LocalizableString}),e.d(t,"LocalizableStrings",function(){return n.LocalizableStrings}),e.d(t,"HtmlConditionItem",function(){return n.HtmlConditionItem}),e.d(t,"UrlConditionItem",function(){return n.UrlConditionItem}),e.d(t,"ChoicesRestful",function(){return n.ChoicesRestful}),e.d(t,"ChoicesRestfull",function(){return n.ChoicesRestfull}),e.d(t,"FunctionFactory",function(){return n.FunctionFactory}),e.d(t,"registerFunction",function(){return n.registerFunction}),e.d(t,"ConditionRunner",function(){return n.ConditionRunner}),e.d(t,"ExpressionRunner",function(){return n.ExpressionRunner}),e.d(t,"ExpressionExecutor",function(){return n.ExpressionExecutor}),e.d(t,"Operand",function(){return n.Operand}),e.d(t,"Const",function(){return n.Const}),e.d(t,"BinaryOperand",function(){return n.BinaryOperand}),e.d(t,"Variable",function(){return n.Variable}),e.d(t,"FunctionOperand",function(){return n.FunctionOperand}),e.d(t,"ArrayOperand",function(){return n.ArrayOperand}),e.d(t,"UnaryOperand",function(){return n.UnaryOperand}),e.d(t,"ConditionsParser",function(){return n.ConditionsParser}),e.d(t,"ProcessValue",function(){return n.ProcessValue}),e.d(t,"JsonError",function(){return n.JsonError}),e.d(t,"JsonIncorrectTypeError",function(){return n.JsonIncorrectTypeError}),e.d(t,"JsonMetadata",function(){return n.JsonMetadata}),e.d(t,"JsonMetadataClass",function(){return n.JsonMetadataClass}),e.d(t,"JsonMissingTypeError",function(){return n.JsonMissingTypeError}),e.d(t,"JsonMissingTypeErrorBase",function(){return n.JsonMissingTypeErrorBase}),e.d(t,"JsonObject",function(){return n.JsonObject}),e.d(t,"JsonObjectProperty",function(){return n.JsonObjectProperty}),e.d(t,"JsonRequiredPropertyError",function(){return n.JsonRequiredPropertyError}),e.d(t,"JsonUnknownPropertyError",function(){return n.JsonUnknownPropertyError}),e.d(t,"Serializer",function(){return n.Serializer}),e.d(t,"property",function(){return n.property}),e.d(t,"propertyArray",function(){return n.propertyArray}),e.d(t,"MatrixDropdownCell",function(){return n.MatrixDropdownCell}),e.d(t,"MatrixDropdownRowModelBase",function(){return n.MatrixDropdownRowModelBase}),e.d(t,"QuestionMatrixDropdownModelBase",function(){return n.QuestionMatrixDropdownModelBase}),e.d(t,"MatrixDropdownColumn",function(){return n.MatrixDropdownColumn}),e.d(t,"matrixDropdownColumnTypes",function(){return n.matrixDropdownColumnTypes}),e.d(t,"QuestionMatrixDropdownRenderedCell",function(){return n.QuestionMatrixDropdownRenderedCell}),e.d(t,"QuestionMatrixDropdownRenderedRow",function(){return n.QuestionMatrixDropdownRenderedRow}),e.d(t,"QuestionMatrixDropdownRenderedTable",function(){return n.QuestionMatrixDropdownRenderedTable}),e.d(t,"MatrixDropdownRowModel",function(){return n.MatrixDropdownRowModel}),e.d(t,"QuestionMatrixDropdownModel",function(){return n.QuestionMatrixDropdownModel}),e.d(t,"MatrixDynamicRowModel",function(){return n.MatrixDynamicRowModel}),e.d(t,"QuestionMatrixDynamicModel",function(){return n.QuestionMatrixDynamicModel}),e.d(t,"MatrixRowModel",function(){return n.MatrixRowModel}),e.d(t,"MatrixCells",function(){return n.MatrixCells}),e.d(t,"QuestionMatrixModel",function(){return n.QuestionMatrixModel}),e.d(t,"QuestionMatrixBaseModel",function(){return n.QuestionMatrixBaseModel}),e.d(t,"MultipleTextItemModel",function(){return n.MultipleTextItemModel}),e.d(t,"QuestionMultipleTextModel",function(){return n.QuestionMultipleTextModel}),e.d(t,"PanelModel",function(){return n.PanelModel}),e.d(t,"PanelModelBase",function(){return n.PanelModelBase}),e.d(t,"QuestionRowModel",function(){return n.QuestionRowModel}),e.d(t,"FlowPanelModel",function(){return n.FlowPanelModel}),e.d(t,"PageModel",function(){return n.PageModel}),e.d(t,"DefaultTitleModel",function(){return n.DefaultTitleModel}),e.d(t,"Question",function(){return n.Question}),e.d(t,"QuestionNonValue",function(){return n.QuestionNonValue}),e.d(t,"QuestionEmptyModel",function(){return n.QuestionEmptyModel}),e.d(t,"QuestionCheckboxBase",function(){return n.QuestionCheckboxBase}),e.d(t,"QuestionSelectBase",function(){return n.QuestionSelectBase}),e.d(t,"QuestionCheckboxModel",function(){return n.QuestionCheckboxModel}),e.d(t,"QuestionTagboxModel",function(){return n.QuestionTagboxModel}),e.d(t,"QuestionRankingModel",function(){return n.QuestionRankingModel}),e.d(t,"QuestionCommentModel",function(){return n.QuestionCommentModel}),e.d(t,"QuestionDropdownModel",function(){return n.QuestionDropdownModel}),e.d(t,"QuestionFactory",function(){return n.QuestionFactory}),e.d(t,"ElementFactory",function(){return n.ElementFactory}),e.d(t,"QuestionFileModel",function(){return n.QuestionFileModel}),e.d(t,"QuestionHtmlModel",function(){return n.QuestionHtmlModel}),e.d(t,"QuestionRadiogroupModel",function(){return n.QuestionRadiogroupModel}),e.d(t,"QuestionRatingModel",function(){return n.QuestionRatingModel}),e.d(t,"RenderedRatingItem",function(){return n.RenderedRatingItem}),e.d(t,"QuestionExpressionModel",function(){return n.QuestionExpressionModel}),e.d(t,"QuestionTextBase",function(){return n.QuestionTextBase}),e.d(t,"QuestionTextModel",function(){return n.QuestionTextModel}),e.d(t,"QuestionBooleanModel",function(){return n.QuestionBooleanModel}),e.d(t,"QuestionImagePickerModel",function(){return n.QuestionImagePickerModel}),e.d(t,"ImageItemValue",function(){return n.ImageItemValue}),e.d(t,"QuestionImageModel",function(){return n.QuestionImageModel}),e.d(t,"QuestionSignaturePadModel",function(){return n.QuestionSignaturePadModel}),e.d(t,"QuestionPanelDynamicModel",function(){return n.QuestionPanelDynamicModel}),e.d(t,"QuestionPanelDynamicItem",function(){return n.QuestionPanelDynamicItem}),e.d(t,"SurveyTimer",function(){return n.SurveyTimer}),e.d(t,"SurveyTimerModel",function(){return n.SurveyTimerModel}),e.d(t,"SurveyProgressModel",function(){return n.SurveyProgressModel}),e.d(t,"SurveyProgressButtonsModel",function(){return n.SurveyProgressButtonsModel}),e.d(t,"SurveyModel",function(){return n.SurveyModel}),e.d(t,"SurveyTrigger",function(){return n.SurveyTrigger}),e.d(t,"SurveyTriggerComplete",function(){return n.SurveyTriggerComplete}),e.d(t,"SurveyTriggerSetValue",function(){return n.SurveyTriggerSetValue}),e.d(t,"SurveyTriggerVisible",function(){return n.SurveyTriggerVisible}),e.d(t,"SurveyTriggerCopyValue",function(){return n.SurveyTriggerCopyValue}),e.d(t,"SurveyTriggerRunExpression",function(){return n.SurveyTriggerRunExpression}),e.d(t,"Trigger",function(){return n.Trigger}),e.d(t,"PopupSurveyModel",function(){return n.PopupSurveyModel}),e.d(t,"SurveyWindowModel",function(){return n.SurveyWindowModel}),e.d(t,"TextPreProcessor",function(){return n.TextPreProcessor}),e.d(t,"dxSurveyService",function(){return n.dxSurveyService}),e.d(t,"englishStrings",function(){return n.englishStrings}),e.d(t,"surveyLocalization",function(){return n.surveyLocalization}),e.d(t,"surveyStrings",function(){return n.surveyStrings}),e.d(t,"QuestionCustomWidget",function(){return n.QuestionCustomWidget}),e.d(t,"CustomWidgetCollection",function(){return n.CustomWidgetCollection}),e.d(t,"QuestionCustomModel",function(){return n.QuestionCustomModel}),e.d(t,"QuestionCompositeModel",function(){return n.QuestionCompositeModel}),e.d(t,"ComponentQuestionJSON",function(){return n.ComponentQuestionJSON}),e.d(t,"ComponentCollection",function(){return n.ComponentCollection}),e.d(t,"StylesManager",function(){return n.StylesManager}),e.d(t,"ListModel",function(){return n.ListModel}),e.d(t,"MultiSelectListModel",function(){return n.MultiSelectListModel}),e.d(t,"PopupModel",function(){return n.PopupModel}),e.d(t,"createDialogOptions",function(){return n.createDialogOptions}),e.d(t,"PopupBaseViewModel",function(){return n.PopupBaseViewModel}),e.d(t,"PopupDropdownViewModel",function(){return n.PopupDropdownViewModel}),e.d(t,"PopupModalViewModel",function(){return n.PopupModalViewModel}),e.d(t,"createPopupViewModel",function(){return n.createPopupViewModel}),e.d(t,"createPopupModalViewModel",function(){return n.createPopupModalViewModel}),e.d(t,"DropdownListModel",function(){return n.DropdownListModel}),e.d(t,"DropdownMultiSelectListModel",function(){return n.DropdownMultiSelectListModel}),e.d(t,"QuestionButtonGroupModel",function(){return n.QuestionButtonGroupModel}),e.d(t,"ButtonGroupItemModel",function(){return n.ButtonGroupItemModel}),e.d(t,"ButtonGroupItemValue",function(){return n.ButtonGroupItemValue}),e.d(t,"IsMobile",function(){return n.IsMobile}),e.d(t,"IsTouch",function(){return n.IsTouch}),e.d(t,"confirmAction",function(){return n.confirmAction}),e.d(t,"detectIEOrEdge",function(){return n.detectIEOrEdge}),e.d(t,"doKey2ClickUp",function(){return n.doKey2ClickUp}),e.d(t,"doKey2ClickDown",function(){return n.doKey2ClickDown}),e.d(t,"doKey2ClickBlur",function(){return n.doKey2ClickBlur}),e.d(t,"loadFileFromBase64",function(){return n.loadFileFromBase64}),e.d(t,"increaseHeightByContent",function(){return n.increaseHeightByContent}),e.d(t,"createSvg",function(){return n.createSvg}),e.d(t,"sanitizeEditableContent",function(){return n.sanitizeEditableContent}),e.d(t,"CssClassBuilder",function(){return n.CssClassBuilder}),e.d(t,"surveyCss",function(){return n.surveyCss}),e.d(t,"DragDropSurveyElements",function(){return n.DragDropSurveyElements}),e.d(t,"DragDropChoices",function(){return n.DragDropChoices});var y=e("./src/defaultCss/cssstandard.ts");e.d(t,"defaultStandardCss",function(){return y.defaultStandardCss});var T=e("./src/defaultCss/cssbootstrap.ts");e.d(t,"defaultBootstrapCss",function(){return T.defaultBootstrapCss});var v=e("./src/defaultCss/cssbootstrapmaterial.ts");e.d(t,"defaultBootstrapMaterialCss",function(){return v.defaultBootstrapMaterialCss});var O=e("./src/defaultCss/defaultV2Css.ts");e.d(t,"defaultV2Css",function(){return O.defaultV2Css});var C=e("./src/defaultCss/cssmodern.ts");e.d(t,"modernCss",function(){return C.modernCss});var E=e("./src/svgbundle.ts");e.d(t,"SvgIconRegistry",function(){return E.SvgIconRegistry}),e.d(t,"SvgRegistry",function(){return E.SvgRegistry}),e.d(t,"SvgBundleViewModel",function(){return E.SvgBundleViewModel});var i=e("./src/rendererFactory.ts");e.d(t,"RendererFactory",function(){return i.RendererFactory});var f=e("./src/utils/responsivity-manager.ts");e.d(t,"ResponsivityManager",function(){return f.ResponsivityManager}),e.d(t,"VerticalResponsivityManager",function(){return f.VerticalResponsivityManager});var _=e("./src/utils/utils.ts");e.d(t,"unwrap",function(){return _.unwrap}),e.d(t,"getOriginalEvent",function(){return _.getOriginalEvent});var l=e("./src/actions/action.ts");e.d(t,"createDropdownActionModel",function(){return l.createDropdownActionModel}),e.d(t,"createDropdownActionModelAdvanced",function(){return l.createDropdownActionModelAdvanced}),e.d(t,"Action",function(){return l.Action}),e.d(t,"ActionDropdownViewModel",function(){return l.ActionDropdownViewModel});var m=e("./src/actions/adaptive-container.ts");e.d(t,"AdaptiveActionContainer",function(){return m.AdaptiveActionContainer});var h=e("./src/actions/container.ts");e.d(t,"defaultActionBarCss",function(){return h.defaultActionBarCss}),e.d(t,"ActionContainer",function(){return h.ActionContainer});var d=e("./src/utils/tooltip.ts");e.d(t,"TooltipManager",function(){return d.TooltipManager});var c=e("./src/utils/dragOrClickHelper.ts");e.d(t,"DragOrClickHelper",function(){return c.DragOrClickHelper})},"./src/entries/core.ts":function(K,t,e){"use strict";e.r(t);var n=e("./src/entries/core-wo-model.ts");e.d(t,"Version",function(){return n.Version}),e.d(t,"checkLibraryVersion",function(){return n.checkLibraryVersion}),e.d(t,"settings",function(){return n.settings}),e.d(t,"Helpers",function(){return n.Helpers}),e.d(t,"AnswerCountValidator",function(){return n.AnswerCountValidator}),e.d(t,"EmailValidator",function(){return n.EmailValidator}),e.d(t,"NumericValidator",function(){return n.NumericValidator}),e.d(t,"RegexValidator",function(){return n.RegexValidator}),e.d(t,"SurveyValidator",function(){return n.SurveyValidator}),e.d(t,"TextValidator",function(){return n.TextValidator}),e.d(t,"ValidatorResult",function(){return n.ValidatorResult}),e.d(t,"ExpressionValidator",function(){return n.ExpressionValidator}),e.d(t,"ValidatorRunner",function(){return n.ValidatorRunner}),e.d(t,"ItemValue",function(){return n.ItemValue}),e.d(t,"Base",function(){return n.Base}),e.d(t,"Event",function(){return n.Event}),e.d(t,"EventBase",function(){return n.EventBase}),e.d(t,"ArrayChanges",function(){return n.ArrayChanges}),e.d(t,"ComputedUpdater",function(){return n.ComputedUpdater}),e.d(t,"SurveyError",function(){return n.SurveyError}),e.d(t,"SurveyElementCore",function(){return n.SurveyElementCore}),e.d(t,"SurveyElement",function(){return n.SurveyElement}),e.d(t,"DragTypeOverMeEnum",function(){return n.DragTypeOverMeEnum}),e.d(t,"CalculatedValue",function(){return n.CalculatedValue}),e.d(t,"CustomError",function(){return n.CustomError}),e.d(t,"AnswerRequiredError",function(){return n.AnswerRequiredError}),e.d(t,"OneAnswerRequiredError",function(){return n.OneAnswerRequiredError}),e.d(t,"RequreNumericError",function(){return n.RequreNumericError}),e.d(t,"ExceedSizeError",function(){return n.ExceedSizeError}),e.d(t,"LocalizableString",function(){return n.LocalizableString}),e.d(t,"LocalizableStrings",function(){return n.LocalizableStrings}),e.d(t,"HtmlConditionItem",function(){return n.HtmlConditionItem}),e.d(t,"UrlConditionItem",function(){return n.UrlConditionItem}),e.d(t,"ChoicesRestful",function(){return n.ChoicesRestful}),e.d(t,"ChoicesRestfull",function(){return n.ChoicesRestfull}),e.d(t,"FunctionFactory",function(){return n.FunctionFactory}),e.d(t,"registerFunction",function(){return n.registerFunction}),e.d(t,"ConditionRunner",function(){return n.ConditionRunner}),e.d(t,"ExpressionRunner",function(){return n.ExpressionRunner}),e.d(t,"ExpressionExecutor",function(){return n.ExpressionExecutor}),e.d(t,"Operand",function(){return n.Operand}),e.d(t,"Const",function(){return n.Const}),e.d(t,"BinaryOperand",function(){return n.BinaryOperand}),e.d(t,"Variable",function(){return n.Variable}),e.d(t,"FunctionOperand",function(){return n.FunctionOperand}),e.d(t,"ArrayOperand",function(){return n.ArrayOperand}),e.d(t,"UnaryOperand",function(){return n.UnaryOperand}),e.d(t,"ConditionsParser",function(){return n.ConditionsParser}),e.d(t,"ProcessValue",function(){return n.ProcessValue}),e.d(t,"JsonError",function(){return n.JsonError}),e.d(t,"JsonIncorrectTypeError",function(){return n.JsonIncorrectTypeError}),e.d(t,"JsonMetadata",function(){return n.JsonMetadata}),e.d(t,"JsonMetadataClass",function(){return n.JsonMetadataClass}),e.d(t,"JsonMissingTypeError",function(){return n.JsonMissingTypeError}),e.d(t,"JsonMissingTypeErrorBase",function(){return n.JsonMissingTypeErrorBase}),e.d(t,"JsonObject",function(){return n.JsonObject}),e.d(t,"JsonObjectProperty",function(){return n.JsonObjectProperty}),e.d(t,"JsonRequiredPropertyError",function(){return n.JsonRequiredPropertyError}),e.d(t,"JsonUnknownPropertyError",function(){return n.JsonUnknownPropertyError}),e.d(t,"Serializer",function(){return n.Serializer}),e.d(t,"property",function(){return n.property}),e.d(t,"propertyArray",function(){return n.propertyArray}),e.d(t,"MatrixDropdownCell",function(){return n.MatrixDropdownCell}),e.d(t,"MatrixDropdownRowModelBase",function(){return n.MatrixDropdownRowModelBase}),e.d(t,"QuestionMatrixDropdownModelBase",function(){return n.QuestionMatrixDropdownModelBase}),e.d(t,"MatrixDropdownColumn",function(){return n.MatrixDropdownColumn}),e.d(t,"matrixDropdownColumnTypes",function(){return n.matrixDropdownColumnTypes}),e.d(t,"QuestionMatrixDropdownRenderedCell",function(){return n.QuestionMatrixDropdownRenderedCell}),e.d(t,"QuestionMatrixDropdownRenderedRow",function(){return n.QuestionMatrixDropdownRenderedRow}),e.d(t,"QuestionMatrixDropdownRenderedTable",function(){return n.QuestionMatrixDropdownRenderedTable}),e.d(t,"MatrixDropdownRowModel",function(){return n.MatrixDropdownRowModel}),e.d(t,"QuestionMatrixDropdownModel",function(){return n.QuestionMatrixDropdownModel}),e.d(t,"MatrixDynamicRowModel",function(){return n.MatrixDynamicRowModel}),e.d(t,"QuestionMatrixDynamicModel",function(){return n.QuestionMatrixDynamicModel}),e.d(t,"MatrixRowModel",function(){return n.MatrixRowModel}),e.d(t,"MatrixCells",function(){return n.MatrixCells}),e.d(t,"QuestionMatrixModel",function(){return n.QuestionMatrixModel}),e.d(t,"QuestionMatrixBaseModel",function(){return n.QuestionMatrixBaseModel}),e.d(t,"MultipleTextItemModel",function(){return n.MultipleTextItemModel}),e.d(t,"QuestionMultipleTextModel",function(){return n.QuestionMultipleTextModel}),e.d(t,"PanelModel",function(){return n.PanelModel}),e.d(t,"PanelModelBase",function(){return n.PanelModelBase}),e.d(t,"QuestionRowModel",function(){return n.QuestionRowModel}),e.d(t,"FlowPanelModel",function(){return n.FlowPanelModel}),e.d(t,"PageModel",function(){return n.PageModel}),e.d(t,"DefaultTitleModel",function(){return n.DefaultTitleModel}),e.d(t,"Question",function(){return n.Question}),e.d(t,"QuestionNonValue",function(){return n.QuestionNonValue}),e.d(t,"QuestionEmptyModel",function(){return n.QuestionEmptyModel}),e.d(t,"QuestionCheckboxBase",function(){return n.QuestionCheckboxBase}),e.d(t,"QuestionSelectBase",function(){return n.QuestionSelectBase}),e.d(t,"QuestionCheckboxModel",function(){return n.QuestionCheckboxModel}),e.d(t,"QuestionTagboxModel",function(){return n.QuestionTagboxModel}),e.d(t,"QuestionRankingModel",function(){return n.QuestionRankingModel}),e.d(t,"QuestionCommentModel",function(){return n.QuestionCommentModel}),e.d(t,"QuestionDropdownModel",function(){return n.QuestionDropdownModel}),e.d(t,"QuestionFactory",function(){return n.QuestionFactory}),e.d(t,"ElementFactory",function(){return n.ElementFactory}),e.d(t,"QuestionFileModel",function(){return n.QuestionFileModel}),e.d(t,"QuestionHtmlModel",function(){return n.QuestionHtmlModel}),e.d(t,"QuestionRadiogroupModel",function(){return n.QuestionRadiogroupModel}),e.d(t,"QuestionRatingModel",function(){return n.QuestionRatingModel}),e.d(t,"RenderedRatingItem",function(){return n.RenderedRatingItem}),e.d(t,"QuestionExpressionModel",function(){return n.QuestionExpressionModel}),e.d(t,"QuestionTextBase",function(){return n.QuestionTextBase}),e.d(t,"QuestionTextModel",function(){return n.QuestionTextModel}),e.d(t,"QuestionBooleanModel",function(){return n.QuestionBooleanModel}),e.d(t,"QuestionImagePickerModel",function(){return n.QuestionImagePickerModel}),e.d(t,"ImageItemValue",function(){return n.ImageItemValue}),e.d(t,"QuestionImageModel",function(){return n.QuestionImageModel}),e.d(t,"QuestionSignaturePadModel",function(){return n.QuestionSignaturePadModel}),e.d(t,"QuestionPanelDynamicModel",function(){return n.QuestionPanelDynamicModel}),e.d(t,"QuestionPanelDynamicItem",function(){return n.QuestionPanelDynamicItem}),e.d(t,"SurveyTimer",function(){return n.SurveyTimer}),e.d(t,"SurveyTimerModel",function(){return n.SurveyTimerModel}),e.d(t,"SurveyProgressModel",function(){return n.SurveyProgressModel}),e.d(t,"SurveyProgressButtonsModel",function(){return n.SurveyProgressButtonsModel}),e.d(t,"SurveyModel",function(){return n.SurveyModel}),e.d(t,"SurveyTrigger",function(){return n.SurveyTrigger}),e.d(t,"SurveyTriggerComplete",function(){return n.SurveyTriggerComplete}),e.d(t,"SurveyTriggerSetValue",function(){return n.SurveyTriggerSetValue}),e.d(t,"SurveyTriggerVisible",function(){return n.SurveyTriggerVisible}),e.d(t,"SurveyTriggerCopyValue",function(){return n.SurveyTriggerCopyValue}),e.d(t,"SurveyTriggerRunExpression",function(){return n.SurveyTriggerRunExpression}),e.d(t,"Trigger",function(){return n.Trigger}),e.d(t,"PopupSurveyModel",function(){return n.PopupSurveyModel}),e.d(t,"SurveyWindowModel",function(){return n.SurveyWindowModel}),e.d(t,"TextPreProcessor",function(){return n.TextPreProcessor}),e.d(t,"dxSurveyService",function(){return n.dxSurveyService}),e.d(t,"englishStrings",function(){return n.englishStrings}),e.d(t,"surveyLocalization",function(){return n.surveyLocalization}),e.d(t,"surveyStrings",function(){return n.surveyStrings}),e.d(t,"QuestionCustomWidget",function(){return n.QuestionCustomWidget}),e.d(t,"CustomWidgetCollection",function(){return n.CustomWidgetCollection}),e.d(t,"QuestionCustomModel",function(){return n.QuestionCustomModel}),e.d(t,"QuestionCompositeModel",function(){return n.QuestionCompositeModel}),e.d(t,"ComponentQuestionJSON",function(){return n.ComponentQuestionJSON}),e.d(t,"ComponentCollection",function(){return n.ComponentCollection}),e.d(t,"StylesManager",function(){return n.StylesManager}),e.d(t,"ListModel",function(){return n.ListModel}),e.d(t,"MultiSelectListModel",function(){return n.MultiSelectListModel}),e.d(t,"PopupModel",function(){return n.PopupModel}),e.d(t,"createDialogOptions",function(){return n.createDialogOptions}),e.d(t,"PopupBaseViewModel",function(){return n.PopupBaseViewModel}),e.d(t,"PopupDropdownViewModel",function(){return n.PopupDropdownViewModel}),e.d(t,"PopupModalViewModel",function(){return n.PopupModalViewModel}),e.d(t,"createPopupViewModel",function(){return n.createPopupViewModel}),e.d(t,"createPopupModalViewModel",function(){return n.createPopupModalViewModel}),e.d(t,"DropdownListModel",function(){return n.DropdownListModel}),e.d(t,"DropdownMultiSelectListModel",function(){return n.DropdownMultiSelectListModel}),e.d(t,"QuestionButtonGroupModel",function(){return n.QuestionButtonGroupModel}),e.d(t,"ButtonGroupItemModel",function(){return n.ButtonGroupItemModel}),e.d(t,"ButtonGroupItemValue",function(){return n.ButtonGroupItemValue}),e.d(t,"IsMobile",function(){return n.IsMobile}),e.d(t,"IsTouch",function(){return n.IsTouch}),e.d(t,"confirmAction",function(){return n.confirmAction}),e.d(t,"detectIEOrEdge",function(){return n.detectIEOrEdge}),e.d(t,"doKey2ClickUp",function(){return n.doKey2ClickUp}),e.d(t,"doKey2ClickDown",function(){return n.doKey2ClickDown}),e.d(t,"doKey2ClickBlur",function(){return n.doKey2ClickBlur}),e.d(t,"loadFileFromBase64",function(){return n.loadFileFromBase64}),e.d(t,"increaseHeightByContent",function(){return n.increaseHeightByContent}),e.d(t,"createSvg",function(){return n.createSvg}),e.d(t,"sanitizeEditableContent",function(){return n.sanitizeEditableContent}),e.d(t,"CssClassBuilder",function(){return n.CssClassBuilder}),e.d(t,"surveyCss",function(){return n.surveyCss}),e.d(t,"DragDropSurveyElements",function(){return n.DragDropSurveyElements}),e.d(t,"DragDropChoices",function(){return n.DragDropChoices}),e.d(t,"defaultStandardCss",function(){return n.defaultStandardCss}),e.d(t,"defaultBootstrapCss",function(){return n.defaultBootstrapCss}),e.d(t,"defaultBootstrapMaterialCss",function(){return n.defaultBootstrapMaterialCss}),e.d(t,"defaultV2Css",function(){return n.defaultV2Css}),e.d(t,"modernCss",function(){return n.modernCss}),e.d(t,"SvgIconRegistry",function(){return n.SvgIconRegistry}),e.d(t,"SvgRegistry",function(){return n.SvgRegistry}),e.d(t,"SvgBundleViewModel",function(){return n.SvgBundleViewModel}),e.d(t,"RendererFactory",function(){return n.RendererFactory}),e.d(t,"ResponsivityManager",function(){return n.ResponsivityManager}),e.d(t,"VerticalResponsivityManager",function(){return n.VerticalResponsivityManager}),e.d(t,"unwrap",function(){return n.unwrap}),e.d(t,"getOriginalEvent",function(){return n.getOriginalEvent}),e.d(t,"createDropdownActionModel",function(){return n.createDropdownActionModel}),e.d(t,"createDropdownActionModelAdvanced",function(){return n.createDropdownActionModelAdvanced}),e.d(t,"Action",function(){return n.Action}),e.d(t,"ActionDropdownViewModel",function(){return n.ActionDropdownViewModel}),e.d(t,"AdaptiveActionContainer",function(){return n.AdaptiveActionContainer}),e.d(t,"defaultActionBarCss",function(){return n.defaultActionBarCss}),e.d(t,"ActionContainer",function(){return n.ActionContainer}),e.d(t,"TooltipManager",function(){return n.TooltipManager}),e.d(t,"DragOrClickHelper",function(){return n.DragOrClickHelper});var y=e("./src/survey.ts");e.d(t,"Model",function(){return y.SurveyModel})},"./src/error.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"AnswerRequiredError",function(){return v}),e.d(t,"OneAnswerRequiredError",function(){return O}),e.d(t,"RequreNumericError",function(){return C}),e.d(t,"ExceedSizeError",function(){return E}),e.d(t,"WebRequestError",function(){return i}),e.d(t,"WebRequestEmptyError",function(){return f}),e.d(t,"OtherEmptyError",function(){return _}),e.d(t,"UploadingFileError",function(){return l}),e.d(t,"RequiredInAllRowsError",function(){return m}),e.d(t,"MinRowCountError",function(){return h}),e.d(t,"KeyDuplicationError",function(){return d}),e.d(t,"CustomError",function(){return c});var a,n=e("./src/surveyStrings.ts"),y=e("./src/survey-error.ts"),T=(a=function(s,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,S){o.__proto__=S}||function(o,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(o[I]=S[I])})(s,r)},function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=s}a(s,r),s.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),v=function(a){function s(r,o){void 0===r&&(r=null),void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"required"},s.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},s}(y.SurveyError),O=function(a){function s(r,o){void 0===r&&(r=null),void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"requireoneanswer"},s.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},s}(y.SurveyError),C=function(a){function s(r,o){void 0===r&&(r=null),void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"requirenumeric"},s.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},s}(y.SurveyError),E=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,null,o)||this;return S.maxSize=r,S.locText.text=S.getText(),S}return T(s,a),s.prototype.getErrorType=function(){return"exceedsize"},s.prototype.getDefaultText=function(){return n.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},s.prototype.getTextSize=function(){if(0===this.maxSize)return"0 Byte";var S=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,S)).toFixed([0,0,2,3,3][S])+" "+["Bytes","KB","MB","GB","TB"][S]},s}(y.SurveyError),i=function(a){function s(r,o,S){void 0===S&&(S=null);var I=a.call(this,null,S)||this;return I.status=r,I.response=o,I}return T(s,a),s.prototype.getErrorType=function(){return"webrequest"},s.prototype.getDefaultText=function(){var r=this.getLocalizationString("urlRequestError");return r?r.format(this.status,this.response):""},s}(y.SurveyError),f=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"webrequestempty"},s.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},s}(y.SurveyError),_=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"otherempty"},s.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},s}(y.SurveyError),l=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"uploadingfile"},s.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},s}(y.SurveyError),m=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"requiredinallrowserror"},s.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},s}(y.SurveyError),h=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,null,o)||this;return S.minRowCount=r,S}return T(s,a),s.prototype.getErrorType=function(){return"minrowcounterror"},s.prototype.getDefaultText=function(){return n.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},s}(y.SurveyError),d=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"keyduplicationerror"},s.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},s}(y.SurveyError),c=function(a){function s(r,o){void 0===o&&(o=null);var S=a.call(this,r,o)||this;return S.text=r,S}return T(s,a),s.prototype.getErrorType=function(){return"custom"},s}(y.SurveyError)},"./src/expressionItems.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ExpressionItem",function(){return O}),e.d(t,"HtmlConditionItem",function(){return C}),e.d(t,"UrlConditionItem",function(){return E});var i,n=e("./src/jsonobject.ts"),y=e("./src/base.ts"),T=e("./src/conditions.ts"),v=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),O=function(i){function f(_){void 0===_&&(_=null);var l=i.call(this)||this;return l.createLocalizableString("html",l),l.expression=_,l}return v(f,i),f.prototype.getType=function(){return"expressionitem"},f.prototype.runCondition=function(_,l){return!!this.expression&&new T.ConditionRunner(this.expression).run(_,l)},Object.defineProperty(f.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(_){this.setPropertyValue("expression",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),f.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},f.prototype.getMarkdownHtml=function(_,l){return this.locOwner?this.locOwner.getMarkdownHtml(_,l):void 0},f.prototype.getRenderer=function(_){return this.locOwner?this.locOwner.getRenderer(_):null},f.prototype.getRendererContext=function(_){return this.locOwner?this.locOwner.getRendererContext(_):_},f.prototype.getProcessedText=function(_){return this.locOwner?this.locOwner.getProcessedText(_):_},f.prototype.getSurvey=function(_){return void 0===_&&(_=!1),this.locOwner},f}(y.Base),C=function(i){function f(_,l){void 0===_&&(_=null),void 0===l&&(l=null);var m=i.call(this,_)||this;return m.createLocalizableString("html",m),m.html=l,m}return v(f,i),f.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(f.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(_){this.setLocalizableStringText("html",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),f}(O),E=function(i){function f(_,l){void 0===_&&(_=null),void 0===l&&(l=null);var m=i.call(this,_)||this;return m.createLocalizableString("url",m),m.url=l,m}return v(f,i),f.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(f.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(_){this.setLocalizableStringText("url",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),f}(O);n.Serializer.addClass("expressionitem",["expression:condition"],function(){return new O},"base"),n.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new C},"expressionitem"),n.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new E},"expressionitem")},"./src/expressions/expressionParser.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SyntaxError",function(){return T}),e.d(t,"parse",function(){return O});var C,n=e("./src/expressions/expressions.ts"),y=(C=function(E,i){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(f[l]=_[l])})(E,i)},function(E,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function f(){this.constructor=E}C(E,i),E.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)}),T=function(C){function E(i,f,_,l){var m=C.call(this)||this;return m.message=i,m.expected=f,m.found=_,m.location=l,m.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(m,E),m}return y(E,C),E.buildMessage=function(i,f){function _(a){return a.charCodeAt(0).toString(16).toUpperCase()}function l(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(s){return"\\x0"+_(s)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(s){return"\\x"+_(s)})}function m(a){return a.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(s){return"\\x0"+_(s)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(s){return"\\x"+_(s)})}function h(a){switch(a.type){case"literal":return'"'+l(a.text)+'"';case"class":var s=a.parts.map(function(r){return Array.isArray(r)?m(r[0])+"-"+m(r[1]):m(r)});return"["+(a.inverted?"^":"")+s+"]";case"any":return"any character";case"end":return"end of input";case"other":return a.description}}return"Expected "+function d(a){var r,o,s=a.map(h);if(s.sort(),s.length>0){for(r=1,o=1;r<s.length;r++)s[r-1]!==s[r]&&(s[o]=s[r],o++);s.length=o}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(i)+" but "+function c(a){return a?'"'+l(a)+'"':"end of input"}(f)+" found."},E}(Error);var O=function v(C,E){E=void 0!==E?E:{};var kr,i={},f={Expression:ht},_=ht,l=function(Le,Ge){return Dr(Le,Ge,!0)},h=zn("||",!1),c=zn("or",!0),r=zn("&&",!1),S=zn("and",!0),x=function(Le,Ge){return Dr(Le,Ge)},g=zn("<=",!1),M=zn("lessorequal",!0),F=zn(">=",!1),H=zn("greaterorequal",!0),V=zn("==",!1),Q="equal",ie=zn("equal",!0),_e=zn("=",!1),Me=zn("!=",!1),Ve=zn("notequal",!0),be=zn("<",!1),He=zn("less",!0),Be=zn(">",!1),Ye=zn("greater",!0),ge=zn("+",!1),fe=zn("-",!1),ue=zn("*",!1),Ze=zn("/",!1),At=zn("%",!1),nt=zn("^",!1),Xe=zn("power",!0),le=zn("*=",!1),J=zn("contains",!0),$e=zn("contain",!0),zt=zn("notcontains",!0),an=zn("notcontain",!0),Tn=zn("anyof",!0),wt=zn("allof",!0),Lt=zn("(",!1),En=zn(")",!1),sn=zn("!",!1),bn=zn("negate",!0),An=zn("empty",!0),Wn="notempty",$n=zn("notempty",!0),Fn="undefined",ti=zn("undefined",!1),ci=zn("null",!1),pi=zn("{",!1),Ui=zn("}",!1),Ht=zn("''",!1),kt=zn('""',!1),ai=zn("'",!1),Ei=function(Le){return"'"+Le+"'"},ao=zn('"',!1),no=zn("[",!1),Ao=zn("]",!1),sr=zn(",",!1),Kt=zn("true",!0),yt=zn("false",!0),oi=zn("0x",!1),zi=/^[\-]/,Zi=Qi(["-"],!1,!1),ps=zn(".",!1),Er=zn("0",!1),os=function(Le){return Le.join("")},Cr=zn("\\'",!1),cr=zn('\\"',!1),ws=/^[^"']/,Sr=Qi(['"',"'"],!0,!1),Vi=function(){return So()},Or=/^[^{}]/,Qo=Qi(["{","}"],!0,!1),ur=/^[0-9]/,go=Qi([["0","9"]],!1,!1),Jo=/^[1-9]/,Vo=Qi([["1","9"]],!1,!1),wo=/^[a-zA-Z_]/,Xo=Qi([["a","z"],["A","Z"],"_"],!1,!1),Tr=function Oo(Le){return{type:"other",description:Le}}("whitespace"),Nr=/^[ \t\n\r]/,Fr=Qi([" ","\t","\n","\r"],!1,!1),ke=0,Un=0,Wi=[{line:1,column:1}],xi=0,lo=[],Ln=0,Mn={};if(void 0!==E.startRule){if(!(E.startRule in f))throw new Error("Can't start parsing from rule \""+E.startRule+'".');_=f[E.startRule]}function So(){return C.substring(Un,ke)}function zn(Le,Ge){return{type:"literal",text:Le,ignoreCase:Ge}}function Qi(Le,Ge,Gt){return{type:"class",parts:Le,inverted:Ge,ignoreCase:Gt}}function dr(Le){var Gt,Ge=Wi[Le];if(Ge)return Ge;for(Gt=Le-1;!Wi[Gt];)Gt--;for(Ge={line:(Ge=Wi[Gt]).line,column:Ge.column};Gt<Le;)10===C.charCodeAt(Gt)?(Ge.line++,Ge.column=1):Ge.column++,Gt++;return Wi[Le]=Ge,Ge}function De(Le){ke<xi||(ke>xi&&(xi=ke,lo=[]),lo.push(Le))}function ht(){var Le,Gt,Ct,Xt,Cn,wn,xn,ui,Jn=34*ke+0,cs=Mn[Jn];if(cs)return ke=cs.nextPos,cs.result;if(Le=ke,vi()!==i)if((Gt=Nn())!==i){for(Ct=[],Xt=ke,(Cn=vi())!==i&&(wn=on())!==i&&(xn=vi())!==i&&(ui=Nn())!==i?Xt=Cn=[Cn,wn,xn,ui]:(ke=Xt,Xt=i);Xt!==i;)Ct.push(Xt),Xt=ke,(Cn=vi())!==i&&(wn=on())!==i&&(xn=vi())!==i&&(ui=Nn())!==i?Xt=Cn=[Cn,wn,xn,ui]:(ke=Xt,Xt=i);Ct!==i&&(Xt=vi())!==i?(Un=Le,Le=l(Gt,Ct)):(ke=Le,Le=i)}else ke=Le,Le=i;else ke=Le,Le=i;return Mn[Jn]={nextPos:ke,result:Le},Le}function on(){var Le,Ge,Gt=34*ke+1,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"||"===C.substr(ke,2)?(Ge="||",ke+=2):(Ge=i,0===Ln&&De(h)),Ge===i&&("or"===C.substr(ke,2).toLowerCase()?(Ge=C.substr(ke,2),ke+=2):(Ge=i,0===Ln&&De(c))),Ge!==i&&(Un=Le,Ge="or"),Mn[Gt]={nextPos:ke,result:Le=Ge},Le)}function Nn(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+2,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=To())!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i&&(Cn=Ji())!==i&&(wn=vi())!==i&&(xn=To())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i&&(Cn=Ji())!==i&&(wn=vi())!==i&&(xn=To())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=l(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function Ji(){var Le,Ge,Gt=34*ke+3,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"&&"===C.substr(ke,2)?(Ge="&&",ke+=2):(Ge=i,0===Ln&&De(r)),Ge===i&&("and"===C.substr(ke,3).toLowerCase()?(Ge=C.substr(ke,3),ke+=3):(Ge=i,0===Ln&&De(S))),Ge!==i&&(Un=Le,Ge="and"),Mn[Gt]={nextPos:ke,result:Le=Ge},Le)}function To(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+4,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=fr())!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i&&(Cn=Gr())!==i&&(wn=vi())!==i&&(xn=fr())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i&&(Cn=Gr())!==i&&(wn=vi())!==i&&(xn=fr())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=x(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function Gr(){var Le,Ge,Gt=34*ke+5,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"<="===C.substr(ke,2)?(Ge="<=",ke+=2):(Ge=i,0===Ln&&De(g)),Ge===i&&("lessorequal"===C.substr(ke,11).toLowerCase()?(Ge=C.substr(ke,11),ke+=11):(Ge=i,0===Ln&&De(M))),Ge!==i&&(Un=Le,Ge="lessorequal"),(Le=Ge)===i&&(Le=ke,">="===C.substr(ke,2)?(Ge=">=",ke+=2):(Ge=i,0===Ln&&De(F)),Ge===i&&("greaterorequal"===C.substr(ke,14).toLowerCase()?(Ge=C.substr(ke,14),ke+=14):(Ge=i,0===Ln&&De(H))),Ge!==i&&(Un=Le,Ge="greaterorequal"),(Le=Ge)===i&&(Le=ke,"=="===C.substr(ke,2)?(Ge="==",ke+=2):(Ge=i,0===Ln&&De(V)),Ge===i&&(C.substr(ke,5).toLowerCase()===Q?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(ie))),Ge!==i&&(Un=Le,Ge="equal"),(Le=Ge)===i&&(Le=ke,61===C.charCodeAt(ke)?(Ge="=",ke++):(Ge=i,0===Ln&&De(_e)),Ge===i&&(C.substr(ke,5).toLowerCase()===Q?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(ie))),Ge!==i&&(Un=Le,Ge="equal"),(Le=Ge)===i&&(Le=ke,"!="===C.substr(ke,2)?(Ge="!=",ke+=2):(Ge=i,0===Ln&&De(Me)),Ge===i&&("notequal"===C.substr(ke,8).toLowerCase()?(Ge=C.substr(ke,8),ke+=8):(Ge=i,0===Ln&&De(Ve))),Ge!==i&&(Un=Le,Ge="notequal"),(Le=Ge)===i&&(Le=ke,60===C.charCodeAt(ke)?(Ge="<",ke++):(Ge=i,0===Ln&&De(be)),Ge===i&&("less"===C.substr(ke,4).toLowerCase()?(Ge=C.substr(ke,4),ke+=4):(Ge=i,0===Ln&&De(He))),Ge!==i&&(Un=Le,Ge="less"),(Le=Ge)===i&&(Le=ke,62===C.charCodeAt(ke)?(Ge=">",ke++):(Ge=i,0===Ln&&De(Be)),Ge===i&&("greater"===C.substr(ke,7).toLowerCase()?(Ge=C.substr(ke,7),ke+=7):(Ge=i,0===Ln&&De(Ye))),Ge!==i&&(Un=Le,Ge="greater"),Le=Ge)))))),Mn[Gt]={nextPos:ke,result:Le},Le)}function fr(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+6,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=Ti())!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i&&(Cn=_n())!==i&&(wn=vi())!==i&&(xn=Ti())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i&&(Cn=_n())!==i&&(wn=vi())!==i&&(xn=Ti())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=l(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function _n(){var Le,Ge,Gt=34*ke+7,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,43===C.charCodeAt(ke)?(Ge="+",ke++):(Ge=i,0===Ln&&De(ge)),Ge!==i&&(Un=Le,Ge="plus"),(Le=Ge)===i&&(Le=ke,45===C.charCodeAt(ke)?(Ge="-",ke++):(Ge=i,0===Ln&&De(fe)),Ge!==i&&(Un=Le,Ge="minus"),Le=Ge),Mn[Gt]={nextPos:ke,result:Le},Le)}function Ti(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+8,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=Ur())!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i&&(Cn=_s())!==i&&(wn=vi())!==i&&(xn=Ur())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i&&(Cn=_s())!==i&&(wn=vi())!==i&&(xn=Ur())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=l(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function _s(){var Le,Ge,Gt=34*ke+9,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,42===C.charCodeAt(ke)?(Ge="*",ke++):(Ge=i,0===Ln&&De(ue)),Ge!==i&&(Un=Le,Ge="mul"),(Le=Ge)===i&&(Le=ke,47===C.charCodeAt(ke)?(Ge="/",ke++):(Ge=i,0===Ln&&De(Ze)),Ge!==i&&(Un=Le,Ge="div"),(Le=Ge)===i&&(Le=ke,37===C.charCodeAt(ke)?(Ge="%",ke++):(Ge=i,0===Ln&&De(At)),Ge!==i&&(Un=Le,Ge="mod"),Le=Ge)),Mn[Gt]={nextPos:ke,result:Le},Le)}function Ur(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+10,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=Fo())!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i&&(Cn=Ni())!==i&&(wn=vi())!==i&&(xn=Fo())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i&&(Cn=Ni())!==i&&(wn=vi())!==i&&(xn=Fo())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=l(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function Ni(){var Le,Ge,Gt=34*ke+11,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,94===C.charCodeAt(ke)?(Ge="^",ke++):(Ge=i,0===Ln&&De(nt)),Ge===i&&("power"===C.substr(ke,5).toLowerCase()?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(Xe))),Ge!==i&&(Un=Le,Ge="power"),Mn[Gt]={nextPos:ke,result:Le=Ge},Le)}function Fo(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+12,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=jo())!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i&&(Cn=Yr())!==i&&(wn=vi())!==i?((xn=jo())===i&&(xn=null),xn!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i)):(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i&&(Cn=Yr())!==i&&(wn=vi())!==i?((xn=jo())===i&&(xn=null),xn!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i)):(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=x(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function Yr(){var Le,Ge,Gt=34*ke+13,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"*="===C.substr(ke,2)?(Ge="*=",ke+=2):(Ge=i,0===Ln&&De(le)),Ge===i&&("contains"===C.substr(ke,8).toLowerCase()?(Ge=C.substr(ke,8),ke+=8):(Ge=i,0===Ln&&De(J)),Ge===i&&("contain"===C.substr(ke,7).toLowerCase()?(Ge=C.substr(ke,7),ke+=7):(Ge=i,0===Ln&&De($e)))),Ge!==i&&(Un=Le,Ge="contains"),(Le=Ge)===i&&(Le=ke,"notcontains"===C.substr(ke,11).toLowerCase()?(Ge=C.substr(ke,11),ke+=11):(Ge=i,0===Ln&&De(zt)),Ge===i&&("notcontain"===C.substr(ke,10).toLowerCase()?(Ge=C.substr(ke,10),ke+=10):(Ge=i,0===Ln&&De(an))),Ge!==i&&(Un=Le,Ge="notcontains"),(Le=Ge)===i&&(Le=ke,"anyof"===C.substr(ke,5).toLowerCase()?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(Tn)),Ge!==i&&(Un=Le,Ge="anyof"),(Le=Ge)===i&&(Le=ke,"allof"===C.substr(ke,5).toLowerCase()?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(wt)),Ge!==i&&(Un=Le,Ge="allof"),Le=Ge))),Mn[Gt]={nextPos:ke,result:Le},Le)}function jo(){var Le,Ge,Ct,Cn,wn=34*ke+14,xn=Mn[wn];return xn?(ke=xn.nextPos,xn.result):(Le=ke,40===C.charCodeAt(ke)?(Ge="(",ke++):(Ge=i,0===Ln&&De(Lt)),Ge!==i&&vi()!==i&&(Ct=ht())!==i&&vi()!==i?(41===C.charCodeAt(ke)?(Cn=")",ke++):(Cn=i,0===Ln&&De(En)),Cn===i&&(Cn=null),Cn!==i?(Un=Le,Le=Ge=Ct):(ke=Le,Le=i)):(ke=Le,Le=i),Le===i&&(Le=function Hs(){var Le,Ge,Gt,Ct,Xt,Cn=34*ke+15,wn=Mn[Cn];return wn?(ke=wn.nextPos,wn.result):(Le=ke,(Ge=pr())!==i?(40===C.charCodeAt(ke)?(Gt="(",ke++):(Gt=i,0===Ln&&De(Lt)),Gt!==i&&(Ct=Mo())!==i?(41===C.charCodeAt(ke)?(Xt=")",ke++):(Xt=i,0===Ln&&De(En)),Xt===i&&(Xt=null),Xt!==i?(Un=Le,Le=Ge=function(Le,Ge){return new n.FunctionOperand(Le,Ge)}(Ge,Ct)):(ke=Le,Le=i)):(ke=Le,Le=i)):(ke=Le,Le=i),Mn[Cn]={nextPos:ke,result:Le},Le)}())===i&&(Le=function Xi(){var Le,Ge,Ct,Xt=34*ke+16,Cn=Mn[Xt];return Cn?(ke=Cn.nextPos,Cn.result):(Le=ke,33===C.charCodeAt(ke)?(Ge="!",ke++):(Ge=i,0===Ln&&De(sn)),Ge===i&&("negate"===C.substr(ke,6).toLowerCase()?(Ge=C.substr(ke,6),ke+=6):(Ge=i,0===Ln&&De(bn))),Ge!==i&&vi()!==i&&(Ct=ht())!==i?(Un=Le,Le=Ge=function(Le){return new n.UnaryOperand(Le,"negate")}(Ct)):(ke=Le,Le=i),Le===i&&(Le=ke,(Ge=xr())!==i&&vi()!==i&&(Ct=function fo(){var Le,Ge,Gt=34*ke+17,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"empty"===C.substr(ke,5).toLowerCase()?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(An)),Ge!==i&&(Un=Le,Ge="empty"),(Le=Ge)===i&&(Le=ke,C.substr(ke,8).toLowerCase()===Wn?(Ge=C.substr(ke,8),ke+=8):(Ge=i,0===Ln&&De($n)),Ge!==i&&(Un=Le,Ge="notempty"),Le=Ge),Mn[Gt]={nextPos:ke,result:Le},Le)}())!==i?(Un=Le,Le=Ge=function(Le,Ge){return new n.UnaryOperand(Le,Ge)}(Ge,Ct)):(ke=Le,Le=i)),Mn[Xt]={nextPos:ke,result:Le},Le)}())===i&&(Le=xr())===i&&(Le=function ro(){var Le,Ge,Gt,Ct,Xt=34*ke+20,Cn=Mn[Xt];return Cn?(ke=Cn.nextPos,Cn.result):(Le=ke,91===C.charCodeAt(ke)?(Ge="[",ke++):(Ge=i,0===Ln&&De(no)),Ge!==i&&(Gt=Mo())!==i?(93===C.charCodeAt(ke)?(Ct="]",ke++):(Ct=i,0===Ln&&De(Ao)),Ct!==i?(Un=Le,Le=Ge=Gt):(ke=Le,Le=i)):(ke=Le,Le=i),Mn[Xt]={nextPos:ke,result:Le},Le)}()),Mn[wn]={nextPos:ke,result:Le},Le)}function xr(){var Le,Gt,Ct,Xt,Cn=34*ke+18,wn=Mn[Cn];return wn?(ke=wn.nextPos,wn.result):(Le=ke,vi()!==i?(C.substr(ke,9)===Fn?(Gt=Fn,ke+=9):(Gt=i,0===Ln&&De(ti)),Gt===i&&("null"===C.substr(ke,4)?(Gt="null",ke+=4):(Gt=i,0===Ln&&De(ci))),Gt!==i?(Un=Le,Le=null):(ke=Le,Le=i)):(ke=Le,Le=i),Le===i&&(Le=ke,vi()!==i&&(Gt=function as(){var Le,Ge,Gt,Ct,Xt=34*ke+19,Cn=Mn[Xt];return Cn?(ke=Cn.nextPos,Cn.result):(Le=ke,(Ge=function Gs(){var Le,Ge,Gt=34*ke+22,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"true"===C.substr(ke,4).toLowerCase()?(Ge=C.substr(ke,4),ke+=4):(Ge=i,0===Ln&&De(Kt)),Ge!==i&&(Un=Le,Ge=!0),(Le=Ge)===i&&(Le=ke,"false"===C.substr(ke,5).toLowerCase()?(Ge=C.substr(ke,5),ke+=5):(Ge=i,0===Ln&&De(yt)),Ge!==i&&(Un=Le,Ge=!1),Le=Ge),Mn[Gt]={nextPos:ke,result:Le},Le)}())!==i&&(Un=Le),(Le=Ge)===i&&(Le=ke,(Ge=function Vr(){var Le,Ge,Gt,Ct=34*ke+23,Xt=Mn[Ct];return Xt?(ke=Xt.nextPos,Xt.result):(Le=ke,"0x"===C.substr(ke,2)?(Ge="0x",ke+=2):(Ge=i,0===Ln&&De(oi)),Ge!==i&&(Gt=ho())!==i?(Un=Le,Le=Ge=parseInt(So(),16)):(ke=Le,Le=i),Le===i&&(Le=ke,zi.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Zi)),Ge===i&&(Ge=null),Ge!==i&&(Gt=function $o(){var Le,Ge,Gt,Xt=34*ke+24,Cn=Mn[Xt];return Cn?(ke=Cn.nextPos,Cn.result):(Le=ke,(Ge=ho())!==i?(46===C.charCodeAt(ke)?(Gt=".",ke++):(Gt=i,0===Ln&&De(ps)),Gt!==i&&ho()!==i?(Un=Le,Le=Ge=parseFloat(So())):(ke=Le,Le=i)):(ke=Le,Le=i),Le===i&&(Le=ke,(Ge=function ls(){var Le,Ge,Gt=34*ke+31,Ct=Mn[Gt];if(Ct)return ke=Ct.nextPos,Ct.result;if(Le=[],Jo.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Vo)),Ge!==i)for(;Ge!==i;)Le.push(Ge),Jo.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Vo));else Le=i;return Mn[Gt]={nextPos:ke,result:Le},Le}())!==i?((Gt=ho())===i&&(Gt=null),Gt!==i?(Un=Le,Le=Ge=parseInt(So(),10)):(ke=Le,Le=i)):(ke=Le,Le=i),Le===i&&(Le=ke,48===C.charCodeAt(ke)?(Ge="0",ke++):(Ge=i,0===Ln&&De(Er)),Ge!==i&&(Un=Le,Ge=0),Le=Ge)),Mn[Xt]={nextPos:ke,result:Le},Le)}())!==i?(Un=Le,Le=Ge=function(Le,Ge){return null==Le?Ge:-Ge}(Ge,Gt)):(ke=Le,Le=i)),Mn[Ct]={nextPos:ke,result:Le},Le)}())!==i&&(Un=Le),(Le=Ge)===i&&(Le=ke,(Ge=pr())!==i&&(Un=Le),(Le=Ge)===i&&(Le=ke,"''"===C.substr(ke,2)?(Ge="''",ke+=2):(Ge=i,0===Ln&&De(Ht)),Ge!==i&&(Un=Le,Ge=""),(Le=Ge)===i&&(Le=ke,'""'===C.substr(ke,2)?(Ge='""',ke+=2):(Ge=i,0===Ln&&De(kt)),Ge!==i&&(Un=Le,Ge=""),(Le=Ge)===i&&(Le=ke,39===C.charCodeAt(ke)?(Ge="'",ke++):(Ge=i,0===Ln&&De(ai)),Ge!==i&&(Gt=Wo())!==i?(39===C.charCodeAt(ke)?(Ct="'",ke++):(Ct=i,0===Ln&&De(ai)),Ct!==i?(Un=Le,Le=Ge=Ei(Gt)):(ke=Le,Le=i)):(ke=Le,Le=i),Le===i&&(Le=ke,34===C.charCodeAt(ke)?(Ge='"',ke++):(Ge=i,0===Ln&&De(ao)),Ge!==i&&(Gt=Wo())!==i?(34===C.charCodeAt(ke)?(Ct='"',ke++):(Ct=i,0===Ln&&De(ao)),Ct!==i?(Un=Le,Le=Ge=Ei(Gt)):(ke=Le,Le=i)):(ke=Le,Le=i))))))),Mn[Xt]={nextPos:ke,result:Le},Le)}())!==i?(Un=Le,Le=function(Le){return new n.Const(Le)}(Gt)):(ke=Le,Le=i),Le===i&&(Le=ke,vi()!==i?(123===C.charCodeAt(ke)?(Gt="{",ke++):(Gt=i,0===Ln&&De(pi)),Gt!==i&&(Ct=function Ls(){var Le,Ge,Gt,Ct=34*ke+25,Xt=Mn[Ct];if(Xt)return ke=Xt.nextPos,Xt.result;if(Le=ke,Ge=[],(Gt=Qr())!==i)for(;Gt!==i;)Ge.push(Gt),Gt=Qr();else Ge=i;return Ge!==i&&(Un=Le,Ge=os(Ge)),Mn[Ct]={nextPos:ke,result:Le=Ge},Le}())!==i?(125===C.charCodeAt(ke)?(Xt="}",ke++):(Xt=i,0===Ln&&De(Ui)),Xt!==i?(Un=Le,Le=function(Le){return new n.Variable(Le)}(Ct)):(ke=Le,Le=i)):(ke=Le,Le=i)):(ke=Le,Le=i))),Mn[Cn]={nextPos:ke,result:Le},Le)}function Mo(){var Le,Ge,Gt,Ct,Xt,Cn,wn,xn,ui=34*ke+21,Jn=Mn[ui];if(Jn)return ke=Jn.nextPos,Jn.result;if(Le=ke,(Ge=ht())===i&&(Ge=null),Ge!==i){for(Gt=[],Ct=ke,(Xt=vi())!==i?(44===C.charCodeAt(ke)?(Cn=",",ke++):(Cn=i,0===Ln&&De(sr)),Cn!==i&&(wn=vi())!==i&&(xn=ht())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i)):(ke=Ct,Ct=i);Ct!==i;)Gt.push(Ct),Ct=ke,(Xt=vi())!==i?(44===C.charCodeAt(ke)?(Cn=",",ke++):(Cn=i,0===Ln&&De(sr)),Cn!==i&&(wn=vi())!==i&&(xn=ht())!==i?Ct=Xt=[Xt,Cn,wn,xn]:(ke=Ct,Ct=i)):(ke=Ct,Ct=i);Gt!==i?(Un=Le,Le=Ge=function(Le,Ge){if(null==Le)return new n.ArrayOperand([]);var Gt=[Le];if(Array.isArray(Ge))for(var Ct=function xo(Le){return[].concat.apply([],Le)}(Ge),Xt=3;Xt<Ct.length;Xt+=4)Gt.push(Ct[Xt]);return new n.ArrayOperand(Gt)}(Ge,Gt)):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[ui]={nextPos:ke,result:Le},Le}function Wo(){var Le,Ge,Gt,Ct=34*ke+26,Xt=Mn[Ct];if(Xt)return ke=Xt.nextPos,Xt.result;if(Le=ke,Ge=[],(Gt=hr())!==i)for(;Gt!==i;)Ge.push(Gt),Gt=hr();else Ge=i;return Ge!==i&&(Un=Le,Ge=os(Ge)),Mn[Ct]={nextPos:ke,result:Le=Ge},Le}function hr(){var Le,Ge,Gt=34*ke+27,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,"\\'"===C.substr(ke,2)?(Ge="\\'",ke+=2):(Ge=i,0===Ln&&De(Cr)),Ge!==i&&(Un=Le,Ge="'"),(Le=Ge)===i&&(Le=ke,'\\"'===C.substr(ke,2)?(Ge='\\"',ke+=2):(Ge=i,0===Ln&&De(cr)),Ge!==i&&(Un=Le,Ge='"'),(Le=Ge)===i&&(Le=ke,ws.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Sr)),Ge!==i&&(Un=Le,Ge=Vi()),Le=Ge)),Mn[Gt]={nextPos:ke,result:Le},Le)}function Qr(){var Le,Ge,Gt=34*ke+28,Ct=Mn[Gt];return Ct?(ke=Ct.nextPos,Ct.result):(Le=ke,Or.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Qo)),Ge!==i&&(Un=Le,Ge=Vi()),Mn[Gt]={nextPos:ke,result:Le=Ge},Le)}function pr(){var Le,Gt,Ct,Xt,Cn,wn,xn=34*ke+29,ui=Mn[xn];if(ui)return ke=ui.nextPos,ui.result;if(Le=ke,qo()!==i){if(Gt=[],Ct=ke,(Xt=ho())!==i){for(Cn=[],wn=qo();wn!==i;)Cn.push(wn),wn=qo();Cn!==i?Ct=Xt=[Xt,Cn]:(ke=Ct,Ct=i)}else ke=Ct,Ct=i;for(;Ct!==i;)if(Gt.push(Ct),Ct=ke,(Xt=ho())!==i){for(Cn=[],wn=qo();wn!==i;)Cn.push(wn),wn=qo();Cn!==i?Ct=Xt=[Xt,Cn]:(ke=Ct,Ct=i)}else ke=Ct,Ct=i;Gt!==i?(Un=Le,Le=Vi()):(ke=Le,Le=i)}else ke=Le,Le=i;return Mn[xn]={nextPos:ke,result:Le},Le}function ho(){var Le,Ge,Gt=34*ke+30,Ct=Mn[Gt];if(Ct)return ke=Ct.nextPos,Ct.result;if(Le=[],ur.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(go)),Ge!==i)for(;Ge!==i;)Le.push(Ge),ur.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(go));else Le=i;return Mn[Gt]={nextPos:ke,result:Le},Le}function qo(){var Le,Ge,Gt=34*ke+32,Ct=Mn[Gt];if(Ct)return ke=Ct.nextPos,Ct.result;if(Le=[],wo.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Xo)),Ge!==i)for(;Ge!==i;)Le.push(Ge),wo.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Xo));else Le=i;return Mn[Gt]={nextPos:ke,result:Le},Le}function vi(){var Le,Ge,Gt=34*ke+33,Ct=Mn[Gt];if(Ct)return ke=Ct.nextPos,Ct.result;for(Ln++,Le=[],Nr.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Fr));Ge!==i;)Le.push(Ge),Nr.test(C.charAt(ke))?(Ge=C.charAt(ke),ke++):(Ge=i,0===Ln&&De(Fr));return Ln--,Le===i&&(Ge=i,0===Ln&&De(Tr)),Mn[Gt]={nextPos:ke,result:Le},Le}function Dr(Le,Ge,Gt){return void 0===Gt&&(Gt=!1),Ge.reduce(function(Ct,Xt){return new n.BinaryOperand(Xt[1],Ct,Xt[3],Gt)},Le)}if((kr=_())!==i&&ke===C.length)return kr;throw kr!==i&&ke<C.length&&De({type:"end"}),function Te(Le,Ge,Gt){return new T(T.buildMessage(Le,Ge),Le,Ge,Gt)}(lo,xi<C.length?C.charAt(xi):null,function No(Le,Ge){var Gt=dr(Le),Ct=dr(Ge);return{start:{offset:Le,line:Gt.line,column:Gt.column},end:{offset:Ge,line:Ct.line,column:Ct.column}}}(xi,xi<C.length?xi+1:xi))}},"./src/expressions/expressions.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"Operand",function(){return C}),e.d(t,"BinaryOperand",function(){return E}),e.d(t,"UnaryOperand",function(){return i}),e.d(t,"ArrayOperand",function(){return f}),e.d(t,"Const",function(){return _}),e.d(t,"Variable",function(){return l}),e.d(t,"FunctionOperand",function(){return m}),e.d(t,"OperandMaker",function(){return h});var d,n=e("./src/helpers.ts"),y=e("./src/functionsfactory.ts"),T=e("./src/conditionProcessValue.ts"),v=e("./src/settings.ts"),O=(d=function(c,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=c}d(c,a),c.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}),C=function(){function d(){}return d.prototype.toString=function(c){return void 0===c&&(c=void 0),""},d.prototype.hasFunction=function(){return!1},d.prototype.hasAsyncFunction=function(){return!1},d.prototype.addToAsyncList=function(c){},d.prototype.isEqual=function(c){return!!c&&c.getType()===this.getType()&&this.isContentEqual(c)},d.prototype.areOperatorsEquals=function(c,a){return!c&&!a||!!c&&c.isEqual(a)},d}(),E=function(d){function c(a,s,r,o){void 0===s&&(s=null),void 0===r&&(r=null),void 0===o&&(o=!1);var S=d.call(this)||this;return S.operatorName=a,S.left=s,S.right=r,S.isArithmeticValue=o,S.consumer=o?h.binaryFunctions.arithmeticOp(a):h.binaryFunctions[a],null==S.consumer&&h.throwInvalidOperatorError(a),S}return O(c,d),c.prototype.getType=function(){return"binary"},Object.defineProperty(c.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isConjunction",{get:function(){return"or"==this.operatorName||"and"==this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),c.prototype.isContentEqual=function(a){var s=a;return s.operator===this.operator&&this.areOperatorsEquals(this.left,s.left)&&this.areOperatorsEquals(this.right,s.right)},c.prototype.evaluateParam=function(a,s){return null==a?null:a.evaluate(s)},c.prototype.evaluate=function(a){return this.consumer.call(this,this.evaluateParam(this.left,a),this.evaluateParam(this.right,a))},c.prototype.toString=function(a){if(void 0===a&&(a=void 0),a){var s=a(this);if(s)return s}return"("+h.safeToString(this.left,a)+" "+h.operatorToString(this.operatorName)+" "+h.safeToString(this.right,a)+")"},c.prototype.setVariables=function(a){null!=this.left&&this.left.setVariables(a),null!=this.right&&this.right.setVariables(a)},c.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},c.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},c.prototype.addToAsyncList=function(a){this.left&&this.left.addToAsyncList(a),this.right&&this.right.addToAsyncList(a)},c}(C),i=function(d){function c(a,s){var r=d.call(this)||this;return r.expressionValue=a,r.operatorName=s,r.consumer=h.unaryFunctions[s],null==r.consumer&&h.throwInvalidOperatorError(s),r}return O(c,d),Object.defineProperty(c.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),c.prototype.getType=function(){return"unary"},c.prototype.toString=function(a){if(void 0===a&&(a=void 0),a){var s=a(this);if(s)return s}return h.operatorToString(this.operatorName)+" "+this.expression.toString(a)},c.prototype.isContentEqual=function(a){return a.operator==this.operator&&this.areOperatorsEquals(this.expression,a.expression)},c.prototype.evaluate=function(a){var s=this.expression.evaluate(a);return this.consumer.call(this,s)},c.prototype.setVariables=function(a){this.expression.setVariables(a)},c}(C),f=function(d){function c(a){var s=d.call(this)||this;return s.values=a,s}return O(c,d),c.prototype.getType=function(){return"array"},c.prototype.toString=function(a){if(void 0===a&&(a=void 0),a){var s=a(this);if(s)return s}return"["+this.values.map(function(r){return r.toString(a)}).join(", ")+"]"},c.prototype.evaluate=function(a){return this.values.map(function(s){return s.evaluate(a)})},c.prototype.setVariables=function(a){this.values.forEach(function(s){s.setVariables(a)})},c.prototype.hasFunction=function(){return this.values.some(function(a){return a.hasFunction()})},c.prototype.hasAsyncFunction=function(){return this.values.some(function(a){return a.hasAsyncFunction()})},c.prototype.addToAsyncList=function(a){this.values.forEach(function(s){return s.addToAsyncList(a)})},c.prototype.isContentEqual=function(a){var s=a;if(s.values.length!==this.values.length)return!1;for(var r=0;r<this.values.length;r++)if(!s.values[r].isEqual(this.values[r]))return!1;return!0},c}(C),_=function(d){function c(a){var s=d.call(this)||this;return s.value=a,s}return O(c,d),c.prototype.getType=function(){return"const"},c.prototype.toString=function(a){if(void 0===a&&(a=void 0),a){var s=a(this);if(s)return s}return this.value.toString()},Object.defineProperty(c.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),c.prototype.evaluate=function(){return this.getCorrectValue(this.value)},c.prototype.setVariables=function(a){},c.prototype.getCorrectValue=function(a){return a&&"string"==typeof a?this.isBooleanValue(a)?"true"===a.toLowerCase():a.length>1&&this.isQuote(a[0])&&this.isQuote(a[a.length-1])?a.substring(1,a.length-1):h.isNumeric(a)?0==a.indexOf("0x")?parseInt(a):a.length>1&&"0"==a[0]?a:parseFloat(a):a:a},c.prototype.isContentEqual=function(a){return a.value==this.value},c.prototype.isQuote=function(a){return"'"==a||'"'==a},c.prototype.isBooleanValue=function(a){return a&&("true"===a.toLowerCase()||"false"===a.toLowerCase())},c}(C),l=function(d){function c(a){var s=d.call(this,a)||this;return s.variableName=a,s.valueInfo={},s.useValueAsItIs=!1,!!s.variableName&&s.variableName.length>1&&s.variableName[0]===c.DisableConversionChar&&(s.variableName=s.variableName.substring(1),s.useValueAsItIs=!0),s}return O(c,d),Object.defineProperty(c,"DisableConversionChar",{get:function(){return v.settings.expressionDisableConversionChar},set:function(a){v.settings.expressionDisableConversionChar=a},enumerable:!1,configurable:!0}),c.prototype.getType=function(){return"variable"},c.prototype.toString=function(a){if(void 0===a&&(a=void 0),a){var s=a(this);if(s)return s}return"{"+(this.useValueAsItIs?c.DisableConversionChar:"")+this.variableName+"}"},Object.defineProperty(c.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),c.prototype.evaluate=function(a){return this.valueInfo.name=this.variableName,a.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},c.prototype.setVariables=function(a){a.push(this.variableName)},c.prototype.getCorrectValue=function(a){return this.useValueAsItIs?a:d.prototype.getCorrectValue.call(this,a)},c.prototype.isContentEqual=function(a){return a.variable==this.variable},c}(_),m=function(d){function c(a,s){var r=d.call(this)||this;return r.originalValue=a,r.parameters=s,r.isReadyValue=!1,Array.isArray(s)&&0===s.length&&(r.parameters=new f([])),r}return O(c,d),c.prototype.getType=function(){return"function"},c.prototype.evaluateAsync=function(a){var s=this;this.isReadyValue=!1;var r=new T.ProcessValue;r.values=n.Helpers.createCopy(a.values),r.properties=n.Helpers.createCopy(a.properties),r.properties.returnResult=function(o){s.asynResult=o,s.isReadyValue=!0,s.onAsyncReady()},this.evaluateCore(r)},c.prototype.evaluate=function(a){return this.isReady?this.asynResult:this.evaluateCore(a)},c.prototype.evaluateCore=function(a){return y.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(a),a.properties)},c.prototype.toString=function(a){if(void 0===a&&(a=void 0),a){var s=a(this);if(s)return s}return this.originalValue+"("+this.parameters.toString(a)+")"},c.prototype.setVariables=function(a){this.parameters.setVariables(a)},Object.defineProperty(c.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),c.prototype.hasFunction=function(){return!0},c.prototype.hasAsyncFunction=function(){return y.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},c.prototype.addToAsyncList=function(a){this.hasAsyncFunction()&&a.push(this)},c.prototype.isContentEqual=function(a){return a.originalValue==this.originalValue&&this.areOperatorsEquals(a.parameters,this.parameters)},c}(C),h=function(){function d(){}return d.throwInvalidOperatorError=function(c){throw new Error("Invalid operator: '"+c+"'")},d.safeToString=function(c,a){return null==c?"":c.toString(a)},d.toOperandString=function(c){return!!c&&!d.isNumeric(c)&&!d.isBooleanValue(c)&&(c="'"+c+"'"),c},d.isSpaceString=function(c){return!!c&&!c.replace(" ","")},d.isNumeric=function(c){return!(c&&(c.indexOf("-")>-1||c.indexOf("+")>1||c.indexOf("*")>-1||c.indexOf("^")>-1||c.indexOf("/")>-1||c.indexOf("%")>-1)||d.isSpaceString(c))&&n.Helpers.isNumber(c)},d.isBooleanValue=function(c){return!!c&&("true"===c.toLowerCase()||"false"===c.toLowerCase())},d.countDecimals=function(c){if(n.Helpers.isNumber(c)&&Math.floor(c)!==c){var a=c.toString().split(".");return a.length>1&&a[1].length||0}return 0},d.plusMinus=function(c,a,s){var r=d.countDecimals(c),o=d.countDecimals(a);if(r>0||o>0){var S=Math.max(r,o);s=parseFloat(s.toFixed(S))}return s},d.isTwoValueEquals=function(c,a){return"undefined"===c&&(c=void 0),"undefined"===a&&(a=void 0),n.Helpers.isTwoValueEquals(c,a,!0)},d.operatorToString=function(c){return d.signs[c]??c},d.unaryFunctions={empty:function(c){return n.Helpers.isValueEmpty(c)},notempty:function(c){return!d.unaryFunctions.empty(c)},negate:function(c){return!c}},d.binaryFunctions={arithmeticOp:function(c){return function(a,s){n.Helpers.isValueEmpty(a)&&!d.isSpaceString(a)&&(a="string"==typeof s?"":0),n.Helpers.isValueEmpty(s)&&!d.isSpaceString(s)&&(s="string"==typeof a?"":0);var r=d.binaryFunctions[c];return null==r?null:r.call(this,a,s)}},and:function(c,a){return c&&a},or:function(c,a){return c||a},plus:function(c,a){return n.Helpers.isNumber(c)&&n.Helpers.isNumber(a)?n.Helpers.correctAfterPlusMinis(c,a,c+a):c+a},minus:function(c,a){return n.Helpers.correctAfterPlusMinis(c,a,c-a)},mul:function(c,a){return n.Helpers.correctAfterMultiple(c,a,c*a)},div:function(c,a){return a?c/a:null},mod:function(c,a){return a?c%a:null},power:function(c,a){return Math.pow(c,a)},greater:function(c,a){return null!=c&&null!=a&&c>a},less:function(c,a){return null!=c&&null!=a&&c<a},greaterorequal:function(c,a){return!!d.binaryFunctions.equal(c,a)||d.binaryFunctions.greater(c,a)},lessorequal:function(c,a){return!!d.binaryFunctions.equal(c,a)||d.binaryFunctions.less(c,a)},equal:function(c,a){return d.isTwoValueEquals(c,a)},notequal:function(c,a){return!d.binaryFunctions.equal(c,a)},contains:function(c,a){return d.binaryFunctions.containsCore(c,a,!0)},notcontains:function(c,a){return!c&&!n.Helpers.isValueEmpty(a)||d.binaryFunctions.containsCore(c,a,!1)},anyof:function(c,a){if(n.Helpers.isValueEmpty(c)&&n.Helpers.isValueEmpty(a))return!0;if(n.Helpers.isValueEmpty(c)||!Array.isArray(c)&&0===c.length)return!1;if(n.Helpers.isValueEmpty(a))return!0;if(!Array.isArray(c))return d.binaryFunctions.contains(a,c);if(!Array.isArray(a))return d.binaryFunctions.contains(c,a);for(var s=0;s<a.length;s++)if(d.binaryFunctions.contains(c,a[s]))return!0;return!1},allof:function(c,a){if(!c&&!n.Helpers.isValueEmpty(a))return!1;if(!Array.isArray(a))return d.binaryFunctions.contains(c,a);for(var s=0;s<a.length;s++)if(!d.binaryFunctions.contains(c,a[s]))return!1;return!0},containsCore:function(c,a,s){if(!c&&0!==c&&!1!==c)return!1;if(c.length||(c=c.toString(),("string"==typeof a||a instanceof String)&&(c=c.toUpperCase(),a=a.toUpperCase())),"string"==typeof c||c instanceof String){if(!a)return!1;a=a.toString();var r=c.indexOf(a)>-1;return s?r:!r}for(var o=Array.isArray(a)?a:[a],S=0;S<o.length;S++){var I=0;for(a=o[S];I<c.length&&!d.isTwoValueEquals(c[I],a);I++);if(I==c.length)return!s}return s}},d.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},d}()},"./src/flowpanel.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"FlowPanelModel",function(){return v});var O,n=e("./src/jsonobject.ts"),y=e("./src/panel.ts"),T=(O=function(C,E){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(i[_]=f[_])})(C,E)},function(C,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)}),v=function(O){function C(E){void 0===E&&(E="");var i=O.call(this,E)||this;return i.createLocalizableString("content",i,!0),i.registerPropertyChangedHandlers(["content"],function(){i.onContentChanged()}),i}return T(C,O),C.prototype.getType=function(){return"flowpanel"},C.prototype.getChildrenLayoutType=function(){return"flow"},C.prototype.onSurveyLoad=function(){O.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(C.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(E){this.setLocalizableStringText("content",E)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(E){this.setPropertyValue("html",E)},enumerable:!1,configurable:!0}),C.prototype.onContentChanged=function(){var E;E=this.onCustomHtmlProducing?this.onCustomHtmlProducing():this.produceHtml(),this.html=E,this.contentChangedCallback&&this.contentChangedCallback()},C.prototype.produceHtml=function(){for(var E=[],i=/{(.*?(element:)[^$].*?)}/g,f=this.content,_=0,l=null;null!==(l=i.exec(f));){l.index>_&&(E.push(f.substring(_,l.index)),_=l.index);var m=this.getQuestionFromText(l[0]);E.push(m?this.getHtmlForQuestion(m):f.substring(_,l.index+l[0].length)),_=l.index+l[0].length}return _<f.length&&E.push(f.substring(_,f.length)),E.join("").replace(new RegExp("<br>","g"),"<br/>")},C.prototype.getQuestionFromText=function(E){return E=(E=E.substring(1,E.length-1)).replace(C.contentElementNamePrefix,"").trim(),this.getQuestionByName(E)},C.prototype.getHtmlForQuestion=function(E){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(E):""},C.prototype.getQuestionHtmlId=function(E){return this.name+"_"+E.id},C.prototype.onAddElement=function(E,i){O.prototype.onAddElement.call(this,E,i),this.addElementToContent(E),E.renderWidth=""},C.prototype.onRemoveElement=function(E){var i=this.getElementContentText(E);this.content=this.content.replace(i,""),O.prototype.onRemoveElement.call(this,E)},C.prototype.dragDropMoveElement=function(E,i,f){},C.prototype.addElementToContent=function(E){if(!this.isLoadingFromJson){var i=this.getElementContentText(E);this.insertTextAtCursor(i)||(this.content=this.content+i)}},C.prototype.insertTextAtCursor=function(E,i){if(void 0===i&&(i=null),!this.isDesignMode||typeof document>"u"||!window.getSelection)return!1;var f=window.getSelection();if(f.getRangeAt&&f.rangeCount){var _=f.getRangeAt(0);_.deleteContents(),_.insertNode(document.createTextNode(E));if(this.getContent){var m=this.getContent(i);this.content=m}return!0}return!1},C.prototype.getElementContentText=function(E){return"{"+C.contentElementNamePrefix+E.name+"}"},C.contentElementNamePrefix="element:",C}(y.PanelModel);n.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new v},"panel")},"./src/functionsfactory.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"FunctionFactory",function(){return T}),e.d(t,"registerFunction",function(){return v});var n=e("./src/helpers.ts"),y=e("./src/settings.ts"),T=function(){function $(){this.functionHash={},this.isAsyncHash={}}return $.prototype.register=function(j,V,Q){void 0===Q&&(Q=!1),this.functionHash[j]=V,Q&&(this.isAsyncHash[j]=!0)},$.prototype.unregister=function(j){delete this.functionHash[j],delete this.isAsyncHash[j]},$.prototype.hasFunction=function(j){return!!this.functionHash[j]},$.prototype.isAsyncFunction=function(j){return!!this.isAsyncHash[j]},$.prototype.clear=function(){this.functionHash={}},$.prototype.getAll=function(){var j=[];for(var V in this.functionHash)j.push(V);return j.sort()},$.prototype.run=function(j,V,Q){void 0===Q&&(Q=null);var ie=this.functionHash[j];if(!ie)return null;var ye={func:ie};if(Q)for(var G in Q)ye[G]=Q[G];return ye.func(V)},$.Instance=new $,$}(),v=T.Instance.register;function O($,j){if(null!=$)if(Array.isArray($))for(var V=0;V<$.length;V++)O($[V],j);else n.Helpers.isNumber($)&&($=parseFloat($)),j.push($)}function C($){var j=[];O($,j);for(var V=0,Q=0;Q<j.length;Q++)V=n.Helpers.correctAfterPlusMinis(V,j[Q],V+j[Q]);return V}function E($,j){var V=[];O($,V);for(var Q=void 0,ie=0;ie<V.length;ie++)void 0===Q&&(Q=V[ie]),j?Q>V[ie]&&(Q=V[ie]):Q<V[ie]&&(Q=V[ie]);return Q}function d($,j,V,Q,ie){return!$||n.Helpers.isValueEmpty($[j])?V:Q(V,ie?function h($){return"string"==typeof $?n.Helpers.isNumber($)?parseFloat($):void 0:$}($[j]):1)}function c($,j,V){void 0===V&&(V=!0);var Q=function m($){if(2!=$.length)return null;var j=$[0];if(!j||!Array.isArray(j)&&!Array.isArray(Object.keys(j)))return null;var V=$[1];return"string"==typeof V||V instanceof String?{data:j,name:V}:null}($);if(Q){var ie=void 0;if(Array.isArray(Q.data))for(var ye=0;ye<Q.data.length;ye++)ie=d(Q.data[ye],Q.name,ie,j,V);else for(var G in Q.data)ie=d(Q.data[G],Q.name,ie,j,V);return ie}}function a($){var j=c($,function(V,Q){return null==V&&(V=0),null==Q||null==Q?V:n.Helpers.correctAfterPlusMinis(V,Q,V+Q)});return void 0!==j?j:0}function o($){var j=c($,function(V,Q){return null==V&&(V=0),null==Q||null==Q?V:V+1},!1);return void 0!==j?j:0}function g($){if(!$)return!1;for(var j=$.questions,V=0;V<j.length;V++)if(j[V].hasErrors(!1))return!1;return!0}T.Instance.register("sum",C),T.Instance.register("min",function i($){return E($,!0)}),T.Instance.register("max",function f($){return E($,!1)}),T.Instance.register("count",function _($){var j=[];return O($,j),j.length}),T.Instance.register("avg",function l($){var j=[];O($,j);var V=C($);return j.length>0?V/j.length:0}),T.Instance.register("sumInArray",a),T.Instance.register("minInArray",function s($){return c($,function(j,V){return null==j?V:null==V||null==V||j<V?j:V})}),T.Instance.register("maxInArray",function r($){return c($,function(j,V){return null==j?V:null==V||null==V||j>V?j:V})}),T.Instance.register("countInArray",o),T.Instance.register("avgInArray",function S($){var j=o($);return 0==j?0:a($)/j}),T.Instance.register("iif",function I($){return $||3===$.length?$[0]?$[1]:$[2]:""}),T.Instance.register("getDate",function x($){return!$&&$.length<1||!$[0]?null:new Date($[0])}),T.Instance.register("age",function P($){if(!$&&$.length<1||!$[0])return null;var j=new Date($[0]),V=new Date,Q=V.getFullYear()-j.getFullYear(),ie=V.getMonth()-j.getMonth();return(ie<0||0===ie&&V.getDate()<j.getDate())&&(Q-=Q>0?1:0),Q}),T.Instance.register("isContainerReady",function u($){if(!$&&$.length<1||!$[0]||!this.survey)return!1;var j=$[0],V=this.survey.getPageByName(j);if(V||(V=this.survey.getPanelByName(j)),!V){var Q=this.survey.getQuestionByName(j);if(!Q||!Array.isArray(Q.panels))return!1;if(!($.length>1)){for(var ie=0;ie<Q.panels.length;ie++)if(!g(Q.panels[ie]))return!1;return!0}$[1]<Q.panels.length&&(V=Q.panels[$[1]])}return g(V)}),T.Instance.register("isDisplayMode",function M(){return this.survey&&this.survey.isDisplayMode}),T.Instance.register("currentDate",function R(){return new Date}),T.Instance.register("today",function w($){var j=new Date;return y.settings.useLocalTimeZone?j.setHours(0,0,0,0):j.setUTCHours(0,0,0,0),Array.isArray($)&&1==$.length&&j.setDate(j.getDate()+$[0]),j}),T.Instance.register("getYear",function F($){if(1===$.length&&$[0])return new Date($[0]).getFullYear()}),T.Instance.register("currentYear",function B(){return(new Date).getFullYear()}),T.Instance.register("diffDays",function H($){if(!Array.isArray($)||2!==$.length||!$[0]||!$[1])return 0;var j=new Date($[0]),V=new Date($[1]),Q=Math.abs(V-j);return Math.ceil(Q/864e5)})},"./src/helpers.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"Helpers",function(){return y});var n=e("./src/settings.ts"),y=function(){function T(){}return T.isValueEmpty=function(v){if(Array.isArray(v)&&0===v.length)return!0;if(v&&"object"==typeof v&&v.constructor===Object){for(var O in v)if(!T.isValueEmpty(v[O]))return!1;return!0}return!v&&0!==v&&!1!==v},T.isArrayContainsEqual=function(v,O){if(!Array.isArray(v)||!Array.isArray(O)||v.length!==O.length)return!1;for(var C=0;C<v.length;C++){for(var E=0;E<O.length&&!T.isTwoValueEquals(v[C],O[E]);E++);if(E===O.length)return!1}return!0},T.isArraysEqual=function(v,O,C,E,i){if(void 0===C&&(C=!1),!Array.isArray(v)||!Array.isArray(O)||v.length!==O.length)return!1;if(C){for(var f=[],_=[],l=0;l<v.length;l++)f.push(v[l]),_.push(O[l]);f.sort(),_.sort(),v=f,O=_}for(l=0;l<v.length;l++)if(!T.isTwoValueEquals(v[l],O[l],C,E,i))return!1;return!0},T.isTwoValueEquals=function(v,O,C,E,i){if(void 0===C&&(C=!1),v===O||Array.isArray(v)&&0===v.length&&typeof O>"u"||Array.isArray(O)&&0===O.length&&typeof v>"u"||null==v&&""===O||null==O&&""===v)return!0;if(void 0===i&&(i=n.settings.comparator.trimStrings),void 0===E&&(E=n.settings.comparator.caseSensitive),"string"==typeof v&&"string"==typeof O)return i&&(v=v.trim(),O=O.trim()),E||(v=v.toLowerCase(),O=O.toLowerCase()),v===O;if(v instanceof Date&&O instanceof Date)return v.getTime()==O.getTime();if(T.isConvertibleToNumber(v)&&T.isConvertibleToNumber(O)&&parseInt(v)===parseInt(O)&&parseFloat(v)===parseFloat(O))return!0;if(!T.isValueEmpty(v)&&T.isValueEmpty(O)||T.isValueEmpty(v)&&!T.isValueEmpty(O))return!1;if((!0===v||!1===v)&&"string"==typeof O)return v.toString()===O.toLocaleLowerCase();if((!0===O||!1===O)&&"string"==typeof v)return O.toString()===v.toLocaleLowerCase();if(!(v instanceof Object||O instanceof Object))return v==O;if(!(v instanceof Object&&O instanceof Object))return!1;if(v.equals)return v.equals(O);if(v.toJSON&&O.toJSON&&v.getType&&O.getType)return!(v.isDiposed||O.isDiposed||v.getType()!==O.getType()||v.name&&v.name!==O.name)&&this.isTwoValueEquals(v.toJSON(),O.toJSON(),C,E,i);if(Array.isArray(v)&&Array.isArray(O))return T.isArraysEqual(v,O,C,E,i);if(v.equalsTo&&O.equalsTo)return v.equalsTo(O);for(var f in v)if(v.hasOwnProperty(f)&&(!O.hasOwnProperty(f)||!this.isTwoValueEquals(v[f],O[f],C,E,i)))return!1;for(f in O)if(O.hasOwnProperty(f)&&!v.hasOwnProperty(f))return!1;return!0},T.randomizeArray=function(v){for(var O=v.length-1;O>0;O--){var C=Math.floor(Math.random()*(O+1)),E=v[O];v[O]=v[C],v[C]=E}return v},T.getUnbindValue=function(v){return v&&v instanceof Object&&!(v instanceof Date)?JSON.parse(JSON.stringify(v)):v},T.createCopy=function(v){var O={};if(!v)return O;for(var C in v)O[C]=v[C];return O},T.isConvertibleToNumber=function(v){return null!=v&&!Array.isArray(v)&&!isNaN(v)},T.isNumber=function(v){return!("string"==typeof v&&v&&0==v.indexOf("0x")&&v.length>32)&&!isNaN(parseFloat(v))&&isFinite(v)},T.getMaxLength=function(v,O){return v<0&&(v=O),v>0?v:null},T.getNumberByIndex=function(v,O){if(v<0)return"";var C=1,E="",i=".",f=!0,_="A",l="";if(O){for(var m=(l=O).length-1,h=!1,d=0;d<l.length;d++)if(T.isCharDigit(l[d])){h=!0;break}for(var c=function(){return h&&!T.isCharDigit(l[m])||T.isCharNotLetterAndDigit(l[m])};m>=0&&c();)m--;var a="";for(m<l.length-1&&(a=l.substring(m+1),l=l.substring(0,m+1)),m=l.length-1;m>=0&&!c()&&(m--,h););_=l.substring(m+1),E=l.substring(0,m+1),parseInt(_)?C=parseInt(_):1==_.length&&(f=!1),(a||E)&&(i=a)}return f?E+(v+C).toString()+i:E+String.fromCharCode(_.charCodeAt(0)+v)+i},T.isCharNotLetterAndDigit=function(v){return v.toUpperCase()==v.toLowerCase()&&!T.isCharDigit(v)},T.isCharDigit=function(v){return v>="0"&&v<="9"},T.countDecimals=function(v){if(T.isNumber(v)&&Math.floor(v)!==v){var O=v.toString().split(".");return O.length>1&&O[1].length||0}return 0},T.correctAfterPlusMinis=function(v,O,C){var E=T.countDecimals(v),i=T.countDecimals(O);if(E>0||i>0){var f=Math.max(E,i);C=parseFloat(C.toFixed(f))}return C},T.correctAfterMultiple=function(v,O,C){var E=T.countDecimals(v)+T.countDecimals(O);return E>0&&(C=parseFloat(C.toFixed(E))),C},T.convertArrayValueToObject=function(v,O,C){void 0===C&&(C=void 0);var E=new Array;if(!v||!Array.isArray(v))return E;for(var i=0;i<v.length;i++){var f=void 0;Array.isArray(C)&&(f=T.findObjByPropValue(C,O,v[i])),f||((f={})[O]=v[i]),E.push(f)}return E},T.findObjByPropValue=function(v,O,C){for(var E=0;E<v.length;E++)if(T.isTwoValueEquals(v[E][O],C))return v[E]},T.convertArrayObjectToValue=function(v,O){var C=new Array;if(!v||!Array.isArray(v))return C;for(var E=0;E<v.length;E++){var i=v[E]?v[E][O]:void 0;T.isValueEmpty(i)||C.push(i)}return C},T.convertDateToString=function(v){var O=function(C){return C<10?"0"+C.toString():C.toString()};return v.getFullYear()+"-"+O(v.getMonth()+1)+"-"+O(v.getDate())},T.convertValToQuestionVal=function(v){return v instanceof Date?T.convertDateToString(v):v},T}();String.prototype.format||(String.prototype.format=function(){var T=arguments;return this.replace(/{(\d+)}/g,function(v,O){return typeof T[O]<"u"?T[O]:v})})},"./src/images sync \\.svg$":function(K,t,e){var n={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./TimerCircle.svg":"./src/images/TimerCircle.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./clear_16x16.svg":"./src/images/clear_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./no-image.svg":"./src/images/no-image.svg","./search.svg":"./src/images/search.svg"};function y(v){var O=T(v);return e(O)}function T(v){if(!e.o(n,v)){var O=new Error("Cannot find module '"+v+"'");throw O.code="MODULE_NOT_FOUND",O}return n[v]}y.keys=function(){return Object.keys(n)},y.resolve=T,K.exports=y,y.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChooseFile.svg":function(K,t){K.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function(K,t){K.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/DefaultFile.svg":function(K,t){K.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function(K,t){K.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernBooleanCheckChecked.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./src/images/ModernBooleanCheckInd.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./src/images/ModernBooleanCheckUnchecked.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./src/images/ModernCheck.svg":function(K,t){K.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function(K,t){K.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function(K,t){K.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/ProgressButton.svg":function(K,t){K.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function(K,t){K.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/TimerCircle.svg":function(K,t){K.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./src/images/V2Check.svg":function(K,t){K.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/clear_16x16.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/collapseDetail.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/expandDetail.svg":function(K,t){K.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/no-image.svg":function(K,t){K.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/search.svg":function(K,t){K.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/itemvalue.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ItemValue",function(){return i});var f,n=e("./src/localizablestring.ts"),y=e("./src/jsonobject.ts"),T=e("./src/helpers.ts"),v=e("./src/conditions.ts"),O=e("./src/base.ts"),C=e("./src/settings.ts"),E=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),i=function(f){function _(l,m,h){void 0===m&&(m=null),void 0===h&&(h="itemvalue");var d=f.call(this)||this;return d.typeName=h,d.ownerPropertyName="",d.locTextValue=new n.LocalizableString(d,!0,"text"),d.locTextValue.onStrChanged=function(c,a){a==d.value&&(a=void 0),d.propertyValueChanged("text",c,a)},d.locTextValue.onGetTextCallback=function(c){return c||(T.Helpers.isValueEmpty(d.value)?null:d.value.toString())},m&&(d.locText.text=m),l&&"object"==typeof l?d.setData(l):d.value=l,"itemvalue"!=d.getType()&&y.CustomPropertiesCollection.createProperties(d),d.onCreating(),d}return E(_,f),_.prototype.getMarkdownHtml=function(l,m){return this.locOwner?this.locOwner.getMarkdownHtml(l,m):void 0},_.prototype.getRenderer=function(l){return this.locOwner?this.locOwner.getRenderer(l):null},_.prototype.getRendererContext=function(l){return this.locOwner?this.locOwner.getRendererContext(l):l},_.prototype.getProcessedText=function(l){return this.locOwner?this.locOwner.getProcessedText(l):l},Object.defineProperty(_,"Separator",{get:function(){return C.settings.itemValueSeparator},set:function(l){C.settings.itemValueSeparator=l},enumerable:!1,configurable:!0}),_.setData=function(l,m,h){l.length=0;for(var d=0;d<m.length;d++){var c=m[d],a=c&&"function"==typeof c.getType?c.getType():h??"itemvalue",s=y.Serializer.createClass(a);s.setData(c),c.originalItem&&(s.originalItem=c.originalItem),l.push(s)}},_.getData=function(l){for(var m=[],h=0;h<l.length;h++)m.push(l[h].getData());return m},_.getItemByValue=function(l,m){if(!Array.isArray(l))return null;for(var h=T.Helpers.isValueEmpty(m),d=0;d<l.length;d++)if(h&&T.Helpers.isValueEmpty(l[d].value)||T.Helpers.isTwoValueEquals(l[d].value,m,!1,!0,!1))return l[d];return null},_.getTextOrHtmlByValue=function(l,m){var h=_.getItemByValue(l,m);return null!==h?h.locText.textOrHtml:""},_.locStrsChanged=function(l){for(var m=0;m<l.length;m++)l[m].locStrsChanged()},_.runConditionsForItems=function(l,m,h,d,c,a,s){return void 0===a&&(a=!0),_.runConditionsForItemsCore(l,m,h,d,c,!0,a,s)},_.runEnabledConditionsForItems=function(l,m,h,d,c){return _.runConditionsForItemsCore(l,null,m,h,d,!1,!0,c)},_.runConditionsForItemsCore=function(l,m,h,d,c,a,s,r){void 0===s&&(s=!0),d||(d={});for(var o=d.item,S=d.choice,I=!1,x=0;x<l.length;x++){var P=l[x];d.item=P.value,d.choice=P.value;var g=!(!s||!P.getConditionRunner)&&P.getConditionRunner(a);g||(g=h);var u=!0;g&&(u=g.run(d,c)),r&&(u=r(P,u)),m&&u&&m.push(P),u!=(a?P.isVisible:P.isEnabled)&&(I=!0,a?P.setIsVisible&&P.setIsVisible(u):P.setIsEnabled&&P.setIsEnabled(u))}return o?d.item=o:delete d.item,S?d.choice=S:delete d.choice,I},_.prototype.onCreating=function(){},_.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},_.prototype.getSurvey=function(l){return void 0===l&&(l=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},_.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(_.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),_.prototype.setLocText=function(l){this.locTextValue=l},Object.defineProperty(_.prototype,"locOwner",{get:function(){return this._locOwner},set:function(l){this._locOwner=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(l){var m=void 0;if(!T.Helpers.isValueEmpty(l)){var h=l.toString(),d=h.indexOf(C.settings.itemValueSeparator);d>-1&&(l=h.slice(0,d),m=h.slice(d+1))}this.setPropertyValue("value",l),m&&(this.text=m)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(l){this.text=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(l){this.locText.text=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),_.prototype.canSerializeValue=function(){var l=this.value;return null!=l&&!Array.isArray(l)&&"object"!=typeof l},_.prototype.getData=function(){var l=this.toJSON();if(!!l.value&&!!l.value.pos&&delete l.value.pos,T.Helpers.isValueEmpty(l.value))return l;var m=this.canSerializeValue();return m&&(C.settings.itemValueAlwaysSerializeAsObject||C.settings.itemValueAlwaysSerializeText)||1!=Object.keys(l).length?(C.settings.itemValueAlwaysSerializeText&&void 0===l.text&&m&&(l.text=this.value.toString()),l):this.value},_.prototype.toJSON=function(){var l={},m=y.Serializer.getProperties(this.getType());(!m||0==m.length)&&(m=y.Serializer.getProperties("itemvalue"));for(var h=new y.JsonObject,d=0;d<m.length;d++){var c=m[d];"text"===c.name&&!this.locText.hasNonDefaultText()&&T.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||h.valueToJson(this,l,c)}return l},_.prototype.setData=function(l){if(!T.Helpers.isValueEmpty(l)){if(typeof l.value>"u"&&typeof l.text<"u"&&1===Object.keys(l).length&&(l.value=l.text),typeof l.value<"u"){var m;m="function"==typeof l.toJSON?l.toJSON():l,(new y.JsonObject).toObject(m,this)}else this.value=l;this.locText.strChanged()}},Object.defineProperty(_.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(l){this.setPropertyValue("visibleIf",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(l){this.setPropertyValue("enableIf",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!0)},enumerable:!1,configurable:!0}),_.prototype.setIsVisible=function(l){this.setPropertyValue("isVisible",l)},Object.defineProperty(_.prototype,"isEnabled",{get:function(){return this.getPropertyValue("isEnabled",!0)},enumerable:!1,configurable:!0}),_.prototype.setIsEnabled=function(l){this.setPropertyValue("isEnabled",l)},_.prototype.addUsedLocales=function(l){this.AddLocStringToUsedLocales(this.locTextValue,l)},_.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this),this.locText.strChanged()},_.prototype.onPropertyValueChanged=function(l,m,h){"value"===l&&!this.hasText&&this.locText.strChanged();var d="itemValuePropertyChanged";!this.locOwner||!this.locOwner[d]||this.locOwner[d](this,l,m,h)},_.prototype.getConditionRunner=function(l){return l?this.getVisibleConditionRunner():this.getEnableConditionRunner()},_.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new v.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},_.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new v.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},_}(O.Base);O.Base.createItemValue=function(f,_){var l=null;return(l=_?y.JsonObject.metaData.createClass(_,{}):"function"==typeof f.getType?new i(null,void 0,f.getType()):new i(null)).setData(f),l},O.Base.itemValueLocStrChanged=function(f){i.locStrsChanged(f)},y.JsonObjectProperty.getItemValuesDefaultValue=function(f,_){var l=new Array;return i.setData(l,Array.isArray(f)?f:[],_),l},y.Serializer.addClass("itemvalue",["!value",{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(f){return!f||"rateValues"!==f.ownerPropertyName}}],function(f){return new i(f)})},"./src/jsonobject.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"property",function(){return i}),e.d(t,"propertyArray",function(){return _}),e.d(t,"JsonObjectProperty",function(){return l}),e.d(t,"CustomPropertiesCollection",function(){return m}),e.d(t,"JsonMetadataClass",function(){return h}),e.d(t,"JsonMetadata",function(){return d}),e.d(t,"JsonError",function(){return c}),e.d(t,"JsonUnknownPropertyError",function(){return a}),e.d(t,"JsonMissingTypeErrorBase",function(){return s}),e.d(t,"JsonMissingTypeError",function(){return r}),e.d(t,"JsonIncorrectTypeError",function(){return o}),e.d(t,"JsonRequiredPropertyError",function(){return S}),e.d(t,"JsonObject",function(){return I}),e.d(t,"Serializer",function(){return x});var P,n=e("./src/surveyStrings.ts"),y=e("./src/base.ts"),T=e("./src/helpers.ts"),v=(P=function(g,u){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var w in R)Object.prototype.hasOwnProperty.call(R,w)&&(M[w]=R[w])})(g,u)},function(g,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function M(){this.constructor=g}P(g,u),g.prototype=null===u?Object.create(u):(M.prototype=u.prototype,new M)});function C(P,g,u){var M=P.getLocalizableString(u);M||(M=P.createLocalizableString(u,P,!0),"object"==typeof g.localizable&&"function"==typeof g.localizable.onGetTextCallback&&(M.onGetTextCallback=g.localizable.onGetTextCallback))}function i(P){return function(g,u){var M=function(R,w){if(w&&"object"==typeof w&&w.type===y.ComputedUpdater.ComputedUpdaterType){y.Base.startCollectDependencies(function(){return R[u]=w.updater()},R,u);var F=w.updater(),B=y.Base.finishCollectDependencies();return w.setDependencies(B),F}return w};P&&P.localizable?(Object.defineProperty(g,u,{get:function(){return function E(P,g,u){C(P,g,u);var M=P.getLocalizableStringText(u);if(M)return M;if("object"==typeof g.localizable&&g.localizable.defaultStr){var R=P.getLocale?P.getLocale():"";return n.surveyLocalization.getString(g.localizable.defaultStr,R)}return""}(this,P,u)},set:function(R){C(this,P,u);var w=M(this,R);this.setLocalizableStringText(u,w),P&&P.onSet&&P.onSet(w,this)}}),Object.defineProperty(g,"object"==typeof P.localizable&&P.localizable.name?P.localizable.name:"loc"+u.charAt(0).toUpperCase()+u.slice(1),{get:function(){return C(this,P,u),this.getLocalizableString(u)}})):Object.defineProperty(g,u,{get:function(){var R=this.getPropertyValue(u);if(void 0!==R)return R;if(P){if("function"==typeof P.getDefaultValue)return P.getDefaultValue(this);if(void 0!==P.defaultValue)return P.defaultValue}},set:function(R){var w=M(this,R);this.setPropertyValue(u,w),P&&P.onSet&&P.onSet(w,this)}})}}function f(P,g,u){P.ensureArray(u,function(M,R){var w=g?g.onPush:null;w&&w(M,R,P)},function(M,R){var w=g?g.onRemove:null;w&&w(M,R,P)})}function _(P){return function(g,u){Object.defineProperty(g,u,{get:function(){return f(this,P,u),this.getPropertyValue(u)},set:function(M){f(this,P,u);var R=this.getPropertyValue(u);M!==R&&(R?R.splice.apply(R,function(P,g,u){if(u||2===arguments.length)for(var w,M=0,R=g.length;M<R;M++)(w||!(M in g))&&(w||(w=Array.prototype.slice.call(g,0,M)),w[M]=g[M]);return P.concat(w||Array.prototype.slice.call(g))}([0,R.length],M||[],!1)):this.setPropertyValue(u,M),P&&P.onSet&&P.onSet(M,this))}})}}var l=function(){function P(g,u,M){void 0===M&&(M=!1),this.name=u,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=g,this.isRequiredValue=M,this.idValue=P.Index++}return Object.defineProperty(P.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(g){"itemvalues"===g&&(g="itemvalue[]"),"textitems"===g&&(g="textitem[]"),this.typeValue=g,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(g){this.isRequiredValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(g){this.isUniqueValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(g){this.uniquePropertyValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"defaultValue",{get:function(){var g=this.defaultValueValue;return!!P.getItemValuesDefaultValue&&I.metaData.isDescendantOf(this.className,"itemvalue")&&(g=P.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),g},set:function(g){this.defaultValueValue=g},enumerable:!1,configurable:!0}),P.prototype.isDefaultValue=function(g){return T.Helpers.isValueEmpty(this.defaultValue)?!1===g&&("boolean"==this.type||"switch"==this.type)||""===g||T.Helpers.isValueEmpty(g):T.Helpers.isTwoValueEquals(g,this.defaultValue,!1,!0,!1)},P.prototype.getValue=function(g){return this.onGetValue?this.onGetValue(g):this.serializationProperty&&g[this.serializationProperty]?g[this.serializationProperty].getJson():g[this.name]},P.prototype.getPropertyValue=function(g){return this.isLocalizable?g[this.serializationProperty]?g[this.serializationProperty].text:null:this.getValue(g)},Object.defineProperty(P.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),P.prototype.settingValue=function(g,u){return!this.onSettingValue||g.isLoadingFromJson?u:this.onSettingValue(g,u)},P.prototype.setValue=function(g,u,M){this.onSetValue?this.onSetValue(g,u,M):this.serializationProperty&&g[this.serializationProperty]?g[this.serializationProperty].setJson(u):(u&&"string"==typeof u&&("number"==this.type&&(u=parseInt(u)),("boolean"==this.type||"switch"==this.type)&&(u="true"===u.toLowerCase())),g[this.name]=u)},P.prototype.getObjType=function(g){return this.classNamePart?g.replace(this.classNamePart,""):g},P.prototype.getClassName=function(g){return g&&(g=g.toLowerCase()),this.classNamePart&&g.indexOf(this.classNamePart)<0?g+this.classNamePart:g},Object.defineProperty(P.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),P.prototype.getChoices=function(g,u){return void 0===u&&(u=null),null!=this.choicesValue?this.choicesValue:null!=this.choicesfunc?this.choicesfunc(g,u):null},P.prototype.setChoices=function(g,u){void 0===u&&(u=null),this.choicesValue=g,this.choicesfunc=u},P.prototype.getBaseValue=function(){return this.baseValue?"function"==typeof this.baseValue?this.baseValue():this.baseValue:""},P.prototype.setBaseValue=function(g){this.baseValue=g},Object.defineProperty(P.prototype,"readOnly",{get:function(){return null!=this.readOnlyValue&&this.readOnlyValue},set:function(g){this.readOnlyValue=g},enumerable:!1,configurable:!0}),P.prototype.isVisible=function(g,u){return void 0===u&&(u=null),!(!this.visible||this.layout&&this.layout!=g)&&(!this.visibleIf||!u||this.visibleIf(u))},Object.defineProperty(P.prototype,"visible",{get:function(){return null==this.visibleValue||this.visibleValue},set:function(g){this.visibleValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isLocalizable",{get:function(){return null!=this.isLocalizableValue&&this.isLocalizableValue},set:function(g){this.isLocalizableValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(g){this.dataListValue=g},enumerable:!1,configurable:!0}),P.prototype.mergeWith=function(g){for(var u=P.mergableValues,M=0;M<u.length;M++)this.mergeValue(g,u[M])},P.prototype.addDependedProperty=function(g){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(g)<0&&this.dependedProperties.push(g)},P.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},P.prototype.schemaType=function(){return this.className||this.baseClassName?"array":"boolean"==this.type||"number"==this.type?this.type:"string"},P.prototype.mergeValue=function(g,u){null==this[u]&&null!=g[u]&&(this[u]=g[u])},P.Index=1,P.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","classNamePart","baseClassName","defaultValue","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","showMode","dependedProperties","visibleIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],P}(),m=function(){function P(){}return P.addProperty=function(g,u){g=g.toLowerCase();var M=P.properties;M[g]||(M[g]=[]),M[g].push(u)},P.removeProperty=function(g,u){g=g.toLowerCase();var M=P.properties;if(M[g])for(var R=M[g],w=0;w<R.length;w++)if(R[w].name==u){M[g].splice(w,1);break}},P.removeAllProperties=function(g){g=g.toLowerCase(),delete P.properties[g]},P.addClass=function(g,u){g=g.toLowerCase(),u&&(u=u.toLowerCase()),P.parentClasses[g]=u},P.getProperties=function(g){g=g.toLowerCase();for(var u=[],M=P.properties;g;){var R=M[g];if(R)for(var w=0;w<R.length;w++)u.push(R[w]);g=P.parentClasses[g]}return u},P.createProperties=function(g){!g||!g.getType||P.createPropertiesCore(g,g.getType())},P.createPropertiesCore=function(g,u){var M=P.properties;M[u]&&P.createPropertiesInObj(g,M[u]);var R=P.parentClasses[u];R&&P.createPropertiesCore(g,R)},P.createPropertiesInObj=function(g,u){for(var M=0;M<u.length;M++)P.createPropertyInObj(g,u[M])},P.createPropertyInObj=function(g,u){if(!(P.checkIsPropertyExists(g,u.name)||u.serializationProperty&&P.checkIsPropertyExists(g,u.serializationProperty))){if(u.isLocalizable&&u.serializationProperty&&g.createCustomLocalizableObj){g.createCustomLocalizableObj(u.name);var M={get:function(){return g.getLocalizableString(u.name)}};Object.defineProperty(g,u.serializationProperty,M);var R={get:function(){return g.getLocalizableStringText(u.name,u.defaultValue)},set:function(B){g.setLocalizableStringText(u.name,B)}};Object.defineProperty(g,u.name,R)}else{var w=u.defaultValue,F=u.isArray||"multiplevalues"===u.type;"function"==typeof g.createNewArray&&(I.metaData.isDescendantOf(u.className,"itemvalue")?(g.createNewArray(u.name,function(B){B.locOwner=g,B.ownerPropertyName=u.name}),F=!0):F&&g.createNewArray(u.name),F&&(Array.isArray(w)&&g.setPropertyValue(u.name,w),w=null)),g.getPropertyValue&&g.setPropertyValue&&(R={get:function(){return u.onGetValue?u.onGetValue(g):g.getPropertyValue(u.name,w)},set:function(H){u.onSetValue?u.onSetValue(g,H,null):g.setPropertyValue(u.name,H)}},Object.defineProperty(g,u.name,R))}("condition"===u.type||"expression"===u.type)&&u.onExecuteExpression&&g.addExpressionProperty(u.name,u.onExecuteExpression)}},P.checkIsPropertyExists=function(g,u){return g.hasOwnProperty(u)||g[u]},P.properties={},P.parentClasses={},P}(),h=function(){function P(g,u,M,R){void 0===M&&(M=null),void 0===R&&(R=null),this.name=g,this.creator=M,this.parentName=R,this.properties=null,g=g.toLowerCase(),this.isCustomValue=!M&&"survey"!==g,this.parentName&&(this.parentName=this.parentName.toLowerCase(),m.addClass(g,this.parentName),M&&this.makeParentRegularClass()),this.properties=new Array;for(var w=0;w<u.length;w++)this.createProperty(u[w],this.isCustom)}return P.prototype.find=function(g){for(var u=0;u<this.properties.length;u++)if(this.properties[u].name==g)return this.properties[u];return null},Object.defineProperty(P.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),P.prototype.isOverridedProp=function(g){return!!this.parentName&&!!x.findProperty(this.parentName,g)},P.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var g=0;g<this.properties.length;g++)this.properties[g].isCustom=!1;m.removeAllProperties(this.name),this.makeParentRegularClass()}},P.prototype.makeParentRegularClass=function(){if(this.parentName){var g=x.findClass(this.parentName);g&&g.hasRegularChildClass()}},P.prototype.createProperty=function(g,u){void 0===u&&(u=!1);var M="string"==typeof g?g:g.name;if(M){var R=null,w=M.indexOf(P.typeSymbol);w>-1&&(R=M.substring(w+1),M=M.substring(0,w));var F=this.getIsPropertyNameRequired(M)||!!g.isRequired;M=this.getPropertyName(M);var B=new l(this,M,F);return R&&(B.type=R),"object"==typeof g&&(g.type&&(B.type=g.type),void 0!==g.default&&(B.defaultValue=g.default),T.Helpers.isValueEmpty(g.isSerializable)||(B.isSerializable=g.isSerializable),T.Helpers.isValueEmpty(g.isLightSerializable)||(B.isLightSerializable=g.isLightSerializable),T.Helpers.isValueEmpty(g.maxLength)||(B.maxLength=g.maxLength),T.Helpers.isValueEmpty(g.displayName)||(B.displayName=g.displayName),T.Helpers.isValueEmpty(g.category)||(B.category=g.category),T.Helpers.isValueEmpty(g.categoryIndex)||(B.categoryIndex=g.categoryIndex),T.Helpers.isValueEmpty(g.nextToProperty)||(B.nextToProperty=g.nextToProperty),T.Helpers.isValueEmpty(g.visibleIndex)||(B.visibleIndex=g.visibleIndex),T.Helpers.isValueEmpty(g.showMode)||(B.showMode=g.showMode),T.Helpers.isValueEmpty(g.maxValue)||(B.maxValue=g.maxValue),T.Helpers.isValueEmpty(g.minValue)||(B.minValue=g.minValue),T.Helpers.isValueEmpty(g.dataList)||(B.dataList=g.dataList),T.Helpers.isValueEmpty(g.isDynamicChoices)||(B.isDynamicChoices=g.isDynamicChoices),T.Helpers.isValueEmpty(g.isBindable)||(B.isBindable=g.isBindable),T.Helpers.isValueEmpty(g.isUnique)||(B.isUnique=g.isUnique),T.Helpers.isValueEmpty(g.uniqueProperty)||(B.uniquePropertyName=g.uniqueProperty),T.Helpers.isValueEmpty(g.isArray)||(B.isArray=g.isArray),(!0===g.visible||!1===g.visible)&&(B.visible=g.visible),g.visibleIf&&(B.visibleIf=g.visibleIf),g.onExecuteExpression&&(B.onExecuteExpression=g.onExecuteExpression),g.onPropertyEditorUpdate&&(B.onPropertyEditorUpdate=g.onPropertyEditorUpdate),!0===g.readOnly&&(B.readOnly=!0),g.choices&&B.setChoices("function"!=typeof g.choices?g.choices:null,"function"==typeof g.choices?g.choices:null),g.baseValue&&B.setBaseValue(g.baseValue),g.onGetValue&&(B.onGetValue=g.onGetValue),g.onSetValue&&(B.onSetValue=g.onSetValue),g.onSettingValue&&(B.onSettingValue=g.onSettingValue),g.isLocalizable&&(g.serializationProperty="loc"+B.name),g.serializationProperty&&(B.serializationProperty=g.serializationProperty,B.serializationProperty&&0==B.serializationProperty.indexOf("loc")&&(B.isLocalizable=!0)),g.isLocalizable&&(B.isLocalizable=g.isLocalizable),g.className&&(B.className=g.className),g.baseClassName&&(B.baseClassName=g.baseClassName),g.classNamePart&&(B.classNamePart=g.classNamePart),g.alternativeName&&(B.alternativeName=g.alternativeName),g.layout&&(B.layout=g.layout),g.dependsOn&&this.addDependsOnProperties(B,g.dependsOn)),this.properties.push(B),u&&!this.isOverridedProp(B.name)&&(B.isCustom=!0,m.addProperty(this.name,B)),B}},P.prototype.addDependsOnProperties=function(g,u){if(Array.isArray(u))for(var M=0;M<u.length;M++)this.addDependsOnProperty(g,u[M]);else this.addDependsOnProperty(g,u)},P.prototype.addDependsOnProperty=function(g,u){var M=this.find(u);M||(M=x.findProperty(this.parentName,u)),M&&M.addDependedProperty(g.name)},P.prototype.getIsPropertyNameRequired=function(g){return g.length>0&&g[0]==P.requiredSymbol},P.prototype.getPropertyName=function(g){return this.getIsPropertyNameRequired(g)&&(g=g.slice(1)),g},P.requiredSymbol="!",P.typeSymbol=":",P}(),d=function(){function P(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.classProperties={},this.classHashProperties={}}return P.prototype.getObjPropertyValue=function(g,u){if(this.isObjWrapper(g)){var M=g.getOriginalObj();if(R=x.findProperty(M.getType(),u))return this.getObjPropertyValueCore(M,R)}var R;return(R=x.findProperty(g.getType(),u))?this.getObjPropertyValueCore(g,R):g[u]},P.prototype.setObjPropertyValue=function(g,u,M){if(g[u]!==M)if(g[u]&&g[u].setJson)g[u].setJson(M);else{if(Array.isArray(M)){for(var R=[],w=0;w<M.length;w++)R.push(M[w]);M=R}g[u]=M}},P.prototype.getObjPropertyValueCore=function(g,u){if(!u.isSerializable)return g[u.name];if(u.isLocalizable){if(u.isArray)return g[u.name];if(u.serializationProperty)return g[u.serializationProperty].text}return g.getPropertyValue(u.name)},P.prototype.isObjWrapper=function(g){return!!g.getOriginalObj&&!!g.getOriginalObj()},P.prototype.addClass=function(g,u,M,R){void 0===M&&(M=null),void 0===R&&(R=null),g=g.toLowerCase();var w=new h(g,u,M,R);return this.classes[g]=w,R&&(R=R.toLowerCase(),this.childrenClasses[R]||(this.childrenClasses[R]=[]),this.childrenClasses[R].push(w)),w},P.prototype.removeClass=function(g){var u=this.findClass(g);if(u&&(delete this.classes[u.name],u.parentName)){var M=this.childrenClasses[u.parentName].indexOf(u);M>-1&&this.childrenClasses[u.parentName].splice(M,1)}},P.prototype.overrideClassCreatore=function(g,u){this.overrideClassCreator(g,u)},P.prototype.overrideClassCreator=function(g,u){g=g.toLowerCase();var M=this.findClass(g);M&&(M.creator=u)},P.prototype.getProperties=function(g){var u=this.findClass(g);return u?this.classProperties[u.name]||(this.fillPropertiesForClass(u.name),this.classProperties[u.name]):[]},P.prototype.getHashProperties=function(g){var u=this.findClass(g);return u?this.classHashProperties[u.name]||(this.fillPropertiesForClass(u.name),this.classHashProperties[u.name]):{}},P.prototype.fillPropertiesForClass=function(g){var u=new Array,M={};this.fillProperties(g,u,M),this.classProperties[g]=u,this.classHashProperties[g]=M},P.prototype.getPropertiesByObj=function(g){if(!g||!g.getType)return[];for(var u={},M=this.getProperties(g.getType()),R=0;R<M.length;R++)u[M[R].name]=M[R];var w=g.getDynamicType?this.getProperties(g.getDynamicType()):null;if(w&&w.length>0)for(R=0;R<w.length;R++){var F=w[R];u[F.name]||(u[F.name]=F)}return Object.keys(u).map(function(B){return u[B]})},P.prototype.getDynamicPropertiesByObj=function(g,u){if(void 0===u&&(u=null),!g||!g.getType||!g.getDynamicType&&!u)return[];var M=u||g.getDynamicType();if(!M)return[];var R=this.getProperties(M);if(!R||0==R.length)return[];for(var w={},F=this.getProperties(g.getType()),B=0;B<F.length;B++)w[F[B].name]=F[B];var H=[];for(B=0;B<R.length;B++){var $=R[B];w[$.name]||H.push($)}return H},P.prototype.hasOriginalProperty=function(g,u){return!!this.getOriginalProperty(g,u)},P.prototype.getOriginalProperty=function(g,u){return this.findProperty(g.getType(),u)||(this.isObjWrapper(g)?this.findProperty(g.getOriginalObj().getType(),u):null)},P.prototype.getProperty=function(g,u){var M=this.findProperty(g,u);if(!M)return M;var R=this.findClass(g);if(M.classInfo===R)return M;var w=new l(R,M.name,M.isRequired);return w.mergeWith(M),w.isArray=M.isArray,R.properties.push(w),this.emptyClassPropertiesHash(R),w},P.prototype.findProperty=function(g,u){return this.getHashProperties(g)[u]||null},P.prototype.findProperties=function(g,u){for(var M=[],R=this.getHashProperties(g),w=0;w<u.length;w++){var F=R[u[w]];F&&M.push(F)}return M},P.prototype.getAllPropertiesByName=function(g){for(var u=new Array,M=this.getAllClasses(),R=0;R<M.length;R++)for(var w=this.findClass(M[R]),F=0;F<w.properties.length;F++)if(w.properties[F].name==g){u.push(w.properties[F]);break}return u},P.prototype.getAllClasses=function(){var g=new Array;for(var u in this.classes)g.push(u);return g},P.prototype.createClass=function(g,u){void 0===u&&(u=void 0),g=g.toLowerCase();var M=this.findClass(g);if(!M)return null;if(M.creator)return M.creator(u);for(var R=M.parentName;R;){if(!(M=this.findClass(R)))return null;if(R=M.parentName,M.creator)return this.createCustomType(g,M.creator,u)}return null},P.prototype.createCustomType=function(g,u,M){void 0===M&&(M=void 0),g=g.toLowerCase();var R=u(M),w=g,F=R.getTemplate?R.getTemplate():R.getType();return R.getType=function(){return w},R.getTemplate=function(){return F},m.createProperties(R),R},P.prototype.getChildrenClasses=function(g,u){void 0===u&&(u=!1),g=g.toLowerCase();var M=[];return this.fillChildrenClasses(g,u,M),M},P.prototype.getRequiredProperties=function(g){for(var u=this.getProperties(g),M=[],R=0;R<u.length;R++)u[R].isRequired&&M.push(u[R].name);return M},P.prototype.addProperties=function(g,u){g=g.toLowerCase();for(var M=this.findClass(g),R=0;R<u.length;R++)this.addCustomPropertyCore(M,u[R])},P.prototype.addProperty=function(g,u){return this.addCustomPropertyCore(this.findClass(g),u)},P.prototype.addCustomPropertyCore=function(g,u){if(!g)return null;var M=g.createProperty(u,!0);return M&&this.emptyClassPropertiesHash(g),M},P.prototype.removeProperty=function(g,u){var M=this.findClass(g);if(!M)return!1;var R=M.find(u);R&&(this.removePropertyFromClass(M,R),this.emptyClassPropertiesHash(M),m.removeProperty(M.name,u))},P.prototype.removePropertyFromClass=function(g,u){var M=g.properties.indexOf(u);M<0||g.properties.splice(M,1)},P.prototype.emptyClassPropertiesHash=function(g){this.classProperties[g.name]=null,this.classHashProperties[g.name]=null;for(var u=this.getChildrenClasses(g.name),M=0;M<u.length;M++)this.classProperties[u[M].name]=null,this.classHashProperties[u[M].name]=null},P.prototype.fillChildrenClasses=function(g,u,M){var R=this.childrenClasses[g];if(R)for(var w=0;w<R.length;w++)(!u||R[w].creator)&&M.push(R[w]),this.fillChildrenClasses(R[w].name,u,M)},P.prototype.findClass=function(g){g=g.toLowerCase();var u=this.classes[g];if(!u){var M=this.alternativeNames[g];if(M&&M!=g)return this.findClass(M)}return u},P.prototype.isDescendantOf=function(g,u){if(!g||!u)return!1;g=g.toLowerCase(),u=u.toLowerCase();var M=this.findClass(g);if(!M)return!1;var R=M;do{if(R.name===u)return!0;R=this.classes[R.parentName]}while(R);return!1},P.prototype.addAlterNativeClassName=function(g,u){this.alternativeNames[u.toLowerCase()]=g.toLowerCase()},P.prototype.generateSchema=function(g){void 0===g&&(g=void 0),g||(g="survey");var u=this.findClass(g);if(!u)return null;var M={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{}};return this.generateSchemaProperties(u,M.properties,M.definitions),M},P.prototype.generateSchemaProperties=function(g,u,M){if(g)for(var R=0;R<g.properties.length;R++){var w=g.properties[R];u[w.name]=this.generateSchemaProperty(w,M)}},P.prototype.generateSchemaProperty=function(g,u){var M={type:g.schemaType()};if(g.hasChoices&&(M.enum=g.getChoices(null)),g.className&&(M.items={$ref:"#"+g.className},this.generateChemaClass(g.className,u)),g.baseClassName){var R=this.getChildrenClasses(g.baseClassName,!0);"question"==g.baseClassName&&R.push(this.findClass("panel")),M.items=[];for(var w=0;w<R.length;w++){var F=R[w].name;M.items.push({$ref:"#"+F}),this.generateChemaClass(F,u)}}return M},P.prototype.generateChemaClass=function(g,u){if(!u[g]){var M=this.findClass(g);if(M){var R=!!M.parentName&&"base"!=M.parentName;R&&this.generateChemaClass(M.parentName,u);var w={type:"object",$id:"#"+g};u[g]=w;var F={};this.generateSchemaProperties(M,F,u),R?w.allOff=[{$ref:"#"+M.parentName},{properties:F}]:w.properties=F}}},P.prototype.fillProperties=function(g,u,M){var R=this.findClass(g);if(R){R.parentName&&this.fillProperties(R.parentName,u,M);for(var w=0;w<R.properties.length;w++){var F=R.properties[w];this.addPropertyCore(F,u,M),M[F.name]=F,F.alternativeName&&(M[F.alternativeName]=F)}}},P.prototype.addPropertyCore=function(g,u,M){if(M[g.name]){for(var R=-1,w=0;w<u.length;w++)if(u[w].name==g.name||u[w].alternativeName==g.name){R=w;break}g.mergeWith(u[R]),u[R]=g}else u.push(g)},P}(),c=function(){function P(g,u){this.type=g,this.message=u,this.description="",this.at=-1}return P.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},P}(),a=function(P){function g(u,M){var R=P.call(this,"unknownproperty","The property '"+u+"' in class '"+M+"' is unknown.")||this;R.propertyName=u,R.className=M;var w=I.metaData.getProperties(M);if(w){R.description="The list of available properties are: ";for(var F=0;F<w.length;F++)F>0&&(R.description+=", "),R.description+=w[F].name;R.description+="."}return R}return v(g,P),g}(c),s=function(P){function g(u,M,R){var w=P.call(this,M,R)||this;w.baseClassName=u,w.type=M,w.message=R,w.description="The following types are available: ";for(var F=I.metaData.getChildrenClasses(u,!0),B=0;B<F.length;B++)B>0&&(w.description+=", "),w.description+="'"+F[B].name+"'";return w.description+=".",w}return v(g,P),g}(c),r=function(P){function g(u,M){var R=P.call(this,M,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+u+"'.")||this;return R.propertyName=u,R.baseClassName=M,R}return v(g,P),g}(s),o=function(P){function g(u,M){var R=P.call(this,M,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+u+"'.")||this;return R.propertyName=u,R.baseClassName=M,R}return v(g,P),g}(s),S=function(P){function g(u,M){var R=P.call(this,"requiredproperty","The property '"+u+"' is required in class '"+M+"'.")||this;return R.propertyName=u,R.className=M,R}return v(g,P),g}(c),I=function(){function P(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(P,"metaData",{get:function(){return P.metaDataValue},enumerable:!1,configurable:!0}),P.prototype.toJsonObject=function(g,u){return void 0===u&&(u=!1),this.toJsonObjectCore(g,null,u)},P.prototype.toObject=function(g,u){this.toObjectCore(g,u);var M=this.getRequiredError(u,g);M&&this.addNewError(M,g)},P.prototype.toObjectCore=function(g,u){if(g){var M=null,R=void 0,w=!0;if(u.getType&&(R=u.getType(),M=P.metaData.getProperties(R),w=!!R&&!P.metaData.isDescendantOf(R,"itemvalue")),M){for(var F in u.startLoadingFromJson&&u.startLoadingFromJson(g),M=this.addDynamicProperties(u,g,M),g)if(F!==P.typePropertyName){if(F===P.positionPropertyName){u[F]=g[F];continue}var B=this.findProperty(M,F);if(!B){w&&this.addNewError(new a(F.toString(),R),g);continue}this.valueToObj(g[F],u,B)}u.endLoadingFromJson&&u.endLoadingFromJson()}}},P.prototype.toJsonObjectCore=function(g,u,M){if(void 0===M&&(M=!1),!g||!g.getType)return g;if("function"==typeof g.getData)return g.getData();var R={};return null!=u&&!u.className&&(R[P.typePropertyName]=u.getObjType(g.getType())),this.propertiesToJson(g,P.metaData.getProperties(g.getType()),R,M),this.propertiesToJson(g,this.getDynamicProperties(g),R,M),R},P.prototype.getDynamicProperties=function(g){return x.getDynamicPropertiesByObj(g)},P.prototype.addDynamicProperties=function(g,u,M){if(!g.getDynamicPropertyName)return M;var R=g.getDynamicPropertyName();if(!R)return M;u[R]&&(g[R]=u[R]);for(var w=this.getDynamicProperties(g),F=[],B=0;B<M.length;B++)F.push(M[B]);for(B=0;B<w.length;B++)F.push(w[B]);return F},P.prototype.propertiesToJson=function(g,u,M,R){void 0===R&&(R=!1);for(var w=0;w<u.length;w++)this.valueToJson(g,M,u[w],R)},P.prototype.valueToJson=function(g,u,M,R){if(void 0===R&&(R=!1),!(!1===M.isSerializable||!1===M.isLightSerializable&&this.lightSerializing)){var w=M.getValue(g);if(R||!M.isDefaultValue(w)){if(this.isValueArray(w)){for(var F=[],B=0;B<w.length;B++)F.push(this.toJsonObjectCore(w[B],M,R));w=F.length>0?F:null}else w=this.toJsonObjectCore(w,M,R);var H="function"==typeof g.getPropertyValue&&null!==g.getPropertyValue(M.name,null);(R&&H||!M.isDefaultValue(w))&&(!x.onSerializingProperty||!x.onSerializingProperty(g,M,w,u))&&(u[M.name]=w)}}},P.prototype.valueToObj=function(g,u,M){if(null!=g){if(this.removePos(M,g),null!=M&&M.hasToUseSetValue)return void M.setValue(u,g,this);if(this.isValueArray(g))return void this.valueToArray(g,u,M.name,M);var R=this.createNewObj(g,M);R.newObj&&(this.toObjectCore(g,R.newObj),g=R.newObj),R.error||(null!=M?M.setValue(u,g,this):u[M.name]=g)}},P.prototype.removePos=function(g,u){!g||!g.type||g.type.indexOf("value")<0||this.removePosFromObj(u)},P.prototype.removePosFromObj=function(g){if(g){if(Array.isArray(g))for(var u=0;u<g.length;u++)this.removePosFromObj(g[u]);g[P.positionPropertyName]&&delete g[P.positionPropertyName]}},P.prototype.isValueArray=function(g){return g&&Array.isArray(g)},P.prototype.createNewObj=function(g,u){var M={newObj:null,error:null},R=g[P.typePropertyName];return!R&&null!=u&&u.className&&(R=u.className),R=u.getClassName(R),M.newObj=R?P.metaData.createClass(R,g):null,M.error=this.checkNewObjectOnErrors(M.newObj,g,u,R),M},P.prototype.checkNewObjectOnErrors=function(g,u,M,R){var w=null;return g?w=this.getRequiredError(g,u):M.baseClassName&&(w=R?new o(M.name,M.baseClassName):new r(M.name,M.baseClassName)),w&&this.addNewError(w,u),w},P.prototype.getRequiredError=function(g,u){if(!g.getType||"function"==typeof g.getData)return null;var M=g.getType(),R=P.metaData.getRequiredProperties(M);if(!Array.isArray(R))return null;for(var w=0;w<R.length;w++){var F=x.findProperty(M,R[w]);if(F&&T.Helpers.isValueEmpty(F.defaultValue)&&!u[F.name])return new S(F.name,M)}return null},P.prototype.addNewError=function(g,u){u&&u[P.positionPropertyName]&&(g.at=u[P.positionPropertyName].start),this.errors.push(g)},P.prototype.valueToArray=function(g,u,M,R){if(!u[M]||this.isValueArray(u[M])){u[M]&&g.length>0&&u[M].splice(0,u[M].length);var w=u[M]?u[M]:[];this.addValuesIntoArray(g,w,R),u[M]||(u[M]=w)}},P.prototype.addValuesIntoArray=function(g,u,M){for(var R=0;R<g.length;R++){var w=this.createNewObj(g[R],M);w.newObj?(g[R].name&&(w.newObj.name=g[R].name),u.push(w.newObj),this.toObjectCore(g[R],w.newObj)):w.error||u.push(g[R])}},P.prototype.findProperty=function(g,u){if(!g)return null;for(var M=0;M<g.length;M++){var R=g[M];if(R.name==u||R.alternativeName==u)return R}return null},P.typePropertyName="type",P.positionPropertyName="pos",P.metaDataValue=new d,P}(),x=I.metaData},"./src/list.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"defaultListCss",function(){return i}),e.d(t,"ListModel",function(){return f});var _,n=e("./src/jsonobject.ts"),y=e("./src/actions/container.ts"),T=e("./src/actions/action.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=e("./src/element-helper.ts"),C=(_=function(l,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(h[c]=d[c])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function h(){this.constructor=l}_(l,m),l.prototype=null===m?Object.create(m):(h.prototype=m.prototype,new h)}),E=function(_,l,m,h){var a,d=arguments.length,c=d<3?l:null===h?h=Object.getOwnPropertyDescriptor(l,m):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(_,l,m,h);else for(var s=_.length-1;s>=0;s--)(a=_[s])&&(c=(d<3?a(c):d>3?a(l,m,c):a(l,m))||c);return d>3&&c&&Object.defineProperty(l,m,c),c},i={root:"sv-list__container",item:"sv-list__item",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemIcon:"sv-list__item-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},f=function(_){function l(m,h,d,c,a){var s=_.call(this)||this;return s.onSelectionChanged=h,s.allowSelection=d,s.onFilterStringChangedCallback=a,s.onItemClick=function(r){s.isItemDisabled(r)||(s.isExpanded=!1,s.allowSelection&&(s.selectedItem=r),s.onSelectionChanged&&s.onSelectionChanged(r))},s.isItemDisabled=function(r){return void 0!==r.enabled&&!r.enabled},s.isItemSelected=function(r){return!!s.allowSelection&&!!s.selectedItem&&s.selectedItem.id==r.id},s.isItemFocused=function(r){return!!s.focusedItem&&s.focusedItem.id==r.id},s.getItemClass=function(r){return(new v.CssClassBuilder).append(s.cssClasses.item).append(s.cssClasses.itemWithIcon,!!r.iconName).append(s.cssClasses.itemDisabled,s.isItemDisabled(r)).append(s.cssClasses.itemFocused,s.isItemFocused(r)).append(s.cssClasses.itemSelected,r.active||s.isItemSelected(r)).append(r.css).toString()},s.getItemIndent=function(r){return((r.level||0)+1)*l.INDENT+"px"},s.setItems(m),s.selectedItem=c,s}return C(l,_),l.prototype.hasText=function(m,h){return!h||(m.title||"").toLocaleLowerCase().indexOf(h.toLocaleLowerCase())>-1},l.prototype.isItemVisible=function(m){return m.visible&&(!this.shouldProcessFilter||this.hasText(m,this.filterString))},Object.defineProperty(l.prototype,"visibleItems",{get:function(){var m=this;return this.visibleActions.filter(function(h){return m.isItemVisible(h)})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),l.prototype.onFilterStringChanged=function(m){var h=this;this.isEmpty=0===this.renderedActions.filter(function(d){return h.isItemVisible(d)}).length,this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(m)},l.prototype.setItems=function(m,h){void 0===h&&(h=!0),_.prototype.setItems.call(this,m,h),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},l.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.actions||[]).length>l.MINELEMENTCOUNT,_.prototype.onSet.call(this)},l.prototype.getDefaultCssClasses=function(){return i},l.prototype.updateItemActiveState=function(){var m=this;this.actions.forEach(function(h){return h.active=m.isItemSelected(h)})},Object.defineProperty(l.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"emptyMessage",{get:function(){return this.getLocalizationString("emptyMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new T.Action({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),l.prototype.goToItems=function(m){"ArrowDown"!==m.key&&40!==m.keyCode||(O.ElementHelper.focusElement(O.ElementHelper.getNextElementPreorder(m.target.parentElement.nextElementSibling.firstElementChild)),m.preventDefault())},l.prototype.onMouseMove=function(m){this.resetFocusedItem()},l.prototype.onKeyDown=function(m){var h=m.target;"ArrowDown"===m.key||40===m.keyCode?(O.ElementHelper.focusElement(O.ElementHelper.getNextElementPreorder(h)),m.preventDefault()):("ArrowUp"===m.key||38===m.keyCode)&&(O.ElementHelper.focusElement(O.ElementHelper.getNextElementPostorder(h)),m.preventDefault())},l.prototype.onPointerDown=function(m,h){},l.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},l.prototype.resetFocusedItem=function(){this.focusedItem=void 0},l.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},l.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},l.prototype.initFocusedItem=function(){var m=this;this.selectedItem?this.focusedItem=this.visibleItems.filter(function(h){return h.id===m.selectedItem.id})[0]:this.focusFirstVisibleItem()},l.prototype.focusNextVisibleItem=function(){if(this.focusedItem){var m=this.visibleItems,h=m.indexOf(this.focusedItem),d=m[h+1];d?this.focusedItem=d:this.focusFirstVisibleItem()}else this.initFocusedItem()},l.prototype.focusPrevVisibleItem=function(){if(this.focusedItem){var m=this.visibleItems,h=m.indexOf(this.focusedItem),d=m[h-1];d?this.focusedItem=d:this.focusLastVisibleItem()}else this.initFocusedItem()},l.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},l.prototype.initListContainerHtmlElement=function(m){this.listContainerHtmlElement=m},l.prototype.onLastItemRended=function(m){this.isAllDataLoaded||m===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=O.ElementHelper.hasVerticalScroller(this.scrollableContainer))},l.prototype.scrollToFocusedItem=function(){var m=this;setTimeout(function(){if(m.listContainerHtmlElement){var h=m.listContainerHtmlElement.querySelector("."+m.getDefaultCssClasses().itemFocused);h&&h.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}},0)},l.prototype.addScrollEventListener=function(m){m&&(this.scrollHandler=m),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},l.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},l.INDENT=16,l.MINELEMENTCOUNT=10,E([Object(n.property)({defaultValue:!0,onSet:function(m,h){h.onSet()}})],l.prototype,"searchEnabled",void 0),E([Object(n.property)({defaultValue:!1})],l.prototype,"showFilter",void 0),E([Object(n.property)({defaultValue:!1})],l.prototype,"isExpanded",void 0),E([Object(n.property)({onSet:function(m,h){h.updateItemActiveState()}})],l.prototype,"selectedItem",void 0),E([Object(n.property)()],l.prototype,"focusedItem",void 0),E([Object(n.property)({onSet:function(m,h){h.onFilterStringChanged(h.filterString)}})],l.prototype,"filterString",void 0),E([Object(n.property)({defaultValue:!1})],l.prototype,"hasVerticalScroller",void 0),E([Object(n.property)({defaultValue:!0})],l.prototype,"isAllDataLoaded",void 0),l}(y.ActionContainer)},"./src/localizablestring.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"LocalizableString",function(){return O}),e.d(t,"LocalizableStrings",function(){return C});var n=e("./src/helpers.ts"),y=e("./src/surveyStrings.ts"),T=e("./src/settings.ts"),v=e("./src/base.ts"),O=function(){function E(i,f,_){void 0===f&&(f=!1),this.owner=i,this.useMarkdown=f,this.name=_,this.values={},this.htmlValues={},this.onStringChanged=new v.EventBase,this.onCreating()}return Object.defineProperty(E,"defaultLocale",{get:function(){return T.settings.defaultLocaleName},set:function(i){T.settings.defaultLocaleName=i},enumerable:!1,configurable:!0}),E.prototype.getIsMultiple=function(){return!1},Object.defineProperty(E.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var i=this.owner.getLocale();if(i||!this.sharedData)return i}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),E.prototype.strChanged=function(){this.searchableText=void 0,void 0!==this.renderedText&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(E.prototype,"text",{get:function(){return this.pureText},set:function(i){this.setLocaleText(this.locale,i)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"calculatedText",{get:function(){return this.renderedText=void 0!==this.calculatedTextValue?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),E.prototype.calcText=function(){var i=this.pureText;return i&&this.owner&&this.owner.getProcessedText&&i.indexOf("{")>-1&&(i=this.owner.getProcessedText(i)),this.onGetTextCallback&&(i=this.onGetTextCallback(i)),i},Object.defineProperty(E.prototype,"pureText",{get:function(){var i=this.locale;i||(i=this.defaultLoc);var f=this.getValue(i);if(!f&&i===this.defaultLoc&&(f=this.getValue(y.surveyLocalization.defaultLocale)),!f){var _=this.getRootDialect(i);_&&(f=this.getValue(_))}return!f&&i!==this.defaultLoc&&(f=this.getValue(this.defaultLoc)),!f&&!!this.getLocalizationName()&&(f=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(f=this.onGetLocalizationTextCallback(f))),f||(f=""),f},enumerable:!1,configurable:!0}),E.prototype.getRootDialect=function(i){if(!i)return i;var f=i.indexOf("-");return f>-1?i.substring(0,f):""},E.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},E.prototype.getLocalizationStr=function(){var i=this.getLocalizationName();return i?y.surveyLocalization.getString(i,this.locale):""},Object.defineProperty(E.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),E.prototype.getLocaleText=function(i){return i||(i=this.defaultLoc),this.getValue(i)||""},E.prototype.getLocaleTextWithDefault=function(i){var f=this.getLocaleText(i);return!f&&this.onGetDefaultTextCallback?this.onGetDefaultTextCallback():f},E.prototype.setLocaleText=function(i,f){if(this.storeDefaultText||f!=this.getLocaleTextWithDefault(i)){if(T.settings.storeDuplicatedTranslations||!f||!i||i==this.defaultLoc||this.getValue(i)||f!=this.getLocaleText(this.defaultLoc)){var m=this.locale;i||(i=this.defaultLoc),m||(m=this.defaultLoc);var h=this.onStrChanged&&i===m?this.pureText:void 0;delete this.htmlValues[i],f?"string"==typeof f&&(this.canRemoveLocValue(i,f)?this.setLocaleText(i,null):(this.setValue(i,f),i==this.defaultLoc&&this.deleteValuesEqualsToDefault(f))):this.getValue(i)&&this.deleteValue(i),this.fireStrChanged(h,f)}}else{if(f||i&&i!==this.defaultLoc)return;var _=y.surveyLocalization.defaultLocale,l=this.getValue(_);_&&l&&(this.setValue(_,f),this.fireStrChanged(l,f))}},E.prototype.canRemoveLocValue=function(i,f){if(T.settings.storeDuplicatedTranslations||i===this.defaultLoc)return!1;var _=this.getRootDialect(i);if(_){var l=this.getLocaleText(_);return l?l==f:this.canRemoveLocValue(_,f)}return f==this.getLocaleText(this.defaultLoc)},E.prototype.fireStrChanged=function(i,f){this.strChanged(),this.onStrChanged&&i!==f&&this.onStrChanged(i,f)},E.prototype.hasNonDefaultText=function(){var i=this.getValuesKeys();return 0!=i.length&&(i.length>1||i[0]!=this.defaultLoc)},E.prototype.getLocales=function(){var i=this.getValuesKeys();return 0==i.length?[]:i},E.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var i=this.getValuesKeys();return 0==i.length?null:1!=i.length||i[0]!=T.settings.defaultLocaleName||T.settings.serializeLocalizableStringAsObject?this.values:this.values[i[0]]},E.prototype.setJson=function(i){if(this.sharedData)this.sharedData.setJson(i);else if(this.values={},this.htmlValues={},i){if("string"==typeof i)this.setLocaleText(null,i);else for(var f in i)this.setLocaleText(f,i[f]);this.strChanged()}},Object.defineProperty(E.prototype,"renderAs",{get:function(){return this.owner&&"function"==typeof this.owner.getRenderer&&this.owner.getRenderer(this.name)||E.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"renderAsData",{get:function(){return this.owner&&"function"==typeof this.owner.getRendererContext&&this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),E.prototype.equals=function(i){return this.sharedData?this.sharedData.equals(i):!(!i||!i.values)&&n.Helpers.isTwoValueEquals(this.values,i.values,!1,!0,!1)},E.prototype.setFindText=function(i){if(this.searchText!=i){if(this.searchText=i,!this.searchableText){var f=this.textOrHtml;this.searchableText=f?f.toLowerCase():""}var _=this.searchableText,l=_&&i?_.indexOf(i):void 0;return l<0&&(l=void 0),(null!=l||this.searchIndex!=l)&&(this.searchIndex=l,this.onSearchChanged&&this.onSearchChanged()),null!=this.searchIndex}},E.prototype.onChanged=function(){},E.prototype.onCreating=function(){},E.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var i=this.locale;if(i||(i=this.defaultLoc),void 0!==this.htmlValues[i])return!!this.htmlValues[i];var f=this.calculatedText;if(!f||this.getLocalizationName()&&f===this.getLocalizationStr())return!1;var _=this.owner.getMarkdownHtml(f,this.name);return this.htmlValues[i]=_,!!_},E.prototype.getHtmlValue=function(){var i=this.locale;return i||(i=this.defaultLoc),this.htmlValues[i]},E.prototype.deleteValuesEqualsToDefault=function(i){for(var f=this.getValuesKeys(),_=0;_<f.length;_++)f[_]!=this.defaultLoc&&this.getValue(f[_])==i&&this.deleteValue(f[_])},E.prototype.getValue=function(i){return this.sharedData?this.sharedData.getValue(i):this.values[i]},E.prototype.setValue=function(i,f){this.sharedData?this.sharedData.setValue(i,f):this.values[i]=f},E.prototype.deleteValue=function(i){this.sharedData?this.sharedData.deleteValue(i):delete this.values[i]},E.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(E.prototype,"defaultLoc",{get:function(){return T.settings.defaultLocaleName},enumerable:!1,configurable:!0}),E.SerializeAsObject=!1,E.defaultRenderer="sv-string-viewer",E.editableRenderer="sv-string-editor",E}(),C=function(){function E(i){this.owner=i,this.values={}}return E.prototype.getIsMultiple=function(){return!0},Object.defineProperty(E.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"value",{get:function(){return this.getValue("")},set:function(i){this.setValue("",i)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join("\n"):""},set:function(i){this.value=i?i.split("\n"):[]},enumerable:!1,configurable:!0}),E.prototype.getLocaleText=function(i){var f=this.getValueCore(i,!i||i===this.locale);return f&&Array.isArray(f)&&0!=f.length?f.join("\n"):""},E.prototype.setLocaleText=function(i,f){var _=f?f.split("\n"):null;this.setValue(i,_)},E.prototype.getValue=function(i){return this.getValueCore(i)},E.prototype.getValueCore=function(i,f){if(void 0===f&&(f=!0),i=this.getLocale(i),this.values[i])return this.values[i];if(f){var _=T.settings.defaultLocaleName;if(i!==_&&this.values[_])return this.values[_]}return[]},E.prototype.setValue=function(i,f){i=this.getLocale(i);var _=n.Helpers.createCopy(this.values);f&&0!=f.length?this.values[i]=f:delete this.values[i],this.onValueChanged&&this.onValueChanged(_,this.values)},E.prototype.hasValue=function(i){return void 0===i&&(i=""),!this.isEmpty&&this.getValue(i).length>0},Object.defineProperty(E.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),E.prototype.getLocale=function(i){return i||(i=this.locale)||T.settings.defaultLocaleName},E.prototype.getLocales=function(){var i=this.getValuesKeys();return 0==i.length?[]:i},E.prototype.getJson=function(){var i=this.getValuesKeys();return 0==i.length?null:1!=i.length||i[0]!=T.settings.defaultLocaleName||T.settings.serializeLocalizableStringAsObject?n.Helpers.createCopy(this.values):this.values[i[0]]},E.prototype.setJson=function(i){if(this.values={},i)if(Array.isArray(i))this.setValue(null,i);else for(var f in i)this.setValue(f,i[f])},E.prototype.getValuesKeys=function(){return Object.keys(this.values)},E}()},"./src/localization/english.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"englishStrings",function(){return n});var n={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain visible pages or questions.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Tap to rate here...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} variant(s).",maxSelectError:"Please select no more than {0} variant(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",fileDragAreaPlaceholder:"Drop a file here or click the button below to load the file.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Choose file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:"There are no entries yet.\nClick the button below to add a new entry.",more:"More"}},"./src/martixBase.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionMatrixBaseModel",function(){return f});var _,n=e("./src/itemvalue.ts"),y=e("./src/question.ts"),T=e("./src/jsonobject.ts"),v=e("./src/conditions.ts"),O=e("./src/helpers.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=(_=function(l,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(h[c]=d[c])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function h(){this.constructor=l}_(l,m),l.prototype=null===m?Object.create(m):(h.prototype=m.prototype,new h)}),i=function(_,l,m,h){var a,d=arguments.length,c=d<3?l:null===h?h=Object.getOwnPropertyDescriptor(l,m):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(_,l,m,h);else for(var s=_.length-1;s>=0;s--)(a=_[s])&&(c=(d<3?a(c):d>3?a(l,m,c):a(l,m))||c);return d>3&&c&&Object.defineProperty(l,m,c),c},f=function(_){function l(m){var h=_.call(this,m)||this;return h.generatedVisibleRows=null,h.generatedTotalRow=null,h.filteredRows=null,h.filteredColumns=null,h.columns=h.createColumnValues(),h.rows=h.createItemValues("rows"),h}return E(l,_),l.prototype.createColumnValues=function(){return this.createItemValues("columns")},l.prototype.getType=function(){return"matrixbase"},l.prototype.endLoadingFromJson=function(){_.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(l.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(m){this.setPropertyValue("showHeader",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(m){this.setPropertyValue("columns",m)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(m){var h=this.processRowsOnSet(m);this.setPropertyValue("rows",h),this.filterItems()},enumerable:!1,configurable:!0}),l.prototype.processRowsOnSet=function(m){return m},l.prototype.getVisibleRows=function(){return[]},Object.defineProperty(l.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(m){this.setPropertyValue("rowsVisibleIf",m),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(m){this.setPropertyValue("columnsVisibleIf",m),this.filterItems()},enumerable:!1,configurable:!0}),l.prototype.runCondition=function(m,h){_.prototype.runCondition.call(this,m,h),this.runItemsCondition(m,h)},l.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):!(this.isLoadingFromJson||!this.data)&&this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},l.prototype.onColumnsChanged=function(){},l.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},l.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},l.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},l.prototype.hasRowsAsItems=function(){return!0},l.prototype.runItemsCondition=function(m,h){var d=null;if(this.filteredRows&&!O.Helpers.isValueEmpty(this.defaultValue)){d=[];for(var c=0;c<this.filteredRows.length;c++)d.push(this.filteredRows[c])}var a=this.hasRowsAsItems()&&this.runConditionsForRows(m,h),s=this.runConditionsForColumns(m,h);return(a=s||a)&&(this.isClearValueOnHidden&&(!!this.filteredColumns||!!this.filteredRows)&&this.clearIncorrectValues(),d&&this.restoreNewVisibleRowsValues(d),this.clearGeneratedRows(),s&&this.onColumnsChanged(),this.onRowsChanged()),a},l.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},l.prototype.runConditionsForRows=function(m,h){var d=!!this.survey&&this.survey.areInvisibleElementsShowing,c=!d&&this.rowsVisibleIf?new v.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var a=n.ItemValue.runConditionsForItems(this.rows,this.filteredRows,c,m,h,!d);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),a},l.prototype.runConditionsForColumns=function(m,h){var c=this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new v.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var a=n.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,c,m,h,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),a},l.prototype.clearIncorrectValues=function(){var m=this.value;if(m){var h=null,d=!1,c=this.filteredRows?this.filteredRows:this.rows,a=this.filteredColumns?this.filteredColumns:this.columns;for(var s in m)n.ItemValue.getItemByValue(c,s)&&n.ItemValue.getItemByValue(a,m[s])?(null==h&&(h={}),h[s]=m[s]):d=!0;d&&(this.value=h),_.prototype.clearIncorrectValues.call(this)}},l.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var m=this.getUnbindValue(this.value),h=this.rows,d=0;d<h.length;d++){var c=h[d].value;m[c]&&!h[d].isVisible&&delete m[c]}this.isTwoValueEquals(m,this.value)||(this.value=m)}},l.prototype.restoreNewVisibleRowsValues=function(m){var h=this.filteredRows?this.filteredRows:this.rows,d=this.defaultValue,c=this.getUnbindValue(this.value),a=!1;for(var s in d)n.ItemValue.getItemByValue(h,s)&&!n.ItemValue.getItemByValue(m,s)&&(null==c&&(c={}),c[s]=d[s],a=!0);a&&(this.value=c)},l.prototype.needResponsiveWidth=function(){return!0},l.prototype.getTableCss=function(){return(new C.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,"top"===this.verticalAlign).append(this.cssClasses.rootVerticalAlignMiddle,"middle"===this.verticalAlign).toString()},i([Object(T.property)({defaultValue:"middle"})],l.prototype,"verticalAlign",void 0),i([Object(T.property)({defaultValue:!1})],l.prototype,"alternateRows",void 0),l}(y.Question);T.Serializer.addClass("matrixbase",["columnsVisibleIf:condition","rowsVisibleIf:condition",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1}],void 0,"question")},"./src/multiSelectListModel.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"MultiSelectListModel",function(){return O});var C,n=e("./src/jsonobject.ts"),y=e("./src/list.ts"),T=(C=function(E,i){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(f[l]=_[l])})(E,i)},function(E,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function f(){this.constructor=E}C(E,i),E.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)}),O=function(C){function E(i,f,_,l,m){var h=C.call(this,i,f,_,void 0,m)||this;return h.onItemClick=function(d){if(h.isExpanded=!1,h.isItemSelected(d)){var c=h.selectedItems.splice(h.selectedItems.indexOf(d),1)[0];h.onSelectionChanged&&h.onSelectionChanged(c,"removed")}else h.selectedItems.push(d),h.onSelectionChanged&&h.onSelectionChanged(d,"added")},h.isItemDisabled=function(d){return void 0!==d.enabled&&!d.enabled},h.isItemSelected=function(d){return!!h.allowSelection&&h.selectedItems.filter(function(c){return c.id==d.id}).length>0},h.setSelectedItems(l||[]),h}return T(E,C),E.prototype.updateItemState=function(){var i=this;this.actions.forEach(function(f){var _=i.isItemSelected(f);f.active=_,f.visible=!i.hideSelectedItems||!_})},E.prototype.setSelectedItems=function(i){var f=this;this.selectedItems=i,this.updateItemState(),this.isEmpty=0===this.renderedActions.filter(function(_){return f.isItemVisible(_)}).length},E.prototype.initFocusedItem=function(){var i=this;this.hideSelectedItems||!this.selectedItems.length?this.focusFirstVisibleItem():this.selectedItems.length&&(this.focusedItem=this.visibleItems.filter(function(f){return f.id===i.selectedItems[0].id})[0])},E.prototype.selectFocusedItem=function(){C.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},function(C,E,i,f){var m,_=arguments.length,l=_<3?E:null===f?f=Object.getOwnPropertyDescriptor(E,i):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(C,E,i,f);else for(var h=C.length-1;h>=0;h--)(m=C[h])&&(l=(_<3?m(l):_>3?m(E,i,l):m(E,i))||l);_>3&&l&&Object.defineProperty(E,i,l)}([Object(n.property)()],E.prototype,"hideSelectedItems",void 0),E}(y.ListModel)},"./src/page.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"PageModel",function(){return E});var i,n=e("./src/jsonobject.ts"),y=e("./src/panel.ts"),T=e("./src/utils/cssClassBuilder.ts"),v=e("./src/settings.ts"),O=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),E=function(i){function f(_){void 0===_&&(_="");var l=i.call(this,_)||this;return l.hasShownValue=!1,l.timeSpent=0,l.locTitle.onGetTextCallback=function(m){return l.canShowPageNumber()&&m?l.num+". "+m:m},l.createLocalizableString("navigationTitle",l,!0),l.createLocalizableString("navigationDescription",l,!0),l}return O(f,i),f.prototype.getType=function(){return"page"},f.prototype.toString=function(){return this.name},Object.defineProperty(f.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),f.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},f.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(f.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(_){this.setLocalizableStringText("navigationTitle",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(_){this.setLocalizableStringText("navigationDescription",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),f.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(f.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(_){this.setPropertyValue("passed",_)},enumerable:!1,configurable:!0}),f.prototype.delete=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},f.prototype.onFirstRendering=function(){this.wasShown||i.prototype.onFirstRendering.call(this)},Object.defineProperty(f.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(_){this.setPropertyValue("visibleIndex",_)},enumerable:!1,configurable:!0}),f.prototype.canRenderFirstRows=function(){return!this.isDesignMode||0==this.visibleIndex},Object.defineProperty(f.prototype,"isStarted",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),f.prototype.calcCssClasses=function(_){var l={page:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:""};return this.copyCssClasses(l.page,_.page),_.pageTitle&&(l.pageTitle=_.pageTitle),_.pageDescription&&(l.pageDescription=_.pageDescription),_.row&&(l.row=_.row),_.pageRow&&(l.pageRow=_.pageRow),_.rowMultiple&&(l.rowMultiple=_.rowMultiple),this.survey&&this.survey.updatePageCssClasses(this,l),l},Object.defineProperty(f.prototype,"cssTitle",{get:function(){return this.cssClasses.page?(new T.CssClassBuilder).append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssRoot",{get:function(){return this.cssClasses.page&&this.survey?(new T.CssClassBuilder).append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!(this.survey.renderedHasHeader||this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(_){this.setPropertyValue("navigationButtonsVisibility",_.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),f.prototype.setWasShown=function(_){if(_!=this.hasShownValue&&(this.hasShownValue=_,!this.isDesignMode&&!0===_)){for(var l=this.elements,m=0;m<l.length;m++)l[m].isPanel&&l[m].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},f.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},f.prototype.getPanels=function(_,l){void 0===_&&(_=!1),void 0===l&&(l=!1);var m=new Array;return this.addPanelsIntoList(m,_,l),m},Object.defineProperty(f.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(_){this.setPropertyValue("maxTimeToFinish",_)},enumerable:!1,configurable:!0}),f.prototype.onNumChanged=function(_){},f.prototype.onVisibleChanged=function(){this.isRandomizing||(i.prototype.onVisibleChanged.call(this),null!=this.survey&&this.survey.pageVisibilityChanged(this,this.isVisible))},f.prototype.getDragDropInfo=function(){return this.dragDropInfo},f.prototype.dragDropStart=function(_,l,m){void 0===m&&(m=-1),this.dragDropInfo=new y.DragDropInfo(_,l,m)},f.prototype.dragDropMoveTo=function(_,l,m){if(void 0===l&&(l=!1),void 0===m&&(m=!1),!this.dragDropInfo||(this.dragDropInfo.destination=_,this.dragDropInfo.isBottom=l,this.dragDropInfo.isEdge=m,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var h=this.dragDropFindRow(this.dragDropInfo.target);this.updateRowsRemoveElementFromRow(this.dragDropInfo.target,h)}return!1}return this.dragDropAddTarget(this.dragDropInfo),!0},f.prototype.correctDragDropInfo=function(_){if(_.destination){var l=_.destination.isPanel?_.destination:null;!l||_.target.isLayoutTypeSupported(l.getChildrenLayoutType())||(_.isEdge=!0)}},f.prototype.dragDropAllowFromSurvey=function(){var _=this.dragDropInfo.destination;if(!_||!this.survey)return!0;var l=null,m=null,h=_.isPage||!this.dragDropInfo.isEdge&&_.isPanel?_:_.parent;if(!_.isPage){var d=_.parent;if(d){var c=d.elements,a=c.indexOf(_);a>-1&&(l=_,m=_,this.dragDropInfo.isBottom?l=a<c.length-1?c[a+1]:null:m=a>0?c[a-1]:null)}}return this.survey.dragAndDropAllow({target:this.dragDropInfo.target,source:this.dragDropInfo.source,parent:h,insertAfter:m,insertBefore:l})},f.prototype.dragDropFinish=function(_){if(void 0===_&&(_=!1),this.dragDropInfo){var l=this.dragDropInfo.target,m=this.dragDropInfo.source,h=this.dragDropInfo.destination,d=this.dragDropFindRow(l),c=this.dragDropGetElementIndex(l,d);this.updateRowsRemoveElementFromRow(l,d);var a=[],s=[];if(!_&&d){if(this.isDesignMode&&v.settings.supportCreatorV2){var o=m&&m.parent&&m.parent.dragDropFindRow(m);d.panel.elements[c]&&d.panel.elements[c].startWithNewLine&&d.elements.length>1&&d.panel.elements[c]===h&&(a.push(l),s.push(d.panel.elements[c])),l.startWithNewLine&&d.elements.length>1&&(!d.panel.elements[c]||!d.panel.elements[c].startWithNewLine)&&s.push(l),o&&o.elements[0]===m&&o.elements[1]&&a.push(o.elements[1]),d.elements.length<=1&&a.push(l),l.startWithNewLine&&d.elements.length>1&&d.elements[0]!==h&&s.push(l)}!!m&&!!m.parent&&(this.survey.startMovingQuestion(),d.panel==m.parent?(d.panel.dragDropMoveElement(m,l,c),c=-1):m.parent.removeElement(m)),c>-1&&d.panel.addElement(l,c),this.survey.stopMovingQuestion()}return a.map(function(S){S.startWithNewLine=!0}),s.map(function(S){S.startWithNewLine=!1}),this.dragDropInfo=null,_?null:l}},f.prototype.dragDropGetElementIndex=function(_,l){if(!l)return-1;var m=l.elements.indexOf(_);if(0==l.index)return m;var h=l.panel.rows[l.index-1];return m+l.panel.elements.indexOf(h.elements[h.elements.length-1])+1},f.prototype.dragDropCanDropTagert=function(){var _=this.dragDropInfo.destination;return!(_&&!_.isPage)||this.dragDropCanDropCore(this.dragDropInfo.target,_)},f.prototype.dragDropCanDropSource=function(){var _=this.dragDropInfo.source;if(!_)return!0;var l=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(_,l))return!1;if(this.isDesignMode&&v.settings.supportCreatorV2){if(this.dragDropFindRow(_)!==this.dragDropFindRow(l)&&(!_.startWithNewLine&&l.startWithNewLine||_.startWithNewLine&&!l.startWithNewLine))return!0;var d=this.dragDropFindRow(l);if(d&&1==d.elements.length)return!0}return this.dragDropCanDropNotNext(_,l,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},f.prototype.dragDropCanDropCore=function(_,l){if(!l)return!0;if(this.dragDropIsSameElement(l,_))return!1;if(_.isPanel){var m=_;if(m.containsElement(l)||m.getElementByName(l.name))return!1}return!0},f.prototype.dragDropCanDropNotNext=function(_,l,m,h){if(!l||l.isPanel&&!m||typeof _.parent>"u"||_.parent!==l.parent)return!0;var d=_.parent,c=d.elements.indexOf(_),a=d.elements.indexOf(l);return a<c&&!h&&a--,h&&a++,c<a?a-c>1:c-a>0},f.prototype.dragDropIsSameElement=function(_,l){return _==l||_.name==l.name},f.prototype.ensureRowsVisibility=function(){i.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(_){return _.ensureRowsVisibility()})},function(i,f,_,l){var d,m=arguments.length,h=m<3?f:null===l?l=Object.getOwnPropertyDescriptor(f,_):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(i,f,_,l);else for(var c=i.length-1;c>=0;c--)(d=i[c])&&(h=(m<3?d(h):m>3?d(f,_,h):d(f,_))||h);m>3&&h&&Object.defineProperty(f,_,h)}([Object(n.property)({defaultValue:-1,onSet:function(_,l){return l.onNumChanged(_)}})],f.prototype,"num",void 0),f}(y.PanelModelBase);n.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(i){return!!i.survey&&"buttons"===i.survey.progressBarType},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(i){return!!i.survey&&"buttons"===i.survey.progressBarType},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new E},"panelbase")},"./src/panel.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragDropInfo",function(){return h}),e.d(t,"QuestionRowModel",function(){return d}),e.d(t,"PanelModelBase",function(){return c}),e.d(t,"PanelModel",function(){return a});var s,n=e("./src/jsonobject.ts"),y=e("./src/helpers.ts"),T=e("./src/base.ts"),v=e("./src/survey-element.ts"),O=e("./src/question.ts"),C=e("./src/questionfactory.ts"),E=e("./src/error.ts"),i=e("./src/settings.ts"),f=e("./src/utils/utils.ts"),_=e("./src/utils/cssClassBuilder.ts"),l=(s=function(r,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var x in I)Object.prototype.hasOwnProperty.call(I,x)&&(S[x]=I[x])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function S(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(S.prototype=o.prototype,new S)}),m=function(s,r,o,S){var P,I=arguments.length,x=I<3?r:null===S?S=Object.getOwnPropertyDescriptor(r,o):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(s,r,o,S);else for(var g=s.length-1;g>=0;g--)(P=s[g])&&(x=(I<3?P(x):I>3?P(r,o,x):P(r,o))||x);return I>3&&x&&Object.defineProperty(r,o,x),x},h=function s(r,o,S){void 0===S&&(S=-1),this.source=r,this.target=o,this.nestedPanelDepth=S},d=function(s){function r(o){var S=s.call(this)||this;return S.panel=o,S._scrollableParent=void 0,S._updateVisibility=void 0,S.idValue=r.getRowId(),S.visible=o.areInvisibleElementsShowing,S.createNewArray("elements"),S.createNewArray("visibleElements"),S}return l(r,s),r.getRowId=function(){return"pr_"+r.rowCounter++},r.prototype.startLazyRendering=function(o,S){var I=this;void 0===S&&(S=f.findScrollableParent),this._scrollableParent=S(o),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var x=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!x,x&&(this._updateVisibility=function(){var P=Object(f.isElementVisible)(o,50);!I.isNeedRender&&P&&(I.isNeedRender=!0,I.stopLazyRendering())},setTimeout(function(){!!I._scrollableParent&&!!I._scrollableParent.addEventListener&&I._scrollableParent.addEventListener("scroll",I._updateVisibility),I.ensureVisibility()},10))},r.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},r.prototype.stopLazyRendering=function(){!!this._scrollableParent&&!!this._updateVisibility&&!!this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},r.prototype.setIsLazyRendering=function(o){this.isLazyRenderingValue=o,this.isNeedRender=!o},r.prototype.isLazyRendering=function(){return!0===this.isLazyRenderingValue},Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(o){this.setPropertyValue("visible",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(o){this.setPropertyValue("isneedrender",o)},enumerable:!1,configurable:!0}),r.prototype.updateVisible=function(){var o=this.calcVisible();this.setWidth(),this.visible=o},r.prototype.addElement=function(o){this.elements.push(o),this.updateVisible()},Object.defineProperty(r.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),r.prototype.setWidth=function(){var o,S=this.visibleElements.length;if(0!=S){for(var I=1===this.visibleElements.length,x=0,P=[],g=0;g<this.elements.length;g++)if(this.setElementMaxMinWidth(u=this.elements[g]),u.isVisible){u.isSingleInRow=I;var M=this.getElementWidth(u);M&&(u.renderWidth=this.getRenderedWidthFromWidth(M),P.push(u)),this.panel.isDefaultV2Theme||(null===(o=this.panel.parentQuestion)||void 0===o?void 0:o.isDefaultV2Theme)||(u.rightIndent=x<S-1?1:0),x++}else u.renderWidth="";for(g=0;g<this.elements.length;g++){var u;!(u=this.elements[g]).isVisible||P.indexOf(u)>-1||(u.renderWidth=0==P.length?(100/S).toFixed(6)+"%":this.getRenderedCalcWidth(u,P,S))}}},r.prototype.setElementMaxMinWidth=function(o){o.width&&"string"==typeof o.width&&-1===o.width.indexOf("%")&&(o.minWidth=o.width,o.maxWidth=o.width)},r.prototype.getRenderedCalcWidth=function(o,S,I){for(var x="100%",P=0;P<S.length;P++)x+=" - "+S[P].renderWidth;var g=I-S.length;return g>1&&(x="("+x+")/"+g.toString()),"calc("+x+")"},r.prototype.getElementWidth=function(o){var S=o.width;return S&&"string"==typeof S?S.trim():""},r.prototype.getRenderedWidthFromWidth=function(o){return y.Helpers.isNumber(o)?o+"px":o},r.prototype.calcVisible=function(){for(var o=[],S=0;S<this.elements.length;S++)this.elements[S].isVisible&&o.push(this.elements[S]);return this.needToUpdateVisibleElements(o)&&this.setPropertyValue("visibleElements",o),o.length>0},r.prototype.needToUpdateVisibleElements=function(o){if(o.length!==this.visibleElements.length)return!0;for(var S=0;S<o.length;S++)if(o[S]!==this.visibleElements[S])return!0;return!1},r.prototype.dispose=function(){s.prototype.dispose.call(this),this.stopLazyRendering()},r.prototype.getRowCss=function(){return(new _.CssClassBuilder).append(this.panel.cssClasses.row).append(this.panel.cssClasses.pageRow,this.panel.isPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},r.rowCounter=100,r}(T.Base),c=function(s){function r(o){void 0===o&&(o="");var S=s.call(this,o)||this;return S.isQuestionsReady=!1,S.questionsValue=new Array,S.isRandomizing=!1,S.createNewArray("rows"),S.elementsValue=S.createNewArray("elements",S.onAddElement.bind(S),S.onRemoveElement.bind(S)),S.id=r.getPanelId(),S.addExpressionProperty("visibleIf",function(I,x){S.visible=!0===x},function(I){return!S.areInvisibleElementsShowing}),S.addExpressionProperty("enableIf",function(I,x){S.readOnly=!1===x}),S.addExpressionProperty("requiredIf",function(I,x){S.isRequired=!0===x}),S.createLocalizableString("requiredErrorText",S),S.registerPropertyChangedHandlers(["questionTitleLocation"],function(){S.onVisibleChanged.bind(S),S.updateElementCss(!0)}),S.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){S.updateVisibleIndexes()}),S}return l(r,s),r.getPanelId=function(){return"sp_"+r.panelCounter++},r.prototype.getType=function(){return"panelbase"},r.prototype.setSurveyImpl=function(o,S){s.prototype.setSurveyImpl.call(this,o,S),this.isDesignMode&&this.onVisibleChanged();for(var I=0;I<this.elements.length;I++)this.elements[I].setSurveyImpl(o,S)},r.prototype.endLoadingFromJson=function(){s.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(r.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.title.length>0||this.showTitle&&this.isDesignMode&&i.settings.allowShowEmptyTitleInDesignMode},enumerable:!1,configurable:!0}),r.prototype.canShowTitle=function(){return!0},Object.defineProperty(r.prototype,"_showDescription",{get:function(){return this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&i.settings.allowShowEmptyTitleInDesignMode&&i.settings.allowShowEmptyDescriptionInDesignMode},enumerable:!1,configurable:!0}),r.prototype.localeChanged=function(){s.prototype.localeChanged.call(this);for(var o=0;o<this.elements.length;o++)this.elements[o].localeChanged()},r.prototype.locStrsChanged=function(){s.prototype.locStrsChanged.call(this);for(var o=0;o<this.elements.length;o++)this.elements[o].locStrsChanged()},Object.defineProperty(r.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(o){this.setLocalizableStringText("requiredErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(o){this.setPropertyValue("questionsOrder",o)},enumerable:!1,configurable:!0}),r.prototype.canRandomize=function(o){return o&&"initial"!==this.questionsOrder||"random"===this.questionsOrder},r.prototype.randomizeElements=function(o){if(this.canRandomize(o)&&!this.isRandomizing){this.isRandomizing=!0;for(var S=[],I=this.elements,x=0;x<I.length;x++)S.push(I[x]);var P=y.Helpers.randomizeArray(S);this.setArrayPropertyDirectly("elements",P,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(r.prototype,"areQuestionsRandomized",{get:function(){return"random"==("default"==this.questionsOrder&&this.survey?this.survey.questionsOrder:this.questionsOrder)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(o){this.setPropertyValue("parent",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depth",{get:function(){return null==this.parent?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(o){this.setPropertyValue("visibleIf",o)},enumerable:!1,configurable:!0}),r.prototype.calcCssClasses=function(o){var S={panel:{},error:{},row:"",rowMultiple:""};return this.copyCssClasses(S.panel,o.panel),this.copyCssClasses(S.error,o.error),o.row&&(S.row=o.row),o.rowMultiple&&(S.rowMultiple=o.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,S),S},Object.defineProperty(r.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(o){this.setPropertyValue("id",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.getPanel=function(){return this},r.prototype.getLayoutType=function(){return"row"},r.prototype.isLayoutTypeSupported=function(o){return"flow"!==o},Object.defineProperty(r.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var o=0;o<this.elements.length;o++){var S=this.elements[o];if(S.isPanel)for(var I=S.questions,x=0;x<I.length;x++)this.questionsValue.push(I[x]);else this.questionsValue.push(S)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),r.prototype.getValidName=function(o){return o&&o.trim()},r.prototype.getQuestionByName=function(o){for(var S=this.questions,I=0;I<S.length;I++)if(S[I].name==o)return S[I];return null},r.prototype.getElementByName=function(o){for(var S=this.elements,I=0;I<S.length;I++){var x=S[I];if(x.name==o)return x;var P=x.getPanel();if(P){var g=P.getElementByName(o);if(g)return g}}return null},r.prototype.getQuestionByValueName=function(o){for(var S=this.questions,I=0;I<S.length;I++)if(S[I].getValueName()==o)return S[I];return null},r.prototype.getValue=function(){for(var o={},S=this.questions,I=0;I<S.length;I++){var x=S[I];if(!x.isEmpty()){var P=x.getValueName();if(o[P]=x.value,this.data){var g=this.data.getComment(P);g&&(o[P+i.settings.commentPrefix]=g)}}}return o},r.prototype.getDisplayValue=function(o){for(var S={},I=this.questions,x=0;x<I.length;x++){var P=I[x];P.isEmpty()||(S[o?P.title:P.getValueName()]=P.getDisplayValue(o))}return S},r.prototype.getComments=function(){var o={};if(!this.data)return o;for(var S=this.questions,I=0;I<S.length;I++){var x=S[I],P=this.data.getComment(x.getValueName());P&&(o[x.getValueName()]=P)}return o},r.prototype.clearIncorrectValues=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].clearIncorrectValues()},r.prototype.clearErrors=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].clearErrors();this.errors=[]},r.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(r.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),r.prototype.getElementsInDesign=function(o){return void 0===o&&(o=!1),this.elements},r.prototype.containsElement=function(o){for(var S=0;S<this.elements.length;S++){var I=this.elements[S];if(I==o)return!0;var x=I.getPanel();if(x&&x.containsElement(o))return!0}return!1},Object.defineProperty(r.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired",!1)},set:function(o){this.setPropertyValue("isRequired",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(o){this.setPropertyValue("requiredIf",o)},enumerable:!1,configurable:!0}),r.prototype.searchText=function(o,S){s.prototype.searchText.call(this,o,S);for(var I=0;I<this.elements.length;I++)this.elements[I].searchText(o,S)},r.prototype.hasErrors=function(o,S,I){return void 0===o&&(o=!0),void 0===S&&(S=!1),void 0===I&&(I=null),this.hasErrorsCore(I=I||{fireCallback:o,focuseOnFirstError:S,firstErrorQuestion:null,result:!1}),I.firstErrorQuestion&&I.firstErrorQuestion.focus(!0),I.result},r.prototype.hasErrorsInPanels=function(o){var S=[];if(this.hasRequiredError(o,S),this.survey){var I=this.survey.validatePanel(this);I&&(S.push(I),o.result=!0)}o.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,S),this.errors=S)},r.prototype.getErrorCustomText=function(o,S){return this.survey?this.survey.getSurveyErrorCustomText(this,o,S):o},r.prototype.hasRequiredError=function(o,S){if(this.isRequired){var I=[];if(this.addQuestionsToList(I,!0),0!=I.length){for(var x=0;x<I.length;x++)if(!I[x].isEmpty())return;o.result=!0,S.push(new E.OneAnswerRequiredError(this.requiredErrorText,this)),o.focuseOnFirstError&&!o.firstErrorQuestion&&(o.firstErrorQuestion=I[0])}}},r.prototype.hasErrorsCore=function(o){for(var S=this.elements,I=null,x=0;x<S.length;x++)if((I=S[x]).isVisible)if(I.isPanel)I.hasErrorsCore(o);else{var P=I;if(P.isReadOnly)continue;P.hasErrors(o.fireCallback,o)&&(o.focuseOnFirstError&&null==o.firstErrorQuestion&&(o.firstErrorQuestion=P),o.result=!0)}this.hasErrorsInPanels(o),this.updateContainsErrors()},r.prototype.getContainsErrors=function(){var o=s.prototype.getContainsErrors.call(this);if(o)return o;for(var S=this.elements,I=0;I<S.length;I++)if(S[I].containsErrors)return!0;return!1},r.prototype.updateElementVisibility=function(){for(var o=0;o<this.elements.length;o++){var S=this.elements[o];S.setPropertyValue("isVisible",S.isVisible),S.isPanel&&S.updateElementVisibility()}},r.prototype.getFirstQuestionToFocus=function(o,S){if(void 0===o&&(o=!1),void 0===S&&(S=!1),!o&&!S&&this.isCollapsed)return null;for(var I=this.elements,x=0;x<I.length;x++){var P=I[x];if(P.isVisible)if(P.isPanel){var g=P.getFirstQuestionToFocus(o,S);if(g)return g}else{var u=P.getFirstQuestionToFocus(o);if(u)return u}}return null},r.prototype.focusFirstQuestion=function(){var o=this.getFirstQuestionToFocus();o&&o.focus()},r.prototype.focusFirstErrorQuestion=function(){var o=this.getFirstQuestionToFocus(!0);o&&o.focus()},r.prototype.addQuestionsToList=function(o,S,I){void 0===S&&(S=!1),void 0===I&&(I=!1),this.addElementsToList(o,S,I,!1)},r.prototype.addPanelsIntoList=function(o,S,I){void 0===S&&(S=!1),void 0===I&&(I=!1),this.addElementsToList(o,S,I,!0)},r.prototype.addElementsToList=function(o,S,I,x){S&&!this.visible||this.addElementsToListCore(o,this.elements,S,I,x)},r.prototype.addElementsToListCore=function(o,S,I,x,P){for(var g=0;g<S.length;g++){var u=S[g];I&&!u.visible||((P&&u.isPanel||!P&&!u.isPanel)&&o.push(u),u.isPanel?u.addElementsToListCore(o,u.elements,I,x,P):x&&this.addElementsToListCore(o,u.getElementsInDesign(!1),I,x,P))}},Object.defineProperty(r.prototype,"isActive",{get:function(){return!this.survey||this.survey.currentPage==this.root},enumerable:!1,configurable:!0}),r.prototype.updateCustomWidgets=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].updateCustomWidgets()},Object.defineProperty(r.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(o){this.setPropertyValue("questionTitleLocation",o.toLowerCase())},enumerable:!1,configurable:!0}),r.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():"default"!=this.questionTitleLocation?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},r.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},r.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},r.prototype.getChildrenLayoutType=function(){return"row"},r.prototype.getProgressInfo=function(){return v.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(r.prototype,"root",{get:function(){for(var o=this;o.parent;)o=o.parent;return o},enumerable:!1,configurable:!0}),r.prototype.childVisibilityChanged=function(){this.getIsPageVisible(null)!==this.getPropertyValue("isVisible",!0)&&this.onVisibleChanged()},r.prototype.createRowAndSetLazy=function(o){var S=this.createRow();return S.setIsLazyRendering(this.isLazyRenderInRow(o)),S},r.prototype.createRow=function(){return new d(this)},r.prototype.onSurveyLoad=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].onSurveyLoad();this.onElementVisibilityChanged(this)},r.prototype.onFirstRendering=function(){s.prototype.onFirstRendering.call(this);for(var o=0;o<this.elements.length;o++)this.elements[o].onFirstRendering();this.onRowsChanged()},r.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var o=0;o<this.elements.length;o++)this.elements[o].isPanel&&this.elements[o].updateRows();this.onRowsChanged()}},Object.defineProperty(r.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),r.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(o){o.ensureVisibility()})},r.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},r.prototype.onAddElement=function(o,S){var I=this;o.setSurveyImpl(this.surveyImpl),o.parent=this,this.markQuestionListDirty(),this.updateRowsOnElementAdded(o,S),o.isPanel?this.survey&&this.survey.panelAdded(o,S,this,this.root):this.survey&&this.survey.questionAdded(o,S,this,this.root),this.addElementCallback&&this.addElementCallback(o),o.registerPropertyChangedHandlers(["visible","isVisible"],function(){I.onElementVisibilityChanged(o)},this.id),o.registerPropertyChangedHandlers(["startWithNewLine"],function(){I.onElementStartWithNewLineChanged(o)},this.id),this.onElementVisibilityChanged(this)},r.prototype.onRemoveElement=function(o){o.parent=null,this.markQuestionListDirty(),o.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(o),!this.isRandomizing&&(o.isPanel?this.survey&&this.survey.panelRemoved(o):this.survey&&this.survey.questionRemoved(o),this.removeElementCallback&&this.removeElementCallback(o),this.onElementVisibilityChanged(this))},r.prototype.onElementVisibilityChanged=function(o){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(o),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},r.prototype.onElementStartWithNewLineChanged=function(o){this.onRowsChanged()},r.prototype.updateRowsVisibility=function(o){for(var S=this.rows,I=0;I<S.length;I++){var x=S[I];if(x.elements.indexOf(o)>-1){x.updateVisible(),x.visible&&!x.isNeedRender&&(x.isNeedRender=!0);break}}},r.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&"row"==this.getChildrenLayoutType()},r.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var o=new Array,S=0;S<this.elements.length;S++){var I=this.elements[S],x=0==S||I.startWithNewLine,P=x?this.createRowAndSetLazy(o.length):o[o.length-1];x&&o.push(P),P.addElement(I)}for(S=0;S<o.length;S++)o[S].updateVisible();return o},r.prototype.isLazyRenderInRow=function(o){return!(!this.survey||!this.survey.isLazyRendering)&&(o>=i.settings.lazyRowsRenderingStartRow||!this.canRenderFirstRows())},r.prototype.canRenderFirstRows=function(){return this.isPage},r.prototype.getDragDropInfo=function(){var o=this.getPage(this.parent);return o?o.getDragDropInfo():void 0},r.prototype.updateRowsOnElementAdded=function(o,S){if(this.canBuildRows()){var I=i.settings.supportCreatorV2?this.getDragDropInfo():void 0;I||((I=new h(null,o)).target=o,I.isEdge=this.elements.length>1,this.elements.length<2?I.destination=this:(I.isBottom=S>0,I.destination=0==S?this.elements[1]:this.elements[S-1])),this.dragDropAddTargetToRow(I,null)}},r.prototype.updateRowsOnElementRemoved=function(o){!this.canBuildRows()||this.updateRowsRemoveElementFromRow(o,this.findRowByElement(o))},r.prototype.updateRowsRemoveElementFromRow=function(o,S){if(S&&S.panel){var I=S.elements.indexOf(o);I<0||(S.elements.splice(I,1),S.elements.length>0?(S.elements[0].startWithNewLine=!0,S.updateVisible()):S.index>=0&&S.panel.rows.splice(S.index,1))}},r.prototype.findRowByElement=function(o){for(var S=this.rows,I=0;I<S.length;I++)if(S[I].elements.indexOf(o)>-1)return S[I];return null},r.prototype.elementWidthChanged=function(o){if(!this.isLoadingFromJson){var S=this.findRowByElement(o);S&&S.updateVisible()}},Object.defineProperty(r.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),r.prototype.getRenderedTitle=function(o){return null!=this.textProcessor?this.textProcessor.processText(o,!0):o},Object.defineProperty(r.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(o){o!==this.visible&&(this.setPropertyValue("visible",o),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),r.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.isClearValueOnHiddenContainer&&!this.isLoadingFromJson))for(var o=this.questions,S=0;S<o.length;S++)this.isVisible?o[S].updateValueWithDefaults():o[S].clearValueIfInvisible()},Object.defineProperty(r.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),r.prototype.getIsPageVisible=function(o){if(!this.visible)return!1;for(var S=0;S<this.elements.length;S++)if(this.elements[S]!=o&&this.elements[S].isVisible)return!0;return!1},r.prototype.setVisibleIndex=function(o){if(!this.isVisible||o<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=o;var S=o;o+=this.beforeSetVisibleIndex(o);for(var I=this.getPanelStartIndex(o),x=I,P=0;P<this.elements.length;P++)x+=this.elements[P].setVisibleIndex(x);return this.isContinueNumbering()&&(o+=x-I),o-S},r.prototype.updateVisibleIndexes=function(){void 0!==this.lastVisibleIndex&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},r.prototype.resetVisibleIndexes=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].setVisibleIndex(-1)},r.prototype.beforeSetVisibleIndex=function(o){return 0},r.prototype.getPanelStartIndex=function(o){return o},r.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(r.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode},enumerable:!1,configurable:!0}),r.prototype.onReadOnlyChanged=function(){for(var o=0;o<this.elements.length;o++){var S=this.elements[o];S.setPropertyValue("isReadOnly",S.isReadOnly)}s.prototype.onReadOnlyChanged.call(this)},r.prototype.updateElementCss=function(o){s.prototype.updateElementCss.call(this,o);for(var S=0;S<this.elements.length;S++)this.elements[S].updateElementCss(o)},Object.defineProperty(r.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(o){this.setPropertyValue("enableIf",o)},enumerable:!1,configurable:!0}),r.prototype.addElement=function(o,S){return void 0===S&&(S=-1),!!this.canAddElement(o)&&(S<0||S>=this.elements.length?this.elements.push(o):this.elements.splice(S,0,o),!0)},r.prototype.insertElementAfter=function(o,S){var I=this.elements.indexOf(S);I>=0&&this.addElement(o,I+1)},r.prototype.insertElementBefore=function(o,S){var I=this.elements.indexOf(S);I>=0&&this.addElement(o,I)},r.prototype.canAddElement=function(o){return!!o&&o.isLayoutTypeSupported(this.getChildrenLayoutType())},r.prototype.addQuestion=function(o,S){return void 0===S&&(S=-1),this.addElement(o,S)},r.prototype.addPanel=function(o,S){return void 0===S&&(S=-1),this.addElement(o,S)},r.prototype.addNewQuestion=function(o,S,I){void 0===S&&(S=null),void 0===I&&(I=-1);var x=C.QuestionFactory.Instance.createQuestion(o,S);return this.addQuestion(x,I)?x:null},r.prototype.addNewPanel=function(o){void 0===o&&(o=null);var S=this.createNewPanel(o);return this.addPanel(S)?S:null},r.prototype.indexOf=function(o){return this.elements.indexOf(o)},r.prototype.createNewPanel=function(o){var S=n.Serializer.createClass("panel");return S.name=o,S},r.prototype.removeElement=function(o){var S=this.elements.indexOf(o);if(S<0){for(var I=0;I<this.elements.length;I++)if(this.elements[I].removeElement(o))return!0;return!1}return this.elements.splice(S,1),!0},r.prototype.removeQuestion=function(o){this.removeElement(o)},r.prototype.runCondition=function(o,S){if(!this.isDesignMode&&!this.isLoadingFromJson){for(var I=this.elements.slice(),x=0;x<I.length;x++)I[x].runCondition(o,S);this.runConditionCore(o,S)}},r.prototype.onAnyValueChanged=function(o){for(var S=this.elements,I=0;I<S.length;I++)S[I].onAnyValueChanged(o)},r.prototype.checkBindings=function(o,S){for(var I=this.elements,x=0;x<I.length;x++)I[x].checkBindings(o,S)},r.prototype.dragDropAddTarget=function(o){var S=this.dragDropFindRow(o.target);this.dragDropAddTargetToRow(o,S)&&this.updateRowsRemoveElementFromRow(o.target,S)},r.prototype.dragDropFindRow=function(o){if(!o||o.isPage)return null;for(var S=o,I=this.rows,x=0;x<I.length;x++)if(I[x].elements.indexOf(S)>-1)return I[x];for(x=0;x<this.elements.length;x++){var P=this.elements[x].getPanel();if(P){var g=P.dragDropFindRow(S);if(g)return g}}return null},r.prototype.dragDropAddTargetToRow=function(o,S){if(!o.destination||this.dragDropAddTargetToEmptyPanel(o))return!0;var x=this.dragDropFindRow(o.destination);return!x||(i.settings.supportCreatorV2&&this.isDesignMode?x.elements.length>1?this.dragDropAddTargetToExistingRow(o,x,S):this.dragDropAddTargetToNewRow(o,x,S):o.target.startWithNewLine?this.dragDropAddTargetToNewRow(o,x,S):this.dragDropAddTargetToExistingRow(o,x,S))},r.prototype.dragDropAddTargetToEmptyPanel=function(o){if(o.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.root,o.target,o.isBottom),!0;var S=o.destination;if(S.isPanel&&!o.isEdge){if(o.target.template===S)return!1;if(o.nestedPanelDepth<0||o.nestedPanelDepth>=S.depth)return this.dragDropAddTargetToEmptyPanelCore(S,o.target,o.isBottom),!0}return!1},r.prototype.dragDropAddTargetToExistingRow=function(o,S,I){var x=S.elements.indexOf(o.destination);if(!(0!=x||o.isBottom||this.isDesignMode&&i.settings.supportCreatorV2)&&S.elements[0].startWithNewLine)return S.index>0?(o.isBottom=!0,o.destination=(S=S.panel.rows[S.index-1]).elements[S.elements.length-1],this.dragDropAddTargetToExistingRow(o,S,I)):this.dragDropAddTargetToNewRow(o,S,I);var P=-1;I==S&&(P=S.elements.indexOf(o.target)),o.isBottom&&x++;var g=this.findRowByElement(o.source);return(g!=S||g.elements.indexOf(o.source)!=x)&&x!=P&&(P>-1&&(S.elements.splice(P,1),P<x&&x--),S.elements.splice(x,0,o.target),S.updateVisible(),P<0)},r.prototype.dragDropAddTargetToNewRow=function(o,S,I){var x=S.panel.createRowAndSetLazy(S.panel.rows.length);this.isDesignMode&&i.settings.supportCreatorV2&&x.setIsLazyRendering(!1),x.addElement(o.target);var P=S.index;if(o.isBottom&&P++,I&&I.panel==x.panel&&I.index==P)return!1;var g=this.findRowByElement(o.source);return!(g&&g.panel==x.panel&&1==g.elements.length&&g.index==P||(S.panel.rows.splice(P,0,x),0))},r.prototype.dragDropAddTargetToEmptyPanelCore=function(o,S,I){var x=o.createRow();x.addElement(S),0==o.elements.length||I?o.rows.push(x):o.rows.splice(0,0,x)},r.prototype.dragDropMoveElement=function(o,S,I){I>o.parent.elements.indexOf(o)&&I--,this.removeElement(o),this.addElement(S,I)},r.prototype.needResponsiveWidth=function(){var o=!1;return this.elements.forEach(function(S){S.needResponsiveWidth()&&(o=!0)}),this.rows.forEach(function(S){S.elements.length>1&&(o=!0)}),o},Object.defineProperty(r.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){if(s.prototype.dispose.call(this),this.rows){for(var o=0;o<this.rows.length;o++)this.rows[o].dispose();this.rows.splice(0,this.rows.length)}for(o=0;o<this.elements.length;o++)this.elements[o].dispose();this.elements.splice(0,this.elements.length)},r.panelCounter=100,m([Object(n.property)({defaultValue:!0})],r.prototype,"showTitle",void 0),m([Object(n.property)({defaultValue:!0})],r.prototype,"showDescription",void 0),r}(v.SurveyElement),a=function(s){function r(o){void 0===o&&(o="");var S=s.call(this,o)||this;return S.focusIn=function(){S.survey.whenPanelFocusIn(S)},S.createNewArray("footerActions"),S.registerPropertyChangedHandlers(["width"],function(){S.parent&&S.parent.elementWidthChanged(S)}),S.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){S.onIndentChanged()}),S}return l(r,s),r.prototype.getType=function(){return"panel"},Object.defineProperty(r.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),r.prototype.getSurvey=function(o){return void 0===o&&(o=!1),o?this.parent?this.parent.getSurvey(o):null:s.prototype.getSurvey.call(this,o)},r.prototype.onSurveyLoad=function(){s.prototype.onSurveyLoad.call(this),this.onIndentChanged()},r.prototype.onSetData=function(){s.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(r.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(o){this.setPage(this.parent,o)},enumerable:!1,configurable:!0}),r.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},r.prototype.moveTo=function(o,S){return void 0===S&&(S=null),this.moveToBase(this.parent,o,S)},Object.defineProperty(r.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),r.prototype.getTitleOwner=function(){return this},Object.defineProperty(r.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber",!1)},set:function(o){this.setPropertyValue("showNumber",o),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(o){this.setPropertyValue("showQuestionNumbers",o),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(o){this.setPropertyValue("questionStartIndex",o)},enumerable:!1,configurable:!0}),r.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:s.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(r.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),r.prototype.setNo=function(o){this.setPropertyValue("no",y.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},r.prototype.beforeSetVisibleIndex=function(o){var S=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(S=o),this.setPropertyValue("visibleIndex",S),this.setNo(S),S<0?0:1},r.prototype.getPanelStartIndex=function(o){return"off"==this.showQuestionNumbers?-1:"onpanel"==this.showQuestionNumbers?0:o},r.prototype.isContinueNumbering=function(){return"off"!=this.showQuestionNumbers&&"onpanel"!=this.showQuestionNumbers},r.prototype.notifySurveyOnVisibilityChanged=function(){null!=this.survey&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},r.prototype.hasErrorsCore=function(o){s.prototype.hasErrorsCore.call(this,o),this.isCollapsed&&o.result&&o.fireCallback&&this.expand()},r.prototype.getRenderedTitle=function(o){if(!o){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return s.prototype.getRenderedTitle.call(this,o)},Object.defineProperty(r.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(o){this.setPropertyValue("innerIndent",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(o){this.setPropertyValue("startWithNewLine",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(o){this.setPropertyValue("allowAdaptiveActions",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(o){this.setPropertyValue("innerPaddingLeft",o)},enumerable:!1,configurable:!0}),r.prototype.onIndentChanged=function(){!this.getSurvey()||(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},r.prototype.getIndentSize=function(o){if(o<1)return"";var S=this.survey.css;return S&&S.question.indent?o*S.question.indent+"px":""},r.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(o){(o instanceof O.Question||o instanceof r)&&o.clearOnDeletingContainer()})},Object.defineProperty(r.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"footerToolbarCss",{get:function(){var o;return this.footerToolbarCssValue||(null===(o=this.cssClasses.panel)||void 0===o?void 0:o.footer)},set:function(o){this.footerToolbarCssValue=o},enumerable:!1,configurable:!0}),r.prototype.getFooterToolbar=function(){var S,o=this;if(!this.footerToolbarValue){var I=this.footerActions;this.hasEditButton&&I.push({id:"cancel-preview",title:this.survey.editText,innerCss:this.survey.cssNavigationEdit,action:function(){o.cancelPreview()}}),I=this.onGetFooterActionsCallback?this.onGetFooterActionsCallback():null===(S=this.survey)||void 0===S?void 0:S.getUpdatedPanelFooterActions(this,I),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions),this.footerToolbarValue.containerCss=this.footerToolbarCss,this.footerToolbarValue.setItems(I)}return this.footerToolbarValue},Object.defineProperty(r.prototype,"hasEditButton",{get:function(){return!(!this.survey||"preview"!==this.survey.state)&&1===this.depth},enumerable:!1,configurable:!0}),r.prototype.cancelPreview=function(){!this.hasEditButton||this.survey.cancelPreviewByPage(this)},Object.defineProperty(r.prototype,"cssTitle",{get:function(){return(new _.CssClassBuilder).append(this.cssClasses.panel.title).append(this.cssClasses.panel.titleExpandable,"default"!==this.state).append(this.cssClasses.panel.titleExpanded,this.isExpanded).append(this.cssClasses.panel.titleCollapsed,this.isCollapsed).append(this.cssClasses.panel.titleDisabled,this.isReadOnly).append(this.cssClasses.panel.titleOnError,this.containsErrors).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),r.prototype.getCssError=function(o){var S=(new _.CssClassBuilder).append(this.cssClasses.error.root);return S.append("panel-error-root",S.isEmpty()).toString()},r.prototype.onVisibleChanged=function(){s.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},r.prototype.needResponsiveWidth=function(){return!this.startWithNewLine||s.prototype.needResponsiveWidth.call(this)},r.prototype.getContainerCss=function(){return(new _.CssClassBuilder).append(this.cssClasses.panel.container).append(this.cssClasses.panel.withFrame,this.hasFrameV2).append(this.cssClasses.panel.nested,!(!(this.parent&&this.parent.isPanel||!this.isSingleInRow)||this.isDesignMode)).append(this.cssClasses.panel.collapsed,!!this.isCollapsed).append(this.cssClasses.panel.expanded,!!this.isExpanded).append(this.cssClasses.panel.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},r}(c);n.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0},"visibleIf:condition","enableIf:condition","requiredIf:condition","readOnly:boolean",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]}],function(){return new c}),n.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},"isRequired:switch",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",default:"auto"},{name:"maxWidth",default:i.settings.maxWidth},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(s){var r=s?s.survey:null;return!r||!r.pages||r.pages.length>1},choices:function(s){var r=s?s.survey:null;return r?r.pages.map(function(o){return{value:o.name,text:o.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new a},"panelbase"),C.ElementFactory.Instance.registerElement("panel",function(s){return new a(s)})},"./src/popup-dropdown-view-model.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"PopupDropdownViewModel",function(){return C});var E,n=e("./src/jsonobject.ts"),y=e("./src/utils/popup.ts"),T=e("./src/popup-view-model.ts"),v=(E=function(i,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,l){_.__proto__=l}||function(_,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(_[m]=l[m])})(i,f)},function(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),O=function(E,i,f,_){var h,l=arguments.length,m=l<3?i:null===_?_=Object.getOwnPropertyDescriptor(i,f):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(E,i,f,_);else for(var d=E.length-1;d>=0;d--)(h=E[d])&&(m=(l<3?h(m):l>3?h(i,f,m):h(i,f))||m);return l>3&&m&&Object.defineProperty(i,f,m),m},C=function(E){function i(f,_){var l=E.call(this,f)||this;return l.targetElement=_,l.isAutoScroll=!0,l.scrollEventCallBack=function(){l.isAutoScroll?l.isAutoScroll=!1:l.hidePopup()},l.model.onRecalculatePosition.add(function(m,h){l.updatePosition(h.isResetHeight)}),l}return v(i,E),i.prototype._updatePosition=function(){if(this.targetElement){var f=this.targetElement.getBoundingClientRect(),_=this.container.children[0],l=_.children[0],m=_.children[0].querySelector(".sv-popup__scrolling-content"),h=window.getComputedStyle(l),d=parseFloat(h.marginLeft)||0,c=parseFloat(h.marginRight)||0,a=l.offsetHeight-m.offsetHeight+m.scrollHeight,s=l.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=f.width+"px");var r=this.model.verticalPosition,o=this.getActualHorizontalPosition();window&&(a=Math.ceil(Math.min(a,.9*window.innerHeight,window.visualViewport.height)),r=y.PopupUtils.updateVerticalPosition(f,a,this.model.verticalPosition,this.model.showPointer,window.innerHeight)),this.popupDirection=y.PopupUtils.calculatePopupDirection(r,o);var S=y.PopupUtils.calculatePosition(f,a,s+d+c,r,o,this.showHeader,this.model.positionMode);if(window){var I=y.PopupUtils.updateVerticalDimensions(S.top,a,window.innerHeight);I&&(this.height=I.height+"px",S.top=I.top);var x=y.PopupUtils.updateHorizontalDimensions(S.left,s,window.innerWidth,o,this.model.positionMode,{left:d,right:c});x&&(this.width=x.width?x.width+"px":void 0,S.left=x.left)}this.left=S.left+"px",this.top=S.top+"px",this.showHeader&&(this.pointerTarget=y.PopupUtils.calculatePointerTarget(f,S.top,S.left,r,o,d,c)),this.pointerTarget.top+="px",this.pointerTarget.left+="px"}},i.prototype.getActualHorizontalPosition=function(){var f=this.model.horizontalPosition;return!!document&&"rtl"==document.defaultView.getComputedStyle(document.body).direction&&("left"===this.model.horizontalPosition?f="right":"right"===this.model.horizontalPosition&&(f="left")),f},i.prototype.hidePopup=function(){E.prototype.hidePopup.call(this),this.isAutoScroll=!0},i.prototype.getStyleClass=function(){return E.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--".concat(this.popupDirection),!this.isOverlay&&this.showHeader)},i.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},i.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},i.prototype.updateOnShowing=function(){this.prevActiveElement=document.activeElement,this.isOverlay?(this.top=null,this.left=null,this.height=null,this.width=null,this.minWidth=null):this.updatePosition(!0,!1),this.switchFocus(),window.addEventListener("scroll",this.scrollEventCallBack)},i.prototype.updatePosition=function(f,_){var l=this;void 0===_&&(_=!0),f&&(this.height="auto"),_?setTimeout(function(){l._updatePosition()},1):this._updatePosition()},i.prototype.updateOnHiding=function(){E.prototype.updateOnHiding.call(this),window.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},O([Object(n.property)({defaultValue:"left"})],i.prototype,"popupDirection",void 0),O([Object(n.property)({defaultValue:{left:"0px",top:"0px"}})],i.prototype,"pointerTarget",void 0),i}(T.PopupBaseViewModel)},"./src/popup-modal-view-model.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"PopupModalViewModel",function(){return T});var v,n=e("./src/popup-view-model.ts"),y=(v=function(O,C){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,i){E.__proto__=i}||function(E,i){for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(E[f]=i[f])})(O,C)},function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function E(){this.constructor=O}v(O,C),O.prototype=null===C?Object.create(C):(E.prototype=C.prototype,new E)}),T=function(v){function O(C){return v.call(this,C)||this}return y(O,v),O.prototype.getStyleClass=function(){return v.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},O.prototype.getShowFooter=function(){return!0},O.prototype.createFooterActionBar=function(){var C=this;v.prototype.createFooterActionBar.call(this),this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply",action:function(){C.apply()}})},Object.defineProperty(O.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),O.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},O.prototype.clickOutside=function(){},O.prototype.onKeyDown=function(C){("Escape"===C.key||27===C.keyCode)&&this.model.onCancel(),v.prototype.onKeyDown.call(this,C)},O}(n.PopupBaseViewModel)},"./src/popup-survey.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"PopupSurveyModel",function(){return C}),e.d(t,"SurveyWindowModel",function(){return E});var i,n=e("./src/base.ts"),y=e("./src/survey.ts"),T=e("./src/jsonobject.ts"),v=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),C=function(i){function f(_,l){void 0===l&&(l=null);var m=i.call(this)||this;return m.closeOnCompleteTimeout=0,m.surveyValue=l||m.createSurvey(_),m.surveyValue.showTitle=!1,typeof document<"u"&&(m.windowElement=document.createElement("div")),m.survey.onComplete.add(function(h,d){m.onSurveyComplete()}),m.registerPropertyChangedHandlers(["isShowing"],function(){m.showingChangedCallback&&m.showingChangedCallback()}),m.registerPropertyChangedHandlers(["isExpanded"],function(){m.onExpandedChanged()}),m.width=new n.ComputedUpdater(function(){return m.survey.width}),m.width=m.survey.width,m.updateCss(),m.onCreating(),m}return v(f,i),f.prototype.onCreating=function(){},f.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(f.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(_){this.setPropertyValue("isShowing",_)},enumerable:!1,configurable:!0}),f.prototype.show=function(){this.isShowing=!0},f.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(f.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(_){this.setPropertyValue("isExpanded",_)},enumerable:!1,configurable:!0}),f.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(f.prototype,"title",{get:function(){return this.survey.title},set:function(_){this.survey.title=_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTitle",{get:function(){return this.survey.locTitle},enumerable:!1,configurable:!0}),f.prototype.expand=function(){this.isExpanded=!0},f.prototype.collapse=function(){this.isExpanded=!1},f.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(f.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssRoot",{get:function(){return this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssHeaderTitle",{get:function(){return this.getPropertyValue("cssHeaderTitle","")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedWidth",{get:function(){var _=this.getPropertyValue("width","60%");return _&&!isNaN(_)&&(_+="px"),_},enumerable:!1,configurable:!0}),f.prototype.updateCss=function(){if(this.css&&this.css.window){var _=this.css.window;this.setPropertyValue("cssRoot",_.root),this.setPropertyValue("cssBody",_.body);var l=_.header;!l||(this.setPropertyValue("cssHeaderRoot",l.root),this.setPropertyValue("cssHeaderTitle",l.title),this.updateCssButton())}},f.prototype.updateCssButton=function(){var _=this.css.window?this.css.window.header:null;!_||this.setCssButton(this.isExpanded?_.buttonExpanded:_.buttonCollapsed)},f.prototype.setCssButton=function(_){!_||this.setPropertyValue("cssButton",_)},f.prototype.createSurvey=function(_){return new y.SurveyModel(_)},f.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(0==this.closeOnCompleteTimeout)this.hide();else{var _=this,l=null;l=typeof window<"u"?window.setInterval(function(){_.hide(),typeof window<"u"&&window.clearInterval(l)},1e3*this.closeOnCompleteTimeout):0}},function(i,f,_,l){var d,m=arguments.length,h=m<3?f:null===l?l=Object.getOwnPropertyDescriptor(f,_):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(i,f,_,l);else for(var c=i.length-1;c>=0;c--)(d=i[c])&&(h=(m<3?d(h):m>3?d(f,_,h):d(f,_))||h);m>3&&h&&Object.defineProperty(f,_,h)}([Object(T.property)()],f.prototype,"width",void 0),f}(n.Base),E=function(i){function f(){return null!==i&&i.apply(this,arguments)||this}return v(f,i),f}(C)},"./src/popup-utils.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"createPopupModalViewModel",function(){return v}),e.d(t,"createPopupViewModel",function(){return O});var n=e("./src/popup.ts"),y=e("./src/popup-dropdown-view-model.ts"),T=e("./src/popup-modal-view-model.ts");function v(C){var E=new n.PopupModel(C.componentName,C.data,"top","left",!1,!0,C.onCancel,C.onApply,C.onHide,C.onShow,C.cssClass,C.title);E.displayMode=C.displayMode||"popup";var i=new T.PopupModalViewModel(E);return i.initializePopupContainer(),i}function O(C,E){return C.isModal?new T.PopupModalViewModel(C):new y.PopupDropdownViewModel(C,E)}},"./src/popup-view-model.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"FOCUS_INPUT_SELECTOR",function(){return E}),e.d(t,"PopupBaseViewModel",function(){return i});var f,n=e("./src/base.ts"),y=e("./src/jsonobject.ts"),T=e("./src/utils/cssClassBuilder.ts"),v=e("./src/actions/container.ts"),O=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),C=function(f,_,l,m){var c,h=arguments.length,d=h<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,l):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(f,_,l,m);else for(var a=f.length-1;a>=0;a--)(c=f[a])&&(d=(h<3?c(d):h>3?c(_,l,d):c(_,l))||d);return h>3&&d&&Object.defineProperty(_,l,d),d},E='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',i=function(f){function _(l){var m=f.call(this)||this;return m.model=l,m}return O(_,f),_.prototype.hidePopup=function(){this.model.isVisible=!1},_.prototype.getStyleClass=function(){return(new T.CssClassBuilder).append(this.model.cssClass).append("sv-popup--".concat(this.model.displayMode),this.isOverlay)},_.prototype.getShowFooter=function(){return this.isOverlay},_.prototype.getShowHeader=function(){return!1},_.prototype.getPopupHeaderTemplate=function(){},_.prototype.createFooterActionBar=function(){var l=this;this.footerToolbarValue=new v.ActionContainer,this.footerToolbar.updateCallback=function(m){l.footerToolbarValue.actions.forEach(function(h){return h.cssClasses={}})},this.footerToolbarValue.addAction({id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--cancel",action:function(){l.cancel()}})},_.prototype.setupModel=function(l){var m=this;this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"),this._model=l;var h=function(){l.isVisible||m.updateOnHiding(),m.isVisible=l.isVisible};l.registerPropertyChangedHandlers(["isVisible"],h,"PopupBaseViewModel"),h()},Object.defineProperty(_.prototype,"model",{get:function(){return this._model},set:function(l){this.setupModel(l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isOverlay",{get:function(){return"overlay"===this.model.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),_.prototype.onKeyDown=function(l){"Tab"===l.key||9===l.keyCode?this.trapFocus(l):("Escape"===l.key||27===l.keyCode)&&this.hidePopup()},_.prototype.trapFocus=function(l){var m=this.container.querySelectorAll(E),h=m[0],d=m[m.length-1];l.shiftKey?document.activeElement===h&&(d.focus(),l.preventDefault()):document.activeElement===d&&(h.focus(),l.preventDefault())},_.prototype.switchFocus=function(){this.isFocusedContent&&this.focusFirstInput()},_.prototype.updateOnShowing=function(){this.prevActiveElement=document.activeElement,this.isOverlay&&(this.top=null,this.left=null,this.height=null,this.width=null,this.minWidth=null),this.switchFocus()},_.prototype.updateOnHiding=function(){this.prevActiveElement&&this.prevActiveElement.focus()},_.prototype.focusFirstInput=function(){var l=this;setTimeout(function(){if(l.container){var m=l.container.querySelector(l.model.focusFirstInputSelector||E);m?m.focus():l.container.children[0].focus()}},100)},_.prototype.clickOutside=function(){this.hidePopup()},_.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},_.prototype.dispose=function(){f.prototype.dispose.call(this),this.unmountPopupContainer(),this.container=void 0,this.model.onVisibilityChanged.clear(),this.model.onRecalculatePosition.clear()},_.prototype.initializePopupContainer=function(){if(!this.container){var l=document.createElement("div");this.container=l}document.body.appendChild(this.container)},_.prototype.unmountPopupContainer=function(){this.container.remove()},C([Object(y.property)({defaultValue:"0px"})],_.prototype,"top",void 0),C([Object(y.property)({defaultValue:"0px"})],_.prototype,"left",void 0),C([Object(y.property)({defaultValue:"auto"})],_.prototype,"height",void 0),C([Object(y.property)({defaultValue:"auto"})],_.prototype,"width",void 0),C([Object(y.property)({defaultValue:"auto"})],_.prototype,"minWidth",void 0),C([Object(y.property)({defaultValue:!1})],_.prototype,"isVisible",void 0),_}(n.Base)},"./src/popup.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"PopupModel",function(){return O}),e.d(t,"createDialogOptions",function(){return C});var E,n=e("./src/base.ts"),y=e("./src/jsonobject.ts"),T=(E=function(i,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,l){_.__proto__=l}||function(_,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(_[m]=l[m])})(i,f)},function(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),v=function(E,i,f,_){var h,l=arguments.length,m=l<3?i:null===_?_=Object.getOwnPropertyDescriptor(i,f):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(E,i,f,_);else for(var d=E.length-1;d>=0;d--)(h=E[d])&&(m=(l<3?h(m):l>3?h(i,f,m):h(i,f))||m);return l>3&&m&&Object.defineProperty(i,f,m),m},O=function(E){function i(f,_,l,m,h,d,c,a,s,r,o,S){void 0===l&&(l="bottom"),void 0===m&&(m="left"),void 0===h&&(h=!0),void 0===d&&(d=!1),void 0===c&&(c=function(){}),void 0===a&&(a=function(){return!0}),void 0===s&&(s=function(){}),void 0===r&&(r=function(){}),void 0===o&&(o=""),void 0===S&&(S="");var I=E.call(this)||this;return I.focusFirstInputSelector="",I.onVisibilityChanged=I.addEvent(),I.onRecalculatePosition=I.addEvent(),I.contentComponentName=f,I.contentComponentData=_,I.verticalPosition=l,I.horizontalPosition=m,I.showPointer=h,I.isModal=d,I.onCancel=c,I.onApply=a,I.onHide=s,I.onShow=r,I.cssClass=o,I.title=S,I}return T(i,E),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(f){if(this.isVisible!==f)if(this.setPropertyValue("isVisible",f),this.onVisibilityChanged.fire(this,{model:this,isVisible:f}),this.isVisible){var _=this.contentComponentData.model;_&&_.refresh&&_.refresh(),this.onShow()}else this.onHide()},enumerable:!1,configurable:!0}),i.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},i.prototype.recalculatePosition=function(f){this.onRecalculatePosition.fire(this,{isResetHeight:f})},v([Object(y.property)()],i.prototype,"contentComponentName",void 0),v([Object(y.property)()],i.prototype,"contentComponentData",void 0),v([Object(y.property)({defaultValue:"bottom"})],i.prototype,"verticalPosition",void 0),v([Object(y.property)({defaultValue:"left"})],i.prototype,"horizontalPosition",void 0),v([Object(y.property)({defaultValue:!1})],i.prototype,"showPointer",void 0),v([Object(y.property)({defaultValue:!1})],i.prototype,"isModal",void 0),v([Object(y.property)({defaultValue:!0})],i.prototype,"isFocusedContent",void 0),v([Object(y.property)({defaultValue:function(){}})],i.prototype,"onCancel",void 0),v([Object(y.property)({defaultValue:function(){return!0}})],i.prototype,"onApply",void 0),v([Object(y.property)({defaultValue:function(){}})],i.prototype,"onHide",void 0),v([Object(y.property)({defaultValue:function(){}})],i.prototype,"onShow",void 0),v([Object(y.property)({defaultValue:""})],i.prototype,"cssClass",void 0),v([Object(y.property)({defaultValue:""})],i.prototype,"title",void 0),v([Object(y.property)({defaultValue:"popup"})],i.prototype,"displayMode",void 0),v([Object(y.property)({defaultValue:"flex"})],i.prototype,"positionMode",void 0),i}(n.Base);function C(E,i,f,_,l,m,h,d,c){return void 0===l&&(l=function(){}),void 0===m&&(m=function(){}),void 0===c&&(c="popup"),{componentName:E,data:i,onApply:f,onCancel:_,onHide:l,onShow:m,cssClass:h,title:d,displayMode:c}}},"./src/question.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"Question",function(){return c});var s,n=e("./src/helpers.ts"),y=e("./src/jsonobject.ts"),T=e("./src/survey-element.ts"),v=e("./src/error.ts"),O=e("./src/validator.ts"),C=e("./src/localizablestring.ts"),E=e("./src/conditions.ts"),i=e("./src/questionCustomWidgets.ts"),f=e("./src/settings.ts"),_=e("./src/rendererFactory.ts"),l=e("./src/utils/cssClassBuilder.ts"),m=e("./src/utils/utils.ts"),h=(s=function(r,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var x in I)Object.prototype.hasOwnProperty.call(I,x)&&(S[x]=I[x])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function S(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(S.prototype=o.prototype,new S)}),d=function(s,r,o,S){var P,I=arguments.length,x=I<3?r:null===S?S=Object.getOwnPropertyDescriptor(r,o):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(s,r,o,S);else for(var g=s.length-1;g>=0;g--)(P=s[g])&&(x=(I<3?P(x):I>3?P(r,o,x):P(r,o))||x);return I>3&&x&&Object.defineProperty(r,o,x),x},c=function(s){function r(o){var S=s.call(this,o)||this;return S.customWidgetData={isNeedRender:!0},S.isReadyValue=!0,S.onReadyChanged=S.addEvent(),S.focusIn=function(){S.survey.whenQuestionFocusIn(S)},S.isRunningValidatorsValue=!1,S.isValueChangedInSurvey=!1,S.allowNotifyValueChanged=!0,S.id=r.getQuestionId(),S.onCreating(),S.createNewArray("validators",function(I){I.errorOwner=S}),S.addExpressionProperty("visibleIf",function(I,x){S.visible=!0===x},function(I){return!S.areInvisibleElementsShowing}),S.addExpressionProperty("enableIf",function(I,x){S.readOnly=!1===x}),S.addExpressionProperty("requiredIf",function(I,x){S.isRequired=!0===x}),S.createLocalizableString("commentText",S,!0,"otherItemText"),S.locTitle.onGetDefaultTextCallback=function(){return S.name},S.locTitle.storeDefaultText=!0,S.createLocalizableString("requiredErrorText",S),S.registerPropertyChangedHandlers(["width"],function(){S.updateQuestionCss(),S.parent&&S.parent.elementWidthChanged(S)}),S.registerPropertyChangedHandlers(["isRequired"],function(){S.locTitle.strChanged(),S.clearCssClasses()}),S.registerPropertyChangedHandlers(["indent","rightIndent"],function(){S.onIndentChanged()}),S.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){S.initCommentFromSurvey()}),S.registerPropertyChangedHandlers(["isMobile"],function(){S.onMobileChanged()}),S}return h(r,s),r.getQuestionId=function(){return"sq_"+r.questionCounter++},r.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===f.settings.readOnlyCommentRenderMode},r.prototype.createLocTitleProperty=function(){var o=this,S=s.prototype.createLocTitleProperty.call(this);return S.onGetTextCallback=function(I){return I||(I=o.name),o.survey?o.survey.getUpdatedQuestionTitle(o,I):I},this.locProcessedTitle=new C.LocalizableString(this,!0),this.locProcessedTitle.sharedData=S,S},r.prototype.getSurvey=function(o){return void 0===o&&(o=!1),o?this.parent?this.parent.getSurvey(o):null:this.onGetSurvey?this.onGetSurvey():s.prototype.getSurvey.call(this)},r.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(r.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(o){var S=this.getValueName();this.setPropertyValue("valueName",o),this.onValueNameChanged(S)},enumerable:!1,configurable:!0}),r.prototype.onValueNameChanged=function(o){!this.survey||(this.survey.questionRenamed(this,this.name,o||this.name),this.initDataFromSurvey())},r.prototype.onNameChanged=function(o){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,o,this.valueName?this.valueName:o)},Object.defineProperty(r.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaLabelledBy",{get:function(){return this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),r.prototype.choicesLoaded=function(){},Object.defineProperty(r.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(o){this.setPage(this.parent,o)},enumerable:!1,configurable:!0}),r.prototype.getPanel=function(){return null},r.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Object.defineProperty(r.prototype,"isFlowLayout",{get:function(){return"flow"===this.getLayoutType()},enumerable:!1,configurable:!0}),r.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},r.prototype.isLayoutTypeSupported=function(o){return"flow"!==o},Object.defineProperty(r.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(o){o!=this.visible&&(this.setPropertyValue("visible",o),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),r.prototype.onVisibleChanged=function(){this.setPropertyValue("isVisible",this.isVisible),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Object.defineProperty(r.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(o){this.setPropertyValue("useDisplayValuesInDynamicTexts",o)},enumerable:!1,configurable:!0}),r.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(r.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(o){this.setPropertyValue("visibleIf",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return!(this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty())&&(this.visible||this.areInvisibleElementsShowing)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(o){this.setPropertyValue("hideNumber",o),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.getType=function(){return"question"},Object.defineProperty(r.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.moveTo=function(o,S){return void 0===S&&(S=null),this.moveToBase(this.parent,o,S)},r.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:s.prototype.getProgressInfo.call(this)},r.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},r.prototype.setSurveyImpl=function(o,S){s.prototype.setSurveyImpl.call(this,o),this.survey&&(this.survey.questionCreated(this),!0!==S&&this.runConditions())},Object.defineProperty(r.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(o){this.parent!==o&&(this.delete(),this.setPropertyValue("parent",o),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),r.prototype.onParentChanged=function(){},Object.defineProperty(r.prototype,"hasTitle",{get:function(){return"hidden"!==this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(o){var S="hidden"==this.titleLocation||"hidden"==o;this.setPropertyValue("titleLocation",o.toLowerCase()),this.updateQuestionCss(),S&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),r.prototype.getTitleOwner=function(){return this},r.prototype.getIsTitleRenderedAsString=function(){return"hidden"===this.titleLocation},r.prototype.notifySurveyVisibilityChanged=function(){!this.survey||this.isLoadingFromJson||(this.survey.questionVisibilityChanged(this,this.isVisible),this.isClearValueOnHidden&&(this.visible||this.clearValueIfInvisible(),this.isVisible&&this.updateValueWithDefaults()))},r.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var o=this.getTitleLocationCore();return"left"===o&&!this.isAllowTitleLeft&&(o="top"),o},r.prototype.getTitleLocationCore=function(){return"default"!==this.titleLocation?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(r.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&"left"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&"top"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&"bottom"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var o=this.getTitleLocation();return"left"===o||"top"===o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"errorLocation",{get:function(){return this.survey?this.survey.questionErrorLocation:"top"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),r.prototype.getDefaultTitleValue=function(){return this.name},r.prototype.getDefaultTitleTagName=function(){return f.settings.titleTags.question},Object.defineProperty(r.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(o){this.setPropertyValue("descriptionLocation",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasDescriptionUnderTitle",{get:function(){return"underTitle"==this.getDescriptionLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasDescriptionUnderInput",{get:function(){return"underInput"==this.getDescriptionLocation()},enumerable:!1,configurable:!0}),r.prototype.getDescriptionLocation=function(){return"default"!==this.descriptionLocation?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},r.prototype.needClickTitleFunction=function(){return s.prototype.needClickTitleFunction.call(this)||this.hasInput},r.prototype.processTitleClick=function(){var o=this;if(s.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){o.focus()},1),!0},Object.defineProperty(r.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(o){this.setLocalizableStringText("requiredErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(o){this.setLocalizableStringText("commentText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(o){this.commentPlaceholder=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"commentOrOtherPlaceholder",{get:function(){return this.otherPlaceholder||this.commentPlaceholder},enumerable:!1,configurable:!0}),r.prototype.getAllErrors=function(){return this.errors.slice()},r.prototype.getErrorByType=function(o){for(var S=0;S<this.errors.length;S++)if(this.errors[S].getErrorType()===o)return this.errors[S];return null},Object.defineProperty(r.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),r.prototype.updateCustomWidget=function(){this.customWidgetValue=i.CustomWidgetCollection.Instance.getCustomWidget(this)},r.prototype.localeChanged=function(){s.prototype.localeChanged.call(this),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(r.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.updateCommentElement=function(){this.commentElement&&this.autoGrowComment&&Object(m.increaseHeightByContent)(this.commentElement)},r.prototype.onCommentInput=function(o){this.isInputTextUpdate?o.target&&(this.comment=o.target.value):this.updateCommentElement()},r.prototype.onCommentChange=function(o){this.comment=o.target.value,this.comment!==o.target.value&&(o.target.value=this.comment)},r.prototype.afterRenderQuestionElement=function(o){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,o)},r.prototype.afterRender=function(o){!this.survey||(this.survey.afterRenderQuestion(this,o),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,o),(this.supportComment()||this.supportOther())&&(this.commentElement=document.getElementById(this.id)&&document.getElementById(this.id).querySelector("textarea")||null,this.updateCommentElement()),this.checkForResponsiveness(o))},r.prototype.beforeDestroyQuestionElement=function(o){this.commentElement=void 0},Object.defineProperty(r.prototype,"processedTitle",{get:function(){return this.locProcessedTitle.textOrHtml||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(o){this.startWithNewLine!=o&&this.setPropertyValue("startWithNewLine",o)},enumerable:!1,configurable:!0}),r.prototype.calcCssClasses=function(o){var S={error:{}};return this.copyCssClasses(S,o.question),this.copyCssClasses(S.error,o.error),this.updateCssClasses(S,o),this.survey&&this.survey.updateQuestionCssClasses(this,S),S},Object.defineProperty(r.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),r.prototype.setCssRoot=function(o){this.setPropertyValue("cssRoot",o)},r.prototype.getCssRoot=function(o){return(new l.CssClassBuilder).append(this.isFlowLayout&&!this.isDesignMode?o.flowRoot:o.mainRoot).append(o.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(o.hasError,this.errors.length>0).append(o.small,!this.width).append(o.answered,this.isAnswered).append(o.expanded,!!this.isExpanded).append(o.collapsed,!!this.isCollapsed).append(o.withFrame,this.hasFrameV2).append(o.nested,(this.hasParent||!this.isSingleInRow)&&this.isDefaultV2Theme).toString()},Object.defineProperty(r.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),r.prototype.setCssHeader=function(o){this.setPropertyValue("cssHeader",o)},r.prototype.getCssHeader=function(o){return(new l.CssClassBuilder).append(o.header).append(o.headerTop,this.hasTitleOnTop).append(o.headerLeft,this.hasTitleOnLeft).append(o.headerBottom,this.hasTitleOnBottom).toString()},Object.defineProperty(r.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),r.prototype.setCssContent=function(o){this.setPropertyValue("cssContent",o)},r.prototype.getCssContent=function(o){return(new l.CssClassBuilder).append(o.content).append(o.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(r.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),r.prototype.setCssTitle=function(o){this.setPropertyValue("cssTitle",o)},r.prototype.getCssTitle=function(o){return(new l.CssClassBuilder).append(o.title).append(o.titleExpandable,"default"!==this.state).append(o.titleExpanded,this.isExpanded).append(o.titleCollapsed,this.isCollapsed).append(o.titleDisabled,this.isReadOnly).append(o.titleOnError,this.containsErrors).append(o.titleOnAnswer,!this.containsErrors&&this.isAnswered).toString()},Object.defineProperty(r.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.cssClasses.description},enumerable:!1,configurable:!0}),r.prototype.setCssDescription=function(o){this.setPropertyValue("cssDescription","")},r.prototype.getCssDescription=function(o){return(new l.CssClassBuilder).append(this.cssClasses.descriptionUnderInput,this.hasDescriptionUnderInput).append(this.cssClasses.description,this.hasDescriptionUnderTitle).toString()},r.prototype.getIsErrorsModeTooltip=function(){return s.prototype.getIsErrorsModeTooltip.call(this)&&!this.customWidget},r.prototype.showErrorOnCore=function(o){return!this.isErrorsModeTooltip&&!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.errorLocation===o},Object.defineProperty(r.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),r.prototype.getIsTooltipErrorSupportedByParent=function(){return this.parentQuestion?this.parentQuestion.getIsTooltipErrorInsideSupported():s.prototype.getIsTooltipErrorSupportedByParent.call(this)},Object.defineProperty(r.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme&&!(this.hasParent&&this.getIsTooltipErrorSupportedByParent())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"top"===this.errorLocation},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"bottom"===this.errorLocation},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),r.prototype.setCssError=function(o){this.setPropertyValue("cssError",o)},r.prototype.getCssError=function(o){return(new l.CssClassBuilder).append(o.error.root).append(o.error.outsideQuestion,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(o.error.belowQuestion,this.showErrorsBelowQuestion).append(o.error.aboveQuestion,this.showErrorsAboveQuestion).append(o.error.tooltip,this.isErrorsModeTooltip).append(o.error.locationTop,this.showErrorOnTop).append(o.error.locationBottom,this.showErrorOnBottom).toString()},r.prototype.getRootCss=function(){return(new l.CssClassBuilder).append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},r.prototype.updateElementCss=function(o){s.prototype.updateElementCss.call(this,o),o&&this.updateQuestionCss(!0),this.onIndentChanged()},r.prototype.updateQuestionCss=function(o){this.isLoadingFromJson||!this.survey||!0!==o&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},r.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},r.prototype.updateElementCssCore=function(o){this.setCssRoot(this.getCssRoot(o)),this.setCssHeader(this.getCssHeader(o)),this.setCssContent(this.getCssContent(o)),this.setCssTitle(this.getCssTitle(o)),this.setCssDescription(this.getCssDescription(o)),this.setCssError(this.getCssError(o))},r.prototype.updateCssClasses=function(o,S){if(S.question){var I=S[this.getCssType()],x=(new l.CssClassBuilder).append(o.title).append(S.question.titleRequired,this.isRequired);o.title=x.toString();var P=(new l.CssClassBuilder).append(o.root).append(I,this.isRequired&&!!S.question.required);if(null==I)o.root=P.toString();else if("string"==typeof I||I instanceof String)o.root=P.append(I.toString()).toString();else for(var g in o.root=P.toString(),I)o[g]=I[g]}},r.prototype.getCssType=function(){return this.getType()},Object.defineProperty(r.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),r.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},r.prototype.getIndentSize=function(o){return o<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":o*this.cssClasses.indent+"px"},r.prototype.focus=function(o){if(void 0===o&&(o=!1),!this.isDesignMode){this.survey&&(this.expandAllPanels(this.parent),this.survey.scrollElementToTop(this,this,null,this.id));var S=o?this.getFirstErrorInputElementId():this.getFirstInputElementId();T.SurveyElement.FocusElement(S)&&this.fireCallback(this.focusCallback)}},r.prototype.expandAllPanels=function(o){o&&o.parent&&(o.isCollapsed&&o.expand(),this.expandAllPanels(o.parent))},r.prototype.fireCallback=function(o){o&&o()},r.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},r.prototype.onCreating=function(){},r.prototype.getFirstQuestionToFocus=function(o){return this.hasInput&&(!o||this.currentErrorCount>0)?this:null},r.prototype.getFirstInputElementId=function(){return this.inputId},r.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},r.prototype.getProcessedTextValue=function(o){var S=o.name.toLocaleLowerCase();o.isExists=-1!==Object.keys(r.TextPreprocessorValuesMap).indexOf(S)||void 0!==this[o.name],o.value=this[r.TextPreprocessorValuesMap[S]||o.name]},r.prototype.supportComment=function(){return!1},r.prototype.supportOther=function(){return!1},Object.defineProperty(r.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(o){this.setPropertyValue("isRequired",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(o){this.setPropertyValue("requiredIf",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(o){!this.supportComment()||(this.setPropertyValue("showCommentArea",o),this.showCommentArea&&(this.hasOther=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(o){this.showCommentArea=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(o){this.setPropertyValue("id",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(o){!this.supportOther()||this.showOtherItem==o||(this.setPropertyValue("showOtherItem",o),this.showOtherItem&&(this.hasComment=!1),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(o){this.showOtherItem=o},enumerable:!1,configurable:!0}),r.prototype.hasOtherChanged=function(){},Object.defineProperty(r.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode||!!this.parentQuestion&&this.parentQuestion.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isInputReadOnly",{get:function(){return this.isReadOnly||f.settings.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),r.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),s.prototype.onReadOnlyChanged.call(this)},Object.defineProperty(r.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(o){this.setPropertyValue("enableIf",o)},enumerable:!1,configurable:!0}),r.prototype.surveyChoiceItemVisibilityChange=function(){},r.prototype.runCondition=function(o,S){this.isDesignMode||(S||(S={}),S.question=this,this.runConditionCore(o,S),this.isValueChangedDirectly||(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,o,S)))},Object.defineProperty(r.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),r.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var o=n.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(o=this.survey.getUpdatedQuestionNo(this,o)),o},r.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},r.prototype.onSurveyLoad=function(){this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey()},r.prototype.onSetData=function(){s.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},r.prototype.initDataFromSurvey=function(){if(this.data){var o=this.data.getValue(this.getValueName());(!n.Helpers.isValueEmpty(o)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(o),this.initCommentFromSurvey()}},r.prototype.initCommentFromSurvey=function(){this.updateCommentFromSurvey(this.data&&this.requireUpdateCommentValue?this.data.getComment(this.getValueName()):"")},r.prototype.runExpression=function(o){if(this.survey&&o)return this.survey.runExpression(o)},Object.defineProperty(r.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"questionValue",{get:function(){return this.getPropertyValue("value")},set:function(o){this.setPropertyValue("value",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"questionComment",{get:function(){return this.getPropertyValue("comment")},set:function(o){this.setPropertyValue("comment",o),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValueCore()},set:function(o){this.setNewValue(o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),r.prototype.clearValue=function(){void 0!==this.value&&(this.value=void 0),this.comment&&(this.comment=void 0)},r.prototype.unbindValue=function(){this.clearValue()},r.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},r.prototype.getUnbindValue=function(o){return this.isValueSurveyElement(o)?o:n.Helpers.getUnbindValue(o)},r.prototype.isValueSurveyElement=function(o){return!!o&&(Array.isArray(o)?o.length>0&&this.isValueSurveyElement(o[0]):!!o.getType&&!!o.onPropertyChanged)},r.prototype.canClearValueAsInvisible=function(){return!(this.isVisible&&this.isParentVisible||this.page&&this.page.isStarted||this.survey&&this.valueName&&this.survey.hasVisibleQuestionByValueName(this.valueName))},Object.defineProperty(r.prototype,"isParentVisible",{get:function(){for(var o=this.parent;o;){if(!o.isVisible)return!1;o=o.parent}return!0},enumerable:!1,configurable:!0}),r.prototype.clearValueIfInvisible=function(o){void 0===o&&(o="onHidden"),"none"!==this.clearIfInvisible&&("onHidden"===o&&"onComplete"===this.clearIfInvisible||"none"===o&&("default"===this.clearIfInvisible||"none"===this.clearIfInvisible)||this.clearValueIfInvisibleCore())},r.prototype.clearValueIfInvisibleCore=function(){this.canClearValueAsInvisible()&&this.clearValue()},Object.defineProperty(r.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(o){this.setPropertyValue("clearIfInvisible",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),r.prototype.getDisplayValue=function(o,S){void 0===S&&(S=void 0);var I=this.calcDisplayValue(o,S);return this.displayValueCallback?this.displayValueCallback(I):I},r.prototype.calcDisplayValue=function(o,S){if(void 0===S&&(S=void 0),this.customWidget){var I=this.customWidget.getDisplayValue(this,S);if(I)return I}return S=S??this.createValueCopy(),this.isValueEmpty(S)?this.getDisplayValueEmpty():this.getDisplayValueCore(o,S)},r.prototype.getDisplayValueCore=function(o,S){return S},r.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(r.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(o){this.isValueExpression(o)?this.defaultValueExpression=o.substring(1):(this.setPropertyValue("defaultValue",this.convertDefaultValue(o)),this.updateValueWithDefaults())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(o){this.setPropertyValue("defaultValueExpression",o),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizeStyle",{get:function(){return this.autoGrowComment?"none":"both"},enumerable:!1,configurable:!0}),r.prototype.getPlainData=function(o){var S=this;if(o||(o={includeEmpty:!0,includeQuestionTypes:!1}),o.includeEmpty||!this.isEmpty()){var I={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(x){return"object"==typeof x?JSON.stringify(x):x}};return!0===o.includeQuestionTypes&&(I.questionType=this.getType()),(o.calculations||[]).forEach(function(x){I[x.propertyName]=S[x.propertyName]}),this.hasComment&&(I.isNode=!0,I.data=[{name:0,isComment:!0,title:"Comment",value:f.settings.commentPrefix,displayValue:this.comment,getString:function(x){return"object"==typeof x?JSON.stringify(x):x},isNode:!1}]),I}},Object.defineProperty(r.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(o){this.setPropertyValue("correctAnswer",this.convertDefaultValue(o))},enumerable:!1,configurable:!0}),r.prototype.convertDefaultValue=function(o){return o},Object.defineProperty(r.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"correctAnswerCount",{get:function(){return this.isEmpty()||this.isValueEmpty(this.correctAnswer)?0:this.getCorrectAnswerCount()},enumerable:!1,configurable:!0}),r.prototype.getQuizQuestionCount=function(){return 1},r.prototype.getCorrectAnswerCount=function(){return this.isTwoValueEquals(this.value,this.correctAnswer,!f.settings.comparator.caseSensitive,!0)?1:0},r.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},r.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(r.prototype,"isClearValueOnHidden",{get:function(){return"none"!==this.clearIfInvisible&&"onComplete"!==this.clearIfInvisible&&("onHidden"===this.clearIfInvisible||!!this.survey&&this.survey.isClearValueOnHidden)},enumerable:!1,configurable:!0}),r.prototype.getQuestionFromArray=function(o,S){return null},r.prototype.getDefaultValue=function(){return this.defaultValue},r.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue)},r.prototype.getDefaultRunner=function(o,S){return!o&&!!S&&(o=new E.ExpressionRunner(S)),o&&(o.expression=S),o},r.prototype.setDefaultValue=function(){var o=this;this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(S){o.value=S})},r.prototype.isValueExpression=function(o){return!!o&&"string"==typeof o&&o.length>0&&"="==o[0]},r.prototype.setValueAndRunExpression=function(o,S,I,x,P){var g=this;void 0===x&&(x=null),void 0===P&&(P=null);var u=function(M){g.runExpressionSetValue(M,I)};this.runDefaultValueExpression(o,x,P,u)||u(S)},r.prototype.runExpressionSetValue=function(o,S){S(n.Helpers.convertValToQuestionVal(o))},r.prototype.runDefaultValueExpression=function(o,S,I,x){var P=this;return void 0===S&&(S=null),void 0===I&&(I=null),!(!o||!this.data||(x||(x=function(g){P.runExpressionSetValue(g,function(u){P.value=u})}),S||(S=this.data.getFilteredValues()),I||(I=this.data.getFilteredProperties()),!!o&&o.canRun&&(o.onRunComplete=function(g){null==g&&(g=P.defaultValue),P.isChangingViaDefaultValue=!0,x(g),P.isChangingViaDefaultValue=!1},o.run(S,I)),0))},Object.defineProperty(r.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(o){if(o){var S=o.toString().trim();S!==o&&(o=S)===this.comment&&this.setPropertyValueDirectly("comment",o)}this.comment!=o&&(this.setQuestionComment(o),this.updateCommentElement())},enumerable:!1,configurable:!0}),r.prototype.getQuestionComment=function(){return this.questionComment},r.prototype.setQuestionComment=function(o){this.setNewComment(o)},r.prototype.isEmpty=function(){return this.isValueEmpty(this.value)},Object.defineProperty(r.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(o){this.setPropertyValue("isAnswered",o)},enumerable:!1,configurable:!0}),r.prototype.updateIsAnswered=function(){var o=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),o!==this.isAnswered&&this.updateQuestionCss()},r.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(r.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(o){this.setPropertyValue("validators",o)},enumerable:!1,configurable:!0}),r.prototype.getValidators=function(){return this.validators},r.prototype.getSupportedValidators=function(){for(var o=[],S=this.getType();S;){var I=f.settings.supportedValidators[S];if(I)for(var x=I.length-1;x>=0;x--)o.splice(0,0,I[x]);S=y.Serializer.findClass(S).parentName}return o},r.prototype.addSupportedValidators=function(o,S){},r.prototype.addConditionObjectsByContext=function(o,S){o.push({name:this.getValueName(),text:this.processedTitle,question:this})},r.prototype.getConditionJson=function(o,S){void 0===o&&(o=null),void 0===S&&(S=null);var I=(new y.JsonObject).toJsonObject(this);return I.type=this.getType(),I},r.prototype.hasErrors=function(o,S){void 0===o&&(o=!0),void 0===S&&(S=null);var I=this.errors.length>0,x=this.checkForErrors(!!S&&!0===S.isOnValueChanged);return o&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,x),this.errors=x),this.updateContainsErrors(),I!=x.length>0&&this.updateQuestionCss(),this.isCollapsed&&S&&o&&x.length>0&&this.expand(),x.length>0},Object.defineProperty(r.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),r.prototype.addError=function(o){if(o){var S;S="string"==typeof o||o instanceof String?new v.CustomError(o,this.survey):o,this.errors.push(S)}},r.prototype.removeError=function(o){var S=this.errors,I=S.indexOf(o);-1!==I&&S.splice(I,1)},r.prototype.checkForErrors=function(o){var S=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(S,o),S},r.prototype.canCollectErrors=function(){return!this.isReadOnly},r.prototype.collectErrors=function(o,S){if(this.onCheckForErrors(o,S),!(o.length>0)&&this.canRunValidators(S)){var I=this.runValidators();if(I.length>0){o.length=0;for(var x=0;x<I.length;x++)o.push(I[x])}if(this.survey&&0==o.length){var P=this.fireSurveyValidation();P&&o.push(P)}}},r.prototype.canRunValidators=function(o){return!0},r.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},r.prototype.onCheckForErrors=function(o,S){var I=this;if(!S&&this.hasRequiredError()){var x=new v.AnswerRequiredError(this.requiredErrorText,this);x.onUpdateErrorTextCallback=function(P){P.text=I.requiredErrorText},o.push(x)}},r.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(r.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),r.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},r.prototype.runValidators=function(){var o=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new O.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(S){o.doOnAsyncCompleted(S)},this.validatorRunner.run(this)},r.prototype.doOnAsyncCompleted=function(o){for(var S=0;S<o.length;S++)this.errors.push(o[S]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},r.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},r.prototype.setNewValue=function(o){var S=this.isAnswered;this.setNewValueInData(o),this.allowNotifyValueChanged&&this.onValueChanged(),this.isAnswered!=S&&this.updateQuestionCss()},r.prototype.isTextValue=function(){return!1},Object.defineProperty(r.prototype,"isSurveyInputTextUpdate",{get:function(){return!!this.survey&&this.survey.isUpdateValueTextOnTyping},enumerable:!1,configurable:!0}),r.prototype.getDataLocNotification=function(){return!!this.isInputTextUpdate&&"text"},Object.defineProperty(r.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),r.prototype.setNewValueInData=function(o){o=this.valueToData(o),this.isValueChangedInSurvey||this.setValueCore(o)},r.prototype.getValueCore=function(){return this.questionValue},r.prototype.setValueCore=function(o){this.setQuestionValue(o),null!=this.data&&this.canSetValueToSurvey()&&(o=this.valueForSurvey,this.data.setValue(this.getValueName(),o,this.getDataLocNotification(),this.allowNotifyValueChanged))},r.prototype.canSetValueToSurvey=function(){return!0},r.prototype.valueFromData=function(o){return o},r.prototype.valueToData=function(o){return o},r.prototype.onValueChanged=function(){},r.prototype.setNewComment=function(o){this.questionComment!==o&&(this.questionComment=o,null!=this.data&&this.data.setComment(this.getValueName(),o,!!this.isSurveyInputTextUpdate&&"text"))},r.prototype.getValidName=function(o){return o&&o.trim().replace(/[\{\}]+/g,"")},r.prototype.updateValueFromSurvey=function(o){o=this.getUnbindValue(o),this.valueFromDataCallback&&(o=this.valueFromDataCallback(o)),this.setQuestionValue(this.valueFromData(o)),this.updateIsAnswered()},r.prototype.updateCommentFromSurvey=function(o){this.questionComment=o},r.prototype.onChangeQuestionValue=function(o){},r.prototype.setValueChangedDirectly=function(){this.isValueChangedDirectly=!0},r.prototype.setQuestionValue=function(o,S){void 0===S&&(S=!0);var I=this.isTwoValueEquals(this.questionValue,o);!I&&!this.isChangingViaDefaultValue&&this.setValueChangedDirectly(),this.questionValue=o,I||this.onChangeQuestionValue(o),!I&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),S&&this.updateIsAnswered()},r.prototype.onSurveyValueChanged=function(o){},r.prototype.setVisibleIndex=function(o){return(!this.isVisible||!this.hasTitle&&!f.settings.setQuestionVisibleIndexForHiddenTitle||this.hideNumber&&!f.settings.setQuestionVisibleIndexForHiddenNumber)&&(o=-1),this.setPropertyValue("visibleIndex",o),this.setPropertyValue("no",this.calcNo()),o<0?0:1},r.prototype.removeElement=function(o){return!1},r.prototype.supportGoNextPageAutomatic=function(){return!1},r.prototype.supportGoNextPageError=function(){return!0},r.prototype.clearIncorrectValues=function(){},r.prototype.clearOnDeletingContainer=function(){},r.prototype.clearErrors=function(){this.errors=[]},r.prototype.clearUnusedValues=function(){},r.prototype.onAnyValueChanged=function(o){},r.prototype.checkBindings=function(o,S){if(!this.bindings.isEmpty()&&this.data)for(var I=this.bindings.getPropertiesByValueName(o),x=0;x<I.length;x++){var P=I[x];this.isValueEmpty(S)&&n.Helpers.isNumber(this[P])&&(S=0),this[P]=S}},r.prototype.getComponentName=function(){return _.RendererFactory.Instance.getRendererByQuestion(this)},r.prototype.isDefaultRendering=function(){return!!this.customWidget||"default"===this.renderAs||"default"===this.getComponentName()},r.prototype.getErrorCustomText=function(o,S){return this.survey?this.survey.getSurveyErrorCustomText(this,o,S):o},r.prototype.getValidatorTitle=function(){return null},Object.defineProperty(r.prototype,"validatedValue",{get:function(){return this.value},set:function(o){this.value=o},enumerable:!1,configurable:!0}),r.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},r.prototype.transformToMobileView=function(){},r.prototype.transformToDesktopView=function(){},r.prototype.needResponsiveWidth=function(){return!1},r.prototype.supportResponsiveness=function(){return!1},r.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},r.prototype.checkForResponsiveness=function(o){var S=this;this.needResponsiveness()&&(this.isCollapsed?this.registerPropertyChangedHandlers(["state"],function(){S.isExpanded&&(S.initResponsiveness(o),S.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))},"for-responsiveness"):this.initResponsiveness(o))},r.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},r.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},r.prototype.initResponsiveness=function(o){var S=this;if(this.destroyResizeObserver(),o&&this.isDefaultRendering()){var I=this.getObservedElementSelector();if(!I)return;if(!o.querySelector(I))return;var P=!1,g=void 0;this.resizeObserver=new ResizeObserver(function(){var u=o.querySelector(I);!g&&S.isDefaultRendering()&&(g=u.scrollWidth),P=!(P||!Object(m.isContainerVisible)(u))&&S.processResponsiveness(g,Object(m.getElementWidth)(u))}),this.onMobileChangedCallback=function(){setTimeout(function(){var u=o.querySelector(I);S.processResponsiveness(g,Object(m.getElementWidth)(u))},0)},this.resizeObserver.observe(o)}},r.prototype.getCompactRenderAs=function(){return"default"},r.prototype.getDesktopRenderAs=function(){return"default"},r.prototype.processResponsiveness=function(o,S){if(S=Math.round(S),Math.abs(o-S)>2){var I=this.renderAs;return this.renderAs=o>S?this.getCompactRenderAs():this.getDesktopRenderAs(),I!==this.renderAs}return!1},r.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.renderAs=this.getDesktopRenderAs())},r.prototype.dispose=function(){s.prototype.dispose.call(this),this.destroyResizeObserver()},r.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},r.questionCounter=100,d([Object(y.property)({defaultValue:!1})],r.prototype,"isMobile",void 0),d([Object(y.property)({localizable:!0})],r.prototype,"commentPlaceholder",void 0),d([Object(y.property)({defaultValue:"default"})],r.prototype,"renderAs",void 0),r}(T.SurveyElement);function a(s){return s&&s[0]===f.settings.expressionDisableConversionChar?s.substring(1):s}y.Serializer.addClass("question",[{name:"!name",onSettingValue:function(s,r){return a(r)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",default:f.settings.minWidth},{name:"maxWidth",default:f.settings.maxWidth},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(s){var r=s?s.survey:null;return!r||!r.pages||r.pages.length>1},choices:function(s){var r=s?s.survey:null;return r?r.pages.map(function(o){return{value:o.name,text:o.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(s,r){s&&r&&(r.placeholder=s.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(s){if(!s)return!0;if("hidden"===s.titleLocation)return!1;var r=s?s.parent:null;if(r&&"off"===r.showQuestionNumbers)return!1;var S=s?s.survey:null;return!S||"off"!==S.showQuestionNumbers||!!r&&"onpanel"===r.showQuestionNumbers}},{name:"valueName",onSettingValue:function(s,r){return a(r)}},"enableIf:condition","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden"]},"isRequired:switch","requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:switch",{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(s){return s.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment"}]),y.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionCustomWidget",function(){return y}),e.d(t,"CustomWidgetCollection",function(){return T});var n=e("./src/base.ts"),y=function(){function v(O,C){this.name=O,this.widgetJson=C,this.htmlTemplate=C.htmlTemplate?C.htmlTemplate:""}return v.prototype.afterRender=function(O,C){var E=this;!this.widgetJson.afterRender||(O.localeChangedCallback=function(){E.widgetJson.willUnmount&&E.widgetJson.willUnmount(O,C),E.widgetJson.afterRender(O,C)},this.widgetJson.afterRender(O,C))},v.prototype.willUnmount=function(O,C){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(O,C)},v.prototype.getDisplayValue=function(O,C){return void 0===C&&(C=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(O,C):null},v.prototype.isFit=function(O){return!(!this.isLibraryLoaded()||!this.widgetJson.isFit)&&this.widgetJson.isFit(O)},Object.defineProperty(v.prototype,"canShowInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox&&"customtype"==T.Instance.getActivatedBy(this.name)&&(!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded())},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox},set:function(O){this.widgetJson.showInToolbox=O},enumerable:!1,configurable:!0}),v.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},v.prototype.activatedByChanged=function(O){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(O)},v.prototype.isLibraryLoaded=function(){return!this.widgetJson.widgetIsLoaded||1==this.widgetJson.widgetIsLoaded()},Object.defineProperty(v.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),v}(),T=function(){function v(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new n.Event}return Object.defineProperty(v.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),v.prototype.add=function(O,C){void 0===C&&(C="property"),this.addCustomWidget(O,C)},v.prototype.addCustomWidget=function(O,C){void 0===C&&(C="property");var E=O.name;E||(E="widget_"+this.widgets.length+1);var i=new y(E,O);return this.widgetsValues.push(i),i.init(),this.widgetsActivatedBy[E]=C,i.activatedByChanged(C),this.onCustomWidgetAdded.fire(i,null),i},v.prototype.getActivatedBy=function(O){return this.widgetsActivatedBy[O]||"property"},v.prototype.setActivatedBy=function(O,C){if(O&&C){var E=this.getCustomWidgetByName(O);!E||(this.widgetsActivatedBy[O]=C,E.activatedByChanged(C))}},v.prototype.clear=function(){this.widgetsValues=[]},v.prototype.getCustomWidgetByName=function(O){for(var C=0;C<this.widgets.length;C++)if(this.widgets[C].name==O)return this.widgets[C];return null},v.prototype.getCustomWidget=function(O){for(var C=0;C<this.widgetsValues.length;C++)if(this.widgetsValues[C].isFit(O))return this.widgetsValues[C];return null},v.Instance=new v,v}()},"./src/question_baseselect.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionSelectBase",function(){return c}),e.d(t,"QuestionCheckboxBase",function(){return a});var s,n=e("./src/jsonobject.ts"),y=e("./src/survey.ts"),T=e("./src/question.ts"),v=e("./src/itemvalue.ts"),O=e("./src/surveyStrings.ts"),C=e("./src/error.ts"),E=e("./src/choicesRestful.ts"),i=e("./src/conditions.ts"),f=e("./src/helpers.ts"),_=e("./src/settings.ts"),l=e("./src/utils/cssClassBuilder.ts"),m=e("./src/utils/utils.ts"),h=(s=function(r,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var x in I)Object.prototype.hasOwnProperty.call(I,x)&&(S[x]=I[x])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function S(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(S.prototype=o.prototype,new S)}),d=function(s,r,o,S){var P,I=arguments.length,x=I<3?r:null===S?S=Object.getOwnPropertyDescriptor(r,o):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(s,r,o,S);else for(var g=s.length-1;g>=0;g--)(P=s[g])&&(x=(I<3?P(x):I>3?P(r,o,x):P(r,o))||x);return I>3&&x&&Object.defineProperty(r,o,x),x},c=function(s){function r(o){var S=s.call(this,o)||this;S.otherItemValue=new v.ItemValue("other"),S.dependedQuestions=[],S.noneItemValue=new v.ItemValue("none"),S.isSettingDefaultValue=!1,S.isSettingComment=!1,S.isRunningChoices=!1,S.isFirstLoadChoicesFromUrl=!0,S.isUpdatingChoicesDependedQuestions=!1,S.prevIsOtherSelected=!1;var I=S.createLocalizableString("noneText",S.noneItemValue,!0,"noneItemText");S.noneItemValue.locOwner=S,S.noneItemValue.setLocText(I),S.createItemValues("choices"),S.registerPropertyChangedHandlers(["choices"],function(){S.filterItems()||S.onVisibleChoicesChanged()}),S.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","showNoneItem"],function(){S.onVisibleChoicesChanged()}),S.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){S.updateVisibilityBasedOnChoices()}),S.createNewArray("visibleChoices"),S.setNewRestfulProperty();var x=S.createLocalizableString("otherText",S.otherItemValue,!0,"otherItemText");return S.createLocalizableString("otherErrorText",S,!0,"otherRequiredError"),S.otherItemValue.locOwner=S,S.otherItemValue.setLocText(x),S.choicesByUrl.createItemValue=function(P){return S.createItemValue(P)},S.choicesByUrl.beforeSendRequestCallback=function(){S.onBeforeSendRequest()},S.choicesByUrl.getResultCallback=function(P){S.onLoadChoicesFromUrl(P)},S.choicesByUrl.updateResultCallback=function(P,g){return S.survey?S.survey.updateChoicesFromServer(S,P,g):P},S}return h(r,s),r.prototype.getType=function(){return"selectbase"},r.prototype.dispose=function(){s.prototype.dispose.call(this);for(var o=0;o<this.dependedQuestions.length;o++)this.dependedQuestions[o].choicesFromQuestion="";this.removeFromDependedQuestion(this.getQuestionWithChoices())},r.prototype.getItemValueType=function(){return"itemvalue"},r.prototype.createItemValue=function(o){return n.Serializer.createClass(this.getItemValueType(),o)},r.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.comment},r.prototype.isLayoutTypeSupported=function(o){return!0},r.prototype.localeChanged=function(){s.prototype.localeChanged.call(this),"none"!==this.choicesOrder&&this.updateVisibleChoices()},r.prototype.locStrsChanged=function(){s.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(v.ItemValue.locStrsChanged(this.choicesFromUrl),v.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(r.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNoneSelected",{get:function(){return this.hasNone&&this.selectedItem===this.noneItem},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem",!1)},set:function(o){this.setPropertyValue("showNoneItem",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(o){this.showNoneItem=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(o){this.setLocalizableStringText("noneText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(o){this.setPropertyValue("choicesVisibleIf",o),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(o){this.setPropertyValue("choicesEnableIf",o),this.filterItems()},enumerable:!1,configurable:!0}),r.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},r.prototype.runCondition=function(o,S){s.prototype.runCondition.call(this,o,S),this.runItemsEnableCondition(o,S),this.runItemsCondition(o,S)},r.prototype.isTextValue=function(){return!0},r.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevCommentValue=void 0,s.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},r.prototype.getIsMultipleValue=function(){return!1},r.prototype.convertDefaultValue=function(o){if(null==o||null==o)return o;if(this.getIsMultipleValue()){if(!Array.isArray(o))return[o]}else if(Array.isArray(o)&&o.length>0)return o[0];return o},r.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var o=this.getDataFilteredValues(),S=this.getDataFilteredProperties();return this.runItemsEnableCondition(o,S),this.runItemsCondition(o,S)},r.prototype.runItemsCondition=function(o,S){this.setConditionalChoicesRunner();var I=this.runConditionsForItems(o,S);return!!this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),I&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),I},r.prototype.runItemsEnableCondition=function(o,S){var I=this;this.setConditionalEnableChoicesRunner(),v.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,o,S,function(P,g){return g&&I.onEnableItemCallBack(P)})&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},r.prototype.onAfterRunItemsEnableCondition=function(){},r.prototype.onEnableItemCallBack=function(o){return!0},r.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new i.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},r.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new i.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},r.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},r.prototype.changeItemVisisbility=function(){var o=this;return this.canSurveyChangeItemVisibility()?function(S,I){return o.survey.getChoiceItemVisibility(o,S,I)}:null},r.prototype.runConditionsForItems=function(o,S){this.filteredChoicesValue=[];var I=this.changeItemVisisbility();return v.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,o,S,!this.survey||!this.survey.areInvisibleElementsShowing,function(x,P){return I?I(x,P):P})},r.prototype.getHasOther=function(o){return o===this.otherItem.value},Object.defineProperty(r.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),r.prototype.createRestful=function(){return new E.ChoicesRestful},r.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(r.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(o){this.setPropertyValue("autoOtherMode",o)},enumerable:!1,configurable:!0}),r.prototype.getQuestionComment=function(){return this.commentValue?this.commentValue:this.hasComment||this.getStoreOthersAsComment()?s.prototype.getQuestionComment.call(this):this.commentValue},r.prototype.selectOtherValueFromComment=function(o){this.value=o?this.otherItem.value:void 0},r.prototype.setQuestionComment=function(o){if(this.autoOtherMode){this.prevCommentValue=void 0;var S=this.isOtherSelected;(!S&&o||S&&!o)&&this.selectOtherValueFromComment(!!o)}this.hasComment||this.getStoreOthersAsComment()?s.prototype.setQuestionComment.call(this,o):!this.isSettingComment&&o!=this.commentValue&&(this.isSettingComment=!0,this.commentValue=o,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1),this.updateChoicesDependedQuestions()},r.prototype.clearValue=function(){s.prototype.clearValue.call(this),this.prevCommentValue=void 0},r.prototype.updateCommentFromSurvey=function(o){s.prototype.updateCommentFromSurvey.call(this,o),this.prevCommentValue=void 0},Object.defineProperty(r.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(S){this.setPropertyValue("renderedValue",S),S=this.rendredValueToData(S),this.isTwoValueEquals(S,this.value)||(this.value=S)},enumerable:!1,configurable:!0}),r.prototype.setQuestionValue=function(o,S,I){if(void 0===S&&(S=!0),void 0===I&&(I=!0),!this.isLoadingFromJson&&!this.isTwoValueEquals(this.value,o)&&(s.prototype.setQuestionValue.call(this,o,S),this.setPropertyValue("renderedValue",this.rendredValueFromData(o)),!this.hasComment&&I)){var x=this.isOtherSelected;if(x&&this.prevCommentValue){var P=this.prevCommentValue;this.prevCommentValue=void 0,this.comment=P}!x&&this.comment&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevCommentValue=this.comment),this.comment="")}},r.prototype.setNewValue=function(o){this.resetSelectedItemValues(),o=this.valueFromData(o),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(o))&&(this.cachedValueForUrlRequests=o),s.prototype.setNewValue.call(this,o)},r.prototype.valueFromData=function(o){var S=v.ItemValue.getItemByValue(this.activeChoices,o);return S?S.value:s.prototype.valueFromData.call(this,o)},r.prototype.rendredValueFromData=function(o){return this.getStoreOthersAsComment()?o:this.renderedValueFromDataCore(o)},r.prototype.rendredValueToData=function(o){return this.getStoreOthersAsComment()?o:this.rendredValueToDataCore(o)},r.prototype.renderedValueFromDataCore=function(o){return this.hasUnknownValue(o,!0,!1)?(this.comment=o,this.otherItem.value):this.valueFromData(o)},r.prototype.rendredValueToDataCore=function(o){return o==this.otherItem.value&&this.getQuestionComment()&&(o=this.getQuestionComment()),o},r.prototype.updateSelectedItemValues=function(){var o=this;if(this.survey&&!this.isEmpty()&&0===this.choices.length){var S=this.getIsMultipleValue();this.survey.getChoiceDisplayValue({question:this,values:S?this.value:[this.value],setItems:function(I){!I||!I.length||(o.selectedItemValues=S?I.map(function(x,P){return new v.ItemValue(o.value[P],x)}):new v.ItemValue(o.value,I[0]))}})}},r.prototype.resetSelectedItemValues=function(){this.selectedItemValues=null},r.prototype.hasUnknownValue=function(o,S,I,x){if(void 0===S&&(S=!1),void 0===I&&(I=!0),void 0===x&&(x=!1),!x&&this.isValueEmpty(o)||S&&o==this.otherItem.value||this.hasNone&&o==this.noneItem.value)return!1;var P=I?this.getFilteredChoices():this.activeChoices;return null==v.ItemValue.getItemByValue(P,o)},r.prototype.isValueDisabled=function(o){var S=v.ItemValue.getItemByValue(this.getFilteredChoices(),o);return!!S&&!S.isEnabled},Object.defineProperty(r.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(o){!o||(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(o.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(o){this.setPropertyValue("choices",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(o){var S=this.getQuestionWithChoices();S&&S.removeFromDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",o)},enumerable:!1,configurable:!0}),r.prototype.addIntoDependedQuestion=function(o){!o||o.dependedQuestions.indexOf(this)>-1||o.dependedQuestions.push(this)},r.prototype.removeFromDependedQuestion=function(o){if(o){var S=o.dependedQuestions.indexOf(this);S>-1&&o.dependedQuestions.splice(S,1)}},Object.defineProperty(r.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(o){this.setPropertyValue("choicesFromQuestionMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty",!1)},set:function(o){this.setPropertyValue("hideIfChoicesEmpty",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(o){this.setPropertyValue("keepIncorrectValues",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(o){this.setPropertyValue("storeOthersAsComment",o)},enumerable:!1,configurable:!0}),r.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(r.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(o){(o=o.toLowerCase())!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",o),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(o){this.setLocalizableStringText("otherText",o),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(o){this.otherPlaceholder=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(o){this.setLocalizableStringText("otherErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"enabledChoices",{get:function(){for(var o=[],S=this.visibleChoices,I=0;I<S.length;I++)S[I].isEnabled&&o.push(S[I]);return o},enumerable:!1,configurable:!0}),r.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson){var o=new Array,S=this.calcVisibleChoices();S||(S=[]);for(var I=0;I<S.length;I++)o.push(S[I]);this.setPropertyValue("visibleChoices",o)}},r.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var o=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(o,this.isAddDefaultItems),o},r.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.hasNone&&!this.hasOther&&"none"==this.choicesOrder},r.prototype.setCanShowOptionItemCallback=function(o){this.canShowOptionItemCallback=o,o&&this.onVisibleChoicesChanged()},Object.defineProperty(r.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),r.prototype.addToVisibleChoices=function(o,S){S&&(this.newItemValue||(this.newItemValue=new v.ItemValue("newitem")),this.canShowOptionItem(this.newItemValue,S,!1)&&o.push(this.newItemValue)),this.supportNone()&&this.canShowOptionItem(this.noneItem,S,this.hasNone)&&o.push(this.noneItem),this.supportOther()&&this.canShowOptionItem(this.otherItem,S,this.hasOther)&&o.push(this.otherItem)},r.prototype.canShowOptionItem=function(o,S,I){var x=S&&(!this.canShowOptionItemCallback||this.canShowOptionItemCallback(o))||I;return this.canSurveyChangeItemVisibility()?this.changeItemVisisbility()(o,x):x},r.prototype.isItemInList=function(o){return o===this.otherItem?this.hasOther:o===this.noneItem?this.hasNone:o!==this.newItemValue},Object.defineProperty(r.prototype,"isAddDefaultItems",{get:function(){return _.settings.supportCreatorV2&&_.settings.showDefaultItemsInCreatorV2&&this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),r.prototype.getPlainData=function(o){var S=this;void 0===o&&(o={includeEmpty:!0,includeQuestionTypes:!1});var I=s.prototype.getPlainData.call(this,o);if(I){var x=Array.isArray(this.value)?this.value:[this.value];I.isNode=!0,I.data=(I.data||[]).concat(x.map(function(P,g){var u=v.ItemValue.getItemByValue(S.visibleChoices,P),M={name:g,title:"Choice",value:P,displayValue:S.getChoicesDisplayValue(S.visibleChoices,P),getString:function(R){return"object"==typeof R?JSON.stringify(R):R},isNode:!1};return u&&(o.calculations||[]).forEach(function(R){M[R.propertyName]=u[R.propertyName]}),S.isOtherSelected&&S.otherItemValue===u&&(M.isOther=!0,M.displayValue=S.comment),M}))}return I},r.prototype.getDisplayValueCore=function(o,S){return this.getChoicesDisplayValue(this.visibleChoices,S)},r.prototype.getDisplayValueEmpty=function(){return v.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},r.prototype.getChoicesDisplayValue=function(o,S){if(S==this.otherItemValue.value)return this.comment?this.comment:this.locOtherText.textOrHtml;var I=v.ItemValue.getTextOrHtmlByValue(o,S);return""==I&&S?S:I},r.prototype.getDisplayArrayValue=function(o,S,I){for(var x=this.visibleChoices,P=[],g=0;g<S.length;g++){var u=I?I(g):S[g],M=this.getChoicesDisplayValue(x,u);M&&P.push(M)}return P.join(", ")},r.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(r.prototype,"activeChoices",{get:function(){var o=this.getQuestionWithChoices();return o?(this.addIntoDependedQuestion(o),this.getChoicesFromQuestion(o)):this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),r.prototype.getQuestionWithChoices=function(){if(!this.choicesFromQuestion||!this.survey)return null;var o=this.survey.getQuestionByName(this.choicesFromQuestion);return o&&o.visibleChoices&&o!==this?o:null},r.prototype.getChoicesFromQuestion=function(o){for(var S=[],I="selected"==this.choicesFromQuestionMode||"unselected"!=this.choicesFromQuestionMode&&void 0,x=o.visibleChoices,P=0;P<x.length;P++)if(!this.isBuiltInChoice(x[P],o)){if(void 0===I){S.push(x[P]);continue}var g=o.isItemSelected(x[P]);(g&&I||!g&&!I)&&S.push(x[P])}return S},Object.defineProperty(r.prototype,"hasActiveChoices",{get:function(){var o=this.visibleChoices;(!o||0==o.length)&&(this.onVisibleChoicesChanged(),o=this.visibleChoices);for(var S=0;S<o.length;S++)if(!this.isBuiltInChoice(o[S],this))return!0;return!1},enumerable:!1,configurable:!0}),r.prototype.isHeadChoice=function(o,S){return!1},r.prototype.isFootChoice=function(o,S){return o===S.noneItem||o===S.otherItem||o===S.newItemValue},r.prototype.isBuiltInChoice=function(o,S){return this.isHeadChoice(o,S)||this.isFootChoice(o,S)},r.prototype.getChoices=function(){return this.choices},r.prototype.supportComment=function(){return!0},r.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},r.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},r.prototype.isSupportProperty=function(o){return!this.isDesignMode||n.Serializer.findProperty(this.getType(),o).visible},r.prototype.onCheckForErrors=function(o,S){var I=this;if(s.prototype.onCheckForErrors.call(this,o,S),this.hasOther&&this.isOtherSelected&&!this.comment){var x=new C.OtherEmptyError(this.otherErrorText,this);x.onUpdateErrorTextCallback=function(P){P.text=I.otherErrorText},o.push(x)}},r.prototype.setSurveyImpl=function(o,S){s.prototype.setSurveyImpl.call(this,o,S),this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},r.prototype.setSurveyCore=function(o){s.prototype.setSurveyCore.call(this,o),o&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},r.prototype.getStoreOthersAsComment=function(){return!this.isSettingDefaultValue&&(!0===this.storeOthersAsComment||"default"==this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)||!this.choicesByUrl.isEmpty&&!this.choicesFromUrl)},r.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),s.prototype.onSurveyLoad.call(this)},r.prototype.onAnyValueChanged=function(o){s.prototype.onAnyValueChanged.call(this,o),o!=this.getValueName()&&this.runChoicesByUrl(),o&&o==this.choicesFromQuestion&&this.onVisibleChoicesChanged()},r.prototype.updateValueFromSurvey=function(o){var S="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(o)&&!this.getHasOther(o)?(S=this.getCommentFromValue(o),o=this.setOtherValueIntoValue(o)):S=this.data.getComment(this.getValueName())),s.prototype.updateValueFromSurvey.call(this,o),S&&this.setNewComment(S)},r.prototype.getCommentFromValue=function(o){return o},r.prototype.setOtherValueIntoValue=function(o){return this.otherItem.value},r.prototype.runChoicesByUrl=function(){if(this.choicesByUrl&&!this.isLoadingFromJson&&!this.isRunningChoices){var o=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;o||(o=this.survey),o&&(this.isReadyValue=this.isChoicesLoaded||this.choicesByUrl.isEmpty,this.isRunningChoices=!0,this.choicesByUrl.run(o),this.isRunningChoices=!1)}},r.prototype.onBeforeSendRequest=function(){!0===_.settings.disableOnGettingChoicesFromWeb&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},r.prototype.onLoadChoicesFromUrl=function(o){if(this.enableOnLoadingChoices&&(this.readOnly=!1),!this.isReadOnly){var S=[];this.choicesByUrl&&this.choicesByUrl.error&&S.push(this.choicesByUrl.error),this.errors=S}var I=null,x=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,x=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var P=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,x);if(o&&(o.length>0||this.choicesByUrl.allowEmptyResponse)&&(I=new Array,v.ItemValue.setData(I,o)),I)for(var g=0;g<I.length;g++)I[g].locOwner=this;if(this.choicesFromUrl=I,this.filterItems(),this.onVisibleChoicesChanged(),I){var u=this.updateCachedValueForUrlRequests(P,I);if(u&&!this.isReadOnly){var M=!this.isTwoValueEquals(this.value,u.value);try{this.isValueEmpty(u.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=M,M?this.value=u.value:this.setQuestionValue(u.value)}finally{this.allowNotifyValueChanged=!0}}}this.choicesLoaded()},r.prototype.createCachedValueForUrlRequests=function(o,S){if(this.isValueEmpty(o))return null;if(Array.isArray(o)){for(var I=[],x=0;x<o.length;x++)I.push(this.createCachedValueForUrlRequests(o[x],!0));return I}return{value:o,isExists:!S||!this.hasUnknownValue(o)}},r.prototype.updateCachedValueForUrlRequests=function(o,S){if(this.isValueEmpty(o))return null;if(Array.isArray(o)){for(var I=[],x=0;x<o.length;x++){var P=this.updateCachedValueForUrlRequests(o[x],S);if(P&&!this.isValueEmpty(P.value)){var g=P.value;(M=v.ItemValue.getItemByValue(S,P.value))&&(g=M.value),I.push(g)}}return{value:I}}var M,u=o.isExists&&this.hasUnknownValue(o.value)?null:o.value;return(M=v.ItemValue.getItemByValue(S,u))&&(u=M.value),{value:u}},r.prototype.updateChoicesDependedQuestions=function(){if(!this.isUpdatingChoicesDependedQuestions){this.isUpdatingChoicesDependedQuestions=!0;for(var o=0;o<this.dependedQuestions.length;o++)this.dependedQuestions[o].onVisibleChoicesChanged(),this.dependedQuestions[o].updateChoicesDependedQuestions();this.isUpdatingChoicesDependedQuestions=!1}},r.prototype.onSurveyValueChanged=function(o){s.prototype.onSurveyValueChanged.call(this,o),!this.isLoadingFromJson&&this.updateChoicesDependedQuestions()},r.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||(this.updateVisibleChoices(),this.updateVisibilityBasedOnChoices(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},r.prototype.updateVisibilityBasedOnChoices=function(){if(this.hideIfChoicesEmpty){var o=this.getFilteredChoices();this.visible=!o||o.length>0}},r.prototype.sortVisibleChoices=function(o){var S=this.choicesOrder.toLowerCase();return"asc"==S?this.sortArray(o,1):"desc"==S?this.sortArray(o,-1):"random"==S?this.randomizeArray(o):o},r.prototype.sortArray=function(o,S){return o.sort(function(I,x){return I.calculatedText<x.calculatedText?-1*S:I.calculatedText>x.calculatedText?1*S:0})},r.prototype.randomizeArray=function(o){return f.Helpers.randomizeArray(o)},r.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||this.survey&&this.survey.questionCountByValueName(this.getValueName())>1||this.choicesByUrl&&!this.choicesByUrl.isEmpty&&(!this.choicesFromUrl||0==this.choicesFromUrl.length)||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},r.prototype.hasValueToClearIncorrectValues=function(){return!(this.survey&&this.survey.keepIncorrectValues||this.keepIncorrectValues||this.isEmpty())},r.prototype.clearValueIfInvisibleCore=function(){s.prototype.clearValueIfInvisibleCore.call(this),this.clearIncorrectValues()},r.prototype.isItemSelected=function(o){return o===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(o)},r.prototype.isItemSelectedCore=function(o){return o.value===this.value},r.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},r.prototype.clearIncorrectValuesCore=function(){this.canClearValueAnUnknow(this.value)&&this.clearValue()},r.prototype.canClearValueAnUnknow=function(o){return!(!this.getStoreOthersAsComment()&&this.isOtherSelected)&&this.hasUnknownValue(o,!0,!0,!0)},r.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},r.prototype.clearUnusedValues=function(){s.prototype.clearUnusedValues.call(this),!this.isOtherSelected&&!this.hasComment&&(this.comment="")},r.prototype.getColumnClass=function(){return(new l.CssClassBuilder).append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},r.prototype.getItemIndex=function(o){return this.visibleChoices.indexOf(o)},r.prototype.getItemClass=function(o){var S={item:o},I=this.getItemClassCore(o,S);return S.css=I,this.survey&&this.survey.updateChoiceItemCss(this,S),S.css},r.prototype.getCurrentColCount=function(){return this.colCount},r.prototype.getItemClassCore=function(o,S){var I=(new l.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&0===this.colCount).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&0!==this.colCount).append(this.cssClasses.itemOnError,this.errors.length>0),x=this.isReadOnly||!o.isEnabled,P=this.isItemSelected(o)||this.isOtherSelected&&this.otherItem.value===o.value,g=!(x||P||this.survey&&this.survey.isDesignMode),u=o===this.noneItem;return S.isDisabled=x,S.isChecked=P,S.isNone=u,I.append(this.cssClasses.itemDisabled,x).append(this.cssClasses.itemChecked,P).append(this.cssClasses.itemHover,g).append(this.cssClasses.itemNone,u).toString()},r.prototype.getLabelClass=function(o){return(new l.CssClassBuilder).append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(o)).toString()},r.prototype.getControlLabelClass=function(o){return(new l.CssClassBuilder).append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(o)).toString()||void 0},Object.defineProperty(r.prototype,"headItems",{get:function(){var o=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(S){return o.isHeadChoice(S,o)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"footItems",{get:function(){var o=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(S){return o.isFootChoice(S,o)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataChoices",{get:function(){var o=this;return this.visibleChoices.filter(function(S){return!o.isBuiltInChoice(S,o)})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){var o=[],S=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var I=this.separateSpecialChoices||this.isDesignMode?this.dataChoices:this.visibleChoices;if("column"==_.settings.showItemsInOrder)for(var x=0,P=I.length%S,g=0;g<S;g++){for(var u=[],M=x;M<x+Math.floor(I.length/S);M++)u.push(I[M]);P>0&&(P--,u.push(I[M]),M++),x=M,o.push(u)}else for(g=0;g<S;g++){for(u=[],M=g;M<I.length;M+=S)u.push(I[M]);o.push(u)}}return o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rowLayout",{get:function(){return 0==this.getCurrentColCount()&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blockedRow",{get:function(){return 0==this.getCurrentColCount()&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),r.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0;var o=this.isReadyValue;this.isReadyValue=!0,this.onReadyChanged&&this.onReadyChanged.fire(this,{question:this,isReady:!0,oldIsReady:o}),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},r.prototype.getItemValueWrapperComponentName=function(o){var S=this.survey;return S?S.getItemValueWrapperComponentName(o,this):y.SurveyModel.TemplateRendererComponentName},r.prototype.getItemValueWrapperComponentData=function(o){var S=this.survey;return S?S.getItemValueWrapperComponentData(o,this):o},r.prototype.ariaItemChecked=function(o){return this.renderedValue===o.value?"true":"false"},r.prototype.isOtherItem=function(o){return this.hasOther&&o.value==this.otherItem.value},Object.defineProperty(r.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),r.prototype.getSelectBaseRootCss=function(){return(new l.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootRow,this.rowLayout).toString()},r.prototype.getAriaItemLabel=function(o){return o.locText.renderedHtml},r.prototype.getItemId=function(o){return this.inputId+"_"+this.getItemIndex(o)},Object.defineProperty(r.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),r.prototype.getItemEnabled=function(o){return!this.isInputReadOnly&&o.isEnabled},r.prototype.afterRender=function(o){s.prototype.afterRender.call(this,o),this.rootElement=o},r.prototype.beforeDestroyQuestionElement=function(o){s.prototype.beforeDestroyQuestionElement.call(this,o),this.rootElement=void 0},r.prototype.focusOtherComment=function(){var o=this;this.rootElement&&setTimeout(function(){var S=o.rootElement.querySelector("textarea");S&&S.focus()},10)},r.prototype.onValueChanged=function(){s.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},r.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(r.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(o){this.setPropertyValue("itemComponent",o)},enumerable:!1,configurable:!0}),r.prototype.updateCssClasses=function(o,S){if(s.prototype.updateCssClasses.call(this,o,S),this.dropdownListModel){var I={};Object(m.mergeValues)(S.list,I),Object(m.mergeValues)(o.list,I),o.list=I}},r.prototype.calcCssClasses=function(o){var S=s.prototype.calcCssClasses.call(this,o);return this.dropdownListModel&&this.dropdownListModel.updateListCssClasses(S.list),S},d([Object(n.property)()],r.prototype,"selectedItemValues",void 0),d([Object(n.property)({defaultValue:!1})],r.prototype,"separateSpecialChoices",void 0),d([Object(n.property)({localizable:!0})],r.prototype,"otherPlaceholder",void 0),r}(T.Question),a=function(s){function r(o){return s.call(this,o)||this}return h(r,s),Object.defineProperty(r.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:1)},set:function(o){o<0||o>5||this.isFlowLayout||(this.setPropertyValue("colCount",o),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),r.prototype.onParentChanged=function(){s.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},r.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},r.prototype.getSearchableItemValueKeys=function(o){o.push("choices")},r}(c);n.Serializer.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(s){return s.hasComment},serializationProperty:"locCommentText",layout:"row"},"choicesFromQuestion:question_selectbase",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return O.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(s){return!s.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(s){return!!s.choicesFromQuestion}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(s){return!s.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"ChoicesRestful",onGetValue:function(s){return s.choicesByUrl.getData()},onSetValue:function(s,r){s.choicesByUrl.setData(r)}},"hideIfChoicesEmpty:boolean",{name:"choicesVisibleIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(s){return!s.choicesFromQuestion}},{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(s){return!s.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(s){return s.hasOther}},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(s){return s.hasComment}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(s){return s.hasNone}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(s){return s.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(s){return s.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),n.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionBooleanModel",function(){return i});var f,n=e("./src/questionfactory.ts"),y=e("./src/jsonobject.ts"),T=e("./src/question.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=e("./src/utils/utils.ts"),C=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),E=function(f,_,l,m){var c,h=arguments.length,d=h<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,l):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(f,_,l,m);else for(var a=f.length-1;a>=0;a--)(c=f[a])&&(d=(h<3?c(d):h>3?c(_,l,d):c(_,l))||d);return h>3&&d&&Object.defineProperty(_,l,d),d},i=function(f){function _(l){var m=f.call(this,l)||this;return m.createLocalizableString("labelFalse",m,!0,"booleanUncheckedLabel"),m.createLocalizableString("labelTrue",m,!0,"booleanCheckedLabel"),m}return C(_,f),_.prototype.getType=function(){return"boolean"},_.prototype.isLayoutTypeSupported=function(l){return!0},_.prototype.supportGoNextPageAutomatic=function(){return"checkbox"!==this.renderAs},Object.defineProperty(_.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(l){this.isReadOnly||this.setBooleanValue(l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(l){this.booleanValue=l},enumerable:!1,configurable:!0}),_.prototype.setBooleanValue=function(l){this.value=this.isValueEmpty(l)?null:1==l?this.getValueTrue():this.getValueFalse()},Object.defineProperty(_.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(l){!0===l&&(l="true"),!1===l&&(l="false"),void 0===l&&(l="indeterminate"),this.setPropertyValue("defaultValue",l),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),_.prototype.getDefaultValue=function(){return"indeterminate"==this.defaultValue||void 0===this.defaultValue?null:"true"==this.defaultValue?this.getValueTrue():this.getValueFalse()},Object.defineProperty(_.prototype,"locTitle",{get:function(){var l=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(l.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isLabelRendered",{get:function(){return"hidden"===this.titleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(l){this.setLocalizableStringText("labelTrue",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isDeterminated",{get:function(){return null!==this.booleanValue},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(l){this.setLocalizableStringText("labelFalse",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),_.prototype.getValueTrue=function(){return!this.valueTrue||this.valueTrue},_.prototype.getValueFalse=function(){return!!this.valueFalse&&this.valueFalse},_.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1),"indeterminate"==this.defaultValue&&this.setBooleanValue(null)},_.prototype.isDefaultValueSet=function(l,m){return this.defaultValue==l||void 0!==m&&this.defaultValue===m},_.prototype.getDisplayValueCore=function(l,m){return m==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},_.prototype.getItemCssValue=function(l){return(new v.CssClassBuilder).append(l.item).append(l.itemOnError,this.errors.length>0).append(l.itemDisabled,this.isReadOnly).append(l.itemChecked,!!this.booleanValue).append(l.itemIndeterminate,null===this.booleanValue).toString()},_.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},_.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},_.prototype.getLabelCss=function(l){return(new v.CssClassBuilder).append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!l||this.isReadOnly).toString()},Object.defineProperty(_.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:null===this.booleanValue&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),_.prototype.getCheckedLabel=function(){return!0===this.booleanValue?this.locLabelTrue:!1===this.booleanValue?this.locLabelFalse:void 0},_.prototype.setQuestionValue=function(l,m){void 0===m&&(m=!0),"true"===l&&"true"!==this.valueTrue&&(l=!0),"false"===l&&"false"!==this.valueFalse&&(l=!1),"indeterminate"===l&&(l=null),f.prototype.setQuestionValue.call(this,l,m)},_.prototype.onLabelClick=function(l,m){return this.allowClick&&(Object(O.preventDefaults)(l),this.booleanValue=m),!0},_.prototype.calculateBooleanValueByEvent=function(l,m){var h="rtl"==document.defaultView.getComputedStyle(l.target).direction;this.booleanValue=h?!m:m},_.prototype.onSwitchClickModel=function(l){return!this.allowClick||(Object(O.preventDefaults)(l),void this.calculateBooleanValueByEvent(l,l.offsetX/l.target.offsetWidth>.5))},_.prototype.onKeyDownCore=function(l){return"ArrowLeft"!==l.key&&"ArrowRight"!==l.key||(Object(O.preventDefaults)(l),void this.calculateBooleanValueByEvent(l,"ArrowRight"===l.key))},_.prototype.getRadioItemClass=function(l,m){var h=void 0;return l.radioItem&&(h=l.radioItem),l.radioItemChecked&&m===this.value&&(h=(h?h+" ":"")+l.radioItemChecked),h},_.prototype.supportResponsiveness=function(){return!0},_.prototype.getCompactRenderAs=function(){return"radio"},E([Object(y.property)()],_.prototype,"showTitle",void 0),E([Object(y.property)({localizable:!0})],_.prototype,"label",void 0),E([Object(y.property)()],_.prototype,"valueTrue",void 0),E([Object(y.property)()],_.prototype,"valueFalse",void 0),_}(T.Question);y.Serializer.addClass("boolean",[{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new i("")},"question"),n.QuestionFactory.Instance.registerQuestion("boolean",function(f){return new i(f)})},"./src/question_buttongroup.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ButtonGroupItemValue",function(){return E}),e.d(t,"QuestionButtonGroupModel",function(){return i}),e.d(t,"ButtonGroupItemModel",function(){return f});var _,n=e("./src/jsonobject.ts"),y=e("./src/itemvalue.ts"),T=e("./src/question_baseselect.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=(_=function(l,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(h[c]=d[c])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function h(){this.constructor=l}_(l,m),l.prototype=null===m?Object.create(m):(h.prototype=m.prototype,new h)}),C=function(_,l,m,h){var a,d=arguments.length,c=d<3?l:null===h?h=Object.getOwnPropertyDescriptor(l,m):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(_,l,m,h);else for(var s=_.length-1;s>=0;s--)(a=_[s])&&(c=(d<3?a(c):d>3?a(l,m,c):a(l,m))||c);return d>3&&c&&Object.defineProperty(l,m,c),c},E=function(_){function l(m,h,d){void 0===h&&(h=null),void 0===d&&(d="buttongroupitemvalue");var c=_.call(this,m,h,d)||this;return c.typeName=d,c}return O(l,_),l.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},C([Object(n.property)()],l.prototype,"iconName",void 0),C([Object(n.property)()],l.prototype,"iconSize",void 0),C([Object(n.property)()],l.prototype,"showCaption",void 0),l}(y.ItemValue),i=function(_){function l(m){return _.call(this,m)||this}return O(l,_),l.prototype.getType=function(){return"buttongroup"},l.prototype.getItemValueType=function(){return"buttongroupitemvalue"},l.prototype.supportOther=function(){return!1},l}(T.QuestionCheckboxBase);n.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new i("")},"checkboxbase"),n.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(_){return new E(_)},"itemvalue");var f=function(){function _(l,m,h){this.question=l,this.item=m,this.index=h}return Object.defineProperty(_.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"showCaption",{get:function(){return this.item.showCaption||void 0===this.item.showCaption},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"labelClass",{get:function(){return(new v.CssClassBuilder).append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),_.prototype.onChange=function(){this.question.renderedValue=this.item.value},_}()},"./src/question_checkbox.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionCheckboxModel",function(){return i});var f,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question_baseselect.ts"),v=e("./src/helpers.ts"),O=e("./src/itemvalue.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),i=function(f){function _(l){var m=f.call(this,l)||this;m.selectAllItemValue=new O.ItemValue("selectall"),m.invisibleOldValues={},m.isChangingValueOnClearIncorrect=!1;var h=m.createLocalizableString("selectAllText",m.selectAllItem,!0,"selectAllItemText");return m.selectAllItem.locOwner=m,m.selectAllItem.setLocText(h),m.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){m.onVisibleChoicesChanged()}),m}return E(_,f),_.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},Object.defineProperty(_.prototype,"ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),_.prototype.getType=function(){return"checkbox"},_.prototype.onCreating=function(){f.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},_.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(_.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(l){this.setPropertyValue("valuePropertyName",l)},enumerable:!1,configurable:!0}),_.prototype.getQuestionFromArray=function(l,m){if(l&&l===this.valuePropertyName){var h=this.value;if(Array.isArray(h)&&m<h.length)return this}return null},Object.defineProperty(_.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(l){this.setLocalizableStringText("selectAllText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem",!1)},set:function(l){this.setPropertyValue("showSelectAllItem",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(l){this.showSelectAllItem=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isAllSelected",{get:function(){var l=this.value;if(!l||!Array.isArray(l)||this.isItemSelected(this.noneItem))return!1;var m=this.visibleChoices.length;this.hasOther&&m--,this.hasNone&&m--,this.hasSelectAll&&m--;var h=l.length;return this.isOtherSelected&&h--,h===m},set:function(l){l?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),_.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},_.prototype.selectAll=function(){for(var l=[],m=0;m<this.visibleChoices.length;m++){var h=this.visibleChoices[m];h===this.noneItem||h===this.otherItem||h===this.selectAllItem||l.push(h.value)}this.renderedValue=l},_.prototype.isItemSelectedCore=function(l){if(l===this.selectAllItem)return this.isAllSelected;var m=this.renderedValue;if(!m||!Array.isArray(m))return!1;for(var h=0;h<m.length;h++)if(this.isTwoValueEquals(m[h],l.value))return!0;return!1},_.prototype.getRealValue=function(l){return l&&(this.valuePropertyName?l[this.valuePropertyName]:l)},Object.defineProperty(_.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(l){l<0&&(l=0),this.setPropertyValue("maxSelectedChoices",l),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"selectedChoices",{get:function(){var l=this.selectedItemValues;if(this.isEmpty())return[];var m=this.renderedValue,h=this.initialSelectedItemValues?[].concat(this.initialSelectedItemValues,this.visibleChoices):this.visibleChoices,d=m.map(function(c){return O.ItemValue.getItemByValue(h,c)}).filter(function(c){return!!c});return!d.length&&!l&&this.updateSelectedItemValues(),d.length?d:l&&l.length?(this.initialSelectedItemValues=[].concat(l),l):m.map(function(c){return new O.ItemValue(c)})},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),_.prototype.onEnableItemCallBack=function(l){return!this.shouldCheckMaxSelectedChoices()||this.isItemSelected(l)},_.prototype.onAfterRunItemsEnableCondition=function(){this.maxSelectedChoices<1||(this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.maxSelectedChoices>=this.activeChoices.length),this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected))},_.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var l=this.value;return(Array.isArray(l)?l.length:0)>=this.maxSelectedChoices},_.prototype.getItemClassCore=function(l,m){return m.isSelectAllItem=l===this.selectAllItem,(new C.CssClassBuilder).append(f.prototype.getItemClassCore.call(this,l,m)).append(this.cssClasses.itemSelectAll,m.isSelectAllItem).toString()},_.prototype.updateValueFromSurvey=function(l){f.prototype.updateValueFromSurvey.call(this,l),this.invisibleOldValues={}},_.prototype.setDefaultValue=function(){f.prototype.setDefaultValue.call(this);var l=this.defaultValue;if(Array.isArray(l))for(var m=0;m<l.length;m++){var h=this.getRealValue(l[m]);this.canClearValueAnUnknow(h)&&this.addIntoInvisibleOldValues(h)}},_.prototype.addIntoInvisibleOldValues=function(l){this.invisibleOldValues[l]=l},_.prototype.hasValueToClearIncorrectValues=function(){return f.prototype.hasValueToClearIncorrectValues.call(this)||!v.Helpers.isValueEmpty(this.invisibleOldValues)},_.prototype.setNewValue=function(l){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),l=this.valueFromData(l);var m=this.value;if(l||(l=[]),m||(m=[]),!this.isTwoValueEquals(m,l)){if(this.hasNone){var h=this.noneIndexInArray(m),d=this.noneIndexInArray(l);h>-1?d>-1&&l.length>1&&l.splice(d,1):d>-1&&(l.splice(0,l.length),l.push(this.noneItem.value))}f.prototype.setNewValue.call(this,l)}},_.prototype.getIsMultipleValue=function(){return!0},_.prototype.getCommentFromValue=function(l){var m=this.getFirstUnknownIndex(l);return m<0?"":l[m]},_.prototype.setOtherValueIntoValue=function(l){var m=this.getFirstUnknownIndex(l);return m<0||l.splice(m,1,this.otherItem.value),l},_.prototype.getFirstUnknownIndex=function(l){if(!Array.isArray(l))return-1;for(var m=0;m<l.length;m++)if(this.hasUnknownValue(l[m],!1,!1))return m;return-1},_.prototype.noneIndexInArray=function(l){if(!l||!Array.isArray(l))return-1;for(var m=this.noneItem.value,h=0;h<l.length;h++)if(l[h]==m)return h;return-1},_.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&f.prototype.canUseFilteredChoices.call(this)},_.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},_.prototype.addToVisibleChoices=function(l,m){this.supportSelectAll()&&this.canShowOptionItem(this.selectAllItem,m,this.hasSelectAll)&&l.unshift(this.selectAllItem),f.prototype.addToVisibleChoices.call(this,l,m)},_.prototype.isHeadChoice=function(l,m){return l===m.selectAllItem},_.prototype.isItemInList=function(l){return l==this.selectAllItem?this.hasSelectAll:f.prototype.isItemInList.call(this,l)},_.prototype.getDisplayValueCore=function(l,m){if(!Array.isArray(m))return f.prototype.getDisplayValueCore.call(this,l,m);var h=this.valuePropertyName;return this.getDisplayArrayValue(l,m,function(c){var a=m[c];return!!h&&!!a[h]&&(a=a[h]),a})},_.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},_.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},_.prototype.clearIncorrectAndDisabledValues=function(l){var m=this.value,h=!1,d=this.restoreValuesFromInvisible();if(m||0!=d.length){if(!Array.isArray(m)||0==m.length){if(this.isChangingValueOnClearIncorrect=!0,l||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,0==d.length)return;m=[]}for(var c=[],a=0;a<m.length;a++){var s=this.getRealValue(m[a]),r=this.canClearValueAnUnknow(s);!l&&!r||l&&!this.isValueDisabled(s)?c.push(m[a]):(h=!0,r&&this.addIntoInvisibleOldValues(m[a]))}for(a=0;a<d.length;a++)c.push(d[a]),h=!0;!h||(this.isChangingValueOnClearIncorrect=!0,0==c.length?this.clearValue():this.value=c,this.isChangingValueOnClearIncorrect=!1)}},_.prototype.restoreValuesFromInvisible=function(){for(var l=[],m=this.visibleChoices,h=0;h<m.length;h++){var d=m[h].value;v.Helpers.isTwoValueEquals(d,this.invisibleOldValues[d])&&(this.isItemSelected(m[h])||l.push(d),delete this.invisibleOldValues[d])}return l},_.prototype.getConditionJson=function(l,m){void 0===l&&(l=null),void 0===m&&(m=null);var h=f.prototype.getConditionJson.call(this);return("contains"==l||"notcontains"==l)&&(h.type="radiogroup"),h},_.prototype.isAnswerCorrect=function(){return v.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},_.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},_.prototype.getHasOther=function(l){return!(!l||!Array.isArray(l))&&l.indexOf(this.otherItem.value)>=0},_.prototype.valueFromData=function(l){if(!l)return l;if(!Array.isArray(l))return[f.prototype.valueFromData.call(this,l)];for(var m=[],h=0;h<l.length;h++){var d=O.ItemValue.getItemByValue(this.activeChoices,l[h]);m.push(d?d.value:l[h])}return m},_.prototype.rendredValueFromData=function(l){return l=this.convertValueFromObject(l),f.prototype.rendredValueFromData.call(this,l)},_.prototype.rendredValueToData=function(l){return l=f.prototype.rendredValueToData.call(this,l),this.convertValueToObject(l)},_.prototype.convertValueFromObject=function(l){return this.valuePropertyName?v.Helpers.convertArrayObjectToValue(l,this.valuePropertyName):l},_.prototype.convertValueToObject=function(l){if(!this.valuePropertyName)return l;var m=void 0;return!!this.survey&&this.survey.questionCountByValueName(this.getValueName())>1&&(m=this.data.getValue(this.getValueName())),v.Helpers.convertArrayValueToObject(l,this.valuePropertyName,m)},_.prototype.renderedValueFromDataCore=function(l){if((!l||!Array.isArray(l))&&(l=[]),!this.hasActiveChoices)return l;for(var m=0;m<l.length;m++){if(l[m]==this.otherItem.value)return l;if(this.hasUnknownValue(l[m],!0,!1)){this.comment=l[m];var h=l.slice();return h[m]=this.otherItem.value,h}}return l},_.prototype.rendredValueToDataCore=function(l){if(!l||!l.length)return l;for(var m=0;m<l.length;m++)if(l[m]==this.otherItem.value&&this.getQuestionComment()){var h=l.slice();return h[m]=this.getQuestionComment(),h}return l},_.prototype.selectOtherValueFromComment=function(l){var m=[],h=this.renderedValue;if(Array.isArray(h))for(var d=0;d<h.length;d++)h[d]!==this.otherItem.value&&m.push(h[d]);l&&m.push(this.otherItem.value),this.value=m},Object.defineProperty(_.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),_}(T.QuestionCheckboxBase);n.Serializer.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(f){return f.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new i("")},"checkboxbase"),y.QuestionFactory.Instance.registerQuestion("checkbox",function(f){var _=new i(f);return _.choices=y.QuestionFactory.DefaultChoices,_})},"./src/question_comment.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionCommentModel",function(){return C});var E,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question_textbase.ts"),v=e("./src/utils/utils.ts"),O=(E=function(i,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,l){_.__proto__=l}||function(_,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(_[m]=l[m])})(i,f)},function(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),C=function(E){function i(){return null!==E&&E.apply(this,arguments)||this}return O(i,E),Object.defineProperty(i.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(f){this.setPropertyValue("rows",f)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(f){this.setPropertyValue("cols",f)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(f){this.setPropertyValue("acceptCarriageReturn",f)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(f){this.setPropertyValue("autoGrow",f)},enumerable:!1,configurable:!0}),i.prototype.getType=function(){return"comment"},i.prototype.afterRenderQuestionElement=function(f){this.element=document.getElementById(this.inputId)||f,this.updateElement(),E.prototype.afterRenderQuestionElement.call(this,f)},i.prototype.updateElement=function(){var f=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(v.increaseHeightByContent)(f.element)},1)},i.prototype.beforeDestroyQuestionElement=function(f){E.prototype.beforeDestroyQuestionElement.call(this,f),this.element=void 0},i.prototype.onInput=function(f){this.isInputTextUpdate?this.value=f.target.value:this.updateElement()},i.prototype.onKeyDown=function(f){!this.acceptCarriageReturn&&("Enter"===f.key||13===f.keyCode)&&(f.preventDefault(),f.stopPropagation())},i.prototype.onValueChanged=function(){E.prototype.onValueChanged.call(this),this.updateElement()},i.prototype.setNewValue=function(f){!this.acceptCarriageReturn&&!!f&&(f=f.replace(new RegExp("(\r\n|\n|\r)","gm"),"")),E.prototype.setNewValue.call(this,f)},Object.defineProperty(i.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),i}(T.QuestionTextBase);n.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new C("")},"textbase"),y.QuestionFactory.Instance.registerQuestion("comment",function(E){return new C(E)})},"./src/question_custom.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ComponentQuestionJSON",function(){return i}),e.d(t,"ComponentCollection",function(){return f}),e.d(t,"QuestionCustomModelBase",function(){return _}),e.d(t,"QuestionCustomModel",function(){return l}),e.d(t,"QuestionCompositeModel",function(){return h});var d,n=e("./src/question.ts"),y=e("./src/jsonobject.ts"),T=e("./src/survey-element.ts"),v=e("./src/helpers.ts"),O=e("./src/textPreProcessor.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=(d=function(c,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=c}d(c,a),c.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}),i=function(){function d(c,a){this.name=c,this.json=a;var s=this;y.Serializer.addClass(c,[],function(r){return f.Instance.createQuestion(r?r.name:"",s)},"question"),this.onInit()}return d.prototype.onInit=function(){!this.json.onInit||this.json.onInit()},d.prototype.onCreated=function(c){!this.json.onCreated||this.json.onCreated(c)},d.prototype.onLoaded=function(c){!this.json.onLoaded||this.json.onLoaded(c)},d.prototype.onAfterRender=function(c,a){!this.json.onAfterRender||this.json.onAfterRender(c,a)},d.prototype.onAfterRenderContentElement=function(c,a,s){!this.json.onAfterRenderContentElement||this.json.onAfterRenderContentElement(c,a,s)},d.prototype.onPropertyChanged=function(c,a,s){!this.json.onPropertyChanged||this.json.onPropertyChanged(c,a,s)},d.prototype.onValueChanged=function(c,a,s){!this.json.onValueChanged||this.json.onValueChanged(c,a,s)},d.prototype.onItemValuePropertyChanged=function(c,a,s,r,o){!this.json.onItemValuePropertyChanged||this.json.onItemValuePropertyChanged(c,{obj:a,propertyName:s,name:r,newValue:o})},d.prototype.getDisplayValue=function(c,a,s){return this.json.getDisplayValue?this.json.getDisplayValue(s):s.getDisplayValue(c,a)},Object.defineProperty(d.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),d}(),f=function(){function d(){this.customQuestionValues=[]}return d.prototype.add=function(c){if(c){var a=c.name;if(!a)throw"Attribute name is missed";if(a=a.toLowerCase(),this.getCustomQuestionByName(a))throw"There is already registered custom question with name '"+a+"'";if(y.Serializer.findClass(a))throw"There is already class with name '"+a+"'";var s=new i(a,c);this.onAddingJson&&this.onAddingJson(a,s.isComposite),this.customQuestionValues.push(s)}},Object.defineProperty(d.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),d.prototype.getCustomQuestionByName=function(c){for(var a=0;a<this.customQuestionValues.length;a++)if(this.customQuestionValues[a].name==c)return this.customQuestionValues[a];return null},d.prototype.clear=function(){for(var c=0;c<this.customQuestionValues.length;c++)y.Serializer.removeClass(this.customQuestionValues[c].name);this.customQuestionValues=[]},d.prototype.createQuestion=function(c,a){return a.isComposite?this.createCompositeModel(c,a):this.createCustomModel(c,a)},d.prototype.createCompositeModel=function(c,a){return this.onCreateComposite?this.onCreateComposite(c,a):new h(c,a)},d.prototype.createCustomModel=function(c,a){return this.onCreateCustom?this.onCreateCustom(c,a):new l(c,a)},d.Instance=new d,d}(),_=function(d){function c(a,s){var r=d.call(this,a)||this;return r.customQuestion=s,y.CustomPropertiesCollection.createProperties(r),T.SurveyElement.CreateDisabledDesignElements=!0,r.createWrapper(),T.SurveyElement.CreateDisabledDesignElements=!1,r.customQuestion&&r.customQuestion.onCreated(r),r}return E(c,d),c.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},c.prototype.locStrsChanged=function(){d.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},c.prototype.createWrapper=function(){},c.prototype.onPropertyValueChanged=function(a,s,r){d.prototype.onPropertyValueChanged.call(this,a,s,r),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,a,r)},c.prototype.itemValuePropertyChanged=function(a,s,r,o){d.prototype.itemValuePropertyChanged.call(this,a,s,r,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,a,a.ownerPropertyName,s,o)},c.prototype.onFirstRendering=function(){var a=this.getElement();a&&a.onFirstRendering(),d.prototype.onFirstRendering.call(this)},c.prototype.initElement=function(a){!a||(a.setSurveyImpl(this),a.disableDesignActions=!0)},c.prototype.setSurveyImpl=function(a,s){d.prototype.setSurveyImpl.call(this,a,s),this.initElement(this.getElement())},c.prototype.onSurveyLoad=function(){d.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},c.prototype.afterRenderQuestionElement=function(a){},c.prototype.afterRender=function(a){d.prototype.afterRender.call(this,a),this.customQuestion&&this.customQuestion.onAfterRender(this,a)},c.prototype.setQuestionValue=function(a,s){void 0===s&&(s=!0),d.prototype.setQuestionValue.call(this,a,s),this.updateElementCss()},c.prototype.setNewValue=function(a){d.prototype.setNewValue.call(this,a),this.updateElementCss()},c.prototype.getSurveyData=function(){return this},c.prototype.getTextProcessor=function(){return this.textProcessor},c.prototype.getValue=function(a){return this.value},c.prototype.setValue=function(a,s,r,o){if(this.data){var S=this.convertDataName(a);this.data.setValue(S,this.convertDataValue(a,s),r,o),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,a,s)}},c.prototype.convertDataName=function(a){return this.getValueName()},c.prototype.convertDataValue=function(a,s){return s},c.prototype.getVariable=function(a){return this.data?this.data.getVariable(a):null},c.prototype.setVariable=function(a,s){!this.data||this.data.setVariable(a,s)},c.prototype.getComment=function(a){return this.data?this.data.getComment(this.getValueName()):""},c.prototype.setComment=function(a,s,r){!this.data||this.data.setComment(this.getValueName(),s,r)},c.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},c.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},c.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},c.prototype.addElement=function(a,s){},c.prototype.removeElement=function(a){return!1},c.prototype.getQuestionTitleLocation=function(){return"left"},c.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},c.prototype.getChildrenLayoutType=function(){return"row"},c.prototype.elementWidthChanged=function(a){},Object.defineProperty(c.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(a){return-1},c.prototype.ensureRowsVisibility=function(){},c.prototype.getContentDisplayValueCore=function(a,s,r){return r?this.customQuestion.getDisplayValue(a,s,r):d.prototype.getDisplayValueCore.call(this,a,s)},c}(n.Question),l=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return E(c,d),c.prototype.getTemplate=function(){return"custom"},c.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion()},c.prototype.getElement=function(){return this.contentQuestion},c.prototype.onAnyValueChanged=function(a){d.prototype.onAnyValueChanged.call(this,a),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(a)},c.prototype.hasErrors=function(a,s){if(void 0===a&&(a=!0),void 0===s&&(s=null),!this.contentQuestion)return!1;var r=this.contentQuestion.hasErrors(a,s);this.errors=[];for(var o=0;o<this.contentQuestion.errors.length;o++)this.errors.push(this.contentQuestion.errors[o]);return r||(r=d.prototype.hasErrors.call(this,a,s)),this.updateElementCss(),r},c.prototype.focus=function(a){void 0===a&&(a=!1),this.contentQuestion?this.contentQuestion.focus(a):d.prototype.focus.call(this,a)},Object.defineProperty(c.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),c.prototype.createQuestion=function(){var a=this.customQuestion.json,s=null;if(a.questionJSON){var r=a.questionJSON.type;if(!r||!y.Serializer.findClass(r))throw"type attribute in questionJSON is empty or incorrect";s=y.Serializer.createClass(r),this.initElement(s),s.fromJSON(a.questionJSON)}else a.createQuestion&&(s=a.createQuestion(),this.initElement(s));return s&&(s.isContentElement=!0,s.name||(s.name="question")),s},c.prototype.onSurveyLoad=function(){d.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.contentQuestion.value)},c.prototype.runCondition=function(a,s){d.prototype.runCondition.call(this,a,s),this.contentQuestion&&this.contentQuestion.runCondition(a,s)},c.prototype.convertDataName=function(a){if(!this.contentQuestion)return d.prototype.convertDataName.call(this,a);var s=a.replace(this.contentQuestion.getValueName(),this.getValueName());return 0==s.indexOf(this.getValueName())?s:d.prototype.convertDataName.call(this,a)},c.prototype.convertDataValue=function(a,s){return this.convertDataName(a)==d.prototype.convertDataName.call(this,a)?this.contentQuestion.value:s},c.prototype.canSetValueToSurvey=function(){return!1},c.prototype.setQuestionValue=function(a,s){void 0===s&&(s=!0),d.prototype.setQuestionValue.call(this,a,s),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.contentQuestion.value,a)&&(this.contentQuestion.value=this.getUnbindValue(a))},c.prototype.onSurveyValueChanged=function(a){d.prototype.onSurveyValueChanged.call(this,a),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(a)},c.prototype.getValueCore=function(){return this.contentQuestion?this.contentQuestion.value:d.prototype.getValueCore.call(this)},c.prototype.initElement=function(a){var s=this;d.prototype.initElement.call(this,a),a&&(a.parent=this,a.afterRenderQuestionCallback=function(r,o){s.customQuestion&&s.customQuestion.onAfterRenderContentElement(s,r,o)})},c.prototype.updateElementCss=function(a){this.contentQuestion&&this.questionWrapper.updateElementCss(a),d.prototype.updateElementCss.call(this,a)},c.prototype.updateElementCssCore=function(a){this.contentQuestion&&(a=this.contentQuestion.cssClasses),d.prototype.updateElementCssCore.call(this,a)},c.prototype.getDisplayValueCore=function(a,s){return d.prototype.getContentDisplayValueCore.call(this,a,s,this.contentQuestion)},c}(_),m=function(d){function c(a,s){var r=d.call(this,s)||this;return r.composite=a,r.variableName=s,r}return E(c,d),Object.defineProperty(c.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),c}(O.QuestionTextProcessor),h=function(d){function c(a,s){var r=d.call(this,a,s)||this;return r.customQuestion=s,r.settingNewValue=!1,r.textProcessing=new m(r,c.ItemVariableName),r}return E(c,d),c.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},c.prototype.getTemplate=function(){return"composite"},c.prototype.getElement=function(){return this.contentPanel},c.prototype.getCssRoot=function(a){return(new C.CssClassBuilder).append(d.prototype.getCssRoot.call(this,a)).append(a.composite).toString()},Object.defineProperty(c.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),c.prototype.hasErrors=function(a,s){void 0===a&&(a=!0),void 0===s&&(s=null);var r=d.prototype.hasErrors.call(this,a,s);return this.contentPanel&&this.contentPanel.hasErrors(a,!1,s)||r},c.prototype.updateElementCss=function(a){d.prototype.updateElementCss.call(this,a),this.contentPanel&&this.contentPanel.updateElementCss(a)},c.prototype.getTextProcessor=function(){return this.textProcessing},c.prototype.clearValueIfInvisibleCore=function(){d.prototype.clearValueIfInvisibleCore.call(this);for(var a=this.contentPanel.questions,s=0;s<a.length;s++)a[s].clearValueIfInvisible()},c.prototype.onAnyValueChanged=function(a){d.prototype.onAnyValueChanged.call(this,a);for(var s=this.contentPanel.questions,r=0;r<s.length;r++)s[r].onAnyValueChanged(a)},c.prototype.createPanel=function(){var a=y.Serializer.createClass("panel");a.showQuestionNumbers="off",a.renderWidth="100%";var s=this.customQuestion.json;return s.elementsJSON&&a.fromJSON({elements:s.elementsJSON}),s.createElements&&s.createElements(a,this),this.initElement(a),a.readOnly=this.isReadOnly,this.setAfterRenderCallbacks(a),a},c.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),d.prototype.onReadOnlyChanged.call(this)},c.prototype.onSurveyLoad=function(){if(this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),d.prototype.onSurveyLoad.call(this),this.contentPanel){var a=this.contentPanel.getValue();v.Helpers.isValueEmpty(a)||(this.value=a)}},c.prototype.setIsContentElement=function(a){a.isContentElement=!0;for(var s=a.elements,r=0;r<s.length;r++){var o=s[r];o.isPanel?this.setIsContentElement(o):o.isContentElement=!0}},c.prototype.setVisibleIndex=function(a){var s=d.prototype.setVisibleIndex.call(this,a);return this.isVisible&&!!this.contentPanel&&(s+=this.contentPanel.setVisibleIndex(a)),s},c.prototype.runCondition=function(a,s){if(d.prototype.runCondition.call(this,a,s),this.contentPanel){var r=a[c.ItemVariableName];a[c.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(a,s),delete a[c.ItemVariableName],r&&(a[c.ItemVariableName]=r)}},c.prototype.getValue=function(a){var s=this.value;return s?s[a]:null},c.prototype.setValue=function(a,s,r,o){if(!this.settingNewValue){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel){var S=this.contentPanel.getValue();this.isTwoValueEquals(this.getValueCore(),S)||this.setValueCore(S)}if(d.prototype.setValue.call(this,a,s,r,o),this.contentPanel){var I=this.contentPanel.getQuestionByName(a);I&&!this.isTwoValueEquals(s,I.value)&&(I.value=s)}this.settingNewValue=!1}},c.prototype.addConditionObjectsByContext=function(a,s){if(this.contentPanel)for(var r=this.contentPanel.questions,o=this.name,S=this.title,I=0;I<r.length;I++)a.push({name:o+"."+r[I].name,text:S+"."+r[I].title,question:r[I]})},c.prototype.convertDataValue=function(a,s){var r=this.value;return r||(r={}),this.isValueEmpty(s)&&!this.isEditingSurveyElement?delete r[a]:r[a]=s,r},c.prototype.setQuestionValue=function(a,s){void 0===s&&(s=!0),d.prototype.setQuestionValue.call(this,a,s),this.settingNewValue=!0;for(var r=this.contentPanel.questions,o=0;o<r.length;o++){var S=r[o].getValueName();r[o].value=a?a[S]:void 0}this.settingNewValue=!1},c.prototype.getDisplayValueCore=function(a,s){return d.prototype.getContentDisplayValueCore.call(this,a,s,this.contentPanel)},c.prototype.setAfterRenderCallbacks=function(a){var s=this;if(a&&this.customQuestion)for(var r=a.questions,o=0;o<r.length;o++)r[o].afterRenderQuestionCallback=function(S,I){s.customQuestion.onAfterRenderContentElement(s,S,I)}},c.ItemVariableName="composite",c}(_)},"./src/question_dropdown.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionDropdownModel",function(){return _});var l,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question_baseselect.ts"),v=e("./src/itemvalue.ts"),O=e("./src/utils/cssClassBuilder.ts"),C=e("./src/dropdownListModel.ts"),E=e("./src/settings.ts"),i=(l=function(m,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(d[a]=c[a])})(m,h)},function(m,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=m}l(m,h),m.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}),f=function(l,m,h,d){var s,c=arguments.length,a=c<3?m:null===d?d=Object.getOwnPropertyDescriptor(m,h):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(l,m,h,d);else for(var r=l.length-1;r>=0;r--)(s=l[r])&&(a=(c<3?s(a):c>3?s(m,h,a):s(m,h))||a);return c>3&&a&&Object.defineProperty(m,h,a),a},_=function(l){function m(h){var d=l.call(this,h)||this;return d.lastSelectedItemValue=null,d.minMaxChoices=[],d.onOpened=d.addEvent(),d.createLocalizableString("placeholder",d,!1,!0),d.createLocalizableString("clearCaption",d,!1,!0),d.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){d.onVisibleChoicesChanged()}),d.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices"],function(){d.updateReadOnlyText()}),d.updateReadOnlyText(),d}return i(m,l),m.prototype.updateReadOnlyText=function(){var h=this.selectedItem?"":this.placeholder;"select"==this.renderAs&&(this.isOtherSelected?h=this.otherText:this.isNoneSelected?h=this.noneText:this.selectedItem&&(h=this.selectedItemText)),this.readOnlyText=h},m.prototype.locStrsChanged=function(){l.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(m.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(h){this.allowClear=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(h){this.placeholder=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(h){this.setLocalizableStringText("placeholder",h)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(h){this.setLocalizableStringText("clearCaption",h)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),m.prototype.getType=function(){return"dropdown"},Object.defineProperty(m.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"selectedItem",{get:function(){var h=this.selectedItemValues;if(this.isEmpty())return null;var d=v.ItemValue.getItemByValue(this.visibleChoices,this.value);return d?this.lastSelectedItemValue=d:h||this.updateSelectedItemValues(),this.lastSelectedItemValue||h||new v.ItemValue(this.value)},enumerable:!1,configurable:!0}),m.prototype.supportGoNextPageAutomatic=function(){return!0},m.prototype.getChoices=function(){var h=l.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return h;for(var d=[],c=0;c<h.length;c++)d.push(h[c]);if(0===this.minMaxChoices.length||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1)for(this.minMaxChoices=[],c=this.choicesMin;c<=this.choicesMax;c+=this.choicesStep)this.minMaxChoices.push(new v.ItemValue(c));return d.concat(this.minMaxChoices)},Object.defineProperty(m.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(h){this.setPropertyValue("choicesMin",h)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(h){this.setPropertyValue("choicesMax",h)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(h){h<1&&(h=1),this.setPropertyValue("choicesStep",h)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(h){this.setPropertyValue("autocomplete",h)},enumerable:!1,configurable:!0}),m.prototype.getControlClass=function(){return(new O.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(m.prototype,"selectedItemLocText",{get:function(){return this.selectedItem?.locText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"selectedItemText",{get:function(){var h=this.selectedItem;return h?h.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"popupModel",{get:function(){var h;return"select"!==this.renderAs&&!this.dropdownListModel&&(this.dropdownListModel=new C.DropdownListModel(this)),null===(h=this.dropdownListModel)||void 0===h?void 0:h.popupModel},enumerable:!1,configurable:!0}),m.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},m.prototype.onVisibleChoicesChanged=function(){l.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},m.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},m.prototype.getInputId=function(){return this.inputId+"_0"},m.prototype.clearValue=function(){l.prototype.clearValue.call(this),this.lastSelectedItemValue=null},m.prototype.onClick=function(h){this.onOpenedCallBack&&this.onOpenedCallBack()},m.prototype.onKeyUp=function(h){46===(h.which||h.keyCode)&&(this.clearValue(),h.preventDefault(),h.stopPropagation())},f([Object(n.property)({defaultValue:!0})],m.prototype,"allowClear",void 0),f([Object(n.property)({defaultValue:!0,onSet:function(h,d){d.dropdownListModel&&d.dropdownListModel.setSearchEnabled(h)}})],m.prototype,"searchEnabled",void 0),f([Object(n.property)({defaultValue:!1})],m.prototype,"inputHasValue",void 0),f([Object(n.property)({defaultValue:""})],m.prototype,"readOnlyText",void 0),f([Object(n.property)({defaultValue:!1})],m.prototype,"choicesLazyLoadEnabled",void 0),f([Object(n.property)({defaultValue:25})],m.prototype,"choicesLazyLoadPageSize",void 0),m}(T.QuestionSelectBase);n.Serializer.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:E.settings.questions.dataList},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new _("")},"selectbase"),y.QuestionFactory.Instance.registerQuestion("dropdown",function(l){var m=new _(l);return m.choices=y.QuestionFactory.DefaultChoices,m})},"./src/question_empty.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionEmptyModel",function(){return v});var O,n=e("./src/jsonobject.ts"),y=e("./src/question.ts"),T=(O=function(C,E){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(i[_]=f[_])})(C,E)},function(C,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)}),v=function(O){function C(E){return O.call(this,E)||this}return T(C,O),C.prototype.getType=function(){return"empty"},C}(y.Question);n.Serializer.addClass("empty",[],function(){return new v("")},"question")},"./src/question_expression.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionExpressionModel",function(){return E}),e.d(t,"getCurrecyCodes",function(){return i});var f,n=e("./src/helpers.ts"),y=e("./src/question.ts"),T=e("./src/jsonobject.ts"),v=e("./src/questionfactory.ts"),O=e("./src/conditions.ts"),C=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),E=function(f){function _(l){var m=f.call(this,l)||this;return m.createLocalizableString("format",m),m.registerPropertyChangedHandlers(["expression"],function(){m.expressionRunner&&(m.expressionRunner=new O.ExpressionRunner(m.expression))}),m.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){m.updateFormatedValue()}),m}return C(_,f),_.prototype.getType=function(){return"expression"},Object.defineProperty(_.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(l){this.setLocalizableStringText("format",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(l){this.setPropertyValue("expression",l)},enumerable:!1,configurable:!0}),_.prototype.locCalculation=function(){this.expressionIsRunning=!0},_.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},_.prototype.runCondition=function(l,m){var h=this;f.prototype.runCondition.call(this,l,m),this.expression&&!this.expressionIsRunning&&(this.runIfReadOnly||!this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=new O.ExpressionRunner(this.expression)),this.expressionRunner.onRunComplete=function(d){n.Helpers.isTwoValueEquals(d,h.value)||(h.value=d),h.unlocCalculation()},this.expressionRunner.run(l,m))},_.prototype.canCollectErrors=function(){return!0},_.prototype.hasRequiredError=function(){return!1},Object.defineProperty(_.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(l){l<-1||l>20||this.setPropertyValue("maximumFractionDigits",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(l){l<-1||l>20||this.setPropertyValue("minimumFractionDigits",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"runIfReadOnly",{get:function(){return!0===this.runIfReadOnlyValue},set:function(l){this.runIfReadOnlyValue=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),_.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},_.prototype.onValueChanged=function(){this.updateFormatedValue()},_.prototype.updateValueFromSurvey=function(l){f.prototype.updateValueFromSurvey.call(this,l),this.updateFormatedValue()},_.prototype.getDisplayValueCore=function(l,m){var h=this.isValueEmpty(m)?this.defaultValue:m,d="";if(!this.isValueEmpty(h)){var c=this.getValueAsStr(h);d=this.format?this.format.format(c):c}return this.survey&&(d=this.survey.getExpressionDisplayValue(this,h,d)),d},Object.defineProperty(_.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(l){this.setPropertyValue("displayStyle",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(l){["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"].indexOf(l)<0||this.setPropertyValue("currency",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(l){this.setPropertyValue("useGrouping",l)},enumerable:!1,configurable:!0}),_.prototype.getValueAsStr=function(l){if("date"==this.displayStyle){var m=new Date(l);if(m&&m.toLocaleDateString)return m.toLocaleDateString()}if("none"!=this.displayStyle&&n.Helpers.isNumber(l)){var h=this.getLocale();h||(h="en");var d={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(d.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(d.minimumFractionDigits=this.minimumFractionDigits),l.toLocaleString(h,d)}return l.toString()},_}(y.Question);function i(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}T.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},default:"USD"},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new E("")},"question"),v.QuestionFactory.Instance.registerQuestion("expression",function(f){return new E(f)})},"./src/question_file.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionFileModel",function(){return m}),e.d(t,"FileLoader",function(){return h});var d,n=e("./src/question.ts"),y=e("./src/jsonobject.ts"),T=e("./src/questionfactory.ts"),v=e("./src/error.ts"),O=e("./src/utils/cssClassBuilder.ts"),C=e("./src/utils/utils.ts"),E=e("./src/actions/container.ts"),i=e("./src/actions/action.ts"),f=e("./src/helpers.ts"),_=(d=function(c,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=c}d(c,a),c.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}),l=function(d,c,a,s){var S,r=arguments.length,o=r<3?c:null===s?s=Object.getOwnPropertyDescriptor(c,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(d,c,a,s);else for(var I=d.length-1;I>=0;I--)(S=d[I])&&(o=(r<3?S(o):r>3?S(c,a,o):S(c,a))||o);return r>3&&o&&Object.defineProperty(c,a,o),o},m=function(d){function c(a){var s=d.call(this,a)||this;return s.isUploading=!1,s.isDragging=!1,s.onUploadStateChanged=s.addEvent(),s.onStateChanged=s.addEvent(),s.mobileFileNavigator=new E.ActionContainer,s.dragCounter=0,s.onDragEnter=function(r){s.isInputReadOnly||(r.preventDefault(),s.isDragging=!0,s.dragCounter++)},s.onDragOver=function(r){if(s.isInputReadOnly)return r.returnValue=!1,!1;r.dataTransfer.dropEffect="copy",r.preventDefault()},s.onDrop=function(r){s.isInputReadOnly||(s.isDragging=!1,s.dragCounter=0,r.preventDefault(),s.onChange(r.dataTransfer))},s.onDragLeave=function(r){s.isInputReadOnly||(s.dragCounter--,0===s.dragCounter&&(s.isDragging=!1))},s.doChange=function(r){s.onChange(r.target||r.srcElement)},s.doClean=function(r){s.needConfirmRemoveFile&&!Object(C.confirmAction)(s.confirmRemoveAllMessage)||(s.rootElement&&(s.rootElement.querySelectorAll("input")[0].value=""),s.clear())},s.doDownloadFile=function(r,o){Object(C.detectIEOrEdge)()&&(r.preventDefault(),Object(C.loadFileFromBase64)(o.content,o.name))},s.fileIndexAction=new i.Action({id:"fileIndex",title:s.getFileIndexCaption(),enabled:!1}),s.prevFileAction=new i.Action({id:"prevPage",iconSize:16,action:function(){s.indexToShow=s.previewValue.length&&(s.indexToShow-1+s.previewValue.length)%s.previewValue.length||0,s.fileIndexAction.title=s.getFileIndexCaption()}}),s.nextFileAction=new i.Action({id:"nextPage",iconSize:16,action:function(){s.indexToShow=s.previewValue.length&&(s.indexToShow+1)%s.previewValue.length||0,s.fileIndexAction.title=s.getFileIndexCaption()}}),s.mobileFileNavigator.actions=[s.prevFileAction,s.fileIndexAction,s.nextFileAction],s}return _(c,d),Object.defineProperty(c.prototype,"mobileFileNavigatorVisible",{get:function(){return this.isMobile&&this.containsMultiplyFiles},enumerable:!1,configurable:!0}),c.prototype.updateElementCssCore=function(a){d.prototype.updateElementCssCore.call(this,a),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},c.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.previewValue.length)},c.prototype.isPreviewVisible=function(a){return!this.isMobile||a===this.indexToShow},c.prototype.getType=function(){return"file"},c.prototype.clearOnDeletingContainer=function(){!this.survey||this.survey.clearFiles(this,this.name,this.value,null,function(){})},Object.defineProperty(c.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(a){this.setPropertyValue("showPreview",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple",!1)},set:function(a){this.setPropertyValue("allowMultiple",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(a){this.setPropertyValue("imageHeight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(a){this.setPropertyValue("imageWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(a){this.setPropertyValue("acceptedTypes",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(a){this.setPropertyValue("storeDataAsText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(a){this.setPropertyValue("waitForUpload",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(a){this.setPropertyValue("allowImagesPreview",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(a){this.setPropertyValue("maxSize",a)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(a){this.setPropertyValue("needConfirmRemoveFile",a)},enumerable:!1,configurable:!0}),c.prototype.getConfirmRemoveMessage=function(a){return this.confirmRemoveMessage.format(a)},Object.defineProperty(c.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),c.prototype.clear=function(a){var s=this;!this.survey||(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(r,o){"success"===r&&(s.value=void 0,s.errors=[],a&&a(),s.indexToShow=0,s.fileIndexAction.title=s.getFileIndexCaption())}))},Object.defineProperty(c.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showRemoveButton",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showRemoveButtonBottom",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButtonBottom},enumerable:!1,configurable:!0}),c.prototype.defaultImage=function(a){return!this.canPreviewImage(a)&&!!this.cssClasses.defaultImage},c.prototype.removeFile=function(a){this.removeFileByContent(this.value.filter(function(s){return s.name===a})[0])},c.prototype.removeFileByContent=function(a){var s=this;!this.survey||this.survey.clearFiles(this,this.name,this.value,a.name,function(r,o){if("success"===r){var S=s.value;s.value=Array.isArray(S)?S.filter(function(I){return!f.Helpers.isTwoValueEquals(I,a,!0)}):void 0}})},c.prototype.loadFiles=function(a){var s=this;if(this.survey&&(this.errors=[],this.allFilesOk(a))){var r=function(){s.stateChanged("loading");var o=[];s.storeDataAsText?a.forEach(function(S){var I=new FileReader;I.onload=function(x){(o=o.concat([{name:S.name,type:S.type,content:I.result}])).length===a.length&&(s.value=(s.value||[]).concat(o))},I.readAsDataURL(S)}):s.survey&&s.survey.uploadFiles(s,s.name,a,function(S,I){"error"===S&&s.stateChanged("error"),"success"===S&&(s.value=(s.value||[]).concat(I.map(function(x){return{name:x.file.name,type:x.file.type,content:x.content}})))})};this.allowMultiple?r():this.clear(r)}},c.prototype.canPreviewImage=function(a){return this.allowImagesPreview&&!!a&&this.isFileImage(a)},c.prototype.loadPreview=function(a){var s=this;if(this.previewValue.splice(0,this.previewValue.length),this.showPreview&&a){var r=Array.isArray(a)?a:a?[a]:[];this.storeDataAsText?r.forEach(function(o){s.previewValue.push({name:o.name,type:o.type,content:o.content||o})}):(this._previewLoader&&this._previewLoader.dispose(),this.isReadyValue=!1,this._previewLoader=new h(this,function(o,S){"loaded"===o&&S.forEach(function(I){s.previewValue.push(I)}),s.isReadyValue=!0,s.onReadyChanged&&s.onReadyChanged.fire(s,{question:s,isReady:!0,oldIsReady:!1}),s._previewLoader.dispose(),s._previewLoader=void 0}),this._previewLoader.load(r)),this.indexToShow=this.previewValue.length>0&&this.indexToShow>0?this.indexToShow-1:0,this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1}},c.prototype.onCheckForErrors=function(a,s){d.prototype.onCheckForErrors.call(this,a,s),this.isUploading&&this.waitForUpload&&a.push(new v.UploadingFileError(this.getLocalizationString("uploadingFile"),this))},c.prototype.stateChanged=function(a){this.currentState!=a&&("loading"===a&&(this.isUploading=!0),"loaded"===a&&(this.isUploading=!1),"error"===a&&(this.isUploading=!1),this.currentState=a,this.onStateChanged.fire(this,{state:a}),this.onUploadStateChanged.fire(this,{state:a}))},c.prototype.allFilesOk=function(a){var s=this,r=this.errors?this.errors.length:0;return(a||[]).forEach(function(o){s.maxSize>0&&o.size>s.maxSize&&s.errors.push(new v.ExceedSizeError(s.maxSize,s))}),r===this.errors.length},c.prototype.isFileImage=function(a){if(!a)return!1;var s="data:image",r=a.content&&a.content.substring(0,s.length);return(r=r&&r.toLowerCase())===s||!!a.type&&0===a.type.toLowerCase().indexOf("image/")},c.prototype.getPlainData=function(a){void 0===a&&(a={includeEmpty:!0});var s=d.prototype.getPlainData.call(this,a);if(s&&!this.isEmpty()){s.isNode=!1;var r=Array.isArray(this.value)?this.value:[this.value];s.data=r.map(function(o,S){return{name:S,title:"File",value:o.content&&o.content||o,displayValue:o.name&&o.name||o,getString:function(I){return"object"==typeof I?JSON.stringify(I):I},isNode:!1}})}return s},c.prototype.supportComment=function(){return!0},c.prototype.getChooseFileCss=function(){var a=this.isAnswered;return(new O.CssClassBuilder).append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!a).append(this.cssClasses.chooseFileAsTextDisabled,!a&&this.isInputReadOnly).append(this.cssClasses.chooseFileAsIcon,a).toString()},c.prototype.getReadOnlyFileCss=function(){return(new O.CssClassBuilder).append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(c.prototype,"fileRootCss",{get:function(){return(new O.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),c.prototype.getFileDecoratorCss=function(){return(new O.CssClassBuilder).append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},c.prototype.onChange=function(a){if(window.FileReader&&a&&a.files&&!(a.files.length<1)){for(var s=[],r=this.allowMultiple?a.files.length:1,o=0;o<r;o++)s.push(a.files[o]);a.value="",this.loadFiles(s)}},c.prototype.onChangeQuestionValue=function(a){d.prototype.onChangeQuestionValue.call(this,a),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.loadPreview(a)},c.prototype.afterRender=function(a){this.rootElement=a,d.prototype.afterRender.call(this,a)},c.prototype.doRemoveFile=function(a){if(!this.needConfirmRemoveFile||Object(C.confirmAction)(this.getConfirmRemoveMessage(a.name))){var r=this.previewValue.indexOf(a);this.removeFileByContent(-1===r?a:this.value[r])}},l([Object(y.property)()],c.prototype,"isDragging",void 0),l([Object(y.propertyArray)({})],c.prototype,"previewValue",void 0),l([Object(y.property)({defaultValue:"empty"})],c.prototype,"currentState",void 0),l([Object(y.property)({defaultValue:0})],c.prototype,"indexToShow",void 0),l([Object(y.property)({defaultValue:!1})],c.prototype,"containsMultiplyFiles",void 0),l([Object(y.property)({localizable:{defaultStr:"confirmRemoveFile"}})],c.prototype,"confirmRemoveMessage",void 0),l([Object(y.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],c.prototype,"confirmRemoveAllMessage",void 0),l([Object(y.property)({localizable:{defaultStr:"noFileChosen"}})],c.prototype,"noFileChosenCaption",void 0),l([Object(y.property)({localizable:{defaultStr:"chooseFileCaption"}})],c.prototype,"chooseButtonCaption",void 0),l([Object(y.property)({localizable:{defaultStr:"clearCaption"}})],c.prototype,"clearButtonCaption",void 0),l([Object(y.property)({localizable:{defaultStr:"removeFileCaption"}})],c.prototype,"removeFileCaption",void 0),l([Object(y.property)({localizable:{defaultStr:"loadingFile"}})],c.prototype,"loadingFileTitle",void 0),l([Object(y.property)({localizable:{defaultStr:"chooseFile"}})],c.prototype,"chooseFileTitle",void 0),l([Object(y.property)({localizable:{defaultStr:"fileDragAreaPlaceholder"}})],c.prototype,"dragAreaPlaceholder",void 0),c}(n.Question);y.Serializer.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(d){return d.hasComment},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(d){return d.hasComment}},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"}],function(){return new m("")},"question"),T.QuestionFactory.Instance.registerQuestion("file",function(d){return new m(d)});var h=function(){function d(c,a){this.fileQuestion=c,this.callback=a,this.loaded=[]}return d.prototype.load=function(c){var a=this;c.forEach(function(s){a.fileQuestion.survey&&a.fileQuestion.survey.downloadFile(a.fileQuestion,a.fileQuestion.name,s,function(r,o){!a.fileQuestion||!a.callback||("success"===r?(a.loaded.push({content:o,name:s.name,type:s.type}),a.loaded.length===c.length&&a.callback("loaded",a.loaded)):a.callback("error",a.loaded))})})},d.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},d}()},"./src/question_html.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionHtmlModel",function(){return O});var C,n=e("./src/questionnonvalue.ts"),y=e("./src/jsonobject.ts"),T=e("./src/questionfactory.ts"),v=(C=function(E,i){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(f[l]=_[l])})(E,i)},function(E,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function f(){this.constructor=E}C(E,i),E.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)}),O=function(C){function E(i){var f=C.call(this,i)||this;return f.createLocalizableString("html",f).onGetTextCallback=function(l){return f.survey&&!f.ignoreHtmlProgressing?f.survey.processHtml(l):l},f}return v(E,C),E.prototype.getType=function(){return"html"},Object.defineProperty(E.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),E.prototype.getProcessedText=function(i){return this.ignoreHtmlProgressing?i:C.prototype.getProcessedText.call(this,i)},Object.defineProperty(E.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(i){this.setLocalizableStringText("html",i)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"processedHtml",{get:function(){return this.survey?this.survey.processHtml(this.html):this.html},enumerable:!1,configurable:!0}),E}(n.QuestionNonValue);y.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new O("")},"nonvalue"),T.QuestionFactory.Instance.registerQuestion("html",function(C){return new O(C)})},"./src/question_image.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionImageModel",function(){return l});var h,n=e("./src/questionnonvalue.ts"),y=e("./src/jsonobject.ts"),T=e("./src/questionfactory.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(a[r]=s[r])})(d,c)},function(d,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}h(d,c),d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),C=["youtube.com","youtu.be"],E=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],i="https://www.youtube.com/",f="embed";function _(h){if(!h)return!1;h=h.toLowerCase();for(var d=0;d<C.length;d++)if(-1!==h.indexOf(C[d]))return!0;return!1}var l=function(h){function d(c){var a=h.call(this,c)||this;return a.createLocalizableString("imageLink",a,!1).onGetTextCallback=function(r){return function m(h){if(!h||!_(h))return h;if(h.toLocaleLowerCase().indexOf(f)>-1)return h;for(var c="",a=h.length-1;a>=0&&"="!==h[a]&&"/"!==h[a];a--)c=h[a]+c;return i+f+"/"+c}(r)},a.createLocalizableString("altText",a,!1),a.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return a.calculateRenderedMode()}),a}return O(d,h),d.prototype.getType=function(){return"image"},Object.defineProperty(d.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.onSurveyLoad=function(){h.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(d.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(c){this.setLocalizableStringText("imageLink",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(c){this.setLocalizableStringText("altText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(c){this.setPropertyValue("imageHeight",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedHeight",{get:function(){return this.imageHeight?this.imageHeight+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(c){this.setPropertyValue("imageWidth",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedWidth",{get:function(){return this.imageWidth?this.imageWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(c){this.setPropertyValue("imageFit",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(c){this.setPropertyValue("contentMode",c),"video"===c&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),d.prototype.getImageCss=function(){var c=y.Serializer.findProperty("image","imageHeight"),a=y.Serializer.findProperty("image","imageWidth"),s=c.isDefaultValue(this.imageHeight)&&a.isDefaultValue(this.imageWidth);return(new v.CssClassBuilder).append(this.cssClasses.image).append(this.cssClasses.adaptive,s).toString()},d.prototype.setRenderedMode=function(c){this.setPropertyValue("renderedMode",c)},d.prototype.calculateRenderedMode=function(){"auto"!==this.contentMode?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},d.prototype.isYoutubeVideo=function(){return _(this.imageLink)},d.prototype.isVideo=function(){var c=this.imageLink;if(!c)return!1;c=c.toLowerCase();for(var a=0;a<E.length;a++)if(c.endsWith(E[a]))return!0;return!1},d}(n.QuestionNonValue);y.Serializer.addClass("image",[{name:"imageLink",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",default:150,minValue:0},{name:"imageWidth:number",default:200,minValue:0}],function(){return new l("")},"nonvalue"),T.QuestionFactory.Instance.registerQuestion("image",function(h){return new l(h)})},"./src/question_imagepicker.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ImageItemValue",function(){return l}),e.d(t,"QuestionImagePickerModel",function(){return m});var h,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question_baseselect.ts"),v=e("./src/itemvalue.ts"),O=e("./src/helpers.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=e("./src/settings.ts"),i=e("./src/utils/utils.ts"),f=(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(a[r]=s[r])})(d,c)},function(d,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}h(d,c),d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),_=function(h,d,c,a){var o,s=arguments.length,r=s<3?d:null===a?a=Object.getOwnPropertyDescriptor(d,c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,d,c,a);else for(var S=h.length-1;S>=0;S--)(o=h[S])&&(r=(s<3?o(r):s>3?o(d,c,r):o(d,c))||r);return s>3&&r&&Object.defineProperty(d,c,r),r},l=function(h){function d(c,a,s){void 0===a&&(a=null),void 0===s&&(s="imageitemvalue");var r=h.call(this,c,a,s)||this;return r.typeName=s,r.createLocalizableString("imageLink",r,!1),r}return f(d,h),d.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(d.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(c){this.setLocalizableStringText("imageLink",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),d.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},d.prototype.getMarkdownHtml=function(c,a){return this.locOwner?this.locOwner.getMarkdownHtml(c,a):void 0},d.prototype.getRenderer=function(c){return this.locOwner?this.locOwner.getRenderer(c):null},d.prototype.getRendererContext=function(c){return this.locOwner?this.locOwner.getRendererContext(c):c},d.prototype.getProcessedText=function(c){return this.locOwner?this.locOwner.getProcessedText(c):c},d}(v.ItemValue),m=function(h){function d(c){var a=h.call(this,c)||this;return a.isResponsiveValue=!1,a.onContentLoaded=function(s,r){var o=r.target;s.aspectRatio="video"==a.contentMode?o.videoWidth/o.videoHeight:o.naturalWidth/o.naturalHeight,a._width&&a.processResponsiveness(0,a._width)},a.colCount=0,a.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){a._width&&a.processResponsiveness(0,a._width)}),a.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){a.calcIsResponsive()}),a.calcIsResponsive(),a}return f(d,h),d.prototype.getType=function(){return"imagepicker"},d.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(d.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(d.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),d.prototype.supportOther=function(){return!1},d.prototype.supportNone=function(){return!1},d.prototype.isAnswerCorrect=function(){return this.multiSelect?O.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):h.prototype.isAnswerCorrect.call(this)},Object.defineProperty(d.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(c){this.setPropertyValue("multiSelect",c)},enumerable:!1,configurable:!0}),d.prototype.isItemSelected=function(c){var a=this.value;if(this.isValueEmpty(a))return!1;if(!this.multiSelect)return this.isTwoValueEquals(a,c.value);if(!Array.isArray(a))return!1;for(var s=0;s<a.length;s++)if(this.isTwoValueEquals(a[s],c.value))return!0;return!1},d.prototype.clearIncorrectValues=function(){if(this.multiSelect){var c=this.value;if(!c)return;if(!Array.isArray(c)||0==c.length)return void this.clearValue();for(var a=[],s=0;s<c.length;s++)this.hasUnknownValue(c[s],!0)||a.push(c[s]);if(a.length==c.length)return;0==a.length?this.clearValue():this.value=a}else h.prototype.clearIncorrectValues.call(this)},d.prototype.getDisplayValueCore=function(c,a){return this.multiSelect||Array.isArray(a)?this.getDisplayArrayValue(c,a):h.prototype.getDisplayValueCore.call(this,c,a)},Object.defineProperty(d.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(c){this.setPropertyValue("showLabel",c)},enumerable:!1,configurable:!0}),d.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},d.prototype.getValueCore=function(){var c=h.prototype.getValueCore.call(this);return void 0!==c?c:this.multiSelect?[]:c},d.prototype.convertValToArrayForMultSelect=function(c){return!this.multiSelect||this.isValueEmpty(c)||Array.isArray(c)?c:[c]},d.prototype.renderedValueFromDataCore=function(c){return this.convertValToArrayForMultSelect(c)},d.prototype.rendredValueToDataCore=function(c){return this.convertValToArrayForMultSelect(c)},Object.defineProperty(d.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(c){this.setPropertyValue("imageHeight",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedImageHeight",{get:function(){return((this.isResponsive?this.responsiveImageHeight:this.imageHeight)||150)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(c){this.setPropertyValue("imageWidth",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedImageWidth",{get:function(){return((this.isResponsive?this.responsiveImageWidth:this.imageWidth)||200)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(c){this.setPropertyValue("imageFit",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(c){this.setPropertyValue("contentMode",c),"video"===c&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),d.prototype.convertDefaultValue=function(c){return c},Object.defineProperty(d.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),d.prototype.isFootChoice=function(c,a){return!1},d.prototype.getSelectBaseRootCss=function(){return(new C.CssClassBuilder).append(h.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,1==this.getCurrentColCount()).toString()},Object.defineProperty(d.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"exactSizesAreEmpty",{get:function(){var c=this;return!["imageHeight","imageWidth"].some(function(a){return null!=c[a]})},enumerable:!1,configurable:!0}),d.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},d.prototype.getObservedElementSelector=function(){return Object(i.classesToSelector)(this.cssClasses.root)},d.prototype.supportResponsiveness=function(){return!0},d.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},d.prototype.getCurrentColCount=function(){return void 0===this.responsiveColCount||0===this.colCount?this.colCount:this.responsiveColCount},d.prototype.processResponsiveness=function(c,a){this._width=a=Math.floor(a);var s=function(H,$,j){var V=Math.floor(H/($+j));return(V+1)*($+j)-j<=H&&V++,V};if(this.isResponsive){var u,r=this.choices.length+(this.isDesignMode?1:0),o=this.gapBetweenItems||0,S=this.minImageWidth,I=this.maxImageWidth,x=this.maxImageHeight,P=this.minImageHeight,g=this.colCount;if(0===g)if((o+S)*r-o>a){var M=s(a,S,o);u=Math.floor((a-o*(M-1))/M)}else u=Math.floor((a-o*(r-1))/r);else{var R=s(a,S,o);R<g?(this.responsiveColCount=R>=1?R:1,g=this.responsiveColCount):this.responsiveColCount=g,u=Math.floor((a-o*(g-1))/g)}u=Math.max(S,Math.min(u,I));var w=Number.MIN_VALUE;this.choices.forEach(function(H){var $=u/H.aspectRatio;w=$>w?$:w}),w>x?w=x:w<P&&(w=P);var F=this.responsiveImageWidth,B=this.responsiveImageHeight;return this.responsiveImageWidth=u,this.responsiveImageHeight=w,F!==this.responsiveImageWidth||B!==this.responsiveImageHeight}return!1},d.prototype.afterRender=function(c){h.prototype.afterRender.call(this,c);var a=this.survey.getCss().variables;a&&(this.gapBetweenItems=Number.parseInt(window.getComputedStyle(c).getPropertyValue(a.imagepickerGapBetweenItems))||0)},_([Object(n.property)({})],d.prototype,"responsiveImageHeight",void 0),_([Object(n.property)({})],d.prototype,"responsiveImageWidth",void 0),_([Object(n.property)({})],d.prototype,"isResponsiveValue",void 0),_([Object(n.property)({})],d.prototype,"maxImageWidth",void 0),_([Object(n.property)({})],d.prototype,"minImageWidth",void 0),_([Object(n.property)({})],d.prototype,"maxImageHeight",void 0),_([Object(n.property)({})],d.prototype,"minImageHeight",void 0),_([Object(n.property)({})],d.prototype,"responsiveColCount",void 0),d}(T.QuestionCheckboxBase);n.Serializer.addClass("imageitemvalue",[],function(h){return new l(h)},"itemvalue"),n.Serializer.addProperty("imageitemvalue",{name:"imageLink",serializationProperty:"locImageLink"}),n.Serializer.addClass("responsiveImageSize",[],void 0,"number"),n.Serializer.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return E.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return E.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return E.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return E.settings.supportCreatorV2}}],function(){return new m("")},"checkboxbase"),n.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),n.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),n.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),n.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),y.QuestionFactory.Instance.registerQuestion("imagepicker",function(h){return new m(h)})},"./src/question_matrix.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"MatrixRowModel",function(){return d}),e.d(t,"MatrixCells",function(){return c}),e.d(t,"QuestionMatrixModel",function(){return a});var s,n=e("./src/helpers.ts"),y=e("./src/itemvalue.ts"),T=e("./src/martixBase.ts"),v=e("./src/jsonobject.ts"),O=e("./src/base.ts"),C=e("./src/surveyStrings.ts"),E=e("./src/error.ts"),i=e("./src/questionfactory.ts"),f=e("./src/localizablestring.ts"),_=e("./src/question_dropdown.ts"),l=e("./src/settings.ts"),m=e("./src/utils/cssClassBuilder.ts"),h=(s=function(r,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var x in I)Object.prototype.hasOwnProperty.call(I,x)&&(S[x]=I[x])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function S(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(S.prototype=o.prototype,new S)}),d=function(s){function r(o,S,I,x){var P=s.call(this)||this;return P.fullName=S,P.item=o,P.data=I,P.value=x,P.cellClick=function(g){P.value=g.value},P.registerPropertyChangedHandlers(["value"],function(){P.data&&P.data.onMatrixRowChanged(P)}),P}return h(r,s),Object.defineProperty(r.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(o){o=this.data.getCorrectedRowValue(o),this.setPropertyValue("value",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rowClasses",{get:function(){var o=this.data.cssClasses,S=!!this.data.getErrorByType("requiredinallrowserror");return(new m.CssClassBuilder).append(o.row).append(o.rowError,S&&this.isValueEmpty(this.value)).toString()},enumerable:!1,configurable:!0}),r}(O.Base),c=function(){function s(r){this.cellsOwner=r,this.values={}}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){return 0==Object.keys(this.values).length},enumerable:!1,configurable:!0}),s.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},s.prototype.setCellText=function(r,o,S){if(r=this.getCellRowColumnValue(r,this.rows),o=this.getCellRowColumnValue(o,this.columns),r&&o){if(S)this.values[r]||(this.values[r]={}),this.values[r][o]||(this.values[r][o]=this.createString()),this.values[r][o].text=S;else if(this.values[r]&&this.values[r][o]){var I=this.values[r][o];I.text="",I.isEmpty&&(delete this.values[r][o],0==Object.keys(this.values[r]).length&&delete this.values[r])}this.valuesChanged()}},s.prototype.setDefaultCellText=function(r,o){this.setCellText(l.settings.matrixDefaultRowName,r,o)},s.prototype.getCellLocText=function(r,o){return r=this.getCellRowColumnValue(r,this.rows),o=this.getCellRowColumnValue(o,this.columns),r&&o&&this.values[r]&&this.values[r][o]?this.values[r][o]:null},s.prototype.getDefaultCellLocText=function(r,o){return this.getCellLocText(l.settings.matrixDefaultRowName,r)},s.prototype.getCellDisplayLocText=function(r,o){var S=this.getCellLocText(r,o);return S&&!S.isEmpty||(S=this.getCellLocText(l.settings.matrixDefaultRowName,o))&&!S.isEmpty?S:("number"==typeof o&&(o=o>=0&&o<this.columns.length?this.columns[o]:null),o&&o.locText?o.locText:null)},s.prototype.getCellText=function(r,o){var S=this.getCellLocText(r,o);return S?S.calculatedText:null},s.prototype.getDefaultCellText=function(r){var o=this.getCellLocText(l.settings.matrixDefaultRowName,r);return o?o.calculatedText:null},s.prototype.getCellDisplayText=function(r,o){var S=this.getCellDisplayLocText(r,o);return S?S.calculatedText:null},Object.defineProperty(s.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),s.prototype.getCellRowColumnValue=function(r,o){if(null==r)return null;if("number"==typeof r){if(r<0||r>=o.length)return null;r=o[r].value}return r.value?r.value:r},s.prototype.getJson=function(){if(this.isEmpty)return null;var r={};for(var o in this.values){var S={},I=this.values[o];for(var x in I)S[x]=I[x].getJson();r[o]=S}return r},s.prototype.setJson=function(r){if(this.values={},r)for(var o in r)if("pos"!=o){var S=r[o];for(var I in this.values[o]={},S)if("pos"!=I){var x=this.createString();x.setJson(S[I]),this.values[o][I]=x}}this.valuesChanged()},s.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var r in this.values){var o=this.values[r];for(var S in o)o[S].strChanged()}},s.prototype.createString=function(){return new f.LocalizableString(this.cellsOwner,!0)},s}(),a=function(s){function r(o){var S=s.call(this,o)||this;return S.isRowChanging=!1,S.emptyLocalizableString=new f.LocalizableString(S),S.cellsValue=new c(S),S.cellsValue.onValuesChanged=function(){S.updateHasCellText(),S.propertyValueChanged("cells",S.cells,S.cells)},S.registerPropertyChangedHandlers(["columns"],function(){S.onColumnsChanged()}),S.registerPropertyChangedHandlers(["rows"],function(){S.filterItems()||S.onRowsChanged()}),S.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){S.updateVisibilityBasedOnRows()}),S}return h(r,s),r.prototype.getType=function(){return"matrix"},Object.defineProperty(r.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired",!1)},set:function(o){this.setPropertyValue("isAllRowRequired",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(o){(o=o.toLowerCase())!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",o),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(o){this.setPropertyValue("hideIfRowsEmpty",o)},enumerable:!1,configurable:!0}),r.prototype.getRows=function(){return this.rows},r.prototype.getColumns=function(){return this.visibleColumns},r.prototype.addColumn=function(o,S){var I=new y.ItemValue(o,S);return this.columns.push(I),I},r.prototype.getItemClass=function(o,S){var I=o.value==S.value,x=this.isReadOnly,P=!I&&!x;return(new m.CssClassBuilder).append(this.cssClasses.cell,this.hasCellText).append(this.hasCellText?this.cssClasses.cellText:this.cssClasses.label).append(this.cssClasses.itemOnError,!this.hasCellText&&this.errors.length>0).append(this.hasCellText?this.cssClasses.cellTextSelected:this.cssClasses.itemChecked,I).append(this.hasCellText?this.cssClasses.cellTextDisabled:this.cssClasses.itemDisabled,x).append(this.cssClasses.itemHover,P&&!this.hasCellText).toString()},Object.defineProperty(r.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),r.prototype.locStrsChanged=function(){s.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},r.prototype.getQuizQuestionCount=function(){for(var o=0,S=0;S<this.rows.length;S++)this.isValueEmpty(this.correctAnswer[this.rows[S].value])||o++;return o},r.prototype.getCorrectAnswerCount=function(){for(var o=0,S=this.value,I=0;I<this.rows.length;I++){var x=this.rows[I].value;!this.isValueEmpty(S[x])&&this.isTwoValueEquals(this.correctAnswer[x],S[x])&&o++}return o},r.prototype.getVisibleRows=function(){var o=new Array,S=this.value;S||(S={});for(var I=this.filteredRows?this.filteredRows:this.rows,x=0;x<I.length;x++){var P=I[x];this.isValueEmpty(P.value)||o.push(this.createMatrixRow(P,this.id+"_"+P.value.toString().replace(/\s/g,"_"),S[P.value]))}return 0==o.length&&!this.filteredRows&&o.push(this.createMatrixRow(new y.ItemValue(null),this.name.replace(/\s/g,"_"),S)),this.generatedVisibleRows=o,o},r.prototype.sortVisibleRows=function(o){return this.survey&&this.survey.isDesignMode?o:"random"===this.rowsOrder.toLowerCase()?n.Helpers.randomizeArray(o):o},r.prototype.endLoadingFromJson=function(){s.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},r.prototype.processRowsOnSet=function(o){return this.sortVisibleRows(o)},Object.defineProperty(r.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cells",{get:function(){return this.cellsValue},set:function(o){this.cells.setJson(o&&o.getJson?o.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),r.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},r.prototype.setCellText=function(o,S,I){this.cells.setCellText(o,S,I)},r.prototype.getCellText=function(o,S){return this.cells.getCellText(o,S)},r.prototype.setDefaultCellText=function(o,S){this.cells.setDefaultCellText(o,S)},r.prototype.getDefaultCellText=function(o){return this.cells.getDefaultCellText(o)},r.prototype.getCellDisplayText=function(o,S){return this.cells.getCellDisplayText(o,S)},r.prototype.getCellDisplayLocText=function(o,S){return this.cells.getCellDisplayLocText(o,S)||this.emptyLocalizableString},r.prototype.supportGoNextPageAutomatic=function(){return this.hasValuesInAllRows()},r.prototype.onCheckForErrors=function(o,S){s.prototype.onCheckForErrors.call(this,o,S),(!S||this.errors.length>0)&&this.hasErrorInRows()&&o.push(new E.RequiredInAllRowsError(null,this))},r.prototype.hasErrorInRows=function(){return!!this.isAllRowRequired&&!this.hasValuesInAllRows()},r.prototype.hasValuesInAllRows=function(){var o=this.generatedVisibleRows;if(o||(o=this.visibleRows),!o)return!0;for(var S=0;S<o.length;S++)if(this.isValueEmpty(o[S].value))return!1;return!0},r.prototype.getIsAnswered=function(){return s.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},r.prototype.createMatrixRow=function(o,S,I){var x=new d(o,S,this,I);return this.onMatrixRowCreated(x),x},r.prototype.onMatrixRowCreated=function(o){},r.prototype.setQuestionValue=function(o,S){if(void 0===S&&(S=!0),s.prototype.setQuestionValue.call(this,o,this.isRowChanging||S),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var I=this.value;if(I||(I={}),0==this.rows.length)this.generatedVisibleRows[0].value=I;else for(var x=0;x<this.generatedVisibleRows.length;x++){var g=I[this.generatedVisibleRows[x].name];this.isValueEmpty(g)&&(g=null),this.generatedVisibleRows[x].value=g}this.updateIsAnswered(),this.isRowChanging=!1}},r.prototype.getDisplayValueCore=function(o,S){var I={};for(var x in S){var P=o?y.ItemValue.getTextOrHtmlByValue(this.rows,x):x;P||(P=x);var g=y.ItemValue.getTextOrHtmlByValue(this.columns,S[x]);g||(g=S[x]),I[P]=g}return I},r.prototype.getPlainData=function(o){var S=this;void 0===o&&(o={includeEmpty:!0});var I=s.prototype.getPlainData.call(this,o);if(I){var x=this.createValueCopy();I.isNode=!0,I.data=Object.keys(x||{}).map(function(P){var g=S.rows.filter(function(R){return R.value===P})[0],u={name:P,title:g?g.text:"row",value:x[P],displayValue:y.ItemValue.getTextOrHtmlByValue(S.visibleColumns,x[P]),getString:function(R){return"object"==typeof R?JSON.stringify(R):R},isNode:!1},M=y.ItemValue.getItemByValue(S.visibleColumns,x[P]);return M&&(o.calculations||[]).forEach(function(R){u[R.propertyName]=M[R.propertyName]}),u})}return I},r.prototype.addConditionObjectsByContext=function(o,S){for(var I=0;I<this.rows.length;I++){var x=this.rows[I];x.value&&o.push({name:this.getValueName()+"."+x.value,text:this.processedTitle+"."+x.calculatedText,question:this})}},r.prototype.getConditionJson=function(o,S){if(void 0===o&&(o=null),void 0===S&&(S=null),!S)return s.prototype.getConditionJson.call(this);var I=new _.QuestionDropdownModel(S);I.choices=this.columns;var x=(new v.JsonObject).toJsonObject(I);return x.type=I.getType(),x},r.prototype.clearValueIfInvisibleCore=function(){s.prototype.clearValueIfInvisibleCore.call(this),this.hasRows&&this.clearInvisibleValuesInRows()},r.prototype.getFirstInputElementId=function(){var o=this.generatedVisibleRows;return o||(o=this.visibleRows),o.length>0&&this.visibleColumns.length>0?this.inputId+"_"+o[0].name+"_0":s.prototype.getFirstInputElementId.call(this)},r.prototype.onMatrixRowChanged=function(o){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var S=this.value;S||(S={}),S[o.name]=o.value,this.setNewValue(S)}else this.setNewValue(o.value);this.isRowChanging=!1}},r.prototype.getCorrectedRowValue=function(o){for(var S=0;S<this.columns.length;S++)if(o===this.columns[S].value)return o;for(S=0;S<this.columns.length;S++)if(this.isTwoValueEquals(o,this.columns[S].value))return this.columns[S].value;return o},r.prototype.getSearchableItemValueKeys=function(o){o.push("columns"),o.push("rows")},Object.defineProperty(r.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),r.prototype.getColumnHeaderWrapperComponentName=function(o){return this.SurveyModel.getElementWrapperComponentName({column:o},"column-header")},r.prototype.getColumnHeaderWrapperComponentData=function(o){return this.SurveyModel.getElementWrapperComponentData({column:o},"column-header")},r.prototype.getRowHeaderWrapperComponentName=function(o){return this.SurveyModel.getElementWrapperComponentName({row:o},"row-header")},r.prototype.getRowHeaderWrapperComponentData=function(o){return this.SurveyModel.getElementWrapperComponentData({row:o},"row-header")},r}(T.QuestionMatrixBaseModel);v.Serializer.addClass("matrix",[{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return C.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return C.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean","hideIfRowsEmpty:boolean"],function(){return new a("")},"matrixbase"),i.QuestionFactory.Instance.registerQuestion("matrix",function(s){var r=new a(s);return r.rows=i.QuestionFactory.DefaultRows,r.columns=i.QuestionFactory.DefaultColums,r})},"./src/question_matrixdropdown.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"MatrixDropdownRowModel",function(){return C}),e.d(t,"QuestionMatrixDropdownModel",function(){return E});var i,n=e("./src/question_matrixdropdownbase.ts"),y=e("./src/jsonobject.ts"),T=e("./src/itemvalue.ts"),v=e("./src/questionfactory.ts"),O=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),C=function(i){function f(_,l,m,h){var d=i.call(this,m,h)||this;return d.name=_,d.item=l,d.buildCells(h),d}return O(f,i),Object.defineProperty(f.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),f}(n.MatrixDropdownRowModelBase),E=function(i){function f(_){var l=i.call(this,_)||this;return l.createLocalizableString("totalText",l,!0),l.registerPropertyChangedHandlers(["rows"],function(){l.clearGeneratedRows(),l.resetRenderedTable(),l.filterItems()||l.onRowsChanged()}),l.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){l.updateVisibilityBasedOnRows()}),l}return O(f,i),f.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(f.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(_){this.setLocalizableStringText("totalText",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),f.prototype.getFooterText=function(){return this.locTotalText},Object.defineProperty(f.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth","")},set:function(_){this.setPropertyValue("rowTitleWidth",_)},enumerable:!1,configurable:!0}),f.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(f.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty",!1)},set:function(_){this.setPropertyValue("hideIfRowsEmpty",_)},enumerable:!1,configurable:!0}),f.prototype.getDisplayValueCore=function(_,l){if(!l)return l;var m=this.visibleRows,h={};if(!m)return h;for(var d=0;d<m.length;d++){var c=m[d].rowName,a=l[c];if(a){if(_){var s=T.ItemValue.getTextOrHtmlByValue(this.rows,c);s&&(c=s)}h[c]=this.getRowDisplayValue(_,m[d],a)}}return h},f.prototype.getConditionObjectRowName=function(_){return"."+this.rows[_].value},f.prototype.getConditionObjectRowText=function(_){return"."+this.rows[_].calculatedText},f.prototype.getConditionObjectsRowIndeces=function(){for(var _=[],l=0;l<this.rows.length;l++)_.push(l);return _},f.prototype.setNewValue=function(_){_&&"object"!=typeof _||i.prototype.setNewValue.call(this,_)},f.prototype.clearIncorrectValues=function(){var _=this.value;if(_){var l=null,m=!1,h=this.filteredRows?this.filteredRows:this.rows;for(var d in _)T.ItemValue.getItemByValue(h,d)?(null==l&&(l={}),l[d]=_[d]):m=!0;m&&(this.value=l),i.prototype.clearIncorrectValues.call(this)}},f.prototype.clearValueIfInvisibleCore=function(){i.prototype.clearValueIfInvisibleCore.call(this),this.clearInvisibleValuesInRows()},f.prototype.generateRows=function(){var _=new Array,l=this.filteredRows?this.filteredRows:this.rows;if(!l||0===l.length)return _;var m=this.value;m||(m={});for(var h=0;h<l.length;h++)!l[h].value||_.push(this.createMatrixRow(l[h],m[l[h].value]));return _},f.prototype.createMatrixRow=function(_,l){return new C(_.value,_,this,l)},f.prototype.getSearchableItemValueKeys=function(_){_.push("rows")},f.prototype.updateProgressInfoByValues=function(_){var l=this.value;l||(l={});for(var m=0;m<this.rows.length;m++)this.updateProgressInfoByRow(_,l[this.rows[m].value]||{})},f}(n.QuestionMatrixDropdownModelBase);y.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new E("")},"matrixdropdownbase"),v.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(i){var f=new E(i);return f.choices=[1,2,3,4,5],f.rows=v.QuestionFactory.DefaultRows,n.QuestionMatrixDropdownModelBase.addDefaultColumns(f),f})},"./src/question_matrixdropdownbase.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"MatrixDropdownCell",function(){return a}),e.d(t,"MatrixDropdownTotalCell",function(){return s}),e.d(t,"MatrixDropdownRowModelBase",function(){return o}),e.d(t,"MatrixDropdownTotalRowModel",function(){return S}),e.d(t,"QuestionMatrixDropdownModelBase",function(){return I});var x,n=e("./src/jsonobject.ts"),y=e("./src/martixBase.ts"),T=e("./src/helpers.ts"),v=e("./src/base.ts"),O=e("./src/survey-element.ts"),C=e("./src/textPreProcessor.ts"),E=e("./src/itemvalue.ts"),i=e("./src/questionfactory.ts"),f=e("./src/functionsfactory.ts"),_=e("./src/settings.ts"),l=e("./src/error.ts"),m=e("./src/utils/cssClassBuilder.ts"),h=e("./src/question_matrixdropdowncolumn.ts"),d=e("./src/question_matrixdropdownrendered.ts"),c=(x=function(P,g){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,M){u.__proto__=M}||function(u,M){for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&(u[R]=M[R])})(P,g)},function(P,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function u(){this.constructor=P}x(P,g),P.prototype=null===g?Object.create(g):(u.prototype=g.prototype,new u)}),a=function(){function x(P,g,u){this.column=P,this.row=g,this.data=u,this.questionValue=this.createQuestion(P,g,u),this.questionValue.updateCustomWidget()}return x.prototype.locStrsChanged=function(){this.question.locStrsChanged()},x.prototype.createQuestion=function(P,g,u){var M=u.createQuestion(this.row,this.column);return M.validateValueCallback=function(){return u.validateCell(g,P.name,g.value)},n.CustomPropertiesCollection.getProperties(P.getType()).forEach(function(R){var w=R.name;void 0!==P[w]&&(M[w]=P[w])}),M},Object.defineProperty(x.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){return this.question.value},set:function(P){this.question.value=P},enumerable:!1,configurable:!0}),x.prototype.runCondition=function(P,g){this.question.runCondition(P,g)},x}(),s=function(x){function P(g,u,M){var R=x.call(this,g,u,M)||this;return R.column=g,R.row=u,R.data=M,R.updateCellQuestion(),R}return c(P,x),P.prototype.createQuestion=function(g,u,M){var R=n.Serializer.createClass("expression");return R.setSurveyImpl(u),R},P.prototype.locStrsChanged=function(){this.updateCellQuestion(),x.prototype.locStrsChanged.call(this)},P.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(g){delete g.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},P.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if("none"==this.column.totalType)return"";var g=this.column.totalType+"InArray";return f.FunctionFactory.Instance.hasFunction(g)?g+"({self}, '"+this.column.name+"')":""},P}(a),r=function(x){function P(g,u,M){var R=x.call(this,u)||this;return R.row=g,R.variableName=u,R.parentTextProcessor=M,R}return c(P,x),P.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(P.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),P.prototype.getValues=function(){return this.row.value},P.prototype.getQuestionByName=function(g){return this.row.getQuestionByName(g)},P.prototype.onCustomProcessText=function(g){return g.name==o.IndexVariableName?(g.isExists=!0,g.value=this.row.rowIndex,!0):g.name==o.RowValueVariableName&&(g.isExists=!0,g.value=this.row.rowName,!0)},P}(C.QuestionTextProcessor),o=function(){function x(P,g){var u=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=P,this.subscribeToChanges(g),this.textPreProcessor=new r(this,x.RowVariableName,P?P.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(u.getSurvey().isDesignMode)return!0;u.showHideDetailPanel()},this.idValue=x.getId()}return x.getId=function(){return"srow_"+x.idCounter++},Object.defineProperty(x.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){for(var P={},g=this.questions,u=0;u<g.length;u++){var M=g[u];M.isEmpty()||(P[M.getValueName()]=M.value),M.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(P[M.getValueName()+_.settings.commentPrefix]=M.comment)}return P},set:function(P){this.isSettingValue=!0,this.subscribeToChanges(P);for(var g=this.questions,u=0;u<g.length;u++){var M=g[u],R=this.getCellValue(P,M.getValueName()),w=M.comment,F=P?P[M.getValueName()+_.settings.commentPrefix]:"";null==F&&(F=""),M.updateValueFromSurvey(R),(!!F||this.isTwoValueEquals(w,M.comment))&&M.updateCommentFromSurvey(F),M.onSurveyValueChanged(R)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasPanel",{get:function(){return!!this.data&&this.data.hasDetailPanel(this)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isDetailPanelShowing",{get:function(){return!!this.data&&this.data.getIsDetailPanelShowing(this)},enumerable:!1,configurable:!0}),x.prototype.setIsDetailPanelShowing=function(P){this.data&&this.data.setIsDetailPanelShowing(this,P),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},x.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},x.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},x.prototype.hideDetailPanel=function(P){void 0===P&&(P=!1),this.setIsDetailPanelShowing(!1),P&&(this.detailPanelValue=null)},x.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!this.detailPanelValue&&this.hasPanel&&this.data){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var P=this.detailPanelValue.questions,g=this.data.getRowValue(this.data.getRowIndex(this));if(!T.Helpers.isValueEmpty(g))for(var u=0;u<P.length;u++){var M=P[u].getValueName();T.Helpers.isValueEmpty(g[M])||(P[u].value=g[M])}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},x.prototype.getAllValues=function(){return this.value},x.prototype.getFilteredValues=function(){var P=this.getAllValues(),g={row:P};for(var u in P)g[u]=P[u];return g},x.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},x.prototype.runCondition=function(P,g){this.data&&(P[x.OwnerVariableName]=this.data.value),P[x.IndexVariableName]=this.rowIndex,P[x.RowValueVariableName]=this.rowName,g||(g={}),g[x.RowVariableName]=this;for(var u=0;u<this.cells.length;u++)P[x.RowVariableName]=this.value,this.cells[u].runCondition(P,g);this.detailPanel&&this.detailPanel.runCondition(P,g)},x.prototype.clearValue=function(){for(var P=this.questions,g=0;g<P.length;g++)P[g].clearValue()},x.prototype.onAnyValueChanged=function(P){for(var g=this.questions,u=0;u<g.length;u++)g[u].onAnyValueChanged(P)},x.prototype.getDataValueCore=function(P,g){var u=this.getSurvey();return u?u.getDataValueCore(P,g):P[g]},x.prototype.getValue=function(P){var g=this.getQuestionByName(P);return g?g.value:null},x.prototype.setValue=function(P,g){this.setValueCore(P,g,!1)},x.prototype.getVariable=function(P){},x.prototype.setVariable=function(P,g){},x.prototype.getComment=function(P){var g=this.getQuestionByName(P);return g?g.comment:""},x.prototype.setComment=function(P,g,u){this.setValueCore(P,g,!0)},x.prototype.setValueCore=function(P,g,u){if(!this.isSettingValue){this.updateQuestionsValue(P,g,u);var M=this.value,R=u?P+_.settings.commentPrefix:P,w=g,F=this.getQuestionByName(P),B=this.data.onRowChanging(this,R,M);if(F&&!this.isTwoValueEquals(B,w))u?F.comment=B:F.value=B;else{if(this.data.isValidateOnValueChanging&&this.hasQuestonError(F))return;this.data.onRowChanged(this,R,M,null==g&&!F||u&&!g&&!!F&&F.autoOtherMode),this.onAnyValueChanged(x.RowVariableName)}}},x.prototype.updateQuestionsValue=function(P,g,u){if(this.detailPanel){var M=this.getQuestionByColumnName(P),R=this.detailPanel.getQuestionByName(P);if(M&&R){var F=this.isTwoValueEquals(g,u?M.comment:M.value)?R:M;this.isSettingValue=!0,u?F.comment=g:F.value=g,this.isSettingValue=!1}}},x.prototype.hasQuestonError=function(P){if(!P)return!1;if(P.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(P.isEmpty())return!1;var g=this.getCellByColumnName(P.name);return!!(g&&g.column&&g.column.isUnique)&&this.data.checkIfValueInRowDuplicated(this,P)},Object.defineProperty(x.prototype,"isEmpty",{get:function(){var P=this.value;if(T.Helpers.isValueEmpty(P))return!0;for(var g in P)if(null!=P[g])return!1;return!0},enumerable:!1,configurable:!0}),x.prototype.getQuestionByColumn=function(P){var g=this.getCellByColumn(P);return g?g.question:null},x.prototype.getCellByColumn=function(P){for(var g=0;g<this.cells.length;g++)if(this.cells[g].column==P)return this.cells[g];return null},x.prototype.getCellByColumnName=function(P){for(var g=0;g<this.cells.length;g++)if(this.cells[g].column.name==P)return this.cells[g];return null},x.prototype.getQuestionByColumnName=function(P){var g=this.getCellByColumnName(P);return g?g.question:null},Object.defineProperty(x.prototype,"questions",{get:function(){for(var P=[],g=0;g<this.cells.length;g++)P.push(this.cells[g].question);var u=this.detailPanel?this.detailPanel.questions:[];for(g=0;g<u.length;g++)P.push(u[g]);return P},enumerable:!1,configurable:!0}),x.prototype.getQuestionByName=function(P){return this.getQuestionByColumnName(P)||(this.detailPanel?this.detailPanel.getQuestionByName(P):null)},x.prototype.getQuestionsByName=function(P){var g=[],u=this.getQuestionByColumnName(P);return u&&g.push(u),this.detailPanel&&(u=this.detailPanel.getQuestionByName(P))&&g.push(u),g},x.prototype.getSharedQuestionByName=function(P){return this.data?this.data.getSharedQuestionByName(P,this):null},x.prototype.clearIncorrectValues=function(P){for(var g in P){var u=this.getQuestionByName(g);if(u){var M=u.value;u.clearIncorrectValues(),this.isTwoValueEquals(M,u.value)||this.setValue(g,u.value)}else!this.getSharedQuestionByName(g)&&g.indexOf(_.settings.matrixTotalValuePostFix)<0&&this.setValue(g,null)}},x.prototype.getLocale=function(){return this.data?this.data.getLocale():""},x.prototype.getMarkdownHtml=function(P,g){return this.data?this.data.getMarkdownHtml(P,g):void 0},x.prototype.getRenderer=function(P){return this.data?this.data.getRenderer(P):null},x.prototype.getRendererContext=function(P){return this.data?this.data.getRendererContext(P):P},x.prototype.getProcessedText=function(P){return this.data?this.data.getProcessedText(P):P},x.prototype.locStrsChanged=function(){for(var P=0;P<this.cells.length;P++)this.cells[P].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},x.prototype.updateCellQuestionOnColumnChanged=function(P,g,u){var M=this.getCellByColumn(P);!M||this.updateCellOnColumnChanged(M,g,u)},x.prototype.updateCellQuestionOnColumnItemValueChanged=function(P,g,u,M,R,w){var F=this.getCellByColumn(P);!F||this.updateCellOnColumnItemValueChanged(F,g,u,M,R,w)},x.prototype.onQuestionReadOnlyChanged=function(P){for(var g=this.questions,u=0;u<g.length;u++){var M=g[u];M.setPropertyValue("isReadOnly",M.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=P)},x.prototype.hasErrors=function(P,g,u){var M=!1,R=this.cells;if(!R)return M;for(var w=0;w<R.length;w++)if(R[w]){var F=R[w].question;!F||!F.visible||(F.onCompletedAsyncValidators=function(H){u()},(!g||!0!==g.isOnValueChanged||!F.isEmpty())&&(M=F.hasErrors(P,g)||M))}if(this.hasPanel){this.ensureDetailPanel();var B=this.detailPanel.hasErrors(P,!1,g);!g.hideErroredPanel&&B&&P&&(g.isSingleDetailPanel&&(g.hideErroredPanel=!0),this.showDetailPanel()),M=B||M}return M},x.prototype.updateCellOnColumnChanged=function(P,g,u){P.question[g]=u},x.prototype.updateCellOnColumnItemValueChanged=function(P,g,u,M,R,w){var F=P.question[g];if(Array.isArray(F)){var H=E.ItemValue.getItemByValue(F,"value"===M?w:u.value);!H||(H[M]=R)}},x.prototype.buildCells=function(P){this.isSettingValue=!0;for(var g=this.data.columns,u=0;u<g.length;u++){var M=g[u];if(M.isVisible){var R=this.createCell(M);this.cells.push(R);var w=this.getCellValue(P,M.name);if(!T.Helpers.isValueEmpty(w)){R.question.value=w;var F=M.name+_.settings.commentPrefix;P&&!T.Helpers.isValueEmpty(P[F])&&(R.question.comment=P[F])}}}this.isSettingValue=!1},x.prototype.isTwoValueEquals=function(P,g){return T.Helpers.isTwoValueEquals(P,g,!1,!0,!1)},x.prototype.getCellValue=function(P,g){return this.editingObj?n.Serializer.getObjPropertyValue(this.editingObj,g):P?P[g]:void 0},x.prototype.createCell=function(P){return new a(P,this,this.data)},x.prototype.getSurveyData=function(){return this},x.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},x.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(x.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),x.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},x.prototype.subscribeToChanges=function(P){var g=this;!P||!P.getType||!P.onPropertyChanged||P!==this.editingObj&&(this.editingObjValue=P,this.onEditingObjPropertyChanged=function(u,M){g.updateOnSetValue(M.name,M.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},x.prototype.updateOnSetValue=function(P,g){this.isSettingValue=!0;for(var u=this.getQuestionsByName(P),M=0;M<u.length;M++)u[M].value=g;this.isSettingValue=!1},x.RowVariableName="row",x.OwnerVariableName="self",x.IndexVariableName="rowIndex",x.RowValueVariableName="rowValue",x.idCounter=1,x}(),S=function(x){function P(g){var u=x.call(this,g,null)||this;return u.buildCells(null),u}return c(P,x),P.prototype.createCell=function(g){return new s(g,this,this.data)},P.prototype.setValue=function(g,u){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},P.prototype.runCondition=function(g,u){var R,M=0;do{R=T.Helpers.getUnbindValue(this.value),x.prototype.runCondition.call(this,g,u),M++}while(!T.Helpers.isTwoValueEquals(R,this.value)&&M<3)},P.prototype.updateCellOnColumnChanged=function(g,u,M){g.updateCellQuestion()},P}(o),I=function(x){function P(g){var u=x.call(this,g)||this;return u.isRowChanging=!1,u.lockResetRenderedTable=!1,u.isDoingonAnyValueChanged=!1,u.createItemValues("choices"),u.createLocalizableString("placeholder",u,!1,!0),u.createLocalizableString("keyDuplicationError",u,!1,!0),u.detailPanelValue=u.createNewDetailPanel(),u.detailPanel.selectedElementInDesign=u,u.detailPanel.renderWidth="100%",u.detailPanel.isInteractiveDesignElement=!1,u.detailPanel.showTitle=!1,u.registerPropertyChangedHandlers(["columns","cellType"],function(){u.updateColumnsAndRows()}),u.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){u.clearRowsAndResetRenderedTable()}),u.registerPropertyChangedHandlers(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){u.resetRenderedTable()}),u.registerPropertyChangedHandlers(["isMobile"],function(){"vertical"===u.columnLayout&&u.resetRenderedTable()}),u}return c(P,x),Object.defineProperty(P,"defaultCellType",{get:function(){return _.settings.matrixDefaultCellType},set:function(g){_.settings.matrixDefaultCellType=g},enumerable:!1,configurable:!0}),P.addDefaultColumns=function(g){for(var u=i.QuestionFactory.DefaultColums,M=0;M<u.length;M++)g.addColumn(u[M])},P.prototype.createColumnValues=function(){var g=this;return this.createNewArray("columns",function(u){u.colOwner=g,g.onAddColumn&&g.onAddColumn(u)},function(u){u.colOwner=null,g.onRemoveColumn&&g.onRemoveColumn(u)})},P.prototype.getType=function(){return"matrixdropdownbase"},P.prototype.dispose=function(){x.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(P.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),P.prototype.beginUpdate=function(){this.isUpdating=!0},P.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},P.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},P.prototype.itemValuePropertyChanged=function(g,u,M,R){x.prototype.itemValuePropertyChanged.call(this,g,u,M,R),"choices"===g.ownerPropertyName&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(P.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(g){this.setPropertyValue("columnLayout",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(g){this.columnLayout=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isColumnLayoutHorizontal",{get:function(){return!!this.isMobile||"vertical"!=this.columnLayout},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isUniqueCaseSensitive",{get:function(){return void 0!==this.isUniqueCaseSensitiveValue?this.isUniqueCaseSensitiveValue:_.settings.comparator.caseSensitive},set:function(g){this.isUniqueCaseSensitiveValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(g){this.setPropertyValue("detailPanelMode",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),P.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(P.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),P.prototype.createNewDetailPanel=function(){return n.Serializer.createClass("panel")},Object.defineProperty(P.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),P.prototype.getFooterText=function(){return null},Object.defineProperty(P.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),P.prototype.canRemoveRow=function(g){return!0},P.prototype.onPointerDown=function(g,u){},P.prototype.onRowsChanged=function(){this.resetRenderedTable(),x.prototype.onRowsChanged.call(this)},P.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly()},P.prototype.onEndRowAdding=function(){this.lockResetRenderedTable=!1,this.renderedTable&&(this.renderedTable.isRequireReset()?this.resetRenderedTable():this.renderedTable.onAddedRow())},P.prototype.onEndRowRemoving=function(g){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():g&&this.renderedTable.onRemovedRow(g)},Object.defineProperty(P.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(g){this.setPropertyValue("renderedTable",g)},enumerable:!1,configurable:!0}),P.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},P.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},P.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var g=0;g<this.generatedVisibleRows.length;g++)this.generatedVisibleRows[g].dispose();x.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(P.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),P.prototype.createRenderedTable=function(){return new d.QuestionMatrixDropdownRenderedTable(this)},P.prototype.onMatrixRowCreated=function(g){if(this.survey)for(var u={rowValue:g.value,row:g,column:null,columnName:null,cell:null,cellQuestion:null,value:null},M=0;M<this.visibleColumns.length;M++){u.column=this.visibleColumns[M],u.columnName=u.column.name;var R=g.cells[M];u.cell=R,u.cellQuestion=R.question,u.value=R.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(u),this.survey.matrixCellCreated(this,u)}},Object.defineProperty(P.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",_.settings.matrixDefaultCellType)},set:function(g){g=g.toLowerCase(),this.setPropertyValue("cellType",g)},enumerable:!1,configurable:!0}),P.prototype.updateColumnsCellType=function(){for(var g=0;g<this.columns.length;g++)this.columns[g].defaultCellTypeChanged()},P.prototype.updateColumnsIndexes=function(g){for(var u=0;u<g.length;u++)g[u].setIndex(u)},Object.defineProperty(P.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(g){g<0||g>4||this.setPropertyValue("columnColCount",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth","")},set:function(g){this.setPropertyValue("columnMinWidth",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll",!1)},set:function(g){this.setPropertyValue("horizontalScroll",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(g){this.setPropertyValue("allowAdaptiveActions",g),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=g)},enumerable:!1,configurable:!0}),P.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},P.prototype.hasChoices=function(){return this.choices.length>0},P.prototype.onColumnPropertyChanged=function(g,u,M){if(this.updateHasFooter(),this.generatedVisibleRows){for(var R=0;R<this.generatedVisibleRows.length;R++)this.generatedVisibleRows[R].updateCellQuestionOnColumnChanged(g,u,M);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(g,u,M),this.onColumnsChanged(),"isRequired"==u&&this.resetRenderedTable()}},P.prototype.onColumnItemValuePropertyChanged=function(g,u,M,R,w,F){if(this.generatedVisibleRows)for(var B=0;B<this.generatedVisibleRows.length;B++)this.generatedVisibleRows[B].updateCellQuestionOnColumnItemValueChanged(g,u,M,R,w,F)},P.prototype.onShowInMultipleColumnsChanged=function(g){this.clearGeneratedRows(),this.resetRenderedTable()},P.prototype.onColumnCellTypeChanged=function(g){this.clearGeneratedRows(),this.resetRenderedTable()},P.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(P.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),P.prototype.getAddRowLocation=function(){return"default"},P.prototype.getShowColumnsIfEmpty=function(){return!1},P.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},P.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(P.prototype,"hasTotal",{get:function(){for(var g=0;g<this.columns.length;g++)if(this.columns[g].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),P.prototype.getCellType=function(){return this.cellType},P.prototype.getCustomCellType=function(g,u,M){if(!this.survey)return M;var R={rowValue:u.value,row:u,column:g,columnName:g.name,cellType:M};return this.survey.matrixCellCreating(this,R),R.cellType},P.prototype.getConditionJson=function(g,u){if(void 0===g&&(g=null),void 0===u&&(u=null),!u)return x.prototype.getConditionJson.call(this);for(var M="",R=u.length-1;R>=0&&"."!=u[R];R--)M=u[R]+M;var w=this.getColumnByName(M);if(!w)return null;var F=w.createCellQuestion(null);return F?F.getConditionJson(g):null},P.prototype.clearIncorrectValues=function(){var g=this.visibleRows;if(g)for(var u=0;u<g.length;u++)g[u].clearIncorrectValues(this.getRowValue(u))},P.prototype.clearErrors=function(){x.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(g){g.clearErrors()})},P.prototype.localeChanged=function(){x.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(g){g.localeChanged()})},P.prototype.runFuncForCellQuestions=function(g){if(this.generatedVisibleRows)for(var u=0;u<this.generatedVisibleRows.length;u++)for(var M=this.generatedVisibleRows[u],R=0;R<M.cells.length;R++)g(M.cells[R].question)},P.prototype.runCondition=function(g,u){x.prototype.runCondition.call(this,g,u);var R,M=0;do{R=T.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(g,u),this.runTotalsCondition(g,u),M++}while(!T.Helpers.isTwoValueEquals(R,this.totalValue)&&M<3)},P.prototype.shouldRunColumnExpression=function(){return!1},P.prototype.runCellsCondition=function(g,u){if(this.generatedVisibleRows){for(var M=this.getRowConditionValues(g),R=this.generatedVisibleRows,w=0;w<R.length;w++)R[w].runCondition(M,u);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},P.prototype.checkColumnsVisibility=function(){for(var g=!1,u=0;u<this.visibleColumns.length;u++)!this.visibleColumns[u].visibleIf||(g=this.isColumnVisibilityChanged(this.visibleColumns[u])||g);g&&this.resetRenderedTable()},P.prototype.checkColumnsRenderedRequired=function(){for(var g=this.generatedVisibleRows,u=0;u<this.visibleColumns.length;u++){var M=this.visibleColumns[u];if(M.requiredIf){for(var R=g.length>0,w=0;w<g.length;w++)if(!g[w].cells[u].question.isRequired){R=!1;break}M.updateIsRenderedRequired(R)}}},P.prototype.isColumnVisibilityChanged=function(g){for(var u=g.hasVisibleCell,M=!1,R=this.generatedVisibleRows,w=0;w<R.length;w++){var F=R[w].cells[g.index];if(F&&F.question&&F.question.isVisible){M=!0;break}}return u!=M&&(g.hasVisibleCell=M),u!=M},P.prototype.runTotalsCondition=function(g,u){!this.generatedTotalRow||this.generatedTotalRow.runCondition(this.getRowConditionValues(g),u)},P.prototype.getRowConditionValues=function(g){var u=g;u||(u={});var M={};return this.isValueEmpty(this.totalValue)||(M=JSON.parse(JSON.stringify(this.totalValue))),u.row={},u.totalRow=M,u},P.prototype.locStrsChanged=function(){x.prototype.locStrsChanged.call(this);for(var g=this.columns,u=0;u<g.length;u++)g[u].locStrsChanged();var M=this.generatedVisibleRows;if(M){for(u=0;u<M.length;u++)M[u].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},P.prototype.getColumnByName=function(g){for(var u=0;u<this.columns.length;u++)if(this.columns[u].name==g)return this.columns[u];return null},P.prototype.getColumnName=function(g){return this.getColumnByName(g)},P.prototype.getColumnWidth=function(g){return g.minWidth?g.minWidth:this.columnMinWidth},Object.defineProperty(P.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(g){this.setPropertyValue("choices",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(g){this.setLocalizableStringText("placeholder",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(g){this.placeholder=g},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(g){this.setLocalizableStringText("keyDuplicationError",g)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"storeOthersAsComment",{get:function(){return!!this.survey&&this.survey.storeOthersAsComment},enumerable:!1,configurable:!0}),P.prototype.addColumn=function(g,u){void 0===u&&(u=null);var M=new h.MatrixDropdownColumn(g,u);return this.columns.push(M),M},P.prototype.getVisibleRows=function(){var g=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(u){return g.onMatrixRowCreated(u)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},P.prototype.updateValueOnRowsGeneration=function(g){for(var u=this.createNewValue(!0),M=this.createNewValue(),R=0;R<g.length;R++){var w=g[R];if(!w.editingObj){var F=this.getRowValue(R),B=w.value;this.isTwoValueEquals(F,B)||(M=this.getNewValueOnRowChanged(w,"",B,!1,M).value)}}this.isTwoValueEquals(u,M)||(this.isRowChanging=!0,this.setNewValue(M),this.isRowChanging=!1)},Object.defineProperty(P.prototype,"totalValue",{get:function(){return this.hasTotal&&this.visibleTotalRow?this.visibleTotalRow.value:{}},enumerable:!1,configurable:!0}),P.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var g={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),g)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(P.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),P.prototype.onSurveyLoad=function(){x.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},P.prototype.getRowValue=function(g){if(g<0)return null;var u=this.visibleRows;if(g>=u.length)return null;var M=this.createNewValue();return this.getRowValueCore(u[g],M)},P.prototype.checkIfValueInRowDuplicated=function(g,u){if(!this.generatedVisibleRows)return!1;for(var M=!1,R=0;R<this.generatedVisibleRows.length;R++){var w=this.generatedVisibleRows[R];if(g!==w&&T.Helpers.isTwoValueEquals(w.getValue(u.name),u.value,!0,this.isUniqueCaseSensitive)){M=!0;break}}return M?this.addDuplicationError(u):u.clearErrors(),M},P.prototype.setRowValue=function(g,u){if(g<0)return null;var M=this.visibleRows;if(g>=M.length)return null;M[g].value=u,this.onRowChanged(M[g],"",u,!1)},P.prototype.generateRows=function(){return null},P.prototype.generateTotalRow=function(){return new S(this)},P.prototype.createNewValue=function(g){void 0===g&&(g=!1);var u=this.value?this.createValueCopy():{};return g&&this.isMatrixValueEmpty(u)?null:u},P.prototype.getRowValueCore=function(g,u,M){void 0===M&&(M=!1);var R=u&&u[g.rowName]?u[g.rowName]:null;return!R&&M&&(R={},u&&(u[g.rowName]=R)),R},P.prototype.getRowObj=function(g){var u=this.getRowValueCore(g,this.value);return u&&u.getType?u:null},P.prototype.getRowDisplayValue=function(g,u,M){if(!M||u.editingObj)return M;for(var R=Object.keys(M),w=0;w<R.length;w++){var F=R[w],B=u.getQuestionByName(F);if(B||(B=this.getSharedQuestionByName(F,u)),B){var H=B.getDisplayValue(g,M[F]);g&&B.title&&B.title!==F?(M[B.title]=H,delete M[F]):M[F]=H}}return M},P.prototype.getPlainData=function(g){var u=this;void 0===g&&(g={includeEmpty:!0});var M=x.prototype.getPlainData.call(this,g);return M&&(M.isNode=!0,M.data=this.visibleRows.map(function(R){var w={name:R.rowName,title:R.text,value:R.value,displayValue:u.getRowDisplayValue(!1,R,R.value),getString:function(F){return"object"==typeof F?JSON.stringify(F):F},isNode:!0,data:R.cells.map(function(F){return F.question.getPlainData(g)}).filter(function(F){return!!F})};return(g.calculations||[]).forEach(function(F){w[F.propertyName]=R[F.propertyName]}),w})),M},P.prototype.addConditionObjectsByContext=function(g,u){var M=!!u&&(!0===u||this.columns.indexOf(u)>-1),R=this.getConditionObjectsRowIndeces();M&&R.push(-1);for(var w=0;w<R.length;w++){var F=R[w],B=F>-1?this.getConditionObjectRowName(F):"row";if(B)for(var H=F>-1?this.getConditionObjectRowText(F):"row",$=F>-1||!0===u,j=$&&-1===F?".":"",V=($?this.getValueName():"")+j+B+".",Q=($?this.processedTitle:"")+j+H+".",ie=0;ie<this.columns.length;ie++){var ye=this.columns[ie];if(-1!==F||u!==ye){var G={name:V+ye.name,text:Q+ye.fullTitle,question:this};-1===F&&!0===u&&(G.context=this),g.push(G)}}}},P.prototype.getConditionObjectRowName=function(g){return""},P.prototype.getConditionObjectRowText=function(g){return this.getConditionObjectRowName(g)},P.prototype.getConditionObjectsRowIndeces=function(){return[]},P.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return O.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var g=v.Base.createProgressInfo();return this.updateProgressInfoByValues(g),g},P.prototype.updateProgressInfoByValues=function(g){},P.prototype.updateProgressInfoByRow=function(g,u){for(var M=0;M<this.columns.length;M++){var R=this.columns[M];if(R.templateQuestion.hasInput){g.questionCount+=1,g.requiredQuestionCount+=R.isRequired;var w=!T.Helpers.isValueEmpty(u[R.name]);g.answeredQuestionCount+=w?1:0,g.requiredAnsweredQuestionCount+=w&&R.isRequired?1:0}}},P.prototype.getCellQuestions=function(){var g=[];return this.runFuncForCellQuestions(function(u){g.push(u)}),g},P.prototype.onBeforeValueChanged=function(g){},P.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length)){this.isRowChanging=!0;for(var g=this.createNewValue(),u=0;u<this.generatedVisibleRows.length;u++)this.generatedVisibleRows[u].value=this.getRowValueCore(this.generatedVisibleRows[u],g);this.isRowChanging=!1}},P.prototype.setQuestionValue=function(g){x.prototype.setQuestionValue.call(this,g,!1),this.onSetQuestionValue(),this.updateIsAnswered()},P.prototype.supportGoNextPageAutomatic=function(){var g=this.generatedVisibleRows;if(g||(g=this.visibleRows),!g)return!0;for(var u=0;u<g.length;u++){var M=this.generatedVisibleRows[u].cells;if(M)for(var R=0;R<M.length;R++){var w=M[R].question;if(w&&(!w.supportGoNextPageAutomatic()||!w.value))return!1}}return!0},P.prototype.getContainsErrors=function(){return x.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(g){return g.containsErrors},!1)},P.prototype.getIsAnswered=function(){return x.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(g){return g.isAnswered},!0)},P.prototype.checkForAnswersOrErrors=function(g,u){void 0===u&&(u=!1);var M=this.generatedVisibleRows;if(!M)return!1;for(var R=0;R<M.length;R++){var w=M[R].cells;if(w)for(var F=0;F<w.length;F++)if(w[F]){var B=w[F].question;if(B&&B.isVisible)if(g(B)){if(!u)return!0}else if(u)return!1}}return!!u},P.prototype.hasErrors=function(g,u){void 0===g&&(g=!0),void 0===u&&(u=null);var M=this.hasErrorInRows(g,u),R=this.isValueDuplicated();return x.prototype.hasErrors.call(this,g,u)||M||R},P.prototype.getIsRunningValidators=function(){if(x.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var g=0;g<this.generatedVisibleRows.length;g++){var u=this.generatedVisibleRows[g].cells;if(u)for(var M=0;M<u.length;M++)if(u[M]){var R=u[M].question;if(R&&R.isRunningValidators)return!0}}return!1},P.prototype.getAllErrors=function(){var g=x.prototype.getAllErrors.call(this),u=this.generatedVisibleRows;if(null===u)return g;for(var M=0;M<u.length;M++)for(var R=u[M],w=0;w<R.cells.length;w++){var F=R.cells[w].question.getAllErrors();F&&F.length>0&&(g=g.concat(F))}return g},P.prototype.hasErrorInRows=function(g,u){var M=this,R=this.generatedVisibleRows;this.generatedVisibleRows||(R=this.visibleRows);var w=!1;if(u||(u={}),!R)return u;u.isSingleDetailPanel="underRowSingle"===this.detailPanelMode;for(var F=0;F<R.length;F++)w=R[F].hasErrors(g,u,function(){M.raiseOnCompletedAsyncValidators()})||w;return w},P.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var g=this.getUniqueColumns(),u=!1,M=0;M<g.length;M++)u=this.isValueInColumnDuplicated(g[M])||u;return u},P.prototype.isValueInColumnDuplicated=function(g){for(var u=[],M=!1,R=0;R<this.generatedVisibleRows.length;R++)M=this.isValueDuplicatedInRow(this.generatedVisibleRows[R],g,u)||M;return M},P.prototype.getUniqueColumns=function(){for(var g=new Array,u=0;u<this.columns.length;u++)this.columns[u].isUnique&&g.push(this.columns[u]);return g},P.prototype.isValueDuplicatedInRow=function(g,u,M){var R=g.getQuestionByColumn(u);if(!R||R.isEmpty())return!1;for(var w=R.value,F=0;F<M.length;F++)if(T.Helpers.isTwoValueEquals(w,M[F],!0,this.isUniqueCaseSensitive))return this.addDuplicationError(R),!0;return M.push(w),!1},P.prototype.addDuplicationError=function(g){g.addError(new l.KeyDuplicationError(this.keyDuplicationError,this))},P.prototype.getFirstQuestionToFocus=function(g){return this.getFirstCellQuestion(g)},P.prototype.getFirstInputElementId=function(){var g=this.getFirstCellQuestion(!1);return g?g.inputId:x.prototype.getFirstInputElementId.call(this)},P.prototype.getFirstErrorInputElementId=function(){var g=this.getFirstCellQuestion(!0);return g?g.inputId:x.prototype.getFirstErrorInputElementId.call(this)},P.prototype.getFirstCellQuestion=function(g){if(!this.generatedVisibleRows)return null;for(var u=0;u<this.generatedVisibleRows.length;u++)for(var M=this.generatedVisibleRows[u].cells,R=0;R<M.length;R++)if(!g||M[R].question.currentErrorCount>0)return M[R].question;return null},P.prototype.onReadOnlyChanged=function(){if(x.prototype.onReadOnlyChanged.call(this),this.generateRows)for(var g=0;g<this.visibleRows.length;g++)this.visibleRows[g].onQuestionReadOnlyChanged(this.isReadOnly)},P.prototype.createQuestion=function(g,u){return this.createQuestionCore(g,u)},P.prototype.createQuestionCore=function(g,u){var M=u.createCellQuestion(g);return M.setSurveyImpl(g),M.setParentQuestion(this),M},P.prototype.deleteRowValue=function(g,u){return g&&(delete g[u.rowName],this.isObject(g)&&0==Object.keys(g).length?null:g)},P.prototype.onAnyValueChanged=function(g){if(!this.isUpdateLocked&&!this.isDoingonAnyValueChanged&&this.generatedVisibleRows){this.isDoingonAnyValueChanged=!0;for(var u=this.visibleRows,M=0;M<u.length;M++)u[M].onAnyValueChanged(g);var R=this.visibleTotalRow;R&&R.onAnyValueChanged(g),this.isDoingonAnyValueChanged=!1}},P.prototype.isObject=function(g){return null!==g&&"object"==typeof g},P.prototype.getOnCellValueChangedOptions=function(g,u,M){return{row:g,columnName:u,rowValue:M,value:M?M[u]:null,getCellQuestion:function(w){for(var F=0;F<g.cells.length;F++){var B=g.cells[F].column;if(B&&B.name===w)return g.cells[F].question}return null}}},P.prototype.onCellValueChanged=function(g,u,M){if(this.survey){var R=this.getOnCellValueChangedOptions(g,u,M);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(R),this.survey.matrixCellValueChanged(this,R)}},P.prototype.validateCell=function(g,u,M){if(this.survey){var R=this.getOnCellValueChangedOptions(g,u,M);return this.survey.matrixCellValidate(this,R)}},Object.defineProperty(P.prototype,"isValidateOnValueChanging",{get:function(){return!!this.survey&&this.survey.isValidateOnValueChanging},enumerable:!1,configurable:!0}),P.prototype.onRowChanging=function(g,u,M){if(!this.survey)return M?M[u]:null;var R=this.getOnCellValueChangedOptions(g,u,M),w=this.getRowValueCore(g,this.createNewValue(),!0);return R.oldValue=w?w[u]:null,this.survey.matrixCellValueChanging(this,R),R.value},P.prototype.onRowChanged=function(g,u,M,R){var w=u?this.getRowObj(g):null;if(w){var F=null;!!M&&!R&&(F=M[u]),this.isRowChanging=!0,w[u]=F,this.isRowChanging=!1,this.onCellValueChanged(g,u,w)}else{var B=this.createNewValue(!0),H=this.getNewValueOnRowChanged(g,u,M,R,this.createNewValue());if(this.isTwoValueEquals(B,H.value))return;this.isRowChanging=!0,this.setNewValue(H.value),this.isRowChanging=!1,u&&this.onCellValueChanged(g,u,H.rowValue)}},P.prototype.getNewValueOnRowChanged=function(g,u,M,R,w){var F=this.getRowValueCore(g,w,!0);R&&delete F[u];for(var B=0;B<g.cells.length;B++)delete F[H=g.cells[B].question.getValueName()];if(M)for(var H in M=JSON.parse(JSON.stringify(M)))this.isValueEmpty(M[H])||(F[H]=M[H]);return this.isObject(F)&&0===Object.keys(F).length&&(w=this.deleteRowValue(w,g)),{value:w,rowValue:F}},P.prototype.getRowIndex=function(g){return this.generatedVisibleRows?this.visibleRows.indexOf(g):-1},P.prototype.getElementsInDesign=function(g){var u;return void 0===g&&(g=!1),u="none"==this.detailPanelMode?x.prototype.getElementsInDesign.call(this,g):g?[this.detailPanel]:this.detailElements,this.columns.concat(u)},P.prototype.hasDetailPanel=function(g){return"none"!=this.detailPanelMode&&(!!this.isDesignMode||(this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(g):this.detailElements.length>0))},P.prototype.getIsDetailPanelShowing=function(g){if("none"==this.detailPanelMode)return!1;if(this.isDesignMode){var u=0==this.visibleRows.indexOf(g);return u&&(g.detailPanel||g.showDetailPanel()),u}return this.getPropertyValue("isRowShowing"+g.id,!1)},P.prototype.setIsDetailPanelShowing=function(g,u){if(u!=this.getIsDetailPanelShowing(g)&&(this.setPropertyValue("isRowShowing"+g.id,u),this.updateDetailPanelButtonCss(g),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(g,u),u&&"underRowSingle"===this.detailPanelMode))for(var M=this.visibleRows,R=0;R<M.length;R++)M[R].id!==g.id&&M[R].isDetailPanelShowing&&M[R].hideDetailPanel()},P.prototype.getDetailPanelButtonCss=function(g){var u=(new m.CssClassBuilder).append(this.getPropertyValue("detailButtonCss"+g.id));return u.append(this.cssClasses.detailButton,""===u.toString()).toString()},P.prototype.getDetailPanelIconCss=function(g){var u=(new m.CssClassBuilder).append(this.getPropertyValue("detailIconCss"+g.id));return u.append(this.cssClasses.detailIcon,""===u.toString()).toString()},P.prototype.getDetailPanelIconId=function(g){return this.getIsDetailPanelShowing(g)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},P.prototype.updateDetailPanelButtonCss=function(g){var u=this.cssClasses,M=this.getIsDetailPanelShowing(g),R=(new m.CssClassBuilder).append(u.detailIcon).append(u.detailIconExpanded,M);this.setPropertyValue("detailIconCss"+g.id,R.toString());var w=(new m.CssClassBuilder).append(u.detailButton).append(u.detailButtonExpanded,M);this.setPropertyValue("detailButtonCss"+g.id,w.toString())},P.prototype.createRowDetailPanel=function(g){if(this.isDesignMode)return this.detailPanel;var u=this.createNewDetailPanel();u.readOnly=this.isReadOnly;var M=this.detailPanel.toJSON();return(new n.JsonObject).toObject(M,u),u.renderWidth="100%",u.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(g,u),u},P.prototype.getSharedQuestionByName=function(g,u){if(!this.survey||!this.valueName)return null;var M=this.getRowIndex(u);return M<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,g,M)},P.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&!this.isReadOnly&&this.data.setValue(this.getValueName()+_.settings.matrixTotalValuePostFix,this.totalValue,!1)},P.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var g=this.parent.data;return g&&g.getTextProcessor?g.getTextProcessor():null},P.prototype.getQuestionFromArray=function(g,u){return u>=this.visibleRows.length?null:this.visibleRows[u].getQuestionByName(g)},P.prototype.isMatrixValueEmpty=function(g){if(g){if(Array.isArray(g)){for(var u=0;u<g.length;u++)if(this.isObject(g[u])&&Object.keys(g[u]).length>0)return!1;return!0}return 0==Object.keys(g).length}},Object.defineProperty(P.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),P.prototype.getCellTemplateData=function(g){return this.SurveyModel.getMatrixCellTemplateData(g)},P.prototype.getCellWrapperComponentName=function(g){return this.SurveyModel.getElementWrapperComponentName(g,"cell")},P.prototype.getCellWrapperComponentData=function(g){return this.SurveyModel.getElementWrapperComponentData(g,"cell")},P.prototype.getColumnHeaderWrapperComponentName=function(g){return this.SurveyModel.getElementWrapperComponentName(g,"column-header")},P.prototype.getColumnHeaderWrapperComponentData=function(g){return this.SurveyModel.getElementWrapperComponentData(g,"column-header")},P.prototype.getRowHeaderWrapperComponentName=function(g){return this.SurveyModel.getElementWrapperComponentName(g,"row-header")},P.prototype.getRowHeaderWrapperComponentData=function(g){return this.SurveyModel.getElementWrapperComponentData(g,"row-header")},Object.defineProperty(P.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),P.prototype.getRootCss=function(){return(new m.CssClassBuilder).append(x.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},P.prototype.getIsTooltipErrorInsideSupported=function(){return!0},P}(y.QuestionMatrixBaseModel);n.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},"horizontalScroll:boolean",{name:"choices:itemvalue[]",uniqueProperty:"value"},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return h.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new I("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"matrixDropdownColumnTypes",function(){return E}),e.d(t,"MatrixDropdownColumn",function(){return i});var f,n=e("./src/jsonobject.ts"),y=e("./src/base.ts"),T=e("./src/question_expression.ts"),v=e("./src/settings.ts"),O=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)});function C(f,_,l,m){f.storeOthersAsComment=!!l&&l.storeOthersAsComment,(!f.choices||0==f.choices.length)&&f.choicesByUrl.isEmpty&&(f.choices=l.choices),f.choicesByUrl.isEmpty||f.choicesByUrl.run(m.getTextProcessor())}var E={dropdown:{onCellQuestionUpdate:function(f,_,l,m){C(f,0,l,m),f.locPlaceholder&&f.locPlaceholder.isEmpty&&!l.locPlaceholder.isEmpty&&(f.optionsCaption=l.optionsCaption)}},checkbox:{onCellQuestionUpdate:function(f,_,l,m){C(f,0,l,m),f.colCount=_.colCount>-1?_.colCount:l.columnColCount}},radiogroup:{onCellQuestionUpdate:function(f,_,l,m){C(f,0,l,m),f.colCount=_.colCount>-1?_.colCount:l.columnColCount}},tagbox:{},text:{},comment:{},boolean:{onCellQuestionUpdate:function(f,_,l,m){f.renderAs=_.renderAs}},expression:{},rating:{}},i=function(f){function _(l,m){void 0===m&&(m=null);var h=f.call(this)||this;return h.colOwnerValue=null,h.indexValue=-1,h._isVisible=!0,h._hasVisibleCell=!0,h.previousChoicesId=void 0,h.createLocalizableString("totalFormat",h),h.createLocalizableString("cellHint",h),h.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){h.doShowInMultipleColumnsChanged()}),h.updateTemplateQuestion(),h.name=l,m?h.title=m:h.templateQuestion.locTitle.strChanged(),h}return O(_,f),_.getColumnTypes=function(){var l=[];for(var m in E)l.push(m);return l},_.prototype.getOriginalObj=function(){return this.templateQuestion},_.prototype.getClassNameProperty=function(){return"cellType"},_.prototype.getSurvey=function(l){return void 0===l&&(l=!1),this.colOwner?this.colOwner.survey:null},_.prototype.endLoadingFromJson=function(){var l=this;f.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return l.getSurvey()}},_.prototype.getDynamicPropertyName=function(){return"cellType"},_.prototype.getDynamicType=function(){return"default"===this.cellType?"question":this.calcCellQuestionType(null)},Object.defineProperty(_.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(l){this.colOwnerValue=l,l&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),_.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},_.prototype.addUsedLocales=function(l){f.prototype.addUsedLocales.call(this,l),this.templateQuestion.addUsedLocales(l)},Object.defineProperty(_.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),_.prototype.setIndex=function(l){this.indexValue=l},_.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(_.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(l){l=l.toLocaleLowerCase(),this.updateTemplateQuestion(l),this.setPropertyValue("cellType",l),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),_.prototype.setIsVisible=function(l){this._isVisible=l},Object.defineProperty(_.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(l){this._hasVisibleCell=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(l){this.templateQuestion.name=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(l){this.templateQuestion.title=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(l){this.templateQuestion.isRequired=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(l){this.setPropertyValue("isRenderedRequired",l)},enumerable:!1,configurable:!0}),_.prototype.updateIsRenderedRequired=function(l){this.isRenderedRequired=l||this.isRequired},Object.defineProperty(_.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(l){this.templateQuestion.requiredErrorText=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(l){this.templateQuestion.readOnly=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(l){this.templateQuestion.hasOther=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(l){this.templateQuestion.visibleIf=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(l){this.templateQuestion.enableIf=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(l){this.templateQuestion.requiredIf=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(l){this.setPropertyValue("isUnique",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns",!1)},set:function(l){this.setPropertyValue("showInMultipleColumns",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(l){this.templateQuestion.validators=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(l){this.setPropertyValue("totalType",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(l){this.setPropertyValue("totalExpression",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"hasTotal",{get:function(){return"none"!=this.totalType||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(l){this.setLocalizableStringText("totalFormat",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(l){this.setLocalizableStringText("cellHint",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(l){this.setPropertyValue("renderAs",l),this.templateQuestion&&(this.templateQuestion.renderAs=l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(l){l<-1||l>20||this.setPropertyValue("totalMaximumFractionDigits",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(l){l<-1||l>20||this.setPropertyValue("totalMinimumFractionDigits",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(l){this.setPropertyValue("totalDisplayStyle",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(l){Object(T.getCurrecyCodes)().indexOf(l)<0||this.setPropertyValue("totalCurrency",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(l){this.setPropertyValue("minWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(l){this.setPropertyValue("width",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(l){l<-1||l>4||this.setPropertyValue("colCount",l)},enumerable:!1,configurable:!0}),_.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},_.prototype.getMarkdownHtml=function(l,m){return this.colOwner?this.colOwner.getMarkdownHtml(l,m):void 0},_.prototype.getRenderer=function(l){return this.colOwner?this.colOwner.getRenderer(l):null},_.prototype.getRendererContext=function(l){return this.colOwner?this.colOwner.getRendererContext(l):l},_.prototype.getProcessedText=function(l){return this.colOwner?this.colOwner.getProcessedText(l):l},_.prototype.createCellQuestion=function(l){var m=this.calcCellQuestionType(l),h=this.createNewQuestion(m);return this.callOnCellQuestionUpdate(h,l),h},_.prototype.startLoadingFromJson=function(l){f.prototype.startLoadingFromJson.call(this,l),l&&!l.cellType&&l.choices&&(l.cellType=this.colOwner.getCellType())},_.prototype.updateCellQuestion=function(l,m,h){void 0===h&&(h=null),this.setQuestionProperties(l,h)},_.prototype.callOnCellQuestionUpdate=function(l,m){var h=l.getType(),d=E[h];d&&d.onCellQuestionUpdate&&d.onCellQuestionUpdate(l,this,this.colOwner,m)},_.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},_.prototype.calcCellQuestionType=function(l){var m=this.getDefaultCellQuestionType();return!!l&&!!this.colOwner&&(m=this.colOwner.getCustomCellType(this,l,m)),m},_.prototype.getDefaultCellQuestionType=function(l){return l||(l=this.cellType),"default"!==l?l:this.colOwner?this.colOwner.getCellType():v.settings.matrixDefaultCellType},_.prototype.updateTemplateQuestion=function(l){var m=this,h=this.getDefaultCellQuestionType(l),d=this.templateQuestion?this.templateQuestion.getType():"";h!==d&&(this.templateQuestion&&this.removeProperties(d),this.templateQuestionValue=this.createNewQuestion(h),this.templateQuestion.locOwner=this,this.addProperties(h),this.templateQuestion.onPropertyChanged.add(function(c,a){m.propertyValueChanged(a.name,a.oldValue,a.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(c,a){m.doItemValuePropertyChanged(a.propertyName,a.obj,a.name,a.newValue,a.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return m.getSurvey()}),this.templateQuestion.locTitle.strChanged())},_.prototype.createNewQuestion=function(l){var m=n.Serializer.createClass(l);return m||(m=n.Serializer.createClass("text")),m.loadingOwner=this,m.isEditableTemplateElement=!0,m.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(m),this.setParentQuestionToTemplate(m),m},_.prototype.setParentQuestionToTemplate=function(l){this.colOwner&&this.colOwner.isQuestion&&l.setParentQuestion(this.colOwner)},_.prototype.setQuestionProperties=function(l,m){var h=this;if(void 0===m&&(m=null),this.templateQuestion){var d=(new n.JsonObject).toJsonObject(this.templateQuestion,!0);m&&m(d),d.type=l.getType(),"default"===this.cellType&&!!this.colOwner&&this.colOwner.hasChoices()&&delete d.choices,delete d.itemComponent,(new n.JsonObject).toObject(d,l),l.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,l.loadedChoicesFromServerCallback=function(){if(h.isShowInMultipleColumns&&(!h.previousChoicesId||h.previousChoicesId===l.id)){h.previousChoicesId=l.id;var c=l.visibleChoices;h.templateQuestion.choices=c,h.propertyValueChanged("choices",c,c)}}}},_.prototype.propertyValueChanged=function(l,m,h){f.prototype.propertyValueChanged.call(this,l,m,h),"isRequired"===l&&this.updateIsRenderedRequired(h),this.colOwner&&!this.isLoadingFromJson&&(this.isShowInMultipleColumns&&["visibleChoices","choices"].indexOf(l)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this),n.Serializer.hasOriginalProperty(this,l)&&this.colOwner.onColumnPropertyChanged(this,l,h))},_.prototype.doItemValuePropertyChanged=function(l,m,h,d,c){!n.Serializer.hasOriginalProperty(m,h)||null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,l,m,h,d,c)},_.prototype.doShowInMultipleColumnsChanged=function(){null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},_.prototype.getProperties=function(l){return n.Serializer.getDynamicPropertiesByObj(this,l)},_.prototype.removeProperties=function(l){for(var m=this.getProperties(l),h=0;h<m.length;h++){var d=m[h];delete this[d.name],d.serializationProperty&&delete this[d.serializationProperty]}},_.prototype.addProperties=function(l){for(var m=this.templateQuestion,h=this.getProperties(l),d=0;d<h.length;d++){var c=h[d];this.addProperty(m,c.name,!1),c.serializationProperty&&this.addProperty(m,c.serializationProperty,!0),c.alternativeName&&this.addProperty(m,c.alternativeName,!1)}},_.prototype.addProperty=function(l,m,h){var d={configurable:!0,get:function(){return l[m]}};h||(d.set=function(c){l[m]=c}),Object.defineProperty(this,m,d)},_}(y.Base);n.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(f,_){f&&_&&(_.placeholder=f.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var f=i.getColumnTypes();return f.splice(0,0,"default"),f}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean","minWidth","width","visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(f){return!!f&&f.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return Object(T.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new i("")})},"./src/question_matrixdropdownrendered.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionMatrixDropdownRenderedCell",function(){return l}),e.d(t,"QuestionMatrixDropdownRenderedRow",function(){return m}),e.d(t,"QuestionMatrixDropdownRenderedTable",function(){return h});var d,n=e("./src/jsonobject.ts"),y=e("./src/base.ts"),T=e("./src/itemvalue.ts"),v=e("./src/actions/action.ts"),O=e("./src/actions/adaptive-container.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=e("./src/actions/container.ts"),i=e("./src/settings.ts"),f=(d=function(c,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=c}d(c,a),c.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}),_=function(d,c,a,s){var S,r=arguments.length,o=r<3?c:null===s?s=Object.getOwnPropertyDescriptor(c,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(d,c,a,s);else for(var I=d.length-1;I>=0;I--)(S=d[I])&&(o=(r<3?S(o):r>3?S(c,a,o):S(c,a))||o);return r>3&&o&&Object.defineProperty(c,a,o),o},l=function(){function d(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isDragHandlerCell=!1,this.classNameValue="",this.idValue=d.counter++}return Object.defineProperty(d.prototype,"hasQuestion",{get:function(){return!!this.question},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),d.prototype.showErrorOnCore=function(c){return this.getShowErrorLocation(c)&&(!this.isChoice||this.isFirstChoice)},d.prototype.getShowErrorLocation=function(c){return this.hasQuestion&&this.question.showErrorOnCore(c)},Object.defineProperty(d.prototype,"item",{get:function(){return this.itemValue},set:function(c){this.itemValue=c,c&&(c.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isFirstChoice",{get:function(){return 0===this.choiceIndex},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"className",{get:function(){var c=(new C.CssClassBuilder).append(this.classNameValue);return this.hasQuestion&&c.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),c.toString()},set:function(c){this.classNameValue=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(" "===this.cell.column.cellHint)return"";if(this.cell.column.cellHint)return this.cell.column.locCellHint.renderedHtml;if(this.cell.column.isShowInMultipleColumns)return this.item.locText.renderedHtml}return this.question&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),d.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},d.prototype.calculateFinalClassName=function(c){var a=this.cell.question.cssClasses,s=(new C.CssClassBuilder).append(a.itemValue,!!a).append(a.asCell,!!a);return s.append(c.cell,s.isEmpty()&&!!c).append(c.choiceCell,this.isChoice).toString()},d.counter=1,d}(),m=function(d){function c(a,s){void 0===s&&(s=!1);var r=d.call(this)||this;return r.cssClasses=a,r.isDetailRow=s,r.cells=[],r.idValue=c.counter++,r}return f(c,d),Object.defineProperty(c.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"className",{get:function(){return(new C.CssClassBuilder).append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),c.counter=1,_([Object(n.property)({defaultValue:null})],c.prototype,"isGhostRow",void 0),_([Object(n.property)({defaultValue:!1})],c.prototype,"isAdditionalClasses",void 0),c}(y.Base),h=function(d){function c(a){var s=d.call(this)||this;return s.matrix=a,s.renderedRowsChangedCallback=function(){},s.hasActionCellInRowsValues={},s.build(),s}return f(c,d),Object.defineProperty(c.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),c.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(c.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowRowsDragAndDrop",{get:function(){return this.matrix.allowRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),c.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},c.prototype.updateShowTableAndAddRow=function(){var a=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",a);var s=this.matrix.canAddRow&&a,r=s,o=s;r&&(r="default"===this.matrix.getAddRowLocation()?!this.matrix.isColumnLayoutHorizontal:"bottom"!==this.matrix.getAddRowLocation()),o&&"topBottom"!==this.matrix.getAddRowLocation()&&(o=!r),this.setPropertyValue("showAddRowOnTop",r),this.setPropertyValue("showAddRowOnBottom",o)},c.prototype.onAddedRow=function(){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var a=this.matrix.visibleRows[this.matrix.visibleRows.length-1];this.rowsActions.push(this.buildRowActions(a)),this.addHorizontalRow(this.rows,a,1==this.matrix.visibleRows.length&&!this.matrix.showHeader),this.updateShowTableAndAddRow()}},c.prototype.getRenderedDataRowCount=function(){for(var a=0,s=0;s<this.rows.length;s++)this.rows[s].isDetailRow||a++;return a},c.prototype.onRemovedRow=function(a){var s=this.getRenderedRowIndex(a);if(!(s<0)){this.rowsActions.splice(s,1);var r=1;s<this.rows.length-1&&this.rows[s+1].isDetailRow&&r++,this.rows.splice(s,r),this.updateShowTableAndAddRow()}},c.prototype.onDetailPanelChangeVisibility=function(a,s){var r=this.getRenderedRowIndex(a);if(!(r<0)){var o=r<this.rows.length-1&&this.rows[r+1].isDetailRow?r+1:-1;if(!(s&&o>-1||!s&&o<0))if(s){var S=this.createDetailPanelRow(a,this.rows[r]);this.rows.splice(r+1,0,S)}else this.rows.splice(o,1)}},c.prototype.getRenderedRowIndex=function(a){for(var s=0;s<this.rows.length;s++)if(this.rows[s].row==a)return s;return-1},c.prototype.buildRowsActions=function(){this.rowsActions=[];for(var a=this.matrix.visibleRows,s=0;s<a.length;s++)this.rowsActions.push(this.buildRowActions(a[s]))},c.prototype.createRenderedRow=function(a,s){return void 0===s&&(s=!1),new m(a,s)},c.prototype.buildHeader=function(){var s=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",s),s){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var r=0;r<this.matrix.visibleColumns.length;r++){var o=this.matrix.visibleColumns[r];!o.hasVisibleCell||(o.isShowInMultipleColumns?this.createMutlipleColumnsHeader(o):this.headerRow.cells.push(this.createHeaderCell(o)))}else{var S=this.matrix.visibleRows;for(r=0;r<S.length;r++){var I=this.createTextCell(S[r].locText);I.row=S[r],this.headerRow.cells.push(I)}this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null))}},c.prototype.buildFooter=function(){if(this.showFooter){this.footerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.footerRow.cells.push(this.createTextCell(this.matrix.getFooterText()));for(var a=this.matrix.visibleTotalRow.cells,s=0;s<a.length;s++){var r=a[s];if(r.column.hasVisibleCell)if(r.column.isShowInMultipleColumns)this.createMutlipleColumnsFooter(this.footerRow,r);else{var o=this.createEditCell(r);r.column&&this.setHeaderCellWidth(r.column,o),this.footerRow.cells.push(o)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null))}},c.prototype.buildRows=function(){var a=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=a},c.prototype.hasActionCellInRows=function(a){if(void 0===this.hasActionCellInRowsValues[a]){var s=this.matrix.visibleRows;this.hasActionCellInRowsValues[a]=!1;for(var r=0;r<s.length;r++)if(!this.isValueEmpty(this.getRowActions(r,a))){this.hasActionCellInRowsValues[a]=!0;break}}return this.hasActionCellInRowsValues[a]},c.prototype.canRemoveRow=function(a){return this.matrix.canRemoveRow(a)},c.prototype.buildHorizontalRows=function(){for(var a=this.matrix.visibleRows,s=[],r=0;r<a.length;r++)this.addHorizontalRow(s,a[r],0==r&&!this.matrix.showHeader);return s},c.prototype.addHorizontalRow=function(a,s,r){var o=this.createHorizontalRow(s,r);o.row=s,a.push(o),s.isDetailPanelShowing&&a.push(this.createDetailPanelRow(s,o))},c.prototype.getRowDragCell=function(a){var s=new l;return s.isDragHandlerCell=!0,s.className=this.getActionsCellClassName(),s.row=this.matrix.visibleRows[a],s},c.prototype.getActionsCellClassName=function(){return(new C.CssClassBuilder).append(this.cssClasses.actionsCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal).toString()},c.prototype.getRowActionsCell=function(a,s){var r=this.getRowActions(a,s);if(!this.isValueEmpty(r)){var o=new l,S=this.matrix.allowAdaptiveActions?new O.AdaptiveActionContainer:new E.ActionContainer;!!this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(S.cssClasses=this.matrix.survey.getCss().actionBar),S.setItems(r);var I=new T.ItemValue(S);return o.item=I,o.isActionsCell=!0,o.className=this.getActionsCellClassName(),o.row=this.matrix.visibleRows[a],o}return null},c.prototype.getRowActions=function(a,s){var r=this.rowsActions[a];return Array.isArray(r)?r.filter(function(o){return o.location||(o.location="start"),o.location===s}):[]},c.prototype.buildRowActions=function(a){var s=[];return this.setDefaultRowActions(a,s),this.matrix.survey&&(s=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,a,s)),s},Object.defineProperty(c.prototype,"showRemoveButtonAsIcon",{get:function(){return i.settings.matrixRenderRemoveAsIcon&&this.matrix.survey&&"sd-root-modern"===this.matrix.survey.css.root},enumerable:!1,configurable:!0}),c.prototype.setDefaultRowActions=function(a,s){var r=this.matrix;this.hasRemoveRows&&this.canRemoveRow(a)&&s.push(new v.Action(this.showRemoveButtonAsIcon?{id:"remove-row",iconName:"icon-delete",component:"sv-action-bar-item",innerCss:(new C.CssClassBuilder).append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:r.removeRowText,enabled:!r.isInputReadOnly,data:{row:a,question:r},action:function(){r.removeRowUI(a)}}:{id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:a,question:this.matrix}})),a.hasPanel&&s.push(new v.Action({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:a,question:this.matrix}}))},c.prototype.createHorizontalRow=function(a,s){var r=this.createRenderedRow(this.cssClasses);if(this.allowRowsDragAndDrop){var o=this.matrix.visibleRows.indexOf(a);r.cells.push(this.getRowDragCell(o))}this.addRowActionsCell(a,r,"start"),this.matrix.hasRowText&&((S=this.createTextCell(a.locText)).row=a,r.cells.push(S),s&&this.setHeaderCellWidth(null,S),S.className=(new C.CssClassBuilder).append(S.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.detailRowText,a.hasPanel).toString());for(var I=0;I<a.cells.length;I++){var x=a.cells[I];if(x.column.hasVisibleCell)if(x.column.isShowInMultipleColumns)this.createMutlipleEditCells(r,x);else{var S=this.createEditCell(x);r.cells.push(S),s&&this.setHeaderCellWidth(x.column,S)}}return this.addRowActionsCell(a,r,"end"),r},c.prototype.addRowActionsCell=function(a,s,r){var o=this.matrix.visibleRows.indexOf(a);if(this.hasActionCellInRows(r)){var S=this.getRowActionsCell(o,r);if(S)s.cells.push(S);else{var I=new l;I.isEmpty=!0,s.cells.push(I)}}},c.prototype.createDetailPanelRow=function(a,s){var r=this.matrix.isDesignMode,o=this.createRenderedRow(this.cssClasses,!0);o.row=a;var S=new l;this.matrix.hasRowText&&(S.colSpans=2),S.isEmpty=!0,r||o.cells.push(S);var I=null;this.hasActionCellInRows("end")&&((I=new l).isEmpty=!0);var x=new l;return x.panel=a.detailPanel,x.colSpans=s.cells.length-(r?0:S.colSpans)-(I?I.colSpans:0),x.className=this.cssClasses.detailPanelCell,o.cells.push(x),I&&o.cells.push(I),"function"==typeof this.matrix.onCreateDetailPanelRenderedRowCallback&&this.matrix.onCreateDetailPanelRenderedRowCallback(o),o},c.prototype.buildVerticalRows=function(){for(var a=this.matrix.columns,s=[],r=0;r<a.length;r++){var o=a[r];o.isVisible&&o.hasVisibleCell&&(o.isShowInMultipleColumns?this.createMutlipleVerticalRows(s,o,r):s.push(this.createVerticalRow(o,r)))}return this.hasActionCellInRows("end")&&s.push(this.createEndVerticalActionRow()),s},c.prototype.createMutlipleVerticalRows=function(a,s,r){var o=this.getMultipleColumnChoices(s);if(o)for(var S=0;S<o.length;S++)a.push(this.createVerticalRow(s,r,o[S],S))},c.prototype.createVerticalRow=function(a,s,r,o){void 0===r&&(r=null),void 0===o&&(o=-1);var S=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var x=this.createTextCell(r?r.locText:a.locTitle);x.column=a,x.className=(new C.CssClassBuilder).append(x.className).append(this.cssClasses.rowTextCell).toString(),r||this.setRequriedToHeaderCell(a,x),S.cells.push(x)}for(var P=this.matrix.visibleRows,g=0;g<P.length;g++){var u=r,M=o>=0?o:g,R=P[g].cells[s],w=r?R.question.visibleChoices:void 0;w&&M<w.length&&(u=w[M]);var F=this.createEditCell(R,u);F.item=u,F.choiceIndex=M,S.cells.push(F)}return this.matrix.hasTotal&&S.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[s])),S},c.prototype.createEndVerticalActionRow=function(){var a=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&a.cells.push(this.createEmptyCell());for(var s=this.matrix.visibleRows,r=0;r<s.length;r++)a.cells.push(this.getRowActionsCell(r,"end"));return this.matrix.hasTotal&&a.cells.push(this.createEmptyCell()),a},c.prototype.createMutlipleEditCells=function(a,s,r){void 0===r&&(r=!1);var o=r?this.getMultipleColumnChoices(s.column):s.question.visibleChoices;if(o)for(var S=0;S<o.length;S++){var I=this.createEditCell(s,r?void 0:o[S]);r||(I.choiceIndex=S),a.cells.push(I)}},c.prototype.createEditCell=function(a,s){void 0===s&&(s=void 0);var r=new l;return r.cell=a,r.row=a.row,r.question=a.question,r.matrix=this.matrix,r.item=s,r.isOtherChoice=!!s&&!!a.question&&a.question.otherItem===s,r.className=r.calculateFinalClassName(this.cssClasses),r},c.prototype.createMutlipleColumnsFooter=function(a,s){this.createMutlipleEditCells(a,s,!0)},c.prototype.createMutlipleColumnsHeader=function(a){var s=this.getMultipleColumnChoices(a);if(s)for(var r=0;r<s.length;r++){var o=this.createTextCell(s[r].locText);this.setHeaderCell(a,o),this.headerRow.cells.push(o)}},c.prototype.getMultipleColumnChoices=function(a){var s=a.templateQuestion.choices;return s&&Array.isArray(s)&&0==s.length?this.matrix.choices:(s=a.templateQuestion.visibleChoices)&&Array.isArray(s)?s:null},c.prototype.createHeaderCell=function(a){var s=a?this.createTextCell(a.locTitle):this.createEmptyCell();s.column=a,this.setHeaderCell(a,s);var r=a&&"default"!==a.cellType?a.cellType:this.matrix.cellType;return s.className=(new C.CssClassBuilder).append(this.cssClasses.headerCell).append(this.cssClasses.emptyCell,!!s.isEmpty).append(this.cssClasses.cell+"--"+r).toString(),s},c.prototype.setHeaderCell=function(a,s){this.setHeaderCellWidth(a,s),this.setRequriedToHeaderCell(a,s)},c.prototype.setHeaderCellWidth=function(a,s){s.minWidth=null!=a?this.matrix.getColumnWidth(a):this.matrix.getRowTitleWidth(),s.width=null!=a?a.width:this.matrix.getRowTitleWidth()},c.prototype.setRequriedToHeaderCell=function(a,s){a&&a.isRequired&&this.matrix.survey&&(s.requiredText=this.matrix.survey.requiredText)},c.prototype.createRemoveRowCell=function(a){var s=new l;return s.row=a,s.isRemoveRow=this.canRemoveRow(a),this.cssClasses.cell&&(s.className=this.cssClasses.cell),s},c.prototype.createTextCell=function(a){var s=new l;return s.locTitle=a,a&&a.strChanged(),this.cssClasses.cell&&(s.className=this.cssClasses.cell),s},c.prototype.createEmptyCell=function(){var a=this.createTextCell(null);return a.isEmpty=!0,a},_([Object(n.propertyArray)({onPush:function(a,s,r){r.renderedRowsChangedCallback()}})],c.prototype,"rows",void 0),c}(y.Base)},"./src/question_matrixdynamic.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"MatrixDynamicRowModel",function(){return m}),e.d(t,"QuestionMatrixDynamicModel",function(){return h});var c,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question_matrixdropdownbase.ts"),v=e("./src/error.ts"),O=e("./src/settings.ts"),C=e("./src/utils/utils.ts"),E=e("./src/dragdrop/matrix-rows.ts"),i=e("./src/utils/cssClassBuilder.ts"),f=e("./src/question_matrixdropdownrendered.ts"),_=e("./src/utils/dragOrClickHelper.ts"),l=(c=function(a,s){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var S in o)Object.prototype.hasOwnProperty.call(o,S)&&(r[S]=o[S])})(a,s)},function(a,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function r(){this.constructor=a}c(a,s),a.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}),m=function(c){function a(s,r,o){var S=c.call(this,r,o)||this;return S.index=s,S.buildCells(o),S}return l(a,c),Object.defineProperty(a.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"shortcutText",{get:function(){var r=this.data.visibleRows.indexOf(this)+1,o=this.cells.length>1?this.cells[1].questionValue:void 0,S=this.cells.length>0?this.cells[0].questionValue:void 0;return o&&o.value||S&&S.value||""+r},enumerable:!1,configurable:!0}),a}(T.MatrixDropdownRowModelBase),h=function(c){function a(s){var r=c.call(this,s)||this;return r.rowCounter=0,r.initialRowCount=2,r.setRowCountValueFromData=!1,r.startDragMatrixRow=function(S,I){r.dragDropMatrixRows.startDrag(S,r.draggedRow,r,S.target)},r.moveRowByIndex=function(S,I){var x=r.createNewValue();if(x){var P=x[S];!P||(x.splice(S,1),x.splice(I,0,P),r.value=x)}},r.createLocalizableString("confirmDeleteText",r,!1,"confirmDelete"),r.createLocalizableString("addRowText",r).onGetTextCallback=function(S){return S||r.defaultAddRowText},r.createLocalizableString("removeRowText",r,!1,"removeRow"),r.createLocalizableString("emptyRowsText",r,!1,!0),r.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){r.updateShowTableAndAddRow()}),r.registerPropertyChangedHandlers(["allowRowsDragAndDrop"],function(){r.clearRowsAndResetRenderedTable()}),r.dragOrClickHelper=new _.DragOrClickHelper(r.startDragMatrixRow),r}return l(a,c),a.prototype.setSurveyImpl=function(s,r){c.prototype.setSurveyImpl.call(this,s,r),this.dragDropMatrixRows=new E.DragDropMatrixRows(this.survey)},a.prototype.isBanStartDrag=function(s){var r=s.target;return"true"===r.getAttribute("contenteditable")||"INPUT"===r.nodeName},a.prototype.onPointerDown=function(s,r){!r||!this.allowRowsDragAndDrop||this.isBanStartDrag(s)||r.isDetailPanelShowing||(this.draggedRow=r,this.dragOrClickHelper.onPointerDown(s))},a.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(a.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete",!1)},set:function(s){this.setPropertyValue("confirmDelete",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(s){this.setPropertyValue("keyName",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(s){this.setPropertyValue("defaultRowValue",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow",!1)},set:function(s){this.setPropertyValue("defaultValueFromLastRow",s)},enumerable:!1,configurable:!0}),a.prototype.isDefaultValueEmpty=function(){return c.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},a.prototype.valueFromData=function(s){if(this.minRowCount<1)return c.prototype.valueFromData.call(this,s);Array.isArray(s)||(s=[]);for(var r=s.length;r<this.minRowCount;r++)s.push({});return s},a.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultRowValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.rowCount){for(var s=[],r=0;r<this.rowCount;r++)s.push(this.defaultRowValue);this.value=s}}else c.prototype.setDefaultValue.call(this)},Object.defineProperty(a.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(s){if(!(s<0||s>O.settings.matrixMaximumRowCount)){this.setRowCountValueFromData=!1;var r=this.rowCountValue;if(this.rowCountValue=s,this.value&&this.value.length>s){var o=this.value;o.splice(s),this.value=o}if(this.isUpdateLocked)return void(this.initialRowCount=s);if(this.generatedVisibleRows||0==r){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(s);for(var S=r;S<s;S++){var I=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(I),this.onMatrixRowCreated(I)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),a.prototype.updateProgressInfoByValues=function(s){var r=this.value;Array.isArray(r)||(r=[]);for(var o=0;o<this.rowCount;o++)this.updateProgressInfoByRow(s,o<r.length?r[o]:{})},a.prototype.getValueForNewRow=function(){var s=null;return this.onGetValueForNewRowCallBack&&(s=this.onGetValueForNewRowCallBack(this)),s},Object.defineProperty(a.prototype,"allowRowsDragAndDrop",{get:function(){return!this.readOnly&&this.getPropertyValue("allowRowsDragAndDrop")},set:function(s){this.setPropertyValue("allowRowsDragAndDrop",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),a.prototype.createRenderedTable=function(){return new d(this)},Object.defineProperty(a.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(s){this.setPropertyValue("rowCount",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(s){s<0&&(s=0),this.setPropertyValue("minRowCount",s),s>this.maxRowCount&&(this.maxRowCount=s),this.rowCount<s&&(this.rowCount=s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(s){s<=0||(s>O.settings.matrixMaximumRowCount&&(s=O.settings.matrixMaximumRowCount),s!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",s),s<this.minRowCount&&(this.minRowCount=s),this.rowCount>s&&(this.rowCount=s)))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(s){this.setPropertyValue("allowAddRows",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(s){this.setPropertyValue("allowRemoveRows",s),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canRemoveRows",{get:function(){var s=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(s):s},enumerable:!1,configurable:!0}),a.prototype.canRemoveRow=function(s){return!this.survey||this.survey.matrixAllowRemoveRow(this,s.index,s)},a.prototype.addRowUI=function(){var s=this.rowCount;if(this.addRow(),s!==this.rowCount){var r=this.getQuestionToFocusOnAddingRow();r&&r.focus()}},a.prototype.getQuestionToFocusOnAddingRow=function(){for(var s=this.visibleRows[this.visibleRows.length-1],r=0;r<s.cells.length;r++){var o=s.cells[r].question;if(o&&o.isVisible&&!o.isReadOnly)return o}return null},a.prototype.addRow=function(){var s={question:this,canAddRow:this.canAddRow};this.survey&&this.survey.matrixBeforeRowAdded(s),s.canAddRow&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel())},Object.defineProperty(a.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(s){this.setPropertyValue("detailPanelShowOnAdding",s)},enumerable:!1,configurable:!0}),a.prototype.hasRowsAsItems=function(){return!1},a.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,c.prototype.unbindValue.call(this)},a.prototype.isValueSurveyElement=function(s){return this.isEditingSurveyElement||c.prototype.isValueSurveyElement.call(this,s)},a.prototype.addRowCore=function(){var s=this.rowCount;this.rowCount=this.rowCount+1;var r=this.getDefaultRowValue(!0),o=null;if(this.isValueEmpty(r)||(o=this.createNewValue()).length==this.rowCount&&(o[o.length-1]=r,this.value=o),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(r))){var S=this.visibleRows[this.rowCount-1];this.isValueEmpty(S.value)||(o||(o=this.createNewValue()),!this.isValueSurveyElement(o)&&!this.isTwoValueEquals(o[o.length-1],S.value)&&(o[o.length-1]=S.value,this.value=o))}this.survey&&s+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},a.prototype.getDefaultRowValue=function(s){for(var r=null,o=0;o<this.columns.length;o++){var S=this.columns[o].templateQuestion;S&&!this.isValueEmpty(S.getDefaultValue())&&((r=r||{})[this.columns[o].name]=S.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var I in this.defaultRowValue)(r=r||{})[I]=this.defaultRowValue[I];if(s&&this.defaultValueFromLastRow){var x=this.value;if(x&&Array.isArray(x)&&x.length>=this.rowCount-1){var P=x[this.rowCount-2];for(var I in P)(r=r||{})[I]=P[I]}}return r},a.prototype.removeRowUI=function(s){if(s&&s.rowName){var r=this.visibleRows.indexOf(s);if(r<0)return;s=r}(!this.isRequireConfirmOnRowDelete(s)||Object(C.confirmAction)(this.confirmDeleteText))&&this.removeRow(s)},a.prototype.isRequireConfirmOnRowDelete=function(s){if(!this.confirmDelete||s<0||s>=this.rowCount)return!1;var r=this.createNewValue();return!(this.isValueEmpty(r)||!Array.isArray(r)||s>=r.length||this.isValueEmpty(r[s]))},a.prototype.removeRow=function(s){if(this.canRemoveRows&&!(s<0||s>=this.rowCount)){var r=this.visibleRows&&s<this.visibleRows.length?this.visibleRows[s]:null;r&&this.survey&&!this.survey.matrixRowRemoving(this,s,r)||(this.onStartRowAddingRemoving(),this.removeRowCore(s),this.onEndRowRemoving(r))}},a.prototype.removeRowCore=function(s){var r=this.generatedVisibleRows?this.generatedVisibleRows[s]:null;if(this.generatedVisibleRows&&s<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(s,1),this.rowCountValue--,this.value){var o=[];(o=Array.isArray(this.value)&&s<this.value.length?this.createValueCopy():this.createNewValue()).splice(s,1),o=this.deleteRowValue(o,null),this.isRowChanging=!0,this.value=o,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,s,r)},Object.defineProperty(a.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(s){this.setLocalizableStringText("confirmDeleteText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(s){this.setLocalizableStringText("addRowText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(s){this.setPropertyValue("addRowLocation",s)},enumerable:!1,configurable:!0}),a.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(a.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(s){this.setPropertyValue("hideColumnsIfEmpty",s)},enumerable:!1,configurable:!0}),a.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(a.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(s){this.setLocalizableStringText("removeRowText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(s){this.setLocalizableStringText("emptyRowsText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),a.prototype.getDisplayValueCore=function(s,r){if(!r||!Array.isArray(r))return r;for(var o=this.getUnbindValue(r),S=this.visibleRows,I=0;I<S.length&&I<o.length;I++){var x=o[I];!x||(o[I]=this.getRowDisplayValue(s,S[I],x))}return o},a.prototype.getConditionObjectRowName=function(s){return"["+s.toString()+"]"},a.prototype.getConditionObjectsRowIndeces=function(){for(var s=[],r=Math.max(this.rowCount,1),o=0;o<Math.min(O.settings.matrixMaxRowCountInCondition,r);o++)s.push(o);return s},a.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(a.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.onCheckForErrors=function(s,r){c.prototype.onCheckForErrors.call(this,s,r),!r&&this.hasErrorInMinRows()&&s.push(new v.MinRowCountError(this.minRowCount,this))},a.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var s=0,r=0;r<this.generatedVisibleRows.length;r++)this.generatedVisibleRows[r].isEmpty||s++;return s<this.minRowCount},a.prototype.getUniqueColumns=function(){var s=c.prototype.getUniqueColumns.call(this);if(this.keyName){var r=this.getColumnByName(this.keyName);r&&s.indexOf(r)<0&&s.push(r)}return s},a.prototype.generateRows=function(){var s=new Array;if(0===this.rowCount)return s;for(var r=this.createNewValue(),o=0;o<this.rowCount;o++)s.push(this.createMatrixRow(this.getRowValueByIndex(r,o)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=r),s},a.prototype.createMatrixRow=function(s){return new m(this.rowCounter++,this,s)},a.prototype.onBeforeValueChanged=function(s){if(s&&Array.isArray(s)){var r=s.length;r!=this.rowCount&&(!this.setRowCountValueFromData&&r<this.initialRowCount||(this.setRowCountValueFromData=!0,this.rowCountValue=r,this.generatedVisibleRows&&(this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged())))}},a.prototype.createNewValue=function(){var s=this.createValueCopy();(!s||!Array.isArray(s))&&(s=[]),s.length>this.rowCount&&s.splice(this.rowCount);var r=this.getDefaultRowValue(!1);r=r||{};for(var o=s.length;o<this.rowCount;o++)s.push(this.getUnbindValue(r));return s},a.prototype.deleteRowValue=function(s,r){for(var o=!0,S=0;S<s.length;S++)if(this.isObject(s[S])&&Object.keys(s[S]).length>0){o=!1;break}return o?null:s},a.prototype.getRowValueByIndex=function(s,r){return Array.isArray(s)&&r>=0&&r<s.length?s[r]:null},a.prototype.getRowValueCore=function(s,r,o){if(void 0===o&&(o=!1),!this.generatedVisibleRows)return{};var S=this.getRowValueByIndex(r,this.generatedVisibleRows.indexOf(s));return!S&&o&&(S={}),S},a.prototype.getAddRowButtonCss=function(s){return void 0===s&&(s=!1),(new i.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,s).toString()},a.prototype.getRemoveRowButtonCss=function(){return(new i.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},a.prototype.getRootCss=function(){var s;return(new i.CssClassBuilder).append(c.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(null!==(s=this.renderedTable)&&void 0!==s&&s.showTable)).toString()},a}(T.QuestionMatrixDropdownModelBase),d=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return l(a,c),a.prototype.setDefaultRowActions=function(s,r){c.prototype.setDefaultRowActions.call(this,s,r)},a}(f.QuestionMatrixDropdownRenderedTable);n.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:O.settings.matrixMaximumRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(c){return!c||c.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(c){return!c||c.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(c){return"none"!==c.detailPanelMode}},"allowRowsDragAndDrop:switch"],function(){return new h("")},"matrixdropdownbase"),y.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(c){var a=new h(c);return a.choices=[1,2,3,4,5],T.QuestionMatrixDropdownModelBase.addDefaultColumns(a),a})},"./src/question_multipletext.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"MultipleTextItemModel",function(){return l}),e.d(t,"QuestionMultipleTextModel",function(){return m});var h,n=e("./src/base.ts"),y=e("./src/survey-element.ts"),T=e("./src/question.ts"),v=e("./src/question_text.ts"),O=e("./src/jsonobject.ts"),C=e("./src/questionfactory.ts"),E=e("./src/helpers.ts"),i=e("./src/utils/cssClassBuilder.ts"),f=e("./src/settings.ts"),_=(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(a[r]=s[r])})(d,c)},function(d,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}h(d,c),d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),l=function(h){function d(c,a){void 0===c&&(c=null),void 0===a&&(a=null);var s=h.call(this)||this;return s.editorValue=s.createEditor(c),s.editor.questionTitleTemplateCallback=function(){return""},s.editor.titleLocation="left",a&&(s.title=a),s}return _(d,h),d.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(d.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),d.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(d.prototype,"name",{get:function(){return this.editor.name},set:function(c){this.editor.name=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),d.prototype.createEditor=function(c){return new v.QuestionTextModel(c)},d.prototype.addUsedLocales=function(c){h.prototype.addUsedLocales.call(this,c),this.editor.addUsedLocales(c)},d.prototype.localeChanged=function(){h.prototype.localeChanged.call(this),this.editor.localeChanged()},d.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},d.prototype.setData=function(c){this.data=c,c&&(this.editor.defaultValue=c.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=c)},Object.defineProperty(d.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(c){this.editor.isRequired=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(c){this.editor.inputType=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this.editor.title},set:function(c){this.editor.title=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(c){this.editor.maxLength=c},enumerable:!1,configurable:!0}),d.prototype.getMaxLength=function(){var c=this.getSurvey();return E.Helpers.getMaxLength(this.maxLength,c?c.maxTextLength:-1)},Object.defineProperty(d.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(c){this.editor.placeholder=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(c){this.placeholder=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(c){this.editor.requiredErrorText=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"size",{get:function(){return this.editor.size},set:function(c){this.editor.size=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"validators",{get:function(){return this.editor.validators},set:function(c){this.editor.validators=c},enumerable:!1,configurable:!0}),d.prototype.getValidators=function(){return this.validators},Object.defineProperty(d.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(c){null!=this.data&&this.data.setMultipleTextValue(this.name,c)},enumerable:!1,configurable:!0}),d.prototype.isEmpty=function(){return this.editor.isEmpty()},d.prototype.onValueChanged=function(c){this.valueChangedCallback&&this.valueChangedCallback(c)},d.prototype.getSurveyData=function(){return this},d.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},d.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},d.prototype.getValue=function(c){return this.data?this.data.getMultipleTextValue(c):null},d.prototype.setValue=function(c,a){this.data&&this.data.setMultipleTextValue(c,a)},d.prototype.getVariable=function(c){},d.prototype.setVariable=function(c,a){},d.prototype.getComment=function(c){return null},d.prototype.setComment=function(c,a){},d.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},d.prototype.getFilteredValues=function(){return this.getAllValues()},d.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},d.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(d.prototype,"validatedValue",{get:function(){return this.value},set:function(c){this.value=c},enumerable:!1,configurable:!0}),d.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},d.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},d}(n.Base),m=function(h){function d(c){var a=h.call(this,c)||this;return a.isMultipleItemValueChanging=!1,a.createNewArray("items",function(s){s.setData(a)}),a.registerPropertyChangedHandlers(["items","colCount"],function(){a.fireCallback(a.colCountChangedCallback)}),a.registerPropertyChangedHandlers(["itemSize"],function(){a.updateItemsSize()}),a}return _(d,h),d.addDefaultItems=function(c){for(var a=C.QuestionFactory.DefaultMutlipleTextItems,s=0;s<a.length;s++)c.addItem(a[s])},d.prototype.getType=function(){return"multipletext"},d.prototype.setSurveyImpl=function(c,a){h.prototype.setSurveyImpl.call(this,c,a);for(var s=0;s<this.items.length;s++)this.items[s].setData(this)},Object.defineProperty(d.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(c){var a;null===(a=this.items)||void 0===a||a.map(function(s,r){return s.editor.id=c+"_"+r}),this.setPropertyValue("id",c)},enumerable:!1,configurable:!0}),d.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),h.prototype.onSurveyLoad.call(this),this.fireCallback(this.colCountChangedCallback)},d.prototype.setQuestionValue=function(c,a){void 0===a&&(a=!0),h.prototype.setQuestionValue.call(this,c,a),this.performForEveryEditor(function(s){s.editor.updateValueFromSurvey(s.value)}),this.updateIsAnswered()},d.prototype.onSurveyValueChanged=function(c){h.prototype.onSurveyValueChanged.call(this,c),this.performForEveryEditor(function(a){a.editor.onSurveyValueChanged(a.value)})},d.prototype.updateItemsSize=function(){this.performForEveryEditor(function(c){c.editor.updateInputSize()})},d.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(c){c.editor.onSurveyLoad()})},d.prototype.performForEveryEditor=function(c){for(var a=0;a<this.items.length;a++){var s=this.items[a];s.editor&&c(s)}},Object.defineProperty(d.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(c){this.setPropertyValue("items",c)},enumerable:!1,configurable:!0}),d.prototype.addItem=function(c,a){void 0===a&&(a=null);var s=this.createTextItem(c,a);return this.items.push(s),s},d.prototype.getItemByName=function(c){for(var a=0;a<this.items.length;a++)if(this.items[a].name==c)return this.items[a];return null},d.prototype.addConditionObjectsByContext=function(c,a){for(var s=0;s<this.items.length;s++){var r=this.items[s];c.push({name:this.getValueName()+"."+r.name,text:this.processedTitle+"."+r.fullTitle,question:this})}},d.prototype.getConditionJson=function(c,a){if(void 0===c&&(c=null),void 0===a&&(a=null),!a)return h.prototype.getConditionJson.call(this);var s=this.getItemByName(a);if(!s)return null;var r=(new O.JsonObject).toJsonObject(s);return r.type="text",r},d.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this);for(var c=0;c<this.items.length;c++)this.items[c].locStrsChanged()},d.prototype.localeChanged=function(){h.prototype.localeChanged.call(this);for(var c=0;c<this.items.length;c++)this.items[c].localeChanged()},d.prototype.supportGoNextPageAutomatic=function(){for(var c=0;c<this.items.length;c++)if(this.items[c].isEmpty())return!1;return!0},Object.defineProperty(d.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(c){c<1||c>5||this.setPropertyValue("colCount",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(c){this.setPropertyValue("itemSize",c)},enumerable:!1,configurable:!0}),d.prototype.getRows=function(){for(var c=this.colCount,a=this.items,s=[],r=0,o=0;o<a.length;o++)0==r&&s.push([]),s[s.length-1].push(a[o]),++r>=c&&(r=0);return s},d.prototype.onValueChanged=function(){h.prototype.onValueChanged.call(this),this.onItemValueChanged()},d.prototype.createTextItem=function(c,a){return new l(c,a)},d.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var c=0;c<this.items.length;c++){var a=null;this.value&&this.items[c].name in this.value&&(a=this.value[this.items[c].name]),this.items[c].onValueChanged(a)}},d.prototype.getIsRunningValidators=function(){if(h.prototype.getIsRunningValidators.call(this))return!0;for(var c=0;c<this.items.length;c++)if(this.items[c].editor.isRunningValidators)return!0;return!1},d.prototype.hasErrors=function(c,a){var s=this;void 0===c&&(c=!0),void 0===a&&(a=null);for(var r=!1,o=0;o<this.items.length;o++)this.items[o].editor.onCompletedAsyncValidators=function(S){s.raiseOnCompletedAsyncValidators()},(!a||!0!==a.isOnValueChanged||!this.items[o].editor.isEmpty())&&(r=this.items[o].editor.hasErrors(c,a)||r);return h.prototype.hasErrors.call(this,c)||r},d.prototype.getAllErrors=function(){for(var c=h.prototype.getAllErrors.call(this),a=0;a<this.items.length;a++){var s=this.items[a].editor.getAllErrors();s&&s.length>0&&(c=c.concat(s))}return c},d.prototype.clearErrors=function(){h.prototype.clearErrors.call(this);for(var c=0;c<this.items.length;c++)this.items[c].editor.clearErrors()},d.prototype.getContainsErrors=function(){var c=h.prototype.getContainsErrors.call(this);if(c)return c;for(var a=this.items,s=0;s<a.length;s++)if(a[s].editor.containsErrors)return!0;return!1},d.prototype.getIsAnswered=function(){if(!h.prototype.getIsAnswered.call(this))return!1;for(var c=0;c<this.items.length;c++){var a=this.items[c].editor;if(a.isVisible&&!a.isAnswered)return!1}return!0},d.prototype.getProgressInfo=function(){for(var c=[],a=0;a<this.items.length;a++)c.push(this.items[a].editor);return y.SurveyElement.getProgressInfoByElements(c,this.isRequired)},d.prototype.getDisplayValueCore=function(c,a){if(!a)return a;for(var s={},r=0;r<this.items.length;r++){var o=this.items[r],S=a[o.name];if(!E.Helpers.isValueEmpty(S)){var I=o.name;c&&!!o.title&&(I=o.title),s[I]=o.editor.getDisplayValue(c,S)}}return s},d.prototype.getMultipleTextValue=function(c){return this.value?this.value[c]:null},d.prototype.setMultipleTextValue=function(c,a){this.isMultipleItemValueChanging=!0,this.isValueEmpty(a)&&(a=void 0);var s=this.value;s||(s={}),s[c]=a,this.setNewValue(s),this.isMultipleItemValueChanging=!1},d.prototype.getItemDefaultValue=function(c){return this.defaultValue?this.defaultValue[c]:null},d.prototype.getTextProcessor=function(){return this.textProcessor},d.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},d.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},d.prototype.addElement=function(c,a){},d.prototype.removeElement=function(c){return!1},d.prototype.getQuestionTitleLocation=function(){return"left"},d.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},d.prototype.getChildrenLayoutType=function(){return"row"},d.prototype.elementWidthChanged=function(c){},Object.defineProperty(d.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),d.prototype.indexOf=function(c){return-1},d.prototype.ensureRowsVisibility=function(){},d.prototype.getItemLabelCss=function(c){return(new i.CssClassBuilder).append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelOnError,c.editor.errors.length>0).toString()},d.prototype.getItemCss=function(){return(new i.CssClassBuilder).append(this.cssClasses.item).toString()},d.prototype.getItemTitleCss=function(){return(new i.CssClassBuilder).append(this.cssClasses.itemTitle).toString()},d.prototype.getIsTooltipErrorInsideSupported=function(){return!0},d}(T.Question);O.Serializer.addClass("multipletextitem",["name","isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:f.settings.questions.inputTypes},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new l("")}),O.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]}],function(){return new m("")},"question"),C.QuestionFactory.Instance.registerQuestion("multipletext",function(h){var d=new m(h);return m.addDefaultItems(d),d})},"./src/question_paneldynamic.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionPanelDynamicItem",function(){return s}),e.d(t,"QuestionPanelDynamicTemplateSurveyImpl",function(){return r}),e.d(t,"QuestionPanelDynamicModel",function(){return o});var S,n=e("./src/helpers.ts"),y=e("./src/survey-element.ts"),T=e("./src/textPreProcessor.ts"),v=e("./src/question.ts"),O=e("./src/jsonobject.ts"),C=e("./src/questionfactory.ts"),E=e("./src/error.ts"),i=e("./src/settings.ts"),f=e("./src/utils/utils.ts"),_=e("./src/utils/cssClassBuilder.ts"),l=e("./src/actions/action.ts"),m=e("./src/base.ts"),h=(S=function(I,x){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,g){P.__proto__=g}||function(P,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(P[u]=g[u])})(I,x)},function(I,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function P(){this.constructor=I}S(I,x),I.prototype=null===x?Object.create(x):(P.prototype=x.prototype,new P)}),a=function(S){function I(x,P,g){var u=S.call(this,g)||this;return u.data=x,u.panelItem=P,u.variableName=g,u.sharedQuestions={},u}return h(I,S),Object.defineProperty(I.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),I.prototype.getValues=function(){return this.panelItem.getAllValues()},I.prototype.getQuestionByName=function(x){var P=S.prototype.getQuestionByName.call(this,x);if(P)return P;var g=this.panelIndex;return P=g>-1?this.data.getSharedQuestionFromArray(x,g):void 0,this.sharedQuestions[P?P.name:x]=x,P},I.prototype.getQuestionDisplayText=function(x){var P=this.sharedQuestions[x.name];if(!P)return S.prototype.getQuestionDisplayText.call(this,x);var g=this.panelItem.getValue(P);return x.getDisplayValue(!0,g)},I.prototype.onCustomProcessText=function(x){if(x.name==s.IndexVariableName){var P=this.panelIndex;if(P>-1)return x.isExists=!0,x.value=P+1,!0}if(0==x.name.toLowerCase().indexOf(s.ParentItemVariableName+".")){var g=this.data;if(g&&g.parentQuestion&&g.parent&&g.parent.data){var u=new I(g.parentQuestion,g.parent.data,s.ItemVariableName),M=s.ItemVariableName+x.name.substring(s.ParentItemVariableName.length),R=u.processValue(M,x.returnDisplayValue);x.isExists=R.isExists,x.value=R.value}return!0}return!1},I}(T.QuestionTextProcessor),s=function(){function S(I,x){this.data=I,this.panelValue=x,this.textPreProcessor=new a(I,this,S.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(S.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),S.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},S.prototype.getValue=function(I){return this.getAllValues()[I]},S.prototype.setValue=function(I,x){var P=this.data.getPanelItemData(this),g=P?P[I]:void 0;if("object"==typeof g||!n.Helpers.isTwoValueEquals(x,g)){this.data.setPanelItemData(this,I,x);for(var u=this.panel.questions,M=0;M<u.length;M++)u[M].getValueName()!==I&&u[M].checkBindings(I,x)}},S.prototype.getVariable=function(I){},S.prototype.setVariable=function(I,x){},S.prototype.getComment=function(I){return this.getValue(I+i.settings.commentPrefix)||""},S.prototype.setComment=function(I,x,P){this.setValue(I+i.settings.commentPrefix,x)},S.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},S.prototype.getFilteredValues=function(){var I={},x=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var P in x)I[P]=x[P];if(I[S.ItemVariableName]=this.getAllValues(),this.data){I[S.IndexVariableName.toLowerCase()]=this.data.getItemIndex(this);var g=this.data;g&&g.parentQuestion&&g.parent&&(I[S.ParentItemVariableName]=g.parent.getValue())}return I},S.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},S.prototype.getSurveyData=function(){return this},S.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},S.prototype.getTextProcessor=function(){return this.textPreProcessor},S.ItemVariableName="panel",S.ParentItemVariableName="parentpanel",S.IndexVariableName="panelIndex",S}(),r=function(){function S(I){this.data=I}return S.prototype.getSurveyData=function(){return null},S.prototype.getSurvey=function(){return this.data.getSurvey()},S.prototype.getTextProcessor=function(){return null},S}(),o=function(S){function I(x){var P=S.call(this,x)||this;return P.loadingPanelCount=0,P.currentIndexValue=-1,P.isAddingNewPanels=!1,P.onReadyChangedCallback=function(){P.recalculateIsReadyValue()},P.createNewArray("panels"),P.templateValue=P.createAndSetupNewPanelObject(),P.template.renderWidth="100%",P.template.selectedElementInDesign=P,P.template.addElementCallback=function(g){P.addOnPropertyChangedCallback(g),P.rebuildPanels()},P.template.removeElementCallback=function(){P.rebuildPanels()},P.createLocalizableString("confirmDeleteText",P,!1,"confirmDelete"),P.createLocalizableString("keyDuplicationError",P,!1,!0),P.createLocalizableString("panelAddText",P,!1,"addPanel"),P.createLocalizableString("panelRemoveText",P,!1,"removePanel"),P.createLocalizableString("panelPrevText",P,!1,"pagePrevText"),P.createLocalizableString("panelNextText",P,!1,"pageNextText"),P.createLocalizableString("noEntriesText",P,!1,"noEntriesText"),P.registerPropertyChangedHandlers(["panelsState"],function(){P.setPanelsState()}),P.registerPropertyChangedHandlers(["isMobile"],function(){P.updateFooterActions()}),P}return h(I,S),Object.defineProperty(I.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),I.prototype.getFirstQuestionToFocus=function(x){for(var P=0;P<this.panels.length;P++){var g=this.panels[P].getFirstQuestionToFocus(x);if(g)return g}return null},I.prototype.setSurveyImpl=function(x,P){S.prototype.setSurveyImpl.call(this,x,P),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},I.prototype.assignOnPropertyChangedToTemplate=function(){for(var x=this.template.elements,P=0;P<x.length;P++)this.addOnPropertyChangedCallback(x[P])},I.prototype.addOnPropertyChangedCallback=function(x){var P=this;x.isQuestion&&x.setParentQuestion(this),x.onPropertyChanged.add(function(g,u){P.onTemplateElementPropertyChanged(g,u)}),x.isPanel&&(x.addElementCallback=function(g){P.addOnPropertyChangedCallback(g)})},I.prototype.onTemplateElementPropertyChanged=function(x,P){if(!this.isLoadingFromJson&&!this.useTemplatePanel&&0!=this.panels.length&&O.Serializer.findProperty(x.getType(),P.name))for(var u=this.panels,M=0;M<u.length;M++){var R=u[M].getQuestionByName(x.name);R&&R[P.name]!==P.newValue&&(R[P.name]=P.newValue)}},Object.defineProperty(I.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),I.prototype.getType=function(){return"paneldynamic"},Object.defineProperty(I.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),I.prototype.clearOnDeletingContainer=function(){this.panels.forEach(function(x){x.clearOnDeletingContainer()})},Object.defineProperty(I.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),I.prototype.removeElement=function(x){return this.template.removeElement(x)},Object.defineProperty(I.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),I.prototype.getPanel=function(){return this.template},Object.defineProperty(I.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"templateTitle",{get:function(){return this.template.title},set:function(x){this.template.title=x},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"templateDescription",{get:function(){return this.template.description},set:function(x){this.template.description=x},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"items",{get:function(){for(var x=[],P=0;P<this.panels.length;P++)x.push(this.panels[P].data);return x},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panels",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:(this.currentIndexValue<0&&this.panelCount>0&&(this.currentIndexValue=0),this.currentIndexValue>=this.panelCount&&(this.currentIndexValue=this.panelCount-1),this.currentIndexValue)},set:function(x){this.currentIndexValue!==x&&(x>=this.panelCount&&(x=this.panelCount-1),this.currentIndexValue=x,this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"currentPanel",{get:function(){var x=this.currentIndex;return x<0||x>=this.panels.length?null:this.panels[x]},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete",!1)},set:function(x){this.setPropertyValue("confirmDelete",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(x){this.setPropertyValue("keyName",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(x){this.setLocalizableStringText("confirmDeleteText",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(x){this.setLocalizableStringText("keyDuplicationError",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(x){this.setLocalizableStringText("panelPrevText",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(x){this.setLocalizableStringText("panelNextText",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(x){this.setLocalizableStringText("panelAddText",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(x){this.setLocalizableStringText("panelRemoveText",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isProgressTopShowing",{get:function(){return"progressTop"===this.renderMode||"progressTopBottom"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isProgressBottomShowing",{get:function(){return"progressBottom"===this.renderMode||"progressTopBottom"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isPrevButtonShowing",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isNextButtonShowing",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.panelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.panelCount>1},enumerable:!1,configurable:!0}),I.prototype.getElementsInDesign=function(x){return void 0===x&&(x=!1),x?[this.template]:this.templateElements},I.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},I.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},I.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:S.prototype.getValueCore.call(this)},I.prototype.setValueCore=function(x){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=x):S.prototype.setValueCore.call(this,x)},Object.defineProperty(I.prototype,"panelCount",{get:function(){return this.isLoadingFromJson||this.useTemplatePanel?this.loadingPanelCount:this.panels.length},set:function(x){if(!(x<0)){if(this.isLoadingFromJson||this.useTemplatePanel)return void(this.loadingPanelCount=x);if(x!=this.panels.length&&!this.useTemplatePanel){this.updateBindings("panelCount",x),this.prepareValueForPanelCreating();for(var P=this.panelCount;P<x;P++){var g=this.createNewPanel();this.panels.push(g),"list"==this.renderMode&&"default"!=this.panelsState&&("expand"===this.panelsState?g.expand():g.title&&g.collapse())}x<this.panelCount&&this.panels.splice(x,this.panelCount-x),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(x){this.setPropertyValue("panelsState",x)},enumerable:!1,configurable:!0}),I.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new r(this))},I.prototype.setPanelsSurveyImpl=function(){for(var x=0;x<this.panels.length;x++){var P=this.panels[x];P!=this.template&&P.setSurveyImpl(P.data)}},I.prototype.setPanelsState=function(){if(!this.useTemplatePanel&&"list"==this.renderMode&&this.templateTitle)for(var x=0;x<this.panels.length;x++){var P=this.panelsState;"firstExpanded"===P&&(P=0===x?"expanded":"collapsed"),this.panels[x].state=P}},I.prototype.setValueBasedOnPanelCount=function(){var x=this.value;if((!x||!Array.isArray(x))&&(x=[]),x.length!=this.panelCount){for(var P=x.length;P<this.panelCount;P++)x.push({});x.length>this.panelCount&&x.splice(this.panelCount,x.length-this.panelCount),this.isValueChangingInternally=!0,this.value=x,this.isValueChangingInternally=!1}},Object.defineProperty(I.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(x){x<0&&(x=0),x!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",x),x>this.maxPanelCount&&(this.maxPanelCount=x),this.panelCount<x&&(this.panelCount=x))},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(x){x<=0||(x>i.settings.panelMaximumPanelCount&&(x=i.settings.panelMaximumPanelCount),x!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",x),x<this.minPanelCount&&(this.minPanelCount=x),this.panelCount>x&&(this.panelCount=x)))},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(x){this.setPropertyValue("allowAddPanel",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(x){this.setPropertyValue("allowRemovePanel",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(x){this.setPropertyValue("templateTitleLocation",x.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(x){this.setPropertyValue("showQuestionNumbers",x),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(x){this.setPropertyValue("panelRemoveButtonLocation",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(x){this.setPropertyValue("showRangeInProgress",x),this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(x){this.setPropertyValue("renderMode",x),this.updateFooterActions(),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isRenderModeList",{get:function(){return"list"===this.renderMode},enumerable:!1,configurable:!0}),I.prototype.setVisibleIndex=function(x){if(!this.isVisible)return 0;for(var P="onSurvey"==this.showQuestionNumbers?x:0,g=0;g<this.panels.length;g++){var u=this.setPanelVisibleIndex(this.panels[g],P,"off"!=this.showQuestionNumbers);"onSurvey"==this.showQuestionNumbers&&(P+=u)}return S.prototype.setVisibleIndex.call(this,"onSurvey"!=this.showQuestionNumbers?x:-1),"onSurvey"!=this.showQuestionNumbers?1:P-x},I.prototype.setPanelVisibleIndex=function(x,P,g){return g?x.setVisibleIndex(P):(x.setVisibleIndex(-1),0)},Object.defineProperty(I.prototype,"canAddPanel",{get:function(){return!(this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.panelCount-1)&&this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"canRemovePanel",{get:function(){return!this.isDesignMode&&this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),I.prototype.rebuildPanels=function(){var x;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var P=[];if(this.useTemplatePanel)new s(this,this.template),P.push(this.template);else for(var u=0;u<this.panelCount;u++)this.createNewPanel(),P.push(this.createNewPanel());(x=this.panels).splice.apply(x,function(S,I,x){if(x||2===arguments.length)for(var u,P=0,g=I.length;P<g;P++)(u||!(P in I))&&(u||(u=Array.prototype.slice.call(I,0,P)),u[P]=I[P]);return S.concat(u||Array.prototype.slice.call(I))}([0,this.panels.length],P,!1)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}},Object.defineProperty(I.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(x){this.setPropertyValue("defaultPanelValue",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel",!1)},set:function(x){this.setPropertyValue("defaultValueFromLastPanel",x)},enumerable:!1,configurable:!0}),I.prototype.isDefaultValueEmpty=function(){return S.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},I.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultPanelValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.panelCount){for(var x=[],P=0;P<this.panelCount;P++)x.push(this.defaultPanelValue);this.value=x}}else S.prototype.setDefaultValue.call(this)},I.prototype.isEmpty=function(){var x=this.value;if(!x||!Array.isArray(x))return!0;for(var P=0;P<x.length;P++)if(!this.isRowEmpty(x[P]))return!1;return!0},I.prototype.getProgressInfo=function(){return y.SurveyElement.getProgressInfoByElements(this.panels,this.isRequired)},I.prototype.isRowEmpty=function(x){for(var P in x)if(x.hasOwnProperty(P))return!1;return!0},I.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var x=this.addPanel();return"list"===this.renderMode&&"default"!==this.panelsState&&x.expand(),x},I.prototype.addPanel=function(){this.panelCount++,this.isRenderModeList||(this.currentIndex=this.panelCount-1);var x=this.value,P=!1;return this.isValueEmpty(this.defaultPanelValue)||!!x&&Array.isArray(x)&&x.length==this.panelCount&&(P=!0,this.copyValue(x[x.length-1],this.defaultPanelValue)),this.defaultValueFromLastPanel&&!!x&&Array.isArray(x)&&x.length>1&&x.length==this.panelCount&&(P=!0,this.copyValue(x[x.length-1],x[x.length-2])),P&&(this.value=x),this.survey&&this.survey.dynamicPanelAdded(this),this.panels[this.panelCount-1]},I.prototype.canLeaveCurrentPanel=function(){return!("list"!==this.renderMode&&this.currentPanel&&this.currentPanel.hasErrors())},I.prototype.copyValue=function(x,P){for(var g in P)x[g]=P[g]},I.prototype.removePanelUI=function(x){!this.canRemovePanel||(!this.confirmDelete||Object(f.confirmAction)(this.confirmDeleteText))&&this.removePanel(x)},I.prototype.goToNextPanel=function(){return!(this.currentIndex<0||!this.canLeaveCurrentPanel()||(this.currentIndex++,0))},I.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},I.prototype.removePanel=function(u){var P=this.getPanelIndex(u);if(!(P<0||P>=this.panelCount)){var g=this.panels[P];this.survey&&!this.survey.dynamicPanelRemoving(this,P,g)||(this.panels.splice(P,1),this.updateBindings("panelCount",this.panelCount),!(u=this.value)||!Array.isArray(u)||P>=u.length||(this.isValueChangingInternally=!0,u.splice(P,1),this.value=u,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,P,g),this.isValueChangingInternally=!1))}},I.prototype.getPanelIndex=function(x){if(n.Helpers.isNumber(x))return x;for(var P=this.items,g=0;g<this.panels.length;g++)if(this.panels[g]===x||P[g]===x)return g;return-1},I.prototype.locStrsChanged=function(){S.prototype.locStrsChanged.call(this);for(var x=this.panels,P=0;P<x.length;P++)x[P].locStrsChanged()},I.prototype.clearIncorrectValues=function(){for(var x=0;x<this.panels.length;x++)this.clearIncorrectValuesInPanel(x)},I.prototype.clearErrors=function(){S.prototype.clearErrors.call(this);for(var x=0;x<this.panels.length;x++)this.panels[x].clearErrors()},I.prototype.getQuestionFromArray=function(x,P){return P>=this.panelCount?null:this.panels[P].getQuestionByName(x)},I.prototype.clearIncorrectValuesInPanel=function(x){var P=this.panels[x];P.clearIncorrectValues();var g=this.value,u=g&&x<g.length?g[x]:null;if(u){var M=!1;for(var R in u)this.getSharedQuestionFromArray(R,x)||P.getQuestionByName(R)||this.iscorrectValueWithPostPrefix(P,R,i.settings.commentPrefix)||this.iscorrectValueWithPostPrefix(P,R,i.settings.matrixTotalValuePostFix)||(delete u[R],M=!0);M&&(g[x]=u,this.value=g)}},I.prototype.iscorrectValueWithPostPrefix=function(x,P,g){return P.indexOf(g)===P.length-g.length&&!!x.getQuestionByName(P.substring(0,P.indexOf(g)))},I.prototype.getSharedQuestionFromArray=function(x,P){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,x,P):null},I.prototype.addConditionObjectsByContext=function(x,P){for(var g=!!P&&(!0===P||this.template.questions.indexOf(P)>-1),u=this.getValueName()+"[0].",M=this.processedTitle+"[0].",R=new Array,w=this.template.questions,F=0;F<w.length;F++)w[F].addConditionObjectsByContext(R,P);for(F=0;F<R.length;F++)x.push({name:u+R[F].name,text:M+R[F].text,question:R[F].question});if(g){var B=!0===P?this.getValueName()+".":"",H=!0===P?this.processedTitle+".":"";for(F=0;F<R.length;F++)if(R[F].question!=P){var $={name:B+"panel."+R[F].name,text:H+"panel."+R[F].text,question:R[F].question};!0===P&&($.context=this),x.push($)}}},I.prototype.getConditionJson=function(x,P){if(void 0===x&&(x=null),void 0===P&&(P=null),!P)return S.prototype.getConditionJson.call(this,x,P);var g=P,u=P.indexOf(".");u>-1&&(g=P.substring(0,u),P=P.substring(u+1));var M=this.template.getQuestionByName(g);return M?M.getConditionJson(x,P):null},I.prototype.onReadOnlyChanged=function(){var x=this.isReadOnly;this.template.readOnly=x;for(var P=0;P<this.panels.length;P++)this.panels[P].readOnly=x;S.prototype.onReadOnlyChanged.call(this)},I.prototype.onSurveyLoad=function(){if(this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.loadingPanelCount>0&&(this.panelCount=this.loadingPanelCount),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var x=0;x<this.panelCount;x++)this.survey.dynamicPanelAdded(this);this.recalculateIsReadyValue(),S.prototype.onSurveyLoad.call(this)},I.prototype.onFirstRendering=function(){this.template.onFirstRendering();for(var x=0;x<this.panels.length;x++)this.panels[x].onFirstRendering();S.prototype.onFirstRendering.call(this)},I.prototype.localeChanged=function(){S.prototype.localeChanged.call(this);for(var x=0;x<this.panels.length;x++)this.panels[x].localeChanged()},I.prototype.runCondition=function(x,P){S.prototype.runCondition.call(this,x,P),this.runPanelsCondition(x,P)},I.prototype.reRunCondition=function(){!this.data||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},I.prototype.runPanelsCondition=function(x,P){var g={};x&&x instanceof Object&&(g=JSON.parse(JSON.stringify(x))),this.parentQuestion&&this.parent&&(g[s.ParentItemVariableName]=this.parent.getValue());for(var u=0;u<this.panels.length;u++){var M=this.getPanelItemData(this.panels[u].data),R=n.Helpers.createCopy(g);R[s.ItemVariableName.toLowerCase()]=M,R[s.IndexVariableName.toLowerCase()]=u,this.panels[u].runCondition(R,P)}},I.prototype.onAnyValueChanged=function(x){S.prototype.onAnyValueChanged.call(this,x);for(var P=0;P<this.panels.length;P++)this.panels[P].onAnyValueChanged(x),this.panels[P].onAnyValueChanged(s.ItemVariableName)},I.prototype.hasKeysDuplicated=function(x,P){void 0===P&&(P=null);for(var u,g=[],M=0;M<this.panels.length;M++)u=this.isValueDuplicated(this.panels[M],g,P,x)||u;return u},I.prototype.updatePanelsContainsErrors=function(){for(var P=this.changingValueQuestion.parent;P;)P.updateContainsErrors(),P=P.parent;this.updateContainsErrors()},I.prototype.hasErrors=function(x,P){if(void 0===x&&(x=!0),void 0===P&&(P=null),this.isValueChangingInternally)return!1;var g=!1;if(this.changingValueQuestion)return g=this.changingValueQuestion.hasErrors(x,P),g=this.hasKeysDuplicated(x,P)||g,this.updatePanelsContainsErrors(),g;var u=this.hasErrorInPanels(x,P);return S.prototype.hasErrors.call(this,x)||u},I.prototype.getContainsErrors=function(){var x=S.prototype.getContainsErrors.call(this);if(x)return x;for(var P=this.panels,g=0;g<P.length;g++)if(P[g].containsErrors)return!0;return!1},I.prototype.getIsAnswered=function(){if(!S.prototype.getIsAnswered.call(this))return!1;for(var x=this.panels,P=0;P<x.length;P++){var g=[];x[P].addQuestionsToList(g,!0);for(var u=0;u<g.length;u++)if(!g[u].isAnswered)return!1}return!0},I.prototype.clearValueIfInvisibleCore=function(){for(var x=0;x<this.panels.length;x++){var P=this.panels[x].questions;this.isSetPanelItemData=[];for(var g=0;g<P.length;g++){var u=P[g];u.clearValueIfInvisible(),this.isSetPanelItemData.push(u.getValueName())}}this.isSetPanelItemData=void 0,S.prototype.clearValueIfInvisibleCore.call(this)},I.prototype.getIsRunningValidators=function(){if(S.prototype.getIsRunningValidators.call(this))return!0;for(var x=0;x<this.panels.length;x++)for(var P=this.panels[x].questions,g=0;g<P.length;g++)if(P[g].isRunningValidators)return!0;return!1},I.prototype.getAllErrors=function(){for(var x=S.prototype.getAllErrors.call(this),P=0;P<this.panels.length;P++)for(var g=this.panels[P].questions,u=0;u<g.length;u++){var M=g[u].getAllErrors();M&&M.length>0&&(x=x.concat(M))}return x},I.prototype.getDisplayValueCore=function(x,P){var g=this.getUnbindValue(P);if(!g||!Array.isArray(g))return g;for(var u=0;u<this.panels.length&&u<g.length;u++){var M=g[u];!M||(g[u]=this.getPanelDisplayValue(u,M,x))}return g},I.prototype.getPanelDisplayValue=function(x,P,g){if(!P)return P;for(var u=this.panels[x],M=Object.keys(P),R=0;R<M.length;R++){var w=M[R],F=u.getQuestionByValueName(w);if(F||(F=this.getSharedQuestionFromArray(w,x)),F){var B=F.getDisplayValue(g,P[w]);P[w]=B,g&&F.title&&F.title!==w&&(P[F.title]=B,delete P[w])}}return P},I.prototype.hasErrorInPanels=function(x,P){for(var g=!1,u=this.panels,M=[],R=0;R<u.length;R++)this.setOnCompleteAsyncInPanel(u[R]);for(R=0;R<u.length;R++){var w=u[R].hasErrors(x,!!P&&P.focuseOnFirstError,P);w=this.isValueDuplicated(u[R],M,P,x)||w,!this.isRenderModeList&&w&&!g&&(this.currentIndex=R),g=w||g}return g},I.prototype.setOnCompleteAsyncInPanel=function(x){for(var P=this,g=x.questions,u=0;u<g.length;u++)g[u].onCompletedAsyncValidators=function(M){P.raiseOnCompletedAsyncValidators()}},I.prototype.isValueDuplicated=function(x,P,g,u){if(!this.keyName)return!1;var M=x.getQuestionByValueName(this.keyName);if(!M||M.isEmpty())return!1;var R=M.value;this.changingValueQuestion&&M!=this.changingValueQuestion&&M.hasErrors(u,g);for(var w=0;w<P.length;w++)if(R==P[w])return u&&M.addError(new E.KeyDuplicationError(this.keyDuplicationError,this)),!!g&&!g.firstErrorQuestion&&(g.firstErrorQuestion=M),!0;return P.push(R),!1},I.prototype.getPanelActions=function(x){var P=this,g=x.footerActions;return"right"!==this.panelRemoveButtonLocation&&g.push(new l.Action({id:"remove-panel-".concat(x.id),component:"sv-paneldynamic-remove-btn",visible:new m.ComputedUpdater(function(){return[P.canRemovePanel,"collapsed"!==x.state,"right"!==P.panelRemoveButtonLocation].every(function(u){return!0===u})}),data:{question:this,panel:x}})),this.survey&&(g=this.survey.getUpdatedPanelFooterActions(x,g,this)),g},I.prototype.createNewPanel=function(){var x=this,P=this.createAndSetupNewPanelObject(),g=this.template.toJSON();(new O.JsonObject).toObject(g,P),P.renderWidth="100%",P.updateCustomWidgets(),new s(this,P),P.onFirstRendering();for(var u=P.questions,M=0;M<u.length;M++)u[M].setParentQuestion(this);return P.locStrsChanged(),P.onGetFooterActionsCallback=function(){return x.getPanelActions(P)},P.footerToolbarCss=this.cssClasses.panelFooter,P},I.prototype.createAndSetupNewPanelObject=function(){var x=this.createNewPanelObject();x.isInteractiveDesignElement=!1,x.setParentQuestion(this);var P=this;return x.onGetQuestionTitleLocation=function(){return P.getTemplateQuestionTitleLocation()},x},I.prototype.getTemplateQuestionTitleLocation=function(){return"default"!=this.templateTitleLocation?this.templateTitleLocation:this.getTitleLocationCore()},I.prototype.createNewPanelObject=function(){return O.Serializer.createClass("panel")},I.prototype.setPanelCountBasedOnValue=function(){if(!this.isValueChangingInternally&&!this.useTemplatePanel){var x=this.value,P=x&&Array.isArray(x)?x.length:0;0==P&&this.loadingPanelCount>0&&(P=this.loadingPanelCount),this.panelCount=P}},I.prototype.setQuestionValue=function(x){S.prototype.setQuestionValue.call(this,x,!1),this.setPanelCountBasedOnValue();for(var P=0;P<this.panels.length;P++)this.panelUpdateValueFromSurvey(this.panels[P]);this.updateIsAnswered()},I.prototype.onSurveyValueChanged=function(x){S.prototype.onSurveyValueChanged.call(this,x);for(var P=0;P<this.panels.length;P++)this.panelSurveyValueChanged(this.panels[P]);void 0===x&&this.setValueBasedOnPanelCount(),this.recalculateIsReadyValue()},I.prototype.panelUpdateValueFromSurvey=function(x){for(var P=x.questions,g=this.getPanelItemData(x.data),u=0;u<P.length;u++){var M=P[u];M.updateValueFromSurvey(g[M.getValueName()]),M.updateCommentFromSurvey(g[M.getValueName()+i.settings.commentPrefix])}},I.prototype.panelSurveyValueChanged=function(x){for(var P=x.questions,g=this.getPanelItemData(x.data),u=0;u<P.length;u++){var M=P[u];M.onSurveyValueChanged(g[M.getValueName()])}},I.prototype.recalculateIsReadyValue=function(){var x=this,P=this.isReadyValue,g=!0;this.panels.forEach(function(u){u.questions.forEach(function(M){M.isReady?M.onReadyChanged.remove(x.onReadyChangedCallback):(g=!1,M.onReadyChanged.add(x.onReadyChangedCallback))})}),this.isReadyValue=g,P!=this.isReadyValue&&this.onReadyChanged.fire(this,{question:this,oldIsReady:P,isReady:this.isReadyValue})},I.prototype.onSetData=function(){S.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},I.prototype.getItemIndex=function(x){var P=this.items.indexOf(x);return P>-1?P:this.items.length},I.prototype.getPanelItemData=function(x){var P=this.items,g=P.indexOf(x),u=this.value;return g<0&&Array.isArray(u)&&u.length>P.length&&(g=P.length),g<0||!u||!Array.isArray(u)||u.length<=g?{}:u[g]},I.prototype.setPanelItemData=function(x,P,g){if(!(this.isSetPanelItemData&&this.isSetPanelItemData.indexOf(P)>-1)){this.isSetPanelItemData||(this.isSetPanelItemData=[]),this.isSetPanelItemData.push(P);var u=this.items;(F=u.indexOf(x))<0&&(F=u.length);var F,M=this.getUnbindValue(this.value);if((!M||!Array.isArray(M))&&(M=[]),M.length<=F)for(var R=M.length;R<=F;R++)M.push({});M[F]||(M[F]={}),this.isValueEmpty(g)?delete M[F][P]:M[F][P]=g,F>=0&&F<this.panels.length&&(this.changingValueQuestion=this.panels[F].getQuestionByValueName(P)),this.value=M,this.changingValueQuestion=null,this.survey&&this.survey.dynamicPanelItemValueChanged(this,{question:this,panel:x.panel,name:P,itemIndex:F,itemValue:M[F],value:g}),(F=this.isSetPanelItemData.indexOf(P))>-1&&this.isSetPanelItemData.splice(F,1)}},I.prototype.getRootData=function(){return this.data},I.prototype.getPlainData=function(x){void 0===x&&(x={includeEmpty:!0});var P=S.prototype.getPlainData.call(this,x);return P&&(P.isNode=!0,P.data=this.panels.map(function(g,u){var M={name:g.name||u,title:g.title||"Panel",value:g.getValue(),displayValue:g.getValue(),getString:function(R){return"object"==typeof R?JSON.stringify(R):R},isNode:!0,data:g.questions.map(function(R){return R.getPlainData(x)}).filter(function(R){return!!R})};return(x.calculations||[]).forEach(function(R){M[R.propertyName]=g[R.propertyName]}),M})),P},I.prototype.updateElementCss=function(x){S.prototype.updateElementCss.call(this,x);for(var P=0;P<this.panels.length;P++)this.panels[P].updateElementCss(x)},Object.defineProperty(I.prototype,"progressText",{get:function(){return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,this.panelCount)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.panelCount*100+"%"},enumerable:!1,configurable:!0}),I.prototype.getRootCss=function(){return(new _.CssClassBuilder).append(S.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},I.prototype.getPanelWrapperCss=function(){return(new _.CssClassBuilder).append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,"right"===this.panelRemoveButtonLocation).toString()},I.prototype.getPanelRemoveButtonCss=function(){return(new _.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,"right"===this.panelRemoveButtonLocation).toString()},I.prototype.getAddButtonCss=function(){return(new _.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode","list"===this.renderMode).toString()},I.prototype.getPrevButtonCss=function(){return(new _.CssClassBuilder).append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonShowing).toString()},I.prototype.getNextButtonCss=function(){return(new _.CssClassBuilder).append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonShowing).toString()},Object.defineProperty(I.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(x){this.setLocalizableStringText("noEntriesText",x)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),I.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&0===this.panelCount},I.prototype.needResponsiveWidth=function(){var x=this.getPanel();return!(!x||!x.needResponsiveWidth())},Object.defineProperty(I.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),I.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},I.prototype.initFooterToolbar=function(){var x=this;this.footerToolbarValue=this.createActionContainer();var P=[],g=new l.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){x.goToPrevPanel()}}),u=new l.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){x.goToNextPanel()}}),M=new l.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),R=new l.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),w=new l.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),F=new l.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});P.push(g,u,M,R,w,F),this.updateFooterActionsCallback=function(){var B=x.legacyNavigation,H=x.isRenderModeList,$=x.isMobile,j=!B&&!H;g.visible=j&&x.currentIndex>0,u.visible=j&&x.currentIndex<x.panelCount-1,u.needSpace=$&&u.visible&&g.visible,M.needSpace=x.isMobile&&!u.visible&&g.visible,w.visible=!x.isRenderModeList&&!$,w.needSpace=!B&&!x.isMobile;var V=B&&!H;R.visible=V,F.visible=V,R.needSpace=V},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(P)},Object.defineProperty(I.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),function(S,I,x,P){var M,g=arguments.length,u=g<3?I:null===P?P=Object.getOwnPropertyDescriptor(I,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(S,I,x,P);else for(var R=S.length-1;R>=0;R--)(M=S[R])&&(u=(g<3?M(u):g>3?M(I,x,u):M(I,x))||u);g>3&&u&&Object.defineProperty(I,x,u)}([Object(O.property)({defaultValue:!1,onSet:function(x,P){P.updateFooterActions()}})],I.prototype,"legacyNavigation",void 0),I}(v.Question);O.Serializer.addClass("paneldynamic",[{name:"templateElements",alternativeName:"questions",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",default:"auto"},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:i.settings.panelMaximumPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom"]},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new o("")},"question"),C.QuestionFactory.Instance.registerQuestion("paneldynamic",function(S){return new o(S)})},"./src/question_radiogroup.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionRadiogroupModel",function(){return i});var f,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question_baseselect.ts"),v=e("./src/itemvalue.ts"),O=e("./src/actions/action.ts"),C=e("./src/base.ts"),E=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),i=function(f){function _(l){return f.call(this,l)||this}return E(_,f),_.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},_.prototype.getType=function(){return"radiogroup"},Object.defineProperty(_.prototype,"ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"titleAriaLabel",{get:function(){return null},enumerable:!1,configurable:!0}),_.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(_.prototype,"selectedItem",{get:function(){var l=this.selectedItemValues;if(this.isEmpty())return null;var m=v.ItemValue.getItemByValue(this.visibleChoices,this.value);return!m&&!l&&this.updateSelectedItemValues(),m||l||new v.ItemValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(l){this.setPropertyValue("showClearButton",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),_.prototype.supportGoNextPageAutomatic=function(){return!0},Object.defineProperty(_.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),_.prototype.getDefaultTitleActions=function(){var l=this,m=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var h=new O.Action({title:this.clearButtonCaption,id:"sv-clr-btn-".concat(this.id),action:function(){l.clearValue()},innerCss:this.cssClasses.clearButton,visible:new C.ComputedUpdater(function(){return l.canShowClearButton})});m.push(h)}return m},_}(T.QuestionCheckboxBase);n.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new i("")},"checkboxbase"),y.QuestionFactory.Instance.registerQuestion("radiogroup",function(f){var _=new i(f);return _.choices=y.QuestionFactory.DefaultChoices,_})},"./src/question_ranking.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionRankingModel",function(){return l});var m,n=e("./src/dragdrop/ranking-choices.ts"),y=e("./src/itemvalue.ts"),T=e("./src/jsonobject.ts"),v=e("./src/questionfactory.ts"),O=e("./src/question_checkbox.ts"),C=e("./src/utils/cssClassBuilder.ts"),E=e("./src/utils/devices.ts"),i=e("./src/helpers.ts"),f=(m=function(h,d){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(c[s]=a[s])})(h,d)},function(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=h}m(h,d),h.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}),_=function(m,h,d,c){var r,a=arguments.length,s=a<3?h:null===c?c=Object.getOwnPropertyDescriptor(h,d):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(m,h,d,c);else for(var o=m.length-1;o>=0;o--)(r=m[o])&&(s=(a<3?r(s):a>3?r(h,d,s):r(h,d))||s);return a>3&&s&&Object.defineProperty(h,d,s),s},l=function(m){function h(d){var c=m.call(this,d)||this;return c.domNode=null,c.onVisibleChoicesChanged=function(){if(m.prototype.onVisibleChoicesChanged.call(c),1===c.visibleChoices.length)return c.value=[],void c.updateRankingChoices();c.isEmpty()||(c.visibleChoices.length>c.value.length&&c.addToValueByVisibleChoices(),c.visibleChoices.length<c.value.length&&c.removeFromValueByVisibleChoices()),c.updateRankingChoices()},c.localeChanged=function(){m.prototype.localeChanged.call(c),c.updateRankingChoices()},c.handlePointerDown=function(a,s,r){c.allowStartDrag&&c.dragDropRankingChoices.startDrag(a,s,c,r)},c.handleKeydown=function(a,s){if(!c.isDesignMode){var r=a.key,o=c.rankingChoices.indexOf(s);"ArrowUp"===r&&o&&(c.handleArrowUp(o,s),a.preventDefault()),"ArrowDown"===r&&o!==c.rankingChoices.length-1&&(c.handleArrowDown(o,s),a.preventDefault())}},c.handleArrowUp=function(a,s){var r=c.rankingChoices;r.splice(a,1),r.splice(a-1,0,s),c.setValue(),setTimeout(function(){c.focusItem(a-1)},1)},c.handleArrowDown=function(a,s){var r=c.rankingChoices;r.splice(a,1),r.splice(a+1,0,s),c.setValue(),setTimeout(function(){c.focusItem(a+1)},1)},c.focusItem=function(a){c.domNode.querySelectorAll("."+c.cssClasses.item)[a].focus()},c.setValue=function(){var a=[];c.rankingChoices.forEach(function(s){a.push(s.value)}),c.value=a},c.setValueFromUI=function(){var a=[];c.domNode.querySelectorAll("."+c.cssClasses.controlLabel).forEach(function(r,o){var S=r.innerText;c.visibleChoices.forEach(function(I){S===I.text&&a.push(I.value)})}),c.value=a},c.syncNumbers=function(){c.domNode&&c.domNode.querySelectorAll("."+c.cssClasses.item+":not(."+c.cssClasses.itemDragMod+") ."+c.cssClasses.itemIndex).forEach(function(r,o){r.innerText=c.getNumberByIndex(o)})},c.setGhostText=function(a){var s=c.domNode.querySelectorAll("."+c.cssClasses.itemIndex);s[s.length-1].innerText=a},c.createNewArray("rankingChoices"),c}return f(h,m),h.prototype.getDefaultItemComponent=function(){return""},h.prototype.getType=function(){return"ranking"},h.prototype.getItemTabIndex=function(d){return this.isDesignMode?void 0:0},Object.defineProperty(h.prototype,"rootClass",{get:function(){return(new C.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,E.IsMobile).append(this.cssClasses.rootDisabled,this.isReadOnly).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.errors.length>0).toString()},enumerable:!1,configurable:!0}),h.prototype.getItemClassCore=function(d,c){var a=this.rankingChoices.indexOf(d),s=this.rankingChoices.indexOf(this.currentDropTarget);return(new C.CssClassBuilder).append(m.prototype.getItemClassCore.call(this,d,c)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===d).append("sv-dragdrop-movedown",a===s+1&&"down"===this.dropTargetNodeMove).append("sv-dragdrop-moveup",a===s-1&&"up"===this.dropTargetNodeMove).toString()},h.prototype.isItemCurrentDropTarget=function(d){return this.dragDropRankingChoices.dropTarget===d},Object.defineProperty(h.prototype,"ghostPositionCssClass",{get:function(){return"top"===this.ghostPosition?this.cssClasses.dragDropGhostPositionTop:"bottom"===this.ghostPosition?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),h.prototype.getNumberByIndex=function(d){return this.isEmpty()?"\u2013":d+1+""},h.prototype.setSurveyImpl=function(d,c){m.prototype.setSurveyImpl.call(this,d,c),this.updateRankingChoices()},h.prototype.isAnswerCorrect=function(){return i.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},h.prototype.onSurveyValueChanged=function(d){m.prototype.onSurveyValueChanged.call(this,d),!this.isLoadingFromJson&&this.updateRankingChoices()},h.prototype.addToValueByVisibleChoices=function(){var d=this.value.slice();this.visibleChoices.forEach(function(c){-1===d.indexOf(c.value)&&d.push(c.value)}),this.value=d},h.prototype.removeFromValueByVisibleChoices=function(){var d=this,c=this.value.slice();this.value.forEach(function(a,s){var r=!0;d.visibleChoices.forEach(function(o){o.value===a&&(r=!1)}),r&&c.splice(s,1)}),this.value=c},Object.defineProperty(h.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),h.prototype.updateRankingChoices=function(d){var c=this;void 0===d&&(d=!1);var a=[];1!==this.visibleChoices.length?(d&&this.setPropertyValue("rankingChoices",[]),this.isEmpty()?this.setPropertyValue("rankingChoices",this.visibleChoices):(this.value.forEach(function(s){c.visibleChoices.forEach(function(r){r.value===s&&a.push(r)})}),this.setPropertyValue("rankingChoices",a))):this.setPropertyValue("rankingChoices",a)},h.prototype.endLoadingFromJson=function(){m.prototype.endLoadingFromJson.call(this),this.dragDropRankingChoices=new n.DragDropRankingChoices(this.survey,null,this.longTap)},Object.defineProperty(h.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),h.prototype.afterRenderQuestionElement=function(d){this.domNode=d,m.prototype.afterRenderQuestionElement.call(this,d)},h.prototype.beforeDestroyQuestionElement=function(d){m.prototype.beforeDestroyQuestionElement.call(this,d)},h.prototype.supportSelectAll=function(){return!1},h.prototype.supportOther=function(){return!1},h.prototype.supportNone=function(){return!1},h.prototype.getChoicesFromQuestion=function(d){var c=m.prototype.getChoicesFromQuestion.call(this,d);return"selected"===this.choicesFromQuestionMode&&d.isOtherSelected&&!!d.comment&&c.push(new y.ItemValue(d.otherItem.value,d.comment)),c},h.prototype.getIconHoverCss=function(){return(new C.CssClassBuilder).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},h.prototype.getIconFocusCss=function(){return(new C.CssClassBuilder).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(h.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(d){this.setPropertyValue("longTap",d)},enumerable:!1,configurable:!0}),_([Object(T.property)({defaultValue:null})],h.prototype,"currentDropTarget",void 0),_([Object(T.property)({defaultValue:null})],h.prototype,"dropTargetNodeMove",void 0),h}(O.QuestionCheckboxModel);T.Serializer.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"maxSelectedChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new l("")},"checkbox"),v.QuestionFactory.Instance.registerQuestion("ranking",function(m){var h=new l(m);return h.choices=v.QuestionFactory.DefaultChoices,h})},"./src/question_rating.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"RenderedRatingItem",function(){return l}),e.d(t,"QuestionRatingModel",function(){return m});var h,n=e("./src/itemvalue.ts"),y=e("./src/question.ts"),T=e("./src/jsonobject.ts"),v=e("./src/questionfactory.ts"),O=e("./src/settings.ts"),C=e("./src/surveyStrings.ts"),E=e("./src/utils/cssClassBuilder.ts"),i=e("./src/base.ts"),f=(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(a[r]=s[r])})(d,c)},function(d,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}h(d,c),d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),_=function(h,d,c,a){var o,s=arguments.length,r=s<3?d:null===a?a=Object.getOwnPropertyDescriptor(d,c):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,d,c,a);else for(var S=h.length-1;S>=0;S--)(o=h[S])&&(r=(s<3?o(r):s>3?o(d,c,r):o(d,c))||r);return s>3&&r&&Object.defineProperty(d,c,r),r},l=function(h){function d(c,a){void 0===a&&(a=null);var s=h.call(this)||this;return s.itemValue=c,s.locString=a,s}return f(d,h),Object.defineProperty(d.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),d}(i.Base),m=function(h){function d(c){var a=h.call(this,c)||this;return a.createItemValues("rateValues"),a.createRenderedRateItems(),a.createLocalizableString("ratingOptionsCaption",a,!1,!0),a.registerFunctionOnPropertiesValueChanged(["rateValues","rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return a.createRenderedRateItems()}),a.createLocalizableString("minRateDescription",a,!0),a.createLocalizableString("maxRateDescription",a,!0),a}return f(d,h),d.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,this.createRenderedRateItems()},Object.defineProperty(d.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(c){this.setPropertyValue("rateValues",c),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(c){this.setPropertyValue("rateMin",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(c){this.setPropertyValue("rateMax",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(c){this.setPropertyValue("rateStep",c)},enumerable:!1,configurable:!0}),d.prototype.getDisplayValueCore=function(c,a){return n.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,a)||a},Object.defineProperty(d.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(c){return c.itemValue})},enumerable:!1,configurable:!0}),d.prototype.itemValuePropertyChanged=function(c,a,s,r){0===this.rateValues.length&&void 0!==r&&this.setPropertyValue("rateValues",this.visibleRateValues),h.prototype.itemValuePropertyChanged.call(this,c,a,s,r)},d.prototype.createRenderedRateItems=function(){var c=this,a=[];if(this.rateValues.length>0)a=this.rateValues;else{for(var s=[],r=this.rateMin,o=this.rateStep;r<=this.rateMax&&s.length<O.settings.ratingMaximumRateValueCount;){var S=new n.ItemValue(r);S.locOwner=this,S.ownerPropertyName="rateValues",s.push(S),r=this.correctValue(r+o,o)}a=s}this.renderedRateItems=a.map(function(I,x){if(c.displayRateDescriptionsAsExtremeItems){if(0==x)return new l(I,c.minRateDescription&&c.locMinRateDescription||I.locText);if(x==a.length-1)return new l(I,c.maxRateDescription&&c.locMaxRateDescription||I.locText)}return new l(I)})},d.prototype.correctValue=function(c,a){if(!c||Math.round(c)==c)return c;for(var s=0;Math.round(a)!=a;)a*=10,s++;return parseFloat(c.toFixed(s))},d.prototype.getType=function(){return"rating"},d.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},d.prototype.getInputId=function(c){return this.inputId+"_"+c},d.prototype.supportGoNextPageAutomatic=function(){return!0},d.prototype.supportComment=function(){return!0},d.prototype.supportOther=function(){return!1},Object.defineProperty(d.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(c){this.setLocalizableStringText("minRateDescription",c),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(c){this.setLocalizableStringText("maxRateDescription",c),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),d.prototype.valueToData=function(c){if(this.rateValues.length>0){var a=n.ItemValue.getItemByValue(this.rateValues,c);return a?a.value:c}return isNaN(c)?c:parseFloat(c)},d.prototype.setValueFromClick=function(c){this.value===parseFloat(c)?this.clearValue():this.value=c},Object.defineProperty(d.prototype,"ratingRootCss",{get:function(){return("buttons"==this.displayMode||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:this.cssClasses.root},enumerable:!1,configurable:!0}),d.prototype.getItemClass=function(c){var r=!(this.isReadOnly||!c.isEnabled||this.value==c.value||this.survey&&this.survey.isDesignMode);return(new E.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.selected,this.value==c.value).append(this.cssClasses.itemDisabled,this.isReadOnly).append(this.cssClasses.itemHover,r).append(this.cssClasses.itemOnError,this.errors.length>0).toString()},d.prototype.getControlClass=function(){return this.isEmpty(),(new E.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(d.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(c){this.setLocalizableStringText("ratingOptionsCaption",c)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedValue",{get:function(){return this.value},set:function(c){this.value=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),d.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var a=this.getPropertyValue("rateStep"),s=this.getPropertyValue("rateMax"),r=this.getPropertyValue("rateMin");return"dropdown"!=this.displayMode&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||a&&(s-r)/a>9)},d.prototype.supportResponsiveness=function(){return!0},d.prototype.getCompactRenderAs=function(){return"buttons"==this.displayMode?"default":"dropdown"},d.prototype.getDesktopRenderAs=function(){return"dropdown"==this.displayMode?"dropdown":"default"},_([Object(T.propertyArray)()],d.prototype,"renderedRateItems",void 0),_([Object(T.property)({defaultValue:!1})],d.prototype,"hasMinRateDescription",void 0),_([Object(T.property)({defaultValue:!1})],d.prototype,"hasMaxRateDescription",void 0),_([Object(T.property)({defaultValue:!1})],d.prototype,"displayRateDescriptionsAsExtremeItems",void 0),_([Object(T.property)({defaultValue:"auto",onSet:function(c,a){a.isDesignMode||(a.renderAs="dropdown"===c?"dropdown":"default")}})],d.prototype,"displayMode",void 0),d}(y.Question);T.Serializer.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(h){return h.hasComment},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(h){return h.hasComment}},{name:"rateValues:itemvalue[]",baseValue:function(){return C.surveyLocalization.getString("choices_Item")}},{name:"rateMin:number",default:1,onSettingValue:function(h,d){return d>h.rateMax-h.rateStep?h.rateMax-h.rateStep:d}},{name:"rateMax:number",default:5,onSettingValue:function(h,d){return d<h.rateMin+h.rateStep?h.rateMin+h.rateStep:d}},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(h,d){return d<=0&&(d=1),d>h.rateMax-h.rateMin&&(d=h.rateMax-h.rateMin),d}},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription"},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription"},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"]}],function(){return new m("")},"question"),v.QuestionFactory.Instance.registerQuestion("rating",function(h){return new m(h)})},"./src/question_signaturepad.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionSignaturePadModel",function(){return l});var m,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/question.ts"),v=e("./node_modules/signature_pad/dist/signature_pad.mjs"),O=e("./src/utils/cssClassBuilder.ts"),C=(m=function(h,d){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(c[s]=a[s])})(h,d)},function(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=h}m(h,d),h.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}),E=function(m,h,d,c){var r,a=arguments.length,s=a<3?h:null===c?c=Object.getOwnPropertyDescriptor(h,d):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(m,h,d,c);else for(var o=m.length-1;o>=0;o--)(r=m[o])&&(s=(a<3?r(s):a>3?r(h,d,s):r(h,d))||s);return a>3&&s&&Object.defineProperty(h,d,s),s};var l=function(m){function h(d){return m.call(this,d)||this}return C(h,m),h.prototype.getCssRoot=function(d){return(new O.CssClassBuilder).append(m.prototype.getCssRoot.call(this,d)).append(d.small,"300"===this.signatureWidth.toString()).toString()},h.prototype.updateValue=function(){if(this.signaturePad){var d=this.signaturePad.toDataURL(this.dataFormat);this.value=d}},h.prototype.getType=function(){return"signaturepad"},h.prototype.afterRenderQuestionElement=function(d){d&&this.initSignaturePad(d),m.prototype.afterRenderQuestionElement.call(this,d)},h.prototype.beforeDestroyQuestionElement=function(d){d&&this.destroySignaturePad(d)},h.prototype.initSignaturePad=function(d){var c=this,a=d.getElementsByTagName("canvas")[0],s=new v.default(a,{backgroundColor:"#ffffff"});this.isInputReadOnly&&s.off(),this.readOnlyChangedCallback=function(){c.isInputReadOnly?s.off():s.on()},s.penColor=this.penColor,s.backgroundColor=this.backgroundColor,s.onBegin=function(){c.isDrawingValue=!0,a.focus()},s.onEnd=function(){c.isDrawingValue=!1,c.updateValue()};var r=function(){var S=c.value;a.width=c.signatureWidth||300,a.height=c.signatureHeight||200,function _(m){var h=m.getContext("2d"),a=(window.devicePixelRatio||1)/(h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1),s=m.width,r=m.height;m.width=s*a,m.height=r*a,m.style.width=s+"px",m.style.height=r+"px",h.scale(a,a)}(a),S?s.fromDataURL(S):s.clear()};r(),this.readOnlyChangedCallback(),this.signaturePad=s;var o=function(S,I){("signatureWidth"===I.name||"signatureHeight"===I.name||"value"===I.name)&&r()};this.onPropertyChanged.add(o),this.signaturePad.propertyChangedHandler=o},h.prototype.destroySignaturePad=function(d){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(h.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(d){this.setPropertyValue("signatureWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(d){this.setPropertyValue("signatureHeight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(d){this.setPropertyValue("height",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(d){this.setPropertyValue("allowClear",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"canShowClearButton",{get:function(){return!this.isInputReadOnly&&this.allowClear},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(d){this.setPropertyValue("penColor",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(d){this.setPropertyValue("backgroundColor",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),h.prototype.needShowPlaceholder=function(){return!this.isDrawingValue&&this.isEmpty()},Object.defineProperty(h.prototype,"placeHolderText",{get:function(){return this.getLocalizationString("signaturePlaceHolder")},enumerable:!1,configurable:!0}),h.prototype.endLoadingFromJson=function(){m.prototype.endLoadingFromJson.call(this),300===this.signatureWidth&&!!this.width&&"number"==typeof this.width&&this.width&&(console.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),200===this.signatureHeight&&this.height&&(console.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},E([Object(n.property)({defaultValue:!1})],h.prototype,"isDrawingValue",void 0),E([Object(n.property)({defaultValue:""})],h.prototype,"dataFormat",void 0),h}(T.Question);n.Serializer.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"penColor:color",category:"general",default:"#1ab394"},{name:"backgroundColor:color",category:"general",default:"#ffffff"},{name:"dataFormat",category:"general",default:"",choices:[{value:"",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}]},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1}],function(){return new l("")},"question"),y.QuestionFactory.Instance.registerQuestion("signaturepad",function(m){return new l(m)})},"./src/question_tagbox.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionTagboxModel",function(){return i});var f,n=e("./src/jsonobject.ts"),y=e("./src/questionfactory.ts"),T=e("./src/utils/cssClassBuilder.ts"),v=e("./src/question_checkbox.ts"),O=e("./src/dropdownMultiSelectListModel.ts"),C=(f=function(_,l){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])})(_,l)},function(_,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=_}f(_,l),_.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),E=function(f,_,l,m){var c,h=arguments.length,d=h<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,l):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(f,_,l,m);else for(var a=f.length-1;a>=0;a--)(c=f[a])&&(d=(h<3?c(d):h>3?c(_,l,d):c(_,l))||d);return h>3&&d&&Object.defineProperty(_,l,d),d},i=function(f){function _(l){var m=f.call(this,l)||this;return m.onOpened=m.addEvent(),m.createLocalizableString("placeholder",m,!1,!0),m.createLocalizableString("clearCaption",m,!1,!0),m}return C(_,f),_.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(_.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),_.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.dropdownListModel||(this.dropdownListModel=new O.DropdownMultiSelectListModel(this))},Object.defineProperty(_.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(l){this.setLocalizableStringText("placeholder",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(l){this.setLocalizableStringText("clearCaption",l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),_.prototype.getType=function(){return"tagbox"},Object.defineProperty(_.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"popupModel",{get:function(){var l;return null===(l=this.dropdownListModel)||void 0===l?void 0:l.popupModel},enumerable:!1,configurable:!0}),_.prototype.getControlClass=function(){return(new T.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},_.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},_.prototype.onVisibleChoicesChanged=function(){f.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},_.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},_.prototype.getInputId=function(){return this.inputId+"_0"},E([Object(n.property)({defaultValue:!0})],_.prototype,"allowClear",void 0),E([Object(n.property)({defaultValue:!0,onSet:function(l,m){m.dropdownListModel&&m.dropdownListModel.setSearchEnabled(l)}})],_.prototype,"searchEnabled",void 0),E([Object(n.property)({defaultValue:!1,onSet:function(l,m){m.dropdownListModel&&m.dropdownListModel.setHideSelectedItems(l)}})],_.prototype,"hideSelectedItems",void 0),E([Object(n.property)({defaultValue:!1})],_.prototype,"choicesLazyLoadEnabled",void 0),E([Object(n.property)({defaultValue:25})],_.prototype,"choicesLazyLoadPageSize",void 0),_}(v.QuestionCheckboxModel);n.Serializer.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean",default:!0,visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new i("")},"checkbox"),y.QuestionFactory.Instance.registerQuestion("tagbox",function(f){var _=new i(f);return _.choices=y.QuestionFactory.DefaultChoices,_})},"./src/question_text.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionTextModel",function(){return _});var a,n=e("./src/questionfactory.ts"),y=e("./src/jsonobject.ts"),T=e("./src/localizablestring.ts"),v=e("./src/helpers.ts"),O=e("./src/validator.ts"),C=e("./src/error.ts"),E=e("./src/settings.ts"),i=e("./src/question_textbase.ts"),f=(a=function(s,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,S){o.__proto__=S}||function(o,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(o[I]=S[I])})(s,r)},function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=s}a(s,r),s.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),_=function(a){function s(r){var o=a.call(this,r)||this;return o._isWaitingForEnter=!1,o.onCompositionUpdate=function(S){o.isInputTextUpdate&&(S.persist(),setTimeout(function(){o.updateValueOnEvent(S)},1))},o.onKeyUp=function(S){o.isInputTextUpdate?(!o._isWaitingForEnter||13===S.keyCode)&&(o.updateValueOnEvent(S),o._isWaitingForEnter=!1):13===S.keyCode&&o.updateValueOnEvent(S)},o.onKeyDown=function(S){o.isInputTextUpdate&&(o._isWaitingForEnter=229===S.keyCode)},o.onChange=function(S){S.target===document.activeElement?o.isInputTextUpdate&&o.updateValueOnEvent(S):o.updateValueOnEvent(S)},o.onBlur=function(S){o.updateValueOnEvent(S)},o.createLocalizableString("minErrorText",o,!0,"minError"),o.createLocalizableString("maxErrorText",o,!0,"maxError"),o.locDataListValue=new T.LocalizableStrings(o),o.locDataListValue.onValueChanged=function(S,I){o.propertyValueChanged("dataList",S,I)},o.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){o.setRenderedMinMax()}),o.registerPropertyChangedHandlers(["inputType","size"],function(){o.updateInputSize(),o.calcRenderedPlaceholder()}),o}return f(s,a),s.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},s.prototype.getType=function(){return"text"},s.prototype.onSurveyLoad=function(){a.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(s.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(r){"datetime_local"==(r=r.toLowerCase())&&(r="datetime-local"),this.setPropertyValue("inputType",r.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),s.prototype.runCondition=function(r,o){a.prototype.runCondition.call(this,r,o),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(r,o)},s.prototype.getValidators=function(){var r=a.prototype.getValidators.call(this);return"email"===this.inputType&&!this.validators.some(function(o){return"emailvalidator"===o.getType()})&&r.push(new O.EmailValidator),r},s.prototype.isLayoutTypeSupported=function(r){return!0},Object.defineProperty(s.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(r){this.setPropertyValue("size",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),s.prototype.updateInputSize=function(){var r=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&r<1&&this.parent&&!!this.parent.itemSize&&(r=this.parent.itemSize),this.setPropertyValue("inputSize",r),this.setPropertyValue("inputWidth",r>0?"auto":"")},Object.defineProperty(s.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(r){this.setPropertyValue("autocomplete",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(r){this.isValueExpression(r)?this.minValueExpression=r.substring(1):this.setPropertyValue("min",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(r){this.isValueExpression(r)?this.maxValueExpression=r.substring(1):this.setPropertyValue("max",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(r){this.setPropertyValue("minValueExpression",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(r){this.setPropertyValue("maxValueExpression",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(r){this.setLocalizableStringText("minErrorText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(r){this.setLocalizableStringText("maxErrorText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isMinMaxType",{get:function(){return m(this)},enumerable:!1,configurable:!0}),s.prototype.onCheckForErrors=function(r,o){var S=this;if(a.prototype.onCheckForErrors.call(this,r,o),!o){if(this.isValueLessMin){var I=new C.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);I.onUpdateErrorTextCallback=function(P){P.text=S.getMinMaxErrorText(S.minErrorText,S.getCalculatedMinMax(S.renderedMin))},r.push(I)}if(this.isValueGreaterMax){var x=new C.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);x.onUpdateErrorTextCallback=function(P){P.text=S.getMinMaxErrorText(S.maxErrorText,S.getCalculatedMinMax(S.renderedMax))},r.push(x)}}},s.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var r=!this.isValueLessMin&&!this.isValueGreaterMax;return"number"===this.inputType&&!!this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),r},s.prototype.getMinMaxErrorText=function(r,o){if(v.Helpers.isValueEmpty(o))return r;var S=o.toString();return"date"===this.inputType&&!!o.toDateString&&(S=o.toDateString()),r.replace("{0}",S)},Object.defineProperty(s.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isDateInputType",{get:function(){return"date"===this.inputType||"datetime-local"===this.inputType},enumerable:!1,configurable:!0}),s.prototype.getCalculatedMinMax=function(r){return this.isValueEmpty(r)?r:this.isDateInputType?new Date(r):r},s.prototype.setRenderedMinMax=function(r,o){var S=this;void 0===r&&(r=null),void 0===o&&(o=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(I){!I&&S.isDateInputType&&!!E.settings.minDate&&(I=E.settings.minDate),S.setPropertyValue("renderedMin",I)},r,o),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(I){!I&&S.isDateInputType&&(I=E.settings.maxDate?E.settings.maxDate:"2999-12-31"),S.setPropertyValue("renderedMax",I)},r,o)},Object.defineProperty(s.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(r){this.setPropertyValue("step",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?"number"!==this.inputType?void 0:"any":this.step},enumerable:!1,configurable:!0}),s.prototype.supportGoNextPageAutomatic=function(){return["date","datetime","datetime-local"].indexOf(this.inputType)<0},s.prototype.supportGoNextPageError=function(){return["date","datetime","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(s.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(r){this.locDataList.value=r},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),s.prototype.canRunValidators=function(r){return this.errors.length>0||!r||this.supportGoNextPageError()},s.prototype.setNewValue=function(r){r=this.correctValueType(r),a.prototype.setNewValue.call(this,r)},s.prototype.correctValueType=function(r){return r&&("number"==this.inputType||"range"==this.inputType?v.Helpers.isNumber(r)?parseFloat(r):"":r)},s.prototype.hasPlaceHolder=function(){return!this.isReadOnly&&"range"!==this.inputType},s.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===E.settings.readOnlyTextRenderMode},Object.defineProperty(s.prototype,"inputStyle",{get:function(){var r={};return this.inputWidth&&(r.width=this.inputWidth),r},enumerable:!1,configurable:!0}),s.prototype.updateValueOnEvent=function(r){var o=r.target.value;v.Helpers.isTwoValueEquals(this.value,o)||(this.value=o)},s}(i.QuestionTextBase),l=["number","date","datetime","datetime-local","month","time","week"];function m(a){var s=a?a.inputType:"";return!!s&&l.indexOf(s)>-1}function h(a,s){var r=a.split(s);return 2===r.length&&v.Helpers.isNumber(r[0])&&v.Helpers.isNumber(r[1])?60*parseFloat(r[0])+parseFloat(r[1]):-1}function c(a,s,r,o){var S=o?r:s;if(!m(a)||v.Helpers.isValueEmpty(s)||v.Helpers.isValueEmpty(r))return S;if(0===a.inputType.indexOf("date")||"month"===a.inputType){var I="month"===a.inputType,x=new Date(I?s+"-1":s),P=new Date(I?r+"-1":r);if(!x||!P)return S;if(x>P)return o?s:r}if("week"===a.inputType||"time"===a.inputType)return function d(a,s,r){var o=h(a,r),S=h(s,r);return!(o<0||S<0)&&o>S}(s,r,"week"===a.inputType?"-W":":")?o?s:r:S;if("number"===a.inputType){if(!v.Helpers.isNumber(s)||!v.Helpers.isNumber(r))return S;if(parseFloat(s)>parseFloat(r))return o?s:r}return"string"==typeof s||"string"==typeof r?S:s>r?o?s:r:S}y.Serializer.addClass("text",[{name:"inputType",default:"text",choices:E.settings.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"autocomplete",alternativeName:"autoComplete",choices:E.settings.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(a){return m(a)},onPropertyEditorUpdate:function(a,s){a&&a.inputType&&(s.inputType=a.inputType)},onSettingValue:function(a,s){return c(a,s,a.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(a){return m(a)},onSettingValue:function(a,s){return c(a,a.min,s,!0)},onPropertyEditorUpdate:function(a,s){a&&a.inputType&&(s.inputType=a.inputType)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(a){return m(a)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(a){return m(a)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(a){return m(a)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(a){return m(a)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(a){return!!a&&"number"===a.inputType}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(a){return!!a&&"text"===a.inputType}}],function(){return new _("")},"textbase"),n.QuestionFactory.Instance.registerQuestion("text",function(a){return new _(a)})},"./src/question_textbase.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionTextBase",function(){return E});var i,n=e("./src/question.ts"),y=e("./src/jsonobject.ts"),T=e("./src/helpers.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),E=function(i){function f(_){return i.call(this,_)||this}return O(f,i),f.prototype.isTextValue=function(){return!0},Object.defineProperty(f.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(_){this.setPropertyValue("maxLength",_)},enumerable:!1,configurable:!0}),f.prototype.getMaxLength=function(){return T.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},Object.defineProperty(f.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(_){this.placeholder=_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"textbase"},f.prototype.isEmpty=function(){return i.prototype.isEmpty.call(this)||""===this.value},Object.defineProperty(f.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(_){this.setPropertyValue("textUpdateMode",_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isSurveyInputTextUpdate",{get:function(){return"default"==this.textUpdateMode?!!this.survey&&this.survey.isUpdateValueTextOnTyping:"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),f.prototype.setRenderedPlaceholder=function(_){this.setPropertyValue("renderedPlaceholder",_)},f.prototype.onReadOnlyChanged=function(){i.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},f.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),i.prototype.onSurveyLoad.call(this)},f.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},f.prototype.calcRenderedPlaceholder=function(){var _=this.placeHolder;!!_&&!this.hasPlaceHolder()&&(_=void 0),this.setRenderedPlaceholder(_)},f.prototype.hasPlaceHolder=function(){return!this.isReadOnly},f.prototype.getControlClass=function(){return(new v.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(f.prototype,"ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),function(i,f,_,l){var d,m=arguments.length,h=m<3?f:null===l?l=Object.getOwnPropertyDescriptor(f,_):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(i,f,_,l);else for(var c=i.length-1;c>=0;c--)(d=i[c])&&(h=(m<3?d(h):m>3?d(f,_,h):d(f,_))||h);m>3&&h&&Object.defineProperty(f,_,h)}([Object(y.property)({localizable:!0,onSet:function(_,l){return l.calcRenderedPlaceholder()}})],f.prototype,"placeholder",void 0),f}(n.Question);y.Serializer.addClass("textbase",[],function(){return new E("")},"question")},"./src/questionfactory.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionFactory",function(){return T}),e.d(t,"ElementFactory",function(){return v});var n=e("./src/surveyStrings.ts"),y=e("./src/jsonobject.ts"),T=function(){function O(){this.creatorHash={}}return Object.defineProperty(O,"DefaultChoices",{get:function(){return[n.surveyLocalization.getString("choices_Item")+"1",n.surveyLocalization.getString("choices_Item")+"2",n.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(O,"DefaultColums",{get:function(){var C=n.surveyLocalization.getString("matrix_column")+" ";return[C+"1",C+"2",C+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(O,"DefaultRows",{get:function(){var C=n.surveyLocalization.getString("matrix_row")+" ";return[C+"1",C+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(O,"DefaultMutlipleTextItems",{get:function(){var C=n.surveyLocalization.getString("multipletext_itemname");return[C+"1",C+"2"]},enumerable:!1,configurable:!0}),O.prototype.registerQuestion=function(C,E){this.creatorHash[C]=E},O.prototype.unregisterElement=function(C){delete this.creatorHash[C]},O.prototype.clear=function(){this.creatorHash={}},O.prototype.getAllTypes=function(){var C=new Array;for(var E in this.creatorHash)C.push(E);return C.sort()},O.prototype.createQuestion=function(C,E){var i=this.creatorHash[C];return null==i?null:i(E)},O.Instance=new O,O}(),v=function(){function O(){this.creatorHash={}}return O.prototype.registerElement=function(C,E){this.creatorHash[C]=E},O.prototype.clear=function(){this.creatorHash={}},O.prototype.unregisterElement=function(C,E){void 0===E&&(E=!1),delete this.creatorHash[C],T.Instance.unregisterElement(C),E&&y.Serializer.removeClass(C)},O.prototype.getAllTypes=function(){var C=T.Instance.getAllTypes();for(var E in this.creatorHash)C.push(E);return C.sort()},O.prototype.createElement=function(C,E){var i=this.creatorHash[C];return null==i?T.Instance.createQuestion(C,E):i(E)},O.Instance=new O,O}()},"./src/questionnonvalue.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"QuestionNonValue",function(){return v});var O,n=e("./src/question.ts"),y=e("./src/jsonobject.ts"),T=(O=function(C,E){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(i[_]=f[_])})(C,E)},function(C,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function i(){this.constructor=C}O(C,E),C.prototype=null===E?Object.create(E):(i.prototype=E.prototype,new i)}),v=function(O){function C(E){return O.call(this,E)||this}return T(C,O),C.prototype.getType=function(){return"nonvalue"},Object.defineProperty(C.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),C.prototype.getTitleLocation=function(){return""},Object.defineProperty(C.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),C.prototype.hasErrors=function(E,i){return void 0===E&&(E=!0),void 0===i&&(i=null),!1},C.prototype.getAllErrors=function(){return[]},C.prototype.supportGoNextPageAutomatic=function(){return!1},C.prototype.addConditionObjectsByContext=function(E,i){},C.prototype.getConditionJson=function(E,i){return void 0===E&&(E=null),void 0===i&&(i=null),null},C}(n.Question);y.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new v("")},"question")},"./src/rendererFactory.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"RendererFactory",function(){return n});var n=function(){function y(){this.renderersHash={}}return y.prototype.unregisterRenderer=function(T,v){delete this.renderersHash[T][v]},y.prototype.registerRenderer=function(T,v,O){this.renderersHash[T]||(this.renderersHash[T]={}),this.renderersHash[T][v]=O},y.prototype.getRenderer=function(T,v){return this.renderersHash[T]&&this.renderersHash[T][v]||"default"},y.prototype.getRendererByQuestion=function(T){return this.getRenderer(T.getType(),T.renderAs)},y.prototype.clear=function(){this.renderersHash={}},y.Instance=new y,y}()},"./src/settings.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"settings",function(){return n});var n={comparator:{trimStrings:!0,caseSensitive:!1},expressionDisableConversionChar:"#",useLocalTimeZone:!0,commentPrefix:"-Comment",webserviceEncodeParameters:!0,useCachingForChoicesRestful:!0,get useCachingForChoicesRestfull(){return n.useCachingForChoicesRestful},set useCachingForChoicesRestfull(y){n.useCachingForChoicesRestful=y},surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey",itemValueSeparator:"|",itemValueAlwaysSerializeAsObject:!1,itemValueAlwaysSerializeText:!1,defaultLocaleName:"default",storeDuplicatedTranslations:!1,matrixDefaultRowName:"default",matrixDefaultCellType:"dropdown",matrixTotalValuePostFix:"-total",matrixMaximumRowCount:1e3,matrixMaxRowCountInCondition:1,matrixRenderRemoveAsIcon:!0,panelMaximumPanelCount:100,ratingMaximumRateValueCount:20,disableOnGettingChoicesFromWeb:!1,serializeLocalizableStringAsObject:!1,allowShowEmptyTitleInDesignMode:!0,allowShowEmptyDescriptionInDesignMode:!0,executeCompleteTriggerOnValueChanged:!1,changeNavigationButtonsOnCompleteTrigger:!0,executeSkipTriggerOnValueChanged:!0,readOnlyCommentRenderMode:"textarea",readOnlyTextRenderMode:"input",confirmActionFunc:function(y){return confirm(y)},minWidth:"300px",maxWidth:"100%",maximumConditionRunCountOnValueChanged:10,setQuestionVisibleIndexForHiddenTitle:!1,setQuestionVisibleIndexForHiddenNumber:!1,lazyRowsRendering:!1,lazyRowsRenderingStartRow:3,showItemsInOrder:"default",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]}}},"./src/stylesmanager.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"StylesManager",function(){return y});var n=e("./src/defaultCss/cssstandard.ts"),y=function(){function T(){this.sheet=null,T.Enabled&&(this.sheet=T.findSheet(T.SurveyJSStylesSheetId),this.sheet||(this.sheet=T.createSheet(T.SurveyJSStylesSheetId),this.initializeStyles(this.sheet)))}return T.findSheet=function(v){if(typeof document>"u")return null;for(var O=0;O<document.styleSheets.length;O++)if(document.styleSheets[O].ownerNode&&document.styleSheets[O].ownerNode.id===v)return document.styleSheets[O];return null},T.createSheet=function(v){var O=document.createElement("style");return O.id=v,O.appendChild(document.createTextNode("")),document.head.appendChild(O),O.sheet},T.applyTheme=function(v,O){var C;if(void 0===v&&(v="default"),void 0===O&&(O=".sv_main"),"modern"===v&&(O=".sv-root-modern "),"defaultV2"!==v){if(-1!==["bootstrap","bootstrapmaterial","modern"].indexOf(v)?(C=T[v+"ThemeCss"],n.surveyCss.currentType=v):(C=T.ThemeCss,n.surveyCss.currentType="standard"),T.Enabled){var E=(v+O).trim(),i=T.findSheet(E);if(!i){i=T.createSheet(E);var f=T.ThemeColors[v]||T.ThemeColors.default;Object.keys(C).forEach(function(_){var l=C[_];Object.keys(f).forEach(function(m){return l=l.replace(new RegExp("\\"+m,"g"),f[m])});try{0===_.indexOf("body")?i.insertRule(_+" { "+l+" }",0):i.insertRule(O+_+" { "+l+" }",0)}catch{}})}}}else n.surveyCss.currentType=v},T.prototype.initializeStyles=function(v){T.Enabled&&(Object.keys(T.Styles).forEach(function(O){try{v.insertRule(O+" { "+T.Styles[O]+" }",0)}catch{}}),Object.keys(T.Media).forEach(function(O){try{v.insertRule(T.Media[O].media+" { "+O+" { "+T.Media[O].style+" } }",0)}catch{}}))},T.SurveyJSStylesSheetId="surveyjs-styles",T.Styles={".sv_main span":"word-break: break-word;",".sv_main legend":"border: none; margin: 0;",".sv_bootstrap_css .sv_qstn":"padding: 0.5em 1em 1.5em 1em;",".sv_bootstrap_css .sv_qcbc input[type=checkbox], .sv_bootstrap_css .sv_qcbc input[type=radio]":"vertical-align: middle; margin-top: -1px",".sv_bootstrap_css .sv_qstn fieldset":"display: block;",".sv_bootstrap_css .sv_qstn  .sv_q_checkbox_inline, .sv_bootstrap_css .sv_qstn .sv_q_radiogroup_inline":"display: inline-block;",".sv_bootstrap_css .sv-paneldynamic__progress-container ":"position: relative; margin-right: 250px; margin-left: 40px; margin-top: 10px;",".sv_main.sv_bootstrapmaterial_css .sv_q_radiogroup_control_label":"display: inline; position: static;",".sv_main.sv_bootstrapmaterial_css .checkbox":"margin-top:10px;margin-bottom:10px;",".sv_row":"clear: both; min-width:300px;",".sv_row .sv_qstn":"float: left",".sv_row .sv_qstn:last-child":"float: none",".sv_qstn":"display: vertical-align: top; overflow: auto; min-width:300px;",".sv_p_container":"display: vertical-align: top; min-width:300px;",".sv_q_title .sv_question_icon":"float: right; margin-right: 1em;",".sv_q_title .sv_question_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; padding: 0.5em; display: inline-block; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMCAxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM2RDcwNzI7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMiwyIDAsNCA1LDkgMTAsNCA4LDIgNSw1ICIvPg0KPC9zdmc+DQo=);",".sv_q_title .sv_question_icon.sv_expanded::before":"transform: rotate(180deg);",".sv_qbln .checkbox-material":"margin-right: 3px;",".sv_qcbx .checkbox-material":"margin-right: 5px;",".sv_qcbx .checkbox label":"justify-content: left; display: inline-block;",".sv_qstn .radio label":"justify-content: left; display: inline-block;",".sv_qstn .sv_q_imgsel > label img":"pointer-events: none;",".sv_qstn .sv_q_imgsel.sv_q_imagepicker_inline":"display: inline-block;",".sv_qstn label.sv_q_m_label":"position: absolute; margin: 0; display: block; width: 100%;",".sv_qstn td":"position: relative;",".sv_q_mt":"table-layout: fixed;",".sv_q_mt_label":"display: flex; align-items: center; font-weight: inherit;",".sv_q_mt_title":"margin-right: 0.5em; width: 33%;",".sv_q_mt_item":"flex: 1;",".sv_q_mt_item_value":"float: left;",'[dir="rtl"] .sv_q_mt_item_value':"float: right;",".sv_qstn.sv_qstn_left":"margin-top: 0.75em;",".sv_qstn .title-left":"float: left; margin-right: 1em; max-width: 50%",'[dir="rtl"] .sv_qstn .title-left':"float: right; margin-left: 1em;",".sv_qstn .content-left":"overflow: hidden",".sv_q_radiogroup_inline .sv_q_radiogroup_other":"display: inline-block;",".sv_q_checkbox_inline .sv_q_checkbox_other":"display: inline-block;",".sv_q_checkbox_inline, .sv_q_radiogroup_inline, .sv_q_imagepicker_inline":"line-height: 2.5em;",".form-inline .sv_q_checkbox_inline:not(:last-child)":"margin-right: 1em;",".form-inline .sv_q_radiogroup_inline:not(:last-child)":"margin-right: 1em;",".sv_imgsel .sv_q_imagepicker_inline:not(:last-child)":"margin-right: 1em;",".sv_qstn fieldset":"border: none; margin: 0; padding: 0;",".sv_qstn .sv_q_file_placeholder":"display:none",".sv_p_title":"padding-left: 1em; padding-bottom: 0.3em;",".sv_p_title_expandable, .sv_q_title_expandable":"cursor: pointer; position: relative; display: flex; align-items: center; padding-right: 24px;",".sv_p_title_expandable::after, .sv_q_title_expandable::after":"content: \"\"; display: block;background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 10 10' style='enable-background:new 0 0 10 10;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='2,2 0,4 5,9 10,4 8,2 5,5 '/%3E%3C/svg%3E%0A\"); background-repeat: no-repeat; background-position: center center; background-size: 10px 12px; width: 24px; height: 24px; position: absolute; right: 0;",".sv_p_title_expanded::after, .sv_q_title_expanded::after":"transform: rotate(180deg);",".sv_p_title .sv_panel_icon":"float: right; margin-right: 1em;",".sv_p_title .sv_panel_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; padding: 0.5em; display: inline-block; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMCAxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM2RDcwNzI7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMiwyIDAsNCA1LDkgMTAsNCA4LDIgNSw1ICIvPg0KPC9zdmc+DQo=);",".sv_p_title .sv_panel_icon.sv_expanded::before":"transform: rotate(180deg);",".sv_p_footer":"padding-left: 1em; padding-bottom: 1em;padding-top: 1em;",".sv_matrix_cell_detail_button":"position: relative",".sv_detail_panel_icon":"display: block; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 14px; height: 14px;",".sv_detail_panel_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; width: 14px; height: 14px; display: block; transform: rotate(270deg); background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 15 15' style='enable-background:new 0 0 15 15;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='14,5.5 12.6,4.1 7.5,9.1 2.4,4.1 1,5.5 7.5,12 '/%3E%3C/svg%3E%0A\");",".sv_detail_panel_icon.sv_detail_expanded::before":"transform: rotate(0deg)",".sv_matrix_empty_rows_section":"text-align: center; vertical-align: middle;",".sv_matrix_empty_rows_text":"padding:20px",".sv_q_file > input[type=file], .sv_q_file > button":"display: inline-block;",".sv_q_file_preview":"display: inline-block; vertical-align: top; border: 1px solid lightgray; padding: 5px; margin-top: 10px;",".sv_q_file_preview > a":"display: block; overflow: hidden; vertical-align: top; white-space: nowrap; text-overflow: ellipsis;",".sv_q_file_remove_button":"line-height: normal;",".sv_q_file_remove":"display: block; cursor: pointer;",".sv_q_m_cell_text":"cursor: pointer;",".sv_q_dd_other":"margin-top: 1em;",".sv_q_dd_other input":"width: 100%;",".sv_q_dd_clean-button":"margin: 0.15em 3em;",".sv_q_dd_clean-button-svg":"width: 1em; height: 1em;",".sv_q_dd_control":"display: flex; justify-content: space-between; appearance: none;",".sv_q_dd_value":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; position: relative;",".sv_q_dd_root":"position: relative;",".sv_q_dd_select_wrapper::after":"content: \"\"; display: block;background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 10 10' style='enable-background:new 0 0 10 10;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='2,2 0,4 5,9 10,4 8,2 5,5 '/%3E%3C/svg%3E%0A\"); background-repeat: no-repeat; background-position: center center; background-size: 10px 12px; width: 34px; height: 100%; position: absolute; inset-inline-end: 0; top: 0;",".sv_q_dd_filter-string-input":"outline: none; border: none; background-color: transparent; position: absolute; inset-inline-start: 0;",".sv_q_dropdown_clean-button":"margin: auto 2em;",".sv_q_tagbox__placeholder":"position: absolute; top: 0; inset-inline-start: 1em; max-width: 100%; width: auto; height: 100%; text-align: start; cursor: text; pointer-events: none;",".sv_qstn .sv-q-col-1, .sv-question .sv-q-col-1":"width: 100%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-2, .sv-question .sv-q-col-2":"width: calc(50% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-3, .sv-question .sv-q-col-3":"width: calc(33.33333% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-4, .sv-question .sv-q-col-4":"width: calc(25% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-5, .sv-question .sv-q-col-5":"width: calc(20% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-1, .sv-question .sv-q-column-1":"width: 100%; max-width: 100%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-2, .sv-question .sv-q-column-2":"max-width: 50%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-3, .sv-question .sv-q-column-3":"max-width: 33.33333%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-4, .sv-question .sv-q-column-4":"max-width: 25%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-5, .sv-question .sv-q-column-5":"max-width: 20%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv_q_file_input":"color: transparent;",".sv_qstn .sv_q_imgsel label > div":"overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding: 4px; border: 1px solid lightgray; border-radius: 4px;",".sv_qstn .sv_q_imgsel label > div > img, .sv_qstn .sv_q_imgsel label > div > embed":"display: block;",".sv_qstn table tr td .sv_q_m_cell_label":"position: absolute; left: 0; right: 0; top: 0; bottom: 0;","f-panel":"padding: 0.5em 1em; display: inline-block; line-height: 2em;",".sv_progress_bar > span":"white-space: nowrap;",".sv_progress-buttons__container-center":"text-align: center;",".sv_progress-buttons__container":"display: inline-block; font-size: 0; width: 100%; max-width: 1100px; white-space: nowrap; overflow: hidden;",".sv_progress-buttons__image-button-left":"display: inline-block; vertical-align: top; margin-top: 22px; font-size: 14px; width: 16px; height: 16px; cursor: pointer; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIHBvaW50cz0iMTEsMTIgOSwxNCAzLDggOSwyIDExLDQgNyw4ICIvPg0KPC9zdmc+DQo=);",".sv_progress-buttons__image-button-right":"display: inline-block; vertical-align: top; margin-top: 22px; font-size: 14px; width: 16px; height: 16px; cursor: pointer; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIHBvaW50cz0iNSw0IDcsMiAxMyw4IDcsMTQgNSwxMiA5LDggIi8+DQo8L3N2Zz4NCg==);",".sv_progress-buttons__image-button--hidden":"visibility: hidden;",".sv_progress-buttons__list-container":"max-width: calc(100% - 36px); display: inline-block; overflow: hidden;",".sv_progress-buttons__list":"display: inline-block; width: max-content; padding-left: 28px; padding-right: 28px; margin-top: 14px; margin-bottom: 14px;",".sv_progress-buttons__list li":"width: 138px; font-size: 14px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; position: relative; text-align: center; vertical-align: top; display: inline-block;",".sv_progress-buttons__list li:before":"width: 24px; height: 24px; content: ''; line-height: 30px; display: block; margin: 0 auto 10px auto; border: 3px solid; border-radius: 50%; box-sizing: content-box; cursor: pointer;",".sv_progress-buttons__list li:after":"width: 73%; height: 3px; content: ''; position: absolute; top: 15px; left: -36.5%;",".sv_progress-buttons__list li:first-child:after":"content: none;",".sv_progress-buttons__list .sv_progress-buttons__page-title":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: bold;",".sv_progress-buttons__list .sv_progress-buttons__page-description":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--nonclickable:before":"cursor: not-allowed;",".sv-ranking":"outline: none; user-select: none;",".sv-ranking-item":"cursor: pointer; position: relative;",".sv-ranking-item:focus .sv-ranking-item__icon--hover":"visibility: hidden;",".sv-ranking-item:hover .sv-ranking-item__icon--hover":"visibility: visible;",".sv-question--disabled .sv-ranking-item:hover .sv-ranking-item__icon--hover":"visibility: hidden;",".sv-ranking-item:focus":"outline: none;",".sv-ranking-item:focus .sv-ranking-item__icon--focus":"visibility: visible; top: 15px;",".sv-ranking-item:focus .sv-ranking-item__index":"background: white; border: 2px solid var(--primary, #19b394);",".sv-ranking-item__content":"display: flex; align-items: center; line-height: 1em; padding: 5px 0px; border-radius: 100px;",".sv-ranking-item__icon-container":"left: 0;top: 0;bottom: 0;width: 25px; flex-shrink: 0;",".sv-ranking-item__icon":"visibility: hidden;top:20px; fill: var(--primary, #19b394); position: absolute;",".sv-ranking-item__index":"display: flex; flex-shrink: 0; align-items: center; justify-content: center; background: var(--primary-light, rgba(25, 179, 148, 0.1)); color: var(--foreground); border-radius: 100%; border:2px solid transparent; margin-right: 16px; width: 40px; height: 40px; line-height: 1em;",".sv-ranking-item__text":"display: inline-block; overflow:hidden; text-overflow: ellipsis; white-space: nowrap;",".sv-ranking-item__ghost":"display: none; background-color: var(--background-dim, #f3f3f3); border-radius: 100px;width: 200px;height: 55px;z-index: 1;position: absolute;left: 25px;","[dir='rtl'] .sv-ranking-item__ghost":"left: initilal; right: 25px;",".sv-ranking-item--ghost .sv-ranking-item__ghost":"display: block;",".sv-ranking-item--ghost .sv-ranking-item__content":"visibility: hidden;",".sv-ranking-item--drag .sv-ranking-item__content":"box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);border-radius: 100px;",".sv-ranking--drag .sv-ranking-item:hover .sv-ranking-item__icon":"visibility: hidden;",".sv-ranking-item--drag .sv-ranking-item__icon--hover":"visibility: visible;",".sv-ranking--mobile .sv-ranking-item__icon--hover":"visibility:visible; fill:#9f9f9f;",".sv-ranking--mobile.sv-ranking--drag .sv-ranking-item--ghost .sv-ranking-item__icon.sv-ranking-item__icon--hover":"visibility:hidden;",".sv-ranking--mobile.sv-ranking-shortcut":"max-width: 80%;",".sv-ranking--design-mode .sv-ranking-item:hover .sv-ranking-item__icon":"visibility: hidden;",".sv-ranking--disabled":"opacity: 0.8;",".sv-ranking-shortcut .sv-ranking-item__icon":"fill: var(--primary, #19b394); ",".sv-dragged-element-shortcut":"height: 24px; min-width: 100px; border-radius: 36px; background-color: white; padding: 16px; cursor: grabbing; position: absolute; z-index: 1000; box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1); font-family: 'Open Sans'; font-size: 16px; padding-left: 20px;line-height: 24px;",".sv-matrixdynamic__drag-icon":"padding-top:14px",".sv-matrixdynamic__drag-icon:after":"content: ' '; display: block; height: 6px; width: 20px; border: 1px solid #e7e7e7; box-sizing: border-box; border-radius: 10px; cursor: move; margin-top: 12px;",".sv-matrix-row--drag-drop-ghost-mod td":"background-color: #f3f3f3;",".sv-matrix-row--drag-drop-ghost-mod td > *":"visibility: hidden",".sv_qstn .sv_q_select_column":"display: inline-block; vertical-align: top; min-width: 10%;",".sv_qstn .sv_q_select_column > *:not(.sv_technical)":"display: block;",".sv_main .sv_container .sv_body .sv_p_root .sv_qstn .sv_q_select_column textarea":"margin-left: 0; padding-left: 0; line-height: initial;",".sv_main .sv-hidden":"display: none !important;",".sv_main .sv-visuallyhidden":"position: absolute; height: 1px !important; width: 1px !important; overflow: hidden; clip: rect(1px 1px 1px 1px); clip: rect(1px, 1px, 1px, 1px);",".sv_main .sv-progress":"height: 0.19em; background-color: $header-background-color; position: relative;",".sv_main .sv-progress__bar":"background-color: $main-color; height: 100%; position: relative;",".sv_main .sv-paneldynamic__progress-container":"position: relative; display: inline-block; width: calc(100% - 250px); margin-top: 20px;",".sv_main .sv-paneldynamic__add-btn":"float: right;",".sv_main .sv-paneldynamic__add-btn--list-mode":"float: none; margin-top: 0;",".sv_main .sv-paneldynamic__remove-btn":"margin-top: 1.25em;",".sv_main .sv-paneldynamic__remove-btn--right":"margin-top: 0; margin-left: 1.25em;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"box-sizing: border-box; display: inline-block; cursor: pointer; width: 0.7em; top: -0.28em; position: absolute;",".sv_main .sv-paneldynamic__prev-btn svg, .sv_main .sv-paneldynamic__next-btn svg":"width: 0.7em; height: 0.7em; display: block;",".sv_main .sv-paneldynamic__prev-btn":"left: -1.3em; transform: rotate(90deg);",".sv_main .sv-paneldynamic__next-btn ":"right: -1.3em; transform: rotate(270deg);",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"cursor: auto;",".sv_main .sv-paneldynamic__progress-text":"font-weight: bold; font-size: 0.87em; margin-top: 0.69em; margin-left: 4em",".sv_main .sv-boolean__switch":"display: inline-block; box-sizing: border-box; width: 63px; height: 24px; margin-right: 17px; margin-left: 21px; padding: 2px 3px; vertical-align: middle; border-radius: 12px; cursor: pointer;",".sv_main .sv-boolean__slider":"display: inline-block; width: 20px; height: 20px; transition-duration: .4s; transition-property: margin-left; border: none; border-radius: 100%;",".sv_main .sv-boolean__label":"vertical-align: middle; cursor: pointer;",".sv_main .sv-boolean--indeterminate  .sv-boolean__slider":"margin-left: calc(50% - 10px);",".sv_main .sv-boolean input:focus ~ .sv-boolean__switch":"outline-width: 1px; outline-style: solid; outline-offset: 1px;",".sv_main .sv-boolean--checked  .sv-boolean__slider":"margin-left: calc(100% - 20px);","[dir='rtl'] .sv-boolean__label ":"float: right;","[dir='rtl'] .sv-boolean--indeterminate .sv-boolean__slider":"margin-right: calc(50% - 0.625em);","[dir='rtl'] .sv-boolean--checked .sv-boolean__slider":"margin-right: calc(100% - 1.25em);","[dir='rtl'] .sv-boolean__switch":"float: right;","[style*='direction:rtl'] .sv-boolean__label ":"float: right;","[style*='direction:rtl'] .sv-boolean--indeterminate .sv-boolean__slider":"margin-right: calc(50% - 0.625em);","[style*='direction:rtl'] .sv-boolean--checked .sv-boolean__slider":"margin-right: calc(100% - 1.25em);","[style*='direction:rtl'] .sv-boolean__switch":"float: right;",".sv_main .sv_q_num":"",".sv_main .sv_q_num + span":"",".sv_main .sjs_sp_container":"position: relative; box-sizing: content-box;",".sv_main .sjs_sp_controls":"position: absolute; left: 0; bottom: 0;",".sv_main .sjs_sp_controls > button":"user-select: none;",".sv_main .sjs_sp_container>div>canvas:focus":"outline: none;",".sv_main .sjs_sp_placeholder":"display: flex;  align-items: center; justify-content: center; position: absolute; z-index: 0; user-select: none; pointer-events: none; width: 100%; height: 100%;",".sv_main .sv_logo":"",".sv_main .sv-logo--left":"display: inline-block; vertical-align: top; margin-right: 2em;",".sv_main .sv-logo--right":"display: inline-block; vertical-align: top; margin-left: 2em; ",".sv_main .sv-logo--top":"display: block; width: 100%; text-align: center;",".sv_main .sv-logo--bottom":"display: block; width: 100%; text-align: center;",".sv_main .sv_header__text":"display: inline-block; vertical-align: top; max-width: 100%; width: 100%",".sv_main .sv-expand-action:before":"content: \"\"; display: inline-block; background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 10 10' style='enable-background:new 0 0 10 10;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='2,2 0,4 5,9 10,4 8,2 5,5 '/%3E%3C/svg%3E%0A\"); background-repeat: no-repeat; background-position: center center; height: 10px; width: 12px; margin: auto 8px;",".sv_main .sv-expand-action--expanded:before":"transform: rotate(180deg);",".sv_main .sv-action-bar":"display: flex; position: relative; align-items: center; margin-left: auto; padding: 0 0 0 16px; overflow: hidden; white-space: nowrap;",".sv_main .sv-action-bar-separator":"display: inline-block; width: 1px; height: 24px; vertical-align: middle; margin-right: 16px; background-color: #d6d6d6;",".sv_main .sv-action-bar-item":"-webkit-appearance: none; -moz-appearance: none; appearance: none; display: flex; height: 40px; padding: 8px; box-sizing: border-box; margin-right: 16px; border: none; border-radius: 2px; background-color: transparent; cursor: pointer; line-height: 24px; font-size: 16px; overflow-x: hidden; white-space: nowrap; min-width: auto; font-weight: normal",".sv_main .sv-action-bar-item__title":"vertical-align: middle; white-space: nowrap;",".sv_main .sv-action-bar-item__title--with-icon":"margin-left: 8px;",".sv_main .sv-action__content":"display: flex; flex-direction: row; align-items: center;",".sv_main .sv-action__content > *":"flex: 0 0 auto;",".sv_main .sv-action--hidden":"width: 0px; height: 0px; overflow: hidden;",".sv_main .sv-action-bar-item__icon svg":"display: block;",".sv_main .sv-action-bar-item:active":"opacity: 0.5;",".sv_main .sv-action-bar-item:focus":"outline: none;",".sv_main .sv-title-actions":"display: flex; align-items: center; width: 100%;",".sv_main .sv-title-actions__title":"flex-wrap: wrap; max-width: 90%; min-width: 50%;",".sv_main .sv-title-actions__bar":"min-width: 56px;",".sv_main .sv-title-actions .sv-title-actions__title":"min-width: unset; max-width: unset; flex-wrap: wrap; flex: 0 0 auto;",".sv_main .sv-title-actions .sv-action-title-bar":"min-width: unset; flex: 1 1 auto; justify-content: flex-end;",".sv_main .sv_matrix_cell_actions .sv-action-bar":"margin-left: 0; padding-left: 0;",".sv_main .sv_p_wrapper_in_row":"display: flex; flex-direction: row; align-items: center;",".sv_main  .sv_p_remove_btn_right":"margin-left: 1em;",".sv_main .sv-button-group":"display: flex; align-items: center; flex-direction: row; font-size: 16px; height: 48px; overflow: auto;",".sv_main .sv-button-group__item":"display: flex; box-sizing: border-box; flex-direction: row; justify-content: center; align-items: center; width: 100%; padding: 11px 16px; line-height: 24px; border-width: 1px; border-style: solid; outline: none; font-size: 16px; font-weight: 400; cursor: pointer; overflow: hidden;",".sv_main .sv-button-group__item:not(:first-of-type)":"margin-left: -1px;",".sv_main .sv-button-group__item-icon":"display: block; height: 24px;",".sv_main .sv-button-group__item--selected":"font-weight: 600;",".sv_main .sv-button-group__item-decorator":"display: flex; align-items: center; max-width: 100%;",".sv_main  .sv-button-group__item-icon + .sv-button-group__item-caption":"margin-left: 8px",".sv_main .sv-button-group__item-caption":"display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv_main .sv-button-group__item--disabled":"color: cursor: default;","sv-popup":"display: block; position: absolute; z-index: -1;",".sv-popup":"position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; outline: none; z-index: 1500;",".sv-popup__container":"box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.1); position: absolute; padding: 0;",".sv-popup__body-content":"background-color: var(--background, #fff); border-radius: calc(0.5 * var(--base-unit, 8px)); width: 100%; height: 100%; box-sizing: border-box; display: flex; flex-direction: column; max-height: 90vh; max-width: 90vw;",".sv-popup--modal .sv-list__filter":"padding-top: 8px;",".sv-popup--modal .sv-list__filter-icon":"top: 20px;",".sv-popup--overlay .sv-list__filter":"padding-top: 8px;",".sv-popup--overlay .sv-list__filter-icon":"top: 20px;",".sv-popup--modal":"display: flex; align-items: center; justify-content: center;",".sv-popup--modal .sv-popup__container":"position: static;",".sv-popup--modal .sv-popup__body-content":"padding: calc(4 * var(--base-unit, 8px));",".sv-popup--overlay":"width: 100%;",".sv-popup--overlay .sv-popup__container":"background: rgba(144, 144, 144, 0.5); max-width: 100vw; max-height: calc(100vh - 1 * var(--base-unit, 8px)); height: calc(100vh - 1 * var(--base-unit, 8px)); width: 100%; padding-top: calc(2 * var(--base-unit, 8px)); border: unset;",".sv-popup__shadow":"width: 100%; height: 100%; border-radius: calc(1 * var(--base-unit, 8px));",".sv-popup--overlay .sv-popup__body-content":"border-radius: calc(2 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)) 0px 0px; background: var(--background, #fff); box-shadow: 0px calc(1 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)) rgba(0, 0, 0, 0.1); padding: calc(3 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)); height: calc(100% - calc(1 * var(--base-unit, 8px))); max-height: 100vh; max-width: 100vw;",".sv-popup--overlay .sv-popup__scrolling-content":"height: calc(100% - (10 * var(--base-unit, 8px)));",".sv-popup--overlay .sv-popup__body-footer":"margin-top: calc(2 * var(--base-unit, 8px));",".sv-popup--overlay .sv-popup__body-footer .sv-action":"width: 100%;",".sv-popup--overlay .sv-popup__body-footer .sv-action-bar":"width: 100%;",".sv-popup--overlay .sv-popup__body-footer-item":"width: 100%;",".sv-popup--overlay .sv-popup__button":"background-color: var(--primary, #19b394); border: 2px solid var(--primary, #19b394); color: var(--primary-foreground, #fff);",".sv-popup__scrolling-content":"height: 100%; overflow: auto; display: flex; flex-direction: column;",".sv-popup__scrolling-content::-webkit-scrollbar":"height: 6px; width: 6px; background-color: var(--background-dim, #f3f3f3);",".sv-popup__scrolling-content::-webkit-scrollbar-thumb":"background: var(--primary-light, rgba(25, 179, 148, 0.1));",".sv-popup__content":"min-width: 100%; height: 100%;",".sv-popup--show-pointer.sv-popup--top .sv-popup__pointer":"transform: translate(calc(-1 * var(--base-unit, 8px))) rotate(180deg);",".sv-popup--show-pointer.sv-popup--bottom .sv-popup__pointer":"transform: translate(calc(-1 * var(--base-unit, 8px)), calc(-1 * var(--base-unit, 8px)));",".sv-popup--show-pointer.sv-popup--right":"transform: translate(calc(1 * var(--base-unit, 8px)));",".sv-popup--show-pointer.sv-popup--right .sv-popup__pointer":"transform: translate(-12px, -4px) rotate(-90deg);",".sv-popup--show-pointer.sv-popup--left":"transform: translate(calc(-1 * var(--base-unit, 8px)));",".sv-popup--show-pointer.sv-popup--left .sv-popup__pointer":"transform: translate(-4px, -4px) rotate(90deg);",".sv-popup__pointer":"display: block; position: absolute;",".sv-popup__pointer:after":"content: ' '; display: block; width: 0; height: 0; border-left: calc(1 * var(--base-unit, 8px)) solid transparent; border-right: calc(1 * var(--base-unit, 8px)) solid transparent; border-bottom: calc(1 * var(--base-unit, 8px)) solid var(--background, #fff); align-self: center;",".sv-popup__body-header":"font-family: Open Sans; font-size: calc(3 * var(--base-unit, 8px)); line-height: calc(4 * var(--base-unit, 8px)); font-style: normal; font-weight: 700; margin-bottom: calc(2 * var(--base-unit, 8px)); color: var(--foreground, #161616);",".sv-popup__body-footer":"display: flex; margin-top: calc(4 * var(--base-unit, 8px));",".sv-popup__body-footer .sv-action-bar":"gap: calc(1.5 * var(--base-unit, 8px));",".sv-popup__button":"padding: calc(2 * var(--base-unit, 8px)) calc(6 * var(--base-unit, 8px)); background: var(--background, #fff); box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.15); border-radius: 4px; margin: 2px; cursor: pointer; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-weight: 600; font-size: calc(2 * var(--base-unit, 8px)); line-height: calc(3 * var(--base-unit, 8px)); text-align: center; color: var(--primary, #19b394); border: none; outline: none;",".sv-popup__button:hover":"box-shadow: 0 0 0 2px var(--primary, #19b394);",".sv-popup__button:disabled":"color: var(--foreground-disabled, rgba(#161616, 0.16)); cursor: default;",".sv-popup__button:disabled:hover":"box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.15);",".sv-popup__button.sv-popup__button--apply":"background-color: var(--primary, #19b394); color: var(--primary-foreground, #fff);",".sv-popup__button.sv-popup__button--apply:disabled":"background-color: var(--background-dim, #f3f3f3);",".sv-list":"padding: 0; margin: 0; background: var(--background, #fff); list-style-type: none; overflow-y: auto;",".sv-list__item--with-icon":"padding-top: 12px; padding-bottom: 12px;",".sv-list__item":"width: 100%; box-sizing: border-box; cursor: pointer; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv-list__item-body":"width: 100%; box-sizing: border-box; padding-top: 8px; padding-bottom: 8px; padding-inline-end: 64px; padding-inline-start: 16px; cursor: pointer; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv-list__item-icon":"float: left; width: calc(3 * 8px); height: calc(3 * 8px); margin-right: calc(2 * 8px);",".sv-list__item-icon svg":"display: block;",".sv-list__item-icon use":"fill: #909090;",".sv-list__item:hover .sv-list__item-body":"background-color: var(--background-dim, #f3f3f3);",".sv-list__item.sv-list__item--focused .sv-list__item-body":"background-color: var(--background-dim, #f3f3f3);",".sv-list__loading-indicator":"pointer-events: none;",".sv-list__loading-indicator .sv-list__item-body":"background-color: transparent",".sv-list__item--selected .sv-list__item-icon use":"fill: var(--primary-foreground, #fff);",".sv-list__item.sv-list__item--disabled":"color: var(--foreground-light, #909090); cursor: default;",".sv-list__item span":"white-space: nowrap;",".sv-list__container":"position: relative; display: flex; flex-direction: column; height: 100%; display: flex; flex-direction: column; min-height: 0;",".sv-list__filter":"border-bottom: 1px solid rgba(0, 0, 0, 0.16); background: var(--background, #fff); padding-bottom: calcSize(1);",".sv-list__input":"-webkit-appearance: none; -moz-appearance: none; appearance: none; display: block; box-sizing: border-box; width: 100%; line-height: 24px; padding-left: 56px; padding-right: 24px; padding-top: 12px; padding-bottom: 12px; outline: none; font-size: 1em; border: none",".sv-list__filter-icon":"display: block; position: absolute; top: 12px; left: 16px;",".sv-list__filter-icon .sv-svg-icon":"width: 24px; height: 24px;",".sv-list__empty-container":"width: 100%; box-sizing: border-box; padding: 12px 64px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv-list__empty-text":"line-height: 24px; font-size: 16px; font-weight: 400; text-align: center; color: var(--foreground-light, #909090);",".sv-skeleton-element":"min-height: 50px;"},T.Media={".sv_qstn fieldset .sv-q-col-1":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-2":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-3":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-4":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-5":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn":{style:"display: block; width: 100% !important;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .title-left":{style:"float: none;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_radiogroup_inline, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_checkbox_inline, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_imagepicker_inline":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table thead":{style:"display: none;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table tbody, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table tr, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table td":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table:not(.sv_q_matrix) td:before":{style:"content: attr(data-responsive-title);",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.sv_q_matrix td:after":{style:"content: attr(data-responsive-title); padding-left: 1em",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .radio label, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .checkbox label":{style:"line-height: 12px; vertical-align: top;",media:"@media (max-width: 600px)"},".sv_qstn label.sv_q_m_label":{style:"display: inline;",media:"@media (max-width: 600px)"},".sv_main .sv_custom_header":{style:"display: none;",media:"@media (max-width: 1300px)"},".sv_main .sv_container .sv_header h3":{style:"font-size: 1.5em;",media:"@media (max-width: 1300px)"},".sv_main .sv_container .sv_header h3 span":{style:"font-size: 0.75em;",media:"@media (max-width: 700px)"},".sv_main.sv_bootstrap_css .sv-progress__text":{style:"margin-left: 8em;",media:"@media (min-width: 768px)"},".sv_row":{style:" display: flex; flex-wrap: wrap;",media:"@supports (display: flex)"},".sv-row > .sv-row__panel, .sv-row__question:not(:last-child)":{style:"float: left;",media:"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)"},"[dir='rtl'],[style*='direction:rtl'] .sv-row__question:not(:last-child)":{style:"float: right;",media:"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)"},".sv-row > .sv-row__panel, .sv-row__question":{style:"width: 100% !important; padding-right: 0 !important;",media:"@media only screen and (max-width: 600px)"}},T.ThemeColors={default:{"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},orange:{"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},darkblue:{"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},darkrose:{"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},stone:{"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},winter:{"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},winterstone:{"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"},modern:{"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$button-text-color":"#fff","$checkmark-color":"#fff","$matrix-text-checked-color":"#fff","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4","$text-input-color":"#404040","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$dropdown-border-color":"#d4d4d4","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3"},bootstrap:{"$main-color":"#18a689","$text-color":"#404040;","$text-input-color":"#404040;","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$header-background-color":"#e7e7e7","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd6c7","$progress-buttons-line-color":"#d4d4d4"},bootstrapmaterial:{"$main-color":"#18a689","$text-color":"#404040;","$text-input-color":"#404040;","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$header-background-color":"#e7e7e7","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$body-background-color":"#ffffff","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd6c7","$progress-buttons-line-color":"#d4d4d4"}},T.ThemeCss={".sv_default_css":"background-color: $body-container-background-color;",".sv_default_css hr":"border-color: $border-color;",".sv_default_css input[type='button'], .sv_default_css button":"color: $body-background-color; background-color: $main-color;",".sv_default_css input[type='button']:hover, .sv_default_css button:hover":"background-color: $main-hover-color;",".sv_default_css .sv_header":"color: $header-color;",".sv_default_css .sv_custom_header":"background-color: $header-background-color;",".sv_default_css .sv_container":"color: $text-color;",".sv_default_css .sv_body":"background-color: $body-background-color; border-color: $main-color;",".sv_default_css .sv_progress":"background-color: $border-color;",".sv_default_css .sv_progress_bar":"background-color: $main-color;",".sv_default_css .sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_default_css .sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_default_css .sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_default_css .sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_default_css .sv_p_root > .sv_row":"border-color: $border-color;",".sv_default_css .sv_p_root > .sv_row:nth-child(odd)":"background-color: $body-background-color;",".sv_default_css .sv_p_root > .sv_row:nth-child(even)":"background-color: $body-container-background-color;",".sv_default_css .sv_q_other input":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_text_root":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_dropdown_control":"color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_dropdown_control__input-field-component":"height: auto;",".sv_default_css input[type='text']":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css select":"color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css textarea":"color: $text-input-color; -webkit-text-fill-color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']):not([type='checkbox']):not([type='radio'])":"border: 1px solid $border-color; background-color: $inputs-background-color;color: $text-input-color; -webkit-text-fill-color: $text-input-color;",".sv_default_css input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']):not([type='checkbox']):not([type='radio']):focus":"border: 1px solid $main-color;",".sv_default_css .sv_container .sv_body .sv_p_root .sv_q .sv_select_wrapper .sv_q_dropdown_control":"background-color: $inputs-background-color;",".sv_default_css .sv_container .sv_body .sv_p_root .sv_q .sv_select_wrapper .sv_q_dropdown_control:focus-within":"border: 1px solid $main-color;",".sv_default_css .sv_q_other input:focus":"border-color: $main-color;",".sv_default_css .sv_q_text_root:focus":"border-color: $main-color;",".sv_default_css .sv_q_dropdown_control:focus":"border-color: $main-color;",".sv_default_css .sv_container .sv_body .sv_p_root .sv_q .sv_q_dropdown_control .sv_q_dropdown__value .sv_q_dropdown__filter-string-input[type=text]":"border: none; outline: none; padding: 0px; width: auto; display: flex; flex-grow: 1;  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: inline-block; position: absolute; inset-inline-start: 0; top: 0; height: 100%; background-color: transparent;",".sv_default_css .sv_container .sv_body .sv_p_root .sv_q .sv_q_dropdown_control .sv_q_dropdown__value.sv_q_tagbox__value .sv_q_dropdown__filter-string-input.sv_q_tagbox__filter-string-input":"position: initial;",".sv_default_css input[type='text']:focus":"border-color: $main-color;",'.sv_default_css .sv_container .sv_body .sv_p_root .sv_q input[type="radio"]:focus, .sv_default_css .sv_container .sv_body .sv_p_root .sv_q input[type="checkbox"]:focus':"outline: 1px dotted $main-color;",".sv_default_css select:focus":"border-color: $main-color;",".sv_default_css textarea:focus":"border-color: $main-color;",".sv_default_css .sv_q_input.sv_q_input.sv_q_input.sv_q_tagbox.sv_q_tagbox.sv_q_tagbox:not(.sv_q_tagbox--empty)":"height: auto;",".sv_default_css .sv_select_wrapper.sv_q_tagbox_wrapper::before":"height: 100%; padding: 0 1em;",".sv_default_css .sv_select_wrapper":"background-color: $body-background-color;",".sv_default_css .sv_select_wrapper::before":"background-color: $main-color;",".sv_default_css .sv_q_rating_item.active .sv_q_rating_item_text":"background-color: $main-hover-color; border-color: $main-hover-color; color: $body-background-color;",".sv_default_css .sv_q_rating_item .sv_q_rating_item_text":"border-color: $border-color;",".sv_default_css .sv_q_rating_item .sv_q_rating_item_text:hover":"border-color: $main-hover-color;",".sv_default_css table.sv_q_matrix tr":"border-color: $border-color;",".sv_default_css table.sv_q_matrix_dropdown tr":"border-color: $border-color;",".sv_default_css table.sv_q_matrix_dynamic tr":"border-color: $border-color;",".sv_default_css .sv_q_m_cell_selected":"color: $body-background-color; background-color: $main-hover-color;",".sv_main .sv_q_file_remove:hover":"color: $main-color;",".sv_main .sv_q_file_choose_button":"color: $body-background-color; background-color: $main-color;",".sv_main .sv_q_file_choose_button:hover":"background-color: $main-hover-color;",".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color",".sv_default_css .sv_p_description":"padding-left: 1.29em;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean__switch":"background-color: $main-color; outline-color: $main-color",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sjs_sp_container":"border: 1px dashed $disable-color;",".sv_main .sjs_sp_placeholder":"color: $foreground-light;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;",".sv_main .sv-button-group__item--hover:hover":"background-color: $background-dim;",".sv_main .sv-button-group__item-icon use":"fill: $foreground-light;",".sv_main .sv-button-group__item--selected":"color: $main-color;",".sv_main .sv-button-group__item--selected .sv-button-group__item-icon use":"fill: $main-color;",".sv_main .sv-button-group__item--disabled":"color: $foreground-disabled;",".sv_main .sv-button-group__item--disabled .sv-button-group__item-icon use":"fill: $foreground-disabled;",".sv_main .sv-button-group__item":"background: $body-background-color; border-color: $border-color;",".sv_main .sv_qstn textarea":"max-width: 100%","body .sv-list__input":"color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;","body .sv-list__input::placeholder":"color: $foreground-light;","body .sv-list__input:disabled":"color: $foreground-disabled;","body .sv-list__input:disabled::placeholder":"color: $foreground-disabled;","body .sv-list__item--selected":"background: rgba(25, 179, 148, 0.1); color: $foreground-disabled","body .sv-list__item--selected.sv-list__item--focused":"background-color: $main-color; color: $inputs-background-color;","body .sv-list__item--selected:focus":"background-color: $main-color; color: $inputs-background-color;","body .sv-list__item--selected:hover":"background-color: $main-color; color: $inputs-background-color;",".sv-skeleton-element":"background-color: $background-dim;",".sv_main .sv-ranking-item:focus .sv-ranking-item__index":"border: 2px solid $main-color;",".sv_main .sv-ranking-item__icon":"fill: $main-color;","body .sv-ranking-shortcut .sv-ranking-item__icon":"fill: $main-color;"},T.modernThemeCss={".sv-boolean__switch":"background-color: $main-color;",".sv-boolean__slider":"background-color: $slider-color;",".sv-boolean__label--disabled":"color: $disabled-label-color;",".sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv-boolean--disabled .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv-btn":"color: $button-text-color;",".sv-btn--navigation":"background-color: $main-color",".sv-checkbox__svg":"border-color: $border-color; fill: transparent;",".sv-checkbox--allowhover:hover .sv-checkbox__svg":"background-color: $main-hover-color; fill: $checkmark-color;",".sv-checkbox--checked .sv-checkbox__svg":"background-color: $main-color; fill: $checkmark-color;",".sv-checkbox--checked.sv-checkbox--disabled .sv-checkbox__svg":"background-color: $disable-color; fill: $checkmark-color;",".sv-checkbox--disabled .sv-checkbox__svg":"border-color: $disable-color;",".sv-comment":"border-color: $text-border-color; max-width: 100%;",".sv-comment:focus":"border-color: $main-color;",".sv-completedpage":"color: $text-color; background-color: $body-container-background-color;",".sv-container-modern":"color: $text-color;",".sv-container-modern__title":"color: $main-color;",".sv-description":"color: $disabled-text-color;",".sv-dropdown":"border-bottom: 0.06em solid $text-border-color;",".sv-dropdown:focus":"border-color: $dropdown-border-color;",".sv-dropdown--error":"border-color: $error-color; color: $error-color;",".sv-dropdown--error::placeholder":"color: $error-color;",".sv-dropdown--error::-ms-input-placeholder":"color: $error-color;",".sv-tagbox":"border-bottom: 0.06em solid $text-border-color;",".sv-tagbox:focus":"border-color: $dropdown-border-color;",".sv-tagbox--error":"border-color: $error-color; color: $error-color;",".sv-tagbox--error::placeholder":"color: $error-color;",".sv-tagbox--error::-ms-input-placeholder":"color: $error-color;",".sv-file__decorator":"background-color: $body-container-background-color;",".sv-file__clean-btn":"background-color: $remove-button-color;",".sv-file__choose-btn:not(.sv-file__choose-btn--disabled)":"background-color: $add-button-color;",".sv-file__choose-btn--disabled":"background-color: $disable-color;",".sv-file__remove-svg":"fill: #ff1800;",".sv-file__sign a":"color: $text-color;",".sv-imagepicker__item--allowhover:hover .sv-imagepicker__image":"background-color: $main-hover-color; border-color: $main-hover-color;",".sv-imagepicker__item--checked .sv-imagepicker__image":"background-color: $main-color; border-color: $main-color;",".sv-imagepicker__item--disabled.sv-imagepicker__item--checked .sv-imagepicker__image":"background-color: $disable-color; border-color: $disable-color;",".sv-item__control:focus + .sv-item__decorator":"border-color: $main-color;",".sv-matrix__text--checked":"color: $matrix-text-checked-color; background-color: $main-color;",".sv-matrix__text--disabled.sv-matrix__text--checked":"background-color: $disable-color;",".sv-matrixdynamic__add-btn":"background-color: $add-button-color;",".sv-matrixdynamic__remove-btn":"background-color: $remove-button-color;",".sv-paneldynamic__add-btn":"background-color: $add-button-color;",".sv-paneldynamic__remove-btn":"background-color: $remove-button-color;",".sv-paneldynamic__prev-btn":"fill: $text-color;",".sv-paneldynamic__next-btn":"fill: $text-color;",".sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled":"fill: $disable-color;",".sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv-progress":"background-color: $header-background-color;",".sv-progress__bar":"background-color: $main-color;",".sv-progress__text":"color: $progress-text-color;",".sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv-question__erbox":"color: $error-color;",".sv-question__title--answer":"background-color: $answer-background-color;",".sv-question__title--error":"background-color: $error-background-color;",".sv-panel__title--error":"background-color: $error-background-color;",".sv-radio__svg":"border-color: $border-color; fill: transparent;",".sv-radio--allowhover:hover .sv-radio__svg":"fill: $border-color;",".sv-radio--checked .sv-radio__svg":"border-color: $radio-checked-color; fill: $radio-checked-color;",".sv-radio--disabled .sv-radio__svg":"border-color: $disable-color;",".sv-radio--disabled.sv-radio--checked .sv-radio__svg":"fill: $disable-color;",".sv-rating":"color: $text-color;",".sv-rating input:focus + .sv-rating__min-text + .sv-rating__item-text, .sv-rating input:focus + .sv-rating__item-text":"outline-color: $main-color;",".sv-rating__item-text":"color: $main-hover-color; border: solid 0.1875em $main-hover-color;",".sv-rating__item-text:hover":"background-color: $main-hover-color; color: $body-background-color;",".sv-rating__item--selected .sv-rating__item-text":"background-color: $main-color; color: $body-background-color; border-color: $main-color;",".sv-rating--disabled .sv-rating__item-text":"color: $disable-color; border-color: $disable-color;",".sv-rating--disabled .sv-rating__item-text:hover":"background-color: transparent;",".sv-rating--disabled .sv-rating__item-text:hover .sv-rating__item--selected .sv-rating__item-text":"background-color: $disable-color; color: $body-background-color;","::-webkit-scrollbar":"background-color: $main-hover-color;","::-webkit-scrollbar-thumb":"background: $main-color;",".sv-selectbase__clear-btn":"background-color: $clean-button-color;",".sv-table":"background-color: rgba($main-hover-color, 0.1);",".sv-text:focus":"border-color: $main-color;",'.sv-text[type="date"]::-webkit-calendar-picker-indicator':"color: transparent; background: transparent;",".sv-text--error":"color: $error-color; border-color: $error-color;",".sv-text--error::placeholder":"color: $error-color;",".sv-text--error::-ms-placeholder":"color: $error-color;",".sv-text--error:-ms-placeholder":"color: $error-color;","input.sv-text, textarea.sv-comment, select.sv-dropdown":"color: $text-input-color; background-color: $inputs-background-color;",".sv-text::placeholder":"color: $text-input-color;",".sv-text::-ms-placeholder":"color: $text-input-color;",".sv-text:-ms-placeholder":"color: $text-input-color;",".sv-table__row--detail":"background-color: $header-background-color;",".sjs_sp_container":"border: 1px dashed $disable-color;",".sjs_sp_placeholder":"color: $foreground-light;",".sv-matrixdynamic__drag-icon":"padding-top:16px",".sv-matrixdynamic__drag-icon:after":"content: ' '; display: block; height: 6px; width: 20px; border: 1px solid $border-color; box-sizing: border-box; border-radius: 10px; cursor: move; margin-top: 12px;",".sv-matrix__drag-drop-ghost-position-top, .sv-matrix__drag-drop-ghost-position-bottom":"position: relative;",".sv-matrix__drag-drop-ghost-position-top::after, .sv-matrix__drag-drop-ghost-position-bottom::after":"content: ''; width: 100%; height: 4px; background-color: var(--primary, #19b394); position: absolute; left: 0;",".sv-matrix__drag-drop-ghost-position-top::after":"top: 0;",".sv-matrix__drag-drop-ghost-position-bottom::after":"bottom: 0;",".sv-skeleton-element":"background-color: $background-dim;",".sv-ranking-item:focus .sv-ranking-item__index":"border: 2px solid $main-color;",".sv-ranking-item__icon":"fill: $main-color;","body .sv-ranking-shortcut .sv-ranking-item__icon":"fill: $main-color;"},T.bootstrapThemeCss={".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color",".sv_main .sv_p_description":"padding-left: 1.66em;",".sv_main .sv_qstn_error_bottom":"margin-top: 20px; margin-bottom: 0;",".sv_main .progress":"width: 60%;",".sv_main .progress-bar":"width: auto; margin-left: 2px; margin-right: 2px;",".sv_main .table>tbody>tr>td":"min-width: 90px;",".sv_main f-panel .sv_qstn":"padding: 0; vertical-align: middle;",".sv_main .sv_q_image":"display: inline-block;",".sv_main .sv_row .sv_qstn:first-child:last-child":"flex: none !important;",".sv_main .sv_row .sv_p_container:first-child:last-child":"flex: none !important;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_main .sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_main .sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_main .sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled  .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sjs_sp_container":"border: 1px dashed $disable-color;",".sv_main .sjs_sp_placeholder":"color: $foreground-light;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;",".sv-skeleton-element":"background-color: $background-dim;"},T.bootstrapmaterialThemeCss={".sv_main.sv_bootstrapmaterial_css .form-group.is-focused .form-control":"linear-gradient(0deg, $main-color 2px, $main-color 0),linear-gradient(0deg, #D2D2D2 1px, transparent 0);",".sv_main.sv_bootstrapmaterial_css .sv_qstn":"margin-bottom: 1rem;",".sv_main.sv_bootstrapmaterial_css .sv_qstn label.sv_q_m_label":"height: 100%;",".sv_main.sv_bootstrapmaterial_css .sv_q_image":"display: inline-block;",".sv_main .sv_row .sv_qstn:first-child:last-child":"flex: none !important;",".sv_main .sv_row .sv_p_container:first-child:last-child":"flex: none !important;",".sv_main.sv_bootstrapmaterial_css .checkbox input[type=checkbox]:checked + .checkbox-material .check":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.checkbox-inline input[type=checkbox]:checked + .checkbox-material .check":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .checkbox input[type=checkbox]:checked + .checkbox-material .check:before":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.checkbox-inline input[type=checkbox]:checked + .checkbox-material .check:before":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css .radio input[type=radio]:checked ~ .circle":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.radio-inline input[type=radio]:checked ~ .circle":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .radio input[type=radio]:checked ~ .check":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.radio-inline input[type=radio]:checked ~ .check":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .btn-default.active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-default:active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-secondary.active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-secondary:active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .open>.dropdown-toggle.btn-default":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css input[type='button'].btn-primary, .sv_main.sv_bootstrapmaterial_css button.btn-primary":"color: $body-background-color; background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css input[type='button'].btn-primary:hover, .sv_main.sv_bootstrapmaterial_css button.btn-primary:hover":"background-color: $main-hover-color;",".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_q_file_remove:hover":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css .form-group input[type=file]":"position: relative; opacity: 1;",".sv_main.sv_bootstrapmaterial_css .progress":"width: 60%; height: 1.5em;",".sv_main.sv_bootstrapmaterial_css .progress-bar":"width: auto; margin-left: 2px; margin-right: 2px;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean .checkbox-decorator":"display: none;",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label.sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean__label":"color: $text-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled  .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sjs_sp_container":"border: 1px dashed $disable-color;",".sv_main .sjs_sp_placeholder":"color: $foreground-light;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;",".sv-skeleton-element":"background-color: $background-dim;"},T.Enabled=!0,T}()},"./src/survey-element.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SurveyElementCore",function(){return f}),e.d(t,"DragTypeOverMeEnum",function(){return _}),e.d(t,"SurveyElement",function(){return l});var m,n=e("./src/jsonobject.ts"),y=e("./src/base.ts"),T=e("./src/actions/adaptive-container.ts"),v=e("./src/helpers.ts"),O=e("./src/settings.ts"),C=e("./src/actions/container.ts"),E=(m=function(h,d){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(c[s]=a[s])})(h,d)},function(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=h}m(h,d),h.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}),i=function(m,h,d,c){var r,a=arguments.length,s=a<3?h:null===c?c=Object.getOwnPropertyDescriptor(h,d):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(m,h,d,c);else for(var o=m.length-1;o>=0;o--)(r=m[o])&&(s=(a<3?r(s):a>3?r(h,d,s):r(h,d))||s);return a>3&&s&&Object.defineProperty(h,d,s),s},f=function(m){function h(){var d=m.call(this)||this;return d.createLocTitleProperty(),d}return E(h,m),h.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(h.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(d){this.setLocalizableStringText("title",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),h.prototype.getDefaultTitleValue=function(){},h.prototype.updateDescriptionVisibility=function(d){this.hasDescription=!!d},Object.defineProperty(h.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"titleTagName",{get:function(){var d=this.getDefaultTitleTagName(),c=this.getSurvey();return c?c.getElementTitleTagName(this,d):d},enumerable:!1,configurable:!0}),h.prototype.getDefaultTitleTagName=function(){return O.settings.titleTags[this.getType()]},Object.defineProperty(h.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),h.prototype.getTitleToolbar=function(){return null},h.prototype.getTitleOwner=function(){},Object.defineProperty(h.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),h.prototype.toggleState=function(){},Object.defineProperty(h.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),h.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},i([Object(n.property)()],h.prototype,"hasDescription",void 0),i([Object(n.property)({localizable:!0,onSet:function(d,c){c.updateDescriptionVisibility(c,d)}})],h.prototype,"description",void 0),h}(y.Base),_=(()=>(function(m){m[m.InsideEmptyPanel=1]="InsideEmptyPanel",m[m.MultilineRight=2]="MultilineRight",m[m.MultilineLeft=3]="MultilineLeft"}(_||(_={})),_))(),l=function(m){function h(d){var c=m.call(this)||this;return c.selectedElementInDesignValue=c,c.disableDesignActions=h.CreateDisabledDesignElements,c.parentQuestionValue=null,c.isContentElement=!1,c.isEditableTemplateElement=!1,c.isInteractiveDesignElement=!0,c.isSingleInRow=!0,c.name=d,c.createNewArray("errors"),c.createNewArray("titleActions"),c.registerPropertyChangedHandlers(["isReadOnly"],function(){c.onReadOnlyChanged()}),c.registerPropertyChangedHandlers(["errors"],function(){c.updateVisibleErrors()}),c.registerPropertyChangedHandlers(["isSingleInRow"],function(){c.updateElementCss(!1)}),c}return E(h,m),h.getProgressInfoByElements=function(d,c){for(var a=y.Base.createProgressInfo(),s=0;s<d.length;s++)if(d[s].isVisible){var r=d[s].getProgressInfo();a.questionCount+=r.questionCount,a.answeredQuestionCount+=r.answeredQuestionCount,a.requiredQuestionCount+=r.requiredQuestionCount,a.requiredAnsweredQuestionCount+=r.requiredAnsweredQuestionCount}return c&&a.questionCount>0&&(0==a.requiredQuestionCount&&(a.requiredQuestionCount=1),a.answeredQuestionCount>0&&(a.requiredAnsweredQuestionCount=1)),a},h.ScrollElementToTop=function(d){if(!d||typeof document>"u")return!1;var c=document.getElementById(d);if(!c||!c.scrollIntoView)return!1;var a=c.getBoundingClientRect().top;return a<0&&c.scrollIntoView(),a<0},h.GetFirstNonTextElement=function(d,c){if(void 0===c&&(c=!1),!d||!d.length||0==d.length)return null;if(c){var a=d[0];"#text"===a.nodeName&&(a.data=""),"#text"===(a=d[d.length-1]).nodeName&&(a.data="")}for(var s=0;s<d.length;s++)if("#text"!=d[s].nodeName&&"#comment"!=d[s].nodeName)return d[s];return null},h.FocusElement=function(d){if(!d||typeof document>"u")return!1;var c=h.focusElementCore(d);return c||setTimeout(function(){h.focusElementCore(d)},10),c},h.focusElementCore=function(d){if(!document)return!1;var c=document.getElementById(d);return!(!c||c.disabled||(c.focus(),0))},h.prototype.onPropertyValueChanged=function(d,c,a){m.prototype.onPropertyValueChanged.call(this,d,c,a),"state"===d&&(this.updateElementCss(!1),this.stateChangedCallback&&this.stateChangedCallback())},h.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(h.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),h.prototype.setParentQuestion=function(d){this.parentQuestionValue=d,this.onParentQuestionChanged()},h.prototype.onParentQuestionChanged=function(){},Object.defineProperty(h.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(d){this.setPropertyValue("state",d),this.notifyStateChanged()},enumerable:!1,configurable:!0}),h.prototype.notifyStateChanged=function(){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(h.prototype,"isCollapsed",{get:function(){if(!this.isDesignMode)return"collapsed"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isExpanded",{get:function(){return"expanded"===this.state},enumerable:!1,configurable:!0}),h.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},h.prototype.expand=function(){this.state="expanded"},h.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):!this.isExpanded||(this.collapse(),!1)},Object.defineProperty(h.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),h.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},h.prototype.createActionContainer=function(d){var c=d?new T.AdaptiveActionContainer:new C.ActionContainer;return this.survey&&!!this.survey.getCss().actionBar&&(c.cssClasses=this.survey.getCss().actionBar),c},Object.defineProperty(h.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),h.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},h.prototype.getDefaultTitleActions=function(){return[]},h.prototype.updateTitleActions=function(){var d=this.getDefaultTitleActions();this.survey&&(d=this.survey.getUpdatedElementTitleActions(this,d)),this.setPropertyValue("titleActions",d)},Object.defineProperty(h.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasTitleEvents",{get:function(){return void 0!==this.state&&"default"!==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"titleTabIndex",{get:function(){return this.isPage||"default"===this.state?void 0:0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"titleAriaExpanded",{get:function(){if(!this.isPage&&"default"!==this.state)return"expanded"===this.state},enumerable:!1,configurable:!0}),h.prototype.setSurveyImpl=function(d,c){this.surveyImplValue=d,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&this.clearCssClasses()},h.prototype.canRunConditions=function(){return m.prototype.canRunConditions.call(this)&&!!this.data},h.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():null},h.prototype.getDataFilteredProperties=function(){var d=this.data?this.data.getFilteredProperties():{};return d.question=this,d},Object.defineProperty(h.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),h.prototype.__setData=function(d){O.settings.supportCreatorV2&&(this.surveyDataValue=d)},Object.defineProperty(h.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),h.prototype.getSurvey=function(d){return void 0===d&&(d=!1),this.surveyValue||this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue},h.prototype.setSurveyCore=function(d){this.surveyValue=d,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(h.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isReadOnly",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(d){this.readOnly!=d&&(this.setPropertyValue("readOnly",d),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),h.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(h.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),h.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(h.prototype,"cssClasses",{get:function(){return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),h.prototype.calcCssClasses=function(d){},h.prototype.updateElementCssCore=function(d){},Object.defineProperty(h.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),h.prototype.updateElementCss=function(d){this.clearCssClasses()},h.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},h.prototype.getIsLoadingFromJson=function(){return!!m.prototype.getIsLoadingFromJson.call(this)||!!this.survey&&this.survey.isLoadingFromJson},Object.defineProperty(h.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(d){var c=this.name;this.setPropertyValue("name",this.getValidName(d)),!this.isLoadingFromJson&&c&&this.onNameChanged(c)},enumerable:!1,configurable:!0}),h.prototype.getValidName=function(d){return d},h.prototype.onNameChanged=function(d){},h.prototype.updateBindingValue=function(d,c){this.data&&!this.isTwoValueEquals(c,this.data.getValue(d))&&this.data.setValue(d,c,!1)},Object.defineProperty(h.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(d){this.setPropertyValue("errors",d)},enumerable:!1,configurable:!0}),h.prototype.updateVisibleErrors=function(){for(var d=0,c=0;c<this.errors.length;c++)this.errors[c].visible&&d++;this.hasVisibleErrors=d>0},Object.defineProperty(h.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),h.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},h.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(h.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(d){this.selectedElementInDesignValue=d},enumerable:!1,configurable:!0}),h.prototype.updateCustomWidgets=function(){},h.prototype.onSurveyLoad=function(){},h.prototype.onFirstRendering=function(){this.ensureCssClassesValue()},h.prototype.endLoadingFromJson=function(){m.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad()},h.prototype.setVisibleIndex=function(d){return 0},Object.defineProperty(h.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.delete=function(){},h.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},h.prototype.getMarkdownHtml=function(d,c){return this.survey?this.survey.getSurveyMarkdownHtml(this,d,c):this.locOwner?this.locOwner.getMarkdownHtml(d,c):void 0},h.prototype.getRenderer=function(d){return this.survey&&"function"==typeof this.survey.getRendererForString?this.survey.getRendererForString(this,d):this.locOwner&&"function"==typeof this.locOwner.getRenderer?this.locOwner.getRenderer(d):null},h.prototype.getRendererContext=function(d){return this.survey&&"function"==typeof this.survey.getRendererContextForString?this.survey.getRendererContextForString(this,d):this.locOwner&&"function"==typeof this.locOwner.getRendererContext?this.locOwner.getRendererContext(d):d},h.prototype.getProcessedText=function(d){return this.isLoadingFromJson?d:this.textProcessor?this.textProcessor.processText(d,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(d):d},h.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},h.prototype.removeSelfFromList=function(d){if(d&&Array.isArray(d)){var c=d.indexOf(this);c>-1&&d.splice(c,1)}},Object.defineProperty(h.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),h.prototype.getProcessedHtml=function(d){return d&&this.textProcessor?this.textProcessor.processText(d,!0):d},h.prototype.onSetData=function(){},Object.defineProperty(h.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(d){this.setPropertyValue("parent",d)},enumerable:!1,configurable:!0}),h.prototype.getPage=function(d){for(;d&&d.parent;)d=d.parent;return d&&"page"==d.getType()?d:null},h.prototype.moveToBase=function(d,c,a){if(void 0===a&&(a=null),!c)return!1;d.removeElement(this);var s=-1;return v.Helpers.isNumber(a)&&(s=parseInt(a)),-1==s&&!!a&&!!a.getType&&(s=c.indexOf(a)),c.addElement(this,s),!0},h.prototype.setPage=function(d,c){var a=this.getPage(d);"string"==typeof c&&this.getSurvey().pages.forEach(function(r){c===r.name&&(c=r)}),a!==c&&(d&&d.removeElement(this),c&&c.addElement(this,-1))},h.prototype.getSearchableLocKeys=function(d){d.push("title"),d.push("description")},Object.defineProperty(h.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&"sd-root-modern"==this.survey.getCss().root},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isErrorsModeTooltip",{get:function(){return this.getIsErrorsModeTooltip()},enumerable:!1,configurable:!0}),h.prototype.getIsErrorsModeTooltip=function(){return this.isDefaultV2Theme&&this.hasParent&&this.getIsTooltipErrorSupportedByParent()},h.prototype.getIsTooltipErrorSupportedByParent=function(){var d;return null===(d=this.parent)||void 0===d?void 0:d.getIsTooltipErrorInsideSupported()},h.prototype.getIsTooltipErrorInsideSupported=function(){return!1},Object.defineProperty(h.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage||void 0===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasFrameV2",{get:function(){return!this.hasParent&&this.isDefaultV2Theme&&!this.isDesignMode&&this.isSingleInRow},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(d){this.setPropertyValue("width",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(d){this.setPropertyValue("minWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(d){this.setPropertyValue("maxWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(d){this.setPropertyValue("renderWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(d){this.setPropertyValue("indent",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(d){this.setPropertyValue("rightIndent",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(d){this.setPropertyValue("paddingLeft",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(d){this.setPropertyValue("paddingRight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"rootStyle",{get:function(){var d={};return this.allowRootStyle&&this.renderWidth&&(d.flexGrow=1,d.flexShrink=1,d.flexBasis=this.renderWidth,d.minWidth=this.minWidth,d.maxWidth=this.maxWidth),d},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clickTitleFunction",{get:function(){var d=this;if(this.needClickTitleFunction())return function(){return d.processTitleClick()}},enumerable:!1,configurable:!0}),h.prototype.needClickTitleFunction=function(){return"default"!==this.state},h.prototype.processTitleClick=function(){"default"!==this.state&&this.toggleState()},h.prototype.localeChanged=function(){m.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(d){d.updateText()})},h.CreateDisabledDesignElements=!1,i([Object(n.property)({defaultValue:null})],h.prototype,"dragTypeOverMe",void 0),i([Object(n.property)({defaultValue:!1})],h.prototype,"isDragMe",void 0),i([Object(n.property)()],h.prototype,"cssClassesValue",void 0),i([Object(n.property)({defaultValue:!1})],h.prototype,"hasVisibleErrors",void 0),i([Object(n.property)({defaultValue:!0})],h.prototype,"isSingleInRow",void 0),i([Object(n.property)({defaultValue:!0})],h.prototype,"allowRootStyle",void 0),h}(f)},"./src/survey-error.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SurveyError",function(){return T});var n=e("./src/localizablestring.ts"),y=e("./src/surveyStrings.ts"),T=function(){function v(O,C){void 0===O&&(O=null),void 0===C&&(C=null),this.text=O,this.errorOwner=C,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return v.prototype.equalsTo=function(O){return!(!O||!O.getErrorType||this.getErrorType()!==O.getErrorType())&&this.text===O.text&&this.visible===O.visible},Object.defineProperty(v.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new n.LocalizableString(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),v.prototype.getText=function(){var O=this.text;return O||(O=this.getDefaultText()),this.errorOwner&&(O=this.errorOwner.getErrorCustomText(O,this)),O},v.prototype.getErrorType=function(){return"base"},v.prototype.getDefaultText=function(){return""},v.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},v.prototype.getLocalizationString=function(O){return y.surveyLocalization.getString(O,this.getLocale())},v.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},v}()},"./src/survey.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SurveyModel",function(){return x});var P,n=e("./src/helpers.ts"),y=e("./src/jsonobject.ts"),T=e("./src/base.ts"),v=e("./src/survey-element.ts"),O=e("./src/defaultCss/cssstandard.ts"),C=e("./src/textPreProcessor.ts"),E=e("./src/conditionProcessValue.ts"),i=e("./src/dxSurveyService.ts"),f=e("./src/surveyStrings.ts"),_=e("./src/error.ts"),l=e("./src/localizablestring.ts"),m=e("./src/stylesmanager.ts"),h=e("./src/surveyTimerModel.ts"),d=e("./src/conditions.ts"),c=e("./src/settings.ts"),a=e("./src/utils/utils.ts"),s=e("./src/actions/action.ts"),r=e("./src/actions/container.ts"),o=e("./src/utils/cssClassBuilder.ts"),S=(P=function(g,u){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var w in R)Object.prototype.hasOwnProperty.call(R,w)&&(M[w]=R[w])})(g,u)},function(g,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function M(){this.constructor=g}P(g,u),g.prototype=null===u?Object.create(u):(M.prototype=u.prototype,new M)}),I=function(P,g,u,M){var F,R=arguments.length,w=R<3?g:null===M?M=Object.getOwnPropertyDescriptor(g,u):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,g,u,M);else for(var B=P.length-1;B>=0;B--)(F=P[B])&&(w=(R<3?F(w):R>3?F(g,u,w):F(g,u))||w);return R>3&&w&&Object.defineProperty(g,u,w),w},x=function(P){function g(u,M){void 0===u&&(u=null),void 0===M&&(M=null);var R=P.call(this)||this;R.valuesHash={},R.variablesHash={},R.onTriggerExecuted=R.addEvent(),R.onCompleting=R.addEvent(),R.onComplete=R.addEvent(),R.onShowingPreview=R.addEvent(),R.onNavigateToUrl=R.addEvent(),R.onStarted=R.addEvent(),R.onPartialSend=R.addEvent(),R.onCurrentPageChanging=R.addEvent(),R.onCurrentPageChanged=R.addEvent(),R.onValueChanging=R.addEvent(),R.onValueChanged=R.addEvent(),R.onVariableChanged=R.addEvent(),R.onVisibleChanged=R.addEvent(),R.onPageVisibleChanged=R.addEvent(),R.onPanelVisibleChanged=R.addEvent(),R.onQuestionCreated=R.addEvent(),R.onQuestionAdded=R.addEvent(),R.onQuestionRemoved=R.addEvent(),R.onPanelAdded=R.addEvent(),R.onPanelRemoved=R.addEvent(),R.onPageAdded=R.addEvent(),R.onValidateQuestion=R.addEvent(),R.onSettingQuestionErrors=R.addEvent(),R.onServerValidateQuestions=R.addEvent(),R.onValidatePanel=R.addEvent(),R.onErrorCustomText=R.addEvent(),R.onValidatedErrorsOnCurrentPage=R.addEvent(),R.onProcessHtml=R.addEvent(),R.onGetQuestionTitle=R.addEvent(),R.onGetTitleTagName=R.addEvent(),R.onGetQuestionNo=R.addEvent(),R.onProgressText=R.addEvent(),R.onTextMarkdown=R.addEvent(),R.onTextRenderAs=R.addEvent(),R.onSendResult=R.addEvent(),R.onGetResult=R.addEvent(),R.onUploadFiles=R.addEvent(),R.onDownloadFile=R.addEvent(),R.onClearFiles=R.addEvent(),R.onLoadChoicesFromServer=R.addEvent(),R.onLoadedSurveyFromService=R.addEvent(),R.onProcessTextValue=R.addEvent(),R.onUpdateQuestionCssClasses=R.addEvent(),R.onUpdatePanelCssClasses=R.addEvent(),R.onUpdatePageCssClasses=R.addEvent(),R.onUpdateChoiceItemCss=R.addEvent(),R.onAfterRenderSurvey=R.addEvent(),R.onAfterRenderHeader=R.addEvent(),R.onAfterRenderPage=R.addEvent(),R.onAfterRenderQuestion=R.addEvent(),R.onAfterRenderQuestionInput=R.addEvent(),R.onAfterRenderPanel=R.addEvent(),R.onFocusInQuestion=R.addEvent(),R.onFocusInPanel=R.addEvent(),R.onShowingChoiceItem=R.addEvent(),R.onChoicesLazyLoad=R.addEvent(),R.onGetChoiceDisplayValue=R.addEvent(),R.onMatrixRowAdded=R.addEvent(),R.onMatrixBeforeRowAdded=R.addEvent(),R.onMatrixRowRemoving=R.addEvent(),R.onMatrixRowRemoved=R.addEvent(),R.onMatrixAllowRemoveRow=R.addEvent(),R.onMatrixCellCreating=R.addEvent(),R.onMatrixCellCreated=R.addEvent(),R.onMatrixAfterCellRender=R.addEvent(),R.onMatrixCellValueChanged=R.addEvent(),R.onMatrixCellValueChanging=R.addEvent(),R.onMatrixCellValidate=R.addEvent(),R.onDynamicPanelAdded=R.addEvent(),R.onDynamicPanelRemoved=R.addEvent(),R.onDynamicPanelRemoving=R.addEvent(),R.onTimer=R.addEvent(),R.onTimerPanelInfoText=R.addEvent(),R.onDynamicPanelItemValueChanged=R.addEvent(),R.onIsAnswerCorrect=R.addEvent(),R.onDragDropAllow=R.addEvent(),R.onScrollingElementToTop=R.addEvent(),R.onLocaleChangedEvent=R.addEvent(),R.onGetQuestionTitleActions=R.addEvent(),R.onGetPanelTitleActions=R.addEvent(),R.onGetPageTitleActions=R.addEvent(),R.onGetPanelFooterActions=R.addEvent(),R.onGetMatrixRowActions=R.addEvent(),R.onElementContentVisibilityChanged=R.addEvent(),R.onGetExpressionDisplayValue=R.addEvent(),R.jsonErrors=null,R.cssValue=null,R.hideRequiredErrors=!1,R._isMobile=!1,R._isDesignMode=!1,R.ignoreValidation=!1,R.isNavigationButtonPressed=!1,R.mouseDownPage=null,R.isCalculatingProgressText=!1,R.isFirstPageRendering=!0,R.isCurrentPageRendering=!0,R.isTriggerIsRunning=!1,R.triggerValues=null,R.triggerKeys=null,R.conditionValues=null,R.isValueChangedOnRunningCondition=!1,R.conditionRunnerCounter=0,R.conditionUpdateVisibleIndexes=!1,R.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,R.isEndLoadingFromJson=null,R.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},R.needRenderIcons=!0,R.skeletonComponentName="sv-skeleton",typeof document<"u"&&(g.stylesManager=new m.StylesManager);var w=function(F){return"<h3>"+F+"</h3>"};return R.createHtmlLocString("completedHtml","completingSurvey",w),R.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",w),R.createHtmlLocString("loadingHtml","loadingSurvey",w),R.createLocalizableString("logo",R,!1),R.createLocalizableString("startSurveyText",R,!1,!0),R.createLocalizableString("pagePrevText",R,!1,!0),R.createLocalizableString("pageNextText",R,!1,!0),R.createLocalizableString("completeText",R,!1,!0),R.createLocalizableString("previewText",R,!1,!0),R.createLocalizableString("editText",R,!1,!0),R.createLocalizableString("questionTitleTemplate",R,!0),R.textPreProcessor=new C.TextPreProcessor,R.textPreProcessor.onProcess=function(F){R.getProcessedTextValue(F)},R.timerModelValue=new h.SurveyTimerModel(R),R.timerModelValue.onTimer=function(F){R.doTimer(F)},R.createNewArray("pages",function(F){R.doOnPageAdded(F)},function(F){R.doOnPageRemoved(F)}),R.createNewArray("triggers",function(F){F.setOwner(R)}),R.createNewArray("calculatedValues",function(F){F.setOwner(R)}),R.createNewArray("completedHtmlOnCondition",function(F){F.locOwner=R}),R.createNewArray("navigateToUrlOnCondition",function(F){F.locOwner=R}),R.registerPropertyChangedHandlers(["locale"],function(){R.onSurveyLocaleChanged()}),R.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){R.onFirstPageIsStartedChanged()}),R.registerPropertyChangedHandlers(["mode"],function(){R.onModeChanged()}),R.registerPropertyChangedHandlers(["progressBarType"],function(){R.updateProgressText()}),R.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){R.resetVisibleIndexes()}),R.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){R.updateState()}),R.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){R.onStateAndCurrentPageChanged()}),R.registerPropertyChangedHandlers(["logo","logoPosition"],function(){R.updateHasLogo()}),R.onGetQuestionNo.onCallbacksChanged=function(){R.resetVisibleIndexes()},R.onProgressText.onCallbacksChanged=function(){R.updateProgressText()},R.onTextMarkdown.onCallbacksChanged=function(){R.locStrsChanged()},R.onProcessHtml.onCallbacksChanged=function(){R.locStrsChanged()},R.onGetQuestionTitle.onCallbacksChanged=function(){R.locStrsChanged()},R.onUpdatePageCssClasses.onCallbacksChanged=function(){R.currentPage&&R.currentPage.updateElementCss()},R.onUpdatePanelCssClasses.onCallbacksChanged=function(){R.currentPage&&R.currentPage.updateElementCss()},R.onUpdateQuestionCssClasses.onCallbacksChanged=function(){R.currentPage&&R.currentPage.updateElementCss()},R.onShowingChoiceItem.onCallbacksChanged=function(){R.rebuildQuestionChoices()},R.navigationBarValue=R.createNavigationBar(),R.navigationBar.locOwner=R,R.onBeforeCreating(),u&&(("string"==typeof u||u instanceof String)&&(u=JSON.parse(u)),u&&u.clientId&&(R.clientId=u.clientId),R.fromJSON(u),R.surveyId&&R.loadSurveyFromService(R.surveyId,R.clientId)),R.onCreating(),M&&R.render(M),R.updateCss(),R.setCalculatedWidthModeUpdater(),R}return S(g,P),Object.defineProperty(g,"cssType",{get:function(){return O.surveyCss.currentType},set:function(u){m.StylesManager.applyTheme(u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"platformName",{get:function(){return g.platform},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"commentPrefix",{get:function(){return c.settings.commentPrefix},set:function(u){c.settings.commentPrefix=u},enumerable:!1,configurable:!0}),g.prototype.createHtmlLocString=function(u,M,R){this.createLocalizableString(u,this,!1,M).onGetLocalizationTextCallback=R},g.prototype.getType=function(){return"survey"},g.prototype.onPropertyValueChanged=function(u,M,R){"questionsOnPageMode"===u&&this.onQuestionsOnPageModeChanged(M)},Object.defineProperty(g.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),g.prototype.render=function(u){void 0===u&&(u=null),this.renderCallback&&this.renderCallback()},g.prototype.updateSurvey=function(u,M){var R=function(){if("model"==F||"children"==F)return"continue";if(0==F.indexOf("on")&&w[F]&&w[F].add){var B=u[F];w[F].add(function($,j){B($,j)})}else w[F]=u[F]},w=this;for(var F in u)R();u&&u.data&&this.onValueChanged.add(function(B,H){u.data[H.name]=H.value})},g.prototype.getCss=function(){return this.css},g.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=(new o.CssClassBuilder).append(this.css.body).append(this.css.completedPage).toString()},g.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss()},Object.defineProperty(g.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,O.surveyCss.getCss())),this.cssValue},set:function(u){this.setCss(u)},enumerable:!1,configurable:!0}),g.prototype.setCss=function(u,M){void 0===M&&(M=!0),M?this.mergeValues(u,this.css):this.cssValue=u,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(g.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssSurveyNavigationButton",{get:function(){return(new o.CssClassBuilder).append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"bodyCss",{get:function(){return(new o.CssClassBuilder).append(this.css.body).append(this.css.bodyWithTimer,"none"!=this.showTimerPanel&&"running"===this.state).append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"completedStateCss",{get:function(){return this.getPropertyValue("completedStateCss","")},enumerable:!1,configurable:!0}),g.prototype.getCompletedStateCss=function(){return(new o.CssClassBuilder).append(this.css.saveData[this.completedState],""!==this.completedState).toString()},g.prototype.getNavigationCss=function(u,M){return(new o.CssClassBuilder).append(u).append(M).toString()},Object.defineProperty(g.prototype,"lazyRendering",{get:function(){return!0===this.lazyRenderingValue},set:function(u){if(this.lazyRendering!==u){this.lazyRenderingValue=u;var M=this.currentPage;M&&M.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||c.settings.lazyRowsRendering},enumerable:!1,configurable:!0}),g.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var u=this.currentPage;u&&Object(a.scrollElementByChildId)(u.id)}},Object.defineProperty(g.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(u){this.setPropertyValue("triggers",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(u){this.setPropertyValue("calculatedValues",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(u){this.setPropertyValue("surveyId",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(u){this.setPropertyValue("surveyPostId",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(u){this.setPropertyValue("clientId",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(u){this.setPropertyValue("cookieName",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext",!1)},set:function(u){this.setPropertyValue("sendResultOnPageNext",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving",!1)},set:function(u){this.setPropertyValue("surveyShowDataSaving",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(u){this.setPropertyValue("focusFirstQuestionAutomatic",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(u){this.setPropertyValue("focusOnFirstError",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(u){(!0===u||void 0===u)&&(u="bottom"),!1===u&&(u="none"),this.setPropertyValue("showNavigationButtons",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(u){this.setPropertyValue("showPrevButton",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(u){this.setPropertyValue("showTitle",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(u){this.setPropertyValue("showPageTitles",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(u){this.setPropertyValue("showCompletedPage",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(u){this.setPropertyValue("navigateToUrl",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(u){this.setPropertyValue("navigateToUrlOnCondition",u)},enumerable:!1,configurable:!0}),g.prototype.getNavigateToUrl=function(){var u=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),M=u?u.url:this.navigateToUrl;return M&&(M=this.processText(M,!0)),M},g.prototype.navigateTo=function(){var M={url:this.getNavigateToUrl()};this.onNavigateToUrl.fire(this,M),M.url&&!(typeof window>"u")&&window.location&&(window.location.href=M.url)},Object.defineProperty(g.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(u){this.setPropertyValue("requiredText",u)},enumerable:!1,configurable:!0}),g.prototype.beforeSettingQuestionErrors=function(u,M){this.maakeRequiredErrorsInvisibgle(M),this.onSettingQuestionErrors.fire(this,{question:u,errors:M})},g.prototype.beforeSettingPanelErrors=function(u,M){this.maakeRequiredErrorsInvisibgle(M)},g.prototype.maakeRequiredErrorsInvisibgle=function(u){if(this.hideRequiredErrors)for(var M=0;M<u.length;M++){var R=u[M].getErrorType();("required"==R||"requireoneanswer"==R)&&(u[M].visible=!1)}},Object.defineProperty(g.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(u){this.setPropertyValue("questionStartIndex",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(u){this.setPropertyValue("storeOthersAsComment",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(u){this.setPropertyValue("maxTextLength",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(u){this.setPropertyValue("maxOthersLength",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic",!1)},set:function(u){this.setPropertyValue("goNextPageAutomatic",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(u){this.setPropertyValue("allowCompleteSurveyAutomatic",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(u){this.setPropertyValue("checkErrorsMode",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(u){this.setPropertyValue("autoGrowComment",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(u){this.setPropertyValue("textUpdateMode",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(u){!0===u&&(u="onComplete"),!1===u&&(u="none"),this.setPropertyValue("clearInvisibleValues",u)},enumerable:!1,configurable:!0}),g.prototype.clearIncorrectValues=function(u){void 0===u&&(u=!1);for(var M=0;M<this.pages.length;M++)this.pages[M].clearIncorrectValues();if(u){var R=this.data,w=!1;for(var F in R)if(!this.getQuestionByValueName(F)&&!this.iscorrectValueWithPostPrefix(F,c.settings.commentPrefix)&&!this.iscorrectValueWithPostPrefix(F,c.settings.matrixTotalValuePostFix)){var B=this.getCalculatedValueByName(F);B&&B.includeIntoResult||(w=!0,delete R[F])}w&&(this.data=R)}},g.prototype.iscorrectValueWithPostPrefix=function(u,M){return u.indexOf(M)===u.length-M.length&&!!this.getQuestionByValueName(u.substring(0,u.indexOf(M)))},Object.defineProperty(g.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(u){this.setPropertyValue("keepIncorrectValues",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locale",{get:function(){return this.getPropertyValue("locale",f.surveyLocalization.currentLocale)},set:function(u){u===f.surveyLocalization.defaultLocale&&!f.surveyLocalization.currentLocale&&(u=""),this.setPropertyValue("locale",u)},enumerable:!1,configurable:!0}),g.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},g.prototype.getUsedLocales=function(){var u=new Array;this.addUsedLocales(u);var M=u.indexOf("default");if(M>-1){var R=f.surveyLocalization.defaultLocale,w=u.indexOf(R);w>-1&&u.splice(w,1),M=u.indexOf("default"),u[M]=R}return u},g.prototype.localeChanged=function(){for(var u=0;u<this.pages.length;u++)this.pages[u].localeChanged()},g.prototype.getLocale=function(){return this.locale},g.prototype.locStrsChanged=function(){if(P.prototype.locStrsChanged.call(this),this.currentPage){this.isShowStartingPage||this.updateProgressText();var u=this.activePage;u&&u.locStrsChanged();for(var M=this.visiblePages,R=0;R<M.length;R++)M[R].navigationLocStrChanged();this.navigationBar.locStrsChanged()}},g.prototype.getMarkdownHtml=function(u,M){return this.getSurveyMarkdownHtml(this,u,M)},g.prototype.getRenderer=function(u){return this.getRendererForString(this,u)},g.prototype.getRendererContext=function(u){return this.getRendererContextForString(this,u)},g.prototype.getRendererForString=function(u,M){var w={element:u,name:M,renderAs:this.getBuiltInRendererForString(u,M)};return this.onTextRenderAs.fire(this,w),w.renderAs},g.prototype.getRendererContextForString=function(u,M){return M},g.prototype.getExpressionDisplayValue=function(u,M,R){var w={question:u,value:M,displayValue:R};return this.onGetExpressionDisplayValue.fire(this,w),w.displayValue},g.prototype.getBuiltInRendererForString=function(u,M){if(this.isDesignMode)return l.LocalizableString.editableRenderer},g.prototype.getProcessedText=function(u){return this.processText(u,!0)},g.prototype.getLocString=function(u){return this.getLocalizationString(u)},g.prototype.getErrorCustomText=function(u,M){return this.getSurveyErrorCustomText(this,u,M)},g.prototype.getSurveyErrorCustomText=function(u,M,R){var w={text:M,name:R.getErrorType(),obj:u,error:R};return this.onErrorCustomText.fire(this,w),w.text},Object.defineProperty(g.prototype,"emptySurveyText",{get:function(){return this.getLocalizationString("emptySurvey")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(u){this.setLocalizableStringText("logo",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"logoWidth",{get:function(){var u=this.getPropertyValue("logoWidth");return Object(a.getSize)(u)},set:function(u){this.setPropertyValue("logoWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"logoHeight",{get:function(){var u=this.getPropertyValue("logoHeight");return Object(a.getSize)(u)},set:function(u){this.setPropertyValue("logoHeight",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(u){this.setPropertyValue("logoPosition",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),g.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&"none"!==this.logoPosition)},Object.defineProperty(g.prototype,"isLogoBefore",{get:function(){return!this.isDesignMode&&this.renderedHasLogo&&("left"===this.logoPosition||"top"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&("right"===this.logoPosition||"bottom"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"logoClassNames",{get:function(){return(new o.CssClassBuilder).append(this.css.logo).append({left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"}[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(u){this.setPropertyValue("logoFit",u)},enumerable:!1,configurable:!0}),g.prototype.setIsMobile=function(u){void 0===u&&(u=!0),this.isMobile!==u&&(this._isMobile=u,this.updateCss(),this.getAllQuestions().map(function(M){return M.isMobile=u}))},Object.defineProperty(g.prototype,"isMobile",{get:function(){return this._isMobile},enumerable:!1,configurable:!0}),g.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(g.prototype,"titleMaxWidth",{get:function(){return Object(a.isMobile)()||this.isMobile||this.isValueEmpty(this.isLogoImageChoosen())||c.settings.supportCreatorV2||"left"!==this.logoPosition&&"right"!==this.logoPosition?"":"calc(100% - 5px - 2em - "+this.logoWidth+")"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(u){this.setLocalizableStringText("completedHtml",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(u){this.setPropertyValue("completedHtmlOnCondition",u)},enumerable:!1,configurable:!0}),g.prototype.runExpression=function(u){if(!u)return null;var M=this.getFilteredValues(),R=this.getFilteredProperties();return new d.ExpressionRunner(u).run(M,R)},g.prototype.runCondition=function(u){if(!u)return!1;var M=this.getFilteredValues(),R=this.getFilteredProperties();return new d.ConditionRunner(u).run(M,R)},g.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(g.prototype,"renderedCompletedHtml",{get:function(){var u=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return u?u.html:this.completedHtml},enumerable:!1,configurable:!0}),g.prototype.getExpressionItemOnRunCondition=function(u){if(0==u.length)return null;for(var M=this.getFilteredValues(),R=this.getFilteredProperties(),w=0;w<u.length;w++)if(u[w].runCondition(M,R))return u[w];return null},Object.defineProperty(g.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(u){this.setLocalizableStringText("completedBeforeHtml",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(u){this.setLocalizableStringText("loadingHtml",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),g.prototype.addNavigationItem=function(u){return u.component||(u.component="sv-nav-btn"),u.innerCss||(u.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(u)},Object.defineProperty(g.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(u){this.setLocalizableStringText("startSurveyText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(u){this.setLocalizableStringText("pagePrevText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(u){this.setLocalizableStringText("pageNextText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(u){this.setLocalizableStringText("completeText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(u){this.setLocalizableStringText("previewText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(u){this.setLocalizableStringText("editText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),g.prototype.getElementTitleTagName=function(u,M){if(this.onGetTitleTagName.isEmpty)return M;var R={element:u,tagName:M};return this.onGetTitleTagName.fire(this,R),R.tagName},Object.defineProperty(g.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(u){"numRequireTitle"!==u&&"requireNumTitle"!==u&&"numTitle"!=u&&(u="numTitleRequire"),this.setPropertyValue("questionTitlePattern",u)},enumerable:!1,configurable:!0}),g.prototype.getQuestionTitlePatternOptions=function(){var u=new Array,M=this.getLocalizationString("questionTitlePatternText"),R=this.questionStartIndex?this.questionStartIndex:"1.";return u.push({value:"numTitleRequire",text:R+" "+M+" "+this.requiredText}),u.push({value:"numRequireTitle",text:R+" "+this.requiredText+" "+M}),u.push({value:"requireNumTitle",text:this.requiredText+" "+R+" "+M}),u.push({value:"numTitle",text:R+" "+M}),u},Object.defineProperty(g.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(u){this.setLocalizableStringText("questionTitleTemplate",u),this.questionTitlePattern=this.getNewTitlePattern(u),this.questionStartIndex=this.getNewQuestionTitleElement(u,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(u,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),g.prototype.getNewTitlePattern=function(u){if(u){for(var M=[];u.indexOf("{")>-1;){var R=(u=u.substring(u.indexOf("{")+1)).indexOf("}");if(R<0)break;M.push(u.substring(0,R)),u=u.substring(R+1)}if(M.length>1){if("require"==M[0])return"requireNumTitle";if("require"==M[1]&&3==M.length)return"numRequireTitle";if(M.indexOf("require")<0)return"numTitle"}if(1==M.length&&"title"==M[0])return"numTitle"}return"numTitleRequire"},g.prototype.getNewQuestionTitleElement=function(u,M,R,w){if(M="{"+M+"}",!u||u.indexOf(M)<0)return R;for(var F=u.indexOf(M),B="",H="",$=F-1;$>=0&&"}"!=u[$];$--);for($<F-1&&(B=u.substring($+1,F)),$=F+=M.length;$<u.length&&"{"!=u[$];$++);for($>F&&(H=u.substring(F,$)),$=0;$<B.length&&B.charCodeAt($)<33;)$++;for(B=B.substring($),$=H.length-1;$>=0&&H.charCodeAt($)<33;)$--;return H=H.substring(0,$+1),B||H?B+(R||w)+H:R},Object.defineProperty(g.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),g.prototype.getUpdatedQuestionTitle=function(u,M){if(this.onGetQuestionTitle.isEmpty)return M;var R={question:u,title:M};return this.onGetQuestionTitle.fire(this,R),R.title},g.prototype.getUpdatedQuestionNo=function(u,M){if(this.onGetQuestionNo.isEmpty)return M;var R={question:u,no:M};return this.onGetQuestionNo.fire(this,R),R.no},Object.defineProperty(g.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers",!1)},set:function(u){u!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",u),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(u){!0===u&&(u="on"),!1===u&&(u="off"),(u="onpage"===(u=u.toLowerCase())?"onPage":u)!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",u),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(u){this.setPropertyValue("showProgressBar",u.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(u){"correctquestion"===u&&(u="correctQuestion"),"requiredquestion"===u&&(u="requiredQuestion"),this.setPropertyValue("progressBarType",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowProgressBarOnTop",{get:function(){return!!this.canShowProresBar()&&("top"===this.showProgressBar||"both"===this.showProgressBar)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowProgressBarOnBottom",{get:function(){return!!this.canShowProresBar()&&("bottom"===this.showProgressBar||"both"===this.showProgressBar)},enumerable:!1,configurable:!0}),g.prototype.canShowProresBar=function(){return!this.isShowingPreview||"showAllQuestions"!=this.showPreviewBeforeComplete},Object.defineProperty(g.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(u){this.setPropertyValue("questionTitleLocation",u.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),g.prototype.updateElementCss=function(u){this.startedPage&&this.startedPage.updateElementCss(u);for(var M=this.visiblePages,R=0;R<M.length;R++)M[R].updateElementCss(u)},Object.defineProperty(g.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(u){this.setPropertyValue("questionErrorLocation",u.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(u){this.setPropertyValue("questionDescriptionLocation",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(u){(u=u.toLowerCase())!=this.mode&&("edit"!=u&&"display"!=u||this.setPropertyValue("mode",u))},enumerable:!1,configurable:!0}),g.prototype.onModeChanged=function(){for(var u=0;u<this.pages.length;u++){var M=this.pages[u];M.setPropertyValue("isReadOnly",M.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(g.prototype,"data",{get:function(){for(var u={},M=this.getValuesKeys(),R=0;R<M.length;R++){var w=M[R],F=this.getDataValueCore(this.valuesHash,w);void 0!==F&&(u[w]=F)}return this.setCalculatedValuesIntoResult(u),u},set:function(u){this.valuesHash={},this.setDataCore(u)},enumerable:!1,configurable:!0}),g.prototype.mergeData=function(u){!u||this.setDataCore(u)},g.prototype.setDataCore=function(u){if(u)for(var M in u)this.setDataValueCore(this.valuesHash,M,u[M]);this.updateAllQuestionsValue(),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue()},Object.defineProperty(g.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(u){var M=this;if(this.editingObj!=u&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=u,!this.isDisposed)){if(!u)for(var R=this.getAllQuestions(),w=0;w<R.length;w++)R[w].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(F,B){!y.Serializer.hasOriginalProperty(M.editingObj,B.name)||M.updateOnSetValue(B.name,M.editingObj[B.name],B.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),g.prototype.setCalculatedValuesIntoResult=function(u){for(var M=0;M<this.calculatedValues.length;M++){var R=this.calculatedValues[M];R.includeIntoResult&&R.name&&void 0!==this.getVariable(R.name)&&(u[R.name]=this.getVariable(R.name))}},g.prototype.getAllValues=function(){return this.data},g.prototype.getPlainData=function(u){u||(u={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var M=[],R=[];if(this.getAllQuestions().forEach(function($){var j=$.getPlainData(u);j&&(M.push(j),R.push($.valueName||$.name))}),u.includeValues)for(var w=this.getValuesKeys(),F=0;F<w.length;F++){var B=w[F];if(-1==R.indexOf(B)){var H=this.getDataValueCore(this.valuesHash,B);H&&M.push({name:B,title:B,value:H,displayValue:H,isNode:!1,getString:function($){return"object"==typeof $?JSON.stringify($):$}})}}return M},g.prototype.getFilteredValues=function(){var u={};for(var M in this.variablesHash)u[M]=this.variablesHash[M];this.addCalculatedValuesIntoFilteredValues(u);for(var R=this.getValuesKeys(),w=0;w<R.length;w++)u[M=R[w]]=this.getDataValueCore(this.valuesHash,M);return u},g.prototype.addCalculatedValuesIntoFilteredValues=function(u){for(var M=this.calculatedValues,R=0;R<M.length;R++)u[M[R].name]=M[R].value},g.prototype.getFilteredProperties=function(){return{survey:this}},g.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var u=y.Serializer.getPropertiesByObj(this.editingObj),M=[],R=0;R<u.length;R++)M.push(u[R].name);return M},g.prototype.getDataValueCore=function(u,M){return this.editingObj?y.Serializer.getObjPropertyValue(this.editingObj,M):this.getDataFromValueHash(u,M)},g.prototype.setDataValueCore=function(u,M,R){this.editingObj?y.Serializer.setObjPropertyValue(this.editingObj,M,R):this.setDataToValueHash(u,M,R)},g.prototype.deleteDataValueCore=function(u,M){this.editingObj?this.editingObj[M]=null:this.deleteDataFromValueHash(u,M)},g.prototype.getDataFromValueHash=function(u,M){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(u,M):u[M]},g.prototype.setDataToValueHash=function(u,M,R){this.valueHashSetDataCallback?this.valueHashSetDataCallback(u,M,R):u[M]=R},g.prototype.deleteDataFromValueHash=function(u,M){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(u,M):delete u[M]},Object.defineProperty(g.prototype,"comments",{get:function(){for(var u={},M=this.getValuesKeys(),R=0;R<M.length;R++){var w=M[R];w.indexOf(this.commentPrefix)>0&&(u[w]=this.getDataValueCore(this.valuesHash,w))}return u},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var u=new Array,M=0;M<this.pages.length;M++)this.isPageInVisibleList(this.pages[M])&&u.push(this.pages[M]);return u},enumerable:!1,configurable:!0}),g.prototype.isPageInVisibleList=function(u){return this.isDesignMode||u.isVisible&&!u.isStarted},Object.defineProperty(g.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"startedPage",{get:function(){var u=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return u&&(u.onFirstRendering(),u.setWasShown(!0)),u},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(u){if(!this.isLoadingFromJson){var M=this.getPageByObject(u);if((!u||M)&&(M||!this.isCurrentPageAvailable)&&!(null!=M&&this.visiblePages.indexOf(M)<0)&&M!=this.currentPage){var w=this.currentPage;!this.currentPageChanging(M,w)||(this.setPropertyValue("currentPage",M),M&&(M.onFirstRendering(),M.updateCustomWidgets(),M.setWasShown(!0)),this.locStrsChanged(),this.currentPageChanged(M,w))}}},enumerable:!1,configurable:!0}),g.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(g.prototype,"isCurrentPageAvailable",{get:function(){var u=this.currentPage;return!!u&&this.isPageInVisibleList(u)&&this.isPageExistsInSurvey(u)},enumerable:!1,configurable:!0}),g.prototype.isPageExistsInSurvey=function(u){return this.pages.indexOf(u)>-1||!!this.onContainsPageCallback&&this.onContainsPageCallback(u)},Object.defineProperty(g.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowStartingPage",{get:function(){return"starting"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowingPage",{get:function(){return"running"==this.state||"preview"==this.state||this.isShowStartingPage},enumerable:!1,configurable:!0}),g.prototype.updateActivePage=function(){this.setPropertyValue("activePage",this.isShowStartingPage?this.startedPage:this.currentPage)},g.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},g.prototype.getPageByObject=function(u){if(!u)return null;if(u.getType&&"page"==u.getType())return u;if("string"==typeof u||u instanceof String)return this.getPageByName(String(u));if(!isNaN(u)){var M=Number(u),R=this.visiblePages;return u<0||u>=R.length?null:R[M]}return u},Object.defineProperty(g.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(u){var M=this.visiblePages;u<0||u>=M.length||(this.currentPage=M[u])},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(u){this.setPropertyValue("questionsOrder",u)},enumerable:!1,configurable:!0}),g.prototype.focusFirstQuestion=function(){if(!this.isFocusingQuestion){var u=this.activePage;u&&(u.scrollToTop(),u.focusFirstQuestion())}},g.prototype.scrollToTopOnPageChange=function(u){void 0===u&&(u=!0);var M=this.activePage;!M||(u&&M.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.isFocusingQuestion&&(M.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(g.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),g.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},g.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(g.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(u){this.setPropertyValue("isCompleted",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(u){this.isShowingPreview!=u&&(this.setPropertyValue("isShowingPreview",u),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(u){this.setPropertyValue("isStartedState",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(u){this.setPropertyValue("isCompletedBefore",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(u){this.setPropertyValue("isLoading",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),g.prototype.setCompletedState=function(u,M){this.setPropertyValue("completedState",u),M||("saving"==u&&(M=this.getLocalizationString("savingData")),"error"==u&&(M=this.getLocalizationString("savingDataError")),"success"==u&&(M=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",M),this.setPropertyValue("completedStateCss",this.getCompletedStateCss())},g.prototype.clear=function(u,M){void 0===u&&(u=!0),void 0===M&&(M=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.canBeCompletedByTrigger=!1,u&&(this.data=null,this.variablesHash={}),this.timerModel.spent=0;for(var R=0;R<this.pages.length;R++)this.pages[R].timeSpent=0,this.pages[R].setWasShown(!1),this.pages[R].passed=!1;this.onFirstPageIsStartedChanged(),M&&(this.currentPage=this.firstVisiblePage),u&&this.updateValuesWithDefaults()},g.prototype.mergeValues=function(u,M){Object(a.mergeValues)(u,M)},g.prototype.updateValuesWithDefaults=function(){if(!this.isDesignMode&&!this.isLoading)for(var u=0;u<this.pages.length;u++)for(var M=this.pages[u].questions,R=0;R<M.length;R++)M[R].updateValueWithDefaults()},g.prototype.updateCustomWidgets=function(u){!u||u.updateCustomWidgets()},g.prototype.currentPageChanging=function(u,M){var R={oldCurrentPage:M,newCurrentPage:u,allowChanging:!0,isNextPage:this.isNextPage(u,M),isPrevPage:this.isPrevPage(u,M)};return this.onCurrentPageChanging.fire(this,R),R.allowChanging&&(this.isCurrentPageRendering=!0),R.allowChanging},g.prototype.currentPageChanged=function(u,M){var R=this.isNextPage(u,M);R&&(M.passed=!0),this.onCurrentPageChanged.fire(this,{oldCurrentPage:M,newCurrentPage:u,isNextPage:R,isPrevPage:this.isPrevPage(u,M)})},g.prototype.isNextPage=function(u,M){return!(!u||!M)&&u.visibleIndex==M.visibleIndex+1},g.prototype.isPrevPage=function(u,M){return!(!u||!M)&&u.visibleIndex+1==M.visibleIndex},g.prototype.getProgress=function(){if(null==this.currentPage)return 0;if("pages"!==this.progressBarType){var u=this.getProgressInfo();return"requiredQuestions"===this.progressBarType?u.requiredQuestionCount>=1?Math.ceil(100*u.requiredAnsweredQuestionCount/u.requiredQuestionCount):100:u.questionCount>=1?Math.ceil(100*u.answeredQuestionCount/u.questionCount):100}var M=this.visiblePages,R=M.indexOf(this.currentPage)+1;return Math.ceil(100*R/M.length)},Object.defineProperty(g.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var u=this.currentPage;return u?"show"===u.navigationButtonsVisibility?"bottom":"hide"===u.navigationButtonsVisibility?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),g.prototype.getIsNavigationButtonsShowingOn=function(u){var M=this.isNavigationButtonsShowing;return"both"==M||M==u},Object.defineProperty(g.prototype,"isEditMode",{get:function(){return"edit"==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isDisplayMode",{get:function(){return"display"==this.mode||"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isUpdateValueTextOnTyping",{get:function(){return"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),g.prototype.setDesignMode=function(u){this._isDesignMode=u,this.onQuestionsOnPageModeChanged("standard")},Object.defineProperty(g.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(u){var M=this.visiblePages;this.setPropertyValue("showInvisibleElements",u),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(M))},enumerable:!1,configurable:!0}),g.prototype.updateAllElementsVisibility=function(u){for(var M=0;M<this.pages.length;M++){var R=this.pages[M];R.updateElementVisibility(),u.indexOf(R)>-1!=R.isVisible&&this.onPageVisibleChanged.fire(this,{page:R,visible:R.isVisible})}},Object.defineProperty(g.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&"showAnsweredQuestions"==this.showPreviewBeforeComplete},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasCookie",{get:function(){if(!this.cookieName||typeof document>"u")return!1;var u=document.cookie;return u&&u.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),g.prototype.setCookie=function(){!this.cookieName||typeof document>"u"||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},g.prototype.deleteCookie=function(){!this.cookieName||(document.cookie=this.cookieName+"=;")},g.prototype.nextPage=function(){return!this.isLastPage&&this.doCurrentPageComplete(!1)},g.prototype.hasErrorsOnNavigate=function(u){var M=this;if(this.ignoreValidation||!this.isEditMode)return!1;var R=function(w){w||M.doCurrentPageCompleteCore(u)};return"onComplete"===this.checkErrorsMode?!!this.isLastPage&&!1!==this.hasErrors(!0,!0,R):!1!==this.hasCurrentPageErrors(R)},g.prototype.checkForAsyncQuestionValidation=function(u,M){var R=this;this.clearAsyncValidationQuesitons();for(var w=function(){if(u[B].isRunningValidators){var H=u[B];H.onCompletedAsyncValidators=function($){R.onCompletedAsyncQuestionValidators(H,M,$)},F.asyncValidationQuesitons.push(u[B])}},F=this,B=0;B<u.length;B++)w();return this.asyncValidationQuesitons.length>0},g.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var u=this.asyncValidationQuesitons,M=0;M<u.length;M++)u[M].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},g.prototype.onCompletedAsyncQuestionValidators=function(u,M,R){if(R){if(this.clearAsyncValidationQuesitons(),M(!0),this.focusOnFirstError&&u&&u.page&&u.page===this.currentPage){for(var w=this.currentPage.questions,F=0;F<w.length;F++)if(w[F]!==u&&w[F].errors.length>0)return;u.focus(!0)}}else{for(var B=this.asyncValidationQuesitons,H=0;H<B.length;H++)if(B[H].isRunningValidators)return;M(!1)}},Object.defineProperty(g.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),g.prototype.hasCurrentPageErrors=function(u){return this.hasPageErrors(void 0,u)},g.prototype.hasPageErrors=function(u,M){return u||(u=this.activePage),!!u&&(!!this.checkIsPageHasErrors(u)||!(!M||!this.checkForAsyncQuestionValidation(u.questions,function(R){return M(R)}))&&void 0)},g.prototype.hasErrors=function(u,M,R){void 0===u&&(u=!0),void 0===M&&(M=!1),R&&(u=!0);for(var w=this.visiblePages,F=null,B=!1,H=0;H<w.length;H++)w[H].hasErrors(u,!1)&&(F||(F=w[H]),B=!0);if(M&&F){this.currentPage=F;var $=F.questions;for(H=0;H<$.length;H++)if($[H].errors.length>0){$[H].focus(!0);break}}return B||!R?B:!!this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(j){return R(j)})&&void 0},g.prototype.ensureUniqueNames=function(u){if(void 0===u&&(u=null),null==u)for(var M=0;M<this.pages.length;M++)this.ensureUniqueName(this.pages[M]);else this.ensureUniqueName(u)},g.prototype.ensureUniqueName=function(u){if(u.isPage&&this.ensureUniquePageName(u),u.isPanel&&this.ensureUniquePanelName(u),u.isPage||u.isPanel)for(var M=u.elements,R=0;R<M.length;R++)this.ensureUniqueNames(M[R]);else this.ensureUniqueQuestionName(u)},g.prototype.ensureUniquePageName=function(u){var M=this;return this.ensureUniqueElementName(u,function(R){return M.getPageByName(R)})},g.prototype.ensureUniquePanelName=function(u){var M=this;return this.ensureUniqueElementName(u,function(R){return M.getPanelByName(R)})},g.prototype.ensureUniqueQuestionName=function(u){var M=this;return this.ensureUniqueElementName(u,function(R){return M.getQuestionByName(R)})},g.prototype.ensureUniqueElementName=function(u,M){var R=M(u.name);if(R&&R!=u){for(var w=this.getNewName(u.name);M(w);)w=this.getNewName(u.name);u.name=w}},g.prototype.getNewName=function(u){for(var M=u.length;M>0&&u[M-1]>="0"&&u[M-1]<="9";)M--;var R=u.substring(0,M),w=0;return M<u.length&&(w=parseInt(u.substring(M))),R+ ++w},g.prototype.checkIsCurrentPageHasErrors=function(u){return void 0===u&&(u=void 0),this.checkIsPageHasErrors(this.activePage,u)},g.prototype.checkIsPageHasErrors=function(u,M){if(void 0===M&&(M=void 0),void 0===M&&(M=this.focusOnFirstError),!u)return!0;var R=u.hasErrors(!0,M);return this.fireValidatedErrorsOnPage(u),R},g.prototype.fireValidatedErrorsOnPage=function(u){if(!this.onValidatedErrorsOnCurrentPage.isEmpty&&u){for(var M=u.questions,R=new Array,w=new Array,F=0;F<M.length;F++){var B=M[F];if(B.errors.length>0){R.push(B);for(var H=0;H<B.errors.length;H++)w.push(B.errors[H])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:R,errors:w,page:u})}},g.prototype.prevPage=function(){if(this.isFirstPage||"starting"===this.state)return!1;this.resetNavigationButton();var u=this.visiblePages,M=u.indexOf(this.currentPage);return this.currentPage=u[M-1],!0},g.prototype.completeLastPage=function(){var u=this.doCurrentPageComplete(!0);return u&&this.cancelPreview(),u},g.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},g.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},g.prototype.nextPageUIClick=function(){this.mouseDownPage&&this.mouseDownPage!==this.activePage||(this.mouseDownPage=null,this.nextPage())},g.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},g.prototype.showPreview=function(){return this.resetNavigationButton(),!this.hasErrorsOnNavigate(!0)&&!this.doServerValidation(!0,!0)&&(this.showPreviewCore(),!0)},g.prototype.showPreviewCore=function(){var u={allowShowPreview:!0};this.onShowingPreview.fire(this,u),this.isShowingPreview=u.allowShowPreview},g.prototype.cancelPreview=function(u){void 0===u&&(u=null),this.isShowingPreview&&(this.isShowingPreview=!1,n.Helpers.isValueEmpty(u)&&this.visiblePageCount>0&&(u=this.visiblePageCount-1),null!==u&&(this.currentPage=u))},g.prototype.cancelPreviewByPage=function(u){this.cancelPreview(u.originalPage)},g.prototype.doCurrentPageComplete=function(u){return!this.isValidatingOnServer&&(this.resetNavigationButton(),!this.hasErrorsOnNavigate(u))&&this.doCurrentPageCompleteCore(u)},g.prototype.doCurrentPageCompleteCore=function(u){return!this.doServerValidation(u)&&(u?(this.currentPage.passed=!0,this.doComplete()):(this.doNextPage(),!0))},Object.defineProperty(g.prototype,"isSinglePage",{get:function(){return"singlePage"==this.questionsOnPageMode},set:function(u){this.questionsOnPageMode=u?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(u){this.setPropertyValue("questionsOnPageMode",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted",!1)},set:function(u){this.setPropertyValue("firstPageIsStarted",u)},enumerable:!1,configurable:!0}),g.prototype.isPageStarted=function(u){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===u},Object.defineProperty(g.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(u){this.setPropertyValue("showPreviewBeforeComplete",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowPreviewBeforeComplete",{get:function(){var u=this.showPreviewBeforeComplete;return"showAllQuestions"==u||"showAnsweredQuestions"==u},enumerable:!1,configurable:!0}),g.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},g.prototype.onShowingPreviewChanged=function(){this.isDesignMode||(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOrigionalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.currentPageNo=0)},g.prototype.onQuestionsOnPageModeChanged=function(u){this.isShowingPreview||("standard"==this.questionsOnPageMode||this.isDesignMode?(this.origionalPages&&this.restoreOrigionalPages(this.origionalPages),this.origionalPages=void 0):((!u||"standard"==u)&&(this.origionalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},g.prototype.restoreOrigionalPages=function(u){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var M=0;M<u.length;M++)this.pages.push(u[M])},g.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},g.prototype.setupPagesForPageModes=function(u){this.questionHashesClear();var M=this.getPageStartIndex();P.prototype.startLoadingFromJson.call(this);var R=this.createPagesForQuestionOnPageMode(u,M);this.pages.splice(M,this.pages.length-M);for(var F=0;F<R.length;F++)this.pages.push(R[F]);for(P.prototype.endLoadingFromJson.call(this),F=0;F<R.length;F++)R[F].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage()},g.prototype.createPagesForQuestionOnPageMode=function(u,M){return u?[this.createSinglePage(M)]:this.createPagesForEveryQuestion(M)},g.prototype.createSinglePage=function(u){var M=this.createNewPage("all");M.setSurveyImpl(this);for(var R=u;R<this.pages.length;R++){var w=this.pages[R],F=y.Serializer.createClass("panel");F.originalPage=w,M.addPanel(F);var B=(new y.JsonObject).toJsonObject(w);(new y.JsonObject).toObject(B,F),this.showPageTitles||(F.title="")}return M},g.prototype.createPagesForEveryQuestion=function(u){for(var M=[],R=u;R<this.pages.length;R++){var w=this.pages[R];w.setWasShown(!0);for(var F=0;F<w.elements.length;F++){var B=w.elements[F],H=y.Serializer.createClass(B.getType());if(H){var $=new y.JsonObject;$.lightSerializing=!0;var j=$.toJsonObject(w),V=y.Serializer.createClass(w.getType());V.fromJSON(j),V.name=B.name,V.setSurveyImpl(this),M.push(V);var Q=(new y.JsonObject).toJsonObject(B);V.addElement(H),(new y.JsonObject).toObject(Q,H);for(var ie=0;ie<V.questions.length;ie++)this.questionHashesAdded(V.questions[ie])}}}return M},Object.defineProperty(g.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),g.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(g.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),g.prototype.updateIsFirstLastPageState=function(){var u=this.currentPage;this.setPropertyValue("isFirstPage",!!u&&u===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!u&&u===this.lastVisiblePage)},g.prototype.calcIsShowPrevButton=function(){return!(this.isFirstPage||!this.showPrevButton||"running"!==this.state)&&this.getPageMaxTimeToFinish(this.visiblePages[this.currentPageNo-1])<=0},g.prototype.calcIsShowNextButton=function(){return"running"===this.state&&!this.isLastPage&&!this.canBeCompletedByTrigger},g.prototype.calcIsCompleteButtonVisible=function(){return this.isEditMode&&("running"===this.state&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||"preview"===this.state)},g.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"running"==this.state&&this.isLastPage},g.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"preview"==this.state},Object.defineProperty(g.prototype,"firstVisiblePage",{get:function(){for(var u=this.pages,M=0;M<u.length;M++)if(this.isPageInVisibleList(u[M]))return u[M];return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"lastVisiblePage",{get:function(){for(var u=this.pages,M=u.length-1;M>=0;M--)if(this.isPageInVisibleList(u[M]))return u[M];return null},enumerable:!1,configurable:!0}),g.prototype.doComplete=function(u){void 0===u&&(u=!1);var M={allowComplete:!0,isCompleteOnTrigger:u};if(this.onCompleting.fire(this,M),!M.allowComplete)return this.isCompleted=!1,!1;var R=this.hasCookie;this.stopTimer(),this.setCompleted(),this.clearUnusedValues(),this.setCookie();var w=this,F=!1;return this.onComplete.fire(this,{isCompleteOnTrigger:u,showDataSaving:function(H){F=!0,w.setCompletedState("saving",H)},showDataSavingError:function(H){w.setCompletedState("error",H)},showDataSavingSuccess:function(H){w.setCompletedState("success",H),w.navigateTo()},showDataSavingClear:function(H){w.setCompletedState("","")}}),!R&&this.surveyPostId&&this.sendResult(),F||this.navigateTo(),!0},g.prototype.start=function(){return!(!this.firstPageIsStarted||this.checkIsPageHasErrors(this.startedPage,!0)||(this.isStartedState=!1,this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),0))},Object.defineProperty(g.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),g.prototype.setIsValidatingOnServer=function(u){u!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",u),this.onIsValidatingOnServerChanged())},g.prototype.createServerValidationOptions=function(u,M){var R=this,w={data:{},errors:{},survey:this,complete:function(){R.completeServerValidation(w,M)}};if(u&&"onComplete"===this.checkErrorsMode)w.data=this.data;else for(var F=this.activePage.questions,B=0;B<F.length;B++){var H=F[B];if(H.visible){var $=this.getValue(H.getValueName());this.isValueEmpty($)||(w.data[H.getValueName()]=$)}}return w},g.prototype.onIsValidatingOnServerChanged=function(){},g.prototype.doServerValidation=function(u,M){var R=this;if(void 0===M&&(M=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!u&&"onComplete"===this.checkErrorsMode)return!1;this.setIsValidatingOnServer(!0);var w="function"==typeof this.onServerValidateQuestions;return this.serverValidationEventCount=w?1:this.onServerValidateQuestions.length,w?this.onServerValidateQuestions(this,this.createServerValidationOptions(u,M)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return R.createServerValidationOptions(u,M)}),!0},g.prototype.completeServerValidation=function(u,M){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,u&&u.errors&&0===Object.keys(u.errors).length))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),u||u.survey)){var R=u.survey,w=!1;if(u.errors){var F=this.focusOnFirstError;for(var B in u.errors){var H=R.getQuestionByName(B);H&&H.errors&&(w=!0,H.addError(new _.CustomError(u.errors[B],this)),F&&(F=!1,H.page&&(this.currentPage=H.page),H.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}w||(M?this.showPreviewCore():R.isLastPage?R.doComplete():R.doNextPage())}},g.prototype.doNextPage=function(){var u=this.currentPage;if(this.checkOnPageTriggers(),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),u===this.currentPage){var M=this.visiblePages,R=M.indexOf(this.currentPage);this.currentPage=M[R+1]}},g.prototype.setCompleted=function(){this.isCompleted=!0},g.prototype.canBeCompleted=function(){!c.settings.changeNavigationButtonsOnCompleteTrigger||this.canBeCompletedByTrigger||(this.canBeCompletedByTrigger=!0,this.updateButtonsVisibility())},Object.defineProperty(g.prototype,"processedCompletedHtml",{get:function(){var u=this.renderedCompletedHtml;return u?this.processHtml(u):""},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"processedCompletedBeforeHtml",{get:function(){return this.processHtml(this.completedBeforeHtml)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"processedLoadingHtml",{get:function(){return this.processHtml(this.loadingHtml)},enumerable:!1,configurable:!0}),g.prototype.getProgressInfo=function(){return v.SurveyElement.getProgressInfoByElements(this.isDesignMode?this.pages:this.visiblePages,!1)},Object.defineProperty(g.prototype,"progressText",{get:function(){var u=this.getPropertyValue("progressText","");return u||(this.updateProgressText(),u=this.getPropertyValue("progressText","")),u},enumerable:!1,configurable:!0}),g.prototype.updateProgressText=function(u){void 0===u&&(u=!1),!this.isCalculatingProgressText&&(u&&"pages"==this.progressBarType&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},g.prototype.getProgressText=function(){if(!this.isDesignMode&&null==this.currentPage)return"";var u={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},M=this.progressBarType.toLowerCase();if("questions"===M||"requiredquestions"===M||"correctquestions"===M||!this.onProgressText.isEmpty){var R=this.getProgressInfo();u.questionCount=R.questionCount,u.answeredQuestionCount=R.answeredQuestionCount,u.requiredQuestionCount=R.requiredQuestionCount,u.requiredAnsweredQuestionCount=R.requiredAnsweredQuestionCount}return u.text=this.getProgressTextCore(u),this.onProgressText.fire(this,u),u.text},g.prototype.getProgressTextCore=function(u){var M=this.progressBarType.toLowerCase();if("questions"===M)return this.getLocalizationFormatString("questionsProgressText",u.answeredQuestionCount,u.questionCount);if("requiredquestions"===M)return this.getLocalizationFormatString("questionsProgressText",u.requiredAnsweredQuestionCount,u.requiredQuestionCount);if("correctquestions"===M){var R=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",R,u.questionCount)}var w=this.isDesignMode?this.pages:this.visiblePages,F=w.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",F,w.length)},g.prototype.getRootCss=function(){return(new o.CssClassBuilder).append(this.css.root).append(this.css.rootMobile,this.isMobile).append(this.css.rootReadOnly,"display"===this.mode).toString()},g.prototype.afterRenderSurvey=function(u){var M=this;this.destroyResizeObserver(),Array.isArray(u)&&(u=v.SurveyElement.GetFirstNonTextElement(u));var R=u,w=this.css.variables;if(w){var F=Number.parseFloat(window.getComputedStyle(R).getPropertyValue(w.mobileWidth));if(F){var B=!1;this.resizeObserver=new ResizeObserver(function(){B=!(B||!Object(a.isContainerVisible)(R))&&M.processResponsiveness(R.offsetWidth,F)}),this.resizeObserver.observe(R)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:u})},g.prototype.processResponsiveness=function(u,M){var R=u<M;return this.isMobile!==R&&(this.setIsMobile(R),!0)},g.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},g.prototype.updateQuestionCssClasses=function(u,M){this.onUpdateQuestionCssClasses.fire(this,{question:u,cssClasses:M})},g.prototype.updatePanelCssClasses=function(u,M){this.onUpdatePanelCssClasses.fire(this,{panel:u,cssClasses:M})},g.prototype.updatePageCssClasses=function(u,M){this.onUpdatePageCssClasses.fire(this,{page:u,cssClasses:M})},g.prototype.updateChoiceItemCss=function(u,M){M.question=u,this.onUpdateChoiceItemCss.fire(this,M)},g.prototype.afterRenderPage=function(u){var M=this;this.isDesignMode||setTimeout(function(){return M.scrollToTopOnPageChange(!M.isFirstPageRendering)},1),this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:u})},g.prototype.afterRenderHeader=function(u){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:u})},g.prototype.afterRenderQuestion=function(u,M){this.onAfterRenderQuestion.fire(this,{question:u,htmlElement:M})},g.prototype.afterRenderQuestionInput=function(u,M){if(!this.onAfterRenderQuestionInput.isEmpty){var R=u.inputId;if(R&&M.id!==R&&typeof document<"u"){var w=document.getElementById(R);w&&(M=w)}this.onAfterRenderQuestionInput.fire(this,{question:u,htmlElement:M})}},g.prototype.afterRenderPanel=function(u,M){this.onAfterRenderPanel.fire(this,{panel:u,htmlElement:M})},g.prototype.whenQuestionFocusIn=function(u){this.onFocusInQuestion.fire(this,{question:u})},g.prototype.whenPanelFocusIn=function(u){this.onFocusInPanel.fire(this,{panel:u})},g.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(u){return u.surveyChoiceItemVisibilityChange()})},g.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},g.prototype.getChoiceItemVisibility=function(u,M,R){var w={question:u,item:M,visible:R};return this.onShowingChoiceItem.fire(this,w),w.visible},g.prototype.loadQuestionChoices=function(u){this.onChoicesLazyLoad.fire(this,u)},g.prototype.getChoiceDisplayValue=function(u){this.onGetChoiceDisplayValue.fire(this,u)},g.prototype.matrixBeforeRowAdded=function(u){this.onMatrixBeforeRowAdded.fire(this,u)},g.prototype.matrixRowAdded=function(u,M){this.onMatrixRowAdded.fire(this,{question:u,row:M})},g.prototype.getQuestionByValueNameFromArray=function(u,M,R){var w=this.getQuestionsByValueName(u);if(w){for(var F=0;F<w.length;F++){var B=w[F].getQuestionFromArray(M,R);if(B)return B}return null}},g.prototype.matrixRowRemoved=function(u,M,R){this.onMatrixRowRemoved.fire(this,{question:u,rowIndex:M,row:R})},g.prototype.matrixRowRemoving=function(u,M,R){var w={question:u,rowIndex:M,row:R,allow:!0};return this.onMatrixRowRemoving.fire(this,w),w.allow},g.prototype.matrixAllowRemoveRow=function(u,M,R){var w={question:u,rowIndex:M,row:R,allow:!0};return this.onMatrixAllowRemoveRow.fire(this,w),w.allow},g.prototype.matrixCellCreating=function(u,M){M.question=u,this.onMatrixCellCreating.fire(this,M)},g.prototype.matrixCellCreated=function(u,M){M.question=u,this.onMatrixCellCreated.fire(this,M)},g.prototype.matrixAfterCellRender=function(u,M){M.question=u,this.onMatrixAfterCellRender.fire(this,M)},g.prototype.matrixCellValueChanged=function(u,M){M.question=u,this.onMatrixCellValueChanged.fire(this,M)},g.prototype.matrixCellValueChanging=function(u,M){M.question=u,this.onMatrixCellValueChanging.fire(this,M)},Object.defineProperty(g.prototype,"isValidateOnValueChanging",{get:function(){return"onValueChanging"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isValidateOnValueChanged",{get:function(){return"onValueChanged"===this.checkErrorsMode},enumerable:!1,configurable:!0}),g.prototype.matrixCellValidate=function(u,M){return M.question=u,this.onMatrixCellValidate.fire(this,M),M.error?new _.CustomError(M.error,this):null},g.prototype.dynamicPanelAdded=function(u,M,R){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var w=u.panels;void 0===M&&(R=w[M=w.length-1]),this.onDynamicPanelAdded.fire(this,{question:u,panel:R,panelIndex:M})}},g.prototype.dynamicPanelRemoved=function(u,M,R){for(var w=R?R.questions:[],F=0;F<w.length;F++)w[F].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:u,panelIndex:M,panel:R})},g.prototype.dynamicPanelRemoving=function(u,M,R){var w={question:u,panelIndex:M,panel:R,allow:!0};return this.onDynamicPanelRemoving.fire(this,w),w.allow},g.prototype.dynamicPanelItemValueChanged=function(u,M){M.question=u,this.onDynamicPanelItemValueChanged.fire(this,M)},g.prototype.dragAndDropAllow=function(u){return u.allow=!0,this.onDragDropAllow.fire(this,u),u.allow},g.prototype.elementContentVisibilityChanged=function(u){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:u})},g.prototype.getUpdatedPanelFooterActions=function(u,M,R){var w={question:R,panel:u,actions:M};return this.onGetPanelFooterActions.fire(this,w),w.actions},g.prototype.getUpdatedElementTitleActions=function(u,M){return u.isPage?this.getUpdatedPageTitleActions(u,M):u.isPanel?this.getUpdatedPanelTitleActions(u,M):this.getUpdatedQuestionTitleActions(u,M)},g.prototype.getUpdatedQuestionTitleActions=function(u,M){var R={question:u,titleActions:M};return this.onGetQuestionTitleActions.fire(this,R),R.titleActions},g.prototype.getUpdatedPanelTitleActions=function(u,M){var R={panel:u,titleActions:M};return this.onGetPanelTitleActions.fire(this,R),R.titleActions},g.prototype.getUpdatedPageTitleActions=function(u,M){var R={page:u,titleActions:M};return this.onGetPageTitleActions.fire(this,R),R.titleActions},g.prototype.getUpdatedMatrixRowActions=function(u,M,R){var w={question:u,actions:R,row:M};return this.onGetMatrixRowActions.fire(this,w),w.actions},g.prototype.scrollElementToTop=function(u,M,R,w){var F={element:u,question:M,page:R,elementId:w,cancel:!1};this.onScrollingElementToTop.fire(this,F),F.cancel||v.SurveyElement.ScrollElementToTop(F.elementId)},g.prototype.uploadFiles=function(u,M,R,w){this.onUploadFiles.isEmpty?w("error",R):this.onUploadFiles.fire(this,{question:u,name:M,files:R||[],callback:w}),this.surveyPostId&&this.uploadFilesCore(M,R,w)},g.prototype.downloadFile=function(u,M,R,w){this.onDownloadFile.isEmpty&&w&&w("success",R.content||R),this.onDownloadFile.fire(this,{question:u,name:M,content:R.content||R,fileValue:R,callback:w})},g.prototype.clearFiles=function(u,M,R,w,F){this.onClearFiles.isEmpty&&F&&F("success",R),this.onClearFiles.fire(this,{question:u,name:M,value:R,fileName:w,callback:F})},g.prototype.updateChoicesFromServer=function(u,M,R){var w={question:u,choices:M,serverResult:R};return this.onLoadChoicesFromServer.fire(this,w),w.choices},g.prototype.loadedChoicesFromServer=function(u){this.locStrsChanged()},g.prototype.createSurveyService=function(){return new i.dxSurveyService},g.prototype.uploadFilesCore=function(u,M,R){var w=this,F=[];M.forEach(function(B){R&&R("uploading",B),w.createSurveyService().sendFile(w.surveyPostId,B,function(H,$){H?(F.push({content:$,file:B}),F.length===M.length&&R&&R("success",F)):R&&R("error",{response:$,file:B})})})},g.prototype.getPage=function(u){return this.pages[u]},g.prototype.addPage=function(u,M){void 0===M&&(M=-1),null!=u&&(M<0||M>=this.pages.length?this.pages.push(u):this.pages.splice(M,0,u))},g.prototype.addNewPage=function(u,M){void 0===u&&(u=null),void 0===M&&(M=-1);var R=this.createNewPage(u);return this.addPage(R,M),R},g.prototype.removePage=function(u){var M=this.pages.indexOf(u);M<0||(this.pages.splice(M,1),this.currentPage==u&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},g.prototype.getQuestionByName=function(u,M){if(void 0===M&&(M=!1),!u)return null;M&&(u=u.toLowerCase());var w=(M?this.questionHashes.namesInsensitive:this.questionHashes.names)[u];return w?w[0]:null},g.prototype.getQuestionByValueName=function(u,M){void 0===M&&(M=!1);var R=this.getQuestionsByValueName(u,M);return R?R[0]:null},g.prototype.getQuestionsByValueName=function(u,M){return void 0===M&&(M=!1),(M?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames)[u]||null},g.prototype.getCalculatedValueByName=function(u){for(var M=0;M<this.calculatedValues.length;M++)if(u==this.calculatedValues[M].name)return this.calculatedValues[M];return null},g.prototype.getQuestionsByNames=function(u,M){void 0===M&&(M=!1);var R=[];if(!u)return R;for(var w=0;w<u.length;w++)if(u[w]){var F=this.getQuestionByName(u[w],M);F&&R.push(F)}return R},g.prototype.getPageByElement=function(u){for(var M=0;M<this.pages.length;M++){var R=this.pages[M];if(R.containsElement(u))return R}return null},g.prototype.getPageByQuestion=function(u){return this.getPageByElement(u)},g.prototype.getPageByName=function(u){for(var M=0;M<this.pages.length;M++)if(this.pages[M].name==u)return this.pages[M];return null},g.prototype.getPagesByNames=function(u){var M=[];if(!u)return M;for(var R=0;R<u.length;R++)if(u[R]){var w=this.getPageByName(u[R]);w&&M.push(w)}return M},g.prototype.getAllQuestions=function(u,M){void 0===u&&(u=!1),void 0===M&&(M=!1);for(var R=new Array,w=0;w<this.pages.length;w++)this.pages[w].addQuestionsToList(R,u,M);return R},g.prototype.getQuizQuestions=function(){for(var u=new Array,R=this.getPageStartIndex();R<this.pages.length;R++)if(this.pages[R].isVisible)for(var w=this.pages[R].questions,F=0;F<w.length;F++){var B=w[F];B.quizQuestionCount>0&&u.push(B)}return u},g.prototype.getPanelByName=function(u,M){void 0===M&&(M=!1);var R=this.getAllPanels();M&&(u=u.toLowerCase());for(var w=0;w<R.length;w++){var F=R[w].name;if(M&&(F=F.toLowerCase()),F==u)return R[w]}return null},g.prototype.getAllPanels=function(u,M){void 0===u&&(u=!1),void 0===M&&(M=!1);for(var R=new Array,w=0;w<this.pages.length;w++)this.pages[w].addPanelsIntoList(R,u,M);return R},g.prototype.createNewPage=function(u){var M=y.Serializer.createClass("page");return M.name=u,M},g.prototype.questionOnValueChanging=function(u,M){if(this.editingObj){var R=y.Serializer.findProperty(this.editingObj.getType(),u);R&&(M=R.settingValue(this.editingObj,M))}if(this.onValueChanging.isEmpty)return M;var w={name:u,question:this.getQuestionByValueName(u),value:this.getUnbindValue(M),oldValue:this.getValue(u)};return this.onValueChanging.fire(this,w),w.value},g.prototype.updateQuestionValue=function(u,M){if(!this.isLoadingFromJson){var R=this.getQuestionsByValueName(u);if(R)for(var w=0;w<R.length;w++){var F=R[w].value;(F===M&&Array.isArray(F)&&this.editingObj||!this.isTwoValueEquals(F,M))&&R[w].updateValueFromSurvey(M)}}},g.prototype.checkQuestionErrorOnValueChanged=function(u){!this.isNavigationButtonPressed&&("onValueChanged"===this.checkErrorsMode||u.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(u)},g.prototype.checkQuestionErrorOnValueChangedCore=function(u){var M=u.getAllErrors().length,R=u.hasErrors(!0,{isOnValueChanged:!this.isValidateOnValueChanging}),w=this.checkErrorsMode.indexOf("Value")>-1;return!!u.page&&w&&(M>0||u.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(u.page),R},g.prototype.checkErrorsOnValueChanging=function(u,M){if(this.isLoadingFromJson)return!1;var R=this.getQuestionsByValueName(u);if(!R)return!1;for(var w=!1,F=0;F<R.length;F++){var B=R[F];this.isTwoValueEquals(B.valueForSurvey,M)||(B.value=M),this.checkQuestionErrorOnValueChangedCore(B)&&(w=!0),w=w||B.errors.length>0}return w},g.prototype.notifyQuestionOnValueChanged=function(u,M){if(!this.isLoadingFromJson){var R=this.getQuestionsByValueName(u);if(R)for(var w=0;w<R.length;w++){var F=R[w];this.checkQuestionErrorOnValueChanged(F),F.onSurveyValueChanged(M),this.onValueChanged.fire(this,{name:u,question:F,value:M})}else this.onValueChanged.fire(this,{name:u,question:null,value:M});this.isDisposed||(this.checkElementsBindings(u,M),this.notifyElementsOnAnyValueOrVariableChanged(u))}},g.prototype.checkElementsBindings=function(u,M){this.isRunningElementsBindings=!0;for(var R=0;R<this.pages.length;R++)this.pages[R].checkBindings(u,M);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},g.prototype.notifyElementsOnAnyValueOrVariableChanged=function(u){if("processing"!==this.isEndLoadingFromJson){if(this.isRunningConditions)return void(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0);for(var M=0;M<this.pages.length;M++)this.pages[M].onAnyValueChanged(u);this.isEndLoadingFromJson||this.locStrsChanged()}},g.prototype.updateAllQuestionsValue=function(){for(var u=this.getAllQuestions(),M=0;M<u.length;M++){var R=u[M],w=R.getValueName();R.updateValueFromSurvey(this.getValue(w)),R.requireUpdateCommentValue&&R.updateCommentFromSurvey(this.getComment(w))}},g.prototype.notifyAllQuestionsOnValueChanged=function(){for(var u=this.getAllQuestions(),M=0;M<u.length;M++)u[M].onSurveyValueChanged(this.getValue(u[M].getValueName()))},g.prototype.checkOnPageTriggers=function(){for(var u=this.getCurrentPageQuestions(!0),M={},R=0;R<u.length;R++){var F=u[R].getValueName();M[F]=this.getValue(F)}this.addCalculatedValuesIntoFilteredValues(M),this.checkTriggers(M,!0)},g.prototype.getCurrentPageQuestions=function(u){void 0===u&&(u=!1);var M=[],R=this.currentPage;if(!R)return M;for(var w=0;w<R.questions.length;w++){var F=R.questions[w];!u&&!F.visible||!F.name||M.push(F)}return M},g.prototype.checkTriggers=function(u,M){if(!this.isCompleted&&0!=this.triggers.length&&!this.isDisplayMode){if(this.isTriggerIsRunning){for(var R in this.triggerValues=this.getFilteredValues(),u)this.triggerKeys[R]=u[R];return}this.isTriggerIsRunning=!0,this.triggerKeys=u,this.triggerValues=this.getFilteredValues();var w=this.getFilteredProperties(),F=this.canBeCompletedByTrigger;this.canBeCompletedByTrigger=!1;for(var B=0;B<this.triggers.length;B++)this.triggers[B].checkExpression(M,this.triggerKeys,this.triggerValues,w);F!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},g.prototype.doElementsOnLoad=function(){for(var u=0;u<this.pages.length;u++)this.pages[u].onSurveyLoad()},Object.defineProperty(g.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),g.prototype.runConditions=function(){if(!this.isCompleted&&"processing"!==this.isEndLoadingFromJson&&!this.isRunningConditions){this.conditionValues=this.getFilteredValues();var u=this.getFilteredProperties(),M=this.pages.indexOf(this.currentPage);this.runConditionsCore(u),this.checkIfNewPagesBecomeVisible(M),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<c.settings.maximumConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},g.prototype.runConditionOnValueChanged=function(u,M){this.isRunningConditions?(this.conditionValues[u]=M,this.isValueChangedOnRunningCondition=!0):this.runConditions()},g.prototype.runConditionsCore=function(u){for(var M=this.pages,R=0;R<this.calculatedValues.length;R++)this.calculatedValues[R].resetCalculation();for(R=0;R<this.calculatedValues.length;R++)this.calculatedValues[R].doCalculation(this.calculatedValues,this.conditionValues,u);for(P.prototype.runConditionCore.call(this,this.conditionValues,u),R=0;R<M.length;R++)M[R].runCondition(this.conditionValues,u)},g.prototype.checkIfNewPagesBecomeVisible=function(u){var M=this.pages.indexOf(this.currentPage);if(!(M<=u+1))for(var R=u+1;R<M;R++)if(this.pages[R].isVisible){this.currentPage=this.pages[R];break}},g.prototype.sendResult=function(u,M,R){if(void 0===u&&(u=null),void 0===M&&(M=null),void 0===R&&(R=!1),this.isEditMode&&(R&&this.onPartialSend&&this.onPartialSend.fire(this,null),!u&&this.surveyPostId&&(u=this.surveyPostId),u&&(M&&(this.clientId=M),!R||this.clientId))){var w=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(u,this.data,function(F,B,H){w.surveyShowDataSaving&&(F?w.setCompletedState("success",""):w.setCompletedState("error",B)),w.onSendResult.fire(w,{success:F,response:B,request:H})},this.clientId,R)}},g.prototype.getResult=function(u,M){var R=this;this.createSurveyService().getResult(u,M,function(w,F,B,H){R.onGetResult.fire(R,{success:w,data:F,dataList:B,response:H})})},g.prototype.loadSurveyFromService=function(u,M){void 0===u&&(u=null),void 0===M&&(M=null),u&&(this.surveyId=u),M&&(this.clientId=M);var R=this;this.isLoading=!0,this.onLoadingSurveyFromService(),M?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(w,F,B,H){R.isLoading=!1,w&&(R.isCompletedBefore="completed"==B,R.loadSurveyFromServiceJson(F))}):this.createSurveyService().loadSurvey(this.surveyId,function(w,F,B){R.isLoading=!1,w&&R.loadSurveyFromServiceJson(F)})},g.prototype.loadSurveyFromServiceJson=function(u){!u||(this.fromJSON(u),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},g.prototype.onLoadingSurveyFromService=function(){},g.prototype.onLoadSurveyFromService=function(){},g.prototype.resetVisibleIndexes=function(){for(var u=this.getAllQuestions(!0),M=0;M<u.length;M++)u[M].setVisibleIndex(-1);this.updateVisibleIndexes()},g.prototype.updateVisibleIndexes=function(){if(!this.isLoadingFromJson&&!this.isEndLoadingFromJson){if(this.isRunningConditions&&this.onVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty)return void(this.conditionUpdateVisibleIndexes=!0);if(this.isRunningElementsBindings)return void(this.updateVisibleIndexAfterBindings=!0);if(this.updatePageVisibleIndexes(this.showPageNumbers),"onPage"==this.showQuestionNumbers)for(var u=this.visiblePages,M=0;M<u.length;M++)u[M].setVisibleIndex(0);else{var R="on"==this.showQuestionNumbers?0:-1;for(M=0;M<this.pages.length;M++)R+=this.pages[M].setVisibleIndex(R)}this.updateProgressText(!0)}},g.prototype.updatePageVisibleIndexes=function(u){this.updateButtonsVisibility();for(var M=0,R=0;R<this.pages.length;R++){var w=this.pages[R],F=w.isVisible&&(R>0||!w.isStarted);w.visibleIndex=F?M++:-1,w.num=F?w.visibleIndex+1:-1}},g.prototype.fromJSON=function(u){if(u){this.questionHashesClear(),this.jsonErrors=null;var M=new y.JsonObject;M.toObject(u,this),M.errors.length>0&&(this.jsonErrors=M.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},g.prototype.setJsonObject=function(u){this.fromJSON(u)},g.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard"),P.prototype.endLoadingFromJson.call(this),this.hasCookie&&this.doComplete(),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.setCalculatedWidthModeUpdater()},g.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},g.prototype.updateNavigationBarCss=function(){var u=this.navigationBar;u.cssClasses=this.css.actionBar,u.containerCss=this.css.footer},g.prototype.createNavigationBar=function(){var u=new r.ActionContainer;return u.setItems(this.createNavigationActions()),u},g.prototype.createNavigationActions=function(){var u=this,M="sv-nav-btn",R=new s.Action({id:"sv-nav-start",visible:new T.ComputedUpdater(function(){return u.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return u.start()},component:M}),w=new s.Action({id:"sv-nav-prev",visible:new T.ComputedUpdater(function(){return u.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return u.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return u.prevPage()},component:M}),F=new s.Action({id:"sv-nav-next",visible:new T.ComputedUpdater(function(){return u.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return u.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return u.nextPageUIClick()},component:M}),B=new s.Action({id:"sv-nav-preview",visible:new T.ComputedUpdater(function(){return u.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return u.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return u.showPreview()},component:M}),H=new s.Action({id:"sv-nav-complete",visible:new T.ComputedUpdater(function(){return u.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return u.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return u.completeLastPage()},component:M});return this.updateNavigationItemCssCallback=function(){R.innerCss=u.cssNavigationStart,w.innerCss=u.cssNavigationPrev,F.innerCss=u.cssNavigationNext,B.innerCss=u.cssNavigationPreview,H.innerCss=u.cssNavigationComplete},[R,w,F,B,H]},g.prototype.onBeforeCreating=function(){},g.prototype.onCreating=function(){},g.prototype.getProcessedTextValue=function(u){if(this.getProcessedTextValueCore(u),!this.onProcessTextValue.isEmpty){var M=this.isValueEmpty(u.value);this.onProcessTextValue.fire(this,u),u.isExists=u.isExists||M&&!this.isValueEmpty(u.value)}},g.prototype.getBuiltInVariableValue=function(u){if("pageno"===u){var M=this.currentPage;return null!=M?this.visiblePages.indexOf(M)+1:0}return"pagecount"===u?this.visiblePageCount:"correctedanswers"===u||"correctanswers"===u||"correctedanswercount"===u?this.getCorrectedAnswerCount():"incorrectedanswers"===u||"incorrectanswers"===u||"incorrectedanswercount"===u?this.getInCorrectedAnswerCount():"questioncount"===u?this.getQuizQuestionCount():void 0},g.prototype.getProcessedTextValueCore=function(u){var M=u.name.toLocaleLowerCase();if(-1===["no","require","title"].indexOf(M)){var R=this.getBuiltInVariableValue(M);if(void 0!==R)return u.isExists=!0,void(u.value=R);if("locale"===M)return u.isExists=!0,void(u.value=this.locale?this.locale:f.surveyLocalization.defaultLocale);var w=this.getVariable(M);if(void 0!==w)return u.isExists=!0,void(u.value=w);var F=this.getFirstName(M);if(F){u.isExists=!0;var B=F.getValueName().toLowerCase();M=(M=B+M.substring(B.length)).toLocaleLowerCase();var H={};return H[B]=u.returnDisplayValue?F.getDisplayValue(!1,void 0):F.value,void(u.value=(new E.ProcessValue).getValue(M,H))}this.getProcessedValuesWithoutQuestion(u)}},g.prototype.getProcessedValuesWithoutQuestion=function(u){var M=this.getValue(u.name);if(void 0!==M)return u.isExists=!0,void(u.value=M);var R=new E.ProcessValue,w=R.getFirstName(u.name);if(w!==u.name){var F={},B=this.getValue(w);n.Helpers.isValueEmpty(B)&&(B=this.getVariable(w)),!n.Helpers.isValueEmpty(B)&&(F[w]=B,u.value=R.getValue(u.name,F),u.isExists=R.hasValue(u.name,F))}},g.prototype.getFirstName=function(u){var M;u=u.toLowerCase();do{M=this.getQuestionByValueName(u,!0),u=this.reduceFirstName(u)}while(!M&&u);return M},g.prototype.reduceFirstName=function(u){var M=u.lastIndexOf("."),R=u.lastIndexOf("[");if(M<0&&R<0)return"";var w=Math.max(M,R);return u.substring(0,w)},g.prototype.clearUnusedValues=function(){for(var u=this.getAllQuestions(),M=0;M<u.length;M++)u[M].clearUnusedValues();this.clearInvisibleQuestionValues()},g.prototype.hasVisibleQuestionByValueName=function(u){var M=this.getQuestionsByValueName(u);if(!M)return!1;for(var R=0;R<M.length;R++)if(M[R].isVisible&&M[R].isParentVisible)return!0;return!1},g.prototype.questionCountByValueName=function(u){var M=this.getQuestionsByValueName(u);return M?M.length:0},g.prototype.clearInvisibleQuestionValues=function(){for(var u="none"===this.clearInvisibleValues?"none":"onComplete",M=this.getAllQuestions(),R=0;R<M.length;R++)M[R].clearValueIfInvisible(u)},g.prototype.getVariable=function(u){if(!u)return null;u=u.toLowerCase();var M=this.variablesHash[u];return this.isValueEmpty(M)&&(u.indexOf(".")>-1||u.indexOf("[")>-1)&&(new E.ProcessValue).hasValue(u,this.variablesHash)?(new E.ProcessValue).getValue(u,this.variablesHash):M},g.prototype.setVariable=function(u,M){!u||(u=u.toLowerCase(),this.variablesHash[u]=M,this.notifyElementsOnAnyValueOrVariableChanged(u),this.runConditionOnValueChanged(u,M),this.onVariableChanged.fire(this,{name:u,value:M}))},g.prototype.getVariableNames=function(){var u=[];for(var M in this.variablesHash)u.push(M);return u},g.prototype.getUnbindValue=function(u){return this.editingObj?u:n.Helpers.getUnbindValue(u)},g.prototype.getValue=function(u){if(!u||0==u.length)return null;var M=this.getDataValueCore(this.valuesHash,u);return this.getUnbindValue(M)},g.prototype.setValue=function(u,M,R,w){void 0===R&&(R=!1),void 0===w&&(w=!0);var F=M;if(w&&(F=this.questionOnValueChanging(u,M)),(!this.isValidateOnValueChanging||!this.checkErrorsOnValueChanging(u,F))&&(this.editingObj||!this.isValueEqual(u,F)||!this.isTwoValueEquals(F,M))){var B=this.getValue(u);this.isValueEmpty(F)?this.deleteDataValueCore(this.valuesHash,u):(F=this.getUnbindValue(F),this.setDataValueCore(this.valuesHash,u,F)),this.updateOnSetValue(u,F,B,R,w)}},g.prototype.updateOnSetValue=function(u,M,R,w,F){if(void 0===w&&(w=!1),void 0===F&&(F=!0),this.updateQuestionValue(u,M),!0!==w&&!this.isDisposed&&!this.isRunningElementsBindings){var B={};B[u]={newValue:M,oldValue:R},this.runConditionOnValueChanged(u,M),this.checkTriggers(B,!1),F&&this.notifyQuestionOnValueChanged(u,M),"text"!==w&&this.tryGoNextPageAutomatic(u)}},g.prototype.isValueEqual=function(u,M){(""===M||void 0===M)&&(M=null);var R=this.getValue(u);return(""===R||void 0===R)&&(R=null),null===M||null===R?M===R:this.isTwoValueEquals(M,R)},g.prototype.doOnPageAdded=function(u){u.setSurveyImpl(this),u.name||(u.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(u),this.updateVisibleIndexes(),this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.onPageAdded.fire(this,{page:u})},g.prototype.doOnPageRemoved=function(u){u.setSurveyImpl(null),u===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements()},g.prototype.generateNewName=function(u,M){for(var R={},w=0;w<u.length;w++)R[u[w].name]=!0;for(var F=1;R[M+F];)F++;return M+F},g.prototype.tryGoNextPageAutomatic=function(u){if(!this.isEndLoadingFromJson&&this.goNextPageAutomatic&&this.currentPage){var M=this.getQuestionByValueName(u);if(M&&(!M||M.visible&&M.supportGoNextPageAutomatic())&&(!M.hasErrors(!1)||M.supportGoNextPageError())){var R=this.getCurrentPageQuestions();if(!(R.indexOf(M)<0)){for(var w=0;w<R.length;w++)if(R[w].hasInput&&R[w].isEmpty())return;this.checkIsCurrentPageHasErrors(!1)||(this.isLastPage?!0===this.goNextPageAutomatic&&this.allowCompleteSurveyAutomatic&&(this.isShowPreviewBeforeComplete?this.showPreview():this.completeLastPage()):this.nextPage())}}}},g.prototype.getComment=function(u){return this.getValue(u+this.commentPrefix)||""},g.prototype.setComment=function(u,M,R){if(void 0===R&&(R=!1),M||(M=""),!this.isTwoValueEquals(M,this.getComment(u))){var w=u+this.commentPrefix;this.isValueEmpty(M)?this.deleteDataValueCore(this.valuesHash,w):this.setDataValueCore(this.valuesHash,w,M);var F=this.getQuestionsByValueName(u);if(F)for(var B=0;B<F.length;B++)F[B].updateCommentFromSurvey(M),this.checkQuestionErrorOnValueChanged(F[B]);R||this.runConditionOnValueChanged(u,this.getValue(u)),"text"!==R&&this.tryGoNextPageAutomatic(u);var H=this.getQuestionByName(u);H&&this.onValueChanged.fire(this,{name:w,question:H,value:M})}},g.prototype.clearValue=function(u){this.setValue(u,null),this.setComment(u,null)},Object.defineProperty(g.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(u){this.setPropertyValue("clearValueOnDisableItems",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isClearValueOnHidden",{get:function(){return"onHidden"==this.clearInvisibleValues||this.isClearValueOnHiddenContainer},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isClearValueOnHiddenContainer",{get:function(){return"onHiddenContainer"==this.clearInvisibleValues&&!this.isShowingPreview&&!this.runningPages},enumerable:!1,configurable:!0}),g.prototype.questionVisibilityChanged=function(u,M){this.updateVisibleIndexes(),this.onVisibleChanged.fire(this,{question:u,name:u.name,visible:M})},g.prototype.pageVisibilityChanged=function(u,M){this.isLoadingFromJson||((M&&!this.currentPage||u===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:u,visible:M}))},g.prototype.panelVisibilityChanged=function(u,M){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:u,visible:M})},g.prototype.questionCreated=function(u){this.onQuestionCreated.fire(this,{question:u})},g.prototype.questionAdded=function(u,M,R,w){u.name||(u.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),u.page&&this.questionHashesAdded(u),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),(!this.isMovingQuestion||this.isDesignMode&&!c.settings.supportCreatorV2)&&this.onQuestionAdded.fire(this,{question:u,name:u.name,index:M,parentPanel:R,rootPanel:w})},g.prototype.questionRemoved=function(u){this.questionHashesRemoved(u,u.name,u.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:u,name:u.name}),this.updateLazyRenderingRowsOnRemovingElements()},g.prototype.questionRenamed=function(u,M,R){this.questionHashesRemoved(u,M,R),this.questionHashesAdded(u)},g.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},g.prototype.questionHashesPanelAdded=function(u){if(!this.isLoadingFromJson)for(var M=u.questions,R=0;R<M.length;R++)this.questionHashesAdded(M[R])},g.prototype.questionHashesAdded=function(u){this.questionHashAddedCore(this.questionHashes.names,u,u.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,u,u.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,u,u.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,u,u.getValueName().toLowerCase())},g.prototype.questionHashesRemoved=function(u,M,R){M&&(this.questionHashRemovedCore(this.questionHashes.names,u,M),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,u,M.toLowerCase())),R&&(this.questionHashRemovedCore(this.questionHashes.valueNames,u,R),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,u,R.toLowerCase()))},g.prototype.questionHashAddedCore=function(u,M,R){var w;(w=u[R])?(w=u[R]).indexOf(M)<0&&w.push(M):u[R]=[M]},g.prototype.questionHashRemovedCore=function(u,M,R){var w=u[R];if(w){var F=w.indexOf(M);F>-1&&w.splice(F,1),0==w.length&&delete u[R]}},g.prototype.panelAdded=function(u,M,R,w){u.name||(u.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(u),this.updateVisibleIndexes(),this.onPanelAdded.fire(this,{panel:u,name:u.name,index:M,parentPanel:R,rootPanel:w})},g.prototype.panelRemoved=function(u){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:u,name:u.name}),this.updateLazyRenderingRowsOnRemovingElements()},g.prototype.validateQuestion=function(u){if(this.onValidateQuestion.isEmpty)return null;var M={name:u.name,question:u,value:u.value,error:null};return this.onValidateQuestion.fire(this,M),M.error?new _.CustomError(M.error,this):null},g.prototype.validatePanel=function(u){if(this.onValidatePanel.isEmpty)return null;var M={name:u.name,panel:u,error:null};return this.onValidatePanel.fire(this,M),M.error?new _.CustomError(M.error,this):null},g.prototype.processHtml=function(u){var M={html:u};return this.onProcessHtml.fire(this,M),this.processText(M.html,!0)},g.prototype.processText=function(u,M){return this.processTextEx(u,M,!1).text},g.prototype.processTextEx=function(u,M,R){var w={text:this.processTextCore(u,M,R),hasAllValuesOnLastRun:!0};return w.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,w},g.prototype.processTextCore=function(u,M,R){return void 0===R&&(R=!1),this.isDesignMode?u:this.textPreProcessor.process(u,M,R)},g.prototype.getSurveyMarkdownHtml=function(u,M,R){var w={element:u,text:M,name:R,html:null};return this.onTextMarkdown.fire(this,w),w.html},g.prototype.getCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},g.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},g.prototype.getQuizQuestionCount=function(){for(var u=this.getQuizQuestions(),M=0,R=0;R<u.length;R++)M+=u[R].quizQuestionCount;return M},g.prototype.getInCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},g.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},g.prototype.getCorrectedAnswerCountCore=function(u){for(var M=this.getQuizQuestions(),R=0,w={question:null,result:!1,correctAnswers:0,incorrectAnswers:0},F=0;F<M.length;F++){var B=M[F],H=B.quizQuestionCount;if(w.question=B,w.correctAnswers=B.correctAnswerCount,w.incorrectAnswers=H-w.correctAnswers,w.result=w.question.isAnswerCorrect(),this.onIsAnswerCorrect.fire(this,w),u){if(w.result||w.correctAnswers<H){var $=w.correctAnswers;0==$&&w.result&&($=1),R+=$}}else(!w.result||w.incorrectAnswers<H)&&(R+=w.incorrectAnswers)}return R},g.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},g.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(g.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(u){this.setPropertyValue("showTimerPanel",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.timerModel.isRunning&&"top"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.timerModel.isRunning&&"bottom"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(u){this.setPropertyValue("showTimerPanelMode",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(u){this.setPropertyValue("widthMode",u)},enumerable:!1,configurable:!0}),g.prototype.setCalculatedWidthModeUpdater=function(){var u=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new T.ComputedUpdater(function(){return u.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},g.prototype.calculateWidthMode=function(){if("auto"==this.widthMode){var u=!1;return this.pages.forEach(function(M){M.needResponsiveWidth()&&(u=!0)}),u?"responsive":"static"}return this.widthMode},Object.defineProperty(g.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(u){this.setPropertyValue("width",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedWidth",{get:function(){var u=this.getPropertyValue("width");return u&&!isNaN(u)&&(u+="px"),"static"==this.getPropertyValue("calculatedWidthMode")&&u||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"timerClock",{get:function(){var u,M;if(this.currentPage){var R=this.getTimerInfo(),w=R.spent,F=R.limit,B=R.minorSpent,H=R.minorLimit;u=this.getDisplayClockTime(F>0?F-w:w),void 0!==B&&(M=this.getDisplayClockTime(H>0?H-B:B))}return{majorText:u,minorText:M}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"timerInfoText",{get:function(){var u={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,u);var M=new l.LocalizableString(this,!0);return M.text=u.text,M.textOrHtml},enumerable:!1,configurable:!0}),g.prototype.getTimerInfo=function(){var u=this.currentPage;if(!u)return{spent:0,limit:0};var M=u.timeSpent,R=this.timeSpent,w=this.getPageMaxTimeToFinish(u),F=this.maxTimeToFinish;return"page"==this.showTimerPanelMode?{spent:M,limit:w}:"survey"==this.showTimerPanelMode?{spent:R,limit:F}:w>0&&F>0?{spent:M,limit:w,minorSpent:R,minorLimit:F}:w>0?{spent:M,limit:w,minorSpent:R}:F>0?{spent:R,limit:F,minorSpent:M}:{spent:M,minorSpent:R}},g.prototype.getTimerInfoText=function(){var u=this.currentPage;if(!u)return"";var M=this.getDisplayTime(u.timeSpent),R=this.getDisplayTime(this.timeSpent),w=this.getPageMaxTimeToFinish(u),F=this.getDisplayTime(w),B=this.getDisplayTime(this.maxTimeToFinish);return"page"==this.showTimerPanelMode?this.getTimerInfoPageText(u,M,F):"survey"==this.showTimerPanelMode?this.getTimerInfoSurveyText(R,B):"all"==this.showTimerPanelMode?w<=0&&this.maxTimeToFinish<=0?this.getLocalizationFormatString("timerSpentAll",M,R):w>0&&this.maxTimeToFinish>0?this.getLocalizationFormatString("timerLimitAll",M,F,R,B):this.getTimerInfoPageText(u,M,F)+" "+this.getTimerInfoSurveyText(R,B):""},g.prototype.getTimerInfoPageText=function(u,M,R){return this.getPageMaxTimeToFinish(u)>0?this.getLocalizationFormatString("timerLimitPage",M,R):this.getLocalizationFormatString("timerSpentPage",M,R)},g.prototype.getTimerInfoSurveyText=function(u,M){return this.getLocalizationFormatString(this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey",u,M)},g.prototype.getDisplayClockTime=function(u){var M=Math.floor(u/60),R=u%60,w=R.toString();return R<10&&(w="0"+w),"".concat(M,":").concat(w)},g.prototype.getDisplayTime=function(u){var M=Math.floor(u/60),R=u%60,w="";return M>0&&(w+=M+" "+this.getLocalizationString("timerMin")),w&&0==R?w:(w&&(w+=" "),w+R+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(g.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),g.prototype.startTimer=function(){this.timerModel.start()},g.prototype.startTimerFromUI=function(){"none"!=this.showTimerPanel&&"running"===this.state&&this.startTimer()},g.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(g.prototype,"timeSpent",{get:function(){return this.timerModel.spent},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(u){this.setPropertyValue("maxTimeToFinish",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(u){this.setPropertyValue("maxTimeToFinishPage",u)},enumerable:!1,configurable:!0}),g.prototype.getPageMaxTimeToFinish=function(u){return!u||u.maxTimeToFinish<0?0:u.maxTimeToFinish>0?u.maxTimeToFinish:this.maxTimeToFinishPage},g.prototype.doTimer=function(u){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),u){var M=this.getPageMaxTimeToFinish(u);M>0&&M==u.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(g.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),g.prototype.getSurveyData=function(){return this},g.prototype.getSurvey=function(){return this},g.prototype.getTextProcessor=function(){return this},g.prototype.getObjects=function(u,M){var R=[];return Array.prototype.push.apply(R,this.getPagesByNames(u)),Array.prototype.push.apply(R,this.getQuestionsByNames(M)),R},g.prototype.setTriggerValue=function(u,M,R){if(u)if(R)this.setVariable(u,M);else{var w=this.getQuestionByName(u);if(w)w.value=M;else{var F=new E.ProcessValue,B=F.getFirstName(u);if(B==u)this.setValue(u,M);else{if(!this.getQuestionByName(B))return;var H=this.getUnbindValue(this.getFilteredValues());F.setValue(H,u,M),this.setValue(B,H[B])}}}},g.prototype.copyTriggerValue=function(u,M){if(u&&M){var w=(new E.ProcessValue).getValue(M,this.getFilteredValues());this.setTriggerValue(u,w,!1)}},g.prototype.triggerExecuted=function(u){this.onTriggerExecuted.fire(this,{trigger:u})},g.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},g.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},g.prototype.focusQuestion=function(u){var M=this.getQuestionByName(u,!0);return!!(M&&M.isVisible&&M.page)&&(this.isFocusingQuestion=!0,this.currentPage=M.page,M.focus(),this.isFocusingQuestion=!1,this.isCurrentPageRendering=!1,!0)},g.prototype.getElementWrapperComponentName=function(u,M){return"logo-image"===M?"sv-logo-image":g.TemplateRendererComponentName},g.prototype.getQuestionContentWrapperComponentName=function(u){return g.TemplateRendererComponentName},g.prototype.getRowWrapperComponentName=function(u){return g.TemplateRendererComponentName},g.prototype.getElementWrapperComponentData=function(u,M){return u},g.prototype.getRowWrapperComponentData=function(u){return u},g.prototype.getItemValueWrapperComponentName=function(u,M){return g.TemplateRendererComponentName},g.prototype.getItemValueWrapperComponentData=function(u,M){return u},g.prototype.getMatrixCellTemplateData=function(u){return u.question},g.prototype.searchText=function(u){u&&(u=u.toLowerCase());for(var M=[],R=0;R<this.pages.length;R++)this.pages[R].searchText(u,M);return M},g.prototype.getSkeletonComponentName=function(u){return this.skeletonComponentName},g.prototype.dispose=function(){if(this.currentPage=null,this.destroyResizeObserver(),P.prototype.dispose.call(this),this.editingObj=null,this.pages){for(var u=0;u<this.pages.length;u++)this.pages[u].setSurveyImpl(void 0),this.pages[u].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},g.TemplateRendererComponentName="sv-template-renderer",g.stylesManager=null,g.platform="unknown",I([Object(y.property)()],g.prototype,"completedCss",void 0),I([Object(y.property)()],g.prototype,"containerCss",void 0),I([Object(y.property)({defaultValue:!1})],g.prototype,"showBrandInfo",void 0),I([Object(y.property)()],g.prototype,"_isMobile",void 0),I([Object(y.property)()],g.prototype,"rootCss",void 0),I([Object(y.property)()],g.prototype,"calculatedWidthMode",void 0),g}(v.SurveyElementCore);y.Serializer.addClass("survey",[{name:"locale",choices:function(){return f.surveyLocalization.getLocales(!0)},onGetValue:function(P){return P.locale==f.surveyLocalization.defaultLocale?null:P.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean",default:!0},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem"},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page"},{name:"questions",alternativeName:"elements",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(P){return null},onSetValue:function(P,g,u){P.pages.splice(0,P.pages.length);var M=P.addNewPage("");u.toObject({questions:g},M)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue"},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem"},{name:"questionsOrder",default:"initial",choices:["initial","random"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom","both"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions","buttons"]},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(P,g){"autogonext"!==g&&(g=n.Helpers.isTwoValueEquals(g,!0)),P.setPropertyValue("goNextPageAutomatic",g)}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onValueChanging","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(P){return!P||"off"!==P.showQuestionNumbers}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(P){return P?P.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},"width",{name:"showBrandInfo:boolean",default:!1,visible:!1}])},"./src/surveyProgress.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SurveyProgressModel",function(){return y});var n=e("./src/utils/cssClassBuilder.ts"),y=function(){function T(){}return T.getProgressTextInBarCss=function(v){return(new n.CssClassBuilder).append(v.progressText).append(v.progressTextInBar).toString()},T.getProgressTextUnderBarCss=function(v){return(new n.CssClassBuilder).append(v.progressText).append(v.progressTextUnderBar).toString()},T}()},"./src/surveyProgressButtons.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SurveyProgressButtonsModel",function(){return y});var n=e("./src/utils/cssClassBuilder.ts"),y=function(){function T(v){this.survey=v}return T.prototype.isListElementClickable=function(v){return!(this.survey.onServerValidateQuestions&&!this.survey.onServerValidateQuestions.isEmpty&&"onComplete"!==this.survey.checkErrorsMode)||v<=this.survey.currentPageNo+1},T.prototype.getListElementCss=function(v){if(!(v>=this.survey.visiblePages.length))return(new n.CssClassBuilder).append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[v].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===v).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(v)).toString()},T.prototype.getScrollButtonCss=function(v,O){return(new n.CssClassBuilder).append(this.survey.css.progressButtonsImageButtonLeft,O).append(this.survey.css.progressButtonsImageButtonRight,!O).append(this.survey.css.progressButtonsImageButtonHidden,!v).toString()},T.prototype.clickListElement=function(v){if(!this.survey.isDesignMode)if(v<this.survey.currentPageNo)this.survey.currentPageNo=v;else if(v>this.survey.currentPageNo)for(var O=this.survey.currentPageNo;O<v&&this.survey.nextPage();O++);},T}()},"./src/surveyStrings.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"surveyLocalization",function(){return y}),e.d(t,"surveyStrings",function(){return T});var n=e("./src/localization/english.ts"),y={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(v){"cz"===v&&(v="cs"),this.currentLocaleValue=v},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(v){"cz"===v&&(v="cs"),this.defaultLocaleValue=v},getLocaleStrings:function(v){return this.locales[v]},getCurrentStrings:function(v){var O=v&&this.locales[v];return O||(O=this.currentLocale?this.locales[this.currentLocale]:this.locales[this.defaultLocale]),O||(O=this.locales[this.defaultLocale]),O||(O=this.locales.en),O},getString:function(v,O){void 0===O&&(O=null);var C=O,E=this.getCurrentStrings(O=O||this.currentLocale||this.defaultLocale);if(E[v])return E[v];var i=O?O.indexOf("-"):-1;if(i>-1)return this.getString(v,O.substring(0,i));var f=(E=this.locales[this.defaultLocale])[v];return void 0===f&&(f=this.locales.en[v]),void 0===f?this.onGetExternalString(v,C):f},getLocales:function(v){void 0===v&&(v=!1);var O=[];O.push("");var C=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){C={};for(var E=0;E<this.supportedLocales.length;E++)C[this.supportedLocales[E]]=!0}for(var i in C)v&&i==this.defaultLocale||O.push(i);var f=function(_){if(!_)return"";var l=y.localeNames[_];return l||(l=_),l.toLowerCase()};return O.sort(function(_,l){var m=f(_),h=f(l);return m===h?0:m<h?-1:1}),O},onGetExternalString:function(v,O){}},T=n.englishStrings;y.locales.en=n.englishStrings,y.localeNames.en="english"},"./src/surveyTimerModel.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SurveyTimerModel",function(){return E});var i,n=e("./src/base.ts"),y=e("./src/surveytimer.ts"),T=e("./src/jsonobject.ts"),v=e("./src/utils/cssClassBuilder.ts"),O=(i=function(f,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function l(){this.constructor=f}i(f,_),f.prototype=null===_?Object.create(_):(l.prototype=_.prototype,new l)}),C=function(i,f,_,l){var d,m=arguments.length,h=m<3?f:null===l?l=Object.getOwnPropertyDescriptor(f,_):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(i,f,_,l);else for(var c=i.length-1;c>=0;c--)(d=i[c])&&(h=(m<3?d(h):m>3?d(f,_,h):d(f,_))||h);return m>3&&h&&Object.defineProperty(f,_,h),h},E=function(i){function f(_){var l=i.call(this)||this;return l.timerFunc=null,l.surveyValue=_,l.onCreating(),l}return O(f,i),Object.defineProperty(f.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),f.prototype.onCreating=function(){},f.prototype.start=function(){var _=this;!this.survey||this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){_.update()}),this.timerFunc=function(){_.doTimer()},this.setIsRunning(!0),this.update(),y.SurveyTimer.instance.start(this.timerFunc))},f.prototype.stop=function(){!this.isRunning||(this.setIsRunning(!1),y.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(f.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),f.prototype.setIsRunning=function(_){this.setPropertyValue("isRunning",_)},f.prototype.update=function(){this.updateText(),this.updateProgress()},f.prototype.doTimer=function(){var _=this.survey.currentPage;_&&(_.timeSpent=_.timeSpent+1),this.spent=this.spent+1,this.update(),this.onTimer&&this.onTimer(_)},f.prototype.updateProgress=function(){var _=this,l=this.survey.timerInfo,m=l.spent,h=l.limit;h?0==m?(this.progress=0,setTimeout(function(){_.progress=Math.floor((m+1)/h*100)/100},0)):m!==h&&(this.progress=Math.floor((m+1)/h*100)/100):this.progress=void 0},f.prototype.updateText=function(){var _=this.survey.timerClock;this.clockMajorText=_.majorText,this.clockMinorText=_.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(f.prototype,"showProgress",{get:function(){return void 0!==this.progress},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rootCss",{get:function(){return(new v.CssClassBuilder).append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),f.prototype.getProgressCss=function(){return(new v.CssClassBuilder).append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(f.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),C([Object(T.property)()],f.prototype,"text",void 0),C([Object(T.property)()],f.prototype,"progress",void 0),C([Object(T.property)()],f.prototype,"clockMajorText",void 0),C([Object(T.property)()],f.prototype,"clockMinorText",void 0),C([Object(T.property)({defaultValue:0})],f.prototype,"spent",void 0),f}(n.Base)},"./src/surveytimer.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"surveyTimerFunctions",function(){return y}),e.d(t,"SurveyTimer",function(){return T});var n=e("./src/base.ts"),y={setTimeout:function(v){return typeof window>"u"?0:window.setTimeout(v,1e3)},clearTimeout:function(v){typeof window>"u"||window.clearTimeout(v)}},T=function(){function v(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new n.Event}return Object.defineProperty(v,"instance",{get:function(){return v.instanceValue||(v.instanceValue=new v),v.instanceValue},enumerable:!1,configurable:!0}),v.prototype.start=function(O){var C=this;void 0===O&&(O=null),O&&this.onTimer.add(O),this.timerId<0&&(this.timerId=y.setTimeout(function(){C.doTimer()})),this.listenerCounter++},v.prototype.stop=function(O){void 0===O&&(O=null),O&&this.onTimer.remove(O),this.listenerCounter--,0==this.listenerCounter&&this.timerId>-1&&(y.clearTimeout(this.timerId),this.timerId=-1)},v.prototype.doTimer=function(){var O=this;if((this.onTimer.isEmpty||0==this.listenerCounter)&&(this.timerId=-1),!(this.timerId<0)){var C=this.timerId;this.onTimer.fire(this,{}),C===this.timerId&&(this.timerId=y.setTimeout(function(){O.doTimer()}))}},v.instanceValue=null,v}()},"./src/svgbundle.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"SvgIconRegistry",function(){return y}),e.d(t,"SvgRegistry",function(){return T}),e.d(t,"SvgBundleViewModel",function(){});var y=function(){function C(){this.icons={},this.iconPrefix="icon-"}return C.prototype.registerIconFromSymbol=function(E,i){this.icons[E]=i},C.prototype.registerIconFromSvgViaElement=function(E,i,f){void 0===f&&(f=this.iconPrefix);var _=document.createElement("div");_.innerHTML=i;var l=document.createElement("symbol"),m=_.querySelector("svg");l.innerHTML=m.innerHTML;for(var h=0;h<m.attributes.length;h++)l.setAttributeNS("http://www.w3.org/2000/svg",m.attributes[h].name,m.attributes[h].value);l.id=f+E,this.registerIconFromSymbol(E,l.outerHTML)},C.prototype.registerIconFromSvg=function(E,i,f){void 0===f&&(f=this.iconPrefix);var _="<svg ",l="</svg>",m=(i=i.trim()).toLowerCase();return m.substring(0,_.length)===_&&m.substring(m.length-l.length,m.length)===l&&(this.registerIconFromSymbol(E,'<symbol id="'+f+E+'" '+i.substring(_.length,m.length-l.length)+"</symbol>"),!0)},C.prototype.registerIconsFromFolder=function(E){var i=this;E.keys().forEach(function(f){i.registerIconFromSvg(f.substring(2,f.length-4).toLowerCase(),E(f))})},C.prototype.iconsRenderedHtml=function(){var E=this;return Object.keys(this.icons).map(function(i){return E.icons[i]}).join("")},C.prototype.renderIcons=function(){var E="sv-icon-holder-global-container";if(!document.getElementById(E)){var i=document.createElement("div");i.id=E,i.innerHTML="<svg>"+this.iconsRenderedHtml()+"</svg>",i.style.display="none",document.head.insertBefore(i,document.head.firstChild)}},C}(),T=new y,O=e("./src/images sync \\.svg$");T.registerIconsFromFolder(O)},"./src/template-renderer.ts":function(K,t,e){"use strict";e.r(t)},"./src/textPreProcessor.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"TextPreProcessorItem",function(){return T}),e.d(t,"TextPreProcessorValue",function(){return v}),e.d(t,"TextPreProcessor",function(){return O}),e.d(t,"QuestionTextProcessor",function(){return C});var n=e("./src/helpers.ts"),y=e("./src/conditionProcessValue.ts"),T=function E(){},v=function E(i,f){this.name=i,this.returnDisplayValue=f,this.isExists=!1,this.canProcess=!0},O=function(){function E(){this._unObservableValues=[void 0]}return Object.defineProperty(E.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(i){this._unObservableValues[0]=i},enumerable:!1,configurable:!0}),E.prototype.process=function(i,f,_){if(void 0===f&&(f=!1),void 0===_&&(_=!1),this.hasAllValuesOnLastRunValue=!0,!i||!this.onProcess)return i;for(var l=this.getItems(i),m=l.length-1;m>=0;m--){var h=l[m],d=this.getName(i.substring(h.start+1,h.end));if(d){var c=new v(d,f);if(this.onProcess(c),!c.isExists){c.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}n.Helpers.isValueEmpty(c.value)&&(this.hasAllValuesOnLastRunValue=!1);var a=n.Helpers.isValueEmpty(c.value)?"":c.value;_&&(a=encodeURIComponent(a)),i=i.substring(0,h.start)+a+i.substring(h.end+1)}}return i},E.prototype.processValue=function(i,f){var _=new v(i,f);return this.onProcess&&this.onProcess(_),_},Object.defineProperty(E.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),E.prototype.getItems=function(i){for(var f=[],_=i.length,l=-1,m="",h=0;h<_;h++)if("{"==(m=i[h])&&(l=h),"}"==m){if(l>-1){var d=new T;d.start=l,d.end=h,f.push(d)}l=-1}return f},E.prototype.getName=function(i){if(i)return i.trim()},E}(),C=function(){function E(i){var f=this;this.variableName=i,this.textPreProcessor=new O,this.textPreProcessor.onProcess=function(_){f.getProcessedTextValue(_)}}return E.prototype.processValue=function(i,f){return this.textPreProcessor.processValue(i,f)},Object.defineProperty(E.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),E.prototype.getValues=function(){return this.panel?this.panel.getValue():null},E.prototype.getQuestionByName=function(i){return this.panel?this.panel.getQuestionByValueName(i):null},E.prototype.getParentTextProcessor=function(){return null},E.prototype.onCustomProcessText=function(i){return!1},E.prototype.getQuestionDisplayText=function(i){return i.displayValue},E.prototype.getProcessedTextValue=function(i){if(i&&!this.onCustomProcessText(i)){var f=(new y.ProcessValue).getFirstName(i.name);if(i.isExists=f==this.variableName,i.canProcess=i.isExists,i.canProcess){i.name=i.name.replace(this.variableName+".",""),f=(new y.ProcessValue).getFirstName(i.name);var _=this.getQuestionByName(f),l={};if(_)l[f]=i.returnDisplayValue?this.getQuestionDisplayText(_):_.value;else{var m=this.panel?this.getValues():null;m&&(l[f]=m[f])}i.value=(new y.ProcessValue).getValue(i.name,l)}}},E.prototype.processText=function(i,f){return this.survey&&this.survey.isDesignMode?i:(i=this.textPreProcessor.process(i,f),i=this.processTextCore(this.getParentTextProcessor(),i,f),this.processTextCore(this.survey,i,f))},E.prototype.processTextEx=function(i,f){i=this.processText(i,f);var _=this.textPreProcessor.hasAllValuesOnLastRun,l={hasAllValuesOnLastRun:!0,text:i};return this.survey&&(l=this.survey.processTextEx(i,f,!1)),l.hasAllValuesOnLastRun=l.hasAllValuesOnLastRun&&_,l},E.prototype.processTextCore=function(i,f,_){return i?i.processText(f,_):f},E}()},"./src/trigger.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"Trigger",function(){return f}),e.d(t,"SurveyTrigger",function(){return _}),e.d(t,"SurveyTriggerVisible",function(){return l}),e.d(t,"SurveyTriggerComplete",function(){return m}),e.d(t,"SurveyTriggerSetValue",function(){return h}),e.d(t,"SurveyTriggerSkip",function(){return d}),e.d(t,"SurveyTriggerRunExpression",function(){return c}),e.d(t,"SurveyTriggerCopyValue",function(){return a});var s,n=e("./src/helpers.ts"),y=e("./src/base.ts"),T=e("./src/jsonobject.ts"),v=e("./src/conditions.ts"),O=e("./src/expressions/expressions.ts"),C=e("./src/conditionProcessValue.ts"),E=e("./src/settings.ts"),i=(s=function(r,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var x in I)Object.prototype.hasOwnProperty.call(I,x)&&(S[x]=I[x])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function S(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(S.prototype=o.prototype,new S)}),f=function(s){function r(){var o=s.call(this)||this;return o.usedNames=[],o.registerPropertyChangedHandlers(["operator","value","name"],function(){o.oldPropertiesChanged()}),o.registerPropertyChangedHandlers(["expression"],function(){o.onExpressionChanged()}),o}return i(r,s),Object.defineProperty(r,"operators",{get:function(){return null!=r.operatorsValue||(r.operatorsValue={empty:function(o,S){return!o},notempty:function(o,S){return!!o},equal:function(o,S){return o==S},notequal:function(o,S){return o!=S},contains:function(o,S){return o&&o.indexOf&&o.indexOf(S)>-1},notcontains:function(o,S){return!o||!o.indexOf||-1==o.indexOf(S)},greater:function(o,S){return o>S},less:function(o,S){return o<S},greaterorequal:function(o,S){return o>=S},lessorequal:function(o,S){return o<=S}}),r.operatorsValue},enumerable:!1,configurable:!0}),r.prototype.getType=function(){return"triggerbase"},r.prototype.toString=function(){var o=this.getType().replace("trigger",""),S=this.expression?this.expression:this.buildExpression();return S&&(o+=", "+S),o},Object.defineProperty(r.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(o){!o||(o=o.toLowerCase(),r.operators[o]&&this.setPropertyValue("operator",o))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(o){this.setPropertyValue("value",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(o){this.setPropertyValue("name",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(o){this.setPropertyValue("expression",o)},enumerable:!1,configurable:!0}),r.prototype.canBeExecuted=function(o){return!0},r.prototype.checkExpression=function(o,S,I,x){void 0===x&&(x=null),this.isExecutingOnNextPage=o,this.canBeExecuted(o)&&(!this.isCheckRequired(S)||this.conditionRunner&&this.perform(I,x))},r.prototype.check=function(o){r.operators[this.operator](o,this.value)?this.onSuccess({},null):this.onFailure()},r.prototype.perform=function(o,S){var I=this;this.conditionRunner.onRunComplete=function(x){I.triggerResult(x,o,S)},this.conditionRunner.run(o,S)},r.prototype.triggerResult=function(o,S,I){o?(this.onSuccess(S,I),this.onSuccessExecuted()):this.onFailure()},r.prototype.onSuccess=function(o,S){},r.prototype.onFailure=function(){},r.prototype.onSuccessExecuted=function(){},r.prototype.endLoadingFromJson=function(){s.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},r.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},r.prototype.onExpressionChanged=function(){this.usedNames=[],this.hasFunction=!1,this.conditionRunner=null},r.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+O.OperandMaker.toOperandString(this.value)},r.prototype.isCheckRequired=function(o){if(!o)return!1;if(this.buildUsedNames(),!0===this.hasFunction)return!0;for(var S=new C.ProcessValue,I=0;I<this.usedNames.length;I++){var x=this.usedNames[I];if(o.hasOwnProperty(x))return!0;var P=S.getFirstName(x);if(o.hasOwnProperty(P)){if(x==P)return!0;var g=o[P];if(null!=g){if(!g.hasOwnProperty("oldValue")||!g.hasOwnProperty("newValue"))return!0;var u={};u[P]=g.oldValue;var M=S.getValue(x,u);u[P]=g.newValue;var R=S.getValue(x,u);return!this.isTwoValueEquals(M,R)}}}return!1},r.prototype.buildUsedNames=function(){if(!this.conditionRunner){var o=this.expression;o||(o=this.buildExpression()),o&&(this.conditionRunner=new v.ConditionRunner(o),this.hasFunction=this.conditionRunner.hasFunction(),this.usedNames=this.conditionRunner.getVariables())}},Object.defineProperty(r.prototype,"isRequireValue",{get:function(){return"empty"!==this.operator&&"notempty"!=this.operator},enumerable:!1,configurable:!0}),r.operatorsValue=null,r}(y.Base),_=function(s){function r(){var o=s.call(this)||this;return o.ownerValue=null,o}return i(r,s),Object.defineProperty(r.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),r.prototype.setOwner=function(o){this.ownerValue=o},r.prototype.getSurvey=function(o){return void 0===o&&(o=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},r.prototype.isRealExecution=function(){return!0},r.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},r}(f),l=function(s){function r(){var o=s.call(this)||this;return o.pages=[],o.questions=[],o}return i(r,s),r.prototype.getType=function(){return"visibletrigger"},r.prototype.onSuccess=function(o,S){this.onTrigger(this.onItemSuccess)},r.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},r.prototype.onTrigger=function(o){if(this.owner)for(var S=this.owner.getObjects(this.pages,this.questions),I=0;I<S.length;I++)o(S[I])},r.prototype.onItemSuccess=function(o){o.visible=!0},r.prototype.onItemFailure=function(o){o.visible=!1},r}(_),m=function(s){function r(){return s.call(this)||this}return i(r,s),r.prototype.getType=function(){return"completetrigger"},r.prototype.isRealExecution=function(){return!E.settings.executeCompleteTriggerOnValueChanged===this.isExecutingOnNextPage},r.prototype.onSuccess=function(o,S){!this.owner||(this.isRealExecution()?this.owner.setCompleted():this.owner.canBeCompleted())},r}(_),h=function(s){function r(){return s.call(this)||this}return i(r,s),r.prototype.getType=function(){return"setvaluetrigger"},r.prototype.canBeExecuted=function(o){return!o&&!!this.setToName},r.prototype.onPropertyValueChanged=function(o,S,I){if(s.prototype.onPropertyValueChanged.call(this,o,S,I),"setToName"===o){var x=this.getSurvey();x&&!x.isLoadingFromJson&&x.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(r.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(o){this.setPropertyValue("setToName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(o){this.setPropertyValue("setValue",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable",!1)},set:function(o){this.setPropertyValue("isVariable",o)},enumerable:!1,configurable:!0}),r.prototype.onSuccess=function(o,S){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},r}(_),d=function(s){function r(){return s.call(this)||this}return i(r,s),r.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(r.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(o){this.setPropertyValue("gotoName",o)},enumerable:!1,configurable:!0}),r.prototype.canBeExecuted=function(o){return o===!E.settings.executeSkipTriggerOnValueChanged},r.prototype.onSuccess=function(o,S){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},r}(_),c=function(s){function r(){return s.call(this)||this}return i(r,s),r.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(r.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(o){this.setPropertyValue("setToName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(o){this.setPropertyValue("runExpression",o)},enumerable:!1,configurable:!0}),r.prototype.onSuccess=function(o,S){var I=this;if(this.owner&&this.runExpression){var x=new v.ExpressionRunner(this.runExpression);x.canRun&&(x.onRunComplete=function(P){I.onCompleteRunExpression(P)},x.run(o,S))}},r.prototype.onCompleteRunExpression=function(o){this.setToName&&void 0!==o&&this.owner.setTriggerValue(this.setToName,n.Helpers.convertValToQuestionVal(o),!1)},r}(_),a=function(s){function r(){return s.call(this)||this}return i(r,s),r.prototype.canBeExecuted=function(o){return!o&&!!this.setToName&&!!this.fromName},Object.defineProperty(r.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(o){this.setPropertyValue("setToName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(o){this.setPropertyValue("fromName",o)},enumerable:!1,configurable:!0}),r.prototype.getType=function(){return"copyvaluetrigger"},r.prototype.onSuccess=function(o,S){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName)},r}(_);T.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),T.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),T.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new l},"surveytrigger"),T.Serializer.addClass("completetrigger",[],function(){return new m},"surveytrigger"),T.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(s){return!!s&&!!s.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new h},"surveytrigger"),T.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"}],function(){return new a},"surveytrigger"),T.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new d},"surveytrigger"),T.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new c},"surveytrigger")},"./src/utils/cssClassBuilder.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"CssClassBuilder",function(){return n});var n=function(){function y(){this.classes=[]}return y.prototype.isEmpty=function(){return""===this.toString()},y.prototype.append=function(T,v){return void 0===v&&(v=!0),!!T&&v&&("string"==typeof T&&(T=T.trim()),this.classes.push(T)),this},y.prototype.toString=function(){return this.classes.join(" ")},y}()},"./src/utils/devices.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"IsMobile",function(){return v}),e.d(t,"IsTouch",function(){return C});var E,n=!1,y=null;typeof navigator<"u"&&typeof window<"u"&&navigator&&window&&(y=navigator.userAgent||navigator.vendor||window.opera),!(E=y)||("MacIntel"===navigator.platform&&navigator.maxTouchPoints>0||"iPad"===navigator.platform||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(E)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(E.substring(0,4)))&&(n=!0);var v=n||!1,O=!1;typeof window<"u"&&(O="ontouchstart"in window||navigator.maxTouchPoints>0);var C=v&&O},"./src/utils/dragOrClickHelper.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"DragOrClickHelper",function(){return y});var n=e("./src/entries/core.ts"),y=function(){function T(v){var O=this;this.dragHandler=v,this.onPointerUp=function(C){O.clearListeners()},this.tryToStartDrag=function(C){if(O.currentX=C.pageX,O.currentY=C.pageY,!O.isMicroMovement)return O.clearListeners(),O.dragHandler(O.pointerDownEvent,O.currentTarget,O.itemModel),!0}}return T.prototype.onPointerDown=function(v,O){n.IsTouch?this.dragHandler(v,v.currentTarget,O):(this.pointerDownEvent=v,this.currentTarget=v.currentTarget,this.startX=v.pageX,this.startY=v.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=O)},Object.defineProperty(T.prototype,"isMicroMovement",{get:function(){var O=Math.abs(this.currentX-this.startX),C=Math.abs(this.currentY-this.startY);return O<10&&C<10},enumerable:!1,configurable:!0}),T.prototype.clearListeners=function(){!this.pointerDownEvent||(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},T}()},"./src/utils/popup.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"PopupUtils",function(){return n});var n=function(){function y(){}return y.calculatePosition=function(T,v,O,C,E,i,f){void 0===f&&(f="flex");var _=T.left,l=T.top;return"flex"===f&&(_="center"==E?(T.left+T.right-O)/2:"left"==E?T.left-O:T.right),l="middle"==C?(T.top+T.bottom-v)/2:"top"==C?T.top-v:T.bottom,i&&"center"!=E&&"middle"!=C&&("top"==C?l+=T.height:l-=T.height),{left:Math.round(_),top:Math.round(l)}},y.updateVerticalDimensions=function(T,v,O){var C;return T<0?C={height:v+T,top:0}:v+T>O&&(C={height:Math.min(v,O-T-y.bottomIndent),top:T}),C},y.updateHorizontalDimensions=function(T,v,O,C,E,i){void 0===E&&(E="flex"),void 0===i&&(i={left:0,right:0}),v+=i.left+i.right;var f=void 0,_=T;return"center"===C&&("fixed"===E?(T+v>O&&(f=O-T),_-=i.left):T<0?(_=i.left,f=Math.min(v,O)):v+T>O&&(_=O-v,_=Math.max(_,i.left),f=Math.min(v,O))),"left"===C&&T<0&&(_=i.left,f=Math.min(v,O)),"right"===C&&v+T>O&&(f=O-T),{width:f-i.left-i.right,left:_}},y.updateVerticalPosition=function(T,v,O,C,E){var i=v-(T.top+(C?T.height:0)),f=v+T.bottom-(C?T.height:0)-E;return i>0&&f<=0&&"top"==O?O="bottom":f>0&&i<=0&&"bottom"==O?O="top":f>0&&i>0&&(O=i<f?"top":"bottom"),O},y.calculatePopupDirection=function(T,v){var O;return"center"==v&&"middle"!=T?O=T:"center"!=v&&(O=v),O},y.calculatePointerTarget=function(T,v,O,C,E,i,f){void 0===i&&(i=0),void 0===f&&(f=0);var _={};return"center"!=E?(_.top=T.top+T.height/2,_.left=T[E]):"middle"!=C&&(_.top=T[C],_.left=T.left+T.width/2),_.left=Math.round(_.left-O),_.top=Math.round(_.top-v),"left"==E&&(_.left-=i+f),"center"===E&&(_.left-=i),_},y.bottomIndent=16,y}()},"./src/utils/responsivity-manager.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ResponsivityManager",function(){return O}),e.d(t,"VerticalResponsivityManager",function(){return C});var E,n=e("./node_modules/timers-browserify/main.js"),T=e("./src/utils/utils.ts"),v=(E=function(i,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,l){_.__proto__=l}||function(_,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(_[m]=l[m])})(i,f)},function(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=i}E(i,f),i.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),O=function(){function E(i,f,_,l){void 0===l&&(l=null);var m=this;this.container=i,this.model=f,this.itemsSelector=_,this.dotsItemSize=l,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(h){h?m.isInitialized=!1:Object(n.setTimeout)(function(){m.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(h){return m.process()}),this.resizeObserver.observe(this.container.parentElement))}return E.prototype.getDimensions=function(i){return{scroll:i.scrollWidth,offset:i.offsetWidth}},E.prototype.getAvailableSpace=function(){var i=this.getComputedStyle(this.container),f=this.container.offsetWidth;return"border-box"===i.boxSizing&&(f-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),f},E.prototype.calcItemSize=function(i){return i.offsetWidth},E.prototype.calcMinDimension=function(i){var f=this.minDimensionConst;return i.iconSize&&this.recalcMinDimensionConst&&(f=2*i.iconSize+this.paddingSizeConst),i.canShrink?f+(i.needSeparator?this.separatorSize:0):i.maxDimension},E.prototype.calcItemsSizes=function(){var i=this,f=this.model.actions;this.container.querySelectorAll(this.itemsSelector).forEach(function(_,l){i.calcActionDimensions(f[l],_)})},E.prototype.calcActionDimensions=function(i,f){i.maxDimension=this.calcItemSize(f),i.minDimension=this.calcMinDimension(i)},Object.defineProperty(E.prototype,"isContainerVisible",{get:function(){return Object(T.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),E.prototype.process=function(){var i;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0);var f=this.dotsItemSize;if(!this.dotsItemSize){var _=null===(i=this.container)||void 0===i?void 0:i.querySelector(".sv-dots");f=_&&this.calcItemSize(_)||this.dotsSizeConst}this.model.fit(this.getAvailableSpace(),f)}},E.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},E}(),C=function(E){function i(f,_,l,m,h){void 0===h&&(h=40);var d=E.call(this,f,_,l,m)||this;return d.minDimensionConst=h,d.recalcMinDimensionConst=!1,d}return v(i,E),i.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},i.prototype.getAvailableSpace=function(){var f=this.getComputedStyle(this.container),_=this.container.offsetHeight;return"border-box"===f.boxSizing&&(_-=parseFloat(f.paddingTop)+parseFloat(f.paddingBottom)),_},i.prototype.calcItemSize=function(f){return f.offsetHeight},i.prototype.calcActionDimensions=function(f,_){f.maxDimension=this.calcItemSize(_),f.minDimension=this.calcItemSize(_)},i}(O)},"./src/utils/tooltip.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"TooltipManager",function(){return n});var n=function(){function y(T){var v=this;this.tooltipElement=T,this.onMouseMoveCallback=function(O){v.tooltipElement.style.left=O.clientX+12+"px",v.tooltipElement.style.top=O.clientY+12+"px"},this.targetElement=T.parentElement,this.targetElement.addEventListener("mousemove",this.onMouseMoveCallback)}return y.prototype.dispose=function(){this.targetElement.removeEventListener("mousemove",this.onMouseMoveCallback)},y}()},"./src/utils/utils.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"unwrap",function(){return h}),e.d(t,"getSize",function(){return d}),e.d(t,"doKey2ClickBlur",function(){return a}),e.d(t,"doKey2ClickUp",function(){return s}),e.d(t,"doKey2ClickDown",function(){return r}),e.d(t,"sanitizeEditableContent",function(){return M}),e.d(t,"mergeValues",function(){return R}),e.d(t,"getElementWidth",function(){return P}),e.d(t,"isContainerVisible",function(){return g}),e.d(t,"classesToSelector",function(){return x}),e.d(t,"compareVersions",function(){return y}),e.d(t,"confirmAction",function(){return T}),e.d(t,"detectIEOrEdge",function(){return O}),e.d(t,"detectIEBrowser",function(){return v}),e.d(t,"loadFileFromBase64",function(){return C}),e.d(t,"isMobile",function(){return E}),e.d(t,"isElementVisible",function(){return i}),e.d(t,"findScrollableParent",function(){return f}),e.d(t,"scrollElementByChildId",function(){return _}),e.d(t,"createSvg",function(){return m}),e.d(t,"getIconNameFromProxy",function(){return l}),e.d(t,"increaseHeightByContent",function(){return o}),e.d(t,"getOriginalEvent",function(){return S}),e.d(t,"preventDefaults",function(){return I}),e.d(t,"findParentByClassNames",function(){return u});var n=e("./src/settings.ts");function y(w,F){for(var B=/(\.0+)+$/,H=w.replace(B,"").split("."),$=F.replace(B,"").split("."),j=Math.min(H.length,$.length),V=0;V<j;V++){var Q=parseInt(H[V],10)-parseInt($[V],10);if(Q)return Q}return H.length-$.length}function T(w){return n.settings&&n.settings.confirmActionFunc?n.settings.confirmActionFunc(w):confirm(w)}function v(){if(typeof window>"u")return!1;var w=window.navigator.userAgent,F=w.indexOf("MSIE "),B=w.indexOf("Trident/");return F>-1||B>-1}function O(){if(typeof window>"u")return!1;if(typeof O.isIEOrEdge>"u"){var w=window.navigator.userAgent,F=w.indexOf("MSIE "),B=w.indexOf("Trident/"),H=w.indexOf("Edge/");O.isIEOrEdge=H>0||B>0||F>0}return O.isIEOrEdge}function C(w,F){try{for(var B=atob(w.split(",")[1]),H=w.split(",")[0].split(":")[1].split(";")[0],$=new ArrayBuffer(B.length),j=new Uint8Array($),V=0;V<B.length;V++)j[V]=B.charCodeAt(V);var Q=new Blob([$],{type:H});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(Q,F)}catch{}}function E(){return typeof window<"u"&&typeof window.orientation<"u"}function i(w,F){if(void 0===F&&(F=0),typeof document>"u")return!1;var B=w.getBoundingClientRect(),j=Math.max(document.documentElement.clientHeight,window.innerHeight)+F,Q=B.bottom;return Math.max(-F,B.top)<=Math.min(j,Q)}function f(w){return w?w.scrollHeight>w.clientHeight&&("scroll"===getComputedStyle(w).overflowY||"auto"===getComputedStyle(w).overflowY)||w.scrollWidth>w.clientWidth&&("scroll"===getComputedStyle(w).overflowX||"auto"===getComputedStyle(w).overflowX)?w:f(w.parentElement):document.documentElement}function _(w){if(document){var F=document.getElementById(w);if(F){var B=f(F);B&&B.dispatchEvent(new CustomEvent("scroll"))}}}function l(w){return w&&n.settings.customIcons[w]||w}function m(w,F,B,H,$,j){if($){"auto"!==w&&($.style.width=(w||F||16)+"px",$.style.height=(w||B||16)+"px");var V=$.childNodes[0],Q=l(H);V.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+Q);var ie=$.getElementsByTagName("title")[0];if(!j)return void(ie&&$.removeChild(ie));ie||(ie=document.createElementNS("http://www.w3.org/2000/svg","title"),$.appendChild(ie)),ie.textContent=j}}function h(w){return"function"!=typeof w?w:w()}function d(w){if("number"==typeof w)return w+"px";if(w&&"string"==typeof w&&w.length>0){var F=w[w.length-1];if(F>="0"&&F<="9"||"."==F)try{return parseFloat(w)+"px"}catch{}}return w}var c="sv-focused--by-key";function a(w){var F=w.target;!F||!F.classList||F.classList.remove(c)}function s(w,F){if(!w.target||"true"!==w.target.contentEditable){var B=w.target;if(B){var H=w.which||w.keyCode;9===H?B.classList&&!B.classList.contains(c)&&B.classList.add(c):13===H||32===H?B.click&&B.click():(!F||F.processEsc)&&27===H&&B.blur&&B.blur()}}}function r(w,F){if(void 0===F&&(F={processEsc:!0}),!w.target||"true"!==w.target.contentEditable){var B=w.which||w.keyCode,H=[13,32];F.processEsc&&H.push(27),-1!==H.indexOf(B)&&w.preventDefault()}}function o(w,F){if(w){F||(F=function(H){return window.getComputedStyle(H)});var B=F(w);w.style.height="auto",w.style.height=w.scrollHeight+parseFloat(B.borderTopWidth)+parseFloat(B.borderBottomWidth)+"px"}}function S(w){return w.originalEvent||w}function I(w){w.preventDefault(),w.stopPropagation()}function x(w){return w.replace(/\s*?([\w-]+)\s*?/g,".$1")}function P(w){return getComputedStyle?Number.parseFloat(getComputedStyle(w).width):w.offsetWidth}function g(w){return!!(w.offsetWidth||w.offsetHeight||w.getClientRects().length)}function u(w,F){if(w)return F.every(function(B){return!B||w.classList.contains(B)})?w:u(w.parentElement,F)}function M(w){if(window.getSelection&&document.createRange&&w.childNodes.length>0){var F=document.getSelection(),B=F.getRangeAt(0);B.setStart(B.endContainer,B.endOffset),B.setEndAfter(w.lastChild),F.removeAllRanges(),F.addRange(B);var H=F.toString().replace(/\n/g,"").length;w.innerText=w.innerText.replace(/\n/g,""),(B=document.createRange()).setStart(w.childNodes[0],w.innerText.length-H),B.collapse(!0),F.removeAllRanges(),F.addRange(B)}}function R(w,F){if(F&&w&&"object"==typeof F)for(var B in w){var H=w[B];H&&"object"==typeof H?((!F[B]||"object"!=typeof F[B])&&(F[B]={}),R(H,F[B])):F[B]=H}}},"./src/validator.ts":function(K,t,e){"use strict";e.r(t),e.d(t,"ValidatorResult",function(){return E}),e.d(t,"SurveyValidator",function(){return i}),e.d(t,"ValidatorRunner",function(){return f}),e.d(t,"NumericValidator",function(){return _}),e.d(t,"TextValidator",function(){return l}),e.d(t,"AnswerCountValidator",function(){return m}),e.d(t,"RegexValidator",function(){return h}),e.d(t,"EmailValidator",function(){return d}),e.d(t,"ExpressionValidator",function(){return c});var a,n=e("./src/base.ts"),y=e("./src/error.ts"),T=e("./src/jsonobject.ts"),v=e("./src/conditions.ts"),O=e("./src/helpers.ts"),C=(a=function(s,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,S){o.__proto__=S}||function(o,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(o[I]=S[I])})(s,r)},function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=s}a(s,r),s.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),E=function a(s,r){void 0===r&&(r=null),this.value=s,this.error=r},i=function(a){function s(){var r=a.call(this)||this;return r.createLocalizableString("text",r,!0),r}return C(s,a),s.prototype.getSurvey=function(r){return void 0===r&&(r=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(s.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(r){this.setLocalizableStringText("text",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),s.prototype.getErrorText=function(r){return this.text?this.text:this.getDefaultErrorText(r)},s.prototype.getDefaultErrorText=function(r){return""},s.prototype.validate=function(r,o,S,I){return void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),null},Object.defineProperty(s.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),s.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},s.prototype.getMarkdownHtml=function(r,o){return this.errorOwner?this.errorOwner.getMarkdownHtml(r,o):void 0},s.prototype.getRenderer=function(r){return this.errorOwner?this.errorOwner.getRenderer(r):null},s.prototype.getRendererContext=function(r){return this.errorOwner?this.errorOwner.getRendererContext(r):r},s.prototype.getProcessedText=function(r){return this.errorOwner?this.errorOwner.getProcessedText(r):r},s.prototype.createCustomError=function(r){var o=this,S=new y.CustomError(this.getErrorText(r),this.errorOwner);return S.onUpdateErrorTextCallback=function(I){return I.text=o.getErrorText(r)},S},s.prototype.toString=function(){var r=this.getType().replace("validator","");return this.text&&(r+=", "+this.text),r},s}(n.Base),f=function(){function a(){}return a.prototype.run=function(s){var r=this,o=[],S=null,I=null;this.prepareAsyncValidators();for(var x=[],P=s.getValidators(),g=0;g<P.length;g++){var u=P[g];!S&&u.isValidateAllValues&&(S=s.getDataFilteredValues(),I=s.getDataFilteredProperties()),u.isAsync&&(this.asyncValidators.push(u),u.onAsyncCompleted=function(R){if(!!R&&!!R.error&&x.push(R.error),r.onAsyncCompleted){for(var w=0;w<r.asyncValidators.length;w++)if(r.asyncValidators[w].isRunning)return;r.onAsyncCompleted(x)}})}for(P=s.getValidators(),g=0;g<P.length;g++){var M=(u=P[g]).validate(s.validatedValue,s.getValidatorTitle(),S,I);M&&M.error&&o.push(M.error)}return 0==this.asyncValidators.length&&!!this.onAsyncCompleted&&this.onAsyncCompleted([]),o},a.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var s=0;s<this.asyncValidators.length;s++)this.asyncValidators[s].onAsyncCompleted=null;this.asyncValidators=[]},a}(),_=function(a){function s(r,o){void 0===r&&(r=null),void 0===o&&(o=null);var S=a.call(this)||this;return S.minValue=r,S.maxValue=o,S}return C(s,a),s.prototype.getType=function(){return"numericvalidator"},s.prototype.validate=function(r,o,S,I){if(void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),this.isValueEmpty(r))return null;if(!O.Helpers.isNumber(r))return new E(null,new y.RequreNumericError(null,this.errorOwner));var x=new E(parseFloat(r));return null!==this.minValue&&this.minValue>x.value||null!==this.maxValue&&this.maxValue<x.value?(x.error=this.createCustomError(o),x):"number"==typeof r?null:x},s.prototype.getDefaultErrorText=function(r){var o=r||this.getLocalizationString("value");return null!==this.minValue&&null!==this.maxValue?this.getLocalizationFormatString("numericMinMax",o,this.minValue,this.maxValue):null!==this.minValue?this.getLocalizationFormatString("numericMin",o,this.minValue):this.getLocalizationFormatString("numericMax",o,this.maxValue)},Object.defineProperty(s.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(r){this.setPropertyValue("minValue",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(r){this.setPropertyValue("maxValue",r)},enumerable:!1,configurable:!0}),s}(i),l=function(a){function s(){return a.call(this)||this}return C(s,a),s.prototype.getType=function(){return"textvalidator"},s.prototype.validate=function(r,o,S,I){return void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),this.isValueEmpty(r)?null:this.allowDigits||/^[A-Za-z\s]*$/.test(r)?this.minLength>0&&r.length<this.minLength||this.maxLength>0&&r.length>this.maxLength?new E(null,this.createCustomError(o)):null:new E(null,this.createCustomError(o))},s.prototype.getDefaultErrorText=function(r){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(s.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(r){this.setPropertyValue("minLength",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(r){this.setPropertyValue("maxLength",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(r){this.setPropertyValue("allowDigits",r)},enumerable:!1,configurable:!0}),s}(i),m=function(a){function s(r,o){void 0===r&&(r=null),void 0===o&&(o=null);var S=a.call(this)||this;return S.minCount=r,S.maxCount=o,S}return C(s,a),s.prototype.getType=function(){return"answercountvalidator"},s.prototype.validate=function(r,o,S,I){if(void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),null==r||r.constructor!=Array)return null;var x=r.length;return 0==x?null:this.minCount&&x<this.minCount?new E(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&x>this.maxCount?new E(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},s.prototype.getDefaultErrorText=function(r){return r},Object.defineProperty(s.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(r){this.setPropertyValue("minCount",r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(r){this.setPropertyValue("maxCount",r)},enumerable:!1,configurable:!0}),s}(i),h=function(a){function s(r){void 0===r&&(r=null);var o=a.call(this)||this;return o.regex=r,o}return C(s,a),s.prototype.getType=function(){return"regexvalidator"},s.prototype.validate=function(r,o,S,I){if(void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),!this.regex||this.isValueEmpty(r))return null;var x=new RegExp(this.regex);if(Array.isArray(r))for(var P=0;P<r.length;P++){var g=this.hasError(x,r[P],o);if(g)return g}return this.hasError(x,r,o)},s.prototype.hasError=function(r,o,S){return r.test(o)?null:new E(o,this.createCustomError(S))},Object.defineProperty(s.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(r){this.setPropertyValue("regex",r)},enumerable:!1,configurable:!0}),s}(i),d=function(a){function s(){var r=a.call(this)||this;return r.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,r}return C(s,a),s.prototype.getType=function(){return"emailvalidator"},s.prototype.validate=function(r,o,S,I){return void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),!r||this.re.test(r)?null:new E(r,this.createCustomError(o))},s.prototype.getDefaultErrorText=function(r){return this.getLocalizationString("invalidEmail")},s}(i),c=function(a){function s(r){void 0===r&&(r=null);var o=a.call(this)||this;return o.conditionRunner=null,o.isRunningValue=!1,o.expression=r,o}return C(s,a),s.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(s.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isAsync",{get:function(){return!!this.ensureConditionRunner()&&this.conditionRunner.isAsync},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),s.prototype.validate=function(r,o,S,I){var x=this;if(void 0===o&&(o=null),void 0===S&&(S=null),void 0===I&&(I=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(g){x.isRunningValue=!1,x.onAsyncCompleted&&x.onAsyncCompleted(x.generateError(g,r,o))},this.isRunningValue=!0;var P=this.conditionRunner.run(S,I);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(P,r,o))},s.prototype.generateError=function(r,o,S){return r?null:new E(o,this.createCustomError(S))},s.prototype.getDefaultErrorText=function(r){return this.getLocalizationFormatString("invalidExpression",this.expression)},s.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):!!this.expression&&(this.conditionRunner=new v.ConditionRunner(this.expression),!0)},Object.defineProperty(s.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(r){this.setPropertyValue("expression",r)},enumerable:!1,configurable:!0}),s}(i);T.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),T.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new _},"surveyvalidator"),T.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new l},"surveyvalidator"),T.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new m},"surveyvalidator"),T.Serializer.addClass("regexvalidator",["regex"],function(){return new h},"surveyvalidator"),T.Serializer.addClass("emailvalidator",[],function(){return new d},"surveyvalidator"),T.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new c},"surveyvalidator")}})},8759:(Je,K,t)=>{"use strict";t.d(K,{V8:()=>e,Me:()=>y});class e{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(v,O=!1){return this.onePassHasher.start().appendStr(v).end(O)}static hashAsciiStr(v,O=!1){return this.onePassHasher.start().appendAsciiStr(v).end(O)}static _hex(v){const O=e.hexChars,C=e.hexOut;let E,i,f,_;for(_=0;_<4;_+=1)for(i=8*_,E=v[_],f=0;f<8;f+=2)C[i+1+f]=O.charAt(15&E),E>>>=4,C[i+0+f]=O.charAt(15&E),E>>>=4;return C.join("")}static _md5cycle(v,O){let C=v[0],E=v[1],i=v[2],f=v[3];C+=(E&i|~E&f)+O[0]-680876936|0,C=(C<<7|C>>>25)+E|0,f+=(C&E|~C&i)+O[1]-389564586|0,f=(f<<12|f>>>20)+C|0,i+=(f&C|~f&E)+O[2]+606105819|0,i=(i<<17|i>>>15)+f|0,E+=(i&f|~i&C)+O[3]-1044525330|0,E=(E<<22|E>>>10)+i|0,C+=(E&i|~E&f)+O[4]-176418897|0,C=(C<<7|C>>>25)+E|0,f+=(C&E|~C&i)+O[5]+1200080426|0,f=(f<<12|f>>>20)+C|0,i+=(f&C|~f&E)+O[6]-1473231341|0,i=(i<<17|i>>>15)+f|0,E+=(i&f|~i&C)+O[7]-45705983|0,E=(E<<22|E>>>10)+i|0,C+=(E&i|~E&f)+O[8]+1770035416|0,C=(C<<7|C>>>25)+E|0,f+=(C&E|~C&i)+O[9]-1958414417|0,f=(f<<12|f>>>20)+C|0,i+=(f&C|~f&E)+O[10]-42063|0,i=(i<<17|i>>>15)+f|0,E+=(i&f|~i&C)+O[11]-1990404162|0,E=(E<<22|E>>>10)+i|0,C+=(E&i|~E&f)+O[12]+1804603682|0,C=(C<<7|C>>>25)+E|0,f+=(C&E|~C&i)+O[13]-40341101|0,f=(f<<12|f>>>20)+C|0,i+=(f&C|~f&E)+O[14]-1502002290|0,i=(i<<17|i>>>15)+f|0,E+=(i&f|~i&C)+O[15]+1236535329|0,E=(E<<22|E>>>10)+i|0,C+=(E&f|i&~f)+O[1]-165796510|0,C=(C<<5|C>>>27)+E|0,f+=(C&i|E&~i)+O[6]-1069501632|0,f=(f<<9|f>>>23)+C|0,i+=(f&E|C&~E)+O[11]+643717713|0,i=(i<<14|i>>>18)+f|0,E+=(i&C|f&~C)+O[0]-373897302|0,E=(E<<20|E>>>12)+i|0,C+=(E&f|i&~f)+O[5]-701558691|0,C=(C<<5|C>>>27)+E|0,f+=(C&i|E&~i)+O[10]+38016083|0,f=(f<<9|f>>>23)+C|0,i+=(f&E|C&~E)+O[15]-660478335|0,i=(i<<14|i>>>18)+f|0,E+=(i&C|f&~C)+O[4]-405537848|0,E=(E<<20|E>>>12)+i|0,C+=(E&f|i&~f)+O[9]+568446438|0,C=(C<<5|C>>>27)+E|0,f+=(C&i|E&~i)+O[14]-1019803690|0,f=(f<<9|f>>>23)+C|0,i+=(f&E|C&~E)+O[3]-187363961|0,i=(i<<14|i>>>18)+f|0,E+=(i&C|f&~C)+O[8]+1163531501|0,E=(E<<20|E>>>12)+i|0,C+=(E&f|i&~f)+O[13]-1444681467|0,C=(C<<5|C>>>27)+E|0,f+=(C&i|E&~i)+O[2]-51403784|0,f=(f<<9|f>>>23)+C|0,i+=(f&E|C&~E)+O[7]+1735328473|0,i=(i<<14|i>>>18)+f|0,E+=(i&C|f&~C)+O[12]-1926607734|0,E=(E<<20|E>>>12)+i|0,C+=(E^i^f)+O[5]-378558|0,C=(C<<4|C>>>28)+E|0,f+=(C^E^i)+O[8]-2022574463|0,f=(f<<11|f>>>21)+C|0,i+=(f^C^E)+O[11]+1839030562|0,i=(i<<16|i>>>16)+f|0,E+=(i^f^C)+O[14]-35309556|0,E=(E<<23|E>>>9)+i|0,C+=(E^i^f)+O[1]-1530992060|0,C=(C<<4|C>>>28)+E|0,f+=(C^E^i)+O[4]+1272893353|0,f=(f<<11|f>>>21)+C|0,i+=(f^C^E)+O[7]-155497632|0,i=(i<<16|i>>>16)+f|0,E+=(i^f^C)+O[10]-1094730640|0,E=(E<<23|E>>>9)+i|0,C+=(E^i^f)+O[13]+681279174|0,C=(C<<4|C>>>28)+E|0,f+=(C^E^i)+O[0]-358537222|0,f=(f<<11|f>>>21)+C|0,i+=(f^C^E)+O[3]-722521979|0,i=(i<<16|i>>>16)+f|0,E+=(i^f^C)+O[6]+76029189|0,E=(E<<23|E>>>9)+i|0,C+=(E^i^f)+O[9]-640364487|0,C=(C<<4|C>>>28)+E|0,f+=(C^E^i)+O[12]-421815835|0,f=(f<<11|f>>>21)+C|0,i+=(f^C^E)+O[15]+530742520|0,i=(i<<16|i>>>16)+f|0,E+=(i^f^C)+O[2]-995338651|0,E=(E<<23|E>>>9)+i|0,C+=(i^(E|~f))+O[0]-198630844|0,C=(C<<6|C>>>26)+E|0,f+=(E^(C|~i))+O[7]+1126891415|0,f=(f<<10|f>>>22)+C|0,i+=(C^(f|~E))+O[14]-1416354905|0,i=(i<<15|i>>>17)+f|0,E+=(f^(i|~C))+O[5]-57434055|0,E=(E<<21|E>>>11)+i|0,C+=(i^(E|~f))+O[12]+1700485571|0,C=(C<<6|C>>>26)+E|0,f+=(E^(C|~i))+O[3]-1894986606|0,f=(f<<10|f>>>22)+C|0,i+=(C^(f|~E))+O[10]-1051523|0,i=(i<<15|i>>>17)+f|0,E+=(f^(i|~C))+O[1]-2054922799|0,E=(E<<21|E>>>11)+i|0,C+=(i^(E|~f))+O[8]+1873313359|0,C=(C<<6|C>>>26)+E|0,f+=(E^(C|~i))+O[15]-30611744|0,f=(f<<10|f>>>22)+C|0,i+=(C^(f|~E))+O[6]-1560198380|0,i=(i<<15|i>>>17)+f|0,E+=(f^(i|~C))+O[13]+1309151649|0,E=(E<<21|E>>>11)+i|0,C+=(i^(E|~f))+O[4]-145523070|0,C=(C<<6|C>>>26)+E|0,f+=(E^(C|~i))+O[11]-1120210379|0,f=(f<<10|f>>>22)+C|0,i+=(C^(f|~E))+O[2]+718787259|0,i=(i<<15|i>>>17)+f|0,E+=(f^(i|~C))+O[9]-343485551|0,E=(E<<21|E>>>11)+i|0,v[0]=C+v[0]|0,v[1]=E+v[1]|0,v[2]=i+v[2]|0,v[3]=f+v[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(v){const O=this._buffer8,C=this._buffer32;let i,f,E=this._bufferLength;for(f=0;f<v.length;f+=1){if(i=v.charCodeAt(f),i<128)O[E++]=i;else if(i<2048)O[E++]=192+(i>>>6),O[E++]=63&i|128;else if(i<55296||i>56319)O[E++]=224+(i>>>12),O[E++]=i>>>6&63|128,O[E++]=63&i|128;else{if(i=1024*(i-55296)+(v.charCodeAt(++f)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");O[E++]=240+(i>>>18),O[E++]=i>>>12&63|128,O[E++]=i>>>6&63|128,O[E++]=63&i|128}E>=64&&(this._dataLength+=64,e._md5cycle(this._state,C),E-=64,C[0]=C[16])}return this._bufferLength=E,this}appendAsciiStr(v){const O=this._buffer8,C=this._buffer32;let i,E=this._bufferLength,f=0;for(;;){for(i=Math.min(v.length-f,64-E);i--;)O[E++]=v.charCodeAt(f++);if(E<64)break;this._dataLength+=64,e._md5cycle(this._state,C),E=0}return this._bufferLength=E,this}appendByteArray(v){const O=this._buffer8,C=this._buffer32;let i,E=this._bufferLength,f=0;for(;;){for(i=Math.min(v.length-f,64-E);i--;)O[E++]=v[f++];if(E<64)break;this._dataLength+=64,e._md5cycle(this._state,C),E=0}return this._bufferLength=E,this}getState(){const v=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[v[0],v[1],v[2],v[3]]}}setState(v){const O=v.buffer,C=v.state,E=this._state;let i;for(this._dataLength=v.length,this._bufferLength=v.buflen,E[0]=C[0],E[1]=C[1],E[2]=C[2],E[3]=C[3],i=0;i<O.length;i+=1)this._buffer8[i]=O.charCodeAt(i)}end(v=!1){const O=this._bufferLength,C=this._buffer8,E=this._buffer32,i=1+(O>>2);this._dataLength+=O;const f=8*this._dataLength;if(C[O]=128,C[O+1]=C[O+2]=C[O+3]=0,E.set(e.buffer32Identity.subarray(i),i),O>55&&(e._md5cycle(this._state,E),E.set(e.buffer32Identity)),f<=4294967295)E[14]=f;else{const _=f.toString(16).match(/(.*?)(.{0,8})$/);if(null===_)return;const l=parseInt(_[2],16),m=parseInt(_[1],16)||0;E[14]=l,E[15]=m}return e._md5cycle(this._state,E),v?this._state:e._hex(this._state)}}if(e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,"5d41402abc4b2a76b9719d911017c592"!==e.hashStr("hello"))throw new Error("Md5 self test failed.");class y{constructor(v,O){this._queue=[],this._ready=!0;const C=this;Worker?(C._hashWorker=new Worker(v,O),C._hashWorker.onmessage=C._recievedMessage.bind(C),C._hashWorker.onerror=E=>{C._ready=!1,console.error("Hash worker failure",E)}):(C._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(v){const O=this;let C;return C=new Promise((E,i)=>{O._queue.push({blob:v,resolve:E,reject:i}),O._processNext()}),C}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(v){var O,C;const E=v.data;E.success?null===(O=this._processing)||void 0===O||O.resolve(E.result):null===(C=this._processing)||void 0===C||C.reject(E.result),this._processing=void 0,this._processNext()}}},6930:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(e,n,y,T,v,O,C){var E=new Date(0);return E.setUTCFullYear(e,n,y),E.setUTCHours(T,v,O,C),E},Je.exports=K.default},47:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(T,v,O){var C=function y(T,v,O){if(O&&!O.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(O?[O.code,"en-US"]:void 0,{timeZone:v,timeZoneName:T})}(T,O.timeZone,O.locale);return C.formatToParts?function e(T,v){for(var O=T.formatToParts(v),C=O.length-1;C>=0;--C)if("timeZoneName"===O[C].type)return O[C].value}(C,v):function n(T,v){var O=T.format(v).replace(/\u200E/g,""),C=/ [\w-+ ]+$/.exec(O);return C?C[0].substr(1):""}(C,v)},Je.exports=K.default},1870:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function C(h,d,c){var a,s,r;if(""===h||(a=O.timezoneZ.exec(h)))return 0;if(a=O.timezoneHH.exec(h))return _(r=parseInt(a[1],10))?-r*T:NaN;if(a=O.timezoneHHMM.exec(h)){r=parseInt(a[1],10);var o=parseInt(a[2],10);return _(r,o)?(s=Math.abs(r)*T+6e4*o,r>0?-s:s):NaN}if(function m(h){if(l[h])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:h}),l[h]=!0,!0}catch{return!1}}(h)){d=new Date(d||Date.now());var S=c?d:function E(h){return(0,n.default)(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds())}(d),I=i(S,h),x=c?I:function f(h,d,c){var s=h.getTime()-d,r=i(new Date(s),c);if(d===r)return d;s-=r-d;var o=i(new Date(s),c);return r===o?r:Math.max(r,o)}(d,I,h);return-x}return NaN};var e=y(t(8598)),n=y(t(6930));function y(h){return h&&h.__esModule?h:{default:h}}var T=36e5,O={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function i(h,d){var c=(0,e.default)(h,d),a=(0,n.default)(c[0],c[1]-1,c[2],c[3]%24,c[4],c[5],0).getTime(),s=h.getTime(),r=s%1e3;return a-(s-(r>=0?r:1e3+r))}function _(h,d){return-23<=h&&h<=23&&(null==d||0<=d&&d<=59)}var l={};Je.exports=K.default},2121:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,K.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Je.exports=K.default},8598:(Je,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function t(O,C){var E=function v(O){if(!T[O]){var C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));T[O]="06/25/2014, 00:00:00"===C||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===C?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:O,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:O,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return T[O]}(C);return E.formatToParts?function n(O,C){try{for(var E=O.formatToParts(C),i=[],f=0;f<E.length;f++){var _=e[E[f].type];_>=0&&(i[_]=parseInt(E[f].value,10))}return i}catch(l){if(l instanceof RangeError)return[NaN];throw l}}(E,O):function y(O,C){var E=O.format(C).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(E);return[i[3],i[1],i[2],i[4],i[5],i[6]]}(E,O)};var e={year:0,month:1,day:2,hour:3,minute:4,second:5},T={};Je.exports=K.default},5660:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=y(t(47)),n=y(t(1870));function y(l){return l&&l.__esModule?l:{default:l}}function O(l,m){var h=l?(0,n.default)(l,m,!0)/6e4:m.getTimezoneOffset();if(Number.isNaN(h))throw new RangeError("Invalid time zone specified: "+l);return h}function C(l,m){for(var h=l<0?"-":"",d=Math.abs(l).toString();d.length<m;)d="0"+d;return h+d}function E(l,m){var h=m||"",d=l>0?"-":"+",c=Math.abs(l);return d+C(Math.floor(c/60),2)+h+C(Math.floor(c%60),2)}function i(l,m){return l%60==0?(l>0?"-":"+")+C(Math.abs(l)/60,2):E(l,m)}K.default={X:function(l,m,h,d){var c=O(d.timeZone,d._originalDate||l);if(0===c)return"Z";switch(m){case"X":return i(c);case"XXXX":case"XX":return E(c);default:return E(c,":")}},x:function(l,m,h,d){var c=O(d.timeZone,d._originalDate||l);switch(m){case"x":return i(c);case"xxxx":case"xx":return E(c);default:return E(c,":")}},O:function(l,m,h,d){var c=O(d.timeZone,d._originalDate||l);switch(m){case"O":case"OO":case"OOO":return"GMT"+function f(l,m){var h=l>0?"-":"+",d=Math.abs(l),c=Math.floor(d/60),a=d%60;if(0===a)return h+String(c);var s=m||"";return h+String(c)+s+C(a,2)}(c,":");default:return"GMT"+E(c,":")}},z:function(l,m,h,d){var c=d._originalDate||l;switch(m){case"z":case"zz":case"zzz":return(0,e.default)("short",c,d);default:return(0,e.default)("long",c,d)}}},Je.exports=K.default},4294:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function O(C,E,i){var f=String(E),_=i||{},l=f.match(v);if(l){var m=(0,y.default)(C,_);f=l.reduce(function(h,d){if("'"===d[0])return h;var c=h.indexOf(d),a="'"===h[c-1],s=h.replace(d,"'"+n.default[d[0]](m,d,null,_)+"'");return a?s.substring(0,c-1)+s.substring(c+1):s},f)}return(0,e.default)(C,f,_)};var e=T(t(7868)),n=T(t(5660)),y=T(t(9018));function T(C){return C&&C.__esModule?C:{default:C}}var v=/([xXOz]+)|''|'(''|[^'])+('|$)/g;Je.exports=K.default},8032:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function v(O,C,E,i){var f=(0,e.default)(i);return f.timeZone=C,(0,n.default)((0,y.default)(O,C),E,f)};var e=T(t(2926)),n=T(t(4294)),y=T(t(7318));function T(O){return O&&O.__esModule?O:{default:O}}Je.exports=K.default},6167:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function y(T,v){return-(0,e.default)(T,v)};var e=function n(T){return T&&T.__esModule?T:{default:T}}(t(1870));Je.exports=K.default},298:(Je,K,t)=>{"use strict";Je.exports={format:t(4294),formatInTimeZone:t(8032),getTimezoneOffset:t(6167),toDate:t(9018),utcToZonedTime:t(7318),zonedTimeToUtc:t(9679)}},9018:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function f(x,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===x)return new Date(NaN);var g=P||{},u=null==g.additionalDigits?2:(0,e.default)(g.additionalDigits);if(2!==u&&1!==u&&0!==u)throw new RangeError("additionalDigits must be 0, 1 or 2");if(x instanceof Date||"object"==typeof x&&"[object Date]"===Object.prototype.toString.call(x))return new Date(x.getTime());if("number"==typeof x||"[object Number]"===Object.prototype.toString.call(x))return new Date(x);if("string"!=typeof x&&"[object String]"!==Object.prototype.toString.call(x))return new Date(NaN);var M=_(x),R=l(M.date,u),w=R.year,F=R.restDateString,B=m(F,w);if(isNaN(B))return new Date(NaN);if(B){var j,H=B.getTime(),$=0;if(M.time&&($=h(M.time),isNaN($)))return new Date(NaN);if(M.timeZone||g.timeZone){if(j=(0,y.default)(M.timeZone||g.timeZone,new Date(H+$)),isNaN(j))return new Date(NaN)}else j=(0,n.default)(new Date(H+$)),j=(0,n.default)(new Date(H+$+j));return new Date(H+$+j)}return new Date(NaN)};var e=v(t(6092)),n=v(t(7664)),y=v(t(1870)),T=v(t(2121));function v(x){return x&&x.__esModule?x:{default:x}}var O=36e5,i={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:T.default};function _(x){var u,P={},g=i.dateTimePattern.exec(x);if(g?(P.date=g[1],u=g[3]):(g=i.datePattern.exec(x))?(P.date=g[1],u=g[2]):(P.date=null,u=x),u){var M=i.timeZone.exec(u);M?(P.time=u.replace(M[1],""),P.timeZone=M[1].trim()):P.time=u}return P}function l(x,P){var M,g=i.YYY[P],u=i.YYYYY[P];if(M=i.YYYY.exec(x)||u.exec(x)){var R=M[1];return{year:parseInt(R,10),restDateString:x.slice(R.length)}}if(M=i.YY.exec(x)||g.exec(x)){var w=M[1];return{year:100*parseInt(w,10),restDateString:x.slice(w.length)}}return{year:null}}function m(x,P){if(null===P)return null;var g,u,M,R;if(0===x.length)return(u=new Date(0)).setUTCFullYear(P),u;if(g=i.MM.exec(x))return u=new Date(0),r(P,M=parseInt(g[1],10)-1)?(u.setUTCFullYear(P,M),u):new Date(NaN);if(g=i.DDD.exec(x)){u=new Date(0);var w=parseInt(g[1],10);return function o(x,P){if(P<1)return!1;var g=s(x);return!(g&&P>366||!g&&P>365)}(P,w)?(u.setUTCFullYear(P,0,w),u):new Date(NaN)}if(g=i.MMDD.exec(x)){u=new Date(0),M=parseInt(g[1],10)-1;var F=parseInt(g[2],10);return r(P,M,F)?(u.setUTCFullYear(P,M,F),u):new Date(NaN)}if(g=i.Www.exec(x))return S(0,R=parseInt(g[1],10)-1)?d(P,R):new Date(NaN);if(g=i.WwwD.exec(x)){R=parseInt(g[1],10)-1;var B=parseInt(g[2],10)-1;return S(0,R,B)?d(P,R,B):new Date(NaN)}return null}function h(x){var P,g,u;if(P=i.HH.exec(x))return I(g=parseFloat(P[1].replace(",",".")))?g%24*O:NaN;if(P=i.HHMM.exec(x))return I(g=parseInt(P[1],10),u=parseFloat(P[2].replace(",",".")))?g%24*O+6e4*u:NaN;if(P=i.HHMMSS.exec(x)){g=parseInt(P[1],10),u=parseInt(P[2],10);var M=parseFloat(P[3].replace(",","."));return I(g,u,M)?g%24*O+6e4*u+1e3*M:NaN}return null}function d(x,P,g){P=P||0,g=g||0;var u=new Date(0);u.setUTCFullYear(x,0,4);var R=7*P+g+1-(u.getUTCDay()||7);return u.setUTCDate(u.getUTCDate()+R),u}var c=[31,28,31,30,31,30,31,31,30,31,30,31],a=[31,29,31,30,31,30,31,31,30,31,30,31];function s(x){return x%400==0||x%4==0&&x%100!=0}function r(x,P,g){if(P<0||P>11)return!1;if(null!=g){if(g<1)return!1;var u=s(x);if(u&&g>a[P]||!u&&g>c[P])return!1}return!0}function S(x,P,g){return!(P<0||P>52||null!=g&&(g<0||g>6))}function I(x,P,g){return!(null!=x&&(x<0||x>=25)||null!=P&&(P<0||P>=60)||null!=g&&(g<0||g>=60))}Je.exports=K.default},7318:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function T(v,O,C){var E=(0,n.default)(v,C),i=(0,e.default)(O,E,!0),f=new Date(E.getTime()-i),_=new Date(0);return _.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),_.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),_};var e=y(t(1870)),n=y(t(9018));function y(v){return v&&v.__esModule?v:{default:v}}Je.exports=K.default},9679:(Je,K,t)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function C(E,i,f){if("string"==typeof E&&!E.match(y.default)){var _=(0,e.default)(f);return _.timeZone=i,(0,n.default)(E,_)}var l=(0,n.default)(E,f),m=(0,v.default)(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()).getTime(),h=(0,T.default)(i,new Date(m));return new Date(m+h)};var e=O(t(2926)),n=O(t(9018)),y=O(t(2121)),T=O(t(1870)),v=O(t(6930));function O(E){return E&&E.__esModule?E:{default:E}}Je.exports=K.default},9671:(Je,K,t)=>{"use strict";function e(y,T,v,O,C,E,i){try{var f=y[E](i),_=f.value}catch(l){return void v(l)}f.done?T(_):Promise.resolve(_).then(O,C)}function n(y){return function(){var T=this,v=arguments;return new Promise(function(O,C){var E=y.apply(T,v);function i(_){e(E,O,C,i,f,"next",_)}function f(_){e(E,O,C,i,f,"throw",_)}i(void 0)})}}t.d(K,{Z:()=>n})},7340:(Je,K,t)=>{"use strict";t.d(K,{F4:()=>f,IO:()=>d,LC:()=>n,SB:()=>i,X$:()=>T,ZE:()=>r,ZN:()=>s,_j:()=>e,eR:()=>_,jt:()=>v,k1:()=>o,l3:()=>y,oB:()=>E,pV:()=>m,ru:()=>O,vP:()=>C});class e{}class n{}const y="*";function T(S,I){return{type:7,name:S,definitions:I,options:{}}}function v(S,I=null){return{type:4,styles:I,timings:S}}function O(S,I=null){return{type:3,steps:S,options:I}}function C(S,I=null){return{type:2,steps:S,options:I}}function E(S){return{type:6,styles:S,offset:null}}function i(S,I,x){return{type:0,name:S,styles:I,options:x}}function f(S){return{type:5,steps:S}}function _(S,I,x=null){return{type:1,expr:S,animation:I,options:x}}function m(S=null){return{type:9,options:S}}function d(S,I,x=null){return{type:11,selector:S,animation:I,options:x}}function a(S){Promise.resolve().then(S)}class s{constructor(I=0,x=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=I+x}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}onStart(I){this._originalOnStartFns.push(I),this._onStartFns.push(I)}onDone(I){this._originalOnDoneFns.push(I),this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){a(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(I=>I()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(I){this._position=this.totalTime?I*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(I){const x="start"==I?this._onStartFns:this._onDoneFns;x.forEach(P=>P()),x.length=0}}class r{constructor(I){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=I;let x=0,P=0,g=0;const u=this.players.length;0==u?a(()=>this._onFinish()):this.players.forEach(M=>{M.onDone(()=>{++x==u&&this._onFinish()}),M.onDestroy(()=>{++P==u&&this._onDestroy()}),M.onStart(()=>{++g==u&&this._onStart()})}),this.totalTime=this.players.reduce((M,R)=>Math.max(M,R.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}init(){this.players.forEach(I=>I.init())}onStart(I){this._onStartFns.push(I)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(I=>I()),this._onStartFns=[])}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(I=>I.play())}pause(){this.players.forEach(I=>I.pause())}restart(){this.players.forEach(I=>I.restart())}finish(){this._onFinish(),this.players.forEach(I=>I.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(I=>I.destroy()),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}reset(){this.players.forEach(I=>I.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(I){const x=I*this.totalTime;this.players.forEach(P=>{const g=P.totalTime?Math.min(1,x/P.totalTime):1;P.setPosition(g)})}getPosition(){const I=this.players.reduce((x,P)=>null===x||P.totalTime>x.totalTime?P:x,null);return null!=I?I.getPosition():0}beforeDestroy(){this.players.forEach(I=>{I.beforeDestroy&&I.beforeDestroy()})}triggerCallback(I){const x="start"==I?this._onStartFns:this._onDoneFns;x.forEach(P=>P()),x.length=0}}const o="!"},2687:(Je,K,t)=>{"use strict";t.d(K,{$s:()=>R,Em:()=>$,Kd:()=>ft,X6:()=>ot,ic:()=>V,kH:()=>nt,mK:()=>it,qV:()=>He,qm:()=>rt,rt:()=>le,s1:()=>H,tE:()=>Et,yG:()=>ge});var e=t(6895),n=t(6353),y=t(3353),T=t(8929),v=t(2654),O=t(591),C=t(1086),E=t(9521),i=t(2994),f=t(13),_=t(2198),l=t(4850),m=t(2986),h=t(1307),d=t(5778),c=t(7625),a=t(1281),s=t(9643),r=t(2289);function x(te,J){return(te.getAttribute(J)||"").match(/\S+/g)||[]}const g="cdk-describedby-message",u="cdk-describedby-host";let M=0,R=(()=>{class te{constructor(ne,$e){this._platform=$e,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+M++,this._document=ne,this._id=(0,n.f3M)(n.AFp)+"-"+M++}describe(ne,$e,Qe){if(!this._canBeDescribed(ne,$e))return;const Tt=w($e,Qe);"string"!=typeof $e?(F($e,this._id),this._messageRegistry.set(Tt,{messageElement:$e,referenceCount:0})):this._messageRegistry.has(Tt)||this._createMessageElement($e,Qe),this._isElementDescribedByMessage(ne,Tt)||this._addMessageReference(ne,Tt)}removeDescription(ne,$e,Qe){if(!$e||!this._isElementNode(ne))return;const Tt=w($e,Qe);if(this._isElementDescribedByMessage(ne,Tt)&&this._removeMessageReference(ne,Tt),"string"==typeof $e){const zt=this._messageRegistry.get(Tt);zt&&0===zt.referenceCount&&this._deleteMessageElement(Tt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const ne=this._document.querySelectorAll(`[${u}="${this._id}"]`);for(let $e=0;$e<ne.length;$e++)this._removeCdkDescribedByReferenceIds(ne[$e]),ne[$e].removeAttribute(u);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(ne,$e){const Qe=this._document.createElement("div");F(Qe,this._id),Qe.textContent=ne,$e&&Qe.setAttribute("role",$e),this._createMessagesContainer(),this._messagesContainer.appendChild(Qe),this._messageRegistry.set(w(ne,$e),{messageElement:Qe,referenceCount:0})}_deleteMessageElement(ne){this._messageRegistry.get(ne)?.messageElement?.remove(),this._messageRegistry.delete(ne)}_createMessagesContainer(){if(this._messagesContainer)return;const ne="cdk-describedby-message-container",$e=this._document.querySelectorAll(`.${ne}[platform="server"]`);for(let Tt=0;Tt<$e.length;Tt++)$e[Tt].remove();const Qe=this._document.createElement("div");Qe.style.visibility="hidden",Qe.classList.add(ne),Qe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Qe.setAttribute("platform","server"),this._document.body.appendChild(Qe),this._messagesContainer=Qe}_removeCdkDescribedByReferenceIds(ne){const $e=x(ne,"aria-describedby").filter(Qe=>0!=Qe.indexOf(g));ne.setAttribute("aria-describedby",$e.join(" "))}_addMessageReference(ne,$e){const Qe=this._messageRegistry.get($e);(function S(te,J,ne){const $e=x(te,J);$e.some(Qe=>Qe.trim()==ne.trim())||($e.push(ne.trim()),te.setAttribute(J,$e.join(" ")))})(ne,"aria-describedby",Qe.messageElement.id),ne.setAttribute(u,this._id),Qe.referenceCount++}_removeMessageReference(ne,$e){const Qe=this._messageRegistry.get($e);Qe.referenceCount--,function I(te,J,ne){const Qe=x(te,J).filter(Tt=>Tt!=ne.trim());Qe.length?te.setAttribute(J,Qe.join(" ")):te.removeAttribute(J)}(ne,"aria-describedby",Qe.messageElement.id),ne.removeAttribute(u)}_isElementDescribedByMessage(ne,$e){const Qe=x(ne,"aria-describedby"),Tt=this._messageRegistry.get($e),zt=Tt&&Tt.messageElement.id;return!!zt&&-1!=Qe.indexOf(zt)}_canBeDescribed(ne,$e){if(!this._isElementNode(ne))return!1;if($e&&"object"==typeof $e)return!0;const Qe=null==$e?"":`${$e}`.trim(),Tt=ne.getAttribute("aria-label");return!(!Qe||Tt&&Tt.trim()===Qe)}_isElementNode(ne){return ne.nodeType===this._document.ELEMENT_NODE}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(e.K0),n.LFG(y.t4))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();function w(te,J){return"string"==typeof te?`${J||""}/${te}`:te}function F(te,J){te.id||(te.id=`${g}-${J}-${M++}`)}class B{constructor(J){this._items=J,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new T.xQ,this._typeaheadSubscription=v.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ne=>ne.disabled,this._pressedLetters=[],this.tabOut=new T.xQ,this.change=new T.xQ,J instanceof n.n_E&&(this._itemChangesSubscription=J.changes.subscribe(ne=>{if(this._activeItem){const Qe=ne.toArray().indexOf(this._activeItem);Qe>-1&&Qe!==this._activeItemIndex&&(this._activeItemIndex=Qe)}}))}skipPredicate(J){return this._skipPredicateFn=J,this}withWrap(J=!0){return this._wrap=J,this}withVerticalOrientation(J=!0){return this._vertical=J,this}withHorizontalOrientation(J){return this._horizontal=J,this}withAllowedModifierKeys(J){return this._allowedModifierKeys=J,this}withTypeAhead(J=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,i.b)(ne=>this._pressedLetters.push(ne)),(0,f.b)(J),(0,_.h)(()=>this._pressedLetters.length>0),(0,l.U)(()=>this._pressedLetters.join(""))).subscribe(ne=>{const $e=this._getItemsArray();for(let Qe=1;Qe<$e.length+1;Qe++){const Tt=(this._activeItemIndex+Qe)%$e.length,zt=$e[Tt];if(!this._skipPredicateFn(zt)&&0===zt.getLabel().toUpperCase().trim().indexOf(ne)){this.setActiveItem(Tt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(J=!0){return this._homeAndEnd=J,this}withPageUpDown(J=!0,ne=10){return this._pageUpAndDown={enabled:J,delta:ne},this}setActiveItem(J){const ne=this._activeItem;this.updateActiveItem(J),this._activeItem!==ne&&this.change.next(this._activeItemIndex)}onKeydown(J){const ne=J.keyCode,Qe=["altKey","ctrlKey","metaKey","shiftKey"].every(Tt=>!J[Tt]||this._allowedModifierKeys.indexOf(Tt)>-1);switch(ne){case E.Mf:return void this.tabOut.next();case E.JH:if(this._vertical&&Qe){this.setNextItemActive();break}return;case E.LH:if(this._vertical&&Qe){this.setPreviousItemActive();break}return;case E.SV:if(this._horizontal&&Qe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case E.oh:if(this._horizontal&&Qe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case E.Sd:if(this._homeAndEnd&&Qe){this.setFirstItemActive();break}return;case E.uR:if(this._homeAndEnd&&Qe){this.setLastItemActive();break}return;case E.Ku:if(this._pageUpAndDown.enabled&&Qe){const Tt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Tt>0?Tt:0,1);break}return;case E.VM:if(this._pageUpAndDown.enabled&&Qe){const Tt=this._activeItemIndex+this._pageUpAndDown.delta,zt=this._getItemsArray().length;this._setActiveItemByIndex(Tt<zt?Tt:zt-1,-1);break}return;default:return void((Qe||(0,E.Vb)(J,"shiftKey"))&&(J.key&&1===J.key.length?this._letterKeyStream.next(J.key.toLocaleUpperCase()):(ne>=E.A&&ne<=E.Z||ne>=E.xE&&ne<=E.aO)&&this._letterKeyStream.next(String.fromCharCode(ne))))}this._pressedLetters=[],J.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(J){const ne=this._getItemsArray(),$e="number"==typeof J?J:ne.indexOf(J);this._activeItem=ne[$e]??null,this._activeItemIndex=$e}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(J){this._wrap?this._setActiveInWrapMode(J):this._setActiveInDefaultMode(J)}_setActiveInWrapMode(J){const ne=this._getItemsArray();for(let $e=1;$e<=ne.length;$e++){const Qe=(this._activeItemIndex+J*$e+ne.length)%ne.length;if(!this._skipPredicateFn(ne[Qe]))return void this.setActiveItem(Qe)}}_setActiveInDefaultMode(J){this._setActiveItemByIndex(this._activeItemIndex+J,J)}_setActiveItemByIndex(J,ne){const $e=this._getItemsArray();if($e[J]){for(;this._skipPredicateFn($e[J]);)if(!$e[J+=ne])return;this.setActiveItem(J)}}_getItemsArray(){return this._items instanceof n.n_E?this._items.toArray():this._items}}class H extends B{setActiveItem(J){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(J),this.activeItem&&this.activeItem.setActiveStyles()}}class $ extends B{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(J){return this._origin=J,this}setActiveItem(J){super.setActiveItem(J),this.activeItem&&this.activeItem.focus(this._origin)}}let V=(()=>{class te{constructor(ne){this._platform=ne}isDisabled(ne){return ne.hasAttribute("disabled")}isVisible(ne){return function ie(te){return!!(te.offsetWidth||te.offsetHeight||"function"==typeof te.getClientRects&&te.getClientRects().length)}(ne)&&"visible"===getComputedStyle(ne).visibility}isTabbable(ne){if(!this._platform.isBrowser)return!1;const $e=function Q(te){try{return te.frameElement}catch{return null}}(function be(te){return te.ownerDocument&&te.ownerDocument.defaultView||window}(ne));if($e&&(-1===Ve($e)||!this.isVisible($e)))return!1;let Qe=ne.nodeName.toLowerCase(),Tt=Ve(ne);return ne.hasAttribute("contenteditable")?-1!==Tt:!("iframe"===Qe||"object"===Qe||this._platform.WEBKIT&&this._platform.IOS&&!function Pe(te){let J=te.nodeName.toLowerCase(),ne="input"===J&&te.type;return"text"===ne||"password"===ne||"select"===J||"textarea"===J}(ne))&&("audio"===Qe?!!ne.hasAttribute("controls")&&-1!==Tt:"video"===Qe?-1!==Tt&&(null!==Tt||this._platform.FIREFOX||ne.hasAttribute("controls")):ne.tabIndex>=0)}isFocusable(ne,$e){return function xe(te){return!function G(te){return function Ie(te){return"input"==te.nodeName.toLowerCase()}(te)&&"hidden"==te.type}(te)&&(function ye(te){let J=te.nodeName.toLowerCase();return"input"===J||"select"===J||"button"===J||"textarea"===J}(te)||function _e(te){return function Me(te){return"a"==te.nodeName.toLowerCase()}(te)&&te.hasAttribute("href")}(te)||te.hasAttribute("contenteditable")||Fe(te))}(ne)&&!this.isDisabled(ne)&&($e?.ignoreVisibility||this.isVisible(ne))}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(y.t4))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();function Fe(te){if(!te.hasAttribute("tabindex")||void 0===te.tabIndex)return!1;let J=te.getAttribute("tabindex");return!(!J||isNaN(parseInt(J,10)))}function Ve(te){if(!Fe(te))return null;const J=parseInt(te.getAttribute("tabindex")||"",10);return isNaN(J)?-1:J}class Ue{constructor(J,ne,$e,Qe,Tt=!1){this._element=J,this._checker=ne,this._ngZone=$e,this._document=Qe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Tt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(J){this._enabled=J,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(J,this._startAnchor),this._toggleAnchorTabIndex(J,this._endAnchor))}destroy(){const J=this._startAnchor,ne=this._endAnchor;J&&(J.removeEventListener("focus",this.startAnchorListener),J.remove()),ne&&(ne.removeEventListener("focus",this.endAnchorListener),ne.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(J){return new Promise(ne=>{this._executeOnStable(()=>ne(this.focusInitialElement(J)))})}focusFirstTabbableElementWhenReady(J){return new Promise(ne=>{this._executeOnStable(()=>ne(this.focusFirstTabbableElement(J)))})}focusLastTabbableElementWhenReady(J){return new Promise(ne=>{this._executeOnStable(()=>ne(this.focusLastTabbableElement(J)))})}_getRegionBoundary(J){const ne=this._element.querySelectorAll(`[cdk-focus-region-${J}], [cdkFocusRegion${J}], [cdk-focus-${J}]`);return"start"==J?ne.length?ne[0]:this._getFirstTabbableElement(this._element):ne.length?ne[ne.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(J){const ne=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ne){if(!this._checker.isFocusable(ne)){const $e=this._getFirstTabbableElement(ne);return $e?.focus(J),!!$e}return ne.focus(J),!0}return this.focusFirstTabbableElement(J)}focusFirstTabbableElement(J){const ne=this._getRegionBoundary("start");return ne&&ne.focus(J),!!ne}focusLastTabbableElement(J){const ne=this._getRegionBoundary("end");return ne&&ne.focus(J),!!ne}hasAttached(){return this._hasAttached}_getFirstTabbableElement(J){if(this._checker.isFocusable(J)&&this._checker.isTabbable(J))return J;const ne=J.children;for(let $e=0;$e<ne.length;$e++){const Qe=ne[$e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ne[$e]):null;if(Qe)return Qe}return null}_getLastTabbableElement(J){if(this._checker.isFocusable(J)&&this._checker.isTabbable(J))return J;const ne=J.children;for(let $e=ne.length-1;$e>=0;$e--){const Qe=ne[$e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ne[$e]):null;if(Qe)return Qe}return null}_createAnchor(){const J=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,J),J.classList.add("cdk-visually-hidden"),J.classList.add("cdk-focus-trap-anchor"),J.setAttribute("aria-hidden","true"),J}_toggleAnchorTabIndex(J,ne){J?ne.setAttribute("tabindex","0"):ne.removeAttribute("tabindex")}toggleAnchors(J){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(J,this._startAnchor),this._toggleAnchorTabIndex(J,this._endAnchor))}_executeOnStable(J){this._ngZone.isStable?J():this._ngZone.onStable.pipe((0,m.q)(1)).subscribe(J)}}let He=(()=>{class te{constructor(ne,$e,Qe){this._checker=ne,this._ngZone=$e,this._document=Qe}create(ne,$e=!1){return new Ue(ne,this._checker,this._ngZone,this._document,$e)}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(V),n.LFG(n.R0b),n.LFG(e.K0))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),it=(()=>{class te{constructor(ne,$e,Qe){this._elementRef=ne,this._focusTrapFactory=$e,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(ne){this.focusTrap.enabled=(0,a.Ig)(ne)}get autoCapture(){return this._autoCapture}set autoCapture(ne){this._autoCapture=(0,a.Ig)(ne)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(ne){const $e=ne.autoCapture;$e&&!$e.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,y.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return te.\u0275fac=function(ne){return new(ne||te)(n.Y36(n.SBq),n.Y36(He),n.Y36(e.K0))},te.\u0275dir=n.lG2({type:te,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[n.TTD]}),te})();function ot(te){return 0===te.buttons||0===te.offsetX&&0===te.offsetY}function ge(te){const J=te.touches&&te.touches[0]||te.changedTouches&&te.changedTouches[0];return!(!J||-1!==J.identifier||null!=J.radiusX&&1!==J.radiusX||null!=J.radiusY&&1!==J.radiusY)}const we=new n.OlP("cdk-input-modality-detector-options"),me={ignoreKeys:[E.zL,E.jx,E.b2,E.MW,E.JU]},Z=(0,y.i$)({passive:!0,capture:!0});let ee=(()=>{class te{constructor(ne,$e,Qe,Tt){this._platform=ne,this._mostRecentTarget=null,this._modality=new O.X(null),this._lastTouchMs=0,this._onKeydown=zt=>{this._options?.ignoreKeys?.some(cn=>cn===zt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,y.sA)(zt))},this._onMousedown=zt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ot(zt)?"keyboard":"mouse"),this._mostRecentTarget=(0,y.sA)(zt))},this._onTouchstart=zt=>{ge(zt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,y.sA)(zt))},this._options={...me,...Tt},this.modalityDetected=this._modality.pipe((0,h.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,d.x)()),ne.isBrowser&&$e.runOutsideAngular(()=>{Qe.addEventListener("keydown",this._onKeydown,Z),Qe.addEventListener("mousedown",this._onMousedown,Z),Qe.addEventListener("touchstart",this._onTouchstart,Z)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Z),document.removeEventListener("mousedown",this._onMousedown,Z),document.removeEventListener("touchstart",this._onTouchstart,Z))}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(y.t4),n.LFG(n.R0b),n.LFG(e.K0),n.LFG(we,8))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();const ue=new n.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ce(){return null}}),pt=new n.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ze=0,ft=(()=>{class te{constructor(ne,$e,Qe,Tt){this._ngZone=$e,this._defaultOptions=Tt,this._document=Qe,this._liveElement=ne||this._createLiveElement()}announce(ne,...$e){const Qe=this._defaultOptions;let Tt,zt;return 1===$e.length&&"number"==typeof $e[0]?zt=$e[0]:[Tt,zt]=$e,this.clear(),clearTimeout(this._previousTimeout),Tt||(Tt=Qe&&Qe.politeness?Qe.politeness:"polite"),null==zt&&Qe&&(zt=Qe.duration),this._liveElement.setAttribute("aria-live",Tt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(cn=>this._currentResolve=cn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=ne,"number"==typeof zt&&(this._previousTimeout=setTimeout(()=>this.clear(),zt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const ne="cdk-live-announcer-element",$e=this._document.getElementsByClassName(ne),Qe=this._document.createElement("div");for(let Tt=0;Tt<$e.length;Tt++)$e[Tt].remove();return Qe.classList.add(ne),Qe.classList.add("cdk-visually-hidden"),Qe.setAttribute("aria-atomic","true"),Qe.setAttribute("aria-live","polite"),Qe.id="cdk-live-announcer-"+Ze++,this._document.body.appendChild(Qe),Qe}_exposeAnnouncerToModals(ne){const $e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Qe=0;Qe<$e.length;Qe++){const Tt=$e[Qe],zt=Tt.getAttribute("aria-owns");zt?-1===zt.indexOf(ne)&&Tt.setAttribute("aria-owns",zt+" "+ne):Tt.setAttribute("aria-owns",ne)}}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(ue,8),n.LFG(n.R0b),n.LFG(e.K0),n.LFG(pt,8))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();const At=new n.OlP("cdk-focus-monitor-default-options"),Wt=(0,y.i$)({passive:!0,capture:!0});let Et=(()=>{class te{constructor(ne,$e,Qe,Tt,zt){this._ngZone=ne,this._platform=$e,this._inputModalityDetector=Qe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new T.xQ,this._rootNodeFocusAndBlurListener=cn=>{for(let vn=(0,y.sA)(cn);vn;vn=vn.parentElement)"focus"===cn.type?this._onFocus(cn,vn):this._onBlur(cn,vn)},this._document=Tt,this._detectionMode=zt?.detectionMode||0}monitor(ne,$e=!1){const Qe=(0,a.fI)(ne);if(!this._platform.isBrowser||1!==Qe.nodeType)return(0,C.of)(null);const Tt=(0,y.kV)(Qe)||this._getDocument(),zt=this._elementInfo.get(Qe);if(zt)return $e&&(zt.checkChildren=!0),zt.subject;const cn={checkChildren:$e,subject:new T.xQ,rootNode:Tt};return this._elementInfo.set(Qe,cn),this._registerGlobalListeners(cn),cn.subject}stopMonitoring(ne){const $e=(0,a.fI)(ne),Qe=this._elementInfo.get($e);Qe&&(Qe.subject.complete(),this._setClasses($e),this._elementInfo.delete($e),this._removeGlobalListeners(Qe))}focusVia(ne,$e,Qe){const Tt=(0,a.fI)(ne);Tt===this._getDocument().activeElement?this._getClosestElementsInfo(Tt).forEach(([cn,an])=>this._originChanged(cn,$e,an)):(this._setOrigin($e),"function"==typeof Tt.focus&&Tt.focus(Qe))}ngOnDestroy(){this._elementInfo.forEach((ne,$e)=>this.stopMonitoring($e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ne){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ne)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ne&&this._isLastInteractionFromInputLabel(ne)?"mouse":"program"}_shouldBeAttributedToTouch(ne){return 1===this._detectionMode||!!ne?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ne,$e){ne.classList.toggle("cdk-focused",!!$e),ne.classList.toggle("cdk-touch-focused","touch"===$e),ne.classList.toggle("cdk-keyboard-focused","keyboard"===$e),ne.classList.toggle("cdk-mouse-focused","mouse"===$e),ne.classList.toggle("cdk-program-focused","program"===$e)}_setOrigin(ne,$e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ne,this._originFromTouchInteraction="touch"===ne&&$e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ne,$e){const Qe=this._elementInfo.get($e),Tt=(0,y.sA)(ne);!Qe||!Qe.checkChildren&&$e!==Tt||this._originChanged($e,this._getFocusOrigin(Tt),Qe)}_onBlur(ne,$e){const Qe=this._elementInfo.get($e);!Qe||Qe.checkChildren&&ne.relatedTarget instanceof Node&&$e.contains(ne.relatedTarget)||(this._setClasses($e),this._emitOrigin(Qe,null))}_emitOrigin(ne,$e){ne.subject.observers.length&&this._ngZone.run(()=>ne.subject.next($e))}_registerGlobalListeners(ne){if(!this._platform.isBrowser)return;const $e=ne.rootNode,Qe=this._rootNodeFocusListenerCount.get($e)||0;Qe||this._ngZone.runOutsideAngular(()=>{$e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),$e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wt)}),this._rootNodeFocusListenerCount.set($e,Qe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,c.R)(this._stopInputModalityDetector)).subscribe(Tt=>{this._setOrigin(Tt,!0)}))}_removeGlobalListeners(ne){const $e=ne.rootNode;if(this._rootNodeFocusListenerCount.has($e)){const Qe=this._rootNodeFocusListenerCount.get($e);Qe>1?this._rootNodeFocusListenerCount.set($e,Qe-1):($e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),$e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wt),this._rootNodeFocusListenerCount.delete($e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ne,$e,Qe){this._setClasses(ne,$e),this._emitOrigin(Qe,$e),this._lastFocusOrigin=$e}_getClosestElementsInfo(ne){const $e=[];return this._elementInfo.forEach((Qe,Tt)=>{(Tt===ne||Qe.checkChildren&&Tt.contains(ne))&&$e.push([Tt,Qe])}),$e}_isLastInteractionFromInputLabel(ne){const{_mostRecentTarget:$e,mostRecentModality:Qe}=this._inputModalityDetector;if("mouse"!==Qe||!$e||$e===ne||"INPUT"!==ne.nodeName&&"TEXTAREA"!==ne.nodeName||ne.disabled)return!1;const Tt=ne.labels;if(Tt)for(let zt=0;zt<Tt.length;zt++)if(Tt[zt].contains($e))return!0;return!1}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(n.R0b),n.LFG(y.t4),n.LFG(ee),n.LFG(e.K0,8),n.LFG(At,8))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),nt=(()=>{class te{constructor(ne,$e){this._elementRef=ne,this._focusMonitor=$e,this._focusOrigin=null,this.cdkFocusChange=new n.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const ne=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(ne,1===ne.nodeType&&ne.hasAttribute("cdkMonitorSubtreeFocus")).subscribe($e=>{this._focusOrigin=$e,this.cdkFocusChange.emit($e)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return te.\u0275fac=function(ne){return new(ne||te)(n.Y36(n.SBq),n.Y36(Et))},te.\u0275dir=n.lG2({type:te,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),te})();const ct="cdk-high-contrast-black-on-white",Xe="cdk-high-contrast-white-on-black",Ke="cdk-high-contrast-active";let rt=(()=>{class te{constructor(ne,$e){this._platform=ne,this._document=$e,this._breakpointSubscription=(0,n.f3M)(r.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ne=this._document.createElement("div");ne.style.backgroundColor="rgb(1,2,3)",ne.style.position="absolute",this._document.body.appendChild(ne);const $e=this._document.defaultView||window,Qe=$e&&$e.getComputedStyle?$e.getComputedStyle(ne):null,Tt=(Qe&&Qe.backgroundColor||"").replace(/ /g,"");switch(ne.remove(),Tt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ne=this._document.body.classList;ne.remove(Ke,ct,Xe),this._hasCheckedHighContrastMode=!0;const $e=this.getHighContrastMode();1===$e?ne.add(Ke,ct):2===$e&&ne.add(Ke,Xe)}}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(y.t4),n.LFG(e.K0))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),le=(()=>{class te{constructor(ne){ne._applyBodyHighContrastModeCssClasses()}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(rt))},te.\u0275mod=n.oAB({type:te}),te.\u0275inj=n.cJS({imports:[s.Q8]}),te})()},445:(Je,K,t)=>{"use strict";t.d(K,{Is:()=>C,vT:()=>i});var e=t(6353),n=t(6895);const y=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function T(){return(0,e.f3M)(n.K0)}}),v=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let C=(()=>{class f{constructor(l){if(this.value="ltr",this.change=new e.vpe,l){const h=l.documentElement?l.documentElement.dir:null;this.value=function O(f){const _=f?.toLowerCase()||"";return"auto"===_&&typeof navigator<"u"&&navigator?.language?v.test(navigator.language)?"rtl":"ltr":"rtl"===_?"rtl":"ltr"}((l.body?l.body.dir:null)||h||"ltr")}}ngOnDestroy(){this.change.complete()}}return f.\u0275fac=function(l){return new(l||f)(e.LFG(y,8))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),i=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({}),f})()},4025:(Je,K,t)=>{"use strict";t.d(K,{Iq:()=>C,TU:()=>T});var e=t(6895),n=t(6353);class y{constructor(i,f){this._document=f;const _=this._textarea=this._document.createElement("textarea"),l=_.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",_.setAttribute("aria-hidden","true"),_.value=i,_.readOnly=!0,this._document.body.appendChild(_)}copy(){const i=this._textarea;let f=!1;try{if(i){const _=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),f=this._document.execCommand("copy"),_&&_.focus()}}catch{}return f}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let T=(()=>{class E{constructor(f){this._document=f}copy(f){const _=this.beginCopy(f),l=_.copy();return _.destroy(),l}beginCopy(f){return new y(f,this._document)}}return E.\u0275fac=function(f){return new(f||E)(n.LFG(e.K0))},E.\u0275prov=n.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),C=(()=>{class E{}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=n.oAB({type:E}),E.\u0275inj=n.cJS({}),E})()},1281:(Je,K,t)=>{"use strict";t.d(K,{Eq:()=>v,HM:()=>O,Ig:()=>n,du:()=>E,fI:()=>C,su:()=>y,t6:()=>T});var e=t(6353);function n(i){return null!=i&&"false"!=`${i}`}function y(i,f=0){return T(i)?Number(i):f}function T(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function v(i){return Array.isArray(i)?i:[i]}function O(i){return null==i?"":"string"==typeof i?i:`${i}px`}function C(i){return i instanceof e.SBq?i.nativeElement:i}function E(i,f=/\s+/){const _=[];if(null!=i){const l=Array.isArray(i)?i:`${i}`.split(f);for(const m of l){const h=`${m}`.trim();h&&_.push(h)}}return _}},5017:(Je,K,t)=>{"use strict";t.d(K,{A8:()=>m,Ov:()=>_,P3:()=>E,Z9:()=>C,eX:()=>f,k:()=>h,o2:()=>O,yy:()=>i});var e=t(1762),n=t(4715),y=t(1086),T=t(8929),v=t(6353);class O{}function C(d){return d&&"function"==typeof d.connect&&!(d instanceof e.c)}class E extends O{constructor(c){super(),this._data=c}connect(){return(0,n.b)(this._data)?this._data:(0,y.of)(this._data)}disconnect(){}}class i{applyChanges(c,a,s,r,o){c.forEachOperation((S,I,x)=>{let P,g;if(null==S.previousIndex){const u=s(S,I,x);P=a.createEmbeddedView(u.templateRef,u.context,u.index),g=1}else null==x?(a.remove(I),g=3):(P=a.get(I),a.move(P,x),g=2);o&&o({context:P?.context,operation:g,record:S})})}detach(){}}class f{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(c,a,s,r,o){c.forEachOperation((S,I,x)=>{let P,g;null==S.previousIndex?(P=this._insertView(()=>s(S,I,x),x,a,r(S)),g=P?1:0):null==x?(this._detachAndCacheView(I,a),g=3):(P=this._moveView(I,x,a,r(S)),g=2),o&&o({context:P?.context,operation:g,record:S})})}detach(){for(const c of this._viewCache)c.destroy();this._viewCache=[]}_insertView(c,a,s,r){const o=this._insertViewFromCache(a,s);if(o)return void(o.context.$implicit=r);const S=c();return s.createEmbeddedView(S.templateRef,S.context,S.index)}_detachAndCacheView(c,a){const s=a.detach(c);this._maybeCacheView(s,a)}_moveView(c,a,s,r){const o=s.get(c);return s.move(o,a),o.context.$implicit=r,o}_maybeCacheView(c,a){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(c);else{const s=a.indexOf(c);-1===s?c.destroy():a.remove(s)}}_insertViewFromCache(c,a){const s=this._viewCache.pop();return s&&a.insert(s,c),s||null}}class _{constructor(c=!1,a,s=!0,r){this._multiple=c,this._emitChanges=s,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new T.xQ,a&&a.length&&(c?a.forEach(o=>this._markSelected(o)):this._markSelected(a[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...c){this._verifyValueAssignment(c),c.forEach(s=>this._markSelected(s));const a=this._hasQueuedChanges();return this._emitChangeEvent(),a}deselect(...c){this._verifyValueAssignment(c),c.forEach(s=>this._unmarkSelected(s));const a=this._hasQueuedChanges();return this._emitChangeEvent(),a}setSelection(...c){this._verifyValueAssignment(c);const a=this.selected,s=new Set(c);c.forEach(o=>this._markSelected(o)),a.filter(o=>!s.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(c){return this.isSelected(c)?this.deselect(c):this.select(c)}clear(c=!0){this._unmarkAll();const a=this._hasQueuedChanges();return c&&this._emitChangeEvent(),a}isSelected(c){if(this.compareWith){for(const a of this._selection)if(this.compareWith(a,c))return!0;return!1}return this._selection.has(c)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(c){this._multiple&&this.selected&&this._selected.sort(c)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(c){this.isSelected(c)||(this._multiple||this._unmarkAll(),this.isSelected(c)||this._selection.add(c),this._emitChanges&&this._selectedToEmit.push(c))}_unmarkSelected(c){this.isSelected(c)&&(this._selection.delete(c),this._emitChanges&&this._deselectedToEmit.push(c))}_unmarkAll(){this.isEmpty()||this._selection.forEach(c=>this._unmarkSelected(c))}_verifyValueAssignment(c){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let m=(()=>{class d{constructor(){this._listeners=[]}notify(a,s){for(let r of this._listeners)r(a,s)}listen(a){return this._listeners.push(a),()=>{this._listeners=this._listeners.filter(s=>a!==s)}}ngOnDestroy(){this._listeners=[]}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275prov=v.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const h=new v.OlP("_ViewRepeater")},7855:(Je,K,t)=>{"use strict";t.d(K,{LL:()=>c,Su:()=>u,Vq:()=>P,ib:()=>h});var e=t(2687),n=t(8184),y=t(3353),T=t(4080),v=t(6895),O=t(6353),C=t(9521),E=t(8929),i=t(8514),f=t(1086),_=t(445),l=t(1059);function m(M,R){}class h{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let c=(()=>{class M extends T.en{constructor(w,F,B,H,$,j,V,Q){super(),this._elementRef=w,this._focusTrapFactory=F,this._config=H,this._interactivityChecker=$,this._ngZone=j,this._overlayRef=V,this._focusMonitor=Q,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=ie=>{this._portalOutlet.hasAttached();const ye=this._portalOutlet.attachDomPortal(ie);return this._contentAttached(),ye},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=B}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(w){this._portalOutlet.hasAttached();const F=this._portalOutlet.attachComponentPortal(w);return this._contentAttached(),F}attachTemplatePortal(w){this._portalOutlet.hasAttached();const F=this._portalOutlet.attachTemplatePortal(w);return this._contentAttached(),F}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(w,F){this._interactivityChecker.isFocusable(w)||(w.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const B=()=>{w.removeEventListener("blur",B),w.removeEventListener("mousedown",B),w.removeAttribute("tabindex")};w.addEventListener("blur",B),w.addEventListener("mousedown",B)})),w.focus(F)}_focusByCssSelector(w,F){let B=this._elementRef.nativeElement.querySelector(w);B&&this._forceFocus(B,F)}_trapFocus(){const w=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||w.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(F=>{F||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const w=this._config.restoreFocus;let F=null;if("string"==typeof w?F=this._document.querySelector(w):"boolean"==typeof w?F=w?this._elementFocusedBeforeDialogWasOpened:null:w&&(F=w),this._config.restoreFocus&&F&&"function"==typeof F.focus){const B=(0,y.ht)(),H=this._elementRef.nativeElement;(!B||B===this._document.body||B===H||H.contains(B))&&(this._focusMonitor?(this._focusMonitor.focusVia(F,this._closeInteractionType),this._closeInteractionType=null):F.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const w=this._elementRef.nativeElement,F=(0,y.ht)();return w===F||w.contains(F)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,y.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return M.\u0275fac=function(w){return new(w||M)(O.Y36(O.SBq),O.Y36(e.qV),O.Y36(v.K0,8),O.Y36(h),O.Y36(e.ic),O.Y36(O.R0b),O.Y36(n.Iu),O.Y36(e.tE))},M.\u0275cmp=O.Xpm({type:M,selectors:[["cdk-dialog-container"]],viewQuery:function(w,F){if(1&w&&O.Gf(T.Pl,7),2&w){let B;O.iGM(B=O.CRH())&&(F._portalOutlet=B.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(w,F){2&w&&O.uIk("id",F._config.id||null)("role",F._config.role)("aria-modal",F._config.ariaModal)("aria-labelledby",F._config.ariaLabel?null:F._ariaLabelledBy)("aria-label",F._config.ariaLabel)("aria-describedby",F._config.ariaDescribedBy||null)},features:[O.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(w,F){1&w&&O.YNc(0,m,0,0,"ng-template",0)},dependencies:[T.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),M})();class a{constructor(R,w){this.overlayRef=R,this.config=w,this.closed=new E.xQ,this.disableClose=w.disableClose,this.backdropClick=R.backdropClick(),this.keydownEvents=R.keydownEvents(),this.outsidePointerEvents=R.outsidePointerEvents(),this.id=w.id,this.keydownEvents.subscribe(F=>{F.keyCode===C.hY&&!this.disableClose&&!(0,C.Vb)(F)&&(F.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(R,w){if(this.containerInstance){const F=this.closed;this.containerInstance._closeInteractionType=w?.focusOrigin||"program",this.overlayRef.dispose(),F.next(R),F.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(R="",w=""){return this.overlayRef.updateSize({width:R,height:w}),this}addPanelClass(R){return this.overlayRef.addPanelClass(R),this}removePanelClass(R){return this.overlayRef.removePanelClass(R),this}}const s=new O.OlP("DialogScrollStrategy"),r=new O.OlP("DialogData"),o=new O.OlP("DefaultDialogConfig"),I={provide:s,deps:[n.aV],useFactory:function S(M){return()=>M.scrollStrategies.block()}};let x=0,P=(()=>{class M{constructor(w,F,B,H,$,j){this._overlay=w,this._injector=F,this._defaultOptions=B,this._parentDialog=H,this._overlayContainer=$,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.xQ,this._afterOpenedAtThisLevel=new E.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,l.O)(void 0))),this._scrollStrategy=j}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(w,F){(F={...this._defaultOptions||new h,...F}).id=F.id||"cdk-dialog-"+x++,F.id&&this.getDialogById(F.id);const H=this._getOverlayConfig(F),$=this._overlay.create(H),j=new a($,F),V=this._attachContainer($,j,F);return j.containerInstance=V,this._attachDialogContent(w,j,V,F),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(j),j.closed.subscribe(()=>this._removeOpenDialog(j,!0)),this.afterOpened.next(j),j}closeAll(){g(this.openDialogs,w=>w.close())}getDialogById(w){return this.openDialogs.find(F=>F.id===w)}ngOnDestroy(){g(this._openDialogsAtThisLevel,w=>{!1===w.config.closeOnDestroy&&this._removeOpenDialog(w,!1)}),g(this._openDialogsAtThisLevel,w=>w.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(w){const F=new n.X_({positionStrategy:w.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:w.scrollStrategy||this._scrollStrategy(),panelClass:w.panelClass,hasBackdrop:w.hasBackdrop,direction:w.direction,minWidth:w.minWidth,minHeight:w.minHeight,maxWidth:w.maxWidth,maxHeight:w.maxHeight,width:w.width,height:w.height,disposeOnNavigation:w.closeOnNavigation});return w.backdropClass&&(F.backdropClass=w.backdropClass),F}_attachContainer(w,F,B){const H=B.injector||B.viewContainerRef?.injector,$=[{provide:h,useValue:B},{provide:a,useValue:F},{provide:n.Iu,useValue:w}];let j;B.container?"function"==typeof B.container?j=B.container:(j=B.container.type,$.push(...B.container.providers(B))):j=c;const V=new T.C5(j,B.viewContainerRef,O.zs3.create({parent:H||this._injector,providers:$}),B.componentFactoryResolver);return w.attach(V).instance}_attachDialogContent(w,F,B,H){if(w instanceof O.Rgc){const $=this._createInjector(H,F,B,void 0);let j={$implicit:H.data,dialogRef:F};H.templateContext&&(j={...j,..."function"==typeof H.templateContext?H.templateContext():H.templateContext}),B.attachTemplatePortal(new T.UE(w,null,j,$))}else{const $=this._createInjector(H,F,B,this._injector),j=B.attachComponentPortal(new T.C5(w,H.viewContainerRef,$,H.componentFactoryResolver));F.componentInstance=j.instance}}_createInjector(w,F,B,H){const $=w.injector||w.viewContainerRef?.injector,j=[{provide:r,useValue:w.data},{provide:a,useValue:F}];return w.providers&&("function"==typeof w.providers?j.push(...w.providers(F,w,B)):j.push(...w.providers)),w.direction&&(!$||!$.get(_.Is,null,{optional:!0}))&&j.push({provide:_.Is,useValue:{value:w.direction,change:(0,f.of)()}}),O.zs3.create({parent:$||H,providers:j})}_removeOpenDialog(w,F){const B=this.openDialogs.indexOf(w);B>-1&&(this.openDialogs.splice(B,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((H,$)=>{H?$.setAttribute("aria-hidden",H):$.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),F&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const w=this._overlayContainer.getContainerElement();if(w.parentElement){const F=w.parentElement.children;for(let B=F.length-1;B>-1;B--){const H=F[B];H!==w&&"SCRIPT"!==H.nodeName&&"STYLE"!==H.nodeName&&!H.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(H,H.getAttribute("aria-hidden")),H.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const w=this._parentDialog;return w?w._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return M.\u0275fac=function(w){return new(w||M)(O.LFG(n.aV),O.LFG(O.zs3),O.LFG(o,8),O.LFG(M,12),O.LFG(n.Xj),O.LFG(s))},M.\u0275prov=O.Yz7({token:M,factory:M.\u0275fac}),M})();function g(M,R){let w=M.length;for(;w--;)R(M[w])}let u=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=O.oAB({type:M}),M.\u0275inj=O.cJS({providers:[P,I],imports:[n.U8,T.eL,e.rt,T.eL]}),M})()},9521:(Je,K,t)=>{"use strict";t.d(K,{A:()=>G,JH:()=>o,JU:()=>O,K5:()=>v,Ku:()=>m,LH:()=>s,L_:()=>l,MW:()=>pt,Mf:()=>y,OC:()=>Wn,SV:()=>r,Sd:()=>c,VM:()=>h,Vb:()=>Mi,Z:()=>Ce,ZH:()=>n,aO:()=>j,b2:()=>pi,hY:()=>_,jx:()=>C,oh:()=>a,uR:()=>d,xE:()=>g,yY:()=>P,zL:()=>E});const n=8,y=9,v=13,O=16,C=17,E=18,_=27,l=32,m=33,h=34,d=35,c=36,a=37,s=38,r=39,o=40,P=46,g=48,j=57,G=65,Ce=90,pt=91,Wn=188,pi=224;function Mi(Ui,...di){return di.length?di.some(Gi=>Ui[Gi]):Ui.altKey||Ui.shiftKey||Ui.ctrlKey||Ui.metaKey}},2289:(Je,K,t)=>{"use strict";t.d(K,{Yg:()=>o,u3:()=>I});var e=t(6353),n=t(1281),y=t(8929),T=t(3426),v=t(1221),O=t(6498),C=t(2986),E=t(1307),i=t(13),f=t(4850),_=t(1059),l=t(7625),m=t(3353);const d=new Set;let c,a=(()=>{class x{constructor(g){this._platform=g,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):r}matchMedia(g){return(this._platform.WEBKIT||this._platform.BLINK)&&function s(x){if(!d.has(x))try{c||(c=document.createElement("style"),c.setAttribute("type","text/css"),document.head.appendChild(c)),c.sheet&&(c.sheet.insertRule(`@media ${x} {body{ }}`,0),d.add(x))}catch(P){console.error(P)}}(g),this._matchMedia(g)}}return x.\u0275fac=function(g){return new(g||x)(e.LFG(m.t4))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function r(x){return{matches:"all"===x||""===x,media:x,addListener:()=>{},removeListener:()=>{}}}let o=(()=>{class x{constructor(g,u){this._mediaMatcher=g,this._zone=u,this._queries=new Map,this._destroySubject=new y.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(g){return S((0,n.Eq)(g)).some(M=>this._registerQuery(M).mql.matches)}observe(g){const M=S((0,n.Eq)(g)).map(w=>this._registerQuery(w).observable);let R=(0,T.aj)(M);return R=(0,v.z)(R.pipe((0,C.q)(1)),R.pipe((0,E.T)(1),(0,i.b)(0))),R.pipe((0,f.U)(w=>{const F={matches:!1,breakpoints:{}};return w.forEach(({matches:B,query:H})=>{F.matches=F.matches||B,F.breakpoints[H]=B}),F}))}_registerQuery(g){if(this._queries.has(g))return this._queries.get(g);const u=this._mediaMatcher.matchMedia(g),R={observable:new O.y(w=>{const F=B=>this._zone.run(()=>w.next(B));return u.addListener(F),()=>{u.removeListener(F)}}).pipe((0,_.O)(u),(0,f.U)(({matches:w})=>({query:g,matches:w})),(0,l.R)(this._destroySubject)),mql:u};return this._queries.set(g,R),R}}return x.\u0275fac=function(g){return new(g||x)(e.LFG(a),e.LFG(e.R0b))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function S(x){return x.map(P=>P.split(",")).reduce((P,g)=>P.concat(g)).map(P=>P.trim())}const I={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(Je,K,t)=>{"use strict";t.d(K,{Q8:()=>i,wD:()=>E});var e=t(1281),n=t(6353),y=t(6498),T=t(8929),v=t(13);let O=(()=>{class f{create(l){return typeof MutationObserver>"u"?null:new MutationObserver(l)}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),C=(()=>{class f{constructor(l){this._mutationObserverFactory=l,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((l,m)=>this._cleanupObserver(m))}observe(l){const m=(0,e.fI)(l);return new y.y(h=>{const c=this._observeElement(m).subscribe(h);return()=>{c.unsubscribe(),this._unobserveElement(m)}})}_observeElement(l){if(this._observedElements.has(l))this._observedElements.get(l).count++;else{const m=new T.xQ,h=this._mutationObserverFactory.create(d=>m.next(d));h&&h.observe(l,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(l,{observer:h,stream:m,count:1})}return this._observedElements.get(l).stream}_unobserveElement(l){this._observedElements.has(l)&&(this._observedElements.get(l).count--,this._observedElements.get(l).count||this._cleanupObserver(l))}_cleanupObserver(l){if(this._observedElements.has(l)){const{observer:m,stream:h}=this._observedElements.get(l);m&&m.disconnect(),h.complete(),this._observedElements.delete(l)}}}return f.\u0275fac=function(l){return new(l||f)(n.LFG(O))},f.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),E=(()=>{class f{constructor(l,m,h){this._contentObserver=l,this._elementRef=m,this._ngZone=h,this.event=new n.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(l){this._disabled=(0,e.Ig)(l),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(l){this._debounce=(0,e.su)(l),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const l=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?l.pipe((0,v.b)(this.debounce)):l).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return f.\u0275fac=function(l){return new(l||f)(n.Y36(C),n.Y36(n.SBq),n.Y36(n.R0b))},f.\u0275dir=n.lG2({type:f,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),f})(),i=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({providers:[O]}),f})()},8184:(Je,K,t)=>{"use strict";t.d(K,{Iu:()=>j,U8:()=>Ye,X_:()=>P,Xj:()=>$,_G:()=>ie,aV:()=>be,pI:()=>je,xu:()=>it});var e=t(3476),n=t(6895),y=t(6353),T=t(1281),v=t(3353),O=t(445),C=t(4080),E=t(8929),i=t(2654),f=t(6787),_=t(2986),l=t(7625),m=t(4290),h=t(9521);const d=(0,v.Mq)();class c{constructor(ge,we){this._viewportRuler=ge,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=we}attach(){}enable(){if(this._canBeEnabled()){const ge=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ge.style.left||"",this._previousHTMLStyles.top=ge.style.top||"",ge.style.left=(0,T.HM)(-this._previousScrollPosition.left),ge.style.top=(0,T.HM)(-this._previousScrollPosition.top),ge.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ge=this._document.documentElement,me=ge.style,fe=this._document.body.style,Z=me.scrollBehavior||"",ee=fe.scrollBehavior||"";this._isEnabled=!1,me.left=this._previousHTMLStyles.left,me.top=this._previousHTMLStyles.top,ge.classList.remove("cdk-global-scrollblock"),d&&(me.scrollBehavior=fe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),d&&(me.scrollBehavior=Z,fe.scrollBehavior=ee)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const we=this._document.body,me=this._viewportRuler.getViewportSize();return we.scrollHeight>me.height||we.scrollWidth>me.width}}class s{constructor(ge,we,me,fe){this._scrollDispatcher=ge,this._ngZone=we,this._viewportRuler=me,this._config=fe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ge){this._overlayRef=ge}enable(){if(this._scrollSubscription)return;const ge=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ge.subscribe(()=>{const we=this._viewportRuler.getViewportScrollPosition().top;Math.abs(we-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ge.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class r{enable(){}disable(){}attach(){}}function o(ot,ge){return ge.some(we=>ot.bottom<we.top||ot.top>we.bottom||ot.right<we.left||ot.left>we.right)}function S(ot,ge){return ge.some(we=>ot.top<we.top||ot.bottom>we.bottom||ot.left<we.left||ot.right>we.right)}class I{constructor(ge,we,me,fe){this._scrollDispatcher=ge,this._viewportRuler=we,this._ngZone=me,this._config=fe,this._scrollSubscription=null}attach(ge){this._overlayRef=ge}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const we=this._overlayRef.overlayElement.getBoundingClientRect(),{width:me,height:fe}=this._viewportRuler.getViewportSize();o(we,[{width:me,height:fe,bottom:fe,right:me,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x=(()=>{class ot{constructor(we,me,fe,Z){this._scrollDispatcher=we,this._viewportRuler=me,this._ngZone=fe,this.noop=()=>new r,this.close=ee=>new s(this._scrollDispatcher,this._ngZone,this._viewportRuler,ee),this.block=()=>new c(this._viewportRuler,this._document),this.reposition=ee=>new I(this._scrollDispatcher,this._viewportRuler,this._ngZone,ee),this._document=Z}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(e.mF),y.LFG(e.rL),y.LFG(y.R0b),y.LFG(n.K0))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();class P{constructor(ge){if(this.scrollStrategy=new r,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ge){const we=Object.keys(ge);for(const me of we)void 0!==ge[me]&&(this[me]=ge[me])}}}class M{constructor(ge,we){this.connectionPair=ge,this.scrollableViewProperties=we}}let F=(()=>{class ot{constructor(we){this._attachedOverlays=[],this._document=we}ngOnDestroy(){this.detach()}add(we){this.remove(we),this._attachedOverlays.push(we)}remove(we){const me=this._attachedOverlays.indexOf(we);me>-1&&this._attachedOverlays.splice(me,1),0===this._attachedOverlays.length&&this.detach()}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(n.K0))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),B=(()=>{class ot extends F{constructor(we,me){super(we),this._ngZone=me,this._keydownListener=fe=>{const Z=this._attachedOverlays;for(let ee=Z.length-1;ee>-1;ee--)if(Z[ee]._keydownEvents.observers.length>0){const ue=Z[ee]._keydownEvents;this._ngZone?this._ngZone.run(()=>ue.next(fe)):ue.next(fe);break}}}add(we){super.add(we),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(n.K0),y.LFG(y.R0b,8))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),H=(()=>{class ot extends F{constructor(we,me,fe){super(we),this._platform=me,this._ngZone=fe,this._cursorStyleIsSet=!1,this._pointerDownListener=Z=>{this._pointerDownEventTarget=(0,v.sA)(Z)},this._clickListener=Z=>{const ee=(0,v.sA)(Z),ue="click"===Z.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ee;this._pointerDownEventTarget=null;const Ce=this._attachedOverlays.slice();for(let pt=Ce.length-1;pt>-1;pt--){const Ze=Ce[pt];if(Ze._outsidePointerEvents.observers.length<1||!Ze.hasAttached())continue;if(Ze.overlayElement.contains(ee)||Ze.overlayElement.contains(ue))break;const ft=Ze._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ft.next(Z)):ft.next(Z)}}}add(we){if(super.add(we),!this._isAttached){const me=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(me)):this._addEventListeners(me),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=me.style.cursor,me.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const we=this._document.body;we.removeEventListener("pointerdown",this._pointerDownListener,!0),we.removeEventListener("click",this._clickListener,!0),we.removeEventListener("auxclick",this._clickListener,!0),we.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(we.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(we){we.addEventListener("pointerdown",this._pointerDownListener,!0),we.addEventListener("click",this._clickListener,!0),we.addEventListener("auxclick",this._clickListener,!0),we.addEventListener("contextmenu",this._clickListener,!0)}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(n.K0),y.LFG(v.t4),y.LFG(y.R0b,8))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),$=(()=>{class ot{constructor(we,me){this._platform=me,this._document=we}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const we="cdk-overlay-container";if(this._platform.isBrowser||(0,v.Oy)()){const fe=this._document.querySelectorAll(`.${we}[platform="server"], .${we}[platform="test"]`);for(let Z=0;Z<fe.length;Z++)fe[Z].remove()}const me=this._document.createElement("div");me.classList.add(we),(0,v.Oy)()?me.setAttribute("platform","test"):this._platform.isBrowser||me.setAttribute("platform","server"),this._document.body.appendChild(me),this._containerElement=me}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(n.K0),y.LFG(v.t4))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();class j{constructor(ge,we,me,fe,Z,ee,ue,Ce,pt,Ze=!1){this._portalOutlet=ge,this._host=we,this._pane=me,this._config=fe,this._ngZone=Z,this._keyboardDispatcher=ee,this._document=ue,this._location=Ce,this._outsideClickDispatcher=pt,this._animationsDisabled=Ze,this._backdropElement=null,this._backdropClick=new E.xQ,this._attachments=new E.xQ,this._detachments=new E.xQ,this._locationChanges=i.w.EMPTY,this._backdropClickHandler=ft=>this._backdropClick.next(ft),this._backdropTransitionendHandler=ft=>{this._disposeBackdrop(ft.target)},this._keydownEvents=new E.xQ,this._outsidePointerEvents=new E.xQ,fe.scrollStrategy&&(this._scrollStrategy=fe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=fe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ge){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const we=this._portalOutlet.attach(ge);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,_.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof we?.onDestroy&&we.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),we}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ge=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ge}dispose(){const ge=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ge&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ge){ge!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ge,this.hasAttached()&&(ge.attach(this),this.updatePosition()))}updateSize(ge){this._config={...this._config,...ge},this._updateElementSize()}setDirection(ge){this._config={...this._config,direction:ge},this._updateElementDirection()}addPanelClass(ge){this._pane&&this._toggleClasses(this._pane,ge,!0)}removePanelClass(ge){this._pane&&this._toggleClasses(this._pane,ge,!1)}getDirection(){const ge=this._config.direction;return ge?"string"==typeof ge?ge:ge.value:"ltr"}updateScrollStrategy(ge){ge!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ge,this.hasAttached()&&(ge.attach(this),ge.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ge=this._pane.style;ge.width=(0,T.HM)(this._config.width),ge.height=(0,T.HM)(this._config.height),ge.minWidth=(0,T.HM)(this._config.minWidth),ge.minHeight=(0,T.HM)(this._config.minHeight),ge.maxWidth=(0,T.HM)(this._config.maxWidth),ge.maxHeight=(0,T.HM)(this._config.maxHeight)}_togglePointerEvents(ge){this._pane.style.pointerEvents=ge?"":"none"}_attachBackdrop(){const ge="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ge)})}):this._backdropElement.classList.add(ge)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ge=this._backdropElement;if(ge){if(this._animationsDisabled)return void this._disposeBackdrop(ge);ge.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ge.addEventListener("transitionend",this._backdropTransitionendHandler)}),ge.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ge)},500))}}_toggleClasses(ge,we,me){const fe=(0,T.Eq)(we||[]).filter(Z=>!!Z);fe.length&&(me?ge.classList.add(...fe):ge.classList.remove(...fe))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ge=this._ngZone.onStable.pipe((0,l.R)((0,f.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ge.unsubscribe())})})}_disposeScrollStrategy(){const ge=this._scrollStrategy;ge&&(ge.disable(),ge.detach&&ge.detach())}_disposeBackdrop(ge){ge&&(ge.removeEventListener("click",this._backdropClickHandler),ge.removeEventListener("transitionend",this._backdropTransitionendHandler),ge.remove(),this._backdropElement===ge&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const V="cdk-overlay-connected-position-bounding-box",Q=/([A-Za-z%]+)$/;class ie{constructor(ge,we,me,fe,Z){this._viewportRuler=we,this._document=me,this._platform=fe,this._overlayContainer=Z,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E.xQ,this._resizeSubscription=i.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ge)}get positions(){return this._preferredPositions}attach(ge){this._validatePositions(),ge.hostElement.classList.add(V),this._overlayRef=ge,this._boundingBox=ge.hostElement,this._pane=ge.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ge=this._originRect,we=this._overlayRect,me=this._viewportRect,fe=this._containerRect,Z=[];let ee;for(let ue of this._preferredPositions){let Ce=this._getOriginPoint(ge,fe,ue),pt=this._getOverlayPoint(Ce,we,ue),Ze=this._getOverlayFit(pt,we,me,ue);if(Ze.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ue,Ce);this._canFitWithFlexibleDimensions(Ze,pt,me)?Z.push({position:ue,origin:Ce,overlayRect:we,boundingBoxRect:this._calculateBoundingBoxRect(Ce,ue)}):(!ee||ee.overlayFit.visibleArea<Ze.visibleArea)&&(ee={overlayFit:Ze,overlayPoint:pt,originPoint:Ce,position:ue,overlayRect:we})}if(Z.length){let ue=null,Ce=-1;for(const pt of Z){const Ze=pt.boundingBoxRect.width*pt.boundingBoxRect.height*(pt.position.weight||1);Ze>Ce&&(Ce=Ze,ue=pt)}return this._isPushed=!1,void this._applyPosition(ue.position,ue.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ee.position,ee.originPoint);this._applyPosition(ee.position,ee.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ye(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(V),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ge=this._lastPosition;if(ge){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const we=this._getOriginPoint(this._originRect,this._containerRect,ge);this._applyPosition(ge,we)}else this.apply()}withScrollableContainers(ge){return this._scrollables=ge,this}withPositions(ge){return this._preferredPositions=ge,-1===ge.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ge){return this._viewportMargin=ge,this}withFlexibleDimensions(ge=!0){return this._hasFlexibleDimensions=ge,this}withGrowAfterOpen(ge=!0){return this._growAfterOpen=ge,this}withPush(ge=!0){return this._canPush=ge,this}withLockedPosition(ge=!0){return this._positionLocked=ge,this}setOrigin(ge){return this._origin=ge,this}withDefaultOffsetX(ge){return this._offsetX=ge,this}withDefaultOffsetY(ge){return this._offsetY=ge,this}withTransformOriginOn(ge){return this._transformOriginSelector=ge,this}_getOriginPoint(ge,we,me){let fe,Z;if("center"==me.originX)fe=ge.left+ge.width/2;else{const ee=this._isRtl()?ge.right:ge.left,ue=this._isRtl()?ge.left:ge.right;fe="start"==me.originX?ee:ue}return we.left<0&&(fe-=we.left),Z="center"==me.originY?ge.top+ge.height/2:"top"==me.originY?ge.top:ge.bottom,we.top<0&&(Z-=we.top),{x:fe,y:Z}}_getOverlayPoint(ge,we,me){let fe,Z;return fe="center"==me.overlayX?-we.width/2:"start"===me.overlayX?this._isRtl()?-we.width:0:this._isRtl()?0:-we.width,Z="center"==me.overlayY?-we.height/2:"top"==me.overlayY?0:-we.height,{x:ge.x+fe,y:ge.y+Z}}_getOverlayFit(ge,we,me,fe){const Z=_e(we);let{x:ee,y:ue}=ge,Ce=this._getOffset(fe,"x"),pt=this._getOffset(fe,"y");Ce&&(ee+=Ce),pt&&(ue+=pt);let Dt=0-ue,At=ue+Z.height-me.height,Wt=this._subtractOverflows(Z.width,0-ee,ee+Z.width-me.width),Et=this._subtractOverflows(Z.height,Dt,At),nt=Wt*Et;return{visibleArea:nt,isCompletelyWithinViewport:Z.width*Z.height===nt,fitsInViewportVertically:Et===Z.height,fitsInViewportHorizontally:Wt==Z.width}}_canFitWithFlexibleDimensions(ge,we,me){if(this._hasFlexibleDimensions){const fe=me.bottom-we.y,Z=me.right-we.x,ee=G(this._overlayRef.getConfig().minHeight),ue=G(this._overlayRef.getConfig().minWidth),pt=ge.fitsInViewportHorizontally||null!=ue&&ue<=Z;return(ge.fitsInViewportVertically||null!=ee&&ee<=fe)&&pt}return!1}_pushOverlayOnScreen(ge,we,me){if(this._previousPushAmount&&this._positionLocked)return{x:ge.x+this._previousPushAmount.x,y:ge.y+this._previousPushAmount.y};const fe=_e(we),Z=this._viewportRect,ee=Math.max(ge.x+fe.width-Z.width,0),ue=Math.max(ge.y+fe.height-Z.height,0),Ce=Math.max(Z.top-me.top-ge.y,0),pt=Math.max(Z.left-me.left-ge.x,0);let Ze=0,ft=0;return Ze=fe.width<=Z.width?pt||-ee:ge.x<this._viewportMargin?Z.left-me.left-ge.x:0,ft=fe.height<=Z.height?Ce||-ue:ge.y<this._viewportMargin?Z.top-me.top-ge.y:0,this._previousPushAmount={x:Ze,y:ft},{x:ge.x+Ze,y:ge.y+ft}}_applyPosition(ge,we){if(this._setTransformOrigin(ge),this._setOverlayElementStyles(we,ge),this._setBoundingBoxStyles(we,ge),ge.panelClass&&this._addPanelClasses(ge.panelClass),this._lastPosition=ge,this._positionChanges.observers.length){const me=this._getScrollVisibility(),fe=new M(ge,me);this._positionChanges.next(fe)}this._isInitialRender=!1}_setTransformOrigin(ge){if(!this._transformOriginSelector)return;const we=this._boundingBox.querySelectorAll(this._transformOriginSelector);let me,fe=ge.overlayY;me="center"===ge.overlayX?"center":this._isRtl()?"start"===ge.overlayX?"right":"left":"start"===ge.overlayX?"left":"right";for(let Z=0;Z<we.length;Z++)we[Z].style.transformOrigin=`${me} ${fe}`}_calculateBoundingBoxRect(ge,we){const me=this._viewportRect,fe=this._isRtl();let Z,ee,ue,Ze,ft,Dt;if("top"===we.overlayY)ee=ge.y,Z=me.height-ee+this._viewportMargin;else if("bottom"===we.overlayY)ue=me.height-ge.y+2*this._viewportMargin,Z=me.height-ue+this._viewportMargin;else{const At=Math.min(me.bottom-ge.y+me.top,ge.y),Wt=this._lastBoundingBoxSize.height;Z=2*At,ee=ge.y-At,Z>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(ee=ge.y-Wt/2)}if("end"===we.overlayX&&!fe||"start"===we.overlayX&&fe)Dt=me.width-ge.x+this._viewportMargin,Ze=ge.x-this._viewportMargin;else if("start"===we.overlayX&&!fe||"end"===we.overlayX&&fe)ft=ge.x,Ze=me.right-ge.x;else{const At=Math.min(me.right-ge.x+me.left,ge.x),Wt=this._lastBoundingBoxSize.width;Ze=2*At,ft=ge.x-At,Ze>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(ft=ge.x-Wt/2)}return{top:ee,left:ft,bottom:ue,right:Dt,width:Ze,height:Z}}_setBoundingBoxStyles(ge,we){const me=this._calculateBoundingBoxRect(ge,we);!this._isInitialRender&&!this._growAfterOpen&&(me.height=Math.min(me.height,this._lastBoundingBoxSize.height),me.width=Math.min(me.width,this._lastBoundingBoxSize.width));const fe={};if(this._hasExactPosition())fe.top=fe.left="0",fe.bottom=fe.right=fe.maxHeight=fe.maxWidth="",fe.width=fe.height="100%";else{const Z=this._overlayRef.getConfig().maxHeight,ee=this._overlayRef.getConfig().maxWidth;fe.height=(0,T.HM)(me.height),fe.top=(0,T.HM)(me.top),fe.bottom=(0,T.HM)(me.bottom),fe.width=(0,T.HM)(me.width),fe.left=(0,T.HM)(me.left),fe.right=(0,T.HM)(me.right),fe.alignItems="center"===we.overlayX?"center":"end"===we.overlayX?"flex-end":"flex-start",fe.justifyContent="center"===we.overlayY?"center":"bottom"===we.overlayY?"flex-end":"flex-start",Z&&(fe.maxHeight=(0,T.HM)(Z)),ee&&(fe.maxWidth=(0,T.HM)(ee))}this._lastBoundingBoxSize=me,ye(this._boundingBox.style,fe)}_resetBoundingBoxStyles(){ye(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ye(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ge,we){const me={},fe=this._hasExactPosition(),Z=this._hasFlexibleDimensions,ee=this._overlayRef.getConfig();if(fe){const Ze=this._viewportRuler.getViewportScrollPosition();ye(me,this._getExactOverlayY(we,ge,Ze)),ye(me,this._getExactOverlayX(we,ge,Ze))}else me.position="static";let ue="",Ce=this._getOffset(we,"x"),pt=this._getOffset(we,"y");Ce&&(ue+=`translateX(${Ce}px) `),pt&&(ue+=`translateY(${pt}px)`),me.transform=ue.trim(),ee.maxHeight&&(fe?me.maxHeight=(0,T.HM)(ee.maxHeight):Z&&(me.maxHeight="")),ee.maxWidth&&(fe?me.maxWidth=(0,T.HM)(ee.maxWidth):Z&&(me.maxWidth="")),ye(this._pane.style,me)}_getExactOverlayY(ge,we,me){let fe={top:"",bottom:""},Z=this._getOverlayPoint(we,this._overlayRect,ge);return this._isPushed&&(Z=this._pushOverlayOnScreen(Z,this._overlayRect,me)),"bottom"===ge.overlayY?fe.bottom=this._document.documentElement.clientHeight-(Z.y+this._overlayRect.height)+"px":fe.top=(0,T.HM)(Z.y),fe}_getExactOverlayX(ge,we,me){let ee,fe={left:"",right:""},Z=this._getOverlayPoint(we,this._overlayRect,ge);return this._isPushed&&(Z=this._pushOverlayOnScreen(Z,this._overlayRect,me)),ee=this._isRtl()?"end"===ge.overlayX?"left":"right":"end"===ge.overlayX?"right":"left","right"===ee?fe.right=this._document.documentElement.clientWidth-(Z.x+this._overlayRect.width)+"px":fe.left=(0,T.HM)(Z.x),fe}_getScrollVisibility(){const ge=this._getOriginRect(),we=this._pane.getBoundingClientRect(),me=this._scrollables.map(fe=>fe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S(ge,me),isOriginOutsideView:o(ge,me),isOverlayClipped:S(we,me),isOverlayOutsideView:o(we,me)}}_subtractOverflows(ge,...we){return we.reduce((me,fe)=>me-Math.max(fe,0),ge)}_getNarrowedViewportRect(){const ge=this._document.documentElement.clientWidth,we=this._document.documentElement.clientHeight,me=this._viewportRuler.getViewportScrollPosition();return{top:me.top+this._viewportMargin,left:me.left+this._viewportMargin,right:me.left+ge-this._viewportMargin,bottom:me.top+we-this._viewportMargin,width:ge-2*this._viewportMargin,height:we-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ge,we){return"x"===we?null==ge.offsetX?this._offsetX:ge.offsetX:null==ge.offsetY?this._offsetY:ge.offsetY}_validatePositions(){}_addPanelClasses(ge){this._pane&&(0,T.Eq)(ge).forEach(we=>{""!==we&&-1===this._appliedPanelClasses.indexOf(we)&&(this._appliedPanelClasses.push(we),this._pane.classList.add(we))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ge=>{this._pane.classList.remove(ge)}),this._appliedPanelClasses=[])}_getOriginRect(){const ge=this._origin;if(ge instanceof y.SBq)return ge.nativeElement.getBoundingClientRect();if(ge instanceof Element)return ge.getBoundingClientRect();const we=ge.width||0,me=ge.height||0;return{top:ge.y,bottom:ge.y+me,left:ge.x,right:ge.x+we,height:me,width:we}}}function ye(ot,ge){for(let we in ge)ge.hasOwnProperty(we)&&(ot[we]=ge[we]);return ot}function G(ot){if("number"!=typeof ot&&null!=ot){const[ge,we]=ot.split(Q);return we&&"px"!==we?null:parseFloat(ge)}return ot||null}function _e(ot){return{top:Math.floor(ot.top),right:Math.floor(ot.right),bottom:Math.floor(ot.bottom),left:Math.floor(ot.left),width:Math.floor(ot.width),height:Math.floor(ot.height)}}const Fe="cdk-global-overlay-wrapper";class Ve{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ge){const we=ge.getConfig();this._overlayRef=ge,this._width&&!we.width&&ge.updateSize({width:this._width}),this._height&&!we.height&&ge.updateSize({height:this._height}),ge.hostElement.classList.add(Fe),this._isDisposed=!1}top(ge=""){return this._bottomOffset="",this._topOffset=ge,this._alignItems="flex-start",this}left(ge=""){return this._xOffset=ge,this._xPosition="left",this}bottom(ge=""){return this._topOffset="",this._bottomOffset=ge,this._alignItems="flex-end",this}right(ge=""){return this._xOffset=ge,this._xPosition="right",this}start(ge=""){return this._xOffset=ge,this._xPosition="start",this}end(ge=""){return this._xOffset=ge,this._xPosition="end",this}width(ge=""){return this._overlayRef?this._overlayRef.updateSize({width:ge}):this._width=ge,this}height(ge=""){return this._overlayRef?this._overlayRef.updateSize({height:ge}):this._height=ge,this}centerHorizontally(ge=""){return this.left(ge),this._xPosition="center",this}centerVertically(ge=""){return this.top(ge),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ge=this._overlayRef.overlayElement.style,we=this._overlayRef.hostElement.style,me=this._overlayRef.getConfig(),{width:fe,height:Z,maxWidth:ee,maxHeight:ue}=me,Ce=!("100%"!==fe&&"100vw"!==fe||ee&&"100%"!==ee&&"100vw"!==ee),pt=!("100%"!==Z&&"100vh"!==Z||ue&&"100%"!==ue&&"100vh"!==ue),Ze=this._xPosition,ft=this._xOffset,Dt="rtl"===this._overlayRef.getConfig().direction;let At="",Wt="",Et="";Ce?Et="flex-start":"center"===Ze?(Et="center",Dt?Wt=ft:At=ft):Dt?"left"===Ze||"end"===Ze?(Et="flex-end",At=ft):("right"===Ze||"start"===Ze)&&(Et="flex-start",Wt=ft):"left"===Ze||"start"===Ze?(Et="flex-start",At=ft):("right"===Ze||"end"===Ze)&&(Et="flex-end",Wt=ft),ge.position=this._cssPosition,ge.marginLeft=Ce?"0":At,ge.marginTop=pt?"0":this._topOffset,ge.marginBottom=this._bottomOffset,ge.marginRight=Ce?"0":Wt,we.justifyContent=Et,we.alignItems=pt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ge=this._overlayRef.overlayElement.style,we=this._overlayRef.hostElement,me=we.style;we.classList.remove(Fe),me.justifyContent=me.alignItems=ge.marginTop=ge.marginBottom=ge.marginLeft=ge.marginRight=ge.position="",this._overlayRef=null,this._isDisposed=!0}}let Pe=(()=>{class ot{constructor(we,me,fe,Z){this._viewportRuler=we,this._document=me,this._platform=fe,this._overlayContainer=Z}global(){return new Ve}flexibleConnectedTo(we){return new ie(we,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(e.rL),y.LFG(n.K0),y.LFG(v.t4),y.LFG($))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),xe=0,be=(()=>{class ot{constructor(we,me,fe,Z,ee,ue,Ce,pt,Ze,ft,Dt,At){this.scrollStrategies=we,this._overlayContainer=me,this._componentFactoryResolver=fe,this._positionBuilder=Z,this._keyboardDispatcher=ee,this._injector=ue,this._ngZone=Ce,this._document=pt,this._directionality=Ze,this._location=ft,this._outsideClickDispatcher=Dt,this._animationsModuleType=At}create(we){const me=this._createHostElement(),fe=this._createPaneElement(me),Z=this._createPortalOutlet(fe),ee=new P(we);return ee.direction=ee.direction||this._directionality.value,new j(Z,me,fe,ee,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(we){const me=this._document.createElement("div");return me.id="cdk-overlay-"+xe++,me.classList.add("cdk-overlay-pane"),we.appendChild(me),me}_createHostElement(){const we=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(we),we}_createPortalOutlet(we){return this._appRef||(this._appRef=this._injector.get(y.z2F)),new C.u0(we,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ot.\u0275fac=function(we){return new(we||ot)(y.LFG(x),y.LFG($),y.LFG(y._Vd),y.LFG(Pe),y.LFG(B),y.LFG(y.zs3),y.LFG(y.R0b),y.LFG(n.K0),y.LFG(O.Is),y.LFG(n.Ye),y.LFG(H),y.LFG(y.QbO,8))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();const Ue=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],He=new y.OlP("cdk-connected-overlay-scroll-strategy");let it=(()=>{class ot{constructor(we){this.elementRef=we}}return ot.\u0275fac=function(we){return new(we||ot)(y.Y36(y.SBq))},ot.\u0275dir=y.lG2({type:ot,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ot})(),je=(()=>{class ot{constructor(we,me,fe,Z,ee){this._overlay=we,this._dir=ee,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=i.w.EMPTY,this._attachSubscription=i.w.EMPTY,this._detachSubscription=i.w.EMPTY,this._positionSubscription=i.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new y.vpe,this.positionChange=new y.vpe,this.attach=new y.vpe,this.detach=new y.vpe,this.overlayKeydown=new y.vpe,this.overlayOutsideClick=new y.vpe,this._templatePortal=new C.UE(me,fe),this._scrollStrategyFactory=Z,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(we){this._offsetX=we,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(we){this._offsetY=we,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(we){this._hasBackdrop=(0,T.Ig)(we)}get lockPosition(){return this._lockPosition}set lockPosition(we){this._lockPosition=(0,T.Ig)(we)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(we){this._flexibleDimensions=(0,T.Ig)(we)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(we){this._growAfterOpen=(0,T.Ig)(we)}get push(){return this._push}set push(we){this._push=(0,T.Ig)(we)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(we){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),we.origin&&this.open&&this._position.apply()),we.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ue);const we=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=we.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=we.detachments().subscribe(()=>this.detach.emit()),we.keydownEvents().subscribe(me=>{this.overlayKeydown.next(me),me.keyCode===h.hY&&!this.disableClose&&!(0,h.Vb)(me)&&(me.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(me=>{this.overlayOutsideClick.next(me)})}_buildConfig(){const we=this._position=this.positionStrategy||this._createPositionStrategy(),me=new P({direction:this._dir,positionStrategy:we,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(me.width=this.width),(this.height||0===this.height)&&(me.height=this.height),(this.minWidth||0===this.minWidth)&&(me.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(me.minHeight=this.minHeight),this.backdropClass&&(me.backdropClass=this.backdropClass),this.panelClass&&(me.panelClass=this.panelClass),me}_updatePositionStrategy(we){const me=this.positions.map(fe=>({originX:fe.originX,originY:fe.originY,overlayX:fe.overlayX,overlayY:fe.overlayY,offsetX:fe.offsetX||this.offsetX,offsetY:fe.offsetY||this.offsetY,panelClass:fe.panelClass||void 0}));return we.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(me).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const we=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(we),we}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof it?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(we=>{this.backdropClick.emit(we)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,m.o)(()=>this.positionChange.observers.length>0)).subscribe(we=>{this.positionChange.emit(we),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ot.\u0275fac=function(we){return new(we||ot)(y.Y36(be),y.Y36(y.Rgc),y.Y36(y.s_b),y.Y36(He),y.Y36(O.Is,8))},ot.\u0275dir=y.lG2({type:ot,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[y.TTD]}),ot})();const lt={provide:He,deps:[be],useFactory:function Be(ot){return()=>ot.scrollStrategies.reposition()}};let Ye=(()=>{class ot{}return ot.\u0275fac=function(we){return new(we||ot)},ot.\u0275mod=y.oAB({type:ot}),ot.\u0275inj=y.cJS({providers:[be,lt],imports:[O.vT,C.eL,e.Cl,e.Cl]}),ot})()},3353:(Je,K,t)=>{"use strict";t.d(K,{Mq:()=>h,Oy:()=>S,_i:()=>d,ht:()=>r,i$:()=>_,kV:()=>s,qK:()=>E,sA:()=>o,t4:()=>T});var e=t(6353),n=t(6895);let y;try{y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{y=!1}let O,T=(()=>{class I{constructor(P){this._platformId=P,this.isBrowser=this._platformId?(0,n.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return I.\u0275fac=function(P){return new(P||I)(e.LFG(e.Lbi))},I.\u0275prov=e.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const C=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function E(){if(O)return O;if("object"!=typeof document||!document)return O=new Set(C),O;let I=document.createElement("input");return O=new Set(C.filter(x=>(I.setAttribute("type",x),I.type===x))),O}let i,l,m,c;function _(I){return function f(){if(null==i&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>i=!0}))}finally{i=i||!1}return i}()?I:!!I.capture}function h(){if(null==m){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return m=!1,m;if("scrollBehavior"in document.documentElement.style)m=!0;else{const I=Element.prototype.scrollTo;m=!!I&&!/\{\s*\[native code\]\s*\}/.test(I.toString())}}return m}function d(){if("object"!=typeof document||!document)return 0;if(null==l){const I=document.createElement("div"),x=I.style;I.dir="rtl",x.width="1px",x.overflow="auto",x.visibility="hidden",x.pointerEvents="none",x.position="absolute";const P=document.createElement("div"),g=P.style;g.width="2px",g.height="1px",I.appendChild(P),document.body.appendChild(I),l=0,0===I.scrollLeft&&(I.scrollLeft=1,l=0===I.scrollLeft?1:2),I.remove()}return l}function s(I){if(function a(){if(null==c){const I=typeof document<"u"?document.head:null;c=!(!I||!I.createShadowRoot&&!I.attachShadow)}return c}()){const x=I.getRootNode?I.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&x instanceof ShadowRoot)return x}return null}function r(){let I=typeof document<"u"&&document?document.activeElement:null;for(;I&&I.shadowRoot;){const x=I.shadowRoot.activeElement;if(x===I)break;I=x}return I}function o(I){return I.composedPath?I.composedPath()[0]:I.target}function S(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(Je,K,t)=>{"use strict";t.d(K,{C5:()=>f,Pl:()=>r,UE:()=>_,bH:()=>s,eL:()=>S,en:()=>m,ig:()=>a,u0:()=>d});var e=t(6353),n=t(6895);class i{attach(P){return this._attachedHost=P,P.attach(this)}detach(){let P=this._attachedHost;null!=P&&(this._attachedHost=null,P.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(P){this._attachedHost=P}}class f extends i{constructor(P,g,u,M,R){super(),this.component=P,this.viewContainerRef=g,this.injector=u,this.componentFactoryResolver=M,this.projectableNodes=R}}class _ extends i{constructor(P,g,u,M){super(),this.templateRef=P,this.viewContainerRef=g,this.context=u,this.injector=M}get origin(){return this.templateRef.elementRef}attach(P,g=this.context){return this.context=g,super.attach(P)}detach(){return this.context=void 0,super.detach()}}class l extends i{constructor(P){super(),this.element=P instanceof e.SBq?P.nativeElement:P}}class m{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(P){return P instanceof f?(this._attachedPortal=P,this.attachComponentPortal(P)):P instanceof _?(this._attachedPortal=P,this.attachTemplatePortal(P)):this.attachDomPortal&&P instanceof l?(this._attachedPortal=P,this.attachDomPortal(P)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(P){this._disposeFn=P}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class d extends m{constructor(P,g,u,M,R){super(),this.outletElement=P,this._componentFactoryResolver=g,this._appRef=u,this._defaultInjector=M,this.attachDomPortal=w=>{const F=w.element,B=this._document.createComment("dom-portal");F.parentNode.insertBefore(B,F),this.outletElement.appendChild(F),this._attachedPortal=w,super.setDisposeFn(()=>{B.parentNode&&B.parentNode.replaceChild(F,B)})},this._document=R}attachComponentPortal(P){const u=(P.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(P.component);let M;return P.viewContainerRef?(M=P.viewContainerRef.createComponent(u,P.viewContainerRef.length,P.injector||P.viewContainerRef.injector,P.projectableNodes||void 0),this.setDisposeFn(()=>M.destroy())):(M=u.create(P.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(M.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(M.hostView),M.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(M)),this._attachedPortal=P,M}attachTemplatePortal(P){let g=P.viewContainerRef,u=g.createEmbeddedView(P.templateRef,P.context,{injector:P.injector});return u.rootNodes.forEach(M=>this.outletElement.appendChild(M)),u.detectChanges(),this.setDisposeFn(()=>{let M=g.indexOf(u);-1!==M&&g.remove(M)}),this._attachedPortal=P,u}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(P){return P.hostView.rootNodes[0]}}let a=(()=>{class x extends _{constructor(g,u){super(g,u)}}return x.\u0275fac=function(g){return new(g||x)(e.Y36(e.Rgc),e.Y36(e.s_b))},x.\u0275dir=e.lG2({type:x,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[e.qOj]}),x})(),s=(()=>{class x extends a{}return x.\u0275fac=function(){let P;return function(u){return(P||(P=e.n5z(x)))(u||x)}}(),x.\u0275dir=e.lG2({type:x,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[e._Bn([{provide:a,useExisting:x}]),e.qOj]}),x})(),r=(()=>{class x extends m{constructor(g,u,M){super(),this._componentFactoryResolver=g,this._viewContainerRef=u,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=R=>{const w=R.element,F=this._document.createComment("dom-portal");R.setAttachedHost(this),w.parentNode.insertBefore(F,w),this._getRootNode().appendChild(w),this._attachedPortal=R,super.setDisposeFn(()=>{F.parentNode&&F.parentNode.replaceChild(w,F)})},this._document=M}get portal(){return this._attachedPortal}set portal(g){this.hasAttached()&&!g&&!this._isInitialized||(this.hasAttached()&&super.detach(),g&&super.attach(g),this._attachedPortal=g||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(g){g.setAttachedHost(this);const u=null!=g.viewContainerRef?g.viewContainerRef:this._viewContainerRef,R=(g.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(g.component),w=u.createComponent(R,u.length,g.injector||u.injector,g.projectableNodes||void 0);return u!==this._viewContainerRef&&this._getRootNode().appendChild(w.hostView.rootNodes[0]),super.setDisposeFn(()=>w.destroy()),this._attachedPortal=g,this._attachedRef=w,this.attached.emit(w),w}attachTemplatePortal(g){g.setAttachedHost(this);const u=this._viewContainerRef.createEmbeddedView(g.templateRef,g.context,{injector:g.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=g,this._attachedRef=u,this.attached.emit(u),u}_getRootNode(){const g=this._viewContainerRef.element.nativeElement;return g.nodeType===g.ELEMENT_NODE?g:g.parentNode}}return x.\u0275fac=function(g){return new(g||x)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(n.K0))},x.\u0275dir=e.lG2({type:x,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]}),x})(),S=(()=>{class x{}return x.\u0275fac=function(g){return new(g||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({}),x})()},3476:(Je,K,t)=>{"use strict";t.d(K,{xd:()=>Me,ZD:()=>ge,x0:()=>Ye,N7:()=>Be,mF:()=>Ve,Cl:()=>we,rL:()=>be});var e=t(1281),n=t(6353),y=t(8929),T=t(1086),v=t(6498),O=t(3753),C=t(6686),i=t(2268);const _=new class f extends i.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:Z}=this;let ee,ue=-1,Ce=Z.length;fe=fe||Z.shift();do{if(ee=fe.execute(fe.state,fe.delay))break}while(++ue<Ce&&(fe=Z.shift()));if(this.active=!1,ee){for(;++ue<Ce&&(fe=Z.shift());)fe.unsubscribe();throw ee}}}(class E extends C.o{constructor(fe,Z){super(fe,Z),this.scheduler=fe,this.work=Z}requestAsyncId(fe,Z,ee=0){return null!==ee&&ee>0?super.requestAsyncId(fe,Z,ee):(fe.actions.push(this),fe.scheduled||(fe.scheduled=requestAnimationFrame(()=>fe.flush(null))))}recycleAsyncId(fe,Z,ee=0){if(null!==ee&&ee>0||null===ee&&this.delay>0)return super.recycleAsyncId(fe,Z,ee);0===fe.actions.length&&(cancelAnimationFrame(Z),fe.scheduled=void 0)}});var m=t(8139),h=t(2654),d=t(4715),c=t(5778),a=t(353),s=t(1177);class o{constructor(fe){this.durationSelector=fe}call(fe,Z){return Z.subscribe(new S(fe,this.durationSelector))}}class S extends s.Ds{constructor(fe,Z){super(fe),this.durationSelector=Z,this.hasValue=!1}_next(fe){if(this.value=fe,this.hasValue=!0,!this.throttled){let Z;try{const{durationSelector:ue}=this;Z=ue(fe)}catch(ue){return this.destination.error(ue)}const ee=(0,s.ft)(Z,new s.IY(this));!ee||ee.closed?this.clearThrottle():this.add(this.throttled=ee)}}clearThrottle(){const{value:fe,hasValue:Z,throttled:ee}=this;ee&&(this.remove(ee),this.throttled=void 0,ee.unsubscribe()),Z&&(this.value=void 0,this.hasValue=!1,this.destination.next(fe))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var I=t(7739);function x(me,fe=a.P){return function r(me){return function(Z){return Z.lift(new o(me))}}(()=>(0,I.H)(me,fe))}var P=t(2198),g=t(7625),u=t(1059),M=t(3489);class w{call(fe,Z){return Z.subscribe(new F(fe))}}class F extends M.L{constructor(fe){super(fe),this.hasPrev=!1}_next(fe){let Z;this.hasPrev?Z=[this.prev,fe]:this.hasPrev=!0,this.prev=fe,Z&&this.destination.next(Z)}}var B=t(7545),H=t(5154),$=t(3353),j=t(6895),V=t(445),Q=t(5017);const ie=["contentWrapper"],ye=["*"],G=new n.OlP("VIRTUAL_SCROLL_STRATEGY");class _e{constructor(fe,Z,ee){this._scrolledIndexChange=new y.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,c.x)()),this._viewport=null,this._itemSize=fe,this._minBufferPx=Z,this._maxBufferPx=ee}attach(fe){this._viewport=fe,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(fe,Z,ee){this._itemSize=fe,this._minBufferPx=Z,this._maxBufferPx=ee,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(fe,Z){this._viewport&&this._viewport.scrollToOffset(fe*this._itemSize,Z)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const fe=this._viewport.getRenderedRange(),Z={start:fe.start,end:fe.end},ee=this._viewport.getViewportSize(),ue=this._viewport.getDataLength();let Ce=this._viewport.measureScrollOffset(),pt=this._itemSize>0?Ce/this._itemSize:0;if(Z.end>ue){const ft=Math.ceil(ee/this._itemSize),Dt=Math.max(0,Math.min(pt,ue-ft));pt!=Dt&&(pt=Dt,Ce=Dt*this._itemSize,Z.start=Math.floor(pt)),Z.end=Math.max(0,Math.min(ue,Z.start+ft))}const Ze=Ce-Z.start*this._itemSize;if(Ze<this._minBufferPx&&0!=Z.start){const ft=Math.ceil((this._maxBufferPx-Ze)/this._itemSize);Z.start=Math.max(0,Z.start-ft),Z.end=Math.min(ue,Math.ceil(pt+(ee+this._minBufferPx)/this._itemSize))}else{const ft=Z.end*this._itemSize-(Ce+ee);if(ft<this._minBufferPx&&Z.end!=ue){const Dt=Math.ceil((this._maxBufferPx-ft)/this._itemSize);Dt>0&&(Z.end=Math.min(ue,Z.end+Dt),Z.start=Math.max(0,Math.floor(pt-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(Z),this._viewport.setRenderedContentOffset(this._itemSize*Z.start),this._scrolledIndexChange.next(Math.floor(pt))}}function Ie(me){return me._scrollStrategy}let Me=(()=>{class me{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new _e(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(Z){this._itemSize=(0,e.su)(Z)}get minBufferPx(){return this._minBufferPx}set minBufferPx(Z){this._minBufferPx=(0,e.su)(Z)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(Z){this._maxBufferPx=(0,e.su)(Z)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275dir=n.lG2({type:me,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[n._Bn([{provide:G,useFactory:Ie,deps:[(0,n.Gpc)(()=>me)]}]),n.TTD]}),me})(),Ve=(()=>{class me{constructor(Z,ee,ue){this._ngZone=Z,this._platform=ee,this._scrolled=new y.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ue}register(Z){this.scrollContainers.has(Z)||this.scrollContainers.set(Z,Z.elementScrolled().subscribe(()=>this._scrolled.next(Z)))}deregister(Z){const ee=this.scrollContainers.get(Z);ee&&(ee.unsubscribe(),this.scrollContainers.delete(Z))}scrolled(Z=20){return this._platform.isBrowser?new v.y(ee=>{this._globalSubscription||this._addGlobalListener();const ue=Z>0?this._scrolled.pipe(x(Z)).subscribe(ee):this._scrolled.subscribe(ee);return this._scrolledCount++,()=>{ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,T.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Z,ee)=>this.deregister(ee)),this._scrolled.complete()}ancestorScrolled(Z,ee){const ue=this.getAncestorScrollContainers(Z);return this.scrolled(ee).pipe((0,P.h)(Ce=>!Ce||ue.indexOf(Ce)>-1))}getAncestorScrollContainers(Z){const ee=[];return this.scrollContainers.forEach((ue,Ce)=>{this._scrollableContainsElement(Ce,Z)&&ee.push(Ce)}),ee}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Z,ee){let ue=(0,e.fI)(ee),Ce=Z.getElementRef().nativeElement;do{if(ue==Ce)return!0}while(ue=ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Z=this._getWindow();return(0,O.R)(Z.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return me.\u0275fac=function(Z){return new(Z||me)(n.LFG(n.R0b),n.LFG($.t4),n.LFG(j.K0,8))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),Pe=(()=>{class me{constructor(Z,ee,ue,Ce){this.elementRef=Z,this.scrollDispatcher=ee,this.ngZone=ue,this.dir=Ce,this._destroyed=new y.xQ,this._elementScrolled=new v.y(pt=>this.ngZone.runOutsideAngular(()=>(0,O.R)(this.elementRef.nativeElement,"scroll").pipe((0,g.R)(this._destroyed)).subscribe(pt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Z){const ee=this.elementRef.nativeElement,ue=this.dir&&"rtl"==this.dir.value;null==Z.left&&(Z.left=ue?Z.end:Z.start),null==Z.right&&(Z.right=ue?Z.start:Z.end),null!=Z.bottom&&(Z.top=ee.scrollHeight-ee.clientHeight-Z.bottom),ue&&0!=(0,$._i)()?(null!=Z.left&&(Z.right=ee.scrollWidth-ee.clientWidth-Z.left),2==(0,$._i)()?Z.left=Z.right:1==(0,$._i)()&&(Z.left=Z.right?-Z.right:Z.right)):null!=Z.right&&(Z.left=ee.scrollWidth-ee.clientWidth-Z.right),this._applyScrollToOptions(Z)}_applyScrollToOptions(Z){const ee=this.elementRef.nativeElement;(0,$.Mq)()?ee.scrollTo(Z):(null!=Z.top&&(ee.scrollTop=Z.top),null!=Z.left&&(ee.scrollLeft=Z.left))}measureScrollOffset(Z){const ee="left",Ce=this.elementRef.nativeElement;if("top"==Z)return Ce.scrollTop;if("bottom"==Z)return Ce.scrollHeight-Ce.clientHeight-Ce.scrollTop;const pt=this.dir&&"rtl"==this.dir.value;return"start"==Z?Z=pt?"right":ee:"end"==Z&&(Z=pt?ee:"right"),pt&&2==(0,$._i)()?Z==ee?Ce.scrollWidth-Ce.clientWidth-Ce.scrollLeft:Ce.scrollLeft:pt&&1==(0,$._i)()?Z==ee?Ce.scrollLeft+Ce.scrollWidth-Ce.clientWidth:-Ce.scrollLeft:Z==ee?Ce.scrollLeft:Ce.scrollWidth-Ce.clientWidth-Ce.scrollLeft}}return me.\u0275fac=function(Z){return new(Z||me)(n.Y36(n.SBq),n.Y36(Ve),n.Y36(n.R0b),n.Y36(V.Is,8))},me.\u0275dir=n.lG2({type:me,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),me})(),be=(()=>{class me{constructor(Z,ee,ue){this._platform=Z,this._change=new y.xQ,this._changeListener=Ce=>{this._change.next(Ce)},this._document=ue,ee.runOutsideAngular(()=>{if(Z.isBrowser){const Ce=this._getWindow();Ce.addEventListener("resize",this._changeListener),Ce.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Z=this._getWindow();Z.removeEventListener("resize",this._changeListener),Z.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Z={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Z}getViewportRect(){const Z=this.getViewportScrollPosition(),{width:ee,height:ue}=this.getViewportSize();return{top:Z.top,left:Z.left,bottom:Z.top+ue,right:Z.left+ee,height:ue,width:ee}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Z=this._document,ee=this._getWindow(),ue=Z.documentElement,Ce=ue.getBoundingClientRect();return{top:-Ce.top||Z.body.scrollTop||ee.scrollY||ue.scrollTop||0,left:-Ce.left||Z.body.scrollLeft||ee.scrollX||ue.scrollLeft||0}}change(Z=20){return Z>0?this._change.pipe(x(Z)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Z=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Z.innerWidth,height:Z.innerHeight}:{width:0,height:0}}}return me.\u0275fac=function(Z){return new(Z||me)(n.LFG($.t4),n.LFG(n.R0b),n.LFG(j.K0,8))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Ue=new n.OlP("VIRTUAL_SCROLLABLE");let He=(()=>{class me extends Pe{constructor(Z,ee,ue,Ce){super(Z,ee,ue,Ce)}measureViewportSize(Z){const ee=this.elementRef.nativeElement;return"horizontal"===Z?ee.clientWidth:ee.clientHeight}}return me.\u0275fac=function(Z){return new(Z||me)(n.Y36(n.SBq),n.Y36(Ve),n.Y36(n.R0b),n.Y36(V.Is,8))},me.\u0275dir=n.lG2({type:me,features:[n.qOj]}),me})();const je=typeof requestAnimationFrame<"u"?_:m.E;let Be=(()=>{class me extends He{constructor(Z,ee,ue,Ce,pt,Ze,ft,Dt){super(Z,Ze,ue,pt),this.elementRef=Z,this._changeDetectorRef=ee,this._scrollStrategy=Ce,this.scrollable=Dt,this._platform=(0,n.f3M)($.t4),this._detachedSubject=new y.xQ,this._renderedRangeSubject=new y.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new v.y(At=>this._scrollStrategy.scrolledIndexChange.subscribe(Wt=>Promise.resolve().then(()=>this.ngZone.run(()=>At.next(Wt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=h.w.EMPTY,this._viewportChanges=ft.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(Z){this._orientation!==Z&&(this._orientation=Z,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(Z){this._appendOnly=(0,e.Ig)(Z)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,u.O)(null),x(0,je)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(Z){this.ngZone.runOutsideAngular(()=>{this._forOf=Z,this._forOf.dataStream.pipe((0,g.R)(this._detachedSubject)).subscribe(ee=>{const ue=ee.length;ue!==this._dataLength&&(this._dataLength=ue,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(Z){return this.getElementRef().nativeElement.getBoundingClientRect()[Z]}setTotalContentSize(Z){this._totalContentSize!==Z&&(this._totalContentSize=Z,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(Z){(function it(me,fe){return me.start==fe.start&&me.end==fe.end})(this._renderedRange,Z)||(this.appendOnly&&(Z={start:0,end:Math.max(this._renderedRange.end,Z.end)}),this._renderedRangeSubject.next(this._renderedRange=Z),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(Z,ee="to-start"){Z=this.appendOnly&&"to-start"===ee?0:Z;const Ce="horizontal"==this.orientation,pt=Ce?"X":"Y";let ft=`translate${pt}(${Number((Ce&&this.dir&&"rtl"==this.dir.value?-1:1)*Z)}px)`;this._renderedContentOffset=Z,"to-end"===ee&&(ft+=` translate${pt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=ft&&(this._renderedContentTransform=ft,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(Z,ee="auto"){const ue={behavior:ee};"horizontal"===this.orientation?ue.start=Z:ue.top=Z,this.scrollable.scrollTo(ue)}scrollToIndex(Z,ee="auto"){this._scrollStrategy.scrollToIndex(Z,ee)}measureScrollOffset(Z){let ee;return ee=this.scrollable==this?ue=>super.measureScrollOffset(ue):ue=>this.scrollable.measureScrollOffset(ue),Math.max(0,ee(Z??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(Z){let ee;const pt="rtl"==this.dir?.value;ee="start"==Z?pt?"right":"left":"end"==Z?pt?"left":"right":Z||("horizontal"===this.orientation?"left":"top");const Ze=this.scrollable.measureBoundingClientRectWithScrollOffset(ee);return this.elementRef.nativeElement.getBoundingClientRect()[ee]-Ze}measureRenderedContentSize(){const Z=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?Z.offsetWidth:Z.offsetHeight}measureRangeSize(Z){return this._forOf?this._forOf.measureRangeSize(Z,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(Z){Z&&this._runAfterChangeDetection.push(Z),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const Z=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ee of Z)ee()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return me.\u0275fac=function(Z){return new(Z||me)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36(G,8),n.Y36(V.Is,8),n.Y36(Ve),n.Y36(be),n.Y36(Ue,8))},me.\u0275cmp=n.Xpm({type:me,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(Z,ee){if(1&Z&&n.Gf(ie,7),2&Z){let ue;n.iGM(ue=n.CRH())&&(ee._contentWrapper=ue.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(Z,ee){2&Z&&n.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===ee.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ee.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[n._Bn([{provide:Pe,useFactory:(fe,Z)=>fe||Z,deps:[[new n.FiY,new n.tBr(Ue)],me]}]),n.qOj,n.jDz],ngContentSelectors:ye,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(Z,ee){1&Z&&(n.F$t(),n.TgZ(0,"div",0,1),n.Hsn(2),n.qZA(),n._UZ(3,"div",2)),2&Z&&(n.xp6(3),n.Udp("width",ee._totalContentWidth)("height",ee._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),me})();function lt(me,fe,Z){if(!Z.getBoundingClientRect)return 0;const ue=Z.getBoundingClientRect();return"horizontal"===me?"start"===fe?ue.left:ue.right:"start"===fe?ue.top:ue.bottom}let Ye=(()=>{class me{constructor(Z,ee,ue,Ce,pt,Ze){this._viewContainerRef=Z,this._template=ee,this._differs=ue,this._viewRepeater=Ce,this._viewport=pt,this.viewChange=new y.xQ,this._dataSourceChanges=new y.xQ,this.dataStream=this._dataSourceChanges.pipe((0,u.O)(null),function R(){return me=>me.lift(new w)}(),(0,B.w)(([ft,Dt])=>this._changeDataSource(ft,Dt)),(0,H.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new y.xQ,this.dataStream.subscribe(ft=>{this._data=ft,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,g.R)(this._destroyed)).subscribe(ft=>{this._renderedRange=ft,this.viewChange.observers.length&&Ze.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(Z){this._cdkVirtualForOf=Z,(0,Q.Z9)(Z)?this._dataSourceChanges.next(Z):this._dataSourceChanges.next(new Q.P3((0,d.b)(Z)?Z:Array.from(Z||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(Z){this._needsUpdate=!0,this._cdkVirtualForTrackBy=Z?(ee,ue)=>Z(ee+(this._renderedRange?this._renderedRange.start:0),ue):void 0}set cdkVirtualForTemplate(Z){Z&&(this._needsUpdate=!0,this._template=Z)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(Z){this._viewRepeater.viewCacheSize=(0,e.su)(Z)}measureRangeSize(Z,ee){if(Z.start>=Z.end)return 0;const ue=Z.start-this._renderedRange.start,Ce=Z.end-Z.start;let pt,Ze;for(let ft=0;ft<Ce;ft++){const Dt=this._viewContainerRef.get(ft+ue);if(Dt&&Dt.rootNodes.length){pt=Ze=Dt.rootNodes[0];break}}for(let ft=Ce-1;ft>-1;ft--){const Dt=this._viewContainerRef.get(ft+ue);if(Dt&&Dt.rootNodes.length){Ze=Dt.rootNodes[Dt.rootNodes.length-1];break}}return pt&&Ze?lt(ee,"end",Ze)-lt(ee,"start",pt):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const Z=this._differ.diff(this._renderedItems);Z?this._applyChanges(Z):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((Z,ee)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(Z,ee):ee)),this._needsUpdate=!0)}_changeDataSource(Z,ee){return Z&&Z.disconnect(this),this._needsUpdate=!0,ee?ee.connect(this):(0,T.of)()}_updateContext(){const Z=this._data.length;let ee=this._viewContainerRef.length;for(;ee--;){const ue=this._viewContainerRef.get(ee);ue.context.index=this._renderedRange.start+ee,ue.context.count=Z,this._updateComputedContextProperties(ue.context),ue.detectChanges()}}_applyChanges(Z){this._viewRepeater.applyChanges(Z,this._viewContainerRef,(Ce,pt,Ze)=>this._getEmbeddedViewArgs(Ce,Ze),Ce=>Ce.item),Z.forEachIdentityChange(Ce=>{this._viewContainerRef.get(Ce.currentIndex).context.$implicit=Ce.item});const ee=this._data.length;let ue=this._viewContainerRef.length;for(;ue--;){const Ce=this._viewContainerRef.get(ue);Ce.context.index=this._renderedRange.start+ue,Ce.context.count=ee,this._updateComputedContextProperties(Ce.context)}}_updateComputedContextProperties(Z){Z.first=0===Z.index,Z.last=Z.index===Z.count-1,Z.even=Z.index%2==0,Z.odd=!Z.even}_getEmbeddedViewArgs(Z,ee){return{templateRef:this._template,context:{$implicit:Z.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:ee}}}return me.\u0275fac=function(Z){return new(Z||me)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36(Q.k),n.Y36(Be,4),n.Y36(n.R0b))},me.\u0275dir=n.lG2({type:me,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[n._Bn([{provide:Q.k,useClass:Q.eX}])]}),me})(),ge=(()=>{class me{}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({}),me})(),we=(()=>{class me{}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[V.vT,ge,Be,V.vT,ge]}),me})()},5013:(Je,K,t)=>{"use strict";t.d(K,{$E:()=>ue,Af:()=>w,D5:()=>x,FT:()=>ee,HT:()=>Et,Hx:()=>At,Kb:()=>Ve,O_:()=>I,QJ:()=>F,Sq:()=>Fe,T$:()=>Z,Z4:()=>P,_J:()=>be,bH:()=>Ce,fe:()=>Me,fo:()=>M,hD:()=>B,nl:()=>$,oF:()=>j,pF:()=>me,pN:()=>o,qM:()=>xe,r2:()=>Ue,s$:()=>G,xN:()=>Pe,zC:()=>ft});var e=t(445),n=t(1281),y=t(5017),T=t(3353),v=t(3476),O=t(6895),C=t(6353),E=t(8929),i=t(5254),f=t(591),_=t(4715),l=t(1086),m=t(7625),h=t(2986);const d=[[["caption"]],[["colgroup"],["col"]]],c=["caption","colgroup, col"];function a(nt,ct){if(1&nt&&(C.TgZ(0,"th",3),C._uU(1),C.qZA()),2&nt){const Xe=C.oxw();C.Udp("text-align",Xe.justify),C.xp6(1),C.hij(" ",Xe.headerText," ")}}function s(nt,ct){if(1&nt&&(C.TgZ(0,"td",4),C._uU(1),C.qZA()),2&nt){const Xe=ct.$implicit,Ke=C.oxw();C.Udp("text-align",Ke.justify),C.xp6(1),C.hij(" ",Ke.dataAccessor(Xe,Ke.name)," ")}}function r(nt){return class extends nt{constructor(...ct){super(...ct),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(ct){const Xe=this._sticky;this._sticky=(0,n.Ig)(ct),this._hasStickyChanged=Xe!==this._sticky}hasStickyChanged(){const ct=this._hasStickyChanged;return this._hasStickyChanged=!1,ct}resetStickyChanged(){this._hasStickyChanged=!1}}}const o=new C.OlP("CDK_TABLE"),S=new C.OlP("text-column-options");let I=(()=>{class nt{constructor(Xe){this.template=Xe}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkCellDef",""]]}),nt})(),x=(()=>{class nt{constructor(Xe){this.template=Xe}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkHeaderCellDef",""]]}),nt})(),P=(()=>{class nt{constructor(Xe){this.template=Xe}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkFooterCellDef",""]]}),nt})();class g{}const u=r(g);let M=(()=>{class nt extends u{constructor(Xe){super(),this._table=Xe,this._stickyEnd=!1}get name(){return this._name}set name(Xe){this._setNameInput(Xe)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Xe){const Ke=this._stickyEnd;this._stickyEnd=(0,n.Ig)(Xe),this._hasStickyChanged=Ke!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Xe){Xe&&(this._name=Xe,this.cssClassFriendlyName=Xe.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(o,8))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkColumnDef",""]],contentQueries:function(Xe,Ke,rt){if(1&Xe&&(C.Suo(rt,I,5),C.Suo(rt,x,5),C.Suo(rt,P,5)),2&Xe){let le;C.iGM(le=C.CRH())&&(Ke.cell=le.first),C.iGM(le=C.CRH())&&(Ke.headerCell=le.first),C.iGM(le=C.CRH())&&(Ke.footerCell=le.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[C._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:nt}]),C.qOj]}),nt})();class R{constructor(ct,Xe){Xe.nativeElement.classList.add(...ct._columnCssClassName)}}let w=(()=>{class nt extends R{constructor(Xe,Ke){super(Xe,Ke)}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(M),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[C.qOj]}),nt})(),F=(()=>{class nt extends R{constructor(Xe,Ke){if(super(Xe,Ke),1===Xe._table?._elementRef.nativeElement.nodeType){const rt=Xe._table._elementRef.nativeElement.getAttribute("role");Ke.nativeElement.setAttribute("role","grid"===rt||"treegrid"===rt?"gridcell":"cell")}}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(M),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[C.qOj]}),nt})(),B=(()=>{class nt extends R{constructor(Xe,Ke){if(super(Xe,Ke),1===Xe._table?._elementRef.nativeElement.nodeType){const rt=Xe._table._elementRef.nativeElement.getAttribute("role");Ke.nativeElement.setAttribute("role","grid"===rt||"treegrid"===rt?"gridcell":"cell")}}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(M),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[C.qOj]}),nt})();class H{constructor(){this.tasks=[],this.endTasks=[]}}const $=new C.OlP("_COALESCED_STYLE_SCHEDULER");let j=(()=>{class nt{constructor(Xe){this._ngZone=Xe,this._currentSchedule=null,this._destroyed=new E.xQ}schedule(Xe){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Xe)}scheduleEnd(Xe){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Xe)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new H,this._getScheduleObservable().pipe((0,m.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Xe=this._currentSchedule;this._currentSchedule=new H;for(const Ke of Xe.tasks)Ke();for(const Ke of Xe.endTasks)Ke()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,i.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,h.q)(1))}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.LFG(C.R0b))},nt.\u0275prov=C.Yz7({token:nt,factory:nt.\u0275fac}),nt})(),Q=(()=>{class nt{constructor(Xe,Ke){this.template=Xe,this._differs=Ke}ngOnChanges(Xe){if(!this._columnsDiffer){const Ke=Xe.columns&&Xe.columns.currentValue||[];this._columnsDiffer=this._differs.find(Ke).create(),this._columnsDiffer.diff(Ke)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Xe){return this instanceof G?Xe.headerCell.template:this instanceof Me?Xe.footerCell.template:Xe.cell.template}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc),C.Y36(C.ZZ4))},nt.\u0275dir=C.lG2({type:nt,features:[C.TTD]}),nt})();class ie extends Q{}const ye=r(ie);let G=(()=>{class nt extends ye{constructor(Xe,Ke,rt){super(Xe,Ke),this._table=rt}ngOnChanges(Xe){super.ngOnChanges(Xe)}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc),C.Y36(C.ZZ4),C.Y36(o,8))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[C.qOj,C.TTD]}),nt})();class _e extends Q{}const Ie=r(_e);let Me=(()=>{class nt extends Ie{constructor(Xe,Ke,rt){super(Xe,Ke),this._table=rt}ngOnChanges(Xe){super.ngOnChanges(Xe)}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc),C.Y36(C.ZZ4),C.Y36(o,8))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[C.qOj,C.TTD]}),nt})(),Fe=(()=>{class nt extends Q{constructor(Xe,Ke,rt){super(Xe,Ke),this._table=rt}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc),C.Y36(C.ZZ4),C.Y36(o,8))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[C.qOj]}),nt})(),Ve=(()=>{class nt{constructor(Xe){this._viewContainer=Xe,nt.mostRecentCellOutlet=this}ngOnDestroy(){nt.mostRecentCellOutlet===this&&(nt.mostRecentCellOutlet=null)}}return nt.mostRecentCellOutlet=null,nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.s_b))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","cdkCellOutlet",""]]}),nt})(),Pe=(()=>{class nt{}return nt.\u0275fac=function(Xe){return new(Xe||nt)},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Ke){1&Xe&&C.GkF(0,0)},dependencies:[Ve],encapsulation:2}),nt})(),xe=(()=>{class nt{}return nt.\u0275fac=function(Xe){return new(Xe||nt)},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Ke){1&Xe&&C.GkF(0,0)},dependencies:[Ve],encapsulation:2}),nt})(),be=(()=>{class nt{}return nt.\u0275fac=function(Xe){return new(Xe||nt)},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Ke){1&Xe&&C.GkF(0,0)},dependencies:[Ve],encapsulation:2}),nt})(),Ue=(()=>{class nt{constructor(Xe){this.templateRef=Xe,this._contentClassName="cdk-no-data-row"}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.Rgc))},nt.\u0275dir=C.lG2({type:nt,selectors:[["ng-template","cdkNoDataRow",""]]}),nt})();const He=["top","bottom","left","right"];class it{constructor(ct,Xe,Ke,rt,le=!0,te=!0,J){this._isNativeHtmlTable=ct,this._stickCellCss=Xe,this.direction=Ke,this._coalescedStyleScheduler=rt,this._isBrowser=le,this._needsPositionStickyOnElement=te,this._positionListener=J,this._cachedCellWidths=[],this._borderCellCss={top:`${Xe}-border-elem-top`,bottom:`${Xe}-border-elem-bottom`,left:`${Xe}-border-elem-left`,right:`${Xe}-border-elem-right`}}clearStickyPositioning(ct,Xe){const Ke=[];for(const rt of ct)if(rt.nodeType===rt.ELEMENT_NODE){Ke.push(rt);for(let le=0;le<rt.children.length;le++)Ke.push(rt.children[le])}this._coalescedStyleScheduler.schedule(()=>{for(const rt of Ke)this._removeStickyStyle(rt,Xe)})}updateStickyColumns(ct,Xe,Ke,rt=!0){if(!ct.length||!this._isBrowser||!Xe.some(zt=>zt)&&!Ke.some(zt=>zt))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const le=ct[0],te=le.children.length,J=this._getCellWidths(le,rt),ne=this._getStickyStartColumnPositions(J,Xe),$e=this._getStickyEndColumnPositions(J,Ke),Qe=Xe.lastIndexOf(!0),Tt=Ke.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const zt="rtl"===this.direction,cn=zt?"right":"left",an=zt?"left":"right";for(const vn of ct)for(let Dn=0;Dn<te;Dn++){const Tn=vn.children[Dn];Xe[Dn]&&this._addStickyStyle(Tn,cn,ne[Dn],Dn===Qe),Ke[Dn]&&this._addStickyStyle(Tn,an,$e[Dn],Dn===Tt)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Qe?[]:J.slice(0,Qe+1).map((vn,Dn)=>Xe[Dn]?vn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Tt?[]:J.slice(Tt).map((vn,Dn)=>Ke[Dn+Tt]?vn:null).reverse()}))})}stickRows(ct,Xe,Ke){if(!this._isBrowser)return;const rt="bottom"===Ke?ct.slice().reverse():ct,le="bottom"===Ke?Xe.slice().reverse():Xe,te=[],J=[],ne=[];for(let Qe=0,Tt=0;Qe<rt.length;Qe++){if(!le[Qe])continue;te[Qe]=Tt;const zt=rt[Qe];ne[Qe]=this._isNativeHtmlTable?Array.from(zt.children):[zt];const cn=zt.getBoundingClientRect().height;Tt+=cn,J[Qe]=cn}const $e=le.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Qe=0;Qe<rt.length;Qe++){if(!le[Qe])continue;const Tt=te[Qe],zt=Qe===$e;for(const cn of ne[Qe])this._addStickyStyle(cn,Ke,Tt,zt)}"top"===Ke?this._positionListener?.stickyHeaderRowsUpdated({sizes:J,offsets:te,elements:ne}):this._positionListener?.stickyFooterRowsUpdated({sizes:J,offsets:te,elements:ne})})}updateStickyFooterContainer(ct,Xe){if(!this._isNativeHtmlTable)return;const Ke=ct.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Xe.some(rt=>!rt)?this._removeStickyStyle(Ke,["bottom"]):this._addStickyStyle(Ke,"bottom",0,!1)})}_removeStickyStyle(ct,Xe){for(const rt of Xe)ct.style[rt]="",ct.classList.remove(this._borderCellCss[rt]);He.some(rt=>-1===Xe.indexOf(rt)&&ct.style[rt])?ct.style.zIndex=this._getCalculatedZIndex(ct):(ct.style.zIndex="",this._needsPositionStickyOnElement&&(ct.style.position=""),ct.classList.remove(this._stickCellCss))}_addStickyStyle(ct,Xe,Ke,rt){ct.classList.add(this._stickCellCss),rt&&ct.classList.add(this._borderCellCss[Xe]),ct.style[Xe]=`${Ke}px`,ct.style.zIndex=this._getCalculatedZIndex(ct),this._needsPositionStickyOnElement&&(ct.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(ct){const Xe={top:100,bottom:10,left:1,right:1};let Ke=0;for(const rt of He)ct.style[rt]&&(Ke+=Xe[rt]);return Ke?`${Ke}`:""}_getCellWidths(ct,Xe=!0){if(!Xe&&this._cachedCellWidths.length)return this._cachedCellWidths;const Ke=[],rt=ct.children;for(let le=0;le<rt.length;le++)Ke.push(rt[le].getBoundingClientRect().width);return this._cachedCellWidths=Ke,Ke}_getStickyStartColumnPositions(ct,Xe){const Ke=[];let rt=0;for(let le=0;le<ct.length;le++)Xe[le]&&(Ke[le]=rt,rt+=ct[le]);return Ke}_getStickyEndColumnPositions(ct,Xe){const Ke=[];let rt=0;for(let le=ct.length;le>0;le--)Xe[le]&&(Ke[le]=rt,rt+=ct[le]);return Ke}}const me=new C.OlP("CDK_SPL");let Z=(()=>{class nt{constructor(Xe,Ke){this.viewContainer=Xe,this.elementRef=Ke}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.s_b),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","rowOutlet",""]]}),nt})(),ee=(()=>{class nt{constructor(Xe,Ke){this.viewContainer=Xe,this.elementRef=Ke}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.s_b),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","headerRowOutlet",""]]}),nt})(),ue=(()=>{class nt{constructor(Xe,Ke){this.viewContainer=Xe,this.elementRef=Ke}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.s_b),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","footerRowOutlet",""]]}),nt})(),Ce=(()=>{class nt{constructor(Xe,Ke){this.viewContainer=Xe,this.elementRef=Ke}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.s_b),C.Y36(C.SBq))},nt.\u0275dir=C.lG2({type:nt,selectors:[["","noDataRowOutlet",""]]}),nt})(),ft=(()=>{class nt{constructor(Xe,Ke,rt,le,te,J,ne,$e,Qe,Tt,zt,cn){this._differs=Xe,this._changeDetectorRef=Ke,this._elementRef=rt,this._dir=te,this._platform=ne,this._viewRepeater=$e,this._coalescedStyleScheduler=Qe,this._viewportRuler=Tt,this._stickyPositioningListener=zt,this._ngZone=cn,this._onDestroy=new E.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new C.vpe,this.viewChange=new f.X({start:0,end:Number.MAX_VALUE}),le||this._elementRef.nativeElement.setAttribute("role","table"),this._document=J,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(Xe){this._trackByFn=Xe}get dataSource(){return this._dataSource}set dataSource(Xe){this._dataSource!==Xe&&this._switchDataSource(Xe)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Xe){this._multiTemplateDataRows=(0,n.Ig)(Xe),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Xe){this._fixedLayout=(0,n.Ig)(Xe),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Xe,Ke)=>this.trackBy?this.trackBy(Ke.dataIndex,Ke.data):Ke),this._viewportRuler.change().pipe((0,m.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Ke=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Ke,this._forceRecalculateCellWidths=Ke,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Xe=>{Xe.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,y.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Xe=this._dataDiffer.diff(this._renderRows);if(!Xe)return this._updateNoDataRow(),void this.contentChanged.next();const Ke=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Xe,Ke,(rt,le,te)=>this._getEmbeddedViewArgs(rt.item,te),rt=>rt.item.data,rt=>{1===rt.operation&&rt.context&&this._renderCellTemplateForItem(rt.record.item.rowDef,rt.context)}),this._updateRowIndexContext(),Xe.forEachIdentityChange(rt=>{Ke.get(rt.currentIndex).context.$implicit=rt.item.data}),this._updateNoDataRow(),this._ngZone&&C.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,h.q)(1),(0,m.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Xe){this._customColumnDefs.add(Xe)}removeColumnDef(Xe){this._customColumnDefs.delete(Xe)}addRowDef(Xe){this._customRowDefs.add(Xe)}removeRowDef(Xe){this._customRowDefs.delete(Xe)}addHeaderRowDef(Xe){this._customHeaderRowDefs.add(Xe),this._headerRowDefChanged=!0}removeHeaderRowDef(Xe){this._customHeaderRowDefs.delete(Xe),this._headerRowDefChanged=!0}addFooterRowDef(Xe){this._customFooterRowDefs.add(Xe),this._footerRowDefChanged=!0}removeFooterRowDef(Xe){this._customFooterRowDefs.delete(Xe),this._footerRowDefChanged=!0}setNoDataRow(Xe){this._customNoDataRow=Xe}updateStickyHeaderRowStyles(){const Xe=this._getRenderedRows(this._headerRowOutlet),rt=this._elementRef.nativeElement.querySelector("thead");rt&&(rt.style.display=Xe.length?"":"none");const le=this._headerRowDefs.map(te=>te.sticky);this._stickyStyler.clearStickyPositioning(Xe,["top"]),this._stickyStyler.stickRows(Xe,le,"top"),this._headerRowDefs.forEach(te=>te.resetStickyChanged())}updateStickyFooterRowStyles(){const Xe=this._getRenderedRows(this._footerRowOutlet),rt=this._elementRef.nativeElement.querySelector("tfoot");rt&&(rt.style.display=Xe.length?"":"none");const le=this._footerRowDefs.map(te=>te.sticky);this._stickyStyler.clearStickyPositioning(Xe,["bottom"]),this._stickyStyler.stickRows(Xe,le,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,le),this._footerRowDefs.forEach(te=>te.resetStickyChanged())}updateStickyColumnStyles(){const Xe=this._getRenderedRows(this._headerRowOutlet),Ke=this._getRenderedRows(this._rowOutlet),rt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Xe,...Ke,...rt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Xe.forEach((le,te)=>{this._addStickyColumnStyles([le],this._headerRowDefs[te])}),this._rowDefs.forEach(le=>{const te=[];for(let J=0;J<Ke.length;J++)this._renderRows[J].rowDef===le&&te.push(Ke[J]);this._addStickyColumnStyles(te,le)}),rt.forEach((le,te)=>{this._addStickyColumnStyles([le],this._footerRowDefs[te])}),Array.from(this._columnDefsByName.values()).forEach(le=>le.resetStickyChanged())}_getAllRenderRows(){const Xe=[],Ke=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let rt=0;rt<this._data.length;rt++){let le=this._data[rt];const te=this._getRenderRowsForData(le,rt,Ke.get(le));this._cachedRenderRowsMap.has(le)||this._cachedRenderRowsMap.set(le,new WeakMap);for(let J=0;J<te.length;J++){let ne=te[J];const $e=this._cachedRenderRowsMap.get(ne.data);$e.has(ne.rowDef)?$e.get(ne.rowDef).push(ne):$e.set(ne.rowDef,[ne]),Xe.push(ne)}}return Xe}_getRenderRowsForData(Xe,Ke,rt){return this._getRowDefs(Xe,Ke).map(te=>{const J=rt&&rt.has(te)?rt.get(te):[];if(J.length){const ne=J.shift();return ne.dataIndex=Ke,ne}return{data:Xe,rowDef:te,dataIndex:Ke}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Dt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Ke=>{this._columnDefsByName.has(Ke.name),this._columnDefsByName.set(Ke.name,Ke)})}_cacheRowDefs(){this._headerRowDefs=Dt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Dt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Dt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Xe=this._rowDefs.filter(Ke=>!Ke.when);this._defaultRowDef=Xe[0]}_renderUpdatedColumns(){const Xe=(te,J)=>te||!!J.getColumnsDiff(),Ke=this._rowDefs.reduce(Xe,!1);Ke&&this._forceRenderDataRows();const rt=this._headerRowDefs.reduce(Xe,!1);rt&&this._forceRenderHeaderRows();const le=this._footerRowDefs.reduce(Xe,!1);return le&&this._forceRenderFooterRows(),Ke||rt||le}_switchDataSource(Xe){this._data=[],(0,y.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Xe||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Xe}_observeRenderChanges(){if(!this.dataSource)return;let Xe;(0,y.Z9)(this.dataSource)?Xe=this.dataSource.connect(this):(0,_.b)(this.dataSource)?Xe=this.dataSource:Array.isArray(this.dataSource)&&(Xe=(0,l.of)(this.dataSource)),this._renderChangeSubscription=Xe.pipe((0,m.R)(this._onDestroy)).subscribe(Ke=>{this._data=Ke||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Xe,Ke)=>this._renderRow(this._headerRowOutlet,Xe,Ke)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Xe,Ke)=>this._renderRow(this._footerRowOutlet,Xe,Ke)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Xe,Ke){const rt=Array.from(Ke.columns||[]).map(J=>this._columnDefsByName.get(J)),le=rt.map(J=>J.sticky),te=rt.map(J=>J.stickyEnd);this._stickyStyler.updateStickyColumns(Xe,le,te,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Xe){const Ke=[];for(let rt=0;rt<Xe.viewContainer.length;rt++){const le=Xe.viewContainer.get(rt);Ke.push(le.rootNodes[0])}return Ke}_getRowDefs(Xe,Ke){if(1==this._rowDefs.length)return[this._rowDefs[0]];let rt=[];if(this.multiTemplateDataRows)rt=this._rowDefs.filter(le=>!le.when||le.when(Ke,Xe));else{let le=this._rowDefs.find(te=>te.when&&te.when(Ke,Xe))||this._defaultRowDef;le&&rt.push(le)}return rt}_getEmbeddedViewArgs(Xe,Ke){return{templateRef:Xe.rowDef.template,context:{$implicit:Xe.data},index:Ke}}_renderRow(Xe,Ke,rt,le={}){const te=Xe.viewContainer.createEmbeddedView(Ke.template,le,rt);return this._renderCellTemplateForItem(Ke,le),te}_renderCellTemplateForItem(Xe,Ke){for(let rt of this._getCellTemplates(Xe))Ve.mostRecentCellOutlet&&Ve.mostRecentCellOutlet._viewContainer.createEmbeddedView(rt,Ke);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Xe=this._rowOutlet.viewContainer;for(let Ke=0,rt=Xe.length;Ke<rt;Ke++){const te=Xe.get(Ke).context;te.count=rt,te.first=0===Ke,te.last=Ke===rt-1,te.even=Ke%2==0,te.odd=!te.even,this.multiTemplateDataRows?(te.dataIndex=this._renderRows[Ke].dataIndex,te.renderIndex=Ke):te.index=this._renderRows[Ke].dataIndex}}_getCellTemplates(Xe){return Xe&&Xe.columns?Array.from(Xe.columns,Ke=>{const rt=this._columnDefsByName.get(Ke);return Xe.extractCellTemplate(rt)}):[]}_applyNativeTableSections(){const Xe=this._document.createDocumentFragment(),Ke=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const rt of Ke){const le=this._document.createElement(rt.tag);le.setAttribute("role","rowgroup");for(const te of rt.outlets)le.appendChild(te.elementRef.nativeElement);Xe.appendChild(le)}this._elementRef.nativeElement.appendChild(Xe)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Xe=(Ke,rt)=>Ke||rt.hasStickyChanged();this._headerRowDefs.reduce(Xe,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Xe,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Xe,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new it(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,l.of)()).pipe((0,m.R)(this._onDestroy)).subscribe(Ke=>{this._stickyStyler.direction=Ke,this.updateStickyColumnStyles()})}_getOwnDefs(Xe){return Xe.filter(Ke=>!Ke._table||Ke._table===this)}_updateNoDataRow(){const Xe=this._customNoDataRow||this._noDataRow;if(!Xe)return;const Ke=0===this._rowOutlet.viewContainer.length;if(Ke===this._isShowingNoDataRow)return;const rt=this._noDataRowOutlet.viewContainer;if(Ke){const le=rt.createEmbeddedView(Xe.templateRef),te=le.rootNodes[0];1===le.rootNodes.length&&te?.nodeType===this._document.ELEMENT_NODE&&(te.setAttribute("role","row"),te.classList.add(Xe._contentClassName))}else rt.clear();this._isShowingNoDataRow=Ke}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(C.ZZ4),C.Y36(C.sBO),C.Y36(C.SBq),C.$8M("role"),C.Y36(e.Is,8),C.Y36(O.K0),C.Y36(T.t4),C.Y36(y.k),C.Y36($),C.Y36(v.rL),C.Y36(me,12),C.Y36(C.R0b,8))},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Xe,Ke,rt){if(1&Xe&&(C.Suo(rt,Ue,5),C.Suo(rt,M,5),C.Suo(rt,Fe,5),C.Suo(rt,G,5),C.Suo(rt,Me,5)),2&Xe){let le;C.iGM(le=C.CRH())&&(Ke._noDataRow=le.first),C.iGM(le=C.CRH())&&(Ke._contentColumnDefs=le),C.iGM(le=C.CRH())&&(Ke._contentRowDefs=le),C.iGM(le=C.CRH())&&(Ke._contentHeaderRowDefs=le),C.iGM(le=C.CRH())&&(Ke._contentFooterRowDefs=le)}},viewQuery:function(Xe,Ke){if(1&Xe&&(C.Gf(Z,7),C.Gf(ee,7),C.Gf(ue,7),C.Gf(Ce,7)),2&Xe){let rt;C.iGM(rt=C.CRH())&&(Ke._rowOutlet=rt.first),C.iGM(rt=C.CRH())&&(Ke._headerRowOutlet=rt.first),C.iGM(rt=C.CRH())&&(Ke._footerRowOutlet=rt.first),C.iGM(rt=C.CRH())&&(Ke._noDataRowOutlet=rt.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(Xe,Ke){2&Xe&&C.ekj("cdk-table-fixed-layout",Ke.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[C._Bn([{provide:o,useExisting:nt},{provide:y.k,useClass:y.yy},{provide:$,useClass:j},{provide:me,useValue:null}])],ngContentSelectors:c,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Xe,Ke){1&Xe&&(C.F$t(d),C.Hsn(0),C.Hsn(1,1),C.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Z,ee,ue,Ce],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),nt})();function Dt(nt,ct){return nt.concat(Array.from(ct))}let At=(()=>{class nt{constructor(Xe,Ke){this._table=Xe,this._options=Ke,this.justify="start",this._options=Ke||{}}get name(){return this._name}set name(Xe){this._name=Xe,this._syncColumnDefName()}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((Xe,Ke)=>Xe[Ke])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const Xe=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(Xe):Xe[0].toUpperCase()+Xe.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.Y36(ft,8),C.Y36(S,8))},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["cdk-text-column"]],viewQuery:function(Xe,Ke){if(1&Xe&&(C.Gf(M,7),C.Gf(I,7),C.Gf(x,7)),2&Xe){let rt;C.iGM(rt=C.CRH())&&(Ke.columnDef=rt.first),C.iGM(rt=C.CRH())&&(Ke.cell=rt.first),C.iGM(rt=C.CRH())&&(Ke.headerCell=rt.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(Xe,Ke){1&Xe&&(C.ynx(0,0),C.YNc(1,a,2,3,"th",1),C.YNc(2,s,2,3,"td",2),C.BQk())},dependencies:[I,x,M,B,w],encapsulation:2}),nt})(),Et=(()=>{class nt{}return nt.\u0275fac=function(Xe){return new(Xe||nt)},nt.\u0275mod=C.oAB({type:nt}),nt.\u0275inj=C.cJS({imports:[v.Cl]}),nt})()},9349:(Je,K,t)=>{"use strict";t.d(K,{Ky:()=>f,Lq:()=>C});var e=t(3353),n=t(6353),y=t(1281),T=t(8896),v=t(8929);const O=(0,e.i$)({passive:!0});let C=(()=>{class _{constructor(m,h){this._platform=m,this._ngZone=h,this._monitoredElements=new Map}monitor(m){if(!this._platform.isBrowser)return T.E;const h=(0,y.fI)(m),d=this._monitoredElements.get(h);if(d)return d.subject;const c=new v.xQ,a="cdk-text-field-autofilled",s=r=>{"cdk-text-field-autofill-start"!==r.animationName||h.classList.contains(a)?"cdk-text-field-autofill-end"===r.animationName&&h.classList.contains(a)&&(h.classList.remove(a),this._ngZone.run(()=>c.next({target:r.target,isAutofilled:!1}))):(h.classList.add(a),this._ngZone.run(()=>c.next({target:r.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{h.addEventListener("animationstart",s,O),h.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(h,{subject:c,unlisten:()=>{h.removeEventListener("animationstart",s,O)}}),c}stopMonitoring(m){const h=(0,y.fI)(m),d=this._monitoredElements.get(h);d&&(d.unlisten(),d.subject.complete(),h.classList.remove("cdk-text-field-autofill-monitored"),h.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(h))}ngOnDestroy(){this._monitoredElements.forEach((m,h)=>this.stopMonitoring(h))}}return _.\u0275fac=function(m){return new(m||_)(n.LFG(e.t4),n.LFG(n.R0b))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),f=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({}),_})()},6895:(Je,K,t)=>{"use strict";t.d(K,{$G:()=>ei,Do:()=>r,ED:()=>bt,EM:()=>Qo,H9:()=>wr,HT:()=>T,JF:()=>wo,K0:()=>O,Mx:()=>Fn,NF:()=>As,O5:()=>Ui,OU:()=>Uo,Ov:()=>rr,PC:()=>Ei,RF:()=>Ht,S$:()=>c,V_:()=>i,Ye:()=>o,b0:()=>s,bD:()=>Cr,ez:()=>rs,gd:()=>Kt,mk:()=>ti,n9:()=>tt,q:()=>y,sg:()=>Kn,tP:()=>ii,uU:()=>Pt,w_:()=>v});var e=t(6353);let n=null;function y(){return n}function T(he){n||(n=he)}class v{}const O=new e.OlP("DocumentToken");let C=(()=>{class he{historyGo(Se){throw new Error("Not implemented")}}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275prov=e.Yz7({token:he,factory:function(){return function E(){return(0,e.LFG)(f)}()},providedIn:"platform"}),he})();const i=new e.OlP("Location Initialized");let f=(()=>{class he extends C{constructor(Se){super(),this._doc=Se,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(Se){const st=y().getGlobalEventTarget(this._doc,"window");return st.addEventListener("popstate",Se,!1),()=>st.removeEventListener("popstate",Se)}onHashChange(Se){const st=y().getGlobalEventTarget(this._doc,"window");return st.addEventListener("hashchange",Se,!1),()=>st.removeEventListener("hashchange",Se)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Se){this.location.pathname=Se}pushState(Se,st,Nt){_()?this._history.pushState(Se,st,Nt):this.location.hash=Nt}replaceState(Se,st,Nt){_()?this._history.replaceState(Se,st,Nt):this.location.hash=Nt}forward(){this._history.forward()}back(){this._history.back()}historyGo(Se=0){this._history.go(Se)}getState(){return this._history.state}}return he.\u0275fac=function(Se){return new(Se||he)(e.LFG(O))},he.\u0275prov=e.Yz7({token:he,factory:function(){return function l(){return new f((0,e.LFG)(O))}()},providedIn:"platform"}),he})();function _(){return!!window.history.pushState}function m(he,ze){if(0==he.length)return ze;if(0==ze.length)return he;let Se=0;return he.endsWith("/")&&Se++,ze.startsWith("/")&&Se++,2==Se?he+ze.substring(1):1==Se?he+ze:he+"/"+ze}function h(he){const ze=he.match(/#|\?|$/),Se=ze&&ze.index||he.length;return he.slice(0,Se-("/"===he[Se-1]?1:0))+he.slice(Se)}function d(he){return he&&"?"!==he[0]?"?"+he:he}let c=(()=>{class he{historyGo(Se){throw new Error("Not implemented")}}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275prov=e.Yz7({token:he,factory:function(){return(0,e.f3M)(s)},providedIn:"root"}),he})();const a=new e.OlP("appBaseHref");let s=(()=>{class he extends c{constructor(Se,st){super(),this._platformLocation=Se,this._removeListenerFns=[],this._baseHref=st??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(O).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}prepareExternalUrl(Se){return m(this._baseHref,Se)}path(Se=!1){const st=this._platformLocation.pathname+d(this._platformLocation.search),Nt=this._platformLocation.hash;return Nt&&Se?`${st}${Nt}`:st}pushState(Se,st,Nt,tn){const ln=this.prepareExternalUrl(Nt+d(tn));this._platformLocation.pushState(Se,st,ln)}replaceState(Se,st,Nt,tn){const ln=this.prepareExternalUrl(Nt+d(tn));this._platformLocation.replaceState(Se,st,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Se=0){this._platformLocation.historyGo?.(Se)}}return he.\u0275fac=function(Se){return new(Se||he)(e.LFG(C),e.LFG(a,8))},he.\u0275prov=e.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),r=(()=>{class he extends c{constructor(Se,st){super(),this._platformLocation=Se,this._baseHref="",this._removeListenerFns=[],null!=st&&(this._baseHref=st)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}path(Se=!1){let st=this._platformLocation.hash;return null==st&&(st="#"),st.length>0?st.substring(1):st}prepareExternalUrl(Se){const st=m(this._baseHref,Se);return st.length>0?"#"+st:st}pushState(Se,st,Nt,tn){let ln=this.prepareExternalUrl(Nt+d(tn));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.pushState(Se,st,ln)}replaceState(Se,st,Nt,tn){let ln=this.prepareExternalUrl(Nt+d(tn));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.replaceState(Se,st,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Se=0){this._platformLocation.historyGo?.(Se)}}return he.\u0275fac=function(Se){return new(Se||he)(e.LFG(C),e.LFG(a,8))},he.\u0275prov=e.Yz7({token:he,factory:he.\u0275fac}),he})(),o=(()=>{class he{constructor(Se){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Se;const st=this._locationStrategy.getBaseHref();this._basePath=function P(he){if(new RegExp("^(https?:)?//").test(he)){const[,Se]=he.split(/\/\/[^\/]+/);return Se}return he}(h(x(st))),this._locationStrategy.onPopState(Nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Nt.state,type:Nt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Se=!1){return this.normalize(this._locationStrategy.path(Se))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Se,st=""){return this.path()==this.normalize(Se+d(st))}normalize(Se){return he.stripTrailingSlash(function I(he,ze){return he&&ze.startsWith(he)?ze.substring(he.length):ze}(this._basePath,x(Se)))}prepareExternalUrl(Se){return Se&&"/"!==Se[0]&&(Se="/"+Se),this._locationStrategy.prepareExternalUrl(Se)}go(Se,st="",Nt=null){this._locationStrategy.pushState(Nt,"",Se,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+d(st)),Nt)}replaceState(Se,st="",Nt=null){this._locationStrategy.replaceState(Nt,"",Se,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+d(st)),Nt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Se=0){this._locationStrategy.historyGo?.(Se)}onUrlChange(Se){return this._urlChangeListeners.push(Se),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(st=>{this._notifyUrlChangeListeners(st.url,st.state)})),()=>{const st=this._urlChangeListeners.indexOf(Se);this._urlChangeListeners.splice(st,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Se="",st){this._urlChangeListeners.forEach(Nt=>Nt(Se,st))}subscribe(Se,st,Nt){return this._subject.subscribe({next:Se,error:st,complete:Nt})}}return he.normalizeQueryParams=d,he.joinWithSlash=m,he.stripTrailingSlash=h,he.\u0275fac=function(Se){return new(Se||he)(e.LFG(c))},he.\u0275prov=e.Yz7({token:he,factory:function(){return function S(){return new o((0,e.LFG)(c))}()},providedIn:"root"}),he})();function x(he){return he.replace(/\/index.html$/,"")}const g={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var u=(()=>((u=u||{})[u.Decimal=0]="Decimal",u[u.Percent=1]="Percent",u[u.Currency=2]="Currency",u[u.Scientific=3]="Scientific",u))(),R=(()=>((R=R||{})[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R))(),w=(()=>((w=w||{})[w.Narrow=0]="Narrow",w[w.Abbreviated=1]="Abbreviated",w[w.Wide=2]="Wide",w[w.Short=3]="Short",w))(),F=(()=>((F=F||{})[F.Short=0]="Short",F[F.Medium=1]="Medium",F[F.Long=2]="Long",F[F.Full=3]="Full",F))(),B=(()=>((B=B||{})[B.Decimal=0]="Decimal",B[B.Group=1]="Group",B[B.List=2]="List",B[B.PercentSign=3]="PercentSign",B[B.PlusSign=4]="PlusSign",B[B.MinusSign=5]="MinusSign",B[B.Exponential=6]="Exponential",B[B.SuperscriptingExponent=7]="SuperscriptingExponent",B[B.PerMille=8]="PerMille",B[B.Infinity=9]="Infinity",B[B.NaN=10]="NaN",B[B.TimeSeparator=11]="TimeSeparator",B[B.CurrencyDecimal=12]="CurrencyDecimal",B[B.CurrencyGroup=13]="CurrencyGroup",B))();function _e(he,ze){return Ye((0,e.cg1)(he)[e.wAp.DateFormat],ze)}function Ie(he,ze){return Ye((0,e.cg1)(he)[e.wAp.TimeFormat],ze)}function Me(he,ze){return Ye((0,e.cg1)(he)[e.wAp.DateTimeFormat],ze)}function Fe(he,ze){const Se=(0,e.cg1)(he),st=Se[e.wAp.NumberSymbols][ze];if(typeof st>"u"){if(ze===B.CurrencyDecimal)return Se[e.wAp.NumberSymbols][B.Decimal];if(ze===B.CurrencyGroup)return Se[e.wAp.NumberSymbols][B.Group]}return st}function it(he){if(!he[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${he[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ye(he,ze){for(let Se=ze;Se>-1;Se--)if(typeof he[Se]<"u")return he[Se];throw new Error("Locale data API: locale data undefined")}function et(he){const[ze,Se]=he.split(":");return{hours:+ze,minutes:+Se}}const me=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fe={},Z=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ee=(()=>((ee=ee||{})[ee.Short=0]="Short",ee[ee.ShortGMT=1]="ShortGMT",ee[ee.Long=2]="Long",ee[ee.Extended=3]="Extended",ee))(),ue=(()=>((ue=ue||{})[ue.FullYear=0]="FullYear",ue[ue.Month=1]="Month",ue[ue.Date=2]="Date",ue[ue.Hours=3]="Hours",ue[ue.Minutes=4]="Minutes",ue[ue.Seconds=5]="Seconds",ue[ue.FractionalSeconds=6]="FractionalSeconds",ue[ue.Day=7]="Day",ue))(),Ce=(()=>((Ce=Ce||{})[Ce.DayPeriods=0]="DayPeriods",Ce[Ce.Days=1]="Days",Ce[Ce.Months=2]="Months",Ce[Ce.Eras=3]="Eras",Ce))();function pt(he,ze,Se,st){let Nt=function vn(he){if(Tn(he))return he;if("number"==typeof he&&!isNaN(he))return new Date(he);if("string"==typeof he){if(he=he.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(he)){const[Nt,tn=1,ln=1]=he.split("-").map(jn=>+jn);return Ze(Nt,tn-1,ln)}const Se=parseFloat(he);if(!isNaN(he-Se))return new Date(Se);let st;if(st=he.match(me))return function Dn(he){const ze=new Date(0);let Se=0,st=0;const Nt=he[8]?ze.setUTCFullYear:ze.setFullYear,tn=he[8]?ze.setUTCHours:ze.setHours;he[9]&&(Se=Number(he[9]+he[10]),st=Number(he[9]+he[11])),Nt.call(ze,Number(he[1]),Number(he[2])-1,Number(he[3]));const ln=Number(he[4]||0)-Se,jn=Number(he[5]||0)-st,Si=Number(he[6]||0),Ai=Math.floor(1e3*parseFloat("0."+(he[7]||0)));return tn.call(ze,ln,jn,Si,Ai),ze}(st)}const ze=new Date(he);if(!Tn(ze))throw new Error(`Unable to convert "${he}" into a date`);return ze}(he);ze=ft(Se,ze)||ze;let jn,ln=[];for(;ze;){if(jn=Z.exec(ze),!jn){ln.push(ze);break}{ln=ln.concat(jn.slice(1));const Zn=ln.pop();if(!Zn)break;ze=Zn}}let Si=Nt.getTimezoneOffset();st&&(Si=zt(st,Si),Nt=function an(he,ze,Se){const st=Se?-1:1,Nt=he.getTimezoneOffset();return function cn(he,ze){return(he=new Date(he.getTime())).setMinutes(he.getMinutes()+ze),he}(he,st*(zt(ze,Nt)-Nt))}(Nt,st,!0));let Ai="";return ln.forEach(Zn=>{const mi=function Tt(he){if(Qe[he])return Qe[he];let ze;switch(he){case"G":case"GG":case"GGG":ze=ct(Ce.Eras,w.Abbreviated);break;case"GGGG":ze=ct(Ce.Eras,w.Wide);break;case"GGGGG":ze=ct(Ce.Eras,w.Narrow);break;case"y":ze=Et(ue.FullYear,1,0,!1,!0);break;case"yy":ze=Et(ue.FullYear,2,0,!0,!0);break;case"yyy":ze=Et(ue.FullYear,3,0,!1,!0);break;case"yyyy":ze=Et(ue.FullYear,4,0,!1,!0);break;case"Y":ze=$e(1);break;case"YY":ze=$e(2,!0);break;case"YYY":ze=$e(3);break;case"YYYY":ze=$e(4);break;case"M":case"L":ze=Et(ue.Month,1,1);break;case"MM":case"LL":ze=Et(ue.Month,2,1);break;case"MMM":ze=ct(Ce.Months,w.Abbreviated);break;case"MMMM":ze=ct(Ce.Months,w.Wide);break;case"MMMMM":ze=ct(Ce.Months,w.Narrow);break;case"LLL":ze=ct(Ce.Months,w.Abbreviated,R.Standalone);break;case"LLLL":ze=ct(Ce.Months,w.Wide,R.Standalone);break;case"LLLLL":ze=ct(Ce.Months,w.Narrow,R.Standalone);break;case"w":ze=ne(1);break;case"ww":ze=ne(2);break;case"W":ze=ne(1,!0);break;case"d":ze=Et(ue.Date,1);break;case"dd":ze=Et(ue.Date,2);break;case"c":case"cc":ze=Et(ue.Day,1);break;case"ccc":ze=ct(Ce.Days,w.Abbreviated,R.Standalone);break;case"cccc":ze=ct(Ce.Days,w.Wide,R.Standalone);break;case"ccccc":ze=ct(Ce.Days,w.Narrow,R.Standalone);break;case"cccccc":ze=ct(Ce.Days,w.Short,R.Standalone);break;case"E":case"EE":case"EEE":ze=ct(Ce.Days,w.Abbreviated);break;case"EEEE":ze=ct(Ce.Days,w.Wide);break;case"EEEEE":ze=ct(Ce.Days,w.Narrow);break;case"EEEEEE":ze=ct(Ce.Days,w.Short);break;case"a":case"aa":case"aaa":ze=ct(Ce.DayPeriods,w.Abbreviated);break;case"aaaa":ze=ct(Ce.DayPeriods,w.Wide);break;case"aaaaa":ze=ct(Ce.DayPeriods,w.Narrow);break;case"b":case"bb":case"bbb":ze=ct(Ce.DayPeriods,w.Abbreviated,R.Standalone,!0);break;case"bbbb":ze=ct(Ce.DayPeriods,w.Wide,R.Standalone,!0);break;case"bbbbb":ze=ct(Ce.DayPeriods,w.Narrow,R.Standalone,!0);break;case"B":case"BB":case"BBB":ze=ct(Ce.DayPeriods,w.Abbreviated,R.Format,!0);break;case"BBBB":ze=ct(Ce.DayPeriods,w.Wide,R.Format,!0);break;case"BBBBB":ze=ct(Ce.DayPeriods,w.Narrow,R.Format,!0);break;case"h":ze=Et(ue.Hours,1,-12);break;case"hh":ze=Et(ue.Hours,2,-12);break;case"H":ze=Et(ue.Hours,1);break;case"HH":ze=Et(ue.Hours,2);break;case"m":ze=Et(ue.Minutes,1);break;case"mm":ze=Et(ue.Minutes,2);break;case"s":ze=Et(ue.Seconds,1);break;case"ss":ze=Et(ue.Seconds,2);break;case"S":ze=Et(ue.FractionalSeconds,1);break;case"SS":ze=Et(ue.FractionalSeconds,2);break;case"SSS":ze=Et(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ze=Ke(ee.Short);break;case"ZZZZZ":ze=Ke(ee.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ze=Ke(ee.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ze=Ke(ee.Long);break;default:return null}return Qe[he]=ze,ze}(Zn);Ai+=mi?mi(Nt,Se,Si):"''"===Zn?"'":Zn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ai}function Ze(he,ze,Se){const st=new Date(0);return st.setFullYear(he,ze,Se),st.setHours(0,0,0),st}function ft(he,ze){const Se=function $(he){return(0,e.cg1)(he)[e.wAp.LocaleId]}(he);if(fe[Se]=fe[Se]||{},fe[Se][ze])return fe[Se][ze];let st="";switch(ze){case"shortDate":st=_e(he,F.Short);break;case"mediumDate":st=_e(he,F.Medium);break;case"longDate":st=_e(he,F.Long);break;case"fullDate":st=_e(he,F.Full);break;case"shortTime":st=Ie(he,F.Short);break;case"mediumTime":st=Ie(he,F.Medium);break;case"longTime":st=Ie(he,F.Long);break;case"fullTime":st=Ie(he,F.Full);break;case"short":const Nt=ft(he,"shortTime"),tn=ft(he,"shortDate");st=Dt(Me(he,F.Short),[Nt,tn]);break;case"medium":const ln=ft(he,"mediumTime"),jn=ft(he,"mediumDate");st=Dt(Me(he,F.Medium),[ln,jn]);break;case"long":const Si=ft(he,"longTime"),Ai=ft(he,"longDate");st=Dt(Me(he,F.Long),[Si,Ai]);break;case"full":const Zn=ft(he,"fullTime"),mi=ft(he,"fullDate");st=Dt(Me(he,F.Full),[Zn,mi])}return st&&(fe[Se][ze]=st),st}function Dt(he,ze){return ze&&(he=he.replace(/\{([^}]+)}/g,function(Se,st){return null!=ze&&st in ze?ze[st]:Se})),he}function At(he,ze,Se="-",st,Nt){let tn="";(he<0||Nt&&he<=0)&&(Nt?he=1-he:(he=-he,tn=Se));let ln=String(he);for(;ln.length<ze;)ln="0"+ln;return st&&(ln=ln.slice(ln.length-ze)),tn+ln}function Et(he,ze,Se=0,st=!1,Nt=!1){return function(tn,ln){let jn=function nt(he,ze){switch(he){case ue.FullYear:return ze.getFullYear();case ue.Month:return ze.getMonth();case ue.Date:return ze.getDate();case ue.Hours:return ze.getHours();case ue.Minutes:return ze.getMinutes();case ue.Seconds:return ze.getSeconds();case ue.FractionalSeconds:return ze.getMilliseconds();case ue.Day:return ze.getDay();default:throw new Error(`Unknown DateType value "${he}".`)}}(he,tn);if((Se>0||jn>-Se)&&(jn+=Se),he===ue.Hours)0===jn&&-12===Se&&(jn=12);else if(he===ue.FractionalSeconds)return function Wt(he,ze){return At(he,3).substring(0,ze)}(jn,ze);const Si=Fe(ln,B.MinusSign);return At(jn,ze,Si,st,Nt)}}function ct(he,ze,Se=R.Format,st=!1){return function(Nt,tn){return function Xe(he,ze,Se,st,Nt,tn){switch(Se){case Ce.Months:return function Q(he,ze,Se){const st=(0,e.cg1)(he),tn=Ye([st[e.wAp.MonthsFormat],st[e.wAp.MonthsStandalone]],ze);return Ye(tn,Se)}(ze,Nt,st)[he.getMonth()];case Ce.Days:return function V(he,ze,Se){const st=(0,e.cg1)(he),tn=Ye([st[e.wAp.DaysFormat],st[e.wAp.DaysStandalone]],ze);return Ye(tn,Se)}(ze,Nt,st)[he.getDay()];case Ce.DayPeriods:const ln=he.getHours(),jn=he.getMinutes();if(tn){const Ai=function je(he){const ze=(0,e.cg1)(he);return it(ze),(ze[e.wAp.ExtraData][2]||[]).map(st=>"string"==typeof st?et(st):[et(st[0]),et(st[1])])}(ze),Zn=function Be(he,ze,Se){const st=(0,e.cg1)(he);it(st);const tn=Ye([st[e.wAp.ExtraData][0],st[e.wAp.ExtraData][1]],ze)||[];return Ye(tn,Se)||[]}(ze,Nt,st),mi=Ai.findIndex(so=>{if(Array.isArray(so)){const[ji,Di]=so,gs=ln>=ji.hours&&jn>=ji.minutes,Ko=ln<Di.hours||ln===Di.hours&&jn<Di.minutes;if(ji.hours<Di.hours){if(gs&&Ko)return!0}else if(gs||Ko)return!0}else if(so.hours===ln&&so.minutes===jn)return!0;return!1});if(-1!==mi)return Zn[mi]}return function j(he,ze,Se){const st=(0,e.cg1)(he),tn=Ye([st[e.wAp.DayPeriodsFormat],st[e.wAp.DayPeriodsStandalone]],ze);return Ye(tn,Se)}(ze,Nt,st)[ln<12?0:1];case Ce.Eras:return function ie(he,ze){return Ye((0,e.cg1)(he)[e.wAp.Eras],ze)}(ze,st)[he.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Se}`)}}(Nt,tn,he,ze,Se,st)}}function Ke(he){return function(ze,Se,st){const Nt=-1*st,tn=Fe(Se,B.MinusSign),ln=Nt>0?Math.floor(Nt/60):Math.ceil(Nt/60);switch(he){case ee.Short:return(Nt>=0?"+":"")+At(ln,2,tn)+At(Math.abs(Nt%60),2,tn);case ee.ShortGMT:return"GMT"+(Nt>=0?"+":"")+At(ln,1,tn);case ee.Long:return"GMT"+(Nt>=0?"+":"")+At(ln,2,tn)+":"+At(Math.abs(Nt%60),2,tn);case ee.Extended:return 0===st?"Z":(Nt>=0?"+":"")+At(ln,2,tn)+":"+At(Math.abs(Nt%60),2,tn);default:throw new Error(`Unknown zone width "${he}"`)}}}function J(he){return Ze(he.getFullYear(),he.getMonth(),he.getDate()+(4-he.getDay()))}function ne(he,ze=!1){return function(Se,st){let Nt;if(ze){const tn=new Date(Se.getFullYear(),Se.getMonth(),1).getDay()-1,ln=Se.getDate();Nt=1+Math.floor((ln+tn)/7)}else{const tn=J(Se),ln=function te(he){const ze=Ze(he,0,1).getDay();return Ze(he,0,1+(ze<=4?4:11)-ze)}(tn.getFullYear()),jn=tn.getTime()-ln.getTime();Nt=1+Math.round(jn/6048e5)}return At(Nt,he,Fe(st,B.MinusSign))}}function $e(he,ze=!1){return function(Se,st){return At(J(Se).getFullYear(),he,Fe(st,B.MinusSign),ze)}}const Qe={};function zt(he,ze){he=he.replace(/:/g,"");const Se=Date.parse("Jan 01, 1970 00:00:00 "+he)/6e4;return isNaN(Se)?ze:Se}function Tn(he){return he instanceof Date&&!isNaN(he.valueOf())}const Pn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function vt(he,ze,Se,st,Nt){const ln=function bn(he,ze="-"){const Se={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},st=he.split(";"),Nt=st[0],tn=st[1],ln=-1!==Nt.indexOf(".")?Nt.split("."):[Nt.substring(0,Nt.lastIndexOf("0")+1),Nt.substring(Nt.lastIndexOf("0")+1)],jn=ln[0],Si=ln[1]||"";Se.posPre=jn.substring(0,jn.indexOf("#"));for(let Zn=0;Zn<Si.length;Zn++){const mi=Si.charAt(Zn);"0"===mi?Se.minFrac=Se.maxFrac=Zn+1:"#"===mi?Se.maxFrac=Zn+1:Se.posSuf+=mi}const Ai=jn.split(",");if(Se.gSize=Ai[1]?Ai[1].length:0,Se.lgSize=Ai[2]||Ai[1]?(Ai[2]||Ai[1]).length:0,tn){const Zn=Nt.length-Se.posPre.length-Se.posSuf.length,mi=tn.indexOf("#");Se.negPre=tn.substring(0,mi).replace(/'/g,""),Se.negSuf=tn.slice(mi+Zn).replace(/'/g,"")}else Se.negPre=ze+Se.posPre,Se.negSuf=Se.posSuf;return Se}(function Ve(he,ze){return(0,e.cg1)(he)[e.wAp.NumberFormats][ze]}(ze,u.Currency),Fe(ze,B.MinusSign));return ln.minFrac=function we(he){let ze;const Se=g[he];return Se&&(ze=Se[2]),"number"==typeof ze?ze:2}(st),ln.maxFrac=ln.minFrac,function Bt(he,ze,Se,st,Nt,tn,ln=!1){let jn="",Si=!1;if(isFinite(he)){let Ai=function Yt(he){let st,Nt,tn,ln,jn,ze=Math.abs(he)+"",Se=0;for((Nt=ze.indexOf("."))>-1&&(ze=ze.replace(".","")),(tn=ze.search(/e/i))>0?(Nt<0&&(Nt=tn),Nt+=+ze.slice(tn+1),ze=ze.substring(0,tn)):Nt<0&&(Nt=ze.length),tn=0;"0"===ze.charAt(tn);tn++);if(tn===(jn=ze.length))st=[0],Nt=1;else{for(jn--;"0"===ze.charAt(jn);)jn--;for(Nt-=tn,st=[],ln=0;tn<=jn;tn++,ln++)st[ln]=Number(ze.charAt(tn))}return Nt>22&&(st=st.splice(0,21),Se=Nt-1,Nt=1),{digits:st,exponent:Se,integerLen:Nt}}(he);ln&&(Ai=function rn(he){if(0===he.digits[0])return he;const ze=he.digits.length-he.integerLen;return he.exponent?he.exponent+=2:(0===ze?he.digits.push(0,0):1===ze&&he.digits.push(0),he.integerLen+=2),he}(Ai));let Zn=ze.minInt,mi=ze.minFrac,so=ze.maxFrac;if(tn){const jr=tn.match(Pn);if(null===jr)throw new Error(`${tn} is not a valid digit info`);const ri=jr[1],vs=jr[3],Ns=jr[5];null!=ri&&(Zn=An(ri)),null!=vs&&(mi=An(vs)),null!=Ns?so=An(Ns):null!=vs&&mi>so&&(so=mi)}!function Qt(he,ze,Se){if(ze>Se)throw new Error(`The minimum number of digits after fraction (${ze}) is higher than the maximum (${Se}).`);let st=he.digits,Nt=st.length-he.integerLen;const tn=Math.min(Math.max(ze,Nt),Se);let ln=tn+he.integerLen,jn=st[ln];if(ln>0){st.splice(Math.max(he.integerLen,ln));for(let mi=ln;mi<st.length;mi++)st[mi]=0}else{Nt=Math.max(0,Nt),he.integerLen=1,st.length=Math.max(1,ln=tn+1),st[0]=0;for(let mi=1;mi<ln;mi++)st[mi]=0}if(jn>=5)if(ln-1<0){for(let mi=0;mi>ln;mi--)st.unshift(0),he.integerLen++;st.unshift(1),he.integerLen++}else st[ln-1]++;for(;Nt<Math.max(0,tn);Nt++)st.push(0);let Si=0!==tn;const Ai=ze+he.integerLen,Zn=st.reduceRight(function(mi,so,ji,Di){return Di[ji]=(so+=mi)<10?so:so-10,Si&&(0===Di[ji]&&ji>=Ai?Di.pop():Si=!1),so>=10?1:0},0);Zn&&(st.unshift(Zn),he.integerLen++)}(Ai,mi,so);let ji=Ai.digits,Di=Ai.integerLen;const gs=Ai.exponent;let Ko=[];for(Si=ji.every(jr=>!jr);Di<Zn;Di++)ji.unshift(0);for(;Di<0;Di++)ji.unshift(0);Di>0?Ko=ji.splice(Di,ji.length):(Ko=ji,ji=[0]);const Jr=[];for(ji.length>=ze.lgSize&&Jr.unshift(ji.splice(-ze.lgSize,ji.length).join(""));ji.length>ze.gSize;)Jr.unshift(ji.splice(-ze.gSize,ji.length).join(""));ji.length&&Jr.unshift(ji.join("")),jn=Jr.join(Fe(Se,st)),Ko.length&&(jn+=Fe(Se,Nt)+Ko.join("")),gs&&(jn+=Fe(Se,B.Exponential)+"+"+gs)}else jn=Fe(Se,B.Infinity);return jn=he<0&&!Si?ze.negPre+jn+ze.negSuf:ze.posPre+jn+ze.posSuf,jn}(he,ln,ze,B.CurrencyGroup,B.CurrencyDecimal,Nt).replace("\xa4",Se).replace("\xa4","").trim()}function An(he){const ze=parseInt(he);if(isNaN(ze))throw new Error("Invalid integer literal when parsing "+he);return ze}function Fn(he,ze){ze=encodeURIComponent(ze);for(const Se of he.split(";")){const st=Se.indexOf("="),[Nt,tn]=-1==st?[Se,""]:[Se.slice(0,st),Se.slice(st+1)];if(Nt.trim()===ze)return decodeURIComponent(tn)}return null}let ti=(()=>{class he{constructor(Se,st,Nt,tn){this._iterableDiffers=Se,this._keyValueDiffers=st,this._ngEl=Nt,this._renderer=tn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Se){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Se?Se.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Se){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Se?Se.split(/\s+/):Se,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Se=this._iterableDiffer.diff(this._rawClass);Se&&this._applyIterableChanges(Se)}else if(this._keyValueDiffer){const Se=this._keyValueDiffer.diff(this._rawClass);Se&&this._applyKeyValueChanges(Se)}}_applyKeyValueChanges(Se){Se.forEachAddedItem(st=>this._toggleClass(st.key,st.currentValue)),Se.forEachChangedItem(st=>this._toggleClass(st.key,st.currentValue)),Se.forEachRemovedItem(st=>{st.previousValue&&this._toggleClass(st.key,!1)})}_applyIterableChanges(Se){Se.forEachAddedItem(st=>{if("string"!=typeof st.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(st.item)}`);this._toggleClass(st.item,!0)}),Se.forEachRemovedItem(st=>this._toggleClass(st.item,!1))}_applyClasses(Se){Se&&(Array.isArray(Se)||Se instanceof Set?Se.forEach(st=>this._toggleClass(st,!0)):Object.keys(Se).forEach(st=>this._toggleClass(st,!!Se[st])))}_removeClasses(Se){Se&&(Array.isArray(Se)||Se instanceof Set?Se.forEach(st=>this._toggleClass(st,!1)):Object.keys(Se).forEach(st=>this._toggleClass(st,!1)))}_toggleClass(Se,st){(Se=Se.trim())&&Se.split(/\s+/g).forEach(Nt=>{st?this._renderer.addClass(this._ngEl.nativeElement,Nt):this._renderer.removeClass(this._ngEl.nativeElement,Nt)})}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),he})(),ei=(()=>{class he{constructor(Se){this._viewContainerRef=Se,this.ngComponentOutlet=null}ngOnChanges(Se){const{_viewContainerRef:st,ngComponentOutletNgModule:Nt,ngComponentOutletNgModuleFactory:tn}=this;if(st.clear(),this._componentRef=void 0,this.ngComponentOutlet){const ln=this.ngComponentOutletInjector||st.parentInjector;(Se.ngComponentOutletNgModule||Se.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=Nt?(0,e.Lck)(Nt,ci(ln)):tn?tn.create(ci(ln)):void 0),this._componentRef=st.createComponent(this.ngComponentOutlet,{index:st.length,injector:ln,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.s_b))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[e.TTD]}),he})();function ci(he){return he.get(e.h0i).injector}class hn{constructor(ze,Se,st,Nt){this.$implicit=ze,this.ngForOf=Se,this.index=st,this.count=Nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kn=(()=>{class he{constructor(Se,st,Nt){this._viewContainer=Se,this._template=st,this._differs=Nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Se){this._ngForOf=Se,this._ngForOfDirty=!0}set ngForTrackBy(Se){this._trackByFn=Se}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Se){Se&&(this._template=Se)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Se=this._ngForOf;!this._differ&&Se&&(this._differ=this._differs.find(Se).create(this.ngForTrackBy))}if(this._differ){const Se=this._differ.diff(this._ngForOf);Se&&this._applyChanges(Se)}}_applyChanges(Se){const st=this._viewContainer;Se.forEachOperation((Nt,tn,ln)=>{if(null==Nt.previousIndex)st.createEmbeddedView(this._template,new hn(Nt.item,this._ngForOf,-1,-1),null===ln?void 0:ln);else if(null==ln)st.remove(null===tn?void 0:tn);else if(null!==tn){const jn=st.get(tn);st.move(jn,ln),pi(jn,Nt)}});for(let Nt=0,tn=st.length;Nt<tn;Nt++){const jn=st.get(Nt).context;jn.index=Nt,jn.count=tn,jn.ngForOf=this._ngForOf}Se.forEachIdentityChange(Nt=>{pi(st.get(Nt.currentIndex),Nt)})}static ngTemplateContextGuard(Se,st){return!0}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),he})();function pi(he,ze){he.context.$implicit=ze.item}let Ui=(()=>{class he{constructor(Se,st){this._viewContainer=Se,this._context=new di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=st}set ngIf(Se){this._context.$implicit=this._context.ngIf=Se,this._updateView()}set ngIfThen(Se){Gi("ngIfThen",Se),this._thenTemplateRef=Se,this._thenViewRef=null,this._updateView()}set ngIfElse(Se){Gi("ngIfElse",Se),this._elseTemplateRef=Se,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Se,st){return!0}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.s_b),e.Y36(e.Rgc))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),he})();class di{constructor(){this.$implicit=null,this.ngIf=null}}function Gi(he,ze){if(ze&&!ze.createEmbeddedView)throw new Error(`${he} must be a TemplateRef, but received '${(0,e.AaK)(ze)}'.`)}class jt{constructor(ze,Se){this._viewContainerRef=ze,this._templateRef=Se,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ze){ze&&!this._created?this.create():!ze&&this._created&&this.destroy()}}let Ht=(()=>{class he{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Se){this._ngSwitch=Se,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Se){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Se)}_matchCase(Se){const st=Se==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||st,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),st}_updateDefaultCases(Se){if(this._defaultViews&&Se!==this._defaultUsed){this._defaultUsed=Se;for(let st=0;st<this._defaultViews.length;st++)this._defaultViews[st].enforceState(Se)}}}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275dir=e.lG2({type:he,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),he})(),tt=(()=>{class he{constructor(Se,st,Nt){this.ngSwitch=Nt,Nt._addCase(),this._view=new jt(Se,st)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ht,9))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),he})(),bt=(()=>{class he{constructor(Se,st,Nt){Nt._addDefault(new jt(Se,st))}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ht,9))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngSwitchDefault",""]],standalone:!0}),he})(),Ei=(()=>{class he{constructor(Se,st,Nt){this._ngEl=Se,this._differs=st,this._renderer=Nt,this._ngStyle=null,this._differ=null}set ngStyle(Se){this._ngStyle=Se,!this._differ&&Se&&(this._differ=this._differs.find(Se).create())}ngDoCheck(){if(this._differ){const Se=this._differ.diff(this._ngStyle);Se&&this._applyChanges(Se)}}_setStyle(Se,st){const[Nt,tn]=Se.split("."),ln=-1===Nt.indexOf("-")?void 0:e.JOm.DashCase;null!=st?this._renderer.setStyle(this._ngEl.nativeElement,Nt,tn?`${st}${tn}`:st,ln):this._renderer.removeStyle(this._ngEl.nativeElement,Nt,ln)}_applyChanges(Se){Se.forEachRemovedItem(st=>this._setStyle(st.key,null)),Se.forEachAddedItem(st=>this._setStyle(st.key,st.currentValue)),Se.forEachChangedItem(st=>this._setStyle(st.key,st.currentValue))}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),he})(),ii=(()=>{class he{constructor(Se){this._viewContainerRef=Se,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Se){if(Se.ngTemplateOutlet||Se.ngTemplateOutletInjector){const st=this._viewContainerRef;if(this._viewRef&&st.remove(st.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Nt,ngTemplateOutletContext:tn,ngTemplateOutletInjector:ln}=this;this._viewRef=st.createEmbeddedView(Nt,tn,ln?{injector:ln}:void 0)}else this._viewRef=null}else this._viewRef&&Se.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.s_b))},he.\u0275dir=e.lG2({type:he,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),he})();function Ri(he,ze){return new e.vHH(2100,!1)}class no{createSubscription(ze,Se){return ze.subscribe({next:Se,error:st=>{throw st}})}dispose(ze){ze.unsubscribe()}}class br{createSubscription(ze,Se){return ze.then(Se,st=>{throw st})}dispose(ze){}}const Ao=new br,Oi=new no;let rr=(()=>{class he{constructor(Se){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Se}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Se){return this._obj?Se!==this._obj?(this._dispose(),this.transform(Se)):this._latestValue:(Se&&this._subscribe(Se),this._latestValue)}_subscribe(Se){this._obj=Se,this._strategy=this._selectStrategy(Se),this._subscription=this._strategy.createSubscription(Se,st=>this._updateLatestValue(Se,st))}_selectStrategy(Se){if((0,e.QGY)(Se))return Ao;if((0,e.F4k)(Se))return Oi;throw Ri()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Se,st){Se===this._obj&&(this._latestValue=st,this._ref.markForCheck())}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.sBO,16))},he.\u0275pipe=e.Yjl({name:"async",type:he,pure:!1,standalone:!0}),he})(),Kt=(()=>{class he{transform(Se){if(null==Se)return null;if("string"!=typeof Se)throw Ri();return Se.toUpperCase()}}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275pipe=e.Yjl({name:"uppercase",type:he,pure:!0,standalone:!0}),he})();const Ne=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),yt=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Pt=(()=>{class he{constructor(Se,st,Nt){this.locale=Se,this.defaultTimezone=st,this.defaultOptions=Nt}transform(Se,st,Nt,tn){if(null==Se||""===Se||Se!=Se)return null;try{return pt(Se,st??this.defaultOptions?.dateFormat??"mediumDate",tn||this.locale,Nt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ln){throw Ri()}}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.soG,16),e.Y36(Ne,24),e.Y36(yt,24))},he.\u0275pipe=e.Yjl({name:"date",type:he,pure:!0,standalone:!0}),he})(),wr=(()=>{class he{constructor(Se,st="USD"){this._locale=Se,this._defaultCurrencyCode=st}transform(Se,st=this._defaultCurrencyCode,Nt="symbol",tn,ln){if(!function Lr(he){return!(null==he||""===he||he!=he)}(Se))return null;ln=ln||this._locale,"boolean"==typeof Nt&&(Nt=Nt?"symbol":"code");let jn=st||this._defaultCurrencyCode;"code"!==Nt&&(jn="symbol"===Nt||"symbol-narrow"===Nt?function ot(he,ze,Se="en"){const st=function Ue(he){return(0,e.cg1)(he)[e.wAp.Currencies]}(Se)[he]||g[he]||[],Nt=st[1];return"narrow"===ze&&"string"==typeof Nt?Nt:st[0]||he}(jn,"symbol"===Nt?"wide":"narrow",ln):Nt);try{return vt(function Er(he){if("string"==typeof he&&!isNaN(Number(he)-parseFloat(he)))return Number(he);if("number"!=typeof he)throw new Error(`${he} is not a number`);return he}(Se),ln,jn,st,tn)}catch(Si){throw Ri()}}}return he.\u0275fac=function(Se){return new(Se||he)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},he.\u0275pipe=e.Yjl({name:"currency",type:he,pure:!0,standalone:!0}),he})();let Uo=(()=>{class he{transform(Se,st,Nt){if(null==Se)return null;if(!this.supports(Se))throw Ri();return Se.slice(st,Nt)}supports(Se){return"string"==typeof Se||Array.isArray(Se)}}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275pipe=e.Yjl({name:"slice",type:he,pure:!1,standalone:!0}),he})(),rs=(()=>{class he{}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275mod=e.oAB({type:he}),he.\u0275inj=e.cJS({}),he})();const Cr="browser";function As(he){return he===Cr}let Qo=(()=>{class he{}return he.\u0275prov=(0,e.Yz7)({token:he,providedIn:"root",factory:()=>new ur((0,e.LFG)(O),window)}),he})();class ur{constructor(ze,Se){this.document=ze,this.window=Se,this.offset=()=>[0,0]}setOffset(ze){this.offset=Array.isArray(ze)?()=>ze:ze}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ze){this.supportsScrolling()&&this.window.scrollTo(ze[0],ze[1])}scrollToAnchor(ze){if(!this.supportsScrolling())return;const Se=function Jo(he,ze){const Se=he.getElementById(ze)||he.getElementsByName(ze)[0];if(Se)return Se;if("function"==typeof he.createTreeWalker&&he.body&&(he.body.createShadowRoot||he.body.attachShadow)){const st=he.createTreeWalker(he.body,NodeFilter.SHOW_ELEMENT);let Nt=st.currentNode;for(;Nt;){const tn=Nt.shadowRoot;if(tn){const ln=tn.getElementById(ze)||tn.querySelector(`[name="${ze}"]`);if(ln)return ln}Nt=st.nextNode()}}return null}(this.document,ze);Se&&(this.scrollToElement(Se),Se.focus())}setHistoryScrollRestoration(ze){if(this.supportScrollRestoration()){const Se=this.window.history;Se&&Se.scrollRestoration&&(Se.scrollRestoration=ze)}}scrollToElement(ze){const Se=ze.getBoundingClientRect(),st=Se.left+this.window.pageXOffset,Nt=Se.top+this.window.pageYOffset,tn=this.offset();this.window.scrollTo(st-tn[0],Nt-tn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ze=go(this.window.history)||go(Object.getPrototypeOf(this.window.history));return!(!ze||!ze.writable&&!ze.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function go(he){return Object.getOwnPropertyDescriptor(he,"scrollRestoration")}class wo{}},529:(Je,K,t)=>{"use strict";t.d(K,{JF:()=>Ke,UA:()=>B,eN:()=>$});var e=t(6895),n=t(6353),y=t(1086),T=t(6498),v=t(1406),O=t(2198),C=t(4850);class E{}class i{}class f{constructor(J){this.normalizedNames=new Map,this.lazyUpdate=null,J?this.lazyInit="string"==typeof J?()=>{this.headers=new Map,J.split("\n").forEach(ne=>{const $e=ne.indexOf(":");if($e>0){const Qe=ne.slice(0,$e),Tt=Qe.toLowerCase(),zt=ne.slice($e+1).trim();this.maybeSetNormalizedName(Qe,Tt),this.headers.has(Tt)?this.headers.get(Tt).push(zt):this.headers.set(Tt,[zt])}})}:()=>{this.headers=new Map,Object.keys(J).forEach(ne=>{let $e=J[ne];const Qe=ne.toLowerCase();"string"==typeof $e&&($e=[$e]),$e.length>0&&(this.headers.set(Qe,$e),this.maybeSetNormalizedName(ne,Qe))})}:this.headers=new Map}has(J){return this.init(),this.headers.has(J.toLowerCase())}get(J){this.init();const ne=this.headers.get(J.toLowerCase());return ne&&ne.length>0?ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(J){return this.init(),this.headers.get(J.toLowerCase())||null}append(J,ne){return this.clone({name:J,value:ne,op:"a"})}set(J,ne){return this.clone({name:J,value:ne,op:"s"})}delete(J,ne){return this.clone({name:J,value:ne,op:"d"})}maybeSetNormalizedName(J,ne){this.normalizedNames.has(ne)||this.normalizedNames.set(ne,J)}init(){this.lazyInit&&(this.lazyInit instanceof f?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(J=>this.applyUpdate(J)),this.lazyUpdate=null))}copyFrom(J){J.init(),Array.from(J.headers.keys()).forEach(ne=>{this.headers.set(ne,J.headers.get(ne)),this.normalizedNames.set(ne,J.normalizedNames.get(ne))})}clone(J){const ne=new f;return ne.lazyInit=this.lazyInit&&this.lazyInit instanceof f?this.lazyInit:this,ne.lazyUpdate=(this.lazyUpdate||[]).concat([J]),ne}applyUpdate(J){const ne=J.name.toLowerCase();switch(J.op){case"a":case"s":let $e=J.value;if("string"==typeof $e&&($e=[$e]),0===$e.length)return;this.maybeSetNormalizedName(J.name,ne);const Qe=("a"===J.op?this.headers.get(ne):void 0)||[];Qe.push(...$e),this.headers.set(ne,Qe);break;case"d":const Tt=J.value;if(Tt){let zt=this.headers.get(ne);if(!zt)return;zt=zt.filter(cn=>-1===Tt.indexOf(cn)),0===zt.length?(this.headers.delete(ne),this.normalizedNames.delete(ne)):this.headers.set(ne,zt)}else this.headers.delete(ne),this.normalizedNames.delete(ne)}}forEach(J){this.init(),Array.from(this.normalizedNames.keys()).forEach(ne=>J(this.normalizedNames.get(ne),this.headers.get(ne)))}}class l{encodeKey(J){return c(J)}encodeValue(J){return c(J)}decodeKey(J){return decodeURIComponent(J)}decodeValue(J){return decodeURIComponent(J)}}const h=/%(\d[a-f0-9])/gi,d={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function c(te){return encodeURIComponent(te).replace(h,(J,ne)=>d[ne]??J)}function a(te){return`${te}`}class s{constructor(J={}){if(this.updates=null,this.cloneFrom=null,this.encoder=J.encoder||new l,J.fromString){if(J.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function m(te,J){const ne=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach(Qe=>{const Tt=Qe.indexOf("="),[zt,cn]=-1==Tt?[J.decodeKey(Qe),""]:[J.decodeKey(Qe.slice(0,Tt)),J.decodeValue(Qe.slice(Tt+1))],an=ne.get(zt)||[];an.push(cn),ne.set(zt,an)}),ne}(J.fromString,this.encoder)}else J.fromObject?(this.map=new Map,Object.keys(J.fromObject).forEach(ne=>{const $e=J.fromObject[ne],Qe=Array.isArray($e)?$e.map(a):[a($e)];this.map.set(ne,Qe)})):this.map=null}has(J){return this.init(),this.map.has(J)}get(J){this.init();const ne=this.map.get(J);return ne?ne[0]:null}getAll(J){return this.init(),this.map.get(J)||null}keys(){return this.init(),Array.from(this.map.keys())}append(J,ne){return this.clone({param:J,value:ne,op:"a"})}appendAll(J){const ne=[];return Object.keys(J).forEach($e=>{const Qe=J[$e];Array.isArray(Qe)?Qe.forEach(Tt=>{ne.push({param:$e,value:Tt,op:"a"})}):ne.push({param:$e,value:Qe,op:"a"})}),this.clone(ne)}set(J,ne){return this.clone({param:J,value:ne,op:"s"})}delete(J,ne){return this.clone({param:J,value:ne,op:"d"})}toString(){return this.init(),this.keys().map(J=>{const ne=this.encoder.encodeKey(J);return this.map.get(J).map($e=>ne+"="+this.encoder.encodeValue($e)).join("&")}).filter(J=>""!==J).join("&")}clone(J){const ne=new s({encoder:this.encoder});return ne.cloneFrom=this.cloneFrom||this,ne.updates=(this.updates||[]).concat(J),ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(J=>this.map.set(J,this.cloneFrom.map.get(J))),this.updates.forEach(J=>{switch(J.op){case"a":case"s":const ne=("a"===J.op?this.map.get(J.param):void 0)||[];ne.push(a(J.value)),this.map.set(J.param,ne);break;case"d":if(void 0===J.value){this.map.delete(J.param);break}{let $e=this.map.get(J.param)||[];const Qe=$e.indexOf(a(J.value));-1!==Qe&&$e.splice(Qe,1),$e.length>0?this.map.set(J.param,$e):this.map.delete(J.param)}}}),this.cloneFrom=this.updates=null)}}class o{constructor(){this.map=new Map}set(J,ne){return this.map.set(J,ne),this}get(J){return this.map.has(J)||this.map.set(J,J.defaultValue()),this.map.get(J)}delete(J){return this.map.delete(J),this}has(J){return this.map.has(J)}keys(){return this.map.keys()}}function I(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function x(te){return typeof Blob<"u"&&te instanceof Blob}function P(te){return typeof FormData<"u"&&te instanceof FormData}class u{constructor(J,ne,$e,Qe){let Tt;if(this.url=ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=J.toUpperCase(),function S(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qe?(this.body=void 0!==$e?$e:null,Tt=Qe):Tt=$e,Tt&&(this.reportProgress=!!Tt.reportProgress,this.withCredentials=!!Tt.withCredentials,Tt.responseType&&(this.responseType=Tt.responseType),Tt.headers&&(this.headers=Tt.headers),Tt.context&&(this.context=Tt.context),Tt.params&&(this.params=Tt.params)),this.headers||(this.headers=new f),this.context||(this.context=new o),this.params){const zt=this.params.toString();if(0===zt.length)this.urlWithParams=ne;else{const cn=ne.indexOf("?");this.urlWithParams=ne+(-1===cn?"?":cn<ne.length-1?"&":"")+zt}}else this.params=new s,this.urlWithParams=ne}serializeBody(){return null===this.body?null:I(this.body)||x(this.body)||P(this.body)||function g(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof s?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||P(this.body)?null:x(this.body)?this.body.type||null:I(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof s?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(J={}){const ne=J.method||this.method,$e=J.url||this.url,Qe=J.responseType||this.responseType,Tt=void 0!==J.body?J.body:this.body,zt=void 0!==J.withCredentials?J.withCredentials:this.withCredentials,cn=void 0!==J.reportProgress?J.reportProgress:this.reportProgress;let an=J.headers||this.headers,vn=J.params||this.params;const Dn=J.context??this.context;return void 0!==J.setHeaders&&(an=Object.keys(J.setHeaders).reduce((Tn,Pn)=>Tn.set(Pn,J.setHeaders[Pn]),an)),J.setParams&&(vn=Object.keys(J.setParams).reduce((Tn,Pn)=>Tn.set(Pn,J.setParams[Pn]),vn)),new u(ne,$e,Tt,{params:vn,headers:an,context:Dn,reportProgress:cn,responseType:Qe,withCredentials:zt})}}var M=(()=>((M=M||{})[M.Sent=0]="Sent",M[M.UploadProgress=1]="UploadProgress",M[M.ResponseHeader=2]="ResponseHeader",M[M.DownloadProgress=3]="DownloadProgress",M[M.Response=4]="Response",M[M.User=5]="User",M))();class R{constructor(J,ne=200,$e="OK"){this.headers=J.headers||new f,this.status=void 0!==J.status?J.status:ne,this.statusText=J.statusText||$e,this.url=J.url||null,this.ok=this.status>=200&&this.status<300}}class w extends R{constructor(J={}){super(J),this.type=M.ResponseHeader}clone(J={}){return new w({headers:J.headers||this.headers,status:void 0!==J.status?J.status:this.status,statusText:J.statusText||this.statusText,url:J.url||this.url||void 0})}}class F extends R{constructor(J={}){super(J),this.type=M.Response,this.body=void 0!==J.body?J.body:null}clone(J={}){return new F({body:void 0!==J.body?J.body:this.body,headers:J.headers||this.headers,status:void 0!==J.status?J.status:this.status,statusText:J.statusText||this.statusText,url:J.url||this.url||void 0})}}class B extends R{constructor(J){super(J,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${J.url||"(unknown url)"}`:`Http failure response for ${J.url||"(unknown url)"}: ${J.status} ${J.statusText}`,this.error=J.error||null}}function H(te,J){return{body:J,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials}}let $=(()=>{class te{constructor(ne){this.handler=ne}request(ne,$e,Qe={}){let Tt;if(ne instanceof u)Tt=ne;else{let an,vn;an=Qe.headers instanceof f?Qe.headers:new f(Qe.headers),Qe.params&&(vn=Qe.params instanceof s?Qe.params:new s({fromObject:Qe.params})),Tt=new u(ne,$e,void 0!==Qe.body?Qe.body:null,{headers:an,context:Qe.context,params:vn,reportProgress:Qe.reportProgress,responseType:Qe.responseType||"json",withCredentials:Qe.withCredentials})}const zt=(0,y.of)(Tt).pipe((0,v.b)(an=>this.handler.handle(an)));if(ne instanceof u||"events"===Qe.observe)return zt;const cn=zt.pipe((0,O.h)(an=>an instanceof F));switch(Qe.observe||"body"){case"body":switch(Tt.responseType){case"arraybuffer":return cn.pipe((0,C.U)(an=>{if(null!==an.body&&!(an.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return an.body}));case"blob":return cn.pipe((0,C.U)(an=>{if(null!==an.body&&!(an.body instanceof Blob))throw new Error("Response is not a Blob.");return an.body}));case"text":return cn.pipe((0,C.U)(an=>{if(null!==an.body&&"string"!=typeof an.body)throw new Error("Response is not a string.");return an.body}));default:return cn.pipe((0,C.U)(an=>an.body))}case"response":return cn;default:throw new Error(`Unreachable: unhandled observe type ${Qe.observe}}`)}}delete(ne,$e={}){return this.request("DELETE",ne,$e)}get(ne,$e={}){return this.request("GET",ne,$e)}head(ne,$e={}){return this.request("HEAD",ne,$e)}jsonp(ne,$e){return this.request("JSONP",ne,{params:(new s).append($e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ne,$e={}){return this.request("OPTIONS",ne,$e)}patch(ne,$e,Qe={}){return this.request("PATCH",ne,H(Qe,$e))}post(ne,$e,Qe={}){return this.request("POST",ne,H(Qe,$e))}put(ne,$e,Qe={}){return this.request("PUT",ne,H(Qe,$e))}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(E))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac}),te})();function j(te,J){return J(te)}function V(te,J){return(ne,$e)=>J.intercept(ne,{handle:Qe=>te(Qe,$e)})}const ie=new n.OlP("HTTP_INTERCEPTORS"),ye=new n.OlP("HTTP_INTERCEPTOR_FNS");function G(){let te=null;return(J,ne)=>(null===te&&(te=((0,n.f3M)(ie,{optional:!0})??[]).reduceRight(V,j)),te(J,ne))}let _e=(()=>{class te extends E{constructor(ne,$e){super(),this.backend=ne,this.injector=$e,this.chain=null}handle(ne){if(null===this.chain){const $e=Array.from(new Set(this.injector.get(ye)));this.chain=$e.reduceRight((Qe,Tt)=>function Q(te,J,ne){return($e,Qe)=>ne.runInContext(()=>J($e,Tt=>te(Tt,Qe)))}(Qe,Tt,this.injector),j)}return this.chain(ne,$e=>this.backend.handle($e))}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(i),n.LFG(n.lqb))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac}),te})();const Be=/^\)\]\}',?\n/;let Ye=(()=>{class te{constructor(ne){this.xhrFactory=ne}handle(ne){if("JSONP"===ne.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new T.y($e=>{const Qe=this.xhrFactory.build();if(Qe.open(ne.method,ne.urlWithParams),ne.withCredentials&&(Qe.withCredentials=!0),ne.headers.forEach((Rn,wt)=>Qe.setRequestHeader(Rn,wt.join(","))),ne.headers.has("Accept")||Qe.setRequestHeader("Accept","application/json, text/plain, */*"),!ne.headers.has("Content-Type")){const Rn=ne.detectContentTypeHeader();null!==Rn&&Qe.setRequestHeader("Content-Type",Rn)}if(ne.responseType){const Rn=ne.responseType.toLowerCase();Qe.responseType="json"!==Rn?Rn:"text"}const Tt=ne.serializeBody();let zt=null;const cn=()=>{if(null!==zt)return zt;const Rn=Qe.statusText||"OK",wt=new f(Qe.getAllResponseHeaders()),St=function lt(te){return"responseURL"in te&&te.responseURL?te.responseURL:/^X-Request-URL:/m.test(te.getAllResponseHeaders())?te.getResponseHeader("X-Request-URL"):null}(Qe)||ne.url;return zt=new w({headers:wt,status:Qe.status,statusText:Rn,url:St}),zt},an=()=>{let{headers:Rn,status:wt,statusText:St,url:_t}=cn(),Lt=null;204!==wt&&(Lt=typeof Qe.response>"u"?Qe.responseText:Qe.response),0===wt&&(wt=Lt?200:0);let en=wt>=200&&wt<300;if("json"===ne.responseType&&"string"==typeof Lt){const En=Lt;Lt=Lt.replace(Be,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(Ft){Lt=En,en&&(en=!1,Lt={error:Ft,text:Lt})}}en?($e.next(new F({body:Lt,headers:Rn,status:wt,statusText:St,url:_t||void 0})),$e.complete()):$e.error(new B({error:Lt,headers:Rn,status:wt,statusText:St,url:_t||void 0}))},vn=Rn=>{const{url:wt}=cn(),St=new B({error:Rn,status:Qe.status||0,statusText:Qe.statusText||"Unknown Error",url:wt||void 0});$e.error(St)};let Dn=!1;const Tn=Rn=>{Dn||($e.next(cn()),Dn=!0);let wt={type:M.DownloadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(wt.total=Rn.total),"text"===ne.responseType&&!!Qe.responseText&&(wt.partialText=Qe.responseText),$e.next(wt)},Pn=Rn=>{let wt={type:M.UploadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(wt.total=Rn.total),$e.next(wt)};return Qe.addEventListener("load",an),Qe.addEventListener("error",vn),Qe.addEventListener("timeout",vn),Qe.addEventListener("abort",vn),ne.reportProgress&&(Qe.addEventListener("progress",Tn),null!==Tt&&Qe.upload&&Qe.upload.addEventListener("progress",Pn)),Qe.send(Tt),$e.next({type:M.Sent}),()=>{Qe.removeEventListener("error",vn),Qe.removeEventListener("abort",vn),Qe.removeEventListener("load",an),Qe.removeEventListener("timeout",vn),ne.reportProgress&&(Qe.removeEventListener("progress",Tn),null!==Tt&&Qe.upload&&Qe.upload.removeEventListener("progress",Pn)),Qe.readyState!==Qe.DONE&&Qe.abort()}})}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(e.JF))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac}),te})();const et=new n.OlP("XSRF_ENABLED"),ot="XSRF-TOKEN",ge=new n.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ot}),we="X-XSRF-TOKEN",me=new n.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>we});class fe{}let Z=(()=>{class te{constructor(ne,$e,Qe){this.doc=ne,this.platform=$e,this.cookieName=Qe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ne=this.doc.cookie||"";return ne!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(ne,this.cookieName),this.lastCookieString=ne),this.lastToken}}return te.\u0275fac=function(ne){return new(ne||te)(n.LFG(e.K0),n.LFG(n.Lbi),n.LFG(ge))},te.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac}),te})();function ee(te,J){const ne=te.url.toLowerCase();if(!(0,n.f3M)(et)||"GET"===te.method||"HEAD"===te.method||ne.startsWith("http://")||ne.startsWith("https://"))return J(te);const $e=(0,n.f3M)(fe).getToken(),Qe=(0,n.f3M)(me);return null!=$e&&!te.headers.has(Qe)&&(te=te.clone({headers:te.headers.set(Qe,$e)})),J(te)}var Ce=(()=>((Ce=Ce||{})[Ce.Interceptors=0]="Interceptors",Ce[Ce.LegacyInterceptors=1]="LegacyInterceptors",Ce[Ce.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ce[Ce.NoXsrfProtection=3]="NoXsrfProtection",Ce[Ce.JsonpSupport=4]="JsonpSupport",Ce[Ce.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ce))();function pt(te,J){return{\u0275kind:te,\u0275providers:J}}function Ze(...te){const J=[$,Ye,_e,{provide:E,useExisting:_e},{provide:i,useExisting:Ye},{provide:ye,useValue:ee,multi:!0},{provide:et,useValue:!0},{provide:fe,useClass:Z}];for(const ne of te)J.push(...ne.\u0275providers);return(0,n.MR2)(J)}const Dt=new n.OlP("LEGACY_INTERCEPTOR_FN");function Wt({cookieName:te,headerName:J}){const ne=[];return void 0!==te&&ne.push({provide:ge,useValue:te}),void 0!==J&&ne.push({provide:me,useValue:J}),pt(Ce.CustomXsrfConfiguration,ne)}let Ke=(()=>{class te{}return te.\u0275fac=function(ne){return new(ne||te)},te.\u0275mod=n.oAB({type:te}),te.\u0275inj=n.cJS({providers:[Ze(pt(Ce.LegacyInterceptors,[{provide:Dt,useFactory:G},{provide:ye,useExisting:Dt,multi:!0}]),Wt({cookieName:ot,headerName:we}))]}),te})()},6353:(Je,K,t)=>{"use strict";t.d(K,{QbO:()=>ME,tb:()=>bv,AFp:()=>gv,ip1:()=>_v,CZH:()=>yf,hGG:()=>fC,z2F:()=>Ef,sBO:()=>QE,Sil:()=>RE,_Vd:()=>ql,EJc:()=>PE,Xts:()=>wc,SBq:()=>Uc,lqb:()=>rl,qLn:()=>aa,vpe:()=>Ua,tBr:()=>ds,XFs:()=>me,OlP:()=>ki,zs3:()=>U,ZZ4:()=>Up,aQg:()=>Vp,soG:()=>bf,YKP:()=>_g,h0i:()=>tu,PXZ:()=>KE,R0b:()=>Zs,FiY:()=>Sa,Lbi:()=>TE,g9A:()=>yv,n_E:()=>pf,Qsj:()=>hh,FYo:()=>ku,JOm:()=>hs,q3G:()=>bo,tp0:()=>hl,Rgc:()=>id,dDg:()=>VE,eoX:()=>xv,q4F:()=>Ld,GfV:()=>wd,s_b:()=>_f,ifc:()=>wt,MMx:()=>mp,Lck:()=>D0,eFA:()=>Iv,G48:()=>YE,Gpc:()=>h,f3M:()=>$e,MR2:()=>th,_c5:()=>dC,c2e:()=>xE,zSh:()=>Lc,wAp:()=>hi,vHH:()=>o,lri:()=>Tv,rWj:()=>Mv,JZr:()=>r,EiD:()=>ol,mCW:()=>Rc,qzn:()=>El,JVY:()=>Wf,pB0:()=>zf,eBb:()=>Qp,L6k:()=>Kf,LAX:()=>Jp,D6c:()=>hC,cg1:()=>op,kL8:()=>j_,dqk:()=>pt,Z0I:()=>it,sIi:()=>Hu,CqO:()=>Hm,QGY:()=>zh,QP$:()=>ei,F4k:()=>Zm,RDi:()=>Uf,AaK:()=>_,z3N:()=>sa,qOj:()=>kh,TTD:()=>Vo,_Bn:()=>mg,jDz:()=>vg,xp6:()=>$d,uIk:()=>Vh,Tol:()=>__,Gre:()=>R_,ekj:()=>Xh,Suo:()=>Zg,Xpm:()=>Zt,lG2:()=>Wn,Yz7:()=>xe,cJS:()=>Ue,oAB:()=>Qt,Yjl:()=>$n,Y36:()=>Yn,_UZ:()=>Wh,GkF:()=>Kh,BQk:()=>rf,ynx:()=>nf,qZA:()=>tf,TgZ:()=>ef,EpF:()=>zm,n5z:()=>Bl,Ikx:()=>np,SDv:()=>dg,QtT:()=>fg,N_p:()=>lp,pQV:()=>cp,Zx4:()=>hg,tHW:()=>ap,LFG:()=>J,$8M:()=>Bs,$Z:()=>ni,NdJ:()=>Zh,CRH:()=>Hg,kcU:()=>he,O4$:()=>cs,oxw:()=>Jm,ALo:()=>Ng,lcZ:()=>Fg,xi3:()=>kg,Dn7:()=>Bg,Hsn:()=>qm,F$t:()=>Xm,Q6J:()=>jh,MGl:()=>sf,DdM:()=>Tg,VKq:()=>Mg,WLB:()=>xg,kEZ:()=>Dg,qbA:()=>Pg,iGM:()=>Kg,MAs:()=>Km,KtG:()=>Ur,evT:()=>nc,Jf7:()=>gr,CHM:()=>_s,oJD:()=>Pu,LSH:()=>Ac,P3R:()=>Md,B6R:()=>bn,kYT:()=>An,Akn:()=>da,Udp:()=>Jh,WFA:()=>Hh,d8E:()=>ip,YNc:()=>Wm,W1O:()=>Jg,_uU:()=>S_,Oqu:()=>ep,hij:()=>cf,AsE:()=>tp,Gf:()=>zg});var e=t(8929),n=t(2654),y=t(6498),T=t(6787),v=t(2536),O=t(4327);function C(){return new e.xQ}function i(p){for(let b in p)if(p[b]===i)return b;throw Error("Could not find renamed property on target object.")}function f(p,b){for(const D in b)b.hasOwnProperty(D)&&!p.hasOwnProperty(D)&&(p[D]=b[D])}function _(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(_).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const b=p.toString();if(null==b)return""+b;const D=b.indexOf("\n");return-1===D?b:b.substring(0,D)}function l(p,b){return null==p||""===p?null===b?"":b:null==b||""===b?p:p+" "+b}const m=i({__forward_ref__:i});function h(p){return p.__forward_ref__=h,p.toString=function(){return _(this())},p}function d(p){return c(p)?p():p}function c(p){return"function"==typeof p&&p.hasOwnProperty(m)&&p.__forward_ref__===h}function a(p){return p&&!!p.\u0275providers}const r="https://g.co/ng/security#xss";class o extends Error{constructor(b,D){super(function S(p,b){return`NG0${Math.abs(p)}${b?": "+b.trim():""}`}(b,D)),this.code=b}}function I(p){return"string"==typeof p?p:null==p?"":String(p)}function M(p,b){throw new o(-201,!1)}function Me(p,b,D,L){throw new Error(`ASSERTION ERROR: ${p}`+(null==L?"":` [Expected=> ${D} ${L} ${b} <=Actual]`))}function xe(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function Ue(p){return{providers:p.providers||[],imports:p.imports||[]}}function He(p){return je(p,et)||je(p,ge)}function it(p){return null!==He(p)}function je(p,b){return p.hasOwnProperty(b)?p[b]:null}function Ye(p){return p&&(p.hasOwnProperty(ot)||p.hasOwnProperty(we))?p[ot]:null}const et=i({\u0275prov:i}),ot=i({\u0275inj:i}),ge=i({ngInjectableDef:i}),we=i({ngInjectorDef:i});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let fe;function ee(p){const b=fe;return fe=p,b}function ue(p,b,D){const L=He(p);return L&&"root"==L.providedIn?void 0===L.value?L.value=L.factory():L.value:D&me.Optional?null:void 0!==b?b:void M(_(p))}const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),At={},Wt="__NG_DI_FLAG__",Et="ngTempTokenPath",ct=/\n/gm,Ke="__source";let rt;function le(p){const b=rt;return rt=p,b}function te(p,b=me.Default){if(void 0===rt)throw new o(-203,!1);return null===rt?ue(p,void 0,b):rt.get(p,b&me.Optional?null:void 0,b)}function J(p,b=me.Default){return(function Z(){return fe}()||te)(d(p),b)}function $e(p,b=me.Default){return J(p,Qe(b))}function Qe(p){return typeof p>"u"||"number"==typeof p?p:0|(p.optional&&8)|(p.host&&1)|(p.self&&2)|(p.skipSelf&&4)}function Tt(p){const b=[];for(let D=0;D<p.length;D++){const L=d(p[D]);if(Array.isArray(L)){if(0===L.length)throw new o(900,!1);let k,W=me.Default;for(let q=0;q<L.length;q++){const de=L[q],Ee=cn(de);"number"==typeof Ee?-1===Ee?k=de.token:W|=Ee:k=de}b.push(J(k,W))}else b.push(J(L))}return b}function zt(p,b){return p[Wt]=b,p.prototype[Wt]=b,p}function cn(p){return p[Wt]}function Dn(p){return{toString:p}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),wt=(()=>{return(p=wt||(wt={}))[p.Emulated=0]="Emulated",p[p.None=2]="None",p[p.ShadowDom=3]="ShadowDom",wt;var p})();const St={},_t=[],Lt=i({\u0275cmp:i}),en=i({\u0275dir:i}),En=i({\u0275pipe:i}),Ft=i({\u0275mod:i}),Bt=i({\u0275fac:i}),vt=i({__NG_ELEMENT_ID__:i});let sn=0;function Zt(p){return Dn(()=>{const D=!0===p.standalone,L={},k={type:p.type,providersResolver:null,decls:p.decls,vars:p.vars,factory:null,template:p.template||null,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:L,inputs:null,outputs:null,exportAs:p.exportAs||null,onPush:p.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,standalone:D,dependencies:D&&p.dependencies||null,getStandaloneInjector:null,selectors:p.selectors||_t,viewQuery:p.viewQuery||null,features:p.features||null,data:p.data||{},encapsulation:p.encapsulation||wt.Emulated,id:"c"+sn++,styles:p.styles||_t,_:null,setInput:null,schemas:p.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},W=p.dependencies,q=p.features;return k.inputs=Bn(p.inputs,L),k.outputs=Bn(p.outputs),q&&q.forEach(de=>de(k)),k.directiveDefs=W?()=>("function"==typeof W?W():W).map(rn).filter(Yt):null,k.pipeDefs=W?()=>("function"==typeof W?W():W).map(ti).filter(Yt):null,k})}function bn(p,b,D){const L=p.\u0275cmp;L.directiveDefs=()=>("function"==typeof b?b():b).map(rn),L.pipeDefs=()=>("function"==typeof D?D():D).map(ti)}function rn(p){return yn(p)||Fn(p)}function Yt(p){return null!==p}function Qt(p){return Dn(()=>({type:p.type,bootstrap:p.bootstrap||_t,declarations:p.declarations||_t,imports:p.imports||_t,exports:p.exports||_t,transitiveCompileScopes:null,schemas:p.schemas||null,id:p.id||null}))}function An(p,b){return Dn(()=>{const D=ci(p,!0);D.declarations=b.declarations||_t,D.imports=b.imports||_t,D.exports=b.exports||_t})}function Bn(p,b){if(null==p)return St;const D={};for(const L in p)if(p.hasOwnProperty(L)){let k=p[L],W=k;Array.isArray(k)&&(W=k[1],k=k[0]),D[k]=L,b&&(b[k]=W)}return D}const Wn=Zt;function $n(p){return{type:p.type,name:p.name,factory:null,pure:!1!==p.pure,standalone:!0===p.standalone,onDestroy:p.type.prototype.ngOnDestroy||null}}function yn(p){return p[Lt]||null}function Fn(p){return p[en]||null}function ti(p){return p[En]||null}function ei(p){const b=yn(p)||Fn(p)||ti(p);return null!==b&&b.standalone}function ci(p,b){const D=p[Ft]||null;if(!D&&!0===b)throw new Error(`Type ${_(p)} does not have '\u0275mod' property.`);return D}function Pt(p){return Array.isArray(p)&&"object"==typeof p[1]}function gn(p){return Array.isArray(p)&&!0===p[1]}function oi(p){return 0!=(4&p.flags)}function Yi(p){return p.componentOffset>-1}function zi(p){return 1==(1&p.flags)}function Zi(p){return null!==p.template}function ar(p){return 0!=(256&p[2])}function go(p,b){return p.hasOwnProperty(Bt)?p[Bt]:null}class Jo{constructor(b,D,L){this.previousValue=b,this.currentValue=D,this.firstChange=L}isFirstChange(){return this.firstChange}}function Vo(){return wo}function wo(p){return p.type.prototype.ngOnChanges&&(p.setInput=Tr),Xo}function Xo(){const p=Fr(this),b=p?.current;if(b){const D=p.previous;if(D===St)p.previous=b;else for(let L in b)D[L]=b[L];p.current=null,this.ngOnChanges(b)}}function Tr(p,b,D,L){const k=this.declaredInputs[D],W=Fr(p)||function ke(p,b){return p[Nr]=b}(p,{previous:St,current:null}),q=W.current||(W.current={}),de=W.previous,Ee=de[k];q[k]=new Jo(Ee&&Ee.currentValue,b,de===St),p[L]=b}Vo.ngInherit=!0;const Nr="__ngSimpleChanges__";function Fr(p){return p[Nr]||null}function Mn(p){for(;Array.isArray(p);)p=p[0];return p}function So(p,b){return Mn(b[p])}function Ii(p,b){return Mn(b[p.index])}function Br(p,b){return p.data[b]}function zn(p,b){return p[b]}function Qi(p,b){const D=b[p];return Pt(D)?D:D[0]}function Lo(p){return 64==(64&p[2])}function dr(p,b){return null==b?null:p[b]}function No(p){p[18]=0}function De(p,b){p[5]+=b;let D=p,L=p[3];for(;null!==L&&(1===b&&1===D[5]||-1===b&&0===D[5]);)L[5]+=b,D=L,L=L[3]}const Oe={lFrame:Ge(null),bindingsEnabled:!0};function To(){return Oe.bindingsEnabled}function _n(){return Oe.lFrame.lView}function Ti(){return Oe.lFrame.tView}function _s(p){return Oe.lFrame.contextLView=p,p[8]}function Ur(p){return Oe.lFrame.contextLView=null,p}function Ni(){let p=Fo();for(;null!==p&&64===p.type;)p=p.parent;return p}function Fo(){return Oe.lFrame.currentTNode}function Yr(){const p=Oe.lFrame,b=p.currentTNode;return p.isParent?b:b.parent}function jo(p,b){const D=Oe.lFrame;D.currentTNode=p,D.isParent=b}function Hs(){return Oe.lFrame.isParent}function Xi(){Oe.lFrame.isParent=!1}function ro(){const p=Oe.lFrame;let b=p.bindingRootIndex;return-1===b&&(b=p.bindingRootIndex=p.tView.bindingStartIndex),b}function Mo(){return Oe.lFrame.bindingIndex}function Vr(){return Oe.lFrame.bindingIndex++}function $o(p){const b=Oe.lFrame,D=b.bindingIndex;return b.bindingIndex=b.bindingIndex+p,D}function Wo(p){Oe.lFrame.inI18n=p}function hr(p,b){const D=Oe.lFrame;D.bindingIndex=D.bindingRootIndex=p,pr(b)}function pr(p){Oe.lFrame.currentDirectiveIndex=p}function ho(p){const b=Oe.lFrame.currentDirectiveIndex;return-1===b?null:p[b]}function ls(){return Oe.lFrame.currentQueryIndex}function qo(p){Oe.lFrame.currentQueryIndex=p}function vi(p){const b=p[1];return 2===b.type?b.declTNode:1===b.type?p[6]:null}function Dr(p,b,D){if(D&me.SkipSelf){let k=b,W=p;for(;!(k=k.parent,null!==k||D&me.Host||(k=vi(W),null===k||(W=W[15],10&k.type))););if(null===k)return!1;b=k,p=W}const L=Oe.lFrame=Le();return L.currentTNode=b,L.lView=p,!0}function xo(p){const b=Le(),D=p[1];Oe.lFrame=b,b.currentTNode=D.firstChild,b.lView=p,b.tView=D,b.contextLView=p,b.bindingIndex=D.bindingStartIndex,b.inI18n=!1}function Le(){const p=Oe.lFrame,b=null===p?null:p.child;return null===b?Ge(p):b}function Ge(p){const b={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=b),b}function Gt(){const p=Oe.lFrame;return Oe.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const Ct=Gt;function Xt(){const p=Gt();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function xn(){return Oe.lFrame.selectedIndex}function ui(p){Oe.lFrame.selectedIndex=p}function Jn(){const p=Oe.lFrame;return Br(p.tView,p.selectedIndex)}function cs(){Oe.lFrame.currentNamespace="svg"}function he(){!function ze(){Oe.lFrame.currentNamespace=null}()}function Nt(p,b){for(let D=b.directiveStart,L=b.directiveEnd;D<L;D++){const W=p.data[D].type.prototype,{ngAfterContentInit:q,ngAfterContentChecked:de,ngAfterViewInit:Ee,ngAfterViewChecked:We,ngOnDestroy:dt}=W;q&&(p.contentHooks||(p.contentHooks=[])).push(-D,q),de&&((p.contentHooks||(p.contentHooks=[])).push(D,de),(p.contentCheckHooks||(p.contentCheckHooks=[])).push(D,de)),Ee&&(p.viewHooks||(p.viewHooks=[])).push(-D,Ee),We&&((p.viewHooks||(p.viewHooks=[])).push(D,We),(p.viewCheckHooks||(p.viewCheckHooks=[])).push(D,We)),null!=dt&&(p.destroyHooks||(p.destroyHooks=[])).push(D,dt)}}function tn(p,b,D){Si(p,b,3,D)}function ln(p,b,D,L){(3&p[2])===D&&Si(p,b,D,L)}function jn(p,b){let D=p[2];(3&D)===b&&(D&=2047,D+=1,p[2]=D)}function Si(p,b,D,L){const W=L??-1,q=b.length-1;let de=0;for(let Ee=void 0!==L?65535&p[18]:0;Ee<q;Ee++)if("number"==typeof b[Ee+1]){if(de=b[Ee],null!=L&&de>=L)break}else b[Ee]<0&&(p[18]+=65536),(de<W||-1==W)&&(Ai(p,D,b,Ee),p[18]=(4294901760&p[18])+Ee+2),Ee++}function Ai(p,b,D,L){const k=D[L]<0,W=D[L+1],de=p[k?-D[L]:D[L]];if(k){if(p[2]>>11<p[18]>>16&&(3&p[2])===b){p[2]+=2048;try{W.call(de)}finally{}}}else try{W.call(de)}finally{}}class mi{constructor(b,D,L){this.factory=b,this.resolving=!1,this.canSeeViewProviders=D,this.injectImpl=L}}function vs(p,b,D){let L=0;for(;L<D.length;){const k=D[L];if("number"==typeof k){if(0!==k)break;L++;const W=D[L++],q=D[L++],de=D[L++];p.setAttribute(b,q,de,W)}else{const W=k,q=D[++L];Pr(W)?p.setProperty(b,W,q):p.setAttribute(b,W,q),L++}}return L}function Ns(p){return 3===p||4===p||6===p}function Pr(p){return 64===p.charCodeAt(0)}function ys(p,b){if(null!==b&&0!==b.length)if(null===p||0===p.length)p=b.slice();else{let D=-1;for(let L=0;L<b.length;L++){const k=b[L];"number"==typeof k?D=k:0===D||bs(p,D,k,null,-1===D||2===D?b[++L]:null)}}return p}function bs(p,b,D,L,k){let W=0,q=p.length;if(-1===b)q=-1;else for(;W<p.length;){const de=p[W++];if("number"==typeof de){if(de===b){q=-1;break}if(de>b){q=W-1;break}}}for(;W<p.length;){const de=p[W];if("number"==typeof de)break;if(de===D){if(null===L)return void(null!==k&&(p[W+1]=k));if(L===p[W+1])return void(p[W+2]=k)}W++,null!==L&&W++,null!==k&&W++}-1!==q&&(p.splice(q,0,b),W=q+1),p.splice(W++,0,D),null!==L&&p.splice(W++,0,L),null!==k&&p.splice(W++,0,k)}function Fs(p){return-1!==p}function $r(p){return 32767&p}function Xr(p,b){let D=function Va(p){return p>>16}(p),L=b;for(;D>0;)L=L[15],D--;return L}let Ys=!0;function ja(p){const b=Ys;return Ys=p,b}let fc=0;const co={};function Wa(p,b){const D=Fl(p,b);if(-1!==D)return D;const L=b[1];L.firstCreatePass&&(p.injectorIndex=b.length,Qs(L.data,p),Qs(b,null),Qs(L.blueprint,null));const k=ul(p,b),W=p.injectorIndex;if(Fs(k)){const q=$r(k),de=Xr(k,b),Ee=de[1].data;for(let We=0;We<8;We++)b[W+We]=de[q+We]|Ee[q+We]}return b[W+8]=k,W}function Qs(p,b){p.push(0,0,0,0,0,0,0,0,b)}function Fl(p,b){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===b[p.injectorIndex+8]?-1:p.injectorIndex}function ul(p,b){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let D=0,L=null,k=b;for(;null!==k;){if(L=Ir(k),null===L)return-1;if(D++,k=k[15],-1!==L.injectorIndex)return L.injectorIndex|D<<16}return-1}function kl(p,b,D){!function $a(p,b,D){let L;"string"==typeof D?L=D.charCodeAt(0)||0:D.hasOwnProperty(vt)&&(L=D[vt]),null==L&&(L=D[vt]=fc++);const k=255&L;b.data[p+(k>>5)]|=1<<k}(p,b,D)}function er(p,b,D){if(D&me.Optional||void 0!==p)return p;M()}function dl(p,b,D,L){if(D&me.Optional&&void 0===L&&(L=null),0==(D&(me.Self|me.Host))){const k=p[9],W=ee(void 0);try{return k?k.get(b,L,D&me.Optional):ue(b,L,D&me.Optional)}finally{ee(W)}}return er(L,0,D)}function ga(p,b,D,L=me.Default,k){if(null!==p){if(1024&b[2]){const q=function Ts(p,b,D,L,k){let W=p,q=b;for(;null!==W&&null!==q&&1024&q[2]&&!(256&q[2]);){const de=va(W,q,D,L|me.Self,co);if(de!==co)return de;let Ee=W.parent;if(!Ee){const We=q[21];if(We){const dt=We.get(D,co,L);if(dt!==co)return dt}Ee=Ir(q),q=q[15]}W=Ee}return k}(p,b,D,L,co);if(q!==co)return q}const W=va(p,b,D,L,co);if(W!==co)return W}return dl(b,D,L,k)}function va(p,b,D,L,k){const W=function hc(p){if("string"==typeof p)return p.charCodeAt(0)||0;const b=p.hasOwnProperty(vt)?p[vt]:void 0;return"number"==typeof b?b>=0?255&b:ks:b}(D);if("function"==typeof W){if(!Dr(b,p,L))return L&me.Host?er(k,0,L):dl(b,D,L,k);try{const q=W(L);if(null!=q||L&me.Optional)return q;M()}finally{Ct()}}else if("number"==typeof W){let q=null,de=Fl(p,b),Ee=-1,We=L&me.Host?b[16][6]:null;for((-1===de||L&me.SkipSelf)&&(Ee=-1===de?ul(p,b):b[de+8],-1!==Ee&&Ss(L,!1)?(q=b[1],de=$r(Ee),b=Xr(Ee,b)):de=-1);-1!==de;){const dt=b[1];if(us(W,de,dt.data)){const Mt=ou(de,b,D,q,L,We);if(Mt!==co)return Mt}Ee=b[de+8],-1!==Ee&&Ss(L,b[1].data[de+8]===We)&&us(W,de,b)?(q=dt,de=$r(Ee),b=Xr(Ee,b)):de=-1}}return k}function ou(p,b,D,L,k,W){const q=b[1],de=q.data[p+8],dt=uo(de,q,D,null==L?Yi(de)&&Ys:L!=q&&0!=(3&de.type),k&me.Host&&W===de);return null!==dt?Cs(b,q,dt,de):co}function uo(p,b,D,L,k){const W=p.providerIndexes,q=b.data,de=1048575&W,Ee=p.directiveStart,dt=W>>20,$t=k?de+dt:p.directiveEnd;for(let qt=L?de:de+dt;qt<$t;qt++){const dn=q[qt];if(qt<Ee&&D===dn||qt>=Ee&&dn.type===D)return qt}if(k){const qt=q[Ee];if(qt&&Zi(qt)&&qt.type===D)return Ee}return null}function Cs(p,b,D,L){let k=p[D];const W=b.data;if(function so(p){return p instanceof mi}(k)){const q=k;q.resolving&&function P(p,b){const D=b?`. Dependency path: ${b.join(" > ")} > ${p}`:"";throw new o(-200,`Circular dependency in DI detected for ${p}${D}`)}(function x(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():I(p)}(W[D]));const de=ja(q.canSeeViewProviders);q.resolving=!0;const Ee=q.injectImpl?ee(q.injectImpl):null;Dr(p,L,me.Default);try{k=p[D]=q.factory(void 0,W,p,L),b.firstCreatePass&&D>=L.directiveStart&&function st(p,b,D){const{ngOnChanges:L,ngOnInit:k,ngDoCheck:W}=b.type.prototype;if(L){const q=wo(b);(D.preOrderHooks||(D.preOrderHooks=[])).push(p,q),(D.preOrderCheckHooks||(D.preOrderCheckHooks=[])).push(p,q)}k&&(D.preOrderHooks||(D.preOrderHooks=[])).push(0-p,k),W&&((D.preOrderHooks||(D.preOrderHooks=[])).push(p,W),(D.preOrderCheckHooks||(D.preOrderCheckHooks=[])).push(p,W))}(D,W[D],b)}finally{null!==Ee&&ee(Ee),ja(de),q.resolving=!1,Ct()}}return k}function us(p,b,D){return!!(D[b+(p>>5)]&1<<p)}function Ss(p,b){return!(p&me.Self||p&me.Host&&b)}class Os{constructor(b,D){this._tNode=b,this._lView=D}get(b,D,L){return ga(this._tNode,this._lView,b,Qe(L),D)}}function ks(){return new Os(Ni(),_n())}function Bl(p){return Dn(()=>{const b=p.prototype.constructor,D=b[Bt]||Ka(b),L=Object.prototype;let k=Object.getPrototypeOf(p.prototype).constructor;for(;k&&k!==L;){const W=k[Bt]||Ka(k);if(W&&W!==D)return W;k=Object.getPrototypeOf(k)}return W=>new W})}function Ka(p){return c(p)?()=>{const b=Ka(d(p));return b&&b()}:go(p)}function Ir(p){const b=p[1],D=b.type;return 2===D?b.declTNode:1===D?p[6]:null}function Bs(p){return function _a(p,b){if("class"===b)return p.classes;if("style"===b)return p.styles;const D=p.attrs;if(D){const L=D.length;let k=0;for(;k<L;){const W=D[k];if(Ns(W))break;if(0===W)k+=2;else if("number"==typeof W)for(k++;k<L&&"string"==typeof D[k];)k++;else{if(W===b)return D[k+1];k+=2}}}return null}(Ni(),p)}const Js="__parameters__";function Xs(p,b,D){return Dn(()=>{const L=function es(p){return function(...D){if(p){const L=p(...D);for(const k in L)this[k]=L[k]}}}(b);function k(...W){if(this instanceof k)return L.apply(this,W),this;const q=new k(...W);return de.annotation=q,de;function de(Ee,We,dt){const Mt=Ee.hasOwnProperty(Js)?Ee[Js]:Object.defineProperty(Ee,Js,{value:[]})[Js];for(;Mt.length<=dt;)Mt.push(null);return(Mt[dt]=Mt[dt]||[]).push(q),Ee}}return D&&(k.prototype=Object.create(D.prototype)),k.prototype.ngMetadataName=p,k.annotationCls=k,k})}class ki{constructor(b,D){this._desc=b,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof D?this.__NG_ELEMENT_ID__=D:void 0!==D&&(this.\u0275prov=xe({token:this,providedIn:D.providedIn||"root",factory:D.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function na(p,b){p.forEach(D=>Array.isArray(D)?na(D,b):b(D))}function oe(p,b,D){b>=p.length?p.push(D):p.splice(b,0,D)}function ae(p,b){return b>=p.length-1?p.pop():p.splice(b,1)[0]}function Y(p,b){const D=[];for(let L=0;L<p;L++)D.push(b);return D}function Vt(p,b,D){let L=kn(p,b);return L>=0?p[1|L]=D:(L=~L,function at(p,b,D,L){let k=p.length;if(k==b)p.push(D,L);else if(1===k)p.push(L,p[0]),p[0]=D;else{for(k--,p.push(p[k-1],p[k]);k>b;)p[k]=p[k-2],k--;p[b]=D,p[b+1]=L}}(p,L,b,D)),L}function pn(p,b){const D=kn(p,b);if(D>=0)return p[1|D]}function kn(p,b){return function wi(p,b,D){let L=0,k=p.length>>D;for(;k!==L;){const W=L+(k-L>>1),q=p[W<<D];if(b===q)return W<<D;q>b?k=W:L=W+1}return~(k<<D)}(p,b,1)}const ds=zt(Xs("Inject",p=>({token:p})),-1),Sa=zt(Xs("Optional"),8),hl=zt(Xs("SkipSelf"),4);var hs=(()=>((hs=hs||{})[hs.Important=1]="Important",hs[hs.DashCase=2]="DashCase",hs))();const cd=/^>|^->|<!--|-->|--!>|<!-$/g,ud=/(<|>)/;const Da=new Map;let hu=0;const Zl="__ngContext__";function Io(p,b){Pt(b)?(p[Zl]=b[20],function Pa(p){Da.set(p[20],p)}(b)):p[Zl]=b}let Ot;function It(p,b){return Ot(p,b)}function mn(p){const b=p[3];return gn(b)?b[3]:b}function yi(p){return si(p[13])}function Bi(p){return si(p[4])}function si(p){for(;null!==p&&!gn(p);)p=p[4];return p}function eo(p,b,D,L,k){if(null!=L){let W,q=!1;gn(L)?W=L:Pt(L)&&(q=!0,L=L[0]);const de=Mn(L);0===p&&null!==D?null==k?If(b,D,de):Ra(b,D,de,k||null,!0):1===p&&null!==D?Ra(b,D,de,k||null,!0):2===p?yu(b,de,q):3===p&&b.destroyNode(de),null!=W&&function Eu(p,b,D,L,k){const W=D[7];W!==Mn(D)&&eo(b,p,L,W,k);for(let de=10;de<D.length;de++){const Ee=D[de];Gl(Ee[1],Ee,p,b,L,W)}}(b,p,W,D,k)}}function Ds(p,b){return p.createText(b)}function yl(p,b,D){p.setValue(b,D)}function dd(p,b){return p.createComment(function Kl(p){return p.replace(cd,b=>b.replace(ud,"\u200b$1\u200b"))}(b))}function Ia(p,b,D){return p.createElement(b,D)}function Oc(p,b){const D=p[9],L=D.indexOf(b),k=b[3];512&b[2]&&(b[2]&=-513,De(k,-1)),D.splice(L,1)}function _u(p,b){if(p.length<=10)return;const D=10+b,L=p[D];if(L){const k=L[17];null!==k&&k!==p&&Oc(k,L),b>0&&(p[D-1][4]=L[4]);const W=ae(p,10+b);!function Tf(p,b){Gl(p,b,b[11],2,null,null),b[0]=null,b[6]=null}(L[1],L);const q=W[19];null!==q&&q.detachView(W[1]),L[3]=null,L[4]=null,L[2]&=-65}return L}function hd(p,b){if(!(128&b[2])){const D=b[11];D.destroyNode&&Gl(p,b,D,3,null,null),function fd(p){let b=p[13];if(!b)return gu(p[1],p);for(;b;){let D=null;if(Pt(b))D=b[13];else{const L=b[10];L&&(D=L)}if(!D){for(;b&&!b[4]&&b!==p;)Pt(b)&&gu(b[1],b),b=b[3];null===b&&(b=p),Pt(b)&&gu(b[1],b),D=b&&b[4]}b=D}}(b)}}function gu(p,b){if(!(128&b[2])){b[2]&=-65,b[2]|=128,function Pf(p,b){let D;if(null!=p&&null!=(D=p.destroyHooks))for(let L=0;L<D.length;L+=2){const k=b[D[L]];if(!(k instanceof mi)){const W=D[L+1];if(Array.isArray(W))for(let q=0;q<W.length;q+=2){const de=k[W[q]],Ee=W[q+1];try{Ee.call(de)}finally{}}else try{W.call(k)}finally{}}}}(p,b),function Df(p,b){const D=p.cleanup,L=b[7];let k=-1;if(null!==D)for(let W=0;W<D.length-1;W+=2)if("string"==typeof D[W]){const q=D[W+3];q>=0?L[k=q]():L[k=-q].unsubscribe(),W+=2}else{const q=L[k=D[W+1]];D[W].call(q)}if(null!==L){for(let W=k+1;W<L.length;W++)(0,L[W])();b[7]=null}}(p,b),1===b[1].type&&b[11].destroy();const D=b[17];if(null!==D&&gn(b[3])){D!==b[3]&&Oc(D,b);const L=b[19];null!==L&&L.detachView(p)}!function zl(p){Da.delete(p[20])}(b)}}function Tc(p,b,D){return Mc(p,b.parent,D)}function Mc(p,b,D){let L=b;for(;null!==L&&40&L.type;)L=(b=L).parent;if(null===L)return D[0];{const{componentOffset:k}=L;if(k>-1){const{encapsulation:W}=p.data[L.directiveStart+k];if(W===wt.None||W===wt.Emulated)return null}return Ii(L,D)}}function Ra(p,b,D,L,k){p.insertBefore(b,D,L,k)}function If(p,b,D){p.appendChild(b,D)}function Rf(p,b,D,L,k){null!==L?Ra(p,b,D,L,k):If(p,b,D)}function xc(p,b){return p.parentNode(b)}function Af(p,b,D){return Lf(p,b,D)}function wf(p,b,D){return 40&p.type?Ii(p,D):null}let pd,wa,La,Ic,Lf=wf;function md(p,b){Lf=p,pd=b}function vu(p,b,D,L){const k=Tc(p,L,b),W=b[11],de=Af(L.parent||b[6],L,b);if(null!=k)if(Array.isArray(D))for(let Ee=0;Ee<D.length;Ee++)Rf(W,k,D[Ee],de,!1);else Rf(W,k,D,de,!1);void 0!==pd&&pd(W,L,b,D,k)}function Pi(p,b){if(null!==b){const D=b.type;if(3&D)return Ii(b,p);if(4&D)return Pc(-1,p[b.index]);if(8&D){const L=b.child;if(null!==L)return Pi(p,L);{const k=p[b.index];return gn(k)?Pc(-1,k):Mn(k)}}if(32&D)return It(b,p)()||Mn(p[b.index]);{const L=Dc(p,b);return null!==L?Array.isArray(L)?L[0]:Pi(mn(p[16]),L):Pi(p,b.next)}}return null}function Dc(p,b){return null!==b?p[16][6].projection[b.projection]:null}function Pc(p,b){const D=10+p+1;if(D<b.length){const L=b[D],k=L[1].firstChild;if(null!==k)return Pi(L,k)}return b[7]}function yu(p,b,D){const L=xc(p,b);L&&function $p(p,b,D,L){p.removeChild(b,D,L)}(p,L,b,D)}function Aa(p,b,D,L,k,W,q){for(;null!=D;){const de=L[D.index],Ee=D.type;if(q&&0===b&&(de&&Io(Mn(de),L),D.flags|=2),32!=(32&D.flags))if(8&Ee)Aa(p,b,D.child,L,k,W,!1),eo(b,p,k,de,W);else if(32&Ee){const We=It(D,L);let dt;for(;dt=We();)eo(b,p,k,dt,W);eo(b,p,k,de,W)}else 16&Ee?bu(p,b,L,D,k,W):eo(b,p,k,de,W);D=q?D.projectionNext:D.next}}function Gl(p,b,D,L,k,W){Aa(D,L,p.firstChild,b,k,W,!1)}function bu(p,b,D,L,k,W){const q=D[16],Ee=q[6].projection[L.projection];if(Array.isArray(Ee))for(let We=0;We<Ee.length;We++)eo(b,p,k,Ee[We],W);else Aa(p,b,Ee,q[3],k,W,!0)}function Yl(p,b,D){""===D?p.removeAttribute(b,"class"):p.setAttribute(b,"class",D)}function Cu(p,b,D){const{mergedAttrs:L,classes:k,styles:W}=D;null!==L&&vs(p,b,L),null!==k&&Yl(p,b,k),null!==W&&function zp(p,b,D){p.setAttribute(b,"style",D)}(p,b,W)}function tl(p){return function Su(){if(void 0===wa&&(wa=null,pt.trustedTypes))try{wa=pt.trustedTypes.createPolicy("angular",{createHTML:p=>p,createScript:p=>p,createScriptURL:p=>p})}catch{}return wa}()?.createHTML(p)||p}function Uf(p){La=p}function _d(){return void 0!==La?La:typeof document<"u"?document:void 0}function Ou(){if(void 0===Ic&&(Ic=null,pt.trustedTypes))try{Ic=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:p=>p,createScript:p=>p,createScriptURL:p=>p})}catch{}return Ic}function gd(p){return Ou()?.createHTML(p)||p}function vd(p){return Ou()?.createScriptURL(p)||p}class nl{constructor(b){this.changingThisBreaksApplicationSecurity=b}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${r})`}}class Hp extends nl{getTypeName(){return"HTML"}}class Vf extends nl{getTypeName(){return"Style"}}class jf extends nl{getTypeName(){return"Script"}}class $f extends nl{getTypeName(){return"URL"}}class Gp extends nl{getTypeName(){return"ResourceURL"}}function sa(p){return p instanceof nl?p.changingThisBreaksApplicationSecurity:p}function El(p,b){const D=function Yp(p){return p instanceof nl&&p.getTypeName()||null}(p);if(null!=D&&D!==b){if("ResourceURL"===D&&"URL"===b)return!0;throw new Error(`Required a safe ${b}, got a ${D} (see ${r})`)}return D===b}function Wf(p){return new Hp(p)}function Kf(p){return new Vf(p)}function Qp(p){return new jf(p)}function Jp(p){return new $f(p)}function zf(p){return new Gp(p)}function Zf(p){const b=new qp(p);return function Hf(){try{return!!(new window.DOMParser).parseFromString(tl(""),"text/html")}catch{return!1}}()?new Xp(b):b}class Xp{constructor(b){this.inertDocumentHelper=b}getInertBodyElement(b){b="<body><remove></remove>"+b;try{const D=(new window.DOMParser).parseFromString(tl(b),"text/html").body;return null===D?this.inertDocumentHelper.getInertBodyElement(b):(D.removeChild(D.firstChild),D)}catch{return null}}}class qp{constructor(b){if(this.defaultDoc=b,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const D=this.inertDocument.createElement("html");this.inertDocument.appendChild(D);const L=this.inertDocument.createElement("body");D.appendChild(L)}}getInertBodyElement(b){const D=this.inertDocument.createElement("template");if("content"in D)return D.innerHTML=tl(b),D;const L=this.inertDocument.createElement("body");return L.innerHTML=tl(b),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(L),L}stripCustomNsAttrs(b){const D=b.attributes;for(let k=D.length-1;0<k;k--){const q=D.item(k).name;("xmlns:ns1"===q||0===q.indexOf("ns1:"))&&b.removeAttribute(q)}let L=b.firstChild;for(;L;)L.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(L),L=L.nextSibling}}const yd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Rc(p){return(p=String(p)).match(yd)?p:"unsafe:"+p}function ts(p){const b={};for(const D of p.split(","))b[D]=!0;return b}function Cl(...p){const b={};for(const D of p)for(const L in D)D.hasOwnProperty(L)&&(b[L]=!0);return b}const bd=ts("area,br,col,hr,img,wbr"),Ed=ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cd=ts("rp,rt"),Tu=Cl(bd,Cl(Ed,ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cl(Cd,ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cl(Cd,Ed)),Mu=ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xu=Cl(Mu,ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sd=ts("script,style,template");class Yf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(b){let D=b.firstChild,L=!0;for(;D;)if(D.nodeType===Node.ELEMENT_NODE?L=this.startElement(D):D.nodeType===Node.TEXT_NODE?this.chars(D.nodeValue):this.sanitizedSomething=!0,L&&D.firstChild)D=D.firstChild;else for(;D;){D.nodeType===Node.ELEMENT_NODE&&this.endElement(D);let k=this.checkClobberedElement(D,D.nextSibling);if(k){D=k;break}D=this.checkClobberedElement(D,D.parentNode)}return this.buf.join("")}startElement(b){const D=b.nodeName.toLowerCase();if(!Tu.hasOwnProperty(D))return this.sanitizedSomething=!0,!Sd.hasOwnProperty(D);this.buf.push("<"),this.buf.push(D);const L=b.attributes;for(let k=0;k<L.length;k++){const W=L.item(k),q=W.name,de=q.toLowerCase();if(!xu.hasOwnProperty(de)){this.sanitizedSomething=!0;continue}let Ee=W.value;Mu[de]&&(Ee=Rc(Ee)),this.buf.push(" ",q,'="',Od(Ee),'"')}return this.buf.push(">"),!0}endElement(b){const D=b.nodeName.toLowerCase();Tu.hasOwnProperty(D)&&!bd.hasOwnProperty(D)&&(this.buf.push("</"),this.buf.push(D),this.buf.push(">"))}chars(b){this.buf.push(Od(b))}checkClobberedElement(b,D){if(D&&(b.compareDocumentPosition(D)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${b.outerHTML}`);return D}}const Qf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sl=/([^\#-~ |!])/g;function Od(p){return p.replace(/&/g,"&amp;").replace(Qf,function(b){return"&#"+(1024*(b.charCodeAt(0)-55296)+(b.charCodeAt(1)-56320)+65536)+";"}).replace(Sl,function(b){return"&#"+b.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ql;function ol(p,b){let D=null;try{Ql=Ql||Zf(p);let L=b?String(b):"";D=Ql.getInertBodyElement(L);let k=5,W=L;do{if(0===k)throw new Error("Failed to sanitize html because the input is unstable");k--,L=W,W=D.innerHTML,D=Ql.getInertBodyElement(L)}while(L!==W);return tl((new Yf).sanitizeChildren(Du(D)||D))}finally{if(D){const L=Du(D)||D;for(;L.firstChild;)L.removeChild(L.firstChild)}}}function Du(p){return"content"in p&&function Jf(p){return p.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===p.nodeName}(p)?p.content:null}var bo=(()=>((bo=bo||{})[bo.NONE=0]="NONE",bo[bo.HTML=1]="HTML",bo[bo.STYLE=2]="STYLE",bo[bo.SCRIPT=3]="SCRIPT",bo[bo.URL=4]="URL",bo[bo.RESOURCE_URL=5]="RESOURCE_URL",bo))();function Pu(p){const b=Jl();return b?gd(b.sanitize(bo.HTML,p)||""):El(p,"HTML")?gd(sa(p)):ol(_d(),I(p))}function Ac(p){const b=Jl();return b?b.sanitize(bo.URL,p)||"":El(p,"URL")?sa(p):Rc(I(p))}function Iu(p){const b=Jl();if(b)return vd(b.sanitize(bo.RESOURCE_URL,p)||"");if(El(p,"ResourceURL"))return vd(sa(p));throw new o(904,!1)}function Md(p,b,D){return function eh(p,b){return"src"===b&&("embed"===p||"frame"===p||"iframe"===p||"media"===p||"script"===p)||"href"===b&&("base"===p||"link"===p)?Iu:Ac}(b,D)(p)}function Jl(){const p=_n();return p&&p[12]}const wc=new ki("ENVIRONMENT_INITIALIZER"),Ru=new ki("INJECTOR",-1),Tl=new ki("INJECTOR_DEF_TYPES");class xd{get(b,D=At){if(D===At){const L=new Error(`NullInjectorError: No provider for ${_(b)}!`);throw L.name="NullInjectorError",L}return D}}function th(p){return{\u0275providers:p}}function nh(...p){return{\u0275providers:Dd(0,p),\u0275fromNgModule:!0}}function Dd(p,...b){const D=[],L=new Set;let k;return na(b,W=>{const q=W;Au(q,D,[],L)&&(k||(k=[]),k.push(q))}),void 0!==k&&Pd(k,D),D}function Pd(p,b){for(let D=0;D<p.length;D++){const{providers:k}=p[D];wu(k,W=>{b.push(W)})}}function Au(p,b,D,L){if(!(p=d(p)))return!1;let k=null,W=Ye(p);const q=!W&&yn(p);if(W||q){if(q&&!q.standalone)return!1;k=p}else{const Ee=p.ngModule;if(W=Ye(Ee),!W)return!1;k=Ee}const de=L.has(k);if(q){if(de)return!1;if(L.add(k),q.dependencies){const Ee="function"==typeof q.dependencies?q.dependencies():q.dependencies;for(const We of Ee)Au(We,b,D,L)}}else{if(!W)return!1;{if(null!=W.imports&&!de){let We;L.add(k);try{na(W.imports,dt=>{Au(dt,b,D,L)&&(We||(We=[]),We.push(dt))})}finally{}void 0!==We&&Pd(We,b)}if(!de){const We=go(k)||(()=>new k);b.push({provide:k,useFactory:We,deps:_t},{provide:Tl,useValue:k,multi:!0},{provide:wc,useValue:()=>J(k),multi:!0})}const Ee=W.providers;null==Ee||de||wu(Ee,dt=>{b.push(dt)})}}return k!==p&&void 0!==p.providers}function wu(p,b){for(let D of p)a(D)&&(D=D.\u0275providers),Array.isArray(D)?wu(D,b):b(D)}const sm=i({provide:String,useValue:i});function Id(p){return null!==p&&"object"==typeof p&&sm in p}function Ml(p){return"function"==typeof p}const Lc=new ki("Set Injector scope."),Nc={},rh={};let Lu;function Xl(){return void 0===Lu&&(Lu=new xd),Lu}class rl{}class Nu extends rl{constructor(b,D,L,k){super(),this.parent=D,this.source=L,this.scopes=k,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kc(b,q=>this.processProvider(q)),this.records.set(Ru,sl(void 0,this)),k.has("environment")&&this.records.set(rl,sl(void 0,this));const W=this.records.get(Lc);null!=W&&"string"==typeof W.value&&this.scopes.add(W.value),this.injectorDefTypes=new Set(this.get(Tl.multi,_t,me.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const b of this._ngOnDestroyHooks)b.ngOnDestroy();for(const b of this._onDestroyHooks)b()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(b){this._onDestroyHooks.push(b)}runInContext(b){this.assertNotDestroyed();const D=le(this),L=ee(void 0);try{return b()}finally{le(D),ee(L)}}get(b,D=At,L=me.Default){this.assertNotDestroyed(),L=Qe(L);const k=le(this),W=ee(void 0);try{if(!(L&me.SkipSelf)){let de=this.records.get(b);if(void 0===de){const Ee=function uh(p){return"function"==typeof p||"object"==typeof p&&p instanceof ki}(b)&&He(b);de=Ee&&this.injectableDefInScope(Ee)?sl(Fc(b),Nc):null,this.records.set(b,de)}if(null!=de)return this.hydrate(b,de)}return(L&me.Self?Xl():this.parent).get(b,D=L&me.Optional&&D===At?null:D)}catch(q){if("NullInjectorError"===q.name){if((q[Et]=q[Et]||[]).unshift(_(b)),k)throw q;return function an(p,b,D,L){const k=p[Et];throw b[Ke]&&k.unshift(b[Ke]),p.message=function vn(p,b,D,L=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.slice(2):p;let k=_(b);if(Array.isArray(b))k=b.map(_).join(" -> ");else if("object"==typeof b){let W=[];for(let q in b)if(b.hasOwnProperty(q)){let de=b[q];W.push(q+":"+("string"==typeof de?JSON.stringify(de):_(de)))}k=`{${W.join(", ")}}`}return`${D}${L?"("+L+")":""}[${k}]: ${p.replace(ct,"\n  ")}`}("\n"+p.message,k,D,L),p.ngTokenPath=k,p[Et]=null,p}(q,b,"R3InjectorError",this.source)}throw q}finally{ee(W),le(k)}}resolveInjectorInitializers(){const b=le(this),D=ee(void 0);try{const L=this.get(wc.multi,_t,me.Self);for(const k of L)k()}finally{le(b),ee(D)}}toString(){const b=[],D=this.records;for(const L of D.keys())b.push(_(L));return`R3Injector[${b.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new o(205,!1)}processProvider(b){let D=Ml(b=d(b))?b:d(b&&b.provide);const L=function ah(p){return Id(p)?sl(void 0,p.useValue):sl(Rd(p),Nc)}(b);if(Ml(b)||!0!==b.multi)this.records.get(D);else{let k=this.records.get(D);k||(k=sl(void 0,Nc,!0),k.factory=()=>Tt(k.multi),this.records.set(D,k)),D=b,k.multi.push(b)}this.records.set(D,L)}hydrate(b,D){return D.value===Nc&&(D.value=rh,D.value=D.factory()),"object"==typeof D.value&&D.value&&function ch(p){return null!==p&&"object"==typeof p&&"function"==typeof p.ngOnDestroy}(D.value)&&this._ngOnDestroyHooks.add(D.value),D.value}injectableDefInScope(b){if(!b.providedIn)return!1;const D=d(b.providedIn);return"string"==typeof D?"any"===D||this.scopes.has(D):this.injectorDefTypes.has(D)}}function Fc(p){const b=He(p),D=null!==b?b.factory:go(p);if(null!==D)return D;if(p instanceof ki)throw new o(204,!1);if(p instanceof Function)return function sh(p){const b=p.length;if(b>0)throw Y(b,"?"),new o(204,!1);const D=function Be(p){const b=p&&(p[et]||p[ge]);if(b){const D=function lt(p){if(p.hasOwnProperty("name"))return p.name;const b=(""+p).match(/^function\s*([^\s(]+)/);return null===b?"":b[1]}(p);return console.warn(`DEPRECATED: DI is instantiating a token "${D}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${D}" class.`),b}return null}(p);return null!==D?()=>D.factory(p):()=>new p}(p);throw new o(204,!1)}function Rd(p,b,D){let L;if(Ml(p)){const k=d(p);return go(k)||Fc(k)}if(Id(p))L=()=>d(p.useValue);else if(function oh(p){return!(!p||!p.useFactory)}(p))L=()=>p.useFactory(...Tt(p.deps||[]));else if(function ih(p){return!(!p||!p.useExisting)}(p))L=()=>J(d(p.useExisting));else{const k=d(p&&(p.useClass||p.provide));if(!function lh(p){return!!p.deps}(p))return go(k)||Fc(k);L=()=>new k(...Tt(p.deps))}return L}function sl(p,b,D=!1){return{factory:p,value:b,multi:D?[]:void 0}}function kc(p,b){for(const D of p)Array.isArray(D)?kc(D,b):D&&a(D)?kc(D.\u0275providers,b):b(D)}class Ad{}class Fu{}class fh{resolveComponentFactory(b){throw function lm(p){const b=Error(`No component factory found for ${_(p)}. Did you add it to @NgModule.entryComponents?`);return b.ngComponent=p,b}(b)}}let ql=(()=>{class p{}return p.NULL=new fh,p})();function cm(){return ec(Ni(),_n())}function ec(p,b){return new Uc(Ii(p,b))}let Uc=(()=>{class p{constructor(D){this.nativeElement=D}}return p.__NG_ELEMENT_ID__=cm,p})();function um(p){return p instanceof Uc?p.nativeElement:p}class ku{}let hh=(()=>{class p{}return p.__NG_ELEMENT_ID__=()=>function tc(){const p=_n(),D=Qi(Ni().index,p);return(Pt(D)?D:p)[11]}(),p})(),ph=(()=>{class p{}return p.\u0275prov=xe({token:p,providedIn:"root",factory:()=>null}),p})();class wd{constructor(b){this.full=b,this.major=b.split(".")[0],this.minor=b.split(".")[1],this.patch=b.split(".").slice(2).join(".")}}const Ld=new wd("15.0.4"),Bu={};function Vu(p){return p.ngOriginalError}class aa{constructor(){this._console=console}handleError(b){const D=this._findOriginalError(b);this._console.error("ERROR",b),D&&this._console.error("ORIGINAL ERROR",D)}_findOriginalError(b){let D=b&&Vu(b);for(;D&&Vu(D);)D=Vu(D);return D||null}}function gr(p){return p.ownerDocument.defaultView}function nc(p){return p.ownerDocument}function la(p){return p instanceof Function?p():p}function kd(p,b,D){let L=p.length;for(;;){const k=p.indexOf(b,D);if(-1===k)return k;if(0===k||p.charCodeAt(k-1)<=32){const W=b.length;if(k+W===L||p.charCodeAt(k+W)<=32)return k}D=k+1}}const $u="ng-template";function Bd(p,b,D){let L=0;for(;L<p.length;){let k=p[L++];if(D&&"class"===k){if(k=p[L],-1!==kd(k.toLowerCase(),b,0))return!0}else if(1===k){for(;L<p.length&&"string"==typeof(k=p[L++]);)if(k.toLowerCase()===b)return!0;return!1}}return!1}function Ud(p){return 4===p.type&&p.value!==$u}function vh(p,b,D){return b===(4!==p.type||D?p.value:$u)}function yh(p,b,D){let L=4;const k=p.attrs||[],W=function Ch(p){for(let b=0;b<p.length;b++)if(Ns(p[b]))return b;return p.length}(k);let q=!1;for(let de=0;de<b.length;de++){const Ee=b[de];if("number"!=typeof Ee){if(!q)if(4&L){if(L=2|1&L,""!==Ee&&!vh(p,Ee,D)||""===Ee&&1===b.length){if(Ps(L))return!1;q=!0}}else{const We=8&L?Ee:b[++de];if(8&L&&null!==p.attrs){if(!Bd(p.attrs,We,D)){if(Ps(L))return!1;q=!0}continue}const Mt=bh(8&L?"class":Ee,k,Ud(p),D);if(-1===Mt){if(Ps(L))return!1;q=!0;continue}if(""!==We){let $t;$t=Mt>W?"":k[Mt+1].toLowerCase();const qt=8&L?$t:null;if(qt&&-1!==kd(qt,We,0)||2&L&&We!==$t){if(Ps(L))return!1;q=!0}}}}else{if(!q&&!Ps(L)&&!Ps(Ee))return!1;if(q&&Ps(Ee))continue;q=!1,L=Ee|1&L}}return Ps(L)||q}function Ps(p){return 0==(1&p)}function bh(p,b,D,L){if(null===b)return-1;let k=0;if(L||!D){let W=!1;for(;k<b.length;){const q=b[k];if(q===p)return k;if(3===q||6===q)W=!0;else{if(1===q||2===q){let de=b[++k];for(;"string"==typeof de;)de=b[++k];continue}if(4===q)break;if(0===q){k+=4;continue}}k+=W?1:2}return-1}return function hm(p,b){let D=p.indexOf(4);if(D>-1)for(D++;D<p.length;){const L=p[D];if("number"==typeof L)return-1;if(L===b)return D;D++}return-1}(b,p)}function Vd(p,b,D=!1){for(let L=0;L<b.length;L++)if(yh(p,b[L],D))return!0;return!1}function oc(p,b){e:for(let D=0;D<b.length;D++){const L=b[D];if(p.length===L.length){for(let k=0;k<p.length;k++)if(p[k]!==L[k])continue e;return!0}}return!1}function jd(p,b){return p?":not("+b.trim()+")":b}function Sh(p){let b=p[0],D=1,L=2,k="",W=!1;for(;D<p.length;){let q=p[D];if("string"==typeof q)if(2&L){const de=p[++D];k+="["+q+(de.length>0?'="'+de+'"':"")+"]"}else 8&L?k+="."+q:4&L&&(k+=" "+q);else""!==k&&!Ps(q)&&(b+=jd(W,k),k=""),L=q,W=W||!Ps(L);D++}return""!==k&&(b+=jd(W,k)),b}const bi={};function $d(p){Wd(Ti(),_n(),xn()+p,!1)}function Wd(p,b,D,L){if(!L)if(3==(3&b[2])){const W=p.preOrderCheckHooks;null!==W&&tn(b,W,D)}else{const W=p.preOrderHooks;null!==W&&ln(b,W,0,D)}ui(D)}function Zd(p,b=null,D=null,L){const k=al(p,b,D,L);return k.resolveInjectorInitializers(),k}function al(p,b=null,D=null,L,k=new Set){const W=[D||_t,nh(p)];return L=L||("object"==typeof p?void 0:_(p)),new Nu(W,b||Xl(),L||null,k)}let U=(()=>{class p{static create(D,L){if(Array.isArray(D))return Zd({name:""},L,D,"");{const k=D.name??"";return Zd({name:k},D.parent,D.providers,k)}}}return p.THROW_IF_NOT_FOUND=At,p.NULL=new xd,p.\u0275prov=xe({token:p,providedIn:"any",factory:()=>J(Ru)}),p.__NG_ELEMENT_ID__=-1,p})();function Yn(p,b=me.Default){const D=_n();return null===D?J(p,b):ga(Ni(),D,d(p),b)}function ni(){throw new Error("invalid")}function Li(p,b){const D=p.contentQueries;if(null!==D)for(let L=0;L<D.length;L+=2){const k=D[L],W=D[L+1];if(-1!==W){const q=p.data[W];qo(k),q.contentQueries(2,b[W],W)}}}function yr(p,b,D,L,k,W,q,de,Ee,We,dt){const Mt=b.blueprint.slice();return Mt[0]=k,Mt[2]=76|L,(null!==dt||p&&1024&p[2])&&(Mt[2]|=1024),No(Mt),Mt[3]=Mt[15]=p,Mt[8]=D,Mt[10]=q||p&&p[10],Mt[11]=de||p&&p[11],Mt[12]=Ee||p&&p[12]||null,Mt[9]=We||p&&p[9]||null,Mt[6]=W,Mt[20]=function pu(){return hu++}(),Mt[21]=dt,Mt[16]=2==b.type?p[16]:Mt,Mt}function ns(p,b,D,L,k){let W=p.data[b];if(null===W)W=oo(p,b,D,L,k),function Ls(){return Oe.lFrame.inI18n}()&&(W.flags|=32);else if(64&W.type){W.type=D,W.value=L,W.attrs=k;const q=Yr();W.injectorIndex=null===q?-1:q.injectorIndex}return jo(W,!0),W}function oo(p,b,D,L,k){const W=Fo(),q=Hs(),Ee=p.data[b]=function Qv(p,b,D,L,k,W){return{type:D,index:L,insertBeforeIndex:null,injectorIndex:b?b.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:k,attrs:W,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:b,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,q?W:W&&W.parent,D,b,L,k);return null===p.firstChild&&(p.firstChild=Ee),null!==W&&(q?null==W.child&&null!==Ee.parent&&(W.child=Ee):null===W.next&&(W.next=Ee)),Ee}function Rl(p,b,D,L){if(0===D)return-1;const k=b.length;for(let W=0;W<D;W++)b.push(L),p.blueprint.push(L),p.data.push(null);return k}function Ku(p,b,D){xo(b);try{const L=p.viewQuery;null!==L&&Nh(1,L,D);const k=p.template;null!==k&&Na(p,b,k,1,D),p.firstCreatePass&&(p.firstCreatePass=!1),p.staticContentQueries&&Li(p,b),p.staticViewQueries&&Nh(2,p.viewQuery,D);const W=p.components;null!==W&&function Ks(p,b){for(let D=0;D<b.length;D++)my(p,b[D])}(b,W)}catch(L){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),L}finally{b[2]&=-5,Xt()}}function ko(p,b,D,L){const k=b[2];if(128!=(128&k)){xo(b);try{No(b),function Gs(p){return Oe.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==D&&Na(p,b,D,2,L);const q=3==(3&k);if(q){const We=p.preOrderCheckHooks;null!==We&&tn(b,We,null)}else{const We=p.preOrderHooks;null!==We&&ln(b,We,0,null),jn(b,0)}if(function hy(p){for(let b=yi(p);null!==b;b=Bi(b)){if(!b[2])continue;const D=b[9];for(let L=0;L<D.length;L++){const k=D[L],W=k[3];0==(512&k[2])&&De(W,1),k[2]|=512}}}(b),function fy(p){for(let b=yi(p);null!==b;b=Bi(b))for(let D=10;D<b.length;D++){const L=b[D],k=L[1];Lo(L)&&ko(k,L,k.template,L[8])}}(b),null!==p.contentQueries&&Li(p,b),q){const We=p.contentCheckHooks;null!==We&&tn(b,We)}else{const We=p.contentHooks;null!==We&&ln(b,We,1),jn(b,1)}!function _i(p,b){const D=p.hostBindingOpCodes;if(null!==D)try{for(let L=0;L<D.length;L++){const k=D[L];if(k<0)ui(~k);else{const W=k,q=D[++L],de=D[++L];hr(q,W),de(2,b[W])}}}finally{ui(-1)}}(p,b);const de=p.components;null!==de&&function Go(p,b){for(let D=0;D<b.length;D++)py(p,b[D])}(b,de);const Ee=p.viewQuery;if(null!==Ee&&Nh(2,Ee,L),q){const We=p.viewCheckHooks;null!==We&&tn(b,We)}else{const We=p.viewHooks;null!==We&&ln(b,We,2),jn(b,2)}!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),b[2]&=-41,512&b[2]&&(b[2]&=-513,De(b[3],-1))}finally{Xt()}}}function Na(p,b,D,L,k){const W=xn(),q=2&L;try{ui(-1),q&&b.length>22&&Wd(p,b,22,!1),D(L,k)}finally{ui(W)}}function Zr(p,b,D){if(oi(b)){const k=b.directiveEnd;for(let W=b.directiveStart;W<k;W++){const q=p.data[W];q.contentQueries&&q.contentQueries(1,D[W],W)}}}function Al(p,b,D){!To()||(function ny(p,b,D,L){const k=D.directiveStart,W=D.directiveEnd;Yi(D)&&function cy(p,b,D){const L=Ii(b,p),k=_m(D),W=p[10],q=Gd(p,yr(p,k,null,D.onPush?32:16,L,b,W,W.createRenderer(L,D),null,null,null));p[b.index]=q}(b,D,p.data[k+D.componentOffset]),p.firstCreatePass||Wa(D,b),Io(L,b);const q=D.initialInputs;for(let de=k;de<W;de++){const Ee=p.data[de],We=Cs(b,p,de,D);Io(We,b),null!==q&&uy(0,de-k,We,Ee,0,q),Zi(Ee)&&(Qi(D.index,b)[8]=Cs(b,p,de,D))}}(p,b,D,Ii(D,b)),64==(64&D.flags)&&Cm(p,b,D))}function sc(p,b,D=Ii){const L=b.localNames;if(null!==L){let k=b.index+1;for(let W=0;W<L.length;W+=2){const q=L[W+1],de=-1===q?D(b,p):p[q];p[k++]=de}}}function _m(p){const b=p.tView;return null===b||b.incompleteFirstPass?p.tView=Ph(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts):b}function Ph(p,b,D,L,k,W,q,de,Ee,We){const dt=22+L,Mt=dt+k,$t=function Gv(p,b){const D=[];for(let L=0;L<b;L++)D.push(L<p?null:bi);return D}(dt,Mt),qt="function"==typeof We?We():We;return $t[1]={type:p,blueprint:$t,template:D,queries:null,viewQuery:de,declTNode:b,data:$t.slice().fill(null,dt),bindingStartIndex:dt,expandoStartIndex:Mt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof W?W():W,pipeRegistry:"function"==typeof q?q():q,firstChild:null,schemas:Ee,consts:qt,incompleteFirstPass:!1}}function gm(p,b,D,L){const k=Om(b);null===D?k.push(L):(k.push(D),p.firstCreatePass&&Tm(p).push(L,k.length-1))}function vm(p,b,D,L){for(let k in p)if(p.hasOwnProperty(k)){D=null===D?{}:D;const W=p[k];null===L?ym(D,b,k,W):L.hasOwnProperty(k)&&ym(D,b,L[k],W)}return D}function ym(p,b,D,L){p.hasOwnProperty(D)?p[D].push(b,L):p[D]=[b,L]}function Is(p,b,D,L,k,W,q,de){const Ee=Ii(b,D);let dt,We=b.inputs;!de&&null!=We&&(dt=We[L])?(Fh(p,D,dt,L,k),Yi(b)&&bm(D,b.index)):3&b.type&&(L=function Xv(p){return"class"===p?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p}(L),k=null!=q?q(k,b.value||"",L):k,W.setProperty(Ee,L,k))}function bm(p,b){const D=Qi(b,p);16&D[2]||(D[2]|=32)}function Ih(p,b,D,L){let k=!1;if(To()){const W=null===L?null:{"":-1},q=function oy(p,b){const D=p.directiveRegistry;let L=null,k=null;if(D)for(let W=0;W<D.length;W++){const q=D[W];if(Vd(b,q.selectors,!1))if(L||(L=[]),Zi(q))if(null!==q.findHostDirectiveDefs){const de=[];k=k||new Map,q.findHostDirectiveDefs(q,de,k),L.unshift(...de,q),Rh(p,b,de.length)}else L.unshift(q),Rh(p,b,0);else k=k||new Map,q.findHostDirectiveDefs?.(q,L,k),L.push(q)}return null===L?null:[L,k]}(p,D);let de,Ee;null===q?de=Ee=null:[de,Ee]=q,null!==de&&(k=!0,Em(p,b,D,de,W,Ee)),W&&function ry(p,b,D){if(b){const L=p.localNames=[];for(let k=0;k<b.length;k+=2){const W=D[b[k+1]];if(null==W)throw new o(-301,!1);L.push(b[k],W)}}}(D,L,W)}return D.mergedAttrs=ys(D.mergedAttrs,D.attrs),k}function Em(p,b,D,L,k,W){for(let We=0;We<L.length;We++)kl(Wa(D,b),p,L[We].type);!function ay(p,b,D){p.flags|=1,p.directiveStart=b,p.directiveEnd=b+D,p.providerIndexes=b}(D,p.data.length,L.length);for(let We=0;We<L.length;We++){const dt=L[We];dt.providersResolver&&dt.providersResolver(dt)}let q=!1,de=!1,Ee=Rl(p,b,L.length,null);for(let We=0;We<L.length;We++){const dt=L[We];D.mergedAttrs=ys(D.mergedAttrs,dt.hostAttrs),ly(p,D,b,Ee,dt),sy(Ee,dt,k),null!==dt.contentQueries&&(D.flags|=4),(null!==dt.hostBindings||null!==dt.hostAttrs||0!==dt.hostVars)&&(D.flags|=64);const Mt=dt.type.prototype;!q&&(Mt.ngOnChanges||Mt.ngOnInit||Mt.ngDoCheck)&&((p.preOrderHooks||(p.preOrderHooks=[])).push(D.index),q=!0),!de&&(Mt.ngOnChanges||Mt.ngDoCheck)&&((p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(D.index),de=!0),Ee++}!function Jv(p,b,D){const k=b.directiveEnd,W=p.data,q=b.attrs,de=[];let Ee=null,We=null;for(let dt=b.directiveStart;dt<k;dt++){const Mt=W[dt],$t=D?D.get(Mt):null,dn=$t?$t.outputs:null;Ee=vm(Mt.inputs,dt,Ee,$t?$t.inputs:null),We=vm(Mt.outputs,dt,We,dn);const In=null===Ee||null===q||Ud(b)?null:dy(Ee,dt,q);de.push(In)}null!==Ee&&(Ee.hasOwnProperty("class")&&(b.flags|=8),Ee.hasOwnProperty("style")&&(b.flags|=16)),b.initialInputs=de,b.inputs=Ee,b.outputs=We}(p,D,W)}function Cm(p,b,D){const L=D.directiveStart,k=D.directiveEnd,W=D.index,q=function Qr(){return Oe.lFrame.currentDirectiveIndex}();try{ui(W);for(let de=L;de<k;de++){const Ee=p.data[de],We=b[de];pr(de),(null!==Ee.hostBindings||0!==Ee.hostVars||null!==Ee.hostAttrs)&&iy(Ee,We)}}finally{ui(-1),pr(q)}}function iy(p,b){null!==p.hostBindings&&p.hostBindings(1,b)}function Rh(p,b,D){b.componentOffset=D,(p.components||(p.components=[])).push(b.index)}function sy(p,b,D){if(D){if(b.exportAs)for(let L=0;L<b.exportAs.length;L++)D[b.exportAs[L]]=p;Zi(b)&&(D[""]=p)}}function ly(p,b,D,L,k){p.data[L]=k;const W=k.factory||(k.factory=go(k.type)),q=new mi(W,Zi(k),Yn);p.blueprint[L]=q,D[L]=q,function ey(p,b,D,L,k){const W=k.hostBindings;if(W){let q=p.hostBindingOpCodes;null===q&&(q=p.hostBindingOpCodes=[]);const de=~b.index;(function ty(p){let b=p.length;for(;b>0;){const D=p[--b];if("number"==typeof D&&D<0)return D}return 0})(q)!=de&&q.push(de),q.push(D,L,W)}}(p,b,L,Rl(p,D,k.hostVars,bi),k)}function Ah(p,b,D,L,k,W,q){if(null==W)p.removeAttribute(b,k,D);else{const de=null==q?I(W):q(W,L||"",k);p.setAttribute(b,k,de,D)}}function uy(p,b,D,L,k,W){const q=W[b];if(null!==q){const de=L.setInput;for(let Ee=0;Ee<q.length;){const We=q[Ee++],dt=q[Ee++],Mt=q[Ee++];null!==de?L.setInput(D,Mt,We,dt):D[dt]=Mt}}}function dy(p,b,D){let L=null,k=0;for(;k<D.length;){const W=D[k];if(0!==W)if(5!==W){if("number"==typeof W)break;if(p.hasOwnProperty(W)){null===L&&(L=[]);const q=p[W];for(let de=0;de<q.length;de+=2)if(q[de]===b){L.push(W,q[de+1],D[k+1]);break}}k+=2}else k+=2;else k+=4}return L}function Sm(p,b,D,L){return[p,!0,!1,b,null,0,L,D,null,null]}function py(p,b){const D=Qi(b,p);if(Lo(D)){const L=D[1];48&D[2]?ko(L,D,L.template,D[8]):D[5]>0&&wh(D)}}function wh(p){for(let L=yi(p);null!==L;L=Bi(L))for(let k=10;k<L.length;k++){const W=L[k];if(Lo(W))if(512&W[2]){const q=W[1];ko(q,W,q.template,W[8])}else W[5]>0&&wh(W)}const D=p[1].components;if(null!==D)for(let L=0;L<D.length;L++){const k=Qi(D[L],p);Lo(k)&&k[5]>0&&wh(k)}}function my(p,b){const D=Qi(b,p),L=D[1];(function _y(p,b){for(let D=b.length;D<p.blueprint.length;D++)b.push(p.blueprint[D])})(L,D),Ku(L,D,D[8])}function Gd(p,b){return p[13]?p[14][4]=b:p[13]=b,p[14]=b,b}function Lh(p){for(;p;){p[2]|=32;const b=mn(p);if(ar(p)&&!b)return p;p=b}return null}function Yd(p,b,D,L=!0){const k=b[10];k.begin&&k.begin();try{ko(p,b,p.template,D)}catch(q){throw L&&xm(b,q),q}finally{k.end&&k.end()}}function Nh(p,b,D){qo(0),b(p,D)}function Om(p){return p[7]||(p[7]=[])}function Tm(p){return p.cleanup||(p.cleanup=[])}function Mm(p,b,D){return(null===p||Zi(p))&&(D=function kr(p){for(;Array.isArray(p);){if("object"==typeof p[1])return p;p=p[0]}return null}(D[b.index])),D[11]}function xm(p,b){const D=p[9],L=D?D.get(aa,null):null;L&&L.handleError(b)}function Fh(p,b,D,L,k){for(let W=0;W<D.length;){const q=D[W++],de=D[W++],Ee=b[q],We=p.data[q];null!==We.setInput?We.setInput(Ee,k,L,de):Ee[de]=k}}function ll(p,b,D){const L=So(b,p);yl(p[11],L,D)}function Qd(p,b,D){let L=D?p.styles:null,k=D?p.classes:null,W=0;if(null!==b)for(let q=0;q<b.length;q++){const de=b[q];"number"==typeof de?W=de:1==W?k=l(k,de):2==W&&(L=l(L,de+": "+b[++q]+";"))}D?p.styles=L:p.stylesWithoutHost=L,D?p.classes=k:p.classesWithoutHost=k}function Jd(p,b,D,L,k=!1){for(;null!==D;){const W=b[D.index];if(null!==W&&L.push(Mn(W)),gn(W))for(let de=10;de<W.length;de++){const Ee=W[de],We=Ee[1].firstChild;null!==We&&Jd(Ee[1],Ee,We,L)}const q=D.type;if(8&q)Jd(p,b,D.child,L);else if(32&q){const de=It(D,b);let Ee;for(;Ee=de();)L.push(Ee)}else if(16&q){const de=Dc(b,D);if(Array.isArray(de))L.push(...de);else{const Ee=mn(b[16]);Jd(Ee[1],Ee,de,L,!0)}}D=k?D.projectionNext:D.next}return L}class zu{constructor(b,D){this._lView=b,this._cdRefInjectingView=D,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const b=this._lView,D=b[1];return Jd(D,b,D.firstChild,[])}get context(){return this._lView[8]}set context(b){this._lView[8]=b}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const b=this._lView[3];if(gn(b)){const D=b[8],L=D?D.indexOf(this):-1;L>-1&&(_u(b,L),ae(D,L))}this._attachedToViewContainer=!1}hd(this._lView[1],this._lView)}onDestroy(b){gm(this._lView[1],this._lView,null,b)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Yd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new o(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mf(p,b){Gl(p,b,b[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(b){if(this._attachedToViewContainer)throw new o(902,!1);this._appRef=b}}class gy extends zu{constructor(b){super(b),this._view=b}detectChanges(){const b=this._view;Yd(b[1],b,b[8],!1)}checkNoChanges(){}get context(){return null}}class Dm extends ql{constructor(b){super(),this.ngModule=b}resolveComponentFactory(b){const D=yn(b);return new Zu(D,this.ngModule)}}function Pm(p){const b=[];for(let D in p)p.hasOwnProperty(D)&&b.push({propName:p[D],templateName:D});return b}class yy{constructor(b,D){this.injector=b,this.parentInjector=D}get(b,D,L){L=Qe(L);const k=this.injector.get(b,Bu,L);return k!==Bu||D===Bu?k:this.parentInjector.get(b,D,L)}}class Zu extends Fu{constructor(b,D){super(),this.componentDef=b,this.ngModule=D,this.componentType=b.type,this.selector=function Oh(p){return p.map(Sh).join(",")}(b.selectors),this.ngContentSelectors=b.ngContentSelectors?b.ngContentSelectors:[],this.isBoundToModule=!!D}get inputs(){return Pm(this.componentDef.inputs)}get outputs(){return Pm(this.componentDef.outputs)}create(b,D,L,k){let W=(k=k||this.ngModule)instanceof rl?k:k?.injector;W&&null!==this.componentDef.getStandaloneInjector&&(W=this.componentDef.getStandaloneInjector(W)||W);const q=W?new yy(b,W):b,de=q.get(ku,null);if(null===de)throw new o(407,!1);const Ee=q.get(ph,null),We=de.createRenderer(null,this.componentDef),dt=this.componentDef.selectors[0][0]||"div",Mt=L?function Yv(p,b,D){return p.selectRootElement(b,D===wt.ShadowDom)}(We,L,this.componentDef.encapsulation):Ia(We,dt,function vy(p){const b=p.toLowerCase();return"svg"===b?"svg":"math"===b?"math":null}(dt)),$t=this.componentDef.onPush?288:272,qt=Ph(0,null,null,1,0,null,null,null,null,null),dn=yr(null,qt,null,$t,null,null,de,We,Ee,q,null);let In,Vn;xo(dn);try{const Xn=this.componentDef;let gi,Sn=null;Xn.findHostDirectiveDefs?(gi=[],Sn=new Map,Xn.findHostDirectiveDefs(Xn,gi,Sn),gi.push(Xn)):gi=[Xn];const Ci=function Ey(p,b){const D=p[1];return p[22]=b,ns(D,22,2,"#host",null)}(dn,Mt),_o=function Cy(p,b,D,L,k,W,q,de){const Ee=k[1];!function Sy(p,b,D,L){for(const k of p)b.mergedAttrs=ys(b.mergedAttrs,k.hostAttrs);null!==b.mergedAttrs&&(Qd(b,b.mergedAttrs,!0),null!==D&&Cu(L,D,b))}(L,p,b,q);const We=W.createRenderer(b,D),dt=yr(k,_m(D),null,D.onPush?32:16,k[p.index],p,W,We,de||null,null,null);return Ee.firstCreatePass&&Rh(Ee,p,L.length-1),Gd(k,dt),k[p.index]=dt}(Ci,Mt,Xn,gi,dn,de,We);Vn=Br(qt,22),Mt&&function Ty(p,b,D,L){if(L)vs(p,D,["ng-version",Ld.full]);else{const{attrs:k,classes:W}=function Th(p){const b=[],D=[];let L=1,k=2;for(;L<p.length;){let W=p[L];if("string"==typeof W)2===k?""!==W&&b.push(W,p[++L]):8===k&&D.push(W);else{if(!Ps(k))break;k=W}L++}return{attrs:b,classes:D}}(b.selectors[0]);k&&vs(p,D,k),W&&W.length>0&&Yl(p,D,W.join(" "))}}(We,Xn,Mt,L),void 0!==D&&function My(p,b,D){const L=p.projection=[];for(let k=0;k<b.length;k++){const W=D[k];L.push(null!=W?Array.from(W):null)}}(Vn,this.ngContentSelectors,D),In=function Oy(p,b,D,L,k,W){const q=Ni(),de=k[1],Ee=Ii(q,k);Em(de,k,q,D,null,L);for(let dt=0;dt<D.length;dt++)Io(Cs(k,de,q.directiveStart+dt,q),k);Cm(de,k,q),Ee&&Io(Ee,k);const We=Cs(k,de,q.directiveStart+q.componentOffset,q);if(p[8]=k[8]=We,null!==W)for(const dt of W)dt(We,b);return Zr(de,q,p),We}(_o,Xn,gi,Sn,dn,[xy]),Ku(qt,dn,null)}finally{Xt()}return new by(this.componentType,In,ec(Vn,dn),dn,Vn)}}class by extends Ad{constructor(b,D,L,k,W){super(),this.location=L,this._rootLView=k,this._tNode=W,this.instance=D,this.hostView=this.changeDetectorRef=new gy(k),this.componentType=b}setInput(b,D){const L=this._tNode.inputs;let k;if(null!==L&&(k=L[b])){const W=this._rootLView;Fh(W[1],W,k,b,D),bm(W,this._tNode.index)}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(b){this.hostView.onDestroy(b)}}function xy(){const p=Ni();Nt(_n()[1],p)}function kh(p){let b=function Im(p){return Object.getPrototypeOf(p.prototype).constructor}(p.type),D=!0;const L=[p];for(;b;){let k;if(Zi(p))k=b.\u0275cmp||b.\u0275dir;else{if(b.\u0275cmp)throw new o(903,!1);k=b.\u0275dir}if(k){if(D){L.push(k);const q=p;q.inputs=Bh(p.inputs),q.declaredInputs=Bh(p.declaredInputs),q.outputs=Bh(p.outputs);const de=k.hostBindings;de&&Ry(p,de);const Ee=k.viewQuery,We=k.contentQueries;if(Ee&&Py(p,Ee),We&&Iy(p,We),f(p.inputs,k.inputs),f(p.declaredInputs,k.declaredInputs),f(p.outputs,k.outputs),Zi(k)&&k.data.animation){const dt=p.data;dt.animation=(dt.animation||[]).concat(k.data.animation)}}const W=k.features;if(W)for(let q=0;q<W.length;q++){const de=W[q];de&&de.ngInherit&&de(p),de===kh&&(D=!1)}}b=Object.getPrototypeOf(b)}!function Dy(p){let b=0,D=null;for(let L=p.length-1;L>=0;L--){const k=p[L];k.hostVars=b+=k.hostVars,k.hostAttrs=ys(k.hostAttrs,D=ys(D,k.hostAttrs))}}(L)}function Bh(p){return p===St?{}:p===_t?[]:p}function Py(p,b){const D=p.viewQuery;p.viewQuery=D?(L,k)=>{b(L,k),D(L,k)}:b}function Iy(p,b){const D=p.contentQueries;p.contentQueries=D?(L,k,W)=>{b(L,k,W),D(L,k,W)}:b}function Ry(p,b){const D=p.hostBindings;p.hostBindings=D?(L,k)=>{b(L,k),D(L,k)}:b}let Xd=null;function ac(){if(!Xd){const p=pt.Symbol;if(p&&p.iterator)Xd=p.iterator;else{const b=Object.getOwnPropertyNames(Map.prototype);for(let D=0;D<b.length;++D){const L=b[D];"entries"!==L&&"size"!==L&&Map.prototype[L]===Map.prototype.entries&&(Xd=L)}}}return Xd}function Hu(p){return!!Uh(p)&&(Array.isArray(p)||!(p instanceof Map)&&ac()in p)}function Uh(p){return null!==p&&("function"==typeof p||"object"==typeof p)}function ka(p,b,D){return p[b]=D}function Gu(p,b){return p[b]}function Hr(p,b,D){return!Object.is(p[b],D)&&(p[b]=D,!0)}function lc(p,b,D,L){const k=Hr(p,b,D);return Hr(p,b+1,L)||k}function Vh(p,b,D,L){const k=_n();return Hr(k,Vr(),b)&&(Ti(),function Fa(p,b,D,L,k,W){const q=Ii(p,b);Ah(b[11],q,W,p.value,D,L,k)}(Jn(),k,p,b,D,L)),Vh}function Kc(p,b,D,L){return Hr(p,Vr(),D)?b+I(D)+L:bi}function Wm(p,b,D,L,k,W,q,de){const Ee=_n(),We=Ti(),dt=p+22,Mt=We.firstCreatePass?function jy(p,b,D,L,k,W,q,de,Ee){const We=b.consts,dt=ns(b,p,4,q||null,dr(We,de));Ih(b,D,dt,dr(We,Ee)),Nt(b,dt);const Mt=dt.tViews=Ph(2,dt,L,k,W,b.directiveRegistry,b.pipeRegistry,null,b.schemas,We);return null!==b.queries&&(b.queries.template(b,dt),Mt.queries=b.queries.embeddedTView(dt)),dt}(dt,We,Ee,b,D,L,k,W,q):We.data[dt];jo(Mt,!1);const $t=Ee[11].createComment("");vu(We,Ee,$t,Mt),Io($t,Ee),Gd(Ee,Ee[dt]=Sm($t,Ee,$t,Mt)),zi(Mt)&&Al(We,Ee,Mt),null!=q&&sc(Ee,Mt,de)}function Km(p){return zn(function fo(){return Oe.lFrame.contextLView}(),22+p)}function jh(p,b,D){const L=_n();return Hr(L,Vr(),b)&&Is(Ti(),Jn(),L,p,b,L[11],D,!1),jh}function $h(p,b,D,L,k){const q=k?"class":"style";Fh(p,D,b.inputs[q],q,L)}function ef(p,b,D,L){const k=_n(),W=Ti(),q=22+p,de=k[11],Ee=k[q]=Ia(de,b,function Se(){return Oe.lFrame.currentNamespace}()),We=W.firstCreatePass?function Wy(p,b,D,L,k,W,q){const de=b.consts,We=ns(b,p,2,k,dr(de,W));return Ih(b,D,We,dr(de,q)),null!==We.attrs&&Qd(We,We.attrs,!1),null!==We.mergedAttrs&&Qd(We,We.mergedAttrs,!0),null!==b.queries&&b.queries.elementStart(b,We),We}(q,W,k,0,b,D,L):W.data[q];return jo(We,!0),Cu(de,Ee,We),32!=(32&We.flags)&&vu(W,k,Ee,We),0===function on(){return Oe.lFrame.elementDepthCount}()&&Io(Ee,k),function Nn(){Oe.lFrame.elementDepthCount++}(),zi(We)&&(Al(W,k,We),Zr(W,We,k)),null!==L&&sc(k,We),ef}function tf(){let p=Ni();Hs()?Xi():(p=p.parent,jo(p,!1));const b=p;!function Ji(){Oe.lFrame.elementDepthCount--}();const D=Ti();return D.firstCreatePass&&(Nt(D,p),oi(p)&&D.queries.elementEnd(p)),null!=b.classesWithoutHost&&function Ko(p){return 0!=(8&p.flags)}(b)&&$h(D,b,_n(),b.classesWithoutHost,!0),null!=b.stylesWithoutHost&&function Jr(p){return 0!=(16&p.flags)}(b)&&$h(D,b,_n(),b.stylesWithoutHost,!1),tf}function Wh(p,b,D,L){return ef(p,b,D,L),tf(),Wh}function nf(p,b,D){const L=_n(),k=Ti(),W=p+22,q=k.firstCreatePass?function Ky(p,b,D,L,k){const W=b.consts,q=dr(W,L),de=ns(b,p,8,"ng-container",q);return null!==q&&Qd(de,q,!0),Ih(b,D,de,dr(W,k)),null!==b.queries&&b.queries.elementStart(b,de),de}(W,k,L,b,D):k.data[W];jo(q,!0);const de=L[W]=L[11].createComment("");return vu(k,L,de,q),Io(de,L),zi(q)&&(Al(k,L,q),Zr(k,q,L)),null!=D&&sc(L,q),nf}function rf(){let p=Ni();const b=Ti();return Hs()?Xi():(p=p.parent,jo(p,!1)),b.firstCreatePass&&(Nt(b,p),oi(p)&&b.queries.elementEnd(p)),rf}function Kh(p,b,D){return nf(p,b,D),rf(),Kh}function zm(){return _n()}function zh(p){return!!p&&"function"==typeof p.then}function Zm(p){return!!p&&"function"==typeof p.subscribe}const Hm=Zm;function Zh(p,b,D,L){const k=_n(),W=Ti(),q=Ni();return Gm(W,k,k[11],q,p,b,L),Zh}function Hh(p,b){const D=Ni(),L=_n(),k=Ti();return Gm(k,L,Mm(ho(k.data),D,L),D,p,b),Hh}function Gm(p,b,D,L,k,W,q){const de=zi(L),We=p.firstCreatePass&&Tm(p),dt=b[8],Mt=Om(b);let $t=!0;if(3&L.type||q){const In=Ii(L,b),Vn=q?q(In):In,Xn=Mt.length,gi=q?Ci=>q(Mn(Ci[L.index])):L.index;let Sn=null;if(!q&&de&&(Sn=function zy(p,b,D,L){const k=p.cleanup;if(null!=k)for(let W=0;W<k.length-1;W+=2){const q=k[W];if(q===D&&k[W+1]===L){const de=b[7],Ee=k[W+2];return de.length>Ee?de[Ee]:null}"string"==typeof q&&(W+=2)}return null}(p,b,k,L.index)),null!==Sn)(Sn.__ngLastListenerFn__||Sn).__ngNextListenerFn__=W,Sn.__ngLastListenerFn__=W,$t=!1;else{W=Qm(L,b,dt,W,!1);const Ci=D.listen(Vn,k,W);Mt.push(W,Ci),We&&We.push(k,gi,Xn,Xn+1)}}else W=Qm(L,b,dt,W,!1);const qt=L.outputs;let dn;if($t&&null!==qt&&(dn=qt[k])){const In=dn.length;if(In)for(let Vn=0;Vn<In;Vn+=2){const _o=b[dn[Vn]][dn[Vn+1]].subscribe(W),Bo=Mt.length;Mt.push(W,_o),We&&We.push(k,L.index,Bo,-(Bo+1))}}}function Ym(p,b,D,L){try{return!1!==D(L)}catch(k){return xm(p,k),!1}}function Qm(p,b,D,L,k){return function W(q){if(q===Function)return L;Lh(p.componentOffset>-1?Qi(p.index,b):b);let Ee=Ym(b,0,L,q),We=W.__ngNextListenerFn__;for(;We;)Ee=Ym(b,0,We,q)&&Ee,We=We.__ngNextListenerFn__;return k&&!1===Ee&&(q.preventDefault(),q.returnValue=!1),Ee}}function Jm(p=1){return function Cn(p){return(Oe.lFrame.contextLView=function wn(p,b){for(;p>0;)b=b[15],p--;return b}(p,Oe.lFrame.contextLView))[8]}(p)}function Zy(p,b){let D=null;const L=function Eh(p){const b=p.attrs;if(null!=b){const D=b.indexOf(5);if(0==(1&D))return b[D+1]}return null}(p);for(let k=0;k<b.length;k++){const W=b[k];if("*"!==W){if(null===L?Vd(p,W,!0):oc(L,W))return k}else D=k}return D}function Xm(p){const b=_n()[16][6];if(!b.projection){const L=b.projection=Y(p?p.length:1,null),k=L.slice();let W=b.child;for(;null!==W;){const q=p?Zy(W,p):0;null!==q&&(k[q]?k[q].projectionNext=W:L[q]=W,k[q]=W),W=W.next}}}function qm(p,b=0,D){const L=_n(),k=Ti(),W=ns(k,22+p,16,null,D||null);null===W.projection&&(W.projection=b),Xi(),32!=(32&W.flags)&&function Kp(p,b,D){bu(b[11],0,b,D,Tc(p,D,b),Af(D.parent||b[6],D,b))}(k,L,W)}function sf(p,b,D,L,k){const W=_n(),q=Kc(W,b,D,L);return q!==bi&&Is(Ti(),Jn(),W,p,q,W[11],k,!1),sf}function af(p,b){return p<<17|b<<2}function wl(p){return p>>17&32767}function Gh(p){return 2|p}function cc(p){return(131068&p)>>2}function Yh(p,b){return-131069&p|b<<2}function Qh(p){return 1|p}function c_(p,b,D,L,k){const W=p[D+1],q=null===b;let de=L?wl(W):cc(W),Ee=!1;for(;0!==de&&(!1===Ee||q);){const dt=p[de+1];Xy(p[de],b)&&(Ee=!0,p[de+1]=L?Qh(dt):Gh(dt)),de=L?wl(dt):cc(dt)}Ee&&(p[D+1]=L?Gh(W):Qh(W))}function Xy(p,b){return null===p||null==b||(Array.isArray(p)?p[1]:p)===b||!(!Array.isArray(p)||"string"!=typeof b)&&kn(p,b)>=0}const or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function u_(p){return p.substring(or.key,or.keyEnd)}function qy(p){return p.substring(or.value,or.valueEnd)}function d_(p,b){const D=or.textEnd;return D===b?-1:(b=or.keyEnd=function nb(p,b,D){for(;b<D&&p.charCodeAt(b)>32;)b++;return b}(p,or.key=b,D),Xc(p,b,D))}function f_(p,b){const D=or.textEnd;let L=or.key=Xc(p,b,D);return D===L?-1:(L=or.keyEnd=function ib(p,b,D){let L;for(;b<D&&(45===(L=p.charCodeAt(b))||95===L||(-33&L)>=65&&(-33&L)<=90||L>=48&&L<=57);)b++;return b}(p,L,D),L=p_(p,L,D),L=or.value=Xc(p,L,D),L=or.valueEnd=function ob(p,b,D){let L=-1,k=-1,W=-1,q=b,de=q;for(;q<D;){const Ee=p.charCodeAt(q++);if(59===Ee)return de;34===Ee||39===Ee?de=q=m_(p,Ee,q,D):b===q-4&&85===W&&82===k&&76===L&&40===Ee?de=q=m_(p,41,q,D):Ee>32&&(de=q),W=k,k=L,L=-33&Ee}return de}(p,L,D),p_(p,L,D))}function h_(p){or.key=0,or.keyEnd=0,or.value=0,or.valueEnd=0,or.textEnd=p.length}function Xc(p,b,D){for(;b<D&&p.charCodeAt(b)<=32;)b++;return b}function p_(p,b,D,L){return(b=Xc(p,b,D))<D&&b++,b}function m_(p,b,D,L){let k=-1,W=D;for(;W<L;){const q=p.charCodeAt(W++);if(q==b&&92!==k)return W;k=92==q&&92===k?0:q}throw new Error}function Jh(p,b,D){return fa(p,b,D,!1),Jh}function Xh(p,b){return fa(p,b,null,!0),Xh}function da(p){ha(y_,rb,p,!1)}function rb(p,b){for(let D=function tb(p){return h_(p),f_(p,Xc(p,0,or.textEnd))}(b);D>=0;D=f_(b,D))y_(p,u_(b),qy(b))}function __(p){ha(Vt,Ba,p,!0)}function Ba(p,b){for(let D=function eb(p){return h_(p),d_(p,Xc(p,0,or.textEnd))}(b);D>=0;D=d_(b,D))Vt(p,u_(b),!0)}function fa(p,b,D,L){const k=_n(),W=Ti(),q=$o(2);W.firstUpdatePass&&v_(W,p,q,L),b!==bi&&Hr(k,q,b)&&b_(W,W.data[xn()],k,k[11],p,k[q+1]=function fb(p,b){return null==p||("string"==typeof b?p+=b:"object"==typeof p&&(p=_(sa(p)))),p}(b,D),L,q)}function ha(p,b,D,L){const k=Ti(),W=$o(2);k.firstUpdatePass&&v_(k,null,W,L);const q=_n();if(D!==bi&&Hr(q,W,D)){const de=k.data[xn()];if(C_(de,L)&&!g_(k,W)){let Ee=L?de.classesWithoutHost:de.stylesWithoutHost;null!==Ee&&(D=l(Ee,D||"")),$h(k,de,q,D,L)}else!function db(p,b,D,L,k,W,q,de){k===bi&&(k=_t);let Ee=0,We=0,dt=0<k.length?k[0]:null,Mt=0<W.length?W[0]:null;for(;null!==dt||null!==Mt;){const $t=Ee<k.length?k[Ee+1]:void 0,qt=We<W.length?W[We+1]:void 0;let In,dn=null;dt===Mt?(Ee+=2,We+=2,$t!==qt&&(dn=Mt,In=qt)):null===Mt||null!==dt&&dt<Mt?(Ee+=2,dn=dt):(We+=2,dn=Mt,In=qt),null!==dn&&b_(p,b,D,L,dn,In,q,de),dt=Ee<k.length?k[Ee]:null,Mt=We<W.length?W[We]:null}}(k,de,q,q[11],q[W+1],q[W+1]=function ub(p,b,D){if(null==D||""===D)return _t;const L=[],k=sa(D);if(Array.isArray(k))for(let W=0;W<k.length;W++)p(L,k[W],!0);else if("object"==typeof k)for(const W in k)k.hasOwnProperty(W)&&p(L,W,k[W]);else"string"==typeof k&&b(L,k);return L}(p,b,D),L,W)}}function g_(p,b){return b>=p.expandoStartIndex}function v_(p,b,D,L){const k=p.data;if(null===k[D+1]){const W=k[xn()],q=g_(p,D);C_(W,L)&&null===b&&!q&&(b=!1),b=function sb(p,b,D,L){const k=ho(p);let W=L?b.residualClasses:b.residualStyles;if(null===k)0===(L?b.classBindings:b.styleBindings)&&(D=Yu(D=qh(null,p,b,D,L),b.attrs,L),W=null);else{const q=b.directiveStylingLast;if(-1===q||p[q]!==k)if(D=qh(k,p,b,D,L),null===W){let Ee=function ab(p,b,D){const L=D?b.classBindings:b.styleBindings;if(0!==cc(L))return p[wl(L)]}(p,b,L);void 0!==Ee&&Array.isArray(Ee)&&(Ee=qh(null,p,b,Ee[1],L),Ee=Yu(Ee,b.attrs,L),function lb(p,b,D,L){p[wl(D?b.classBindings:b.styleBindings)]=L}(p,b,L,Ee))}else W=function cb(p,b,D){let L;const k=b.directiveEnd;for(let W=1+b.directiveStylingLast;W<k;W++)L=Yu(L,p[W].hostAttrs,D);return Yu(L,b.attrs,D)}(p,b,L)}return void 0!==W&&(L?b.residualClasses=W:b.residualStyles=W),D}(k,W,b,L),function Qy(p,b,D,L,k,W){let q=W?b.classBindings:b.styleBindings,de=wl(q),Ee=cc(q);p[L]=D;let dt,We=!1;if(Array.isArray(D)){const Mt=D;dt=Mt[1],(null===dt||kn(Mt,dt)>0)&&(We=!0)}else dt=D;if(k)if(0!==Ee){const $t=wl(p[de+1]);p[L+1]=af($t,de),0!==$t&&(p[$t+1]=Yh(p[$t+1],L)),p[de+1]=function Gy(p,b){return 131071&p|b<<17}(p[de+1],L)}else p[L+1]=af(de,0),0!==de&&(p[de+1]=Yh(p[de+1],L)),de=L;else p[L+1]=af(Ee,0),0===de?de=L:p[Ee+1]=Yh(p[Ee+1],L),Ee=L;We&&(p[L+1]=Gh(p[L+1])),c_(p,dt,L,!0),c_(p,dt,L,!1),function Jy(p,b,D,L,k){const W=k?p.residualClasses:p.residualStyles;null!=W&&"string"==typeof b&&kn(W,b)>=0&&(D[L+1]=Qh(D[L+1]))}(b,dt,p,L,W),q=af(de,Ee),W?b.classBindings=q:b.styleBindings=q}(k,W,b,D,q,L)}}function qh(p,b,D,L,k){let W=null;const q=D.directiveEnd;let de=D.directiveStylingLast;for(-1===de?de=D.directiveStart:de++;de<q&&(W=b[de],L=Yu(L,W.hostAttrs,k),W!==p);)de++;return null!==p&&(D.directiveStylingLast=de),L}function Yu(p,b,D){const L=D?1:2;let k=-1;if(null!==b)for(let W=0;W<b.length;W++){const q=b[W];"number"==typeof q?k=q:k===L&&(Array.isArray(p)||(p=void 0===p?[]:["",p]),Vt(p,q,!!D||b[++W]))}return void 0===p?null:p}function y_(p,b,D){Vt(p,b,sa(D))}function b_(p,b,D,L,k,W,q,de){if(!(3&b.type))return;const Ee=p.data,We=Ee[de+1],dt=function Yy(p){return 1==(1&p)}(We)?E_(Ee,b,D,k,cc(We),q):void 0;lf(dt)||(lf(W)||function Hy(p){return 2==(2&p)}(We)&&(W=E_(Ee,null,D,k,de,q)),function Nf(p,b,D,L,k){if(b)k?p.addClass(D,L):p.removeClass(D,L);else{let W=-1===L.indexOf("-")?void 0:hs.DashCase;null==k?p.removeStyle(D,L,W):("string"==typeof k&&k.endsWith("!important")&&(k=k.slice(0,-10),W|=hs.Important),p.setStyle(D,L,k,W))}}(L,q,So(xn(),D),k,W))}function E_(p,b,D,L,k,W){const q=null===b;let de;for(;k>0;){const Ee=p[k],We=Array.isArray(Ee),dt=We?Ee[1]:Ee,Mt=null===dt;let $t=D[k+1];$t===bi&&($t=Mt?_t:void 0);let qt=Mt?pn($t,L):dt===L?$t:void 0;if(We&&!lf(qt)&&(qt=pn(Ee,L)),lf(qt)&&(de=qt,q))return de;const dn=p[k+1];k=q?wl(dn):cc(dn)}if(null!==b){let Ee=W?b.residualClasses:b.residualStyles;null!=Ee&&(de=pn(Ee,L))}return de}function lf(p){return void 0!==p}function C_(p,b){return 0!=(p.flags&(b?8:16))}function S_(p,b=""){const D=_n(),L=Ti(),k=p+22,W=L.firstCreatePass?ns(L,k,1,b,null):L.data[k],q=D[k]=Ds(D[11],b);vu(L,D,q,W),jo(W,!1)}function ep(p){return cf("",p,""),ep}function cf(p,b,D){const L=_n(),k=Kc(L,p,b,D);return k!==bi&&ll(L,xn(),k),cf}function tp(p,b,D,L,k){const W=_n(),q=function zc(p,b,D,L,k,W){const de=lc(p,Mo(),D,k);return $o(2),de?b+I(D)+L+I(k)+W:bi}(W,p,b,D,L,k);return q!==bi&&ll(W,xn(),q),tp}function R_(p,b,D){ha(Vt,Ba,Kc(_n(),p,b,D),!0)}function np(p,b,D){const L=_n();return Hr(L,Vr(),b)&&Is(Ti(),Jn(),L,p,b,L[11],D,!0),np}function ip(p,b,D){const L=_n();if(Hr(L,Vr(),b)){const W=Ti(),q=Jn();Is(W,q,L,p,b,Mm(ho(W.data),q,L),D,!0)}return ip}const uc=void 0;var Rb=["en",[["a","p"],["AM","PM"],uc],[["AM","PM"],uc,uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uc,"{1} 'at' {0}",uc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ib(p){const D=Math.floor(Math.abs(p)),L=p.toString().replace(/^[^.]*\.?/,"").length;return 1===D&&0===L?1:5}];let qc={};function op(p){const b=function Ab(p){return p.toLowerCase().replace(/_/g,"-")}(p);let D=$_(b);if(D)return D;const L=b.split("-")[0];if(D=$_(L),D)return D;if("en"===L)return Rb;throw new o(701,!1)}function j_(p){return op(p)[hi.PluralCase]}function $_(p){return p in qc||(qc[p]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[p]),qc[p]}var hi=(()=>((hi=hi||{})[hi.LocaleId=0]="LocaleId",hi[hi.DayPeriodsFormat=1]="DayPeriodsFormat",hi[hi.DayPeriodsStandalone=2]="DayPeriodsStandalone",hi[hi.DaysFormat=3]="DaysFormat",hi[hi.DaysStandalone=4]="DaysStandalone",hi[hi.MonthsFormat=5]="MonthsFormat",hi[hi.MonthsStandalone=6]="MonthsStandalone",hi[hi.Eras=7]="Eras",hi[hi.FirstDayOfWeek=8]="FirstDayOfWeek",hi[hi.WeekendRange=9]="WeekendRange",hi[hi.DateFormat=10]="DateFormat",hi[hi.TimeFormat=11]="TimeFormat",hi[hi.DateTimeFormat=12]="DateTimeFormat",hi[hi.NumberSymbols=13]="NumberSymbols",hi[hi.NumberFormats=14]="NumberFormats",hi[hi.CurrencyCode=15]="CurrencyCode",hi[hi.CurrencySymbol=16]="CurrencySymbol",hi[hi.CurrencyName=17]="CurrencyName",hi[hi.Currencies=18]="Currencies",hi[hi.Directionality=19]="Directionality",hi[hi.PluralCase=20]="PluralCase",hi[hi.ExtraData=21]="ExtraData",hi))();const wb=["zero","one","two","few","many"],eu="en-US",uf={marker:"element"},df={marker:"ICU"};var Ro=(()=>((Ro=Ro||{})[Ro.SHIFT=2]="SHIFT",Ro[Ro.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ro[Ro.COMMENT=2]="COMMENT",Ro))();let W_=eu;function K_(p){(function Ie(p,b){null==p&&Me(b,p,null,"!=")})(p,"Expected localeId to be defined"),"string"==typeof p&&(W_=p.toLowerCase().replace(/_/g,"-"))}function z_(p,b,D){const L=b.insertBeforeIndex,k=Array.isArray(L)?L[0]:L;return null===k?wf(p,0,D):Mn(D[k])}function Z_(p,b,D,L,k){const W=b.insertBeforeIndex;if(Array.isArray(W)){let q=L,de=null;if(3&b.type||(de=q,q=k),null!==q&&-1===b.componentOffset)for(let Ee=1;Ee<W.length;Ee++)Ra(p,q,D[W[Ee]],de,!1)}}function H_(p,b){if(p.push(b),p.length>1)for(let D=p.length-2;D>=0;D--){const L=p[D];G_(L)||kb(L,b)&&null===Bb(L)&&Ub(L,b.index)}}function G_(p){return!(64&p.type)}function kb(p,b){return G_(b)||p.index>b.index}function Bb(p){const b=p.insertBeforeIndex;return Array.isArray(b)?b[0]:b}function Ub(p,b){const D=p.insertBeforeIndex;Array.isArray(D)?D[0]=b:(md(z_,Z_),p.insertBeforeIndex=b)}function Qu(p,b){const D=p.data[b];return null===D||"string"==typeof D?null:D.hasOwnProperty("currentCaseLViewIndex")?D:D.value}function $b(p,b,D){const L=oo(p,D,64,null,null);return H_(b,L),L}function ff(p,b){const D=b[p.currentCaseLViewIndex];return null===D?D:D<0?~D:D}function Y_(p){return p>>>17}function Q_(p){return(131070&p)>>>1}let Ju=0,Xu=0;function X_(p,b,D,L){const k=D[11];let q,W=null;for(let de=0;de<b.length;de++){const Ee=b[de];if("string"==typeof Ee){const We=b[++de];null===D[We]&&(D[We]=Ds(k,Ee))}else if("number"==typeof Ee)switch(1&Ee){case 0:const We=Y_(Ee);let dt,Mt;if(null===W&&(W=We,q=xc(k,L)),We===W?(dt=L,Mt=q):(dt=null,Mt=Mn(D[We])),null!==Mt){const In=Q_(Ee);Ra(k,Mt,D[In],dt,!1);const Xn=Qu(p,In);if(null!==Xn&&"object"==typeof Xn){const gi=ff(Xn,D);null!==gi&&X_(p,Xn.create[gi],D,D[Xn.anchorIdx])}}break;case 1:const qt=b[++de],dn=b[++de];Ah(k,So(Ee>>>1,D),null,null,qt,dn,null)}else switch(Ee){case df:const We=b[++de],dt=b[++de];null===D[dt]&&Io(D[dt]=dd(k,We),D);break;case uf:const Mt=b[++de],$t=b[++de];null===D[$t]&&Io(D[$t]=Ia(k,Mt,null),D)}}}function q_(p,b,D,L,k){for(let W=0;W<D.length;W++){const q=D[W],de=D[++W];if(q&k){let Ee="";for(let We=W+1;We<=W+de;We++){const dt=D[We];if("string"==typeof dt)Ee+=dt;else if("number"==typeof dt)if(dt<0)Ee+=I(b[L-dt]);else{const Mt=dt>>>2;switch(3&dt){case 1:const $t=D[++We],qt=D[++We],dn=p.data[Mt];"string"==typeof dn?Ah(b[11],b[Mt],null,dn,$t,Ee,qt):Is(p,dn,b,$t,Ee,b[11],qt,!1);break;case 0:const In=b[Mt];null!==In&&yl(b[11],In,Ee);break;case 2:Hb(p,Qu(p,Mt),b,Ee);break;case 3:eg(p,Qu(p,Mt),L,b)}}}}else{const Ee=D[W+1];if(Ee>0&&3==(3&Ee)){const dt=Qu(p,Ee>>>2);b[dt.currentCaseLViewIndex]<0&&eg(p,dt,L,b)}}W+=de}}function eg(p,b,D,L){let k=L[b.currentCaseLViewIndex];if(null!==k){let W=Ju;k<0&&(k=L[b.currentCaseLViewIndex]=~k,W=-1),q_(p,L,b.update[k],D,W)}}function Hb(p,b,D,L){const k=function Gb(p,b){let D=p.cases.indexOf(b);if(-1===D)switch(p.type){case 1:{const L=function Lb(p,b){const D=j_(b)(parseInt(p,10)),L=wb[D];return void 0!==L?L:"other"}(b,function Fb(){return W_}());D=p.cases.indexOf(L),-1===D&&"other"!==L&&(D=p.cases.indexOf("other"));break}case 0:D=p.cases.indexOf("other")}return-1===D?null:D}(b,L);if(ff(b,D)!==k&&(tg(p,b,D),D[b.currentCaseLViewIndex]=null===k?null:~k,null!==k)){const q=D[b.anchorIdx];q&&X_(p,b.create[k],D,q)}}function tg(p,b,D){let L=ff(b,D);if(null!==L){const k=b.remove[L];for(let W=0;W<k.length;W++){const q=k[W];if(q>0){const de=So(q,D);null!==de&&yu(D[11],de)}else tg(p,Qu(p,~q),D)}}}function Yb(){const p=[];let D,L,b=-1;function W(de,Ee){b=0;const We=ff(de,Ee);L=null!==We?de.remove[We]:_t}function q(){if(b<L.length){const de=L[b++];return de>0?D[de]:(p.push(b,L),W(D[1].data[~de],D),q())}return 0===p.length?null:(L=p.pop(),b=p.pop(),q())}return function k(de,Ee){for(D=Ee;p.length;)p.pop();return W(de.value,Ee),q}}const hf=/\ufffd(\d+):?\d*\ufffd/gi,Jb=/\ufffd(\d+)\ufffd/,ig=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Xb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,e0=/\uE500/g;function og(p,b,D,L,k,W,q){const de=Rl(p,L,1,null);let Ee=de<<Ro.SHIFT,We=Yr();b===We&&(We=null),null===We&&(Ee|=Ro.APPEND_EAGERLY),q&&(Ee|=Ro.COMMENT,function Jt(p){void 0===Ot&&(Ot=p())}(Yb)),k.push(Ee,null===W?"":W);const dt=oo(p,de,q?32:1,null===W?"":W,null);H_(D,dt);const Mt=dt.index;return jo(dt,!1),null!==We&&b!==We&&function jb(p,b){let D=p.insertBeforeIndex;null===D?(md(z_,Z_),D=p.insertBeforeIndex=[null,b]):(function H(p,b,D){p!=b&&Me(D,p,b,"==")}(Array.isArray(D),!0,"Expecting array here"),D.push(b))}(We,Mt),dt}function o0(p,b,D,L,k,W,q){const de=q.match(hf),Ee=og(p,b,D,W,L,de?null:q,!1);de&&ed(k,q,Ee.index,null,0,null)}function ed(p,b,D,L,k,W){const q=p.length,de=q+1;p.push(null,null);const Ee=q+2,We=b.split(hf);let dt=0;for(let Mt=0;Mt<We.length;Mt++){const $t=We[Mt];if(1&Mt){const qt=k+parseInt($t,10);p.push(-1-qt),dt|=rg(qt)}else""!==$t&&p.push($t)}return p.push(D<<2|(L?1:0)),L&&p.push(L,W),p[q]=dt,p[de]=p.length-Ee,dt}function rg(p){return 1<<Math.min(p,31)}function sg(p){let b,W,D="",L=0,k=!1;for(;null!==(b=Xb.exec(p));)k?b[0]===`\ufffd/*${W}\ufffd`&&(L=b.index,k=!1):(D+=p.substring(L,b.index+b[0].length),W=b[1],k=!0);return D+=p.slice(L),D}function ag(p,b,D,L,k,W){let q=0;const de={type:k.type,currentCaseLViewIndex:Rl(p,b,1,null),anchorIdx:W,cases:[],create:[],remove:[],update:[]};(function f0(p,b,D){p.push(rg(b.mainBinding),2,-1-b.mainBinding,D<<2|2)})(D,k,W),function Vb(p,b,D){const L=p.data[b];null===L?p.data[b]=D:L.value=D}(p,W,de);const Ee=k.values;for(let We=0;We<Ee.length;We++){const dt=Ee[We],Mt=[];for(let $t=0;$t<dt.length;$t++){const qt=dt[$t];if("string"!=typeof qt){const dn=Mt.push(qt)-1;dt[$t]=`\x3c!--\ufffd${dn}\ufffd--\x3e`}}q=u0(p,de,b,D,L,k.cases[We],dt.join(""),Mt)|q}q&&function h0(p,b,D){p.push(b,1,D<<2|3)}(D,q,W)}function c0(p){const b=[],D=[];let L=1,k=0;const W=rp(p=p.replace(ig,function(q,de,Ee){return L="select"===Ee?0:1,k=parseInt(de.slice(1),10),""}));for(let q=0;q<W.length;){let de=W[q++].trim();1===L&&(de=de.replace(/\s*(?:=)?(\w+)\s*/,"$1")),de.length&&b.push(de);const Ee=rp(W[q++]);b.length>D.length&&D.push(Ee)}return{type:L,mainBinding:k,cases:b,values:D}}function rp(p){if(!p)return[];let b=0;const D=[],L=[],k=/[{}]/g;let W;for(k.lastIndex=0;W=k.exec(p);){const de=W.index;if("}"==W[0]){if(D.pop(),0==D.length){const Ee=p.substring(b,de);ig.test(Ee)?L.push(c0(Ee)):L.push(Ee),b=de+1}}else{if(0==D.length){const Ee=p.substring(b,de);L.push(Ee),b=de+1}D.push("{")}}const q=p.substring(b);return L.push(q),L}function u0(p,b,D,L,k,W,q,de){const Ee=[],We=[],dt=[];b.cases.push(W),b.create.push(Ee),b.remove.push(We),b.update.push(dt);const $t=Zf(_d()).getInertBodyElement(q),qt=Du($t)||$t;return qt?lg(p,b,D,L,Ee,We,dt,qt,k,de,0):0}function lg(p,b,D,L,k,W,q,de,Ee,We,dt){let Mt=0,$t=de.firstChild;for(;$t;){const qt=Rl(p,D,1,null);switch($t.nodeType){case Node.ELEMENT_NODE:const dn=$t,In=dn.tagName.toLowerCase();if(Tu.hasOwnProperty(In)){sp(k,uf,In,Ee,qt),p.data[qt]=In;const Sn=dn.attributes;for(let Ci=0;Ci<Sn.length;Ci++){const _o=Sn.item(Ci),Bo=_o.name.toLowerCase();_o.value.match(hf)?xu.hasOwnProperty(Bo)&&ed(q,_o.value,qt,_o.name,0,Mu[Bo]?Rc:null):p0(k,qt,_o)}Mt=lg(p,b,D,L,k,W,q,$t,qt,We,dt+1)|Mt,cg(W,qt,dt)}break;case Node.TEXT_NODE:const Vn=$t.textContent||"",Xn=Vn.match(hf);sp(k,null,Xn?"":Vn,Ee,qt),cg(W,qt,dt),Xn&&(Mt=ed(q,Vn,qt,null,0,null)|Mt);break;case Node.COMMENT_NODE:const gi=Jb.exec($t.textContent||"");if(gi){const Ci=We[parseInt(gi[1],10)];sp(k,df,"",Ee,qt),ag(p,D,L,Ee,Ci,qt),d0(W,qt,dt)}}$t=$t.nextSibling}return Mt}function cg(p,b,D){0===D&&p.push(b)}function d0(p,b,D){0===D&&(p.push(~b),p.push(b))}function sp(p,b,D,L,k){null!==b&&p.push(b),p.push(D,k,function Wb(p,b,D){return p|b<<17|D<<1}(0,L,k))}function p0(p,b,D){p.push(b<<1|1,D.name,D.value)}const m0=/\[(\ufffd.+?\ufffd?)\]/,_0=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,g0=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,v0=/{([A-Z0-9_]+)}/g,y0=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,b0=/\/\*/,E0=/\d+\:(\d+)/;function ap(p,b,D=-1){const L=Ti(),k=_n(),W=22+p,q=dr(L.consts,b),de=Yr();L.firstCreatePass&&function n0(p,b,D,L,k,W){const q=Yr(),de=[],Ee=[],We=[[]];k=function l0(p,b){if(function a0(p){return-1===p}(b))return sg(p);{const D=p.indexOf(`:${b}\ufffd`)+2+b.toString().length,L=p.search(new RegExp(`\ufffd\\/\\*\\d+:${b}\ufffd`));return sg(p.substring(D,L))}}(k,W);const dt=function t0(p){return p.replace(e0," ")}(k).split(qb);for(let Mt=0;Mt<dt.length;Mt++){let $t=dt[Mt];if(0==(1&Mt)){const qt=rp($t);for(let dn=0;dn<qt.length;dn++){let In=qt[dn];if(0==(1&dn)){const Vn=In;""!==Vn&&o0(p,q,We[0],de,Ee,D,Vn)}else{const Vn=In;if("object"!=typeof Vn)throw new Error(`Unable to parse ICU expression in "${k}" message.`);ag(p,D,Ee,b,Vn,og(p,q,We[0],D,de,"",!0).index)}}}else{const qt=47===$t.charCodeAt(0),In=($t.charCodeAt(qt?1:0),22+Number.parseInt($t.substring(qt?2:1)));if(qt)We.shift(),jo(Yr(),!1);else{const Vn=$b(p,We[0],In);We.unshift([]),jo(Vn,!0)}}}p.data[L]={create:de,update:Ee}}(L,null===de?0:de.index,k,W,q,D);const Ee=L.data[W],dt=Mc(L,de===k[6]?null:de,k);(function Zb(p,b,D,L){const k=p[11];for(let W=0;W<b.length;W++){const q=b[W++],de=b[W],Ee=(q&Ro.COMMENT)===Ro.COMMENT,We=(q&Ro.APPEND_EAGERLY)===Ro.APPEND_EAGERLY,dt=q>>>Ro.SHIFT;let Mt=p[dt];null===Mt&&(Mt=p[dt]=Ee?k.createComment(de):Ds(k,de)),We&&null!==D&&Ra(k,D,Mt,L,!1)}})(k,Ee.create,dt,de&&8&de.type?k[de.index]:null),Wo(!0)}function lp(){Wo(!1)}function dg(p,b,D){ap(p,b,D),lp()}function cp(p){return function Kb(p){p&&(Ju|=1<<Math.min(Xu,31)),Xu++}(Hr(_n(),Vr(),p)),cp}function fg(p){!function zb(p,b,D){if(Xu>0){const L=p.data[D];q_(p,b,Array.isArray(L)?L:L.update,Mo()-Xu-1,Ju)}Ju=0,Xu=0}(Ti(),_n(),p+22)}function hg(p,b={}){return function C0(p,b={}){let D=p;if(m0.test(p)){const L={},k=[0];D=D.replace(_0,(W,q,de)=>{const Ee=q||de,We=L[Ee]||[];if(We.length||(Ee.split("|").forEach(In=>{const Vn=In.match(E0),Xn=Vn?parseInt(Vn[1],10):0,gi=b0.test(In);We.push([Xn,gi,In])}),L[Ee]=We),!We.length)throw new Error(`i18n postprocess: unmatched placeholder - ${Ee}`);const dt=k[k.length-1];let Mt=0;for(let In=0;In<We.length;In++)if(We[In][0]===dt){Mt=In;break}const[$t,qt,dn]=We[Mt];return qt?k.pop():dt!==$t&&k.push($t),We.splice(Mt,1),dn})}return Object.keys(b).length&&(D=D.replace(g0,(L,k,W,q,de,Ee)=>b.hasOwnProperty(W)?`${k}${b[W]}${Ee}`:L),D=D.replace(v0,(L,k)=>b.hasOwnProperty(k)?b[k]:L),D=D.replace(y0,(L,k)=>{if(b.hasOwnProperty(k)){const W=b[k];if(!W.length)throw new Error(`i18n postprocess: unmatched ICU - ${L} with key: ${k}`);return W.shift()}return L})),D}(p,b)}function up(p,b,D,L,k){if(p=d(p),Array.isArray(p))for(let W=0;W<p.length;W++)up(p[W],b,D,L,k);else{const W=Ti(),q=_n();let de=Ml(p)?p:d(p.provide),Ee=Rd(p);const We=Ni(),dt=1048575&We.providerIndexes,Mt=We.directiveStart,$t=We.providerIndexes>>20;if(Ml(p)||!p.multi){const qt=new mi(Ee,k,Yn),dn=fp(de,b,k?dt:dt+$t,Mt);-1===dn?(kl(Wa(We,q),W,de),dp(W,p,b.length),b.push(de),We.directiveStart++,We.directiveEnd++,k&&(We.providerIndexes+=1048576),D.push(qt),q.push(qt)):(D[dn]=qt,q[dn]=qt)}else{const qt=fp(de,b,dt+$t,Mt),dn=fp(de,b,dt,dt+$t),In=qt>=0&&D[qt],Vn=dn>=0&&D[dn];if(k&&!Vn||!k&&!In){kl(Wa(We,q),W,de);const Xn=function x0(p,b,D,L,k){const W=new mi(p,D,Yn);return W.multi=[],W.index=b,W.componentProviders=0,pg(W,k,L&&!D),W}(k?M0:T0,D.length,k,L,Ee);!k&&Vn&&(D[dn].providerFactory=Xn),dp(W,p,b.length,0),b.push(de),We.directiveStart++,We.directiveEnd++,k&&(We.providerIndexes+=1048576),D.push(Xn),q.push(Xn)}else dp(W,p,qt>-1?qt:dn,pg(D[k?dn:qt],Ee,!k&&L));!k&&L&&Vn&&D[dn].componentProviders++}}}function dp(p,b,D,L){const k=Ml(b),W=function am(p){return!!p.useClass}(b);if(k||W){const Ee=(W?d(b.useClass):b).prototype.ngOnDestroy;if(Ee){const We=p.destroyHooks||(p.destroyHooks=[]);if(!k&&b.multi){const dt=We.indexOf(D);-1===dt?We.push(D,[L,Ee]):We[dt+1].push(L,Ee)}else We.push(D,Ee)}}}function pg(p,b,D){return D&&p.componentProviders++,p.multi.push(b)-1}function fp(p,b,D,L){for(let k=D;k<L;k++)if(b[k]===p)return k;return-1}function T0(p,b,D,L){return hp(this.multi,[])}function M0(p,b,D,L){const k=this.multi;let W;if(this.providerFactory){const q=this.providerFactory.componentProviders,de=Cs(D,D[1],this.providerFactory.index,L);W=de.slice(0,q),hp(k,W);for(let Ee=q;Ee<de.length;Ee++)W.push(de[Ee])}else W=[],hp(k,W);return W}function hp(p,b){for(let D=0;D<p.length;D++)b.push((0,p[D])());return b}function mg(p,b=[]){return D=>{D.providersResolver=(L,k)=>function O0(p,b,D){const L=Ti();if(L.firstCreatePass){const k=Zi(p);up(D,L.data,L.blueprint,k,!0),up(b,L.data,L.blueprint,k,!1)}}(L,k?k(p):p,b)}}class tu{}class _g{}function D0(p,b){return new gg(p,b??null)}class gg extends tu{constructor(b,D){super(),this._parent=D,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dm(this);const L=ci(b);this._bootstrapComponents=la(L.bootstrap),this._r3Injector=al(b,D,[{provide:tu,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],_(b),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(b)}get injector(){return this._r3Injector}destroy(){const b=this._r3Injector;!b.destroyed&&b.destroy(),this.destroyCbs.forEach(D=>D()),this.destroyCbs=null}onDestroy(b){this.destroyCbs.push(b)}}class pp extends _g{constructor(b){super(),this.moduleType=b}create(b){return new gg(this.moduleType,b)}}class P0 extends tu{constructor(b,D,L){super(),this.componentFactoryResolver=new Dm(this),this.instance=null;const k=new Nu([...b,{provide:tu,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],D||Xl(),L,new Set(["environment"]));this.injector=k,k.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(b){this.injector.onDestroy(b)}}function mp(p,b,D=null){return new P0(p,b,D).injector}let I0=(()=>{class p{constructor(D){this._injector=D,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(D){if(!D.standalone)return null;if(!this.cachedInjectors.has(D.id)){const L=Dd(0,D.type),k=L.length>0?mp([L],this._injector,`Standalone[${D.type.name}]`):null;this.cachedInjectors.set(D.id,k)}return this.cachedInjectors.get(D.id)}ngOnDestroy(){try{for(const D of this.cachedInjectors.values())null!==D&&D.destroy()}finally{this.cachedInjectors.clear()}}}return p.\u0275prov=xe({token:p,providedIn:"environment",factory:()=>new p(J(rl))}),p})();function vg(p){p.getStandaloneInjector=b=>b.get(I0).getOrCreateStandaloneInjector(p)}function Tg(p,b,D){const L=ro()+p,k=_n();return k[L]===bi?ka(k,L,D?b.call(D):b()):Gu(k,L)}function Mg(p,b,D,L){return Ig(_n(),ro(),p,b,D,L)}function xg(p,b,D,L,k){return Rg(_n(),ro(),p,b,D,L,k)}function Dg(p,b,D,L,k,W){return Ag(_n(),ro(),p,b,D,L,k,W)}function Pg(p,b,D,L,k,W,q,de){const Ee=ro()+p,We=_n(),dt=function zs(p,b,D,L,k,W){const q=lc(p,b,D,L);return lc(p,b+2,k,W)||q}(We,Ee,D,L,k,W);return Hr(We,Ee+4,q)||dt?ka(We,Ee+5,de?b.call(de,D,L,k,W,q):b(D,L,k,W,q)):Gu(We,Ee+5)}function td(p,b){const D=p[b];return D===bi?void 0:D}function Ig(p,b,D,L,k,W){const q=b+D;return Hr(p,q,k)?ka(p,q+1,W?L.call(W,k):L(k)):td(p,q+1)}function Rg(p,b,D,L,k,W,q){const de=b+D;return lc(p,de,k,W)?ka(p,de+2,q?L.call(q,k,W):L(k,W)):td(p,de+2)}function Ag(p,b,D,L,k,W,q,de){const Ee=b+D;return function qd(p,b,D,L,k){const W=lc(p,b,D,L);return Hr(p,b+2,k)||W}(p,Ee,k,W,q)?ka(p,Ee+3,de?L.call(de,k,W,q):L(k,W,q)):td(p,Ee+3)}function Ng(p,b){const D=Ti();let L;const k=p+22;D.firstCreatePass?(L=function K0(p,b){if(b)for(let D=b.length-1;D>=0;D--){const L=b[D];if(p===L.name)return L}}(b,D.pipeRegistry),D.data[k]=L,L.onDestroy&&(D.destroyHooks||(D.destroyHooks=[])).push(k,L.onDestroy)):L=D.data[k];const W=L.factory||(L.factory=go(L.type)),q=ee(Yn);try{const de=ja(!1),Ee=W();return ja(de),function $y(p,b,D,L){D>=p.data.length&&(p.data[D]=null,p.blueprint[D]=null),b[D]=L}(D,_n(),k,Ee),Ee}finally{ee(q)}}function Fg(p,b,D){const L=p+22,k=_n(),W=zn(k,L);return nd(k,L)?Ig(k,ro(),b,W.transform,D,W):W.transform(D)}function kg(p,b,D,L){const k=p+22,W=_n(),q=zn(W,k);return nd(W,k)?Rg(W,ro(),b,q.transform,D,L,q):q.transform(D,L)}function Bg(p,b,D,L,k){const W=p+22,q=_n(),de=zn(q,W);return nd(q,W)?Ag(q,ro(),b,de.transform,D,L,k,de):de.transform(D,L,k)}function nd(p,b){return p[1].data[b].pure}function gp(p){return b=>{setTimeout(p,void 0,b)}}const Ua=class H0 extends e.xQ{constructor(b=!1){super(),this.__isAsync=b}emit(b){super.next(b)}subscribe(b,D,L){let k=b,W=D||(()=>null),q=L;if(b&&"object"==typeof b){const Ee=b;k=Ee.next?.bind(Ee),W=Ee.error?.bind(Ee),q=Ee.complete?.bind(Ee)}this.__isAsync&&(W=gp(W),k&&(k=gp(k)),q&&(q=gp(q)));const de=super.subscribe({next:k,error:W,complete:q});return b instanceof n.w&&b.add(de),de}};function G0(){return this._results[ac()]()}class pf{constructor(b=!1){this._emitDistinctChangesOnly=b,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const D=ac(),L=pf.prototype;L[D]||(L[D]=G0)}get changes(){return this._changes||(this._changes=new Ua)}get(b){return this._results[b]}map(b){return this._results.map(b)}filter(b){return this._results.filter(b)}find(b){return this._results.find(b)}reduce(b,D){return this._results.reduce(b,D)}forEach(b){this._results.forEach(b)}some(b){return this._results.some(b)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(b,D){const L=this;L.dirty=!1;const k=function Do(p){return p.flat(Number.POSITIVE_INFINITY)}(b);(this._changesDetected=!function ta(p,b,D){if(p.length!==b.length)return!1;for(let L=0;L<p.length;L++){let k=p[L],W=b[L];if(D&&(k=D(k),W=D(W)),W!==k)return!1}return!0}(L._results,k,D))&&(L._results=k,L.length=k.length,L.last=k[this.length-1],L.first=k[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let id=(()=>{class p{}return p.__NG_ELEMENT_ID__=J0,p})();const Y0=id,Q0=class extends Y0{constructor(b,D,L){super(),this._declarationLView=b,this._declarationTContainer=D,this.elementRef=L}createEmbeddedView(b,D){const L=this._declarationTContainer.tViews,k=yr(this._declarationLView,L,b,16,null,L.declTNode,null,null,null,null,D||null);k[17]=this._declarationLView[this._declarationTContainer.index];const q=this._declarationLView[19];return null!==q&&(k[19]=q.createEmbeddedView(L)),Ku(L,k,b),new zu(k)}};function J0(){return mf(Ni(),_n())}function mf(p,b){return 4&p.type?new Q0(b,p,ec(p,b)):null}let _f=(()=>{class p{}return p.__NG_ELEMENT_ID__=X0,p})();function X0(){return jg(Ni(),_n())}const q0=_f,Ug=class extends q0{constructor(b,D,L){super(),this._lContainer=b,this._hostTNode=D,this._hostLView=L}get element(){return ec(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const b=ul(this._hostTNode,this._hostLView);if(Fs(b)){const D=Xr(b,this._hostLView),L=$r(b);return new Os(D[1].data[L+8],D)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(b){const D=Vg(this._lContainer);return null!==D&&D[b]||null}get length(){return this._lContainer.length-10}createEmbeddedView(b,D,L){let k,W;"number"==typeof L?k=L:null!=L&&(k=L.index,W=L.injector);const q=b.createEmbeddedView(D||{},W);return this.insert(q,k),q}createComponent(b,D,L,k,W){const q=b&&!function ea(p){return"function"==typeof p}(b);let de;if(q)de=D;else{const Mt=D||{};de=Mt.index,L=Mt.injector,k=Mt.projectableNodes,W=Mt.environmentInjector||Mt.ngModuleRef}const Ee=q?b:new Zu(yn(b)),We=L||this.parentInjector;if(!W&&null==Ee.ngModule){const $t=(q?We:this.parentInjector).get(rl,null);$t&&(W=$t)}const dt=Ee.create(We,k,void 0,W);return this.insert(dt.hostView,de),dt}insert(b,D){const L=b._lView,k=L[1];if(function Oo(p){return gn(p[3])}(L)){const dt=this.indexOf(b);if(-1!==dt)this.detach(dt);else{const Mt=L[3],$t=new Ug(Mt,Mt[6],Mt[3]);$t.detach($t.indexOf(b))}}const W=this._adjustIndex(D),q=this._lContainer;!function xf(p,b,D,L){const k=10+L,W=D.length;L>0&&(D[k-1][4]=b),L<W-10?(b[4]=D[k],oe(D,10+L,b)):(D.push(b),b[4]=null),b[3]=D;const q=b[17];null!==q&&D!==q&&function mu(p,b){const D=p[9];b[16]!==b[3][3][16]&&(p[2]=!0),null===D?p[9]=[b]:D.push(b)}(q,b);const de=b[19];null!==de&&de.insertView(p),b[2]|=64}(k,L,q,W);const de=Pc(W,q),Ee=L[11],We=xc(Ee,q[7]);return null!==We&&function Sc(p,b,D,L,k,W){L[0]=k,L[6]=b,Gl(p,L,D,1,k,W)}(k,q[6],Ee,L,We,de),b.attachToViewContainerRef(),oe(vp(q),W,b),b}move(b,D){return this.insert(b,D)}indexOf(b){const D=Vg(this._lContainer);return null!==D?D.indexOf(b):-1}remove(b){const D=this._adjustIndex(b,-1),L=_u(this._lContainer,D);L&&(ae(vp(this._lContainer),D),hd(L[1],L))}detach(b){const D=this._adjustIndex(b,-1),L=_u(this._lContainer,D);return L&&null!=ae(vp(this._lContainer),D)?new zu(L):null}_adjustIndex(b,D=0){return b??this.length+D}};function Vg(p){return p[8]}function vp(p){return p[8]||(p[8]=[])}function jg(p,b){let D;const L=b[p.index];if(gn(L))D=L;else{let k;if(8&p.type)k=Mn(L);else{const W=b[11];k=W.createComment("");const q=Ii(p,b);Ra(W,xc(W,q),k,function Wp(p,b){return p.nextSibling(b)}(W,q),!1)}b[p.index]=D=Sm(L,b,k,p),Gd(b,D)}return new Ug(D,p,b)}class yp{constructor(b){this.queryList=b,this.matches=null}clone(){return new yp(this.queryList)}setDirty(){this.queryList.setDirty()}}class bp{constructor(b=[]){this.queries=b}createEmbeddedView(b){const D=b.queries;if(null!==D){const L=null!==b.contentQueries?b.contentQueries[0]:D.length,k=[];for(let W=0;W<L;W++){const q=D.getByIndex(W);k.push(this.queries[q.indexInDeclarationView].clone())}return new bp(k)}return null}insertView(b){this.dirtyQueriesWithMatches(b)}detachView(b){this.dirtyQueriesWithMatches(b)}dirtyQueriesWithMatches(b){for(let D=0;D<this.queries.length;D++)null!==Qg(b,D).matches&&this.queries[D].setDirty()}}class $g{constructor(b,D,L=null){this.predicate=b,this.flags=D,this.read=L}}class Ep{constructor(b=[]){this.queries=b}elementStart(b,D){for(let L=0;L<this.queries.length;L++)this.queries[L].elementStart(b,D)}elementEnd(b){for(let D=0;D<this.queries.length;D++)this.queries[D].elementEnd(b)}embeddedTView(b){let D=null;for(let L=0;L<this.length;L++){const k=null!==D?D.length:0,W=this.getByIndex(L).embeddedTView(b,k);W&&(W.indexInDeclarationView=L,null!==D?D.push(W):D=[W])}return null!==D?new Ep(D):null}template(b,D){for(let L=0;L<this.queries.length;L++)this.queries[L].template(b,D)}getByIndex(b){return this.queries[b]}get length(){return this.queries.length}track(b){this.queries.push(b)}}class Cp{constructor(b,D=-1){this.metadata=b,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=D}elementStart(b,D){this.isApplyingToNode(D)&&this.matchTNode(b,D)}elementEnd(b){this._declarationNodeIndex===b.index&&(this._appliesToNextNode=!1)}template(b,D){this.elementStart(b,D)}embeddedTView(b,D){return this.isApplyingToNode(b)?(this.crossesNgTemplate=!0,this.addMatch(-b.index,D),new Cp(this.metadata)):null}isApplyingToNode(b){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const D=this._declarationNodeIndex;let L=b.parent;for(;null!==L&&8&L.type&&L.index!==D;)L=L.parent;return D===(null!==L?L.index:-1)}return this._appliesToNextNode}matchTNode(b,D){const L=this.metadata.predicate;if(Array.isArray(L))for(let k=0;k<L.length;k++){const W=L[k];this.matchTNodeWithReadOption(b,D,eE(D,W)),this.matchTNodeWithReadOption(b,D,uo(D,b,W,!1,!1))}else L===id?4&D.type&&this.matchTNodeWithReadOption(b,D,-1):this.matchTNodeWithReadOption(b,D,uo(D,b,L,!1,!1))}matchTNodeWithReadOption(b,D,L){if(null!==L){const k=this.metadata.read;if(null!==k)if(k===Uc||k===_f||k===id&&4&D.type)this.addMatch(D.index,-2);else{const W=uo(D,b,k,!1,!1);null!==W&&this.addMatch(D.index,W)}else this.addMatch(D.index,L)}}addMatch(b,D){null===this.matches?this.matches=[b,D]:this.matches.push(b,D)}}function eE(p,b){const D=p.localNames;if(null!==D)for(let L=0;L<D.length;L+=2)if(D[L]===b)return D[L+1];return null}function nE(p,b,D,L){return-1===D?function tE(p,b){return 11&p.type?ec(p,b):4&p.type?mf(p,b):null}(b,p):-2===D?function iE(p,b,D){return D===Uc?ec(b,p):D===id?mf(b,p):D===_f?jg(b,p):void 0}(p,b,L):Cs(p,p[1],D,b)}function Wg(p,b,D,L){const k=b[19].queries[L];if(null===k.matches){const W=p.data,q=D.matches,de=[];for(let Ee=0;Ee<q.length;Ee+=2){const We=q[Ee];de.push(We<0?null:nE(b,W[We],q[Ee+1],D.metadata.read))}k.matches=de}return k.matches}function Sp(p,b,D,L){const k=p.queries.getByIndex(D),W=k.matches;if(null!==W){const q=Wg(p,b,k,D);for(let de=0;de<W.length;de+=2){const Ee=W[de];if(Ee>0)L.push(q[de/2]);else{const We=W[de+1],dt=b[-Ee];for(let Mt=10;Mt<dt.length;Mt++){const $t=dt[Mt];$t[17]===$t[3]&&Sp($t[1],$t,We,L)}if(null!==dt[9]){const Mt=dt[9];for(let $t=0;$t<Mt.length;$t++){const qt=Mt[$t];Sp(qt[1],qt,We,L)}}}}}return L}function Kg(p){const b=_n(),D=Ti(),L=ls();qo(L+1);const k=Qg(D,L);if(p.dirty&&function Mr(p){return 4==(4&p[2])}(b)===(2==(2&k.metadata.flags))){if(null===k.matches)p.reset([]);else{const W=k.crossesNgTemplate?Sp(D,b,L,[]):Wg(D,b,k,L);p.reset(W,um),p.notifyOnChanges()}return!0}return!1}function zg(p,b,D){const L=Ti();L.firstCreatePass&&(Yg(L,new $g(p,b,D),-1),2==(2&b)&&(L.staticViewQueries=!0)),Gg(L,_n(),b)}function Zg(p,b,D,L){const k=Ti();if(k.firstCreatePass){const W=Ni();Yg(k,new $g(b,D,L),W.index),function rE(p,b){const D=p.contentQueries||(p.contentQueries=[]);b!==(D.length?D[D.length-1]:-1)&&D.push(p.queries.length-1,b)}(k,p),2==(2&D)&&(k.staticContentQueries=!0)}Gg(k,_n(),D)}function Hg(){return function oE(p,b){return p[19].queries[b].queryList}(_n(),ls())}function Gg(p,b,D){const L=new pf(4==(4&D));gm(p,b,L,L.destroy),null===b[19]&&(b[19]=new bp),b[19].queries.push(new yp(L))}function Yg(p,b,D){null===p.queries&&(p.queries=new Ep),p.queries.track(new Cp(b,D))}function Qg(p,b){return p.queries.getByIndex(b)}function Jg(p,b){return mf(p,b)}function vf(...p){}const _v=new ki("Application Initializer");let yf=(()=>{class p{constructor(D){this.appInits=D,this.resolve=vf,this.reject=vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((L,k)=>{this.resolve=L,this.reject=k})}runInitializers(){if(this.initialized)return;const D=[],L=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let k=0;k<this.appInits.length;k++){const W=this.appInits[k]();if(zh(W))D.push(W);else if(Hm(W)){const q=new Promise((de,Ee)=>{W.subscribe({complete:de,error:Ee})});D.push(q)}}Promise.all(D).then(()=>{L()}).catch(k=>{this.reject(k)}),0===D.length&&L(),this.initialized=!0}}return p.\u0275fac=function(D){return new(D||p)(J(_v,8))},p.\u0275prov=xe({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const gv=new ki("AppId",{providedIn:"root",factory:function vv(){return`${Dp()}${Dp()}${Dp()}`}});function Dp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yv=new ki("Platform Initializer"),TE=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bv=new ki("appBootstrapListener"),ME=new ki("AnimationModuleType");let xE=(()=>{class p{log(D){console.log(D)}warn(D){console.warn(D)}}return p.\u0275fac=function(D){return new(D||p)},p.\u0275prov=xe({token:p,factory:p.\u0275fac,providedIn:"platform"}),p})();const bf=new ki("LocaleId",{providedIn:"root",factory:()=>$e(bf,me.Optional|me.SkipSelf)||function DE(){return typeof $localize<"u"&&$localize.locale||eu}()}),PE=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class IE{constructor(b,D){this.ngModuleFactory=b,this.componentFactories=D}}let RE=(()=>{class p{compileModuleSync(D){return new pp(D)}compileModuleAsync(D){return Promise.resolve(this.compileModuleSync(D))}compileModuleAndAllComponentsSync(D){const L=this.compileModuleSync(D),W=la(ci(D).declarations).reduce((q,de)=>{const Ee=yn(de);return Ee&&q.push(new Zu(Ee)),q},[]);return new IE(L,W)}compileModuleAndAllComponentsAsync(D){return Promise.resolve(this.compileModuleAndAllComponentsSync(D))}clearCache(){}clearCacheFor(D){}getModuleId(D){}}return p.\u0275fac=function(D){return new(D||p)},p.\u0275prov=xe({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const LE=(()=>Promise.resolve(0))();function Pp(p){typeof Zone>"u"?LE.then(()=>{p&&p.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",p)}class Zs{constructor({enableLongStackTrace:b=!1,shouldCoalesceEventChangeDetection:D=!1,shouldCoalesceRunChangeDetection:L=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ua(!1),this.onMicrotaskEmpty=new Ua(!1),this.onStable=new Ua(!1),this.onError=new Ua(!1),typeof Zone>"u")throw new o(908,!1);Zone.assertZonePatched();const k=this;k._nesting=0,k._outer=k._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(k._inner=k._inner.fork(new Zone.TaskTrackingZoneSpec)),b&&Zone.longStackTraceZoneSpec&&(k._inner=k._inner.fork(Zone.longStackTraceZoneSpec)),k.shouldCoalesceEventChangeDetection=!L&&D,k.shouldCoalesceRunChangeDetection=L,k.lastRequestAnimationFrameId=-1,k.nativeRequestAnimationFrame=function NE(){let p=pt.requestAnimationFrame,b=pt.cancelAnimationFrame;if(typeof Zone<"u"&&p&&b){const D=p[Zone.__symbol__("OriginalDelegate")];D&&(p=D);const L=b[Zone.__symbol__("OriginalDelegate")];L&&(b=L)}return{nativeRequestAnimationFrame:p,nativeCancelAnimationFrame:b}}().nativeRequestAnimationFrame,function BE(p){const b=()=>{!function kE(p){p.isCheckStableRunning||-1!==p.lastRequestAnimationFrameId||(p.lastRequestAnimationFrameId=p.nativeRequestAnimationFrame.call(pt,()=>{p.fakeTopEventTask||(p.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{p.lastRequestAnimationFrameId=-1,Rp(p),p.isCheckStableRunning=!0,Ip(p),p.isCheckStableRunning=!1},void 0,()=>{},()=>{})),p.fakeTopEventTask.invoke()}),Rp(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(D,L,k,W,q,de)=>{try{return Sv(p),D.invokeTask(k,W,q,de)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===W.type||p.shouldCoalesceRunChangeDetection)&&b(),Ov(p)}},onInvoke:(D,L,k,W,q,de,Ee)=>{try{return Sv(p),D.invoke(k,W,q,de,Ee)}finally{p.shouldCoalesceRunChangeDetection&&b(),Ov(p)}},onHasTask:(D,L,k,W)=>{D.hasTask(k,W),L===k&&("microTask"==W.change?(p._hasPendingMicrotasks=W.microTask,Rp(p),Ip(p)):"macroTask"==W.change&&(p.hasPendingMacrotasks=W.macroTask))},onHandleError:(D,L,k,W)=>(D.handleError(k,W),p.runOutsideAngular(()=>p.onError.emit(W)),!1)})}(k)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new o(909,!1)}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new o(909,!1)}run(b,D,L){return this._inner.run(b,D,L)}runTask(b,D,L,k){const W=this._inner,q=W.scheduleEventTask("NgZoneEvent: "+k,b,FE,vf,vf);try{return W.runTask(q,D,L)}finally{W.cancelTask(q)}}runGuarded(b,D,L){return this._inner.runGuarded(b,D,L)}runOutsideAngular(b){return this._outer.run(b)}}const FE={};function Ip(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function Rp(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&-1!==p.lastRequestAnimationFrameId)}function Sv(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function Ov(p){p._nesting--,Ip(p)}class UE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ua,this.onMicrotaskEmpty=new Ua,this.onStable=new Ua,this.onError=new Ua}run(b,D,L){return b.apply(D,L)}runGuarded(b,D,L){return b.apply(D,L)}runOutsideAngular(b){return b()}runTask(b,D,L,k){return b.apply(D,L)}}const Tv=new ki(""),Mv=new ki("");let Ap,VE=(()=>{class p{constructor(D,L,k){this._ngZone=D,this.registry=L,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ap||(function jE(p){Ap=p}(k),k.addToWindow(L)),this._watchAngularEvents(),D.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),Pp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pp(()=>{for(;0!==this._callbacks.length;){let D=this._callbacks.pop();clearTimeout(D.timeoutId),D.doneCb(this._didWork)}this._didWork=!1});else{let D=this.getPendingTasks();this._callbacks=this._callbacks.filter(L=>!L.updateCb||!L.updateCb(D)||(clearTimeout(L.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(D=>({source:D.source,creationLocation:D.creationLocation,data:D.data})):[]}addCallback(D,L,k){let W=-1;L&&L>0&&(W=setTimeout(()=>{this._callbacks=this._callbacks.filter(q=>q.timeoutId!==W),D(this._didWork,this.getPendingTasks())},L)),this._callbacks.push({doneCb:D,timeoutId:W,updateCb:k})}whenStable(D,L,k){if(k&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(D,L,k),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(D){this.registry.registerApplication(D,this)}unregisterApplication(D){this.registry.unregisterApplication(D)}findProviders(D,L,k){return[]}}return p.\u0275fac=function(D){return new(D||p)(J(Zs),J(xv),J(Mv))},p.\u0275prov=xe({token:p,factory:p.\u0275fac}),p})(),xv=(()=>{class p{constructor(){this._applications=new Map}registerApplication(D,L){this._applications.set(D,L)}unregisterApplication(D){this._applications.delete(D)}unregisterAllApplications(){this._applications.clear()}getTestability(D){return this._applications.get(D)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(D,L=!0){return Ap?.findTestabilityInTree(this,D,L)??null}}return p.\u0275fac=function(D){return new(D||p)},p.\u0275prov=xe({token:p,factory:p.\u0275fac,providedIn:"platform"}),p})(),Ll=null;const Dv=new ki("AllowMultipleToken"),wp=new ki("PlatformDestroyListeners");class KE{constructor(b,D){this.name=b,this.token=D}}function Iv(p,b,D=[]){const L=`Platform: ${b}`,k=new ki(L);return(W=[])=>{let q=Lp();if(!q||q.injector.get(Dv,!1)){const de=[...D,...W,{provide:k,useValue:!0}];p?p(de):function zE(p){if(Ll&&!Ll.get(Dv,!1))throw new o(400,!1);Ll=p;const b=p.get(Av);(function Pv(p){const b=p.get(yv,null);b&&b.forEach(D=>D())})(p)}(function Rv(p=[],b){return U.create({name:b,providers:[{provide:Lc,useValue:"platform"},{provide:wp,useValue:new Set([()=>Ll=null])},...p]})}(de,L))}return function HE(p){const b=Lp();if(!b)throw new o(401,!1);return b}()}}function Lp(){return Ll?.get(Av)??null}let Av=(()=>{class p{constructor(D){this._injector=D,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(D,L){const k=function Lv(p,b){let D;return D="noop"===p?new UE:("zone.js"===p?void 0:p)||new Zs(b),D}(L?.ngZone,function wv(p){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!p||!p.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!p||!p.ngZoneRunCoalescing)||!1}}(L)),W=[{provide:Zs,useValue:k}];return k.run(()=>{const q=U.create({providers:W,parent:this.injector,name:D.moduleType.name}),de=D.create(q),Ee=de.injector.get(aa,null);if(!Ee)throw new o(402,!1);return k.runOutsideAngular(()=>{const We=k.onError.subscribe({next:dt=>{Ee.handleError(dt)}});de.onDestroy(()=>{Cf(this._modules,de),We.unsubscribe()})}),function Nv(p,b,D){try{const L=D();return zh(L)?L.catch(k=>{throw b.runOutsideAngular(()=>p.handleError(k)),k}):L}catch(L){throw b.runOutsideAngular(()=>p.handleError(L)),L}}(Ee,k,()=>{const We=de.injector.get(yf);return We.runInitializers(),We.donePromise.then(()=>(K_(de.injector.get(bf,eu)||eu),this._moduleDoBootstrap(de),de))})})}bootstrapModule(D,L=[]){const k=Fv({},L);return function $E(p,b,D){const L=new pp(D);return Promise.resolve(L)}(0,0,D).then(W=>this.bootstrapModuleFactory(W,k))}_moduleDoBootstrap(D){const L=D.injector.get(Ef);if(D._bootstrapComponents.length>0)D._bootstrapComponents.forEach(k=>L.bootstrap(k));else{if(!D.instance.ngDoBootstrap)throw new o(403,!1);D.instance.ngDoBootstrap(L)}this._modules.push(D)}onDestroy(D){this._destroyListeners.push(D)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new o(404,!1);this._modules.slice().forEach(L=>L.destroy()),this._destroyListeners.forEach(L=>L());const D=this._injector.get(wp,null);D&&(D.forEach(L=>L()),D.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return p.\u0275fac=function(D){return new(D||p)(J(U))},p.\u0275prov=xe({token:p,factory:p.\u0275fac,providedIn:"platform"}),p})();function Fv(p,b){return Array.isArray(b)?b.reduce(Fv,p):{...p,...b}}let Ef=(()=>{class p{constructor(D,L,k){this._zone=D,this._injector=L,this._exceptionHandler=k,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const W=new y.y(de=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{de.next(this._stable),de.complete()})}),q=new y.y(de=>{let Ee;this._zone.runOutsideAngular(()=>{Ee=this._zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),Pp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,de.next(!0))})})});const We=this._zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{de.next(!1)}))});return()=>{Ee.unsubscribe(),We.unsubscribe()}});this.isStable=(0,T.T)(W,q.pipe(function E(){return p=>(0,O.x)()((0,v.O)(C)(p))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(D,L){const k=D instanceof Fu;if(!this._injector.get(yf).done)throw!k&&ei(D),new o(405,false);let q;q=k?D:this._injector.get(ql).resolveComponentFactory(D),this.componentTypes.push(q.componentType);const de=function WE(p){return p.isBoundToModule}(q)?void 0:this._injector.get(tu),We=q.create(U.NULL,[],L||q.selector,de),dt=We.location.nativeElement,Mt=We.injector.get(Tv,null);return Mt?.registerApplication(dt),We.onDestroy(()=>{this.detachView(We.hostView),Cf(this.components,We),Mt?.unregisterApplication(dt)}),this._loadComponent(We),We}tick(){if(this._runningTick)throw new o(101,!1);try{this._runningTick=!0;for(let D of this._views)D.detectChanges()}catch(D){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(D))}finally{this._runningTick=!1}}attachView(D){const L=D;this._views.push(L),L.attachToAppRef(this)}detachView(D){const L=D;Cf(this._views,L),L.detachFromAppRef()}_loadComponent(D){this.attachView(D.hostView),this.tick(),this.components.push(D);const L=this._injector.get(bv,[]);L.push(...this._bootstrapListeners),L.forEach(k=>k(D))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(D=>D()),this._views.slice().forEach(D=>D.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(D){return this._destroyListeners.push(D),()=>Cf(this._destroyListeners,D)}destroy(){if(this._destroyed)throw new o(406,!1);const D=this._injector;D.destroy&&!D.destroyed&&D.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return p.\u0275fac=function(D){return new(D||p)(J(Zs),J(rl),J(aa))},p.\u0275prov=xe({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Cf(p,b){const D=p.indexOf(b);D>-1&&p.splice(D,1)}function YE(){}let QE=(()=>{class p{}return p.__NG_ELEMENT_ID__=JE,p})();function JE(p){return function XE(p,b,D){if(Yi(p)&&!D){const L=Qi(p.index,b);return new zu(L,L)}return 47&p.type?new zu(b[16],b):null}(Ni(),_n(),16==(16&p))}class jv{constructor(){}supports(b){return Hu(b)}create(b){return new oC(b)}}const iC=(p,b)=>b;class oC{constructor(b){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=b||iC}forEachItem(b){let D;for(D=this._itHead;null!==D;D=D._next)b(D)}forEachOperation(b){let D=this._itHead,L=this._removalsHead,k=0,W=null;for(;D||L;){const q=!L||D&&D.currentIndex<Wv(L,k,W)?D:L,de=Wv(q,k,W),Ee=q.currentIndex;if(q===L)k--,L=L._nextRemoved;else if(D=D._next,null==q.previousIndex)k++;else{W||(W=[]);const We=de-k,dt=Ee-k;if(We!=dt){for(let $t=0;$t<We;$t++){const qt=$t<W.length?W[$t]:W[$t]=0,dn=qt+$t;dt<=dn&&dn<We&&(W[$t]=qt+1)}W[q.previousIndex]=dt-We}}de!==Ee&&b(q,de,Ee)}}forEachPreviousItem(b){let D;for(D=this._previousItHead;null!==D;D=D._nextPrevious)b(D)}forEachAddedItem(b){let D;for(D=this._additionsHead;null!==D;D=D._nextAdded)b(D)}forEachMovedItem(b){let D;for(D=this._movesHead;null!==D;D=D._nextMoved)b(D)}forEachRemovedItem(b){let D;for(D=this._removalsHead;null!==D;D=D._nextRemoved)b(D)}forEachIdentityChange(b){let D;for(D=this._identityChangesHead;null!==D;D=D._nextIdentityChange)b(D)}diff(b){if(null==b&&(b=[]),!Hu(b))throw new o(900,!1);return this.check(b)?this:null}onDestroy(){}check(b){this._reset();let k,W,q,D=this._itHead,L=!1;if(Array.isArray(b)){this.length=b.length;for(let de=0;de<this.length;de++)W=b[de],q=this._trackByFn(de,W),null!==D&&Object.is(D.trackById,q)?(L&&(D=this._verifyReinsertion(D,W,q,de)),Object.is(D.item,W)||this._addIdentityChange(D,W)):(D=this._mismatch(D,W,q,de),L=!0),D=D._next}else k=0,function By(p,b){if(Array.isArray(p))for(let D=0;D<p.length;D++)b(p[D]);else{const D=p[ac()]();let L;for(;!(L=D.next()).done;)b(L.value)}}(b,de=>{q=this._trackByFn(k,de),null!==D&&Object.is(D.trackById,q)?(L&&(D=this._verifyReinsertion(D,de,q,k)),Object.is(D.item,de)||this._addIdentityChange(D,de)):(D=this._mismatch(D,de,q,k),L=!0),D=D._next,k++}),this.length=k;return this._truncate(D),this.collection=b,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let b;for(b=this._previousItHead=this._itHead;null!==b;b=b._next)b._nextPrevious=b._next;for(b=this._additionsHead;null!==b;b=b._nextAdded)b.previousIndex=b.currentIndex;for(this._additionsHead=this._additionsTail=null,b=this._movesHead;null!==b;b=b._nextMoved)b.previousIndex=b.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(b,D,L,k){let W;return null===b?W=this._itTail:(W=b._prev,this._remove(b)),null!==(b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(L,null))?(Object.is(b.item,D)||this._addIdentityChange(b,D),this._reinsertAfter(b,W,k)):null!==(b=null===this._linkedRecords?null:this._linkedRecords.get(L,k))?(Object.is(b.item,D)||this._addIdentityChange(b,D),this._moveAfter(b,W,k)):b=this._addAfter(new rC(D,L),W,k),b}_verifyReinsertion(b,D,L,k){let W=null===this._unlinkedRecords?null:this._unlinkedRecords.get(L,null);return null!==W?b=this._reinsertAfter(W,b._prev,k):b.currentIndex!=k&&(b.currentIndex=k,this._addToMoves(b,k)),b}_truncate(b){for(;null!==b;){const D=b._next;this._addToRemovals(this._unlink(b)),b=D}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(b,D,L){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(b);const k=b._prevRemoved,W=b._nextRemoved;return null===k?this._removalsHead=W:k._nextRemoved=W,null===W?this._removalsTail=k:W._prevRemoved=k,this._insertAfter(b,D,L),this._addToMoves(b,L),b}_moveAfter(b,D,L){return this._unlink(b),this._insertAfter(b,D,L),this._addToMoves(b,L),b}_addAfter(b,D,L){return this._insertAfter(b,D,L),this._additionsTail=null===this._additionsTail?this._additionsHead=b:this._additionsTail._nextAdded=b,b}_insertAfter(b,D,L){const k=null===D?this._itHead:D._next;return b._next=k,b._prev=D,null===k?this._itTail=b:k._prev=b,null===D?this._itHead=b:D._next=b,null===this._linkedRecords&&(this._linkedRecords=new $v),this._linkedRecords.put(b),b.currentIndex=L,b}_remove(b){return this._addToRemovals(this._unlink(b))}_unlink(b){null!==this._linkedRecords&&this._linkedRecords.remove(b);const D=b._prev,L=b._next;return null===D?this._itHead=L:D._next=L,null===L?this._itTail=D:L._prev=D,b}_addToMoves(b,D){return b.previousIndex===D||(this._movesTail=null===this._movesTail?this._movesHead=b:this._movesTail._nextMoved=b),b}_addToRemovals(b){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $v),this._unlinkedRecords.put(b),b.currentIndex=null,b._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=b,b._prevRemoved=null):(b._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=b),b}_addIdentityChange(b,D){return b.item=D,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=b:this._identityChangesTail._nextIdentityChange=b,b}}class rC{constructor(b,D){this.item=b,this.trackById=D,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sC{constructor(){this._head=null,this._tail=null}add(b){null===this._head?(this._head=this._tail=b,b._nextDup=null,b._prevDup=null):(this._tail._nextDup=b,b._prevDup=this._tail,b._nextDup=null,this._tail=b)}get(b,D){let L;for(L=this._head;null!==L;L=L._nextDup)if((null===D||D<=L.currentIndex)&&Object.is(L.trackById,b))return L;return null}remove(b){const D=b._prevDup,L=b._nextDup;return null===D?this._head=L:D._nextDup=L,null===L?this._tail=D:L._prevDup=D,null===this._head}}class $v{constructor(){this.map=new Map}put(b){const D=b.trackById;let L=this.map.get(D);L||(L=new sC,this.map.set(D,L)),L.add(b)}get(b,D){const k=this.map.get(b);return k?k.get(b,D):null}remove(b){const D=b.trackById;return this.map.get(D).remove(b)&&this.map.delete(D),b}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(p,b,D){const L=p.previousIndex;if(null===L)return L;let k=0;return D&&L<D.length&&(k=D[L]),L+b+k}class Kv{constructor(){}supports(b){return b instanceof Map||Uh(b)}create(){return new aC}}class aC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(b){let D;for(D=this._mapHead;null!==D;D=D._next)b(D)}forEachPreviousItem(b){let D;for(D=this._previousMapHead;null!==D;D=D._nextPrevious)b(D)}forEachChangedItem(b){let D;for(D=this._changesHead;null!==D;D=D._nextChanged)b(D)}forEachAddedItem(b){let D;for(D=this._additionsHead;null!==D;D=D._nextAdded)b(D)}forEachRemovedItem(b){let D;for(D=this._removalsHead;null!==D;D=D._nextRemoved)b(D)}diff(b){if(b){if(!(b instanceof Map||Uh(b)))throw new o(900,!1)}else b=new Map;return this.check(b)?this:null}onDestroy(){}check(b){this._reset();let D=this._mapHead;if(this._appendAfter=null,this._forEach(b,(L,k)=>{if(D&&D.key===k)this._maybeAddToChanges(D,L),this._appendAfter=D,D=D._next;else{const W=this._getOrCreateRecordForKey(k,L);D=this._insertBeforeOrAppend(D,W)}}),D){D._prev&&(D._prev._next=null),this._removalsHead=D;for(let L=D;null!==L;L=L._nextRemoved)L===this._mapHead&&(this._mapHead=null),this._records.delete(L.key),L._nextRemoved=L._next,L.previousValue=L.currentValue,L.currentValue=null,L._prev=null,L._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(b,D){if(b){const L=b._prev;return D._next=b,D._prev=L,b._prev=D,L&&(L._next=D),b===this._mapHead&&(this._mapHead=D),this._appendAfter=b,b}return this._appendAfter?(this._appendAfter._next=D,D._prev=this._appendAfter):this._mapHead=D,this._appendAfter=D,null}_getOrCreateRecordForKey(b,D){if(this._records.has(b)){const k=this._records.get(b);this._maybeAddToChanges(k,D);const W=k._prev,q=k._next;return W&&(W._next=q),q&&(q._prev=W),k._next=null,k._prev=null,k}const L=new lC(b);return this._records.set(b,L),L.currentValue=D,this._addToAdditions(L),L}_reset(){if(this.isDirty){let b;for(this._previousMapHead=this._mapHead,b=this._previousMapHead;null!==b;b=b._next)b._nextPrevious=b._next;for(b=this._changesHead;null!==b;b=b._nextChanged)b.previousValue=b.currentValue;for(b=this._additionsHead;null!=b;b=b._nextAdded)b.previousValue=b.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(b,D){Object.is(D,b.currentValue)||(b.previousValue=b.currentValue,b.currentValue=D,this._addToChanges(b))}_addToAdditions(b){null===this._additionsHead?this._additionsHead=this._additionsTail=b:(this._additionsTail._nextAdded=b,this._additionsTail=b)}_addToChanges(b){null===this._changesHead?this._changesHead=this._changesTail=b:(this._changesTail._nextChanged=b,this._changesTail=b)}_forEach(b,D){b instanceof Map?b.forEach(D):Object.keys(b).forEach(L=>D(b[L],L))}}class lC{constructor(b){this.key=b,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zv(){return new Up([new jv])}let Up=(()=>{class p{constructor(D){this.factories=D}static create(D,L){if(null!=L){const k=L.factories.slice();D=D.concat(k)}return new p(D)}static extend(D){return{provide:p,useFactory:L=>p.create(D,L||zv()),deps:[[p,new hl,new Sa]]}}find(D){const L=this.factories.find(k=>k.supports(D));if(null!=L)return L;throw new o(901,!1)}}return p.\u0275prov=xe({token:p,providedIn:"root",factory:zv}),p})();function Zv(){return new Vp([new Kv])}let Vp=(()=>{class p{constructor(D){this.factories=D}static create(D,L){if(L){const k=L.factories.slice();D=D.concat(k)}return new p(D)}static extend(D){return{provide:p,useFactory:L=>p.create(D,L||Zv()),deps:[[p,new hl,new Sa]]}}find(D){const L=this.factories.find(k=>k.supports(D));if(L)return L;throw new o(901,!1)}}return p.\u0275prov=xe({token:p,providedIn:"root",factory:Zv}),p})();const dC=Iv(null,"core",[]);let fC=(()=>{class p{constructor(D){}}return p.\u0275fac=function(D){return new(D||p)(J(Ef))},p.\u0275mod=Qt({type:p}),p.\u0275inj=Ue({}),p})();function hC(p){return"boolean"==typeof p?p:null!=p&&"false"!==p}},4006:(Je,K,t)=>{"use strict";t.d(K,{Cf:()=>s,F:()=>pi,Fj:()=>h,JJ:()=>Ye,JL:()=>et,JU:()=>E,NI:()=>di,On:()=>Ri,Q7:()=>wo,UX:()=>ms,Zs:()=>Xo,_Y:()=>no,a5:()=>it,cw:()=>an,kI:()=>S,nD:()=>Wi,sg:()=>oi,u:()=>Co,u5:()=>Ii,wV:()=>Ao});var e=t(6353),n=t(6895),y=t(5254),T=t(567),v=t(4850);let O=(()=>{class De{constructor(Te,ht){this._renderer=Te,this._elementRef=ht,this.onChange=on=>{},this.onTouched=()=>{}}setProperty(Te,ht){this._renderer.setProperty(this._elementRef.nativeElement,Te,ht)}registerOnTouched(Te){this.onTouched=Te}registerOnChange(Te){this.onChange=Te}setDisabledState(Te){this.setProperty("disabled",Te)}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(e.Qsj),e.Y36(e.SBq))},De.\u0275dir=e.lG2({type:De}),De})(),C=(()=>{class De extends O{}return De.\u0275fac=function(){let Oe;return function(ht){return(Oe||(Oe=e.n5z(De)))(ht||De)}}(),De.\u0275dir=e.lG2({type:De,features:[e.qOj]}),De})();const E=new e.OlP("NgValueAccessor"),_={provide:E,useExisting:(0,e.Gpc)(()=>h),multi:!0},m=new e.OlP("CompositionEventMode");let h=(()=>{class De extends O{constructor(Te,ht,on){super(Te,ht),this._compositionMode=on,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l(){const De=(0,n.q)()?(0,n.q)().getUserAgent():"";return/android (\d+)/.test(De.toLowerCase())}())}writeValue(Te){this.setProperty("value",Te??"")}_handleInput(Te){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Te)}_compositionStart(){this._composing=!0}_compositionEnd(Te){this._composing=!1,this._compositionMode&&this.onChange(Te)}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(m,8))},De.\u0275dir=e.lG2({type:De,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Te,ht){1&Te&&e.NdJ("input",function(Nn){return ht._handleInput(Nn.target.value)})("blur",function(){return ht.onTouched()})("compositionstart",function(){return ht._compositionStart()})("compositionend",function(Nn){return ht._compositionEnd(Nn.target.value)})},features:[e._Bn([_]),e.qOj]}),De})();function c(De){return null==De||("string"==typeof De||Array.isArray(De))&&0===De.length}function a(De){return null!=De&&"number"==typeof De.length}const s=new e.OlP("NgValidators"),r=new e.OlP("NgAsyncValidators"),o=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class S{static min(Oe){return function I(De){return Oe=>{if(c(Oe.value)||c(De))return null;const Te=parseFloat(Oe.value);return!isNaN(Te)&&Te<De?{min:{min:De,actual:Oe.value}}:null}}(Oe)}static max(Oe){return function x(De){return Oe=>{if(c(Oe.value)||c(De))return null;const Te=parseFloat(Oe.value);return!isNaN(Te)&&Te>De?{max:{max:De,actual:Oe.value}}:null}}(Oe)}static required(Oe){return P(Oe)}static requiredTrue(Oe){return g(Oe)}static email(Oe){return function u(De){return c(De.value)||o.test(De.value)?null:{email:!0}}(Oe)}static minLength(Oe){return function M(De){return Oe=>c(Oe.value)||!a(Oe.value)?null:Oe.value.length<De?{minlength:{requiredLength:De,actualLength:Oe.value.length}}:null}(Oe)}static maxLength(Oe){return R(Oe)}static pattern(Oe){return function w(De){if(!De)return F;let Oe,Te;return"string"==typeof De?(Te="","^"!==De.charAt(0)&&(Te+="^"),Te+=De,"$"!==De.charAt(De.length-1)&&(Te+="$"),Oe=new RegExp(Te)):(Te=De.toString(),Oe=De),ht=>{if(c(ht.value))return null;const on=ht.value;return Oe.test(on)?null:{pattern:{requiredPattern:Te,actualValue:on}}}}(Oe)}static nullValidator(Oe){return null}static compose(Oe){return ie(Oe)}static composeAsync(Oe){return G(Oe)}}function P(De){return c(De.value)?{required:!0}:null}function g(De){return!0===De.value?null:{required:!0}}function R(De){return Oe=>a(Oe.value)&&Oe.value.length>De?{maxlength:{requiredLength:De,actualLength:Oe.value.length}}:null}function F(De){return null}function B(De){return null!=De}function H(De){return(0,e.QGY)(De)?(0,y.D)(De):De}function $(De){let Oe={};return De.forEach(Te=>{Oe=null!=Te?{...Oe,...Te}:Oe}),0===Object.keys(Oe).length?null:Oe}function j(De,Oe){return Oe.map(Te=>Te(De))}function Q(De){return De.map(Oe=>function V(De){return!De.validate}(Oe)?Oe:Te=>Oe.validate(Te))}function ie(De){if(!De)return null;const Oe=De.filter(B);return 0==Oe.length?null:function(Te){return $(j(Te,Oe))}}function ye(De){return null!=De?ie(Q(De)):null}function G(De){if(!De)return null;const Oe=De.filter(B);return 0==Oe.length?null:function(Te){const ht=j(Te,Oe).map(H);return(0,T.D)(ht).pipe((0,v.U)($))}}function _e(De){return null!=De?G(Q(De)):null}function Ie(De,Oe){return null===De?[Oe]:Array.isArray(De)?[...De,Oe]:[De,Oe]}function Me(De){return De._rawValidators}function Fe(De){return De._rawAsyncValidators}function Ve(De){return De?Array.isArray(De)?De:[De]:[]}function Pe(De,Oe){return Array.isArray(De)?De.includes(Oe):De===Oe}function xe(De,Oe){const Te=Ve(Oe);return Ve(De).forEach(on=>{Pe(Te,on)||Te.push(on)}),Te}function be(De,Oe){return Ve(Oe).filter(Te=>!Pe(De,Te))}class Ue{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Oe){this._rawValidators=Oe||[],this._composedValidatorFn=ye(this._rawValidators)}_setAsyncValidators(Oe){this._rawAsyncValidators=Oe||[],this._composedAsyncValidatorFn=_e(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Oe){this._onDestroyCallbacks.push(Oe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Oe=>Oe()),this._onDestroyCallbacks=[]}reset(Oe){this.control&&this.control.reset(Oe)}hasError(Oe,Te){return!!this.control&&this.control.hasError(Oe,Te)}getError(Oe,Te){return this.control?this.control.getError(Oe,Te):null}}class He extends Ue{get formDirective(){return null}get path(){return null}}class it extends Ue{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class je{constructor(Oe){this._cd=Oe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ye=(()=>{class De extends je{constructor(Te){super(Te)}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(it,2))},De.\u0275dir=e.lG2({type:De,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Te,ht){2&Te&&e.ekj("ng-untouched",ht.isUntouched)("ng-touched",ht.isTouched)("ng-pristine",ht.isPristine)("ng-dirty",ht.isDirty)("ng-valid",ht.isValid)("ng-invalid",ht.isInvalid)("ng-pending",ht.isPending)},features:[e.qOj]}),De})(),et=(()=>{class De extends je{constructor(Te){super(Te)}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(He,10))},De.\u0275dir=e.lG2({type:De,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Te,ht){2&Te&&e.ekj("ng-untouched",ht.isUntouched)("ng-touched",ht.isTouched)("ng-pristine",ht.isPristine)("ng-dirty",ht.isDirty)("ng-valid",ht.isValid)("ng-invalid",ht.isInvalid)("ng-pending",ht.isPending)("ng-submitted",ht.isSubmitted)},features:[e.qOj]}),De})();const Xe="VALID",Ke="INVALID",rt="PENDING",le="DISABLED";function te(De){return(Qe(De)?De.validators:De)||null}function ne(De,Oe){return(Qe(Oe)?Oe.asyncValidators:De)||null}function Qe(De){return null!=De&&!Array.isArray(De)&&"object"==typeof De}class cn{constructor(Oe,Te){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Oe),this._assignAsyncValidators(Te)}get validator(){return this._composedValidatorFn}set validator(Oe){this._rawValidators=this._composedValidatorFn=Oe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Oe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Oe}get parent(){return this._parent}get valid(){return this.status===Xe}get invalid(){return this.status===Ke}get pending(){return this.status==rt}get disabled(){return this.status===le}get enabled(){return this.status!==le}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Oe){this._assignValidators(Oe)}setAsyncValidators(Oe){this._assignAsyncValidators(Oe)}addValidators(Oe){this.setValidators(xe(Oe,this._rawValidators))}addAsyncValidators(Oe){this.setAsyncValidators(xe(Oe,this._rawAsyncValidators))}removeValidators(Oe){this.setValidators(be(Oe,this._rawValidators))}removeAsyncValidators(Oe){this.setAsyncValidators(be(Oe,this._rawAsyncValidators))}hasValidator(Oe){return Pe(this._rawValidators,Oe)}hasAsyncValidator(Oe){return Pe(this._rawAsyncValidators,Oe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Oe={}){this.touched=!0,this._parent&&!Oe.onlySelf&&this._parent.markAsTouched(Oe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Oe=>Oe.markAllAsTouched())}markAsUntouched(Oe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Te=>{Te.markAsUntouched({onlySelf:!0})}),this._parent&&!Oe.onlySelf&&this._parent._updateTouched(Oe)}markAsDirty(Oe={}){this.pristine=!1,this._parent&&!Oe.onlySelf&&this._parent.markAsDirty(Oe)}markAsPristine(Oe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Te=>{Te.markAsPristine({onlySelf:!0})}),this._parent&&!Oe.onlySelf&&this._parent._updatePristine(Oe)}markAsPending(Oe={}){this.status=rt,!1!==Oe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Oe.onlySelf&&this._parent.markAsPending(Oe)}disable(Oe={}){const Te=this._parentMarkedDirty(Oe.onlySelf);this.status=le,this.errors=null,this._forEachChild(ht=>{ht.disable({...Oe,onlySelf:!0})}),this._updateValue(),!1!==Oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Oe,skipPristineCheck:Te}),this._onDisabledChange.forEach(ht=>ht(!0))}enable(Oe={}){const Te=this._parentMarkedDirty(Oe.onlySelf);this.status=Xe,this._forEachChild(ht=>{ht.enable({...Oe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Oe.emitEvent}),this._updateAncestors({...Oe,skipPristineCheck:Te}),this._onDisabledChange.forEach(ht=>ht(!1))}_updateAncestors(Oe){this._parent&&!Oe.onlySelf&&(this._parent.updateValueAndValidity(Oe),Oe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Oe){this._parent=Oe}getRawValue(){return this.value}updateValueAndValidity(Oe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xe||this.status===rt)&&this._runAsyncValidator(Oe.emitEvent)),!1!==Oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Oe.onlySelf&&this._parent.updateValueAndValidity(Oe)}_updateTreeValidity(Oe={emitEvent:!0}){this._forEachChild(Te=>Te._updateTreeValidity(Oe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Oe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?le:Xe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Oe){if(this.asyncValidator){this.status=rt,this._hasOwnPendingAsyncValidator=!0;const Te=H(this.asyncValidator(this));this._asyncValidationSubscription=Te.subscribe(ht=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ht,{emitEvent:Oe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Oe,Te={}){this.errors=Oe,this._updateControlsErrors(!1!==Te.emitEvent)}get(Oe){let Te=Oe;return null==Te||(Array.isArray(Te)||(Te=Te.split(".")),0===Te.length)?null:Te.reduce((ht,on)=>ht&&ht._find(on),this)}getError(Oe,Te){const ht=Te?this.get(Te):this;return ht&&ht.errors?ht.errors[Oe]:null}hasError(Oe,Te){return!!this.getError(Oe,Te)}get root(){let Oe=this;for(;Oe._parent;)Oe=Oe._parent;return Oe}_updateControlsErrors(Oe){this.status=this._calculateStatus(),Oe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Oe)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?le:this.errors?Ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rt)?rt:this._anyControlsHaveStatus(Ke)?Ke:Xe}_anyControlsHaveStatus(Oe){return this._anyControls(Te=>Te.status===Oe)}_anyControlsDirty(){return this._anyControls(Oe=>Oe.dirty)}_anyControlsTouched(){return this._anyControls(Oe=>Oe.touched)}_updatePristine(Oe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Oe.onlySelf&&this._parent._updatePristine(Oe)}_updateTouched(Oe={}){this.touched=this._anyControlsTouched(),this._parent&&!Oe.onlySelf&&this._parent._updateTouched(Oe)}_registerOnCollectionChange(Oe){this._onCollectionChange=Oe}_setUpdateStrategy(Oe){Qe(Oe)&&null!=Oe.updateOn&&(this._updateOn=Oe.updateOn)}_parentMarkedDirty(Oe){return!Oe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Oe){return null}_assignValidators(Oe){this._rawValidators=Array.isArray(Oe)?Oe.slice():Oe,this._composedValidatorFn=function J(De){return Array.isArray(De)?ye(De):De||null}(this._rawValidators)}_assignAsyncValidators(Oe){this._rawAsyncValidators=Array.isArray(Oe)?Oe.slice():Oe,this._composedAsyncValidatorFn=function $e(De){return Array.isArray(De)?_e(De):De||null}(this._rawAsyncValidators)}}class an extends cn{constructor(Oe,Te,ht){super(te(Te),ne(ht,Te)),this.controls=Oe,this._initObservables(),this._setUpdateStrategy(Te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Oe,Te){return this.controls[Oe]?this.controls[Oe]:(this.controls[Oe]=Te,Te.setParent(this),Te._registerOnCollectionChange(this._onCollectionChange),Te)}addControl(Oe,Te,ht={}){this.registerControl(Oe,Te),this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}removeControl(Oe,Te={}){this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),delete this.controls[Oe],this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}setControl(Oe,Te,ht={}){this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),delete this.controls[Oe],Te&&this.registerControl(Oe,Te),this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}contains(Oe){return this.controls.hasOwnProperty(Oe)&&this.controls[Oe].enabled}setValue(Oe,Te={}){(function zt(De,Oe,Te){De._forEachChild((ht,on)=>{if(void 0===Te[on])throw new e.vHH(1002,"")})})(this,0,Oe),Object.keys(Oe).forEach(ht=>{(function Tt(De,Oe,Te){const ht=De.controls;if(!(Oe?Object.keys(ht):ht).length)throw new e.vHH(1e3,"");if(!ht[Te])throw new e.vHH(1001,"")})(this,!0,ht),this.controls[ht].setValue(Oe[ht],{onlySelf:!0,emitEvent:Te.emitEvent})}),this.updateValueAndValidity(Te)}patchValue(Oe,Te={}){null!=Oe&&(Object.keys(Oe).forEach(ht=>{const on=this.controls[ht];on&&on.patchValue(Oe[ht],{onlySelf:!0,emitEvent:Te.emitEvent})}),this.updateValueAndValidity(Te))}reset(Oe={},Te={}){this._forEachChild((ht,on)=>{ht.reset(Oe[on],{onlySelf:!0,emitEvent:Te.emitEvent})}),this._updatePristine(Te),this._updateTouched(Te),this.updateValueAndValidity(Te)}getRawValue(){return this._reduceChildren({},(Oe,Te,ht)=>(Oe[ht]=Te.getRawValue(),Oe))}_syncPendingControls(){let Oe=this._reduceChildren(!1,(Te,ht)=>!!ht._syncPendingControls()||Te);return Oe&&this.updateValueAndValidity({onlySelf:!0}),Oe}_forEachChild(Oe){Object.keys(this.controls).forEach(Te=>{const ht=this.controls[Te];ht&&Oe(ht,Te)})}_setUpControls(){this._forEachChild(Oe=>{Oe.setParent(this),Oe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Oe){for(const[Te,ht]of Object.entries(this.controls))if(this.contains(Te)&&Oe(ht))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Te,ht,on)=>((ht.enabled||this.disabled)&&(Te[on]=ht.value),Te))}_reduceChildren(Oe,Te){let ht=Oe;return this._forEachChild((on,Nn)=>{ht=Te(ht,on,Nn)}),ht}_allControlsDisabled(){for(const Oe of Object.keys(this.controls))if(this.controls[Oe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Oe){return this.controls.hasOwnProperty(Oe)?this.controls[Oe]:null}}const Rn=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wt}),wt="always";function St(De,Oe){return[...Oe.path,De]}function _t(De,Oe,Te=wt){Ft(De,Oe),Oe.valueAccessor.writeValue(De.value),(De.disabled||"always"===Te)&&Oe.valueAccessor.setDisabledState?.(De.disabled),function vt(De,Oe){Oe.valueAccessor.registerOnChange(Te=>{De._pendingValue=Te,De._pendingChange=!0,De._pendingDirty=!0,"change"===De.updateOn&&Zt(De,Oe)})}(De,Oe),function bn(De,Oe){const Te=(ht,on)=>{Oe.valueAccessor.writeValue(ht),on&&Oe.viewToModelUpdate(ht)};De.registerOnChange(Te),Oe._registerOnDestroy(()=>{De._unregisterOnChange(Te)})}(De,Oe),function sn(De,Oe){Oe.valueAccessor.registerOnTouched(()=>{De._pendingTouched=!0,"blur"===De.updateOn&&De._pendingChange&&Zt(De,Oe),"submit"!==De.updateOn&&De.markAsTouched()})}(De,Oe),function En(De,Oe){if(Oe.valueAccessor.setDisabledState){const Te=ht=>{Oe.valueAccessor.setDisabledState(ht)};De.registerOnDisabledChange(Te),Oe._registerOnDestroy(()=>{De._unregisterOnDisabledChange(Te)})}}(De,Oe)}function Lt(De,Oe,Te=!0){const ht=()=>{};Oe.valueAccessor&&(Oe.valueAccessor.registerOnChange(ht),Oe.valueAccessor.registerOnTouched(ht)),Bt(De,Oe),De&&(Oe._invokeOnDestroyCallbacks(),De._registerOnCollectionChange(()=>{}))}function en(De,Oe){De.forEach(Te=>{Te.registerOnValidatorChange&&Te.registerOnValidatorChange(Oe)})}function Ft(De,Oe){const Te=Me(De);null!==Oe.validator?De.setValidators(Ie(Te,Oe.validator)):"function"==typeof Te&&De.setValidators([Te]);const ht=Fe(De);null!==Oe.asyncValidator?De.setAsyncValidators(Ie(ht,Oe.asyncValidator)):"function"==typeof ht&&De.setAsyncValidators([ht]);const on=()=>De.updateValueAndValidity();en(Oe._rawValidators,on),en(Oe._rawAsyncValidators,on)}function Bt(De,Oe){let Te=!1;if(null!==De){if(null!==Oe.validator){const on=Me(De);if(Array.isArray(on)&&on.length>0){const Nn=on.filter(Ji=>Ji!==Oe.validator);Nn.length!==on.length&&(Te=!0,De.setValidators(Nn))}}if(null!==Oe.asyncValidator){const on=Fe(De);if(Array.isArray(on)&&on.length>0){const Nn=on.filter(Ji=>Ji!==Oe.asyncValidator);Nn.length!==on.length&&(Te=!0,De.setAsyncValidators(Nn))}}}const ht=()=>{};return en(Oe._rawValidators,ht),en(Oe._rawAsyncValidators,ht),Te}function Zt(De,Oe){De._pendingDirty&&De.markAsDirty(),De.setValue(De._pendingValue,{emitModelToViewChange:!1}),Oe.viewToModelUpdate(De._pendingValue),De._pendingChange=!1}function rn(De,Oe){Ft(De,Oe)}function yn(De,Oe){if(!De.hasOwnProperty("model"))return!1;const Te=De.model;return!!Te.isFirstChange()||!Object.is(Oe,Te.currentValue)}function ti(De,Oe){De._syncPendingControls(),Oe.forEach(Te=>{const ht=Te.control;"submit"===ht.updateOn&&ht._pendingChange&&(Te.viewToModelUpdate(ht._pendingValue),ht._pendingChange=!1)})}function ei(De,Oe){if(!Oe)return null;let Te,ht,on;return Array.isArray(Oe),Oe.forEach(Nn=>{Nn.constructor===h?Te=Nn:function Fn(De){return Object.getPrototypeOf(De.constructor)===C}(Nn)?ht=Nn:on=Nn}),on||ht||Te||null}const hn={provide:He,useExisting:(0,e.Gpc)(()=>pi)},Kn=(()=>Promise.resolve())();let pi=(()=>{class De extends He{constructor(Te,ht,on){super(),this.callSetDisabledState=on,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new an({},ye(Te),_e(ht))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Te){Kn.then(()=>{const ht=this._findContainer(Te.path);Te.control=ht.registerControl(Te.name,Te.control),_t(Te.control,Te,this.callSetDisabledState),Te.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Te)})}getControl(Te){return this.form.get(Te.path)}removeControl(Te){Kn.then(()=>{const ht=this._findContainer(Te.path);ht&&ht.removeControl(Te.name),this._directives.delete(Te)})}addFormGroup(Te){Kn.then(()=>{const ht=this._findContainer(Te.path),on=new an({});rn(on,Te),ht.registerControl(Te.name,on),on.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Te){Kn.then(()=>{const ht=this._findContainer(Te.path);ht&&ht.removeControl(Te.name)})}getFormGroup(Te){return this.form.get(Te.path)}updateModel(Te,ht){Kn.then(()=>{this.form.get(Te.path).setValue(ht)})}setValue(Te){this.control.setValue(Te)}onSubmit(Te){return this.submitted=!0,ti(this.form,this._directives),this.ngSubmit.emit(Te),"dialog"===Te?.target?.method}onReset(){this.resetForm()}resetForm(Te){this.form.reset(Te),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Te){return Te.pop(),Te.length?this.form.get(Te):this.form}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(s,10),e.Y36(r,10),e.Y36(Rn,8))},De.\u0275dir=e.lG2({type:De,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Te,ht){1&Te&&e.NdJ("submit",function(Nn){return ht.onSubmit(Nn)})("reset",function(){return ht.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([hn]),e.qOj]}),De})();function Mi(De,Oe){const Te=De.indexOf(Oe);Te>-1&&De.splice(Te,1)}function Ui(De){return"object"==typeof De&&null!==De&&2===Object.keys(De).length&&"value"in De&&"disabled"in De}const di=class extends cn{constructor(Oe=null,Te,ht){super(te(Te),ne(ht,Te)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Oe),this._setUpdateStrategy(Te),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qe(Te)&&(Te.nonNullable||Te.initialValueIsDefault)&&(this.defaultValue=Ui(Oe)?Oe.value:Oe)}setValue(Oe,Te={}){this.value=this._pendingValue=Oe,this._onChange.length&&!1!==Te.emitModelToViewChange&&this._onChange.forEach(ht=>ht(this.value,!1!==Te.emitViewToModelChange)),this.updateValueAndValidity(Te)}patchValue(Oe,Te={}){this.setValue(Oe,Te)}reset(Oe=this.defaultValue,Te={}){this._applyFormState(Oe),this.markAsPristine(Te),this.markAsUntouched(Te),this.setValue(this.value,Te),this._pendingChange=!1}_updateValue(){}_anyControls(Oe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Oe){this._onChange.push(Oe)}_unregisterOnChange(Oe){Mi(this._onChange,Oe)}registerOnDisabledChange(Oe){this._onDisabledChange.push(Oe)}_unregisterOnDisabledChange(Oe){Mi(this._onDisabledChange,Oe)}_forEachChild(Oe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Oe){Ui(Oe)?(this.value=this._pendingValue=Oe.value,Oe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Oe}},ii={provide:it,useExisting:(0,e.Gpc)(()=>Ri)},ao=(()=>Promise.resolve())();let Ri=(()=>{class De extends it{constructor(Te,ht,on,Nn,Ji,To){super(),this._changeDetectorRef=Ji,this.callSetDisabledState=To,this.control=new di,this._registered=!1,this.update=new e.vpe,this._parent=Te,this._setValidators(ht),this._setAsyncValidators(on),this.valueAccessor=ei(0,Nn)}ngOnChanges(Te){if(this._checkForErrors(),!this._registered||"name"in Te){if(this._registered&&(this._checkName(),this.formDirective)){const ht=Te.name.previousValue;this.formDirective.removeControl({name:ht,path:this._getPath(ht)})}this._setUpControl()}"isDisabled"in Te&&this._updateDisabled(Te),yn(Te,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Te){this.viewModel=Te,this.update.emit(Te)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_t(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Te){ao.then(()=>{this.control.setValue(Te,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Te){const ht=Te.isDisabled.currentValue,on=0!==ht&&(0,e.D6c)(ht);ao.then(()=>{on&&!this.control.disabled?this.control.disable():!on&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Te){return this._parent?St(Te,this._parent):[Te]}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(He,9),e.Y36(s,10),e.Y36(r,10),e.Y36(E,10),e.Y36(e.sBO,8),e.Y36(Rn,8))},De.\u0275dir=e.lG2({type:De,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([ii]),e.qOj,e.TTD]}),De})(),no=(()=>{class De{}return De.\u0275fac=function(Te){return new(Te||De)},De.\u0275dir=e.lG2({type:De,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),De})();const br={provide:E,useExisting:(0,e.Gpc)(()=>Ao),multi:!0};let Ao=(()=>{class De extends C{writeValue(Te){this.setProperty("value",Te??"")}registerOnChange(Te){this.onChange=ht=>{Te(""==ht?null:parseFloat(ht))}}}return De.\u0275fac=function(){let Oe;return function(ht){return(Oe||(Oe=e.n5z(De)))(ht||De)}}(),De.\u0275dir=e.lG2({type:De,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Te,ht){1&Te&&e.NdJ("input",function(Nn){return ht.onChange(Nn.target.value)})("blur",function(){return ht.onTouched()})},features:[e._Bn([br]),e.qOj]}),De})(),sr=(()=>{class De{}return De.\u0275fac=function(Te){return new(Te||De)},De.\u0275mod=e.oAB({type:De}),De.\u0275inj=e.cJS({}),De})();const Ne=new e.OlP("NgModelWithFormControlWarning"),gn={provide:He,useExisting:(0,e.Gpc)(()=>oi)};let oi=(()=>{class De extends He{constructor(Te,ht,on){super(),this.callSetDisabledState=on,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(Te),this._setAsyncValidators(ht)}ngOnChanges(Te){this._checkFormPresent(),Te.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Te){const ht=this.form.get(Te.path);return _t(ht,Te,this.callSetDisabledState),ht.updateValueAndValidity({emitEvent:!1}),this.directives.push(Te),ht}getControl(Te){return this.form.get(Te.path)}removeControl(Te){Lt(Te.control||null,Te,!1),function ci(De,Oe){const Te=De.indexOf(Oe);Te>-1&&De.splice(Te,1)}(this.directives,Te)}addFormGroup(Te){this._setUpFormContainer(Te)}removeFormGroup(Te){this._cleanUpFormContainer(Te)}getFormGroup(Te){return this.form.get(Te.path)}addFormArray(Te){this._setUpFormContainer(Te)}removeFormArray(Te){this._cleanUpFormContainer(Te)}getFormArray(Te){return this.form.get(Te.path)}updateModel(Te,ht){this.form.get(Te.path).setValue(ht)}onSubmit(Te){return this.submitted=!0,ti(this.form,this.directives),this.ngSubmit.emit(Te),"dialog"===Te?.target?.method}onReset(){this.resetForm()}resetForm(Te){this.form.reset(Te),this.submitted=!1}_updateDomValue(){this.directives.forEach(Te=>{const ht=Te.control,on=this.form.get(Te.path);ht!==on&&(Lt(ht||null,Te),(De=>De instanceof di)(on)&&(_t(on,Te,this.callSetDisabledState),Te.control=on))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Te){const ht=this.form.get(Te.path);rn(ht,Te),ht.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Te){if(this.form){const ht=this.form.get(Te.path);ht&&function Yt(De,Oe){return Bt(De,Oe)}(ht,Te)&&ht.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ft(this.form,this),this._oldForm&&Bt(this._oldForm,this)}_checkFormPresent(){}}return De.\u0275fac=function(Te){return new(Te||De)(e.Y36(s,10),e.Y36(r,10),e.Y36(Rn,8))},De.\u0275dir=e.lG2({type:De,selectors:[["","formGroup",""]],hostBindings:function(Te,ht){1&Te&&e.NdJ("submit",function(Nn){return ht.onSubmit(Nn)})("reset",function(){return ht.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([gn]),e.qOj,e.TTD]}),De})();const ps={provide:it,useExisting:(0,e.Gpc)(()=>Co)};let Co=(()=>{class De extends it{constructor(Te,ht,on,Nn,Ji){super(),this._ngModelWarningConfig=Ji,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=Te,this._setValidators(ht),this._setAsyncValidators(on),this.valueAccessor=ei(0,Nn)}set isDisabled(Te){}ngOnChanges(Te){this._added||this._setUpControl(),yn(Te,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Te){this.viewModel=Te,this.update.emit(Te)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return De._ngModelWarningSentOnce=!1,De.\u0275fac=function(Te){return new(Te||De)(e.Y36(He,13),e.Y36(s,10),e.Y36(r,10),e.Y36(E,10),e.Y36(Ne,8))},De.\u0275dir=e.lG2({type:De,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([ps]),e.qOj,e.TTD]}),De})();let Vi=(()=>{class De{constructor(){this._validator=F}ngOnChanges(Te){if(this.inputName in Te){const ht=this.normalizeInput(Te[this.inputName].currentValue);this._enabled=this.enabled(ht),this._validator=this._enabled?this.createValidator(ht):F,this._onChange&&this._onChange()}}validate(Te){return this._validator(Te)}registerOnValidatorChange(Te){this._onChange=Te}enabled(Te){return null!=Te}}return De.\u0275fac=function(Te){return new(Te||De)},De.\u0275dir=e.lG2({type:De,features:[e.TTD]}),De})();const Jo={provide:s,useExisting:(0,e.Gpc)(()=>wo),multi:!0},Vo={provide:s,useExisting:(0,e.Gpc)(()=>Xo),multi:!0};let wo=(()=>{class De extends Vi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.D6c,this.createValidator=Te=>P}enabled(Te){return Te}}return De.\u0275fac=function(){let Oe;return function(ht){return(Oe||(Oe=e.n5z(De)))(ht||De)}}(),De.\u0275dir=e.lG2({type:De,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Te,ht){2&Te&&e.uIk("required",ht._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([Jo]),e.qOj]}),De})(),Xo=(()=>{class De extends wo{constructor(){super(...arguments),this.createValidator=Te=>g}}return De.\u0275fac=function(){let Oe;return function(ht){return(Oe||(Oe=e.n5z(De)))(ht||De)}}(),De.\u0275dir=e.lG2({type:De,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Te,ht){2&Te&&e.uIk("required",ht._enabled?"":null)},features:[e._Bn([Vo]),e.qOj]}),De})();const Un={provide:s,useExisting:(0,e.Gpc)(()=>Wi),multi:!0};let Wi=(()=>{class De extends Vi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Te=>function ws(De){return"number"==typeof De?De:parseInt(De,10)}(Te),this.createValidator=Te=>R(Te)}}return De.\u0275fac=function(){let Oe;return function(ht){return(Oe||(Oe=e.n5z(De)))(ht||De)}}(),De.\u0275dir=e.lG2({type:De,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Te,ht){2&Te&&e.uIk("maxlength",ht._enabled?ht.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Un]),e.qOj]}),De})(),So=(()=>{class De{}return De.\u0275fac=function(Te){return new(Te||De)},De.\u0275mod=e.oAB({type:De}),De.\u0275inj=e.cJS({imports:[sr]}),De})(),Ii=(()=>{class De{static withConfig(Te){return{ngModule:De,providers:[{provide:Rn,useValue:Te.callSetDisabledState??wt}]}}}return De.\u0275fac=function(Te){return new(Te||De)},De.\u0275mod=e.oAB({type:De}),De.\u0275inj=e.cJS({imports:[So]}),De})(),ms=(()=>{class De{static withConfig(Te){return{ngModule:De,providers:[{provide:Ne,useValue:Te.warnOnNgModelWithFormControl??"always"},{provide:Rn,useValue:Te.callSetDisabledState??wt}]}}}return De.\u0275fac=function(Te){return new(Te||De)},De.\u0275mod=e.oAB({type:De}),De.\u0275inj=e.cJS({imports:[So]}),De})()},8242:(Je,K,t)=>{"use strict";t.d(K,{_r:()=>s,ch:()=>x,oL:()=>S});var e=t(7855),n=t(4080),y=t(6353),T=t(3238),v=t(2687),O=t(2289),C=t(8184),E=t(6895),i=t(7340),f=t(9521),_=t(8929),l=t(6787),m=t(2198),h=t(2986);function d(P,g){}const c={bottomSheetState:(0,i.X$)("state",[(0,i.SB)("void, hidden",(0,i.oB)({transform:"translateY(100%)"})),(0,i.SB)("visible",(0,i.oB)({transform:"translateY(0%)"})),(0,i.eR)("visible => void, visible => hidden",(0,i.ru)([(0,i.jt)(`${T.mZ.COMPLEX} ${T.yN.ACCELERATION_CURVE}`),(0,i.IO)("@*",(0,i.pV)(),{optional:!0})])),(0,i.eR)("void => visible",(0,i.ru)([(0,i.jt)(`${T.mZ.EXITING} ${T.yN.DECELERATION_CURVE}`),(0,i.IO)("@*",(0,i.pV)(),{optional:!0})]))])};let a=(()=>{class P extends e.LL{constructor(u,M,R,w,F,B,H,$,j,V){super(u,M,R,w,F,B,H,V),this._changeDetectorRef=j,this._animationState="void",this._animationStateChanged=new y.vpe,this._breakpointSubscription=$.observe([O.u3.Medium,O.u3.Large,O.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",$.isMatched(O.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",$.isMatched(O.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",$.isMatched(O.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(u){"visible"===u.toState&&this._trapFocus(),this._animationStateChanged.emit(u)}_onAnimationStart(u){this._animationStateChanged.emit(u)}_captureInitialFocus(){}_toggleClass(u,M){this._elementRef.nativeElement.classList.toggle(u,M)}}return P.\u0275fac=function(u){return new(u||P)(y.Y36(y.SBq),y.Y36(v.qV),y.Y36(E.K0,8),y.Y36(e.ib),y.Y36(v.ic),y.Y36(y.R0b),y.Y36(C.Iu),y.Y36(O.Yg),y.Y36(y.sBO),y.Y36(v.tE))},P.\u0275cmp=y.Xpm({type:P,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(u,M){1&u&&y.WFA("@state.start",function(w){return M._onAnimationStart(w)})("@state.done",function(w){return M._onAnimationDone(w)}),2&u&&(y.uIk("role",M._config.role)("aria-modal",M._config.ariaModal)("aria-label",M._config.ariaLabel),y.d8E("@state",M._animationState))},features:[y.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(u,M){1&u&&y.YNc(0,d,0,0,"ng-template",0)},dependencies:[n.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[c.bottomSheetState]}}),P})(),s=(()=>{class P{}return P.\u0275fac=function(u){return new(u||P)},P.\u0275mod=y.oAB({type:P}),P.\u0275inj=y.cJS({imports:[e.Su,T.BQ,n.eL,T.BQ]}),P})();const r=new y.OlP("MatBottomSheetData");class o{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class S{constructor(g,u,M){this._ref=g,this._afterOpened=new _.xQ,this.containerInstance=M,this.disableClose=u.disableClose,M._animationStateChanged.pipe((0,m.h)(R=>"done"===R.phaseName&&"visible"===R.toState),(0,h.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),M._animationStateChanged.pipe((0,m.h)(R=>"done"===R.phaseName&&"hidden"===R.toState),(0,h.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),g.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,l.T)(this.backdropClick(),this.keydownEvents().pipe((0,m.h)(R=>R.keyCode===f.hY))).subscribe(R=>{!this.disableClose&&("keydown"!==R.type||!(0,f.Vb)(R))&&(R.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(g){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,m.h)(u=>"start"===u.phaseName),(0,h.q)(1)).subscribe(u=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},u.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=g,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const I=new y.OlP("mat-bottom-sheet-default-options");let x=(()=>{class P{constructor(u,M,R,w){this._overlay=u,this._parentBottomSheet=R,this._defaultOptions=w,this._bottomSheetRefAtThisLevel=null,this._dialog=M.get(e.Vq)}get _openedBottomSheetRef(){const u=this._parentBottomSheet;return u?u._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(u){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=u:this._bottomSheetRefAtThisLevel=u}open(u,M){const R={...this._defaultOptions||new o,...M};let w;return this._dialog.open(u,{...R,disableClose:!0,maxWidth:"100%",container:a,scrollStrategy:R.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:w}),providers:(F,B,H)=>(w=new S(F,R,H),[{provide:S,useValue:w},{provide:r,useValue:R.data}])}),w.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===w&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>w.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):w.containerInstance.enter(),this._openedBottomSheetRef=w,w}dismiss(u){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(u)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return P.\u0275fac=function(u){return new(u||P)(y.LFG(C.aV),y.LFG(y.zs3),y.LFG(P,12),y.LFG(I,8))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac,providedIn:s}),P})()},3238:(Je,K,t)=>{"use strict";t.d(K,{yN:()=>r,mZ:()=>o,_A:()=>V,rD:()=>Ve,sG:()=>Q,K7:()=>Dt,HF:()=>Ce,Y2:()=>me,BQ:()=>x,XK:()=>Me,rN:()=>Et,nP:()=>ee,us:()=>ue,wG:()=>fe,si:()=>Z,LF:()=>G,IR:()=>ge,MP:()=>nt,CB:()=>Xe,jH:()=>Ke,pj:()=>R,Kr:()=>w,Id:()=>M,FD:()=>B,dB:()=>H,sb:()=>F});var e=t(6353),n=t(2687),y=t(445),v=t(6895),O=t(3353),C=t(1281),E=t(6498),i=t(8929),f=t(9521);const m=["text"];let r=(()=>{class le{}return le.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",le.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",le.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",le.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",le})(),o=(()=>{class le{}return le.COMPLEX="375ms",le.ENTERING="225ms",le.EXITING="195ms",le})();const I=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function S(){return!0}});let x=(()=>{class le{constructor(J,ne,$e){this._sanityChecks=ne,this._document=$e,this._hasDoneGlobalChecks=!1,J._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(J){return!(0,O.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[J])}}return le.\u0275fac=function(J){return new(J||le)(e.LFG(n.qm),e.LFG(I,8),e.LFG(v.K0))},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({imports:[y.vT,y.vT]}),le})();function M(le){return class extends le{constructor(...te){super(...te),this._disabled=!1}get disabled(){return this._disabled}set disabled(te){this._disabled=(0,C.Ig)(te)}}}function R(le,te){return class extends le{constructor(...J){super(...J),this.defaultColor=te,this.color=te}get color(){return this._color}set color(J){const ne=J||this.defaultColor;ne!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ne&&this._elementRef.nativeElement.classList.add(`mat-${ne}`),this._color=ne)}}}function w(le){return class extends le{constructor(...te){super(...te),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(te){this._disableRipple=(0,C.Ig)(te)}}}function F(le,te=0){return class extends le{constructor(...J){super(...J),this._tabIndex=te,this.defaultTabIndex=te}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(J){this._tabIndex=null!=J?(0,C.su)(J):this.defaultTabIndex}}}function B(le){return class extends le{constructor(...te){super(...te),this.errorState=!1}updateErrorState(){const te=this.errorState,Qe=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Qe!==te&&(this.errorState=Qe,this.stateChanges.next())}}}function H(le){return class extends le{constructor(...te){super(...te),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new E.y(J=>{this._isInitialized?this._notifySubscriber(J):this._pendingSubscribers.push(J)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(te){te.next(),te.complete()}}}const $=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function j(){return(0,e.f3M)(e.soG)}});class V{constructor(){this._localeChanges=new i.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(te){return this.isDateInstance(te)&&this.isValid(te)?te:null}deserialize(te){return null==te||this.isDateInstance(te)&&this.isValid(te)?te:this.invalid()}setLocale(te){this.locale=te,this._localeChanges.next()}compareDate(te,J){return this.getYear(te)-this.getYear(J)||this.getMonth(te)-this.getMonth(J)||this.getDate(te)-this.getDate(J)}sameDate(te,J){if(te&&J){let ne=this.isValid(te),$e=this.isValid(J);return ne&&$e?!this.compareDate(te,J):ne==$e}return te==J}clampDate(te,J,ne){return J&&this.compareDate(te,J)<0?J:ne&&this.compareDate(te,ne)>0?ne:te}}const Q=new e.OlP("mat-date-formats"),ie=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ye(le,te){const J=Array(le);for(let ne=0;ne<le;ne++)J[ne]=te(ne);return J}let G=(()=>{class le extends V{constructor(J,ne){super(),this.useUtcForDisplay=!1,super.setLocale(J)}getYear(J){return J.getFullYear()}getMonth(J){return J.getMonth()}getDate(J){return J.getDate()}getDayOfWeek(J){return J.getDay()}getMonthNames(J){const ne=new Intl.DateTimeFormat(this.locale,{month:J,timeZone:"utc"});return ye(12,$e=>this._format(ne,new Date(2017,$e,1)))}getDateNames(){const J=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ye(31,ne=>this._format(J,new Date(2017,0,ne+1)))}getDayOfWeekNames(J){const ne=new Intl.DateTimeFormat(this.locale,{weekday:J,timeZone:"utc"});return ye(7,$e=>this._format(ne,new Date(2017,0,$e+1)))}getYearName(J){const ne=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(ne,J)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(J){return this.getDate(this._createDateWithOverflow(this.getYear(J),this.getMonth(J)+1,0))}clone(J){return new Date(J.getTime())}createDate(J,ne,$e){let Qe=this._createDateWithOverflow(J,ne,$e);return Qe.getMonth(),Qe}today(){return new Date}parse(J,ne){return"number"==typeof J?new Date(J):J?new Date(Date.parse(J)):null}format(J,ne){if(!this.isValid(J))throw Error("NativeDateAdapter: Cannot format invalid date.");const $e=new Intl.DateTimeFormat(this.locale,{...ne,timeZone:"utc"});return this._format($e,J)}addCalendarYears(J,ne){return this.addCalendarMonths(J,12*ne)}addCalendarMonths(J,ne){let $e=this._createDateWithOverflow(this.getYear(J),this.getMonth(J)+ne,this.getDate(J));return this.getMonth($e)!=((this.getMonth(J)+ne)%12+12)%12&&($e=this._createDateWithOverflow(this.getYear($e),this.getMonth($e),0)),$e}addCalendarDays(J,ne){return this._createDateWithOverflow(this.getYear(J),this.getMonth(J),this.getDate(J)+ne)}toIso8601(J){return[J.getUTCFullYear(),this._2digit(J.getUTCMonth()+1),this._2digit(J.getUTCDate())].join("-")}deserialize(J){if("string"==typeof J){if(!J)return null;if(ie.test(J)){let ne=new Date(J);if(this.isValid(ne))return ne}}return super.deserialize(J)}isDateInstance(J){return J instanceof Date}isValid(J){return!isNaN(J.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(J,ne,$e){const Qe=new Date;return Qe.setFullYear(J,ne,$e),Qe.setHours(0,0,0,0),Qe}_2digit(J){return("00"+J).slice(-2)}_format(J,ne){const $e=new Date;return $e.setUTCFullYear(ne.getFullYear(),ne.getMonth(),ne.getDate()),$e.setUTCHours(ne.getHours(),ne.getMinutes(),ne.getSeconds(),ne.getMilliseconds()),J.format($e)}}return le.\u0275fac=function(J){return new(J||le)(e.LFG($,8),e.LFG(O.t4))},le.\u0275prov=e.Yz7({token:le,factory:le.\u0275fac}),le})();const _e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ie=(()=>{class le{}return le.\u0275fac=function(J){return new(J||le)},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({providers:[{provide:V,useClass:G}]}),le})(),Me=(()=>{class le{}return le.\u0275fac=function(J){return new(J||le)},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({providers:[{provide:Q,useValue:_e}],imports:[Ie]}),le})(),Ve=(()=>{class le{isErrorState(J,ne){return!!(J&&J.invalid&&(J.touched||ne&&ne.submitted))}}return le.\u0275fac=function(J){return new(J||le)},le.\u0275prov=e.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();class He{constructor(te,J,ne,$e=!1){this._renderer=te,this.element=J,this.config=ne,this._animationForciblyDisabledThroughCss=$e,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const it=(0,O.i$)({passive:!0,capture:!0});class je{constructor(){this._events=new Map,this._delegateEventHandler=te=>{const J=(0,O.sA)(te);J&&this._events.get(te.type)?.forEach((ne,$e)=>{($e===J||$e.contains(J))&&ne.forEach(Qe=>Qe.handleEvent(te))})}}addHandler(te,J,ne,$e){const Qe=this._events.get(J);if(Qe){const Tt=Qe.get(ne);Tt?Tt.add($e):Qe.set(ne,new Set([$e]))}else this._events.set(J,new Map([[ne,new Set([$e])]])),te.runOutsideAngular(()=>{document.addEventListener(J,this._delegateEventHandler,it)})}removeHandler(te,J,ne){const $e=this._events.get(te);if(!$e)return;const Qe=$e.get(J);!Qe||(Qe.delete(ne),0===Qe.size&&$e.delete(J),0===$e.size&&(this._events.delete(te),document.removeEventListener(te,this._delegateEventHandler,it)))}}const Be={enterDuration:225,exitDuration:150},Ye=(0,O.i$)({passive:!0,capture:!0}),et=["mousedown","touchstart"],ot=["mouseup","mouseleave","touchend","touchcancel"];class ge{constructor(te,J,ne,$e){this._target=te,this._ngZone=J,this._platform=$e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,$e.isBrowser&&(this._containerElement=(0,C.fI)(ne))}fadeInRipple(te,J,ne={}){const $e=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Qe={...Be,...ne.animation};ne.centered&&(te=$e.left+$e.width/2,J=$e.top+$e.height/2);const Tt=ne.radius||function we(le,te,J){const ne=Math.max(Math.abs(le-J.left),Math.abs(le-J.right)),$e=Math.max(Math.abs(te-J.top),Math.abs(te-J.bottom));return Math.sqrt(ne*ne+$e*$e)}(te,J,$e),zt=te-$e.left,cn=J-$e.top,an=Qe.enterDuration,vn=document.createElement("div");vn.classList.add("mat-ripple-element"),vn.style.left=zt-Tt+"px",vn.style.top=cn-Tt+"px",vn.style.height=2*Tt+"px",vn.style.width=2*Tt+"px",null!=ne.color&&(vn.style.backgroundColor=ne.color),vn.style.transitionDuration=`${an}ms`,this._containerElement.appendChild(vn);const Dn=window.getComputedStyle(vn),Pn=Dn.transitionDuration,Rn="none"===Dn.transitionProperty||"0s"===Pn||"0s, 0s"===Pn||0===$e.width&&0===$e.height,wt=new He(this,vn,ne,Rn);vn.style.transform="scale3d(1, 1, 1)",wt.state=0,ne.persistent||(this._mostRecentTransientRipple=wt);let St=null;return!Rn&&(an||Qe.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _t=()=>this._finishRippleTransition(wt),Lt=()=>this._destroyRipple(wt);vn.addEventListener("transitionend",_t),vn.addEventListener("transitioncancel",Lt),St={onTransitionEnd:_t,onTransitionCancel:Lt}}),this._activeRipples.set(wt,St),(Rn||!an)&&this._finishRippleTransition(wt),wt}fadeOutRipple(te){if(2===te.state||3===te.state)return;const J=te.element,ne={...Be,...te.config.animation};J.style.transitionDuration=`${ne.exitDuration}ms`,J.style.opacity="0",te.state=2,(te._animationForciblyDisabledThroughCss||!ne.exitDuration)&&this._finishRippleTransition(te)}fadeOutAll(){this._getActiveRipples().forEach(te=>te.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(te=>{te.config.persistent||te.fadeOut()})}setupTriggerEvents(te){const J=(0,C.fI)(te);!this._platform.isBrowser||!J||J===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=J,et.forEach(ne=>{ge._eventManager.addHandler(this._ngZone,ne,J,this)}))}handleEvent(te){"mousedown"===te.type?this._onMousedown(te):"touchstart"===te.type?this._onTouchStart(te):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ot.forEach(J=>{this._triggerElement.addEventListener(J,this,Ye)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(te){0===te.state?this._startFadeOutTransition(te):2===te.state&&this._destroyRipple(te)}_startFadeOutTransition(te){const J=te===this._mostRecentTransientRipple,{persistent:ne}=te.config;te.state=1,!ne&&(!J||!this._isPointerDown)&&te.fadeOut()}_destroyRipple(te){const J=this._activeRipples.get(te)??null;this._activeRipples.delete(te),this._activeRipples.size||(this._containerRect=null),te===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),te.state=3,null!==J&&(te.element.removeEventListener("transitionend",J.onTransitionEnd),te.element.removeEventListener("transitioncancel",J.onTransitionCancel)),te.element.remove()}_onMousedown(te){const J=(0,n.X6)(te),ne=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!J&&!ne&&(this._isPointerDown=!0,this.fadeInRipple(te.clientX,te.clientY,this._target.rippleConfig))}_onTouchStart(te){if(!this._target.rippleDisabled&&!(0,n.yG)(te)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const J=te.changedTouches;for(let ne=0;ne<J.length;ne++)this.fadeInRipple(J[ne].clientX,J[ne].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(te=>{!te.config.persistent&&(1===te.state||te.config.terminateOnPointerUp&&0===te.state)&&te.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const te=this._triggerElement;te&&(et.forEach(J=>ge._eventManager.removeHandler(J,te,this)),this._pointerUpEventsRegistered&&ot.forEach(J=>te.removeEventListener(J,this,Ye)))}}ge._eventManager=new je;const me=new e.OlP("mat-ripple-global-options");let fe=(()=>{class le{constructor(J,ne,$e,Qe,Tt){this._elementRef=J,this._animationMode=Tt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Qe||{},this._rippleRenderer=new ge(this,ne,J,$e)}get disabled(){return this._disabled}set disabled(J){J&&this.fadeOutAllNonPersistent(),this._disabled=J,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(J){this._trigger=J,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(J,ne=0,$e){return"number"==typeof J?this._rippleRenderer.fadeInRipple(J,ne,{...this.rippleConfig,...$e}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...J})}}return le.\u0275fac=function(J){return new(J||le)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(O.t4),e.Y36(me,8),e.Y36(e.QbO,8))},le.\u0275dir=e.lG2({type:le,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(J,ne){2&J&&e.ekj("mat-ripple-unbounded",ne.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),le})(),Z=(()=>{class le{}return le.\u0275fac=function(J){return new(J||le)},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({imports:[x,x]}),le})(),ee=(()=>{class le{constructor(J){this._animationMode=J,this.state="unchecked",this.disabled=!1}}return le.\u0275fac=function(J){return new(J||le)(e.Y36(e.QbO,8))},le.\u0275cmp=e.Xpm({type:le,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(J,ne){2&J&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ne.state)("mat-pseudo-checkbox-checked","checked"===ne.state)("mat-pseudo-checkbox-disabled",ne.disabled)("_mat-animation-noopable","NoopAnimations"===ne._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(J,ne){},styles:['.mat-pseudo-checkbox{border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}.mat-pseudo-checkbox-checked::after{top:2.7px;width:10px;height:4px}'],encapsulation:2,changeDetection:0}),le})(),ue=(()=>{class le{}return le.\u0275fac=function(J){return new(J||le)},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({imports:[x]}),le})();const Ce=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),Dt=new e.OlP("MatOptgroup");let Wt=0;class Et{constructor(te,J=!1){this.source=te,this.isUserInput=J}}let nt=(()=>{class le{constructor(J,ne,$e,Qe){this._element=J,this._changeDetectorRef=ne,this._parent=$e,this.group=Qe,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Wt++,this.onSelectionChange=new e.vpe,this._stateChanges=new i.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(J){this._disabled=(0,C.Ig)(J)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(J,ne){const $e=this._getHostElement();"function"==typeof $e.focus&&$e.focus(ne)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(J){(J.keyCode===f.K5||J.keyCode===f.L_)&&!(0,f.Vb)(J)&&(this._selectViaInteraction(),J.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const J=this.viewValue;J!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=J)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(J=!1){this.onSelectionChange.emit(new Et(this,J))}}return le.\u0275fac=function(J){e.$Z()},le.\u0275dir=e.lG2({type:le,viewQuery:function(J,ne){if(1&J&&e.Gf(m,7),2&J){let $e;e.iGM($e=e.CRH())&&(ne._text=$e.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),le})();function Xe(le,te,J){if(J.length){let ne=te.toArray(),$e=J.toArray(),Qe=0;for(let Tt=0;Tt<le+1;Tt++)ne[Tt].group&&ne[Tt].group===$e[Qe]&&Qe++;return Qe}return 0}function Ke(le,te,J,ne){return le<J?le:le+te>J+ne?Math.max(0,le-ne+te):J}},8897:(Je,K,t)=>{"use strict";t.d(K,{Mq:()=>Fi,hl:()=>di,FA:()=>Yo,nW:()=>jt});var e=t(2687),n=t(8184),y=t(4080),T=t(6895),v=t(6353),O=t(3353),C=t(3238);const E=["mat-button",""],i=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],f=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],c=["mat-icon-button",""],a=["*"],S=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],I=(0,C.pj)((0,C.Id)((0,C.Kr)(class{constructor(xt){this._elementRef=xt}})));let x=(()=>{class xt extends I{constructor(se,Ne,yt,Pt){super(se),this._platform=Ne,this._ngZone=yt,this._animationMode=Pt,this._focusMonitor=(0,v.f3M)(e.tE),this._isFab=!1;const gn=se.nativeElement.classList;for(const oi of S)this._hasHostAttributes(oi.selector)&&oi.mdcClasses.forEach(Yi=>{gn.add(Yi)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(se="program",Ne){se?this._focusMonitor.focusVia(this._elementRef.nativeElement,se,Ne):this._elementRef.nativeElement.focus(Ne)}_hasHostAttributes(...se){return se.some(Ne=>this._elementRef.nativeElement.hasAttribute(Ne))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return xt.\u0275fac=function(se){v.$Z()},xt.\u0275dir=v.lG2({type:xt,viewQuery:function(se,Ne){if(1&se&&v.Gf(C.wG,5),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne.ripple=yt.first)}},features:[v.qOj]}),xt})(),M=(()=>{class xt extends x{constructor(se,Ne,yt,Pt){super(se,Ne,yt,Pt)}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.SBq),v.Y36(O.t4),v.Y36(v.R0b),v.Y36(v.QbO,8))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(se,Ne){2&se&&(v.uIk("disabled",Ne.disabled||null),v.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[v.qOj],attrs:E,ngContentSelectors:f,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(se,Ne){1&se&&(v.F$t(i),v._UZ(0,"span",0),v.Hsn(1),v.TgZ(2,"span",1),v.Hsn(3,1),v.qZA(),v.Hsn(4,2),v._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&se&&(v.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab),v.xp6(6),v.Q6J("matRippleDisabled",Ne._isRippleDisabled())("matRippleTrigger",Ne._elementRef.nativeElement))},dependencies:[C.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),xt})(),ie=(()=>{class xt extends x{constructor(se,Ne,yt,Pt){super(se,Ne,yt,Pt)}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.SBq),v.Y36(O.t4),v.Y36(v.R0b),v.Y36(v.QbO,8))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(se,Ne){2&se&&(v.uIk("disabled",Ne.disabled||null),v.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[v.qOj],attrs:c,ngContentSelectors:a,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(se,Ne){1&se&&(v.F$t(),v._UZ(0,"span",0),v.Hsn(1),v._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&se&&(v.xp6(3),v.Q6J("matRippleDisabled",Ne._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",Ne._elementRef.nativeElement))},dependencies:[C.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),xt})(),G=(()=>{class xt{}return xt.\u0275fac=function(se){return new(se||xt)},xt.\u0275mod=v.oAB({type:xt}),xt.\u0275inj=v.cJS({imports:[C.BQ,C.si,C.BQ]}),xt})();var _e=t(3476),Ie=t(8929),Me=t(2654),Fe=t(6787),Ve=t(1086),Pe=t(9521),xe=t(445),be=t(2986),Ue=t(1059),He=t(2198),it=t(1281),je=t(7340),Be=t(4006),lt=t(9549),Ye=t(284);const et=["mat-calendar-body",""];function ot(xt,Kt){if(1&xt&&(v.TgZ(0,"tr",3)(1,"td",4),v._uU(2),v.qZA()()),2&xt){const se=v.oxw();v.xp6(1),v.Udp("padding-top",se._cellPadding)("padding-bottom",se._cellPadding),v.uIk("colspan",se.numCols),v.xp6(1),v.hij(" ",se.label," ")}}function ge(xt,Kt){if(1&xt&&(v.TgZ(0,"td",4),v._uU(1),v.qZA()),2&xt){const se=v.oxw(2);v.Udp("padding-top",se._cellPadding)("padding-bottom",se._cellPadding),v.uIk("colspan",se._firstRowOffset),v.xp6(1),v.hij(" ",se._firstRowOffset>=se.labelMinRequiredCells?se.label:""," ")}}function we(xt,Kt){if(1&xt){const se=v.EpF();v.TgZ(0,"td",8)(1,"button",9),v.NdJ("click",function(yt){const gn=v.CHM(se).$implicit,oi=v.oxw(2);return v.KtG(oi._cellClicked(gn,yt))})("focus",function(yt){const gn=v.CHM(se).$implicit,oi=v.oxw(2);return v.KtG(oi._emitActiveDateChange(gn,yt))}),v.TgZ(2,"div",10),v._uU(3),v.qZA(),v._UZ(4,"div",11),v.qZA()()}if(2&xt){const se=Kt.$implicit,Ne=Kt.index,yt=v.oxw().index,Pt=v.oxw();v.Udp("width",Pt._cellWidth)("padding-top",Pt._cellPadding)("padding-bottom",Pt._cellPadding),v.uIk("data-mat-row",yt)("data-mat-col",Ne),v.xp6(1),v.ekj("mat-calendar-body-disabled",!se.enabled)("mat-calendar-body-active",Pt._isActiveCell(yt,Ne))("mat-calendar-body-range-start",Pt._isRangeStart(se.compareValue))("mat-calendar-body-range-end",Pt._isRangeEnd(se.compareValue))("mat-calendar-body-in-range",Pt._isInRange(se.compareValue))("mat-calendar-body-comparison-bridge-start",Pt._isComparisonBridgeStart(se.compareValue,yt,Ne))("mat-calendar-body-comparison-bridge-end",Pt._isComparisonBridgeEnd(se.compareValue,yt,Ne))("mat-calendar-body-comparison-start",Pt._isComparisonStart(se.compareValue))("mat-calendar-body-comparison-end",Pt._isComparisonEnd(se.compareValue))("mat-calendar-body-in-comparison-range",Pt._isInComparisonRange(se.compareValue))("mat-calendar-body-preview-start",Pt._isPreviewStart(se.compareValue))("mat-calendar-body-preview-end",Pt._isPreviewEnd(se.compareValue))("mat-calendar-body-in-preview",Pt._isInPreview(se.compareValue)),v.Q6J("ngClass",se.cssClasses)("tabindex",Pt._isActiveCell(yt,Ne)?0:-1),v.uIk("aria-label",se.ariaLabel)("aria-disabled",!se.enabled||null)("aria-pressed",Pt._isSelected(se.compareValue))("aria-current",Pt.todayValue===se.compareValue?"date":null)("aria-describedby",Pt._getDescribedby(se.compareValue)),v.xp6(1),v.ekj("mat-calendar-body-selected",Pt._isSelected(se.compareValue))("mat-calendar-body-comparison-identical",Pt._isComparisonIdentical(se.compareValue))("mat-calendar-body-today",Pt.todayValue===se.compareValue),v.xp6(1),v.hij(" ",se.displayValue," ")}}function me(xt,Kt){if(1&xt&&(v.TgZ(0,"tr",5),v.YNc(1,ge,2,6,"td",6),v.YNc(2,we,5,48,"td",7),v.qZA()),2&xt){const se=Kt.$implicit,Ne=Kt.index,yt=v.oxw();v.xp6(1),v.Q6J("ngIf",0===Ne&&yt._firstRowOffset),v.xp6(1),v.Q6J("ngForOf",se)}}function fe(xt,Kt){if(1&xt&&(v.TgZ(0,"th",5)(1,"span",6),v._uU(2),v.qZA(),v.TgZ(3,"span",7),v._uU(4),v.qZA()()),2&xt){const se=Kt.$implicit;v.xp6(2),v.Oqu(se.long),v.xp6(2),v.Oqu(se.narrow)}}const Z=["*"];function ee(xt,Kt){}function ue(xt,Kt){if(1&xt){const se=v.EpF();v.TgZ(0,"mat-month-view",5),v.NdJ("activeDateChange",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt.activeDate=yt)})("_userSelection",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt._dateSelected(yt))}),v.qZA()}if(2&xt){const se=v.oxw();v.Q6J("activeDate",se.activeDate)("selected",se.selected)("dateFilter",se.dateFilter)("maxDate",se.maxDate)("minDate",se.minDate)("dateClass",se.dateClass)("comparisonStart",se.comparisonStart)("comparisonEnd",se.comparisonEnd)("startDateAccessibleName",se.startDateAccessibleName)("endDateAccessibleName",se.endDateAccessibleName)}}function Ce(xt,Kt){if(1&xt){const se=v.EpF();v.TgZ(0,"mat-year-view",6),v.NdJ("activeDateChange",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt.activeDate=yt)})("monthSelected",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt._monthSelectedInYearView(yt))})("selectedChange",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt._goToDateInView(yt,"month"))}),v.qZA()}if(2&xt){const se=v.oxw();v.Q6J("activeDate",se.activeDate)("selected",se.selected)("dateFilter",se.dateFilter)("maxDate",se.maxDate)("minDate",se.minDate)("dateClass",se.dateClass)}}function pt(xt,Kt){if(1&xt){const se=v.EpF();v.TgZ(0,"mat-multi-year-view",7),v.NdJ("activeDateChange",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt.activeDate=yt)})("yearSelected",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt._yearSelectedInMultiYearView(yt))})("selectedChange",function(yt){v.CHM(se);const Pt=v.oxw();return v.KtG(Pt._goToDateInView(yt,"year"))}),v.qZA()}if(2&xt){const se=v.oxw();v.Q6J("activeDate",se.activeDate)("selected",se.selected)("dateFilter",se.dateFilter)("maxDate",se.maxDate)("minDate",se.minDate)("dateClass",se.dateClass)}}function Ze(xt,Kt){}const ft=["button"];function Dt(xt,Kt){1&xt&&(v.O4$(),v.TgZ(0,"svg",3),v._UZ(1,"path",4),v.qZA())}const At=[[["","matDatepickerToggleIcon",""]]],Wt=["[matDatepickerToggleIcon]"];let Ke=(()=>{class xt{constructor(){this.changes=new Ie.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(se,Ne){return`${se} \u2013 ${Ne}`}formatYearRangeLabel(se,Ne){return`${se} to ${Ne}`}}return xt.\u0275fac=function(se){return new(se||xt)},xt.\u0275prov=v.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();class rt{constructor(Kt,se,Ne,yt,Pt={},gn=Kt,oi){this.value=Kt,this.displayValue=se,this.ariaLabel=Ne,this.enabled=yt,this.cssClasses=Pt,this.compareValue=gn,this.rawValue=oi}}let le=1,te=(()=>{class xt{constructor(se,Ne){this._elementRef=se,this._ngZone=Ne,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new v.vpe,this.previewChange=new v.vpe,this.activeDateChange=new v.vpe,this._enterHandler=yt=>{if(this._skipNextFocus&&"focus"===yt.type)this._skipNextFocus=!1;else if(yt.target&&this.isRange){const Pt=this._getCellFromElement(yt.target);Pt&&this._ngZone.run(()=>this.previewChange.emit({value:Pt.enabled?Pt:null,event:yt}))}},this._leaveHandler=yt=>{null!==this.previewEnd&&this.isRange&&yt.target&&this._getCellFromElement(yt.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:yt}))},this._id="mat-calendar-body-"+le++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ne.runOutsideAngular(()=>{const yt=se.nativeElement;yt.addEventListener("mouseenter",this._enterHandler,!0),yt.addEventListener("focus",this._enterHandler,!0),yt.addEventListener("mouseleave",this._leaveHandler,!0),yt.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(se,Ne){se.enabled&&this.selectedValueChange.emit({value:se.value,event:Ne})}_emitActiveDateChange(se,Ne){se.enabled&&this.activeDateChange.emit({value:se.value,event:Ne})}_isSelected(se){return this.startValue===se||this.endValue===se}ngOnChanges(se){const Ne=se.numCols,{rows:yt,numCols:Pt}=this;(se.rows||Ne)&&(this._firstRowOffset=yt&&yt.length&&yt[0].length?Pt-yt[0].length:0),(se.cellAspectRatio||Ne||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Pt+"%"),(Ne||!this._cellWidth)&&(this._cellWidth=100/Pt+"%")}ngOnDestroy(){const se=this._elementRef.nativeElement;se.removeEventListener("mouseenter",this._enterHandler,!0),se.removeEventListener("focus",this._enterHandler,!0),se.removeEventListener("mouseleave",this._leaveHandler,!0),se.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(se,Ne){let yt=se*this.numCols+Ne;return se&&(yt-=this._firstRowOffset),yt==this.activeCell}_focusActiveCell(se=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,be.q)(1)).subscribe(()=>{setTimeout(()=>{const Ne=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ne&&(se||(this._skipNextFocus=!0),Ne.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(se){return ne(se,this.startValue,this.endValue)}_isRangeEnd(se){return $e(se,this.startValue,this.endValue)}_isInRange(se){return Qe(se,this.startValue,this.endValue,this.isRange)}_isComparisonStart(se){return ne(se,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(se,Ne,yt){if(!this._isComparisonStart(se)||this._isRangeStart(se)||!this._isInRange(se))return!1;let Pt=this.rows[Ne][yt-1];if(!Pt){const gn=this.rows[Ne-1];Pt=gn&&gn[gn.length-1]}return Pt&&!this._isRangeEnd(Pt.compareValue)}_isComparisonBridgeEnd(se,Ne,yt){if(!this._isComparisonEnd(se)||this._isRangeEnd(se)||!this._isInRange(se))return!1;let Pt=this.rows[Ne][yt+1];if(!Pt){const gn=this.rows[Ne+1];Pt=gn&&gn[0]}return Pt&&!this._isRangeStart(Pt.compareValue)}_isComparisonEnd(se){return $e(se,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(se){return Qe(se,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(se){return this.comparisonStart===this.comparisonEnd&&se===this.comparisonStart}_isPreviewStart(se){return ne(se,this.previewStart,this.previewEnd)}_isPreviewEnd(se){return $e(se,this.previewStart,this.previewEnd)}_isInPreview(se){return Qe(se,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(se){return this.isRange?this.startValue===se&&this.endValue===se?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===se?this._startDateLabelId:this.endValue===se?this._endDateLabelId:null:null}_getCellFromElement(se){let Ne;if(J(se)?Ne=se:J(se.parentNode)&&(Ne=se.parentNode),Ne){const yt=Ne.getAttribute("data-mat-row"),Pt=Ne.getAttribute("data-mat-col");if(yt&&Pt)return this.rows[parseInt(yt)][parseInt(Pt)]}return null}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.SBq),v.Y36(v.R0b))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[v.TTD],attrs:et,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(se,Ne){1&se&&(v.YNc(0,ot,3,6,"tr",0),v.YNc(1,me,3,2,"tr",1),v.TgZ(2,"label",2),v._uU(3),v.qZA(),v.TgZ(4,"label",2),v._uU(5),v.qZA()),2&se&&(v.Q6J("ngIf",Ne._firstRowOffset<Ne.labelMinRequiredCells),v.xp6(1),v.Q6J("ngForOf",Ne.rows),v.xp6(1),v.Q6J("id",Ne._startDateLabelId),v.xp6(1),v.hij(" ",Ne.startDateAccessibleName,"\n"),v.xp6(1),v.Q6J("id",Ne._endDateLabelId),v.xp6(1),v.hij(" ",Ne.endDateAccessibleName,"\n"))},dependencies:[T.mk,T.sg,T.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),xt})();function J(xt){return"TD"===xt.nodeName}function ne(xt,Kt,se){return null!==se&&Kt!==se&&xt<se&&xt===Kt}function $e(xt,Kt,se){return null!==Kt&&Kt!==se&&xt>=Kt&&xt===se}function Qe(xt,Kt,se,Ne){return Ne&&null!==Kt&&null!==se&&Kt!==se&&xt>=Kt&&xt<=se}class Tt{constructor(Kt,se){this.start=Kt,this.end=se}}let zt=(()=>{class xt{constructor(se,Ne){this.selection=se,this._adapter=Ne,this._selectionChanged=new Ie.xQ,this.selectionChanged=this._selectionChanged,this.selection=se}updateSelection(se,Ne){const yt=this.selection;this.selection=se,this._selectionChanged.next({selection:se,source:Ne,oldValue:yt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(se){return this._adapter.isDateInstance(se)&&this._adapter.isValid(se)}}return xt.\u0275fac=function(se){v.$Z()},xt.\u0275prov=v.Yz7({token:xt,factory:xt.\u0275fac}),xt})(),cn=(()=>{class xt extends zt{constructor(se){super(null,se)}add(se){super.updateSelection(se,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const se=new xt(this._adapter);return se.updateSelection(this.selection,this),se}}return xt.\u0275fac=function(se){return new(se||xt)(v.LFG(C._A))},xt.\u0275prov=v.Yz7({token:xt,factory:xt.\u0275fac}),xt})();const Dn={provide:zt,deps:[[new v.FiY,new v.tp0,zt],C._A],useFactory:function vn(xt,Kt){return xt||new cn(Kt)}},Rn=new v.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let en=(()=>{class xt{constructor(se,Ne,yt,Pt,gn){this._changeDetectorRef=se,this._dateFormats=Ne,this._dateAdapter=yt,this._dir=Pt,this._rangeStrategy=gn,this._rerenderSubscription=Me.w.EMPTY,this.selectedChange=new v.vpe,this._userSelection=new v.vpe,this.activeDateChange=new v.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(se){const Ne=this._activeDate,yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(yt,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ne,this._activeDate)||this._init()}get selected(){return this._selected}set selected(se){this._selected=se instanceof Tt?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ue.O)(null)).subscribe(()=>this._init())}ngOnChanges(se){const Ne=se.comparisonStart||se.comparisonEnd;Ne&&!Ne.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(se){const Ne=se.value,yt=this._getDateFromDayOfMonth(Ne);let Pt,gn;this._selected instanceof Tt?(Pt=this._getDateInCurrentMonth(this._selected.start),gn=this._getDateInCurrentMonth(this._selected.end)):Pt=gn=this._getDateInCurrentMonth(this._selected),(Pt!==Ne||gn!==Ne)&&this.selectedChange.emit(yt),this._userSelection.emit({value:yt,event:se.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(se){const yt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(se.value),this._dateAdapter.compareDate(yt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(se){const Ne=this._activeDate,yt=this._isRtl();switch(se.keyCode){case Pe.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,yt?1:-1);break;case Pe.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,yt?-1:1);break;case Pe.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Pe.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Pe.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Pe.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Pe.Ku:this.activeDate=se.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Pe.VM:this.activeDate=se.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Pe.K5:case Pe.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&se.preventDefault());case Pe.hY:return void(null!=this._previewEnd&&!(0,Pe.Vb)(se)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:se}),se.preventDefault(),se.stopPropagation()));default:return}this._dateAdapter.compareDate(Ne,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),se.preventDefault()}_handleCalendarBodyKeyup(se){(se.keyCode===Pe.L_||se.keyCode===Pe.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:se}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let se=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(se)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(se){this._matCalendarBody._focusActiveCell(se)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:se,value:Ne}){if(this._rangeStrategy){const Pt=this._rangeStrategy.createPreview(Ne?Ne.rawValue:null,this.selected,se);this._previewStart=this._getCellCompareValue(Pt.start),this._previewEnd=this._getCellCompareValue(Pt.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(se){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),se)}_initWeekdays(){const se=this._dateAdapter.getFirstDayOfWeek(),Ne=this._dateAdapter.getDayOfWeekNames("narrow");let Pt=this._dateAdapter.getDayOfWeekNames("long").map((gn,oi)=>({long:gn,narrow:Ne[oi]}));this._weekdays=Pt.slice(se).concat(Pt.slice(0,se))}_createWeekCells(){const se=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ne=this._dateAdapter.getDateNames();this._weeks=[[]];for(let yt=0,Pt=this._firstWeekOffset;yt<se;yt++,Pt++){7==Pt&&(this._weeks.push([]),Pt=0);const gn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),yt+1),oi=this._shouldEnableDate(gn),Yi=this._dateAdapter.format(gn,this._dateFormats.display.dateA11yLabel),zi=this.dateClass?this.dateClass(gn,"month"):void 0;this._weeks[this._weeks.length-1].push(new rt(yt+1,Ne[yt],Yi,oi,zi,this._getCellCompareValue(gn),gn))}}_shouldEnableDate(se){return!!se&&(!this.minDate||this._dateAdapter.compareDate(se,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(se,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(se))}_getDateInCurrentMonth(se){return se&&this._hasSameMonthAndYear(se,this.activeDate)?this._dateAdapter.getDate(se):null}_hasSameMonthAndYear(se,Ne){return!(!se||!Ne||this._dateAdapter.getMonth(se)!=this._dateAdapter.getMonth(Ne)||this._dateAdapter.getYear(se)!=this._dateAdapter.getYear(Ne))}_getCellCompareValue(se){if(se){const Ne=this._dateAdapter.getYear(se),yt=this._dateAdapter.getMonth(se),Pt=this._dateAdapter.getDate(se);return new Date(Ne,yt,Pt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(se){se instanceof Tt?(this._rangeStart=this._getCellCompareValue(se.start),this._rangeEnd=this._getCellCompareValue(se.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(se),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(se){return!this.dateFilter||this.dateFilter(se)}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.sBO),v.Y36(C.sG,8),v.Y36(C._A,8),v.Y36(xe.Is,8),v.Y36(Rn,8))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-month-view"]],viewQuery:function(se,Ne){if(1&se&&v.Gf(te,5),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne._matCalendarBody=yt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[v.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(se,Ne){1&se&&(v.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),v.YNc(3,fe,5,2,"th",2),v.qZA(),v.TgZ(4,"tr"),v._UZ(5,"th",3),v.qZA()(),v.TgZ(6,"tbody",4),v.NdJ("selectedValueChange",function(Pt){return Ne._dateSelected(Pt)})("activeDateChange",function(Pt){return Ne._updateActiveDate(Pt)})("previewChange",function(Pt){return Ne._previewChanged(Pt)})("keyup",function(Pt){return Ne._handleCalendarBodyKeyup(Pt)})("keydown",function(Pt){return Ne._handleCalendarBodyKeydown(Pt)}),v.qZA()()),2&se&&(v.xp6(3),v.Q6J("ngForOf",Ne._weekdays),v.xp6(3),v.Q6J("label",Ne._monthLabel)("rows",Ne._weeks)("todayValue",Ne._todayDate)("startValue",Ne._rangeStart)("endValue",Ne._rangeEnd)("comparisonStart",Ne._comparisonRangeStart)("comparisonEnd",Ne._comparisonRangeEnd)("previewStart",Ne._previewStart)("previewEnd",Ne._previewEnd)("isRange",Ne._isRange)("labelMinRequiredCells",3)("activeCell",Ne._dateAdapter.getDate(Ne.activeDate)-1)("startDateAccessibleName",Ne.startDateAccessibleName)("endDateAccessibleName",Ne.endDateAccessibleName))},dependencies:[T.sg,te],encapsulation:2,changeDetection:0}),xt})(),Bt=(()=>{class xt{constructor(se,Ne,yt){this._changeDetectorRef=se,this._dateAdapter=Ne,this._dir=yt,this._rerenderSubscription=Me.w.EMPTY,this.selectedChange=new v.vpe,this.yearSelected=new v.vpe,this.activeDateChange=new v.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(se){let Ne=this._activeDate;const yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(yt,this.minDate,this.maxDate),vt(this._dateAdapter,Ne,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(se){this._selected=se instanceof Tt?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se)),this._setSelectedYear(se)}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ue.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ne=this._dateAdapter.getYear(this._activeDate)-sn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let yt=0,Pt=[];yt<24;yt++)Pt.push(Ne+yt),4==Pt.length&&(this._years.push(Pt.map(gn=>this._createCellForYear(gn))),Pt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(se){const Ne=se.value,yt=this._dateAdapter.createDate(Ne,0,1),Pt=this._getDateFromYear(Ne);this.yearSelected.emit(yt),this.selectedChange.emit(Pt)}_updateActiveDate(se){const yt=this._activeDate;this.activeDate=this._getDateFromYear(se.value),this._dateAdapter.compareDate(yt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(se){const Ne=this._activeDate,yt=this._isRtl();switch(se.keyCode){case Pe.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,yt?1:-1);break;case Pe.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,yt?-1:1);break;case Pe.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Pe.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Pe.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-sn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Pe.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-sn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Pe.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?-240:-24);break;case Pe.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?240:24);break;case Pe.K5:case Pe.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ne,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),se.preventDefault()}_handleCalendarBodyKeyup(se){(se.keyCode===Pe.L_||se.keyCode===Pe.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:se}),this._selectionKeyPressed=!1)}_getActiveCell(){return sn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(se){const Ne=this._dateAdapter.getMonth(this.activeDate),yt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(se,Ne,1));return this._dateAdapter.createDate(se,Ne,Math.min(this._dateAdapter.getDate(this.activeDate),yt))}_createCellForYear(se){const Ne=this._dateAdapter.createDate(se,0,1),yt=this._dateAdapter.getYearName(Ne),Pt=this.dateClass?this.dateClass(Ne,"multi-year"):void 0;return new rt(se,yt,yt,this._shouldEnableYear(se),Pt)}_shouldEnableYear(se){if(null==se||this.maxDate&&se>this._dateAdapter.getYear(this.maxDate)||this.minDate&&se<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let yt=this._dateAdapter.createDate(se,0,1);this._dateAdapter.getYear(yt)==se;yt=this._dateAdapter.addCalendarDays(yt,1))if(this.dateFilter(yt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(se){if(this._selectedYear=null,se instanceof Tt){const Ne=se.start||se.end;Ne&&(this._selectedYear=this._dateAdapter.getYear(Ne))}else se&&(this._selectedYear=this._dateAdapter.getYear(se))}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.sBO),v.Y36(C._A,8),v.Y36(xe.Is,8))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-multi-year-view"]],viewQuery:function(se,Ne){if(1&se&&v.Gf(te,5),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne._matCalendarBody=yt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(se,Ne){1&se&&(v.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),v._UZ(3,"th",2),v.qZA()(),v.TgZ(4,"tbody",3),v.NdJ("selectedValueChange",function(Pt){return Ne._yearSelected(Pt)})("activeDateChange",function(Pt){return Ne._updateActiveDate(Pt)})("keyup",function(Pt){return Ne._handleCalendarBodyKeyup(Pt)})("keydown",function(Pt){return Ne._handleCalendarBodyKeydown(Pt)}),v.qZA()()),2&se&&(v.xp6(4),v.Q6J("rows",Ne._years)("todayValue",Ne._todayYear)("startValue",Ne._selectedYear)("endValue",Ne._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Ne._getActiveCell()))},dependencies:[te],encapsulation:2,changeDetection:0}),xt})();function vt(xt,Kt,se,Ne,yt){const Pt=xt.getYear(Kt),gn=xt.getYear(se),oi=Zt(xt,Ne,yt);return Math.floor((Pt-oi)/24)===Math.floor((gn-oi)/24)}function sn(xt,Kt,se,Ne){return function bn(xt,Kt){return(xt%Kt+Kt)%Kt}(xt.getYear(Kt)-Zt(xt,se,Ne),24)}function Zt(xt,Kt,se){let Ne=0;return se?Ne=xt.getYear(se)-24+1:Kt&&(Ne=xt.getYear(Kt)),Ne}let rn=(()=>{class xt{constructor(se,Ne,yt,Pt){this._changeDetectorRef=se,this._dateFormats=Ne,this._dateAdapter=yt,this._dir=Pt,this._rerenderSubscription=Me.w.EMPTY,this.selectedChange=new v.vpe,this.monthSelected=new v.vpe,this.activeDateChange=new v.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(se){let Ne=this._activeDate;const yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(yt,this.minDate,this.maxDate),this._dateAdapter.getYear(Ne)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(se){this._selected=se instanceof Tt?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se)),this._setSelectedMonth(se)}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ue.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(se){const Ne=se.value,yt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,1);this.monthSelected.emit(yt);const Pt=this._getDateFromMonth(Ne);this.selectedChange.emit(Pt)}_updateActiveDate(se){const yt=this._activeDate;this.activeDate=this._getDateFromMonth(se.value),this._dateAdapter.compareDate(yt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(se){const Ne=this._activeDate,yt=this._isRtl();switch(se.keyCode){case Pe.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,yt?1:-1);break;case Pe.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,yt?-1:1);break;case Pe.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Pe.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Pe.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Pe.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Pe.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?-10:-1);break;case Pe.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?10:1);break;case Pe.K5:case Pe.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ne,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),se.preventDefault()}_handleCalendarBodyKeyup(se){(se.keyCode===Pe.L_||se.keyCode===Pe.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:se}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let se=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ne=>Ne.map(yt=>this._createCellForMonth(yt,se[yt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(se){return se&&this._dateAdapter.getYear(se)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(se):null}_getDateFromMonth(se){const Ne=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),se,1),yt=this._dateAdapter.getNumDaysInMonth(Ne);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),se,Math.min(this._dateAdapter.getDate(this.activeDate),yt))}_createCellForMonth(se,Ne){const yt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),se,1),Pt=this._dateAdapter.format(yt,this._dateFormats.display.monthYearA11yLabel),gn=this.dateClass?this.dateClass(yt,"year"):void 0;return new rt(se,Ne.toLocaleUpperCase(),Pt,this._shouldEnableMonth(se),gn)}_shouldEnableMonth(se){const Ne=this._dateAdapter.getYear(this.activeDate);if(null==se||this._isYearAndMonthAfterMaxDate(Ne,se)||this._isYearAndMonthBeforeMinDate(Ne,se))return!1;if(!this.dateFilter)return!0;for(let Pt=this._dateAdapter.createDate(Ne,se,1);this._dateAdapter.getMonth(Pt)==se;Pt=this._dateAdapter.addCalendarDays(Pt,1))if(this.dateFilter(Pt))return!0;return!1}_isYearAndMonthAfterMaxDate(se,Ne){if(this.maxDate){const yt=this._dateAdapter.getYear(this.maxDate),Pt=this._dateAdapter.getMonth(this.maxDate);return se>yt||se===yt&&Ne>Pt}return!1}_isYearAndMonthBeforeMinDate(se,Ne){if(this.minDate){const yt=this._dateAdapter.getYear(this.minDate),Pt=this._dateAdapter.getMonth(this.minDate);return se<yt||se===yt&&Ne<Pt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(se){this._selectedMonth=se instanceof Tt?this._getMonthInCurrentYear(se.start)||this._getMonthInCurrentYear(se.end):this._getMonthInCurrentYear(se)}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.sBO),v.Y36(C.sG,8),v.Y36(C._A,8),v.Y36(xe.Is,8))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-year-view"]],viewQuery:function(se,Ne){if(1&se&&v.Gf(te,5),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne._matCalendarBody=yt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(se,Ne){1&se&&(v.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),v._UZ(3,"th",2),v.qZA()(),v.TgZ(4,"tbody",3),v.NdJ("selectedValueChange",function(Pt){return Ne._monthSelected(Pt)})("activeDateChange",function(Pt){return Ne._updateActiveDate(Pt)})("keyup",function(Pt){return Ne._handleCalendarBodyKeyup(Pt)})("keydown",function(Pt){return Ne._handleCalendarBodyKeydown(Pt)}),v.qZA()()),2&se&&(v.xp6(4),v.Q6J("label",Ne._yearLabel)("rows",Ne._months)("todayValue",Ne._todayMonth)("startValue",Ne._selectedMonth)("endValue",Ne._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Ne._dateAdapter.getMonth(Ne.activeDate)))},dependencies:[te],encapsulation:2,changeDetection:0}),xt})(),Yt=1,Qt=(()=>{class xt{constructor(se,Ne,yt,Pt,gn){this._intl=se,this.calendar=Ne,this._dateAdapter=yt,this._dateFormats=Pt,this._id="mat-calendar-header-"+Yt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>gn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(se,Ne){return"month"==this.calendar.currentView?this._dateAdapter.getYear(se)==this._dateAdapter.getYear(Ne)&&this._dateAdapter.getMonth(se)==this._dateAdapter.getMonth(Ne):"year"==this.calendar.currentView?this._dateAdapter.getYear(se)==this._dateAdapter.getYear(Ne):vt(this._dateAdapter,se,Ne,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ne=this._dateAdapter.getYear(this.calendar.activeDate)-sn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),yt=Ne+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ne,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(yt,0,1))]}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(Ke),v.Y36((0,v.Gpc)(()=>An)),v.Y36(C._A,8),v.Y36(C.sG,8),v.Y36(v.sBO))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Z,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(se,Ne){1&se&&(v.F$t(),v.TgZ(0,"div",0)(1,"div",1)(2,"button",2),v.NdJ("click",function(){return Ne.currentPeriodClicked()}),v.TgZ(3,"span",3),v._uU(4),v.qZA(),v.O4$(),v.TgZ(5,"svg",4),v._UZ(6,"polygon",5),v.qZA()(),v.kcU(),v._UZ(7,"div",6),v.Hsn(8),v.TgZ(9,"button",7),v.NdJ("click",function(){return Ne.previousClicked()}),v.qZA(),v.TgZ(10,"button",8),v.NdJ("click",function(){return Ne.nextClicked()}),v.qZA()()(),v.TgZ(11,"label",9),v._uU(12),v.qZA()),2&se&&(v.xp6(2),v.uIk("aria-label",Ne.periodButtonLabel)("aria-describedby",Ne._periodButtonLabelId),v.xp6(2),v.Oqu(Ne.periodButtonText),v.xp6(1),v.ekj("mat-calendar-invert","month"!==Ne.calendar.currentView),v.xp6(4),v.Q6J("disabled",!Ne.previousEnabled()),v.uIk("aria-label",Ne.prevButtonLabel),v.xp6(1),v.Q6J("disabled",!Ne.nextEnabled()),v.uIk("aria-label",Ne.nextButtonLabel),v.xp6(1),v.Q6J("id",Ne._periodButtonLabelId),v.xp6(1),v.Oqu(Ne.periodButtonDescription))},dependencies:[M,ie],encapsulation:2,changeDetection:0}),xt})(),An=(()=>{class xt{constructor(se,Ne,yt,Pt){this._dateAdapter=Ne,this._dateFormats=yt,this._changeDetectorRef=Pt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new v.vpe,this.yearSelected=new v.vpe,this.monthSelected=new v.vpe,this.viewChanged=new v.vpe(!0),this._userSelection=new v.vpe,this.stateChanges=new Ie.xQ,this._intlChanges=se.changes.subscribe(()=>{Pt.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(se){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get selected(){return this._selected}set selected(se){this._selected=se instanceof Tt?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get activeDate(){return this._clampedActiveDate}set activeDate(se){this._clampedActiveDate=this._dateAdapter.clampDate(se,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(se){const Ne=this._currentView!==se?se:null;this._currentView=se,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ne&&this.viewChanged.emit(Ne)}ngAfterContentInit(){this._calendarHeaderPortal=new y.C5(this.headerComponent||Qt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(se){const Ne=se.minDate&&!this._dateAdapter.sameDate(se.minDate.previousValue,se.minDate.currentValue)?se.minDate:void 0,yt=se.maxDate&&!this._dateAdapter.sameDate(se.maxDate.previousValue,se.maxDate.currentValue)?se.maxDate:void 0,Pt=Ne||yt||se.dateFilter;if(Pt&&!Pt.firstChange){const gn=this._getCurrentViewComponent();gn&&(this._changeDetectorRef.detectChanges(),gn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(se){const Ne=se.value;(this.selected instanceof Tt||Ne&&!this._dateAdapter.sameDate(Ne,this.selected))&&this.selectedChange.emit(Ne),this._userSelection.emit(se)}_yearSelectedInMultiYearView(se){this.yearSelected.emit(se)}_monthSelectedInYearView(se){this.monthSelected.emit(se)}_goToDateInView(se,Ne){this.activeDate=se,this.currentView=Ne}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(Ke),v.Y36(C._A,8),v.Y36(C.sG,8),v.Y36(v.sBO))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-calendar"]],viewQuery:function(se,Ne){if(1&se&&(v.Gf(en,5),v.Gf(rn,5),v.Gf(Bt,5)),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne.monthView=yt.first),v.iGM(yt=v.CRH())&&(Ne.yearView=yt.first),v.iGM(yt=v.CRH())&&(Ne.multiYearView=yt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[v._Bn([Dn]),v.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(se,Ne){1&se&&(v.YNc(0,ee,0,0,"ng-template",0),v.TgZ(1,"div",1),v.YNc(2,ue,1,10,"mat-month-view",2),v.YNc(3,Ce,1,6,"mat-year-view",3),v.YNc(4,pt,1,6,"mat-multi-year-view",4),v.qZA()),2&se&&(v.Q6J("cdkPortalOutlet",Ne._calendarHeaderPortal),v.xp6(1),v.Q6J("ngSwitch",Ne.currentView),v.xp6(1),v.Q6J("ngSwitchCase","month"),v.xp6(1),v.Q6J("ngSwitchCase","year"),v.xp6(1),v.Q6J("ngSwitchCase","multi-year"))},dependencies:[T.RF,T.n9,e.kH,y.Pl,en,rn,Bt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),xt})();const Bn={transformPanel:(0,je.X$)("transformPanel",[(0,je.eR)("void => enter-dropdown",(0,je.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,je.F4)([(0,je.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,je.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,je.eR)("void => enter-dialog",(0,je.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,je.F4)([(0,je.oB)({opacity:0,transform:"scale(0.7)"}),(0,je.oB)({transform:"none",opacity:1})]))),(0,je.eR)("* => void",(0,je.jt)("100ms linear",(0,je.oB)({opacity:0})))]),fadeInCalendar:(0,je.X$)("fadeInCalendar",[(0,je.SB)("void",(0,je.oB)({opacity:0})),(0,je.SB)("enter",(0,je.oB)({opacity:1})),(0,je.eR)("void => *",(0,je.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Wn=0;const $n=new v.OlP("mat-datepicker-scroll-strategy"),Fn={provide:$n,deps:[n.aV],useFactory:function yn(xt){return()=>xt.scrollStrategies.reposition()}},ti=(0,C.pj)(class{constructor(xt){this._elementRef=xt}});let ei=(()=>{class xt extends ti{constructor(se,Ne,yt,Pt,gn,oi){super(se),this._changeDetectorRef=Ne,this._globalModel=yt,this._dateAdapter=Pt,this._rangeSelectionStrategy=gn,this._subscriptions=new Me.w,this._animationDone=new Ie.xQ,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=oi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(se){const Ne=this._model.selection,yt=se.value,Pt=Ne instanceof Tt;if(Pt&&this._rangeSelectionStrategy){const gn=this._rangeSelectionStrategy.selectionFinished(yt,Ne,se.event);this._model.updateSelection(gn,this)}else yt&&(Pt||!this._dateAdapter.sameDate(yt,Ne))&&this._model.add(yt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(se){this._isAnimating="start"===se.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(se,Ne){this._model=se?this._globalModel.clone():this._globalModel,this._actionsPortal=se,Ne&&this._changeDetectorRef.detectChanges()}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(zt),v.Y36(C._A),v.Y36(Rn,8),v.Y36(Ke))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-datepicker-content"]],viewQuery:function(se,Ne){if(1&se&&v.Gf(An,5),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne._calendar=yt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(se,Ne){1&se&&v.WFA("@transformPanel.start",function(Pt){return Ne._handleAnimationEvent(Pt)})("@transformPanel.done",function(Pt){return Ne._handleAnimationEvent(Pt)}),2&se&&(v.d8E("@transformPanel",Ne._animationState),v.ekj("mat-datepicker-content-touch",Ne.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[v.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(se,Ne){if(1&se&&(v.TgZ(0,"div",0)(1,"mat-calendar",1),v.NdJ("yearSelected",function(Pt){return Ne.datepicker._selectYear(Pt)})("monthSelected",function(Pt){return Ne.datepicker._selectMonth(Pt)})("viewChanged",function(Pt){return Ne.datepicker._viewChanged(Pt)})("_userSelection",function(Pt){return Ne._handleUserSelection(Pt)}),v.qZA(),v.YNc(2,Ze,0,0,"ng-template",2),v.TgZ(3,"button",3),v.NdJ("focus",function(){return Ne._closeButtonFocused=!0})("blur",function(){return Ne._closeButtonFocused=!1})("click",function(){return Ne.datepicker.close()}),v._uU(4),v.qZA()()),2&se){let yt;v.ekj("mat-datepicker-content-container-with-custom-header",Ne.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Ne._actionsPortal),v.uIk("aria-modal",!0)("aria-labelledby",null!==(yt=Ne._dialogLabelId)&&void 0!==yt?yt:void 0),v.xp6(1),v.Q6J("id",Ne.datepicker.id)("ngClass",Ne.datepicker.panelClass)("startAt",Ne.datepicker.startAt)("startView",Ne.datepicker.startView)("minDate",Ne.datepicker._getMinDate())("maxDate",Ne.datepicker._getMaxDate())("dateFilter",Ne.datepicker._getDateFilter())("headerComponent",Ne.datepicker.calendarHeaderComponent)("selected",Ne._getSelected())("dateClass",Ne.datepicker.dateClass)("comparisonStart",Ne.comparisonStart)("comparisonEnd",Ne.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Ne.startDateAccessibleName)("endDateAccessibleName",Ne.endDateAccessibleName),v.xp6(1),v.Q6J("cdkPortalOutlet",Ne._actionsPortal),v.xp6(1),v.ekj("cdk-visually-hidden",!Ne._closeButtonFocused),v.Q6J("color",Ne.color||"primary"),v.xp6(1),v.Oqu(Ne._closeButtonText)}},dependencies:[T.mk,M,e.mK,y.Pl,An],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Bn.transformPanel,Bn.fadeInCalendar]},changeDetection:0}),xt})(),ci=(()=>{class xt{constructor(se,Ne,yt,Pt,gn,oi,Yi){this._overlay=se,this._ngZone=Ne,this._viewContainerRef=yt,this._dateAdapter=gn,this._dir=oi,this._model=Yi,this._inputStateChanges=Me.w.EMPTY,this._document=(0,v.f3M)(T.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new v.vpe,this.monthSelected=new v.vpe,this.viewChanged=new v.vpe(!0),this.openedStream=new v.vpe,this.closedStream=new v.vpe,this._opened=!1,this.id="mat-datepicker-"+Wn++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ie.xQ,this._scrollStrategy=Pt}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(se){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(se){this._color=se}get touchUi(){return this._touchUi}set touchUi(se){this._touchUi=(0,it.Ig)(se)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(se){const Ne=(0,it.Ig)(se);Ne!==this._disabled&&(this._disabled=Ne,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(se){this._restoreFocus=(0,it.Ig)(se)}get panelClass(){return this._panelClass}set panelClass(se){this._panelClass=(0,it.du)(se)}get opened(){return this._opened}set opened(se){(0,it.Ig)(se)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(se){const Ne=se.xPosition||se.yPosition;if(Ne&&!Ne.firstChange&&this._overlayRef){const yt=this._overlayRef.getConfig().positionStrategy;yt instanceof n._G&&(this._setConnectedPositions(yt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(se){this._model.add(se)}_selectYear(se){this.yearSelected.emit(se)}_selectMonth(se){this.monthSelected.emit(se)}_viewChanged(se){this.viewChanged.emit(se)}registerInput(se){return this._inputStateChanges.unsubscribe(),this.datepickerInput=se,this._inputStateChanges=se.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(se){this._actionsPortal=se,this._componentRef?.instance._assignActions(se,!0)}removeActions(se){se===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,O.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const se=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Ne=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:yt,location:Pt}=this._componentRef;yt._startExitAnimation(),yt._animationDone.pipe((0,be.q)(1)).subscribe(()=>{const gn=this._document.activeElement;se&&(!gn||gn===this._document.activeElement||Pt.nativeElement.contains(gn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}se?setTimeout(Ne):Ne()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(se){se.datepicker=this,se.color=this.color,se._dialogLabelId=this.datepickerInput.getOverlayLabelId(),se._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const se=this.touchUi,Ne=new y.C5(ei,this._viewContainerRef),yt=this._overlayRef=this._overlay.create(new n.X_({positionStrategy:se?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[se?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:se?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(se?"dialog":"popup")}));this._getCloseStream(yt).subscribe(Pt=>{Pt&&Pt.preventDefault(),this.close()}),yt.keydownEvents().subscribe(Pt=>{const gn=Pt.keyCode;(gn===Pe.LH||gn===Pe.JH||gn===Pe.oh||gn===Pe.SV||gn===Pe.Ku||gn===Pe.VM)&&Pt.preventDefault()}),this._componentRef=yt.attach(Ne),this._forwardContentValues(this._componentRef.instance),se||this._ngZone.onStable.pipe((0,be.q)(1)).subscribe(()=>yt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const se=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(se)}_setConnectedPositions(se){const Ne="end"===this.xPosition?"end":"start",yt="start"===Ne?"end":"start",Pt="above"===this.yPosition?"bottom":"top",gn="top"===Pt?"bottom":"top";return se.withPositions([{originX:Ne,originY:gn,overlayX:Ne,overlayY:Pt},{originX:Ne,originY:Pt,overlayX:Ne,overlayY:gn},{originX:yt,originY:gn,overlayX:yt,overlayY:Pt},{originX:yt,originY:Pt,overlayX:yt,overlayY:gn}])}_getCloseStream(se){return(0,Fe.T)(se.backdropClick(),se.detachments(),se.keydownEvents().pipe((0,He.h)(Ne=>Ne.keyCode===Pe.hY&&!(0,Pe.Vb)(Ne)||this.datepickerInput&&(0,Pe.Vb)(Ne,"altKey")&&Ne.keyCode===Pe.LH)))}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(n.aV),v.Y36(v.R0b),v.Y36(v.s_b),v.Y36($n),v.Y36(C._A,8),v.Y36(xe.Is,8),v.Y36(zt))},xt.\u0275dir=v.lG2({type:xt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[v.TTD]}),xt})(),Fi=(()=>{class xt extends ci{}return xt.\u0275fac=function(){let Kt;return function(Ne){return(Kt||(Kt=v.n5z(xt)))(Ne||xt)}}(),xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[v._Bn([Dn,{provide:ci,useExisting:xt}]),v.qOj],decls:0,vars:0,template:function(se,Ne){},encapsulation:2,changeDetection:0}),xt})();class hn{constructor(Kt,se){this.target=Kt,this.targetElement=se,this.value=this.target.value}}let Kn=(()=>{class xt{constructor(se,Ne,yt){this._elementRef=se,this._dateAdapter=Ne,this._dateFormats=yt,this.dateChange=new v.vpe,this.dateInput=new v.vpe,this.stateChanges=new Ie.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Me.w.EMPTY,this._localeSubscription=Me.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Pt=>{const gn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Pt.value));return!gn||this._matchesFilter(gn)?null:{matDatepickerFilter:!0}},this._minValidator=Pt=>{const gn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Pt.value)),oi=this._getMinDate();return!oi||!gn||this._dateAdapter.compareDate(oi,gn)<=0?null:{matDatepickerMin:{min:oi,actual:gn}}},this._maxValidator=Pt=>{const gn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Pt.value)),oi=this._getMaxDate();return!oi||!gn||this._dateAdapter.compareDate(oi,gn)>=0?null:{matDatepickerMax:{max:oi,actual:gn}}},this._lastValueValid=!1,this._localeSubscription=Ne.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(se){this._assignValueProgrammatically(se)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(se){const Ne=(0,it.Ig)(se),yt=this._elementRef.nativeElement;this._disabled!==Ne&&(this._disabled=Ne,this.stateChanges.next(void 0)),Ne&&this._isInitialized&&yt.blur&&yt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(se){this._model=se,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Ne=>{if(this._shouldHandleChangeEvent(Ne)){const yt=this._getValueFromModel(Ne.selection);this._lastValueValid=this._isValidValue(yt),this._cvaOnChange(yt),this._onTouched(),this._formatValue(yt),this.dateInput.emit(new hn(this,this._elementRef.nativeElement)),this.dateChange.emit(new hn(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(se){(function pi(xt,Kt){const se=Object.keys(xt);for(let Ne of se){const{previousValue:yt,currentValue:Pt}=xt[Ne];if(!Kt.isDateInstance(yt)||!Kt.isDateInstance(Pt))return!0;if(!Kt.sameDate(yt,Pt))return!0}return!1})(se,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(se){this._validatorOnChange=se}validate(se){return this._validator?this._validator(se):null}writeValue(se){this._assignValueProgrammatically(se)}registerOnChange(se){this._cvaOnChange=se}registerOnTouched(se){this._onTouched=se}setDisabledState(se){this.disabled=se}_onKeydown(se){se.altKey&&se.keyCode===Pe.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),se.preventDefault())}_onInput(se){const Ne=this._lastValueValid;let yt=this._dateAdapter.parse(se,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(yt),yt=this._dateAdapter.getValidDateOrNull(yt);const Pt=!this._dateAdapter.sameDate(yt,this.value);!yt||Pt?this._cvaOnChange(yt):(se&&!this.value&&this._cvaOnChange(yt),Ne!==this._lastValueValid&&this._validatorOnChange()),Pt&&(this._assignValue(yt),this.dateInput.emit(new hn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new hn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(se){this._elementRef.nativeElement.value=null!=se?this._dateAdapter.format(se,this._dateFormats.display.dateInput):""}_assignValue(se){this._model?(this._assignValueToModel(se),this._pendingValue=null):this._pendingValue=se}_isValidValue(se){return!se||this._dateAdapter.isValid(se)}_parentDisabled(){return!1}_assignValueProgrammatically(se){se=this._dateAdapter.deserialize(se),this._lastValueValid=this._isValidValue(se),se=this._dateAdapter.getValidDateOrNull(se),this._assignValue(se),this._formatValue(se)}_matchesFilter(se){const Ne=this._getDateFilter();return!Ne||Ne(se)}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.SBq),v.Y36(C._A,8),v.Y36(C.sG,8))},xt.\u0275dir=v.lG2({type:xt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[v.TTD]}),xt})();const Mi={provide:Be.JU,useExisting:(0,v.Gpc)(()=>di),multi:!0},Ui={provide:Be.Cf,useExisting:(0,v.Gpc)(()=>di),multi:!0};let di=(()=>{class xt extends Kn{constructor(se,Ne,yt,Pt){super(se,Ne,yt),this._formField=Pt,this._closedSubscription=Me.w.EMPTY,this._validator=Be.kI.compose(super._getValidators())}set matDatepicker(se){se&&(this._datepicker=se,this._closedSubscription=se.closedStream.subscribe(()=>this._onTouched()),this._registerModel(se.registerInput(this)))}get min(){return this._min}set min(se){const Ne=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se));this._dateAdapter.sameDate(Ne,this._min)||(this._min=Ne,this._validatorOnChange())}get max(){return this._max}set max(se){const Ne=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se));this._dateAdapter.sameDate(Ne,this._max)||(this._max=Ne,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(se){const Ne=this._matchesFilter(this.value);this._dateFilter=se,this._matchesFilter(this.value)!==Ne&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(se){return se}_assignValueToModel(se){this._model&&this._model.updateSelection(se,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(se){return se.source!==this}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(v.SBq),v.Y36(C._A,8),v.Y36(C.sG,8),v.Y36(lt.G_,8))},xt.\u0275dir=v.lG2({type:xt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(se,Ne){1&se&&v.NdJ("input",function(Pt){return Ne._onInput(Pt.target.value)})("change",function(){return Ne._onChange()})("blur",function(){return Ne._onBlur()})("keydown",function(Pt){return Ne._onKeydown(Pt)}),2&se&&(v.Ikx("disabled",Ne.disabled),v.uIk("aria-haspopup",Ne._datepicker?"dialog":null)("aria-owns",(null==Ne._datepicker?null:Ne._datepicker.opened)&&Ne._datepicker.id||null)("min",Ne.min?Ne._dateAdapter.toIso8601(Ne.min):null)("max",Ne.max?Ne._dateAdapter.toIso8601(Ne.max):null)("data-mat-calendar",Ne._datepicker?Ne._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[v._Bn([Mi,Ui,{provide:Ye.Jk,useExisting:xt}]),v.qOj]}),xt})(),Gi=(()=>{class xt{}return xt.\u0275fac=function(se){return new(se||xt)},xt.\u0275dir=v.lG2({type:xt,selectors:[["","matDatepickerToggleIcon",""]]}),xt})(),jt=(()=>{class xt{constructor(se,Ne,yt){this._intl=se,this._changeDetectorRef=Ne,this._stateChanges=Me.w.EMPTY;const Pt=Number(yt);this.tabIndex=Pt||0===Pt?Pt:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(se){this._disabled=(0,it.Ig)(se)}ngOnChanges(se){se.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(se){this.datepicker&&!this.disabled&&(this.datepicker.open(),se.stopPropagation())}_watchStateChanges(){const se=this.datepicker?this.datepicker.stateChanges:(0,Ve.of)(),Ne=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ve.of)(),yt=this.datepicker?(0,Fe.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ve.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Fe.T)(this._intl.changes,se,Ne,yt).subscribe(()=>this._changeDetectorRef.markForCheck())}}return xt.\u0275fac=function(se){return new(se||xt)(v.Y36(Ke),v.Y36(v.sBO),v.$8M("tabindex"))},xt.\u0275cmp=v.Xpm({type:xt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(se,Ne,yt){if(1&se&&v.Suo(yt,Gi,5),2&se){let Pt;v.iGM(Pt=v.CRH())&&(Ne._customIcon=Pt.first)}},viewQuery:function(se,Ne){if(1&se&&v.Gf(ft,5),2&se){let yt;v.iGM(yt=v.CRH())&&(Ne._button=yt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(se,Ne){1&se&&v.NdJ("click",function(Pt){return Ne._open(Pt)}),2&se&&(v.uIk("tabindex",null)("data-mat-calendar",Ne.datepicker?Ne.datepicker.id:null),v.ekj("mat-datepicker-toggle-active",Ne.datepicker&&Ne.datepicker.opened)("mat-accent",Ne.datepicker&&"accent"===Ne.datepicker.color)("mat-warn",Ne.datepicker&&"warn"===Ne.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[v.TTD],ngContentSelectors:Wt,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(se,Ne){1&se&&(v.F$t(At),v.TgZ(0,"button",0,1),v.YNc(2,Dt,2,0,"svg",2),v.Hsn(3),v.qZA()),2&se&&(v.Q6J("disabled",Ne.disabled)("disableRipple",Ne.disableRipple),v.uIk("aria-haspopup",Ne.datepicker?"dialog":null)("aria-label",Ne.ariaLabel||Ne._intl.openCalendarLabel)("tabindex",Ne.disabled?-1:Ne.tabIndex),v.xp6(2),v.Q6J("ngIf",!Ne._customIcon))},dependencies:[T.O5,ie],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),xt})(),Yo=(()=>{class xt{}return xt.\u0275fac=function(se){return new(se||xt)},xt.\u0275mod=v.oAB({type:xt}),xt.\u0275inj=v.cJS({providers:[Ke,Fn],imports:[T.ez,G,n.U8,e.rt,y.eL,C.BQ,_e.ZD]}),xt})()},9549:(Je,K,t)=>{"use strict";t.d(K,{Bi:()=>xe,Eo:()=>Ve,G_:()=>Ue,Lv:()=>be,Px:()=>$,TN:()=>Fe,UO:()=>Pe,Ve:()=>V,ab:()=>w});var e=t(6353),n=t(7340);const w=new e.OlP("MatError"),$=new e.OlP("MatPrefix"),V=new e.OlP("MatSuffix"),Fe={transitionMessages:(0,n.X$)("transitionMessages",[(0,n.SB)("enter",(0,n.oB)({opacity:1,transform:"translateY(0%)"})),(0,n.eR)("void => enter",[(0,n.oB)({opacity:0,transform:"translateY(-5px)"}),(0,n.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ve=(()=>{class ge{}return ge.\u0275fac=function(me){return new(me||ge)},ge.\u0275dir=e.lG2({type:ge}),ge})();function Pe(){return Error("Placeholder attribute and child element were both specified.")}function xe(ge){return Error(`A hint was already declared for 'align="${ge}"'.`)}function be(){return Error("mat-form-field must contain a MatFormFieldControl.")}const Ue=new e.OlP("MatFormField")},284:(Je,K,t)=>{"use strict";t.d(K,{Jk:()=>f,Nt:()=>h});var e=t(1281),n=t(3353),y=t(9349),T=t(6353),v=t(4006),O=t(3238),C=t(9549),E=t(8929);const f=new T.OlP("MAT_INPUT_VALUE_ACCESSOR"),_=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let l=0;const m=(0,O.FD)(class{constructor(c,a,s,r){this._defaultErrorStateMatcher=c,this._parentForm=a,this._parentFormGroup=s,this.ngControl=r,this.stateChanges=new E.xQ}});let h=(()=>{class c extends m{constructor(s,r,o,S,I,x,P,g,u,M){super(x,S,I,o),this._elementRef=s,this._platform=r,this._autofillMonitor=g,this._formField=M,this._uid="mat-input-"+l++,this.focused=!1,this.stateChanges=new E.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>(0,n.qK)().has(F)),this._iOSKeyupListener=F=>{const B=F.target;!B.value&&0===B.selectionStart&&0===B.selectionEnd&&(B.setSelectionRange(1,1),B.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,w=R.nodeName.toLowerCase();this._inputValueAccessor=P||R,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{s.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===w,this._isTextarea="textarea"===w,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,e.Ig)(s),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(s){this._id=s||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(v.kI.required)??!1}set required(s){this._required=(0,e.Ig)(s)}get type(){return this._type}set type(s){this._type=s||"text",this._validateType(),!this._isTextarea&&(0,n.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(s){s!==this.value&&(this._inputValueAccessor.value=s,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(s){this._readonly=(0,e.Ig)(s)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(s=>{this.autofilled=s.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(s){this._elementRef.nativeElement.focus(s)}_focusChanged(s){s!==this.focused&&(this.focused=s,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const s=this._elementRef.nativeElement.value;this._previousNativeValue!==s&&(this._previousNativeValue=s,this.stateChanges.next())}_dirtyCheckPlaceholder(){const s=this._getPlaceholder();if(s!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=s,s?r.setAttribute("placeholder",s):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let s=this._elementRef.nativeElement.validity;return s&&s.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const s=this._elementRef.nativeElement,r=s.options[0];return this.focused||s.multiple||!this.empty||!!(s.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(s){s.length?this._elementRef.nativeElement.setAttribute("aria-describedby",s.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const s=this._elementRef.nativeElement;return this._isNativeSelect&&(s.multiple||s.size>1)}}return c.\u0275fac=function(s){return new(s||c)(T.Y36(T.SBq),T.Y36(n.t4),T.Y36(v.a5,10),T.Y36(v.F,8),T.Y36(v.sg,8),T.Y36(O.rD),T.Y36(f,10),T.Y36(y.Lq),T.Y36(T.R0b),T.Y36(C.G_,8))},c.\u0275dir=T.lG2({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(s,r){1&s&&T.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&s&&(T.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),T.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),T.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[T._Bn([{provide:C.Eo,useExisting:c}]),T.qOj,T.TTD]}),c})()},4226:(Je,K,t)=>{"use strict";t.d(K,{VN:()=>Be,D8:()=>ot,$C:()=>et,QJ:()=>Ye});var e=t(6353),n=t(3238),y=t(4363),T=t(6895),v=t(3476),O=t(8184),C=t(2687),E=t(1281),i=t(3353),_=(t(7340),t(2654)),l=t(8929),m=t(8514),h=t(6787),d=t(1086),c=t(3753),a=t(445),s=t(9521),r=t(4080),o=t(4006),S=t(9549),I=t(1059),x=t(7545),P=t(2986),g=t(2198),u=t(4850),M=t(2994),R=t(8583);const w=["panel"];let $=0;class j{constructor(we,me){this.source=we,this.option=me}}const V=(0,n.Kr)(class{}),Q=new e.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function ie(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let ye=(()=>{class ge extends V{constructor(me,fe,Z,ee){super(),this._changeDetectorRef=me,this._elementRef=fe,this._activeOptionChanges=_.w.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.vpe,this.opened=new e.vpe,this.closed=new e.vpe,this.optionActivated=new e.vpe,this._classList={},this.id="mat-autocomplete-"+$++,this.inertGroups=ee?.SAFARI||!1,this._autoActiveFirstOption=!!Z.autoActiveFirstOption,this._autoSelectActiveOption=!!Z.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(me){this._autoActiveFirstOption=(0,E.Ig)(me)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(me){this._autoSelectActiveOption=(0,E.Ig)(me)}set classList(me){this._classList=me&&me.length?(0,E.du)(me).reduce((fe,Z)=>(fe[Z]=!0,fe),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new C.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(me=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[me]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(me){this.panel&&(this.panel.nativeElement.scrollTop=me)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(me){const fe=new j(this,me);this.optionSelected.emit(fe)}_getPanelAriaLabelledby(me){return this.ariaLabel?null:this.ariaLabelledby?(me?me+" ":"")+this.ariaLabelledby:me}_setVisibilityClasses(me){me[this._visibleClass]=this.showPanel,me[this._hiddenClass]=!this.showPanel}}return ge.\u0275fac=function(me){return new(me||ge)(e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(Q),e.Y36(i.t4))},ge.\u0275dir=e.lG2({type:ge,viewQuery:function(me,fe){if(1&me&&(e.Gf(e.Rgc,7),e.Gf(w,5)),2&me){let Z;e.iGM(Z=e.CRH())&&(fe.template=Z.first),e.iGM(Z=e.CRH())&&(fe.panel=Z.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[e.qOj]}),ge})(),_e=(()=>{class ge{constructor(me){this.elementRef=me}}return ge.\u0275fac=function(me){return new(me||ge)(e.Y36(e.SBq))},ge.\u0275dir=e.lG2({type:ge}),ge})();const Ve=new e.OlP("mat-autocomplete-scroll-strategy"),xe={provide:Ve,deps:[O.aV],useFactory:function Pe(ge){return()=>ge.scrollStrategies.reposition()}};let be=(()=>{class ge{constructor(me,fe,Z,ee,ue,Ce,pt,Ze,ft,Dt,At){this._element=me,this._overlay=fe,this._viewContainerRef=Z,this._zone=ee,this._changeDetectorRef=ue,this._dir=pt,this._formField=Ze,this._document=ft,this._viewportRuler=Dt,this._defaults=At,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=_.w.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new l.xQ,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,m.P)(()=>{const Wt=this.autocomplete?this.autocomplete.options:null;return Wt?Wt.changes.pipe((0,I.O)(Wt),(0,x.w)(()=>(0,h.T)(...Wt.map(Et=>Et.onSelectionChange)))):this._zone.onStable.pipe((0,P.q)(1),(0,x.w)(()=>this.optionSelections))}),this._scrollStrategy=Ce}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(me){this._autocompleteDisabled=(0,E.Ig)(me)}ngAfterViewInit(){const me=this._getWindow();typeof me<"u"&&this._zone.runOutsideAngular(()=>me.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(me){me.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const me=this._getWindow();typeof me<"u"&&me.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,h.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,g.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,g.h)(()=>this._overlayAttached)):(0,d.of)()).pipe((0,u.U)(me=>me instanceof n.rN?me:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,h.T)((0,c.R)(this._document,"click"),(0,c.R)(this._document,"auxclick"),(0,c.R)(this._document,"touchend")).pipe((0,g.h)(me=>{const fe=(0,i.sA)(me),Z=this._formField?this._formField._elementRef.nativeElement:null,ee=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&fe!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Z||!Z.contains(fe))&&(!ee||!ee.contains(fe))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(fe)}))}writeValue(me){Promise.resolve(null).then(()=>this._assignOptionValue(me))}registerOnChange(me){this._onChange=me}registerOnTouched(me){this._onTouched=me}setDisabledState(me){this._element.nativeElement.disabled=me}_handleKeydown(me){const fe=me.keyCode,Z=(0,s.Vb)(me);if(fe===s.hY&&!Z&&me.preventDefault(),this.activeOption&&fe===s.K5&&this.panelOpen&&!Z)this.activeOption._selectViaInteraction(),this._resetActiveItem(),me.preventDefault();else if(this.autocomplete){const ee=this.autocomplete._keyManager.activeItem,ue=fe===s.LH||fe===s.JH;fe===s.Mf||ue&&!Z&&this.panelOpen?this.autocomplete._keyManager.onKeydown(me):ue&&this._canOpen()&&this.openPanel(),(ue||this.autocomplete._keyManager.activeItem!==ee)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(me){let fe=me.target,Z=fe.value;"number"===fe.type&&(Z=""==Z?null:parseFloat(Z)),this._previousValue!==Z&&(this._previousValue=Z,this._pendingAutoselectedOption=null,this._onChange(Z),this._canOpen()&&this._document.activeElement===me.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(me=!1){this._formField&&"auto"===this._formField.floatLabel&&(me?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const me=this._zone.onStable.pipe((0,P.q)(1)),fe=this.autocomplete.options.changes.pipe((0,M.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,R.g)(0));return(0,h.T)(me,fe).pipe((0,x.w)(()=>(this._zone.run(()=>{const Z=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Z!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,P.q)(1)).subscribe(Z=>this._setValueAndClose(Z))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(me){const fe=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(me):me;this._updateNativeInputValue(fe??"")}_updateNativeInputValue(me){this._formField?this._formField._control.value=me:this._element.nativeElement.value=me,this._previousValue=me}_setValueAndClose(me){const fe=me?me.source:this._pendingAutoselectedOption;fe&&(this._clearPreviousSelectedOption(fe),this._assignOptionValue(fe.value),this._onChange(fe.value),this.autocomplete._emitSelectEvent(fe),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(me){this.autocomplete.options.forEach(fe=>{fe!==me&&fe.selected&&fe.deselect()})}_attachOverlay(){let me=this._overlayRef;me?(this._positionStrategy.setOrigin(this._getConnectedElement()),me.updateSize({width:this._getPanelWidth()})):(this._portal=new r.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),me=this._overlay.create(this._getOverlayConfig()),this._overlayRef=me,this._handleOverlayEvents(me),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&me&&me.updateSize({width:this._getPanelWidth()})})),me&&!me.hasAttached()&&(me.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const fe=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&fe!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new O.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const me=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(me),this._positionStrategy=me,me}_setStrategyPositions(me){const fe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Z=this._aboveClass,ee=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Z},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Z}];let ue;ue="above"===this.position?ee:"below"===this.position?fe:[...fe,...ee],me.withPositions(ue)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const me=this.autocomplete;me.autoActiveFirstOption?me._keyManager.setFirstItemActive():me._keyManager.setActiveItem(-1)}_canOpen(){const me=this._element.nativeElement;return!me.readOnly&&!me.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(me){const fe=this.autocomplete,Z=(0,n.CB)(me,fe.options,fe.optionGroups);if(0===me&&1===Z)fe._setScrollTop(0);else if(fe.panel){const ee=fe.options.toArray()[me];if(ee){const ue=ee._getHostElement(),Ce=(0,n.jH)(ue.offsetTop,ue.offsetHeight,fe._getScrollTop(),fe.panel.nativeElement.offsetHeight);fe._setScrollTop(Ce)}}}_handleOverlayEvents(me){me.keydownEvents().subscribe(fe=>{(fe.keyCode===s.hY&&!(0,s.Vb)(fe)||fe.keyCode===s.LH&&(0,s.Vb)(fe,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),fe.stopPropagation(),fe.preventDefault())}),me.outsidePointerEvents().subscribe()}}return ge.\u0275fac=function(me){return new(me||ge)(e.Y36(e.SBq),e.Y36(O.aV),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(Ve),e.Y36(a.Is,8),e.Y36(S.G_,9),e.Y36(T.K0,8),e.Y36(v.rL),e.Y36(Q,8))},ge.\u0275dir=e.lG2({type:ge,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[e.TTD]}),ge})();function it(ge,we){if(1&ge&&(e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA()),2&ge){const me=we.id,fe=e.oxw();e.Q6J("id",fe.id)("ngClass",fe._classList),e.uIk("aria-label",fe.ariaLabel||null)("aria-labelledby",fe._getPanelAriaLabelledby(me))}}const je=["*"];let Be=(()=>{class ge extends ye{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return ge.\u0275fac=function(){let we;return function(fe){return(we||(we=e.n5z(ge)))(fe||ge)}}(),ge.\u0275cmp=e.Xpm({type:ge,selectors:[["mat-autocomplete"]],contentQueries:function(me,fe,Z){if(1&me&&(e.Suo(Z,n.K7,5),e.Suo(Z,y.CK,5)),2&me){let ee;e.iGM(ee=e.CRH())&&(fe.optionGroups=ee),e.iGM(ee=e.CRH())&&(fe.options=ee)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[e._Bn([{provide:n.HF,useExisting:ge}]),e.qOj],ngContentSelectors:je,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(me,fe){1&me&&(e.F$t(),e.YNc(0,it,3,4,"ng-template"))},dependencies:[T.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),ge})();const lt={provide:o.JU,useExisting:(0,e.Gpc)(()=>Ye),multi:!0};let Ye=(()=>{class ge extends be{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return ge.\u0275fac=function(){let we;return function(fe){return(we||(we=e.n5z(ge)))(fe||ge)}}(),ge.\u0275dir=e.lG2({type:ge,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(me,fe){1&me&&e.NdJ("focusin",function(){return fe._handleFocus()})("blur",function(){return fe._onTouched()})("input",function(ee){return fe._handleInput(ee)})("keydown",function(ee){return fe._handleKeydown(ee)})("click",function(){return fe._handleClick()}),2&me&&e.uIk("autocomplete",fe.autocompleteAttribute)("role",fe.autocompleteDisabled?null:"combobox")("aria-autocomplete",fe.autocompleteDisabled?null:"list")("aria-activedescendant",fe.panelOpen&&fe.activeOption?fe.activeOption.id:null)("aria-expanded",fe.autocompleteDisabled?null:fe.panelOpen.toString())("aria-owns",fe.autocompleteDisabled||!fe.panelOpen||null==fe.autocomplete?null:fe.autocomplete.id)("aria-haspopup",fe.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[e._Bn([lt]),e.qOj]}),ge})(),et=(()=>{class ge extends _e{}return ge.\u0275fac=function(){let we;return function(fe){return(we||(we=e.n5z(ge)))(fe||ge)}}(),ge.\u0275dir=e.lG2({type:ge,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],features:[e.qOj]}),ge})(),ot=(()=>{class ge{}return ge.\u0275fac=function(me){return new(me||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({providers:[xe],imports:[O.U8,y.Uc,n.BQ,T.ez,v.ZD,y.Uc,n.BQ]}),ge})()},9818:(Je,K,t)=>{"use strict";t.d(K,{Nr:()=>_,eB:()=>f,yu:()=>l});var e=t(6353),n=t(3238),y=t(2687);const T=["mat-button",""],v=["*"],E=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],i=(0,n.pj)((0,n.Id)((0,n.Kr)(class{constructor(m){this._elementRef=m}})));let f=(()=>{class m extends i{constructor(d,c,a){super(d),this._focusMonitor=c,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of E)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);d.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(d,c){d?this._focusMonitor.focusVia(this._getHostElement(),d,c):this._getHostElement().focus(c)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...d){return d.some(c=>this._getHostElement().hasAttribute(c))}}return m.\u0275fac=function(d){return new(d||m)(e.Y36(e.SBq),e.Y36(y.tE),e.Y36(e.QbO,8))},m.\u0275cmp=e.Xpm({type:m,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(d,c){if(1&d&&e.Gf(n.wG,5),2&d){let a;e.iGM(a=e.CRH())&&(c.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(d,c){2&d&&(e.uIk("disabled",c.disabled||null),e.ekj("_mat-animation-noopable","NoopAnimations"===c._animationMode)("mat-button-disabled",c.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[e.qOj],attrs:T,ngContentSelectors:v,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(d,c){1&d&&(e.F$t(),e.TgZ(0,"span",0),e.Hsn(1),e.qZA(),e._UZ(2,"span",1)(3,"span",2)),2&d&&(e.xp6(2),e.ekj("mat-button-ripple-round",c.isRoundButton||c.isIconButton),e.Q6J("matRippleDisabled",c._isRippleDisabled())("matRippleCentered",c.isIconButton)("matRippleTrigger",c._getHostElement()))},dependencies:[n.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),m})(),_=(()=>{class m extends f{constructor(d,c,a,s){super(c,d,a),this._ngZone=s,this._haltDisabledEvents=r=>{this.disabled&&(r.preventDefault(),r.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return m.\u0275fac=function(d){return new(d||m)(e.Y36(y.tE),e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(e.R0b,8))},m.\u0275cmp=e.Xpm({type:m,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(d,c){2&d&&(e.uIk("tabindex",c.disabled?-1:c.tabIndex)("disabled",c.disabled||null)("aria-disabled",c.disabled.toString()),e.ekj("_mat-animation-noopable","NoopAnimations"===c._animationMode)("mat-button-disabled",c.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[e.qOj],attrs:T,ngContentSelectors:v,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(d,c){1&d&&(e.F$t(),e.TgZ(0,"span",0),e.Hsn(1),e.qZA(),e._UZ(2,"span",1)(3,"span",2)),2&d&&(e.xp6(2),e.ekj("mat-button-ripple-round",c.isRoundButton||c.isIconButton),e.Q6J("matRippleDisabled",c._isRippleDisabled())("matRippleCentered",c.isIconButton)("matRippleTrigger",c._getHostElement()))},dependencies:[n.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),m})(),l=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[n.si,n.BQ,n.BQ]}),m})()},74:(Je,K,t)=>{"use strict";t.d(K,{FC:()=>M,Zh:()=>R});var e=t(2687),n=t(6353),y=t(4006),T=t(3238),v=t(1281);const O=["input"],C=["label"],i=new n.OlP("mat-checkbox-default-options",{providedIn:"root",factory:f});function f(){return{color:"accent",clickAction:"check-indeterminate"}}let m=0;const h=f(),d=(0,T.sb)((0,T.pj)((0,T.Kr)((0,T.Id)(class{constructor(w){this._elementRef=w}}))));let c=(()=>{class w extends d{constructor(B,H,$,j,V,Q,ie){super(H),this._changeDetectorRef=$,this._ngZone=j,this._animationMode=Q,this._options=ie,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new n.vpe,this.indeterminateChange=new n.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||h,this.color=this.defaultColor=this._options.color||h.color,this.tabIndex=parseInt(V)||0,this.id=this._uniqueId=`${B}${++m}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(B){this._required=(0,v.Ig)(B)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(B){const H=(0,v.Ig)(B);H!=this.checked&&(this._checked=H,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(B){const H=(0,v.Ig)(B);H!==this.disabled&&(this._disabled=H,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(B){const H=B!=this._indeterminate;this._indeterminate=(0,v.Ig)(B),H&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(B){this.checked=!!B}registerOnChange(B){this._controlValueAccessorChangeFn=B}registerOnTouched(B){this._onTouched=B}setDisabledState(B){this.disabled=B}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(B){let H=this._currentCheckState,$=this._getAnimationTargetElement();if(H!==B&&$&&(this._currentAnimationClass&&$.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(H,B),this._currentCheckState=B,this._currentAnimationClass.length>0)){$.classList.add(this._currentAnimationClass);const j=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{$.classList.remove(j)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const B=this._options?.clickAction;this.disabled||"noop"===B?!this.disabled&&"noop"===B&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==B&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(B){B.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(B,H){if("NoopAnimations"===this._animationMode)return"";switch(B){case 0:if(1===H)return this._animationClasses.uncheckedToChecked;if(3==H)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===H?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===H?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===H?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(B){const H=this._inputElement;H&&(H.nativeElement.indeterminate=B)}}return w.\u0275fac=function(B){n.$Z()},w.\u0275dir=n.lG2({type:w,viewQuery:function(B,H){if(1&B&&(n.Gf(O,5),n.Gf(C,5),n.Gf(T.wG,5)),2&B){let $;n.iGM($=n.CRH())&&(H._inputElement=$.first),n.iGM($=n.CRH())&&(H._labelElement=$.first),n.iGM($=n.CRH())&&(H.ripple=$.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[n.qOj]}),w})(),o=(()=>{class w{}return w.\u0275fac=function(B){return new(B||w)},w.\u0275mod=n.oAB({type:w}),w.\u0275inj=n.cJS({}),w})();var I=t(9643);const x=function(w){return{enterDuration:w}},P=["*"];class g{}const u={provide:y.JU,useExisting:(0,n.Gpc)(()=>M),multi:!0};let M=(()=>{class w extends c{constructor(B,H,$,j,V,Q,ie){super("mat-checkbox-",B,H,j,V,Q,ie),this._focusMonitor=$,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(B){const H=new g;return H.source=this,H.checked=B,H}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(B=>{B||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(B){B.stopPropagation(),super._handleInputClick()}focus(B,H){B?this._focusMonitor.focusVia(this._inputElement,B,H):this._inputElement.nativeElement.focus(H)}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(e.tE),n.Y36(n.R0b),n.$8M("tabindex"),n.Y36(n.QbO,8),n.Y36(i,8))},w.\u0275cmp=n.Xpm({type:w,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(B,H){2&B&&(n.Ikx("id",H.id),n.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),n.ekj("mat-checkbox-indeterminate",H.indeterminate)("mat-checkbox-checked",H.checked)("mat-checkbox-disabled",H.disabled)("mat-checkbox-label-before","before"==H.labelPosition)("_mat-animation-noopable","NoopAnimations"===H._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[n._Bn([u]),n.qOj],ngContentSelectors:P,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(B,H){if(1&B&&(n.F$t(),n.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),n.NdJ("change",function(j){return H._onInteractionEvent(j)})("click",function(j){return H._onInputClick(j)}),n.qZA(),n.TgZ(5,"span",5),n._UZ(6,"span",6),n.qZA(),n._UZ(7,"span",7),n.TgZ(8,"span",8),n.O4$(),n.TgZ(9,"svg",9),n._UZ(10,"path",10),n.qZA(),n.kcU(),n._UZ(11,"span",11),n.qZA()(),n.TgZ(12,"span",12,13),n.NdJ("cdkObserveContent",function(){return H._onLabelTextChange()}),n.TgZ(14,"span",14),n._uU(15,"\xa0"),n.qZA(),n.Hsn(16),n.qZA()()),2&B){const $=n.MAs(1),j=n.MAs(13);n.uIk("for",H.inputId),n.xp6(2),n.ekj("mat-checkbox-inner-container-no-side-margin",!j.textContent||!j.textContent.trim()),n.xp6(1),n.Q6J("id",H.inputId)("required",H.required)("checked",H.checked)("disabled",H.disabled)("tabIndex",H.tabIndex),n.uIk("value",H.value)("name",H.name)("aria-label",H.ariaLabel||null)("aria-labelledby",H.ariaLabelledby)("aria-checked",H._getAriaChecked())("aria-describedby",H.ariaDescribedby),n.xp6(2),n.Q6J("matRippleTrigger",$)("matRippleDisabled",H._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",n.VKq(19,x,"NoopAnimations"===H._animationMode?0:150))}},dependencies:[T.wG,I.wD],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),w})(),R=(()=>{class w{}return w.\u0275fac=function(B){return new(B||w)},w.\u0275mod=n.oAB({type:w}),w.\u0275inj=n.cJS({imports:[T.si,T.BQ,I.Q8,o,T.BQ,o]}),w})()},9923:(Je,K,t)=>{"use strict";t.d(K,{IP:()=>j,Y6:()=>M,ir:()=>H,lw:()=>u,yD:()=>Q});var e=t(9521),n=t(6353),y=t(3238),T=t(1281),v=t(3353),O=t(6895),C=t(8929),E=t(6787),i=t(2986),f=t(7625),_=t(1059),l=t(2687),m=t(445),h=t(5017),d=t(4006),c=t(9549);const a=["*"],r=new n.OlP("MatChipRemove"),o=new n.OlP("MatChipAvatar"),S=new n.OlP("MatChipTrailingIcon");class I{constructor(ye){this._elementRef=ye}}const x=(0,y.sb)((0,y.pj)((0,y.Kr)(I),"primary"),-1);let u=(()=>{class ie extends x{constructor(G,_e,Ie,Me,Fe,Ve,Pe,xe){super(G),this._ngZone=_e,this._changeDetectorRef=Fe,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new C.xQ,this._onBlur=new C.xQ,this.selectionChange=new n.vpe,this.destroyed=new n.vpe,this.removed=new n.vpe,this._addHostClassName(),this._chipRippleTarget=Ve.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new y.IR(this,_e,this._chipRippleTarget,Ie),this._chipRipple.setupTriggerEvents(G),this.rippleConfig=Me||{},this._animationsDisabled="NoopAnimations"===Pe,this.tabIndex=null!=xe&&parseInt(xe)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(G){const _e=(0,T.Ig)(G);_e!==this._selected&&(this._selected=_e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(G){this._value=G}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(G){this._selectable=(0,T.Ig)(G)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(G){this._disabled=(0,T.Ig)(G)}get removable(){return this._removable}set removable(G){this._removable=(0,T.Ig)(G)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const G="mat-basic-chip",_e=this._elementRef.nativeElement;_e.hasAttribute(G)||_e.tagName.toLowerCase()===G?_e.classList.add(G):_e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(G=!1){return this._selected=!this.selected,this._dispatchSelectionChange(G),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(G){this.disabled&&G.preventDefault()}_handleKeydown(G){if(!this.disabled)switch(G.keyCode){case e.yY:case e.ZH:this.remove(),G.preventDefault();break;case e.L_:this.selectable&&this.toggleSelected(!0),G.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,i.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(G=!1){this.selectionChange.emit({source:this,isUserInput:G,selected:this._selected})}}return ie.\u0275fac=function(G){return new(G||ie)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(v.t4),n.Y36(y.Y2,8),n.Y36(n.sBO),n.Y36(O.K0),n.Y36(n.QbO,8),n.$8M("tabindex"))},ie.\u0275dir=n.lG2({type:ie,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(G,_e,Ie){if(1&G&&(n.Suo(Ie,o,5),n.Suo(Ie,S,5),n.Suo(Ie,r,5)),2&G){let Me;n.iGM(Me=n.CRH())&&(_e.avatar=Me.first),n.iGM(Me=n.CRH())&&(_e.trailingIcon=Me.first),n.iGM(Me=n.CRH())&&(_e.removeIcon=Me.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(G,_e){1&G&&n.NdJ("click",function(Me){return _e._handleClick(Me)})("keydown",function(Me){return _e._handleKeydown(Me)})("focus",function(){return _e.focus()})("blur",function(){return _e._blur()}),2&G&&(n.uIk("tabindex",_e.disabled?null:_e.tabIndex)("role",_e.role)("disabled",_e.disabled||null)("aria-disabled",_e.disabled.toString())("aria-selected",_e.ariaSelected),n.ekj("mat-chip-selected",_e.selected)("mat-chip-with-avatar",_e.avatar)("mat-chip-with-trailing-icon",_e.trailingIcon||_e.removeIcon)("mat-chip-disabled",_e.disabled)("_mat-animation-noopable",_e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[n.qOj]}),ie})(),M=(()=>{class ie{constructor(G,_e){this._parentChip=G,"BUTTON"===_e.nativeElement.nodeName&&_e.nativeElement.setAttribute("type","button")}_handleClick(G){const _e=this._parentChip;_e.removable&&!_e.disabled&&_e.remove(),G.stopPropagation(),G.preventDefault()}}return ie.\u0275fac=function(G){return new(G||ie)(n.Y36(u),n.Y36(n.SBq))},ie.\u0275dir=n.lG2({type:ie,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(G,_e){1&G&&n.NdJ("click",function(Me){return _e._handleClick(Me)})},features:[n._Bn([{provide:r,useExisting:ie}])]}),ie})();const R=new n.OlP("mat-chips-default-options"),w=(0,y.FD)(class{constructor(ie,ye,G,_e){this._defaultErrorStateMatcher=ie,this._parentForm=ye,this._parentFormGroup=G,this.ngControl=_e,this.stateChanges=new C.xQ}});let F=0;class B{constructor(ye,G){this.source=ye,this.value=G}}let H=(()=>{class ie extends w{constructor(G,_e,Ie,Me,Fe,Ve,Pe){super(Ve,Me,Fe,Pe),this._elementRef=G,this._changeDetectorRef=_e,this._dir=Ie,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new C.xQ,this._uid="mat-chip-list-"+F++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(xe,be)=>xe===be,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new n.vpe,this.valueChange=new n.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(G){this._explicitRole=G}get multiple(){return this._multiple}set multiple(G){this._multiple=(0,T.Ig)(G),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(G){this._compareWith=G,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(G){this.writeValue(G),this._value=G}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(d.kI.required)??!1}set required(G){this._required=(0,T.Ig)(G),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(G){this._placeholder=G,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(G){this._disabled=(0,T.Ig)(G),this._syncChipsState()}get selectable(){return this._selectable}set selectable(G){this._selectable=(0,T.Ig)(G),this._syncChipsState()}set tabIndex(G){this._userTabIndex=G,this._tabIndex=G}get chipSelectionChanges(){return(0,E.T)(...this.chips.map(G=>G.selectionChange))}get chipFocusChanges(){return(0,E.T)(...this.chips.map(G=>G._onFocus))}get chipBlurChanges(){return(0,E.T)(...this.chips.map(G=>G._onBlur))}get chipRemoveChanges(){return(0,E.T)(...this.chips.map(G=>G.destroyed))}ngAfterContentInit(){this._keyManager=new l.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,f.R)(this._destroyed)).subscribe(G=>this._keyManager.withHorizontalOrientation(G)),this._keyManager.tabOut.subscribe(()=>this._allowFocusEscape()),this.chips.changes.pipe((0,_.O)(null),(0,f.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new h.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(G){this._chipInput=G,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",G.id)}setDescribedByIds(G){G.length?this._elementRef.nativeElement.setAttribute("aria-describedby",G.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(G){this.chips&&this._setSelectionByValue(G,!1)}registerOnChange(G){this._onChange=G}registerOnTouched(G){this._onTouched=G}setDisabledState(G){this.disabled=G,this.stateChanges.next()}onContainerClick(G){this._originatesFromChip(G)||this.focus()}focus(G){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(G),this.stateChanges.next()))}_focusInput(G){this._chipInput&&this._chipInput.focus(G)}_keydown(G){const _e=G.target;_e&&_e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(G),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const G=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(G)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(G){return G>=0&&G<this.chips.length}_setSelectionByValue(G,_e=!0){if(this._clearSelection(),this.chips.forEach(Ie=>Ie.deselect()),Array.isArray(G))G.forEach(Ie=>this._selectValue(Ie,_e)),this._sortValues();else{const Ie=this._selectValue(G,_e);Ie&&_e&&this._keyManager.setActiveItem(Ie)}}_selectValue(G,_e=!0){const Ie=this.chips.find(Me=>null!=Me.value&&this._compareWith(Me.value,G));return Ie&&(_e?Ie.selectViaInteraction():Ie.select(),this._selectionModel.select(Ie)),Ie}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(G){this._selectionModel.clear(),this.chips.forEach(_e=>{_e!==G&&_e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(G=>{G.selected&&this._selectionModel.select(G)}),this.stateChanges.next())}_propagateChanges(G){let _e=null;_e=Array.isArray(this.selected)?this.selected.map(Ie=>Ie.value):this.selected?this.selected.value:G,this._value=_e,this.change.emit(new B(this,_e)),this.valueChange.emit(_e),this._onChange(_e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(G=>{G.source.selected?this._selectionModel.select(G.source):this._selectionModel.deselect(G.source),this.multiple||this.chips.forEach(_e=>{!this._selectionModel.isSelected(_e)&&_e.selected&&_e.deselect()}),G.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(G=>{let _e=this.chips.toArray().indexOf(G.chip);this._isValidIndex(_e)&&this._keyManager.updateActiveItem(_e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(G=>{const _e=G.chip,Ie=this.chips.toArray().indexOf(G.chip);this._isValidIndex(Ie)&&_e._hasFocus&&(this._lastDestroyedChipIndex=Ie)})}_originatesFromChip(G){let _e=G.target;for(;_e&&_e!==this._elementRef.nativeElement;){if(_e.classList.contains("mat-chip"))return!0;_e=_e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(G=>G._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(G=>{G._chipListDisabled=this._disabled,G._chipListMultiple=this.multiple,G.chipListSelectable=this._selectable})}}return ie.\u0275fac=function(G){return new(G||ie)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(m.Is,8),n.Y36(d.F,8),n.Y36(d.sg,8),n.Y36(y.rD),n.Y36(d.a5,10))},ie.\u0275cmp=n.Xpm({type:ie,selectors:[["mat-chip-list"]],contentQueries:function(G,_e,Ie){if(1&G&&n.Suo(Ie,u,5),2&G){let Me;n.iGM(Me=n.CRH())&&(_e.chips=Me)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(G,_e){1&G&&n.NdJ("focus",function(){return _e.focus()})("blur",function(){return _e._blur()})("keydown",function(Me){return _e._keydown(Me)}),2&G&&(n.Ikx("id",_e._uid),n.uIk("tabindex",_e.disabled?null:_e._tabIndex)("aria-required",_e.role?_e.required:null)("aria-disabled",_e.disabled.toString())("aria-invalid",_e.errorState)("aria-multiselectable",_e.multiple)("role",_e.role)("aria-orientation",_e.ariaOrientation),n.ekj("mat-chip-list-disabled",_e.disabled)("mat-chip-list-invalid",_e.errorState)("mat-chip-list-required",_e.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[n._Bn([{provide:c.Eo,useExisting:ie}]),n.qOj],ngContentSelectors:a,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(G,_e){1&G&&(n.F$t(),n.TgZ(0,"div",0),n.Hsn(1),n.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),ie})(),$=0,j=(()=>{class ie{constructor(G,_e){this._elementRef=G,this._defaultOptions=_e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new n.vpe,this.placeholder="",this.id="mat-chip-list-input-"+$++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(G){G&&(this._chipList=G,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(G){this._addOnBlur=(0,T.Ig)(G)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(G){this._disabled=(0,T.Ig)(G)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(G){if(G){if(G.keyCode===e.Mf&&!(0,e.Vb)(G,"shiftKey")&&this._chipList._allowFocusEscape(),G.keyCode===e.ZH&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void G.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(G)}_keyup(G){!this._focusLastChipOnBackspace&&G.keyCode===e.ZH&&this.empty&&(this._focusLastChipOnBackspace=!0,G.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(G){!this.inputElement.value&&!!G&&this._chipList._keydown(G),(!G||this._isSeparatorKey(G))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),G?.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(G){this.inputElement.focus(G)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(G){return!(0,e.Vb)(G)&&new Set(this.separatorKeyCodes).has(G.keyCode)}}return ie.\u0275fac=function(G){return new(G||ie)(n.Y36(n.SBq),n.Y36(R))},ie.\u0275dir=n.lG2({type:ie,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(G,_e){1&G&&n.NdJ("keydown",function(Me){return _e._keydown(Me)})("keyup",function(Me){return _e._keyup(Me)})("blur",function(){return _e._blur()})("focus",function(){return _e._focus()})("input",function(){return _e._onInput()}),2&G&&(n.Ikx("id",_e.id),n.uIk("disabled",_e.disabled||null)("placeholder",_e.placeholder||null)("aria-invalid",_e._chipList&&_e._chipList.ngControl?_e._chipList.ngControl.invalid:null)("aria-required",_e._chipList&&_e._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[n.TTD]}),ie})(),Q=(()=>{class ie{}return ie.\u0275fac=function(G){return new(G||ie)},ie.\u0275mod=n.oAB({type:ie}),ie.\u0275inj=n.cJS({providers:[y.rD,{provide:R,useValue:{separatorKeyCodes:[e.K5]}}],imports:[y.BQ]}),ie})()},4363:(Je,K,t)=>{"use strict";t.d(K,{CK:()=>f,Uc:()=>_});var e=t(6353),n=t(6895),y=t(3238);function O(l,m){if(1&l&&e._UZ(0,"mat-pseudo-checkbox",5),2&l){const h=e.oxw();e.Q6J("state",h.selected?"checked":"unchecked")("disabled",h.disabled)}}function C(l,m){if(1&l&&(e.TgZ(0,"span",6),e._uU(1),e.qZA()),2&l){const h=e.oxw();e.xp6(1),e.hij("(",h.group.label,")")}}const E=["*"];let f=(()=>{class l extends y.MP{constructor(h,d,c,a){super(h,d,c,a)}}return l.\u0275fac=function(h){return new(h||l)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.HF,8),e.Y36(y.K7,8))},l.\u0275cmp=e.Xpm({type:l,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(h,d){1&h&&e.NdJ("click",function(){return d._selectViaInteraction()})("keydown",function(a){return d._handleKeydown(a)}),2&h&&(e.Ikx("id",d.id),e.uIk("tabindex",d._getTabIndex())("aria-selected",d._getAriaSelected())("aria-disabled",d.disabled.toString()),e.ekj("mat-selected",d.selected)("mat-option-multiple",d.multiple)("mat-active",d.active)("mat-option-disabled",d.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:E,decls:6,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(h,d){1&h&&(e.F$t(),e.YNc(0,O,1,2,"mat-pseudo-checkbox",0),e.TgZ(1,"span",1,2),e.Hsn(3),e.qZA(),e.YNc(4,C,2,1,"span",3),e._UZ(5,"div",4)),2&h&&(e.Q6J("ngIf",d.multiple),e.xp6(4),e.Q6J("ngIf",d.group&&d.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",d._getHostElement())("matRippleDisabled",d.disabled||d.disableRipple))},dependencies:[y.wG,n.O5,y.nP],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),l})(),_=(()=>{class l{}return l.\u0275fac=function(h){return new(h||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[y.si,n.ez,y.BQ,y.us]}),l})()},5559:(Je,K,t)=>{"use strict";t.d(K,{eJ:()=>be,on:()=>Be,ev:()=>ge,aO:()=>Ye,Rb:()=>ot,yj:()=>me,hV:()=>xe,YS:()=>et});var e=t(7855),n=t(8184),y=t(4080),T=t(6353),v=t(3238),O=t(6895),C=t(2687),E=t(8929),i=t(6787),f=t(8514),_=t(2198),l=t(2986),m=t(1059),h=t(9521),d=t(7340);class a{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let s=(()=>{class fe extends e.LL{constructor(ee,ue,Ce,pt,Ze,ft,Dt,At){super(ee,ue,Ce,pt,Ze,ft,Dt,At),this._animationStateChanged=new T.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ee){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ee})}}return fe.\u0275fac=function(ee){return new(ee||fe)(T.Y36(T.SBq),T.Y36(C.qV),T.Y36(O.K0,8),T.Y36(a),T.Y36(C.ic),T.Y36(T.R0b),T.Y36(n.Iu),T.Y36(C.tE))},fe.\u0275cmp=T.Xpm({type:fe,selectors:[["ng-component"]],features:[T.qOj],decls:0,vars:0,template:function(ee,ue){},encapsulation:2}),fe})();class I{constructor(Z,ee,ue){this._ref=Z,this._containerInstance=ue,this._afterOpened=new E.xQ,this._beforeClosed=new E.xQ,this._state=0,this.disableClose=ee.disableClose,this.id=Z.id,ue._animationStateChanged.pipe((0,_.h)(Ce=>"opened"===Ce.state),(0,l.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ue._animationStateChanged.pipe((0,_.h)(Ce=>"closed"===Ce.state),(0,l.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Z.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,i.T)(this.backdropClick(),this.keydownEvents().pipe((0,_.h)(Ce=>Ce.keyCode===h.hY&&!this.disableClose&&!(0,h.Vb)(Ce)))).subscribe(Ce=>{this.disableClose||(Ce.preventDefault(),x(this,"keydown"===Ce.type?"keyboard":"mouse"))})}close(Z){this._result=Z,this._containerInstance._animationStateChanged.pipe((0,_.h)(ee=>"closing"===ee.state),(0,l.q)(1)).subscribe(ee=>{this._beforeClosed.next(Z),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ee.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Z){let ee=this._ref.config.positionStrategy;return Z&&(Z.left||Z.right)?Z.left?ee.left(Z.left):ee.right(Z.right):ee.centerHorizontally(),Z&&(Z.top||Z.bottom)?Z.top?ee.top(Z.top):ee.bottom(Z.bottom):ee.centerVertically(),this._ref.updatePosition(),this}updateSize(Z="",ee=""){return this._ref.updateSize(Z,ee),this}addPanelClass(Z){return this._ref.addPanelClass(Z),this}removePanelClass(Z){return this._ref.removePanelClass(Z),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function x(fe,Z,ee){return fe._closeInteractionType=Z,fe.close(ee)}let F=0,B=(()=>{class fe{constructor(ee,ue,Ce,pt,Ze,ft,Dt,At,Wt,Et){this._overlay=ee,this._defaultOptions=Ce,this._parentDialog=pt,this._dialogRefConstructor=Dt,this._dialogContainerType=At,this._dialogDataToken=Wt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.xQ,this._afterOpenedAtThisLevel=new E.xQ,this._idPrefix="mat-dialog-",this.dialogConfigClass=a,this.afterAllClosed=(0,f.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,m.O)(void 0))),this._scrollStrategy=ft,this._dialog=ue.get(e.Vq)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ee=this._parentDialog;return ee?ee._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(ee,ue){let Ce;(ue={...this._defaultOptions||new a,...ue}).id=ue.id||`${this._idPrefix}${F++}`,ue.scrollStrategy=ue.scrollStrategy||this._scrollStrategy();const pt=this._dialog.open(ee,{...ue,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ue},{provide:e.ib,useValue:ue}]},templateContext:()=>({dialogRef:Ce}),providers:(Ze,ft,Dt)=>(Ce=new this._dialogRefConstructor(Ze,ue,Dt),Ce.updatePosition(ue?.position),[{provide:this._dialogContainerType,useValue:Dt},{provide:this._dialogDataToken,useValue:ft.data},{provide:this._dialogRefConstructor,useValue:Ce}])});return Ce.componentInstance=pt.componentInstance,this.openDialogs.push(Ce),this.afterOpened.next(Ce),Ce.afterClosed().subscribe(()=>{const Ze=this.openDialogs.indexOf(Ce);Ze>-1&&(this.openDialogs.splice(Ze,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ce}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ee){return this.openDialogs.find(ue=>ue.id===ee)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ee){let ue=ee.length;for(;ue--;)ee[ue].close()}}return fe.\u0275fac=function(ee){T.$Z()},fe.\u0275prov=T.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const _e={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Ie={dialogContainer:(0,d.X$)("dialogContainer",[(0,d.SB)("void, exit",(0,d.oB)({opacity:0,transform:"scale(0.7)"})),(0,d.SB)("enter",(0,d.oB)({transform:"none"})),(0,d.eR)("* => enter",(0,d.ru)([(0,d.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,d.oB)({transform:"none",opacity:1})),(0,d.IO)("@*",(0,d.pV)(),{optional:!0})]),_e),(0,d.eR)("* => void, * => exit",(0,d.ru)([(0,d.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,d.oB)({opacity:0})),(0,d.IO)("@*",(0,d.pV)(),{optional:!0})]),_e)])};function Me(fe,Z){}const Fe_params_enterAnimationDuration="150ms",Fe_params_exitAnimationDuration="75ms";class Ve extends a{constructor(){super(...arguments),this.enterAnimationDuration=_e.params.enterAnimationDuration,this.exitAnimationDuration=_e.params.exitAnimationDuration}}let Pe=(()=>{class fe extends s{constructor(ee,ue,Ce,pt,Ze,ft,Dt,At,Wt){super(ee,ue,Ce,pt,Ze,ft,Dt,Wt),this._changeDetectorRef=At,this._state="enter"}_onAnimationDone({toState:ee,totalTime:ue}){"enter"===ee?this._openAnimationDone(ue):"exit"===ee&&this._animationStateChanged.next({state:"closed",totalTime:ue})}_onAnimationStart({toState:ee,totalTime:ue}){"enter"===ee?this._animationStateChanged.next({state:"opening",totalTime:ue}):("exit"===ee||"void"===ee)&&this._animationStateChanged.next({state:"closing",totalTime:ue})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Fe_params_enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Fe_params_exitAnimationDuration}}}}return fe.\u0275fac=function(ee){return new(ee||fe)(T.Y36(T.SBq),T.Y36(C.qV),T.Y36(O.K0,8),T.Y36(Ve),T.Y36(C.ic),T.Y36(T.R0b),T.Y36(n.Iu),T.Y36(T.sBO),T.Y36(C.tE))},fe.\u0275cmp=T.Xpm({type:fe,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(ee,ue){1&ee&&T.WFA("@dialogContainer.start",function(pt){return ue._onAnimationStart(pt)})("@dialogContainer.done",function(pt){return ue._onAnimationDone(pt)}),2&ee&&(T.Ikx("id",ue._config.id),T.uIk("aria-modal",ue._config.ariaModal)("role",ue._config.role)("aria-labelledby",ue._config.ariaLabel?null:ue._ariaLabelledBy)("aria-label",ue._config.ariaLabel)("aria-describedby",ue._config.ariaDescribedBy||null),T.d8E("@dialogContainer",ue._getAnimationState()))},features:[T.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ee,ue){1&ee&&T.YNc(0,Me,0,0,"ng-template",0)},dependencies:[y.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Ie.dialogContainer]}}),fe})();class xe extends I{}const be=new T.OlP("MatDialogData"),Ue=new T.OlP("mat-dialog-default-options"),He=new T.OlP("mat-dialog-scroll-strategy"),je={provide:He,deps:[n.aV],useFactory:function it(fe){return()=>fe.scrollStrategies.block()}};let Be=(()=>{class fe extends B{constructor(ee,ue,Ce,pt,Ze,ft,Dt,At){super(ee,ue,pt,ft,Dt,Ze,xe,Pe,be,At),this.dialogConfigClass=Ve}}return fe.\u0275fac=function(ee){return new(ee||fe)(T.LFG(n.aV),T.LFG(T.zs3),T.LFG(O.Ye,8),T.LFG(Ue,8),T.LFG(He),T.LFG(fe,12),T.LFG(n.Xj),T.LFG(T.QbO,8))},fe.\u0275prov=T.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),lt=0,Ye=(()=>{class fe{constructor(ee,ue,Ce){this.dialogRef=ee,this._elementRef=ue,this._dialog=Ce,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=we(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ee){const ue=ee._matDialogClose||ee._matDialogCloseResult;ue&&(this.dialogResult=ue.currentValue)}_onButtonClick(ee){x(this.dialogRef,0===ee.screenX&&0===ee.screenY?"keyboard":"mouse",this.dialogResult)}}return fe.\u0275fac=function(ee){return new(ee||fe)(T.Y36(xe,8),T.Y36(T.SBq),T.Y36(Be))},fe.\u0275dir=T.lG2({type:fe,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ee,ue){1&ee&&T.NdJ("click",function(pt){return ue._onButtonClick(pt)}),2&ee&&T.uIk("aria-label",ue.ariaLabel||null)("type",ue.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[T.TTD]}),fe})(),et=(()=>{class fe{constructor(ee,ue,Ce){this._dialogRef=ee,this._elementRef=ue,this._dialog=Ce,this.id="mat-dialog-title-"+lt++}ngOnInit(){this._dialogRef||(this._dialogRef=we(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ee=this._dialogRef._containerInstance;ee&&!ee._ariaLabelledBy&&(ee._ariaLabelledBy=this.id)})}}return fe.\u0275fac=function(ee){return new(ee||fe)(T.Y36(xe,8),T.Y36(T.SBq),T.Y36(Be))},fe.\u0275dir=T.lG2({type:fe,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(ee,ue){2&ee&&T.Ikx("id",ue.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),fe})(),ot=(()=>{class fe{}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275dir=T.lG2({type:fe,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),fe})(),ge=(()=>{class fe{constructor(){this.align="start"}}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275dir=T.lG2({type:fe,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(ee,ue){2&ee&&T.ekj("mat-dialog-actions-align-center","center"===ue.align)("mat-dialog-actions-align-end","end"===ue.align)},inputs:{align:"align"}}),fe})();function we(fe,Z){let ee=fe.nativeElement.parentElement;for(;ee&&!ee.classList.contains("mat-dialog-container");)ee=ee.parentElement;return ee?Z.find(ue=>ue.id===ee.id):null}let me=(()=>{class fe{}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275mod=T.oAB({type:fe}),fe.\u0275inj=T.cJS({providers:[Be,je],imports:[e.Su,n.U8,y.eL,v.BQ,v.BQ]}),fe})()},8455:(Je,K,t)=>{"use strict";t.d(K,{g4:()=>Ve,nI:()=>H,nX:()=>Pe,v_:()=>Fe,wp:()=>xe});var e=t(9643),n=t(6895),y=t(6353),T=t(3238),v=t(9549),O=t(445),C=t(1281),E=t(8929),i=t(6787),f=t(3753),_=t(1059),l=t(7625),m=t(2986),h=t(3353);const d=["connectionContainer"],c=["inputContainer"],a=["label"];function s(be,Ue){1&be&&(y.ynx(0),y.TgZ(1,"div",14),y._UZ(2,"div",15)(3,"div",16)(4,"div",17),y.qZA(),y.TgZ(5,"div",18),y._UZ(6,"div",15)(7,"div",16)(8,"div",17),y.qZA(),y.BQk())}function r(be,Ue){if(1&be){const He=y.EpF();y.TgZ(0,"div",19),y.NdJ("cdkObserveContent",function(){y.CHM(He);const je=y.oxw();return y.KtG(je.updateOutlineGap())}),y.Hsn(1,1),y.qZA()}if(2&be){const He=y.oxw();y.Q6J("cdkObserveContentDisabled","outline"!=He.appearance)}}function o(be,Ue){if(1&be&&(y.ynx(0),y.Hsn(1,2),y.TgZ(2,"span"),y._uU(3),y.qZA(),y.BQk()),2&be){const He=y.oxw(2);y.xp6(3),y.Oqu(He._control.placeholder)}}function S(be,Ue){1&be&&y.Hsn(0,3,["*ngSwitchCase","true"])}function I(be,Ue){1&be&&(y.TgZ(0,"span",23),y._uU(1," *"),y.qZA())}function x(be,Ue){if(1&be){const He=y.EpF();y.TgZ(0,"label",20,21),y.NdJ("cdkObserveContent",function(){y.CHM(He);const je=y.oxw();return y.KtG(je.updateOutlineGap())}),y.YNc(2,o,4,1,"ng-container",12),y.YNc(3,S,1,0,"ng-content",12),y.YNc(4,I,2,0,"span",22),y.qZA()}if(2&be){const He=y.oxw();y.ekj("mat-empty",He._control.empty&&!He._shouldAlwaysFloat())("mat-form-field-empty",He._control.empty&&!He._shouldAlwaysFloat())("mat-accent","accent"==He.color)("mat-warn","warn"==He.color),y.Q6J("cdkObserveContentDisabled","outline"!=He.appearance)("id",He._labelId)("ngSwitch",He._hasLabel()),y.uIk("for",He._control.id)("aria-owns",He._control.id),y.xp6(2),y.Q6J("ngSwitchCase",!1),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngIf",!He.hideRequiredMarker&&He._control.required&&!He._control.disabled)}}function P(be,Ue){1&be&&(y.TgZ(0,"div",24),y.Hsn(1,4),y.qZA())}function g(be,Ue){if(1&be&&(y.TgZ(0,"div",25),y._UZ(1,"span",26),y.qZA()),2&be){const He=y.oxw();y.xp6(1),y.ekj("mat-accent","accent"==He.color)("mat-warn","warn"==He.color)}}function u(be,Ue){if(1&be&&(y.TgZ(0,"div"),y.Hsn(1,5),y.qZA()),2&be){const He=y.oxw();y.Q6J("@transitionMessages",He._subscriptAnimationState)}}function M(be,Ue){if(1&be&&(y.TgZ(0,"div",30),y._uU(1),y.qZA()),2&be){const He=y.oxw(2);y.Q6J("id",He._hintLabelId),y.xp6(1),y.Oqu(He.hintLabel)}}function R(be,Ue){if(1&be&&(y.TgZ(0,"div",27),y.YNc(1,M,2,2,"div",28),y.Hsn(2,6),y._UZ(3,"div",29),y.Hsn(4,7),y.qZA()),2&be){const He=y.oxw();y.Q6J("@transitionMessages",He._subscriptAnimationState),y.xp6(1),y.Q6J("ngIf",He.hintLabel)}}const w=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],F=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let B=0,H=(()=>{class be{constructor(He,it){this.id="mat-error-"+B++,He||it.nativeElement.setAttribute("aria-live","polite")}}return be.\u0275fac=function(He){return new(He||be)(y.$8M("aria-live"),y.Y36(y.SBq))},be.\u0275dir=y.lG2({type:be,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(He,it){2&He&&y.uIk("id",it.id)},inputs:{id:"id"},features:[y._Bn([{provide:v.ab,useExisting:be}])]}),be})();const j=new y.OlP("MatHint");let Q=(()=>{class be{}return be.\u0275fac=function(He){return new(He||be)},be.\u0275dir=y.lG2({type:be,selectors:[["mat-label"]]}),be})(),ie=(()=>{class be{}return be.\u0275fac=function(He){return new(He||be)},be.\u0275dir=y.lG2({type:be,selectors:[["mat-placeholder"]]}),be})(),ye=0;const Ie=(0,T.pj)(class{constructor(be){this._elementRef=be}},"primary"),Me=new y.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Fe=(()=>{class be extends Ie{constructor(He,it,je,Be,lt,Ye,et){super(He),this._changeDetectorRef=it,this._dir=je,this._defaults=Be,this._platform=lt,this._ngZone=Ye,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new E.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ye++,this._labelId="mat-form-field-label-"+ye++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==et,this.appearance=Be?.appearance||"legacy",Be&&(this._hideRequiredMarker=Boolean(Be.hideRequiredMarker),Be.color&&(this.color=this.defaultColor=Be.color))}get appearance(){return this._appearance}set appearance(He){const it=this._appearance;this._appearance=He||this._defaults?.appearance||"legacy","outline"===this._appearance&&it!==He&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(He){this._hideRequiredMarker=(0,C.Ig)(He)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(He){this._hintLabel=He,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(He){He!==this._floatLabel&&(this._floatLabel=He||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(He){this._explicitFormFieldControl=He}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const He=this._control;He.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${He.controlType}`),He.stateChanges.pipe((0,_.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),He.ngControl&&He.ngControl.valueChanges&&He.ngControl.valueChanges.pipe((0,l.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,l.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,i.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,_.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,_.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,l.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(He){const it=this._control?this._control.ngControl:null;return it&&it[He]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,f.R)(this._label.nativeElement,"transitionend").pipe((0,m.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let He=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&He.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const it=this._hintChildren?this._hintChildren.find(Be=>"start"===Be.align):null,je=this._hintChildren?this._hintChildren.find(Be=>"end"===Be.align):null;it?He.push(it.id):this._hintLabel&&He.push(this._hintLabelId),je&&He.push(je.id)}else this._errorChildren&&He.push(...this._errorChildren.map(it=>it.id));this._control.setDescribedByIds(He)}}_validateControlChild(){}updateOutlineGap(){const He=this._label?this._label.nativeElement:null,it=this._connectionContainerRef.nativeElement,je=".mat-form-field-outline-start",Be=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!He||!He.children.length||!He.textContent.trim()){const ge=it.querySelectorAll(`${je}, ${Be}`);for(let we=0;we<ge.length;we++)ge[we].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let lt=0,Ye=0;const et=it.querySelectorAll(je),ot=it.querySelectorAll(Be);if(this._label&&this._label.nativeElement.children.length){const ge=it.getBoundingClientRect();if(0===ge.width&&0===ge.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const we=this._getStartEnd(ge),me=He.children,fe=this._getStartEnd(me[0].getBoundingClientRect());let Z=0;for(let ee=0;ee<me.length;ee++)Z+=me[ee].offsetWidth;lt=Math.abs(fe-we)-5,Ye=Z>0?.75*Z+10:0}for(let ge=0;ge<et.length;ge++)et[ge].style.width=`${lt}px`;for(let ge=0;ge<ot.length;ge++)ot[ge].style.width=`${Ye}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(He){return this._dir&&"rtl"===this._dir.value?He.right:He.left}_isAttachedToDOM(){const He=this._elementRef.nativeElement;if(He.getRootNode){const it=He.getRootNode();return it&&it!==He}return document.documentElement.contains(He)}}return be.\u0275fac=function(He){return new(He||be)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(O.Is,8),y.Y36(Me,8),y.Y36(h.t4),y.Y36(y.R0b),y.Y36(y.QbO,8))},be.\u0275cmp=y.Xpm({type:be,selectors:[["mat-form-field"]],contentQueries:function(He,it,je){if(1&He&&(y.Suo(je,v.Eo,5),y.Suo(je,v.Eo,7),y.Suo(je,Q,5),y.Suo(je,Q,7),y.Suo(je,ie,5),y.Suo(je,v.ab,5),y.Suo(je,j,5),y.Suo(je,v.Px,5),y.Suo(je,v.Ve,5)),2&He){let Be;y.iGM(Be=y.CRH())&&(it._controlNonStatic=Be.first),y.iGM(Be=y.CRH())&&(it._controlStatic=Be.first),y.iGM(Be=y.CRH())&&(it._labelChildNonStatic=Be.first),y.iGM(Be=y.CRH())&&(it._labelChildStatic=Be.first),y.iGM(Be=y.CRH())&&(it._placeholderChild=Be.first),y.iGM(Be=y.CRH())&&(it._errorChildren=Be),y.iGM(Be=y.CRH())&&(it._hintChildren=Be),y.iGM(Be=y.CRH())&&(it._prefixChildren=Be),y.iGM(Be=y.CRH())&&(it._suffixChildren=Be)}},viewQuery:function(He,it){if(1&He&&(y.Gf(d,7),y.Gf(c,5),y.Gf(a,5)),2&He){let je;y.iGM(je=y.CRH())&&(it._connectionContainerRef=je.first),y.iGM(je=y.CRH())&&(it._inputContainerRef=je.first),y.iGM(je=y.CRH())&&(it._label=je.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(He,it){2&He&&y.ekj("mat-form-field-appearance-standard","standard"==it.appearance)("mat-form-field-appearance-fill","fill"==it.appearance)("mat-form-field-appearance-outline","outline"==it.appearance)("mat-form-field-appearance-legacy","legacy"==it.appearance)("mat-form-field-invalid",it._control.errorState)("mat-form-field-can-float",it._canLabelFloat())("mat-form-field-should-float",it._shouldLabelFloat())("mat-form-field-has-label",it._hasFloatingLabel())("mat-form-field-hide-placeholder",it._hideControlPlaceholder())("mat-form-field-disabled",it._control.disabled)("mat-form-field-autofilled",it._control.autofilled)("mat-focused",it._control.focused)("ng-untouched",it._shouldForward("untouched"))("ng-touched",it._shouldForward("touched"))("ng-pristine",it._shouldForward("pristine"))("ng-dirty",it._shouldForward("dirty"))("ng-valid",it._shouldForward("valid"))("ng-invalid",it._shouldForward("invalid"))("ng-pending",it._shouldForward("pending"))("_mat-animation-noopable",!it._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[y._Bn([{provide:v.G_,useExisting:be}]),y.qOj],ngContentSelectors:F,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(He,it){1&He&&(y.F$t(w),y.TgZ(0,"div",0)(1,"div",1,2),y.NdJ("click",function(Be){return it._control.onContainerClick&&it._control.onContainerClick(Be)}),y.YNc(3,s,9,0,"ng-container",3),y.YNc(4,r,2,1,"div",4),y.TgZ(5,"div",5,6),y.Hsn(7),y.TgZ(8,"span",7),y.YNc(9,x,5,16,"label",8),y.qZA()(),y.YNc(10,P,2,0,"div",9),y.qZA(),y.YNc(11,g,2,4,"div",10),y.TgZ(12,"div",11),y.YNc(13,u,2,1,"div",12),y.YNc(14,R,5,2,"div",13),y.qZA()()),2&He&&(y.xp6(3),y.Q6J("ngIf","outline"==it.appearance),y.xp6(1),y.Q6J("ngIf",it._prefixChildren.length),y.xp6(5),y.Q6J("ngIf",it._hasFloatingLabel()),y.xp6(1),y.Q6J("ngIf",it._suffixChildren.length),y.xp6(1),y.Q6J("ngIf","outline"!=it.appearance),y.xp6(1),y.Q6J("ngSwitch",it._getDisplayedMessages()),y.xp6(1),y.Q6J("ngSwitchCase","error"),y.xp6(1),y.Q6J("ngSwitchCase","hint"))},dependencies:[n.O5,n.RF,n.n9,e.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}.mat-form-field .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-button-base,.mat-form-field .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-form-field .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{font-size:1em;display:inline-block;margin:-2px 0 1px}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button{font-size:inherit;width:1.5em;height:1.5em;padding:0}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{line-height:1.5em;margin:0}.mat-form-field .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:baseline}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[v.TN.transitionMessages]},changeDetection:0}),be})(),Ve=(()=>{class be{}return be.\u0275fac=function(He){return new(He||be)},be.\u0275dir=y.lG2({type:be,selectors:[["","matPrefix",""]],features:[y._Bn([{provide:v.Px,useExisting:be}])]}),be})(),Pe=(()=>{class be{}return be.\u0275fac=function(He){return new(He||be)},be.\u0275dir=y.lG2({type:be,selectors:[["","matSuffix",""]],features:[y._Bn([{provide:v.Ve,useExisting:be}])]}),be})(),xe=(()=>{class be{}return be.\u0275fac=function(He){return new(He||be)},be.\u0275mod=y.oAB({type:be}),be.\u0275inj=y.cJS({imports:[n.ez,T.BQ,e.Q8,T.BQ]}),be})()},9203:(Je,K,t)=>{"use strict";t.d(K,{k0:()=>C,x4:()=>E});var e=t(6353),n=t(284),y=t(9549),T=t(8455),v=t(9349),O=t(3238);let C=(()=>{class i extends n.Nt{constructor(){super(...arguments),this._legacyFormField=(0,e.f3M)(y.G_,{optional:!0})}_getPlaceholder(){const _=this._legacyFormField;return _&&"legacy"===_.appearance&&!_._hasLabel?.()?null:this.placeholder}}return i.\u0275fac=function(){let f;return function(l){return(f||(f=e.n5z(i)))(l||i)}}(),i.\u0275dir=e.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:15,hostBindings:function(_,l){2&_&&(e.uIk("data-placeholder",l.placeholder),e.ekj("mat-input-server",l._isServer)("mat-mdc-input-element",!1)("mat-mdc-form-field-textarea-control",!1)("mat-mdc-form-field-input-control",!1)("mdc-text-field__input",!1)("mat-mdc-native-select-inline",!1)("mat-native-select-inline",l._isInlineSelect()))},exportAs:["matInput"],features:[e._Bn([{provide:y.Eo,useExisting:i}]),e.qOj]}),i})(),E=(()=>{class i{}return i.\u0275fac=function(_){return new(_||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[O.rD],imports:[v.Ky,T.wp,O.BQ,v.Ky,T.wp]}),i})()},6255:(Je,K,t)=>{"use strict";t.d(K,{W0:()=>me,tN:()=>fe,jT:()=>ue,D8:()=>Z});var e=t(6353),n=t(2687),y=t(1281),T=t(9521),v=t(8929),O=t(6787),C=t(2654),E=t(1086),i=t(8139),f=t(1059),_=t(7545),l=t(2986),m=t(7625),h=t(2198),d=t(8583),c=t(3238),a=t(6895),s=t(4080),r=t(7340),o=t(445),S=t(8184),I=t(3353);const x=["mat-menu-item",""];function P(Ce,pt){1&Ce&&(e.O4$(),e.TgZ(0,"svg",3),e._UZ(1,"polygon",4),e.qZA())}const g=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],u=["mat-icon, [matMenuItemIcon]","*"],w=new e.OlP("MAT_MENU_PANEL"),F=(0,c.Kr)((0,c.Id)(class{}));let B=(()=>{class Ce extends F{constructor(Ze,ft,Dt,At,Wt){super(),this._elementRef=Ze,this._document=ft,this._focusMonitor=Dt,this._parentMenu=At,this._changeDetectorRef=Wt,this.role="menuitem",this._hovered=new v.xQ,this._focused=new v.xQ,this._highlighted=!1,this._triggersSubmenu=!1,At?.addItem?.(this)}focus(Ze,ft){this._focusMonitor&&Ze?this._focusMonitor.focusVia(this._getHostElement(),Ze,ft):this._getHostElement().focus(ft),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ze){this.disabled&&(Ze.preventDefault(),Ze.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Ze=this._elementRef.nativeElement.cloneNode(!0),ft=Ze.querySelectorAll("mat-icon, .material-icons");for(let Dt=0;Dt<ft.length;Dt++)ft[Dt].remove();return Ze.textContent?.trim()||""}_setHighlighted(Ze){this._highlighted=Ze,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Ze){this._triggersSubmenu=Ze,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(e.Y36(e.SBq),e.Y36(a.K0),e.Y36(n.tE),e.Y36(w,8),e.Y36(e.sBO))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(Ze,ft){1&Ze&&e.NdJ("click",function(At){return ft._checkDisabled(At)})("mouseenter",function(){return ft._handleMouseEnter()}),2&Ze&&(e.uIk("role",ft.role)("tabindex",ft._getTabIndex())("aria-disabled",ft.disabled)("disabled",ft.disabled||null),e.ekj("mat-mdc-menu-item-highlighted",ft._highlighted)("mat-mdc-menu-item-submenu-trigger",ft._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[e.qOj],attrs:x,ngContentSelectors:u,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ze,ft){1&Ze&&(e.F$t(g),e.Hsn(0),e.TgZ(1,"span",0),e.Hsn(2,1),e.qZA(),e._UZ(3,"div",1),e.YNc(4,P,2,0,"svg",2)),2&Ze&&(e.xp6(3),e.Q6J("matRippleDisabled",ft.disableRipple||ft.disabled)("matRippleTrigger",ft._getHostElement()),e.xp6(1),e.Q6J("ngIf",ft._triggersSubmenu))},dependencies:[a.O5,c.wG],encapsulation:2,changeDetection:0}),Ce})();const V=new e.OlP("MatMenuContent"),ye={transformMenu:(0,r.X$)("transformMenu",[(0,r.SB)("void",(0,r.oB)({opacity:0,transform:"scale(0.8)"})),(0,r.eR)("void => enter",(0,r.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,r.oB)({opacity:1,transform:"scale(1)"}))),(0,r.eR)("* => void",(0,r.jt)("100ms 25ms linear",(0,r.oB)({opacity:0})))]),fadeInItems:(0,r.X$)("fadeInItems",[(0,r.SB)("showing",(0,r.oB)({opacity:1})),(0,r.eR)("void => *",[(0,r.oB)({opacity:0}),(0,r.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ie=0;const Me=new e.OlP("mat-menu-default-options",{providedIn:"root",factory:function Fe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ve=(()=>{class Ce{constructor(Ze,ft,Dt,At){this._elementRef=Ze,this._ngZone=ft,this._defaultOptions=Dt,this._changeDetectorRef=At,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new e.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new v.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new e.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Ie++}get xPosition(){return this._xPosition}set xPosition(Ze){this._xPosition=Ze,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ze){this._yPosition=Ze,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(Ze){this._overlapTrigger=(0,y.Ig)(Ze)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ze){this._hasBackdrop=(0,y.Ig)(Ze)}set panelClass(Ze){const ft=this._previousPanelClass;ft&&ft.length&&ft.split(" ").forEach(Dt=>{this._classList[Dt]=!1}),this._previousPanelClass=Ze,Ze&&Ze.length&&(Ze.split(" ").forEach(Dt=>{this._classList[Dt]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(Ze){this.panelClass=Ze}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new n.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,f.O)(this._directDescendantItems),(0,_.w)(Ze=>(0,O.T)(...Ze.map(ft=>ft._focused)))).subscribe(Ze=>this._keyManager.updateActiveItem(Ze)),this._directDescendantItems.changes.subscribe(Ze=>{const ft=this._keyManager;if("enter"===this._panelAnimationState&&ft.activeItem?._hasFocus()){const Dt=Ze.toArray(),At=Math.max(0,Math.min(Dt.length-1,ft.activeItemIndex||0));Dt[At]&&!Dt[At].disabled?ft.setActiveItem(At):ft.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,f.O)(this._directDescendantItems),(0,_.w)(ft=>(0,O.T)(...ft.map(Dt=>Dt._hovered))))}addItem(Ze){}removeItem(Ze){}_handleKeydown(Ze){const ft=Ze.keyCode,Dt=this._keyManager;switch(ft){case T.hY:(0,T.Vb)(Ze)||(Ze.preventDefault(),this.closed.emit("keydown"));break;case T.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case T.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ft===T.LH||ft===T.JH)&&Dt.setFocusOrigin("keyboard"),void Dt.onKeydown(Ze)}Ze.stopPropagation()}focusFirstItem(Ze="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,l.q)(1)).subscribe(()=>{let ft=null;if(this._directDescendantItems.length&&(ft=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ft||!ft.contains(document.activeElement)){const Dt=this._keyManager;Dt.setFocusOrigin(Ze).setFirstItemActive(),!Dt.activeItem&&ft&&ft.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ze){const ft=Math.min(this._baseElevation+Ze,24),Dt=`${this._elevationPrefix}${ft}`,At=Object.keys(this._classList).find(Wt=>Wt.startsWith(this._elevationPrefix));(!At||At===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Dt]=!0,this._previousElevation=Dt)}setPositionClasses(Ze=this.xPosition,ft=this.yPosition){const Dt=this._classList;Dt["mat-menu-before"]="before"===Ze,Dt["mat-menu-after"]="after"===Ze,Dt["mat-menu-above"]="above"===ft,Dt["mat-menu-below"]="below"===ft,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ze){this._animationDone.next(Ze),this._isAnimating=!1}_onAnimationStart(Ze){this._isAnimating=!0,"enter"===Ze.toState&&0===this._keyManager.activeItemIndex&&(Ze.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,f.O)(this._allItems)).subscribe(Ze=>{this._directDescendantItems.reset(Ze.filter(ft=>ft._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Me),e.Y36(e.sBO))},Ce.\u0275dir=e.lG2({type:Ce,contentQueries:function(Ze,ft,Dt){if(1&Ze&&(e.Suo(Dt,V,5),e.Suo(Dt,B,5),e.Suo(Dt,B,4)),2&Ze){let At;e.iGM(At=e.CRH())&&(ft.lazyContent=At.first),e.iGM(At=e.CRH())&&(ft._allItems=At),e.iGM(At=e.CRH())&&(ft.items=At)}},viewQuery:function(Ze,ft){if(1&Ze&&e.Gf(e.Rgc,5),2&Ze){let Dt;e.iGM(Dt=e.CRH())&&(ft.templateRef=Dt.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Ce})();const xe=new e.OlP("mat-menu-scroll-strategy"),Ue={provide:xe,deps:[S.aV],useFactory:function be(Ce){return()=>Ce.scrollStrategies.reposition()}},He=(0,I.i$)({passive:!0});let je=(()=>{class Ce{constructor(Ze,ft,Dt,At,Wt,Et,nt,ct,Xe){this._overlay=Ze,this._element=ft,this._viewContainerRef=Dt,this._menuItemInstance=Et,this._dir=nt,this._focusMonitor=ct,this._ngZone=Xe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.w.EMPTY,this._hoverSubscription=C.w.EMPTY,this._menuCloseSubscription=C.w.EMPTY,this._handleTouchStart=Ke=>{(0,n.yG)(Ke)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=At,this._parentMaterialMenu=Wt instanceof Ve?Wt:void 0,ft.nativeElement.addEventListener("touchstart",this._handleTouchStart,He)}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ze){this.menu=Ze}get menu(){return this._menu}set menu(Ze){Ze!==this._menu&&(this._menu=Ze,this._menuCloseSubscription.unsubscribe(),Ze&&(this._menuCloseSubscription=Ze.close.subscribe(ft=>{this._destroyMenu(ft),("click"===ft||"tab"===ft)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ft)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,He),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Ze=this.menu;if(this._menuOpen||!Ze)return;const ft=this._createOverlay(Ze),Dt=ft.getConfig(),At=Dt.positionStrategy;this._setPosition(Ze,At),Dt.hasBackdrop=null==Ze.hasBackdrop?!this.triggersSubmenu():Ze.hasBackdrop,ft.attach(this._getPortal(Ze)),Ze.lazyContent&&Ze.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Ze),Ze instanceof Ve&&(Ze._startAnimation(),Ze._directDescendantItems.changes.pipe((0,m.R)(Ze.close)).subscribe(()=>{At.withLockedPosition(!1).reapplyLastPosition(),At.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Ze,ft){this._focusMonitor&&Ze?this._focusMonitor.focusVia(this._element,Ze,ft):this._element.nativeElement.focus(ft)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Ze){if(!this._overlayRef||!this.menuOpen)return;const ft=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ze||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ft instanceof Ve?(ft._resetAnimation(),ft.lazyContent?ft._animationDone.pipe((0,h.h)(Dt=>"void"===Dt.toState),(0,l.q)(1),(0,m.R)(ft.lazyContent._attached)).subscribe({next:()=>ft.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ft?.lazyContent?.detach())}_initMenu(Ze){Ze.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Ze.direction=this.dir,this._setMenuElevation(Ze),Ze.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Ze){if(Ze.setElevation){let ft=0,Dt=Ze.parentMenu;for(;Dt;)ft++,Dt=Dt.parentMenu;Ze.setElevation(ft)}}_setIsMenuOpen(Ze){this._menuOpen=Ze,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ze)}_createOverlay(Ze){if(!this._overlayRef){const ft=this._getOverlayConfig(Ze);this._subscribeToPositions(Ze,ft.positionStrategy),this._overlayRef=this._overlay.create(ft),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Ze){return new S.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Ze.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Ze.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ze,ft){Ze.setPositionClasses&&ft.positionChanges.subscribe(Dt=>{const At="start"===Dt.connectionPair.overlayX?"after":"before",Wt="top"===Dt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Ze.setPositionClasses(At,Wt)):Ze.setPositionClasses(At,Wt)})}_setPosition(Ze,ft){let[Dt,At]="before"===Ze.xPosition?["end","start"]:["start","end"],[Wt,Et]="above"===Ze.yPosition?["bottom","top"]:["top","bottom"],[nt,ct]=[Wt,Et],[Xe,Ke]=[Dt,At],rt=0;if(this.triggersSubmenu()){if(Ke=Dt="before"===Ze.xPosition?"start":"end",At=Xe="end"===Dt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const le=this._parentMaterialMenu.items.first;this._parentInnerPadding=le?le._getHostElement().offsetTop:0}rt="bottom"===Wt?this._parentInnerPadding:-this._parentInnerPadding}}else Ze.overlapTrigger||(nt="top"===Wt?"bottom":"top",ct="top"===Et?"bottom":"top");ft.withPositions([{originX:Dt,originY:nt,overlayX:Xe,overlayY:Wt,offsetY:rt},{originX:At,originY:nt,overlayX:Ke,overlayY:Wt,offsetY:rt},{originX:Dt,originY:ct,overlayX:Xe,overlayY:Et,offsetY:-rt},{originX:At,originY:ct,overlayX:Ke,overlayY:Et,offsetY:-rt}])}_menuClosingActions(){const Ze=this._overlayRef.backdropClick(),ft=this._overlayRef.detachments(),Dt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,E.of)(),At=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,h.h)(Wt=>Wt!==this._menuItemInstance),(0,h.h)(()=>this._menuOpen)):(0,E.of)();return(0,O.T)(Ze,Dt,At,ft)}_handleMousedown(Ze){(0,n.X6)(Ze)||(this._openedBy=0===Ze.button?"mouse":void 0,this.triggersSubmenu()&&Ze.preventDefault())}_handleKeydown(Ze){const ft=Ze.keyCode;(ft===T.K5||ft===T.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ft===T.SV&&"ltr"===this.dir||ft===T.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ze){this.triggersSubmenu()?(Ze.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,h.h)(Ze=>Ze===this._menuItemInstance&&!Ze.disabled),(0,d.g)(0,i.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ve&&this.menu._isAnimating?this.menu._animationDone.pipe((0,l.q)(1),(0,d.g)(0,i.E),(0,m.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Ze){return(!this._portal||this._portal.templateRef!==Ze.templateRef)&&(this._portal=new s.UE(Ze.templateRef,this._viewContainerRef)),this._portal}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(e.Y36(S.aV),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(xe),e.Y36(w,8),e.Y36(B,10),e.Y36(o.Is,8),e.Y36(n.tE),e.Y36(e.R0b))},Ce.\u0275dir=e.lG2({type:Ce,hostVars:3,hostBindings:function(Ze,ft){1&Ze&&e.NdJ("click",function(At){return ft._handleClick(At)})("mousedown",function(At){return ft._handleMousedown(At)})("keydown",function(At){return ft._handleKeydown(At)}),2&Ze&&e.uIk("aria-haspopup",ft.menu?"menu":null)("aria-expanded",ft.menuOpen)("aria-controls",ft.menuOpen?ft.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Ce})();var Ye=t(3476);function et(Ce,pt){if(1&Ce){const Ze=e.EpF();e.TgZ(0,"div",0),e.NdJ("keydown",function(Dt){e.CHM(Ze);const At=e.oxw();return e.KtG(At._handleKeydown(Dt))})("click",function(){e.CHM(Ze);const Dt=e.oxw();return e.KtG(Dt.closed.emit("click"))})("@transformMenu.start",function(Dt){e.CHM(Ze);const At=e.oxw();return e.KtG(At._onAnimationStart(Dt))})("@transformMenu.done",function(Dt){e.CHM(Ze);const At=e.oxw();return e.KtG(At._onAnimationDone(Dt))}),e.TgZ(1,"div",1),e.Hsn(2),e.qZA()()}if(2&Ce){const Ze=e.oxw();e.Q6J("id",Ze.panelId)("ngClass",Ze._classList)("@transformMenu",Ze._panelAnimationState),e.uIk("aria-label",Ze.ariaLabel||null)("aria-labelledby",Ze.ariaLabelledby||null)("aria-describedby",Ze.ariaDescribedby||null)}}const ot=["*"],ge=["mat-menu-item",""];function we(Ce,pt){1&Ce&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"polygon",3),e.qZA())}let me=(()=>{class Ce extends Ve{constructor(Ze,ft,Dt,At){super(Ze,ft,Dt,At),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Me),e.Y36(e.sBO))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(Ze,ft){2&Ze&&e.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[e._Bn([{provide:w,useExisting:Ce}]),e.qOj],ngContentSelectors:ot,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(Ze,ft){1&Ze&&(e.F$t(),e.YNc(0,et,3,6,"ng-template"))},dependencies:[a.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ye.transformMenu,ye.fadeInItems]},changeDetection:0}),Ce})(),fe=(()=>{class Ce extends B{}return Ce.\u0275fac=function(){let pt;return function(ft){return(pt||(pt=e.n5z(Ce)))(ft||Ce)}}(),Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:20,hostBindings:function(Ze,ft){2&Ze&&(e.uIk("role",ft.role)("tabindex",ft._getTabIndex())("aria-disabled",ft.disabled.toString())("disabled",ft.disabled||null),e.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",ft._highlighted)("mat-menu-item-submenu-trigger",ft._triggersSubmenu)("mat-mdc-menu-item",!1)("mat-mdc-focus-indicator",!1)("mdc-list-item",!1)("mat-mdc-menu-item-highlighted",!1)("mat-mdc-menu-item-submenu-trigger",!1))},inputs:{disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matMenuItem"],features:[e._Bn([{provide:B,useExisting:Ce}]),e.qOj],attrs:ge,ngContentSelectors:ot,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ze,ft){1&Ze&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0),e.YNc(2,we,2,0,"svg",1)),2&Ze&&(e.xp6(1),e.Q6J("matRippleDisabled",ft.disableRipple||ft.disabled)("matRippleTrigger",ft._getHostElement()),e.xp6(1),e.Q6J("ngIf",ft._triggersSubmenu))},dependencies:[a.O5,c.wG],encapsulation:2,changeDetection:0}),Ce})(),Z=(()=>{class Ce extends je{}return Ce.\u0275fac=function(){let pt;return function(ft){return(pt||(pt=e.n5z(Ce)))(ft||Ce)}}(),Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[e.qOj]}),Ce})(),ue=(()=>{class Ce{}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({providers:[Ue],imports:[a.ez,c.BQ,c.si,S.U8,Ye.ZD,c.BQ]}),Ce})()},1597:(Je,K,t)=>{"use strict";t.d(K,{cl:()=>V,gf:()=>Q});var e=t(6895),n=t(6353),y=t(3238),T=t(9818),v=t(6289),O=t(2542),C=t(8929),E=t(1281);let d=(()=>{class ie{constructor(){this.changes=new C.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(G,_e,Ie)=>{if(0==Ie||0==_e)return`0 of ${Ie}`;const Me=G*_e;return`${Me+1} \u2013 ${Me<(Ie=Math.max(Ie,0))?Math.min(Me+_e,Ie):Me+_e} of ${Ie}`}}}return ie.\u0275fac=function(G){return new(G||ie)},ie.\u0275prov=n.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const a={provide:d,deps:[[new n.FiY,new n.tp0,d]],useFactory:function c(ie){return ie||new d}},S=(0,y.Id)((0,y.dB)(class{}));let I=(()=>{class ie extends S{constructor(G,_e,Ie){if(super(),this._intl=G,this._changeDetectorRef=_e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new n.vpe,this._intlChanges=G.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),Ie){const{pageSize:Me,pageSizeOptions:Fe,hidePageSize:Ve,showFirstLastButtons:Pe}=Ie;null!=Me&&(this._pageSize=Me),null!=Fe&&(this._pageSizeOptions=Fe),null!=Ve&&(this._hidePageSize=Ve),null!=Pe&&(this._showFirstLastButtons=Pe)}}get pageIndex(){return this._pageIndex}set pageIndex(G){this._pageIndex=Math.max((0,E.su)(G),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(G){this._length=(0,E.su)(G),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(G){this._pageSize=Math.max((0,E.su)(G),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(G){this._pageSizeOptions=(G||[]).map(_e=>(0,E.su)(_e)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(G){this._hidePageSize=(0,E.Ig)(G)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(G){this._showFirstLastButtons=(0,E.Ig)(G)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const G=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(G)}previousPage(){if(!this.hasPreviousPage())return;const G=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(G)}firstPage(){if(!this.hasPreviousPage())return;const G=this.pageIndex;this.pageIndex=0,this._emitPageEvent(G)}lastPage(){if(!this.hasNextPage())return;const G=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(G)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const G=this.getNumberOfPages()-1;return this.pageIndex<G&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(G){const Ie=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/G)||0,this.pageSize=G,this._emitPageEvent(Ie)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((G,_e)=>G-_e),this._changeDetectorRef.markForCheck())}_emitPageEvent(G){this.page.emit({previousPageIndex:G,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return ie.\u0275fac=function(G){n.$Z()},ie.\u0275dir=n.lG2({type:ie,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[n.qOj]}),ie})();var u=t(8455),M=t(4363);function R(ie,ye){if(1&ie&&(n.TgZ(0,"mat-option",19),n._uU(1),n.qZA()),2&ie){const G=ye.$implicit;n.Q6J("value",G),n.xp6(1),n.hij(" ",G," ")}}function w(ie,ye){if(1&ie){const G=n.EpF();n.TgZ(0,"mat-form-field",16)(1,"mat-select",17),n.NdJ("selectionChange",function(Ie){n.CHM(G);const Me=n.oxw(2);return n.KtG(Me._changePageSize(Ie.value))}),n.YNc(2,R,2,2,"mat-option",18),n.qZA()()}if(2&ie){const G=n.oxw(2);n.Q6J("appearance",G._formFieldAppearance)("color",G.color),n.xp6(1),n.Q6J("value",G.pageSize)("disabled",G.disabled)("panelClass",G.selectConfig.panelClass||"")("disableOptionCentering",G.selectConfig.disableOptionCentering)("aria-label",G._intl.itemsPerPageLabel),n.xp6(1),n.Q6J("ngForOf",G._displayedPageSizeOptions)}}function F(ie,ye){if(1&ie&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&ie){const G=n.oxw(2);n.xp6(1),n.Oqu(G.pageSize)}}function B(ie,ye){if(1&ie&&(n.TgZ(0,"div",12)(1,"div",13),n._uU(2),n.qZA(),n.YNc(3,w,3,8,"mat-form-field",14),n.YNc(4,F,2,1,"div",15),n.qZA()),2&ie){const G=n.oxw();n.xp6(2),n.hij(" ",G._intl.itemsPerPageLabel," "),n.xp6(1),n.Q6J("ngIf",G._displayedPageSizeOptions.length>1),n.xp6(1),n.Q6J("ngIf",G._displayedPageSizeOptions.length<=1)}}function H(ie,ye){if(1&ie){const G=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(G);const Ie=n.oxw();return n.KtG(Ie.firstPage())}),n.O4$(),n.TgZ(1,"svg",7),n._UZ(2,"path",22),n.qZA()()}if(2&ie){const G=n.oxw();n.Q6J("matTooltip",G._intl.firstPageLabel)("matTooltipDisabled",G._previousButtonsDisabled())("matTooltipPosition","above")("disabled",G._previousButtonsDisabled()),n.uIk("aria-label",G._intl.firstPageLabel)}}function $(ie,ye){if(1&ie){const G=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"button",23),n.NdJ("click",function(){n.CHM(G);const Ie=n.oxw();return n.KtG(Ie.lastPage())}),n.O4$(),n.TgZ(1,"svg",7),n._UZ(2,"path",24),n.qZA()()}if(2&ie){const G=n.oxw();n.Q6J("matTooltip",G._intl.lastPageLabel)("matTooltipDisabled",G._nextButtonsDisabled())("matTooltipPosition","above")("disabled",G._nextButtonsDisabled()),n.uIk("aria-label",G._intl.lastPageLabel)}}const j=new n.OlP("MAT_LEGACY_PAGINATOR_DEFAULT_OPTIONS");let V=(()=>{class ie extends I{constructor(G,_e,Ie){super(G,_e,Ie),Ie&&null!=Ie.formFieldAppearance&&(this._formFieldAppearance=Ie.formFieldAppearance)}}return ie.\u0275fac=function(G){return new(G||ie)(n.Y36(d),n.Y36(n.sBO),n.Y36(j,8))},ie.\u0275cmp=n.Xpm({type:ie,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[n.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(G,_e){1&G&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,B,5,3,"div",2),n.TgZ(3,"div",3)(4,"div",4),n._uU(5),n.qZA(),n.YNc(6,H,3,5,"button",5),n.TgZ(7,"button",6),n.NdJ("click",function(){return _e.previousPage()}),n.O4$(),n.TgZ(8,"svg",7),n._UZ(9,"path",8),n.qZA()(),n.kcU(),n.TgZ(10,"button",9),n.NdJ("click",function(){return _e.nextPage()}),n.O4$(),n.TgZ(11,"svg",7),n._UZ(12,"path",10),n.qZA()(),n.YNc(13,$,3,5,"button",11),n.qZA()()()),2&G&&(n.xp6(2),n.Q6J("ngIf",!_e.hidePageSize),n.xp6(3),n.hij(" ",_e._intl.getRangeLabel(_e.pageIndex,_e.pageSize,_e.length)," "),n.xp6(1),n.Q6J("ngIf",_e.showFirstLastButtons),n.xp6(1),n.Q6J("matTooltip",_e._intl.previousPageLabel)("matTooltipDisabled",_e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",_e._previousButtonsDisabled()),n.uIk("aria-label",_e._intl.previousPageLabel),n.xp6(3),n.Q6J("matTooltip",_e._intl.nextPageLabel)("matTooltipDisabled",_e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",_e._nextButtonsDisabled()),n.uIk("aria-label",_e._intl.nextPageLabel),n.xp6(3),n.Q6J("ngIf",_e.showFirstLastButtons))},dependencies:[e.sg,e.O5,T.eB,u.v_,v.x8,M.CK,O.Kd],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),ie})(),Q=(()=>{class ie{}return ie.\u0275fac=function(G){return new(G||ie)},ie.\u0275mod=n.oAB({type:ie}),ie.\u0275inj=n.cJS({providers:[a],imports:[e.ez,T.yu,v.uw,O.AA,y.BQ]}),ie})()},1256:(Je,K,t)=>{"use strict";t.d(K,{eI:()=>s,jc:()=>o});var e=t(6353),n=t(6895),y=t(3238),T=t(1281);const v=new e.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),O=new e.OlP("mat-progress-bar-location",{providedIn:"root",factory:function C(){const S=(0,e.f3M)(n.K0),I=S?S.location:null;return{getPathname:()=>I?I.pathname+I.search:""}}});var l=t(2654),m=t(3753),h=t(2198);const d=["primaryValueBar"],c=(0,y.pj)(class{constructor(S){this._elementRef=S}},"primary");let a=0,s=(()=>{class S extends c{constructor(x,P,g,u,M,R){super(x),this._ngZone=P,this._animationMode=g,this._changeDetectorRef=R,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new e.vpe,this._animationEndSubscription=l.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+a++;const w=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${w}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===g,M&&(M.color&&(this.color=this.defaultColor=M.color),this.mode=M.mode||this.mode)}get value(){return this._value}set value(x){this._value=r((0,T.su)(x)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(x){this._bufferValue=r(x||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const x=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,m.R)(x,"transitionend").pipe((0,h.h)(P=>P.target===x)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return S.\u0275fac=function(x){return new(x||S)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.QbO,8),e.Y36(O,8),e.Y36(v,8),e.Y36(e.sBO))},S.\u0275cmp=e.Xpm({type:S,selectors:[["mat-progress-bar"]],viewQuery:function(x,P){if(1&x&&e.Gf(d,5),2&x){let g;e.iGM(g=e.CRH())&&(P._primaryValueBar=g.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(x,P){2&x&&(e.uIk("aria-valuenow","indeterminate"===P.mode||"query"===P.mode?null:P.value)("mode",P.mode),e.ekj("_mat-animation-noopable",P._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[e.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(x,P){1&x&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),e._UZ(4,"circle",3),e.qZA()(),e._UZ(5,"rect",4),e.qZA(),e.kcU(),e._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),e.qZA()),2&x&&(e.xp6(3),e.Q6J("id",P.progressbarId),e.xp6(2),e.uIk("fill",P._rectangleFillValue),e.xp6(1),e.Q6J("ngStyle",P._bufferTransform()),e.xp6(1),e.Q6J("ngStyle",P._primaryTransform()))},dependencies:[n.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),S})();function r(S,I=0,x=100){return Math.max(I,Math.min(x,S))}let o=(()=>{class S{}return S.\u0275fac=function(x){return new(x||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[n.ez,y.BQ,y.BQ]}),S})()},1343:(Je,K,t)=>{"use strict";t.d(K,{sN:()=>P,UK:()=>g});var e=t(1281),n=t(3353),y=t(3476),T=t(6895),v=t(6353),O=t(3238);const f=new v.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function _(){return{diameter:l}}}),l=100;var a=t(2654);function s(M,R){if(1&M&&(v.O4$(),v._UZ(0,"circle",4)),2&M){const w=v.oxw(),F=v.MAs(1);v.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+w._spinnerAnimationLabel)("stroke-dashoffset",w._getStrokeDashOffset(),"px")("stroke-dasharray",w._getStrokeCircumference(),"px")("stroke-width",w._getCircleStrokeWidth(),"%")("transform-origin",w._getCircleTransformOrigin(F)),v.uIk("r",w._getCircleRadius())}}function r(M,R){if(1&M&&(v.O4$(),v._UZ(0,"circle",4)),2&M){const w=v.oxw(),F=v.MAs(1);v.Udp("stroke-dashoffset",w._getStrokeDashOffset(),"px")("stroke-dasharray",w._getStrokeCircumference(),"px")("stroke-width",w._getCircleStrokeWidth(),"%")("transform-origin",w._getCircleTransformOrigin(F)),v.uIk("r",w._getCircleRadius())}}const I=(0,O.pj)(class{constructor(M){this._elementRef=M}},"primary");class P extends I{constructor(R,w,F,B,H,$,j,V){super(R),this._document=F,this._diameter=100,this._value=0,this._resizeSubscription=a.w.EMPTY,this.mode="determinate";const Q=P._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Q.has(F.head)||Q.set(F.head,new Set([100])),this._noopAnimations="NoopAnimations"===B&&!!H&&!H._forceAnimations,"mat-spinner"===R.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),H&&(H.color&&(this.color=this.defaultColor=H.color),H.diameter&&(this.diameter=H.diameter),H.strokeWidth&&(this.strokeWidth=H.strokeWidth)),w.isBrowser&&w.SAFARI&&j&&$&&V&&(this._resizeSubscription=j.change(150).subscribe(()=>{"indeterminate"===this.mode&&V.run(()=>$.markForCheck())}))}get diameter(){return this._diameter}set diameter(R){this._diameter=(0,e.su)(R),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(R){this._strokeWidth=(0,e.su)(R)}get value(){return"determinate"===this.mode?this._value:0}set value(R){this._value=Math.max(0,Math.min(100,(0,e.su)(R)))}ngOnInit(){const R=this._elementRef.nativeElement;this._styleRoot=(0,n.kV)(R)||this._document.head,this._attachStyleNode(),R.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const R=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${R} ${R}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(R){const w=50*(R.currentScale??1);return`${w}% ${w}%`}_attachStyleNode(){const R=this._styleRoot,w=this._diameter,F=P._diameters;let B=F.get(R);if(!B||!B.has(w)){const H=this._document.createElement("style");H.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),H.textContent=this._getAnimationText(),R.appendChild(H),B||(B=new Set,F.set(R,B)),B.add(w)}}_getAnimationText(){const R=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*R).replace(/END_VALUE/g,""+.2*R).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}P._diameters=new WeakMap,P.\u0275fac=function(R){return new(R||P)(v.Y36(v.SBq),v.Y36(n.t4),v.Y36(T.K0,8),v.Y36(v.QbO,8),v.Y36(f),v.Y36(v.sBO),v.Y36(y.rL),v.Y36(v.R0b))},P.\u0275cmp=v.Xpm({type:P,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(R,w){2&R&&(v.uIk("aria-valuemin","determinate"===w.mode?0:null)("aria-valuemax","determinate"===w.mode?100:null)("aria-valuenow","determinate"===w.mode?w.value:null)("mode",w.mode),v.Udp("width",w.diameter,"px")("height",w.diameter,"px"),v.ekj("_mat-animation-noopable",w._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[v.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(R,w){1&R&&(v.O4$(),v.TgZ(0,"svg",0,1),v.YNc(2,s,1,11,"circle",2),v.YNc(3,r,1,9,"circle",3),v.qZA()),2&R&&(v.Udp("width",w.diameter,"px")("height",w.diameter,"px"),v.Q6J("ngSwitch","indeterminate"===w.mode),v.uIk("viewBox",w._getViewBox()),v.xp6(2),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngSwitchCase",!1))},dependencies:[T.RF,T.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let g=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=v.oAB({type:M}),M.\u0275inj=v.cJS({imports:[O.BQ,T.ez,O.BQ]}),M})()},4454:(Je,K,t)=>{"use strict";t.d(K,{vy:()=>u,OY:()=>g,Xo:()=>M});var e=t(6353),n=t(3238),y=t(2687),T=t(5017),v=t(4006),O=t(1281);const C=["input"];let i=0;class f{constructor(w,F){this.source=w,this.value=F}}const l=new e.OlP("MatRadioGroup"),m=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function h(){return{color:"accent"}}});let d=(()=>{class R{constructor(F){this._changeDetector=F,this._value=null,this._name="mat-radio-group-"+i++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}get name(){return this._name}set name(F){this._name=F,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(F){this._labelPosition="before"===F?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(F){this._value!==F&&(this._value=F,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(F){this._selected=F,this.value=F?F.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(F){this._disabled=(0,O.Ig)(F),this._markRadiosForCheck()}get required(){return this._required}set required(F){this._required=(0,O.Ig)(F),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(F=>{F.name=this.name,F._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(B=>{B.checked=this.value===B.value,B.checked&&(this._selected=B)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new f(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(F=>F._markForCheck())}writeValue(F){this.value=F,this._changeDetector.markForCheck()}registerOnChange(F){this._controlValueAccessorChangeFn=F}registerOnTouched(F){this.onTouched=F}setDisabledState(F){this.disabled=F,this._changeDetector.markForCheck()}}return R.\u0275fac=function(F){return new(F||R)(e.Y36(e.sBO))},R.\u0275dir=e.lG2({type:R,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),R})();class c{constructor(w){this._elementRef=w}}const a=(0,n.Kr)((0,n.sb)(c));let s=(()=>{class R extends a{constructor(F,B,H,$,j,V,Q,ie){super(B),this._changeDetector=H,this._focusMonitor=$,this._radioDispatcher=j,this._providerOverride=Q,this._uniqueId="mat-radio-"+ ++i,this.id=this._uniqueId,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=F,this._noopAnimations="NoopAnimations"===V,ie&&(this.tabIndex=(0,O.su)(ie,0))}get checked(){return this._checked}set checked(F){const B=(0,O.Ig)(F);this._checked!==B&&(this._checked=B,B&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!B&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),B&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(F){this._value!==F&&(this._value=F,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===F),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(F){this._labelPosition=F}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(F){this._setDisabled((0,O.Ig)(F))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(F){this._required=(0,O.Ig)(F)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(F){this._color=F}get inputId(){return`${this.id||this._uniqueId}-input`}focus(F,B){B?this._focusMonitor.focusVia(this._inputElement,B,F):this._inputElement.nativeElement.focus(F)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((F,B)=>{F!==this.id&&B===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(F=>{!F&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new f(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(F){F.stopPropagation()}_onInputInteraction(F){if(F.stopPropagation(),!this.checked&&!this.disabled){const B=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),B&&this.radioGroup._emitChangeEvent())}}_setDisabled(F){this._disabled!==F&&(this._disabled=F,this._changeDetector.markForCheck())}_updateTabIndex(){const F=this.radioGroup;let B;if(B=F&&F.selected&&!this.disabled?F.selected===this?this.tabIndex:-1:this.tabIndex,B!==this._previousTabIndex){const H=this._inputElement?.nativeElement;H&&(H.setAttribute("tabindex",B+""),this._previousTabIndex=B)}}}return R.\u0275fac=function(F){e.$Z()},R.\u0275dir=e.lG2({type:R,viewQuery:function(F,B){if(1&F&&e.Gf(C,5),2&F){let H;e.iGM(H=e.CRH())&&(B._inputElement=H.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.qOj]}),R})();const I=function(R){return{enterDuration:R}},x=["*"],P={provide:v.JU,useExisting:(0,e.Gpc)(()=>g),multi:!0};let g=(()=>{class R extends d{}return R.\u0275fac=function(){let w;return function(B){return(w||(w=e.n5z(R)))(B||R)}}(),R.\u0275dir=e.lG2({type:R,selectors:[["mat-radio-group"]],contentQueries:function(F,B,H){if(1&F&&e.Suo(H,u,5),2&F){let $;e.iGM($=e.CRH())&&(B._radios=$)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([P,{provide:l,useExisting:R}]),e.qOj]}),R})(),u=(()=>{class R extends s{constructor(F,B,H,$,j,V,Q,ie){super(F,B,H,$,j,V,Q,ie)}}return R.\u0275fac=function(F){return new(F||R)(e.Y36(l,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.tE),e.Y36(T.A8),e.Y36(e.QbO,8),e.Y36(m,8),e.$8M("tabindex"))},R.\u0275cmp=e.Xpm({type:R,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(F,B){1&F&&e.NdJ("focus",function(){return B._inputElement.nativeElement.focus()}),2&F&&(e.uIk("tabindex",null)("id",B.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-radio-checked",B.checked)("mat-radio-disabled",B.disabled)("_mat-animation-noopable",B._noopAnimations)("mat-primary","primary"===B.color)("mat-accent","accent"===B.color)("mat-warn","warn"===B.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:x,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(F,B){if(1&F&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2),e._UZ(3,"span",3)(4,"span",4),e.TgZ(5,"input",5,6),e.NdJ("change",function($){return B._onInputInteraction($)})("click",function($){return B._onInputClick($)}),e.qZA(),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()(),e.TgZ(9,"span",9)(10,"span",10),e._uU(11,"\xa0"),e.qZA(),e.Hsn(12),e.qZA()()),2&F){const H=e.MAs(1);e.uIk("for",B.inputId),e.xp6(5),e.Q6J("id",B.inputId)("checked",B.checked)("disabled",B.disabled)("required",B.required),e.uIk("name",B.name)("value",B.value)("aria-label",B.ariaLabel)("aria-labelledby",B.ariaLabelledby)("aria-describedby",B.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",H)("matRippleDisabled",B._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(17,I,B._noopAnimations?0:150)),e.xp6(2),e.ekj("mat-radio-label-before","before"==B.labelPosition)}},dependencies:[n.wG],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),R})(),M=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[n.si,n.BQ,n.BQ]}),R})()},6289:(Je,K,t)=>{"use strict";t.d(K,{x8:()=>ft,uw:()=>Dt});var e=t(8184),n=t(6895),y=t(6353),T=t(3238),v=t(4363),O=t(9549),C=t(8455),E=t(3476),i=t(2687),f=t(445),_=t(1281),l=t(5017),m=t(9521),h=t(4006),d=t(8929),c=t(8514),a=t(6787),s=t(1059),r=t(7545),o=t(2986),S=t(2198),I=t(4850),x=t(5778),P=t(7625),g=t(7340);const u=["trigger"],M=["panel"];let G=0;const _e=new y.OlP("mat-select-scroll-strategy"),Me=new y.OlP("MAT_SELECT_CONFIG"),Fe={provide:_e,deps:[e.aV],useFactory:function Ie(At){return()=>At.scrollStrategies.reposition()}},Ve=new y.OlP("MatSelectTrigger"),xe=(0,T.Kr)((0,T.sb)((0,T.Id)((0,T.FD)(class{constructor(At,Wt,Et,nt,ct){this._elementRef=At,this._defaultErrorStateMatcher=Wt,this._parentForm=Et,this._parentFormGroup=nt,this.ngControl=ct,this.stateChanges=new d.xQ}}))));let be=(()=>{class At extends xe{constructor(Et,nt,ct,Xe,Ke,rt,le,te,J,ne,$e,Qe,Tt,zt){super(Ke,Xe,le,te,ne),this._viewportRuler=Et,this._changeDetectorRef=nt,this._ngZone=ct,this._dir=rt,this._parentFormField=J,this._liveAnnouncer=Tt,this._defaultOptions=zt,this._panelOpen=!1,this._compareWith=(cn,an)=>cn===an,this._uid="mat-select-"+G++,this._triggerAriaLabelledBy=null,this._destroy=new d.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+G++,this._panelDoneAnimatingStream=new d.xQ,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,c.P)(()=>{const cn=this.options;return cn?cn.changes.pipe((0,s.O)(cn),(0,r.w)(()=>(0,a.T)(...cn.map(an=>an.onSelectionChange)))):this._ngZone.onStable.pipe((0,o.q)(1),(0,r.w)(()=>this.optionSelectionChanges))}),this.openedChange=new y.vpe,this._openedStream=this.openedChange.pipe((0,S.h)(cn=>cn),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,S.h)(cn=>!cn),(0,I.U)(()=>{})),this.selectionChange=new y.vpe,this.valueChange=new y.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=zt?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=zt.typeaheadDebounceInterval),this._scrollStrategyFactory=Qe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt($e)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(Et){this._placeholder=Et,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(h.kI.required)??!1}set required(Et){this._required=(0,_.Ig)(Et),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Et){this._multiple=(0,_.Ig)(Et)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(Et){this._disableOptionCentering=(0,_.Ig)(Et)}get compareWith(){return this._compareWith}set compareWith(Et){this._compareWith=Et,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Et){this._assignValue(Et)&&this._onChange(Et)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(Et){this._typeaheadDebounceInterval=(0,_.su)(Et)}get id(){return this._id}set id(Et){this._id=Et||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new l.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,x.x)(),(0,P.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,P.R)(this._destroy)).subscribe(Et=>{Et.added.forEach(nt=>nt.select()),Et.removed.forEach(nt=>nt.deselect())}),this.options.changes.pipe((0,s.O)(null),(0,P.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Et=this._getTriggerAriaLabelledby(),nt=this.ngControl;if(Et!==this._triggerAriaLabelledBy){const ct=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Et,Et?ct.setAttribute("aria-labelledby",Et):ct.removeAttribute("aria-labelledby")}nt&&(this._previousControl!==nt.control&&(void 0!==this._previousControl&&null!==nt.disabled&&nt.disabled!==this.disabled&&(this.disabled=nt.disabled),this._previousControl=nt.control),this.updateErrorState())}ngOnChanges(Et){(Et.disabled||Et.userAriaDescribedBy)&&this.stateChanges.next(),Et.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(Et){this._assignValue(Et)}registerOnChange(Et){this._onChange=Et}registerOnTouched(Et){this._onTouched=Et}setDisabledState(Et){this.disabled=Et,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Et=this._selectionModel.selected.map(nt=>nt.viewValue);return this._isRtl()&&Et.reverse(),Et.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Et){this.disabled||(this.panelOpen?this._handleOpenKeydown(Et):this._handleClosedKeydown(Et))}_handleClosedKeydown(Et){const nt=Et.keyCode,ct=nt===m.JH||nt===m.LH||nt===m.oh||nt===m.SV,Xe=nt===m.K5||nt===m.L_,Ke=this._keyManager;if(!Ke.isTyping()&&Xe&&!(0,m.Vb)(Et)||(this.multiple||Et.altKey)&&ct)Et.preventDefault(),this.open();else if(!this.multiple){const rt=this.selected;Ke.onKeydown(Et);const le=this.selected;le&&rt!==le&&this._liveAnnouncer.announce(le.viewValue,1e4)}}_handleOpenKeydown(Et){const nt=this._keyManager,ct=Et.keyCode,Xe=ct===m.JH||ct===m.LH,Ke=nt.isTyping();if(Xe&&Et.altKey)Et.preventDefault(),this.close();else if(Ke||ct!==m.K5&&ct!==m.L_||!nt.activeItem||(0,m.Vb)(Et))if(!Ke&&this._multiple&&ct===m.A&&Et.ctrlKey){Et.preventDefault();const rt=this.options.some(le=>!le.disabled&&!le.selected);this.options.forEach(le=>{le.disabled||(rt?le.select():le.deselect())})}else{const rt=nt.activeItemIndex;nt.onKeydown(Et),this._multiple&&Xe&&Et.shiftKey&&nt.activeItem&&nt.activeItemIndex!==rt&&nt.activeItem._selectViaInteraction()}else Et.preventDefault(),nt.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,o.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Et){if(this._selectionModel.selected.forEach(nt=>nt.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Et)Array.isArray(Et),Et.forEach(nt=>this._selectOptionByValue(nt)),this._sortValues();else{const nt=this._selectOptionByValue(Et);nt?this._keyManager.updateActiveItem(nt):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Et){const nt=this.options.find(ct=>{if(this._selectionModel.isSelected(ct))return!1;try{return null!=ct.value&&this._compareWith(ct.value,Et)}catch{return!1}});return nt&&this._selectionModel.select(nt),nt}_assignValue(Et){return!!(Et!==this._value||this._multiple&&Array.isArray(Et))&&(this.options&&this._setSelectionByValue(Et),this._value=Et,!0)}_initKeyManager(){this._keyManager=new i.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Et=(0,a.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,P.R)(Et)).subscribe(nt=>{this._onSelect(nt.source,nt.isUserInput),nt.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,a.T)(...this.options.map(nt=>nt._stateChanges)).pipe((0,P.R)(Et)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Et,nt){const ct=this._selectionModel.isSelected(Et);null!=Et.value||this._multiple?(ct!==Et.selected&&(Et.selected?this._selectionModel.select(Et):this._selectionModel.deselect(Et)),nt&&this._keyManager.setActiveItem(Et),this.multiple&&(this._sortValues(),nt&&this.focus())):(Et.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Et.value)),ct!==this._selectionModel.isSelected(Et)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Et=this.options.toArray();this._selectionModel.sort((nt,ct)=>this.sortComparator?this.sortComparator(nt,ct,Et):Et.indexOf(nt)-Et.indexOf(ct)),this.stateChanges.next()}}_propagateChanges(Et){let nt=null;nt=this.multiple?this.selected.map(ct=>ct.value):this.selected?this.selected.value:Et,this._value=nt,this.valueChange.emit(nt),this._onChange(nt),this.selectionChange.emit(this._getChangeEvent(nt)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Et){this._elementRef.nativeElement.focus(Et)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Et=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Et?Et+" ":"")+this.ariaLabelledby:Et}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Et=this._parentFormField?.getLabelId();let nt=(Et?Et+" ":"")+this._valueId;return this.ariaLabelledby&&(nt+=" "+this.ariaLabelledby),nt}_panelDoneAnimating(Et){this.openedChange.emit(Et)}setDescribedByIds(Et){Et.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Et.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return At.\u0275fac=function(Et){return new(Et||At)(y.Y36(E.rL),y.Y36(y.sBO),y.Y36(y.R0b),y.Y36(T.rD),y.Y36(y.SBq),y.Y36(f.Is,8),y.Y36(h.F,8),y.Y36(h.sg,8),y.Y36(O.G_,8),y.Y36(h.a5,10),y.$8M("tabindex"),y.Y36(_e),y.Y36(i.Kd),y.Y36(Me,8))},At.\u0275dir=y.lG2({type:At,viewQuery:function(Et,nt){if(1&Et&&(y.Gf(u,5),y.Gf(M,5),y.Gf(e.pI,5)),2&Et){let ct;y.iGM(ct=y.CRH())&&(nt.trigger=ct.first),y.iGM(ct=y.CRH())&&(nt.panel=ct.first),y.iGM(ct=y.CRH())&&(nt._overlayDir=ct.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[y.qOj,y.TTD]}),At})();function je(At,Wt){if(1&At&&(y.TgZ(0,"span",8),y._uU(1),y.qZA()),2&At){const Et=y.oxw();y.xp6(1),y.Oqu(Et.placeholder)}}function Be(At,Wt){if(1&At&&(y.TgZ(0,"span",12),y._uU(1),y.qZA()),2&At){const Et=y.oxw(2);y.xp6(1),y.Oqu(Et.triggerValue)}}function lt(At,Wt){1&At&&y.Hsn(0,0,["*ngSwitchCase","true"])}function Ye(At,Wt){if(1&At&&(y.TgZ(0,"span",9),y.YNc(1,Be,2,1,"span",10),y.YNc(2,lt,1,0,"ng-content",11),y.qZA()),2&At){const Et=y.oxw();y.Q6J("ngSwitch",!!Et.customTrigger),y.xp6(2),y.Q6J("ngSwitchCase",!0)}}function et(At,Wt){if(1&At){const Et=y.EpF();y.TgZ(0,"div",13)(1,"div",14,15),y.NdJ("@transformPanel.done",function(ct){y.CHM(Et);const Xe=y.oxw();return y.KtG(Xe._panelDoneAnimatingStream.next(ct.toState))})("keydown",function(ct){y.CHM(Et);const Xe=y.oxw();return y.KtG(Xe._handleKeydown(ct))}),y.Hsn(3,1),y.qZA()()}if(2&At){const Et=y.oxw();y.Q6J("@transformPanelWrap",void 0),y.xp6(1),y.Gre("mat-select-panel ",Et._getPanelTheme(),""),y.Udp("transform-origin",Et._transformOrigin)("font-size",Et._triggerFontSize,"px"),y.Q6J("ngClass",Et.panelClass)("@transformPanel",Et.multiple?"showing-multiple":"showing"),y.uIk("id",Et.id+"-panel")("aria-multiselectable",Et.multiple)("aria-label",Et.ariaLabel||null)("aria-labelledby",Et._getPanelAriaLabelledby())}}const ot=[[["mat-select-trigger"]],"*"],ge=["mat-select-trigger","*"],we={transformPanelWrap:(0,g.X$)("transformPanelWrap",[(0,g.eR)("* => void",(0,g.IO)("@transformPanel",[(0,g.pV)()],{optional:!0}))]),transformPanel:(0,g.X$)("transformPanel",[(0,g.SB)("void",(0,g.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,g.SB)("showing",(0,g.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,g.SB)("showing-multiple",(0,g.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,g.eR)("void => *",(0,g.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,g.eR)("* => void",(0,g.jt)("100ms 25ms linear",(0,g.oB)({opacity:0})))])};class pt{constructor(Wt,Et){this.source=Wt,this.value=Et}}let ft=(()=>{class At extends be{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(Et,nt,ct){const Xe=this._getItemHeight();return Math.min(Math.max(0,Xe*Et-nt+Xe/2),ct)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,P.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,o.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(Et){const nt=(0,T.CB)(Et,this.options,this.optionGroups),ct=this._getItemHeight();this.panel.nativeElement.scrollTop=0===Et&&1===nt?0:(0,T.jH)((Et+nt)*ct,ct,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(Et){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(Et)}_getChangeEvent(Et){return new pt(this,Et)}_getOverlayMinWidth(){return this._triggerRect?.width}_calculateOverlayOffsetX(){const Et=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),nt=this._viewportRuler.getViewportSize(),ct=this._isRtl(),Xe=this.multiple?56:32;let Ke;if(this.multiple)Ke=40;else if(this.disableOptionCentering)Ke=16;else{let te=this._selectionModel.selected[0]||this.options.first;Ke=te&&te.group?32:16}ct||(Ke*=-1);const rt=0-(Et.left+Ke-(ct?Xe:0)),le=Et.right+Ke-nt.width+(ct?0:Xe);rt>0?Ke+=rt+8:le>0&&(Ke-=le+8),this._overlayDir.offsetX=Math.round(Ke),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(Et,nt,ct){const Xe=this._getItemHeight(),Ke=(Xe-this._triggerRect.height)/2,rt=Math.floor(256/Xe);let le;return this.disableOptionCentering?0:(le=0===this._scrollTop?Et*Xe:this._scrollTop===ct?(Et-(this._getItemCount()-rt))*Xe+(Xe-(this._getItemCount()*Xe-256)%Xe):nt-Xe/2,Math.round(-1*le-Ke))}_checkOverlayWithinViewport(Et){const nt=this._getItemHeight(),ct=this._viewportRuler.getViewportSize(),Xe=this._triggerRect.top-8,Ke=ct.height-this._triggerRect.bottom-8,rt=Math.abs(this._offsetY),te=Math.min(this._getItemCount()*nt,256)-rt-this._triggerRect.height;te>Ke?this._adjustPanelUp(te,Ke):rt>Xe?this._adjustPanelDown(rt,Xe,Et):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(Et,nt){const ct=Math.round(Et-nt);this._scrollTop-=ct,this._offsetY-=ct,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(Et,nt,ct){const Xe=Math.round(Et-nt);if(this._scrollTop+=Xe,this._offsetY+=Xe,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=ct)return this._scrollTop=ct,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const Et=this._getItemHeight(),nt=this._getItemCount(),ct=Math.min(nt*Et,256),Ke=nt*Et-ct;let rt;rt=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),rt+=(0,T.CB)(rt,this.options,this.optionGroups);const le=ct/2;this._scrollTop=this._calculateOverlayScroll(rt,le,Ke),this._offsetY=this._calculateOverlayOffsetY(rt,le,Ke),this._checkOverlayWithinViewport(Ke)}_getOriginBasedOnOption(){const Et=this._getItemHeight(),nt=(Et-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-nt+Et/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return At.\u0275fac=function(){let Wt;return function(nt){return(Wt||(Wt=y.n5z(At)))(nt||At)}}(),At.\u0275cmp=y.Xpm({type:At,selectors:[["mat-select"]],contentQueries:function(Et,nt,ct){if(1&Et&&(y.Suo(ct,Ve,5),y.Suo(ct,v.CK,5),y.Suo(ct,T.K7,5)),2&Et){let Xe;y.iGM(Xe=y.CRH())&&(nt.customTrigger=Xe.first),y.iGM(Xe=y.CRH())&&(nt.options=Xe),y.iGM(Xe=y.CRH())&&(nt.optionGroups=Xe)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(Et,nt){1&Et&&y.NdJ("keydown",function(Xe){return nt._handleKeydown(Xe)})("focus",function(){return nt._onFocus()})("blur",function(){return nt._onBlur()}),2&Et&&(y.uIk("id",nt.id)("tabindex",nt.tabIndex)("aria-controls",nt.panelOpen?nt.id+"-panel":null)("aria-expanded",nt.panelOpen)("aria-label",nt.ariaLabel||null)("aria-required",nt.required.toString())("aria-disabled",nt.disabled.toString())("aria-invalid",nt.errorState)("aria-activedescendant",nt._getAriaActiveDescendant()),y.ekj("mat-select-disabled",nt.disabled)("mat-select-invalid",nt.errorState)("mat-select-required",nt.required)("mat-select-empty",nt.empty)("mat-select-multiple",nt.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[y._Bn([{provide:O.Eo,useExisting:At},{provide:T.HF,useExisting:At}]),y.qOj],ngContentSelectors:ge,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Et,nt){if(1&Et&&(y.F$t(ot),y.TgZ(0,"div",0,1),y.NdJ("click",function(){return nt.toggle()}),y.TgZ(3,"div",2),y.YNc(4,je,2,1,"span",3),y.YNc(5,Ye,3,2,"span",4),y.qZA(),y.TgZ(6,"div",5),y._UZ(7,"div",6),y.qZA()(),y.YNc(8,et,4,14,"ng-template",7),y.NdJ("backdropClick",function(){return nt.close()})("attach",function(){return nt._onAttached()})("detach",function(){return nt.close()})),2&Et){const ct=y.MAs(1);y.uIk("aria-owns",nt.panelOpen?nt.id+"-panel":null),y.xp6(3),y.Q6J("ngSwitch",nt.empty),y.uIk("id",nt._valueId),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngSwitchCase",!1),y.xp6(3),y.Q6J("cdkConnectedOverlayPanelClass",nt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",nt._scrollStrategy)("cdkConnectedOverlayOrigin",ct)("cdkConnectedOverlayOpen",nt.panelOpen)("cdkConnectedOverlayPositions",nt._positions)("cdkConnectedOverlayMinWidth",nt._getOverlayMinWidth())("cdkConnectedOverlayOffsetY",nt._offsetY)}},dependencies:[n.mk,n.RF,n.n9,n.ED,e.pI,e.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[we.transformPanelWrap,we.transformPanel]},changeDetection:0}),At})(),Dt=(()=>{class At{}return At.\u0275fac=function(Et){return new(Et||At)},At.\u0275mod=y.oAB({type:At}),At.\u0275inj=y.cJS({providers:[Fe],imports:[n.ez,e.U8,v.Uc,T.BQ,E.ZD,C.wp,v.Uc,T.BQ]}),At})()},7732:(Je,K,t)=>{"use strict";t.d(K,{iZ:()=>u,Wd:()=>M});var e=t(9643),n=t(6353),y=t(3238),T=t(2687),v=t(4006),O=t(1281);let l=0;const m=(0,y.sb)((0,y.pj)((0,y.Kr)((0,y.Id)(class{constructor(R){this._elementRef=R}}))));let h=(()=>{class R extends m{constructor(F,B,H,$,j,V,Q){super(F),this._focusMonitor=B,this._changeDetectorRef=H,this.defaults=j,this._onChange=ie=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new n.vpe,this.toggleChange=new n.vpe,this.tabIndex=parseInt($)||0,this.color=this.defaultColor=j.color||"accent",this._noopAnimations="NoopAnimations"===V,this.id=this._uniqueId=`${Q}${++l}`}get required(){return this._required}set required(F){this._required=(0,O.Ig)(F)}get checked(){return this._checked}set checked(F){this._checked=(0,O.Ig)(F),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(F=>{"keyboard"===F||"program"===F?(this._focused=!0,this._changeDetectorRef.markForCheck()):F||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(F){this.checked=!!F}registerOnChange(F){this._onChange=F}registerOnTouched(F){this._onTouched=F}setDisabledState(F){this.disabled=F,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return R.\u0275fac=function(F){n.$Z()},R.\u0275dir=n.lG2({type:R,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[n.qOj]}),R})(),s=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=n.oAB({type:R}),R.\u0275inj=n.cJS({}),R})();const o=["input"],S=function(R){return{enterDuration:R}},I=["*"],x=new n.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),P={provide:v.JU,useExisting:(0,n.Gpc)(()=>u),multi:!0};class g{constructor(w,F){this.source=w,this.checked=F}}let u=(()=>{class R extends h{constructor(F,B,H,$,j,V){super(F,B,H,$,j,V,"mat-slide-toggle-")}_createChangeEvent(F){return new g(this,F)}_onChangeEvent(F){F.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(F){F.stopPropagation()}focus(F,B){B?this._focusMonitor.focusVia(this._inputElement,B,F):this._inputElement.nativeElement.focus(F)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return R.\u0275fac=function(F){return new(F||R)(n.Y36(n.SBq),n.Y36(T.tE),n.Y36(n.sBO),n.$8M("tabindex"),n.Y36(x),n.Y36(n.QbO,8))},R.\u0275cmp=n.Xpm({type:R,selectors:[["mat-slide-toggle"]],viewQuery:function(F,B){if(1&F&&n.Gf(o,5),2&F){let H;n.iGM(H=n.CRH())&&(B._inputElement=H.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(F,B){2&F&&(n.Ikx("id",B.id),n.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),n.ekj("mat-checked",B.checked)("mat-disabled",B.disabled)("mat-slide-toggle-label-before","before"==B.labelPosition)("_mat-animation-noopable",B._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[n._Bn([P]),n.qOj],ngContentSelectors:I,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(F,B){if(1&F&&(n.F$t(),n.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),n.NdJ("change",function($){return B._onChangeEvent($)})("click",function($){return B._onInputClick($)}),n.qZA(),n.TgZ(5,"span",5),n._UZ(6,"span",6),n.TgZ(7,"span",7),n._UZ(8,"span",8),n.qZA()()(),n.TgZ(9,"span",9,10),n.NdJ("cdkObserveContent",function(){return B._onLabelTextChange()}),n.TgZ(11,"span",11),n._uU(12,"\xa0"),n.qZA(),n.Hsn(13),n.qZA()()),2&F){const H=n.MAs(1),$=n.MAs(10);n.uIk("for",B.inputId),n.xp6(2),n.ekj("mat-slide-toggle-bar-no-side-margin",!$.textContent||!$.textContent.trim()),n.xp6(1),n.Q6J("id",B.inputId)("required",B.required)("tabIndex",B.tabIndex)("checked",B.checked)("disabled",B.disabled),n.uIk("name",B.name)("aria-checked",B.checked)("aria-label",B.ariaLabel)("aria-labelledby",B.ariaLabelledby)("aria-describedby",B.ariaDescribedby),n.xp6(4),n.Q6J("matRippleTrigger",H)("matRippleDisabled",B.disableRipple||B.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",n.VKq(18,S,B._noopAnimations?0:150))}},dependencies:[y.wG,e.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),R})(),M=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=n.oAB({type:R}),R.\u0275inj=n.cJS({imports:[s,y.si,y.BQ,e.Q8,s,y.BQ]}),R})()},6066:(Je,K,t)=>{"use strict";t.d(K,{ST:()=>o,XF:()=>u});var e=t(6895),n=t(6353),y=t(3238),T=t(2687),v=t(445),O=t(1281),C=t(9521),E=t(4006),i=t(3353),f=t(2654);const _=["sliderWrapper"],l=(0,i.i$)({passive:!1}),a={provide:E.JU,useExisting:(0,n.Gpc)(()=>o),multi:!0};class s{}const r=(0,y.sb)((0,y.pj)((0,y.Id)(class{constructor(M){this._elementRef=M}}),"accent"));let o=(()=>{class M extends r{constructor(w,F,B,H,$,j,V,Q){super(w),this._focusMonitor=F,this._changeDetectorRef=B,this._dir=H,this._ngZone=j,this._animationMode=Q,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new n.vpe,this.input=new n.vpe,this.valueChange=new n.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=f.w.EMPTY,this._pointerDown=ie=>{this.disabled||this._isSliding||!I(ie)&&0!==ie.button||this._ngZone.run(()=>{this._touchId=I(ie)?function g(M,R){for(let w=0;w<M.touches.length;w++){const F=M.touches[w].target;if(R===F||R.contains(F))return M.touches[w].identifier}}(ie,this._elementRef.nativeElement):void 0;const ye=x(ie,this._touchId);if(ye){const G=this.value;this._isSliding="pointer",this._lastPointerEvent=ie,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(ie),this._focusHostElement(),this._updateValueFromPosition(ye),this._valueOnSlideStart=G,ie.cancelable&&ie.preventDefault(),G!=this.value&&this._emitInputEvent()}})},this._pointerMove=ie=>{if("pointer"===this._isSliding){const ye=x(ie,this._touchId);if(ye){ie.cancelable&&ie.preventDefault();const G=this.value;this._lastPointerEvent=ie,this._updateValueFromPosition(ye),G!=this.value&&this._emitInputEvent()}}},this._pointerUp=ie=>{"pointer"===this._isSliding&&(!I(ie)||"number"!=typeof this._touchId||P(ie.changedTouches,this._touchId))&&(ie.cancelable&&ie.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=V,this.tabIndex=parseInt($)||0,j.runOutsideAngular(()=>{const ie=w.nativeElement;ie.addEventListener("mousedown",this._pointerDown,l),ie.addEventListener("touchstart",this._pointerDown,l)})}get invert(){return this._invert}set invert(w){this._invert=(0,O.Ig)(w)}get max(){return this._max}set max(w){this._max=(0,O.su)(w,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(w){this._min=(0,O.su)(w,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(w){this._step=(0,O.su)(w,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(w){this._thumbLabel=(0,O.Ig)(w)}get tickInterval(){return this._tickInterval}set tickInterval(w){this._tickInterval="auto"===w?"auto":"number"==typeof w||"string"==typeof w?(0,O.su)(w,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(w){if(w!==this._value){let F=(0,O.su)(w,0);this._roundToDecimal&&F!==this.min&&F!==this.max&&(F=parseFloat(F.toFixed(this._roundToDecimal))),this._value=F,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(w){this._vertical=(0,O.Ig)(w)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(w){this._focusHostElement(w)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const F=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${F})`}}_getTrackFillStyles(){const w=this.percent,B=this.vertical?`1, ${w}, 1`:`${w}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${B})`,display:0===w?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let w=100*this._tickIntervalPercent,j={backgroundSize:this.vertical?`2px ${w}%`:`${w}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${w/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const V=this._shouldInvertAxis();let Q;Q=this.vertical?V?"Bottom":"Top":V?"Right":"Left",j[`padding${Q}`]=`${this._getThumbGap()}px`}return j}_getThumbContainerStyles(){const w=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?w:!w)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const w=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?w:!w}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(w=>{this._isActive=!!w&&"keyboard"!==w,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const w=this._elementRef.nativeElement;w.removeEventListener("mousedown",this._pointerDown,l),w.removeEventListener("touchstart",this._pointerDown,l),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(w){if(this.disabled||(0,C.Vb)(w)||this._isSliding&&"keyboard"!==this._isSliding)return;const F=this.value;switch(w.keyCode){case C.Ku:this._increment(10);break;case C.VM:this._increment(-10);break;case C.uR:this.value=this.max;break;case C.Sd:this.value=this.min;break;case C.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case C.LH:this._increment(1);break;case C.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case C.JH:this._increment(-1);break;default:return}F!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",w.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(w){const F=this._document,B=I(w),$=B?"touchend":"mouseup";F.addEventListener(B?"touchmove":"mousemove",this._pointerMove,l),F.addEventListener($,this._pointerUp,l),B&&F.addEventListener("touchcancel",this._pointerUp,l);const j=this._getWindow();typeof j<"u"&&j&&j.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const w=this._document;w.removeEventListener("mousemove",this._pointerMove,l),w.removeEventListener("mouseup",this._pointerUp,l),w.removeEventListener("touchmove",this._pointerMove,l),w.removeEventListener("touchend",this._pointerUp,l),w.removeEventListener("touchcancel",this._pointerUp,l);const F=this._getWindow();typeof F<"u"&&F&&F.removeEventListener("blur",this._windowBlur)}_increment(w){const F=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(F+this.step*w,this.min,this.max)}_updateValueFromPosition(w){if(!this._sliderDimensions)return;let $=this._clamp(((this.vertical?w.y:w.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&($=1-$),0===$)this.value=this.min;else if(1===$)this.value=this.max;else{const j=this._calculateValue($),V=Math.round((j-this.min)/this.step)*this.step+this.min;this.value=this._clamp(V,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let w;if("auto"==this.tickInterval){let F=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;w=Math.ceil(30/(F*this.step/(this.max-this.min)))*this.step/F}else w=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=S(w)?w:0}_createChangeEvent(w=this.value){let F=new s;return F.source=this,F.value=w,F}_calculatePercentage(w){const F=((w||0)-this.min)/(this.max-this.min);return S(F)?F:0}_calculateValue(w){return this.min+w*(this.max-this.min)}_clamp(w,F=0,B=1){return Math.max(F,Math.min(w,B))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(w){this._elementRef.nativeElement.focus(w)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(w){this.value=w}registerOnChange(w){this._controlValueAccessorChangeFn=w}registerOnTouched(w){this.onTouched=w}setDisabledState(w){this.disabled=w}}return M.\u0275fac=function(w){return new(w||M)(n.Y36(n.SBq),n.Y36(T.tE),n.Y36(n.sBO),n.Y36(v.Is,8),n.$8M("tabindex"),n.Y36(n.R0b),n.Y36(e.K0),n.Y36(n.QbO,8))},M.\u0275cmp=n.Xpm({type:M,selectors:[["mat-slider"]],viewQuery:function(w,F){if(1&w&&n.Gf(_,5),2&w){let B;n.iGM(B=n.CRH())&&(F._sliderWrapper=B.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(w,F){1&w&&n.NdJ("focus",function(){return F._onFocus()})("blur",function(){return F._onBlur()})("keydown",function(H){return F._onKeydown(H)})("keyup",function(){return F._onKeyup()})("mouseenter",function(){return F._onMouseenter()})("selectstart",function(H){return H.preventDefault()}),2&w&&(n.Ikx("tabIndex",F.tabIndex),n.uIk("aria-disabled",F.disabled)("aria-valuemax",F.max)("aria-valuemin",F.min)("aria-valuenow",F.value)("aria-valuetext",null==F.valueText?F.displayValue:F.valueText)("aria-orientation",F.vertical?"vertical":"horizontal"),n.ekj("mat-slider-disabled",F.disabled)("mat-slider-has-ticks",F.tickInterval)("mat-slider-horizontal",!F.vertical)("mat-slider-axis-inverted",F._shouldInvertAxis())("mat-slider-invert-mouse-coords",F._shouldInvertMouseCoords())("mat-slider-sliding",F._isSliding)("mat-slider-thumb-label-showing",F.thumbLabel)("mat-slider-vertical",F.vertical)("mat-slider-min-value",F._isMinValue())("mat-slider-hide-last-tick",F.disabled||F._isMinValue()&&F._getThumbGap()&&F._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===F._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[n._Bn([a]),n.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(w,F){1&w&&(n.TgZ(0,"div",0,1)(2,"div",2),n._UZ(3,"div",3)(4,"div",4),n.qZA(),n.TgZ(5,"div",5),n._UZ(6,"div",6),n.qZA(),n.TgZ(7,"div",7),n._UZ(8,"div",8)(9,"div",9),n.TgZ(10,"div",10)(11,"span",11),n._uU(12),n.qZA()()()()),2&w&&(n.xp6(3),n.Q6J("ngStyle",F._getTrackBackgroundStyles()),n.xp6(1),n.Q6J("ngStyle",F._getTrackFillStyles()),n.xp6(1),n.Q6J("ngStyle",F._getTicksContainerStyles()),n.xp6(1),n.Q6J("ngStyle",F._getTicksStyles()),n.xp6(1),n.Q6J("ngStyle",F._getThumbContainerStyles()),n.xp6(5),n.Oqu(F.displayValue))},dependencies:[e.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),M})();function S(M){return!isNaN(M)&&isFinite(M)}function I(M){return"t"===M.type[0]}function x(M,R){let w;return w=I(M)?"number"==typeof R?P(M.touches,R)||P(M.changedTouches,R):M.touches[0]||M.changedTouches[0]:M,w?{x:w.clientX,y:w.clientY}:void 0}function P(M,R){for(let w=0;w<M.length;w++)if(M[w].identifier===R)return M[w]}let u=(()=>{class M{}return M.\u0275fac=function(w){return new(w||M)},M.\u0275mod=n.oAB({type:M}),M.\u0275inj=n.cJS({imports:[e.ez,y.BQ,y.BQ]}),M})()},5001:(Je,K,t)=>{"use strict";t.d(K,{pl:()=>ye,y:()=>ie});var e=t(8184),n=t(4080),y=t(6895),T=t(6353),v=t(3238),O=t(9818),C=t(8929),E=t(7340),i=t(3353),f=t(2986),_=t(7625),l=t(2687),m=t(2289);const a=Math.pow(2,31)-1;class s{constructor(_e,Ie){this._overlayRef=Ie,this._afterDismissed=new C.xQ,this._afterOpened=new C.xQ,this._onAction=new C.xQ,this._dismissedByAction=!1,this.containerInstance=_e,_e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(_e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(_e,a))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const r=new T.OlP("MatSnackBarData");class o{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const g={snackBarState:(0,E.X$)("state",[(0,E.SB)("void, hidden",(0,E.oB)({transform:"scale(0.8)",opacity:0})),(0,E.SB)("visible",(0,E.oB)({transform:"scale(1)",opacity:1})),(0,E.eR)("* => visible",(0,E.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void, * => hidden",(0,E.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,E.oB)({opacity:0})))])};let u=(()=>{class G extends n.en{constructor(Ie,Me,Fe,Ve,Pe){super(),this._ngZone=Ie,this._elementRef=Me,this._changeDetectorRef=Fe,this._platform=Ve,this.snackBarConfig=Pe,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new C.xQ,this._onExit=new C.xQ,this._onEnter=new C.xQ,this._animationState="void",this.attachDomPortal=xe=>{this._assertNotAttached();const be=this._portalOutlet.attachDomPortal(xe);return this._afterPortalAttached(),be},this._live="assertive"!==Pe.politeness||Pe.announcementMessage?"off"===Pe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ie){this._assertNotAttached();const Me=this._portalOutlet.attachComponentPortal(Ie);return this._afterPortalAttached(),Me}attachTemplatePortal(Ie){this._assertNotAttached();const Me=this._portalOutlet.attachTemplatePortal(Ie);return this._afterPortalAttached(),Me}onAnimationEnd(Ie){const{fromState:Me,toState:Fe}=Ie;if(("void"===Fe&&"void"!==Me||"hidden"===Fe)&&this._completeExit(),"visible"===Fe){const Ve=this._onEnter;this._ngZone.run(()=>{Ve.next(),Ve.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,f.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ie=this._elementRef.nativeElement,Me=this.snackBarConfig.panelClass;Me&&(Array.isArray(Me)?Me.forEach(Fe=>Ie.classList.add(Fe)):Ie.classList.add(Me))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ie=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Me=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ie&&Me){let Fe=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ie.contains(document.activeElement)&&(Fe=document.activeElement),Ie.removeAttribute("aria-hidden"),Me.appendChild(Ie),Fe?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return G.\u0275fac=function(Ie){return new(Ie||G)(T.Y36(T.R0b),T.Y36(T.SBq),T.Y36(T.sBO),T.Y36(i.t4),T.Y36(o))},G.\u0275dir=T.lG2({type:G,viewQuery:function(Ie,Me){if(1&Ie&&T.Gf(n.Pl,7),2&Ie){let Fe;T.iGM(Fe=T.CRH())&&(Me._portalOutlet=Fe.first)}},features:[T.qOj]}),G})();const F=new T.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function w(){return new o}});let B=(()=>{class G{constructor(Ie,Me,Fe,Ve,Pe,xe){this._overlay=Ie,this._live=Me,this._injector=Fe,this._breakpointObserver=Ve,this._parentSnackBar=Pe,this._defaultConfig=xe,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const Ie=this._parentSnackBar;return Ie?Ie._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ie){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ie:this._snackBarRefAtThisLevel=Ie}openFromComponent(Ie,Me){return this._attach(Ie,Me)}openFromTemplate(Ie,Me){return this._attach(Ie,Me)}open(Ie,Me="",Fe){const Ve={...this._defaultConfig,...Fe};return Ve.data={message:Ie,action:Me},Ve.announcementMessage===Ie&&(Ve.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ve)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ie,Me){const Ve=T.zs3.create({parent:Me&&Me.viewContainerRef&&Me.viewContainerRef.injector||this._injector,providers:[{provide:o,useValue:Me}]}),Pe=new n.C5(this.snackBarContainerComponent,Me.viewContainerRef,Ve),xe=Ie.attach(Pe);return xe.instance.snackBarConfig=Me,xe.instance}_attach(Ie,Me){const Fe={...new o,...this._defaultConfig,...Me},Ve=this._createOverlay(Fe),Pe=this._attachSnackBarContainer(Ve,Fe),xe=new s(Pe,Ve);if(Ie instanceof T.Rgc){const be=new n.UE(Ie,null,{$implicit:Fe.data,snackBarRef:xe});xe.instance=Pe.attachTemplatePortal(be)}else{const be=this._createInjector(Fe,xe),Ue=new n.C5(Ie,void 0,be),He=Pe.attachComponentPortal(Ue);xe.instance=He.instance}return this._breakpointObserver.observe(m.u3.HandsetPortrait).pipe((0,_.R)(Ve.detachments())).subscribe(be=>{Ve.overlayElement.classList.toggle(this.handsetCssClass,be.matches)}),Fe.announcementMessage&&Pe._onAnnounce.subscribe(()=>{this._live.announce(Fe.announcementMessage,Fe.politeness)}),this._animateSnackBar(xe,Fe),this._openedSnackBarRef=xe,this._openedSnackBarRef}_animateSnackBar(Ie,Me){Ie.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ie&&(this._openedSnackBarRef=null),Me.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ie.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ie.containerInstance.enter(),Me.duration&&Me.duration>0&&Ie.afterOpened().subscribe(()=>Ie._dismissAfter(Me.duration))}_createOverlay(Ie){const Me=new e.X_;Me.direction=Ie.direction;let Fe=this._overlay.position().global();const Ve="rtl"===Ie.direction,Pe="left"===Ie.horizontalPosition||"start"===Ie.horizontalPosition&&!Ve||"end"===Ie.horizontalPosition&&Ve,xe=!Pe&&"center"!==Ie.horizontalPosition;return Pe?Fe.left("0"):xe?Fe.right("0"):Fe.centerHorizontally(),"top"===Ie.verticalPosition?Fe.top("0"):Fe.bottom("0"),Me.positionStrategy=Fe,this._overlay.create(Me)}_createInjector(Ie,Me){return T.zs3.create({parent:Ie&&Ie.viewContainerRef&&Ie.viewContainerRef.injector||this._injector,providers:[{provide:s,useValue:Me},{provide:r,useValue:Ie.data}]})}}return G.\u0275fac=function(Ie){return new(Ie||G)(T.LFG(e.aV),T.LFG(l.Kd),T.LFG(T.zs3),T.LFG(m.Yg),T.LFG(G,12),T.LFG(F))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();function $(G,_e){if(1&G){const Ie=T.EpF();T.TgZ(0,"div",2)(1,"button",3),T.NdJ("click",function(){T.CHM(Ie);const Fe=T.oxw();return T.KtG(Fe.action())}),T._uU(2),T.qZA()()}if(2&G){const Ie=T.oxw();T.xp6(2),T.Oqu(Ie.data.action)}}function j(G,_e){}let V=(()=>{class G{constructor(Ie,Me){this.snackBarRef=Ie,this.data=Me}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return G.\u0275fac=function(Ie){return new(Ie||G)(T.Y36(s),T.Y36(r))},G.\u0275cmp=T.Xpm({type:G,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(Ie,Me){1&Ie&&(T.TgZ(0,"span",0),T._uU(1),T.qZA(),T.YNc(2,$,3,1,"div",1)),2&Ie&&(T.xp6(1),T.Oqu(Me.data.message),T.xp6(1),T.Q6J("ngIf",Me.hasAction))},dependencies:[y.O5,O.eB],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),G})(),Q=(()=>{class G extends u{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return G.\u0275fac=function(){let _e;return function(Me){return(_e||(_e=T.n5z(G)))(Me||G)}}(),G.\u0275cmp=T.Xpm({type:G,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(Ie,Me){1&Ie&&T.WFA("@state.done",function(Ve){return Me.onAnimationEnd(Ve)}),2&Ie&&T.d8E("@state",Me._animationState)},features:[T.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Ie,Me){1&Ie&&(T.TgZ(0,"div",0),T.YNc(1,j,0,0,"ng-template",1),T.qZA(),T._UZ(2,"div")),2&Ie&&(T.xp6(2),T.uIk("aria-live",Me._live)("role",Me._role))},dependencies:[n.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[g.snackBarState]}}),G})(),ie=(()=>{class G{}return G.\u0275fac=function(Ie){return new(Ie||G)},G.\u0275mod=T.oAB({type:G}),G.\u0275inj=T.cJS({imports:[e.U8,n.eL,y.ez,O.yu,v.BQ,v.BQ]}),G})(),ye=(()=>{class G extends B{constructor(Ie,Me,Fe,Ve,Pe,xe){super(Ie,Me,Fe,Ve,Pe,xe),this.simpleSnackBarComponent=V,this.snackBarContainerComponent=Q,this.handsetCssClass="mat-snack-bar-handset"}}return G.\u0275fac=function(Ie){return new(Ie||G)(T.LFG(e.aV),T.LFG(l.Kd),T.LFG(T.zs3),T.LFG(m.Yg),T.LFG(G,12),T.LFG(F))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac,providedIn:ie}),G})()},3026:(Je,K,t)=>{"use strict";t.d(K,{R7:()=>yn,SK:()=>Fi,Nn:()=>Gi});var e=t(2687),n=t(9643),y=t(4080),T=t(6895),v=t(6353),O=t(3238),C=t(2986),E=t(445),i=t(2654),f=t(8929),_=t(3753),l=t(1086),m=t(6787),h=t(8896),d=t(6498),c=t(7739),a=t(1059),s=t(5778),r=t(7625),o=t(7545),S=t(1307),I=t(2198),x=t(7340),P=t(1281),g=t(3476),u=t(3353),M=t(9521);function R(jt,Ht){}const w=function(jt){return{animationDuration:jt}},F=function(jt,Ht){return{value:jt,params:Ht}},be={translateTab:(0,x.X$)("translateTab",[(0,x.SB)("center, void, left-origin-center, right-origin-center",(0,x.oB)({transform:"none"})),(0,x.SB)("left",(0,x.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,x.SB)("right",(0,x.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,x.eR)("* => left, * => right, left => center, right => center",(0,x.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,x.eR)("void => left-origin-center",[(0,x.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,x.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,x.eR)("void => right-origin-center",[(0,x.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,x.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ue=(()=>{class jt extends y.Pl{constructor(tt,bt,kt,nn){super(tt,bt,nn),this._host=kt,this._centeringSub=i.w.EMPTY,this._leavingSub=i.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,a.O)(this._host._isCenterPosition(this._host._position))).subscribe(tt=>{tt&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v._Vd),v.Y36(v.s_b),v.Y36((0,v.Gpc)(()=>it)),v.Y36(T.K0))},jt.\u0275dir=v.lG2({type:jt,selectors:[["","matTabBodyHost",""]],features:[v.qOj]}),jt})(),He=(()=>{class jt{constructor(tt,bt,kt){this._elementRef=tt,this._dir=bt,this._dirChangeSubscription=i.w.EMPTY,this._translateTabComplete=new f.xQ,this._onCentering=new v.vpe,this._beforeCentering=new v.vpe,this._afterLeavingCenter=new v.vpe,this._onCentered=new v.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,bt&&(this._dirChangeSubscription=bt.change.subscribe(nn=>{this._computePositionAnimationState(nn),kt.markForCheck()})),this._translateTabComplete.pipe((0,s.x)((nn,ai)=>nn.fromState===ai.fromState&&nn.toState===ai.toState)).subscribe(nn=>{this._isCenterPosition(nn.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(nn.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(tt){this._positionIndex=tt,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(tt){const bt=this._isCenterPosition(tt.toState);this._beforeCentering.emit(bt),bt&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(tt){return"center"==tt||"left-origin-center"==tt||"right-origin-center"==tt}_computePositionAnimationState(tt=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==tt?"left":"right":this._positionIndex>0?"ltr"==tt?"right":"left":"center"}_computePositionFromOrigin(tt){const bt=this._getLayoutDirection();return"ltr"==bt&&tt<=0||"rtl"==bt&&tt>0?"left-origin-center":"right-origin-center"}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(E.Is,8),v.Y36(v.sBO))},jt.\u0275dir=v.lG2({type:jt,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),jt})(),it=(()=>{class jt extends He{constructor(tt,bt,kt){super(tt,bt,kt)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(E.Is,8),v.Y36(v.sBO))},jt.\u0275cmp=v.Xpm({type:jt,selectors:[["mat-tab-body"]],viewQuery:function(tt,bt){if(1&tt&&v.Gf(y.Pl,5),2&tt){let kt;v.iGM(kt=v.CRH())&&(bt._portalHost=kt.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[v.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(tt,bt){1&tt&&(v.TgZ(0,"div",0,1),v.NdJ("@translateTab.start",function(nn){return bt._onTranslateTabStarted(nn)})("@translateTab.done",function(nn){return bt._translateTabComplete.next(nn)}),v.YNc(2,R,0,0,"ng-template",2),v.qZA()),2&tt&&v.Q6J("@translateTab",v.WLB(3,F,bt._position,v.VKq(1,w,bt.animationDuration)))},dependencies:[Ue],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[be.translateTab]}}),jt})();const je=new v.OlP("MatTabContent"),lt=new v.OlP("MatTabLabel"),Ye=new v.OlP("MAT_TAB"),Z=new v.OlP("MatInkBarPositioner",{providedIn:"root",factory:function fe(){return Ht=>({left:Ht?(Ht.offsetLeft||0)+"px":"0",width:Ht?(Ht.offsetWidth||0)+"px":"0"})}}),ee=(0,O.Id)(class{});let ue=(()=>{class jt extends ee{constructor(tt){super(),this.elementRef=tt}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq))},jt.\u0275dir=v.lG2({type:jt,features:[v.qOj]}),jt})();const Ze=(0,O.Id)(class{}),ft=new v.OlP("MAT_TAB_GROUP");let Dt=(()=>{class jt extends Ze{constructor(tt,bt){super(),this._viewContainerRef=tt,this._closestTabGroup=bt,this.textLabel="",this._contentPortal=null,this._stateChanges=new f.xQ,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(tt){(tt.hasOwnProperty("textLabel")||tt.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new y.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(tt){tt&&tt._closestTab===this&&(this._templateLabel=tt)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.s_b),v.Y36(ft,8))},jt.\u0275dir=v.lG2({type:jt,viewQuery:function(tt,bt){if(1&tt&&v.Gf(v.Rgc,7),2&tt){let kt;v.iGM(kt=v.CRH())&&(bt._implicitContent=kt.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[v.qOj,v.TTD]}),jt})();const Wt=(0,u.i$)({passive:!0});let Xe=(()=>{class jt{constructor(tt,bt,kt,nn,ai,Ei,ii){this._elementRef=tt,this._changeDetectorRef=bt,this._viewportRuler=kt,this._dir=nn,this._ngZone=ai,this._platform=Ei,this._animationMode=ii,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new f.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new f.xQ,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new v.vpe,this.indexFocused=new v.vpe,ai.runOutsideAngular(()=>{(0,_.R)(tt.nativeElement,"mouseleave").pipe((0,r.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(tt){this._disablePagination=(0,P.Ig)(tt)}get selectedIndex(){return this._selectedIndex}set selectedIndex(tt){tt=(0,P.su)(tt),this._selectedIndex!=tt&&(this._selectedIndexChanged=!0,this._selectedIndex=tt,this._keyManager&&this._keyManager.updateActiveItem(tt))}ngAfterViewInit(){(0,_.R)(this._previousPaginator.nativeElement,"touchstart",Wt).pipe((0,r.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,_.R)(this._nextPaginator.nativeElement,"touchstart",Wt).pipe((0,r.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const tt=this._dir?this._dir.change:(0,l.of)("ltr"),bt=this._viewportRuler.change(150),kt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new e.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,C.q)(1)).subscribe(kt),(0,m.T)(tt,bt,this._items.changes,this._itemsResized()).pipe((0,r.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),kt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(nn=>{this.indexFocused.emit(nn),this._setTabFocus(nn)})}_itemsResized(){return"function"!=typeof ResizeObserver?h.E:this._items.changes.pipe((0,a.O)(this._items),(0,o.w)(tt=>new d.y(bt=>this._ngZone.runOutsideAngular(()=>{const kt=new ResizeObserver(nn=>bt.next(nn));return tt.forEach(nn=>kt.observe(nn.elementRef.nativeElement)),()=>{kt.disconnect()}}))),(0,S.T)(1),(0,I.h)(tt=>tt.some(bt=>bt.contentRect.width>0&&bt.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(tt){if(!(0,M.Vb)(tt))switch(tt.keyCode){case M.K5:case M.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(tt));break;default:this._keyManager.onKeydown(tt)}}_onContentChanges(){const tt=this._elementRef.nativeElement.textContent;tt!==this._currentTextContent&&(this._currentTextContent=tt||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(tt){!this._isValidIndex(tt)||this.focusIndex===tt||!this._keyManager||this._keyManager.setActiveItem(tt)}_isValidIndex(tt){if(!this._items)return!0;const bt=this._items?this._items.toArray()[tt]:null;return!!bt&&!bt.disabled}_setTabFocus(tt){if(this._showPaginationControls&&this._scrollToLabel(tt),this._items&&this._items.length){this._items.toArray()[tt].focus();const bt=this._tabListContainer.nativeElement;bt.scrollLeft="ltr"==this._getLayoutDirection()?0:bt.scrollWidth-bt.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const tt=this.scrollDistance,bt="ltr"===this._getLayoutDirection()?-tt:tt;this._tabList.nativeElement.style.transform=`translateX(${Math.round(bt)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(tt){this._scrollTo(tt)}_scrollHeader(tt){return this._scrollTo(this._scrollDistance+("before"==tt?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(tt){this._stopInterval(),this._scrollHeader(tt)}_scrollToLabel(tt){if(this.disablePagination)return;const bt=this._items?this._items.toArray()[tt]:null;if(!bt)return;const kt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:nn,offsetWidth:ai}=bt.elementRef.nativeElement;let Ei,ii;"ltr"==this._getLayoutDirection()?(Ei=nn,ii=Ei+ai):(ii=this._tabListInner.nativeElement.offsetWidth-nn,Ei=ii-ai);const ao=this.scrollDistance,Ri=this.scrollDistance+kt;Ei<ao?this.scrollDistance-=ao-Ei+60:ii>Ri&&(this.scrollDistance+=ii-Ri+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const tt=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;tt||(this.scrollDistance=0),tt!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=tt}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const tt=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,bt=tt?tt.elementRef.nativeElement:null;bt?this._inkBar.alignToElement(bt):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(tt,bt){bt&&null!=bt.button&&0!==bt.button||(this._stopInterval(),(0,c.H)(650,100).pipe((0,r.R)((0,m.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:kt,distance:nn}=this._scrollHeader(tt);(0===nn||nn>=kt)&&this._stopInterval()}))}_scrollTo(tt){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const bt=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(bt,tt)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:bt,distance:this._scrollDistance}}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(g.rL),v.Y36(E.Is,8),v.Y36(v.R0b),v.Y36(u.t4),v.Y36(v.QbO,8))},jt.\u0275dir=v.lG2({type:jt,inputs:{disablePagination:"disablePagination"}}),jt})(),Ke=(()=>{class jt extends Xe{constructor(tt,bt,kt,nn,ai,Ei,ii){super(tt,bt,kt,nn,ai,Ei,ii),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(tt){this._disableRipple=(0,P.Ig)(tt)}_itemSelected(tt){tt.preventDefault()}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(g.rL),v.Y36(E.Is,8),v.Y36(v.R0b),v.Y36(u.t4),v.Y36(v.QbO,8))},jt.\u0275dir=v.lG2({type:jt,inputs:{disableRipple:"disableRipple"},features:[v.qOj]}),jt})();const le=new v.OlP("MAT_TABS_CONFIG");let te=0;const J=(0,O.pj)((0,O.Kr)(class{constructor(jt){this._elementRef=jt}}),"primary");let ne=(()=>{class jt extends J{constructor(tt,bt,kt,nn){super(tt),this._changeDetectorRef=bt,this._animationMode=nn,this._tabs=new v.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=i.w.EMPTY,this._tabLabelSubscription=i.w.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new v.vpe,this.focusChange=new v.vpe,this.animationDone=new v.vpe,this.selectedTabChange=new v.vpe(!0),this._groupId=te++,this.animationDuration=kt&&kt.animationDuration?kt.animationDuration:"500ms",this.disablePagination=!(!kt||null==kt.disablePagination)&&kt.disablePagination,this.dynamicHeight=!(!kt||null==kt.dynamicHeight)&&kt.dynamicHeight,this.contentTabIndex=kt?.contentTabIndex??null,this.preserveContent=!!kt?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(tt){this._dynamicHeight=(0,P.Ig)(tt)}get selectedIndex(){return this._selectedIndex}set selectedIndex(tt){this._indexToSelect=(0,P.su)(tt,null)}get animationDuration(){return this._animationDuration}set animationDuration(tt){this._animationDuration=/^\d+$/.test(tt+"")?tt+"ms":tt}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(tt){this._contentTabIndex=(0,P.su)(tt,null)}get disablePagination(){return this._disablePagination}set disablePagination(tt){this._disablePagination=(0,P.Ig)(tt)}get preserveContent(){return this._preserveContent}set preserveContent(tt){this._preserveContent=(0,P.Ig)(tt)}get backgroundColor(){return this._backgroundColor}set backgroundColor(tt){const bt=this._elementRef.nativeElement.classList;bt.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),tt&&bt.add("mat-tabs-with-background",`mat-background-${tt}`),this._backgroundColor=tt}ngAfterContentChecked(){const tt=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=tt){const bt=null==this._selectedIndex;if(!bt){this.selectedTabChange.emit(this._createChangeEvent(tt));const kt=this._tabBodyWrapper.nativeElement;kt.style.minHeight=kt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((kt,nn)=>kt.isActive=nn===tt),bt||(this.selectedIndexChange.emit(tt),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((bt,kt)=>{bt.position=kt-tt,null!=this._selectedIndex&&0==bt.position&&!bt.origin&&(bt.origin=tt-this._selectedIndex)}),this._selectedIndex!==tt&&(this._selectedIndex=tt,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const tt=this._clampTabIndex(this._indexToSelect);if(tt===this._selectedIndex){const bt=this._tabs.toArray();let kt;for(let nn=0;nn<bt.length;nn++)if(bt[nn].isActive){this._indexToSelect=this._selectedIndex=nn,this._lastFocusedTabIndex=null,kt=bt[nn];break}!kt&&bt[tt]&&Promise.resolve().then(()=>{bt[tt].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(tt))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,a.O)(this._allTabs)).subscribe(tt=>{this._tabs.reset(tt.filter(bt=>bt._closestTabGroup===this||!bt._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(tt){const bt=this._tabHeader;bt&&(bt.focusIndex=tt)}_focusChanged(tt){this._lastFocusedTabIndex=tt,this.focusChange.emit(this._createChangeEvent(tt))}_createChangeEvent(tt){const bt=new Qe;return bt.index=tt,this._tabs&&this._tabs.length&&(bt.tab=this._tabs.toArray()[tt]),bt}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,m.T)(...this._tabs.map(tt=>tt._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(tt){return Math.min(this._tabs.length-1,Math.max(tt||0,0))}_getTabLabelId(tt){return`mat-tab-label-${this._groupId}-${tt}`}_getTabContentId(tt){return`mat-tab-content-${this._groupId}-${tt}`}_setTabBodyWrapperHeight(tt){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const bt=this._tabBodyWrapper.nativeElement;bt.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(bt.style.height=tt+"px")}_removeTabBodyWrapperHeight(){const tt=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=tt.clientHeight,tt.style.height="",this.animationDone.emit()}_handleClick(tt,bt,kt){tt.disabled||(this.selectedIndex=bt.focusIndex=kt)}_getTabIndex(tt,bt){return tt.disabled?null:bt===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(tt,bt){tt&&"mouse"!==tt&&"touch"!==tt&&(this._tabHeader.focusIndex=bt)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(le,8),v.Y36(v.QbO,8))},jt.\u0275dir=v.lG2({type:jt,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[v.qOj]}),jt})();class Qe{}function wt(jt,Ht){1&jt&&v.Hsn(0)}const St=["*"];function _t(jt,Ht){}const Lt=function(jt){return{animationDuration:jt}},en=function(jt,Ht){return{value:jt,params:Ht}},En=["tabListContainer"],Ft=["tabList"],Bt=["tabListInner"],vt=["nextPaginator"],sn=["previousPaginator"],Zt=["tabBodyWrapper"],bn=["tabHeader"];function rn(jt,Ht){}function Yt(jt,Ht){if(1&jt&&v.YNc(0,rn,0,0,"ng-template",10),2&jt){const tt=v.oxw().$implicit;v.Q6J("cdkPortalOutlet",tt.templateLabel)}}function Qt(jt,Ht){if(1&jt&&v._uU(0),2&jt){const tt=v.oxw().$implicit;v.Oqu(tt.textLabel)}}function An(jt,Ht){if(1&jt){const tt=v.EpF();v.TgZ(0,"div",6),v.NdJ("click",function(){const kt=v.CHM(tt),nn=kt.$implicit,ai=kt.index,Ei=v.oxw(),ii=v.MAs(1);return v.KtG(Ei._handleClick(nn,ii,ai))})("cdkFocusChange",function(kt){const ai=v.CHM(tt).index,Ei=v.oxw();return v.KtG(Ei._tabFocusChanged(kt,ai))}),v.TgZ(1,"div",7),v.YNc(2,Yt,1,1,"ng-template",8),v.YNc(3,Qt,1,1,"ng-template",null,9,v.W1O),v.qZA()()}if(2&jt){const tt=Ht.$implicit,bt=Ht.index,kt=v.MAs(4),nn=v.oxw();v.ekj("mat-tab-label-active",nn.selectedIndex===bt),v.Q6J("id",nn._getTabLabelId(bt))("ngClass",tt.labelClass)("disabled",tt.disabled)("matRippleDisabled",tt.disabled||nn.disableRipple),v.uIk("tabIndex",nn._getTabIndex(tt,bt))("aria-posinset",bt+1)("aria-setsize",nn._tabs.length)("aria-controls",nn._getTabContentId(bt))("aria-selected",nn.selectedIndex===bt)("aria-label",tt.ariaLabel||null)("aria-labelledby",!tt.ariaLabel&&tt.ariaLabelledby?tt.ariaLabelledby:null),v.xp6(2),v.Q6J("ngIf",tt.templateLabel)("ngIfElse",kt)}}function Bn(jt,Ht){if(1&jt){const tt=v.EpF();v.TgZ(0,"mat-tab-body",11),v.NdJ("_onCentered",function(){v.CHM(tt);const kt=v.oxw();return v.KtG(kt._removeTabBodyWrapperHeight())})("_onCentering",function(kt){v.CHM(tt);const nn=v.oxw();return v.KtG(nn._setTabBodyWrapperHeight(kt))}),v.qZA()}if(2&jt){const tt=Ht.$implicit,bt=Ht.index,kt=v.oxw();v.ekj("mat-tab-body-active",kt.selectedIndex===bt),v.Q6J("id",kt._getTabContentId(bt))("ngClass",tt.bodyClass)("content",tt.content)("position",tt.position)("origin",tt.origin)("animationDuration",kt.animationDuration)("preserveContent",kt.preserveContent),v.uIk("tabindex",null!=kt.contentTabIndex&&kt.selectedIndex===bt?kt.contentTabIndex:null)("aria-labelledby",kt._getTabLabelId(bt))}}let $n=(()=>{class jt{constructor(tt,bt,kt,nn){this._elementRef=tt,this._ngZone=bt,this._inkBarPositioner=kt,this._animationMode=nn}alignToElement(tt){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,C.q)(1)).subscribe(()=>{const bt=this._inkBarPositioner(tt),kt=this._elementRef.nativeElement;kt.style.left=bt.left,kt.style.width=bt.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(Z),v.Y36(v.QbO,8))},jt.\u0275dir=v.lG2({type:jt,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(tt,bt){2&tt&&v.ekj("_mat-animation-noopable","NoopAnimations"===bt._animationMode)}}),jt})(),yn=(()=>{class jt extends Dt{get templateLabel(){return this._templateLabel}set templateLabel(tt){this._setTemplateLabelInput(tt)}}return jt.\u0275fac=function(){let Ht;return function(bt){return(Ht||(Ht=v.n5z(jt)))(bt||jt)}}(),jt.\u0275cmp=v.Xpm({type:jt,selectors:[["mat-tab"]],contentQueries:function(tt,bt,kt){if(1&tt&&(v.Suo(kt,lt,5),v.Suo(kt,je,7,v.Rgc)),2&tt){let nn;v.iGM(nn=v.CRH())&&(bt.templateLabel=nn.first),v.iGM(nn=v.CRH())&&(bt._explicitContent=nn.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[v._Bn([{provide:Ye,useExisting:jt}]),v.qOj],ngContentSelectors:St,decls:1,vars:0,template:function(tt,bt){1&tt&&(v.F$t(),v.YNc(0,wt,1,0,"ng-template"))},encapsulation:2}),jt})(),Fn=(()=>{class jt extends Ue{constructor(tt,bt,kt,nn){super(tt,bt,kt,nn)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v._Vd),v.Y36(v.s_b),v.Y36((0,v.Gpc)(()=>ti)),v.Y36(T.K0))},jt.\u0275dir=v.lG2({type:jt,selectors:[["","matTabBodyHost",""]],features:[v.qOj]}),jt})(),ti=(()=>{class jt extends He{constructor(tt,bt,kt){super(tt,bt,kt)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(E.Is,8),v.Y36(v.sBO))},jt.\u0275cmp=v.Xpm({type:jt,selectors:[["mat-tab-body"]],viewQuery:function(tt,bt){if(1&tt&&v.Gf(y.Pl,5),2&tt){let kt;v.iGM(kt=v.CRH())&&(bt._portalHost=kt.first)}},hostAttrs:[1,"mat-tab-body"],features:[v.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(tt,bt){1&tt&&(v.TgZ(0,"div",0,1),v.NdJ("@translateTab.start",function(nn){return bt._onTranslateTabStarted(nn)})("@translateTab.done",function(nn){return bt._translateTabComplete.next(nn)}),v.YNc(2,_t,0,0,"ng-template",2),v.qZA()),2&tt&&v.Q6J("@translateTab",v.WLB(3,en,bt._position,v.VKq(1,Lt,bt.animationDuration)))},dependencies:[Fn],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[be.translateTab]}}),jt})(),ei=(()=>{class jt extends ue{}return jt.\u0275fac=function(){let Ht;return function(bt){return(Ht||(Ht=v.n5z(jt)))(bt||jt)}}(),jt.\u0275dir=v.lG2({type:jt,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(tt,bt){2&tt&&(v.uIk("aria-disabled",!!bt.disabled),v.ekj("mat-tab-disabled",bt.disabled))},inputs:{disabled:"disabled"},features:[v.qOj]}),jt})(),ci=(()=>{class jt extends Ke{constructor(tt,bt,kt,nn,ai,Ei,ii){super(tt,bt,kt,nn,ai,Ei,ii)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(g.rL),v.Y36(E.Is,8),v.Y36(v.R0b),v.Y36(u.t4),v.Y36(v.QbO,8))},jt.\u0275cmp=v.Xpm({type:jt,selectors:[["mat-tab-header"]],contentQueries:function(tt,bt,kt){if(1&tt&&v.Suo(kt,ei,4),2&tt){let nn;v.iGM(nn=v.CRH())&&(bt._items=nn)}},viewQuery:function(tt,bt){if(1&tt&&(v.Gf($n,7),v.Gf(En,7),v.Gf(Ft,7),v.Gf(Bt,7),v.Gf(vt,5),v.Gf(sn,5)),2&tt){let kt;v.iGM(kt=v.CRH())&&(bt._inkBar=kt.first),v.iGM(kt=v.CRH())&&(bt._tabListContainer=kt.first),v.iGM(kt=v.CRH())&&(bt._tabList=kt.first),v.iGM(kt=v.CRH())&&(bt._tabListInner=kt.first),v.iGM(kt=v.CRH())&&(bt._nextPaginator=kt.first),v.iGM(kt=v.CRH())&&(bt._previousPaginator=kt.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(tt,bt){2&tt&&v.ekj("mat-tab-header-pagination-controls-enabled",bt._showPaginationControls)("mat-tab-header-rtl","rtl"==bt._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[v.qOj],ngContentSelectors:St,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(tt,bt){1&tt&&(v.F$t(),v.TgZ(0,"button",0,1),v.NdJ("click",function(){return bt._handlePaginatorClick("before")})("mousedown",function(nn){return bt._handlePaginatorPress("before",nn)})("touchend",function(){return bt._stopInterval()}),v._UZ(2,"div",2),v.qZA(),v.TgZ(3,"div",3,4),v.NdJ("keydown",function(nn){return bt._handleKeydown(nn)}),v.TgZ(5,"div",5,6),v.NdJ("cdkObserveContent",function(){return bt._onContentChanges()}),v.TgZ(7,"div",7,8),v.Hsn(9),v.qZA(),v._UZ(10,"mat-ink-bar"),v.qZA()(),v.TgZ(11,"button",9,10),v.NdJ("mousedown",function(nn){return bt._handlePaginatorPress("after",nn)})("click",function(){return bt._handlePaginatorClick("after")})("touchend",function(){return bt._stopInterval()}),v._UZ(13,"div",2),v.qZA()),2&tt&&(v.ekj("mat-tab-header-pagination-disabled",bt._disableScrollBefore),v.Q6J("matRippleDisabled",bt._disableScrollBefore||bt.disableRipple)("disabled",bt._disableScrollBefore||null),v.xp6(5),v.ekj("_mat-animation-noopable","NoopAnimations"===bt._animationMode),v.xp6(6),v.ekj("mat-tab-header-pagination-disabled",bt._disableScrollAfter),v.Q6J("matRippleDisabled",bt._disableScrollAfter||bt.disableRipple)("disabled",bt._disableScrollAfter||null))},dependencies:[O.wG,n.wD,$n],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),jt})(),Fi=(()=>{class jt extends ne{constructor(tt,bt,kt,nn){super(tt,bt,kt,nn)}}return jt.\u0275fac=function(tt){return new(tt||jt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(le,8),v.Y36(v.QbO,8))},jt.\u0275cmp=v.Xpm({type:jt,selectors:[["mat-tab-group"]],contentQueries:function(tt,bt,kt){if(1&tt&&v.Suo(kt,yn,5),2&tt){let nn;v.iGM(nn=v.CRH())&&(bt._allTabs=nn)}},viewQuery:function(tt,bt){if(1&tt&&(v.Gf(Zt,5),v.Gf(bn,5)),2&tt){let kt;v.iGM(kt=v.CRH())&&(bt._tabBodyWrapper=kt.first),v.iGM(kt=v.CRH())&&(bt._tabHeader=kt.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(tt,bt){2&tt&&v.ekj("mat-tab-group-dynamic-height",bt.dynamicHeight)("mat-tab-group-inverted-header","below"===bt.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[v._Bn([{provide:ft,useExisting:jt}]),v.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(tt,bt){1&tt&&(v.TgZ(0,"mat-tab-header",0,1),v.NdJ("indexFocused",function(nn){return bt._focusChanged(nn)})("selectFocusedIndex",function(nn){return bt.selectedIndex=nn}),v.YNc(2,An,5,15,"div",2),v.qZA(),v.TgZ(3,"div",3,4),v.YNc(5,Bn,1,11,"mat-tab-body",5),v.qZA()),2&tt&&(v.Q6J("selectedIndex",bt.selectedIndex||0)("disableRipple",bt.disableRipple)("disablePagination",bt.disablePagination),v.xp6(2),v.Q6J("ngForOf",bt._tabs),v.xp6(1),v.ekj("_mat-animation-noopable","NoopAnimations"===bt._animationMode),v.xp6(2),v.Q6J("ngForOf",bt._tabs))},dependencies:[T.mk,T.sg,T.O5,y.Pl,O.wG,e.kH,ei,ti,ci],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),jt})(),Gi=(()=>{class jt{}return jt.\u0275fac=function(tt){return new(tt||jt)},jt.\u0275mod=v.oAB({type:jt}),jt.\u0275inj=v.cJS({imports:[T.ez,O.BQ,y.eL,O.si,n.Q8,e.rt,O.BQ]}),jt})()},2542:(Je,K,t)=>{"use strict";t.d(K,{Kd:()=>_e,AA:()=>Me});var e=t(8184),n=t(2687),y=t(6895),T=t(6353),v=t(3238),O=t(3476),C=t(445),E=t(2289),i=t(3353),f=t(7625),_=t(2986),l=t(1281),m=t(9521),h=t(4080),d=t(8929);t(7340);const o=new T.OlP("mat-tooltip-scroll-strategy"),I={provide:o,deps:[e.aV],useFactory:function S(Ve){return()=>Ve.scrollStrategies.reposition({scrollThrottle:20})}},P=new T.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function x(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),u="tooltip-panel",M=(0,i.i$)({passive:!0});let $=(()=>{class Ve{constructor(xe,be,Ue,He,it,je,Be,lt,Ye,et,ot,ge){this._overlay=xe,this._elementRef=be,this._scrollDispatcher=Ue,this._viewContainerRef=He,this._ngZone=it,this._platform=je,this._ariaDescriber=Be,this._focusMonitor=lt,this._dir=et,this._defaultOptions=ot,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new d.xQ,this._scrollStrategy=Ye,this._document=ge,ot&&(ot.position&&(this.position=ot.position),ot.positionAtOrigin&&(this.positionAtOrigin=ot.positionAtOrigin),ot.touchGestures&&(this.touchGestures=ot.touchGestures)),et.change.pipe((0,f.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(xe){xe!==this._position&&(this._position=xe,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(xe){this._positionAtOrigin=(0,l.Ig)(xe),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(xe){this._disabled=(0,l.Ig)(xe),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(xe){this._showDelay=(0,l.su)(xe)}get hideDelay(){return this._hideDelay}set hideDelay(xe){this._hideDelay=(0,l.su)(xe),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(xe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=xe?String(xe).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(xe){this._tooltipClass=xe,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,f.R)(this._destroyed)).subscribe(xe=>{xe?"keyboard"===xe&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const xe=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([be,Ue])=>{xe.removeEventListener(be,Ue,M)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(xe,this.message,"tooltip"),this._focusMonitor.stopMonitoring(xe)}show(xe=this.showDelay,be){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Ue=this._createOverlay(be);this._detach(),this._portal=this._portal||new h.C5(this._tooltipComponent,this._viewContainerRef);const He=this._tooltipInstance=Ue.attach(this._portal).instance;He._triggerElement=this._elementRef.nativeElement,He._mouseLeaveHideDelay=this._hideDelay,He.afterHidden().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),He.show(xe)}hide(xe=this.hideDelay){const be=this._tooltipInstance;be&&(be.isVisible()?be.hide(xe):(be._cancelPendingAnimations(),this._detach()))}toggle(xe){this._isTooltipVisible()?this.hide():this.show(void 0,xe)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(xe){if(this._overlayRef){const He=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!xe)&&He._origin instanceof T.SBq)return this._overlayRef;this._detach()}const be=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Ue=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&xe||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(be);return Ue.positionChanges.pipe((0,f.R)(this._destroyed)).subscribe(He=>{this._updateCurrentPositionClass(He.connectionPair),this._tooltipInstance&&He.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Ue,panelClass:`${this._cssClassPrefix}-${u}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,f.R)(this._destroyed)).subscribe(He=>{this._isTooltipVisible()&&He.keyCode===m.hY&&!(0,m.Vb)(He)&&(He.preventDefault(),He.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(xe){const be=xe.getConfig().positionStrategy,Ue=this._getOrigin(),He=this._getOverlayPosition();be.withPositions([this._addOffset({...Ue.main,...He.main}),this._addOffset({...Ue.fallback,...He.fallback})])}_addOffset(xe){return xe}_getOrigin(){const xe=!this._dir||"ltr"==this._dir.value,be=this.position;let Ue;"above"==be||"below"==be?Ue={originX:"center",originY:"above"==be?"top":"bottom"}:"before"==be||"left"==be&&xe||"right"==be&&!xe?Ue={originX:"start",originY:"center"}:("after"==be||"right"==be&&xe||"left"==be&&!xe)&&(Ue={originX:"end",originY:"center"});const{x:He,y:it}=this._invertPosition(Ue.originX,Ue.originY);return{main:Ue,fallback:{originX:He,originY:it}}}_getOverlayPosition(){const xe=!this._dir||"ltr"==this._dir.value,be=this.position;let Ue;"above"==be?Ue={overlayX:"center",overlayY:"bottom"}:"below"==be?Ue={overlayX:"center",overlayY:"top"}:"before"==be||"left"==be&&xe||"right"==be&&!xe?Ue={overlayX:"end",overlayY:"center"}:("after"==be||"right"==be&&xe||"left"==be&&!xe)&&(Ue={overlayX:"start",overlayY:"center"});const{x:He,y:it}=this._invertPosition(Ue.overlayX,Ue.overlayY);return{main:Ue,fallback:{overlayX:He,overlayY:it}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,_.q)(1),(0,f.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(xe){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=xe,this._tooltipInstance._markForCheck())}_invertPosition(xe,be){return"above"===this.position||"below"===this.position?"top"===be?be="bottom":"bottom"===be&&(be="top"):"end"===xe?xe="start":"start"===xe&&(xe="end"),{x:xe,y:be}}_updateCurrentPositionClass(xe){const{overlayY:be,originX:Ue,originY:He}=xe;let it;if(it="center"===be?this._dir&&"rtl"===this._dir.value?"end"===Ue?"left":"right":"start"===Ue?"left":"right":"bottom"===be&&"top"===He?"above":"below",it!==this._currentPosition){const je=this._overlayRef;if(je){const Be=`${this._cssClassPrefix}-${u}-`;je.removePanelClass(Be+this._currentPosition),je.addPanelClass(Be+it)}this._currentPosition=it}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",xe=>{let be;this._setupPointerExitEventsIfNeeded(),void 0!==xe.x&&void 0!==xe.y&&(be=xe),this.show(void 0,be)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",xe=>{const be=xe.targetTouches?.[0],Ue=be?{x:be.clientX,y:be.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Ue),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const xe=[];if(this._platformSupportsMouseEvents())xe.push(["mouseleave",be=>{const Ue=be.relatedTarget;(!Ue||!this._overlayRef?.overlayElement.contains(Ue))&&this.hide()}],["wheel",be=>this._wheelListener(be)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const be=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};xe.push(["touchend",be],["touchcancel",be])}this._addListeners(xe),this._passiveListeners.push(...xe)}_addListeners(xe){xe.forEach(([be,Ue])=>{this._elementRef.nativeElement.addEventListener(be,Ue,M)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(xe){if(this._isTooltipVisible()){const be=this._document.elementFromPoint(xe.clientX,xe.clientY),Ue=this._elementRef.nativeElement;be!==Ue&&!Ue.contains(be)&&this.hide()}}_disableNativeGesturesIfNecessary(){const xe=this.touchGestures;if("off"!==xe){const be=this._elementRef.nativeElement,Ue=be.style;("on"===xe||"INPUT"!==be.nodeName&&"TEXTAREA"!==be.nodeName)&&(Ue.userSelect=Ue.msUserSelect=Ue.webkitUserSelect=Ue.MozUserSelect="none"),("on"===xe||!be.draggable)&&(Ue.webkitUserDrag="none"),Ue.touchAction="none",Ue.webkitTapHighlightColor="transparent"}}}return Ve.\u0275fac=function(xe){T.$Z()},Ve.\u0275dir=T.lG2({type:Ve,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),Ve})(),V=(()=>{class Ve{constructor(xe,be){this._changeDetectorRef=xe,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new d.xQ,this._animationsDisabled="NoopAnimations"===be}show(xe){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},xe)}hide(xe){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},xe)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:xe}){(!xe||!this._triggerElement.contains(xe))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:xe}){(xe===this._showAnimation||xe===this._hideAnimation)&&this._finalizeAnimation(xe===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(xe){xe?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(xe){const be=this._tooltip.nativeElement,Ue=this._showAnimation,He=this._hideAnimation;if(be.classList.remove(xe?He:Ue),be.classList.add(xe?Ue:He),this._isVisible=xe,xe&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const it=getComputedStyle(be);("0s"===it.getPropertyValue("animation-duration")||"none"===it.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}xe&&this._onShow(),this._animationsDisabled&&(be.classList.add("_mat-animation-noopable"),this._finalizeAnimation(xe))}}return Ve.\u0275fac=function(xe){return new(xe||Ve)(T.Y36(T.sBO),T.Y36(T.QbO,8))},Ve.\u0275dir=T.lG2({type:Ve}),Ve})();const G=["tooltip"];let _e=(()=>{class Ve extends ${constructor(xe,be,Ue,He,it,je,Be,lt,Ye,et,ot,ge){super(xe,be,Ue,He,it,je,Be,lt,Ye,et,ot,ge),this._tooltipComponent=Ie}}return Ve.\u0275fac=function(xe){return new(xe||Ve)(T.Y36(e.aV),T.Y36(T.SBq),T.Y36(O.mF),T.Y36(T.s_b),T.Y36(T.R0b),T.Y36(i.t4),T.Y36(n.$s),T.Y36(n.tE),T.Y36(o),T.Y36(C.Is,8),T.Y36(P,8),T.Y36(y.K0))},Ve.\u0275dir=T.lG2({type:Ve,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[T.qOj]}),Ve})(),Ie=(()=>{class Ve extends V{constructor(xe,be,Ue){super(xe,Ue),this._breakpointObserver=be,this._isHandset=this._breakpointObserver.observe(E.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return Ve.\u0275fac=function(xe){return new(xe||Ve)(T.Y36(T.sBO),T.Y36(E.Yg),T.Y36(T.QbO,8))},Ve.\u0275cmp=T.Xpm({type:Ve,selectors:[["mat-tooltip-component"]],viewQuery:function(xe,be){if(1&xe&&T.Gf(G,7),2&xe){let Ue;T.iGM(Ue=T.CRH())&&(be._tooltip=Ue.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(xe,be){1&xe&&T.NdJ("mouseleave",function(He){return be._handleMouseLeave(He)}),2&xe&&T.Udp("zoom",be.isVisible()?1:null)},features:[T.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(xe,be){if(1&xe&&(T.TgZ(0,"div",0,1),T.NdJ("animationend",function(He){return be._handleAnimationEnd(He)}),T.ALo(2,"async"),T._uU(3),T.qZA()),2&xe){let Ue;T.ekj("mat-tooltip-handset",null==(Ue=T.lcZ(2,4,be._isHandset))?null:Ue.matches),T.Q6J("ngClass",be.tooltipClass),T.xp6(3),T.Oqu(be.message)}},dependencies:[y.mk,y.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),Ve})(),Me=(()=>{class Ve{}return Ve.\u0275fac=function(xe){return new(xe||Ve)},Ve.\u0275mod=T.oAB({type:Ve}),Ve.\u0275inj=T.cJS({providers:[I],imports:[n.rt,y.ez,e.U8,v.BQ,v.BQ,O.ZD]}),Ve})()},470:(Je,K,t)=>{"use strict";t.d(K,{JX:()=>R,YE:()=>r,nU:()=>M});var e=t(6353),n=t(2687),y=t(1281),T=t(9521),v=t(3238),O=t(8929),C=t(6787),E=t(7340),i=t(6895);const f=["mat-sort-header",""];function _(w,F){if(1&w){const B=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(B);const $=e.oxw();return e.KtG($._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(B);const $=e.oxw();return e.KtG($._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&w){const B=e.oxw();e.Q6J("@arrowOpacity",B._getArrowViewState())("@arrowPosition",B._getArrowViewState())("@allowChildren",B._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",B._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",B._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",B._getArrowDirectionState())}}const l=["*"],a=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),s=(0,v.dB)((0,v.Id)(class{}));let r=(()=>{class w extends s{constructor(B){super(),this._defaultOptions=B,this.sortables=new Map,this._stateChanges=new O.xQ,this.start="asc",this._direction="",this.sortChange=new e.vpe}get direction(){return this._direction}set direction(B){this._direction=B}get disableClear(){return this._disableClear}set disableClear(B){this._disableClear=(0,y.Ig)(B)}register(B){this.sortables.set(B.id,B)}deregister(B){this.sortables.delete(B.id)}sort(B){this.active!=B.id?(this.active=B.id,this.direction=B.start?B.start:this.start):this.direction=this.getNextSortDirection(B),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(B){if(!B)return"";let $=function o(w,F){let B=["asc","desc"];return"desc"==w&&B.reverse(),F||B.push(""),B}(B.start||this.start,B?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),j=$.indexOf(this.direction)+1;return j>=$.length&&(j=0),$[j]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return w.\u0275fac=function(B){return new(B||w)(e.Y36(a,8))},w.\u0275dir=e.lG2({type:w,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]}),w})();const S=v.mZ.ENTERING+" "+v.yN.STANDARD_CURVE,I={indicator:(0,E.X$)("indicator",[(0,E.SB)("active-asc, asc",(0,E.oB)({transform:"translateY(0px)"})),(0,E.SB)("active-desc, desc",(0,E.oB)({transform:"translateY(10px)"})),(0,E.eR)("active-asc <=> active-desc",(0,E.jt)(S))]),leftPointer:(0,E.X$)("leftPointer",[(0,E.SB)("active-asc, asc",(0,E.oB)({transform:"rotate(-45deg)"})),(0,E.SB)("active-desc, desc",(0,E.oB)({transform:"rotate(45deg)"})),(0,E.eR)("active-asc <=> active-desc",(0,E.jt)(S))]),rightPointer:(0,E.X$)("rightPointer",[(0,E.SB)("active-asc, asc",(0,E.oB)({transform:"rotate(45deg)"})),(0,E.SB)("active-desc, desc",(0,E.oB)({transform:"rotate(-45deg)"})),(0,E.eR)("active-asc <=> active-desc",(0,E.jt)(S))]),arrowOpacity:(0,E.X$)("arrowOpacity",[(0,E.SB)("desc-to-active, asc-to-active, active",(0,E.oB)({opacity:1})),(0,E.SB)("desc-to-hint, asc-to-hint, hint",(0,E.oB)({opacity:.54})),(0,E.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,E.oB)({opacity:0})),(0,E.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,E.jt)("0ms")),(0,E.eR)("* <=> *",(0,E.jt)(S))]),arrowPosition:(0,E.X$)("arrowPosition",[(0,E.eR)("* => desc-to-hint, * => desc-to-active",(0,E.jt)(S,(0,E.F4)([(0,E.oB)({transform:"translateY(-25%)"}),(0,E.oB)({transform:"translateY(0)"})]))),(0,E.eR)("* => hint-to-desc, * => active-to-desc",(0,E.jt)(S,(0,E.F4)([(0,E.oB)({transform:"translateY(0)"}),(0,E.oB)({transform:"translateY(25%)"})]))),(0,E.eR)("* => asc-to-hint, * => asc-to-active",(0,E.jt)(S,(0,E.F4)([(0,E.oB)({transform:"translateY(25%)"}),(0,E.oB)({transform:"translateY(0)"})]))),(0,E.eR)("* => hint-to-asc, * => active-to-asc",(0,E.jt)(S,(0,E.F4)([(0,E.oB)({transform:"translateY(0)"}),(0,E.oB)({transform:"translateY(-25%)"})]))),(0,E.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,E.oB)({transform:"translateY(0)"})),(0,E.SB)("hint-to-desc, active-to-desc, desc",(0,E.oB)({transform:"translateY(-25%)"})),(0,E.SB)("hint-to-asc, active-to-asc, asc",(0,E.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,E.X$)("allowChildren",[(0,E.eR)("* <=> *",[(0,E.IO)("@*",(0,E.pV)(),{optional:!0})])])};let x=(()=>{class w{constructor(){this.changes=new O.xQ}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const g={provide:x,deps:[[new e.FiY,new e.tp0,x]],useFactory:function P(w){return w||new x}},u=(0,v.Id)(class{});let M=(()=>{class w extends u{constructor(B,H,$,j,V,Q,ie,ye){super(),this._intl=B,this._changeDetectorRef=H,this._sort=$,this._columnDef=j,this._focusMonitor=V,this._elementRef=Q,this._ariaDescriber=ie,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",ye?.arrowPosition&&(this.arrowPosition=ye?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(B){this._updateSortActionDescription(B)}get disableClear(){return this._disableClear}set disableClear(B){this._disableClear=(0,y.Ig)(B)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(B=>{const H=!!B;H!==this._showIndicatorHint&&(this._setIndicatorHintVisible(H),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(B){this._isDisabled()&&B||(this._showIndicatorHint=B,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(B){this._viewState=B||{},this._disableViewStateAnimation&&(this._viewState={toState:B.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(B){!this._isDisabled()&&(B.keyCode===T.L_||B.keyCode===T.K5)&&(B.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const B=this._viewState.fromState;return(B?`${B}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(B){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,B)),this._sortActionDescription=B}_handleStateChanges(){this._rerenderSubscription=(0,C.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return w.\u0275fac=function(B){return new(B||w)(e.Y36(x),e.Y36(e.sBO),e.Y36(r,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(n.tE),e.Y36(e.SBq),e.Y36(n.$s,8),e.Y36(a,8))},w.\u0275cmp=e.Xpm({type:w,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(B,H){1&B&&e.NdJ("click",function(){return H._handleClick()})("keydown",function(j){return H._handleKeydown(j)})("mouseenter",function(){return H._setIndicatorHintVisible(!0)})("mouseleave",function(){return H._setIndicatorHintVisible(!1)}),2&B&&(e.uIk("aria-sort",H._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",H._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:f,ngContentSelectors:l,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(B,H){1&B&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,_,6,6,"div",2),e.qZA()),2&B&&(e.ekj("mat-sort-header-sorted",H._isSorted())("mat-sort-header-position-before","before"===H.arrowPosition),e.uIk("tabindex",H._isDisabled()?null:0)("role",H._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",H._renderArrow()))},dependencies:[i.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[I.indicator,I.leftPointer,I.rightPointer,I.arrowOpacity,I.arrowPosition,I.allowChildren]},changeDetection:0}),w})(),R=(()=>{class w{}return w.\u0275fac=function(B){return new(B||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({providers:[g],imports:[i.ez,v.BQ]}),w})()},1481:(Je,K,t)=>{"use strict";t.d(K,{Dx:()=>Z,H7:()=>Dn,b2:()=>ot,q6:()=>Be,se:()=>B});var e=t(6895),n=t(6353);class y extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T extends y{static makeCurrent(){(0,e.HT)(new T)}onAndCancel(St,_t,Lt){return St.addEventListener(_t,Lt,!1),()=>{St.removeEventListener(_t,Lt,!1)}}dispatchEvent(St,_t){St.dispatchEvent(_t)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,_t){return(_t=_t||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,_t){return"window"===_t?window:"document"===_t?St:"body"===_t?St.body:null}getBaseHref(St){const _t=function O(){return v=v||document.querySelector("base"),v?v.getAttribute("href"):null}();return null==_t?null:function E(wt){C=C||document.createElement("a"),C.setAttribute("href",wt);const St=C.pathname;return"/"===St.charAt(0)?St:`/${St}`}(_t)}resetBaseElement(){v=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,e.Mx)(document.cookie,St)}}let C,v=null;const i=new n.OlP("TRANSITION_ID"),_=[{provide:n.ip1,useFactory:function f(wt,St,_t){return()=>{_t.get(n.CZH).donePromise.then(()=>{const Lt=(0,e.q)(),en=St.querySelectorAll(`style[ng-transition="${wt}"]`);for(let En=0;En<en.length;En++)Lt.remove(en[En])})}},deps:[i,e.K0,n.zs3],multi:!0}];let m=(()=>{class wt{build(){return new XMLHttpRequest}}return wt.\u0275fac=function(_t){return new(_t||wt)},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const h=new n.OlP("EventManagerPlugins");let d=(()=>{class wt{constructor(_t,Lt){this._zone=Lt,this._eventNameToPlugin=new Map,_t.forEach(en=>en.manager=this),this._plugins=_t.slice().reverse()}addEventListener(_t,Lt,en){return this._findPluginFor(Lt).addEventListener(_t,Lt,en)}addGlobalEventListener(_t,Lt,en){return this._findPluginFor(Lt).addGlobalEventListener(_t,Lt,en)}getZone(){return this._zone}_findPluginFor(_t){const Lt=this._eventNameToPlugin.get(_t);if(Lt)return Lt;const en=this._plugins;for(let En=0;En<en.length;En++){const Ft=en[En];if(Ft.supports(_t))return this._eventNameToPlugin.set(_t,Ft),Ft}throw new Error(`No event manager plugin found for event ${_t}`)}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(h),n.LFG(n.R0b))},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})();class c{constructor(St){this._doc=St}addGlobalEventListener(St,_t,Lt){const en=(0,e.q)().getGlobalEventTarget(this._doc,St);if(!en)throw new Error(`Unsupported event target ${en} for event ${_t}`);return this.addEventListener(en,_t,Lt)}}let a=(()=>{class wt{constructor(){this._stylesSet=new Set}addStyles(_t){const Lt=new Set;_t.forEach(en=>{this._stylesSet.has(en)||(this._stylesSet.add(en),Lt.add(en))}),this.onStylesAdded(Lt)}onStylesAdded(_t){}getAllStyles(){return Array.from(this._stylesSet)}}return wt.\u0275fac=function(_t){return new(_t||wt)},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})(),s=(()=>{class wt extends a{constructor(_t){super(),this._doc=_t,this._hostNodes=new Map,this._hostNodes.set(_t.head,[])}_addStylesToHost(_t,Lt,en){_t.forEach(En=>{const Ft=this._doc.createElement("style");Ft.textContent=En,en.push(Lt.appendChild(Ft))})}addHost(_t){const Lt=[];this._addStylesToHost(this._stylesSet,_t,Lt),this._hostNodes.set(_t,Lt)}removeHost(_t){const Lt=this._hostNodes.get(_t);Lt&&Lt.forEach(r),this._hostNodes.delete(_t)}onStylesAdded(_t){this._hostNodes.forEach((Lt,en)=>{this._addStylesToHost(_t,en,Lt)})}ngOnDestroy(){this._hostNodes.forEach(_t=>_t.forEach(r))}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(e.K0))},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})();function r(wt){(0,e.q)().remove(wt)}const o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S=/%COMP%/g,x="%COMP%",P=`_nghost-${x}`,g=`_ngcontent-${x}`;function R(wt,St){return St.flat(100).map(_t=>_t.replace(S,wt))}function w(wt){return St=>{if("__ngUnwrap__"===St)return wt;!1===wt(St)&&(St.preventDefault(),St.returnValue=!1)}}let B=(()=>{class wt{constructor(_t,Lt,en){this.eventManager=_t,this.sharedStylesHost=Lt,this.appId=en,this.rendererByCompId=new Map,this.defaultRenderer=new H(_t)}createRenderer(_t,Lt){if(!_t||!Lt)return this.defaultRenderer;switch(Lt.encapsulation){case n.ifc.Emulated:{let en=this.rendererByCompId.get(Lt.id);return en||(en=new Q(this.eventManager,this.sharedStylesHost,Lt,this.appId),this.rendererByCompId.set(Lt.id,en)),en.applyToHost(_t),en}case 1:case n.ifc.ShadowDom:return new ie(this.eventManager,this.sharedStylesHost,_t,Lt);default:if(!this.rendererByCompId.has(Lt.id)){const en=R(Lt.id,Lt.styles);this.sharedStylesHost.addStyles(en),this.rendererByCompId.set(Lt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(d),n.LFG(s),n.LFG(n.AFp))},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})();class H{constructor(St){this.eventManager=St,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(St,_t){return _t?document.createElementNS(o[_t]||_t,St):document.createElement(St)}createComment(St){return document.createComment(St)}createText(St){return document.createTextNode(St)}appendChild(St,_t){(V(St)?St.content:St).appendChild(_t)}insertBefore(St,_t,Lt){St&&(V(St)?St.content:St).insertBefore(_t,Lt)}removeChild(St,_t){St&&St.removeChild(_t)}selectRootElement(St,_t){let Lt="string"==typeof St?document.querySelector(St):St;if(!Lt)throw new Error(`The selector "${St}" did not match any elements`);return _t||(Lt.textContent=""),Lt}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,_t,Lt,en){if(en){_t=en+":"+_t;const En=o[en];En?St.setAttributeNS(En,_t,Lt):St.setAttribute(_t,Lt)}else St.setAttribute(_t,Lt)}removeAttribute(St,_t,Lt){if(Lt){const en=o[Lt];en?St.removeAttributeNS(en,_t):St.removeAttribute(`${Lt}:${_t}`)}else St.removeAttribute(_t)}addClass(St,_t){St.classList.add(_t)}removeClass(St,_t){St.classList.remove(_t)}setStyle(St,_t,Lt,en){en&(n.JOm.DashCase|n.JOm.Important)?St.style.setProperty(_t,Lt,en&n.JOm.Important?"important":""):St.style[_t]=Lt}removeStyle(St,_t,Lt){Lt&n.JOm.DashCase?St.style.removeProperty(_t):St.style[_t]=""}setProperty(St,_t,Lt){St[_t]=Lt}setValue(St,_t){St.nodeValue=_t}listen(St,_t,Lt){return"string"==typeof St?this.eventManager.addGlobalEventListener(St,_t,w(Lt)):this.eventManager.addEventListener(St,_t,w(Lt))}}function V(wt){return"TEMPLATE"===wt.tagName&&void 0!==wt.content}class Q extends H{constructor(St,_t,Lt,en){super(St),this.component=Lt;const En=R(en+"-"+Lt.id,Lt.styles);_t.addStyles(En),this.contentAttr=function u(wt){return g.replace(S,wt)}(en+"-"+Lt.id),this.hostAttr=function M(wt){return P.replace(S,wt)}(en+"-"+Lt.id)}applyToHost(St){super.setAttribute(St,this.hostAttr,"")}createElement(St,_t){const Lt=super.createElement(St,_t);return super.setAttribute(Lt,this.contentAttr,""),Lt}}class ie extends H{constructor(St,_t,Lt,en){super(St),this.sharedStylesHost=_t,this.hostEl=Lt,this.shadowRoot=Lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=R(en.id,en.styles);for(let Ft=0;Ft<En.length;Ft++){const Bt=document.createElement("style");Bt.textContent=En[Ft],this.shadowRoot.appendChild(Bt)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(St,_t){return super.appendChild(this.nodeOrShadowRoot(St),_t)}insertBefore(St,_t,Lt){return super.insertBefore(this.nodeOrShadowRoot(St),_t,Lt)}removeChild(St,_t){return super.removeChild(this.nodeOrShadowRoot(St),_t)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}}let ye=(()=>{class wt extends c{constructor(_t){super(_t)}supports(_t){return!0}addEventListener(_t,Lt,en){return _t.addEventListener(Lt,en,!1),()=>this.removeEventListener(_t,Lt,en)}removeEventListener(_t,Lt,en){return _t.removeEventListener(Lt,en)}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(e.K0))},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const G=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:wt=>wt.altKey,control:wt=>wt.ctrlKey,meta:wt=>wt.metaKey,shift:wt=>wt.shiftKey};let Me=(()=>{class wt extends c{constructor(_t){super(_t)}supports(_t){return null!=wt.parseEventName(_t)}addEventListener(_t,Lt,en){const En=wt.parseEventName(Lt),Ft=wt.eventCallback(En.fullKey,en,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(_t,En.domEventName,Ft))}static parseEventName(_t){const Lt=_t.toLowerCase().split("."),en=Lt.shift();if(0===Lt.length||"keydown"!==en&&"keyup"!==en)return null;const En=wt._normalizeKey(Lt.pop());let Ft="",Bt=Lt.indexOf("code");if(Bt>-1&&(Lt.splice(Bt,1),Ft="code."),G.forEach(sn=>{const Zt=Lt.indexOf(sn);Zt>-1&&(Lt.splice(Zt,1),Ft+=sn+".")}),Ft+=En,0!=Lt.length||0===En.length)return null;const vt={};return vt.domEventName=en,vt.fullKey=Ft,vt}static matchEventFullKeyCode(_t,Lt){let en=_e[_t.key]||_t.key,En="";return Lt.indexOf("code.")>-1&&(en=_t.code,En="code."),!(null==en||!en)&&(en=en.toLowerCase()," "===en?en="space":"."===en&&(en="dot"),G.forEach(Ft=>{Ft!==en&&(0,Ie[Ft])(_t)&&(En+=Ft+".")}),En+=en,En===Lt)}static eventCallback(_t,Lt,en){return En=>{wt.matchEventFullKeyCode(En,_t)&&en.runGuarded(()=>Lt(En))}}static _normalizeKey(_t){return"esc"===_t?"escape":_t}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(e.K0))},wt.\u0275prov=n.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const Be=(0,n.eFA)(n._c5,"browser",[{provide:n.Lbi,useValue:e.bD},{provide:n.g9A,useValue:function Ue(){T.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function it(){return(0,n.RDi)(document),document},deps:[]}]),lt=new n.OlP(""),Ye=[{provide:n.rWj,useClass:class l{addToWindow(St){n.dqk.getAngularTestability=(Lt,en=!0)=>{const En=St.findTestabilityInTree(Lt,en);if(null==En)throw new Error("Could not find testability for element.");return En},n.dqk.getAllAngularTestabilities=()=>St.getAllTestabilities(),n.dqk.getAllAngularRootElements=()=>St.getAllRootElements(),n.dqk.frameworkStabilizers||(n.dqk.frameworkStabilizers=[]),n.dqk.frameworkStabilizers.push(Lt=>{const en=n.dqk.getAllAngularTestabilities();let En=en.length,Ft=!1;const Bt=function(vt){Ft=Ft||vt,En--,0==En&&Lt(Ft)};en.forEach(function(vt){vt.whenStable(Bt)})})}findTestabilityInTree(St,_t,Lt){return null==_t?null:St.getTestability(_t)??(Lt?(0,e.q)().isShadowRoot(_t)?this.findTestabilityInTree(St,_t.host,!0):this.findTestabilityInTree(St,_t.parentElement,!0):null)}},deps:[]},{provide:n.lri,useClass:n.dDg,deps:[n.R0b,n.eoX,n.rWj]},{provide:n.dDg,useClass:n.dDg,deps:[n.R0b,n.eoX,n.rWj]}],et=[{provide:n.zSh,useValue:"root"},{provide:n.qLn,useFactory:function He(){return new n.qLn},deps:[]},{provide:h,useClass:ye,multi:!0,deps:[e.K0,n.R0b,n.Lbi]},{provide:h,useClass:Me,multi:!0,deps:[e.K0]},{provide:B,useClass:B,deps:[d,s,n.AFp]},{provide:n.FYo,useExisting:B},{provide:a,useExisting:s},{provide:s,useClass:s,deps:[e.K0]},{provide:d,useClass:d,deps:[h,n.R0b]},{provide:e.JF,useClass:m,deps:[]},[]];let ot=(()=>{class wt{constructor(_t){}static withServerTransition(_t){return{ngModule:wt,providers:[{provide:n.AFp,useValue:_t.appId},{provide:i,useExisting:n.AFp},_]}}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(lt,12))},wt.\u0275mod=n.oAB({type:wt}),wt.\u0275inj=n.cJS({providers:[...et,...Ye],imports:[e.ez,n.hGG]}),wt})(),Z=(()=>{class wt{constructor(_t){this._doc=_t}getTitle(){return this._doc.title}setTitle(_t){this._doc.title=_t||""}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(e.K0))},wt.\u0275prov=n.Yz7({token:wt,factory:function(_t){let Lt=null;return Lt=_t?new _t:function fe(){return new Z((0,n.LFG)(e.K0))}(),Lt},providedIn:"root"}),wt})();typeof window<"u"&&window;let Dn=(()=>{class wt{}return wt.\u0275fac=function(_t){return new(_t||wt)},wt.\u0275prov=n.Yz7({token:wt,factory:function(_t){let Lt=null;return Lt=_t?new(_t||wt):n.LFG(Pn),Lt},providedIn:"root"}),wt})(),Pn=(()=>{class wt extends Dn{constructor(_t){super(),this._doc=_t}sanitize(_t,Lt){if(null==Lt)return null;switch(_t){case n.q3G.NONE:return Lt;case n.q3G.HTML:return(0,n.qzn)(Lt,"HTML")?(0,n.z3N)(Lt):(0,n.EiD)(this._doc,String(Lt)).toString();case n.q3G.STYLE:return(0,n.qzn)(Lt,"Style")?(0,n.z3N)(Lt):Lt;case n.q3G.SCRIPT:if((0,n.qzn)(Lt,"Script"))return(0,n.z3N)(Lt);throw new Error("unsafe value used in a script context");case n.q3G.URL:return(0,n.qzn)(Lt,"URL")?(0,n.z3N)(Lt):(0,n.mCW)(String(Lt));case n.q3G.RESOURCE_URL:if((0,n.qzn)(Lt,"ResourceURL"))return(0,n.z3N)(Lt);throw new Error(`unsafe value used in a resource URL context (see ${n.JZr})`);default:throw new Error(`Unexpected SecurityContext ${_t} (see ${n.JZr})`)}}bypassSecurityTrustHtml(_t){return(0,n.JVY)(_t)}bypassSecurityTrustStyle(_t){return(0,n.L6k)(_t)}bypassSecurityTrustScript(_t){return(0,n.eBb)(_t)}bypassSecurityTrustUrl(_t){return(0,n.LAX)(_t)}bypassSecurityTrustResourceUrl(_t){return(0,n.pB0)(_t)}}return wt.\u0275fac=function(_t){return new(_t||wt)(n.LFG(e.K0))},wt.\u0275prov=n.Yz7({token:wt,factory:function(_t){let Lt=null;return Lt=_t?new _t:function Tn(wt){return new Pn(wt.get(e.K0))}(n.LFG(n.zs3)),Lt},providedIn:"root"}),wt})()},6581:(Je,K,t)=>{"use strict";t.d(K,{gz:()=>Co,m2:()=>kt,OD:()=>bt,Av:()=>no,F0:()=>er,rH:()=>ga,Od:()=>va,Bz:()=>Ea,lC:()=>wo});var e=t(6353),n=t(5254),y=t(1086),T=t(591),v=t(4450),O=t(3426),C=t(1221),E=t(8514),i=t(4843),f=t(1737),_=t(6498),l=t(8896),m=t(1762),h=t(8929),d=t(6895),c=t(4850),a=t(7545),s=t(2986),r=t(1059),o=t(2198),S=t(1709),I=t(7224),x=t(1406),P=t(2994),g=t(7221),u=t(3489);function M(oe,ae){let Y=!1;return arguments.length>=2&&(Y=!0),function(Ae){return Ae.lift(new R(oe,ae,Y))}}class R{constructor(ae,Y,pe=!1){this.accumulator=ae,this.seed=Y,this.hasSeed=pe}call(ae,Y){return Y.subscribe(new w(ae,this.accumulator,this.seed,this.hasSeed))}}class w extends u.L{constructor(ae,Y,pe,Ae){super(ae),this.accumulator=Y,this._seed=pe,this.hasSeed=Ae,this.index=0}get seed(){return this._seed}set seed(ae){this.hasSeed=!0,this._seed=ae}_next(ae){if(this.hasSeed)return this._tryNext(ae);this.seed=ae,this.destination.next(ae)}_tryNext(ae){const Y=this.index++;let pe;try{pe=this.accumulator(this.seed,ae,Y)}catch(Ae){this.destination.error(Ae)}this.seed=pe,this.destination.next(pe)}}var F=t(4231);function B(oe){return function(Y){return 0===oe?(0,l.c)():Y.lift(new H(oe))}}class H{constructor(ae){if(this.total=ae,this.total<0)throw new F.W}call(ae,Y){return Y.subscribe(new $(ae,this.total))}}class $ extends u.L{constructor(ae,Y){super(ae),this.total=Y,this.ring=new Array,this.count=0}_next(ae){const Y=this.ring,pe=this.total,Ae=this.count++;Y.length<pe?Y.push(ae):Y[Ae%pe]=ae}_complete(){const ae=this.destination;let Y=this.count;if(Y>0){const pe=this.count>=this.total?this.total:this.count,Ae=this.ring;for(let at=0;at<pe;at++){const gt=Y++%pe;ae.next(Ae[gt])}}ae.complete()}}var j=t(4907),V=t(7314),Q=t(5379);function ie(oe,ae){const Y=arguments.length>=2;return pe=>pe.pipe(oe?(0,o.h)((Ae,at)=>oe(Ae,at,pe)):Q.y,B(1),Y?(0,V.d)(ae):(0,j.T)(()=>new v.K))}var ye=t(4290);class _e{constructor(ae){this.value=ae}call(ae,Y){return Y.subscribe(new Ie(ae,this.value))}}class Ie extends u.L{constructor(ae,Y){super(ae),this.value=Y}_next(ae){this.destination.next(this.value)}}var Me=t(2654);function Fe(oe){return ae=>ae.lift(new Ve(oe))}class Ve{constructor(ae){this.callback=ae}call(ae,Y){return Y.subscribe(new Pe(ae,this.callback))}}class Pe extends u.L{constructor(ae,Y){super(ae),this.add(new Me.w(Y))}}var xe=t(4327),be=t(9146),Ue=t(1481);const He="primary",it=Symbol("RouteTitle");class je{constructor(ae){this.params=ae||{}}has(ae){return Object.prototype.hasOwnProperty.call(this.params,ae)}get(ae){if(this.has(ae)){const Y=this.params[ae];return Array.isArray(Y)?Y[0]:Y}return null}getAll(ae){if(this.has(ae)){const Y=this.params[ae];return Array.isArray(Y)?Y:[Y]}return[]}get keys(){return Object.keys(this.params)}}function Be(oe){return new je(oe)}function lt(oe,ae,Y){const pe=Y.path.split("/");if(pe.length>oe.length||"full"===Y.pathMatch&&(ae.hasChildren()||pe.length<oe.length))return null;const Ae={};for(let at=0;at<pe.length;at++){const gt=pe[at],Vt=oe[at];if(gt.startsWith(":"))Ae[gt.substring(1)]=Vt;else if(gt!==Vt.path)return null}return{consumed:oe.slice(0,pe.length),posParams:Ae}}function et(oe,ae){const Y=oe?Object.keys(oe):void 0,pe=ae?Object.keys(ae):void 0;if(!Y||!pe||Y.length!=pe.length)return!1;let Ae;for(let at=0;at<Y.length;at++)if(Ae=Y[at],!ot(oe[Ae],ae[Ae]))return!1;return!0}function ot(oe,ae){if(Array.isArray(oe)&&Array.isArray(ae)){if(oe.length!==ae.length)return!1;const Y=[...oe].sort(),pe=[...ae].sort();return Y.every((Ae,at)=>pe[at]===Ae)}return oe===ae}function ge(oe){return Array.prototype.concat.apply([],oe)}function we(oe){return oe.length>0?oe[oe.length-1]:null}function fe(oe,ae){for(const Y in oe)oe.hasOwnProperty(Y)&&ae(oe[Y],Y)}function Z(oe){return(0,e.CqO)(oe)?oe:(0,e.QGY)(oe)?(0,n.D)(Promise.resolve(oe)):(0,y.of)(oe)}const ee=!1,ue={exact:function ft(oe,ae,Y){if(!rt(oe.segments,ae.segments)||!Et(oe.segments,ae.segments,Y)||oe.numberOfChildren!==ae.numberOfChildren)return!1;for(const pe in ae.children)if(!oe.children[pe]||!ft(oe.children[pe],ae.children[pe],Y))return!1;return!0},subset:At},Ce={exact:function Ze(oe,ae){return et(oe,ae)},subset:function Dt(oe,ae){return Object.keys(ae).length<=Object.keys(oe).length&&Object.keys(ae).every(Y=>ot(oe[Y],ae[Y]))},ignored:()=>!0};function pt(oe,ae,Y){return ue[Y.paths](oe.root,ae.root,Y.matrixParams)&&Ce[Y.queryParams](oe.queryParams,ae.queryParams)&&!("exact"===Y.fragment&&oe.fragment!==ae.fragment)}function At(oe,ae,Y){return Wt(oe,ae,ae.segments,Y)}function Wt(oe,ae,Y,pe){if(oe.segments.length>Y.length){const Ae=oe.segments.slice(0,Y.length);return!(!rt(Ae,Y)||ae.hasChildren()||!Et(Ae,Y,pe))}if(oe.segments.length===Y.length){if(!rt(oe.segments,Y)||!Et(oe.segments,Y,pe))return!1;for(const Ae in ae.children)if(!oe.children[Ae]||!At(oe.children[Ae],ae.children[Ae],pe))return!1;return!0}{const Ae=Y.slice(0,oe.segments.length),at=Y.slice(oe.segments.length);return!!(rt(oe.segments,Ae)&&Et(oe.segments,Ae,pe)&&oe.children[He])&&Wt(oe.children[He],ae,at,pe)}}function Et(oe,ae,Y){return ae.every((pe,Ae)=>Ce[Y](oe[Ae].parameters,pe.parameters))}class nt{constructor(ae=new ct([],{}),Y={},pe=null){this.root=ae,this.queryParams=Y,this.fragment=pe}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return ne.serialize(this)}}class ct{constructor(ae,Y){this.segments=ae,this.children=Y,this.parent=null,fe(Y,(pe,Ae)=>pe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $e(this)}}class Xe{constructor(ae,Y){this.path=ae,this.parameters=Y}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return Tn(this)}}function rt(oe,ae){return oe.length===ae.length&&oe.every((Y,pe)=>Y.path===ae[pe].path)}let te=(()=>{class oe{}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:function(){return new J},providedIn:"root"}),oe})();class J{parse(ae){const Y=new Ft(ae);return new nt(Y.parseRootSegment(),Y.parseQueryParams(),Y.parseFragment())}serialize(ae){const Y=`/${Qe(ae.root,!0)}`,pe=function Rn(oe){const ae=Object.keys(oe).map(Y=>{const pe=oe[Y];return Array.isArray(pe)?pe.map(Ae=>`${zt(Y)}=${zt(Ae)}`).join("&"):`${zt(Y)}=${zt(pe)}`}).filter(Y=>!!Y);return ae.length?`?${ae.join("&")}`:""}(ae.queryParams);return`${Y}${pe}${"string"==typeof ae.fragment?`#${function cn(oe){return encodeURI(oe)}(ae.fragment)}`:""}`}}const ne=new J;function $e(oe){return oe.segments.map(ae=>Tn(ae)).join("/")}function Qe(oe,ae){if(!oe.hasChildren())return $e(oe);if(ae){const Y=oe.children[He]?Qe(oe.children[He],!1):"",pe=[];return fe(oe.children,(Ae,at)=>{at!==He&&pe.push(`${at}:${Qe(Ae,!1)}`)}),pe.length>0?`${Y}(${pe.join("//")})`:Y}{const Y=function le(oe,ae){let Y=[];return fe(oe.children,(pe,Ae)=>{Ae===He&&(Y=Y.concat(ae(pe,Ae)))}),fe(oe.children,(pe,Ae)=>{Ae!==He&&(Y=Y.concat(ae(pe,Ae)))}),Y}(oe,(pe,Ae)=>Ae===He?[Qe(oe.children[He],!1)]:[`${Ae}:${Qe(pe,!1)}`]);return 1===Object.keys(oe.children).length&&null!=oe.children[He]?`${$e(oe)}/${Y[0]}`:`${$e(oe)}/(${Y.join("//")})`}}function Tt(oe){return encodeURIComponent(oe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zt(oe){return Tt(oe).replace(/%3B/gi,";")}function an(oe){return Tt(oe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(oe){return decodeURIComponent(oe)}function Dn(oe){return vn(oe.replace(/\+/g,"%20"))}function Tn(oe){return`${an(oe.path)}${function Pn(oe){return Object.keys(oe).map(ae=>`;${an(ae)}=${an(oe[ae])}`).join("")}(oe.parameters)}`}const wt=/^[^\/()?;=#]+/;function St(oe){const ae=oe.match(wt);return ae?ae[0]:""}const _t=/^[^=?&#]+/,en=/^[^&#]+/;class Ft{constructor(ae){this.url=ae,this.remaining=ae}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const ae={};if(this.consumeOptional("?"))do{this.parseQueryParam(ae)}while(this.consumeOptional("&"));return ae}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ae=[];for(this.peekStartsWith("(")||ae.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ae.push(this.parseSegment());let Y={};this.peekStartsWith("/(")&&(this.capture("/"),Y=this.parseParens(!0));let pe={};return this.peekStartsWith("(")&&(pe=this.parseParens(!1)),(ae.length>0||Object.keys(Y).length>0)&&(pe[He]=new ct(ae,Y)),pe}parseSegment(){const ae=St(this.remaining);if(""===ae&&this.peekStartsWith(";"))throw new e.vHH(4009,ee);return this.capture(ae),new Xe(vn(ae),this.parseMatrixParams())}parseMatrixParams(){const ae={};for(;this.consumeOptional(";");)this.parseParam(ae);return ae}parseParam(ae){const Y=St(this.remaining);if(!Y)return;this.capture(Y);let pe="";if(this.consumeOptional("=")){const Ae=St(this.remaining);Ae&&(pe=Ae,this.capture(pe))}ae[vn(Y)]=vn(pe)}parseQueryParam(ae){const Y=function Lt(oe){const ae=oe.match(_t);return ae?ae[0]:""}(this.remaining);if(!Y)return;this.capture(Y);let pe="";if(this.consumeOptional("=")){const gt=function En(oe){const ae=oe.match(en);return ae?ae[0]:""}(this.remaining);gt&&(pe=gt,this.capture(pe))}const Ae=Dn(Y),at=Dn(pe);if(ae.hasOwnProperty(Ae)){let gt=ae[Ae];Array.isArray(gt)||(gt=[gt],ae[Ae]=gt),gt.push(at)}else ae[Ae]=at}parseParens(ae){const Y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const pe=St(this.remaining),Ae=this.remaining[pe.length];if("/"!==Ae&&")"!==Ae&&";"!==Ae)throw new e.vHH(4010,ee);let at;pe.indexOf(":")>-1?(at=pe.slice(0,pe.indexOf(":")),this.capture(at),this.capture(":")):ae&&(at=He);const gt=this.parseChildren();Y[at]=1===Object.keys(gt).length?gt[He]:new ct([],gt),this.consumeOptional("//")}return Y}peekStartsWith(ae){return this.remaining.startsWith(ae)}consumeOptional(ae){return!!this.peekStartsWith(ae)&&(this.remaining=this.remaining.substring(ae.length),!0)}capture(ae){if(!this.consumeOptional(ae))throw new e.vHH(4011,ee)}}function Bt(oe){return oe.segments.length>0?new ct([],{[He]:oe}):oe}function vt(oe){const ae={};for(const pe of Object.keys(oe.children)){const at=vt(oe.children[pe]);(at.segments.length>0||at.hasChildren())&&(ae[pe]=at)}return function sn(oe){if(1===oe.numberOfChildren&&oe.children[He]){const ae=oe.children[He];return new ct(oe.segments.concat(ae.segments),ae.children)}return oe}(new ct(oe.segments,ae))}function Zt(oe){return oe instanceof nt}function An(oe,ae,Y,pe,Ae){if(0===Y.length)return $n(ae.root,ae.root,ae.root,pe,Ae);const at=function ti(oe){if("string"==typeof oe[0]&&1===oe.length&&"/"===oe[0])return new Fn(!0,0,oe);let ae=0,Y=!1;const pe=oe.reduce((Ae,at,gt)=>{if("object"==typeof at&&null!=at){if(at.outlets){const Vt={};return fe(at.outlets,(pn,kn)=>{Vt[kn]="string"==typeof pn?pn.split("/"):pn}),[...Ae,{outlets:Vt}]}if(at.segmentPath)return[...Ae,at.segmentPath]}return"string"!=typeof at?[...Ae,at]:0===gt?(at.split("/").forEach((Vt,pn)=>{0==pn&&"."===Vt||(0==pn&&""===Vt?Y=!0:".."===Vt?ae++:""!=Vt&&Ae.push(Vt))}),Ae):[...Ae,at]},[]);return new Fn(Y,ae,pe)}(Y);return at.toRoot()?$n(ae.root,ae.root,new ct([],{}),pe,Ae):function gt(pn){const kn=function Fi(oe,ae,Y,pe){if(oe.isAbsolute)return new ei(ae.root,!0,0);if(-1===pe)return new ei(Y,Y===ae.root,0);return function hn(oe,ae,Y){let pe=oe,Ae=ae,at=Y;for(;at>Ae;){if(at-=Ae,pe=pe.parent,!pe)throw new e.vHH(4005,!1);Ae=pe.segments.length}return new ei(pe,!1,Ae-at)}(Y,pe+(Bn(oe.commands[0])?0:1),oe.numberOfDoubleDots)}(at,ae,oe.snapshot?._urlSegment,pn),Qn=kn.processChildren?Mi(kn.segmentGroup,kn.index,at.commands):pi(kn.segmentGroup,kn.index,at.commands);return $n(ae.root,kn.segmentGroup,Qn,pe,Ae)}(oe.snapshot?._lastPathIndex)}function Bn(oe){return"object"==typeof oe&&null!=oe&&!oe.outlets&&!oe.segmentPath}function Wn(oe){return"object"==typeof oe&&null!=oe&&oe.outlets}function $n(oe,ae,Y,pe,Ae){let gt,at={};pe&&fe(pe,(pn,kn)=>{at[kn]=Array.isArray(pn)?pn.map(Qn=>`${Qn}`):`${pn}`}),gt=oe===ae?Y:yn(oe,ae,Y);const Vt=Bt(vt(gt));return new nt(Vt,at,Ae)}function yn(oe,ae,Y){const pe={};return fe(oe.children,(Ae,at)=>{pe[at]=Ae===ae?Y:yn(Ae,ae,Y)}),new ct(oe.segments,pe)}class Fn{constructor(ae,Y,pe){if(this.isAbsolute=ae,this.numberOfDoubleDots=Y,this.commands=pe,ae&&pe.length>0&&Bn(pe[0]))throw new e.vHH(4003,!1);const Ae=pe.find(Wn);if(Ae&&Ae!==we(pe))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ei{constructor(ae,Y,pe){this.segmentGroup=ae,this.processChildren=Y,this.index=pe}}function pi(oe,ae,Y){if(oe||(oe=new ct([],{})),0===oe.segments.length&&oe.hasChildren())return Mi(oe,ae,Y);const pe=function Ui(oe,ae,Y){let pe=0,Ae=ae;const at={match:!1,pathIndex:0,commandIndex:0};for(;Ae<oe.segments.length;){if(pe>=Y.length)return at;const gt=oe.segments[Ae],Vt=Y[pe];if(Wn(Vt))break;const pn=`${Vt}`,kn=pe<Y.length-1?Y[pe+1]:null;if(Ae>0&&void 0===pn)break;if(pn&&kn&&"object"==typeof kn&&void 0===kn.outlets){if(!Ht(pn,kn,gt))return at;pe+=2}else{if(!Ht(pn,{},gt))return at;pe++}Ae++}return{match:!0,pathIndex:Ae,commandIndex:pe}}(oe,ae,Y),Ae=Y.slice(pe.commandIndex);if(pe.match&&pe.pathIndex<oe.segments.length){const at=new ct(oe.segments.slice(0,pe.pathIndex),{});return at.children[He]=new ct(oe.segments.slice(pe.pathIndex),oe.children),Mi(at,0,Ae)}return pe.match&&0===Ae.length?new ct(oe.segments,{}):pe.match&&!oe.hasChildren()?di(oe,ae,Y):pe.match?Mi(oe,0,Ae):di(oe,ae,Y)}function Mi(oe,ae,Y){if(0===Y.length)return new ct(oe.segments,{});{const pe=function Kn(oe){return Wn(oe[0])?oe[0].outlets:{[He]:oe}}(Y),Ae={};return fe(pe,(at,gt)=>{"string"==typeof at&&(at=[at]),null!==at&&(Ae[gt]=pi(oe.children[gt],ae,at))}),fe(oe.children,(at,gt)=>{void 0===pe[gt]&&(Ae[gt]=at)}),new ct(oe.segments,Ae)}}function di(oe,ae,Y){const pe=oe.segments.slice(0,ae);let Ae=0;for(;Ae<Y.length;){const at=Y[Ae];if(Wn(at)){const pn=Gi(at.outlets);return new ct(pe,pn)}if(0===Ae&&Bn(Y[0])){pe.push(new Xe(oe.segments[ae].path,jt(Y[0]))),Ae++;continue}const gt=Wn(at)?at.outlets[He]:`${at}`,Vt=Ae<Y.length-1?Y[Ae+1]:null;gt&&Vt&&Bn(Vt)?(pe.push(new Xe(gt,jt(Vt))),Ae+=2):(pe.push(new Xe(gt,{})),Ae++)}return new ct(pe,{})}function Gi(oe){const ae={};return fe(oe,(Y,pe)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(ae[pe]=di(new ct([],{}),0,Y))}),ae}function jt(oe){const ae={};return fe(oe,(Y,pe)=>ae[pe]=`${Y}`),ae}function Ht(oe,ae,Y){return oe==Y.path&&et(ae,Y.parameters)}class tt{constructor(ae,Y){this.id=ae,this.url=Y}}class bt extends tt{constructor(ae,Y,pe="imperative",Ae=null){super(ae,Y),this.type=0,this.navigationTrigger=pe,this.restoredState=Ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kt extends tt{constructor(ae,Y,pe){super(ae,Y),this.urlAfterRedirects=pe,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nn extends tt{constructor(ae,Y,pe,Ae){super(ae,Y),this.reason=pe,this.code=Ae,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ai extends tt{constructor(ae,Y,pe,Ae){super(ae,Y),this.error=pe,this.target=Ae,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ei extends tt{constructor(ae,Y,pe,Ae){super(ae,Y),this.urlAfterRedirects=pe,this.state=Ae,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends tt{constructor(ae,Y,pe,Ae){super(ae,Y),this.urlAfterRedirects=pe,this.state=Ae,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends tt{constructor(ae,Y,pe,Ae,at){super(ae,Y),this.urlAfterRedirects=pe,this.state=Ae,this.shouldActivate=at,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ri extends tt{constructor(ae,Y,pe,Ae){super(ae,Y),this.urlAfterRedirects=pe,this.state=Ae,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends tt{constructor(ae,Y,pe,Ae){super(ae,Y),this.urlAfterRedirects=pe,this.state=Ae,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br{constructor(ae){this.route=ae,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ao{constructor(ae){this.route=ae,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oi{constructor(ae){this.snapshot=ae,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(ae){this.snapshot=ae,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(ae){this.snapshot=ae,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(ae){this.snapshot=ae,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(ae,Y,pe){this.routerEvent=ae,this.position=Y,this.anchor=pe,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ne=(()=>{class oe{createUrlTree(Y,pe,Ae,at,gt,Vt){return An(Y||pe.root,Ae,at,gt,Vt)}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Pt=(()=>{class oe{}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:function(ae){return Ne.\u0275fac(ae)},providedIn:"root"}),oe})();class gn{constructor(ae){this._root=ae}get root(){return this._root.value}parent(ae){const Y=this.pathFromRoot(ae);return Y.length>1?Y[Y.length-2]:null}children(ae){const Y=oi(ae,this._root);return Y?Y.children.map(pe=>pe.value):[]}firstChild(ae){const Y=oi(ae,this._root);return Y&&Y.children.length>0?Y.children[0].value:null}siblings(ae){const Y=Yi(ae,this._root);return Y.length<2?[]:Y[Y.length-2].children.map(Ae=>Ae.value).filter(Ae=>Ae!==ae)}pathFromRoot(ae){return Yi(ae,this._root).map(Y=>Y.value)}}function oi(oe,ae){if(oe===ae.value)return ae;for(const Y of ae.children){const pe=oi(oe,Y);if(pe)return pe}return null}function Yi(oe,ae){if(oe===ae.value)return[ae];for(const Y of ae.children){const pe=Yi(oe,Y);if(pe.length)return pe.unshift(ae),pe}return[]}class zi{constructor(ae,Y){this.value=ae,this.children=Y}toString(){return`TreeNode(${this.value})`}}function Zi(oe){const ae={};return oe&&oe.children.forEach(Y=>ae[Y.value.outlet]=Y),ae}class ar extends gn{constructor(ae,Y){super(ae),this.snapshot=Y,os(this,ae)}toString(){return this.snapshot.toString()}}function lr(oe,ae){const Y=function ps(oe,ae){const gt=new Er([],{},{},"",{},He,ae,null,oe.root,-1,{});return new Uo("",new zi(gt,[]))}(oe,ae),pe=new T.X([new Xe("",{})]),Ae=new T.X({}),at=new T.X({}),gt=new T.X({}),Vt=new T.X(""),pn=new Co(pe,Ae,gt,Vt,at,He,ae,Y.root);return pn.snapshot=Y.root,new ar(new zi(pn,[]),Y)}class Co{constructor(ae,Y,pe,Ae,at,gt,Vt,pn){this.url=ae,this.params=Y,this.queryParams=pe,this.fragment=Ae,this.data=at,this.outlet=gt,this.component=Vt,this.title=this.data?.pipe((0,c.U)(kn=>kn[it]))??(0,y.of)(void 0),this._futureSnapshot=pn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,c.U)(ae=>Be(ae)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,c.U)(ae=>Be(ae)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wr(oe,ae="emptyOnly"){const Y=oe.pathFromRoot;let pe=0;if("always"!==ae)for(pe=Y.length-1;pe>=1;){const Ae=Y[pe],at=Y[pe-1];if(Ae.routeConfig&&""===Ae.routeConfig.path)pe--;else{if(at.component)break;pe--}}return function Lr(oe){return oe.reduce((ae,Y)=>({params:{...ae.params,...Y.params},data:{...ae.data,...Y.data},resolve:{...Y.data,...ae.resolve,...Y.routeConfig?.data,...Y._resolvedData}}),{params:{},data:{},resolve:{}})}(Y.slice(pe))}class Er{constructor(ae,Y,pe,Ae,at,gt,Vt,pn,kn,Qn,wi){this.url=ae,this.params=Y,this.queryParams=pe,this.fragment=Ae,this.data=at,this.outlet=gt,this.component=Vt,this.routeConfig=pn,this._urlSegment=kn,this._lastPathIndex=Qn,this._resolve=wi}get title(){return this.data?.[it]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(pe=>pe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uo extends gn{constructor(ae,Y){super(Y),this.url=ae,os(this,Y)}toString(){return rs(this._root)}}function os(oe,ae){ae.value._routerState=oe,ae.children.forEach(Y=>os(oe,Y))}function rs(oe){const ae=oe.children.length>0?` { ${oe.children.map(rs).join(", ")} } `:"";return`${oe.value}${ae}`}function Cr(oe){if(oe.snapshot){const ae=oe.snapshot,Y=oe._futureSnapshot;oe.snapshot=Y,et(ae.queryParams,Y.queryParams)||oe.queryParams.next(Y.queryParams),ae.fragment!==Y.fragment&&oe.fragment.next(Y.fragment),et(ae.params,Y.params)||oe.params.next(Y.params),function Ye(oe,ae){if(oe.length!==ae.length)return!1;for(let Y=0;Y<oe.length;++Y)if(!et(oe[Y],ae[Y]))return!1;return!0}(ae.url,Y.url)||oe.url.next(Y.url),et(ae.data,Y.data)||oe.data.next(Y.data)}else oe.snapshot=oe._futureSnapshot,oe.data.next(oe._futureSnapshot.data)}function ss(oe,ae){const Y=et(oe.params,ae.params)&&function Ke(oe,ae){return rt(oe,ae)&&oe.every((Y,pe)=>et(Y.parameters,ae[pe].parameters))}(oe.url,ae.url);return Y&&!(!oe.parent!=!ae.parent)&&(!oe.parent||ss(oe.parent,ae.parent))}function cr(oe,ae,Y){if(Y&&oe.shouldReuseRoute(ae.value,Y.value.snapshot)){const pe=Y.value;pe._futureSnapshot=ae.value;const Ae=function As(oe,ae,Y){return ae.children.map(pe=>{for(const Ae of Y.children)if(oe.shouldReuseRoute(pe.value,Ae.value.snapshot))return cr(oe,pe,Ae);return cr(oe,pe)})}(oe,ae,Y);return new zi(pe,Ae)}{if(oe.shouldAttach(ae.value)){const at=oe.retrieve(ae.value);if(null!==at){const gt=at.route;return gt.value._futureSnapshot=ae.value,gt.children=ae.children.map(Vt=>cr(oe,Vt)),gt}}const pe=function ws(oe){return new Co(new T.X(oe.url),new T.X(oe.params),new T.X(oe.queryParams),new T.X(oe.fragment),new T.X(oe.data),oe.outlet,oe.component,oe)}(ae.value),Ae=ae.children.map(at=>cr(oe,at));return new zi(pe,Ae)}}const Sr="ngNavigationCancelingError";function Vi(oe,ae){const{redirectTo:Y,navigationBehaviorOptions:pe}=Zt(ae)?{redirectTo:ae,navigationBehaviorOptions:void 0}:ae,Ae=Or(!1,0,ae);return Ae.url=Y,Ae.navigationBehaviorOptions=pe,Ae}function Or(oe,ae,Y){const pe=new Error("NavigationCancelingError: "+(oe||""));return pe[Sr]=!0,pe.cancellationCode=ae,Y&&(pe.url=Y),pe}function Qo(oe){return ur(oe)&&Zt(oe.url)}function ur(oe){return oe&&oe[Sr]}class go{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jo,this.attachRef=null}}let Jo=(()=>{class oe{constructor(){this.contexts=new Map}onChildOutletCreated(Y,pe){const Ae=this.getOrCreateContext(Y);Ae.outlet=pe,this.contexts.set(Y,Ae)}onChildOutletDestroyed(Y){const pe=this.getContext(Y);pe&&(pe.outlet=null,pe.attachRef=null)}onOutletDeactivated(){const Y=this.contexts;return this.contexts=new Map,Y}onOutletReAttached(Y){this.contexts=Y}getOrCreateContext(Y){let pe=this.getContext(Y);return pe||(pe=new go,this.contexts.set(Y,pe)),pe}getContext(Y){return this.contexts.get(Y)||null}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const Vo=!1;let wo=(()=>{class oe{constructor(){this.activated=null,this._activatedRoute=null,this.name=He,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(Jo),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb)}ngOnChanges(Y){if(Y.name){const{firstChange:pe,previousValue:Ae}=Y.name;if(pe)return;this.isTrackedInParentContexts(Ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ae)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(Y){return this.parentContexts.getContext(Y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Y=this.parentContexts.getContext(this.name);Y?.route&&(Y.attachRef?this.attach(Y.attachRef,Y.route):this.activateWith(Y.route,Y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,Vo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,Vo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,Vo);this.location.detach();const Y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Y.instance),Y}attach(Y,pe){this.activated=Y,this._activatedRoute=pe,this.location.insert(Y.hostView),this.attachEvents.emit(Y.instance)}deactivate(){if(this.activated){const Y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Y)}}activateWith(Y,pe){if(this.isActivated)throw new e.vHH(4013,Vo);this._activatedRoute=Y;const Ae=this.location,gt=Y.snapshot.component,Vt=this.parentContexts.getOrCreateContext(this.name).children,pn=new Xo(Y,Vt,Ae.injector);if(pe&&function Tr(oe){return!!oe.resolveComponentFactory}(pe)){const kn=pe.resolveComponentFactory(gt);this.activated=Ae.createComponent(kn,Ae.length,pn)}else this.activated=Ae.createComponent(gt,{index:Ae.length,injector:pn,environmentInjector:pe??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275dir=e.lG2({type:oe,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]}),oe})();class Xo{constructor(ae,Y,pe){this.route=ae,this.childContexts=Y,this.parent=pe}get(ae,Y){return ae===Co?this.route:ae===Jo?this.childContexts:this.parent.get(ae,Y)}}let Nr=(()=>{class oe{}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(Y,pe){1&Y&&e._UZ(0,"router-outlet")},dependencies:[wo],encapsulation:2}),oe})();function Fr(oe,ae){return oe.providers&&!oe._injector&&(oe._injector=(0,e.MMx)(oe.providers,ae,`Route: ${oe.path}`)),oe._injector??ae}function So(oe){const ae=oe.children&&oe.children.map(So),Y=ae?{...oe,children:ae}:{...oe};return!Y.component&&!Y.loadComponent&&(ae||Y.loadChildren)&&Y.outlet&&Y.outlet!==He&&(Y.component=Nr),Y}function Ii(oe){return oe.outlet||He}function ms(oe,ae){const Y=oe.filter(pe=>Ii(pe)===ae);return Y.push(...oe.filter(pe=>Ii(pe)!==ae)),Y}function Br(oe){if(!oe)return null;if(oe.routeConfig?._injector)return oe.routeConfig._injector;for(let ae=oe.parent;ae;ae=ae.parent){const Y=ae.routeConfig;if(Y?._loadedInjector)return Y._loadedInjector;if(Y?._injector)return Y._injector}return null}class Qi{constructor(ae,Y,pe,Ae){this.routeReuseStrategy=ae,this.futureState=Y,this.currState=pe,this.forwardEvent=Ae}activate(ae){const Y=this.futureState._root,pe=this.currState?this.currState._root:null;this.deactivateChildRoutes(Y,pe,ae),Cr(this.futureState.root),this.activateChildRoutes(Y,pe,ae)}deactivateChildRoutes(ae,Y,pe){const Ae=Zi(Y);ae.children.forEach(at=>{const gt=at.value.outlet;this.deactivateRoutes(at,Ae[gt],pe),delete Ae[gt]}),fe(Ae,(at,gt)=>{this.deactivateRouteAndItsChildren(at,pe)})}deactivateRoutes(ae,Y,pe){const Ae=ae.value,at=Y?Y.value:null;if(Ae===at)if(Ae.component){const gt=pe.getContext(Ae.outlet);gt&&this.deactivateChildRoutes(ae,Y,gt.children)}else this.deactivateChildRoutes(ae,Y,pe);else at&&this.deactivateRouteAndItsChildren(Y,pe)}deactivateRouteAndItsChildren(ae,Y){ae.value.component&&this.routeReuseStrategy.shouldDetach(ae.value.snapshot)?this.detachAndStoreRouteSubtree(ae,Y):this.deactivateRouteAndOutlet(ae,Y)}detachAndStoreRouteSubtree(ae,Y){const pe=Y.getContext(ae.value.outlet),Ae=pe&&ae.value.component?pe.children:Y,at=Zi(ae);for(const gt of Object.keys(at))this.deactivateRouteAndItsChildren(at[gt],Ae);if(pe&&pe.outlet){const gt=pe.outlet.detach(),Vt=pe.children.onOutletDeactivated();this.routeReuseStrategy.store(ae.value.snapshot,{componentRef:gt,route:ae,contexts:Vt})}}deactivateRouteAndOutlet(ae,Y){const pe=Y.getContext(ae.value.outlet),Ae=pe&&ae.value.component?pe.children:Y,at=Zi(ae);for(const gt of Object.keys(at))this.deactivateRouteAndItsChildren(at[gt],Ae);pe&&pe.outlet&&(pe.outlet.deactivate(),pe.children.onOutletDeactivated(),pe.attachRef=null,pe.resolver=null,pe.route=null)}activateChildRoutes(ae,Y,pe){const Ae=Zi(Y);ae.children.forEach(at=>{this.activateRoutes(at,Ae[at.value.outlet],pe),this.forwardEvent(new Yo(at.value.snapshot))}),ae.children.length&&this.forwardEvent(new rr(ae.value.snapshot))}activateRoutes(ae,Y,pe){const Ae=ae.value,at=Y?Y.value:null;if(Cr(Ae),Ae===at)if(Ae.component){const gt=pe.getOrCreateContext(Ae.outlet);this.activateChildRoutes(ae,Y,gt.children)}else this.activateChildRoutes(ae,Y,pe);else if(Ae.component){const gt=pe.getOrCreateContext(Ae.outlet);if(this.routeReuseStrategy.shouldAttach(Ae.snapshot)){const Vt=this.routeReuseStrategy.retrieve(Ae.snapshot);this.routeReuseStrategy.store(Ae.snapshot,null),gt.children.onOutletReAttached(Vt.contexts),gt.attachRef=Vt.componentRef,gt.route=Vt.route.value,gt.outlet&&gt.outlet.attach(Vt.componentRef,Vt.route.value),Cr(Vt.route.value),this.activateChildRoutes(ae,null,gt.children)}else{const Vt=Br(Ae.snapshot),pn=Vt?.get(e._Vd)??null;gt.attachRef=null,gt.route=Ae,gt.resolver=pn,gt.injector=Vt,gt.outlet&&gt.outlet.activateWith(Ae,gt.injector),this.activateChildRoutes(ae,null,gt.children)}}else this.activateChildRoutes(ae,null,pe)}}class Mr{constructor(ae){this.path=ae,this.route=this.path[this.path.length-1]}}class Lo{constructor(ae,Y){this.component=ae,this.route=Y}}function Oo(oe,ae,Y){const pe=oe._root;return De(pe,ae?ae._root:null,Y,[pe.value])}function No(oe,ae){const Y=Symbol(),pe=ae.get(oe,Y);return pe===Y?"function"!=typeof oe||(0,e.Z0I)(oe)?ae.get(oe):oe:pe}function De(oe,ae,Y,pe,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const at=Zi(ae);return oe.children.forEach(gt=>{(function Oe(oe,ae,Y,pe,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const at=oe.value,gt=ae?ae.value:null,Vt=Y?Y.getContext(oe.value.outlet):null;if(gt&&at.routeConfig===gt.routeConfig){const pn=function Te(oe,ae,Y){if("function"==typeof Y)return Y(oe,ae);switch(Y){case"pathParamsChange":return!rt(oe.url,ae.url);case"pathParamsOrQueryParamsChange":return!rt(oe.url,ae.url)||!et(oe.queryParams,ae.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ss(oe,ae)||!et(oe.queryParams,ae.queryParams);default:return!ss(oe,ae)}}(gt,at,at.routeConfig.runGuardsAndResolvers);pn?Ae.canActivateChecks.push(new Mr(pe)):(at.data=gt.data,at._resolvedData=gt._resolvedData),De(oe,ae,at.component?Vt?Vt.children:null:Y,pe,Ae),pn&&Vt&&Vt.outlet&&Vt.outlet.isActivated&&Ae.canDeactivateChecks.push(new Lo(Vt.outlet.component,gt))}else gt&&ht(ae,Vt,Ae),Ae.canActivateChecks.push(new Mr(pe)),De(oe,null,at.component?Vt?Vt.children:null:Y,pe,Ae)})(gt,at[gt.value.outlet],Y,pe.concat([gt.value]),Ae),delete at[gt.value.outlet]}),fe(at,(gt,Vt)=>ht(gt,Y.getContext(Vt),Ae)),Ae}function ht(oe,ae,Y){const pe=Zi(oe),Ae=oe.value;fe(pe,(at,gt)=>{ht(at,Ae.component?ae?ae.children.getContext(gt):null:ae,Y)}),Y.canDeactivateChecks.push(new Lo(Ae.component&&ae&&ae.outlet&&ae.outlet.isActivated?ae.outlet.component:null,Ae))}function on(oe){return"function"==typeof oe}function Ur(oe){return oe instanceof v.K||"EmptyError"===oe?.name}const Ni=Symbol("INITIAL_VALUE");function Fo(){return(0,a.w)(oe=>(0,O.aj)(oe.map(ae=>ae.pipe((0,s.q)(1),(0,r.O)(Ni)))).pipe((0,c.U)(ae=>{for(const Y of ae)if(!0!==Y){if(Y===Ni)return Ni;if(!1===Y||Y instanceof nt)return Y}return!0}),(0,o.h)(ae=>ae!==Ni),(0,s.q)(1)))}function Gs(oe){return(0,i.z)((0,P.b)(ae=>{if(Zt(ae))throw Vi(0,ae)}),(0,c.U)(ae=>!0===ae))}const $o={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ls(oe,ae,Y,pe,Ae){const at=Wo(oe,ae,Y);return at.matched?function Vr(oe,ae,Y,pe){const Ae=ae.canMatch;if(!Ae||0===Ae.length)return(0,y.of)(!0);const at=Ae.map(gt=>{const Vt=No(gt,oe);return Z(function _n(oe){return oe&&on(oe.canMatch)}(Vt)?Vt.canMatch(ae,Y):oe.runInContext(()=>Vt(ae,Y)))});return(0,y.of)(at).pipe(Fo(),Gs())}(pe=Fr(ae,pe),ae,Y).pipe((0,c.U)(gt=>!0===gt?at:{...$o})):(0,y.of)(at)}function Wo(oe,ae,Y){if(""===ae.path)return"full"===ae.pathMatch&&(oe.hasChildren()||Y.length>0)?{...$o}:{matched:!0,consumedSegments:[],remainingSegments:Y,parameters:{},positionalParamSegments:{}};const Ae=(ae.matcher||lt)(Y,oe,ae);if(!Ae)return{...$o};const at={};fe(Ae.posParams,(Vt,pn)=>{at[pn]=Vt.path});const gt=Ae.consumed.length>0?{...at,...Ae.consumed[Ae.consumed.length-1].parameters}:at;return{matched:!0,consumedSegments:Ae.consumed,remainingSegments:Y.slice(Ae.consumed.length),parameters:gt,positionalParamSegments:Ae.posParams??{}}}function hr(oe,ae,Y,pe){if(Y.length>0&&function ho(oe,ae,Y){return Y.some(pe=>qo(oe,ae,pe)&&Ii(pe)!==He)}(oe,Y,pe)){const at=new ct(ae,function pr(oe,ae,Y,pe){const Ae={};Ae[He]=pe,pe._sourceSegment=oe,pe._segmentIndexShift=ae.length;for(const at of Y)if(""===at.path&&Ii(at)!==He){const gt=new ct([],{});gt._sourceSegment=oe,gt._segmentIndexShift=ae.length,Ae[Ii(at)]=gt}return Ae}(oe,ae,pe,new ct(Y,oe.children)));return at._sourceSegment=oe,at._segmentIndexShift=ae.length,{segmentGroup:at,slicedSegments:[]}}if(0===Y.length&&function ls(oe,ae,Y){return Y.some(pe=>qo(oe,ae,pe))}(oe,Y,pe)){const at=new ct(oe.segments,function Qr(oe,ae,Y,pe,Ae){const at={};for(const gt of pe)if(qo(oe,Y,gt)&&!Ae[Ii(gt)]){const Vt=new ct([],{});Vt._sourceSegment=oe,Vt._segmentIndexShift=ae.length,at[Ii(gt)]=Vt}return{...Ae,...at}}(oe,ae,Y,pe,oe.children));return at._sourceSegment=oe,at._segmentIndexShift=ae.length,{segmentGroup:at,slicedSegments:Y}}const Ae=new ct(oe.segments,oe.children);return Ae._sourceSegment=oe,Ae._segmentIndexShift=ae.length,{segmentGroup:Ae,slicedSegments:Y}}function qo(oe,ae,Y){return(!(oe.hasChildren()||ae.length>0)||"full"!==Y.pathMatch)&&""===Y.path}function vi(oe,ae,Y,pe){return!!(Ii(oe)===pe||pe!==He&&qo(ae,Y,oe))&&("**"===oe.path||Wo(ae,oe,Y).matched)}function Dr(oe,ae,Y){return 0===ae.length&&!oe.children[Y]}const xo=!1;class Le{constructor(ae){this.segmentGroup=ae||null}}class Ge{constructor(ae){this.urlTree=ae}}function Gt(oe){return(0,f._)(new Le(oe))}function Ct(oe){return(0,f._)(new Ge(oe))}class xn{constructor(ae,Y,pe,Ae,at){this.injector=ae,this.configLoader=Y,this.urlSerializer=pe,this.urlTree=Ae,this.config=at,this.allowRedirects=!0}apply(){const ae=hr(this.urlTree.root,[],[],this.config).segmentGroup,Y=new ct(ae.segments,ae.children);return this.expandSegmentGroup(this.injector,this.config,Y,He).pipe((0,c.U)(at=>this.createUrlTree(vt(at),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,g.K)(at=>{if(at instanceof Ge)return this.allowRedirects=!1,this.match(at.urlTree);throw at instanceof Le?this.noMatchError(at):at}))}match(ae){return this.expandSegmentGroup(this.injector,this.config,ae.root,He).pipe((0,c.U)(Ae=>this.createUrlTree(vt(Ae),ae.queryParams,ae.fragment))).pipe((0,g.K)(Ae=>{throw Ae instanceof Le?this.noMatchError(Ae):Ae}))}noMatchError(ae){return new e.vHH(4002,xo)}createUrlTree(ae,Y,pe){const Ae=Bt(ae);return new nt(Ae,Y,pe)}expandSegmentGroup(ae,Y,pe,Ae){return 0===pe.segments.length&&pe.hasChildren()?this.expandChildren(ae,Y,pe).pipe((0,c.U)(at=>new ct([],at))):this.expandSegment(ae,pe,Y,pe.segments,Ae,!0)}expandChildren(ae,Y,pe){const Ae=[];for(const at of Object.keys(pe.children))"primary"===at?Ae.unshift(at):Ae.push(at);return(0,n.D)(Ae).pipe((0,x.b)(at=>{const gt=pe.children[at],Vt=ms(Y,at);return this.expandSegmentGroup(ae,Vt,gt,at).pipe((0,c.U)(pn=>({segment:pn,outlet:at})))}),M((at,gt)=>(at[gt.outlet]=gt.segment,at),{}),ie())}expandSegment(ae,Y,pe,Ae,at,gt){return(0,n.D)(pe).pipe((0,x.b)(Vt=>this.expandSegmentAgainstRoute(ae,Y,pe,Vt,Ae,at,gt).pipe((0,g.K)(kn=>{if(kn instanceof Le)return(0,y.of)(null);throw kn}))),(0,I.P)(Vt=>!!Vt),(0,g.K)((Vt,pn)=>{if(Ur(Vt))return Dr(Y,Ae,at)?(0,y.of)(new ct([],{})):Gt(Y);throw Vt}))}expandSegmentAgainstRoute(ae,Y,pe,Ae,at,gt,Vt){return vi(Ae,Y,at,gt)?void 0===Ae.redirectTo?this.matchSegmentAgainstRoute(ae,Y,Ae,at,gt):Vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ae,Y,pe,Ae,at,gt):Gt(Y):Gt(Y)}expandSegmentAgainstRouteUsingRedirect(ae,Y,pe,Ae,at,gt){return"**"===Ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ae,pe,Ae,gt):this.expandRegularSegmentAgainstRouteUsingRedirect(ae,Y,pe,Ae,at,gt)}expandWildCardWithParamsAgainstRouteUsingRedirect(ae,Y,pe,Ae){const at=this.applyRedirectCommands([],pe.redirectTo,{});return pe.redirectTo.startsWith("/")?Ct(at):this.lineralizeSegments(pe,at).pipe((0,S.zg)(gt=>{const Vt=new ct(gt,{});return this.expandSegment(ae,Vt,Y,gt,Ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ae,Y,pe,Ae,at,gt){const{matched:Vt,consumedSegments:pn,remainingSegments:kn,positionalParamSegments:Qn}=Wo(Y,Ae,at);if(!Vt)return Gt(Y);const wi=this.applyRedirectCommands(pn,Ae.redirectTo,Qn);return Ae.redirectTo.startsWith("/")?Ct(wi):this.lineralizeSegments(Ae,wi).pipe((0,S.zg)(io=>this.expandSegment(ae,Y,pe,io.concat(kn),gt,!1)))}matchSegmentAgainstRoute(ae,Y,pe,Ae,at){return"**"===pe.path?(ae=Fr(pe,ae),pe.loadChildren?(pe._loadedRoutes?(0,y.of)({routes:pe._loadedRoutes,injector:pe._loadedInjector}):this.configLoader.loadChildren(ae,pe)).pipe((0,c.U)(Vt=>(pe._loadedRoutes=Vt.routes,pe._loadedInjector=Vt.injector,new ct(Ae,{})))):(0,y.of)(new ct(Ae,{}))):Ls(Y,pe,Ae,ae).pipe((0,a.w)(({matched:gt,consumedSegments:Vt,remainingSegments:pn})=>gt?this.getChildConfig(ae=pe._injector??ae,pe,Ae).pipe((0,S.zg)(Qn=>{const wi=Qn.injector??ae,io=Qn.routes,{segmentGroup:Ms,slicedSegments:_r}=hr(Y,Vt,pn,io),Wr=new ct(Ms.segments,Ms.children);if(0===_r.length&&Wr.hasChildren())return this.expandChildren(wi,io,Wr).pipe((0,c.U)(ia=>new ct(Vt,ia)));if(0===io.length&&0===_r.length)return(0,y.of)(new ct(Vt,{}));const yo=Ii(pe)===at;return this.expandSegment(wi,Wr,io,_r,yo?He:at,!0).pipe((0,c.U)(Ca=>new ct(Vt.concat(Ca.segments),Ca.children)))})):Gt(Y)))}getChildConfig(ae,Y,pe){return Y.children?(0,y.of)({routes:Y.children,injector:ae}):Y.loadChildren?void 0!==Y._loadedRoutes?(0,y.of)({routes:Y._loadedRoutes,injector:Y._loadedInjector}):function Mo(oe,ae,Y,pe){const Ae=ae.canLoad;if(void 0===Ae||0===Ae.length)return(0,y.of)(!0);const at=Ae.map(gt=>{const Vt=No(gt,oe);return Z(function Ji(oe){return oe&&on(oe.canLoad)}(Vt)?Vt.canLoad(ae,Y):oe.runInContext(()=>Vt(ae,Y)))});return(0,y.of)(at).pipe(Fo(),Gs())}(ae,Y,pe).pipe((0,S.zg)(Ae=>Ae?this.configLoader.loadChildren(ae,Y).pipe((0,P.b)(at=>{Y._loadedRoutes=at.routes,Y._loadedInjector=at.injector})):function Cn(oe){return(0,f._)(Or(xo,3))}())):(0,y.of)({routes:[],injector:ae})}lineralizeSegments(ae,Y){let pe=[],Ae=Y.root;for(;;){if(pe=pe.concat(Ae.segments),0===Ae.numberOfChildren)return(0,y.of)(pe);if(Ae.numberOfChildren>1||!Ae.children[He])return(0,f._)(new e.vHH(4e3,xo));Ae=Ae.children[He]}}applyRedirectCommands(ae,Y,pe){return this.applyRedirectCreateUrlTree(Y,this.urlSerializer.parse(Y),ae,pe)}applyRedirectCreateUrlTree(ae,Y,pe,Ae){const at=this.createSegmentGroup(ae,Y.root,pe,Ae);return new nt(at,this.createQueryParams(Y.queryParams,this.urlTree.queryParams),Y.fragment)}createQueryParams(ae,Y){const pe={};return fe(ae,(Ae,at)=>{if("string"==typeof Ae&&Ae.startsWith(":")){const Vt=Ae.substring(1);pe[at]=Y[Vt]}else pe[at]=Ae}),pe}createSegmentGroup(ae,Y,pe,Ae){const at=this.createSegments(ae,Y.segments,pe,Ae);let gt={};return fe(Y.children,(Vt,pn)=>{gt[pn]=this.createSegmentGroup(ae,Vt,pe,Ae)}),new ct(at,gt)}createSegments(ae,Y,pe,Ae){return Y.map(at=>at.path.startsWith(":")?this.findPosParam(ae,at,Ae):this.findOrReturn(at,pe))}findPosParam(ae,Y,pe){const Ae=pe[Y.path.substring(1)];if(!Ae)throw new e.vHH(4001,xo);return Ae}findOrReturn(ae,Y){let pe=0;for(const Ae of Y){if(Ae.path===ae.path)return Y.splice(pe),Ae;pe++}return ae}}class cs{}class ze{constructor(ae,Y,pe,Ae,at,gt,Vt){this.injector=ae,this.rootComponentType=Y,this.config=pe,this.urlTree=Ae,this.url=at,this.paramsInheritanceStrategy=gt,this.urlSerializer=Vt}recognize(){const ae=hr(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,ae,He).pipe((0,c.U)(Y=>{if(null===Y)return null;const pe=new Er([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},He,this.rootComponentType,null,this.urlTree.root,-1,{}),Ae=new zi(pe,Y),at=new Uo(this.url,Ae);return this.inheritParamsAndData(at._root),at}))}inheritParamsAndData(ae){const Y=ae.value,pe=wr(Y,this.paramsInheritanceStrategy);Y.params=Object.freeze(pe.params),Y.data=Object.freeze(pe.data),ae.children.forEach(Ae=>this.inheritParamsAndData(Ae))}processSegmentGroup(ae,Y,pe,Ae){return 0===pe.segments.length&&pe.hasChildren()?this.processChildren(ae,Y,pe):this.processSegment(ae,Y,pe,pe.segments,Ae)}processChildren(ae,Y,pe){return(0,n.D)(Object.keys(pe.children)).pipe((0,x.b)(Ae=>{const at=pe.children[Ae],gt=ms(Y,Ae);return this.processSegmentGroup(ae,gt,at,Ae)}),M((Ae,at)=>Ae&&at?(Ae.push(...at),Ae):null),(0,ye.o)(Ae=>null!==Ae),(0,V.d)(null),ie(),(0,c.U)(Ae=>{if(null===Ae)return null;const at=tn(Ae);return function Se(oe){oe.sort((ae,Y)=>ae.value.outlet===He?-1:Y.value.outlet===He?1:ae.value.outlet.localeCompare(Y.value.outlet))}(at),at}))}processSegment(ae,Y,pe,Ae,at){return(0,n.D)(Y).pipe((0,x.b)(gt=>this.processSegmentAgainstRoute(gt._injector??ae,gt,pe,Ae,at)),(0,I.P)(gt=>!!gt),(0,g.K)(gt=>{if(Ur(gt))return Dr(pe,Ae,at)?(0,y.of)([]):(0,y.of)(null);throw gt}))}processSegmentAgainstRoute(ae,Y,pe,Ae,at){if(Y.redirectTo||!vi(Y,pe,Ae,at))return(0,y.of)(null);let gt;if("**"===Y.path){const Vt=Ae.length>0?we(Ae).parameters:{},pn=Si(pe)+Ae.length,kn=new Er(Ae,Vt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zn(Y),Ii(Y),Y.component??Y._loadedComponent??null,Y,jn(pe),pn,mi(Y));gt=(0,y.of)({snapshot:kn,consumedSegments:[],remainingSegments:[]})}else gt=Ls(pe,Y,Ae,ae).pipe((0,c.U)(({matched:Vt,consumedSegments:pn,remainingSegments:kn,parameters:Qn})=>{if(!Vt)return null;const wi=Si(pe)+pn.length;return{snapshot:new Er(pn,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zn(Y),Ii(Y),Y.component??Y._loadedComponent??null,Y,jn(pe),wi,mi(Y)),consumedSegments:pn,remainingSegments:kn}}));return gt.pipe((0,a.w)(Vt=>{if(null===Vt)return(0,y.of)(null);const{snapshot:pn,consumedSegments:kn,remainingSegments:Qn}=Vt;ae=Y._injector??ae;const wi=Y._loadedInjector??ae,io=function st(oe){return oe.children?oe.children:oe.loadChildren?oe._loadedRoutes:[]}(Y),{segmentGroup:Ms,slicedSegments:_r}=hr(pe,kn,Qn,io.filter(yo=>void 0===yo.redirectTo));if(0===_r.length&&Ms.hasChildren())return this.processChildren(wi,io,Ms).pipe((0,c.U)(yo=>null===yo?null:[new zi(pn,yo)]));if(0===io.length&&0===_r.length)return(0,y.of)([new zi(pn,[])]);const Wr=Ii(Y)===at;return this.processSegment(wi,io,Ms,_r,Wr?He:at).pipe((0,c.U)(yo=>null===yo?null:[new zi(pn,yo)]))}))}}function Nt(oe){const ae=oe.value.routeConfig;return ae&&""===ae.path&&void 0===ae.redirectTo}function tn(oe){const ae=[],Y=new Set;for(const pe of oe){if(!Nt(pe)){ae.push(pe);continue}const Ae=ae.find(at=>pe.value.routeConfig===at.value.routeConfig);void 0!==Ae?(Ae.children.push(...pe.children),Y.add(Ae)):ae.push(pe)}for(const pe of Y){const Ae=tn(pe.children);ae.push(new zi(pe.value,Ae))}return ae.filter(pe=>!Y.has(pe))}function jn(oe){let ae=oe;for(;ae._sourceSegment;)ae=ae._sourceSegment;return ae}function Si(oe){let ae=oe,Y=ae._segmentIndexShift??0;for(;ae._sourceSegment;)ae=ae._sourceSegment,Y+=ae._segmentIndexShift??0;return Y-1}function Zn(oe){return oe.data||{}}function mi(oe){return oe.resolve||{}}function jr(oe){return"string"==typeof oe.title||null===oe.title}function ri(oe){return(0,a.w)(ae=>{const Y=oe(ae);return Y?(0,n.D)(Y).pipe((0,c.U)(()=>ae)):(0,y.of)(ae)})}const Pr=new e.OlP("ROUTES");let ys=(()=>{class oe{constructor(Y,pe){this.injector=Y,this.compiler=pe,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(Y){if(this.componentLoaders.get(Y))return this.componentLoaders.get(Y);if(Y._loadedComponent)return(0,y.of)(Y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Y);const pe=Z(Y.loadComponent()).pipe((0,c.U)(Fs),(0,P.b)(at=>{this.onLoadEndListener&&this.onLoadEndListener(Y),Y._loadedComponent=at}),Fe(()=>{this.componentLoaders.delete(Y)})),Ae=new m.c(pe,()=>new h.xQ).pipe((0,xe.x)());return this.componentLoaders.set(Y,Ae),Ae}loadChildren(Y,pe){if(this.childrenLoaders.get(pe))return this.childrenLoaders.get(pe);if(pe._loadedRoutes)return(0,y.of)({routes:pe._loadedRoutes,injector:pe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(pe);const at=this.loadModuleFactoryOrRoutes(pe.loadChildren).pipe((0,c.U)(Vt=>{this.onLoadEndListener&&this.onLoadEndListener(pe);let pn,kn,Qn=!1;Array.isArray(Vt)?kn=Vt:(pn=Vt.create(Y).injector,kn=ge(pn.get(Pr,[],e.XFs.Self|e.XFs.Optional)));return{routes:kn.map(So),injector:pn}}),Fe(()=>{this.childrenLoaders.delete(pe)})),gt=new m.c(at,()=>new h.xQ).pipe((0,xe.x)());return this.childrenLoaders.set(pe,gt),gt}loadModuleFactoryOrRoutes(Y){return Z(Y()).pipe((0,c.U)(Fs),(0,S.zg)(Ae=>Ae instanceof e.YKP||Array.isArray(Ae)?(0,y.of)(Ae):(0,n.D)(this.compiler.compileModuleAsync(Ae))))}}return oe.\u0275fac=function(Y){return new(Y||oe)(e.LFG(e.zs3),e.LFG(e.Sil))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function Fs(oe){return function bs(oe){return oe&&"object"==typeof oe&&"default"in oe}(oe)?oe.default:oe}let Va=(()=>{class oe{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new h.xQ,this.configLoader=(0,e.f3M)(ys),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(te),this.rootContexts=(0,e.f3M)(Jo),this.navigationId=0,this.configLoader.onLoadEndListener=Ae=>this.events.next(new Ao(Ae)),this.configLoader.onLoadStartListener=Ae=>this.events.next(new br(Ae))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(Y){const pe=++this.navigationId;this.transitions?.next({...this.transitions.value,...Y,id:pe})}setupNavigations(Y){return this.transitions=new T.X({id:0,targetPageId:0,currentUrlTree:Y.currentUrlTree,currentRawUrl:Y.currentUrlTree,extractedUrl:Y.urlHandlingStrategy.extract(Y.currentUrlTree),urlAfterRedirects:Y.urlHandlingStrategy.extract(Y.currentUrlTree),rawUrl:Y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:Y.routerState.snapshot,targetSnapshot:null,currentRouterState:Y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,o.h)(pe=>0!==pe.id),(0,c.U)(pe=>({...pe,extractedUrl:Y.urlHandlingStrategy.extract(pe.rawUrl)})),(0,a.w)(pe=>{let Ae=!1,at=!1;return(0,y.of)(pe).pipe((0,P.b)(gt=>{this.currentNavigation={id:gt.id,initialUrl:gt.rawUrl,extractedUrl:gt.extractedUrl,trigger:gt.source,extras:gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,a.w)(gt=>{const Vt=Y.browserUrlTree.toString(),pn=!Y.navigated||gt.extractedUrl.toString()!==Vt||Vt!==Y.currentUrlTree.toString();if(("reload"===Y.onSameUrlNavigation||pn)&&Y.urlHandlingStrategy.shouldProcessUrl(gt.rawUrl))return Xr(gt.source)&&(Y.browserUrlTree=gt.extractedUrl),(0,y.of)(gt).pipe((0,a.w)(Qn=>{const wi=this.transitions?.getValue();return this.events.next(new bt(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),Qn.source,Qn.restoredState)),wi!==this.transitions?.getValue()?l.E:Promise.resolve(Qn)}),function ui(oe,ae,Y,pe){return(0,a.w)(Ae=>function wn(oe,ae,Y,pe,Ae){return new xn(oe,ae,Y,pe,Ae).apply()}(oe,ae,Y,Ae.extractedUrl,pe).pipe((0,c.U)(at=>({...Ae,urlAfterRedirects:at}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,Y.config),(0,P.b)(Qn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects},pe.urlAfterRedirects=Qn.urlAfterRedirects}),function so(oe,ae,Y,pe,Ae){return(0,S.zg)(at=>function he(oe,ae,Y,pe,Ae,at,gt="emptyOnly"){return new ze(oe,ae,Y,pe,Ae,gt,at).recognize().pipe((0,a.w)(Vt=>null===Vt?function ma(oe){return new _.y(ae=>ae.error(oe))}(new cs):(0,y.of)(Vt)))}(oe,ae,Y,at.urlAfterRedirects,pe.serialize(at.urlAfterRedirects),pe,Ae).pipe((0,c.U)(gt=>({...at,targetSnapshot:gt}))))}(this.environmentInjector,Y.rootComponentType,Y.config,this.urlSerializer,Y.paramsInheritanceStrategy),(0,P.b)(Qn=>{if(pe.targetSnapshot=Qn.targetSnapshot,"eager"===Y.urlUpdateStrategy){if(!Qn.extras.skipLocationChange){const io=Y.urlHandlingStrategy.merge(Qn.urlAfterRedirects,Qn.rawUrl);Y.setBrowserUrl(io,Qn)}Y.browserUrlTree=Qn.urlAfterRedirects}const wi=new Ei(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(wi)}));if(pn&&Y.rawUrlTree&&Y.urlHandlingStrategy.shouldProcessUrl(Y.rawUrlTree)){const{id:wi,extractedUrl:io,source:Ms,restoredState:_r,extras:Wr}=gt,yo=new bt(wi,this.urlSerializer.serialize(io),Ms,_r);this.events.next(yo);const $i=lr(io,Y.rootComponentType).snapshot;return pe={...gt,targetSnapshot:$i,urlAfterRedirects:io,extras:{...Wr,skipLocationChange:!1,replaceUrl:!1}},(0,y.of)(pe)}return Y.rawUrlTree=gt.rawUrl,gt.resolve(null),l.E}),(0,P.b)(gt=>{const Vt=new ii(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Vt)}),(0,c.U)(gt=>pe={...gt,guards:Oo(gt.targetSnapshot,gt.currentSnapshot,this.rootContexts)}),function Yr(oe,ae){return(0,S.zg)(Y=>{const{targetSnapshot:pe,currentSnapshot:Ae,guards:{canActivateChecks:at,canDeactivateChecks:gt}}=Y;return 0===gt.length&&0===at.length?(0,y.of)({...Y,guardsResult:!0}):function jo(oe,ae,Y,pe){return(0,n.D)(oe).pipe((0,S.zg)(Ae=>function ro(oe,ae,Y,pe,Ae){const at=ae&&ae.routeConfig?ae.routeConfig.canDeactivate:null;if(!at||0===at.length)return(0,y.of)(!0);const gt=at.map(Vt=>{const pn=Br(ae)??Ae,kn=No(Vt,pn);return Z(function fr(oe){return oe&&on(oe.canDeactivate)}(kn)?kn.canDeactivate(oe,ae,Y,pe):pn.runInContext(()=>kn(oe,ae,Y,pe))).pipe((0,I.P)())});return(0,y.of)(gt).pipe(Fo())}(Ae.component,Ae.route,Y,ae,pe)),(0,I.P)(Ae=>!0!==Ae,!0))}(gt,pe,Ae,oe).pipe((0,S.zg)(Vt=>Vt&&function Nn(oe){return"boolean"==typeof oe}(Vt)?function Hs(oe,ae,Y,pe){return(0,n.D)(ae).pipe((0,x.b)(Ae=>(0,C.z)(function fo(oe,ae){return null!==oe&&ae&&ae(new Oi(oe)),(0,y.of)(!0)}(Ae.route.parent,pe),function Xi(oe,ae){return null!==oe&&ae&&ae(new sr(oe)),(0,y.of)(!0)}(Ae.route,pe),function as(oe,ae,Y){const pe=ae[ae.length-1],at=ae.slice(0,ae.length-1).reverse().map(gt=>function dr(oe){const ae=oe.routeConfig?oe.routeConfig.canActivateChild:null;return ae&&0!==ae.length?{node:oe,guards:ae}:null}(gt)).filter(gt=>null!==gt).map(gt=>(0,E.P)(()=>{const Vt=gt.guards.map(pn=>{const kn=Br(gt.node)??Y,Qn=No(pn,kn);return Z(function Gr(oe){return oe&&on(oe.canActivateChild)}(Qn)?Qn.canActivateChild(pe,oe):kn.runInContext(()=>Qn(pe,oe))).pipe((0,I.P)())});return(0,y.of)(Vt).pipe(Fo())}));return(0,y.of)(at).pipe(Fo())}(oe,Ae.path,Y),function xr(oe,ae,Y){const pe=ae.routeConfig?ae.routeConfig.canActivate:null;if(!pe||0===pe.length)return(0,y.of)(!0);const Ae=pe.map(at=>(0,E.P)(()=>{const gt=Br(ae)??Y,Vt=No(at,gt);return Z(function To(oe){return oe&&on(oe.canActivate)}(Vt)?Vt.canActivate(ae,oe):gt.runInContext(()=>Vt(ae,oe))).pipe((0,I.P)())}));return(0,y.of)(Ae).pipe(Fo())}(oe,Ae.route,Y))),(0,I.P)(Ae=>!0!==Ae,!0))}(pe,at,oe,ae):(0,y.of)(Vt)),(0,c.U)(Vt=>({...Y,guardsResult:Vt})))})}(this.environmentInjector,gt=>this.events.next(gt)),(0,P.b)(gt=>{if(pe.guardsResult=gt.guardsResult,Zt(gt.guardsResult))throw Vi(0,gt.guardsResult);const Vt=new ao(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot,!!gt.guardsResult);this.events.next(Vt)}),(0,o.h)(gt=>!!gt.guardsResult||(Y.restoreHistory(gt),this.cancelNavigationTransition(gt,"",3,Y),!1)),ri(gt=>{if(gt.guards.canActivateChecks.length)return(0,y.of)(gt).pipe((0,P.b)(Vt=>{const pn=new Ri(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(pn)}),(0,a.w)(Vt=>{let pn=!1;return(0,y.of)(Vt).pipe(function ji(oe,ae){return(0,S.zg)(Y=>{const{targetSnapshot:pe,guards:{canActivateChecks:Ae}}=Y;if(!Ae.length)return(0,y.of)(Y);let at=0;return(0,n.D)(Ae).pipe((0,x.b)(gt=>function Di(oe,ae,Y,pe){const Ae=oe.routeConfig,at=oe._resolve;return void 0!==Ae?.title&&!jr(Ae)&&(at[it]=Ae.title),function gs(oe,ae,Y,pe){const Ae=function Ko(oe){return[...Object.keys(oe),...Object.getOwnPropertySymbols(oe)]}(oe);if(0===Ae.length)return(0,y.of)({});const at={};return(0,n.D)(Ae).pipe((0,S.zg)(gt=>function Jr(oe,ae,Y,pe){const Ae=Br(ae)??pe,at=No(oe,Ae);return Z(at.resolve?at.resolve(ae,Y):Ae.runInContext(()=>at(ae,Y)))}(oe[gt],ae,Y,pe).pipe((0,I.P)(),(0,P.b)(Vt=>{at[gt]=Vt}))),B(1),function G(oe){return ae=>ae.lift(new _e(oe))}(at),(0,g.K)(gt=>Ur(gt)?l.E:(0,f._)(gt)))}(at,oe,ae,pe).pipe((0,c.U)(gt=>(oe._resolvedData=gt,oe.data=wr(oe,Y).resolve,Ae&&jr(Ae)&&(oe.data[it]=Ae.title),null)))}(gt.route,pe,oe,ae)),(0,P.b)(()=>at++),B(1),(0,S.zg)(gt=>at===Ae.length?(0,y.of)(Y):l.E))})}(Y.paramsInheritanceStrategy,this.environmentInjector),(0,P.b)({next:()=>pn=!0,complete:()=>{pn||(Y.restoreHistory(Vt),this.cancelNavigationTransition(Vt,"",2,Y))}}))}),(0,P.b)(Vt=>{const pn=new no(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(pn)}))}),ri(gt=>{const Vt=pn=>{const kn=[];pn.routeConfig?.loadComponent&&!pn.routeConfig._loadedComponent&&kn.push(this.configLoader.loadComponent(pn.routeConfig).pipe((0,P.b)(Qn=>{pn.component=Qn}),(0,c.U)(()=>{})));for(const Qn of pn.children)kn.push(...Vt(Qn));return kn};return(0,O.aj)(Vt(gt.targetSnapshot.root)).pipe((0,V.d)(),(0,s.q)(1))}),ri(()=>Y.afterPreactivation()),(0,c.U)(gt=>{const Vt=function Rs(oe,ae,Y){const pe=cr(oe,ae._root,Y?Y._root:void 0);return new ar(pe,ae)}(Y.routeReuseStrategy,gt.targetSnapshot,gt.currentRouterState);return pe={...gt,targetRouterState:Vt}}),(0,P.b)(gt=>{Y.currentUrlTree=gt.urlAfterRedirects,Y.rawUrlTree=Y.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl),Y.routerState=gt.targetRouterState,"deferred"===Y.urlUpdateStrategy&&(gt.extras.skipLocationChange||Y.setBrowserUrl(Y.rawUrlTree,gt),Y.browserUrlTree=gt.urlAfterRedirects)}),((oe,ae,Y)=>(0,c.U)(pe=>(new Qi(ae,pe.targetRouterState,pe.currentRouterState,Y).activate(oe),pe)))(this.rootContexts,Y.routeReuseStrategy,gt=>this.events.next(gt)),(0,P.b)({next:gt=>{Ae=!0,this.lastSuccessfulNavigation=this.currentNavigation,Y.navigated=!0,this.events.next(new kt(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(Y.currentUrlTree))),Y.titleStrategy?.updateTitle(gt.targetRouterState.snapshot),gt.resolve(!0)},complete:()=>{Ae=!0}}),Fe(()=>{Ae||at||this.cancelNavigationTransition(pe,"",1,Y),this.currentNavigation?.id===pe.id&&(this.currentNavigation=null)}),(0,g.K)(gt=>{if(at=!0,ur(gt)){Qo(gt)||(Y.navigated=!0,Y.restoreHistory(pe,!0));const Vt=new nn(pe.id,this.urlSerializer.serialize(pe.extractedUrl),gt.message,gt.cancellationCode);if(this.events.next(Vt),Qo(gt)){const pn=Y.urlHandlingStrategy.merge(gt.url,Y.rawUrlTree),kn={skipLocationChange:pe.extras.skipLocationChange,replaceUrl:"eager"===Y.urlUpdateStrategy||Xr(pe.source)};Y.scheduleNavigation(pn,"imperative",null,kn,{resolve:pe.resolve,reject:pe.reject,promise:pe.promise})}else pe.resolve(!1)}else{Y.restoreHistory(pe,!0);const Vt=new ai(pe.id,this.urlSerializer.serialize(pe.extractedUrl),gt,pe.targetSnapshot??void 0);this.events.next(Vt);try{pe.resolve(Y.errorHandler(gt))}catch(pn){pe.reject(pn)}}return l.E}))}))}cancelNavigationTransition(Y,pe,Ae,at){const gt=new nn(Y.id,this.urlSerializer.serialize(Y.extractedUrl),pe,Ae);this.events.next(gt),Y.resolve(!1)}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function Xr(oe){return"imperative"!==oe}let Ys=(()=>{class oe{buildTitle(Y){let pe,Ae=Y.root;for(;void 0!==Ae;)pe=this.getResolvedTitleForRoute(Ae)??pe,Ae=Ae.children.find(at=>at.outlet===He);return pe}getResolvedTitleForRoute(Y){return Y.data[it]}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:function(){return(0,e.f3M)(ja)},providedIn:"root"}),oe})(),ja=(()=>{class oe extends Ys{constructor(Y){super(),this.title=Y}updateTitle(Y){const pe=this.buildTitle(Y);void 0!==pe&&this.title.setTitle(pe)}}return oe.\u0275fac=function(Y){return new(Y||oe)(e.LFG(Ue.Dx))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),vo=(()=>{class oe{}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:function(){return(0,e.f3M)(Nl)},providedIn:"root"}),oe})();class Es{shouldDetach(ae){return!1}store(ae,Y){}shouldAttach(ae){return!1}retrieve(ae){return null}shouldReuseRoute(ae,Y){return ae.routeConfig===Y.routeConfig}}let Nl=(()=>{class oe extends Es{}return oe.\u0275fac=function(){let ae;return function(pe){return(ae||(ae=e.n5z(oe)))(pe||oe)}}(),oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const co=new e.OlP("",{providedIn:"root",factory:()=>({})});let $a=(()=>{class oe{}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:function(){return(0,e.f3M)(Wa)},providedIn:"root"}),oe})(),Wa=(()=>{class oe{shouldProcessUrl(Y){return!0}extract(Y){return Y}merge(Y,pe){return Y}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function Fl(oe){throw oe}function ul(oe,ae,Y){return ae.parse("/")}const kl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_a={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class oe{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(co,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Fl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ul,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,y.of)(void 0),this.urlHandlingStrategy=(0,e.f3M)($a),this.routeReuseStrategy=(0,e.f3M)(vo),this.urlCreationStrategy=(0,e.f3M)(Pt),this.titleStrategy=(0,e.f3M)(Ys),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ge((0,e.f3M)(Pr,{optional:!0})??[]),this.navigationTransitions=(0,e.f3M)(Va),this.urlSerializer=(0,e.f3M)(te),this.location=(0,e.f3M)(d.Ye),this.rootComponentType=null,this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lr(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(Y=>{this.lastSuccessfulId=Y.id,this.currentPageId=Y.targetPageId},Y=>{this.console.warn(`Unhandled Navigation Error: ${Y}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(Y){this.rootComponentType=Y,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Y=>{const pe="popstate"===Y.type?"popstate":"hashchange";"popstate"===pe&&setTimeout(()=>{const Ae={replaceUrl:!0},at=Y.state?.navigationId?Y.state:null;if(Y.state){const Vt={...Y.state};delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(Ae.state=Vt)}const gt=this.parseUrl(Y.url);this.scheduleNavigation(gt,pe,at,Ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(Y){this.config=Y.map(So),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Y,pe={}){const{relativeTo:Ae,queryParams:at,fragment:gt,queryParamsHandling:Vt,preserveFragment:pn}=pe,kn=pn?this.currentUrlTree.fragment:gt;let Qn=null;switch(Vt){case"merge":Qn={...this.currentUrlTree.queryParams,...at};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=at||null}return null!==Qn&&(Qn=this.removeEmptyProps(Qn)),this.urlCreationStrategy.createUrlTree(Ae,this.routerState,this.currentUrlTree,Y,Qn,kn??null)}navigateByUrl(Y,pe={skipLocationChange:!1}){const Ae=Zt(Y)?Y:this.parseUrl(Y),at=this.urlHandlingStrategy.merge(Ae,this.rawUrlTree);return this.scheduleNavigation(at,"imperative",null,pe)}navigate(Y,pe={skipLocationChange:!1}){return function dl(oe){for(let ae=0;ae<oe.length;ae++){if(null==oe[ae])throw new e.vHH(4008,!1)}}(Y),this.navigateByUrl(this.createUrlTree(Y,pe),pe)}serializeUrl(Y){return this.urlSerializer.serialize(Y)}parseUrl(Y){let pe;try{pe=this.urlSerializer.parse(Y)}catch(Ae){pe=this.malformedUriErrorHandler(Ae,this.urlSerializer,Y)}return pe}isActive(Y,pe){let Ae;if(Ae=!0===pe?{...kl}:!1===pe?{..._a}:pe,Zt(Y))return pt(this.currentUrlTree,Y,Ae);const at=this.parseUrl(Y);return pt(this.currentUrlTree,at,Ae)}removeEmptyProps(Y){return Object.keys(Y).reduce((pe,Ae)=>{const at=Y[Ae];return null!=at&&(pe[Ae]=at),pe},{})}scheduleNavigation(Y,pe,Ae,at,gt){if(this.disposed)return Promise.resolve(!1);let Vt,pn,kn,Qn;return gt?(Vt=gt.resolve,pn=gt.reject,kn=gt.promise):kn=new Promise((wi,io)=>{Vt=wi,pn=io}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Ae=this.location.getState()),Qn=Ae&&Ae.\u0275routerPageId?Ae.\u0275routerPageId:at.replaceUrl||at.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Qn=0,this.navigationTransitions.handleNavigationRequest({targetPageId:Qn,source:pe,restoredState:Ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Y,extras:at,resolve:Vt,reject:pn,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(wi=>Promise.reject(wi))}setBrowserUrl(Y,pe){const Ae=this.urlSerializer.serialize(Y),at={...pe.extras.state,...this.generateNgRouterState(pe.id,pe.targetPageId)};this.location.isCurrentPathEqualTo(Ae)||pe.extras.replaceUrl?this.location.replaceState(Ae,"",at):this.location.go(Ae,"",at)}restoreHistory(Y,pe=!1){if("computed"===this.canceledNavigationResolution){const Ae=this.currentPageId-Y.targetPageId;"popstate"!==Y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===Ae?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ae&&(this.resetState(Y),this.browserUrlTree=Y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ae)}else"replace"===this.canceledNavigationResolution&&(pe&&this.resetState(Y),this.resetUrlToCurrentUrlTree())}resetState(Y){this.routerState=Y.currentRouterState,this.currentUrlTree=Y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Y,pe){return"computed"===this.canceledNavigationResolution?{navigationId:Y,\u0275routerPageId:pe}:{navigationId:Y}}}return oe.\u0275fac=function(Y){return new(Y||oe)},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),ga=(()=>{class oe{constructor(Y,pe,Ae,at,gt,Vt){this.router=Y,this.route=pe,this.tabIndexAttribute=Ae,this.renderer=at,this.el=gt,this.locationStrategy=Vt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new h.xQ;const pn=gt.nativeElement.tagName;this.isAnchorElement="A"===pn||"AREA"===pn,this.isAnchorElement?this.subscription=Y.events.subscribe(kn=>{kn instanceof kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(Y){this._preserveFragment=(0,e.D6c)(Y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(Y){this._skipLocationChange=(0,e.D6c)(Y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(Y){this._replaceUrl=(0,e.D6c)(Y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(Y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Y)}ngOnChanges(Y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Y){null!=Y?(this.commands=Array.isArray(Y)?Y:[Y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Y,pe,Ae,at,gt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==Y||pe||Ae||at||gt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Y=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Y)}applyAttributeValue(Y,pe){const Ae=this.renderer,at=this.el.nativeElement;null!==pe?Ae.setAttribute(at,Y,pe):Ae.removeAttribute(at,Y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return oe.\u0275fac=function(Y){return new(Y||oe)(e.Y36(er),e.Y36(Co),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(d.S$))},oe.\u0275dir=e.lG2({type:oe,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Y,pe){1&Y&&e.NdJ("click",function(at){return pe.onClick(at.button,at.ctrlKey,at.shiftKey,at.altKey,at.metaKey)}),2&Y&&e.uIk("target",pe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),oe})(),va=(()=>{class oe{constructor(Y,pe,Ae,at,gt){this.router=Y,this.element=pe,this.renderer=Ae,this.cdr=at,this.link=gt,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=Y.events.subscribe(Vt=>{Vt instanceof kt&&this.update()})}ngAfterContentInit(){(0,y.of)(this.links.changes,(0,y.of)(null)).pipe((0,be.J)()).subscribe(Y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Y=[...this.links.toArray(),this.link].filter(pe=>!!pe).map(pe=>pe.onChanges);this.linkInputChangesSubscription=(0,n.D)(Y).pipe((0,be.J)()).subscribe(pe=>{this.isActive!==this.isLinkActive(this.router)(pe)&&this.update()})}set routerLinkActive(Y){const pe=Array.isArray(Y)?Y:Y.split(" ");this.classes=pe.filter(Ae=>!!Ae)}ngOnChanges(Y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const Y=this.hasActiveLinks();this.isActive!==Y&&(this.isActive=Y,this.cdr.markForCheck(),this.classes.forEach(pe=>{Y?this.renderer.addClass(this.element.nativeElement,pe):this.renderer.removeClass(this.element.nativeElement,pe)}),Y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(Y))})}isLinkActive(Y){const pe=function ou(oe){return!!oe.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ae=>!!Ae.urlTree&&Y.isActive(Ae.urlTree,pe)}hasActiveLinks(){const Y=this.isLinkActive(this.router);return this.link&&Y(this.link)||this.links.some(Y)}}return oe.\u0275fac=function(Y){return new(Y||oe)(e.Y36(er),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(ga,8))},oe.\u0275dir=e.lG2({type:oe,selectors:[["","routerLinkActive",""]],contentQueries:function(Y,pe,Ae){if(1&Y&&e.Suo(Ae,ga,5),2&Y){let at;e.iGM(at=e.CRH())&&(pe.links=at)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),oe})();class uo{}let us=(()=>{class oe{constructor(Y,pe,Ae,at,gt){this.router=Y,this.injector=Ae,this.preloadingStrategy=at,this.loader=gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,o.h)(Y=>Y instanceof kt),(0,x.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Y,pe){const Ae=[];for(const at of pe){at.providers&&!at._injector&&(at._injector=(0,e.MMx)(at.providers,Y,`Route: ${at.path}`));const gt=at._injector??Y,Vt=at._loadedInjector??gt;at.loadChildren&&!at._loadedRoutes&&void 0===at.canLoad||at.loadComponent&&!at._loadedComponent?Ae.push(this.preloadConfig(gt,at)):(at.children||at._loadedRoutes)&&Ae.push(this.processRoutes(Vt,at.children??at._loadedRoutes))}return(0,n.D)(Ae).pipe((0,be.J)())}preloadConfig(Y,pe){return this.preloadingStrategy.preload(pe,()=>{let Ae;Ae=pe.loadChildren&&void 0===pe.canLoad?this.loader.loadChildren(Y,pe):(0,y.of)(null);const at=Ae.pipe((0,S.zg)(gt=>null===gt?(0,y.of)(void 0):(pe._loadedRoutes=gt.routes,pe._loadedInjector=gt.injector,this.processRoutes(gt.injector??Y,gt.routes))));if(pe.loadComponent&&!pe._loadedComponent){const gt=this.loader.loadComponent(pe);return(0,n.D)([at,gt]).pipe((0,be.J)())}return at})}}return oe.\u0275fac=function(Y){return new(Y||oe)(e.LFG(er),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(uo),e.LFG(ys))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const Ss=new e.OlP("");let Os=(()=>{class oe{constructor(Y,pe,Ae,at,gt={}){this.urlSerializer=Y,this.transitions=pe,this.viewportScroller=Ae,this.zone=at,this.options=gt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},gt.scrollPositionRestoration=gt.scrollPositionRestoration||"disabled",gt.anchorScrolling=gt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Y=>{Y instanceof bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Y.navigationTrigger,this.restoredId=Y.restoredState?Y.restoredState.navigationId:0):Y instanceof kt&&(this.lastId=Y.id,this.scheduleScrollEvent(Y,this.urlSerializer.parse(Y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Y=>{Y instanceof xt&&(Y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Y.position):Y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Y,pe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xt(Y,"popstate"===this.lastSource?this.store[this.restoredId]:null,pe))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return oe.\u0275fac=function(Y){e.$Z()},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function Ts(oe,ae){return{\u0275kind:oe,\u0275providers:ae}}function mr(){const oe=(0,e.f3M)(e.zs3);return ae=>{const Y=oe.get(e.z2F);if(ae!==Y.components[0])return;const pe=oe.get(er),Ae=oe.get(ya);1===oe.get(es)&&pe.initialNavigation(),oe.get(ki,null,e.XFs.Optional)?.setUpPreloading(),oe.get(Ss,null,e.XFs.Optional)?.init(),pe.resetRootComponentType(Y.componentTypes[0]),Ae.closed||(Ae.next(),Ae.unsubscribe())}}const ya=new e.OlP("",{factory:()=>new h.xQ}),es=new e.OlP("",{providedIn:"root",factory:()=>1});const ki=new e.OlP("");function fl(oe){return Ts(0,[{provide:ki,useExisting:us},{provide:uo,useExisting:oe}])}const Ul=new e.OlP("ROUTER_FORROOT_GUARD"),su=[d.Ye,{provide:te,useClass:J},er,Jo,{provide:Co,useFactory:function Ka(oe){return oe.routerState.root},deps:[er]},ys,[]];function au(){return new e.PXZ("Router",er)}let Ea=(()=>{class oe{constructor(Y){}static forRoot(Y,pe){return{ngModule:oe,providers:[su,[],{provide:Pr,multi:!0,useValue:Y},{provide:Ul,useFactory:qs,deps:[[er,new e.FiY,new e.tp0]]},{provide:co,useValue:pe||{}},pe?.useHash?{provide:d.S$,useClass:d.Do}:{provide:d.S$,useClass:d.b0},{provide:Ss,useFactory:()=>{const oe=(0,e.f3M)(d.EM),ae=(0,e.f3M)(e.R0b),Y=(0,e.f3M)(co),pe=(0,e.f3M)(Va),Ae=(0,e.f3M)(te);return Y.scrollOffset&&oe.setOffset(Y.scrollOffset),new Os(Ae,pe,oe,ae,Y)}},pe?.preloadingStrategy?fl(pe.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:au},pe?.initialNavigation?ea(pe):[],[{provide:ta,useFactory:mr},{provide:e.tb,multi:!0,useExisting:ta}]]}}static forChild(Y){return{ngModule:oe,providers:[{provide:Pr,multi:!0,useValue:Y}]}}}return oe.\u0275fac=function(Y){return new(Y||oe)(e.LFG(Ul,8))},oe.\u0275mod=e.oAB({type:oe}),oe.\u0275inj=e.cJS({imports:[Nr]}),oe})();function qs(oe){return"guarded"}function ea(oe){return["disabled"===oe.initialNavigation?Ts(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const ae=(0,e.f3M)(er);return()=>{ae.setUpLocationChangeListener()}}},{provide:es,useValue:2}]).\u0275providers:[],"enabledBlocking"===oe.initialNavigation?Ts(2,[{provide:es,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:ae=>{const Y=ae.get(d.V_,Promise.resolve());return()=>Y.then(()=>new Promise(Ae=>{const at=ae.get(er),gt=ae.get(ya);(function pe(Ae){ae.get(er).events.pipe((0,o.h)(gt=>gt instanceof kt||gt instanceof nn||gt instanceof ai),(0,c.U)(gt=>gt instanceof kt||gt instanceof nn&&(0===gt.code||1===gt.code)&&null),(0,o.h)(gt=>null!==gt),(0,s.q)(1)).subscribe(()=>{Ae()})})(()=>{Ae(!0)}),at.afterPreactivation=()=>(Ae(!0),gt.closed?(0,y.of)(void 0):gt),at.initialNavigation()}))}}]).\u0275providers:[]]}const ta=new e.OlP("")},9383:(Je,K,t)=>{"use strict";t.d(K,{X$:()=>B,Zw:()=>l,aw:()=>H,sK:()=>w});var e=t(6353),n=t(1086),y=t(4715),T=t(567),v=t(1221),O=t(8514),C=t(2986),E=t(5154),i=t(4850),f=t(1406),_=t(7545);class l{}let m=(()=>{class $ extends l{getTranslation(V){return(0,n.of)({})}}return $.\u0275fac=function(){let j;return function(Q){return(j||(j=e.n5z($)))(Q||$)}}(),$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac}),$})();class h{}let d=(()=>{class ${handle(V){return V.key}}return $.\u0275fac=function(V){return new(V||$)},$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac}),$})();function c($,j){if($===j)return!0;if(null===$||null===j)return!1;if($!=$&&j!=j)return!0;let ie,ye,G,V=typeof $;if(V==typeof j&&"object"==V){if(!Array.isArray($)){if(Array.isArray(j))return!1;for(ye in G=Object.create(null),$){if(!c($[ye],j[ye]))return!1;G[ye]=!0}for(ye in j)if(!(ye in G)&&typeof j[ye]<"u")return!1;return!0}if(!Array.isArray(j))return!1;if((ie=$.length)==j.length){for(ye=0;ye<ie;ye++)if(!c($[ye],j[ye]))return!1;return!0}}return!1}function a($){return typeof $<"u"&&null!==$}function s($){return $&&"object"==typeof $&&!Array.isArray($)}function r($,j){let V=Object.assign({},$);return s($)&&s(j)&&Object.keys(j).forEach(Q=>{s(j[Q])?Q in $?V[Q]=r($[Q],j[Q]):Object.assign(V,{[Q]:j[Q]}):Object.assign(V,{[Q]:j[Q]})}),V}class o{}let S=(()=>{class $ extends o{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(V,Q){let ie;return ie="string"==typeof V?this.interpolateString(V,Q):"function"==typeof V?this.interpolateFunction(V,Q):V,ie}getValue(V,Q){let ie="string"==typeof Q?Q.split("."):[Q];Q="";do{Q+=ie.shift(),!a(V)||!a(V[Q])||"object"!=typeof V[Q]&&ie.length?ie.length?Q+=".":V=void 0:(V=V[Q],Q="")}while(ie.length);return V}interpolateFunction(V,Q){return V(Q)}interpolateString(V,Q){return Q?V.replace(this.templateMatcher,(ie,ye)=>{let G=this.getValue(Q,ye);return a(G)?G:ie}):V}}return $.\u0275fac=function(){let j;return function(Q){return(j||(j=e.n5z($)))(Q||$)}}(),$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac}),$})();class I{}let x=(()=>{class $ extends I{compile(V,Q){return V}compileTranslations(V,Q){return V}}return $.\u0275fac=function(){let j;return function(Q){return(j||(j=e.n5z($)))(Q||$)}}(),$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac}),$})();class P{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.vpe,this.onLangChange=new e.vpe,this.onDefaultLangChange=new e.vpe}}const g=new e.OlP("USE_STORE"),u=new e.OlP("USE_DEFAULT_LANG"),M=new e.OlP("DEFAULT_LANGUAGE"),R=new e.OlP("USE_EXTEND");let w=(()=>{class ${constructor(V,Q,ie,ye,G,_e=!0,Ie=!1,Me=!1,Fe){this.store=V,this.currentLoader=Q,this.compiler=ie,this.parser=ye,this.missingTranslationHandler=G,this.useDefaultLang=_e,this.isolate=Ie,this.extend=Me,this.pending=!1,this._onTranslationChange=new e.vpe,this._onLangChange=new e.vpe,this._onDefaultLangChange=new e.vpe,this._langs=[],this._translations={},this._translationRequests={},Fe&&this.setDefaultLang(Fe)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(V){this.isolate?this._defaultLang=V:this.store.defaultLang=V}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(V){this.isolate?this._currentLang=V:this.store.currentLang=V}get langs(){return this.isolate?this._langs:this.store.langs}set langs(V){this.isolate?this._langs=V:this.store.langs=V}get translations(){return this.isolate?this._translations:this.store.translations}set translations(V){this.isolate?this._translations=V:this.store.translations=V}setDefaultLang(V){if(V===this.defaultLang)return;let Q=this.retrieveTranslations(V);typeof Q<"u"?(null==this.defaultLang&&(this.defaultLang=V),Q.pipe((0,C.q)(1)).subscribe(ie=>{this.changeDefaultLang(V)})):this.changeDefaultLang(V)}getDefaultLang(){return this.defaultLang}use(V){if(V===this.currentLang)return(0,n.of)(this.translations[V]);let Q=this.retrieveTranslations(V);return typeof Q<"u"?(this.currentLang||(this.currentLang=V),Q.pipe((0,C.q)(1)).subscribe(ie=>{this.changeLang(V)}),Q):(this.changeLang(V),(0,n.of)(this.translations[V]))}retrieveTranslations(V){let Q;return(typeof this.translations[V]>"u"||this.extend)&&(this._translationRequests[V]=this._translationRequests[V]||this.getTranslation(V),Q=this._translationRequests[V]),Q}getTranslation(V){this.pending=!0;const Q=this.currentLoader.getTranslation(V).pipe((0,E.d)(1),(0,C.q)(1));return this.loadingTranslations=Q.pipe((0,i.U)(ie=>this.compiler.compileTranslations(ie,V)),(0,E.d)(1),(0,C.q)(1)),this.loadingTranslations.subscribe({next:ie=>{this.translations[V]=this.extend&&this.translations[V]?{...ie,...this.translations[V]}:ie,this.updateLangs(),this.pending=!1},error:ie=>{this.pending=!1}}),Q}setTranslation(V,Q,ie=!1){Q=this.compiler.compileTranslations(Q,V),this.translations[V]=(ie||this.extend)&&this.translations[V]?r(this.translations[V],Q):Q,this.updateLangs(),this.onTranslationChange.emit({lang:V,translations:this.translations[V]})}getLangs(){return this.langs}addLangs(V){V.forEach(Q=>{-1===this.langs.indexOf(Q)&&this.langs.push(Q)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(V,Q,ie){let ye;if(Q instanceof Array){let G={},_e=!1;for(let Ie of Q)G[Ie]=this.getParsedResult(V,Ie,ie),(0,y.b)(G[Ie])&&(_e=!0);if(_e){const Ie=Q.map(Me=>(0,y.b)(G[Me])?G[Me]:(0,n.of)(G[Me]));return(0,T.D)(Ie).pipe((0,i.U)(Me=>{let Fe={};return Me.forEach((Ve,Pe)=>{Fe[Q[Pe]]=Ve}),Fe}))}return G}if(V&&(ye=this.parser.interpolate(this.parser.getValue(V,Q),ie)),typeof ye>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(ye=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Q),ie)),typeof ye>"u"){let G={key:Q,translateService:this};typeof ie<"u"&&(G.interpolateParams=ie),ye=this.missingTranslationHandler.handle(G)}return typeof ye<"u"?ye:Q}get(V,Q){if(!a(V)||!V.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,f.b)(ie=>(ie=this.getParsedResult(ie,V,Q),(0,y.b)(ie)?ie:(0,n.of)(ie))));{let ie=this.getParsedResult(this.translations[this.currentLang],V,Q);return(0,y.b)(ie)?ie:(0,n.of)(ie)}}getStreamOnTranslationChange(V,Q){if(!a(V)||!V.length)throw new Error('Parameter "key" required');return(0,v.z)((0,O.P)(()=>this.get(V,Q)),this.onTranslationChange.pipe((0,_.w)(ie=>{const ye=this.getParsedResult(ie.translations,V,Q);return"function"==typeof ye.subscribe?ye:(0,n.of)(ye)})))}stream(V,Q){if(!a(V)||!V.length)throw new Error('Parameter "key" required');return(0,v.z)((0,O.P)(()=>this.get(V,Q)),this.onLangChange.pipe((0,_.w)(ie=>{const ye=this.getParsedResult(ie.translations,V,Q);return(0,y.b)(ye)?ye:(0,n.of)(ye)})))}instant(V,Q){if(!a(V)||!V.length)throw new Error('Parameter "key" required');let ie=this.getParsedResult(this.translations[this.currentLang],V,Q);if((0,y.b)(ie)){if(V instanceof Array){let ye={};return V.forEach((G,_e)=>{ye[V[_e]]=V[_e]}),ye}return V}return ie}set(V,Q,ie=this.currentLang){this.translations[ie][V]=this.compiler.compile(Q,ie),this.updateLangs(),this.onTranslationChange.emit({lang:ie,translations:this.translations[ie]})}changeLang(V){this.currentLang=V,this.onLangChange.emit({lang:V,translations:this.translations[V]}),null==this.defaultLang&&this.changeDefaultLang(V)}changeDefaultLang(V){this.defaultLang=V,this.onDefaultLangChange.emit({lang:V,translations:this.translations[V]})}reloadLang(V){return this.resetLang(V),this.getTranslation(V)}resetLang(V){this._translationRequests[V]=void 0,this.translations[V]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let V=window.navigator.languages?window.navigator.languages[0]:null;return V=V||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof V>"u"?void 0:(-1!==V.indexOf("-")&&(V=V.split("-")[0]),-1!==V.indexOf("_")&&(V=V.split("_")[0]),V)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let V=window.navigator.languages?window.navigator.languages[0]:null;return V=V||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,V}}return $.\u0275fac=function(V){return new(V||$)(e.LFG(P),e.LFG(l),e.LFG(I),e.LFG(o),e.LFG(h),e.LFG(u),e.LFG(g),e.LFG(R),e.LFG(M))},$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac}),$})(),B=(()=>{class ${constructor(V,Q){this.translate=V,this._ref=Q,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(V,Q,ie){let ye=G=>{this.value=void 0!==G?G:V,this.lastKey=V,this._ref.markForCheck()};if(ie){let G=this.translate.getParsedResult(ie,V,Q);(0,y.b)(G.subscribe)?G.subscribe(ye):ye(G)}this.translate.get(V,Q).subscribe(ye)}transform(V,...Q){if(!V||!V.length)return V;if(c(V,this.lastKey)&&c(Q,this.lastParams))return this.value;let ie;if(a(Q[0])&&Q.length)if("string"==typeof Q[0]&&Q[0].length){let ye=Q[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ie=JSON.parse(ye)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Q[0]}`)}}else"object"==typeof Q[0]&&!Array.isArray(Q[0])&&(ie=Q[0]);return this.lastKey=V,this.lastParams=Q,this.updateValue(V,ie),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(ye=>{this.lastKey&&ye.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(V,ie,ye.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(ye=>{this.lastKey&&(this.lastKey=null,this.updateValue(V,ie,ye.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(V,ie))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return $.\u0275fac=function(V){return new(V||$)(e.Y36(w,16),e.Y36(e.sBO,16))},$.\u0275pipe=e.Yjl({name:"translate",type:$,pure:!1}),$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac}),$})(),H=(()=>{class ${static forRoot(V={}){return{ngModule:$,providers:[V.loader||{provide:l,useClass:m},V.compiler||{provide:I,useClass:x},V.parser||{provide:o,useClass:S},V.missingTranslationHandler||{provide:h,useClass:d},P,{provide:g,useValue:V.isolate},{provide:u,useValue:V.useDefaultLang},{provide:R,useValue:V.extend},{provide:M,useValue:V.defaultLanguage},w]}}static forChild(V={}){return{ngModule:$,providers:[V.loader||{provide:l,useClass:m},V.compiler||{provide:I,useClass:x},V.parser||{provide:o,useClass:S},V.missingTranslationHandler||{provide:h,useClass:d},{provide:g,useValue:V.isolate},{provide:u,useValue:V.useDefaultLang},{provide:R,useValue:V.extend},{provide:M,useValue:V.defaultLanguage},w]}}}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({}),$})()}},Je=>{Je(Je.s=2839)}]);