(self.webpackChunkplaceos=self.webpackChunkplaceos||[]).push([["common"],{3188:(e,n,t)=>{"use strict";t.d(n,{ym:()=>r.y,rq:()=>_,r7:()=>I,ry:()=>h,Vh:()=>m});var r=t(648),a=t(6073),s=t(6925),i=t(1948),o=t(5090),c=t(6280),u=t(847),d=(t(8223),t(8774)),w=t(804);const l=e=>{var n;return(null===(n=e.parent)||void 0===n?void 0:n.get("date"))&&(0,d.Z)(new Date,(0,w.Z)(e.parent.get("date").value,e.value))?{duration:!0}:null};function I(e){const n=new a.cw({id:new a.NI(e.id),host:new a.NI(e.host||"",[a.kI.required]),organiser:new a.NI(e.organiser||{},[a.kI.required]),creator:new a.NI(e.creator,[a.kI.required]),calendar:new a.NI(e.calendar),attendees:new a.NI(e.attendees||[]),resources:new a.NI(e.resources||[]),title:new a.NI(e.title,[a.kI.required]),body:new a.NI(e.body),private:new a.NI(e.private),date:new a.NI(e.date,[a.kI.required]),duration:new a.NI(e.duration,[l]),all_day:new a.NI(e.all_day),recurring:new a.NI(e.recurring),recurrence:new a.NI(e.recurrence),recurring_master_id:new a.NI(e.recurring_master_id),master:new a.NI(e.master),attachments:new a.NI(e.attachments),catering:new a.NI(e.extension_data.catering||[]),visitor_type:new a.NI(e.ext("visitor_type")),location:new a.NI(e.location),needs_space:new a.NI(!0),needs_parking:new a.NI(e.ext("needs_parking")||!1),system:new a.NI(e.system)});return n.get("organiser").valueChanges.subscribe(e=>n.controls.host.setValue(null==e?void 0:e.email)),n.get("resources").valueChanges.subscribe(e=>n.controls.system.setValue(e.length?e[0]:null)),e.id&&(n.get("host").disable(),n.get("organiser").disable()),"started"===e.state&&n.get("date").disable(),n}t(391),(0,s.Z)(function(e,n){(0,c.Z)(2,arguments);var t=(0,o.Z)(e),r=(0,i.Z)(n);return t.setMinutes(r),t}((0,u.Z)(new Date,6),0),{days:-1});var p=t(4554),g=t(2775),N=t(7271),v=t(9996);const y="/api/staff/v1/events";function m(e,n={}){const t=(0,g.U)(n);return(0,p.U2M)(`${y}/${encodeURIComponent(e)}${t?"?"+t:""}`).pipe((0,v.U)(e=>new r.y(e)))}const h=(e,n)=>e.id?function(e,n,t={},a="patch"){const s=(0,g.U)(t);return("patch"===a?p.r$K:p.gzd)(`${y}/${encodeURIComponent(e)}${s?"?"+s:""}`,new r.y(n).toJSON()).pipe((0,v.U)(e=>new r.y(e)))}(e.id,e,n):function(e){return(0,p.v_Q)(`${y}`,new r.y(e).toJSON()).pipe((0,v.U)(e=>new r.y(e)))}(e);function _(e,n,t,r={}){const a=(0,g.U)(Object.assign(Object.assign({},r),{state:t}));return(0,p.v_Q)(`${y}/${encodeURIComponent(e)}/guests/${n}${a?"?"+a:""}`,"").pipe((0,v.U)(e=>new N.OO(e)))}}}]);
//# sourceMappingURL=common.js.map