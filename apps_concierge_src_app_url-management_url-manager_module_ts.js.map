{"version":3,"file":"apps_concierge_src_app_url-management_url-manager_module_ts.js","mappings":"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","sources":["./apps/concierge/src/app/url-management/url-list.component.ts","./apps/concierge/src/app/url-management/url-management.service.ts","./apps/concierge/src/app/url-management/url-manager.component.ts","./apps/concierge/src/app/url-management/url-manager.module.ts","./apps/concierge/src/app/url-management/url-modal.component.ts","./libs/users/src/index.ts","./libs/users/src/lib/location.class.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { UrlManagementService } from './url-management.service';\nimport { SettingsService, ShortURL, getShortUrlQRCode } from '@placeos/common';\n\n@Component({\n    selector: 'short-url-list',\n    template: `\n        <div class=\"absolute inset-0 overflow-auto px-8\">\n            <simple-table\n                class=\"min-w-[64rem] block text-sm\"\n                [data]=\"features\"\n                empty_message=\"No Points of Interest found.\"\n                [columns]=\"[\n                    { key: 'name', name: 'Name' },\n                    { key: 'uri', name: 'URI', content: url_template },\n                    { key: 'user_name', name: 'User Name' },\n                    { key: 'description', name: 'Description' },\n                    {\n                        key: 'actions',\n                        name: ' ',\n                        content: action_template,\n                        size: '7rem',\n                        sortable: false\n                    }\n                ]\"\n                [sortable]=\"true\"\n            ></simple-table>\n            <div class=\"w-full h-12\"></div>\n        </div>\n        <ng-template #url_template let-data=\"data\">\n            <a link [href]=\"data\" class=\"p-4 truncate max-w-[32rem]\">\n                {{ data }}\n            </a>\n        </ng-template>\n        <ng-template #action_template let-row=\"row\">\n            <div class=\"w-full flex justify-end space-x-2 px-4 py-2 mx-auto\">\n                <button\n                    icon\n                    matRipple\n                    customTooltip\n                    [content]=\"qr_menu\"\n                    (click)=\"loadQrCode(row)\"\n                >\n                    <app-icon>qr_code</app-icon>\n                </button>\n                <ng-template #qr_menu>\n                    <div class=\"bg-base-100 py-2 shadow rounded\">\n                        <div class=\"\" printable>\n                            <a\n                                [href]=\"row.uri | safe: 'url'\"\n                                target=\"_blank\"\n                                ref=\"noopener noreferrer\"\n                                class=\"block p-2 mx-4 my-2 rounded-lg border border-base-200 bg-base-100\"\n                            >\n                                <img class=\"w-48 mx-auto\" [src]=\"row.qr_code\" />\n                            </a>\n                            <div\n                                class=\"w-[calc(100%-2rem)] text-center mt-2 font-mono text-sm bg-base-200 rounded p-2 mx-4\"\n                            >\n                                {{ row.name || row.id }}\n                            </div>\n                        </div>\n                        <button\n                            btn\n                            matRipple\n                            class=\"w-[calc(100%-2rem)] mx-4 my-2\"\n                            (click)=\"print()\"\n                        >\n                            Print QR Code\n                        </button>\n                    </div>\n                </ng-template>\n                <button btn icon matRipple [matMenuTriggerFor]=\"menu\">\n                    <app-icon>more_vert</app-icon>\n                </button>\n                <mat-menu #menu=\"matMenu\">\n                    <button mat-menu-item (click)=\"edit(row)\">\n                        <div class=\"flex items-center space-x-2\">\n                            <app-icon>edit</app-icon>\n                            <span>Edit Short URL</span>\n                        </div>\n                    </button>\n                    <button mat-menu-item (click)=\"remove(row)\">\n                        <div class=\"flex items-center space-x-2 text-red-500\">\n                            <app-icon class=\"text-error\">delete</app-icon>\n                            <span>Delete Short URL</span>\n                        </div>\n                    </button>\n                </mat-menu>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class UrlListComponent {\n    public readonly features = this._manager.filtered_urls;\n\n    public readonly edit = (region) => this._manager.editURL(region);\n    public readonly remove = (region) => this._manager.removeURL(region);\n\n    public get kiosk_url() {\n        const path = this._settings.get('app.kiosk_url_path') || '/map-kiosk';\n        return `${window.location.origin}${path}`;\n    }\n\n    public async loadQrCode(item: ShortURL) {\n        (item as any).qr_code = await getShortUrlQRCode(item.id);\n    }\n\n    constructor(\n        private _manager: UrlManagementService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { OrganisationService } from '@placeos/organisation';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, shareReplay, switchMap } from 'rxjs/operators';\nimport { ShortUrlModalComponent } from './url-modal.component';\nimport {\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    queryShortURLs,\n    deleteShortURL,\n    ShortURL,\n} from '@placeos/common';\n\nexport interface UrlListOptions {\n    search?: string;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class UrlManagementService {\n    private _options = new BehaviorSubject<UrlListOptions>({});\n    private _change = new BehaviorSubject(0);\n\n    public options = this._options.asObservable();\n\n    private _url_list = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        switchMap(([bld]) => queryShortURLs({})),\n        shareReplay(1)\n    );\n\n    public readonly filtered_urls = combineLatest([\n        this._url_list,\n        this._options,\n    ]).pipe(\n        map(([list, options]) =>\n            list.filter(\n                (i) =>\n                    !options.search ||\n                    i.name.toLowerCase().includes(options.search.toLowerCase())\n            )\n        )\n    );\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    public setFilters(options: Partial<UrlListOptions>) {\n        this._options.next({ ...this._options.getValue(), ...options });\n    }\n\n    public setSearchString(search: string) {\n        this._options.next({ ...this._options.getValue(), search });\n    }\n\n    public editURL(url?: ShortURL) {\n        const ref = this._dialog.open(ShortUrlModalComponent, {\n            data: url,\n        });\n        ref.afterClosed().subscribe(() => this._change.next(Date.now()));\n    }\n\n    public async removeURL(url: ShortURL) {\n        const ref = await openConfirmModal(\n            {\n                title: 'Remove Short URL',\n                content: `Are you sure you want to remove the Short URL \"${url.name}\"?`,\n                icon: { content: 'delete_forever' },\n                confirm_text: 'Remove',\n            },\n            this._dialog\n        );\n        if (ref.reason !== 'done') return ref.close();\n        ref.loading('Removing Short URL...');\n        await deleteShortURL(url.id)\n            .toPromise()\n            .catch((e) => {\n                notifyError(`Error removing Short URL: ${e.message}`);\n                ref.close();\n                throw e;\n            });\n        notifySuccess('Successfully removed Short URL.');\n        ref.close();\n        this._change.next(Date.now());\n    }\n}\n","import { Component } from '@angular/core';\nimport { UrlManagementService } from './url-management.service';\n\n@Component({\n    selector: '[app-short-url-manager]',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"flex flex-col flex-1 w-1/2 h-full\">\n                <header\n                    class=\"flex items-center justify-between mb-2 px-8 py-4\"\n                >\n                    <h2 class=\"text-2xl font-medium\">Short URL Management</h2>\n                    <button btn matRipple (click)=\"new()\">Add Short URL</button>\n                </header>\n                <short-url-list\n                    class=\"block w-full relative flex-1 h-1/2\"\n                ></short-url-list>\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: var(--b1);\n            }\n\n            sidebar {\n                height: 100%;\n            }\n\n            main {\n                display: flex;\n                flex-direction: column;\n                flex: 1;\n                min-width: 50%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class UrlManagerComponent {\n    public readonly new = () => this._state.editURL();\n\n    constructor(private readonly _state: UrlManagementService) {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { UIModule } from '../ui/ui.module';\n\nimport { SharedSpacesModule } from '@placeos/spaces';\nimport { SharedUsersModule } from '@placeos/users';\n\nimport { UrlManagerComponent } from './url-manager.component';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { UrlListComponent } from './url-list.component';\nimport { ShortUrlModalComponent } from './url-modal.component';\n\nconst ROUTES: Route[] = [\n    { path: '', component: UrlManagerComponent },\n    { path: 'new', component: UrlManagerComponent },\n];\n\n@NgModule({\n    declarations: [\n        UrlManagerComponent,\n        UrlListComponent,\n        ShortUrlModalComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        UIModule,\n        SharedSpacesModule,\n        SharedUsersModule,\n        MatChipsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class UrlManagerModule {}\n","import { Component, Inject } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport {\n    AsyncHandler,\n    ShortURL,\n    getInvalidFields,\n    notifyError,\n    randomString,\n    saveShortURL,\n} from '@placeos/common';\nimport { OrganisationService, Building } from '@placeos/organisation';\nimport { showMetadata, updateMetadata } from '@placeos/ts-client';\nimport { addYears, startOfDay } from 'date-fns';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'short-url-modal',\n    template: `\n        <header>\n            <h2>{{ form.value.id ? 'Edit' : 'Add' }} Short URL</h2>\n            <button btn icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"max-h-[65vh] overflow-y-auto overflow-x-hidden p-4\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <form\n                system\n                class=\"flex flex-col w-[28rem] max-w-[calc(100vw-4rem)]\"\n                *ngIf=\"form\"\n                [formGroup]=\"form\"\n            >\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label for=\"name\" i18n=\"@@nameLabel\">\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Name\"\n                            i18n-placeholder=\"@@namePlaceholder\"\n                            formControlName=\"name\"\n                        />\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex flex-col pb-4\"\n                    *ngIf=\"form.controls.description\"\n                >\n                    <label for=\"description\" i18n=\"@@nameLabel\">\n                        Description:\n                    </label>\n                    <rich-text-input\n                        name=\"description\"\n                        formControlName=\"description\"\n                    ></rich-text-input>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.uri\">\n                    <label for=\"uri\" i18n=\"@@nameLabel\">\n                        URI<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"uri\"\n                            placeholder=\"URI\"\n                            i18n-placeholder=\"@@uriPlaceholder\"\n                            formControlName=\"uri\"\n                        />\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col pb-4\" *ngIf=\"form.controls.enabled\">\n                    <mat-checkbox formControlName=\"enabled\">\n                        Enabled\n                    </mat-checkbox>\n                </div>\n                <!-- <div class=\"flex flex-col\" *ngIf=\"form.controls.valid_from\">\n                    <label for=\"uri\" i18n=\"@@nameLabel\"> Valid From: </label>\n                    <a-date-field formControlName=\"valid_from\"></a-date-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.valid_to\">\n                    <label for=\"uri\" i18n=\"@@nameLabel\">\n                        Valid Until<span>*</span>:\n                    </label>\n                    <a-date-field\n                        formControlName=\"valid_from\"\n                        [from]=\"form.value.valid_from\"\n                    ></a-date-field>\n                </div> -->\n            </form>\n        </main>\n        <footer\n            class=\"p-2 flex justify-end border-t border-base-200\"\n            *ngIf=\"!loading\"\n        >\n            <button btn class=\"w-32\" (click)=\"save()\">Save</button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center justify-center w-64 h-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p class=\"mt-4\">Saving Short URL...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ShortUrlModalComponent extends AsyncHandler {\n    public loading = false;\n\n    public readonly form = new FormGroup({\n        id: new FormControl(this._data?.id || ''),\n        name: new FormControl(this._data?.name || '', [Validators.required]),\n        description: new FormControl(this._data?.description || '', []),\n        uri: new FormControl(this._data?.uri || '', [Validators.required]),\n        enabled: new FormControl(this._data?.enabled ?? true, []),\n        // valid_from: new FormControl(\n        //     this._data?.valid_from || startOfDay(Date.now()).valueOf(),\n        //     []\n        // ),\n        // valid_to: new FormControl(\n        //     this._data?.valid_to ||\n        //         addYears(startOfDay(Date.now()).valueOf(), 10),\n        //     []\n        // ),\n    });\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: ShortURL | undefined,\n        private _dialog_ref: MatDialogRef<ShortUrlModalComponent>\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {}\n\n    public async save() {\n        if (!this.form.valid) {\n            return notifyError(\n                `Some form fields are invalid. [${getInvalidFields(\n                    this.form\n                ).join(', ')}]`\n            );\n        }\n        const data: any = this.form.getRawValue();\n        this.loading = true;\n        const resp = await saveShortURL(data)\n            .toPromise()\n            .catch((e) => notifyError(`Error saving Short URL: ${e.message}`));\n        if ((resp as any).id) this._dialog_ref.close(resp);\n        this.loading = false;\n    }\n}\n","export * from './lib/users.module';\nexport * from './lib/new-user-modal.component';\nexport * from './lib/find-availability-modal/find-availability-modal.component';\nexport * from './lib/user-form.component';\nexport * from './lib/location.class';\nexport * from './lib/user.class';\nexport * from './lib/user.utilities';\nexport * from './lib/users.module';\nexport * from './lib/guests.fn';\nexport * from './lib/staff.fn';\n","import { HashMap } from '@placeos/common';\nimport { getUnixTime } from 'date-fns';\n\nexport class MapLocation {\n    /** Source that the location was generated */\n    public type: 'desk' | 'wireless' | 'meeting' | 'other';\n    /** Details of the location */\n    public position: string | { x: number, y: number };\n    /** Accuracy of the location data */\n    public variance: number;\n    /** Unix epoch in seconds that the data was last updated */\n    public last_seen: number;\n    /** ID of the level associated with the location */\n    public level: string;\n    /** ID of the building associated with the location */\n    public building: string;\n    /** Whether user is currently at the location if fixed */\n    public at_location: boolean;\n    /**  */\n    public coordinates_from:\n        | 'top-left'\n        | 'top-right'\n        | 'bottom-left'\n        | 'bottom-right';\n\n    constructor(_data: HashMap = {}) {\n        this.type = _data.type || _data.location || 'other';\n        this.position = _data.position ||\n            _data.map_id || _data.asset_id || {\n                x: _data.x / _data.map_width || 0,\n                y: _data.y / _data.map_height || 0,\n            };\n        this.variance = _data.variance || 0;\n        this.last_seen = _data.last_seen || getUnixTime(new Date());\n        this.level = _data.level;\n        this.building = _data.building;\n        this.at_location = !!_data.at_location;\n        this.coordinates_from = _data.coordinates_from || 'top-left';\n    }\n}\n"],"names":["UrlManagementService","SettingsService","getShortUrlQRCode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","data_r1","ɵɵsanitizeUrl","ɵɵadvance","ɵɵtextInterpolate1","ɵɵelement","ɵɵlistener","UrlListComponent_ng_template_5_ng_template_4_Template_button_click_7_listener","ɵɵrestoreView","_r5","ctx_r3","ɵɵnextContext","ɵɵresetView","print","ɵɵpipeBind2","row_r3","uri","qr_code","name","id","UrlListComponent_ng_template_5_Template_button_click_1_listener","_r2","row","loadQrCode","ɵɵtemplate","UrlListComponent_ng_template_5_ng_template_4_Template","ɵɵtemplateRefExtractor","UrlListComponent_ng_template_5_Template_button_click_11_listener","edit","UrlListComponent_ng_template_5_Template_button_click_17_listener","remove","qr_menu_r6","menu_r7","UrlListComponent","kiosk_url","path","_settings","get","window","location","origin","item","_asyncToGenerator","constructor","_manager","features","filtered_urls","region","editURL","removeURL","_","ɵɵdirectiveInject","i1","i2","_2","selectors","decls","vars","consts","template","UrlListComponent_Template","rf","ctx","UrlListComponent_ng_template_3_Template","UrlListComponent_ng_template_5_Template","ɵɵpureFunction5","_c5","ɵɵpureFunction0","_c0","ɵɵpureFunction1","_c1","url_template_r8","_c2","_c3","_c4","action_template_r9","MatDialog","OrganisationService","BehaviorSubject","combineLatest","map","shareReplay","switchMap","ShortUrlModalComponent","notifyError","notifySuccess","openConfirmModal","queryShortURLs","deleteShortURL","_org","_dialog","_options","_change","options","asObservable","_url_list","active_building","pipe","bld","list","filter","i","search","toLowerCase","includes","setFilters","next","getValue","setSearchString","url","ref","open","data","afterClosed","subscribe","Date","now","_this","title","content","icon","confirm_text","reason","close","loading","toPromise","catch","e","message","ɵɵinject","factory","ɵfac","providedIn","UrlManagerComponent","_state","new","attrs","UrlManagerComponent_Template","UrlManagerComponent_Template_button_click_7_listener","CommonModule","FormsModule","RouterModule","UIModule","SharedSpacesModule","SharedUsersModule","MatChipsModule","ROUTES","component","UrlManagerModule","_3","forChild","declarations","imports","FormControl","FormGroup","Validators","MAT_DIALOG_DATA","MatDialogRef","AsyncHandler","ShortURL","getInvalidFields","saveShortURL","ɵɵi18nStart","ɵɵi18nEnd","ɵɵi18n","ShortUrlModalComponent_main_4_form_1_div_1_Template","ShortUrlModalComponent_main_4_form_1_div_2_Template","ShortUrlModalComponent_main_4_form_1_div_3_Template","ShortUrlModalComponent_main_4_form_1_div_4_Template","ctx_r0","form","controls","description","enabled","ShortUrlModalComponent_main_4_form_1_Template","ShortUrlModalComponent_footer_5_Template_button_click_1_listener","save","_data","_dialog_ref","required","ngOnInit","valid","join","getRawValue","resp","ɵɵInheritDefinitionFeature","i18n_0","ngI18nClosureMode","$localize","ShortUrlModalComponent_button_3_Template","ShortUrlModalComponent_main_4_Template","ShortUrlModalComponent_footer_5_Template","ShortUrlModalComponent_ng_template_6_Template","value","load_state_r3","getUnixTime","MapLocation","type","position","map_id","asset_id","x","map_width","y","map_height","variance","last_seen","level","building","at_location","coordinates_from"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}